/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: video.js
 (Apache 2.0 - Copyright Brightcove, Inc.), Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 nodejs-langs (MIT - Copyright Andrew Lawson), shaka-player
 (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
 (http://www.apache.org/licenses/LICENSE-2.0), MIT
 (https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.3.1 (2.88.0)
 Created: 2021-08-31T18:32:35.010Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,u=t.location,o=t.navigator,s=t.setTimeout,c=t.clearTimeout,a=t.setInterval,f=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,_=t.Uint8Array,p=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T,E,S,R,I,C=k(function(n,u){n.exports=function t(n,r,e){function u(s,c){if(!r[s]){if(!n[s]){var a="function"==typeof i&&i;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var f=new h("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var v=r[s]={exports:{}};n[s][0].call(v.exports,function(t){var i=n[s][1][t];return u(i||t)},v,v.exports,t,n,r,e)}return r[s].exports}for(var o="function"==typeof i&&i,s=0;s<e.length;s++)u(e[s]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new h}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),o=t("./util");function c(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,i){this.g.push(t,n,i),this.F()}function f(t,n,i){this.p.push(t,n,i),this.F()}function v(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var i=t.shift(),r=t.shift();n.call(i,r)}}c.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},c.prototype.hasCustomScheduler=function(){return this.v},c.prototype.enableTrampoline=function(){this.I=!0},c.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.I=!1)},c.prototype.haveItemsQueued=function(){return this.l||this.R},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==s)s(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(c.prototype.invokeLater=function(t,n,i){this.I?a.call(this,t,n,i):this.N(function(){s(function(){t.call(n,i)},100)})},c.prototype.invoke=function(t,n,i){this.I?f.call(this,t,n,i):this.N(function(){t.call(n,i)})},c.prototype.settlePromises=function(t){this.I?v.call(this,t):this.N(function(){t.B()})}):(c.prototype.invokeLater=a,c.prototype.invoke=f,c.prototype.settlePromises=v),c.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},c.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},c.prototype.U=function(){this.l=!1},n.exports=c,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.V(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.H(u,u,null,this,t)},s=function(t,n){0==(50397184&this.j)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=r.propagateFromFunction(),t.prototype.G=r.boundValueFunction());var a=i(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.H(n,o,void 0,f,v),a.H(s,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.j=2097152|this.j,this.Z=t):this.j=-2097153&this.j},t.prototype.nt=function(){return 2097152==(2097152&this.j)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.H(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=o;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.H(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.it;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.ot()?n.st().cancel():n.ct();break}var i=t.at;if(null==i||!i.et()){t.ot()?t.st().cancel():t.ct();break}t.ot()&&t.st().cancel(),t.ft(),n=t,t=i}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.St(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=o(t).call(this.G());r===s&&(this.Rt(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.Ct=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,o,s){return function(c){var a=s.G();t:for(var f=0;f<t.length;++f){var v=t[f];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return e(o).call(a,c)}else if("function"==typeof v){var d=e(v).call(a,c);if(d===u)return d;if(d)return e(o).call(a,c)}else if(i.isObject(c)){for(var l=r(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return e(o).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.At=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Dt=function(){},t.prototype.Nt=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},r.prototype.Nt=function(){void 0!==this.At&&(this.At.Dt=null,i.push(this.At))},r.prototype.Ot=function(){if(void 0!==this.At){var t=i.pop(),n=t.Dt;return t.Dt=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Nt,u=t.prototype.Ot,o=t.xt,s=t.prototype.xt,c=t.prototype.Dt;r.deactivateLongStackTraces=function(){t.prototype.Nt=i,t.prototype.Ot=u,t.xt=o,t.prototype.xt=s,t.prototype.Dt=c,n=!1},n=!0,t.prototype.Nt=r.prototype.Nt,t.prototype.Ot=r.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Dt=function(){var t=this.xt();t&&null==t.Dt&&(t.Dt=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,u,o,c=n.Pt,a=n.it,f=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.j=-1048577&t.j|524288},n.prototype.Lt=function(){if(0==(524288&this.j)){this.Ft();var t=this;s(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",r,void 0,this)},n.prototype.Ut=function(){this.j=268435456|this.j},n.prototype.Vt=function(){return 0!=(268435456&this.j)},n.prototype.Mt=function(){if(this.qt()){var t=this.Ht();this.jt(),K("unhandledRejection",u,t,this)}},n.prototype.jt=function(){this.j=262144|this.j},n.prototype.Wt=function(){this.j=-262145&this.j},n.prototype.zt=function(){return(262144&this.j)>0},n.prototype.Ft=function(){this.j=1048576|this.j},n.prototype.$t=function(){this.j=-1048577&this.j,this.zt()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.j)>0},n.prototype.rt=function(t,n,i){return $(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,r=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,C=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=r,n.prototype.Gt=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=j,n.prototype.Rt=W,n.prototype.Gt=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var A=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};y.defineProperty(i,"promise",{value:n.promise}),y.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,y.defineProperty(i,"promise",{value:n.promise}),y.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var O={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:N},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=A(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function L(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?l.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var i=t.vt;void 0===i&&(i=0),t.vt=i+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var i=t.warnings;et.warnings=!!i,I=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function H(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function j(){this.At=new it(this.xt())}function W(t,n){if(g(t)){var i=this.At;if(void 0!==i&&n&&(i=i.Zt),void 0!==i)i.attachExtraTrace(t);else if(!t.tn){var r=G(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"tn",!0)}}}function z(){this.At=void 0}function $(t,i,r){if(et.warnings){var e,u=new f(t);if(i)r.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var o=G(u);u.stack=o.message+"\n"+o.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&Z(r);e&&!u&&(T&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+b(e,t)}else r=n+String(t);"function"==typeof o?o(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function K(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof rt}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function it(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,h),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Zt;for(var r=(t=this.kt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var o=n[r].stack,s=i[o];if(void 0!==s&&s!==r){s>0&&(n[s-1].Zt=void 0,n[s-1].kt=1),n[r].Zt=void 0,n[r].kt=1;var c=r>0?n[r-1]:this;s<t-1?(c.Zt=n[s+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=r-2;f>=0;--f)n[f].kt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],o=-1,s=r.length-1;s>=0;--s)if(r[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=r[s];if(n[e]!==c)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"tn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var i=h.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){h.stackTraceLimit+=6,i(t,n),h.stackTraceLimit-=6}}var r,e=new h;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?o=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return H},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&r.j))return;i&&(i+=" ");var u="",o="";if(n.At){for(var s=n.At.stack.split("\n"),c=X(s),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<s.length;++a)if(s[a]===v){a>0&&(o="\n"+s[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){i=a.fileName,o=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){r=a.fileName,s=a.line;break}}o<0||s<0||!i||!r||i!==r||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&o<=n.line&&n.line<=s)})}},warn:$,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),$(i)},CapturedTrace:it,fireDomEvent:A,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.H(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.H(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.H(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.H(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).H(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).H(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,a=s.notEnumerableProp;function f(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(i,h),i}var d=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(a(this,"message",t.message),a(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return p--,n},c(m,h);var k=h.in;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"in",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,o=e.errorObj,s=t("./catch_filter")(r);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().Ht())}function d(t){if(!f(this,t))return o.e=t,o}function l(t){var e=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(e.G()):s.call(e.G(),t);if(c===r)return c;if(void 0!==c){e.Ut();var v=i(c,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Et()){var l=new u("late cancellation observer");return e.Rt(l),o.e=l,o}v.isPending()&&v.Yt(new a(this))}return v.H(h,d,void 0,this,void 0)}}}return e.isRejected()?(f(this),o.e=t,o):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.rn=function(t,n,i,r){return"function"!=typeof t?this.then():this.H(i,r,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var r,u=new Array(i-1),o=0;for(r=0;r<i-1;++r){var c=arguments[r];if(!e.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[o++]=c}u.length=o;var a=arguments[r];return this.rn(s(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./errors"),c=s.TypeError,a=t("./util"),f=a.errorObj,v=a.tryCatch,l=[];function w(t,i,e,u){if(o.cancellation()){var s=new n(r),c=this.en=new n(r);this.un=s.lastly(function(){return c}),s.Xt(),s.J(this)}else{var a=this.un=new n(r);a.Xt()}this.sn=u,this.cn=t,this.an=i,this.fn=void 0,this.hn="function"==typeof e?[e].concat(l):l,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,o.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,i=void 0!==this.fn.return;if(i)this.un.Nt(),t=v(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.un.Rt(r),this.un.Nt(),t=v(this.fn.throw).call(this.fn,r),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.Nt();var n=v(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.Nt();var n=v(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var i=this.un;if(t===f)return this.wn(),this.dn?i.cancel():i.bn(t.e,!1);var r=t.value;if(!0===t.done)return this.wn(),this.dn?i.cancel():i.W(r);var u=e(r,this.un);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Nt();var o=v(i[u])(t);if(r.Ot(),o===f){r.Nt();var s=n.reject(f.e);return r.Ot(),s}var c=e(o,r);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var o=(u=u.Y()).j;0==(50397184&o)?(this.vn=u,u.Tn(this,null)):0!=(33554432&o)?n.it.invoke(this.pn,this,u.En()):0!=(16777216&o)?n.it.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=w,e=(new h).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),o=u.promise();return u.fn=n,u.pn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));l.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new w(t,this),e=r.promise();return r.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.it;function d(t,n,i,r){this.constructor$(t),this.un.Xt();var e=s();this.Rn=null===e?n:c.domainBind(e,n),this.In=r===u?new Array(this.length()):null,this.Cn=i,this.An=0,this.Dn=[],h.invoke(this.Nn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+c.classString(i));var o=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(e.concurrency)));o=e.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new d(t,i,o,u).promise()}c.inherits(d,i),d.prototype.Nn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.pn=function(t,i){var r=this.On,u=this.length(),s=this.In,c=this.Cn;if(i<0){if(r[i=-1*i-1]=t,c>=1&&(this.An--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.An>=c)return r[i]=t,this.Dn.push(i),!1;null!==s&&(s[i]=t);var h=this.un,v=this.Rn,d=h.G();h.Nt();var l=a(v).call(d,t,i,u),w=h.Ot();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).j;if(0==(50397184&g))return c>=1&&this.An++,r[i]=y,y.Tn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}r[i]=l}var _=++this.Pn;return _>=u&&(null!==s?this.Ln(r,s):this.Fn(r),!0)},d.prototype.xn=function(){for(var t=this.Dn,n=this.Cn,i=this.On;t.length>0&&this.An<n;){if(this.ln())return;var r=t.pop();this.pn(i[r],r)}},d.prototype.Ln=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Fn(r)},d.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var r=new n(i);r.Xt(),r.Nt();var e=s(t).apply(this,arguments),o=r.Ot();return u.checkForgottenReturns(e,o,"Promise.method",r),r.Mn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+o.classString(t));var r,c=new n(i);if(c.Xt(),c.Nt(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];r=o.isArray(a)?s(t).apply(f,a):s(t).call(f,a)}else r=s(t)();var h=c.Ot();return u.checkForgottenReturns(r,h,"Promise.try",c),c.Mn(r),c},n.prototype.Mn=function(t){t===o.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof h&&s.getPrototypeOf(t)===h.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=s.keys(t),e=0;e<i.length;++e){var u=i[e];c.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Rt(u),t.V(u)}else if(n){var o=[].slice.call(arguments,1);t.yn(o)}else t.yn(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.it,e=i.tryCatch,u=i.errorObj;function o(t,n){if(!i.isArray(t))return s.call(this,t,n);var o=e(n).apply(this.G(),[null].concat(t));o===u&&r.throwLater(o.e)}function s(t,n){var i=this.G(),o=void 0===t?e(n).call(i,null):e(n).call(i,null,t);o===u&&r.throwLater(o.e)}function c(t,n){if(!t){var i=new h(t+"");i.cause=t,t=i}var o=e(n).call(this.G(),t);o===u&&r.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=s;void 0!==n&&d(n).spread&&(i=o),this.H(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new A.PromiseInspection(this.Y())},e=function(t){return A.reject(new l(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(A,"Pt",o);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(A,"it",{value:h});var v=t("./errors"),l=A.TypeError=v.TypeError;A.RangeError=v.RangeError;var w=A.CancellationError=v.CancellationError;A.TimeoutError=v.TimeoutError,A.OperationalError=v.OperationalError,A.RejectionError=v.OperationalError,A.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(A,y),m=t("./promise_array")(A,y,p,e,u),k=t("./context")(A),b=k.create,T=t("./debuggability")(A,k),E=(T.CapturedTrace,t("./finally")(A,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function A(t){t!==y&&function(t,n){if(null==t||t.constructor!==A)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.j=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.Hn(t),this.Dt(),this.Qt("promiseCreated",this)}function D(t){this.promise.W(t)}function N(t){this.promise.bn(t,!1)}function O(t){var n=new A(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var o=arguments[i];if(!c.isObject(o))return e("Catch statement predicate: expecting an object but got "+c.classString(o));r[u++]=o}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},A.prototype.reflect=function(){return this.H(r,r,void 0,this,void 0)},A.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.H(t,n,void 0,void 0,void 0)},A.prototype.done=function(t,n){var i=this.H(t,n,void 0,void 0,void 0);i.jn()},A.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().H(t,void 0,void 0,g,void 0)},A.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},A.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new m(this).promise()},A.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},A.getNewLibraryCopy=n.exports,A.is=function(t){return t instanceof A},A.fromNode=A.fromCallback=function(t){var n=new A(y);n.Xt();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=C(t)(R(n,i));return r===I&&n.bn(r.e,!0),n.Wn()||n.zn(),n},A.all=function(t){return new m(t).promise()},A.cast=function(t){var n=p(t);return n instanceof A||((n=new A(y)).Xt(),n.$n(),n.Un=t),n},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(t){var n=new A(y);return n.Xt(),n.bn(t,!0),n},A.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},A.prototype.H=function(t,n,i,r,e){var u=void 0!==e,s=u?e:new A(y),a=this.Y(),f=a.j;u||(s.X(this,3),s.Xt(),void 0===r&&0!=(2097152&this.j)&&(r=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,s));var v=o();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.$t()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:r,value:l})}else a.Yn(t,n,s,r,v);return s},A.prototype.kt=function(){return 65535&this.j},A.prototype.Wn=function(){return 0!=(117506048&this.j)},A.prototype.ot=function(){return 67108864==(67108864&this.j)},A.prototype.Kn=function(t){this.j=-65536&this.j|65535&t},A.prototype.$n=function(){this.j=33554432|this.j,this.Qt("promiseFulfilled",this)},A.prototype.Jn=function(){this.j=16777216|this.j,this.Qt("promiseRejected",this)},A.prototype.Qn=function(){this.j=67108864|this.j,this.Qt("promiseResolved",this)},A.prototype.jn=function(){this.j=4194304|this.j},A.prototype.Zn=function(){return(4194304&this.j)>0},A.prototype.ti=function(){this.j=-65537&this.j},A.prototype._t=function(){this.j=65536|this.j,this.Qt("promiseCancelled",this)},A.prototype.ft=function(){this.j=8388608|this.j},A.prototype.zn=function(){h.hasCustomScheduler()||(this.j=134217728|this.j)},A.prototype.ni=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==s)return void 0===n&&this.nt()?this.G():n},A.prototype.ii=function(t){return this[4*t-4+2]},A.prototype.ri=function(t){return this[4*t-4+0]},A.prototype.ei=function(t){return this[4*t-4+1]},A.prototype.G=function(){},A.prototype.ui=function(t){t.j;var n=t.Bn,i=t.Un,r=t.Vn,e=t.ni(0);void 0===e&&(e=s),this.Yn(n,i,r,e,null)},A.prototype.oi=function(t,n){var i=t.ri(n),r=t.ei(n),e=t.ii(n),u=t.ni(n);void 0===u&&(u=s),this.Yn(i,r,e,u,null)},A.prototype.Yn=function(t,n,i,r,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=i,this.qn=r,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var o=4*u-4;this[o+2]=i,this[o+3]=r,"function"==typeof t&&(this[o+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[o+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},A.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},A.prototype.W=function(t,n){if(0==(117506048&this.j)){if(t===this)return this.bn(i(),!1);var r=p(t,this);if(!(r instanceof A))return this.yn(t);n&&this.X(r,2);var e=r.Y();if(e!==this){var u=e.j;if(0==(50397184&u)){var o=this.kt();o>0&&e.ui(this);for(var s=1;s<o;++s)e.oi(this,s);this.Qn(),this.Kn(0),this.si(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(i())}},A.prototype.bn=function(t,n,i){var r=c.ensureErrorObject(t),e=r===t;if(!e&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.Rt(r,!!n&&e),this.V(t)},A.prototype.Hn=function(t){if(t!==y){var n=this;this.Xt(),this.Nt();var i=!0,r=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,i)});i=!1,this.Ot(),void 0!==r&&n.bn(r,!0)}},A.prototype.ci=function(t,n,i,r){var e=r.j;if(0==(65536&e)){var u;r.Nt(),n===g?i&&"number"==typeof i.length?u=C(t).apply(this.G(),i):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(i)):u=C(t).call(n,i);var o=r.Ot();0==(65536&(e=r.j))&&(u===_?r.V(i):u===I?r.bn(u.e,!1):(T.checkForgottenReturns(u,o,"",r,this),r.W(u)))}},A.prototype.Y=function(){for(var t=this;t.ot();)t=t.st();return t},A.prototype.st=function(){return this.Un},A.prototype.si=function(t){this.Un=t},A.prototype.ai=function(t,n,i,e){var o=t instanceof A,s=this.j,c=0!=(134217728&s);0!=(65536&s)?(o&&t.Ct(),i instanceof E&&i.isFinallyHandler()?(i.cancelPromise=t,C(n).call(i,e)===I&&t.V(I.e)):n===r?t.yn(r.call(i)):i instanceof u?i.gn(t):o||t instanceof m?t.yt():i.cancel()):"function"==typeof n?o?(c&&t.zn(),this.ci(n,i,e,t)):n.call(i,e,t):i instanceof u?i.ln()||(0!=(33554432&s)?i.pn(e,t):i.mn(e,t)):o&&(c&&t.zn(),0!=(33554432&s)?t.yn(e):t.V(e))},A.prototype.Gn=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof A?this.ci(n,r,e,i):n.call(r,e,i):i instanceof A&&i.V(e)},A.prototype.Xn=function(t){this.ai(t.promise,t.handler,t.receiver,t.value)},A.prototype.fi=function(t,n,i){var r=this.Vn,e=this.ni(0);this.Vn=void 0,this.qn=void 0,this.ai(r,t,e,n)},A.prototype.hi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},A.prototype.yn=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Rt(r),this.V(r)}this.$n(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},A.prototype.V=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},A.prototype.vi=function(t,n){for(var i=1;i<t;i++){var r=this.ri(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.di=function(t,n){for(var i=1;i<t;i++){var r=this.ei(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},A.prototype.B=function(){var t=this.j,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Bn;this.fi(this.Un,i,t),this.di(n,i)}else{var r=this.Un;this.fi(this.Bn,r,t),this.vi(n,r)}this.Kn(0)}this.Kt()},A.prototype.Ht=function(){var t=this.j;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(A.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),A.defer=A.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new A(y);return{promise:t,resolve:D,reject:N}},c.notEnumerableProp(A,"li",i),t("./method")(A,y,p,e,T),t("./bind")(A,y,p,T),t("./cancel")(A,m,e,T),t("./direct_resolve")(A),t("./synchronous_inspection")(A),t("./join")(A,m,p,y,h,o),A.Promise=A,A.version="3.5.5",t("./call_get.js")(A),t("./generators.js")(A,e,y,p,u,T),t("./map.js")(A,m,e,p,y,T),t("./nodeify.js")(A),t("./promisify.js")(A,y),t("./props.js")(A,m,p,e),t("./race.js")(A,y,p,e),t("./reduce.js")(A,m,e,p,y,T),t("./settle.js")(A,m,T),t("./some.js")(A,m,e),t("./timers.js")(A,y,T),t("./using.js")(A,e,p,b,y,T),t("./any.js")(A),t("./each.js")(A,y),t("./filter.js")(A,y),c.toFastProperties(A),c.toFastProperties(A.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new A(y)),T.setBounds(f.firstLineError,c.lastLineError),A}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util");function s(t){var r=this.un=new n(i);t instanceof n&&r.X(t,3),r.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.kt},s.prototype.promise=function(){return this.un},s.prototype._init=function t(i,u){var s=r(this.On,this.un);if(s instanceof n){var c=(s=s.Y()).j;if(this.On=s,0==(50397184&c))return this.un.zn(),s.H(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(s.Sn()):this.yt();s=s.En()}if(null!==(s=o.asArray(s)))0!==s.length?this.wi(s):-5===u?this.yi():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+o.classString(s)).reason();this.un.bn(a,!1)}},s.prototype.wi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.On=this.shouldCopyValues()?new Array(i):this.On;for(var e=this.un,u=!1,o=null,s=0;s<i;++s){var c=r(t[s],e);c instanceof n?(c=c.Y(),o=c.j):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.Tn(this,s),this.On[s]=c):u=0!=(33554432&o)?this.pn(c.En(),s):0!=(16777216&o)?this.mn(c.Sn(),s):this.gn(s):u=this.pn(c,s)}u||e.zn()},s.prototype.ln=function(){return null===this.On},s.prototype.Fn=function(t){this.On=null,this.un.yn(t)},s.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},s.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},s.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},s.prototype.gn=function(){return this.yt(),!0},s.prototype.mn=function(t){return this.Pn++,this.V(t),!0},s.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),o=e.withAppended,s=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={gi:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","gi"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t.gi}catch(t){return!1}}function y(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,f);return!!r&&w(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],f=t[c],h=r===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!r(c,f,t,h)||o.push(c,f)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,i),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===r&&(e=this);var a=new n(i);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,o(arguments,h))}catch(t){a.bn(s(t),!0,!0)}return a.Wn()||a.zn(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"gi",!0),w};function m(t,n,i,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,i),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,r,h,v,n,o);else{var l=u(v,function(){return p(h,r,h,v,n,o)});e.notEnumerableProp(l,"gi",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var i=void 0===(n=d(n)).context?r:n.context,u=!!n.multiArgs,o=function(t,n,i){return p(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,o,l),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=e.inheritedDataKeys(t),c=0;c<s.length;++c){var f=t[s[c]];"constructor"!==s[c]&&e.isClass(f)&&(m(f.prototype,r,u,o,i),m(f,r,u,o,i))}return m(t,r,u,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function f(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=c.keys(t),e=r.length;n=new Array(2*e);for(var o=0;o<e;++o){var s=r[o];n[o]=t[s],n[o+e]=s}}this.constructor$(n),this._i=i,this._init$(void 0,i?-6:-3)}function h(t){var i,u=r(t);return s(u)?(i=u instanceof n?u.H(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&i.X(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(f,i),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;if(i>=this.kt){var r;if(this._i)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],o=t[r];n.set(e,o)}return n}(this.On);else{r={};for(var e=this.length(),o=0,s=this.length();o<s;++o)r[this.On[o+e]]=this.On[o]}return this.Fn(r),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.pi=t,this.kt=0,this.mi=0}r.prototype.ki=function(t){return this.pi<t},r.prototype.M=function(t){var n=this.length();this.bi(n+1);var i=this.mi+n&this.pi-1;this[i]=t,this.kt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.ki(r))return this.M(t),this.M(n),void this.M(i);var e=this.mi+r-3;this.bi(r);var u=this.pi-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.kt=r},r.prototype.shift=function(){var t=this.mi,n=this[t];return this[t]=void 0,this.mi=t+1&this.pi-1,this.kt--,n},r.prototype.length=function(){return this.kt},r.prototype.bi=function(t){this.pi<t&&this.Ti(this.pi<<1)},r.prototype.Ti=function(t){var n=this.pi;this.pi=t;var i=this.mi,r=this.kt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=r(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==s&&a.X(s,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).H(f,h,void 0,a,null)}return a}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,i,r,e){this.constructor$(t);var o=s();this.Ei=null===o?i:c.domainBind(o,i),void 0!==r&&(r=n.resolve(r)).Yt(this),this.Si=r,this.Ri=null,this.Ii=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var u=new f(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Ci(t);var i=e(this.value,this.array.un);return i instanceof n?(this.array.Ri=i,i.H(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.un,u=a(r.Ei);e.Nt(),(i=void 0!==r.Ii?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(r.Ri=i);var s=e.Ot();return o.checkForgottenReturns(i,s,void 0!==r.Ii?"Promise.each":"Promise.reduce",e),i}c.inherits(f,i),f.prototype.Ci=function(t){void 0!==this.Ii&&null!==this.Ii&&t!==u&&this.Ii.push(t)},f.prototype.Ai=function(t){return null!==this.Ii&&this.Ii.push(t),this.Ii},f.prototype._init=function(){},f.prototype.yi=function(){this.Fn(void 0!==this.Ii?this.Ii:this.Si)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Si)return this.yt();this.ln()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.Si instanceof n&&this.Si.cancel())},f.prototype.wi=function(t){var i,r;this.On=t;var e=t.length;if(void 0!==this.Si?(i=this.Si,r=0):(i=n.resolve(t[0]),r=1),this.Ri=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.H(d,void 0,void 0,u,void 0)}void 0!==this.Ii&&(i=i.H(this.Ai,void 0,void 0,this,void 0)),i.H(h,h,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var u,o,c,a,f,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(o=e.createElement("div"),c={attributes:!0},a=!1,f=e.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),a=!1}).observe(f,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,c),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==s?function(t){s(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,i),o.prototype.Di=function(t,n){this.On[t]=n;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},o.prototype.pn=function(t,n){var i=new e;return i.j=33554432,i.Ni=t,this.Di(n,i)},o.prototype.mn=function(t,n){var i=new e;return i.j=16777216,i.Ni=t,this.Di(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=e.isArray,c={};function a(t){this.constructor$(t),this.Oi=0,this.xi=!1,this.Pi=!1}function f(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Pi)if(0!==this.Oi){this._init$(void 0,-5);var t=s(this.On);!this.ln()&&t&&this.Oi>this.Li()&&this.V(this.Fi(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Pi=!0,this._init()},a.prototype.setUnwrap=function(){this.xi=!0},a.prototype.howMany=function(){return this.Oi},a.prototype.setHowMany=function(t){this.Oi=t},a.prototype.pn=function(t){return this.Mi(t),this.Bi()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xi?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Ui(t),this.Vi()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Ui(c),this.Vi())},a.prototype.Vi=function(){if(this.howMany()>this.Li()){for(var t=new o,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.Bi=function(){return this.Pn},a.prototype.qi=function(){return this.On.length-this.length()},a.prototype.Ui=function(t){this.On.push(t)},a.prototype.Mi=function(t){this.On[this.Pn++]=t},a.prototype.Li=function(){return this.length()-this.qi()},a.prototype.Fi=function(t){var n="Input array must contain at least "+this.Oi+" items but contains only "+t+" items";return new u(n)},a.prototype.yi=function(){this.V(this.Fi(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.j=t.j,this.Ni=t.Wn()?t.Ht():void 0):(this.j=0,this.Ni=void 0)}n.prototype.Ht=function(){return this.Ni};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.j)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.j)},o=n.prototype.isPending=function(){return 0==(50397184&this.j)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.j)};n.prototype.isCancelled=function(){return 0!=(8454144&this.j)},t.prototype.Hi=function(){return 65536==(65536&this.j)},t.prototype.Et=function(){return this.Y().Hi()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().j)},t.prototype.isPending=function(){return o.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return s.call(this.Y())},t.prototype.value=function(){return i.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.$t(),r.call(t)},t.prototype.En=function(){return this.Ht()},t.prototype.Sn=function(){return this.$t(),this.Ht()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){s&&s.Nt();var a=n.reject(c.e);return s&&s.Ot(),a}if("function"==typeof c){if(function(t){try{return o.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(i);return t.H(a.yn,a.V,void 0,a,null),a}return function(t,u,o){var s=new n(i),c=s;o&&o.Nt(),s.Xt(),o&&o.Ot();var a=!0,f=r.tryCatch(u).call(t,function(t){s&&(s.W(t),s=null)},function(t){s&&(s.bn(t,a,!0),s=null)});return a=!1,s&&f===e&&(s.bn(f.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){c(this.handle)};var a=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,c;return void 0!==e?(u=n.resolve(e).H(a,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.J(e)):(u=new n(i),c=s(function(){u.yn()},+t),r.cancellation()&&u.J(new o(c)),u.Xt()),u.zn(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var i,c,a=new o(s(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Rt(r),t.V(r),null!=i&&i.cancel()}(i,n,c)},t=+t));return r.cancellation()?(c=this.then(),(i=c.H(v,d,void 0,a,void 0)).J(a)):i=this.H(v,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var c=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){s(function(){throw t},0)}function w(t,i){var e=0,o=t.length,s=new n(u);return function u(){if(e>=o)return s.yn();var c=function(t){var n=r(t);return n!==t&&"function"==typeof t.ji&&"function"==typeof t.Wi&&t.ji()&&n.zi(t.Wi()),n}(t[e++]);if(c instanceof n&&c.ji()){try{c=r(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.H(u,l,null,null,null)}u()}(),s}function y(t,n,i){this.$i=t,this.un=n,this.Xi=i}function g(t,n,i){this.constructor$(t,n,i)}function _(t){return y.isDisposer(t)?(this.resources[this.index].zi(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.$i},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),i=this.Xi;void 0!==i&&i.Nt();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ot(),this.un.Gi(),this.$i=null,r},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+c.classString(u));var s=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,s=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).zi(l)}else{var g=r(d);g instanceof n&&(d=g.H(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return h.e=i.error(),h;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}b.Nt(),u=v(u);var r=s?u.apply(void 0,t):u(t),e=b.Ot();return o.checkForgottenReturns(r,e,"Promise.using",b),r}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.zi=function(t){this.j=131072|this.j,this.Yi=t},n.prototype.ji=function(){return(131072&this.j)>0},n.prototype.Wi=function(){return this.Yi},n.prototype.Gi=function(){this.j=-131073&this.j,this.Yi=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var u,s=n("./es5"),c=void 0===o,a={e:{}},f=void 0!==t?t:void 0!==r?r:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,r),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var o=0;o<u.length;++o){var c=u[o];if(!e[c]){e[c]=!0;var a=d.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&r.push(c)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var o=0;o<t.length;++o)if(r.call(t[o],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&s.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(p(t))}:function(t){if(b(t))return t;try{throw new h(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};S=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),A="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&s.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new h(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.in.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,i){for(var r=s.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:A,env:function(t){return A?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),D.isNode&&D.toFastProperties(process);try{throw new h}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var A,D,N={Ki:function(){function t(){this.Ji=[]}var n=t.prototype;return n.Qi=function(){},n.Zi=function(t){return{tr:function(){return C.resolve()},nr:function(){}}},n.ir=function(t){throw new h("Not implemented")},n.rr=function(t){return C.resolve()},n.er=function(t){return C.resolve()},n.ur=function(t){},n.sr=function(){},t}(),cr:function(){function t(){}var n=t.prototype;return n.ar=function(){return C.resolve("all")},n.hr=function(){},n.sr=function(){},t}(),dr:{wr:function(t){getActiveDocument().addEventListener("unload",t)},yr:function(t){getActiveDocument().removeEventListener("unload",t)}},gr:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function O(t){D=t}Element.prototype.style={},b=(A=N).Ki,T=A.cr,E=A.dr,S=A.gr,R=S&&S.location,I=S&&S.navigator;var x,P=function(){},L=function(t){return t};(x=C)&&x.config({warnings:!1,longStackTraces:!1});var F,M,B,U,V,q;x&&(U=x.setScheduler(P),F=U,V={_r:function(t){M=t,F(B)},pr:B=function(){var t=M;t&&(M=void 0,t())}},x.setScheduler(V._r));function H(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function j(t,n,i){return n&&H(t.prototype,n),i&&H(t,i),t}function W(t,n){return(W=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function z(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,W(t,n)}!function(t){t.mr="web",t.kr="android",t.br="android-tv",t.Tr="ios",t.Er="tvos",t.Sr="chromecast"}(q||(q={}));var $=o?o.userAgent:"",X=$.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),G=$.match(/Android ([0-9\.]+)/i),Y=$.match(/Windows NT ([0-9\.]+)/i),K=$.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),J=$.match(/Firefox\/([0-9\.]+)/i),Q=$.match(/OPR\/(\d+\.\d+)/i),Z=$.match(/Tizen ([0-9\.]+)/i),tt=function(){function n(){this.Rr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.Ir=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test($)||/(macintosh|mac(?=_powerpc)\s)/i.test($),this.Cr=/Windows NT/i.test($),this.Ar=Y?y(Y[1]):0,this.Dr=/Android/i.test($),this.Nr=G?y(G[1]):0,this.Or=/windows phone (8|8\.1)/i.test($),this.xr=/iPhone/i.test($),this.Pr=/iPad/i.test($),this.Lr=this.Ir&&this.Rr&&!this.Pr,this.Fr=/iPod/i.test($),this.Mr=/Mobile Safari/i.test($),this.Br=(this.xr||this.Pr||this.Lr||this.Fr)&&!this.Or,this.Ur=this.Or||this.Br||this.Dr||this.Mr,this.Vr=/CriOS/i.test($),this.qr=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Vr,this.Hr=Boolean(t.chrome||/Chrome/i.test($)||/CriOS/i.test($)),this.jr=X?w(X[1],10):0,this.Wr=/SMART-TV.*Tizen/i.test($),this.zr=Z?y(Z[1]):0,this.$r=/webos|web0s/i.test($),this.Xr=/Edge\/\d+/i.test($),this.Gr=/Trident/i.test($),this.Yr=this.Gr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Kr=/Vivaldi/i.test($),this.Jr=/Firefox/i.test($)&&!/Seamonkey/i.test($),this.Qr=J?y(J[1]):0,this.Zr=/Safari/i.test($)&&!/Chrome/i.test($)&&!this.Or&&!this.Wr,this.te=K?y(K[2]):0,this.ie=Boolean(Q),this.re=Q?y(Q[1]):0,this.ee=/CrKey/.test($),this.ue=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test($),this.oe="tvos"===q.br,this.se="tvos"===q.kr,this.ce=this.se||this.oe,this.ae="tvos"===q.Tr,this.fe="tvos"===q.Er,this.he="tvos"===q.Sr}return j(n,[{key:"ve",get:function(){return this.Rr}},{key:"de",get:function(){return this.Ir}},{key:"we",get:function(){return this.Cr}},{key:"ye",get:function(){return this.Ar}},{key:"_e",get:function(){return this.Dr}},{key:"pe",get:function(){return this.Nr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.xr}},{key:"be",get:function(){return this.Pr}},{key:"Te",get:function(){return this.Lr}},{key:"Ee",get:function(){return this.Fr}},{key:"Se",get:function(){return this.Br}},{key:"Re",get:function(){return this.Mr}},{key:"Ie",get:function(){return this.Ur}},{key:"Ce",get:function(){return this.Vr}},{key:"Ae",get:function(){return this.qr}},{key:"De",get:function(){return this.jr}},{key:"Ne",get:function(){return this.Wr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.$r}},{key:"Pe",get:function(){return this.Xr}},{key:"Le",get:function(){return this.Gr}},{key:"Fe",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Kr}},{key:"Be",get:function(){return this.Jr}},{key:"Ue",get:function(){return this.Qr}},{key:"Ve",get:function(){return this.Zr}},{key:"qe",get:function(){return this.te}},{key:"He",get:function(){return this.ie}},{key:"je",get:function(){return this.re}},{key:"We",get:function(){return this.ee}},{key:"ze",get:function(){return this.ue}},{key:"$e",get:function(){return this.oe}},{key:"Xe",get:function(){return this.se}},{key:"Ge",get:function(){return this.ce}},{key:"Ye",get:function(){return this.ae}},{key:"Ke",get:function(){return this.fe}},{key:"Je",get:function(){return this.he}},{key:"Qe",get:function(){return this.Hr}}]),n}();tt.Ze=new tt;var nt=tt.Ze,it={}.hasOwnProperty,rt={}.toString;function et(t){return null!=t}var ut=Array.isArray||function(t){return"[object Array]"===rt.call(t)};function ot(t){return st(t)&&it.call(t,"length")&&vt(t.length)}function st(t){return"object"==typeof t&&null!==t}function ct(t){return st(t)&&t.constructor&&t.constructor===d}function at(t){return"string"==typeof t}function ft(t){return"boolean"==typeof t}function ht(t){return Boolean(t)&&"function"==typeof t.then}function vt(t){return"number"==typeof t}var dt=!(nt.Le&&!nt.Fe),lt=t.console;function wt(t){if(st(t))try{return JSON.stringify(t)}catch(t){}return t}function yt(t){return t.map(wt).join(" ")}function gt(t){var n=lt&&lt[t];return n?n.bind&&dt?n.bind(lt):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];lt[t](yt(i))}:void 0}var _t,pt=gt("log")||P,mt=gt("warn")||pt.bind(void 0,"WARNING:"),kt=gt("error")||pt.bind(void 0,"ERROR:"),bt=(_t=lt&&lt.assert)?_t.bind&&dt?_t.bind(lt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];lt.assert(t,yt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];kt.apply(void 0,["Assertion failed:"].concat(i))}},Tt=St,Et=null;try{Et=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function St(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function Rt(t){return!0===(t&&t.tu)}St.prototype.tu,d.defineProperty(St.prototype,"tu",{value:!0}),St.isLong=Rt;var It={},Ct={};function At(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Ct[t])?r:(i=Nt(t,(0|t)<0?-1:0,!0),e&&(Ct[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=It[t])?r:(i=Nt(t,t<0?-1:0,!1),e&&(It[t]=i),i)}function Dt(t,n){if(g(t))return n?Vt:Ut;if(n){if(t<0)return Vt;if(t>=Ft)return zt}else{if(t<=-Mt)return $t;if(t+1>=Mt)return Wt}return t<0?Dt(-t,n).neg():Nt(t%Lt|0,t/Lt|0,n)}function Nt(t,n,i){return new St(t,n,i)}St.fromInt=At,St.fromNumber=Dt,St.fromBits=Nt;var Ot=l.pow;function xt(t,n,i){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ut;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw h("interior hyphen");if(0===r)return xt(t.substring(1),n,i).neg();for(var e=Dt(Ot(i,8)),u=Ut,o=0;o<t.length;o+=8){var s=l.min(8,t.length-o),c=w(t.substring(o,o+s),i);if(s<8){var a=Dt(Ot(i,s));u=u.mul(a).add(Dt(c))}else u=(u=u.mul(e)).add(Dt(c))}return u.unsigned=n,u}function Pt(t,n){return"number"==typeof t?Dt(t,n):"string"==typeof t?xt(t,n):Nt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}St.fromString=xt,St.fromValue=Pt;var Lt=4294967296,Ft=Lt*Lt,Mt=Ft/2,Bt=At(1<<24),Ut=At(0);St.ZERO=Ut;var Vt=At(0,!0);St.UZERO=Vt;var qt=At(1);St.ONE=qt;var Ht=At(1,!0);St.UONE=Ht;var jt=At(-1);St.NEG_ONE=jt;var Wt=Nt(-1,2147483647,!1);St.MAX_VALUE=Wt;var zt=Nt(-1,-1,!0);St.MAX_UNSIGNED_VALUE=zt;var $t=Nt(0,-2147483648,!1);St.MIN_VALUE=$t;var Xt=St.prototype;Xt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xt.toNumber=function(){return this.unsigned?(this.high>>>0)*Lt+(this.low>>>0):this.high*Lt+(this.low>>>0)},Xt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq($t)){var n=Dt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Dt(Ot(t,6),this.unsigned),u=this,o="";;){var s=u.div(e),c=(u.sub(s.mul(e)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Xt.getHighBits=function(){return this.high},Xt.getHighBitsUnsigned=function(){return this.high>>>0},Xt.getLowBits=function(){return this.low},Xt.getLowBitsUnsigned=function(){return this.low>>>0},Xt.getNumBitsAbs=function(){if(this.isNegative())return this.eq($t)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Xt.isZero=function(){return 0===this.high&&0===this.low},Xt.eqz=Xt.isZero,Xt.isNegative=function(){return!this.unsigned&&this.high<0},Xt.isPositive=function(){return this.unsigned||this.high>=0},Xt.isOdd=function(){return 1==(1&this.low)},Xt.isEven=function(){return 0==(1&this.low)},Xt.equals=function(t){return Rt(t)||(t=Pt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Xt.eq=Xt.equals,Xt.notEquals=function(t){return!this.eq(t)},Xt.neq=Xt.notEquals,Xt.ne=Xt.notEquals,Xt.lessThan=function(t){return this.comp(t)<0},Xt.lt=Xt.lessThan,Xt.lessThanOrEqual=function(t){return this.comp(t)<=0},Xt.lte=Xt.lessThanOrEqual,Xt.le=Xt.lessThanOrEqual,Xt.greaterThan=function(t){return this.comp(t)>0},Xt.gt=Xt.greaterThan,Xt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Xt.gte=Xt.greaterThanOrEqual,Xt.ge=Xt.greaterThanOrEqual,Xt.compare=function(t){if(Rt(t)||(t=Pt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Xt.comp=Xt.compare,Xt.negate=function(){return!this.unsigned&&this.eq($t)?$t:this.not().add(qt)},Xt.neg=Xt.negate,Xt.add=function(t){Rt(t)||(t=Pt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=r+s)>>>16,c+=(a+=i+o)>>>16,c+=n+u,Nt((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Xt.subtract=function(t){return Rt(t)||(t=Pt(t)),this.add(t.neg())},Xt.sub=Xt.subtract,Xt.multiply=function(t){if(this.isZero())return Ut;if(Rt(t)||(t=Pt(t)),Et)return Nt(Et.mul(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned);if(t.isZero())return Ut;if(this.eq($t))return t.isOdd()?$t:Ut;if(t.eq($t))return this.isOdd()?$t:Ut;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Bt)&&t.lt(Bt))return Dt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=r*c)>>>16,h&=65535,f+=(h+=e*s)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=r*s)>>>16,f&=65535,a+=(f+=e*o)>>>16,a+=n*c+i*s+r*o+e*u,Nt((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Xt.mul=Xt.multiply,Xt.divide=function(t){if(Rt(t)||(t=Pt(t)),t.isZero())throw h("division by zero");var n,i,r;if(Et)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Nt((this.unsigned?Et.div_u:Et.div_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Vt:Ut;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Vt;if(t.gt(this.shru(1)))return Ht;r=Vt}else{if(this.eq($t))return t.eq(qt)||t.eq(jt)?$t:t.eq($t)?qt:(n=this.shr(1).div(t).shl(1)).eq(Ut)?t.isNegative()?qt:jt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq($t))return this.unsigned?Vt:Ut;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ut}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:Ot(2,e-48),o=Dt(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=Dt(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=qt),r=r.add(o),i=i.sub(s)}return r},Xt.div=Xt.divide,Xt.modulo=function(t){return Rt(t)||(t=Pt(t)),Et?Nt((this.unsigned?Et.rem_u:Et.rem_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Xt.mod=Xt.modulo,Xt.rem=Xt.modulo,Xt.not=function(){return Nt(~this.low,~this.high,this.unsigned)},Xt.and=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low&t.low,this.high&t.high,this.unsigned)},Xt.or=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low|t.low,this.high|t.high,this.unsigned)},Xt.xor=function(t){return Rt(t)||(t=Pt(t)),Nt(this.low^t.low,this.high^t.high,this.unsigned)},Xt.shiftLeft=function(t){return Rt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Nt(0,this.low<<t-32,this.unsigned)},Xt.shl=Xt.shiftLeft,Xt.shiftRight=function(t){return Rt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Nt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Nt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Xt.shr=Xt.shiftRight,Xt.shiftRightUnsigned=function(t){if(Rt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Nt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Nt(32===t?n:n>>>t-32,0,this.unsigned)},Xt.shru=Xt.shiftRightUnsigned,Xt.shr_u=Xt.shiftRightUnsigned,Xt.toSigned=function(){return this.unsigned?Nt(this.low,this.high,!1):this},Xt.toUnsigned=function(){return this.unsigned?this:Nt(this.low,this.high,!0)},Xt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Xt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Xt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},St.fromBytes=function(t,n,i){return i?St.fromBytesLE(t,n):St.fromBytesBE(t,n)},St.fromBytesLE=function(t,n){return new St(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},St.fromBytesBE=function(t,n){return new St(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Gt=Tt,Yt=l.pow(2,-52);function Kt(t,n,i){return l.min(l.max(t,n),i)}function Jt(t,n,i){return t===n||l.abs(t-n)<=i}function Qt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Zt(){return Date.now()||(new Date).getTime()}function tn(t){return t/1e3}var nn;Gt.fromNumber(9007199254740991);function rn(t){return t.nu===nn.iu}function en(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.iu=1]="iu",t[t.ru=2]="ru",t[t.eu=3]="eu",t[t.uu=4]="uu",t[t.ou=9]="ou"}(nn||(nn={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];h.apply(this,n)};(un.prototype=d.create(h.prototype)).constructor=un;var on=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,h.captureStackTrace&&h.captureStackTrace(en(r),r.constructor),r}return z(n,t),j(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),sn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return z(n,t),n}(on),cn=function(){function t(){}return t.prototype.su=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new wn(n)},t}(),an=function(){function t(t){this.cu=void 0,this.cu=t}var n=t.prototype;return n.au=function(t){return this.cu.isEqualNode(t.cu)},n.fu=function(n){return new t(this.cu.cloneNode(n))},j(t,[{key:"nu",get:function(){return nn.ru}},{key:"hu",get:function(){var t;return null!=(t=this.cu.localName)?t:_n(this.cu.nodeName)}},{key:"vu",get:function(){return this.cu.nodeName}},{key:"du",get:function(){var t;return null!=(t=this.cu.namespaceURI)?t:void 0}},{key:"lu",get:function(){var t;return null!=(t=this.cu.prefix)?t:void 0}},{key:"wu",get:function(){return this.cu.nodeValue}}]),t}(),fn=function(){function t(t){this.yu=void 0,this.gu=void 0,this.yu=t}var n=t.prototype;return n._u=function(t){return this.pu.filter(function(n){return yn(n)&&n.mu===t})},n.ku=function(t,n){return this.pu.filter(function(i){return yn(i)&&i.hu===n&&i.du===t})},n.bu=function(t){this.yu.appendChild(t.Tu),this.gu&&this.gu.push(t)},n.au=function(t){return this.yu.isEqualNode(t.Tu)},j(t,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=function(t){for(var n=[],i=0;i<t.length;i++){var r=gn(t.item(i));r&&n.push(r)}return n}(this.yu.childNodes)),this.gu}},{key:"Eu",get:function(){return this.pu.filter(yn)}},{key:"Tu",get:function(){return this.yu}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}z(n,t);var i=n.prototype;return i.Su=function(t){if(this.yu.hasAttribute(t))return this.yu.getAttribute(t)},i.Ru=function(t,n){if(this.yu.hasAttributeNS(t,n))return this.yu.getAttributeNS(t,n)},i.Iu=function(t){this.yu.removeAttribute(t)},i.Cu=function(t,n){this.yu.removeAttributeNS(t,n)},i.Au=function(t,n){this.yu.setAttribute(t,n)},i.Du=function(t,n,i){this.yu.setAttributeNS(t,n,i)},i.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.iu}},{key:"hu",get:function(){var t;return null!=(t=this.yu.localName)?t:_n(this.yu.nodeName)}},{key:"du",get:function(){var t;return null!=(t=this.yu.namespaceURI)?t:void 0}},{key:"lu",get:function(){var t;return null!=(t=this.yu.prefix)?t:void 0}},{key:"mu",get:function(){return this.yu.nodeName}},{key:"Nu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.yu.attributes)}},{key:"Ou",get:function(){return this.yu.textContent}}]),n}(fn),vn=function(){function t(t){this.yu=void 0,this.yu=t}return t.prototype.au=function(t){return this.xu===t.xu},j(t,[{key:"xu",get:function(){return this.yu.nodeValue}},{key:"Tu",get:function(){return this.yu}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.eu}}]),n}(vn),ln=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.uu}}]),n}(vn),wn=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"nu",get:function(){return nn.ou}},{key:"Pu",get:function(){return new hn(this.yu.documentElement)}}]),n}(fn);function yn(t){return rn(t)}function gn(t){switch(t.nodeType){case nn.iu:return new hn(t);case nn.eu:return new dn(t);case nn.uu:return new ln(t)}}function _n(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function pn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function mn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){kn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(e=0;e<a;e+=h)for(o=(u=e+i)+i,u>a&&(u=a),o>a&&(o=a),s=e,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<u)r[f++]=t[s++];else{if(!(c<o))break;r[f++]=t[c++]}}var bn=/[a-zA-Z]/,Tn=/[0-9]/,En=/[0-9a-fA-F]/,Sn=/^0x/i,Rn=/^[0-9]+$/,In=/^[0-9a-fA-F]+$/,Cn=/^[0-7]+$/,An=d.prototype.toString,Dn=Array.isArray||function(t){return"[object Array]"===An.call(t)},Nn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function On(t){return Dn(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Pn(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Ln(t){return t>=48&&t<=57}function Fn(t){return Ln(t)||Pn(t)}function Mn(t){return Ln(t)||t>=65&&t<=70||t>=97&&t<=102}function Bn(t){return xn(t)?t+32:t}function Un(t){return Ln(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var qn=l.min,Hn=String.fromCharCode,jn=16384;function Wn(t){for(var n=t.length,i=[],r=0;r<n;r+=jn){var e=qn(r+jn,n);i.push(Hn.apply(null,t.slice(r,e)))}return i.join("")}var zn=/[^\0-\x7E]/,$n=/[\x2E\u3002\uFF0E\uFF61]/g,Xn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Gn=l.floor,Yn=String.fromCharCode;function Kn(t){throw new RangeError(Xn[t])}function Jn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Qn,Zn,ti,ni=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ii=function(t,n,i){var r=0;for(t=i?Gn(t/700):t>>1,t+=Gn(t/n);t>455;r+=36)t=Gn(t/35);return Gn(r+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace($n,".")).split("."),n).join(".");return r+e}(t,function(t){return zn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Jn(t)).length,r=128,e=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Yn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>Gn((2147483647-e)/w)&&Kn("overflow"),e+=(h-r)*w,r=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<r&&++e>2147483647&&Kn("overflow"),_==r){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Yn(ni(k+b%T,0))),p=Gn(b/T)}n.push(Yn(ni(p,0))),u=ii(e,w,f==a),e=0,++f}}++e,++r}return n.join("")}(t):t})};function ei(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Wn(n)}function ui(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function si(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ci(t){for(var n=[],i=0;i<t.length;i++){si(t[i],n)}return n}function ai(){if(ti>=Zn)throw new h("Invalid byte index");var t=255&Qn[ti];if(ti++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function fi(){var t,n;if(ti>Zn)throw new h("Invalid byte index");if(ti===Zn)return!1;if(t=255&Qn[ti],ti++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return ui(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function hi(t){return[37,Vn(t>>4),Vn(15&t)]}function vi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function di(t){return vi(t)||32===t||34===t||60===t||62===t||96===t}function li(t){return di(t)||35===t||63===t||123===t||125===t}function wi(t){return li(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function yi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function gi(t){return yi(t)||39===t}function _i(t,n){if(!n(t))return[t];for(var i=ci([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,hi(u))}return r}function pi(t,n){for(var i=[],r=0,e=Jn(t);r<e.length;r++){var u=e[r];i.push.apply(i,_i(u,n))}return ei(i)}function mi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Mn(t[r+1])&&Mn(t[r+2])){var u=Un(t[r+1])<<4|Un(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ci(t))}function ki(t){return ei(function(t){Qn=t.slice(),Zn=Qn.length,ti=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(mi(Jn(t))))}function bi(t){var n,i,r,e,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new v;a+=2,c=s+=1}for(;a<u;){if(8===s)throw new v("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&En.test(t[a]);)f=f<<4|w(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new v;if(a-=h,s>6)throw new v;for(var d=0;a<u;){var l=null;if(d>0){if(!("."===t[a]&&d<4))throw new v;a+=1}if(!Tn.test(t[a]))throw new v;for(;a<u&&Tn.test(t[a]);){var y=w(t[a],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}a+=1}o[s]=o[s]<<8|l,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new v;break}if(":"===t[a]){if((a+=1)===u)throw new v}else if(a<u)throw new v;o[s]=f,s+=1}else{if(null!==c)throw new v("Too many :: groups");a+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)r=c+g-1,e=void 0,e=(n=o)[i=s],n[i]=n[r],n[r]=e,s-=1,g-=1}else if(8!==s)throw new v;return o}function Ti(t){var n=10,i=Rn;return Sn.test(t)?(t=t.slice(2),n=16,i=In):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Cn),""===t?0:i.test(t)?w(t,n):void 0}var Ei={Lu:4},Si=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Ii(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{Lu:2,Fu:bi(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new v("Invalid code point in opaque host");var n=pi(t,vi);return""===n?Ei:{Lu:3,$i:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(ki(t));if(Si.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ti(e);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*l.pow(256,3-c);return s}}(i);return void 0!==r?{Lu:1,Fu:r}:""===i?Ei:{Lu:0,Mu:i}}function Ci(t){switch(t.Lu){case 0:return t.Mu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Fu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Fu)+"]";case 3:return t.$i;case 4:return""}}var Ai=/\+/g;function Di(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),o=void 0,s=void 0;-1!==u?(o=e.slice(0,u),s=e.slice(u+1)):(o=e,s=""),o=o.replace(Ai," "),s=s.replace(Ai," ");var c=ki(o),a=ki(s);i.push([c,a])}}return i}function Ni(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Oi(ci(Jn(r[0])))+"="+Oi(ci(Jn(r[1])))}return n}function Oi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Fn(n)?i.push(e):i.push.apply(i,hi(e))}return Wn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Pi(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Fi(u))if(Mi(u)||e===i-1)r.push(Li);else{var o=t.charCodeAt(e+1);Mi(o)?(r.push(u,o),e++):r.push(Li)}else r.push(u)}return t.slice(0,n)+Wn(r)}(n,i.index):n}var Li=65533,Fi=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Bi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Ui(t){t.Bu.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Bu,Di(n))}function qi(t){if(t.Uu){var n=Ni(t.Bu);""===n&&(n=null),t.Uu.Uu.Vu=n}}var Hi=function(){function t(t){if(void 0===t&&(t=void 0),this.Uu=null,null==t)this.Bu=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Hi&&Dn(u.Bu)&&(!Nn||u[Symbol.iterator]===ji))this.Bu=t.Bu.slice();else if(function(t){return null!=t&&(!!Dn(t)||!!Nn&&"function"==typeof t[Symbol.iterator])}(t)){this.Bu=[];for(var n=0,i=On(t);n<i.length;n++){var r=On(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Bu.push([Pi(r[0]),Pi(r[1])])}}else for(var e in this.Bu=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Bu.push([Pi(e),Pi(t[e])]);else(t=Pi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Bu=Di(t);var u}var n=t.prototype;return n.append=function(t,n){t=Pi(t),n=Pi(n),this.Bu.push([t,n]),qi(this)},n.delete=function(t){t=Pi(t);for(var n=this.Bu,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}qi(this)},n.get=function(t){t=Pi(t);for(var n=this.Bu,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Pi(t);for(var n=this.Bu,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Pi(t);for(var n=this.Bu,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Pi(t),n=Pi(n);for(var i=this.Bu,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),qi(this)},n.sort=function(){mn(this.Bu,Bi),qi(this)},n.toString=function(){return Ni(this.Bu)},n.entries=function(){return new Xi(this.Bu,Wi)},n.keys=function(){return new Xi(this.Bu,zi)},n.values=function(){return new Xi(this.Bu,$i)},n.forEach=function(t){var n=this;this.Bu.forEach(function(i){return t(i[1],i[0],n)})},t}(),ji=Hi.prototype.entries;Nn&&(Hi.prototype[Symbol.iterator]=ji);var Wi=function(t){return[t[0],t[1]]},zi=function(t){return t[0]},$i=function(t){return t[1]},Xi=function(){function t(t,n){this.qu=0,this.Bu=t,this.Hu=n}return t.prototype.next=function(){return this.qu<this.Bu.length?{done:!1,value:this.Hu(this.Bu[this.qu++])}:{done:!0,value:void 0}},t}(),Gi="null";var Yi=d.create(null);Yi.ftp=21,Yi.file=0,Yi.gopher=70,Yi.http=80,Yi.https=443,Yi.ws=80,Yi.wss=443;var Ki=/^(?:\.|%2e)$/i,Ji=/^(?:\.|%2e){2}$/i;function Qi(t){return Ki.test(t)}function Zi(t){return Ji.test(t)}function tr(t){return void 0!==Yi[t]}function nr(t){return tr(t.ju)}function ir(t){return""!==t.Wu||""!==t.zu}function rr(t){var n=t.length;if(!(n>=2))return!1;if(!ur(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function er(t){return 2===t.length&&bn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ur(t){return 2===t.length&&er(Wn(t))}function or(t){return er(t)&&":"===t[1]}function sr(t){var n=t.$u;0!==n.length&&("file"===t.ju&&1===n.length&&or(n[0])||n.pop())}function cr(t){return null===t.Xu||Ei===t.Xu||t.Gu||"file"===t.ju}var ar=-1,fr=/\t|\n|\r/g,hr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function vr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new lr,t=t.replace(hr,""));var e=null!==r?r:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,a=Jn(t=t.replace(fr,"")),f=a.length,h=0;h<=f;){var d=h<f?a[h]:ar;switch(e){case 0:if(!Pn(d)){if(null===r){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Bn(d)),e=1;break;case 1:if(Fn(d)||43===d||45===d||46===d)u.push(Bn(d));else{if(58!==d){if(null===r){u.length=0,e=2,h=0;continue}throw new v("Invalid scheme")}var l=ei(u);if(null!==r){if(tr(i.ju)&&!tr(l))return;if(!tr(i.ju)&&tr(l))return;if((ir(i)||null!==i.Yu)&&"file"===l)return;if("file"===i.ju&&(i.Xu===Ei||null===i.Xu))return}if(i.ju=l,null!==r)return void(nr(i)&&i.Yu===Yi[i.ju]&&(i.Yu=null));u.length=0,"file"===i.ju?e=13:nr(i)&&n&&n.ju===i.ju?e=3:nr(i)?e=7:47===a[h+1]?(e=4,h+=1):(i.Gu=!0,i.$u.push(""),e=18)}break;case 2:if(!n||n.Gu&&35!==d)throw new v("Invalid scheme");n.Gu&&35===d?(i.ju=n.ju,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",i.Gu=!0,e=20):"file"!==n.ju?(e=5,h-=1):(e=13,h-=1);break;case 3:47===d&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===d?e=9:(e=17,h-=1);break;case 5:i.ju=n.ju,ar===d?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu=n.Vu):47===d?e=6:63===d?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu="",e=19):35===d?(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",e=20):92===d&&nr(i)?e=6:(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,i.$u=n.$u.slice(),i.$u.pop(),e=17,h-=1);break;case 6:!nr(i)||47!==d&&92!==d?47===d?e=9:(i.Wu=n.Wu,i.zu=n.zu,i.Xu=n.Xu,i.Yu=n.Yu,e=17,h-=1):e=8;break;case 7:if(47!==d||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==d&&92!==d&&(e=9,h-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var _=ei(_i(g,wi));c?i.zu+=_:i.Wu+=_}else c=!0}u.length=0}else if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(o&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.ju)h-=1,e=15;else if(58!==d||s)if(ar===d||47===d||63===d||35===d||nr(i)&&92===d){if(h-=1,nr(i)&&0===u.length)throw new v("Invalid host");if(null!==r&&0===u.length&&(ir(i)||null!==i.Yu))return;var p=Ii(ei(u),nr(i));if(i.Xu=p,u.length=0,e=16,null!==r)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=Ii(ei(u),nr(i));if(i.Xu=m,u.length=0,e=12,11===r)return}break;case 12:if(Ln(d))u.push(d);else{if(!(ar===d||47===d||63===d||35===d||nr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==u.length){var k=w(ei(u),10);if(k>65535)throw new v("Invalid port");i.Yu=k===Yi[i.ju]?null:k,u.length=0}if(null!==r)return;e=16,h-=1}break;case 13:i.ju="file",47===d||92===d?e=14:n&&"file"===n.ju?ar===d?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu=n.Vu):63===d?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu="",e=19):35===d?(i.Xu=n.Xu,i.$u=n.$u.slice(),i.Vu=n.Vu,i.Ku="",e=20):(rr(a.slice(h))||(i.Xu=n.Xu,i.$u=n.$u.slice(),sr(i)),e=17,h-=1):(e=17,h-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.ju&&!rr(a.slice(h))&&(or(n.$u[0])?i.$u.push(n.$u[0]):i.Xu=n.Xu),e=17,h-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(h-=1,null===r&&ur(u))e=17;else if(0===u.length){if(i.Xu=Ei,null!==r)return;e=16}else{var b=Ii(ei(u),nr(i));if(0===b.Lu&&"localhost"===b.Mu&&(b=Ei),i.Xu=b,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:nr(i)?(e=17,47!==d&&92!==d&&(h-=1)):null===r&&63===d?(i.Vu="",e=19):null===r&&35===d?(i.Ku="",e=20):ar!==d&&(e=17,47!==d&&(h-=1));break;case 17:if(ar===d||47===d||nr(i)&&92===d||null===r&&(63===d||35===d)){var T=ei(u);if(Zi(T)?(sr(i),47===d||nr(i)&&92===d||i.$u.push("")):!Qi(T)||47===d||nr(i)&&92===d?Qi(T)||("file"===i.ju&&0===i.$u.length&&ur(u)&&(Ei!==i.Xu&&null!==i.Xu&&(i.Xu=Ei),u[1]=58,T=ei(u)),i.$u.push(T)):i.$u.push(""),u.length=0,"file"===i.ju&&(ar===d||63===d||35===d))for(;i.$u.length>1&&""===i.$u[0];)i.$u.shift();63===d?(i.Vu="",e=19):35===d&&(i.Ku="",e=20)}else u.push.apply(u,_i(d,li));break;case 18:63===d?(i.Vu="",e=19):35===d?(i.Ku="",e=20):ar!==d&&(i.$u[0]+=ei(_i(d,vi)));break;case 19:null===r&&35===d?(i.Ku="",e=20):ar!==d&&(i.Vu+=ei(_i(d,nr(i)?gi:yi)));break;case 20:ar===d||0===d||(i.Ku+=ei(_i(d,di)))}h++}return i}function dr(t,n,i,r){try{vr(t,n,i,r)}catch(t){}}var lr=function(){this.ju="",this.Wu="",this.zu="",this.Xu=null,this.Yu=null,this.$u=[],this.Vu=null,this.Ku=null,this.Gu=!1};function wr(t){switch(t.ju){case"blob":var n;try{n=vr(t.$u[0],null)}catch(t){return Gi}return wr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ju,r=t.Xu,e=t.Yu,i+"://"+Ci(r)+(null===e?"":":"+e);case"file":default:return Gi}var i,r,e}var yr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof yr&&"object"==typeof i.Uu)e=n.Uu;else try{e=vr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=vr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=r.Vu;this.Uu=r,this.Vu=function(t){var n=new Hi;return null!==t&&Vi(n,t),n}(u),this.Vu.Uu=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ju+":";if(null!==t.Xu?(i+="//",ir(t)&&(i+=t.Wu,""!==t.zu&&(i+=":"+t.zu),i+="@"),i+=Ci(t.Xu),null!==t.Yu&&(i+=":"+t.Yu)):null===t.Xu&&"file"===t.ju&&(i+="//"),t.Gu)i+=t.$u[0];else for(var r=0,e=t.$u;r<e.length;r++)i+="/"+e[r];return null!==t.Vu&&(i+="?"+t.Vu),n||null===t.Ku||(i+="#"+t.Ku),i}(this.Uu)},set:function(t){var n;try{n=vr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Uu=n,Ui(this.Vu);var i=this.Uu.Vu;null!==i&&Vi(this.Vu,i)}},{key:"origin",get:function(){return wr(this.Uu)}},{key:"protocol",get:function(){return this.Uu.ju+":"},set:function(t){dr(t+":",null,this.Uu,0)}},{key:"username",get:function(){return this.Uu.Wu},set:function(t){cr(this.Uu)||(this.Uu.Wu=pi(t,wi))}},{key:"password",get:function(){return this.Uu.zu},set:function(t){cr(this.Uu)||(this.Uu.zu=pi(t,wi))}},{key:"host",get:function(){var t=this.Uu,n=t.Xu;if(null===n)return"";var i=t.Yu,r=Ci(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Uu.Gu||dr(t,null,this.Uu,10)}},{key:"hostname",get:function(){var t=this.Uu.Xu;return null===t?"":Ci(t)},set:function(t){this.Uu.Gu||dr(t,null,this.Uu,11)}},{key:"port",get:function(){var t=this.Uu.Yu;return null===t?"":""+t},set:function(t){cr(this.Uu)||(""===t?this.Uu.Yu=null:dr(t,null,this.Uu,12))}},{key:"pathname",get:function(){var t=this.Uu.$u;return this.Uu.Gu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Uu.Gu||(this.Uu.$u.length=0,dr(t,null,this.Uu,16))}},{key:"search",get:function(){var t=this.Uu.Vu;return null===t||""===t?"":"?"+t},set:function(t){t=Pi(t);var n=this.Uu;if(""===t)return n.Vu=null,void Ui(this.Vu);"?"===t[0]&&(t=t.slice(1)),n.Vu="",dr(t,null,n,19),Vi(this.Vu,t)}},{key:"searchParams",get:function(){return this.Vu}},{key:"hash",get:function(){var t=this.Uu.Ku;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Uu.Ku="",dr(t,null,this.Uu,20)):this.Uu.Ku=null}}])&&pn(n.prototype,i),r&&pn(n,r),t}();function gr(t,n,i){return t.split(n).join(i)}function _r(t,n){return null!=t&&-1!==t.indexOf(n)}function pr(t,n){return null!=t&&t.substr(0,n.length)===n}function mr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function kr(t,n){return t.toUpperCase()===n.toUpperCase()}function br(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Er(n)}var Tr=16384;function Er(t){var n=t.length;if(n<=Tr)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Tr)i.push(String.fromCharCode.apply(String,t.slice(r,r+Tr)));return i.join("")}function Sr(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Rr(t,n){var i=D.Ju(t);return n&&!mr(i,"/")&&(i+="/"),i}var Ir,Cr=/cache:(.+)?(?=&|$)/,Ar="http://webcache.googleusercontent.com/search?q=cache:";function Dr(t){if(!pr(t,Ar))return"";var n=D.Qu(t).search.match(Cr);return n&&n.length>1?n[1]:""}function Nr(t){return t.document&&t.document.baseURI||t.location.href||""}function Or(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function xr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Pr(){return void 0!==e?e.createElement("video"):void 0}function Lr(){return Ir||(Ir=Pr()),Ir}var Fr=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Mr=Lr(),Br=!(!Mr||!Mr.webkitShowPlaybackTargetPicker),Ur=function(){function t(){this.Zu=void 0,this.to=!1,this.ve=Fr,this.Ie=!1,this.io=!0}var n=t.prototype;return n.ro=function(){return 0},n.eo=function(t,n){return!0},n.uo=function(t){return t>=1/6*2},j(t,[{key:"oo",get:function(){return void 0===this.Zu&&(this.Zu=this.ro()),this.Zu}},{key:"so",get:function(){return r.devicePixelRatio||1}},{key:"co",get:function(){return Br}},{key:"ao",get:function(){return!1}},{key:"fo",get:function(){return!0}},{key:"ho",get:function(){return nt.Ve}},{key:"vo",get:function(){return!0}}]),t}(),Vr=function(){var t=Pr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(nt.Te)return!1;var t=Pr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var qr=function(t){function n(n){var i;return(i=t.call(this)||this).do=void 0,i.do=n,i.do&&(i.to=i.do.to,i.ve=i.do.ve,i.io=Vr&&i.do.io),i}z(n,t);var i=n.prototype;return i.ro=function(){return this.do?this.do.oo:t.prototype.ro.call(this)},i.eo=function(n,i){return this.do?this.do.eo(n,i):t.prototype.eo.call(this,n,i)},i.uo=function(n){return this.do?this.do.uo(n):t.prototype.uo.call(this,n)},n}(Ur),Hr=function(t){function n(n){var i;return(i=t.call(this,n)||this).to=!0,i.Ie=!0,i}return z(n,t),n}(qr),jr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.ro=function(){return S.MediaSource?t.prototype.ro.call(this):1},n}(Hr),Wr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.eo=function(n,i){return!(i.lo>1920)&&t.prototype.eo.call(this,n,i)},j(n,[{key:"ao",get:function(){return nt.Oe<3}},{key:"fo",get:function(){return nt.Oe>=3}}]),n}(qr),zr=function(t){function n(){return t.call(this)||this}return z(n,t),n}(Ur),$r=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.eo=function(t,n){if(t&&t.wo&&n&&n.wo){var i=Xr(t.wo,"mp4a.40.2")&&Xr(n.wo,"mp4a.40.5"),r=Xr(t.wo,"mp4a.40.5")&&Xr(n.wo,"mp4a.40.2"),e=Xr(t.wo,"mp4a.40.2")&&Xr(n.wo,"mp4a.40.34"),u=Xr(t.wo,"mp4a.40.34")&&Xr(n.wo,"mp4a.40.2"),o=Xr(t.wo,"mp4a.40.5")&&Xr(n.wo,"mp4a.40.34"),s=Xr(t.wo,"mp4a.40.34")&&Xr(n.wo,"mp4a.40.5");return!(i||r||e||u||o||s)}return!0},n}(zr);function Xr(t,n){return t.indexOf(n)>-1}var Gr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.uo=function(t){return t>=2},n}(zr),Yr=function(t){function n(){var n;return(n=t.call(this)||this).to=nt.qe>=11,n.io=nt.Ve&&!(nt.Se&&nt.qe<10),n}return z(n,t),n}(zr),Kr=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),j(n,[{key:"vo",get:function(){return!1}}]),n}(qr),Jr=function(){function n(){var n;this.yo=void 0,this._o=new cn,this.po=new Qr,this.mo=(n=function(){if(nt.Be)return new $r;if(nt.Pe||nt.Le)return new Gr;if(nt.Ve)return new Yr;return new zr}(),nt.Se?new jr(n):nt.Ie?new Hr(n):nt.Ne?new Wr(n):nt.xe?new Kr(n):new qr(n)),this.ko=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.yo=function(){return t.performance.now()}:this.yo=Zt}var i=n.prototype;return i.bo=function(){pt.apply(void 0,arguments)},i.To=function(){mt.apply(void 0,arguments)},i.Eo=function(){kt.apply(void 0,arguments)},i.So=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];bt.apply(void 0,[t].concat(i))},i.Ro=function(t,n){return s(t,n)},i.Io=function(t,n){return a(t,n)},i.Co=function(t){c(t)},i.Ao=function(t){f(t)},i.su=function(t){return this._o.su(t)},i.Do=function(){return this.No.Do()},i.Oo=function(){return this.No.Oo()},i.xo=function(){return this.No.xo()},i.Po=function(){return this.No.Po()},i.Lo=function(){return this.No.Lo()},i.Fo=function(t,n){return this.No.Fo(t,n)},i.Mo=function(t){return this.No.Mo(t)},i.Qu=function(t,n){return void 0===n&&(n=Nr(S)),new yr(t,n)},i.Ju=function(n,i){if(void 0===i&&(i=Nr(S)),this.ko){var r=at(i)?i:i.toString();return new t.URL(n,r).href}return this.Qu(n,i).href},j(n,[{key:"Bo",get:function(){return this.po}},{key:"Uo",get:function(){return this.mo}},{key:"Vo",get:function(){return{qo:o&&o.userAgent.match(/Android /i)?"Android":"other",Ho:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"jo",get:function(){return t&&t.location&&"https:"===t.location.protocol}}]),n}(),Qr=function(){function t(){}return j(t,[{key:"Wo",get:function(){return o.oscpu}},{key:"Uo",get:function(){return o.platform}},{key:"zo",get:function(){return o.vendor}},{key:"$o",get:function(){return o.vendorSub}}]),t}();var Zr=k(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function c(t,n,i,r){var e=n&&n.prototype instanceof p?n:p,u=d.create(e.prototype),o=new N(r||[]);return u.Xo=function(t,n,i){var r=f;return function(e,u){if(r===w)throw new h("Generator is already running");if(r===y){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var o=i.delegate;if(o){var s=C(o,i);if(s){if(s===_)continue;return s}}if("next"===i.method)i.sent=i.Go=i.arg;else if("throw"===i.method){if(r===f)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var c=a(t,n,i);if("normal"===c.type){if(r=i.done?y:l,c.arg===_)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=y,i.method="throw",i.arg=c.arg)}}}(t,i,o),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(O([])));E&&E!==i&&r.call(E,u)&&(b=E);var S=k.prototype=p.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Xo(n,t)}})}function I(t){var n;this.Xo=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,o){var s=a(t[i],t,e);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"Yo")?Promise.resolve(f.Yo).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function C(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,C(t,i),"throw"===i.method))return _;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return _}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,_;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,_):u:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,_)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Yo:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,r,e){var u=new I(c(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Go=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!g(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return s.type="throw",s.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),a=r.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new h("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new h("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),_}}}(t.exports)});function te(){return(te=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ne(){var t=d.create(null);return t.__=void 0,delete t.__,t}function ie(){return new oe}function re(t){var n=ie();for(var i in t)it.call(t,i)&&n.set(i,t[i]);return n}var ee,ue="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,oe=ue||(ee=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ne(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ne(),this.size=0},n.keys=function(){return new ee(this.data,function(t,n){return n})},n.values=function(){return new ee(this.data,function(t,n){return t[n]})},n.entries=function(){return new ee(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var se,ce=ue||(se=function(){function t(t,n){this.Jo=void 0,this.Qo=void 0,this.Jo=t,this.Qo=n}var n=t.prototype;return n.next=function(){var t=this.Jo.next();return t.done?t:{value:this.Qo(t.value),done:!1}},t}(),function(){function t(){this.Zo=ie()}var n=t.prototype;return n.get=function(t){return this.Zo.get(""+t)},n.set=function(t,n){return this.Zo.set(""+t,n),this},n.has=function(t){return this.Zo.has(""+t)},n.delete=function(t){return this.Zo.delete(""+t)},n.clear=function(){this.Zo.clear()},n.keys=function(){return new se(this.Zo.keys(),function(t){return Number(t)})},n.values=function(){return this.Zo.values()},n.entries=function(){return new se(this.Zo.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Zo.forEach(function(n,i){t(n,Number(i))})},j(t,[{key:"size",get:function(){return this.Zo.size}}]),t}());var ae,fe="cenc",he="sinf",ve="skd",de="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",le="com.microsoft.playready",we="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ye="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",ge="urn:uuid:"+ye,_e="com.apple.fps.1_0";!function(t){t.ts="playready",t.rs="widevine",t.es="fairplay",t.us="clearkey",t.os="aes128"}(ae||(ae={}));var pe={ss:ae.ts,cs:le,as:"cenc",fs:"9a04f079-9840-4286-ab92-e65be0885f95",hs:de,vs:"PlayReady"},me={ss:ae.rs,cs:"com.widevine.alpha",as:"cenc",fs:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",hs:we,vs:"Widevine"},ke={ss:ae.es,cs:_e,as:"skd",fs:ye,hs:ge,vs:"FairPlay"},be=(ae.es,{ss:ae.us,cs:"org.w3.clearkey",as:"cenc",fs:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",hs:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",vs:"ClearKey"}),Te=nt.Ae&&nt.De>=42||nt.Be&&nt.Ue>=38||nt.Pe||nt.Fe||nt.He&&nt.je>=29;function Ee(t,n){return _r(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Se=function(){function t(t){this.ds=void 0,this.ls=ie(),this.ys=void 0,this.ds=t}var n=t.prototype;return n.Lo=function(){return this.Mo(me)},n.Oo=function(){return this.Mo(be)},n.Po=function(){return this.Mo(pe)},n.xo=function(){return this.Mo(ke)},n.Mo=function(t){var n=t.hs,i=this.ls.get(n);if(i)return i;var r=this.Fo(t,'video/mp4; codecs="avc1.42000a"');return this.ls.set(n,r),r},n.Fo=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ds.gs(n.cs,[Ee(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.ds.gs(n.cs,[Ee(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Do=function(){return this.ys||(this.ys=this._s()),this.ys},n._s=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Te){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Oo();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Re(t,n){var i=function(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Ie(i,n,u,e);var o=i;i=e,e=o}return i}(t,n);return i!==t&&Ie(i,void 0,t.length,t),t}function Ie(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(e=(o=u+i)+i,o>a&&(o=a),e>a&&(e=a),s=u,c=o;;)if(s<o&&c<e)n&&n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<o)r[f++]=t[s++];else{if(!(c<e))break;r[f++]=t[c++]}}function Ce(t,n,i){var r=function(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function Ae(t,n){var i=t.indexOf(n);return-1!==i&&(De(t,i),!0)}function De(t,n){t.splice(n,1)}function Ne(t,n){return-1!==t.indexOf(n)}function Oe(t){t.length=0}var xe=function(){function t(){this.ps=!1,this.ks=!1,this.bs=[],this.Ts=[]}var n=t.prototype;return n.Es=function(){if(!this.ps&&!this.ks){this.ps=!0;for(var t=0,n=this.bs.slice();t<n.length;t++){(0,n[t])()}this.Ss()}},n.Ss=function(){if(!this.ks){this.ks=!0;for(var t=0,n=this.Ts.slice();t<n.length;t++){(0,n[t])()}Oe(this.bs),Oe(this.Ts)}},n.Rs=function(t){this.ks||this.bs.push(t)},n.Is=function(t){this.ks||Ae(this.bs,t)},n.Cs=function(t){this.ks||this.Ts.push(t)},n.As=function(t){this.ks||Ae(this.Ts,t)},t}(),Pe=function(){function t(){this.Ds=new xe}var n=t.prototype;return n.Ns=function(){this.Ds.Es()},n.Ss=function(){this.Ds.Ss()},n.Os=function(t){var n=this.Ds;if(!n.ps)if(t.ps)n.Es();else if(!n.ks&&!t.ks){var i=function(){r(),n.Es()},r=function r(){t.Is(i),t.As(r),n.Is(i),n.As(r)};t.Rs(i),t.Cs(r),n.Rs(i),n.Cs(r)}},n.xs=function(){var n=new t,i=new t,r=n.Ps,e=i.Ps,u=this.Ds,o=function(){r.ps&&e.ks||e.ps&&r.ks?u.Es():r.ks&&e.ks&&u.Ss()};r.Rs(o),e.Rs(o),r.Cs(o),e.Cs(o),n.Os(u),i.Os(u);return u.Cs(function(){r.Is(o),e.Is(o),r.As(o),e.As(o)}),[n,i]},j(t,[{key:"Ps",get:function(){return this.Ds}}]),t}(),Le=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return z(n,t),j(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function Fe(t){return t instanceof h&&"AbortError"===t.name}function Me(t){if(t&&t.ps)throw new Le}function Be(t){if(Fe(t))throw t}function Ue(t){if(!Fe(t))throw t}function Ve(t,n){return n?new C(function(i,r){if(n.ps)return t.catch(P),r(new Le);var e=function t(){n.Is(t),r(new Le)};n.Rs(e),t.then(function(t){n.Is(e),i(t)},function(t){n.Is(e),r(t)})}):t}function qe(t,n){return t.then(function(t){return n.Ss(),t},function(t){throw n.Ss(),t})}var He=C.resolve();function je(t){He.then(t)}function We(t){t.then(P,P)}function ze(t){return $e.apply(this,arguments)}function $e(){return($e=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(P)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Xe(t){return t&&"function"!=typeof t?t.slice():t}function Ge(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Ye,Ke=function(){function t(t){var n=this;this.Ls=ne(),this.Fs=void 0,this.Ms=void 0,this.Bs=function(t){n.Us(t)},this.Ms=t||this}var n=t.prototype;return n.Vs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.qs(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.qs(r,n)}},n.qs=function(t,n){var i=this.Ls[t];i?"function"==typeof i?this.Ls[t]=[i,n]:i.push(n):this.Ls[t]=n},n.Hs=function(t){if("function"==typeof t){var n=this.Fs;n?"function"==typeof n?this.Fs=[n,t]:n.push(t):this.Fs=t}},n.js=function(){this.Ls=ne(),this.Fs=void 0},n.Us=function(t){var n=Xe(this.Ls[t.type]),i=Xe(this.Fs);Ge(this.Ms,t,n),Ge(this.Ms,t,i)},n.Ws=function(t,n){if("function"==typeof n)if("string"==typeof t)this.zs(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.zs(r,n)}},n.zs=function(t,n){var i=this.Ls[t];i&&("function"==typeof i?i===n&&(this.Ls[t]=void 0):Ae(i,n))},n.$s=function(t){if("string"==typeof t)this.Ls[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Ls[i]=void 0}},n.Xs=function(t){var n=this.Fs;n&&("function"==typeof n?n===t&&(this.Fs=void 0):Ae(n,t))},n.Gs=function(t,n){var i=this;return new C(function(r,e){if(n&&n.ps)return e(new Le);var u=function(t){s(),r(t)},o=function(){s(),e(new Le)},s=function(){i.Ws(t,u),n&&n.Is(o)};i.Vs(t,u),n&&n.Rs(o)})},t}(),Je=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.Us=function(n){var i=this;je(function(){t.prototype.Us.call(i,n)})},n}(Ke),Qe=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ze=["cenc"],tu=["cbcs","cbcs-1-9"],nu=function(t){function n(n){var i;return(i=t.call(this,"Ks")||this).Ys=n,i}return z(n,t),n}(Qe),iu=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Js")||this).Ys=n,u.Qs=i,u.Js=r,u.Zs=e,u}return z(n,t),n}(Qe),ru=function(t){function n(){return t.call(this,"tc")||this}return z(n,t),n}(Qe);!function(t){t.nc="ic",t.rc="ec"}(Ye||(Ye={}));var eu=function(t){function n(n,i){var r;return(r=t.call(this,Ye.nc)||this).as=n,r.uc=i,r}return z(n,t),n}(Qe),uu=new _([0]).buffer,ou=function(){function t(){this.oc=void 0,this.oc=[]}var n=t.prototype;return n.sc=function(t){for(var n=0,i=this.oc;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.cc=function(t){for(var n=0,i=this.oc;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.ac=function(t,n){this.oc.forEach(function(n){return t(n[1],n[0])},n)},n.fc=function(t,n){this.oc.push([t,n])},n.hc=function(){Oe(this.oc)},j(t,[{key:"vc",get:function(){return this.oc.length}}]),t}(),su="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),cu=16383,au=/[\t\n\f\r ]/g;function fu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:hu()}function hu(){throw new h("Invalid base64 input")}function vu(t){var n=t;au.test(n)&&(n=n.replace(au,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return hu();for(var e,u=0===r?0:4-r,o=new _(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,a=0;c<s;c+=4)e=fu(n.charCodeAt(c))<<18|fu(n.charCodeAt(c+1))<<12|fu(n.charCodeAt(c+2))<<6|fu(n.charCodeAt(c+3)),o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===u?(e=fu(n.charCodeAt(c))<<2|fu(n.charCodeAt(c+1))>>4,o[a++]=255&e):1===u&&(e=fu(n.charCodeAt(c))<<10|fu(n.charCodeAt(c+1))<<4|fu(n.charCodeAt(c+2))>>2,o[a++]=e>>8&255,o[a++]=255&e),o}function du(t,n,i){for(var r,e,u,o=[],s=n;s<i;s+=3)o.push((r=t[s],e=t[s+1],u=t[s+2],su[r>>2]+su[(3&r)<<4|e>>4]+su[(15&e)<<2|u>>6]+su[63&u]));return o.join("")}function lu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=cu)r.push(du(t,u,l.min(e,u+cu)));if(1===i){var o=t[n-1];r.push(su[o>>2]+su[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];r.push(su[s>>2]+su[(3&s)<<4|c>>4]+su[(15&c)<<2]+"=")}return r.join("")}var wu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],yu=ArrayBuffer.isView||function(t){return t&&Ne(wu,rt.call(t))};function gu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new _(t),new _(n))}function _u(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new _(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function pu(t){return vu(t).buffer}function mu(t){return lu(new _(t))}function ku(t){return lu(Xu(t))}var bu=function(){function t(t){void 0===t&&(t=0),this.dc=t}var n=t.prototype;return n.lc=function(t){this.dc+=t},n.wc=function(t){this.dc=t},n.yc=function(){return new t(this.gc)},j(t,[{key:"gc",get:function(){return this.dc}}]),t}();function Tu(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Eu(t,n){return t>>n&63|128}function Su(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Tu(t),n.push(t>>12&15|224),n.push(Eu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Eu(t,12)),n.push(Eu(t,6))),n.push(63&t|128)):n.push(t)}function Ru(t,n){if(n.gc>=t.length)throw new h("Invalid byte index");var i=255&t[n.gc];if(n.lc(1),128==(192&i))return 63&i;throw new h("Invalid continuation byte")}function Iu(t,n){var i=n.gc;if(i>t.length)throw new h("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.lc(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Ru(t,n);if(e>=128)return e;throw new h("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Ru(t,n)<<6|Ru(t,n);if(u>=2048)return Tu(u),u;throw new h("Invalid continuation byte")}if(240==(248&r)){var o=(7&r)<<18|Ru(t,n)<<12|Ru(t,n)<<6|Ru(t,n);if(o>=65536&&o<=1114111)return o}throw new h("Invalid UTF-8 detected")}var Cu=65279;var Au=function(){function t(t){this._c=t}return t.prototype.pc=function(t){return function(t,n){return(t&n)===n}(this._c,t)},t}();function Du(t,n){var i=t.getUint8(n.gc);return n.lc(1),i}function Nu(t,n,i){t.setUint8(n.gc,i),n.lc(1)}function Ou(t,n,i){var r=Zu(no(t),n.gc,n.gc+i);return n.lc(r.byteLength),r}function xu(t,n,i){return n.gc+i<=t.byteLength}function Pu(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.gc,i);return n.lc(2),r}function Lu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.gc,i,r),n.lc(2)}function Fu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.gc,i);return n.lc(4),r}function Mu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.gc,i,r),n.lc(4)}function Bu(t,n,i){void 0===i&&(i=!1);var r=Fu(t,n,i),e=Fu(t,n,i),u=i?e:r,o=i?r:e;return Gt.fromBits(o,u,!0)}function Uu(t,n){var i=Du(t,n);if(i)return String.fromCharCode(i)}function Vu(t,n){return function(t,n){return ju(t,n,!0)}(t,n)}function qu(t,n,i){for(var r="",e=0;e<i;e++)r+=Uu(t,n);return r}function Hu(t,n){var i,r=Du(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Du(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Du(t,n))+(63&Du(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Du(t,n))+64*(63&Du(t,n))+(63&Du(t,n))),i}function ju(t,n,i){for(var r=[];n.gc<t.byteLength;){var e=Du(t,n);if(i&&!e)break;r.push(e)}return Er(r)}function Wu(t,n,i,r){for(var e=[];n.gc+2<=t.byteLength;){var u=Pu(t,n,i);if(r&&!u)break;e.push(u)}return Er(e)}function zu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Lu(t,n,i.charCodeAt(u),r)}}function $u(t){return ju(to(t),new oo,!1)}function Xu(t){var n=new _(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Nu(t,n,i.charCodeAt(e))}(to(n),new oo,t),n}function Gu(t,n){return void 0===n&&(n=!1),Wu(to(t),new oo,n,!1)}function Yu(t,n){void 0===n&&(n=!1);var i=new _(2*t.length);return zu(to(i),new oo,t,n),i}function Ku(t,n){return function(t,n,i){var r=[];(function(t,n){return n.gc+3<=t.byteLength&&239===t.getUint8(n.gc)&&187===t.getUint8(n.gc+1)&&191===t.getUint8(n.gc+2)})(t,n)&&n.lc(3);for(;n.gc<t.byteLength;){var e=Hu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return br(r)}(t,n,!0)}function Ju(t){return br(function(t,n){var i,r=[],e=new oo;if(!n){if(!1===(i=Iu(t,e)))return r;i===Cu||r.push(i)}for(;!1!==(i=Iu(t,e));)r.push(i);return r}(no(t)))}function Qu(t){return new _(function(t){for(var n=[],i=0;i<t.length;i++)Su(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Zu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new _(t.buffer,t.byteOffset+n,i-n)}function to(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function no(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function io(t){return t instanceof ArrayBuffer||yu(t)}function ro(t){return t instanceof ArrayBuffer?new _(t):no(t)}function eo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):uo(Zu(t,n,i))}function uo(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}var oo=function(){function t(t){void 0===t&&(t=0),this.dc=t}var n=t.prototype;return n.lc=function(t){this.dc+=t},n.wc=function(t){this.dc=t},n.yc=function(){return new t(this.gc)},n.mc=function(){return new bu(this.gc<<3)},j(t,[{key:"gc",get:function(){return this.dc}}]),t}(),so=function(){function t(){var t=this;this.kc=void 0,this.Fn=void 0,this.V=void 0,this.kc=new C(function(n,i){t.Fn=n,t.V=i})}var n=t.prototype;return n.bc=function(t){this.Fn&&(this.Fn(t),this.Ss())},n.Tc=function(t){this.V&&(this.V(t),this.Ss())},n.Ns=function(){this.kc.catch(P),this.Tc(new Le)},n.Ss=function(){this.Fn=void 0,this.V=void 0},t}();function co(){return new _([8,4]).buffer}function ao(t){return gu(t,co())}function fo(t,n){return t===le?function(t){if(t.byteLength<2*ho.length)return t;if(Gu(new DataView(t,0,2*ho.length),!0)===ho)return t;return n=t,Yu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+mu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ho="<PlayReady";var vo=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Ec=void 0,u.Sc=void 0,u.Ec=i,u.Sc=r,u}return z(n,t),n}(on),lo=function(t){function n(n,i){var r;(r=t.call(this)||this).Rc=void 0,r.Ic=!1,r.Cc=void 0,r.Ac=void 0,r.Dc=function(){r.Nc()},r.Oc=function(t){r.Us(new iu(en(r),t.messageType,fo(r.xc,t.message)))},r.Pc=function(){r.Ic=!0,r.Rc.vc>0&&(r.Rc.hc(),r.Us(new nu(en(r)))),r.Lc.removeEventListener("keystatuseschange",r.Dc),r.Lc.removeEventListener("message",r.Oc)},r.Lc=n,r.xc=i,r.Lc.addEventListener("keystatuseschange",r.Dc),r.Lc.addEventListener("message",r.Oc),r.Rc=new ou;var e=[];return r.Lc.closed&&e.push(C.resolve(r.Lc.closed)),r.Ac=new so,e.push(r.Ac.kc),r.Cc=C.race(e).then(r.Pc),r.Nc(),r}z(n,t);var i=n.prototype;return i.Fc=function(){if(this.Ic)return this.Cc;var t,n,i=[];return i.push(C.resolve(this.Lc.close())),i.push((t=1e3,new C(function(i,r){if(void 0!==n&&n.ps)r(new Le);else{var e=D.Ro(function(){void 0!==n&&n.Is(u),i()},t),u=function(){D.Co(e),r(new Le)};void 0!==n&&n.Rs(u)}}))),this.Ac.bc(C.race(i).catch(wo)),this.Ic=!0,this.Cc},i.Mc=function(t,n,i){return C.resolve(this.Lc.generateRequest(t,n)).catch(wo)},i.Bc=function(t){return C.resolve(this.Lc.load(t)).catch(wo)},i.Uc=function(){return C.resolve(this.Lc.remove()).catch(wo)},i.Vc=function(t){return C.resolve(this.Lc.update(t)).catch(wo)},i.Nc=function(){var t=this;this.Rc.hc(),this.Lc.keyStatuses.forEach(function(n,i){t.qc(i,n)}),this.Us(new nu(this))},i.qc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=ro(t);if(this.xc===le&&16===r.byteLength){var e=to(r),u=e.getUint32(0,!0),o=e.getUint16(4,!0),s=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,o,!1),e.setUint16(6,s,!1)}this.xc===le&&"status-pending"===n&&(n="usable"),this.Rc.fc(r,n)},j(n,[{key:"Hc",get:function(){return this.Cc}},{key:"jc",get:function(){return this.Lc.expiration}},{key:"Wc",get:function(){return this.Rc}},{key:"zc",get:function(){return this.Lc.sessionId}}]),n}(Ke);function wo(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new vo(t.message,void 0,n,t)}var yo=function(){function t(t,n,i){this.$c=t,this.Xc=n,this.Gc=i}var n=t.prototype;return n.Yc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new lo(this.$c.createSession(n),this.Xc));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Kc=function(t){return C.resolve(this.$c.setServerCertificate(t))},n.Jc=function(t){return C.resolve(t.setMediaKeys(this.$c))},n.Qc=function(t){return C.resolve(t.setMediaKeys(null))},t}(),go=function(){function t(t,n,i){this.Zc=t,this.xc=n,this.ta=i}var n=t.prototype;return n.na=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Zc.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new yo(n,this.xc,this.ta));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ia=function(){return this.ta},j(t,[{key:"Xc",get:function(){return this.Zc.keySystem}}]),t}();function _o(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function po(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ra:r.ra},o=!1;if(r.audioCapabilities){var s=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(u.audioCapabilities=s.filter(function(r){return mo(t,n,i,r)}),o=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(r){return mo(t,n,i,r)}),o=!0,u.videoCapabilities.length&&(e=!0))}return o||(e=t(i,"video/mp4")),e?u:void 0}}function mo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ne(n,r.encryptionScheme))&&(!r.robustness&&t(i,_o(r.contentType))))}function ko(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var o=u[e];if(o.contentType)return o.contentType}}function bo(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function To(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Eo))||!(!t.videoCapabilities||!t.videoCapabilities.some(Eo))}function Eo(t){return!t.robustness}function So(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(te({},e,{robustness:n}))}return i}var Ro=function(){function t(){}return t.prototype.gs=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,s,c,a,f,h;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ra}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=bo(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=bo(u.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(To)){t.next=14;break}return s=i.map(function(t){return i="SW_SECURE_CRYPTO",te({},n=t,{videoCapabilities:n.videoCapabilities?So(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?So(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,o.requestMediaKeySystemAccess(n,s);case 7:return c=t.sent,a=c.getConfiguration(),t.abrupt("return",new go(c,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,o.requestMediaKeySystemAccess(n,i);case 16:return f=t.sent,h=f.getConfiguration(),t.abrupt("return",new go(f,n,h));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.ea=function(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess},t}(),Io=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ic=!1,r.ua=void 0,r.oa=void 0,r.sa=void 0,r.ca=void 0,r.aa=void 0,r.Pc=function(){r.Ic=!0,r.ua.bc(void 0),r.aa&&(r.aa.removeEventListener("mskeyclose",r.Pc),r.aa.removeEventListener("mskeymessage",r.fa),r.aa.removeEventListener("mskeyerror",r.ha),r.aa.removeEventListener("mskeyadded",r.va))},r.fa=function(t){r.sa&&(r.sa.bc(void 0),r.sa=void 0),r.Us(new iu(en(r),"license-request",uo(t.message).buffer,t.destinationURL||void 0))},r.ha=function(){var t=r.aa&&r.aa.error;if(t){var n=new vo("Unknown CDM error",t.code,t.systemCode);if(r.sa)r.sa.Tc(n),r.sa=void 0;else if(r.oa)r.oa.Tc(n),r.oa=void 0;else switch(n.Ec){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.da("output-not-allowed");break;default:r.da("internal-error")}}},r.va=function(){r.sa&&(r.da("usable"),r.sa.bc(void 0),r.sa=void 0),r.oa&&(r.da("usable"),r.oa.bc(void 0),r.oa=void 0)},r.la=n,r.wa=i,r.ua=new so,r.ca=new ou,r}z(n,t);var i=n.prototype;return i.Mc=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ya(),this.sa=new so,this.Yc(ro(i),r),t.next=5,this.sa.kc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Yc=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.ga;return(i=n?this.la.createSession(this.wa,t,r):this.la.createSession(this.wa,t)).addEventListener("mskeyclose",this.Pc),i.addEventListener("mskeymessage",this.fa),i.addEventListener("mskeyerror",this.ha),i.addEventListener("mskeyadded",this.va),this.aa=i,this.da("status-pending"),i},i.Bc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ya(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Vc=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oa=new so,this.ya(),this.aa){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(i=ro(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.aa.update(i),t.next=10,this.oa.kc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fc=function(){return!this.Ic&&this.aa&&(this.Ic=!0,this.aa.close()),this.ua.kc},i.Uc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ya(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ya=function(){if(this.Ic)throw new v("Already closing or closed.")},i.da=function(t){this.ca.hc(),this.ca.fc(uu,t),this.Us(new nu(this))},j(n,[{key:"zc",get:function(){return this.aa&&this.aa.sessionId||""}},{key:"jc",get:function(){return NaN}},{key:"Hc",get:function(){return this.ua.kc}},{key:"Wc",get:function(){return this.ca}}]),n}(Ke),Co=function(){function t(t,n,i){this.wa=void 0,this.la=t,this.Xc=n,this.Gc=i;var r=ko(i)||"video/mp4";this.wa=_o(r)}var n=t.prototype;return n.Yc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Io(this.la,this.wa));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Kc=function(t){return C.resolve(!1)},n.Jc=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.la):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.la),t.removeEventListener("loadedmetadata",i)}),C.resolve()},n.Qc=function(t){return C.resolve()},t}(),Ao=function(){function t(t,n){this.xc=t,this._a=n}var n=t.prototype;return n.ia=function(){return this._a},n.na=function(){var t=new S.MSMediaKeys(this.xc);return C.resolve(new Co(t,this.xc,this._a))},j(t,[{key:"Xc",get:function(){return this.xc}}]),t}(),Do=function(){function t(){}return t.prototype.gs=function(t,n){try{return C.resolve(function(t,n){if(!No())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=po(Oo,Ze,t,r);if(e)return new Ao(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.ea=function(){return No()},t}();function No(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Oo(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var xo,Po,Lo=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ua=new so,e.pa=void 0,e.ca=new ou,e.ma=void 0,e.ka=new so,e.ha=function(){var t=e.ma&&e.ma.error;if(t){var n=new vo("Unknown CDM error",t.code,t.systemCode);e.pa?(e.pa.Tc(n),e.pa=void 0):n.Ec===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.da("output-not-allowed"):e.da("internal-error"),e.Us(new ru)}},e.fa=function(t){e.pa&&(e.pa.bc(void 0),e.pa=void 0),e.Us(new iu(en(e),"license-request",uo(t.message).buffer,t.destinationURL||void 0))},e.ba=n,e.wa=i,e.Ta=r,e}z(n,t);var i=n.prototype;return i.Mc=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Ea;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=Fo(ro(n),r,this.Ta);return this.ma=this.ba.createSession(this.wa,e),this.ma.addEventListener("webkitkeymessage",this.fa,!1),this.ma.addEventListener("webkitkeyerror",this.ha,!1),this.da("usable"),this.ka.bc(this.ma),this.ka=new so,C.resolve()},i.Bc=function(t){return C.resolve(!0)},i.Vc=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ro(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.pa=new so,t.t0=this.ma,t.t0){t.next=9;break}return t.next=8,this.ka.kc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.pa.kc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fc=function(){var t=this.ma;return t&&(t.removeEventListener("webkitkeymessage",this.fa,!1),t.removeEventListener("webkitkeyerror",this.ha,!1),t.close()),this.ka.Ns(),this.ua.bc(void 0),this.ua.kc},i.Uc=function(){return C.resolve(void 0)},i.da=function(t){this.ca.hc(),this.ca.fc(uu,t),this.Us(new nu(this))},j(n,[{key:"zc",get:function(){return this.ma?this.ma.sessionId:""}},{key:"jc",get:function(){return NaN}},{key:"Hc",get:function(){return this.ua.kc}},{key:"Wc",get:function(){return this.ca}}]),n}(Ke);function Fo(t,n,i){var r=Ju(t),e=2*r.length,u=2*n.length,o=new ArrayBuffer(4+e+4+u+4+i.byteLength),s=new DataView(o),c=new oo;return Mu(s,c,e,!0),zu(s,c,r,!0),Mu(s,c,u,!0),zu(s,c,n,!0),Mu(s,c,i.byteLength,!0),function(t,n,i){no(t).set(no(i),n.gc),n.lc(i.byteLength)}(s,c,i),new _(o)}(xo=n.ErrorCode||(n.ErrorCode={}))[xo.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",xo[xo.LICENSE_ERROR=2e3]="LICENSE_ERROR",xo[xo.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",xo[xo.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",xo[xo.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",xo[xo.SOURCE_INVALID=3e3]="SOURCE_INVALID",xo[xo.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",xo[xo.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",xo[xo.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",xo[xo.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",xo[xo.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",xo[xo.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",xo[xo.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",xo[xo.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",xo[xo.MEDIA_ABORTED=5004]="MEDIA_ABORTED",xo[xo.NETWORK_ERROR=6e3]="NETWORK_ERROR",xo[xo.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",xo[xo.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",xo[xo.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",xo[xo.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",xo[xo.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",xo[xo.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",xo[xo.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",xo[xo.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",xo[xo.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",xo[xo.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",xo[xo.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",xo[xo.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",xo[xo.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",xo[xo.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",xo[xo.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",xo[xo.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",xo[xo.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",xo[xo.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",xo[xo.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",xo[xo.AD_ERROR=1e4]="AD_ERROR",xo[xo.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",xo[xo.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Po=n.ErrorCategory||(n.ErrorCategory={}))[Po.CONFIGURATION=1]="CONFIGURATION",Po[Po.LICENSE=2]="LICENSE",Po[Po.SOURCE=3]="SOURCE",Po[Po.MANIFEST=4]="MANIFEST",Po[Po.MEDIA=5]="MEDIA",Po[Po.NETWORK=6]="NETWORK",Po[Po.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Po[Po.SUBTITLE=8]="SUBTITLE",Po[Po.VR=9]="VR",Po[Po.AD=10]="AD",Po[Po.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var Mo=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return z(i,t),j(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),Bo=function(){function t(t,n,i){this.wa=void 0,this.Ta=void 0,this.ba=t,this.Xc=n,this.Gc=i;var r=ko(i)||"video/mp4";this.wa=_o(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.ba},i.Yc=function(){var t=C.coroutine(Zr.mark(function t(i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ta){t.next=2;break}throw new Mo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Lo(this.ba,this.wa,this.Ta));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Kc=function(t){return this.Ta=ro(t),C.resolve(!0)},i.Jc=function(t){return t.webkitSetMediaKeys(this.ba),C.resolve()},i.Qc=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Uo=function(){function t(t,n){this.xc=t,this._a=n}var n=t.prototype;return n.ia=function(){return this._a},n.na=function(){var t=new S.WebKitMediaKeys(this.xc);return C.resolve(new Bo(t,this.xc,this._a))},j(t,[{key:"Xc",get:function(){return this.xc}}]),t}(),Vo=function(){function t(){}return t.prototype.gs=function(t,n){try{return C.resolve(function(t,n){if(t!==_e)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!qo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=po(Ho,tu,t,r);if(e)return new Uo(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.ea=function(){return qo()},t}();function qo(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function Ho(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var jo,Wo=function(){function t(t){this.Sa=t}return t.prototype.gs=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Sa;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.gs(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),zo=function(t){function n(n){var i;return(i=t.call(this)||this).sa=void 0,i.pa=void 0,i.ua=void 0,i.Ra=!1,i.Ia=void 0,i.Ca=void 0,i.Aa=void 0,i.Da=void 0,i.Na=void 0,i.xc=n,i.ua=new so,i.Ca="",i.Na=new so,i.Aa=new ou,i}z(n,t);var i=n.prototype;return i.Oa=function(){this.pa&&(this.da("usable"),this.pa.bc(void 0),this.pa=void 0)},i.xa=function(t){var n=new vo("Unknown CDM error",t.errorCode,t.systemCode);this.pa?(this.pa.Tc(n),this.pa=void 0):this.sa?(this.sa.Tc(n),this.sa=void 0):n.Ec===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.da("output-restricted"):1===n.Sc?this.da("expired"):this.da("internal-error")},i.Pa=function(t){0!==t.message.byteLength&&(this.sa&&(this.sa.bc(void 0),this.sa=void 0),this.Us(new iu(this,"license-request",fo(this.xc,uo(t.message).buffer),t.defaultURL||void 0)))},i.La=function(t){this.Da||(this.Da=t,this.Na.bc(t))},i.Fc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Ra=!0,this.ua.bc(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Mc=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.sa=new so,this.Ia=ro(i),t.t0=this.Da,t.t0){t.next=8;break}return t.next=7,this.Na.kc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.xc,this.Ia),t.next=12,this.sa.kc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Bc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Uc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.pa=new so,t.t0=this.Da,t.t0){t.next=7;break}return t.next=6,this.Na.kc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.xc,ro(n),this.Ia,this.zc),t.next=11,this.pa.kc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Ra)throw new v("Already closing or closed.")},i.da=function(t){this.Aa.hc(),this.Aa.fc(uu,t),this.Us(new nu(this))},j(n,[{key:"Wc",get:function(){return this.Aa}},{key:"zc",get:function(){return this.Ca},set:function(t){this.Ca=t}},{key:"Hc",get:function(){return this.ua.kc}},{key:"jc",get:function(){return NaN}}]),n}(Ke),$o=function(){function t(t,n){var i=this;this.Da=void 0,this.Fa=ie(),this.Ma=[],this.va=function(t){var n=i.Ba(t.sessionId);n&&n.Oa()},this.Ua=function(t){var n=i.Ba(t.sessionId);n&&n.xa(t)},this.Va=function(t){var n=i.Ba(t.sessionId);n&&n.Pa(t)},this.Xc=t,this.Gc=n}var n=t.prototype;return n.Jc=function(t){return this.Da=t,this.Da.addEventListener("webkitkeyadded",this.va),this.Da.addEventListener("webkitkeyerror",this.Ua),this.Da.addEventListener("webkitkeymessage",this.Va),this.Fa.forEach(function(n,i){return n.La(t)}),this.Ma.forEach(function(n){return n.La(t)}),C.resolve()},n.Qc=function(t){return t.removeEventListener("webkitkeyadded",this.va),t.removeEventListener("webkitkeyerror",this.Ua),t.removeEventListener("webkitkeymessage",this.Va),this.Da=void 0,C.resolve()},n.Yc=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new zo(this.Xc),this.Da&&e.La(this.Da),this.Ma.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Kc=function(t){return C.resolve(!1)},n.Ba=function(t){if(t){var n=this.Fa.get(t);return n||((n=this.Ma.shift())?(n.zc=t,this.Fa.set(t,n),n):void 0)}},t}(),Xo=function(){function t(t,n){this.Xc=t,this.qa=n}var n=t.prototype;return n.na=function(){return C.resolve(new $o(this.Xc,this.qa))},n.ia=function(){return this.qa},t}(),Go=function(){function t(){}return t.prototype.gs=function(t,n){try{return C.resolve(Yo(t,n))}catch(t){return C.reject(t)}},t.ea=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Yo(t,n){if(!Go.ea())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=po(Ko,Ze,t,r);if(e)return new Xo(t,e)}throw new v("Unsupported key system configuration for "+t)}function Ko(t,n){var i=Lr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Jo(){return jo||(jo=function(){var t=[];Vo.ea()&&t.push(new Vo);Ro.ea()&&t.push(new Ro);Do.ea()&&t.push(new Do);Go.ea()&&t.push(new Go);return new Wo(t)}()),jo}var Qo=function(){function t(){this.Ha=ie()}var n=t.prototype;return n.hc=function(t){this.Ha.delete(t)},n.ja=function(){this.Ha.clear()},n.cc=function(t){return this.Ha.get(t)},n.Wa=function(t,n){this.Ha.set(t,n)},t}(),Zo=function(){function t(){}return t.za=function(){return t.Ze||(t.Ze=ts.ea()?new ts:new Qo),t.Ze},t.hc=function(n){t.za().hc(n)},t.ja=function(){t.za().ja()},t.cc=function(n){return t.za().cc(n)},t.Wa=function(n,i){t.za().Wa(n,i)},t}();Zo.Ze=void 0;var ts=function(n){function i(){return n.apply(this,arguments)||this}z(i,n),i.ea=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.hc=function(n){t.sessionStorage.removeItem(n)},r.ja=function(){t.sessionStorage.clear()},r.cc=function(n){return t.sessionStorage[n]},r.Wa=function(n,i){t.sessionStorage[n]=i},i}(Zo);var ns=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function is(t,n,i){var r=ns([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),o=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=e.createElement("a");s.href=u,s.download=o,e.body.appendChild(s),s.click(),e.body.removeChild(s),URL.revokeObjectURL(u)}var rs,es;!function(t){t.$a="Xa",t.Ga="Ya",t.Ka="contentprotectionerror",t.Ja="contentprotectionsuccess",t.Qa="currentsourcechange",t.Za="destroy",t.tf="durationchange",t.nf="emptied",t.nc="encrypted",t.if="ended",t.rf="ef",t.uf="loadstart",t.sf="manifestupdate",t.cf="nosupportedrepresentationfound",t.af="offline",t.ff="online",t.hf="pause",t.vf="play",t.df="progress",t.lf="ratechange",t.wf="representationchange",t.yf="resize",t.gf="seeked",t._f="seeking",t.pf="segmentnotfound",t.mf="kf",t.bf="Tf",t.Ef="sourcechange",t.Sf="timeupdate",t.Rf="volumechange",t.If="Cf",t.Af="metricschange"}(rs||(rs={})),function(t){t.Df="arraybuffer",t.Nf="json",t.Of="stream",t.eu="text"}(es||(es={}));var us=function(){function t(n){var i=this;this.Zo=void 0,this.Zo={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=os(i),r=ss(r);var e=i.toLowerCase();if(this.Zo.hasOwnProperty(e)){var u=this.Zo[e],o=u[1];u[1]=o?o+", "+r:r}else this.Zo[e]=[i,r]},n.delete=function(t){var n=os(t).toLowerCase();delete this.Zo[n]},n.get=function(t){var n=os(t).toLowerCase();return this.Zo.hasOwnProperty(n)?this.Zo[n][1]:null},n.has=function(t){var n=os(t).toLowerCase();return this.Zo.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=os(i)).toLowerCase();this.Zo[r]=[i,ss(n)]},n.forEach=function(t,n){for(var i in this.Zo)this.Zo.hasOwnProperty(i)&&t.call(n,this.Zo[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Zo)if(this.Zo.hasOwnProperty(n)){var i=this.Zo[n],r=i[0],e=i[1];t.push([r,e])}return t},n.xf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Pf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Lf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function os(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function ss(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function as(){}var fs=Number.isNaN||function(t){return t!=t},hs=as;function vs(t){return"object"==typeof t&&null!==t||"function"==typeof t}function ds(t){return t.slice()}function ls(t){return!1!==function(t){if("number"!=typeof t)return!1;if(fs(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function ws(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ys(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return _s(e,t,r)};case 1:return function(n){var i=[n].concat(r);return _s(e,t,i)}}}return function(){return Is(void 0)}}function gs(t,n,i){var r=t[n];if(void 0!==r)return ws(r,t,i)}function _s(t,n,i){try{return Is(ws(t,n,i))}catch(t){return Cs(t)}}function ps(t){return t}function ms(t){if(t=Number(t),fs(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function ks(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var bs=C,Ts=C.prototype.then,Es=C.resolve.bind(bs),Ss=C.reject.bind(bs);function Rs(t){return new bs(t)}function Is(t){return Es(t)}function Cs(t){return Ss(t)}function As(t,n,i){return Ts.call(t,n,i)}function Ds(t,n,i){As(As(t,n,i),void 0,hs)}function Ns(t,n){Ds(t,n)}function Os(t,n){Ds(t,void 0,n)}function xs(t,n,i){return As(t,n,i)}function Ps(t){As(t,void 0,hs)}var Ls=function(){function t(){this.Ff=0,this.Mf=0,this.mi={Bf:[],Uf:void 0},this.Vf=this.mi,this.Ff=0,this.Mf=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Mf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Vf,i=n;16383===n.Bf.length&&(i={Bf:[],Uf:void 0}),n.Bf.push(t),i!==n&&(this.Vf=i,n.Uf=i),++this.Mf},t.prototype.shift=function(){var t=this.mi,n=t,i=this.Ff,r=i+1,e=t.Bf,u=e[i];return 16384===r&&(n=t.Uf,r=0),--this.Mf,this.Ff=r,t!==n&&(this.mi=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Ff,i=this.mi,r=i.Bf;!(n===r.length&&void 0===i.Uf||n===r.length&&(n=0,0===(r=(i=i.Uf).Bf).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.mi,n=this.Ff;return t.Bf[n]},t}();function Fs(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Ms(t,n){t.qf=!0,t.Hf=n,n.jf=t,"readable"===n.Wf?qs(t):"closed"===n.Wf?function(t){qs(t),Ws(t)}(t):Hs(t,n.zf)}function Bs(t,n){return Ga(t.Hf,n)}function Us(t){"readable"===t.Hf.Wf?js(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Hs(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Hf.jf=void 0,t.Hf=void 0}function Vs(t){return new v("Cannot "+t+" a stream using a released reader")}function qs(t){t.Cc=Rs(function(n,i){t.$f=n,t.Xf=i})}function Hs(t,n){qs(t),js(t,n)}function js(t,n){Ps(t.Cc),t.Xf(n),t.$f=void 0,t.Xf=void 0}function Ws(t){t.$f(void 0),t.$f=void 0,t.Xf=void 0}var zs=cs("[[CancelSteps]]"),$s=cs("[[PullSteps]]");function Xs(t,n){void 0===n&&(n=!1);var i=new tc(t);return i.qf=n,i}function Gs(t){return Rs(function(n,i){var r={Fn:n,V:i};t.jf.Gf.push(r)})}function Ys(t,n,i){var r=t.jf;r.Gf.shift().Fn(Fs(n,i,r.qf))}function Ks(t){return t.jf.Gf.length}function Js(t){var n=t.jf;return void 0!==n&&!!nc(n)}var Qs,Zs,tc=function(){function t(t){if(!1===$a(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Xa(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ms(this,t),this.Gf=new Ls}return d.defineProperty(t.prototype,"closed",{get:function(){return nc(this)?this.Cc:Cs(rc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return nc(this)?void 0===this.Hf?Cs(Vs("cancel")):Bs(this,t):Cs(rc("cancel"))},t.prototype.read=function(){return nc(this)?void 0===this.Hf?Cs(Vs("read from")):ic(this):Cs(rc("read"))},t.prototype.releaseLock=function(){if(!nc(this))throw rc("releaseLock");if(void 0!==this.Hf){if(this.Gf.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Us(this)}},t}();function nc(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Gf")}function ic(t){var n=t.Hf;return n.Yf=!0,"closed"===n.Wf?Is(Fs(void 0,!0,t.qf)):"errored"===n.Wf?Cs(n.zf):n.Kf[$s]()}function rc(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof cs.asyncIterator&&((Qs={})[cs.asyncIterator]=function(){return this},Zs=Qs,d.defineProperty(Zs,cs.asyncIterator,{enumerable:!1}));var ec={next:function(){if(!1===uc(this))return Cs(oc("next"));var t=this.Jf;return void 0===t.Hf?Cs(Vs("iterate")):xs(ic(t),function(n){var i=n.done;return i&&Us(t),Fs(n.value,i,!0)})},return:function(t){if(!1===uc(this))return Cs(oc("next"));var n=this.Jf;if(void 0===n.Hf)return Cs(Vs("finish iterating"));if(n.Gf.length>0)return Cs(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Qf){var i=Bs(n,t);return Us(n),xs(i,function(){return Fs(t,!0,!0)})}return Us(n),Is(Fs(t,!0,!0))}};function uc(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Jf")}function oc(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function sc(t){var n=t.Dn.shift();return t.Zf-=n.size,t.Zf<0&&(t.Zf=0),n.value}function cc(t,n,i){if(!ls(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Dn.push({value:n,size:i}),t.Zf+=i}function ac(t){t.Dn=new Ls,t.Zf=0}void 0!==Zs&&d.setPrototypeOf(ec,Zs),d.defineProperty(ec,"next",{enumerable:!1}),d.defineProperty(ec,"return",{enumerable:!1});var fc=cs("[[AbortSteps]]"),hc=cs("[[ErrorSteps]]"),vc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),lc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=ks(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(Oc.prototype);var u=ys(n,"write",1,[e]),o=ys(n,"close",0,[]),s=ys(n,"abort",1,[]);xc(t,e,function(){return gs(n,"start",[e])},u,o,s,i,r)}(this,t,r=ms(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===wc(this))throw Vc("locked");return yc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===wc(this)?Cs(Vc("abort")):!0===yc(this)?Cs(new v("Cannot abort a stream that already has a writer")):gc(this,t)},t.prototype.close=function(){return!1===wc(this)?Cs(Vc("close")):!0===yc(this)?Cs(new v("Cannot close a stream that already has a writer")):!0===bc(this)?Cs(new v("Cannot close an already-closing stream")):_c(this)},t.prototype.getWriter=function(){if(!1===wc(this))throw Vc("getWriter");return dc(this)},t}();function dc(t){return new Sc(t)}function lc(t){t.Wf="writable",t.zf=void 0,t.th=void 0,t.nh=void 0,t.ih=new Ls,t.rh=void 0,t.eh=void 0,t.uh=void 0,t.oh=void 0,t.sh=!1}function wc(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"nh")}function yc(t){return void 0!==t.th}function gc(t,n){var i=t.Wf;if("closed"===i||"errored"===i)return Is(void 0);if(void 0!==t.oh)return t.oh.un;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Rs(function(i,e){t.oh={un:void 0,Fn:i,V:e,Sn:n,ah:r}});return t.oh.un=e,!1===r&&mc(t,n),e}function _c(t){var n=t.Wf;if("closed"===n||"errored"===n)return Cs(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=Rs(function(n,i){var r={Fn:n,V:i};t.eh=r}),e=t.th;return void 0!==e&&!0===t.sh&&"writable"===n&&Jc(e),cc(i=t.nh,"close",0),Fc(i),r}function pc(t,n){"writable"!==t.Wf?kc(t):mc(t,n)}function mc(t,n){var i=t.nh;t.Wf="erroring",t.zf=n;var r=t.th;void 0!==r&&Ac(r,n),!1===function(t){if(void 0===t.rh&&void 0===t.uh)return!1;return!0}(t)&&!0===i.fh&&kc(t)}function kc(t){t.Wf="errored",t.nh[hc]();var n=t.zf;if(t.ih.forEach(function(t){t.V(n)}),t.ih=new Ls,void 0!==t.oh){var i=t.oh;if(t.oh=void 0,!0===i.ah)return i.V(n),void Tc(t);Ds(t.nh[fc](i.Sn),function(){i.Fn(),Tc(t)},function(n){i.V(n),Tc(t)})}else Tc(t)}function bc(t){return void 0!==t.eh||void 0!==t.uh}function Tc(t){void 0!==t.eh&&(t.eh.V(t.zf),t.eh=void 0);var n=t.th;void 0!==n&&zc(n,t.zf)}function Ec(t,n){var i=t.th;void 0!==i&&n!==t.sh&&(!0===n?function(t){Xc(t)}(i):Jc(i)),t.sh=n}var Sc=function(){function t(t){if(!1===wc(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===yc(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.hh=t,t.th=this;var n,i=t.Wf;if("writable"===i)!1===bc(t)&&!0===t.sh?Xc(this):Yc(this),jc(this);else if("erroring"===i)Gc(this,t.zf),jc(this);else if("closed"===i)Yc(this),jc(n=this),$c(n);else{var r=t.zf;Gc(this,r),Wc(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Rc(this)?Cs(qc("closed")):this.Cc},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Rc(this))throw qc("desiredSize");if(void 0===this.hh)throw Hc("desiredSize");return function(t){var n=t.hh,i=n.Wf;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Lc(n.nh)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Rc(this)?Cs(qc("ready")):this.vh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Rc(this)?Cs(qc("abort")):void 0===this.hh?Cs(Hc("abort")):function(t,n){return gc(t.hh,n)}(this,t)},t.prototype.close=function(){if(!1===Rc(this))return Cs(qc("close"));var t=this.hh;return void 0===t?Cs(Hc("close")):!0===bc(t)?Cs(new v("Cannot close an already-closing stream")):Ic(this)},t.prototype.releaseLock=function(){if(!1===Rc(this))throw qc("releaseLock");void 0!==this.hh&&Dc(this)},t.prototype.write=function(t){return!1===Rc(this)?Cs(qc("write")):void 0===this.hh?Cs(Hc("write to")):Nc(this,t)},t}();function Rc(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"hh")}function Ic(t){return _c(t.hh)}function Cc(t,n){"pending"===t.dh?zc(t,n):function(t,n){Wc(t,n)}(t,n)}function Ac(t,n){"pending"===t.lh?Kc(t,n):function(t,n){Gc(t,n)}(t,n)}function Dc(t){var n=t.hh,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");Ac(t,i),Cc(t,i),n.th=void 0,t.hh=void 0}function Nc(t,n){var i=t.hh,r=i.nh,e=function(t,n){try{return t.wh(n)}catch(n){return Mc(t,n),1}}(r,n);if(i!==t.hh)return Cs(Hc("write to"));var u=i.Wf;if("errored"===u)return Cs(i.zf);if(!0===bc(i)||"closed"===u)return Cs(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Cs(i.zf);var o=function(t){return Rs(function(n,i){var r={Fn:n,V:i};t.ih.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{cc(t,r,i)}catch(n){return void Mc(t,n)}var e=t.yh;if(!1===bc(e)&&"writable"===e.Wf){var u=Bc(t);Ec(e,u)}Fc(t)}(r,n,e),o}var Oc=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!vs(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"yh"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.yh.Wf&&Uc(this,t)},t.prototype[fc]=function(t){var n=this.gh(t);return Pc(this),n},t.prototype[hc]=function(){ac(this)},t}();function xc(t,n,i,r,e,u,o,s){n.yh=t,t.nh=n,n.Dn=void 0,n.Zf=void 0,ac(n),n.fh=!1,n.wh=s,n._h=o,n.ph=r,n.mh=e,n.gh=u;var c=Bc(n);Ec(t,c),Ds(Is(i()),function(){n.fh=!0,Fc(n)},function(i){n.fh=!0,pc(t,i)})}function Pc(t){t.ph=void 0,t.mh=void 0,t.gh=void 0,t.wh=void 0}function Lc(t){return t._h-t.Zf}function Fc(t){var n=t.yh;if(!1!==t.fh&&void 0===n.rh)if("erroring"!==n.Wf){if(0!==t.Dn.length){var i=t.Dn.peek().value;"close"===i?function(t){var n=t.yh;(function(t){t.uh=t.eh,t.eh=void 0})(n),sc(t);var i=t.mh();Pc(t),Ds(i,function(){!function(t){t.uh.Fn(void 0),t.uh=void 0,"erroring"===t.Wf&&(t.zf=void 0,void 0!==t.oh&&(t.oh.Fn(),t.oh=void 0)),t.Wf="closed";var n=t.th;void 0!==n&&$c(n)}(n)},function(t){!function(t,n){t.uh.V(n),t.uh=void 0,void 0!==t.oh&&(t.oh.V(n),t.oh=void 0),pc(t,n)}(n,t)})}(t):function(t,n){var i=t.yh;(function(t){t.rh=t.ih.shift()})(i),Ds(t.ph(n),function(){!function(t){t.rh.Fn(void 0),t.rh=void 0}(i);var n=i.Wf;if(sc(t),!1===bc(i)&&"writable"===n){var r=Bc(t);Ec(i,r)}Fc(t)},function(n){"writable"===i.Wf&&Pc(t),function(t,n){t.rh.V(n),t.rh=void 0,pc(t,n)}(i,n)})}(t,i.chunk)}}else kc(n)}function Mc(t,n){"writable"===t.yh.Wf&&Uc(t,n)}function Bc(t){return Lc(t)<=0}function Uc(t,n){var i=t.yh;Pc(t),mc(i,n)}function Vc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function qc(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Hc(t){return new v("Cannot "+t+" a stream using a released writer")}function jc(t){t.Cc=Rs(function(n,i){t.$f=n,t.Xf=i,t.dh="pending"})}function Wc(t,n){jc(t),zc(t,n)}function zc(t,n){Ps(t.Cc),t.Xf(n),t.$f=void 0,t.Xf=void 0,t.dh="rejected"}function $c(t){t.$f(void 0),t.$f=void 0,t.Xf=void 0,t.dh="resolved"}function Xc(t){t.vh=Rs(function(n,i){t.kh=n,t.bh=i}),t.lh="pending"}function Gc(t,n){Xc(t),Kc(t,n)}function Yc(t){Xc(t),Jc(t)}function Kc(t,n){Ps(t.vh),t.bh(n),t.kh=void 0,t.bh=void 0,t.lh="rejected"}function Jc(t){t.kh(void 0),t.kh=void 0,t.bh=void 0,t.lh="fulfilled"}function Qc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Zc="undefined"!=typeof DOMException?DOMException:void 0;var ta,na=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Zc)?Zc:((ta=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(ta.prototype,"constructor",{value:ta,writable:!0,configurable:!0}),ta);function ia(t,n,i,r,e,u){var o=Xs(t),s=dc(n);t.Yf=!0;var c=!1,a=Is(void 0);return Rs(function(f,h){var d,l,w,y;if(void 0!==u){if(d=function(){var i=new na("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.Wf?gc(n,i):Is(void 0)}),!1===e&&u.push(function(){return"readable"===t.Wf?Ga(t,i):Is(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(p(t,o.Cc,function(t){!1===r?m(function(){return gc(n,t)},!0,t):k(!0,t)}),p(n,s.Cc,function(n){!1===e?m(function(){return Ga(t,n)},!0,n):k(!0,n)}),l=t,w=o.Cc,y=function(){!1===i?m(function(){return function(t){var n=t.hh,i=n.Wf;return!0===bc(n)||"closed"===i?Is(void 0):"errored"===i?Cs(n.zf):Ic(t)}(s)}):k()},"closed"===l.Wf?y():Ns(w,y),!0===bc(n)||"closed"===n.Wf){var g=new v("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return Ga(t,g)},!0,g):k(!0,g)}function _(){var t=a;return As(a,function(){return t!==a?_():void 0})}function p(t,n,i){"errored"===t.Wf?i(t.zf):Os(n,i)}function m(t,i,r){function e(){Ds(t(),function(){return b(i,r)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.Wf&&!1===bc(n)?Ns(_(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.Wf&&!1===bc(n)?Ns(_(),function(){return b(t,i)}):b(t,i))}function b(t,n){Dc(s),Us(o),void 0!==u&&u.removeEventListener("abort",d),t?h(n):f(void 0)}Ps(Rs(function(t,n){!function i(r){r?t():As(!0===c?Is(!0):As(s.vh,function(){return As(ic(o),function(t){return!0===t.done||(a=As(Nc(s,t.value),void 0,as),!1)})}),i,n)}(!1)}))})}var ra=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ea(this))throw la("desiredSize");return ha(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ea(this))throw la("close");if(!1===va(this))throw new v("The stream is not in a state that permits close");ca(this)},t.prototype.enqueue=function(t){if(!1===ea(this))throw la("enqueue");if(!1===va(this))throw new v("The stream is not in a state that permits enqueue");return aa(this,t)},t.prototype.error=function(t){if(!1===ea(this))throw la("error");fa(this,t)},t.prototype[zs]=function(t){ac(this);var n=this.Th(t);return sa(this),n},t.prototype[$s]=function(){var t=this.Eh;if(this.Dn.length>0){var n=sc(this);return!0===this.Sh&&0===this.Dn.length?(sa(this),Ya(t)):ua(this),Is(Fs(n,!1,t.jf.qf))}var i=Gs(t);return ua(this),i},t}();function ea(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Eh")}function ua(t){!1!==oa(t)&&(!0!==t.Rh?(t.Rh=!0,Ds(t.Ih(),function(){t.Rh=!1,!0===t.Ch&&(t.Ch=!1,ua(t))},function(n){fa(t,n)})):t.Ch=!0)}function oa(t){var n=t.Eh;return!1!==va(t)&&(!1!==t.fh&&(!0===Xa(n)&&Ks(n)>0||ha(t)>0))}function sa(t){t.Ih=void 0,t.Th=void 0,t.wh=void 0}function ca(t){var n=t.Eh;t.Sh=!0,0===t.Dn.length&&(sa(t),Ya(n))}function aa(t,n){var i=t.Eh;if(!0===Xa(i)&&Ks(i)>0)Ys(i,n,!1);else{var r=void 0;try{r=t.wh(n)}catch(n){throw fa(t,n),n}try{cc(t,n,r)}catch(n){throw fa(t,n),n}}ua(t)}function fa(t,n){var i=t.Eh;"readable"===i.Wf&&(ac(t),sa(t),Ka(i,n))}function ha(t){var n=t.Eh.Wf;return"errored"===n?null:"closed"===n?0:t._h-t.Zf}function va(t){var n=t.Eh.Wf;return!1===t.Sh&&"readable"===n}function da(t,n,i,r,e,u,o){n.Eh=t,n.Dn=void 0,n.Zf=void 0,ac(n),n.fh=!1,n.Sh=!1,n.Ch=!1,n.Rh=!1,n.wh=o,n._h=u,n.Ih=r,n.Th=e,t.Kf=n,Ds(Is(i()),function(){n.fh=!0,ua(n)},function(t){fa(n,t)})}function la(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var wa=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},ya=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===pa(this))throw La("view");return this.Ah},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===pa(this))throw La("respond");if(void 0===this.Dh)throw new v("This BYOB request has been invalidated");this.Ah.buffer,function(t,n){if(!1===ls(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Aa(t,n)}(this.Dh,t)},t.prototype.respondWithNewView=function(t){if(!1===pa(this))throw La("respond");if(void 0===this.Dh)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Nh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Aa(t,n.byteLength)}(this.Dh,t)},t}(),ga=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===_a(this))throw Fa("byobRequest");if(void 0===this.Oh&&this.Nh.length>0){var t=this.Nh.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(ya.prototype);!function(t,n,i){t.Dh=n,t.Ah=i}(i,this,n),this.Oh=i}return this.Oh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_a(this))throw Fa("desiredSize");return xa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_a(this))throw Fa("close");if(!0===this.Sh)throw new v("The stream has already been closed; do not close it again!");var t=this.xh.Wf;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.xh;if(t.Zf>0)return void(t.Sh=!0);if(t.Nh.length>0){var i=t.Nh.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw Oa(t,r),r}}Na(t),Ya(n)}(this)},t.prototype.enqueue=function(t){if(!1===_a(this))throw Fa("enqueue");if(!0===this.Sh)throw new v("stream is closed or draining");var n=this.xh.Wf;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.xh,r=n.buffer,e=n.byteOffset,u=n.byteLength,o=ps(r);if(!0===Js(i))if(0===Ks(i))Ta(t,o,e,u);else{var s=new _(o,e,u);Ys(i,s,!1)}else!0===Ua(i)?(Ta(t,o,e,u),Ca(t)):Ta(t,o,e,u);ma(t)}(this,t)},t.prototype.error=function(t){if(!1===_a(this))throw Fa("error");Oa(this,t)},t.prototype[zs]=function(t){this.Nh.length>0&&(this.Nh.peek().bytesFilled=0);ac(this);var n=this.Th(t);return Na(this),n},t.prototype[$s]=function(){var t=this.xh;if(this.Zf>0){var n=this.Dn.shift();this.Zf-=n.byteLength,Ra(this);var i=void 0;try{i=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Cs(t)}return Is(Fs(i,!1,t.jf.qf))}var r=this.Ph;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Cs(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.Nh.push(u)}var o=Gs(t);return ma(this),o},t}();function _a(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"xh")}function pa(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Dh")}function ma(t){!1!==function(t){var n=t.xh;if("readable"!==n.Wf)return!1;if(!0===t.Sh)return!1;if(!1===t.fh)return!1;if(!0===Js(n)&&Ks(n)>0)return!0;if(!0===Ua(n)&&Ba(n)>0)return!0;if(xa(t)>0)return!0;return!1}(t)&&(!0!==t.Rh?(t.Rh=!0,Ds(t.Ih(),function(){t.Rh=!1,!0===t.Ch&&(t.Ch=!1,ma(t))},function(n){Oa(t,n)})):t.Ch=!0)}function ka(t,n){var i=!1;"closed"===t.Wf&&(i=!0);var r=ba(n);"default"===n.readerType?Ys(t,r,i):function(t,n,i){var r=t.jf;r.Lh.shift().Fn(Fs(n,i,r.qf))}(t,r,i)}function ba(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Ta(t,n,i,r){t.Dn.push({buffer:n,byteOffset:i,byteLength:r}),t.Zf+=r}function Ea(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.Zf,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,o=u-u%i,s=e,c=!1;o>r&&(s=o-n.bytesFilled,c=!0);for(var a,f,h,v,d,w=t.Dn;s>0;){var y=w.peek(),g=l.min(s,y.byteLength),p=n.byteOffset+n.bytesFilled;a=n.buffer,f=p,h=y.buffer,v=y.byteOffset,d=g,new _(a).set(new _(h,v,d),f),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t.Zf-=g,Sa(t,g,n),s-=g}return c}function Sa(t,n,i){Ia(t),i.bytesFilled+=n}function Ra(t){0===t.Zf&&!0===t.Sh?(Na(t),Ya(t.xh)):ma(t)}function Ia(t){void 0!==t.Oh&&(t.Oh.Dh=void 0,t.Oh.Ah=void 0,t.Oh=void 0)}function Ca(t){for(;t.Nh.length>0;){if(0===t.Zf)return;var n=t.Nh.peek();!0===Ea(t,n)&&(Da(t),ka(t.xh,n))}}function Aa(t,n){var i=t.Nh.peek();if("closed"===t.xh.Wf){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ps(n.buffer);var i=t.xh;if(!0===Ua(i))for(;Ba(i)>0;)ka(i,Da(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Sa(t,n,i),!(i.bytesFilled<i.elementSize)){Da(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);Ta(t,u,0,u.byteLength)}i.buffer=ps(i.buffer),i.bytesFilled-=r,ka(t.xh,i),Ca(t)}}(t,n,i);ma(t)}function Da(t){var n=t.Nh.shift();return Ia(t),n}function Na(t){t.Ih=void 0,t.Th=void 0}function Oa(t,n){var i=t.xh;"readable"===i.Wf&&(!function(t){Ia(t),t.Nh=new Ls}(t),ac(t),Na(t),Ka(i,n))}function xa(t){var n=t.xh.Wf;return"errored"===n?null:"closed"===n?0:t._h-t.Zf}function Pa(t,n,i){var r=d.create(ga.prototype);var e=ys(n,"pull",0,[r]),u=ys(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===wa(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,o){n.xh=t,n.Ch=!1,n.Rh=!1,n.Oh=void 0,n.Dn=n.Zf=void 0,ac(n),n.Sh=!1,n.fh=!1,n._h=ms(u),n.Ih=r,n.Th=e,n.Ph=o,n.Nh=new Ls,t.Kf=n,Ds(Is(i()),function(){n.fh=!0,ma(n)},function(t){Oa(n,t)})}(t,r,function(){return gs(n,"start",[r])},e,u,i,o)}function La(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Fa(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Ma(t){return Rs(function(n,i){var r={Fn:n,V:i};t.jf.Lh.push(r)})}function Ba(t){return t.jf.Lh.length}function Ua(t){var n=t.jf;return void 0!==n&&!!qa(n)}var Va=function(){function t(t){if(!$a(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===_a(t.Kf))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Xa(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ms(this,t),this.Lh=new Ls}return d.defineProperty(t.prototype,"closed",{get:function(){return qa(this)?this.Cc:Cs(Ha("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return qa(this)?void 0===this.Hf?Cs(Vs("cancel")):Bs(this,t):Cs(Ha("cancel"))},t.prototype.read=function(t){return qa(this)?void 0===this.Hf?Cs(Vs("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Cs(new v("view must have non-zero byteLength")):function(t,n){var i=t.Hf;if(i.Yf=!0,"errored"===i.Wf)return Cs(i.zf);return function(t,n){var i=t.xh,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:ps(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Nh.length>0)return t.Nh.push(u),Ma(i);if("closed"===i.Wf)return Is(Fs(new e(u.buffer,u.byteOffset,0),!0,i.jf.qf));if(t.Zf>0){if(!0===Ea(t,u)){var o=ba(u);return Ra(t),Is(Fs(o,!1,i.jf.qf))}if(!0===t.Sh){var s=new v("Insufficient bytes to fill elements in the given buffer");return Oa(t,s),Cs(s)}}t.Nh.push(u);var c=Ma(i);return ma(t),c}(i.Kf,n)}(this,t)):Cs(new v("view must be an array buffer view")):Cs(Ha("read"))},t.prototype.releaseLock=function(){if(!qa(this))throw Ha("releaseLock");if(void 0!==this.Hf){if(this.Lh.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Us(this)}},t}();function qa(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Lh")}function Ha(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var ja=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),za(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Pa(this,t,r=ms(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=ks(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(ra.prototype),u=ys(n,"pull",0,[e]),o=ys(n,"cancel",1,[]);da(t,e,function(){return gs(n,"start",[e])},u,o,i,r)}(this,t,r=ms(r),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===$a(this))throw Ja("locked");return Xa(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===$a(this)?Cs(Ja("cancel")):!0===Xa(this)?Cs(new v("Cannot cancel a stream that already has a reader")):Ga(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===$a(this))throw Ja("getReader");if(void 0===n)return Xs(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Va(t);return i.qf=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,o=e.preventAbort,s=e.preventCancel,c=e.signal;if(!1===$a(this))throw Ja("pipeThrough");if(!1===wc(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===$a(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!Qc(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Xa(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===yc(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ps(ia(this,i,u,o,s,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===$a(this)?Cs(Ja("pipeTo")):!1===wc(t)?Cs(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===o||Qc(o)?!0===Xa(this)?Cs(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===yc(t)?Cs(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ia(this,t,r,e,u,o):Cs(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===$a(this))throw Ja("tee");var t=function(t,n){var i,r,e,u,o,s=Xs(t),c=!1,a=!1,f=!1,h=Rs(function(t){o=t});function v(){return!0===c?Is(void 0):(c=!0,Ps(xs(ic(s),function(t){if(c=!1,!0===t.done)return!1===a&&ca(e.Kf),void(!1===f&&ca(u.Kf));var n=t.value,i=n,r=n;!1===a&&aa(e.Kf,i),!1===f&&aa(u.Kf,r)})),Is(void 0))}function d(){}return e=Wa(d,v,function(n){if(a=!0,i=n,!0===f){var e=ds([i,r]),u=Ga(t,e);o(u)}return h}),u=Wa(d,v,function(n){if(f=!0,r=n,!0===a){var e=ds([i,r]),u=Ga(t,e);o(u)}return h}),Os(s.Cc,function(t){fa(e.Kf,t),fa(u.Kf,t)}),[e,u]}(this);return ds(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===$a(this))throw Ja("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Xs(t),r=d.create(ec);return r.Jf=i,r.Qf=Boolean(n),r}(this,i)},t}();function Wa(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=d.create(ja.prototype);return za(u),da(u,d.create(ra.prototype),t,n,i,r,e),u}function za(t){t.Wf="readable",t.jf=void 0,t.zf=void 0,t.Yf=!1}function $a(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Kf")}function Xa(t){return void 0!==t.jf}function Ga(t,n){return t.Yf=!0,"closed"===t.Wf?Is(void 0):"errored"===t.Wf?Cs(t.zf):(Ya(t),xs(t.Kf[zs](n),as))}function Ya(t){t.Wf="closed";var n=t.jf;void 0!==n&&(nc(n)&&(n.Gf.forEach(function(t){t.Fn(Fs(void 0,!0,n.qf))}),n.Gf=new Ls),Ws(n))}function Ka(t,n){t.Wf="errored",t.zf=n;var i=t.jf;void 0!==i&&(nc(i)?(i.Gf.forEach(function(t){t.V(n)}),i.Gf=new Ls):(i.Lh.forEach(function(t){t.V(n)}),i.Lh=new Ls),js(i,n))}function Ja(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof cs.asyncIterator&&d.defineProperty(ja.prototype,cs.asyncIterator,{value:ja.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Qa=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=ks(r);if(void 0===e&&(e=1),e=ms(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=ks(u);void 0===o&&(o=0),o=ms(o),function(t,n,i,r,e,u){function o(){return n}t.Fh=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var o=d.create(vc.prototype);return lc(o),xc(o,d.create(Oc.prototype),t,n,i,r,e,u),o}(o,function(n){return function(t,n){var i=t.Mh;if(!0===t.sh){var r=t.Bh;return xs(r,function(){var r=t.Fh,e=r.Wf;if("erroring"===e)throw r.zf;return cf(i,n)})}return cf(i,n)}(t,n)},function(){return function(t){var n=t.Uh,i=t.Mh,r=i.Vh();return of(i),xs(r,function(){if("errored"===n.Wf)throw n.zf;var t=n.Kf;!0===va(t)&&ca(t)},function(i){throw tf(t,i),n.zf})}(t)},function(n){return function(t,n){return tf(t,n),Is(void 0)}(t,n)},i,r),t.Uh=Wa(o,function(){return function(t){return rf(t,!1),t.Bh}(t)},function(n){return nf(t,n),Is(void 0)},e,u),t.sh=void 0,t.Bh=void 0,t.qh=void 0,rf(t,!0),t.Mh=void 0}(this,Rs(function(t){c=t}),e,s,o,a),function(t,n){var i=d.create(ef.prototype),r=function(t){try{return sf(i,t),Is(void 0)}catch(t){return Cs(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return _s(e,n,[t,i])}}var u=ys(n,"flush",0,[i]);!function(t,n,i,r){n.Hh=t,t.Mh=n,n.jh=i,n.Vh=r}(t,i,r,u)}(this,t);var f=gs(t,"start",[this.Mh]);c(f)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Za(this))throw ff("readable");return this.Uh},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Za(this))throw ff("writable");return this.Fh},enumerable:!0,configurable:!0}),t}();function Za(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Mh")}function tf(t,n){fa(t.Uh.Kf,n),nf(t,n)}function nf(t,n){of(t.Mh),Mc(t.Fh.nh,n),!0===t.sh&&rf(t,!1)}function rf(t,n){void 0!==t.Bh&&t.qh(),t.Bh=Rs(function(n){t.qh=n}),t.sh=n}var ef=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===uf(this))throw af("desiredSize");return ha(this.Hh.Uh.Kf)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===uf(this))throw af("enqueue");sf(this,t)},t.prototype.error=function(t){if(!1===uf(this))throw af("error");var n;n=t,tf(this.Hh,n)},t.prototype.terminate=function(){if(!1===uf(this))throw af("terminate");!function(t){var n=t.Hh,i=n.Uh.Kf;!0===va(i)&&ca(i);var r=new v("TransformStream terminated");nf(n,r)}(this)},t}();function uf(t){return!!vs(t)&&!!d.prototype.hasOwnProperty.call(t,"Hh")}function of(t){t.jh=void 0,t.Vh=void 0}function sf(t,n){var i=t.Hh,r=i.Uh.Kf;if(!1===va(r))throw new v("Readable side is not in a state that permits enqueue");try{aa(r,n)}catch(t){throw nf(i,t),i.Uh.zf}(function(t){return!0!==oa(t)})(r)!==i.sh&&rf(i,!0)}function cf(t,n){return xs(t.jh(n),void 0,function(n){throw tf(t.Hh,n),n})}function af(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function ff(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var hf,vf=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return z(n,t),j(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function df(t){return n=[t],new ja({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function lf(t){return df(new _(t))}function wf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new so,u=function(){o();var t=new Le;r.cancel(t).catch(P),e.Tc(t)},o=function(){i&&(i.Is(u),i=void 0)};i&&(i.ps?u():i.Rs(u));var s=[];return C.resolve(r.read()).then(function t(n){return n.done?(o(),C.resolve(s)):(s.push(n.value),C.resolve(r.read()).then(t))}).then(function(t){o(),e.bc(t)},function(t){o(),e.Tc(t)}),e.kc}(t,n).then(function(t){return _u(t).buffer})}function yf(t,n){var i=n,r=new Qa,e=r.readable,u=r.writable,o=u.getWriter(),s=function(){i&&i.Ns()};return o.closed.then(s,s),t.then(function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(P)},function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(P)}),e}function gf(t){return Ju(new _(t))}function _f(t){return Qu(t).buffer}!function(t){t[t.Of=0]="Of",t[t.Wh=1]="Wh"}(hf||(hf={}));var pf="content-type",mf="text/plain;charset=UTF-8",kf=function(){function t(){}var n=t.prototype;return n.zh=function(t){return this.$h(t).then(JSON.parse)},n.Xh=function(t,n){switch(t){case es.Df:return this.Gh(n);case es.Nf:return this.zh(n);case es.Of:return this.Yh();case es.eu:return this.$h(n);default:throw new v}},t}();function bf(t,n,i){if(t instanceof kf)return t;if(t instanceof ja)return function(t,n){return new Ef({ss:hf.Of,Yh:t,Kh:Tf(n)})}(t,i);var r=Tf(i),e=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{ss:es.eu,Jh:t,Kh:n||mf};if(t instanceof ArrayBuffer||yu(t))return{ss:es.Df,Jh:Nf(t),Kh:n};if(ct(t)||ut(t))return{ss:es.Nf,Jh:t,Kh:n};throw new v("Unsupported BodyInit type")}return{ss:es.eu,Jh:null,Kh:n}}(t,r)});return new Ef({ss:hf.Wh,kc:e,Qh:n})}function Tf(t){return(t.get(pf)||"").toLowerCase()}var Ef=function(t){function n(n){var i;return(i=t.call(this)||this).Zh=!1,i.tv=void 0,i.nv=new so,i.nv.kc.catch(P),i.iv(n),i}z(n,t);var i=n.prototype;return i.rv=function(){return this.nv.kc},i.$h=function(t){return this.ev(Sf,t)},i.zh=function(t){return this.ev(If,t)},i.Gh=function(t){return this.ev(Af,t)},i.Yh=function(){return this.uv((t=this.tv).ss===hf.Of?t.Yh:yf(t.kc.then(Df).then(lf),t.Qh));var t},i.ev=function(t,n){if(this.Zh)return C.reject(new v("Already used"));this.Zh=!0;var i=t(this.tv,n);return this.nv.bc(i.then(P)),i},i.uv=function(t){if(this.Zh)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Zh=!0;var n=new Qa,i=C.resolve(t.pipeTo(n.writable));return this.nv.bc(i),n.readable},i.iv=function(t){this.tv=t,t.ss===hf.Wh&&t.kc.catch(P)},i.ov=function(){if(this.Zh)throw new v("Already used");var t=function(t){if(t.ss===hf.Of){var n=t.Yh.tee(),i=n[0],r=n[1];return[{ss:t.ss,Yh:i,Kh:t.Kh},{ss:t.ss,Yh:r,Kh:t.Kh}]}var e=t.Qh.xs(),u=e[0],o=e[1];return[{ss:t.ss,kc:t.kc,Qh:u},{ss:t.ss,kc:t.kc,Qh:o}]}(this.tv),i=t[0],r=t[1];return this.iv(i),new n(r)},j(n,[{key:"sv",get:function(){return this.Zh}}]),n}(kf);function Sf(t,n){return t.ss===hf.Of?wf(t.Yh,n).then(gf):(n&&t.Qh.Os(n),qe(t.kc.then(Rf),t.Qh))}function Rf(t){switch(t.ss){case es.eu:return C.resolve(t.Jh||"");case es.Df:return C.resolve(t.Jh).then(gf);case es.Nf:return C.resolve(t.Jh).then(JSON.stringify)}}function If(t,n){return t.ss===hf.Of?Sf(t,n).then(JSON.parse):(n&&t.Qh.Os(n),qe(t.kc.then(Cf),t.Qh))}function Cf(t){return t.ss===es.Nf?C.resolve(t.Jh):Rf(t).then(JSON.parse)}function Af(t,n){return t.ss===hf.Of?wf(t.Yh,n):(n&&t.Qh.Os(n),qe(t.kc.then(Df),t.Qh))}function Df(t){switch(t.ss){case es.Df:return C.resolve(t.Jh);case es.eu:case es.Nf:return Rf(t).then(_f)}}function Nf(t){return t instanceof ArrayBuffer?t:uo(no(t)).buffer}function Of(t){return t.cv>=200&&t.cv<=299||304===t.cv}var xf,Pf,Lf,Ff,Mf=function(t){function n(n,i){var r,e,u,o,s,c;i?(e=i.av,u=i.fv,o=i.cv,s=i.hv,c=i.vv):(e=[],u=es.eu,o=200,s="OK",c=!1);var a=n.dv,f=new us(n.av||e),h=n.fv||u,v=n.lv||(i&&i.dv===a?i.lv:a.wv),d=i?i.yv:null,l=bf(void 0!==n.xu?n.xu:d,n.Qh||new Pe,f);return(r=t.call(this,l)||this).av=void 0,r.dv=void 0,r.lv=void 0,r.fv=void 0,r.cv=void 0,r.hv=void 0,r.vv=void 0,r.av=f,r.dv=a,r.lv=v,r.fv=h,r.cv=void 0!==n.cv?n.cv:o,r.hv=void 0!==n.hv?String(n.hv):s,r.vv=n.vv||c,r}z(n,t);var i=n.prototype;return i.xu=function(t){return this.Xh(this.fv,t)},i.yc=function(){return new n({xu:this.ov(),dv:this.dv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).yv=void 0,i.yv=n,i}z(n,t);var i=n.prototype;return i.rv=function(){return this.yv.rv()},i.$h=function(t){return this.yv.$h(t)},i.zh=function(t){return this.yv.zh(t)},i.Gh=function(t){return this.yv.Gh(t)},i.Yh=function(){return this.yv.Yh()},i.ov=function(){return this.yv.ov()},j(n,[{key:"sv",get:function(){return this.yv.sv}}]),n}(kf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(xf||(xf={})),function(t){t.gv="",t._v="manifest",t.pv="segment",t.mv="content-protection"}(Pf||(Pf={})),function(t){t.gv="",t.kv="initialization-segment",t.bv="fairplay-license",t.Tv="fairplay-certificate",t.Ev="widevine-license",t.Sv="widevine-certificate",t.Rv="playready-license",t.Iv="clearkey-license",t.Cv="aes128-key"}(Lf||(Lf={})),function(t){t.gv="",t.Av="audio",t.Dv="video",t.eu="text",t.Nv="image"}(Ff||(Ff={}));var Bf=function(t,n){this.Jh=void 0,this.av=void 0,this.Ov=void 0,this.fv=void 0,this.xv=void 0,this.Ps=void 0,this.ss=void 0,this.Pv=void 0,this.Lv=void 0,this.wv=void 0,this.Fv=void 0,this.Mv=void 0;var i,r,e,u,o,s,c,a,f,h,v,d=t.wv;n?(i=n.Jh,r=n.av,e=n.Ov,u=n.fv,o=n.xv,s=n.Ps,c=n.ss,a=n.Pv,f=n.Lv,h=n.Fv,v=n.Mv):(i=null,r={},e=xf.GET,u=es.eu,o=0,c=Pf.gv,a=Lf.gv,f=Ff.gv,h=!1),this.wv=d,this.Jh=t.Jh||i,this.av=new us(t.av||r),this.Ov=t.Ov||e,this.fv=t.fv||u,this.xv=void 0!==t.xv?Number(t.xv)||0:o,this.Ps=t.Ps||s||(new Pe).Ps,this.ss=t.ss||c,this.Pv=t.Pv||a,this.Lv=t.Lv||f,this.Fv=void 0!==t.Fv?Boolean(t.Fv):h,this.Mv=t.Mv||v},Uf=function(){function t(){}var n=t.prototype;return n.dv=function(t){var n=function(t){return new Mf({xu:null,av:{},dv:t,lv:t.wv,fv:t.fv,cv:0,hv:rs.af})}(new Bf(t));return C.resolve(n)},n.Bv=function(t){},n.sr=function(){},t}();var Vf,qf=function(){function t(t,n){void 0===n&&(n=!0),this.Uv=void 0,this.Vv=void 0,this.Uv=t,this.Vv=n}var n=t.prototype;return n.dv=function(t){var n=this.qv(t);return this.Uv.dv(n)},n.Bv=function(t){return this.Uv.Bv(this.Hv(t))},n.qv=function(n){var i=new Bf(n);if(!this.Vv){var r=t.jv(i.wv);i=new Bf({wv:r},i)}return i},n.Hv=function(n){var i=n.wv;return this.Vv||(i=t.jv(i)),{wv:i,Jh:n.Jh}},t.jv=function(t){return D.jo&&pr(t,"http://")?t.replace(":","s:"):t},n.sr=function(){this.Uv.sr()},j(t,null,[{key:"Wv",get:function(){return t.zv||(t.zv=new t(new Uf)),t.zv}}]),t}();qf.zv=void 0,function(t){t.$v="HttpOpenError",t.Xv="HttpResponseError",t.Gv="HttpTimeoutError"}(Vf||(Vf={}));var Hf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Yv=void 0,e.Yv=n,e}return z(n,t),j(n,[{key:"dv",get:function(){return this.Yv}}]),n}(on);var jf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.wv+". Invalid URL.",i)||this}return z(n,t),j(n,[{key:"name",get:function(){return Vf.$v}}]),n}(Hf);var Wf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.dv,null!=r?r:function(t){return"Error while loading "+t.dv.wv+", status code "+t.cv}(n),i)||this).Kv=void 0,e.Kv=n,e}return z(n,t),j(n,[{key:"name",get:function(){return Vf.Xv}},{key:"Jv",get:function(){return this.Kv}}]),n}(Hf);var zf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.wv+" timed out after "+t.xv+" seconds."}(n),i)||this}return z(n,t),j(n,[{key:"name",get:function(){return Vf.Gv}}]),n}(Hf),$f=function(t,n){return($f=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Xf(t,n){function i(){this.constructor=t}$f(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Gf="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Yf=function(){var t=Gf.Blob;if(t)try{return new t,function(t,n){return new Gf.Blob(t,n)}}catch(t){}var n,i=Gf.BlobBuilder||Gf.WebKitBlobBuilder||Gf.MozBlobBuilder||Gf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var o=u[e];r.append(o)}return r.getBlob(i&&i.type||"")}):null}(),Kf="function"==typeof ja?ja:void 0;function Jf(t){return t&&"function"==typeof t.getReader}function Qf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Jf(i)}catch(t){return!1}}var Zf=function(){function t(t,n){this.jf=t,this.Qv=n}return t.prototype.pull=function(t){var n=this;return this.jf.read().then(function(i){n.Qv&&n.Qv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.jf.cancel(t)},t}();function th(t,n){return n.constructor===t?n:new t(new Zf(n.getReader()),{highWaterMark:0})}var nh=function(){function t(t,n){this.Zv=t,this.yt=n}return t.prototype.pull=function(t){return this.Zv().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function ih(t,n,i){return new t(new nh(n,i),{highWaterMark:0})}var rh={searchParams:"URLSearchParams"in Gf,iterable:"Symbol"in Gf&&"iterator"in Symbol,blob:"FileReader"in Gf&&!!Yf,formData:"FormData"in Gf,arrayBuffer:"ArrayBuffer"in Gf,stream:Qf(Kf),streamRequest:"Request"in Gf&&"body"in Gf.Request.prototype,streamResponse:"Response"in Gf&&"body"in Gf.Response.prototype,abort:"AbortController"in Gf&&"Request"in Gf&&"signal"in Gf.Request.prototype,encoding:"TextEncoder"in Gf&&"TextDecoder"in Gf,url:"URL"in Gf&&function(t){try{return new Gf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Gf&&/Firefox\//.test(Gf.navigator.userAgent)};function eh(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function uh(t){return"string"!=typeof t&&(t=String(t)),t}function oh(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return rh.iterable&&(n[Symbol.iterator]=function(){return n}),n}var sh=function(){function t(t){var n=this;this.Zo={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return rh.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=eh(t),n=uh(n);var i=t.toLowerCase();if(this.Zo.hasOwnProperty(i)){var r=this.Zo[i],e=r[1];r[1]=e?e+", "+n:n}else this.Zo[i]=[t,n]},t.prototype.delete=function(t){var n=eh(t).toLowerCase();delete this.Zo[n]},t.prototype.get=function(t){var n=eh(t).toLowerCase();return this.Zo.hasOwnProperty(n)?this.Zo[n][1]:null},t.prototype.has=function(t){var n=eh(t).toLowerCase();return this.Zo.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=eh(t)).toLowerCase();this.Zo[i]=[t,uh(n)]},t.prototype.forEach=function(t,n){for(var i in this.Zo)this.Zo.hasOwnProperty(i)&&t.call(n,this.Zo[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),oh(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),oh(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),oh(t)},t.prototype.asList=function(){var t=[];for(var n in this.Zo)if(this.Zo.hasOwnProperty(n)){var i=this.Zo[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function ch(){}rh.iterable&&(sh.prototype[Symbol.iterator]=sh.prototype.entries);var ah,fh,hh,vh=l.min,dh=String.fromCharCode,lh=16384;function wh(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=lh){var e=vh(r+lh,n);i.push(dh.apply(null,t.slice(r,e)))}return i.join("")}(n)}function yh(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function gh(t,n){return t>>n&63|128}function _h(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(yh(t),n.push(t>>12&15|224),n.push(gh(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(gh(t,12)),n.push(gh(t,6))),n.push(63&t|128)):n.push(t)}function ph(){if(hh>=fh)throw new h("Invalid byte index");var t=255&ah[hh];if(hh++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function mh(){var t,n;if(hh>fh)throw new h("Invalid byte index");if(hh===fh)return!1;if(t=255&ah[hh],hh++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ph())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ph()<<6|ph())>=2048)return yh(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ph()<<12|ph()<<6|ph())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var kh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function bh(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Th(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Eh(t){return t&&DataView.prototype.isPrototypeOf(t)}var Sh,Rh=ArrayBuffer.isView||function(t){return t&&(kh.indexOf(d.prototype.toString.call(t))>-1||Eh(t))};function Ih(t){if(t.bodyUsed)return C.reject(new v("Already used"));t.bodyUsed=!0}function Ch(t){return new C(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Ah(t){return rh.encoding?new Gf.TextDecoder("utf-8").decode(new _(t)):wh(function(t){fh=(ah=t).length,hh=0;for(var n,i=[];!1!==(n=mh());)i.push(n);return i}(new _(t)))}function Dh(t){return rh.encoding?(new Gf.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],i=0,r=t;i<r.length;i++)_h(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Nh(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?C.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function Oh(t){return Nh(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new _(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function xh(t){return t.slice?t.slice(0):Ph(new _(t))}function Ph(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Lh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Fh(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.td===Sh.nd){if(!n.rd.tee)throw new h("could not clone ReadableStream body");var i=n.rd.tee(),r=i[0],e=i[1];return n.body=r,n.rd=r,n.ed=r,e}return n.td===Sh.Df?xh(n.rd):n.td===Sh.Wh?n.rd.then(Fh):n.ed}!function(t){t[t.eu=0]="eu",t[t.ud=1]="ud",t[t.od=2]="od",t[t.Df=3]="Df",t[t.nd=4]="nd",t[t.Wh=5]="Wh"}(Sh||(Sh={}));var Mh=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,o=this;if(this.ed=n||null,n)if("string"==typeof n)this.td=Sh.eu,this.rd=n;else if((u=n)&&"function"==typeof u.then)this.td=Sh.Wh,this.rd=C.resolve(n).then(function(n){return new t(n,i)}),this.rd.catch(ch);else if(rh.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.td=Sh.ud,this.rd=n;else if(rh.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.td=Sh.od,this.rd=n;else if(rh.searchParams&&bh(n))this.td=Sh.eu,this.rd=n.toString();else if(rh.arrayBuffer&&(Th(n)||Rh(n)))Eh(n)&&(this.ed=new _((e=n).buffer,e.byteOffset,e.byteLength)),this.td=Sh.Df,this.rd=Th(r=n)?xh(r):Ph(r);else{if(!rh.stream||!Jf(n))throw new h("unsupported BodyInit type");n=th(Kf,n),this.td=Sh.nd,this.rd=n,this.ed=n}else this.td=Sh.eu,this.rd="";this.sd="",i.has("content-type")?this.sd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.sd="text/plain;charset=UTF-8":o.td===Sh.ud&&o.rd.type?this.sd=o.rd.type:rh.searchParams&&bh(n)&&(this.sd="application/x-www-form-urlencoded;charset=UTF-8"),this.sd&&i.set("content-type",this.sd)),rh.stream&&(null==n?this.body=null:o.td===Sh.nd?this.body=o.rd:this.body=ih(Kf,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Ih(this);return r||(this.td===Sh.ud?(t=this.rd,n=new FileReader,i=Ch(n),n.readAsText(t),i):this.td===Sh.Df?C.resolve(this.rd).then(Ah):this.td===Sh.nd?Oh(this.rd).then(Ah):this.td===Sh.Wh?this.rd.then(function(t){return t.text()}):this.td===Sh.od?C.reject(new h("could not read FormData body as text")):C.resolve(this.rd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();rh.blob&&(Mh.prototype.blob=function(){var t,n,i=Ih(this);return i||(this.td===Sh.ud?C.resolve(this.rd):this.td===Sh.Df?C.resolve(Yf([this.rd],{type:this.sd})):this.td===Sh.nd?(t=this.rd,n=this.sd,Nh(t).then(function(t){return Yf(t,{type:n||""})})):this.td===Sh.Wh?this.rd.then(function(t){return t.blob()}):this.td===Sh.od?C.reject(new h("could not read FormData body as Blob")):C.resolve(Yf([this.rd],{type:this.sd})))}),rh.arrayBuffer&&(Mh.prototype.arrayBuffer=function(){var t,n,i;return this.td===Sh.Df?Ih(this)||C.resolve(this.rd):this.td===Sh.ud?Ih(this)||(t=this.rd,n=new FileReader,i=Ch(n),n.readAsArrayBuffer(t),i):this.td===Sh.nd?Oh(this.rd):this.td===Sh.Wh?Ih(this)||this.rd.then(function(t){return t.arrayBuffer()}):this.td===Sh.od?C.reject(new h("could not read FormData body as ArrayBuffer")):C.resolve(this.rd).then(Dh)}),rh.formData&&(Mh.prototype.formData=function(){return this.td===Sh.od?Ih(this)||C.resolve(this.rd):this.text().then(Lh)});var Bh=[301,302,303,307,308],Uh=function(t){function n(n,i){var r=this,e=new sh((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Xf(n,t),n.prototype.clone=function(){return new n(Fh(this),{status:this.status,statusText:this.statusText,headers:new sh(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Bh.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Mh);var Vh,qh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=o(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||h.call(a(t)),d.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Vh=qh)&&Vh.__esModule&&d.prototype.hasOwnProperty.call(Vh,"default")&&Vh.default;qh.AbortSignal;var Hh=qh.AbortController,jh=Gf.DOMException;try{new jh}catch(t){(jh=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),jh.prototype.constructor=jh}var Wh=Hh;function zh(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function $h(t,n,i){return new C(function(r,e){if(n.signal.aborted)return t.catch(ch),e(Xh());var u=function(){n.signal.removeEventListener("abort",u),e(Xh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Xh(){return new jh("Aborted","AbortError")}var Gh,Yh="moz-chunked-arraybuffer";function Kh(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Gh||(Gh={}));var Jh=function(){function t(t,n){var i=this;this.fd=!1,this.Yv=t,this.hd=n,this.vd=new p,this.dd=new C(function(t,n){i.ld=t,i.wd=n})}return t.prototype.send=function(){var t=this;return this.yd().then(function(n){return t.gd(n,t.hd),t.dd})},t.prototype.yd=function(){var t=this.Yv;return t.td===Sh.nd?t.arrayBuffer():C.resolve(t.ed)},t.prototype._d=function(t){this.Yv.onprogress&&this.Yv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.pd=function(t){this.wd(t)},t.prototype.md=function(){this.pd(new v("Network request failed"))},t.prototype.kd=function(){this.pd(new v("Network request failed"))},t.prototype.bd=function(){this.pd(Xh())},t.prototype.gd=function(t,n){var i=this,r=this.Yv,e=this.vd,u=function(){return i.Td()};if(r.signal.aborted)return this.bd();e.onreadystatechange=function(){if(e.readyState>=Gh.HEADERS_RECEIVED&&!i.fd){var t=function(t){var n=new sh;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.fd=!0,i.Ed(n)}},e.onprogress=function(t){return i._d(t)},e.onload=function(){return i.Sd()},e.onerror=function(){return i.md()},e.ontimeout=function(){return i.kd()},e.onabort=function(){return i.bd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.Td=function(){this.bd(),this.vd.abort()},t}(),Qh=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Rd=void 0,r.Id=void 0,r}return Xf(n,t),n.prototype.Ed=function(t){var n=this;this.Rd=new C(function(t,i){n.Id=t,n.Cd=i}),this.ld(new Uh(this.Rd,t))},n.prototype.Sd=function(){var t=this.vd.response||this.vd.responseText;this.Id(t)},n.prototype.pd=function(n){t.prototype.pd.call(this,n),this.Cd&&this.Cd(n)},n}(Jh),Zh=function(t){function n(n){var i=t.call(this,n,Yh)||this;return i.Ad=void 0,i.Dd=void 0,i.Nd=!1,i}return Xf(n,t),n.prototype.Ed=function(t){var n=this;this.Ad=new Kf({start:function(t){n.Dd=t},cancel:function(){n.Nd=!0,n.Td()}}),this.ld(new Uh(this.Ad,t))},n.prototype._d=function(n){this.Nd||this.Dd.enqueue(new _(this.vd.response)),t.prototype._d.call(this,n)},n.prototype.Sd=function(){this.Dd.close()},n.prototype.pd=function(n){t.prototype.pd.call(this,n),this.Dd&&!this.Nd&&(this.Nd=!0,this.Dd.error(n))},n}(Jh),tv=function(){var t=rh.firefox&&Kh(Yh);return tv=function(){return t},t},nv=function(){var t;return t=rh.arrayBuffer&&Kh("arraybuffer")?"arraybuffer":rh.blob&&Kh("blob")?"blob":"",nv=function(){return t},t};function iv(t){return(rh.stream&&tv()?new Zh(t):new Qh(t,nv())).send()}var rv=Gf.fetch,ev=Gf.Request,uv=(Gf.Response,Gf.AbortController);var ov=["http:","https:"];var sv=function(){try{if(rh.streamRequest){var t=new ev("about:blank",{body:"",method:"POST"}).body;if(t&&Qf(t.constructor))return t.constructor}}catch(t){}}();function cv(t,n,i){var r;if(rh.stream){var e=void 0;if(rh.streamResponse){var u=t.body;e=u&&th(Kf,u)}else e=ih(Kf,function(){return $h(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Zf(n.getReader(),i),{highWaterMark:0})}(Kf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,av(t.headers))),r=e}else{var o=$h(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return C.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(o,i,av(t.headers))),r=o}return new Uh(r,t)}function av(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function fv(t){var n=new Wh;return t.signal&&zh(n,t.signal),function(t,n){var i,r,e=t;if(i=e.td===Sh.nd?rh.streamRequest&&sv?C.resolve(th(sv,e.rd)):$h(t.arrayBuffer(),n,!1):$h(C.resolve(t.ed),n,!1),rh.abort){var u=new uv;zh(u,n.signal),r=u.signal}return i.then(function(n){return new ev(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof sh?i:new sh(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return rv(i).then(function(i){return cv(i,n,t.onprogress)})})}var hv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var vv=function(t){function n(i,r){var e,u,o,s,c,a,f,h,d,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,u=i.credentials,r.headers||(o=new sh(i.headers)),s=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,h=i.signal,d=i.onprogress,w||null==i.ed||(w=i.ed,i.bodyUsed=!0)}else e=String(i),u="same-origin",s="GET",c="cors",a="about:client",f="",h=null,d=null;if(!r.headers&&o||(o=new sh(r.headers)),r&&(a="about:client",f=""),(l=t.call(this,w,o)||this).url=e,l.headers=o,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return hv.indexOf(n)>-1?n:t}(r.method||s),l.mode=r.mode||c,l.signal=r.signal||h||(new Wh).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return Xf(n,t),n.prototype.clone=function(){return new n(this,{body:Fh(this)})},n}(Mh),dv="function"==typeof rv&&rh.stream&&rh.streamResponse&&rh.url;function lv(t,n){return new C(function(i){var r=new vv(t,n);i((dv&&function(t){try{return ov.indexOf(new Gf.URL(t,Gf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?fv:iv)(r))})}lv.polyfill=!0;var wv=function(){function t(t){this.Jv=void 0,this.Yv=void 0,this.Od=new Pe,this.Kv=void 0,this.xd=!1,this.Yv=t,this.Od.Os(t.Ps),this.Jv=this.Pd()}var n=t.prototype;return n.Pd=function(){var t=C.coroutine(Zr.mark(function t(){var n,i,r,e,u,o,c,a,f=this;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Yv).xv&&s(function(){f.xd=!0,f.Od.Ns()},n.xv),t.prev=2,i=lv(n.wv,{method:n.Ov,headers:n.av.xf(),body:n.Jh,credentials:n.Fv?"include":"same-origin",signal:_v(this.Od.Ps),onprogress:n.Mv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new jf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Fe(e=this.Ld(t.t1))&&this.Od.Ns(),e;case 20:if(u=r.url||n.wv,o=0===r.status&&"file:"===(h=u,D.Qu(h).protocol)?200:r.status,c=new yv(this,r,this.Od),a=new Mf({xu:c,dv:n,fv:n.fv,av:new us(r.headers.asList()),cv:o,hv:r.statusText,lv:u}),this.Kv=a,!Of(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Wf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Ld=function(t){return Fe(t)?this.xd?new zf(this.Yv):new Le(t.message,t):this.Kv?new Wf(this.Kv,t):new jf(this.Yv,t)},t}(),yv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zt=void 0,e.Fd=void 0,e.Od=void 0,e.nv=new so,e.Zt=n,e.Fd=i,e.Od=r,e.nv.kc.catch(P),e}z(n,t);var i=n.prototype;return i.rv=function(){return this.nv.kc},i.$h=function(t){return this.ev(this.Fd.text(),t)},i.Gh=function(t){return this.ev(this.Fd.arrayBuffer(),t)},i.Yh=function(){var t=this.Fd.body;return t?this.uv(t):yf(this.Gh().then(lf),this.Od)},i.ov=function(){var t=this.Fd.clone(),i=this.Od.xs(),r=i[0],e=i[1];return this.Od=r,new n(this.Zt,t,e)},i.ev=function(t,n){var i=this;n&&this.Od.Os(n);var r=C.resolve(t).catch(function(t){throw i.Zt.Ld(t)});return r=qe(r,this.Od),this.nv.bc(r.then(P)),r},i.uv=function(t){var n=this,i=new Qa,r=C.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Zt.Ld(t);throw i.writable.abort(r).catch(P),r});return r=qe(r,this.Od),this.nv.bc(r.then(P)),i.readable},j(n,[{key:"sv",get:function(){return this.Fd.bodyUsed}}]),n}(kf),gv="abort";function _v(t){var n=new Wh;if(t.ps)n.abort();else if(!t.ks){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(gv,i),t.Is(i),t.As(r)};n.signal.addEventListener(gv,i),t.Rs(i),t.Cs(r)}return n.signal}var pv,mv=function(){function t(){}var n=t.prototype;return n.dv=function(t){return new wv(t).Jv},n.Bv=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.wv,ns([t.Jh],{type:t.Kh}));else{var n=t.Kh?{"Content-type":t.Kh}:void 0;We(this.dv(new Bf({Ov:xf.POST,wv:t.wv,Jh:t.Jh,av:n})))}},n.sr=function(){},t}(),kv=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Md=void 0,n.Bd=bv(42),n.Ud=!bv(56),n.Vd=void 0,n}return z(n,t),j(n,[{key:"No",get:function(){return this.Md||(this.Md=new Se(Jo())),this.Md}},{key:"qd",get:function(){return this.Bd}},{key:"Hd",get:function(){return this.Ud}},{key:"jd",get:function(){return!1}},{key:"Wd",get:function(){return Zo.za()}},{key:"zd",get:function(){return{$d:is}}},{key:"Xd",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Gd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"Yd",get:function(){return this.Vd||(this.Vd=new qf(new mv)),this.Vd}}]),n}(Jr);function bv(t){if(nt.xe||nt.Ne){var n=nt.De;if(void 0===n||Number(n)<t)return!1}return!0}O(new kv),function(t){t.Kd="Jd",t.Qd="Zd"}(pv||(pv={}));pv.Kd,pv.Qd;var Tv=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).tl=void 0,r}return z(n,t),j(n,[{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}}]),n}(Qe);var Ev,Sv=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n}(Tv),Rv=function(t){function n(n){return t.call(this,n)||this}return z(n,t),n}(Qe),Iv=function(t){function n(n){var i;return(i=t.call(this,pv.Kd)||this).ul=n,i}return z(n,t),n.prototype.il=function(){return new Cv(this.ul.nl)},n}(Sv),Cv=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return z(n,t),n}(Rv),Av=function(t){function n(n){var i;return(i=t.call(this,pv.Qd)||this).ul=n,i}return z(n,t),n.prototype.il=function(){return new Dv(this.ul.nl)},n}(Sv),Dv=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return z(n,t),n}(Rv);!function(t){t.ol="sl",t.cl="al",t.fl="hl",t.vl="dl",t.ll="wl",t.yl="gl",t._l="pl",t.ml="kl",t.bl="Vc",t.Tl="El",t.Sl="Rl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Ev||(Ev={}));var Nv=function(t){function n(){var n;return(n=t.call(this)||this).Il=[],n.tl=void 0,n}z(n,t);var i=n.prototype;return i.Cl=function(t){return this.Il[t]},i.Al=function(t){return!(!t||Ne(this.Il,t))&&(this.Il.push(t),this.tl&&this.tl.push(t.nl),t.Vs(Ev.yl,this.Bs),this.Us(new Iv(t)),!0)},i.Dl=function(t){if(!t)return!1;var n=this.Il.indexOf(t);return!(n<0)&&(De(this.Il,n),this.tl&&De(this.tl,n),t.Ws(Ev.yl,this.Bs),this.Us(new Av(t)),!0)},i.Nl=function(t){return Ne(this.Il,t)},i.Ol=function(){for(var t=this.Il,n=t.length-1;n>=0;n-=1)this.Dl(t[n])},i.sr=function(){this.Ol(),this.js()},j(n,[{key:"xl",get:function(){return this.Il}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"Pl",get:function(){return this.Il.length}}]),n}(Ke),Ov=function(t){function n(n){var i;return(i=t.call(this,Ev.yl)||this).ul=n,i}return z(n,t),n.prototype.il=function(){return new xv(this.ul.nl)},n}(Sv),xv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return z(n,t),n}(Rv),Pv=function(t){function n(){var n;return(n=t.call(this)||this).Ll=void 0,n.Fl=function(t){var i=t.ul;n.Al(i)},n.Ml=function(t){var i=t.ul;n.Dl(i)},n}z(n,t);var i=n.prototype;return i.Bl=function(t){t.Vs(pv.Kd,this.Fl),t.Vs(pv.Qd,this.Ml)},i.Ul=function(t){t.Ws(pv.Kd,this.Fl),t.Ws(pv.Qd,this.Ml)},i.sr=function(){this.Ll&&this.Ll.sr(),t.prototype.sr.call(this)},j(n,[{key:"Vl",get:function(){return this.Ll},set:function(t){var n=this.Ll;if(t!==n){if(n){this.Ul(n);for(var i=0,r=n.xl;i<r.length;i++){var e=r[i];t&&t.Nl(e)||this.Dl(e)}}if(this.Ll=t,t){for(var u=[],o=0,s=t.xl;o<s.length;o++){var c=s[o];this.Al(c),this.ql(c)&&u.push(c)}this.Bl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Us(new Ov(f))}}}}}]),n}(Nv),Lv=d.freeze||L;function Fv(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Mv(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Bv(t){if(ct(t)){var n={};for(var i in t)it.call(t,i)&&(n[i]=Bv(t[i]));return n}if(ut(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Bv(t[e]));return r}return t}function Uv(t,n){return t===n||!(!t||!n)&&(!(!st(t)||!st(n))&&(ot(t)?!!ot(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Uv(t[e],n[e]))return!1;return!0}(t,n):!ot(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!it.call(n,u)||!Uv(t[u],n[u]))return!1}return!0}(t,n)))}function Vv(t,n){return t.constructor===n.constructor}function qv(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Hv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function jv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Wv(t){var n=jv(t);if(g(n))throw new h("Expected a valid number.");return n}function zv(t){return"string"==typeof t?t:""}function $v(t,n){return ot(t)?function(t,n){if(!ot(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Xv=[pv.Kd,pv.Qd,Ev.yl];function Gv(t){var n,i=t.xl.map(function(t){return t.nl});return i.item=function(n){var i=0|n,r=t.Cl(i);return r&&r.nl||void 0},i.addEventListener=function(t,i){n.Vs(t,i)},i.removeEventListener=function(t,i){n.Ws(t,i)},n=new Je(i),t.Vs(Xv,function(t){return n.Us(t.nl)}),i}function Yv(){}function Kv(t){var n,i=[Ev.bl,Ev.yl,Ev.Tl,Ev.Sl,Ev.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Hl&&t.Hl.nl},get enabled(){return t.jl},set enabled(n){t.jl=Hv(n)},get id(){return t.Wl},get uid(){return t.zl},get kind(){return t.$l},get label(){return t.Xl},set label(n){t.Xl=zv(n)},get language(){return t.Gl},get qualities(){return t.Yl.nl},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Yl.xl;r<e.length;r++)for(var u=e[r],o=0;o<n.length;o++){var s=n[o];u.nl===s&&i.push(u)}return i}(t,ut(n)?n:[n]):[]).length>0?t.Kl=i:t.Kl=void 0},get targetQuality(){if(t.Kl)return 1===t.Kl.length?t.Kl[0].nl:t.Kl.map(function(t){return t.nl})},addEventListener:function(t,i){var r=$v(t,zv);n.Vs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ws(r,i)}};return n=new Je(r),t.Vs(i,function(t){return n.Us(t.nl)}),d.defineProperty(r,"constructor",{value:Yv}),r}function Jv(){}function Qv(t){var n=Gv(t);return d.defineProperty(n,"constructor",{value:Jv}),n}var Zv,td,nd=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.il=function(){return Qv(this)},i.ql=function(t){return t.jl},n}(Pv);function id(){}function rd(t){var n,i=[Ev.yl,Ev.bl,Ev.ol,Ev.cl,Ev.fl,Ev.vl,Ev.ll,Ev._l,Ev.ml],r=[td.Jl],e={get kind(){return t.$l},get label(){return t.Xl},set label(n){t.Xl=zv(n)},get language(){return t.Gl},get id(){return t.Wl},get uid(){return t.zl},get inBandMetadataTrackDispatchType(){return t.Ql},get mode(){return t.Zl},set mode(n){n!==Zv.tw&&n!==Zv.nw&&n!==Zv.iw||(t.Zl=n)},get type(){return t.ss},get readyState(){return od(t.rw)},get cues(){return t.Zl===Zv.iw?null:t.ew.nl},get activeCues(){return t.Zl===Zv.iw?null:t.uw.nl},get src(){return t.ow||""},addEventListener:function(t,i){var r=$v(t,zv);n.Vs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ws(r,i)}};return n=new Je(t),t.Vs(i,function(t){return n.Us(t.nl)}),t.Vs(r,function(t){return n.Us(t)}),d.defineProperty(e,"constructor",{value:id}),e}function ed(){}function ud(t){var n=Gv(t);return d.defineProperty(n,"constructor",{value:ed}),n}function od(t){return t}!function(t){t.iw="disabled",t.nw="hidden",t.tw="showing"}(Zv||(Zv={})),function(t){t.Jl="error"}(td||(td={}));var sd=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.il=function(){return ud(this)},i.ql=function(t){return t.Zl===Zv.tw},n}(Pv),cd=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.Hs=function(n){t.prototype.Hs.call(this,n)},i.Xs=function(n){t.prototype.Xs.call(this,n)},n}(Ke),ad=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n}(cd),fd=function(t){function n(){return t.call(this,rs.rf)||this}return z(n,t),n}(Qe),hd=function(t){function n(n){var i;return(i=t.call(this,rs.Qa)||this).currentSource=n,i}return z(n,t),n}(Qe),vd=function(){function t(){}return t.sw=function(n,i){var r=t.cw(n,i);return r?t.aw(r):0},t.fw=function(){return D.Xd||"default"},t.hw=function(){return D.Gd||"unknown"},t.cw=function(n,i){var r,e=null==(r=D.Wd)?void 0:r.cc(i),u=e&&JSON.parse(e);if(u&&u[n])return t.vw(u,n,i)},t.aw=function(t){var n=t.availableBandwidth;return n||0},t.vw=function(n,i,r){if(!t.dw(n,i))return n[i];t.lw(n,i,r)},t.lw=function(t,n,i){var r;delete t[n],null==(r=D.Wd)||r.Wa(i,JSON.stringify(t))},t.dw=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.ww=function(t,n,i,r){var e;return te({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.yw=function(n){var i=t.fw();t.gw(i,"theoplayer-stored-network-info",n,Zt())},t.gw=function(n,i,r,e){var u,o,s=null==(u=D.Wd)?void 0:u.cc(i),c=s?JSON.parse(s):void 0,a=t.ww(c,n,r,e);null==(o=D.Wd)||o.Wa(i,JSON.stringify(a))},t._w=function(){var n=t.fw();return t.sw(n,"theoplayer-stored-network-info")},t}();var dd,ld,wd,yd,gd,_d,pd="1ADD53F3";function md(t){return{chromecast:function(t){return{appID:t&&t.appID?zv(t.appID):pd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return dd.AUTO;case"manual":return dd.MANUAL;case"disabled":return dd.DISABLED;default:return dd.MANUAL}}(t?t.strategy:void 0)}}function kd(t){var n,i=wd.pw;return(n=t)&&_r(n,"mpd")&&(i=wd.mw),function(t){return!!t&&_r(t,"m3u8")}(t)&&(i=wd.kw),i}function bd(t){return st(t)&&st(t.ssai)&&"google-dai"===t.ssai.integration}function Td(t){return st(t)&&at(t.integration)&&"verizon-media"===t.integration}function Ed(t){if(at(t))return!t;if(Td(t))return!t.id;if(bd(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Sd(t){return Boolean(st(t)&&at(t.src))}function Rd(t){return at(t)||Sd(t)||bd(t)||Td(t)}function Id(t){if(t){if(Rd(t))return Ed(t);for(var n=0;n<t.length;n++){if(!Ed(t[n]))return!1}return!0}return!0}function Cd(){return{crossOrigin:ld.bw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Ad(){return te({},Cd(),{src:void 0,type:wd.pw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Dd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:yd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return gd.NONE;case"midroll-and-postroll":default:return gd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Hv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return yd.INSECURE;case"disabled":return yd.DISABLED;case"enabled":default:return yd.ENABLED}}(t.vpaidMode)),ut(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(at)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Hv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Nd(t){if(!ot(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];ct(e)&&n.push(e)}return n}function Od(t){return at(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(dd||(dd={})),function(t){t.bw="",t.Tw="anonymous",t.Ew="use-credentials"}(ld||(ld={})),function(t){t.mw="application/dash+xml",t.kw="application/vnd.apple.mpegurl",t.Sw="application/x-mpegurl",t.pw="video/mp4",t.Rw="application/vnd.theoplayer.hesp+json",t.Iw="application/vnd.theo.hesp+json"}(wd||(wd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(yd||(yd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(gd||(gd={})),function(t){t[t.Cw=0]="Cw",t[t.Aw=1]="Aw",t[t.Dw=2]="Dw",t[t.Nw=3]="Nw",t[t.Ow=4]="Ow"}(_d||(_d={}));var xd,Pd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Cw),(r=t.call(this,rs.nf)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Qe),Ld=function(t){function n(n){var i;return(i=t.call(this,rs.hf)||this).currentTime=n,i}return z(n,t),n}(Qe),Fd=function(t){function n(n){var i;return(i=t.call(this,rs.vf)||this).currentTime=n,i}return z(n,t),n}(Qe);!function(t){t.xw="canplay",t.Pw="canplaythrough",t.Lw="loadeddata",t.Fw="loadedmetadata",t._l="readystatechange",t.Mw="waiting",t.Bw="playing"}(xd||(xd={}));var Md,Bd,Ud=[xd.xw,xd.Pw,xd.Lw,xd.Fw,xd._l,xd.Mw,xd.Bw],Vd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Aw),(r=t.call(this,xd.Fw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Qe),qd=function(t){function n(n){var i;return(i=t.call(this,rs.tf)||this).duration=n,i}return z(n,t),n}(Qe),Hd=function(t){function n(n,i){var r;return(r=t.call(this,rs.lf)||this).currentTime=n,r.playbackRate=i,r}return z(n,t),n}(Qe),jd=function(t){function n(n,i){var r;return(r=t.call(this,rs.Sf)||this).currentTime=n,r.currentProgramDateTime=i,r}return z(n,t),n}(Qe),Wd=function(t){function n(n){var i;return(i=t.call(this,rs.if)||this).currentTime=n,i}return z(n,t),n}(Qe),zd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Dw),(r=t.call(this,xd.Lw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Qe),$d=function(t){function n(n){var i;return(i=t.call(this,rs._f)||this).currentTime=n,i}return z(n,t),n}(Qe),Xd=function(t){function n(n){var i;return(i=t.call(this,rs.gf)||this).currentTime=n,i}return z(n,t),n}(Qe),Gd=function(t){function n(n,i){var r;return(r=t.call(this,rs.Rf)||this).currentTime=n,r.volume=i,r}return z(n,t),n}(Qe),Yd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Nw),(r=t.call(this,xd.xw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Qe),Kd=function(t){function n(n,i){var r;return void 0===i&&(i=_d.Ow),(r=t.call(this,xd.Pw)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Qe),Jd=function(t){function n(n,i){var r;return(r=t.call(this,xd._l)||this).currentTime=n,r.readyState=i,r}return z(n,t),n}(Qe),Qd=function(t){function n(n){var i;return(i=t.call(this,td.Jl)||this).errorObject=n,i}return z(n,t),n.prototype.il=function(){return this},j(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv);function Zd(t){switch(t){case Md.ALL:case Md.CONTENT:return t;default:return Md.NONE}}function tl(t){var n,i,r,e=Bv(t||{});return e.libraryLocation&&(e.libraryLocation=Rr(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=md(e.cast),e.ads=Dd(e.ads),e.analytics=Nd(e.analytics),e.mutedAutoplay=Zd(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=at(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Rr(t)}catch(t){return void D.To("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function nl(t){return{Uw:t.Uw,Vw:t.Vw,qw:t.qw,tc:t.tc,Hw:t.Hw,jw:t.jw,Ww:t.Ww,zw:t.zw,rw:t.rw,$w:t.$w,Xw:t.Xw,Gw:t.Gw,Yw:t.Yw}}function il(t,n,i){if(n!==i){var r=n.Uw,e=n.Vw,u=n.jw,o=n.Ww,s=n.zw,c=n.rw,a=n.$w,f=(n.Gw,n.Xw,n.Yw),h=i.Uw,v=i.Vw,d=i.qw,l=i.Hw,w=i.jw,y=i.Ww,_=i.zw,p=i.rw,m=i.$w,k=(i.Gw,i.Xw,i.Yw);c!==_d.Cw&&t.Us(new Pd(h,p)),y&&!o?t.Us(new Ld(h)):!y&&o&&t.Us(new Fd(h)),p>=_d.Aw&&t.Us(new Vd(h,p)),v===e||g(v)&&g(e)||t.Us(new qd(v)),_!==s&&t.Us(new Hd(h,_)),h!==r&&t.Us(new jd(h,void 0)),d&&t.Us(new Wd(h)),p>=_d.Dw&&t.Us(new zd(h,p)),m&&!a?t.Us(new $d(h)):!m&&a&&t.Us(new Xd(h)),k===f&&w===u||t.Us(new Gd(h,k)),p>=_d.Nw&&t.Us(new Yd(h,p)),p>=_d.Ow&&t.Us(new Kd(h,p)),p!==c&&t.Us(new Jd(h,p)),l&&t.Us(new Qd(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Md||(Md={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Bd||(Bd={}));var rl,el=400,ul={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},ol=sl(.5,ul);function sl(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function cl(){var t;return t="Android"===D.Vo.qo?ol:ul,D.Vo.Ho?function(t){var n=t;D.Vo.Ho&&(n=sl((el+250)/1e3,n));return n}(t):t}!function(t){t[t.Kw=0]="Kw",t[t.Jw=1]="Jw",t[t.Qw=-1]="Qw"}(rl||(rl={}));var al=function(t,n){return(0|t)-(0|n)},fl=function(t,n){return t===n?rl.Kw:t<n?rl.Qw:t>n?rl.Jw:g(t)?g(n)?rl.Kw:rl.Jw:rl.Qw};function hl(t,n,i){return Jt(t,n,i)?rl.Kw:fl(t,n)}var vl=function(t,n){return function(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Yt||i<l.max(l.abs(t),l.abs(n))*Yt}(t,n)?rl.Kw:fl(t,n)},dl=function(){function t(){}var n=t.prototype;return n.Zw=function(t){return this.ty()*t},n.ny=function(t){return this.iy(t)>0},n.ey=function(t){return this.iy(t)>=0},n.uy=function(t,n){return this.sy(t).oy(n)},n.ay=function(t){return 0===this.iy(t)},n.hy=function(t){return this.iy(t)<0},n.oy=function(t){return this.iy(t)<=0},n.vy=function(){return this.ly()?this.wy():this},n.yy=function(t){return this.gy(t.wy())},n.sy=function(t){return this.yy(t).vy()},t}();function ll(t,n){return t._y()?n._y()?rl.Kw:rl.Jw:n._y()?rl.Qw:t.py()?n.py()&&t.ly()===n.ly()?rl.Kw:t.ly()?rl.Qw:rl.Jw:n.ly()?rl.Jw:rl.Qw}var wl=function(){function t(t,n){this.my=void 0,this.ky=void 0,this.my=t,this.ky=n}t.by=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Ty=function(n){return n.unsigned?new t(n,Gt.UZERO):new t(n,n.isNegative()?Gt.NEG_ONE:Gt.ZERO)},t.Ey=function(n,i){if(g(n))return i?t.Sy:t.Ry;if(i){if(n<0)return t.Sy;if(n>=3.402823669209385e38)return t.Iy}else{if(n<=-1.7014118346046923e38)return t.Cy;if(n+1>=1.7014118346046923e38)return t.Ay}return n<0?t.Ey(-n,i).wy():t.by(Gt.fromNumber(n%0x10000000000000000),Gt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Dy=function(){return this.ky.unsigned},n.Ny=function(){return this.my.isZero()&&this.ky.isZero()},n.ly=function(){return this.ky.isNegative()},n.Oy=function(){return this.Dy()?t.by(this.my,this.ky,!1):this},n.xy=function(){return this.Dy()?this:t.by(this.my,this.ky,!0)},n.Py=function(){return this.my},n.ty=function(){return this.ly()?-this.wy().ty():0x10000000000000000*this.ky.toNumber()+this.my.toUnsigned().toNumber()},n.Ly=function(){return this.my.toInt()},n.ay=function(t){return(this.Dy()===t.Dy()||this.ky.getHighBits()>>>31!=1||t.ky.getHighBits()>>>31!=1)&&(this.ky.toUnsigned().eq(t.ky.toUnsigned())&&this.my.toUnsigned().eq(t.my.toUnsigned()))},n.iy=function(t){if(this.ay(t))return rl.Kw;var n=this.ly(),i=t.ly();if(n&&!i)return rl.Qw;if(!n&&i)return rl.Jw;if(!this.Dy())return this.yy(t).ly()?rl.Qw:rl.Jw;var r=this.xy(),e=t.xy(),u=e.ky.comp(r.ky);return u>0||0===u&&e.my.gt(r.my)?rl.Qw:rl.Jw},n.hy=function(t){return this.iy(t)<0},n.oy=function(t){return this.iy(t)<=0},n.Fy=function(t){return this.iy(t)>0},n.My=function(t){return this.iy(t)>=0},n.By=function(){return new t(this.my.not(),this.ky.not())},n.Uy=function(n){return new t(this.my.and(n.my),this.ky.and(n.ky))},n.Vy=function(n){return new t(this.my.or(n.my),this.ky.or(n.ky))},n.qy=function(n){var i=127&n;return 0===i?this:i<64?t.by(this.my.shl(i),this.ky.shl(i).or(this.my.shru(64-i)),this.Dy()):t.by(Gt.ZERO,this.my.shl(i-64),this.Dy())},n.Hy=function(n){var i=127&n;return 0===i?this:i<64?t.by(this.my.shru(i).or(this.ky.shl(64-i)),this.ky.shr(i),this.Dy()):t.by(this.ky.shr(i-64),this.ky.isNegative()?Gt.NEG_ONE:Gt.ZERO,this.Dy())},n.jy=function(n){var i=127&n;return 0===i?this:i<64?t.by(this.my.shru(i).or(this.ky.shl(64-i)),this.ky.shru(i),this.Dy()):64===i?t.by(this.ky,Gt.ZERO,this.Dy()):t.by(this.ky.shru(i-64),Gt.ZERO,this.Dy())},n.gy=function(n){var i=this.ky.high>>>16,r=65535&this.ky.high,e=this.ky.low>>>16,u=65535&this.ky.low,o=this.my.high>>>16,s=65535&this.my.high,c=this.my.low>>>16,a=65535&this.my.low,f=n.ky.high>>>16,h=65535&n.ky.high,v=n.ky.low>>>16,d=65535&n.ky.low,l=n.my.high>>>16,w=65535&n.my.high,y=n.my.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.my.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=r+h)>>>16,_&=65535,g+=i+f,g&=65535;var S=this.Dy(),R=Gt.fromBits(p<<16|m,g<<16|_,S),I=Gt.fromBits(T<<16|E,k<<16|b,S);return t.by(I,R,S)},n.yy=function(t){return this.gy(t.wy())},n.wy=function(){return this.By().gy(t.Wy)},n.zy=function(n){if(this.Ny()||n.Ny())return this.Dy()?t.Sy:t.Ry;if(this.ly())return n.ly()?this.wy().zy(n.wy()):this.wy().zy(n).wy();if(n.ly())return this.zy(n.wy()).wy();if(this.ky.isZero()&&0===this.my.high&&n.ky.isZero()&&0===n.my.high)return t.Ty(this.my.multiply(n.my));var i=Gt.fromBits(4294967295,0,!0),r=this.my.and(i),e=this.my.shru(32),u=this.ky.and(i),o=this.ky.shru(32),s=n.my.and(i),c=n.my.shru(32),a=n.ky.and(i),f=n.ky.shru(32),h=Gt.UZERO,v=Gt.UZERO,d=Gt.UZERO,l=Gt.UZERO;h=h.add(r.mul(s)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(e.mul(a)).add(r.mul(f)).and(i);var w=Gt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Gt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.by(w,y,this.Dy())},n.$y=function(n){var i,r,e=n;if(e.Ny())throw new RangeError("division by zero");if(this.Ny())return this.Dy()?[t.Sy,t.Sy]:[t.Ry,t.Ry];if(this.Dy()){if(e.Dy()||(e=e.xy()),e.Fy(this))return[t.Sy,this];if(e.Fy(this.jy(1)))return[r=t.Xy,i=this.yy(e)];r=t.Sy}else{if(this.ay(t.Cy)){if(e.ay(t.Wy)||e.ay(t.Gy))return[t.Cy,t.Ry];if(e.ay(t.Cy))return[t.Wy,t.Ry];var u=this.Hy(1).Yy(e).qy(1);return u.ay(t.Ry)?r=e.ly()?t.Wy:t.Gy:(i=this.yy(e.zy(u)),r=u.gy(i.Yy(e))),[r,i=this.yy(e.zy(r))]}if(e.ay(t.Cy))return this.Dy()?[t.Sy,this]:[t.Ry,this];if(this.ly()){if(e.ly())return this.wy().$y(e.wy());var o=this.wy().$y(e);return r=o[0],i=o[1],[r.wy(),i.wy()]}if(e.ly()){var s=this.$y(e.wy());return r=s[0],i=s[1],[r.wy(),i.wy()]}r=t.Ry}for(i=this;i.My(e);){for(var c=l.max(1,l.floor(i.ty()/e.ty())),a=l.ceil(l.log(c)/l.LN2),f=a<=48?1:l.pow(2,a-48),h=t.Ey(c),v=h.zy(e);v.ly()||v.Fy(i);)c-=f,v=(h=t.Ey(c,this.Dy())).zy(e);h.Ny()&&(h=t.Wy),r=r.gy(h),i=i.yy(v)}return[r,i]},n.Yy=function(t){return this.$y(t)[0]},n.Ky=function(t){return this.$y(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Ny())return"0";if(this.ly()){if(this.ay(t.Cy)){var r=t.Ey(i),e=this.Yy(r),u=e.zy(r).yy(this);return e.toString(i)+u.Ly().toString(i)}return"-"+this.wy().toString(i)}for(var o=t.Ey(l.pow(i,6),this.Dy()),s=this,c="";;){var a=s.Yy(o),f=(s.yy(a.zy(o)).Ly()>>>0).toString(i);if((s=a).Ny())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();wl.Ry=wl.Ty(Gt.ZERO),wl.Sy=wl.Ty(Gt.UZERO),wl.Wy=wl.Ty(Gt.ONE),wl.Xy=wl.Ty(Gt.UONE),wl.Gy=wl.Ty(Gt.NEG_ONE),wl.Ay=wl.by(Gt.NEG_ONE,Gt.MAX_VALUE,!1),wl.Iy=wl.by(Gt.MAX_UNSIGNED_VALUE,Gt.MAX_UNSIGNED_VALUE,!0),wl.Cy=wl.by(Gt.ZERO,Gt.MIN_VALUE,!1);var yl=function(){function t(t,n){void 0===n&&(n=1),this.Jy=void 0,this.Qy=void 0,this.Jy=t,this.Qy=n}t.Zy=function(n){return new t(l.ceil(n.Jy),n.Qy)},t.tg=function(n){return new t(l.floor(n.Jy),n.Qy)},t.ng=function(t,n){return t.ey(n)?t:n},t.ig=function(t,n){return t.oy(n)?t:n};var n=t.prototype;return n.gy=function(n){return this.Qy>=n.Qy?new t(this.Jy+n.rg(this.Qy).Jy,this.Qy):new t(this.rg(n.Qy).Jy+n.Jy,n.Qy)},n.ny=function(t){return t.hy(this)},n.ey=function(t){return t.oy(this)},n.sy=function(n){return this.Qy>=n.Qy?new t(l.abs(this.Jy-n.rg(this.Qy).Jy),this.Qy):n.sy(this)},n.uy=function(t,n){return this.sy(t).oy(n)},n.iy=function(t){return i=t,(n=this).Qy>=i.Qy?vl(n.Jy,i.rg(n.Qy).Jy):vl(n.rg(i.Qy).Jy,i.Jy);var n,i},n.ay=function(t){return 0===this.iy(t)},n.hy=function(t){return this.iy(t)<0},n.oy=function(t){return this.iy(t)<=0},n.rg=function(n){return new t(this.Jy*(n/this.Qy),n)},n.yy=function(n){return this.Qy>=n.Qy?new t(this.Jy-n.rg(this.Qy).Jy,this.Qy):new t(this.rg(n.Qy).Jy-n.Jy,n.Qy)},n.eg=function(n){return new t(this.Jy*n,this.Qy)},j(t,[{key:"py",get:function(){return!isFinite(this.Jy)}},{key:"ug",get:function(){return this.Jy/this.Qy}}]),t}();yl.og=new yl(1/6,1),yl.Ry=new yl(0),yl.sg=new yl(1/0),yl.cg=1e6;var gl=function(t){function n(n,i){var r;return(r=t.call(this)||this).wu=void 0,r.Qy=void 0,r.wu=n.toSigned(),r.Qy=i>>>0,r}z(n,t),n.ag=function(t,i){return void 0===i&&(i=1e6),n.Ey(t*i,i)},n.Ey=function(t,i){return g(t)?n.fg:t===1/0?n.hg:t===-1/0?n.vg:new n(Gt.fromNumber(t),i)},n.Ty=function(t,i){return new n(t,i)},n.dg=function(t){return n.ag(t.ug,1e6)},n.lg=function(t){return new n(Gt.fromNumber(t.getTime()),1e3)},n.ng=function(t,n){return t.ey(n)?t:n},n.ig=function(t,n){return t.oy(n)?t:n},n.wg=function(t,i,r){return n.ng(i,n.ig(r,t))};var i=n.prototype;return i.ly=function(){return this.wu.isNegative()},i.Ny=function(){return 0!==this.Qy&&this.wu.isZero()},i.py=function(){return 0===this.Qy&&!this.wu.isZero()},i._y=function(){return 0===this.Qy&&this.wu.isZero()},i.ty=function(){if(0===this.Qy)return this.wu.isZero()?NaN:this.wu.isNegative()?-1/0:1/0;var t=this.wu.divide(this.Qy),n=this.wu.subtract(t.multiply(this.Qy));return t.toNumber()+n.toNumber()/this.Qy},i.Py=function(){if(0===this.Qy)throw new h("Failed to convert timestamp");return this.wu},i.yg=function(){return new Date(0===this.Qy?NaN:this.rg(1e3).wu.toNumber())},i.gg=function(){return new yl(0===this.Qy?this.ty():this.wu.toNumber(),this.Qy)},i.rg=function(t,i){void 0===i&&(i=ml._g);var r=this.Qy;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t.$y(n),e=r[0],u=r[1];if(u.Ny())return e;if(i===ml._g)return u.ly()?e.yy(wl.Wy):e;if(i===ml.pg)return u.ly()?e:e.gy(wl.Wy);var o=u.zy(wl.Ey(2));return o.ly()?o.wy().hy(n)?e:e.yy(wl.Wy):o.hy(n)?e:e.gy(wl.Wy)}(wl.Ty(this.wu).zy(wl.Ey(t/e)),wl.Ey(r/e),i).Py(),t)},i.iy=function(t){if(this===t)return rl.Kw;if(0===this.Qy||0===t.Qy)return ll(this,t);if(this.Ny())return t.Ny()?rl.Kw:t.ly()?rl.Jw:rl.Qw;if(t.Ny())return this.ly()?rl.Qw:rl.Jw;var n=l.min(this.Qy,t.Qy),i=this.rg(n,ml.mg).wu,r=t.rg(n,ml.mg).wu;return i.compare(r)},i.wy=function(){return 0===this.Qy?_l(this):new n(this.wu.negate(),this.Qy)},i.gy=function(t){if(0===this.Qy||0===t.Qy)return pl(this,t);if(this.Ny())return t;if(t.Ny())return this;var i=l.max(this.Qy,t.Qy),r=this.rg(i,ml.mg),e=t.rg(i,ml.mg);return new n(r.wu.add(e.wu),i)},i.zy=function(t){if(this._y()||g(t))return n.fg;if(this.py()||!isFinite(t)){if(this.Ny()||0===t)return n.fg;var i=this.ly()?n.vg:n.hg;return t<0?i.wy():i}return this.Ny()?this:new n(0===t?Gt.ZERO:this.wu.multiply(t),this.Qy)},i.Yy=function(t){if(this._y()||g(t))return n.fg;if(this.py())return isFinite(t)?0===t?1/t<0?this.wy():this:t<0?this.wy():this:n.fg;if(!isFinite(t))return new n(Gt.ZERO,this.Qy);if(this.Ny())return 0===t?n.fg:new n(Gt.ZERO,this.Qy);if(0===t){var i=this.ly()?n.vg:n.hg;return 1/t<0?i.wy():i}return new n(this.wu.divide(t),this.Qy)},i.kg=function(){return[this.wu.low,this.wu.high,this.Qy]},n}(dl);function _l(t){return t._y()?t:t.ly()?gl.hg:gl.vg}function pl(t,n){return t._y()||n._y()?gl.fg:t.py()&&n.py()?t.ly()===n.ly()?t:gl.fg:t.py()?t:n}gl.Ry=new gl(Gt.ZERO,1e6),gl.fg=new gl(Gt.ZERO,0),gl.hg=new gl(Gt.ONE,0),gl.vg=new gl(Gt.NEG_ONE,0);var ml,kl=function(t){function n(n,i){var r;return(r=t.call(this)||this).wu=void 0,r.Qy=void 0,r.wu=BigInt.asIntN(64,n),r.Qy=i>>>0,r}z(n,t),n.ag=function(t,i){return void 0===i&&(i=1e6),n.Ey(t*i,i)},n.Ey=function(t,i){return g(t)?n.fg:t===1/0?n.hg:t===-1/0?n.vg:new n(BigInt(l.floor(t)),i)},n.Ty=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.dg=function(t){return n.ag(t.ug,1e6)},n.lg=function(t){return n.Ey(t.getTime(),1e3)},n.ng=function(t,n){return t.ey(n)?t:n},n.ig=function(t,n){return t.oy(n)?t:n},n.wg=function(t,i,r){return n.ng(i,n.ig(r,t))};var i=n.prototype;return i.ly=function(){return this.wu<BigInt(0)},i.Ny=function(){return 0!==this.Qy&&this.wu===BigInt(0)},i.py=function(){return 0===this.Qy&&this.wu!==BigInt(0)},i._y=function(){return 0===this.Qy&&this.wu===BigInt(0)},i.ty=function(){if(0===this.Qy)return this.wu===BigInt(0)?NaN:this.wu<BigInt(0)?-1/0:1/0;var t=this.wu/BigInt(this.Qy),n=this.wu-t*BigInt(this.Qy);return Number(t)+Number(n)/this.Qy},i.Py=function(){if(0===this.Qy)throw new h("Failed to convert timestamp");return this.bg()},i.bg=function(){var t=this.wu&BigInt(4294967295),n=this.wu>>BigInt(32)&BigInt(4294967295);return Gt.fromBits(Number(t),Number(n))},i.yg=function(){return new Date(0===this.Qy?NaN:Number(this.rg(1e3).wu))},i.gg=function(){return new yl(0===this.Qy?this.ty():Number(this.wu),this.Qy)},i.rg=function(t,i){void 0===i&&(i=ml._g);var r=this.Qy;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===ml._g)return e<BigInt(0)?r-BigInt(1):r;if(i===ml.pg)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.wu*BigInt(t/e),BigInt(r/e),i),t)},i.iy=function(t){if(this===t)return rl.Kw;if(0===this.Qy||0===t.Qy)return ll(this,t);if(this.Ny())return t.Ny()?rl.Kw:t.ly()?rl.Jw:rl.Qw;if(t.Ny())return this.ly()?rl.Qw:rl.Jw;var n=l.min(this.Qy,t.Qy),i=this.rg(n,ml.mg).wu,r=t.rg(n,ml.mg).wu;return i>r?rl.Jw:i<r?rl.Qw:rl.Kw},i.wy=function(){return 0===this.Qy?bl(this):new n(-this.wu,this.Qy)},i.gy=function(t){if(0===this.Qy||0===t.Qy)return Tl(this,t);if(this.Ny())return t;if(t.Ny())return this;var i=l.max(this.Qy,t.Qy),r=this.rg(i,ml.mg),e=t.rg(i,ml.mg);return new n(r.wu+e.wu,i)},i.zy=function(t){if(this._y()||g(t))return n.fg;if(this.py()||!isFinite(t)){if(this.Ny()||0===t)return n.fg;var i=this.ly()?n.vg:n.hg;return t<0?i.wy():i}return this.Ny()?this:new n(0===t?BigInt(0):this.wu*BigInt(t),this.Qy)},i.Yy=function(t){if(this._y()||g(t))return n.fg;if(this.py())return isFinite(t)?0===t?1/t<0?this.wy():this:t<0?this.wy():this:n.fg;if(!isFinite(t))return new n(BigInt(0),this.Qy);if(this.Ny())return 0===t?n.fg:new n(BigInt(0),this.Qy);if(0===t){var i=this.ly()?n.vg:n.hg;return 1/t<0?i.wy():i}return new n(this.wu/BigInt(t),this.Qy)},i.kg=function(){var t=this.bg();return[t.low,t.high,this.Qy]},j(n,null,[{key:"Ry",get:function(){return n.Tg||(n.Tg=new n(BigInt(0),1e6)),n.Tg}},{key:"fg",get:function(){return n.Eg||(n.Eg=new n(BigInt(0),0)),n.Eg}},{key:"hg",get:function(){return n.Sg||(n.Sg=new n(BigInt(1),0)),n.Sg}},{key:"vg",get:function(){return n.Rg||(n.Rg=new n(BigInt(-1),0)),n.Rg}}]),n}(dl);function bl(t){return t._y()?t:t.ly()?kl.hg:kl.vg}function Tl(t,n){return t._y()||n._y()?kl.fg:t.py()&&n.py()?t.ly()===n.ly()?t:kl.fg:t.py()?t:n}kl.Tg=void 0,kl.Eg=void 0,kl.Sg=void 0,kl.Rg=void 0,function(t){t[t._g=0]="_g",t[t.pg=1]="pg",t[t.mg=2]="mg"}(ml||(ml={}));var El,Sl=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?kl:gl;function Rl(t){return{goLive:function(){return t.Ig()},get isLive(){return t.Cg},get currentServerLiveTime(){return t.Ag},get currentLatency(){return t.Dg},get latency(){return t.Ng},set latency(n){if(!function(t){if(!st(t))return!1;var n=t,i=et(n.target)&&"number"==typeof n.target&&et(n.windowEnd)&&"number"==typeof n.windowEnd&&et(n.windowStart)&&"number"==typeof n.windowStart&&et(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new h("Invalid latency configuration");t.Ng=n},get manifest(){return t.Og},get metrics(){return t.xg},addEventListener:function(n,i){t.Vs(Cl(n),i)},removeEventListener:function(n,i){t.Ws(Cl(n),i)}}}!function(t){t[t.iw=0]="iw",t[t.Pg=1]="Pg",t[t.Lg=2]="Lg"}(El||(El={}));var Il=["analytic","golive","nogolive","bufferedchange"];function Cl(t){var n=$v(t,zv);return(at(n)?[n]:n).filter(function(t){return n=t,-1!==Il.indexOf(n);var n})}var Al,Dl=function(t){function n(){var n;return(n=t.call(this)||this).Ll=void 0,n.tl=void 0,n.Fg=cl(),n.Ll=void 0,n}z(n,t);var i=n.prototype;return i.Bl=function(t){t.Vs(Il,this.Bs)},i.Ul=function(t){t.Ws(Il,this.Bs)},i.Ig=function(){var t;null==(t=this.Ll)||t.Ig()},i.sr=function(){this.js(),this.Ll&&this.Ul(this.Ll),this.Ll=void 0},j(n,[{key:"Vl",get:function(){return this.Ll},set:function(t){var n=this.Ll;t!==n&&(n&&this.Ul(n),t&&this.Bl(t),this.Ll=t,this.Ll&&(this.Ll.Ng=this.Fg))}},{key:"nl",get:function(){return this.tl||(this.tl=Rl(this)),this.tl}},{key:"Ag",get:function(){var t;return null==(t=this.Ll)?void 0:t.Ag}},{key:"Dg",get:function(){var t;return null==(t=this.Ll)?void 0:t.Dg}},{key:"Cg",get:function(){return!!this.Ll&&this.Ll.Cg}},{key:"Ng",get:function(){return this.Fg},set:function(t){this.Ll&&(this.Ll.Ng=t),this.Fg=t}},{key:"Og",get:function(){var t;return null==(t=this.Ll)?void 0:t.Og}},{key:"xg",get:function(){var t;return null==(t=this.Ll)?void 0:t.xg}}]),n}(Ke),Nl=function(t){function n(n){var i;return(i=t.call(this)||this).Ll=void 0,i.Mg=[],i.Bg=!1,i.Ug=new nd,i.Vg=new nd,i.qg=new sd,i.Hg=new Dl,i.jg=!1,i.Wg(n),n.Hs(i.Bs),i.Ll=n,i.Ug.Vl=n.zg,i.Vg.Vl=n.$g,i.qg.Vl=n.Xg,i.Hg.Vl=n.Gg,i}z(n,t);var i=n.prototype;return i.tr=function(){this.Ll.tr()},i.nr=function(){this.Ll.nr()},i.Yg=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ze(this.Mg.map(function(t){return t.Yg()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kg=function(){return this.Ll.Kg()},i.Jg=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(i),t.next=3,this.Ll.Jg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Qg=function(){return this.Vl.Qg()},i.Zg=function(){this.Vl.Zg()},i.t_=function(){this.Vl.t_()},i.hr=function(){if(!this.Bg){for(var t=0,n=this.Mg;t<n.length;t++){n[t].hr()}this.Bg=!0}},i.n_=function(t){this.Ll.n_(t)},i.i_=function(){this.Ll.i_()},i.r_=function(){this.Ll.r_()},i.e_=function(){this.Ll.e_()},i.u_=function(){return this.Ll.u_()},i.o_=function(){return this.Ll.o_()},i.s_=function(){for(var t=[],n=0,i=this.Mg;n<i.length;n++){var r=i[n];t.push.apply(t,r.s_())}return t},i.c_=function(t){for(var n=!1,i=0,r=this.Mg;i<r.length;i++){n=r[i].c_(t)||n}return n},i.Us=function(n){this.c_(n)||t.prototype.Us.call(this,n)},i.Wg=function(t){this.Mg.push(t)},i.a_=function(t){Ae(this.Mg,t)},i.f_=function(t){if(t!==this.Ll){var n=this.Ll;n.i_(),n.Xs(this.Bs);var i=nl(this),r=this.h_,e=this.o_();this.Ll=t,this.Ug.Vl=t.zg,this.Vg.Vl=t.$g,this.qg.Vl=t.Xg,this.Hg.Vl=t.Gg,il(this,i,this);var u=this.h_;u!==r&&this.Us(new hd(u)),this.o_()!==e&&this.Us(new fd),t.Hs(this.Bs),t.n_(n)}},i.v_=function(){},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){var n,i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.js(),this.Ll.i_(),n=0,i=this.Mg;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.sr();case 7:n++,t.next=3;break;case 10:this.Ug.sr(),this.Vg.sr(),this.qg.sr(),this.Hg.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ol=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ze(this.Mg.map(function(t){return t.Ol()})).then(P));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"zg",get:function(){return this.Ug}},{key:"Xg",get:function(){return this.qg}},{key:"$g",get:function(){return this.Vg}},{key:"d_",get:function(){return this.Ll.d_}},{key:"l_",get:function(){return this.Ll.l_},set:function(t){this.Ll.l_=t}},{key:"h_",get:function(){return this.Ll.h_}},{key:"Uw",get:function(){return this.Ll.Uw},set:function(t){this.Ll.Uw=t}},{key:"Vw",get:function(){return this.Ll.Vw}},{key:"w_",get:function(){return this.Ll.w_}},{key:"qw",get:function(){return this.Ll.qw}},{key:"tc",get:function(){return this.Ll.tc}},{key:"Hw",get:function(){return this.Ll.Hw}},{key:"Gg",get:function(){return this.Hg}},{key:"y_",get:function(){return this.Ll.y_}},{key:"xg",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.g_,i+=c.__,r+=c.p_,e+=c.m_,u+=c.k_,o.amountOfBufferedAudioSegments+=c.b_.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.b_.amountOfBufferedVideoSegments}return{g_:n,__:i,p_:r,m_:e,k_:u,b_:o}}(this.Mg.map(function(t){return t.xg}))}},{key:"jw",get:function(){return this.Ll.jw},set:function(t){this.Ll.jw=t}},{key:"T_",get:function(){return this.Ll.T_}},{key:"Ww",get:function(){return this.Ll.Ww}},{key:"zw",get:function(){return this.Ll.zw},set:function(t){this.Ll.zw=t}},{key:"E_",get:function(){return this.Ll.E_}},{key:"S_",get:function(){return this.Ll.S_},set:function(t){this.Ll.S_=t}},{key:"rw",get:function(){return this.Ll.rw}},{key:"R_",get:function(){return this.Ll.R_}},{key:"$w",get:function(){return this.Ll.$w}},{key:"Xw",get:function(){return this.Ll.Xw}},{key:"Gw",get:function(){return this.Ll.Gw}},{key:"Yw",get:function(){return this.Ll.Yw},set:function(t){this.Ll.Yw=t}},{key:"Vl",get:function(){return this.Ll},set:function(t){this.f_(t)}}]),n}(ad),Ol=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=o,a.response=s,a.systemCode=c,a}return z(n,t),j(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Mo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Al||(Al={}));var xl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,h.captureStackTrace&&h.captureStackTrace(en(u),u.constructor),u}return z(n,t),j(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function Pl(t){Fv(t,"MEDIA_ERR_ABORTED",Al.ABORTED),Fv(t,"MEDIA_ERR_NETWORK",Al.NETWORK),Fv(t,"MEDIA_ERR_DECODE",Al.DECODE),Fv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Al.SRC_NOT_SUPPORTED),Fv(t,"MEDIA_ERR_ENCRYPTED",Al.ENCRYPTED)}function Ll(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new xl(Al.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new xl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Al.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Al.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Al.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Al.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Al.NETWORK;if(i===n.ErrorCategory.SOURCE)return Al.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Al.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Al.ENCRYPTED;if(i===n.ErrorCategory.AD)return Al.ADVERTISEMENT_ERROR;return Al.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}Pl(xl),Pl(xl.prototype);var Fl,Ml=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.Al=function(n){return t.prototype.Al.call(this,n)},i.il=function(){return Qv(this)},n}(Nv);!function(t){t.Av="audio",t.Dv="video",t.eu="text",t.Nv="image",t.gv="unknown"}(Fl||(Fl={}));var Bl=function(){function t(){this.I_=[],this.tl=void 0}var n=t.prototype;return n.gy=function(t){this.I_.push(t),this.tl&&this.tl.push(t.nl)},n.Cl=function(t){return this.I_[t]},n.C_=function(t){return ut(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ne(t,n[i]))return!1;return!0}(this.I_,t):Ne(this.I_,t)},j(t,[{key:"xl",get:function(){return this.I_}},{key:"Pl",get:function(){return this.I_.length}},{key:"nl",get:function(){var t,n;return this.tl||(this.tl=((n=(t=this).xl.map(function(t){return t.nl})).item=function(n){var i=0|n,r=t.Cl(i);return r&&r.nl||void 0},n)),this.tl}}]),t}(),Ul=function(t){function n(n){var i;return(i=t.call(this,Ev.bl)||this).ul=n,i}return z(n,t),n.prototype.il=function(){return new Vl(this.ul.nl)},n}(Sv),Vl=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return z(n,t),n}(Rv),ql=0;function Hl(){return ql++}var jl=0;var Wl=0;var zl=0;var $l=function(t){function n(n){var i;return(i=t.call(this)||this).ss=Fl.Av,i.A_=void 0,i.D_=void 0,i.N_=void 0,i.O_=void 0,i.x_=!1,i.I_=void 0,i.tl=void 0,i.A_=n,i.O_=Hl(),i.D_=zl+++"",i.N_=n.label,i.I_=new Bl,i.P_(),i}z(n,t);var i=n.prototype;return i.L_=function(t){this.jl=t},i.P_=function(){this.jl=this.F_},j(n,[{key:"Hl",get:function(){}},{key:"jl",get:function(){return this.x_},set:function(t){this.x_!==t&&(this.x_=t,this.F_=t,this.Us(new Ov(this)))}},{key:"F_",get:function(){return!!this.A_.enabled},set:function(t){this.A_.enabled=t}},{key:"nl",get:function(){return this.tl||(this.tl=Kv(this)),this.tl}},{key:"Wl",get:function(){return this.D_}},{key:"zl",get:function(){return this.O_}},{key:"$l",get:function(){return this.A_.kind}},{key:"Xl",get:function(){return this.N_},set:function(t){t!==this.N_&&(this.N_=t,this.Us(new Ul(this)))}},{key:"Gl",get:function(){return this.A_.language}},{key:"Zl",get:function(){return this.jl?"enabled":"disabled"}},{key:"M_",get:function(){return this.A_}},{key:"Yl",get:function(){return this.I_}},{key:"Kl",get:function(){},set:function(t){}}]),n}(Ke),Xl=0;var Gl,Yl,Kl,Jl,Ql,Zl=function(t){function n(n){var i;return(i=t.call(this)||this).ss=Fl.Dv,i.A_=void 0,i.D_=void 0,i.O_=void 0,i.x_=!1,i.I_=void 0,i.N_=void 0,i.tl=void 0,i.A_=n,i.O_=Hl(),i.D_=Xl+++"",i.I_=new Bl,i.N_=n.label,i.P_(),i}z(n,t);var i=n.prototype;return i.P_=function(){this.jl=this.F_},i.L_=function(t){this.jl=t},j(n,[{key:"Hl",get:function(){}},{key:"jl",get:function(){return this.x_},set:function(t){this.x_!==t&&(this.x_=t,this.F_=t,this.Us(new Ov(this)))}},{key:"F_",get:function(){return!!this.A_.selected},set:function(t){this.A_.selected=t}},{key:"nl",get:function(){return this.tl||(this.tl=Kv(this)),this.tl}},{key:"Wl",get:function(){return this.D_}},{key:"zl",get:function(){return this.O_}},{key:"$l",get:function(){return"main"}},{key:"Xl",get:function(){return this.N_},set:function(t){t!==this.N_&&(this.N_=t,this.Us(new Ul(this)))}},{key:"Gl",get:function(){return this.A_.language}},{key:"Zl",get:function(){return this.jl?"enabled":"disabled"}},{key:"M_",get:function(){return this.A_}},{key:"Yl",get:function(){return this.I_}},{key:"Kl",get:function(){},set:function(t){}}]),n}(Ke),tw=function(t){function n(n){var i;return(i=t.call(this,rs.$a)||this).y_=n,i}return z(n,t),n}(Qe);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Gl||(Gl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Yl||(Yl={})),function(t){t.B_="cue",t.U_="region",t.V_="stylesheet"}(Kl||(Kl={})),function(t){t.q_="H_",t.j_="W_",t.bl="Vc"}(Jl||(Jl={})),function(t){t.q_="enter",t.j_="exit",t.bl="update"}(Ql||(Ql={}));var nw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).z_=i,r}return z(n,t),n}(Sv),iw=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return z(n,t),n}(Rv);function rw(t){var n,i=[Jl.q_,Jl.j_,Jl.bl],r={get track(){return t.ul.nl},get id(){return t.Wl},get uid(){return t.zl},get startTime(){return t.X_},get endTime(){return t.G_},get content(){return t.Y_},addEventListener:function(t,i){var r=$v(t,zv);n.Vs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ws(r,i)}};return n=new Je(r),t.Vs(i,function(t){return n.Us(t.nl)}),r}function ew(){}var uw=.02;var ow=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).O_=void 0,o.D_=void 0,o.K_=void 0,o.J_=void 0,o.tl=void 0,o.Q_=void 0,o.Z_=!1,o.tp=void 0,o.np=void 0,o.ip="",o.rp=-1,o.O_=Wl++,o.K_=n,o.J_=i,o.tp=r,o.np=Boolean(e),o.D_=null!=u?u:"",o}z(n,t);var i=n.prototype;return i.il=function(){return rw(this)},i.ay=function(t){return this===t||Vv(this,t)&&(i=t,Jt((n=this).X_,i.X_,uw)&&Jt(n.G_,i.G_,uw)&&n.Wl===i.Wl);var n,i},i.sr=function(){this.js()},j(n,[{key:"X_",get:function(){return this.K_},set:function(t){this.K_=t}},{key:"G_",get:function(){return this.J_},set:function(t){this.J_=t}},{key:"Wl",get:function(){return this.D_}},{key:"zl",get:function(){return this.O_}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"ep",get:function(){return this.Z_},set:function(t){this.Z_=t}},{key:"ul",get:function(){return this.Q_},set:function(t){this.Q_=t}},{key:"Y_",get:function(){return this.tp},set:function(t){this.tp=t}},{key:"op",get:function(){return this.ip},set:function(t){this.ip=t}},{key:"sp",get:function(){return this.np},set:function(t){this.np=t}}]),n}(Ke);var sw=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,u)||this).cp="auto",o.ap="start",o.fp="auto",o.hp="auto",o.vp=void 0,o.dp=!0,o.vc=100,o.lp="center",o.wp="",o}return z(n,t),n.prototype.ay=function(n){return this===n||Vv(this,n)&&t.prototype.ay.call(this,n)&&(r=n,(i=this).Y_===r.Y_&&i.cp===r.cp&&i.ap===r.ap&&i.fp===r.fp&&i.hp===r.hp&&i.vp===r.vp&&i.dp===r.dp&&i.vc===r.vc&&i.lp===r.lp&&i.wp===r.wp);var i,r},j(n,[{key:"nl",get:function(){var t;return this.tl||(this.tl=Mv(rw(t=this),{get align(){return t.lp},get line(){return t.cp},get lineAlign(){return t.ap},get position(){return t.fp},get positionAlign(){return t.hp},get region(){return t.vp?t.vp.nl:null},get size(){return t.vc},get snapToLines(){return t.dp},get text(){return t.Y_},get vertical(){return t.wp}})),this.tl}},{key:"ss",get:function(){return Kl.B_}}]),n}(ow);var cw,aw,fw,hw,vw=function(){function t(t,n,i,r,e,u,o,s){this.tl=void 0,this.Wl=t,this.lo=n,this.yp=i,this.gp=r,this._p=e,this.pp=u,this.mp=o,this.kp=s}return j(t,[{key:"nl",get:function(){var t;return this.tl||(this.tl=(t=this,{get id(){return t.Wl},get identifier(){return t.Wl},get lines(){return t.yp},get regionAnchorX(){return t.gp},get regionAnchorY(){return t._p},get scrollValue(){return t.kp},get viewportAnchorX(){return t.pp},get viewportAnchorY(){return t.mp},get width(){return t.lo}})),this.tl}},{key:"ss",get:function(){return Kl.U_}}]),t}(),dw=9e4,lw=l.pow(2,33),ww=(Sl.Ey(lw,dw).Yy(2),{bp:0,Tp:1/0,Ep:0}),yw=6,gw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],_w=[" ","\t","\n","\f","\r"],pw=/^\d*$/,mw=/.*[0-9]+.*/,kw=/^[\d.-]+$/,bw=/(^\.|\.$)/,Tw=/(\D\.|\.\D)/;function Ew(t,n){void 0===n&&(n=ww);var i={ew:[],Sp:[],Rp:[]},r=Sw(t),e=new oo;if(Lw(r),Rw(r,function(t){return"\n"!==t},e),e.gc>=r.length)return i;(e.lc(1),"\n"!==r.charAt(e.gc))?Dw(Iw(r,e,!1,!0,i,n),i):e.lc(1);for(Rw(r,function(t){return"\n"===t},e);e.gc<r.length;){Dw(Iw(r,e,!1,!1,i,n),i),Rw(r,function(t){return"\n"===t},e)}return i}function Sw(t){var n=gr(t,"\0"," "),i=gr(n,"\r\n","\n");return gr(i,"\r","\n")}function Rw(t,n,i){for(var r=i.gc;i.gc<t.length&&n(t.charAt(i.gc));)i.lc(1);return t.substring(r,i.gc)}function Iw(t,n,i,r,e,u){for(var o,s=0,c=n.gc,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=Rw(t,function(t){return"\n"!==t},n),s++,n.gc>=t.length?f=!0:n.lc(1),_r(o,"--\x3e")){if(r||1!==s&&(2!==s||h)){n.wc(c);break}h=!0,c=n.gc,v=new sw(0,0,"",!1,a);try{Nw(o,e.Sp,v,u),a=""}catch(t){D.To(t),v=null}}else{if(""===o)break;r&&pr(o,"X-TIMESTAMP-MAP")&&(e.Ip=Cw(o)),r||2!==s||i||(kr("STYLE",a.replace(/ /g,""))?(d={ss:Kl.V_},a=""):kr("REGION",a.replace(/ /g,""))&&(l=new vw("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=o,c=n.gc}if(v)return v.Y_=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&_r(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),o=e.substring(0,u),s=e.substring(u+1,e.length);switch(o.toUpperCase()){case"ID":$w(s,n);break;case"WIDTH":Yw(s,n);break;case"LINES":Gw(s,n);break;case"REGIONANCHOR":var c=zw(s);c&&(n.gp=c[0],n._p=c[1]);break;case"VIEWPORTANCHOR":var a=zw(s);a&&(n.pp=a[0],n.mp=a[1]);break;case"SCROLL":Xw(s,n)}}}}(a,l),l;return null}function Cw(t){var n,i,r=t.split("=")[1].trim().split(","),e=Aw(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Aw(r[0].trim(),"LOCAL")?r[0]:r[1];return{Cp:(i=Number(e.split(/:(.*)/)[1].trim())||0,Sl.Ey(i,dw)),Ap:Sl.ag(null!=(n=Pw(u.split(/:(.*)/)[1].trim(),new oo))?n:0)}}function Aw(t,n){return pr(t,n)}function Dw(t,n){t&&function(t){return t.ss===Kl.B_}(t)?n.ew.push(t):t&&function(t){return t.ss===Kl.U_}(t)?n.Sp.push(t):t&&function(t){return t.ss===Kl.V_}(t)&&n.Rp.push(t)}function Nw(t,n,i,r){var e=new oo;if(Fw(t,e),i.X_=Ow(Pw(t,e),r),Fw(t,e),"--\x3e"!==t.substring(e.gc,e.gc+3))throw h("Something went wrong with parsing a WebVTT Cue");e.lc(3),Fw(t,e),i.G_=Ow(Pw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&_r(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":qw(c,n,i);break;case"VERTICAL":jw(c,n);break;case"D":Ww(c,n);break;case"LINE":case"L":Uw(c,n);break;case"POSITION":case"T":Vw(c,n);break;case"SIZE":case"S":Hw(c,n);break;case"ALIGN":case"A":Bw(c,n)}}}}(t.substring(e.gc,t.length),i,n)}function Ow(t,n){return t+n.bp}function xw(t){return/^[0-9]$/.test(t)}function Pw(t,n){var i,r,e,u=gr(t,",","."),o=!1;if(n.gc>=u.length||!xw(u.charAt(n.gc)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var s=Rw(u,xw,n),c=w(s,10);if((s.length>2||c>59)&&(o=!0),n.gc>=u.length||":"!==u.charAt(n.gc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.lc(1);var a=Rw(u,xw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var f=w(a,10);if(o||n.gc<u.length&&":"===u.charAt(n.gc)){if(n.gc>=u.length||":"!==u.charAt(n.gc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.lc(1);var v=Rw(u,xw,n);if(2!==a.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=w(v,10)}else i=0,r=c,e=f;if(n.gc>=u.length||"."!==u.charAt(n.gc))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.lc(1);var d=Rw(u,xw,n),l=w(d,10);if(f>59||e>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Lw(t){if(t.length<yw)return!1;for(var n=0;n<gw.length;n++){if(pr(t,gw[n]))return!0}return!1}function Fw(t,n){for(;n.gc<t.length&&(i=t.charAt(n.gc),Ne(_w,i));)n.lc(1);var i}function Mw(t){var n=t.lastIndexOf("%");if(n>-1){var i=y(t.substring(0,n));if(!g(i)&&i>=0&&i<=100)return i}return null}function Bw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.lp=i;break;case"middle":n.lp="center"}}function Uw(t,n){var i=t,r="";if(_r(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),mw.test(i)){var e;if(mr(i,"%")){var u=Mw(i);if(null===u)return;e=u}else{if(!kw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Tw.test(t)||bw.test(t))return;if(e=y(t),g(e))return}switch(n.cp=e,n.dp=mr(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.ap=r;break;case"middle":n.ap="center"}}}function Vw(t,n){var i=t,r="";_r(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Mw(i);if(null!==e)switch(n.fp=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.hp=r;break;case"start":n.hp="line-left";break;case"middle":n.hp="center";break;case"end":n.hp="line-right"}}function qw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Wl===t)return void(n.vp=i[r])}function Hw(t,n){var i=Mw(t);null!==i&&(n.vc=i)}function jw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.wp="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.wp="lr";break;default:n.wp=""}}function Ww(t,n){"VERTICAL"===t.toUpperCase()?n.wp="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.wp="lr")}function zw(t){if(t.indexOf(",")>=0){var n=Mw(t.substring(0,t.indexOf(","))),i=Mw(t.substring(t.indexOf(",")+1,t.length));return[Kt(n||0,0,100),Kt(i||100,0,100)]}return null}function $w(t,n){n.Wl=t}function Xw(t,n){"up"===t.toLowerCase()&&(n.kp="up")}function Gw(t,n){pw.test(t)&&(n.yp=w(t))}function Yw(t,n){var i=Mw(t);null!==i&&(n.lo=i)}!function(t){t.Dp="moov",t.Np="mvhd",t.Op="trak",t.xp="tkhd",t.Pp="mdia",t.Lp="mdhd",t.Fp="hdlr",t.Mp="minf",t.Bp="stbl",t.Up="stsd",t.Vp="stsc",t.qp="mvex",t.Hp="trex",t.jp="avc1",t.Wp="avcC",t.zp="hev1",t.$p="hvc1",t.Xp="hvcC",t.Gp="pasp",t.Yp="mp4a",t.Kp="esds",t.Jp="wvtt",t.Qp="vttC",t.Zp="vlab",t.tm="enca",t.nm="encv",t.im="moof",t.rm="mfhd",t.um="traf",t.om="tfhd",t.sm="trun",t.cm="tfdt",t.am="mdat",t.fm="pssh",t.hm="emsg",t.vm="sidx",t.dm="styp",t.lm="ftyp",t.wm="sinf",t.ym="frma"}(cw||(cw={})),function(t){t.Dv="vide",t.Av="soun",t.gm="subt",t._m="hint",t.pm="meta",t.mm="auxv"}(aw||(aw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(fw||(fw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(hw||(hw={}));var Kw=function(){function t(t,n){this.xu=void 0,this.km=void 0,this.xu=t,this.km=n}var n=t.prototype;return n.bm=function(){return Du(this.xu,this.km)},n.Tm=function(){return Pu(this.xu,this.km)},n.Em=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.gc,i);return n.lc(2),r}(this.xu,this.km)},n.Sm=function(){return Fu(this.xu,this.km)},n.Rm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.gc,i);return n.lc(4),r}(this.xu,this.km)},n.Im=function(){return Bu(this.xu,this.km)},n.Cm=function(t){return Ou(this.xu,this.km,t)},n.Am=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Fu(t,n));return r}(this.xu,this.km,t)},n.Dm=function(t){return qu(this.xu,this.km,t)},n.Nm=function(){return Ku(this.xu,this.km)},n.Om=function(t){this.km.lc(t)},n.yc=function(){return new t(this.xu,this.km.yc())},t}(),Jw=function(t){function n(n,i){var r;return(r=t.call(this)||this).xm=n,r.Pm=i,r}return z(n,t),j(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),Qw=function(){function t(){}return t.Lm=function(n){var i=n.xu,r=n.km,e=t.Fm(i,r,!1);if(!e.Mm)throw new Jw(r.gc,e.Eu);return e.Eu},t.Fm=function(n,i,r){for(var e=[];i.gc<n.byteLength;){var u=t.Bm(n,i,r);if(!u.Mm)return{Mm:!1,Eu:e};e.push(u.Um)}return{Mm:!0,Eu:e}},t.Vm=function(n,i){var r=t.Bm(n,i,!1);if(!r.Mm)throw new Jw(i.gc);return r.Um},t.qm=function(n,i){for(var r=n.xu,e=n.km;e.gc<r.byteLength;){var u=t.Bm(r,e,!1);if(!u.Mm)return;if(u.Um.ss===i)return u.Um}},t.Bm=function(n,i,r){var e=i.gc,u=t.Hm(n,i);if(!u.Mm)return u;var o=u.jm,s=o.vc;if(0===s){if(r)return i.wc(e),{Mm:!1,Wm:1/0};s=n.byteLength-e}var c=e+s;if(c>n.byteLength){var a=c;return i.wc(e),{Mm:!1,Wm:a}}var f,h,v,d={ss:o.ss,gc:e,xu:new Kw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new oo(o.zm))};return i.wc(c),{Mm:!0,Um:d}},t.Hm=function(t,n){var i=n.gc;if(!xu(t,n,8))return{Mm:!1,Wm:n.gc+8};var r=Fu(t,n),e=qu(t,n,4);if(1===r){if(!xu(t,n,8)){var u=n.gc+8;return n.wc(i),{Mm:!1,Wm:u}}r=Bu(t,n).toNumber()}if("uuid"===e){if(!xu(t,n,16)){var o=n.gc+16;return n.wc(i),{Mm:!1,Wm:o}}e=qu(t,n,16)}return{Mm:!0,jm:{ss:e,vc:r,zm:n.gc-i}}},t.$m=function(t,n,i){var r=t.xu,e=t.km,u=Zu(no(r),e.gc,r.byteLength);return i&&(u=uo(u)),e.lc(u.byteLength),{ss:n,xu:u}},t.Xm=function(n,i,r){var e=iy(n.Sm());return{ss:i,Gm:e.version,Ym:e.flags,xu:t.$m(n,i,r).xu}},t}();function Zw(t,n){var i=ty(t,n);if(!i)throw new h("Missing "+n+" atom");return i}function ty(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ss===n)return r.xu}}function ny(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.ss===n&&i.push(e.xu)}return i}function iy(t){return{version:t>>24,flags:new Au(16777215&t)}}var ry=function(){function t(){}return t.Km=function(n){for(var i=[],r=Qw.Lm(new Kw(n,new oo)),e=0;e<r.length;e++){var u=r[e],o=t.Jm(u);o&&i.push(o)}return i},t.Qm=function(t){return Qw.Fm(t,new oo,!1).Eu.some(function(t){return t.ss===cw.im||t.ss===cw.dm})},t.Zm=function(n){return ny(Qw.Lm(new Kw(n,new oo)),cw.fm).map(t.tk)},t.Jm=function(n){switch(n.ss){case cw.Dp:return t.nk(n.xu);case cw.im:return t.ik(n.xu,n.gc);case cw.am:return t.rk(n.xu);case cw.vm:return t.ek(n.xu);case cw.hm:return t.uk(n.xu)}},t.nk=function(n){var i=Qw.Lm(n),r=Zw(i,cw.Np),e=ny(i,cw.Op),u=ty(i,cw.qp),o=t.sk(r),s=e.map(t.ck),c=u?t.ak(u):void 0;return{ss:cw.Dp,jm:o,fk:s,hk:c}},t.sk=function(t){var n=iy(t.Sm()),i=n.version,r=n.flags,e=1===i?t.Im():t.Sm(),u=1===i?t.Im():t.Sm(),o=t.Sm(),s=1===i?t.Im():t.Sm(),c=t.Sm(),a=t.Tm()>>8;t.Om(2),t.Om(8);var f=t.Am(9);t.Om(24);var h=t.Sm();return{ss:cw.Np,Gm:i,Ym:r,vk:e,dk:u,Qy:o,Vw:s,lk:c,Yw:a,wk:f,yk:h}},t.ck=function(n){var i=Qw.Lm(n),r=Zw(i,cw.xp),e=Zw(i,cw.Pp),u=t.gk(r),o=t._k(e);return{ss:cw.Op,jm:u,pk:o}},t.gk=function(t){var n=iy(t.Sm()),i=n.version,r=n.flags,e=1===i?t.Im():t.Sm(),u=1===i?t.Im():t.Sm(),o=t.Sm();t.Om(4);var s=1===i?t.Im():t.Sm();t.Om(8);var c=t.Em(),a=t.Em(),f=t.Em()/l.pow(2,8);t.Om(2);var h=t.Am(9),v=t.Sm()/l.pow(2,16),d=t.Sm()/l.pow(2,16);return{ss:cw.xp,mk:r.pc(1),kk:r.pc(2),bk:r.pc(4),vk:e,dk:u,Tk:o,Vw:s,Ek:c,Sk:a,Yw:f,wk:h,lo:v,Rk:d}},t._k=function(n){var i=Qw.Lm(n),r=Zw(i,cw.Lp),e=Zw(i,cw.Fp),u=Zw(i,cw.Mp),o=t.Ik(r),s=t.Ck(e),c=t.Ak(u);return{ss:cw.Pp,jm:o,Dk:s,Nk:c}},t.Ik=function(t){var n=iy(t.Sm()),i=n.version,r=n.flags,e=1===i?t.Im():t.Sm(),u=1===i?t.Im():t.Sm(),o=t.Sm(),s=1===i?t.Im():t.Sm();t.Tm();return t.Om(2),{ss:cw.Lp,Gm:i,Ym:r,vk:e,dk:u,Qy:o,Vw:s}},t.Ck=function(t){var n=iy(t.Sm()),i=n.version,r=n.flags;t.Om(4);var e=t.Dm(4);t.Om(12);var u=t.Nm();return{ss:cw.Fp,Gm:i,Ym:r,Ok:e,vu:u}},t.Ak=function(n){var i=Zw(Qw.Lm(n),cw.Bp),r=t.xk(i);return{ss:cw.Mp,Pk:r}},t.xk=function(n){var i=Zw(Qw.Lm(n),cw.Up),r=t.Lk(i);return{ss:cw.Bp,Fk:r}},t.Lk=function(n){for(var i=iy(n.Sm()),r=i.version,e=i.flags,u=(n.Sm(),[]),o=Qw.Lm(n),s=0;s<o.length;s++){var c=o[s],a=t.Mk(c.xu,c.ss);a&&u.push(a)}return{ss:cw.Up,Gm:r,Ym:e,Bk:u}},t.Mk=function(n,i){var r=t.Uk(n,i);return r||((r=t.Vk(n,i))||(i===cw.Jp?t.qk(n):void 0))},t.Uk=function(n,i){return i===cw.Yp?t.Hk(n):i===cw.tm?t.jk(n):void 0},t.Vk=function(n,i){return i===cw.jp?t.Wk(n):i===cw.zp||i===cw.$p?t.zk(n,i):i===cw.nm?t.$k(n):void 0},t.Xk=function(t,n){return t.Om(6),{ss:n,Gk:t.Tm()}},t.Yk=function(n,i){var r=t.Xk(n,i);n.Om(8);var e=n.Tm(),u=n.Tm();return n.Om(2),n.Om(2),te({},r,{Kk:e,Jk:u,Qk:n.Sm()>>>16})},t.Zk=function(n,i){var r=t.Xk(n,i);n.Om(2),n.Om(2),n.Om(12);var e=n.Tm(),u=n.Tm(),o=n.Sm(),s=n.Sm();n.Om(4);var c=n.Tm();n.Om(32);var a=n.Tm();return n.Om(2),te({},r,{lo:e,Rk:u,nb:o,ib:s,rb:c,eb:a})},t.Hk=function(n){var i=t.Yk(n,cw.Yp),r=Zw(Qw.Lm(n),cw.Kp);return te({},i,{ub:t.ob(r)})},t.qk=function(n){var i=t.Xk(n,cw.Jp),r=Qw.Lm(n),e=Zw(r,cw.Qp),u=t.sb(e),o=ty(r,cw.Zp);return te({},i,{cb:u,ab:o?t.fb(o):o})},t.sb=function(t){return{ss:cw.Qp,Gc:t.Nm()}},t.fb=function(t){return{ss:cw.Zp,Xl:t.Nm()}},t.ob=function(t){return Qw.Xm(t,cw.Kp,!0)},t.Wk=function(n){var i=t.Zk(n,cw.jp),r=Qw.Lm(n),e=Zw(r,cw.Wp),u=ty(r,cw.Gp);return te({},i,{hb:t.vb(e),lb:u?t.wb(u):void 0})},t.zk=function(n,i){var r=t.Zk(n,i),e=Zw(Qw.Lm(n),cw.Xp);return te({},r,{yb:t.gb(e)})},t.$k=function(n){var i=n.yc(),r=t.Zk(n,cw.nm),e=Zw(Qw.Lm(n),cw.wm),u=t._b(e);return te({},r,{pb:t.Vk(i,u.kb.mb),bb:u})},t.jk=function(n){var i=n.yc(),r=t.Yk(n,cw.tm),e=Zw(Qw.Lm(n),cw.wm),u=t._b(e);return te({},r,{pb:t.Uk(i,u.kb.mb),bb:u})},t._b=function(n){var i=Zw(Qw.Lm(n),cw.ym),r=t.Tb(i);return{ss:cw.wm,kb:r}},t.Tb=function(t){var n=t.Dm(4);return{ss:cw.ym,mb:n}},t.vb=function(t){return Qw.$m(t,cw.Wp,!0)},t.gb=function(t){return Qw.$m(t,cw.Xp,!0)},t.wb=function(t){var n=t.Sm(),i=t.Sm();return{ss:cw.Gp,Eb:n,Sb:i}},t.ak=function(n){var i=ny(Qw.Lm(n),cw.Hp).map(t.Rb);return{ss:cw.qp,fk:i}},t.Rb=function(t){var n=iy(t.Sm()),i=n.version,r=n.flags,e=t.Sm(),u=t.Sm(),o=t.Sm(),s=t.Sm(),c=t.Sm();return{ss:cw.Hp,Gm:i,Ym:r,Tk:e,Ib:u,Cb:o,Ab:s,Db:c}},t.ik=function(n,i){var r=Qw.Lm(n),e=Zw(r,cw.rm),u=ny(r,cw.um),o=t.Nb(e),s=u.map(t.Ob);return{ss:cw.im,xb:i,jm:o,fk:s}},t.Nb=function(t){var n=iy(t.Sm()),i=n.version,r=n.flags,e=t.Sm();return{ss:cw.rm,Gm:i,Ym:r,Pb:e}},t.Ob=function(n){var i=Qw.Lm(n),r=Zw(i,cw.om),e=ny(i,cw.sm),u=ty(i,cw.cm),o=t.Lb(r),s=e.map(function(n){return t.Fb(n,o)}),c=u?t.Mb(u):void 0;return{ss:cw.um,jm:o,Bb:s,Ub:c}},t.Lb=function(t){var n=iy(t.Sm()),i=n.version,r=n.flags,e=t.Sm(),u=r.pc(fw.BASE_DATA_OFFSET_PRESENT)?t.Im():void 0,o=r.pc(fw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Sm():void 0,s=r.pc(fw.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Sm():void 0,c=r.pc(fw.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Sm():void 0,a=r.pc(fw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Sm():void 0;return{ss:cw.om,Gm:i,Ym:r,Tk:e,Vb:u,qb:o,Cb:s,Ab:c,Db:a}},t.Fb=function(n,i){for(var r=iy(n.Sm()),e=r.version,u=r.flags,o=n.Sm(),s=u.pc(hw.DATA_OFFSET_PRESENT)?n.Rm():void 0,c=u.pc(hw.FIRST_SAMPLE_FLAGS_PRESENT)?n.Sm():void 0,a=[],f=0;f<o;f++){var h=t.Hb(n,u,e,i);0===f&&void 0!==c&&(h.Ym=c),a.push(h)}return{ss:cw.sm,Gm:e,Ym:u,jb:o,xb:s,Wb:c,zb:a}},t.Hb=function(t,n,i,r){return{Vw:n.pc(hw.SAMPLE_DURATION_PRESENT)?t.Sm():r.Cb,vc:n.pc(hw.SAMPLE_SIZE_PRESENT)?t.Sm():r.Ab,Ym:n.pc(hw.SAMPLE_FLAGS_PRESENT)?t.Sm():r.Db,$b:n.pc(hw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Sm():t.Rm():void 0}},t.uk=function(t){var n=t.xu,i=t.km,r=iy(Fu(n,i)),e=r.version,u=r.flags;if(1===e){var o=Fu(n,i),s=Bu(n,i),c=Fu(n,i),a=Fu(n,i),f=Vu(n,i),h=Vu(n,i),v=eo(no(n),i.gc,n.byteLength);return i.lc(v.byteLength),{ss:cw.hm,Gm:e,Ym:u,Xb:f,wu:h,Qy:o,Gb:s,Yb:c,Wl:a,Kb:v}}var d=Vu(n,i),l=Vu(n,i),w=Fu(n,i),y=Fu(n,i),g=Fu(n,i),_=Fu(n,i),p=eo(no(n),i.gc,n.byteLength);return i.lc(p.byteLength),{ss:cw.hm,Ym:u,Gm:e,Xb:d,wu:l,Qy:w,Jb:y,Yb:g,Wl:_,Kb:p}},t.rk=function(t){return Qw.$m(t,cw.am,!1)},t.tk=function(n){var i=n.xu,r=n.km,e=uo(no(i)).buffer,u=iy(Fu(i,r)),o=u.version,s=u.flags,c=t.Qb(i,r),a=[];if(o>0)for(var f=Fu(i,r),h=0;h<f;h++){var v=Ou(i,r,16);a.push(v)}var d=Fu(i,r),l=new _(e,r.gc,d);return r.lc(i.byteLength),{ss:cw.fm,Gm:o,Ym:s,Zb:c,tT:a,nT:d,xu:l,iT:e}},t.Qb=function(t,n){for(var i="",r=0;r<4;r++){var e=Du(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var o=Du(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Du(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Du(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Du(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.ek=function(t){var n,i,r=t.xu,e=t.km,u=iy(Fu(r,e)),o=u.version,s=u.flags,c=Fu(r,e),a=Fu(r,e);0===o?(n=Gt.fromBits(Fu(r,e),0,!0),i=Gt.fromBits(Fu(r,e),0,!0)):(n=Bu(r,e),i=Bu(r,e)),e.lc(2);for(var f=Pu(r,e),h=[],v=0;v<f;v+=1){var d=Fu(r,e),l=d>>31&1,w=2147483647&d,y=Fu(r,e),g=Fu(r,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({rT:l,eT:w,Vw:y,uT:_,oT:p,sT:m})}return{ss:cw.vm,Gm:o,Ym:s,cT:c,Qy:a,aT:n,fT:i,hT:f,vT:h}},t.Mb=function(t){var n,i=t.xu,r=t.km,e=iy(Fu(i,r)),u=e.version,o=e.flags;return n=0===u?Gt.fromBits(Fu(i,r),0,!0):Bu(i,r),{ss:cw.cm,Gm:u,Ym:o,Ub:n}},t}();function ey(t){return t&&"Tu"in t?t.Tu:t}var uy=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this,n,i,r,e)||this).dT=void 0,c.lT=void 0,c.wT=void 0,c.dT=u,c.lT=o,c.wT=s||void 0,c}return z(n,t),n.prototype.ay=function(n){return this===n||!!Vv(this,n)&&(!!t.prototype.ay.call(this,n)&&(!!Uv(this.yT,n.yT)&&(!!Uv(this.Sp,n.Sp)&&(this.gT&&n.gT?!!this.gT.au(n.gT)&&(this.Y_&&n.Y_?this.Y_.au(n.Y_):this.Y_===n.Y_):this.gT===n.gT))))},j(n,[{key:"yT",get:function(){return this.dT}},{key:"Sp",get:function(){return this.lT}},{key:"gT",get:function(){return this.wT}},{key:"nl",get:function(){var t;return this.tl||(this.tl=Mv(rw(t=this),{get styles(){return t.yT},get regions(){return t.Sp},get metadata(){return ey(t.gT)},get content(){return ey(t.Y_)}})),this.tl}}]),n}(ow),oy=function(){function t(t,n,i){this.Ah=void 0,this._T=void 0,this.pT=void 0,this._T=t,this.pT=n,rn(i)?this.Ah=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Iu(u)}return i}(0,0,i):this.Ah=i}return j(t,[{key:"mT",get:function(){return this.Ah.fu(!0)}},{key:"X_",get:function(){return this._T}},{key:"G_",get:function(){return this.pT}}]),t}();var sy="http://www.w3.org/XML/1998/namespace";function cy(t,n){return function(t,n){var i=t.Eu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Eu)}return r}(t,function(t){return t.mu===n})}function ay(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function fy(t,n){for(var i=t.Nu,r={},e=0;e<i.length;e++)r[ay(i[e].vu,n)]=i[e].wu;return r}var hy=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,vy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,dy="http://www.w3.org/ns/ttml";function ly(t,n,i){return void 0===i&&(i=ww),function(t,n,i){var r,e=[];try{r=D.su(t)}catch(t){return e}var u=r.Pu;if("tt"!==u.hu)return e;var o=u&&u.ku(dy,"head")[0],s=u&&u.ku(dy,"body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var a=function(t,n){for(var i={},r=t.ku(dy,"styling")[0],e=r&&r.ku(dy,"style")||[],u=0;u<e.length;u++){var o=e[u],s=o.Ru(sy,"id");i[s]=fy(o,n)}return i}(o,c),f=function(t,n){var i=Bv(t),r=_y(n.Su("tts:extent"));if(!r)return i;for(var e=0,u=d.keys(i);e<u.length;e++){var o=u[e],s=_y(i[o].extent);if(s){var c=yy(s[0],r[0]),a=yy(s[1],r[1]);i[o].extent=c+" "+a}var f=_y(i[o].origin);if(f){var h=yy(f[0],r[0]),v=yy(f[1],r[1]);i[o].origin=h+" "+v}}return i}(function(t,n){for(var i={},r=t.ku(dy,"layout")[0],e=r&&r.ku(dy,"region")||[],u=0;u<e.length;u++){var o=e[u],s=o.Ru(sy,"id");if(s){i[s]=fy(o,n);var c=ky(o,n);for(var a in c)it.call(c,a)&&(i[s][a]=c[a])}}return i}(o,c),u),h=o.ku(dy,"metadata")[0],v=function t(n,i,r,e){var u=i;var o;var s=r;var c=[];var a=[];if(rn(n)){var f,h;u=null!=(f=my(n.Su("begin"),e))?f:u,o=my(n.Su("dur"),0),s=null!=(h=my(n.Su("end"),e))?h:void 0!==o?u+o:s;for(var v=n.pu,d=0;d<v.length;d++)("body"===n.hu||"div"===n.hu)&&v[d].nu>1||(c=c.concat(t(v[d],u,s,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.X_,u.G_)}r.sort(fl);for(var o=r.length,s=0;s<o-1;s++)r[s+1]===r[s]&&(De(r,s+1),s--,o=r.length);return r}(u,s,c);for(var w=0;w<l.length-1;w++){var y=py(l[w],l[w+1],c);if(y.length<=0&&by(n)){var g=n.fu(!1);a.push(new oy(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.fu(!1);y.forEach(function(n){return t.bu(n.mT)}),a.push(new oy(l[w],l[w+1],t))}()}return a}(s,i.bp,i.Tp,i.Ep),l=0;l<v.length;l++){var w=v[l],y=wy(f,w);e.push(new uy(w.X_,w.G_,w.mT,!1,a,y,h))}return e}(t,0,i)}function wy(t,n){for(var i=function t(n){var i=[];var r;if(rn(n)){(r=n.Su("region"))&&i.push(r);for(var e=n.pu,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.mT),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function yy(t,n){var i=gy(t),r=gy(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return g(e)||g(u)?t:e/u*100+"%"}return t}function gy(t){return mr(t,"px")?"px":mr(t,"em")?"em":mr(t,"c")?"c":mr(t,"%")?"%":void 0}function _y(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function py(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].X_,o=i[e].G_;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&r.push(i[e])}return r}function my(t,n){if(t){if(hy.test(t)){var i=hy.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*r+60*e+u+(o?Number(o)*l.pow(.1,o.length):0)-n}if(vy.test(t)){var s=vy.exec(t);if(!s)return;var c,a=Number(s[1]);switch(s[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function ky(t,n){for(var i={},r=t._u("style")||[],e=0;e<r.length;e++){var u=fy(r[e],n);for(var o in u)it.call(u,o)&&(i[o]=u[o])}return i}function by(t){if(rn(t)){var n=t.hu.toUpperCase(),i=Boolean(t.Su("smpte:backgroundImage"));return"BR"===n||i}return t.nu===nn.eu}function Ty(t){var n=function(t){try{return D.su(t).Pu}catch(t){}}(t);return"tt"===(null==n?void 0:n.hu)}var Ey,Sy=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.Al=function(n){return t.prototype.Al.call(this,n)},i.Dl=function(n){var i=t.prototype.Dl.call(this,n);return i&&(n.Zl=Zv.iw),i},i.il=function(){return ud(this)},n}(Nv),Ry=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).fk=new Sy,n.kT=function(t){var i=t.ul;n.bT(i)},n}z(n,t);var i=n.prototype;return i.Al=function(t){t.Vs(Ev.yl,this.kT),this.fk.Al(t),this.bT(t)},i.Dl=function(t){t.Ws(Ev.yl,this.kT),t.Zl=Zv.iw,this.fk.Dl(t)},i.TT=function(t){},i.ET=function(t){},i.bT=function(t){t.Zl!==Zv.iw?this.TT(t):this.ET(t)},i.ST=function(){for(var t=0,n=this.fk.xl;t<n.length;t++){var i=n[t];i.Ws(Ev.yl,this.kT),i.sr()}},i.Ol=function(){return this.ST(),this.fk.Ol(),C.resolve()},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.js(),t.next=3,this.Ol();case 3:this.fk.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Ke);!function(t){t.gm="subtitles",t.RT="captions",t.IT="descriptions",t.CT="chapters",t.pm="metadata",t.AT="thumbnails"}(Ey||(Ey={}));var Iy=[Ey.gm,Ey.RT,Ey.IT,Ey.CT,Ey.pm,Ey.AT];function Cy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ne(Iy,t)}(n)?n:n?Ey.pm:Ey.gm}var Ay,Dy=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,u)||this).url=void 0,o.status=void 0,o.url=r,o.status=e,o}return z(n,t),n}(Mo);function Ny(t,n){return t===Ey.AT||t===Ey.pm&&n===Ey.AT}function Oy(t,n,i,r){for(var e=0,u=t.ew.xl;e<u.length;e++){var o=u[e];if(o.X_>i)break;n<=o.G_&&r.push(o)}}function xy(t,n){return al(t.zl,n.zl)}function Py(t,i){var r=i,e=0;if(t instanceof Hf&&t.name===Vf.$v)r=t.dv.wv;else if(function(t){return t instanceof Wf}(t)){var u=t.Jv;if(r=u.lv,0===(e=u.cv))return new Dy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Dy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Ly(t){switch(t){case Yl.WEBVTT:return"WebVTT";case Yl.SRT:return"SRT";case Yl.TTML:return"TTML";default:return""}}function Fy(t){return Lw(Sw(t))?Yl.WEBVTT:Ty(t)?Yl.TTML:Yl.SRT}!function(t){t.DT="vtt",t.Jp="wvtt",t.NT="stpp"}(Ay||(Ay={}));var My=function(t){function n(n){var i;return(i=t.call(this,td.Jl)||this).errorObject=n,i}return z(n,t),n.prototype.il=function(){return this},j(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Tv),By=function(t){function i(n,i){var r;return(r=t.call(this)||this).OT=void 0,r.xT=void 0,r.PT=new Pe,r.OT=n,r.xT=i,r}z(i,t);var r=i.prototype;return r.LT=function(t){if(t.src){var n=t.kind||Ey.gm,i=this.OT.FT(n,t.id,t.label,t.srclang,t.default);return i.ow=Rr(t.src),this.Al(i),i}},r.MT=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v,d,l;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.rw=Gl.LOADING,e=new Bf({wv:i.ow,fv:es.eu,Ov:xf.GET,Ps:r}),t.prev=2,t.next=5,this.xT.dv(e);case 5:return s=t.sent,o=s.cv,t.next=9,s.$h();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Be(t.t0),i.rw=Gl.ERROR,i.Us(new My(Py(t.t0,i.ow))),t.abrupt("return");case 18:for(t.prev=18,c=Fy(u),i.ss=c,a=[],c===Yl.WEBVTT||c===Yl.SRT?(f=Ew(u),a=f.ew):c===Yl.TTML&&(a=ly(u)),h=0,v=a;h<v.length;h++)d=v[h],i.BT(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Be(t.t1),i.rw=Gl.ERROR,l=Ly(i.ss),i.Us(new My(new Dy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.ow,o,t.t1))),t.abrupt("return");case 33:i.rw=Gl.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.TT=function(t){Ne(this.fk.xl,t)&&t.rw===Gl.NONE&&this.MT(t,this.PT.Ps).catch(Ue)},r.Bc=function(){},r.Ol=function(){var n=C.coroutine(Zr.mark(function n(){var i,r,e;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.PT.Ns(),this.PT=new Pe,i=0,r=this.fk.xl;i<r.length;i++)e=r[i],this.OT.UT(e);return n.next=5,t.prototype.Ol.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(Ry);function Uy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.$l===n&&r.VT)return r}}function Vy(t,n){qy(Uy(t.xl,n))}function qy(t){void 0!==t&&(t.Zl=Zv.tw)}function Hy(t,n){qy(Uy(t.xl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.$l===n)return r}}(t.xl,n))}function jy(t){for(var n=0;n<Iy.length;n++){var i=Iy[n];i===Ey.CT?Hy(t,i):Vy(t,i)}}var Wy,zy=function(t){function n(){return t.call(this,rs.yf)||this}return z(n,t),n}(Qe);!function(t){t[t.qT=0]="qT",t[t.HT=1]="HT"}(Wy||(Wy={}));var $y=t,Xy=$y.MediaSource,Gy=$y.WebKitMediaSource,Yy=$y.TextTrack,Ky=e&&e.createElement("video"),Jy=(e&&e.documentElement.style,nt.de&&nt.He&&nt.je<=26),Qy=(nt.Ie,!(!Xy&&!Gy)),Zy=!!Yy,tg=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||nt.Se,nt.Be&&nt.Ue,Ky&&Ky.canPlayType&&(""!==Ky.canPlayType("application/vnd.apple.mpegURL")||nt._e&&!nt.Be&&nt.pe),Ky&&Ky.canPlayType&&""!==Ky.canPlayType("video/mp4")&&!Jy),ng=Qy&&!nt.Ve&&!nt.Le&&!nt.Pe&&((Xy||Gy).isTypeSupported?(Xy||Gy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Ky&&Ky.canPlayType&&""!==Ky.canPlayType('audio/mp4; codecs="mp4a.40.34"'));Qy&&!nt.Ve&&(ng||((Xy||Gy).isTypeSupported?(Xy||Gy).isTypeSupported("audio/mpeg"):Ky&&Ky.canPlayType&&Ky.canPlayType("audio/mpeg"))),Qy&&!(nt.Me&&nt.de)&&(Xy||Gy).isTypeSupported&&(Xy||Gy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),nt.Ve||nt.Le||nt.Pe,nt.Fe,nt.Ve,nt.Le&&nt.we&&nt.ye;try{r&&r.top!==r.self}catch(t){!0}var ig=function(t){function n(n){var i;return(i=t.call(this,xd.Mw)||this).currentTime=n,i}return z(n,t),n}(Qe),rg=function(t){function n(n){var i;return(i=t.call(this,xd.Bw)||this).currentTime=n,i}return z(n,t),n}(Qe),eg=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).jT=_d.Cw,r.WT=!0,r.zT=!1,r.$T=!1,r.XT=function(t){var n=t.readyState;n!==r.jT&&r.Us(t),n===_d.Cw&&(r.zT=!1,r.$T=!1),r.GT(n),r.YT(n),r.KT(n),r.maybeDispatchCanPlayThroughEvent(n),r.JT(n),r.QT(n),r.jT=n},r.ZT=function(){r.QT(r.jT),r.JT(r.jT),r.WT=r.tE.Ww},r.nE=function(){r.WT=r.tE.Ww},r.tE=n,r.iE=i,r.tE.Vs(xd._l,r.XT),r.tE.Vs(rs.vf,r.ZT),r.tE.Vs(rs.hf,r.nE),r.iE&&r.tE.Vs(xd.Bw,r.Bs),r}z(n,t);var i=n.prototype;return i.GT=function(t){!this.$T&&t>=_d.Aw&&(this.$T=!0,this.Us(new Vd(this.tE.Uw,t)))},i.YT=function(t){!this.zT&&t>=_d.Dw&&(this.zT=!0,this.Us(new zd(this.tE.Uw,t)))},i.JT=function(t){this.iE||(t>=_d.Nw&&this.jT<_d.Nw&&!this.tE.Ww||this.rE&&t>=_d.Nw)&&this.Us(new rg(this.tE.Uw))},i.QT=function(t){!this.eE(t)||this.tE.qw||this.tE.tc||this.Us(new ig(this.tE.Uw))},i.KT=function(t){this.jT<=_d.Dw&&t>=_d.Nw&&this.Us(new Yd(this.tE.Uw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===_d.Ow&&this.Us(new Kd(this.tE.Uw,t))},i.eE=function(t){var n=!this.tE.Ww&&t<=_d.Dw,i=!this.WT&&this.jT<=_d.Dw;return n&&!i},i.Ol=function(){this.jT=_d.Cw,this.WT=!0,this.zT=!1,this.$T=!1},i.sr=function(){this.js(),this.iE&&this.tE.Ws(xd.Bw,this.Bs),this.tE.Ws(rs.vf,this.ZT),this.tE.Ws(rs.hf,this.nE),this.tE.Ws(xd._l,this.XT)},j(n,[{key:"rE",get:function(){return!this.tE.Ww&&this.WT}}]),n}(Ke),ug="titanium",og="conax",sg="ezdrm",cg="irdeto",ag="vudrm",fg="verimatrix",hg="keyos",vg="drmtoday",dg="expressplay",lg="azure",wg="xstream",yg="vimond",gg="axinom",_g="uplynk",pg="comcast",mg="custom",kg=function(){function t(t,n,i,r,e){this.Xc=void 0,this.uE=void 0,this.oE=void 0,this.sE=void 0,this.xT=void 0,this.cE=void 0,this.aE=void 0,this.Xc=t,this.uE=n,this.oE=i,this.xT=r,this.aE=e,this.sE=this.fE(n)}var i=t.prototype;return i.hE=function(){return this.cE},i.vE=function(t){this.cE=t},i.dE=function(){return this.sE.licenseAcquisitionURL||this.hE()},i.lE=function(t){return C.resolve()},i.wE=function(t,n){return C.resolve(void 0)},i.yE=function(){var t=C.coroutine(Zr.mark(function t(i,r,e,u){var o,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.gE(i,r,e,u)).wv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Yd.dv(o);case 6:return s=t.sent,t.next=9,s.Xh(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Be(t.t0),t.next=17,this._E(t.t0,o.wv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.gE=function(t,n,i,r){var e=this.pE().xf(),u=this.Fv,o={wv:this.mE(),fv:n,av:e,Jh:t,Fv:u,Ov:xf.POST,xv:0,Ps:r,ss:Pf.mv,Pv:i};return new Bf(o)},i.kE=function(t,n){return C.resolve(t)},i.bE=function(t,n,i,r){return C.resolve(t)},i.pE=function(){return new us(this.sE.headers||{})},i._E=function(){var t=C.coroutine(Zr.mark(function t(i,r,e){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.mE=function(t,n){var i=n,r=this.sE.queryParameters;if(!i){var e=this.dE();if(!e)return"";i=e}if(r||t){var u=D.Qu(i);t&&Sr(u,t),r&&Sr(u,r),i=u.href}return i},i.TE=function(t){return function(t,n){var i=n.licenseResponseProcessor;return C.resolve(new _(bg(t,i)))}(t,this.sE)},i.EE=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e,u,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SE(n,r);case 2:return e=t.sent,t.next=5,this.yE(e,this.aE,i,r);case 5:return u=t.sent,t.next=8,this.TE(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sr=function(){},j(t,[{key:"Yd",get:function(){return this.xT}},{key:"RE",get:function(){return!1}},{key:"IE",get:function(){var t=this.sE.certificate;if(t)return at(t)?vu(t):ro(t)}},{key:"CE",get:function(){return!1}},{key:"Fv",get:function(){return Boolean(this.sE.useCredentials)}}]),t}();function bg(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Tg(t,n){var i=uo(t).buffer,r=n.licenseRequestProcessor;return C.resolve(bg(i,r))}var Eg,Sg,Rg=function(t){function n(n,i,r,e){return t.call(this,me,n,i,r,e)||this}z(n,t);var i=n.prototype;return i.fE=function(t){return t.widevine||{}},i.AE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IE){t.next=2;break}return t.abrupt("return",this.IE);case 2:return t.abrupt("return",this.DE(new _(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.DE=function(n,i){return t.prototype.EE.call(this,n,Lf.Ev,i)},n}(kg);function Ig(t,n){if(null==t)return{};var i,r,e={},u=d.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Cg(t){return et(t.token&&t.deviceId)}function Ag(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&et(i.PreAuthorization)}function Dg(t){var n=t;return Cg(n)&&""!==n.token&&""!==n.deviceId&&!Ag(n)}(Sg=Eg||(Eg={})).NE=!1,Sg.OE=!1,Sg.xE=!1,Sg.PE=!1,Sg.LOG_ADS_DETAILS=!1,Sg.LOG_CHROMECAST_DETAILS=!1,Sg.LOG_CUSTOM_DRM=!1,Sg.LOG_BUFFERING_VIDEO_MAIN=!1,Sg.LOG_BUFFERING_VIDEO_SELECTION=!1,Sg.LOG_BUFFERING_AUDIO_MAIN=!1,Sg.LOG_BUFFERING_AUDIO_SELECTION=!1,Sg.LE=!1,Sg.FE=!1;var Ng,Og=function(){function t(t,n,i){this.ME=t,this.xc=n,this.BE=i}return t.prototype.UE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.BE.build(t))},j(t,[{key:"VE",get:function(){return this.ME}},{key:"Xc",get:function(){return this.xc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ng||(Ng={}));var xg=function(){function t(){this.qE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.HE(t,i,r)){case Ng.FAILED:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ng.OVERRIDDEN:var e=Jg(i);D.To("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Ng.SUCCEEDED:Jg(i);0}},i.HE=function(t,n,i){var r=Jg(n);if(!r)return Ng.FAILED;for(var e=Ng.SUCCEEDED,u=0,o=this.qE.slice();u<o.length;u++){var s=o[u];s.VE===t&&s.Xc===r&&(e=Ng.OVERRIDDEN,Ae(this.qE,s))}return this.qE.push(new Og(t,r,i)),e},i.jE=function(t,n){return void 0!==this.WE(t,n)},i.zE=function(t,n,i){var r=this.WE(t,n);if(!r)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.UE(i)},i.WE=function(t,n){for(var i=0,r=this.qE;i<r.length;i++){var e=r[i];if(e.VE===t&&(!n||e.Xc===n))return e}},t}();xg.$E=new xg;var Pg={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Lg(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||r||e||u||o||s||c||a||f)}function Fg(t){return t&&void 0!==t.licenseAcquisitionURL}var Mg,Bg=Fg,Ug=Fg;function Vg(t){if(!t)return!0;if(Wg(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Lg(n)&&Lg(i)&&Lg(r)&&Lg(e)&&Lg(u)}function qg(t){var n=Dg(t),i=function(t){var n,i=t;return Ag(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Cg(i)}(t);return(!n||!i)&&(n||i)}function Hg(t){return t.integration===cg}function jg(t){var n=t;if(!n)return!1;if(Vg(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(Wg(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Bg(r))return!1;if(e&&!Ug(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(xg.$E.jE(n.integration))return!0;switch(n.integration){case ug:if(!function(t){return t.integration===ug&&(zg(t)||$g(t))}(t))return!1;break;case ag:if(!Xg(t))return!1;break;case fg:if(!function(t){return t.integration===fg}(t))return!1;break;case cg:if(!Hg(t))return!1;break;case og:if(!qg(t))return!1;break;case sg:if(!function(t){return t.integration===sg}(t))return!1;break;case hg:if(!Wg(t))return!1;break;case vg:if(!function(t){var n=t;return n.integration===vg&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case dg:if(!function(t){return t.integration===dg}(t))return!1;break;case wg:if(!Gg(t))return!1;break;case yg:if(!function(t){return t.integration===yg}(t))return!1;break;case gg:if(!Yg(t))return!1;break;case lg:if(!function(t){var n=t;return n.integration===lg&&void 0!==n.token}(t))return!1;break;case _g:if(!function(t){return t.integration===_g}(t))return!1;break;case pg:if(!function(t){var n=t;return n&&et(n.releasePid)&&et(n.accountId)&&et(n.token)}(t))return!1;break;case mg:return!0;default:return!1}}return!0}function Wg(t){return t.integration===hg}function zg(t){return void 0!==t.authToken}function $g(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Xg(t){var n=t;return n.integration===ag&&void 0!==n.token}function Gg(t){var n=t;return n&&n.integration===wg&&at(n.ticketAcquisitionURL)&&at(n.streamId)}function Yg(t){var n=t;return n.integration===gg&&void 0!==n.token}function Kg(t,n){var i,r,e,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Pg[t],s=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=s?{customData:s}:{},a=te({},null!=(e=null==u?void 0:u.headers)?e:{},c),f=null!=u?u:{};f.customdata;return te({},Ig(f,["customdata"]),{licenseAcquisitionURL:o,headers:a})}function Jg(t){switch(t.toLowerCase()){case"widevine":case we:return we;case"playready":case de:return de;case"fairplay":case ge:return ge}}function Qg(t,i){switch(t){case fe:return function(t){for(var n={},i=ry.Zm(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.Zb]=e.iT}return n}(i);case he:case ve:return function(t){var n;return(n={})[ye]=t,n}(i);default:throw new Mo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.rs="Widevine",t.ts="PlayreadyV2",t.XE="PlayreadyV2",t.GE="PlayreadyV3",t.es="Fairplay"}(Mg||(Mg={}));var Zg={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function t_(t,n){var i,r,e,u,o=Zg[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=D.Bo)?void 0:i.Uo,OSVersion:null==(r=D.Bo)?void 0:r.Wo,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(e=D.Bo)?void 0:e.zo,DeviceModel:null==(u=D.Bo)?void 0:u.$o}}}function n_(t,i){if(!t.accountName)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function i_(t,n,i){var r;if(zg(t))r={AuthToken:t.authToken,Payload:n};else{if(!$g(t))throw n_(t,i);r={LatensRegistration:t_(t,i),Payload:n}}return ku(JSON.stringify(r))}function r_(t,n,i){return e_.apply(this,arguments)}function e_(){return(e_=C.coroutine(Zr.mark(function t(i,r,e){var u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Jv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return o=u,t.prev=4,t.next=7,o.zh(e);case 7:s=t.sent,c=u_(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,o.dv.wv,o.cv,o.hv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function u_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var o_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,es.Nf)||this).YE=void 0,e}z(i,t),i.KE=function(){return D.Uo.vo?"required":"optional"};var r=i.prototype;return r._E=function(t,n,i){return r_(t,n,i)},r.lE=function(t){return this.YE?Ve(this.YE.kc,t):(this.YE=new so,C.resolve())},r.SE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.uE){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=lu(i),t.abrupt("return",i_(e,u,Mg.rs));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.TE=function(t){var i;if(!t.license)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=vu(t.license),C.resolve(i)},r.JE=function(t){return C.resolve(new _(t))},r.AE=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QE(),t.next=3,this.SE(n,i);case 3:return r=t.sent,t.next=6,this.yE(r,es.Df,Lf.Sv,i);case 6:return e=t.sent,t.next=9,this.JE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.DE=function(){var n=C.coroutine(Zr.mark(function n(i,r){var e;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.DE.call(this,i,r);case 2:return e=n.sent,this.QE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.QE=function(){this.YE||(this.YE=new so),this.YE.bc()},r.sr=function(){this.YE&&this.YE.Ns(),t.prototype.sr.call(this)},i}(Rg),s_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,es.Df)||this).vE("https://widevine-proxy.drm.technology/proxy"),e}return z(i,t),i.prototype.SE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tg(i,this.sE);case 2:if(e=t.sent,u=this.oE,r=new _(e),o=[].slice.call(r),s=this.ZE){t.next=8;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),j(i,[{key:"ZE",get:function(){if(Xg(this.uE))return this.uE.token}}]),i}(Rg);function c_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=te({},i,{SessionId:t.sessionId,Ticket:t.ticket})),te({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var a_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,es.Df)||this).vE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}z(n,t);var i=n.prototype;return i.SE=function(t,n){return Tg(t,this.sE)},i.mE=function(n,i){var r=n;return Hg(this.uE)&&(r=c_(this.uE,r)),t.prototype.mE.call(this,r,i)},n}(Rg),f_="Conax-Custom-Data";function h_(t,n,i){var r=t&&qg(t)&&t;if(r&&!i.has(f_)){var e=Dg(r)?r.token:void 0,u=Dg(r)?r.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(f_,o)}return i}var v_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,es.Df)||this).vE("https://connect.conax.com:8094/license"),e}z(n,t);var i=n.prototype;return i.SE=function(t,n){return Tg(t,this.sE)},i.pE=function(){var n=t.prototype.pE.call(this);return h_(this.uE,"Widevine",n)},n}(Rg);function d_(t){var n=$u(new _(t));return vu(JSON.parse(n).license)}function l_(t){return"string"==typeof t.token?t.token:ku(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function w_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var y_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,es.Df)||this).vE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}z(n,t);var i=n.prototype;return i.SE=function(t,n){return Tg(t,this.sE)},i.TE=function(t){return C.resolve(d_(t))},i.pE=function(){return w_(t.prototype.pE.call(this),this.ZE,this.uE)},j(n,[{key:"ZE",get:function(){return l_(this.uE)}}]),n}(Rg),g_=function(t){function n(n,i,r){return t.call(this,n,i,r,es.Df)||this}z(n,t);var i=n.prototype;return i.SE=function(t,n){return Tg(t,this.sE)},i.pE=function(){var n=t.prototype.pE.call(this),i=this.uE.token;return n.set("Authorization","Bearer "+i),n},n}(Rg);function __(t,n,i,r){return p_.apply(this,arguments)}function p_(){return(p_=C.coroutine(Zr.mark(function t(i,r,e,u){var o,s,c,a,f,h,v;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Gg(i)){t.next=2;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new us).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=i.sessionId)&&o.append("XSSESSION",s),c=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",f={drmType:r,licenseType:a,streamId:c},h={wv:i.ticketAcquisitionURL,fv:es.Nf,av:o,Ov:xf.POST,Jh:JSON.stringify(f),Ps:u},t.next=13,e.dv(h);case 13:return v=t.sent,t.next=16,v.zh();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var m_=function(t){function n(n,i,r){return t.call(this,n,i,r,es.Nf)||this}z(n,t);var i=n.prototype;return i.pE=function(){var n=t.prototype.pE.call(this);return n.set("Content-Type","application/json"),n},i.SE=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=mu(n.buffer),e=this.uE,t.next=4,__(e,"widevine_modular",this.Yd,i);case 4:return u=t.sent,this.vE(u.licenseServerUrl),o=Xu(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Tg(o,this.sE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TE=function(t){var n=t;return C.resolve(vu(n.license))},n}(Rg),k_=function(t){function i(n,i,r){return t.call(this,n,i,r,es.Df)||this}z(i,t);var r=i.prototype;return r.SE=function(t,n){return Tg(t,this.sE)},r.pE=function(){if(!Yg(this.uE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pE.call(this);return i.set("X-AxDRM-Message",this.uE.token),i},i}(Rg);function b_(t){for(var n=new _(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var T_=function(t){function n(n,i,r){var e;return(e=t.call(this,pe,n,i,r,es.Df)||this).tS=void 0,e}z(n,t);var i=n.prototype;return i.fE=function(t){return t.playready||{}},i.pE=function(){var n=new us(this.tS);return n.Lf(t.prototype.pE.call(this)),n},i.nS=function(t){return t.length>=1&&t[0].pu.length>0},i.wE=function(n){var i=this.uE.playready.customData;if(i){var r=b_(i),e=b_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+lu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{ga:e}})}return t.prototype.wE.call(this,n)},i.SE=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tg(n,this.sE);case 2:return r=t.sent,t.abrupt("return",this.iS(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v,d,l,w,y,g;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new oo,void 0===(m=!0)&&(m=!1),c=Wu(_,p,m,!0),t.prev=3,a=D.su(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null==(i=a._u("PlayReadyKeyMessage")[0])?void 0:i._u("LicenseAcquisition")[0],h=null!=(r=null==f?void 0:f._u("Challenge"))?r:[],this.nS(h)&&(o=pu(h[0].Ou)),v=new us,d=null!=(e=null==f?void 0:null==(u=f._u("HttpHeaders")[0])?void 0:u._u("HttpHeader"))?e:[],l=0;l<d.length;l++)w=d[l],y=w._u("name")[0].Ou,g=w._u("value")[0].Ou,v.append(y,g);return this.tS=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.AE=function(t,n){return C.resolve(t)},i.DE=function(n,i){return t.prototype.EE.call(this,n,Lf.Rv,i)},n}(kg),E_=function(){function t(n){this.rS=void 0,this.eS=n,this.rS=t.uS(n)}return t.uS=function(t){return"3"===t.version?Mg.GE:Mg.XE},t.prototype.oS=function(){var t={};if(this.rS===Mg.GE){var n={LatensRegistration:t_(this.eS,Mg.GE)};t["X-TITANIUM-DRM-CDATA"]=ku(JSON.stringify(n))}return t},j(t,[{key:"sS",get:function(){return this.rS}},{key:"ra",get:function(){return this.rS===Mg.XE}}]),t}();var S_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).cS=void 0,e.cS=new E_(e.uE),e}z(i,t);var r=i.prototype;return r.wE=function(t){var i=this.uE;if(!this.uE)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if($g(i)){var r={};return r.playready={ga:R_(i,this.cS.sS)},C.resolve(r)}return C.reject(n_(i,Mg.ts))},r.pE=function(){var n=new us(this.cS.oS());return n.Lf(t.prototype.pE.call(this)),n},r._E=function(){var t=C.coroutine(Zr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Jv){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.Gh(e);case 6:c=t.sent,a=$u(new _(c)),(f=D.su(a))&&(h=cy(f,"CustomData")).length>0&&(o=JSON.parse(h[0].Ou),s=null==(v=o.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u.cv,u.hv,s);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.nS=function(t){if(1!==t.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(T_);function R_(t,n){var i=t_(t,n),r=i.DeviceInfo.FormatVersion,e=ku('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Yu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Yu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+lu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var I_,C_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).vE("https://playready-license.drm.technology/rightsmanager.asmx"),e}z(i,t);var r=i.prototype;return r.nS=function(t){if(1!==t.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.mE=function(n,i){var r=te({},n||{},{token:this.ZE});return t.prototype.mE.call(this,r,i)},j(i,[{key:"ZE",get:function(){if(Xg(this.uE))return this.uE.token}}]),i}(T_),A_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).vE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return z(n,t),n.prototype.mE=function(n,i){var r=n;return Hg(this.uE)&&(r=c_(this.uE,r)),t.prototype.mE.call(this,r,i)},n}(T_),D_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).vE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return z(n,t),n.prototype.pE=function(){var n=t.prototype.pE.call(this);return h_(this.uE,"PlayReady",n)},n}(T_),N_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).vE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}z(n,t);var i=n.prototype;return i.TE=function(n){return(pr($u(new _(n)),"<?xml")?I_.aS:I_.zh)===I_.zh?C.resolve(d_(n)):C.resolve(t.prototype.TE.call(this,new _(n)))},i.pE=function(){return w_(t.prototype.pE.call(this),this.ZE,this.uE)},j(n,[{key:"ZE",get:function(){return l_(this.uE)}}]),n}(T_);!function(t){t[t.aS=0]="aS",t[t.zh=1]="zh"}(I_||(I_={}));var O_,x_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).fS=void 0,e}z(n,t);var i=n.prototype;return i.pE=function(){var n=t.prototype.pE.call(this);return this.fS&&n.set("Ticket",this.fS),n.set("Content-Type","text/xml"),n},i.SE=function(){var n=C.coroutine(Zr.mark(function n(i,r){var e,u;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.uE,n.next=3,__(e,"playready",this.Yd,r);case 3:return u=n.sent,this.vE(u.licenseServerUrl),this.fS=u.ticket,n.abrupt("return",t.prototype.SE.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(T_),P_=function(t){function i(){return t.apply(this,arguments)||this}return z(i,t),i.prototype.pE=function(){if(!Yg(this.uE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pE.call(this);return i.set("X-AxDRM-Message",this.uE.token),i},i}(T_);!function(t){t.Nf="application/json",t.hS="application/x-www-form-urlencoded",t.vS="application/octet-stream",t.eu="text/plain;charset=UTF-8"}(O_||(O_={}));var L_=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n.Xc,i,r,e,u)||this).dS="",o.lS=void 0,o.wS=void 0,o.wS=n.yS,o}z(n,t);var i=n.prototype;return i.gS=function(){return this.sE.certificateURL||this.lS},i._S=function(t){this.lS=t},i.SE=function(t){return C.resolve(this.pS(t,this.dS))},i.pS=function(t,n){return"spc="+encodeURIComponent(lu(t))+"&assetId="+encodeURIComponent(n)},i.fE=function(t){return t.fairplay||{}},i.mS=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var i=t.split("/");return C.resolve(i[i.length-1])},i.wE=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.wS)?i:Ju(new _(n)),t.next=3,this.mS(r);case 3:return e=t.sent,this.dS=e,(u={}).fairplay={Ea:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pE=function(){var n=t.prototype.pE.call(this);return n.set("Content-Type",this.kS),n},i.AE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IE){t.next=2;break}return t.abrupt("return",this.IE);case 2:return t.next=4,this.bS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.DE=function(n,i){return t.prototype.EE.call(this,n,Lf.bv,i)},i.TS=function(t){var n=this.gS(),i=this.pE(),r={wv:n,fv:es.Df,av:i,Ov:xf.GET,Fv:!1,Jh:null,xv:0,Ps:t,ss:Pf.mv,Pv:Lf.Tv};return new Bf(r)},i.bS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.TS(n),t.next=3,this.Yd.dv(i);case 3:return r=t.sent,t.next=6,r.Gh();case 6:return e=t.sent,t.abrupt("return",new _(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.TE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=vu(i)}else n=new _(t);return C.resolve(n)},i.mE=function(n,i){var r=t.prototype.mE.call(this,n,i);return pr(r,"skd:")&&(r=r.substr("skd:".length)),r},j(n,[{key:"CE",get:function(){return!0}},{key:"kS",get:function(){return O_.hS}}]),n}(kg),F_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,es.Df)||this}z(n,t);var i=n.prototype;return i.mS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return C.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return C.resolve(i)},i.SE=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.TE=function(t){return C.resolve(new _(t))},i.mE=function(n,i){var r=n||{};return r.p1=Zt(),t.prototype.mE.call(this,r,i)},j(n,[{key:"kS",get:function(){return O_.vS}}]),n}(L_),M_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,es.Df)||this).vE("https://fairplay-license.drm.technology/license"),u._S("https://fairplay-license.drm.technology/certificate"),u}z(i,t);var r=i.prototype;return r.pS=function(t,n){var i={token:this.ZE,contentId:n,payload:lu(t)};return JSON.stringify(i)},r.TE=function(t){return C.resolve(new _(t))},r.pE=function(){var n=t.prototype.pE.call(this);return n.set("x-vudrm-token",this.ZE),n},j(i,[{key:"kS",get:function(){return O_.Nf}},{key:"ZE",get:function(){if(!Xg(this.uE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.uE.token}}]),i}(L_),B_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",U_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",V_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,es.Df)||this}return z(i,t),i.prototype.TE=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,B_)}if(!i)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,U_);return i}($u(new DataView(i)));return t.prototype.TE.call(this,r)},i}(L_);var q_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,es.Nf)||this}z(i,t);var r=i.prototype;return r.SE=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.uE){t.next=3;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=lu(i),t.abrupt("return",i_(r,e,Mg.es));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.TE=function(t){try{var i;if(at(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=pu(i.license);return C.resolve(new _(e))}return C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r._E=function(t,n,i){return r_(t,n,i)},j(i,[{key:"kS",get:function(){return O_.Nf}}]),i}(L_),H_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,es.Df)||this).vE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u._S("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}z(n,t);var i=n.prototype;return i.gS=function(){var n=t.prototype.gS.call(this);if(!n)return n;var i=D.Qu(n),r=this.uE;return Hg(r)&&Sr(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.mS=function(n){return Hg(this.uE)?C.resolve(this.uE.contentId):t.prototype.mS.call(this,n)},i.SE=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.TE=function(t){return C.resolve(new _(t))},i.mE=function(n,i){var r=n;return Hg(this.uE)&&(r=function(t,n){return te({},c_(t,n),{KeyId:t.keyId})}(this.uE,r)),t.prototype.mE.call(this,r,i)},j(n,[{key:"kS",get:function(){return O_.vS}}]),n}(L_),j_=function(t){function i(i,r,e,u){var o;if(o=t.call(this,i,r,e,u,es.eu)||this,!qg(r))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o.vE("https://connect.conax.com:8097/license"),o}z(i,t);var r=i.prototype;return r.pE=function(){var n=t.prototype.pE.call(this);return h_(this.uE,"FairPlay",n)},r.bS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.gS(),r={wv:i,fv:es.Df,av:{},Ov:xf.GET,Fv:!1,Jh:null,xv:0,Ps:n,ss:Pf.mv,Pv:Lf.Tv},t.next=4,this.Yd.dv(r);case 4:return e=t.sent,t.next=7,e.Gh();case 7:return u=t.sent,t.abrupt("return",new _(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.SE=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.mS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),C.resolve($u(vu(n)))):C.resolve("unknown")},r.TE=function(t){try{var n=JSON.parse(t);return C.resolve(new _(pu(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},i}(L_),W_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,es.eu)||this).vE(Pg[ae.es]),u}z(i,t);var r=i.prototype;return r.mS=function(t){return pr(t,"skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.pS=function(t,n){return"spc="+lu(t)+"&assetId="+n},i}(L_),z_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,es.eu)||this).vE("https://lic.drmtoday.com/license-server-fairplay/"),u}z(n,t);var i=n.prototype;return i.pS=function(t,n){var i="spc="+encodeURIComponent(lu(t))+"&"+encodeURI(n);return"persistent"===this.sE.licenseType?i+"&offline=true":i},i.pE=function(){return w_(t.prototype.pE.call(this),this.ZE,this.uE)},j(n,[{key:"ZE",get:function(){return l_(this.uE)}}]),n}(L_),$_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,es.Df)||this}z(n,t);var i=n.prototype;return i.mS=function(t){var n=t;return pr(n,"skd:")&&(n="http:"+n.substring(4)),pr(n,"http:")||pr(n,"https:")?C.resolve(D.Qu(n).hostname):C.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},i.SE=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.TE=function(t){return C.resolve(new _(t))},j(n,[{key:"kS",get:function(){return O_.vS}}]),n}(L_),X_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,es.eu)||this}return z(n,t),n.prototype.pE=function(){var n=t.prototype.pE.call(this),i=this.uE.token;return n.set("Authorization","Bearer "+i),n},n}(L_),G_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,es.Nf)||this,!Gg(i))throw new h("Invalid Xstream DRM configuration");return u}z(n,t);var i=n.prototype;return i.bS=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.gS(),r=this.pE(),e={wv:i,fv:es.Nf,av:r,Ov:xf.POST,Ps:n,ss:Pf.mv,Pv:Lf.Tv},t.next=5,this.Yd.dv(e);case 5:return u=t.sent,t.next=8,u.zh();case 8:return o=t.sent,t.abrupt("return",new _(vu(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.DE=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e,u,o,s,c,a,f;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=es.eu),e=lu(n),u=this.uE,t.next=5,__(u,"fairplay",this.Yd,i);case 5:return o=t.sent,s=Xu(JSON.stringify({spc:e,ticket:o.ticket})),c={wv:this.dE(),fv:es.Nf,av:this.pE(),Ov:xf.POST,Jh:s,xv:0,Ps:i,ss:Pf.mv,Pv:Lf.bv},t.next=10,this.Yd.dv(c);case 10:return a=t.sent,t.next=13,a.zh();case 13:return f=t.sent,t.abrupt("return",vu(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),j(n,[{key:"kS",get:function(){return O_.Nf}}]),n}(L_),Y_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,es.eu)||this}z(i,t);var r=i.prototype;return r.pS=function(t,n){return lu(t)},r.TE=function(i){if(0===i.length)throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.TE.call(this,i)},r.pE=function(){var n=t.prototype.pE.call(this);return n.set("Content-Type","text/plain"),n},i}(L_),K_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,es.Df)||this}z(i,t);var r=i.prototype;return r.pS=function(t,n){return t},r.TE=function(t){return C.resolve(new _(t))},r.pE=function(){if(!Yg(this.uE))throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pE.call(this);return i.set("X-AxDRM-Message",this.uE.token),i},j(i,[{key:"kS",get:function(){return O_.Nf}}]),i}(L_),J_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,es.Nf)||this).ES=void 0,u}z(i,t);var r=i.prototype;return r.pS=function(t,n){var i={spc:lu(t)};return JSON.stringify(i)},r.mS=function(t){var i=D.Qu(t);return this.ES=t,i.searchParams.has("b")?C.resolve(i.searchParams.get("b")):C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.mE=function(n,i){var r=this.dE();return!r&&this.ES&&(r=this.ES),r&&(r=r.replace("skd://","https://")),t.prototype.mE.call(this,n,i||r)},r.TE=function(){var t=C.coroutine(Zr.mark(function t(i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=at(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",vu(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),j(i,[{key:"kS",get:function(){return O_.eu}}]),i}(L_),Q_=function(){function t(t,n){this.SS=t,this.RS=n}var n=t.prototype;return n.IS=function(t){return this.SS(t)},n.CS=function(t,n){throw new v(n+" must be "+this.RS+". (Received: "+t+")")},t}(),Z_=new Q_(vt,"a number"),tp=new Q_(at,"a string"),np=new Q_(ft,"a boolean");var ip,rp=(ip={responseCode:Z_,isException:np,description:tp,title:tp,correlationId:tp},{IS:function(t){if(!st(t))return!1;for(var n=0,i=d.keys(ip);n<i.length;n++){var r=i[n];if(!ip[r].IS(t[r]))return!1}return!0},CS:function(t,n){if(!st(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(ip);i<r.length;i++){var e=r[i],u=ip[e];if(!u.IS(t[e]))return u.CS(t[e],n+"."+e)}throw new v}});function ep(t,n,i,r,e){return up.apply(this,arguments)}function up(){return(up=C.coroutine(Zr.mark(function t(n,i,r,e,u){var o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=op(n,i,r,u),t.next=3,sp(o,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function op(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=D.Qu(t);return Sr(i,n),i.toString()}(i,e)),o=new us({});o.append("Content-Type","application/json");var s=lu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{wv:u,fv:es.eu,av:o,Ov:xf.POST,Jh:JSON.stringify(c),Ps:r,ss:Pf.mv,Pv:Lf.bv}}function sp(t,n){return cp.apply(this,arguments)}function cp(){return(cp=C.coroutine(Zr.mark(function t(i,r){var e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.dv(i);case 2:return e=t.sent,t.next=5,e.zh();case 5:if(u=t.sent,!rp.IS(u)){t.next=8;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.wv,u.responseCode);case 8:return t.abrupt("return",vu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ap=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,es.Df)||this).AS=void 0,u.AS=i,u}z(n,t);var i=n.prototype;return i.mS=function(n){var i=n.replace("FairPlay",this.AS.releasePid);return t.prototype.mS.call(this,i)},i.DE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ep(n,this.AS,this.dE(),this.Yd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(L_),fp=function(t){function i(n,i,r){return t.call(this,be,n,i,r,es.Df)||this}z(i,t);var r=i.prototype;return r.fE=function(t){return t.clearkey||{}},r.SE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tg(n,this.sE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.yE=function(){var i=C.coroutine(Zr.mark(function i(r,e,u,o){var s,c;return Zr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=this.sE,!this.dE()){i.next=5;break}return i.abrupt("return",t.prototype.yE.call(this,r,this.aE,u,o));case 5:if(!s.keys||!s.keys.length){i.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Xu(JSON.stringify(c)).buffer);case 10:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.AE=function(t,n){return C.resolve(new _(0))},r.DE=function(n,i){return t.prototype.EE.call(this,n,Lf.Iv,i)},i}(kg),hp=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.SE=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Tg(n,this.sE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Rg),vp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function dp(t,n,i){return lp.apply(this,arguments)}function lp(){return(lp=C.coroutine(Zr.mark(function t(n,i,r){var e,u,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Cp(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Ve(C.resolve(u.call(n,e)),r);case 8:if(!io(o=t.sent)){t.next=11;break}return t.abrupt("return",ro(o));case 11:return t.abrupt("return",Ip(te({},vp,o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wp(t,n,i,r,e){return yp.apply(this,arguments)}function yp(){return(yp=C.coroutine(Zr.mark(function t(n,i,r,e,u){var o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=Rp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Ve(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",ro(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gp(t,n,i,r){return _p.apply(this,arguments)}function _p(){return(_p=C.coroutine(Zr.mark(function t(n,i,r,e){var u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kp(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Ip(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n,i,r,e,u){return mp.apply(this,arguments)}function mp(){return(mp=C.coroutine(Zr.mark(function t(n,i,r,e,u,o){var s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Sp(r,u),t.next=3,Tp(n,new _(i),s,e,o);case 3:return c=t.sent,t.abrupt("return",ro(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kp(t,n,i,r){return bp.apply(this,arguments)}function bp(){return(bp=C.coroutine(Zr.mark(function t(n,i,r,e){var u,o,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Sp(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(o));case 5:return t.next=8,Ve(C.resolve(u.call(n,o)),e);case 8:if(!io(s=t.sent)){t.next=11;break}return t.abrupt("return",ro(s).buffer);case 11:return t.abrupt("return",te({fairplaySkdUrl:void 0},vp,s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tp(t,n,i,r,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=C.coroutine(Zr.mark(function t(n,i,r,e,u){var o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=Rp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Ve(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",ro(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sp(t,n){return te({},Cp(t),{fairplaySkdUrl:n})}function Rp(t,n,i){return{url:i.lv,status:i.cv,statusText:i.hv,headers:i.av.xf(),body:t,request:n}}function Ip(t){return new Bf({wv:t.url,Ov:t.method,av:t.headers,Jh:t.body,Fv:t.useCredentials})}function Cp(t){var n;return{url:t.wv,body:null!=(n=Ap(t.Jh))?n:null,headers:t.av.xf(),method:t.Ov,useCredentials:t.Fv}}function Ap(t){if(t)return"string"==typeof t?Xu(t):t instanceof ArrayBuffer?new _(t):yu(t)?no(t):void 0}var Dp,Np=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).DS=void 0,u.DS=e,u}z(i,t);var r=i.prototype;return r.AE=function(t,n){return C.resolve(t)},r.DE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iS(uo(i).buffer);case 2:return e=t.sent,u=this.gE(e,es.Df,Lf.Rv,r),t.next=6,gp(this.DS,u,void 0,r);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new _(o));case 10:if(""!==o.wv){t.next=12;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Yd.dv(o);case 15:return s=t.sent,t.next=18,s.Gh(r);case 18:return c=t.sent,t.t0=_,t.next=22,pp(this.DS,c,u,s,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Be(t.t2),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(T_),Op=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,es.Df)||this).DS=void 0,u.DS=e,u}z(i,t);var r=i.prototype;return r.AE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IE){t.next=2;break}return t.abrupt("return",this.IE);case 2:return e=this.gE(i,es.Df,Lf.Sv,r),t.next=5,dp(this.DS,e,r);case 5:if(!((u=t.sent)instanceof _)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.wv){t.next=11;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Yd.dv(u);case 14:return o=t.sent,t.next=17,o.Gh(r);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Be(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Sp(e,void 0),t.next=27,wp(this.DS,new _(s),c,o,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.DE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.gE(i,es.Df,Lf.Ev,r),t.next=3,gp(this.DS,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.wv){t.next=9;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Yd.dv(u);case 12:return o=t.sent,t.next=15,o.Gh(r);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Be(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=_,t.next=25,pp(this.DS,s,e,o,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(hp),xp=function(t){function i(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,es.Df)||this).DS=void 0,o.NS=void 0,o.DS=u,o}z(i,t);var r=i.prototype;return r.AE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IE){t.next=2;break}return t.abrupt("return",this.IE);case 2:return e=this.TS(r),t.next=5,dp(this.DS,e,r);case 5:if(u=t.sent,!yu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Yd.dv(u);case 11:return o=t.sent,t.next=14,o.Gh();case 14:return s=t.sent,c=Sp(e,void 0),t.next=18,wp(this.DS,new _(s),c,o,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Be(t.t0),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.DE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.gE(i,es.Df,Lf.bv,r),t.next=3,gp(this.DS,e,this.NS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.wv){t.next=9;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Yd.dv(u);case 12:return o=t.sent,t.next=15,o.Gh(r);case 15:return s=t.sent,t.t0=_,t.next=19,pp(this.DS,s,e,o,this.NS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Be(t.t2),new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.mS=function(n){var i;return this.NS=n,null!=(i=this.DS)&&i.extractFairplayContentId?C.resolve(this.DS.extractFairplayContentId(n)):t.prototype.mS.call(this,n)},i}(L_),Pp=function(){function t(){}var n=t.prototype;return n.OS=function(t,n,i,r){switch(t.Xc.ss){case ae.rs:return this.xS(n,i,r);case ae.ts:return this.PS(n,i,r);case ae.es:return this.LS(t,n,i,r);case ae.us:default:return this.FS(n,i,r)}},n.xS=function(t,n,i){var r,e=(r=t).integration===mg&&at(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&xg.$E.jE(e,we)){var u=xg.$E.zE(e,we,t);return new Op(t,n,i,u)}switch(e){case ug:return new o_(t,n,i);case ag:return new s_(t,n,i);case cg:return new a_(t,n,i);case og:return new v_(t,n,i);case vg:return new y_(t,n,i);case lg:return new g_(t,n,i);case wg:return new m_(t,n,i);case gg:return new k_(t,n,i);case hg:default:return new hp(t,n,i,es.Df)}},n.PS=function(t,n,i){var r=t.integration;if(r&&xg.$E.jE(r,de)){var e=xg.$E.zE(r,de,t);return new Np(t,n,i,e)}switch(r){case ug:return new S_(t,n,i);case ag:return new C_(t,n,i);case cg:return new A_(t,n,i);case og:return new D_(t,n,i);case vg:return new N_(t,n,i);case wg:return new x_(t,n,i);case gg:return new P_(t,n,i);case hg:default:return new T_(t,n,i)}},n.LS=function(t,n,i,r){var e=n.integration;if(e&&xg.$E.jE(e,ge)){var u=xg.$E.zE(e,ge,n);return new xp(t,n,i,r,u)}switch(e){case sg:return new F_(t,n,i,r);case ag:return new M_(t,n,i,r);case fg:return new V_(t,n,i,r);case ug:return new q_(t,n,i,r);case cg:return new H_(t,n,i,r);case og:return new j_(t,n,i,r);case hg:return new W_(t,n,i,r);case vg:return new z_(t,n,i,r);case dg:return new $_(t,n,i,r);case lg:return new X_(t,n,i,r);case wg:return new G_(t,n,i,r);case yg:return new Y_(t,n,i,r);case gg:return new K_(t,n,i,r);case _g:return new J_(t,n,i,r);case pg:return new ap(t,n,i,r);default:return new L_(t,n,i,r,es.eu)}},n.FS=function(t,n,i){return new fp(t,n,i)},n.MS=function(t){return t.ss===ae.ts||t.ss===ae.rs||t.ss===ae.es||t.ss===ae.us},n.ra=function(t,n){var i;if(t.ss!==ae.ts)return!1;if(et(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!xg.$E.jE(r,ge))&&(r===ug&&new E_(n).ra)},n.KE=function(t,n){if(t.ss===ae.rs){var i=n.integration;if(!i||!xg.$E.jE(i,ge))return i===ug?o_.KE():void 0}},t}();!function(t){t[t.BS=0]="BS",t[t.US=1]="US",t[t.VS=2]="VS",t[t.qS=3]="qS",t[t.kw=4]="kw",t[t.HS=5]="HS",t[t.Iw=6]="Iw",t[t.jS=7]="jS",t[t.WS=8]="WS"}(Dp||(Dp={}));var Lp,Fp=function(){function t(){}return t.prototype.zS=function(t){},j(t,[{key:"$S",get:function(){return 0}},{key:"XS",get:function(){return 0}}]),t}(),Mp=function(){function t(t,n){void 0===n&&(n=new Pp),this.xT=void 0,this.GS=void 0,this.eS=void 0,this.xT=t,this.GS=n}var n=t.prototype;return n.YS=function(t){this.eS=t},n.KE=function(t){var n=this.eS;if(void 0!==n)return this.GS.KE(t,n)},n.ra=function(t){var n=this.eS;return void 0!==n&&this.GS.ra(t,n)},n.KS=function(t){var n={Xc:t.Xc,JS:t.JS||[],yS:t.yS},i=this.GS.OS(n,this.eS||{},t.oE,this.xT);return new Bp(i)},t}(),Bp=function(){function t(t){this.QS=void 0,this.QS=t}var n=t.prototype;return n.lE=function(t){return this.QS.lE(t)},n.wE=function(t,n,i){return this.QS.wE(n,i)},n.CE=function(){return this.QS.CE||void 0!==this.QS.IE},n.AE=function(t,n){return this.QS.AE(t,n)},n.DE=function(t,n,i){return n&&this.QS.vE(n),this.QS.DE(t,i)},n.Ss=function(){this.QS.sr()},t}();function Up(){return Lp||(Lp=S&&S.document&&S.document.createElement("video")),Lp}var Vp=function(t){function i(i,r,e,u,o,s,c){var a;return void 0===s&&(s=new Pp),void 0===c&&(c=Jo()),(a=t.call(this)||this).ZS=void 0,a.tR=void 0,a.nR=void 0,a.Ug=void 0,a.Vg=void 0,a.qg=void 0,a.iR=void 0,a.rR=void 0,a.eR=void 0,a.uR=void 0,a.oR=void 0,a.xT=void 0,a.ds=void 0,a.sR=void 0,a.cR=void 0,a.aR=new Fp,a.fR=function(t){var i=t.tc,r=i.code,e=new Mo(function(t){switch(t){case Al.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Al.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Al.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Al.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Al.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Al.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Al.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(r),"Something went wrong during native playback.",i),u=new xl(r,e.message,i.message);a.hR(e,u)},a.vR=function(){a.Us(new jd(a.Uw,a.l_))},a.dR=function(t){a.Ww||(a.cR=void 0),a.Us(t)},a.lR=function(t){a.cR=void 0,a.Us(t)},a.wR=function(){a.Us(new tw(a.y_))},a.yR=function(){a.Gw>0&&a.Xw>0&&a.Us(new zy)},a.gR=function(t){a.Ug.Al(new $l(t.track))},a._R=function(t){var n=Hp(a.Ug,t.track);n&&a.Ug.Dl(n)},a.pR=function(){a.mR(a.Ug)},a.kR=function(t){a.Vg.Al(new Zl(t.track))},a.bR=function(t){var n=Hp(a.Vg,t.track);n&&a.Vg.Dl(n)},a.TR=function(){a.mR(a.Vg)},a.ER=function(t){a.Us(t),a.hR(t.errorObject,Ll(t.errorObject))},a.ZS=r,a.xT=e,a.ds=c,a.tR=a.ZS.Zi(Fl.Dv),a.eR=a.tR.SR.preload,a.uR=new eg(a.tR,!0),a.uR.Vs(Ud,a.Bs),a.sR=new Mp(e,s),a.tR.RR=a.sR,a.IR(),a.Ug=new Ml,a.Vg=new Ml,a.CR(),a.oR=new By(a.tR,a.xT),a.qg=new sd,a.r_(),a}z(i,t);var r=i.prototype;return r.e_=function(){this.tR.e_()},r.r_=function(){this.tR.r_()},r.Jg=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(r),e={ss:Wy.qT,ow:n.src,Kh:n.type,AR:this.DR(n),S_:this.eR,NR:n.crossOrigin,OR:i.metadata&&i.metadata.title},this.sR.YS(n.contentProtection),t.next=5,this.tR.Bc(e);case 5:this.nR=t.sent,Me(r),this.qg.Vl=this.tR.Xg,i.textTracks&&this.xR(i.textTracks),jy(this.Xg);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.xR=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.tR.PR()&&nt.Se&&Zy&&!Ny(i.kind,i.label)&&this.LR(i)){var r,e=null!=(r=i.kind)?r:Ey.gm;this.tR.FR(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.oR.LT(i)}}},r.LR=function(t){return!t.format||"webvtt"===t.format},r.tr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.tR.tr();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.MR){t.next=12;break}return t.next=10,this.tR.Gs(rs.df);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),r.nr=function(){this.tR.nr()},r.Qg=function(){return void 0!==this.tR.SR.webkitShowPlaybackTargetPicker},r.Zg=function(){this.tR.SR.webkitShowPlaybackTargetPicker&&this.tR.SR.webkitShowPlaybackTargetPicker()},r.t_=function(){this.tR.SR.webkitShowPlaybackTargetPicker&&this.tR.SR.webkitShowPlaybackTargetPicker()},r.u_=function(){return this.tR.SR},r.o_=function(){return this.tR.UR},r.Ol=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.iR=void 0,this.rR=void 0,this.nR=void 0,t.next=5,this.oR.Ol();case 5:return this.qg.Ol(),this.tR.qR(),t.next=9,this.tR.Ol();case 9:this.uR.Ol(),this.S_=this.eR,this.zg.Ol(),this.$g.Ol(),this.cR=void 0;case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ol();case 2:return this.js(),this.HR(),this.jR(),this.uR.sr(),this.tR.RR=void 0,t.next=9,this.ZS.er(this.tR);case 9:return this.Ug.sr(),this.Vg.sr(),this.qg.sr(),t.next=14,this.oR.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.IR=function(){this.tR.Vs(rs.vf,this.Bs),this.tR.Vs(rs.hf,this.Bs),this.tR.Vs(rs.Sf,this.vR),this.tR.Vs(rs.df,this.Bs),this.tR.Vs(rs.uf,this.Bs),this.tR.Vs(rs._f,this.Bs),this.tR.Vs(rs.gf,this.dR),this.tR.Vs(rs.if,this.Bs),this.tR.Vs(rs.lf,this.Bs),this.tR.Vs(rs.Rf,this.Bs),this.tR.Vs(rs.tf,this.Bs),this.tR.Vs(rs.yf,this.yR),this.tR.Vs(xd.Bw,this.lR),this.tR.Vs(td.Jl,this.fR),this.tR.Vs(rs.Ja,this.Bs),this.tR.Vs(rs.Ka,this.ER),this.tR.SR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wR)},r.HR=function(){this.tR.Ws(rs.vf,this.Bs),this.tR.Ws(rs.hf,this.Bs),this.tR.Ws(rs.Sf,this.vR),this.tR.Ws(rs.df,this.Bs),this.tR.Ws(rs.uf,this.Bs),this.tR.Ws(rs._f,this.Bs),this.tR.Ws(rs.gf,this.dR),this.tR.Ws(rs.if,this.Bs),this.tR.Ws(rs.lf,this.Bs),this.tR.Ws(rs.Rf,this.Bs),this.tR.Ws(rs.tf,this.Bs),this.tR.Ws(rs.yf,this.yR),this.tR.Ws(xd.Bw,this.lR),this.tR.Ws(td.Jl,this.fR),this.tR.Ws(rs.Ja,this.Bs),this.tR.Ws(rs.Ka,this.ER),this.tR.SR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.wR)},r.DR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Xc:ke,WR:[{initDataTypes:[ke.as],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},r.CR=function(){var t=this.tR.SR.audioTracks,n=this.tR.SR.videoTracks;t&&(t.addEventListener("addtrack",this.gR),t.addEventListener("removetrack",this._R),t.addEventListener("change",this.pR)),n&&(n.addEventListener("addtrack",this.kR),n.addEventListener("removetrack",this.bR),n.addEventListener("change",this.TR))},r.jR=function(){var t=this.tR.SR.audioTracks,n=this.tR.SR.videoTracks;t&&(t.removeEventListener("addtrack",this.gR),t.removeEventListener("removetrack",this._R),t.removeEventListener("change",this.pR)),n&&(n.removeEventListener("addtrack",this.kR),n.removeEventListener("removetrack",this.bR),n.removeEventListener("change",this.TR))},r.mR=function(t){for(var n=0;n<t.Pl;n++){t.Cl(n).P_()}},r.v_=function(){this.tR.v_()},r.hR=function(t,n){this.iR||(this.iR=n,this.rR=t,this.Us(new Qd(t)))},j(i,[{key:"MR",get:function(){var t=this.tR.d_,n=this.Uw;return t.zR(n,.01)}},{key:"zg",get:function(){return this.Ug}},{key:"d_",get:function(){return this.tR.d_.$R()}},{key:"l_",get:function(){return this.tR.l_},set:function(t){t&&this.tR.XR(t)}},{key:"Uw",get:function(){return void 0!==this.cR?this.cR:this.tR.Uw},set:function(t){this.y_&&(this.cR=t),this.tR.wc(t)}},{key:"Vw",get:function(){return this.tR.Vw}},{key:"qw",get:function(){return this.tR.qw}},{key:"tc",get:function(){return this.iR}},{key:"Hw",get:function(){return this.rR}},{key:"Gg",get:function(){}},{key:"y_",get:function(){return this.tR.y_}},{key:"xg",get:function(){return te({},{g_:0,__:0,p_:0,m_:0,k_:0,b_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.tR.GR())}},{key:"jw",get:function(){return this.tR.jw},set:function(t){this.tR.jw=t}},{key:"T_",get:function(){return!0}},{key:"Ww",get:function(){return this.tR.Ww}},{key:"zw",get:function(){return this.tR.zw},set:function(t){this.tR.zw=t}},{key:"E_",get:function(){return this.tR.SR.played}},{key:"S_",get:function(){return this.eR},set:function(t){this.eR=t,this.nR&&(this.nR.S_=t)}},{key:"rw",get:function(){return this.tR.rw}},{key:"R_",get:function(){return this.tR.R_.$R()}},{key:"$w",get:function(){return this.tR.$w}},{key:"YR",get:function(){return this.tR.YR}},{key:"Xg",get:function(){return this.qg}},{key:"$g",get:function(){return this.Vg}},{key:"Xw",get:function(){return this.tR.Xw}},{key:"Gw",get:function(){return this.tR.Gw}},{key:"Yw",get:function(){return this.tR.Yw},set:function(t){this.tR.Yw=t}},{key:"KR",get:function(){return this.aR}}]),i}(cd);var qp=function(){function t(){this.JR=Dp.WS}var n=t.prototype;return n.UE=function(t,n,i,r,e,u){return new Vp(t,n,i,r,e)},n.QR=function(t,n){return function(t){return!t.type||!(!Up().canPlayType||!Up().canPlayType(t.type))}(t)},n.ZR=function(){return!1},t}();function Hp(t,n){for(var i=0,r=t.xl;i<r.length;i++){var e=r[i];if(e.M_===n)return e}}var jp=function(){function t(){this.tI=new qp,this.nI=[]}t.iI=function(){return this.Ze};var n=t.prototype;return n.rI=function(t){this.nI.push(t)},n.UE=function(t,n,i,r,e,u){for(var o=this.tI.UE(t,n,i,r,e,u),s=0,c=this.nI;s<c.length;s++){o=(0,c[s])(o,i,r)}return o},n.QR=function(t,n){return this.tI.QR(t,n)},n.ZR=function(){return!1},j(t,[{key:"JR",get:function(){return this.tI.JR}}]),t}();function Wp(t,n){return al(t.JR,n.JR)}jp.Ze=new jp;var zp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).eI=jp.iI(),n}z(n,t);var i=n.prototype;return i.uI=function(t){this.eI=t},i.oI=function(){return this.eI},i.sI=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.cI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{aI:e,fI:u});case 8:r++,t.next=1;break;case 11:o=this.eI,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.QR(c,i)){t.next=17;break}return t.abrupt("return",{aI:c,fI:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{aI:n[0],fI:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.hI=[]}var n=t.prototype;return n.vI=function(t){this.hI.push(t),this.hI.sort(Wp)},n.cI=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.hI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!ht(o=u.QR(n,i))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());zp.Ze=new zp;var $p,Xp=function(){function t(t){var n,i;this.dI=void 0,this.dI=S&&S.document&&S.document.createElement("div"),n=this.dI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.dI)}return t.prototype.sr=function(){Or(this.dI)},t}();function Gp(t){switch(t){case $p.lI:case"":return $p.lI;case $p.pm:return $p.pm;case $p.wI:default:return $p.wI}}!function(t){t.WS="",t.wI="none",t.pm="metadata",t.lI="auto"}($p||($p={}));var Yp=[td.Jl,rs.nf,rs.nc,rs.Af,rs.$a,rs.rf,rs.af,rs.ff,rs.mf,rs.bf,xd.xw,xd.Pw,xd.Lw,xd.Fw,xd._l,xd.Mw,xd.Bw,rs.Ka,rs.Ja,rs.tf,rs.if,rs.uf,rs.sf,rs.vf,rs.df,rs.hf,rs.lf,rs.yf,rs._f,rs.gf,rs.Sf,rs.Rf,rs.wf,rs.cf,rs.pf],Kp=function(t){function n(n,i){var r;return(r=t.call(this)||this).yI=void 0,r.gI=void 0,r._I=void 0,r.pI=void 0,r.eR=$p.wI,r.mI=void 0,r.kI=!0,r.Ug=new nd,r.Vg=new nd,r.qg=new sd,r.Hg=new Dl,r.yI=n,r._I=i,r._I.S_=r.S_,r.bI(),r}z(n,t);var i=n.prototype;return i.nr=function(){this._I.nr()},i.tr=function(){this._I.tr()},i.Yg=function(){return this.Jg(void 0)},i.hr=function(){},i.c_=function(t){return!1},i.bI=function(){this.Ug.Vl=this._I.zg,this.Vg.Vl=this._I.$g,this.qg.Vl=this._I.Xg,this.Hg.Vl=this._I.Gg,this._I.Vs(Yp,this.Bs)},i.TI=function(){this._I.Ws(Yp,this.Bs),this.Ug.Vl=void 0,this.Vg.Vl=void 0,this.qg.Vl=void 0,this.Hg.Vl=void 0},i.Kg=function(){return this.mI},i.Jg=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Me(i),this.mI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Id(r=n.sources.filter(Od))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.yI.sI(r,n);case 9:if(e=t.sent,Me(i),u=e.aI,o=e.fI,s=this.o_(),c=nl(this),this.gI===o&&!this.tc){t.next=25;break}return this.TI(),t.next=19,this._I.sr();case 19:Me(i),this.gI=o,this._I=this.EI(o),Jp(this._I,c),il(this,c,this),this.bI();case 25:return this._I.S_=this.S_,this.kI?this._I.r_():this._I.e_(),t.next=29,this._I.Jg(u,n,i);case 29:Me(i),this.SI(u),this.o_()!==s&&this.Us(new fd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.SI=function(t){this.pI!==t&&(this.pI=t,this.Us(new hd(t)))},i.Qg=function(){return this._I.Qg()},i.Zg=function(){this._I.Zg()},i.t_=function(){this._I.t_()},i.o_=function(){return this._I.o_()},i.v_=function(){this._I.v_()},i.Ol=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mI=void 0,this.SI(void 0),t.next=4,this._I.Ol();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.js(),t.next=3,this.Ol();case 3:return t.next=5,this._I.sr();case 5:this.Ug.sr(),this.Vg.sr(),this.qg.sr(),this.Hg.sr();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.r_=function(){this.kI=!0,this._I.r_()},i.e_=function(){this.kI=!1,this._I.e_()},j(n,[{key:"zg",get:function(){return this.Ug}},{key:"d_",get:function(){return this._I.d_}},{key:"tc",get:function(){return this._I.tc}},{key:"Hw",get:function(){return this._I.Hw}},{key:"l_",get:function(){return this._I.l_},set:function(t){this._I.l_=t}},{key:"h_",get:function(){return this.pI}},{key:"Uw",get:function(){return this._I.Uw},set:function(t){this._I.Uw=t}},{key:"Vw",get:function(){return this._I.Vw}},{key:"qw",get:function(){return this._I.qw}},{key:"Gg",get:function(){return this.Hg}},{key:"y_",get:function(){return this._I.y_}},{key:"xg",get:function(){return this._I.xg}},{key:"jw",get:function(){return this._I.jw},set:function(t){this._I.jw=t}},{key:"T_",get:function(){return this._I.T_}},{key:"Ww",get:function(){return this._I.Ww}},{key:"zw",get:function(){return this._I.zw},set:function(t){this._I.zw=t}},{key:"E_",get:function(){return this._I.E_}},{key:"S_",get:function(){return this.eR},set:function(t){this.eR=t,this._I&&(this._I.S_=this.eR)}},{key:"rw",get:function(){return this._I.rw}},{key:"R_",get:function(){return this._I.R_}},{key:"$w",get:function(){return this._I.$w}},{key:"Xg",get:function(){return this.qg}},{key:"Xw",get:function(){return this._I.Xw}},{key:"$g",get:function(){return this.Vg}},{key:"Gw",get:function(){return this._I.Gw}},{key:"Yw",get:function(){return this._I.Yw},set:function(t){this._I.Yw=t}},{key:"KR",get:function(){return this._I.KR}}]),n}(Ke);function Jp(t,n){t.jw!==n.jw&&(t.jw=n.jw),t.Yw!==n.Yw&&(t.Yw=n.Yw),t.zw!==n.zw&&(t.zw=n.zw)}var Qp,Zp=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pl=void 0,r.RI=void 0,r.II=void 0,r.Pl=n.length>>1,r.RI=n,r.II=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Pl),r}z(n,t);var i=n.prototype;return i.CI=function(t){return this.RI[2*t]},i.AI=function(t){return this.II[2*t]},i.DI=function(t){return this.RI[2*t+1]},i.NI=function(t){return this.II[2*t+1]},j(n,[{key:"OI",get:function(){return this.RI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.ay=function(t,n){return 0===this.iy(t,n)},n.Fy=function(t,n){return this.iy(t,n)>0},n.My=function(t,n){return this.iy(t,n)>=0},n.hy=function(t,n){return this.iy(t,n)<0},n.oy=function(t,n){return this.iy(t,n)<=0},n.ig=function(t,n){return this.hy(t,n)?t:n},n.ng=function(t,n){return this.Fy(t,n)?t:n},n.xI=function(t,n,i){return i?this.oy(t,n):this.hy(t,n)},n.$R=function(){var t=this;return{get length(){return t.Pl},start:function(n){var i=0|n;return t.LI(i),t.FI(t.CI(i))},end:function(n){var i=0|n;return t.LI(i),t.FI(t.DI(i))}}},n.MI=function(){for(var t=new Array(2*this.Pl),n=new Array(2*this.Pl),i=0;i<this.Pl;i++)t[2*i]=this.CI(i),t[2*i+1]=this.DI(i),n[2*i]=!0,n[2*i+1]=!0;return this.BI(t,n)},n.LI=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.Pl)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.Pl+")")},n.UI=function(t){if(0===this.Pl)return this.VI();if(this.zR(t))return t;if(this.oy(t,this.CI(0)))return this.CI(0);if(this.My(t,this.DI(this.Pl-1)))return this.DI(this.Pl-1);for(var n,i=this.qI(),r=0;r<this.Pl;r++){var e=this.CI(r),u=this.sy(e,t);this.hy(u,i)&&(n=e,i=u);var o=this.DI(r),s=this.sy(this.DI(r),t);this.hy(s,i)&&(n=o,i=s)}return n},n.HI=function(t){for(var n=0,i=0,r=[],e=[];n<this.Pl&&i<t.Pl;){var u=this.CI(n),o=this.DI(n),s=this.AI(n),c=this.NI(n),a=t.CI(i),f=t.DI(i),h=t.AI(i),v=t.NI(i),d=this.ng(u,a),l=this.ig(o,f),w=void 0;w=this.ay(u,a)?s&&h:this.ay(d,u)?s:h;var y=void 0;y=this.ay(o,f)?c&&v:this.ay(l,o)?c:v,(this.hy(d,l)||w&&y&&this.ay(d,l))&&(r.push(d,l),e.push(w,y));var g=this.iy(this.DI(n),t.DI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.BI(r,e)},n.jI=function(){var t=this.WI(),n=t.Pl;if(0===n)return this.BI([t.zI(),t.qI()],[!1,!1]);var i=[],r=[],e=t.CI(0);t.ay(e,t.zI())||(i.push(t.zI(),e),r.push(!1,!t.AI(0)));for(var u=0;u<n-1;u++)i.push(t.DI(u),t.CI(u+1)),r.push(!t.NI(u),!t.AI(u+1));var o=t.DI(n-1);return t.ay(o,t.qI())||(i.push(o,t.qI()),r.push(!t.NI(n-1),!1)),t.BI(i,r)},n.$I=function(t){for(var n=0,i=0,r=this.Pl,e=t.Pl,u=new Array(2*(r+e)),o=new Array(2*(r+e)),s=0;n<r&&i<e;){var c=this.CI(n),a=this.DI(n),f=t.CI(i),h=t.DI(i);this.hy(c,f)||this.ay(c,f)&&this.hy(a,h)?(u[s]=c,u[s+1]=a,o[s]=this.AI(n),o[s+1]=this.NI(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.AI(i),o[s+1]=t.NI(i),i++),s+=2}for(;n<r;)u[s]=this.CI(n),u[s+1]=this.DI(n),o[s]=this.AI(n),o[s+1]=this.NI(n),n++,s+=2;for(;i<e;)u[s]=t.CI(i),u[s+1]=t.DI(i),o[s]=t.AI(i),o[s+1]=t.NI(i),i++,s+=2;return this.BI(u,o)},n.XI=function(t){void 0===t&&(t=this.VI());var n=this.Pl;if(n<2)return this;for(var i=[],r=[],e=this.CI(0),u=this.DI(0),o=this.AI(0),s=this.NI(0),c=1;c<n;c++){var a=this.CI(c),f=this.DI(c),h=this.AI(c),v=this.NI(c);this.hy(e,a)&&this.Fy(u,f)||(this.ay(e,a)&&(o=h=o||h),this.ay(u,f)&&(s=v=s||v),this.xI(a,this.gy(u,t),s||h)?(u=f,s=v):(i.push(e,u),r.push(o,s),e=a,u=f,o=h,s=v))}return i.push(e,u),r.push(o,s),this.BI(i,r).WI()},n.WI=function(){for(var t=[],n=[],i=0;i<this.Pl;i++){var r=this.CI(i),e=this.DI(i),u=this.AI(i),o=this.NI(i);this.ay(r,e)?(u||o)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,o))}return this.BI(t,n)},n.GI=function(t){return this.Pl?t.Pl?this.$I(t).XI():this:t},n.YI=function(t){var n=this.WI(),i=t.WI(),r=n.jI(),e=i.jI(),u=r.HI(i),o=e.HI(n);return u.GI(o)},n.lc=function(t){if(this.ay(t,this.VI()))return this;for(var n=[],i=[],r=0;r<this.Pl;r++){var e=this.gy(this.CI(r),t),u=this.gy(this.DI(r),t);n.push(e,u),i.push(this.AI(r),this.NI(r))}return this.BI(n,i)},n.KI=function(t){return 0===this.Pl||0===t.Pl?this:this.WI().HI(t.WI().jI())},n.zR=function(t,n){return this.JI(t,n)>=0},n.QI=function(t,n,i,r,e){return this.ZI(t,n,i,r,e)>=0},n.tC=function(t,n,i,r,e){return this.nC(t,n,i,r,e)>=0},n.iC=function(t){if(t.Pl!==this.Pl)return!1;for(var n=0;n<this.Pl;n++)if(!this.ay(this.CI(n),t.CI(n))||!this.ay(this.DI(n),t.DI(n))||this.AI(n)!==t.AI(n)||this.NI(n)!==t.NI(n))return!1;return!0},n.rC=function(t){for(var n=[],i=[],r=0;r<this.Pl;r++){var e=this.CI(r),u=this.DI(r),o=this.AI(r),s=this.NI(r);t(e,u,o,s)&&(n.push(e,u),i.push(o,s))}return this.BI(n,i)},n.nC=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.VI());for(var u=this.yy(t,e),o=this.gy(n,e),s=0;s<this.Pl;s+=1)if(this.xI(this.CI(s),o,!r||this.AI(s))&&this.xI(u,this.DI(s),!i||this.NI(s)))return s;return-1},n.ZI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.VI());for(var u=this.gy(t,e),o=this.yy(n,e),s=0;s<this.Pl;s+=1)if(this.xI(this.CI(s),u,!i||this.AI(s))&&this.xI(o,this.DI(s),!r||this.NI(s)))return s;return-1},n.JI=function(t,n){return this.ZI(t,t,!0,!0,n)},n.eC=function(t,n){void 0===n&&(n=this.VI());for(var i=this.gy(t,n),r=this.Pl-1;r>=0;r-=1)if(this.xI(this.CI(r),i,this.AI(r)))return r;return-1},n.uC=function(t,n){void 0===n&&(n=this.VI());for(var i=this.yy(t,n),r=0;r<this.Pl;r+=1)if(this.xI(i,this.DI(r),this.NI(r)))return r;return-1},n.oC=function(t){return this.LI(t),this.BI([this.CI(t),this.DI(t)],[this.AI(t),this.NI(t)])},n.sC=function(t,n){var i=this.JI(t,n);return i<0?void 0:this.oC(i)},j(t,[{key:"cC",get:function(){for(var t=this.VI(),n=0;n<this.Pl;n++){var i=this.yy(this.DI(n),this.CI(n));t=this.gy(t,i)}return t}}]),t}()),tm=function(t){function n(n,i){return t.call(this,n,i)||this}z(n,t);var i=n.prototype;return i.iy=function(t,n){return t<n?rl.Qw:t===n?rl.Kw:rl.Jw},i.gy=function(t,n){return t+n},i.yy=function(t,n){return t-n},i.sy=function(t,n){return l.abs(t-n)},i.VI=function(){return 0},i.qI=function(){return 1/0},i.zI=function(){return-1/0},n.aC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.fC=function(t){for(var i=[],r=[],e=0;e<t.Pl;e++)i.push(t.CI(e).ug),i.push(t.DI(e).ug),r.push(t.AI(e)),r.push(t.NI(e));return new n(i,r)},n.hC=function(t){return new n([t,t],[!0,!0])},i.BI=function(t,i){return new n(t,i)},i.FI=function(t){return t},n.vC=function(){return nm},n}(Zp),nm=new tm([]);!function(t){t.yl="fullscreenchange",t.dC="fullscreensupportchange",t.Jl="fullscreenerror"}(Qp||(Qp={}));var im=function(t){function n(){return t.call(this,Qp.Jl)||this}return z(n,t),n}(Qe),rm=new(function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.H_=function(){this.Us(new im)},i.W_=function(){},i.sr=function(){this.js()},j(n,[{key:"lC",get:function(){return!1}},{key:"wC",get:function(){return!1}}]),n}(Ke)),em=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.u_=function(){},n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).yC=0,n.gC=!1,n._C=!0,n.pC=1,n.mC=!1,n.kC=1,n.zg=new Ml,n.d_=tm.vC().$R(),n.Vw=NaN,n.qw=!1,n.tc=void 0,n.Hw=void 0,n.Gg=void 0,n.y_=!1,n.T_=!0,n.E_=tm.vC().$R(),n.S_=$p.wI,n.rw=_d.Cw,n.R_=tm.vC().$R(),n.YR=void 0,n.Xg=new Sy,n.Xw=0,n.$g=new Ml,n.Gw=0,n.aR=new Fp,n}z(n,t);var i=n.prototype;return i.r_=function(){},i.e_=function(){},i.tr=function(){this._C&&(this._C=!1,this.Us(new Fd(this.Uw)),this.Us(new ig(this.Uw)))},i.nr=function(){this._C||(this._C=!0,this.Us(new jd(this.Uw,this.l_)),this.Us(new Ld(this.Uw)))},i.Jg=function(t,n){return C.resolve()},i.Qg=function(){return!1},i.Zg=function(){},i.t_=function(){},i.o_=function(){return rm},i.v_=function(){},i.Ol=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.yC=0,this.mC=!1,this.nr(),this.Us(new Pd(this.yC));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.js(),this.zg.sr(),this.Xg.sr(),this.$g.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"l_",get:function(){},set:function(t){}},{key:"Uw",get:function(){return this.yC},set:function(t){this.yC!==t&&(this.yC=t,this.mC=!0,this.Us(new $d(this.Uw)))}},{key:"xg",get:function(){return{g_:0,__:0,p_:0,m_:0,k_:0,b_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"jw",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.gC=t,this.Us(new Gd(this.Uw,this.Yw)))}},{key:"Ww",get:function(){return this._C}},{key:"zw",get:function(){return this.pC},set:function(t){this.pC!==t&&(this.pC=t,this.Us(new Hd(this.Uw,this.zw)))}},{key:"$w",get:function(){return this.mC}},{key:"Yw",get:function(){return this.kC},set:function(t){this.kC!==t&&(this.kC=t,this.Us(new Gd(this.Uw,this.Yw)))}},{key:"KR",get:function(){return this.aR}}]),n}(Ke)),um=function(t){function n(n,i,r,e,u,o){var s;return(s=t.call(this,zp.Ze,new em)||this)._a=void 0,s.bC=void 0,s.TC=void 0,s.EC=void 0,s.xT=void 0,s.SC=void 0,s.RC=void 0,s.TC=n,s._a=i,s.xT=r,s.SC=e,s.EC=o,s.bC=new b(u,s.EC),s.bC.ur(s.TC),s.RC=new Xp(s.TC),s}z(n,t);var i=n.prototype;return i.hr=function(){t.prototype.hr.call(this),this.bC.Qi()},i.n_=function(t){var n,i,r,e;n=this,r=(i=t).Yw,e=i.jw,n.Yw=r,n.jw=e},i.i_=function(){},i.EI=function(t){return t.UE(this.TC,this.bC,this.xT,this._a,this.SC,this.EC)},i.u_=function(){return this._I.u_()},i.s_=function(){return this.bC.Ji.map(function(t){return t.SR})},i.Hs=function(n){t.prototype.Hs.call(this,n)},i.Xs=function(n){t.prototype.Xs.call(this,n)},i.sr=function(){var n=C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:this.bC.sr(),this.RC.sr();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),j(n,[{key:"w_",get:function(){return this.TC}}]),n}(Kp),om=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).TC=void 0,e.IC=void 0,e.CC=void 0,e.AC=void 0,e.DC=void 0,e.TC=n,e.IC=i,e.AC=new Ml,e.DC=new Sy,e.CC=r,e}z(n,t);var i=n.prototype;return i.c_=function(t){return!0},i.e_=function(){},i.tr=function(){throw this.Us(new Qd(this.CC)),this.IC},i.nr=function(){},i.Kg=function(){},i.Jg=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Me(i),this.Us(new Qd(this.CC)),this.IC;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.r_=function(){},i.Yg=function(){return C.resolve()},i.u_=function(){},i.o_=function(){return rm},i.s_=function(){return[]},i.hr=function(){},i.n_=function(t){},i.i_=function(){},i.Qg=function(){return!1},i.Zg=function(){},i.t_=function(){},i.v_=function(){},i.Ol=function(){return C.resolve()},i.sr=function(){return this.js(),this.AC.sr(),this.DC.sr(),C.resolve()},j(n,[{key:"zg",get:function(){return this.AC}},{key:"d_",get:function(){return tm.vC().$R()}},{key:"l_",get:function(){return new Date(NaN)},set:function(t){}},{key:"h_",get:function(){}},{key:"Uw",get:function(){return 0},set:function(t){}},{key:"Vw",get:function(){return 0}},{key:"w_",get:function(){return this.TC}},{key:"qw",get:function(){return!0}},{key:"tc",get:function(){return this.IC}},{key:"Hw",get:function(){return this.CC}},{key:"Gg",get:function(){}},{key:"xg",get:function(){return{g_:0,__:0,p_:0,m_:0,k_:0,b_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"jw",get:function(){return!1},set:function(t){}},{key:"T_",get:function(){return!0}},{key:"Ww",get:function(){return!0}},{key:"zw",get:function(){return 0},set:function(t){}},{key:"E_",get:function(){return tm.vC().$R()}},{key:"S_",get:function(){return $p.wI},set:function(t){}},{key:"rw",get:function(){return _d.Cw}},{key:"R_",get:function(){return tm.vC().$R()}},{key:"$w",get:function(){return!1}},{key:"Xg",get:function(){return this.DC}},{key:"Xw",get:function(){return 0}},{key:"$g",get:function(){return this.AC}},{key:"Gw",get:function(){return 0}},{key:"Yw",get:function(){return 1},set:function(t){}},{key:"y_",get:function(){return!1}}]),n}(ad);function sm(t){if(t&&st(t))return te({},t,{integration:cm(t.integration),fairplay:wm(t.fairplay),widevine:am(t.widevine),playready:fm(t.playready),clearkey:ym(t.clearkey),aes128:gm(t.aes128),integrationParameters:_m(t.integrationParameters),preferredKeySystems:pm(t.preferredKeySystems)})}function cm(t){if(at(t))return t}function am(t){if(t&&st(t))return{persistentState:hm(t.persistentState),distinctiveIdentifier:hm(t.distinctiveIdentifier),audioRobustness:vm(t.audioRobustness),videoRobustness:vm(t.videoRobustness),licenseAcquisitionURL:at(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:dm(t.licenseType),headers:t.headers,useCredentials:!!ft(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:at(t.certificate)||io(t.certificate)?t.certificate:void 0,certificateRequestProcessor:lm(t.certificateRequestProcessor),certificateResponseProcessor:lm(t.certificateResponseProcessor),licenseRequestProcessor:lm(t.licenseRequestProcessor),licenseResponseProcessor:lm(t.licenseResponseProcessor)}}function fm(t){if(t){var n=am(t);if(n)return te({},n,{customData:at(t.customData)?t.customData:void 0})}}function hm(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function vm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function dm(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function lm(t){if("function"==typeof t)return t}function wm(t){if(t){var n=am(t);if(n)return te({},n,{certificateURL:at(t.certificateURL)?t.certificateURL:void 0})}}function ym(t){if(t){var n=am(t);if(n)return te({},n,{keys:ut(t.keys)?t.keys.map(function(t){return function(t){if(!t||!st(t))return;var n=t.id,i=t.value;if(!at(n)||!at(i))return;return{id:n,value:i}}(t)}).filter(et):void 0})}}function gm(t){if(st(t))return{useCredentials:ft(t.useCredentials)?t.useCredentials:void 0}}function _m(t){if(st(t))return t}function pm(t){return t&&ut(t)?t.map(function(t){return Jg(t)}).filter(et):[we,de,ge]}var mm,km=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return z(n,t),n}(Qe),bm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).NC=[],r.OC=void 0,r.xC=function(t){je(function(){r.Bs(t)})},r.OC=i?r.xC:r.Bs,r}z(n,t);var i=n.prototype;return i.LC=function(t){t.Hs(this.OC),this.NC.push(t)},i.FC=function(t){t.Xs(this.OC),Ae(this.NC,t)},i.sr=function(){this.js();for(var t=0,n=this.NC;t<n.length;t++){n[t].Xs(this.OC)}Oe(this.NC)},n}(cd),Tm=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n}(bm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(mm||(mm={}));var Em,Sm=function(t){function i(n){var i;return(i=t.call(this)||this).MC=void 0,i.BC=void 0,i.UC=!1,i.VC=!1,i.qC=void 0,i.HC=void 0,i.jC=void 0,i.tl=void 0,i.WC=function(){return i.zC()},i.$C=function(){return i.XC()},i.jC=n,i.MC=i.BC=i.qC=i.HC=mm.INLINE,i.jC.Vs(Qp.yl,i.WC),i.jC.Vs(Qp.Jl,i.$C),i.GC(),i}z(i,t);var r=i.prototype;return r.il=function(){return t=this,i={get currentMode(){return t.YC()},requestMode:function(n){var i=Im(n);i&&t.KC(i)},supportsMode:function(n){var i=Im(n);return!!i&&t.JC(i)},addEventListener:function(t,i){n.Vs(t,i)},removeEventListener:function(t,i){n.Ws(t,i)}},(n=new bm(i,!0)).LC(t),i;var t,n,i},r.KC=function(t){this.QC(t,t)},r.QC=function(t,n){this.BC!==n&&(this.UC=!0,this.MC=t,this.ZC(n,this.BC),t!==mm.FULLSCREEN&&(this.qC=t),this.UC=!1,this.GC())},r.YC=function(){return this.VC?mm.FULLSCREEN:mm.INLINE},r.JC=function(t){switch(t){case mm.FULLSCREEN:return this.jC.wC;case mm.INLINE:return!0}return!1},r.GC=function(){if(!this.UC){var t=this.BC,n=this.YC();this.BC=n,n!==mm.FULLSCREEN&&(this.HC=n),t!==n&&this.Us(new km(n))}},r.ZC=function(t,n){var i=t===mm.FULLSCREEN;this.VC=i,i!==this.jC.lC&&(i?this.jC.H_():this.jC.W_())},r.zC=function(){if(!this.UC){var t=this.jC.lC;this.VC=t,t?this.QC(mm.FULLSCREEN,mm.FULLSCREEN):t||this.MC!==mm.FULLSCREEN?this.GC():this.QC(this.qC,this.HC)}},r.XC=function(){this.zC(),this.Us(new Qd(new Mo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.sr=function(){this.jC.sr(),this.js()},j(i,[{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}}]),i}(cd),Rm={Uw:0,Vw:NaN,qw:!1,tc:void 0,Hw:void 0,jw:!1,Ww:!0,zw:1,rw:_d.Cw,$w:!1,Xw:0,Gw:0,Yw:1};function Im(t){switch(t){case mm.INLINE:case mm.FULLSCREEN:case mm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Em||(Em={}));var Cm,Am,Dm,Nm,Om,xm,Pm,Lm,Fm=function(){function t(){this.tA=[]}var n=t.prototype;return n.nA=function(t){var n=this.iA.filter(function(n){return n.rA(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.eA=function(t){this.tA.push(t)},j(t,[{key:"iA",get:function(){return this.tA}}]),t}();Fm.Ze=new Fm,function(t){t.Bw="PLAYING",t.Lg="PAUSED",t.uA="SEEK",t.oA="STALLED",t.sA="FAILED",t.cA="INITIAL_BUFFERING",t.aA="NO_ACCESS"}(Cm||(Cm={})),function(t){t.fA="HTTP_REQUEST_STATUS_CODE_1XX",t.hA="HTTP_REQUEST_STATUS_CODE_2XX",t.vA="HTTP_REQUEST_STATUS_CODE_3XX",t.dA="HTTP_REQUEST_STATUS_CODE_4XX",t.lA="HTTP_REQUEST_STATUS_CODE_5XX",t.wA="BUFFER_LENGTH",t.yA="BYTES_RECEIVED",t.gA="SEGMENT_READ_BITRATE",t._A="SEGMENT_PROFILE_BITRATE",t.pA="NUMBER_OF_FRAMES_DROPPED",t.mA="PLAYBACK_POSITION",t.kA="NUMBER_OF_FRAMES_DECODED",t.bA="PLAYBACK_DELTA_TO_ORIGIN",t.TA="STREAM_DELTA_TO_ORIGIN",t.EA="ORIGIN_TIMESTAMP"}(Am||(Am={})),function(t){t.SA="MANIFEST_URI",t.RA="ASSET_DURATION",t.IA="NUMBER_OF_CONTENT_PROFILES",t.CA="CDN",t.AA="CONTENT_TITLE",t.DA="SERVICE_NAME",t.NA="CONTENT_TYPE",t.OA="CONTENT_DESCRIPTION"}(Dm||(Dm={})),function(t){t.xA="shutdown_normal_shutdown"}(Nm||(Nm={})),function(t){t.PA="session/",t.LA="internalError/",t.FA="drmError/",t.MA="caError/",t.BA="networkError/"}(Om||(Om={})),function(t){t.UA="userAction",t.VA="endOfStreamReached"}(xm||(xm={})),function(t){t.PAUSE="qA",t.RESUME="HA"}(Pm||(Pm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Lm||(Lm={}));var Mm,Bm,Um,Vm,qm,Hm="agama";function jm(t){return function(t){switch(t){case Mm.NONE:case Mm.HORIZONTAL:case Mm.VERTICAL:return!0;default:return!1}}(t)?t:Mm.NONE}function Wm(t){switch(t){case"":return Mm.NONE;case"horizontal":return Mm.HORIZONTAL;case"vertical":return Mm.VERTICAL;default:throw new v}}function zm(t){if(!t||!at(t))return Bm.lI;switch(t){case"always":return Bm.jA;case"never":return Bm.WA;default:return Bm.lI}}function $m(t){if(!t||!at(t))return Um.lI;switch(t){case"playlist":return Um.zA;case"media":return Um.$A;default:return Um.lI}}function Xm(t){if(null!==t)return t}function Gm(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Xm(t.streamActivityMonitorID),adTagParameters:st(t.adTagParameters)?t.adTagParameters:{},authToken:Xm(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?te({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void D.To("A VOD DAI configuration was provided without valid contentSourceID which is required."):void D.To("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?te({},i,{availabilityType:"live",assetKey:u}):void D.To("A Live DAI configuration was provided without valid assetKey which is required.")}D.To("A DAI configuration was provided without a valid availabilityType which is required.")}function Ym(t){if(!jg(t)||!t.integration)return t;switch(t.integration){case hg:return n=t,i=Kg(ae.rs,n),r=Kg(ae.ts,n),e=n[ae.es]&&Kg(ae.es,n),te({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function Km(t){if(!t)return!0;var n,i,r=!(Rd(n=t.sources)||ot(n)&&Rd(n[0]))||Id(t.sources),e=!t.ads||(!(i=t.ads)||ut(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function Jm(t){if(t&&t.sources)return function t(n){if(at(n))return n;if(Sd(n))return n.src;if(ot(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Qm(t,n,i){return Td(t)?function(t,n,i){var r=te({},Cd(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Vm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:qm.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,at(e)?e:ot(e)&&at(e[0])?e:st(u=e)&&at(u.userId)&&(ot(u.externalId)||at(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return qm.CHANNEL;case"event":return qm.EVENT;case"asset":default:return qm.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Hv(t.contentProtected));t.assetInfo?r.assetInfo=Hv(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(o=r.assetType,s=t.ping,c=!1,a=!1,f=!1,s?(c=!!ft(s.adImpressions)&&s.adImpressions,a=!!ft(s.freeWheelVideoViews)&&s.freeWheelVideoViews,f=ft(s.linearAdData)?s.linearAdData:o!==qm.ASSET):o!==qm.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),r=tk(r=Zm(r,t),n,i);var o,s,c,a,f}(t,n,i):function(t,n,i){var r=Ad(),e=n&&(n.contentProtection||n.drm);if(at(t)){if(r.src=t,r.type=kd(t),e){var u=sm(e);r.contentProtection=Ym(u)}}else if(Sd(t)||bd(t)){r.src=t.src,r.type=t.type||kd(t.src),r.isAdvertisement=t.isAdvertisement;var o=function(t){return t.type===wd.Rw||t.type===wd.Iw}(t)?t.hesp:void 0;void 0!==o&&(r.hesp=o);var s=t.contentProtection||t.drm||e,c=sm(s);r.contentProtection=Ym(c),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return Gm(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=Zm(r,t)}return r=tk(r,n,i)}(t,n,i)}function Zm(t,n){var i;n.useCredentials?t.crossOrigin=ld.Ew:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case ld.Tw:case ld.Ew:return t;default:return ld.bw}}(n.crossOrigin)),at(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Hv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Hv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:zm(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:$m(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?Hv(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?Hv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function tk(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!et(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!et(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ld.bw&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=ld.Tw),t.useCredentials=t.crossOrigin===ld.Ew,at(e)&&!t.timeServer&&(t.timeServer=e),t}function nk(t){var n={src:""};if(t&&t.src){if(n.src=zv(t.src),"default"in t&&(n.default=Hv(t.default)),n.kind=Cy(t.kind),function(t){switch(t){case Yl.DEFAULT:case Yl.SRT:case Yl.TTML:case Yl.WEBVTT:case Yl.EMSG:case Yl.EVENT_STREAM:case Yl.ID3:case Yl.CEA608:case Yl.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function ik(t,n){if(ct(t))try{return n.nA(t).XA(t)}catch(t){return}}function rk(t){return at(t.sources)&&""!==t.sources||st(t.sources)&&at(t.sources.src)}function ek(t){return t.integration===Em.SPOTX&&!g(t.id)}function uk(t){return"freewheel"===t.integration}function ok(t,n,i){if(void 0===i&&(i=Fm.Ze),Km(t))return{sources:[Ad()]};var r=Bv(t);if(r.sources=function(t,n,i){if(Rd(t))return[Qm(t,n,i)];if(ot(t)&&Rd(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(Qm(u,n,i))}return r}return[Ad()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!ot(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=ik(u,n))&&(rk(u)||ek(u)||uk(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,o,s,c=!Id(r.sources),a=r.ads&&r.ads.length>0;if(c&&!a?delete r.ads:a&&!c&&(r.sources=[]),"textTracks"in r){var f=function(t){if(!ot(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=nk(e)).src&&n.push(e)}return n}(r.textTracks);0===f.length?delete r.textTracks:r.textTracks=f}if("poster"in r&&(r.poster=zv(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(o=u||{}).stereoMode=jm(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?Wm(o.stereoMode):Mm.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var h=Nd(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Bv(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Hm&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(h,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=Zd(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(s=r.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Mm||(Mm={})),function(t){t.lI="auto",t.jA="always",t.WA="never"}(Bm||(Bm={})),function(t){t.lI="auto",t.zA="playlist",t.$A="media"}(Um||(Um={})),function(t){t.VERIZON_MEDIA="verizon-media"}(Vm||(Vm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(qm||(qm={}));var sk=function(){function t(t){this.GA=t}return t.prototype.YA=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.GA.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.GA.indexOf(t.charAt(n))<<18|this.GA.indexOf(t.charAt(n+1))<<12|(u=this.GA.indexOf(t.charAt(n+2)))<<6|(o=this.GA.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.KA=function(t,n){var i,r,e,u,o,s,c,a=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.GA.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=i>>12&63,u=i>>6&63,o=63&i,a[s/3]=this.GA.charAt(r)+this.GA.charAt(e)+this.GA.charAt(u)+this.GA.charAt(o);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.Ap=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.JA=new t(t.Ap.YA("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function ck(t){return"string"==typeof t}function ak(t){return"number"==typeof t}var fk={}.toString;var hk,vk=Array.isArray||function(t){return"[object Array]"===fk.call(t)};function dk(t,n){return vk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(hk||(hk={}));var lk,wk=d.keys(hk).map(function(t){return hk[t]});function yk(t){return-1!==wk.indexOf(t)}function gk(t){try{var n=sk.JA.YA(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=ck(t.key),r=ck(t.customer_id),e=ak(t.generation_date),u=ak(t.expiration_date),o=dk(t.domains_page,ck),s=dk(t.domains_source,ck),c=dk(t.sdks,yk),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&r&&e&&u&&o&&s&&c&&a))return!1;return!0}(i))throw new h("The provided license could not be decoded correctly.");return i}catch(t){throw new h("The provided license could not be decoded correctly.")}}function _k(){return lk||(lk={wv:R.href,QA:S.parent&&S.parent!==r,ZA:kk()}),lk}var pk,mk=["http:","https:","ftp:","ws:","wss:"];function kk(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.tD=0]="tD",t[t.nD=1]="nD",t[t.iD=2]="iD"}(pk||(pk={}));var bk,Tk=function(t,n,i,r,e,u,o,s){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.rD=t,this.eD=n,this.uD=i,this.oD=r,this.sD=e,this.cD=u,this.aD=o,this.fD=s};!function(t){t.nD="expired",t.hD="invaliddomain",t.vD="invalidsource",t.Jl="error"}(bk||(bk={}));var Ek=function(){function t(t,n,i){this.dD=void 0,this.lD=t,this.wD=n,this.yD=i,this.dD=Dk(this.yD)}var n=t.prototype;return n.gD=function(t,n){var i=this;if(!Km(t)&&0!==n.uD.length&&!Ik(n.uD)){var r=[];if(Rd(t.sources)?r=[t.sources]:ot(t.sources)&&(r=t.sources),!r.every(function(t){return i._D(t,n)})){var e=bk.vD,u=Ok.pD(e);throw new Mo(Sk(e),u)}}},n.mD=function(n){return this.kD(n.aD)&&this.bD(n)?t.TD(n.oD)?pk.tD:pk.nD:pk.iD},n.kD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.ED(t)})},n.ED=function(t){return"tvos"===function(t){switch(t){case hk.ANDROID:return q.kr;case hk.ANDROIDTV:case hk.FIRETV:return q.br;case hk.IOS:return q.Tr;case hk.TVOS:return q.Er;case hk.CHROMECAST:case hk.CHROMECASTCAF:return q.Sr;default:return q.mr}}(t)},t.TD=function(t){var n=Number(new Date);return!!t&&n<=t},n.bD=function(t){return!(this.dD&&0!==t.eD.length&&!Ik(t.eD))||!!(this.dD&&this.SD(t.eD)&&this.RD(t.eD))},n.SD=function(t){return Ck(this.yD.wv,t)},n.RD=function(t){if(!this.yD.QA)return!0;if(this.lD)return!0;var n=this.CD();return!!n&&Ck(n,t)},n.CD=function(){if(this.yD.QA){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.yD.ZA?this.yD.ZA:void 0}},n._D=function(n,i){return!!t.DD(n,i.uD)},t.DD=function(t,n){return Ck(this.ND(t),n)},t.ND=function(t){return at(t)?t:Sd(t)&&t.src||""},t}();function Sk(t){switch(t){case bk.hD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case bk.vD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case bk.nD:return n.ErrorCode.LICENSE_EXPIRED;case bk.Jl:return n.ErrorCode.LICENSE_ERROR}}function Rk(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+e+o+e+o+e+o+"\\)"),c=r.match(s),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Ik(t){return t.some(function(t){return"*"===t})}function Ck(t,n){var i=D.Qu(t);if(!Ak(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Rk(i.hostname,e))return!0;if(Rk(Dr(t),e))return!0}return!1}function Ak(t){return-1!==mk.indexOf(t.protocol)}function Dk(t){var n=D.Qu(t.wv);return Ak(n)&&!Rk(n.hostname,"localhost")&&!function(t){return Rk(t.hostname,"theoplayer.doubleclick.net")}(n)}var Nk,Ok=function(){function t(){}return t.pD=function(t){return t===bk.hD?this.OD:t===bk.vD?this.xD:t===bk.nD?this.PD:this.LD},t}();function xk(t){var n=[t.Pb,t.FD,t.MD];switch(t.FD){case Nk.BD:n.push(t.ow);break;case Nk.UD:n.push(t.Uw),n.push(t.tc);break;case Nk.VD:n.push(t.tc)}return n}Ok.LD="The license for this player is invalid.",Ok.PD="The usage license for this video player has expired.",Ok.OD="The current domain is incompatible with the license for this player.",Ok.xD="The provided video source is incompatible with the license for this player.",function(t){t[t.BD=1]="BD",t[t.UD=4]="UD",t[t.VD=5]="VD"}(Nk||(Nk={}));for(var Pk=new Array(256),Lk=0;Lk<256;Lk+=1)Pk[Lk]=(Lk<16?"0":"")+Lk.toString(16);function Fk(){var t=Zt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Pk[255&n]+Pk[n>>>8&255]+Pk[n>>>16&255]+Pk[n>>>24&255]+"-"+Pk[255&i]+Pk[i>>>8&255]+"-"+Pk[i>>>16&15|64]+Pk[i>>>24&255]+"-"+Pk[63&r|128]+Pk[r>>>8&255]+"-"+Pk[r>>>16&255]+Pk[r>>>24&255]+Pk[255&e]+Pk[e>>>8&255]+Pk[e>>>16&255]+Pk[e>>>24&255]}var Mk=function(){function t(t){this.GA=void 0,this.GA=t}var n=t.prototype;return n.YA=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(s=this.GA.indexOf(t.charAt(n))<<18|this.GA.indexOf(t.charAt(n+1))<<12|(u=this.GA.indexOf(t.charAt(n+2)))<<6|(o=this.GA.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.KA=function(t){var n,i,r,e,u,o,s,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.GA.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,c[o/3]=this.GA.charAt(i)+this.GA.charAt(r)+this.GA.charAt(e)+this.GA.charAt(u);return(s=c.join("")).slice(0,s.length-a.length)+a},t}();function Bk(){return D.yo()}Mk.Ap=new Mk(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Mk.JA=new Mk(Mk.Ap.YA("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Uk,Vk="theoplayer-session-id";function qk(){if(!Uk){var t=Zo.cc(Vk);t?Uk=t:(Uk=Fk(),Zo.Wa(Vk,Uk))}return Uk}var Hk=/[^\x00-\x7E]/g;function jk(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}(r,e/r.length)),r.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Wk=0,zk=1,$k=6e4;function Xk(t){var n,i,r,e,u,o=(n=function(t){return[t.qD,t.zc,t.rD,t.Gm,t.HD,t.jD,t.WD.map(xk)]}(t),i=[],r=n,e=function(t,n){if(st(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Hk,jk));return Mk.JA.KA(o)}var Gk=function(){function t(t,n,i,r,e,u){var o=this;void 0===r&&(r=Mk.Ap),void 0===e&&(e=Wk),void 0===u&&(u=zk),this.zD=[],this.$D=null,this.XD=0,this.GD="unknown",this.YD=0,this.KD=function(){Bk()-o.XD>$k&&o.pr()},this.JD=function(){o.pr(!0)},this.rS=t,this.xT=n,this.QD=i,this.ZD=r,this.tN=e,this.nN=u,E.wr(this.JD),a(this.KD,$k)}var n=t.prototype;return n.iN=function(){return Boolean(this.HD)},n.rN=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QD.eN();case 2:if(t.sent.fD){t.next=5;break}return t.abrupt("return");case 5:return i={FD:Nk.BD,MD:Zt(),ow:n},t.next=8,this.uN(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.oN=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={FD:Nk.UD,MD:Zt(),Uw:i,tc:n},t.next=3,this.uN(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.sN=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={FD:Nk.VD,MD:Zt(),tc:n},t.next=3,this.uN(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.uN=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QD.eN();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.ZD.KA(i.rD)){t.next=6;break}if(n.FD===Nk.VD){t.next=6;break}return t.abrupt("return");case 6:if(n.FD===Nk.BD?this.cN():this.iN()||this.cN(),n.Pb=this.YD++,this.zD.push(n),(r=n.FD)!==Nk.BD&&r!==Nk.VD){t.next=14;break}return t.next=12,this.pr();case 12:t.next=19;break;case 14:if(!(this.zD.length>this.tN)){t.next=19;break}return t.next=17,this.aN();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pr=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.zD.length>0)){t.next=6;break}return t.next=4,this.aN(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.fN=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QD.eN();case 2:return i=t.sent,t.abrupt("return",{qD:Zt(),zc:qk(),rD:this.ZD.KA(i.rD)||"dev",Gm:this.rS,HD:this.$D,jD:this.GD,WD:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.aN=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.zD.splice(0,this.nN),t.next=4,this.fN(i);case 4:r=t.sent,n?this.Bv(r):this.hN(r),this.XD=Bk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.hN=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Xk(n),r=new Bf({wv:"https://license.theoplayer.com",Jh:i,Fv:!1,fv:es.eu,av:{"Content-Type":O_.hS},xv:4e3,Ov:xf.POST}),t.prev=2,t.next=5,this.xT.dv(r);case 5:return e=t.sent,t.next=8,e.Gh();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Bv=function(t){var n=Xk(t);this.xT.Bv({wv:"https://license.theoplayer.com",Jh:n,Kh:O_.hS})},n.cN=function(){this.iN()&&this.pr(),this.$D=Fk(),this.YD=0},n.sr=function(){E.yr(this.JD),this.pr()},j(t,[{key:"WD",get:function(){return this.zD}},{key:"HD",get:function(){return this.$D}}]),t}();var Yk=!nt.Se&&!nt.Le;function Kk(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var Jk=function(){function t(t){this.fI=void 0,this.tl=void 0,this.vN=void 0,this.fI=t}var n=t.prototype;return n.dN=function(t){if(!t||!t.drawImage)return!1;var n=this.fI.u_();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.lN=function(t,n,i,r,u,o){if(!t||!t.texImage2D)return!1;var s=this.fI,c=s.u_();if(!c)return!1;if(!Yk){this.vN||(this.vN=e.createElement("canvas"));var a=this.vN,f=a.getContext("2d"),v=s.Gw,d=s.Xw,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===v&&w===d||(a.width=v,a.height=d),f.drawImage(c,0,0,v,d);var y=!1;v>0&&Kk(f,v-1,0)&&(a.width=l,y=!0),d>0&&Kk(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,v,d),c=a}try{t.texImage2D(n,i,r,u,o,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},j(t,[{key:"nl",get:function(){return this.tl||(this.tl=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.dN.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,o){return t.lN(n,i,r,e,u,o)}}));var t}}]),t}(),Qk=function(t){function n(n,i){var r;return(r=t.call(this,"wN")||this).lo=n,r.Rk=i,r}return z(n,t),n.prototype.il=function(){return new Zk(this.lo,this.Rk)},n}(Tv),Zk=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return z(n,t),n}(Qe),tb=function(t,n){this.w_=void 0,this.yN=void 0,this.w_=t,this.yN=n},nb=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).gN=void 0,r._N=0,r.pN=0,r.mN=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.pN=n.width,r._N=n.height,r.yN(r.pN,r._N)}},r.gN=new S.ResizeObserver(r.mN),r.gN.observe(r.w_),r}return z(n,t),n.prototype.sr=function(){this.gN.disconnect()},j(n,[{key:"kN",get:function(){return this._N}},{key:"bN",get:function(){return this.pN}}]),n}(tb),ib=0;var rb,eb=c,ub=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,ob=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function sb(){return rb||(rb=S&&S.document&&S.document.createElement("span")),rb}ub&&ob||(ub=function(t){var n=Bk(),i=l.max(0,16-(n-ib)),r=s(function(){return t(n+i)},i);return ib=n+i,r},ob=eb),ub=ub.bind(t),ob=ob.bind(t);var cb=["Webkit","Moz","O","ms"],ab=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",P,n),S.removeEventListener("testPassiveEventSupport",P,n)}}catch(t){}}(),ie());function fb(t){return ab.has(t)||ab.set(t,function(t){var n=sb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<cb.length;r++){var e=cb[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),ab.get(t)}function hb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function vb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[fb("transition")]="0s"}var db=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).TN=void 0,e.EN=0,e.pN=NaN,e._N=NaN,e.SN=void 0,e.RN=void 0,e.IN=void 0,e.CN=void 0,e.AN=void 0,e.Ol=function(){e.RN.style.width=1e5+"px",e.RN.style.height=1e5+"px",e.SN.scrollLeft=1e5,e.SN.scrollTop=1e5,e.IN.scrollLeft=1e5,e.IN.scrollTop=1e5,0===e.IN.scrollTop&&ub(e.Ol)},e.DN=function(){var t=e.bN,n=e.kN;e.yN(t,n),e.pN=t,e._N=n,e.Ol(),e.EN=0},e.NN=function(){if(!e.EN){var t=e.bN,n=e.kN;t===e.pN&&n===e._N||(e.EN=ub(e.DN))}},e.ON=function(){e.AN||(e.AN=s(e.xN,66))},e.xN=function(){e.AN=void 0,e.PN()},e.PN=function(){e.NN()},e.Jc(r),e}z(n,t);var i=n.prototype;return i.LN=function(){var t,n=this.w_,i=e.createElement("div");return this.SN=e.createElement("div"),this.RN=e.createElement("div"),this.IN=e.createElement("div"),this.CN=e.createElement("div"),hb(this.SN),hb(this.IN),vb(this.RN),vb(t=this.CN),t.style.width="200%",t.style.height="200%",i.appendChild(this.SN),i.appendChild(this.IN),this.SN.appendChild(this.RN),this.IN.appendChild(this.CN),n&&n.appendChild(i),this.NN(),this.SN.addEventListener("scroll",this.NN),this.IN.addEventListener("scroll",this.NN),i},i.Jc=function(t){var n=this.w_,i=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.TN=this.LN(),r&&r.addEventListener("resize",this.ON)},i.sr=function(){this.TN&&(ob(this.EN),this.EN=0,this.SN.removeEventListener("scroll",this.NN),this.IN.removeEventListener("scroll",this.NN),Or(this.TN),this.TN=void 0,r&&r.removeEventListener("resize",this.ON))},j(n,[{key:"kN",get:function(){return this.w_&&this.w_.getBoundingClientRect().height||this._N||0}},{key:"bN",get:function(){return this.w_&&this.w_.getBoundingClientRect().width||this.pN||0}}]),n}(tb),lb=function(t){function n(n){var i;return(i=t.call(this)||this).w_=void 0,i.gN=void 0,i.mN=function(t,n){i.Us(new Qk(t,n))},i.w_=n,i}z(n,t);var i=n.prototype;return i.Jc=function(t){this.gN||("function"==typeof S.ResizeObserver?this.gN=new nb(this.w_,this.mN):this.gN=new db(this.w_,this.mN,t))},i.sr=function(){this.js(),this.gN&&(this.gN.sr(),this.gN=void 0)},j(n,[{key:"kN",get:function(){return this.gN?this.gN.kN:0}},{key:"bN",get:function(){return this.gN?this.gN.bN:0}}]),n}(Ke),wb=function(t){function n(){return t.call(this,Qp.yl)||this}return z(n,t),n}(Qe);!function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{FN:i[0],MN:i[1],BN:i[2],UN:i[3],VN:i[4],qN:i[5]}}}();var yb=function(t){function n(){return t.call(this,Qp.dC)||this}return z(n,t),n}(Qe),gb=function(t){function n(n,i){var r;return(r=t.call(this)||this).fI=void 0,r.HN=void 0,r.jN=void 0,r.WN=!1,r.zN=function(){return r.Vc()},r.WC=function(t){r.WN||r.Us(t)},r.fI=n,r.HN=i,r.jN=rm,r.$N(),r.fI.Vs(rs.rf,r.zN),r.Vc(),r}z(n,t);var i=n.prototype;return i.H_=function(){this.HN&&this.jN.H_()},i.W_=function(){this.jN.W_()},i.$N=function(){this.jN.Vs(Qp.yl,this.WC),this.jN.Vs(Qp.Jl,this.Bs)},i.XN=function(){this.jN.Ws(Qp.yl,this.WC),this.jN.Ws(Qp.Jl,this.Bs)},i.Vc=function(){var t=this.jN,n=this.fI.o_();if(t!==n){this.WN=!0;var i=this.lC,r=this.wC;i&&this.W_(),this.XN(),this.jN=n,this.$N(),i&&!this.lC&&this.wC?this.H_():this.W_(),this.WN=!1,r!==this.wC&&this.Us(new yb),i!==this.lC&&this.Us(new wb)}},i.sr=function(){this.js(),this.XN(),this.fI.Ws(rs.rf,this.zN)},j(n,[{key:"wC",get:function(){return!!this.HN&&this.jN.wC}},{key:"lC",get:function(){return this.jN.lC}}]),n}(Ke);function _b(t){var n;return{get url(){return t.wv},get method(){return t.Ov},get headers(){return n||(n=t.av.xf()),n},get body(){return t.Jh},get useCredentials(){return t.Fv},get type(){return Tb(t.ss)},get subType(){return Sb(t.Pv)},get mediaType(){return Ib(t.Lv)},get responseType(){return mb(t.fv)}}}function pb(t){switch(t.toLowerCase()){case"arraybuffer":return es.Df;case"json":return es.Nf;case"stream":return es.Of;case"text":default:return es.eu}}function mb(t){return t}function kb(t){switch(t.toUpperCase()){case"POST":return xf.POST;case"PUT":return xf.PUT;case"DELETE":return xf.DELETE;case"HEAD":return xf.HEAD;case"OPTIONS":return xf.OPTIONS;case"GET":default:return xf.GET}}function bb(t){switch(t.toLowerCase()){case"manifest":return Pf._v;case"segment":return Pf.pv;case"content-protection":return Pf.mv;default:return Pf.gv}}function Tb(t){return t}function Eb(t){switch(t.toLowerCase()){case"initialization-segment":return Lf.kv;case"fairplay-license":return Lf.bv;case"fairplay-certificate":return Lf.Tv;case"widevine-license":return Lf.Ev;case"widevine-certificate":return Lf.Sv;case"playready-license":return Lf.Rv;case"clearkey-license":return Lf.Iv;case"aes128-key":return Lf.Cv;default:return Lf.gv}}function Sb(t){return t}function Rb(t){switch(t.toLowerCase()){case"audio":return Ff.Av;case"video":return Ff.Dv;case"text":return Ff.eu;case"image":return Ff.Nv;case"":default:return Ff.gv}}function Ib(t){return t}var Cb=function(){function t(t,n){this.GN=new so,this.YN=[],this.tl=void 0,this.KN=!1,this.Kv=void 0,this.JN=0,this.QN=t,this.ZN=n}var n=t.prototype;return n.Mm=function(){this.KN=!0,this.GN.bc(null)},n.tO=function(){this.GN.Tc(new vf(this.YN))},n.nO=function(t){if(!this.iO)throw new v("Cannot respond more than once");if(!st(t))throw new v("Expected valid response");this.Kv=this.rO(t),this.Mm()},n.eO=function(){try{var t=this.ZN(this.nl);t?this.uO(t):this.oO||this.sO||this.Mm()}catch(t){this.YN.push(t),this.tO()}},n.uO=function(t){if(this.sO)throw new h("Request has been redirected or a response already exists");if(ht(t))this.cO(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new so;try{var i=t(function(t){t?n.Tc(t):n.bc(void 0)});ht(i)&&n.bc(i)}catch(t){n.Tc(t)}this.cO(n.kc)}},n.cO=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.JN++,t.next=4,n;case 4:this.JN--,this.oO||this.sO||(this.YN.length?this.tO():this.Mm()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.JN--,this.YN.push(t.t0),this.oO||this.sO||this.tO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),j(t,[{key:"aO",get:function(){return this.GN.kc}},{key:"nl",get:function(){return this.tl||(this.tl=this.fO()),this.tl}},{key:"sO",get:function(){return this.KN}},{key:"iO",get:function(){return!this.KN}},{key:"oO",get:function(){return this.JN>0}},{key:"Jv",get:function(){return this.Kv}}]),t}(),Ab=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).hO=void 0,e.hO=r,e.eO(),e}z(n,t),n.vO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Mf({xu:r,dv:n.dv,fv:n.dv.fv,av:t.headers,cv:t.status,hv:t.statusText,lv:t.url,vv:!0},n)};var i=n.prototype;return i.fO=function(){return i=_b((t=this).dv),{get closed(){return!t.iO},get request(){return i},get url(){return t.wv},get status(){return t.cv},get statusText(){return t.hv},get headers(){return n||(n=t.av.xf()),n},get body(){return t.Jh},respondWith:function(n){return t.nO(n)},waitUntil:function(n){return t.uO(n)}};var t,n,i},i.rO=function(t){return n.vO(t,this.QN,this.hO)},j(n,[{key:"Jh",get:function(){return this.hO}},{key:"av",get:function(){return this.QN.av}},{key:"dv",get:function(){return this.QN.dv}},{key:"Jv",get:function(){return this.Kv}},{key:"cv",get:function(){return this.QN.cv}},{key:"hv",get:function(){return this.QN.hv}},{key:"wv",get:function(){return this.QN.lv}}]),n}(Cb),Db=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).dO=void 0,e.lO=void 0,e.lO=r,e.eO(),e}z(n,t);var i=n.prototype;return i.fO=function(){return t=this,{get url(){return t.wv},get method(){return t.Ov},get headers(){return n||(n=t.av.xf()),n},get body(){return t.Jh},get closed(){return!t.iO},get useCredentials(){return t.Fv},get type(){return Tb(t.ss)},get subType(){return Sb(t.Pv)},get mediaType(){return Ib(t.Lv)},get responseType(){return mb(t.fv)},redirect:function(n){return t.wO(n)},respondWith:function(n){return t.nO(n)},waitUntil:function(n){return t.uO(n)}};var t,n},i.rO=function(t){var n=this.QN.Jh,i=new Mf({xu:n,av:{},dv:this.QN,lv:this.QN.wv,fv:this.QN.fv,cv:200,hv:"OK"});return Ab.vO(t,i,n)},i.wO=function(t){if(!this.iO)throw new v("Cannot redirect, already redirected or has a response");var n;n=at(t)?{url:t}:t,this.dO=function(t,n){return new Bf({wv:void 0===t.url?n.wv:t.url,Ov:void 0!==t.method?kb(t.method):void 0,av:t.headers,Jh:t.body,Fv:t.useCredentials,ss:void 0!==t.type?bb(t.type):void 0,Pv:void 0!==t.subType?Eb(t.subType):void 0,Lv:void 0!==t.mediaType?Rb(t.mediaType):void 0,fv:void 0!==t.responseType?pb(t.responseType):void 0},n)}(n,this.QN),this.Mm()},j(n,[{key:"Jh",get:function(){return this.QN.Jh}},{key:"iO",get:function(){return this.lO&&!this.KN}},{key:"av",get:function(){return this.QN.av}},{key:"Ov",get:function(){return this.QN.Ov}},{key:"yO",get:function(){return this.dO}},{key:"Jv",get:function(){return this.Kv}},{key:"fv",get:function(){return this.QN.fv}},{key:"xv",get:function(){return this.QN.xv}},{key:"Ps",get:function(){return this.QN.Ps}},{key:"ss",get:function(){return this.QN.ss}},{key:"Pv",get:function(){return this.QN.Pv}},{key:"Lv",get:function(){return this.QN.Lv}},{key:"wv",get:function(){return this.QN.wv}},{key:"Fv",get:function(){return this.QN.Fv}},{key:"Mv",get:function(){return this.QN.Mv}}]),n}(Cb);var Nb,Ob=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new xb(n);return(r=t.call(this,e,i)||this).gO=void 0,r.gO=e,r}z(n,t);var i=n.prototype;return i._O=function(t){this.gO._O(t)},i.pO=function(t){this.gO.pO(t)},i.mO=function(t){this.gO.mO(t)},i.kO=function(t){this.gO.kO(t)},i.bO=function(t){this.gO.bO(t)},n}(qf),xb=function(){function t(t){this.Uv=void 0,this.TO=[],this.EO=[],this.Uv=t}var n=t.prototype;return n.dv=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.SO(n,n.Ps);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Hf)){t.next=12;break}return t.next=11,this.RO(t.t0,n.Ps);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.IO(i,n.Ps);case 15:if(!Of(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Wf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Bv=function(t){return this.Uv.Bv(t)},n.SO=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Me(i),r=n,u=0,o=this.TO.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],Me(i),(c=new Db(r,s,!e)).sO){t.next=17;break}return t.prev=8,t.next=11,c.aO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.yO&&!e?r=c.yO:c.Jv&&!e&&(e=c.Jv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Uv.dv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.RO=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Wf?n.Jv:new Mf({xu:null,dv:n.dv,cv:0,hv:""}),t.next=3,this.IO(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Of(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Wf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.IO=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.EO.slice();case 2:if(!(e<u.length)){t.next=23;break}return o=u[e],Me(i),t.next=7,C.resolve(r.yc().xu(i));case 7:if(s=t.sent,(c=new Ab(r,o,s)).sO){t.next=19;break}return t.prev=10,t.next=13,c.aO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=c.Jv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n._O=function(t){this.TO.unshift(t)},n.pO=function(t){this.TO.push(t)},n.mO=function(t){Ae(this.TO,t)},n.kO=function(t){this.EO.unshift(t)},n.bO=function(t){Ae(this.EO,t)},n.sr=function(){this.Uv.sr(),Oe(this.TO),Oe(this.EO)},t}(),Pb=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).tl=void 0,e.CO=n,e.xT=i,e.SC=r,e.CO.Vs(rs.ff,e.Bs),e.CO.Vs(rs.af,e.Bs),e}z(n,t);var i=n.prototype;return i.AO=function(t){this.SC.AO(t)},i._O=function(t){this.xT._O(t)},i.mO=function(t){this.xT.mO(t)},i.kO=function(t){this.xT.kO(t)},i.bO=function(t){this.xT.bO(t)},i.sr=function(){this.js(),this.CO.Ws(rs.ff,this.Bs),this.CO.Ws(rs.af,this.Bs)},j(n,[{key:"nl",get:function(){var t;return this.tl||(this.tl=(t=this,{get online(){return t.T_},get estimator(){return n=t.DO,{get bandwidth(){return n.$S},get roundTripTime(){return n.XS}};var n},setEstimator:function(n){t.AO(function(t){if(t)return{get $S(){return Wv(t.bandwidth)},get XS(){return Wv(t.roundTripTime)},zS:function(n){return function(t){if(t)return{NO:function(n){t.markRequestStart(n)},OO:function(n){t.markResponseStart(n)},xO:function(n,i){t.markResponseData(n,i)},PO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(_b(n)))}}}(n))},addRequestInterceptor:function(n){t._O(n)},removeRequestInterceptor:function(n){t.mO(n)},addResponseInterceptor:function(n){t.kO(n)},removeResponseInterceptor:function(n){t.bO(n)},addEventListener:function(n,i){t.Vs(n,i)},removeEventListener:function(n,i){t.Ws(n,i)}})),this.tl}},{key:"T_",get:function(){return this.CO.T_}},{key:"DO",get:function(){return this.SC.DO}}]),n}(cd);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Nb||(Nb={}));var Lb=30,Fb={type:Nb.BANDWIDTH},Mb=20,Bb=60;function Ub(t){var n,i,r,e=Bv(Fb);return at(t)?e.type=Vb(t):st(t)&&function(t){switch(t){case Nb.PERFORMANCE:case Nb.QUALITY:case Nb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=Vb(t.type)),st(t)&&st(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=jv(n.bitrate),g(r)||(i.bitrate=r),i)),e}function Vb(t){switch(t){case"bandwidth":return Nb.BANDWIDTH;case"performance":return Nb.PERFORMANCE;case"quality":return Nb.QUALITY}}var qb=function(t){function n(n){var i;return(i=t.call(this,"FO")||this).LO=n,i}return z(n,t),n}(Qe),Hb=function(t){function n(n){var i;return(i=t.call(this,"BO")||this).MO=n,i}return z(n,t),n}(Qe),jb=function(t){function n(n){var i;return(i=t.call(this,"VO")||this).UO=n,i}return z(n,t),n}(Qe),Wb=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).tl=(i=en(n),{get strategy(){return{metadata:(t=i.MO).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.MO=Ub(t)},get targetBuffer(){return i.LO},set targetBuffer(t){var n=jv(t);g(n)||(i.LO=n>Bb?Bb:n)},get bufferLookbackWindow(){return i.UO},set bufferLookbackWindow(t){var n=jv(t);g(n)||(i.UO=n<=0?Lb:n)}}),n.qO=Fb,n.HO=Mb,n.jO=Lb,n.WO=void 0,n.zO=void 0,n}z(n,t);var i=n.prototype;return i.$O=function(t){this.zO=t},i.AO=function(t){this.WO=t},j(n,[{key:"XO",get:function(){switch(this.qO.type){case Nb.PERFORMANCE:return 0;case Nb.QUALITY:return 1/0;case Nb.BANDWIDTH:return this.qO.metadata&&void 0!==this.qO.metadata.bitrate?this.qO.metadata.bitrate:8*vd._w();default:return 8*vd._w()}}},{key:"nl",get:function(){return this.tl}},{key:"MO",get:function(){return this.qO},set:function(t){this.qO=t,this.Us(new Hb(t))}},{key:"LO",get:function(){return this.HO},set:function(t){this.HO=t,this.Us(new qb(t))}},{key:"UO",get:function(){return this.jO},set:function(t){this.jO=t,this.Us(new jb(t))}},{key:"DO",get:function(){var t;return null!=(t=this.WO)?t:this.zO.KR}}]),n}(Ke),zb=function(t){function n(){return t.call(this,"gl")||this}return z(n,t),n.prototype.il=function(){return new $b},n}(Tv),$b=function(t){function n(){return t.call(this,"change")||this}return z(n,t),n}(Qe),Xb=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).GO=void 0,r.YO=function(t){var n;n=t,Boolean(n&&n.nl)&&je(function(){r.Us(t.nl)})},r.GO=n,r.GO.Hs(r.YO),r}return z(n,t),n.prototype.sr=function(){this.js(),this.GO.Xs(this.YO)},n}(cd),Gb=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n}(Xb);var Yb=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).K_=0,n.J_=1/0,n.tl=void 0,n}z(n,t);var i=n.prototype;return i.Ol=function(){0===this.K_&&this.J_===1/0||(this.K_=0,this.J_=1/0,this.Us(new zb))},i.KO=function(){return new tm([this.X_,this.G_],[!0,!0])},j(n,[{key:"X_",get:function(){return this.K_},set:function(t){if(this.G_<=t)throw new h("Start time of a clip should be smaller than the end time.");this.K_!==t&&(this.K_=t,this.Us(new zb))}},{key:"G_",get:function(){return this.J_},set:function(t){if(t<=this.X_)throw new h("End time of a clip should be larger than the start time.");this.J_!==t&&(this.J_=t,this.Us(new zb))}},{key:"nl",get:function(){var t,n,i;return this.tl||(this.tl=(i={get startTime(){return t.X_},set startTime(n){t.X_=n},get endTime(){return t.G_},set endTime(n){t.G_=n},addEventListener:function(t,i){n.Vs(t,i)},removeEventListener:function(t,i){n.Ws(t,i)}},n=new Xb(t=this,i),i)),this.tl}}]),n}(cd),Kb=function(t){function n(n){var i;return(i=t.call(this)||this).JO=function(t){i.QO(t)||i.Us(t)},i.ZO=n,i.ZO.Hs(i.JO),i}z(n,t);var i=n.prototype;return i.tx=function(){return this.ZO.zg},i.s_=function(){return this.ZO.s_()},i.nx=function(){return this.ZO.d_},i.ix=function(){return this.ZO.h_},i.ex=function(){return this.ZO.l_},i.ux=function(t){this.ZO.l_=t},i.ox=function(){return this.ZO.Uw},i.sx=function(t){this.ZO.Uw=t},i.ax=function(){return this.ZO.Vw},i.hx=function(){return this.ZO.w_},i.vx=function(){return this.ZO.qw},i.lx=function(){return this.ZO.tc},i.wx=function(){return this.ZO.Hw},i.yx=function(){return this.ZO.y_},i.gx=function(){return this.ZO.jw},i._x=function(t){this.ZO.jw=t},i.mx=function(){return this.ZO.T_},i.kx=function(){return this.ZO.Ww},i.bx=function(){return this.ZO.zw},i.Tx=function(t){this.ZO.zw=t},i.Ex=function(){return this.ZO.E_},i.Sx=function(){return this.ZO.S_},i.Rx=function(t){this.ZO.S_=t},i.Ix=function(){return this.ZO.rw},i.Cx=function(){return this.ZO.R_},i.Ax=function(){return this.ZO.$w},i.Kg=function(){return this.ZO.Kg()},i.Jg=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(i),t.next=3,this.ZO.Jg(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Dx=function(){return this.ZO.Xg},i.Nx=function(){return this.ZO.Xw},i.Ox=function(){return this.ZO.$g},i.xx=function(){return this.ZO.Gw},i.Px=function(){return this.ZO.Yw},i.Lx=function(t){this.ZO.Yw=t},i.o_=function(){return this.ZO.o_()},i.u_=function(){return this.ZO.u_()},i.n_=function(t){this.ZO.n_(t)},i.i_=function(){this.ZO.i_()},i.e_=function(){this.ZO.e_()},i.hr=function(){this.ZO.hr()},i.nr=function(){this.ZO.nr()},i.tr=function(){this.ZO.tr()},i.r_=function(){this.ZO.r_()},i.Yg=function(){return this.ZO.Yg()},i.Qg=function(){return this.ZO.Qg()},i.Zg=function(){this.ZO.Zg()},i.t_=function(){this.ZO.t_()},i.Ol=function(){return this.ZO.Ol()},i.sr=function(){return this.ZO.sr()},i.v_=function(){this.ZO.v_()},i.c_=function(t){return this.ZO.c_(t)},i.QO=function(t){return!1},j(n,[{key:"zg",get:function(){return this.tx()}},{key:"d_",get:function(){return this.nx()}},{key:"l_",get:function(){return this.ex()},set:function(t){this.ux(t)}},{key:"h_",get:function(){return this.ix()}},{key:"Uw",get:function(){return this.ox()},set:function(t){this.sx(t)}},{key:"Vw",get:function(){return this.ax()}},{key:"w_",get:function(){return this.hx()}},{key:"qw",get:function(){return this.vx()}},{key:"tc",get:function(){return this.lx()}},{key:"Hw",get:function(){return this.wx()}},{key:"Gg",get:function(){return this.ZO.Gg}},{key:"y_",get:function(){return this.yx()}},{key:"xg",get:function(){return this.ZO.xg}},{key:"jw",get:function(){return this.gx()},set:function(t){this._x(t)}},{key:"T_",get:function(){return this.mx()}},{key:"Ww",get:function(){return this.kx()}},{key:"zw",get:function(){return this.bx()},set:function(t){this.Tx(t)}},{key:"E_",get:function(){return this.Ex()}},{key:"S_",get:function(){return this.Sx()},set:function(t){this.Rx(t)}},{key:"rw",get:function(){return this.Ix()}},{key:"R_",get:function(){return this.Cx()}},{key:"$w",get:function(){return this.Ax()}},{key:"Xg",get:function(){return this.Dx()}},{key:"Xw",get:function(){return this.Nx()}},{key:"$g",get:function(){return this.Ox()}},{key:"Gw",get:function(){return this.xx()}},{key:"Yw",get:function(){return this.Px()},set:function(t){this.Lx(t)}}]),n}(ad),Jb=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).Fx=void 0,e.Mx=!1,e.Bx=void 0,e.Ux=!1,e.Vx=function(){e.qx(),e.Hx()},e.vR=function(){e.jx(),e.Hx(),e.Wx&&e.Uw>=e.Fx.G_-n.zx&&!e.qw&&(e.Bx=ub(e.vR))},e.$x=function(){e.Ux=!0},e.Xx=function(){e.Ux&&(e.Ux=!1,e.Hx())},e.Fx=r,e.Fx.Vs("gl",e.Vx),e.ZO.Vs("timeupdate",e.vR),e}z(n,t);var i=n.prototype;return i.sx=function(n){var i=this.Fx.KO().UI(n);t.prototype.sx.call(this,i),this.Hx()},i.vx=function(){return t.prototype.vx.call(this)||this.Mx},i.Cx=function(){return tm.aC(t.prototype.Cx.call(this)).HI(this.Fx.KO()).$R()},i.tr=function(){this.vx()?this.sx(this.Gx.start(0)):this.qx(),t.prototype.tr.call(this),this.Hx()},i.Jg=function(){var n=C.coroutine(Zr.mark(function n(i,r){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Me(r),this.Mx=!1,this.Fx.Ol(),n.next=5,t.prototype.Jg.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.sr=function(){return this.Fx.Ws("gl",this.Vx),this.ZO.Ws("timeupdate",this.vR),this.jx(),t.prototype.sr.call(this)},i.QO=function(n){switch(n.type){case"seeking":return this.Us(n),this.$x(),!0;case"seeked":case"emptied":return this.Us(n),this.Xx(),!0;case"ended":if(this.Wx)return!0}return t.prototype.QO.call(this,n)},i.jx=function(){this.Bx&&(ob(this.Bx),this.Bx=void 0)},i.Hx=function(){var t=this.Uw,i=this.Wx&&t>=this.Fx.G_-n.og;this.Mx&&!i?(this.Mx=!1,this.Ww&&this.tr()):this.Mx||!i||this.$w||this.Ux||(this.Mx=!0,this.Us(new Wd(t)),this.nr())},i.qx=function(){if(this.Vw!==1/0){var t=this.Gx,i=tm.aC(t).UI(this.Uw);Jt(this.Uw,i,n.og)||this.sx(i)}},j(n,[{key:"Gx",get:function(){return this.Cx().length?this.Cx():this.Fx.KO().$R()}},{key:"Wx",get:function(){return this.Fx.G_<this.Vw}}]),n}(Kb);Jb.zx=1,Jb.og=.001;var Qb=function(){function t(){this.Yx=void 0,this.Yx=!1}return j(t,[{key:"Kx",get:function(){return this.Yx},set:function(t){this.Yx=t}}]),t}(),Zb=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Yx=void 0,r.Jx=!1,r.Qx=!1,r.Yx=i,r}z(n,t);var i=n.prototype;return i.vx=function(){return!this.Yx.Kx&&t.prototype.vx.call(this)},i.nr=function(){this.Qx=!0,t.prototype.nr.call(this)},i.tr=function(){this.Qx=!1,t.prototype.tr.call(this)},i.QO=function(n){if(this.Yx.Kx)switch(n.type){case"ended":return this.Uw=0,this.Qx||(this.$w?this.Jx=!0:this.tr()),!0;case"seeked":this.Jx&&(this.Jx=!1,this.tr());break;case"pause":if(this.Jx||t.prototype.vx.call(this))return!0}return t.prototype.QO.call(this,n)},n}(Kb);var tT=function(){function t(t){var n;this.tl=(n=this,{get currentBandwidthEstimate(){return n.m_},get corruptedVideoFrames(){return n.__},get droppedVideoFrames(){return n.g_},get totalBytesLoaded(){return n.k_},get bufferedSegments(){return n.b_}}),this._I=t}return j(t,[{key:"nl",get:function(){return this.tl}},{key:"__",get:function(){return this._I.Zx.xg.__}},{key:"m_",get:function(){return this._I.Zx.xg.m_}},{key:"g_",get:function(){return this._I.Zx.xg.g_}},{key:"tP",get:function(){throw new h("Not implemented")}},{key:"nP",get:function(){throw new h("Not implemented")}},{key:"k_",get:function(){return this._I.Zx.xg.k_}},{key:"p_",get:function(){return this._I.Zx.xg.p_}},{key:"b_",get:function(){return this._I.Zx.xg.b_}}]),t}(),nT=function(t){function n(){return t.call(this,"iP")||this}return z(n,t),n.prototype.il=function(){return new iT},n}(Tv),iT=function(t){function n(){return t.call(this,"castingchange")||this}return z(n,t),n}(Qe);var rT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).rP=[],n.tl=void 0,n.eP=function(){return n.Us(new nT)},n}z(n,t);var i=n.prototype;return i.uP=function(t){this.rP.push(t),t.Vs("statechange",this.eP)},i.sr=function(){var t=this;this.rP.forEach(function(n){n.Ws("statechange",t.eP)}),Oe(this.rP)},j(n,[{key:"oP",get:function(){return this.rP.some(function(t){return t.oP})}},{key:"nl",get:function(){var t,n,i;return this.tl||(this.tl=(i={get casting(){return t.oP},addEventListener:function(t,i){n.Vs(t,i)},removeEventListener:function(t,i){n.Ws(t,i)}},n=new Gb(t=this,i),i)),this.tl}}]),n}(ad),eT=function(){function t(){}return t.sP=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Bf({wv:n,fv:es.eu,Ov:xf.GET}),t.next=4,i.dv(r);case 4:return e=t.sent,t.next=7,e.xu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Fe(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.cP=function(t){try{var i=gk(t);return new Tk(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Mo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.aP=function(t){void 0===t&&(t=Mk.Ap),D.To("The baked-in license is used. Please update the configuration with your license.");var n=t.YA(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.YA(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.YA(n)}),e=Number(new Date(Number(t.YA("COD|aHpHa:p3Ceo3Co\"\""))));return new Tk(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Tk(t.rD,t.eD,t.uD,864e13,t.sD,Date.now(),t.aD,t.fD)},t}(),uT=function(){function t(){}return t.za=function(){return t.Ze||(t.Ze=oT.ea()?new oT:new Qo),t.Ze},t.hc=function(n){t.za().hc(n)},t.ja=function(){t.za().ja()},t.cc=function(n){return t.za().cc(n)},t.Wa=function(n,i){t.za().Wa(n,i)},t.fP=function(n){var i=t.cc(n);if(void 0!==i)return y(i)},t.hP=function(n){return"true"===t.cc(n)},t}();uT.Ze=void 0;var oT=function(n){function i(){return n.apply(this,arguments)||this}z(i,n),i.ea=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.hc=function(n){t.localStorage.removeItem(n)},r.ja=function(){t.localStorage.clear()},r.cc=function(n){return t.localStorage[n]},r.Wa=function(n,i){t.localStorage[n]=i},i}(uT),sT=l.floor(14399999*l.random()-72e5),cT=function(){function t(t,n,i,r,e,u){this.dD=void 0,this.xT=t,this.vP=n,this.dP=i,this.QD=r,this.lP=e,this.yD=u,this.dD=Dk(u)}var i=t.prototype;return i.wP=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.yP(this.lP.license,this.lP.licenseUrl);case 2:n=t.sent,this.QD.gP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yP=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=eT.cP(i):e||(u=eT.aP()),e||(e="https://validate.theoplayer.com/1/"+u.rD),o=this._P(),!u){t.next=14;break}if((s=this.vP.mD(u))!==pk.tD){t.next=14;break}if(!this.pP(u.oD)||!this.pP(null==o?void 0:o.oD)){t.next=13;break}return t.next=10,this.mP(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.vP.mD(o)!==pk.tD){t.next=24;break}if(!this.pP(null==o?void 0:o.oD)){t.next=23;break}return t.next=20,this.mP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",o);case 24:uT.hc("THEOplayer.license");case 25:return t.next=27,eT.sP(e,this.xT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=eT.cP(f),this.vP.mD(h)!==pk.tD){t.next=34;break}return uT.Wa("THEOplayer.license",f),t.abrupt("return",h);case 34:uT.hc("THEOplayer.license"),t.next=39;break;case 37:if(this.dD||!u||s!==pk.nD||e!=="https://validate.theoplayer.com/1/"+u.rD){t.next=39;break}return t.abrupt("return",eT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.kP(null!=(v=u)?v:h,new Mo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Mo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.gD=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QD.eN();case 2:if(i=t.sent,!this.pP(i.oD)){t.next=9;break}return e=null!=(r=this.lP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.rD,t.next=7,this.mP(e);case 7:(u=t.sent)&&(this.QD.gP(u),i=u);case 9:if(t.prev=9,(o=this.vP.mD(i))!==pk.iD){t.next=16;break}throw s=bk.hD,new Mo(Sk(s),Ok.pD(s));case 16:if(o!==pk.nD){t.next=19;break}throw c=bk.nD,new Mo(Sk(c),Ok.pD(c));case 19:this.vP.gD(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.bP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.mP=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,eT.sP(n,this.xT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=eT.cP(i),this.vP.mD(r)!==pk.tD){t.next=11;break}return uT.Wa("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.pP=function(t){return!t||Number(new Date)+2592e5+sT>=t},i._P=function(){var t=uT.cc("THEOplayer.license");if(t)return eT.cP(t)},i.kP=function(t,n){this.QD.gP(t),this.bP(n)},i.bP=function(t){throw kt(t.message),this.dP.sN(t.message),t},t}(),aT=function(){function t(){this.TP=void 0,this.EP=new so}var n=t.prototype;return n.gP=function(t){this.TP=t,this.EP.bc()},n.eN=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.TP){t.next=2;break}return t.abrupt("return",C.resolve(this.TP));case 2:return t.next=4,this.EP.kc;case 4:return t.abrupt("return",this.TP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(t,[{key:"SP",get:function(){return this.TP}}]),t}(),fT=function(t){function n(){return t.call(this,"gl")||this}return z(n,t),n.prototype.il=function(){return new hT},n}(Tv),hT=function(t){function n(){return t.call(this,"change")||this}return z(n,t),n}(Qe);function vT(t){var n,i={get fontFamily(){return t.RP},set fontFamily(n){t.RP=n},get fontColor(){return t.IP},set fontColor(n){t.IP=n},get fontSize(){return t.CP},set fontSize(n){t.CP=n},get backgroundColor(){return t.AP},set backgroundColor(n){t.AP=n},get windowColor(){return t.DP},set windowColor(n){t.DP=n},get edgeStyle(){return t.NP},set edgeStyle(n){t.NP=n},addEventListener:function(t,i){var r=$v(t,zv);n.Vs(r,i)},removeEventListener:function(t,i){var r=$v(t,zv);n.Ws(r,i)}};return n=new Je(i),t.Vs(["gl"],function(t){return n.Us(t.nl)}),i}var dT,lT,wT={RP:void 0,IP:void 0,CP:void 0,AP:void 0,DP:void 0,NP:void 0,OP:void 0},yT="THEOplayer.textTrackStyle.",gT=function(t){function n(){var i;return(i=t.call(this)||this).xP=void 0,i.tl=void 0,i.xP=n.PP(),i}return z(n,t),n.prototype.Vc=function(t){this.xP=te({},this.xP,t),n.LP(this.xP),this.Us(new fT)},n.PP=function(){var t=te({},wT);return t.RP=uT.cc(yT+"fontFamily")||t.RP,t.IP=uT.cc(yT+"fontColor")||t.IP,t.CP=uT.cc(yT+"fontSize")||t.CP,t.AP=uT.cc(yT+"backgroundColor")||t.AP,t.DP=uT.cc(yT+"windowColor")||t.DP,t.NP=uT.cc(yT+"edgeStyle")||t.NP,t},n.LP=function(t){uT.Wa(yT+"fontFamily",t.RP||""),uT.Wa(yT+"fontColor",t.IP||""),uT.Wa(yT+"fontSize",t.CP||""),uT.Wa(yT+"backgroundColor",t.AP||""),uT.Wa(yT+"windowColor",t.DP||""),uT.Wa(yT+"edgeStyle",t.NP||"")},j(n,[{key:"FP",get:function(){return this.xP}},{key:"RP",get:function(){return this.xP.RP},set:function(t){this.Vc({RP:t})}},{key:"IP",get:function(){return this.xP.IP},set:function(t){this.Vc({IP:t})}},{key:"CP",get:function(){return this.xP.CP},set:function(t){this.Vc({CP:t})}},{key:"AP",get:function(){return this.xP.AP},set:function(t){this.Vc({AP:t})}},{key:"DP",get:function(){return this.xP.DP},set:function(t){this.Vc({DP:t})}},{key:"NP",get:function(){return this.xP.NP},set:function(t){this.Vc({NP:t})}},{key:"OP",get:function(){return this.xP.OP}},{key:"nl",get:function(){return this.tl||(this.tl=vT(this)),this.tl}}]),n}(Ke),_T=function(t){function n(n,i){var r;(r=t.call(this)||this).MP=void 0,r.Gc=void 0,r.Zx=void 0,r.BP=void 0,r.Yd=void 0,r.Fx=void 0,r.Yx=void 0,r.UP=void 0,r.VP=void 0,r.SC=void 0,r.vP=void 0,r.qP=void 0,r.HP=void 0,r.EC=void 0,r.jP=!1,r.Bg=!1,r.O_=void 0,r.WP=!1,r.zP=void 0,r.$P=void 0,r.XP=void 0,r.GP=void 0,r.YP=void 0,r.KP=function(t){if(!r.WP){r.WP=!0;var n=r.MP,i=Ll(t);r.Zx.Vl=new om(r.w_,i,t),We(n.sr())}},r.JP=function(t){r.Us(t.nl)},r.QP=function(t){t.type!==rs.ff&&t.type!==rs.af&&r.Us(t)};var e=jv(i.uid);g(e)?r.O_=jl++:r.O_=e,r.Gc=i;var u=D.Yd,o=new aT;r.BP=new Gk("2.88.0",u,o),r.Yd=new Ob(u,i.allowMixedContent),r.SC=new Wb,r.vP=new Ek(i.isEmbeddable,"2.88.0",_k()),r.YP=new cT(u,r.vP,r.BP,o,i,_k()),r.YP.wP().catch(r.KP),r.qP=new lb(n),r.qP.Vs("wN",r.JP),r.EC=new gT,r.Fx=new Yb,r.Yx=new Qb;var s=new um(n,i,r.Yd,r.SC,r.qP,r.EC);r.SC.$O(s);var c=s;c=new Jb(c,r.ZP),c=new Zb(c,r.Kx),r.MP=c,r.Zx=new Nl(r.MP),r.Zx.Hs(r.QP),r.GP=new tT(en(r)),r.$P=new Pb(r.Zx,r.Yd,r.SC),r.UP=new Jk(en(r)),r.HP=new gb(r.Zx,i.allowNativeFullscreen),r.VP=new Sm(r.HP),r.qP.Jc();var a=new b(r.qP,r.EC,1,[Fl.Dv]);return r.zP=new T(a),r.XP=new rT,r}z(n,t);var i=n.prototype;return i._x=function(t){this.Zx.jw=t,t||this.Ww||this.hr()},i.Lx=function(t){this.Zx.Yw=t},i.tL=function(){il(this,Rm,this)},i.tr=function(){this.Zx.tr()},i.nr=function(){this.Zx.nr()},i.Jg=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.YP.gD(n).catch(this.KP),r=pT(n),t.next=5,this.Zx.Jg(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hr=function(){this.Bg||(this.Zx.hr(),this.zP.hr(),this.Bg=!0)},i.lC=function(){return this.VP.YC()===mm.FULLSCREEN},i.r_=function(){this.Zx.r_()},i.e_=function(){this.Zx.e_()},i.u_=function(){return this.Zx.u_()},i.Ol=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Zx.Yg();case 2:return t.next=4,this.Zx.Ol();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.js(),this.XP.sr(),this.Yd.sr(),this.$P.sr(),this.HP.sr(),this.VP.sr(),this.qP.sr(),this.BP.sr(),this.zP.sr(),t.next=11,this.Zx.sr();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"nL",get:function(){return this.SC}},{key:"jg",get:function(){return this.jP},set:function(t){this.jP=t,this.Zx.jg=t}},{key:"iL",get:function(){return this.zP}},{key:"zg",get:function(){return this.Zx.zg}},{key:"rL",get:function(){return this.XP}},{key:"eL",get:function(){return this.qP}},{key:"Gg",get:function(){return this.Zx.Gg}},{key:"xg",get:function(){return this.GP}},{key:"uL",get:function(){return this.$P}},{key:"Xg",get:function(){return this.Zx.Xg}},{key:"oL",get:function(){return this.EC}},{key:"$g",get:function(){return this.Zx.$g}},{key:"d_",get:function(){return this.Zx.d_}},{key:"ZP",get:function(){return this.Fx}},{key:"Kx",get:function(){return this.Yx}},{key:"Uw",get:function(){return this.Zx.Uw},set:function(t){this.Zx.Uw=t}},{key:"l_",get:function(){return this.Zx.l_},set:function(t){this.Zx.l_=t}},{key:"h_",get:function(){return this.Zx.h_}},{key:"Vw",get:function(){return this.Zx.Vw}},{key:"w_",get:function(){return this.Zx.w_}},{key:"qw",get:function(){return this.Zx.qw}},{key:"tc",get:function(){return this.Zx.tc}},{key:"Hw",get:function(){return this.Zx.Hw}},{key:"jw",get:function(){return this.Zx.jw},set:function(t){var n=Boolean(t);this._x(n)}},{key:"Ww",get:function(){return this.Zx.Ww}},{key:"zw",get:function(){return this.Zx.zw},set:function(t){this.Zx.zw=t}},{key:"E_",get:function(){return this.Zx.E_}},{key:"S_",get:function(){return this.Zx.S_},set:function(t){this.Zx.S_=Gp(t)}},{key:"rw",get:function(){return this.Zx.rw}},{key:"R_",get:function(){return this.Zx.R_}},{key:"$w",get:function(){return this.Zx.$w}},{key:"zl",get:function(){return this.O_}},{key:"Xw",get:function(){return this.Zx.Xw}},{key:"Gw",get:function(){return this.Zx.Gw}},{key:"Yw",get:function(){return this.Zx.Yw},set:function(t){var n=Kt(Number(t),0,1)||0;this.Lx(n)}}]),n}(ad);function pT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.sL=0]="sL",t[t.cL=1]="cL"}(dT||(dT={})),function(t){t[t.aL=0]="aL"}(lT||(lT={}));var mT={};function kT(t,n){var i=t;if(mT[n])for(var r=0,e=mT[n];r<e.length;r++){i=(0,e[r])(i)}return i}var bT=[];function TT(t){bT.push(t)}var ET=t.CustomEvent;var ST=function(){try{var t=new ET("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i},RT=function(){function t(t,n){var i=this;this._I=void 0,this.fL=void 0,this.hL=!1,this.vL=function(t){i.fL.oN(t.error,i.Uw)},this.dL=function(){i.fL.rN(i.lL),i._I.removeEventListener("playing",i.dL),i.hL=!1},this.wL=function(){i.hL||(i._I.addEventListener("playing",i.dL),i.hL=!0)},this.fL=n,this._I=t,this._I.addEventListener("error",this.vL),this._I.addEventListener("sourcechange",this.wL),this.wL()}return t.prototype.Ol=function(){},j(t,[{key:"Uw",get:function(){var t=this._I.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"lL",get:function(){return this._I.src||""}}]),t}();TT(function(t){new RT(t.nl,t.BP)});var IT,CT,AT="theoplayer-stored-volume",DT="theoplayer-stored-mutedstate";IT=function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=uT.fP(AT);(void 0===e||g(e))&&(e=1);var u=uT.hP(DT)||!1;r.Yw=e,r.jw=u}return r}z(n,t);var i=n.prototype;return i._x=function(n){this.Gc.persistVolume&&uT.Wa(DT,n),t.prototype._x.call(this,n)},i.Lx=function(n){this.Gc.persistVolume&&uT.Wa(AT,n),t.prototype.Lx.call(this,n)},n}(t)},CT=dT.cL,(mT[CT]||(mT[CT]=[])).push(IT);var NT=new(function(){function t(){this.yL=[],this.tl=void 0}var n=t.prototype;return n.Cl=function(t){return this.yL[t]},n.gL=function(t){this.yL.push(t),this.nl.push(t.nl)},n.Uc=function(t){var n=this.yL.indexOf(t);n<0||(De(this.yL,n),this.tl&&De(this.tl,n))},n._L=function(t){for(var n=0,i=this.yL;n<i.length;n++){var r=i[n];if(r.zl===t)return r}},j(t,[{key:"Pl",get:function(){return this.yL.length}},{key:"nl",get:function(){return this.tl||(this.tl=function(t){for(var n=[],i=0;i<t.Pl;i++)n[i]=t.Cl(i).nl;return n.getPlayerByUID=function(n){var i=t._L(n);return i&&i.nl},n}(this)),this.tl}}]),t}()),OT=function(){function t(t){var n=this;this.pL=[],this.mL=void 0,this.Od=new Pe,this.kL=void 0,this.kn=function(){return 0===n.pL.length?n.kL?xT(n.kL,n.Od.Ps).then(n.bL,n.bL):n.bL():n.pL.shift()().then(n.kn)},this.bL=function(){if(0!==n.pL.length)return n.kn();n.mL=void 0},this.kL=t}var n=t.prototype;return n.TL=function(t,n){var i=this;return new C(function(r){var e=new Pe;e.Os(i.Od.Ps),n&&e.Os(n);var u=function(){e.Ss()};i.pL.push(function(){var n=xT(t,e.Ps);return r(n),n.then(u,u)}),i.mL||(i.mL=i.kn())})},n.Ns=function(){return this.EL(!0)},n.sr=function(){return this.kL=void 0,this.EL(!1)},n.EL=function(t){var n=this.mL;return this.Od.Ns(),t&&(this.Od=new Pe),C.resolve(n)},t}();function xT(t,n){return new C(function(i){return i(t(n))})}var PT,LT=function(t){function n(n){var i;return(i=t.call(this,rs.Ef)||this).source=n,i}return z(n,t),n}(Qe),FT=function(t){function n(){var n;return(n=t.call(this)||this).yC=void 0,n._C=void 0,n.mC=void 0,n.pC=void 0,n.yC=0,n._C=!0,n.mC=!1,n.pC=1,n}z(n,t);var i=n.prototype;return i.tr=function(){this._C&&(this._C=!1,this.Us(new Fd(this.Uw)),this.Us(new ig(this.Uw)))},i.nr=function(){this._C||(this._C=!0,this.Us(new jd(this.Uw,this.l_)),this.Us(new Ld(this.Uw)))},i.Ol=function(){this.yC=0,this.mC=!1,this.pC=1,this.nr(),this.Us(new Pd(this.yC))},i.sr=function(){this.js()},i.e_=function(){},i.r_=function(){},j(n,[{key:"l_",get:function(){},set:function(t){}},{key:"Uw",get:function(){return this.yC},set:function(t){this.mC&&this.yC===t||(this.yC=t,this.mC=!0,this.Us(new $d(this.Uw)))}},{key:"Ww",get:function(){return this._C}},{key:"zw",get:function(){return this.pC},set:function(t){this.pC!==t&&(this.pC=t,this.Us(new Hd(this.Uw,this.zw)))}},{key:"rw",get:function(){return _d.Cw}},{key:"$w",get:function(){return this.mC}}]),n}(cd),MT=function(t){function n(){return t.call(this,rs.Za)||this}return z(n,t),n}(Qe),BT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},UT={visibility:"hidden"},VT={visibility:"visible"},qT=function(){function t(t){var n,i=this;this.dI=void 0,this._I=void 0,this.SL=!1,this.RL=void 0,this.IL=void 0,this.CL=function(t){i.SL=!1,i.RL=t.source&&t.source.poster,i.Vc()},this.ZT=function(){i.SL=!0,i.e_()},this._I=t,this.bI(),this.dI=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",xr(BT,n),n),t.w_.appendChild(this.dI)}var n=t.prototype;return n.Vc=function(){var t=this._I.Ww,n=this.SL;this.wv?this.dI.style.backgroundImage='url("'+this.wv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.dI.style.backgroundImage="",t&&this.wv&&!n?this.r_():this.e_()},n.r_=function(){xr(UT,this._I.w_),xr(VT,this.dI)},n.e_=function(){xr(UT,this.dI),xr(VT,this._I.w_)},n.bI=function(){this._I.Vs("sourcechange",this.CL),this._I.Vs("play",this.ZT)},n.sr=function(){this._I.Ws("sourcechange",this.CL),this._I.Ws("play",this.ZT),Or(this.dI)},j(t,[{key:"wv",get:function(){return void 0!==this.RL?this.RL:void 0!==this.IL?this.IL:void 0}},{key:"AL",set:function(t){this.IL=t,this.Vc()}}]),t}();function HT(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this)._I=void 0,e.DL=void 0,e.NL=void 0,e.OL=void 0,e.xL=void 0,e.PL=void 0,e.LL=void 0,e.FL=void 0,e.kI=void 0,e.mI=void 0,e.tl=void 0,e.ML=function(t){t.type!==rs.lf&&e.FL.push(t)},e.DL=new t(i,r),e.NL=new FT,e._I=e.DL,e.OL=new qT(en(e)),e.PL=new OT,e.LL=!1,e.FL=[],e.kI=!0,e.mI=void 0,e.bI(),e}z(i,n);var r=i.prototype;return r.TL=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.PL.TL(n,i).catch(Ue));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.BL=function(){var t=C.coroutine(Zr.mark(function t(n,i){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(i),this.DL.Hs(this.ML),t.next=4,this.DL.Jg(n,i);case 4:this.DL.Xs(this.ML);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.UL=function(){var t=C.coroutine(Zr.mark(function t(){var n,i,r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Kg())&&!Km(n)&&this.jg&&this.Ww){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Gc.mutedAutoplay,t.next=6,this.iL.ar();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.VL(),t.abrupt("break",14);case 12:return(this.jw||i===Md.ALL)&&(this.jw=!0,this.tr()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Jg=function(t){var n=this,i=this.mI;i&&!Km(i)&&this.Us(new Pd(0,0)),this.Ol(),this.mI=t,We(this.TL(function(){var i=C.coroutine(Zr.mark(function i(r){return Zr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Me(r),i.prev=1,i.next=4,n.BL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.mI=void 0,i.t0;case 10:return i.next=12,n.qL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.qL=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.HL(this.DL),this.Us(new LT(this.Kg())),t.next=4,this.UL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sx=function(t){this._I.Uw=t},r.lx=function(){return this.DL.tc},r.wx=function(){return this.DL.Hw},r.tr=function(){this._I.tr()},r.VL=function(){this.jw||this.hr(),this.tr()},r.hr=function(){this.DL.hr()},r.nr=function(){this._I.nr()},r.Yg=function(){this.Jg(void 0)},r.r_=function(){this.kI=!0,this._I.r_()},r.e_=function(){this.kI=!1,this._I.e_()},r.tL=function(){this.DL.tL()},r.Lx=function(t){this.DL.Lx(t)},r._x=function(t){this.DL._x(t)},r.jL=function(t){this.xL=t,t.gL(this)},r.lC=function(){return this.DL.lC()},r.Kg=function(){return this.mI},r.u_=function(){return this.DL.u_()},r.ox=function(){return this.DL.Uw},r.ax=function(){return this.DL.Vw},r.nx=function(){return this.DL.d_},r.Ex=function(){return this.DL.E_},r.Cx=function(){return this.DL.R_},r.Ol=function(){var t=this;this.mI=void 0,Oe(this.FL),this.NL.Ol(),this.HL(this.NL),this.PL.Ns(),We(this.PL.TL(function(){var n=C.coroutine(Zr.mark(function n(i){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Me(i),n.next=3,t.DL.Ol();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.sr=function(){var t=this;this.Us(new MT),this.OL.sr(),this.TI(),this.Ol(),We(this.TL(C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.DL.sr();case 2:t.xL&&(t.xL.Uc(t),t.xL=void 0),t.PL.sr();case 4:case"end":return n.stop()}},n)})))),this.js()},r.HL=function(t){if(this._I!==t){var n=this._I.Ww,i=this._I.Uw,r=this._I.zw,e=this._I.$w;this.TI(),t===this.DL?((e||t.Uw!==i)&&(t.Uw=i),t.zw!==r&&(t.zw=r),n?t.nr():t.tr()):this.Gc.retainPlaybackRateOnSourceChange?t.zw=r:1!==r&&this.Us(new Hd(this.ox(),1)),this._I=t,this.bI();for(var u=0,o=this.FL;u<o.length;u++){var s=o[u];this.Us(s)}Oe(this.FL),this.kI?t.r_():t.e_()}},r.bI=function(){this._I.Hs(this.Bs)},r.TI=function(){this._I.Xs(this.Bs)},r.il=function(){return t=this,r=function(n){i=n;var r=ok(n,t.Gc);t.Jg(r)},e={get abr(){return t.nL.nl},get audioTracks(){return t.zg.nl},get autoplay(){return t.jg},set autoplay(n){t.jg=Boolean(n)},get buffered(){return t.nx()},get canvas(){return t.UP.nl},get clip(){return t.ZP.nl},get currentProgramDateTime(){var n;return null!=(n=t.l_)?n:null},set currentProgramDateTime(n){t.l_=null!=n?n:void 0},get currentTime(){return t.ox()},set currentTime(n){t.sx(Number(n))},get duration(){return t.ax()},get element(){return t.w_},get ended(){return t.qw},get error(){return t.lx()},get errorObject(){return t.wx()},get loop(){return t.Kx.Kx},set loop(n){t.Kx.Kx=Boolean(n)},get metrics(){return t.xg.nl},get muted(){return t.jw},set muted(n){t._x(n)},get network(){return t.uL.nl},get paused(){return t.Ww},get playbackRate(){return t.zw},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.zw=i},get played(){return t.Ex()},get poster(){return t.WL},set poster(n){t.WL=zv(n)},get preload(){return t.S_},set preload(n){t.S_=n},get presentation(){return t.VP.nl},get readyState(){return t.rw},get seekable(){return t.Cx()},get seeking(){return t.$w},get source(){return i},set source(t){r(t)},get src(){return Jm(t.Kg())},set src(t){r({sources:t})},get textTracks(){return t.Xg.nl},get textTrackStyle(){return t.oL.nl},get uid(){return t.zl},get videoHeight(){return t.Xw},get videoTracks(){return t.$g.nl},get videoWidth(){return t.Gw},get volume(){return t.Yw},set volume(n){t.Lx(Number(n))},destroy:function(){t.sr(),t=null,i=void 0},play:function(){t.VL()},pause:function(){t.nr()},stop:function(){i=void 0,t.Yg()},prepareWithUserAction:function(){t.hr()},addEventListener:function(t,i){n.Vs(t,i)},removeEventListener:function(t,i){n.Ws(t,i)},setSource:function(t){r(t)}},(n=new Tm(e,!0)).LC(t),e;var t,n,i,r,e},j(i,[{key:"BP",get:function(){return this.DL.BP}},{key:"UP",get:function(){return this.DL.UP}},{key:"Gc",get:function(){return this.DL.Gc}},{key:"MP",get:function(){return this.DL.MP}},{key:"Yd",get:function(){return this.DL.Yd}},{key:"UR",get:function(){return this.DL.HP}},{key:"VP",get:function(){return this.DL.VP}},{key:"qP",get:function(){return this.DL.qP}},{key:"Zx",get:function(){return this.DL.Zx}},{key:"nL",get:function(){return this.DL.nL}},{key:"jg",get:function(){return this.DL.jg},set:function(t){this.DL.jg=t,this.UL()}},{key:"iL",get:function(){return this.DL.iL}},{key:"zg",get:function(){return this.DL.zg}},{key:"rL",get:function(){return this.DL.rL}},{key:"eL",get:function(){return this.DL.qP}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"Gg",get:function(){return this.DL.Gg}},{key:"xg",get:function(){return this.DL.xg}},{key:"uL",get:function(){return this.DL.uL}},{key:"Xg",get:function(){return this.DL.Xg}},{key:"oL",get:function(){return this.DL.oL}},{key:"$g",get:function(){return this.DL.$g}},{key:"ZP",get:function(){return this.DL.ZP}},{key:"Kx",get:function(){return this.DL.Kx}},{key:"l_",get:function(){return this._I.l_},set:function(t){this._I.l_=t}},{key:"h_",get:function(){return this.DL.h_}},{key:"w_",get:function(){return this.DL.w_}},{key:"qw",get:function(){return this.DL.qw}},{key:"jw",get:function(){return this.DL.jw},set:function(t){this.DL.jw=t}},{key:"Ww",get:function(){return this._I.Ww}},{key:"WL",get:function(){return this.OL.wv||""},set:function(t){this.OL.AL=t}},{key:"zw",get:function(){return this.DL.zw},set:function(t){this._I.zw=t}},{key:"S_",get:function(){return this.DL.S_},set:function(t){this.DL.S_=Gp(t)}},{key:"rw",get:function(){return this._I.rw}},{key:"$w",get:function(){return this._I.$w}},{key:"zl",get:function(){return this.DL.zl}},{key:"Xw",get:function(){return this.DL.Xw}},{key:"Gw",get:function(){return this.DL.Gw}},{key:"Yw",get:function(){return this.DL.Yw},set:function(t){this.DL.Yw=t}}]),i}(ad)}je(function(){t.dispatchEvent&&t.dispatchEvent(ST("theoplayerready"))});var jT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return lu(t)},n.decode=function(t){return vu(t)},t}())},WT=NT.nl,zT=xg.$E.registerContentProtectionIntegration.bind(xg.$E),$T=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},XT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),GT=k(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?r.splice(o,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function YT(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function KT(t){return JSON.stringify(t,GT.getSerialize(YT))}var JT,QT=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),ZT=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),tE=k(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),nE=k(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=QT.isS,r=QT.isChar,e=QT.isNameStartChar,u=QT.isNameChar,o=QT.S_LIST,s=QT.NAME_RE,c=ZT.isChar,a=tE.isNCNameStartChar,f=tE.isNCNameChar,v=tE.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",y="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:l,xmlns:y},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,C=7,A=8,D=9,N=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,H=21,j=22,W=23,z=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,ot=39,st=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,Ct=8232,At=t=>34===t||39===t,Dt=[34,39],Nt=[...Dt,St,Tt],Ot=[...Dt,kt,Rt],xt=[bt,Et,...o],Pt=[...o,Tt,gt,kt];function Lt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==y&&t.fail(`xmlns prefix must be bound to ${y}.`)}switch(i){case y:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${y}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>v.test(t),Mt=t=>s.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Lt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ra}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new h("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ra=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new h(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Ct||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Ct:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===m,u=e?dt:r;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case m:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case p:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===m?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new h("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Nt);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:At(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:At(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=C,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?A:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?N:A}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=A)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=j:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Et||i(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Et;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(At(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ot:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();At(t)?(this.q=t,this.state=st):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=st);case dt:case m:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===Tt?this.openTag():t===pt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new h("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Ra=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let o,s;""===i?(o="xmlns"===n?y:"",s=n):(void 0===(o=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),o=i),s=`{${o}}${u}`),e.has(s)&&this.fail(`duplicate attribute: ${s}.`),e.add(s),t.uri=o,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),iE=function(){function t(){}return t.prototype.su=function(t){var n=new nE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new aE,r=[i];function e(t){r[r.length-1].bu(t)}return n.on("text",function(t){r.length>1&&e(new sE(t))}),n.on("cdata",function(t){e(new cE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,o=new uE({hu:n,du:""===i?void 0:i,zL:""===u?void 0:u}),s=t.attributes,c=0,a=d.keys(s);c<a.length;c++){var f=s[a[c]],h=f.prefix,v=f.local,l=f.uri,w=f.value,y=new rE({hu:v,wu:w,du:""===l?void 0:l,zL:""===h?void 0:h});o.$L(y)}e(o),r.push(o)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new sn(t)}),n.write(t).close(),i},t}(),rE=function(){function t(t){this.XL=void 0,this.GL=void 0,this.YL=void 0,this.En=void 0,this.XL=t.hu,this.En=t.wu,this.GL=t.du,this.YL=t.zL}var n=t.prototype;return n.au=function(t){return this===t||!!hE(this,t)&&(this.XL===t.XL&&this.GL===t.GL&&this.YL===t.YL&&this.En===t.En)},n.fu=function(){return new t({hu:this.hu,wu:this.wu,du:this.du,zL:this.lu})},j(t,[{key:"nu",get:function(){return nn.ru}},{key:"hu",get:function(){return this.XL}},{key:"vu",get:function(){return void 0===this.YL?this.XL:this.YL+":"+this.XL}},{key:"du",get:function(){return this.GL}},{key:"lu",get:function(){return this.YL}},{key:"wu",get:function(){return this.En}}]),t}(),eE=function(){function t(){this.gu=[]}var n=t.prototype;return n._u=function(t){return this.gu.filter(function(n){return fE(n)&&n.mu===t})},n.ku=function(t,n){return this.gu.filter(function(i){return fE(i)&&i.hu===n&&i.du===t})},n.bu=function(t){this.gu.push(t)},j(t,[{key:"pu",get:function(){return this.gu}},{key:"Eu",get:function(){return this.gu.filter(fE)}}]),t}(),uE=function(t){function n(n){var i;return(i=t.call(this)||this).XL=void 0,i.GL=void 0,i.YL=void 0,i.KL=[],i.XL=n.hu,i.GL=n.du,i.YL=n.zL,i}z(n,t);var i=n.prototype;return i.JL=function(t){for(var n=0,i=this.pu;n<i.length;n++){var r=i[n];fE(r)?r.JL(t):t.push(r.xu)}},i.Ru=function(t,n){for(var i=0,r=this.KL;i<r.length;i++){var e=r[i];if(e.hu===n&&e.du===t)return e.wu}},i.Su=function(t){for(var n=0,i=this.KL;n<i.length;n++){var r=i[n];if(r.vu===t)return r.wu}},i.$L=function(t){this.KL.push(t)},i.Iu=function(t){for(var n=0;n<this.KL.length;n++)if(this.KL[n].vu===t)return void this.KL.splice(n,1)},i.Cu=function(t,n){for(var i=0;i<this.KL.length;i++)if(this.KL[i].hu===n&&this.KL[i].du===t)return void this.KL.splice(i,1)},i.Au=function(t,n){this.Iu(t),this.$L(new rE({hu:t,wu:n}))},i.Du=function(t,n,i){this.Iu(n);var r=n.split(":");this.$L(new rE({hu:r[r.length-1],wu:i,du:t,zL:r.length>1?r[0]:void 0}))},i.fu=function(t){var i=new n({hu:this.hu,du:this.du,zL:this.lu});return this.Nu.forEach(function(t){return i.$L(t.fu())}),t&&this.pu.forEach(function(n){return i.bu(n.fu(t))}),i},i.au=function(t){return this===t||!!hE(this,t)&&(this.XL===t.XL&&this.YL===t.YL&&this.GL===t.GL&&(vE(this.Nu,t.Nu)&&vE(this.pu,t.pu)))},j(n,[{key:"nu",get:function(){return nn.iu}},{key:"Nu",get:function(){return this.KL}},{key:"hu",get:function(){return this.XL}},{key:"du",get:function(){return this.GL}},{key:"lu",get:function(){return this.YL}},{key:"mu",get:function(){return void 0===this.YL?this.XL:this.YL+":"+this.XL}},{key:"Ou",get:function(){var t=[];return this.JL(t),t.join("")}}]),n}(eE),oE=function(){function t(t){this.$i=void 0,this.$i=t}return j(t,[{key:"xu",get:function(){return this.$i}}]),t}(),sE=function(t){function n(n){return t.call(this,n)||this}z(n,t);var i=n.prototype;return i.fu=function(){return new n(this.xu)},i.au=function(t){return this===t||!!hE(this,t)&&this.xu===t.xu},j(n,[{key:"nu",get:function(){return nn.eu}}]),n}(oE),cE=function(t){function n(n){return t.call(this,n)||this}z(n,t);var i=n.prototype;return i.fu=function(){return new n(this.xu)},i.au=function(t){return this===t||!!hE(this,t)&&this.xu===t.xu},j(n,[{key:"nu",get:function(){return nn.uu}}]),n}(oE),aE=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.fu=function(t){var i=new n;return t&&this.pu.forEach(function(n){return i.bu(n.fu(t))}),i},i.au=function(t){return this===t||!!hE(this,t)&&vE(this.pu,t.pu)},j(n,[{key:"nu",get:function(){return nn.ou}},{key:"Pu",get:function(){return this.Eu[0]}}]),n}(eE);function fE(t){return rn(t)}function hE(t,n){return t.nu===n.nu}function vE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].au(n[i]))return!1;return!0}function dE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:te({},t,{adBreak:te({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Ig(t,["adBreak"])})})})}function lE(t){return void 0===t.ads?t:te({},t,{ads:t.ads.map(function(t){t.adBreak;return Ig(t,["adBreak"])})})}function wE(t){return"string"==typeof t.date?new Date(t.date):t.date}function yE(t){var n;return t.cue.track?(n=_E(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=_E(t.cue,""),n}function gE(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function _E(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new iE).su(r.firstChild.outerHTML).Pu.Nu.forEach(function(t){e[t.hu]=t.wu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if("object"==typeof(a=s)&&null!==a){var c=pE(s);u[o]={type:JT.QL,value:c}}else kE(s)?u[o]={type:JT.ZL,value:s}:u[o]={type:JT.tF,value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=pE(t.scte35Cmd),i.scte35Out=pE(t.scte35Out),i.scte35In=pE(t.scte35In),i.customAttributes=u}var a}(),i}function pE(t){if(void 0!==t)return lu(t)}function mE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(_E(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(_E(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function kE(t){return"number"==typeof t}!function(t){t.tF="daterange-ca-type_string",t.ZL="daterange-ca-type_number",t.QL="daterange-ca-type_arraybuffer"}(JT||(JT={}));var bE={cue:function(t){var n={};switch(n.date=wE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=yE(t)}return n},textTrack:function(t){var n={};switch(n.date=wE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=RE().register(t.cue));var i=SE()[IE()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=yE(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(_E(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=wE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=RE().register(t)}),n.track=mE(t.track);case"removetrack":case"change":n.track=mE(t.track)}return n},default:function(t){var n={};switch(n.date=wE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=te({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=mE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=lE(t.ad);break;case"adloaded":case"adimpression":n.ad=dE(t.ad);break;case"aderror":t.nF&&(n.nF=t.nF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=dE(t.ad)}return gE(n)},minimizeCueHelper:function(t){var n={};return n.date=wE(t),n.type=t.type,n.cue=yE(t),n.track={uid:t.cue.track.uid},n},adReplacer:dE,adBreakReplacer:lE,removeCircularReferences:gE},TE=function(){this.stringify=KT,this.minimize=bE};function EE(){return S.self}function SE(){return EE().THEOplayerBridge}function RE(){return EE().THEOCueMirrorMap}function IE(){return EE().THEOplayerGlobalID}function CE(){var t=EE();if(t.THEOplayerBridge){var n=new $T;t.THEOplayerBridge=Mv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new $T;t.THEOplayerUtils||(t.THEOplayerUtils=new TE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new XT)}CE();var AE=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.su=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new DE(n)},n}(cn),DE=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.fu=function(t){return new n(this.yu.cloneNode(t))},j(n,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=xE(this.yu.childNodes)),this.gu}},{key:"Pu",get:function(){return new NE(this.yu.documentElement)}}]),n}(wn),NE=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.fu=function(t){var i=new n(this.yu.cloneNode(t));return i.Nu.length<1&&this.Nu.length>0&&this.Nu.forEach(function(t){i.Au(t.vu,t.wu)}),i},j(n,[{key:"pu",get:function(){return void 0===this.gu&&(this.gu=xE(this.yu.childNodes)),this.gu}}]),n}(hn);function OE(t){switch(t.nodeType){case nn.iu:return new NE(t)}return gn(t)}function xE(t){for(var n=[],i=0;i<t.length;i++){var r=OE(t.item(i));r&&n.push(r)}return n}O(new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).iF=new AE,n}return z(n,t),n.prototype.su=function(t){return this.iF.su(t)},n}(kv)));var PE=function(t){function n(n){var i;(i=t.call(this)||this).rF=[],i.eF=function(t){i.Al(t.ul)},i.uF=function(t){var n=t.ul;i.oF(n)||i.Dl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.sF(e)}return i}z(n,t);var i=n.prototype;return i.sF=function(t){this.rF.push(t);for(var n=0,i=t.xl;n<i.length;n++){var r=i[n];this.Al(r)}this.cF(t)},i.aF=function(t){Ae(this.rF,t),this.fF(t);for(var n=0,i=t.xl;n<i.length;n++){var r=i[n];this.oF(r)||this.Dl(r)}},i.oF=function(t){for(var n=0,i=this.rF;n<i.length;n++){if(i[n].Nl(t))return!0}return!1},i.cF=function(t){t.Vs(pv.Kd,this.eF),t.Vs(pv.Qd,this.uF)},i.fF=function(t){t.Ws(pv.Kd,this.eF),t.Ws(pv.Qd,this.uF)},i.sr=function(){for(;this.rF.length>0;)this.aF(this.rF[0]);t.prototype.sr.call(this)},i.il=function(){return ud(this)},n}(Nv),LE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return z(n,t),n}(Qe),FE=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Us(new LE(t,n))},i.addEventListener=function(t,n){this.Vs(t,n)},i.removeEventListener=function(t,n){this.Ws(t,n)},n}(ad);function ME(t,n){return t.X_<=n&&t.G_>n}function BE(t,n){return function(t,n){return hl(t.X_,n.X_,uw)}(t,n)||function(t,n){return hl(t.G_,n.G_,uw)}(t,n)}function UE(t,n){var i=function(t,n,i,r,e,u,o){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var a=s+(c-s>>1),f=r(i(t[a]),n);if(f<0)s=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~s}(t,n,L,BE,!0);if(i<0)return i;for(;i<t.length&&BE(n,t[i])===rl.Kw;i++)if(t[i].ay(n))return i;return-(i+1)}function VE(t){var n=t.ul;if(!n)return-1;if(t instanceof ow)return n.hF(t);var i=n.ew;if(!i)return-1;var r=UE(i.xl,t);return r>=0?r:-1}var qE=function(t){function n(n,i){var r;return(r=t.call(this,Jl.q_,n)||this).Jy=i,r}return z(n,t),n.prototype.il=function(){return new HE(this.z_.nl)},n}(nw),HE=function(t){function n(n){return t.call(this,Ql.q_,n)||this}return z(n,t),n}(iw),jE=function(t){function n(n,i){var r;return(r=t.call(this,Jl.j_,n)||this).Jy=i,r}return z(n,t),n.prototype.il=function(){return new WE(this.z_.nl)},n}(nw),WE=function(t){function n(n){return t.call(this,Ql.j_,n)||this}return z(n,t),n}(iw),zE=function(t){function n(n){var i;return(i=t.call(this,Ev.fl)||this).z_=n,i}return z(n,t),n.prototype.il=function(){return new $E(this.z_.nl)},n}(Sv),$E=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return z(n,t),n}(Rv),XE=function(t){function n(n){var i;return(i=t.call(this,Ev.vl)||this).z_=n,i}return z(n,t),n.prototype.il=function(){return new GE(this.z_.nl)},n}(Sv),GE=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return z(n,t),n}(Rv),YE=function(t){function n(n){var i;return(i=t.call(this,Ev.ll)||this).ul=n,i}return z(n,t),n.prototype.il=function(){return new KE(this.ul.nl)},n}(Sv),KE=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return z(n,t),n}(Rv);function JE(t,n){return fl(t.Jy,n.Jy)||function(t,n){return t.ul===n.ul?al(VE(t),VE(n)):xy(t.ul,n.ul)}(t.z_,n.z_)||function(t,n){return t===n?rl.Kw:t===Jl.q_?rl.Qw:rl.Jw}(t.type,n.type)}var QE=function(){function t(t,n){var i=this;this._I=void 0,this.vF=void 0,this.qg=[],this.dF=0,this.lF=0,this.wF=[],this.yF=!1,this.gF=!1,this._F=void 0,this.pF=function(){i.dF=0,i.mF(),i.kF()},this.bF=function(){i.mF(),i.kF()},this.TF=function(){i.gF=!0,i._F=i._I.Uw,i.EF()},this.SF=function(){i.mF(),i.kF()},this.RF=function(){i.IF(),i.mF(),i.kF()},this.CF=function(){i.AF()},this.DF=function(t){Ae(i.wF,t.z_),i.AF()},this.vF=n,this._I=t,t.Vs(rs.Sf,this.bF),t.Vs(rs.vf,this.bF),t.Vs(xd.Bw,this.bF),t.Vs(rs.hf,this.bF),t.Vs(rs._f,this.TF),t.Vs(rs.gf,this.SF),this.AF()}var n=t.prototype;return n.Ol=function(){Oe(this.wF);for(var t=0,n=this.qg.slice();t<n.length;t++){var i=n[t];this.Dl(i)}this.EF(),this.dF=0,this.lF=0,this.yF=!1,this.gF=!1,this._F=void 0},n.Al=function(t){Ne(this.qg,t)||(this.qg.push(t),t.Vs(Ev.ol,this.CF),t.Vs(Ev.cl,this.DF),t.Vs(Ev.yl,this.RF),t.ew.Pl&&this.AF(),this.IF())},n.Dl=function(t){if(Ae(this.qg,t)){if(t.Ws(Ev.ol,this.CF),t.Ws(Ev.cl,this.DF),t.Ws(Ev.yl,this.RF),t.ew.Pl){for(var n=0,i=t.ew.xl;n<i.length;n++){var r=i[n];Ae(this.wF,r)}this.AF()}this.IF()}},n.IF=function(){this.yF=this.qg.some(function(t){return t.Zl!==Zv.iw})},n.kF=function(){this._I.$w||this._I.Ww?this.EF():this.AF()},n.AF=function(){this.yF&&(this.dF||(this.dF=this.vF._r(this.pF)))},n.EF=function(){this.dF&&(this.vF.NF(this.dF),this.dF=0)},n.mF=function(){var t;if(this.yF&&!this._I.$w){var n=this.qg,i=this.lF,r=null!=(t=this._F)?t:this._I.Uw,e=r-i<-.1,u=this.gF||e;u&&r>i&&r-i<.1&&(u=!1),this.gF=!1,this._F=void 0;for(var o,s=[],c=0;c<n.length;c++){var a=n[c];if(a.Zl!==Zv.iw){a.OF(r,u);for(var f=0,h=a.uw.xl;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.wF;else{o=[];for(var d=0;d<n.length;d++){var w=n[d];w.Zl!==Zv.iw&&Oy(w,i-1/6,r,o)}}for(var y=o.length-1;y>=0;y--)Ne(s,o[y])&&De(o,y);var g=[];if(!u)for(var _=o.length-1;_>=0;_--){var p=o[_];p.X_>=i&&p.G_<=r&&(g.push(p),De(o,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.ep||m.push(new qE(T,T.X_)),m.push(new jE(T,l.max(T.X_,T.G_)))}for(var E=0,S=o;E<S.length;E++){var R=S[E];R.ep&&(m.push(new jE(R,l.max(R.X_,R.G_))),R.ep=!1)}for(var I=0;I<s.length;I++){var C=s[I];C.ep||(m.push(new qE(C,C.X_)),C.ep=!0)}m.sort(JE);for(var A=0;A<m.length;A++){var D=m[A],N=D.z_;N.Us(D);var O=N.ul;O&&(D.type===Jl.q_?O.Us(new zE(N)):O.Us(new XE(N)),Ne(k,O)||k.push(O))}k.sort(xy);for(var x=0;x<k.length;x++){var P=k[x];P.Us(new YE(P))}this.lF=r,this.wF=s}},n.sr=function(){this.Ol(),this._I.Ws(rs.Sf,this.bF),this._I.Ws(rs.vf,this.bF),this._I.Ws(xd.Bw,this.bF),this._I.Ws(rs.hf,this.bF),this._I.Ws(rs._f,this.TF),this._I.Ws(rs.gf,this.SF)},t}(),ZE=function(){function t(){}var n=t.prototype;return n._r=function(t){return ub(t)},n.NF=function(t){ob(t)},t}(),tS=new ZE,nS=function(t){function n(n,i){return void 0===i&&(i=tS),t.call(this,n,i)||this}return z(n,t),n}(QE),iS=function(t){function n(){return t.call(this,rs.uf)||this}return z(n,t),n}(Qe),rS=function(t){function n(n){var i;return(i=t.call(this,rs.df)||this).currentTime=n,i}return z(n,t),n}(Qe),eS=function(t){function n(n,i){var r;return(r=t.call(this)||this).xF=void 0,r.PF=void 0,r.LF=function(t){r.xF.FF("THEOplayerABRSetTargetBuffer",t.LO),r.Us(t)},r.MF=function(t){r.xF.FF("THEOplayerABRSetStrategy",t.MO),r.Us(t)},r.xF=n,r.PF=i,r.PF.Vs("FO",r.LF),r.PF.Vs("BO",r.MF),r}return z(n,t),j(n,[{key:"XO",get:function(){var t;switch(this.MO.type){case Nb.PERFORMANCE:return 1;case Nb.QUALITY:return 0;case Nb.BANDWIDTH:return null!=(t=this.MO.metadata)&&t.bitrate&&!g(this.MO.metadata.bitrate)?this.MO.metadata.bitrate:0;default:return 0}}},{key:"nl",get:function(){return this.PF.nl}},{key:"MO",get:function(){return this.PF.MO},set:function(t){this.PF.MO=t}},{key:"LO",get:function(){return this.PF.LO},set:function(t){this.PF.LO=t}},{key:"UO",get:function(){return this.PF.UO},set:function(t){this.PF.UO=t}}]),n}(Ke),uS=function(){function t(t){this.BF=void 0,this.tl=void 0,this.BF=t}var n=t.prototype;return n.il=function(){return function(t){for(var n=[],i=0;i<t.Pl;i++)n[i]=t.cc(i).nl;return n.item=function(n){var i=0|n,r=t.cc(i);return r&&r.nl||void 0},d.defineProperty(n,"constructor",{value:ew}),n}(this)},n.C_=function(t){for(var n=this.BF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.ay(r))return!0}return!1},n.cc=function(t){return this.BF[t]},j(t,[{key:"xl",get:function(){return this.BF}},{key:"Pl",get:function(){return this.BF.length}},{key:"nl",get:function(){if(this.tl){var t=this.BF;this.tl.length=t.length;for(var n=0;n<t.length;n++)this.tl[n]=t[n].nl}else this.tl=this.il();return this.tl}}]),t}(),oS=function(t){function n(n,i){var r;return(r=t.call(this,Ev._l)||this).ul=n,r.rw=i,r}return z(n,t),n.prototype.il=function(){return new sS(this.ul.nl,od(this.rw))},n}(Sv),sS=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return z(n,t),n}(Rv),cS=function(t){function n(n){var i;return(i=t.call(this,Ev.ml)||this).ul=n,i}return z(n,t),n.prototype.il=function(){return new aS(this.ul.nl)},n}(Sv),aS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return z(n,t),n}(Rv),fS=function(t){function n(n){var i;return(i=t.call(this,Ev.ol)||this).z_=n,i}return z(n,t),n.prototype.il=function(){return new hS(this.z_.nl)},n}(Sv),hS=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return z(n,t),n}(Rv),vS=function(t){function n(n){var i;return(i=t.call(this,Ev.cl)||this).z_=n,i}return z(n,t),n.prototype.il=function(){return new dS(this.z_.nl)},n}(Sv),dS=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return z(n,t),n}(Rv),lS=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this)||this).tl=void 0,c.D_=void 0,c.O_=Hl(),c.UF=!1,c.VF=void 0,c.qF=void 0,c.N_=void 0,c.HF=void 0,c.MC=Zv.iw,c.jF=Gl.NONE,c.WF=void 0,c.Lu=void 0,c.BF=[],c.zF=[],c.XF=void 0,c.GF=void 0,c.YF=0,c.KF=0,c.D_=i||"",c.VF=s||"",c.qF=n,c.HF=e||"",c.UF=Boolean(u),c.Lu=o||Yl.DEFAULT,c.N_=r||"",c.XF=new uS(c.BF),c.GF=new uS(c.zF),c}z(n,t);var i=n.prototype;return i.JF=function(t){return Ce(this.XF.xl,function(n){return n.Wl===t})},i.il=function(){return rd(this)},i.QC=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Zv.iw:case Zv.nw:case Zv.tw:return n}}else if("number"==typeof t)switch(t){case 0:return Zv.iw;case 1:return Zv.nw;case 2:return Zv.tw}return Zv.iw}(t);n!==this.Zl&&(this.MC=n,n===Zv.iw&&(this.zF.forEach(function(t){t.ep=!1}),Oe(this.zF),this.KF=0))},i.BT=function(t){if(t&&!t.ul){var n=UE(this.ew.xl,t);if(!(n>=0)){t.ul=this;var i=-(n+1);this.BF.splice(i,0,t),this.QF(i),t.rp=i,i<this.KF&&(this.KF=i),this.Us(new fS(t))}}},i.ZF=function(t){if(t&&t.ul===this){var n=this.hF(t);if(!(n<0)){t.ep=!1;var i=this.zF,r=UE(i,t);r>=0&&De(i,r),De(this.BF,n),this.QF(n),t.rp=-1,this.KF>n&&--this.KF,this.Us(new vS(t))}}},i.OF=function(t,n){var i=this.zF,r=this.BF,e=this.KF,u=!1;n&&(e=0);for(var o=i.length-1;o>=0;o--){ME(i[o],t)||(u=!0,De(i,o))}for(;e<r.length&&r[e].X_<=t;){var s=r[e];if(0===t)break;ME(s,t)&&!Ne(i,s)&&(u=!0,i.push(s)),e++}u&&Re(i,BE),this.KF=e},i.hF=function(t){return(-1===t.rp||t.rp>=this.YF)&&this.tM(),t.rp},i.tM=function(){for(var t=this.BF,n=this.YF;n<t.length;n++)t[n].rp=n;this.YF=t.length},i.QF=function(t){t<this.YF&&(this.YF=t)},i.sr=function(){this.js();for(var t=this.BF.slice(),n=0;n<t.length;n++){t[n].sr()}Oe(this.BF),Oe(this.zF)},j(n,[{key:"uw",get:function(){return this.GF}},{key:"ew",get:function(){return this.XF}},{key:"VT",get:function(){return this.UF},set:function(t){this.UF=t}},{key:"nl",get:function(){return this.tl||(this.tl=this.il()),this.tl}},{key:"Wl",get:function(){return this.D_}},{key:"zl",get:function(){return this.O_}},{key:"Ql",get:function(){return this.VF},set:function(t){this.VF=t}},{key:"$l",get:function(){return this.qF}},{key:"Xl",get:function(){return this.N_},set:function(t){t!==this.N_&&(this.N_=t,this.Us(new Ul(this)))}},{key:"Gl",get:function(){return this.HF}},{key:"Zl",get:function(){return this.MC},set:function(t){this.QC(t),this.Us(new Ov(this))}},{key:"rw",get:function(){return this.jF},set:function(t){this.jF!==t&&(this.jF=t,this.Us(new oS(this,this.jF)))}},{key:"ow",get:function(){return this.WF},set:function(t){this.WF=t}},{key:"ss",get:function(){return this.Lu},set:function(t){this.Lu!==t&&(this.Lu=t,this.Us(new cS(this)))}}]),n}(Ke);function wS(t,n,i){for(var r=t[n].X_,e=n;e>=0&&t[e].X_===r;e--)t[e].G_=i}var yS,gS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).nM=void 0,e}return z(n,t),n.prototype.ay=function(n){return this===n||Vv(this,n)&&t.prototype.ay.call(this,n)&&(i=n,this.Y_===i.Y_);var i},j(n,[{key:"nl",get:function(){return this.tl||(this.tl=rw(this)),this.tl}}]),n}(ow),_S=function(t){function n(n,i,r){return void 0===r&&(r=Yl.DEFAULT),t.call(this,Ey.pm,"",i||"","",!1,r,n)||this}return z(n,t),n}(lS),pS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ss=Yl.ID3,r.nM=void 0,r}z(n,t);var i=n.prototype;return i.BT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].X_<t.X_)wS(n,i,t.X_);else{var r=n[0];if(r.X_>t.X_)t.G_=r.X_;else{var e=UE(n,t);if(!(e>=0)){var u=-(e+1),o=u-1;if(o>=0&&n[o].X_<t.X_&&wS(n,o,t.X_),u<n.length){var s=n[u];t.G_=s.X_}}}}}}(n,this.BF),t.prototype.BT.call(this,n)},i.il=function(){return rd(this)},n}(_S),mS=(rs.vf,rs.hf,xd.Bw,rs.Sf,rs.df,rs.uf,rs._f,rs.gf,rs.if,rs.lf,rs.Rf,rs.tf,xd._l,rs.yf,td.Jl,Ye.nc,Ye.rc,rs.Ja,rs.Ka,rs.If,{iM:!1,rM:50}),kS=function(){function t(t,n,i){this._a=void 0,this.ds=void 0,this.Da=void 0,this.$c=void 0,this._a=t,this.ds=i,this.Da=n}var n=t.prototype;return n.UT=function(t){throw new h("Not implemented yet.")},n.eM=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ds.gs(n.cs,i);case 2:return r=t.sent,t.next=5,r.na();case 5:return e=t.sent,t.next=8,this.uM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.oM=function(t){return!1},n.sM=function(t){return C.resolve(void 0)},n.Ss=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.uM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.uM=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.cM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.cM=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.$c)){t.next=5;break}return t.next=4,i.Qc(this.Da);case 4:this.$c=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Jc(this.Da);case 8:this.$c=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FT=function(t,n,i){throw new h("Not implemented yet.")},j(t,[{key:"Gc",get:function(){return this._a}},{key:"S_",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"R_",get:function(){return new tm([0,1/0])}},{key:"Xg",get:function(){throw new h("Not implemented yet.")}},{key:"aM",get:function(){throw new h("Not implemented yet")}},{key:"$g",get:function(){throw new h("Not implemented yet.")}},{key:"fM",get:function(){throw new h("Not implemented yet")}},{key:"hM",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.vM="webkitneedkey",t.dM="webkitkeymessage",t.lM="webkitkeyerror"}(yS||(yS={}));var bS,TS,ES=function(t){function n(n,i){var r;return(r=t.call(this,yS.vM)||this).initData=n,r.sessionId=i,r}return z(n,t),n}(Qe),SS=function(t){function n(n,i){var r;return(r=t.call(this,yS.dM)||this).message=n,r.destinationURL=i,r}return z(n,t),n}(Qe),RS=function(t){function n(){return t.call(this,yS.lM)||this}return z(n,t),n}(Qe),IS=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).ua=new so,o.pa=void 0,o.ca=new ou,o.ka=new so,o.wM=function(t){o.pa?(o.pa.Tc(void 0),o.pa=void 0):o.da("internal-error"),o.Us(new ru)},o.yM=function(t){o.pa&&(o.pa.bc(void 0),o.pa=void 0),o.Us(new iu(en(o),"license-request",uo(t.message).buffer,t.destinationURL||void 0))},o.wa=n,o.xc=i,o.gM=r,o.Ca=e,o.Ta=u,o}z(n,t);var i=n.prototype;return i.Mc=function(){var t=C.coroutine(Zr.mark(function t(n,i,r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Ea){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this._M(ro(i),e);case 5:this.da("usable"),this.ka.bc(),this.ka=new so;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Bc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Vc=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=ro(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.pa=new so,this.gM.Vc(this.Ca,i),t.next=7,this.pa.kc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ka;case 2:return this.gM.Ws(yS.dM,this.yM),this.gM.Ws(yS.lM,this.wM),this.ka.Ns(),this.ua.bc(void 0),t.abrupt("return",this.ua.kc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Uc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i._M=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Fo(n,i,this.Ta),this.gM.Vs(yS.dM,this.yM),this.gM.Vs(yS.lM,this.wM),this.gM.pM(this.Ca,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.da=function(t){this.ca.hc(),this.ca.fc(uu,t),this.Us(new nu(this))},j(n,[{key:"zc",get:function(){return this.Ca}},{key:"jc",get:function(){return NaN}},{key:"Hc",get:function(){return this.ua.kc}},{key:"Wc",get:function(){return this.ca}}]),n}(Ke),CS=function(){function t(t,n,i){this.mM=void 0,this.Ca=void 0,this.Ta=void 0,this.gM=void 0,this.xc=void 0,this._a=void 0,this.wa=void 0,this.gM=t,this.xc=n,this._a=i;var r=ko(i)||"video/mp4";this.wa=_o(r)}var i=t.prototype;return i.Yc=function(){var t=C.coroutine(Zr.mark(function t(i){var r;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ta){t.next=2;break}throw new Mo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new IS(this.wa,this.xc,this.gM,this.Ca,this.Ta),this.mM=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Kc=function(t){return this.Ta=ro(t),C.resolve(!0)},i.Jc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new h("Whoops.")},j(t,[{key:"Xc",get:function(){return this.xc}},{key:"Gc",get:function(){return this._a}},{key:"sessionId",set:function(t){this.Ca=t}}]),t}(),AS=function(){function t(t,n,i){this.kM=t,this.xc=n,this._a=i}var n=t.prototype;return n.ia=function(){return this._a},n.na=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new CS(this.kM,this.xc,this._a));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(t,[{key:"Xc",get:function(){return this.xc}}]),t}(),DS=function(){function t(t){this.kM=void 0,this.kM=t}return t.prototype.gs=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=po(NS,tu,n,e))){t.next=6;break}return t.abrupt("return",new AS(this.kM,n,u));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function NS(t,n){return t===_e}!function(t){t.VA="bM"}(bS||(bS={})),function(t){t.TM="EM"}(TS||(TS={}));var OS,xS;TS.TM;!function(t){t[t.SM=0]="SM",t[t.Of=1]="Of",t[t.RM=2]="RM"}(OS||(OS={})),function(t){t.IM="CM"}(xS||(xS={}));var PS;nt.Ve,rs.vf,rs.hf,rs._f,rs.gf,rs.if,rs.lf,xd._l,td.Jl,nt.Pe||nt.Le;!function(t){t.AM="closed",t.$v="open",t.if="ended"}(PS||(PS={}));var LS,FS;rs.Rf,rs.lf,rs._f,rs.vf,rs.hf,xd._l,rs.vf,rs.hf,rs._f,rs.gf,rs.if,td.Jl;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(LS||(LS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(FS||(FS={}));var MS=function(t){function n(n){var i;return(i=t.call(this,0,n.Y_)||this).DM=void 0,i.DM=n,i.G_=i.DM.X_,i}return z(n,t),j(n,[{key:"Wl",get:function(){return this.DM.Wl}},{key:"sp",get:function(){return this.DM.sp},set:function(t){this.DM.sp=t}},{key:"op",get:function(){return this.DM.op},set:function(t){this.DM.op=t}}]),n}(gS);function BS(t){return void 0===t.nM&&(t.nM=new MS(t)),t.nM}var US=function(t){function n(n,i){var r;(r=t.call(this,n.Ql,n.Xl)||this).NM=void 0,r.OM=void 0,r.xM=void 0,r.ss=Yl.ID3,r.PM=function(t){r.LM(t.z_)},r.FM=function(t){var n=t.z_;if(void 0!==n.nM){var i=n.nM;n.nM=void 0,r.ZF(i),i.sr()}},r.MM=function(t){var n=BS(t.z_);n.ep||r.BM(n),r.UM(n)},r.VM=function(t){var n=t.z_,i=BS(n);r.OM.Uw<n.X_&&r.BM(i)},r.qM=function(){var t=r.xM,n=r.Zl;if(r.xM=n,n===Zv.iw)r.zF.forEach(function(t){return t.ep=!1}),Oe(r.zF);else if(t===Zv.iw)for(var i=r.OM.Uw,e=0,u=r.BF;e<u.length;e++){var o=u[e];i<o.G_&&r.BM(o)}},r.OM=i,r.NM=n,r.xM=n.Zl,n.Vs(Ev.ol,r.PM),n.Vs(Ev.cl,r.FM),n.Vs(Ev.fl,r.MM),n.Vs(Ev.vl,r.VM),n.Vs(Ev.yl,r.qM);for(var e=0,u=r.NM.ew.xl;e<u.length;e++){var o=u[e];r.LM(o)}return r}z(n,t);var i=n.prototype;return i.BM=function(t){var n=UE(this.zF,t);if(!(n>=0)){var i=-(n+1);this.zF.splice(i,0,t),t.ep=!0,t.Us(new qE(t,this.OM.Uw)),this.Us(new zE(t)),this.Us(new YE(this))}},i.UM=function(t){var n=UE(this.zF,t);n>=0&&De(this.zF,n),t.ep=!1,t.Us(new jE(t,this.OM.Uw)),this.Us(new XE(t)),this.Us(new YE(this))},i.sr=function(){this.NM.Ws(Ev.ol,this.PM),this.NM.Ws(Ev.cl,this.FM),this.NM.Ws(Ev.fl,this.MM),this.NM.Ws(Ev.vl,this.VM),this.NM.Ws(Ev.yl,this.qM),t.prototype.sr.call(this)},i.LM=function(t){var n=BS(t);(this.BT(n),this.Zl!==Zv.iw)&&(this.OM.Uw<n.G_&&this.BM(n))},j(n,[{key:"$l",get:function(){return this.NM.$l}},{key:"Xl",get:function(){return this.NM.Xl},set:function(t){this.NM.Xl=t}},{key:"Gl",get:function(){return this.NM.Gl}},{key:"Wl",get:function(){return this.NM.Wl}},{key:"zl",get:function(){return this.NM.zl}},{key:"Ql",get:function(){return this.NM.Ql}},{key:"Zl",get:function(){return this.NM.Zl},set:function(t){this.NM.Zl=t}},{key:"rw",get:function(){return this.NM.rw}},{key:"ow",get:function(){return this.NM.ow}}]),n}(_S),VS=function(t){function n(n){var i;return(i=t.call(this)||this).OM=void 0,i.OM=n,i}z(n,t);var i=n.prototype;return i.Al=function(n){if(n.ss===Yl.ID3){var i=n;return i.nM||(i.nM=new US(i,this.OM)),t.prototype.Al.call(this,i.nM)}return t.prototype.Al.call(this,n)},i.Dl=function(n){if(n.ss===Yl.ID3){var i=n;return!!i.nM&&t.prototype.Dl.call(this,i.nM)}return t.prototype.Dl.call(this,n)},n}(sd),qS=function(t){function n(n,i){var r;return(r=t.call(this)||this).HM=new ce,r.eF=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.ul).ss){t.next=4;break}return t.next=4,i.Gs(Ev.ml);case 4:if(i.ss===Yl.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.ew.Pl){t.next=11;break}return t.next=9,i.Gs(Ev.ol);case 9:t.next=6;break;case 11:r.jM(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.uF=function(t){var n=t.ul;if(n.ss===Yl.ID3&&r.HM.has(n.zl)){var i=r.HM.get(n.zl);r.Dl(i),r.OT.UT(i),n.Ws(Ev.ol,r.LM)}},r.LM=function(t){HS(t.z_)&&r.WM(t.z_)},r.OT=n,r.zM=i,r.$M(),r}z(n,t);var i=n.prototype;return i.$M=function(){this.zM.Vs(pv.Kd,this.eF),this.zM.Vs(pv.Qd,this.uF)},i.XM=function(){this.zM.Ws(pv.Kd,this.eF),this.zM.Ws(pv.Qd,this.uF)},i.jM=function(t){var n=t.ew.xl[0];if(HS(n)){var i=function(t){var n=t.match(jS);if(!n)return;return{ul:n[1],Gl:n[2]}}(n.Y_.description),r=i.ul,e=i.Gl;if(!this.GM(r,e)){var u=this.OT.FT(Ey.gm,t.Wl,r,e,!1,Yl.TTML);this.Al(u),this.HM.set(t.zl,u);for(var o=0,s=t.ew.xl;o<s.length;o++){var c=s[o];HS(c)&&this.WM(c)}t.Vs(Ev.ol,this.LM)}}},i.GM=function(t,n){return!!Ce(this.fk.xl,function(i){return i.Xl===t&&i.Gl===n})},i.WM=function(t){if(t.ul)for(var n=this.HM.get(t.ul.zl),i=ly(t.Y_.text,0,{bp:0,Tp:1/0,Ep:-t.G_}),r=0;r<i.length;r++){var e=i[r];n.BT(e)}},i.Ol=function(){var n=C.coroutine(Zr.mark(function n(){var i,r,e,u,o;return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.zM.xl;i<r.length;i++)r[i].Ws(Ev.ol,this.LM);for(e=0,u=this.fk.xl;e<u.length;e++)o=u[e],this.OT.UT(o);return this.HM.clear(),n.next=5,t.prototype.Ol.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sr=function(){var n=C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.XM(),n.next=3,t.prototype.sr.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Ry);function HS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Y_)&&jS.test(n.description);var n}var jS=/^Track:(.+),Lang:(.+)$/;var WS,zS;new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).tl=void 0,n}return z(n,t),j(n,[{key:"nl",get:function(){return this.tl||(this.tl=vT(this)),this.tl}},{key:"RP",get:function(){}},{key:"IP",get:function(){}},{key:"CP",get:function(){}},{key:"AP",get:function(){}},{key:"DP",get:function(){}},{key:"NP",get:function(){}},{key:"OP",get:function(){}}]),n}(Ke));!function(t){t.YM='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.KM='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.JM='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.QM='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(WS||(WS={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(zS||(zS={}));var $S,XS;re({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),re({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),zS.WHITE,zS.TRANSPARENT,zS.TRANSPARENT;!function(t){t.ZM="Data",t.tB="Tag",t.nB="StartTag",t.iB="StartTagClass",t.rB="StartTagAnnotation",t.eB="CharRefInAnnotation",t.uB="EndTag",t.oB="TimestampTag"}($S||($S={})),function(t){t.tF="string",t.sB="starttag",t.cB="endtag",t.aB="timestamp"}(XS||(XS={}));var GS,YS;zS.WHITE,zS.TRANSPARENT;!function(t){t[t.fB=0]="fB",t[t.hB=1]="hB",t[t.vB=2]="vB",t[t.dB=3]="dB",t[t.lB=4]="lB",t[t.wB=5]="wB"}(GS||(GS={})),function(t){t[t.yB=0]="yB",t[t.gB=1]="gB",t[t._B=2]="_B",t[t.pB=3]="pB"}(YS||(YS={}));var KS,JS;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.wI=0]="wI",t[t.mB=1]="mB",t[t.kB=2]="kB",t[t.bB=3]="bB",t[t.eu=4]="eu"}(KS||(KS={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(JS||(JS={}));var QS;zS.WHITE,WS.JM,zS.BLACK,JS.FONT_REGULAR,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.GREEN,JS.FONT_REGULAR,zS.GREEN,JS.FONT_UNDERLINE,zS.BLUE,JS.FONT_REGULAR,zS.BLUE,JS.FONT_UNDERLINE,zS.CYAN,JS.FONT_REGULAR,zS.CYAN,JS.FONT_UNDERLINE,zS.RED,JS.FONT_REGULAR,zS.RED,JS.FONT_UNDERLINE,zS.YELLOW,JS.FONT_REGULAR,zS.YELLOW,JS.FONT_UNDERLINE,zS.MAGENTA,JS.FONT_REGULAR,zS.MAGENTA,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_ITALICS,zS.WHITE,JS.FONT_UNDERLINE_ITALICS,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE,zS.WHITE,JS.FONT_REGULAR,zS.WHITE,JS.FONT_UNDERLINE;!function(t){t.TB="HELLO",t.EB="HI_THERE",t.SB="INITIALIZE",t.RB="APPEND_INIT",t.IB="APPEND_DATA",t.CB="ACK",t.AB="REMOVE",t.DB="DESTROY_SESSION"}(QS||(QS={}));var ZS=yl.Ry,tR=new yl(-1/0),nR=yl.sg,iR=new(function(t){function n(n,i){return t.call(this,n,i)||this}z(n,t);var i=n.prototype;return i.iy=function(t,n){return t.hy(n)?rl.Qw:t.ay(n)?rl.Kw:rl.Jw},i.gy=function(t,n){return t.gy(n)},i.yy=function(t,n){return t.yy(n)},i.sy=function(t,n){return t.sy(n)},i.VI=function(){return ZS},i.qI=function(){return nR},i.zI=function(){return tR},n.aC=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new yl(t.start(r)),new yl(t.end(r)));return new n(i)},n.NB=function(t){for(var i=[],r=[],e=0;e<t.Pl;e++)i.push(new yl(t.CI(e))),i.push(new yl(t.DI(e))),r.push(t.AI(e)),r.push(t.NI(e));return new n(i,r)},n.hC=function(t){return new n([t,t],[!0,!0])},i.BI=function(t,i){return new n(t,i)},i.FI=function(t){return t.ug},n.vC=function(){return iR},n}(Zp))([]),rR=(Fl.Av,Fl.Dv,function(t){function n(n){var i;return(i=t.call(this,rs.Ka)||this).errorObject=void 0,i.errorObject=n,i}return z(n,t),j(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Qe)),eR=function(t){function n(){return t.call(this,rs.Ja)||this}return z(n,t),n}(Qe),uR=function(t){function n(n){var i;return(i=t.call(this,"Cf")||this).OB=n,i}return z(n,t),n}(Qe),oR=new OT,sR=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).Hc=void 0,u.Pi=!1,u.xB=!1,u.Od=new Pe,u.Oc=function(t){switch(t.Qs){case"license-request":u.kE(t.Js,t.Zs).catch(function(t){return u.ha(t)});break;default:u.ha(new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Qs))}},u.PB=function(t){u.LB.Wc.ac(function(t,n){switch(t){case"usable":D.Ro(function(){u.xB=!0,u.Us(new eR)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Us(new uR(n))}})},u.FB=function(t){u.ha(new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.LB=i,u.MB=r,u.BB=e,i.Vs("Js",u.Oc),i.Vs("Ks",u.PB),i.Vs("tc",u.FB),u.Hc=i.Hc.then(function(){return u.UB()}),u}z(i,t);var r=i.prototype;return r.Mc=function(){var t=this;return this.Pi=!0,oR.TL(function(n){return t.VB(n)},this.Od.Ps)},r.VB=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Me(i),t.next=4,this.MB.lE(i);case 4:return t.next=6,this.MB.wE(this.BB.as,this.BB.uc,i);case 6:return r=t.sent,t.next=9,this.LB.Mc(this.BB.as,this.BB.uc,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),Be(t.t0),e=t.t0 instanceof vo?t.t0.Sc:void 0,u=new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ha(u),u;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.kE=function(){var t=C.coroutine(Zr.mark(function t(i,r){var e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!ao(i)){t.next=7;break}return t.next=4,this.MB.AE(new _(i),this.Od.Ps);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.MB.DE(new _(i),r,this.Od.Ps);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Fe(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.LB.Vc(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),u=t.t1 instanceof vo?t.t1.Sc:void 0,new Ol(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ha=function(t){var i=t instanceof Ol?t:new Ol(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Us(new rR(i)),this.Fc()},r.UB=function(){this.LB.Ws("Js",this.Oc),this.LB.Ws("Ks",this.PB),this.LB.Ws("tc",this.FB),this.xB=!1,this.Od.Ns()},r.Fc=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.js(),this.UB(),t.next=4,this.LB.Fc().catch(P);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Ke),cR=[rs.Ja,rs.Ka,rs.If],aR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).xc=void 0,e.$c=void 0,e.qB=void 0,e.HB=[],e.jB=void 0,e.WB=[],e.xc=n,e.$c=i,e.qB=r,e}z(n,t);var i=n.prototype;return i.CE=function(){return this.qB.CE()},i.zB=function(t){return this.jB||(this.jB=this.$B(t)),this.jB},i.$B=function(){var t=C.coroutine(Zr.mark(function t(n){var i;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Me(n),t.next=3,this.qB.AE(new _(co()),n);case 3:return i=t.sent,Me(n),t.next=7,this.$c.Kc(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pM=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e=this;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.WB.push(n),t.next=4,this.$c.Yc("temporary");case 4:return i=t.sent,r=new sR(i,this.qB,n),this.HB.push(r),r.Vs(cR,this.Bs),r.Hc.then(function(){return e.XB(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ae(this.WB,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.GB=function(t){if(t.YB)return!1;for(var n=0,i=this.HB;n<i.length;n++){if(fR(i[n].BB,t))return!0}for(var r=0,e=this.WB;r<e.length;r++){if(fR(e[r],t))return!0}return!1},i.XB=function(t){t.Ws(cR,this.Bs),Ae(this.HB,t)},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.js(),n=this.HB.slice(),Oe(this.HB),t.next=5,C.all(n.map(function(t){return t.Fc()}));case 5:this.qB.Ss();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"Xc",get:function(){return this.xc}}]),n}(Ke);function fR(t,n){return!t.YB&&t.as===n.as&&gu(t.uc,n.uc)}var hR=function(t){function i(n){var i;return(i=t.call(this)||this).tR=void 0,i.Od=new Pe,i.PL=new OT,i._a=void 0,i.qB=void 0,i.nR=void 0,i.xc=void 0,i.KB=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.JB(n.as,n.uc,i.Od.Ps);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Fe(t.t0)||i.ha(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.tR=n,i.tR.Vs(Ye.nc,i.KB),i}z(i,t);var r=i.prototype;return r.Bc=function(t,n){this.nR=t,this.sM(n)},r.sM=function(t){this._a=t,this.QB(this.Od.Ps).catch(Ue)},r.QB=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!D.Uo.fo){t.next=5;break}return t.next=3,this.ZB(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this._a||!this._a.tU){t.next=9;break}return t.next=8,this.nU(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ZB=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this._a)?void 0:i.AR){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,u=null!=(o=null==(s=this._a)?void 0:s.AR)?o:[];case 5:if(!(e<u.length)){t.next=27;break}c=u[e],a=0,f=null!=(h=c.JS)?h:[];case 8:if(!(a<f.length)){t.next=22;break}return v=f[a],t.prev=10,t.next=13,this.JB(c.Xc.as,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),Be(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.JB=function(){var t=C.coroutine(Zr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v,d,l;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Me(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this._a&&this._a.AR.length){t.next=5;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===fe||i===ve||i===he){t.next=8;break}return t.abrupt("return");case 8:u=Qg(i,r),o=this._a.AR,c=0;case 11:if(!(c<o.length)){t.next=42;break}if(a=o[c],Me(e),(f=u[a.Xc.fs])&&a.Xc.as===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.iU(a,e);case 20:if(!(h=t.sent).CE()){t.next=24;break}return t.next=24,h.zB();case 24:if(v=this.tR.y_,d={as:a.Xc.as,uc:f,YB:v},!this.rU(h,d)){t.next=32;break}return t.next=29,h.pM(d);case 29:return l=t.sent,t.next=32,l.Mc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Be(t.t0),s=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,D.Do();case 44:if(!t.sent){t.next=48;break}throw new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.nU=function(){var t=C.coroutine(Zr.mark(function t(n){var i,r,e,u,o;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this._a)?void 0:i.AR){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return u=r[e],Me(n),t.prev=7,t.next=10,this.iU(u,n);case 10:if(!(o=t.sent).CE()){t.next=14;break}return t.next=14,o.zB();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Be(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.rU=function(t,n){return D.Uo.ao||!t.GB(n)},r.iU=function(t,n){var i=this;return this.PL.TL(function(n){return i.eU(t,n)},n)},r.eU=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u,o,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Me(i),this._a&&this.qB&&this.nR){t.next=3;break}throw new h("Not initialized");case 3:if(!this.xc){t.next=7;break}if(this.xc.Xc===n.Xc){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.xc);case 7:return r=this.qB,e=te({},n,{WR:n.WR.map(function(t){var i;return te({},t,{persistentState:null!=(i=t.persistentState)?i:r.KE(n.Xc),ra:t.ra||r.ra(n.Xc)})})}),t.next=11,this.nR.eM(e.Xc,e.WR);case 11:return u=t.sent,o=r.KS(e),(s=new aR(e.Xc,u,o)).Vs([rs.Ja,rs.Ka,rs.If],this.Bs),this.xc=s,t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ha=function(t){var i=t instanceof Ol?t:new Ol(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Us(new rR(i))},r.Ol=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nR=void 0,this._a=void 0,this.Od.Ns(),this.Od=new Pe,t.next=6,this.uU();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.uU=function(){var t=C.coroutine(Zr.mark(function t(){var n;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.PL.Ns();case 2:if(!(n=this.xc)){t.next=8;break}return n.Ws(rs.If,this.Bs),this.xc=void 0,t.next=8,n.sr();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ss=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.js(),this.tR.Ws(Ye.nc,this.KB),t.next=4,this.Ol();case 4:return t.next=6,this.PL.sr();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(i,[{key:"oU",get:function(){var t;return null==(t=this.xc)?void 0:t.Xc}},{key:"RR",get:function(){return this.qB},set:function(t){this.qB=t}}]),i}(Ke);nt.Pe||nt.Le,nt.Qe,nt.Ve;var vR=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.rU=function(t,n){return!0},n}(hR),dR=function(t){function n(n,i,r){var e;return void 0===r&&(r=new DS(i)),(e=t.call(this)||this).nR=void 0,e.ds=void 0,e.sU=void 0,e.cU=new OT,e.aU=void 0,e.kM=void 0,e.fU=!1,e.Ca=void 0,e.ba=null,e.hU={g_:0,__:0,p_:0,m_:0,k_:0,b_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.vU=function(t){"boolean"==typeof t.detail.casting&&(e.fU=t.detail.casting,e.Us(new tw(e.fU)))},e.dU=function(t){e.Ca=t.sessionId,e.ba&&(e.ba.sessionId=e.Ca);var n=t.initData;if(n){var i=function(t){try{var n=to(t),i=new oo;return Xu(Gu(Ou(n,i,Fu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;e.Us(new eu(ve,i))}else e.Us(new eu(ve,new ArrayBuffer(0)))},e.aU=n,e.kM=i,e.kM.Vs(yS.vM,e.dU),e.ds=r,e.sU=new vR(en(e)),e.lU(),e}z(n,t);var i=n.prototype;return i.wU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.ss===Wy.qT)return i}},i.Ss=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ol();case 2:return this.js(),this.yU(),this.kM.Ws(yS.vM,this.dU),t.next=7,this.sU.Ss();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.e_=function(){throw new h("Not implemented yet")},i.FT=function(t,n,i,r,e,u,o){throw new h("Not implemented yet")},i.PR=function(){return!1},i.FR=function(t,n,i,r){throw new h("Not implemented yet")},i.UT=function(t){throw new h("Not implemented yet")},i.qR=function(){throw new h("Not implemented yet")},i.Bc=function(){var t=C.coroutine(Zr.mark(function t(n){var i=this;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cU.TL(function(){var t=C.coroutine(Zr.mark(function t(r){var e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ss!==Wy.qT){t.next=8;break}return Me(r),e=new kS(n,i,i.ds),i.nR=e,i.sU.Bc(e,n),t.abrupt("return",e);case 8:throw new h("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nr=function(){throw new h("Not implemented yet")},i.tr=function(){throw new h("Not implemented yet")},i.Ol=function(){var t=this;return this.cU.Ns(),this.cU.TL(C.coroutine(Zr.mark(function n(){return Zr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.nR){n.next=4;break}return n.next=3,t.nR.Ss();case 3:t.nR=void 0;case 4:return n.next=6,t.sU.Ol();case 6:case"end":return n.stop()}},n)})))},i.wc=function(t,n){throw new h("Not implemented yet")},i.XR=function(t){throw new h("Not implemented yet")},i.r_=function(){throw new h("Not implemented yet")},i.GR=function(){return this.hU},i.lU=function(){this.aU.addEventListener("airPlayIsCasting",this.vU)},i.yU=function(){this.aU.removeEventListener("airPlayIsCasting",this.vU)},i.webkitSetMediaKeys=function(t){this.ba=t||null,this.ba&&(this.ba.sessionId=this.Ca)},i.gU=function(){},i._U=function(){throw new h("Not implemented yet")},i.pU=function(){throw new h("Not implemented yet")},j(n,[{key:"l_",get:function(){throw new h("Not implemented yet")}},{key:"d_",get:function(){throw new h("Not implemented yet")}},{key:"Uw",get:function(){throw new h("Not implemented yet")}},{key:"eL",get:function(){throw new h("Not implemented yet")}},{key:"Vw",get:function(){throw new h("Not implemented yet")}},{key:"qw",get:function(){throw new h("Not implemented yet")}},{key:"tc",get:function(){throw new h("Not implemented yet")}},{key:"Rk",get:function(){throw new h("Not implemented yet")}},{key:"y_",get:function(){return this.fU}},{key:"jw",get:function(){throw new h("Not implemented yet")}},{key:"Ww",get:function(){throw new h("Not implemented yet")}},{key:"zw",get:function(){throw new h("Not implemented yet")}},{key:"E_",get:function(){throw new h("Not implemented yet")}},{key:"rw",get:function(){throw new h("Not implemented yet")}},{key:"R_",get:function(){throw new h("Not implemented yet")}},{key:"$w",get:function(){throw new h("Not implemented yet")}},{key:"mU",get:function(){throw new h("Not implemented yet")}},{key:"Yw",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"lo",get:function(){throw new h("Not implemented yet")}},{key:"UR",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.ba}},{key:"kU",get:function(){return mS}},{key:"Xg",get:function(){throw new h("Not implemented yet")}},{key:"oL",get:function(){throw new h("Not implemented yet")}},{key:"YR",get:function(){throw new h("Not implemented yet")}},{key:"bU",get:function(){return!0}},{key:"RR",get:function(){return this.sU.RR},set:function(t){this.sU.RR=t}},{key:"oU",get:function(){return this.sU.oU}}]),n}(cd),lR=function(t){function n(n){var i;return(i=t.call(this,rs.Af)||this).hU=n,i}return z(n,t),n}(Qe);var wR=function(t){function n(n){return t.call(this,Jl.bl,n)||this}return z(n,t),n.prototype.il=function(){return new yR(this.z_.nl)},n}(nw),yR=function(t){function n(n){return t.call(this,Ql.bl,n)||this}return z(n,t),n}(iw),gR=function(t){function n(n,i){var r,e=_R(i,n.Vw,n.YR,n.TU);return(r=t.call(this,i,e,void 0,!1,n.Wl)||this).EU=void 0,r.SU=void 0,r.RU=void 0,r.IU=void 0,r.CU=void 0,r.AU=void 0,r.DU=void 0,r.NU=void 0,r.OU=void 0,r.xU=void 0,r.EU=n.PU,r.SU=n.YR,r.RU=n.TU,r.IU=n.Vw,r.CU=n.LU,r.AU=Boolean(n.FU),r.DU=n.MU||{},r.NU=n.BU,r.OU=n.UU,r.xU=n.VU,r.qU(),r.HU(),r}z(n,t);var i=n.prototype;return i.Vc=function(t){var n=!1;void 0===this.EU&&void 0!==t.PU&&(n=!0,this.EU=t.PU),void 0===this.RU&&void 0!==t.TU&&(n=!0,this.RU=t.TU),void 0===this.IU&&void 0!==t.Vw&&(n=!0,this.IU=t.Vw),void 0===this.CU&&void 0!==t.LU&&(n=!0,this.CU=t.LU),!this.AU&&t.FU&&(n=!0,this.AU=t.FU),n=this.updateCustomAttributes(t,n),void 0===this.NU&&void 0!==t.BU&&(n=!0,this.NU=t.BU),void 0===this.OU&&void 0!==t.UU&&(n=!0,this.OU=t.UU),void 0===this.xU&&void 0!==t.VU&&(n=!0,this.xU=t.VU),this.qU(),this.HU(),this.jU(),n&&this.Us(new wR(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.MU)for(var r=0,e=d.keys(t.MU);r<e.length;r++){var u=e[r];void 0===this.DU[u]&&(i=!0,this.DU[u]=t.MU[u])}return i},i.qU=function(){this.IU&&!this.RU&&(this.RU=new Date(this.SU.getTime()+1e3*this.IU))},i.HU=function(){this.RU&&!this.IU&&(this.IU=tn(this.RU.getTime()-this.SU.getTime()))},i.jU=function(){this.J_===1/0&&(this.RU||this.IU)&&(this.J_=_R(this.K_,this.IU,this.SU,this.RU))},j(n,[{key:"nl",get:function(){var t;return this.tl||(this.tl=Mv(rw(t=this),{get content(){return t.Y_},get class(){return t.PU},get startDate(){return t.YR},get endDate(){return t.TU},get duration(){return t.Vw},get plannedDuration(){return t.LU},get endOnNext(){return t.FU},get scte35Cmd(){return t.BU},get scte35Out(){return t.UU},get scte35In(){return t.VU},get customAttributes(){return t.MU}})),this.tl}},{key:"PU",get:function(){return this.EU}},{key:"YR",get:function(){return this.SU}},{key:"TU",get:function(){return this.RU}},{key:"Vw",get:function(){return this.IU}},{key:"LU",get:function(){return this.CU}},{key:"FU",get:function(){return this.AU}},{key:"BU",get:function(){return this.NU}},{key:"UU",get:function(){return this.OU}},{key:"VU",get:function(){return this.xU}},{key:"MU",get:function(){return this.DU}}]),n}(ow);function _R(t,n,i,r){return et(n)?t+n:r?t+(tn(r.getTime())-tn(i.getTime())):1/0}var pR,mR=function(t){function n(){return t.call(this,void 0,void 0,Yl.DATE_RANGE)||this}z(n,t);var i=n.prototype;return i.Vc=function(t,n){for(var i=this,r=function(t){for(var n=ie(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Wl)){var u=n.get(e.Wl),o=te({},u,qv(e),{MU:te({},u.MU,e.MU)});n.set(e.Wl,o)}else n.set(e.Wl,e),i.push(e.Wl)}return i.map(function(t){return n.get(t)})}(t),e=this.ew.xl,u=function(t){var n=e[t],u=Ce(r,function(t){return t.Wl===n.Wl});u?n.Vc(u):i.ZF(n)},o=e.length-1;o>=0;o--)u(o);for(var s=0;s<r.length;s++){var c=r[s],a=c.YR;if(void 0!==a&&!this.JF(c.Wl)){var f=n(a);this.BT(new gR(c,f))}}},i.BT=function(n){this.WU(n),t.prototype.BT.call(this,n)},i.WU=function(t){var n=this.BF.filter(function(n){return n.PU===t.PU}).pop();n&&n.FU&&n.Vc({Wl:n.Wl,TU:t.YR})},n}(_S);function kR(t){switch(t.type){case pR.tF:return t.value;case pR.ZL:return jv(t.value);case pR.QL:return vu(t.value);default:return}}function bR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.tF="daterange-ca-type_string",t.ZL="daterange-ca-type_number",t.QL="daterange-ca-type_arraybuffer"}(pR||(pR={}));var TR,ER,SR,RR=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,e,i,r)||this).RS=void 0,o.zU=void 0,o.RS=n,o.zU=u,o}return z(n,t),j(n,[{key:"name",get:function(){return this.RS}},{key:"timestamp",get:function(){return this.zU}}]),n}(Mo),IR=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r,e,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=o,a.errorComment=s,a}return z(n,t),n}(RR),CR=function(){function t(t,n){this.qg=void 0,this.$U=void 0,this.qg=new Sy,this.$U=new QE(t,n)}var n=t.prototype;return n.FT=function(t,n,i,r,e,u){var o=new lS(t,n,i,r,e,u);return this.qg.Al(o),this.$U.Al(o),o},n.UT=function(t){this.qg.Dl(t),this.$U.Dl(t)},n.Ol=function(){this.qg.Ol(),this.$U.Ol()},n.sr=function(){this.qg.sr(),this.$U.sr()},j(t,[{key:"Xg",get:function(){return this.qg}}]),t}(),AR=function(t){function n(n,i,r,e,u){var o;(o=t.call(this)||this).yC=0,o.XU=!1,o.iR=void 0,o.rR=void 0,o.GU=void 0,o._C=!0,o.pC=1,o.Ug=void 0,o.Vg=void 0,o.YU=void 0,o.KU=void 0,o.JU=void 0,o.qg=void 0,o.OT=void 0,o.IU=void 0,o.QU=tm.vC(),o.ZU=tm.vC(),o.gC=!1,o.tV=tm.vC(),o.mC=void 0,o.nV=void 0,o.iV=void 0,o.jF=_d.Cw,o.jT=_d.Cw,o.aU=void 0,o.$U=void 0,o.oR=void 0,o.xF=void 0,o.rV=void 0,o.SC=void 0,o.tR=void 0,o.sR=void 0,o.kM=void 0,o.hU={g_:0,__:0,p_:0,m_:0,k_:0,b_:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.nR=void 0,o.eV=void 0,o.aR=new Fp,o.setCurrentTime=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.R_.length){t.next=4;break}return o.yC=n,t.next=4,o.aU.Gs("seekablechange");case 4:o.yC=o.updateCurrentTime(n),o.xF.FF("THEOplayerSetCurrentTime",o.yC),o.mC=!0,o.Us(new $d(o.yC));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.uV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.QU=new tm(i),o.Us(new rS(o.Uw))}},o.oV=function(t){o.jF=t.detail.readyState,o.Us(new Yd(+t.detail.currentTime,o.rw)),o.sV()},o.cV=function(t){o.jF=t.detail.readyState,o.Us(new Kd(+t.detail.currentTime,o.rw)),o.sV()},o.aV=function(t){if(t.detail){var n=+t.detail.duration;o.IU=n,o.Us(new qd(o.Vw))}},o.fV=function(t){t.detail&&(o.XU=!0,o.Us(new Wd(+t.detail.currentTime)))},o.fR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);bR(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.rR=new IR(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),o.iR=Ll(o.rR),o.Us(new Qd(o.rR))):bR(i)&&(o.rR=new RR(i.name,i.message,void 0,i.code,i.timestamp),o.iR=Ll(o.rR),o.Us(new Qd(o.rR)))}},o.hV=function(t){o.Us(new iS)},o.vV=function(t){o.jF=t.detail.readyState,o.Us(new zd(+t.detail.currentTime,o.rw)),o.sV()},o.dV=function(){var t=C.coroutine(Zr.mark(function t(n){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.R_.length){t.next=3;break}return t.next=3,o.aU.Gs("seekablechange");case 3:o.jF=n.detail.readyState,o.Us(new Vd(+n.detail.currentTime,o.rw)),o.sV();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.lV=function(t){t.detail&&o.Us(new Fd(+t.detail.currentTime))},o.wV=function(t){t.detail&&(o._C||(o._C=!0,o.Us(new Ld(+t.detail.currentTime))))},o.yV=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.tV=new tm(i).XI(.05)}},o.gV=function(t){t.detail&&o.Us(new rg(+t.detail.currentTime))},o._V=function(t){t.detail&&(o.pC=t.detail.playbackRate,o.Us(new Hd(+t.detail.currentTime,o.pC)))},o.pV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.ZU=new tm(i)}},o.mV=function(t){t.detail&&(o.yC=+t.detail.currentTime,o.mC=!1,o.Us(new jd(o.yC,o.GU)),o.Us(new Xd(o.yC)))},o.kV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.IU&&(o.XU=!1),o.mC=!0,o.Us(new $d(n))}},o.bV=function(t){t.detail&&(t.detail.currentDate&&(o.GU=new Date(1e3*t.detail.currentDate)),o.yC=+t.detail.currentTime,o.Us(new jd(o.yC,o.GU)))},o.TV=function(t){o.nV=t.detail.height,o.iV=t.detail.width},o.EV=function(t){t.detail&&o.Us(new ig(+t.detail.currentTime))},o.SV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.zg.Al(new $l(n))},o.RV=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<o.Ug.Pl;u++){var s=o.zg.Cl(u);s.Gl==r&&s.Xl==e?i=o.Ug.Cl(u):1==s.jl&&(n=o.Ug.Cl(u))}i&&n&&(i.jl=!0,n.jl=!1)},o.IV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.$g.Al(new Zl(n))},o.CV=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Ey.pm&&r===Yl.ID3?(n=new pS("",t.detail.label)).Zl=Zv.nw:i===Ey.pm&&r===Yl.DATE_RANGE?(n=new mR,o.eV=n):n=new lS(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),o.YU.Al(n),o.$U.Al(n)},o.AV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var s=new gS(jv(r.startTime),u,r.uid),c=o.DV();c&&c.BT(s)}},o.NV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new sw(jv(e.startTime),jv(e.endTime),e.content,!1),s=null!=(r=o.OV(Ey.gm))?r:o.OV(Ey.RT);s&&(s.ss=Yl.WEBVTT,s.BT(u))}},o.xV=function(t){t.type===rs.Ka&&(o.iR=Ll(t.errorObject)),o.Bs(t)},o.PV=function(t){t.detail&&(o.hU.__=t.detail.corruptedVideoFrames,o.hU.g_=t.detail.droppedVideoFrames,o.Us(new lR(o.xg)))},o.LV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Wl:t.id};if(void 0!==t.startDate&&(n.YR=new Date(t.startDate)),void 0!==t.endDate&&(n.TU=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=kR(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.MU=r}void 0!==t.scte35Cmd&&(n.BU=vu(t.scte35Cmd)),void 0!==t.scte35In&&(n.VU=vu(t.scte35In)),void 0!==t.scte35Out&&(n.UU=vu(t.scte35Out)),void 0!==t.startTime&&(n.X_=t.startTime),n.PU=t.class,n.Vw=jv(t.duration),n.LU=jv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.X_?t.X_:(new Date).getTime(),r=new gR(t,i);o.eV.BT(r),o.eV.Vc(n,i)})};var s=e.uid;o.xF=o.getSdkBridge(s),o.aU=new FE,SE()[s].sdkEventBus=o.aU,o.Ug=new Ml,o.Vg=new Ml;var c=o.FV(r);return o.OT=new CR(en(o),new ZE),o.$U=new nS(en(o)),o.oR=new By(o.OT,c),o.YU=new Sy,o.KU=new VS(en(o)),o.KU.Vl=o.YU,o.JU=new qS(o.OT,o.KU),o.qg=new PE([o.YU,o.oR.fk,o.JU.fk]),o.kM=o.getFairPlayControllerBridge(o.xF),o.tR=new dR(o.aU,o.kM),o.sR=new Mp(c),o.tR.RR=o.sR,o.observeMediaElement(),o.CR(),o.SC=new eS(o.xF,u),o.SC.Vs("FO",function(){o.xF.FF("THEOplayerSetPreferredForwardBufferDuration",o.SC.LO)}),o}z(n,t);var i=n.prototype;return i.o_=function(){return rm},i.r_=function(){this.xF.FF("THEOplayerShow",{})},i.e_=function(){this.xF.FF("THEOplayerHide",{})},i.MV=function(){var t=this;this.xF.FF("THEOplayerSetInitialPreferredPeakBitRate",this.SC.XO);this.Vs("playing",function n(){t.xF.FF("THEOplayerSetInitialPreferredPeakBitRate",0),t.Ws("playing",n)})},i.Jg=function(){var t=C.coroutine(Zr.mark(function t(n,i){var r,e,u;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.rV=n,r=te({},i,{sources:{src:n.src,type:wd.kw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.xF.FF("THEOplayerSourceChange",r),e={ss:Wy.qT,ow:n.src,Kh:n.type,AR:this.DR(n),NR:n.crossOrigin,OR:i.metadata&&i.metadata.title},this.sR.YS(n.contentProtection),t.next=7,this.tR.Bc(e);case 7:this.nR=t.sent,i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Yl.WEBVTT})).length>0&&this.xR(u),jy(this.Xg),this.MV();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.DR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Xc:ke,WR:[{initDataTypes:[ke.as],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.tr=function(){this._C=!1,this.Us(new Fd(this.Uw)),this.xF.FF("THEOplayerPlay",{})},i.nr=function(){this._C=!0,this.Us(new Ld(this.Uw)),this.xF.FF("THEOplayerPause",{})},i.u_=function(){},i.Ol=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yC=0,this.XU=!1,this.iR=void 0,this.rR=void 0,this._C=!0,this.pC=1,this.IU=void 0,this.ZU=tm.vC(),this.QU=tm.vC(),this.nV=void 0,this.iV=void 0,this.jF=_d.Cw,this.jT=_d.Cw,this.Ug.Ol(),this.Vg.Ol(),this.YU.Ol(),this.qg.Ol(),t.next=19,this.JU.Ol();case 19:return this.KU.Ol(),t.next=22,this.oR.Ol();case 22:return this.OT.Ol(),this.$U.Ol(),this.rV=void 0,t.next=27,this.tR.Ol();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zg=function(){this.xF.FF("THEOplayerShowAirPlayPicker",{})},i.t_=function(){this.xF.FF("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.xg.__=t.__,this.xg.g_=t.g_},i.sr=function(){var t=C.coroutine(Zr.mark(function t(){return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ol();case 2:return this.js(),this.unobserveMediaElement(),this.jR(),this.tR.RR=void 0,t.next=8,this.tR.Ss();case 8:return this.Ug.sr(),this.Vg.sr(),this.YU.sr(),this.qg.sr(),this.KU.sr(),t.next=15,this.JU.sr();case 15:return t.next=17,this.oR.sr();case 17:this.OT.sr(),this.$U.sr();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.oR.LT(i)}},i.sV=function(){var t=this.jT,n=this.jF;t!==n&&(this.jT=n,this.Us(new Jd(this.Uw,n)))},i.observeMediaElement=function(){this.tR.Vs(rs.$a,this.Bs),this.tR.Vs([rs.Ja,rs.Ka],this.xV),this.aU.addEventListener("play",this.lV),this.aU.addEventListener("pause",this.wV),this.aU.addEventListener("seeking",this.kV),this.aU.addEventListener("seeked",this.mV),this.aU.addEventListener("ratechange",this._V),this.aU.addEventListener("durationchange",this.aV),this.aU.addEventListener("timeupdate",this.bV),this.aU.addEventListener("waiting",this.EV),this.aU.addEventListener("playing",this.gV),this.aU.addEventListener("ended",this.fV),this.aU.addEventListener("loadedmetadata",this.dV),this.aU.addEventListener("loadeddata",this.vV),this.aU.addEventListener("loadstart",this.hV),this.aU.addEventListener("canplay",this.oV),this.aU.addEventListener("canplaythrough",this.cV),this.aU.addEventListener("error",this.fR),this.aU.addEventListener("seekablechange",this.pV),this.aU.addEventListener("videosizechange",this.TV),this.aU.addEventListener("bufferedchange",this.uV),this.aU.addEventListener("playedchange",this.yV),this.aU.addEventListener("metricschange",this.PV),this.aU.addEventListener("addDateRangeCues",this.LV)},i.unobserveMediaElement=function(){this.tR.Ws(rs.$a,this.Bs),this.tR.Ws([rs.Ja,rs.Ka],this.xV),this.aU.removeEventListener("play",this.lV),this.aU.removeEventListener("pause",this.wV),this.aU.removeEventListener("seeking",this.kV),this.aU.removeEventListener("seeked",this.mV),this.aU.removeEventListener("ratechange",this._V),this.aU.removeEventListener("durationchange",this.aV),this.aU.removeEventListener("timeupdate",this.bV),this.aU.removeEventListener("waiting",this.EV),this.aU.removeEventListener("playing",this.gV),this.aU.removeEventListener("ended",this.fV),this.aU.removeEventListener("loadedmetadata",this.dV),this.aU.removeEventListener("loadeddata",this.vV),this.aU.removeEventListener("loadstart",this.hV),this.aU.removeEventListener("canplay",this.oV),this.aU.removeEventListener("canplaythrough",this.cV),this.aU.removeEventListener("error",this.fR),this.aU.removeEventListener("seekablechange",this.pV),this.aU.removeEventListener("videosizechange",this.TV),this.aU.removeEventListener("bufferedchange",this.uV),this.aU.removeEventListener("playedchange",this.yV),this.aU.removeEventListener("metricschange",this.PV),this.aU.removeEventListener("addDateRangeCues",this.LV)},i.updateCurrentTime=function(t){var n=this.R_.start(0),i=this.R_.end(0);return l.min(l.max(t,n),i)},i.DV=function(){for(var t=0,n=this.qg.xl;t<n.length;t++){var i=n[t];if(i.$l===Ey.pm&&i.ss===Yl.ID3)return i}},i.OV=function(t){for(var n=0,i=this.qg.xl;n<i.length;n++){var r=i[n],e=r.Zl===Zv.tw,u=r.$l===t;if(e&&u)return r}},i.CR=function(){this.aU.addEventListener("addaudiotrack",this.SV),this.aU.addEventListener("enableaudiotrack",this.RV),this.aU.addEventListener("addvideotrack",this.IV),this.aU.addEventListener("addtexttrack",this.CV),this.aU.addEventListener("addtexttrackid3cues",this.AV),this.aU.addEventListener("addtexttrackcues",this.NV)},i.jR=function(){this.aU.removeEventListener("addaudiotrack",this.SV),this.aU.removeEventListener("enableaudiotrack",this.RV),this.aU.removeEventListener("addvideotrack",this.IV),this.aU.removeEventListener("addtexttrack",this.CV),this.aU.removeEventListener("addtexttrackid3cues",this.AV),this.aU.removeEventListener("addtexttrackcues",this.BV)},i.v_=function(){},j(n,[{key:"zg",get:function(){return this.Ug}},{key:"d_",get:function(){return this.QU.$R()}},{key:"l_",get:function(){return this.GU?this.GU:null},set:function(t){this.xF.FF("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.GU=t}},{key:"Uw",get:function(){return this.yC},set:function(t){this.setCurrentTime(t)}},{key:"Vw",get:function(){return this.IU}},{key:"qw",get:function(){return this.XU}},{key:"tc",get:function(){return this.iR}},{key:"Hw",get:function(){return this.rR}},{key:"Gg",get:function(){}},{key:"y_",get:function(){return this.tR.y_}},{key:"xg",get:function(){return this.hU}},{key:"jw",get:function(){return this.gC},set:function(t){this.gC!==t&&(this.xF.FF("THEOplayerSetMuted",t),this.gC=t,this.Us(new Gd(this.Uw,t?0:1)))}},{key:"Ww",get:function(){return this._C}},{key:"zw",get:function(){return this.pC},set:function(t){this.xF.FF("THEOplayerSetPlaybackRate",t),this.pC=t}},{key:"E_",get:function(){return this.tV.$R()}},{key:"S_",get:function(){return $p.wI},set:function(t){}},{key:"rw",get:function(){return this.jF}},{key:"R_",get:function(){return this.ZU.$R()}},{key:"$w",get:function(){return this.mC}},{key:"YR",get:function(){}},{key:"Xg",get:function(){return this.qg}},{key:"Xw",get:function(){return this.nV}},{key:"Gw",get:function(){return this.iV}},{key:"Yw",get:function(){return 1},set:function(t){}},{key:"$g",get:function(){return this.Vg}},{key:"KR",get:function(){return this.aR}},{key:"T_",get:function(){return!0}}]),n}(cd),DR=function(){function t(){this.JR=Dp.HS}var n=t.prototype;return n.QR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if((r=n.type)&&pr(r.toLowerCase(),wd.mw))return!1;var r,e=n.contentProtection;if(e&&!Vg(e)){if(!jg(e))return!1;if(!t.UV(e))return!1}return!0},t.UV=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.ZR=function(){return!1},t}(),NR=function(){function n(t){this.playerID=t}return n.prototype.FF=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var r={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(r)}},n}(),OR=function(t){function n(n){var i;return(i=t.call(this)||this).xF=void 0,i.aU=void 0,i.VV=function(t){var n=vu(t.detail.initData),r=t.detail.sessionId;i.Us(new ES(n,r))},i.qV=function(t){var n=new _(pu(t.detail.message)),r=t.detail.destinationURL;i.Us(new SS(n,r))},i.HV=function(t){i.Us(new RS)},i.xF=n,i.aU=new FE,SE().fairplayController={sdkEventBus:i.aU},i.jV(),i}z(n,t);var i=n.prototype;return i.jV=function(){this.aU.addEventListener(yS.vM,this.VV),this.aU.addEventListener(yS.dM,this.qV),this.aU.addEventListener(yS.lM,this.HV)},i.pM=function(t,n){var i={playerId:IE(),data:mu(n.buffer),sessionId:t};this.xF.FF("THEOplayerCreateKeySession",i)},i.Vc=function(t,n){var i={playerId:IE(),data:mu(n.buffer),sessionId:t};this.xF.FF("THEOplayerUpdateKey",i)},n}(cd),xR=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.dv=function(n){if(io(n.Jh)){var i=ro(n.Jh);n.Jh=$u(i)}return t.prototype.dv.call(this,n)},n}(function(){function t(t){this.xT=void 0,this.xT=t}var n=t.prototype;return n.dv=function(t){return this.xT.dv(t)},n.Bv=function(t){this.xT.Bv(t)},n.sr=function(){this.xT.sr()},t}()),PR=function(t){function n(n,i,r,e,u){return t.call(this,n,i,r,e,u)||this}z(n,t);var i=n.prototype;return i.Qg=function(){return!1},i.getSdkBridge=function(t){return new NR(t)},i.getFairPlayControllerBridge=function(t){return ER||(ER=new OR(t)),ER},i.FV=function(t){return new xR(t)},n}(AR);TR=new(function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.UE=function(t,n,i,r,e,u){return new PR(t,n,i,r,e)},n}(DR)),zp.Ze.uI(TR),function(t){t.Kd="addtrack",t.Qd="removetrack",t.yl="change",t.bl="update"}(SR||(SR={}));var LR=function(t,n,i){this.type=SR.yl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},FR=function(t,n){this.type=SR.Kd,this.mediaType=t,this.mediaTrack=n},MR=function(t,n){this.type=SR.Qd,this.mediaType=t,this.mediaTrack=n},BR=function(t,n){this.type=SR.bl,this.mediaType=t,this.mediaTrack=n},UR=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.WV=function(t){var n=new LR(r.type,t.track,r.mediaTracks);r.messageDispatcher.zV(n)},this.$V=function(t){var n=new FR(r.type,t.track);r.messageDispatcher.zV(n),t.track.addEventListener("update",r.XV)},this.GV=function(t){var n=new MR(r.type,t.track);r.messageDispatcher.zV(n)},this.XV=function(t){var n=new BR(r.type,t.track);r.messageDispatcher.zV(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.jV()}return t.prototype.jV=function(){this.mediaTracks.addEventListener("change",this.WV),this.mediaTracks.addEventListener("addtrack",this.$V),this.mediaTracks.addEventListener("removetrack",this.GV)},t}(),VR=function(){function t(t){this.YV=void 0,this.YV=new NR(t)}return t.prototype.zV=function(t){this.YV.FF(t.type,KT(t))},t}();TT(function(t){if(t.nl.audioTracks){var n=new VR(t.zl);new UR("audio",t.nl.audioTracks,n)}if(t.nl.videoTracks){var i=new VR(t.zl);new UR("video",t.nl.videoTracks,i)}});var qR,HR,jR=function(t){function n(){return t.apply(this,arguments)||this}return z(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case qR.KV:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Us(new WR(i));break;default:0}},n}(FE),WR=function(t){function n(n){var i;return(i=t.call(this,qR.KV)||this).detail=n,i}return z(n,t),n}(Qe);!function(t){t.KV="registerContentProtectionIntegration"}(qR||(qR={})),function(t){t.JV="certifiateRequest",t.QV="certifiateResponse",t.ZV="licenseRequest",t.tq="licenseResponse",t.nq="extractFairplayContentId",t.iq="buildContentProtection",t.rq="registerContentProtectionCallback"}(HR||(HR={}));var zR,$R=function(t,n){this.type=HR.rq,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(zR||(zR={}));var XR,GR=function(t,n){this.type=HR.iq,this.value=t,this.integrationId=n},YR=function(t,n){this.type=HR.JV,this.value=t,this.integrationId=n},KR=function(t,n){this.type=HR.QV,this.value=t,this.integrationId=n},JR=function(t,n){this.type=HR.nq,this.value=t,this.integrationId=n},QR=function(t,n){this.type=HR.ZV,this.value=t,this.integrationId=n},ZR=function(t,n){this.type=HR.tq,this.value=t,this.integrationId=n},tI=function(){function t(t,n){this.uq=void 0,this.VE=void 0,this.uq=t,this.VE=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new YR(r,this.VE),t.prev=2,t.next=5,this.uq.oq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.sq(o)){t.next=13;break}return s=te({},o),t.abrupt("return",s);case 13:if(!this.cq(o)){t.next=16;break}return c=new _(o),t.abrupt("return",c);case 16:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,o,s;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new KR(e,this.VE),t.next=5,this.uq.oq(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new _(s));case 11:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,o,s,c,a;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new QR(e,this.VE),t.prev=3,t.next=6,this.uq.oq(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.sq(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new _(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.cq(s)){t.next=17;break}return a=new _(s),t.abrupt("return",a);case 17:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Ol(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e,u,o,s,c;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=te({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},o=new ZR(u,this.VE),t.next=6,this.uq.oq(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new _(c));case 12:throw new Ol(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=C.coroutine(Zr.mark(function t(i){var r,e;return Zr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new JR(i,this.VE),t.next=3,this.uq.oq(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",C.reject(new Ol(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.sq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.cq=function(t){return!!new _(t)},t}(),nI=function(){function t(t){this.uq=void 0,this.uq=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new tI(this.uq,t.integration),i=new GR({drmConfiguration:t},t.integration);return this.uq.oq(i),n},t}(),iI=function(){var t=this;this.aU=void 0,this.aq=function(n){var i=new nI(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,o={state:xg.$E.HE(e,u,i)};t.messageDispatcher.oq(new $R(o,e))},this.aU=new jR,SE().contentProtectionIntegration={sdkEventBus:this.aU},this.aU.addEventListener(qR.KV,this.aq)},rI="nativePromiseCallback",eI=function(t){function n(n){var i;return(i=t.call(this,rI)||this).detail=n,i}return z(n,t),n}(Qe);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(XR||(XR={}));var uI=function(t){function n(){return t.apply(this,arguments)||this}z(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Us(new eI(n))},i.addEventListener=function(t,n){this.Vs(t,n)},i.removeEventListener=function(t,n){this.Ws(t,n)},n}(FE),oI=function(){function t(){var t=this;this.YV=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case XR.RESOLVE:i.bc(n.detail.data);break;case XR.REJECT:i.Tc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new uI;SE().nativePromise={sdkEventBus:n},n.addEventListener(rI,this.handleNativePromiseEvent)}return t.prototype.oq=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=te({},n,{promiseId:r}),u=new so;return this.promisesMap[r]=u,null==(i=this.YV)||i.FF(n.type,GT(e)),u.kc},t}();oI.messageIdTracker=-1;var sI=function(t){function n(n){var i;return(i=t.call(this)||this).YV=new NR(n),i}return z(n,t),n}(oI),cI=function(t){function n(n){var i;return(i=t.call(this)||this).uq=void 0,i.uq=new sI(n),i}return z(n,t),j(n,[{key:"messageDispatcher",get:function(){return this.uq}}]),n}(iI);TT(function(t){new cI(t.nl.uid)}),n.ChromelessPlayer=function t(n,i){var r=tl(i),e=new(PT||(PT=kT(PT=HT(_T),dT.sL),PT=kT(PT,dT.cL)),PT)(n,r),u=e.nl;return e.tL(),e.jL(NT),d.defineProperty(u,"constructor",{value:t}),u=Lv(u),function(t){for(var n=0;n<bT.length;n++)(0,bT[n])(t)}(e),u},n.createGlobals=CE,n.features=[],n.getCueMirrorMap=RE,n.getGlobalId=IE,n.getSdkEventBridge=SE,n.playerSuiteVersion="2021.3.1",n.players=WT,n.registerContentProtectionIntegration=zT,n.utils=jT,n.version="2.88.0",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
