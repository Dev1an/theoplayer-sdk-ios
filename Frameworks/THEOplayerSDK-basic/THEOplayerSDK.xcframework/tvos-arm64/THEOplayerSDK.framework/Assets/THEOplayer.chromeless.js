/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.1.3 (2.83.1)
 Created: 2021-04-19T19:37:27.683Z
 */
!function(t){!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var r,e=t.window,i=t.document,u=t.location,o=t.navigator,s=t.setTimeout,c=t.clearTimeout,f=t.setInterval,a=t.clearInterval,h=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,y=t.parseFloat,g=t.isNaN,_=t.Uint8Array,p=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),m="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function k(t,n,r){return t(r={path:n,exports:{},require:function(t,n){return function(){throw new h("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&r.path)}},r.exports),r.exports}var b,T,E,S,R,I,C=k(function(n,u){n.exports=function t(n,e,i){function u(s,c){if(!e[s]){if(!n[s]){var f="function"==typeof r&&r;if(!c&&f)return f(s,!0);if(o)return o(s,!0);var a=new h("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var v=e[s]={exports:{}};n[s][0].call(v.exports,function(t){var r=n[s][1][t];return u(r||t)},v,v.exports,t,n,e,i)}return e[s].exports}for(var o="function"==typeof r&&r,s=0;s<i.length;s++)u(i[s]);return u}({1:[function(t,n,r){n.exports=function(t){var n=t.i;function r(t){var r=new n(t),e=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),e}t.any=function(t){return r(t)},t.prototype.any=function(){return r(this)}}},{}],2:[function(t,n,r){var e;try{throw new h}catch(t){e=t}var i=t("./schedule"),u=t("./queue"),o=t("./util");function c(){this.u=!1,this.o=!1,this.v=new u(16),this.l=new u(16),this.g=!1,this.p=!0;var t=this;this.drainQueues=function(){t.R()},this.I=i}function f(t,n,r){this.v.push(t,n,r),this.C()}function a(t,n,r){this.l.push(t,n,r),this.C()}function v(t){this.l.N(t),this.C()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.F();else{var r=t.shift(),e=t.shift();n.call(r,e)}}c.prototype.setScheduler=function(t){var n=this.I;return this.I=t,this.u=!0,n},c.prototype.hasCustomScheduler=function(){return this.u},c.prototype.enableTrampoline=function(){this.p=!0},c.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.p=!1)},c.prototype.haveItemsQueued=function(){return this.o||this.g},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof h?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==s)s(function(){t(n)},0);else try{this.I(function(){t(n)})}catch(t){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(c.prototype.invokeLater=function(t,n,r){this.p?f.call(this,t,n,r):this.I(function(){s(function(){t.call(n,r)},100)})},c.prototype.invoke=function(t,n,r){this.p?a.call(this,t,n,r):this.I(function(){t.call(n,r)})},c.prototype.settlePromises=function(t){this.p?v.call(this,t):this.I(function(){t.F()})}):(c.prototype.invokeLater=f,c.prototype.invoke=a,c.prototype.settlePromises=v),c.prototype.R=function(){d(this.l),this.B(),this.g=!0,d(this.v)},c.prototype.C=function(){this.o||(this.o=!0,this.I(this.drainQueues))},c.prototype.B=function(){this.o=!1},n.exports=c,n.exports.firstLineError=e},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,r){n.exports=function(t,n,r,e){var i=!1,u=function(t,n){this.M(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.U(u,u,null,this,t)},s=function(t,n){0==(50397184&this.q)&&this.j(n.target)},c=function(t,n){n.promiseRejectionQueued||this.M(t)};t.prototype.bind=function(u){i||(i=!0,t.prototype.V=e.propagateFromFunction(),t.prototype.H=e.boundValueFunction());var f=r(u),a=new t(n);a.V(this,1);var h=this.W();if(a.X(f),f instanceof t){var v={promiseRejectionQueued:!1,promise:a,target:h,bindingPromise:f};h.U(n,o,void 0,a,v),f.U(s,c,void 0,a,v),a.G(f)}else a.j(h);return a},t.prototype.X=function(t){void 0!==t?(this.q=2097152|this.q,this.Y=t):this.q=-2097153&this.q},t.prototype.K=function(){return 2097152==(2097152&this.q)},t.bind=function(n,r){return t.resolve(r).bind(n)}}},{}],4:[function(t,n,r){var e;"undefined"!=typeof Promise&&(e=Promise);var i=t("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=e)}catch(t){}return i},n.exports=i},{"./promise":22}],5:[function(t,n,r){var e=d.create;if(e){var i=e(null),u=e(null);i[" size"]=u[" size"]=0}n.exports=function(n){var r=t("./util"),e=r.canEvaluate;function i(t){var e=this.pop(),i=function(t,e){var i;if(null!=t&&(i=t[e]),"function"!=typeof i){var u="Object "+r.classString(t)+" has no method '"+r.toString(e)+"'";throw new n.TypeError(u)}return i}(t,e);return i.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}r.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.U(i,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,r="number"==typeof t;if(r)n=o;else if(e){var i=(void 0)();n=null!==i?i:u}else n=u;return this.U(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,r){n.exports=function(n,r,e,i){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.J;n.prototype.break=n.prototype.cancel=function(){if(!i.cancellation())return this.Z("cancellation is disabled");for(var t=this,n=t;t.nt();){if(!t.rt(n)){n.et()?n.it().cancel():n.ut();break}var r=t.ot;if(null==r||!r.nt()){t.et()?t.it().cancel():t.ut();break}t.et()&&t.it().cancel(),t.st(),n=t,t=r}},n.prototype.ct=function(){this.ft--},n.prototype.at=function(){return void 0===this.ft||this.ft<=0},n.prototype.rt=function(t){return t===this?(this.ft=0,this.ht(),!0):(this.ct(),!!this.at()&&(this.ht(),!0))},n.prototype.ut=function(){this.at()&&this.vt()},n.prototype.vt=function(){this.nt()&&(this.dt(),c.invoke(this.wt,this,void 0))},n.prototype.wt=function(){this.yt()>0&&this.F()},n.prototype._t=function(){this.pt=void 0},n.prototype.nt=function(){return this.isPending()&&!this.kt()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.bt=function(t,n){if(u.isArray(t))for(var r=0;r<t.length;++r)this.bt(t[r],n);else if(void 0!==t)if("function"==typeof t){if(!n){var e=o(t).call(this.H());e===s&&(this.Tt(e.e),c.throwLater(e.e))}}else t._resultCancelled(this)},n.prototype.ht=function(){var t=this.Et();this._t(),c.invoke(this.bt,this,t)},n.prototype.St=function(){this.nt()&&(this.bt(this.Et(),!0),this._t())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,r){n.exports=function(n){var r=t("./util"),e=t("./es5").keys,i=r.tryCatch,u=r.errorObj;return function(t,o,s){return function(c){var f=s.H();t:for(var a=0;a<t.length;++a){var v=t[a];if(v===h||null!=v&&v.prototype instanceof h){if(c instanceof v)return i(o).call(f,c)}else if("function"==typeof v){var d=i(v).call(f,c);if(d===u)return d;if(d)return i(o).call(f,c)}else if(r.isObject(c)){for(var l=e(v),w=0;w<l.length;++w){var y=l[w];if(v[y]!=c[y])continue t}return i(o).call(f,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,r){n.exports=function(t){var n=!1,r=[];function e(){this.Rt=new e.CapturedTrace(i())}function i(){var t=r.length-1;if(t>=0)return r[t]}return t.prototype.It=function(){},t.prototype.Ct=function(){},t.prototype.Ot=function(){return null},t.Dt=t.prototype.Dt=function(){},e.prototype.Ct=function(){void 0!==this.Rt&&(this.Rt.It=null,r.push(this.Rt))},e.prototype.Ot=function(){if(void 0!==this.Rt){var t=r.pop(),n=t.It;return t.It=null,n}return null},e.CapturedTrace=null,e.create=function(){if(n)return new e},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var r=t.prototype.Ct,u=t.prototype.Ot,o=t.Dt,s=t.prototype.Dt,c=t.prototype.It;e.deactivateLongStackTraces=function(){t.prototype.Ct=r,t.prototype.Ot=u,t.Dt=o,t.prototype.Dt=s,t.prototype.It=c,n=!1},n=!0,t.prototype.Ct=e.prototype.Ct,t.prototype.Ot=e.prototype.Ot,t.Dt=t.prototype.Dt=i,t.prototype.It=function(){var t=this.Dt();t&&null==t.It&&(t.It=this)}},e}},{}],9:[function(t,n,r){n.exports=function(n,r){var e,u,o,c=n.Nt,f=n.J,a=t("./errors").Warning,l=t("./util"),y=t("./es5"),g=l.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==l.env("BLUEBIRD_DEBUG")),S=!(0==l.env("BLUEBIRD_WARNINGS")||!E&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.W();t.q=-1048577&t.q|524288},n.prototype.At=function(){if(0==(524288&this.q)){this.Pt();var t=this;s(function(){t.xt()},1)}},n.prototype.Ft=function(){$("rejectionHandled",e,void 0,this)},n.prototype.Bt=function(){this.q=268435456|this.q},n.prototype.Lt=function(){return 0!=(268435456&this.q)},n.prototype.xt=function(){if(this.Mt()){var t=this.Ut();this.qt(),$("unhandledRejection",u,t,this)}},n.prototype.qt=function(){this.q=262144|this.q},n.prototype.jt=function(){this.q=-262145&this.q},n.prototype.Vt=function(){return(262144&this.q)>0},n.prototype.Pt=function(){this.q=1048576|this.q},n.prototype.Ht=function(){this.q=-1048577&this.q,this.Vt()&&(this.jt(),this.Ft())},n.prototype.Mt=function(){return(1048576&this.q)>0},n.prototype.Z=function(t,n,r){return X(t,n,r||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();e="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var C=function(){};n.longStackTraces=function(){if(f.haveItemsQueued()&&!it.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!it.longStackTraces&&Q()){var t=n.prototype.Wt,e=n.prototype.Tt,i=n.prototype.zt;it.longStackTraces=!0,C=function(){if(f.haveItemsQueued()&&!it.longStackTraces)throw new h("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Wt=t,n.prototype.Tt=e,n.prototype.zt=i,r.deactivateLongStackTraces(),f.enableTrampoline(),it.longStackTraces=!1},n.prototype.Wt=H,n.prototype.Tt=W,n.prototype.zt=z,r.activateLongStackTraces(),f.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return it.longStackTraces&&Q()};var O=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r={detail:n,cancelable:!0};y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason});var e=new CustomEvent(t.toLowerCase(),r);return!l.global.dispatchEvent(e)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var r=new Event(t.toLowerCase(),{cancelable:!0});return r.detail=n,y.defineProperty(r,"promise",{value:n.promise}),y.defineProperty(r,"reason",{value:n.reason}),!l.global.dispatchEvent(r)}}var t=i.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var r=i.createEvent("CustomEvent");return r.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(r)}}catch(t){}return function(){return!1}}(),D=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),r=l.global[n];return!!r&&(r.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var A={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,r){return{promise:n,child:r}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,r){return{reason:n,promise:r}},rejectionHandled:N},P=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){f.throwLater(t),n=!0}var r=!1;try{r=O(t,A[t].apply(null,arguments))}catch(t){f.throwLater(t),r=!0}return r||n};function x(){return!1}function F(t,n,r){var e=this;try{t(n,r,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));e.Xt(t)})}catch(t){return t}}function B(t){if(!this.nt())return this;var n=this.Et();void 0!==n?l.isArray(n)?n.push(t):this.G([n,t]):this.G(t)}function L(){return this.pt}function M(t){this.pt=t}function U(){this.ot=void 0,this.pt=void 0}function q(t,n){if(0!=(1&n)){this.ot=t;var r=t.ft;void 0===r&&(r=0),t.ft=r+1}0!=(2&n)&&t.K()&&this.X(t.Y)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&C()),"warnings"in t){var r=t.warnings;it.warnings=!!r,I=it.warnings,l.isObject(r)&&"wForgottenReturn"in r&&(I=!!r.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!it.cancellation){if(f.haveItemsQueued())throw new h("cannot enable cancellation after promises are in use");n.prototype.Gt=U,n.prototype.V=q,n.prototype.Et=L,n.prototype.G=M,n.prototype.Xt=B,n.prototype.Yt=F,j=q,it.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!it.monitoring?(it.monitoring=!0,n.prototype.Kt=P):!t.monitoring&&it.monitoring&&(it.monitoring=!1,n.prototype.Kt=x)),n},n.prototype.Kt=x,n.prototype.Yt=function(t,n,r){try{t(n,r)}catch(t){return t}},n.prototype.Et=function(){},n.prototype.G=function(t){},n.prototype.Xt=function(t){},n.prototype.Wt=function(){},n.prototype.Tt=function(){},n.prototype.zt=function(){},n.prototype.Gt=function(){},n.prototype.V=function(t,n){};var j=function(t,n){0!=(2&n)&&t.K()&&this.X(t.Y)};function V(){var t=this.Y;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function H(){this.Rt=new rt(this.Dt())}function W(t,n){if(g(t)){var r=this.Rt;if(void 0!==r&&n&&(r=r.$t),void 0!==r)r.attachExtraTrace(t);else if(!t.Jt){var e=Y(t);l.notEnumerableProp(t,"stack",e.message+"\n"+e.stack.join("\n")),l.notEnumerableProp(t,"Jt",!0)}}}function z(){this.Rt=void 0}function X(t,r,e){if(it.warnings){var i,u=new a(t);if(r)e.Tt(u);else if(it.longStackTraces&&(i=n.Dt()))i.attachExtraTrace(u);else{var o=Y(u);u.stack=o.message+"\n"+o.stack.join("\n")}P("warning",u)||K(u,"",!0)}}function G(t){for(var n=[],r=0;r<t.length;++r){var e=t[r],i="    (No stack trace)"===e||k.test(e),u=i&&Z(e);i&&!u&&(T&&" "!==e.charAt(0)&&(e="    "+e),n.push(e))}return n}function Y(t){var n=t.stack,r=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<n.length;++r){var e=n[r];if("    (No stack trace)"===e||k.test(e))break}return r>0&&"SyntaxError"!=t.name&&(n=n.slice(r)),n}(t):["    (No stack trace)"],{message:r,stack:"SyntaxError"==t.name?n:G(n)}}function K(t,n,r){if("undefined"!=typeof console){var e;if(l.isObject(t)){var i=t.stack;e=n+b(i,t)}else e=n+String(t);"function"==typeof o?o(e,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(e)}}function $(t,n,r,e){var i=!1;try{"function"==typeof n&&(i=!0,"rejectionHandled"===t?n(e):n(r,e))}catch(t){f.throwLater(t)}"unhandledRejection"===t?P(t,r,e)||i||K(r,"Unhandled rejection "):P(t,e)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var r=JSON.stringify(t);n=r}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof et}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function rt(t){this.$t=t,this.Qt=0;var n=this.yt=1+(void 0===t?0:t.yt);et(this,rt),n>32&&this.uncycle()}l.inherits(rt,h),r.CapturedTrace=rt,rt.prototype.uncycle=function(){var t=this.yt;if(!(t<2)){for(var n=[],r={},e=0,i=this;void 0!==i;++e)n.push(i),i=i.$t;for(var e=(t=this.yt=e)-1;e>=0;--e){var u=n[e].stack;void 0===r[u]&&(r[u]=e)}for(var e=0;e<t;++e){var o=n[e].stack,s=r[o];if(void 0!==s&&s!==e){s>0&&(n[s-1].$t=void 0,n[s-1].yt=1),n[e].$t=void 0,n[e].yt=1;var c=e>0?n[e-1]:this;s<t-1?(c.$t=n[s+1],c.$t.uncycle(),c.yt=c.$t.yt+1):(c.$t=void 0,c.yt=1);for(var f=c.yt+1,a=e-2;a>=0;--a)n[a].yt=f,f++;return}}}},rt.prototype.attachExtraTrace=function(t){if(!t.Jt){this.uncycle();for(var n=Y(t),r=n.message,e=[n.stack],i=this;void 0!==i;)e.push(G(i.stack.split("\n"))),i=i.$t;!function(t){for(var n=t[0],r=1;r<t.length;++r){for(var e=t[r],i=n.length-1,u=n[i],o=-1,s=e.length-1;s>=0;--s)if(e[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=e[s];if(n[i]!==c)break;n.pop(),i--}n=e}}(e),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(e),l.notEnumerableProp(t,"stack",function(t,n){for(var r=0;r<n.length-1;++r)n[r].push("From previous event:"),n[r]=n[r].join("\n");return r<n.length&&(n[r]=n[r].join("\n")),t+"\n"+n.join("\n")}(r,e)),l.notEnumerableProp(t,"Jt",!0)}};var et=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof h.stackTraceLimit&&"function"==typeof h.captureStackTrace){h.stackTraceLimit+=6,k=t,b=n;var r=h.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){h.stackTraceLimit+=6,r(t,n),h.stackTraceLimit-=6}}var e,i=new h;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new h).stack};try{throw new h}catch(t){e="stack"in t}return"stack"in i||!e||"number"!=typeof h.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){h.stackTraceLimit+=6;try{throw new h}catch(n){t.stack=n.stack}h.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?o=function(t,n){var r=n?"\x1b[33m":"\x1b[31m";console.warn(r+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new h).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var it={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return it.longStackTraces},warnings:function(){return it.warnings},cancellation:function(){return it.cancellation},monitoring:function(){return it.monitoring},propagateFromFunction:function(){return j},boundValueFunction:function(){return V},checkForgottenReturns:function(t,n,r,e,i){if(void 0===t&&null!==n&&I){if(void 0!==i&&i.Lt())return;if(0==(65535&e.q))return;r&&(r+=" ");var u="",o="";if(n.Rt){for(var s=n.Rt.stack.split("\n"),c=G(s),f=c.length-1;f>=0;--f){var a=c[f];if(!p.test(a)){var h=a.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],f=0;f<s.length;++f)if(s[f]===v){f>0&&(o="\n"+s[f-1]);break}}var d="a promise was created in a "+r+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;e.Z(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var r,e,i=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<i.length;++c){var f=nt(i[c]);if(f){r=f.fileName,o=f.line;break}}for(var c=0;c<u.length;++c){var f=nt(u[c]);if(f){e=f.fileName,s=f.line;break}}o<0||s<0||!r||!e||r!==e||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===r&&o<=n.line&&n.line<=s)})}},warn:X,deprecated:function(t,n){var r=t+" is deprecated and will be removed in a future version.";return n&&(r+=" Use "+n+" instead."),X(r)},CapturedTrace:rt,fireDomEvent:O,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,r){n.exports=function(t){function n(){return this.value}function r(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(r){return r instanceof t&&r.suppressUnhandledRejections(),this.U(n,void 0,void 0,{value:r},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.U(r,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.U(void 0,r,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof t&&r.suppressUnhandledRejections(),this.U(void 0,n,void 0,{value:r},void 0);var e=arguments[1];return e instanceof t&&e.suppressUnhandledRejections(),this.caught(r,function(){return e})}}},{}],11:[function(t,n,r){n.exports=function(t,n){var r=t.reduce,e=t.all;function i(){return e(this)}t.prototype.each=function(t){return r(this,t,n,0).U(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return r(this,t,n,n)},t.each=function(t,e){return r(t,e,n,0).U(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,e){return r(t,e,n,n)}}},{}],12:[function(t,n,r){var e,i,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,f=s.notEnumerableProp;function a(t,n){function r(e){if(!(this instanceof r))return new r(e);f(this,"message","string"==typeof e?e:n),f(this,"name",t),h.captureStackTrace?h.captureStackTrace(this,this.constructor):h.call(this)}return c(r,h),r}var d=a("Warning","warning"),l=a("CancellationError","cancellation error"),w=a("TimeoutError","timeout error"),y=a("AggregateError","aggregate error");try{e=v,i=RangeError}catch(t){e=a("TypeError","type error"),i=a("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof h?(f(this,"message",t.message),f(this,"stack",t.stack)):h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var r=0;r<this.length;++r){for(var e=this[r]===this?"[Circular AggregateError]":this[r]+"",i=e.split("\n"),u=0;u<i.length;++u)i[u]=t+i[u];e=i.join("\n"),n+=e+"\n"}return p--,n},c(m,h);var k=h.Zt;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(h,"Zt",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:h,TypeError:e,RangeError:i,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,r){var e=function(){return void 0===this}();if(e)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(t,n){var r=d.getOwnPropertyDescriptor(t,n);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var r in t)i.call(t,r)&&n.push(r);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,r){return t[n]=r.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return o}},isES5:e,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,r){n.exports=function(t,n){var r=t.map;t.prototype.filter=function(t,e){return r(this,t,e,n)},t.filter=function(t,e,i){return r(t,e,i,n)}}},{}],15:[function(t,n,r){n.exports=function(n,r,e){var i=t("./util"),u=n.CancellationError,o=i.errorObj,s=t("./catch_filter")(e);function c(t,n,r){this.promise=t,this.type=n,this.handler=r,this.called=!1,this.cancelPromise=null}function f(t){this.finallyHandler=t}function a(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.M(n):t.cancelPromise.vt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.W().Ut())}function d(t){if(!a(this,t))return o.e=t,o}function l(t){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(i.H()):s.call(i.H(),t);if(c===e)return c;if(void 0!==c){i.Bt();var v=r(c,i);if(v instanceof n){if(null!=this.cancelPromise){if(v.kt()){var l=new u("late cancellation observer");return i.Tt(l),o.e=l,o}v.isPending()&&v.Xt(new f(this))}return v.U(h,d,void 0,this,void 0)}}}return i.isRejected()?(a(this),o.e=t,o):(a(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},f.prototype._resultCancelled=function(){a(this.finallyHandler)},n.prototype.tn=function(t,n,r,e){return"function"!=typeof t?this.then():this.U(r,e,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.tn(t,0,l,l)},n.prototype.tap=function(t){return this.tn(t,1,l)},n.prototype.tapCatch=function(t){var r=arguments.length;if(1===r)return this.tn(t,1,void 0,l);var e,u=new Array(r-1),o=0;for(e=0;e<r-1;++e){var c=arguments[e];if(!i.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+i.classString(c)));u[o++]=c}u.length=o;var f=arguments[e];return this.tn(s(u,f,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=t("./errors"),c=s.TypeError,f=t("./util"),a=f.errorObj,v=f.tryCatch,l=[];function w(t,r,i,u){if(o.cancellation()){var s=new n(e),c=this.nn=new n(e);this.rn=s.lastly(function(){return c}),s.Wt(),s.G(this)}else{var f=this.rn=new n(e);f.Wt()}this.en=u,this.in=t,this.un=r,this.sn=void 0,this.cn="function"==typeof i?[i].concat(l):l,this.fn=null,this.an=!1}f.inherits(w,u),w.prototype.hn=function(){return null===this.rn},w.prototype.vn=function(){this.rn=this.sn=null,o.cancellation()&&null!==this.nn&&(this.nn.dn(),this.nn=null)},w.prototype.ln=function(){if(!this.hn()){var t,r=void 0!==this.sn.return;if(r)this.rn.Ct(),t=v(this.sn.return).call(this.sn,void 0),this.rn.Ot();else{var e=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=e,this.rn.Tt(e),this.rn.Ct(),t=v(this.sn.throw).call(this.sn,e),this.rn.Ot()}this.an=!0,this.fn=null,this.wn(t)}},w.prototype.yn=function(t){this.fn=null,this.rn.Ct();var n=v(this.sn.next).call(this.sn,t);this.rn.Ot(),this.wn(n)},w.prototype.gn=function(t){this.fn=null,this.rn.Tt(t),this.rn.Ct();var n=v(this.sn.throw).call(this.sn,t);this.rn.Ot(),this.wn(n)},w.prototype._resultCancelled=function(){if(this.fn instanceof n){var t=this.fn;this.fn=null,t.cancel()}},w.prototype.promise=function(){return this.rn},w.prototype._n=function(){this.sn=this.in.call(this.un),this.un=this.in=void 0,this.yn(void 0)},w.prototype.wn=function(t){var r=this.rn;if(t===a)return this.vn(),this.an?r.cancel():r.pn(t.e,!1);var e=t.value;if(!0===t.done)return this.vn(),this.an?r.cancel():r.j(e);var u=i(e,this.rn);if(u instanceof n||null!==(u=function(t,r,e){for(var u=0;u<r.length;++u){e.Ct();var o=v(r[u])(t);if(e.Ot(),o===a){e.Ct();var s=n.reject(a.e);return e.Ot(),s}var c=i(o,e);if(c instanceof n)return c}return null}(u,this.cn,this.rn))){var o=(u=u.W()).q;0==(50397184&o)?(this.fn=u,u.mn(this,null)):0!=(33554432&o)?n.J.invoke(this.yn,this,u.kn()):0!=(16777216&o)?n.J.invoke(this.gn,this,u.bn()):this.ln()}else this.gn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(e))+"From coroutine:\n"+this.en.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=d(n).yieldHandler,e=w,i=(new h).stack;return function(){var n=t.apply(this,arguments),u=new e(void 0,void 0,r,i),o=u.promise();return u.sn=n,u.yn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+f.classString(t));l.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new w(t,this),i=e.promise();return e._n(n.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var e=[].slice.call(arguments);t&&e.pop();var i=new r(e).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=n.Nt,c=t("./util"),f=c.tryCatch,a=c.errorObj,h=n.J;function d(t,n,r,e){this.constructor$(t),this.rn.Wt();var i=s();this.Tn=null===i?n:c.domainBind(i,n),this.En=e===u?new Array(this.length()):null,this.Sn=r,this.Rn=0,this.In=[],h.invoke(this.Cn,this,void 0)}function l(t,r,i,u){if("function"!=typeof r)return e("expecting a function but got "+c.classString(r));var o=0;if(void 0!==i){if("object"!=typeof i||null===i)return n.reject(new v("options argument must be an object but it is "+c.classString(i)));if("number"!=typeof i.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(i.concurrency)));o=i.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new d(t,r,o,u).promise()}c.inherits(d,r),d.prototype.Cn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.yn=function(t,r){var e=this.On,u=this.length(),s=this.En,c=this.Sn;if(r<0){if(e[r=-1*r-1]=t,c>=1&&(this.Rn--,this.Dn(),this.hn()))return!0}else{if(c>=1&&this.Rn>=c)return e[r]=t,this.In.push(r),!1;null!==s&&(s[r]=t);var h=this.rn,v=this.Tn,d=h.H();h.Ct();var l=f(v).call(d,t,r,u),w=h.Ot();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===a)return this.M(l.e),!0;var y=i(l,this.rn);if(y instanceof n){var g=(y=y.W()).q;if(0==(50397184&g))return c>=1&&this.Rn++,e[r]=y,y.mn(this,-1*(r+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.M(y.bn()),!0):(this.vt(),!0);l=y.kn()}e[r]=l}var _=++this.Nn;return _>=u&&(null!==s?this.An(e,s):this.Pn(e),!0)},d.prototype.Dn=function(){for(var t=this.In,n=this.Sn,r=this.On;t.length>0&&this.Rn<n;){if(this.hn())return;var e=t.pop();this.yn(r[e],e)}},d.prototype.An=function(t,n){for(var r=n.length,e=new Array(r),i=0,u=0;u<r;++u)t[u]&&(e[i++]=n[u]);e.length=i,this.Pn(e)},d.prototype.preservedValues=function(){return this.En},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,r,e){return l(t,n,r,e)}}},{"./util":36}],19:[function(t,n,r){n.exports=function(n,r,e,i,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var e=new n(r);e.Wt(),e.Ct();var i=s(t).apply(this,arguments),o=e.Ot();return u.checkForgottenReturns(i,o,"Promise.method",e),e.xn(i),e}},n.attempt=n.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+o.classString(t));var e,c=new n(r);if(c.Wt(),c.Ct(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],a=arguments[2];e=o.isArray(f)?s(t).apply(a,f):s(t).call(a,f)}else e=s(t)();var h=c.Ot();return u.checkForgottenReturns(e,h,"Promise.try",c),c.xn(e),c},n.prototype.xn=function(t){t===o.errorObj?this.pn(t.e,!1):this.j(t,!0)}}},{"./util":36}],20:[function(t,n,r){var e=t("./util"),i=e.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function f(t){var n;if(function(t){return t instanceof h&&s.getPrototypeOf(t)===h.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var r=s.keys(t),i=0;i<r.length;++i){var u=r[i];c.test(u)||(n[u]=t[u])}return n}return e.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(r,e){if(null!==t){if(r){var u=f(i(r));t.Tt(u),t.M(u)}else if(n){var o=[].slice.call(arguments,1);t.dn(o)}else t.dn(e);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,r){n.exports=function(n){var r=t("./util"),e=n.J,i=r.tryCatch,u=r.errorObj;function o(t,n){if(!r.isArray(t))return s.call(this,t,n);var o=i(n).apply(this.H(),[null].concat(t));o===u&&e.throwLater(o.e)}function s(t,n){var r=this.H(),o=void 0===t?i(n).call(r,null):i(n).call(r,null,t);o===u&&e.throwLater(o.e)}function c(t,n){if(!t){var r=new h(t+"");r.cause=t,t=r}var o=i(n).call(this.H(),t);o===u&&e.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var r=s;void 0!==n&&d(n).spread&&(r=o),this.U(r,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){n.exports=function(){var r=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},e=function(){return new O.PromiseInspection(this.W())},i=function(t){return O.reject(new l(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(O,"Nt",o);var f=t("./es5"),a=t("./async"),h=new a;f.defineProperty(O,"J",{value:h});var v=t("./errors"),l=O.TypeError=v.TypeError;O.RangeError=v.RangeError;var w=O.CancellationError=v.CancellationError;O.TimeoutError=v.TimeoutError,O.OperationalError=v.OperationalError,O.RejectionError=v.OperationalError,O.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(O,y),m=t("./promise_array")(O,y,p,i,u),k=t("./context")(O),b=k.create,T=t("./debuggability")(O,k),E=(T.CapturedTrace,t("./finally")(O,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,C=c.tryCatch;function O(t){t!==y&&function(t,n){if(null==t||t.constructor!==O)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.q=0,this.Fn=void 0,this.Bn=void 0,this.Ln=void 0,this.Mn=void 0,this.Un(t),this.It(),this.Kt("promiseCreated",this)}function D(t){this.promise.j(t)}function N(t){this.promise.pn(t,!1)}function A(t){var n=new O(y);n.Fn=t,n.Bn=t,n.Ln=t,n.Mn=t}return O.prototype.toString=function(){return"[object Promise]"},O.prototype.caught=O.prototype.catch=function(t){var n=arguments.length;if(n>1){var r,e=new Array(n-1),u=0;for(r=0;r<n-1;++r){var o=arguments[r];if(!c.isObject(o))return i("Catch statement predicate: expecting an object but got "+c.classString(o));e[u++]=o}if(e.length=u,"function"!=typeof(t=arguments[r]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(e,t,this))}return this.then(void 0,t)},O.prototype.reflect=function(){return this.U(e,e,void 0,this,void 0)},O.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var r=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(r+=", "+c.classString(n)),this.Z(r)}return this.U(t,n,void 0,void 0,void 0)},O.prototype.done=function(t,n){var r=this.U(t,n,void 0,void 0,void 0);r.qn()},O.prototype.spread=function(t){return"function"!=typeof t?i("expecting a function but got "+c.classString(t)):this.all().U(t,void 0,void 0,g,void 0)},O.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},O.prototype.all=function(){return arguments.length>0&&this.Z(".all() was passed arguments but it does not take any"),new m(this).promise()},O.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},O.getNewLibraryCopy=n.exports,O.is=function(t){return t instanceof O},O.fromNode=O.fromCallback=function(t){var n=new O(y);n.Wt();var r=arguments.length>1&&!!d(arguments[1]).multiArgs,e=C(t)(R(n,r));return e===I&&n.pn(e.e,!0),n.jn()||n.Vn(),n},O.all=function(t){return new m(t).promise()},O.cast=function(t){var n=p(t);return n instanceof O||((n=new O(y)).Wt(),n.Hn(),n.Bn=t),n},O.resolve=O.fulfilled=O.cast,O.reject=O.rejected=function(t){var n=new O(y);return n.Wt(),n.pn(t,!0),n},O.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return h.setScheduler(t)},O.prototype.U=function(t,n,r,e,i){var u=void 0!==i,s=u?i:new O(y),f=this.W(),a=f.q;u||(s.V(this,3),s.Wt(),void 0===e&&0!=(2097152&this.q)&&(e=0!=(50397184&a)?this.H():f===this?void 0:this.Y),this.Kt("promiseChained",this,s));var v=o();if(0!=(50397184&a)){var d,l,g=f.Wn;0!=(33554432&a)?(l=f.Bn,d=t):0!=(16777216&a)?(l=f.Fn,d=n,f.Ht()):(g=f.zn,l=new w("late cancellation observer"),f.Tt(l),d=n),h.invoke(g,f,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:e,value:l})}else f.Xn(t,n,s,e,v);return s},O.prototype.yt=function(){return 65535&this.q},O.prototype.jn=function(){return 0!=(117506048&this.q)},O.prototype.et=function(){return 67108864==(67108864&this.q)},O.prototype.Gn=function(t){this.q=-65536&this.q|65535&t},O.prototype.Hn=function(){this.q=33554432|this.q,this.Kt("promiseFulfilled",this)},O.prototype.Yn=function(){this.q=16777216|this.q,this.Kt("promiseRejected",this)},O.prototype.Kn=function(){this.q=67108864|this.q,this.Kt("promiseResolved",this)},O.prototype.qn=function(){this.q=4194304|this.q},O.prototype.$n=function(){return(4194304&this.q)>0},O.prototype.Jn=function(){this.q=-65537&this.q},O.prototype.dt=function(){this.q=65536|this.q,this.Kt("promiseCancelled",this)},O.prototype.st=function(){this.q=8388608|this.q},O.prototype.Vn=function(){h.hasCustomScheduler()||(this.q=134217728|this.q)},O.prototype.Qn=function(t){var n=0===t?this.Mn:this[4*t-4+3];if(n!==s)return void 0===n&&this.K()?this.H():n},O.prototype.Zn=function(t){return this[4*t-4+2]},O.prototype.tr=function(t){return this[4*t-4+0]},O.prototype.nr=function(t){return this[4*t-4+1]},O.prototype.H=function(){},O.prototype.rr=function(t){t.q;var n=t.Fn,r=t.Bn,e=t.Ln,i=t.Qn(0);void 0===i&&(i=s),this.Xn(n,r,e,i,null)},O.prototype.er=function(t,n){var r=t.tr(n),e=t.nr(n),i=t.Zn(n),u=t.Qn(n);void 0===u&&(u=s),this.Xn(r,e,i,u,null)},O.prototype.Xn=function(t,n,r,e,i){var u=this.yt();if(u>=65531&&(u=0,this.Gn(0)),0===u)this.Ln=r,this.Mn=e,"function"==typeof t&&(this.Fn=null===i?t:c.domainBind(i,t)),"function"==typeof n&&(this.Bn=null===i?n:c.domainBind(i,n));else{var o=4*u-4;this[o+2]=r,this[o+3]=e,"function"==typeof t&&(this[o+0]=null===i?t:c.domainBind(i,t)),"function"==typeof n&&(this[o+1]=null===i?n:c.domainBind(i,n))}return this.Gn(u+1),u},O.prototype.mn=function(t,n){this.Xn(void 0,void 0,n,t,null)},O.prototype.j=function(t,n){if(0==(117506048&this.q)){if(t===this)return this.pn(r(),!1);var e=p(t,this);if(!(e instanceof O))return this.dn(t);n&&this.V(e,2);var i=e.W();if(i!==this){var u=i.q;if(0==(50397184&u)){var o=this.yt();o>0&&i.rr(this);for(var s=1;s<o;++s)i.er(this,s);this.Kn(),this.Gn(0),this.ir(i)}else if(0!=(33554432&u))this.dn(i.kn());else if(0!=(16777216&u))this.M(i.bn());else{var c=new w("late cancellation observer");i.Tt(c),this.M(c)}}else this.M(r())}},O.prototype.pn=function(t,n,r){var e=c.ensureErrorObject(t),i=e===t;if(!i&&!r&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.Z(u,!0)}this.Tt(e,!!n&&i),this.M(t)},O.prototype.Un=function(t){if(t!==y){var n=this;this.Wt(),this.Ct();var r=!0,e=this.Yt(t,function(t){n.j(t)},function(t){n.pn(t,r)});r=!1,this.Ot(),void 0!==e&&n.pn(e,!0)}},O.prototype.ur=function(t,n,r,e){var i=e.q;if(0==(65536&i)){var u;e.Ct(),n===g?r&&"number"==typeof r.length?u=C(t).apply(this.H(),r):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(r)):u=C(t).call(n,r);var o=e.Ot();0==(65536&(i=e.q))&&(u===_?e.M(r):u===I?e.pn(u.e,!1):(T.checkForgottenReturns(u,o,"",e,this),e.j(u)))}},O.prototype.W=function(){for(var t=this;t.et();)t=t.it();return t},O.prototype.it=function(){return this.Bn},O.prototype.ir=function(t){this.Bn=t},O.prototype.sr=function(t,n,r,i){var o=t instanceof O,s=this.q,c=0!=(134217728&s);0!=(65536&s)?(o&&t.St(),r instanceof E&&r.isFinallyHandler()?(r.cancelPromise=t,C(n).call(r,i)===I&&t.M(I.e)):n===e?t.dn(e.call(r)):r instanceof u?r.ln(t):o||t instanceof m?t.vt():r.cancel()):"function"==typeof n?o?(c&&t.Vn(),this.ur(n,r,i,t)):n.call(r,i,t):r instanceof u?r.hn()||(0!=(33554432&s)?r.yn(i,t):r.gn(i,t)):o&&(c&&t.Vn(),0!=(33554432&s)?t.dn(i):t.M(i))},O.prototype.zn=function(t){var n=t.handler,r=t.promise,e=t.receiver,i=t.value;"function"==typeof n?r instanceof O?this.ur(n,e,i,r):n.call(e,i,r):r instanceof O&&r.M(i)},O.prototype.Wn=function(t){this.sr(t.promise,t.handler,t.receiver,t.value)},O.prototype.cr=function(t,n,r){var e=this.Ln,i=this.Qn(0);this.Ln=void 0,this.Mn=void 0,this.sr(e,t,i,n)},O.prototype.ar=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},O.prototype.dn=function(t){var n=this.q;if(!((117506048&n)>>>16)){if(t===this){var e=r();return this.Tt(e),this.M(e)}this.Hn(),this.Bn=t,(65535&n)>0&&(0!=(134217728&n)?this.F():h.settlePromises(this),this.zt())}},O.prototype.M=function(t){var n=this.q;if(!((117506048&n)>>>16)){if(this.Yn(),this.Fn=t,this.$n())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.At()}},O.prototype.hr=function(t,n){for(var r=1;r<t;r++){var e=this.tr(r),i=this.Zn(r),u=this.Qn(r);this.ar(r),this.sr(i,e,u,n)}},O.prototype.dr=function(t,n){for(var r=1;r<t;r++){var e=this.nr(r),i=this.Zn(r),u=this.Qn(r);this.ar(r),this.sr(i,e,u,n)}},O.prototype.F=function(){var t=this.q,n=65535&t;if(n>0){if(0!=(16842752&t)){var r=this.Fn;this.cr(this.Bn,r,t),this.dr(n,r)}else{var e=this.Bn;this.cr(this.Fn,e,t),this.hr(n,e)}this.Gn(0)}this.Gt()},O.prototype.Ut=function(){var t=this.q;return 0!=(33554432&t)?this.Bn:0!=(16777216&t)?this.Fn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&f.defineProperty(O.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),O.defer=O.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new O(y);return{promise:t,resolve:D,reject:N}},c.notEnumerableProp(O,"wr",r),t("./method")(O,y,p,i,T),t("./bind")(O,y,p,T),t("./cancel")(O,m,i,T),t("./direct_resolve")(O),t("./synchronous_inspection")(O),t("./join")(O,m,p,y,h,o),O.Promise=O,O.version="3.5.5",t("./call_get.js")(O),t("./generators.js")(O,i,y,p,u,T),t("./map.js")(O,m,i,p,y,T),t("./nodeify.js")(O),t("./promisify.js")(O,y),t("./props.js")(O,m,p,i),t("./race.js")(O,y,p,i),t("./reduce.js")(O,m,i,p,y,T),t("./settle.js")(O,m,T),t("./some.js")(O,m,i),t("./timers.js")(O,y,T),t("./using.js")(O,i,p,b,y,T),t("./any.js")(O),t("./each.js")(O,y),t("./filter.js")(O,y),c.toFastProperties(O),c.toFastProperties(O.prototype),A({a:1}),A({b:2}),A({c:3}),A(1),A(function(){}),A(void 0),A(!1),A(new O(y)),T.setBounds(a.firstLineError,c.lastLineError),O}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,r){n.exports=function(n,r,e,i,u){var o=t("./util");function s(t){var e=this.rn=new n(r);t instanceof n&&e.V(t,3),e.G(this),this.On=t,this.yt=0,this.Nn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.yt},s.prototype.promise=function(){return this.rn},s.prototype._init=function t(r,u){var s=e(this.On,this.rn);if(s instanceof n){var c=(s=s.W()).q;if(this.On=s,0==(50397184&c))return this.rn.Vn(),s.U(t,this.M,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.M(s.bn()):this.vt();s=s.kn()}if(null!==(s=o.asArray(s)))0!==s.length?this.yr(s):-5===u?this.gr():this.Pn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var f=i("expecting an array or an iterable object but got "+o.classString(s)).reason();this.rn.pn(f,!1)}},s.prototype.yr=function(t){var r=this.getActualLength(t.length);this.yt=r,this.On=this.shouldCopyValues()?new Array(r):this.On;for(var i=this.rn,u=!1,o=null,s=0;s<r;++s){var c=e(t[s],i);c instanceof n?(c=c.W(),o=c.q):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.mn(this,s),this.On[s]=c):u=0!=(33554432&o)?this.yn(c.kn(),s):0!=(16777216&o)?this.gn(c.bn(),s):this.ln(s):u=this.yn(c,s)}u||i.Vn()},s.prototype.hn=function(){return null===this.On},s.prototype.Pn=function(t){this.On=null,this.rn.dn(t)},s.prototype.vt=function(){!this.hn()&&this.rn.nt()&&(this.On=null,this.rn.vt())},s.prototype.M=function(t){this.On=null,this.rn.pn(t,!1)},s.prototype.yn=function(t,n){this.On[n]=t;var r=++this.Nn;return r>=this.yt&&(this.Pn(this.On),!0)},s.prototype.ln=function(){return this.vt(),!0},s.prototype.gn=function(t){return this.Nn++,this.M(t),!0},s.prototype._resultCancelled=function(){if(!this.hn()){var t=this.On;if(this.vt(),t instanceof n)t.cancel();else for(var r=0;r<t.length;++r)t[r]instanceof n&&t[r].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,r){n.exports=function(n,r){var e={},i=t("./util"),u=t("./nodeback"),o=i.withAppended,s=i.maybeWrapAsError,c=i.canEvaluate,f=t("./errors").TypeError,a={_r:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","_r"].join("|")+")$"),v=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!h.test(t)}function w(t){try{return!0===t._r}catch(t){return!1}}function y(t,n,r){var e=i.getDataPropertyOrDefault(t,n+r,a);return!!e&&w(e)}function g(t,n,r,e){for(var u=i.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],a=t[c],h=e===v||v(c);"function"!=typeof a||w(a)||y(t,c,n)||!e(c,a,t,h)||o.push(c,a)}return function(t,n,r){for(var e=0;e<t.length;e+=2){var i=t[e];if(r.test(i))for(var u=i.replace(r,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new f("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,r),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,f,a,h,v){var d=function(){return this}(),l=t;function w(){var i=c;c===e&&(i=this);var f=new n(r);f.Wt();var a="string"==typeof l&&this!==d?this[l]:t,h=u(f,v);try{a.apply(i,o(arguments,h))}catch(t){f.pn(s(t),!0,!0)}return f.jn()||f.Vn(),f}return"string"==typeof l&&(t=a),i.notEnumerableProp(w,"_r",!0),w};function m(t,n,r,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,r),f=0,a=c.length;f<a;f+=2){var h=c[f],v=c[f+1],d=h+n;if(u===p)t[d]=p(h,e,h,v,n,o);else{var l=u(v,function(){return p(h,e,h,v,n,o)});i.notEnumerableProp(l,"_r",!0),t[d]=l}}return i.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new f("expecting a function but got "+i.classString(t));if(w(t))return t;var r=void 0===(n=d(n)).context?e:n.context,u=!!n.multiArgs,o=function(t,n,r){return p(t,n,void 0,t,null,r)}(t,r,u);return i.copyDescriptors(t,o,l),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new f("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(n=d(n)).multiArgs,e=n.suffix;"string"!=typeof e&&(e="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!i.isIdentifier(e))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(t),c=0;c<s.length;++c){var a=t[s[c]];"constructor"!==s[c]&&i.isClass(a)&&(m(a.prototype,e,u,o,r),m(a,e,u,o,r))}return m(t,e,u,o,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,r){n.exports=function(n,r,e,i){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var f=function(){var t=0,n=0;function r(r,e){this[t]=r,this[t+n]=e,t++}return function(e){n=e.size,t=0;var i=new Array(2*e.size);return e.forEach(r,i),i}}();function a(t){var n,r=!1;if(void 0!==u&&t instanceof u)n=f(t),r=!0;else{var e=c.keys(t),i=e.length;n=new Array(2*i);for(var o=0;o<i;++o){var s=e[o];n[o]=t[s],n[o+i]=s}}this.constructor$(n),this.pr=r,this._init$(void 0,r?-6:-3)}function h(t){var r,u=e(t);return s(u)?(r=u instanceof n?u.U(n.props,void 0,void 0,void 0,void 0):new a(u).promise(),u instanceof n&&r.V(u,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(a,r),a.prototype._init=function(){},a.prototype.yn=function(t,n){this.On[n]=t;var r=++this.Nn;if(r>=this.yt){var e;if(this.pr)e=function(t){for(var n=new u,r=t.length/2|0,e=0;e<r;++e){var i=t[r+e],o=t[e];n.set(i,o)}return n}(this.On);else{e={};for(var i=this.length(),o=0,s=this.length();o<s;++o)e[this.On[o+i]]=this.On[o]}return this.Pn(e),!0}return!1},a.prototype.shouldCopyValues=function(){return!1},a.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,r){function e(t){this.mr=t,this.yt=0,this.kr=0}e.prototype.br=function(t){return this.mr<t},e.prototype.N=function(t){var n=this.length();this.Tr(n+1);var r=this.kr+n&this.mr-1;this[r]=t,this.yt=n+1},e.prototype.push=function(t,n,r){var e=this.length()+3;if(this.br(e))return this.N(t),this.N(n),void this.N(r);var i=this.kr+e-3;this.Tr(e);var u=this.mr-1;this[i+0&u]=t,this[i+1&u]=n,this[i+2&u]=r,this.yt=e},e.prototype.shift=function(){var t=this.kr,n=this[t];return this[t]=void 0,this.kr=t+1&this.mr-1,this.yt--,n},e.prototype.length=function(){return this.yt},e.prototype.Tr=function(t){this.mr<t&&this.Er(this.mr<<1)},e.prototype.Er=function(t){var n=this.mr;this.mr=t;var r=this.kr,e=this.yt,i=r+e&n-1;!function(t,n,r,e,i){for(var u=0;u<i;++u)r[u+e]=t[u+n],t[u+n]=void 0}(this,0,this,n,i)},n.exports=e},{}],27:[function(t,n,r){n.exports=function(n,r,e,i){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=e(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return i("expecting an array or an iterable object but got "+u.classString(t));var f=new n(r);void 0!==s&&f.V(s,3);for(var a=f.dn,h=f.M,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).U(a,h,void 0,f,null)}return f}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var s=n.Nt,c=t("./util"),f=c.tryCatch;function a(t,r,e,i){this.constructor$(t);var o=s();this.Sr=null===o?r:c.domainBind(o,r),void 0!==e&&(e=n.resolve(e)).Xt(this),this.Rr=e,this.Ir=null,this.Cr=i===u?Array(this.yt):0===i?null:void 0,this.rn.Wt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Pn(t):n.M(t)}function v(t,n,r,i){if("function"!=typeof n)return e("expecting a function but got "+c.classString(n));var u=new a(t,n,r,i);return u.promise()}function d(t){this.accum=t,this.array.Or(t);var r=i(this.value,this.array.rn);return r instanceof n?(this.array.Ir=r,r.U(l,void 0,void 0,this,void 0)):l.call(this,r)}function l(t){var r,e=this.array,i=e.rn,u=f(e.Sr);i.Ct(),(r=void 0!==e.Cr?u.call(i.H(),t,this.index,this.length):u.call(i.H(),this.accum,t,this.index,this.length))instanceof n&&(e.Ir=r);var s=i.Ot();return o.checkForgottenReturns(r,s,void 0!==e.Cr?"Promise.each":"Promise.reduce",i),r}c.inherits(a,r),a.prototype.Or=function(t){void 0!==this.Cr&&null!==this.Cr&&t!==u&&this.Cr.push(t)},a.prototype.Dr=function(t){return null!==this.Cr&&this.Cr.push(t),this.Cr},a.prototype._init=function(){},a.prototype.gr=function(){this.Pn(void 0!==this.Cr?this.Cr:this.Rr)},a.prototype.shouldCopyValues=function(){return!1},a.prototype.Pn=function(t){this.rn.j(t),this.On=null},a.prototype._resultCancelled=function(t){if(t===this.Rr)return this.vt();this.hn()||(this._resultCancelled$(),this.Ir instanceof n&&this.Ir.cancel(),this.Rr instanceof n&&this.Rr.cancel())},a.prototype.yr=function(t){var r,e;this.On=t;var i=t.length;if(void 0!==this.Rr?(r=this.Rr,e=0):(r=n.resolve(t[0]),e=1),this.Ir=r,!r.isRejected())for(;e<i;++e){var u={accum:null,value:t[e],index:e,length:i,array:this};r=r.U(d,void 0,void 0,u,void 0)}void 0!==this.Cr&&(r=r.U(this.Dr,void 0,void 0,this,void 0)),r.U(h,h,void 0,r,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,r,e){return v(t,n,r,e)}}},{"./util":36}],29:[function(t,n,r){var u,o,c,f,a,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=m.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(m,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();u=function(t){y.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in i.documentElement?(o=i.createElement("div"),c={attributes:!0},f=!1,a=i.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),f=!1}).observe(a,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,c),f||(f=!0,a.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==s?function(t){s(t,0)}:function(){throw new h("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,r){n.exports=function(n,r,e){var i=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,r),o.prototype.Nr=function(t,n){this.On[t]=n;var r=++this.Nn;return r>=this.yt&&(this.Pn(this.On),!0)},o.prototype.yn=function(t,n){var r=new i;return r.q=33554432,r.Ar=t,this.Nr(n,r)},o.prototype.gn=function(t,n){var r=new i;return r.q=16777216,r.Ar=t,this.Nr(n,r)},n.settle=function(t){return e.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,r){n.exports=function(n,r,e){var i=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=i.isArray,c={};function f(t){this.constructor$(t),this.Pr=0,this.xr=!1,this.Fr=!1}function a(t,n){if((0|n)!==n||n<0)return e("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new f(t),i=r.promise();return r.setHowMany(n),r.init(),i}i.inherits(f,r),f.prototype._init=function(){if(this.Fr)if(0!==this.Pr){this._init$(void 0,-5);var t=s(this.On);!this.hn()&&t&&this.Pr>this.Br()&&this.M(this.Lr(this.length()))}else this.Pn([])},f.prototype.init=function(){this.Fr=!0,this._init()},f.prototype.setUnwrap=function(){this.xr=!0},f.prototype.howMany=function(){return this.Pr},f.prototype.setHowMany=function(t){this.Pr=t},f.prototype.yn=function(t){return this.Mr(t),this.Ur()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xr?this.Pn(this.On[0]):this.Pn(this.On),!0)},f.prototype.gn=function(t){return this.qr(t),this.jr()},f.prototype.ln=function(){return this.On instanceof n||null==this.On?this.vt():(this.qr(c),this.jr())},f.prototype.jr=function(){if(this.howMany()>this.Br()){for(var t=new o,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.M(t):this.vt(),!0}return!1},f.prototype.Ur=function(){return this.Nn},f.prototype.Vr=function(){return this.On.length-this.length()},f.prototype.qr=function(t){this.On.push(t)},f.prototype.Mr=function(t){this.On[this.Nn++]=t},f.prototype.Br=function(){return this.length()-this.Vr()},f.prototype.Lr=function(t){var n="Input array must contain at least "+this.Pr+" items but contains only "+t+" items";return new u(n)},f.prototype.gr=function(){this.M(this.Lr(0))},n.some=function(t,n){return a(t,n)},n.prototype.some=function(t){return a(this,t)},n.i=f}},{"./errors":12,"./util":36}],32:[function(t,n,r){n.exports=function(t){function n(t){void 0!==t?(t=t.W(),this.q=t.q,this.Ar=t.jn()?t.Ut():void 0):(this.q=0,this.Ar=void 0)}n.prototype.Ut=function(){return this.Ar};var r=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ut()},e=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ut()},i=n.prototype.isFulfilled=function(){return 0!=(33554432&this.q)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.q)},o=n.prototype.isPending=function(){return 0==(50397184&this.q)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.q)};n.prototype.isCancelled=function(){return 0!=(8454144&this.q)},t.prototype.Hr=function(){return 65536==(65536&this.q)},t.prototype.kt=function(){return this.W().Hr()},t.prototype.isCancelled=function(){return 0!=(8454144&this.W().q)},t.prototype.isPending=function(){return o.call(this.W())},t.prototype.isRejected=function(){return u.call(this.W())},t.prototype.isFulfilled=function(){return i.call(this.W())},t.prototype.isResolved=function(){return s.call(this.W())},t.prototype.value=function(){return r.call(this.W())},t.prototype.reason=function(){var t=this.W();return t.Ht(),e.call(t)},t.prototype.kn=function(){return this.Ut()},t.prototype.bn=function(){return this.Ht(),this.Ut()},t.PromiseInspection=n}},{}],33:[function(t,n,r){n.exports=function(n,r){var e=t("./util"),i=e.errorObj,u=e.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return i.e=t,i}}(t);if(c===i){s&&s.Ct();var f=n.reject(c.e);return s&&s.Ot(),f}if("function"==typeof c){if(function(t){try{return o.call(t,"Ln")}catch(t){return!1}}(t)){var f=new n(r);return t.U(f.dn,f.M,void 0,f,null),f}return function(t,u,o){var s=new n(r),c=s;o&&o.Ct(),s.Wt(),o&&o.Ot();var f=!0,a=e.tryCatch(u).call(t,function(t){s&&(s.j(t),s=null)},function(t){s&&(s.pn(t,f,!0),s=null)});return f=!1,s&&a===i&&(s.pn(a.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,r){n.exports=function(n,r,e){var i=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){c(this.handle)};var f=function(t){return a(+this).thenReturn(t)},a=n.delay=function(t,i){var u,c;return void 0!==i?(u=n.resolve(i).U(f,null,null,t,void 0),e.cancellation()&&i instanceof n&&u.G(i)):(u=new n(r),c=s(function(){u.dn()},+t),e.cancellation()&&u.G(new o(c)),u.Wt()),u.Vn(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return a(t,this)},n.prototype.timeout=function(t,n){var r,c,f=new o(s(function(){r.isPending()&&function(t,n,r){var e;e="string"!=typeof n?n instanceof h?n:new u("operation timed out"):new u(n),i.markAsOriginatingFromRejection(e),t.Tt(e),t.M(e),null!=r&&r.cancel()}(r,n,c)},t=+t));return e.cancellation()?(c=this.then(),(r=c.U(v,d,void 0,f,void 0)).G(f)):r=this.U(v,d,void 0,f,void 0),r}}},{"./util":36}],35:[function(t,n,r){n.exports=function(n,r,e,i,u,o){var c=t("./util"),f=t("./errors").TypeError,a=t("./util").inherits,h=c.errorObj,v=c.tryCatch,d={};function l(t){s(function(){throw t},0)}function w(t,r){var i=0,o=t.length,s=new n(u);return function u(){if(i>=o)return s.dn();var c=function(t){var n=e(t);return n!==t&&"function"==typeof t.Wr&&"function"==typeof t.zr&&t.Wr()&&n.Xr(t.zr()),n}(t[i++]);if(c instanceof n&&c.Wr()){try{c=e(c.zr().tryDispose(r),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.U(u,l,null,null,null)}u()}(),s}function y(t,n,r){this.Gr=t,this.rn=n,this.Yr=r}function g(t,n,r){this.constructor$(t,n,r)}function _(t){return y.isDisposer(t)?(this.resources[this.index].Xr(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.Gr},y.prototype.promise=function(){return this.rn},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),r=this.Yr;void 0!==r&&r.Ct();var e=n!==d?this.doDispose(n,t):null;return void 0!==r&&r.Ot(),this.rn.Kr(),this.Gr=null,e},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},a(g,y),g.prototype.doDispose=function(t,n){var r=this.data();return r.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,r=0;r<t;++r){var e=this[r];e instanceof n&&e.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var i,u=arguments[t-1];if("function"!=typeof u)return r("expecting a function but got "+c.classString(u));var s=!0;2===t&&Array.isArray(arguments[0])?(i=arguments[0],t=i.length,s=!1):(i=arguments,t--);for(var f=new p(t),a=0;a<t;++a){var d=i[a];if(y.isDisposer(d)){var l=d;(d=d.promise()).Xr(l)}else{var g=e(d);g instanceof n&&(d=g.U(_,null,null,{resources:f,index:a},void 0))}f[a]=d}for(var m=new Array(f.length),a=0;a<m.length;++a)m[a]=n.resolve(f[a]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var r=t[n];if(r.isRejected())return h.e=r.error(),h;if(!r.isFulfilled())return void k.cancel();t[n]=r.value()}b.Ct(),u=v(u);var e=s?u.apply(void 0,t):u(t),i=b.Ot();return o.checkForgottenReturns(e,i,"Promise.using",b),e}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(f,t)});return f.promise=b,b.G(f),b},n.prototype.Xr=function(t){this.q=131072|this.q,this.$r=t},n.prototype.Wr=function(){return(131072&this.q)>0},n.prototype.zr=function(){return this.$r},n.prototype.Kr=function(){this.q=-131073&this.q,this.$r=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,i());throw new f}}},{"./errors":12,"./util":36}],36:[function(n,r,i){var u,s=n("./es5"),c=void 0===o,f={e:{}},a=void 0!==t?t:void 0!==e?e:void 0!==m?m:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return f.e=t,f}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,r){if(l(t))return t;var e={value:r,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,e),t}var y=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var r=0;r<t.length;++r)if(t[r]===n)return!0;return!1};if(s.isES5){var r=d.getOwnPropertyNames;return function(t){for(var e=[],i=d.create(null);null!=t&&!n(t);){var u;try{u=r(t)}catch(t){return e}for(var o=0;o<u.length;++o){var c=u[o];if(!i[c]){i[c]=!0;var f=d.getOwnPropertyDescriptor(t,c);null!=f&&null==f.get&&null==f.set&&e.push(c)}}t=s.getPrototypeOf(t)}return e}}var e={}.hasOwnProperty;return function(r){if(n(r))return[];var i=[];t:for(var u in r)if(e.call(r,u))i.push(u);else{for(var o=0;o<t.length;++o)if(e.call(t[o],u))continue t;i.push(u)}return i}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof h||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return k(t)&&s.propertyIsWritable(t,"stack")}var T="stack"in new h?function(t){return b(t)?t:new h(p(t))}:function(t){if(b(t))return t;try{throw new h(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,r=[],e=t[Symbol.iterator]();!(n=e.next()).done;)r.push(n.value);return r};S=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,C="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),O="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),r=s.isES5&&n.length>1,e=n.length>0&&!(1===n.length&&"constructor"===n[0]),i=g.test(t+"")&&s.names(t).length>0;if(r||e||i)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,r){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var e=d.getOwnPropertyDescriptor(t,n);return null!=e?null==e.get&&null==e.set?e.value:r:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:S,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:c,errorObj:f,tryCatch:function(t){return u=t,v},inherits:function(t,n){var r={}.hasOwnProperty;function e(){for(var e in this.constructor=t,this.constructor$=n,n.prototype)r.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(t,n){var r,e=t.length,i=new Array(e+1);for(r=0;r<e;++r)i[r]=t[r];return i[r]=n,i},maybeWrapAsError:function(t){return l(t)?new h(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,r){for(var e=new Array(t),i=0;i<t;++i)e[i]=n+i+r;return e},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof h.Zt.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,r){for(var e=s.names(t),i=0;i<e.length;++i){var u=e[i];if(r(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:O,env:function(t){return O?process.env[t]:void 0},global:a,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),D.isNode&&D.toFastProperties(process);try{throw new h}catch(t){D.lastLineError=t}r.exports=D},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var O,D,N,A={Jr:function(){function t(){this.Qr=[]}var n=t.prototype;return n.Zr=function(){},n.te=function(t){return{re:function(){return C.resolve()},ee:function(){}}},n.ie=function(t){return C.resolve()},n.ue=function(t){},n.oe=function(){},t}(),se:function(){function t(){}var n=t.prototype;return n.ce=function(){return C.resolve("all")},n.fe=function(){},n.oe=function(){},t}(),ae:{he:function(t){getActiveDocument().addEventListener("unload",t)},ve:function(t){getActiveDocument().removeEventListener("unload",t)}},de:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function P(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function x(t,n,r){return n&&P(t.prototype,n),r&&P(t,r),t}Element.prototype.style={},b=(O=A).Jr,T=O.se,E=O.ae,S=O.de,R=S&&S.location,I=S&&S.navigator,function(t){t.we="web",t.ye="android",t._e="android-tv",t.pe="ios",t.me="tvos",t.ke="chromecast"}(N||(N={}));var F=o?o.userAgent:"",B=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,L=F.match(/Android ([0-9\.]+)/i),M=F.match(/Windows NT ([0-9\.]+)/i),U=F.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),q=F.match(/Firefox\/([0-9\.]+)/i),j=F.match(/OPR\/(\d+\.\d+)/i),V=F.match(/Tizen ([0-9\.]+)/i),H=function(){function n(){this.be=Boolean("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.Te=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(F)||/(macintosh|mac(?=_powerpc)\s)/i.test(F),this.Ee=/Windows NT/i.test(F),this.Se=M?y(M[1]):0,this.Re=/Android/i.test(F),this.Ie=L?y(L[1]):0,this.Ce=/windows phone (8|8\.1)/i.test(F),this.Oe=/iPhone/i.test(F),this.De=/iPad/i.test(F),this.Ne=this.Te&&this.be&&!this.De,this.Ae=/iPod/i.test(F),this.Pe=/Mobile Safari/i.test(F),this.xe=(this.Oe||this.De||this.Ne||this.Ae)&&!this.Ce,this.Fe=this.Ce||this.xe||this.Re||this.Pe,this.Be=/CriOS/i.test(F),this.Le=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Be,this.Me=B.exec(F)||[],this.Ue=/SMART-TV.*Tizen/i.test(F),this.qe=V?y(V[1]):0,this.je=/webos|web0s/i.test(F),this.Ve=/Edge\/\d+/i.test(F),this.He=/Trident/i.test(F),this.We=this.He&&!t.ActiveXObject&&"ActiveXObject"in t,this.ze=/Vivaldi/i.test(F),this.Xe=/Firefox/i.test(F)&&!/Seamonkey/i.test(F),this.Ge=q?y(q[1]):0,this.Ye=/Safari/i.test(F)&&!/Chrome/i.test(F)&&!this.Ce&&!this.Ue,this.Ke=U?y(U[2]):0,this.$e=Boolean(j),this.Je=j?y(j[1]):0,this.Qe="tvos"===N._e,this.Ze="tvos"===N.ye,this.ti=this.Ze||this.Qe,this.ni="tvos"===N.pe,this.ri="tvos"===N.me,this.ei="tvos"===N.ke}return x(n,[{key:"ii",get:function(){return this.be}},{key:"ui",get:function(){return this.Te}},{key:"oi",get:function(){return this.Ee}},{key:"si",get:function(){return this.Se}},{key:"ci",get:function(){return this.Re}},{key:"fi",get:function(){return this.Ie}},{key:"ai",get:function(){return this.Ce}},{key:"hi",get:function(){return this.Oe}},{key:"vi",get:function(){return this.De}},{key:"di",get:function(){return this.Ne}},{key:"li",get:function(){return this.Ae}},{key:"wi",get:function(){return this.xe}},{key:"yi",get:function(){return this.Pe}},{key:"gi",get:function(){return this.Fe}},{key:"_i",get:function(){return this.Be}},{key:"pi",get:function(){return this.Le}},{key:"mi",get:function(){return this.Me}},{key:"ki",get:function(){return this.Me[1]}},{key:"bi",get:function(){return this.Ue}},{key:"Ti",get:function(){return this.qe}},{key:"Ei",get:function(){return this.je}},{key:"Si",get:function(){return this.Ve}},{key:"Ri",get:function(){return this.He}},{key:"Ii",get:function(){return this.We}},{key:"Ci",get:function(){return this.ze}},{key:"Oi",get:function(){return this.Xe}},{key:"Di",get:function(){return this.Ge}},{key:"Ni",get:function(){return this.Ye}},{key:"Ai",get:function(){return this.Ke}},{key:"Pi",get:function(){return this.$e}},{key:"xi",get:function(){return this.Je}},{key:"Fi",get:function(){return this.Qe}},{key:"Bi",get:function(){return this.Ze}},{key:"Li",get:function(){return this.ti}},{key:"Mi",get:function(){return this.ni}},{key:"Ui",get:function(){return this.ri}},{key:"qi",get:function(){return this.ei}}]),n}();H.ji=new H;var W=H.ji,z={}.hasOwnProperty,X={}.toString;function G(t){return null!=t}var Y=Array.isArray||function(t){return"[object Array]"===X.call(t)};function K(t){return $(t)&&z.call(t,"length")&&nt(t.length)}function $(t){return"object"==typeof t&&null!==t}function J(t){return $(t)&&t.constructor&&t.constructor===d}function Q(t){return"string"==typeof t}function Z(t){return"boolean"==typeof t}function tt(t){return Boolean(t)&&"function"==typeof t.then}function nt(t){return"number"==typeof t}var rt=function(){},et=function(t){return t},it=!(W.Ri&&!W.Ii),ut=t.console;function ot(t){if($(t))try{return JSON.stringify(t)}catch(t){}return t}function st(t){return t.map(ot).join(" ")}function ct(t){var n=ut&&ut[t];return n?n.bind&&it?n.bind(ut):function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];ut[t](st(r))}:void 0}var ft,at,ht=ct("log")||rt,vt=ct("warn")||ht.bind(void 0,"WARNING:"),dt=ct("error")||ht.bind(void 0,"ERROR:"),lt=(ft=ut&&ut.assert)?ft.bind&&it?ft.bind(ut):function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];ut.assert(t,st(r))}:function(t){if(!t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];dt.apply(void 0,["Assertion failed:"].concat(r))}};function wt(){return Date.now()||(new Date).getTime()}function yt(t){return t/1e3}function gt(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function _t(t){return t.Vi===at.Hi}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Hi=1]="Hi",t[t.Wi=2]="Wi",t[t.zi=3]="zi",t[t.Xi=4]="Xi",t[t.Gi=9]="Gi"}(at||(at={}));var mt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];h.apply(this,n)};(mt.prototype=d.create(h.prototype)).constructor=mt;var kt=function(t){function n(n,r){var e;return(e=t.call(this)||this).message=n||"Unknown error",e.cause=r,h.captureStackTrace&&h.captureStackTrace(pt(e),e.constructor),e}return gt(n,t),x(n,[{key:"name",get:function(){return"BaseError"}}]),n}(mt),bt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return gt(n,t),n}(kt),Tt=function(){function t(){}return t.prototype.Yi=function(t){var n,r=new DOMParser;try{n=r.parseFromString(t,"text/xml")}catch(t){throw new bt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new bt;return new Dt(n)},t}(),Et=function(){function t(t){this.Ki=t}var n=t.prototype;return n.$i=function(t){return this.Ki.isEqualNode(t.Ki)},n.Ji=function(n){return new t(this.Ki.cloneNode(n))},x(t,[{key:"Vi",get:function(){return at.Wi}},{key:"Qi",get:function(){var t;return null!==(t=this.Ki.localName)&&void 0!==t?t:Pt(this.Ki.nodeName)}},{key:"Zi",get:function(){return this.Ki.nodeName}},{key:"tu",get:function(){var t;return null!==(t=this.Ki.namespaceURI)&&void 0!==t?t:void 0}},{key:"nu",get:function(){var t;return null!==(t=this.Ki.prefix)&&void 0!==t?t:void 0}},{key:"ru",get:function(){return this.Ki.nodeValue}}]),t}(),St=function(){function t(t){this.eu=void 0,this.iu=t}var n=t.prototype;return n.uu=function(t){return this.ou.filter(function(n){return Nt(n)&&n.su===t})},n.cu=function(t,n){return this.ou.filter(function(r){return Nt(r)&&r.Qi===n&&r.tu===t})},n.fu=function(t){this.iu.appendChild(t.au),this.eu&&this.eu.push(t)},n.$i=function(t){return this.iu.isEqualNode(t.au)},x(t,[{key:"ou",get:function(){return void 0===this.eu&&(this.eu=function(t){for(var n=[],r=0;r<t.length;r++){var e=At(t.item(r));e&&n.push(e)}return n}(this.iu.childNodes)),this.eu}},{key:"hu",get:function(){return this.ou.filter(Nt)}},{key:"au",get:function(){return this.iu}}]),t}(),Rt=function(t){function n(n){return t.call(this,n)||this}gt(n,t);var r=n.prototype;return r.vu=function(t){var n;return null!==(n=this.iu.getAttribute(t))&&void 0!==n?n:void 0},r.du=function(t,n){var r;return null!==(r=this.iu.getAttributeNS(t,n))&&void 0!==r?r:void 0},r.lu=function(t){this.iu.removeAttribute(t)},r.wu=function(t,n){this.iu.removeAttributeNS(t,n)},r.yu=function(t,n){this.iu.setAttribute(t,n)},r.gu=function(t,n,r){this.iu.setAttributeNS(t,n,r)},r.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.Hi}},{key:"Qi",get:function(){var t;return null!==(t=this.iu.localName)&&void 0!==t?t:Pt(this.iu.nodeName)}},{key:"tu",get:function(){var t;return null!==(t=this.iu.namespaceURI)&&void 0!==t?t:void 0}},{key:"nu",get:function(){var t;return null!==(t=this.iu.prefix)&&void 0!==t?t:void 0}},{key:"su",get:function(){return this.iu.nodeName}},{key:"_u",get:function(){return function(t){for(var n=[],r=0;r<t.length;r++)n.push(new Et(t.item(r)));return n}(this.iu.attributes)}},{key:"pu",get:function(){return this.iu.textContent}}]),n}(St),It=function(){function t(t){this.iu=t}return t.prototype.$i=function(t){return this.mu===t.mu},x(t,[{key:"mu",get:function(){return this.iu.nodeValue}},{key:"au",get:function(){return this.iu}}]),t}(),Ct=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n.prototype.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.zi}}]),n}(It),Ot=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n.prototype.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.Xi}}]),n}(It),Dt=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n.prototype.Ji=function(t){return new n(this.iu.cloneNode(t))},x(n,[{key:"Vi",get:function(){return at.Gi}},{key:"ku",get:function(){return new Rt(this.iu.documentElement)}}]),n}(St);function Nt(t){return _t(t)}function At(t){switch(t.nodeType){case at.Hi:return new Rt(t);case at.zi:return new Ct(t);case at.Xi:return new Ot(t)}}function Pt(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var xt=k(function(t){!function(t){var n,r=d.prototype,e=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,n,r,e){var i=n&&n.prototype instanceof p?n:p,u=d.create(i.prototype),o=new N(e||[]);return u.bu=function(t,n,r){var e=a;return function(i,u){if(e===w)throw new h("Generator is already running");if(e===y){if("throw"===i)throw u;return P()}for(r.method=i,r.arg=u;;){var o=r.delegate;if(o){var s=C(o,r);if(s){if(s===_)continue;return s}}if("next"===r.method)r.sent=r.Tu=r.arg;else if("throw"===r.method){if(e===a)throw e=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=w;var c=f(t,n,r);if("normal"===c.type){if(e=r.done?y:l,c.arg===_)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(e=y,r.method="throw",r.arg=c.arg)}}}(t,r,o),u}function f(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var a="suspendedStart",l="suspendedYield",w="executing",y="completed",_={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=d.getPrototypeOf,E=T&&T(T(A([])));E&&E!==r&&e.call(E,u)&&(b=E);var S=k.prototype=p.prototype=d.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.bu(n,t)}})}function I(t){var n;this.bu=function(r,i){function u(){return new Promise(function(n,u){!function n(r,i,u,o){var s=f(t[r],t,i);if("throw"!==s.type){var c=s.arg,a=c.value;return a&&"object"==typeof a&&e.call(a,"Eu")?Promise.resolve(a.Eu).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(a).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(r,i,n,u)})}return n=n?n.then(u,u):u()}}function C(t,r){var e=t.iterator[r.method];if(e===n){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=n,C(t,r),"throw"===r.method))return _;r.method="throw",r.arg=new v("The iterator does not provide a 'throw' method")}return _}var i=f(e,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,_;var u=i.arg;return u?u.done?(r[t.resultName]=u.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,_):u:(r.method="throw",r.arg=new v("iterator result is not an object"),r.delegate=null,_)}function O(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function A(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!g(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(e.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=n,r.done=!0,r};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=d.create(S),t},t.awrap=function(t){return{Eu:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,r,e,i){var u=new I(c(n,r,e,i));return t.isGeneratorFunction(r)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},t.values=A,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Tu=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!g(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(e,i){return s.type="throw",s.arg=t,r.next=e,i&&(r.method="next",r.arg=n),!!i}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=e.call(o,"catchLoc"),f=e.call(o,"finallyLoc");if(c&&f){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!f)throw new h("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&e.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,_):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),D(r),_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;D(r)}return i}}throw new h("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:A(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=n),_}}}(t.exports)});function Ft(){return(Ft=d.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var e in r)d.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t}).apply(this,arguments)}function Bt(){var t=d.create(null);return t.Su=void 0,delete t.Su,t}function Lt(){return new qt}var Mt,Ut="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,qt=Ut||(Mt=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Bt(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Bt(),this.size=0},n.keys=function(){return new Mt(this.data,function(t,n){return n})},n.values=function(){return new Mt(this.data,function(t,n){return t[n]})},n.entries=function(){return new Mt(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var jt,Vt=Ut||(jt=function(){function t(t,n){this.Ru=t,this.Iu=n}var n=t.prototype;return n.next=function(){var t=this.Ru.next();return t.done?t:{value:this.Iu(t.value),done:!1}},t}(),function(){function t(){this.Cu=Lt()}var n=t.prototype;return n.get=function(t){return this.Cu.get(""+t)},n.set=function(t,n){return this.Cu.set(""+t,n),this},n.has=function(t){return this.Cu.has(""+t)},n.delete=function(t){return this.Cu.delete(""+t)},n.clear=function(){this.Cu.clear()},n.keys=function(){return new jt(this.Cu.keys(),function(t){return Number(t)})},n.values=function(){return this.Cu.values()},n.entries=function(){return new jt(this.Cu.entries(),function(t){var n=t[0],r=t[1];return[Number(n),r]})},n.forEach=function(t){this.Cu.forEach(function(n,r){t(n,Number(r))})},x(t,[{key:"size",get:function(){return this.Cu.size}}]),t}());var Ht,Wt="cenc",zt="sinf",Xt="skd",Gt="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Yt="com.microsoft.playready",Kt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",$t="urn:uuid:"+Kt,Jt="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Qt="urn:uuid:"+Jt,Zt="com.apple.fps.1_0";!function(t){t.Ou="playready",t.Du="widevine",t.Nu="fairplay",t.Au="clearkey",t.Pu="aes128"}(Ht||(Ht={}));var tn={xu:Ht.Ou,Fu:Yt,Bu:"cenc",Lu:"9a04f079-9840-4286-ab92-e65be0885f95",Mu:Gt,Uu:"PlayReady"},nn={xu:Ht.Du,Fu:"com.widevine.alpha",Bu:"cenc",Lu:Kt,Mu:$t,Uu:"Widevine"},rn={xu:Ht.Nu,Fu:Zt,Bu:"skd",Lu:Jt,Mu:Qt,Uu:"FairPlay"},en=(Ht.Nu,{xu:Ht.Au,Fu:"org.w3.clearkey",Bu:"cenc",Lu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Mu:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Uu:"ClearKey"});function un(t,n,r){return t.split(n).join(r)}function on(t,n){return null!=t&&-1!==t.indexOf(n)}function sn(t,n){return null!=t&&t.substr(0,n.length)===n}function cn(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function fn(t,n){return t.toUpperCase()===n.toUpperCase()}function an(t){for(var n=[],r=0;r<t.length;r++){var e=t[r];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return String.fromCharCode.apply(String,n)}var hn=(W.pi&&Number(W.mi[1]))>=42||W.Oi&&W.Di>=38||W.Si||W.Ii||W.Pi&&W.xi>=29;function vn(t,n){return on(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Ft({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Ft({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var dn=function(){function t(t){this.qu=Lt(),this.ju=void 0,this.Vu=t}var n=t.prototype;return n.Hu=function(){return this.Wu(nn)},n.zu=function(){return this.Wu(en)},n.Xu=function(){return this.Wu(tn)},n.Gu=function(){return this.Wu(rn)},n.Wu=function(t){var n=t.Mu,r=this.qu.get(n);if(r)return r;var e=this.Yu(t,'video/mp4; codecs="avc1.42000a"');return this.qu.set(n,e),e},n.Yu=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Vu.Ku(n.Fu,[vn(r,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Vu.Ku(n.Fu,[vn(r,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.$u=function(){return this.ju||(this.ju=this.Ju()),this.ju},n.Ju=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(hn){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.zu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function ln(t,n){var r=function(t,n){var r=t,e=r.length;if(e<=1)return r;for(var i=new Array(e),u=1;u<e;u*=2){wn(r,n,u,i);var o=r;r=i,i=o}return r}(t,n);return r!==t&&wn(r,void 0,t.length,t),t}function wn(t,n,r,e){var i,u,o,s,c,f=t.length,a=0,h=2*r;for(u=0;u<f;u+=h)for(i=(o=u+r)+r,o>f&&(o=f),i>f&&(i=f),s=u,c=o;;)if(s<o&&c<i)n&&n(t[s],t[c])<=0?e[a++]=t[s++]:e[a++]=t[c++];else if(s<o)e[a++]=t[s++];else{if(!(c<i))break;e[a++]=t[c++]}}function yn(t,n,r){var e=function(t,n,r){for(var e=0;e<t.length;e+=1){var i=t[e];if(n.call(r,i,e,t))return e}return-1}(t,n,r);return-1===e?void 0:t[e]}function gn(t,n){var r=t.indexOf(n);return-1!==r&&(_n(t,r),!0)}function _n(t,n){t.splice(n,1)}function pn(t,n){return-1!==t.indexOf(n)}function mn(t){t.length=0}var kn=function(){function t(){this.Qu=!1,this.Zu=!1,this.to=[],this.no=[]}var n=t.prototype;return n.ro=function(){if(!this.Qu&&!this.Zu){this.Qu=!0;for(var t=0,n=this.to.slice();t<n.length;t++){(0,n[t])()}this.eo()}},n.eo=function(){if(!this.Zu){this.Zu=!0;for(var t=0,n=this.no.slice();t<n.length;t++){(0,n[t])()}mn(this.to),mn(this.no)}},n.io=function(t){this.Zu||this.to.push(t)},n.uo=function(t){this.Zu||gn(this.to,t)},n.oo=function(t){this.Zu||this.no.push(t)},n.so=function(t){this.Zu||gn(this.no,t)},t}(),bn=function(){function t(){this.co=new kn}var n=t.prototype;return n.fo=function(){this.co.ro()},n.eo=function(){this.co.eo()},n.ao=function(t){var n=this.co;if(!n.Qu)if(t.Qu)n.ro();else if(!n.Zu&&!t.Zu){var r=function(){e(),n.ro()},e=function e(){t.uo(r),t.so(e),n.uo(r),n.so(e)};t.io(r),t.oo(e),n.io(r),n.oo(e)}},n.ho=function(){var n=new t,r=new t,e=n.vo,i=r.vo,u=this.co,o=function(){e.Qu&&i.Zu||i.Qu&&e.Zu?u.ro():e.Zu&&i.Zu&&u.eo()};e.io(o),i.io(o),e.oo(o),i.oo(o),n.ao(u),r.ao(u);return u.oo(function(){e.uo(o),i.uo(o),e.so(o),i.so(o)}),[n,r]},x(t,[{key:"vo",get:function(){return this.co}}]),t}(),Tn=function(t){function n(n,r){return t.call(this,n||"Aborted",r)||this}return gt(n,t),x(n,[{key:"name",get:function(){return"AbortError"}}]),n}(kt);function En(t){return t instanceof h&&"AbortError"===t.name}function Sn(t){if(t&&t.Qu)throw new Tn}function Rn(t){if(En(t))throw t}function In(t){if(!En(t))throw t}function Cn(t,n){return n?new C(function(r,e){if(n.Qu)return t.catch(rt),e(new Tn);var i=function t(){n.uo(t),e(new Tn)};n.io(i),t.then(function(t){n.uo(i),r(t)},function(t){n.uo(i),e(t)})}):t}function On(t,n){return t.then(function(t){return n.eo(),t},function(t){throw n.eo(),t})}var Dn=C.resolve();function Nn(t){Dn.then(t)}function An(t){t.then(rt,rt)}function Pn(t){return xn.apply(this,arguments)}function xn(){return(xn=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(rt)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Fn(t){return t&&"function"!=typeof t?t.slice():t}function Bn(t,n,r){if(r)if("function"==typeof r)r.call(t,n);else for(var e=0;e<r.length;e++){r[e].call(t,n)}}var Ln,Mn=function(){function t(t){var n=this;this.do=Bt(),this.lo=function(t){n.wo(t)},this.yo=t||this}var n=t.prototype;return n._o=function(t,n){if("function"==typeof n)if("string"==typeof t)this.po(t,n);else for(var r=0;r<t.length;r++){var e=t[r];this.po(e,n)}},n.po=function(t,n){var r=this.do[t];r?"function"==typeof r?this.do[t]=[r,n]:r.push(n):this.do[t]=n},n.mo=function(){this.do=Bt()},n.wo=function(t){var n=Fn(this.do[t.type]);Bn(this.yo,t,n)},n.ko=function(t,n){if("function"==typeof n)if("string"==typeof t)this.bo(t,n);else for(var r=0;r<t.length;r++){var e=t[r];this.bo(e,n)}},n.bo=function(t,n){var r=this.do[t];r&&("function"==typeof r?r===n&&(this.do[t]=void 0):gn(r,n))},n.To=function(t){if("string"==typeof t)this.do[t]=void 0;else for(var n=0;n<t.length;n++){var r=t[n];this.do[r]=void 0}},n.Eo=function(t,n){var r=this;return new C(function(e,i){if(n&&n.Qu)return i(new Tn);var u=function(t){s(),e(t)},o=function(){s(),i(new Tn)},s=function(){r.ko(t,u),n&&n.uo(o)};r._o(t,u),n&&n.io(o)})},t}(),Un=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.wo=function(n){var r=this;Nn(function(){t.prototype.wo.call(r,n)})},n}(Mn),qn=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},jn=function(t){function n(n){var r;return(r=t.call(this,"Ro")||this).So=n,r}return gt(n,t),n}(qn),Vn=function(t){function n(n,r,e,i){var u;return(u=t.call(this,"Io")||this).So=n,u.Co=r,u.Io=e,u.Oo=i,u}return gt(n,t),n}(qn),Hn=function(t){function n(){return t.call(this,"Do")||this}return gt(n,t),n}(qn);!function(t){t.No="Ao",t.Po="xo"}(Ln||(Ln={}));var Wn=function(t){function n(n,r){var e;return(e=t.call(this,Ln.No)||this).Bu=n,e.Fo=r,e}return gt(n,t),n}(qn),zn=new _([0]).buffer,Xn=function(){function t(){this.Bo=[]}var n=t.prototype;return n.Lo=function(t){for(var n=0,r=this.Bo;n<r.length;n++){if(r[n][0]===t)return!0}return!1},n.Mo=function(t){for(var n=0,r=this.Bo;n<r.length;n++){var e=r[n];if(e[0]===t)return e[1]}},n.Uo=function(t,n){this.Bo.forEach(function(n){return t(n[1],n[0])},n)},n.qo=function(t,n){this.Bo.push([t,n])},n.jo=function(){mn(this.Bo)},x(t,[{key:"Vo",get:function(){return this.Bo.length}}]),t}(),Gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Yn=16383,Kn=/[\t\n\f\r ]/g;function $n(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Jn()}function Jn(){throw new h("Invalid base64 input")}function Qn(t){var n=t;Kn.test(n)&&(n=n.replace(Kn,""));var r=n.length;r%4==0&&r>=1&&"="===n[r-1]&&(r>=2&&"="===n[r-2]?r-=2:r-=1,n=n.substr(0,r));var e=r%4;if(1===e)return Jn();for(var i,u=0===e?0:4-e,o=new _(function(t,n){return 3*(t+n)/4-n}(r,u)),s=u>0?r-4:r,c=0,f=0;c<s;c+=4)i=$n(n.charCodeAt(c))<<18|$n(n.charCodeAt(c+1))<<12|$n(n.charCodeAt(c+2))<<6|$n(n.charCodeAt(c+3)),o[f++]=i>>16&255,o[f++]=i>>8&255,o[f++]=255&i;return 2===u?(i=$n(n.charCodeAt(c))<<2|$n(n.charCodeAt(c+1))>>4,o[f++]=255&i):1===u&&(i=$n(n.charCodeAt(c))<<10|$n(n.charCodeAt(c+1))<<4|$n(n.charCodeAt(c+2))>>2,o[f++]=i>>8&255,o[f++]=255&i),o}function Zn(t,n,r){for(var e,i,u,o=[],s=n;s<r;s+=3)o.push((e=t[s],i=t[s+1],u=t[s+2],Gn[e>>2]+Gn[(3&e)<<4|i>>4]+Gn[(15&i)<<2|u>>6]+Gn[63&u]));return o.join("")}function tr(t){for(var n=t.length,r=n%3,e=[],i=n-r,u=0;u<i;u+=Yn)e.push(Zn(t,u,l.min(i,u+Yn)));if(1===r){var o=t[n-1];e.push(Gn[o>>2]+Gn[(3&o)<<4]+"==")}else if(2===r){var s=t[n-2],c=t[n-1];e.push(Gn[s>>2]+Gn[(3&s)<<4|c>>4]+Gn[(15&c)<<2]+"=")}return e.join("")}var nr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],rr=ArrayBuffer.isView||function(t){return t&&pn(nr,X.call(t))};function er(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r+=1)if(t[r]!==n[r])return!1;return!0}(new _(t),new _(n))}function ir(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var r=new _(n),e=0,i=0;i<t.length;i++){var u=t[i];r.set(u,e),e+=u.byteLength}return r}(t,n)}function ur(t){return Qn(t).buffer}function or(t){return tr(new _(t))}function sr(t){return tr(te(t))}var cr=function(){function t(t){void 0===t&&(t=0),this.Ho=t}var n=t.prototype;return n.Wo=function(t){this.Ho+=t},n.zo=function(t){this.Ho=t},n.Xo=function(){return new t(this.Go)},x(t,[{key:"Go",get:function(){return this.Ho}}]),t}(),fr=hr,ar=null;try{ar=new WebAssembly.Instance(new WebAssembly.Module(new _([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function hr(t,n,r){this.low=0|t,this.high=0|n,this.unsigned=!!r}function vr(t){return!0===(t&&t.Yo)}hr.prototype.Yo,d.defineProperty(hr.prototype,"Yo",{value:!0}),hr.isLong=vr;var dr={},lr={};function wr(t,n){var r,e,i;return n?(i=0<=(t>>>=0)&&t<256)&&(e=lr[t])?e:(r=gr(t,(0|t)<0?-1:0,!0),i&&(lr[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(e=dr[t])?e:(r=gr(t,t<0?-1:0,!1),i&&(dr[t]=r),r)}function yr(t,n){if(g(t))return n?Rr:Sr;if(n){if(t<0)return Rr;if(t>=br)return Nr}else{if(t<=-Tr)return Ar;if(t+1>=Tr)return Dr}return t<0?yr(-t,n).neg():gr(t%kr|0,t/kr|0,n)}function gr(t,n,r){return new hr(t,n,r)}hr.fromInt=wr,hr.fromNumber=yr,hr.fromBits=gr;var _r=l.pow;function pr(t,n,r){if(0===t.length)throw h("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Sr;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw h("interior hyphen");if(0===e)return pr(t.substring(1),n,r).neg();for(var i=yr(_r(r,8)),u=Sr,o=0;o<t.length;o+=8){var s=l.min(8,t.length-o),c=w(t.substring(o,o+s),r);if(s<8){var f=yr(_r(r,s));u=u.mul(f).add(yr(c))}else u=(u=u.mul(i)).add(yr(c))}return u.unsigned=n,u}function mr(t,n){return"number"==typeof t?yr(t,n):"string"==typeof t?pr(t,n):gr(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}hr.fromString=pr,hr.fromValue=mr;var kr=4294967296,br=kr*kr,Tr=br/2,Er=wr(1<<24),Sr=wr(0);hr.ZERO=Sr;var Rr=wr(0,!0);hr.UZERO=Rr;var Ir=wr(1);hr.ONE=Ir;var Cr=wr(1,!0);hr.UONE=Cr;var Or=wr(-1);hr.NEG_ONE=Or;var Dr=gr(-1,2147483647,!1);hr.MAX_VALUE=Dr;var Nr=gr(-1,-1,!0);hr.MAX_UNSIGNED_VALUE=Nr;var Ar=gr(0,-2147483648,!1);hr.MIN_VALUE=Ar;var Pr=hr.prototype;Pr.toInt=function(){return this.unsigned?this.low>>>0:this.low},Pr.toNumber=function(){return this.unsigned?(this.high>>>0)*kr+(this.low>>>0):this.high*kr+(this.low>>>0)},Pr.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ar)){var n=yr(t),r=this.div(n),e=r.mul(n).sub(this);return r.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=yr(_r(t,6),this.unsigned),u=this,o="";;){var s=u.div(i),c=(u.sub(s.mul(i)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Pr.getHighBits=function(){return this.high},Pr.getHighBitsUnsigned=function(){return this.high>>>0},Pr.getLowBits=function(){return this.low},Pr.getLowBitsUnsigned=function(){return this.low>>>0},Pr.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ar)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Pr.isZero=function(){return 0===this.high&&0===this.low},Pr.eqz=Pr.isZero,Pr.isNegative=function(){return!this.unsigned&&this.high<0},Pr.isPositive=function(){return this.unsigned||this.high>=0},Pr.isOdd=function(){return 1==(1&this.low)},Pr.isEven=function(){return 0==(1&this.low)},Pr.equals=function(t){return vr(t)||(t=mr(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Pr.eq=Pr.equals,Pr.notEquals=function(t){return!this.eq(t)},Pr.neq=Pr.notEquals,Pr.ne=Pr.notEquals,Pr.lessThan=function(t){return this.comp(t)<0},Pr.lt=Pr.lessThan,Pr.lessThanOrEqual=function(t){return this.comp(t)<=0},Pr.lte=Pr.lessThanOrEqual,Pr.le=Pr.lessThanOrEqual,Pr.greaterThan=function(t){return this.comp(t)>0},Pr.gt=Pr.greaterThan,Pr.greaterThanOrEqual=function(t){return this.comp(t)>=0},Pr.gte=Pr.greaterThanOrEqual,Pr.ge=Pr.greaterThanOrEqual,Pr.compare=function(t){if(vr(t)||(t=mr(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Pr.comp=Pr.compare,Pr.negate=function(){return!this.unsigned&&this.eq(Ar)?Ar:this.not().add(Ir)},Pr.neg=Pr.negate,Pr.add=function(t){vr(t)||(t=mr(t));var n=this.high>>>16,r=65535&this.high,e=this.low>>>16,i=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,f=0,a=0,h=0;return a+=(h+=i+(65535&t.low))>>>16,f+=(a+=e+s)>>>16,c+=(f+=r+o)>>>16,c+=n+u,gr((a&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},Pr.subtract=function(t){return vr(t)||(t=mr(t)),this.add(t.neg())},Pr.sub=Pr.subtract,Pr.multiply=function(t){if(this.isZero())return Sr;if(vr(t)||(t=mr(t)),ar)return gr(ar.mul(this.low,this.high,t.low,t.high),ar.get_high(),this.unsigned);if(t.isZero())return Sr;if(this.eq(Ar))return t.isOdd()?Ar:Sr;if(t.eq(Ar))return this.isOdd()?Ar:Sr;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Er)&&t.lt(Er))return yr(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,e=this.low>>>16,i=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,f=0,a=0,h=0,v=0;return h+=(v+=i*c)>>>16,a+=(h+=e*c)>>>16,h&=65535,a+=(h+=i*s)>>>16,f+=(a+=r*c)>>>16,a&=65535,f+=(a+=e*s)>>>16,a&=65535,f+=(a+=i*o)>>>16,f+=n*c+r*s+e*o+i*u,gr((h&=65535)<<16|(v&=65535),(f&=65535)<<16|(a&=65535),this.unsigned)},Pr.mul=Pr.multiply,Pr.divide=function(t){if(vr(t)||(t=mr(t)),t.isZero())throw h("division by zero");var n,r,e;if(ar)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?gr((this.unsigned?ar.div_u:ar.div_s)(this.low,this.high,t.low,t.high),ar.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Rr:Sr;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Rr;if(t.gt(this.shru(1)))return Cr;e=Rr}else{if(this.eq(Ar))return t.eq(Ir)||t.eq(Or)?Ar:t.eq(Ar)?Ir:(n=this.shr(1).div(t).shl(1)).eq(Sr)?t.isNegative()?Ir:Or:(r=this.sub(t.mul(n)),e=n.add(r.div(t)));if(t.eq(Ar))return this.unsigned?Rr:Sr;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Sr}for(r=this;r.gte(t);){n=l.max(1,l.floor(r.toNumber()/t.toNumber()));for(var i=l.ceil(l.log(n)/l.LN2),u=i<=48?1:_r(2,i-48),o=yr(n),s=o.mul(t);s.isNegative()||s.gt(r);)s=(o=yr(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Ir),e=e.add(o),r=r.sub(s)}return e},Pr.div=Pr.divide,Pr.modulo=function(t){return vr(t)||(t=mr(t)),ar?gr((this.unsigned?ar.rem_u:ar.rem_s)(this.low,this.high,t.low,t.high),ar.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Pr.mod=Pr.modulo,Pr.rem=Pr.modulo,Pr.not=function(){return gr(~this.low,~this.high,this.unsigned)},Pr.and=function(t){return vr(t)||(t=mr(t)),gr(this.low&t.low,this.high&t.high,this.unsigned)},Pr.or=function(t){return vr(t)||(t=mr(t)),gr(this.low|t.low,this.high|t.high,this.unsigned)},Pr.xor=function(t){return vr(t)||(t=mr(t)),gr(this.low^t.low,this.high^t.high,this.unsigned)},Pr.shiftLeft=function(t){return vr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gr(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):gr(0,this.low<<t-32,this.unsigned)},Pr.shl=Pr.shiftLeft,Pr.shiftRight=function(t){return vr(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gr(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):gr(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Pr.shr=Pr.shiftRight,Pr.shiftRightUnsigned=function(t){if(vr(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?gr(this.low>>>t|n<<32-t,n>>>t,this.unsigned):gr(32===t?n:n>>>t-32,0,this.unsigned)},Pr.shru=Pr.shiftRightUnsigned,Pr.shr_u=Pr.shiftRightUnsigned,Pr.toSigned=function(){return this.unsigned?gr(this.low,this.high,!1):this},Pr.toUnsigned=function(){return this.unsigned?this:gr(this.low,this.high,!0)},Pr.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Pr.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Pr.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},hr.fromBytes=function(t,n,r){return r?hr.fromBytesLE(t,n):hr.fromBytesBE(t,n)},hr.fromBytesLE=function(t,n){return new hr(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},hr.fromBytesBE=function(t,n){return new hr(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var xr=fr,Fr=16384,Br=function(){function t(t){this.Ko=t}return t.prototype.$o=function(t){return function(t,n){return(t&n)===n}(this.Ko,t)},t}();function Lr(t,n){var r=t.getUint8(n.Go);return n.Wo(1),r}function Mr(t,n,r){t.setUint8(n.Go,r),n.Wo(1)}function Ur(t,n,r){var e=ue(se(t),n.Go,n.Go+r);return n.Wo(e.byteLength),e}function qr(t,n,r){return n.Go+r<=t.byteLength}function jr(t,n,r){void 0===r&&(r=!1);var e=t.getUint16(n.Go,r);return n.Wo(2),e}function Vr(t,n,r,e){void 0===e&&(e=!1),t.setUint16(n.Go,r,e),n.Wo(2)}function Hr(t,n,r){void 0===r&&(r=!1);var e=t.getUint32(n.Go,r);return n.Wo(4),e}function Wr(t,n,r,e){void 0===e&&(e=!1),t.setUint32(n.Go,r,e),n.Wo(4)}function zr(t,n,r){void 0===r&&(r=!1);var e=Hr(t,n,r),i=Hr(t,n,r),u=r?i:e,o=r?e:i;return xr.fromBits(o,u,!0)}function Xr(t,n){var r=Lr(t,n);if(r)return String.fromCharCode(r)}function Gr(t,n){return function(t,n){return $r(t,n,!0)}(t,n)}function Yr(t,n,r){for(var e="",i=0;i<r;i++)e+=Xr(t,n);return e}function Kr(t,n){var r,e=Lr(t,n);return 0==(128&e)?r=e:192==(224&e)?r=64*(31&e)+(63&Lr(t,n)):224==(240&e)?r=4096*(15&e)+64*(63&Lr(t,n))+(63&Lr(t,n)):240==(248&e)&&(r=262144*(7&e)+4096*(63&Lr(t,n))+64*(63&Lr(t,n))+(63&Lr(t,n))),r}function $r(t,n,r){for(var e=[],i=[];n.Go<t.byteLength;){var u=Lr(t,n);if(r&&!u)break;i.push(u),i.length>=Fr&&(e.push(String.fromCharCode.apply(String,i)),i.length=0)}return i.length&&e.push(String.fromCharCode.apply(String,i)),e.join("")}function Jr(t,n,r,e){for(var i=[],u=[];n.Go+2<=t.byteLength;){var o=jr(t,n,r);if(e&&!o)break;u.push(o),u.length>=Fr&&(i.push(String.fromCharCode.apply(String,u)),u.length=0)}return u.length&&i.push(String.fromCharCode.apply(String,u)),i.join("")}function Qr(t,n,r,e){void 0===e&&(e=!1);for(var i=r.length,u=0;u<i;u+=1){Vr(t,n,r.charCodeAt(u),e)}}function Zr(t){return $r(oe(t),new he,!1)}function te(t){var n=new _(t.length);return function(t,n,r){for(var e=r.length,i=0;i<e;i+=1)Mr(t,n,r.charCodeAt(i))}(oe(n),new he,t),n}function ne(t,n){return void 0===n&&(n=!1),Jr(oe(t),new he,n,!1)}function re(t,n){void 0===n&&(n=!1);var r=new _(2*t.length);return Qr(oe(r),new he,t,n),r}function ee(t,n,r){var e=[],i=[];for(function(t,n){return n.Go+3<=t.byteLength&&239===t.getUint8(n.Go)&&187===t.getUint8(n.Go+1)&&191===t.getUint8(n.Go+2)}(t,n)&&n.Wo(3);n.Go<t.byteLength;){var u=Kr(t,n);if(void 0===u)break;if(r&&0===u)break;i.push(u),i.length>=Fr&&(e.push(an(i)),i.length=0)}return i.length&&e.push(an(i)),e.join("")}function ie(t){return ee(oe(t),new he,!1)}function ue(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=t.byteLength),new _(t.buffer,t.byteOffset+n,r-n)}function oe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function se(t){return new _(t.buffer,t.byteOffset,t.byteLength)}function ce(t){return t instanceof ArrayBuffer||rr(t)}function fe(t){return t instanceof ArrayBuffer?new _(t):se(t)}function ae(t){if(t.slice)return t.slice(0);var n=new _(t.byteLength);return n.set(t,0),n}var he=function(){function t(t){void 0===t&&(t=0),this.Ho=t}var n=t.prototype;return n.Wo=function(t){this.Ho+=t},n.zo=function(t){this.Ho=t},n.Xo=function(){return new t(this.Go)},n.Jo=function(){return new cr(this.Go<<3)},x(t,[{key:"Go",get:function(){return this.Ho}}]),t}(),ve=function(){function t(){var t=this;this.Qo=new C(function(n,r){t.Pn=n,t.M=r})}var n=t.prototype;return n.Zo=function(t){this.Pn&&(this.Pn(t),this.eo())},n.ts=function(t){this.M&&(this.M(t),this.eo())},n.fo=function(){this.Qo.catch(rt),this.ts(new Tn)},n.eo=function(){this.Pn=void 0,this.M=void 0},t}();function de(){return new _([8,4]).buffer}function le(t){return er(t,de())}function we(t,n){return t===Yt?function(t){if(t.byteLength<2*ye.length)return t;if(ne(new DataView(t,0,2*ye.length),!0)===ye)return t;return n=t,re('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+or(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ye="<PlayReady";var ge=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,i)||this).ns=r,u.rs=e,u}return gt(n,t),n}(kt),_e=function(t){function n(n,r){var e;(e=t.call(this)||this).es=n,e.us=r,e.os=!1,e.ss=function(){e.cs()},e.fs=function(t){e.wo(new Vn(pt(e),t.messageType,we(e.us,t.message)))},e.as=function(){e.os=!0,e.hs.Vo>0&&(e.hs.jo(),e.wo(new jn(pt(e)))),e.es.removeEventListener("keystatuseschange",e.ss),e.es.removeEventListener("message",e.fs)},e.es.addEventListener("keystatuseschange",e.ss),e.es.addEventListener("message",e.fs),e.hs=new Xn;var i=[];return e.es.closed&&i.push(C.resolve(e.es.closed)),e.vs=new ve,i.push(e.vs.Qo),e.ds=C.race(i).then(e.as),e.cs(),e}gt(n,t);var r=n.prototype;return r.ls=function(){if(this.os)return this.ds;var t,n,r=[];return r.push(C.resolve(this.es.close())),r.push((t=1e3,new C(function(r,e){if(void 0!==n&&n.Qu)e(new Tn);else{var i=D.ys(function(){void 0!==n&&n.uo(u),r()},t),u=function(){D.gs(i),e(new Tn)};void 0!==n&&n.io(u)}}))),this.vs.Zo(C.race(r).catch(pe)),this.os=!0,this.ds},r._s=function(t,n,r){return C.resolve(this.es.generateRequest(t,n)).catch(pe)},r.ps=function(t){return C.resolve(this.es.load(t)).catch(pe)},r.ks=function(){return C.resolve(this.es.remove()).catch(pe)},r.bs=function(t){return C.resolve(this.es.update(t)).catch(pe)},r.cs=function(){var t=this;this.hs.jo(),this.es.keyStatuses.forEach(function(n,r){t.Ts(r,n)}),this.wo(new jn(this))},r.Ts=function(t,n){if("string"==typeof t){var r=t;t=n,n=r}var e=fe(t);if(this.us===Yt&&16===e.byteLength){var i=oe(e),u=i.getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,u,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}this.us===Yt&&"status-pending"===n&&(n="usable"),this.hs.qo(e,n)},x(n,[{key:"Es",get:function(){return this.ds}},{key:"Ss",get:function(){return this.es.expiration}},{key:"Rs",get:function(){return this.hs}},{key:"Is",get:function(){return this.es.sessionId}}]),n}(Mn);function pe(t){var n;if(t.message){var r=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);r&&(n=0|w(r[1],16))}throw new ge(t.message,void 0,n,t)}var me=function(){function t(t,n){this.Cs=t,this.us=n}var n=t.prototype;return n.Os=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new _e(this.Cs.createSession(n),this.us));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ds=function(t){return C.resolve(this.Cs.setServerCertificate(t))},n.Ns=function(t){return C.resolve(t.setMediaKeys(this.Cs))},n.As=function(t){return C.resolve(t.setMediaKeys(null))},t}(),ke=function(){function t(t,n){this.Ps=t,this.us=n}var n=t.prototype;return n.xs=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ps.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new me(n,this.us));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Fs=function(){return this.Ps.getConfiguration()},x(t,[{key:"Bs",get:function(){return this.Ps.keySystem}}]),t}(),be=function(){function t(){}return t.prototype.Ku=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=r.filter(function(t){return!t.Ls}),t.next=3,o.requestMediaKeySystemAccess(n,r);case 3:return e=t.sent,t.abrupt("return",new ke(e,n));case 5:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),t.Ms=function(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess},t}(),Te=function(t){function n(n,r){var e;return(e=t.call(this)||this).Us=n,e.qs=r,e.os=!1,e.js=void 0,e.Vs=void 0,e.Hs=void 0,e.as=function(){e.os=!0,e.Ws.Zo(void 0),e.Hs&&(e.Hs.removeEventListener("mskeyclose",e.as),e.Hs.removeEventListener("mskeymessage",e.zs),e.Hs.removeEventListener("mskeyerror",e.Xs),e.Hs.removeEventListener("mskeyadded",e.Gs))},e.zs=function(t){e.Vs&&(e.Vs.Zo(void 0),e.Vs=void 0),e.wo(new Vn(pt(e),"license-request",ae(t.message).buffer,t.destinationURL||void 0))},e.Xs=function(){var t=e.Hs&&e.Hs.error;if(t){var n=new ge("Unknown CDM error",t.code,t.systemCode);if(e.Vs)e.Vs.ts(n),e.Vs=void 0;else if(e.js)e.js.ts(n),e.js=void 0;else switch(n.ns){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Ys("output-not-allowed");break;default:e.Ys("internal-error")}}},e.Gs=function(){e.Vs&&(e.Ys("usable"),e.Vs.Zo(void 0),e.Vs=void 0),e.js&&(e.Ys("usable"),e.js.Zo(void 0),e.js=void 0)},e.Ws=new ve,e.Ks=new Xn,e}gt(n,t);var r=n.prototype;return r._s=function(){var t=C.coroutine(xt.mark(function t(n,r,e){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),this.Vs=new ve,this.Os(fe(r),e),t.next=5,this.Vs.Qo;case 5:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),r.Os=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var r,e=n&&n.playready&&n.playready.Js;return(r=n?this.Us.createSession(this.qs,t,e):this.Us.createSession(this.qs,t)).addEventListener("mskeyclose",this.as),r.addEventListener("mskeymessage",this.zs),r.addEventListener("mskeyerror",this.Xs),r.addEventListener("mskeyadded",this.Gs),this.Hs=r,this.Ys("status-pending"),r},r.ps=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.bs=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.js=new ve,this.$s(),this.Hs){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(r=fe(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Hs.update(r),t.next=10,this.js.Qo;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ls=function(){return!this.os&&this.Hs&&(this.os=!0,this.Hs.close()),this.Ws.Qo},r.ks=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$s(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.$s=function(){if(this.os)throw new v("Already closing or closed.")},r.Ys=function(t){this.Ks.jo(),this.Ks.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Is",get:function(){return this.Hs&&this.Hs.sessionId||""}},{key:"Ss",get:function(){return NaN}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Rs",get:function(){return this.Ks}}]),n}(Mn),Ee=function(){function t(t,n){this.Us=t,this.qs=n}var n=t.prototype;return n.Os=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Te(this.Us,this.qs));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ds=function(t){return C.resolve(!1)},n.Ns=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Us):t.addEventListener("loadedmetadata",function r(){t.msSetMediaKeys(n.Us),t.removeEventListener("loadedmetadata",r)}),C.resolve()},n.As=function(t){return C.resolve()},t}();function Se(t,n,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var i={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,Ls:r.Ls},u=!1;if(r.audioCapabilities)for(var o=0,s=r.audioCapabilities;o<s.length;o++){var c=s[o];if(c.contentType){u=!0;var f=Ie(c.contentType);!c.robustness&&t(n,f)&&(i.audioCapabilities.push(c),e=!0)}}if(r.videoCapabilities)for(var a=0,h=r.videoCapabilities;a<h.length;a++){var v=h[a];if(v.contentType){u=!0;var d=Ie(v.contentType);!v.robustness&&t(n,d)&&(i.videoCapabilities.push(v),e=!0)}}return u||(e=t(n,"video/mp4")),e?i:void 0}}function Re(t){if(t.videoCapabilities)for(var n=0,r=t.videoCapabilities;n<r.length;n++){var e=r[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var i=0,u=t.audioCapabilities;i<u.length;i++){var o=u[i];if(o.contentType)return o.contentType}}function Ie(t){return t.split(";")[0]}var Ce=function(){function t(t,n){this.us=t,this.Qs=n;var r=Re(n)||"video/mp4";this.qs=Ie(r)}var n=t.prototype;return n.Fs=function(){return this.Qs},n.xs=function(){return C.resolve(new Ee(new S.MSMediaKeys(this.us),this.qs))},x(t,[{key:"Bs",get:function(){return this.us}}]),t}(),Oe=function(){function t(){}return t.prototype.Ku=function(t,n){try{return C.resolve(function(t,n){if(!De())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var e=n[r],i=Se(Ne,t,e);if(i)return new Ce(t,i)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Ms=function(){return De()},t}();function De(){return void 0!==S.MSMediaKeys&&"function"==typeof S.MSMediaKeys.isTypeSupported}function Ne(t,n){return S.MSMediaKeys.isTypeSupported(t,n)}var Ae,Pe,xe=function(t){function n(n,r,e){var i;return(i=t.call(this)||this).Zs=n,i.qs=r,i.tc=e,i.Ws=new ve,i.nc=void 0,i.Ks=new Xn,i.rc=void 0,i.ec=new ve,i.Xs=function(){var t=i.rc&&i.rc.error;if(t){var n=new ge("Unknown CDM error",t.code,t.systemCode);i.nc?(i.nc.ts(n),i.nc=void 0):n.ns===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?i.Ys("output-not-allowed"):i.Ys("internal-error"),i.wo(new Hn)}},i.zs=function(t){i.nc&&(i.nc.Zo(void 0),i.nc=void 0),i.wo(new Vn(pt(i),"license-request",ae(t.message).buffer,t.destinationURL||void 0))},i}gt(n,t);var r=n.prototype;return r._s=function(t,n,r){var e=r&&r.fairplay&&r.fairplay.ic;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var i=Fe(fe(n),e,this.tc);return this.rc=this.Zs.createSession(this.qs,i),this.rc.addEventListener("webkitkeymessage",this.zs,!1),this.rc.addEventListener("webkitkeyerror",this.Xs,!1),this.Ys("usable"),this.ec.Zo(this.rc),this.ec=new ve,C.resolve()},r.ps=function(t){return C.resolve(!0)},r.bs=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=fe(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.nc=new ve,t.t0=this.rc,t.t0){t.next=9;break}return t.next=8,this.ec.Qo;case 8:t.t0=t.sent;case 9:return t.t0.update(r),t.next=13,this.nc.Qo;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ls=function(){var t=this.rc;return t&&(t.removeEventListener("webkitkeymessage",this.zs,!1),t.removeEventListener("webkitkeyerror",this.Xs,!1),t.close()),this.ec.fo(),this.Ws.Zo(void 0),this.Ws.Qo},r.ks=function(){return C.resolve(void 0)},r.Ys=function(t){this.Ks.jo(),this.Ks.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Is",get:function(){return this.rc?this.rc.sessionId:""}},{key:"Ss",get:function(){return NaN}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Rs",get:function(){return this.Ks}}]),n}(Mn);function Fe(t,n,r){var e=ie(t),i=2*e.length,u=2*n.length,o=new ArrayBuffer(4+i+4+u+4+r.byteLength),s=new DataView(o),c=new he;return Wr(s,c,i,!0),Qr(s,c,e,!0),Wr(s,c,u,!0),Qr(s,c,n,!0),Wr(s,c,r.byteLength,!0),function(t,n,r){se(t).set(se(r),n.Go),n.Wo(r.byteLength)}(s,c,r),new _(o)}(Ae=n.ErrorCode||(n.ErrorCode={}))[Ae.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Ae[Ae.LICENSE_ERROR=2e3]="LICENSE_ERROR",Ae[Ae.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Ae[Ae.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Ae[Ae.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Ae[Ae.SOURCE_INVALID=3e3]="SOURCE_INVALID",Ae[Ae.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Ae[Ae.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Ae[Ae.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Ae[Ae.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Ae[Ae.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Ae[Ae.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Ae[Ae.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Ae[Ae.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Ae[Ae.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Ae[Ae.NETWORK_ERROR=6e3]="NETWORK_ERROR",Ae[Ae.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Ae[Ae.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Ae[Ae.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Ae[Ae.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Ae[Ae.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Ae[Ae.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Ae[Ae.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Ae[Ae.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Ae[Ae.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Ae[Ae.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Ae[Ae.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Ae[Ae.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Ae[Ae.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Ae[Ae.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Ae[Ae.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Ae[Ae.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Ae[Ae.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Ae[Ae.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Ae[Ae.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Ae[Ae.AD_ERROR=1e4]="AD_ERROR",Ae[Ae.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Ae[Ae.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Pe=n.ErrorCategory||(n.ErrorCategory={}))[Pe.CONFIGURATION=1]="CONFIGURATION",Pe[Pe.LICENSE=2]="LICENSE",Pe[Pe.SOURCE=3]="SOURCE",Pe[Pe.MANIFEST=4]="MANIFEST",Pe[Pe.MEDIA=5]="MEDIA",Pe[Pe.NETWORK=6]="NETWORK",Pe[Pe.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Pe[Pe.SUBTITLE=8]="SUBTITLE",Pe[Pe.VR=9]="VR",Pe[Pe.AD=10]="AD",Pe[Pe.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var r=l.floor(n/1e3);if(r in t)return r;throw new v("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var Be=function(t){function r(n,r,e){var i;return(i=t.call(this,r,e)||this).code=n,i}return gt(r,t),x(r,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),r}(kt),Le=function(){function t(t,n){this.Zs=t,this.qs=n,this.tc=void 0}var r=t.prototype;return r.getInternalMediaKeys=function(){return this.Zs},r.Os=function(){var t=C.coroutine(xt.mark(function t(r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tc){t.next=2;break}throw new Be(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new xe(this.Zs,this.qs,this.tc));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Ds=function(t){return this.tc=fe(t),C.resolve(!0)},r.Ns=function(t){return t.webkitSetMediaKeys(this.Zs),C.resolve()},r.As=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Me=function(){function t(t,n){this.us=t,this.Qs=n;var r=Re(n)||"video/mp4";this.qs=Ie(r)}var n=t.prototype;return n.Fs=function(){return this.Qs},n.xs=function(){return C.resolve(new Le(new S.WebKitMediaKeys(this.us),this.qs))},x(t,[{key:"Bs",get:function(){return this.us}}]),t}(),Ue=function(){function t(){}return t.prototype.Ku=function(t,n){try{return C.resolve(function(t,n){if(t!==Zt)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!qe())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var e=n[r],i=Se(je,t,e);if(i)return new Me(t,i)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.Ms=function(){return qe()},t}();function qe(){return void 0!==S.WebKitMediaKeys&&"function"==typeof S.WebKitMediaKeys.isTypeSupported}function je(t,n){return S.WebKitMediaKeys.isTypeSupported(t,n)}var Ve,He=function(){function t(t){this.uc=t}return t.prototype.Ku=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,i=this.uc;case 1:if(!(e<i.length)){t.next=14;break}return u=i[e],t.prev=3,t.next=6,u.Ku(n,r);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:e++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,r){return t.apply(this,arguments)}}(),t}(),We=function(t){function n(n){var r;return(r=t.call(this)||this).us=n,r.Vs=void 0,r.nc=void 0,r.oc=!1,r.sc=void 0,r.cc=void 0,r.Ws=new ve,r.fc="",r.ac=new ve,r.hc=new Xn,r}gt(n,t);var r=n.prototype;return r.vc=function(){this.nc&&(this.Ys("usable"),this.nc.Zo(void 0),this.nc=void 0)},r.dc=function(t){var n=new ge("Unknown CDM error",t.errorCode,t.systemCode);this.nc?(this.nc.ts(n),this.nc=void 0):this.Vs?(this.Vs.ts(n),this.Vs=void 0):n.ns===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ys("output-restricted"):1===n.rs?this.Ys("expired"):this.Ys("internal-error")},r.lc=function(t){0!==t.message.byteLength&&(this.Vs&&(this.Vs.Zo(void 0),this.Vs=void 0),this.wo(new Vn(this,"license-request",we(this.us,ae(t.message).buffer),t.defaultURL||void 0)))},r.wc=function(t){this.cc||(this.cc=t,this.ac.Zo(t))},r.ls=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.oc=!0,this.Ws.Zo(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r._s=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Vs=new ve,this.sc=fe(r),t.t0=this.cc,t.t0){t.next=8;break}return t.next=7,this.ac.Qo;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.us,this.sc),t.next=12,this.Vs.Qo;case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.ps=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ks=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.bs=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.nc=new ve,t.t0=this.cc,t.t0){t.next=7;break}return t.next=6,this.ac.Qo;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.us,fe(n),this.sc,this.Is),t.next=11,this.nc.Qo;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.throwIfClosed=function(){if(this.oc)throw new v("Already closing or closed.")},r.Ys=function(t){this.hc.jo(),this.hc.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Rs",get:function(){return this.hc}},{key:"Is",get:function(){return this.fc},set:function(t){this.fc=t}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Ss",get:function(){return NaN}}]),n}(Mn),ze=function(){function t(t){var n=this;this.us=t,this.cc=void 0,this.yc=Lt(),this.gc=[],this.Gs=function(t){var r=n._c(t.sessionId);r&&r.vc()},this.pc=function(t){var r=n._c(t.sessionId);r&&r.dc(t)},this.mc=function(t){var r=n._c(t.sessionId);r&&r.lc(t)}}var n=t.prototype;return n.Ns=function(t){return this.cc=t,this.cc.addEventListener("webkitkeyadded",this.Gs),this.cc.addEventListener("webkitkeyerror",this.pc),this.cc.addEventListener("webkitkeymessage",this.mc),this.yc.forEach(function(n,r){return n.wc(t)}),this.gc.forEach(function(n){return n.wc(t)}),C.resolve()},n.As=function(t){return t.removeEventListener("webkitkeyadded",this.Gs),t.removeEventListener("webkitkeyerror",this.pc),t.removeEventListener("webkitkeymessage",this.mc),this.cc=void 0,C.resolve()},n.Os=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new We(this.us),this.cc&&i.wc(this.cc),this.gc.push(i),t.abrupt("return",i);case 4:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),n.Ds=function(t){return C.resolve(!1)},n._c=function(t){if(t){var n=this.yc.get(t);return n||((n=this.gc.shift())?(n.Is=t,this.yc.set(t,n),n):void 0)}},t}(),Xe=function(){function t(t,n){this.Bs=t,this.kc=n}var n=t.prototype;return n.xs=function(){return C.resolve(new ze(this.Bs))},n.Fs=function(){return this.kc},t}();function Ge(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ye(t,n){var r=n.style;if(r)for(var e in t)r[e]=t[e]}function Ke(){return void 0!==i?i.createElement("video"):void 0}function $e(){return Ve||(Ve=Ke()),Ve}var Je,Qe=function(){function t(){}return t.prototype.Ku=function(t,n){try{return C.resolve(Ze(t,n))}catch(t){return C.reject(t)}},t.Ms=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Ze(t,n){if(!Qe.Ms())throw new v("Unsupported key system "+t);for(var r=0;r<n.length;r++){var e=Se(ti,t,n[r]);if(e)return new Xe(t,e)}throw new v("Unsupported key system configuration for "+t)}function ti(t,n){var r=$e();return!(!r||!r.canPlayType||""===r.canPlayType(n,t))}function ni(){return Je||(Je=function(){var t=[];Ue.Ms()&&t.push(new Ue);be.Ms()&&t.push(new be);Oe.Ms()&&t.push(new Oe);Qe.Ms()&&t.push(new Qe);return new He(t)}()),Je}function ri(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function ei(t,n){var r=function(t,n){var r=t.length;if(r<=1)return t;for(var e=new Array(r),i=1;i<r;i*=2){ii(t,n,i,e);var u=t;t=e,e=u}return t}(t,n);return r!==t&&ii(r,null,t.length,t),t}function ii(t,n,r,e){var i,u,o,s,c,f=t.length,a=0,h=2*r;for(i=0;i<f;i+=h)for(o=(u=i+r)+r,u>f&&(u=f),o>f&&(o=f),s=i,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?e[a++]=t[s++]:e[a++]=t[c++];else if(s<u)e[a++]=t[s++];else{if(!(c<o))break;e[a++]=t[c++]}}var ui=/[a-zA-Z]/,oi=/[0-9]/,si=/[0-9a-fA-F]/,ci=/^0x/i,fi=/^[0-9]+$/,ai=/^[0-9a-fA-F]+$/,hi=/^[0-7]+$/,vi=d.prototype.toString,di=Array.isArray||function(t){return"[object Array]"===vi.call(t)},li="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function wi(t){return di(t)?t:Array.from(t)}function yi(t){return t>=65&&t<=90}function gi(t){return yi(t)||function(t){return t>=97&&t<=122}(t)}function _i(t){return t>=48&&t<=57}function pi(t){return _i(t)||gi(t)}function mi(t){return _i(t)||t>=65&&t<=70||t>=97&&t<=102}function ki(t){return yi(t)?t+32:t}function bi(t){return _i(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Ti(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ei=l.min,Si=String.fromCharCode,Ri=16384;function Ii(t){for(var n=t.length,r=[],e=0;e<n;e+=Ri){var i=Ei(e+Ri,n);r.push(Si.apply(null,t.slice(e,i)))}return r.join("")}var Ci=/[^\0-\x7E]/,Oi=/[\x2E\u3002\uFF0E\uFF61]/g,Di={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ni=l.floor,Ai=String.fromCharCode;function Pi(t){throw new RangeError(Di[t])}function xi(t){for(var n=[],r=0,e=t.length;r<e;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<e){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&i)<<10)+(1023&u)+65536):(n.push(i),r--)}else n.push(i)}return n}var Fi,Bi,Li,Mi=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Ui=function(t,n,r){var e=0;for(t=r?Ni(t/700):t>>1,t+=Ni(t/n);t>455;e+=36)t=Ni(t/35);return Ni(e+36*t/(t+38))},qi=function(t){return function(t,n){var r=t.split("@"),e="";r.length>1&&(e=r[0]+"@",t=r[1]);var i=function(t,n){for(var r=[],e=t.length;e--;)r[e]=n(t[e]);return r}((t=t.replace(Oi,".")).split("."),n).join(".");return e+i}(t,function(t){return Ci.test(t)?"xn--"+function(t){for(var n=[],r=(t=xi(t)).length,e=128,i=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Ai(c))}var f=n.length,a=f;for(f&&n.push("-");a<r;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<h&&(h=l)}var w=a+1;h-e>Ni((2147483647-i)/w)&&Pi("overflow"),i+=(h-e)*w,e=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<e&&++i>2147483647&&Pi("overflow"),_==e){for(var p=i,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Ai(Mi(k+b%T,0))),p=Ni(b/T)}n.push(Ai(Mi(p,0))),u=Ui(i,w,a==f),i=0,++a}}++i,++e}return n.join("")}(t):t})};function ji(t){for(var n=[],r=0;r<t.length;r++){var e=t[r];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Ii(n)}function Vi(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Hi(t,n){return t>>n&63|128}function Wi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Vi(t),n.push(t>>12&15|224),n.push(Hi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Hi(t,12)),n.push(Hi(t,6))),n.push(63&t|128)):n.push(t)}function zi(t){for(var n=[],r=0;r<t.length;r++){Wi(t[r],n)}return n}function Xi(){if(Li>=Bi)throw new h("Invalid byte index");var t=255&Fi[Li];if(Li++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function Gi(){var t,n;if(Li>Bi)throw new h("Invalid byte index");if(Li===Bi)return!1;if(t=255&Fi[Li],Li++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Xi())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Xi()<<6|Xi())>=2048)return Vi(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Xi()<<12|Xi()<<6|Xi())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}function Yi(t){return[37,Ti(t>>4),Ti(15&t)]}function Ki(t){return function(t){return t>=0&&t<=31}(t)||t>126}function $i(t){return Ki(t)||32===t||34===t||60===t||62===t||96===t}function Ji(t){return $i(t)||35===t||63===t||123===t||125===t}function Qi(t){return Ji(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Zi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function tu(t){return Zi(t)||39===t}function nu(t,n){if(!n(t))return[t];for(var r=zi([t]),e=[],i=0;i<r.length;i++){var u=r[i];e.push.apply(e,Yi(u))}return e}function ru(t,n){for(var r=[],e=0,i=xi(t);e<i.length;e++){var u=i[e];r.push.apply(r,nu(u,n))}return ji(r)}function eu(t){return function(t){for(var n=[],r=t.length,e=0;e<r;e++){var i=t[e];if(37===i&&e+2<r&&mi(t[e+1])&&mi(t[e+2])){var u=bi(t[e+1])<<4|bi(t[e+2]);n.push(u),e+=2}else n.push(i)}return n}(zi(t))}function iu(t){return ji(function(t){Fi=t.slice(),Bi=Fi.length,Li=0;for(var n,r=[];!1!==(n=Gi());)r.push(n);return r}(eu(xi(t))))}function uu(t){var n,r,e,i,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,f=0;if(f<u&&":"===t[f]){if(!(f+1<u&&":"===t[f+1]))throw new v;f+=2,c=s+=1}for(;f<u;){if(8===s)throw new v("Too many groups");if(":"!==t[f]){for(var a=0,h=0;h<4&&f<u&&si.test(t[f]);)a=a<<4|w(t[f],16),f+=1,h+=1;if("."===t[f]){if(0===h)throw new v;if(f-=h,s>6)throw new v;for(var d=0;f<u;){var l=null;if(d>0){if(!("."===t[f]&&d<4))throw new v;f+=1}if(!oi.test(t[f]))throw new v;for(;f<u&&oi.test(t[f]);){var y=w(t[f],10);if(null===l)l=y;else{if(0===l)throw new v;if((l=10*l+y)>255)throw new v}f+=1}o[s]=o[s]<<8|l,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new v;break}if(":"===t[f]){if((f+=1)===u)throw new v}else if(f<u)throw new v;o[s]=a,s+=1}else{if(null!==c)throw new v("Too many :: groups");f+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)e=c+g-1,i=void 0,i=(n=o)[r=s],n[r]=n[e],n[e]=i,s-=1,g-=1}else if(8!==s)throw new v;return o}function ou(t){var n=10,r=fi;return ci.test(t)?(t=t.slice(2),n=16,r=ai):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,r=hi),""===t?0:r.test(t)?w(t,n):void 0}var su={bc:4},cu=/[\0\t\n\r #%\/:?@\[\\\]]/,fu=/[\0\t\n\r #\/:?@\[\\\]]/;function au(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{bc:2,Tc:uu(t.slice(1,-1))}}if(!n)return function(t){if(fu.test(t))throw new v("Invalid code point in opaque host");var n=ru(t,Ki);return""===n?su:{bc:3,Gr:n}}(t);var r=function(t){return function(t){return qi(t.toLowerCase())}(t)}(iu(t));if(cu.test(r))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var r=[],e=0;e<n.length;e++){var i=n[e];if(""===i)return;var u=ou(i);if(void 0===u)return;r.push(u)}for(var o=0;o<r.length-1;o++)if(r[o]>255)throw new v;if(r[r.length-1]>=l.pow(256,5-r.length))throw new v;for(var s=r.pop(),c=0;c<r.length;c++)s+=r[c]*l.pow(256,3-c);return s}}(r);return void 0!==e?{bc:1,Tc:e}:""===r?su:{bc:0,Ec:r}}function hu(t){switch(t.bc){case 0:return t.Ec;case 1:return function(t){for(var n=[],r=t,e=1;e<=4;e++)n.push(""+(255&r)),4!==e&&n.push("."),r>>>=8;return n.reverse().join("")}(t.Tc);case 2:return"["+function(t){for(var n="",r=function(t){for(var n=0,r=0,e=0,i=0,u=0;u<8;u++)0===t[u]?(0===i&&(e=u),i++):(i>r&&(n=e,r=i),i=0);return i>r&&(n=e,r=i),r>1?n:null}(t),e=!1,i=0;i<8;i++){if(e){if(0===t[i])continue;e=!1}r!==i?(n+=t[i].toString(16),7!==i&&(n+=":")):(n+=0===i?"::":":",e=!0)}return n}(t.Tc)+"]";case 3:return t.Gr;case 4:return""}}var vu=/\+/g;function du(t){for(var n=t.split("&"),r=[],e=0;e<n.length;e++){var i=n[e];if(""!==i){var u=i.indexOf("="),o=void 0,s=void 0;-1!==u?(o=i.slice(0,u),s=i.slice(u+1)):(o=i,s=""),o=o.replace(vu," "),s=s.replace(vu," ");var c=iu(o),f=iu(s);r.push([c,f])}}return r}function lu(t){for(var n="",r=0;r<t.length;r++){var e=t[r];r>0&&(n+="&"),n+=wu(zi(xi(e[0])))+"="+wu(zi(xi(e[1])))}return n}function wu(t){for(var n,r=[],e=0;e<t.length;e++){var i=t[e];32===i?r.push(43):42===(n=i)||45===n||46===n||95===n||pi(n)?r.push(i):r.push.apply(r,Yi(i))}return Ii(r)}var yu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function gu(t){var n=""+t,r=yu.exec(n);return r?function(t,n){for(var r=t.length,e=[],i=n;i<r;i++){var u=t.charCodeAt(i);if(pu(u))if(mu(u)||i===r-1)e.push(_u);else{var o=t.charCodeAt(i+1);mu(o)?(e.push(u,o),i++):e.push(_u)}else e.push(u)}return t.slice(0,n)+Ii(e)}(n,r.index):n}var _u=65533,pu=function(t){return 55296==(63488&t)},mu=function(t){return 0!=(1024&t)};function ku(t,n){var r=t[0],e=n[0];return r===e?0:r<e?-1:1}function bu(t){t.Sc.length=0}function Tu(t,n){!function(t,n){for(var r=0;r<n.length;r++)t[r]=n[r];t.length=n.length}(t.Sc,du(n))}function Eu(t){if(t.Rc){var n=lu(t.Sc);""===n&&(n=null),t.Rc.Rc.Ic=n}}var Su=function(){function t(t){if(void 0===t&&(t=void 0),this.Rc=null,null==t)this.Sc=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Su&&di(u.Sc)&&(!li||u[Symbol.iterator]===Ru))this.Sc=t.Sc.slice();else if(function(t){return null!=t&&(!!di(t)||!!li&&"function"==typeof t[Symbol.iterator])}(t)){this.Sc=[];for(var n=0,r=wi(t);n<r.length;n++){var e=wi(r[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.Sc.push([gu(e[0]),gu(e[1])])}}else for(var i in this.Sc=[],t)d.prototype.hasOwnProperty.call(t,i)&&this.Sc.push([gu(i),gu(t[i])]);else(t=gu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Sc=du(t);var u}var n=t.prototype;return n.append=function(t,n){t=gu(t),n=gu(n),this.Sc.push([t,n]),Eu(this)},n.delete=function(t){t=gu(t);for(var n=this.Sc,r=0;r<n.length;){n[r][0]===t?n.splice(r,1):r++}Eu(this)},n.get=function(t){t=gu(t);for(var n=this.Sc,r=0;r<n.length;r++){var e=n[r];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=gu(t);for(var n=this.Sc,r=[],e=0;e<n.length;e++){var i=n[e];i[0]===t&&r.push(i[1])}return r},n.has=function(t){t=gu(t);for(var n=this.Sc,r=0;r<n.length;r++){if(n[r][0]===t)return!0}return!1},n.set=function(t,n){t=gu(t),n=gu(n);for(var r=this.Sc,e=!1,i=0;i<r.length;){var u=r[i];u[0]===t?e?r.splice(i,1):(u[1]=n,e=!0,i++):i++}e||r.push([t,n]),Eu(this)},n.sort=function(){ei(this.Sc,ku),Eu(this)},n.toString=function(){return lu(this.Sc)},n.entries=function(){return new Du(this.Sc,Iu)},n.keys=function(){return new Du(this.Sc,Cu)},n.values=function(){return new Du(this.Sc,Ou)},n.forEach=function(t){var n=this;this.Sc.forEach(function(r){return t(r[1],r[0],n)})},t}(),Ru=Su.prototype.entries;li&&(Su.prototype[Symbol.iterator]=Ru);var Iu=function(t){return[t[0],t[1]]},Cu=function(t){return t[0]},Ou=function(t){return t[1]},Du=function(){function t(t,n){this.Cc=0,this.Sc=t,this.Oc=n}return t.prototype.next=function(){return this.Cc<this.Sc.length?{done:!1,value:this.Oc(this.Sc[this.Cc++])}:{done:!0,value:void 0}},t}(),Nu="null";var Au=d.create(null);Au.ftp=21,Au.file=0,Au.gopher=70,Au.http=80,Au.https=443,Au.ws=80,Au.wss=443;var Pu=/^(?:\.|%2e)$/i,xu=/^(?:\.|%2e){2}$/i;function Fu(t){return Pu.test(t)}function Bu(t){return xu.test(t)}function Lu(t){return void 0!==Au[t]}function Mu(t){return Lu(t.Dc)}function Uu(t){return""!==t.Nc||""!==t.Ac}function qu(t){var n=t.length;if(!(n>=2))return!1;if(!Vu(t.slice(0,2)))return!1;if(2!==n){var r=t[2];if(47!==r&&92!==r&&63!==r&&35!==r)return!1}return!0}function ju(t){return 2===t.length&&ui.test(t[0])&&(":"===t[1]||"|"===t[1])}function Vu(t){return 2===t.length&&ju(Ii(t))}function Hu(t){return ju(t)&&":"===t[1]}function Wu(t){var n=t.Pc;0!==n.length&&("file"===t.Dc&&1===n.length&&Hu(n[0])||n.pop())}function zu(t){return null===t.xc||su===t.xc||t.Fc||"file"===t.Dc}var Xu=-1,Gu=/\t|\n|\r/g,Yu=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Ku(t,n,r,e){void 0===r&&(r=null),void 0===e&&(e=null),r||(r=new Ju,t=t.replace(Yu,""));var i=null!==e?e:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,f=xi(t=t.replace(Gu,"")),a=f.length,h=0;h<=a;){var d=h<a?f[h]:Xu;switch(i){case 0:if(!gi(d)){if(null===e){u.length=0,i=2;continue}throw new v("Invalid scheme")}u.push(ki(d)),i=1;break;case 1:if(pi(d)||43===d||45===d||46===d)u.push(ki(d));else{if(58!==d){if(null===e){u.length=0,i=2,h=0;continue}throw new v("Invalid scheme")}var l=ji(u);if(null!==e){if(Lu(r.Dc)&&!Lu(l))return;if(!Lu(r.Dc)&&Lu(l))return;if((Uu(r)||null!==r.Bc)&&"file"===l)return;if("file"===r.Dc&&(r.xc===su||null===r.xc))return}if(r.Dc=l,null!==e)return void(Mu(r)&&r.Bc===Au[r.Dc]&&(r.Bc=null));u.length=0,"file"===r.Dc?i=13:Mu(r)&&n&&n.Dc===r.Dc?i=3:Mu(r)?i=7:47===f[h+1]?(i=4,h+=1):(r.Fc=!0,r.Pc.push(""),i=18)}break;case 2:if(!n||n.Fc&&35!==d)throw new v("Invalid scheme");n.Fc&&35===d?(r.Dc=n.Dc,r.Pc=n.Pc.slice(),r.Ic=n.Ic,r.Lc="",r.Fc=!0,i=20):"file"!==n.Dc?(i=5,h-=1):(i=13,h-=1);break;case 3:47===d&&47===f[h+1]?i=8:(i=5,h-=1);break;case 4:47===d?i=9:(i=17,h-=1);break;case 5:r.Dc=n.Dc,Xu===d?(r.Nc=n.Nc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Ic=n.Ic):47===d?i=6:63===d?(r.Nc=n.Nc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Ic="",i=19):35===d?(r.Nc=n.Nc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Ic=n.Ic,r.Lc="",i=20):92===d&&Mu(r)?i=6:(r.Nc=n.Nc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,r.Pc=n.Pc.slice(),r.Pc.pop(),i=17,h-=1);break;case 6:!Mu(r)||47!==d&&92!==d?47===d?i=9:(r.Nc=n.Nc,r.Ac=n.Ac,r.xc=n.xc,r.Bc=n.Bc,i=17,h-=1):i=8;break;case 7:if(47!==d||47!==f[h+1]){i=8;continue}i=8,h+=1;break;case 8:47!==d&&92!==d&&(i=9,h-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var y=0;y<u.length;y++){var g=u[y];if(58!==g||c){var _=ji(nu(g,Qi));c?r.Ac+=_:r.Nc+=_}else c=!0}u.length=0}else if(Xu===d||47===d||63===d||35===d||Mu(r)&&92===d){if(o&&0===u.length)throw new v("Invalid host");h-=u.length+1,u.length=0,i=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===r.Dc)h-=1,i=15;else if(58!==d||s)if(Xu===d||47===d||63===d||35===d||Mu(r)&&92===d){if(h-=1,Mu(r)&&0===u.length)throw new v("Invalid host");if(null!==e&&0===u.length&&(Uu(r)||null!==r.Bc))return;var p=au(ji(u),Mu(r));if(r.xc=p,u.length=0,i=16,null!==e)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var m=au(ji(u),Mu(r));if(r.xc=m,u.length=0,i=12,11===e)return}break;case 12:if(_i(d))u.push(d);else{if(!(Xu===d||47===d||63===d||35===d||Mu(r)&&92===d||null!==e))throw new v("Invalid port");if(0!==u.length){var k=w(ji(u),10);if(k>65535)throw new v("Invalid port");r.Bc=k===Au[r.Dc]?null:k,u.length=0}if(null!==e)return;i=16,h-=1}break;case 13:r.Dc="file",47===d||92===d?i=14:n&&"file"===n.Dc?Xu===d?(r.xc=n.xc,r.Pc=n.Pc.slice(),r.Ic=n.Ic):63===d?(r.xc=n.xc,r.Pc=n.Pc.slice(),r.Ic="",i=19):35===d?(r.xc=n.xc,r.Pc=n.Pc.slice(),r.Ic=n.Ic,r.Lc="",i=20):(qu(f.slice(h))||(r.xc=n.xc,r.Pc=n.Pc.slice(),Wu(r)),i=17,h-=1):(i=17,h-=1);break;case 14:47===d||92===d?i=15:(n&&"file"===n.Dc&&!qu(f.slice(h))&&(Hu(n.Pc[0])?r.Pc.push(n.Pc[0]):r.xc=n.xc),i=17,h-=1);break;case 15:if(Xu===d||47===d||92===d||63===d||35===d)if(h-=1,null===e&&Vu(u))i=17;else if(0===u.length){if(r.xc=su,null!==e)return;i=16}else{var b=au(ji(u),Mu(r));if(0===b.bc&&"localhost"===b.Ec&&(b=su),r.xc=b,null!==e)return;u.length=0,i=16}else u.push(d);break;case 16:Mu(r)?(i=17,47!==d&&92!==d&&(h-=1)):null===e&&63===d?(r.Ic="",i=19):null===e&&35===d?(r.Lc="",i=20):Xu!==d&&(i=17,47!==d&&(h-=1));break;case 17:if(Xu===d||47===d||Mu(r)&&92===d||null===e&&(63===d||35===d)){var T=ji(u);if(Bu(T)?(Wu(r),47===d||Mu(r)&&92===d||r.Pc.push("")):!Fu(T)||47===d||Mu(r)&&92===d?Fu(T)||("file"===r.Dc&&0===r.Pc.length&&Vu(u)&&(su!==r.xc&&null!==r.xc&&(r.xc=su),u[1]=58,T=ji(u)),r.Pc.push(T)):r.Pc.push(""),u.length=0,"file"===r.Dc&&(Xu===d||63===d||35===d))for(;r.Pc.length>1&&""===r.Pc[0];)r.Pc.shift();63===d?(r.Ic="",i=19):35===d&&(r.Lc="",i=20)}else u.push.apply(u,nu(d,Ji));break;case 18:63===d?(r.Ic="",i=19):35===d?(r.Lc="",i=20):Xu!==d&&(r.Pc[0]+=ji(nu(d,Ki)));break;case 19:null===e&&35===d?(r.Lc="",i=20):Xu!==d&&(r.Ic+=ji(nu(d,Mu(r)?tu:Zi)));break;case 20:Xu===d||0===d||(r.Lc+=ji(nu(d,$i)))}h++}return r}function $u(t,n,r,e){try{Ku(t,n,r,e)}catch(t){}}var Ju=function(){this.Dc="",this.Nc="",this.Ac="",this.xc=null,this.Bc=null,this.Pc=[],this.Ic=null,this.Lc=null,this.Fc=!1};function Qu(t){switch(t.Dc){case"blob":var n;try{n=Ku(t.Pc[0],null)}catch(t){return Nu}return Qu(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return r=t.Dc,e=t.xc,i=t.Bc,r+"://"+hu(e)+(null===i?"":":"+i);case"file":default:return Nu}var r,e,i}var Zu=function(){function t(t,n){var r,e,i=null;if(null!=n)if(null!=(r=n)&&r instanceof Zu&&"object"==typeof r.Rc)i=n.Rc;else try{i=Ku(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=Ku(String(t),i)}catch(t){throw new v("Invalid URL: "+t.message)}var u=e.Ic;this.Rc=e,this.Ic=function(t){var n=new Su;return null!==t&&Tu(n,t),n}(u),this.Ic.Rc=this}var n,r,e,i=t.prototype;return i.toString=function(){return this.href},i.toJSON=function(){return this.href},n=t,(r=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var r=t.Dc+":";if(null!==t.xc?(r+="//",Uu(t)&&(r+=t.Nc,""!==t.Ac&&(r+=":"+t.Ac),r+="@"),r+=hu(t.xc),null!==t.Bc&&(r+=":"+t.Bc)):null===t.xc&&"file"===t.Dc&&(r+="//"),t.Fc)r+=t.Pc[0];else for(var e=0,i=t.Pc;e<i.length;e++)r+="/"+i[e];return null!==t.Ic&&(r+="?"+t.Ic),n||null===t.Lc||(r+="#"+t.Lc),r}(this.Rc)},set:function(t){var n;try{n=Ku(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Rc=n,bu(this.Ic);var r=this.Rc.Ic;null!==r&&Tu(this.Ic,r)}},{key:"origin",get:function(){return Qu(this.Rc)}},{key:"protocol",get:function(){return this.Rc.Dc+":"},set:function(t){$u(t+":",null,this.Rc,0)}},{key:"username",get:function(){return this.Rc.Nc},set:function(t){zu(this.Rc)||(this.Rc.Nc=ru(t,Qi))}},{key:"password",get:function(){return this.Rc.Ac},set:function(t){zu(this.Rc)||(this.Rc.Ac=ru(t,Qi))}},{key:"host",get:function(){var t=this.Rc,n=t.xc;if(null===n)return"";var r=t.Bc,e=hu(n);return null!==r&&(e+=":"+r),e},set:function(t){this.Rc.Fc||$u(t,null,this.Rc,10)}},{key:"hostname",get:function(){var t=this.Rc.xc;return null===t?"":hu(t)},set:function(t){this.Rc.Fc||$u(t,null,this.Rc,11)}},{key:"port",get:function(){var t=this.Rc.Bc;return null===t?"":""+t},set:function(t){zu(this.Rc)||(""===t?this.Rc.Bc=null:$u(t,null,this.Rc,12))}},{key:"pathname",get:function(){var t=this.Rc.Pc;return this.Rc.Fc?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Rc.Fc||(this.Rc.Pc.length=0,$u(t,null,this.Rc,16))}},{key:"search",get:function(){var t=this.Rc.Ic;return null===t||""===t?"":"?"+t},set:function(t){t=gu(t);var n=this.Rc;if(""===t)return n.Ic=null,void bu(this.Ic);"?"===t[0]&&(t=t.slice(1)),n.Ic="",$u(t,null,n,19),Tu(this.Ic,t)}},{key:"searchParams",get:function(){return this.Ic}},{key:"hash",get:function(){var t=this.Rc.Lc;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Rc.Lc="",$u(t,null,this.Rc,20)):this.Rc.Lc=null}}])&&ri(n.prototype,r),e&&ri(n,e),t}();function to(t,n){for(var r=0,e=d.keys(n);r<e.length;r++){var i=e[r];t.searchParams.set(i,n[i])}}function no(t,n){var r=D.Mc(t).href;return n&&!cn(r,"/")&&(r+="/"),r}var ro=/cache:(.+)?(?=&|$)/,eo="http://webcache.googleusercontent.com/search?q=cache:";function io(t){if(!sn(t,eo))return"";var n=D.Mc(t).search.match(ro);return n&&n.length>1?n[1]:""}var uo,oo=l.pow(2,-52);function so(t,n,r){return l.min(l.max(t,n),r)}function co(t,n,r){return t===n||l.abs(t-n)<=r}function fo(t,n){for(var r=t,e=n;0!==e;){var i=r%e;r=e,e=i}return r<0?-r:r}!function(t){t[t.Uc=0]="Uc",t[t.qc=1]="qc",t[t.jc=-1]="jc"}(uo||(uo={}));var ao=function(t,n){return(0|t)-(0|n)},ho=function(t,n){return t===n?uo.Uc:t<n?uo.jc:t>n?uo.qc:g(t)?g(n)?uo.Uc:uo.qc:uo.jc};function vo(t,n,r){return co(t,n,r)?uo.Uc:ho(t,n)}var lo=function(t,n){return function(t,n){if(t===n)return!0;var r=l.abs(t-n);return r<oo||r<l.max(l.abs(t),l.abs(n))*oo}(t,n)?uo.Uc:ho(t,n)},wo=function(){function t(t,n){void 0===n&&(n=1),this.Vc=t,this.Hc=n}t.Wc=function(n){return new t(l.ceil(n.Vc),n.Hc)},t.zc=function(n){return new t(l.floor(n.Vc),n.Hc)},t.Xc=function(t,n){return t.Gc(n)?t:n},t.Yc=function(t,n){return t.Kc(n)?t:n};var n=t.prototype;return n.$c=function(n){return this.Hc>=n.Hc?new t(this.Vc+n.Jc(this.Hc).Vc,this.Hc):new t(this.Jc(n.Hc).Vc+n.Vc,n.Hc)},n.Qc=function(t){return t.Zc(this)},n.Gc=function(t){return t.Kc(this)},n.tf=function(n){return this.Hc>=n.Hc?new t(l.abs(this.Vc-n.Jc(this.Hc).Vc),this.Hc):n.tf(this)},n.nf=function(t,n){return this.tf(t).Kc(n)},n.rf=function(t){return yo(this,t)},n.ef=function(t){return 0===this.rf(t)},n.Zc=function(t){return this.rf(t)<0},n.Kc=function(t){return this.rf(t)<=0},n.Jc=function(n){return new t(this.Vc*(n/this.Hc),n)},n.if=function(n){return this.Hc>=n.Hc?new t(this.Vc-n.Jc(this.Hc).Vc,this.Hc):new t(this.Jc(n.Hc).Vc-n.Vc,n.Hc)},n.uf=function(n){return new t(this.Vc*n,this.Hc)},x(t,[{key:"sf",get:function(){return!isFinite(this.Vc)}},{key:"cf",get:function(){return this.Vc/this.Hc}}]),t}();function yo(t,n){return t.Hc>=n.Hc?lo(t.Vc,n.Jc(t.Hc).Vc):lo(t.Jc(n.Hc).Vc,n.Vc)}wo.ff=new wo(1/6,1),wo.af=new wo(0),wo.hf=new wo(1/0),wo.vf=1e6;var go=!!("ontouchstart"in t||t.DocumentTouch&&i instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),_o=$e(),po=!(!_o||!_o.webkitShowPlaybackTargetPicker),mo=function(){function t(){this.df=new wo(0,1),this.lf=!1,this.ii=go,this.gi=!1,this.wf=!0,this.yf=!1}var n=t.prototype;return n.gf=function(t,n){return!0},n._f=function(t){return t.Gc(wo.ff.uf(2))},x(t,[{key:"pf",get:function(){return e.devicePixelRatio||1}},{key:"mf",get:function(){return po}},{key:"kf",get:function(){return!1}},{key:"bf",get:function(){return!0}},{key:"Tf",get:function(){return W.Ni}}]),t}(),ko=function(t){function n(){return t.call(this)||this}return gt(n,t),n}(mo),bo=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.gf=function(t,n){if(t&&t.Ef&&n&&n.Ef){var r=To(t.Ef,"mp4a.40.2")&&To(n.Ef,"mp4a.40.5"),e=To(t.Ef,"mp4a.40.5")&&To(n.Ef,"mp4a.40.2"),i=To(t.Ef,"mp4a.40.2")&&To(n.Ef,"mp4a.40.34"),u=To(t.Ef,"mp4a.40.34")&&To(n.Ef,"mp4a.40.2"),o=To(t.Ef,"mp4a.40.5")&&To(n.Ef,"mp4a.40.34"),s=To(t.Ef,"mp4a.40.34")&&To(n.Ef,"mp4a.40.5");return!(r||e||i||u||o||s)}return!0},n}(ko);function To(t,n){return t.indexOf(n)>-1}var Eo=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype._f=function(t){return t.Gc(new wo(2))},n}(ko),So=function(t){function n(){var n;return(n=t.call(this)||this).lf=W.Ai>=11,n.wf=W.Ni&&!(W.wi&&W.Ai<10),n}return gt(n,t),n}(ko),Ro=function(){var t=Ke();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(W.di)return!1;var t=Ke();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Io=function(t){function n(n){var r;return(r=t.call(this)||this).Sf=n,r.Sf&&(r.df=r.Sf.df,r.lf=r.Sf.lf,r.ii=r.Sf.ii,r.wf=Ro&&r.Sf.wf,r.yf=W.Fi),r}gt(n,t);var r=n.prototype;return r.gf=function(n,r){return this.Sf?this.Sf.gf(n,r):t.prototype.gf.call(this,n,r)},r._f=function(n){return this.Sf?this.Sf._f(n):t.prototype._f.call(this,n)},n}(mo),Co=function(t){function n(n){var r;return(r=t.call(this,n)||this).lf=!0,r.gi=!0,r}return gt(n,t),n}(Io),Oo=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.gf=function(n,r){return!(r.Rf>1920)&&t.prototype.gf.call(this,n,r)},x(n,[{key:"kf",get:function(){return W.Ti<3}},{key:"bf",get:function(){return W.Ti>=3}}]),n}(Io),Do=function(){function t(){this.If=Lt()}var n=t.prototype;return n.jo=function(t){this.If.delete(t)},n.Cf=function(){this.If.clear()},n.Mo=function(t){return this.If.get(t)},n.Of=function(t,n){this.If.set(t,n)},t}(),No=function(){function t(){}return t.Df=function(){return t.ji||(t.ji=Ao.Ms()?new Ao:new Do),t.ji},t.jo=function(n){t.Df().jo(n)},t.Cf=function(){t.Df().Cf()},t.Mo=function(n){return t.Df().Mo(n)},t.Of=function(n,r){t.Df().Of(n,r)},t}();No.ji=void 0;var Ao=function(n){function r(){return n.apply(this,arguments)||this}gt(r,n),r.Ms=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=r.prototype;return e.jo=function(n){t.sessionStorage.removeItem(n)},e.Cf=function(){t.sessionStorage.clear()},e.Mo=function(n){return t.sessionStorage[n]},e.Of=function(n,r){t.sessionStorage[n]=r},r}(No);var Po=function(){var n,r=t.Blob;if(r)try{return new r,n=r,function(t,r){return new n(t,r)}}catch(t){}var e,i=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return i?(e=i,function(t,n){var r=new e;if(t)for(var i=0;i<t.length;i++){var u=t[i];r.append(u)}return r.getBlob(n&&n.type||"")}):null}();function xo(t,n,r){var e=Po([n],{type:"application/octet-stream"}),u=URL.createObjectURL(e),o=function(t,n){var r=t,e=r.indexOf("?");if(e>=0&&(r=r.substr(0,e)),r=r.substr(r.lastIndexOf("/")+1),n){var i=r.indexOf(".");i<0&&(i=r.length),r=r.substr(0,i)+n+r.substr(i)}return r}(t,r),s=i.createElement("a");s.href=u,s.download=o,i.body.appendChild(s),s.click(),i.body.removeChild(s),URL.revokeObjectURL(u)}var Fo,Bo,Lo=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).df=new wo(2,1),n}return gt(n,t),n}(Co),Mo=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).df=new wo(1,1),n}return gt(n,t),n}(Co),Uo=function(){function n(){var n;this.Nf=new Tt,this.Af=new qo,this.Pf=void 0,this.xf=(n=function(){if(W.Oi)return new bo;if(W.Si||W.Ri)return new Eo;if(W.Ni)return new So;return new ko}(),W.ci?new Lo(n):W.wi?new Mo(n):W.gi?new Co(n):W.bi?new Oo(n):new Io(n)),t.performance&&t.performance.now?this.Ff=function(){return t.performance.now()}:this.Ff=wt}var r=n.prototype;return r.Bf=function(){ht.apply(void 0,arguments)},r.Lf=function(){vt.apply(void 0,arguments)},r.Mf=function(){dt.apply(void 0,arguments)},r.Uf=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];lt.apply(void 0,[t].concat(r))},r.ys=function(t,n){return s(t,n)},r.qf=function(t,n){return f(t,n)},r.gs=function(t){c(t)},r.jf=function(t){a(t)},r.Yi=function(t){return this.Nf.Yi(t)},r.$u=function(){return this.Vf.$u()},r.zu=function(){return this.Vf.zu()},r.Gu=function(){return this.Vf.Gu()},r.Xu=function(){return this.Vf.Xu()},r.Hu=function(){return this.Vf.Hu()},r.Yu=function(t,n){return this.Vf.Yu(t,n)},r.Wu=function(t){return this.Vf.Wu(t)},r.Mc=function(t,n){var r;return void 0===n&&(n=(r=S).document&&r.document.baseURI||r.location.href||""),new Zu(t,n)},x(n,[{key:"Vf",get:function(){return this.Pf||(this.Pf=new dn(ni())),this.Pf}},{key:"Hf",get:function(){return this.Af}},{key:"Wf",get:function(){return this.xf}},{key:"zf",get:function(){return No.Df()}},{key:"Xf",get:function(){return{Gf:xo}}},{key:"Yf",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Kf",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"$f",get:function(){return{Jf:o&&o.userAgent.match(/Android /i)?"Android":"other",Qf:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}}]),n}(),qo=function(){function t(){}return x(t,[{key:"Zf",get:function(){return o.oscpu}},{key:"Wf",get:function(){return o.platform}},{key:"ta",get:function(){return o.vendor}},{key:"na",get:function(){return o.vendorSub}}]),t}();Fo=new Uo,D=Fo,function(t){t.ra="ea",t.ia="ua"}(Bo||(Bo={}));Bo.ra,Bo.ia;var jo=function(t){function n(n,r){var e;return(e=t.call(this,n,r)||this).oa=void 0,e}return gt(n,t),x(n,[{key:"sa",get:function(){return this.oa||(this.oa=this.ca()),this.oa}}]),n}(qn);var Vo,Ho=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n}(jo),Wo=function(t){function n(n){return t.call(this,n)||this}return gt(n,t),n}(qn),zo=function(t){function n(n){var r;return(r=t.call(this,Bo.ra)||this).fa=n,r}return gt(n,t),n.prototype.ca=function(){return new Xo(this.fa.sa)},n}(Ho),Xo=function(t){function n(n){var r;return(r=t.call(this,"addtrack")||this).track=n,r}return gt(n,t),n}(Wo),Go=function(t){function n(n){var r;return(r=t.call(this,Bo.ia)||this).fa=n,r}return gt(n,t),n.prototype.ca=function(){return new Yo(this.fa.sa)},n}(Ho),Yo=function(t){function n(n){var r;return(r=t.call(this,"removetrack")||this).track=n,r}return gt(n,t),n}(Wo);!function(t){t.aa="ha",t.va="da",t.la="wa",t.ya="ga",t._a="pa",t.ma="ka",t.ba="Ta",t.Ea="Sa",t.Ra="bs",t.Ia="Ca",t.Oa="Da",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Vo||(Vo={}));var Ko=function(t){function n(){var n;return(n=t.call(this)||this).Na=[],n.oa=void 0,n}gt(n,t);var r=n.prototype;return r.Aa=function(t){return this.Na[t]},r.Pa=function(t){return!(!t||pn(this.Na,t))&&(this.Na.push(t),this.oa&&this.oa.push(t.sa),t._o(Vo.ma,this.lo),this.wo(new zo(t)),!0)},r.xa=function(t){if(!t)return!1;var n=this.Na.indexOf(t);return!(n<0)&&(_n(this.Na,n),this.oa&&_n(this.oa,n),t.ko(Vo.ma,this.lo),this.wo(new Go(t)),!0)},r.Fa=function(t){return pn(this.Na,t)},r.Ba=function(){for(var t=this.Na,n=t.length-1;n>=0;n-=1)this.xa(t[n])},r.oe=function(){this.Ba(),this.mo()},x(n,[{key:"La",get:function(){return this.Na}},{key:"sa",get:function(){return this.oa||(this.oa=this.ca()),this.oa}},{key:"Ma",get:function(){return this.Na.length}}]),n}(Mn),$o=function(t){function n(n){var r;return(r=t.call(this,Vo.ma)||this).fa=n,r}return gt(n,t),n.prototype.ca=function(){return new Jo(this.fa.sa)},n}(Ho),Jo=function(t){function n(n){var r;return(r=t.call(this,"change")||this).track=n,r}return gt(n,t),n}(Wo),Qo=function(t){function n(){var n;return(n=t.call(this)||this).Ua=void 0,n.qa=function(t){var r=t.fa;n.Pa(r)},n.ja=function(t){var r=t.fa;n.xa(r)},n}gt(n,t);var r=n.prototype;return r.Va=function(t){t._o(Bo.ra,this.qa),t._o(Bo.ia,this.ja)},r.Ha=function(t){t.ko(Bo.ra,this.qa),t.ko(Bo.ia,this.ja)},r.oe=function(){this.Ua&&this.Ua.oe(),t.prototype.oe.call(this)},x(n,[{key:"Wa",get:function(){return this.Ua},set:function(t){var n=this.Ua;if(t!==n){if(n){this.Ha(n);for(var r=0,e=n.La;r<e.length;r++){var i=e[r];t&&t.Fa(i)||this.xa(i)}}if(this.Ua=t,t){for(var u=[],o=0,s=t.La;o<s.length;o++){var c=s[o];this.Pa(c),this.za(c)&&u.push(c)}this.Va(t);for(var f=0;f<u.length;f++){var a=u[f];a.wo(new $o(a))}}}}}]),n}(Ko),Zo=d.freeze||et;function ts(t,n,r){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:r})}function ns(t,n){for(var r=0,e=d.getOwnPropertyNames(n);r<e.length;r++){var i=e[r];d.defineProperty(t,i,d.getOwnPropertyDescriptor(n,i))}return t}function rs(t){if(J(t)){var n={};for(var r in t)z.call(t,r)&&(n[r]=rs(t[r]));return n}if(Y(t)){for(var e=new Array(t.length),i=0;i<e.length;i++)i in t&&(e[i]=rs(t[i]));return e}return t}function es(t,n){return t===n||!(!t||!n)&&(!(!$(t)||!$(n))&&(K(t)?!!K(n)&&function(t,n){var r=t.length,e=n.length;if(r!==e)return!1;for(var i=0;i<r;i+=1)if(!es(t[i],n[i]))return!1;return!0}(t,n):!K(n)&&function(t,n){var r=d.keys(t),e=d.keys(n);if(!r||!e||r.length!==e.length)return!1;for(var i=0;i<r.length;i++){var u=r[i];if(!z.call(n,u)||!es(t[u],n[u]))return!1}return!0}(t,n)))}function is(t,n){return t.constructor===n.constructor}function us(t){for(var n={},r=0,e=d.keys(t);r<e.length;r++){var i=e[r],u=t[i];null!=u&&(n[i]=u)}return n}function os(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function ss(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function cs(t){var n=ss(t);if(g(n))throw new h("Expected a valid number.");return n}function fs(t){return"string"==typeof t?t:""}function as(t,n){return K(t)?function(t,n){if(!K(t))return[];for(var r=0|t.length,e=new Array(r),i=0;i<r;i++)e[i]=n(t[i]);return e}(t,n):n(t)}var hs=[Bo.ra,Bo.ia,Vo.ma];function vs(t){var n,r=t.La.map(function(t){return t.sa});return r.item=function(n){var r=0|n,e=t.Aa(r);return e&&e.sa||void 0},r.addEventListener=function(t,r){n._o(t,r)},r.removeEventListener=function(t,r){n.ko(t,r)},n=new Un(r),t._o(hs,function(t){return n.wo(t.sa)}),r}function ds(){}function ls(t){var n,r=[Vo.Ra,Vo.ma,Vo.Ia,Vo.Oa,Vo.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.Xa&&t.Xa.sa},get enabled(){return t.Ga},set enabled(n){t.Ga=os(n)},get id(){return t.Ya},get uid(){return t.Ka},get kind(){return t.$a},get label(){return t.Ja},set label(n){t.Ja=fs(n)},get language(){return t.Qa},get qualities(){return t.Za.sa},set targetQuality(n){var r;(r=n?function(t,n){for(var r=[],e=0,i=t.Za.La;e<i.length;e++)for(var u=i[e],o=0;o<n.length;o++){var s=n[o];u.sa===s&&r.push(u)}return r}(t,Y(n)?n:[n]):[]).length>0?t.th=r:t.th=void 0},get targetQuality(){if(t.th)return 1===t.th.length?t.th[0].sa:t.th.map(function(t){return t.sa})},addEventListener:function(t,r){var e=as(t,fs);n._o(e,r)},removeEventListener:function(t,r){var e=as(t,fs);n.ko(e,r)}};return n=new Un(e),t._o(r,function(t){return n.wo(t.sa)}),d.defineProperty(e,"constructor",{value:ds}),e}function ws(){}function ys(t){var n=vs(t);return d.defineProperty(n,"constructor",{value:ws}),n}var gs,_s,ps=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.ca=function(){return ys(this)},r.za=function(t){return t.Ga},n}(Qo);function ms(){}function ks(t){var n,r=[Vo.ma,Vo.Ra,Vo.aa,Vo.va,Vo.la,Vo.ya,Vo._a,Vo.ba,Vo.Ea],e=[_s.nh],i={get kind(){return t.$a},get label(){return t.Ja},set label(n){t.Ja=fs(n)},get language(){return t.Qa},get id(){return t.Ya},get uid(){return t.Ka},get inBandMetadataTrackDispatchType(){return t.rh},get mode(){return t.eh},set mode(n){n!==gs.ih&&n!==gs.uh&&n!==gs.oh||(t.eh=n)},get type(){return t.xu},get readyState(){return Es(t.sh)},get cues(){return t.eh===gs.oh?null:t.fh.sa},get activeCues(){return t.eh===gs.oh?null:t.ah.sa},get src(){return t.hh||""},addEventListener:function(t,r){var e=as(t,fs);n._o(e,r)},removeEventListener:function(t,r){var e=as(t,fs);n.ko(e,r)}};return n=new Un(t),t._o(r,function(t){return n.wo(t.sa)}),t._o(e,function(t){return n.wo(t)}),d.defineProperty(i,"constructor",{value:ms}),i}function bs(){}function Ts(t){var n=vs(t);return d.defineProperty(n,"constructor",{value:bs}),n}function Es(t){return t}!function(t){t.oh="disabled",t.uh="hidden",t.ih="showing"}(gs||(gs={})),function(t){t.nh="error"}(_s||(_s={}));var Ss,Rs=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.ca=function(){return Ts(this)},r.za=function(t){return t.eh===gs.ih},n}(Qo),Is=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).vh=void 0,n}gt(n,t);var r=n.prototype;return r.dh=function(t){if("function"==typeof t){var n=this.vh;n?"function"==typeof n?this.vh=[n,t]:n.push(t):this.vh=t}},r.lh=function(t){var n=this.vh;n&&("function"==typeof n?n===t&&(this.vh=void 0):gn(n,t))},r.mo=function(){t.prototype.mo.call(this),this.vh=void 0},r.wo=function(n){var r=Fn(this.vh);t.prototype.wo.call(this,n),Bn(this.yo,n,r)},n}(Mn),Cs=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n}(Is);!function(t){t.wh="canplay",t.yh="canplaythrough",t.gh="loadeddata",t._h="loadedmetadata",t.ba="readystatechange",t.ph="waiting",t.mh="playing"}(Ss||(Ss={}));var Os,Ds=[Ss.wh,Ss.yh,Ss.gh,Ss._h,Ss.ba,Ss.ph,Ss.mh],Ns=function(t){function n(n,r){var e;return(e=t.call(this,Ss.ba)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn);!function(t){t[t.kh=0]="kh",t[t.bh=1]="bh",t[t.Th=2]="Th",t[t.Eh=3]="Eh",t[t.Sh=4]="Sh"}(Os||(Os={}));var As,Ps=function(t){function n(n,r){var e;return void 0===r&&(r=Os.Sh),(e=t.call(this,Ss.yh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),xs=function(t){function n(n,r){var e;return void 0===r&&(r=Os.Eh),(e=t.call(this,Ss.wh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn);!function(t){t.Rh="Ih",t.Ch="Oh",t.Dh="contentprotectionerror",t.Nh="contentprotectionsuccess",t.Ah="currentsourcechange",t.Ph="destroy",t.xh="durationchange",t.Fh="emptied",t.No="encrypted",t.Bh="ended",t.Lh="Mh",t.Uh="loadstart",t.qh="manifestupdate",t.jh="nosupportedrepresentationfound",t.Vh="offline",t.Hh="online",t.Wh="pause",t.zh="play",t.Xh="progress",t.Gh="ratechange",t.Yh="representationchange",t.Kh="resize",t.$h="seeked",t.Jh="seeking",t.Qh="segmentnotfound",t.Zh="tv",t.nv="rv",t.ev="sourcechange",t.iv="timeupdate",t.uv="volumechange",t.ov="sv",t.cv="metricschange"}(As||(As={}));var Fs,Bs=function(t){function n(n,r){var e;return(e=t.call(this,As.uv)||this).currentTime=n,e.volume=r,e}return gt(n,t),n}(qn),Ls=function(t){function n(n){var r;return(r=t.call(this,As.$h)||this).currentTime=n,r}return gt(n,t),n}(qn),Ms=function(t){function n(n){var r;return(r=t.call(this,As.Jh)||this).currentTime=n,r}return gt(n,t),n}(qn),Us=function(t){function n(n,r){var e;return void 0===r&&(r=Os.Th),(e=t.call(this,Ss.gh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),qs=function(t){function n(n){var r;return(r=t.call(this,As.Bh)||this).currentTime=n,r}return gt(n,t),n}(qn),js=function(t){function n(n,r){var e;return(e=t.call(this,As.iv)||this).currentTime=n,e.currentProgramDateTime=r,e}return gt(n,t),n}(qn),Vs=function(t){function n(n,r){var e;return(e=t.call(this,As.Gh)||this).currentTime=n,e.playbackRate=r,e}return gt(n,t),n}(qn),Hs=function(t){function n(n){var r;return(r=t.call(this,As.xh)||this).duration=n,r}return gt(n,t),n}(qn),Ws=function(t){function n(n,r){var e;return void 0===r&&(r=Os.bh),(e=t.call(this,Ss._h)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),zs=function(t){function n(n){var r;return(r=t.call(this,As.zh)||this).currentTime=n,r}return gt(n,t),n}(qn),Xs=function(t){function n(n,r){var e;return void 0===r&&(r=Os.kh),(e=t.call(this,As.Fh)||this).currentTime=n,e.readyState=r,e}return gt(n,t),n}(qn),Gs=function(t){function n(n){var r;return(r=t.call(this,As.Wh)||this).currentTime=n,r}return gt(n,t),n}(qn),Ys=function(t){function n(n){var r;return(r=t.call(this,"presentationmodechange")||this).presentationMode=n,r}return gt(n,t),n}(qn);!function(t){t.ma="fullscreenchange",t.fv="fullscreensupportchange",t.nh="fullscreenerror"}(Fs||(Fs={}));var Ks=function(t){function n(n,r){var e;return void 0===r&&(r=!1),(e=t.call(this,n)||this).av=[],e.hv=function(t){Nn(function(){e.lo(t)})},e.vv=r?e.hv:e.lo,e}gt(n,t);var r=n.prototype;return r.dv=function(t){t.dh(this.vv),this.av.push(t)},r.lv=function(t){t.lh(this.vv),gn(this.av,t)},r.oe=function(){this.mo();for(var t=0,n=this.av;t<n.length;t++){n[t].lh(this.vv)}mn(this.av)},n}(Is),$s=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n}(Ks);var Js,Qs=function(t){function n(n){var r;return(r=t.call(this,_s.nh)||this).errorObject=n,r}return gt(n,t),n.prototype.ca=function(){return this},x(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(jo);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Js||(Js={}));var Zs,tc,nc,rc,ec,ic,uc=function(t){function r(n){var r;return(r=t.call(this)||this).wv=!1,r.yv=!1,r.oa=void 0,r.gv=function(){return r._v()},r.pv=function(){return r.mv()},r.kv=n,r.bv=r.Tv=r.Ev=r.Sv=Js.INLINE,r.kv._o(Fs.ma,r.gv),r.kv._o(Fs.nh,r.pv),r.Rv(),r}gt(r,t);var e=r.prototype;return e.ca=function(){return t=this,r={get currentMode(){return t.Iv()},requestMode:function(n){var r=Ec(n);r&&t.Cv(r)},supportsMode:function(n){var r=Ec(n);return!!r&&t.Ov(r)},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)}},(n=new Ks(r,!0)).dv(t),r;var t,n,r},e.Cv=function(t){this.Dv(t,t)},e.Dv=function(t,n){this.Tv!==n&&(this.wv=!0,this.bv=t,this.Nv(n,this.Tv),t!==Js.FULLSCREEN&&(this.Ev=t),this.wv=!1,this.Rv())},e.Iv=function(){return this.yv?Js.FULLSCREEN:Js.INLINE},e.Ov=function(t){switch(t){case Js.FULLSCREEN:return this.kv.Av;case Js.INLINE:return!0}return!1},e.Rv=function(){if(!this.wv){var t=this.Tv,n=this.Iv();this.Tv=n,n!==Js.FULLSCREEN&&(this.Sv=n),t!==n&&this.wo(new Ys(n))}},e.Nv=function(t,n){var r=t===Js.FULLSCREEN;this.yv=r,r!==this.kv.Pv&&(r?this.kv.xv():this.kv.Fv())},e._v=function(){if(!this.wv){var t=this.kv.Pv;this.yv=t,t?this.Dv(Js.FULLSCREEN,Js.FULLSCREEN):t||this.bv!==Js.FULLSCREEN?this.Rv():this.Dv(this.Ev,this.Sv)}},e.mv=function(){this._v(),this.wo(new Qs(new Be(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.oe=function(){this.kv.oe(),this.mo()},x(r,[{key:"sa",get:function(){return this.oa||(this.oa=this.ca()),this.oa}}]),r}(Is),oc="1ADD53F3";function sc(t){return{chromecast:function(t){return{appID:t&&t.appID?fs(t.appID):oc}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Zs.AUTO;case"manual":return Zs.MANUAL;case"disabled":return Zs.DISABLED;default:return Zs.MANUAL}}(t?t.strategy:void 0)}}function cc(t){var n,r=nc.Bv;return(n=t)&&on(n,"mpd")&&(r=nc.Lv),function(t){return!!t&&on(t,"m3u8")}(t)&&(r=nc.Mv),r}function fc(t){return $(t)&&$(t.ssai)&&"google-dai"===t.ssai.integration}function ac(t){return $(t)&&Q(t.integration)&&"verizon-media"===t.integration}function hc(t){if(Q(t))return!t;if(ac(t))return!t.id;if(fc(t)){var n=t.ssai,r="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(r&&e)}return!t.src}function vc(t){return Boolean($(t)&&Q(t.src))}function dc(t){return Q(t)||vc(t)||fc(t)||ac(t)}function lc(t){if(t){if(dc(t))return hc(t);for(var n=0;n<t.length;n++){if(!hc(t[n]))return!1}return!0}return!0}function wc(){return{crossOrigin:tc.Uv,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function yc(){return Ft(Ft({},wc()),{src:void 0,type:nc.Bv,contentProtection:void 0,ssai:void 0,integrationData:void 0})}function gc(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:rc.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ec.NONE;case"midroll-and-postroll":default:return ec.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=os(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return rc.INSECURE;case"disabled":return rc.DISABLED;case"enabled":default:return rc.ENABLED}}(t.vpaidMode)),Y(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(Q)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:os(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function _c(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var e=t[r];J(e)&&n.push(e)}return n}function pc(t){switch(t){case ic.ALL:case ic.CONTENT:return t;default:return ic.NONE}}function mc(t){var n,r,e,i=rs(t||{});return i.libraryLocation&&(i.libraryLocation=no(i.libraryLocation)),i.isEmbeddable=Boolean(i.isEmbeddable),i.cast=sc(i.cast),i.ads=gc(i.ads),i.analytics=_c(i.analytics),i.mutedAutoplay=pc(i.mutedAutoplay),i.allowNativeFullscreen=Boolean(i.allowNativeFullscreen),i.allowMixedContent=Boolean(i.allowMixedContent),i.persistVolume=Boolean(i.persistVolume),i.liveOffset=(n=i.liveOffset,Number(n)||void 0),i.hlsDateRange=(r=i.hlsDateRange,Boolean(r)),i.retainPlaybackRateOnSourceChange=Boolean(i.retainPlaybackRateOnSourceChange),i.license=Q(e=i.license)?e:void 0,i.licenseUrl=function(t){if(!t)return;try{return no(t)}catch(t){return void D.Lf("Invalid 'licenseUrl', falling back to default URL")}}(i.licenseUrl),i}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Zs||(Zs={})),function(t){t.Uv="",t.qv="anonymous",t.jv="use-credentials"}(tc||(tc={})),function(t){t.Lv="application/dash+xml",t.Mv="application/vnd.apple.mpegurl",t.Vv="application/x-mpegurl",t.Bv="video/mp4",t.Hv="application/vnd.theoplayer.hesp+json"}(nc||(nc={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(rc||(rc={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ec||(ec={})),function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(ic||(ic={}));var kc={Wv:0,zv:NaN,Xv:!1,Do:void 0,Gv:void 0,Yv:!1,Kv:!0,$v:1,sh:Os.kh,Jv:!1,Qv:0,Zv:0,td:1};function bc(t){return{Wv:t.Wv,zv:t.zv,Xv:t.Xv,Do:t.Do,Gv:t.Gv,Yv:t.Yv,Kv:t.Kv,$v:t.$v,sh:t.sh,Jv:t.Jv,Qv:t.Qv,Zv:t.Zv,td:t.td}}function Tc(t,n,r){if(n!==r){var e=n.Wv,i=n.zv,u=n.Yv,o=n.Kv,s=n.$v,c=n.sh,f=n.Jv,a=(n.Zv,n.Qv,n.td),h=r.Wv,v=r.zv,d=r.Xv,l=r.Gv,w=r.Yv,y=r.Kv,_=r.$v,p=r.sh,m=r.Jv,k=(r.Zv,r.Qv,r.td);c!==Os.kh&&t.wo(new Xs(h,p)),y&&!o?t.wo(new Gs(h)):!y&&o&&t.wo(new zs(h)),p>=Os.bh&&t.wo(new Ws(h,p)),v===i||g(v)&&g(i)||t.wo(new Hs(v)),_!==s&&t.wo(new Vs(h,_)),h!==e&&t.wo(new js(h,void 0)),d&&t.wo(new qs(h)),p>=Os.Th&&t.wo(new Us(h,p)),m&&!f?t.wo(new Ms(h)):!m&&f&&t.wo(new Ls(h)),k===a&&w===u||t.wo(new Bs(h,k)),p>=Os.Eh&&t.wo(new xs(h,p)),p>=Os.Sh&&t.wo(new Ps(h,p)),p!==c&&t.wo(new Ns(h,p)),l&&t.wo(new Qs(l))}}function Ec(t){switch(t){case Js.INLINE:case Js.FULLSCREEN:case Js.PICTURE_IN_PICTURE:return t;default:return}}var Sc=function(t){function n(){return t.call(this,As.Lh)||this}return gt(n,t),n}(qn),Rc=function(t){function n(n){var r;return(r=t.call(this,As.Ah)||this).currentSource=n,r}return gt(n,t),n}(qn),Ic=function(){function t(){}return t.nd=function(n,r){var e=t.rd(n,r);return e?t.ed(e):0},t.ud=function(){return D.Yf||"default"},t.od=function(){return D.Kf||"unknown"},t.rd=function(n,r){var e,i=null===(e=D.zf)||void 0===e?void 0:e.Mo(r),u=i&&JSON.parse(i);if(u&&u[n])return t.sd(u,n,r)},t.ed=function(t){var n=t.availableBandwidth;return n||0},t.sd=function(n,r,e){if(!t.fd(n,r))return n[r];t.hd(n,r,e)},t.hd=function(t,n,r){var e;delete t[n],null===(e=D.zf)||void 0===e||e.Of(r,JSON.stringify(t))},t.fd=function(t,n){var r=t[n].storedTimestamp;if(!r)return!1;var e=new Date(r),i=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=i},t.vd=function(t,n,r,e){var i;return Ft(Ft({},t),((i={})[n]={availableBandwidth:r,storedTimestamp:e},i))},t.dd=function(n){var r=t.ud();t.ld(r,"theoplayer-stored-network-info",n,wt())},t.ld=function(n,r,e,i){var u,o,s=null===(u=D.zf)||void 0===u?void 0:u.Mo(r),c=s?JSON.parse(s):void 0,f=t.vd(c,n,e,i);null===(o=D.zf)||void 0===o||o.Of(r,JSON.stringify(f))},t.wd=function(){var n=t.ud();return t.nd(n,"theoplayer-stored-network-info")},t}();var Cc,Oc=function(t){function n(n){var r;return(r=t.call(this)||this).yd=[],r.gd=!1,r._d=new ps,r.pd=new ps,r.md=new Rs,r.kd=!1,r.bd(n),n.dh(r.lo),r.Ua=n,r._d.Wa=n.Td,r.pd.Wa=n.Ed,r.md.Wa=n.Sd,r}gt(n,t);var r=n.prototype;return r.re=function(){this.Ua.re()},r.ee=function(){this.Ua.ee()},r.Rd=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Pn(this.yd.map(function(t){return t.Rd()})).then(rt));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Id=function(){return this.Ua.Id()},r.Cd=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(r),t.next=3,this.Ua.Cd(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Od=function(){return this.Wa.Od()},r.Dd=function(){this.Wa.Dd()},r.Nd=function(){this.Wa.Nd()},r.fe=function(){if(!this.gd){for(var t=0,n=this.yd;t<n.length;t++){n[t].fe()}this.gd=!0}},r.Ad=function(t){this.Ua.Ad(t)},r.Pd=function(){this.Ua.Pd()},r.xd=function(){this.Ua.xd()},r.Fd=function(){this.Ua.Fd()},r.Bd=function(){return this.Ua.Bd()},r.Ld=function(){return this.Ua.Ld()},r.Md=function(){for(var t=[],n=0,r=this.yd;n<r.length;n++){var e=r[n];t.push.apply(t,e.Md())}return t},r.Ud=function(t){for(var n=!1,r=0,e=this.yd;r<e.length;r++){n=e[r].Ud(t)||n}return n},r.wo=function(n){this.Ud(n)||t.prototype.wo.call(this,n)},r.bd=function(t){this.yd.push(t)},r.qd=function(t){gn(this.yd,t)},r.jd=function(t){if(t!==this.Ua){var n=this.Ua;n.Pd(),n.lh(this.lo);var r=bc(this),e=this.Vd,i=this.Ld();this.Ua=t,this._d.Wa=t.Td,this.pd.Wa=t.Ed,this.md.Wa=t.Sd,Tc(this,r,this);var u=this.Vd;u!==e&&this.wo(new Rc(u)),this.Ld()!==i&&this.wo(new Sc),t.dh(this.lo),t.Ad(n)}},r.Hd=function(){},r.oe=function(){var t=C.coroutine(xt.mark(function t(){var n,r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.mo(),this.Ua.Pd(),n=0,r=this.yd;case 3:if(!(n<r.length)){t.next=10;break}return e=r[n],t.next=7,e.oe();case 7:n++,t.next=3;break;case 10:this._d.oe(),this.pd.oe(),this.md.oe();case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ba=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Pn(this.yd.map(function(t){return t.Ba()})).then(rt));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(n,[{key:"Td",get:function(){return this._d}},{key:"Sd",get:function(){return this.md}},{key:"Ed",get:function(){return this.pd}},{key:"Wd",get:function(){return this.Ua.Wd}},{key:"zd",get:function(){return this.Ua.zd},set:function(t){this.Ua.zd=t}},{key:"Vd",get:function(){return this.Ua.Vd}},{key:"Wv",get:function(){return this.Ua.Wv},set:function(t){this.Ua.Wv=t}},{key:"zv",get:function(){return this.Ua.zv}},{key:"Xd",get:function(){return this.Ua.Xd}},{key:"Xv",get:function(){return this.Ua.Xv}},{key:"Do",get:function(){return this.Ua.Do}},{key:"Gv",get:function(){return this.Ua.Gv}},{key:"Gd",get:function(){return this.Wa.Gd}},{key:"Yd",get:function(){return this.Ua.Yd}},{key:"Kd",get:function(){return function(t){for(var n=0,r=0,e=0,i=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.$d,r+=c.Jd,e+=c.Qd,i+=c.Zd,u+=c.tl,o.amountOfBufferedAudioSegments+=c.nl.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.nl.amountOfBufferedVideoSegments}return{$d:n,Jd:r,Qd:e,Zd:i,tl:u,nl:o}}(this.yd.map(function(t){return t.Kd}))}},{key:"Yv",get:function(){return this.Ua.Yv},set:function(t){this.Ua.Yv=t}},{key:"il",get:function(){return this.Ua.il}},{key:"Kv",get:function(){return this.Ua.Kv}},{key:"$v",get:function(){return this.Ua.$v},set:function(t){this.Ua.$v=t}},{key:"ul",get:function(){return this.Ua.ul}},{key:"ol",get:function(){return this.Ua.ol},set:function(t){this.Ua.ol=t}},{key:"sh",get:function(){return this.Ua.sh}},{key:"sl",get:function(){return this.Ua.sl}},{key:"Jv",get:function(){return this.Ua.Jv}},{key:"Qv",get:function(){return this.Ua.Qv}},{key:"Zv",get:function(){return this.Ua.Zv}},{key:"td",get:function(){return this.Ua.td},set:function(t){this.Ua.td=t}},{key:"Wa",get:function(){return this.Ua},set:function(t){this.jd(t)}}]),n}(Cs),Dc=function(t){function n(n,r,e,i,u,o,s,c){var f;return(f=t.call(this,n,r,e)||this).url=i,f.status=u,f.statusText=o,f.response=s,f.systemCode=c,f}return gt(n,t),x(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Be);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Cc||(Cc={}));var Nc=function(t){function n(n,r,e,i){var u;return(u=t.call(this,r)||this).code=n,u.message=null!=r?r:"Unknown error",u.cause=e,u.systemCode=i,h.captureStackTrace&&h.captureStackTrace(pt(u),u.constructor),u}return gt(n,t),x(n,[{key:"name",get:function(){return"MediaError"}}]),n}(mt);function Ac(t){ts(t,"MEDIA_ERR_ABORTED",Cc.ABORTED),ts(t,"MEDIA_ERR_NETWORK",Cc.NETWORK),ts(t,"MEDIA_ERR_DECODE",Cc.DECODE),ts(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Cc.SRC_NOT_SUPPORTED),ts(t,"MEDIA_ERR_ENCRYPTED",Cc.ENCRYPTED)}function Pc(t){var r,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Nc(Cc.ENCRYPTED,t.message,null===(r=t.cause)||void 0===r?void 0:r.message,t.systemCode):new Nc(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Cc.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Cc.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Cc.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Cc.SRC_NOT_SUPPORTED;var r=n.ErrorCategory.fromCode(t);if(r===n.ErrorCategory.NETWORK)return Cc.NETWORK;if(r===n.ErrorCategory.SOURCE)return Cc.SRC_NOT_SUPPORTED;if(r===n.ErrorCategory.LICENSE)return Cc.LICENSE_INVALID;if(r===n.ErrorCategory.CONTENT_PROTECTION)return Cc.ENCRYPTED;if(r===n.ErrorCategory.AD)return Cc.ADVERTISEMENT_ERROR;return Cc.DECODE}(t.code),t.message,null===(e=t.cause)||void 0===e?void 0:e.message)}function xc(t,n){var r={};for(var e in t)d.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(r[e]=t[e]);if(null!=t&&"function"==typeof d.getOwnPropertySymbols){var i=0;for(e=d.getOwnPropertySymbols(t);i<e.length;i++)n.indexOf(e[i])<0&&d.prototype.propertyIsEnumerable.call(t,e[i])&&(r[e[i]]=t[e[i]])}return r}Ac(Nc),Ac(Nc.prototype);var Fc,Bc="titanium",Lc="conax",Mc="ezdrm",Uc="irdeto",qc="vudrm",jc="verimatrix",Vc="keyos",Hc="drmtoday",Wc="expressplay",zc="azure",Xc="xstream",Gc="vimond",Yc="axinom",Kc="uplynk",$c="comcast",Jc="custom";function Qc(t){return G(t.token&&t.deviceId)}function Zc(t){var n,r=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==r&&G(r.PreAuthorization)}function tf(t){var n=t;return Qc(n)&&""!==n.token&&""!==n.deviceId&&!Zc(n)}!function(t){t.cl=!1,t.fl=!1,t.al=!1,t.hl=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.vl=!1}(Fc||(Fc={}));var nf,rf=function(){function t(t,n,r){this.dl=t,this.us=n,this.ll=r}return t.prototype.wl=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var r=t.onCertificateResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var i=t.onLicenseResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.ll.build(t))},x(t,[{key:"yl",get:function(){return this.dl}},{key:"Bs",get:function(){return this.us}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(nf||(nf={}));var ef,uf,of,sf,cf=function(){function t(){this.gl=[]}var r=t.prototype;return r.registerContentProtectionIntegration=function(t,r,e){switch(this._l(t,r,e)){case nf.FAILED:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+r+".");case nf.OVERRIDDEN:var i=xf(r);D.Lf("Warning: Overwriting an earlier registered integration for "+t+" and "+i+".");break;case nf.SUCCEEDED:xf(r);0}},r._l=function(t,n,r){var e=xf(n);if(!e)return nf.FAILED;for(var i=nf.SUCCEEDED,u=0,o=this.gl.slice();u<o.length;u++){var s=o[u];s.yl===t&&s.Bs===e&&(i=nf.OVERRIDDEN,gn(this.gl,s))}return this.gl.push(new rf(t,e,r)),i},r.pl=function(t,n){return void 0!==this.ml(t,n)},r.kl=function(t,n,r){var e=this.ml(t,n);if(!e)throw h("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.wl(r)},r.ml=function(t,n){for(var r=0,e=this.gl;r<e.length;r++){var i=e[r];if(i.yl===t&&(!n||i.Bs===n))return i}},t}();cf.bl=new cf,function(t){t.Tl="moov",t.El="mvhd",t.Sl="trak",t.Rl="tkhd",t.Il="mdia",t.Cl="mdhd",t.Ol="hdlr",t.Dl="minf",t.Nl="stbl",t.Al="stsd",t.Pl="mvex",t.xl="trex",t.Fl="avc1",t.Bl="avcC",t.Ll="hev1",t.Ml="hvc1",t.Ul="hvcC",t.ql="pasp",t.jl="mp4a",t.Vl="esds",t.Hl="wvtt",t.Wl="vttC",t.zl="vlab",t.Xl="moof",t.Gl="mfhd",t.Yl="traf",t.Kl="tfhd",t.$l="trun",t.Jl="tfdt",t.Ql="mdat",t.Zl="pssh",t.tw="emsg",t.nw="sidx"}(ef||(ef={})),function(t){t.rw="vide",t.ew="soun",t.iw="hint",t.uw="meta",t.ow="auxv"}(uf||(uf={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(of||(of={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(sf||(sf={}));var ff=function(){function t(t,n){this.mu=t,this.sw=n}var n=t.prototype;return n.cw=function(){return Lr(this.mu,this.sw)},n.fw=function(){return jr(this.mu,this.sw)},n.aw=function(){return function(t,n,r){void 0===r&&(r=!1);var e=t.getInt16(n.Go,r);return n.Wo(2),e}(this.mu,this.sw)},n.hw=function(){return Hr(this.mu,this.sw)},n.vw=function(){return function(t,n,r){void 0===r&&(r=!1);var e=t.getInt32(n.Go,r);return n.Wo(4),e}(this.mu,this.sw)},n.dw=function(){return zr(this.mu,this.sw)},n.lw=function(t){return Ur(this.mu,this.sw,t)},n.ww=function(t){return function(t,n,r){for(var e=[],i=0;i<r;i++)e.push(Hr(t,n));return e}(this.mu,this.sw,t)},n.yw=function(t){return Yr(this.mu,this.sw,t)},n.gw=function(){return t=this.mu,n=this.sw,ee(t,n,!0);var t,n},n._w=function(t){this.sw.Wo(t)},t}(),af=function(t){function n(n,r){var e;return(e=t.call(this)||this).pw=n,e.mw=r,e}return gt(n,t),x(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(kt),hf=function(){function t(){}return t.kw=function(n){var r=n.mu,e=n.sw,i=t.bw(r,e,!1);if(!i.Tw)throw new af(e.Go,i.hu);return i.hu},t.bw=function(n,r,e){for(var i=[];r.Go<n.byteLength;){var u=t.Ew(n,r,e);if(!u.Tw)return{Tw:!1,hu:i};i.push(u.Sw)}return{Tw:!0,hu:i}},t.Rw=function(n,r){var e=t.Ew(n,r,!1);if(!e.Tw)throw new af(r.Go);return e.Sw},t.Ew=function(n,r,e){var i=r.Go,u=t.Iw(n,r);if(!u.Tw)return u;var o=u.Cw,s=o.Vo;if(0===s){if(e)return r.zo(i),{Tw:!1,Ow:1/0};s=n.byteLength-i}var c=i+s;if(c>n.byteLength){var f=c;return r.zo(i),{Tw:!1,Ow:f}}var a,h,v,d={xu:o.xu,Go:i,mu:new ff((a=n,h=i,v=c,void 0===h&&(h=0),void 0===v&&(v=a.byteLength),new DataView(a.buffer,a.byteOffset+h,v-h)),new he(o.Dw))};return r.zo(c),{Tw:!0,Sw:d}},t.Iw=function(t,n){var r=n.Go;if(!qr(t,n,8))return{Tw:!1,Ow:n.Go+8};var e=Hr(t,n),i=Yr(t,n,4);if(1===e){if(!qr(t,n,8)){var u=n.Go+8;return n.zo(r),{Tw:!1,Ow:u}}e=zr(t,n).toNumber()}if("uuid"===i){if(!qr(t,n,16)){var o=n.Go+16;return n.zo(r),{Tw:!1,Ow:o}}i=Yr(t,n,16)}return{Tw:!0,Cw:{xu:i,Vo:e,Dw:n.Go-r}}},t.Nw=function(t,n,r){var e=t.mu,i=t.sw,u=ue(se(e),i.Go,e.byteLength);return r&&(u=ae(u)),i.Wo(u.byteLength),{xu:n,mu:u}},t.Aw=function(n,r,e){var i=wf(n.hw());return{xu:r,Pw:i.version,xw:i.flags,mu:t.Nw(n,r,e).mu}},t}();function vf(t,n){var r=df(t,n);if(!r)throw new h("Missing "+n+" atom");return r}function df(t,n){for(var r=0;r<t.length;r++){var e=t[r];if(e.xu===n)return e.mu}}function lf(t,n){for(var r=[],e=0;e<t.length;e++){var i=t[e];i.xu===n&&r.push(i.mu)}return r}function wf(t){return{version:t>>24,flags:new Br(16777215&t)}}var yf=function(){function t(){}return t.Fw=function(n){for(var r=[],e=hf.kw(new ff(n,new he)),i=0;i<e.length;i++){var u=e[i],o=t.Bw(u);o&&r.push(o)}return r},t.Lw=function(t){return hf.bw(t,new he,!1).hu.some(function(t){return t.xu===ef.Xl})},t.Mw=function(n){return lf(hf.kw(new ff(n,new he)),ef.Zl).map(t.Uw)},t.Bw=function(n){switch(n.xu){case ef.Tl:return t.qw(n.mu);case ef.Xl:return t.jw(n.mu,n.Go);case ef.Ql:return t.Vw(n.mu);case ef.nw:return t.Hw(n.mu);case ef.tw:return t.Ww(n.mu)}},t.qw=function(n){var r=hf.kw(n),e=vf(r,ef.El),i=lf(r,ef.Sl),u=df(r,ef.Pl),o=t.zw(e),s=i.map(t.Xw),c=u?t.Gw(u):void 0;return{xu:ef.Tl,Cw:o,Yw:s,Kw:c}},t.zw=function(t){var n=wf(t.hw()),r=n.version,e=n.flags,i=1===r?t.dw():t.hw(),u=1===r?t.dw():t.hw(),o=t.hw(),s=1===r?t.dw():t.hw(),c=t.hw(),f=t.fw()>>8;t._w(2),t._w(8);var a=t.ww(9);t._w(24);var h=t.hw();return{xu:ef.El,Pw:r,xw:e,$w:i,Jw:u,Hc:o,zv:s,Qw:c,td:f,Zw:a,ty:h}},t.Xw=function(n){var r=hf.kw(n),e=vf(r,ef.Rl),i=vf(r,ef.Il),u=t.ny(e),o=t.ey(i);return{xu:ef.Sl,Cw:u,iy:o}},t.ny=function(t){var n=wf(t.hw()),r=n.version,e=n.flags,i=1===r?t.dw():t.hw(),u=1===r?t.dw():t.hw(),o=t.hw();t._w(4);var s=1===r?t.dw():t.hw();t._w(8);var c=t.aw(),f=t.aw(),a=t.aw()/l.pow(2,8);t._w(2);var h=t.ww(9),v=t.hw()/l.pow(2,16),d=t.hw()/l.pow(2,16);return{xu:ef.Rl,uy:e.$o(1),oy:e.$o(2),sy:e.$o(4),$w:i,Jw:u,ay:o,zv:s,hy:c,vy:f,td:a,Zw:h,Rf:v,ly:d}},t.ey=function(n){var r=hf.kw(n),e=vf(r,ef.Cl),i=vf(r,ef.Ol),u=vf(r,ef.Dl),o=t.wy(e),s=t.yy(i),c=t.gy(u);return{xu:ef.Il,Cw:o,_y:s,py:c}},t.wy=function(t){var n=wf(t.hw()),r=n.version,e=n.flags,i=1===r?t.dw():t.hw(),u=1===r?t.dw():t.hw(),o=t.hw(),s=1===r?t.dw():t.hw();t.fw();return t._w(2),{xu:ef.Cl,Pw:r,xw:e,$w:i,Jw:u,Hc:o,zv:s}},t.yy=function(t){var n=wf(t.hw()),r=n.version,e=n.flags;t._w(4);var i=t.yw(4);t._w(12);var u=t.gw();return{xu:ef.Ol,Pw:r,xw:e,my:i,Zi:u}},t.gy=function(n){var r=vf(hf.kw(n),ef.Nl),e=t.ky(r);return{xu:ef.Dl,by:e}},t.ky=function(n){var r=vf(hf.kw(n),ef.Al),e=t.Ty(r);return{xu:ef.Nl,Ey:e}},t.Ty=function(n){for(var r=wf(n.hw()),e=r.version,i=r.flags,u=(n.hw(),[]),o=hf.kw(n),s=0;s<o.length;s++){var c=o[s];c.xu===ef.Fl?u.push(t.Sy(c.mu)):c.xu===ef.Ll||c.xu===ef.Ml?u.push(t.Ry(c.mu,c.xu)):c.xu===ef.jl?u.push(t.Iy(c.mu)):c.xu===ef.Hl&&u.push(t.Cy(c.mu))}return{xu:ef.Al,Pw:e,xw:i,Oy:u}},t.Dy=function(t,n){return t._w(6),{xu:n,Ny:t.fw()}},t.Ay=function(n,r){var e=t.Dy(n,r);n._w(8);var i=n.fw(),u=n.fw();n._w(2),n._w(2);var o=n.hw()>>>16;return Ft(Ft({},e),{Py:i,xy:u,Fy:o})},t.By=function(n,r){var e=t.Dy(n,r);n._w(2),n._w(2),n._w(12);var i=n.fw(),u=n.fw(),o=n.hw(),s=n.hw();n._w(4);var c=n.fw();n._w(32);var f=n.fw();return n._w(2),Ft(Ft({},e),{Rf:i,ly:u,Ly:o,My:s,Uy:c,qy:f})},t.Iy=function(n){var r=t.Ay(n,ef.jl),e=vf(hf.kw(n),ef.Vl),i=t.jy(e);return Ft(Ft({},r),{Vy:i})},t.Cy=function(n){var r=t.Dy(n,ef.Hl),e=hf.kw(n),i=vf(e,ef.Wl),u=t.Hy(i),o=df(e,ef.zl),s=o?t.Wy(o):o;return Ft(Ft({},r),{zy:u,Xy:s})},t.Hy=function(t){return{xu:ef.Wl,Gy:t.gw()}},t.Wy=function(t){return{xu:ef.zl,Ja:t.gw()}},t.jy=function(t){return hf.Aw(t,ef.Vl,!0)},t.Sy=function(n){var r=t.By(n,ef.Fl),e=hf.kw(n),i=vf(e,ef.Bl),u=df(e,ef.ql),o=t.Yy(i),s=u?t.Ky(u):void 0;return Ft(Ft({},r),{$y:o,Jy:s})},t.Ry=function(n,r){var e=t.By(n,r),i=vf(hf.kw(n),ef.Ul),u=t.Qy(i);return Ft(Ft({},e),{Zy:u})},t.Yy=function(t){return hf.Nw(t,ef.Bl,!0)},t.Qy=function(t){return hf.Nw(t,ef.Ul,!0)},t.Ky=function(t){var n=t.hw(),r=t.hw();return{xu:ef.ql,tg:n,ng:r}},t.Gw=function(n){var r=lf(hf.kw(n),ef.xl).map(t.rg);return{xu:ef.Pl,Yw:r}},t.rg=function(t){var n=wf(t.hw()),r=n.version,e=n.flags,i=t.hw(),u=t.hw(),o=t.hw(),s=t.hw(),c=t.hw();return{xu:ef.xl,Pw:r,xw:e,ay:i,eg:u,ig:o,ug:s,og:c}},t.jw=function(n,r){var e=hf.kw(n),i=vf(e,ef.Gl),u=lf(e,ef.Yl),o=t.sg(i),s=u.map(t.cg);return{xu:ef.Xl,fg:r,Cw:o,Yw:s}},t.sg=function(t){var n=wf(t.hw()),r=n.version,e=n.flags,i=t.hw();return{xu:ef.Gl,Pw:r,xw:e,ag:i}},t.cg=function(n){var r=hf.kw(n),e=vf(r,ef.Kl),i=lf(r,ef.$l),u=df(r,ef.Jl),o=t.hg(e),s=i.map(function(n){return t.vg(n,o)}),c=u?t.dg(u):void 0;return{xu:ef.Yl,Cw:o,lg:s,wg:c}},t.hg=function(t){var n=wf(t.hw()),r=n.version,e=n.flags,i=t.hw(),u=e.$o(of.BASE_DATA_OFFSET_PRESENT)?t.hw():void 0,o=e.$o(of.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.hw():void 0,s=e.$o(of.DEFAULT_SAMPLE_DURATION_PRESENT)?t.hw():void 0,c=e.$o(of.DEFAULT_SAMPLE_SIZE_PRESENT)?t.hw():void 0,f=e.$o(of.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.hw():void 0;return{xu:ef.Kl,Pw:r,xw:e,ay:i,yg:u,gg:o,ig:s,ug:c,og:f}},t.vg=function(n,r){for(var e=wf(n.hw()),i=e.version,u=e.flags,o=n.hw(),s=u.$o(sf.DATA_OFFSET_PRESENT)?n.vw():void 0,c=u.$o(sf.FIRST_SAMPLE_FLAGS_PRESENT)?n.hw():void 0,f=[],a=0;a<o;a++){var h=t._g(n,u,i,r);0===a&&void 0!==c&&(h.xw=c),f.push(h)}return{xu:ef.$l,Pw:i,xw:u,pg:o,fg:s,mg:c,kg:f}},t._g=function(t,n,r,e){return{zv:n.$o(sf.SAMPLE_DURATION_PRESENT)?t.hw():e.ig,Vo:n.$o(sf.SAMPLE_SIZE_PRESENT)?t.hw():e.ug,xw:n.$o(sf.SAMPLE_FLAGS_PRESENT)?t.hw():e.og,bg:n.$o(sf.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===r?t.hw():t.vw():void 0}},t.Ww=function(t){var n,r,e,i=t.mu,u=t.sw,o=wf(Hr(i,u)),s=o.version,c=o.flags,f=Gr(i,u),a=Gr(i,u),h=Hr(i,u),v=Hr(i,u),d=Hr(i,u),l=Hr(i,u),w=(n=se(i),r=u.Go,e=i.byteLength,void 0===r&&(r=0),void 0===e&&(e=n.byteLength),n.slice?n.slice(r,e):ae(ue(n,r,e)));return u.Wo(w.byteLength),{xu:ef.tw,Pw:s,xw:c,Tg:f,ru:a,Hc:h,Eg:v,Sg:d,Ya:l,Rg:w}},t.Vw=function(t){return hf.Nw(t,ef.Ql,!1)},t.Uw=function(n){var r=n.mu,e=n.sw,i=ae(se(r)).buffer,u=wf(Hr(r,e)),o=u.version,s=u.flags,c=t.Ig(r,e),f=[];if(o>0)for(var a=Hr(r,e),h=0;h<a;h++){for(var v="",d=0;d<16;d++){var l=Lr(r,e).toString(16);v+=1===l.length?"0"+l:l}f.push(v)}var w=Hr(r,e),y=new _(i,e.Go,w);return e.Wo(r.byteLength),{xu:ef.Zl,Pw:o,xw:s,Cg:c,Og:f,Dg:w,mu:y,Ng:i}},t.Ig=function(t,n){for(var r="",e=0;e<4;e++){var i=Lr(t,n).toString(16);r+=1===i.length?"0"+i:i}r+="-";for(var u=0;u<2;u++){var o=Lr(t,n).toString(16);r+=1===o.length?"0"+o:o}r+="-";for(var s=0;s<2;s++){var c=Lr(t,n).toString(16);r+=1===c.length?"0"+c:c}r+="-";for(var f=0;f<2;f++){var a=Lr(t,n).toString(16);r+=1===a.length?"0"+a:a}r+="-";for(var h=0;h<6;h++){var v=Lr(t,n).toString(16);r+=1===v.length?"0"+v:v}return r.toLowerCase()},t.Hw=function(t){var n,r,e=t.mu,i=t.sw,u=wf(Hr(e,i)),o=u.version,s=u.flags,c=Hr(e,i),f=Hr(e,i);0===o?(n=xr.fromBits(Hr(e,i),0,!0),r=xr.fromBits(Hr(e,i),0,!0)):(n=zr(e,i),r=zr(e,i)),i.Wo(2);for(var a=jr(e,i),h=[],v=0;v<a;v+=1){var d=Hr(e,i),l=d>>31&1,w=2147483647&d,y=Hr(e,i),g=Hr(e,i),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({Ag:l,Pg:w,zv:y,xg:_,Fg:p,Bg:m})}return{xu:ef.nw,Pw:o,xw:s,Lg:c,Hc:f,Mg:n,Ug:r,qg:a,jg:h}},t.dg=function(t){var n,r=t.mu,e=t.sw,i=wf(Hr(r,e)),u=i.version,o=i.flags;return n=0===u?xr.fromBits(Hr(r,e),0,!0):zr(r,e),{xu:ef.Jl,Pw:u,xw:o,wg:n}},t}(),gf={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function _f(t){if(!t)return!0;var n=t.licenseAcquisitionURL,r=t.certificateURL,e=t.keys,i=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,f=t.licenseRequestProcessor,a=t.licenseResponseProcessor;return!(n||r||e||i||u||o||s||c||f||a)}function pf(t){return t&&void 0!==t.licenseAcquisitionURL}var mf,kf=pf,bf=pf;function Tf(t){if(!t)return!0;if(If(t))return!1;var n=t.fairplay,r=t.playready,e=t.widevine,i=t.clearkey,u=t.aes128;return _f(n)&&_f(r)&&_f(e)&&_f(i)&&_f(u)}function Ef(t){var n=tf(t),r=function(t){var n,r=t;return Zc(r)&&""!==(null===(n=r.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!Qc(r)}(t);return(!n||!r)&&(n||r)}function Sf(t){return t.integration===Uc}function Rf(t){var n=t;if(!n)return!1;if(Tf(n))return!1;var r=n.fairplay,e=n.playready,i=n.widevine,u=n.clearkey;if(If(t))return!0;if(r&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(r))return!1;if(e&&!kf(e))return!1;if(i&&!bf(i))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(cf.bl.pl(n.integration))return!0;switch(n.integration){case Bc:if(!function(t){return t.integration===Bc&&(Cf(t)||Of(t))}(t))return!1;break;case qc:if(!Df(t))return!1;break;case jc:if(!function(t){return t.integration===jc}(t))return!1;break;case Uc:if(!Sf(t))return!1;break;case Lc:if(!Ef(t))return!1;break;case Mc:if(!function(t){return t.integration===Mc}(t))return!1;break;case Vc:if(!If(t))return!1;break;case Hc:if(!function(t){var n=t;return n.integration===Hc&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Wc:if(!function(t){return t.integration===Wc}(t))return!1;break;case Xc:if(!Nf(t))return!1;break;case Gc:if(!function(t){return t.integration===Gc}(t))return!1;break;case Yc:if(!Af(t))return!1;break;case zc:if(!function(t){var n=t;return n.integration===zc&&void 0!==n.token}(t))return!1;break;case Kc:if(!function(t){return t.integration===Kc}(t))return!1;break;case $c:if(!function(t){var n=t;return n&&G(n.releasePid)&&G(n.accountId)&&G(n.token)}(t))return!1;break;case Jc:return!0;default:return!1}}return!0}function If(t){return t.integration===Vc}function Cf(t){return void 0!==t.authToken}function Of(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Df(t){var n=t;return n.integration===qc&&void 0!==n.token}function Nf(t){var n=t;return n&&n.integration===Xc&&Q(n.ticketAcquisitionURL)&&Q(n.streamId)}function Af(t){var n=t;return n.integration===Yc&&void 0!==n.token}function Pf(t,n){var r,e,i,u=n[t],o=null!==(r=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==r?r:gf[t],s=null!==(e=null==u?void 0:u.customdata)&&void 0!==e?e:n.customdata,c=s?{customData:s}:{},f=Ft(Ft({},null!==(i=null==u?void 0:u.headers)&&void 0!==i?i:{}),c),a=null!=u?u:{};a.customdata;return Ft(Ft({},xc(a,["customdata"])),{licenseAcquisitionURL:o,headers:f})}function xf(t){switch(t.toLowerCase()){case"widevine":case $t:return $t;case"playready":case Gt:return Gt;case"fairplay":case Qt:return Qt}}function Ff(t,r){switch(t){case Wt:return function(t){for(var n={},r=yf.Mw(new DataView(t)),e=0;e<r.length;e++){var i=r[e];n[i.Cg]=i.Ng}return n}(r);case zt:case Xt:return function(t){var n;return(n={})[Jt]=t,n}(r);default:throw new Be(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}function Bf(t){if(t&&$(t))return Ft(Ft({},t),{integration:Lf(t.integration),fairplay:Wf(t.fairplay),widevine:Mf(t.widevine),playready:Uf(t.playready),clearkey:zf(t.clearkey),aes128:Xf(t.aes128),integrationParameters:Gf(t.integrationParameters),preferredKeySystems:Yf(t.preferredKeySystems)})}function Lf(t){if(Q(t))return t}function Mf(t){if(t&&$(t))return{persistentState:qf(t.persistentState),distinctiveIdentifier:qf(t.distinctiveIdentifier),audioRobustness:jf(t.audioRobustness),videoRobustness:jf(t.videoRobustness),licenseAcquisitionURL:Q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:Vf(t.licenseType),headers:t.headers,useCredentials:!!Z(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:Q(t.certificate)||ce(t.certificate)?t.certificate:void 0,certificateRequestProcessor:Hf(t.certificateRequestProcessor),certificateResponseProcessor:Hf(t.certificateResponseProcessor),licenseRequestProcessor:Hf(t.licenseRequestProcessor),licenseResponseProcessor:Hf(t.licenseResponseProcessor)}}function Uf(t){if(t){var n=Mf(t);if(n){var r=Q(t.customData)?t.customData:void 0;return Ft(Ft({},n),{customData:r})}}}function qf(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function jf(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function Vf(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function Hf(t){if("function"==typeof t)return t}function Wf(t){if(t){var n=Mf(t);if(n){var r=Q(t.certificateURL)?t.certificateURL:void 0;return Ft(Ft({},n),{certificateURL:r})}}}function zf(t){if(t){var n=Mf(t);if(n){var r=Y(t.keys)?t.keys.map(function(t){return function(t){if(!t||!$(t))return;var n=t.id,r=t.value;if(!Q(n)||!Q(r))return;return{id:n,value:r}}(t)}).filter(G):void 0;return Ft(Ft({},n),{keys:r})}}}function Xf(t){if($(t))return{useCredentials:Z(t.useCredentials)?t.useCredentials:void 0}}function Gf(t){if($(t))return t}function Yf(t){return t&&Y(t)?t.map(function(t){return xf(t)}).filter(G):[$t,Gt,Qt]}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(mf||(mf={}));var Kf,$f,Jf,Qf,Zf,ta,na,ra,ea,ia=function(){function t(){this.Vg=[]}var n=t.prototype;return n.Hg=function(t){var n=this.Wg.filter(function(n){return n.zg(t)});if(n.length>1)0;else if(0===n.length)throw h("Unknown ad integration: "+t.integration);return n[0]||null},n.Xg=function(t){this.Vg.push(t)},x(t,[{key:"Wg",get:function(){return this.Vg}}]),t}();ia.ji=new ia,function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Kf||(Kf={})),function(t){t.mh="PLAYING",t.Gg="PAUSED",t.Yg="SEEK",t.Kg="STALLED",t.$g="FAILED",t.Jg="INITIAL_BUFFERING",t.Qg="NO_ACCESS"}($f||($f={})),function(t){t.Zg="HTTP_REQUEST_STATUS_CODE_1XX",t.t_="HTTP_REQUEST_STATUS_CODE_2XX",t.n_="HTTP_REQUEST_STATUS_CODE_3XX",t.r_="HTTP_REQUEST_STATUS_CODE_4XX",t.e_="HTTP_REQUEST_STATUS_CODE_5XX",t.i_="BUFFER_LENGTH",t.u_="BYTES_RECEIVED",t.o_="SEGMENT_READ_BITRATE",t.s_="SEGMENT_PROFILE_BITRATE",t.c_="NUMBER_OF_FRAMES_DROPPED",t.f_="PLAYBACK_POSITION",t.a_="NUMBER_OF_FRAMES_DECODED",t.h_="PLAYBACK_DELTA_TO_ORIGIN",t.v_="STREAM_DELTA_TO_ORIGIN",t.d_="ORIGIN_TIMESTAMP"}(Jf||(Jf={})),function(t){t.l_="MANIFEST_URI",t.w_="ASSET_DURATION",t.y_="NUMBER_OF_CONTENT_PROFILES",t.g_="CDN",t.__="CONTENT_TITLE",t.p_="SERVICE_NAME",t.m_="CONTENT_TYPE",t.k_="CONTENT_DESCRIPTION"}(Qf||(Qf={})),function(t){t.b_="shutdown_normal_shutdown"}(Zf||(Zf={})),function(t){t.T_="session/",t.E_="internalError/",t.S_="drmError/",t.R_="caError/",t.I_="networkError/"}(ta||(ta={})),function(t){t.C_="userAction",t.O_="endOfStreamReached"}(na||(na={})),function(t){t.PAUSE="D_",t.RESUME="N_"}(ra||(ra={})),function(t){t.ew="audio",t.rw="video",t.zi="text",t.A_="image",t.P_="unknown"}(ea||(ea={}));var ua,oa=function(t){function n(n,r){var e;return(e=t.call(this)||this).Ma=n.length>>1,e.x_=n,e.F_=r||function(t){for(var n=new Array(2*t),r=0,e=0;r<t;r+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.Ma),e}gt(n,t);var r=n.prototype;return r.B_=function(t){return this.x_[2*t]},r.L_=function(t){return this.F_[2*t]},r.M_=function(t){return this.x_[2*t+1]},r.U_=function(t){return this.F_[2*t+1]},x(n,[{key:"q_",get:function(){return this.x_.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.ef=function(t,n){return 0===this.rf(t,n)},n.j_=function(t,n){return this.rf(t,n)>0},n.V_=function(t,n){return this.rf(t,n)>=0},n.Zc=function(t,n){return this.rf(t,n)<0},n.Kc=function(t,n){return this.rf(t,n)<=0},n.Yc=function(t,n){return this.Zc(t,n)?t:n},n.Xc=function(t,n){return this.j_(t,n)?t:n},n.H_=function(t,n,r){return r?this.Kc(t,n):this.Zc(t,n)},n.W_=function(){var t=this;return{get length(){return t.Ma},start:function(n){var r=0|n;return t.z_(r),t.X_(t.B_(r))},end:function(n){var r=0|n;return t.z_(r),t.X_(t.M_(r))}}},n.G_=function(){for(var t=new Array(2*this.Ma),n=new Array(2*this.Ma),r=0;r<this.Ma;r++)t[2*r]=this.B_(r),t[2*r+1]=this.M_(r),n[2*r]=!0,n[2*r+1]=!0;return this.Y_(t,n)},n.z_=function(t){if(t<0)throw new h("The index provided ("+t+") must be non-negative");if(t>=this.Ma)throw new h("The index provided ("+t+") is greater than the maximum bound ("+this.Ma+")")},n.K_=function(t){if(0===this.Ma)return this.J_();if(this.Q_(t))return t;if(this.Kc(t,this.B_(0)))return this.B_(0);if(this.V_(t,this.M_(this.Ma-1)))return this.M_(this.Ma-1);for(var n,r=this.Z_(),e=0;e<this.Ma;e++){var i=this.B_(e),u=this.tf(i,t);this.Zc(u,r)&&(n=i,r=u);var o=this.M_(e),s=this.tf(this.M_(e),t);this.Zc(s,r)&&(n=o,r=s)}return n},n.tp=function(t){for(var n=0,r=0,e=[],i=[];n<this.Ma&&r<t.Ma;){var u=this.B_(n),o=this.M_(n),s=this.L_(n),c=this.U_(n),f=t.B_(r),a=t.M_(r),h=t.L_(r),v=t.U_(r),d=this.Xc(u,f),l=this.Yc(o,a),w=void 0;w=this.ef(u,f)?s&&h:this.ef(d,u)?s:h;var y=void 0;y=this.ef(o,a)?c&&v:this.ef(l,o)?c:v,(this.Zc(d,l)||w&&y&&this.ef(d,l))&&(e.push(d,l),i.push(w,y));var g=this.rf(this.M_(n),t.M_(r));0===g?(n+=1,r+=1):g<0?n+=1:r+=1}return this.Y_(e,i)},n.np=function(){var t=this.rp(),n=t.Ma;if(0===n)return this.Y_([t.ep(),t.Z_()],[!1,!1]);var r=[],e=[],i=t.B_(0);t.ef(i,t.ep())||(r.push(t.ep(),i),e.push(!1,!t.L_(0)));for(var u=0;u<n-1;u++)r.push(t.M_(u),t.B_(u+1)),e.push(!t.U_(u),!t.L_(u+1));var o=t.M_(n-1);return t.ef(o,t.Z_())||(r.push(o,t.Z_()),e.push(!t.U_(n-1),!1)),t.Y_(r,e)},n.ip=function(t){for(var n=0,r=0,e=this.Ma,i=t.Ma,u=new Array(2*(e+i)),o=new Array(2*(e+i)),s=0;n<e&&r<i;){var c=this.B_(n),f=this.M_(n),a=t.B_(r),h=t.M_(r);this.Zc(c,a)||this.ef(c,a)&&this.Zc(f,h)?(u[s]=c,u[s+1]=f,o[s]=this.L_(n),o[s+1]=this.U_(n),n++):(u[s]=a,u[s+1]=h,o[s]=t.L_(r),o[s+1]=t.U_(r),r++),s+=2}for(;n<e;)u[s]=this.B_(n),u[s+1]=this.M_(n),o[s]=this.L_(n),o[s+1]=this.U_(n),n++,s+=2;for(;r<i;)u[s]=t.B_(r),u[s+1]=t.M_(r),o[s]=t.L_(r),o[s+1]=t.U_(r),r++,s+=2;return this.Y_(u,o)},n.op=function(t){void 0===t&&(t=this.J_());var n=this.Ma;if(n<2)return this;for(var r=[],e=[],i=this.B_(0),u=this.M_(0),o=this.L_(0),s=this.U_(0),c=1;c<n;c++){var f=this.B_(c),a=this.M_(c),h=this.L_(c),v=this.U_(c);this.Zc(i,f)&&this.j_(u,a)||(this.ef(i,f)&&(o=h=o||h),this.ef(u,a)&&(s=v=s||v),this.H_(f,this.$c(u,t),s||h)?(u=a,s=v):(r.push(i,u),e.push(o,s),i=f,u=a,o=h,s=v))}return r.push(i,u),e.push(o,s),this.Y_(r,e).rp()},n.rp=function(){for(var t=[],n=[],r=0;r<this.Ma;r++){var e=this.B_(r),i=this.M_(r),u=this.L_(r),o=this.U_(r);this.ef(e,i)?(u||o)&&(t.push(e,i),n.push(!0,!0)):(t.push(e,i),n.push(u,o))}return this.Y_(t,n)},n.sp=function(t){return this.Ma?t.Ma?this.ip(t).op():this:t},n.cp=function(t){var n=this.rp(),r=t.rp(),e=n.np(),i=r.np(),u=e.tp(r),o=i.tp(n);return u.sp(o)},n.Wo=function(t){for(var n=[],r=[],e=0;e<this.Ma;e++){var i=this.$c(this.B_(e),t),u=this.$c(this.M_(e),t);n.push(i,u),r.push(this.L_(e),this.U_(e))}return this.Y_(n,r)},n.fp=function(t){return this.rp().tp(t.rp().np())},n.Q_=function(t,n){return this.ap(t,n)>=0},n.hp=function(t,n,r,e,i){return this.vp(t,n,r,e,i)>=0},n.dp=function(t,n,r,e,i){return this.lp(t,n,r,e,i)>=0},n.wp=function(t){if(t.Ma!==this.Ma)return!1;for(var n=0;n<this.Ma;n++)if(!this.ef(this.B_(n),t.B_(n))||!this.ef(this.M_(n),t.M_(n))||this.L_(n)!==t.L_(n)||this.U_(n)!==t.U_(n))return!1;return!0},n.yp=function(t){for(var n=[],r=[],e=0;e<this.Ma;e++)t(this.B_(e),this.M_(e))&&(n.push(this.B_(e),this.M_(e)),r.push(this.L_(e),this.U_(e)));return this.Y_(n,r)},n.lp=function(t,n,r,e,i){void 0===r&&(r=!0),void 0===e&&(e=!0),void 0===i&&(i=this.J_());for(var u=this.if(t,i),o=this.$c(n,i),s=0;s<this.Ma;s+=1)if(this.H_(this.B_(s),o,!e||this.L_(s))&&this.H_(u,this.M_(s),!r||this.U_(s)))return s;return-1},n.vp=function(t,n,r,e,i){void 0===r&&(r=!0),void 0===e&&(e=!1),void 0===i&&(i=this.J_());for(var u=this.$c(t,i),o=this.if(n,i),s=0;s<this.Ma;s+=1)if(this.H_(this.B_(s),u,!r||this.L_(s))&&this.H_(o,this.M_(s),!e||this.U_(s)))return s;return-1},n.ap=function(t,n){return this.vp(t,t,!0,!0,n)},n.gp=function(t,n){void 0===n&&(n=this.J_());for(var r=this.$c(t,n),e=this.Ma-1;e>=0;e-=1)if(this.H_(this.B_(e),r,this.L_(e)))return e;return-1},n._p=function(t,n){void 0===n&&(n=this.J_());for(var r=this.if(t,n),e=0;e<this.Ma;e+=1)if(this.H_(r,this.M_(e),this.U_(e)))return e;return-1},n.pp=function(t){return this.z_(t),this.Y_([this.B_(t),this.M_(t)],[this.L_(t),this.U_(t)])},n.mp=function(t,n){var r=this.ap(t,n);return r<0?void 0:this.pp(r)},x(t,[{key:"kp",get:function(){for(var t=this.J_(),n=0;n<this.Ma;n++){var r=this.if(this.M_(n),this.B_(n));t=this.$c(t,r)}return t}}]),t}()),sa=function(t){function n(n,r){return t.call(this,n,r)||this}gt(n,t);var r=n.prototype;return r.rf=function(t,n){return t<n?uo.jc:t===n?uo.Uc:uo.qc},r.$c=function(t,n){return t+n},r.if=function(t,n){return t-n},r.tf=function(t,n){return l.abs(t-n)},r.J_=function(){return 0},r.Z_=function(){return 1/0},r.ep=function(){return-1/0},n.bp=function(t){for(var r=[],e=0;e<t.length;e++)r.push(t.start(e),t.end(e));return new n(r)},n.Tp=function(t){return new n([t,t],[!0,!0])},r.Y_=function(t,r){return new n(t,r)},r.X_=function(t){return t},n.Ep=function(){return ca},n}(oa),ca=new sa([]);!function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(ua||(ua={}));var fa,aa,ha,va,da,la,wa="agama";function ya(t){return function(t){switch(t){case fa.NONE:case fa.HORIZONTAL:case fa.VERTICAL:return!0;default:return!1}}(t)?t:fa.NONE}function ga(t){switch(t){case"":return fa.NONE;case"horizontal":return fa.HORIZONTAL;case"vertical":return fa.VERTICAL;default:throw new v}}function _a(t){if(!t||!Q(t))return aa.Sp;switch(t){case"always":return aa.Rp;case"never":return aa.Ip;default:return aa.Sp}}function pa(t){if(!t||!Q(t))return ha.Sp;switch(t){case"playlist":return ha.Cp;case"media":return ha.Op;default:return ha.Sp}}function ma(t){if(null!==t)return t}function ka(t){var n,r={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:ma(t.streamActivityMonitorID),adTagParameters:$(t.adTagParameters)?t.adTagParameters:{},authToken:ma(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,i=t.contentSourceID;return e?i?Ft(Ft({},r),{availabilityType:"vod",videoID:e,contentSourceID:i}):void D.Lf("A VOD DAI configuration was provided without valid contentSourceID which is required."):void D.Lf("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Ft(Ft({},r),{availabilityType:"live",assetKey:u}):void D.Lf("A Live DAI configuration was provided without valid assetKey which is required.")}D.Lf("A DAI configuration was provided without a valid availabilityType which is required.")}function ba(t){if(!Rf(t)||!t.integration)return t;switch(t.integration){case Vc:return n=t,r=Pf(Ht.Du,n),e=Pf(Ht.Ou,n),i=n[Ht.Nu]&&Pf(Ht.Nu,n),Ft({integration:"keyos",widevine:r,playready:e},i?{fairplay:i}:{});default:return t}var n,r,e,i}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(fa||(fa={})),function(t){t.Sp="auto",t.Rp="always",t.Ip="never"}(aa||(aa={})),function(t){t.Sp="auto",t.Cp="playlist",t.Op="media"}(ha||(ha={})),function(t){t.VERIZON_MEDIA="verizon-media"}(va||(va={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(da||(da={})),function(t){t.Dp="subtitles",t.Np="captions",t.Ap="descriptions",t.Pp="chapters",t.uw="metadata",t.xp="thumbnails"}(la||(la={}));var Ta=[la.Dp,la.Np,la.Ap,la.Pp,la.uw,la.xp];function Ea(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&pn(Ta,t)}(n)?n:n?la.uw:la.Dp}function Sa(t){if(!t)return!0;var n,r,e=!(dc(n=t.sources)||K(n)&&dc(n[0]))||lc(t.sources),i=!t.ads||(!(r=t.ads)||Y(r)&&0===r.length),u=""!==t.poster&&!t.poster;return e&&i&&u}function Ra(t){return Q(t.src)}function Ia(t){if(t&&t.sources)return function t(n){if(Q(n))return n;if(vc(n))return n.src;if(K(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Ca(t,n,r){return ac(t)?function(t,n,r){var e=Ft(Ft({},wc()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:va.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:da.ASSET,contentProtected:!1,assetInfo:!0});e.id=(i=t.id,Q(i)?i:K(i)&&Q(i[0])?i:$(u=i)&&Q(u.userId)&&(K(u.externalId)||Q(u.externalId))?i:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var i,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return da.CHANNEL;case"event":return da.EVENT;case"asset":default:return da.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=os(t.contentProtected));t.assetInfo?e.assetInfo=os(t.assetInfo):e.assetInfo="asset"===e.assetType;return e.ping=(o=e.assetType,s=t.ping,c=!1,f=!1,a=!1,s?(c=!!Z(s.adImpressions)&&s.adImpressions,f=!!Z(s.freeWheelVideoViews)&&s.freeWheelVideoViews,a=Z(s.linearAdData)?s.linearAdData:o!==da.ASSET):o!==da.ASSET&&(a=!0),{adImpressions:c,freeWheelVideoViews:f,linearAdData:a}),e=Da(e=Oa(e,t),n,r);var o,s,c,f,a}(t,n,r):function(t,n,r){var e=yc(),i=n&&(n.contentProtection||n.drm);if(Q(t)){if(e.src=t,e.type=cc(t),i){var u=Bf(i);e.contentProtection=ba(u)}}else if(vc(t)||fc(t)){e.src=t.src,e.type=t.type||cc(t.src);var o=function(t){return t.type===nc.Hv}(t)?t.hesp:void 0;void 0!==o&&(e.hesp=o);var s=t.contentProtection||t.drm||i,c=Bf(s);e.contentProtection=ba(c),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return ka(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=Oa(e,t)}return e=Da(e,n,r)}(t,n,r)}function Oa(t,n){var r;n.useCredentials?t.crossOrigin=tc.jv:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case tc.qv:case tc.jv:return t;default:return tc.Uv}}(n.crossOrigin)),Q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=os(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=os(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:_a(null==(r=n.dash)?void 0:r.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:pa(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?os(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var i=void 0!==n.nativeUiRendering?os(n.nativeUiRendering):void 0;return void 0!==i&&(t.nativeUiRendering=i),t}function Da(t,n,r){var e,i=n&&n.timeServer;return r&&r.liveOffset&&!G(t.liveOffset)&&(t.liveOffset=r.liveOffset),r&&r.hlsDateRange&&!G(t.hlsDateRange)&&(t.hlsDateRange=r.hlsDateRange),t.crossOrigin===tc.Uv&&(null===(e=null==n?void 0:n.vr)||void 0===e?void 0:e[360])&&(t.crossOrigin=tc.qv),t.useCredentials=t.crossOrigin===tc.jv,Q(i)&&!t.timeServer&&(t.timeServer=i),t}function Na(t){var n={src:""};if(t&&t.src){if(n.src=fs(t.src),"default"in t&&(n.default=os(t.default)),n.kind=Ea(t.kind),function(t){switch(t){case Kf.DEFAULT:case Kf.SRT:case Kf.TTML:case Kf.WEBVTT:case Kf.EMSG:case Kf.EVENT_STREAM:case Kf.ID3:case Kf.CEA608:case Kf.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var r=t.srclang;"string"==typeof r&&""!==r&&(n.srclang=r)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function Aa(t,n){if(J(t))try{return n.Hg(t).Fp(t)}catch(t){return}}function Pa(t){return Q(t.sources)&&""!==t.sources||$(t.sources)&&Q(t.sources.src)}function xa(t){return t.integration===mf.SPOTX&&!g(t.id)}function Fa(t){return"freewheel"===t.integration}function Ba(t,n,r){if(void 0===r&&(r=ia.ji),Sa(t))return{sources:[yc()]};var e=rs(t);if(e.sources=function(t,n,r){if(dc(t))return[Ca(t,n,r)];if(K(t)&&dc(t[0])){for(var e=[],i=0;i<t.length;i++){var u=t[i];e.push(Ca(u,n,r))}return e}return[yc()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var i=function(t,n){if(!K(t))return[];for(var r=[],e=0;e<t.length;e++){var i=t[e];(i=Aa(i,n))&&(Pa(i)||xa(i)||Fa(i))&&r.push(i)}return r}(e.ads,r);0===i.length?delete e.ads:e.ads=i}var u,o,s,c=!lc(e.sources),f=e.ads&&e.ads.length>0;if(c&&!f?delete e.ads:f&&!c&&(e.sources=[]),"textTracks"in e){var a=function(t){if(!K(t))return[];for(var n=[],r=0;r<t.length;r++){var e=t[r];""!==(e=Na(e)).src&&n.push(e)}return n}(e.textTracks);0===a.length?delete e.textTracks:e.textTracks=a}if("poster"in e&&(e.poster=fs(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(o=u||{}).stereoMode=ya(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?ga(o.stereoMode):fa.NONE})),"analytics"in e||(null==n?void 0:n.analytics)){var h=_c(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var r=rs(t),e=function(e){var i=n[e],u=!t.some(function(t){return t.integration===i.integration});u&&i.integration!==wa&&r.push(i)},i=0;i<n.length;i++)e(i);return r}(h,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=pc(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,e.blockContentIfAdError=void 0!==(s=e.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),e}var La=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.Pa=function(n){return t.prototype.Pa.call(this,n)},r.ca=function(){return ys(this)},n}(Ko);var Ma=function(){function t(){this.Bp=[],this.oa=void 0}var n=t.prototype;return n.$c=function(t){this.Bp.push(t),this.oa&&this.oa.push(t.sa)},n.Aa=function(t){return this.Bp[t]},n.Lp=function(t){return Y(t)?function(t,n){for(var r=0;r<n.length;r++)if(!pn(t,n[r]))return!1;return!0}(this.Bp,t):pn(this.Bp,t)},x(t,[{key:"La",get:function(){return this.Bp}},{key:"Ma",get:function(){return this.Bp.length}},{key:"sa",get:function(){var t,n;return this.oa||(this.oa=((n=(t=this).La.map(function(t){return t.sa})).item=function(n){var r=0|n,e=t.Aa(r);return e&&e.sa||void 0},n)),this.oa}}]),t}(),Ua=function(t){function n(n){var r;return(r=t.call(this,Vo.Ra)||this).fa=n,r}return gt(n,t),n.prototype.ca=function(){return new qa(this.fa.sa)},n}(Ho),qa=function(t){function n(n){var r;return(r=t.call(this,"update")||this).track=n,r}return gt(n,t),n}(Wo),ja=0;function Va(){return ja++}var Ha=0;var Wa=0;var za=0;var Xa=function(t){function n(n){var r;return(r=t.call(this)||this).xu=ea.ew,r.Mp=!1,r.oa=void 0,r.Up=n,r.qp=Va(),r.jp=za+++"",r.Vp=n.label,r.Bp=new Ma,r.Hp(),r}gt(n,t);var r=n.prototype;return r.Wp=function(t){this.Ga=t},r.Hp=function(){this.Ga=this.zp},x(n,[{key:"Xa",get:function(){}},{key:"Ga",get:function(){return this.Mp},set:function(t){this.Mp!==t&&(this.Mp=t,this.zp=t,this.wo(new $o(this)))}},{key:"zp",get:function(){return!!this.Up.enabled},set:function(t){this.Up.enabled=t}},{key:"sa",get:function(){return this.oa||(this.oa=ls(this)),this.oa}},{key:"Ya",get:function(){return this.jp}},{key:"Ka",get:function(){return this.qp}},{key:"$a",get:function(){return this.Up.kind}},{key:"Ja",get:function(){return this.Vp},set:function(t){t!==this.Vp&&(this.Vp=t,this.wo(new Ua(this)))}},{key:"Qa",get:function(){return this.Up.language}},{key:"eh",get:function(){return this.Ga?"enabled":"disabled"}},{key:"Xp",get:function(){return this.Up}},{key:"Za",get:function(){return this.Bp}},{key:"th",get:function(){},set:function(t){}}]),n}(Mn),Ga=0;var Ya,Ka,$a,Ja,Qa=function(t){function n(n){var r;return(r=t.call(this)||this).xu=ea.rw,r.Mp=!1,r.oa=void 0,r.Up=n,r.qp=Va(),r.jp=Ga+++"",r.Bp=new Ma,r.Vp=n.label,r.Hp(),r}gt(n,t);var r=n.prototype;return r.Hp=function(){this.Ga=this.zp},r.Wp=function(t){this.Ga=t},x(n,[{key:"Xa",get:function(){}},{key:"Ga",get:function(){return this.Mp},set:function(t){this.Mp!==t&&(this.Mp=t,this.zp=t,this.wo(new $o(this)))}},{key:"zp",get:function(){return!!this.Up.selected},set:function(t){this.Up.selected=t}},{key:"sa",get:function(){return this.oa||(this.oa=ls(this)),this.oa}},{key:"Ya",get:function(){return this.jp}},{key:"Ka",get:function(){return this.qp}},{key:"$a",get:function(){return"main"}},{key:"Ja",get:function(){return this.Vp},set:function(t){t!==this.Vp&&(this.Vp=t,this.wo(new Ua(this)))}},{key:"Qa",get:function(){return this.Up.language}},{key:"eh",get:function(){return this.Ga?"enabled":"disabled"}},{key:"Xp",get:function(){return this.Up}},{key:"Za",get:function(){return this.Bp}},{key:"th",get:function(){},set:function(t){}}]),n}(Mn),Za=function(t){function n(n){var r;return(r=t.call(this,As.Rh)||this).Yd=n,r}return gt(n,t),n}(qn);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ya||(Ya={})),function(t){t.Gp="cue",t.Yp="region",t.Kp="stylesheet"}(Ka||(Ka={})),function(t){t.$p="xv",t.Jp="Fv",t.Ra="bs"}($a||($a={})),function(t){t.$p="enter",t.Jp="exit",t.Ra="update"}(Ja||(Ja={}));var th=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).Qp=r,e}return gt(n,t),n}(Ho),nh=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).cue=r,e}return gt(n,t),n}(Wo);function rh(t){var n,r=[$a.$p,$a.Jp,$a.Ra],e={get track(){return t.fa.sa},get id(){return t.Ya},get startTime(){return t.Zp},get endTime(){return t.tm},get content(){return t.nm},addEventListener:function(t,r){var e=as(t,fs);n._o(e,r)},removeEventListener:function(t,r){var e=as(t,fs);n.ko(e,r)}};return n=new Un(e),t._o(r,function(t){return n.wo(t.sa)}),e}function eh(){}var ih=.02;var uh=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this)||this).oa=void 0,o.rm=void 0,o.im=!1,o.um="",o.om=-1,o.sm=n,o.cm=r,o.fm=e,o.am=Boolean(i),o.jp=u||(Wa++).toString(),o}gt(n,t);var r=n.prototype;return r.ca=function(){return rh(this)},r.ef=function(t){return this===t||is(this,t)&&(r=t,co((n=this).Zp,r.Zp,ih)&&co(n.tm,r.tm,ih)&&n.Ya===r.Ya);var n,r},r.oe=function(){this.mo()},x(n,[{key:"Zp",get:function(){return this.sm},set:function(t){this.sm=t}},{key:"tm",get:function(){return this.cm},set:function(t){this.cm=t}},{key:"Ya",get:function(){return this.jp},set:function(t){this.jp=t}},{key:"sa",get:function(){return this.oa||(this.oa=this.ca()),this.oa}},{key:"hm",get:function(){return this.im},set:function(t){this.im=t}},{key:"fa",get:function(){return this.rm},set:function(t){this.rm=t}},{key:"nm",get:function(){return this.fm},set:function(t){this.fm=t}},{key:"vm",get:function(){return this.um},set:function(t){this.um=t}},{key:"dm",get:function(){return this.am},set:function(t){this.am=t}}]),n}(Mn);var oh=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,n,r,e,i,u)||this).lm="auto",o.wm="start",o.ym="auto",o.gm="auto",o._m=void 0,o.pm=!0,o.Vo=100,o.mm="center",o.km="",o}return gt(n,t),n.prototype.ef=function(n){return this===n||is(this,n)&&t.prototype.ef.call(this,n)&&(e=n,(r=this).nm===e.nm&&r.lm===e.lm&&r.wm===e.wm&&r.ym===e.ym&&r.gm===e.gm&&r._m===e._m&&r.pm===e.pm&&r.Vo===e.Vo&&r.mm===e.mm&&r.km===e.km);var r,e},x(n,[{key:"sa",get:function(){var t;return this.oa||(this.oa=ns(rh(t=this),{get align(){return t.mm},get line(){return t.lm},get lineAlign(){return t.wm},get position(){return t.ym},get positionAlign(){return t.gm},get region(){return t._m?t._m.sa:null},get size(){return t.Vo},get snapToLines(){return t.pm},get text(){return t.nm},get vertical(){return t.km}})),this.oa}},{key:"xu",get:function(){return Ka.Gp}}]),n}(uh);var sh=function(){function t(t,n,r,e,i,u,o,s){this.Ya=t,this.Rf=n,this.bm=r,this.Tm=e,this.Em=i,this.Sm=u,this.Rm=o,this.Im=s}return x(t,[{key:"sa",get:function(){var t;return this.oa||(this.oa=(t=this,{get id(){return t.Ya},get identifier(){return t.Ya},get lines(){return t.bm},get regionAnchorX(){return t.Tm},get regionAnchorY(){return t.Em},get scrollValue(){return t.Im},get viewportAnchorX(){return t.Sm},get viewportAnchorY(){return t.Rm},get width(){return t.Rf}})),this.oa}},{key:"xu",get:function(){return Ka.Yp}}]),t}(),ch=function(){function t(){}var n=t.prototype;return n.Cm=function(t){return this.Om()*t},n.Qc=function(t){return this.rf(t)>0},n.Gc=function(t){return this.rf(t)>=0},n.nf=function(t,n){return this.tf(t).Kc(n)},n.ef=function(t){return 0===this.rf(t)},n.Zc=function(t){return this.rf(t)<0},n.Kc=function(t){return this.rf(t)<=0},n.Dm=function(){return this.Nm()?this.Am():this},n.if=function(t){return this.$c(t.Am())},n.tf=function(t){return this.if(t).Dm()},t}();function fh(t,n){return t.Pm()?n.Pm()?uo.Uc:uo.qc:n.Pm()?uo.jc:t.sf()?n.sf()&&t.Nm()===n.Nm()?uo.Uc:t.Nm()?uo.jc:uo.qc:n.Nm()?uo.qc:uo.jc}var ah=function(){function t(t,n){this.xm=t,this.Fm=n}t.Bm=function(n,r,e){return e?new t(n.toUnsigned(),r.toUnsigned()):new t(n.toSigned(),r.toSigned())},t.Lm=function(n){return n.unsigned?new t(n,xr.UZERO):new t(n,n.isNegative()?xr.NEG_ONE:xr.ZERO)},t.Mm=function(n,r){if(g(n))return r?t.Um:t.af;if(r){if(n<0)return t.Um;if(n>=3.402823669209385e38)return t.qm}else{if(n<=-1.7014118346046923e38)return t.jm;if(n+1>=1.7014118346046923e38)return t.Vm}return n<0?t.Mm(-n,r).Am():t.Bm(xr.fromNumber(n%0x10000000000000000),xr.fromNumber(n/0x10000000000000000),r)};var n=t.prototype;return n.Hm=function(){return this.Fm.unsigned},n.Wm=function(){return this.xm.isZero()&&this.Fm.isZero()},n.Nm=function(){return this.Fm.isNegative()},n.zm=function(){return this.Hm()?t.Bm(this.xm,this.Fm,!1):this},n.Xm=function(){return this.Hm()?this:t.Bm(this.xm,this.Fm,!0)},n.Gm=function(){return this.xm},n.Om=function(){return this.Nm()?-this.Am().Om():0x10000000000000000*this.Fm.toNumber()+this.xm.toUnsigned().toNumber()},n.Ym=function(){return this.xm.toInt()},n.ef=function(t){return(this.Hm()===t.Hm()||this.Fm.getHighBits()>>>31!=1||t.Fm.getHighBits()>>>31!=1)&&(this.Fm.toUnsigned().eq(t.Fm.toUnsigned())&&this.xm.toUnsigned().eq(t.xm.toUnsigned()))},n.rf=function(t){if(this.ef(t))return uo.Uc;var n=this.Nm(),r=t.Nm();if(n&&!r)return uo.jc;if(!n&&r)return uo.qc;if(!this.Hm())return this.if(t).Nm()?uo.jc:uo.qc;var e=this.Xm(),i=t.Xm(),u=i.Fm.comp(e.Fm);return u>0||0===u&&i.xm.gt(e.xm)?uo.jc:uo.qc},n.Zc=function(t){return this.rf(t)<0},n.Kc=function(t){return this.rf(t)<=0},n.j_=function(t){return this.rf(t)>0},n.V_=function(t){return this.rf(t)>=0},n.Km=function(){return new t(this.xm.not(),this.Fm.not())},n.$m=function(n){return new t(this.xm.and(n.xm),this.Fm.and(n.Fm))},n.Jm=function(n){return new t(this.xm.or(n.xm),this.Fm.or(n.Fm))},n.Qm=function(n){var r=127&n;return 0===r?this:r<64?t.Bm(this.xm.shl(r),this.Fm.shl(r).or(this.xm.shru(64-r)),this.Hm()):t.Bm(xr.ZERO,this.xm.shl(r-64),this.Hm())},n.Zm=function(n){var r=127&n;return 0===r?this:r<64?t.Bm(this.xm.shru(r).or(this.Fm.shl(64-r)),this.Fm.shr(r),this.Hm()):t.Bm(this.Fm.shr(r-64),this.Fm.isNegative()?xr.NEG_ONE:xr.ZERO,this.Hm())},n.tk=function(n){var r=127&n;return 0===r?this:r<64?t.Bm(this.xm.shru(r).or(this.Fm.shl(64-r)),this.Fm.shru(r),this.Hm()):64===r?t.Bm(this.Fm,xr.ZERO,this.Hm()):t.Bm(this.Fm.shru(r-64),xr.ZERO,this.Hm())},n.$c=function(n){var r=this.Fm.high>>>16,e=65535&this.Fm.high,i=this.Fm.low>>>16,u=65535&this.Fm.low,o=this.xm.high>>>16,s=65535&this.xm.high,c=this.xm.low>>>16,f=65535&this.xm.low,a=n.Fm.high>>>16,h=65535&n.Fm.high,v=n.Fm.low>>>16,d=65535&n.Fm.low,l=n.xm.high>>>16,w=65535&n.xm.high,y=n.xm.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=f+(65535&n.xm.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=i+v)>>>16,p&=65535,g+=(_+=e+h)>>>16,_&=65535,g+=r+a,g&=65535;var S=this.Hm(),R=xr.fromBits(p<<16|m,g<<16|_,S),I=xr.fromBits(T<<16|E,k<<16|b,S);return t.Bm(I,R,S)},n.if=function(t){return this.$c(t.Am())},n.Am=function(){return this.Km().$c(t.nk)},n.rk=function(n){if(this.Wm()||n.Wm())return this.Hm()?t.Um:t.af;if(this.Nm())return n.Nm()?this.Am().rk(n.Am()):this.Am().rk(n).Am();if(n.Nm())return this.rk(n.Am()).Am();if(this.Fm.isZero()&&0===this.xm.high&&n.Fm.isZero()&&0===n.xm.high)return t.Lm(this.xm.multiply(n.xm));var r=xr.fromBits(4294967295,0,!0),e=this.xm.and(r),i=this.xm.shru(32),u=this.Fm.and(r),o=this.Fm.shru(32),s=n.xm.and(r),c=n.xm.shru(32),f=n.Fm.and(r),a=n.Fm.shru(32),h=xr.UZERO,v=xr.UZERO,d=xr.UZERO,l=xr.UZERO;h=h.add(e.mul(s)),v=v.add(h.shru(32)),h=h.and(r),v=v.add(i.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(r)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(r),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(i.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(r)).add(e.mul(f)),l=l.add(d.shru(32)),d=d.and(r),l=l.add(o.mul(s)).add(u.mul(c)).add(i.mul(f)).add(e.mul(a)).and(r);var w=xr.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=xr.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Bm(w,y,this.Hm())},n.ek=function(n){var r,e,i=n;if(i.Wm())throw new RangeError("division by zero");if(this.Wm())return this.Hm()?[t.Um,t.Um]:[t.af,t.af];if(this.Hm()){if(i.Hm()||(i=i.Xm()),i.j_(this))return[t.Um,this];if(i.j_(this.tk(1)))return[e=t.ik,r=this.if(i)];e=t.Um}else{if(this.ef(t.jm)){if(i.ef(t.nk)||i.ef(t.uk))return[t.jm,t.af];if(i.ef(t.jm))return[t.nk,t.af];var u=this.Zm(1).sk(i).Qm(1);return u.ef(t.af)?e=i.Nm()?t.nk:t.uk:(r=this.if(i.rk(u)),e=u.$c(r.sk(i))),[e,r=this.if(i.rk(e))]}if(i.ef(t.jm))return this.Hm()?[t.Um,this]:[t.af,this];if(this.Nm()){if(i.Nm())return this.Am().ek(i.Am());var o=this.Am().ek(i);return e=o[0],r=o[1],[e.Am(),r.Am()]}if(i.Nm()){var s=this.ek(i.Am());return e=s[0],r=s[1],[e.Am(),r.Am()]}e=t.af}for(r=this;r.V_(i);){for(var c=l.max(1,l.floor(r.Om()/i.Om())),f=l.ceil(l.log(c)/l.LN2),a=f<=48?1:l.pow(2,f-48),h=t.Mm(c),v=h.rk(i);v.Nm()||v.j_(r);)c-=a,v=(h=t.Mm(c,this.Hm())).rk(i);h.Wm()&&(h=t.nk),e=e.$c(h),r=r.if(v)}return[e,r]},n.sk=function(t){return this.ek(t)[0]},n.ck=function(t){return this.ek(t)[1]},n.toString=function(n){var r=n||10;if(r<2||r>36)throw new RangeError("radix");if(this.Wm())return"0";if(this.Nm()){if(this.ef(t.jm)){var e=t.Mm(r),i=this.sk(e),u=i.rk(e).if(this);return i.toString(r)+u.Ym().toString(r)}return"-"+this.Am().toString(r)}for(var o=t.Mm(l.pow(r,6),this.Hm()),s=this,c="";;){var f=s.sk(o),a=(s.if(f.rk(o)).Ym()>>>0).toString(r);if((s=f).Wm())return a+c;for(;a.length<6;)a="0"+a;c=String(a)+c}},t}();ah.af=ah.Lm(xr.ZERO),ah.Um=ah.Lm(xr.UZERO),ah.nk=ah.Lm(xr.ONE),ah.ik=ah.Lm(xr.UONE),ah.uk=ah.Lm(xr.NEG_ONE),ah.Vm=ah.Bm(xr.NEG_ONE,xr.MAX_VALUE,!1),ah.qm=ah.Bm(xr.MAX_UNSIGNED_VALUE,xr.MAX_UNSIGNED_VALUE,!0),ah.jm=ah.Bm(xr.ZERO,xr.MIN_VALUE,!1);var hh=function(t){function n(n,r){var e;return(e=t.call(this)||this).ru=n.toSigned(),e.Hc=r>>>0,e}gt(n,t),n.fk=function(t,r){return void 0===r&&(r=1e6),n.Mm(t*r,r)},n.Mm=function(t,r){return g(t)?n.ak:t===1/0?n.hk:t===-1/0?n.vk:new n(xr.fromNumber(t),r)},n.Lm=function(t,r){return new n(t,r)},n.dk=function(t){return n.fk(t.cf,1e6)},n.lk=function(t){return new n(xr.fromNumber(t.getTime()),1e3)},n.Xc=function(t,n){return t.Gc(n)?t:n},n.Yc=function(t,n){return t.Kc(n)?t:n},n.wk=function(t,r,e){return n.Xc(r,n.Yc(e,t))};var r=n.prototype;return r.Nm=function(){return this.ru.isNegative()},r.Wm=function(){return 0!==this.Hc&&this.ru.isZero()},r.sf=function(){return 0===this.Hc&&!this.ru.isZero()},r.Pm=function(){return 0===this.Hc&&this.ru.isZero()},r.Om=function(){if(0===this.Hc)return this.ru.isZero()?NaN:this.ru.isNegative()?-1/0:1/0;var t=this.ru.divide(this.Hc),n=this.ru.subtract(t.multiply(this.Hc));return t.toNumber()+n.toNumber()/this.Hc},r.Gm=function(){if(0===this.Hc)throw new h("Failed to convert timestamp");return this.ru},r.yk=function(){return new Date(0===this.Hc?NaN:this.Jc(1e3).ru.toNumber())},r.gk=function(){return new wo(0===this.Hc?this.Om():this.ru.toNumber(),this.Hc)},r.Jc=function(t,r){void 0===r&&(r=lh._k);var e=this.Hc;if(e===t)return this;if(0===e)return this;var i=fo(e,t);return new n(function(t,n,r){var e=t.ek(n),i=e[0],u=e[1];if(u.Wm())return i;if(r===lh._k)return u.Nm()?i.if(ah.nk):i;if(r===lh.pk)return u.Nm()?i:i.$c(ah.nk);var o=u.rk(ah.Mm(2));return o.Nm()?o.Am().Zc(n)?i:i.if(ah.nk):o.Zc(n)?i:i.$c(ah.nk)}(ah.Lm(this.ru).rk(ah.Mm(t/i)),ah.Mm(e/i),r).Gm(),t)},r.rf=function(t){if(this===t)return uo.Uc;if(0===this.Hc||0===t.Hc)return fh(this,t);if(this.Wm())return t.Wm()?uo.Uc:t.Nm()?uo.qc:uo.jc;if(t.Wm())return this.Nm()?uo.jc:uo.qc;var n=l.min(this.Hc,t.Hc),r=this.Jc(n,lh.mk).ru,e=t.Jc(n,lh.mk).ru;return r.compare(e)},r.Am=function(){return 0===this.Hc?vh(this):new n(this.ru.negate(),this.Hc)},r.$c=function(t){if(0===this.Hc||0===t.Hc)return dh(this,t);if(this.Wm())return t;if(t.Wm())return this;var r=l.max(this.Hc,t.Hc),e=this.Jc(r,lh.mk),i=t.Jc(r,lh.mk);return new n(e.ru.add(i.ru),r)},r.rk=function(t){if(this.Pm()||g(t))return n.ak;if(this.sf()||!isFinite(t)){if(this.Wm()||0===t)return n.ak;var r=this.Nm()?n.vk:n.hk;return t<0?r.Am():r}return this.Wm()?this:new n(0===t?xr.ZERO:this.ru.multiply(t),this.Hc)},r.sk=function(t){if(this.Pm()||g(t))return n.ak;if(this.sf())return isFinite(t)?0===t?1/t<0?this.Am():this:t<0?this.Am():this:n.ak;if(!isFinite(t))return new n(xr.ZERO,this.Hc);if(this.Wm())return 0===t?n.ak:new n(xr.ZERO,this.Hc);if(0===t){var r=this.Nm()?n.vk:n.hk;return 1/t<0?r.Am():r}return new n(this.ru.divide(t),this.Hc)},r.kk=function(){return[this.ru.low,this.ru.high,this.Hc]},n}(ch);function vh(t){return t.Pm()?t:t.Nm()?hh.hk:hh.vk}function dh(t,n){return t.Pm()||n.Pm()?hh.ak:t.sf()&&n.sf()?t.Nm()===n.Nm()?t:hh.ak:t.sf()?t:n}hh.af=new hh(xr.ZERO,1e6),hh.ak=new hh(xr.ZERO,0),hh.hk=new hh(xr.ONE,0),hh.vk=new hh(xr.NEG_ONE,0);var lh,wh=function(t){function n(n,r){var e;return(e=t.call(this)||this).ru=BigInt.asIntN(64,n),e.Hc=r>>>0,e}gt(n,t),n.fk=function(t,r){return void 0===r&&(r=1e6),n.Mm(t*r,r)},n.Mm=function(t,r){return g(t)?n.ak:t===1/0?n.hk:t===-1/0?n.vk:new n(BigInt(l.floor(t)),r)},n.Lm=function(t,r){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),r)},n.dk=function(t){return n.fk(t.cf,1e6)},n.lk=function(t){return n.Mm(t.getTime(),1e3)},n.Xc=function(t,n){return t.Gc(n)?t:n},n.Yc=function(t,n){return t.Kc(n)?t:n},n.wk=function(t,r,e){return n.Xc(r,n.Yc(e,t))};var r=n.prototype;return r.Nm=function(){return this.ru<BigInt(0)},r.Wm=function(){return 0!==this.Hc&&this.ru===BigInt(0)},r.sf=function(){return 0===this.Hc&&this.ru!==BigInt(0)},r.Pm=function(){return 0===this.Hc&&this.ru===BigInt(0)},r.Om=function(){if(0===this.Hc)return this.ru===BigInt(0)?NaN:this.ru<BigInt(0)?-1/0:1/0;var t=this.ru/BigInt(this.Hc),n=this.ru-t*BigInt(this.Hc);return Number(t)+Number(n)/this.Hc},r.Gm=function(){if(0===this.Hc)throw new h("Failed to convert timestamp");return this.bk()},r.bk=function(){var t=this.ru&BigInt(4294967295),n=this.ru>>BigInt(32)&BigInt(4294967295);return xr.fromBits(Number(t),Number(n))},r.yk=function(){return new Date(0===this.Hc?NaN:Number(this.Jc(1e3).ru))},r.gk=function(){return new wo(0===this.Hc?this.Om():Number(this.ru),this.Hc)},r.Jc=function(t,r){void 0===r&&(r=lh._k);var e=this.Hc;if(e===t)return this;if(0===e)return this;var i=fo(e,t);return new n(function(t,n,r){var e=t/n,i=t-e*n;if(i===BigInt(0))return e;if(r===lh._k)return i<BigInt(0)?e-BigInt(1):e;if(r===lh.pk)return i<BigInt(0)?e:e+BigInt(1);var u=i*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.ru*BigInt(t/i),BigInt(e/i),r),t)},r.rf=function(t){if(this===t)return uo.Uc;if(0===this.Hc||0===t.Hc)return fh(this,t);if(this.Wm())return t.Wm()?uo.Uc:t.Nm()?uo.qc:uo.jc;if(t.Wm())return this.Nm()?uo.jc:uo.qc;var n=l.min(this.Hc,t.Hc),r=this.Jc(n,lh.mk).ru,e=t.Jc(n,lh.mk).ru;return r>e?uo.qc:r<e?uo.jc:uo.Uc},r.Am=function(){return 0===this.Hc?yh(this):new n(-this.ru,this.Hc)},r.$c=function(t){if(0===this.Hc||0===t.Hc)return gh(this,t);if(this.Wm())return t;if(t.Wm())return this;var r=l.max(this.Hc,t.Hc),e=this.Jc(r,lh.mk),i=t.Jc(r,lh.mk);return new n(e.ru+i.ru,r)},r.rk=function(t){if(this.Pm()||g(t))return n.ak;if(this.sf()||!isFinite(t)){if(this.Wm()||0===t)return n.ak;var r=this.Nm()?n.vk:n.hk;return t<0?r.Am():r}return this.Wm()?this:new n(0===t?BigInt(0):this.ru*BigInt(t),this.Hc)},r.sk=function(t){if(this.Pm()||g(t))return n.ak;if(this.sf())return isFinite(t)?0===t?1/t<0?this.Am():this:t<0?this.Am():this:n.ak;if(!isFinite(t))return new n(BigInt(0),this.Hc);if(this.Wm())return 0===t?n.ak:new n(BigInt(0),this.Hc);if(0===t){var r=this.Nm()?n.vk:n.hk;return 1/t<0?r.Am():r}return new n(this.ru/BigInt(t),this.Hc)},r.kk=function(){var t=this.bk();return[t.low,t.high,this.Hc]},x(n,null,[{key:"af",get:function(){return n.Tk||(n.Tk=new n(BigInt(0),1e6)),n.Tk}},{key:"ak",get:function(){return n.Ek||(n.Ek=new n(BigInt(0),0)),n.Ek}},{key:"hk",get:function(){return n.Sk||(n.Sk=new n(BigInt(1),0)),n.Sk}},{key:"vk",get:function(){return n.Rk||(n.Rk=new n(BigInt(-1),0)),n.Rk}}]),n}(ch);function yh(t){return t.Pm()?t:t.Nm()?wh.hk:wh.vk}function gh(t,n){return t.Pm()||n.Pm()?wh.ak:t.sf()&&n.sf()?t.Nm()===n.Nm()?t:wh.ak:t.sf()?t:n}wh.Tk=void 0,wh.Ek=void 0,wh.Sk=void 0,wh.Rk=void 0,function(t){t[t._k=0]="_k",t[t.pk=1]="pk",t[t.mk=2]="mk"}(lh||(lh={}));var _h=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?wh:hh,ph=9e4,mh=l.pow(2,33),kh=(_h.Mm(mh,ph).sk(2),{Ik:wo.af,Ck:wo.hf,Ok:wo.af}),bh=6,Th=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Eh=[" ","\t","\n","\f","\r"],Sh=/^\d*$/,Rh=/.*[0-9]+.*/,Ih=/^[\d.-]+$/,Ch=/(^\.|\.$)/,Oh=/(\D\.|\.\D)/;function Dh(t,n){void 0===n&&(n=kh);var r={fh:[],Dk:[],Nk:[]},e=Nh(t),i=new he;if(jh(e),Ah(e,function(t){return"\n"!==t},i),i.Go>=e.length)return r;(i.Wo(1),"\n"!==e.charAt(i.Go))?Bh(Ph(e,i,!1,!0,r,n),r):i.Wo(1);for(Ah(e,function(t){return"\n"===t},i);i.Go<e.length;){Bh(Ph(e,i,!1,!1,r,n),r),Ah(e,function(t){return"\n"===t},i)}return r}function Nh(t){var n=un(t,"\0"," "),r=un(n,"\r\n","\n");return un(r,"\r","\n")}function Ah(t,n,r){for(var e=r.Go;r.Go<t.length&&n(t.charAt(r.Go));)r.Wo(1);return t.substring(e,r.Go)}function Ph(t,n,r,e,i,u){for(var o,s=0,c=n.Go,f="",a=!1,h=!1,v=null,d=null,l=null;!a;)if(o=Ah(t,function(t){return"\n"!==t},n),s++,n.Go>=t.length?a=!0:n.Wo(1),on(o,"--\x3e")){if(e||1!==s&&(2!==s||h)){n.zo(c);break}h=!0,c=n.Go,v=new oh(0,0,"",!1,f);try{Lh(o,i.Dk,v,u),f=""}catch(t){D.Lf(t),v=null}}else{if(""===o)break;e&&sn(o,"X-TIMESTAMP-MAP")&&(i.Ak=xh(o)),e||2!==s||r||(fn("STYLE",f.replace(/ /g,""))?(d={xu:Ka.Kp},f=""):fn("REGION",f.replace(/ /g,""))&&(l=new sh("",100,3,0,100,0,100,""),f="")),f&&(f+="\n"),f+=o,c=n.Go}if(v)return v.nm=f,v;if(d);else if(l)return function(t,n){for(var r=t.split(/\s/),e=0;e<r.length;e++){var i=r[e];if(0!==i.length&&on(i,":")&&":"!==i.charAt(0)&&":"!==i.charAt(i.length-1)){var u=i.indexOf(":"),o=i.substring(0,u),s=i.substring(u+1,i.length);switch(o.toUpperCase()){case"ID":Qh(s,n);break;case"WIDTH":nv(s,n);break;case"LINES":tv(s,n);break;case"REGIONANCHOR":var c=Jh(s);c&&(n.Tm=c[0],n.Em=c[1]);break;case"VIEWPORTANCHOR":var f=Jh(s);f&&(n.Sm=f[0],n.Rm=f[1]);break;case"SCROLL":Zh(s,n)}}}}(f,l),l;return null}function xh(t){var n,r=t.split("=")[1].trim().split(","),e=Fh(r[0].trim(),"MPEGTS")?r[0]:r[1],i=Fh(r[0].trim(),"LOCAL")?r[0]:r[1];return{Pk:(n=Number(e.split(/:(.*)/)[1].trim())||0,_h.Mm(n,ph)),xk:qh(i.split(/:(.*)/)[1].trim(),new he)||_h.af}}function Fh(t,n){return sn(t,n)}function Bh(t,n){t&&function(t){return t.xu===Ka.Gp}(t)?n.fh.push(t):t&&function(t){return t.xu===Ka.Yp}(t)?n.Dk.push(t):t&&function(t){return t.xu===Ka.Kp}(t)&&n.Nk.push(t)}function Lh(t,n,r,e){var i=new he;if(Vh(t,i),r.Zp=Mh(qh(t,i).gk(),e).cf,Vh(t,i),"--\x3e"!==t.substring(i.Go,i.Go+3))throw h("Something went wrong with parsing a WebVTT Cue");i.Wo(3),Vh(t,i),r.tm=Mh(qh(t,i).gk(),e).cf,function(t,n,r){for(var e=t.split(/\s/),i=0;i<e.length;i++){var u=e[i];if(0!==u.length&&on(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":Gh(c,n,r);break;case"VERTICAL":Kh(c,n);break;case"D":$h(c,n);break;case"LINE":case"L":zh(c,n);break;case"POSITION":case"T":Xh(c,n);break;case"SIZE":case"S":Yh(c,n);break;case"ALIGN":case"A":Wh(c,n)}}}}(t.substring(i.Go,t.length),r,n)}function Mh(t,n){return t.$c(n.Ik)}function Uh(t){return/^[0-9]$/.test(t)}function qh(t,n){var r,e,i,u=un(t,",","."),o=!1;if(n.Go>=u.length||!Uh(u.charAt(n.Go)))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var s=Ah(u,Uh,n),c=w(s,10);if((s.length>2||c>59)&&(o=!0),n.Go>=u.length||":"!==u.charAt(n.Go))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Wo(1);var f=Ah(u,Uh,n);if(2!==f.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var a=w(f,10);if(o||n.Go<u.length&&":"===u.charAt(n.Go)){if(n.Go>=u.length||":"!==u.charAt(n.Go))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Wo(1);var v=Ah(u,Uh,n);if(2!==f.length)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");r=c,e=a,i=w(v,10)}else r=0,e=c,i=a;if(n.Go>=u.length||"."!==u.charAt(n.Go))throw new h("Something went wrong with parsing a WebVTT Cue timestamp");n.Wo(1);var d=Ah(u,Uh,n),l=w(d,10);if(a>59||i>59)throw new h("Something went wrong with parsing a WebVTT Cue timestamp");var y=_h.Mm(60*r*60+60*e+i,1),g=_h.Mm(l,1e3);return y.$c(g)}function jh(t){if(t.length<bh)return!1;for(var n=0;n<Th.length;n++){if(sn(t,Th[n]))return!0}return!1}function Vh(t,n){for(;n.Go<t.length&&(r=t.charAt(n.Go),pn(Eh,r));)n.Wo(1);var r}function Hh(t){var n=t.lastIndexOf("%");if(n>-1){var r=y(t.substring(0,n));if(!g(r)&&r>=0&&r<=100)return r}return null}function Wh(t,n){var r=t.toLowerCase();switch(r){case"start":case"center":case"end":case"left":case"right":n.mm=r;break;case"middle":n.mm="center"}}function zh(t,n){var r=t,e="";if(on(t,",")&&(r=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length)),Rh.test(r)){var i;if(cn(r,"%")){var u=Hh(r);if(null===u)return;i=u}else{if(!Ih.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Oh.test(t)||Ch.test(t))return;if(i=y(t),g(i))return}switch(n.lm=i,n.pm=cn(r,"%"),e=t.toLowerCase()){case"start":case"center":case"end":n.wm=e;break;case"middle":n.wm="center"}}}function Xh(t,n){var r=t,e="";on(t,",")&&(r=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length));var i=Hh(r);if(null!==i)switch(n.ym=i,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.gm=e;break;case"start":n.gm="line-left";break;case"middle":n.gm="center";break;case"end":n.gm="line-right"}}function Gh(t,n,r){for(var e=r.length-1;e>=0;e--)if(r[e].Ya===t)return void(n._m=r[e])}function Yh(t,n){var r=Hh(t);null!==r&&(n.Vo=r)}function Kh(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.km="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.km="lr";break;default:n.km=""}}function $h(t,n){"VERTICAL"===t.toUpperCase()?n.km="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.km="lr")}function Jh(t){if(t.indexOf(",")>=0){var n=Hh(t.substring(0,t.indexOf(","))),r=Hh(t.substring(t.indexOf(",")+1,t.length));return[so(n||0,0,100),so(r||100,0,100)]}return null}function Qh(t,n){n.Ya=t}function Zh(t,n){"up"===t.toLowerCase()&&(n.Im="up")}function tv(t,n){Sh.test(t)&&(n.bm=w(t))}function nv(t,n){var r=Hh(t);null!==r&&(n.Rf=r)}function rv(t){return t&&"au"in t?t.au:t}var ev=function(t){function n(n,r,e,i,u,o,s){var c;return(c=t.call(this,n,r,e,i)||this).Fk=u,c.Bk=o,c.Lk=s||void 0,c}return gt(n,t),n.prototype.ef=function(n){return this===n||!!is(this,n)&&(!!t.prototype.ef.call(this,n)&&(!!es(this.Mk,n.Mk)&&(!!es(this.Dk,n.Dk)&&(this.Uk&&n.Uk?!!this.Uk.$i(n.Uk)&&(this.nm&&n.nm?this.nm.$i(n.nm):this.nm===n.nm):this.Uk===n.Uk))))},x(n,[{key:"Mk",get:function(){return this.Fk}},{key:"Dk",get:function(){return this.Bk}},{key:"Uk",get:function(){return this.Lk}},{key:"sa",get:function(){var t;return this.oa||(this.oa=ns(rh(t=this),{get styles(){return t.Mk},get regions(){return t.Dk},get metadata(){return rv(t.Uk)},get content(){return rv(t.nm)}})),this.oa}}]),n}(uh),iv=function(){function t(t,n,r){this.qk=t,this.jk=n,_t(r)?this.Vk=function(t,n,r){for(var e=0,i=["begin","end","dur"];e<i.length;e++){var u=i[e];r.lu(u)}return r}(0,0,r):this.Vk=r}return x(t,[{key:"Hk",get:function(){return this.Vk.Ji(!0)}},{key:"Zp",get:function(){return this.qk}},{key:"tm",get:function(){return this.jk}}]),t}();var uv="http://www.w3.org/XML/1998/namespace";function ov(t,n){return function(t,n){var r=t.hu.slice(),e=[];for(;r.length>0;){var i=r.shift();n(i)?e.push(i):r.push.apply(r,i.hu)}return e}(t,function(t){return t.su===n})}function sv(t,n){for(var r=t,e=0;e<n.length;e++){var i=n[e];r=r.replace(i+":","")}return r}function cv(t,n){for(var r=t._u,e={},i=0;i<r.length;i++)e[sv(r[i].Zi,n)]=r[i].ru;return e}var fv=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,av=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/;function hv(t,n,r){return void 0===r&&(r=kh),function(t,n,r){var e=[],i=D.Yi(t);if(!i)return e;var u=i.ku;if("tt"!==u.su)return e;var o=u&&u.uu("head")[0],s=u&&u.uu("body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var f=function(t,n){for(var r={},e=t.uu("styling")[0],i=e&&e.uu("style")||[],u=0;u<i.length;u++){var o=i[u],s=o.du(uv,"id");r[s]=cv(o,n)}return r}(o,c),a=function(t,n){var r=rs(t),e=wv(n.vu("tts:extent"));if(!e)return r;for(var i=0,u=d.keys(r);i<u.length;i++){var o=u[i],s=wv(r[o].extent);if(s){var c=dv(s[0],e[0]),f=dv(s[1],e[1]);r[o].extent=c+" "+f}var a=wv(r[o].origin);if(a){var h=dv(a[0],e[0]),v=dv(a[1],e[1]);r[o].origin=h+" "+v}}return r}(function(t,n){for(var r={},e=t.uu("layout")[0],i=e&&e.uu("region")||[],u=0;u<i.length;u++){var o=i[u],s=o.du(uv,"id");if(s){r[s]=cv(o,n);var c=_v(o,n);for(var f in c)z.call(c,f)&&(r[s][f]=c[f])}}return r}(o,c),u),h=o.uu("metadata")[0],v=function t(n,r,e,i){var u=r;var o;var s=e;var c=[];var f=[];if(_t(n)){u=gv(n.vu("begin"),i)||u,o=gv(n.vu("dur"),wo.af),s=gv(n.vu("end"),i)||o&&u.$c(o)||s;for(var a=n.ou,h=0;h<a.length;h++)("body"===n.Qi||"div"===n.Qi)&&a[h].Vi>1||(c=c.concat(t(a[h],u,s,i)))}var v=function(t,n,r){var e=[];e.push(t,n);for(var i=0;i<r.length;i++){var u=r[i];e.push(u.Zp,u.tm)}e.sort(yo);for(var o=e.length,s=0;s<o-1;s++)e[s+1].ef(e[s])&&(_n(e,s+1),s--,o=e.length);return e}(u,s,c);for(var d=0;d<v.length-1;d++){var l=yv(v[d],v[d+1],c);if(l.length<=0&&pv(n)){var w=n.Ji(!1);f.push(new iv(v[d],v[d+1],w))}else l.length>0&&function(){var t=n.Ji(!1);l.forEach(function(n){return t.fu(n.Hk)}),f.push(new iv(v[d],v[d+1],t))}()}return f}(s,r.Ik,r.Ck,r.Ok),l=0;l<v.length;l++){var w=v[l],y=vv(a,w);e.push(new ev(w.Zp.cf,w.tm.cf,w.Hk,!1,f,y,h))}return e}(t,0,r)}function vv(t,n){for(var r=function t(n){var r=[];var e;if(_t(n)){(e=n.vu("region"))&&r.push(e);for(var i=n.ou,u=0;u<i.length;u++)r=r.concat(t(i[u]))}return r}(n.Hk),e={},i=0;i<r.length;i++){var u=r[i];e[u]=t[u]}return e}function dv(t,n){var r=lv(t),e=lv(n);if(r&&e&&r===e){var i=Number(t.slice(0,-r.length)),u=Number(n.slice(0,-e.length));return g(i)||g(u)?t:i/u*100+"%"}return t}function lv(t){return cn(t,"px")?"px":cn(t,"em")?"em":cn(t,"c")?"c":cn(t,"%")?"%":void 0}function wv(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function yv(t,n,r){for(var e=[],i=0;i<r.length;i++){var u=r[i].Zp,o=r[i].tm;(u.Gc(t)&&o.Kc(n)||u.Zc(n)&&o.Gc(n)||u.Kc(t)&&o.Qc(t))&&e.push(r[i])}return e}function gv(t,n){if(t){if(fv.test(t)){var r=fv.exec(t);if(!r)return;var e=Number(r[1])||0,i=Number(r[2])||0,u=Number(r[3])||0,o=r[6],s=o?Number(o)*l.pow(.1,o.length):0;return new wo(3600*e+60*i+u+s).if(n)}if(av.test(t)){var c=av.exec(t);if(!c)return;var f,a=Number(c[1]);switch(c[4]){case"h":f=3600*a;break;case"m":f=60*a;break;case"s":f=a;break;case"ms":f=.001*a;break;case"f":case"t":default:f=NaN}return new wo(f).if(n)}}}function _v(t,n){for(var r={},e=t.uu("style")||[],i=0;i<e.length;i++){var u=cv(e[i],n);for(var o in u)z.call(u,o)&&(r[o]=u[o])}return r}function pv(t){if(_t(t)){var n=t.Qi.toUpperCase(),r=Boolean(t.vu("smpte:backgroundImage"));return"BR"===n||r}return t.Vi===at.zi}function mv(t){var n=function(t){var n=D.Yi(t);if(n)return n.ku}(t);return"tt"===(null==n?void 0:n.Qi)}var kv,bv,Tv=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.Pa=function(n){return t.prototype.Pa.call(this,n)},r.xa=function(n){var r=t.prototype.xa.call(this,n);return r&&(n.eh=gs.oh),r},r.ca=function(){return Ts(this)},n}(Ko),Ev=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Yw=new Tv,n.Wk=function(t){t.fa.eh!==gs.oh?n.zk(t.fa):n.Xk(t.fa)},n}gt(n,t);var r=n.prototype;return r.Pa=function(t){t._o(Vo.ma,this.Wk),this.Yw.Pa(t)},r.xa=function(t){t.ko(Vo.ma,this.Wk),t.eh=gs.oh,this.Yw.xa(t)},r.zk=function(t){},r.Xk=function(t){},r.Gk=function(){for(var t=0,n=this.Yw.La;t<n.length;t++){var r=n[t];r.ko(Vo.ma,this.Wk),r.oe()}},r.Ba=function(){return this.Gk(),this.Yw.Ba(),C.resolve()},r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),t.next=3,this.Ba();case 3:this.Yw.oe();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Mn);!function(t){t.Yk="arraybuffer",t.Kk="json",t.$k="stream",t.zi="text",t.Jk="blob",t.Gi="document"}(kv||(kv={})),function(t){t.Yk=kv.Yk,t.Kk=kv.Kk,t.$k=kv.$k,t.zi=kv.zi}(bv||(bv={}));var Sv,Rv,Iv,Cv,Ov=function(){function t(n){var r=this;this.Cu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];r.append(n,e)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var r=t,e=n;r=Dv(r),e=Nv(e);var i=r.toLowerCase();if(this.Cu.hasOwnProperty(i)){var u=this.Cu[i],o=u[1];u[1]=o?o+", "+e:e}else this.Cu[i]=[r,e]},n.delete=function(t){var n=Dv(t).toLowerCase();delete this.Cu[n]},n.get=function(t){var n=Dv(t).toLowerCase();return this.Cu.hasOwnProperty(n)?this.Cu[n][1]:null},n.has=function(t){var n=Dv(t).toLowerCase();return this.Cu.hasOwnProperty(n)},n.set=function(t,n){var r=t,e=(r=Dv(r)).toLowerCase();this.Cu[e]=[r,Nv(n)]},n.forEach=function(t,n){for(var r in this.Cu)this.Cu.hasOwnProperty(r)&&t.call(n,this.Cu[r][1],r,this)},n.asList=function(){var t=[];for(var n in this.Cu)if(this.Cu.hasOwnProperty(n)){var r=this.Cu[n],e=r[0],i=r[1];t.push([e,i])}return t},n.Qk=function(){var t={};return this.forEach(function(n,r){t[r]=n}),t},n.Zk=function(t){var n=this;t.forEach(function(t,r){n.append(r,t)})},n.tb=function(t){var n=this;t.forEach(function(t,r){n.set(r,t)})},t}();function Dv(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Nv(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Sv||(Sv={})),function(t){t.P_="",t.nb="manifest",t.rb="segment",t.eb="content-protection"}(Rv||(Rv={})),function(t){t.P_="",t.ib="initialization-segment",t.ub="fairplay-license",t.ob="fairplay-certificate",t.sb="widevine-license",t.cb="widevine-certificate",t.fb="playready-license",t.ab="clearkey-license",t.hb="aes128-key"}(Iv||(Iv={})),function(t){t.P_="",t.ew="audio",t.rw="video",t.zi="text",t.A_="image"}(Cv||(Cv={}));var Av,Pv,xv=function(t,n){var r,e,i,u,o,s,c,f,a,h,v,d=t.vb;n?(r=n.lb,e=n.wb,i=n.yb,u=n.gb,o=n._b,s=n.vo,c=n.xu,f=n.pb,a=n.mb,h=n.kb,v=n.bb):(r=null,e={},i=Sv.GET,u=bv.zi,o=0,c=Rv.P_,f=Iv.P_,a=Cv.P_,h=!1),this.vb=d,this.lb=t.lb||r,this.wb=new Ov(t.wb||e),this.yb=t.yb||i,this.gb=t.gb||u,this._b=void 0!==t._b?Number(t._b)||0:o,this.vo=t.vo||s||(new bn).vo,this.xu=t.xu||c,this.pb=t.pb||f,this.mb=t.mb||a,this.kb=void 0!==t.kb?Boolean(t.kb):h,this.bb=t.bb||v},Fv=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,n,r,u)||this).url=e,o.status=i,o}return gt(n,t),n}(Be);function Bv(t,n){return t===la.xp||t===la.uw&&n===la.xp}function Lv(t,n,r,e){for(var i=0,u=t.fh.La;i<u.length;i++){var o=u[i];if(o.Zp>r)break;n<=o.tm&&e.push(o)}}function Mv(t,n){return ao(t.Ka,n.Ka)}function Uv(t,r){var e=r,i=0;if(function(t){switch(t.name){case Av.Tb:case Av.Eb:case Av.Sb:return!0;default:return!1}}(t)&&t.name===Av.Tb)e=t.Rb.vb;else if(t.name===Av.Eb){var u=t.Ib;if(e=u.Cb,0===(i=u.Ob))return new Fv(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,i,t)}return new Fv(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,i,t)}function qv(t){switch(t){case Kf.WEBVTT:return"WebVTT";case Kf.SRT:return"SRT";case Kf.TTML:return"TTML";default:return""}}function jv(t){return jh(Nh(t))?Kf.WEBVTT:mv(t)?Kf.TTML:Kf.SRT}!function(t){t.Tb="HttpOpenError",t.Eb="HttpResponseError",t.Sb="HttpTimeoutError"}(Av||(Av={})),function(t){t.Db="vtt",t.Hl="wvtt",t.Nb="stpp"}(Pv||(Pv={}));var Vv=function(t){function n(n){var r;return(r=t.call(this,_s.nh)||this).errorObject=n,r}return gt(n,t),n.prototype.ca=function(){return this},x(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(jo),Hv=function(t){function r(n,r){var e;return(e=t.call(this)||this).Ab=new bn,e.Pb=n,e.xb=r,e}gt(r,t);var e=r.prototype;return e.Fb=function(t){if(t.src){var n=t.kind||la.Dp,r=this.Pb.Bb(n,t.label,t.srclang,t.default);return r.hh=no(t.src),this.Pa(r),r}},e.Lb=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c,f,a,h,v,d,l;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.sh=Ya.LOADING,i=new xv({vb:r.hh,gb:kv.zi,yb:Sv.GET,vo:e}),t.prev=2,t.next=5,this.xb.Rb(i);case 5:return s=t.sent,o=s.Ob,t.next=9,s.Mb();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Rn(t.t0),r.sh=Ya.ERROR,r.wo(new Vv(Uv(t.t0,r.hh))),t.abrupt("return");case 18:for(t.prev=18,c=jv(u),r.xu=c,f=[],c===Kf.WEBVTT||c===Kf.SRT?(a=Dh(u),f=a.fh):c===Kf.TTML&&(f=hv(u)),h=0,v=f;h<v.length;h++)d=v[h],r.Ub(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Rn(t.t1),r.sh=Ya.ERROR,l=qv(r.xu),r.wo(new Vv(new Fv(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",r.hh,o,t.t1))),t.abrupt("return");case 33:r.sh=Ya.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,r){return t.apply(this,arguments)}}(),e.zk=function(t){pn(this.Yw.La,t)&&t.sh===Ya.NONE&&this.Lb(t,this.Ab.vo).catch(In)},e.ps=function(){},e.Ba=function(){var n=C.coroutine(xt.mark(function n(){var r,e,i;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Ab.fo(),this.Ab=new bn,r=0,e=this.Yw.La;r<e.length;r++)i=e[r],this.Pb.qb(i);return n.next=5,t.prototype.Ba.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(Ev);function Wv(t,n){for(var r=0;r<t.length;r++){var e=t[r];if(e.$a===n&&e.jb)return e}}function zv(t,n){Xv(Wv(t.La,n))}function Xv(t){void 0!==t&&(t.eh=gs.ih)}function Gv(t,n){Xv(Wv(t.La,n)||function(t,n){for(var r=0;r<t.length;r++){var e=t[r];if(e.$a===n)return e}}(t.La,n))}function Yv(t){for(var n=0;n<Ta.length;n++){var r=Ta[n];r===la.Pp?Gv(t,r):zv(t,r)}}var Kv=function(t){function n(){return t.call(this,As.Kh)||this}return gt(n,t),n}(qn),$v=function(){function t(t){var n=this;this.Vb=[],this.Hb=void 0,this.Wb=new bn,this._n=function(){return 0===n.Vb.length?n.zb?Jv(n.zb,n.Wb.vo).then(n.Xb,n.Xb):n.Xb():n.Vb.shift()().then(n._n)},this.Xb=function(){if(0!==n.Vb.length)return n._n();n.Hb=void 0},this.zb=t}var n=t.prototype;return n.Gb=function(t,n){var r=this;return new C(function(e){var i=new bn;i.ao(r.Wb.vo),n&&i.ao(n);var u=function(){i.eo()};r.Vb.push(function(){var n=Jv(t,i.vo);return e(n),n.then(u,u)}),r.Hb||(r.Hb=r._n())})},n.fo=function(){return this.Yb(!0)},n.oe=function(){return this.zb=void 0,this.Yb(!1)},n.Yb=function(t){var n=this.Hb;return this.Wb.fo(),t&&(this.Wb=new bn),C.resolve(n)},t}();function Jv(t,n){return new C(function(r){return r(t(n))})}var Qv=function(t){function n(n){var r;return(r=t.call(this,As.Dh)||this).errorObject=n,r}return gt(n,t),x(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(qn),Zv=function(t){function n(n){var r;return(r=t.call(this)||this).Kb=void 0,r.Wb=new bn,r.$b=n,r}gt(n,t);var r=n.prototype;return r.Jb=function(t){t&&(this.Kb=t,D.Wf.bf&&this.Qb(this.Wb.vo).catch(In))},r.Qb=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o,s,c,f;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.Kb,e=!1,i=0,u=r.Zb;case 3:if(!(i<u.length)){t.next=25;break}o=u[i],s=0,c=o.tT;case 6:if(!(s<c.length)){t.next=20;break}return f=c[s],t.prev=8,t.next=11,this.nT(o.Bs.Bu,f,n);case 11:e=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),Rn(t.t0);case 17:s++,t.next=6;break;case 20:if(!e){t.next=22;break}return t.abrupt("break",25);case 22:i++,t.next=3;break;case 25:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),r.rT=function(t,n){return this.nT(t,n,this.Wb.vo)},r.Ba=function(){return this.Kb=void 0,this.Wb.fo(),this.Wb=new bn,this.eT()},r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),t.next=3,this.Ba();case 3:this.Wb.eo();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.iT=function(t,n){if(!this.Kb)return!1;var r=Ff(t,n);return Boolean(r[Kt])},x(n,[{key:"Bs",get:function(){return this.uT()}}]),n}(Mn),td=function(t){function n(n){var r;return(r=t.call(this,_s.nh)||this).errorObject=n,r}return gt(n,t),x(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(qn),nd=function(t){function n(){return t.call(this,As.Nh)||this}return gt(n,t),n}(qn),rd=function(t){function n(n){var r;return(r=t.call(this,"sv")||this).oT=n,r}return gt(n,t),n}(qn),ed=new $v,id=function(t){function r(r,e,i,u,o){var s;return(s=t.call(this)||this).sT=r,s.cT=e,s.Bu=i,s.Fo=u,s.fT=o,s.Fr=!1,s.aT=!1,s.Wb=new bn,s.fs=function(t){switch(t.Co){case"license-request":s.hT(t.Io,t.Oo).catch(function(t){return s.Xs(t)});break;default:s.Xs(new Dc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Co))}},s.vT=function(t){s.sT.Rs.Uo(function(t,n){switch(t){case"usable":D.ys(function(){s.aT=!0,s.wo(new nd)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.wo(new rd(n))}})},s.dT=function(t){s.Xs(new Dc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},r._o("Io",s.fs),r._o("Ro",s.vT),r._o("Do",s.dT),s.Es=r.Es.then(function(){return s.lT()}),s}gt(r,t);var e=r.prototype;return e._s=function(){var t=this;return this.Fr=!0,ed.Gb(function(n){return t.wT(n)},this.Wb.vo)},e.wT=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Sn(r),t.next=4,this.cT.yT(this.Fo);case 4:return e=t.sent,t.next=7,this.sT._s(this.Bu,this.Fo,e);case 7:if(!this.cT.gT){t.next=10;break}return t.next=10,this.cT.Eo("persistenttokenavailable",r);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Rn(t.t0),i=t.t0 instanceof ge?t.t0.rs:void 0,u=new Dc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,i),this.Xs(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),e.hT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&this.cT._T(e),t.prev=1,!le(r)){t.next=8;break}return t.next=5,this.cT.pT(new _(r),this.Wb.vo);case 5:i=t.sent,t.next=11;break;case 8:return t.next=10,this.cT.mT(new _(r),this.Wb.vo);case 10:i=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!En(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.sT.bs(i);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof ge?t.t1.rs:void 0,new Dc(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,r){return t.apply(this,arguments)}}(),e.Xs=function(t){var r=t instanceof Dc?t:new Dc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.wo(new Qv(r)),this.ls()},e.lT=function(){this.sT.ko("Io",this.fs),this.sT.ko("Ro",this.vT),this.sT.ko("Do",this.dT),this.aT=!1,this.Wb.fo()},e.ls=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),this.lT(),t.next=4,this.sT.ls().catch(rt);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r}(Mn),ud=[As.Nh,As.Dh,As.ov],od=function(t){function n(n,r,e){var i;(i=t.call(this)||this).kT=[],i.Cs=n,i.$b=e,i.bT=r;var u=r.TT;return u&&An(n.Ds(u)),i}gt(n,t);var r=n.prototype;return r.ET=function(){return this.ST||(this.ST=this.RT()),this.ST},r.RT=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bT.pT(new _(de()));case 2:return n=t.sent,t.next=5,this.Cs.Ds(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.IT=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i,u,o=this;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cs.Os("temporary");case 2:return i=t.sent,u=new id(i,this.bT,n,r,e),this.kT.push(u),u._o(ud,this.lo),u.Es.then(function(){return o.CT(u)}),t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),r.OT=function(t,n,r){if(r)return!1;for(var e=0,i=this.kT;e<i.length;e++){var u=i[e];if(!u.fT&&u.Bu===t&&er(u.Fo,n))return!0}return!1},r.CT=function(t){t.ko(ud,this.lo),gn(this.kT,t)},r.oe=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),n=this.kT.slice(),this.kT.length=0,t.next=5,C.all(n.map(function(t){return t.ls()}));case 5:this.bT.oe();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(n,[{key:"DT",get:function(){return this.bT.DT}},{key:"Bs",get:function(){return this.bT.Bs}},{key:"NT",get:function(){return this.bT.NT}},{key:"AT",get:function(){return this.bT.AT}},{key:"PT",get:function(){return this.bT.PT}}]),n}(Mn),sd=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return gt(n,t),n}(qn),cd=function(t){function r(n,r,e,i,u){var o;return(o=t.call(this)||this).xT=void 0,o.Bs=n,o.DT=r,o.AT=e,o.xb=i,o.FT=u,o.NT=o.BT(r),o}gt(r,t);var e=r.prototype;return e.LT=function(){return this.xT},e._T=function(t){this.xT=t},e.MT=function(){return this.NT.licenseAcquisitionURL||this.LT()},e.yT=function(t){return C.resolve(void 0)},e.UT=function(){var t=C.coroutine(xt.mark(function t(r,e,i,u){var o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.qT(r,e,i,u)).vb){t.next=3;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.jT.Rb(o);case 6:return s=t.sent,t.next=9,s.VT(e);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Rn(t.t0),t.next=17,this.HT(t.t0,o.vb,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,r,e,i){return t.apply(this,arguments)}}(),e.qT=function(t,n,r,e){var i=this.WT().Qk(),u=this.kb,o={vb:this.zT(),gb:n,wb:i,lb:t,kb:u,yb:Sv.POST,_b:0,vo:e,xu:Rv.eb,pb:r};return new xv(o)},e.hT=function(t,n){return C.resolve(t)},e.XT=function(t,n,r,e){return C.resolve(t)},e.WT=function(){return new Ov(this.NT.headers||{})},e.HT=function(){var t=C.coroutine(xt.mark(function t(r,e,i){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",r);case 1:case"end":return t.stop()}},t)}));return function(n,r,e){return t.apply(this,arguments)}}(),e.zT=function(t,n){var r=n,e=this.NT.queryParameters;if(!r){var i=this.MT();if(!i)return"";r=i}if(e||t){var u=D.Mc(r);t&&to(u,t),e&&to(u,e),r=u.href}return r},e.GT=function(t){return function(t,n){var r=n.licenseResponseProcessor;return C.resolve(new _(fd(t,r)))}(t,this.NT)},e.YT=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KT(n,e);case 2:return i=t.sent,t.next=5,this.UT(i,this.FT,r,e);case 5:return u=t.sent,t.next=8,this.GT(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),e.oe=function(){this.mo()},x(r,[{key:"jT",get:function(){return this.xb}},{key:"gT",get:function(){return!1}},{key:"TT",get:function(){var t=this.NT.certificate;if(t)return Q(t)?Qn(t):fe(t)}},{key:"$T",get:function(){return"optional"}},{key:"Ls",get:function(){return!1}},{key:"PT",get:function(){return!1}},{key:"kb",get:function(){return Boolean(this.NT.useCredentials)}}]),r}(Mn);function fd(t,r){if(!t||!r||"function"!=typeof r)return t;try{return r(t)}catch(t){throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function ad(t,n){var r=ae(t).buffer,e=n.licenseRequestProcessor;return C.resolve(fd(r,e))}var hd,vd=function(t){function n(n,r,e,i){return t.call(this,nn,n,r,e,i)||this}gt(n,t);var r=n.prototype;return r.BT=function(t){return t.widevine||{}},r.pT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.TT){t.next=2;break}return t.abrupt("return",this.TT);case 2:return t.abrupt("return",this.mT(new _(n),r));case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.mT=function(n,r){return t.prototype.YT.call(this,n,Iv.sb,r)},n}(cd);!function(t){t.Du="Widevine",t.Ou="PlayreadyV2",t.JT="PlayreadyV2",t.QT="PlayreadyV3",t.Nu="Fairplay"}(hd||(hd={}));var dd={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function ld(t,n){var r,e,i,u,o=dd[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(r=D.Hf)||void 0===r?void 0:r.Wf,OSVersion:null===(e=D.Hf)||void 0===e?void 0:e.Zf,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null===(i=D.Hf)||void 0===i?void 0:i.ta,DeviceModel:null===(u=D.Hf)||void 0===u?void 0:u.na}}}function wd(t,r){if(!t.accountName)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration, portalId is not set.");throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+r+" DRM configuration.")}function yd(t,n,r){var e;if(Cf(t))e={AuthToken:t.authToken,Payload:n};else{if(!Of(t))throw wd(t,r);e={LatensRegistration:ld(t,r),Payload:n}}return sr(JSON.stringify(e))}function gd(t,n,r){return _d.apply(this,arguments)}function _d(){return(_d=C.coroutine(xt.mark(function t(r,e,i){var u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.Ib){t.next=3;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,e);case 3:return o=u,t.prev=4,t.next=7,o.ZT(i);case 7:s=t.sent,c=pd(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",r,o.Rb.vb,o.Ob,o.tE,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function pd(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var md=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e,bv.Kk)||this).nE=!0,i}gt(r,t);var e=r.prototype;return e.HT=function(t,n,r){return gd(t,n,r)},e.KT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.DT){t.next=3;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=tr(r),t.abrupt("return",yd(i,u,hd.Du));case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.GT=function(t){var r;if(!t.license)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return r=Qn(t.license),C.resolve(r)},e.rE=function(t){return C.resolve(new _(t))},e.pT=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eE(),t.next=3,this.KT(n,r);case 3:return e=t.sent,t.next=6,this.UT(e,bv.Yk,Iv.cb,r);case 6:return i=t.sent,t.next=9,this.rE(i);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.mT=function(){var n=C.coroutine(xt.mark(function n(r,e){var i;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.mT.call(this,r,e);case 2:return i=n.sent,this.eE(),n.abrupt("return",i);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),e.eE=function(){this.wo(new sd),this.nE=!1},x(r,[{key:"gT",get:function(){return this.nE}},{key:"$T",get:function(){return"required"}}]),r}(vd),kd=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e,bv.Yk)||this)._T("https://widevine-proxy.drm.technology/proxy"),i}return gt(r,t),r.prototype.KT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ad(r,this.NT);case 2:if(i=t.sent,u=this.AT,e=new _(i),o=[].slice.call(e),s=this.iE){t.next=8;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var e},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),x(r,[{key:"iE",get:function(){if(Df(this.DT))return this.DT.token}}]),r}(vd);function bd(t,n){var r=n||{};return t.ticket&&t.sessionId&&(r=Ft(Ft({},r),{SessionId:t.sessionId,Ticket:t.ticket})),Ft(Ft({},r),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Td=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e,bv.Yk)||this)._T("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),i}gt(n,t);var r=n.prototype;return r.KT=function(t,n){return ad(t,this.NT)},r.zT=function(n,r){var e=n;return Sf(this.DT)&&(e=bd(this.DT,e)),t.prototype.zT.call(this,e,r)},n}(vd),Ed="Conax-Custom-Data";function Sd(t,n,r){var e=t&&Ef(t)&&t;if(e&&!r.has(Ed)){var i=tf(e)?e.token:void 0,u=tf(e)?e.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:i,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});r.set(Ed,o)}return r}var Rd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e,bv.Yk)||this)._T("https://connect.conax.com:8094/license"),i}gt(n,t);var r=n.prototype;return r.KT=function(t,n){return ad(t,this.NT)},r.WT=function(){var n=t.prototype.WT.call(this);return Sd(this.DT,"Widevine",n)},n}(vd);function Id(t){var n=Zr(new _(t));return Qn(JSON.parse(n).license)}function Cd(t){return"string"==typeof t.token?t.token:sr(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Od(t,n,r){var e;return e=r.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var Dd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e,bv.Yk)||this)._T("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),i}gt(n,t);var r=n.prototype;return r.KT=function(t,n){return ad(t,this.NT)},r.GT=function(t){return C.resolve(Id(t))},r.WT=function(){return Od(t.prototype.WT.call(this),this.iE,this.DT)},x(n,[{key:"iE",get:function(){return Cd(this.DT)}}]),n}(vd),Nd=function(t){function n(n,r,e){return t.call(this,n,r,e,bv.Yk)||this}gt(n,t);var r=n.prototype;return r.KT=function(t,n){return ad(t,this.NT)},r.WT=function(){var n=t.prototype.WT.call(this),r=this.DT.token;return n.set("Authorization","Bearer "+r),n},n}(vd);function Ad(t,n,r,e){return Pd.apply(this,arguments)}function Pd(){return(Pd=C.coroutine(xt.mark(function t(r,e,i,u){var o,s,c,f,a,h,v;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Nf(r)){t.next=2;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new Ov).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=r.sessionId)&&o.append("XSSESSION",s),c=r.streamId,f=r.fairplay?"persistent"===r.fairplay.licenseType?"persistent":"non-persistent":r.widevine&&"persistent"===r.widevine.licenseType?"persistent":"non-persistent",a={drmType:e,licenseType:f,streamId:c},h={vb:r.ticketAcquisitionURL,gb:bv.Kk,wb:o,yb:Sv.POST,lb:JSON.stringify(a),vo:u},t.next=13,i.Rb(h);case 13:return v=t.sent,t.next=16,v.ZT();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var xd=function(t){function n(n,r,e){return t.call(this,n,r,e,bv.Kk)||this}gt(n,t);var r=n.prototype;return r.WT=function(){var n=t.prototype.WT.call(this);return n.set("Content-Type","application/json"),n},r.KT=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=or(n.buffer),i=this.DT,t.next=4,Ad(i,"widevine_modular",this.jT,r);case 4:return u=t.sent,this._T(u.licenseServerUrl),o=te(JSON.stringify({payload:e,ticket:u.ticket})),t.abrupt("return",ad(o,this.NT));case 8:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.GT=function(t){var n=t;return C.resolve(Qn(n.license))},n}(vd),Fd=function(t){function r(n,r,e){return t.call(this,n,r,e,bv.Yk)||this}gt(r,t);var e=r.prototype;return e.KT=function(t,n){return ad(t,this.NT)},e.WT=function(){if(!Af(this.DT))throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.WT.call(this);return r.set("X-AxDRM-Message",this.DT.token),r},r}(vd);function Bd(t){for(var n=new _(2*t.length),r=0;r<t.length;r+=1)n[2*r]=t.charCodeAt(r),n[2*r+1]=0;return n}var Ld=function(t){function n(n,r,e){var i;return(i=t.call(this,tn,n,r,e,bv.Yk)||this).uE=void 0,i}gt(n,t);var r=n.prototype;return r.BT=function(t){return t.playready||{}},r.WT=function(){var n=new Ov(this.uE);return n.tb(t.prototype.WT.call(this)),n},r.oE=function(t){return t.length>=1&&t[0].ou.length>0},r.yT=function(n){var r=this.DT.playready.customData;if(r){var e=Bd(r),i=Bd('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+tr(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{Js:i}})}return t.prototype.yT.call(this,n)},r.KT=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ad(n,this.NT);case 2:return e=t.sent,t.abrupt("return",this.sE(e));case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.sE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o,s,c,f,a,h,v,d,l,w,y,g;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new he,void 0===(m=!0)&&(m=!1),c=Jr(_,p,m,!0),t.prev=3,f=D.Yi(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(a=null===(r=f.uu("PlayReadyKeyMessage")[0])||void 0===r?void 0:r.uu("LicenseAcquisition")[0],h=null!==(e=null==a?void 0:a.uu("Challenge"))&&void 0!==e?e:[],this.oE(h)&&(o=ur(h[0].pu)),v=new Ov,d=null!==(u=null===(i=null==a?void 0:a.uu("HttpHeaders")[0])||void 0===i?void 0:i.uu("HttpHeader"))&&void 0!==u?u:[],l=0;l<d.length;l++)w=d[l],y=w.uu("name")[0].pu,g=w.uu("value")[0].pu,v.append(y,g);return this.uE=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),r.pT=function(t,n){return C.resolve(t)},r.mT=function(n,r){return t.prototype.YT.call(this,n,Iv.fb,r)},x(n,[{key:"Ls",get:function(){return Boolean(this.DT.playready.customData)}}]),n}(cd),Md=function(){function t(n){this.cE=n,this.fE=t.aE(n)}return t.aE=function(t){return"3"===t.version?hd.QT:hd.JT},t.prototype.hE=function(){var t={};if(this.fE===hd.QT){var n={LatensRegistration:ld(this.cE,hd.QT)};t["X-TITANIUM-DRM-CDATA"]=sr(JSON.stringify(n))}return t},x(t,[{key:"vE",get:function(){return this.fE}},{key:"Ls",get:function(){return this.fE===hd.JT}}]),t}();var Ud=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e)||this).dE=new Md(i.DT),i}gt(r,t);var e=r.prototype;return e.yT=function(t){var r=this.DT;if(!this.DT)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Of(r)){var e={};return e.playready={Js:qd(r,this.dE.vE)},C.resolve(e)}return C.reject(wd(r,hd.Ou))},e.WT=function(){var n=new Ov(this.dE.hE());return n.tb(t.prototype.WT.call(this)),n},e.HT=function(){var t=C.coroutine(xt.mark(function t(r,e,i){var u,o,s,c,f,a,h,v;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r.Ib){t.next=3;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,e);case 3:return t.prev=3,t.next=6,o.lE(i);case 6:f=t.sent,a=Zr(new _(f)),(h=D.Yi(a))&&(v=ov(h,"CustomData")).length>0&&(s=JSON.parse(v[0].pu),c=null===(u=s.DrmErr)||void 0===u?void 0:u.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",r,e,o.Ob,o.tE,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,r,e){return t.apply(this,arguments)}}(),e.oE=function(t){if(1!==t.length)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},x(r,[{key:"Ls",get:function(){return this.dE.Ls}}]),r}(Ld);function qd(t,n){var r=ld(t,n),e=r.DeviceInfo.FormatVersion,i=sr('<LatensRegistration formatversion="'+e+'"><AccountName>'+r.AccountName+"</AccountName><CustomerName>"+r.CustomerName+"</CustomerName><PortalID>"+r.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+r.DeviceInfo.DeviceType+"</DeviceType><OSType>"+r.DeviceInfo.OSType+"</OSType><OSVersion>"+r.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+r.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+r.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+r.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+r.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+r.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=re(("<TitaniumCustomData>"+i+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return re('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+tr(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var jd,Vd=function(t){function r(n,r,e){var i;return(i=t.call(this,n,r,e)||this)._T("https://playready-license.drm.technology/rightsmanager.asmx"),i}gt(r,t);var e=r.prototype;return e.oE=function(t){if(1!==t.length)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.zT=function(n,r){var e=Ft(Ft({},n||{}),{token:this.iE});return t.prototype.zT.call(this,e,r)},x(r,[{key:"iE",get:function(){if(Df(this.DT))return this.DT.token}}]),r}(Ld),Hd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e)||this)._T("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),i}return gt(n,t),n.prototype.zT=function(n,r){var e=n;return Sf(this.DT)&&(e=bd(this.DT,e)),t.prototype.zT.call(this,e,r)},n}(Ld),Wd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e)||this)._T("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),i}return gt(n,t),n.prototype.WT=function(){var n=t.prototype.WT.call(this);return Sd(this.DT,"PlayReady",n)},n}(Ld),zd=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r,e)||this)._T("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),i}gt(n,t);var r=n.prototype;return r.GT=function(n){return(sn(Zr(new _(n)),"<?xml")?jd.wE:jd.ZT)===jd.ZT?C.resolve(Id(n)):C.resolve(t.prototype.GT.call(this,new _(n)))},r.WT=function(){return Od(t.prototype.WT.call(this),this.iE,this.DT)},x(n,[{key:"iE",get:function(){return Cd(this.DT)}}]),n}(Ld);!function(t){t[t.wE=0]="wE",t[t.ZT=1]="ZT"}(jd||(jd={}));var Xd,Gd=function(t){function n(n,r,e){return t.call(this,n,r,e)||this}gt(n,t);var r=n.prototype;return r.WT=function(){var n=t.prototype.WT.call(this);return this.yE&&n.set("Ticket",this.yE),n.set("Content-Type","text/xml"),n},r.KT=function(){var n=C.coroutine(xt.mark(function n(r,e){var i,u;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=this.DT,n.next=3,Ad(i,"playready",this.jT,e);case 3:return u=n.sent,this._T(u.licenseServerUrl),this.yE=u.ticket,n.abrupt("return",t.prototype.KT.call(this,r,e));case 7:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),n}(Ld),Yd=function(t){function r(){return t.apply(this,arguments)||this}return gt(r,t),r.prototype.WT=function(){if(!Af(this.DT))throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.WT.call(this);return r.set("X-AxDRM-Message",this.DT.token),r},r}(Ld);!function(t){t.Kk="application/json",t.gE="application/x-www-form-urlencoded",t._E="application/octet-stream",t.zi="text/plain;charset=UTF-8"}(Xd||(Xd={}));var Kd=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,n.Bs,r,e,i,u)||this).pE="",o.mE=void 0,o.kE=n.ic,o}gt(n,t);var r=n.prototype;return r.bE=function(){return this.NT.certificateURL||this.mE},r.TE=function(t){this.mE=t},r.KT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.EE(n,this.pE));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.EE=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(tr(n))+"&assetId="+encodeURIComponent(r));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r.BT=function(t){return t.fairplay||{}},r.SE=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var r=t.split("/");return C.resolve(r[r.length-1])},r.yT=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null!==(r=this.kE)&&void 0!==r?r:ie(new _(n)),t.next=3,this.SE(e);case 3:return i=t.sent,this.pE=i,(u={}).fairplay={ic:i},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.WT=function(){var n=t.prototype.WT.call(this);return n.set("Content-Type",this.RE),n},r.pT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.TT){t.next=2;break}return t.abrupt("return",this.TT);case 2:return t.next=4,this.IE(r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.mT=function(n,r){return t.prototype.YT.call(this,n,Iv.ub,r)},r.CE=function(t){var n=this.bE(),r=this.WT(),e={vb:n,gb:bv.Yk,wb:r,yb:Sv.GET,kb:!1,lb:null,_b:0,vo:t,xu:Rv.eb,pb:Iv.ob};return new xv(e)},r.IE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.CE(n),t.next=3,this.jT.Rb(r);case 3:return e=t.sent,t.next=6,e.lE();case 6:return i=t.sent,t.abrupt("return",new _(i));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.GT=function(t){var n;if("string"==typeof t){var r=t.trim();"<ckc>"===r.substr(0,5)&&"</ckc>"===r.substr(-6)&&(r=r.slice(5,-6)),n=Qn(r)}else n=new _(t);return C.resolve(n)},r.zT=function(n,r){var e=t.prototype.zT.call(this,n,r);return sn(e,"skd:")&&(e=e.substr("skd:".length)),e},x(n,[{key:"PT",get:function(){return!0}},{key:"RE",get:function(){return Xd.gE}}]),n}(cd),$d=function(t){function n(n,r,e,i){return t.call(this,n,r,e,i,bv.Yk)||this}gt(n,t);var r=n.prototype;return r.SE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.split("://",1),e=r[0].slice(-3),r=n.split(";",2),i=r.length>1?r[1]:"",t.abrupt("return","skd"===e.toLowerCase()?i:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.KT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.GT=function(t){return C.resolve(new _(t))},r.zT=function(n,r){var e=n||{};return e.p1=wt(),t.prototype.zT.call(this,e,r)},x(n,[{key:"RE",get:function(){return Xd._E}}]),n}(Kd),Jd=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,bv.Yk)||this)._T("https://fairplay-license.drm.technology/license"),u.TE("https://fairplay-license.drm.technology/certificate"),u}gt(r,t);var e=r.prototype;return e.EE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={token:this.iE,contentId:r,payload:tr(n)},t.abrupt("return",JSON.stringify(e));case 2:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.GT=function(t){return C.resolve(new _(t))},e.WT=function(){var n=t.prototype.WT.call(this);return n.set("x-vudrm-token",this.iE),n},x(r,[{key:"RE",get:function(){return Xd.Kk}},{key:"iE",get:function(){if(!Df(this.DT))throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.DT.token}}]),r}(Kd),Qd="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Zd="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",tl=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,bv.Yk)||this}return gt(r,t),r.prototype.GT=function(r){var e=function(t){var r;try{r=JSON.parse(t).ckc}catch(t){throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Qd)}if(!r)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Zd);return r}(Zr(new DataView(r)));return t.prototype.GT.call(this,e)},r}(Kd);var nl=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,bv.Kk)||this}gt(r,t);var e=r.prototype;return e.KT=function(){var t=C.coroutine(xt.mark(function t(r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.DT){t.next=3;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return i=tr(r),t.abrupt("return",yd(e,i,hd.Nu));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.GT=function(t){try{var r;if(Q(t)){var e=t.trim();r=JSON.parse(e)}else r=t;if(r.license){var i=ur(r.license);return C.resolve(new _(i))}return C.reject(new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.HT=function(t,n,r){return gd(t,n,r)},x(r,[{key:"RE",get:function(){return Xd.Kk}}]),r}(Kd),rl=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,bv.Yk)||this)._T("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.TE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}gt(n,t);var r=n.prototype;return r.bE=function(){var n=t.prototype.bE.call(this);if(!n)return n;var r=D.Mc(n),e=this.DT;return Sf(e)&&to(r,{accountId:e.accountId,applicationId:e.applicationId||""}),r.href},r.SE=function(){var n=C.coroutine(xt.mark(function n(r){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Sf(this.DT)){n.next=2;break}return n.abrupt("return",this.DT.contentId);case 2:return n.abrupt("return",t.prototype.SE.call(this,r));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r.KT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.GT=function(t){return C.resolve(new _(t))},r.zT=function(n,r){var e=n;return Sf(this.DT)&&(e=function(t,n){return Ft(Ft({},bd(t,n)),{KeyId:t.keyId})}(this.DT,e)),t.prototype.zT.call(this,e,r)},x(n,[{key:"RE",get:function(){return Xd._E}}]),n}(Kd),el=function(t){function r(r,e,i,u){var o;if(o=t.call(this,r,e,i,u,bv.zi)||this,!Ef(e))throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o._T("https://connect.conax.com:8097/license"),o}gt(r,t);var e=r.prototype;return e.WT=function(){var n=t.prototype.WT.call(this);return Sd(this.DT,"FairPlay",n)},e.IE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.bE(),e={vb:r,gb:bv.Yk,wb:{},yb:Sv.GET,kb:!1,lb:null,_b:0,vo:n,xu:Rv.eb,pb:Iv.ob},t.next=4,this.jT.Rb(e);case 4:return i=t.sent,t.next=7,i.lE();case 7:return u=t.sent,t.abrupt("return",new _(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.KT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.SE=function(t){var n,r=t.indexOf("?");return 0===t.indexOf("skd://")?(n=r>=0?t.substring("skd://".length,r):t.substring("skd://".length),C.resolve(Zr(Qn(n)))):C.resolve("unknown")},e.GT=function(t){try{var n=JSON.parse(t);return C.resolve(new _(ur(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},r}(Kd),il=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,bv.zi)||this)._T(gf[Ht.Nu]),u}gt(r,t);var e=r.prototype;return e.SE=function(t){return 0===t.indexOf("skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new Dc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.EE=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+tr(n)+"&assetId="+r);case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),r}(Kd),ul=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,bv.zi)||this)._T("https://lic.drmtoday.com/license-server-fairplay/"),u}gt(n,t);var r=n.prototype;return r.EE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e="spc="+encodeURIComponent(tr(n))+"&"+encodeURI(r),"persistent"!==this.NT.licenseType){t.next=3;break}return t.abrupt("return",e+"&offline=true");case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.WT=function(){return Od(t.prototype.WT.call(this),this.iE,this.DT)},x(n,[{key:"iE",get:function(){return Cd(this.DT)}}]),n}(Kd),ol=function(t){function n(n,r,e,i){return t.call(this,n,r,e,i,bv.Yk)||this}gt(n,t);var r=n.prototype;return r.SE=function(t){var n=t;return sn(n,"skd:")&&(n="http:"+n.substring(4)),sn(n,"http:")||sn(n,"https:")?C.resolve(D.Mc(n).hostname):C.reject(new h("Could not parse ExpressPlay FairPlay content ID."))},r.KT=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.GT=function(t){return C.resolve(new _(t))},x(n,[{key:"RE",get:function(){return Xd._E}}]),n}(Kd),sl=function(t){function n(n,r,e,i){return t.call(this,n,r,e,i,bv.zi)||this}return gt(n,t),n.prototype.WT=function(){var n=t.prototype.WT.call(this),r=this.DT.token;return n.set("Authorization","Bearer "+r),n},n}(Kd),cl=function(t){function n(n,r,e,i){var u;if(u=t.call(this,n,r,e,i,bv.Kk)||this,!Nf(r))throw new h("Invalid Xstream DRM configuration");return u}gt(n,t);var r=n.prototype;return r.IE=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.bE(),e=this.WT(),i={vb:r,gb:bv.Kk,wb:e,yb:Sv.POST,vo:n,xu:Rv.eb,pb:Iv.ob},t.next=5,this.jT.Rb(i);case 5:return u=t.sent,t.next=8,u.ZT();case 8:return o=t.sent,t.abrupt("return",new _(Qn(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.mT=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i,u,o,s,c,f,a;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=bv.zi),i=tr(n),u=this.DT,t.next=5,Ad(u,"fairplay",this.jT,r);case 5:return o=t.sent,s=te(JSON.stringify({spc:i,ticket:o.ticket})),c={vb:this.MT(),gb:bv.Kk,wb:this.WT(),yb:Sv.POST,lb:s,_b:0,vo:r,xu:Rv.eb,pb:Iv.ub},t.next=10,this.jT.Rb(c);case 10:return f=t.sent,t.next=13,f.ZT();case 13:return a=t.sent,t.abrupt("return",Qn(a.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),x(n,[{key:"RE",get:function(){return Xd.Kk}}]),n}(Kd),fl=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,bv.zi)||this}gt(r,t);var e=r.prototype;return e.EE=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",tr(n));case 1:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),e.GT=function(r){if(0===r.length)throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.GT.call(this,r)},e.WT=function(){var n=t.prototype.WT.call(this);return n.set("Content-Type","text/plain"),n},r}(Kd),al=function(t){function r(n,r,e,i){return t.call(this,n,r,e,i,bv.Yk)||this}gt(r,t);var e=r.prototype;return e.EE=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.GT=function(t){return C.resolve(new _(t))},e.WT=function(){if(!Af(this.DT))throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var r=t.prototype.WT.call(this);return r.set("X-AxDRM-Message",this.DT.token),r},x(r,[{key:"RE",get:function(){return Xd.Kk}}]),r}(Kd),hl=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,bv.Kk)||this).OE=void 0,u}gt(r,t);var e=r.prototype;return e.EE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={spc:tr(n)},t.abrupt("return",JSON.stringify(e));case 2:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),e.SE=function(t){var r=D.Mc(t);return this.OE=t,r.searchParams.has("b")?C.resolve(r.searchParams.get("b")):C.reject(new Dc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.zT=function(n,r){var e=this.MT();return!e&&this.OE&&(e=this.OE),e&&(e=e.replace("skd://","https://")),t.prototype.zT.call(this,n,r||e)},e.GT=function(){var t=C.coroutine(xt.mark(function t(r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=Q(r)?JSON.parse(r.trim()):r).ckc){t.next=4;break}return t.abrupt("return",Qn(e.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),x(r,[{key:"RE",get:function(){return Xd.zi}}]),r}(Kd),vl=function(){function t(t,n){this.DE=t,this.NE=n}var n=t.prototype;return n.AE=function(t){return this.DE(t)},n.PE=function(t,n){throw new v(n+" must be "+this.NE+". (Received: "+t+")")},t}(),dl=new vl(nt,"a number"),ll=new vl(Q,"a string"),wl=new vl(Z,"a boolean");var yl,gl=(yl={responseCode:dl,isException:wl,description:ll,title:ll,correlationId:ll},{AE:function(t){if(!$(t))return!1;for(var n=0,r=d.keys(yl);n<r.length;n++){var e=r[n];if(!yl[e].AE(t[e]))return!1}return!0},PE:function(t,n){if(!$(t))throw new v(n+" must be an object.");for(var r=0,e=d.keys(yl);r<e.length;r++){var i=e[r],u=yl[i];if(!u.AE(t[i]))return u.PE(t[i],n+"."+i)}throw new v}});function _l(t,n,r,e,i){return pl.apply(this,arguments)}function pl(){return(pl=C.coroutine(xt.mark(function t(n,r,e,i,u){var o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=ml(n,r,e,u),t.next=3,kl(o,i);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ml(t,n,r,e){var i={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var r=D.Mc(t);return to(r,n),r.toString()}(r,i)),o=new Ov({});o.append("Content-Type","application/json");var s=tr(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{vb:u,gb:bv.zi,wb:o,yb:Sv.POST,lb:JSON.stringify(c),vo:e,xu:Rv.eb,pb:Iv.ub}}function kl(t,n){return bl.apply(this,arguments)}function bl(){return(bl=C.coroutine(xt.mark(function t(r,e){var i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Rb(r);case 2:return i=t.sent,t.next=5,i.ZT();case 5:if(u=t.sent,!gl.AE(u)){t.next=8;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,r.vb,u.responseCode);case 8:return t.abrupt("return",Qn(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Tl=function(t){function n(n,r,e,i){var u;return(u=t.call(this,n,r,e,i,bv.Yk)||this).xE=r,u}gt(n,t);var r=n.prototype;return r.SE=function(n){var r=n.replace("FairPlay",this.xE.releasePid);return t.prototype.SE.call(this,r)},r.mT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_l(n,this.xE,this.MT(),this.jT,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(Kd),El=function(t){function r(n,r,e){return t.call(this,en,n,r,e,bv.Yk)||this}gt(r,t);var e=r.prototype;return e.BT=function(t){return t.clearkey||{}},e.KT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ad(n,this.NT));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.UT=function(){var r=C.coroutine(xt.mark(function r(e,i,u,o){var s,c;return xt.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(s=this.NT,!this.MT()){r.next=5;break}return r.abrupt("return",t.prototype.UT.call(this,e,this.FT,u,o));case 5:if(!s.keys||!s.keys.length){r.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},r.abrupt("return",te(JSON.stringify(c)).buffer);case 10:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return r.stop()}},r,this)}));return function(t,n,e,i){return r.apply(this,arguments)}}(),e.pT=function(t,n){return C.resolve(new _(0))},e.mT=function(n,r){return t.prototype.YT.call(this,n,Iv.ab,r)},r}(cd),Sl=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.KT=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ad(n,this.NT));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n}(vd),Rl={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Il(t,n,r){return Cl.apply(this,arguments)}function Cl(){return(Cl=C.coroutine(xt.mark(function t(n,r,e){var i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Vl(r),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Cn(C.resolve(u.call(n,i)),e);case 8:if(!ce(o=t.sent)){t.next=11;break}return t.abrupt("return",fe(o));case 11:return t.abrupt("return",jl(Ft(Ft({},Rl),o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ol(t,n,r,e,i){return Dl.apply(this,arguments)}function Dl(){return(Dl=C.coroutine(xt.mark(function t(n,r,e,i,u){var o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=ql(r,e,i),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Cn(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",fe(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Nl(t,n,r,e){return Al.apply(this,arguments)}function Al(){return(Al=C.coroutine(xt.mark(function t(n,r,e,i){var u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fl(n,r,e,i);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",jl(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Pl(t,n,r,e,i,u){return xl.apply(this,arguments)}function xl(){return(xl=C.coroutine(xt.mark(function t(n,r,e,i,u,o){var s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Ul(e,u),t.next=3,Ll(n,new _(r),s,i,o);case 3:return c=t.sent,t.abrupt("return",fe(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Fl(t,n,r,e){return Bl.apply(this,arguments)}function Bl(){return(Bl=C.coroutine(xt.mark(function t(n,r,e,i){var u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Ul(r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(o));case 5:return t.next=8,Cn(C.resolve(u.call(n,o)),i);case 8:if(!ce(s=t.sent)){t.next=11;break}return t.abrupt("return",fe(s).buffer);case 11:return t.abrupt("return",Ft(Ft({fairplaySkdUrl:void 0},Rl),s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ll(t,n,r,e,i){return Ml.apply(this,arguments)}function Ml(){return(Ml=C.coroutine(xt.mark(function t(n,r,e,i,u){var o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=ql(r,e,i),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(r));case 5:return t.next=8,Cn(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",fe(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ul(t,n){return Ft(Ft({},Vl(t)),{fairplaySkdUrl:n})}function ql(t,n,r){return{url:r.Cb,status:r.Ob,statusText:r.tE,headers:r.wb.Qk(),body:t,request:n}}function jl(t){return new xv({vb:t.url,yb:t.method,wb:t.headers,lb:t.body,kb:t.useCredentials})}function Vl(t){var n;return{url:t.vb,body:null!==(n=Hl(t.lb))&&void 0!==n?n:null,headers:t.wb.Qk(),method:t.yb,useCredentials:t.kb}}function Hl(t){if(t)return"string"==typeof t?te(t):t instanceof ArrayBuffer?new _(t):rr(t)?se(t):void 0}var Wl=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e)||this).FE=i,u}gt(r,t);var e=r.prototype;return e.pT=function(t,n){return C.resolve(t)},e.mT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sE(ae(r).buffer);case 2:return i=t.sent,u=this.qT(i,bv.Yk,Iv.fb,e),t.next=6,Nl(this.FE,u,void 0,e);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new _(o));case 10:if(""!==o.vb){t.next=12;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.jT.Rb(o);case 15:return s=t.sent,t.next=18,s.lE(e);case 18:return c=t.sent,t.t0=_,t.next=22,Pl(this.FE,c,u,s,void 0,e);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Rn(t.t2),new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(Ld),zl=function(t){function r(n,r,e,i){var u;return(u=t.call(this,n,r,e,bv.Yk)||this).FE=i,u}gt(r,t);var e=r.prototype;return e.pT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.TT){t.next=2;break}return t.abrupt("return",this.TT);case 2:return i=this.qT(r,bv.Yk,Iv.cb,e),t.next=5,Il(this.FE,i,e);case 5:if(!((u=t.sent)instanceof _)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.vb){t.next=11;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.jT.Rb(u);case 14:return o=t.sent,t.next=17,o.lE(e);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Rn(t.t0),new Dc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Ul(i,void 0),t.next=27,Ol(this.FE,new _(s),c,o,e);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,r){return t.apply(this,arguments)}}(),e.mT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.qT(r,bv.Yk,Iv.sb,e),t.next=3,Nl(this.FE,i,void 0,e);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.vb){t.next=9;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jT.Rb(u);case 12:return o=t.sent,t.next=15,o.lE(e);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Rn(t.t0),new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=_,t.next=25,Pl(this.FE,s,i,o,void 0,e);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,r){return t.apply(this,arguments)}}(),r}(Sl),Xl=function(t){function r(n,r,e,i,u){var o;return(o=t.call(this,n,r,e,i,bv.Yk)||this).FE=u,o}gt(r,t);var e=r.prototype;return e.pT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.TT){t.next=2;break}return t.abrupt("return",this.TT);case 2:return i=this.CE(e),t.next=5,Il(this.FE,i,e);case 5:if(u=t.sent,!rr(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.jT.Rb(u);case 11:return o=t.sent,t.next=14,o.lE();case 14:return s=t.sent,c=Ul(i,void 0),t.next=18,Ol(this.FE,new _(s),c,o,e);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Rn(t.t0),new Dc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,r){return t.apply(this,arguments)}}(),e.mT=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.qT(r,bv.Yk,Iv.ub,e),t.next=3,Nl(this.FE,i,this.BE,e);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new _(u));case 7:if(""!==u.vb){t.next=9;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jT.Rb(u);case 12:return o=t.sent,t.next=15,o.lE(e);case 15:return s=t.sent,t.t0=_,t.next=19,Pl(this.FE,s,i,o,this.BE,e);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Rn(t.t2),new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,r){return t.apply(this,arguments)}}(),e.SE=function(){var n=C.coroutine(xt.mark(function n(r){var e;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.BE=r,!(null===(e=this.FE)||void 0===e?void 0:e.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",C.resolve(this.FE.extractFairplayContentId(r)));case 3:return n.abrupt("return",t.prototype.SE.call(this,r));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),r}(Kd),Gl=function(){function t(){}var n=t.prototype;return n.LE=function(t,n){return new od(t,n,this)},n.ME=function(t,n,r,e){switch(t.Bs.xu){case Ht.Du:return this.UE(n,r,e);case Ht.Ou:return this.qE(n,r,e);case Ht.Nu:return this.jE(t,n,r,e);case Ht.Au:default:return this.VE(n,r,e)}},n.UE=function(t,n,r){var e,i=(e=t).integration===Jc&&Q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(i&&cf.bl.pl(i,$t)){var u=cf.bl.kl(i,$t,t);return new zl(t,n,r,u)}switch(i){case Bc:return new md(t,n,r);case qc:return new kd(t,n,r);case Uc:return new Td(t,n,r);case Lc:return new Rd(t,n,r);case Hc:return new Dd(t,n,r);case zc:return new Nd(t,n,r);case Xc:return new xd(t,n,r);case Yc:return new Fd(t,n,r);case Vc:default:return new Sl(t,n,r,bv.Yk)}},n.qE=function(t,n,r){var e=t.integration;if(e&&cf.bl.pl(e,Gt)){var i=cf.bl.kl(e,Gt,t);return new Wl(t,n,r,i)}switch(e){case Bc:return new Ud(t,n,r);case qc:return new Vd(t,n,r);case Uc:return new Hd(t,n,r);case Lc:return new Wd(t,n,r);case Hc:return new zd(t,n,r);case Xc:return new Gd(t,n,r);case Yc:return new Yd(t,n,r);case Vc:default:return new Ld(t,n,r)}},n.jE=function(t,n,r,e){var i=n.integration;if(i&&cf.bl.pl(i,Qt)){var u=cf.bl.kl(i,Qt,n);return new Xl(t,n,r,e,u)}switch(i){case Mc:return new $d(t,n,r,e);case qc:return new Jd(t,n,r,e);case jc:return new tl(t,n,r,e);case Bc:return new nl(t,n,r,e);case Uc:return new rl(t,n,r,e);case Lc:return new el(t,n,r,e);case Vc:return new il(t,n,r,e);case Hc:return new ul(t,n,r,e);case Wc:return new ol(t,n,r,e);case zc:return new sl(t,n,r,e);case Xc:return new cl(t,n,r,e);case Gc:return new fl(t,n,r,e);case Yc:return new al(t,n,r,e);case Kc:return new hl(t,n,r,e);case $c:return new Tl(t,n,r,e);default:return new Kd(t,n,r,e,bv.zi)}},n.VE=function(t,n,r){return new El(t,n,r)},n.HE=function(t){return t.xu===Ht.Ou||t.xu===Ht.Du||t.xu===Ht.Nu||t.xu===Ht.Au},t}();function Yl(t,n){switch(n){case Ht.Du:return t.widevine;case Ht.Ou:return t.playready;case Ht.Nu:return t.fairplay;default:return}}var Kl,$l=function(t){function r(n,r,e){var i;return void 0===e&&(e=new Gl),(i=t.call(this,e)||this).WE=void 0,i.us=void 0,i.zE=new $v,i.XE=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.rT(n.Bu,n.Fo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),En(t.t0)||i.Xs(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.GE=function(t){i.wo(t)},i.YE=function(t){i.wo(t),i.wo(new td(t.errorObject))},i.KE=n,i.xb=r,i.KE._o(Ln.No,i.XE),i}gt(r,t);var e=r.prototype;return e.uT=function(){var t;return null===(t=this.us)||void 0===t?void 0:t.Bs},e.Ns=function(t){if(this.WE)throw new h("Invalid state");this.WE=t},e.Jb=function(n){if(!this.WE)throw new h("Invalid state");t.prototype.Jb.call(this,n)},e.nT=function(){var t=C.coroutine(xt.mark(function t(r,e,i){var u,o,s,c,f,a,h,v,d,l;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn(i),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Kb&&this.Kb.Zb.length){t.next=5;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.Kb,r===Wt||r===Xt||r===zt){t.next=9;break}return t.abrupt("return");case 9:o=Ff(r,e),c=0,f=u.Zb;case 11:if(!(c<f.length)){t.next=41;break}if(a=f[c],Sn(i),(h=o[a.Bs.Lu])&&a.Bs.Bu===r){t.next=17;break}return t.abrupt("continue",38);case 17:return t.prev=17,t.next=20,this.$E(a.Bs,i);case 20:if(!(v=t.sent).PT){t.next=24;break}return t.next=24,v.ET();case 24:if(d=this.KE.Yd,!this.JE(v,a.Bs.Bu,h,d)){t.next=31;break}return t.next=28,v.IT(a.Bs.Bu,h,d);case 28:return l=t.sent,t.next=31,l._s();case 31:return t.abrupt("return");case 34:t.prev=34,t.t0=t.catch(17),Rn(t.t0),s=t.t0;case 38:c++,t.next=11;break;case 41:return t.next=43,D.$u();case 43:if(!t.sent){t.next=47;break}throw new Dc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 47:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 48:case"end":return t.stop()}},t,this,[[17,34]])}));return function(n,r,e){return t.apply(this,arguments)}}(),e.JE=function(t,n,r,e){return D.Wf.kf||!t.OT(n,r,e)},e.$E=function(t,n){var r=this;return this.zE.Gb(function(n){return r.QE(t,n)},n)},e.QE=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn(r),this.Kb){t.next=3;break}throw new h("Not initialized");case 3:if(!this.us){t.next=7;break}if(this.us.Bs===n){t.next=6;break}throw new h("Internal key system error");case 6:return t.abrupt("return",this.us);case 7:if(this.$b.HE(n)){t.next=9;break}throw new h("Unsupported "+n.Uu+" key system");case 9:if(e=this.ZE(n)){t.next=12;break}throw new h("Missing configuration for "+n.Uu+" key system");case 12:return i=this.Kb,u=this.$b.ME(e,i.DT,e.AT,this.xb),t.next=16,this.xs(n,e,u,r);case 16:return o=t.sent,(s=this.$b.LE(o,u))._o(As.Nh,this.GE),s._o(As.Dh,this.YE),s._o(As.ov,this.lo),this.us=s,t.abrupt("return",s);case 23:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.xs=function(){var t=C.coroutine(xt.mark(function t(n,r,e,i){var u,o,s,c,f,a,h,v;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.Kb,o=n.Bu,s=Yl(u.DT,r.Bs.xu),c=(null==s?void 0:s.persistentState)||e.$T,f=(null==s?void 0:s.distinctiveIdentifier)||void 0,a=Boolean(null==s?void 0:s.audioRobustness)||Boolean(null==s?void 0:s.videoRobustness),t.prev=6,Sn(i),h=Jl(u,o,c,f,e.Ls,(null==s?void 0:s.audioRobustness)||"SW_SECURE_CRYPTO",(null==s?void 0:s.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=11,this.WE.tS(n,[h]);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(6),Rn(t.t0),Sn(i),!a){t.next=20;break}throw t.t0;case 20:return v=Jl(u,o,c,f,e.Ls,void 0,void 0),t.next=23,this.WE.tS(n,[v]);case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[6,14]])}));return function(n,r,e,i){return t.apply(this,arguments)}}(),e.ZE=function(t){if(this.Kb)for(var n=0,r=this.Kb.Zb;n<r.length;n++){var e=r[n];if(e.Bs===t)return e}},e.Xs=function(t){var r=t instanceof Dc?t:new Dc(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.YE(new Qv(r))},e.nS=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zE.fo();case 2:if(!(n=this.us)){t.next=8;break}return n.ko(As.ov,this.lo),this.us=void 0,t.next=8,n.oe();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.eT=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WE=void 0,t.next=3,this.nS();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.oe=function(){var n=C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.KE.ko(Ln.No,this.XE),n.next=3,t.prototype.oe.call(this);case 3:return n.next=5,this.zE.oe();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r}(Zv);function Jl(t,n,r,e,i,u,o){return{initDataTypes:[n],audioCapabilities:Ql(t.rS,u),videoCapabilities:Ql(t.eS,o),persistentState:r,distinctiveIdentifier:e,Ls:i}}function Ql(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}!function(t){t[t.iS=0]="iS",t[t.uS=1]="uS"}(Kl||(Kl={}));var Zl=t,tw=Zl.MediaSource,nw=Zl.WebKitMediaSource,rw=Zl.TextTrack,ew=i&&i.createElement("video"),iw=(i&&i.documentElement.style,W.ui&&W.Pi&&W.xi<=26),uw=(W.gi,!(!tw&&!nw)),ow=!!rw,sw=(i&&(i.fullscreenEnabled||i.webkitFullscreenEnabled||i.mozFullScreenEnabled||i.msFullscreenEnabled)||W.wi,W.Oi&&W.Di,ew&&ew.canPlayType&&(""!==ew.canPlayType("application/vnd.apple.mpegURL")||W.ci&&!W.Oi&&W.fi),ew&&ew.canPlayType&&""!==ew.canPlayType("video/mp4")&&!iw),cw=uw&&!W.Ni&&!W.Ri&&!W.Si&&((tw||nw).isTypeSupported?(tw||nw).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ew&&ew.canPlayType&&""!==ew.canPlayType('audio/mp4; codecs="mp4a.40.34"'));uw&&!W.Ni&&(cw||((tw||nw).isTypeSupported?(tw||nw).isTypeSupported("audio/mpeg"):ew&&ew.canPlayType&&ew.canPlayType("audio/mpeg"))),uw&&!(W.Ci&&W.ui)&&(tw||nw).isTypeSupported&&(tw||nw).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),W.Ni||W.Ri||W.Si,W.Ii,W.Ni,W.Ri&&W.oi&&W.si;try{e&&e.top!==e.self}catch(t){!0}var fw,aw=function(t){function n(n){var r;return(r=t.call(this,Ss.ph)||this).currentTime=n,r}return gt(n,t),n}(qn),hw=function(t){function n(n){var r;return(r=t.call(this,Ss.mh)||this).currentTime=n,r}return gt(n,t),n}(qn),vw=function(t){function n(n,r){var e;return void 0===r&&(r=!1),(e=t.call(this)||this).oS=n,e.sS=r,e.cS=Os.kh,e.fS=!0,e.aS=!1,e.hS=!1,e.vS=function(t){var n=t.readyState;n!==e.cS&&e.wo(t),n===Os.kh&&(e.aS=!1,e.hS=!1),e.dS(n),e.lS(n),e.wS(n),e.maybeDispatchCanPlayThroughEvent(n),e.yS(n),e.gS(n),e.cS=n},e._S=function(){e.gS(e.cS),e.yS(e.cS),e.fS=e.oS.Kv},e.pS=function(){e.fS=e.oS.Kv},e.oS._o(Ss.ba,e.vS),e.oS._o(As.zh,e._S),e.oS._o(As.Wh,e.pS),e.sS&&e.oS._o(Ss.mh,e.lo),e}gt(n,t);var r=n.prototype;return r.dS=function(t){!this.hS&&t>=Os.bh&&(this.hS=!0,this.wo(new Ws(this.oS.Wv,t)))},r.lS=function(t){!this.aS&&t>=Os.Th&&(this.aS=!0,this.wo(new Us(this.oS.Wv,t)))},r.yS=function(t){this.sS||(t>=Os.Eh&&this.cS<Os.Eh&&!this.oS.Kv||this.mS&&t>=Os.Eh)&&this.wo(new hw(this.oS.Wv))},r.gS=function(t){!this.kS(t)||this.oS.Xv||this.oS.Do||this.wo(new aw(this.oS.Wv))},r.wS=function(t){this.cS<=Os.Th&&t>=Os.Eh&&this.wo(new xs(this.oS.Wv,t))},r.maybeDispatchCanPlayThroughEvent=function(t){t===Os.Sh&&this.wo(new Ps(this.oS.Wv,t))},r.kS=function(t){var n=!this.oS.Kv&&t<=Os.Th,r=!this.fS&&this.cS<=Os.Th;return n&&!r},r.Ba=function(){this.cS=Os.kh,this.fS=!0,this.aS=!1,this.hS=!1},r.oe=function(){this.mo(),this.sS&&this.oS.ko(Ss.mh,this.lo),this.oS.ko(As.zh,this._S),this.oS.ko(As.Wh,this.pS),this.oS.ko(Ss.ba,this.vS)},x(n,[{key:"mS",get:function(){return!this.oS.Kv&&this.fS}}]),n}(Mn);!function(t){t.bS="nokey",t.TS="keyexpired",t.ES="sessionnotopened",t.SS="insufficientoutputprotection",t.RS="insufficientsecurity",t.IS="frametoolarge",t.CS="loststate",t.OS="resourcebusy",t.DS="unsupportedoperation"}(fw||(fw={}));var dw,lw,ww,yw=[fw.DS,fw.OS,fw.CS,fw.IS,fw.RS,fw.SS,fw.ES,fw.TS,fw.bS],gw=[As.Nh,As.Dh,_s.nh];[].concat(ud,[_s.nh],yw);function _w(){return ww||(ww=S&&S.document&&S.document.createElement("video")),ww}!function(t){t.rw="video",t.ew="audio"}(dw||(dw={})),function(t){t[t.NS=0]="NS",t[t.AS=1]="AS",t[t.PS=2]="PS",t[t.Mv=3]="Mv",t[t.xS=4]="xS",t[t.Hv=5]="Hv",t[t.FS=6]="FS",t[t.BS=7]="BS"}(lw||(lw={}));var pw=function(t){function r(r,e,i,u,o,s,c){var f;return void 0===s&&(s=new Gl),void 0===c&&(c=ni()),(f=t.call(this)||this).WE=void 0,f.LS=void 0,f.MS=void 0,f.US=void 0,f.qS=function(t){var r=t.Do,e=r.code,i=new Be(function(t){switch(t){case Cc.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Cc.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Cc.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Cc.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Cc.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Cc.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Cc.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",r);f.LS=new Nc(e,i.message,r.message),f.MS=i,f.wo(new td(i))},f.jS=function(){f.wo(new js(f.Wv,f.zd))},f.VS=function(t){f.Kv||(f.US=void 0),f.wo(t)},f.HS=function(t){f.US=void 0,f.wo(t)},f.WS=function(){f.wo(new Za(f.Yd))},f.zS=function(){f.Zv>0&&f.Qv>0&&f.wo(new Kv)},f.XS=function(t){f._d.Pa(new Xa(t.track))},f.GS=function(t){var n=kw(f._d,t.track);n&&f._d.xa(n)},f.YS=function(){f.KS(f._d)},f.$S=function(t){f.pd.Pa(new Qa(t.track))},f.JS=function(t){var n=kw(f.pd,t.track);n&&f.pd.xa(n)},f.QS=function(){f.KS(f.pd)},f.ZS=function(t){t.type===As.Dh&&(f.LS=Pc(t.errorObject),f.MS=t.errorObject),f.lo(t)},f.tR=e,f.xb=i,f.Vu=c,f.KE=f.tR.te(ea.rw),f.nR=f.KE.rR.preload,f.$b=s,f.eR=new vw(f.KE,!0),f.eR._o(Ds,f.lo),f.iR=new $l(f.KE,f.xb,f.$b),f.iR._o(gw,f.ZS),f.uR(),f._d=new La,f.pd=new La,f.oR(),f.sR=new Hv(f.KE,f.xb),f.md=new Rs,f.xd(),f}gt(r,t);var e=r.prototype;return e.Fd=function(){this.KE.Fd()},e.xd=function(){this.KE.xd()},e.Cd=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(e),i={xu:Kl.iS,hh:n.src,cR:n.type,fR:[],ol:this.nR,aR:n.crossOrigin,hR:r.metadata&&r.metadata.title},t.next=4,this.KE.ps(i);case 4:return this.WE=t.sent,Sn(e),t.next=8,this.iR.Ba();case 8:this.iR.Ns(this.WE),this.iR.Jb(this.vR(n)),this.md.Wa=this.KE.Sd,r.textTracks&&this.dR(r.textTracks),Yv(this.Sd);case 13:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),e.dR=function(t){for(var n,r=0;r<t.length;r++){var e=t[r];if(this.KE.lR()&&W.wi&&ow&&!Bv(e.kind,e.label)&&this.wR(e)){var i=null!==(n=e.kind)&&void 0!==n?n:la.Dp;this.KE.yR(e.src,i,e.label,e.srclang)}else{if(void 0===e.src)continue;this.sR.Fb(e)}}},e.wR=function(t){return!t.format||"webvtt"===t.format},e.re=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.KE.re();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.gR){t.next=12;break}return t.next=10,this.KE.Eo(As.Xh);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),e.ee=function(){this.KE.ee()},e.Od=function(){return void 0!==this.KE.rR.webkitShowPlaybackTargetPicker},e.Dd=function(){this.KE.rR.webkitShowPlaybackTargetPicker&&this.KE.rR.webkitShowPlaybackTargetPicker()},e.Nd=function(){this.KE.rR.webkitShowPlaybackTargetPicker&&this.KE.rR.webkitShowPlaybackTargetPicker()},e.Bd=function(){return this.KE.rR},e.Ld=function(){return this.KE._R},e.Ba=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.LS=void 0,this.MS=void 0,this.WE&&(this.WE=void 0),this.md.Ba(),t.next=6,this.KE.Ba();case 6:return this.eR.Ba(),t.next=9,this.iR.Ba();case 9:return this.ol=this.nR,this.Td.Ba(),this.Ed.Ba(),t.next=14,this.sR.Ba();case 14:this.US=void 0;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ba();case 2:return this.mo(),this.pR(),this.mR(),t.next=7,this.iR.oe();case 7:return this.eR.oe(),t.next=10,this.tR.ie(this.KE);case 10:return this._d.oe(),this.pd.oe(),this.md.oe(),t.next=15,this.sR.oe();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.uR=function(){this.KE._o(As.zh,this.lo),this.KE._o(As.Wh,this.lo),this.KE._o(As.iv,this.jS),this.KE._o(As.Xh,this.lo),this.KE._o(As.Uh,this.lo),this.KE._o(As.Jh,this.lo),this.KE._o(As.$h,this.VS),this.KE._o(As.Bh,this.lo),this.KE._o(As.Gh,this.lo),this.KE._o(As.uv,this.lo),this.KE._o(As.xh,this.lo),this.KE._o(As.Kh,this.zS),this.KE._o(Ss.mh,this.HS),this.KE._o(_s.nh,this.qS),this.KE.rR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.WS)},e.pR=function(){this.KE.ko(As.zh,this.lo),this.KE.ko(As.Wh,this.lo),this.KE.ko(As.iv,this.jS),this.KE.ko(As.Xh,this.lo),this.KE.ko(As.Uh,this.lo),this.KE.ko(As.Jh,this.lo),this.KE.ko(As.$h,this.VS),this.KE.ko(As.Bh,this.lo),this.KE.ko(As.Gh,this.lo),this.KE.ko(As.uv,this.lo),this.KE.ko(As.xh,this.lo),this.KE.ko(As.Kh,this.zS),this.KE.ko(Ss.mh,this.HS),this.KE.ko(_s.nh,this.qS),this.KE.rR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.WS)},e.vR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{DT:t.contentProtection||{},Zb:[{Bs:rn,tT:[],AT:void 0,ic:void 0}],rS:[],eS:["video/mp4"]}}},e.oR=function(){var t=this.KE.rR.audioTracks,n=this.KE.rR.videoTracks;t&&(t.addEventListener("addtrack",this.XS),t.addEventListener("removetrack",this.GS),t.addEventListener("change",this.YS)),n&&(n.addEventListener("addtrack",this.$S),n.addEventListener("removetrack",this.JS),n.addEventListener("change",this.QS))},e.mR=function(){var t=this.KE.rR.audioTracks,n=this.KE.rR.videoTracks;t&&(t.removeEventListener("addtrack",this.XS),t.removeEventListener("removetrack",this.GS),t.removeEventListener("change",this.YS)),n&&(n.removeEventListener("addtrack",this.$S),n.removeEventListener("removetrack",this.JS),n.removeEventListener("change",this.QS))},e.KS=function(t){for(var n=0;n<t.Ma;n++){t.Aa(n).Hp()}},e.Hd=function(){this.iR.nS().then(rt)},x(r,[{key:"gR",get:function(){var t=this.KE.Wd,n=new wo(this.Wv),r=new wo(.01);return t.Q_(n,r)}},{key:"Td",get:function(){return this._d}},{key:"Wd",get:function(){return this.KE.Wd.W_()}},{key:"zd",get:function(){return this.KE.zd},set:function(t){t&&this.KE.kR(t)}},{key:"Wv",get:function(){return void 0!==this.US?this.US:this.KE.Wv},set:function(t){this.Yd&&(this.US=t),this.KE.zo(t)}},{key:"zv",get:function(){return this.KE.zv}},{key:"Xv",get:function(){return this.KE.Xv}},{key:"Do",get:function(){return this.LS}},{key:"Gv",get:function(){return this.MS}},{key:"Gd",get:function(){}},{key:"Yd",get:function(){return this.KE.Yd}},{key:"Kd",get:function(){return Ft(Ft({},{$d:0,Jd:0,Qd:0,Zd:0,tl:0,nl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.KE.bR())}},{key:"Yv",get:function(){return this.KE.Yv},set:function(t){this.KE.Yv=t}},{key:"il",get:function(){return!0}},{key:"Kv",get:function(){return this.KE.Kv}},{key:"$v",get:function(){return this.KE.$v},set:function(t){this.KE.$v=t}},{key:"ul",get:function(){return this.KE.rR.played}},{key:"ol",get:function(){return this.nR},set:function(t){this.nR=t,this.WE&&(this.WE.ol=t)}},{key:"sh",get:function(){return this.KE.sh}},{key:"sl",get:function(){return this.KE.sl.W_()}},{key:"Jv",get:function(){return this.KE.Jv}},{key:"TR",get:function(){return this.KE.TR}},{key:"Sd",get:function(){return this.md}},{key:"Ed",get:function(){return this.pd}},{key:"Qv",get:function(){return this.KE.Qv}},{key:"Zv",get:function(){return this.KE.Zv}},{key:"td",get:function(){return this.KE.td},set:function(t){this.KE.td=t}}]),r}(Is);var mw=function(){function t(){this.ER=lw.BS}var n=t.prototype;return n.wl=function(t,n,r,e,i,u){return new pw(t,n,r,e,i)},n.SR=function(t,n){return function(t){return!t.type||!(!_w().canPlayType||!_w().canPlayType(t.type))}(t)},t}();function kw(t,n){for(var r=0,e=t.La;r<e.length;r++){var i=e[r];if(i.Xp===n)return i}}var bw=function(){function t(){this.RR=new mw,this.IR=[]}t.CR=function(){return this.ji};var n=t.prototype;return n.OR=function(t){this.IR.push(t)},n.wl=function(t,n,r,e,i,u){for(var o=this.RR.wl(t,n,r,e,i,u),s=0,c=this.IR;s<c.length;s++){o=(0,c[s])(o,r,e)}return o},n.SR=function(t,n){return this.RR.SR(t,n)},x(t,[{key:"ER",get:function(){return this.RR.ER}}]),t}();function Tw(t,n){return Sw.ji.DR(t,n)}function Ew(t,n){return ao(t.ER,n.ER)}bw.ji=new bw;var Sw=function(){function t(){this.NR=bw.CR(),this.AR=[]}var n=t.prototype;return n.PR=function(t){this.NR=t},n.xR=function(){return this.NR},n.FR=function(t){this.AR.push(t),this.AR.sort(Ew)},n.LR=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,i=this.AR;case 1:if(!(e<i.length)){t.next=17;break}if(u=i[e],!tt(o=u.SR(n,r))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:e++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.DR=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=11;break}return i=n[e],t.next=5,this.LR(i,r);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{MR:i,UR:u});case 8:e++,t.next=1;break;case 11:o=this.NR,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.SR(c,r)){t.next=17;break}return t.abrupt("return",{MR:c,UR:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{MR:n[0],UR:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}();Sw.ji=new Sw;var Rw,Iw=function(){function t(t){var n,r;this.qR=S&&S.document&&S.document.createElement("div"),n=this.qR,(r=n.style).position="absolute",r.left="0",r.right="0",r.top="0",r.bottom="0",r.width="100%",r.height="100%",t.appendChild(this.qR)}return t.prototype.oe=function(){Ge(this.qR)},t}();function Cw(t){switch(t){case Rw.Sp:case"":return Rw.Sp;case Rw.uw:return Rw.uw;case Rw.jR:default:return Rw.jR}}!function(t){t.BS="",t.jR="none",t.uw="metadata",t.Sp="auto"}(Rw||(Rw={}));var Ow=[_s.nh,As.Fh,As.No,As.cv,As.Rh,As.Lh,As.Vh,As.Hh,As.Zh,As.nv,Ss.wh,Ss.yh,Ss.gh,Ss._h,Ss.ba,Ss.ph,Ss.mh,As.Dh,As.Nh,As.xh,As.Bh,As.Uh,As.qh,As.zh,As.Xh,As.Wh,As.Gh,As.Kh,As.Jh,As.$h,As.iv,As.uv,As.Yh,As.jh,As.Qh],Dw=function(t){function n(n,r,e,i,u,o){var s;return(s=t.call(this)||this).HR=void 0,s.nR=Rw.jR,s.WR=void 0,s.zR=!0,s._d=new ps,s.pd=new ps,s.md=new Rs,s.XR=n,s.Qs=r,s.xb=e,s.GR=i,s.YR=o,s.KR=new b(u,s.YR),s.KR.ue(s.XR),s.$R=new Iw(s.XR),s.JR=Sw.ji.xR(),s.QR=s.ZR(s.JR),s.QR.ol=s.ol,s.tI(),s}gt(n,t);var r=n.prototype;return r.ee=function(){this.QR.ee()},r.re=function(){this.QR.re()},r.Rd=function(){return this.Cd({sources:[]})},r.fe=function(){this.KR.Zr()},r.Ad=function(t){var n,r,e,i;n=this,e=(r=t).td,i=r.Yv,n.td=e,n.Yv=i},r.Pd=function(){},r.Ud=function(t){return!1},r.ZR=function(t){return t.wl(this.XR,this.KR,this.xb,this.Qs,this.GR,this.YR)},r.tI=function(){this._d.Wa=this.QR.Td,this.pd.Wa=this.QR.Ed,this.md.Wa=this.QR.Sd,this.QR._o(Ow,this.lo)},r.nI=function(){this.QR.ko(Ow,this.lo),this._d.Wa=void 0,this.pd.Wa=void 0,this.md.Wa=void 0},r.Id=function(){return this.WR},r.Cd=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Sn(r),this.WR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!lc(e=n.sources.filter(Ra))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,Tw(e,n);case 9:if(i=t.sent,Sn(r),u=i.MR,o=i.UR,s=this.Ld(),c=bc(this),this.JR===o&&!this.Do){t.next=25;break}return this.nI(),t.next=19,this.QR.oe();case 19:Sn(r),this.JR=o,this.QR=this.ZR(o),Nw(this.QR,c),Tc(this,c,this),this.tI();case 25:return this.QR.ol=this.ol,this.zR?this.QR.xd():this.QR.Fd(),t.next=29,this.QR.Cd(u,n,r);case 29:Sn(r),this.rI(u),this.Ld()!==s&&this.wo(new Sc);case 32:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.rI=function(t){this.HR!==t&&(this.HR=t,this.wo(new Rc(t)))},r.Od=function(){return this.QR.Od()},r.Dd=function(){this.QR.Dd()},r.Nd=function(){this.QR.Nd()},r.Bd=function(){return this.QR.Bd()},r.Ld=function(){return this.QR.Ld()},r.Md=function(){return this.KR.Qr.map(function(t){return t.rR})},r.Hd=function(){this.QR.Hd()},r.Ba=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.WR=void 0,this.rI(void 0),t.next=4,this.QR.Ba();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),t.next=3,this.Ba();case 3:return t.next=5,this.QR.oe();case 5:this.KR.oe(),this.$R.oe(),this._d.oe(),this.pd.oe(),this.md.oe();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.xd=function(){this.zR=!0,this.QR.xd()},r.Fd=function(){this.zR=!1,this.QR.Fd()},x(n,[{key:"Td",get:function(){return this._d}},{key:"Wd",get:function(){return this.QR.Wd}},{key:"Xd",get:function(){return this.XR}},{key:"Do",get:function(){return this.QR.Do}},{key:"Gv",get:function(){return this.QR.Gv}},{key:"zd",get:function(){return this.QR.zd},set:function(t){this.QR.zd=t}},{key:"Vd",get:function(){return this.HR}},{key:"Wv",get:function(){return this.QR.Wv},set:function(t){this.QR.Wv=t}},{key:"zv",get:function(){return this.QR.zv}},{key:"Xv",get:function(){return this.QR.Xv}},{key:"Gd",get:function(){return this.QR.Gd}},{key:"Yd",get:function(){return this.QR.Yd}},{key:"Kd",get:function(){return this.QR.Kd}},{key:"Yv",get:function(){return this.QR.Yv},set:function(t){this.QR.Yv=t}},{key:"il",get:function(){return this.QR.il}},{key:"Kv",get:function(){return this.QR.Kv}},{key:"$v",get:function(){return this.QR.$v},set:function(t){this.QR.$v=t}},{key:"ul",get:function(){return this.QR.ul}},{key:"ol",get:function(){return this.nR},set:function(t){this.nR=t,this.QR&&(this.QR.ol=this.nR)}},{key:"sh",get:function(){return this.QR.sh}},{key:"sl",get:function(){return this.QR.sl}},{key:"Jv",get:function(){return this.QR.Jv}},{key:"Sd",get:function(){return this.md}},{key:"Qv",get:function(){return this.QR.Qv}},{key:"Ed",get:function(){return this.pd}},{key:"Zv",get:function(){return this.QR.Zv}},{key:"td",get:function(){return this.QR.td},set:function(t){this.QR.td=t}}]),n}(Cs);function Nw(t,n){t.Yv!==n.Yv&&(t.Yv=n.Yv),t.td!==n.td&&(t.td=n.td),t.$v!==n.$v&&(t.$v=n.$v)}var Aw=function(t){function n(){return t.call(this,Fs.nh)||this}return gt(n,t),n}(qn),Pw=new(function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.xv=function(){this.wo(new Aw)},r.Fv=function(){},r.oe=function(){this.mo()},x(n,[{key:"Pv",get:function(){return!1}},{key:"Av",get:function(){return!1}}]),n}(Mn)),xw=function(t){function n(n,r,e){var i;return(i=t.call(this)||this).XR=n,i.eI=r,i.iI=new La,i.uI=new Tv,i.oI=e,i}gt(n,t);var r=n.prototype;return r.Ud=function(t){return!0},r.Fd=function(){},r.re=function(){throw this.wo(new Qs(this.oI)),this.eI},r.ee=function(){},r.Id=function(){},r.Cd=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Sn(r),this.wo(new Qs(this.oI)),this.eI;case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.xd=function(){},r.Rd=function(){return C.resolve()},r.Bd=function(){},r.Ld=function(){return Pw},r.Md=function(){return[]},r.fe=function(){},r.Ad=function(t){},r.Pd=function(){},r.Od=function(){return!1},r.Dd=function(){},r.Nd=function(){},r.Hd=function(){},r.Ba=function(){return C.resolve()},r.oe=function(){return this.mo(),this.iI.oe(),this.uI.oe(),C.resolve()},x(n,[{key:"Td",get:function(){return this.iI}},{key:"Wd",get:function(){return sa.Ep().W_()}},{key:"zd",get:function(){return new Date(NaN)},set:function(t){}},{key:"Vd",get:function(){}},{key:"Wv",get:function(){return 0},set:function(t){}},{key:"zv",get:function(){return 0}},{key:"Xd",get:function(){return this.XR}},{key:"Xv",get:function(){return!0}},{key:"Do",get:function(){return this.eI}},{key:"Gv",get:function(){return this.oI}},{key:"Gd",get:function(){}},{key:"Kd",get:function(){return{$d:0,Jd:0,Qd:0,Zd:0,tl:0,nl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Yv",get:function(){return!1},set:function(t){}},{key:"il",get:function(){return!0}},{key:"Kv",get:function(){return!0}},{key:"$v",get:function(){return 0},set:function(t){}},{key:"ul",get:function(){return sa.Ep().W_()}},{key:"ol",get:function(){return Rw.jR},set:function(t){}},{key:"sh",get:function(){return Os.kh}},{key:"sl",get:function(){return sa.Ep().W_()}},{key:"Jv",get:function(){return!1}},{key:"Sd",get:function(){return this.uI}},{key:"Qv",get:function(){return 0}},{key:"Ed",get:function(){return this.iI}},{key:"Zv",get:function(){return 0}},{key:"td",get:function(){return 1},set:function(t){}},{key:"Yd",get:function(){return!1}}]),n}(Cs);var Fw=function(){function t(t){this.sI=t}return t.prototype.cI=function(t){var n,r,e,i,u,o,s,c=[];if(!t)return"";var f=t.length%4;if(f>0)for(;f++<4;)t+=this.sI.charAt(64);for(n=0;n<t.length;n+=4)r=(s=this.sI.indexOf(t.charAt(n))<<18|this.sI.indexOf(t.charAt(n+1))<<12|(u=this.sI.indexOf(t.charAt(n+2)))<<6|(o=this.sI.indexOf(t.charAt(n+3))))>>>16&255,e=s>>>8&255,i=255&s,c[n/4]=String.fromCharCode(r,e,i),64===o&&(c[n/4]=String.fromCharCode(r,e)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},t.prototype.fI=function(t,n){var r,e,i,u,o,s,c,f=[],a="";if((s=t.length%3)>0)for(;s++<3;)a+=this.sI.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)e=(r=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,i=r>>12&63,u=r>>6&63,o=63&r,f[s/3]=this.sI.charAt(e)+this.sI.charAt(i)+this.sI.charAt(u)+this.sI.charAt(o);return c=(c=f.join("")).slice(0,c.length-a.length),n||(c+=a),c},t.xk=new t(function(){var t,n,r,e,i=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)e=n.charAt(r),-1===i.indexOf(e)&&i.push(e);return i.join("")}()),t.aI=new t(t.xk.cI("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function Bw(t){return"string"==typeof t}function Lw(t){return"number"==typeof t}var Mw={}.toString;var Uw,qw=Array.isArray||function(t){return"[object Array]"===Mw.call(t)};function jw(t,n){return qw(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(Uw||(Uw={}));var Vw,Hw=d.keys(Uw).map(function(t){return Uw[t]});function Ww(t){return-1!==Hw.indexOf(t)}function zw(t){try{var n=Fw.aI.cI(t),r=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),r=Bw(t.key),e=Bw(t.customer_id),i=Lw(t.generation_date),u=Lw(t.expiration_date),o=jw(t.domains_page,Bw),s=jw(t.domains_source,Bw),c=jw(t.sdks,Ww),f=(a=t.send_impression,"boolean"==typeof a);var a;var h;if(!(n&&r&&e&&i&&u&&o&&s&&c&&f))return!1;return!0}(r))throw new h("The provided license could not be decoded correctly.");return r}catch(t){throw new h("The provided license could not be decoded correctly.")}}function Xw(){return Vw||(Vw={vb:R.href,hI:S.parent&&S.parent!==e,vI:Kw()}),Vw}var Gw,Yw=["http:","https:","ftp:","ws:","wss:"];function Kw(){try{return S.top.location.href}catch(t){return S&&S.document&&S.document.referrer}}!function(t){t[t.dI=0]="dI",t[t.lI=1]="lI",t[t.wI=2]="wI"}(Gw||(Gw={}));var $w,Jw=function(t,n,r,e,i,u,o,s){void 0===i&&(i=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.yI=t,this.gI=n,this._I=r,this.pI=e,this.mI=i,this.kI=u,this.bI=o,this.TI=s};!function(t){t.lI="expired",t.EI="invaliddomain",t.SI="invalidsource",t.nh="error"}($w||($w={}));var Qw=function(){function t(t,n,r){this.RI=t,this.II=n,this.CI=r,this.OI=iy(this.CI)}var n=t.prototype;return n.DI=function(t,n){var r=this;if(!Sa(t)&&0!==n._I.length&&!ny(n._I)){var e=[];if(dc(t.sources)?e=[t.sources]:K(t.sources)&&(e=t.sources),!e.every(function(t){return r.NI(t,n)})){var i=$w.SI,u=oy.AI(i);throw new Be(Zw(i),u)}}},n.xI=function(n){return this.FI(n.bI)&&this.BI(n)?t.LI(n.pI)?Gw.dI:Gw.lI:Gw.wI},n.FI=function(t){var n=this;return 0===t.length||t.some(function(t){return n.MI(t)})},n.MI=function(t){return"tvos"===function(t){switch(t){case Uw.ANDROID:return N.ye;case Uw.ANDROIDTV:case Uw.FIRETV:return N._e;case Uw.IOS:return N.pe;case Uw.TVOS:return N.me;case Uw.CHROMECAST:case Uw.CHROMECASTCAF:return N.ke;default:return N.we}}(t)},t.LI=function(t){var n=Number(new Date);return!!t&&n<=t},n.BI=function(t){return!(this.OI&&0!==t.gI.length&&!ny(t.gI))||!!(this.OI&&this.UI(t.gI)&&this.qI(t.gI))},n.UI=function(t){return ry(this.CI.vb,t)},n.qI=function(t){if(!this.CI.hI)return!0;if(this.RI)return!0;var n=this.jI();return!!n&&ry(n,t)},n.jI=function(){if(this.CI.hI){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.CI.vI?this.CI.vI:void 0}},n.NI=function(n,r){return!!t.VI(n,r._I)},t.VI=function(t,n){return ry(this.HI(t),n)},t.HI=function(t){return Q(t)?t:vc(t)&&t.src||""},t}();function Zw(t){switch(t){case $w.EI:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case $w.SI:return n.ErrorCode.LICENSE_INVALID_SOURCE;case $w.lI:return n.ErrorCode.LICENSE_EXPIRED;case $w.nh:return n.ErrorCode.LICENSE_ERROR}}function ty(t,n){var r=t,e=n;if(!r)return!1;if("*"===(e=e.trim()))return!0;if(e===(r=r.replace(/\.+$/,"")))return!0;var i="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+i+o+i+o+i+o+"\\)"),c=e.match(s),f=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var a=new RegExp("^"+c[1]+i+f(c[2])+i+f(c[3])+i+f(c[4])+"$");return null!==r.match(a)}return e="."+e,-1!==r.indexOf(e,r.length-e.length)}function ny(t){return t.some(function(t){return"*"===t})}function ry(t,n){var r=D.Mc(t);if(!ey(r))return!0;for(var e=0;e<n.length;e++){var i=n[e];if(ty(r.hostname,i))return!0;if(ty(io(t),i))return!0}return!1}function ey(t){return-1!==Yw.indexOf(t.protocol)}function iy(t){var n=D.Mc(t.vb);return ey(n)&&!ty(n.hostname,"localhost")&&!function(t){return ty(t.hostname,"theoplayer.doubleclick.net")}(n)}var uy,oy=function(){function t(){}return t.AI=function(t){return t===$w.EI?this.WI:t===$w.SI?this.zI:t===$w.lI?this.XI:this.GI},t}();function sy(t){var n=[t.ag,t.YI,t.KI];switch(t.YI){case uy.$I:n.push(t.hh);break;case uy.JI:n.push(t.Wv),n.push(t.Do);break;case uy.QI:n.push(t.Do)}return n}oy.GI="The license for this player is invalid.",oy.XI="The usage license for this video player has expired.",oy.WI="The current domain is incompatible with the license for this player.",oy.zI="The provided video source is incompatible with the license for this player.",function(t){t[t.$I=1]="$I",t[t.JI=4]="JI",t[t.QI=5]="QI"}(uy||(uy={}));for(var cy=new Array(256),fy=0;fy<256;fy+=1)cy[fy]=(fy<16?"0":"")+fy.toString(16);function ay(){var t=wt(),n=(4294967296*l.random()|0)+t&3029421624,r=(4294967296*l.random()|0)+t&3595553209,e=(4294967296*l.random()|0)+t&1130486254,i=(4294967296*l.random()|0)+t&1284287105;return cy[255&n]+cy[n>>>8&255]+cy[n>>>16&255]+cy[n>>>24&255]+"-"+cy[255&r]+cy[r>>>8&255]+"-"+cy[r>>>16&15|64]+cy[r>>>24&255]+"-"+cy[63&e|128]+cy[e>>>8&255]+"-"+cy[e>>>16&255]+cy[e>>>24&255]+cy[255&i]+cy[i>>>8&255]+cy[i>>>16&255]+cy[i>>>24&255]}var hy=function(){function t(t){this.sI=t}var n=t.prototype;return n.cI=function(t){var n,r,e,i,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)r=(s=this.sI.indexOf(t.charAt(n))<<18|this.sI.indexOf(t.charAt(n+1))<<12|(u=this.sI.indexOf(t.charAt(n+2)))<<6|(o=this.sI.indexOf(t.charAt(n+3))))>>>16&255,e=s>>>8&255,i=255&s,c[n/4]=String.fromCharCode(r,e,i),64===o&&(c[n/4]=String.fromCharCode(r,e)),64===u&&(c[n/4]=String.fromCharCode(r));return c.join("")},n.fI=function(t){var n,r,e,i,u,o,s,c=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.sI.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=n>>12&63,i=n>>6&63,u=63&n,c[o/3]=this.sI.charAt(r)+this.sI.charAt(e)+this.sI.charAt(i)+this.sI.charAt(u);return(s=c.join("")).slice(0,s.length-f.length)+f},t}();function vy(){return D.Ff()}hy.xk=new hy(function(){var t,n,r,e,i=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],r=0;r<n.length;r+=1)e=n.charAt(r),-1===i.indexOf(e)&&i.push(e);return i.join("")}()),hy.aI=new hy(hy.xk.cI("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var dy,ly="theoplayer-session-id";function wy(){if(!dy){var t=No.Mo(ly);t?dy=t:(dy=ay(),No.Of(ly,dy))}return dy}var yy=/[^\x00-\x7E]/g;function gy(t){return"\\u"+function(t,n,r){void 0===r&&(r=" ");var e=r,i=(0|n)-t.length;return i<=0?t:(i>e.length&&(e+=function(t,n){var r=0|n;if(0===t.length||0===r)return"";for(var e=t,i="";1==(1&r)&&(i+=e),0!=(r>>>=1);)e+=e;return i}(e,i/e.length)),e.slice(0,i)+t)}(t.charCodeAt(0).toString(16),4,"0")}var _y=function(t){function n(n,r){return t.call(this,n,r)||this}return gt(n,t),n}(xv),py=0,my=1,ky=6e4;function by(t){var n,r,e,i,u,o=(n=function(t){return[t.ZI,t.Is,t.yI,t.Pw,t.tC,t.nC,t.rC.map(sy)]}(t),r=[],e=n,i=function(t,n){if($(n)){if(-1!==r.indexOf(n))return null;r.push(n)}return n},JSON.stringify(e,i,u).replace(yy,gy));return hy.aI.fI(o)}var Ty=function(){function t(t,n,r,e,i,u){var o=this;void 0===e&&(e=hy.xk),void 0===i&&(i=py),void 0===u&&(u=my),this.fE=t,this.xb=n,this.eC=r,this.iC=e,this.uC=i,this.oC=u,this.sC=[],this.cC=null,this.fC=0,this.aC="unknown",this.hC=0,this.vC=function(){vy()-o.fC>ky&&o.dC()},this.lC=function(){o.dC(!0)},E.he(this.lC),f(this.vC,ky)}var n=t.prototype;return n.wC=function(){return Boolean(this.tC)},n.yC=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eC.gC();case 2:if(t.sent.TI){t.next=5;break}return t.abrupt("return");case 5:return r={YI:uy.$I,KI:wt(),hh:n},t.next=8,this._C(r);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pC=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={YI:uy.JI,KI:wt(),Wv:r,Do:n},t.next=3,this._C(e);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.mC=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={YI:uy.QI,KI:wt(),Do:n},t.next=3,this._C(r);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n._C=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eC.gC();case 2:if(r=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.iC.fI(r.yI)){t.next=6;break}if(n.YI===uy.QI){t.next=6;break}return t.abrupt("return");case 6:if(n.YI===uy.$I?this.kC():this.wC()||this.kC(),n.ag=this.hC++,this.sC.push(n),(e=n.YI)!==uy.$I&&e!==uy.QI){t.next=14;break}return t.next=12,this.dC();case 12:t.next=19;break;case 14:if(!(this.sC.length>this.uC)){t.next=19;break}return t.next=17,this.bC();case 17:t.next=19;break;case 19:case"end":return t.stop()}var e},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.dC=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.sC.length>0)){t.next=6;break}return t.next=4,this.bC(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.TC=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eC.gC();case 2:return r=t.sent,t.abrupt("return",{ZI:wt(),Is:wy(),yI:this.iC.fI(r.yI)||"dev",Pw:this.fE,tC:this.cC,nC:this.aC,rC:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.bC=function(){var t=C.coroutine(xt.mark(function t(n){var r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),r=this.sC.splice(0,this.oC),t.next=4,this.TC(r);case 4:e=t.sent,n?this.EC(e):this.SC(e),this.fC=vy();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.SC=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=by(n),e=new _y({vb:"https://license.theoplayer.com",lb:r,kb:!1,gb:kv.zi,wb:{"Content-Type":Xd.gE},_b:4e3,yb:Sv.POST}),t.prev=2,t.next=5,this.xb.Rb(e);case 5:return i=t.sent,t.next=8,i.lE();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+r;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.EC=function(t){var n=by(t);this.xb.EC({vb:"https://license.theoplayer.com",lb:n,cR:Xd.gE})},n.kC=function(){this.wC()&&this.dC(),this.cC=ay(),this.hC=0},n.oe=function(){E.ve(this.lC),this.dC()},x(t,[{key:"rC",get:function(){return this.sC}},{key:"tC",get:function(){return this.cC}}]),t}();var Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Sy(){}var Ry=Number.isNaN||function(t){return t!=t},Iy=Sy;function Cy(t){return"object"==typeof t&&null!==t||"function"==typeof t}function Oy(t){return t.slice()}function Dy(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Ry(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Ny(t,n,r){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,r)}function Ay(t,n,r,e){var i=t[n];if(void 0!==i){if("function"!=typeof i)throw new v(i+" is not a method");switch(r){case 0:return function(){return xy(i,t,e)};case 1:return function(n){var r=[n].concat(e);return xy(i,t,r)}}}return function(){return Hy(void 0)}}function Py(t,n,r){var e=t[n];if(void 0!==e)return Ny(e,t,r)}function xy(t,n,r){try{return Hy(Ny(t,n,r))}catch(t){return Wy(t)}}function Fy(t){return t}function By(t){if(t=Number(t),Ry(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Ly(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var My=C,Uy=C.prototype.then,qy=C.resolve.bind(My),jy=C.reject.bind(My);function Vy(t){return new My(t)}function Hy(t){return qy(t)}function Wy(t){return jy(t)}function zy(t,n,r){return Uy.call(t,n,r)}function Xy(t,n,r){zy(zy(t,n,r),void 0,Iy)}function Gy(t,n){Xy(t,n)}function Yy(t,n){Xy(t,void 0,n)}function Ky(t,n,r){return zy(t,n,r)}function $y(t){zy(t,void 0,Iy)}var Jy=function(){function t(){this.RC=0,this.IC=0,this.kr={CC:[],OC:void 0},this.DC=this.kr,this.RC=0,this.IC=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.IC},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.DC,r=n;16383===n.CC.length&&(r={CC:[],OC:void 0}),n.CC.push(t),r!==n&&(this.DC=r,n.OC=r),++this.IC},t.prototype.shift=function(){var t=this.kr,n=t,r=this.RC,e=r+1,i=t.CC,u=i[r];return 16384===e&&(n=t.OC,e=0),--this.IC,this.RC=e,t!==n&&(this.kr=n),i[r]=void 0,u},t.prototype.forEach=function(t){for(var n=this.RC,r=this.kr,e=r.CC;!(n===e.length&&void 0===r.OC||n===e.length&&(n=0,0===(e=(r=r.OC).CC).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.kr,n=this.RC;return t.CC[n]},t}();function Qy(t,n,r){var e=null;!0===r&&(e=d.prototype);var i=d.create(e);return i.value=t,i.done=n,i}function Zy(t,n){t.NC=!0,t.AC=n,n.xC=t,"readable"===n.FC?eg(t):"closed"===n.FC?function(t){eg(t),og(t)}(t):ig(t,n.BC)}function tg(t,n){return ap(t.AC,n)}function ng(t){"readable"===t.AC.FC?ug(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){ig(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.AC.xC=void 0,t.AC=void 0}function rg(t){return new v("Cannot "+t+" a stream using a released reader")}function eg(t){t.ds=Vy(function(n,r){t.LC=n,t.MC=r})}function ig(t,n){eg(t),ug(t,n)}function ug(t,n){$y(t.ds),t.MC(n),t.LC=void 0,t.MC=void 0}function og(t){t.LC(void 0),t.LC=void 0,t.MC=void 0}var sg=Ey("[[CancelSteps]]"),cg=Ey("[[PullSteps]]");function fg(t,n){void 0===n&&(n=!1);var r=new yg(t);return r.NC=n,r}function ag(t){return Vy(function(n,r){var e={Pn:n,M:r};t.xC.UC.push(e)})}function hg(t,n,r){var e=t.xC;e.UC.shift().Pn(Qy(n,r,e.NC))}function vg(t){return t.xC.UC.length}function dg(t){var n=t.xC;return void 0!==n&&!!gg(n)}var lg,wg,yg=function(){function t(t){if(!1===cp(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===fp(t))throw new v("This stream has already been locked for exclusive reading by another reader");Zy(this,t),this.UC=new Jy}return d.defineProperty(t.prototype,"closed",{get:function(){return gg(this)?this.ds:Wy(pg("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return gg(this)?void 0===this.AC?Wy(rg("cancel")):tg(this,t):Wy(pg("cancel"))},t.prototype.read=function(){return gg(this)?void 0===this.AC?Wy(rg("read from")):_g(this):Wy(pg("read"))},t.prototype.releaseLock=function(){if(!gg(this))throw pg("releaseLock");if(void 0!==this.AC){if(this.UC.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ng(this)}},t}();function gg(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"UC")}function _g(t){var n=t.AC;return n.qC=!0,"closed"===n.FC?Hy(Qy(void 0,!0,t.NC)):"errored"===n.FC?Wy(n.BC):n.jC[cg]()}function pg(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Ey.asyncIterator&&((lg={})[Ey.asyncIterator]=function(){return this},wg=lg,d.defineProperty(wg,Ey.asyncIterator,{enumerable:!1}));var mg={next:function(){if(!1===kg(this))return Wy(bg("next"));var t=this.VC;return void 0===t.AC?Wy(rg("iterate")):Ky(_g(t),function(n){var r=n.done;return r&&ng(t),Qy(n.value,r,!0)})},return:function(t){if(!1===kg(this))return Wy(bg("next"));var n=this.VC;if(void 0===n.AC)return Wy(rg("finish iterating"));if(n.UC.length>0)return Wy(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.HC){var r=tg(n,t);return ng(n),Ky(r,function(){return Qy(t,!0,!0)})}return ng(n),Hy(Qy(t,!0,!0))}};function kg(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"VC")}function bg(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Tg(t){var n=t.In.shift();return t.WC-=n.size,t.WC<0&&(t.WC=0),n.value}function Eg(t,n,r){if(!Dy(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.In.push({value:n,size:r}),t.WC+=r}function Sg(t){t.In=new Jy,t.WC=0}void 0!==wg&&d.setPrototypeOf(mg,wg),d.defineProperty(mg,"next",{enumerable:!1}),d.defineProperty(mg,"return",{enumerable:!1});var Rg=Ey("[[AbortSteps]]"),Ig=Ey("[[ErrorSteps]]"),Cg=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Dg(this);var r=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var i=Ly(r);void 0===e&&(e=1),function(t,n,r,e){var i=d.create(Yg.prototype);var u=Ay(n,"write",1,[i]),o=Ay(n,"close",0,[]),s=Ay(n,"abort",1,[]);Kg(t,i,function(){return Py(n,"start",[i])},u,o,s,r,e)}(this,t,e=By(e),i)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Ng(this))throw r_("locked");return Ag(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ng(this)?Wy(r_("abort")):!0===Ag(this)?Wy(new v("Cannot abort a stream that already has a writer")):Pg(this,t)},t.prototype.close=function(){return!1===Ng(this)?Wy(r_("close")):!0===Ag(this)?Wy(new v("Cannot close a stream that already has a writer")):!0===Mg(this)?Wy(new v("Cannot close an already-closing stream")):xg(this)},t.prototype.getWriter=function(){if(!1===Ng(this))throw r_("getWriter");return Og(this)},t}();function Og(t){return new jg(t)}function Dg(t){t.FC="writable",t.BC=void 0,t.zC=void 0,t.XC=void 0,t.GC=new Jy,t.YC=void 0,t.KC=void 0,t.$C=void 0,t.JC=void 0,t.QC=!1}function Ng(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"XC")}function Ag(t){return void 0!==t.zC}function Pg(t,n){var r=t.FC;if("closed"===r||"errored"===r)return Hy(void 0);if(void 0!==t.JC)return t.JC.rn;var e=!1;"erroring"===r&&(e=!0,n=void 0);var i=Vy(function(r,i){t.JC={rn:void 0,Pn:r,M:i,bn:n,ZC:e}});return t.JC.rn=i,!1===e&&Bg(t,n),i}function xg(t){var n=t.FC;if("closed"===n||"errored"===n)return Wy(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var r,e=Vy(function(n,r){var e={Pn:n,M:r};t.KC=e}),i=t.zC;return void 0!==i&&!0===t.QC&&"writable"===n&&d_(i),Eg(r=t.XC,"close",0),Qg(r),e}function Fg(t,n){"writable"!==t.FC?Lg(t):Bg(t,n)}function Bg(t,n){var r=t.XC;t.FC="erroring",t.BC=n;var e=t.zC;void 0!==e&&zg(e,n),!1===function(t){if(void 0===t.YC&&void 0===t.$C)return!1;return!0}(t)&&!0===r.tO&&Lg(t)}function Lg(t){t.FC="errored",t.XC[Ig]();var n=t.BC;if(t.GC.forEach(function(t){t.M(n)}),t.GC=new Jy,void 0!==t.JC){var r=t.JC;if(t.JC=void 0,!0===r.ZC)return r.M(n),void Ug(t);Xy(t.XC[Rg](r.bn),function(){r.Pn(),Ug(t)},function(n){r.M(n),Ug(t)})}else Ug(t)}function Mg(t){return void 0!==t.KC||void 0!==t.$C}function Ug(t){void 0!==t.KC&&(t.KC.M(t.BC),t.KC=void 0);var n=t.zC;void 0!==n&&s_(n,t.BC)}function qg(t,n){var r=t.zC;void 0!==r&&n!==t.QC&&(!0===n?function(t){f_(t)}(r):d_(r)),t.QC=n}var jg=function(){function t(t){if(!1===Ng(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Ag(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.nO=t,t.zC=this;var n,r=t.FC;if("writable"===r)!1===Mg(t)&&!0===t.QC?f_(this):h_(this),u_(this);else if("erroring"===r)a_(this,t.BC),u_(this);else if("closed"===r)h_(this),u_(n=this),c_(n);else{var e=t.BC;a_(this,e),o_(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Vg(this)?Wy(e_("closed")):this.ds},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Vg(this))throw e_("desiredSize");if(void 0===this.nO)throw i_("desiredSize");return function(t){var n=t.nO,r=n.FC;if("errored"===r||"erroring"===r)return null;if("closed"===r)return 0;return Jg(n.XC)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Vg(this)?Wy(e_("ready")):this.rO},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Vg(this)?Wy(e_("abort")):void 0===this.nO?Wy(i_("abort")):function(t,n){return Pg(t.nO,n)}(this,t)},t.prototype.close=function(){if(!1===Vg(this))return Wy(e_("close"));var t=this.nO;return void 0===t?Wy(i_("close")):!0===Mg(t)?Wy(new v("Cannot close an already-closing stream")):Hg(this)},t.prototype.releaseLock=function(){if(!1===Vg(this))throw e_("releaseLock");void 0!==this.nO&&Xg(this)},t.prototype.write=function(t){return!1===Vg(this)?Wy(e_("write")):void 0===this.nO?Wy(i_("write to")):Gg(this,t)},t}();function Vg(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"nO")}function Hg(t){return xg(t.nO)}function Wg(t,n){"pending"===t.eO?s_(t,n):function(t,n){o_(t,n)}(t,n)}function zg(t,n){"pending"===t.iO?v_(t,n):function(t,n){a_(t,n)}(t,n)}function Xg(t){var n=t.nO,r=new v("Writer was released and can no longer be used to monitor the stream's closedness");zg(t,r),Wg(t,r),n.zC=void 0,t.nO=void 0}function Gg(t,n){var r=t.nO,e=r.XC,i=function(t,n){try{return t.uO(n)}catch(n){return Zg(t,n),1}}(e,n);if(r!==t.nO)return Wy(i_("write to"));var u=r.FC;if("errored"===u)return Wy(r.BC);if(!0===Mg(r)||"closed"===u)return Wy(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Wy(r.BC);var o=function(t){return Vy(function(n,r){var e={Pn:n,M:r};t.GC.push(e)})}(r);return function(t,n,r){var e={chunk:n};try{Eg(t,e,r)}catch(n){return void Zg(t,n)}var i=t.oO;if(!1===Mg(i)&&"writable"===i.FC){var u=t_(t);qg(i,u)}Qg(t)}(e,n,i),o}var Yg=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Cy(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"oO"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.oO.FC&&n_(this,t)},t.prototype[Rg]=function(t){var n=this.sO(t);return $g(this),n},t.prototype[Ig]=function(){Sg(this)},t}();function Kg(t,n,r,e,i,u,o,s){n.oO=t,t.XC=n,n.In=void 0,n.WC=void 0,Sg(n),n.tO=!1,n.uO=s,n.cO=o,n.fO=e,n.aO=i,n.sO=u;var c=t_(n);qg(t,c),Xy(Hy(r()),function(){n.tO=!0,Qg(n)},function(r){n.tO=!0,Fg(t,r)})}function $g(t){t.fO=void 0,t.aO=void 0,t.sO=void 0,t.uO=void 0}function Jg(t){return t.cO-t.WC}function Qg(t){var n=t.oO;if(!1!==t.tO&&void 0===n.YC)if("erroring"!==n.FC){if(0!==t.In.length){var r=t.In.peek().value;"close"===r?function(t){var n=t.oO;(function(t){t.$C=t.KC,t.KC=void 0})(n),Tg(t);var r=t.aO();$g(t),Xy(r,function(){!function(t){t.$C.Pn(void 0),t.$C=void 0,"erroring"===t.FC&&(t.BC=void 0,void 0!==t.JC&&(t.JC.Pn(),t.JC=void 0)),t.FC="closed";var n=t.zC;void 0!==n&&c_(n)}(n)},function(t){!function(t,n){t.$C.M(n),t.$C=void 0,void 0!==t.JC&&(t.JC.M(n),t.JC=void 0),Fg(t,n)}(n,t)})}(t):function(t,n){var r=t.oO;(function(t){t.YC=t.GC.shift()})(r),Xy(t.fO(n),function(){!function(t){t.YC.Pn(void 0),t.YC=void 0}(r);var n=r.FC;if(Tg(t),!1===Mg(r)&&"writable"===n){var e=t_(t);qg(r,e)}Qg(t)},function(n){"writable"===r.FC&&$g(t),function(t,n){t.YC.M(n),t.YC=void 0,Fg(t,n)}(r,n)})}(t,r.chunk)}}else Lg(n)}function Zg(t,n){"writable"===t.oO.FC&&n_(t,n)}function t_(t){return Jg(t)<=0}function n_(t,n){var r=t.oO;$g(t),Bg(r,n)}function r_(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function e_(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function i_(t){return new v("Cannot "+t+" a stream using a released writer")}function u_(t){t.ds=Vy(function(n,r){t.LC=n,t.MC=r,t.eO="pending"})}function o_(t,n){u_(t),s_(t,n)}function s_(t,n){$y(t.ds),t.MC(n),t.LC=void 0,t.MC=void 0,t.eO="rejected"}function c_(t){t.LC(void 0),t.LC=void 0,t.MC=void 0,t.eO="resolved"}function f_(t){t.rO=Vy(function(n,r){t.hO=n,t.vO=r}),t.iO="pending"}function a_(t,n){f_(t),v_(t,n)}function h_(t){f_(t),d_(t)}function v_(t,n){$y(t.rO),t.vO(n),t.hO=void 0,t.vO=void 0,t.iO="rejected"}function d_(t){t.hO(void 0),t.hO=void 0,t.vO=void 0,t.iO="fulfilled"}function l_(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var w_="undefined"!=typeof DOMException?DOMException:void 0;var y_,g_=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(w_)?w_:((y_=function(t,n){this.message=t||"",this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),d.defineProperty(y_.prototype,"constructor",{value:y_,writable:!0,configurable:!0}),y_);function __(t,n,r,e,i,u){var o=fg(t),s=Og(n);t.qC=!0;var c=!1,f=Hy(void 0);return Vy(function(a,h){var d,l,w,y;if(void 0!==u){if(d=function(){var r=new g_("Aborted","AbortError"),u=[];!1===e&&u.push(function(){return"writable"===n.FC?Pg(n,r):Hy(void 0)}),!1===i&&u.push(function(){return"readable"===t.FC?ap(t,r):Hy(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,r)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(p(t,o.ds,function(t){!1===e?m(function(){return Pg(n,t)},!0,t):k(!0,t)}),p(n,s.ds,function(n){!1===i?m(function(){return ap(t,n)},!0,n):k(!0,n)}),l=t,w=o.ds,y=function(){!1===r?m(function(){return function(t){var n=t.nO,r=n.FC;return!0===Mg(n)||"closed"===r?Hy(void 0):"errored"===r?Wy(n.BC):Hg(t)}(s)}):k()},"closed"===l.FC?y():Gy(w,y),!0===Mg(n)||"closed"===n.FC){var g=new v("the destination writable stream closed before all data could be piped to it");!1===i?m(function(){return ap(t,g)},!0,g):k(!0,g)}function _(){var t=f;return zy(f,function(){return t!==f?_():void 0})}function p(t,n,r){"errored"===t.FC?r(t.BC):Yy(n,r)}function m(t,r,e){function i(){Xy(t(),function(){return b(r,e)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.FC&&!1===Mg(n)?Gy(_(),i):i())}function k(t,r){!0!==c&&(c=!0,"writable"===n.FC&&!1===Mg(n)?Gy(_(),function(){return b(t,r)}):b(t,r))}function b(t,n){Xg(s),ng(o),void 0!==u&&u.removeEventListener("abort",d),t?h(n):a(void 0)}$y(Vy(function(t,n){!function r(e){e?t():zy(!0===c?Hy(!0):zy(s.rO,function(){return zy(_g(o),function(t){return!0===t.done||(f=zy(Gg(s,t.value),void 0,Sy),!1)})}),r,n)}(!1)}))})}var p_=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===m_(this))throw D_("desiredSize");return I_(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===m_(this))throw D_("close");if(!1===C_(this))throw new v("The stream is not in a state that permits close");E_(this)},t.prototype.enqueue=function(t){if(!1===m_(this))throw D_("enqueue");if(!1===C_(this))throw new v("The stream is not in a state that permits enqueue");return S_(this,t)},t.prototype.error=function(t){if(!1===m_(this))throw D_("error");R_(this,t)},t.prototype[sg]=function(t){Sg(this);var n=this.dO(t);return T_(this),n},t.prototype[cg]=function(){var t=this.lO;if(this.In.length>0){var n=Tg(this);return!0===this.wO&&0===this.In.length?(T_(this),hp(t)):k_(this),Hy(Qy(n,!1,t.xC.NC))}var r=ag(t);return k_(this),r},t}();function m_(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"lO")}function k_(t){!1!==b_(t)&&(!0!==t.yO?(t.yO=!0,Xy(t.gO(),function(){t.yO=!1,!0===t._O&&(t._O=!1,k_(t))},function(n){R_(t,n)})):t._O=!0)}function b_(t){var n=t.lO;return!1!==C_(t)&&(!1!==t.tO&&(!0===fp(n)&&vg(n)>0||I_(t)>0))}function T_(t){t.gO=void 0,t.dO=void 0,t.uO=void 0}function E_(t){var n=t.lO;t.wO=!0,0===t.In.length&&(T_(t),hp(n))}function S_(t,n){var r=t.lO;if(!0===fp(r)&&vg(r)>0)hg(r,n,!1);else{var e=void 0;try{e=t.uO(n)}catch(n){throw R_(t,n),n}try{Eg(t,n,e)}catch(n){throw R_(t,n),n}}k_(t)}function R_(t,n){var r=t.lO;"readable"===r.FC&&(Sg(t),T_(t),vp(r,n))}function I_(t){var n=t.lO.FC;return"errored"===n?null:"closed"===n?0:t.cO-t.WC}function C_(t){var n=t.lO.FC;return!1===t.wO&&"readable"===n}function O_(t,n,r,e,i,u,o){n.lO=t,n.In=void 0,n.WC=void 0,Sg(n),n.tO=!1,n.wO=!1,n._O=!1,n.yO=!1,n.uO=o,n.cO=u,n.gO=e,n.dO=i,t.jC=n,Xy(Hy(r()),function(){n.tO=!0,k_(n)},function(t){R_(n,t)})}function D_(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var N_=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},A_=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===F_(this))throw J_("view");return this.Vk},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===F_(this))throw J_("respond");if(void 0===this.pO)throw new v("This BYOB request has been invalidated");this.Vk.buffer,function(t,n){if(!1===Dy(n=Number(n)))throw new RangeError("bytesWritten must be a finite");z_(t,n)}(this.pO,t)},t.prototype.respondWithNewView=function(t){if(!1===F_(this))throw J_("respond");if(void 0===this.pO)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var r=t.mO.peek();if(r.byteOffset+r.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=n.buffer,z_(t,n.byteLength)}(this.pO,t)},t}(),P_=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===x_(this))throw Q_("byobRequest");if(void 0===this.kO&&this.mO.length>0){var t=this.mO.peek(),n=new _(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=d.create(A_.prototype);!function(t,n,r){t.pO=n,t.Vk=r}(r,this,n),this.kO=r}return this.kO},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===x_(this))throw Q_("desiredSize");return K_(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===x_(this))throw Q_("close");if(!0===this.wO)throw new v("The stream has already been closed; do not close it again!");var t=this.bO.FC;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.bO;if(t.WC>0)return void(t.wO=!0);if(t.mO.length>0){var r=t.mO.peek();if(r.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw Y_(t,e),e}}G_(t),hp(n)}(this)},t.prototype.enqueue=function(t){if(!1===x_(this))throw Q_("enqueue");if(!0===this.wO)throw new v("stream is closed or draining");var n=this.bO.FC;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var r=t.bO,e=n.buffer,i=n.byteOffset,u=n.byteLength,o=Fy(e);if(!0===dg(r))if(0===vg(r))U_(t,o,i,u);else{var s=new _(o,i,u);hg(r,s,!1)}else!0===np(r)?(U_(t,o,i,u),W_(t)):U_(t,o,i,u);B_(t)}(this,t)},t.prototype.error=function(t){if(!1===x_(this))throw Q_("error");Y_(this,t)},t.prototype[sg]=function(t){this.mO.length>0&&(this.mO.peek().bytesFilled=0);Sg(this);var n=this.dO(t);return G_(this),n},t.prototype[cg]=function(){var t=this.bO;if(this.WC>0){var n=this.In.shift();this.WC-=n.byteLength,V_(this);var r=void 0;try{r=new _(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Wy(t)}return Hy(Qy(r,!1,t.xC.NC))}var e=this.TO;if(void 0!==e){var i=void 0;try{i=new ArrayBuffer(e)}catch(t){return Wy(t)}var u={buffer:i,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:_,readerType:"default"};this.mO.push(u)}var o=ag(t);return B_(this),o},t}();function x_(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"bO")}function F_(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"pO")}function B_(t){!1!==function(t){var n=t.bO;if("readable"!==n.FC)return!1;if(!0===t.wO)return!1;if(!1===t.tO)return!1;if(!0===dg(n)&&vg(n)>0)return!0;if(!0===np(n)&&tp(n)>0)return!0;if(K_(t)>0)return!0;return!1}(t)&&(!0!==t.yO?(t.yO=!0,Xy(t.gO(),function(){t.yO=!1,!0===t._O&&(t._O=!1,B_(t))},function(n){Y_(t,n)})):t._O=!0)}function L_(t,n){var r=!1;"closed"===t.FC&&(r=!0);var e=M_(n);"default"===n.readerType?hg(t,e,r):function(t,n,r){var e=t.xC;e.EO.shift().Pn(Qy(n,r,e.NC))}(t,e,r)}function M_(t){var n=t.bytesFilled,r=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/r)}function U_(t,n,r,e){t.In.push({buffer:n,byteOffset:r,byteLength:e}),t.WC+=e}function q_(t,n){var r=n.elementSize,e=n.bytesFilled-n.bytesFilled%r,i=l.min(t.WC,n.byteLength-n.bytesFilled),u=n.bytesFilled+i,o=u-u%r,s=i,c=!1;o>e&&(s=o-n.bytesFilled,c=!0);for(var f,a,h,v,d,w=t.In;s>0;){var y=w.peek(),g=l.min(s,y.byteLength),p=n.byteOffset+n.bytesFilled;f=n.buffer,a=p,h=y.buffer,v=y.byteOffset,d=g,new _(f).set(new _(h,v,d),a),y.byteLength===g?w.shift():(y.byteOffset+=g,y.byteLength-=g),t.WC-=g,j_(t,g,n),s-=g}return c}function j_(t,n,r){H_(t),r.bytesFilled+=n}function V_(t){0===t.WC&&!0===t.wO?(G_(t),hp(t.bO)):B_(t)}function H_(t){void 0!==t.kO&&(t.kO.pO=void 0,t.kO.Vk=void 0,t.kO=void 0)}function W_(t){for(;t.mO.length>0;){if(0===t.WC)return;var n=t.mO.peek();!0===q_(t,n)&&(X_(t),L_(t.bO,n))}}function z_(t,n){var r=t.mO.peek();if("closed"===t.bO.FC){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=Fy(n.buffer);var r=t.bO;if(!0===np(r))for(;tp(r)>0;)L_(r,X_(t))}(t,r)}else!function(t,n,r){if(r.bytesFilled+n>r.byteLength)throw new RangeError("bytesWritten out of range");if(j_(t,n,r),!(r.bytesFilled<r.elementSize)){X_(t);var e=r.bytesFilled%r.elementSize;if(e>0){var i=r.byteOffset+r.bytesFilled,u=r.buffer.slice(i-e,i);U_(t,u,0,u.byteLength)}r.buffer=Fy(r.buffer),r.bytesFilled-=e,L_(t.bO,r),W_(t)}}(t,n,r);B_(t)}function X_(t){var n=t.mO.shift();return H_(t),n}function G_(t){t.gO=void 0,t.dO=void 0}function Y_(t,n){var r=t.bO;"readable"===r.FC&&(!function(t){H_(t),t.mO=new Jy}(t),Sg(t),G_(t),vp(r,n))}function K_(t){var n=t.bO.FC;return"errored"===n?null:"closed"===n?0:t.cO-t.WC}function $_(t,n,r){var e=d.create(P_.prototype);var i=Ay(n,"pull",0,[e]),u=Ay(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===N_(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,r,e,i,u,o){n.bO=t,n._O=!1,n.yO=!1,n.kO=void 0,n.In=n.WC=void 0,Sg(n),n.wO=!1,n.tO=!1,n.cO=By(u),n.gO=e,n.dO=i,n.TO=o,n.mO=new Jy,t.jC=n,Xy(Hy(r()),function(){n.tO=!0,B_(n)},function(t){Y_(n,t)})}(t,e,function(){return Py(n,"start",[e])},i,u,r,o)}function J_(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Q_(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Z_(t){return Vy(function(n,r){var e={Pn:n,M:r};t.xC.EO.push(e)})}function tp(t){return t.xC.EO.length}function np(t){var n=t.xC;return void 0!==n&&!!ep(n)}var rp=function(){function t(t){if(!cp(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===x_(t.jC))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(fp(t))throw new v("This stream has already been locked for exclusive reading by another reader");Zy(this,t),this.EO=new Jy}return d.defineProperty(t.prototype,"closed",{get:function(){return ep(this)?this.ds:Wy(ip("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ep(this)?void 0===this.AC?Wy(rg("cancel")):tg(this,t):Wy(ip("cancel"))},t.prototype.read=function(t){return ep(this)?void 0===this.AC?Wy(rg("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Wy(new v("view must have non-zero byteLength")):function(t,n){var r=t.AC;if(r.qC=!0,"errored"===r.FC)return Wy(r.BC);return function(t,n){var r=t.bO,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var i=n.constructor,u={buffer:Fy(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:i,readerType:"byob"};if(t.mO.length>0)return t.mO.push(u),Z_(r);if("closed"===r.FC)return Hy(Qy(new i(u.buffer,u.byteOffset,0),!0,r.xC.NC));if(t.WC>0){if(!0===q_(t,u)){var o=M_(u);return V_(t),Hy(Qy(o,!1,r.xC.NC))}if(!0===t.wO){var s=new v("Insufficient bytes to fill elements in the given buffer");return Y_(t,s),Wy(s)}}t.mO.push(u);var c=Z_(r);return B_(t),c}(r.jC,n)}(this,t)):Wy(new v("view must be an array buffer view")):Wy(ip("read"))},t.prototype.releaseLock=function(){if(!ep(this))throw ip("releaseLock");if(void 0!==this.AC){if(this.EO.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");ng(this)}},t}();function ep(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"EO")}function ip(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var up=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),sp(this);var r=n.size,e=n.highWaterMark,i=t.type;if("bytes"===String(i)){if(void 0!==r)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),$_(this,t,e=By(e))}else{if(void 0!==i)throw new RangeError("Invalid type is specified");var u=Ly(r);void 0===e&&(e=1),function(t,n,r,e){var i=d.create(p_.prototype),u=Ay(n,"pull",0,[i]),o=Ay(n,"cancel",1,[]);O_(t,i,function(){return Py(n,"start",[i])},u,o,r,e)}(this,t,e=By(e),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===cp(this))throw dp("locked");return fp(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===cp(this)?Wy(dp("cancel")):!0===fp(this)?Wy(new v("Cannot cancel a stream that already has a reader")):ap(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===cp(this))throw dp("getReader");if(void 0===n)return fg(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var r=new rp(t);return r.NC=n,r}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var r=t.writable,e=t.readable,i=void 0===n?{}:n,u=i.preventClose,o=i.preventAbort,s=i.preventCancel,c=i.signal;if(!1===cp(this))throw dp("pipeThrough");if(!1===Ng(r))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===cp(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!l_(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===fp(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Ag(r))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return $y(__(this,r,u,o,s,c)),e},t.prototype.pipeTo=function(t,n){var r=void 0===n?{}:n,e=r.preventClose,i=r.preventAbort,u=r.preventCancel,o=r.signal;return!1===cp(this)?Wy(dp("pipeTo")):!1===Ng(t)?Wy(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),i=Boolean(i),u=Boolean(u),void 0===o||l_(o)?!0===fp(this)?Wy(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Ag(t)?Wy(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):__(this,t,e,i,u,o):Wy(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===cp(this))throw dp("tee");var t=function(t,n){var r,e,i,u,o,s=fg(t),c=!1,f=!1,a=!1,h=Vy(function(t){o=t});function v(){return!0===c?Hy(void 0):(c=!0,$y(Ky(_g(s),function(t){if(c=!1,!0===t.done)return!1===f&&E_(i.jC),void(!1===a&&E_(u.jC));var n=t.value,r=n,e=n;!1===f&&S_(i.jC,r),!1===a&&S_(u.jC,e)})),Hy(void 0))}function d(){}return i=op(d,v,function(n){if(f=!0,r=n,!0===a){var i=Oy([r,e]),u=ap(t,i);o(u)}return h}),u=op(d,v,function(n){if(a=!0,e=n,!0===f){var i=Oy([r,e]),u=ap(t,i);o(u)}return h}),Yy(s.ds,function(t){R_(i.jC,t),R_(u.jC,t)}),[i,u]}(this);return Oy(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,r=void 0!==n&&n;if(!1===cp(this))throw dp("getIterator");return function(t,n){void 0===n&&(n=!1);var r=fg(t),e=d.create(mg);return e.VC=r,e.HC=Boolean(n),e}(this,r)},t}();function op(t,n,r,e,i){void 0===e&&(e=1),void 0===i&&(i=function(){return 1});var u=d.create(up.prototype);return sp(u),O_(u,d.create(p_.prototype),t,n,r,e,i),u}function sp(t){t.FC="readable",t.xC=void 0,t.BC=void 0,t.qC=!1}function cp(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"jC")}function fp(t){return void 0!==t.xC}function ap(t,n){return t.qC=!0,"closed"===t.FC?Hy(void 0):"errored"===t.FC?Wy(t.BC):(hp(t),Ky(t.jC[sg](n),Sy))}function hp(t){t.FC="closed";var n=t.xC;void 0!==n&&(gg(n)&&(n.UC.forEach(function(t){t.Pn(Qy(void 0,!0,n.NC))}),n.UC=new Jy),og(n))}function vp(t,n){t.FC="errored",t.BC=n;var r=t.xC;void 0!==r&&(gg(r)?(r.UC.forEach(function(t){t.M(n)}),r.UC=new Jy):(r.EO.forEach(function(t){t.M(n)}),r.EO=new Jy),ug(r,n))}function dp(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Ey.asyncIterator&&d.defineProperty(up.prototype,Ey.asyncIterator,{value:up.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var lp=function(){function t(t,n,r){void 0===t&&(t={}),void 0===n&&(n={}),void 0===r&&(r={});var e=n.size,i=n.highWaterMark,u=r.size,o=r.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=Ly(e);if(void 0===i&&(i=1),i=By(i),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,f=Ly(u);void 0===o&&(o=0),o=By(o),function(t,n,r,e,i,u){function o(){return n}t.SO=function(t,n,r,e,i,u){void 0===i&&(i=1),void 0===u&&(u=function(){return 1});var o=d.create(Cg.prototype);return Dg(o),Kg(o,d.create(Yg.prototype),t,n,r,e,i,u),o}(o,function(n){return function(t,n){var r=t.RO;if(!0===t.QC){var e=t.IO;return Ky(e,function(){var e=t.SO,i=e.FC;if("erroring"===i)throw e.BC;return Ep(r,n)})}return Ep(r,n)}(t,n)},function(){return function(t){var n=t.CO,r=t.RO,e=r.OO();return bp(r),Ky(e,function(){if("errored"===n.FC)throw n.BC;var t=n.jC;!0===C_(t)&&E_(t)},function(r){throw yp(t,r),n.BC})}(t)},function(n){return function(t,n){return yp(t,n),Hy(void 0)}(t,n)},r,e),t.CO=op(o,function(){return function(t){return _p(t,!1),t.IO}(t)},function(n){return gp(t,n),Hy(void 0)},i,u),t.QC=void 0,t.IO=void 0,t.DO=void 0,_p(t,!0),t.RO=void 0}(this,Vy(function(t){c=t}),i,s,o,f),function(t,n){var r=d.create(mp.prototype),e=function(t){try{return Tp(r,t),Hy(void 0)}catch(t){return Wy(t)}},i=n.transform;if(void 0!==i){if("function"!=typeof i)throw new v("transform is not a method");e=function(t){return xy(i,n,[t,r])}}var u=Ay(n,"flush",0,[r]);!function(t,n,r,e){n.NO=t,t.RO=n,n.AO=r,n.OO=e}(t,r,e,u)}(this,t);var a=Py(t,"start",[this.RO]);c(a)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===wp(this))throw Rp("readable");return this.CO},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===wp(this))throw Rp("writable");return this.SO},enumerable:!0,configurable:!0}),t}();function wp(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"RO")}function yp(t,n){R_(t.CO.jC,n),gp(t,n)}function gp(t,n){bp(t.RO),Zg(t.SO.XC,n),!0===t.QC&&_p(t,!1)}function _p(t,n){void 0!==t.IO&&t.DO(),t.IO=Vy(function(n){t.DO=n}),t.QC=n}var pp,mp=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===kp(this))throw Sp("desiredSize");return I_(this.NO.CO.jC)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===kp(this))throw Sp("enqueue");Tp(this,t)},t.prototype.error=function(t){if(!1===kp(this))throw Sp("error");var n;n=t,yp(this.NO,n)},t.prototype.terminate=function(){if(!1===kp(this))throw Sp("terminate");!function(t){var n=t.NO,r=n.CO.jC;!0===C_(r)&&E_(r);var e=new v("TransformStream terminated");gp(n,e)}(this)},t}();function kp(t){return!!Cy(t)&&!!d.prototype.hasOwnProperty.call(t,"NO")}function bp(t){t.AO=void 0,t.OO=void 0}function Tp(t,n){var r=t.NO,e=r.CO.jC;if(!1===C_(e))throw new v("Readable side is not in a state that permits enqueue");try{S_(e,n)}catch(t){throw gp(r,t),r.CO.BC}(function(t){return!0!==b_(t)})(e)!==r.QC&&_p(r,!0)}function Ep(t,n){return Ky(t.AO(n),void 0,function(n){throw yp(t.NO,n),n})}function Sp(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Rp(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}function Ip(t){return n=[t],new up({start:function(t){for(var r=0;r<n.length;r++){var e=n[r];t.enqueue(e)}t.close()}});var n}function Cp(t){return Ip(new _(t))}function Op(t,n){var r=n,e=t.getReader(),i=new ve,u=function(){o();var t=new Tn;e.cancel(t).catch(rt),i.ts(t)},o=function(){r&&(r.uo(u),r=void 0)};r&&(r.Qu?u():r.io(u));var s=[];return C.resolve(e.read()).then(function t(n){return n.done?(o(),C.resolve(s)):(s.push(n.value),C.resolve(e.read()).then(t))}).then(function(t){o(),i.Zo(t)},function(t){o(),i.ts(t)}),i.Qo}function Dp(t,n){var r=n,e=new lp,i=e.readable,u=e.writable,o=u.getWriter(),s=function(){r&&r.fo()};return o.closed.then(s,s),t.then(function(t){return r=void 0,o.releaseLock(),t.pipeTo(u).catch(rt)},function(t){return r=void 0,o.releaseLock(),u.abort(t).catch(rt)}),i}function Np(t){return new C(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function Ap(t){var n=new FileReader,r=Np(n);return n.readAsArrayBuffer(t),r}function Pp(t){var n=new FileReader,r=Np(n);return n.readAsText(t),r}function xp(t){return n=t,(new XMLSerializer).serializeToString(n);var n}function Fp(t){return function(t,n){var r=(new DOMParser).parseFromString(t,n);if(!r||r.getElementsByTagName("parsererror").length>0)throw new h("Invalid XML");return r}(t,"text/xml")}function Bp(t,n,r){return Op(t,r).then(function(t){return Po(t,{type:n})})}!function(t){t[t.$k=0]="$k",t[t.PO=1]="PO"}(pp||(pp={}));var Lp="content-type",Mp="text/plain;charset=UTF-8",Up="application/xml;charset=UTF-8",qp=function(){function t(){}var n=t.prototype;return n.ZT=function(t){return this.Mb(t).then(JSON.parse)},n.xO=function(t){return this.Mb(t).then(Fp)},n.VT=function(t,n){switch(t){case kv.Yk:return this.lE(n);case kv.Jk:return this.FO(n);case kv.Gi:return this.xO(n);case kv.Kk:return this.ZT(n);case kv.$k:return this.BO();case kv.zi:return this.Mb(n);default:throw new v}},t}();function jp(t,n,r){if(t instanceof qp)return t;var e,i=(r.get(Lp)||"").toLowerCase();if(t instanceof up)e={xu:pp.$k,BO:t,cR:i};else{var u=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{xu:kv.zi,lb:t,cR:n||Mp};if(t instanceof ArrayBuffer||rr(t))return{xu:kv.Yk,lb:Zp(t),cR:n};if(t instanceof Blob)return{xu:kv.Jk,lb:t,cR:t.type||n};if(t instanceof Document)return{xu:kv.Gi,lb:t,cR:n||Up};if(J(t)||Y(t))return{xu:kv.Kk,lb:t,cR:n};throw new v("Unsupported BodyInit type")}return{xu:kv.zi,lb:null,cR:n}}(t,i)});e={xu:pp.PO,Qo:u,LO:n}}return new Vp(e)}var Vp=function(t){function n(n){var r;return(r=t.call(this)||this).MO=!1,r.UO=new ve,r.UO.Qo.catch(rt),r.qO(n),r}gt(n,t);var r=n.prototype;return r.jO=function(){return this.UO.Qo},r.Mb=function(t){return this.VO(Hp,t)},r.ZT=function(t){return this.VO(zp,t)},r.FO=function(t){return this.VO(Gp,t)},r.lE=function(t){return this.VO(Kp,t)},r.BO=function(){return this.HO((t=this.WO).xu===pp.$k?t.BO:Dp(t.Qo.then($p).then(Cp),t.LO));var t},r.xO=function(t){return this.VO(Jp,t)},r.VO=function(t,n){if(this.MO)return C.reject(new v("Already used"));this.MO=!0;var r=t(this.WO,n);return this.UO.Zo(r.then(rt)),r},r.HO=function(t){if(this.MO)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.MO=!0;var n=new lp,r=C.resolve(t.pipeTo(n.writable));return this.UO.Zo(r),n.readable},r.qO=function(t){this.WO=t,t.xu===pp.PO&&t.Qo.catch(rt)},r.zO=function(){if(this.MO)throw new v("Already used");var t=function(t){if(t.xu===pp.$k){var n=t.BO.tee(),r=n[0],e=n[1];return[{xu:t.xu,BO:r,cR:t.cR},{xu:t.xu,BO:e,cR:t.cR}]}var i=t.LO.ho(),u=i[0],o=i[1];return[{xu:t.xu,Qo:t.Qo,LO:u},{xu:t.xu,Qo:t.Qo,LO:o}]}(this.WO),r=t[0],e=t[1];return this.qO(r),new n(e)},x(n,[{key:"XO",get:function(){return this.MO}}]),n}(qp);function Hp(t,n){return t.xu===pp.$k?Bp(t.BO,t.cR,n).then(Pp):(n&&t.LO.ao(n),On(t.Qo.then(Wp),t.LO))}function Wp(t){switch(t.xu){case kv.zi:return C.resolve(t.lb||"");case kv.Yk:return n=t.lb,Pp(Po([n]));case kv.Jk:return Pp(t.lb);case kv.Gi:return C.resolve(t.lb).then(xp);case kv.Kk:return C.resolve(t.lb).then(JSON.stringify)}var n}function zp(t,n){return t.xu===pp.$k?Hp(t,n).then(JSON.parse):(n&&t.LO.ao(n),On(t.Qo.then(Xp),t.LO))}function Xp(t){return t.xu===kv.Kk?C.resolve(t.lb):Wp(t).then(JSON.parse)}function Gp(t,n){return t.xu===pp.$k?Bp(t.BO,t.cR,n):(n&&t.LO.ao(n),On(t.Qo.then(Yp),t.LO))}function Yp(t){return t.xu===kv.Jk?C.resolve(t.lb):t.xu===kv.Yk?C.resolve(Po([t.lb],{type:t.cR})):Wp(t).then(function(n){return Po([n],{type:t.cR})})}function Kp(t,n){return t.xu===pp.$k?function(t,n){return Op(t,n).then(function(t){return ir(t).buffer})}(t.BO,n):(n&&t.LO.ao(n),On(t.Qo.then($p),t.LO))}function $p(t){return t.xu===kv.Yk?C.resolve(t.lb):Yp(t).then(Ap)}function Jp(t,n){return t.xu===pp.$k?Hp(t,n).then(Fp):(n&&t.LO.ao(n),On(t.Qo.then(Qp),t.LO))}function Qp(t){return t.xu===kv.Gi?C.resolve(t.lb):Wp(t).then(Fp)}function Zp(t){return t instanceof ArrayBuffer?t:ae(se(t)).buffer}function tm(t){return t.Ob>=200&&t.Ob<=299||304===t.Ob}var nm=function(t){function n(n,r){var e,i,u,o,s,c;r?(i=r.wb,u=r.gb,o=r.Ob,s=r.tE,c=r.GO):(i=[],u=kv.zi,o=200,s="OK",c=!1);var f=n.Rb,a=new Ov(n.wb||i),h=n.gb||u,v=n.Cb||(r&&r.Rb===f?r.Cb:f.vb),d=jp(void 0!==n.mu?n.mu:r?r.YO:null,n.LO||new bn,a);return(e=t.call(this,d)||this).wb=a,e.Rb=f,e.Cb=v,e.gb=h,e.Ob=void 0!==n.Ob?n.Ob:o,e.tE=void 0!==n.tE?String(n.tE):s,e.GO=n.GO||c,e}gt(n,t);var r=n.prototype;return r.mu=function(t){return this.VT(this.gb,t)},r.Xo=function(){return new n({mu:this.zO(),Rb:this.Rb},this)},n}(function(t){function n(n){var r;return(r=t.call(this)||this).YO=n,r}gt(n,t);var r=n.prototype;return r.jO=function(){return this.YO.jO()},r.Mb=function(t){return this.YO.Mb(t)},r.ZT=function(t){return this.YO.ZT(t)},r.FO=function(t){return this.YO.FO(t)},r.lE=function(t){return this.YO.lE(t)},r.xO=function(t){return this.YO.xO(t)},r.BO=function(){return this.YO.BO()},r.zO=function(){return this.YO.zO()},x(n,[{key:"XO",get:function(){return this.YO.XO}}]),n}(qp)),rm=function(t){function n(n,r,e){var i;return(i=t.call(this,r,e)||this).KO=n,i}return gt(n,t),x(n,[{key:"Rb",get:function(){return this.KO}}]),n}(kt);var em=function(t){function n(n,r){return t.call(this,n,"Error while opening "+n.vb+". Invalid URL.",r)||this}return gt(n,t),x(n,[{key:"name",get:function(){return Av.Tb}}]),n}(rm);var im=function(t){function n(n,r){var e;return(e=t.call(this,n.Rb,function(t){return"Error while loading "+t.Rb.vb+", status code "+t.Ob}(n),r)||this).$O=n,e}return gt(n,t),x(n,[{key:"name",get:function(){return Av.Eb}},{key:"Ib",get:function(){return this.$O}}]),n}(rm);var um=function(t){function n(n,r){return t.call(this,n,function(t){return"Request for "+t.vb+" timed out after "+t._b+" seconds."}(n),r)||this}return gt(n,t),x(n,[{key:"name",get:function(){return Av.Sb}}]),n}(rm),om=function(t,n){return(om=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function sm(t,n){function r(){this.constructor=t}om(t,n),t.prototype=null===n?d.create(n):(r.prototype=n.prototype,new r)}var cm="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var fm=function(){var t=cm.Blob;if(t)try{return new t,function(t,n){return new cm.Blob(t,n)}}catch(t){}var n,r=cm.BlobBuilder||cm.WebKitBlobBuilder||cm.MozBlobBuilder||cm.MSBlobBuilder;return r?(n=r,function(t,r){var e=new n;if(t)for(var i=0,u=t;i<u.length;i++){var o=u[i];e.append(o)}return e.getBlob(r&&r.type||"")}):null}(),am="function"==typeof up?up:void 0;function hm(t){return t&&"function"==typeof t.getReader}function vm(t){if("function"!=typeof t)return!1;try{var n=!1,r=new t({start:function(){n=!0}});return!!n&&hm(r)}catch(t){return!1}}var dm=function(){function t(t,n){this.xC=t,this.JO=n}return t.prototype.pull=function(t){var n=this;return this.xC.read().then(function(r){n.JO&&n.JO(r),r.done?t.close():t.enqueue(r.value)})},t.prototype.cancel=function(t){return this.xC.cancel(t)},t}();function lm(t,n){return n.constructor===t?n:new t(new dm(n.getReader()),{highWaterMark:0})}var wm=function(){function t(t,n){this.QO=t,this.vt=n}return t.prototype.pull=function(t){return this.QO().then(function(n){t.enqueue(new _(n)),t.close()})},t.prototype.cancel=function(t){this.vt&&this.vt(t)},t}();function ym(t,n,r){return new t(new wm(n,r),{highWaterMark:0})}var gm={searchParams:"URLSearchParams"in cm,iterable:"Symbol"in cm&&"iterator"in Symbol,blob:"FileReader"in cm&&!!fm,formData:"FormData"in cm,arrayBuffer:"ArrayBuffer"in cm,stream:vm(am),streamRequest:"Request"in cm&&"body"in cm.Request.prototype,streamResponse:"Response"in cm&&"body"in cm.Response.prototype,abort:"AbortController"in cm&&"Request"in cm&&"signal"in cm.Request.prototype,encoding:"TextEncoder"in cm&&"TextDecoder"in cm,url:"URL"in cm&&function(t){try{return new cm.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in cm&&/Firefox\//.test(cm.navigator.userAgent)};function _m(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function pm(t){return"string"!=typeof t&&(t=String(t)),t}function mm(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return gm.iterable&&(n[Symbol.iterator]=function(){return n}),n}var km=function(){function t(n){var r,e=this;this.Cu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];e.append(n,r)}):Array.isArray(n)?n.forEach(function(t){e.append(t[0],t[1])}):(r=n,gm.iterable&&r&&r[Symbol.iterator]?Array.from(n).forEach(function(t){e.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){e.append(t,n[t])}))}return t.prototype.append=function(t,n){t=_m(t),n=pm(n);var r=t.toLowerCase();if(this.Cu.hasOwnProperty(r)){var e=this.Cu[r],i=e[1];e[1]=i?i+", "+n:n}else this.Cu[r]=[t,n]},t.prototype.delete=function(t){var n=_m(t).toLowerCase();delete this.Cu[n]},t.prototype.get=function(t){var n=_m(t).toLowerCase();return this.Cu.hasOwnProperty(n)?this.Cu[n][1]:null},t.prototype.has=function(t){var n=_m(t).toLowerCase();return this.Cu.hasOwnProperty(n)},t.prototype.set=function(t,n){var r=(t=_m(t)).toLowerCase();this.Cu[r]=[t,pm(n)]},t.prototype.forEach=function(t,n){for(var r in this.Cu)this.Cu.hasOwnProperty(r)&&t.call(n,this.Cu[r][1],r,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,r){t.push(r)}),mm(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),mm(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,r){t.push([r,n])}),mm(t)},t.prototype.asList=function(){var t=[];for(var n in this.Cu)if(this.Cu.hasOwnProperty(n)){var r=this.Cu[n],e=r[0],i=r[1];t.push([e,i])}return t},t}();function bm(){}gm.iterable&&(km.prototype[Symbol.iterator]=km.prototype.entries);var Tm,Em,Sm,Rm=l.min,Im=String.fromCharCode,Cm=16384;function Om(t){for(var n=[],r=0,e=t;r<e.length;r++){var i=e[r];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}return function(t){for(var n=t.length,r=[],e=0;e<n;e+=Cm){var i=Rm(e+Cm,n);r.push(Im.apply(null,t.slice(e,i)))}return r.join("")}(n)}function Dm(t){if(t>=55296&&t<=57343)throw new h("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Nm(t,n){return t>>n&63|128}function Am(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Dm(t),n.push(t>>12&15|224),n.push(Nm(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Nm(t,12)),n.push(Nm(t,6))),n.push(63&t|128)):n.push(t)}function Pm(){if(Sm>=Em)throw new h("Invalid byte index");var t=255&Tm[Sm];if(Sm++,128==(192&t))return 63&t;throw new h("Invalid continuation byte")}function xm(){var t,n;if(Sm>Em)throw new h("Invalid byte index");if(Sm===Em)return!1;if(t=255&Tm[Sm],Sm++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Pm())>=128)return n;throw new h("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Pm()<<6|Pm())>=2048)return Dm(n),n;throw new h("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Pm()<<12|Pm()<<6|Pm())>=65536&&n<=1114111)return n;throw new h("Invalid UTF-8 detected")}var Fm=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Bm(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Lm(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Mm(t){return t&&DataView.prototype.isPrototypeOf(t)}var Um,qm=ArrayBuffer.isView||function(t){return t&&(Fm.indexOf(d.prototype.toString.call(t))>-1||Mm(t))};function jm(t){if(t.bodyUsed)return C.reject(new v("Already used"));t.bodyUsed=!0}function Vm(t){return new C(function(n,r){t.onload=function(){n(t.result)},t.onerror=function(){r(t.error)}})}function Hm(t){return gm.encoding?new cm.TextDecoder("utf-8").decode(new _(t)):Om(function(t){Em=(Tm=t).length,Sm=0;for(var n,r=[];!1!==(n=xm());)r.push(n);return r}(new _(t)))}function Wm(t){return gm.encoding?(new cm.TextEncoder).encode(t).buffer:new _(function(t){for(var n=[],r=0,e=t;r<e.length;r++)Am(e[r],n);return n}(function(t){for(var n=[],r=0,e=t.length;r<e;){var i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<e){var u=t.charCodeAt(r++);56320==(64512&u)?n.push(((1023&i)<<10)+(1023&u)+65536):(n.push(i),r--)}else n.push(i)}return n}(t))).buffer}function zm(t){var n=t.getReader(),r=[],e=function(t){var i=t.done,u=t.value;return i?C.resolve(r):(r.push(u),n.read().then(e))};return n.read().then(e)}function Xm(t){return zm(t).then(function(t){return function(t){for(var n=0,r=0,e=t;r<e.length;r++)n+=(c=e[r]).byteLength;for(var i=new _(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];i.set(c,u),u+=c.byteLength}return i}(t).buffer})}function Gm(t){return t.slice?t.slice(0):Ym(new _(t))}function Ym(t){if(t.slice)return t.slice(0).buffer;var n=new _(t.byteLength);return n.set(new _(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Km(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),e=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(i))}}),n}function $m(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.ZO===Um.tD){if(!n.nD.tee)throw new h("could not clone ReadableStream body");var r=n.nD.tee(),e=r[0],i=r[1];return n.body=e,n.nD=e,n.rD=e,i}return n.ZO===Um.Yk?Gm(n.nD):n.ZO===Um.PO?n.nD.then($m):n.rD}!function(t){t[t.zi=0]="zi",t[t.Jk=1]="Jk",t[t.eD=2]="eD",t[t.Yk=3]="Yk",t[t.tD=4]="tD",t[t.PO=5]="PO"}(Um||(Um={}));var Jm=function(){function t(n,r){this.bodyUsed=!1;var e,i,u,o=this;if(this.rD=n||null,n)if("string"==typeof n)this.ZO=Um.zi,this.nD=n;else if((u=n)&&"function"==typeof u.then)this.ZO=Um.PO,this.nD=C.resolve(n).then(function(n){return new t(n,r)}),this.nD.catch(bm);else if(gm.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.ZO=Um.Jk,this.nD=n;else if(gm.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.ZO=Um.eD,this.nD=n;else if(gm.searchParams&&Bm(n))this.ZO=Um.zi,this.nD=n.toString();else if(gm.arrayBuffer&&(Lm(n)||qm(n)))Mm(n)&&(this.rD=new _((i=n).buffer,i.byteOffset,i.byteLength)),this.ZO=Um.Yk,this.nD=Lm(e=n)?Gm(e):Ym(e);else{if(!gm.stream||!hm(n))throw new h("unsupported BodyInit type");n=lm(am,n),this.ZO=Um.tD,this.nD=n,this.rD=n}else this.ZO=Um.zi,this.nD="";this.iD="",r.has("content-type")?this.iD=(r.get("content-type")||"").toLowerCase():("string"==typeof n?this.iD="text/plain;charset=UTF-8":o.ZO===Um.Jk&&o.nD.type?this.iD=o.nD.type:gm.searchParams&&Bm(n)&&(this.iD="application/x-www-form-urlencoded;charset=UTF-8"),this.iD&&r.set("content-type",this.iD)),gm.stream&&(null==n?this.body=null:o.ZO===Um.tD?this.body=o.nD:this.body=ym(am,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,r,e=jm(this);return e||(this.ZO===Um.Jk?(t=this.nD,n=new FileReader,r=Vm(n),n.readAsText(t),r):this.ZO===Um.Yk?C.resolve(this.nD).then(Hm):this.ZO===Um.tD?Xm(this.nD).then(Hm):this.ZO===Um.PO?this.nD.then(function(t){return t.text()}):this.ZO===Um.eD?C.reject(new h("could not read FormData body as text")):C.resolve(this.nD))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();gm.blob&&(Jm.prototype.blob=function(){var t,n,r=jm(this);return r||(this.ZO===Um.Jk?C.resolve(this.nD):this.ZO===Um.Yk?C.resolve(fm([this.nD],{type:this.iD})):this.ZO===Um.tD?(t=this.nD,n=this.iD,zm(t).then(function(t){return fm(t,{type:n||""})})):this.ZO===Um.PO?this.nD.then(function(t){return t.blob()}):this.ZO===Um.eD?C.reject(new h("could not read FormData body as Blob")):C.resolve(fm([this.nD],{type:this.iD})))}),gm.arrayBuffer&&(Jm.prototype.arrayBuffer=function(){var t,n,r;return this.ZO===Um.Yk?jm(this)||C.resolve(this.nD):this.ZO===Um.Jk?jm(this)||(t=this.nD,n=new FileReader,r=Vm(n),n.readAsArrayBuffer(t),r):this.ZO===Um.tD?Xm(this.nD):this.ZO===Um.PO?jm(this)||this.nD.then(function(t){return t.arrayBuffer()}):this.ZO===Um.eD?C.reject(new h("could not read FormData body as ArrayBuffer")):C.resolve(this.nD).then(Wm)}),gm.formData&&(Jm.prototype.formData=function(){return this.ZO===Um.eD?jm(this)||C.resolve(this.nD):this.text().then(Km)});var Qm=[301,302,303,307,308],Zm=function(t){function n(n,r){var e=this,i=new km((r=r||{}).headers);return(e=t.call(this,n||null,i)||this).type="default",e.status=void 0===r.status?200:r.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==r.statusText?String(r.statusText):"",e.headers=i,e.url=r.url||"",e}return sm(n,t),n.prototype.clone=function(){return new n($m(this),{status:this.status,statusText:this.statusText,headers:new km(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,r){if(-1===Qm.indexOf(r))throw new RangeError("Invalid status code");return new n(null,{status:r,headers:{location:t}})},n}(Jm);var tk,nk=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function r(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function u(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function o(t){return(o=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,n,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,r){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var i=d.getOwnPropertyDescriptor(e,n);return i.get?i.get.call(r):i.value}})(t,n,r||t)}d.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){r(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var r=this.listeners[t],e=0,i=r.length;e<i;e++)if(r[e]===n)return void r.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var r=function(r){s(function(){return r.call(n,t)})},e=this.listeners[t.type],i=0,u=e.length;i<u;i++)r(e[i]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,i;return r(this,n),e=this,(t=!(i=o(n).call(this))||"object"!=typeof i&&"function"!=typeof i?f(e):i).listeners||h.call(f(t)),d.defineProperty(f(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(f(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,h),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),a(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){r(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==i?i.createEvent?(t=i.createEvent("Event")).initEvent("abort",!1,!1):(t=i.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(tk=nk)&&tk.__esModule&&d.prototype.hasOwnProperty.call(tk,"default")&&tk.default;nk.AbortSignal;var rk=nk.AbortController,ek=cm.DOMException;try{new ek}catch(t){(ek=function(t,n){h.call(this,t),this.name=n||"Error",h.captureStackTrace&&h.captureStackTrace(this,this.constructor)}).prototype=d.create(h.prototype),ek.prototype.constructor=ek}var ik=rk;var uk,ok="moz-chunked-arraybuffer";function sk(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(uk||(uk={}));var ck=function(){function t(t,n){var r=this;this.uD=!1,this.KO=t,this.oD=n,this.sD=new p,this.cD=new C(function(t,n){r.fD=t,r.aD=n})}return t.prototype.send=function(){var t=this;return this.hD().then(function(n){return t.vD(n,t.oD),t.cD})},t.prototype.hD=function(){var t=this.KO;return t.ZO===Um.tD?t.arrayBuffer():C.resolve(t.rD)},t.prototype.dD=function(t){this.KO.onprogress&&this.KO.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.lD=function(t){this.aD(t)},t.prototype.wD=function(){this.lD(new v("Network request failed"))},t.prototype.yD=function(){this.lD(new v("Network request failed"))},t.prototype.gD=function(){this.lD(new ek("Aborted","AbortError"))},t.prototype.vD=function(t,n){var r=this,e=this.KO,i=this.sD,u=function(){return r._D()};if(e.signal.aborted)return this.gD();i.onreadystatechange=function(){if(i.readyState>=uk.HEADERS_RECEIVED&&!r.uD){var t=function(t){var n=new km;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),e=r.shift().trim();if(e){var i=r.join(":").trim();n.append(e,i)}}),n}(i.getAllResponseHeaders()||""),n={status:i.status,statusText:i.statusText,headers:t,url:i.responseURL||t.get("X-Request-URL")};r.uD=!0,r.pD(n)}},i.onprogress=function(t){return r.dD(t)},i.onload=function(){return r.mD()},i.onerror=function(){return r.wD()},i.ontimeout=function(){return r.yD()},i.onabort=function(){return r.gD()},i.open(e.method,e.url,!0),i.withCredentials="include"===e.credentials,"responseType"in i&&n&&(i.responseType=n),e.headers.asList().forEach(function(t){var n=t[0],r=t[1];i.setRequestHeader(n,r)}),e.signal.addEventListener("abort",u),i.onloadend=function(){e.signal.removeEventListener("abort",u)},t?i.send(t):i.send()},t.prototype._D=function(){this.sD.abort()},t}(),fk=function(t){function n(n,r){var e=t.call(this,n,r)||this;return e.kD=void 0,e.bD=void 0,e}return sm(n,t),n.prototype.pD=function(t){var n=this;this.kD=new C(function(t,r){n.bD=t,n.TD=r}),this.fD(new Zm(this.kD,t))},n.prototype.mD=function(){var t=this.sD.response||this.sD.responseText;this.bD(t)},n.prototype.lD=function(n){t.prototype.lD.call(this,n),this.TD&&this.TD(n)},n}(ck),ak=function(t){function n(n){var r=t.call(this,n,ok)||this;return r.ED=void 0,r.SD=void 0,r.RD=!1,r}return sm(n,t),n.prototype.pD=function(t){var n=this;this.ED=new am({start:function(t){n.SD=t},cancel:function(){n.RD=!0,n._D()}}),this.fD(new Zm(this.ED,t))},n.prototype.dD=function(n){this.RD||this.SD.enqueue(new _(this.sD.response)),t.prototype.dD.call(this,n)},n.prototype.mD=function(){this.SD.close()},n.prototype.lD=function(n){t.prototype.lD.call(this,n),this.SD&&!this.RD&&(this.RD=!0,this.SD.error(n))},n}(ck),hk=function(){var t=gm.firefox&&sk(ok);return hk=function(){return t},t},vk=function(){var t;return t=gm.arrayBuffer&&sk("arraybuffer")?"arraybuffer":gm.blob&&sk("blob")?"blob":"",vk=function(){return t},t};function dk(t){return(gm.stream&&hk()?new ak(t):new fk(t,vk())).send()}var lk=cm.fetch,wk=cm.Request,yk=(cm.Response,cm.AbortController);var gk=["http:","https:"];var _k=function(){try{if(gm.streamRequest){var t=new wk("about:blank",{body:"",method:"POST"}).body;if(t&&vm(t.constructor))return t.constructor}}catch(t){}}();function pk(t,n,r){var e;if(gm.stream){var i=void 0;if(gm.streamResponse){var u=t.body;i=u&&lm(am,u)}else i=ym(am,function(){return t.arrayBuffer()},function(){n.abort()});i&&r&&(i=function(t,n,r){var e=0;return function(t,n,r){return new t(new dm(n.getReader(),r),{highWaterMark:0})}(am,t,function(t){var i=t.done,u=t.value;i?r=void 0===r?e:r:e+=u.byteLength,n(e,r)})}(i,r,mk(t.headers))),e=i}else{var o=t.arrayBuffer();r&&(o=function(t,n,r){return C.resolve().then(function(){return n(0,r),t}).then(function(t){var e=t.byteLength;return n(e,r=void 0===r?e:r),t})}(o,r,mk(t.headers))),e=o}return new Zm(e,t)}function mk(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function kk(t){var n=new yk;return function(t,n){var r,e=t;return r=e.ZO===Um.tD?gm.streamRequest&&_k?C.resolve(lm(_k,e.nD)):t.arrayBuffer():C.resolve(t.rD),t.signal&&function(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var r=function(){n.removeEventListener("abort",r),t.signal.removeEventListener("abort",r),t.abort()};n.addEventListener("abort",r),t.signal.addEventListener("abort",r)}}(n,t.signal),r.then(function(r){return new wk(t.url,{body:r||void 0,credentials:t.credentials,headers:(e=t.headers,(e instanceof km?e:new km(e)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:n.signal});var e})}(t,n).then(lk).then(function(r){return pk(r,n,t.onprogress)})}var bk=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Tk=function(t){function n(r,e){var i,u,o,s,c,f,a,h,d,l=this,w=(e=e||{}).body||null;if(r instanceof n){if(r.bodyUsed)throw new v("Already used");i=r.url,u=r.credentials,e.headers||(o=new km(r.headers)),s=r.method,c=r.mode,f=r.referrer,a=r.referrerPolicy,h=r.signal,d=r.onprogress,w||null==r.rD||(w=r.rD,r.bodyUsed=!0)}else i=String(r),u="same-origin",s="GET",c="cors",f="about:client",a="",h=null,d=null;if(!e.headers&&o||(o=new km(e.headers)),e&&(f="about:client",a=""),(l=t.call(this,w,o)||this).url=i,l.headers=o,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return bk.indexOf(n)>-1?n:t}(e.method||s),l.mode=e.mode||c,l.signal=e.signal||h||(new ik).signal,l.referrer=void 0!==e.referrer?e.referrer:f,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:a,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return sm(n,t),n.prototype.clone=function(){return new n(this,{body:$m(this)})},n}(Jm),Ek="function"==typeof lk&&gm.abort&&gm.stream&&gm.streamResponse&&gm.url;function Sk(t,n){return new C(function(r){var e=new Tk(t,n);r((Ek&&function(t){try{return gk.indexOf(new cm.URL(t,cm.location.href).protocol)>=0}catch(t){return!1}}(e.url)?kk:dk)(e))})}Sk.polyfill=!0;var Rk=function(){function t(t){this.Wb=new bn,this.$O=void 0,this.CD=!1,this.KO=t,this.Wb.ao(t.vo),this.Ib=this.OD()}var n=t.prototype;return n.OD=function(){var t=C.coroutine(xt.mark(function t(){var n,r,e,i,u,o,c,f,a=this;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.KO)._b&&s(function(){a.CD=!0,a.Wb.fo()},n._b),t.prev=2,r=Sk(n.vb,{method:n.yb,headers:n.wb.Qk(),body:n.lb,credentials:n.kb?"include":"same-origin",signal:Ok(this.Wb.vo),onprogress:n.bb}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new em(n,t.t0);case 9:return t.prev=9,t.next=12,r;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),En(i=this.DD(t.t1))&&this.Wb.fo(),i;case 20:if(u=e.url||n.vb,o=0===e.status&&"file:"===(h=u,D.Mc(h).protocol)?200:e.status,c=new Ik(this,e,this.Wb),f=new nm({mu:c,Rb:n,gb:n.gb,wb:new Ov(e.headers.asList()),Ob:o,tE:e.statusText,Cb:u}),this.$O=f,!tm(f)){t.next=29;break}return t.abrupt("return",f);case 29:throw new im(f);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.DD=function(t){return En(t)?this.CD?new um(this.KO):new Tn(t.message,t):this.$O?new im(this.$O,t):new em(this.KO,t)},t}(),Ik=function(t){function n(n,r,e){var i;return(i=t.call(this)||this).UO=new ve,i.$t=n,i.ND=r,i.Wb=e,i.UO.Qo.catch(rt),i}gt(n,t);var r=n.prototype;return r.jO=function(){return this.UO.Qo},r.Mb=function(t){return this.VO(this.ND.text(),t)},r.lE=function(t){return this.VO(this.ND.arrayBuffer(),t)},r.FO=function(t){return this.VO(this.ND.blob(),t)},r.BO=function(){var t=this.ND.body;return t?this.HO(t):Dp(this.lE().then(Cp),this.Wb)},r.zO=function(){var t=this.ND.clone(),r=this.Wb.ho(),e=r[0],i=r[1];return this.Wb=e,new n(this.$t,t,i)},r.VO=function(t,n){var r=this;n&&this.Wb.ao(n);var e=C.resolve(t).catch(function(t){throw r.$t.DD(t)});return e=On(e,this.Wb),this.UO.Zo(e.then(rt)),e},r.HO=function(t){var n=this,r=new lp,e=C.resolve(t.pipeTo(r.writable,{preventAbort:!0})).catch(function(t){var e=n.$t.DD(t);throw r.writable.abort(e).catch(rt),e});return e=On(e,this.Wb),this.UO.Zo(e.then(rt)),r.readable},x(n,[{key:"XO",get:function(){return this.ND.bodyUsed}}]),n}(qp),Ck="abort";function Ok(t){var n=new ik;if(t.Qu)n.abort();else if(!t.Zu){var r=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Ck,r),t.uo(r),t.uo(e)};n.signal.addEventListener(Ck,r),t.io(r),t.oo(e)}return n.signal}var Dk=function(){function t(){}var n=t.prototype;return n.Rb=function(t){return new Rk(t).Ib},n.EC=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.vb,Po([t.lb],{type:t.cR}));else{var n=t.cR?{"Content-type":t.cR}:void 0;An(this.Rb(new _y({yb:Sv.POST,vb:t.vb,lb:t.lb,wb:n})))}},n.oe=function(){},t}(),Nk=function(){function t(){}var n=t.prototype;return n.Rb=function(t){var n=function(t){return new nm({mu:null,wb:{},Rb:t,Cb:t.vb,gb:t.gb,Ob:0,tE:As.Vh})}(new _y(t));return C.resolve(n)},n.EC=function(t){},n.oe=function(){},t}();function Ak(t){var n;return{get url(){return t.vb},get method(){return t.yb},get headers(){return n||(n=t.wb.Qk()),n},get body(){return t.lb},get useCredentials(){return t.kb},get type(){return Lk(t.xu)},get subType(){return Uk(t.pb)},get mediaType(){return jk(t.mb)},get responseType(){return xk(t.gb)}}}function Pk(t){switch(t.toLowerCase()){case"arraybuffer":return kv.Yk;case"blob":return kv.Jk;case"document":return kv.Gi;case"json":return kv.Kk;case"stream":return kv.$k;case"text":default:return kv.zi}}function xk(t){return t}function Fk(t){switch(t.toUpperCase()){case"GET":default:return Sv.GET;case"POST":return Sv.POST;case"PUT":return Sv.PUT;case"DELETE":return Sv.DELETE;case"HEAD":return Sv.HEAD;case"OPTIONS":return Sv.OPTIONS}}function Bk(t){switch(t.toLowerCase()){case"manifest":return Rv.nb;case"segment":return Rv.rb;case"content-protection":return Rv.eb;default:return Rv.P_}}function Lk(t){return t}function Mk(t){switch(t.toLowerCase()){case"initialization-segment":return Iv.ib;case"fairplay-license":return Iv.ub;case"fairplay-certificate":return Iv.ob;case"widevine-license":return Iv.sb;case"widevine-certificate":return Iv.cb;case"playready-license":return Iv.fb;case"clearkey-license":return Iv.ab;case"aes128-key":return Iv.hb;default:return Iv.P_}}function Uk(t){return t}function qk(t){switch(t.toLowerCase()){case"audio":return Cv.ew;case"video":return Cv.rw;case"text":return Cv.zi;case"image":return Cv.A_;case"":default:return Cv.P_}}function jk(t){return t}var Vk=function(){function t(t){this.PD=t}var n=t.prototype;return n.xD=function(t){this.PD.markRequestStart(1e3*t.Om())},n.FD=function(t){this.PD.markResponseStart(1e3*t.Om())},n.BD=function(t,n){this.PD.markResponseData(1e3*t.Om(),n)},n.LD=function(t){this.PD.markResponseEnd(1e3*t.Om())},t}(),Hk=function(){function t(t,n){this.oa=void 0,this.MD=void 0,this.UD=t,this.qD=n}return t.prototype.jD=function(t){if(this.MD)return new Vk(this.MD.createMeasurer(Ak(t)))},x(t,[{key:"sa",get:function(){var t;return this.oa||(this.oa=(t=this,{get bandwidth(){return t.VD},get roundTripTime(){return t.HD.Om()},createMeasurer:function(t){throw new h("Creating a RequestMeasurer on the internal MeasurableNetworkEstimator implementation is not allowed.")}})),this.oa}},{key:"VD",get:function(){return this.MD?this.MD.bandwidth:this.qD.WD}},{key:"HD",get:function(){return this.MD?_h.Mm(this.MD.roundTripTime,1e3):this.UD.WD}}]),t}();var Wk=function(){function t(t){this.zD=0,this.XD=0,this.GD=l.exp(l.log(.5)/t)}return t.prototype.YD=function(t,n){var r=l.pow(this.GD,t),e=n*(1-r)+r*this.zD;g(e)||(this.zD=e,this.XD+=t)},x(t,[{key:"WD",get:function(){var t=1-l.pow(this.GD,this.XD);return this.zD/t}}]),t}(),zk=function(){function t(t,n,r){void 0===t&&(t=_h.fk(2)),void 0===n&&(n=_h.fk(5)),void 0===r&&(r=!1),this.KD=t,this.$D=n,this.JD=r,this.QD=0,this.ZD=_h.fk(.1),this.tN=[],this.nN=void 0,this.rN=6e4,this.eN=10,this.iN=new Wk(t.Om()),this.uN=new Wk(n.Om())}var n=t.prototype;return n.YD=function(t){var n=D.Ff(),r=t.Om();this.JD&&void 0!==this.nN&&n-this.nN>=this.rN&&this.Ba(),this.QD+=1,this.iN.YD(1,r),this.uN.YD(1,r),this.tN.push(r),this.tN.length>this.eN&&this.tN.shift(),this.nN=n},n.oN=function(){return void 0!==this.nN&&D.Ff()-this.nN<=this.rN},n.Ba=function(){this.iN=new Wk(this.KD.Om()),this.uN=new Wk(this.$D.Om()),this.QD=0,this.tN=[],this.nN=void 0},x(t,[{key:"WD",get:function(){return this.oN()?_h.fk(l.min(this.iN.WD,this.uN.WD)):this.ZD}}]),t}(),Xk=function(){function t(t,n,r,e){void 0===t&&(t=_h.fk(.5)),void 0===n&&(n=_h.fk(5)),void 0===r&&(r=128e3),void 0===e&&(e=!1),this.KD=t,this.$D=n,this.sN=r,this.JD=e,this.cN=0,this.fN=0,this.tN=[],this.nN=void 0,this.ZD=5e5,this.rN=5e3,this.iN=new Wk(t.Om()),this.uN=new Wk(n.Om())}var n=t.prototype;return n.YD=function(t,n){var r=8*n/t.Om(),e=t.Om(),i=D.Ff();for(this.JD&&void 0!==this.nN&&i-this.nN>=this.rN&&this.Ba(),this.iN.YD(e,r),this.uN.YD(e,r),this.tN.push([e,r]);;){for(var u=0,o=0,s=this.tN;o<s.length;o++){var c=s[o],f=c[0];c[1];u+=f}if(u<=this.KD.Om())break;this.tN.shift()}this.cN+=n,this.fN+=n,this.nN=i},n.oN=function(){return void 0!==this.nN&&D.Ff()-this.nN<this.rN&&this.fN>=this.sN},n.Ba=function(){this.iN=new Wk(this.KD.Om()),this.uN=new Wk(this.$D.Om()),this.fN=0,this.tN=[],this.nN=void 0},x(t,[{key:"WD",get:function(){return this.oN()?l.min(this.iN.WD,this.uN.WD):this.ZD}},{key:"aN",get:function(){return this.cN}}]),t}(),Gk=function(){function t(t,n){void 0===n&&(n=!0),this.hN=t,this.vN=n,this.UD=new zk,this.qD=new Xk,this.dN=new Hk(this.UD,this.qD)}var n=t.prototype;return n.Rb=function(t,n){return n&&G(Po)?this.lN(t,n):this.hN.Rb(this.wN(t))},n.lN=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.wN(n),(u=null!==(e=this.dN.jD(i))&&void 0!==e?e:r.yN(i,this.UD,this.qD)).xD(_h.fk(D.Ff()/1e3)),t.next=5,this.hN.Rb(i);case 5:return o=t.sent,u.FD(_h.fk(D.Ff()/1e3)),s=o.BO().pipeThrough(new lp(new Yk(u))),c={mu:s,Rb:o.Rb},t.abrupt("return",new nm(c,o));case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.EC=function(t){return this.hN.EC(this.gN(t))},n.wN=function(n){var r=new _y(n);if(!this.vN){var e=t._N(r.vb);r=new _y({vb:e},r)}return r},n.gN=function(n){var r=n.vb;return this.vN||(r=t._N(r)),{vb:r,lb:n.lb}},t._N=function(t){return i&&i.location&&"https:"===i.location.protocol&&sn(t,"http://")?t.replace(":","s:"):t},n.oe=function(){this.hN.oe()},x(t,[{key:"pN",get:function(){return this.dN}},{key:"mN",get:function(){return this.dN.sa},set:function(t){this.dN.MD=t}}],[{key:"kN",get:function(){return t.bN}},{key:"TN",get:function(){return t.EN}}]),t}();Gk.bN=new Gk(new Dk),Gk.EN=new Gk(new Nk);var Yk=function(){function t(t){this.SN=t}var n=t.prototype;return n.start=function(t){this.RN=t},n.transform=function(t){this.SN.BD(_h.fk(D.Ff()/1e3),t),this.RN.enqueue(t)},n.flush=function(){this.SN.LD(_h.fk(D.Ff()/1e3))},t}();var Kk=!W.wi&&!W.Ri;function $k(t,n,r){var e=t.getImageData(n,r,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var Jk=function(){function t(t){this.oa=void 0,this.IN=void 0,this.UR=t}var n=t.prototype;return n.CN=function(t){if(!t||!t.drawImage)return!1;var n=this.UR.Bd();if(!n)return!1;for(var r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return t.drawImage.apply(t,[n].concat(e)),!0},n.ON=function(t,n,r,e,u,o){if(!t||!t.texImage2D)return!1;var s=this.UR,c=s.Bd();if(!c)return!1;if(!Kk){this.IN||(this.IN=i.createElement("canvas"));var f=this.IN,a=f.getContext("2d"),v=s.Zv,d=s.Qv,l=f.width,w=f.height;a.clearRect(0,0,f.width,f.height),l===v&&w===d||(f.width=v,f.height=d),a.drawImage(c,0,0,v,d);var y=!1;v>0&&$k(a,v-1,0)&&(f.width=l,y=!0),d>0&&$k(a,0,d-1)&&(f.height=w,y=!0),y&&a.drawImage(c,0,0,v,d),c=f}try{t.texImage2D(n,r,e,u,o,c)}catch(t){throw new h("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},x(t,[{key:"sa",get:function(){return this.oa||(this.oa=(t=this,{drawImage:function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),i=1;i<r;i++)e[i-1]=arguments[i];return t.CN.apply(t,[n].concat(e))},texImage2D:function(n,r,e,i,u,o){return t.ON(n,r,e,i,u,o)}}));var t}}]),t}(),Qk=function(t){function n(n,r){var e;return(e=t.call(this,"DN")||this).Rf=n,e.ly=r,e}return gt(n,t),n.prototype.ca=function(){return new Zk(this.Rf,this.ly)},n}(jo),Zk=function(t){function n(n,r){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=r,e}return gt(n,t),n}(qn),tb=function(t,n){this.Xd=t,this.NN=n},nb=function(t){function n(n,r){var e;return(e=t.call(this,n,r)||this).AN=0,e.PN=0,e.xN=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.PN=n.width,e.AN=n.height,e.NN(e.PN,e.AN)}},e.FN=new S.ResizeObserver(e.xN),e.FN.observe(e.Xd),e}return gt(n,t),n.prototype.oe=function(){this.FN.disconnect()},x(n,[{key:"BN",get:function(){return this.AN}},{key:"LN",get:function(){return this.PN}}]),n}(tb),rb=0;var eb,ib=c,ub=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,ob=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function sb(){return eb||(eb=S&&S.document&&S.document.createElement("span")),eb}ub&&ob||(ub=function(t){var n=vy(),r=l.max(0,16-(n-rb)),e=s(function(){return t(n+r)},r);return rb=n+r,e},ob=ib),ub=ub.bind(t),ob=ob.bind(t);var cb=["Webkit","Moz","O","ms"],fb=(function(){var t=!1;try{if(void 0!==S&&"function"==typeof S.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});S.addEventListener("testPassiveEventSupport",rt,n),S.removeEventListener("testPassiveEventSupport",rt,n)}}catch(t){}}(),Lt());function ab(t){return fb.has(t)||fb.set(t,function(t){var n=sb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<cb.length;e++){var i=cb[e],u=i+r;if(void 0!==n.style[u])return u}return t}(t)),fb.get(t)}function hb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function vb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[ab("transition")]="0s"}var db=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r)||this).MN=void 0,i.UN=0,i.PN=NaN,i.AN=NaN,i.qN=void 0,i.Ba=function(){i.jN.style.width=1e5+"px",i.jN.style.height=1e5+"px",i.VN.scrollLeft=1e5,i.VN.scrollTop=1e5,i.HN.scrollLeft=1e5,i.HN.scrollTop=1e5,0===i.HN.scrollTop&&ub(i.Ba)},i.WN=function(){var t=i.LN,n=i.BN;i.NN(t,n),i.PN=t,i.AN=n,i.Ba(),i.UN=0},i.zN=function(){if(!i.UN){var t=i.LN,n=i.BN;t===i.PN&&n===i.AN||(i.UN=ub(i.WN))}},i.XN=function(){i.qN||(i.qN=s(i.GN,66))},i.GN=function(){i.qN=void 0,i.YN()},i.YN=function(){i.zN()},i.Ns(e),i}gt(n,t);var r=n.prototype;return r.KN=function(){var t,n=this.Xd,r=i.createElement("div");return this.VN=i.createElement("div"),this.jN=i.createElement("div"),this.HN=i.createElement("div"),this.$N=i.createElement("div"),hb(this.VN),hb(this.HN),vb(this.jN),vb(t=this.$N),t.style.width="200%",t.style.height="200%",r.appendChild(this.VN),r.appendChild(this.HN),this.VN.appendChild(this.jN),this.HN.appendChild(this.$N),n&&n.appendChild(r),this.zN(),this.VN.addEventListener("scroll",this.zN),this.HN.addEventListener("scroll",this.zN),r},r.Ns=function(t){var n=this.Xd,r=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==r||(n.style.position="relative"),this.MN=this.KN(),e&&e.addEventListener("resize",this.XN)},r.oe=function(){this.MN&&(ob(this.UN),this.UN=0,this.VN.removeEventListener("scroll",this.zN),this.HN.removeEventListener("scroll",this.zN),Ge(this.MN),this.MN=void 0,e&&e.removeEventListener("resize",this.XN))},x(n,[{key:"BN",get:function(){return this.Xd&&this.Xd.getBoundingClientRect().height||this.AN||0}},{key:"LN",get:function(){return this.Xd&&this.Xd.getBoundingClientRect().width||this.PN||0}}]),n}(tb),lb=function(t){function n(n){var r;return(r=t.call(this)||this).FN=void 0,r.xN=function(t,n){r.wo(new Qk(t,n))},r.Xd=n,r}gt(n,t);var r=n.prototype;return r.Ns=function(t){this.FN||("function"==typeof S.ResizeObserver?this.FN=new nb(this.Xd,this.xN):this.FN=new db(this.Xd,this.xN,t))},r.oe=function(){this.mo(),this.FN&&(this.FN.oe(),this.FN=void 0)},x(n,[{key:"BN",get:function(){return this.FN?this.FN.BN:0}},{key:"LN",get:function(){return this.FN?this.FN.LN:0}}]),n}(Mn),wb=function(t){function n(){return t.call(this,Fs.ma)||this}return gt(n,t),n}(qn);!function(){if(i)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var r=t[n];if(r[1]in i)return{JN:r[0],QN:r[1],ZN:r[2],tA:r[3],nA:r[4],rA:r[5]}}}();var yb=function(t){function n(){return t.call(this,Fs.fv)||this}return gt(n,t),n}(qn),gb=function(t){function n(n,r){var e;return(e=t.call(this)||this).eA=!1,e.iA=function(){return e.bs()},e.gv=function(t){e.eA||e.wo(t)},e.UR=n,e.uA=r,e.oA=Pw,e.sA(),e.UR._o(As.Lh,e.iA),e.bs(),e}gt(n,t);var r=n.prototype;return r.xv=function(){this.uA&&this.oA.xv()},r.Fv=function(){this.oA.Fv()},r.sA=function(){this.oA._o(Fs.ma,this.gv),this.oA._o(Fs.nh,this.lo)},r.cA=function(){this.oA.ko(Fs.ma,this.gv),this.oA.ko(Fs.nh,this.lo)},r.bs=function(){var t=this.oA,n=this.UR.Ld();if(t!==n){this.eA=!0;var r=this.Pv,e=this.Av;r&&this.Fv(),this.cA(),this.oA=n,this.sA(),r&&!this.Pv&&this.Av?this.xv():this.Fv(),this.eA=!1,e!==this.Av&&this.wo(new yb),r!==this.Pv&&this.wo(new wb)}},r.oe=function(){this.mo(),this.cA(),this.UR.ko(As.Lh,this.iA)},x(n,[{key:"Av",get:function(){return!!this.uA&&this.oA.Av}},{key:"Pv",get:function(){return this.oA.Pv}}]),n}(Mn),_b=function(){function t(t,n){this.fA=t,this.aA=n,this.hA=new ve,this.vA=[],this.oa=void 0,this.dA=!1,this.$O=void 0,this.lA=0}var n=t.prototype;return n.Tw=function(){this.dA=!0,this.hA.Zo(null)},n.wA=function(){this.hA.ts(this.vA)},n.yA=function(t){if(!this.gA)throw new v("Cannot respond more than once");if(!$(t))throw new v("Expected valid response");this.$O=this._A(t),this.Tw()},n.pA=function(){try{var t=this.aA(this.sa);t?this.mA(t):this.kA||this.bA||this.Tw()}catch(t){this.wA()}},n.mA=function(t){if(this.bA)throw new h("Request has been redirected or a response already exists");if(tt(t))this.TA(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new ve;try{var r=t(function(t){t?n.ts(t):n.Zo(void 0)});tt(r)&&n.Zo(r)}catch(t){n.ts(t)}this.TA(n.Qo)}},n.TA=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.lA++,t.next=4,n;case 4:this.lA--,this.kA||this.bA||(this.vA.length?this.wA():this.Tw()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.lA--,this.vA.push(t.t0),this.kA||this.bA||this.wA();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),x(t,[{key:"EA",get:function(){return this.hA.Qo}},{key:"sa",get:function(){return this.oa||(this.oa=this.SA()),this.oa}},{key:"bA",get:function(){return this.dA}},{key:"gA",get:function(){return!this.dA}},{key:"kA",get:function(){return this.lA>0}},{key:"Ib",get:function(){return this.$O}}]),t}(),pb=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r)||this).RA=e,i.pA(),i}gt(n,t),n.IA=function(t,n,r){var e=void 0===t.body?r:t.body;return new nm({mu:e,Rb:n.Rb,gb:n.Rb.gb,wb:t.headers,Ob:t.status,tE:t.statusText,Cb:t.url,GO:!0},n)};var r=n.prototype;return r.SA=function(){return r=Ak((t=this).Rb),{get closed(){return!t.gA},get request(){return r},get url(){return t.vb},get status(){return t.Ob},get statusText(){return t.tE},get headers(){return n||(n=t.wb.Qk()),n},get body(){return t.lb},respondWith:function(n){return t.yA(n)},waitUntil:function(n){return t.mA(n)}};var t,n,r},r._A=function(t){return n.IA(t,this.fA,this.RA)},x(n,[{key:"lb",get:function(){return this.RA}},{key:"wb",get:function(){return this.fA.wb}},{key:"Rb",get:function(){return this.fA.Rb}},{key:"Ib",get:function(){return this.$O}},{key:"Ob",get:function(){return this.fA.Ob}},{key:"tE",get:function(){return this.fA.tE}},{key:"vb",get:function(){return this.fA.Cb}}]),n}(_b),mb=function(t){function n(n,r,e){var i;return(i=t.call(this,n,r)||this).CA=void 0,i.OA=e,i.pA(),i}gt(n,t);var r=n.prototype;return r.SA=function(){return t=this,{get url(){return t.vb},get method(){return t.yb},get headers(){return n||(n=t.wb.Qk()),n},get body(){return t.lb},get closed(){return!t.gA},get useCredentials(){return t.kb},get type(){return Lk(t.xu)},get subType(){return Uk(t.pb)},get mediaType(){return jk(t.mb)},get responseType(){return xk(t.gb)},redirect:function(n){return t.DA(n)},respondWith:function(n){return t.yA(n)},waitUntil:function(n){return t.mA(n)}};var t,n},r._A=function(t){var n=this.fA.lb,r=new nm({mu:n,wb:{},Rb:this.fA,Cb:this.fA.vb,gb:this.fA.gb,Ob:200,tE:"OK"});return pb.IA(t,r,n)},r.DA=function(t){if(!this.gA)throw new v("Cannot redirect, already redirected or has a response");var n;n=Q(t)?{url:t}:t,this.CA=function(t,n){return new _y({vb:void 0===t.url?n.vb:t.url,yb:void 0!==t.method?Fk(t.method):void 0,wb:t.headers,lb:t.body,kb:t.useCredentials,xu:void 0!==t.type?Bk(t.type):void 0,pb:void 0!==t.subType?Mk(t.subType):void 0,mb:void 0!==t.mediaType?qk(t.mediaType):void 0,gb:void 0!==t.responseType?Pk(t.responseType):void 0},n)}(n,this.fA),this.Tw()},x(n,[{key:"lb",get:function(){return this.fA.lb}},{key:"gA",get:function(){return this.OA&&!this.dA}},{key:"wb",get:function(){return this.fA.wb}},{key:"yb",get:function(){return this.fA.yb}},{key:"NA",get:function(){return this.CA}},{key:"Ib",get:function(){return this.$O}},{key:"gb",get:function(){return this.fA.gb}},{key:"_b",get:function(){return this.fA._b}},{key:"vo",get:function(){return this.fA.vo}},{key:"xu",get:function(){return this.fA.xu}},{key:"pb",get:function(){return this.fA.pb}},{key:"mb",get:function(){return this.fA.mb}},{key:"vb",get:function(){return this.fA.vb}},{key:"kb",get:function(){return this.fA.kb}},{key:"bb",get:function(){return this.fA.bb}}]),n}(_b);var kb,bb=function(t){function n(n,r){var e;void 0===r&&(r=!0);var i=new Tb(n);return(e=t.call(this,i,r)||this).AA=i,e}gt(n,t);var r=n.prototype;return r.PA=function(t){this.AA.PA(t)},r.xA=function(t){this.AA.xA(t)},r.FA=function(t){this.AA.FA(t)},r.BA=function(t){this.AA.BA(t)},r.LA=function(t){this.AA.LA(t)},n}(Gk),Tb=function(){function t(t){this.MA=[],this.UA=[],this.hN=t}var n=t.prototype;return n.Rb=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.qA(n,n.vo);case 3:e=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof rm)){t.next=12;break}return t.next=11,this.jA(t.t0,n.vo);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.VA(e,n.vo);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,r){return t.apply(this,arguments)}}(),n.EC=function(t){return this.hN.EC(t)},n.qA=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Sn(r),i=void 0,u=0,o=this.MA.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],Sn(r),(c=new mb(n,s,!i)).bA){t.next=17;break}return t.prev=8,t.next=11,c.EA;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.NA&&!i?n=c.NA:c.Ib&&!i&&(i=c.Ib);case 18:u++,t.next=3;break;case 21:if(!i){t.next=23;break}return t.abrupt("return",i);case 23:return t.abrupt("return",this.hN.Rb(n,e));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,r,e){return t.apply(this,arguments)}}(),n.jA=function(t,n){var r;return r=t instanceof im?t.Ib:new nm({mu:null,Rb:t.Rb,Ob:0,tE:""}),this.VA(r,n)},n.VA=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,i=this.UA.slice();case 1:if(!(e<i.length)){t.next=22;break}return u=i[e],Sn(r),t.next=6,C.resolve(n.Xo().mu(r));case 6:if(o=t.sent,(s=new pb(n,u,o)).bA){t.next=18;break}return t.prev=9,t.next=12,s.EA;case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("continue",19);case 18:n=s.Ib||n;case 19:e++,t.next=1;break;case 22:if(!tm(n)){t.next=26;break}return t.abrupt("return",n);case 26:throw new im(n);case 27:case"end":return t.stop()}},t,this,[[9,14]])}));return function(n,r){return t.apply(this,arguments)}}(),n.PA=function(t){this.MA.unshift(t)},n.xA=function(t){this.MA.push(t)},n.FA=function(t){gn(this.MA,t)},n.BA=function(t){this.UA.unshift(t)},n.LA=function(t){gn(this.UA,t)},n.oe=function(){this.hN.oe(),mn(this.MA),mn(this.UA)},t}(),Eb=function(t){function n(n,r){var e;return(e=t.call(this,r)||this).HA=n,e.xb=r,e.WA=void 0,e.HA._o(As.Hh,e.lo),e.HA._o(As.Vh,e.lo),e}gt(n,t);var r=n.prototype;return r.PA=function(t){this.xb.PA(t)},r.FA=function(t){this.xb.FA(t)},r.BA=function(t){this.xb.BA(t)},r.LA=function(t){this.xb.LA(t)},r.oe=function(){this.mo(),this.HA.ko(As.Hh,this.lo),this.HA.ko(As.Vh,this.lo)},x(n,[{key:"sa",get:function(){var t;return this.oa||(this.oa=(t=this,{get online(){return t.il},get estimator(){return t.zA},set estimator(n){t.zA=n},addRequestInterceptor:function(n){t.PA(n)},removeRequestInterceptor:function(n){t.FA(n)},addResponseInterceptor:function(n){t.BA(n)},removeResponseInterceptor:function(n){t.LA(n)},addEventListener:function(n,r){t._o(n,r)},removeEventListener:function(n,r){t.ko(n,r)}})),this.oa}},{key:"il",get:function(){return this.HA.il}},{key:"zA",get:function(){var t;return null!==(t=this.WA)&&void 0!==t?t:this.xb.mN},set:function(t){this.xb.mN=function(t){return{get bandwidth(){return cs(t.bandwidth)},get roundTripTime(){return cs(t.roundTripTime)},createMeasurer:function(n){return r=t.createMeasurer(n),{markRequestStart:function(t){r.markRequestStart(t)},markResponseStart:function(t){r.markResponseStart(t)},markResponseData:function(t,n){r.markResponseData(t,n)},markResponseEnd:function(t){r.markResponseEnd(t)}};var r}}}(t),this.WA=t}}]),n}(Is);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(kb||(kb={}));var Sb=30,Rb={type:kb.BANDWIDTH},Ib=20,Cb=60;function Ob(t){var n,r,e,i=rs(Rb);return Q(t)?i.type=Db(t):$(t)&&function(t){switch(t){case kb.PERFORMANCE:case kb.QUALITY:case kb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(i.type=Db(t.type)),$(t)&&$(t.metadata)&&(i.metadata=(n=t.metadata,r={},e=ss(n.bitrate),g(e)||(r.bitrate=e),r)),i}function Db(t){switch(t){case"bandwidth":return kb.BANDWIDTH;case"performance":return kb.PERFORMANCE;case"quality":return kb.QUALITY}}var Nb=function(t){function n(n){var r;return(r=t.call(this,"GA")||this).XA=n,r}return gt(n,t),n}(qn),Ab=function(t){function n(n){var r;return(r=t.call(this,"KA")||this).YA=n,r}return gt(n,t),n}(qn),Pb=function(t){function n(n){var r;return(r=t.call(this,"JA")||this).$A=n,r}return gt(n,t),n}(qn),xb=function(t){function n(){var n,r;return(n=t.apply(this,arguments)||this).oa=(r=pt(n),{get strategy(){return{metadata:(t=r.YA).metadata,type:(n=t.type,n)};var t,n},set strategy(t){r.YA=Ob(t)},get targetBuffer(){return r.XA},set targetBuffer(t){var n=ss(t);g(n)||(r.XA=n>Cb?Cb:n)},get bufferLookbackWindow(){return r.$A},set bufferLookbackWindow(t){var n=ss(t);g(n)||(r.$A=n<=0?Sb:n)}}),n.QA=Rb,n.ZA=Ib,n.tP=Sb,n}return gt(n,t),x(n,[{key:"nP",get:function(){switch(this.QA.type){case kb.PERFORMANCE:return 0;case kb.QUALITY:return 1/0;case kb.BANDWIDTH:return this.QA.metadata&&void 0!==this.QA.metadata.bitrate?this.QA.metadata.bitrate:8*Ic.wd();default:return 8*Ic.wd()}}},{key:"sa",get:function(){return this.oa}},{key:"YA",get:function(){return this.QA},set:function(t){this.QA=t,this.wo(new Ab(t))}},{key:"XA",get:function(){return this.ZA},set:function(t){this.ZA=t,this.wo(new Nb(t))}},{key:"$A",get:function(){return this.tP},set:function(t){this.tP=t,this.wo(new Pb(t))}}]),n}(Mn),Fb=function(t){function n(){return t.call(this,"ka")||this}return gt(n,t),n.prototype.ca=function(){return new Bb},n}(jo),Bb=function(t){function n(){return t.call(this,"change")||this}return gt(n,t),n}(qn),Lb=function(t){function n(n,r){var e;return(e=t.call(this,r)||this).rP=function(t){var n;n=t,Boolean(n&&n.sa)&&Nn(function(){e.wo(t.sa)})},e.eP=n,e.eP.dh(e.rP),e}return gt(n,t),n.prototype.oe=function(){this.mo(),this.eP.lh(this.rP)},n}(Is),Mb=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n}(Lb);var Ub=wo.af,qb=new wo(-1/0),jb=wo.hf,Vb=function(t){function n(n,r){return t.call(this,n,r)||this}gt(n,t);var r=n.prototype;return r.rf=function(t,n){return t.Zc(n)?uo.jc:t.ef(n)?uo.Uc:uo.qc},r.$c=function(t,n){return t.$c(n)},r.if=function(t,n){return t.if(n)},r.tf=function(t,n){return t.tf(n)},r.J_=function(){return Ub},r.Z_=function(){return jb},r.ep=function(){return qb},n.bp=function(t){for(var r=[],e=0;e<t.length;e++)r.push(new wo(t.start(e)),new wo(t.end(e)));return new n(r)},n.iP=function(t){for(var r=[],e=[],i=0;i<t.Ma;i++)r.push(new wo(t.B_(i))),r.push(new wo(t.M_(i))),e.push(t.L_(i)),e.push(t.U_(i));return new n(r,e)},n.Tp=function(t){return new n([t,t],[!0,!0])},r.Y_=function(t,r){return new n(t,r)},r.X_=function(t){return t.cf},n.Ep=function(){return Hb},n}(oa),Hb=new Vb([]),Wb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sm=0,n.cm=1/0,n}gt(n,t);var r=n.prototype;return r.Ba=function(){0===this.sm&&this.cm===1/0||(this.sm=0,this.cm=1/0,this.wo(new Fb))},r.uP=function(){return new Vb([new wo(this.Zp),new wo(this.tm)],[!0,!0])},x(n,[{key:"Zp",get:function(){return this.sm},set:function(t){if(this.tm<=t)throw new h("Start time of a clip should be smaller than the end time.");this.sm!==t&&(this.sm=t,this.wo(new Fb))}},{key:"tm",get:function(){return this.cm},set:function(t){if(t<=this.Zp)throw new h("End time of a clip should be larger than the start time.");this.cm!==t&&(this.cm=t,this.wo(new Fb))}},{key:"sa",get:function(){var t,n,r;return this.oa||(this.oa=(r={get startTime(){return t.Zp},set startTime(n){t.Zp=n},get endTime(){return t.tm},set endTime(n){t.tm=n},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)}},n=new Lb(t=this,r),r)),this.oa}}]),n}(Is),zb=function(t){function n(n){var r;return(r=t.call(this)||this).oP=n,r.sP=function(t){r.cP(t)||r.wo(t)},r.oP.dh(r.sP),r}gt(n,t);var r=n.prototype;return r.fP=function(){return this.oP.Td},r.Md=function(){return this.oP.Md()},r.aP=function(){return this.oP.Wd},r.hP=function(){return this.oP.Vd},r.vP=function(){return this.oP.zd},r.dP=function(t){this.oP.zd=t},r.lP=function(){return this.oP.Wv},r.wP=function(t){this.oP.Wv=t},r.yP=function(){return this.oP.zv},r.gP=function(){return this.oP.Xd},r._P=function(){return this.oP.Xv},r.pP=function(){return this.oP.Do},r.mP=function(){return this.oP.Gv},r.kP=function(){return this.oP.Yd},r.bP=function(){return this.oP.Yv},r.TP=function(t){this.oP.Yv=t},r.EP=function(){return this.oP.il},r.SP=function(){return this.oP.Kv},r.RP=function(){return this.oP.$v},r.IP=function(t){this.oP.$v=t},r.CP=function(){return this.oP.ul},r.OP=function(){return this.oP.ol},r.DP=function(t){this.oP.ol=t},r.NP=function(){return this.oP.sh},r.AP=function(){return this.oP.sl},r.PP=function(){return this.oP.Jv},r.Id=function(){return this.oP.Id()},r.Cd=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(r),t.next=3,this.oP.Cd(n,r);case 3:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.xP=function(){return this.oP.Sd},r.FP=function(){return this.oP.Qv},r.BP=function(){return this.oP.Ed},r.LP=function(){return this.oP.Zv},r.MP=function(){return this.oP.td},r.UP=function(t){this.oP.td=t},r.Ld=function(){return this.oP.Ld()},r.Bd=function(){return this.oP.Bd()},r.Ad=function(t){this.oP.Ad(t)},r.Pd=function(){this.oP.Pd()},r.Fd=function(){this.oP.Fd()},r.fe=function(){this.oP.fe()},r.ee=function(){this.oP.ee()},r.re=function(){this.oP.re()},r.xd=function(){this.oP.xd()},r.Rd=function(){return this.oP.Rd()},r.Od=function(){return this.oP.Od()},r.Dd=function(){this.oP.Dd()},r.Nd=function(){this.oP.Nd()},r.Ba=function(){return this.oP.Ba()},r.oe=function(){return this.oP.oe()},r.Hd=function(){this.oP.Hd()},r.Ud=function(t){return this.oP.Ud(t)},r.cP=function(t){return!1},x(n,[{key:"Td",get:function(){return this.fP()}},{key:"Wd",get:function(){return this.aP()}},{key:"zd",get:function(){return this.vP()},set:function(t){this.dP(t)}},{key:"Vd",get:function(){return this.hP()}},{key:"Wv",get:function(){return this.lP()},set:function(t){this.wP(t)}},{key:"zv",get:function(){return this.yP()}},{key:"Xd",get:function(){return this.gP()}},{key:"Xv",get:function(){return this._P()}},{key:"Do",get:function(){return this.pP()}},{key:"Gv",get:function(){return this.mP()}},{key:"Gd",get:function(){return this.oP.Gd}},{key:"Yd",get:function(){return this.kP()}},{key:"Kd",get:function(){return this.oP.Kd}},{key:"Yv",get:function(){return this.bP()},set:function(t){this.TP(t)}},{key:"il",get:function(){return this.EP()}},{key:"Kv",get:function(){return this.SP()}},{key:"$v",get:function(){return this.RP()},set:function(t){this.IP(t)}},{key:"ul",get:function(){return this.CP()}},{key:"ol",get:function(){return this.OP()},set:function(t){this.DP(t)}},{key:"sh",get:function(){return this.NP()}},{key:"sl",get:function(){return this.AP()}},{key:"Jv",get:function(){return this.PP()}},{key:"Sd",get:function(){return this.xP()}},{key:"Qv",get:function(){return this.FP()}},{key:"Ed",get:function(){return this.BP()}},{key:"Zv",get:function(){return this.LP()}},{key:"td",get:function(){return this.MP()},set:function(t){this.UP(t)}}]),n}(Cs),Xb=function(t){function n(r,e){var i;return(i=t.call(this,r)||this).qP=!1,i.jP=void 0,i.VP=!1,i.HP=function(){i.WP(),i.zP()},i.jS=function(){i.XP(),i.zP(),i.GP&&i.Wv>=i.YP.tm-n.KP&&!i.Xv&&(i.jP=ub(i.jS))},i.$P=function(){i.VP=!0},i.JP=function(){i.VP&&(i.VP=!1,i.zP())},i.YP=e,i.YP._o("ka",i.HP),i.oP._o("timeupdate",i.jS),i}gt(n,t);var r=n.prototype;return r.wP=function(n){var r=this.YP.uP().K_(new wo(n)).cf;t.prototype.wP.call(this,r),this.zP()},r._P=function(){return t.prototype._P.call(this)||this.qP},r.AP=function(){return Vb.bp(t.prototype.AP.call(this)).tp(this.YP.uP()).W_()},r.re=function(){this._P()?this.wP(this.QP.start(0)):this.WP(),t.prototype.re.call(this),this.zP()},r.Cd=function(){var n=C.coroutine(xt.mark(function n(r,e){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Sn(e),this.qP=!1,this.YP.Ba(),n.next=5,t.prototype.Cd.call(this,r,e);case 5:case"end":return n.stop()}},n,this)}));return function(t,r){return n.apply(this,arguments)}}(),r.oe=function(){return this.YP.ko("ka",this.HP),this.oP.ko("timeupdate",this.jS),this.XP(),t.prototype.oe.call(this)},r.cP=function(n){switch(n.type){case"seeking":return this.wo(n),this.$P(),!0;case"seeked":case"emptied":return this.wo(n),this.JP(),!0;case"ended":if(this.GP)return!0}return t.prototype.cP.call(this,n)},r.XP=function(){this.jP&&(ob(this.jP),this.jP=void 0)},r.zP=function(){var t=this.Wv,r=this.GP&&t>=this.YP.tm-n.ff;this.qP&&!r?(this.qP=!1,this.Kv&&this.re()):this.qP||!r||this.Jv||this.VP||(this.qP=!0,this.wo(new qs(t)),this.ee())},r.WP=function(){if(this.zv!==1/0){var t=this.QP,r=Vb.bp(t).K_(new wo(this.Wv)).cf;co(this.Wv,r,n.ff)||this.wP(r)}},x(n,[{key:"QP",get:function(){return this.AP().length?this.AP():this.YP.uP().W_()}},{key:"GP",get:function(){return this.YP.tm<this.zv}}]),n}(zb);Xb.KP=1,Xb.ff=.001;var Gb=function(){function t(){this.ZP=!1}return x(t,[{key:"tx",get:function(){return this.ZP},set:function(t){this.ZP=t}}]),t}(),Yb=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).nx=!1,e.ex=!1,e.ZP=r,e}gt(n,t);var r=n.prototype;return r._P=function(){return!this.ZP.tx&&t.prototype._P.call(this)},r.ee=function(){this.ex=!0,t.prototype.ee.call(this)},r.re=function(){this.ex=!1,t.prototype.re.call(this)},r.cP=function(n){if(this.ZP.tx)switch(n.type){case"ended":return this.Wv=0,this.ex||(this.Jv?this.nx=!0:this.re()),!0;case"seeked":this.nx&&(this.nx=!1,this.re());break;case"pause":if(this.nx||t.prototype._P.call(this))return!0}return t.prototype.cP.call(this,n)},n}(zb);var Kb=function(){function t(t){var n;this.QR=t,this.oa=(n=this,{get currentBandwidthEstimate(){return n.Zd},get corruptedVideoFrames(){return n.Jd},get droppedVideoFrames(){return n.$d},get totalBytesLoaded(){return n.tl},get bufferedSegments(){return n.nl}})}return x(t,[{key:"sa",get:function(){return this.oa}},{key:"Jd",get:function(){return this.QR.ix.Kd.Jd}},{key:"Zd",get:function(){return this.QR.ix.Kd.Zd}},{key:"$d",get:function(){return this.QR.ix.Kd.$d}},{key:"ux",get:function(){throw new h("Not implemented")}},{key:"ox",get:function(){throw new h("Not implemented")}},{key:"tl",get:function(){return this.QR.ix.Kd.tl}},{key:"Qd",get:function(){return this.QR.ix.Kd.Qd}},{key:"nl",get:function(){return this.QR.ix.Kd.nl}}]),t}(),$b=function(t){function n(){return t.call(this,"sx")||this}return gt(n,t),n.prototype.ca=function(){return new Jb},n}(jo),Jb=function(t){function n(){return t.call(this,"castingchange")||this}return gt(n,t),n}(qn);var Qb=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).ax=[],n.oa=void 0,n.hx=function(){return n.wo(new $b)},n}gt(n,t);var r=n.prototype;return r.vx=function(t){this.ax.push(t),t._o("statechange",this.hx)},r.oe=function(){var t=this;this.ax.forEach(function(n){n.ko("statechange",t.hx)}),mn(this.ax)},x(n,[{key:"lx",get:function(){return this.ax.some(function(t){return t.lx})}},{key:"sa",get:function(){var t,n,r;return this.oa||(this.oa=(r={get casting(){return t.lx},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)}},n=new Mb(t=this,r),r)),this.oa}}]),n}(Cs),Zb=function(){function t(){}return t.wx=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new _y({vb:n,gb:kv.zi,yb:Sv.GET}),t.next=4,r.Rb(e);case 4:return i=t.sent,t.next=7,i.mu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),En(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,r){return t.apply(this,arguments)}}(),t.yx=function(t){try{var r=zw(t);return new Jw(r.key,r.domains_page,r.domains_source,r.expiration_date,r.customer_id,r.generation_date,r.sdks,r.send_impression)}catch(t){throw new Be(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.gx=function(t){void 0===t&&(t=hy.xk),D.Lf("The baked-in license is used. Please update the configuration with your license.");var n=t.cI(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),r=["F$(:_L50F|aY"].map(function(n){return t.cI(n)}),e=["F$(:_L50F|aY"].map(function(n){return t.cI(n)}),i=Number(new Date(Number(t.cI("COD|aHpHa:p3Ceo3Co\"\""))));return new Jw(n,r,e,i)},t.getDummyLicense=function(t,n){return new Jw(t,[],[],864e13,n)},t}(),tT=function(){function t(){}return t.Df=function(){return t.ji||(t.ji=nT.Ms()?new nT:new Do),t.ji},t.jo=function(n){t.Df().jo(n)},t.Cf=function(){t.Df().Cf()},t.Mo=function(n){return t.Df().Mo(n)},t.Of=function(n,r){t.Df().Of(n,r)},t._x=function(n){var r=t.Mo(n);if(void 0!==r)return y(r)},t.mx=function(n){return"true"===t.Mo(n)},t}();tT.ji=void 0;var nT=function(n){function r(){return n.apply(this,arguments)||this}gt(r,n),r.Ms=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=r.prototype;return e.jo=function(n){t.localStorage.removeItem(n)},e.Cf=function(){t.localStorage.clear()},e.Mo=function(n){return t.localStorage[n]},e.Of=function(n,r){t.localStorage[n]=r},r}(tT),rT=l.floor(14399999*l.random()-72e5),eT=function(){function t(t,n,r,e,i,u){this.xb=t,this.kx=n,this.bx=r,this.eC=e,this.Tx=i,this.CI=u,this.OI=iy(u)}var r=t.prototype;return r.Ex=function(){var t=C.coroutine(xt.mark(function t(){var n;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Sx(this.Tx.license,this.Tx.licenseUrl);case 2:n=t.sent,this.eC.Rx(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Sx=function(){var t=C.coroutine(xt.mark(function t(r,e){var i,u,o,s,c,f,a,h;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e,r?u=Zb.yx(r):i||(u=Zb.gx()),i||(i="https://validate.theoplayer.com/1/"+u.yI),o=this.Ix(),!u){t.next=14;break}if((s=this.kx.xI(u))!==Gw.dI){t.next=14;break}if(!this.Cx(u.pI)||!this.Cx(null==o?void 0:o.pI)){t.next=13;break}return t.next=10,this.Ox(i);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.kx.xI(o)!==Gw.dI){t.next=24;break}if(!this.Cx(null==o?void 0:o.pI)){t.next=23;break}return t.next=20,this.Ox(i);case 20:if(!(f=t.sent)){t.next=23;break}return t.abrupt("return",f);case 23:return t.abrupt("return",o);case 24:tT.jo("THEOplayer.license");case 25:return t.next=27,Zb.wx(i,this.xb);case 27:if(!(a=t.sent)){t.next=37;break}if(h=Zb.yx(a),this.kx.xI(h)!==Gw.dI){t.next=34;break}return tT.Of("THEOplayer.license",a),t.abrupt("return",h);case 34:tT.jo("THEOplayer.license"),t.next=39;break;case 37:if(this.OI||!u||s!==Gw.lI||i!=="https://validate.theoplayer.com/1/"+u.yI){t.next=39;break}return t.abrupt("return",Zb.getDummyLicense(u.yI,u.mI));case 39:if(!u&&!h){t.next=43;break}this.Dx(null!=u?u:h,new Be(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Be(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.DI=function(){var t=C.coroutine(xt.mark(function t(n){var r,e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eC.gC();case 2:if(e=t.sent,!this.Cx(e.pI)){t.next=9;break}return i=null!==(r=this.Tx.licenseUrl)&&void 0!==r?r:"https://validate.theoplayer.com/1/"+e.yI,t.next=7,this.Ox(i);case 7:(u=t.sent)&&(this.eC.Rx(u),e=u);case 9:if(t.prev=9,(o=this.kx.xI(e))!==Gw.wI){t.next=16;break}throw s=$w.EI,new Be(Zw(s),oy.AI(s));case 16:if(o!==Gw.lI){t.next=19;break}throw c=$w.lI,new Be(Zw(c),oy.AI(c));case 19:this.kx.DI(n,e),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.Nx(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),r.Ox=function(){var t=C.coroutine(xt.mark(function t(n){var r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Zb.wx(n,this.xb);case 3:if(void 0!==(r=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(e=Zb.yx(r),this.kx.xI(e)!==Gw.dI){t.next=11;break}return tT.Of("THEOplayer.license",r),t.abrupt("return",e);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),r.Cx=function(t){return!t||Number(new Date)+2592e5+rT>=t},r.Ix=function(){var t=tT.Mo("THEOplayer.license");if(t)return Zb.yx(t)},r.Dx=function(t,n){this.eC.Rx(t),this.Nx(n)},r.Nx=function(t){throw dt(t.message),this.bx.mC(t.message),t},t}(),iT=function(){function t(){this.RN=new ve}var n=t.prototype;return n.Rx=function(t){this.Ax=t,this.RN.Zo()},n.gC=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Ax){t.next=2;break}return t.abrupt("return",C.resolve(this.Ax));case 2:return t.next=4,this.RN.Qo;case 4:return t.abrupt("return",this.Ax);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(t,[{key:"Px",get:function(){return this.Ax}}]),t}(),uT=function(t){function n(){return t.call(this,"ka")||this}return gt(n,t),n.prototype.ca=function(){return new oT},n}(jo),oT=function(t){function n(){return t.call(this,"change")||this}return gt(n,t),n}(qn);var sT,cT,fT={xx:void 0,Fx:void 0,Bx:void 0,Lx:void 0,Mx:void 0,Ux:void 0},aT="THEOplayer.textTrackStyle.",hT=function(t){function n(){var r;return(r=t.call(this)||this).oa=void 0,r.qx=n.jx(),r}return gt(n,t),n.prototype.bs=function(t){this.qx=Ft(Ft({},this.qx),t),n.Vx(this.qx),this.wo(new uT)},n.jx=function(){var t=Ft({},fT);return t.xx=tT.Mo(aT+"fontFamily")||t.xx,t.Fx=tT.Mo(aT+"fontColor")||t.Fx,t.Bx=tT.Mo(aT+"fontSize")||t.Bx,t.Lx=tT.Mo(aT+"backgroundColor")||t.Lx,t.Mx=tT.Mo(aT+"windowColor")||t.Mx,t.Ux=tT.Mo(aT+"edgeStyle")||t.Ux,t},n.Vx=function(t){tT.Of(aT+"fontFamily",t.xx||""),tT.Of(aT+"fontColor",t.Fx||""),tT.Of(aT+"fontSize",t.Bx||""),tT.Of(aT+"backgroundColor",t.Lx||""),tT.Of(aT+"windowColor",t.Mx||""),tT.Of(aT+"edgeStyle",t.Ux||"")},x(n,[{key:"Hx",get:function(){return this.qx}},{key:"xx",get:function(){return this.qx.xx},set:function(t){this.bs({xx:t})}},{key:"Fx",get:function(){return this.qx.Fx},set:function(t){this.bs({Fx:t})}},{key:"Bx",get:function(){return this.qx.Bx},set:function(t){this.bs({Bx:t})}},{key:"Lx",get:function(){return this.qx.Lx},set:function(t){this.bs({Lx:t})}},{key:"Mx",get:function(){return this.qx.Mx},set:function(t){this.bs({Mx:t})}},{key:"Ux",get:function(){return this.qx.Ux},set:function(t){this.bs({Ux:t})}},{key:"sa",get:function(){var t,n,r;return this.oa||(this.oa=(t=this,r={get fontFamily(){return t.xx},set fontFamily(n){t.xx=n},get fontColor(){return t.Fx},set fontColor(n){t.Fx=n},get fontSize(){return t.Bx},set fontSize(n){t.Bx=n},get backgroundColor(){return t.Lx},set backgroundColor(n){t.Lx=n},get windowColor(){return t.Mx},set windowColor(n){t.Mx=n},get edgeStyle(){return t.Ux},set edgeStyle(n){t.Ux=n},addEventListener:function(t,r){var e=as(t,fs);n._o(e,r)},removeEventListener:function(t,r){var e=as(t,fs);n.ko(e,r)}},n=new Un(r),t._o(["ka"],function(t){return n.wo(t.sa)}),r)),this.oa}}]),n}(Mn),vT=function(t){function n(n,r){var e;(e=t.call(this)||this).Wx=!1,e.gd=!1,e.zx=!1,e.Xx=function(t){if(!e.zx){e.zx=!0;var n=e.Gx,r=Pc(t);e.ix.Wa=new xw(e.Xd,r,t),An(n.oe())}},e.Yx=function(t){e.wo(t.sa)},e.Kx=function(t){t.type!==As.Hh&&t.type!==As.Vh&&e.wo(t)};var i=ss(r.uid);g(i)?e.qp=Ha++:e.qp=i,e.Gy=r,e.$x=new xb;var u=Gk.kN,o=new iT;e.Jx=new Ty("2.83.1",u,o),e.jT=new bb(u,r.allowMixedContent),e.kx=new Qw(r.isEmbeddable,"2.83.1",Xw()),e.Qx=new eT(u,e.kx,e.Jx,o,r,Xw()),e.Qx.Ex().catch(e.Xx),e.Zx=new lb(n),e.Zx._o("DN",e.Yx),e.YR=new hT,e.YP=new Wb,e.ZP=new Gb;var s=new Dw(n,r,e.jT,e.$x,e.Zx,e.YR);s=new Xb(s,e.tF),s=new Yb(s,e.tx),e.Gx=s,e.ix=new Oc(e.Gx),e.ix.dh(e.Kx),e.nF=new Kb(pt(e)),e.rF=new Eb(e.ix,e.jT),e.eF=new Jk(pt(e)),e.iF=new gb(e.ix,r.allowNativeFullscreen),e.uF=new uc(e.iF),e.Zx.Ns();var c=new b(e.Zx,e.YR,1,[ea.rw]);return e.oF=new T(c),e.sF=new Qb,e}gt(n,t);var r=n.prototype;return r.TP=function(t){this.ix.Yv=t,t||this.Kv||this.fe()},r.UP=function(t){this.ix.td=t},r.cF=function(){Tc(this,kc,this)},r.re=function(){this.ix.re()},r.ee=function(){this.ix.ee()},r.Cd=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.Qx.DI(n).catch(this.Xx),e=dT(n),t.next=5,this.ix.Cd(e,r);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.fe=function(){this.gd||(this.ix.fe(),this.oF.fe(),this.gd=!0)},r.Pv=function(){return this.uF.Iv()===Js.FULLSCREEN},r.xd=function(){this.ix.xd()},r.Fd=function(){this.ix.Fd()},r.Bd=function(){return this.ix.Bd()},r.Ba=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ix.Rd();case 2:return t.next=4,this.ix.Ba();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mo(),this.sF.oe(),this.jT.oe(),this.rF.oe(),this.iF.oe(),this.uF.oe(),this.Zx.oe(),this.Jx.oe(),this.oF.oe(),t.next=11,this.ix.oe();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(n,[{key:"kd",get:function(){return this.Wx},set:function(t){this.Wx=t,this.ix.kd=t}},{key:"fF",get:function(){return this.oF}},{key:"Td",get:function(){return this.ix.Td}},{key:"aF",get:function(){return this.sF}},{key:"hF",get:function(){return this.Zx}},{key:"Gd",get:function(){return this.ix.Gd}},{key:"Kd",get:function(){return this.nF}},{key:"vF",get:function(){return this.rF}},{key:"Sd",get:function(){return this.ix.Sd}},{key:"dF",get:function(){return this.YR}},{key:"Ed",get:function(){return this.ix.Ed}},{key:"Wd",get:function(){return this.ix.Wd}},{key:"tF",get:function(){return this.YP}},{key:"tx",get:function(){return this.ZP}},{key:"Wv",get:function(){return this.ix.Wv},set:function(t){this.ix.Wv=t}},{key:"zd",get:function(){return this.ix.zd},set:function(t){this.ix.zd=t}},{key:"Vd",get:function(){return this.ix.Vd}},{key:"zv",get:function(){return this.ix.zv}},{key:"Xd",get:function(){return this.ix.Xd}},{key:"Xv",get:function(){return this.ix.Xv}},{key:"Do",get:function(){return this.ix.Do}},{key:"Gv",get:function(){return this.ix.Gv}},{key:"Yv",get:function(){return this.ix.Yv},set:function(t){var n=Boolean(t);this.TP(n)}},{key:"Kv",get:function(){return this.ix.Kv}},{key:"$v",get:function(){return this.ix.$v},set:function(t){this.ix.$v=t}},{key:"ul",get:function(){return this.ix.ul}},{key:"ol",get:function(){return this.ix.ol},set:function(t){this.ix.ol=Cw(t)}},{key:"sh",get:function(){return this.ix.sh}},{key:"sl",get:function(){return this.ix.sl}},{key:"Jv",get:function(){return this.ix.Jv}},{key:"Ka",get:function(){return this.qp}},{key:"Qv",get:function(){return this.ix.Qv}},{key:"Zv",get:function(){return this.ix.Zv}},{key:"td",get:function(){return this.ix.td},set:function(t){var n=so(Number(t),0,1)||0;this.UP(n)}}]),n}(Cs);function dT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.lF=0]="lF",t[t.wF=1]="wF"}(sT||(sT={})),function(t){t[t.yF=0]="yF"}(cT||(cT={}));var lT={};function wT(t,n){var r=t;if(lT[n])for(var e=0,i=lT[n];e<i.length;e++){r=(0,i[e])(r)}return r}var yT=[];function gT(t){yT.push(t)}var _T=t.CustomEvent;var pT,mT=function(){try{var t=new _T("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var r=i.createEvent("CustomEvent");return n?r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):r.initCustomEvent(t,!1,!1,void 0),r};(pT=C)&&pT.config({warnings:!1,longStackTraces:!1});pT&&(ET=pT.setScheduler(rt),kT=ET,ST={gF:function(t){bT=t,kT(TT)},dC:TT=function(){var t=bT;t&&(bT=void 0,t())}},pT.setScheduler(ST.gF));var kT,bT,TT,ET,ST,RT=function(){function t(t,n){var r=this;this._F=!1,this.pF=function(t){r.mF.pC(t.error,r.Wv)},this.kF=function(){r.mF.yC(r.bF),r.QR.removeEventListener("playing",r.kF),r._F=!1},this.TF=function(){r._F||(r.QR.addEventListener("playing",r.kF),r._F=!0)},this.mF=n,this.QR=t,this.QR.addEventListener("error",this.pF),this.QR.addEventListener("sourcechange",this.TF),this.TF()}return t.prototype.Ba=function(){},x(t,[{key:"Wv",get:function(){var t=this.QR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"bF",get:function(){return this.QR.src||""}}]),t}();gT(function(t){new RT(t.sa,t.Jx)});var IT,CT,OT="theoplayer-stored-volume",DT="theoplayer-stored-mutedstate";IT=function(t){return function(t){function n(n,r){var e;if(e=t.call(this,n,r)||this,r.persistVolume){var i=tT._x(OT);(void 0===i||g(i))&&(i=1);var u=tT.mx(DT)||!1;e.td=i,e.Yv=u}return e}gt(n,t);var r=n.prototype;return r.TP=function(n){this.Gy.persistVolume&&tT.Of(DT,n),t.prototype.TP.call(this,n)},r.UP=function(n){this.Gy.persistVolume&&tT.Of(OT,n),t.prototype.UP.call(this,n)},n}(t)},CT=sT.wF,(lT[CT]||(lT[CT]=[])).push(IT);var NT=new(function(){function t(){this.EF=[],this.oa=void 0}var n=t.prototype;return n.Aa=function(t){return this.EF[t]},n.SF=function(t){this.EF.push(t),this.sa.push(t.sa)},n.ks=function(t){var n=this.EF.indexOf(t);n<0||(_n(this.EF,n),this.oa&&_n(this.oa,n))},n.RF=function(t){for(var n=0,r=this.EF;n<r.length;n++){var e=r[n];if(e.Ka===t)return e}},x(t,[{key:"Ma",get:function(){return this.EF.length}},{key:"sa",get:function(){return this.oa||(this.oa=function(t){for(var n=[],r=0;r<t.Ma;r++)n[r]=t.Aa(r).sa;return n.getPlayerByUID=function(n){var r=t.RF(n);return r&&r.sa},n}(this)),this.oa}}]),t}());var AT,PT=function(t){function n(n){var r;return(r=t.call(this,As.ev)||this).source=n,r}return gt(n,t),n}(qn),xT=function(t){function n(){var n;return(n=t.call(this)||this).IF=0,n.CF=!0,n.OF=!1,n.DF=1,n}gt(n,t);var r=n.prototype;return r.re=function(){this.CF&&(this.CF=!1,this.wo(new zs(this.Wv)),this.wo(new aw(this.Wv)))},r.ee=function(){this.CF||(this.CF=!0,this.wo(new js(this.Wv,this.zd)),this.wo(new Gs(this.Wv)))},r.Ba=function(){this.IF=0,this.OF=!1,this.DF=1,this.ee(),this.wo(new Xs(this.IF))},r.oe=function(){this.mo()},r.Fd=function(){},r.xd=function(){},r.dh=function(t){this._o("emptied",t),this._o("pause",t),this._o("play",t),this._o("seeking",t),this._o("timeupdate",t),this._o("waiting",t)},r.lh=function(t){this.ko("emptied",t),this.ko("pause",t),this.ko("play",t),this.ko("seeking",t),this.ko("timeupdate",t),this.ko("waiting",t)},x(n,[{key:"zd",get:function(){},set:function(t){}},{key:"Wv",get:function(){return this.IF},set:function(t){this.IF!==t&&(this.IF=t,this.OF=!0,this.wo(new Ms(this.Wv)))}},{key:"Kv",get:function(){return this.CF}},{key:"$v",get:function(){return this.DF},set:function(t){this.DF!==t&&(this.DF=t,this.wo(new Vs(this.Wv,this.$v)))}},{key:"sh",get:function(){return Os.kh}},{key:"Jv",get:function(){return this.OF}}]),n}(Mn),FT=function(t){function n(){return t.call(this,As.Ph)||this}return gt(n,t),n}(qn),BT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},LT={visibility:"hidden"},MT={visibility:"visible"},UT=function(){function t(t){var n,r=this;this.NF=!1,this.AF=function(t){r.NF=!1,r.PF=t.source&&t.source.poster,r.bs()},this._S=function(){r.NF=!0,r.Fd()},this.QR=t,this.tI(),this.qR=((n=S&&S.document&&S.document.createElement("div")).className="theoplayer-poster",Ye(BT,n),n),t.Xd.appendChild(this.qR)}var n=t.prototype;return n.bs=function(){var t=this.QR.Kv,n=this.NF;this.vb?this.qR.style.backgroundImage='url("'+this.vb.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.qR.style.backgroundImage="",t&&this.vb&&!n?this.xd():this.Fd()},n.xd=function(){Ye(LT,this.QR.Xd),Ye(MT,this.qR)},n.Fd=function(){Ye(LT,this.qR),Ye(MT,this.QR.Xd)},n.tI=function(){this.QR._o("sourcechange",this.AF),this.QR._o("play",this._S)},n.oe=function(){this.QR.ko("sourcechange",this.AF),this.QR.ko("play",this._S),Ge(this.qR)},x(t,[{key:"vb",get:function(){return void 0!==this.PF?this.PF:void 0!==this.xF?this.xF:void 0}},{key:"FF",set:function(t){this.xF=t,this.bs()}}]),t}();function qT(t){return function(n){function r(r,e){var i;return(i=n.call(this,r)||this).BF=function(t){t.type!==As.Gh&&i.LF.push(t)},i.MF=new t(r,e),i.UF=new xT,i.QR=i.MF,i.qF=new UT(pt(i)),i.zE=new $v,i.jF=!1,i.LF=[],i.zR=!0,i.WR=void 0,i.tI(),i}gt(r,n);var e=r.prototype;return e.Gb=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.zE.Gb(n,r).catch(In));case 1:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.VF=function(){var t=C.coroutine(xt.mark(function t(n,r){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Sn(r),this.MF.dh(this.BF),t.next=4,this.MF.Cd(n,r);case 4:this.MF.lh(this.BF);case 5:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),e.HF=function(){var t=C.coroutine(xt.mark(function t(){var n,r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Id())&&!Sa(n)&&this.kd&&this.Kv){t.next=3;break}return t.abrupt("return");case 3:return r=n.mutedAutoplay||this.Gy.mutedAutoplay,t.next=6,this.fF.ce();case 6:e=t.sent,t.t0=e,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.WF(),t.abrupt("break",14);case 12:return(this.Yv||r===ic.ALL)&&(this.Yv=!0,this.re()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Cd=function(t){var n=this,r=this.WR;r&&!Sa(r)&&this.wo(new Xs(0,0)),this.Ba(),this.WR=t,An(this.Gb(function(){var r=C.coroutine(xt.mark(function r(e){return xt.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Sn(e),r.prev=1,r.next=4,n.VF(t,e);case 4:r.next=10;break;case 6:throw r.prev=6,r.t0=r.catch(1),n.WR=void 0,r.t0;case 10:return r.next=12,n.zF();case 12:case"end":return r.stop()}},r,null,[[1,6]])}));return function(t){return r.apply(this,arguments)}}()))},e.zF=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XF(this.MF),this.wo(new PT(this.Id())),t.next=4,this.HF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.wP=function(t){this.QR.Wv=t},e.pP=function(){return this.MF.Do},e.mP=function(){return this.MF.Gv},e.re=function(){this.QR.re()},e.WF=function(){this.Yv||this.fe(),this.re()},e.fe=function(){this.MF.fe()},e.ee=function(){this.QR.ee()},e.Rd=function(){this.Cd(void 0)},e.xd=function(){this.zR=!0,this.QR.xd()},e.Fd=function(){this.zR=!1,this.QR.Fd()},e.cF=function(){this.MF.cF()},e.UP=function(t){this.MF.UP(t)},e.TP=function(t){this.MF.TP(t)},e.GF=function(t){this.YF=t,t.SF(this)},e.Pv=function(){return this.MF.Pv()},e.Id=function(){return this.WR},e.Bd=function(){return this.MF.Bd()},e.lP=function(){return this.MF.Wv},e.yP=function(){return this.MF.zv},e.aP=function(){return this.MF.Wd},e.CP=function(){return this.MF.ul},e.AP=function(){return this.MF.sl},e.Ba=function(){var t=this;this.WR=void 0,mn(this.LF),this.UF.Ba(),this.XF(this.UF),this.zE.fo(),An(this.zE.Gb(function(){var n=C.coroutine(xt.mark(function n(r){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Sn(r),n.next=3,t.MF.Ba();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},e.oe=function(){var t=this;this.wo(new FT),this.qF.oe(),this.nI(),this.Ba(),An(this.Gb(C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.MF.oe();case 2:t.YF&&(t.YF.ks(t),t.YF=void 0),t.zE.oe();case 4:case"end":return n.stop()}},n)})))),this.mo()},e.XF=function(t){if(this.QR!==t){var n=this.QR.Kv,r=this.QR.Wv,e=this.QR.$v;this.nI(),t===this.MF?(t.Wv!==r&&(t.Wv=r),t.$v!==e&&(t.$v=e),n?t.ee():t.re()):this.Gy.retainPlaybackRateOnSourceChange?t.$v=e:1!==e&&this.wo(new Vs(this.lP(),1)),this.QR=t,this.tI();for(var i=0,u=this.LF;i<u.length;i++){var o=u[i];this.wo(o)}mn(this.LF),this.zR?t.xd():t.Fd()}},e.tI=function(){this.QR.dh(this.lo)},e.nI=function(){this.QR.lh(this.lo)},e.ca=function(){return t=this,e=function(n){r=n;var e=Ba(n,t.Gy);t.Cd(e)},i={get abr(){return t.$x.sa},get audioTracks(){return t.Td.sa},get autoplay(){return t.kd},set autoplay(n){t.kd=Boolean(n)},get buffered(){return t.aP()},get canvas(){return t.eF.sa},get clip(){return t.tF.sa},get currentProgramDateTime(){var n;return null!==(n=t.zd)&&void 0!==n?n:null},set currentProgramDateTime(n){t.zd=null!=n?n:void 0},get currentTime(){return t.lP()},set currentTime(n){t.wP(Number(n))},get duration(){return t.yP()},get element(){return t.Xd},get ended(){return t.Xv},get error(){return t.pP()},get errorObject(){return t.mP()},get hesp(){return t.Gd},get loop(){return t.tx.tx},set loop(n){t.tx.tx=Boolean(n)},get metrics(){return t.Kd.sa},get muted(){return t.Yv},set muted(n){t.TP(n)},get network(){return t.vF.sa},get paused(){return t.Kv},get playbackRate(){return t.$v},set playbackRate(n){var r=Number(n);if(r<0)throw new RangeError("playbackRate must be a positive number");t.$v=r},get played(){return t.CP()},get poster(){return t.KF},set poster(n){t.KF=fs(n)},get preload(){return t.ol},set preload(n){t.ol=n},get presentation(){return t.uF.sa},get readyState(){return t.sh},get seekable(){return t.AP()},get seeking(){return t.Jv},get source(){return r},set source(t){e(t)},get src(){return Ia(t.Id())},set src(t){e({sources:t})},get textTracks(){return t.Sd.sa},get textTrackStyle(){return t.dF.sa},get uid(){return t.Ka},get videoHeight(){return t.Qv},get videoTracks(){return t.Ed.sa},get videoWidth(){return t.Zv},get volume(){return t.td},set volume(n){t.UP(Number(n))},destroy:function(){t.oe(),t=null,r=void 0},play:function(){t.WF()},pause:function(){t.ee()},stop:function(){r=void 0,t.Rd()},prepareWithUserAction:function(){t.fe()},addEventListener:function(t,r){n._o(t,r)},removeEventListener:function(t,r){n.ko(t,r)},setSource:function(t){e(t)}},(n=new $s(i,!0)).dv(t),i;var t,n,r,e,i},x(r,[{key:"Jx",get:function(){return this.MF.Jx}},{key:"eF",get:function(){return this.MF.eF}},{key:"Gy",get:function(){return this.MF.Gy}},{key:"Gx",get:function(){return this.MF.Gx}},{key:"jT",get:function(){return this.MF.jT}},{key:"_R",get:function(){return this.MF.iF}},{key:"uF",get:function(){return this.MF.uF}},{key:"Zx",get:function(){return this.MF.Zx}},{key:"ix",get:function(){return this.MF.ix}},{key:"$x",get:function(){return this.MF.$x}},{key:"kd",get:function(){return this.MF.kd},set:function(t){this.MF.kd=t,this.HF()}},{key:"fF",get:function(){return this.MF.fF}},{key:"Td",get:function(){return this.MF.Td}},{key:"aF",get:function(){return this.MF.aF}},{key:"hF",get:function(){return this.MF.Zx}},{key:"sa",get:function(){return this.oa||(this.oa=this.ca()),this.oa}},{key:"Gd",get:function(){return this.MF.Gd}},{key:"Kd",get:function(){return this.MF.Kd}},{key:"vF",get:function(){return this.MF.vF}},{key:"Sd",get:function(){return this.MF.Sd}},{key:"dF",get:function(){return this.MF.dF}},{key:"Ed",get:function(){return this.MF.Ed}},{key:"tF",get:function(){return this.MF.tF}},{key:"tx",get:function(){return this.MF.tx}},{key:"zd",get:function(){return this.QR.zd},set:function(t){this.QR.zd=t}},{key:"Vd",get:function(){return this.MF.Vd}},{key:"Xd",get:function(){return this.MF.Xd}},{key:"Xv",get:function(){return this.MF.Xv}},{key:"Yv",get:function(){return this.MF.Yv},set:function(t){this.MF.Yv=t}},{key:"Kv",get:function(){return this.QR.Kv}},{key:"KF",get:function(){return this.qF.vb||""},set:function(t){this.qF.FF=t}},{key:"$v",get:function(){return this.MF.$v},set:function(t){this.QR.$v=t}},{key:"ol",get:function(){return this.MF.ol},set:function(t){this.MF.ol=Cw(t)}},{key:"sh",get:function(){return this.QR.sh}},{key:"Jv",get:function(){return this.QR.Jv}},{key:"Ka",get:function(){return this.MF.Ka}},{key:"Qv",get:function(){return this.MF.Qv}},{key:"Zv",get:function(){return this.MF.Zv}},{key:"td",get:function(){return this.MF.td},set:function(t){this.MF.td=t}}]),r}(Cs)}function jT(t,n){var r=mc(n),e=new(AT||(AT=wT(AT=qT(vT),sT.lF),AT=wT(AT,sT.wF)),AT)(t,r),i=e.sa;return e.cF(),e.GF(NT),d.defineProperty(i,"constructor",{value:jT}),i=Zo(i),function(t){for(var n=0;n<yT.length;n++)(0,yT[n])(t)}(e),i}Nn(function(){t.dispatchEvent&&t.dispatchEvent(mT("theoplayerready"))});var VT,HT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return tr(t)},n.decode=function(t){return Qn(t)},t}())},WT=NT.sa,zT=cf.bl.registerContentProtectionIntegration.bind(cf.bl),XT=function(){},GT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),YT=k(function(t,n){function r(t,n){var r=[],e=[];return null==n&&(n=function(t,n){return r[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,r.indexOf(n)).join(".")+"]"}),function(i,u){if(r.length>0){var o=r.indexOf(this);~o?r.splice(o+1):r.push(this),~o?e.splice(o,1/0,i):e.push(i),~r.indexOf(u)&&(u=n.call(this,i,u))}else r.push(u);return null==t?u:t.call(this,i,u)}}(t.exports=function(t,n,e,i){return JSON.stringify(t,r(n,i),e)}).getSerialize=r});function KT(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],r=0;r<t.length;r++)n[r]={start:t.start(r),end:t.end(r)};return n}(n):n}function $T(t){return JSON.stringify(t,YT.getSerialize(KT))}function JT(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Ft(Ft({},t),{adBreak:Ft(Ft({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return xc(t,["adBreak"])})})})}function QT(t){return void 0===t.ads?t:Ft(Ft({},t),{ads:t.ads.map(function(t){t.adBreak;return xc(t,["adBreak"])})})}function ZT(t){return"string"==typeof t.date?new Date(t.date):t.date}function tE(t){var n;return t.cue.track?(n=rE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=rE(t.cue,""),n}function nE(t){var n=new Set;return function t(r){if(Array.isArray(r))return r.map(t);if("object"==typeof r&&null!==r){if(n.has(r))return"[Circular ~]";n.add(r);var e=d.entries(r);return d.fromEntries(e.map(function(n){return[n[0],t(n[1])]}))}return r}(t)}function rE(t,n){var r,e={};switch(e.content=t.content,e.endTime=t.endTime,e.startTime=t.startTime,e.id=t.id,e.uid=t.uid,n){case"webvtt":e.align=t.align,e.line=t.line,e.lineAlign=t.lineAlign,e.position=t.position,e.positionAlign=t.positionAlign,e.region=t.region,e.size=t.size,e.snapToLines=t.snapToLines,e.text=t.text,e.vertical=t.vertical;break;case"ttml":e.content=function t(n){var r=n.children;if(0!==r.length)for(var e=0;e<r.length;e++){var i=r.item(e);return"image"===i.nodeName||"smpte:image"===i.nodeName?i:t(i)}}(t.content).innerHTML;break;case"daterange":var i={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(r=o)&&null!==r){var s=eE(o);i[u]={type:VT.JF,value:s}}else uE(o)?i[u]={type:VT.QF,value:o}:i[u]={type:VT.ZF,value:String(o)}}e.attributedClass=String(t.class),e.startDate=t.startDate,e.endDate=t.endDate,e.duration=t.duration,e.plannedDuration=t.plannedDuration,e.endOnNext=t.endOnNext,e.scte35Cmd=eE(t.scte35Cmd),e.scte35Out=eE(t.scte35Out),e.scte35In=eE(t.scte35In),e.customAttributes=i}return e}function eE(t){if(void 0!==t)return tr(t)}function iE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var r=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var i=t.cues[e];r.push(rE(i,t.type))}n.cues=r;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(rE(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function uE(t){return"number"==typeof t}!function(t){t.ZF="daterange-ca-type_string",t.QF="daterange-ca-type_number",t.JF="daterange-ca-type_arraybuffer"}(VT||(VT={}));var oE={cue:function(t){var n={};switch(n.date=ZT(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=tE(t)}return n},textTrack:function(t){var n={};switch(n.date=ZT(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=aE().register(t.cue));var r=fE()[hE()].eventListeners;t.cue.addEventListener("enter",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){r.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){r.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=tE(t);break;case"cuechange":for(var e=[],i=0;i<t.track.activeCues.length;i++){var u=t.track.activeCues[i];e.push(rE(u,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=ZT(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=aE().register(t)}),n.track=iE(t.track);case"removetrack":case"change":n.track=iE(t.track)}return n},default:function(t){var n={};switch(n.date=ZT(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Ft({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=iE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=QT(t.ad);break;case"adloaded":case"adimpression":n.ad=JT(t.ad);break;case"aderror":t.tB&&(n.tB=t.tB),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=JT(t.ad)}return nE(n)},minimizeCueHelper:function(t){var n={};return n.date=ZT(t),n.type=t.type,n.cue=tE(t),n.track={uid:t.cue.track.uid},n},adReplacer:JT,adBreakReplacer:QT,removeCircularReferences:nE},sE=function(){this.stringify=$T,this.minimize=oE};function cE(){return S.self}function fE(){return cE().THEOplayerBridge}function aE(){return cE().THEOCueMirrorMap}function hE(){return cE().THEOplayerGlobalID}function vE(){var t=cE();if(t.THEOplayerBridge){var n=new XT;t.THEOplayerBridge=ns(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new XT;t.THEOplayerUtils||(t.THEOplayerUtils=new sE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new GT)}vE();var dE=function(t){function n(n){var r;(r=t.call(this)||this).nB=[],r.rB=function(t){r.Pa(t.fa)},r.eB=function(t){var n=t.fa;r.iB(n)||r.xa(n)};for(var e=0;e<n.length;e++){var i=n[e];r.uB(i)}return r}gt(n,t);var r=n.prototype;return r.uB=function(t){this.nB.push(t);for(var n=0,r=t.La;n<r.length;n++){var e=r[n];this.Pa(e)}this.oB(t)},r.sB=function(t){gn(this.nB,t),this.cB(t);for(var n=0,r=t.La;n<r.length;n++){var e=r[n];this.iB(e)||this.xa(e)}},r.iB=function(t){for(var n=0,r=this.nB;n<r.length;n++){if(r[n].Fa(t))return!0}return!1},r.oB=function(t){t._o(Bo.ra,this.rB),t._o(Bo.ia,this.eB)},r.cB=function(t){t.ko(Bo.ra,this.rB),t.ko(Bo.ia,this.eB)},r.oe=function(){for(;this.nB.length>0;)this.sB(this.nB[0]);t.prototype.oe.call(this)},r.ca=function(){return Ts(this)},n}(Ko),lE=function(t){function n(n,r){var e;return(e=t.call(this,n)||this).type=n,e.detail=r,e}return gt(n,t),n}(qn),wE=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.wo(new lE(t,n))},r.addEventListener=function(t,n){this._o(t,n)},r.removeEventListener=function(t,n){this.ko(t,n)},n}(Cs);function yE(t,n){return t.Zp<=n&&t.tm>n}function gE(t,n){return function(t,n){return vo(t.Zp,n.Zp,ih)}(t,n)||function(t,n){return vo(t.tm,n.tm,ih)}(t,n)}function _E(t,n){var r=function(t,n,r,e,i,u,o){void 0===i&&(i=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var f=s+(c-s>>1),a=e(r(t[f]),n);if(a<0)s=f+1;else if(a>0)c=f-1;else{if(!(i&&f>u&&0===e(r(t[f-1]),n)))return f;c=f-1}}return~s}(t,n,et,gE,!0);if(r<0)return r;for(;r<t.length&&gE(n,t[r])===uo.Uc;r++)if(t[r].ef(n))return r;return-(r+1)}function pE(t){var n=t.fa;if(!n)return-1;if(t instanceof uh)return n.fB(t);var r=n.fh;if(!r)return-1;var e=_E(r.La,t);return e>=0?e:-1}var mE=function(t){function n(n,r){var e;return(e=t.call(this,$a.$p,n)||this).Vc=r,e}return gt(n,t),n.prototype.ca=function(){return new kE(this.Qp.sa)},n}(th),kE=function(t){function n(n){return t.call(this,Ja.$p,n)||this}return gt(n,t),n}(nh),bE=function(t){function n(n,r){var e;return(e=t.call(this,$a.Jp,n)||this).Vc=r,e}return gt(n,t),n.prototype.ca=function(){return new TE(this.Qp.sa)},n}(th),TE=function(t){function n(n){return t.call(this,Ja.Jp,n)||this}return gt(n,t),n}(nh),EE=function(t){function n(n){var r;return(r=t.call(this,Vo.la)||this).Qp=n,r}return gt(n,t),n.prototype.ca=function(){return new SE(this.Qp.sa)},n}(Ho),SE=function(t){function n(n){var r;return(r=t.call(this,"entercue")||this).cue=n,r}return gt(n,t),n}(Wo),RE=function(t){function n(n){var r;return(r=t.call(this,Vo.ya)||this).Qp=n,r}return gt(n,t),n.prototype.ca=function(){return new IE(this.Qp.sa)},n}(Ho),IE=function(t){function n(n){var r;return(r=t.call(this,"exitcue")||this).cue=n,r}return gt(n,t),n}(Wo),CE=function(t){function n(n){var r;return(r=t.call(this,Vo._a)||this).fa=n,r}return gt(n,t),n.prototype.ca=function(){return new OE(this.fa.sa)},n}(Ho),OE=function(t){function n(n){var r;return(r=t.call(this,"cuechange")||this).track=n,r}return gt(n,t),n}(Wo);function DE(t,n){return ho(t.Vc,n.Vc)||function(t,n){return t.fa===n.fa?ao(pE(t),pE(n)):Mv(t.fa,n.fa)}(t.Qp,n.Qp)||function(t,n){return t===n?uo.Uc:t===$a.$p?uo.jc:uo.qc}(t.type,n.type)}var NE=function(){function t(t,n){var r=this;this.md=[],this.aB=0,this.hB=0,this.vB=[],this.dB=!1,this.lB=!1,this.wB=void 0,this.yB=function(){r.aB=0,r.gB(),r._B()},this.pB=function(){r.gB(),r._B()},this.mB=function(){r.lB=!0,r.wB=r.QR.Wv,r.kB()},this.bB=function(){r.gB(),r._B()},this.TB=function(){r.EB(),r.gB(),r._B()},this.SB=function(){r.RB()},this.IB=function(t){gn(r.vB,t.Qp),r.RB()},this.CB=n,this.QR=t,t._o(As.iv,this.pB),t._o(As.zh,this.pB),t._o(Ss.mh,this.pB),t._o(As.Wh,this.pB),t._o(As.Jh,this.mB),t._o(As.$h,this.bB),this.RB()}var n=t.prototype;return n.Ba=function(){mn(this.vB);for(var t=0,n=this.md.slice();t<n.length;t++){var r=n[t];this.xa(r)}this.kB(),this.aB=0,this.hB=0,this.dB=!1,this.lB=!1,this.wB=void 0},n.Pa=function(t){pn(this.md,t)||(this.md.push(t),t._o(Vo.aa,this.SB),t._o(Vo.va,this.IB),t._o(Vo.ma,this.TB),t.fh.Ma&&this.RB(),this.EB())},n.xa=function(t){if(gn(this.md,t)){if(t.ko(Vo.aa,this.SB),t.ko(Vo.va,this.IB),t.ko(Vo.ma,this.TB),t.fh.Ma){for(var n=0,r=t.fh.La;n<r.length;n++){var e=r[n];gn(this.vB,e)}this.RB()}this.EB()}},n.EB=function(){this.dB=this.md.some(function(t){return t.eh!==gs.oh})},n._B=function(){this.QR.Jv||this.QR.Kv?this.kB():this.RB()},n.RB=function(){this.dB&&(this.aB||(this.aB=this.CB.gF(this.yB)))},n.kB=function(){this.aB&&(this.CB.OB(this.aB),this.aB=0)},n.gB=function(){var t;if(this.dB&&!this.QR.Jv){var n=this.md,r=this.hB,e=null!==(t=this.wB)&&void 0!==t?t:this.QR.Wv,i=e-r<-.1,u=this.lB||i;u&&e>r&&e-r<.1&&(u=!1),this.lB=!1,this.wB=void 0;for(var o,s=[],c=0;c<n.length;c++){var f=n[c];if(f.eh!==gs.oh){f.DB(e,u);for(var a=0,h=f.ah.La;a<h.length;a++){var v=h[a];s.push(v)}}}if(u)o=this.vB;else{o=[];for(var d=wo.ff.cf,w=0;w<n.length;w++){var y=n[w];y.eh!==gs.oh&&Lv(y,r-d,e,o)}}for(var g=o.length-1;g>=0;g--)pn(s,o[g])&&_n(o,g);var _=[];if(!u)for(var p=o.length-1;p>=0;p--){var m=o[p];m.Zp>=r&&m.tm<=e&&(_.push(m),_n(o,p))}for(var k=[],b=[],T=0;T<_.length;T++){var E=_[T];E.hm||k.push(new mE(E,E.Zp)),k.push(new bE(E,l.max(E.Zp,E.tm)))}for(var S=0,R=o;S<R.length;S++){var I=R[S];I.hm&&(k.push(new bE(I,l.max(I.Zp,I.tm))),I.hm=!1)}for(var C=0;C<s.length;C++){var O=s[C];O.hm||(k.push(new mE(O,O.Zp)),O.hm=!0)}k.sort(DE);for(var D=0;D<k.length;D++){var N=k[D],A=N.Qp;A.wo(N);var P=A.fa;P&&(N.type===$a.$p?P.wo(new EE(A)):P.wo(new RE(A)),pn(b,P)||b.push(P))}b.sort(Mv);for(var x=0;x<b.length;x++){var F=b[x];F.wo(new CE(F))}this.hB=e,this.vB=s}},n.oe=function(){this.Ba(),this.QR.ko(As.iv,this.pB),this.QR.ko(As.zh,this.pB),this.QR.ko(Ss.mh,this.pB),this.QR.ko(As.Wh,this.pB),this.QR.ko(As.Jh,this.mB),this.QR.ko(As.$h,this.bB)},t}(),AE=new(function(){function t(){}var n=t.prototype;return n.gF=function(t){return ub(t)},n.OB=function(t){ob(t)},t}()),PE=function(t){function n(n,r){return void 0===r&&(r=AE),t.call(this,n,r)||this}return gt(n,t),n}(NE),xE=function(t){function n(){return t.call(this,As.Uh)||this}return gt(n,t),n}(qn),FE=function(t){function n(n){var r;return(r=t.call(this,As.Xh)||this).currentTime=n,r}return gt(n,t),n}(qn),BE=function(t){function n(n,r){var e;return(e=t.call(this)||this).NB=function(t){e.PB.AB("THEOplayerABRSetTargetBuffer",t.XA),e.wo(t)},e.xB=function(t){e.PB.AB("THEOplayerABRSetStrategy",t.YA),e.wo(t)},e.PB=n,e.FB=r,e.FB._o("GA",e.NB),e.FB._o("KA",e.xB),e}return gt(n,t),x(n,[{key:"nP",get:function(){var t;switch(this.YA.type){case kb.PERFORMANCE:return 1;case kb.QUALITY:return 0;case kb.BANDWIDTH:return(null===(t=this.YA.metadata)||void 0===t?void 0:t.bitrate)&&!g(this.YA.metadata.bitrate)?this.YA.metadata.bitrate:0;default:return 0}}},{key:"sa",get:function(){return this.FB.sa}},{key:"YA",get:function(){return this.FB.YA},set:function(t){this.FB.YA=t}},{key:"XA",get:function(){return this.FB.XA},set:function(t){this.FB.XA=t}},{key:"$A",get:function(){return this.FB.$A},set:function(t){this.FB.$A=t}}]),n}(Mn),LE=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.JE=function(t,n,r,e){return!0},n}($l),ME=function(){function t(t){this.oa=void 0,this.BB=t}var n=t.prototype;return n.ca=function(){return function(t){for(var n=[],r=0;r<t.Ma;r++)n[r]=t.Mo(r).sa;return n.item=function(n){var r=0|n,e=t.Mo(r);return e&&e.sa||void 0},d.defineProperty(n,"constructor",{value:eh}),n}(this)},n.Lp=function(t){for(var n=this.BB,r=n.length-1;r>=0;r-=1){var e=n[r];if(t.ef(e))return!0}return!1},n.Mo=function(t){return this.BB[t]},x(t,[{key:"La",get:function(){return this.BB}},{key:"Ma",get:function(){return this.BB.length}},{key:"sa",get:function(){if(this.oa){var t=this.BB;this.oa.length=t.length;for(var n=0;n<t.length;n++)this.oa[n]=t[n].sa}else this.oa=this.ca();return this.oa}}]),t}(),UE=function(t){function n(n,r){var e;return(e=t.call(this,Vo.ba)||this).fa=n,e.sh=r,e}return gt(n,t),n.prototype.ca=function(){return new qE(this.fa.sa,Es(this.sh))},n}(Ho),qE=function(t){function n(n,r){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=r,e}return gt(n,t),n}(Wo),jE=function(t){function n(n){var r;return(r=t.call(this,Vo.Ea)||this).fa=n,r}return gt(n,t),n.prototype.ca=function(){return new VE(this.fa.sa)},n}(Ho),VE=function(t){function n(n){var r;return(r=t.call(this,"typechange")||this).track=n,r}return gt(n,t),n}(Wo),HE=function(t){function n(n){var r;return(r=t.call(this,Vo.aa)||this).Qp=n,r}return gt(n,t),n.prototype.ca=function(){return new WE(this.Qp.sa)},n}(Ho),WE=function(t){function n(n){var r;return(r=t.call(this,"addcue")||this).cue=n,r}return gt(n,t),n}(Wo),zE=function(t){function n(n){var r;return(r=t.call(this,Vo.va)||this).Qp=n,r}return gt(n,t),n.prototype.ca=function(){return new XE(this.Qp.sa)},n}(Ho),XE=function(t){function n(n){var r;return(r=t.call(this,"removecue")||this).cue=n,r}return gt(n,t),n}(Wo),GE=function(t){function n(n,r,e,i,u,o){var s;return(s=t.call(this)||this).jp=String(YE++),s.qp=Va(),s.LB=!1,s.bv=gs.oh,s.MB=Ya.NONE,s.UB=void 0,s.BB=[],s.qB=[],s.jB=0,s.VB=0,s.HB=o||"",s.WB=n,s.zB=e||"",s.LB=Boolean(i),s.bc=u||Kf.DEFAULT,s.Vp=r||"",s.XB=new ME(s.BB),s.GB=new ME(s.qB),s}gt(n,t);var r=n.prototype;return r.YB=function(t){return yn(this.XB.La,function(n){return n.Ya===t})},r.ca=function(){return ks(this)},r.Dv=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case gs.oh:case gs.uh:case gs.ih:return n}}else if("number"==typeof t)switch(t){case 0:return gs.oh;case 1:return gs.uh;case 2:return gs.ih}return gs.oh}(t);n!==this.eh&&(this.bv=n,n===gs.oh&&(this.qB.forEach(function(t){t.hm=!1}),mn(this.qB),this.VB=0))},r.Ub=function(t){if(t&&!t.fa){var n=_E(this.fh.La,t);if(!(n>=0)){t.fa=this;var r=-(n+1);this.BB.splice(r,0,t),this.KB(r),t.om=r,r<this.VB&&(this.VB=r),this.wo(new HE(t))}}},r.$B=function(t){if(t&&t.fa===this){var n=this.fB(t);if(!(n<0)){t.hm=!1;var r=this.qB,e=_E(r,t);e>=0&&_n(r,e),_n(this.BB,n),this.KB(n),t.om=-1,this.VB>n&&--this.VB,this.wo(new zE(t))}}},r.DB=function(t,n){var r=this.qB,e=this.BB,i=this.VB,u=!1;n&&(i=0);for(var o=r.length-1;o>=0;o--){yE(r[o],t)||(u=!0,_n(r,o))}for(;i<e.length&&e[i].Zp<=t;){var s=e[i];yE(s,t)&&!pn(r,s)&&(u=!0,r.push(s)),i++}u&&ln(r,gE),this.VB=i},r.fB=function(t){return(-1===t.om||t.om>=this.jB)&&this.JB(),t.om},r.JB=function(){for(var t=this.BB,n=this.jB;n<t.length;n++)t[n].om=n;this.jB=t.length},r.KB=function(t){t<this.jB&&(this.jB=t)},r.oe=function(){this.mo();for(var t=this.BB.slice(),n=0;n<t.length;n++){t[n].oe()}mn(this.BB),mn(this.qB)},x(n,[{key:"ah",get:function(){return this.GB}},{key:"fh",get:function(){return this.XB}},{key:"jb",get:function(){return this.LB},set:function(t){this.LB=t}},{key:"sa",get:function(){return this.oa||(this.oa=this.ca()),this.oa}},{key:"Ya",get:function(){return this.jp}},{key:"Ka",get:function(){return this.qp}},{key:"rh",get:function(){return this.HB},set:function(t){this.HB=t}},{key:"$a",get:function(){return this.WB}},{key:"Ja",get:function(){return this.Vp},set:function(t){t!==this.Vp&&(this.Vp=t,this.wo(new Ua(this)))}},{key:"Qa",get:function(){return this.zB}},{key:"eh",get:function(){return this.bv},set:function(t){this.Dv(t),this.wo(new $o(this))}},{key:"sh",get:function(){return this.MB},set:function(t){this.MB!==t&&(this.MB=t,this.wo(new UE(this,this.MB)))}},{key:"hh",get:function(){return this.UB},set:function(t){this.UB=t}},{key:"xu",get:function(){return this.bc},set:function(t){this.bc!==t&&(this.bc=t,this.wo(new jE(this)))}}]),n}(Mn),YE=0;function KE(t,n,r){for(var e=t[n].Zp,i=n;i>=0&&t[i].Zp===e;i--)t[i].tm=r}var $E,JE=function(t){function n(n,r){return t.call(this,n,1/0,r,!1)||this}return gt(n,t),n.prototype.ef=function(n){return this===n||is(this,n)&&t.prototype.ef.call(this,n)&&(r=n,this.nm===r.nm);var r},x(n,[{key:"sa",get:function(){return this.oa||(this.oa=rh(this)),this.oa}}]),n}(uh),QE=function(t){function n(n,r,e){return void 0===e&&(e=Kf.DEFAULT),t.call(this,la.uw,r||"","",!1,e,n)||this}return gt(n,t),n}(GE),ZE=function(t){function n(n,r){var e;return(e=t.call(this,n,r)||this).xu=Kf.ID3,e}gt(n,t);var r=n.prototype;return r.Ub=function(n){!function(t,n){if(0!==n.length){var r=n.length-1;if(n[r].Zp<t.Zp)KE(n,r,t.Zp);else{var e=n[0];if(e.Zp>t.Zp)t.tm=e.Zp;else{var i=_E(n,t);if(!(i>=0)){var u=-(i+1),o=u-1;if(o>=0&&n[o].Zp<t.Zp&&KE(n,o,t.Zp),u<n.length){var s=n[u];t.tm=s.Zp}}}}}}(n,this.BB),t.prototype.Ub.call(this,n)},r.ca=function(){return ks(this)},n}(QE),tS={QB:!1,ZB:50,tL:!1},nS=function(){function t(t,n,r){this.Cs=void 0,this.Qs=t,this.Vu=r,this.cc=n}var n=t.prototype;return n.qb=function(t){throw new h("Not implemented yet.")},n.tS=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vu.Ku(n.Fu,r);case 2:return e=t.sent,t.next=5,e.xs();case 5:return i=t.sent,t.next=8,this.nL(i);case 8:return t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),n.eo=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.nL=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.rL(n),t.next=3,r;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rL=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=this.Cs)){t.next=5;break}return t.next=4,r.As(this.cc);case 4:this.Cs=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Ns(this.cc);case 8:this.Cs=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Bb=function(t,n,r){throw new h("Not implemented yet.")},x(t,[{key:"Gy",get:function(){return this.Qs}},{key:"ol",get:function(){throw new h("Not implemented yet.")},set:function(t){throw new h("Not implemented yet.")}},{key:"sl",get:function(){throw new h("Not implemented yet.")}},{key:"Sd",get:function(){throw new h("Not implemented yet.")}},{key:"eL",get:function(){throw new h("Not implemented yet")}},{key:"Ed",get:function(){throw new h("Not implemented yet.")}},{key:"iL",get:function(){throw new h("Not implemented yet")}},{key:"uL",get:function(){throw new h("Not implemented yet")}}]),t}();!function(t){t.oL="webkitneedkey",t.sL="webkitkeymessage",t.cL="webkitkeyerror"}($E||($E={}));var rS,eS,iS,uS,oS,sS=function(t){function n(n,r){var e;return(e=t.call(this,$E.oL)||this).initData=n,e.sessionId=r,e}return gt(n,t),n}(qn),cS=function(t){function n(n,r){var e;return(e=t.call(this,$E.sL)||this).message=n,e.destinationURL=r,e}return gt(n,t),n}(qn),fS=function(t){function n(){return t.call(this,$E.cL)||this}return gt(n,t),n}(qn),aS=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this)||this).qs=n,o.us=r,o.fL=e,o.fc=i,o.tc=u,o.Ws=new ve,o.nc=void 0,o.Ks=new Xn,o.ec=new ve,o.aL=function(t){o.nc?(o.nc.ts(void 0),o.nc=void 0):o.Ys("internal-error"),o.wo(new Hn)},o.hL=function(t){o.nc&&(o.nc.Zo(void 0),o.nc=void 0),o.wo(new Vn(pt(o),"license-request",ae(t.message).buffer,t.destinationURL||void 0))},o}gt(n,t);var r=n.prototype;return r._s=function(){var t=C.coroutine(xt.mark(function t(n,r,e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e&&e.fairplay&&e.fairplay.ic){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+i+".");case 3:return t.next=5,this.vL(fe(r),i);case 5:this.Ys("usable"),this.ec.Zo(),this.ec=new ve;case 8:case"end":return t.stop()}},t,this)}));return function(n,r,e){return t.apply(this,arguments)}}(),r.ps=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.bs=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=fe(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.nc=new ve,this.fL.bs(this.fc,r),t.next=7,this.nc.Qo;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ls=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ec;case 2:return this.fL.ko($E.sL,this.hL),this.fL.ko($E.cL,this.aL),this.ec.fo(),this.Ws.Zo(void 0),t.abrupt("return",this.Ws.Qo);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ks=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),r.vL=function(){var t=C.coroutine(xt.mark(function t(n,r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=Fe(n,r,this.tc),this.fL._o($E.sL,this.hL),this.fL._o($E.cL,this.aL),this.fL.IT(this.fc,e);case 4:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.Ys=function(t){this.Ks.jo(),this.Ks.qo(zn,t),this.wo(new jn(this))},x(n,[{key:"Is",get:function(){return this.fc}},{key:"Ss",get:function(){return NaN}},{key:"Es",get:function(){return this.Ws.Qo}},{key:"Rs",get:function(){return this.Ks}}]),n}(Mn),hS=function(){function t(t,n,r){this.us=n,this.qs=r,this.dL=void 0,this.fc=void 0,this.tc=void 0,this.fL=t}var r=t.prototype;return r.Os=function(){var t=C.coroutine(xt.mark(function t(r){var e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.tc){t.next=2;break}throw new Be(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return e=new aS(this.qs,this.us,this.fL,this.fc,this.tc),this.dL=e,t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Ds=function(t){return this.tc=fe(t),C.resolve(!0)},r.Ns=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.As=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.createSession=function(){throw new h("Whoops.")},x(t,[{key:"keySystem",get:function(){return this.us}},{key:"sessionId",set:function(t){this.fc=t}}]),t}(),vS=function(){function t(t,n,r){this.lL=t,this.us=n,this.Qs=r;var e=Re(r)||"video/mp4";this.qs=Ie(e)}var n=t.prototype;return n.Fs=function(){return this.Qs},n.xs=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new hS(this.lL,this.us,this.qs));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),x(t,[{key:"Bs",get:function(){return this.us}}]),t}(),dS=function(){function t(t){this.lL=t}return t.prototype.Ku=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<r.length)){t.next=9;break}if(i=r[e],!(u=Se(lS,n,i))){t.next=6;break}return t.abrupt("return",new vS(this.lL,n,u));case 6:e++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),t}();function lS(t,n){return t===Zt}!function(t){t.O_="wL"}(rS||(rS={})),function(t){t[t.yL=0]="yL",t[t.gL=1]="gL"}(eS||(eS={})),function(t){t._L="pL"}(iS||(iS={})),function(t){t[t.mL=0]="mL",t[t.$k=1]="$k",t[t.kL=2]="kL"}(uS||(uS={})),function(t){t.bL="TL"}(oS||(oS={}));var wS;W.Ni,new wo(.001),new wo(.5),As.zh,As.Wh,As.Jh,As.$h,As.Bh,As.Gh,Ss.ba,_s.nh,W.Si||W.Ri;!function(t){t.EL="closed",t.Tb="open",t.Bh="ended"}(wS||(wS={}));var yS,gS;wo.ff.cf,new wo(40,1e3),Ss.ba,As.zh,As.Wh,As.Jh,As.$h,As.Bh,_s.nh;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(yS||(yS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(gS||(gS={}));var _S=function(t){function n(n){var r;return(r=t.call(this,0,n.nm)||this).SL=n,r.tm=r.SL.Zp,r}return gt(n,t),x(n,[{key:"Ya",get:function(){return this.SL.Ya},set:function(t){this.SL.Ya=t}},{key:"dm",get:function(){return this.SL.dm},set:function(t){this.SL.dm=t}},{key:"vm",get:function(){return this.SL.vm},set:function(t){this.SL.vm=t}}]),n}(JE);function pS(t){return void 0===t.RL&&(t.RL=new _S(t)),t.RL}var mS=function(t){function n(n,r){var e;(e=t.call(this,n.rh,n.Ja)||this).xu=Kf.ID3,e.IL=function(t){e.CL(t.Qp)},e.OL=function(t){var n=t.Qp;if(void 0!==n.RL){var r=n.RL;n.RL=void 0,e.$B(r),r.oe()}},e.DL=function(t){var n=pS(t.Qp);n.hm||e.NL(n),e.AL(n)},e.PL=function(t){var n=t.Qp,r=pS(n);e.xL.Wv<n.Zp&&e.NL(r)},e.FL=function(){var t=e.BL,n=e.eh;if(e.BL=n,n===gs.oh)e.qB.forEach(function(t){return t.hm=!1}),mn(e.qB);else if(t===gs.oh)for(var r=e.xL.Wv,i=0,u=e.BB;i<u.length;i++){var o=u[i];r<o.tm&&e.NL(o)}},e.xL=r,e.LL=n,e.BL=n.eh,n._o(Vo.aa,e.IL),n._o(Vo.va,e.OL),n._o(Vo.la,e.DL),n._o(Vo.ya,e.PL),n._o(Vo.ma,e.FL);for(var i=0,u=e.LL.fh.La;i<u.length;i++){var o=u[i];e.CL(o)}return e}gt(n,t);var r=n.prototype;return r.NL=function(t){var n=_E(this.qB,t);if(!(n>=0)){var r=-(n+1);this.qB.splice(r,0,t),t.hm=!0,t.wo(new mE(t,this.xL.Wv)),this.wo(new EE(t)),this.wo(new CE(this))}},r.AL=function(t){var n=_E(this.qB,t);n>=0&&_n(this.qB,n),t.hm=!1,t.wo(new bE(t,this.xL.Wv)),this.wo(new RE(t)),this.wo(new CE(this))},r.oe=function(){this.LL.ko(Vo.aa,this.IL),this.LL.ko(Vo.va,this.OL),this.LL.ko(Vo.la,this.DL),this.LL.ko(Vo.ya,this.PL),this.LL.ko(Vo.ma,this.FL),t.prototype.oe.call(this)},r.CL=function(t){var n=pS(t);(this.Ub(n),this.eh!==gs.oh)&&(this.xL.Wv<n.tm&&this.NL(n))},x(n,[{key:"$a",get:function(){return this.LL.$a}},{key:"Ja",get:function(){return this.LL.Ja},set:function(t){this.LL.Ja=t}},{key:"Qa",get:function(){return this.LL.Qa}},{key:"Ya",get:function(){return this.LL.Ya}},{key:"Ka",get:function(){return this.LL.Ka}},{key:"rh",get:function(){return this.LL.rh}},{key:"eh",get:function(){return this.LL.eh},set:function(t){this.LL.eh=t}},{key:"sh",get:function(){return this.LL.sh}},{key:"hh",get:function(){return this.LL.hh}}]),n}(QE),kS=function(t){function n(n){var r;return(r=t.call(this)||this).xL=n,r}gt(n,t);var r=n.prototype;return r.Pa=function(n){if(n.xu===Kf.ID3){var r=n;return r.RL||(r.RL=new mS(r,this.xL)),t.prototype.Pa.call(this,r.RL)}return t.prototype.Pa.call(this,n)},r.xa=function(n){if(n.xu===Kf.ID3){var r=n;return!!r.RL&&t.prototype.xa.call(this,r.RL)}return t.prototype.xa.call(this,n)},n}(Rs),bS=function(t){function n(n,r){var e;return(e=t.call(this)||this).Pb=n,e.ML=r,e.UL=new Vt,e.rB=function(){var t=C.coroutine(xt.mark(function t(n){var r;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.fa).xu){t.next=4;break}return t.next=4,r.Eo(Vo.Ea);case 4:if(r.xu===Kf.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==r.fh.Ma){t.next=11;break}return t.next=9,r.Eo(Vo.aa);case 9:t.next=6;break;case 11:e.qL(r);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.eB=function(t){var n=t.fa;if(n.xu===Kf.ID3&&e.UL.has(n.Ka)){var r=e.UL.get(n.Ka);e.xa(r),e.Pb.qb(r),n.ko(Vo.aa,e.CL)}},e.CL=function(t){TS(t.Qp)&&e.jL(t.Qp)},e.VL(),e}gt(n,t);var r=n.prototype;return r.VL=function(){this.ML._o(Bo.ra,this.rB),this.ML._o(Bo.ia,this.eB)},r.HL=function(){this.ML.ko(Bo.ra,this.rB),this.ML.ko(Bo.ia,this.eB)},r.qL=function(t){var n=t.fh.La[0];if(TS(n)){var r=function(t){var n=t.match(ES);if(!n)return;return{fa:n[1],Qa:n[2]}}(n.nm.description),e=r.fa,i=r.Qa;if(!this.WL(e,i)){var u=this.Pb.Bb(la.Dp,e,i,!1,Kf.TTML);this.Pa(u),this.UL.set(t.Ka,u);for(var o=0,s=t.fh.La;o<s.length;o++){var c=s[o];TS(c)&&this.jL(c)}t._o(Vo.aa,this.CL)}}},r.WL=function(t,n){return!!yn(this.Yw.La,function(r){return r.Ja===t&&r.Qa===n})},r.jL=function(t){if(t.fa)for(var n=this.UL.get(t.fa.Ka),r=hv(t.nm.text,0,{Ik:new wo(0),Ck:new wo(1/0),Ok:new wo(-t.tm)}),e=0;e<r.length;e++){var i=r[e];n.Ub(i)}},r.Ba=function(){var n=C.coroutine(xt.mark(function n(){var r,e,i,u,o;return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(r=0,e=this.ML.La;r<e.length;r++)e[r].ko(Vo.aa,this.CL);for(i=0,u=this.Yw.La;i<u.length;i++)o=u[i],this.Pb.qb(o);return this.UL.clear(),n.next=5,t.prototype.Ba.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),r.oe=function(){var n=C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.HL(),n.next=3,t.prototype.oe.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Ev);function TS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.nm)&&ES.test(n.description);var n}var ES=/^Track:(.+),Lang:(.+)$/;new wo(50,1e3),W.Si||W.Ri,W.pi,new wo(500,1e3),new wo(5),new wo(.04),new wo(.001),W.Ni,As.uv,As.Gh,As.Jh,As.zh,As.Wh;new wo(1,100);var SS=function(t){function n(n,r,e){var i;return void 0===e&&(e=new dS(r)),(i=t.call(this)||this).WE=void 0,i.zL=new $v,i.XL=!1,i.Zs=null,i.GL={$d:0,Jd:0,Qd:0,Zd:0,tl:0,nl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},i.YL=function(t){"boolean"==typeof t.detail.casting&&(i.XL=t.detail.casting,i.wo(new Za(i.XL)))},i.KL=function(t){i.fc=t.sessionId,i.Zs&&(i.Zs.sessionId=i.fc);var n=t.initData;if(n){var r=function(t){try{var n=oe(t),r=new he;return te(ne(Ur(n,r,Hr(n,r,!0)),!0))}catch(t){return}}(n);if(!r)return;i.wo(new Wn(Xt,r))}else i.wo(new Wn(Xt,new ArrayBuffer(0)))},i.$L=n,i.lL=r,i.lL._o($E.oL,i.KL),i.Vu=e,i.JL(),i}gt(n,t);var r=n.prototype;return r.QL=function(){var t=C.coroutine(xt.mark(function t(n){var r,e;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=8;break}if((e=n[r]).xu!==Kl.iS){t.next=5;break}return t.abrupt("return",e);case 5:r++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.eo=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ba();case 2:this.mo(),this.ZL(),this.lL.ko($E.oL,this.KL);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Fd=function(){throw new h("Not implemented yet")},r.Bb=function(t,n,r,e,i,u){throw new h("Not implemented yet")},r.lR=function(){return!1},r.yR=function(t,n,r,e){throw new h("Not implemented yet")},r.qb=function(t){throw new h("Not implemented yet")},r.ps=function(){var t=C.coroutine(xt.mark(function t(n){var r=this;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.zL.Gb(function(){var t=C.coroutine(xt.mark(function t(e){var i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.xu!==Kl.iS){t.next=7;break}return Sn(e),i=new nS(n,r,r.Vu),r.WE=i,t.abrupt("return",i);case 7:throw new h("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ee=function(){throw new h("Not implemented yet")},r.re=function(){throw new h("Not implemented yet")},r.Ba=function(){var t=this;return this.zL.fo(),this.zL.Gb(C.coroutine(xt.mark(function n(){return xt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.WE){n.next=4;break}return n.next=3,t.WE.eo();case 3:t.WE=void 0;case 4:case"end":return n.stop()}},n)})))},r.zo=function(t,n){throw new h("Not implemented yet")},r.kR=function(t){throw new h("Not implemented yet")},r.xd=function(){throw new h("Not implemented yet")},r.bR=function(){return this.GL},r.JL=function(){this.$L.addEventListener("airPlayIsCasting",this.YL)},r.ZL=function(){this.$L.removeEventListener("airPlayIsCasting",this.YL)},r.webkitSetMediaKeys=function(t){this.Zs=t||null,this.Zs&&(this.Zs.sessionId=this.fc)},r.tM=function(){},r.nM=function(){throw new h("Not implemented yet")},r.rM=function(){throw new h("Not implemented yet")},r.eM=function(t){},x(n,[{key:"zd",get:function(){throw new h("Not implemented yet")}},{key:"rR",get:function(){throw new h("The mediaElement_ property is deprecated")}},{key:"Wd",get:function(){throw new h("Not implemented yet")}},{key:"Wv",get:function(){throw new h("Not implemented yet")}},{key:"hF",get:function(){throw new h("Not implemented yet")}},{key:"zv",get:function(){throw new h("Not implemented yet")}},{key:"Xv",get:function(){throw new h("Not implemented yet")}},{key:"Do",get:function(){throw new h("Not implemented yet")}},{key:"ly",get:function(){throw new h("Not implemented yet")}},{key:"Yd",get:function(){return this.XL}},{key:"Yv",get:function(){throw new h("Not implemented yet")}},{key:"Kv",get:function(){throw new h("Not implemented yet")}},{key:"$v",get:function(){throw new h("Not implemented yet")}},{key:"ul",get:function(){throw new h("Not implemented yet")}},{key:"sh",get:function(){throw new h("Not implemented yet")}},{key:"sl",get:function(){throw new h("Not implemented yet")}},{key:"Jv",get:function(){throw new h("Not implemented yet")}},{key:"iM",get:function(){throw new h("Not implemented yet")}},{key:"td",get:function(){throw new h("Not implemented yet")},set:function(t){throw new h("Not implemented yet")}},{key:"Rf",get:function(){throw new h("Not implemented yet")}},{key:"_R",get:function(){throw new h("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Zs}},{key:"uM",get:function(){return tS}},{key:"Sd",get:function(){throw new h("Not implemented yet")}},{key:"TR",get:function(){throw new h("Not implemented yet")}},{key:"oM",get:function(){return!0}}]),n}(Is),RS=function(t){function n(n){var r;return(r=t.call(this,As.cv)||this).GL=n,r}return gt(n,t),n}(qn);var IS=function(t){function n(n){return t.call(this,$a.Ra,n)||this}return gt(n,t),n.prototype.ca=function(){return new CS(this.Qp.sa)},n}(th),CS=function(t){function n(n){return t.call(this,Ja.Ra,n)||this}return gt(n,t),n}(nh),OS=function(t){function n(n,r){var e,i=DS(r,n.zv,n.TR,n.sM);return(e=t.call(this,r,i,void 0,!1,n.Ya)||this).cM=n.fM,e.aM=n.TR,e.hM=n.sM,e.vM=n.zv,e.dM=n.lM,e.wM=Boolean(n.yM),e.gM=n._M||{},e.pM=n.mM,e.kM=n.bM,e.TM=n.EM,e.SM(),e.RM(),e}gt(n,t);var r=n.prototype;return r.bs=function(t){var n=!1;void 0===this.cM&&void 0!==t.fM&&(n=!0,this.cM=t.fM),void 0===this.hM&&void 0!==t.sM&&(n=!0,this.hM=t.sM),void 0===this.vM&&void 0!==t.zv&&(n=!0,this.vM=t.zv),void 0===this.dM&&void 0!==t.lM&&(n=!0,this.dM=t.lM),!this.wM&&t.yM&&(n=!0,this.wM=t.yM),n=this.updateCustomAttributes(t,n),void 0===this.pM&&void 0!==t.mM&&(n=!0,this.pM=t.mM),void 0===this.kM&&void 0!==t.bM&&(n=!0,this.kM=t.bM),void 0===this.TM&&void 0!==t.EM&&(n=!0,this.TM=t.EM),this.SM(),this.RM(),this.IM(),n&&this.wo(new IS(this))},r.updateCustomAttributes=function(t,n){var r=n;if(t._M)for(var e=0,i=d.keys(t._M);e<i.length;e++){var u=i[e];void 0===this.gM[u]&&(r=!0,this.gM[u]=t._M[u])}return r},r.SM=function(){this.vM&&!this.hM&&(this.hM=new Date(this.aM.getTime()+1e3*this.vM))},r.RM=function(){this.hM&&!this.vM&&(this.vM=yt(this.hM.getTime()-this.aM.getTime()))},r.IM=function(){this.cm===1/0&&(this.hM||this.vM)&&(this.cm=DS(this.sm,this.vM,this.aM,this.hM))},x(n,[{key:"sa",get:function(){var t;return this.oa||(this.oa=ns(rh(t=this),{get content(){return t.nm},get class(){return t.fM},get startDate(){return t.TR},get endDate(){return t.sM},get duration(){return t.zv},get plannedDuration(){return t.lM},get endOnNext(){return t.yM},get scte35Cmd(){return t.mM},get scte35Out(){return t.bM},get scte35In(){return t.EM},get customAttributes(){return t._M}})),this.oa}},{key:"fM",get:function(){return this.cM}},{key:"TR",get:function(){return this.aM}},{key:"sM",get:function(){return this.hM}},{key:"zv",get:function(){return this.vM}},{key:"lM",get:function(){return this.dM}},{key:"yM",get:function(){return this.wM}},{key:"mM",get:function(){return this.pM}},{key:"bM",get:function(){return this.kM}},{key:"EM",get:function(){return this.TM}},{key:"_M",get:function(){return this.gM}}]),n}(uh);function DS(t,n,r,e){return G(n)?t+n:e?t+(yt(e.getTime())-yt(r.getTime())):1/0}var NS,AS=function(t){function n(){return t.call(this,void 0,void 0,Kf.DATE_RANGE)||this}gt(n,t);var r=n.prototype;return r.bs=function(t,n){var r=this;t=function(t){for(var n=Lt(),r=[],e=0;e<t.length;e++){var i=t[e];if(n.has(i.Ya)){var u=n.get(i.Ya),o=Ft(Ft(Ft({},u),us(i)),{_M:Ft(Ft({},u._M),i._M)});n.set(i.Ya,o)}else n.set(i.Ya,i),r.push(i.Ya)}return r.map(function(t){return n.get(t)})}(t);for(var e=this.fh.La,i=function(n){var i=e[n],u=yn(t,function(t){return t.Ya===i.Ya});u?i.bs(u):r.$B(i)},u=e.length-1;u>=0;u--)i(u);for(var o=0,s=t;o<s.length;o++){var c=s[o],f=c.TR;if(void 0!==f&&!this.YB(c.Ya)){var a=n(f);this.Ub(new OS(c,a))}}},r.Ub=function(n){this.CM(n),t.prototype.Ub.call(this,n)},r.CM=function(t){var n=this.BB.filter(function(n){return n.fM===t.fM}).pop();n&&n.yM&&n.bs({Ya:n.Ya,sM:t.TR})},n}(QE);function PS(t){switch(t.type){case NS.ZF:return t.value;case NS.QF:return ss(t.value);case NS.JF:return Qn(t.value);default:return}}function xS(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.ZF="daterange-ca-type_string",t.QF="daterange-ca-type_number",t.JF="daterange-ca-type_arraybuffer"}(NS||(NS={}));var FS,BS,LS,MS=function(t){function n(n,r,e,i,u){var o;return(o=t.call(this,i,r,e)||this).NE=n,o.OM=u,o}return gt(n,t),x(n,[{key:"name",get:function(){return this.NE}},{key:"timestamp",get:function(){return this.OM}}]),n}(Be),US=function(t){function n(n,r,e,i,u,o,s,c){var f;return(f=t.call(this,n,r,e,i,c)||this).url=u,f.status=o,f.errorComment=s,f}return gt(n,t),n}(MS),qS=function(){function t(t){this.md=new Tv,this.DM=new PE(t)}var n=t.prototype;return n.Bb=function(t,n,r,e,i){var u=new GE(t,n,r,e,i);return this.md.Pa(u),this.DM.Pa(u),u},n.qb=function(t){this.md.xa(t),this.DM.xa(t)},n.Ba=function(){this.md.Ba(),this.DM.Ba()},n.oe=function(){this.md.oe(),this.DM.oe()},x(t,[{key:"Sd",get:function(){return this.md}}]),t}(),jS=function(t){function n(n,r,e,i,u){var o;(o=t.call(this)||this).IF=0,o.NM=!1,o.LS=void 0,o.MS=void 0,o.CF=!0,o.DF=1,o.AM=sa.Ep(),o.PM=sa.Ep(),o.xM=!1,o.FM=sa.Ep(),o.MB=Os.kh,o.cS=Os.kh,o.GL={$d:0,Jd:0,Qd:0,Zd:0,tl:0,nl:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.WE=void 0,o.setCurrentTime=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.sl.length){t.next=4;break}return o.IF=n,t.next=4,o.$L.Eo("seekablechange");case 4:o.IF=o.updateCurrentTime(n),o.PB.AB("THEOplayerSetCurrentTime",o.IF),o.OF=!0,o.wo(new Ms(o.IF));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.BM=function(t){if(t.detail){for(var n=t.detail.buffered,r=[],e=0;e<n.length;e++){var i=n[e];r.push(i.start,i.end)}o.AM=new sa(r),o.wo(new FE(o.Wv))}},o.LM=function(t){o.MB=t.detail.readyState,o.wo(new xs(+t.detail.currentTime,o.sh)),o.MM()},o.UM=function(t){o.MB=t.detail.readyState,o.wo(new Ps(+t.detail.currentTime,o.sh)),o.MM()},o.qM=function(t){if(t.detail){var n=+t.detail.duration;o.vM=n,o.wo(new Hs(o.zv))}},o.jM=function(t){t.detail&&(o.NM=!0,o.wo(new qs(+t.detail.currentTime)))},o.qS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,r=JSON.parse(t.detail.errorObject);xS(n=r)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.MS=new US(r.name,r.message,void 0,r.code,r.url,r.status,r.errorComment,r.timestamp),o.LS=Pc(o.MS),o.wo(new Qs(o.MS))):xS(r)&&(o.MS=new MS(r.name,r.message,void 0,r.code,r.timestamp),o.LS=Pc(o.MS),o.wo(new Qs(o.MS)))}},o.VM=function(t){o.wo(new xE)},o.HM=function(t){o.MB=t.detail.readyState,o.wo(new Us(+t.detail.currentTime,o.sh)),o.MM()},o.WM=function(){var t=C.coroutine(xt.mark(function t(n){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.sl.length){t.next=3;break}return t.next=3,o.$L.Eo("seekablechange");case 3:o.MB=n.detail.readyState,o.wo(new Ws(+n.detail.currentTime,o.sh)),o.MM();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.zM=function(t){t.detail&&o.wo(new zs(+t.detail.currentTime))},o.XM=function(t){t.detail&&o.wo(new Gs(+t.detail.currentTime))},o.GM=function(t){if(t.detail){for(var n=t.detail.played,r=[],e=0;e<n.length;e++){var i=n[e];r.push(i.start,i.end)}o.FM=new sa(r).op(.05)}},o.YM=function(t){t.detail&&o.wo(new hw(+t.detail.currentTime))},o.KM=function(t){t.detail&&(o.DF=t.detail.playbackRate,o.wo(new Vs(+t.detail.currentTime,o.DF)))},o.$M=function(t){if(t.detail){for(var n=t.detail.seekable,r=[],e=0;e<n.length;e++){var i=n[e];r.push(i.start,i.end)}o.PM=new sa(r)}},o.JM=function(t){t.detail&&(o.IF=+t.detail.currentTime,o.OF=!1,o.wo(new js(o.IF,o.QM)),o.wo(new Ls(o.IF)))},o.ZM=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.vM&&(o.NM=!1),o.OF=!0,o.wo(new Ms(n))}},o.tU=function(t){t.detail&&(t.detail.currentDate&&(o.QM=new Date(1e3*t.detail.currentDate)),o.IF=+t.detail.currentTime,o.wo(new js(o.IF,o.QM)))},o.nU=function(t){o.rU=t.detail.height,o.eU=t.detail.width},o.iU=function(t){t.detail&&o.wo(new aw(+t.detail.currentTime))},o.uU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Td.Pa(new Xa(n))},o.oU=function(t){for(var n,r,e=t.detail.lang,i=t.detail.label,u=0;u<o._d.Ma;u++){var s=o.Td.Aa(u);s.Qa==e&&s.Ja==i?r=o._d.Aa(u):1==s.Ga&&(n=o._d.Aa(u))}r&&n&&(r.Ga=!0,n.Ga=!1)},o.sU=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Ed.Pa(new Qa(n))},o.cU=function(t){var n,r=t.detail.kind,e=t.detail.type;r===la.uw&&e===Kf.ID3?(n=new ZE("",t.detail.label)).eh=gs.uh:r===la.uw&&e===Kf.DATE_RANGE?(n=new AS,o.fU=n):n=new GE(r,t.detail.label,t.detail.lang,t.detail.isDefault,e),o.aU.Pa(n),o.DM.Pa(n)},o.hU=function(t){for(var n=0,r=t.detail;n<r.length;n++){var e=r[n],i=e.Id3FrameId,u={id:i,text:e.Id3FrameText};"TXXX"!==i&&"TXX"!==i||(u.description=e.Id3FrameDescription);var s=new JE(ss(e.startTime),u);s.Ya=e.uid;var c=o.vU();c&&c.Ub(s)}},o.dU=function(t){for(var n=0,r=t.detail;n<r.length;n++){var e=r[n],i=new oh(ss(e.startTime),ss(e.endTime),e.content,!1),u=o.lU();u&&(u.xu=Kf.WEBVTT,u.Ub(i))}},o.ZS=function(t){t.type===As.Dh&&(o.LS=Pc(t.errorObject)),o.lo(t)},o.wU=function(t){t.detail&&(o.GL.Jd=t.detail.corruptedVideoFrames,o.GL.$d=t.detail.droppedVideoFrames,o.wo(new RS(o.Kd)))},o.yU=function(t){var n=function(t){var n=t.detail,r=[];return n.forEach(function(t){var n={Ya:t.id};if(void 0!==t.startDate&&(n.TR=new Date(t.startDate)),void 0!==t.endDate&&(n.sM=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var i in t.customAttributes){var u=PS(t.customAttributes[i]);void 0!==u&&(e[i]=u)}n._M=e}void 0!==t.scte35Cmd&&(n.mM=Qn(t.scte35Cmd)),void 0!==t.scte35In&&(n.EM=Qn(t.scte35In)),void 0!==t.scte35Out&&(n.bM=Qn(t.scte35Out)),void 0!==t.startTime&&(n.Zp=t.startTime),n.fM=t.class,n.zv=ss(t.duration),n.lM=ss(t.plannedDuration),r.push(n)}),r}(t);n.forEach(function(t){var r=null!=t.Zp?t.Zp:(new Date).getTime(),e=new OS(t,r);o.fU.Ub(e),o.fU.bs(n,r)})};var s=i.uid;o.PB=o.getSdkBridge(s),o.$L=new wE,fE()[s].sdkEventBus=o.$L,o._d=new La,o.pd=new La;var c=o.gU(e);return o.Pb=new qS(pt(o)),o.DM=new PE(pt(o)),o.sR=new Hv(o.Pb,c),o.aU=new Tv,o._U=new kS(pt(o)),o._U.Wa=o.aU,o.pU=new bS(o.Pb,o._U),o.md=new dE([o.aU,o.sR.Yw,o.pU.Yw]),o.lL=o.getFairPlayControllerBridge(o.PB),o.KE=new SS(o.$L,o.lL),o.iR=new LE(o.KE,c),o.iR._o(gw,o.ZS),o.observeMediaElement(),o.oR(),o.GR=new BE(o.PB,u),o.GR._o("GA",function(){o.PB.AB("THEOplayerSetPreferredForwardBufferDuration",o.GR.XA)}),o}gt(n,t);var r=n.prototype;return r.Ld=function(){return Pw},r.xd=function(){this.PB.AB("THEOplayerShow",{})},r.Fd=function(){this.PB.AB("THEOplayerHide",{})},r.mU=function(){var t=this;this.PB.AB("THEOplayerSetInitialPreferredPeakBitRate",this.GR.nP);this._o("playing",function n(){t.PB.AB("THEOplayerSetInitialPreferredPeakBitRate",0),t.ko("playing",n)})},r.Cd=function(){var t=C.coroutine(xt.mark(function t(n,r){var e,i,u;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kU=n,e=Ft(Ft({},r),{sources:{src:n.src,type:nc.Mv,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange}}),this.PB.AB("THEOplayerSourceChange",e),i={xu:Kl.iS,hh:n.src,cR:n.type,fR:[],aR:n.crossOrigin,hR:r.metadata&&r.metadata.title},t.next=6,this.KE.ps(i);case 6:this.WE=t.sent,this.iR.Ns(this.WE),this.iR.Jb(this.vR(n)),r.textTracks&&(u=r.textTracks.filter(function(t){return t.format!==Kf.WEBVTT})).length>0&&this.dR(u),Yv(this.Sd),this.mU();case 12:case"end":return t.stop()}},t,this)}));return function(n,r){return t.apply(this,arguments)}}(),r.vR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{DT:t.contentProtection||{},Zb:[{Bs:rn,tT:[],AT:void 0,ic:void 0}],rS:[],eS:["video/mp4"]}}},r.re=function(){this.CF=!1,this.wo(new zs(this.Wv)),this.PB.AB("THEOplayerPlay",{})},r.ee=function(){this.CF=!0,this.wo(new Gs(this.Wv)),this.PB.AB("THEOplayerPause",{})},r.Bd=function(){},r.Ba=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IF=0,this.NM=!1,this.LS=void 0,this.MS=void 0,this.CF=!0,this.DF=1,this.vM=void 0,this.PM=sa.Ep(),this.AM=sa.Ep(),this.rU=void 0,this.eU=void 0,this.MB=Os.kh,this.cS=Os.kh,this._d.Ba(),this.pd.Ba(),this.aU.Ba(),this.md.Ba(),t.next=19,this.pU.Ba();case 19:return this._U.Ba(),t.next=22,this.sR.Ba();case 22:return this.Pb.Ba(),this.DM.Ba(),this.kU=void 0,t.next=27,this.KE.Ba();case 27:return t.next=29,this.iR.Ba();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Dd=function(){this.PB.AB("THEOplayerShowAirPlayPicker",{})},r.Nd=function(){this.PB.AB("THEOplayerStopAirPlayPicker",{})},r.updateMetrics=function(t){this.Kd.Jd=t.Jd,this.Kd.$d=t.$d},r.oe=function(){var t=C.coroutine(xt.mark(function t(){return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ba();case 2:return this.mo(),this.unobserveMediaElement(),this.mR(),t.next=7,this.iR.oe();case 7:return t.next=9,this.KE.eo();case 9:return this._d.oe(),this.pd.oe(),this.aU.oe(),this.md.oe(),this._U.oe(),t.next=16,this.pU.oe();case 16:return t.next=18,this.sR.oe();case 18:this.Pb.oe(),this.DM.oe();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.dR=function(t){for(var n=0;n<t.length;n++){var r=t[n];this.sR.Fb(r)}},r.MM=function(){var t=this.cS,n=this.MB;t!==n&&(this.cS=n,this.wo(new Ns(this.Wv,n)))},r.observeMediaElement=function(){this.KE._o(As.Rh,this.lo),this.$L.addEventListener("play",this.zM),this.$L.addEventListener("pause",this.XM),this.$L.addEventListener("seeking",this.ZM),this.$L.addEventListener("seeked",this.JM),this.$L.addEventListener("ratechange",this.KM),this.$L.addEventListener("durationchange",this.qM),this.$L.addEventListener("timeupdate",this.tU),this.$L.addEventListener("waiting",this.iU),this.$L.addEventListener("playing",this.YM),this.$L.addEventListener("ended",this.jM),this.$L.addEventListener("loadedmetadata",this.WM),this.$L.addEventListener("loadeddata",this.HM),this.$L.addEventListener("loadstart",this.VM),this.$L.addEventListener("canplay",this.LM),this.$L.addEventListener("canplaythrough",this.UM),this.$L.addEventListener("error",this.qS),this.$L.addEventListener("seekablechange",this.$M),this.$L.addEventListener("videosizechange",this.nU),this.$L.addEventListener("bufferedchange",this.BM),this.$L.addEventListener("playedchange",this.GM),this.$L.addEventListener("metricschange",this.wU),this.$L.addEventListener("addDateRangeCues",this.yU)},r.unobserveMediaElement=function(){this.KE.ko(As.Rh,this.lo),this.$L.removeEventListener("play",this.zM),this.$L.removeEventListener("pause",this.XM),this.$L.removeEventListener("seeking",this.ZM),this.$L.removeEventListener("seeked",this.JM),this.$L.removeEventListener("ratechange",this.KM),this.$L.removeEventListener("durationchange",this.qM),this.$L.removeEventListener("timeupdate",this.tU),this.$L.removeEventListener("waiting",this.iU),this.$L.removeEventListener("playing",this.YM),this.$L.removeEventListener("ended",this.jM),this.$L.removeEventListener("loadedmetadata",this.WM),this.$L.removeEventListener("loadeddata",this.HM),this.$L.removeEventListener("loadstart",this.VM),this.$L.removeEventListener("canplay",this.LM),this.$L.removeEventListener("canplaythrough",this.UM),this.$L.removeEventListener("error",this.qS),this.$L.removeEventListener("seekablechange",this.$M),this.$L.removeEventListener("videosizechange",this.nU),this.$L.removeEventListener("bufferedchange",this.BM),this.$L.removeEventListener("playedchange",this.GM),this.$L.removeEventListener("metricschange",this.wU),this.$L.removeEventListener("addDateRangeCues",this.yU)},r.updateCurrentTime=function(t){var n=this.sl.start(0),r=this.sl.end(0);return l.min(l.max(t,n),r)},r.vU=function(){for(var t=0,n=this.md.La;t<n.length;t++){var r=n[t];if(r.$a===la.uw&&r.xu===Kf.ID3)return r}},r.lU=function(){for(var t=0,n=this.md.La;t<n.length;t++){var r=n[t];if(r.eh===gs.ih)return r}},r.oR=function(){this.$L.addEventListener("addaudiotrack",this.uU),this.$L.addEventListener("enableaudiotrack",this.oU),this.$L.addEventListener("addvideotrack",this.sU),this.$L.addEventListener("addtexttrack",this.cU),this.$L.addEventListener("addtexttrackid3cues",this.hU),this.$L.addEventListener("addtexttrackcues",this.dU)},r.mR=function(){this.$L.removeEventListener("addaudiotrack",this.uU),this.$L.removeEventListener("enableaudiotrack",this.oU),this.$L.removeEventListener("addvideotrack",this.sU),this.$L.removeEventListener("addtexttrack",this.cU),this.$L.removeEventListener("addtexttrackid3cues",this.hU),this.$L.removeEventListener("addtexttrackcues",this.dU)},r.Hd=function(){},x(n,[{key:"Td",get:function(){return this._d}},{key:"Wd",get:function(){return this.AM.W_()}},{key:"zd",get:function(){return this.QM?this.QM:null},set:function(t){this.PB.AB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.QM=t}},{key:"Wv",get:function(){return this.IF},set:function(t){this.setCurrentTime(t)}},{key:"zv",get:function(){return this.vM}},{key:"Xv",get:function(){return this.NM}},{key:"Do",get:function(){return this.LS}},{key:"Gv",get:function(){return this.MS}},{key:"Gd",get:function(){}},{key:"Yd",get:function(){return this.KE.Yd}},{key:"Kd",get:function(){return this.GL}},{key:"Yv",get:function(){return this.xM},set:function(t){this.xM!==t&&(this.PB.AB("THEOplayerSetMuted",t),this.xM=t,this.wo(new Bs(this.Wv,t?0:1)))}},{key:"Kv",get:function(){return this.CF}},{key:"$v",get:function(){return this.DF},set:function(t){this.PB.AB("THEOplayerSetPlaybackRate",t),this.DF=t}},{key:"ul",get:function(){return this.FM.W_()}},{key:"ol",get:function(){return Rw.jR},set:function(t){}},{key:"sh",get:function(){return this.MB}},{key:"sl",get:function(){return this.PM.W_()}},{key:"Jv",get:function(){return this.OF}},{key:"TR",get:function(){}},{key:"Sd",get:function(){return this.md}},{key:"Qv",get:function(){return this.rU}},{key:"Zv",get:function(){return this.eU}},{key:"td",get:function(){return 1},set:function(t){}},{key:"Ed",get:function(){return this.pd}},{key:"il",get:function(){return!0}}]),n}(Is),VS=function(){function t(){this.ER=lw.xS}return t.prototype.SR=function(n,r){if(r.vr&&r.vr[360])return!1;if((e=n.type)&&sn(e.toLowerCase(),nc.Lv))return!1;var e,i=n.contentProtection;if(i&&!Tf(i)){if(!Rf(i))return!1;if(!t.bU(i))return!1}return!0},t.bU=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}(),HS=function(){function n(t){this.playerID=t}return n.prototype.AB=function(n,r){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:r,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),WS=function(t){function n(n){var r;return(r=t.call(this)||this).TU=function(t){var n=Qn(t.detail.initData),e=t.detail.sessionId;r.wo(new sS(n,e))},r.EU=function(t){var n=new _(ur(t.detail.message)),e=t.detail.destinationURL;r.wo(new cS(n,e))},r.SU=function(t){r.wo(new fS)},r.PB=n,r.$L=new wE,fE().fairplayController={sdkEventBus:r.$L},r.RU(),r}gt(n,t);var r=n.prototype;return r.RU=function(){this.$L.addEventListener($E.oL,this.TU),this.$L.addEventListener($E.sL,this.EU),this.$L.addEventListener($E.cL,this.SU)},r.IT=function(t,n){var r={data:or(n.buffer),sessionId:t};this.PB.AB("THEOplayerCreateKeySession",r)},r.bs=function(t,n){var r={data:or(n.buffer),sessionId:t};this.PB.AB("THEOplayerUpdateKey",r)},n}(Is),zS=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.Rb=function(n){if(ce(n.lb)){var r=fe(n.lb);n.lb=Zr(r)}return t.prototype.Rb.call(this,n)},n}(function(){function t(t){this.xb=t}var n=t.prototype;return n.Rb=function(t,n){return this.xb.Rb(t,n)},n.EC=function(t){this.xb.EC(t)},n.oe=function(){this.xb.oe()},t}()),XS=function(t){function n(n,r,e,i,u){return t.call(this,n,r,e,i,u)||this}gt(n,t);var r=n.prototype;return r.Od=function(){return!1},r.getSdkBridge=function(t){return new HS(t)},r.getFairPlayControllerBridge=function(t){return BS||(BS=new WS(t)),BS},r.gU=function(t){return new zS(t)},n}(jS);FS=new(function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.wl=function(t,n,r,e,i,u){return new XS(t,n,r,e,i)},n}(VS)),Sw.ji.PR(FS),function(t){t.ra="addtrack",t.ia="removetrack",t.ma="change",t.Ra="update"}(LS||(LS={}));var GS=function(t,n,r){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=r,this.type=LS.ma},YS=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=LS.ra},KS=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=LS.ia},$S=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=LS.Ra},JS=function(){function t(t,n,r){var e=this;this.IU=function(t){var n=new GS(e.type,t.track,e.mediaTracks);e.messageDispatcher.CU(n)},this.OU=function(t){var n=new YS(e.type,t.track);e.messageDispatcher.CU(n),t.track.addEventListener("update",e.DU)},this.NU=function(t){var n=new KS(e.type,t.track);e.messageDispatcher.CU(n)},this.DU=function(t){var n=new $S(e.type,t.track);e.messageDispatcher.CU(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=r,this.RU()}return t.prototype.RU=function(){this.mediaTracks.addEventListener("change",this.IU),this.mediaTracks.addEventListener("addtrack",this.OU),this.mediaTracks.addEventListener("removetrack",this.NU)},t}(),QS=function(){function t(t){this.AU=new HS(t)}return t.prototype.CU=function(t){this.AU.AB(t.type,$T(t))},t}();gT(function(t){if(t.sa.audioTracks){var n=new QS(t.Ka);new JS("audio",t.sa.audioTracks,n)}if(t.sa.videoTracks){var r=new QS(t.Ka);new JS("video",t.sa.videoTracks,r)}});var ZS,tR,nR=function(t){function n(){return t.apply(this,arguments)||this}return gt(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case ZS.PU:var r={integrationId:n.integrationId,keySystem:n.keySystem};this.wo(new rR(r));break;default:0}},n}(wE),rR=function(t){function n(n){var r;return(r=t.call(this,ZS.PU)||this).detail=n,r}return gt(n,t),n}(qn);!function(t){t.PU="registerContentProtectionIntegration"}(ZS||(ZS={})),function(t){t.xU="certifiateRequest",t.FU="certifiateResponse",t.BU="licenseRequest",t.LU="licenseResponse",t.MU="extractFairplayContentId",t.UU="buildContentProtection",t.qU="registerContentProtectionCallback"}(tR||(tR={}));var eR,iR,uR=function(t,n){this.value=t,this.integrationId=n,this.type=tR.qU};!function(t){t.VOD="vod",t.LIVE="live"}(eR||(eR={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(iR||(iR={}));var oR,sR=function(t,n){this.value=t,this.integrationId=n,this.type=tR.UU},cR=function(t,n){this.value=t,this.integrationId=n,this.type=tR.xU},fR=function(t,n){this.value=t,this.integrationId=n,this.type=tR.FU},aR=function(t,n){this.value=t,this.integrationId=n,this.type=tR.MU},hR=function(t,n){this.value=t,this.integrationId=n,this.type=tR.BU},vR=function(t,n){this.value=t,this.integrationId=n,this.type=tR.LU},dR=function(){function t(t,n){this.jU=t,this.yl=n}var r=t.prototype;return r.onCertificateRequest=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r),i=new cR(e,this.yl),t.prev=2,t.next=5,this.jU.VU(i);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.HU(o)){t.next=13;break}return s=Ft({},o),t.abrupt("return",s);case 13:if(!this.WU(o)){t.next=16;break}return c=new _(o),t.abrupt("return",c);case 16:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Dc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),r.onCertificateResponse=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r.request),i={request:e,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},u=new fR(i,this.yl),t.next=5,this.jU.VU(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new _(s));case 11:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseRequest=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s,c,f;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r),i={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:r.fairplaySkdUrl},u=new hR(i,this.yl),t.prev=3,t.next=6,this.jU.VU(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.HU(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new _(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.WU(s)){t.next=17;break}return f=new _(s),t.abrupt("return",f);case 17:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Dc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),r.onLicenseResponse=function(){var t=C.coroutine(xt.mark(function t(r){var e,i,u,o,s,c;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(r.request),i=Ft(Ft({},e),{fairplaySkdUrl:r.request.fairplaySkdUrl}),u={request:i,url:r.url,status:r.status,statusText:r.statusText,headers:r.headers,body:Array.from(r.body)},o=new vR(u,this.yl),t.next=6,this.jU.VU(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new _(c));case 12:throw new Dc(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.extractFairplayContentId=function(){var t=C.coroutine(xt.mark(function t(r){var e,i;return xt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new aR(r,this.yl),t.next=3,this.jU.VU(e);case 3:if(!(i=t.sent)){t.next=6;break}return t.abrupt("return",i);case 6:return t.abrupt("return",C.reject(new Dc(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},r.HU=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},r.WU=function(t){return!!new _(t)},t}(),lR=function(){function t(t){this.jU=t}return t.prototype.build=function(t){if(!t.integration)throw new h("integrationId is undefined");var n=new dR(this.jU,t.integration),r=new sR({drmConfiguration:t},t.integration);return this.jU.VU(r),n},t}(),wR=function(){var t=this;this.zU=function(n){var r=new lR(t.messageDispatcher),e=n.detail,i=e.integrationId,u=e.keySystem,o={state:cf.bl._l(i,u,r)};t.messageDispatcher.VU(new uR(o,i))},this.$L=new nR,fE().contentProtectionIntegration={sdkEventBus:this.$L},this.$L.addEventListener(ZS.PU,this.zU)},yR="nativePromiseCallback",gR=function(t){function n(n){var r;return(r=t.call(this,yR)||this).detail=n,r}return gt(n,t),n}(qn);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(oR||(oR={}));var _R=function(t){function n(){return t.apply(this,arguments)||this}gt(n,t);var r=n.prototype;return r.dispatchEvent=function(t,n){this.wo(new gR(n))},r.addEventListener=function(t,n){this._o(t,n)},r.removeEventListener=function(t,n){this.ko(t,n)},n}(wE),pR=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var r=t.promisesMap[n.detail.promiseId];if(!r)throw new h("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case oR.RESOLVE:r.Zo(n.detail.data);break;case oR.REJECT:r.ts(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new _R;fE().nativePromise={sdkEventBus:n},n.addEventListener(yR,this.handleNativePromiseEvent)}return t.prototype.VU=function(n){var r;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),i=Ft(Ft({},n),{promiseId:e}),u=new ve;return this.promisesMap[e]=u,null===(r=this.AU)||void 0===r||r.AB(n.type,YT(i)),u.Qo},t}();pR.messageIdTracker=-1;var mR=function(t){function n(n){var r;return(r=t.call(this)||this).AU=new HS(n),r}return gt(n,t),n}(pR),kR=function(t){function n(n){var r;return(r=t.call(this)||this).jU=new mR(n),r}return gt(n,t),x(n,[{key:"messageDispatcher",get:function(){return this.jU}}]),n}(wR);gT(function(t){new kR(t.sa.uid)}),n.ChromelessPlayer=jT,n.Player=jT,n.createGlobals=vE,n.features=[],n.getCueMirrorMap=aE,n.getGlobalId=hE,n.getSdkEventBridge=fE,n.playerSuiteVersion="2021.1.3",n.players=WT,n.registerContentProtectionIntegration=zT,n.utils=HT,n.version="2.83.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
