/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.1.1 (3.1.1)
 Created: 2022-02-22T09:02:11.522Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,u=t.document,o=t.location,s=t.navigator,c=t.setTimeout,a=t.clearTimeout,f=t.setInterval,h=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),w=t.Math,y=t.parseInt,g=t.parseFloat,_=t.isNaN,p=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),k="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E,S,R,I,A,C=b(function(n,i){n.exports=function t(n,i,e){function u(s,c){if(!i[s]){if(!n[s]){var a="function"==typeof r&&r;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var f=new v("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var i=n[s][1][t];return u(i||t)},h,h.exports,t,n,i,e)}return i[s].exports}for(var o="function"==typeof r&&r,s=0;s<e.length;s++)u(e[s]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),o=t("./util");function s(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,i){this.g.push(t,n,i),this.F()}function f(t,n,i){this.p.push(t,n,i),this.F()}function h(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var i=t.shift(),r=t.shift();n.call(i,r)}}s.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},s.prototype.hasCustomScheduler=function(){return this.v},s.prototype.enableTrampoline=function(){this.I=!0},s.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.I=!1)},s.prototype.haveItemsQueued=function(){return this.l||this.R},s.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(s.prototype.invokeLater=function(t,n,i){this.I?a.call(this,t,n,i):this.N(function(){c(function(){t.call(n,i)},100)})},s.prototype.invoke=function(t,n,i){this.I?f.call(this,t,n,i):this.N(function(){t.call(n,i)})},s.prototype.settlePromises=function(t){this.I?h.call(this,t):this.N(function(){t.B()})}):(s.prototype.invokeLater=a,s.prototype.invoke=f,s.prototype.settlePromises=h),s.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},s.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},s.prototype.U=function(){this.l=!1},n.exports=s,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.V(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.H(u,u,null,this,t)},s=function(t,n){0==(50397184&this.j)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=r.propagateFromFunction(),t.prototype.G=r.boundValueFunction());var a=i(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.H(n,o,void 0,f,v),a.H(s,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.j=2097152|this.j,this.Z=t):this.j=-2097153&this.j},t.prototype.nt=function(){return 2097152==(2097152&this.j)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=w.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.H(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=o;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.H(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.it;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.ot()?n.st().cancel():n.ct();break}var i=t.at;if(null==i||!i.et()){t.ot()?t.st().cancel():t.ct();break}t.ot()&&t.st().cancel(),t.ft(),n=t,t=i}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.St(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=o(t).call(this.G());r===s&&(this.Rt(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.At=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,o,s){return function(c){var a=s.G();t:for(var f=0;f<t.length;++f){var h=t[f];if(h===v||null!=h&&h.prototype instanceof v){if(c instanceof h)return e(o).call(a,c)}else if("function"==typeof h){var d=e(h).call(a,c);if(d===u)return d;if(d)return e(o).call(a,c)}else if(i.isObject(c)){for(var l=r(h),w=0;w<l.length;++w){var y=l[w];if(h[y]!=c[y])continue t}return e(o).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Ct=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Dt=function(){},t.prototype.Nt=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},r.prototype.Nt=function(){void 0!==this.Ct&&(this.Ct.Dt=null,i.push(this.Ct))},r.prototype.Ot=function(){if(void 0!==this.Ct){var t=i.pop(),n=t.Dt;return t.Dt=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Nt,u=t.prototype.Ot,o=t.xt,s=t.prototype.xt,c=t.prototype.Dt;r.deactivateLongStackTraces=function(){t.prototype.Nt=i,t.prototype.Ot=u,t.xt=o,t.prototype.xt=s,t.prototype.Dt=c,n=!1},n=!0,t.prototype.Nt=r.prototype.Nt,t.prototype.Ot=r.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Dt=function(){var t=this.xt();t&&null==t.Dt&&(t.Dt=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,o,s=n.Pt,a=n.it,f=t("./errors").Warning,h=t("./util"),w=t("./es5"),g=h.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==h.env("BLUEBIRD_DEBUG")),S=!(0==h.env("BLUEBIRD_WARNINGS")||!E&&!h.env("BLUEBIRD_WARNINGS")),R=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.j=-1048577&t.j|524288},n.prototype.Lt=function(){if(0==(524288&this.j)){this.Ft();var t=this;c(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",r,void 0,this)},n.prototype.Ut=function(){this.j=268435456|this.j},n.prototype.Vt=function(){return 0!=(268435456&this.j)},n.prototype.Mt=function(){if(this.qt()){var t=this.Ht();this.jt(),K("unhandledRejection",e,t,this)}},n.prototype.jt=function(){this.j=262144|this.j},n.prototype.Wt=function(){this.j=-262145&this.j},n.prototype.zt=function(){return(262144&this.j)>0},n.prototype.Ft=function(){this.j=1048576|this.j},n.prototype.$t=function(){this.j=-1048577&this.j,this.zt()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.j)>0},n.prototype.rt=function(t,n,i){return $(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=s();e="function"==typeof t?null===n?t:h.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=s();r="function"==typeof t?null===n?t:h.domainBind(n,t):void 0};var A=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,r=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,A=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=r,n.prototype.Gt=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=j,n.prototype.Rt=W,n.prototype.Gt=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var C=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!h.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason}),!h.global.dispatchEvent(i)}}var t=u.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(t),function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!h.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=h.isNode?function(){return process.emit.apply(process,arguments)}:h.global?function(t){var n="on"+t.toLowerCase(),i=h.global[n];return!!i&&(i.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var O={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:N},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=C(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function L(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+h.toString(t));r.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?h.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var i=t.vt;void 0===i&&(i=0),t.vt=i+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&A()),"warnings"in t){var i=t.warnings;et.warnings=!!i,I=et.warnings,h.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function H(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function j(){this.Ct=new it(this.xt())}function W(t,n){if(g(t)){var i=this.Ct;if(void 0!==i&&n&&(i=i.Zt),void 0!==i)i.attachExtraTrace(t);else if(!t.tn){var r=G(t);h.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),h.notEnumerableProp(t,"tn",!0)}}}function z(){this.Ct=void 0}function $(t,i,r){if(et.warnings){var e,u=new f(t);if(i)r.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var o=G(u);u.stack=o.message+"\n"+o.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&Z(r);e&&!u&&(T&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(h.isObject(t)){var e=t.stack;r=n+b(e,t)}else r=n+String(t);"function"==typeof o?o(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function K(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():h.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof rt}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:y(n[2],10)}}function it(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);rt(this,it),n>32&&this.uncycle()}h.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Zt;for(var r=(t=this.kt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var o=n[r].stack,s=i[o];if(void 0!==s&&s!==r){s>0&&(n[s-1].Zt=void 0,n[s-1].kt=1),n[r].Zt=void 0,n[r].kt=1;var c=r>0?n[r-1]:this;s<t-1?(c.Zt=n[s+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=r-2;f>=0;--f)n[f].kt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],o=-1,s=r.length-1;s>=0;--s)if(r[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=r[s];if(n[e]!==c)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),h.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),h.notEnumerableProp(t,"tn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,k=t,b=n;var i=v.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},h.isNode&&process.stderr.isTTY?o=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:h.isNode||"string"!=typeof(new v).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return H},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&r.j))return;i&&(i+=" ");var u="",o="";if(n.Ct){for(var s=n.Ct.stack.split("\n"),c=X(s),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<s.length;++a)if(s[a]===v){a>0&&(o="\n"+s[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){i=a.fileName,o=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){r=a.fileName,s=a.line;break}}o<0||s<0||!i||!r||i!==r||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&o<=n.line&&n.line<=s)})}},warn:$,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),$(i)},CapturedTrace:it,fireDomEvent:C,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.H(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.H(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.H(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.H(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).H(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).H(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,a=s.notEnumerableProp;function f(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return c(i,v),i}var h=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return p--,n},c(m,v);var k=v.in;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(v,"in",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,o=e.errorObj,s=t("./catch_filter")(r);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().Ht())}function v(t){if(!f(this,t))return o.e=t,o}function l(t){var e=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(e.G()):s.call(e.G(),t);if(c===r)return c;if(void 0!==c){e.Ut();var d=i(c,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Et()){var l=new u("late cancellation observer");return e.Rt(l),o.e=l,o}d.isPending()&&d.Yt(new a(this))}return d.H(h,v,void 0,this,void 0)}}}return e.isRejected()?(f(this),o.e=t,o):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.rn=function(t,n,i,r){return"function"!=typeof t?this.then():this.H(i,r,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var r,u=new Array(i-1),o=0;for(r=0;r<i-1;++r){var c=arguments[r];if(!e.isObject(c))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[o++]=c}u.length=o;var a=arguments[r];return this.rn(s(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./errors"),c=s.TypeError,a=t("./util"),f=a.errorObj,h=a.tryCatch,d=[];function w(t,i,e,u){if(o.cancellation()){var s=new n(r),c=this.en=new n(r);this.un=s.lastly(function(){return c}),s.Xt(),s.J(this)}else{var a=this.un=new n(r);a.Xt()}this.sn=u,this.cn=t,this.an=i,this.fn=void 0,this.hn="function"==typeof e?[e].concat(d):d,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,o.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,i=void 0!==this.fn.return;if(i)this.un.Nt(),t=h(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.un.Rt(r),this.un.Nt(),t=h(this.fn.throw).call(this.fn,r),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.Nt();var n=h(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.Nt();var n=h(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var i=this.un;if(t===f)return this.wn(),this.dn?i.cancel():i.bn(t.e,!1);var r=t.value;if(!0===t.done)return this.wn(),this.dn?i.cancel():i.W(r);var u=e(r,this.un);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Nt();var o=h(i[u])(t);if(r.Ot(),o===f){r.Nt();var s=n.reject(f.e);return r.Ot(),s}var c=e(o,r);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var o=(u=u.Y()).j;0==(50397184&o)?(this.vn=u,u.Tn(this,null)):0!=(33554432&o)?n.it.invoke(this.pn,this,u.En()):0!=(16777216&o)?n.it.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=w,e=(new v).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),o=u.promise();return u.fn=n,u.pn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new w(t,this),e=r.promise();return r.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.it;function v(t,n,i,r){this.constructor$(t),this.un.Xt();var e=s();this.Rn=null===e?n:c.domainBind(e,n),this.In=r===u?new Array(this.length()):null,this.An=i,this.Cn=0,this.Dn=[],h.invoke(this.Nn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+c.classString(i));var o=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+c.classString(e.concurrency)));o=e.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new v(t,i,o,u).promise()}c.inherits(v,i),v.prototype.Nn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.pn=function(t,i){var r=this.On,u=this.length(),s=this.In,c=this.An;if(i<0){if(r[i=-1*i-1]=t,c>=1&&(this.Cn--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.Cn>=c)return r[i]=t,this.Dn.push(i),!1;null!==s&&(s[i]=t);var h=this.un,v=this.Rn,d=h.G();h.Nt();var l=a(v).call(d,t,i,u),w=h.Ot();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).j;if(0==(50397184&g))return c>=1&&this.Cn++,r[i]=y,y.Tn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}r[i]=l}var _=++this.Pn;return _>=u&&(null!==s?this.Ln(r,s):this.Fn(r),!0)},v.prototype.xn=function(){for(var t=this.Dn,n=this.An,i=this.On;t.length>0&&this.Cn<n;){if(this.ln())return;var r=t.pop();this.pn(i[r],r)}},v.prototype.Ln=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Fn(r)},v.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var r=new n(i);r.Xt(),r.Nt();var e=s(t).apply(this,arguments),o=r.Ot();return u.checkForgottenReturns(e,o,"Promise.method",r),r.Mn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+o.classString(t));var r,c=new n(i);if(c.Xt(),c.Nt(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];r=o.isArray(a)?s(t).apply(f,a):s(t).call(f,a)}else r=s(t)();var h=c.Ot();return u.checkForgottenReturns(r,h,"Promise.try",c),c.Mn(r),c},n.prototype.Mn=function(t){t===o.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&s.getPrototypeOf(t)===v.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=s.keys(t),e=0;e<i.length;++e){var u=i[e];c.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Rt(u),t.V(u)}else if(n){var o=[].slice.call(arguments,1);t.yn(o)}else t.yn(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.it,e=i.tryCatch,u=i.errorObj;function o(t,n){if(!i.isArray(t))return s.call(this,t,n);var o=e(n).apply(this.G(),[null].concat(t));o===u&&r.throwLater(o.e)}function s(t,n){var i=this.G(),o=void 0===t?e(n).call(i,null):e(n).call(i,null,t);o===u&&r.throwLater(o.e)}function c(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var o=e(n).call(this.G(),t);o===u&&r.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=s;void 0!==n&&l(n).spread&&(i=o),this.H(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new C.PromiseInspection(this.Y())},e=function(t){return C.reject(new d(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(C,"Pt",o);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(C,"it",{value:h});var v=t("./errors"),d=C.TypeError=v.TypeError;C.RangeError=v.RangeError;var w=C.CancellationError=v.CancellationError;C.TimeoutError=v.TimeoutError,C.OperationalError=v.OperationalError,C.RejectionError=v.OperationalError,C.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(C,y),m=t("./promise_array")(C,y,p,e,u),k=t("./context")(C),b=k.create,T=t("./debuggability")(C,k),E=(T.CapturedTrace,t("./finally")(C,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,A=c.tryCatch;function C(t){t!==y&&function(t,n){if(null==t||t.constructor!==C)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+c.classString(n))}(this,t),this.j=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.Hn(t),this.Dt(),this.Qt("promiseCreated",this)}function D(t){this.promise.W(t)}function N(t){this.promise.bn(t,!1)}function O(t){var n=new C(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return C.prototype.toString=function(){return"[object Promise]"},C.prototype.caught=C.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var o=arguments[i];if(!c.isObject(o))return e("Catch statement predicate: expecting an object but got "+c.classString(o));r[u++]=o}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},C.prototype.reflect=function(){return this.H(r,r,void 0,this,void 0)},C.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.H(t,n,void 0,void 0,void 0)},C.prototype.done=function(t,n){var i=this.H(t,n,void 0,void 0,void 0);i.jn()},C.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().H(t,void 0,void 0,g,void 0)},C.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},C.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new m(this).promise()},C.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},C.getNewLibraryCopy=n.exports,C.is=function(t){return t instanceof C},C.fromNode=C.fromCallback=function(t){var n=new C(y);n.Xt();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=A(t)(R(n,i));return r===I&&n.bn(r.e,!0),n.Wn()||n.zn(),n},C.all=function(t){return new m(t).promise()},C.cast=function(t){var n=p(t);return n instanceof C||((n=new C(y)).Xt(),n.$n(),n.Un=t),n},C.resolve=C.fulfilled=C.cast,C.reject=C.rejected=function(t){var n=new C(y);return n.Xt(),n.bn(t,!0),n},C.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t));return h.setScheduler(t)},C.prototype.H=function(t,n,i,r,e){var u=void 0!==e,s=u?e:new C(y),a=this.Y(),f=a.j;u||(s.X(this,3),s.Xt(),void 0===r&&0!=(2097152&this.j)&&(r=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,s));var v=o();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.$t()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:r,value:l})}else a.Yn(t,n,s,r,v);return s},C.prototype.kt=function(){return 65535&this.j},C.prototype.Wn=function(){return 0!=(117506048&this.j)},C.prototype.ot=function(){return 67108864==(67108864&this.j)},C.prototype.Kn=function(t){this.j=-65536&this.j|65535&t},C.prototype.$n=function(){this.j=33554432|this.j,this.Qt("promiseFulfilled",this)},C.prototype.Jn=function(){this.j=16777216|this.j,this.Qt("promiseRejected",this)},C.prototype.Qn=function(){this.j=67108864|this.j,this.Qt("promiseResolved",this)},C.prototype.jn=function(){this.j=4194304|this.j},C.prototype.Zn=function(){return(4194304&this.j)>0},C.prototype.ti=function(){this.j=-65537&this.j},C.prototype._t=function(){this.j=65536|this.j,this.Qt("promiseCancelled",this)},C.prototype.ft=function(){this.j=8388608|this.j},C.prototype.zn=function(){h.hasCustomScheduler()||(this.j=134217728|this.j)},C.prototype.ni=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==s)return void 0===n&&this.nt()?this.G():n},C.prototype.ii=function(t){return this[4*t-4+2]},C.prototype.ri=function(t){return this[4*t-4+0]},C.prototype.ei=function(t){return this[4*t-4+1]},C.prototype.G=function(){},C.prototype.ui=function(t){t.j;var n=t.Bn,i=t.Un,r=t.Vn,e=t.ni(0);void 0===e&&(e=s),this.Yn(n,i,r,e,null)},C.prototype.oi=function(t,n){var i=t.ri(n),r=t.ei(n),e=t.ii(n),u=t.ni(n);void 0===u&&(u=s),this.Yn(i,r,e,u,null)},C.prototype.Yn=function(t,n,i,r,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=i,this.qn=r,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var o=4*u-4;this[o+2]=i,this[o+3]=r,"function"==typeof t&&(this[o+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[o+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},C.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},C.prototype.W=function(t,n){if(0==(117506048&this.j)){if(t===this)return this.bn(i(),!1);var r=p(t,this);if(!(r instanceof C))return this.yn(t);n&&this.X(r,2);var e=r.Y();if(e!==this){var u=e.j;if(0==(50397184&u)){var o=this.kt();o>0&&e.ui(this);for(var s=1;s<o;++s)e.oi(this,s);this.Qn(),this.Kn(0),this.si(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(i())}},C.prototype.bn=function(t,n,i){var r=c.ensureErrorObject(t),e=r===t;if(!e&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.Rt(r,!!n&&e),this.V(t)},C.prototype.Hn=function(t){if(t!==y){var n=this;this.Xt(),this.Nt();var i=!0,r=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,i)});i=!1,this.Ot(),void 0!==r&&n.bn(r,!0)}},C.prototype.ci=function(t,n,i,r){var e=r.j;if(0==(65536&e)){var u;r.Nt(),n===g?i&&"number"==typeof i.length?u=A(t).apply(this.G(),i):(u=I).e=new d("cannot .spread() a non-array: "+c.classString(i)):u=A(t).call(n,i);var o=r.Ot();0==(65536&(e=r.j))&&(u===_?r.V(i):u===I?r.bn(u.e,!1):(T.checkForgottenReturns(u,o,"",r,this),r.W(u)))}},C.prototype.Y=function(){for(var t=this;t.ot();)t=t.st();return t},C.prototype.st=function(){return this.Un},C.prototype.si=function(t){this.Un=t},C.prototype.ai=function(t,n,i,e){var o=t instanceof C,s=this.j,c=0!=(134217728&s);0!=(65536&s)?(o&&t.At(),i instanceof E&&i.isFinallyHandler()?(i.cancelPromise=t,A(n).call(i,e)===I&&t.V(I.e)):n===r?t.yn(r.call(i)):i instanceof u?i.gn(t):o||t instanceof m?t.yt():i.cancel()):"function"==typeof n?o?(c&&t.zn(),this.ci(n,i,e,t)):n.call(i,e,t):i instanceof u?i.ln()||(0!=(33554432&s)?i.pn(e,t):i.mn(e,t)):o&&(c&&t.zn(),0!=(33554432&s)?t.yn(e):t.V(e))},C.prototype.Gn=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof C?this.ci(n,r,e,i):n.call(r,e,i):i instanceof C&&i.V(e)},C.prototype.Xn=function(t){this.ai(t.promise,t.handler,t.receiver,t.value)},C.prototype.fi=function(t,n,i){var r=this.Vn,e=this.ni(0);this.Vn=void 0,this.qn=void 0,this.ai(r,t,e,n)},C.prototype.hi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},C.prototype.yn=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Rt(r),this.V(r)}this.$n(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},C.prototype.V=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},C.prototype.vi=function(t,n){for(var i=1;i<t;i++){var r=this.ri(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},C.prototype.di=function(t,n){for(var i=1;i<t;i++){var r=this.ei(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},C.prototype.B=function(){var t=this.j,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Bn;this.fi(this.Un,i,t),this.di(n,i)}else{var r=this.Un;this.fi(this.Bn,r,t),this.vi(n,r)}this.Kn(0)}this.Kt()},C.prototype.Ht=function(){var t=this.j;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(C.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),C.defer=C.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new C(y);return{promise:t,resolve:D,reject:N}},c.notEnumerableProp(C,"li",i),t("./method")(C,y,p,e,T),t("./bind")(C,y,p,T),t("./cancel")(C,m,e,T),t("./direct_resolve")(C),t("./synchronous_inspection")(C),t("./join")(C,m,p,y,h,o),C.Promise=C,C.version="3.5.5",t("./call_get.js")(C),t("./generators.js")(C,e,y,p,u,T),t("./map.js")(C,m,e,p,y,T),t("./nodeify.js")(C),t("./promisify.js")(C,y),t("./props.js")(C,m,p,e),t("./race.js")(C,y,p,e),t("./reduce.js")(C,m,e,p,y,T),t("./settle.js")(C,m,T),t("./some.js")(C,m,e),t("./timers.js")(C,y,T),t("./using.js")(C,e,p,b,y,T),t("./any.js")(C),t("./each.js")(C,y),t("./filter.js")(C,y),c.toFastProperties(C),c.toFastProperties(C.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new C(y)),T.setBounds(f.firstLineError,c.lastLineError),C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util");function s(t){var r=this.un=new n(i);t instanceof n&&r.X(t,3),r.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.kt},s.prototype.promise=function(){return this.un},s.prototype._init=function t(i,u){var s=r(this.On,this.un);if(s instanceof n){var c=(s=s.Y()).j;if(this.On=s,0==(50397184&c))return this.un.zn(),s.H(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(s.Sn()):this.yt();s=s.En()}if(null!==(s=o.asArray(s)))0!==s.length?this.wi(s):-5===u?this.yi():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+o.classString(s)).reason();this.un.bn(a,!1)}},s.prototype.wi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.On=this.shouldCopyValues()?new Array(i):this.On;for(var e=this.un,u=!1,o=null,s=0;s<i;++s){var c=r(t[s],e);c instanceof n?(c=c.Y(),o=c.j):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.Tn(this,s),this.On[s]=c):u=0!=(33554432&o)?this.pn(c.En(),s):0!=(16777216&o)?this.mn(c.Sn(),s):this.gn(s):u=this.pn(c,s)}u||e.zn()},s.prototype.ln=function(){return null===this.On},s.prototype.Fn=function(t){this.On=null,this.un.yn(t)},s.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},s.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},s.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},s.prototype.gn=function(){return this.yt(),!0},s.prototype.mn=function(t){return this.Pn++,this.V(t),!0},s.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),o=e.withAppended,s=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={gi:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","gi"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!h.test(t)}function w(t){try{return!0===t.gi}catch(t){return!1}}function y(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,f);return!!r&&w(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],f=t[c],h=r===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!r(c,f,t,h)||o.push(c,f)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,i),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===r&&(e=this);var a=new n(i);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,o(arguments,h))}catch(t){a.bn(s(t),!0,!0)}return a.Wn()||a.zn(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"gi",!0),w};function m(t,n,i,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,i),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,r,h,v,n,o);else{var l=u(v,function(){return p(h,r,h,v,n,o)});e.notEnumerableProp(l,"gi",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var i=void 0===(n=l(n)).context?r:n.context,u=!!n.multiArgs,o=function(t,n,i){return p(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,o,d),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=e.inheritedDataKeys(t),c=0;c<s.length;++c){var f=t[s[c]];"constructor"!==s[c]&&e.isClass(f)&&(m(f.prototype,r,u,o,i),m(f,r,u,o,i))}return m(t,r,u,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function f(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=c.keys(t),e=r.length;n=new Array(2*e);for(var o=0;o<e;++o){var s=r[o];n[o]=t[s],n[o+e]=s}}this.constructor$(n),this._i=i,this._init$(void 0,i?-6:-3)}function h(t){var i,u=r(t);return s(u)?(i=u instanceof n?u.H(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&i.X(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(f,i),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;if(i>=this.kt){var r;if(this._i)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],o=t[r];n.set(e,o)}return n}(this.On);else{r={};for(var e=this.length(),o=0,s=this.length();o<s;++o)r[this.On[o+e]]=this.On[o]}return this.Fn(r),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.pi=t,this.kt=0,this.mi=0}r.prototype.ki=function(t){return this.pi<t},r.prototype.M=function(t){var n=this.length();this.bi(n+1);var i=this.mi+n&this.pi-1;this[i]=t,this.kt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.ki(r))return this.M(t),this.M(n),void this.M(i);var e=this.mi+r-3;this.bi(r);var u=this.pi-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.kt=r},r.prototype.shift=function(){var t=this.mi,n=this[t];return this[t]=void 0,this.mi=t+1&this.pi-1,this.kt--,n},r.prototype.length=function(){return this.kt},r.prototype.bi=function(t){this.pi<t&&this.Ti(this.pi<<1)},r.prototype.Ti=function(t){var n=this.pi;this.pi=t;var i=this.mi,r=this.kt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=r(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==s&&a.X(s,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).H(f,h,void 0,a,null)}return a}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,i,r,e){this.constructor$(t);var o=s();this.Ei=null===o?i:c.domainBind(o,i),void 0!==r&&(r=n.resolve(r)).Yt(this),this.Si=r,this.Ri=null,this.Ii=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var u=new f(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Ai(t);var i=e(this.value,this.array.un);return i instanceof n?(this.array.Ri=i,i.H(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.un,u=a(r.Ei);e.Nt(),(i=void 0!==r.Ii?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(r.Ri=i);var s=e.Ot();return o.checkForgottenReturns(i,s,void 0!==r.Ii?"Promise.each":"Promise.reduce",e),i}c.inherits(f,i),f.prototype.Ai=function(t){void 0!==this.Ii&&null!==this.Ii&&t!==u&&this.Ii.push(t)},f.prototype.Ci=function(t){return null!==this.Ii&&this.Ii.push(t),this.Ii},f.prototype._init=function(){},f.prototype.yi=function(){this.Fn(void 0!==this.Ii?this.Ii:this.Si)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Si)return this.yt();this.ln()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.Si instanceof n&&this.Si.cancel())},f.prototype.wi=function(t){var i,r;this.On=t;var e=t.length;if(void 0!==this.Si?(i=this.Si,r=0):(i=n.resolve(t[0]),r=1),this.Ri=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.H(d,void 0,void 0,u,void 0)}void 0!==this.Ii&&(i=i.H(this.Ci,void 0,void 0,this,void 0)),i.H(h,h,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,o,s,a,f,h=t("./util"),d=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var l=k.setImmediate,w=process.nextTick;r=h.isRecentNode?function(t){l.call(k,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();r=function(t){y.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in u.documentElement?(o=u.createElement("div"),s={attributes:!0},a=!1,f=u.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),a=!1}).observe(f,s),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,s),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,i),o.prototype.Di=function(t,n){this.On[t]=n;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},o.prototype.pn=function(t,n){var i=new e;return i.j=33554432,i.Ni=t,this.Di(n,i)},o.prototype.mn=function(t,n){var i=new e;return i.j=16777216,i.Ni=t,this.Di(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=e.isArray,c={};function a(t){this.constructor$(t),this.Oi=0,this.xi=!1,this.Pi=!1}function f(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Pi)if(0!==this.Oi){this._init$(void 0,-5);var t=s(this.On);!this.ln()&&t&&this.Oi>this.Li()&&this.V(this.Fi(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Pi=!0,this._init()},a.prototype.setUnwrap=function(){this.xi=!0},a.prototype.howMany=function(){return this.Oi},a.prototype.setHowMany=function(t){this.Oi=t},a.prototype.pn=function(t){return this.Mi(t),this.Bi()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xi?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Ui(t),this.Vi()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Ui(c),this.Vi())},a.prototype.Vi=function(){if(this.howMany()>this.Li()){for(var t=new o,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.Bi=function(){return this.Pn},a.prototype.qi=function(){return this.On.length-this.length()},a.prototype.Ui=function(t){this.On.push(t)},a.prototype.Mi=function(t){this.On[this.Pn++]=t},a.prototype.Li=function(){return this.length()-this.qi()},a.prototype.Fi=function(t){var n="Input array must contain at least "+this.Oi+" items but contains only "+t+" items";return new u(n)},a.prototype.yi=function(){this.V(this.Fi(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.j=t.j,this.Ni=t.Wn()?t.Ht():void 0):(this.j=0,this.Ni=void 0)}n.prototype.Ht=function(){return this.Ni};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.j)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.j)},o=n.prototype.isPending=function(){return 0==(50397184&this.j)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.j)};n.prototype.isCancelled=function(){return 0!=(8454144&this.j)},t.prototype.Hi=function(){return 65536==(65536&this.j)},t.prototype.Et=function(){return this.Y().Hi()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().j)},t.prototype.isPending=function(){return o.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return s.call(this.Y())},t.prototype.value=function(){return i.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.$t(),r.call(t)},t.prototype.En=function(){return this.Ht()},t.prototype.Sn=function(){return this.$t(),this.Ht()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){s&&s.Nt();var a=n.reject(c.e);return s&&s.Ot(),a}if("function"==typeof c){if(function(t){try{return o.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(i);return t.H(a.yn,a.V,void 0,a,null),a}return function(t,u,o){var s=new n(i),c=s;o&&o.Nt(),s.Xt(),o&&o.Ot();var a=!0,f=r.tryCatch(u).call(t,function(t){s&&(s.W(t),s=null)},function(t){s&&(s.bn(t,a,!0),s=null)});return a=!1,s&&f===e&&(s.bn(f.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){a(this.handle)};var s=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).H(s,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.J(e)):(u=new n(i),a=c(function(){u.yn()},+t),r.cancellation()&&u.J(new o(a)),u.Xt()),u.zn(),u};function h(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var i,s,a=new o(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Rt(r),t.V(r),null!=i&&i.cancel()}(i,n,s)},t=+t));return r.cancellation()?(s=this.then(),(i=s.H(h,d,void 0,a,void 0)).J(a)):i=this.H(h,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=s.errorObj,v=s.tryCatch,d={};function l(t){c(function(){throw t},0)}function w(t,i){var e=0,o=t.length,s=new n(u);return function u(){if(e>=o)return s.yn();var c=function(t){var n=r(t);return n!==t&&"function"==typeof t.ji&&"function"==typeof t.Wi&&t.ji()&&n.zi(t.Wi()),n}(t[e++]);if(c instanceof n&&c.ji()){try{c=r(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.H(u,l,null,null,null)}u()}(),s}function y(t,n,i){this.$i=t,this.un=n,this.Xi=i}function g(t,n,i){this.constructor$(t,n,i)}function _(t){return y.isDisposer(t)?(this.resources[this.index].zi(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.$i},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),i=this.Xi;void 0!==i&&i.Nt();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ot(),this.un.Gi(),this.$i=null,r},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+s.classString(u));var c=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,c=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).zi(l)}else{var g=r(d);g instanceof n&&(d=g.H(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return h.e=i.error(),h;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}b.Nt(),u=v(u);var r=c?u.apply(void 0,t):u(t),e=b.Ot();return o.checkForgottenReturns(r,e,"Promise.using",b),r}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.zi=function(t){this.j=131072|this.j,this.Yi=t},n.prototype.ji=function(){return(131072&this.j)>0},n.prototype.Wi=function(){return this.Yi},n.prototype.Gi=function(){this.j=-131073&this.j,this.Yi=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==e?e:void 0!==k?k:void 0!==this?this:null;function h(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var y=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=l.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&r.push(c)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var o=0;o<t.length;++o)if(r.call(t[o],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function m(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return m(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new v?function(t){return b(t)?t:new v(p(t))}:function(t){if(b(t))return t;try{throw new v(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,A="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),C="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:m,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,h},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof v.in.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:A,hasEnvVariables:C,env:function(t){return C?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),D.isNode&&D.toFastProperties(process);try{throw new v}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var D,N,O={Ki:function(){function t(){this.Ji=[]}var n=t.prototype;return n.Qi=function(){},n.Zi=function(t){return{tr:function(){return C.resolve()},nr:function(){}}},n.ir=function(t){throw new v("Not implemented")},n.rr=function(t){return C.resolve()},n.er=function(t){return C.resolve()},n.ur=function(t){},n.sr=function(){},t}(),cr:function(){function t(){}var n=t.prototype;return n.ar=function(){return C.resolve("all")},n.hr=function(){},n.sr=function(){},t}(),dr:{wr:function(t){getActiveDocument().addEventListener("unload",t)},yr:function(t){getActiveDocument().removeEventListener("unload",t)}},gr:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function x(t){N=t}Element.prototype.style={},T=(D=O).Ki,E=D.cr,S=D.dr,R=D.gr,I=R&&R.location,A=R&&R.navigator;var P,L=function(){},F=function(t){return t};(P=C)&&P.config({warnings:!1,longStackTraces:!1});var M,B,U,V,q,H;P&&(V=P.setScheduler(L),M=V,q={_r:function(t){B=t,M(U)},pr:U=function(){var t=B;t&&(B=void 0,t())}},P.setScheduler(q._r));function j(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function W(t,n,i){return n&&j(t.prototype,n),i&&j(t,i),t}function z(t,n){return(z=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function $(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,z(t,n)}!function(t){t.mr="web",t.kr="android",t.br="android-tv",t.Tr="ios",t.Er="tvos",t.Sr="chromecast"}(H||(H={}));var X=s?s.userAgent:"",G=X.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Y=X.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),K=X.match(/Android ([0-9\.]+)/i),J=X.match(/Windows NT ([0-9\.]+)/i),Q=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Z=X.match(/Firefox\/([0-9\.]+)/i),tt=X.match(/OPR\/(\d+\.\d+)/i),nt=X.match(/Tizen ([0-9\.]+)/i),it=function(){function n(){this.Rr=Boolean("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ir=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(X)||/(macintosh|mac(?=_powerpc)\s)/i.test(X),this.Ar=/Windows NT/i.test(X),this.Cr=J?g(J[1]):0,this.Dr=/Android/i.test(X),this.Nr=K?g(K[1]):0,this.Or=/windows phone (8|8\.1)/i.test(X),this.xr=/iPhone/i.test(X),this.Pr=/iPad/i.test(X),this.Lr=this.Ir&&this.Rr&&!this.Pr,this.Fr=/iPod/i.test(X),this.Mr=/Mobile Safari/i.test(X),this.Br=/EOSSTB/i.test(X),this.Ur=(this.xr||this.Pr||this.Lr||this.Fr)&&!this.Or,this.Vr=this.Or||this.Ur||this.Dr||this.Mr,this.qr=/CriOS/i.test(X),this.Hr=Boolean(t.chrome&&/google/i.test(s.vendor))||this.qr,this.jr=this.Hr&&/Edg\//i.test(s.userAgent),this.Wr=Y?y(Y[1],10):0,this.zr=Boolean(t.chrome||/Chrome/i.test(X)||/CriOS/i.test(X)),this.$r=G?y(G[1],10):0,this.Xr=/SMART-TV.*Tizen/i.test(X),this.Gr=nt?g(nt[1]):0,this.Yr=/webos|web0s/i.test(X),this.Kr=/Edge\/\d+/i.test(X),this.Jr=/Trident/i.test(X),this.Qr=this.Jr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Zr=/Vivaldi/i.test(X),this.te=/Firefox/i.test(X)&&!/Seamonkey/i.test(X),this.ie=Z?g(Z[1]):0,this.re=/Safari/i.test(X)&&!/Chrome/i.test(X)&&!this.Or&&!this.Xr,this.ee=Q?g(Q[2]):0,this.ue=Boolean(tt),this.oe=tt?g(tt[1]):0,this.se=/CrKey/.test(X),this.ce=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(X),this.ae="tvos"===H.br,this.fe="tvos"===H.kr,this.he=this.fe||this.ae,this.ve="tvos"===H.Tr,this.de="tvos"===H.Er,this.we="tvos"===H.Sr}return W(n,[{key:"ye",get:function(){return this.Rr}},{key:"_e",get:function(){return this.Ir}},{key:"pe",get:function(){return this.Ar}},{key:"me",get:function(){return this.Cr}},{key:"ke",get:function(){return this.Dr}},{key:"be",get:function(){return this.Nr}},{key:"Te",get:function(){return this.Or}},{key:"Ee",get:function(){return this.xr}},{key:"Se",get:function(){return this.Pr}},{key:"Re",get:function(){return this.Lr}},{key:"Ie",get:function(){return this.Fr}},{key:"Ae",get:function(){return this.Ur}},{key:"Ce",get:function(){return this.Br}},{key:"De",get:function(){return this.Mr}},{key:"Ne",get:function(){return this.Vr}},{key:"Oe",get:function(){return this.qr}},{key:"xe",get:function(){return this.Hr}},{key:"Pe",get:function(){return this.$r}},{key:"Le",get:function(){return this.jr}},{key:"Fe",get:function(){return this.Wr}},{key:"Me",get:function(){return this.Xr}},{key:"Be",get:function(){return this.Gr}},{key:"Ue",get:function(){return this.Yr}},{key:"Ve",get:function(){return this.Kr}},{key:"qe",get:function(){return this.Jr}},{key:"He",get:function(){return this.Qr}},{key:"je",get:function(){return this.Zr}},{key:"We",get:function(){return this.te}},{key:"ze",get:function(){return this.ie}},{key:"$e",get:function(){return this.re}},{key:"Xe",get:function(){return this.ee}},{key:"Ge",get:function(){return this.ue}},{key:"Ye",get:function(){return this.oe}},{key:"Ke",get:function(){return this.se}},{key:"Je",get:function(){return this.ce}},{key:"Qe",get:function(){if(!(this.Ue||this.Me))return!1;var t=this.Pe;return void 0===t||Number(t)<56}},{key:"Ze",get:function(){return this.ae}},{key:"tu",get:function(){return this.fe}},{key:"nu",get:function(){return this.he}},{key:"iu",get:function(){return this.ve}},{key:"ru",get:function(){return this.de}},{key:"eu",get:function(){return this.we}},{key:"uu",get:function(){return this.zr}}]),n}();it.ou=new it;var rt=it.ou,et={}.hasOwnProperty,ut={}.toString;function ot(t){return null!=t}var st=Array.isArray||function(t){return"[object Array]"===ut.call(t)};function ct(t){return at(t)&&et.call(t,"length")&&lt(t.length)}function at(t){return"object"==typeof t&&null!==t}function ft(t){return at(t)&&t.constructor&&t.constructor===l}function ht(t){return"string"==typeof t}function vt(t){return"boolean"==typeof t}function dt(t){return Boolean(t)&&"function"==typeof t.then}function lt(t){return"number"==typeof t}var wt=!(rt.qe&&!rt.He),yt=t.console;function gt(t){if(at(t))try{return JSON.stringify(t)}catch(t){}return t}function _t(t){return t.map(gt).join(" ")}function pt(t){var n=yt&&yt[t];return n?n.bind&&wt?n.bind(yt):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];yt[t](_t(i))}:void 0}var mt,kt=pt("log")||L,bt=pt("warn")||kt.bind(void 0,"WARNING:"),Tt=pt("error")||kt.bind(void 0,"ERROR:"),Et=(mt=yt&&yt.assert)?mt.bind&&wt?mt.bind(yt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];yt.assert(t,_t(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Tt.apply(void 0,["Assertion failed:"].concat(i))}},St=It,Rt=null;try{Rt=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function It(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function At(t){return!0===(t&&t.su)}It.prototype.su,l.defineProperty(It.prototype,"su",{value:!0}),It.isLong=At;var Ct={},Dt={};function Nt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Dt[t])?r:(i=xt(t,(0|t)<0?-1:0,!0),e&&(Dt[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=Ct[t])?r:(i=xt(t,t<0?-1:0,!1),e&&(Ct[t]=i),i)}function Ot(t,n){if(_(t))return n?Ht:qt;if(n){if(t<0)return Ht;if(t>=Bt)return Xt}else{if(t<=-Ut)return Gt;if(t+1>=Ut)return $t}return t<0?Ot(-t,n).neg():xt(t%Mt|0,t/Mt|0,n)}function xt(t,n,i){return new It(t,n,i)}It.fromInt=Nt,It.fromNumber=Ot,It.fromBits=xt;var Pt=w.pow;function Lt(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return qt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return Lt(t.substring(1),n,i).neg();for(var e=Ot(Pt(i,8)),u=qt,o=0;o<t.length;o+=8){var s=w.min(8,t.length-o),c=y(t.substring(o,o+s),i);if(s<8){var a=Ot(Pt(i,s));u=u.mul(a).add(Ot(c))}else u=(u=u.mul(e)).add(Ot(c))}return u.unsigned=n,u}function Ft(t,n){return"number"==typeof t?Ot(t,n):"string"==typeof t?Lt(t,n):xt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}It.fromString=Lt,It.fromValue=Ft;var Mt=4294967296,Bt=Mt*Mt,Ut=Bt/2,Vt=Nt(1<<24),qt=Nt(0);It.ZERO=qt;var Ht=Nt(0,!0);It.UZERO=Ht;var jt=Nt(1);It.ONE=jt;var Wt=Nt(1,!0);It.UONE=Wt;var zt=Nt(-1);It.NEG_ONE=zt;var $t=xt(-1,2147483647,!1);It.MAX_VALUE=$t;var Xt=xt(-1,-1,!0);It.MAX_UNSIGNED_VALUE=Xt;var Gt=xt(0,-2147483648,!1);It.MIN_VALUE=Gt;var Yt=It.prototype;Yt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Yt.toNumber=function(){return this.unsigned?(this.high>>>0)*Mt+(this.low>>>0):this.high*Mt+(this.low>>>0)},Yt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Gt)){var n=Ot(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Ot(Pt(t,6),this.unsigned),u=this,o="";;){var s=u.div(e),c=(u.sub(s.mul(e)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Yt.getHighBits=function(){return this.high},Yt.getHighBitsUnsigned=function(){return this.high>>>0},Yt.getLowBits=function(){return this.low},Yt.getLowBitsUnsigned=function(){return this.low>>>0},Yt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Gt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Yt.isZero=function(){return 0===this.high&&0===this.low},Yt.eqz=Yt.isZero,Yt.isNegative=function(){return!this.unsigned&&this.high<0},Yt.isPositive=function(){return this.unsigned||this.high>=0},Yt.isOdd=function(){return 1==(1&this.low)},Yt.isEven=function(){return 0==(1&this.low)},Yt.equals=function(t){return At(t)||(t=Ft(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Yt.eq=Yt.equals,Yt.notEquals=function(t){return!this.eq(t)},Yt.neq=Yt.notEquals,Yt.ne=Yt.notEquals,Yt.lessThan=function(t){return this.comp(t)<0},Yt.lt=Yt.lessThan,Yt.lessThanOrEqual=function(t){return this.comp(t)<=0},Yt.lte=Yt.lessThanOrEqual,Yt.le=Yt.lessThanOrEqual,Yt.greaterThan=function(t){return this.comp(t)>0},Yt.gt=Yt.greaterThan,Yt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Yt.gte=Yt.greaterThanOrEqual,Yt.ge=Yt.greaterThanOrEqual,Yt.compare=function(t){if(At(t)||(t=Ft(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Yt.comp=Yt.compare,Yt.negate=function(){return!this.unsigned&&this.eq(Gt)?Gt:this.not().add(jt)},Yt.neg=Yt.negate,Yt.add=function(t){At(t)||(t=Ft(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=r+s)>>>16,c+=(a+=i+o)>>>16,c+=n+u,xt((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Yt.subtract=function(t){return At(t)||(t=Ft(t)),this.add(t.neg())},Yt.sub=Yt.subtract,Yt.multiply=function(t){if(this.isZero())return qt;if(At(t)||(t=Ft(t)),Rt)return xt(Rt.mul(this.low,this.high,t.low,t.high),Rt.get_high(),this.unsigned);if(t.isZero())return qt;if(this.eq(Gt))return t.isOdd()?Gt:qt;if(t.eq(Gt))return this.isOdd()?Gt:qt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Vt)&&t.lt(Vt))return Ot(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=r*c)>>>16,h&=65535,f+=(h+=e*s)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=r*s)>>>16,f&=65535,a+=(f+=e*o)>>>16,a+=n*c+i*s+r*o+e*u,xt((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Yt.mul=Yt.multiply,Yt.divide=function(t){if(At(t)||(t=Ft(t)),t.isZero())throw v("division by zero");var n,i,r;if(Rt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?xt((this.unsigned?Rt.div_u:Rt.div_s)(this.low,this.high,t.low,t.high),Rt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ht:qt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ht;if(t.gt(this.shru(1)))return Wt;r=Ht}else{if(this.eq(Gt))return t.eq(jt)||t.eq(zt)?Gt:t.eq(Gt)?jt:(n=this.shr(1).div(t).shl(1)).eq(qt)?t.isNegative()?jt:zt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Gt))return this.unsigned?Ht:qt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=qt}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var e=w.ceil(w.log(n)/w.LN2),u=e<=48?1:Pt(2,e-48),o=Ot(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=Ot(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=jt),r=r.add(o),i=i.sub(s)}return r},Yt.div=Yt.divide,Yt.modulo=function(t){return At(t)||(t=Ft(t)),Rt?xt((this.unsigned?Rt.rem_u:Rt.rem_s)(this.low,this.high,t.low,t.high),Rt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Yt.mod=Yt.modulo,Yt.rem=Yt.modulo,Yt.not=function(){return xt(~this.low,~this.high,this.unsigned)},Yt.and=function(t){return At(t)||(t=Ft(t)),xt(this.low&t.low,this.high&t.high,this.unsigned)},Yt.or=function(t){return At(t)||(t=Ft(t)),xt(this.low|t.low,this.high|t.high,this.unsigned)},Yt.xor=function(t){return At(t)||(t=Ft(t)),xt(this.low^t.low,this.high^t.high,this.unsigned)},Yt.shiftLeft=function(t){return At(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):xt(0,this.low<<t-32,this.unsigned)},Yt.shl=Yt.shiftLeft,Yt.shiftRight=function(t){return At(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?xt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):xt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Yt.shr=Yt.shiftRight,Yt.shiftRightUnsigned=function(t){if(At(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?xt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):xt(32===t?n:n>>>t-32,0,this.unsigned)},Yt.shru=Yt.shiftRightUnsigned,Yt.shr_u=Yt.shiftRightUnsigned,Yt.toSigned=function(){return this.unsigned?xt(this.low,this.high,!1):this},Yt.toUnsigned=function(){return this.unsigned?this:xt(this.low,this.high,!0)},Yt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Yt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Yt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},It.fromBytes=function(t,n,i){return i?It.fromBytesLE(t,n):It.fromBytesBE(t,n)},It.fromBytesLE=function(t,n){return new It(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},It.fromBytesBE=function(t,n){return new It(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Kt=St,Jt=w.pow(2,-52);function Qt(t,n,i){return w.min(w.max(t,n),i)}function Zt(t,n,i){return t===n||w.abs(t-n)<=i}function tn(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function nn(){return Date.now()||(new Date).getTime()}function rn(t){return t/1e3}var en;Kt.fromNumber(9007199254740991);function un(t){return t.cu===en.au}function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.au=1]="au",t[t.fu=2]="fu",t[t.hu=3]="hu",t[t.vu=4]="vu",t[t.du=9]="du"}(en||(en={}));var sn=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(sn.prototype=l.create(v.prototype)).constructor=sn;var cn=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(on(r),r.constructor),r}return $(n,t),W(n,[{key:"name",get:function(){return"BaseError"}}]),n}(sn),an=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return $(n,t),n}(cn),fn=function(){function t(){}return t.prototype.lu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new an(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new an;return new gn(n)},t}(),hn=function(){function t(t){this.wu=void 0,this.wu=t}var n=t.prototype;return n.yu=function(t){return this.wu.isEqualNode(t.wu)},n.gu=function(n){return new t(this.wu.cloneNode(n))},W(t,[{key:"cu",get:function(){return en.fu}},{key:"_u",get:function(){var t;return null!=(t=this.wu.localName)?t:mn(this.wu.nodeName)}},{key:"pu",get:function(){return this.wu.nodeName}},{key:"mu",get:function(){var t;return null!=(t=this.wu.namespaceURI)?t:void 0}},{key:"ku",get:function(){var t;return null!=(t=this.wu.prefix)?t:void 0}},{key:"bu",get:function(){return this.wu.nodeValue}}]),t}(),vn=function(){function t(t){this.Tu=void 0,this.Eu=void 0,this.Tu=t}var n=t.prototype;return n.Su=function(t){return this.Ru.filter(function(n){return _n(n)&&n.Iu===t})},n.Au=function(t,n){return this.Ru.filter(function(i){return _n(i)&&i._u===n&&i.mu===t})},n.Cu=function(t){this.Tu.appendChild(t.Du),this.Eu&&this.Eu.push(t)},n.yu=function(t){return this.Tu.isEqualNode(t.Du)},W(t,[{key:"Ru",get:function(){return void 0===this.Eu&&(this.Eu=function(t){for(var n=[],i=0;i<t.length;i++){var r=pn(t.item(i));r&&n.push(r)}return n}(this.Tu.childNodes)),this.Eu}},{key:"Nu",get:function(){return this.Ru.filter(_n)}},{key:"Du",get:function(){return this.Tu}}]),t}(),dn=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.Ou=function(t){if(this.Tu.hasAttribute(t))return this.Tu.getAttribute(t)},i.xu=function(t,n){if(this.Tu.hasAttributeNS(t,n))return this.Tu.getAttributeNS(t,n)},i.Pu=function(t){this.Tu.removeAttribute(t)},i.Lu=function(t,n){this.Tu.removeAttributeNS(t,n)},i.Fu=function(t,n){this.Tu.setAttribute(t,n)},i.Mu=function(t,n,i){this.Tu.setAttributeNS(t,n,i)},i.gu=function(t){return new n(this.Tu.cloneNode(t))},W(n,[{key:"cu",get:function(){return en.au}},{key:"_u",get:function(){var t;return null!=(t=this.Tu.localName)?t:mn(this.Tu.nodeName)}},{key:"mu",get:function(){var t;return null!=(t=this.Tu.namespaceURI)?t:void 0}},{key:"ku",get:function(){var t;return null!=(t=this.Tu.prefix)?t:void 0}},{key:"Iu",get:function(){return this.Tu.nodeName}},{key:"Bu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new hn(t.item(i)));return n}(this.Tu.attributes)}},{key:"Uu",get:function(){return this.Tu.textContent}}]),n}(vn),ln=function(){function t(t){this.Tu=void 0,this.Tu=t}return t.prototype.yu=function(t){return this.Vu===t.Vu},W(t,[{key:"Vu",get:function(){return this.Tu.nodeValue}},{key:"Du",get:function(){return this.Tu}}]),t}(),wn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.gu=function(t){return new n(this.Tu.cloneNode(t))},W(n,[{key:"cu",get:function(){return en.hu}}]),n}(ln),yn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.gu=function(t){return new n(this.Tu.cloneNode(t))},W(n,[{key:"cu",get:function(){return en.vu}}]),n}(ln),gn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.gu=function(t){return new n(this.Tu.cloneNode(t))},W(n,[{key:"cu",get:function(){return en.du}},{key:"qu",get:function(){return new dn(this.Tu.documentElement)}}]),n}(vn);function _n(t){return un(t)}function pn(t){switch(t.nodeType){case en.au:return new dn(t);case en.hu:return new wn(t);case en.vu:return new yn(t)}}function mn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function kn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function bn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){Tn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&Tn(i,null,t.length,t),t}function Tn(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(e=0;e<a;e+=h)for(o=(u=e+i)+i,u>a&&(u=a),o>a&&(o=a),s=e,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<u)r[f++]=t[s++];else{if(!(c<o))break;r[f++]=t[c++]}}var En=/[a-zA-Z]/,Sn=/[0-9]/,Rn=/[0-9a-fA-F]/,In=/^0x/i,An=/^[0-9]+$/,Cn=/^[0-9a-fA-F]+$/,Dn=/^[0-7]+$/,Nn=l.prototype.toString,On=Array.isArray||function(t){return"[object Array]"===Nn.call(t)},xn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Pn(t){return On(t)?t:Array.from(t)}function Ln(t){return t>=65&&t<=90}function Fn(t){return Ln(t)||function(t){return t>=97&&t<=122}(t)}function Mn(t){return t>=48&&t<=57}function Bn(t){return Mn(t)||Fn(t)}function Un(t){return Mn(t)||t>=65&&t<=70||t>=97&&t<=102}function Vn(t){return Ln(t)?t+32:t}function qn(t){return Mn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Hn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var jn=w.min,Wn=String.fromCharCode,zn=16384;function $n(t){for(var n=t.length,i=[],r=0;r<n;r+=zn){var e=jn(r+zn,n);i.push(Wn.apply(null,t.slice(r,e)))}return i.join("")}var Xn=/[^\0-\x7E]/,Gn=/[\x2E\u3002\uFF0E\uFF61]/g,Yn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Kn=w.floor,Jn=String.fromCharCode;function Qn(t){throw new RangeError(Yn[t])}function Zn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var ti,ni,ii,ri=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ei=function(t,n,i){var r=0;for(t=i?Kn(t/700):t>>1,t+=Kn(t/n);t>455;r+=36)t=Kn(t/35);return Kn(r+36*t/(t+38))},ui=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Gn,".")).split("."),n).join(".");return r+e}(t,function(t){return Xn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Zn(t)).length,r=128,e=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Jn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>Kn((2147483647-e)/w)&&Qn("overflow"),e+=(h-r)*w,r=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<r&&++e>2147483647&&Qn("overflow"),_==r){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Jn(ri(k+b%T,0))),p=Kn(b/T)}n.push(Jn(ri(p,0))),u=ei(e,w,f==a),e=0,++f}}++e,++r}return n.join("")}(t):t})};function oi(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return $n(n)}function si(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ci(t,n){return t>>n&63|128}function ai(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(si(t),n.push(t>>12&15|224),n.push(ci(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ci(t,12)),n.push(ci(t,6))),n.push(63&t|128)):n.push(t)}function fi(t){for(var n=[],i=0;i<t.length;i++){ai(t[i],n)}return n}function hi(){if(ii>=ni)throw new v("Invalid byte index");var t=255&ti[ii];if(ii++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function vi(){var t,n;if(ii>ni)throw new v("Invalid byte index");if(ii===ni)return!1;if(t=255&ti[ii],ii++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|hi())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|hi()<<6|hi())>=2048)return si(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|hi()<<12|hi()<<6|hi())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function di(t){return[37,Hn(t>>4),Hn(15&t)]}function li(t){return function(t){return t>=0&&t<=31}(t)||t>126}function wi(t){return li(t)||32===t||34===t||60===t||62===t||96===t}function yi(t){return wi(t)||35===t||63===t||123===t||125===t}function gi(t){return yi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function _i(t){return t<33||t>126||34===t||35===t||60===t||62===t}function pi(t){return _i(t)||39===t}function mi(t,n){if(!n(t))return[t];for(var i=fi([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,di(u))}return r}function ki(t,n){for(var i=[],r=0,e=Zn(t);r<e.length;r++){var u=e[r];i.push.apply(i,mi(u,n))}return oi(i)}function bi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Un(t[r+1])&&Un(t[r+2])){var u=qn(t[r+1])<<4|qn(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(fi(t))}function Ti(t){return oi(function(t){ti=t.slice(),ni=ti.length,ii=0;for(var n,i=[];!1!==(n=vi());)i.push(n);return i}(bi(Zn(t))))}function Ei(t){var n,i,r,e,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new d;a+=2,c=s+=1}for(;a<u;){if(8===s)throw new d("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&Rn.test(t[a]);)f=f<<4|y(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new d;if(a-=h,s>6)throw new d;for(var v=0;a<u;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!Sn.test(t[a]))throw new d;for(;a<u&&Sn.test(t[a]);){var w=y(t[a],10);if(null===l)l=w;else{if(0===l)throw new d;if((l=10*l+w)>255)throw new d}a+=1}o[s]=o[s]<<8|l,2!==(v+=1)&&4!==v||(s+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===u)throw new d}else if(a<u)throw new d;o[s]=f,s+=1}else{if(null!==c)throw new d("Too many :: groups");a+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)r=c+g-1,e=void 0,e=(n=o)[i=s],n[i]=n[r],n[r]=e,s-=1,g-=1}else if(8!==s)throw new d;return o}function Si(t){var n=10,i=An;return In.test(t)?(t=t.slice(2),n=16,i=Cn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Dn),""===t?0:i.test(t)?y(t,n):void 0}var Ri={Hu:4},Ii=/[\0\t\n\r #%/:?@\[\\\]]/,Ai=/[\0\t\n\r #/:?@\[\\\]]/;function Ci(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Hu:2,ju:Ei(t.slice(1,-1))}}if(!n)return function(t){if(Ai.test(t))throw new d("Invalid code point in opaque host");var n=ki(t,li);return""===n?Ri:{Hu:3,$i:n}}(t);var i=function(t){return function(t){return ui(t.toLowerCase())}(t)}(Ti(t));if(Ii.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Si(e);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new d;if(i[i.length-1]>=w.pow(256,5-i.length))throw new d;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*w.pow(256,3-c);return s}}(i);return void 0!==r?{Hu:1,ju:r}:""===i?Ri:{Hu:0,Wu:i}}function Di(t){switch(t.Hu){case 0:return t.Wu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.ju);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.ju)+"]";case 3:return t.$i;case 4:return""}}var Ni=/\+/g;function Oi(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),o=void 0,s=void 0;-1!==u?(o=e.slice(0,u),s=e.slice(u+1)):(o=e,s=""),o=o.replace(Ni," "),s=s.replace(Ni," ");var c=Ti(o),a=Ti(s);i.push([c,a])}}return i}function xi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Pi(fi(Zn(r[0])))+"="+Pi(fi(Zn(r[1])))}return n}function Pi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Bn(n)?i.push(e):i.push.apply(i,di(e))}return $n(i)}var Li=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Fi(t){var n=""+t,i=Li.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Bi(u))if(Ui(u)||e===i-1)r.push(Mi);else{var o=t.charCodeAt(e+1);Ui(o)?(r.push(u,o),e++):r.push(Mi)}else r.push(u)}return t.slice(0,n)+$n(r)}(n,i.index):n}var Mi=65533,Bi=function(t){return 55296==(63488&t)},Ui=function(t){return 0!=(1024&t)};function Vi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function qi(t){t.zu.length=0}function Hi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.zu,Oi(n))}function ji(t){if(t.$u){var n=xi(t.zu);""===n&&(n=null),t.$u.$u.Xu=n}}var Wi=function(){function t(t){if(void 0===t&&(t=void 0),this.$u=null,null==t)this.zu=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Wi&&On(u.zu)&&(!xn||u[Symbol.iterator]===zi))this.zu=t.zu.slice();else if(function(t){return null!=t&&(!!On(t)||!!xn&&"function"==typeof t[Symbol.iterator])}(t)){this.zu=[];for(var n=0,i=Pn(t);n<i.length;n++){var r=Pn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.zu.push([Fi(r[0]),Fi(r[1])])}}else for(var e in this.zu=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.zu.push([Fi(e),Fi(t[e])]);else(t=Fi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.zu=Oi(t);var u}var n=t.prototype;return n.append=function(t,n){t=Fi(t),n=Fi(n),this.zu.push([t,n]),ji(this)},n.delete=function(t){t=Fi(t);for(var n=this.zu,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}ji(this)},n.get=function(t){t=Fi(t);for(var n=this.zu,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Fi(t);for(var n=this.zu,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Fi(t);for(var n=this.zu,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Fi(t),n=Fi(n);for(var i=this.zu,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),ji(this)},n.sort=function(){bn(this.zu,Vi),ji(this)},n.toString=function(){return xi(this.zu)},n.entries=function(){return new Yi(this.zu,$i)},n.keys=function(){return new Yi(this.zu,Xi)},n.values=function(){return new Yi(this.zu,Gi)},n.forEach=function(t){var n=this;this.zu.forEach(function(i){return t(i[1],i[0],n)})},t}(),zi=Wi.prototype.entries;xn&&(Wi.prototype[Symbol.iterator]=zi);var $i=function(t){return[t[0],t[1]]},Xi=function(t){return t[0]},Gi=function(t){return t[1]},Yi=function(){function t(t,n){this.Gu=0,this.zu=t,this.Yu=n}return t.prototype.next=function(){return this.Gu<this.zu.length?{done:!1,value:this.Yu(this.zu[this.Gu++])}:{done:!0,value:void 0}},t}(),Ki="null";var Ji=l.create(null);Ji.ftp=21,Ji.file=0,Ji.gopher=70,Ji.http=80,Ji.https=443,Ji.ws=80,Ji.wss=443;var Qi=/^(?:\.|%2e)$/i,Zi=/^(?:\.|%2e){2}$/i;function tr(t){return Qi.test(t)}function nr(t){return Zi.test(t)}function ir(t){return void 0!==Ji[t]}function rr(t){return ir(t.Ku)}function er(t){return""!==t.Ju||""!==t.Qu}function ur(t){var n=t.length;if(!(n>=2))return!1;if(!sr(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function or(t){return 2===t.length&&En.test(t[0])&&(":"===t[1]||"|"===t[1])}function sr(t){return 2===t.length&&or($n(t))}function cr(t){return or(t)&&":"===t[1]}function ar(t){var n=t.Zu;0!==n.length&&("file"===t.Ku&&1===n.length&&cr(n[0])||n.pop())}function fr(t){return null===t.to||Ri===t.to||t.io||"file"===t.Ku}var hr=-1,vr=/\t|\n|\r/g,dr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function lr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new yr,t=t.replace(dr,""));var e=null!==r?r:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,a=Zn(t=t.replace(vr,"")),f=a.length,h=0;h<=f;){var v=h<f?a[h]:hr;switch(e){case 0:if(!Fn(v)){if(null===r){u.length=0,e=2;continue}throw new d("Invalid scheme")}u.push(Vn(v)),e=1;break;case 1:if(Bn(v)||43===v||45===v||46===v)u.push(Vn(v));else{if(58!==v){if(null===r){u.length=0,e=2,h=0;continue}throw new d("Invalid scheme")}var l=oi(u);if(null!==r){if(ir(i.Ku)&&!ir(l))return;if(!ir(i.Ku)&&ir(l))return;if((er(i)||null!==i.ro)&&"file"===l)return;if("file"===i.Ku&&(i.to===Ri||null===i.to))return}if(i.Ku=l,null!==r)return void(rr(i)&&i.ro===Ji[i.Ku]&&(i.ro=null));u.length=0,"file"===i.Ku?e=13:rr(i)&&n&&n.Ku===i.Ku?e=3:rr(i)?e=7:47===a[h+1]?(e=4,h+=1):(i.io=!0,i.Zu.push(""),e=18)}break;case 2:if(!n||n.io&&35!==v)throw new d("Invalid scheme");n.io&&35===v?(i.Ku=n.Ku,i.Zu=n.Zu.slice(),i.Xu=n.Xu,i.eo="",i.io=!0,e=20):"file"!==n.Ku?(e=5,h-=1):(e=13,h-=1);break;case 3:47===v&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===v?e=9:(e=17,h-=1);break;case 5:i.Ku=n.Ku,hr===v?(i.Ju=n.Ju,i.Qu=n.Qu,i.to=n.to,i.ro=n.ro,i.Zu=n.Zu.slice(),i.Xu=n.Xu):47===v?e=6:63===v?(i.Ju=n.Ju,i.Qu=n.Qu,i.to=n.to,i.ro=n.ro,i.Zu=n.Zu.slice(),i.Xu="",e=19):35===v?(i.Ju=n.Ju,i.Qu=n.Qu,i.to=n.to,i.ro=n.ro,i.Zu=n.Zu.slice(),i.Xu=n.Xu,i.eo="",e=20):92===v&&rr(i)?e=6:(i.Ju=n.Ju,i.Qu=n.Qu,i.to=n.to,i.ro=n.ro,i.Zu=n.Zu.slice(),i.Zu.pop(),e=17,h-=1);break;case 6:!rr(i)||47!==v&&92!==v?47===v?e=9:(i.Ju=n.Ju,i.Qu=n.Qu,i.to=n.to,i.ro=n.ro,e=17,h-=1):e=8;break;case 7:if(47!==v||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==v&&92!==v&&(e=9,h-=1);break;case 9:if(64===v){o&&u.unshift(37,52,48),o=!0;for(var w=0;w<u.length;w++){var g=u[w];if(58!==g||c){var _=oi(mi(g,gi));c?i.Qu+=_:i.Ju+=_}else c=!0}u.length=0}else if(hr===v||47===v||63===v||35===v||rr(i)&&92===v){if(o&&0===u.length)throw new d("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Ku)h-=1,e=15;else if(58!==v||s)if(hr===v||47===v||63===v||35===v||rr(i)&&92===v){if(h-=1,rr(i)&&0===u.length)throw new d("Invalid host");if(null!==r&&0===u.length&&(er(i)||null!==i.ro))return;var p=Ci(oi(u),rr(i));if(i.to=p,u.length=0,e=16,null!==r)return}else 91===v?s=!0:93===v&&(s=!1),u.push(v);else{if(0===u.length)throw new d("Invalid host");var m=Ci(oi(u),rr(i));if(i.to=m,u.length=0,e=12,11===r)return}break;case 12:if(Mn(v))u.push(v);else{if(!(hr===v||47===v||63===v||35===v||rr(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==u.length){var k=y(oi(u),10);if(k>65535)throw new d("Invalid port");i.ro=k===Ji[i.Ku]?null:k,u.length=0}if(null!==r)return;e=16,h-=1}break;case 13:i.Ku="file",47===v||92===v?e=14:n&&"file"===n.Ku?hr===v?(i.to=n.to,i.Zu=n.Zu.slice(),i.Xu=n.Xu):63===v?(i.to=n.to,i.Zu=n.Zu.slice(),i.Xu="",e=19):35===v?(i.to=n.to,i.Zu=n.Zu.slice(),i.Xu=n.Xu,i.eo="",e=20):(ur(a.slice(h))||(i.to=n.to,i.Zu=n.Zu.slice(),ar(i)),e=17,h-=1):(e=17,h-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Ku&&!ur(a.slice(h))&&(cr(n.Zu[0])?i.Zu.push(n.Zu[0]):i.to=n.to),e=17,h-=1);break;case 15:if(hr===v||47===v||92===v||63===v||35===v)if(h-=1,null===r&&sr(u))e=17;else if(0===u.length){if(i.to=Ri,null!==r)return;e=16}else{var b=Ci(oi(u),rr(i));if(0===b.Hu&&"localhost"===b.Wu&&(b=Ri),i.to=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:rr(i)?(e=17,47!==v&&92!==v&&(h-=1)):null===r&&63===v?(i.Xu="",e=19):null===r&&35===v?(i.eo="",e=20):hr!==v&&(e=17,47!==v&&(h-=1));break;case 17:if(hr===v||47===v||rr(i)&&92===v||null===r&&(63===v||35===v)){var T=oi(u);if(nr(T)?(ar(i),47===v||rr(i)&&92===v||i.Zu.push("")):!tr(T)||47===v||rr(i)&&92===v?tr(T)||("file"===i.Ku&&0===i.Zu.length&&sr(u)&&(Ri!==i.to&&null!==i.to&&(i.to=Ri),u[1]=58,T=oi(u)),i.Zu.push(T)):i.Zu.push(""),u.length=0,"file"===i.Ku&&(hr===v||63===v||35===v))for(;i.Zu.length>1&&""===i.Zu[0];)i.Zu.shift();63===v?(i.Xu="",e=19):35===v&&(i.eo="",e=20)}else u.push.apply(u,mi(v,yi));break;case 18:63===v?(i.Xu="",e=19):35===v?(i.eo="",e=20):hr!==v&&(i.Zu[0]+=oi(mi(v,li)));break;case 19:null===r&&35===v?(i.eo="",e=20):hr!==v&&(i.Xu+=oi(mi(v,rr(i)?pi:_i)));break;case 20:hr===v||0===v||(i.eo+=oi(mi(v,wi)))}h++}return i}function wr(t,n,i,r){try{lr(t,n,i,r)}catch(t){}}var yr=function(){this.Ku="",this.Ju="",this.Qu="",this.to=null,this.ro=null,this.Zu=[],this.Xu=null,this.eo=null,this.io=!1};function gr(t){switch(t.Ku){case"blob":var n;try{n=lr(t.Zu[0],null)}catch(t){return Ki}return gr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ku,r=t.to,e=t.ro,i+"://"+Di(r)+(null===e?"":":"+e);case"file":default:return Ki}var i,r,e}var _r,pr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof pr&&"object"==typeof i.$u)e=n.$u;else try{e=lr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=lr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var u=r.Xu;this.$u=r,this.Xu=function(t){var n=new Wi;return null!==t&&Hi(n,t),n}(u),this.Xu.$u=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ku+":";if(null!==t.to?(i+="//",er(t)&&(i+=t.Ju,""!==t.Qu&&(i+=":"+t.Qu),i+="@"),i+=Di(t.to),null!==t.ro&&(i+=":"+t.ro)):null===t.to&&"file"===t.Ku&&(i+="//"),t.io)i+=t.Zu[0];else for(var r=0,e=t.Zu;r<e.length;r++)i+="/"+e[r];return null!==t.Xu&&(i+="?"+t.Xu),n||null===t.eo||(i+="#"+t.eo),i}(this.$u)},set:function(t){var n;try{n=lr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.$u=n,qi(this.Xu);var i=this.$u.Xu;null!==i&&Hi(this.Xu,i)}},{key:"origin",get:function(){return gr(this.$u)}},{key:"protocol",get:function(){return this.$u.Ku+":"},set:function(t){wr(t+":",null,this.$u,0)}},{key:"username",get:function(){return this.$u.Ju},set:function(t){fr(this.$u)||(this.$u.Ju=ki(t,gi))}},{key:"password",get:function(){return this.$u.Qu},set:function(t){fr(this.$u)||(this.$u.Qu=ki(t,gi))}},{key:"host",get:function(){var t=this.$u,n=t.to;if(null===n)return"";var i=t.ro,r=Di(n);return null!==i&&(r+=":"+i),r},set:function(t){this.$u.io||wr(t,null,this.$u,10)}},{key:"hostname",get:function(){var t=this.$u.to;return null===t?"":Di(t)},set:function(t){this.$u.io||wr(t,null,this.$u,11)}},{key:"port",get:function(){var t=this.$u.ro;return null===t?"":""+t},set:function(t){fr(this.$u)||(""===t?this.$u.ro=null:wr(t,null,this.$u,12))}},{key:"pathname",get:function(){var t=this.$u.Zu;return this.$u.io?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.$u.io||(this.$u.Zu.length=0,wr(t,null,this.$u,16))}},{key:"search",get:function(){var t=this.$u.Xu;return null===t||""===t?"":"?"+t},set:function(t){t=Fi(t);var n=this.$u;if(""===t)return n.Xu=null,void qi(this.Xu);"?"===t[0]&&(t=t.slice(1)),n.Xu="",wr(t,null,n,19),Hi(this.Xu,t)}},{key:"searchParams",get:function(){return this.Xu}},{key:"hash",get:function(){var t=this.$u.eo;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.$u.eo="",wr(t,null,this.$u,20)):this.$u.eo=null}}])&&kn(n.prototype,i),r&&kn(n,r),t}();function mr(t){return t.document&&t.document.baseURI||t.location.href||""}function kr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function br(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Tr(){return void 0!==u?u.createElement("video"):void 0}function Er(){return _r||(_r=Tr()),_r}var Sr=!!("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Rr=Er(),Ir=!(!Rr||!Rr.webkitShowPlaybackTargetPicker),Ar=function(){function t(){this.uo=void 0,this.oo=!1,this.ye=Sr,this.Ne=!1,this.so=!0,this.co=!0}var n=t.prototype;return n.ao=function(){return 0},n.fo=function(t,n){return!0},n.ho=function(t){return t>=1/6*2},W(t,[{key:"vo",get:function(){return void 0===this.uo&&(this.uo=this.ao()),this.uo}},{key:"do",get:function(){return e.devicePixelRatio||1}},{key:"lo",get:function(){return Ir}},{key:"wo",get:function(){return!1}},{key:"yo",get:function(){return!0}},{key:"_o",get:function(){return rt._e||rt.Ae}},{key:"po",get:function(){return!0}},{key:"mo",get:function(){return!0}},{key:"ko",get:function(){}},{key:"bo",get:function(){return!0}}]),t}(),Cr=function(){var t=Tr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(rt.Re)return!1;var t=Tr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Dr=function(t){function n(n){var i;return(i=t.call(this)||this).To=void 0,i.To=n,i.To&&(i.oo=i.To.oo,i.ye=i.To.ye,i.so=Cr&&i.To.so),i}$(n,t);var i=n.prototype;return i.ao=function(){return this.To?this.To.vo:t.prototype.ao.call(this)},i.fo=function(n,i){return this.To?this.To.fo(n,i):t.prototype.fo.call(this,n,i)},i.ho=function(n){return this.To?this.To.ho(n):t.prototype.ho.call(this,n)},W(n,[{key:"ko",get:function(){var t;return null==(t=this.To)?void 0:t.ko}},{key:"bo",get:function(){var t,n;return null==(t=null==(n=this.To)?void 0:n.bo)||t}}]),n}(Ar),Nr=function(t){function n(n){var i;return(i=t.call(this,n)||this).oo=!0,i.Ne=!0,i}return $(n,t),n}(Dr),Or=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ao=function(){return R.MediaSource?t.prototype.ao.call(this):1},n}(Nr),xr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.fo=function(n,i){return!(i.Eo>1920)&&t.prototype.fo.call(this,n,i)},W(n,[{key:"wo",get:function(){return rt.Be<3}},{key:"yo",get:function(){return rt.Be>=3}}]),n}(Dr),Pr=function(t){function n(){return t.call(this)||this}return $(n,t),n}(Ar),Lr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.fo=function(t,n){if(t&&t.So&&n&&n.So){var i=Fr(t.So,"mp4a.40.2")&&Fr(n.So,"mp4a.40.5"),r=Fr(t.So,"mp4a.40.5")&&Fr(n.So,"mp4a.40.2"),e=Fr(t.So,"mp4a.40.2")&&Fr(n.So,"mp4a.40.34"),u=Fr(t.So,"mp4a.40.34")&&Fr(n.So,"mp4a.40.2"),o=Fr(t.So,"mp4a.40.5")&&Fr(n.So,"mp4a.40.34"),s=Fr(t.So,"mp4a.40.34")&&Fr(n.So,"mp4a.40.5");return!(i||r||e||u||o||s)}return!0},W(n,[{key:"ko",get:function(){if(rt._e)return 4096}}]),n}(Pr);function Fr(t,n){return t.indexOf(n)>-1}var Mr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ho=function(t){return t>=2},n}(Pr),Br=function(t){function n(){var n;return(n=t.call(this)||this).oo=rt.Xe>=11,n.so=rt.$e&&!(rt.Ae&&rt.Xe<10),n}return $(n,t),n}(Pr),Ur=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),W(n,[{key:"po",get:function(){return!1}}]),n}(Dr),Vr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),W(n,[{key:"bo",get:function(){return!rt.pe||!!rt.Le&&92!==rt.Fe}}]),n}(Pr),qr=function(){function n(){var n;this.Ro=void 0,this.Io=new fn,this.Ao=new Hr,this.Co=(n=function(){if(rt.We)return new Lr;if(rt.Ve||rt.qe)return new Mr;if(rt.$e)return new Br;if(rt.xe)return new Vr;return new Pr}(),rt.Ae?new Or(n):rt.Ne?new Nr(n):rt.Me?new xr(n):rt.Ue?new Ur(n):new Dr(n)),this.Do=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Ro=function(){return t.performance.now()}:this.Ro=nn}var i=n.prototype;return i.No=function(){kt.apply(void 0,arguments)},i.Oo=function(){bt.apply(void 0,arguments)},i.xo=function(){Tt.apply(void 0,arguments)},i.Po=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Et.apply(void 0,[t].concat(i))},i.Lo=function(t,n){return c(t,n)},i.Fo=function(t,n){return f(t,n)},i.Mo=function(t){a(t)},i.Bo=function(t){h(t)},i.lu=function(t){return this.Io.lu(t)},i.Uo=function(){return this.Vo.Uo()},i.qo=function(){return this.Vo.qo()},i.Ho=function(){return this.Vo.Ho()},i.jo=function(){return this.Vo.jo()},i.Wo=function(){return this.Vo.Wo()},i.zo=function(t,n){return this.Vo.zo(t,n)},i.$o=function(t){return this.Vo.$o(t)},i.Xo=function(t,n){var i;return void 0===n&&(n=mr(R)),i="object"!=typeof n||n instanceof pr?n:n.href,new pr(t,i)},i.Go=function(n,i){if(void 0===i&&(i=mr(R)),this.Do){var r=ht(i)?i:i.toString();return new t.URL(n,r).href}return this.Xo(n,i).href},W(n,[{key:"Yo",get:function(){return this.Ao}},{key:"Ko",get:function(){return this.Co}},{key:"Jo",get:function(){return{Qo:s&&s.userAgent.match(/Android /i)?"Android":"other",Zo:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"ts",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"rs",get:function(){return"languages"in s?s.languages.slice():[s.language]}}]),n}(),Hr=function(){function t(){}return W(t,[{key:"es",get:function(){return s.oscpu}},{key:"Ko",get:function(){return s.platform}},{key:"us",get:function(){return s.vendor}},{key:"os",get:function(){return s.vendorSub}}]),t}();var jr=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function c(t,n,i,r){var e=n&&n.prototype instanceof p?n:p,u=l.create(e.prototype),o=new N(r||[]);return u.ss=function(t,n,i){var r=f;return function(e,u){if(r===w)throw new v("Generator is already running");if(r===y){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var o=i.delegate;if(o){var s=A(o,i);if(s){if(s===g)continue;return s}}if("next"===i.method)i.sent=i.cs=i.arg;else if("throw"===i.method){if(r===f)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var c=a(t,n,i);if("normal"===c.type){if(r=i.done?y:h,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=y,i.method="throw",i.arg=c.arg)}}}(t,i,o),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",w="executing",y="completed",g={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=l.getPrototypeOf,E=T&&T(T(O([])));E&&E!==i&&r.call(E,u)&&(b=E);var S=k.prototype=p.prototype=l.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.ss(n,t)}})}function I(t){var n;this.ss=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,o){var s=a(t[i],t,e);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"as")?Promise.resolve(f.as).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function A(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,A(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return g}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,g;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):u:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,g)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!_(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{as:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,r,e){var u=new I(c(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.cs=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!_(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return s.type="throw",s.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),a=r.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,g):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}(t.exports)});function Wr(){return(Wr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function zr(){var t=l.create(null);return t.fs=void 0,delete t.fs,t}function $r(){return new Kr}function Xr(t){var n=$r();for(var i in t)et.call(t,i)&&n.set(i,t[i]);return n}var Gr,Yr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Kr=Yr||(Gr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=zr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=zr(),this.size=0},n.keys=function(){return new Gr(this.data,function(t,n){return n})},n.values=function(){return new Gr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Gr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Jr,Qr=Yr||(Jr=function(){function t(t,n){this.hs=void 0,this.vs=void 0,this.hs=t,this.vs=n}var n=t.prototype;return n.next=function(){var t=this.hs.next();return t.done?t:{value:this.vs(t.value),done:!1}},t}(),function(){function t(){this.ds=$r()}var n=t.prototype;return n.get=function(t){return this.ds.get(""+t)},n.set=function(t,n){return this.ds.set(""+t,n),this},n.has=function(t){return this.ds.has(""+t)},n.delete=function(t){return this.ds.delete(""+t)},n.clear=function(){this.ds.clear()},n.keys=function(){return new Jr(this.ds.keys(),function(t){return Number(t)})},n.values=function(){return this.ds.values()},n.entries=function(){return new Jr(this.ds.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.ds.forEach(function(n,i){t(n,Number(i))})},W(t,[{key:"size",get:function(){return this.ds.size}}]),t}());var Zr,te="cenc",ne="sinf",ie="skd",re="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",ee="com.microsoft.playready",ue="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",oe="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",se="urn:uuid:"+oe,ce="com.apple.fps.1_0";!function(t){t.ls="playready",t.ys="widevine",t.gs="fairplay",t._s="clearkey",t.ps="aes128"}(Zr||(Zr={}));var ae={ks:Zr.ls,bs:ee,Ts:"cenc",Es:"9a04f079-9840-4286-ab92-e65be0885f95",Ss:re,Rs:"PlayReady"},fe={ks:Zr.ys,bs:"com.widevine.alpha",Ts:"cenc",Es:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ss:ue,Rs:"Widevine"},he={ks:Zr.gs,bs:ce,Ts:"skd",Es:oe,Ss:se,Rs:"FairPlay"},ve=(Zr.gs,{ks:Zr._s,bs:"org.w3.clearkey",Ts:"cenc",Es:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Ss:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Rs:"ClearKey"});function de(t,n,i){return t.split(n).join(i)}function le(t,n){return null!=t&&-1!==t.indexOf(n)}function we(t,n){return null!=t&&t.substr(0,n.length)===n}function ye(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ge(t,n){return t.toUpperCase()===n.toUpperCase()}function _e(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return me(n)}var pe=16384;function me(t){var n=t.length;if(n<=pe)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=pe)i.push(String.fromCharCode.apply(String,t.slice(r,r+pe)));return i.join("")}var ke=rt.xe&&rt.Pe>=42||rt.We&&rt.ze>=38||rt.Ve||rt.He||rt.Ge&&rt.Ye>=29;function be(t,n){return le(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Wr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var Te=function(){function t(t){this.Is=void 0,this.As=$r(),this.Cs=void 0,this.Is=t}var n=t.prototype;return n.Wo=function(){return this.$o(fe)},n.qo=function(){return this.$o(ve)},n.jo=function(){return this.$o(ae)},n.Ho=function(){return this.$o(he)},n.$o=function(t){var n=t.Ss,i=this.As.get(n);if(i)return i;var r=this.zo(t,'video/mp4; codecs="avc1.42000a"');return this.As.set(n,r),r},n.zo=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Is.Ds(n.bs,[be(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Is.Ds(n.bs,[be(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Uo=function(){return this.Cs||(this.Cs=this.Ns()),this.Cs},n.Ns=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==I.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(ke){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.qo();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Ee(t,n){var i=function(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Se(i,n,u,e);var o=i;i=e,e=o}return i}(t,n);return i!==t&&Se(i,void 0,t.length,t),t}function Se(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(e=(o=u+i)+i,o>a&&(o=a),e>a&&(e=a),s=u,c=o;;)if(s<o&&c<e)n&&n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<o)r[f++]=t[s++];else{if(!(c<e))break;r[f++]=t[c++]}}function Re(t,n,i){var r=function(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function Ie(t,n){var i=t.indexOf(n);return-1!==i&&(Ae(t,i),!0)}function Ae(t,n){t.splice(n,1)}function Ce(t,n){return-1!==t.indexOf(n)}function De(t){t.length=0}var Ne=function(){function t(){this.Os=!1,this.xs=!1,this.Ps=[],this.Ls=[]}var n=t.prototype;return n.Fs=function(){if(!this.Os&&!this.xs){this.Os=!0;for(var t=0,n=this.Ps.slice();t<n.length;t++){(0,n[t])()}this.Ms()}},n.Ms=function(){if(!this.xs){this.xs=!0;for(var t=0,n=this.Ls.slice();t<n.length;t++){(0,n[t])()}De(this.Ps),De(this.Ls)}},n.Bs=function(t){this.xs||this.Ps.push(t)},n.Us=function(t){this.xs||Ie(this.Ps,t)},n.Vs=function(t){this.xs||this.Ls.push(t)},n.qs=function(t){this.xs||Ie(this.Ls,t)},t}(),Oe=function(){function t(){this.Hs=new Ne}var n=t.prototype;return n.js=function(){this.Hs.Fs()},n.Ms=function(){this.Hs.Ms()},n.Ws=function(t){var n=this.Hs;if(!n.Os)if(t.Os)n.Fs();else if(!n.xs&&!t.xs){var i=function(){r(),n.Fs()},r=function r(){t.Us(i),t.qs(r),n.Us(i),n.qs(r)};t.Bs(i),t.Vs(r),n.Bs(i),n.Vs(r)}},n.zs=function(){var n=new t,i=new t,r=n.$s,e=i.$s,u=this.Hs,o=function(){r.Os&&e.xs||e.Os&&r.xs?u.Fs():r.xs&&e.xs&&u.Ms()};r.Bs(o),e.Bs(o),r.Vs(o),e.Vs(o),n.Ws(u),i.Ws(u);return u.Vs(function(){r.Us(o),e.Us(o),r.qs(o),e.qs(o)}),[n,i]},W(t,[{key:"$s",get:function(){return this.Hs}}]),t}(),xe=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return"AbortError"}}]),n}(cn);function Pe(t){return t instanceof v&&"AbortError"===t.name}function Le(t){if(t&&t.Os)throw new xe}function Fe(t){if(Pe(t))throw t}function Me(t){if(!Pe(t))throw t}function Be(t,n){return n?new C(function(i,r){if(n.Os)return t.catch(L),r(new xe);var e=function t(){n.Us(t),r(new xe)};n.Bs(e),t.then(function(t){n.Us(e),i(t)},function(t){n.Us(e),r(t)})}):t}function Ue(t,n){return t.then(function(t){return n.Ms(),t},function(t){throw n.Ms(),t})}var Ve=C.resolve();function qe(t){Ve.then(t)}function He(t){t.then(L,L)}function je(t){return We.apply(this,arguments)}function We(){return(We=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(L)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ze(t){return t&&"function"!=typeof t?t.slice():t}function $e(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Xe,Ge=function(){function t(t){var n=this;this.Xs=zr(),this.Gs=void 0,this.Ys=void 0,this.Ks=function(t){n.Js(t)},this.Ys=t||this}var n=t.prototype;return n.Qs=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Zs(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Zs(r,n)}},n.Zs=function(t,n){var i=this.Xs[t];i?"function"==typeof i?this.Xs[t]=[i,n]:i.push(n):this.Xs[t]=n},n.tc=function(t){if("function"==typeof t){var n=this.Gs;n?"function"==typeof n?this.Gs=[n,t]:n.push(t):this.Gs=t}},n.nc=function(){this.Xs=zr(),this.Gs=void 0},n.Js=function(t){var n=ze(this.Xs[t.type]),i=ze(this.Gs);$e(this.Ys,t,n),$e(this.Ys,t,i)},n.ic=function(t,n){if("function"==typeof n)if("string"==typeof t)this.rc(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.rc(r,n)}},n.rc=function(t,n){var i=this.Xs[t];i&&("function"==typeof i?i===n&&(this.Xs[t]=void 0):Ie(i,n))},n.ec=function(t){if("string"==typeof t)this.Xs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Xs[i]=void 0}},n.uc=function(t){var n=this.Gs;n&&("function"==typeof n?n===t&&(this.Gs=void 0):Ie(n,t))},n.oc=function(t,n){var i=this;return new C(function(r,e){if(n&&n.Os)return e(new xe);var u=function(t){s(),r(t)},o=function(){s(),e(new xe)},s=function(){i.ic(t,u),n&&n.Us(o)};i.Qs(t,u),n&&n.Bs(o)})},t}(),Ye=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Js=function(n){var i=this;qe(function(){t.prototype.Js.call(i,n)})},n}(Ge),Ke=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Je=["cenc"],Qe=["cbcs","cbcs-1-9"],Ze=function(t){function n(n){var i;return(i=t.call(this,"cc")||this).sc=n,i}return $(n,t),n}(Ke),tu=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"ac")||this).sc=n,u.fc=i,u.ac=r,u.hc=e,u}return $(n,t),n}(Ke),nu=function(t){function n(){return t.call(this,"vc")||this}return $(n,t),n}(Ke);!function(t){t.dc="lc",t.wc="yc"}(Xe||(Xe={}));var iu=function(t){function n(n,i){var r;return(r=t.call(this,Xe.dc)||this).Ts=n,r.gc=i,r}return $(n,t),n}(Ke),ru=new p([0]).buffer,eu=function(){function t(){this._c=void 0,this._c=[]}var n=t.prototype;return n.pc=function(t){for(var n=0,i=this._c;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.mc=function(t){for(var n=0,i=this._c;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.kc=function(t,n){this._c.forEach(function(n){return t(n[1],n[0])},n)},n.bc=function(t,n){this._c.push([t,n])},n.Tc=function(){De(this._c)},W(t,[{key:"Ec",get:function(){return this._c.length}}]),t}(),uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),ou=16383,su=/[\t\n\f\r ]/g;function cu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:au()}function au(){throw new v("Invalid base64 input")}function fu(t){var n=t;su.test(n)&&(n=n.replace(su,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return au();for(var e,u=0===r?0:4-r,o=new p(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,a=0;c<s;c+=4)e=cu(n.charCodeAt(c))<<18|cu(n.charCodeAt(c+1))<<12|cu(n.charCodeAt(c+2))<<6|cu(n.charCodeAt(c+3)),o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===u?(e=cu(n.charCodeAt(c))<<2|cu(n.charCodeAt(c+1))>>4,o[a++]=255&e):1===u&&(e=cu(n.charCodeAt(c))<<10|cu(n.charCodeAt(c+1))<<4|cu(n.charCodeAt(c+2))>>2,o[a++]=e>>8&255,o[a++]=255&e),o}function hu(t,n,i){for(var r,e,u,o=[],s=n;s<i;s+=3)o.push((r=t[s],e=t[s+1],u=t[s+2],uu[r>>2]+uu[(3&r)<<4|e>>4]+uu[(15&e)<<2|u>>6]+uu[63&u]));return o.join("")}function vu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=ou)r.push(hu(t,u,w.min(e,u+ou)));if(1===i){var o=t[n-1];r.push(uu[o>>2]+uu[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];r.push(uu[s>>2]+uu[(3&s)<<4|c>>4]+uu[(15&c)<<2]+"=")}return r.join("")}var du=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],lu=ArrayBuffer.isView||function(t){return t&&Ce(du,ut.call(t))};function wu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new p(t),new p(n))}function yu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new p(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function gu(t){return fu(t).buffer}function _u(t){return vu(new p(t))}function pu(t){return vu(zu(t))}var mu=function(){function t(t){void 0===t&&(t=0),this.Sc=t}var n=t.prototype;return n.Rc=function(t){this.Sc+=t},n.Ic=function(t){this.Sc=t},n.Ac=function(){return new t(this.Cc)},W(t,[{key:"Cc",get:function(){return this.Sc}}]),t}();function ku(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function bu(t,n){return t>>n&63|128}function Tu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ku(t),n.push(t>>12&15|224),n.push(bu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(bu(t,12)),n.push(bu(t,6))),n.push(63&t|128)):n.push(t)}function Eu(t,n){if(n.Cc>=t.length)throw new v("Invalid byte index");var i=255&t[n.Cc];if(n.Rc(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Su(t,n){var i=n.Cc;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Rc(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Eu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Eu(t,n)<<6|Eu(t,n);if(u>=2048)return ku(u),u;throw new v("Invalid continuation byte")}if(240==(248&r)){var o=(7&r)<<18|Eu(t,n)<<12|Eu(t,n)<<6|Eu(t,n);if(o>=65536&&o<=1114111)return o}throw new v("Invalid UTF-8 detected")}var Ru=65279;var Iu=function(){function t(t){this.Dc=t}return t.prototype.Nc=function(t){return function(t,n){return(t&n)===n}(this.Dc,t)},t}();function Au(t,n){var i=t.getUint8(n.Cc);return n.Rc(1),i}function Cu(t,n,i){t.setUint8(n.Cc,i),n.Rc(1)}function Du(t,n,i){var r=Ju(Zu(t),n.Cc,n.Cc+i);return n.Rc(r.byteLength),r}function Nu(t,n,i){return n.Cc+i<=t.byteLength}function Ou(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Cc,i);return n.Rc(2),r}function xu(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Cc,i,r),n.Rc(2)}function Pu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Cc,i);return n.Rc(4),r}function Lu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Cc,i,r),n.Rc(4)}function Fu(t,n,i){void 0===i&&(i=!1);var r=Pu(t,n,i),e=Pu(t,n,i),u=i?e:r,o=i?r:e;return Kt.fromBits(o,u,!0)}function Mu(t,n){var i=Au(t,n);if(i)return String.fromCharCode(i)}function Bu(t,n){return function(t,n){return qu(t,n,!0)}(t,n)}function Uu(t,n,i){for(var r="",e=0;e<i;e++)r+=Mu(t,n);return r}function Vu(t,n){var i,r=Au(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Au(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Au(t,n))+(63&Au(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Au(t,n))+64*(63&Au(t,n))+(63&Au(t,n))),i}function qu(t,n,i){for(var r=[];n.Cc<t.byteLength;){var e=Au(t,n);if(i&&!e)break;r.push(e)}return me(r)}function Hu(t,n,i,r){for(var e=[];n.Cc+2<=t.byteLength;){var u=Ou(t,n,i);if(r&&!u)break;e.push(u)}return me(e)}function ju(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){xu(t,n,i.charCodeAt(u),r)}}function Wu(t){return qu(Qu(t),new eo,!1)}function zu(t){var n=new p(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Cu(t,n,i.charCodeAt(e))}(Qu(n),new eo,t),n}function $u(t,n){return void 0===n&&(n=!1),Hu(Qu(t),new eo,n,!1)}function Xu(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return ju(Qu(i),new eo,t,n),i}function Gu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.Cc+3<=t.byteLength&&239===t.getUint8(n.Cc)&&187===t.getUint8(n.Cc+1)&&191===t.getUint8(n.Cc+2)})(t,n)&&n.Rc(3);for(;n.Cc<t.byteLength;){var e=Vu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return _e(r)}(t,n,!0)}function Yu(t){return _e(function(t,n){var i,r=[],e=new eo;if(!n){if(!1===(i=Su(t,e)))return r;i===Ru||r.push(i)}for(;!1!==(i=Su(t,e));)r.push(i);return r}(Zu(t)))}function Ku(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)Tu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Ju(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Qu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Zu(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function to(t){return t instanceof ArrayBuffer||lu(t)}function no(t){return t instanceof ArrayBuffer?new p(t):Zu(t)}function io(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):ro(Ju(t,n,i))}function ro(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}var eo=function(){function t(t){void 0===t&&(t=0),this.Sc=t}var n=t.prototype;return n.Rc=function(t){this.Sc+=t},n.Ic=function(t){this.Sc=t},n.Ac=function(){return new t(this.Cc)},n.Oc=function(){return new mu(this.Cc<<3)},W(t,[{key:"Cc",get:function(){return this.Sc}}]),t}(),uo=function(){function t(){var t=this;this.xc=void 0,this.Fn=void 0,this.V=void 0,this.xc=new C(function(n,i){t.Fn=n,t.V=i})}var n=t.prototype;return n.Pc=function(t){this.Fn&&(this.Fn(t),this.Ms())},n.Lc=function(t){this.V&&(this.V(t),this.Ms())},n.js=function(){this.xc.catch(L),this.Lc(new xe)},n.Ms=function(){this.Fn=void 0,this.V=void 0},t}();function oo(){return new p([8,4]).buffer}function so(t){return wu(t,oo())}function co(t,n){return t===ee?function(t){if(t.byteLength<2*ao.length)return t;if($u(new DataView(t,0,2*ao.length),!0)===ao)return t;return n=t,Xu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+_u(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var ao="<PlayReady";var fo=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Fc=void 0,u.Mc=void 0,u.Fc=i,u.Mc=r,u}return $(n,t),n}(cn),ho=function(t){function n(n,i){var r;(r=t.call(this)||this).Bc=void 0,r.Uc=!1,r.Vc=void 0,r.qc=void 0,r.Hc=function(){r.jc()},r.Wc=function(t){r.Js(new tu(on(r),t.messageType,co(r.zc,t.message)))},r.$c=function(){r.Uc=!0,r.Bc.Ec>0&&(r.Bc.Tc(),r.Js(new Ze(on(r)))),r.Xc.removeEventListener("keystatuseschange",r.Hc),r.Xc.removeEventListener("message",r.Wc)},r.Xc=n,r.zc=i,r.Xc.addEventListener("keystatuseschange",r.Hc),r.Xc.addEventListener("message",r.Wc),r.Bc=new eu;var e=[];return r.Xc.closed&&e.push(C.resolve(r.Xc.closed)),r.qc=new uo,e.push(r.qc.xc),r.Vc=C.race(e).then(r.$c,r.$c),r.jc(),r}$(n,t);var i=n.prototype;return i.Gc=function(){if(this.Uc)return this.Vc;var t,n,i=[];return i.push(C.resolve(this.Xc.close())),i.push((t=1e3,new C(function(i,r){if(void 0!==n&&n.Os)r(new xe);else{var e=N.Lo(function(){void 0!==n&&n.Us(u),i()},t),u=function(){N.Mo(e),r(new xe)};void 0!==n&&n.Bs(u)}}))),this.qc.Pc(C.race(i).catch(vo)),this.Uc=!0,this.Vc},i.Yc=function(t,n,i){return C.resolve(this.Xc.generateRequest(t,n)).catch(vo)},i.Kc=function(t){return C.resolve(this.Xc.load(t)).catch(vo)},i.Jc=function(){return C.resolve(this.Xc.remove()).catch(vo)},i.Qc=function(t){return C.resolve(this.Xc.update(t)).catch(vo)},i.jc=function(){var t=this;this.Bc.Tc(),this.Xc.keyStatuses.forEach(function(n,i){t.Zc(i,n)}),this.Js(new Ze(this))},i.Zc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=no(t);if(this.zc===ee&&16===r.byteLength){var e=Qu(r),u=e.getUint32(0,!0),o=e.getUint16(4,!0),s=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,o,!1),e.setUint16(6,s,!1)}this.zc===ee&&"status-pending"===n&&(n="usable"),this.Bc.bc(r,n)},W(n,[{key:"ta",get:function(){return this.Vc}},{key:"na",get:function(){return this.Xc.expiration}},{key:"ia",get:function(){return this.Bc}},{key:"ra",get:function(){return this.Xc.sessionId}}]),n}(Ge);function vo(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|y(i[1],16))}throw new fo(t.message,void 0,n,t)}var lo=function(){function t(t,n,i){this.ea=t,this.ua=n,this.oa=i}var n=t.prototype;return n.sa=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ho(this.ea.createSession(n),this.ua));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ca=function(t){return C.resolve(this.ea.setServerCertificate(t))},n.aa=function(t){return C.resolve(t.setMediaKeys(this.ea))},n.fa=function(t){return C.resolve(t.setMediaKeys(null))},t}(),wo=function(){function t(t,n,i){this.ha=t,this.zc=n,this.va=i}var n=t.prototype;return n.da=function(){var t=C.coroutine(jr.mark(function t(){var n;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ha.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new lo(n,this.zc,this.va));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.la=function(){return this.va},W(t,[{key:"ua",get:function(){return this.ha.keySystem}}]),t}();function yo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function go(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,wa:r.wa},o=!1;if(r.audioCapabilities){var s=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(u.audioCapabilities=s.filter(function(r){return _o(t,n,i,r)}),o=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(r){return _o(t,n,i,r)}),o=!0,u.videoCapabilities.length&&(e=!0))}return o||(e=t(i,"video/mp4")),e?u:void 0}}function _o(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ce(n,r.encryptionScheme))&&(!r.robustness&&t(i,yo(r.contentType))))}function po(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var o=u[e];if(o.contentType)return o.contentType}}function mo(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function ko(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(bo))||!(!t.videoCapabilities||!t.videoCapabilities.some(bo))}function bo(t){return!t.robustness}function To(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(Wr({},e,{robustness:n}))}return i}var Eo=function(){function t(){}return t.prototype.Ds=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o,c,a,f,h;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.wa}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=mo(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=mo(u.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(ko)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",Wr({},n=t,{videoCapabilities:n.videoCapabilities?To(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?To(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,s.requestMediaKeySystemAccess(n,o);case 7:return c=t.sent,a=c.getConfiguration(),t.abrupt("return",new wo(c,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,s.requestMediaKeySystemAccess(n,i);case 16:return f=t.sent,h=f.getConfiguration(),t.abrupt("return",new wo(f,n,h));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.ya=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),So=function(t){function n(n,i){var r;return(r=t.call(this)||this).Uc=!1,r.ga=void 0,r._a=void 0,r.pa=void 0,r.ma=void 0,r.ka=void 0,r.$c=function(){r.Uc=!0,r.ga.Pc(void 0),r.ka&&(r.ka.removeEventListener("mskeyclose",r.$c),r.ka.removeEventListener("mskeymessage",r.ba),r.ka.removeEventListener("mskeyerror",r.Ta),r.ka.removeEventListener("mskeyadded",r.Ea))},r.ba=function(t){r.pa&&(r.pa.Pc(void 0),r.pa=void 0),r.Js(new tu(on(r),"license-request",ro(t.message).buffer,t.destinationURL||void 0))},r.Ta=function(){var t=r.ka&&r.ka.error;if(t){var n=new fo("Unknown CDM error",t.code,t.systemCode);if(r.pa)r.pa.Lc(n),r.pa=void 0;else if(r._a)r._a.Lc(n),r._a=void 0;else switch(n.Fc){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.Sa("output-not-allowed");break;default:r.Sa("internal-error")}}},r.Ea=function(){r.pa&&(r.Sa("usable"),r.pa.Pc(void 0),r.pa=void 0),r._a&&(r.Sa("usable"),r._a.Pc(void 0),r._a=void 0)},r.Ra=n,r.Ia=i,r.ga=new uo,r.ma=new eu,r}$(n,t);var i=n.prototype;return i.Yc=function(){var t=C.coroutine(jr.mark(function t(n,i,r){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Aa(),this.pa=new uo,this.sa(no(i),r),t.next=5,this.pa.xc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sa=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.Ca;return(i=n?this.Ra.createSession(this.Ia,t,r):this.Ra.createSession(this.Ia,t)).addEventListener("mskeyclose",this.$c),i.addEventListener("mskeymessage",this.ba),i.addEventListener("mskeyerror",this.Ta),i.addEventListener("mskeyadded",this.Ea),this.ka=i,this.Sa("status-pending"),i},i.Kc=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Aa(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._a=new uo,this.Aa(),this.ka){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(i=no(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.ka.update(i),t.next=10,this._a.xc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Gc=function(){return!this.Uc&&this.ka&&(this.Uc=!0,this.ka.close()),this.ga.xc},i.Jc=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Aa(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Aa=function(){if(this.Uc)throw new d("Already closing or closed.")},i.Sa=function(t){this.ma.Tc(),this.ma.bc(ru,t),this.Js(new Ze(this))},W(n,[{key:"ra",get:function(){return this.ka&&this.ka.sessionId||""}},{key:"na",get:function(){return NaN}},{key:"ta",get:function(){return this.ga.xc}},{key:"ia",get:function(){return this.ma}}]),n}(Ge),Ro=function(){function t(t,n,i){this.Ia=void 0,this.Ra=t,this.ua=n,this.oa=i;var r=po(i)||"video/mp4";this.Ia=yo(r)}var n=t.prototype;return n.sa=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new So(this.Ra,this.Ia));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ca=function(t){return C.resolve(!1)},n.aa=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Ra):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Ra),t.removeEventListener("loadedmetadata",i)}),C.resolve()},n.fa=function(t){return C.resolve()},t}(),Io=function(){function t(t,n){this.zc=t,this.Da=n}var n=t.prototype;return n.la=function(){return this.Da},n.da=function(){var t=new R.MSMediaKeys(this.zc);return C.resolve(new Ro(t,this.zc,this.Da))},W(t,[{key:"ua",get:function(){return this.zc}}]),t}(),Ao=function(){function t(){}return t.prototype.Ds=function(t,n){try{return C.resolve(function(t,n){if(!Co())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=go(Do,Je,t,r);if(e)return new Io(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.ya=function(){return Co()},t}();function Co(){return void 0!==R.MSMediaKeys&&"function"==typeof R.MSMediaKeys.isTypeSupported}function Do(t,n){return R.MSMediaKeys.isTypeSupported(t,n)}var No,Oo,xo=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ga=new uo,e.Na=void 0,e.ma=new eu,e.Oa=void 0,e.xa=new uo,e.Ta=function(){var t=e.Oa&&e.Oa.error;if(t){var n=new fo("Unknown CDM error",t.code,t.systemCode);e.Na?(e.Na.Lc(n),e.Na=void 0):n.Fc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.Sa("output-not-allowed"):e.Sa("internal-error"),e.Js(new nu)}},e.ba=function(t){e.Na&&(e.Na.Pc(void 0),e.Na=void 0),e.Js(new tu(on(e),"license-request",ro(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Pa=n,e.Ia=i,e.La=r,e}$(n,t);var i=n.prototype;return i.Yc=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Fa;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=Po(no(n),r,this.La);return this.Oa=this.Pa.createSession(this.Ia,e),this.Oa.addEventListener("webkitkeymessage",this.ba,!1),this.Oa.addEventListener("webkitkeyerror",this.Ta,!1),this.Sa("usable"),this.xa.Pc(this.Oa),this.xa=new uo,C.resolve()},i.Kc=function(t){return C.resolve(!0)},i.Qc=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=no(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Na=new uo,t.t0=this.Oa,t.t0){t.next=9;break}return t.next=8,this.xa.xc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Na.xc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Gc=function(){var t=this.Oa;return t&&(t.removeEventListener("webkitkeymessage",this.ba,!1),t.removeEventListener("webkitkeyerror",this.Ta,!1),t.close()),this.xa.js(),this.ga.Pc(void 0),this.ga.xc},i.Jc=function(){return C.resolve(void 0)},i.Sa=function(t){this.ma.Tc(),this.ma.bc(ru,t),this.Js(new Ze(this))},W(n,[{key:"ra",get:function(){return this.Oa?this.Oa.sessionId:""}},{key:"na",get:function(){return NaN}},{key:"ta",get:function(){return this.ga.xc}},{key:"ia",get:function(){return this.ma}}]),n}(Ge);function Po(t,n,i){var r=Yu(t),e=2*r.length,u=2*n.length,o=new ArrayBuffer(4+e+4+u+4+i.byteLength),s=new DataView(o),c=new eo;return Lu(s,c,e,!0),ju(s,c,r,!0),Lu(s,c,u,!0),ju(s,c,n,!0),Lu(s,c,i.byteLength,!0),function(t,n,i){Zu(t).set(Zu(i),n.Cc),n.Rc(i.byteLength)}(s,c,i),new p(o)}(No=n.ErrorCode||(n.ErrorCode={}))[No.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",No[No.LICENSE_ERROR=2e3]="LICENSE_ERROR",No[No.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",No[No.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",No[No.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",No[No.SOURCE_INVALID=3e3]="SOURCE_INVALID",No[No.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",No[No.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",No[No.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",No[No.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",No[No.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",No[No.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",No[No.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",No[No.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",No[No.MEDIA_ABORTED=5004]="MEDIA_ABORTED",No[No.NETWORK_ERROR=6e3]="NETWORK_ERROR",No[No.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",No[No.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",No[No.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",No[No.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",No[No.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",No[No.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",No[No.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",No[No.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",No[No.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",No[No.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",No[No.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",No[No.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",No[No.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",No[No.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",No[No.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",No[No.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",No[No.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",No[No.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",No[No.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",No[No.AD_ERROR=1e4]="AD_ERROR",No[No.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",No[No.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Oo=n.ErrorCategory||(n.ErrorCategory={}))[Oo.CONFIGURATION=1]="CONFIGURATION",Oo[Oo.LICENSE=2]="LICENSE",Oo[Oo.SOURCE=3]="SOURCE",Oo[Oo.MANIFEST=4]="MANIFEST",Oo[Oo.MEDIA=5]="MEDIA",Oo[Oo.NETWORK=6]="NETWORK",Oo[Oo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Oo[Oo.SUBTITLE=8]="SUBTITLE",Oo[Oo.VR=9]="VR",Oo[Oo.AD=10]="AD",Oo[Oo.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Lo=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return $(i,t),W(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(cn),Fo=function(){function t(t,n,i){this.Ia=void 0,this.La=void 0,this.Pa=t,this.ua=n,this.oa=i;var r=po(i)||"video/mp4";this.Ia=yo(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Pa},i.sa=function(){var t=C.coroutine(jr.mark(function t(i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.La){t.next=2;break}throw new Lo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new xo(this.Pa,this.Ia,this.La));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ca=function(t){return this.La=no(t),C.resolve(!0)},i.aa=function(t){return t.webkitSetMediaKeys(this.Pa),C.resolve()},i.fa=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Mo=function(){function t(t,n){this.zc=t,this.Da=n}var n=t.prototype;return n.la=function(){return this.Da},n.da=function(){var t=new R.WebKitMediaKeys(this.zc);return C.resolve(new Fo(t,this.zc,this.Da))},W(t,[{key:"ua",get:function(){return this.zc}}]),t}(),Bo=function(){function t(){}return t.prototype.Ds=function(t,n){try{return C.resolve(function(t,n){if(t!==ce)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Uo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=go(Vo,Qe,t,r);if(e)return new Mo(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.ya=function(){return Uo()},t}();function Uo(){return void 0!==R.WebKitMediaKeys&&"function"==typeof R.WebKitMediaKeys.isTypeSupported}function Vo(t,n){return R.WebKitMediaKeys.isTypeSupported(t,n)}var qo,Ho=function(){function t(t){this.Ma=t}return t.prototype.Ds=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Ma;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.Ds(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),jo=function(t){function n(n){var i;return(i=t.call(this)||this).pa=void 0,i.Na=void 0,i.ga=void 0,i.Ba=!1,i.Ua=void 0,i.Va=void 0,i.qa=void 0,i.Ha=void 0,i.ja=void 0,i.zc=n,i.ga=new uo,i.Va="",i.ja=new uo,i.qa=new eu,i}$(n,t);var i=n.prototype;return i.Wa=function(){this.Na&&(this.Sa("usable"),this.Na.Pc(void 0),this.Na=void 0)},i.za=function(t){var n=new fo("Unknown CDM error",t.errorCode,t.systemCode);this.Na?(this.Na.Lc(n),this.Na=void 0):this.pa?(this.pa.Lc(n),this.pa=void 0):n.Fc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Sa("output-restricted"):1===n.Mc?this.Sa("expired"):this.Sa("internal-error")},i.$a=function(t){0!==t.message.byteLength&&(this.pa&&(this.pa.Pc(void 0),this.pa=void 0),this.Js(new tu(this,"license-request",co(this.zc,ro(t.message).buffer),t.defaultURL||void 0)))},i.Xa=function(t){this.Ha||(this.Ha=t,this.ja.Pc(t))},i.Gc=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Ba=!0,this.ga.Pc(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yc=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.pa=new uo,this.Ua=no(i),t.t0=this.Ha,t.t0){t.next=8;break}return t.next=7,this.ja.xc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.zc,this.Ua),t.next=12,this.pa.xc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Kc=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Jc=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Qc=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Na=new uo,t.t0=this.Ha,t.t0){t.next=7;break}return t.next=6,this.ja.xc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.zc,no(n),this.Ua,this.ra),t.next=11,this.Na.xc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Ba)throw new d("Already closing or closed.")},i.Sa=function(t){this.qa.Tc(),this.qa.bc(ru,t),this.Js(new Ze(this))},W(n,[{key:"ia",get:function(){return this.qa}},{key:"ra",get:function(){return this.Va},set:function(t){this.Va=t}},{key:"ta",get:function(){return this.ga.xc}},{key:"na",get:function(){return NaN}}]),n}(Ge),Wo=function(){function t(t,n){var i=this;this.Ha=void 0,this.Ga=$r(),this.Ya=[],this.Ea=function(t){var n=i.Ka(t.sessionId);n&&n.Wa()},this.Ja=function(t){var n=i.Ka(t.sessionId);n&&n.za(t)},this.Qa=function(t){var n=i.Ka(t.sessionId);n&&n.$a(t)},this.ua=t,this.oa=n}var n=t.prototype;return n.aa=function(t){return this.Ha=t,this.Ha.addEventListener("webkitkeyadded",this.Ea),this.Ha.addEventListener("webkitkeyerror",this.Ja),this.Ha.addEventListener("webkitkeymessage",this.Qa),this.Ga.forEach(function(n,i){return n.Xa(t)}),this.Ya.forEach(function(n){return n.Xa(t)}),C.resolve()},n.fa=function(t){return t.removeEventListener("webkitkeyadded",this.Ea),t.removeEventListener("webkitkeyerror",this.Ja),t.removeEventListener("webkitkeymessage",this.Qa),this.Ha=void 0,C.resolve()},n.sa=function(){var t=C.coroutine(jr.mark(function t(n,i,r){var e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new jo(this.ua),this.Ha&&e.Xa(this.Ha),this.Ya.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.ca=function(t){return C.resolve(!1)},n.Ka=function(t){if(t){var n=this.Ga.get(t);return n||((n=this.Ya.shift())?(n.ra=t,this.Ga.set(t,n),n):void 0)}},t}(),zo=function(){function t(t,n){this.ua=t,this.Za=n}var n=t.prototype;return n.da=function(){return C.resolve(new Wo(this.ua,this.Za))},n.la=function(){return this.Za},t}(),$o=function(){function t(){}return t.prototype.Ds=function(t,n){try{return C.resolve(Xo(t,n))}catch(t){return C.reject(t)}},t.ya=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Xo(t,n){if(!$o.ya())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=go(Go,Je,t,r);if(e)return new zo(t,e)}throw new d("Unsupported key system configuration for "+t)}function Go(t,n){var i=Er();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Yo(){return qo||(qo=function(){var t=[];Bo.ya()&&t.push(new Bo);Eo.ya()&&t.push(new Eo);Ao.ya()&&t.push(new Ao);$o.ya()&&t.push(new $o);return new Ho(t)}()),qo}var Ko=function(){function t(){this.tf=$r()}var n=t.prototype;return n.Tc=function(t){this.tf.delete(t)},n.nf=function(){this.tf.clear()},n.mc=function(t){return this.tf.get(t)},n.if=function(t,n){this.tf.set(t,n)},t}(),Jo=function(){function t(){}return t.rf=function(){return t.ou||(t.ou=Qo.ya()?new Qo:new Ko),t.ou},t.Tc=function(n){t.rf().Tc(n)},t.nf=function(){t.rf().nf()},t.mc=function(n){return t.rf().mc(n)},t.if=function(n,i){t.rf().if(n,i)},t}();Jo.ou=void 0;var Qo=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.ya=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Tc=function(n){t.sessionStorage.removeItem(n)},r.nf=function(){t.sessionStorage.clear()},r.mc=function(n){return t.sessionStorage[n]},r.if=function(n,i){t.sessionStorage[n]=i},i}(Jo);var Zo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function ts(t,n,i){var r=Zo([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),o=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=u.createElement("a");s.href=e,s.download=o,u.body.appendChild(s),s.click(),u.body.removeChild(s),URL.revokeObjectURL(e)}var ns,is;!function(t){t.ef="uf",t.sf="cf",t.af="contentprotectionerror",t.ff="contentprotectionsuccess",t.hf="currentsourcechange",t.vf="destroy",t.df="durationchange",t.lf="emptied",t.dc="encrypted",t.wf="ended",t.yf="gf",t._f="loadstart",t.pf="manifestupdate",t.mf="nosupportedrepresentationfound",t.kf="offline",t.bf="online",t.Tf="pause",t.Ef="play",t.Sf="progress",t.Rf="ratechange",t.If="representationchange",t.Af="resize",t.Cf="seeked",t.Df="seeking",t.Nf="segmentnotfound",t.Of="xf",t.Pf="Lf",t.Ff="sourcechange",t.Mf="timeupdate",t.Bf="volumechange",t.Uf="Vf",t.qf="metricschange"}(ns||(ns={})),function(t){t.Hf="arraybuffer",t.jf="json",t.Wf="stream",t.hu="text"}(is||(is={}));var rs=function(){function t(n){var i=this;this.ds=void 0,this.ds={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=es(i),r=us(r);var e=i.toLowerCase();if(this.ds.hasOwnProperty(e)){var u=this.ds[e],o=u[1];u[1]=o?o+", "+r:r}else this.ds[e]=[i,r]},n.delete=function(t){var n=es(t).toLowerCase();delete this.ds[n]},n.get=function(t){var n=es(t).toLowerCase();return this.ds.hasOwnProperty(n)?this.ds[n][1]:null},n.has=function(t){var n=es(t).toLowerCase();return this.ds.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=es(i)).toLowerCase();this.ds[r]=[i,us(n)]},n.forEach=function(t,n){for(var i in this.ds)this.ds.hasOwnProperty(i)&&t.call(n,this.ds[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.ds)if(this.ds.hasOwnProperty(n)){var i=this.ds[n],r=i[0],e=i[1];t.push([r,e])}return t},n.zf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.$f=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Xf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function es(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function us(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function ss(){}var cs=Number.isNaN||function(t){return t!=t},as=ss;function fs(t){return"object"==typeof t&&null!==t||"function"==typeof t}function hs(t){return t.slice()}function vs(t){return!1!==function(t){if("number"!=typeof t)return!1;if(cs(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function ds(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ls(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ys(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ys(e,t,i)}}}return function(){return Ss(void 0)}}function ws(t,n,i){var r=t[n];if(void 0!==r)return ds(r,t,i)}function ys(t,n,i){try{return Ss(ds(t,n,i))}catch(t){return Rs(t)}}function gs(t){return t}function _s(t){if(t=Number(t),cs(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function ps(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ms=C,ks=C.prototype.then,bs=C.resolve.bind(ms),Ts=C.reject.bind(ms);function Es(t){return new ms(t)}function Ss(t){return bs(t)}function Rs(t){return Ts(t)}function Is(t,n,i){return ks.call(t,n,i)}function As(t,n,i){Is(Is(t,n,i),void 0,as)}function Cs(t,n){As(t,n)}function Ds(t,n){As(t,void 0,n)}function Ns(t,n,i){return Is(t,n,i)}function Os(t){Is(t,void 0,as)}var xs=function(){function t(){this.Gf=0,this.Yf=0,this.mi={Kf:[],Jf:void 0},this.Qf=this.mi,this.Gf=0,this.Yf=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Yf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Qf,i=n;16383===n.Kf.length&&(i={Kf:[],Jf:void 0}),n.Kf.push(t),i!==n&&(this.Qf=i,n.Jf=i),++this.Yf},t.prototype.shift=function(){var t=this.mi,n=t,i=this.Gf,r=i+1,e=t.Kf,u=e[i];return 16384===r&&(n=t.Jf,r=0),--this.Yf,this.Gf=r,t!==n&&(this.mi=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Gf,i=this.mi,r=i.Kf;!(n===r.length&&void 0===i.Jf||n===r.length&&(n=0,0===(r=(i=i.Jf).Kf).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.mi,n=this.Gf;return t.Kf[n]},t}();function Ps(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function Ls(t,n){t.Zf=!0,t.th=n,n.nh=t,"readable"===n.ih?Us(t):"closed"===n.ih?function(t){Us(t),Hs(t)}(t):Vs(t,n.rh)}function Fs(t,n){return $a(t.th,n)}function Ms(t){"readable"===t.th.ih?qs(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Vs(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.th.nh=void 0,t.th=void 0}function Bs(t){return new d("Cannot "+t+" a stream using a released reader")}function Us(t){t.Vc=Es(function(n,i){t.eh=n,t.uh=i})}function Vs(t,n){Us(t),qs(t,n)}function qs(t,n){Os(t.Vc),t.uh(n),t.eh=void 0,t.uh=void 0}function Hs(t){t.eh(void 0),t.eh=void 0,t.uh=void 0}var js=os("[[CancelSteps]]"),Ws=os("[[PullSteps]]");function zs(t,n){void 0===n&&(n=!1);var i=new Qs(t);return i.Zf=n,i}function $s(t){return Es(function(n,i){var r={Fn:n,V:i};t.nh.oh.push(r)})}function Xs(t,n,i){var r=t.nh;r.oh.shift().Fn(Ps(n,i,r.Zf))}function Gs(t){return t.nh.oh.length}function Ys(t){var n=t.nh;return void 0!==n&&!!Zs(n)}var Ks,Js,Qs=function(){function t(t){if(!1===Wa(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===za(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ls(this,t),this.oh=new xs}return l.defineProperty(t.prototype,"closed",{get:function(){return Zs(this)?this.Vc:Rs(nc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Zs(this)?void 0===this.th?Rs(Bs("cancel")):Fs(this,t):Rs(nc("cancel"))},t.prototype.read=function(){return Zs(this)?void 0===this.th?Rs(Bs("read from")):tc(this):Rs(nc("read"))},t.prototype.releaseLock=function(){if(!Zs(this))throw nc("releaseLock");if(void 0!==this.th){if(this.oh.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ms(this)}},t}();function Zs(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"oh")}function tc(t){var n=t.th;return n.sh=!0,"closed"===n.ih?Ss(Ps(void 0,!0,t.Zf)):"errored"===n.ih?Rs(n.rh):n.ah[Ws]()}function nc(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof os.asyncIterator&&((Ks={})[os.asyncIterator]=function(){return this},Js=Ks,l.defineProperty(Js,os.asyncIterator,{enumerable:!1}));var ic={next:function(){if(!1===rc(this))return Rs(ec("next"));var t=this.fh;return void 0===t.th?Rs(Bs("iterate")):Ns(tc(t),function(n){var i=n.done;return i&&Ms(t),Ps(n.value,i,!0)})},return:function(t){if(!1===rc(this))return Rs(ec("next"));var n=this.fh;if(void 0===n.th)return Rs(Bs("finish iterating"));if(n.oh.length>0)return Rs(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hh){var i=Fs(n,t);return Ms(n),Ns(i,function(){return Ps(t,!0,!0)})}return Ms(n),Ss(Ps(t,!0,!0))}};function rc(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"fh")}function ec(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function uc(t){var n=t.Dn.shift();return t.vh-=n.size,t.vh<0&&(t.vh=0),n.value}function oc(t,n,i){if(!vs(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Dn.push({value:n,size:i}),t.vh+=i}function sc(t){t.Dn=new xs,t.vh=0}void 0!==Js&&l.setPrototypeOf(ic,Js),l.defineProperty(ic,"next",{enumerable:!1}),l.defineProperty(ic,"return",{enumerable:!1});var cc=os("[[AbortSteps]]"),ac=os("[[ErrorSteps]]"),fc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),vc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=ps(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Dc.prototype);var u=ls(n,"write",1,[e]),o=ls(n,"close",0,[]),s=ls(n,"abort",1,[]);Nc(t,e,function(){return ws(n,"start",[e])},u,o,s,i,r)}(this,t,r=_s(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===dc(this))throw Bc("locked");return lc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===dc(this)?Rs(Bc("abort")):!0===lc(this)?Rs(new d("Cannot abort a stream that already has a writer")):wc(this,t)},t.prototype.close=function(){return!1===dc(this)?Rs(Bc("close")):!0===lc(this)?Rs(new d("Cannot close a stream that already has a writer")):!0===mc(this)?Rs(new d("Cannot close an already-closing stream")):yc(this)},t.prototype.getWriter=function(){if(!1===dc(this))throw Bc("getWriter");return hc(this)},t}();function hc(t){return new Tc(t)}function vc(t){t.ih="writable",t.rh=void 0,t.dh=void 0,t.lh=void 0,t.wh=new xs,t.yh=void 0,t.gh=void 0,t._h=void 0,t.ph=void 0,t.mh=!1}function dc(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"lh")}function lc(t){return void 0!==t.dh}function wc(t,n){var i=t.ih;if("closed"===i||"errored"===i)return Ss(void 0);if(void 0!==t.ph)return t.ph.un;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Es(function(i,e){t.ph={un:void 0,Fn:i,V:e,Sn:n,kh:r}});return t.ph.un=e,!1===r&&_c(t,n),e}function yc(t){var n=t.ih;if("closed"===n||"errored"===n)return Rs(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=Es(function(n,i){var r={Fn:n,V:i};t.gh=r}),e=t.dh;return void 0!==e&&!0===t.mh&&"writable"===n&&Yc(e),oc(i=t.lh,"close",0),Pc(i),r}function gc(t,n){"writable"!==t.ih?pc(t):_c(t,n)}function _c(t,n){var i=t.lh;t.ih="erroring",t.rh=n;var r=t.dh;void 0!==r&&Ic(r,n),!1===function(t){if(void 0===t.yh&&void 0===t._h)return!1;return!0}(t)&&!0===i.bh&&pc(t)}function pc(t){t.ih="errored",t.lh[ac]();var n=t.rh;if(t.wh.forEach(function(t){t.V(n)}),t.wh=new xs,void 0!==t.ph){var i=t.ph;if(t.ph=void 0,!0===i.kh)return i.V(n),void kc(t);As(t.lh[cc](i.Sn),function(){i.Fn(),kc(t)},function(n){i.V(n),kc(t)})}else kc(t)}function mc(t){return void 0!==t.gh||void 0!==t._h}function kc(t){void 0!==t.gh&&(t.gh.V(t.rh),t.gh=void 0);var n=t.dh;void 0!==n&&jc(n,t.rh)}function bc(t,n){var i=t.dh;void 0!==i&&n!==t.mh&&(!0===n?function(t){zc(t)}(i):Yc(i)),t.mh=n}var Tc=function(){function t(t){if(!1===dc(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===lc(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.Th=t,t.dh=this;var n,i=t.ih;if("writable"===i)!1===mc(t)&&!0===t.mh?zc(this):Xc(this),qc(this);else if("erroring"===i)$c(this,t.rh),qc(this);else if("closed"===i)Xc(this),qc(n=this),Wc(n);else{var r=t.rh;$c(this,r),Hc(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===Ec(this)?Rs(Uc("closed")):this.Vc},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ec(this))throw Uc("desiredSize");if(void 0===this.Th)throw Vc("desiredSize");return function(t){var n=t.Th,i=n.ih;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return xc(n.lh)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===Ec(this)?Rs(Uc("ready")):this.Eh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Ec(this)?Rs(Uc("abort")):void 0===this.Th?Rs(Vc("abort")):function(t,n){return wc(t.Th,n)}(this,t)},t.prototype.close=function(){if(!1===Ec(this))return Rs(Uc("close"));var t=this.Th;return void 0===t?Rs(Vc("close")):!0===mc(t)?Rs(new d("Cannot close an already-closing stream")):Sc(this)},t.prototype.releaseLock=function(){if(!1===Ec(this))throw Uc("releaseLock");void 0!==this.Th&&Ac(this)},t.prototype.write=function(t){return!1===Ec(this)?Rs(Uc("write")):void 0===this.Th?Rs(Vc("write to")):Cc(this,t)},t}();function Ec(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"Th")}function Sc(t){return yc(t.Th)}function Rc(t,n){"pending"===t.Sh?jc(t,n):function(t,n){Hc(t,n)}(t,n)}function Ic(t,n){"pending"===t.Rh?Gc(t,n):function(t,n){$c(t,n)}(t,n)}function Ac(t){var n=t.Th,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Ic(t,i),Rc(t,i),n.dh=void 0,t.Th=void 0}function Cc(t,n){var i=t.Th,r=i.lh,e=function(t,n){try{return t.Ih(n)}catch(n){return Lc(t,n),1}}(r,n);if(i!==t.Th)return Rs(Vc("write to"));var u=i.ih;if("errored"===u)return Rs(i.rh);if(!0===mc(i)||"closed"===u)return Rs(new d("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Rs(i.rh);var o=function(t){return Es(function(n,i){var r={Fn:n,V:i};t.wh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{oc(t,r,i)}catch(n){return void Lc(t,n)}var e=t.Ah;if(!1===mc(e)&&"writable"===e.ih){var u=Fc(t);bc(e,u)}Pc(t)}(r,n,e),o}var Dc=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!fs(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"Ah"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Ah.ih&&Mc(this,t)},t.prototype[cc]=function(t){var n=this.Ch(t);return Oc(this),n},t.prototype[ac]=function(){sc(this)},t}();function Nc(t,n,i,r,e,u,o,s){n.Ah=t,t.lh=n,n.Dn=void 0,n.vh=void 0,sc(n),n.bh=!1,n.Ih=s,n.Dh=o,n.Nh=r,n.Oh=e,n.Ch=u;var c=Fc(n);bc(t,c),As(Ss(i()),function(){n.bh=!0,Pc(n)},function(i){n.bh=!0,gc(t,i)})}function Oc(t){t.Nh=void 0,t.Oh=void 0,t.Ch=void 0,t.Ih=void 0}function xc(t){return t.Dh-t.vh}function Pc(t){var n=t.Ah;if(!1!==t.bh&&void 0===n.yh)if("erroring"!==n.ih){if(0!==t.Dn.length){var i=t.Dn.peek().value;"close"===i?function(t){var n=t.Ah;(function(t){t._h=t.gh,t.gh=void 0})(n),uc(t);var i=t.Oh();Oc(t),As(i,function(){!function(t){t._h.Fn(void 0),t._h=void 0,"erroring"===t.ih&&(t.rh=void 0,void 0!==t.ph&&(t.ph.Fn(),t.ph=void 0)),t.ih="closed";var n=t.dh;void 0!==n&&Wc(n)}(n)},function(t){!function(t,n){t._h.V(n),t._h=void 0,void 0!==t.ph&&(t.ph.V(n),t.ph=void 0),gc(t,n)}(n,t)})}(t):function(t,n){var i=t.Ah;(function(t){t.yh=t.wh.shift()})(i),As(t.Nh(n),function(){!function(t){t.yh.Fn(void 0),t.yh=void 0}(i);var n=i.ih;if(uc(t),!1===mc(i)&&"writable"===n){var r=Fc(t);bc(i,r)}Pc(t)},function(n){"writable"===i.ih&&Oc(t),function(t,n){t.yh.V(n),t.yh=void 0,gc(t,n)}(i,n)})}(t,i.chunk)}}else pc(n)}function Lc(t,n){"writable"===t.Ah.ih&&Mc(t,n)}function Fc(t){return xc(t)<=0}function Mc(t,n){var i=t.Ah;Oc(t),_c(i,n)}function Bc(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Uc(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Vc(t){return new d("Cannot "+t+" a stream using a released writer")}function qc(t){t.Vc=Es(function(n,i){t.eh=n,t.uh=i,t.Sh="pending"})}function Hc(t,n){qc(t),jc(t,n)}function jc(t,n){Os(t.Vc),t.uh(n),t.eh=void 0,t.uh=void 0,t.Sh="rejected"}function Wc(t){t.eh(void 0),t.eh=void 0,t.uh=void 0,t.Sh="resolved"}function zc(t){t.Eh=Es(function(n,i){t.xh=n,t.Ph=i}),t.Rh="pending"}function $c(t,n){zc(t),Gc(t,n)}function Xc(t){zc(t),Yc(t)}function Gc(t,n){Os(t.Eh),t.Ph(n),t.xh=void 0,t.Ph=void 0,t.Rh="rejected"}function Yc(t){t.xh(void 0),t.xh=void 0,t.Ph=void 0,t.Rh="fulfilled"}function Kc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Jc="undefined"!=typeof DOMException?DOMException:void 0;var Qc,Zc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Jc)?Jc:((Qc=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Qc.prototype,"constructor",{value:Qc,writable:!0,configurable:!0}),Qc);function ta(t,n,i,r,e,u){var o=zs(t),s=hc(n);t.sh=!0;var c=!1,a=Ss(void 0);return Es(function(f,h){var v,l,w,y;if(void 0!==u){if(v=function(){var i=new Zc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.ih?wc(n,i):Ss(void 0)}),!1===e&&u.push(function(){return"readable"===t.ih?$a(t,i):Ss(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(p(t,o.Vc,function(t){!1===r?m(function(){return wc(n,t)},!0,t):k(!0,t)}),p(n,s.Vc,function(n){!1===e?m(function(){return $a(t,n)},!0,n):k(!0,n)}),l=t,w=o.Vc,y=function(){!1===i?m(function(){return function(t){var n=t.Th,i=n.ih;return!0===mc(n)||"closed"===i?Ss(void 0):"errored"===i?Rs(n.rh):Sc(t)}(s)}):k()},"closed"===l.ih?y():Cs(w,y),!0===mc(n)||"closed"===n.ih){var g=new d("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return $a(t,g)},!0,g):k(!0,g)}function _(){var t=a;return Is(a,function(){return t!==a?_():void 0})}function p(t,n,i){"errored"===t.ih?i(t.rh):Ds(n,i)}function m(t,i,r){function e(){As(t(),function(){return b(i,r)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.ih&&!1===mc(n)?Cs(_(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.ih&&!1===mc(n)?Cs(_(),function(){return b(t,i)}):b(t,i))}function b(t,n){Ac(s),Ms(o),void 0!==u&&u.removeEventListener("abort",v),t?h(n):f(void 0)}Os(Es(function(t,n){!function i(r){r?t():Is(!0===c?Ss(!0):Is(s.Eh,function(){return Is(tc(o),function(t){return!0===t.done||(a=Is(Cc(s,t.value),void 0,ss),!1)})}),i,n)}(!1)}))})}var na=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ia(this))throw va("desiredSize");return aa(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ia(this))throw va("close");if(!1===fa(this))throw new d("The stream is not in a state that permits close");oa(this)},t.prototype.enqueue=function(t){if(!1===ia(this))throw va("enqueue");if(!1===fa(this))throw new d("The stream is not in a state that permits enqueue");return sa(this,t)},t.prototype.error=function(t){if(!1===ia(this))throw va("error");ca(this,t)},t.prototype[js]=function(t){sc(this);var n=this.Lh(t);return ua(this),n},t.prototype[Ws]=function(){var t=this.Fh;if(this.Dn.length>0){var n=uc(this);return!0===this.Mh&&0===this.Dn.length?(ua(this),Xa(t)):ra(this),Ss(Ps(n,!1,t.nh.Zf))}var i=$s(t);return ra(this),i},t}();function ia(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"Fh")}function ra(t){!1!==ea(t)&&(!0!==t.Bh?(t.Bh=!0,As(t.Uh(),function(){t.Bh=!1,!0===t.Vh&&(t.Vh=!1,ra(t))},function(n){ca(t,n)})):t.Vh=!0)}function ea(t){var n=t.Fh;return!1!==fa(t)&&(!1!==t.bh&&(!0===za(n)&&Gs(n)>0||aa(t)>0))}function ua(t){t.Uh=void 0,t.Lh=void 0,t.Ih=void 0}function oa(t){var n=t.Fh;t.Mh=!0,0===t.Dn.length&&(ua(t),Xa(n))}function sa(t,n){var i=t.Fh;if(!0===za(i)&&Gs(i)>0)Xs(i,n,!1);else{var r=void 0;try{r=t.Ih(n)}catch(n){throw ca(t,n),n}try{oc(t,n,r)}catch(n){throw ca(t,n),n}}ra(t)}function ca(t,n){var i=t.Fh;"readable"===i.ih&&(sc(t),ua(t),Ga(i,n))}function aa(t){var n=t.Fh.ih;return"errored"===n?null:"closed"===n?0:t.Dh-t.vh}function fa(t){var n=t.Fh.ih;return!1===t.Mh&&"readable"===n}function ha(t,n,i,r,e,u,o){n.Fh=t,n.Dn=void 0,n.vh=void 0,sc(n),n.bh=!1,n.Mh=!1,n.Vh=!1,n.Bh=!1,n.Ih=o,n.Dh=u,n.Uh=r,n.Lh=e,t.ah=n,As(Ss(i()),function(){n.bh=!0,ra(n)},function(t){ca(n,t)})}function va(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var da=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},la=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===ga(this))throw xa("view");return this.qh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===ga(this))throw xa("respond");if(void 0===this.Hh)throw new d("This BYOB request has been invalidated");this.qh.buffer,function(t,n){if(!1===vs(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Ia(t,n)}(this.Hh,t)},t.prototype.respondWithNewView=function(t){if(!1===ga(this))throw xa("respond");if(void 0===this.Hh)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.jh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Ia(t,n.byteLength)}(this.Hh,t)},t}(),wa=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===ya(this))throw Pa("byobRequest");if(void 0===this.Wh&&this.jh.length>0){var t=this.jh.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(la.prototype);!function(t,n,i){t.Hh=n,t.qh=i}(i,this,n),this.Wh=i}return this.Wh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ya(this))throw Pa("desiredSize");return Na(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ya(this))throw Pa("close");if(!0===this.Mh)throw new d("The stream has already been closed; do not close it again!");var t=this.zh.ih;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.zh;if(t.vh>0)return void(t.Mh=!0);if(t.jh.length>0){var i=t.jh.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw Da(t,r),r}}Ca(t),Xa(n)}(this)},t.prototype.enqueue=function(t){if(!1===ya(this))throw Pa("enqueue");if(!0===this.Mh)throw new d("stream is closed or draining");var n=this.zh.ih;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.zh,r=n.buffer,e=n.byteOffset,u=n.byteLength,o=gs(r);if(!0===Ys(i))if(0===Gs(i))ka(t,o,e,u);else{var s=new p(o,e,u);Xs(i,s,!1)}else!0===Ma(i)?(ka(t,o,e,u),Ra(t)):ka(t,o,e,u);_a(t)}(this,t)},t.prototype.error=function(t){if(!1===ya(this))throw Pa("error");Da(this,t)},t.prototype[js]=function(t){this.jh.length>0&&(this.jh.peek().bytesFilled=0);sc(this);var n=this.Lh(t);return Ca(this),n},t.prototype[Ws]=function(){var t=this.zh;if(this.vh>0){var n=this.Dn.shift();this.vh-=n.byteLength,Ea(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Rs(t)}return Ss(Ps(i,!1,t.nh.Zf))}var r=this.$h;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Rs(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.jh.push(u)}var o=$s(t);return _a(this),o},t}();function ya(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"zh")}function ga(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"Hh")}function _a(t){!1!==function(t){var n=t.zh;if("readable"!==n.ih)return!1;if(!0===t.Mh)return!1;if(!1===t.bh)return!1;if(!0===Ys(n)&&Gs(n)>0)return!0;if(!0===Ma(n)&&Fa(n)>0)return!0;if(Na(t)>0)return!0;return!1}(t)&&(!0!==t.Bh?(t.Bh=!0,As(t.Uh(),function(){t.Bh=!1,!0===t.Vh&&(t.Vh=!1,_a(t))},function(n){Da(t,n)})):t.Vh=!0)}function pa(t,n){var i=!1;"closed"===t.ih&&(i=!0);var r=ma(n);"default"===n.readerType?Xs(t,r,i):function(t,n,i){var r=t.nh;r.Xh.shift().Fn(Ps(n,i,r.Zf))}(t,r,i)}function ma(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function ka(t,n,i,r){t.Dn.push({buffer:n,byteOffset:i,byteLength:r}),t.vh+=r}function ba(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=w.min(t.vh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,o=u-u%i,s=e,c=!1;o>r&&(s=o-n.bytesFilled,c=!0);for(var a,f,h,v,d,l=t.Dn;s>0;){var y=l.peek(),g=w.min(s,y.byteLength),_=n.byteOffset+n.bytesFilled;a=n.buffer,f=_,h=y.buffer,v=y.byteOffset,d=g,new p(a).set(new p(h,v,d),f),y.byteLength===g?l.shift():(y.byteOffset+=g,y.byteLength-=g),t.vh-=g,Ta(t,g,n),s-=g}return c}function Ta(t,n,i){Sa(t),i.bytesFilled+=n}function Ea(t){0===t.vh&&!0===t.Mh?(Ca(t),Xa(t.zh)):_a(t)}function Sa(t){void 0!==t.Wh&&(t.Wh.Hh=void 0,t.Wh.qh=void 0,t.Wh=void 0)}function Ra(t){for(;t.jh.length>0;){if(0===t.vh)return;var n=t.jh.peek();!0===ba(t,n)&&(Aa(t),pa(t.zh,n))}}function Ia(t,n){var i=t.jh.peek();if("closed"===t.zh.ih){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=gs(n.buffer);var i=t.zh;if(!0===Ma(i))for(;Fa(i)>0;)pa(i,Aa(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Ta(t,n,i),!(i.bytesFilled<i.elementSize)){Aa(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);ka(t,u,0,u.byteLength)}i.buffer=gs(i.buffer),i.bytesFilled-=r,pa(t.zh,i),Ra(t)}}(t,n,i);_a(t)}function Aa(t){var n=t.jh.shift();return Sa(t),n}function Ca(t){t.Uh=void 0,t.Lh=void 0}function Da(t,n){var i=t.zh;"readable"===i.ih&&(!function(t){Sa(t),t.jh=new xs}(t),sc(t),Ca(t),Ga(i,n))}function Na(t){var n=t.zh.ih;return"errored"===n?null:"closed"===n?0:t.Dh-t.vh}function Oa(t,n,i){var r=l.create(wa.prototype);var e=ls(n,"pull",0,[r]),u=ls(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===da(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,o){n.zh=t,n.Vh=!1,n.Bh=!1,n.Wh=void 0,n.Dn=n.vh=void 0,sc(n),n.Mh=!1,n.bh=!1,n.Dh=_s(u),n.Uh=r,n.Lh=e,n.$h=o,n.jh=new xs,t.ah=n,As(Ss(i()),function(){n.bh=!0,_a(n)},function(t){Da(n,t)})}(t,r,function(){return ws(n,"start",[r])},e,u,i,o)}function xa(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Pa(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function La(t){return Es(function(n,i){var r={Fn:n,V:i};t.nh.Xh.push(r)})}function Fa(t){return t.nh.Xh.length}function Ma(t){var n=t.nh;return void 0!==n&&!!Ua(n)}var Ba=function(){function t(t){if(!Wa(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===ya(t.ah))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(za(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ls(this,t),this.Xh=new xs}return l.defineProperty(t.prototype,"closed",{get:function(){return Ua(this)?this.Vc:Rs(Va("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ua(this)?void 0===this.th?Rs(Bs("cancel")):Fs(this,t):Rs(Va("cancel"))},t.prototype.read=function(t){return Ua(this)?void 0===this.th?Rs(Bs("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Rs(new d("view must have non-zero byteLength")):function(t,n){var i=t.th;if(i.sh=!0,"errored"===i.ih)return Rs(i.rh);return function(t,n){var i=t.zh,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:gs(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.jh.length>0)return t.jh.push(u),La(i);if("closed"===i.ih)return Ss(Ps(new e(u.buffer,u.byteOffset,0),!0,i.nh.Zf));if(t.vh>0){if(!0===ba(t,u)){var o=ma(u);return Ea(t),Ss(Ps(o,!1,i.nh.Zf))}if(!0===t.Mh){var s=new d("Insufficient bytes to fill elements in the given buffer");return Da(t,s),Rs(s)}}t.jh.push(u);var c=La(i);return _a(t),c}(i.ah,n)}(this,t)):Rs(new d("view must be an array buffer view")):Rs(Va("read"))},t.prototype.releaseLock=function(){if(!Ua(this))throw Va("releaseLock");if(void 0!==this.th){if(this.Xh.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ms(this)}},t}();function Ua(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"Xh")}function Va(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var qa=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),ja(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Oa(this,t,r=_s(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=ps(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(na.prototype),u=ls(n,"pull",0,[e]),o=ls(n,"cancel",1,[]);ha(t,e,function(){return ws(n,"start",[e])},u,o,i,r)}(this,t,r=_s(r),u)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Wa(this))throw Ya("locked");return za(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Wa(this)?Rs(Ya("cancel")):!0===za(this)?Rs(new d("Cannot cancel a stream that already has a reader")):$a(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Wa(this))throw Ya("getReader");if(void 0===n)return zs(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Ba(t);return i.Zf=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,o=e.preventAbort,s=e.preventCancel,c=e.signal;if(!1===Wa(this))throw Ya("pipeThrough");if(!1===dc(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Wa(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!Kc(c))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===za(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===lc(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Os(ta(this,i,u,o,s,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===Wa(this)?Rs(Ya("pipeTo")):!1===dc(t)?Rs(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===o||Kc(o)?!0===za(this)?Rs(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===lc(t)?Rs(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ta(this,t,r,e,u,o):Rs(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Wa(this))throw Ya("tee");var t=function(t,n){var i,r,e,u,o,s=zs(t),c=!1,a=!1,f=!1,h=Es(function(t){o=t});function v(){return!0===c?Ss(void 0):(c=!0,Os(Ns(tc(s),function(t){if(c=!1,!0===t.done)return!1===a&&oa(e.ah),void(!1===f&&oa(u.ah));var n=t.value,i=n,r=n;!1===a&&sa(e.ah,i),!1===f&&sa(u.ah,r)})),Ss(void 0))}function d(){}return e=Ha(d,v,function(n){if(a=!0,i=n,!0===f){var e=hs([i,r]),u=$a(t,e);o(u)}return h}),u=Ha(d,v,function(n){if(f=!0,r=n,!0===a){var e=hs([i,r]),u=$a(t,e);o(u)}return h}),Ds(s.Vc,function(t){ca(e.ah,t),ca(u.ah,t)}),[e,u]}(this);return hs(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Wa(this))throw Ya("getIterator");return function(t,n){void 0===n&&(n=!1);var i=zs(t),r=l.create(ic);return r.fh=i,r.hh=Boolean(n),r}(this,i)},t}();function Ha(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=l.create(qa.prototype);return ja(u),ha(u,l.create(na.prototype),t,n,i,r,e),u}function ja(t){t.ih="readable",t.nh=void 0,t.rh=void 0,t.sh=!1}function Wa(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"ah")}function za(t){return void 0!==t.nh}function $a(t,n){return t.sh=!0,"closed"===t.ih?Ss(void 0):"errored"===t.ih?Rs(t.rh):(Xa(t),Ns(t.ah[js](n),ss))}function Xa(t){t.ih="closed";var n=t.nh;void 0!==n&&(Zs(n)&&(n.oh.forEach(function(t){t.Fn(Ps(void 0,!0,n.Zf))}),n.oh=new xs),Hs(n))}function Ga(t,n){t.ih="errored",t.rh=n;var i=t.nh;void 0!==i&&(Zs(i)?(i.oh.forEach(function(t){t.V(n)}),i.oh=new xs):(i.Xh.forEach(function(t){t.V(n)}),i.Xh=new xs),qs(i,n))}function Ya(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof os.asyncIterator&&l.defineProperty(qa.prototype,os.asyncIterator,{value:qa.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ka=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=ps(r);if(void 0===e&&(e=1),e=_s(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=ps(u);void 0===o&&(o=0),o=_s(o),function(t,n,i,r,e,u){function o(){return n}t.Gh=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var o=l.create(fc.prototype);return vc(o),Nc(o,l.create(Dc.prototype),t,n,i,r,e,u),o}(o,function(n){return function(t,n){var i=t.Yh;if(!0===t.mh){var r=t.Kh;return Ns(r,function(){var r=t.Gh,e=r.ih;if("erroring"===e)throw r.rh;return of(i,n)})}return of(i,n)}(t,n)},function(){return function(t){var n=t.Jh,i=t.Yh,r=i.Qh();return ef(i),Ns(r,function(){if("errored"===n.ih)throw n.rh;var t=n.ah;!0===fa(t)&&oa(t)},function(i){throw Qa(t,i),n.rh})}(t)},function(n){return function(t,n){return Qa(t,n),Ss(void 0)}(t,n)},i,r),t.Jh=Ha(o,function(){return function(t){return tf(t,!1),t.Kh}(t)},function(n){return Za(t,n),Ss(void 0)},e,u),t.mh=void 0,t.Kh=void 0,t.Zh=void 0,tf(t,!0),t.Yh=void 0}(this,Es(function(t){c=t}),e,s,o,a),function(t,n){var i=l.create(nf.prototype),r=function(t){try{return uf(i,t),Ss(void 0)}catch(t){return Rs(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ys(e,n,[t,i])}}var u=ls(n,"flush",0,[i]);!function(t,n,i,r){n.tv=t,t.Yh=n,n.nv=i,n.Qh=r}(t,i,r,u)}(this,t);var f=ws(t,"start",[this.Yh]);c(f)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ja(this))throw cf("readable");return this.Jh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ja(this))throw cf("writable");return this.Gh},enumerable:!0,configurable:!0}),t}();function Ja(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"Yh")}function Qa(t,n){ca(t.Jh.ah,n),Za(t,n)}function Za(t,n){ef(t.Yh),Lc(t.Gh.lh,n),!0===t.mh&&tf(t,!1)}function tf(t,n){void 0!==t.Kh&&t.Zh(),t.Kh=Es(function(n){t.Zh=n}),t.mh=n}var nf=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===rf(this))throw sf("desiredSize");return aa(this.tv.Jh.ah)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===rf(this))throw sf("enqueue");uf(this,t)},t.prototype.error=function(t){if(!1===rf(this))throw sf("error");var n;n=t,Qa(this.tv,n)},t.prototype.terminate=function(){if(!1===rf(this))throw sf("terminate");!function(t){var n=t.tv,i=n.Jh.ah;!0===fa(i)&&oa(i);var r=new d("TransformStream terminated");Za(n,r)}(this)},t}();function rf(t){return!!fs(t)&&!!l.prototype.hasOwnProperty.call(t,"tv")}function ef(t){t.nv=void 0,t.Qh=void 0}function uf(t,n){var i=t.tv,r=i.Jh.ah;if(!1===fa(r))throw new d("Readable side is not in a state that permits enqueue");try{sa(r,n)}catch(t){throw Za(i,t),i.Jh.rh}(function(t){return!0!==ea(t)})(r)!==i.mh&&tf(i,!0)}function of(t,n){return Ns(t.nv(n),void 0,function(n){throw Qa(t.tv,n),n})}function sf(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function cf(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var af,ff=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return $(n,t),W(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(cn);function hf(t){return n=[t],new qa({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function vf(t){return hf(new p(t))}function df(t,n){return function(t,n){var i=n,r=t.getReader(),e=new uo,u=function(){o();var t=new xe;r.cancel(t).catch(L),e.Lc(t)},o=function(){i&&(i.Us(u),i=void 0)};i&&(i.Os?u():i.Bs(u));var s=[];return C.resolve(r.read()).then(function t(n){return n.done?(o(),C.resolve(s)):(s.push(n.value),C.resolve(r.read()).then(t))}).then(function(t){o(),e.Pc(t)},function(t){o(),e.Lc(t)}),e.xc}(t,n).then(function(t){return yu(t).buffer})}function lf(t,n){var i=n,r=new Ka,e=r.readable,u=r.writable,o=u.getWriter(),s=function(){i&&i.js()};return o.closed.then(s,s),t.then(function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(L)},function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(L)}),e}function wf(t){return Yu(new p(t))}function yf(t){return Ku(t).buffer}!function(t){t[t.Wf=0]="Wf",t[t.iv=1]="iv"}(af||(af={}));var gf="content-type",_f="text/plain;charset=UTF-8",pf=function(){function t(){}var n=t.prototype;return n.rv=function(t){return this.ev(t).then(JSON.parse)},n.uv=function(t,n){switch(t){case is.Hf:return this.ov(n);case is.jf:return this.rv(n);case is.Wf:return this.sv();case is.hu:return this.ev(n);default:throw new d}},t}();function mf(t,n,i){if(t instanceof pf)return t;if(t instanceof qa)return function(t,n){return new bf({ks:af.Wf,sv:t,cv:kf(n)})}(t,i);var r=kf(i),e=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{ks:is.hu,av:t,cv:n||_f};if(t instanceof ArrayBuffer||lu(t))return{ks:is.Hf,av:Cf(t),cv:n};if(ft(t)||st(t))return{ks:is.jf,av:t,cv:n};throw new d("Unsupported BodyInit type")}return{ks:is.hu,av:null,cv:n}}(t,r)});return new bf({ks:af.iv,xc:e,fv:n})}function kf(t){return(t.get(gf)||"").toLowerCase()}var bf=function(t){function n(n){var i;return(i=t.call(this)||this).hv=!1,i.vv=void 0,i.dv=new uo,i.dv.xc.catch(L),i.lv(n),i}$(n,t);var i=n.prototype;return i.wv=function(){return this.dv.xc},i.ev=function(t){return this.yv(Tf,t)},i.rv=function(t){return this.yv(Sf,t)},i.ov=function(t){return this.yv(If,t)},i.sv=function(){return this.gv((t=this.vv).ks===af.Wf?t.sv:lf(t.xc.then(Af).then(vf),t.fv));var t},i.yv=function(t,n){if(this.hv)return C.reject(new d("Already used"));this.hv=!0;var i=t(this.vv,n);return this.dv.Pc(i.then(L)),i},i.gv=function(t){if(this.hv)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.hv=!0;var n=new Ka,i=C.resolve(t.pipeTo(n.writable));return this.dv.Pc(i),n.readable},i.lv=function(t){this.vv=t,t.ks===af.iv&&t.xc.catch(L)},i._v=function(){if(this.hv)throw new d("Already used");var t=function(t){if(t.ks===af.Wf){var n=t.sv.tee(),i=n[0],r=n[1];return[{ks:t.ks,sv:i,cv:t.cv},{ks:t.ks,sv:r,cv:t.cv}]}var e=t.fv.zs(),u=e[0],o=e[1];return[{ks:t.ks,xc:t.xc,fv:u},{ks:t.ks,xc:t.xc,fv:o}]}(this.vv),i=t[0],r=t[1];return this.lv(i),new n(r)},W(n,[{key:"pv",get:function(){return this.hv}}]),n}(pf);function Tf(t,n){return t.ks===af.Wf?df(t.sv,n).then(wf):(n&&t.fv.Ws(n),Ue(t.xc.then(Ef),t.fv))}function Ef(t){switch(t.ks){case is.hu:return C.resolve(t.av||"");case is.Hf:return C.resolve(t.av).then(wf);case is.jf:return C.resolve(t.av).then(JSON.stringify)}}function Sf(t,n){return t.ks===af.Wf?Tf(t,n).then(JSON.parse):(n&&t.fv.Ws(n),Ue(t.xc.then(Rf),t.fv))}function Rf(t){return t.ks===is.jf?C.resolve(t.av):Ef(t).then(JSON.parse)}function If(t,n){return t.ks===af.Wf?df(t.sv,n):(n&&t.fv.Ws(n),Ue(t.xc.then(Af),t.fv))}function Af(t){switch(t.ks){case is.Hf:return C.resolve(t.av);case is.hu:case is.jf:return Ef(t).then(yf)}}function Cf(t){return t instanceof ArrayBuffer?t:ro(Zu(t)).buffer}function Df(t){return t.mv>=200&&t.mv<=299||304===t.mv}var Nf,Of,xf,Pf,Lf=function(t){function n(n,i){var r,e,u,o,s,c;i?(e=i.kv,u=i.bv,o=i.mv,s=i.Tv,c=i.Ev):(e=[],u=is.hu,o=200,s="OK",c=!1);var a=n.Sv,f=new rs(n.kv||e),h=n.bv||u,v=n.Rv||(i&&i.Sv===a?i.Rv:a.Iv),d=i?i.Av:null,l=mf(void 0!==n.Vu?n.Vu:d,n.fv||new Oe,f);return(r=t.call(this,l)||this).kv=void 0,r.Sv=void 0,r.Rv=void 0,r.bv=void 0,r.mv=void 0,r.Tv=void 0,r.Ev=void 0,r.kv=f,r.Sv=a,r.Rv=v,r.bv=h,r.mv=void 0!==n.mv?n.mv:o,r.Tv=void 0!==n.Tv?String(n.Tv):s,r.Ev=n.Ev||c,r}$(n,t);var i=n.prototype;return i.Vu=function(t){return this.uv(this.bv,t)},i.Ac=function(){return new n({Vu:this._v(),Sv:this.Sv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Av=void 0,i.Av=n,i}$(n,t);var i=n.prototype;return i.wv=function(){return this.Av.wv()},i.ev=function(t){return this.Av.ev(t)},i.rv=function(t){return this.Av.rv(t)},i.ov=function(t){return this.Av.ov(t)},i.sv=function(){return this.Av.sv()},i._v=function(){return this.Av._v()},W(n,[{key:"pv",get:function(){return this.Av.pv}}]),n}(pf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Nf||(Nf={})),function(t){t.Cv="",t.Dv="manifest",t.Nv="segment",t.Ov="content-protection"}(Of||(Of={})),function(t){t.Cv="",t.xv="initialization-segment",t.Pv="fairplay-license",t.Lv="fairplay-certificate",t.Fv="widevine-license",t.Mv="widevine-certificate",t.Bv="playready-license",t.Uv="clearkey-license",t.Vv="aes128-key"}(xf||(xf={})),function(t){t.Cv="",t.qv="audio",t.Hv="video",t.hu="text",t.jv="image"}(Pf||(Pf={}));var Ff=function(t,n){this.av=void 0,this.kv=void 0,this.Wv=void 0,this.bv=void 0,this.zv=void 0,this.$s=void 0,this.ks=void 0,this.$v=void 0,this.Xv=void 0,this.Iv=void 0,this.Gv=void 0,this.Yv=void 0;var i,r,e,u,o,s,c,a,f,h,v,d=t.Iv;n?(i=n.av,r=n.kv,e=n.Wv,u=n.bv,o=n.zv,s=n.$s,c=n.ks,a=n.$v,f=n.Xv,h=n.Gv,v=n.Yv):(i=null,r={},e=Nf.GET,u=is.hu,o=0,c=Of.Cv,a=xf.Cv,f=Pf.Cv,h=!1),this.Iv=d,this.av=t.av||i,this.kv=new rs(t.kv||r),this.Wv=t.Wv||e,this.bv=t.bv||u,this.zv=void 0!==t.zv?Number(t.zv)||0:o,this.$s=t.$s||s||(new Oe).$s,this.ks=t.ks||c,this.$v=t.$v||a,this.Xv=t.Xv||f,this.Gv=void 0!==t.Gv?Boolean(t.Gv):h,this.Yv=t.Yv||v},Mf=function(){function t(){}var n=t.prototype;return n.Sv=function(t){var n=function(t){return new Lf({Vu:null,kv:{},Sv:t,Rv:t.Iv,bv:t.bv,mv:0,Tv:ns.kf})}(new Ff(t));return C.resolve(n)},n.Kv=function(t){},n.sr=function(){},t}();var Bf=function(){function t(t,n){void 0===n&&(n=!0),this.Jv=void 0,this.Qv=void 0,this.Jv=t,this.Qv=n}var n=t.prototype;return n.Sv=function(t){var n=this.Zv(t);return this.Jv.Sv(n)},n.Kv=function(t){return this.Jv.Kv(this.td(t))},n.Zv=function(n){var i=new Ff(n);if(!this.Qv){var r=t.nd(i.Iv);i=new Ff({Iv:r},i)}return i},n.td=function(n){var i=n.Iv;return this.Qv||(i=t.nd(i)),{Iv:i,av:n.av}},t.nd=function(t){return N.ts&&we(t,"http://")?t.replace(":","s:"):t},n.sr=function(){this.Jv.sr()},W(t,null,[{key:"rd",get:function(){return t.ed||(t.ed=new t(new Mf)),t.ed}}]),t}();function Uf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Vf(t,n){var i=N.Go(t);return n&&!ye(i,"/")&&(i+="/"),i}Bf.ed=void 0;var qf,Hf=/cache:(.+)?(?=&|$)/,jf="http://webcache.googleusercontent.com/search?q=cache:";function Wf(t){if(!we(t,jf))return"";var n=N.Xo(t).search.match(Hf);return n&&n.length>1?n[1]:""}!function(t){t.ud="HttpOpenError",t.od="HttpResponseError",t.sd="HttpTimeoutError"}(qf||(qf={}));var zf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).fd=void 0,e.fd=n,e}return $(n,t),W(n,[{key:"Sv",get:function(){return this.fd}}]),n}(cn);var $f=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Iv+". Invalid URL.",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return qf.ud}}]),n}(zf);var Xf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.Sv,null!=r?r:function(t){return"Error while loading "+t.Sv.Iv+", status code "+t.mv}(n),i)||this).hd=void 0,e.hd=n,e}return $(n,t),W(n,[{key:"name",get:function(){return qf.od}},{key:"vd",get:function(){return this.hd}}]),n}(zf);var Gf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Iv+" timed out after "+t.zv+" seconds."}(n),i)||this}return $(n,t),W(n,[{key:"name",get:function(){return qf.sd}}]),n}(zf),Yf=function(t,n){return(Yf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Kf(t,n){function i(){this.constructor=t}Yf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Jf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var Qf=function(){var t=Jf.Blob;if(t)try{return new t,function(t,n){return new Jf.Blob(t,n)}}catch(t){}var n,i=Jf.BlobBuilder||Jf.WebKitBlobBuilder||Jf.MozBlobBuilder||Jf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var o=u[e];r.append(o)}return r.getBlob(i&&i.type||"")}):null}(),Zf="function"==typeof qa?qa:void 0;function th(t){return t&&"function"==typeof t.getReader}function nh(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&th(i)}catch(t){return!1}}var ih=function(){function t(t,n){this.nh=t,this.dd=n}return t.prototype.pull=function(t){var n=this;return this.nh.read().then(function(i){n.dd&&n.dd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.nh.cancel(t)},t}();function rh(t,n){return n.constructor===t?n:new t(new ih(n.getReader()),{highWaterMark:0})}var eh=function(){function t(t,n){this.ld=t,this.yt=n}return t.prototype.pull=function(t){return this.ld().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function uh(t,n,i){return new t(new eh(n,i),{highWaterMark:0})}var oh={searchParams:"URLSearchParams"in Jf,iterable:"Symbol"in Jf&&"iterator"in Symbol,blob:"FileReader"in Jf&&!!Qf,formData:"FormData"in Jf,arrayBuffer:"ArrayBuffer"in Jf,stream:nh(Zf),streamRequest:"Request"in Jf&&"body"in Jf.Request.prototype,streamResponse:"Response"in Jf&&"body"in Jf.Response.prototype,abort:"AbortController"in Jf&&"Request"in Jf&&"signal"in Jf.Request.prototype,encoding:"TextEncoder"in Jf&&"TextDecoder"in Jf,url:"URL"in Jf&&function(t){try{return new Jf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Jf&&/Firefox\//.test(Jf.navigator.userAgent)};function sh(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function ch(t){return"string"!=typeof t&&(t=String(t)),t}function ah(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return oh.iterable&&(n[Symbol.iterator]=function(){return n}),n}var fh=function(){function t(t){var n=this;this.ds={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return oh.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=sh(t),n=ch(n);var i=t.toLowerCase();if(this.ds.hasOwnProperty(i)){var r=this.ds[i],e=r[1];r[1]=e?e+", "+n:n}else this.ds[i]=[t,n]},t.prototype.delete=function(t){var n=sh(t).toLowerCase();delete this.ds[n]},t.prototype.get=function(t){var n=sh(t).toLowerCase();return this.ds.hasOwnProperty(n)?this.ds[n][1]:null},t.prototype.has=function(t){var n=sh(t).toLowerCase();return this.ds.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=sh(t)).toLowerCase();this.ds[i]=[t,ch(n)]},t.prototype.forEach=function(t,n){for(var i in this.ds)this.ds.hasOwnProperty(i)&&t.call(n,this.ds[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),ah(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),ah(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),ah(t)},t.prototype.asList=function(){var t=[];for(var n in this.ds)if(this.ds.hasOwnProperty(n)){var i=this.ds[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function hh(){}oh.iterable&&(fh.prototype[Symbol.iterator]=fh.prototype.entries);var vh,dh,lh,wh=w.min,yh=String.fromCharCode,gh=16384;function _h(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=gh){var e=wh(r+gh,n);i.push(yh.apply(null,t.slice(r,e)))}return i.join("")}(n)}function ph(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function mh(t,n){return t>>n&63|128}function kh(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ph(t),n.push(t>>12&15|224),n.push(mh(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(mh(t,12)),n.push(mh(t,6))),n.push(63&t|128)):n.push(t)}function bh(){if(lh>=dh)throw new v("Invalid byte index");var t=255&vh[lh];if(lh++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Th(){var t,n;if(lh>dh)throw new v("Invalid byte index");if(lh===dh)return!1;if(t=255&vh[lh],lh++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|bh())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|bh()<<6|bh())>=2048)return ph(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|bh()<<12|bh()<<6|bh())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var Eh=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Sh(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Rh(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Ih(t){return t&&DataView.prototype.isPrototypeOf(t)}var Ah,Ch=ArrayBuffer.isView||function(t){return t&&(Eh.indexOf(l.prototype.toString.call(t))>-1||Ih(t))};function Dh(t){if(t.bodyUsed)return C.reject(new d("Already used"));t.bodyUsed=!0}function Nh(t){return new C(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Oh(t){return oh.encoding?new Jf.TextDecoder("utf-8").decode(new p(t)):_h(function(t){dh=(vh=t).length,lh=0;for(var n,i=[];!1!==(n=Th());)i.push(n);return i}(new p(t)))}function xh(t){return oh.encoding?(new Jf.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],i=0,r=t;i<r.length;i++)kh(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Ph(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?C.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function Lh(t){return Ph(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new p(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function Fh(t){return t.slice?t.slice(0):Mh(new p(t))}function Mh(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Bh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Uh(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.wd===Ah.yd){if(!n.gd.tee)throw new v("could not clone ReadableStream body");var i=n.gd.tee(),r=i[0],e=i[1];return n.body=r,n.gd=r,n._d=r,e}return n.wd===Ah.Hf?Fh(n.gd):n.wd===Ah.iv?n.gd.then(Uh):n._d}!function(t){t[t.hu=0]="hu",t[t.pd=1]="pd",t[t.md=2]="md",t[t.Hf=3]="Hf",t[t.yd=4]="yd",t[t.iv=5]="iv"}(Ah||(Ah={}));var Vh=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,o=this;if(this._d=n||null,n)if("string"==typeof n)this.wd=Ah.hu,this.gd=n;else if((u=n)&&"function"==typeof u.then)this.wd=Ah.iv,this.gd=C.resolve(n).then(function(n){return new t(n,i)}),this.gd.catch(hh);else if(oh.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.wd=Ah.pd,this.gd=n;else if(oh.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.wd=Ah.md,this.gd=n;else if(oh.searchParams&&Sh(n))this.wd=Ah.hu,this.gd=n.toString();else if(oh.arrayBuffer&&(Rh(n)||Ch(n)))Ih(n)&&(this._d=new p((e=n).buffer,e.byteOffset,e.byteLength)),this.wd=Ah.Hf,this.gd=Rh(r=n)?Fh(r):Mh(r);else{if(!oh.stream||!th(n))throw new v("unsupported BodyInit type");n=rh(Zf,n),this.wd=Ah.yd,this.gd=n,this._d=n}else this.wd=Ah.hu,this.gd="";this.kd="",i.has("content-type")?this.kd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.kd="text/plain;charset=UTF-8":o.wd===Ah.pd&&o.gd.type?this.kd=o.gd.type:oh.searchParams&&Sh(n)&&(this.kd="application/x-www-form-urlencoded;charset=UTF-8"),this.kd&&i.set("content-type",this.kd)),oh.stream&&(null==n?this.body=null:o.wd===Ah.yd?this.body=o.gd:this.body=uh(Zf,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Dh(this);return r||(this.wd===Ah.pd?(t=this.gd,n=new FileReader,i=Nh(n),n.readAsText(t),i):this.wd===Ah.Hf?C.resolve(this.gd).then(Oh):this.wd===Ah.yd?Lh(this.gd).then(Oh):this.wd===Ah.iv?this.gd.then(function(t){return t.text()}):this.wd===Ah.md?C.reject(new v("could not read FormData body as text")):C.resolve(this.gd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();oh.blob&&(Vh.prototype.blob=function(){var t,n,i=Dh(this);return i||(this.wd===Ah.pd?C.resolve(this.gd):this.wd===Ah.Hf?C.resolve(Qf([this.gd],{type:this.kd})):this.wd===Ah.yd?(t=this.gd,n=this.kd,Ph(t).then(function(t){return Qf(t,{type:n||""})})):this.wd===Ah.iv?this.gd.then(function(t){return t.blob()}):this.wd===Ah.md?C.reject(new v("could not read FormData body as Blob")):C.resolve(Qf([this.gd],{type:this.kd})))}),oh.arrayBuffer&&(Vh.prototype.arrayBuffer=function(){var t,n,i;return this.wd===Ah.Hf?Dh(this)||C.resolve(this.gd):this.wd===Ah.pd?Dh(this)||(t=this.gd,n=new FileReader,i=Nh(n),n.readAsArrayBuffer(t),i):this.wd===Ah.yd?Lh(this.gd):this.wd===Ah.iv?Dh(this)||this.gd.then(function(t){return t.arrayBuffer()}):this.wd===Ah.md?C.reject(new v("could not read FormData body as ArrayBuffer")):C.resolve(this.gd).then(xh)}),oh.formData&&(Vh.prototype.formData=function(){return this.wd===Ah.md?Dh(this)||C.resolve(this.gd):this.text().then(Bh)});var qh=[301,302,303,307,308],Hh=function(t){function n(n,i){var r=this,e=new fh((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Kf(n,t),n.prototype.clone=function(){return new n(Uh(this),{status:this.status,statusText:this.statusText,headers:new fh(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===qh.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Vh);var jh,Wh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function s(t,n){return(s=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=o(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||h.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}(n,h),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==u?u.createEvent?(t=u.createEvent("Event")).initEvent("abort",!1,!1):(t=u.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(jh=Wh)&&jh.__esModule&&l.prototype.hasOwnProperty.call(jh,"default")&&jh.default;Wh.AbortSignal;var zh=Wh.AbortController,$h=Jf.DOMException;try{new $h}catch(t){($h=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),$h.prototype.constructor=$h}var Xh=zh;function Gh(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Yh(t,n,i){return new C(function(r,e){if(n.signal.aborted)return t.catch(hh),e(Kh());var u=function(){n.signal.removeEventListener("abort",u),e(Kh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Kh(){return new $h("Aborted","AbortError")}var Jh,Qh="moz-chunked-arraybuffer";function Zh(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Jh||(Jh={}));var tv=function(){function t(t,n){var i=this;this.bd=!1,this.fd=t,this.Td=n,this.Ed=new m,this.Sd=new C(function(t,n){i.Rd=t,i.Id=n})}return t.prototype.send=function(){var t=this;return this.Ad().then(function(n){return t.Cd(n,t.Td),t.Sd})},t.prototype.Ad=function(){var t=this.fd;return t.wd===Ah.yd?t.arrayBuffer():C.resolve(t._d)},t.prototype.Dd=function(t){this.fd.onprogress&&this.fd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Nd=function(t){this.Id(t)},t.prototype.Od=function(){this.Nd(new d("Network request failed"))},t.prototype.xd=function(){this.Nd(new d("Network request failed"))},t.prototype.Pd=function(){this.Nd(Kh())},t.prototype.Cd=function(t,n){var i=this,r=this.fd,e=this.Ed,u=function(){return i.Ld()};if(r.signal.aborted)return this.Pd();e.onreadystatechange=function(){if(e.readyState>=Jh.HEADERS_RECEIVED&&!i.bd){var t=function(t){var n=new fh;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.bd=!0,i.Fd(n)}},e.onprogress=function(t){return i.Dd(t)},e.onload=function(){return i.Md()},e.onerror=function(){return i.Od()},e.ontimeout=function(){return i.xd()},e.onabort=function(){return i.Pd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.Ld=function(){this.Pd(),this.Ed.abort()},t}(),nv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Bd=void 0,r.Ud=void 0,r}return Kf(n,t),n.prototype.Fd=function(t){var n=this;this.Bd=new C(function(t,i){n.Ud=t,n.Vd=i}),this.Rd(new Hh(this.Bd,t))},n.prototype.Md=function(){var t=this.Ed.response||this.Ed.responseText;this.Ud(t)},n.prototype.Nd=function(n){t.prototype.Nd.call(this,n),this.Vd&&this.Vd(n)},n}(tv),iv=function(t){function n(n){var i=t.call(this,n,Qh)||this;return i.qd=void 0,i.Hd=void 0,i.jd=!1,i}return Kf(n,t),n.prototype.Fd=function(t){var n=this;this.qd=new Zf({start:function(t){n.Hd=t},cancel:function(){n.jd=!0,n.Ld()}}),this.Rd(new Hh(this.qd,t))},n.prototype.Dd=function(n){this.jd||this.Hd.enqueue(new p(this.Ed.response)),t.prototype.Dd.call(this,n)},n.prototype.Md=function(){this.Hd.close()},n.prototype.Nd=function(n){t.prototype.Nd.call(this,n),this.Hd&&!this.jd&&(this.jd=!0,this.Hd.error(n))},n}(tv),rv=function(){var t=oh.firefox&&Zh(Qh);return rv=function(){return t},t},ev=function(){var t;return t=oh.arrayBuffer&&Zh("arraybuffer")?"arraybuffer":oh.blob&&Zh("blob")?"blob":"",ev=function(){return t},t};function uv(t){return(oh.stream&&rv()?new iv(t):new nv(t,ev())).send()}var ov=Jf.fetch,sv=Jf.Request,cv=(Jf.Response,Jf.AbortController);var av=["http:","https:"];var fv=function(){try{if(oh.streamRequest){var t=new sv("about:blank",{body:"",method:"POST"}).body;if(t&&nh(t.constructor))return t.constructor}}catch(t){}}();function hv(t,n,i){var r;if(oh.stream){var e=void 0;if(oh.streamResponse){var u=t.body;e=u&&rh(Zf,u)}else e=uh(Zf,function(){return Yh(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new ih(n.getReader(),i),{highWaterMark:0})}(Zf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,vv(t.headers))),r=e}else{var o=Yh(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return C.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(o,i,vv(t.headers))),r=o}return new Hh(r,t)}function vv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function dv(t){var n=new Xh;return t.signal&&Gh(n,t.signal),function(t,n){var i,r,e=t;if(i=e.wd===Ah.yd?oh.streamRequest&&fv?C.resolve(rh(fv,e.gd)):Yh(t.arrayBuffer(),n,!1):Yh(C.resolve(t._d),n,!1),oh.abort){var u=new cv;Gh(u,n.signal),r=u.signal}return i.then(function(n){return new sv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof fh?i:new fh(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return ov(i).then(function(i){return hv(i,n,t.onprogress)})})}var lv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var wv=function(t){function n(i,r){var e,u,o,s,c,a,f,h,v,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,u=i.credentials,r.headers||(o=new fh(i.headers)),s=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,h=i.signal,v=i.onprogress,w||null==i._d||(w=i._d,i.bodyUsed=!0)}else e=String(i),u="same-origin",s="GET",c="cors",a="about:client",f="",h=null,v=null;if(!r.headers&&o||(o=new fh(r.headers)),r&&(a="about:client",f=""),(l=t.call(this,w,o)||this).url=e,l.headers=o,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return lv.indexOf(n)>-1?n:t}(r.method||s),l.mode=r.mode||c,l.signal=r.signal||h||(new Xh).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&w)throw new d("Body not allowed for GET or HEAD requests");return l}return Kf(n,t),n.prototype.clone=function(){return new n(this,{body:Uh(this)})},n}(Vh),yv="function"==typeof ov&&oh.stream&&oh.streamResponse&&oh.url;function gv(t,n){return new C(function(i){var r=new wv(t,n);i((yv&&function(t){try{return av.indexOf(new Jf.URL(t,Jf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?dv:uv)(r))})}gv.polyfill=!0;var _v=function(){function t(t){this.vd=void 0,this.fd=void 0,this.Wd=new Oe,this.hd=void 0,this.zd=!1,this.fd=t,this.Wd.Ws(t.$s),this.vd=this.$d()}var n=t.prototype;return n.$d=function(){var t=C.coroutine(jr.mark(function t(){var n,i,r,e,u,o,s,a,f=this;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.fd).zv&&c(function(){f.zd=!0,f.Wd.js()},n.zv),t.prev=2,i=gv(n.Iv,{method:n.Wv,headers:n.kv.zf(),body:n.av,credentials:n.Gv?"include":"same-origin",signal:kv(this.Wd.$s),onprogress:n.Yv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new $f(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Pe(e=this.Xd(t.t1))&&this.Wd.js(),e;case 20:if(u=r.url||n.Iv,o=0===r.status&&"file:"===(h=u,N.Xo(h).protocol)?200:r.status,s=new pv(this,r,this.Wd),a=new Lf({Vu:s,Sv:n,bv:n.bv,kv:new rs(r.headers.asList()),mv:o,Tv:r.statusText,Rv:u}),this.hd=a,!Df(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Xf(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Xd=function(t){return Pe(t)?this.zd?new Gf(this.fd):new xe(t.message,t):this.hd?new Xf(this.hd,t):new $f(this.fd,t)},t}(),pv=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zt=void 0,e.Gd=void 0,e.Wd=void 0,e.dv=new uo,e.Zt=n,e.Gd=i,e.Wd=r,e.dv.xc.catch(L),e}$(n,t);var i=n.prototype;return i.wv=function(){return this.dv.xc},i.ev=function(t){return this.yv(this.Gd.text(),t)},i.ov=function(t){return this.yv(this.Gd.arrayBuffer(),t)},i.sv=function(){var t=this.Gd.body;return t?this.gv(t):lf(this.ov().then(vf),this.Wd)},i._v=function(){var t=this.Gd.clone(),i=this.Wd.zs(),r=i[0],e=i[1];return this.Wd=r,new n(this.Zt,t,e)},i.yv=function(t,n){var i=this;n&&this.Wd.Ws(n);var r=C.resolve(t).catch(function(t){throw i.Zt.Xd(t)});return r=Ue(r,this.Wd),this.dv.Pc(r.then(L)),r},i.gv=function(t){var n=this,i=new Ka,r=C.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Zt.Xd(t);throw i.writable.abort(r).catch(L),r});return r=Ue(r,this.Wd),this.dv.Pc(r.then(L)),i.readable},W(n,[{key:"pv",get:function(){return this.Gd.bodyUsed}}]),n}(pf),mv="abort";function kv(t){var n=new Xh;if(t.Os)n.abort();else if(!t.xs){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(mv,i),t.Us(i),t.qs(r)};n.signal.addEventListener(mv,i),t.Bs(i),t.Vs(r)}return n.signal}var bv,Tv=function(){function t(){}var n=t.prototype;return n.Sv=function(t){return new _v(t).vd},n.Kv=function(t){if(A&&A.sendBeacon)A.sendBeacon(t.Iv,Zo([t.av],{type:t.cv}));else{var n=t.cv?{"Content-type":t.cv}:void 0;He(this.Sv(new Ff({Wv:Nf.POST,Iv:t.Iv,av:t.av,kv:n})))}},n.sr=function(){},t}(),Ev=function(n){function i(){for(var i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(i=n.call.apply(n,[this].concat(e))||this).Yd=void 0,i.Kd=function(){if(rt.Ce)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Jd=rt.Qe,i.Qd=void 0,i}return $(i,n),W(i,[{key:"Vo",get:function(){return this.Yd||(this.Yd=new Te(Yo())),this.Yd}},{key:"Zd",get:function(){return this.Kd}},{key:"tl",get:function(){return this.Jd}},{key:"nl",get:function(){return!1}},{key:"il",get:function(){return Jo.rf()}},{key:"ul",get:function(){return{ol:ts}}},{key:"sl",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"cl",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"al",get:function(){return this.Qd||(this.Qd=new Bf(new Tv)),this.Qd}}]),i}(qr);x(new Ev),function(t){t.fl="hl",t.vl="dl"}(bv||(bv={}));bv.fl,bv.vl;var Sv=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ll=void 0,r}return $(n,t),W(n,[{key:"wl",get:function(){return this.ll||(this.ll=this.yl()),this.ll}}]),n}(Ke);var Rv,Iv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Sv),Av=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Ke),Cv=function(t){function n(n){var i;return(i=t.call(this,bv.fl)||this).gl=n,i}return $(n,t),n.prototype.yl=function(){return new Dv(this.gl.wl)},n}(Iv),Dv=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return $(n,t),n}(Av),Nv=function(t){function n(n){var i;return(i=t.call(this,bv.vl)||this).gl=n,i}return $(n,t),n.prototype.yl=function(){return new Ov(this.gl.wl)},n}(Iv),Ov=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return $(n,t),n}(Av);!function(t){t._l="pl",t.ml="kl",t.bl="Tl",t.El="Sl",t.Rl="Il",t.Al="Cl",t.Dl="Nl",t.Ol="xl",t.Pl="Qc",t.Ll="Fl",t.Ml="Bl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Rv||(Rv={}));var xv=function(t){function n(){var n;return(n=t.call(this)||this).Ul=[],n.ll=void 0,n}$(n,t);var i=n.prototype;return i.Vl=function(t){return this.Ul[t]},i.ql=function(t){return!(!t||Ce(this.Ul,t))&&(this.Ul.push(t),this.ll&&this.ll.push(t.wl),t.Qs(Rv.Al,this.Ks),this.Js(new Cv(t)),!0)},i.Hl=function(t){if(!t)return!1;var n=this.Ul.indexOf(t);return!(n<0)&&(Ae(this.Ul,n),this.ll&&Ae(this.ll,n),t.ic(Rv.Al,this.Ks),this.Js(new Nv(t)),!0)},i.jl=function(t){return Ce(this.Ul,t)},i.Wl=function(){for(var t=this.Ul,n=t.length-1;n>=0;n-=1)this.Hl(t[n])},i.sr=function(){this.Wl(),this.nc()},W(n,[{key:"zl",get:function(){return this.Ul}},{key:"wl",get:function(){return this.ll||(this.ll=this.yl()),this.ll}},{key:"$l",get:function(){return this.Ul.length}}]),n}(Ge),Pv=function(t){function n(n){var i;return(i=t.call(this,Rv.Al)||this).gl=n,i}return $(n,t),n.prototype.yl=function(){return new Lv(this.gl.wl)},n}(Iv),Lv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return $(n,t),n}(Av),Fv=function(t){function n(){var n;return(n=t.call(this)||this).Xl=void 0,n.Gl=function(t){var i=t.gl;n.ql(i)},n.Yl=function(t){var i=t.gl;n.Hl(i)},n}$(n,t);var i=n.prototype;return i.Kl=function(t){t.Qs(bv.fl,this.Gl),t.Qs(bv.vl,this.Yl)},i.Jl=function(t){t.ic(bv.fl,this.Gl),t.ic(bv.vl,this.Yl)},i.sr=function(){this.Xl&&this.Xl.sr(),t.prototype.sr.call(this)},W(n,[{key:"Ql",get:function(){return this.Xl},set:function(t){var n=this.Xl;if(t!==n){if(n){this.Jl(n);for(var i=0,r=n.zl;i<r.length;i++){var e=r[i];t&&t.jl(e)||this.Hl(e)}}if(this.Xl=t,t){for(var u=[],o=0,s=t.zl;o<s.length;o++){var c=s[o];this.ql(c),this.Zl(c)&&u.push(c)}this.Kl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Js(new Pv(f))}}}}}]),n}(xv),Mv=l.freeze||F;function Bv(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Uv(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Vv(t){if(ft(t)){var n={};for(var i in t)et.call(t,i)&&(n[i]=Vv(t[i]));return n}if(st(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Vv(t[e]));return r}return t}function qv(t,n){return t===n||!(!t||!n)&&(!(!at(t)||!at(n))&&(ct(t)?!!ct(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!qv(t[e],n[e]))return!1;return!0}(t,n):!ct(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!et.call(n,u)||!qv(t[u],n[u]))return!1}return!0}(t,n)))}function Hv(t,n){return t.constructor===n.constructor}function jv(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Wv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function zv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function $v(t){var n=zv(t);if(_(n))throw new v("Expected a valid number.");return n}function Xv(t){return"string"==typeof t?t:""}function Gv(t,n){if(!ct(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}function Yv(t,n){return ct(t)?Gv(t,n):n(t)}var Kv=[bv.fl,bv.vl,Rv.Al];function Jv(t){var n,i=t.zl.map(function(t){return t.wl});return i.item=function(n){var i=0|n,r=t.Vl(i);return r&&r.wl||void 0},i.addEventListener=function(t,i){n.Qs(t,i)},i.removeEventListener=function(t,i){n.ic(t,i)},n=new Ye(i),t.Qs(Kv,function(t){return n.Js(t.wl)}),i}function Qv(){}function Zv(t){var n,i=[Rv.Pl,Rv.Al,Rv.Ll,Rv.Ml,Rv.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.tw&&t.tw.wl},get enabled(){return t.nw},set enabled(n){t.nw=Wv(n)},get id(){return t.iw},get uid(){return t.rw},get kind(){return t.ew},get label(){return t.uw},set label(n){t.uw=Xv(n)},get language(){return t.ow},get qualities(){return t.sw.wl},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.sw.zl;r<e.length;r++)for(var u=e[r],o=0;o<n.length;o++){var s=n[o];u.wl===s&&i.push(u)}return i}(t,st(n)?n:[n]):[]).length>0?t.cw=i:t.cw=void 0},get targetQuality(){if(t.cw)return 1===t.cw.length?t.cw[0].wl:t.cw.map(function(t){return t.wl})},addEventListener:function(t,i){var r=Yv(t,Xv);n.Qs(r,i)},removeEventListener:function(t,i){var r=Yv(t,Xv);n.ic(r,i)}};return n=new Ye(r),t.Qs(i,function(t){return n.Js(t.wl)}),l.defineProperty(r,"constructor",{value:Qv}),r}function td(){}function nd(t){var n=Jv(t);return l.defineProperty(n,"constructor",{value:td}),n}var id,rd,ed=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.yl=function(){return nd(this)},i.Zl=function(t){return t.nw},n}(Fv);function ud(){}function od(t){var n,i=[Rv.Al,Rv.Pl,Rv._l,Rv.ml,Rv.bl,Rv.El,Rv.Rl,Rv.Dl,Rv.Ol],r=[rd.aw],e={get kind(){return t.ew},get label(){return t.uw},set label(n){t.uw=Xv(n)},get language(){return t.ow},get id(){return t.iw},get uid(){return t.rw},get inBandMetadataTrackDispatchType(){return t.fw},get mode(){return t.hw},set mode(n){n!==id.vw&&n!==id.dw&&n!==id.lw||t.ww(n)},get forced(){return Boolean(t.yw)},get type(){return t.ks},get readyState(){return ad(t.gw)},get cues(){return t.hw===id.lw?null:t._w.wl},get activeCues(){return t.hw===id.lw?null:t.pw.wl},get src(){return t.mw||""},addEventListener:function(t,i){var r=Yv(t,Xv);n.Qs(r,i)},removeEventListener:function(t,i){var r=Yv(t,Xv);n.ic(r,i)}};return n=new Ye(t),t.Qs(i,function(t){return n.Js(t.wl)}),t.Qs(r,function(t){return n.Js(t)}),l.defineProperty(e,"constructor",{value:ud}),e}function sd(){}function cd(t){var n=Jv(t);return l.defineProperty(n,"constructor",{value:sd}),n}function ad(t){return t}!function(t){t.lw="disabled",t.dw="hidden",t.vw="showing"}(id||(id={})),function(t){t.aw="error"}(rd||(rd={}));var fd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.yl=function(){return cd(this)},i.Zl=function(t){return t.hw===id.vw},n}(Fv),hd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.tc=function(n){t.prototype.tc.call(this,n)},i.uc=function(n){t.prototype.uc.call(this,n)},n}(Ge),vd=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(hd),dd=function(t){function n(){return t.call(this,ns.yf)||this}return $(n,t),n}(Ke),ld=function(t){function n(n){var i;return(i=t.call(this,ns.hf)||this).currentSource=n,i}return $(n,t),n}(Ke),wd=function(){function t(){}return t.kw=function(n,i){var r=t.bw(n,i);return r?t.Tw(r):0},t.Ew=function(){return N.sl||"default"},t.Sw=function(){return N.cl||"unknown"},t.bw=function(n,i){var r,e=null==(r=N.il)?void 0:r.mc(i),u=e&&JSON.parse(e);if(u&&u[n])return t.Rw(u,n,i)},t.Tw=function(t){var n=t.availableBandwidth;return n||0},t.Rw=function(n,i,r){if(!t.Iw(n,i))return n[i];t.Aw(n,i,r)},t.Aw=function(t,n,i){var r;delete t[n],null==(r=N.il)||r.if(i,JSON.stringify(t))},t.Iw=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.Cw=function(t,n,i,r){var e;return Wr({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.Dw=function(n){var i=t.Ew();t.Nw(i,"theoplayer-stored-network-info",n,nn())},t.Nw=function(n,i,r,e){var u,o,s=null==(u=N.il)?void 0:u.mc(i),c=s?JSON.parse(s):void 0,a=t.Cw(c,n,r,e);null==(o=N.il)||o.if(i,JSON.stringify(a))},t.Ow=function(){var n=t.Ew();return t.kw(n,"theoplayer-stored-network-info")},t}();var yd,gd,_d,pd,md,kd,bd="1ADD53F3";function Td(t){return{chromecast:function(t){return{appID:t&&t.appID?Xv(t.appID):bd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return yd.AUTO;case"manual":return yd.MANUAL;case"disabled":return yd.DISABLED;default:return yd.MANUAL}}(t?t.strategy:void 0)}}function Ed(t){var n,i=_d.xw;return(n=t)&&le(n,"mpd")&&(i=_d.Pw),function(t){return!!t&&le(t,"m3u8")}(t)&&(i=_d.Lw),i}function Sd(t){return at(t)&&at(t.ssai)&&"google-dai"===t.ssai.integration}function Rd(t){return at(t)&&ht(t.integration)&&"verizon-media"===t.integration}function Id(t){if(ht(t))return!t;if(Rd(t))return!t.id;if(Sd(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Ad(t){return Boolean(at(t)&&ht(t.src))}function Cd(t){return ht(t)||Ad(t)||Sd(t)||Rd(t)}function Dd(t){if(t){if(Cd(t))return Id(t);for(var n=0;n<t.length;n++){if(!Id(t[n]))return!1}return!0}return!0}function Nd(){return{crossOrigin:gd.Fw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Od(){return Wr({},Nd(),{src:void 0,type:_d.xw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function xd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:pd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return md.NONE;case"midroll-and-postroll":default:return md.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Wv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return pd.INSECURE;case"disabled":return pd.DISABLED;case"enabled":default:return pd.ENABLED}}(t.vpaidMode)),st(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ht)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Wv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Pd(t){if(!ct(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];ft(e)&&n.push(e)}return n}function Ld(t){return ht(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(yd||(yd={})),function(t){t.Fw="",t.Mw="anonymous",t.Bw="use-credentials"}(gd||(gd={})),function(t){t.Pw="application/dash+xml",t.Lw="application/vnd.apple.mpegurl",t.Uw="application/x-mpegurl",t.xw="video/mp4",t.Vw="application/vnd.theoplayer.hesp+json",t.qw="application/vnd.theo.hesp+json"}(_d||(_d={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(pd||(pd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(md||(md={})),function(t){t[t.Hw=0]="Hw",t[t.jw=1]="jw",t[t.Ww=2]="Ww",t[t.zw=3]="zw",t[t.$w=4]="$w"}(kd||(kd={}));var Fd,Md=function(t){function n(n,i){var r;return void 0===i&&(i=kd.Hw),(r=t.call(this,ns.lf)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ke),Bd=function(t){function n(n){var i;return(i=t.call(this,ns.Tf)||this).currentTime=n,i}return $(n,t),n}(Ke),Ud=function(t){function n(n){var i;return(i=t.call(this,ns.Ef)||this).currentTime=n,i}return $(n,t),n}(Ke);!function(t){t.Xw="canplay",t.Gw="canplaythrough",t.Yw="loadeddata",t.Kw="loadedmetadata",t.Dl="readystatechange",t.Jw="waiting",t.Qw="playing"}(Fd||(Fd={}));var Vd,qd,Hd=[Fd.Xw,Fd.Gw,Fd.Yw,Fd.Kw,Fd.Dl,Fd.Jw,Fd.Qw],jd=function(t){function n(n,i){var r;return void 0===i&&(i=kd.jw),(r=t.call(this,Fd.Kw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ke),Wd=function(t){function n(n){var i;return(i=t.call(this,ns.df)||this).duration=n,i}return $(n,t),n}(Ke),zd=function(t){function n(n,i){var r;return(r=t.call(this,ns.Rf)||this).currentTime=n,r.playbackRate=i,r}return $(n,t),n}(Ke),$d=function(t){function n(n,i){var r;return(r=t.call(this,ns.Mf)||this).currentTime=n,r.currentProgramDateTime=i,r}return $(n,t),n}(Ke),Xd=function(t){function n(n){var i;return(i=t.call(this,ns.wf)||this).currentTime=n,i}return $(n,t),n}(Ke),Gd=function(t){function n(n,i){var r;return void 0===i&&(i=kd.Ww),(r=t.call(this,Fd.Yw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ke),Yd=function(t){function n(n){var i;return(i=t.call(this,ns.Df)||this).currentTime=n,i}return $(n,t),n}(Ke),Kd=function(t){function n(n){var i;return(i=t.call(this,ns.Cf)||this).currentTime=n,i}return $(n,t),n}(Ke),Jd=function(t){function n(n,i){var r;return(r=t.call(this,ns.Bf)||this).currentTime=n,r.volume=i,r}return $(n,t),n}(Ke),Qd=function(t){function n(n,i){var r;return void 0===i&&(i=kd.zw),(r=t.call(this,Fd.Xw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ke),Zd=function(t){function n(n,i){var r;return void 0===i&&(i=kd.$w),(r=t.call(this,Fd.Gw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ke),tl=function(t){function n(n,i){var r;return(r=t.call(this,Fd.Dl)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ke),nl=function(t){function n(n){var i;return(i=t.call(this,rd.aw)||this).errorObject=n,i}return $(n,t),n.prototype.yl=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Sv);function il(t){switch(t){case Vd.ALL:case Vd.CONTENT:return t;default:return Vd.NONE}}function rl(t){var n,i,r,e=Vv(t||{});return e.libraryLocation&&(e.libraryLocation=Vf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=Td(e.cast),e.ads=xd(e.ads),e.analytics=Pd(e.analytics),e.mutedAutoplay=il(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=ht(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Vf(t)}catch(t){return void N.Oo("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function el(t){return{Zw:t.Zw,ty:t.ty,ny:t.ny,vc:t.vc,iy:t.iy,ey:t.ey,uy:t.uy,oy:t.oy,gw:t.gw,sy:t.sy,ay:t.ay,hy:t.hy,vy:t.vy}}function ul(t,n,i){if(n!==i){var r=n.Zw,e=n.ty,u=n.ey,o=n.uy,s=n.oy,c=n.gw,a=n.sy,f=(n.hy,n.ay,n.vy),h=i.Zw,v=i.ty,d=i.ny,l=i.iy,w=i.ey,y=i.uy,g=i.oy,p=i.gw,m=i.sy,k=(i.hy,i.ay,i.vy);c!==kd.Hw&&t.Js(new Md(h,p)),y&&!o?t.Js(new Bd(h)):!y&&o&&t.Js(new Ud(h)),p>=kd.jw&&t.Js(new jd(h,p)),v===e||_(v)&&_(e)||t.Js(new Wd(v)),g!==s&&t.Js(new zd(h,g)),h!==r&&t.Js(new $d(h,void 0)),d&&t.Js(new Xd(h)),p>=kd.Ww&&t.Js(new Gd(h,p)),m&&!a?t.Js(new Yd(h)):!m&&a&&t.Js(new Kd(h)),k===f&&w===u||t.Js(new Jd(h,k)),p>=kd.zw&&t.Js(new Qd(h,p)),p>=kd.$w&&t.Js(new Zd(h,p)),p!==c&&t.Js(new tl(h,p)),l&&t.Js(new nl(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Vd||(Vd={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(qd||(qd={}));var ol,sl=400,cl=.25,al={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},fl={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},hl={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},vl={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function dl(){var t;return t=N.Ko._o?hl:N.Ko.mo?"Android"===N.Jo.Qo?fl:al:vl,N.Jo.Zo?function(t){if(N.Jo.Zo){var n=(sl+250)/1e3,i=w.max(n,t.windowStart),r=w.max(i+cl,t.target),e=w.max(r+cl,t.windowEnd);return{windowStart:i,target:r,windowEnd:e,maxOffset:w.max(e+cl,t.maxOffset)}}return t}(t):t}function ll(t){return{goLive:function(){return t.ly()},get isLive(){return t.wy},get currentServerLiveTime(){return t.yy},get currentLatency(){return t.gy},get latency(){return t._y},set latency(n){if(!function(t){if(!at(t))return!1;var n=t,i=ot(n.target)&&"number"==typeof n.target&&ot(n.windowEnd)&&"number"==typeof n.windowEnd&&ot(n.windowStart)&&"number"==typeof n.windowStart&&ot(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t._y=n},get manifest(){return t.py},get metrics(){return t.my},addEventListener:function(n,i){t.Qs(yl(n),i)},removeEventListener:function(n,i){t.ic(yl(n),i)}}}!function(t){t[t.lw=0]="lw",t[t.ky=1]="ky",t[t.by=2]="by"}(ol||(ol={}));var wl=["analytic","golive","nogolive","bufferedchange"];function yl(t){var n=Yv(t,Xv);return(ht(n)?[n]:n).filter(function(t){return Ce(wl,t)})}var gl,_l=function(t){function n(){var n;return(n=t.call(this)||this).Xl=void 0,n.ll=void 0,n.Ty=dl(),n.Xl=void 0,n}$(n,t);var i=n.prototype;return i.Kl=function(t){t.Qs(wl,this.Ks)},i.Jl=function(t){t.ic(wl,this.Ks)},i.ly=function(){var t;null==(t=this.Xl)||t.ly()},i.sr=function(){this.nc(),this.Xl&&this.Jl(this.Xl),this.Xl=void 0},W(n,[{key:"Ql",get:function(){return this.Xl},set:function(t){var n=this.Xl;t!==n&&(n&&this.Jl(n),t&&this.Kl(t),this.Xl=t,this.Xl&&(this.Xl._y=this.Ty))}},{key:"wl",get:function(){return this.ll||(this.ll=ll(this)),this.ll}},{key:"yy",get:function(){var t;return null==(t=this.Xl)?void 0:t.yy}},{key:"gy",get:function(){var t;return null==(t=this.Xl)?void 0:t.gy}},{key:"wy",get:function(){return!!this.Xl&&this.Xl.wy}},{key:"_y",get:function(){return this.Ty},set:function(t){this.Xl&&(this.Xl._y=t),this.Ty=t}},{key:"py",get:function(){var t;return null==(t=this.Xl)?void 0:t.py}},{key:"my",get:function(){var t;return null==(t=this.Xl)?void 0:t.my}}]),n}(Ge),pl=function(t){function n(n){var i;return(i=t.call(this)||this).Xl=void 0,i.Ey=[],i.Sy=!1,i.Ry=new ed,i.Iy=new ed,i.Ay=new fd,i.Cy=new _l,i.Dy=!1,i.Ny(n),n.tc(i.Ks),i.Xl=n,i.Ry.Ql=n.Oy,i.Iy.Ql=n.xy,i.Ay.Ql=n.Py,i.Cy.Ql=n.Ly,i}$(n,t);var i=n.prototype;return i.tr=function(){this.Xl.tr()},i.nr=function(){this.Xl.nr()},i.Fy=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",je(this.Ey.map(function(t){return t.Fy()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.My=function(){return this.Xl.My()},i.By=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Le(i),t.next=3,this.Xl.By(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Uy=function(){return this.Ql.Uy()},i.Vy=function(){this.Ql.Vy()},i.qy=function(){this.Ql.qy()},i.hr=function(){if(!this.Sy){for(var t=0,n=this.Ey;t<n.length;t++){n[t].hr()}this.Sy=!0}},i.Hy=function(t){this.Xl.Hy(t)},i.jy=function(){this.Xl.jy()},i.Wy=function(){this.Xl.Wy()},i.zy=function(){this.Xl.zy()},i.$y=function(){return this.Xl.$y()},i.Xy=function(){return this.Xl.Xy()},i.Gy=function(){for(var t=[],n=0,i=this.Ey;n<i.length;n++){var r=i[n];t.push.apply(t,r.Gy())}return t},i.Yy=function(t){for(var n=!1,i=0,r=this.Ey;i<r.length;i++){n=r[i].Yy(t)||n}return n},i.Js=function(n){this.Yy(n)||t.prototype.Js.call(this,n)},i.Ny=function(t){this.Ey.push(t)},i.Ky=function(t){Ie(this.Ey,t)},i.Jy=function(t){if(t!==this.Xl){var n=this.Xl;n.jy(),n.uc(this.Ks);var i=el(this),r=this.Qy,e=this.Xy();this.Xl=t,this.Ry.Ql=t.Oy,this.Iy.Ql=t.xy,this.Ay.Ql=t.Py,this.Cy.Ql=t.Ly,ul(this,i,this);var u=this.Qy;u!==r&&this.Js(new ld(u)),this.Xy()!==e&&this.Js(new dd),t.tc(this.Ks),t.Hy(n)}},i.Zy=function(){},i.sr=function(){var t=C.coroutine(jr.mark(function t(){var n,i,r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.nc(),this.Xl.jy(),n=0,i=this.Ey;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.sr();case 7:n++,t.next=3;break;case 10:this.Ry.sr(),this.Iy.sr(),this.Ay.sr(),this.Cy.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wl=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",je(this.Ey.map(function(t){return t.Wl()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"Oy",get:function(){return this.Ry}},{key:"Py",get:function(){return this.Ay}},{key:"xy",get:function(){return this.Iy}},{key:"tg",get:function(){return this.Xl.tg}},{key:"ng",get:function(){return this.Xl.ng},set:function(t){this.Xl.ng=t}},{key:"Qy",get:function(){return this.Xl.Qy}},{key:"Zw",get:function(){return this.Xl.Zw},set:function(t){this.Xl.Zw=t}},{key:"ty",get:function(){return this.Xl.ty}},{key:"ig",get:function(){return this.Xl.ig}},{key:"ny",get:function(){return this.Xl.ny}},{key:"vc",get:function(){return this.Xl.vc}},{key:"iy",get:function(){return this.Xl.iy}},{key:"Ly",get:function(){return this.Cy}},{key:"rg",get:function(){return this.Xl.rg}},{key:"my",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.eg,i+=c.ug,r+=c.og,e+=c.sg,u+=c.cg,o.amountOfBufferedAudioSegments+=c.ag.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.ag.amountOfBufferedVideoSegments}return{eg:n,ug:i,og:r,sg:e,cg:u,ag:o}}(this.Ey.map(function(t){return t.my}))}},{key:"ey",get:function(){return this.Xl.ey},set:function(t){this.Xl.ey=t}},{key:"fg",get:function(){return this.Xl.fg}},{key:"uy",get:function(){return this.Xl.uy}},{key:"oy",get:function(){return this.Xl.oy},set:function(t){this.Xl.oy=t}},{key:"hg",get:function(){return this.Xl.hg}},{key:"vg",get:function(){return this.Xl.vg},set:function(t){this.Xl.vg=t}},{key:"gw",get:function(){return this.Xl.gw}},{key:"dg",get:function(){return this.Xl.dg}},{key:"sy",get:function(){return this.Xl.sy}},{key:"ay",get:function(){return this.Xl.ay}},{key:"hy",get:function(){return this.Xl.hy}},{key:"vy",get:function(){return this.Xl.vy},set:function(t){this.Xl.vy=t}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"Ql",get:function(){return this.Xl},set:function(t){this.Jy(t)}}]),n}(vd),ml=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=o,a.response=s,a.systemCode=c,a}return $(n,t),W(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Lo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(gl||(gl={}));var kl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,v.captureStackTrace&&v.captureStackTrace(on(u),u.constructor),u}return $(n,t),W(n,[{key:"name",get:function(){return"MediaError"}}]),n}(sn);function bl(t){Bv(t,"MEDIA_ERR_ABORTED",gl.ABORTED),Bv(t,"MEDIA_ERR_NETWORK",gl.NETWORK),Bv(t,"MEDIA_ERR_DECODE",gl.DECODE),Bv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",gl.SRC_NOT_SUPPORTED),Bv(t,"MEDIA_ERR_ENCRYPTED",gl.ENCRYPTED)}function Tl(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new kl(gl.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new kl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return gl.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return gl.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return gl.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return gl.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return gl.NETWORK;if(i===n.ErrorCategory.SOURCE)return gl.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return gl.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return gl.ENCRYPTED;if(i===n.ErrorCategory.AD)return gl.ADVERTISEMENT_ERROR;return gl.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}bl(kl),bl(kl.prototype);var El,Sl=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.ql=function(n){return t.prototype.ql.call(this,n)},i.yl=function(){return nd(this)},n}(xv);!function(t){t.qv="audio",t.Hv="video",t.hu="text",t.jv="image",t.Cv="unknown"}(El||(El={}));var Rl=function(){function t(){this.wg=[],this.ll=void 0}var n=t.prototype;return n.yg=function(t){this.wg.push(t),this.ll&&this.ll.push(t.wl)},n.Vl=function(t){return this.wg[t]},n.gg=function(t){return st(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ce(t,n[i]))return!1;return!0}(this.wg,t):Ce(this.wg,t)},W(t,[{key:"zl",get:function(){return this.wg}},{key:"$l",get:function(){return this.wg.length}},{key:"wl",get:function(){var t,n;return this.ll||(this.ll=((n=(t=this).zl.map(function(t){return t.wl})).item=function(n){var i=0|n,r=t.Vl(i);return r&&r.wl||void 0},n)),this.ll}}]),t}(),Il=function(t){function n(n){var i;return(i=t.call(this,Rv.Pl)||this).gl=n,i}return $(n,t),n.prototype.yl=function(){return new Al(this.gl.wl)},n}(Iv),Al=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return $(n,t),n}(Av),Cl=0;function Dl(){return Cl++}var Nl=0;var Ol=0;var xl=0;var Pl=function(t){function n(n){var i;return(i=t.call(this)||this).ks=El.qv,i._g=void 0,i.pg=void 0,i.mg=void 0,i.kg=void 0,i.bg=!1,i.wg=void 0,i.ll=void 0,i._g=n,i.kg=Dl(),i.pg=xl+++"",i.mg=n.label,i.wg=new Rl,i.Tg(),i}$(n,t);var i=n.prototype;return i.Eg=function(t){this.nw=t},i.Tg=function(){this.nw=this.Sg},W(n,[{key:"tw",get:function(){}},{key:"nw",get:function(){return this.bg},set:function(t){this.bg!==t&&(this.bg=t,this.Sg=t,this.Js(new Pv(this)))}},{key:"Sg",get:function(){return!!this._g.enabled},set:function(t){this._g.enabled=t}},{key:"wl",get:function(){return this.ll||(this.ll=Zv(this)),this.ll}},{key:"iw",get:function(){return this.pg}},{key:"rw",get:function(){return this.kg}},{key:"ew",get:function(){return this._g.kind}},{key:"uw",get:function(){return this.mg},set:function(t){t!==this.mg&&(this.mg=t,this.Js(new Il(this)))}},{key:"ow",get:function(){return this._g.language}},{key:"hw",get:function(){return this.nw?"enabled":"disabled"}},{key:"Rg",get:function(){return this._g}},{key:"sw",get:function(){return this.wg}},{key:"cw",get:function(){},set:function(t){}}]),n}(Ge),Ll=0;var Fl,Ml,Bl,Ul,Vl,ql=function(t){function n(n){var i;return(i=t.call(this)||this).ks=El.Hv,i._g=void 0,i.pg=void 0,i.kg=void 0,i.bg=!1,i.wg=void 0,i.mg=void 0,i.ll=void 0,i._g=n,i.kg=Dl(),i.pg=Ll+++"",i.wg=new Rl,i.mg=n.label,i.Tg(),i}$(n,t);var i=n.prototype;return i.Tg=function(){this.nw=this.Sg},i.Eg=function(t){this.nw=t},W(n,[{key:"tw",get:function(){}},{key:"nw",get:function(){return this.bg},set:function(t){this.bg!==t&&(this.bg=t,this.Sg=t,this.Js(new Pv(this)))}},{key:"Sg",get:function(){return!!this._g.selected},set:function(t){this._g.selected=t}},{key:"wl",get:function(){return this.ll||(this.ll=Zv(this)),this.ll}},{key:"iw",get:function(){return this.pg}},{key:"rw",get:function(){return this.kg}},{key:"ew",get:function(){return"main"}},{key:"uw",get:function(){return this.mg},set:function(t){t!==this.mg&&(this.mg=t,this.Js(new Il(this)))}},{key:"ow",get:function(){return this._g.language}},{key:"hw",get:function(){return this.nw?"enabled":"disabled"}},{key:"Rg",get:function(){return this._g}},{key:"sw",get:function(){return this.wg}},{key:"cw",get:function(){},set:function(t){}}]),n}(Ge),Hl=function(t){function n(n){var i;return(i=t.call(this,ns.ef)||this).rg=n,i}return $(n,t),n}(Ke);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Fl||(Fl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Ml||(Ml={})),function(t){t.Ig="cue",t.Ag="region",t.Cg="stylesheet"}(Bl||(Bl={})),function(t){t.Dg="Ng",t.Og="xg",t.Pl="Qc"}(Ul||(Ul={})),function(t){t.Dg="enter",t.Og="exit",t.Pl="update"}(Vl||(Vl={}));var jl=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Pg=i,r}return $(n,t),n}(Iv),Wl=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return $(n,t),n}(Av);function zl(t){var n,i=[Ul.Dg,Ul.Og,Ul.Pl],r={get track(){return t.gl.wl},get id(){return t.iw},get uid(){return t.rw},get startTime(){return t.Lg},get endTime(){return t.Fg},get content(){return t.Mg},addEventListener:function(t,i){var r=Yv(t,Xv);n.Qs(r,i)},removeEventListener:function(t,i){var r=Yv(t,Xv);n.ic(r,i)}};return n=new Ye(r),t.Qs(i,function(t){return n.Js(t.wl)}),r}function $l(){}var Xl=.02;var Gl=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).kg=void 0,o.pg=void 0,o.Bg=void 0,o.Ug=void 0,o.ll=void 0,o.Vg=void 0,o.qg=!1,o.Hg=void 0,o.jg=void 0,o.Wg="",o.zg=-1,o.kg=Ol++,o.Bg=n,o.Ug=i,o.Hg=r,o.jg=Boolean(e),o.pg=null!=u?u:"",o}$(n,t);var i=n.prototype;return i.yl=function(){return zl(this)},i.$g=function(t){return this===t||Hv(this,t)&&(i=t,Zt((n=this).Lg,i.Lg,Xl)&&Zt(n.Fg,i.Fg,Xl)&&n.iw===i.iw);var n,i},i.sr=function(){this.nc()},W(n,[{key:"Lg",get:function(){return this.Bg},set:function(t){this.Bg=t}},{key:"Fg",get:function(){return this.Ug},set:function(t){this.Ug=t}},{key:"iw",get:function(){return this.pg}},{key:"rw",get:function(){return this.kg}},{key:"wl",get:function(){return this.ll||(this.ll=this.yl()),this.ll}},{key:"Xg",get:function(){return this.qg},set:function(t){this.qg=t}},{key:"gl",get:function(){return this.Vg},set:function(t){this.Vg=t}},{key:"Mg",get:function(){return this.Hg},set:function(t){this.Hg=t}},{key:"Gg",get:function(){return this.Wg},set:function(t){this.Wg=t}},{key:"Yg",get:function(){return this.jg},set:function(t){this.jg=t}}]),n}(Ge);var Yl=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,u)||this).Kg="auto",o.Jg="start",o.Qg="auto",o.Zg="auto",o.t_=void 0,o.n_=!0,o.Ec=100,o.i_="center",o.r_="",o}return $(n,t),n.prototype.$g=function(n){return this===n||Hv(this,n)&&t.prototype.$g.call(this,n)&&(r=n,(i=this).Mg===r.Mg&&i.Kg===r.Kg&&i.Jg===r.Jg&&i.Qg===r.Qg&&i.Zg===r.Zg&&i.t_===r.t_&&i.n_===r.n_&&i.Ec===r.Ec&&i.i_===r.i_&&i.r_===r.r_);var i,r},W(n,[{key:"wl",get:function(){var t;return this.ll||(this.ll=Uv(zl(t=this),{get align(){return t.i_},get line(){return t.Kg},get lineAlign(){return t.Jg},get position(){return t.Qg},get positionAlign(){return t.Zg},get region(){return t.t_?t.t_.wl:null},get size(){return t.Ec},get snapToLines(){return t.n_},get text(){return t.Mg},get vertical(){return t.r_}})),this.ll}},{key:"ks",get:function(){return Bl.Ig}}]),n}(Gl);var Kl,Jl=function(){function t(t,n,i,r,e,u,o,s){this.ll=void 0,this.iw=t,this.Eo=n,this.e_=i,this.u_=r,this.o_=e,this.s_=u,this.c_=o,this.a_=s}return W(t,[{key:"wl",get:function(){var t;return this.ll||(this.ll=(t=this,{get id(){return t.iw},get identifier(){return t.iw},get lines(){return t.e_},get regionAnchorX(){return t.u_},get regionAnchorY(){return t.o_},get scrollValue(){return t.a_},get viewportAnchorX(){return t.s_},get viewportAnchorY(){return t.c_},get width(){return t.Eo}})),this.ll}},{key:"ks",get:function(){return Bl.Ag}}]),t}();!function(t){t[t.f_=0]="f_",t[t.h_=1]="h_",t[t.v_=-1]="v_"}(Kl||(Kl={}));var Ql=function(t,n){return(0|t)-(0|n)},Zl=function(t,n){return t===n?Kl.f_:t<n?Kl.v_:t>n?Kl.h_:_(t)?_(n)?Kl.f_:Kl.h_:Kl.v_};function tw(t,n,i){return Zt(t,n,i)?Kl.f_:Zl(t,n)}var nw=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Jt||i<w.max(w.abs(t),w.abs(n))*Jt}(t,n)?Kl.f_:Zl(t,n)},iw=function(){function t(){}var n=t.prototype;return n.d_=function(t){return this.l_()*t},n.w_=function(t){return this.y_(t)>0},n.g_=function(t){return this.y_(t)>=0},n.__=function(t,n){return this.m_(t).p_(n)},n.$g=function(t){return 0===this.y_(t)},n.k_=function(t){return this.y_(t)<0},n.p_=function(t){return this.y_(t)<=0},n.b_=function(){return this.T_()?this.E_():this},n.S_=function(t){return this.yg(t.E_())},n.m_=function(t){return this.S_(t).b_()},t}();function rw(t,n){return t.R_()?n.R_()?Kl.f_:Kl.h_:n.R_()?Kl.v_:t.I_()?n.I_()&&t.T_()===n.T_()?Kl.f_:t.T_()?Kl.v_:Kl.h_:n.T_()?Kl.h_:Kl.v_}var ew=function(){function t(t,n){this.A_=void 0,this.C_=void 0,this.A_=t,this.C_=n}t.D_=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.N_=function(n){return n.unsigned?new t(n,Kt.UZERO):new t(n,n.isNegative()?Kt.NEG_ONE:Kt.ZERO)},t.O_=function(n,i){if(_(n))return i?t.x_:t.P_;if(i){if(n<0)return t.x_;if(n>=3.402823669209385e38)return t.L_}else{if(n<=-1.7014118346046923e38)return t.F_;if(n+1>=1.7014118346046923e38)return t.M_}return n<0?t.O_(-n,i).E_():t.D_(Kt.fromNumber(n%0x10000000000000000),Kt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.B_=function(){return this.C_.unsigned},n.U_=function(){return this.A_.isZero()&&this.C_.isZero()},n.T_=function(){return this.C_.isNegative()},n.V_=function(){return this.B_()?t.D_(this.A_,this.C_,!1):this},n.q_=function(){return this.B_()?this:t.D_(this.A_,this.C_,!0)},n.H_=function(){return this.A_},n.l_=function(){return this.T_()?-this.E_().l_():0x10000000000000000*this.C_.toNumber()+this.A_.toUnsigned().toNumber()},n.j_=function(){return this.A_.toInt()},n.$g=function(t){return(this.B_()===t.B_()||this.C_.getHighBits()>>>31!=1||t.C_.getHighBits()>>>31!=1)&&(this.C_.toUnsigned().eq(t.C_.toUnsigned())&&this.A_.toUnsigned().eq(t.A_.toUnsigned()))},n.y_=function(t){if(this.$g(t))return Kl.f_;var n=this.T_(),i=t.T_();if(n&&!i)return Kl.v_;if(!n&&i)return Kl.h_;if(!this.B_())return this.S_(t).T_()?Kl.v_:Kl.h_;var r=this.q_(),e=t.q_(),u=e.C_.comp(r.C_);return u>0||0===u&&e.A_.gt(r.A_)?Kl.v_:Kl.h_},n.k_=function(t){return this.y_(t)<0},n.p_=function(t){return this.y_(t)<=0},n.W_=function(t){return this.y_(t)>0},n.z_=function(t){return this.y_(t)>=0},n.X_=function(){return new t(this.A_.not(),this.C_.not())},n.G_=function(n){return new t(this.A_.and(n.A_),this.C_.and(n.C_))},n.Y_=function(n){return new t(this.A_.or(n.A_),this.C_.or(n.C_))},n.K_=function(n){var i=127&n;return 0===i?this:i<64?t.D_(this.A_.shl(i),this.C_.shl(i).or(this.A_.shru(64-i)),this.B_()):t.D_(Kt.ZERO,this.A_.shl(i-64),this.B_())},n.J_=function(n){var i=127&n;return 0===i?this:i<64?t.D_(this.A_.shru(i).or(this.C_.shl(64-i)),this.C_.shr(i),this.B_()):t.D_(this.C_.shr(i-64),this.C_.isNegative()?Kt.NEG_ONE:Kt.ZERO,this.B_())},n.Q_=function(n){var i=127&n;return 0===i?this:i<64?t.D_(this.A_.shru(i).or(this.C_.shl(64-i)),this.C_.shru(i),this.B_()):64===i?t.D_(this.C_,Kt.ZERO,this.B_()):t.D_(this.C_.shru(i-64),Kt.ZERO,this.B_())},n.yg=function(n){var i=this.C_.high>>>16,r=65535&this.C_.high,e=this.C_.low>>>16,u=65535&this.C_.low,o=this.A_.high>>>16,s=65535&this.A_.high,c=this.A_.low>>>16,a=65535&this.A_.low,f=n.C_.high>>>16,h=65535&n.C_.high,v=n.C_.low>>>16,d=65535&n.C_.low,l=n.A_.high>>>16,w=65535&n.A_.high,y=n.A_.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.A_.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=r+h)>>>16,_&=65535,g+=i+f,g&=65535;var S=this.B_(),R=Kt.fromBits(p<<16|m,g<<16|_,S),I=Kt.fromBits(T<<16|E,k<<16|b,S);return t.D_(I,R,S)},n.S_=function(t){return this.yg(t.E_())},n.E_=function(){return this.X_().yg(t.Z_)},n.tp=function(n){if(this.U_()||n.U_())return this.B_()?t.x_:t.P_;if(this.T_())return n.T_()?this.E_().tp(n.E_()):this.E_().tp(n).E_();if(n.T_())return this.tp(n.E_()).E_();if(this.C_.isZero()&&0===this.A_.high&&n.C_.isZero()&&0===n.A_.high)return t.N_(this.A_.multiply(n.A_));var i=Kt.fromBits(4294967295,0,!0),r=this.A_.and(i),e=this.A_.shru(32),u=this.C_.and(i),o=this.C_.shru(32),s=n.A_.and(i),c=n.A_.shru(32),a=n.C_.and(i),f=n.C_.shru(32),h=Kt.UZERO,v=Kt.UZERO,d=Kt.UZERO,l=Kt.UZERO;h=h.add(r.mul(s)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(e.mul(a)).add(r.mul(f)).and(i);var w=Kt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Kt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.D_(w,y,this.B_())},n.np=function(n){var i,r,e=n;if(e.U_())throw new RangeError("division by zero");if(this.U_())return this.B_()?[t.x_,t.x_]:[t.P_,t.P_];if(this.B_()){if(e.B_()||(e=e.q_()),e.W_(this))return[t.x_,this];if(e.W_(this.Q_(1)))return[r=t.ip,i=this.S_(e)];r=t.x_}else{if(this.$g(t.F_)){if(e.$g(t.Z_)||e.$g(t.rp))return[t.F_,t.P_];if(e.$g(t.F_))return[t.Z_,t.P_];var u=this.J_(1).ep(e).K_(1);return u.$g(t.P_)?r=e.T_()?t.Z_:t.rp:(i=this.S_(e.tp(u)),r=u.yg(i.ep(e))),[r,i=this.S_(e.tp(r))]}if(e.$g(t.F_))return this.B_()?[t.x_,this]:[t.P_,this];if(this.T_()){if(e.T_())return this.E_().np(e.E_());var o=this.E_().np(e);return r=o[0],i=o[1],[r.E_(),i.E_()]}if(e.T_()){var s=this.np(e.E_());return r=s[0],i=s[1],[r.E_(),i.E_()]}r=t.P_}for(i=this;i.z_(e);){for(var c=w.max(1,w.floor(i.l_()/e.l_())),a=w.ceil(w.log(c)/w.LN2),f=a<=48?1:w.pow(2,a-48),h=t.O_(c),v=h.tp(e);v.T_()||v.W_(i);)c-=f,v=(h=t.O_(c,this.B_())).tp(e);h.U_()&&(h=t.Z_),r=r.yg(h),i=i.S_(v)}return[r,i]},n.ep=function(t){return this.np(t)[0]},n.op=function(t){return this.np(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.U_())return"0";if(this.T_()){if(this.$g(t.F_)){var r=t.O_(i),e=this.ep(r),u=e.tp(r).S_(this);return e.toString(i)+u.j_().toString(i)}return"-"+this.E_().toString(i)}for(var o=t.O_(w.pow(i,6),this.B_()),s=this,c="";;){var a=s.ep(o),f=(s.S_(a.tp(o)).j_()>>>0).toString(i);if((s=a).U_())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();ew.P_=ew.N_(Kt.ZERO),ew.x_=ew.N_(Kt.UZERO),ew.Z_=ew.N_(Kt.ONE),ew.ip=ew.N_(Kt.UONE),ew.rp=ew.N_(Kt.NEG_ONE),ew.M_=ew.D_(Kt.NEG_ONE,Kt.MAX_VALUE,!1),ew.L_=ew.D_(Kt.MAX_UNSIGNED_VALUE,Kt.MAX_UNSIGNED_VALUE,!0),ew.F_=ew.D_(Kt.ZERO,Kt.MIN_VALUE,!1);var uw=function(){function t(t,n){void 0===n&&(n=1),this.sp=void 0,this.cp=void 0,this.sp=t,this.cp=n}t.ap=function(n){return new t(w.ceil(n.sp),n.cp)},t.fp=function(n){return new t(w.floor(n.sp),n.cp)},t.hp=function(t,n){return t.g_(n)?t:n},t.vp=function(t,n){return t.p_(n)?t:n};var n=t.prototype;return n.yg=function(n){return this.cp>=n.cp?new t(this.sp+n.dp(this.cp).sp,this.cp):new t(this.dp(n.cp).sp+n.sp,n.cp)},n.w_=function(t){return t.k_(this)},n.g_=function(t){return t.p_(this)},n.m_=function(n){return this.cp>=n.cp?new t(w.abs(this.sp-n.dp(this.cp).sp),this.cp):n.m_(this)},n.__=function(t,n){return this.m_(t).p_(n)},n.y_=function(t){return i=t,(n=this).cp>=i.cp?nw(n.sp,i.dp(n.cp).sp):nw(n.dp(i.cp).sp,i.sp);var n,i},n.$g=function(t){return 0===this.y_(t)},n.k_=function(t){return this.y_(t)<0},n.p_=function(t){return this.y_(t)<=0},n.dp=function(n){return new t(this.sp*(n/this.cp),n)},n.S_=function(n){return this.cp>=n.cp?new t(this.sp-n.dp(this.cp).sp,this.cp):new t(this.dp(n.cp).sp-n.sp,n.cp)},n.lp=function(n){return new t(this.sp*n,this.cp)},W(t,[{key:"I_",get:function(){return!isFinite(this.sp)}},{key:"wp",get:function(){return this.sp/this.cp}}]),t}();uw.yp=new uw(1/6,1),uw.P_=new uw(0),uw.gp=new uw(1/0),uw._p=1e6;var ow=function(t){function n(n,i){var r;return(r=t.call(this)||this).bu=void 0,r.cp=void 0,r.bu=n.toSigned(),r.cp=i>>>0,r}$(n,t),n.pp=function(t,i){return void 0===i&&(i=1e6),n.O_(t*i,i)},n.O_=function(t,i){return _(t)?n.mp:t===1/0?n.kp:t===-1/0?n.bp:new n(Kt.fromNumber(t),i)},n.N_=function(t,i){return new n(t,i)},n.Tp=function(t){return n.pp(t.wp,1e6)},n.Ep=function(t){return new n(Kt.fromNumber(t.getTime()),1e3)},n.hp=function(t,n){return t.g_(n)?t:n},n.vp=function(t,n){return t.p_(n)?t:n},n.Sp=function(t,i,r){return n.hp(i,n.vp(r,t))};var i=n.prototype;return i.T_=function(){return this.bu.isNegative()},i.U_=function(){return 0!==this.cp&&this.bu.isZero()},i.I_=function(){return 0===this.cp&&!this.bu.isZero()},i.R_=function(){return 0===this.cp&&this.bu.isZero()},i.l_=function(){if(0===this.cp)return this.bu.isZero()?NaN:this.bu.isNegative()?-1/0:1/0;var t=this.bu.divide(this.cp),n=this.bu.subtract(t.multiply(this.cp));return t.toNumber()+n.toNumber()/this.cp},i.H_=function(){if(0===this.cp)throw new v("Failed to convert timestamp");return this.bu},i.Rp=function(){return new Date(0===this.cp?NaN:this.dp(1e3).bu.toNumber())},i.Ip=function(){return new uw(0===this.cp?this.l_():this.bu.toNumber(),this.cp)},i.dp=function(t,i){void 0===i&&(i=aw.Ap);var r=this.cp;if(r===t)return this;if(0===r)return this;var e=tn(r,t);return new n(function(t,n,i){var r=t.np(n),e=r[0],u=r[1];if(u.U_())return e;if(i===aw.Ap)return u.T_()?e.S_(ew.Z_):e;if(i===aw.Cp)return u.T_()?e:e.yg(ew.Z_);var o=u.tp(ew.O_(2));return o.T_()?o.E_().k_(n)?e:e.S_(ew.Z_):o.k_(n)?e:e.yg(ew.Z_)}(ew.N_(this.bu).tp(ew.O_(t/e)),ew.O_(r/e),i).H_(),t)},i.y_=function(t){if(this===t)return Kl.f_;if(0===this.cp||0===t.cp)return rw(this,t);if(this.U_())return t.U_()?Kl.f_:t.T_()?Kl.h_:Kl.v_;if(t.U_())return this.T_()?Kl.v_:Kl.h_;var n=w.min(this.cp,t.cp),i=this.dp(n,aw.Dp).bu,r=t.dp(n,aw.Dp).bu;return i.compare(r)},i.E_=function(){return 0===this.cp?sw(this):new n(this.bu.negate(),this.cp)},i.yg=function(t){if(0===this.cp||0===t.cp)return cw(this,t);if(this.U_())return t;if(t.U_())return this;var i=w.max(this.cp,t.cp),r=this.dp(i,aw.Dp),e=t.dp(i,aw.Dp);return new n(r.bu.add(e.bu),i)},i.tp=function(t){if(this.R_()||_(t))return n.mp;if(this.I_()||!isFinite(t)){if(this.U_()||0===t)return n.mp;var i=this.T_()?n.bp:n.kp;return t<0?i.E_():i}return this.U_()?this:new n(0===t?Kt.ZERO:this.bu.multiply(t),this.cp)},i.ep=function(t){if(this.R_()||_(t))return n.mp;if(this.I_())return isFinite(t)?0===t?1/t<0?this.E_():this:t<0?this.E_():this:n.mp;if(!isFinite(t))return new n(Kt.ZERO,this.cp);if(this.U_())return 0===t?n.mp:new n(Kt.ZERO,this.cp);if(0===t){var i=this.T_()?n.bp:n.kp;return 1/t<0?i.E_():i}return new n(this.bu.divide(t),this.cp)},i.Np=function(){return[this.bu.low,this.bu.high,this.cp]},n}(iw);function sw(t){return t.R_()?t:t.T_()?ow.kp:ow.bp}function cw(t,n){return t.R_()||n.R_()?ow.mp:t.I_()&&n.I_()?t.T_()===n.T_()?t:ow.mp:t.I_()?t:n}ow.P_=new ow(Kt.ZERO,1e6),ow.mp=new ow(Kt.ZERO,0),ow.kp=new ow(Kt.ONE,0),ow.bp=new ow(Kt.NEG_ONE,0);var aw,fw=function(t){function n(n,i){var r;return(r=t.call(this)||this).bu=void 0,r.cp=void 0,r.bu=BigInt.asIntN(64,n),r.cp=i>>>0,r}$(n,t),n.pp=function(t,i){return void 0===i&&(i=1e6),n.O_(t*i,i)},n.O_=function(t,i){return _(t)?n.mp:t===1/0?n.kp:t===-1/0?n.bp:new n(BigInt(w.floor(t)),i)},n.N_=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Tp=function(t){return n.pp(t.wp,1e6)},n.Ep=function(t){return n.O_(t.getTime(),1e3)},n.hp=function(t,n){return t.g_(n)?t:n},n.vp=function(t,n){return t.p_(n)?t:n},n.Sp=function(t,i,r){return n.hp(i,n.vp(r,t))};var i=n.prototype;return i.T_=function(){return this.bu<BigInt(0)},i.U_=function(){return 0!==this.cp&&this.bu===BigInt(0)},i.I_=function(){return 0===this.cp&&this.bu!==BigInt(0)},i.R_=function(){return 0===this.cp&&this.bu===BigInt(0)},i.l_=function(){if(0===this.cp)return this.bu===BigInt(0)?NaN:this.bu<BigInt(0)?-1/0:1/0;var t=this.bu/BigInt(this.cp),n=this.bu-t*BigInt(this.cp);return Number(t)+Number(n)/this.cp},i.H_=function(){if(0===this.cp)throw new v("Failed to convert timestamp");return this.Op()},i.Op=function(){var t=this.bu&BigInt(4294967295),n=this.bu>>BigInt(32)&BigInt(4294967295);return Kt.fromBits(Number(t),Number(n))},i.Rp=function(){return new Date(0===this.cp?NaN:Number(this.dp(1e3).bu))},i.Ip=function(){return new uw(0===this.cp?this.l_():Number(this.bu),this.cp)},i.dp=function(t,i){void 0===i&&(i=aw.Ap);var r=this.cp;if(r===t)return this;if(0===r)return this;var e=tn(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===aw.Ap)return e<BigInt(0)?r-BigInt(1):r;if(i===aw.Cp)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.bu*BigInt(t/e),BigInt(r/e),i),t)},i.y_=function(t){if(this===t)return Kl.f_;if(0===this.cp||0===t.cp)return rw(this,t);if(this.U_())return t.U_()?Kl.f_:t.T_()?Kl.h_:Kl.v_;if(t.U_())return this.T_()?Kl.v_:Kl.h_;var n=w.min(this.cp,t.cp),i=this.dp(n,aw.Dp).bu,r=t.dp(n,aw.Dp).bu;return i>r?Kl.h_:i<r?Kl.v_:Kl.f_},i.E_=function(){return 0===this.cp?hw(this):new n(-this.bu,this.cp)},i.yg=function(t){if(0===this.cp||0===t.cp)return vw(this,t);if(this.U_())return t;if(t.U_())return this;var i=w.max(this.cp,t.cp),r=this.dp(i,aw.Dp),e=t.dp(i,aw.Dp);return new n(r.bu+e.bu,i)},i.tp=function(t){if(this.R_()||_(t))return n.mp;if(this.I_()||!isFinite(t)){if(this.U_()||0===t)return n.mp;var i=this.T_()?n.bp:n.kp;return t<0?i.E_():i}return this.U_()?this:new n(0===t?BigInt(0):this.bu*BigInt(t),this.cp)},i.ep=function(t){if(this.R_()||_(t))return n.mp;if(this.I_())return isFinite(t)?0===t?1/t<0?this.E_():this:t<0?this.E_():this:n.mp;if(!isFinite(t))return new n(BigInt(0),this.cp);if(this.U_())return 0===t?n.mp:new n(BigInt(0),this.cp);if(0===t){var i=this.T_()?n.bp:n.kp;return 1/t<0?i.E_():i}return new n(this.bu/BigInt(t),this.cp)},i.Np=function(){var t=this.Op();return[t.low,t.high,this.cp]},W(n,null,[{key:"P_",get:function(){return n.xp||(n.xp=new n(BigInt(0),1e6)),n.xp}},{key:"mp",get:function(){return n.Pp||(n.Pp=new n(BigInt(0),0)),n.Pp}},{key:"kp",get:function(){return n.Lp||(n.Lp=new n(BigInt(1),0)),n.Lp}},{key:"bp",get:function(){return n.Fp||(n.Fp=new n(BigInt(-1),0)),n.Fp}}]),n}(iw);function hw(t){return t.R_()?t:t.T_()?fw.kp:fw.bp}function vw(t,n){return t.R_()||n.R_()?fw.mp:t.I_()&&n.I_()?t.T_()===n.T_()?t:fw.mp:t.I_()?t:n}fw.xp=void 0,fw.Pp=void 0,fw.Lp=void 0,fw.Fp=void 0,function(t){t[t.Ap=0]="Ap",t[t.Cp=1]="Cp",t[t.Dp=2]="Dp"}(aw||(aw={}));var dw,lw,ww,yw,gw=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?fw:ow,_w=9e4,pw=w.pow(2,33),mw=(gw.O_(pw,_w).ep(2),{Mp:0,Bp:1/0,Up:0}),kw=6,bw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Tw=[" ","\t","\n","\f","\r"],Ew=/^\d*$/,Sw=/.*[0-9]+.*/,Rw=/^[\d.-]+$/,Iw=/(^\.|\.$)/,Aw=/(\D\.|\.\D)/;function Cw(t,n){void 0===n&&(n=mw);var i={_w:[],Vp:[],qp:[]},r=Dw(t),e=new eo;if(Vw(r),Nw(r,function(t){return"\n"!==t},e),e.Cc>=r.length)return i;(e.Rc(1),"\n"!==r.charAt(e.Cc))?Lw(Ow(r,e,!1,!0,i,n),i):e.Rc(1);for(Nw(r,function(t){return"\n"===t},e);e.Cc<r.length;){Lw(Ow(r,e,!1,!1,i,n),i),Nw(r,function(t){return"\n"===t},e)}return i}function Dw(t){var n=de(t,"\0"," "),i=de(n,"\r\n","\n");return de(i,"\r","\n")}function Nw(t,n,i){for(var r=i.Cc;i.Cc<t.length&&n(t.charAt(i.Cc));)i.Rc(1);return t.substring(r,i.Cc)}function Ow(t,n,i,r,e,u){for(var o,s=0,c=n.Cc,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=Nw(t,function(t){return"\n"!==t},n),s++,n.Cc>=t.length?f=!0:n.Rc(1),le(o,"--\x3e")){if(r||1!==s&&(2!==s||h)){n.Ic(c);break}h=!0,c=n.Cc,v=new Yl(0,0,"",!1,a);try{Fw(o,e.Vp,v,u),a=""}catch(t){N.Oo(t),v=null}}else{if(""===o)break;r&&we(o,"X-TIMESTAMP-MAP")&&(e.Hp=xw(o)),r||2!==s||i||(ge("STYLE",a.replace(/ /g,""))?(d={ks:Bl.Cg},a=""):ge("REGION",a.replace(/ /g,""))&&(l=new Jl("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=o,c=n.Cc}if(v)return v.Mg=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&le(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),o=e.substring(0,u),s=e.substring(u+1,e.length);switch(o.toUpperCase()){case"ID":Jw(s,n);break;case"WIDTH":ty(s,n);break;case"LINES":Zw(s,n);break;case"REGIONANCHOR":var c=Kw(s);c&&(n.u_=c[0],n.o_=c[1]);break;case"VIEWPORTANCHOR":var a=Kw(s);a&&(n.s_=a[0],n.c_=a[1]);break;case"SCROLL":Qw(s,n)}}}}(a,l),l;return null}function xw(t){var n,i,r=t.split("=")[1].trim().split(","),e=Pw(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Pw(r[0].trim(),"LOCAL")?r[0]:r[1];return{jp:(i=Number(e.split(/:(.*)/)[1].trim())||0,gw.O_(i,_w)),Wp:gw.pp(null!=(n=Uw(u.split(/:(.*)/)[1].trim(),new eo))?n:0)}}function Pw(t,n){return we(t,n)}function Lw(t,n){t&&function(t){return t.ks===Bl.Ig}(t)?n._w.push(t):t&&function(t){return t.ks===Bl.Ag}(t)?n.Vp.push(t):t&&function(t){return t.ks===Bl.Cg}(t)&&n.qp.push(t)}function Fw(t,n,i,r){var e=new eo;if(qw(t,e),i.Lg=Mw(Uw(t,e),r),qw(t,e),"--\x3e"!==t.substring(e.Cc,e.Cc+3))throw v("Something went wrong with parsing a WebVTT Cue");e.Rc(3),qw(t,e),i.Fg=Mw(Uw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&le(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":$w(c,n,i);break;case"VERTICAL":Gw(c,n);break;case"D":Yw(c,n);break;case"LINE":case"L":Ww(c,n);break;case"POSITION":case"T":zw(c,n);break;case"SIZE":case"S":Xw(c,n);break;case"ALIGN":case"A":jw(c,n)}}}}(t.substring(e.Cc,t.length),i,n)}function Mw(t,n){return t+n.Mp}function Bw(t){return/^[0-9]$/.test(t)}function Uw(t,n){var i,r,e,u=de(t,",","."),o=!1;if(n.Cc>=u.length||!Bw(u.charAt(n.Cc)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var s=Nw(u,Bw,n),c=y(s,10);if((s.length>2||c>59)&&(o=!0),n.Cc>=u.length||":"!==u.charAt(n.Cc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Rc(1);var a=Nw(u,Bw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var f=y(a,10);if(o||n.Cc<u.length&&":"===u.charAt(n.Cc)){if(n.Cc>=u.length||":"!==u.charAt(n.Cc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Rc(1);var h=Nw(u,Bw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=y(h,10)}else i=0,r=c,e=f;if(n.Cc>=u.length||"."!==u.charAt(n.Cc))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Rc(1);var d=Nw(u,Bw,n),l=y(d,10);if(f>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Vw(t){if(t.length<kw)return!1;for(var n=0;n<bw.length;n++){if(we(t,bw[n]))return!0}return!1}function qw(t,n){for(;n.Cc<t.length&&(i=t.charAt(n.Cc),Ce(Tw,i));)n.Rc(1);var i}function Hw(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!_(i)&&i>=0&&i<=100)return i}return null}function jw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.i_=i;break;case"middle":n.i_="center"}}function Ww(t,n){var i=t,r="";if(le(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Sw.test(i)){var e;if(ye(i,"%")){var u=Hw(i);if(null===u)return;e=u}else{if(!Rw.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Aw.test(t)||Iw.test(t))return;if(e=g(t),_(e))return}switch(n.Kg=e,n.n_=ye(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Jg=r;break;case"middle":n.Jg="center"}}}function zw(t,n){var i=t,r="";le(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Hw(i);if(null!==e)switch(n.Qg=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Zg=r;break;case"start":n.Zg="line-left";break;case"middle":n.Zg="center";break;case"end":n.Zg="line-right"}}function $w(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].iw===t)return void(n.t_=i[r])}function Xw(t,n){var i=Hw(t);null!==i&&(n.Ec=i)}function Gw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.r_="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.r_="lr";break;default:n.r_=""}}function Yw(t,n){"VERTICAL"===t.toUpperCase()?n.r_="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.r_="lr")}function Kw(t){if(t.indexOf(",")>=0){var n=Hw(t.substring(0,t.indexOf(","))),i=Hw(t.substring(t.indexOf(",")+1,t.length));return[Qt(n||0,0,100),Qt(i||100,0,100)]}return null}function Jw(t,n){n.iw=t}function Qw(t,n){"up"===t.toLowerCase()&&(n.a_="up")}function Zw(t,n){Ew.test(t)&&(n.e_=y(t))}function ty(t,n){var i=Hw(t);null!==i&&(n.Eo=i)}!function(t){t.zp="moov",t.$p="mvhd",t.Xp="trak",t.Gp="tkhd",t.Yp="mdia",t.Kp="mdhd",t.Jp="hdlr",t.Qp="minf",t.Zp="stbl",t.tm="stsd",t.nm="stsc",t.im="mvex",t.rm="trex",t.um="avc1",t.om="avcC",t.sm="hev1",t.cm="hvc1",t.am="hvcC",t.fm="pasp",t.hm="mp4a",t.vm="esds",t.dm="wvtt",t.lm="vttC",t.wm="vlab",t.ym="enca",t.gm="encv",t._m="moof",t.pm="mfhd",t.mm="traf",t.km="tfhd",t.bm="trun",t.Tm="tfdt",t.Em="mdat",t.Sm="pssh",t.Rm="emsg",t.Im="sidx",t.Am="styp",t.Cm="ftyp",t.Dm="sinf",t.Nm="frma"}(dw||(dw={})),function(t){t.Hv="vide",t.qv="soun",t.Om="subt",t.xm="hint",t.Pm="meta",t.Lm="auxv"}(lw||(lw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(ww||(ww={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(yw||(yw={}));var ny=function(){function t(t,n){this.Vu=void 0,this.Fm=void 0,this.Vu=t,this.Fm=n}var n=t.prototype;return n.Mm=function(){return Au(this.Vu,this.Fm)},n.Bm=function(){return Ou(this.Vu,this.Fm)},n.Um=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Cc,i);return n.Rc(2),r}(this.Vu,this.Fm)},n.Vm=function(){return Pu(this.Vu,this.Fm)},n.qm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Cc,i);return n.Rc(4),r}(this.Vu,this.Fm)},n.Hm=function(){return Fu(this.Vu,this.Fm)},n.jm=function(t){return Du(this.Vu,this.Fm,t)},n.Wm=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(Pu(t,n));return r}(this.Vu,this.Fm,t)},n.zm=function(t){return Uu(this.Vu,this.Fm,t)},n.$m=function(){return Gu(this.Vu,this.Fm)},n.Xm=function(t){this.Fm.Rc(t)},n.Ac=function(){return new t(this.Vu,this.Fm.Ac())},t}(),iy=function(t){function n(n,i){var r;return(r=t.call(this)||this).Gm=n,r.Ym=i,r}return $(n,t),W(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(cn),ry=function(){function t(){}return t.Km=function(n){var i=n.Vu,r=n.Fm,e=t.Jm(i,r,!1);if(!e.Qm)throw new iy(r.Cc,e.Nu);return e.Nu},t.Jm=function(n,i,r){for(var e=[];i.Cc<n.byteLength;){var u=t.Zm(n,i,r);if(!u.Qm)return{Qm:!1,Nu:e};e.push(u.tk)}return{Qm:!0,Nu:e}},t.nk=function(n,i){var r=t.Zm(n,i,!1);if(!r.Qm)throw new iy(i.Cc);return r.tk},t.ik=function(n,i){for(var r=n.Vu,e=n.Fm;e.Cc<r.byteLength;){var u=t.Zm(r,e,!1);if(!u.Qm)return;if(u.tk.ks===i)return u.tk}},t.Zm=function(n,i,r){var e=i.Cc,u=t.rk(n,i);if(!u.Qm)return u;var o=u.ek,s=o.Ec;if(0===s){if(r)return i.Ic(e),{Qm:!1,uk:1/0};s=n.byteLength-e}var c=e+s;if(c>n.byteLength){var a=c;return i.Ic(e),{Qm:!1,uk:a}}var f,h,v,d={ks:o.ks,Cc:e,Vu:new ny((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new eo(o.sk))};return i.Ic(c),{Qm:!0,tk:d}},t.rk=function(t,n){var i=n.Cc;if(!Nu(t,n,8))return{Qm:!1,uk:n.Cc+8};var r=Pu(t,n),e=Uu(t,n,4);if(1===r){if(!Nu(t,n,8)){var u=n.Cc+8;return n.Ic(i),{Qm:!1,uk:u}}r=Fu(t,n).toNumber()}if("uuid"===e){if(!Nu(t,n,16)){var o=n.Cc+16;return n.Ic(i),{Qm:!1,uk:o}}e=Uu(t,n,16)}return{Qm:!0,ek:{ks:e,Ec:r,sk:n.Cc-i}}},t.ck=function(t,n,i){var r=t.Vu,e=t.Fm,u=Ju(Zu(r),e.Cc,r.byteLength);return i&&(u=ro(u)),e.Rc(u.byteLength),{ks:n,Vu:u}},t.ak=function(n,i,r){var e=sy(n.Vm());return{ks:i,fk:e.version,hk:e.flags,Vu:t.ck(n,i,r).Vu}},t}();function ey(t,n){var i=uy(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function uy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ks===n)return r.Vu}}function oy(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.ks===n&&i.push(e.Vu)}return i}function sy(t){return{version:t>>24,flags:new Iu(16777215&t)}}var cy=function(){function t(){}return t.vk=function(n){for(var i=[],r=ry.Km(new ny(n,new eo)),e=0;e<r.length;e++){var u=r[e],o=t.dk(u);o&&i.push(o)}return i},t.lk=function(t){return ry.Jm(t,new eo,!1).Nu.some(function(t){return t.ks===dw._m||t.ks===dw.Am})},t.wk=function(n){return oy(ry.Km(new ny(n,new eo)),dw.Sm).map(t.yk)},t.gk=function(n){return oy(ry.Km(n.Vu),dw.Sm).map(t.yk)},t.dk=function(n){switch(n.ks){case dw.zp:return t._k(n.Vu);case dw._m:return t.pk(n.Vu,n.Cc);case dw.Em:return t.mk(n.Vu);case dw.Im:return t.kk(n.Vu);case dw.Rm:return t.bk(n.Vu)}},t._k=function(n){var i=ry.Km(n),r=ey(i,dw.$p),e=oy(i,dw.Xp),u=uy(i,dw.im),o=t.Tk(r),s=e.map(t.Ek),c=u?t.Sk(u):void 0;return{ks:dw.zp,ek:o,Rk:s,Ik:c}},t.Tk=function(t){var n=sy(t.Vm()),i=n.version,r=n.flags,e=1===i?t.Hm():t.Vm(),u=1===i?t.Hm():t.Vm(),o=t.Vm(),s=1===i?t.Hm():t.Vm(),c=t.Vm(),a=t.Bm()>>8;t.Xm(2),t.Xm(8);var f=t.Wm(9);t.Xm(24);var h=t.Vm();return{ks:dw.$p,fk:i,hk:r,Ak:e,Ck:u,cp:o,ty:s,Dk:c,vy:a,Nk:f,Ok:h}},t.Ek=function(n){var i=ry.Km(n),r=ey(i,dw.Gp),e=ey(i,dw.Yp),u=t.xk(r),o=t.Pk(e);return{ks:dw.Xp,ek:u,Lk:o}},t.xk=function(t){var n=sy(t.Vm()),i=n.version,r=n.flags,e=1===i?t.Hm():t.Vm(),u=1===i?t.Hm():t.Vm(),o=t.Vm();t.Xm(4);var s=1===i?t.Hm():t.Vm();t.Xm(8);var c=t.Um(),a=t.Um(),f=t.Um()/w.pow(2,8);t.Xm(2);var h=t.Wm(9),v=t.Vm()/w.pow(2,16),d=t.Vm()/w.pow(2,16);return{ks:dw.Gp,Fk:r.Nc(1),Mk:r.Nc(2),Bk:r.Nc(4),Ak:e,Ck:u,Uk:o,ty:s,Vk:c,qk:a,vy:f,Nk:h,Eo:v,Hk:d}},t.Pk=function(n){var i=ry.Km(n),r=ey(i,dw.Kp),e=ey(i,dw.Jp),u=ey(i,dw.Qp),o=t.jk(r),s=t.Wk(e),c=t.zk(u);return{ks:dw.Yp,ek:o,$k:s,Xk:c}},t.jk=function(t){var n=sy(t.Vm()),i=n.version,r=n.flags,e=1===i?t.Hm():t.Vm(),u=1===i?t.Hm():t.Vm(),o=t.Vm(),s=1===i?t.Hm():t.Vm();t.Bm();return t.Xm(2),{ks:dw.Kp,fk:i,hk:r,Ak:e,Ck:u,cp:o,ty:s}},t.Wk=function(t){var n=sy(t.Vm()),i=n.version,r=n.flags;t.Xm(4);var e=t.zm(4);t.Xm(12);var u=t.$m();return{ks:dw.Jp,fk:i,hk:r,Gk:e,pu:u}},t.zk=function(n){var i=ey(ry.Km(n),dw.Zp),r=t.Yk(i);return{ks:dw.Qp,Kk:r}},t.Yk=function(n){var i=ey(ry.Km(n),dw.tm),r=t.Jk(i);return{ks:dw.Zp,Qk:r}},t.Jk=function(n){for(var i=sy(n.Vm()),r=i.version,e=i.flags,u=(n.Vm(),[]),o=ry.Km(n),s=0;s<o.length;s++){var c=o[s],a=t.Zk(c.Vu,c.ks);a&&u.push(a)}return{ks:dw.tm,fk:r,hk:e,nb:u}},t.Zk=function(n,i){var r=t.ib(n,i);return r||((r=t.rb(n,i))||(i===dw.dm?t.eb(n):void 0))},t.ib=function(n,i){return i===dw.hm?t.ub(n):i===dw.ym?t.ob(n):void 0},t.rb=function(n,i){return i===dw.um?t.sb(n):i===dw.sm||i===dw.cm?t.cb(n,i):i===dw.gm?t.ab(n):void 0},t.fb=function(t,n){return t.Xm(6),{ks:n,hb:t.Bm()}},t.vb=function(n,i){var r=t.fb(n,i);n.Xm(8);var e=n.Bm(),u=n.Bm();return n.Xm(2),n.Xm(2),Wr({},r,{lb:e,wb:u,yb:n.Vm()>>>16})},t.gb=function(n,i){var r=t.fb(n,i);n.Xm(2),n.Xm(2),n.Xm(12);var e=n.Bm(),u=n.Bm(),o=n.Vm(),s=n.Vm();n.Xm(4);var c=n.Bm();n.Xm(32);var a=n.Bm();return n.Xm(2),Wr({},r,{Eo:e,Hk:u,_b:o,pb:s,mb:c,kb:a})},t.ub=function(n){var i=t.vb(n,dw.hm),r=ey(ry.Km(n),dw.vm);return Wr({},i,{bb:t.Tb(r)})},t.eb=function(n){var i=t.fb(n,dw.dm),r=ry.Km(n),e=ey(r,dw.lm),u=t.Eb(e),o=uy(r,dw.wm);return Wr({},i,{Sb:u,Rb:o?t.Ib(o):o})},t.Eb=function(t){return{ks:dw.lm,oa:t.$m()}},t.Ib=function(t){return{ks:dw.wm,uw:t.$m()}},t.Tb=function(t){return ry.ak(t,dw.vm,!0)},t.sb=function(n){var i=t.gb(n,dw.um),r=ry.Km(n),e=ey(r,dw.om),u=uy(r,dw.fm);return Wr({},i,{Ab:t.Cb(e),Db:u?t.Nb(u):void 0})},t.cb=function(n,i){var r=t.gb(n,i),e=ey(ry.Km(n),dw.am);return Wr({},r,{Ob:t.xb(e)})},t.ab=function(n){var i=n.Ac(),r=t.gb(n,dw.gm),e=ey(ry.Km(n),dw.Dm),u=t.Pb(e);return Wr({},r,{Lb:t.rb(i,u.Mb.Fb),Bb:u})},t.ob=function(n){var i=n.Ac(),r=t.vb(n,dw.ym),e=ey(ry.Km(n),dw.Dm),u=t.Pb(e);return Wr({},r,{Lb:t.ib(i,u.Mb.Fb),Bb:u})},t.Pb=function(n){var i=ey(ry.Km(n),dw.Nm),r=t.Ub(i);return{ks:dw.Dm,Mb:r}},t.Ub=function(t){var n=t.zm(4);return{ks:dw.Nm,Fb:n}},t.Cb=function(t){return ry.ck(t,dw.om,!0)},t.xb=function(t){return ry.ck(t,dw.am,!0)},t.Nb=function(t){var n=t.Vm(),i=t.Vm();return{ks:dw.fm,Vb:n,qb:i}},t.Sk=function(n){var i=oy(ry.Km(n),dw.rm).map(t.Hb);return{ks:dw.im,Rk:i}},t.Hb=function(t){var n=sy(t.Vm()),i=n.version,r=n.flags,e=t.Vm(),u=t.Vm(),o=t.Vm(),s=t.Vm(),c=t.Vm();return{ks:dw.rm,fk:i,hk:r,Uk:e,jb:u,Wb:o,zb:s,$b:c}},t.pk=function(n,i){var r=ry.Km(n),e=ey(r,dw.pm),u=oy(r,dw.mm),o=t.Xb(e),s=u.map(t.Gb);return{ks:dw._m,Yb:i,ek:o,Rk:s}},t.Xb=function(t){var n=sy(t.Vm()),i=n.version,r=n.flags,e=t.Vm();return{ks:dw.pm,fk:i,hk:r,Kb:e}},t.Gb=function(n){var i=ry.Km(n),r=ey(i,dw.km),e=oy(i,dw.bm),u=uy(i,dw.Tm),o=t.Jb(r),s=e.map(function(n){return t.Qb(n,o)}),c=u?t.Zb(u):void 0;return{ks:dw.mm,ek:o,tT:s,nT:c}},t.Jb=function(t){var n=sy(t.Vm()),i=n.version,r=n.flags,e=t.Vm(),u=r.Nc(ww.BASE_DATA_OFFSET_PRESENT)?t.Hm():void 0,o=r.Nc(ww.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Vm():void 0,s=r.Nc(ww.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Vm():void 0,c=r.Nc(ww.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Vm():void 0,a=r.Nc(ww.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Vm():void 0;return{ks:dw.km,fk:i,hk:r,Uk:e,iT:u,rT:o,Wb:s,zb:c,$b:a}},t.Qb=function(n,i){for(var r=sy(n.Vm()),e=r.version,u=r.flags,o=n.Vm(),s=u.Nc(yw.DATA_OFFSET_PRESENT)?n.qm():void 0,c=u.Nc(yw.FIRST_SAMPLE_FLAGS_PRESENT)?n.Vm():void 0,a=[],f=0;f<o;f++){var h=t.eT(n,u,e,i);0===f&&void 0!==c&&(h.hk=c),a.push(h)}return{ks:dw.bm,fk:e,hk:u,uT:o,Yb:s,oT:c,sT:a}},t.eT=function(t,n,i,r){return{ty:n.Nc(yw.SAMPLE_DURATION_PRESENT)?t.Vm():r.Wb,Ec:n.Nc(yw.SAMPLE_SIZE_PRESENT)?t.Vm():r.zb,hk:n.Nc(yw.SAMPLE_FLAGS_PRESENT)?t.Vm():r.$b,cT:n.Nc(yw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Vm():t.qm():void 0}},t.bk=function(t){var n=t.Vu,i=t.Fm,r=sy(Pu(n,i)),e=r.version,u=r.flags;if(1===e){var o=Pu(n,i),s=Fu(n,i),c=Pu(n,i),a=Pu(n,i),f=Bu(n,i),h=Bu(n,i),v=io(Zu(n),i.Cc,n.byteLength);return i.Rc(v.byteLength),{ks:dw.Rm,fk:e,hk:u,aT:f,bu:h,cp:o,fT:s,hT:c,iw:a,vT:v}}var d=Bu(n,i),l=Bu(n,i),w=Pu(n,i),y=Pu(n,i),g=Pu(n,i),_=Pu(n,i),p=io(Zu(n),i.Cc,n.byteLength);return i.Rc(p.byteLength),{ks:dw.Rm,hk:u,fk:e,aT:d,bu:l,cp:w,dT:y,hT:g,iw:_,vT:p}},t.mk=function(t){return ry.ck(t,dw.Em,!1)},t.yk=function(n){var i=n.Vu,r=n.Fm,e=ro(Zu(i)).buffer,u=sy(Pu(i,r)),o=u.version,s=u.flags,c=t.lT(i,r),a=[];if(o>0)for(var f=Pu(i,r),h=0;h<f;h++){var v=Du(i,r,16);a.push(v)}var d=Pu(i,r),l=new p(e,r.Cc,d);return r.Rc(i.byteLength),{ks:dw.Sm,fk:o,hk:s,wT:c,yT:a,gT:d,Vu:l,_T:e}},t.lT=function(t,n){for(var i="",r=0;r<4;r++){var e=Au(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var o=Au(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Au(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Au(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Au(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.kk=function(t){var n,i,r=t.Vu,e=t.Fm,u=sy(Pu(r,e)),o=u.version,s=u.flags,c=Pu(r,e),a=Pu(r,e);0===o?(n=Kt.fromBits(Pu(r,e),0,!0),i=Kt.fromBits(Pu(r,e),0,!0)):(n=Fu(r,e),i=Fu(r,e)),e.Rc(2);for(var f=Ou(r,e),h=[],v=0;v<f;v+=1){var d=Pu(r,e),l=d>>31&1,w=2147483647&d,y=Pu(r,e),g=Pu(r,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({pT:l,mT:w,ty:y,kT:_,bT:p,TT:m})}return{ks:dw.Im,fk:o,hk:s,ET:c,cp:a,ST:n,RT:i,IT:f,AT:h}},t.Zb=function(t){var n,i=t.Vu,r=t.Fm,e=sy(Pu(i,r)),u=e.version,o=e.flags;return n=0===u?Kt.fromBits(Pu(i,r),0,!0):Fu(i,r),{ks:dw.Tm,fk:u,hk:o,nT:n}},t}();function ay(t){return t&&"Du"in t?t.Du:t}var fy=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this,n,i,r,e)||this).CT=void 0,c.DT=void 0,c.NT=void 0,c.CT=u,c.DT=o,c.NT=s||void 0,c}return $(n,t),n.prototype.$g=function(n){return this===n||!!Hv(this,n)&&(!!t.prototype.$g.call(this,n)&&(!!qv(this.OT,n.OT)&&(!!qv(this.Vp,n.Vp)&&(this.xT&&n.xT?!!this.xT.yu(n.xT)&&(this.Mg&&n.Mg?this.Mg.yu(n.Mg):this.Mg===n.Mg):this.xT===n.xT))))},W(n,[{key:"OT",get:function(){return this.CT}},{key:"Vp",get:function(){return this.DT}},{key:"xT",get:function(){return this.NT}},{key:"wl",get:function(){var t;return this.ll||(this.ll=Uv(zl(t=this),{get styles(){return t.OT},get regions(){return t.Vp},get metadata(){return ay(t.xT)},get content(){return ay(t.Mg)}})),this.ll}}]),n}(Gl),hy=function(){function t(t,n,i){this.qh=void 0,this.PT=void 0,this.LT=void 0,this.PT=t,this.LT=n,un(i)?this.qh=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Pu(u)}return i}(0,0,i):this.qh=i}return W(t,[{key:"FT",get:function(){return this.qh.gu(!0)}},{key:"Lg",get:function(){return this.PT}},{key:"Fg",get:function(){return this.LT}}]),t}();var vy="http://www.w3.org/XML/1998/namespace";function dy(t,n){return function(t,n){var i=t.Nu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Nu)}return r}(t,function(t){return t.Iu===n})}function ly(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function wy(t,n){for(var i=t.Bu,r={},e=0;e<i.length;e++)r[ly(i[e].pu,n)]=i[e].bu;return r}var yy=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,gy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,_y="http://www.w3.org/ns/ttml";function py(t,n,i){return void 0===i&&(i=mw),function(t,n,i){var r,e=[];try{r=N.lu(t)}catch(t){return e}var u=r.qu;if("tt"!==u._u)return e;var o=u&&u.Au(_y,"head")[0],s=u&&u.Au(_y,"body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var a=function(t,n){for(var i={},r=t.Au(_y,"styling")[0],e=r&&r.Au(_y,"style")||[],u=0;u<e.length;u++){var o=e[u],s=o.xu(vy,"id");i[s]=wy(o,n)}return i}(o,c),f=function(t,n){var i=Vv(t),r=Ty(n.Ou("tts:extent"));if(!r)return i;for(var e=0,u=l.keys(i);e<u.length;e++){var o=u[e],s=Ty(i[o].extent);if(s){var c=ky(s[0],r[0]),a=ky(s[1],r[1]);i[o].extent=c+" "+a}var f=Ty(i[o].origin);if(f){var h=ky(f[0],r[0]),v=ky(f[1],r[1]);i[o].origin=h+" "+v}}return i}(function(t,n){for(var i={},r=t.Au(_y,"layout")[0],e=r&&r.Au(_y,"region")||[],u=0;u<e.length;u++){var o=e[u],s=o.xu(vy,"id");if(s){i[s]=wy(o,n);var c=Ry(o,n);for(var a in c)et.call(c,a)&&(i[s][a]=c[a])}}return i}(o,c),u),h=o.Au(_y,"metadata")[0],v=function t(n,i,r,e){var u=i;var o;var s=r;var c=[];var a=[];if(un(n)){var f,h;u=null!=(f=Sy(n.Ou("begin"),e))?f:u,o=Sy(n.Ou("dur"),0),s=null!=(h=Sy(n.Ou("end"),e))?h:void 0!==o?u+o:s;for(var v=n.Ru,d=0;d<v.length;d++)("body"===n._u||"div"===n._u)&&v[d].cu>1||(c=c.concat(t(v[d],u,s,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Lg,u.Fg)}r.sort(Zl);for(var o=r.length,s=0;s<o-1;s++)r[s+1]===r[s]&&(Ae(r,s+1),s--,o=r.length);return r}(u,s,c);for(var w=0;w<l.length-1;w++){var y=Ey(l[w],l[w+1],c);if(y.length<=0&&Iy(n)){var g=n.gu(!1);a.push(new hy(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.gu(!1);y.forEach(function(n){return t.Cu(n.FT)}),a.push(new hy(l[w],l[w+1],t))}()}return a}(s,i.Mp,i.Bp,i.Up),d=0;d<v.length;d++){var w=v[d],y=my(f,w);e.push(new fy(w.Lg,w.Fg,w.FT,!1,a,y,h))}return e}(t,0,i)}function my(t,n){for(var i=function t(n){var i=[];var r;if(un(n)){(r=n.Ou("region"))&&i.push(r);for(var e=n.Ru,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.FT),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function ky(t,n){var i=by(t),r=by(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return _(e)||_(u)?t:e/u*100+"%"}return t}function by(t){return ye(t,"px")?"px":ye(t,"em")?"em":ye(t,"c")?"c":ye(t,"%")?"%":void 0}function Ty(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Ey(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Lg,o=i[e].Fg;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&r.push(i[e])}return r}function Sy(t,n){if(t){if(yy.test(t)){var i=yy.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*r+60*e+u+(o?Number(o)*w.pow(.1,o.length):0)-n}if(gy.test(t)){var s=gy.exec(t);if(!s)return;var c,a=Number(s[1]);switch(s[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function Ry(t,n){for(var i={},r=t.Su("style")||[],e=0;e<r.length;e++){var u=wy(r[e],n);for(var o in u)et.call(u,o)&&(i[o]=u[o])}return i}function Iy(t){if(un(t)){var n=t._u.toUpperCase(),i=Boolean(t.Ou("smpte:backgroundImage"));return"BR"===n||i}return t.cu===en.hu}function Ay(t){var n=function(t){try{return N.lu(t).qu}catch(t){}}(t);return"tt"===(null==n?void 0:n._u)}var Cy,Dy=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.ql=function(n){return t.prototype.ql.call(this,n)},i.Hl=function(n){var i=t.prototype.Hl.call(this,n);return i&&(n.hw=id.lw),i},i.yl=function(){return cd(this)},n}(xv),Ny=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Rk=new Dy,n.MT=function(t){var i=t.gl;n.BT(i)},n}$(n,t);var i=n.prototype;return i.ql=function(t){t.Qs(Rv.Al,this.MT),this.Rk.ql(t),this.BT(t)},i.Hl=function(t){t.ic(Rv.Al,this.MT),t.hw=id.lw,this.Rk.Hl(t)},i.UT=function(t){},i.VT=function(t){},i.BT=function(t){t.hw!==id.lw?this.UT(t):this.VT(t)},i.qT=function(){for(var t=0,n=this.Rk.zl;t<n.length;t++){var i=n[t];i.ic(Rv.Al,this.MT),i.sr()}},i.Wl=function(){return this.qT(),this.Rk.Wl(),C.resolve()},i.sr=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),t.next=3,this.Wl();case 3:this.Rk.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Ge);!function(t){t.Om="subtitles",t.HT="captions",t.jT="descriptions",t.WT="chapters",t.Pm="metadata",t.zT="thumbnails"}(Cy||(Cy={}));var Oy=[Cy.Om,Cy.HT,Cy.jT,Cy.WT,Cy.Pm,Cy.zT];function xy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ce(Oy,t)}(n)?n:n?Cy.Pm:Cy.Om}var Py,Ly=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,u)||this).url=void 0,o.status=void 0,o.url=r,o.status=e,o}return $(n,t),n}(Lo);function Fy(t,n){return t===Cy.zT||t===Cy.Pm&&n===Cy.zT}function My(t,n,i,r){for(var e=0,u=t._w.zl;e<u.length;e++){var o=u[e];if(o.Lg>i)break;n<=o.Fg&&r.push(o)}}function By(t,n){return Ql(t.rw,n.rw)}function Uy(t,i){var r=i,e=0;if(t instanceof zf&&t.name===qf.ud)r=t.Sv.Iv;else if(function(t){return t instanceof Xf}(t)){var u=t.vd;if(r=u.Rv,0===(e=u.mv))return new Ly(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Ly(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function Vy(t,i,r,e){var u=function(t){switch(t){case Ml.WEBVTT:return"WebVTT";case Ml.SRT:return"SRT";case Ml.TTML:return"TTML";default:return""}}(t);return new Ly(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,r,e)}function qy(t){return Vw(Dw(t))?Ml.WEBVTT:Ay(t)?Ml.TTML:Ml.SRT}!function(t){t.$T="vtt",t.dm="wvtt",t.XT="stpp"}(Py||(Py={}));var Hy=function(t){function n(n){var i;return(i=t.call(this,rd.aw)||this).errorObject=n,i}return $(n,t),n.prototype.yl=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Sv),jy=function(t){function n(n,i){var r;return(r=t.call(this)||this).GT=void 0,r.YT=void 0,r.KT=new Oe,r.GT=n,r.YT=i,r}$(n,t);var i=n.prototype;return i.JT=function(t){if(t.src){var n=t.kind||Cy.Om,i=this.GT.QT(n,t.id,t.label,t.srclang,t.default);return i.mw=Vf(t.src),this.ql(i),i}},i.ZT=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o,s,c,a,f,h,v;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.gw=Fl.LOADING,r=new Ff({Iv:n.mw,bv:is.hu,Wv:Nf.GET,$s:i}),t.prev=2,t.next=5,this.YT.Sv(r);case 5:return o=t.sent,u=o.mv,t.next=9,o.ev();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Fe(t.t0),n.gw=Fl.ERROR,n.Js(new Hy(Uy(t.t0,n.mw))),t.abrupt("return");case 18:for(t.prev=18,s=qy(e),n.ks=s,c=[],s===Ml.WEBVTT||s===Ml.SRT?(a=Cw(e),c=a._w):s===Ml.TTML&&(c=py(e)),f=0,h=c;f<h.length;f++)v=h[f],n.tE(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),Fe(t.t1),n.gw=Fl.ERROR,n.Js(new Hy(Vy(n.ks,n.mw,u,t.t1))),t.abrupt("return");case 32:n.gw=Fl.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.UT=function(t){Ce(this.Rk.zl,t)&&t.gw===Fl.NONE&&this.ZT(t,this.KT.$s).catch(Me)},i.Kc=function(){},i.Wl=function(){var n=C.coroutine(jr.mark(function n(){var i,r,e;return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.KT.js(),this.KT=new Oe,i=0,r=this.Rk.zl;i<r.length;i++)e=r[i],this.GT.nE(e);return n.next=5,t.prototype.Wl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Ny);function Wy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ew===n&&r.iE)return r}}function zy(t,n){$y(Wy(t.zl,n))}function $y(t){void 0!==t&&(t.hw=id.vw)}function Xy(t,n){$y(Wy(t.zl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ew===n)return r}}(t.zl,n))}function Gy(t){for(var n=0;n<Oy.length;n++){var i=Oy[n];i===Cy.WT?Xy(t,i):zy(t,i)}}var Yy,Ky=function(t){function n(){return t.call(this,ns.Af)||this}return $(n,t),n}(Ke);!function(t){t[t.rE=0]="rE",t[t.eE=1]="eE"}(Yy||(Yy={}));var Jy=t,Qy=Jy.MediaSource,Zy=Jy.WebKitMediaSource,tg=Jy.TextTrack,ng=u&&u.createElement("video"),ig=(u&&u.documentElement.style,rt._e&&rt.Ge&&rt.Ye<=26),rg=(rt.Ne,!(!Qy&&!Zy)),eg=!!tg,ug=(u&&(u.fullscreenEnabled||u.webkitFullscreenEnabled||u.mozFullScreenEnabled||u.msFullscreenEnabled)||rt.Ae,rt.We&&rt.ze,ng&&ng.canPlayType&&(""!==ng.canPlayType("application/vnd.apple.mpegURL")||rt.ke&&!rt.We&&rt.be),ng&&ng.canPlayType&&""!==ng.canPlayType("video/mp4")&&!ig),og=rg&&!rt.$e&&!rt.qe&&!rt.Ve&&((Qy||Zy).isTypeSupported?(Qy||Zy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ng&&ng.canPlayType&&""!==ng.canPlayType('audio/mp4; codecs="mp4a.40.34"'));rg&&!rt.$e&&(og||((Qy||Zy).isTypeSupported?(Qy||Zy).isTypeSupported("audio/mpeg"):ng&&ng.canPlayType&&ng.canPlayType("audio/mpeg"))),rg&&!(rt.je&&rt._e)&&(Qy||Zy).isTypeSupported&&(Qy||Zy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),rt.$e||rt.qe||rt.Ve,rt.He,rt.$e,rt.qe&&rt.pe&&rt.me;try{e&&e.top!==e.self}catch(t){!0}var sg=function(t){function n(n){var i;return(i=t.call(this,Fd.Jw)||this).currentTime=n,i}return $(n,t),n}(Ke),cg=function(t){function n(n){var i;return(i=t.call(this,Fd.Qw)||this).currentTime=n,i}return $(n,t),n}(Ke),ag=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).uE=kd.Hw,r.oE=!0,r.sE=!1,r.cE=!1,r.aE=function(t){var n=t.readyState;n!==r.uE&&r.Js(t),n===kd.Hw&&(r.sE=!1,r.cE=!1),r.fE(n),r.hE(n),r.vE(n),r.maybeDispatchCanPlayThroughEvent(n),r.dE(n),r.lE(n),r.uE=n},r.wE=function(){r.lE(r.uE),r.dE(r.uE),r.oE=r.yE.uy},r.gE=function(){r.oE=r.yE.uy},r.yE=n,r._E=i,r.yE.Qs(Fd.Dl,r.aE),r.yE.Qs(ns.Ef,r.wE),r.yE.Qs(ns.Tf,r.gE),r._E&&r.yE.Qs(Fd.Qw,r.Ks),r}$(n,t);var i=n.prototype;return i.fE=function(t){!this.cE&&t>=kd.jw&&(this.cE=!0,this.Js(new jd(this.yE.Zw,t)))},i.hE=function(t){!this.sE&&t>=kd.Ww&&(this.sE=!0,this.Js(new Gd(this.yE.Zw,t)))},i.dE=function(t){this._E||(t>=kd.zw&&this.uE<kd.zw&&!this.yE.uy||this.pE&&t>=kd.zw)&&this.Js(new cg(this.yE.Zw))},i.lE=function(t){!this.mE(t)||this.yE.ny||this.yE.vc||this.Js(new sg(this.yE.Zw))},i.vE=function(t){this.uE<=kd.Ww&&t>=kd.zw&&this.Js(new Qd(this.yE.Zw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===kd.$w&&this.Js(new Zd(this.yE.Zw,t))},i.mE=function(t){var n=!this.yE.uy&&t<=kd.Ww,i=!this.oE&&this.uE<=kd.Ww;return n&&!i},i.Wl=function(){this.uE=kd.Hw,this.oE=!0,this.sE=!1,this.cE=!1},i.sr=function(){this.nc(),this._E&&this.yE.ic(Fd.Qw,this.Ks),this.yE.ic(ns.Ef,this.wE),this.yE.ic(ns.Tf,this.gE),this.yE.ic(Fd.Dl,this.aE)},W(n,[{key:"pE",get:function(){return!this.yE.uy&&this.oE}}]),n}(Ge),fg="titanium",hg="conax",vg="ezdrm",dg="irdeto",lg="vudrm",wg="verimatrix",yg="keyos",gg="drmtoday",_g="expressplay",pg="azure",mg="xstream",kg="vimond",bg="axinom",Tg="uplynk",Eg="comcast",Sg="custom",Rg=function(){function t(t,n,i,r,e){this.ua=void 0,this.kE=void 0,this.bE=void 0,this.TE=void 0,this.YT=void 0,this.EE=void 0,this.SE=void 0,this.ua=t,this.kE=n,this.bE=i,this.YT=r,this.SE=e,this.TE=this.RE(n)}var i=t.prototype;return i.IE=function(){return this.EE},i.AE=function(t){this.EE=t},i.CE=function(){return this.TE.licenseAcquisitionURL||this.IE()},i.DE=function(t){return C.resolve()},i.NE=function(t,n){return C.resolve(void 0)},i.OE=function(){var t=C.coroutine(jr.mark(function t(i,r,e,u){var o,s;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.xE(i,r,e,u)).Iv){t.next=3;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.al.Sv(o);case 6:return s=t.sent,t.next=9,s.uv(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Fe(t.t0),t.next=17,this.PE(t.t0,o.Iv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.xE=function(t,n,i,r){var e=this.LE().zf(),u=this.Gv,o={Iv:this.FE(),bv:n,kv:e,av:t,Gv:u,Wv:Nf.POST,zv:0,$s:r,ks:Of.Ov,$v:i};return new Ff(o)},i.ME=function(t,n){return C.resolve(t)},i.BE=function(t,n,i,r){return C.resolve(t)},i.LE=function(){return new rs(this.TE.headers||{})},i.PE=function(){var t=C.coroutine(jr.mark(function t(i,r,e){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.FE=function(t,n){var i=n,r=this.TE.queryParameters;if(!i){var e=this.CE();if(!e)return"";i=e}if(r||t){var u=N.Xo(i);t&&Uf(u,t),r&&Uf(u,r),i=u.href}return i},i.UE=function(t){return function(t,n){var i=n.licenseResponseProcessor;return C.resolve(new p(Ig(t,i)))}(t,this.TE)},i.VE=function(){var t=C.coroutine(jr.mark(function t(n,i,r){var e,u,o;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.qE(n,r);case 2:return e=t.sent,t.next=5,this.OE(e,this.SE,i,r);case 5:return u=t.sent,t.next=8,this.UE(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sr=function(){},W(t,[{key:"al",get:function(){return this.YT}},{key:"HE",get:function(){return!1}},{key:"jE",get:function(){var t=this.TE.certificate;if(t)return ht(t)?fu(t):no(t)}},{key:"WE",get:function(){return!1}},{key:"Gv",get:function(){return Boolean(this.TE.useCredentials)}}]),t}();function Ig(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Ag(t,n){var i=ro(t).buffer,r=n.licenseRequestProcessor;return C.resolve(Ig(i,r))}var Cg,Dg,Ng=function(t){function n(n,i,r,e){return t.call(this,fe,n,i,r,e)||this}$(n,t);var i=n.prototype;return i.RE=function(t){return t.widevine||{}},i.zE=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.jE){t.next=2;break}return t.abrupt("return",this.jE);case 2:return t.abrupt("return",this.$E(new p(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$E=function(n,i){return t.prototype.VE.call(this,n,xf.Fv,i)},n}(Rg);function Og(t,n){if(null==t)return{};var i,r,e={},u=l.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function xg(t){return ot(t.token&&t.deviceId)}function Pg(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&ot(i.PreAuthorization)}function Lg(t){var n=t;return xg(n)&&""!==n.token&&""!==n.deviceId&&!Pg(n)}(Dg=Cg||(Cg={})).XE=!1,Dg.GE=!1,Dg.YE=!1,Dg.KE=!1,Dg.LOG_ADS_DETAILS=!1,Dg.LOG_CHROMECAST_DETAILS=!1,Dg.LOG_CUSTOM_DRM=!1,Dg.LOG_BUFFERING_VIDEO_MAIN=!1,Dg.LOG_BUFFERING_VIDEO_SELECTION=!1,Dg.LOG_BUFFERING_AUDIO_MAIN=!1,Dg.LOG_BUFFERING_AUDIO_SELECTION=!1,Dg.JE=!1,Dg.QE=!1;var Fg,Mg=function(){function t(t,n,i){this.ZE=t,this.zc=n,this.tS=i}return t.prototype.nS=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.tS.build(t))},W(t,[{key:"iS",get:function(){return this.ZE}},{key:"ua",get:function(){return this.zc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Fg||(Fg={}));var Bg=function(){function t(){this.rS=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.eS(t,i,r)){case Fg.FAILED:throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Fg.OVERRIDDEN:var e=r_(i);N.Oo("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Fg.SUCCEEDED:r_(i);0}},i.eS=function(t,n,i){var r=r_(n);if(!r)return Fg.FAILED;for(var e=Fg.SUCCEEDED,u=0,o=this.rS.slice();u<o.length;u++){var s=o[u];s.iS===t&&s.ua===r&&(e=Fg.OVERRIDDEN,Ie(this.rS,s))}return this.rS.push(new Mg(t,r,i)),e},i.uS=function(t,n){return void 0!==this.oS(t,n)},i.sS=function(t,n,i){var r=this.oS(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.nS(i)},i.oS=function(t,n){for(var i=0,r=this.rS;i<r.length;i++){var e=r[i];if(e.iS===t&&(!n||e.ua===n))return e}},t}();Bg.cS=new Bg;var Ug=["customdata"],Vg={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function qg(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||r||e||u||o||s||c||a||f)}function Hg(t){return t&&void 0!==t.licenseAcquisitionURL}var jg,Wg=Hg,zg=Hg;function $g(t){if(!t)return!0;if(Kg(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return qg(n)&&qg(i)&&qg(r)&&qg(e)&&qg(u)}function Xg(t){var n=Lg(t),i=function(t){var n,i=t;return Pg(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!xg(i)}(t);return(!n||!i)&&(n||i)}function Gg(t){return t.integration===dg}function Yg(t){var n=t;if(!n)return!1;if($g(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(Kg(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Wg(r))return!1;if(e&&!zg(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Bg.cS.uS(n.integration))return!0;switch(n.integration){case fg:if(!function(t){return t.integration===fg&&(Jg(t)||Qg(t))}(t))return!1;break;case lg:if(!Zg(t))return!1;break;case wg:if(!function(t){return t.integration===wg}(t))return!1;break;case dg:if(!Gg(t))return!1;break;case hg:if(!Xg(t))return!1;break;case vg:if(!function(t){return t.integration===vg}(t))return!1;break;case yg:if(!Kg(t))return!1;break;case gg:if(!function(t){var n=t;return n.integration===gg&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case _g:if(!function(t){return t.integration===_g}(t))return!1;break;case mg:if(!t_(t))return!1;break;case kg:if(!function(t){return t.integration===kg}(t))return!1;break;case bg:if(!n_(t))return!1;break;case pg:if(!function(t){var n=t;return n.integration===pg&&void 0!==n.token}(t))return!1;break;case Tg:if(!function(t){return t.integration===Tg}(t))return!1;break;case Eg:if(!function(t){var n=t;return n&&ot(n.releasePid)&&ot(n.accountId)&&ot(n.token)}(t))return!1;break;case Sg:return!0;default:return!1}}return!0}function Kg(t){return t.integration===yg}function Jg(t){return void 0!==t.authToken}function Qg(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Zg(t){var n=t;return n.integration===lg&&void 0!==n.token}function t_(t){var n=t;return n&&n.integration===mg&&ht(n.ticketAcquisitionURL)&&ht(n.streamId)}function n_(t){var n=t;return n.integration===bg&&void 0!==n.token}function i_(t,n){var i,r,e,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Vg[t],s=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=s?{customData:s}:{},a=Wr({},null!=(e=null==u?void 0:u.headers)?e:{},c),f=null!=u?u:{};f.customdata;return Wr({},Og(f,Ug),{licenseAcquisitionURL:o,headers:a})}function r_(t){switch(t.toLowerCase()){case"widevine":case ue:return ue;case"playready":case re:return re;case"fairplay":case se:return se}}function e_(t,i){switch(t){case te:return function(t){for(var n={},i=cy.wk(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.wT]=e._T}return n}(i);case ne:case ie:return function(t){var n;return(n={})[oe]=t,n}(i);default:throw new Lo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ys="Widevine",t.ls="PlayreadyV2",t.aS="PlayreadyV2",t.fS="PlayreadyV3",t.gs="Fairplay"}(jg||(jg={}));var u_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function o_(t,n){var i,r,e,u,o=u_[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=N.Yo)?void 0:i.Ko,OSVersion:null==(r=N.Yo)?void 0:r.es,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(e=N.Yo)?void 0:e.us,DeviceModel:null==(u=N.Yo)?void 0:u.os}}}function s_(t,i){if(!t.accountName)throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function c_(t,n,i){var r;if(Jg(t))r={AuthToken:t.authToken,Payload:n};else{if(!Qg(t))throw s_(t,i);r={LatensRegistration:o_(t,i),Payload:n}}return pu(JSON.stringify(r))}function a_(t,n,i){return f_.apply(this,arguments)}function f_(){return(f_=C.coroutine(jr.mark(function t(i,r,e){var u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.vd){t.next=3;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return o=u,t.prev=4,t.next=7,o.rv(e);case 7:s=t.sent,c=h_(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,o.Sv.Iv,o.mv,o.Tv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function h_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var v_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,is.jf)||this).hS=void 0,e}$(i,t),i.vS=function(){return N.Ko.po?"required":"optional"};var r=i.prototype;return r.PE=function(t,n,i){return a_(t,n,i)},r.DE=function(t){return this.hS?Be(this.hS.xc,t):(this.hS=new uo,C.resolve())},r.qE=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.kE){t.next=3;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=vu(i),t.abrupt("return",c_(e,u,jg.ys));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.UE=function(t){var i;if(!t.license)throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=fu(t.license),C.resolve(i)},r.dS=function(t){return C.resolve(new p(t))},r.zE=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lS(),t.next=3,this.qE(n,i);case 3:return r=t.sent,t.next=6,this.OE(r,is.Hf,xf.Mv,i);case 6:return e=t.sent,t.next=9,this.dS(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.$E=function(){var n=C.coroutine(jr.mark(function n(i,r){var e;return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.$E.call(this,i,r);case 2:return e=n.sent,this.lS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.lS=function(){this.hS||(this.hS=new uo),this.hS.Pc()},r.sr=function(){this.hS&&this.hS.js(),t.prototype.sr.call(this)},i}(Ng),d_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,is.Hf)||this).AE("https://widevine-proxy.drm.technology/proxy"),e}return $(i,t),i.prototype.qE=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u,o,s;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ag(i,this.TE);case 2:if(e=t.sent,u=this.bE,r=new p(e),o=[].slice.call(r),s=this.wS){t.next=8;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(i,[{key:"wS",get:function(){if(Zg(this.kE))return this.kE.token}}]),i}(Ng);function l_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Wr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Wr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var w_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,is.Hf)||this).AE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}$(n,t);var i=n.prototype;return i.qE=function(t,n){return Ag(t,this.TE)},i.FE=function(n,i){var r=n;return Gg(this.kE)&&(r=l_(this.kE,r)),t.prototype.FE.call(this,r,i)},n}(Ng),y_="Conax-Custom-Data";function g_(t,n,i){var r=t&&Xg(t)&&t;if(r&&!i.has(y_)){var e=Lg(r)?r.token:void 0,u=Lg(r)?r.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(y_,o)}return i}var __=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,is.Hf)||this).AE("https://connect.conax.com:8094/license"),e}$(n,t);var i=n.prototype;return i.qE=function(t,n){return Ag(t,this.TE)},i.LE=function(){var n=t.prototype.LE.call(this);return g_(this.kE,"Widevine",n)},n}(Ng);function p_(t){var n=Wu(new p(t));return fu(JSON.parse(n).license)}function m_(t){return"string"==typeof t.token?t.token:pu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function k_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var b_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,is.Hf)||this).AE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}$(n,t);var i=n.prototype;return i.qE=function(t,n){return Ag(t,this.TE)},i.UE=function(t){return C.resolve(p_(t))},i.LE=function(){return k_(t.prototype.LE.call(this),this.wS,this.kE)},W(n,[{key:"wS",get:function(){return m_(this.kE)}}]),n}(Ng),T_=function(t){function n(n,i,r){return t.call(this,n,i,r,is.Hf)||this}$(n,t);var i=n.prototype;return i.qE=function(t,n){return Ag(t,this.TE)},i.LE=function(){var n=t.prototype.LE.call(this),i=this.kE.token;return n.set("Authorization","Bearer "+i),n},n}(Ng);function E_(t,n,i,r){return S_.apply(this,arguments)}function S_(){return(S_=C.coroutine(jr.mark(function t(i,r,e,u){var o,s,c,a,f,h,v;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t_(i)){t.next=2;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new rs).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=i.sessionId)&&o.append("XSSESSION",s),c=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",f={drmType:r,licenseType:a,streamId:c},h={Iv:i.ticketAcquisitionURL,bv:is.jf,kv:o,Wv:Nf.POST,av:JSON.stringify(f),$s:u},t.next=13,e.Sv(h);case 13:return v=t.sent,t.next=16,v.rv();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var R_=function(t){function n(n,i,r){return t.call(this,n,i,r,is.jf)||this}$(n,t);var i=n.prototype;return i.LE=function(){var n=t.prototype.LE.call(this);return n.set("Content-Type","application/json"),n},i.qE=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=_u(n.buffer),e=this.kE,t.next=4,E_(e,"widevine_modular",this.al,i);case 4:return u=t.sent,this.AE(u.licenseServerUrl),o=zu(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Ag(o,this.TE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.UE=function(t){var n=t;return C.resolve(fu(n.license))},n}(Ng),I_=function(t){function i(n,i,r){return t.call(this,n,i,r,is.Hf)||this}$(i,t);var r=i.prototype;return r.qE=function(t,n){return Ag(t,this.TE)},r.LE=function(){if(!n_(this.kE))throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.LE.call(this);return i.set("X-AxDRM-Message",this.kE.token),i},i}(Ng);function A_(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var C_=function(t){function n(n,i,r){var e;return(e=t.call(this,ae,n,i,r,is.Hf)||this).yS=void 0,e}$(n,t);var i=n.prototype;return i.RE=function(t){return t.playready||{}},i.LE=function(){var n=new rs(this.yS);return n.Xf(t.prototype.LE.call(this)),n},i.gS=function(t){return t.length>=1&&t[0].Ru.length>0},i.NE=function(n){var i=this.kE.playready.customData;if(i){var r=A_(i),e=A_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+vu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{Ca:e}})}return t.prototype.NE.call(this,n)},i.qE=function(){var t=C.coroutine(jr.mark(function t(n,i){var r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ag(n,this.TE);case 2:return r=t.sent,t.abrupt("return",this._S(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._S=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v,d,l,w,y,g;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new eo,void 0===(m=!0)&&(m=!1),c=Hu(_,p,m,!0),t.prev=3,a=N.lu(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null==(i=a.Su("PlayReadyKeyMessage")[0])?void 0:i.Su("LicenseAcquisition")[0],h=null!=(r=null==f?void 0:f.Su("Challenge"))?r:[],this.gS(h)&&(o=gu(h[0].Uu)),v=new rs,d=null!=(e=null==f?void 0:null==(u=f.Su("HttpHeaders")[0])?void 0:u.Su("HttpHeader"))?e:[],l=0;l<d.length;l++)w=d[l],y=w.Su("name")[0].Uu,g=w.Su("value")[0].Uu,v.append(y,g);return this.yS=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.zE=function(t,n){return C.resolve(t)},i.$E=function(n,i){return t.prototype.VE.call(this,n,xf.Bv,i)},n}(Rg),D_=function(){function t(n){this.pS=void 0,this.mS=n,this.pS=t.kS(n)}return t.kS=function(t){return"3"===t.version?jg.fS:jg.aS},t.prototype.bS=function(){var t={};if(this.pS===jg.fS){var n={LatensRegistration:o_(this.mS,jg.fS)};t["X-TITANIUM-DRM-CDATA"]=pu(JSON.stringify(n))}return t},W(t,[{key:"TS",get:function(){return this.pS}},{key:"wa",get:function(){return this.pS===jg.aS}}]),t}();var N_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).ES=void 0,e.ES=new D_(e.kE),e}$(i,t);var r=i.prototype;return r.NE=function(t){var i=this.kE;if(!this.kE)throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Qg(i)){var r={};return r.playready={Ca:O_(i,this.ES.TS)},C.resolve(r)}return C.reject(s_(i,jg.ls))},r.LE=function(){var n=new rs(this.ES.bS());return n.Xf(t.prototype.LE.call(this)),n},r.PE=function(){var t=C.coroutine(jr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.vd){t.next=3;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.ov(e);case 6:c=t.sent,a=Wu(new p(c)),(f=N.lu(a))&&(h=dy(f,"CustomData")).length>0&&(o=JSON.parse(h[0].Uu),s=null==(v=o.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u.mv,u.Tv,s);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.gS=function(t){if(1!==t.length)throw new ml(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(C_);function O_(t,n){var i=o_(t,n),r=i.DeviceInfo.FormatVersion,e=pu('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Xu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Xu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+vu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var x_,P_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AE("https://playready-license.drm.technology/rightsmanager.asmx"),e}$(i,t);var r=i.prototype;return r.gS=function(t){if(1!==t.length)throw new ml(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.FE=function(n,i){var r=Wr({},n||{},{token:this.wS});return t.prototype.FE.call(this,r,i)},W(i,[{key:"wS",get:function(){if(Zg(this.kE))return this.kE.token}}]),i}(C_),L_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return $(n,t),n.prototype.FE=function(n,i){var r=n;return Gg(this.kE)&&(r=l_(this.kE,r)),t.prototype.FE.call(this,r,i)},n}(C_),F_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return $(n,t),n.prototype.LE=function(){var n=t.prototype.LE.call(this);return g_(this.kE,"PlayReady",n)},n}(C_),M_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}$(n,t);var i=n.prototype;return i.UE=function(n){return(we(Wu(new p(n)),"<?xml")?x_.SS:x_.rv)===x_.rv?C.resolve(p_(n)):C.resolve(t.prototype.UE.call(this,new p(n)))},i.LE=function(){return k_(t.prototype.LE.call(this),this.wS,this.kE)},W(n,[{key:"wS",get:function(){return m_(this.kE)}}]),n}(C_);!function(t){t[t.SS=0]="SS",t[t.rv=1]="rv"}(x_||(x_={}));var B_,U_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).RS=void 0,e}$(n,t);var i=n.prototype;return i.LE=function(){var n=t.prototype.LE.call(this);return this.RS&&n.set("Ticket",this.RS),n.set("Content-Type","text/xml"),n},i.qE=function(){var n=C.coroutine(jr.mark(function n(i,r){var e,u;return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.kE,n.next=3,E_(e,"playready",this.al,r);case 3:return u=n.sent,this.AE(u.licenseServerUrl),this.RS=u.ticket,n.abrupt("return",t.prototype.qE.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(C_),V_=function(t){function i(){return t.apply(this,arguments)||this}return $(i,t),i.prototype.LE=function(){if(!n_(this.kE))throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.LE.call(this);return i.set("X-AxDRM-Message",this.kE.token),i},i}(C_);!function(t){t.jf="application/json",t.IS="application/x-www-form-urlencoded",t.AS="application/octet-stream",t.hu="text/plain;charset=UTF-8"}(B_||(B_={}));var q_=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n.ua,i,r,e,u)||this).CS="",o.DS=void 0,o.NS=void 0,o.NS=n.OS,o}$(n,t);var i=n.prototype;return i.xS=function(){return this.TE.certificateURL||this.DS},i.PS=function(t){this.DS=t},i.qE=function(t){return C.resolve(this.LS(t,this.CS))},i.LS=function(t,n){return"spc="+encodeURIComponent(vu(t))+"&assetId="+encodeURIComponent(n)},i.RE=function(t){return t.fairplay||{}},i.FS=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var i=t.split("/");return C.resolve(i[i.length-1])},i.NE=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.NS)?i:Yu(new p(n)),t.next=3,this.FS(r);case 3:return e=t.sent,this.CS=e,(u={}).fairplay={Fa:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(){var n=t.prototype.LE.call(this);return n.set("Content-Type",this.MS),n},i.zE=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.jE){t.next=2;break}return t.abrupt("return",this.jE);case 2:return t.next=4,this.BS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$E=function(n,i){return t.prototype.VE.call(this,n,xf.Pv,i)},i.US=function(t){var n=this.xS(),i=this.LE(),r={Iv:n,bv:is.Hf,kv:i,Wv:Nf.GET,Gv:!1,av:null,zv:0,$s:t,ks:Of.Ov,$v:xf.Lv};return new Ff(r)},i.BS=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.US(n),t.next=3,this.al.Sv(i);case 3:return r=t.sent,t.next=6,r.ov();case 6:return e=t.sent,t.abrupt("return",new p(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.UE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=fu(i)}else n=new p(t);return C.resolve(n)},i.FE=function(n,i){var r=t.prototype.FE.call(this,n,i);return we(r,"skd:")&&(r=r.substr("skd:".length)),r},W(n,[{key:"WE",get:function(){return!0}},{key:"MS",get:function(){return B_.IS}}]),n}(Rg),H_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,is.Hf)||this}$(n,t);var i=n.prototype;return i.FS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return C.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return C.resolve(i)},i.qE=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.UE=function(t){return C.resolve(new p(t))},i.FE=function(n,i){var r=n||{};return r.p1=nn(),t.prototype.FE.call(this,r,i)},W(n,[{key:"MS",get:function(){return B_.AS}}]),n}(q_),j_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,is.Hf)||this).AE("https://fairplay-license.drm.technology/license"),u.PS("https://fairplay-license.drm.technology/certificate"),u}$(i,t);var r=i.prototype;return r.LS=function(t,n){var i={token:this.wS,contentId:n,payload:vu(t)};return JSON.stringify(i)},r.UE=function(t){return C.resolve(new p(t))},r.LE=function(){var n=t.prototype.LE.call(this);return n.set("x-vudrm-token",this.wS),n},W(i,[{key:"MS",get:function(){return B_.jf}},{key:"wS",get:function(){if(!Zg(this.kE))throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.kE.token}}]),i}(q_),W_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",z_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",$_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,is.Hf)||this}return $(i,t),i.prototype.UE=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,W_)}if(!i)throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,z_);return i}(Wu(new DataView(i)));return t.prototype.UE.call(this,r)},i}(q_);var X_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,is.jf)||this}$(i,t);var r=i.prototype;return r.qE=function(){var t=C.coroutine(jr.mark(function t(i){var r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.kE){t.next=3;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=vu(i),t.abrupt("return",c_(r,e,jg.gs));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.UE=function(t){try{var i;if(ht(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=gu(i.license);return C.resolve(new p(e))}return C.reject(new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.PE=function(t,n,i){return a_(t,n,i)},W(i,[{key:"MS",get:function(){return B_.jf}}]),i}(q_),G_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,is.Hf)||this).AE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.PS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}$(n,t);var i=n.prototype;return i.xS=function(){var n=t.prototype.xS.call(this);if(!n)return n;var i=N.Xo(n),r=this.kE;return Gg(r)&&Uf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.FS=function(n){return Gg(this.kE)?C.resolve(this.kE.contentId):t.prototype.FS.call(this,n)},i.qE=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.UE=function(t){return C.resolve(new p(t))},i.FE=function(n,i){var r=n;return Gg(this.kE)&&(r=function(t,n){return Wr({},l_(t,n),{KeyId:t.keyId})}(this.kE,r)),t.prototype.FE.call(this,r,i)},W(n,[{key:"MS",get:function(){return B_.AS}}]),n}(q_),Y_=function(t){function i(i,r,e,u){var o;if(o=t.call(this,i,r,e,u,is.hu)||this,!Xg(r))throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o.AE("https://connect.conax.com:8097/license"),o}$(i,t);var r=i.prototype;return r.LE=function(){var n=t.prototype.LE.call(this);return g_(this.kE,"FairPlay",n)},r.BS=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.xS(),r={Iv:i,bv:is.Hf,kv:{},Wv:Nf.GET,Gv:!1,av:null,zv:0,$s:n,ks:Of.Ov,$v:xf.Lv},t.next=4,this.al.Sv(r);case 4:return e=t.sent,t.next=7,e.ov();case 7:return u=t.sent,t.abrupt("return",new p(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.qE=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.FS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),C.resolve(Wu(fu(n)))):C.resolve("unknown")},r.UE=function(t){try{var n=JSON.parse(t);return C.resolve(new p(gu(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},i}(q_),K_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,is.hu)||this).AE(Vg[Zr.gs]),u}$(i,t);var r=i.prototype;return r.FS=function(t){return we(t,"skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new ml(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.LS=function(t,n){return"spc="+vu(t)+"&assetId="+n},i}(q_),J_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,is.hu)||this).AE("https://lic.drmtoday.com/license-server-fairplay/"),u}$(n,t);var i=n.prototype;return i.LS=function(t,n){var i="spc="+encodeURIComponent(vu(t))+"&"+encodeURI(n);return"persistent"===this.TE.licenseType?i+"&offline=true":i},i.LE=function(){return k_(t.prototype.LE.call(this),this.wS,this.kE)},W(n,[{key:"wS",get:function(){return m_(this.kE)}}]),n}(q_),Q_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,is.Hf)||this}$(n,t);var i=n.prototype;return i.FS=function(t){var n=t;return we(n,"skd:")&&(n="http:"+n.substring(4)),we(n,"http:")||we(n,"https:")?C.resolve(N.Xo(n).hostname):C.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.qE=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.UE=function(t){return C.resolve(new p(t))},W(n,[{key:"MS",get:function(){return B_.AS}}]),n}(q_),Z_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,is.hu)||this}return $(n,t),n.prototype.LE=function(){var n=t.prototype.LE.call(this),i=this.kE.token;return n.set("Authorization","Bearer "+i),n},n}(q_),tp=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,is.jf)||this,!t_(i))throw new v("Invalid Xstream DRM configuration");return u}$(n,t);var i=n.prototype;return i.BS=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e,u,o;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.xS(),r=this.LE(),e={Iv:i,bv:is.jf,kv:r,Wv:Nf.POST,$s:n,ks:Of.Ov,$v:xf.Lv},t.next=5,this.al.Sv(e);case 5:return u=t.sent,t.next=8,u.rv();case 8:return o=t.sent,t.abrupt("return",new p(fu(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$E=function(){var t=C.coroutine(jr.mark(function t(n,i,r){var e,u,o,s,c,a,f;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=is.hu),e=vu(n),u=this.kE,t.next=5,E_(u,"fairplay",this.al,i);case 5:return o=t.sent,s=zu(JSON.stringify({spc:e,ticket:o.ticket})),c={Iv:this.CE(),bv:is.jf,kv:this.LE(),Wv:Nf.POST,av:s,zv:0,$s:i,ks:Of.Ov,$v:xf.Pv},t.next=10,this.al.Sv(c);case 10:return a=t.sent,t.next=13,a.rv();case 13:return f=t.sent,t.abrupt("return",fu(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(n,[{key:"MS",get:function(){return B_.jf}}]),n}(q_),np=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,is.hu)||this}$(i,t);var r=i.prototype;return r.LS=function(t,n){return vu(t)},r.UE=function(i){if(0===i.length)throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.UE.call(this,i)},r.LE=function(){var n=t.prototype.LE.call(this);return n.set("Content-Type","text/plain"),n},i}(q_),ip=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,is.Hf)||this}$(i,t);var r=i.prototype;return r.LS=function(t,n){return t},r.UE=function(t){return C.resolve(new p(t))},r.LE=function(){if(!n_(this.kE))throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.LE.call(this);return i.set("X-AxDRM-Message",this.kE.token),i},W(i,[{key:"MS",get:function(){return B_.jf}}]),i}(q_),rp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,is.jf)||this).VS=void 0,u}$(i,t);var r=i.prototype;return r.LS=function(t,n){var i={spc:vu(t)};return JSON.stringify(i)},r.FS=function(t){var i=N.Xo(t);return this.VS=t,i.searchParams.has("b")?C.resolve(i.searchParams.get("b")):C.reject(new ml(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.FE=function(n,i){var r=this.CE();return!r&&this.VS&&(r=this.VS),r&&(r=r.replace("skd://","https://")),t.prototype.FE.call(this,n,i||r)},r.UE=function(){var t=C.coroutine(jr.mark(function t(i){var r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=ht(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",fu(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),W(i,[{key:"MS",get:function(){return B_.hu}}]),i}(q_),ep=function(){function t(t,n){this.qS=t,this.HS=n}var n=t.prototype;return n.jS=function(t){return this.qS(t)},n.WS=function(t,n){throw new d(n+" must be "+this.HS+". (Received: "+t+")")},t}(),up=new ep(lt,"a number"),op=new ep(ht,"a string"),sp=new ep(vt,"a boolean");var cp,ap=(cp={responseCode:up,isException:sp,description:op,title:op,correlationId:op},{jS:function(t){if(!at(t))return!1;for(var n=0,i=l.keys(cp);n<i.length;n++){var r=i[n];if(!cp[r].jS(t[r]))return!1}return!0},WS:function(t,n){if(!at(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(cp);i<r.length;i++){var e=r[i],u=cp[e];if(!u.jS(t[e]))return u.WS(t[e],n+"."+e)}throw new d}});function fp(t,n,i,r,e){return hp.apply(this,arguments)}function hp(){return(hp=C.coroutine(jr.mark(function t(n,i,r,e,u){var o;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=vp(n,i,r,u),t.next=3,dp(o,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vp(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=N.Xo(t);return Uf(i,n),i.toString()}(i,e)),o=new rs({});o.append("Content-Type","application/json");var s=vu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{Iv:u,bv:is.hu,kv:o,Wv:Nf.POST,av:JSON.stringify(c),$s:r,ks:Of.Ov,$v:xf.Pv}}function dp(t,n){return lp.apply(this,arguments)}function lp(){return(lp=C.coroutine(jr.mark(function t(i,r){var e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Sv(i);case 2:return e=t.sent,t.next=5,e.rv();case 5:if(u=t.sent,!ap.jS(u)){t.next=8;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.Iv,u.responseCode);case 8:return t.abrupt("return",fu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var wp=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,is.Hf)||this).zS=void 0,u.zS=i,u}$(n,t);var i=n.prototype;return i.FS=function(n){var i=n.replace("FairPlay",this.zS.releasePid);return t.prototype.FS.call(this,i)},i.$E=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fp(n,this.zS,this.CE(),this.al,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(q_),yp=function(t){function i(n,i,r){return t.call(this,ve,n,i,r,is.Hf)||this}$(i,t);var r=i.prototype;return r.RE=function(t){return t.clearkey||{}},r.qE=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ag(n,this.TE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.OE=function(){var i=C.coroutine(jr.mark(function i(r,e,u,o){var s,c;return jr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=this.TE,!this.CE()){i.next=5;break}return i.abrupt("return",t.prototype.OE.call(this,r,this.SE,u,o));case 5:if(!s.keys||!s.keys.length){i.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",zu(JSON.stringify(c)).buffer);case 10:throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.zE=function(t,n){return C.resolve(new p(0))},r.$E=function(n,i){return t.prototype.VE.call(this,n,xf.Uv,i)},i}(Rg),gp=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.qE=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ag(n,this.TE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Ng),_p={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function pp(t,n,i){return mp.apply(this,arguments)}function mp(){return(mp=C.coroutine(jr.mark(function t(n,i,r){var e,u,o;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Pp(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Be(C.resolve(u.call(n,e)),r);case 8:if(!to(o=t.sent)){t.next=11;break}return t.abrupt("return",no(o));case 11:return t.abrupt("return",xp(Wr({},_p,o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kp(t,n,i,r,e){return bp.apply(this,arguments)}function bp(){return(bp=C.coroutine(jr.mark(function t(n,i,r,e,u){var o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=Op(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Be(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",no(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tp(t,n,i,r){return Ep.apply(this,arguments)}function Ep(){return(Ep=C.coroutine(jr.mark(function t(n,i,r,e){var u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ip(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",xp(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sp(t,n,i,r,e,u){return Rp.apply(this,arguments)}function Rp(){return(Rp=C.coroutine(jr.mark(function t(n,i,r,e,u,o){var s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Np(r,u),t.next=3,Cp(n,new p(i),s,e,o);case 3:return c=t.sent,t.abrupt("return",no(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ip(t,n,i,r){return Ap.apply(this,arguments)}function Ap(){return(Ap=C.coroutine(jr.mark(function t(n,i,r,e){var u,o,s;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Np(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(o));case 5:return t.next=8,Be(C.resolve(u.call(n,o)),e);case 8:if(!to(s=t.sent)){t.next=11;break}return t.abrupt("return",no(s).buffer);case 11:return t.abrupt("return",Wr({fairplaySkdUrl:void 0},_p,s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Cp(t,n,i,r,e){return Dp.apply(this,arguments)}function Dp(){return(Dp=C.coroutine(jr.mark(function t(n,i,r,e,u){var o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=Op(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Be(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",no(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Np(t,n){return Wr({},Pp(t),{fairplaySkdUrl:n})}function Op(t,n,i){return{url:i.Rv,status:i.mv,statusText:i.Tv,headers:i.kv.zf(),body:t,request:n}}function xp(t){return new Ff({Iv:t.url,Wv:t.method,kv:t.headers,av:t.body,Gv:t.useCredentials})}function Pp(t){var n;return{url:t.Iv,body:null!=(n=Lp(t.av))?n:null,headers:t.kv.zf(),method:t.Wv,useCredentials:t.Gv}}function Lp(t){if(t)return"string"==typeof t?zu(t):t instanceof ArrayBuffer?new p(t):lu(t)?Zu(t):void 0}var Fp,Mp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).$S=void 0,u.$S=e,u}$(i,t);var r=i.prototype;return r.zE=function(t,n){return C.resolve(t)},r.$E=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._S(ro(i).buffer);case 2:return e=t.sent,u=this.xE(e,is.Hf,xf.Bv,r),t.next=6,Tp(this.$S,u,void 0,r);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new p(o));case 10:if(""!==o.Iv){t.next=12;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.al.Sv(o);case 15:return s=t.sent,t.next=18,s.ov(r);case 18:return c=t.sent,t.t0=p,t.next=22,Sp(this.$S,c,u,s,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Fe(t.t2),new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(C_),Bp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,is.Hf)||this).$S=void 0,u.$S=e,u}$(i,t);var r=i.prototype;return r.zE=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.jE){t.next=2;break}return t.abrupt("return",this.jE);case 2:return e=this.xE(i,is.Hf,xf.Mv,r),t.next=5,pp(this.$S,e,r);case 5:if(!((u=t.sent)instanceof p)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.Iv){t.next=11;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.al.Sv(u);case 14:return o=t.sent,t.next=17,o.ov(r);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Fe(t.t0),new ml(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Np(e,void 0),t.next=27,kp(this.$S,new p(s),c,o,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.$E=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u,o,s;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.xE(i,is.Hf,xf.Fv,r),t.next=3,Tp(this.$S,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.Iv){t.next=9;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.al.Sv(u);case 12:return o=t.sent,t.next=15,o.ov(r);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Fe(t.t0),new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=p,t.next=25,Sp(this.$S,s,e,o,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(gp),Up=function(t){function i(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,is.Hf)||this).$S=void 0,o.XS=void 0,o.$S=u,o}$(i,t);var r=i.prototype;return r.zE=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.jE){t.next=2;break}return t.abrupt("return",this.jE);case 2:return e=this.US(r),t.next=5,pp(this.$S,e,r);case 5:if(u=t.sent,!lu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.al.Sv(u);case 11:return o=t.sent,t.next=14,o.ov();case 14:return s=t.sent,c=Np(e,void 0),t.next=18,kp(this.$S,new p(s),c,o,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Fe(t.t0),new ml(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.$E=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u,o,s;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.xE(i,is.Hf,xf.Pv,r),t.next=3,Tp(this.$S,e,this.XS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.Iv){t.next=9;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.al.Sv(u);case 12:return o=t.sent,t.next=15,o.ov(r);case 15:return s=t.sent,t.t0=p,t.next=19,Sp(this.$S,s,e,o,this.XS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Fe(t.t2),new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.FS=function(n){var i;return this.XS=n,null!=(i=this.$S)&&i.extractFairplayContentId?C.resolve(this.$S.extractFairplayContentId(n)):t.prototype.FS.call(this,n)},i}(q_),Vp=function(){function t(){}var n=t.prototype;return n.GS=function(t,n,i,r){switch(t.ua.ks){case Zr.ys:return this.YS(n,i,r);case Zr.ls:return this.KS(n,i,r);case Zr.gs:return this.JS(t,n,i,r);case Zr._s:default:return this.QS(n,i,r)}},n.YS=function(t,n,i){var r,e=(r=t).integration===Sg&&ht(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Bg.cS.uS(e,ue)){var u=Bg.cS.sS(e,ue,t);return new Bp(t,n,i,u)}switch(e){case fg:return new v_(t,n,i);case lg:return new d_(t,n,i);case dg:return new w_(t,n,i);case hg:return new __(t,n,i);case gg:return new b_(t,n,i);case pg:return new T_(t,n,i);case mg:return new R_(t,n,i);case bg:return new I_(t,n,i);case yg:default:return new gp(t,n,i,is.Hf)}},n.KS=function(t,n,i){var r=t.integration;if(r&&Bg.cS.uS(r,re)){var e=Bg.cS.sS(r,re,t);return new Mp(t,n,i,e)}switch(r){case fg:return new N_(t,n,i);case lg:return new P_(t,n,i);case dg:return new L_(t,n,i);case hg:return new F_(t,n,i);case gg:return new M_(t,n,i);case mg:return new U_(t,n,i);case bg:return new V_(t,n,i);case yg:default:return new C_(t,n,i)}},n.JS=function(t,n,i,r){var e=n.integration;if(e&&Bg.cS.uS(e,se)){var u=Bg.cS.sS(e,se,n);return new Up(t,n,i,r,u)}switch(e){case vg:return new H_(t,n,i,r);case lg:return new j_(t,n,i,r);case wg:return new $_(t,n,i,r);case fg:return new X_(t,n,i,r);case dg:return new G_(t,n,i,r);case hg:return new Y_(t,n,i,r);case yg:return new K_(t,n,i,r);case gg:return new J_(t,n,i,r);case _g:return new Q_(t,n,i,r);case pg:return new Z_(t,n,i,r);case mg:return new tp(t,n,i,r);case kg:return new np(t,n,i,r);case bg:return new ip(t,n,i,r);case Tg:return new rp(t,n,i,r);case Eg:return new wp(t,n,i,r);default:return new q_(t,n,i,r,is.hu)}},n.QS=function(t,n,i){return new yp(t,n,i)},n.ZS=function(t){return t.ks===Zr.ls||t.ks===Zr.ys||t.ks===Zr.gs||t.ks===Zr._s},n.wa=function(t,n){var i;if(t.ks!==Zr.ls)return!1;if(ot(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Bg.cS.uS(r,se))&&(r===fg&&new D_(n).wa)},n.vS=function(t,n){if(t.ks===Zr.ys){var i=n.integration;if(!i||!Bg.cS.uS(i,se))return i===fg?v_.vS():void 0}},t}();!function(t){t[t.tR=0]="tR",t[t.nR=1]="nR",t[t.iR=2]="iR",t[t.rR=3]="rR",t[t.Lw=4]="Lw",t[t.eR=5]="eR",t[t.qw=6]="qw",t[t.uR=7]="uR",t[t.oR=8]="oR"}(Fp||(Fp={}));var qp,Hp=function(){function t(){}return t.prototype.sR=function(t){},W(t,[{key:"cR",get:function(){return 0}},{key:"aR",get:function(){return 0}}]),t}(),jp=function(){function t(t,n){void 0===n&&(n=new Vp),this.YT=void 0,this.fR=void 0,this.mS=void 0,this.YT=t,this.fR=n}var n=t.prototype;return n.hR=function(t){this.mS=t},n.vS=function(t){var n=this.mS;if(void 0!==n)return this.fR.vS(t,n)},n.wa=function(t){var n=this.mS;return void 0!==n&&this.fR.wa(t,n)},n.vR=function(t){var n={ua:t.ua,dR:t.dR||[],OS:t.OS},i=this.fR.GS(n,this.mS||{},t.bE,this.YT);return new Wp(i)},t}(),Wp=function(){function t(t){this.lR=void 0,this.lR=t}var n=t.prototype;return n.DE=function(t){return this.lR.DE(t)},n.NE=function(t,n,i){return this.lR.NE(n,i)},n.WE=function(){return this.lR.WE||void 0!==this.lR.jE},n.zE=function(t,n){return this.lR.zE(t,n)},n.$E=function(t,n,i){return n&&this.lR.AE(n),this.lR.$E(t,i)},n.Ms=function(){this.lR.sr()},t}(),zp=function(t){function n(n){var i;(i=t.call(this)||this).wR=[],i.yR=function(t){i.ql(t.gl)},i.gR=function(t){var n=t.gl;i._R(n)||i.Hl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.pR(e)}return i}$(n,t);var i=n.prototype;return i.pR=function(t){this.wR.push(t);for(var n=0,i=t.zl;n<i.length;n++){var r=i[n];this.ql(r)}this.mR(t)},i.kR=function(t){Ie(this.wR,t),this.bR(t);for(var n=0,i=t.zl;n<i.length;n++){var r=i[n];this._R(r)||this.Hl(r)}},i._R=function(t){for(var n=0,i=this.wR;n<i.length;n++){if(i[n].jl(t))return!0}return!1},i.mR=function(t){t.Qs(bv.fl,this.yR),t.Qs(bv.vl,this.gR)},i.bR=function(t){t.ic(bv.fl,this.yR),t.ic(bv.vl,this.gR)},i.sr=function(){for(;this.wR.length>0;)this.kR(this.wR[0]);t.prototype.sr.call(this)},i.yl=function(){return cd(this)},n}(xv);function $p(){return qp||(qp=R&&R.document&&R.document.createElement("video")),qp}var Xp=function(t){function i(i,r,e,u,o,s,c){var a;return void 0===s&&(s=new Vp),void 0===c&&(c=Yo()),(a=t.call(this)||this).TR=void 0,a.ER=void 0,a.SR=void 0,a.Ry=void 0,a.Iy=void 0,a.Ay=void 0,a.RR=void 0,a.IR=void 0,a.AR=void 0,a.CR=void 0,a.DR=void 0,a.YT=void 0,a.Is=void 0,a.NR=void 0,a.OR=void 0,a.xR=new Hp,a.PR=function(t){var i=t.vc,r=i.code,e=new Lo(function(t){switch(t){case gl.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case gl.NETWORK:return n.ErrorCode.NETWORK_ERROR;case gl.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case gl.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case gl.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case gl.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case gl.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(r),"Something went wrong during native playback.",i),u=new kl(r,e.message,i.message);a.LR(e,u)},a.FR=function(){a.Js(new $d(a.Zw,a.ng))},a.MR=function(t){a.uy||(a.OR=void 0),a.Js(t)},a.UR=function(t){a.OR=void 0,a.Js(t)},a.qR=function(){a.Js(new Hl(a.rg))},a.HR=function(){a.hy>0&&a.ay>0&&a.Js(new Ky)},a.jR=function(t){a.Ry.ql(new Pl(t.track))},a.WR=function(t){var n=Yp(a.Ry,t.track);n&&a.Ry.Hl(n)},a.zR=function(){a.$R(a.Ry)},a.XR=function(t){a.Iy.ql(new ql(t.track))},a.GR=function(t){var n=Yp(a.Iy,t.track);n&&a.Iy.Hl(n)},a.YR=function(){a.$R(a.Iy)},a.KR=function(t){a.Js(t),a.LR(t.errorObject,Tl(t.errorObject))},a.TR=r,a.YT=e,a.Is=c,a.ER=a.TR.Zi(El.Hv),a.AR=a.ER.JR.preload,a.CR=new ag(a.ER,!0),a.CR.Qs(Hd,a.Ks),a.NR=new jp(e,s),a.ER.QR=a.NR,a.ZR(),a.Ry=new Sl,a.Iy=new Sl,a.tI(),a.DR=new jy(a.ER,a.YT),a.Ay=new zp([a.ER.Py]),a.Wy(),a}$(i,t);var r=i.prototype;return r.zy=function(){this.ER.zy()},r.Wy=function(){this.ER.Wy()},r.By=function(){var t=C.coroutine(jr.mark(function t(n,i,r){var e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Le(r),e={ks:Yy.rE,mw:n.src,cv:n.type,nI:this.iI(n),vg:this.AR,rI:n.crossOrigin,eI:i.metadata&&i.metadata.title},this.NR.hR(n.contentProtection),t.next=5,this.ER.Kc(e);case 5:this.SR=t.sent,Le(r),i.textTracks&&this.uI(i.textTracks),Gy(this.Py);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.uI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.ER.oI()&&rt.Ae&&eg&&!Fy(i.kind,i.label)&&this.sI(i)){var r,e=null!=(r=i.kind)?r:Cy.Om;this.ER.cI(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.DR.JT(i)}}},r.sI=function(t){return!t.format||"webvtt"===t.format},r.tr=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ER.tr();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.aI){t.next=12;break}return t.next=10,this.ER.oc(ns.Sf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),r.nr=function(){this.ER.nr()},r.Uy=function(){return void 0!==this.ER.JR.webkitShowPlaybackTargetPicker},r.Vy=function(){this.ER.JR.webkitShowPlaybackTargetPicker&&this.ER.JR.webkitShowPlaybackTargetPicker()},r.qy=function(){this.ER.JR.webkitShowPlaybackTargetPicker&&this.ER.JR.webkitShowPlaybackTargetPicker()},r.$y=function(){return this.ER.JR},r.Xy=function(){return this.ER.fI},r.Wl=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.RR=void 0,this.IR=void 0,this.SR=void 0,t.next=5,this.DR.Wl();case 5:return this.ER.hI(),t.next=8,this.ER.Wl();case 8:this.CR.Wl(),this.vg=this.AR,this.Oy.Wl(),this.xy.Wl(),this.OR=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wl();case 2:return this.nc(),this.vI(),this.dI(),this.CR.sr(),this.ER.QR=void 0,t.next=9,this.TR.er(this.ER);case 9:return this.Ry.sr(),this.Iy.sr(),this.Ay.sr(),t.next=14,this.DR.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ZR=function(){this.ER.Qs(ns.Ef,this.Ks),this.ER.Qs(ns.Tf,this.Ks),this.ER.Qs(ns.Mf,this.FR),this.ER.Qs(ns.Sf,this.Ks),this.ER.Qs(ns._f,this.Ks),this.ER.Qs(ns.Df,this.Ks),this.ER.Qs(ns.Cf,this.MR),this.ER.Qs(ns.wf,this.Ks),this.ER.Qs(ns.Rf,this.Ks),this.ER.Qs(ns.Bf,this.Ks),this.ER.Qs(ns.df,this.Ks),this.ER.Qs(ns.Af,this.HR),this.ER.Qs(Fd.Qw,this.UR),this.ER.Qs(rd.aw,this.PR),this.ER.Qs(ns.ff,this.Ks),this.ER.Qs(ns.af,this.KR),this.ER.JR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.qR)},r.vI=function(){this.ER.ic(ns.Ef,this.Ks),this.ER.ic(ns.Tf,this.Ks),this.ER.ic(ns.Mf,this.FR),this.ER.ic(ns.Sf,this.Ks),this.ER.ic(ns._f,this.Ks),this.ER.ic(ns.Df,this.Ks),this.ER.ic(ns.Cf,this.MR),this.ER.ic(ns.wf,this.Ks),this.ER.ic(ns.Rf,this.Ks),this.ER.ic(ns.Bf,this.Ks),this.ER.ic(ns.df,this.Ks),this.ER.ic(ns.Af,this.HR),this.ER.ic(Fd.Qw,this.UR),this.ER.ic(rd.aw,this.PR),this.ER.ic(ns.ff,this.Ks),this.ER.ic(ns.af,this.KR),this.ER.JR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.qR)},r.iI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ua:he,lI:[{initDataTypes:[he.Ts],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},r.tI=function(){var t=this.ER.JR.audioTracks,n=this.ER.JR.videoTracks;t&&(t.addEventListener("addtrack",this.jR),t.addEventListener("removetrack",this.WR),t.addEventListener("change",this.zR)),n&&(n.addEventListener("addtrack",this.XR),n.addEventListener("removetrack",this.GR),n.addEventListener("change",this.YR))},r.dI=function(){var t=this.ER.JR.audioTracks,n=this.ER.JR.videoTracks;t&&(t.removeEventListener("addtrack",this.jR),t.removeEventListener("removetrack",this.WR),t.removeEventListener("change",this.zR)),n&&(n.removeEventListener("addtrack",this.XR),n.removeEventListener("removetrack",this.GR),n.removeEventListener("change",this.YR))},r.$R=function(t){for(var n=0;n<t.$l;n++){t.Vl(n).Tg()}},r.Zy=function(){this.ER.Zy()},r.LR=function(t,n){this.RR||(this.RR=n,this.IR=t,this.Js(new nl(t)))},W(i,[{key:"aI",get:function(){var t=this.ER.tg,n=this.Zw;return t.wI(n,.01)}},{key:"Oy",get:function(){return this.Ry}},{key:"tg",get:function(){return this.ER.tg.yI()}},{key:"ng",get:function(){return this.ER.ng},set:function(t){t&&this.ER.gI(t)}},{key:"Zw",get:function(){return void 0!==this.OR?this.OR:this.ER.Zw},set:function(t){this.rg&&(this.OR=t),this.ER.Ic(t)}},{key:"ty",get:function(){return this.ER.ty}},{key:"ny",get:function(){return this.ER.ny}},{key:"vc",get:function(){return this.RR}},{key:"iy",get:function(){return this.IR}},{key:"Ly",get:function(){}},{key:"rg",get:function(){return this.ER.rg}},{key:"my",get:function(){return Wr({},{eg:0,ug:0,og:0,sg:0,cg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.ER._I())}},{key:"ey",get:function(){return this.ER.ey},set:function(t){this.ER.ey=t}},{key:"fg",get:function(){return!0}},{key:"uy",get:function(){return this.ER.uy}},{key:"oy",get:function(){return this.ER.oy},set:function(t){this.ER.oy=t}},{key:"hg",get:function(){return this.ER.JR.played}},{key:"vg",get:function(){return this.AR},set:function(t){this.AR=t,this.SR&&(this.SR.vg=t)}},{key:"gw",get:function(){return this.ER.gw}},{key:"dg",get:function(){return this.ER.dg.yI()}},{key:"sy",get:function(){return this.ER.sy}},{key:"pI",get:function(){return this.ER.pI}},{key:"Py",get:function(){return this.Ay}},{key:"xy",get:function(){return this.Iy}},{key:"ay",get:function(){return this.ER.ay}},{key:"hy",get:function(){return this.ER.hy}},{key:"vy",get:function(){return this.ER.vy},set:function(t){this.ER.vy=t}},{key:"lg",get:function(){return this.ER.lg},set:function(t){this.ER.lg=t}},{key:"mI",get:function(){return this.xR}}]),i}(hd);var Gp=function(){function t(){this.kI=Fp.oR}var n=t.prototype;return n.nS=function(t,n,i,r,e,u){return new Xp(t,n,i,r,e)},n.bI=function(t,n){return function(t){return!t.type||!(!$p().canPlayType||!$p().canPlayType(t.type))}(t)},n.TI=function(){return!1},t}();function Yp(t,n){for(var i=0,r=t.zl;i<r.length;i++){var e=r[i];if(e.Rg===n)return e}}var Kp=function(){function t(){this.EI=new Gp,this.SI=[]}t.RI=function(){return this.ou};var n=t.prototype;return n.II=function(t){this.SI.push(t)},n.nS=function(t,n,i,r,e,u){for(var o=this.EI.nS(t,n,i,r,e,u),s=0,c=this.SI;s<c.length;s++){o=(0,c[s])(o,i,r)}return o},n.bI=function(t,n){return this.EI.bI(t,n)},n.TI=function(){return!1},W(t,[{key:"kI",get:function(){return this.EI.kI}}]),t}();function Jp(t,n){return Ql(t.kI,n.kI)}Kp.ou=new Kp;var Qp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).AI=Kp.RI(),n}$(n,t);var i=n.prototype;return i.CI=function(t){this.AI=t},i.DI=function(){return this.AI},i.NI=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.OI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{xI:e,LI:u});case 8:r++,t.next=1;break;case 11:o=this.AI,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.bI(c,i)){t.next=17;break}return t.abrupt("return",{xI:c,LI:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{xI:n[0],LI:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.FI=[]}var n=t.prototype;return n.MI=function(t){this.FI.push(t),this.FI.sort(Jp)},n.OI=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.FI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!dt(o=u.bI(n,i))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Qp.ou=new Qp;var Zp,tm=function(){function t(t){var n,i;this.BI=void 0,this.BI=R&&R.document&&R.document.createElement("div"),n=this.BI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.BI)}return t.prototype.sr=function(){kr(this.BI)},t}();function nm(t){switch(t){case Zp.UI:case"":return Zp.UI;case Zp.Pm:return Zp.Pm;case Zp.VI:default:return Zp.VI}}!function(t){t.oR="",t.VI="none",t.Pm="metadata",t.UI="auto"}(Zp||(Zp={}));var im=[rd.aw,ns.lf,ns.dc,ns.qf,ns.ef,ns.yf,ns.kf,ns.bf,ns.Of,ns.Pf,Fd.Xw,Fd.Gw,Fd.Yw,Fd.Kw,Fd.Dl,Fd.Jw,Fd.Qw,ns.af,ns.ff,ns.df,ns.wf,ns._f,ns.pf,ns.Ef,ns.Sf,ns.Tf,ns.Rf,ns.Af,ns.Df,ns.Cf,ns.Mf,ns.Bf,ns.If,ns.mf,ns.Nf],rm=function(t){function n(n,i){var r;return(r=t.call(this)||this).qI=void 0,r.HI=void 0,r.jI=void 0,r.WI=void 0,r.AR=Zp.VI,r.zI=void 0,r.$I=!0,r.Ry=new ed,r.Iy=new ed,r.Ay=new fd,r.Cy=new _l,r.qI=n,r.jI=i,r.jI.vg=r.vg,r.XI(),r}$(n,t);var i=n.prototype;return i.nr=function(){this.jI.nr()},i.tr=function(){var t=this.jI.tr();dt(t)&&He(t)},i.Fy=function(){return this.By(void 0)},i.hr=function(){},i.Yy=function(t){return!1},i.XI=function(){this.Ry.Ql=this.jI.Oy,this.Iy.Ql=this.jI.xy,this.Ay.Ql=this.jI.Py,this.Cy.Ql=this.jI.Ly,this.jI.Qs(im,this.Ks)},i.GI=function(){this.jI.ic(im,this.Ks),this.Ry.Ql=void 0,this.Iy.Ql=void 0,this.Ay.Ql=void 0,this.Cy.Ql=void 0},i.My=function(){return this.zI},i.By=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Le(i),this.zI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Dd(r=n.sources.filter(Ld))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.qI.NI(r,n);case 9:if(e=t.sent,Le(i),u=e.xI,o=e.LI,s=this.Xy(),c=el(this),this.HI===o&&!this.vc){t.next=25;break}return this.GI(),t.next=19,this.jI.sr();case 19:Le(i),this.HI=o,this.jI=this.YI(o),em(this.jI,c),ul(this,c,this),this.XI();case 25:return this.jI.vg=this.vg,this.$I?this.jI.Wy():this.jI.zy(),t.next=29,this.jI.By(u,n,i);case 29:Le(i),this.KI(u),this.Xy()!==s&&this.Js(new dd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.KI=function(t){this.WI!==t&&(this.WI=t,this.Js(new ld(t)))},i.Uy=function(){return this.jI.Uy()},i.Vy=function(){this.jI.Vy()},i.qy=function(){this.jI.qy()},i.Xy=function(){return this.jI.Xy()},i.Zy=function(){this.jI.Zy()},i.Wl=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zI=void 0,this.KI(void 0),t.next=4,this.jI.Wl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),t.next=3,this.Wl();case 3:return t.next=5,this.jI.sr();case 5:this.Ry.sr(),this.Iy.sr(),this.Ay.sr(),this.Cy.sr();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wy=function(){this.$I=!0,this.jI.Wy()},i.zy=function(){this.$I=!1,this.jI.zy()},W(n,[{key:"Oy",get:function(){return this.Ry}},{key:"tg",get:function(){return this.jI.tg}},{key:"vc",get:function(){return this.jI.vc}},{key:"iy",get:function(){return this.jI.iy}},{key:"ng",get:function(){return this.jI.ng},set:function(t){this.jI.ng=t}},{key:"Qy",get:function(){return this.WI}},{key:"Zw",get:function(){return this.jI.Zw},set:function(t){this.jI.Zw=t}},{key:"ty",get:function(){return this.jI.ty}},{key:"ny",get:function(){return this.jI.ny}},{key:"Ly",get:function(){return this.Cy}},{key:"rg",get:function(){return this.jI.rg}},{key:"my",get:function(){return this.jI.my}},{key:"ey",get:function(){return this.jI.ey},set:function(t){this.jI.ey=t}},{key:"fg",get:function(){return this.jI.fg}},{key:"uy",get:function(){return this.jI.uy}},{key:"oy",get:function(){return this.jI.oy},set:function(t){this.jI.oy=t}},{key:"hg",get:function(){return this.jI.hg}},{key:"vg",get:function(){return this.AR},set:function(t){this.AR=t,this.jI&&(this.jI.vg=this.AR)}},{key:"gw",get:function(){return this.jI.gw}},{key:"dg",get:function(){return this.jI.dg}},{key:"sy",get:function(){return this.jI.sy}},{key:"Py",get:function(){return this.Ay}},{key:"ay",get:function(){return this.jI.ay}},{key:"xy",get:function(){return this.Iy}},{key:"hy",get:function(){return this.jI.hy}},{key:"vy",get:function(){return this.jI.vy},set:function(t){this.jI.vy=t}},{key:"mI",get:function(){return this.jI.mI}}]),n}(Ge);function em(t,n){t.ey!==n.ey&&(t.ey=n.ey),t.vy!==n.vy&&(t.vy=n.vy),t.oy!==n.oy&&(t.oy=n.oy)}var um,om=function(t){function n(n,i){var r;return(r=t.call(this)||this).$l=void 0,r.JI=void 0,r.QI=void 0,r.$l=n.length>>1,r.JI=n,r.QI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.$l),r}$(n,t);var i=n.prototype;return i.ZI=function(t){return this.JI[2*t]},i.tA=function(t){return this.QI[2*t]},i.nA=function(t){return this.JI[2*t+1]},i.iA=function(t){return this.QI[2*t+1]},W(n,[{key:"rA",get:function(){return this.JI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.$g=function(t,n){return 0===this.y_(t,n)},n.W_=function(t,n){return this.y_(t,n)>0},n.z_=function(t,n){return this.y_(t,n)>=0},n.k_=function(t,n){return this.y_(t,n)<0},n.p_=function(t,n){return this.y_(t,n)<=0},n.vp=function(t,n){return this.k_(t,n)?t:n},n.hp=function(t,n){return this.W_(t,n)?t:n},n.eA=function(t,n,i){return i?this.p_(t,n):this.k_(t,n)},n.yI=function(){var t=this;return{get length(){return t.$l},start:function(n){var i=0|n;return t.uA(i),t.oA(t.ZI(i))},end:function(n){var i=0|n;return t.uA(i),t.oA(t.nA(i))}}},n.sA=function(){for(var t=new Array(2*this.$l),n=new Array(2*this.$l),i=0;i<this.$l;i++)t[2*i]=this.ZI(i),t[2*i+1]=this.nA(i),n[2*i]=!0,n[2*i+1]=!0;return this.cA(t,n)},n.uA=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.$l)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.$l+")")},n.aA=function(t){if(0===this.$l)return this.fA();if(this.wI(t))return t;if(this.p_(t,this.ZI(0)))return this.ZI(0);if(this.z_(t,this.nA(this.$l-1)))return this.nA(this.$l-1);for(var n,i=this.hA(),r=0;r<this.$l;r++){var e=this.ZI(r),u=this.m_(e,t);this.k_(u,i)&&(n=e,i=u);var o=this.nA(r),s=this.m_(this.nA(r),t);this.k_(s,i)&&(n=o,i=s)}return n},n.vA=function(t){for(var n=0,i=0,r=[],e=[];n<this.$l&&i<t.$l;){var u=this.ZI(n),o=this.nA(n),s=this.tA(n),c=this.iA(n),a=t.ZI(i),f=t.nA(i),h=t.tA(i),v=t.iA(i),d=this.hp(u,a),l=this.vp(o,f),w=void 0;w=this.$g(u,a)?s&&h:this.$g(d,u)?s:h;var y=void 0;y=this.$g(o,f)?c&&v:this.$g(l,o)?c:v,(this.k_(d,l)||w&&y&&this.$g(d,l))&&(r.push(d,l),e.push(w,y));var g=this.y_(this.nA(n),t.nA(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.cA(r,e)},n.dA=function(){var t=this.lA(),n=t.$l;if(0===n)return this.cA([t.wA(),t.hA()],[!1,!1]);var i=[],r=[],e=t.ZI(0);t.$g(e,t.wA())||(i.push(t.wA(),e),r.push(!1,!t.tA(0)));for(var u=0;u<n-1;u++)i.push(t.nA(u),t.ZI(u+1)),r.push(!t.iA(u),!t.tA(u+1));var o=t.nA(n-1);return t.$g(o,t.hA())||(i.push(o,t.hA()),r.push(!t.iA(n-1),!1)),t.cA(i,r)},n.yA=function(t){for(var n=0,i=0,r=this.$l,e=t.$l,u=new Array(2*(r+e)),o=new Array(2*(r+e)),s=0;n<r&&i<e;){var c=this.ZI(n),a=this.nA(n),f=t.ZI(i),h=t.nA(i);this.k_(c,f)||this.$g(c,f)&&this.k_(a,h)?(u[s]=c,u[s+1]=a,o[s]=this.tA(n),o[s+1]=this.iA(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.tA(i),o[s+1]=t.iA(i),i++),s+=2}for(;n<r;)u[s]=this.ZI(n),u[s+1]=this.nA(n),o[s]=this.tA(n),o[s+1]=this.iA(n),n++,s+=2;for(;i<e;)u[s]=t.ZI(i),u[s+1]=t.nA(i),o[s]=t.tA(i),o[s+1]=t.iA(i),i++,s+=2;return this.cA(u,o)},n.gA=function(t){void 0===t&&(t=this.fA());var n=this.$l;if(n<2)return this;for(var i=[],r=[],e=this.ZI(0),u=this.nA(0),o=this.tA(0),s=this.iA(0),c=1;c<n;c++){var a=this.ZI(c),f=this.nA(c),h=this.tA(c),v=this.iA(c);this.k_(e,a)&&this.W_(u,f)||(this.$g(e,a)&&(o=h=o||h),this.$g(u,f)&&(s=v=s||v),this.eA(a,this.yg(u,t),s||h)?(u=f,s=v):(i.push(e,u),r.push(o,s),e=a,u=f,o=h,s=v))}return i.push(e,u),r.push(o,s),this.cA(i,r).lA()},n.lA=function(){for(var t=[],n=[],i=0;i<this.$l;i++){var r=this.ZI(i),e=this.nA(i),u=this.tA(i),o=this.iA(i);this.$g(r,e)?(u||o)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,o))}return this.cA(t,n)},n._A=function(t){return this.$l?t.$l?this.yA(t).gA():this:t},n.pA=function(t){var n=this.lA(),i=t.lA(),r=n.dA(),e=i.dA(),u=r.vA(i),o=e.vA(n);return u._A(o)},n.Rc=function(t){if(this.$g(t,this.fA()))return this;for(var n=[],i=[],r=0;r<this.$l;r++){var e=this.yg(this.ZI(r),t),u=this.yg(this.nA(r),t);n.push(e,u),i.push(this.tA(r),this.iA(r))}return this.cA(n,i)},n.mA=function(t){return 0===this.$l||0===t.$l?this:this.lA().vA(t.lA().dA())},n.wI=function(t,n){return this.kA(t,n)>=0},n.bA=function(t,n,i,r,e){return this.TA(t,n,i,r,e)>=0},n.EA=function(t,n,i,r,e){return this.SA(t,n,i,r,e)>=0},n.RA=function(t){if(t.$l!==this.$l)return!1;for(var n=0;n<this.$l;n++)if(!this.$g(this.ZI(n),t.ZI(n))||!this.$g(this.nA(n),t.nA(n))||this.tA(n)!==t.tA(n)||this.iA(n)!==t.iA(n))return!1;return!0},n.IA=function(t){for(var n=[],i=[],r=0;r<this.$l;r++){var e=this.ZI(r),u=this.nA(r),o=this.tA(r),s=this.iA(r);t(e,u,o,s)&&(n.push(e,u),i.push(o,s))}return this.cA(n,i)},n.SA=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.fA());for(var u=this.S_(t,e),o=this.yg(n,e),s=0;s<this.$l;s+=1)if(this.eA(this.ZI(s),o,!r||this.tA(s))&&this.eA(u,this.nA(s),!i||this.iA(s)))return s;return-1},n.TA=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.fA());for(var u=this.yg(t,e),o=this.S_(n,e),s=0;s<this.$l;s+=1)if(this.eA(this.ZI(s),u,!i||this.tA(s))&&this.eA(o,this.nA(s),!r||this.iA(s)))return s;return-1},n.kA=function(t,n){return this.TA(t,t,!0,!0,n)},n.AA=function(t,n){void 0===n&&(n=this.fA());for(var i=this.yg(t,n),r=this.$l-1;r>=0;r-=1)if(this.eA(this.ZI(r),i,this.tA(r)))return r;return-1},n.CA=function(t,n){void 0===n&&(n=this.fA());for(var i=this.S_(t,n),r=0;r<this.$l;r+=1)if(this.eA(i,this.nA(r),this.iA(r)))return r;return-1},n.DA=function(t){return this.uA(t),this.cA([this.ZI(t),this.nA(t)],[this.tA(t),this.iA(t)])},n.NA=function(t,n){var i=this.kA(t,n);return i<0?void 0:this.DA(i)},W(t,[{key:"OA",get:function(){for(var t=this.fA(),n=0;n<this.$l;n++){var i=this.S_(this.nA(n),this.ZI(n));t=this.yg(t,i)}return t}}]),t}()),sm=function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.y_=function(t,n){return t<n?Kl.v_:t===n?Kl.f_:Kl.h_},i.yg=function(t,n){return t+n},i.S_=function(t,n){return t-n},i.m_=function(t,n){return w.abs(t-n)},i.fA=function(){return 0},i.hA=function(){return 1/0},i.wA=function(){return-1/0},n.xA=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.PA=function(t){for(var i=[],r=[],e=0;e<t.$l;e++)i.push(t.ZI(e).wp),i.push(t.nA(e).wp),r.push(t.tA(e)),r.push(t.iA(e));return new n(i,r)},n.LA=function(t){return new n([t,t],[!0,!0])},i.cA=function(t,i){return new n(t,i)},i.oA=function(t){return t},n.FA=function(){return cm},n}(om),cm=new sm([]);!function(t){t.Al="fullscreenchange",t.MA="fullscreensupportchange",t.aw="fullscreenerror"}(um||(um={}));var am=function(t){function n(){return t.call(this,um.aw)||this}return $(n,t),n}(Ke),fm=new(function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Ng=function(){this.Js(new am)},i.xg=function(){},i.sr=function(){this.nc()},W(n,[{key:"BA",get:function(){return!1}},{key:"UA",get:function(){return!1}}]),n}(Ge)),hm=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).TR=void 0,n.ER=void 0,n}$(n,t);var i=n.prototype;return i.$y=function(){var t;return null==(t=this.ER)?void 0:t.JR},i.sr=function(){var n=C.coroutine(jr.mark(function n(){return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:if(!this.ER){n.next=6;break}return n.next=5,this.TR.er(this.ER);case 5:this.ER=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"VA",set:function(t){this.TR=t,this.ER=t.Zi(El.Hv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).qA=0,n.HA=!1,n.jA=!0,n.WA=1,n.zA=!1,n.$A=1,n.Oy=new Sl,n.tg=sm.FA().yI(),n.ty=NaN,n.ny=!1,n.vc=void 0,n.iy=void 0,n.Ly=void 0,n.rg=!1,n.fg=!0,n.hg=sm.FA().yI(),n.vg=Zp.VI,n.gw=kd.Hw,n.dg=sm.FA().yI(),n.pI=void 0,n.Py=new Dy,n.ay=0,n.xy=new Sl,n.hy=0,n.xR=new Hp,n}$(n,t);var i=n.prototype;return i.Wy=function(){},i.zy=function(){},i.tr=function(){this.jA&&(this.jA=!1,this.Js(new Ud(this.Zw)),this.Js(new sg(this.Zw)))},i.nr=function(){this.jA||(this.jA=!0,this.Js(new $d(this.Zw,this.ng)),this.Js(new Bd(this.Zw)))},i.By=function(t,n){return C.resolve()},i.Uy=function(){return!1},i.Vy=function(){},i.qy=function(){},i.Xy=function(){return fm},i.Zy=function(){},i.Wl=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.qA=0,this.zA=!1,this.nr(),this.Js(new Md(this.qA));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.nc(),this.Oy.sr(),this.Py.sr(),this.xy.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"ng",get:function(){},set:function(t){}},{key:"Zw",get:function(){return this.qA},set:function(t){this.qA!==t&&(this.qA=t,this.zA=!0,this.Js(new Yd(this.Zw)))}},{key:"my",get:function(){return{eg:0,ug:0,og:0,sg:0,cg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ey",get:function(){return this.HA},set:function(t){this.HA!==t&&(this.HA=t,this.Js(new Jd(this.Zw,this.vy)))}},{key:"uy",get:function(){return this.jA}},{key:"oy",get:function(){return this.WA},set:function(t){this.WA!==t&&(this.WA=t,this.Js(new zd(this.Zw,this.oy)))}},{key:"sy",get:function(){return this.zA}},{key:"vy",get:function(){return this.$A},set:function(t){this.$A!==t&&(this.$A=t,this.Js(new Jd(this.Zw,this.vy)))}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"mI",get:function(){return this.xR}}]),n}(Ge)),vm=function(t){function n(n,i,r,e,u,o){var s,c=new hm;return(s=t.call(this,Qp.ou,c)||this).Da=void 0,s.XA=void 0,s.GA=void 0,s.YA=void 0,s.YT=void 0,s.KA=void 0,s.JA=void 0,s.GA=n,s.Da=i,s.YT=r,s.KA=e,s.YA=o,s.XA=new T(u,s.YA),s.XA.ur(s.GA),c.VA=s.XA,s.JA=new tm(s.GA),s}$(n,t);var i=n.prototype;return i.hr=function(){t.prototype.hr.call(this),this.XA.Qi()},i.Hy=function(t){var n,i,r,e;n=this,r=(i=t).vy,e=i.ey,n.vy=r,n.ey=e},i.jy=function(){},i.YI=function(t){return t.nS(this.GA,this.XA,this.YT,this.Da,this.KA,this.YA)},i.$y=function(){return this.jI.$y()},i.Gy=function(){return this.XA.Ji.map(function(t){return t.JR})},i.tc=function(n){t.prototype.tc.call(this,n)},i.uc=function(n){t.prototype.uc.call(this,n)},i.sr=function(){var n=C.coroutine(jr.mark(function n(){return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:this.XA.sr(),this.JA.sr();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"ig",get:function(){return this.GA}},{key:"lg",get:function(){return this.jI.lg},set:function(t){this.jI.lg=t}}]),n}(rm),dm=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).GA=void 0,e.QA=void 0,e.ZA=void 0,e.tC=void 0,e.nC=void 0,e.GA=n,e.QA=i,e.tC=new Sl,e.nC=new Dy,e.ZA=r,e}$(n,t);var i=n.prototype;return i.Yy=function(t){return!0},i.zy=function(){},i.tr=function(){throw this.Js(new nl(this.ZA)),this.QA},i.nr=function(){},i.My=function(){},i.By=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Le(i),this.Js(new nl(this.ZA)),this.QA;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Wy=function(){},i.Fy=function(){return C.resolve()},i.$y=function(){},i.Xy=function(){return fm},i.Gy=function(){return[]},i.hr=function(){},i.Hy=function(t){},i.jy=function(){},i.Uy=function(){return!1},i.Vy=function(){},i.qy=function(){},i.Zy=function(){},i.Wl=function(){return C.resolve()},i.sr=function(){return this.nc(),this.tC.sr(),this.nC.sr(),C.resolve()},W(n,[{key:"Oy",get:function(){return this.tC}},{key:"tg",get:function(){return sm.FA().yI()}},{key:"ng",get:function(){return new Date(NaN)},set:function(t){}},{key:"Qy",get:function(){}},{key:"Zw",get:function(){return 0},set:function(t){}},{key:"ty",get:function(){return 0}},{key:"ig",get:function(){return this.GA}},{key:"ny",get:function(){return!0}},{key:"vc",get:function(){return this.QA}},{key:"iy",get:function(){return this.ZA}},{key:"Ly",get:function(){}},{key:"my",get:function(){return{eg:0,ug:0,og:0,sg:0,cg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"ey",get:function(){return!1},set:function(t){}},{key:"fg",get:function(){return!0}},{key:"uy",get:function(){return!0}},{key:"oy",get:function(){return 0},set:function(t){}},{key:"hg",get:function(){return sm.FA().yI()}},{key:"vg",get:function(){return Zp.VI},set:function(t){}},{key:"gw",get:function(){return kd.Hw}},{key:"dg",get:function(){return sm.FA().yI()}},{key:"sy",get:function(){return!1}},{key:"Py",get:function(){return this.nC}},{key:"ay",get:function(){return 0}},{key:"xy",get:function(){return this.tC}},{key:"hy",get:function(){return 0}},{key:"vy",get:function(){return 1},set:function(t){}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"rg",get:function(){return!1}}]),n}(vd);function lm(t){if(t&&at(t))return Wr({},t,{integration:wm(t.integration),fairplay:bm(t.fairplay),widevine:ym(t.widevine),playready:gm(t.playready),clearkey:Tm(t.clearkey),aes128:Em(t.aes128),integrationParameters:Sm(t.integrationParameters),preferredKeySystems:Rm(t.preferredKeySystems)})}function wm(t){if(ht(t))return t}function ym(t){if(t&&at(t))return{persistentState:_m(t.persistentState),distinctiveIdentifier:_m(t.distinctiveIdentifier),audioRobustness:pm(t.audioRobustness),videoRobustness:pm(t.videoRobustness),licenseAcquisitionURL:ht(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:mm(t.licenseType),headers:t.headers,useCredentials:!!vt(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ht(t.certificate)||to(t.certificate)?t.certificate:void 0,certificateRequestProcessor:km(t.certificateRequestProcessor),certificateResponseProcessor:km(t.certificateResponseProcessor),licenseRequestProcessor:km(t.licenseRequestProcessor),licenseResponseProcessor:km(t.licenseResponseProcessor)}}function gm(t){if(t){var n=ym(t);if(n)return Wr({},n,{customData:ht(t.customData)?t.customData:void 0})}}function _m(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function pm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function mm(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function km(t){if("function"==typeof t)return t}function bm(t){if(t){var n=ym(t);if(n)return Wr({},n,{certificateURL:ht(t.certificateURL)?t.certificateURL:void 0})}}function Tm(t){if(t){var n=ym(t);if(n)return Wr({},n,{keys:st(t.keys)?t.keys.map(function(t){return function(t){if(!t||!at(t))return;var n=t.id,i=t.value;if(!ht(n)||!ht(i))return;return{id:n,value:i}}(t)}).filter(ot):void 0})}}function Em(t){if(at(t))return{useCredentials:vt(t.useCredentials)?t.useCredentials:void 0}}function Sm(t){if(at(t))return t}function Rm(t){return t&&st(t)?t.map(function(t){return r_(t)}).filter(ot):[ue,re,se]}var Im,Am=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return $(n,t),n}(Ke),Cm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).iC=[],r.rC=void 0,r.eC=function(t){qe(function(){r.Ks(t)})},r.rC=i?r.eC:r.Ks,r}$(n,t);var i=n.prototype;return i.uC=function(t){t.tc(this.rC),this.iC.push(t)},i.oC=function(t){t.uc(this.rC),Ie(this.iC,t)},i.sr=function(){this.nc();for(var t=0,n=this.iC;t<n.length;t++){n[t].uc(this.rC)}De(this.iC)},n}(hd),Dm=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Cm);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Im||(Im={}));var Nm,Om=function(t){function i(n){var i;return(i=t.call(this)||this).sC=void 0,i.cC=void 0,i.aC=!1,i.fC=!1,i.hC=void 0,i.vC=void 0,i.dC=void 0,i.ll=void 0,i.lC=function(){return i.wC()},i.yC=function(){return i.gC()},i.dC=n,i.sC=i.cC=i.hC=i.vC=Im.INLINE,i.dC.Qs(um.Al,i.lC),i.dC.Qs(um.aw,i.yC),i._C(),i}$(i,t);var r=i.prototype;return r.yl=function(){return t=this,i={get currentMode(){return t.pC()},requestMode:function(n){var i=Pm(n);i&&t.mC(i)},supportsMode:function(n){var i=Pm(n);return!!i&&t.kC(i)},addEventListener:function(t,i){n.Qs(t,i)},removeEventListener:function(t,i){n.ic(t,i)}},(n=new Cm(i,!0)).uC(t),i;var t,n,i},r.mC=function(t){this.bC(t,t)},r.bC=function(t,n){this.cC!==n&&(this.aC=!0,this.sC=t,this.TC(n,this.cC),t!==Im.FULLSCREEN&&(this.hC=t),this.aC=!1,this._C())},r.pC=function(){return this.fC?Im.FULLSCREEN:Im.INLINE},r.kC=function(t){switch(t){case Im.FULLSCREEN:return this.dC.UA;case Im.INLINE:return!0}return!1},r._C=function(){if(!this.aC){var t=this.cC,n=this.pC();this.cC=n,n!==Im.FULLSCREEN&&(this.vC=n),t!==n&&this.Js(new Am(n))}},r.TC=function(t,n){var i=t===Im.FULLSCREEN;this.fC=i,i!==this.dC.BA&&(i?this.dC.Ng():this.dC.xg())},r.wC=function(){if(!this.aC){var t=this.dC.BA;this.fC=t,t?this.bC(Im.FULLSCREEN,Im.FULLSCREEN):t||this.sC!==Im.FULLSCREEN?this._C():this.bC(this.hC,this.vC)}},r.gC=function(){this.wC(),this.Js(new nl(new Lo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.sr=function(){this.dC.sr(),this.nc()},W(i,[{key:"wl",get:function(){return this.ll||(this.ll=this.yl()),this.ll}}]),i}(hd),xm={Zw:0,ty:NaN,ny:!1,vc:void 0,iy:void 0,ey:!1,uy:!0,oy:1,gw:kd.Hw,sy:!1,ay:0,hy:0,vy:1};function Pm(t){switch(t){case Im.INLINE:case Im.FULLSCREEN:case Im.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Nm||(Nm={}));var Lm,Fm,Mm,Bm,Um,Vm,qm,Hm,jm=function(){function t(){this.EC=[]}var n=t.prototype;return n.SC=function(t){var n=this.RC.filter(function(n){return n.IC(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.AC=function(t){this.EC.push(t)},W(t,[{key:"RC",get:function(){return this.EC}}]),t}();jm.ou=new jm,function(t){t.Qw="PLAYING",t.by="PAUSED",t.CC="SEEK",t.DC="STALLED",t.NC="FAILED",t.OC="INITIAL_BUFFERING",t.xC="NO_ACCESS"}(Lm||(Lm={})),function(t){t.LC="HTTP_REQUEST_STATUS_CODE_1XX",t.FC="HTTP_REQUEST_STATUS_CODE_2XX",t.MC="HTTP_REQUEST_STATUS_CODE_3XX",t.BC="HTTP_REQUEST_STATUS_CODE_4XX",t.UC="HTTP_REQUEST_STATUS_CODE_5XX",t.VC="BUFFER_LENGTH",t.qC="BYTES_RECEIVED",t.HC="SEGMENT_READ_BITRATE",t.jC="SEGMENT_PROFILE_BITRATE",t.WC="NUMBER_OF_FRAMES_DROPPED",t.zC="PLAYBACK_POSITION",t.$C="NUMBER_OF_FRAMES_DECODED",t.XC="PLAYBACK_DELTA_TO_ORIGIN",t.GC="STREAM_DELTA_TO_ORIGIN",t.YC="ORIGIN_TIMESTAMP"}(Fm||(Fm={})),function(t){t.KC="MANIFEST_URI",t.JC="ASSET_DURATION",t.QC="NUMBER_OF_CONTENT_PROFILES",t.ZC="CDN",t.tD="CONTENT_TITLE",t.nD="SERVICE_NAME",t.iD="CONTENT_TYPE",t.rD="CONTENT_DESCRIPTION"}(Mm||(Mm={})),function(t){t.eD="shutdown_normal_shutdown"}(Bm||(Bm={})),function(t){t.uD="session/",t.oD="internalError/",t.sD="drmError/",t.cD="caError/",t.aD="networkError/"}(Um||(Um={})),function(t){t.fD="userAction",t.hD="endOfStreamReached"}(Vm||(Vm={})),function(t){t.PAUSE="vD",t.RESUME="dD"}(qm||(qm={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Hm||(Hm={}));var Wm,zm,$m,Xm,Gm,Ym="agama";function Km(t){return function(t){switch(t){case Wm.NONE:case Wm.HORIZONTAL:case Wm.VERTICAL:return!0;default:return!1}}(t)?t:Wm.NONE}function Jm(t){switch(t){case"":return Wm.NONE;case"horizontal":return Wm.HORIZONTAL;case"vertical":return Wm.VERTICAL;default:throw new d}}function Qm(t){if(!t||!ht(t))return zm.UI;switch(t){case"always":return zm.lD;case"never":return zm.wD;default:return zm.UI}}function Zm(t){if(!t||!ht(t))return $m.UI;switch(t){case"playlist":return $m.yD;case"media":return $m.gD;default:return $m.UI}}function tk(t,n){return t.length>0?t:n.length>0?n:void 0}function nk(t){if(null!==t)return t}function ik(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:nk(t.streamActivityMonitorID),adTagParameters:at(t.adTagParameters)?t.adTagParameters:{},authToken:nk(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?Wr({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void N.Oo("A VOD DAI configuration was provided without valid contentSourceID which is required."):void N.Oo("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Wr({},i,{availabilityType:"live",assetKey:u}):void N.Oo("A Live DAI configuration was provided without valid assetKey which is required.")}N.Oo("A DAI configuration was provided without a valid availabilityType which is required.")}function rk(t){if(!Yg(t)||!t.integration)return t;switch(t.integration){case yg:return n=t,i=i_(Zr.ys,n),r=i_(Zr.ls,n),e=n[Zr.gs]&&i_(Zr.gs,n),Wr({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function ek(t){if(!t)return!0;var n,i,r=!(Cd(n=t.sources)||ct(n)&&Cd(n[0]))||Dd(t.sources),e=!t.ads||(!(i=t.ads)||st(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function uk(t){if(t&&t.sources)return function t(n){if(ht(n))return n;if(Ad(n))return n.src;if(ct(n)&&n.length>0)return t(n[0]);return}(t.sources)}function ok(t,n,i){return Rd(t)?function(t,n,i){var r=Wr({},Nd(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:Xm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Gm.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,ht(e)?e:ct(e)&&ht(e[0])?e:at(u=e)&&ht(u.userId)&&(ct(u.externalId)||ht(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return Gm.CHANNEL;case"event":return Gm.EVENT;case"asset":default:return Gm.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Wv(t.contentProtected));t.assetInfo?r.assetInfo=Wv(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(o=r.assetType,s=t.ping,c=!1,a=!1,f=!1,s?(c=!!vt(s.adImpressions)&&s.adImpressions,a=!!vt(s.freeWheelVideoViews)&&s.freeWheelVideoViews,f=vt(s.linearAdData)?s.linearAdData:o!==Gm.ASSET):o!==Gm.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),r=ck(r=ak(r=sk(r,t),n,i),t,i);var o,s,c,a,f}(t,n,i):function(t,n,i){var r=Od(),e=n&&(n.contentProtection||n.drm);if(ht(t)){if(r.src=t,r.type=Ed(t),e){var u=lm(e);r.contentProtection=rk(u)}}else if(Ad(t)||Sd(t)){r.src=t.src,r.type=t.type||Ed(t.src),r.isAdvertisement=t.isAdvertisement;var o=function(t){return t.type===_d.Vw||t.type===_d.qw}(t)?t.hesp:void 0;void 0!==o&&(r.hesp=o);var s=t.contentProtection||t.drm||e,c=lm(s);r.contentProtection=rk(c),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return ik(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=sk(r,t)}return r=ck(r=ak(r,n,i),t,i)}(t,n,i)}function sk(t,n){var i;n.useCredentials?t.crossOrigin=gd.Bw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case gd.Mw:case gd.Bw:return t;default:return gd.Fw}}(n.crossOrigin)),ht(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Wv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Wv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Qm(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Zm(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?Wv(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?Wv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function ck(t,n,i){return t.abr=function(t,n){var i=Gv(null==t?void 0:t.preferredAudioCodecs,Xv),r=Gv(null==t?void 0:t.preferredVideoCodecs,Xv),e=Gv(null==n?void 0:n.preferredAudioCodecs,Xv),u=Gv(null==n?void 0:n.preferredVideoCodecs,Xv),o=tk(i,e),s=tk(r,u);if(o||s)return{preferredAudioCodecs:o,preferredVideoCodecs:s}}(ht(n)?void 0:n.abr,null==i?void 0:i.abr),t}function ak(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!ot(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!ot(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===gd.Fw&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=gd.Mw),t.useCredentials=t.crossOrigin===gd.Bw,ht(e)&&!t.timeServer&&(t.timeServer=e),t}function fk(t){var n={src:""};if(t&&t.src){if(n.src=Xv(t.src),"default"in t&&(n.default=Wv(t.default)),n.kind=xy(t.kind),function(t){switch(t){case Ml.DEFAULT:case Ml.SRT:case Ml.TTML:case Ml.WEBVTT:case Ml.EMSG:case Ml.EVENT_STREAM:case Ml.ID3:case Ml.CEA608:case Ml.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function hk(t,n){if(ft(t))try{return n.SC(t)._D(t)}catch(t){return}}function vk(t){return ht(t.sources)&&""!==t.sources||at(t.sources)&&ht(t.sources.src)}function dk(t){return t.integration===Nm.SPOTX&&!_(t.id)}function lk(t){return"freewheel"===t.integration}function wk(t,n,i){if(void 0===i&&(i=jm.ou),ek(t))return{sources:[Od()]};var r=Vv(t);if(r.sources=function(t,n,i){if(Cd(t))return[ok(t,n,i)];if(ct(t)&&Cd(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(ok(u,n,i))}return r}return[Od()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!ct(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=hk(u,n))&&(vk(u)||dk(u)||lk(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,o,s,c=!Dd(r.sources),a=r.ads&&r.ads.length>0;if(c&&!a?delete r.ads:a&&!c&&(r.sources=[]),"textTracks"in r){var f=function(t){if(!ct(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=fk(e)).src&&n.push(e)}return n}(r.textTracks);0===f.length?delete r.textTracks:r.textTracks=f}if("poster"in r&&(r.poster=Xv(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(o=u||{}).stereoMode=Km(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?Jm(o.stereoMode):Wm.NONE,nativeVR:Boolean(o.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var h=Pd(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Vv(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Ym&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(h,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=il(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(s=r.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Wm||(Wm={})),function(t){t.UI="auto",t.lD="always",t.wD="never"}(zm||(zm={})),function(t){t.UI="auto",t.yD="playlist",t.gD="media"}($m||($m={})),function(t){t.VERIZON_MEDIA="verizon-media"}(Xm||(Xm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Gm||(Gm={}));var yk=function(){function t(t){this.pD=t}return t.prototype.mD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.pD.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.pD.indexOf(t.charAt(n))<<18|this.pD.indexOf(t.charAt(n+1))<<12|(u=this.pD.indexOf(t.charAt(n+2)))<<6|(o=this.pD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.kD=function(t,n){var i,r,e,u,o,s,c,a=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.pD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=i>>12&63,u=i>>6&63,o=63&i,a[s/3]=this.pD.charAt(r)+this.pD.charAt(e)+this.pD.charAt(u)+this.pD.charAt(o);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.Wp=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.bD=new t(t.Wp.mD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function gk(t){return"string"==typeof t}function _k(t){return"number"==typeof t}var pk={}.toString;var mk,kk=Array.isArray||function(t){return"[object Array]"===pk.call(t)};function bk(t,n){return kk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(mk||(mk={}));var Tk,Ek=l.keys(mk).map(function(t){return mk[t]});function Sk(t){return-1!==Ek.indexOf(t)}function Rk(t){try{var n=yk.bD.mD(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=gk(t.key),r=gk(t.customer_id),e=_k(t.generation_date),u=_k(t.expiration_date),o=bk(t.domains_page,gk),s=bk(t.domains_source,gk),c=bk(t.sdks,Sk),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&r&&e&&u&&o&&s&&c&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function Ik(){return Tk||(Tk={Iv:I.href,TD:R.parent&&R.parent!==e,ED:Dk()}),Tk}var Ak,Ck=["http:","https:","ftp:","ws:","wss:"];function Dk(){try{return R.top.location.href}catch(t){return R&&R.document&&R.document.referrer}}!function(t){t[t.SD=0]="SD",t[t.RD=1]="RD",t[t.CD=2]="CD"}(Ak||(Ak={}));var Nk,Ok=function(t,n,i,r,e,u,o,s){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.DD=t,this.ND=n,this.OD=i,this.xD=r,this.PD=e,this.LD=u,this.FD=o,this.MD=s};!function(t){t.RD="expired",t.BD="invaliddomain",t.UD="invalidsource",t.aw="error"}(Nk||(Nk={}));var xk=function(){function t(t,n,i){this.VD=void 0,this.qD=t,this.HD=n,this.jD=i,this.VD=Uk(this.jD)}var n=t.prototype;return n.WD=function(t,n){var i=this;if(!ek(t)&&0!==n.OD.length&&!Fk(n.OD)){var r=[];if(Cd(t.sources)?r=[t.sources]:ct(t.sources)&&(r=t.sources),!r.every(function(t){return i.zD(t,n)})){var e=Nk.UD,u=qk.$D(e);throw new Lo(Pk(e),u)}}},n.XD=function(n){return this.GD(n.FD)&&this.YD(n)?t.KD(n.xD)?Ak.SD:Ak.RD:Ak.CD},n.GD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.JD(t)})},n.JD=function(t){return"tvos"===function(t){switch(t){case mk.ANDROID:return H.kr;case mk.ANDROIDTV:case mk.FIRETV:return H.br;case mk.IOS:return H.Tr;case mk.TVOS:return H.Er;case mk.CHROMECAST:case mk.CHROMECASTCAF:return H.Sr;default:return H.mr}}(t)},t.KD=function(t){var n=Number(new Date);return!!t&&n<=t},n.YD=function(t){return!(this.VD&&0!==t.ND.length&&!Fk(t.ND))||!!(this.VD&&this.QD(t.ND)&&this.ZD(t.ND))},n.QD=function(t){return Mk(this.jD.Iv,t)},n.ZD=function(t){if(!this.jD.TD)return!0;if(this.qD)return!0;var n=this.tN();return!!n&&Mk(n,t)},n.tN=function(){if(this.jD.TD){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.jD.ED?this.jD.ED:void 0}},n.zD=function(n,i){return!!t.nN(n,i.OD)},t.nN=function(t,n){return Mk(this.iN(t),n)},t.iN=function(t){return ht(t)?t:Ad(t)&&t.src||""},t}();function Pk(t){switch(t){case Nk.BD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Nk.UD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Nk.RD:return n.ErrorCode.LICENSE_EXPIRED;case Nk.aw:return n.ErrorCode.LICENSE_ERROR}}function Lk(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+e+o+e+o+e+o+"\\)"),c=r.match(s),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Fk(t){return t.some(function(t){return"*"===t})}function Mk(t,n){var i=N.Xo(t);if(!Bk(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Lk(i.hostname,e))return!0;if(Lk(Wf(t),e))return!0}return!1}function Bk(t){return-1!==Ck.indexOf(t.protocol)}function Uk(t){var n=N.Xo(t.Iv);return Bk(n)&&!Lk(n.hostname,"localhost")&&!function(t){return Lk(t.hostname,"theoplayer.doubleclick.net")}(n)}var Vk,qk=function(){function t(){}return t.$D=function(t){return t===Nk.BD?this.rN:t===Nk.UD?this.eN:t===Nk.RD?this.uN:this.oN},t}();function Hk(t){var n=[t.Kb,t.sN,t.cN];switch(t.sN){case Vk.aN:n.push(t.mw);break;case Vk.fN:n.push(t.Zw),n.push(t.vc);break;case Vk.hN:n.push(t.vc)}return n}qk.oN="The license for this player is invalid.",qk.uN="The usage license for this video player has expired.",qk.rN="The current domain is incompatible with the license for this player.",qk.eN="The provided video source is incompatible with the license for this player.",function(t){t[t.aN=1]="aN",t[t.fN=4]="fN",t[t.hN=5]="hN"}(Vk||(Vk={}));for(var jk=new Array(256),Wk=0;Wk<256;Wk+=1)jk[Wk]=(Wk<16?"0":"")+Wk.toString(16);function zk(){var t=nn(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,r=(4294967296*w.random()|0)+t&1130486254,e=(4294967296*w.random()|0)+t&1284287105;return jk[255&n]+jk[n>>>8&255]+jk[n>>>16&255]+jk[n>>>24&255]+"-"+jk[255&i]+jk[i>>>8&255]+"-"+jk[i>>>16&15|64]+jk[i>>>24&255]+"-"+jk[63&r|128]+jk[r>>>8&255]+"-"+jk[r>>>16&255]+jk[r>>>24&255]+jk[255&e]+jk[e>>>8&255]+jk[e>>>16&255]+jk[e>>>24&255]}var $k=function(){function t(t){this.pD=void 0,this.pD=t}var n=t.prototype;return n.mD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(s=this.pD.indexOf(t.charAt(n))<<18|this.pD.indexOf(t.charAt(n+1))<<12|(u=this.pD.indexOf(t.charAt(n+2)))<<6|(o=this.pD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.kD=function(t){var n,i,r,e,u,o,s,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.pD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,c[o/3]=this.pD.charAt(i)+this.pD.charAt(r)+this.pD.charAt(e)+this.pD.charAt(u);return(s=c.join("")).slice(0,s.length-a.length)+a},t}();function Xk(){return N.Ro()}$k.Wp=new $k(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),$k.bD=new $k($k.Wp.mD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Gk,Yk="theoplayer-session-id";function Kk(){if(!Gk){var t=Jo.mc(Yk);t?Gk=t:(Gk=zk(),Jo.if(Yk,Gk))}return Gk}var Jk=/[^\x00-\x7E]/g;function Qk(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}(r,e/r.length)),r.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Zk=0,tb=1,nb=6e4;function ib(t){var n,i,r,e,u,o=(n=function(t){return[t.vN,t.ra,t.DD,t.fk,t.dN,t.lN,t.wN.map(Hk)]}(t),i=[],r=n,e=function(t,n){if(at(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Jk,Qk));return $k.bD.kD(o)}var rb=function(){function t(t,n,i,r,e,u){var o=this;void 0===r&&(r=$k.Wp),void 0===e&&(e=Zk),void 0===u&&(u=tb),this.yN=[],this.gN=null,this._N=0,this.pN="unknown",this.mN=0,this.kN=function(){Xk()-o._N>nb&&o.pr()},this.bN=function(){o.pr(!0)},this.pS=t,this.YT=n,this.TN=i,this.EN=r,this.SN=e,this.RN=u,S.wr(this.bN),f(this.kN,nb)}var n=t.prototype;return n.IN=function(){return Boolean(this.dN)},n.AN=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TN.CN();case 2:if(t.sent.MD){t.next=5;break}return t.abrupt("return");case 5:return i={sN:Vk.aN,cN:nn(),mw:n},t.next=8,this.DN(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.NN=function(){var t=C.coroutine(jr.mark(function t(n,i){var r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={sN:Vk.fN,cN:nn(),Zw:i,vc:n},t.next=3,this.DN(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ON=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={sN:Vk.hN,cN:nn(),vc:n},t.next=3,this.DN(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.DN=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TN.CN();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.EN.kD(i.DD)){t.next=6;break}if(n.sN===Vk.hN){t.next=6;break}return t.abrupt("return");case 6:if(n.sN===Vk.aN?this.xN():this.IN()||this.xN(),n.Kb=this.mN++,this.yN.push(n),(r=n.sN)!==Vk.aN&&r!==Vk.hN){t.next=14;break}return t.next=12,this.pr();case 12:t.next=19;break;case 14:if(!(this.yN.length>this.SN)){t.next=19;break}return t.next=17,this.PN();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pr=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.yN.length>0)){t.next=6;break}return t.next=4,this.PN(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.LN=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TN.CN();case 2:return i=t.sent,t.abrupt("return",{vN:nn(),ra:Kk(),DD:this.EN.kD(i.DD)||"dev",fk:this.pS,dN:this.gN,lN:this.pN,wN:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.PN=function(){var t=C.coroutine(jr.mark(function t(n){var i,r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.yN.splice(0,this.RN),t.next=4,this.LN(i);case 4:r=t.sent,n?this.Kv(r):this.FN(r),this._N=Xk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.FN=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=ib(n),r=new Ff({Iv:"https://license.theoplayer.com",av:i,Gv:!1,bv:is.hu,kv:{"Content-Type":B_.IS},zv:4e3,Wv:Nf.POST}),t.prev=2,t.next=5,this.YT.Sv(r);case 5:return e=t.sent,t.next=8,e.ov();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Kv=function(t){var n=ib(t);this.YT.Kv({Iv:"https://license.theoplayer.com",av:n,cv:B_.IS})},n.xN=function(){this.IN()&&this.pr(),this.gN=zk(),this.mN=0},n.sr=function(){S.yr(this.bN),this.pr()},W(t,[{key:"wN",get:function(){return this.yN}},{key:"dN",get:function(){return this.gN}}]),t}();var eb=rt.qe||rt.Ae&&rt.Xe<13;function ub(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var ob=function(){function t(t){this.LI=void 0,this.ll=void 0,this.MN=void 0,this.LI=t}var n=t.prototype;return n.BN=function(t){if(!t||!t.drawImage)return!1;var n=this.LI.$y();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.UN=function(t,n,i,r,e,o){if(!t||!t.texImage2D)return!1;var s=this.LI,c=s.$y();if(!c)return!1;if(eb){this.MN||(this.MN=u.createElement("canvas"));var a=this.MN,f=a.getContext("2d"),h=s.hy,d=s.ay,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===h&&w===d||(a.width=h,a.height=d),f.drawImage(c,0,0,h,d);var y=!1;h>0&&ub(f,h-1,0)&&(a.width=l,y=!0),d>0&&ub(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,h,d),c=a}try{t.texImage2D(n,i,r,e,o,c)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},W(t,[{key:"wl",get:function(){return this.ll||(this.ll=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.BN.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,o){return t.UN(n,i,r,e,u,o)}}));var t}}]),t}(),sb=function(t){function n(n,i){var r;return(r=t.call(this,"VN")||this).Eo=n,r.Hk=i,r}return $(n,t),n.prototype.yl=function(){return new cb(this.Eo,this.Hk)},n}(Sv),cb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return $(n,t),n}(Ke),ab=function(t,n){this.ig=void 0,this.qN=void 0,this.ig=t,this.qN=n},fb=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).HN=void 0,r.jN=0,r.WN=0,r.zN=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.WN=n.width,r.jN=n.height,r.qN(r.WN,r.jN)}},r.HN=new R.ResizeObserver(r.zN),r.HN.observe(r.ig),r}return $(n,t),n.prototype.sr=function(){this.HN.disconnect()},W(n,[{key:"$N",get:function(){return this.jN}},{key:"XN",get:function(){return this.WN}}]),n}(ab),hb=0;var vb,db=a,lb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,wb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function yb(){return vb||(vb=R&&R.document&&R.document.createElement("span")),vb}lb&&wb||(lb=function(t){var n=Xk(),i=w.max(0,16-(n-hb)),r=c(function(){return t(n+i)},i);return hb=n+i,r},wb=db),lb=lb.bind(t),wb=wb.bind(t);var gb=["Webkit","Moz","O","ms"],_b=(function(){var t=!1;try{if(void 0!==R&&"function"==typeof R.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});R.addEventListener("testPassiveEventSupport",L,n),R.removeEventListener("testPassiveEventSupport",L,n)}}catch(t){}}(),$r());function pb(t){return _b.has(t)||_b.set(t,function(t){var n=yb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<gb.length;r++){var e=gb[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),_b.get(t)}function mb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function kb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[pb("transition")]="0s"}var bb=function(t){function n(n,i,r){var o;(o=t.call(this,n,i)||this).GN=void 0,o.YN=0,o.WN=NaN,o.jN=NaN,o.KN=void 0,o.JN=void 0,o.QN=void 0,o.ZN=void 0,o.tO=void 0,o.Wl=function(){o.JN.style.width=1e5+"px",o.JN.style.height=1e5+"px",o.KN.scrollLeft=1e5,o.KN.scrollTop=1e5,o.QN.scrollLeft=1e5,o.QN.scrollTop=1e5,0===o.QN.scrollTop&&lb(o.Wl)},o.nO=function(){var t=o.XN,n=o.$N;o.qN(t,n),o.WN=t,o.jN=n,o.Wl(),o.YN=0},o.iO=function(){if(!o.YN){var t=o.XN,n=o.$N;t===o.WN&&n===o.jN||(o.YN=lb(o.nO))}},o.rO=function(){o.tO||(o.tO=c(o.eO,66))},o.eO=function(){o.tO=void 0,o.uO()},o.uO=function(){o.iO()};var s=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==s||(n.style.position="relative");var a,f=u.createElement("div");return o.GN=f,o.KN=u.createElement("div"),o.JN=u.createElement("div"),o.QN=u.createElement("div"),o.ZN=u.createElement("div"),mb(o.KN),mb(o.QN),kb(o.JN),kb(a=o.ZN),a.style.width="200%",a.style.height="200%",f.appendChild(o.KN),f.appendChild(o.QN),o.KN.appendChild(o.JN),o.QN.appendChild(o.ZN),n.appendChild(f),o.KN.addEventListener("scroll",o.iO),o.QN.addEventListener("scroll",o.iO),e&&e.addEventListener("resize",o.rO),o.iO(),o}return $(n,t),n.prototype.sr=function(){wb(this.YN),this.YN=0,this.KN.removeEventListener("scroll",this.iO),this.QN.removeEventListener("scroll",this.iO),kr(this.GN),e&&e.removeEventListener("resize",this.rO)},W(n,[{key:"$N",get:function(){return this.ig.getBoundingClientRect().height||this.jN||0}},{key:"XN",get:function(){return this.ig.getBoundingClientRect().width||this.WN||0}}]),n}(ab),Tb=function(t){function n(n){var i;return(i=t.call(this)||this).ig=void 0,i.HN=void 0,i.zN=function(t,n){i.Js(new sb(t,n))},i.ig=n,i}$(n,t);var i=n.prototype;return i.aa=function(t){this.HN||("function"==typeof R.ResizeObserver?this.HN=new fb(this.ig,this.zN):this.HN=new bb(this.ig,this.zN,t))},i.sr=function(){this.nc(),this.HN&&(this.HN.sr(),this.HN=void 0)},W(n,[{key:"$N",get:function(){return this.HN?this.HN.$N:0}},{key:"XN",get:function(){return this.HN?this.HN.XN:0}}]),n}(Ge),Eb=function(t){function n(){return t.call(this,um.Al)||this}return $(n,t),n}(Ke);!function(){if(u)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in u)return{oO:i[0],sO:i[1],cO:i[2],aO:i[3],fO:i[4],hO:i[5]}}}();var Sb=function(t){function n(){return t.call(this,um.MA)||this}return $(n,t),n}(Ke),Rb=function(t){function n(n,i){var r;return(r=t.call(this)||this).LI=void 0,r.vO=void 0,r.dO=void 0,r.lO=!1,r.wO=function(){return r.Qc()},r.lC=function(t){r.lO||r.Js(t)},r.LI=n,r.vO=i,r.dO=fm,r.yO(),r.LI.Qs(ns.yf,r.wO),r.Qc(),r}$(n,t);var i=n.prototype;return i.Ng=function(){this.vO&&this.dO.Ng()},i.xg=function(){this.dO.xg()},i.yO=function(){this.dO.Qs(um.Al,this.lC),this.dO.Qs(um.aw,this.Ks)},i.gO=function(){this.dO.ic(um.Al,this.lC),this.dO.ic(um.aw,this.Ks)},i.Qc=function(){var t=this.dO,n=this.LI.Xy();if(t!==n){this.lO=!0;var i=this.BA,r=this.UA;i&&this.xg(),this.gO(),this.dO=n,this.yO(),i&&!this.BA&&this.UA?this.Ng():this.xg(),this.lO=!1,r!==this.UA&&this.Js(new Sb),i!==this.BA&&this.Js(new Eb)}},i.sr=function(){this.nc(),this.gO(),this.LI.ic(ns.yf,this.wO)},W(n,[{key:"UA",get:function(){return!!this.vO&&this.dO.UA}},{key:"BA",get:function(){return this.dO.BA}}]),n}(Ge);function Ib(t){var n;return{get url(){return t.Iv},get method(){return t.Wv},get headers(){return n||(n=t.kv.zf()),n},get body(){return t.av},get useCredentials(){return t.Gv},get type(){return Ob(t.ks)},get subType(){return Pb(t.$v)},get mediaType(){return Fb(t.Xv)},get responseType(){return Cb(t.bv)}}}function Ab(t){switch(t.toLowerCase()){case"arraybuffer":return is.Hf;case"json":return is.jf;case"stream":return is.Wf;case"text":default:return is.hu}}function Cb(t){return t}function Db(t){switch(t.toUpperCase()){case"POST":return Nf.POST;case"PUT":return Nf.PUT;case"DELETE":return Nf.DELETE;case"HEAD":return Nf.HEAD;case"OPTIONS":return Nf.OPTIONS;case"GET":default:return Nf.GET}}function Nb(t){switch(t.toLowerCase()){case"manifest":return Of.Dv;case"segment":return Of.Nv;case"content-protection":return Of.Ov;default:return Of.Cv}}function Ob(t){return t}function xb(t){switch(t.toLowerCase()){case"initialization-segment":return xf.xv;case"fairplay-license":return xf.Pv;case"fairplay-certificate":return xf.Lv;case"widevine-license":return xf.Fv;case"widevine-certificate":return xf.Mv;case"playready-license":return xf.Bv;case"clearkey-license":return xf.Uv;case"aes128-key":return xf.Vv;default:return xf.Cv}}function Pb(t){return t}function Lb(t){switch(t.toLowerCase()){case"audio":return Pf.qv;case"video":return Pf.Hv;case"text":return Pf.hu;case"image":return Pf.jv;case"":default:return Pf.Cv}}function Fb(t){return t}var Mb=function(){function t(t,n){this._O=new uo,this.pO=[],this.ll=void 0,this.mO=!1,this.hd=void 0,this.kO=0,this.bO=t,this.TO=n}var n=t.prototype;return n.Qm=function(){this.mO=!0,this._O.Pc(null)},n.EO=function(){this._O.Lc(new ff(this.pO))},n.SO=function(t){if(!this.RO)throw new d("Cannot respond more than once");if(!at(t))throw new d("Expected valid response");this.hd=this.IO(t),this.Qm()},n.AO=function(){try{var t=this.TO(this.wl);t?this.CO(t):this.DO||this.NO||this.Qm()}catch(t){this.pO.push(t),this.EO()}},n.CO=function(t){if(this.NO)throw new v("Request has been redirected or a response already exists");if(dt(t))this.OO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new uo;try{var i=t(function(t){t?n.Lc(t):n.Pc(void 0)});dt(i)&&n.Pc(i)}catch(t){n.Lc(t)}this.OO(n.xc)}},n.OO=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.kO++,t.next=4,n;case 4:this.kO--,this.DO||this.NO||(this.pO.length?this.EO():this.Qm()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.kO--,this.pO.push(t.t0),this.DO||this.NO||this.EO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),W(t,[{key:"xO",get:function(){return this._O.xc}},{key:"wl",get:function(){return this.ll||(this.ll=this.PO()),this.ll}},{key:"NO",get:function(){return this.mO}},{key:"RO",get:function(){return!this.mO}},{key:"DO",get:function(){return this.kO>0}},{key:"vd",get:function(){return this.hd}}]),t}(),Bb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).LO=void 0,e.LO=r,e.AO(),e}$(n,t),n.FO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Lf({Vu:r,Sv:n.Sv,bv:n.Sv.bv,kv:t.headers,mv:t.status,Tv:t.statusText,Rv:t.url,Ev:!0},n)};var i=n.prototype;return i.PO=function(){return i=Ib((t=this).Sv),{get closed(){return!t.RO},get request(){return i},get url(){return t.Iv},get status(){return t.mv},get statusText(){return t.Tv},get headers(){return n||(n=t.kv.zf()),n},get body(){return t.av},respondWith:function(n){return t.SO(n)},waitUntil:function(n){return t.CO(n)}};var t,n,i},i.IO=function(t){return n.FO(t,this.bO,this.LO)},W(n,[{key:"av",get:function(){return this.LO}},{key:"kv",get:function(){return this.bO.kv}},{key:"Sv",get:function(){return this.bO.Sv}},{key:"vd",get:function(){return this.hd}},{key:"mv",get:function(){return this.bO.mv}},{key:"Tv",get:function(){return this.bO.Tv}},{key:"Iv",get:function(){return this.bO.Rv}}]),n}(Mb),Ub=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).MO=void 0,e.BO=void 0,e.BO=r,e.AO(),e}$(n,t);var i=n.prototype;return i.PO=function(){return t=this,{get url(){return t.Iv},get method(){return t.Wv},get headers(){return n||(n=t.kv.zf()),n},get body(){return t.av},get closed(){return!t.RO},get useCredentials(){return t.Gv},get type(){return Ob(t.ks)},get subType(){return Pb(t.$v)},get mediaType(){return Fb(t.Xv)},get responseType(){return Cb(t.bv)},redirect:function(n){return t.UO(n)},respondWith:function(n){return t.SO(n)},waitUntil:function(n){return t.CO(n)}};var t,n},i.IO=function(t){var n=this.bO.av,i=new Lf({Vu:n,kv:{},Sv:this.bO,Rv:this.bO.Iv,bv:this.bO.bv,mv:200,Tv:"OK"});return Bb.FO(t,i,n)},i.UO=function(t){if(!this.RO)throw new d("Cannot redirect, already redirected or has a response");var n;n=ht(t)?{url:t}:t,this.MO=function(t,n){return new Ff({Iv:void 0===t.url?n.Iv:t.url,Wv:void 0!==t.method?Db(t.method):void 0,kv:t.headers,av:t.body,Gv:t.useCredentials,ks:void 0!==t.type?Nb(t.type):void 0,$v:void 0!==t.subType?xb(t.subType):void 0,Xv:void 0!==t.mediaType?Lb(t.mediaType):void 0,bv:void 0!==t.responseType?Ab(t.responseType):void 0},n)}(n,this.bO),this.Qm()},W(n,[{key:"av",get:function(){return this.bO.av}},{key:"RO",get:function(){return this.BO&&!this.mO}},{key:"kv",get:function(){return this.bO.kv}},{key:"Wv",get:function(){return this.bO.Wv}},{key:"VO",get:function(){return this.MO}},{key:"vd",get:function(){return this.hd}},{key:"bv",get:function(){return this.bO.bv}},{key:"zv",get:function(){return this.bO.zv}},{key:"$s",get:function(){return this.bO.$s}},{key:"ks",get:function(){return this.bO.ks}},{key:"$v",get:function(){return this.bO.$v}},{key:"Xv",get:function(){return this.bO.Xv}},{key:"Iv",get:function(){return this.bO.Iv}},{key:"Gv",get:function(){return this.bO.Gv}},{key:"Yv",get:function(){return this.bO.Yv}}]),n}(Mb);var Vb,qb=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new Hb(n);return(r=t.call(this,e,i)||this).qO=void 0,r.qO=e,r}$(n,t);var i=n.prototype;return i.HO=function(t){this.qO.HO(t)},i.jO=function(t){this.qO.jO(t)},i.WO=function(t){this.qO.WO(t)},i.zO=function(t){this.qO.zO(t)},i.$O=function(t){this.qO.$O(t)},n}(Bf),Hb=function(){function t(t){this.Jv=void 0,this.XO=[],this.GO=[],this.Jv=t}var n=t.prototype;return n.Sv=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.YO(n,n.$s);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof zf)){t.next=12;break}return t.next=11,this.KO(t.t0,n.$s);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.JO(i,n.$s);case 15:if(!Df(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Xf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Kv=function(t){return this.Jv.Kv(t)},n.YO=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Le(i),r=n,u=0,o=this.XO.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],Le(i),(c=new Ub(r,s,!e)).NO){t.next=17;break}return t.prev=8,t.next=11,c.xO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.VO&&!e?r=c.VO:c.vd&&!e&&(e=c.vd);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Jv.Sv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.KO=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Xf?n.vd:new Lf({Vu:null,Sv:n.Sv,mv:0,Tv:""}),t.next=3,this.JO(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Df(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Xf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.JO=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.GO.slice();case 2:if(!(e<u.length)){t.next=23;break}return o=u[e],Le(i),t.next=7,C.resolve(r.Ac().Vu(i));case 7:if(s=t.sent,(c=new Bb(r,o,s)).NO){t.next=19;break}return t.prev=10,t.next=13,c.xO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=c.vd||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.HO=function(t){this.XO.unshift(t)},n.jO=function(t){this.XO.push(t)},n.WO=function(t){Ie(this.XO,t)},n.zO=function(t){this.GO.unshift(t)},n.$O=function(t){Ie(this.GO,t)},n.sr=function(){this.Jv.sr(),De(this.XO),De(this.GO)},t}(),jb=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).ll=void 0,e.QO=function(t){e.Js(t)},e.ZO=function(t){e.Js(t)},e.tx=n,e.YT=i,e.KA=r,e.tx.Qs(ns.bf,e.QO),e.tx.Qs(ns.kf,e.ZO),e}$(n,t);var i=n.prototype;return i.nx=function(t){this.KA.nx(t)},i.HO=function(t){this.YT.HO(t)},i.WO=function(t){this.YT.WO(t)},i.zO=function(t){this.YT.zO(t)},i.$O=function(t){this.YT.$O(t)},i.sr=function(){this.nc(),this.tx.ic(ns.bf,this.QO),this.tx.ic(ns.kf,this.ZO)},W(n,[{key:"wl",get:function(){var t;return this.ll||(this.ll=(t=this,{get online(){return t.fg},get estimator(){return n=t.ix,{get bandwidth(){return n.cR},get roundTripTime(){return n.aR}};var n},setEstimator:function(n){t.nx(function(t){if(t)return{get cR(){return $v(t.bandwidth)},get aR(){return $v(t.roundTripTime)},sR:function(n){return function(t){if(t)return{ex:function(n){t.markRequestStart(n)},ux:function(n){t.markResponseStart(n)},ox:function(n,i){t.markResponseData(n,i)},sx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(Ib(n)))}}}(n))},addRequestInterceptor:function(n){t.HO(n)},removeRequestInterceptor:function(n){t.WO(n)},addResponseInterceptor:function(n){t.zO(n)},removeResponseInterceptor:function(n){t.$O(n)},addEventListener:function(n,i){t.Qs(n,i)},removeEventListener:function(n,i){t.ic(n,i)}})),this.ll}},{key:"fg",get:function(){return this.tx.fg}},{key:"ix",get:function(){return this.KA.ix}}]),n}(Ge);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Vb||(Vb={}));var Wb=30,zb={type:Vb.BANDWIDTH},$b=20,Xb=60;function Gb(t){var n,i,r,e=Vv(zb);return ht(t)?e.type=Yb(t):at(t)&&function(t){switch(t){case Vb.PERFORMANCE:case Vb.QUALITY:case Vb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=Yb(t.type)),at(t)&&at(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=zv(n.bitrate),_(r)||(i.bitrate=r),i)),e}function Yb(t){switch(t){case"bandwidth":return Vb.BANDWIDTH;case"performance":return Vb.PERFORMANCE;case"quality":return Vb.QUALITY}}var Kb=function(t){function n(n){var i;return(i=t.call(this,"hx")||this).ax=n,i}return $(n,t),n}(Ke),Jb=function(t){function n(n){var i;return(i=t.call(this,"lx")||this).vx=n,i}return $(n,t),n}(Ke),Qb=function(t){function n(n){var i;return(i=t.call(this,"yx")||this).wx=n,i}return $(n,t),n}(Ke),Zb=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).ll=(i=on(n),{get strategy(){return{metadata:(t=i.vx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.vx=Gb(t)},get targetBuffer(){return i.ax},set targetBuffer(t){var n=zv(t);_(n)||(i.ax=n>Xb?Xb:n)},get bufferLookbackWindow(){return i.wx},set bufferLookbackWindow(t){var n=zv(t);_(n)||(i.wx=n<=0?Wb:n)}}),n.gx=zb,n._x=$b,n.mx=Wb,n.kx=void 0,n.bx=void 0,n}$(n,t);var i=n.prototype;return i.Tx=function(t){this.bx=t},i.nx=function(t){this.kx=t},W(n,[{key:"Ex",get:function(){switch(this.gx.type){case Vb.PERFORMANCE:return 0;case Vb.QUALITY:return 1/0;case Vb.BANDWIDTH:return this.gx.metadata&&void 0!==this.gx.metadata.bitrate?this.gx.metadata.bitrate:8*wd.Ow();default:return 8*wd.Ow()}}},{key:"wl",get:function(){return this.ll}},{key:"vx",get:function(){return this.gx},set:function(t){this.gx=t,this.Js(new Jb(t))}},{key:"ax",get:function(){return this._x},set:function(t){this._x=t,this.Js(new Kb(t))}},{key:"wx",get:function(){return this.mx},set:function(t){this.mx=t,this.Js(new Qb(t))}},{key:"ix",get:function(){var t;return null!=(t=this.kx)?t:this.bx.mI}}]),n}(Ge),tT=function(t){function n(){return t.call(this,"Cl")||this}return $(n,t),n.prototype.yl=function(){return new nT},n}(Sv),nT=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ke),iT=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Sx=void 0,r.Rx=function(t){var n;n=t,Boolean(n&&n.wl)&&qe(function(){r.Js(t.wl)})},r.Sx=n,r.Sx.tc(r.Rx),r}return $(n,t),n.prototype.sr=function(){this.nc(),this.Sx.uc(this.Rx)},n}(hd),rT=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(iT);var eT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Bg=0,n.Ug=1/0,n.ll=void 0,n}$(n,t);var i=n.prototype;return i.Wl=function(){0===this.Bg&&this.Ug===1/0||(this.Bg=0,this.Ug=1/0,this.Js(new tT))},i.Ix=function(){return new sm([this.Lg,this.Fg],[!0,!0])},W(n,[{key:"Lg",get:function(){return this.Bg},set:function(t){if(this.Fg<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Bg!==t&&(this.Bg=t,this.Js(new tT))}},{key:"Fg",get:function(){return this.Ug},set:function(t){if(t<=this.Lg)throw new v("End time of a clip should be larger than the start time.");this.Ug!==t&&(this.Ug=t,this.Js(new tT))}},{key:"wl",get:function(){var t,n,i;return this.ll||(this.ll=(i={get startTime(){return t.Lg},set startTime(n){t.Lg=n},get endTime(){return t.Fg},set endTime(n){t.Fg=n},addEventListener:function(t,i){n.Qs(t,i)},removeEventListener:function(t,i){n.ic(t,i)}},n=new iT(t=this,i),i)),this.ll}}]),n}(hd),uT=function(t){function n(n){var i;return(i=t.call(this)||this).Ax=function(t){i.Cx(t)||i.Js(t)},i.Dx=n,i.Dx.tc(i.Ax),i}$(n,t);var i=n.prototype;return i.Nx=function(){return this.Dx.Oy},i.Gy=function(){return this.Dx.Gy()},i.Ox=function(){return this.Dx.tg},i.xx=function(){return this.Dx.Qy},i.Px=function(){return this.Dx.ng},i.Lx=function(t){this.Dx.ng=t},i.Fx=function(){return this.Dx.Zw},i.Mx=function(t){this.Dx.Zw=t},i.Bx=function(){return this.Dx.ty},i.Ux=function(){return this.Dx.ig},i.Vx=function(){return this.Dx.ny},i.qx=function(){return this.Dx.vc},i.Hx=function(){return this.Dx.iy},i.jx=function(){return this.Dx.rg},i.Wx=function(){return this.Dx.ey},i.zx=function(t){this.Dx.ey=t},i.$x=function(){return this.Dx.fg},i.Xx=function(){return this.Dx.uy},i.Gx=function(){return this.Dx.oy},i.Yx=function(t){this.Dx.oy=t},i.Kx=function(){return this.Dx.hg},i.Jx=function(){return this.Dx.vg},i.Qx=function(t){this.Dx.vg=t},i.Zx=function(){return this.Dx.gw},i.tP=function(){return this.Dx.dg},i.nP=function(){return this.Dx.sy},i.My=function(){return this.Dx.My()},i.By=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Le(i),t.next=3,this.Dx.By(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iP=function(){return this.Dx.Py},i.rP=function(){return this.Dx.ay},i.eP=function(){return this.Dx.xy},i.uP=function(){return this.Dx.hy},i.oP=function(){return this.Dx.vy},i.sP=function(t){this.Dx.vy=t},i.Xy=function(){return this.Dx.Xy()},i.$y=function(){return this.Dx.$y()},i.Hy=function(t){this.Dx.Hy(t)},i.jy=function(){this.Dx.jy()},i.zy=function(){this.Dx.zy()},i.hr=function(){this.Dx.hr()},i.nr=function(){this.Dx.nr()},i.tr=function(){this.Dx.tr()},i.Wy=function(){this.Dx.Wy()},i.Fy=function(){return this.Dx.Fy()},i.Uy=function(){return this.Dx.Uy()},i.Vy=function(){this.Dx.Vy()},i.qy=function(){this.Dx.qy()},i.Wl=function(){return this.Dx.Wl()},i.sr=function(){return this.Dx.sr()},i.Zy=function(){this.Dx.Zy()},i.Yy=function(t){return this.Dx.Yy(t)},i.Cx=function(t){return!1},W(n,[{key:"Oy",get:function(){return this.Nx()}},{key:"tg",get:function(){return this.Ox()}},{key:"ng",get:function(){return this.Px()},set:function(t){this.Lx(t)}},{key:"Qy",get:function(){return this.xx()}},{key:"Zw",get:function(){return this.Fx()},set:function(t){this.Mx(t)}},{key:"ty",get:function(){return this.Bx()}},{key:"ig",get:function(){return this.Ux()}},{key:"ny",get:function(){return this.Vx()}},{key:"vc",get:function(){return this.qx()}},{key:"iy",get:function(){return this.Hx()}},{key:"Ly",get:function(){return this.Dx.Ly}},{key:"rg",get:function(){return this.jx()}},{key:"my",get:function(){return this.Dx.my}},{key:"ey",get:function(){return this.Wx()},set:function(t){this.zx(t)}},{key:"fg",get:function(){return this.$x()}},{key:"uy",get:function(){return this.Xx()}},{key:"oy",get:function(){return this.Gx()},set:function(t){this.Yx(t)}},{key:"hg",get:function(){return this.Kx()}},{key:"vg",get:function(){return this.Jx()},set:function(t){this.Qx(t)}},{key:"gw",get:function(){return this.Zx()}},{key:"dg",get:function(){return this.tP()}},{key:"sy",get:function(){return this.nP()}},{key:"Py",get:function(){return this.iP()}},{key:"ay",get:function(){return this.rP()}},{key:"xy",get:function(){return this.eP()}},{key:"hy",get:function(){return this.uP()}},{key:"vy",get:function(){return this.oP()},set:function(t){this.sP(t)}},{key:"lg",get:function(){return this.Dx.lg},set:function(t){this.Dx.lg=t}}]),n}(vd),oT=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).cP=void 0,e.aP=!1,e.fP=void 0,e.hP=!1,e.vP=function(){e.dP(),e.lP()},e.FR=function(){e.wP(),e.lP(),e.yP&&e.Zw>=e.cP.Fg-n.gP&&!e.ny&&(e.fP=lb(e.FR))},e._P=function(){e.hP=!0},e.pP=function(){e.hP&&(e.hP=!1,e.lP())},e.cP=r,e.cP.Qs("Cl",e.vP),e.Dx.Qs("timeupdate",e.FR),e}$(n,t);var i=n.prototype;return i.Mx=function(n){var i=this.cP.Ix().aA(n);t.prototype.Mx.call(this,i),this.lP()},i.Vx=function(){return t.prototype.Vx.call(this)||this.aP},i.tP=function(){return sm.xA(t.prototype.tP.call(this)).vA(this.cP.Ix()).yI()},i.tr=function(){this.Vx()?this.Mx(this.mP.start(0)):this.dP(),t.prototype.tr.call(this),this.lP()},i.By=function(){var n=C.coroutine(jr.mark(function n(i,r){return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Le(r),this.aP=!1,this.cP.Wl(),n.next=5,t.prototype.By.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.sr=function(){return this.cP.ic("Cl",this.vP),this.Dx.ic("timeupdate",this.FR),this.wP(),t.prototype.sr.call(this)},i.Cx=function(n){switch(n.type){case"seeking":return this.Js(n),this._P(),!0;case"seeked":case"emptied":return this.Js(n),this.pP(),!0;case"ended":if(this.yP)return!0}return t.prototype.Cx.call(this,n)},i.wP=function(){this.fP&&(wb(this.fP),this.fP=void 0)},i.lP=function(){var t=this.Zw,i=this.yP&&t>=this.cP.Fg-n.yp;this.aP&&!i?(this.aP=!1,this.uy&&this.tr()):this.aP||!i||this.sy||this.hP||(this.aP=!0,this.Js(new Xd(t)),this.nr())},i.dP=function(){if(this.ty!==1/0){var t=this.mP,i=sm.xA(t).aA(this.Zw);Zt(this.Zw,i,n.yp)||this.Mx(i)}},W(n,[{key:"mP",get:function(){return this.tP().length?this.tP():this.cP.Ix().yI()}},{key:"yP",get:function(){return this.cP.Fg<this.ty}}]),n}(uT);oT.gP=1,oT.yp=.001;var sT=function(){function t(){this.kP=void 0,this.kP=!1}return W(t,[{key:"bP",get:function(){return this.kP},set:function(t){this.kP=t}}]),t}(),cT=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).kP=void 0,r.TP=!1,r.EP=!1,r.kP=i,r}$(n,t);var i=n.prototype;return i.Vx=function(){return!this.kP.bP&&t.prototype.Vx.call(this)},i.nr=function(){this.EP=!0,t.prototype.nr.call(this)},i.tr=function(){this.EP=!1,t.prototype.tr.call(this)},i.Cx=function(n){if(this.kP.bP)switch(n.type){case"ended":return this.Zw=0,this.EP||(this.sy?this.TP=!0:this.tr()),!0;case"seeked":this.TP&&(this.TP=!1,this.tr());break;case"pause":if(this.TP||t.prototype.Vx.call(this))return!0}return t.prototype.Cx.call(this,n)},n}(uT);var aT=function(){function t(t){var n;this.ll=(n=this,{get currentBandwidthEstimate(){return n.sg},get corruptedVideoFrames(){return n.ug},get droppedVideoFrames(){return n.eg},get totalBytesLoaded(){return n.cg},get bufferedSegments(){return n.ag}}),this.jI=t}return W(t,[{key:"wl",get:function(){return this.ll}},{key:"ug",get:function(){return this.jI.SP.my.ug}},{key:"sg",get:function(){return this.jI.SP.my.sg}},{key:"eg",get:function(){return this.jI.SP.my.eg}},{key:"RP",get:function(){throw new v("Not implemented")}},{key:"IP",get:function(){throw new v("Not implemented")}},{key:"cg",get:function(){return this.jI.SP.my.cg}},{key:"og",get:function(){return this.jI.SP.my.og}},{key:"ag",get:function(){return this.jI.SP.my.ag}}]),t}(),fT=function(t){function n(){return t.call(this,"AP")||this}return $(n,t),n.prototype.yl=function(){return new hT},n}(Sv),hT=function(t){function n(){return t.call(this,"castingchange")||this}return $(n,t),n}(Ke);var vT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).CP=[],n.ll=void 0,n.DP=function(){return n.Js(new fT)},n}$(n,t);var i=n.prototype;return i.NP=function(t){this.CP.push(t),t.Qs("statechange",this.DP)},i.sr=function(){var t=this;this.CP.forEach(function(n){n.ic("statechange",t.DP)}),De(this.CP)},W(n,[{key:"OP",get:function(){return this.CP.some(function(t){return t.OP})}},{key:"wl",get:function(){var t,n,i;return this.ll||(this.ll=(i={get casting(){return t.OP},addEventListener:function(t,i){n.Qs(t,i)},removeEventListener:function(t,i){n.ic(t,i)}},n=new rT(t=this,i),i)),this.ll}}]),n}(vd),dT=function(){function t(){}return t.xP=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Ff({Iv:n,bv:is.hu,Wv:Nf.GET}),t.next=4,i.Sv(r);case 4:return e=t.sent,t.next=7,e.Vu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Pe(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.PP=function(t){try{var i=Rk(t);return new Ok(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Lo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.LP=function(t){void 0===t&&(t=$k.Wp),N.Oo("The baked-in license is used. Please update the configuration with your license.");var n=t.mD(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.mD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.mD(n)}),e=Number(new Date(Number(t.mD("COD|aHpHa:p3Ceo3Co\"\""))));return new Ok(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Ok(t.DD,t.ND,t.OD,864e13,t.PD,Date.now(),t.FD,t.MD)},t}(),lT=function(){function t(){}return t.rf=function(){return t.ou||(t.ou=wT.ya()?new wT:new Ko),t.ou},t.Tc=function(n){t.rf().Tc(n)},t.nf=function(){t.rf().nf()},t.mc=function(n){return t.rf().mc(n)},t.if=function(n,i){t.rf().if(n,i)},t.FP=function(n){var i=t.mc(n);if(void 0!==i)return g(i)},t.MP=function(n){return"true"===t.mc(n)},t}();lT.ou=void 0;var wT=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.ya=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Tc=function(n){t.localStorage.removeItem(n)},r.nf=function(){t.localStorage.clear()},r.mc=function(n){return t.localStorage[n]},r.if=function(n,i){t.localStorage[n]=i},i}(lT),yT=w.floor(14399999*w.random()-72e5),gT=function(){function t(t,n,i,r,e,u){this.VD=void 0,this.YT=t,this.BP=n,this.UP=i,this.TN=r,this.VP=e,this.jD=u,this.VD=Uk(u)}var i=t.prototype;return i.qP=function(){var t=C.coroutine(jr.mark(function t(){var n;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.HP(this.VP.license,this.VP.licenseUrl);case 2:n=t.sent,this.TN.jP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.HP=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=dT.PP(i):e||(u=dT.LP()),e||(e="https://validate.theoplayer.com/1/"+u.DD),o=this.WP(),!u){t.next=14;break}if((s=this.BP.XD(u))!==Ak.SD){t.next=14;break}if(!this.zP(u.xD)||!this.zP(null==o?void 0:o.xD)){t.next=13;break}return t.next=10,this.$P(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.BP.XD(o)!==Ak.SD){t.next=24;break}if(!this.zP(null==o?void 0:o.xD)){t.next=23;break}return t.next=20,this.$P(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",o);case 24:lT.Tc("THEOplayer.license");case 25:return t.next=27,dT.xP(e,this.YT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=dT.PP(f),this.BP.XD(h)!==Ak.SD){t.next=34;break}return lT.if("THEOplayer.license",f),t.abrupt("return",h);case 34:lT.Tc("THEOplayer.license"),t.next=39;break;case 37:if(this.VD||!u||s!==Ak.RD||e!=="https://validate.theoplayer.com/1/"+u.DD){t.next=39;break}return t.abrupt("return",dT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.XP(null!=(v=u)?v:h,new Lo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Lo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.WD=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.TN.CN();case 2:if(i=t.sent,!this.zP(i.xD)){t.next=9;break}return e=null!=(r=this.VP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.DD,t.next=7,this.$P(e);case 7:(u=t.sent)&&(this.TN.jP(u),i=u);case 9:if(t.prev=9,(o=this.BP.XD(i))!==Ak.CD){t.next=16;break}throw s=Nk.BD,new Lo(Pk(s),qk.$D(s));case 16:if(o!==Ak.RD){t.next=19;break}throw c=Nk.RD,new Lo(Pk(c),qk.$D(c));case 19:this.BP.WD(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.GP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.$P=function(){var t=C.coroutine(jr.mark(function t(n){var i,r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,dT.xP(n,this.YT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=dT.PP(i),this.BP.XD(r)!==Ak.SD){t.next=11;break}return lT.if("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.zP=function(t){return!t||Number(new Date)+2592e5+yT>=t},i.WP=function(){var t=lT.mc("THEOplayer.license");if(t)return dT.PP(t)},i.XP=function(t,n){this.TN.jP(t),this.GP(n)},i.GP=function(t){throw Tt(t.message),this.UP.ON(t.message),t},t}(),_T=function(){function t(){this.YP=void 0,this.KP=new uo}var n=t.prototype;return n.jP=function(t){this.YP=t,this.KP.Pc()},n.CN=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.YP){t.next=2;break}return t.abrupt("return",C.resolve(this.YP));case 2:return t.next=4,this.KP.xc;case 4:return t.abrupt("return",this.YP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"JP",get:function(){return this.YP}}]),t}(),pT=function(t){function n(){return t.call(this,"Cl")||this}return $(n,t),n.prototype.yl=function(){return new mT},n}(Sv),mT=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ke);function kT(t){var n,i={get fontFamily(){return t.QP},set fontFamily(n){t.QP=n},get fontColor(){return t.ZP},set fontColor(n){t.ZP=n},get fontSize(){return t.tL},set fontSize(n){t.tL=n},get backgroundColor(){return t.nL},set backgroundColor(n){t.nL=n},get windowColor(){return t.iL},set windowColor(n){t.iL=n},get edgeStyle(){return t.rL},set edgeStyle(n){t.rL=n},addEventListener:function(t,i){var r=Yv(t,Xv);n.Qs(r,i)},removeEventListener:function(t,i){var r=Yv(t,Xv);n.ic(r,i)}};return n=new Ye(i),t.Qs(["Cl"],function(t){return n.Js(t.wl)}),i}var bT,TT,ET={QP:void 0,ZP:void 0,tL:void 0,nL:void 0,iL:void 0,rL:void 0,eL:void 0},ST="THEOplayer.textTrackStyle.",RT=function(t){function n(){var i;return(i=t.call(this)||this).uL=void 0,i.ll=void 0,i.uL=n.oL(),i}return $(n,t),n.prototype.Qc=function(t){this.uL=Wr({},this.uL,t),n.sL(this.uL),this.Js(new pT)},n.oL=function(){var t=Wr({},ET);return t.QP=lT.mc(ST+"fontFamily")||t.QP,t.ZP=lT.mc(ST+"fontColor")||t.ZP,t.tL=lT.mc(ST+"fontSize")||t.tL,t.nL=lT.mc(ST+"backgroundColor")||t.nL,t.iL=lT.mc(ST+"windowColor")||t.iL,t.rL=lT.mc(ST+"edgeStyle")||t.rL,t},n.sL=function(t){lT.if(ST+"fontFamily",t.QP||""),lT.if(ST+"fontColor",t.ZP||""),lT.if(ST+"fontSize",t.tL||""),lT.if(ST+"backgroundColor",t.nL||""),lT.if(ST+"windowColor",t.iL||""),lT.if(ST+"edgeStyle",t.rL||"")},W(n,[{key:"cL",get:function(){return this.uL}},{key:"QP",get:function(){return this.uL.QP},set:function(t){this.Qc({QP:t})}},{key:"ZP",get:function(){return this.uL.ZP},set:function(t){this.Qc({ZP:t})}},{key:"tL",get:function(){return this.uL.tL},set:function(t){this.Qc({tL:t})}},{key:"nL",get:function(){return this.uL.nL},set:function(t){this.Qc({nL:t})}},{key:"iL",get:function(){return this.uL.iL},set:function(t){this.Qc({iL:t})}},{key:"rL",get:function(){return this.uL.rL},set:function(t){this.Qc({rL:t})}},{key:"eL",get:function(){return this.uL.eL}},{key:"wl",get:function(){return this.ll||(this.ll=kT(this)),this.ll}}]),n}(Ge),IT=function(t){function n(n,i){var r;(r=t.call(this)||this).aL=void 0,r.oa=void 0,r.SP=void 0,r.fL=void 0,r.al=void 0,r.cP=void 0,r.kP=void 0,r.hL=void 0,r.vL=void 0,r.KA=void 0,r.BP=void 0,r.dL=void 0,r.lL=void 0,r.YA=void 0,r.wL=!1,r.Sy=!1,r.kg=void 0,r.yL=!1,r.gL=void 0,r._L=void 0,r.pL=void 0,r.mL=void 0,r.kL=void 0,r.bL=function(t){if(!r.yL){r.yL=!0;var n=r.aL,i=Tl(t);r.SP.Ql=new dm(r.ig,i,t),He(n.sr())}},r.TL=function(t){r.Js(t.wl)},r.EL=function(t){t.type!==ns.bf&&t.type!==ns.kf&&r.Js(t)};var e=zv(i.uid);_(e)?r.kg=Nl++:r.kg=e,r.oa=i;var u=N.al,o=new _T;r.fL=new rb("3.1.1",u,o),r.al=new qb(u,i.allowMixedContent),r.KA=new Zb,r.BP=new xk(i.isEmbeddable,"3.1.1",Ik()),r.kL=new gT(u,r.BP,r.fL,o,i,Ik()),r.kL.qP().catch(r.bL),r.dL=new Tb(n),r.dL.Qs("VN",r.TL),r.YA=new RT,r.cP=new eT,r.kP=new sT;var s=new vm(n,i,r.al,r.KA,r.dL,r.YA);r.KA.Tx(s);var c=s;c=new oT(c,r.SL),c=new cT(c,r.bP),r.aL=c,r.SP=new pl(r.aL),r.SP.tc(r.EL),r.mL=new aT(on(r)),r._L=new jb(r.SP,r.al,r.KA),r.hL=new ob(on(r)),r.lL=new Rb(r.SP,i.allowNativeFullscreen),r.vL=new Om(r.lL),r.dL.aa();var a=new T(r.dL,r.YA,1,[El.Hv]);return r.gL=new E(a),r.pL=new vT,r}$(n,t);var i=n.prototype;return i.zx=function(t){this.SP.ey=t,t||this.uy||this.hr()},i.sP=function(t){this.SP.vy=t},i.RL=function(){ul(this,xm,this)},i.tr=function(){this.SP.tr()},i.nr=function(){this.SP.nr()},i.By=function(){var t=C.coroutine(jr.mark(function t(n,i){var r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.kL.WD(n).catch(this.bL),r=AT(n),t.next=5,this.SP.By(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hr=function(){this.Sy||(this.SP.hr(),this.gL.hr(),this.Sy=!0)},i.BA=function(){return this.vL.pC()===Im.FULLSCREEN},i.Wy=function(){this.SP.Wy()},i.zy=function(){this.SP.zy()},i.$y=function(){return this.SP.$y()},i.Wl=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.SP.Fy();case 2:return t.next=4,this.SP.Wl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),this.pL.sr(),this.al.sr(),this._L.sr(),this.lL.sr(),this.vL.sr(),this.dL.sr(),this.fL.sr(),this.gL.sr(),t.next=11,this.SP.sr();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"IL",get:function(){return this.KA}},{key:"Dy",get:function(){return this.wL},set:function(t){this.wL=t,this.SP.Dy=t}},{key:"AL",get:function(){return this.gL}},{key:"Oy",get:function(){return this.SP.Oy}},{key:"CL",get:function(){return this.pL}},{key:"DL",get:function(){return this.dL}},{key:"Ly",get:function(){return this.SP.Ly}},{key:"my",get:function(){return this.mL}},{key:"NL",get:function(){return this._L}},{key:"Py",get:function(){return this.SP.Py}},{key:"OL",get:function(){return this.YA}},{key:"xy",get:function(){return this.SP.xy}},{key:"tg",get:function(){return this.SP.tg}},{key:"SL",get:function(){return this.cP}},{key:"bP",get:function(){return this.kP}},{key:"Zw",get:function(){return this.SP.Zw},set:function(t){this.SP.Zw=t}},{key:"ng",get:function(){return this.SP.ng},set:function(t){this.SP.ng=t}},{key:"Qy",get:function(){return this.SP.Qy}},{key:"ty",get:function(){return this.SP.ty}},{key:"ig",get:function(){return this.SP.ig}},{key:"ny",get:function(){return this.SP.ny}},{key:"vc",get:function(){return this.SP.vc}},{key:"iy",get:function(){return this.SP.iy}},{key:"ey",get:function(){return this.SP.ey},set:function(t){var n=Boolean(t);this.zx(n)}},{key:"uy",get:function(){return this.SP.uy}},{key:"oy",get:function(){return this.SP.oy},set:function(t){this.SP.oy=t}},{key:"hg",get:function(){return this.SP.hg}},{key:"vg",get:function(){return this.SP.vg},set:function(t){this.SP.vg=nm(t)}},{key:"gw",get:function(){return this.SP.gw}},{key:"dg",get:function(){return this.SP.dg}},{key:"sy",get:function(){return this.SP.sy}},{key:"rw",get:function(){return this.kg}},{key:"ay",get:function(){return this.SP.ay}},{key:"hy",get:function(){return this.SP.hy}},{key:"vy",get:function(){return this.SP.vy},set:function(t){var n=Qt(Number(t),0,1)||0;this.sP(n)}}]),n}(vd);function AT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.xL=0]="xL",t[t.PL=1]="PL"}(bT||(bT={})),function(t){t[t.LL=0]="LL"}(TT||(TT={}));var CT={};function DT(t,n){var i=t;if(CT[n])for(var r=0,e=CT[n];r<e.length;r++){i=(0,e[r])(i)}return i}var NT=[];function OT(t){NT.push(t)}var xT=t.CustomEvent;var PT=function(){try{var t=new xT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},LT=function(){function t(t,n){var i=this;this.jI=void 0,this.FL=void 0,this.ML=!1,this.BL=function(t){i.FL.NN(t.error,i.Zw)},this.UL=function(){i.FL.AN(i.VL),i.jI.removeEventListener("playing",i.UL),i.ML=!1},this.qL=function(){i.ML||(i.jI.addEventListener("playing",i.UL),i.ML=!0)},this.FL=n,this.jI=t,this.jI.addEventListener("error",this.BL),this.jI.addEventListener("sourcechange",this.qL),this.qL()}return t.prototype.Wl=function(){},W(t,[{key:"Zw",get:function(){var t=this.jI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"VL",get:function(){return this.jI.src||""}}]),t}();OT(function(t){new LT(t.wl,t.fL)});var FT,MT,BT="theoplayer-stored-volume",UT="theoplayer-stored-mutedstate";FT=function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=lT.FP(BT);(void 0===e||_(e))&&(e=1);var u=lT.MP(UT)||!1;r.vy=e,r.ey=u}return r}$(n,t);var i=n.prototype;return i.zx=function(n){this.oa.persistVolume&&lT.if(UT,""+Boolean(n)),t.prototype.zx.call(this,n)},i.sP=function(n){this.oa.persistVolume&&lT.if(BT,""+Number(n)),t.prototype.sP.call(this,n)},n}(t)},MT=bT.PL,(CT[MT]||(CT[MT]=[])).push(FT);var VT=new(function(){function t(){this.HL=[],this.ll=void 0}var n=t.prototype;return n.Vl=function(t){return this.HL[t]},n.jL=function(t){this.HL.push(t),this.wl.push(t.wl)},n.Jc=function(t){var n=this.HL.indexOf(t);n<0||(Ae(this.HL,n),this.ll&&Ae(this.ll,n))},n.WL=function(t){for(var n=0,i=this.HL;n<i.length;n++){var r=i[n];if(r.rw===t)return r}},W(t,[{key:"$l",get:function(){return this.HL.length}},{key:"wl",get:function(){return this.ll||(this.ll=function(t){for(var n=[],i=0;i<t.$l;i++)n[i]=t.Vl(i).wl;return n.getPlayerByUID=function(n){var i=t.WL(n);return i&&i.wl},n}(this)),this.ll}}]),t}()),qT=function(){function t(t){var n=this;this.zL=[],this.$L=void 0,this.Wd=new Oe,this.XL=void 0,this.kn=function(){return 0===n.zL.length?n.XL?HT(n.XL,n.Wd.$s).then(n.GL,n.GL):n.GL():n.zL.shift()().then(n.kn)},this.GL=function(){if(0!==n.zL.length)return n.kn();n.$L=void 0},this.XL=t}var n=t.prototype;return n.YL=function(t,n){var i=this;return new C(function(r){var e=new Oe;e.Ws(i.Wd.$s),n&&e.Ws(n);var u=function(){e.Ms()};i.zL.push(function(){var n=HT(t,e.$s);return r(n),n.then(u,u)}),i.$L||(i.$L=i.kn())})},n.js=function(){return this.KL(!0)},n.sr=function(){return this.XL=void 0,this.KL(!1)},n.KL=function(t){var n=this.$L;return this.Wd.js(),t&&(this.Wd=new Oe),C.resolve(n)},t}();function HT(t,n){return new C(function(i){return i(t(n))})}var jT,WT=function(t){function n(n){var i;return(i=t.call(this,ns.Ff)||this).source=n,i}return $(n,t),n}(Ke),zT=function(t){function n(){var n;return(n=t.call(this)||this).qA=void 0,n.jA=void 0,n.zA=void 0,n.WA=void 0,n.qA=0,n.jA=!0,n.zA=!1,n.WA=1,n}$(n,t);var i=n.prototype;return i.tr=function(){this.jA&&(this.jA=!1,this.Js(new Ud(this.Zw)),this.Js(new sg(this.Zw)))},i.nr=function(){this.jA||(this.jA=!0,this.Js(new $d(this.Zw,this.ng)),this.Js(new Bd(this.Zw)))},i.Wl=function(){this.qA=0,this.zA=!1,this.WA=1,this.nr(),this.Js(new Md(this.qA))},i.sr=function(){this.nc()},i.zy=function(){},i.Wy=function(){},W(n,[{key:"ng",get:function(){},set:function(t){}},{key:"Zw",get:function(){return this.qA},set:function(t){this.zA&&this.qA===t||(this.qA=t,this.zA=!0,this.Js(new Yd(this.Zw)))}},{key:"uy",get:function(){return this.jA}},{key:"oy",get:function(){return this.WA},set:function(t){this.WA!==t&&(this.WA=t,this.Js(new zd(this.Zw,this.oy)))}},{key:"gw",get:function(){return kd.Hw}},{key:"sy",get:function(){return this.zA}}]),n}(hd),$T=function(t){function n(){return t.call(this,ns.vf)||this}return $(n,t),n}(Ke),XT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},GT={visibility:"hidden"},YT={visibility:"visible"},KT=function(){function t(t){var n,i=this;this.BI=void 0,this.jI=void 0,this.JL=!1,this.QL=void 0,this.ZL=void 0,this.tF=function(t){var n;i.JL=!1,i.QL=null==(n=t.source)?void 0:n.poster,i.Qc()},this.wE=function(){i.JL=!0,i.zy()},this.jI=t,this.XI(),this.BI=((n=R&&R.document&&R.document.createElement("div")).className="theoplayer-poster",br(XT,n),n),t.ig.appendChild(this.BI)}var n=t.prototype;return n.Qc=function(){var t=this.jI.uy,n=this.JL;this.Iv?this.BI.style.backgroundImage='url("'+this.Iv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.BI.style.backgroundImage="",t&&this.Iv&&!n?this.Wy():this.zy()},n.Wy=function(){br(GT,this.jI.ig),br(YT,this.BI)},n.zy=function(){br(GT,this.BI),br(YT,this.jI.ig)},n.XI=function(){this.jI.Qs("sourcechange",this.tF),this.jI.Qs("play",this.wE)},n.sr=function(){this.jI.ic("sourcechange",this.tF),this.jI.ic("play",this.wE),kr(this.BI)},W(t,[{key:"Iv",get:function(){return void 0!==this.QL?this.QL:void 0!==this.ZL?this.ZL:void 0}},{key:"nF",set:function(t){this.ZL=t,this.Qc()}}]),t}();function JT(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).jI=void 0,e.iF=void 0,e.rF=void 0,e.eF=void 0,e.uF=void 0,e.oF=void 0,e.sF=void 0,e.cF=void 0,e.$I=void 0,e.zI=void 0,e.ll=void 0,e.aF=function(t){t.type!==ns.Rf&&e.cF.push(t)},e.iF=new t(i,r),e.rF=new zT,e.jI=e.iF,e.eF=new KT(on(e)),e.oF=new qT,e.sF=!1,e.cF=[],e.$I=!0,e.zI=void 0,e.XI(),e}$(i,n);var r=i.prototype;return r.YL=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.oF.YL(n,i).catch(Me));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.fF=function(){var t=C.coroutine(jr.mark(function t(n,i){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Le(i),this.iF.tc(this.aF),t.next=4,this.iF.By(n,i);case 4:this.iF.uc(this.aF);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.hF=function(){var t=C.coroutine(jr.mark(function t(){var n,i,r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.My())&&!ek(n)&&this.Dy&&this.uy){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.oa.mutedAutoplay,t.next=6,this.AL.ar();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.vF(),t.abrupt("break",14);case 12:return(this.ey||i===Vd.ALL)&&(this.ey=!0,this.tr()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.By=function(t){var n=this,i=this.zI;i&&!ek(i)&&this.Js(new Md(0,0)),this.Wl(),this.zI=t,He(this.YL(function(){var i=C.coroutine(jr.mark(function i(r){return jr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Le(r),i.prev=1,i.next=4,n.fF(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.zI=void 0,i.t0;case 10:return i.next=12,n.dF();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.dF=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.lF(this.iF),this.Js(new WT(this.My())),t.next=4,this.hF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Mx=function(t){this.jI.Zw=t},r.qx=function(){return this.iF.vc},r.Hx=function(){return this.iF.iy},r.tr=function(){this.jI.tr()},r.vF=function(){this.ey||this.hr(),this.tr()},r.hr=function(){this.iF.hr()},r.nr=function(){this.jI.nr()},r.Fy=function(){this.By(void 0)},r.Wy=function(){this.$I=!0,this.jI.Wy()},r.zy=function(){this.$I=!1,this.jI.zy()},r.RL=function(){this.iF.RL()},r.sP=function(t){this.iF.sP(t)},r.zx=function(t){this.iF.zx(t)},r.wF=function(t){this.uF=t,t.jL(this)},r.BA=function(){return this.iF.BA()},r.My=function(){return this.zI},r.$y=function(){return this.iF.$y()},r.Fx=function(){return this.iF.Zw},r.Bx=function(){return this.iF.ty},r.Ox=function(){return this.iF.tg},r.Kx=function(){return this.iF.hg},r.tP=function(){return this.iF.dg},r.Wl=function(){var t=this;this.zI=void 0,De(this.cF),this.rF.Wl(),this.lF(this.rF),this.oF.js(),He(this.oF.YL(function(){var n=C.coroutine(jr.mark(function n(i){return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Le(i),n.next=3,t.iF.Wl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.sr=function(){var t=this;this.Js(new $T),this.eF.sr(),this.GI(),this.Wl(),He(this.YL(C.coroutine(jr.mark(function n(){return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iF.sr();case 2:t.uF&&(t.uF.Jc(t),t.uF=void 0),t.oF.sr();case 4:case"end":return n.stop()}},n)})))),this.nc()},r.lF=function(t){if(this.jI!==t){var n=this.jI.uy,i=this.jI.Zw,r=this.jI.oy,e=this.jI.sy;this.GI(),t===this.iF?((e||t.Zw!==i)&&(t.Zw=i),t.oy!==r&&(t.oy=r),n?t.nr():t.tr()):this.oa.retainPlaybackRateOnSourceChange?t.oy=r:1!==r&&this.Js(new zd(this.Fx(),1)),this.jI=t,this.XI();for(var u=0,o=this.cF;u<o.length;u++){var s=o[u];this.Js(s)}De(this.cF),this.$I?t.Wy():t.zy()}},r.XI=function(){this.jI.tc(this.Ks)},r.GI=function(){this.jI.uc(this.Ks)},r.yl=function(){return t=this,r=function(n){i=n;var r=wk(n,t.oa);t.By(r)},e={get abr(){return t.IL.wl},get audioTracks(){return t.Oy.wl},get autoplay(){return t.Dy},set autoplay(n){t.Dy=Boolean(n)},get buffered(){return t.Ox()},get canvas(){return t.hL.wl},get clip(){return t.SL.wl},get currentProgramDateTime(){var n;return null!=(n=t.ng)?n:null},set currentProgramDateTime(n){t.ng=null!=n?n:void 0},get currentTime(){return t.Fx()},set currentTime(n){t.Mx(Number(n))},get duration(){return t.Bx()},get element(){return t.ig},get ended(){return t.ny},get error(){return t.qx()},get errorObject(){return t.Hx()},get loop(){return t.bP.bP},set loop(n){t.bP.bP=Boolean(n)},get metrics(){return t.my.wl},get muted(){return t.ey},set muted(n){t.zx(n)},get network(){return t.NL.wl},get paused(){return t.uy},get playbackRate(){return t.oy},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.oy=i},get played(){return t.Kx()},get poster(){return t.yF},set poster(n){t.yF=Xv(n)},get preload(){return t.vg},set preload(n){t.vg=n},get presentation(){return t.vL.wl},get readyState(){return t.gw},get seekable(){return t.tP()},get seeking(){return t.sy},get source(){return i},set source(t){r(t)},get src(){return uk(t.My())},set src(t){r({sources:t})},get textTracks(){return t.Py.wl},get textTrackStyle(){return t.OL.wl},get uid(){return t.rw},get videoHeight(){return t.ay},get videoTracks(){return t.xy.wl},get videoWidth(){return t.hy},get volume(){return t.vy},set volume(n){t.sP(Number(n))},destroy:function(){t.sr(),t=null,i=void 0},play:function(){t.vF()},pause:function(){t.nr()},stop:function(){i=void 0,t.Fy()},prepareWithUserAction:function(){t.hr()},addEventListener:function(t,i){n.Qs(t,i)},removeEventListener:function(t,i){n.ic(t,i)},setSource:function(t){r(t)}},(n=new Dm(e,!0)).uC(t),e;var t,n,i,r,e},W(i,[{key:"fL",get:function(){return this.iF.fL}},{key:"hL",get:function(){return this.iF.hL}},{key:"oa",get:function(){return this.iF.oa}},{key:"aL",get:function(){return this.iF.aL}},{key:"al",get:function(){return this.iF.al}},{key:"fI",get:function(){return this.iF.lL}},{key:"vL",get:function(){return this.iF.vL}},{key:"dL",get:function(){return this.iF.dL}},{key:"SP",get:function(){return this.iF.SP}},{key:"IL",get:function(){return this.iF.IL}},{key:"Dy",get:function(){return this.iF.Dy},set:function(t){this.iF.Dy=t,this.hF()}},{key:"AL",get:function(){return this.iF.AL}},{key:"Oy",get:function(){return this.iF.Oy}},{key:"CL",get:function(){return this.iF.CL}},{key:"DL",get:function(){return this.iF.dL}},{key:"wl",get:function(){return this.ll||(this.ll=this.yl()),this.ll}},{key:"Ly",get:function(){return this.iF.Ly}},{key:"my",get:function(){return this.iF.my}},{key:"NL",get:function(){return this.iF.NL}},{key:"Py",get:function(){return this.iF.Py}},{key:"OL",get:function(){return this.iF.OL}},{key:"xy",get:function(){return this.iF.xy}},{key:"SL",get:function(){return this.iF.SL}},{key:"bP",get:function(){return this.iF.bP}},{key:"ng",get:function(){return this.jI.ng},set:function(t){this.jI.ng=t}},{key:"Qy",get:function(){return this.iF.Qy}},{key:"ig",get:function(){return this.iF.ig}},{key:"ny",get:function(){return this.iF.ny}},{key:"ey",get:function(){return this.iF.ey},set:function(t){this.iF.ey=t}},{key:"uy",get:function(){return this.jI.uy}},{key:"yF",get:function(){return this.eF.Iv||""},set:function(t){this.eF.nF=t}},{key:"oy",get:function(){return this.iF.oy},set:function(t){this.jI.oy=t}},{key:"vg",get:function(){return this.iF.vg},set:function(t){this.iF.vg=nm(t)}},{key:"gw",get:function(){return this.jI.gw}},{key:"sy",get:function(){return this.jI.sy}},{key:"rw",get:function(){return this.iF.rw}},{key:"ay",get:function(){return this.iF.ay}},{key:"hy",get:function(){return this.iF.hy}},{key:"vy",get:function(){return this.iF.vy},set:function(t){this.iF.vy=t}}]),i}(vd)}function QT(t,n){var i=rl(n),r=new(jT||(jT=DT(jT=JT(IT),bT.xL),jT=DT(jT,bT.PL)),jT)(t,i),e=r.wl;return r.RL(),r.wF(VT),l.defineProperty(e,"constructor",{value:QT}),e=Mv(e),function(t){for(var n=0;n<NT.length;n++)(0,NT[n])(t)}(r),e}qe(function(){t.dispatchEvent&&t.dispatchEvent(PT("theoplayerready"))});var ZT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return vu(t)},n.decode=function(t){return fu(t)},t}())},tE=VT.wl,nE=Bg.cS.registerContentProtectionIntegration.bind(Bg.cS),iE=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},rE=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),eE=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?r.splice(o,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function uE(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function oE(t){return JSON.stringify(t,eE.getSerialize(uE))}var sE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),cE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),aE=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),fE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=sE.isS,r=sE.isChar,e=sE.isNameStartChar,u=sE.isNameChar,o=sE.S_LIST,s=sE.NAME_RE,c=cE.isChar,a=aE.isNCNameStartChar,f=aE.isNCNameChar,h=aE.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:d,xmlns:w},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,A=7,C=8,D=9,N=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,H=21,j=22,W=23,z=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,ot=39,st=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,At=8232,Ct=t=>34===t||39===t,Dt=[34,39],Nt=[...Dt,St,Tt],Ot=[...Dt,kt,Rt],xt=[bt,Et,...o],Pt=[...o,Tt,gt,kt];function Lt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==w&&t.fail(`xmlns prefix must be bound to ${w}.`)}switch(i){case w:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>h.test(t),Mt=t=>s.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Lt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Ba}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Ba=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==At||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case At:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===m,u=e?dt:r;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case m:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case p:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===m?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new v("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Nt);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Ct(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:Ct(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=A,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?C:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?N:C}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=C)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=j:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Et||i(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Et;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Ct(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ot:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Ct(t)?(this.q=t,this.state=st):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=st);case dt:case m:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===Tt?this.openTag():t===pt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new v("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Ba=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let o,s;""===i?(o="xmlns"===n?w:"",s=n):(void 0===(o=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),o=i),s=`{${o}}${u}`),e.has(s)&&this.fail(`duplicate attribute: ${s}.`),e.add(s),t.uri=o,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=y(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=y(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),hE=function(){function t(){}return t.prototype.lu=function(t){var n=new fE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new _E,r=[i];function e(t){r[r.length-1].Cu(t)}return n.on("text",function(t){r.length>1&&e(new yE(t))}),n.on("cdata",function(t){e(new gE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,o=new lE({_u:n,mu:""===i?void 0:i,gF:""===u?void 0:u}),s=t.attributes,c=0,a=l.keys(s);c<a.length;c++){var f=s[a[c]],h=f.prefix,v=f.local,d=f.uri,w=f.value,y=new vE({_u:v,bu:w,mu:""===d?void 0:d,gF:""===h?void 0:h});o._F(y)}e(o),r.push(o)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new an(t)}),n.write(t).close(),i},t}(),vE=function(){function t(t){this.pF=void 0,this.mF=void 0,this.kF=void 0,this.En=void 0,this.pF=t._u,this.En=t.bu,this.mF=t.mu,this.kF=t.gF}var n=t.prototype;return n.yu=function(t){return this===t||!!mE(this,t)&&(this.pF===t.pF&&this.mF===t.mF&&this.kF===t.kF&&this.En===t.En)},n.gu=function(){return new t({_u:this._u,bu:this.bu,mu:this.mu,gF:this.ku})},W(t,[{key:"cu",get:function(){return en.fu}},{key:"_u",get:function(){return this.pF}},{key:"pu",get:function(){return void 0===this.kF?this.pF:this.kF+":"+this.pF}},{key:"mu",get:function(){return this.mF}},{key:"ku",get:function(){return this.kF}},{key:"bu",get:function(){return this.En}}]),t}(),dE=function(){function t(){this.Eu=[]}var n=t.prototype;return n.Su=function(t){return this.Eu.filter(function(n){return pE(n)&&n.Iu===t})},n.Au=function(t,n){return this.Eu.filter(function(i){return pE(i)&&i._u===n&&i.mu===t})},n.Cu=function(t){this.Eu.push(t)},W(t,[{key:"Ru",get:function(){return this.Eu}},{key:"Nu",get:function(){return this.Eu.filter(pE)}}]),t}(),lE=function(t){function n(n){var i;return(i=t.call(this)||this).pF=void 0,i.mF=void 0,i.kF=void 0,i.bF=[],i.pF=n._u,i.mF=n.mu,i.kF=n.gF,i}$(n,t);var i=n.prototype;return i.TF=function(t){for(var n=0,i=this.Ru;n<i.length;n++){var r=i[n];pE(r)?r.TF(t):t.push(r.Vu)}},i.xu=function(t,n){for(var i=0,r=this.bF;i<r.length;i++){var e=r[i];if(e._u===n&&e.mu===t)return e.bu}},i.Ou=function(t){for(var n=0,i=this.bF;n<i.length;n++){var r=i[n];if(r.pu===t)return r.bu}},i._F=function(t){this.bF.push(t)},i.Pu=function(t){for(var n=0;n<this.bF.length;n++)if(this.bF[n].pu===t)return void this.bF.splice(n,1)},i.Lu=function(t,n){for(var i=0;i<this.bF.length;i++)if(this.bF[i]._u===n&&this.bF[i].mu===t)return void this.bF.splice(i,1)},i.Fu=function(t,n){this.Pu(t),this._F(new vE({_u:t,bu:n}))},i.Mu=function(t,n,i){this.Pu(n);var r=n.split(":");this._F(new vE({_u:r[r.length-1],bu:i,mu:t,gF:r.length>1?r[0]:void 0}))},i.gu=function(t){var i=new n({_u:this._u,mu:this.mu,gF:this.ku});return this.Bu.forEach(function(t){return i._F(t.gu())}),t&&this.Ru.forEach(function(n){return i.Cu(n.gu(t))}),i},i.yu=function(t){return this===t||!!mE(this,t)&&(this.pF===t.pF&&this.kF===t.kF&&this.mF===t.mF&&(kE(this.Bu,t.Bu)&&kE(this.Ru,t.Ru)))},W(n,[{key:"cu",get:function(){return en.au}},{key:"Bu",get:function(){return this.bF}},{key:"_u",get:function(){return this.pF}},{key:"mu",get:function(){return this.mF}},{key:"ku",get:function(){return this.kF}},{key:"Iu",get:function(){return void 0===this.kF?this.pF:this.kF+":"+this.pF}},{key:"Uu",get:function(){var t=[];return this.TF(t),t.join("")}}]),n}(dE),wE=function(){function t(t){this.$i=void 0,this.$i=t}return W(t,[{key:"Vu",get:function(){return this.$i}}]),t}(),yE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.gu=function(){return new n(this.Vu)},i.yu=function(t){return this===t||!!mE(this,t)&&this.Vu===t.Vu},W(n,[{key:"cu",get:function(){return en.hu}}]),n}(wE),gE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.gu=function(){return new n(this.Vu)},i.yu=function(t){return this===t||!!mE(this,t)&&this.Vu===t.Vu},W(n,[{key:"cu",get:function(){return en.vu}}]),n}(wE),_E=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.gu=function(t){var i=new n;return t&&this.Ru.forEach(function(n){return i.Cu(n.gu(t))}),i},i.yu=function(t){return this===t||!!mE(this,t)&&kE(this.Ru,t.Ru)},W(n,[{key:"cu",get:function(){return en.du}},{key:"qu",get:function(){return this.Nu[0]}}]),n}(dE);function pE(t){return un(t)}function mE(t,n){return t.cu===n.cu}function kE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].yu(n[i]))return!1;return!0}var bE,TE=["adBreak"],EE=["adBreak"];function SE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Wr({},t,{adBreak:Wr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Og(t,TE)})})})}function RE(t){return void 0===t.ads?t:Wr({},t,{ads:t.ads.map(function(t){t.adBreak;return Og(t,EE)})})}function IE(t){return"string"==typeof t.date?new Date(t.date):t.date}function AE(t){var n;return t.cue.track?(n=DE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=DE(t.cue,""),n}function CE(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function DE(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new hE).lu(r.firstChild.outerHTML).qu.Bu.forEach(function(t){e[t._u]=t.bu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if("object"==typeof(a=s)&&null!==a){var c=NE(s);u[o]={type:bE.EF,value:c}}else xE(s)?u[o]={type:bE.SF,value:s}:u[o]={type:bE.RF,value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=NE(t.scte35Cmd),i.scte35Out=NE(t.scte35Out),i.scte35In=NE(t.scte35In),i.customAttributes=u}var a}(),i}function NE(t){if(void 0!==t)return vu(t)}function OE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(DE(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(DE(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function xE(t){return"number"==typeof t}!function(t){t.RF="daterange-ca-type_string",t.SF="daterange-ca-type_number",t.EF="daterange-ca-type_arraybuffer"}(bE||(bE={}));var PE={cue:function(t){var n={};switch(n.date=IE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=AE(t)}return n},textTrack:function(t){var n={};switch(n.date=IE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=BE().register(t.cue));var i=ME()[UE()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=AE(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(DE(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=IE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=BE().register(t)}),n.track=OE(t.track);case"removetrack":case"change":n.track=OE(t.track)}return n},default:function(t){var n={};switch(n.date=IE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Wr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=OE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=RE(t.ad);break;case"adloaded":case"adimpression":n.ad=SE(t.ad);break;case"aderror":t.IF&&(n.IF=t.IF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=SE(t.ad)}return CE(n)},minimizeCueHelper:function(t){var n={};return n.date=IE(t),n.type=t.type,n.cue=AE(t),n.track={uid:t.cue.track.uid},n},adReplacer:SE,adBreakReplacer:RE,removeCircularReferences:CE},LE=function(){this.stringify=oE,this.minimize=PE};function FE(){return R.self}function ME(){return FE().THEOplayerBridge}function BE(){return FE().THEOCueMirrorMap}function UE(){return FE().THEOplayerGlobalID}function VE(){var t=FE();if(t.THEOplayerBridge){var n=new iE;t.THEOplayerBridge=Uv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new iE;t.THEOplayerUtils||(t.THEOplayerUtils=new LE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new rE)}VE();var qE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.lu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new an(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new an;return new HE(n)},n}(fn),HE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.gu=function(t){return new n(this.Tu.cloneNode(t))},W(n,[{key:"Ru",get:function(){return void 0===this.Eu&&(this.Eu=zE(this.Tu.childNodes)),this.Eu}},{key:"qu",get:function(){return new jE(this.Tu.documentElement)}}]),n}(gn),jE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.gu=function(t){var i=new n(this.Tu.cloneNode(t));return i.Bu.length<1&&this.Bu.length>0&&this.Bu.forEach(function(t){i.Fu(t.pu,t.bu)}),i},W(n,[{key:"Ru",get:function(){return void 0===this.Eu&&(this.Eu=zE(this.Tu.childNodes)),this.Eu}}]),n}(dn);function WE(t){switch(t.nodeType){case en.au:return new jE(t)}return pn(t)}function zE(t){for(var n=[],i=0;i<t.length;i++){var r=WE(t.item(i));r&&n.push(r)}return n}x(new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).AF=new qE,n}return $(n,t),n.prototype.lu=function(t){return this.AF.lu(t)},n}(Ev)));var $E=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return $(n,t),n}(Ke),XE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Js(new $E(t,n))},i.addEventListener=function(t,n){this.Qs(t,n)},i.removeEventListener=function(t,n){this.ic(t,n)},n}(vd);function GE(t,n){return t.Lg<=n&&t.Fg>n}function YE(t,n){return function(t,n){return tw(t.Lg,n.Lg,Xl)}(t,n)||function(t,n){return tw(t.Fg,n.Fg,Xl)}(t,n)}function KE(t,n){var i=function(t,n,i,r,e,u,o){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var a=s+(c-s>>1),f=r(i(t[a]),n);if(f<0)s=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~s}(t,n,F,YE,!0);if(i<0)return i;for(;i<t.length&&YE(n,t[i])===Kl.f_;i++)if(t[i].$g(n))return i;return-(i+1)}function JE(t){var n=t.gl;if(!n)return-1;if(t instanceof Gl)return n.CF(t);var i=n._w;if(!i)return-1;var r=KE(i.zl,t);return r>=0?r:-1}var QE=function(t){function n(n,i){var r;return(r=t.call(this,Ul.Dg,n)||this).sp=i,r}return $(n,t),n.prototype.yl=function(){return new ZE(this.Pg.wl)},n}(jl),ZE=function(t){function n(n){return t.call(this,Vl.Dg,n)||this}return $(n,t),n}(Wl),tS=function(t){function n(n,i){var r;return(r=t.call(this,Ul.Og,n)||this).sp=i,r}return $(n,t),n.prototype.yl=function(){return new nS(this.Pg.wl)},n}(jl),nS=function(t){function n(n){return t.call(this,Vl.Og,n)||this}return $(n,t),n}(Wl),iS=function(t){function n(n){var i;return(i=t.call(this,Rv.bl)||this).Pg=n,i}return $(n,t),n.prototype.yl=function(){return new rS(this.Pg.wl)},n}(Iv),rS=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return $(n,t),n}(Av),eS=function(t){function n(n){var i;return(i=t.call(this,Rv.El)||this).Pg=n,i}return $(n,t),n.prototype.yl=function(){return new uS(this.Pg.wl)},n}(Iv),uS=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return $(n,t),n}(Av),oS=function(t){function n(n){var i;return(i=t.call(this,Rv.Rl)||this).gl=n,i}return $(n,t),n.prototype.yl=function(){return new sS(this.gl.wl)},n}(Iv),sS=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return $(n,t),n}(Av);function cS(t,n){return Zl(t.sp,n.sp)||function(t,n){return t.gl===n.gl?Ql(JE(t),JE(n)):By(t.gl,n.gl)}(t.Pg,n.Pg)||function(t,n){return t===n?Kl.f_:t===Ul.Dg?Kl.v_:Kl.h_}(t.type,n.type)}var aS=function(){function t(t,n){var i=this;this.jI=void 0,this.DF=void 0,this.Ay=[],this.NF=0,this.OF=0,this.xF=[],this.PF=!1,this.LF=!1,this.FF=void 0,this.MF=function(){i.NF=0,i.BF(),i.UF()},this.VF=function(){i.BF(),i.UF()},this.qF=function(){i.LF=!0,i.FF=i.jI.Zw,i.HF()},this.jF=function(){i.BF(),i.UF()},this.WF=function(){i.zF(),i.BF(),i.UF()},this.XF=function(){i.GF()},this.YF=function(t){Ie(i.xF,t.Pg),i.GF()},this.DF=n,this.jI=t,t.Qs(ns.Mf,this.VF),t.Qs(ns.Ef,this.VF),t.Qs(Fd.Qw,this.VF),t.Qs(ns.Tf,this.VF),t.Qs(ns.Df,this.qF),t.Qs(ns.Cf,this.jF),this.GF()}var n=t.prototype;return n.Wl=function(){De(this.xF);for(var t=0,n=this.Ay.slice();t<n.length;t++){var i=n[t];this.Hl(i)}this.HF(),this.NF=0,this.OF=0,this.PF=!1,this.LF=!1,this.FF=void 0},n.ql=function(t){Ce(this.Ay,t)||(this.Ay.push(t),t.Qs(Rv._l,this.XF),t.Qs(Rv.ml,this.YF),t.Qs(Rv.Al,this.WF),t._w.$l&&this.GF(),this.zF())},n.Hl=function(t){if(Ie(this.Ay,t)){if(t.ic(Rv._l,this.XF),t.ic(Rv.ml,this.YF),t.ic(Rv.Al,this.WF),t._w.$l){for(var n=0,i=t._w.zl;n<i.length;n++){var r=i[n];Ie(this.xF,r)}this.GF()}this.zF()}},n.zF=function(){this.PF=this.Ay.some(function(t){return t.hw!==id.lw})},n.UF=function(){this.jI.sy||this.jI.uy?this.HF():this.GF()},n.GF=function(){this.PF&&(this.NF||(this.NF=this.DF._r(this.MF)))},n.HF=function(){this.NF&&(this.DF.KF(this.NF),this.NF=0)},n.BF=function(){var t;if(this.PF&&!this.jI.sy){var n=this.Ay,i=this.OF,r=null!=(t=this.FF)?t:this.jI.Zw,e=r-i<-.1,u=this.LF||e;u&&r>i&&r-i<.1&&(u=!1),this.LF=!1,this.FF=void 0;for(var o,s=[],c=0;c<n.length;c++){var a=n[c];if(a.hw!==id.lw){a.JF(r,u);for(var f=0,h=a.pw.zl;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.xF;else{o=[];for(var d=0;d<n.length;d++){var l=n[d];l.hw!==id.lw&&My(l,i-1/6,r,o)}}for(var y=o.length-1;y>=0;y--)Ce(s,o[y])&&Ae(o,y);var g=[];if(!u)for(var _=o.length-1;_>=0;_--){var p=o[_];p.Lg>=i&&p.Fg<=r&&(g.push(p),Ae(o,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.Xg||m.push(new QE(T,T.Lg)),m.push(new tS(T,w.max(T.Lg,T.Fg)))}for(var E=0,S=o;E<S.length;E++){var R=S[E];R.Xg&&(m.push(new tS(R,w.max(R.Lg,R.Fg))),R.Xg=!1)}for(var I=0;I<s.length;I++){var A=s[I];A.Xg||(m.push(new QE(A,A.Lg)),A.Xg=!0)}m.sort(cS);for(var C=0;C<m.length;C++){var D=m[C],N=D.Pg;N.Js(D);var O=N.gl;O&&(D.type===Ul.Dg?O.Js(new iS(N)):O.Js(new eS(N)),Ce(k,O)||k.push(O))}k.sort(By);for(var x=0;x<k.length;x++){var P=k[x];P.Js(new oS(P))}this.OF=r,this.xF=s}},n.sr=function(){this.Wl(),this.jI.ic(ns.Mf,this.VF),this.jI.ic(ns.Ef,this.VF),this.jI.ic(Fd.Qw,this.VF),this.jI.ic(ns.Tf,this.VF),this.jI.ic(ns.Df,this.qF),this.jI.ic(ns.Cf,this.jF)},t}(),fS=function(){function t(){}var n=t.prototype;return n._r=function(t){return lb(t)},n.KF=function(t){wb(t)},t}(),hS=new fS,vS=function(t){function n(n,i){return void 0===i&&(i=hS),t.call(this,n,i)||this}return $(n,t),n}(aS),dS=function(t){function n(){return t.call(this,ns._f)||this}return $(n,t),n}(Ke),lS=function(t){function n(n){var i;return(i=t.call(this,ns.Sf)||this).currentTime=n,i}return $(n,t),n}(Ke),wS=function(t){function n(n,i){var r;return(r=t.call(this)||this).QF=void 0,r.ZF=void 0,r.tM=function(t){r.QF.nM("THEOplayerABRSetTargetBuffer",t.ax),r.Js(t)},r.iM=function(t){r.QF.nM("THEOplayerABRSetStrategy",t.vx),r.Js(t)},r.QF=n,r.ZF=i,r.ZF.Qs("hx",r.tM),r.ZF.Qs("lx",r.iM),r}return $(n,t),W(n,[{key:"Ex",get:function(){var t;switch(this.vx.type){case Vb.PERFORMANCE:return 1;case Vb.QUALITY:return 0;case Vb.BANDWIDTH:return null!=(t=this.vx.metadata)&&t.bitrate&&!_(this.vx.metadata.bitrate)?this.vx.metadata.bitrate:0;default:return 0}}},{key:"wl",get:function(){return this.ZF.wl}},{key:"vx",get:function(){return this.ZF.vx},set:function(t){this.ZF.vx=t}},{key:"ax",get:function(){return this.ZF.ax},set:function(t){this.ZF.ax=t}},{key:"wx",get:function(){return this.ZF.wx},set:function(t){this.ZF.wx=t}}]),n}(Ge),yS=function(){function t(t){this.rM=void 0,this.ll=void 0,this.rM=t}var n=t.prototype;return n.yl=function(){return function(t){for(var n=[],i=0;i<t.$l;i++)n[i]=t.mc(i).wl;return n.item=function(n){var i=0|n,r=t.mc(i);return r&&r.wl||void 0},l.defineProperty(n,"constructor",{value:$l}),n}(this)},n.gg=function(t){for(var n=this.rM,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.$g(r))return!0}return!1},n.mc=function(t){return this.rM[t]},W(t,[{key:"zl",get:function(){return this.rM}},{key:"$l",get:function(){return this.rM.length}},{key:"wl",get:function(){if(this.ll){var t=this.rM;this.ll.length=t.length;for(var n=0;n<t.length;n++)this.ll[n]=t[n].wl}else this.ll=this.yl();return this.ll}}]),t}(),gS=function(t){function n(n,i){var r;return(r=t.call(this,Rv.Dl)||this).gl=n,r.gw=i,r}return $(n,t),n.prototype.yl=function(){return new _S(this.gl.wl,ad(this.gw))},n}(Iv),_S=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return $(n,t),n}(Av),pS=function(t){function n(n){var i;return(i=t.call(this,Rv.Ol)||this).gl=n,i}return $(n,t),n.prototype.yl=function(){return new mS(this.gl.wl)},n}(Iv),mS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return $(n,t),n}(Av),kS=function(t){function n(n){var i;return(i=t.call(this,Rv._l)||this).Pg=n,i}return $(n,t),n.prototype.yl=function(){return new bS(this.Pg.wl)},n}(Iv),bS=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return $(n,t),n}(Av),TS=function(t){function n(n){var i;return(i=t.call(this,Rv.ml)||this).Pg=n,i}return $(n,t),n.prototype.yl=function(){return new ES(this.Pg.wl)},n}(Iv),ES=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return $(n,t),n}(Av),SS=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this)||this).ll=void 0,a.pg=void 0,a.kg=Dl(),a.eM=!1,a.uM=void 0,a.oM=void 0,a.mg=void 0,a.sM=void 0,a.sC=id.lw,a.cM=Fl.NONE,a.aM=void 0,a.Hu=void 0,a.fM=void 0,a.rM=[],a.hM=[],a.vM=void 0,a.dM=void 0,a.lM=0,a.wM=0,a.pg=i||"",a.uM=c||"",a.oM=n,a.sM=e||"",a.eM=Boolean(u),a.fM=Boolean(s),a.Hu=o||Ml.DEFAULT,a.mg=r||"",a.vM=new yS(a.rM),a.dM=new yS(a.hM),a}$(n,t);var i=n.prototype;return i.yM=function(t){return Re(this.vM.zl,function(n){return n.iw===t})},i.yl=function(){return od(this)},i.bC=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case id.lw:case id.dw:case id.vw:return n}}else if("number"==typeof t)switch(t){case 0:return id.lw;case 1:return id.dw;case 2:return id.vw}return id.lw}(t);n!==this.hw&&(this.sC=n,n===id.lw&&(this.hM.forEach(function(t){t.Xg=!1}),De(this.hM),this.wM=0),this.Js(new Pv(this)))},i.tE=function(t){if(t&&!t.gl){var n=KE(this._w.zl,t);if(!(n>=0)){t.gl=this;var i=-(n+1);this.rM.splice(i,0,t),this.gM(i),t.zg=i,i<this.wM&&(this.wM=i),this.Js(new kS(t))}}},i._M=function(t){if(t&&t.gl===this){var n=this.CF(t);if(!(n<0)){t.Xg=!1;var i=this.hM,r=KE(i,t);r>=0&&Ae(i,r),Ae(this.rM,n),this.gM(n),t.zg=-1,this.wM>n&&--this.wM,this.Js(new TS(t))}}},i.JF=function(t,n){var i=this.hM,r=this.rM,e=this.wM,u=!1;n&&(e=0);for(var o=i.length-1;o>=0;o--){GE(i[o],t)||(u=!0,Ae(i,o))}for(;e<r.length&&r[e].Lg<=t;){var s=r[e];if(0===t)break;GE(s,t)&&!Ce(i,s)&&(u=!0,i.push(s)),e++}u&&Ee(i,YE),this.wM=e},i.CF=function(t){return(-1===t.zg||t.zg>=this.lM)&&this.pM(),t.zg},i.pM=function(){for(var t=this.rM,n=this.lM;n<t.length;n++)t[n].zg=n;this.lM=t.length},i.gM=function(t){t<this.lM&&(this.lM=t)},i.ww=function(t){this.yw||(this.hw=t)},i.sr=function(){this.nc();for(var t=this.rM.slice(),n=0;n<t.length;n++){t[n].sr()}De(this.rM),De(this.hM)},W(n,[{key:"pw",get:function(){return this.dM}},{key:"_w",get:function(){return this.vM}},{key:"iE",get:function(){return this.eM},set:function(t){this.eM=t}},{key:"yw",get:function(){return this.fM}},{key:"wl",get:function(){return this.ll||(this.ll=this.yl()),this.ll}},{key:"iw",get:function(){return this.pg}},{key:"rw",get:function(){return this.kg}},{key:"fw",get:function(){return this.uM},set:function(t){this.uM=t}},{key:"ew",get:function(){return this.oM}},{key:"uw",get:function(){return this.mg},set:function(t){t!==this.mg&&(this.mg=t,this.Js(new Il(this)))}},{key:"ow",get:function(){return this.sM}},{key:"hw",get:function(){return this.sC},set:function(t){this.bC(t)}},{key:"gw",get:function(){return this.cM},set:function(t){this.cM!==t&&(this.cM=t,this.Js(new gS(this,this.cM)))}},{key:"mw",get:function(){return this.aM},set:function(t){this.aM=t}},{key:"ks",get:function(){return this.Hu},set:function(t){this.Hu!==t&&(this.Hu=t,this.Js(new pS(this)))}}]),n}(Ge);function RS(t,n,i){for(var r=t[n].Lg,e=n;e>=0&&t[e].Lg===r;e--)t[e].Fg=i}var IS,AS=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).mM=void 0,e}return $(n,t),n.prototype.$g=function(n){return this===n||Hv(this,n)&&t.prototype.$g.call(this,n)&&(i=n,this.Mg===i.Mg);var i},W(n,[{key:"wl",get:function(){return this.ll||(this.ll=zl(this)),this.ll}}]),n}(Gl),CS=function(t){function n(n,i,r){return void 0===r&&(r=Ml.DEFAULT),t.call(this,Cy.Pm,"",i||"","",!1,r,!1,n)||this}return $(n,t),n}(SS),DS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ks=Ml.ID3,r.mM=void 0,r}$(n,t);var i=n.prototype;return i.tE=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Lg<t.Lg)RS(n,i,t.Lg);else{var r=n[0];if(r.Lg>t.Lg)t.Fg=r.Lg;else{var e=KE(n,t);if(!(e>=0)){var u=-(e+1),o=u-1;if(o>=0&&n[o].Lg<t.Lg&&RS(n,o,t.Lg),u<n.length){var s=n[u];t.Fg=s.Lg}}}}}}(n,this.rM),t.prototype.tE.call(this,n)},i.yl=function(){return od(this)},n}(CS),NS=(ns.Ef,ns.Tf,Fd.Qw,ns.Mf,ns.Sf,ns._f,ns.Df,ns.Cf,ns.wf,ns.Rf,ns.Bf,ns.df,Fd.Dl,ns.Af,rd.aw,Xe.dc,Xe.wc,ns.ff,ns.af,ns.Uf,{kM:!1,bM:50}),OS=function(){function t(t,n,i){this.Da=void 0,this.Is=void 0,this.Ha=void 0,this.ea=void 0,this.Da=t,this.Is=i,this.Ha=n}var n=t.prototype;return n.nE=function(t){throw new v("Not implemented yet.")},n.TM=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Is.Ds(n.bs,i);case 2:return r=t.sent,t.next=5,r.da();case 5:return e=t.sent,t.next=8,this.EM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.SM=function(t){return!1},n.RM=function(t){return C.resolve(void 0)},n.Ms=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.EM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.EM=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.IM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.IM=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.ea)){t.next=5;break}return t.next=4,i.fa(this.Ha);case 4:this.ea=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.aa(this.Ha);case 8:this.ea=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.QT=function(t,n,i){throw new v("Not implemented yet.")},W(t,[{key:"oa",get:function(){return this.Da}},{key:"vg",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"dg",get:function(){return new sm([0,1/0])}},{key:"Py",get:function(){throw new v("Not implemented yet.")}},{key:"AM",get:function(){throw new v("Not implemented yet")}},{key:"xy",get:function(){throw new v("Not implemented yet.")}},{key:"CM",get:function(){throw new v("Not implemented yet")}},{key:"DM",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.NM="webkitneedkey",t.OM="webkitkeymessage",t.xM="webkitkeyerror"}(IS||(IS={}));var xS,PS,LS=function(t){function n(n,i){var r;return(r=t.call(this,IS.NM)||this).initData=n,r.sessionId=i,r}return $(n,t),n}(Ke),FS=function(t){function n(n,i){var r;return(r=t.call(this,IS.OM)||this).message=n,r.destinationURL=i,r}return $(n,t),n}(Ke),MS=function(t){function n(){return t.call(this,IS.xM)||this}return $(n,t),n}(Ke),BS=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).ga=new uo,o.Na=void 0,o.ma=new eu,o.xa=new uo,o.PM=function(t){o.Na?(o.Na.Lc(void 0),o.Na=void 0):o.Sa("internal-error"),o.Js(new nu)},o.LM=function(t){o.Na&&(o.Na.Pc(void 0),o.Na=void 0),o.Js(new tu(on(o),"license-request",ro(t.message).buffer,t.destinationURL||void 0))},o.Ia=n,o.zc=i,o.FM=r,o.Va=e,o.La=u,o}$(n,t);var i=n.prototype;return i.Yc=function(){var t=C.coroutine(jr.mark(function t(n,i,r){var e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Fa){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.MM(no(i),e);case 5:this.Sa("usable"),this.xa.Pc(),this.xa=new uo;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Kc=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=no(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Na=new uo,this.FM.Qc(this.Va,i),t.next=7,this.Na.xc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Gc=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xa;case 2:return this.FM.ic(IS.OM,this.LM),this.FM.ic(IS.xM,this.PM),this.xa.js(),this.ga.Pc(void 0),t.abrupt("return",this.ga.xc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Jc=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.MM=function(){var t=C.coroutine(jr.mark(function t(n,i){var r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Po(n,i,this.La),this.FM.Qs(IS.OM,this.LM),this.FM.Qs(IS.xM,this.PM),this.FM.BM(this.Va,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Sa=function(t){this.ma.Tc(),this.ma.bc(ru,t),this.Js(new Ze(this))},W(n,[{key:"ra",get:function(){return this.Va}},{key:"na",get:function(){return NaN}},{key:"ta",get:function(){return this.ga.xc}},{key:"ia",get:function(){return this.ma}}]),n}(Ge),US=function(){function t(t,n,i){this.UM=void 0,this.Va=void 0,this.La=void 0,this.FM=void 0,this.zc=void 0,this.Da=void 0,this.Ia=void 0,this.FM=t,this.zc=n,this.Da=i;var r=po(i)||"video/mp4";this.Ia=yo(r)}var i=t.prototype;return i.sa=function(){var t=C.coroutine(jr.mark(function t(i){var r;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.La){t.next=2;break}throw new Lo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new BS(this.Ia,this.zc,this.FM,this.Va,this.La),this.UM=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ca=function(t){return this.La=no(t),C.resolve(!0)},i.aa=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.fa=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},W(t,[{key:"ua",get:function(){return this.zc}},{key:"oa",get:function(){return this.Da}},{key:"sessionId",set:function(t){this.Va=t}}]),t}(),VS=function(){function t(t,n,i){this.VM=t,this.zc=n,this.Da=i}var n=t.prototype;return n.la=function(){return this.Da},n.da=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new US(this.VM,this.zc,this.Da));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"ua",get:function(){return this.zc}}]),t}(),qS=function(){function t(t){this.VM=void 0,this.VM=t}return t.prototype.Ds=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=go(HS,Qe,n,e))){t.next=6;break}return t.abrupt("return",new VS(this.VM,n,u));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function HS(t,n){return t===ce}!function(t){t.hD="qM"}(xS||(xS={})),function(t){t.HM="jM"}(PS||(PS={}));var jS,WS,zS;PS.HM;!function(t){t[t.WM=0]="WM",t[t.Wf=1]="Wf",t[t.zM=2]="zM"}(jS||(jS={})),function(t){t.$M="XM"}(WS||(WS={})),function(t){t[t.GM=0]="GM",t[t.YM=1]="YM",t[t.KM=2]="KM"}(zS||(zS={}));var $S;rt.Me&&rt.Be,rt.$e,ns.Ef,ns.Tf,ns.Df,ns.Cf,ns.wf,ns.Rf,Fd.Dl,rd.aw,rt.Ve||rt.qe;!function(t){t.JM="closed",t.ud="open",t.wf="ended"}($S||($S={}));var XS,GS;ns.Bf,ns.Rf,ns.Df,ns.Ef,ns.Tf,Fd.Dl,ns.Ef,ns.Tf,ns.Df,ns.Cf,ns.wf,rd.aw;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(XS||(XS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(GS||(GS={}));var YS=function(t){function n(n){var i;return(i=t.call(this,0,n.Mg)||this).QM=void 0,i.QM=n,i.Fg=i.QM.Lg,i}return $(n,t),W(n,[{key:"iw",get:function(){return this.QM.iw}},{key:"Yg",get:function(){return this.QM.Yg},set:function(t){this.QM.Yg=t}},{key:"Gg",get:function(){return this.QM.Gg},set:function(t){this.QM.Gg=t}}]),n}(AS);function KS(t){return void 0===t.mM&&(t.mM=new YS(t)),t.mM}var JS=function(t){function n(n,i){var r;(r=t.call(this,n.fw,n.uw)||this).ZM=void 0,r.tB=void 0,r.nB=void 0,r.ks=Ml.ID3,r.iB=function(t){r.rB(t.Pg)},r.eB=function(t){var n=t.Pg;if(void 0!==n.mM){var i=n.mM;n.mM=void 0,r._M(i),i.sr()}},r.uB=function(t){var n=KS(t.Pg);n.Xg||r.oB(n),r.sB(n)},r.cB=function(t){var n=t.Pg,i=KS(n);r.tB.Zw<n.Lg&&r.oB(i)},r.aB=function(){var t=r.nB,n=r.hw;if(r.nB=n,n===id.lw)r.hM.forEach(function(t){return t.Xg=!1}),De(r.hM);else if(t===id.lw)for(var i=r.tB.Zw,e=0,u=r.rM;e<u.length;e++){var o=u[e];i<o.Fg&&r.oB(o)}},r.tB=i,r.ZM=n,r.nB=n.hw,n.Qs(Rv._l,r.iB),n.Qs(Rv.ml,r.eB),n.Qs(Rv.bl,r.uB),n.Qs(Rv.El,r.cB),n.Qs(Rv.Al,r.aB);for(var e=0,u=r.ZM._w.zl;e<u.length;e++){var o=u[e];r.rB(o)}return r}$(n,t);var i=n.prototype;return i.oB=function(t){var n=KE(this.hM,t);if(!(n>=0)){var i=-(n+1);this.hM.splice(i,0,t),t.Xg=!0,t.Js(new QE(t,this.tB.Zw)),this.Js(new iS(t)),this.Js(new oS(this))}},i.sB=function(t){var n=KE(this.hM,t);n>=0&&Ae(this.hM,n),t.Xg=!1,t.Js(new tS(t,this.tB.Zw)),this.Js(new eS(t)),this.Js(new oS(this))},i.sr=function(){this.ZM.ic(Rv._l,this.iB),this.ZM.ic(Rv.ml,this.eB),this.ZM.ic(Rv.bl,this.uB),this.ZM.ic(Rv.El,this.cB),this.ZM.ic(Rv.Al,this.aB),t.prototype.sr.call(this)},i.rB=function(t){var n=KS(t);(this.tE(n),this.hw!==id.lw)&&(this.tB.Zw<n.Fg&&this.oB(n))},W(n,[{key:"ew",get:function(){return this.ZM.ew}},{key:"uw",get:function(){return this.ZM.uw},set:function(t){this.ZM.uw=t}},{key:"ow",get:function(){return this.ZM.ow}},{key:"iw",get:function(){return this.ZM.iw}},{key:"rw",get:function(){return this.ZM.rw}},{key:"fw",get:function(){return this.ZM.fw}},{key:"hw",get:function(){return this.ZM.hw},set:function(t){this.ZM.hw=t}},{key:"gw",get:function(){return this.ZM.gw}},{key:"mw",get:function(){return this.ZM.mw}}]),n}(CS),QS=function(t){function n(n){var i;return(i=t.call(this)||this).tB=void 0,i.tB=n,i}$(n,t);var i=n.prototype;return i.ql=function(n){if(n.ks===Ml.ID3){var i=n;return i.mM||(i.mM=new JS(i,this.tB)),t.prototype.ql.call(this,i.mM)}return t.prototype.ql.call(this,n)},i.Hl=function(n){if(n.ks===Ml.ID3){var i=n;return!!i.mM&&t.prototype.Hl.call(this,i.mM)}return t.prototype.Hl.call(this,n)},n}(fd),ZS=function(t){function n(n,i){var r;return(r=t.call(this)||this).fB=new Qr,r.yR=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.gl).ks){t.next=4;break}return t.next=4,i.oc(Rv.Ol);case 4:if(i.ks===Ml.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i._w.$l){t.next=11;break}return t.next=9,i.oc(Rv._l);case 9:t.next=6;break;case 11:r.hB(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.gR=function(t){var n=t.gl;if(n.ks===Ml.ID3&&r.fB.has(n.rw)){var i=r.fB.get(n.rw);r.Hl(i),r.GT.nE(i),n.ic(Rv._l,r.rB)}},r.rB=function(t){tR(t.Pg)&&r.vB(t.Pg)},r.GT=n,r.dB=i,r.lB(),r}$(n,t);var i=n.prototype;return i.lB=function(){this.dB.Qs(bv.fl,this.yR),this.dB.Qs(bv.vl,this.gR)},i.wB=function(){this.dB.ic(bv.fl,this.yR),this.dB.ic(bv.vl,this.gR)},i.hB=function(t){var n=t._w.zl[0];if(tR(n)){var i=function(t){var n=t.match(nR);if(!n)return;return{gl:n[1],ow:n[2]}}(n.Mg.description),r=i.gl,e=i.ow;if(!this.yB(r,e)){var u=this.GT.QT(Cy.Om,t.iw,r,e,!1,Ml.TTML);this.ql(u),this.fB.set(t.rw,u);for(var o=0,s=t._w.zl;o<s.length;o++){var c=s[o];tR(c)&&this.vB(c)}t.Qs(Rv._l,this.rB)}}},i.yB=function(t,n){return!!Re(this.Rk.zl,function(i){return i.uw===t&&i.ow===n})},i.vB=function(t){if(t.gl)for(var n=this.fB.get(t.gl.rw),i=py(t.Mg.text,0,{Mp:0,Bp:1/0,Up:-t.Fg}),r=0;r<i.length;r++){var e=i[r];n.tE(e)}},i.Wl=function(){var n=C.coroutine(jr.mark(function n(){var i,r,e,u,o;return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.dB.zl;i<r.length;i++)r[i].ic(Rv._l,this.rB);for(e=0,u=this.Rk.zl;e<u.length;e++)o=u[e],this.GT.nE(o);return this.fB.clear(),n.next=5,t.prototype.Wl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sr=function(){var n=C.coroutine(jr.mark(function n(){return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.wB(),n.next=3,t.prototype.sr.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Ny);function tR(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Mg)&&nR.test(n.description);var n}var nR=/^Track:(.+),Lang:(.+)$/;var iR,rR;new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).ll=void 0,n}return $(n,t),W(n,[{key:"wl",get:function(){return this.ll||(this.ll=kT(this)),this.ll}},{key:"QP",get:function(){}},{key:"ZP",get:function(){}},{key:"tL",get:function(){}},{key:"nL",get:function(){}},{key:"iL",get:function(){}},{key:"rL",get:function(){}},{key:"eL",get:function(){}}]),n}(Ge));!function(t){t.gB='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t._B='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.pB='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.mB='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(iR||(iR={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(rR||(rR={}));var eR,uR;Xr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),Xr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),rR.WHITE,rR.TRANSPARENT,rR.TRANSPARENT;!function(t){t.kB="Data",t.bB="Tag",t.TB="StartTag",t.EB="StartTagClass",t.SB="StartTagAnnotation",t.RB="CharRefInAnnotation",t.IB="EndTag",t.AB="TimestampTag"}(eR||(eR={})),function(t){t.RF="string",t.CB="starttag",t.DB="endtag",t.NB="timestamp"}(uR||(uR={}));var oR,sR;rR.WHITE,rR.TRANSPARENT;!function(t){t[t.OB=0]="OB",t[t.xB=1]="xB",t[t.PB=2]="PB",t[t.LB=3]="LB",t[t.FB=4]="FB",t[t.MB=5]="MB"}(oR||(oR={})),function(t){t[t.BB=0]="BB",t[t.UB=1]="UB",t[t.VB=2]="VB",t[t.qB=3]="qB"}(sR||(sR={}));var cR,aR;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.VI=0]="VI",t[t.HB=1]="HB",t[t.jB=2]="jB",t[t.WB=3]="WB",t[t.hu=4]="hu"}(cR||(cR={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(aR||(aR={}));var fR;rR.WHITE,iR.pB,rR.BLACK,aR.FONT_REGULAR,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.GREEN,aR.FONT_REGULAR,rR.GREEN,aR.FONT_UNDERLINE,rR.BLUE,aR.FONT_REGULAR,rR.BLUE,aR.FONT_UNDERLINE,rR.CYAN,aR.FONT_REGULAR,rR.CYAN,aR.FONT_UNDERLINE,rR.RED,aR.FONT_REGULAR,rR.RED,aR.FONT_UNDERLINE,rR.YELLOW,aR.FONT_REGULAR,rR.YELLOW,aR.FONT_UNDERLINE,rR.MAGENTA,aR.FONT_REGULAR,rR.MAGENTA,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_ITALICS,rR.WHITE,aR.FONT_UNDERLINE_ITALICS,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE,rR.WHITE,aR.FONT_REGULAR,rR.WHITE,aR.FONT_UNDERLINE;!function(t){t.zB="HELLO",t.$B="HI_THERE",t.XB="INITIALIZE",t.GB="APPEND_INIT",t.YB="APPEND_DATA",t.KB="ACK",t.JB="REMOVE",t.QB="DESTROY_SESSION"}(fR||(fR={}));var hR=uw.P_,vR=new uw(-1/0),dR=uw.gp,lR=new(function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.y_=function(t,n){return t.k_(n)?Kl.v_:t.$g(n)?Kl.f_:Kl.h_},i.yg=function(t,n){return t.yg(n)},i.S_=function(t,n){return t.S_(n)},i.m_=function(t,n){return t.m_(n)},i.fA=function(){return hR},i.hA=function(){return dR},i.wA=function(){return vR},n.xA=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new uw(t.start(r)),new uw(t.end(r)));return new n(i)},n.ZB=function(t){for(var i=[],r=[],e=0;e<t.$l;e++)i.push(new uw(t.ZI(e))),i.push(new uw(t.nA(e))),r.push(t.tA(e)),r.push(t.iA(e));return new n(i,r)},n.LA=function(t){return new n([t,t],[!0,!0])},i.cA=function(t,i){return new n(t,i)},i.oA=function(t){return t.wp},n.FA=function(){return lR},n}(om))([]),wR=(El.qv,El.Hv,function(t){function n(n){var i;return(i=t.call(this,ns.af)||this).errorObject=void 0,i.errorObject=n,i}return $(n,t),W(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ke)),yR=function(t){function n(){return t.call(this,ns.ff)||this}return $(n,t),n}(Ke),gR=function(t){function n(n){var i;return(i=t.call(this,"Vf")||this).tU=n,i}return $(n,t),n}(Ke),_R=new qT,pR=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).ta=void 0,u.Pi=!1,u.nU=!1,u.Wd=new Oe,u.Wc=function(t){switch(t.fc){case"license-request":u.ME(t.ac,t.hc).catch(function(t){return u.Ta(t)});break;default:u.Ta(new ml(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.fc))}},u.iU=function(t){u.rU.ia.kc(function(t,n){switch(t){case"usable":N.Lo(function(){u.nU=!0,u.Js(new yR)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Js(new gR(n))}})},u.eU=function(t){u.Ta(new ml(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.rU=i,u.uU=r,u.oU=e,i.Qs("ac",u.Wc),i.Qs("cc",u.iU),i.Qs("vc",u.eU),u.ta=i.ta.then(function(){return u.sU()}),u}$(i,t);var r=i.prototype;return r.Yc=function(){var t=this;return this.Pi=!0,_R.YL(function(n){return t.cU(n)},this.Wd.$s)},r.cU=function(){var t=C.coroutine(jr.mark(function t(i){var r,e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Le(i),t.next=4,this.uU.DE(i);case 4:return t.next=6,this.uU.NE(this.oU.Ts,this.oU.gc,i);case 6:return r=t.sent,t.next=9,this.rU.Yc(this.oU.Ts,this.oU.gc,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),Fe(t.t0),e=t.t0 instanceof fo?t.t0.Mc:void 0,u=new ml(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.Ta(u),u;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.ME=function(){var t=C.coroutine(jr.mark(function t(i,r){var e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!so(i)){t.next=7;break}return t.next=4,this.uU.zE(new p(i),this.Wd.$s);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.uU.$E(new p(i),r,this.Wd.$s);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Pe(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.rU.Qc(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),u=t.t1 instanceof fo?t.t1.Mc:void 0,new ml(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Ta=function(t){var i=t instanceof ml?t:new ml(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Js(new wR(i)),this.Gc()},r.sU=function(){this.rU.ic("ac",this.Wc),this.rU.ic("cc",this.iU),this.rU.ic("vc",this.eU),this.nU=!1,this.Wd.js()},r.Gc=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),this.sU(),t.next=4,this.rU.Gc().catch(L);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Ge),mR=[ns.ff,ns.af,ns.Uf],kR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).zc=void 0,e.ea=void 0,e.aU=void 0,e.fU=[],e.hU=void 0,e.vU=[],e.zc=n,e.ea=i,e.aU=r,e}$(n,t);var i=n.prototype;return i.WE=function(){return this.aU.WE()},i.dU=function(t){return this.hU||(this.hU=this.lU(t)),this.hU},i.lU=function(){var t=C.coroutine(jr.mark(function t(n){var i;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Le(n),t.next=3,this.aU.zE(new p(oo()),n);case 3:return i=t.sent,Le(n),t.next=7,this.ea.ca(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.BM=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e=this;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.vU.push(n),t.next=4,this.ea.sa("temporary");case 4:return i=t.sent,r=new pR(i,this.aU,n),this.fU.push(r),r.Qs(mR,this.Ks),r.ta.then(function(){return e.wU(r)}),t.abrupt("return",r);case 10:return t.prev=10,Ie(this.vU,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.yU=function(t){if(t.gU)return!1;for(var n=0,i=this.fU;n<i.length;n++){if(bR(i[n].oU,t))return!0}for(var r=0,e=this.vU;r<e.length;r++){if(bR(e[r],t))return!0}return!1},i.wU=function(t){t.ic(mR,this.Ks),Ie(this.fU,t)},i.sr=function(){var t=C.coroutine(jr.mark(function t(){var n;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),n=this.fU.slice(),De(this.fU),t.next=5,C.all(n.map(function(t){return t.Gc()}));case 5:this.aU.Ms();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"ua",get:function(){return this.zc}}]),n}(Ge);function bR(t,n){return!t.gU&&t.Ts===n.Ts&&wu(t.gc,n.gc)}var TR=function(t){function i(n){var i;return(i=t.call(this)||this).ER=void 0,i.Wd=new Oe,i.oF=new qT,i.Da=void 0,i.aU=void 0,i.SR=void 0,i.zc=void 0,i._U=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.pU(n.Ts,n.gc,i.Wd.$s);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Pe(t.t0)||i.Ta(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.ER=n,i.ER.Qs(Xe.dc,i._U),i}$(i,t);var r=i.prototype;return r.Kc=function(t,n){this.SR=t,this.RM(n)},r.RM=function(t){this.Da=t,this.mU(this.Wd.$s).catch(Me)},r.mU=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!N.Ko.yo){t.next=5;break}return t.next=3,this.kU(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.Da||!this.Da.bU){t.next=9;break}return t.next=8,this.TU(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.kU=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.Da)?void 0:i.nI){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,u=null!=(o=null==(s=this.Da)?void 0:s.nI)?o:[];case 5:if(!(e<u.length)){t.next=27;break}c=u[e],a=0,f=null!=(h=c.dR)?h:[];case 8:if(!(a<f.length)){t.next=22;break}return v=f[a],t.prev=10,t.next=13,this.pU(c.ua.Ts,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),Fe(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.pU=function(){var t=C.coroutine(jr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v,d,l;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Le(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Da&&this.Da.nI.length){t.next=5;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===te||i===ie||i===ne){t.next=8;break}return t.abrupt("return");case 8:u=e_(i,r),o=this.Da.nI,c=0;case 11:if(!(c<o.length)){t.next=42;break}if(a=o[c],Le(e),(f=u[a.ua.Es])&&a.ua.Ts===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.EU(a,e);case 20:if(!(h=t.sent).WE()){t.next=24;break}return t.next=24,h.dU();case 24:if(v=this.ER.rg,d={Ts:a.ua.Ts,gc:f,gU:v},!this.SU(h,d)){t.next=32;break}return t.next=29,h.BM(d);case 29:return l=t.sent,t.next=32,l.Yc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Fe(t.t0),s=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,N.Uo();case 44:if(!t.sent){t.next=48;break}throw new ml(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new ml(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.TU=function(){var t=C.coroutine(jr.mark(function t(n){var i,r,e,u,o;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.Da)?void 0:i.nI){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return u=r[e],Le(n),t.prev=7,t.next=10,this.EU(u,n);case 10:if(!(o=t.sent).WE()){t.next=14;break}return t.next=14,o.dU();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Fe(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.SU=function(t,n){return N.Ko.wo||!t.yU(n)},r.EU=function(t,n){var i=this;return this.oF.YL(function(n){return i.RU(t,n)},n)},r.RU=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u,o,s;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Le(i),this.Da&&this.aU&&this.SR){t.next=3;break}throw new v("Not initialized");case 3:if(!this.zc){t.next=7;break}if(this.zc.ua===n.ua){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.zc);case 7:return r=this.aU,e=Wr({},n,{lI:n.lI.map(function(t){var i;return Wr({},t,{persistentState:null!=(i=t.persistentState)?i:r.vS(n.ua),wa:t.wa||r.wa(n.ua)})})}),t.next=11,this.SR.TM(e.ua,e.lI);case 11:return u=t.sent,o=r.vR(e),(s=new kR(e.ua,u,o)).Qs([ns.ff,ns.af,ns.Uf],this.Ks),this.zc=s,t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Ta=function(t){var i=t instanceof ml?t:new ml(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Js(new wR(i))},r.Wl=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SR=void 0,this.Da=void 0,this.Wd.js(),this.Wd=new Oe,t.next=6,this.IU();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.IU=function(){var t=C.coroutine(jr.mark(function t(){var n;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.oF.js();case 2:if(!(n=this.zc)){t.next=8;break}return n.ic(ns.Uf,this.Ks),this.zc=void 0,t.next=8,n.sr();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ms=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),this.ER.ic(Xe.dc,this._U),t.next=4,this.Wl();case 4:return t.next=6,this.oF.sr();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(i,[{key:"AU",get:function(){var t;return null==(t=this.zc)?void 0:t.ua}},{key:"QR",get:function(){return this.aU},set:function(t){this.aU=t}}]),i}(Ge);rt.Ve||rt.qe,rt.uu,rt.$e;var ER=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.SU=function(t,n){return!0},n}(TR),SR=function(t){function n(n,i,r){var e;return void 0===r&&(r=new qS(i)),(e=t.call(this)||this).SR=void 0,e.Is=void 0,e.CU=void 0,e.DU=new qT,e.NU=void 0,e.VM=void 0,e.OU=!1,e.Va=void 0,e.Pa=null,e.xU={eg:0,ug:0,og:0,sg:0,cg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.PU=function(t){"boolean"==typeof t.detail.casting&&(e.OU=t.detail.casting,e.Js(new Hl(e.OU)))},e.LU=function(t){e.Va=t.sessionId,e.Pa&&(e.Pa.sessionId=e.Va);var n=t.initData;if(n){var i=function(t){try{var n=Qu(t),i=new eo;return zu($u(Du(n,i,Pu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;e.Js(new iu(ie,i))}else e.Js(new iu(ie,new ArrayBuffer(0)))},e.NU=n,e.VM=i,e.VM.Qs(IS.NM,e.LU),e.Is=r,e.CU=new ER(on(e)),e.FU(),e}$(n,t);var i=n.prototype;return i.MU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.ks===Yy.rE)return i}},i.Ms=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wl();case 2:return this.nc(),this.BU(),this.VM.ic(IS.NM,this.LU),t.next=7,this.CU.Ms();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zy=function(){throw new v("Not implemented yet")},i.QT=function(t,n,i,r,e,u,o,s){throw new v("Not implemented yet")},i.oI=function(){return!1},i.cI=function(t,n,i,r){throw new v("Not implemented yet")},i.nE=function(t){throw new v("Not implemented yet")},i.hI=function(){throw new v("Not implemented yet")},i.Kc=function(){var t=C.coroutine(jr.mark(function t(n){var i=this;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.DU.YL(function(){var t=C.coroutine(jr.mark(function t(r){var e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ks!==Yy.rE){t.next=8;break}return Le(r),e=new OS(n,i,i.Is),i.SR=e,i.CU.Kc(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nr=function(){throw new v("Not implemented yet")},i.tr=function(){throw new v("Not implemented yet")},i.Wl=function(){var t=this;return this.DU.js(),this.DU.YL(C.coroutine(jr.mark(function n(){return jr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.SR){n.next=4;break}return n.next=3,t.SR.Ms();case 3:t.SR=void 0;case 4:return n.next=6,t.CU.Wl();case 6:case"end":return n.stop()}},n)})))},i.Ic=function(t,n){throw new v("Not implemented yet")},i.gI=function(t){throw new v("Not implemented yet")},i.Wy=function(){throw new v("Not implemented yet")},i._I=function(){return this.xU},i.FU=function(){this.NU.addEventListener("airPlayIsCasting",this.PU)},i.BU=function(){this.NU.removeEventListener("airPlayIsCasting",this.PU)},i.webkitSetMediaKeys=function(t){this.Pa=t||null,this.Pa&&(this.Pa.sessionId=this.Va)},i.UU=function(){},i.VU=function(){throw new v("Not implemented yet")},i.qU=function(){throw new v("Not implemented yet")},W(n,[{key:"ng",get:function(){throw new v("Not implemented yet")}},{key:"tg",get:function(){throw new v("Not implemented yet")}},{key:"Zw",get:function(){throw new v("Not implemented yet")}},{key:"DL",get:function(){throw new v("Not implemented yet")}},{key:"ty",get:function(){throw new v("Not implemented yet")}},{key:"ny",get:function(){throw new v("Not implemented yet")}},{key:"vc",get:function(){throw new v("Not implemented yet")}},{key:"Hk",get:function(){throw new v("Not implemented yet")}},{key:"rg",get:function(){return this.OU}},{key:"ey",get:function(){throw new v("Not implemented yet")}},{key:"uy",get:function(){throw new v("Not implemented yet")}},{key:"oy",get:function(){throw new v("Not implemented yet")}},{key:"hg",get:function(){throw new v("Not implemented yet")}},{key:"gw",get:function(){throw new v("Not implemented yet")}},{key:"dg",get:function(){throw new v("Not implemented yet")}},{key:"sy",get:function(){throw new v("Not implemented yet")}},{key:"HU",get:function(){throw new v("Not implemented yet")}},{key:"vy",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Eo",get:function(){throw new v("Not implemented yet")}},{key:"fI",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Pa}},{key:"jU",get:function(){return NS}},{key:"Py",get:function(){throw new v("Not implemented yet")}},{key:"OL",get:function(){throw new v("Not implemented yet")}},{key:"pI",get:function(){throw new v("Not implemented yet")}},{key:"WU",get:function(){return!0}},{key:"QR",get:function(){return this.CU.QR},set:function(t){this.CU.QR=t}},{key:"AU",get:function(){return this.CU.AU}}]),n}(hd),RR=function(t){function n(n){var i;return(i=t.call(this,ns.qf)||this).xU=n,i}return $(n,t),n}(Ke);var IR=function(t){function n(n){return t.call(this,Ul.Pl,n)||this}return $(n,t),n.prototype.yl=function(){return new AR(this.Pg.wl)},n}(jl),AR=function(t){function n(n){return t.call(this,Vl.Pl,n)||this}return $(n,t),n}(Wl),CR=function(t){function n(n,i){var r,e=DR(i,n.ty,n.pI,n.zU);return(r=t.call(this,i,e,void 0,!1,n.iw)||this).$U=void 0,r.XU=void 0,r.GU=void 0,r.YU=void 0,r.KU=void 0,r.JU=void 0,r.QU=void 0,r.ZU=void 0,r.tV=void 0,r.nV=void 0,r.$U=n.iV,r.XU=n.pI,r.GU=n.zU,r.YU=n.ty,r.KU=n.rV,r.JU=Boolean(n.eV),r.QU=n.uV||{},r.ZU=n.oV,r.tV=n.sV,r.nV=n.cV,r.aV(),r.fV(),r}$(n,t);var i=n.prototype;return i.Qc=function(t){var n=!1;void 0===this.$U&&void 0!==t.iV&&(n=!0,this.$U=t.iV),void 0===this.GU&&void 0!==t.zU&&(n=!0,this.GU=t.zU),void 0===this.YU&&void 0!==t.ty&&(n=!0,this.YU=t.ty),void 0===this.KU&&void 0!==t.rV&&(n=!0,this.KU=t.rV),!this.JU&&t.eV&&(n=!0,this.JU=t.eV),n=this.updateCustomAttributes(t,n),void 0===this.ZU&&void 0!==t.oV&&(n=!0,this.ZU=t.oV),void 0===this.tV&&void 0!==t.sV&&(n=!0,this.tV=t.sV),void 0===this.nV&&void 0!==t.cV&&(n=!0,this.nV=t.cV),this.aV(),this.fV(),this.hV(),n&&this.Js(new IR(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.uV)for(var r=0,e=l.keys(t.uV);r<e.length;r++){var u=e[r];void 0===this.QU[u]&&(i=!0,this.QU[u]=t.uV[u])}return i},i.aV=function(){this.YU&&!this.GU&&(this.GU=new Date(this.XU.getTime()+1e3*this.YU))},i.fV=function(){this.GU&&!this.YU&&(this.YU=rn(this.GU.getTime()-this.XU.getTime()))},i.hV=function(){this.Ug===1/0&&(this.GU||this.YU)&&(this.Ug=DR(this.Bg,this.YU,this.XU,this.GU))},W(n,[{key:"wl",get:function(){var t;return this.ll||(this.ll=Uv(zl(t=this),{get content(){return t.Mg},get class(){return t.iV},get startDate(){return t.pI},get endDate(){return t.zU},get duration(){return t.ty},get plannedDuration(){return t.rV},get endOnNext(){return t.eV},get scte35Cmd(){return t.oV},get scte35Out(){return t.sV},get scte35In(){return t.cV},get customAttributes(){return t.uV}})),this.ll}},{key:"iV",get:function(){return this.$U}},{key:"pI",get:function(){return this.XU}},{key:"zU",get:function(){return this.GU}},{key:"ty",get:function(){return this.YU}},{key:"rV",get:function(){return this.KU}},{key:"eV",get:function(){return this.JU}},{key:"oV",get:function(){return this.ZU}},{key:"sV",get:function(){return this.tV}},{key:"cV",get:function(){return this.nV}},{key:"uV",get:function(){return this.QU}}]),n}(Gl);function DR(t,n,i,r){return ot(n)?t+n:r?t+(rn(r.getTime())-rn(i.getTime())):1/0}var NR,OR=function(t){function n(){return t.call(this,void 0,void 0,Ml.DATE_RANGE)||this}$(n,t);var i=n.prototype;return i.Qc=function(t,n){for(var i=this,r=function(t){for(var n=$r(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.iw)){var u=n.get(e.iw),o=Wr({},u,jv(e),{uV:Wr({},u.uV,e.uV)});n.set(e.iw,o)}else n.set(e.iw,e),i.push(e.iw)}return i.map(function(t){return n.get(t)})}(t),e=this._w.zl,u=function(t){var n=e[t],u=Re(r,function(t){return t.iw===n.iw});u?n.Qc(u):i._M(n)},o=e.length-1;o>=0;o--)u(o);for(var s=0;s<r.length;s++){var c=r[s],a=c.pI;if(void 0!==a&&!this.yM(c.iw)){var f=n(a);this.tE(new CR(c,f))}}},i.tE=function(n){this.vV(n),t.prototype.tE.call(this,n)},i.vV=function(t){var n=this.rM.filter(function(n){return n.iV===t.iV}).pop();n&&n.eV&&n.Qc({iw:n.iw,zU:t.pI})},n}(CS);function xR(t){switch(t.type){case NR.RF:return t.value;case NR.SF:return zv(t.value);case NR.EF:return fu(t.value);default:return}}function PR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.RF="daterange-ca-type_string",t.SF="daterange-ca-type_number",t.EF="daterange-ca-type_arraybuffer"}(NR||(NR={}));var LR,FR,MR,BR=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,e,i,r)||this).HS=void 0,o.dV=void 0,o.HS=n,o.dV=u,o}return $(n,t),W(n,[{key:"name",get:function(){return this.HS}},{key:"timestamp",get:function(){return this.dV}}]),n}(Lo),UR=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r,e,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=o,a.errorComment=s,a}return $(n,t),n}(BR),VR=function(){function t(t,n){this.Ay=void 0,this.lV=void 0,this.Ay=new Dy,this.lV=new aS(t,n)}var n=t.prototype;return n.QT=function(t,n,i,r,e,u,o){var s=new SS(t,n,i,r,e,u,o);return this.Ay.ql(s),this.lV.ql(s),s},n.nE=function(t){this.Ay.Hl(t),this.lV.Hl(t),t.sr()},n.Wl=function(){for(var t=0,n=this.Ay.zl.slice();t<n.length;t++){n[t].sr()}this.Ay.Wl(),this.lV.Wl()},n.sr=function(){this.Wl(),this.Ay.sr(),this.lV.sr()},W(t,[{key:"Py",get:function(){return this.Ay}}]),t}(),qR=function(t){function n(n,i,r,e,u){var o;(o=t.call(this)||this).qA=0,o.wV=!1,o.RR=void 0,o.IR=void 0,o.yV=void 0,o.jA=!0,o.WA=1,o.Ry=void 0,o.Iy=void 0,o.gV=void 0,o._V=void 0,o.pV=void 0,o.Ay=void 0,o.GT=void 0,o.YU=void 0,o.mV=sm.FA(),o.kV=sm.FA(),o.HA=!1,o.bV=sm.FA(),o.zA=void 0,o.TV=void 0,o.EV=void 0,o.cM=kd.Hw,o.uE=kd.Hw,o.NU=void 0,o.lV=void 0,o.DR=void 0,o.QF=void 0,o.SV=void 0,o.KA=void 0,o.ER=void 0,o.NR=void 0,o.VM=void 0,o.xU={eg:0,ug:0,og:0,sg:0,cg:0,ag:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.SR=void 0,o.RV=void 0,o.xR=new Hp,o.setCurrentTime=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.dg.length){t.next=4;break}return o.qA=n,t.next=4,o.NU.oc("seekablechange");case 4:o.qA=o.updateCurrentTime(n),o.QF.nM("THEOplayerSetCurrentTime",o.qA),o.zA=!0,o.Js(new Yd(o.qA));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.IV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.mV=new sm(i),o.Js(new lS(o.Zw))}},o.AV=function(t){o.cM=t.detail.readyState,o.Js(new Qd(+t.detail.currentTime,o.gw)),o.CV()},o.DV=function(t){o.cM=t.detail.readyState,o.Js(new Zd(+t.detail.currentTime,o.gw)),o.CV()},o.NV=function(t){if(t.detail){var n=+t.detail.duration;o.YU=n,o.Js(new Wd(o.ty))}},o.OV=function(t){t.detail&&(o.wV=!0,o.Js(new Xd(+t.detail.currentTime)))},o.PR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);PR(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.IR=new UR(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),o.RR=Tl(o.IR),o.Js(new nl(o.IR))):PR(i)&&(o.IR=new BR(i.name,i.message,void 0,i.code,i.timestamp),o.RR=Tl(o.IR),o.Js(new nl(o.IR)))}},o.xV=function(t){o.Js(new dS)},o.PV=function(t){o.cM=t.detail.readyState,o.Js(new Gd(+t.detail.currentTime,o.gw)),o.CV()},o.LV=function(){var t=C.coroutine(jr.mark(function t(n){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.dg.length){t.next=3;break}return t.next=3,o.NU.oc("seekablechange");case 3:o.cM=n.detail.readyState,o.Js(new jd(+n.detail.currentTime,o.gw)),o.CV();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.FV=function(t){t.detail&&o.jA&&(o.jA=!1,o.Js(new Ud(+t.detail.currentTime)))},o.MV=function(t){t.detail&&(o.jA||(o.jA=!0,o.Js(new Bd(+t.detail.currentTime))))},o.BV=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.bV=new sm(i)}},o.UV=function(t){t.detail&&o.Js(new cg(+t.detail.currentTime))},o.VV=function(t){t.detail&&(o.WA=t.detail.playbackRate,o.Js(new zd(+t.detail.currentTime,o.WA)))},o.qV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.kV=new sm(i)}},o.HV=function(t){t.detail&&(o.qA=+t.detail.currentTime,o.zA=!1,o.Js(new $d(o.qA,o.yV)),o.Js(new Kd(o.qA)))},o.jV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.YU&&(o.wV=!1),o.zA=!0,o.Js(new Yd(n))}},o.WV=function(t){t.detail&&(t.detail.currentDate&&(o.yV=new Date(1e3*t.detail.currentDate)),o.qA=+t.detail.currentTime,o.Js(new $d(o.qA,o.yV)))},o.zV=function(t){o.TV=t.detail.height,o.EV=t.detail.width},o.$V=function(t){t.detail&&o.Js(new sg(+t.detail.currentTime))},o.XV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Oy.ql(new Pl(n))},o.GV=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<o.Ry.$l;u++){var s=o.Oy.Vl(u);s.ow==r&&s.uw==e?i=o.Ry.Vl(u):1==s.nw&&(n=o.Ry.Vl(u))}i&&n&&(i.nw=!0,n.nw=!1)},o.YV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.xy.ql(new ql(n))},o.KV=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Cy.Pm&&r===Ml.ID3?(n=new DS("",t.detail.label)).hw=id.dw:i===Cy.Pm&&r===Ml.DATE_RANGE?(n=new OR,o.RV=n):n=new SS(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),o.gV.ql(n),o.lV.ql(n)},o.JV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var s=new AS(zv(r.startTime),u,r.uid),c=o.QV();c&&c.tE(s)}},o.ZV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new Yl(zv(e.startTime),zv(e.endTime),e.content,!1),s=null!=(r=o.tq(Cy.Om))?r:o.tq(Cy.HT);s&&(s.ks=Ml.WEBVTT,s.tE(u))}},o.nq=function(t){t.type===ns.af&&(o.RR=Tl(t.errorObject)),o.Ks(t)},o.iq=function(t){t.detail&&(o.xU.ug=t.detail.corruptedVideoFrames,o.xU.eg=t.detail.droppedVideoFrames,o.Js(new RR(o.my)))},o.rq=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={iw:t.id};if(void 0!==t.startDate&&(n.pI=new Date(t.startDate)),void 0!==t.endDate&&(n.zU=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=xR(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.uV=r}void 0!==t.scte35Cmd&&(n.oV=fu(t.scte35Cmd)),void 0!==t.scte35In&&(n.cV=fu(t.scte35In)),void 0!==t.scte35Out&&(n.sV=fu(t.scte35Out)),void 0!==t.startTime&&(n.Lg=t.startTime),n.iV=t.class,n.ty=zv(t.duration),n.rV=zv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Lg?t.Lg:(new Date).getTime(),r=new CR(t,i);o.RV.tE(r),o.RV.Qc(n,i)})};var s=e.uid;o.QF=o.getSdkBridge(s),o.NU=new XE,ME()[s].sdkEventBus=o.NU,o.Ry=new Sl,o.Iy=new Sl;var c=o.uq(r);return o.GT=new VR(on(o),new fS),o.lV=new vS(on(o)),o.DR=new jy(o.GT,c),o.gV=new Dy,o._V=new QS(on(o)),o._V.Ql=o.gV,o.pV=new ZS(o.GT,o._V),o.Ay=new zp([o.gV,o.DR.Rk,o.pV.Rk]),o.VM=o.getFairPlayControllerBridge(o.QF),o.ER=new SR(o.NU,o.VM),o.NR=new jp(c),o.ER.QR=o.NR,o.observeMediaElement(),o.tI(),o.KA=new wS(o.QF,u),o.KA.Qs("hx",function(){o.QF.nM("THEOplayerSetPreferredForwardBufferDuration",o.KA.ax)}),o}$(n,t);var i=n.prototype;return i.Xy=function(){return fm},i.Wy=function(){this.QF.nM("THEOplayerShow",{})},i.zy=function(){this.QF.nM("THEOplayerHide",{})},i.oq=function(){var t=this;this.QF.nM("THEOplayerSetInitialPreferredPeakBitRate",this.KA.Ex);this.Qs("playing",function n(){t.QF.nM("THEOplayerSetInitialPreferredPeakBitRate",0),t.ic("playing",n)})},i.By=function(){var t=C.coroutine(jr.mark(function t(n,i){var r,e,u;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.SV=n,r=Wr({},i,{sources:{src:n.src,type:_d.Lw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.QF.nM("THEOplayerSourceChange",r),e={ks:Yy.rE,mw:n.src,cv:n.type,nI:this.iI(n),rI:n.crossOrigin,eI:i.metadata&&i.metadata.title},this.NR.hR(n.contentProtection),t.next=7,this.ER.Kc(e);case 7:this.SR=t.sent,i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Ml.WEBVTT})).length>0&&this.uI(u),Gy(this.Py),this.oq();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.iI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ua:he,lI:[{initDataTypes:[he.Ts],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.tr=function(){this.jA=!1,this.Js(new Ud(this.Zw)),this.QF.nM("THEOplayerPlay",{})},i.nr=function(){this.jA=!0,this.Js(new Bd(this.Zw)),this.QF.nM("THEOplayerPause",{})},i.$y=function(){},i.Wl=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qA=0,this.wV=!1,this.RR=void 0,this.IR=void 0,this.jA=!0,this.WA=1,this.YU=void 0,this.kV=sm.FA(),this.mV=sm.FA(),this.TV=void 0,this.EV=void 0,this.cM=kd.Hw,this.uE=kd.Hw,this.Ry.Wl(),this.Iy.Wl(),this.gV.Wl(),this.Ay.Wl(),t.next=19,this.pV.Wl();case 19:return this._V.Wl(),t.next=22,this.DR.Wl();case 22:return this.GT.Wl(),this.lV.Wl(),this.SV=void 0,t.next=27,this.ER.Wl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vy=function(){this.QF.nM("THEOplayerShowAirPlayPicker",{})},i.qy=function(){this.QF.nM("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.my.ug=t.ug,this.my.eg=t.eg},i.sr=function(){var t=C.coroutine(jr.mark(function t(){return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Wl();case 2:return this.nc(),this.unobserveMediaElement(),this.dI(),this.ER.QR=void 0,t.next=8,this.ER.Ms();case 8:return this.Ry.sr(),this.Iy.sr(),this.gV.sr(),this.Ay.sr(),this._V.sr(),t.next=15,this.pV.sr();case 15:return t.next=17,this.DR.sr();case 17:this.GT.sr(),this.lV.sr();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.uI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.DR.JT(i)}},i.CV=function(){var t=this.uE,n=this.cM;t!==n&&(this.uE=n,this.Js(new tl(this.Zw,n)))},i.observeMediaElement=function(){this.ER.Qs(ns.ef,this.Ks),this.ER.Qs([ns.ff,ns.af],this.nq),this.NU.addEventListener("play",this.FV),this.NU.addEventListener("pause",this.MV),this.NU.addEventListener("seeking",this.jV),this.NU.addEventListener("seeked",this.HV),this.NU.addEventListener("ratechange",this.VV),this.NU.addEventListener("durationchange",this.NV),this.NU.addEventListener("timeupdate",this.WV),this.NU.addEventListener("waiting",this.$V),this.NU.addEventListener("playing",this.UV),this.NU.addEventListener("ended",this.OV),this.NU.addEventListener("loadedmetadata",this.LV),this.NU.addEventListener("loadeddata",this.PV),this.NU.addEventListener("loadstart",this.xV),this.NU.addEventListener("canplay",this.AV),this.NU.addEventListener("canplaythrough",this.DV),this.NU.addEventListener("error",this.PR),this.NU.addEventListener("seekablechange",this.qV),this.NU.addEventListener("videosizechange",this.zV),this.NU.addEventListener("bufferedchange",this.IV),this.NU.addEventListener("playedchange",this.BV),this.NU.addEventListener("metricschange",this.iq),this.NU.addEventListener("addDateRangeCues",this.rq)},i.unobserveMediaElement=function(){this.ER.ic(ns.ef,this.Ks),this.ER.ic([ns.ff,ns.af],this.nq),this.NU.removeEventListener("play",this.FV),this.NU.removeEventListener("pause",this.MV),this.NU.removeEventListener("seeking",this.jV),this.NU.removeEventListener("seeked",this.HV),this.NU.removeEventListener("ratechange",this.VV),this.NU.removeEventListener("durationchange",this.NV),this.NU.removeEventListener("timeupdate",this.WV),this.NU.removeEventListener("waiting",this.$V),this.NU.removeEventListener("playing",this.UV),this.NU.removeEventListener("ended",this.OV),this.NU.removeEventListener("loadedmetadata",this.LV),this.NU.removeEventListener("loadeddata",this.PV),this.NU.removeEventListener("loadstart",this.xV),this.NU.removeEventListener("canplay",this.AV),this.NU.removeEventListener("canplaythrough",this.DV),this.NU.removeEventListener("error",this.PR),this.NU.removeEventListener("seekablechange",this.qV),this.NU.removeEventListener("videosizechange",this.zV),this.NU.removeEventListener("bufferedchange",this.IV),this.NU.removeEventListener("playedchange",this.BV),this.NU.removeEventListener("metricschange",this.iq),this.NU.removeEventListener("addDateRangeCues",this.rq)},i.updateCurrentTime=function(t){var n=this.dg.start(0),i=this.dg.end(0);return w.min(w.max(t,n),i)},i.QV=function(){for(var t=0,n=this.Ay.zl;t<n.length;t++){var i=n[t];if(i.ew===Cy.Pm&&i.ks===Ml.ID3)return i}},i.tq=function(t){for(var n=0,i=this.Ay.zl;n<i.length;n++){var r=i[n],e=r.hw===id.vw,u=r.ew===t;if(e&&u)return r}},i.tI=function(){this.NU.addEventListener("addaudiotrack",this.XV),this.NU.addEventListener("enableaudiotrack",this.GV),this.NU.addEventListener("addvideotrack",this.YV),this.NU.addEventListener("addtexttrack",this.KV),this.NU.addEventListener("addtexttrackid3cues",this.JV),this.NU.addEventListener("addtexttrackcues",this.ZV)},i.dI=function(){this.NU.removeEventListener("addaudiotrack",this.XV),this.NU.removeEventListener("enableaudiotrack",this.GV),this.NU.removeEventListener("addvideotrack",this.YV),this.NU.removeEventListener("addtexttrack",this.KV),this.NU.removeEventListener("addtexttrackid3cues",this.JV),this.NU.removeEventListener("addtexttrackcues",this.sq)},i.Zy=function(){},W(n,[{key:"Oy",get:function(){return this.Ry}},{key:"tg",get:function(){return this.mV.yI()}},{key:"ng",get:function(){return this.yV?this.yV:null},set:function(t){this.QF.nM("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.yV=t}},{key:"Zw",get:function(){return this.qA},set:function(t){this.setCurrentTime(t)}},{key:"ty",get:function(){return this.YU}},{key:"ny",get:function(){return this.wV}},{key:"vc",get:function(){return this.RR}},{key:"iy",get:function(){return this.IR}},{key:"Ly",get:function(){}},{key:"rg",get:function(){return this.ER.rg}},{key:"my",get:function(){return this.xU}},{key:"ey",get:function(){return this.HA},set:function(t){this.HA!==t&&(this.QF.nM("THEOplayerSetMuted",t),this.HA=t,this.Js(new Jd(this.Zw,t?0:1)))}},{key:"uy",get:function(){return this.jA}},{key:"oy",get:function(){return this.WA},set:function(t){this.QF.nM("THEOplayerSetPlaybackRate",t),this.WA=t}},{key:"hg",get:function(){return this.bV.yI()}},{key:"vg",get:function(){return Zp.VI},set:function(t){}},{key:"gw",get:function(){return this.cM}},{key:"dg",get:function(){return this.kV.yI()}},{key:"sy",get:function(){return this.zA}},{key:"pI",get:function(){}},{key:"Py",get:function(){return this.Ay}},{key:"ay",get:function(){return this.TV}},{key:"hy",get:function(){return this.EV}},{key:"vy",get:function(){return 1},set:function(t){}},{key:"xy",get:function(){return this.Iy}},{key:"mI",get:function(){return this.xR}},{key:"lg",get:function(){return!1},set:function(t){}},{key:"fg",get:function(){return!0}}]),n}(hd),HR=function(){function t(){this.kI=Fp.eR}var n=t.prototype;return n.bI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((r=n.type)&&we(r.toLowerCase(),_d.Pw))return!1;var r,e=n.contentProtection;if(e&&!$g(e)){if(!Yg(e))return!1;if(!t.cq(e))return!1}return!0},t.cq=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.TI=function(){return!1},t}(),jR=function(){function n(t){this.playerID=t}return n.prototype.nM=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var r={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(r)}},n}(),WR=function(t){function n(n){var i;return(i=t.call(this)||this).QF=void 0,i.NU=void 0,i.aq=function(t){var n=fu(t.detail.initData),r=t.detail.sessionId;i.Js(new LS(n,r))},i.fq=function(t){var n=new p(gu(t.detail.message)),r=t.detail.destinationURL;i.Js(new FS(n,r))},i.hq=function(t){i.Js(new MS)},i.QF=n,i.NU=new XE,ME().fairplayController={sdkEventBus:i.NU},i.vq(),i}$(n,t);var i=n.prototype;return i.vq=function(){this.NU.addEventListener(IS.NM,this.aq),this.NU.addEventListener(IS.OM,this.fq),this.NU.addEventListener(IS.xM,this.hq)},i.BM=function(t,n){var i={playerId:UE(),data:_u(n.buffer),sessionId:t};this.QF.nM("THEOplayerCreateKeySession",i)},i.Qc=function(t,n){var i={playerId:UE(),data:_u(n.buffer),sessionId:t};this.QF.nM("THEOplayerUpdateKey",i)},n}(hd),zR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Sv=function(n){if(to(n.av)){var i=no(n.av);n.av=Wu(i)}return t.prototype.Sv.call(this,n)},n}(function(){function t(t){this.YT=void 0,this.YT=t}var n=t.prototype;return n.Sv=function(t){return this.YT.Sv(t)},n.Kv=function(t){this.YT.Kv(t)},n.sr=function(){this.YT.sr()},t}()),$R=function(t){function n(n,i,r,e,u){return t.call(this,n,i,r,e,u)||this}$(n,t);var i=n.prototype;return i.Uy=function(){return!1},i.getSdkBridge=function(t){return new jR(t)},i.getFairPlayControllerBridge=function(t){return FR||(FR=new WR(t)),FR},i.uq=function(t){return new zR(t)},n}(qR);LR=new(function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.nS=function(t,n,i,r,e,u){return new $R(t,n,i,r,e)},n}(HR)),Qp.ou.CI(LR),function(t){t.fl="addtrack",t.vl="removetrack",t.Al="change",t.Pl="update"}(MR||(MR={}));var XR=function(t,n,i){this.type=MR.Al,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},GR=function(t,n){this.type=MR.fl,this.mediaType=t,this.mediaTrack=n},YR=function(t,n){this.type=MR.vl,this.mediaType=t,this.mediaTrack=n},KR=function(t,n){this.type=MR.Pl,this.mediaType=t,this.mediaTrack=n},JR=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.dq=function(t){var n=new XR(r.type,t.track,r.mediaTracks);r.messageDispatcher.lq(n)},this.wq=function(t){var n=new GR(r.type,t.track);r.messageDispatcher.lq(n),t.track.addEventListener("update",r.yq)},this.gq=function(t){var n=new YR(r.type,t.track);r.messageDispatcher.lq(n)},this.yq=function(t){var n=new KR(r.type,t.track);r.messageDispatcher.lq(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.vq()}return t.prototype.vq=function(){this.mediaTracks.addEventListener("change",this.dq),this.mediaTracks.addEventListener("addtrack",this.wq),this.mediaTracks.addEventListener("removetrack",this.gq)},t}(),QR=function(){function t(t){this._q=void 0,this._q=new jR(t)}return t.prototype.lq=function(t){this._q.nM(t.type,oE(t))},t}();OT(function(t){if(t.wl.audioTracks){var n=new QR(t.rw);new JR("audio",t.wl.audioTracks,n)}if(t.wl.videoTracks){var i=new QR(t.rw);new JR("video",t.wl.videoTracks,i)}});var ZR,tI,nI=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case ZR.pq:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Js(new iI(i));break;default:0}},n}(XE),iI=function(t){function n(n){var i;return(i=t.call(this,ZR.pq)||this).detail=n,i}return $(n,t),n}(Ke);!function(t){t.pq="registerContentProtectionIntegration"}(ZR||(ZR={})),function(t){t.mq="certifiateRequest",t.kq="certifiateResponse",t.bq="licenseRequest",t.Tq="licenseResponse",t.Eq="extractFairplayContentId",t.Sq="buildContentProtection",t.Rq="registerContentProtectionCallback"}(tI||(tI={}));var rI,eI=function(t,n){this.type=tI.Rq,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(rI||(rI={}));var uI,oI=function(t,n){this.type=tI.Sq,this.value=t,this.integrationId=n},sI=function(t,n){this.type=tI.mq,this.value=t,this.integrationId=n},cI=function(t,n){this.type=tI.kq,this.value=t,this.integrationId=n},aI=function(t,n){this.type=tI.Eq,this.value=t,this.integrationId=n},fI=function(t,n){this.type=tI.bq,this.value=t,this.integrationId=n},hI=function(t,n){this.type=tI.Tq,this.value=t,this.integrationId=n},vI=function(){function t(t,n){this.Iq=void 0,this.iS=void 0,this.Iq=t,this.iS=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=C.coroutine(jr.mark(function t(i){var r,e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new sI(r,this.iS),t.prev=2,t.next=5,this.Iq.Aq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.Cq(o)){t.next=13;break}return s=Wr({},o),t.abrupt("return",s);case 13:if(!this.Dq(o)){t.next=16;break}return c=new p(o),t.abrupt("return",c);case 16:throw new ml(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new ml(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=C.coroutine(jr.mark(function t(i){var r,e,u,o,s;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new cI(e,this.iS),t.next=5,this.Iq.Aq(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new p(s));case 11:throw new ml(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=C.coroutine(jr.mark(function t(i){var r,e,u,o,s,c,a;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new fI(e,this.iS),t.prev=3,t.next=6,this.Iq.Aq(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.Cq(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new p(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.Dq(s)){t.next=17;break}return a=new p(s),t.abrupt("return",a);case 17:throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new ml(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=C.coroutine(jr.mark(function t(i){var r,e,u,o,s,c;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=Wr({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},o=new hI(u,this.iS),t.next=6,this.Iq.Aq(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new p(c));case 12:throw new ml(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=C.coroutine(jr.mark(function t(i){var r,e;return jr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new aI(i,this.iS),t.next=3,this.Iq.Aq(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",C.reject(new ml(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Cq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Dq=function(t){return!!new p(t)},t}(),dI=function(){function t(t){this.Iq=void 0,this.Iq=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new vI(this.Iq,t.integration),i=new oI({drmConfiguration:t},t.integration);return this.Iq.Aq(i),n},t}(),lI=function(){var t=this;this.NU=void 0,this.Nq=function(n){var i=new dI(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,o={state:Bg.cS.eS(e,u,i)};t.messageDispatcher.Aq(new eI(o,e))},this.NU=new nI,ME().contentProtectionIntegration={sdkEventBus:this.NU},this.NU.addEventListener(ZR.pq,this.Nq)},wI="nativePromiseCallback",yI=function(t){function n(n){var i;return(i=t.call(this,wI)||this).detail=n,i}return $(n,t),n}(Ke);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(uI||(uI={}));var gI=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Js(new yI(n))},i.addEventListener=function(t,n){this.Qs(t,n)},i.removeEventListener=function(t,n){this.ic(t,n)},n}(XE),_I=function(){function t(){var t=this;this._q=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case uI.RESOLVE:i.Pc(n.detail.data);break;case uI.REJECT:i.Lc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new gI;ME().nativePromise={sdkEventBus:n},n.addEventListener(wI,this.handleNativePromiseEvent)}return t.prototype.Aq=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=Wr({},n,{promiseId:r}),u=new uo;return this.promisesMap[r]=u,null==(i=this._q)||i.nM(n.type,eE(e)),u.xc},t}();_I.messageIdTracker=-1;var pI=function(t){function n(n){var i;return(i=t.call(this)||this)._q=new jR(n),i}return $(n,t),n}(_I),mI=function(t){function n(n){var i;return(i=t.call(this)||this).Iq=void 0,i.Iq=new pI(n),i}return $(n,t),W(n,[{key:"messageDispatcher",get:function(){return this.Iq}}]),n}(lI);OT(function(t){new mI(t.wl.uid)}),n.ChromelessPlayer=QT,n.Player=QT,n.createGlobals=VE,n.features=[],n.getCueMirrorMap=BE,n.getGlobalId=UE,n.getSdkEventBridge=ME,n.playerSuiteVersion="2022.1.1",n.players=tE,n.registerContentProtectionIntegration=nE,n.utils=ZT,n.version="3.1.1",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
