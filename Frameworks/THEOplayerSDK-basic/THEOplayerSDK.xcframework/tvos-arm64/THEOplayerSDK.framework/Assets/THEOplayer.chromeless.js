/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.1.0 (3.0.0)
 Created: 2022-01-18T11:01:14.589Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,u=t.document,o=t.location,s=t.navigator,c=t.setTimeout,a=t.clearTimeout,f=t.setInterval,h=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),w=t.Math,y=t.parseInt,g=t.parseFloat,_=t.isNaN,p=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),k="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E,S,R,I,A,C=b(function(n,i){n.exports=function t(n,i,e){function u(s,c){if(!i[s]){if(!n[s]){var a="function"==typeof r&&r;if(!c&&a)return a(s,!0);if(o)return o(s,!0);var f=new v("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};n[s][0].call(h.exports,function(t){var i=n[s][1][t];return u(i||t)},h,h.exports,t,n,i,e)}return i[s].exports}for(var o="function"==typeof r&&r,s=0;s<e.length;s++)u(e[s]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),o=t("./util");function s(){this.v=!1,this.l=!1,this.g=new u(16),this.p=new u(16),this.R=!1,this.I=!0;var t=this;this.drainQueues=function(){t.C()},this.N=e}function a(t,n,i){this.g.push(t,n,i),this.F()}function f(t,n,i){this.p.push(t,n,i),this.F()}function h(t){this.p.M(t),this.F()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.B();else{var i=t.shift(),r=t.shift();n.call(i,r)}}s.prototype.setScheduler=function(t){var n=this.N;return this.N=t,this.v=!0,n},s.prototype.hasCustomScheduler=function(){return this.v},s.prototype.enableTrampoline=function(){this.I=!0},s.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.I=!1)},s.prototype.haveItemsQueued=function(){return this.l||this.R},s.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},s.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==c)c(function(){t(n)},0);else try{this.N(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(s.prototype.invokeLater=function(t,n,i){this.I?a.call(this,t,n,i):this.N(function(){c(function(){t.call(n,i)},100)})},s.prototype.invoke=function(t,n,i){this.I?f.call(this,t,n,i):this.N(function(){t.call(n,i)})},s.prototype.settlePromises=function(t){this.I?h.call(this,t):this.N(function(){t.B()})}):(s.prototype.invokeLater=a,s.prototype.invoke=f,s.prototype.settlePromises=h),s.prototype.C=function(){d(this.p),this.U(),this.R=!0,d(this.g)},s.prototype.F=function(){this.l||(this.l=!0,this.N(this.drainQueues))},s.prototype.U=function(){this.l=!1},n.exports=s,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.V(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.H(u,u,null,this,t)},s=function(t,n){0==(50397184&this.j)&&this.W(n.target)},c=function(t,n){n.promiseRejectionQueued||this.V(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.X=r.propagateFromFunction(),t.prototype.G=r.boundValueFunction());var a=i(u),f=new t(n);f.X(this,1);var h=this.Y();if(f.K(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:f,target:h,bindingPromise:a};h.H(n,o,void 0,f,v),a.H(s,c,void 0,f,v),f.J(a)}else f.W(h);return f},t.prototype.K=function(t){void 0!==t?(this.j=2097152|this.j,this.Z=t):this.j=-2097153&this.j},t.prototype.nt=function(){return 2097152==(2097152&this.j)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=w.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.H(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=o;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.H(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.it;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.et();){if(!t.ut(n)){n.ot()?n.st().cancel():n.ct();break}var i=t.at;if(null==i||!i.et()){t.ot()?t.st().cancel():t.ct();break}t.ot()&&t.st().cancel(),t.ft(),n=t,t=i}},n.prototype.ht=function(){this.vt--},n.prototype.dt=function(){return void 0===this.vt||this.vt<=0},n.prototype.ut=function(t){return t===this?(this.vt=0,this.wt(),!0):(this.ht(),!!this.dt()&&(this.wt(),!0))},n.prototype.ct=function(){this.dt()&&this.yt()},n.prototype.yt=function(){this.et()&&(this._t(),c.invoke(this.pt,this,void 0))},n.prototype.pt=function(){this.kt()>0&&this.B()},n.prototype.bt=function(){this.Tt=void 0},n.prototype.et=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.St=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.St(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=o(t).call(this.G());r===s&&(this.Rt(r.e),c.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.wt=function(){var t=this.It();this.bt(),c.invoke(this.St,this,t)},n.prototype.At=function(){this.et()&&(this.St(this.It(),!0),this.bt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,o,s){return function(c){var a=s.G();t:for(var f=0;f<t.length;++f){var h=t[f];if(h===v||null!=h&&h.prototype instanceof v){if(c instanceof h)return e(o).call(a,c)}else if("function"==typeof h){var d=e(h).call(a,c);if(d===u)return d;if(d)return e(o).call(a,c)}else if(i.isObject(c)){for(var l=r(h),w=0;w<l.length;++w){var y=l[w];if(h[y]!=c[y])continue t}return e(o).call(a,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Ct=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Dt=function(){},t.prototype.Nt=function(){},t.prototype.Ot=function(){return null},t.xt=t.prototype.xt=function(){},r.prototype.Nt=function(){void 0!==this.Ct&&(this.Ct.Dt=null,i.push(this.Ct))},r.prototype.Ot=function(){if(void 0!==this.Ct){var t=i.pop(),n=t.Dt;return t.Dt=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Nt,u=t.prototype.Ot,o=t.xt,s=t.prototype.xt,c=t.prototype.Dt;r.deactivateLongStackTraces=function(){t.prototype.Nt=i,t.prototype.Ot=u,t.xt=o,t.prototype.xt=s,t.prototype.Dt=c,n=!1},n=!0,t.prototype.Nt=r.prototype.Nt,t.prototype.Ot=r.prototype.Ot,t.xt=t.prototype.xt=e,t.prototype.Dt=function(){var t=this.xt();t&&null==t.Dt&&(t.Dt=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,o,s=n.Pt,a=n.it,f=t("./errors").Warning,h=t("./util"),w=t("./es5"),g=h.canAttachTrace,_=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,p=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,b=null,T=!1,E=!(0==h.env("BLUEBIRD_DEBUG")),S=!(0==h.env("BLUEBIRD_WARNINGS")||!E&&!h.env("BLUEBIRD_WARNINGS")),R=!(0==h.env("BLUEBIRD_LONG_STACK_TRACES")||!E&&!h.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=h.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(S||!!h.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Y();t.j=-1048577&t.j|524288},n.prototype.Lt=function(){if(0==(524288&this.j)){this.Ft();var t=this;c(function(){t.Mt()},1)}},n.prototype.Bt=function(){K("rejectionHandled",r,void 0,this)},n.prototype.Ut=function(){this.j=268435456|this.j},n.prototype.Vt=function(){return 0!=(268435456&this.j)},n.prototype.Mt=function(){if(this.qt()){var t=this.Ht();this.jt(),K("unhandledRejection",e,t,this)}},n.prototype.jt=function(){this.j=262144|this.j},n.prototype.Wt=function(){this.j=-262145&this.j},n.prototype.zt=function(){return(262144&this.j)>0},n.prototype.Ft=function(){this.j=1048576|this.j},n.prototype.$t=function(){this.j=-1048577&this.j,this.zt()&&(this.Wt(),this.Bt())},n.prototype.qt=function(){return(1048576&this.j)>0},n.prototype.rt=function(t,n,i){return $(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=s();e="function"==typeof t?null===n?t:h.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=s();r="function"==typeof t?null===n?t:h.domainBind(n,t):void 0};var A=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&Q()){var t=n.prototype.Xt,r=n.prototype.Rt,e=n.prototype.Gt;et.longStackTraces=!0,A=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Xt=t,n.prototype.Rt=r,n.prototype.Gt=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.Xt=j,n.prototype.Rt=W,n.prototype.Gt=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&Q()};var C=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!h.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return h.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,w.defineProperty(i,"promise",{value:n.promise}),w.defineProperty(i,"reason",{value:n.reason}),!h.global.dispatchEvent(i)}}var t=u.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),h.global.dispatchEvent(t),function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!h.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=h.isNode?function(){return process.emit.apply(process,arguments)}:h.global?function(t){var n="on"+t.toLowerCase(),i=h.global[n];return!!i&&(i.apply(h.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function N(t,n){return{promise:n}}var O={promiseCreated:N,promiseFulfilled:N,promiseRejected:N,promiseResolved:N,promiseCancelled:N,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:N},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=C(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function L(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+h.toString(t));r.Yt(t)})}catch(t){return t}}function F(t){if(!this.et())return this;var n=this.It();void 0!==n?h.isArray(n)?n.push(t):this.J([n,t]):this.J(t)}function M(){return this.Tt}function B(t){this.Tt=t}function U(){this.at=void 0,this.Tt=void 0}function V(t,n){if(0!=(1&n)){this.at=t;var i=t.vt;void 0===i&&(i=0),t.vt=i+1}0!=(2&n)&&t.nt()&&this.K(t.Z)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&A()),"warnings"in t){var i=t.warnings;et.warnings=!!i,I=et.warnings,h.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.Kt=U,n.prototype.X=V,n.prototype.It=M,n.prototype.J=B,n.prototype.Yt=F,n.prototype.Jt=L,q=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Qt=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Qt=P)),n},n.prototype.Qt=P,n.prototype.Jt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.It=function(){},n.prototype.J=function(t){},n.prototype.Yt=function(t){},n.prototype.Xt=function(){},n.prototype.Rt=function(){},n.prototype.Gt=function(){},n.prototype.Kt=function(){},n.prototype.X=function(t,n){};var q=function(t,n){0!=(2&n)&&t.nt()&&this.K(t.Z)};function H(){var t=this.Z;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function j(){this.Ct=new it(this.xt())}function W(t,n){if(g(t)){var i=this.Ct;if(void 0!==i&&n&&(i=i.Zt),void 0!==i)i.attachExtraTrace(t);else if(!t.tn){var r=G(t);h.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),h.notEnumerableProp(t,"tn",!0)}}}function z(){this.Ct=void 0}function $(t,i,r){if(et.warnings){var e,u=new f(t);if(i)r.Rt(u);else if(et.longStackTraces&&(e=n.xt()))e.attachExtraTrace(u);else{var o=G(u);u.stack=o.message+"\n"+o.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&Z(r);e&&!u&&(T&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(h.isObject(t)){var e=t.stack;r=n+b(e,t)}else r=n+String(t);"function"==typeof o?o(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function K(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():h.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof rt}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:y(n[2],10)}}function it(t){this.Zt=t,this.nn=0;var n=this.kt=1+(void 0===t?0:t.kt);rt(this,it),n>32&&this.uncycle()}h.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Zt;for(var r=(t=this.kt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var o=n[r].stack,s=i[o];if(void 0!==s&&s!==r){s>0&&(n[s-1].Zt=void 0,n[s-1].kt=1),n[r].Zt=void 0,n[r].kt=1;var c=r>0?n[r-1]:this;s<t-1?(c.Zt=n[s+1],c.Zt.uncycle(),c.kt=c.Zt.kt+1):(c.Zt=void 0,c.kt=1);for(var a=c.kt+1,f=r-2;f>=0;--f)n[f].kt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.tn){this.uncycle();for(var n=G(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(X(e.stack.split("\n"))),e=e.Zt;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],o=-1,s=r.length-1;s>=0;--s)if(r[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=r[s];if(n[e]!==c)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),h.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),h.notEnumerableProp(t,"tn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,k=t,b=n;var i=v.captureStackTrace;return Z=function(t){return _.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,b=n,T=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(b=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,b=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},h.isNode&&process.stderr.isTTY?o=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:h.isNode||"string"!=typeof(new v).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return q},boundValueFunction:function(){return H},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&I){if(void 0!==e&&e.Vt())return;if(0==(65535&r.j))return;i&&(i+=" ");var u="",o="";if(n.Ct){for(var s=n.Ct.stack.split("\n"),c=X(s),a=c.length-1;a>=0;--a){var f=c[a];if(!p.test(f)){var h=f.match(m);h&&(u="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(c.length>0)for(var v=c[0],a=0;a<s.length;++a)if(s[a]===v){a>0&&(o="\n"+s[a-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;r.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<e.length;++c){var a=nt(e[c]);if(a){i=a.fileName,o=a.line;break}}for(var c=0;c<u.length;++c){var a=nt(u[c]);if(a){r=a.fileName,s=a.line;break}}o<0||s<0||!i||!r||i!==r||o>=s||(Z=function(t){if(_.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&o<=n.line&&n.line<=s)})}},warn:$,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),$(i)},CapturedTrace:it,fireDomEvent:C,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.H(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.H(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.H(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.H(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).H(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).H(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,a=s.notEnumerableProp;function f(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return c(i,v),i}var h=f("Warning","warning"),l=f("CancellationError","cancellation error"),w=f("TimeoutError","timeout error"),y=f("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=f("TypeError","type error"),e=f("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<g.length;++_)"function"==typeof Array.prototype[g[_]]&&(y.prototype[g[_]]=Array.prototype[g[_]]);u.defineProperty(y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),y.prototype.isOperational=!0;var p=0;function m(t){if(!(this instanceof m))return new m(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}y.prototype.toString=function(){var t=Array(4*p+1).join(" "),n="\n"+t+"AggregateError of:\n";p++,t=Array(4*p+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return p--,n},c(m,v);var k=v.in;k||(k=o({CancellationError:l,TimeoutError:w,OperationalError:m,RejectionError:m,AggregateError:y}),u.defineProperty(v,"in",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return o}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,o=e.errorObj,s=t("./catch_filter")(r);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function f(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.V(n):t.cancelPromise.yt(),t.cancelPromise=null,!0)}function h(){return l.call(this,this.promise.Y().Ht())}function v(t){if(!f(this,t))return o.e=t,o}function l(t){var e=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(e.G()):s.call(e.G(),t);if(c===r)return c;if(void 0!==c){e.Ut();var d=i(c,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Et()){var l=new u("late cancellation observer");return e.Rt(l),o.e=l,o}d.isPending()&&d.Yt(new a(this))}return d.H(h,v,void 0,this,void 0)}}}return e.isRejected()?(f(this),o.e=t,o):(f(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){f(this.finallyHandler)},n.prototype.rn=function(t,n,i,r){return"function"!=typeof t?this.then():this.H(i,r,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var r,u=new Array(i-1),o=0;for(r=0;r<i-1;++r){var c=arguments[r];if(!e.isObject(c))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(c)));u[o++]=c}u.length=o;var a=arguments[r];return this.rn(s(u,a,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./errors"),c=s.TypeError,a=t("./util"),f=a.errorObj,h=a.tryCatch,d=[];function w(t,i,e,u){if(o.cancellation()){var s=new n(r),c=this.en=new n(r);this.un=s.lastly(function(){return c}),s.Xt(),s.J(this)}else{var a=this.un=new n(r);a.Xt()}this.sn=u,this.cn=t,this.an=i,this.fn=void 0,this.hn="function"==typeof e?[e].concat(d):d,this.vn=null,this.dn=!1}a.inherits(w,u),w.prototype.ln=function(){return null===this.un},w.prototype.wn=function(){this.un=this.fn=null,o.cancellation()&&null!==this.en&&(this.en.yn(),this.en=null)},w.prototype.gn=function(){if(!this.ln()){var t,i=void 0!==this.fn.return;if(i)this.un.Nt(),t=h(this.fn.return).call(this.fn,void 0),this.un.Ot();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.un.Rt(r),this.un.Nt(),t=h(this.fn.throw).call(this.fn,r),this.un.Ot()}this.dn=!0,this.vn=null,this._n(t)}},w.prototype.pn=function(t){this.vn=null,this.un.Nt();var n=h(this.fn.next).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype.mn=function(t){this.vn=null,this.un.Rt(t),this.un.Nt();var n=h(this.fn.throw).call(this.fn,t);this.un.Ot(),this._n(n)},w.prototype._resultCancelled=function(){if(this.vn instanceof n){var t=this.vn;this.vn=null,t.cancel()}},w.prototype.promise=function(){return this.un},w.prototype.kn=function(){this.fn=this.cn.call(this.an),this.an=this.cn=void 0,this.pn(void 0)},w.prototype._n=function(t){var i=this.un;if(t===f)return this.wn(),this.dn?i.cancel():i.bn(t.e,!1);var r=t.value;if(!0===t.done)return this.wn(),this.dn?i.cancel():i.W(r);var u=e(r,this.un);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Nt();var o=h(i[u])(t);if(r.Ot(),o===f){r.Nt();var s=n.reject(f.e);return r.Ot(),s}var c=e(o,r);if(c instanceof n)return c}return null}(u,this.hn,this.un))){var o=(u=u.Y()).j;0==(50397184&o)?(this.vn=u,u.Tn(this,null)):0!=(33554432&o)?n.it.invoke(this.pn,this,u.En()):0!=(16777216&o)?n.it.invoke(this.mn,this,u.Sn()):this.gn()}else this.mn(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.sn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=w,e=(new v).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),o=u.promise();return u.fn=n,u.pn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new w(t,this),e=r.promise();return r.kn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch,f=c.errorObj,h=n.it;function v(t,n,i,r){this.constructor$(t),this.un.Xt();var e=s();this.Rn=null===e?n:c.domainBind(e,n),this.In=r===u?new Array(this.length()):null,this.An=i,this.Cn=0,this.Dn=[],h.invoke(this.Nn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+c.classString(i));var o=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+c.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+c.classString(e.concurrency)));o=e.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new v(t,i,o,u).promise()}c.inherits(v,i),v.prototype.Nn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.pn=function(t,i){var r=this.On,u=this.length(),s=this.In,c=this.An;if(i<0){if(r[i=-1*i-1]=t,c>=1&&(this.Cn--,this.xn(),this.ln()))return!0}else{if(c>=1&&this.Cn>=c)return r[i]=t,this.Dn.push(i),!1;null!==s&&(s[i]=t);var h=this.un,v=this.Rn,d=h.G();h.Nt();var l=a(v).call(d,t,i,u),w=h.Ot();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",h),l===f)return this.V(l.e),!0;var y=e(l,this.un);if(y instanceof n){var g=(y=y.Y()).j;if(0==(50397184&g))return c>=1&&this.Cn++,r[i]=y,y.Tn(this,-1*(i+1)),!1;if(0==(33554432&g))return 0!=(16777216&g)?(this.V(y.Sn()),!0):(this.yt(),!0);l=y.En()}r[i]=l}var _=++this.Pn;return _>=u&&(null!==s?this.Ln(r,s):this.Fn(r),!0)},v.prototype.xn=function(){for(var t=this.Dn,n=this.An,i=this.On;t.length>0&&this.Cn<n;){if(this.ln())return;var r=t.pop();this.pn(i[r],r)}},v.prototype.Ln=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Fn(r)},v.prototype.preservedValues=function(){return this.In},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var r=new n(i);r.Xt(),r.Nt();var e=s(t).apply(this,arguments),o=r.Ot();return u.checkForgottenReturns(e,o,"Promise.method",r),r.Mn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+o.classString(t));var r,c=new n(i);if(c.Xt(),c.Nt(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],f=arguments[2];r=o.isArray(a)?s(t).apply(f,a):s(t).call(f,a)}else r=s(t)();var h=c.Ot();return u.checkForgottenReturns(r,h,"Promise.try",c),c.Mn(r),c},n.prototype.Mn=function(t){t===o.errorObj?this.bn(t.e,!1):this.W(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&s.getPrototypeOf(t)===v.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=s.keys(t),e=0;e<i.length;++e){var u=i[e];c.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=a(e(i));t.Rt(u),t.V(u)}else if(n){var o=[].slice.call(arguments,1);t.yn(o)}else t.yn(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.it,e=i.tryCatch,u=i.errorObj;function o(t,n){if(!i.isArray(t))return s.call(this,t,n);var o=e(n).apply(this.G(),[null].concat(t));o===u&&r.throwLater(o.e)}function s(t,n){var i=this.G(),o=void 0===t?e(n).call(i,null):e(n).call(i,null,t);o===u&&r.throwLater(o.e)}function c(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var o=e(n).call(this.G(),t);o===u&&r.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=s;void 0!==n&&l(n).spread&&(i=o),this.H(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new C.PromiseInspection(this.Y())},e=function(t){return C.reject(new d(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(C,"Pt",o);var a=t("./es5"),f=t("./async"),h=new f;a.defineProperty(C,"it",{value:h});var v=t("./errors"),d=C.TypeError=v.TypeError;C.RangeError=v.RangeError;var w=C.CancellationError=v.CancellationError;C.TimeoutError=v.TimeoutError,C.OperationalError=v.OperationalError,C.RejectionError=v.OperationalError,C.AggregateError=v.AggregateError;var y=function(){},g={},_={},p=t("./thenables")(C,y),m=t("./promise_array")(C,y,p,e,u),k=t("./context")(C),b=k.create,T=t("./debuggability")(C,k),E=(T.CapturedTrace,t("./finally")(C,p,_)),S=t("./catch_filter")(_),R=t("./nodeback"),I=c.errorObj,A=c.tryCatch;function C(t){t!==y&&function(t,n){if(null==t||t.constructor!==C)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+c.classString(n))}(this,t),this.j=0,this.Bn=void 0,this.Un=void 0,this.Vn=void 0,this.qn=void 0,this.Hn(t),this.Dt(),this.Qt("promiseCreated",this)}function D(t){this.promise.W(t)}function N(t){this.promise.bn(t,!1)}function O(t){var n=new C(y);n.Bn=t,n.Un=t,n.Vn=t,n.qn=t}return C.prototype.toString=function(){return"[object Promise]"},C.prototype.caught=C.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var o=arguments[i];if(!c.isObject(o))return e("Catch statement predicate: expecting an object but got "+c.classString(o));r[u++]=o}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,S(r,t,this))}return this.then(void 0,t)},C.prototype.reflect=function(){return this.H(r,r,void 0,this,void 0)},C.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.H(t,n,void 0,void 0,void 0)},C.prototype.done=function(t,n){var i=this.H(t,n,void 0,void 0,void 0);i.jn()},C.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+c.classString(t)):this.all().H(t,void 0,void 0,g,void 0)},C.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},C.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new m(this).promise()},C.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},C.getNewLibraryCopy=n.exports,C.is=function(t){return t instanceof C},C.fromNode=C.fromCallback=function(t){var n=new C(y);n.Xt();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=A(t)(R(n,i));return r===I&&n.bn(r.e,!0),n.Wn()||n.zn(),n},C.all=function(t){return new m(t).promise()},C.cast=function(t){var n=p(t);return n instanceof C||((n=new C(y)).Xt(),n.$n(),n.Un=t),n},C.resolve=C.fulfilled=C.cast,C.reject=C.rejected=function(t){var n=new C(y);return n.Xt(),n.bn(t,!0),n},C.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t));return h.setScheduler(t)},C.prototype.H=function(t,n,i,r,e){var u=void 0!==e,s=u?e:new C(y),a=this.Y(),f=a.j;u||(s.X(this,3),s.Xt(),void 0===r&&0!=(2097152&this.j)&&(r=0!=(50397184&f)?this.G():a===this?void 0:this.Z),this.Qt("promiseChained",this,s));var v=o();if(0!=(50397184&f)){var d,l,g=a.Xn;0!=(33554432&f)?(l=a.Un,d=t):0!=(16777216&f)?(l=a.Bn,d=n,a.$t()):(g=a.Gn,l=new w("late cancellation observer"),a.Rt(l),d=n),h.invoke(g,a,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:r,value:l})}else a.Yn(t,n,s,r,v);return s},C.prototype.kt=function(){return 65535&this.j},C.prototype.Wn=function(){return 0!=(117506048&this.j)},C.prototype.ot=function(){return 67108864==(67108864&this.j)},C.prototype.Kn=function(t){this.j=-65536&this.j|65535&t},C.prototype.$n=function(){this.j=33554432|this.j,this.Qt("promiseFulfilled",this)},C.prototype.Jn=function(){this.j=16777216|this.j,this.Qt("promiseRejected",this)},C.prototype.Qn=function(){this.j=67108864|this.j,this.Qt("promiseResolved",this)},C.prototype.jn=function(){this.j=4194304|this.j},C.prototype.Zn=function(){return(4194304&this.j)>0},C.prototype.ti=function(){this.j=-65537&this.j},C.prototype._t=function(){this.j=65536|this.j,this.Qt("promiseCancelled",this)},C.prototype.ft=function(){this.j=8388608|this.j},C.prototype.zn=function(){h.hasCustomScheduler()||(this.j=134217728|this.j)},C.prototype.ni=function(t){var n=0===t?this.qn:this[4*t-4+3];if(n!==s)return void 0===n&&this.nt()?this.G():n},C.prototype.ii=function(t){return this[4*t-4+2]},C.prototype.ri=function(t){return this[4*t-4+0]},C.prototype.ei=function(t){return this[4*t-4+1]},C.prototype.G=function(){},C.prototype.ui=function(t){t.j;var n=t.Bn,i=t.Un,r=t.Vn,e=t.ni(0);void 0===e&&(e=s),this.Yn(n,i,r,e,null)},C.prototype.oi=function(t,n){var i=t.ri(n),r=t.ei(n),e=t.ii(n),u=t.ni(n);void 0===u&&(u=s),this.Yn(i,r,e,u,null)},C.prototype.Yn=function(t,n,i,r,e){var u=this.kt();if(u>=65531&&(u=0,this.Kn(0)),0===u)this.Vn=i,this.qn=r,"function"==typeof t&&(this.Bn=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this.Un=null===e?n:c.domainBind(e,n));else{var o=4*u-4;this[o+2]=i,this[o+3]=r,"function"==typeof t&&(this[o+0]=null===e?t:c.domainBind(e,t)),"function"==typeof n&&(this[o+1]=null===e?n:c.domainBind(e,n))}return this.Kn(u+1),u},C.prototype.Tn=function(t,n){this.Yn(void 0,void 0,n,t,null)},C.prototype.W=function(t,n){if(0==(117506048&this.j)){if(t===this)return this.bn(i(),!1);var r=p(t,this);if(!(r instanceof C))return this.yn(t);n&&this.X(r,2);var e=r.Y();if(e!==this){var u=e.j;if(0==(50397184&u)){var o=this.kt();o>0&&e.ui(this);for(var s=1;s<o;++s)e.oi(this,s);this.Qn(),this.Kn(0),this.si(e)}else if(0!=(33554432&u))this.yn(e.En());else if(0!=(16777216&u))this.V(e.Sn());else{var c=new w("late cancellation observer");e.Rt(c),this.V(c)}}else this.V(i())}},C.prototype.bn=function(t,n,i){var r=c.ensureErrorObject(t),e=r===t;if(!e&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.Rt(r,!!n&&e),this.V(t)},C.prototype.Hn=function(t){if(t!==y){var n=this;this.Xt(),this.Nt();var i=!0,r=this.Jt(t,function(t){n.W(t)},function(t){n.bn(t,i)});i=!1,this.Ot(),void 0!==r&&n.bn(r,!0)}},C.prototype.ci=function(t,n,i,r){var e=r.j;if(0==(65536&e)){var u;r.Nt(),n===g?i&&"number"==typeof i.length?u=A(t).apply(this.G(),i):(u=I).e=new d("cannot .spread() a non-array: "+c.classString(i)):u=A(t).call(n,i);var o=r.Ot();0==(65536&(e=r.j))&&(u===_?r.V(i):u===I?r.bn(u.e,!1):(T.checkForgottenReturns(u,o,"",r,this),r.W(u)))}},C.prototype.Y=function(){for(var t=this;t.ot();)t=t.st();return t},C.prototype.st=function(){return this.Un},C.prototype.si=function(t){this.Un=t},C.prototype.ai=function(t,n,i,e){var o=t instanceof C,s=this.j,c=0!=(134217728&s);0!=(65536&s)?(o&&t.At(),i instanceof E&&i.isFinallyHandler()?(i.cancelPromise=t,A(n).call(i,e)===I&&t.V(I.e)):n===r?t.yn(r.call(i)):i instanceof u?i.gn(t):o||t instanceof m?t.yt():i.cancel()):"function"==typeof n?o?(c&&t.zn(),this.ci(n,i,e,t)):n.call(i,e,t):i instanceof u?i.ln()||(0!=(33554432&s)?i.pn(e,t):i.mn(e,t)):o&&(c&&t.zn(),0!=(33554432&s)?t.yn(e):t.V(e))},C.prototype.Gn=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof C?this.ci(n,r,e,i):n.call(r,e,i):i instanceof C&&i.V(e)},C.prototype.Xn=function(t){this.ai(t.promise,t.handler,t.receiver,t.value)},C.prototype.fi=function(t,n,i){var r=this.Vn,e=this.ni(0);this.Vn=void 0,this.qn=void 0,this.ai(r,t,e,n)},C.prototype.hi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},C.prototype.yn=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Rt(r),this.V(r)}this.$n(),this.Un=t,(65535&n)>0&&(0!=(134217728&n)?this.B():h.settlePromises(this),this.Gt())}},C.prototype.V=function(t){var n=this.j;if(!((117506048&n)>>>16)){if(this.Jn(),this.Bn=t,this.Zn())return h.fatalError(t,c.isNode);(65535&n)>0?h.settlePromises(this):this.Lt()}},C.prototype.vi=function(t,n){for(var i=1;i<t;i++){var r=this.ri(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},C.prototype.di=function(t,n){for(var i=1;i<t;i++){var r=this.ei(i),e=this.ii(i),u=this.ni(i);this.hi(i),this.ai(e,r,u,n)}},C.prototype.B=function(){var t=this.j,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Bn;this.fi(this.Un,i,t),this.di(n,i)}else{var r=this.Un;this.fi(this.Bn,r,t),this.vi(n,r)}this.Kn(0)}this.Kt()},C.prototype.Ht=function(){var t=this.j;return 0!=(33554432&t)?this.Un:0!=(16777216&t)?this.Bn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(C.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),C.defer=C.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new C(y);return{promise:t,resolve:D,reject:N}},c.notEnumerableProp(C,"li",i),t("./method")(C,y,p,e,T),t("./bind")(C,y,p,T),t("./cancel")(C,m,e,T),t("./direct_resolve")(C),t("./synchronous_inspection")(C),t("./join")(C,m,p,y,h,o),C.Promise=C,C.version="3.5.5",t("./call_get.js")(C),t("./generators.js")(C,e,y,p,u,T),t("./map.js")(C,m,e,p,y,T),t("./nodeify.js")(C),t("./promisify.js")(C,y),t("./props.js")(C,m,p,e),t("./race.js")(C,y,p,e),t("./reduce.js")(C,m,e,p,y,T),t("./settle.js")(C,m,T),t("./some.js")(C,m,e),t("./timers.js")(C,y,T),t("./using.js")(C,e,p,b,y,T),t("./any.js")(C),t("./each.js")(C,y),t("./filter.js")(C,y),c.toFastProperties(C),c.toFastProperties(C.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new C(y)),T.setBounds(f.firstLineError,c.lastLineError),C}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var o=t("./util");function s(t){var r=this.un=new n(i);t instanceof n&&r.X(t,3),r.J(this),this.On=t,this.kt=0,this.Pn=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.kt},s.prototype.promise=function(){return this.un},s.prototype._init=function t(i,u){var s=r(this.On,this.un);if(s instanceof n){var c=(s=s.Y()).j;if(this.On=s,0==(50397184&c))return this.un.zn(),s.H(t,this.V,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.V(s.Sn()):this.yt();s=s.En()}if(null!==(s=o.asArray(s)))0!==s.length?this.wi(s):-5===u?this.yi():this.Fn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var a=e("expecting an array or an iterable object but got "+o.classString(s)).reason();this.un.bn(a,!1)}},s.prototype.wi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.On=this.shouldCopyValues()?new Array(i):this.On;for(var e=this.un,u=!1,o=null,s=0;s<i;++s){var c=r(t[s],e);c instanceof n?(c=c.Y(),o=c.j):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.Tn(this,s),this.On[s]=c):u=0!=(33554432&o)?this.pn(c.En(),s):0!=(16777216&o)?this.mn(c.Sn(),s):this.gn(s):u=this.pn(c,s)}u||e.zn()},s.prototype.ln=function(){return null===this.On},s.prototype.Fn=function(t){this.On=null,this.un.yn(t)},s.prototype.yt=function(){!this.ln()&&this.un.et()&&(this.On=null,this.un.yt())},s.prototype.V=function(t){this.On=null,this.un.bn(t,!1)},s.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},s.prototype.gn=function(){return this.yt(),!0},s.prototype.mn=function(t){return this.Pn++,this.V(t),!0},s.prototype._resultCancelled=function(){if(!this.ln()){var t=this.On;if(this.yt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),o=e.withAppended,s=e.maybeWrapAsError,c=e.canEvaluate,a=t("./errors").TypeError,f={gi:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","gi"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!h.test(t)}function w(t){try{return!0===t.gi}catch(t){return!1}}function y(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,f);return!!r&&w(r)}function g(t,n,i,r){for(var u=e.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],f=t[c],h=r===v||v(c);"function"!=typeof f||w(f)||y(t,c,n)||!r(c,f,t,h)||o.push(c,f)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,i),o}var _=function(t){return t.replace(/([$])/,"\\$")},p=c?void 0:function(t,c,a,f,h,v){var d=function(){return this}(),l=t;function w(){var e=c;c===r&&(e=this);var a=new n(i);a.Xt();var f="string"==typeof l&&this!==d?this[l]:t,h=u(a,v);try{f.apply(e,o(arguments,h))}catch(t){a.bn(s(t),!0,!0)}return a.Wn()||a.zn(),a}return"string"==typeof l&&(t=f),e.notEnumerableProp(w,"gi",!0),w};function m(t,n,i,u,o){for(var s=new RegExp(_(n)+"$"),c=g(t,n,s,i),a=0,f=c.length;a<f;a+=2){var h=c[a],v=c[a+1],d=h+n;if(u===p)t[d]=p(h,r,h,v,n,o);else{var l=u(v,function(){return p(h,r,h,v,n,o)});e.notEnumerableProp(l,"gi",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(w(t))return t;var i=void 0===(n=l(n)).context?r:n.context,u=!!n.multiArgs,o=function(t,n,i){return p(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,o,d),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=p),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=e.inheritedDataKeys(t),c=0;c<s.length;++c){var f=t[s[c]];"constructor"!==s[c]&&e.isClass(f)&&(m(f.prototype,r,u,o,i),m(f,r,u,o,i))}return m(t,r,u,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function f(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=a(t),i=!0;else{var r=c.keys(t),e=r.length;n=new Array(2*e);for(var o=0;o<e;++o){var s=r[o];n[o]=t[s],n[o+e]=s}}this.constructor$(n),this._i=i,this._init$(void 0,i?-6:-3)}function h(t){var i,u=r(t);return s(u)?(i=u instanceof n?u.H(n.props,void 0,void 0,void 0,void 0):new f(u).promise(),u instanceof n&&i.X(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(f,i),f.prototype._init=function(){},f.prototype.pn=function(t,n){this.On[n]=t;var i=++this.Pn;if(i>=this.kt){var r;if(this._i)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],o=t[r];n.set(e,o)}return n}(this.On);else{r={};for(var e=this.length(),o=0,s=this.length();o<s;++o)r[this.On[o+e]]=this.On[o]}return this.Fn(r),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return h(this)},n.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.pi=t,this.kt=0,this.mi=0}r.prototype.ki=function(t){return this.pi<t},r.prototype.M=function(t){var n=this.length();this.bi(n+1);var i=this.mi+n&this.pi-1;this[i]=t,this.kt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.ki(r))return this.M(t),this.M(n),void this.M(i);var e=this.mi+r-3;this.bi(r);var u=this.pi-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.kt=r},r.prototype.shift=function(){var t=this.mi,n=this[t];return this[t]=void 0,this.mi=t+1&this.pi-1,this.kt--,n},r.prototype.length=function(){return this.kt},r.prototype.bi=function(t){this.pi<t&&this.Ti(this.pi<<1)},r.prototype.Ti=function(t){var n=this.pi;this.pi=t;var i=this.mi,r=this.kt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=r(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var a=new n(i);void 0!==s&&a.X(s,3);for(var f=a.yn,h=a.V,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).H(f,h,void 0,a,null)}return a}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=n.Pt,c=t("./util"),a=c.tryCatch;function f(t,i,r,e){this.constructor$(t);var o=s();this.Ei=null===o?i:c.domainBind(o,i),void 0!==r&&(r=n.resolve(r)).Yt(this),this.Si=r,this.Ri=null,this.Ii=e===u?Array(this.kt):0===e?null:void 0,this.un.Xt(),this._init$(void 0,-5)}function h(t,n){this.isFulfilled()?n.Fn(t):n.V(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+c.classString(n));var u=new f(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Ai(t);var i=e(this.value,this.array.un);return i instanceof n?(this.array.Ri=i,i.H(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.un,u=a(r.Ei);e.Nt(),(i=void 0!==r.Ii?u.call(e.G(),t,this.index,this.length):u.call(e.G(),this.accum,t,this.index,this.length))instanceof n&&(r.Ri=i);var s=e.Ot();return o.checkForgottenReturns(i,s,void 0!==r.Ii?"Promise.each":"Promise.reduce",e),i}c.inherits(f,i),f.prototype.Ai=function(t){void 0!==this.Ii&&null!==this.Ii&&t!==u&&this.Ii.push(t)},f.prototype.Ci=function(t){return null!==this.Ii&&this.Ii.push(t),this.Ii},f.prototype._init=function(){},f.prototype.yi=function(){this.Fn(void 0!==this.Ii?this.Ii:this.Si)},f.prototype.shouldCopyValues=function(){return!1},f.prototype.Fn=function(t){this.un.W(t),this.On=null},f.prototype._resultCancelled=function(t){if(t===this.Si)return this.yt();this.ln()||(this._resultCancelled$(),this.Ri instanceof n&&this.Ri.cancel(),this.Si instanceof n&&this.Si.cancel())},f.prototype.wi=function(t){var i,r;this.On=t;var e=t.length;if(void 0!==this.Si?(i=this.Si,r=0):(i=n.resolve(t[0]),r=1),this.Ri=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.H(d,void 0,void 0,u,void 0)}void 0!==this.Ii&&(i=i.H(this.Ci,void 0,void 0,this,void 0)),i.H(h,h,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,o,s,a,f,h=t("./util"),d=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var l=k.setImmediate,w=process.nextTick;r=h.isRecentNode?function(t){l.call(k,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var y=d.resolve();r=function(t){y.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in u.documentElement?(o=u.createElement("div"),s={attributes:!0},a=!1,f=u.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),a=!1}).observe(f,s),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,s),a||(a=!0,f.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==c?function(t){c(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,i),o.prototype.Di=function(t,n){this.On[t]=n;var i=++this.Pn;return i>=this.kt&&(this.Fn(this.On),!0)},o.prototype.pn=function(t,n){var i=new e;return i.j=33554432,i.Ni=t,this.Di(n,i)},o.prototype.mn=function(t,n){var i=new e;return i.j=16777216,i.Ni=t,this.Di(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=e.isArray,c={};function a(t){this.constructor$(t),this.Oi=0,this.xi=!1,this.Pi=!1}function f(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Pi)if(0!==this.Oi){this._init$(void 0,-5);var t=s(this.On);!this.ln()&&t&&this.Oi>this.Li()&&this.V(this.Fi(this.length()))}else this.Fn([])},a.prototype.init=function(){this.Pi=!0,this._init()},a.prototype.setUnwrap=function(){this.xi=!0},a.prototype.howMany=function(){return this.Oi},a.prototype.setHowMany=function(t){this.Oi=t},a.prototype.pn=function(t){return this.Mi(t),this.Bi()===this.howMany()&&(this.On.length=this.howMany(),1===this.howMany()&&this.xi?this.Fn(this.On[0]):this.Fn(this.On),!0)},a.prototype.mn=function(t){return this.Ui(t),this.Vi()},a.prototype.gn=function(){return this.On instanceof n||null==this.On?this.yt():(this.Ui(c),this.Vi())},a.prototype.Vi=function(){if(this.howMany()>this.Li()){for(var t=new o,n=this.length();n<this.On.length;++n)this.On[n]!==c&&t.push(this.On[n]);return t.length>0?this.V(t):this.yt(),!0}return!1},a.prototype.Bi=function(){return this.Pn},a.prototype.qi=function(){return this.On.length-this.length()},a.prototype.Ui=function(t){this.On.push(t)},a.prototype.Mi=function(t){this.On[this.Pn++]=t},a.prototype.Li=function(){return this.length()-this.qi()},a.prototype.Fi=function(t){var n="Input array must contain at least "+this.Oi+" items but contains only "+t+" items";return new u(n)},a.prototype.yi=function(){this.V(this.Fi(0))},n.some=function(t,n){return f(t,n)},n.prototype.some=function(t){return f(this,t)},n.o=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Y(),this.j=t.j,this.Ni=t.Wn()?t.Ht():void 0):(this.j=0,this.Ni=void 0)}n.prototype.Ht=function(){return this.Ni};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Ht()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.j)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.j)},o=n.prototype.isPending=function(){return 0==(50397184&this.j)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.j)};n.prototype.isCancelled=function(){return 0!=(8454144&this.j)},t.prototype.Hi=function(){return 65536==(65536&this.j)},t.prototype.Et=function(){return this.Y().Hi()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Y().j)},t.prototype.isPending=function(){return o.call(this.Y())},t.prototype.isRejected=function(){return u.call(this.Y())},t.prototype.isFulfilled=function(){return e.call(this.Y())},t.prototype.isResolved=function(){return s.call(this.Y())},t.prototype.value=function(){return i.call(this.Y())},t.prototype.reason=function(){var t=this.Y();return t.$t(),r.call(t)},t.prototype.En=function(){return this.Ht()},t.prototype.Sn=function(){return this.$t(),this.Ht()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(c===e){s&&s.Nt();var a=n.reject(c.e);return s&&s.Ot(),a}if("function"==typeof c){if(function(t){try{return o.call(t,"Vn")}catch(t){return!1}}(t)){var a=new n(i);return t.H(a.yn,a.V,void 0,a,null),a}return function(t,u,o){var s=new n(i),c=s;o&&o.Nt(),s.Xt(),o&&o.Ot();var a=!0,f=r.tryCatch(u).call(t,function(t){s&&(s.W(t),s=null)},function(t){s&&(s.bn(t,a,!0),s=null)});return a=!1,s&&f===e&&(s.bn(f.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){a(this.handle)};var s=function(t){return f(+this).thenReturn(t)},f=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).H(s,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.J(e)):(u=new n(i),a=c(function(){u.yn()},+t),r.cancellation()&&u.J(new o(a)),u.Xt()),u.zn(),u};function h(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return f(t,this)},n.prototype.timeout=function(t,n){var i,s,a=new o(c(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Rt(r),t.V(r),null!=i&&i.cancel()}(i,n,s)},t=+t));return r.cancellation()?(s=this.then(),(i=s.H(h,d,void 0,a,void 0)).J(a)):i=this.H(h,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,o){var s=t("./util"),a=t("./errors").TypeError,f=t("./util").inherits,h=s.errorObj,v=s.tryCatch,d={};function l(t){c(function(){throw t},0)}function w(t,i){var e=0,o=t.length,s=new n(u);return function u(){if(e>=o)return s.yn();var c=function(t){var n=r(t);return n!==t&&"function"==typeof t.ji&&"function"==typeof t.Wi&&t.ji()&&n.zi(t.Wi()),n}(t[e++]);if(c instanceof n&&c.ji()){try{c=r(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.H(u,l,null,null,null)}u()}(),s}function y(t,n,i){this.$i=t,this.un=n,this.Xi=i}function g(t,n,i){this.constructor$(t,n,i)}function _(t){return y.isDisposer(t)?(this.resources[this.index].zi(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}y.prototype.data=function(){return this.$i},y.prototype.promise=function(){return this.un},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},y.prototype.tryDispose=function(t){var n=this.resource(),i=this.Xi;void 0!==i&&i.Nt();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ot(),this.un.Gi(),this.$i=null,r},y.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},f(g,y),g.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},p.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+s.classString(u));var c=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,c=!1):(e=arguments,t--);for(var a=new p(t),f=0;f<t;++f){var d=e[f];if(y.isDisposer(d)){var l=d;(d=d.promise()).zi(l)}else{var g=r(d);g instanceof n&&(d=g.H(_,null,null,{resources:a,index:f},void 0))}a[f]=d}for(var m=new Array(a.length),f=0;f<m.length;++f)m[f]=n.resolve(a[f]).reflect();var k=n.all(m).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return h.e=i.error(),h;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}b.Nt(),u=v(u);var r=c?u.apply(void 0,t):u(t),e=b.Ot();return o.checkForgottenReturns(r,e,"Promise.using",b),r}),b=k.lastly(function(){var t=new n.PromiseInspection(k);return w(a,t)});return a.promise=b,b.J(a),b},n.prototype.zi=function(t){this.j=131072|this.j,this.Yi=t},n.prototype.ji=function(){return(131072&this.j)>0},n.prototype.Wi=function(){return this.Yi},n.prototype.Gi=function(){this.j=-131073&this.j,this.Yi=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new g(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var u,o=n("./es5"),c=void 0===s,a={e:{}},f=void 0!==t?t:void 0!==e?e:void 0!==k?k:void 0!==this?this:null;function h(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var y=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var c=u[s];if(!e[c]){e[c]=!0;var a=l.getOwnPropertyDescriptor(t,c);null!=a&&null==a.get&&null==a.set&&r.push(c)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var o=0;o<t.length;++o)if(r.call(t[o],u))continue t;e.push(u)}return e}}(),g=/this\s*\.\s*\S+\s*=/,_=/^[a-z$_][a-z$_0-9]*$/i;function p(t){try{return t+""}catch(t){return"[no string representation]"}}function m(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function b(t){return m(t)&&o.propertyIsWritable(t,"stack")}var T="stack"in new v?function(t){return b(t)?t:new v(p(t))}:function(t){if(b(t))return t;try{throw new v(p(t))}catch(t){return t}};function E(t){return{}.toString.call(t)}var S=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};S=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,A="undefined"!=typeof process&&"[object process]"===E(process).toLowerCase(),C="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=g.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return _.test(t)},inheritedDataKeys:y,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:S,notEnumerableProp:w,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:m,canEvaluate:c,errorObj:a,tryCatch:function(t){return u=t,h},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(p(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:p,canAttachTrace:b,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof v.in.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:E,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:A,hasEnvVariables:C,env:function(t){return C?process.env[t]:void 0},global:f,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),D.isNode&&D.toFastProperties(process);try{throw new v}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var D,N,O={Ki:function(){function t(){this.Ji=[]}var n=t.prototype;return n.Qi=function(){},n.Zi=function(t){return{tr:function(){return C.resolve()},nr:function(){}}},n.ir=function(t){throw new v("Not implemented")},n.rr=function(t){return C.resolve()},n.er=function(t){return C.resolve()},n.ur=function(t){},n.sr=function(){},t}(),cr:function(){function t(){}var n=t.prototype;return n.ar=function(){return C.resolve("all")},n.hr=function(){},n.sr=function(){},t}(),dr:{wr:function(t){getActiveDocument().addEventListener("unload",t)},yr:function(t){getActiveDocument().removeEventListener("unload",t)}},gr:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function x(t){N=t}Element.prototype.style={},T=(D=O).Ki,E=D.cr,S=D.dr,R=D.gr,I=R&&R.location,A=R&&R.navigator;var P,L=function(){},F=function(t){return t};(P=C)&&P.config({warnings:!1,longStackTraces:!1});var M,B,U,V,q,H;P&&(V=P.setScheduler(L),M=V,q={_r:function(t){B=t,M(U)},pr:U=function(){var t=B;t&&(B=void 0,t())}},P.setScheduler(q._r));function j(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function W(t,n,i){return n&&j(t.prototype,n),i&&j(t,i),t}function z(t,n){return(z=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function $(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,z(t,n)}!function(t){t.mr="web",t.kr="android",t.br="android-tv",t.Tr="ios",t.Er="tvos",t.Sr="chromecast"}(H||(H={}));var X=s?s.userAgent:"",G=X.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Y=X.match(/Android ([0-9\.]+)/i),K=X.match(/Windows NT ([0-9\.]+)/i),J=X.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Q=X.match(/Firefox\/([0-9\.]+)/i),Z=X.match(/OPR\/(\d+\.\d+)/i),tt=X.match(/Tizen ([0-9\.]+)/i),nt=function(){function n(){this.Rr=Boolean("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.Ir=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(X)||/(macintosh|mac(?=_powerpc)\s)/i.test(X),this.Ar=/Windows NT/i.test(X),this.Cr=K?g(K[1]):0,this.Dr=/Android/i.test(X),this.Nr=Y?g(Y[1]):0,this.Or=/windows phone (8|8\.1)/i.test(X),this.xr=/iPhone/i.test(X),this.Pr=/iPad/i.test(X),this.Lr=this.Ir&&this.Rr&&!this.Pr,this.Fr=/iPod/i.test(X),this.Mr=/Mobile Safari/i.test(X),this.Br=/EOSSTB/i.test(X),this.Ur=(this.xr||this.Pr||this.Lr||this.Fr)&&!this.Or,this.Vr=this.Or||this.Ur||this.Dr||this.Mr,this.qr=/CriOS/i.test(X),this.Hr=Boolean(t.chrome&&/google/i.test(s.vendor))||this.qr,this.jr=this.Hr&&/Edg\//i.test(s.userAgent),this.Wr=Boolean(t.chrome||/Chrome/i.test(X)||/CriOS/i.test(X)),this.zr=G?y(G[1],10):0,this.$r=/SMART-TV.*Tizen/i.test(X),this.Xr=tt?g(tt[1]):0,this.Gr=/webos|web0s/i.test(X),this.Yr=/Edge\/\d+/i.test(X),this.Kr=/Trident/i.test(X),this.Jr=this.Kr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Qr=/Vivaldi/i.test(X),this.Zr=/Firefox/i.test(X)&&!/Seamonkey/i.test(X),this.te=Q?g(Q[1]):0,this.ie=/Safari/i.test(X)&&!/Chrome/i.test(X)&&!this.Or&&!this.$r,this.re=J?g(J[2]):0,this.ee=Boolean(Z),this.ue=Z?g(Z[1]):0,this.oe=/CrKey/.test(X),this.se=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(X),this.ce="tvos"===H.br,this.ae="tvos"===H.kr,this.fe=this.ae||this.ce,this.he="tvos"===H.Tr,this.ve="tvos"===H.Er,this.de="tvos"===H.Sr}return W(n,[{key:"we",get:function(){return this.Rr}},{key:"ye",get:function(){return this.Ir}},{key:"_e",get:function(){return this.Ar}},{key:"pe",get:function(){return this.Cr}},{key:"me",get:function(){return this.Dr}},{key:"ke",get:function(){return this.Nr}},{key:"be",get:function(){return this.Or}},{key:"Te",get:function(){return this.xr}},{key:"Ee",get:function(){return this.Pr}},{key:"Se",get:function(){return this.Lr}},{key:"Re",get:function(){return this.Fr}},{key:"Ie",get:function(){return this.Ur}},{key:"Ae",get:function(){return this.Br}},{key:"Ce",get:function(){return this.Mr}},{key:"De",get:function(){return this.Vr}},{key:"Ne",get:function(){return this.qr}},{key:"Oe",get:function(){return this.Hr}},{key:"xe",get:function(){return this.zr}},{key:"Pe",get:function(){return this.jr}},{key:"Le",get:function(){return this.$r}},{key:"Fe",get:function(){return this.Xr}},{key:"Me",get:function(){return this.Gr}},{key:"Be",get:function(){return this.Yr}},{key:"Ue",get:function(){return this.Kr}},{key:"Ve",get:function(){return this.Jr}},{key:"qe",get:function(){return this.Qr}},{key:"He",get:function(){return this.Zr}},{key:"je",get:function(){return this.te}},{key:"We",get:function(){return this.ie}},{key:"ze",get:function(){return this.re}},{key:"$e",get:function(){return this.ee}},{key:"Xe",get:function(){return this.ue}},{key:"Ge",get:function(){return this.oe}},{key:"Ye",get:function(){return this.se}},{key:"Ke",get:function(){if(!(this.Me||this.Le))return!1;var t=this.xe;return void 0===t||Number(t)<56}},{key:"Je",get:function(){return this.ce}},{key:"Qe",get:function(){return this.ae}},{key:"Ze",get:function(){return this.fe}},{key:"tu",get:function(){return this.he}},{key:"nu",get:function(){return this.ve}},{key:"iu",get:function(){return this.de}},{key:"ru",get:function(){return this.Wr}}]),n}();nt.eu=new nt;var it=nt.eu,rt={}.hasOwnProperty,et={}.toString;function ut(t){return null!=t}var ot=Array.isArray||function(t){return"[object Array]"===et.call(t)};function st(t){return ct(t)&&rt.call(t,"length")&&dt(t.length)}function ct(t){return"object"==typeof t&&null!==t}function at(t){return ct(t)&&t.constructor&&t.constructor===l}function ft(t){return"string"==typeof t}function ht(t){return"boolean"==typeof t}function vt(t){return Boolean(t)&&"function"==typeof t.then}function dt(t){return"number"==typeof t}var lt=!(it.Ue&&!it.Ve),wt=t.console;function yt(t){if(ct(t))try{return JSON.stringify(t)}catch(t){}return t}function gt(t){return t.map(yt).join(" ")}function _t(t){var n=wt&&wt[t];return n?n.bind&&lt?n.bind(wt):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];wt[t](gt(i))}:void 0}var pt,mt=_t("log")||L,kt=_t("warn")||mt.bind(void 0,"WARNING:"),bt=_t("error")||mt.bind(void 0,"ERROR:"),Tt=(pt=wt&&wt.assert)?pt.bind&&lt?pt.bind(wt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];wt.assert(t,gt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];bt.apply(void 0,["Assertion failed:"].concat(i))}},Et=Rt,St=null;try{St=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Rt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function It(t){return!0===(t&&t.uu)}Rt.prototype.uu,l.defineProperty(Rt.prototype,"uu",{value:!0}),Rt.isLong=It;var At={},Ct={};function Dt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=Ct[t])?r:(i=Ot(t,(0|t)<0?-1:0,!0),e&&(Ct[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=At[t])?r:(i=Ot(t,t<0?-1:0,!1),e&&(At[t]=i),i)}function Nt(t,n){if(_(t))return n?qt:Vt;if(n){if(t<0)return qt;if(t>=Mt)return $t}else{if(t<=-Bt)return Xt;if(t+1>=Bt)return zt}return t<0?Nt(-t,n).neg():Ot(t%Ft|0,t/Ft|0,n)}function Ot(t,n,i){return new Rt(t,n,i)}Rt.fromInt=Dt,Rt.fromNumber=Nt,Rt.fromBits=Ot;var xt=w.pow;function Pt(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Vt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return Pt(t.substring(1),n,i).neg();for(var e=Nt(xt(i,8)),u=Vt,o=0;o<t.length;o+=8){var s=w.min(8,t.length-o),c=y(t.substring(o,o+s),i);if(s<8){var a=Nt(xt(i,s));u=u.mul(a).add(Nt(c))}else u=(u=u.mul(e)).add(Nt(c))}return u.unsigned=n,u}function Lt(t,n){return"number"==typeof t?Nt(t,n):"string"==typeof t?Pt(t,n):Ot(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Rt.fromString=Pt,Rt.fromValue=Lt;var Ft=4294967296,Mt=Ft*Ft,Bt=Mt/2,Ut=Dt(1<<24),Vt=Dt(0);Rt.ZERO=Vt;var qt=Dt(0,!0);Rt.UZERO=qt;var Ht=Dt(1);Rt.ONE=Ht;var jt=Dt(1,!0);Rt.UONE=jt;var Wt=Dt(-1);Rt.NEG_ONE=Wt;var zt=Ot(-1,2147483647,!1);Rt.MAX_VALUE=zt;var $t=Ot(-1,-1,!0);Rt.MAX_UNSIGNED_VALUE=$t;var Xt=Ot(0,-2147483648,!1);Rt.MIN_VALUE=Xt;var Gt=Rt.prototype;Gt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Gt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ft+(this.low>>>0):this.high*Ft+(this.low>>>0)},Gt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xt)){var n=Nt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Nt(xt(t,6),this.unsigned),u=this,o="";;){var s=u.div(e),c=(u.sub(s.mul(e)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Gt.getHighBits=function(){return this.high},Gt.getHighBitsUnsigned=function(){return this.high>>>0},Gt.getLowBits=function(){return this.low},Gt.getLowBitsUnsigned=function(){return this.low>>>0},Gt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Gt.isZero=function(){return 0===this.high&&0===this.low},Gt.eqz=Gt.isZero,Gt.isNegative=function(){return!this.unsigned&&this.high<0},Gt.isPositive=function(){return this.unsigned||this.high>=0},Gt.isOdd=function(){return 1==(1&this.low)},Gt.isEven=function(){return 0==(1&this.low)},Gt.equals=function(t){return It(t)||(t=Lt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Gt.eq=Gt.equals,Gt.notEquals=function(t){return!this.eq(t)},Gt.neq=Gt.notEquals,Gt.ne=Gt.notEquals,Gt.lessThan=function(t){return this.comp(t)<0},Gt.lt=Gt.lessThan,Gt.lessThanOrEqual=function(t){return this.comp(t)<=0},Gt.lte=Gt.lessThanOrEqual,Gt.le=Gt.lessThanOrEqual,Gt.greaterThan=function(t){return this.comp(t)>0},Gt.gt=Gt.greaterThan,Gt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Gt.gte=Gt.greaterThanOrEqual,Gt.ge=Gt.greaterThanOrEqual,Gt.compare=function(t){if(It(t)||(t=Lt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Gt.comp=Gt.compare,Gt.negate=function(){return!this.unsigned&&this.eq(Xt)?Xt:this.not().add(Ht)},Gt.neg=Gt.negate,Gt.add=function(t){It(t)||(t=Lt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,a=0,f=0,h=0;return f+=(h+=e+(65535&t.low))>>>16,a+=(f+=r+s)>>>16,c+=(a+=i+o)>>>16,c+=n+u,Ot((f&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Gt.subtract=function(t){return It(t)||(t=Lt(t)),this.add(t.neg())},Gt.sub=Gt.subtract,Gt.multiply=function(t){if(this.isZero())return Vt;if(It(t)||(t=Lt(t)),St)return Ot(St.mul(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned);if(t.isZero())return Vt;if(this.eq(Xt))return t.isOdd()?Xt:Vt;if(t.eq(Xt))return this.isOdd()?Xt:Vt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ut)&&t.lt(Ut))return Nt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,a=0,f=0,h=0,v=0;return h+=(v+=e*c)>>>16,f+=(h+=r*c)>>>16,h&=65535,f+=(h+=e*s)>>>16,a+=(f+=i*c)>>>16,f&=65535,a+=(f+=r*s)>>>16,f&=65535,a+=(f+=e*o)>>>16,a+=n*c+i*s+r*o+e*u,Ot((h&=65535)<<16|(v&=65535),(a&=65535)<<16|(f&=65535),this.unsigned)},Gt.mul=Gt.multiply,Gt.divide=function(t){if(It(t)||(t=Lt(t)),t.isZero())throw v("division by zero");var n,i,r;if(St)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Ot((this.unsigned?St.div_u:St.div_s)(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?qt:Vt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return qt;if(t.gt(this.shru(1)))return jt;r=qt}else{if(this.eq(Xt))return t.eq(Ht)||t.eq(Wt)?Xt:t.eq(Xt)?Ht:(n=this.shr(1).div(t).shl(1)).eq(Vt)?t.isNegative()?Ht:Wt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Xt))return this.unsigned?qt:Vt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Vt}for(i=this;i.gte(t);){n=w.max(1,w.floor(i.toNumber()/t.toNumber()));for(var e=w.ceil(w.log(n)/w.LN2),u=e<=48?1:xt(2,e-48),o=Nt(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=Nt(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Ht),r=r.add(o),i=i.sub(s)}return r},Gt.div=Gt.divide,Gt.modulo=function(t){return It(t)||(t=Lt(t)),St?Ot((this.unsigned?St.rem_u:St.rem_s)(this.low,this.high,t.low,t.high),St.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Gt.mod=Gt.modulo,Gt.rem=Gt.modulo,Gt.not=function(){return Ot(~this.low,~this.high,this.unsigned)},Gt.and=function(t){return It(t)||(t=Lt(t)),Ot(this.low&t.low,this.high&t.high,this.unsigned)},Gt.or=function(t){return It(t)||(t=Lt(t)),Ot(this.low|t.low,this.high|t.high,this.unsigned)},Gt.xor=function(t){return It(t)||(t=Lt(t)),Ot(this.low^t.low,this.high^t.high,this.unsigned)},Gt.shiftLeft=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Ot(0,this.low<<t-32,this.unsigned)},Gt.shl=Gt.shiftLeft,Gt.shiftRight=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Ot(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Gt.shr=Gt.shiftRight,Gt.shiftRightUnsigned=function(t){if(It(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Ot(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Ot(32===t?n:n>>>t-32,0,this.unsigned)},Gt.shru=Gt.shiftRightUnsigned,Gt.shr_u=Gt.shiftRightUnsigned,Gt.toSigned=function(){return this.unsigned?Ot(this.low,this.high,!1):this},Gt.toUnsigned=function(){return this.unsigned?this:Ot(this.low,this.high,!0)},Gt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Gt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Gt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Rt.fromBytes=function(t,n,i){return i?Rt.fromBytesLE(t,n):Rt.fromBytesBE(t,n)},Rt.fromBytesLE=function(t,n){return new Rt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Rt.fromBytesBE=function(t,n){return new Rt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Yt=Et,Kt=w.pow(2,-52);function Jt(t,n,i){return w.min(w.max(t,n),i)}function Qt(t,n,i){return t===n||w.abs(t-n)<=i}function Zt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function tn(){return Date.now()||(new Date).getTime()}function nn(t){return t/1e3}var rn;Yt.fromNumber(9007199254740991);function en(t){return t.ou===rn.su}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.su=1]="su",t[t.cu=2]="cu",t[t.au=3]="au",t[t.fu=4]="fu",t[t.hu=9]="hu"}(rn||(rn={}));var on=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(on.prototype=l.create(v.prototype)).constructor=on;var sn=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(un(r),r.constructor),r}return $(n,t),W(n,[{key:"name",get:function(){return"BaseError"}}]),n}(on),cn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return $(n,t),n}(sn),an=function(){function t(){}return t.prototype.vu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new yn(n)},t}(),fn=function(){function t(t){this.du=void 0,this.du=t}var n=t.prototype;return n.lu=function(t){return this.du.isEqualNode(t.du)},n.wu=function(n){return new t(this.du.cloneNode(n))},W(t,[{key:"ou",get:function(){return rn.cu}},{key:"yu",get:function(){var t;return null!=(t=this.du.localName)?t:pn(this.du.nodeName)}},{key:"gu",get:function(){return this.du.nodeName}},{key:"_u",get:function(){var t;return null!=(t=this.du.namespaceURI)?t:void 0}},{key:"pu",get:function(){var t;return null!=(t=this.du.prefix)?t:void 0}},{key:"mu",get:function(){return this.du.nodeValue}}]),t}(),hn=function(){function t(t){this.ku=void 0,this.bu=void 0,this.ku=t}var n=t.prototype;return n.Tu=function(t){return this.Eu.filter(function(n){return gn(n)&&n.Su===t})},n.Ru=function(t,n){return this.Eu.filter(function(i){return gn(i)&&i.yu===n&&i._u===t})},n.Iu=function(t){this.ku.appendChild(t.Au),this.bu&&this.bu.push(t)},n.lu=function(t){return this.ku.isEqualNode(t.Au)},W(t,[{key:"Eu",get:function(){return void 0===this.bu&&(this.bu=function(t){for(var n=[],i=0;i<t.length;i++){var r=_n(t.item(i));r&&n.push(r)}return n}(this.ku.childNodes)),this.bu}},{key:"Cu",get:function(){return this.Eu.filter(gn)}},{key:"Au",get:function(){return this.ku}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.Du=function(t){if(this.ku.hasAttribute(t))return this.ku.getAttribute(t)},i.Nu=function(t,n){if(this.ku.hasAttributeNS(t,n))return this.ku.getAttributeNS(t,n)},i.Ou=function(t){this.ku.removeAttribute(t)},i.xu=function(t,n){this.ku.removeAttributeNS(t,n)},i.Pu=function(t,n){this.ku.setAttribute(t,n)},i.Lu=function(t,n,i){this.ku.setAttributeNS(t,n,i)},i.wu=function(t){return new n(this.ku.cloneNode(t))},W(n,[{key:"ou",get:function(){return rn.su}},{key:"yu",get:function(){var t;return null!=(t=this.ku.localName)?t:pn(this.ku.nodeName)}},{key:"_u",get:function(){var t;return null!=(t=this.ku.namespaceURI)?t:void 0}},{key:"pu",get:function(){var t;return null!=(t=this.ku.prefix)?t:void 0}},{key:"Su",get:function(){return this.ku.nodeName}},{key:"Fu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new fn(t.item(i)));return n}(this.ku.attributes)}},{key:"Mu",get:function(){return this.ku.textContent}}]),n}(hn),dn=function(){function t(t){this.ku=void 0,this.ku=t}return t.prototype.lu=function(t){return this.Bu===t.Bu},W(t,[{key:"Bu",get:function(){return this.ku.nodeValue}},{key:"Au",get:function(){return this.ku}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.wu=function(t){return new n(this.ku.cloneNode(t))},W(n,[{key:"ou",get:function(){return rn.au}}]),n}(dn),wn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.wu=function(t){return new n(this.ku.cloneNode(t))},W(n,[{key:"ou",get:function(){return rn.fu}}]),n}(dn),yn=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n.prototype.wu=function(t){return new n(this.ku.cloneNode(t))},W(n,[{key:"ou",get:function(){return rn.hu}},{key:"Uu",get:function(){return new vn(this.ku.documentElement)}}]),n}(hn);function gn(t){return en(t)}function _n(t){switch(t.nodeType){case rn.su:return new vn(t);case rn.au:return new ln(t);case rn.fu:return new wn(t)}}function pn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function mn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function kn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){bn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&bn(i,null,t.length,t),t}function bn(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(e=0;e<a;e+=h)for(o=(u=e+i)+i,u>a&&(u=a),o>a&&(o=a),s=e,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<u)r[f++]=t[s++];else{if(!(c<o))break;r[f++]=t[c++]}}var Tn=/[a-zA-Z]/,En=/[0-9]/,Sn=/[0-9a-fA-F]/,Rn=/^0x/i,In=/^[0-9]+$/,An=/^[0-9a-fA-F]+$/,Cn=/^[0-7]+$/,Dn=l.prototype.toString,Nn=Array.isArray||function(t){return"[object Array]"===Dn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function xn(t){return Nn(t)?t:Array.from(t)}function Pn(t){return t>=65&&t<=90}function Ln(t){return Pn(t)||function(t){return t>=97&&t<=122}(t)}function Fn(t){return t>=48&&t<=57}function Mn(t){return Fn(t)||Ln(t)}function Bn(t){return Fn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return Pn(t)?t+32:t}function Vn(t){return Fn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function qn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Hn=w.min,jn=String.fromCharCode,Wn=16384;function zn(t){for(var n=t.length,i=[],r=0;r<n;r+=Wn){var e=Hn(r+Wn,n);i.push(jn.apply(null,t.slice(r,e)))}return i.join("")}var $n=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=w.floor,Kn=String.fromCharCode;function Jn(t){throw new RangeError(Gn[t])}function Qn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Zn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ri=function(t,n,i){var r=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;r+=36)t=Yn(t/35);return Yn(r+36*t/(t+38))},ei=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return r+e}(t,function(t){return $n.test(t)?"xn--"+function(t){for(var n=[],i=(t=Qn(t)).length,r=128,e=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Kn(c))}var a=n.length,f=a;for(a&&n.push("-");f<i;){for(var h=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<h&&(h=l)}var w=f+1;h-r>Yn((2147483647-e)/w)&&Jn("overflow"),e+=(h-r)*w,r=h;for(var y=0,g=t;y<g.length;y++){var _=g[y];if(_<r&&++e>2147483647&&Jn("overflow"),_==r){for(var p=e,m=36;;m+=36){var k=m<=u?1:m>=u+26?26:m-u;if(p<k)break;var b=p-k,T=36-k;n.push(Kn(ii(k+b%T,0))),p=Yn(b/T)}n.push(Kn(ii(p,0))),u=ri(e,w,f==a),e=0,++f}}++e,++r}return n.join("")}(t):t})};function ui(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return zn(n)}function oi(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function si(t,n){return t>>n&63|128}function ci(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(oi(t),n.push(t>>12&15|224),n.push(si(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(si(t,12)),n.push(si(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){ci(t[i],n)}return n}function fi(){if(ni>=ti)throw new v("Invalid byte index");var t=255&Zn[ni];if(ni++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function hi(){var t,n;if(ni>ti)throw new v("Invalid byte index");if(ni===ti)return!1;if(t=255&Zn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|fi())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|fi()<<6|fi())>=2048)return oi(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|fi()<<12|fi()<<6|fi())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function vi(t){return[37,qn(t>>4),qn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function wi(t){return li(t)||35===t||63===t||123===t||125===t}function yi(t){return wi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function gi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function _i(t){return gi(t)||39===t}function pi(t,n){if(!n(t))return[t];for(var i=ai([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,vi(u))}return r}function mi(t,n){for(var i=[],r=0,e=Qn(t);r<e.length;r++){var u=e[r];i.push.apply(i,pi(u,n))}return ui(i)}function ki(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Bn(t[r+1])&&Bn(t[r+2])){var u=Vn(t[r+1])<<4|Vn(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(ai(t))}function bi(t){return ui(function(t){Zn=t.slice(),ti=Zn.length,ni=0;for(var n,i=[];!1!==(n=hi());)i.push(n);return i}(ki(Qn(t))))}function Ti(t){var n,i,r,e,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,a=0;if(a<u&&":"===t[a]){if(!(a+1<u&&":"===t[a+1]))throw new d;a+=2,c=s+=1}for(;a<u;){if(8===s)throw new d("Too many groups");if(":"!==t[a]){for(var f=0,h=0;h<4&&a<u&&Sn.test(t[a]);)f=f<<4|y(t[a],16),a+=1,h+=1;if("."===t[a]){if(0===h)throw new d;if(a-=h,s>6)throw new d;for(var v=0;a<u;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!En.test(t[a]))throw new d;for(;a<u&&En.test(t[a]);){var w=y(t[a],10);if(null===l)l=w;else{if(0===l)throw new d;if((l=10*l+w)>255)throw new d}a+=1}o[s]=o[s]<<8|l,2!==(v+=1)&&4!==v||(s+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===u)throw new d}else if(a<u)throw new d;o[s]=f,s+=1}else{if(null!==c)throw new d("Too many :: groups");a+=1,c=s+=1}}if(null!==c){var g=s-c;for(s=7;0!==s&&g>0;)r=c+g-1,e=void 0,e=(n=o)[i=s],n[i]=n[r],n[r]=e,s-=1,g-=1}else if(8!==s)throw new d;return o}function Ei(t){var n=10,i=In;return Rn.test(t)?(t=t.slice(2),n=16,i=An):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Cn),""===t?0:i.test(t)?y(t,n):void 0}var Si={Vu:4},Ri=/[\0\t\n\r #%/:?@\[\\\]]/,Ii=/[\0\t\n\r #/:?@\[\\\]]/;function Ai(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{Vu:2,qu:Ti(t.slice(1,-1))}}if(!n)return function(t){if(Ii.test(t))throw new d("Invalid code point in opaque host");var n=mi(t,di);return""===n?Si:{Vu:3,$i:n}}(t);var i=function(t){return function(t){return ei(t.toLowerCase())}(t)}(bi(t));if(Ri.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ei(e);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new d;if(i[i.length-1]>=w.pow(256,5-i.length))throw new d;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*w.pow(256,3-c);return s}}(i);return void 0!==r?{Vu:1,qu:r}:""===i?Si:{Vu:0,Hu:i}}function Ci(t){switch(t.Vu){case 0:return t.Hu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.qu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.qu)+"]";case 3:return t.$i;case 4:return""}}var Di=/\+/g;function Ni(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),o=void 0,s=void 0;-1!==u?(o=e.slice(0,u),s=e.slice(u+1)):(o=e,s=""),o=o.replace(Di," "),s=s.replace(Di," ");var c=bi(o),a=bi(s);i.push([c,a])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=xi(ai(Qn(r[0])))+"="+xi(ai(Qn(r[1])))}return n}function xi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Mn(n)?i.push(e):i.push.apply(i,vi(e))}return zn(i)}var Pi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Li(t){var n=""+t,i=Pi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Mi(u))if(Bi(u)||e===i-1)r.push(Fi);else{var o=t.charCodeAt(e+1);Bi(o)?(r.push(u,o),e++):r.push(Fi)}else r.push(u)}return t.slice(0,n)+zn(r)}(n,i.index):n}var Fi=65533,Mi=function(t){return 55296==(63488&t)},Bi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Vi(t){t.ju.length=0}function qi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.ju,Ni(n))}function Hi(t){if(t.Wu){var n=Oi(t.ju);""===n&&(n=null),t.Wu.Wu.zu=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.Wu=null,null==t)this.ju=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof ji&&Nn(u.ju)&&(!On||u[Symbol.iterator]===Wi))this.ju=t.ju.slice();else if(function(t){return null!=t&&(!!Nn(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.ju=[];for(var n=0,i=xn(t);n<i.length;n++){var r=xn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.ju.push([Li(r[0]),Li(r[1])])}}else for(var e in this.ju=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.ju.push([Li(e),Li(t[e])]);else(t=Li(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.ju=Ni(t);var u}var n=t.prototype;return n.append=function(t,n){t=Li(t),n=Li(n),this.ju.push([t,n]),Hi(this)},n.delete=function(t){t=Li(t);for(var n=this.ju,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Hi(this)},n.get=function(t){t=Li(t);for(var n=this.ju,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Li(t);for(var n=this.ju,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Li(t);for(var n=this.ju,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Li(t),n=Li(n);for(var i=this.ju,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Hi(this)},n.sort=function(){kn(this.ju,Ui),Hi(this)},n.toString=function(){return Oi(this.ju)},n.entries=function(){return new Gi(this.ju,zi)},n.keys=function(){return new Gi(this.ju,$i)},n.values=function(){return new Gi(this.ju,Xi)},n.forEach=function(t){var n=this;this.ju.forEach(function(i){return t(i[1],i[0],n)})},t}(),Wi=ji.prototype.entries;On&&(ji.prototype[Symbol.iterator]=Wi);var zi=function(t){return[t[0],t[1]]},$i=function(t){return t[0]},Xi=function(t){return t[1]},Gi=function(){function t(t,n){this.$u=0,this.ju=t,this.Xu=n}return t.prototype.next=function(){return this.$u<this.ju.length?{done:!1,value:this.Xu(this.ju[this.$u++])}:{done:!0,value:void 0}},t}(),Yi="null";var Ki=l.create(null);Ki.ftp=21,Ki.file=0,Ki.gopher=70,Ki.http=80,Ki.https=443,Ki.ws=80,Ki.wss=443;var Ji=/^(?:\.|%2e)$/i,Qi=/^(?:\.|%2e){2}$/i;function Zi(t){return Ji.test(t)}function tr(t){return Qi.test(t)}function nr(t){return void 0!==Ki[t]}function ir(t){return nr(t.Gu)}function rr(t){return""!==t.Yu||""!==t.Ku}function er(t){var n=t.length;if(!(n>=2))return!1;if(!or(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ur(t){return 2===t.length&&Tn.test(t[0])&&(":"===t[1]||"|"===t[1])}function or(t){return 2===t.length&&ur(zn(t))}function sr(t){return ur(t)&&":"===t[1]}function cr(t){var n=t.Ju;0!==n.length&&("file"===t.Gu&&1===n.length&&sr(n[0])||n.pop())}function ar(t){return null===t.Qu||Si===t.Qu||t.Zu||"file"===t.Gu}var fr=-1,hr=/\t|\n|\r/g,vr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function dr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new wr,t=t.replace(vr,""));var e=null!==r?r:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,a=Qn(t=t.replace(hr,"")),f=a.length,h=0;h<=f;){var v=h<f?a[h]:fr;switch(e){case 0:if(!Ln(v)){if(null===r){u.length=0,e=2;continue}throw new d("Invalid scheme")}u.push(Un(v)),e=1;break;case 1:if(Mn(v)||43===v||45===v||46===v)u.push(Un(v));else{if(58!==v){if(null===r){u.length=0,e=2,h=0;continue}throw new d("Invalid scheme")}var l=ui(u);if(null!==r){if(nr(i.Gu)&&!nr(l))return;if(!nr(i.Gu)&&nr(l))return;if((rr(i)||null!==i.to)&&"file"===l)return;if("file"===i.Gu&&(i.Qu===Si||null===i.Qu))return}if(i.Gu=l,null!==r)return void(ir(i)&&i.to===Ki[i.Gu]&&(i.to=null));u.length=0,"file"===i.Gu?e=13:ir(i)&&n&&n.Gu===i.Gu?e=3:ir(i)?e=7:47===a[h+1]?(e=4,h+=1):(i.Zu=!0,i.Ju.push(""),e=18)}break;case 2:if(!n||n.Zu&&35!==v)throw new d("Invalid scheme");n.Zu&&35===v?(i.Gu=n.Gu,i.Ju=n.Ju.slice(),i.zu=n.zu,i.io="",i.Zu=!0,e=20):"file"!==n.Gu?(e=5,h-=1):(e=13,h-=1);break;case 3:47===v&&47===a[h+1]?e=8:(e=5,h-=1);break;case 4:47===v?e=9:(e=17,h-=1);break;case 5:i.Gu=n.Gu,fr===v?(i.Yu=n.Yu,i.Ku=n.Ku,i.Qu=n.Qu,i.to=n.to,i.Ju=n.Ju.slice(),i.zu=n.zu):47===v?e=6:63===v?(i.Yu=n.Yu,i.Ku=n.Ku,i.Qu=n.Qu,i.to=n.to,i.Ju=n.Ju.slice(),i.zu="",e=19):35===v?(i.Yu=n.Yu,i.Ku=n.Ku,i.Qu=n.Qu,i.to=n.to,i.Ju=n.Ju.slice(),i.zu=n.zu,i.io="",e=20):92===v&&ir(i)?e=6:(i.Yu=n.Yu,i.Ku=n.Ku,i.Qu=n.Qu,i.to=n.to,i.Ju=n.Ju.slice(),i.Ju.pop(),e=17,h-=1);break;case 6:!ir(i)||47!==v&&92!==v?47===v?e=9:(i.Yu=n.Yu,i.Ku=n.Ku,i.Qu=n.Qu,i.to=n.to,e=17,h-=1):e=8;break;case 7:if(47!==v||47!==a[h+1]){e=8;continue}e=8,h+=1;break;case 8:47!==v&&92!==v&&(e=9,h-=1);break;case 9:if(64===v){o&&u.unshift(37,52,48),o=!0;for(var w=0;w<u.length;w++){var g=u[w];if(58!==g||c){var _=ui(pi(g,yi));c?i.Ku+=_:i.Yu+=_}else c=!0}u.length=0}else if(fr===v||47===v||63===v||35===v||ir(i)&&92===v){if(o&&0===u.length)throw new d("Invalid host");h-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Gu)h-=1,e=15;else if(58!==v||s)if(fr===v||47===v||63===v||35===v||ir(i)&&92===v){if(h-=1,ir(i)&&0===u.length)throw new d("Invalid host");if(null!==r&&0===u.length&&(rr(i)||null!==i.to))return;var p=Ai(ui(u),ir(i));if(i.Qu=p,u.length=0,e=16,null!==r)return}else 91===v?s=!0:93===v&&(s=!1),u.push(v);else{if(0===u.length)throw new d("Invalid host");var m=Ai(ui(u),ir(i));if(i.Qu=m,u.length=0,e=12,11===r)return}break;case 12:if(Fn(v))u.push(v);else{if(!(fr===v||47===v||63===v||35===v||ir(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==u.length){var k=y(ui(u),10);if(k>65535)throw new d("Invalid port");i.to=k===Ki[i.Gu]?null:k,u.length=0}if(null!==r)return;e=16,h-=1}break;case 13:i.Gu="file",47===v||92===v?e=14:n&&"file"===n.Gu?fr===v?(i.Qu=n.Qu,i.Ju=n.Ju.slice(),i.zu=n.zu):63===v?(i.Qu=n.Qu,i.Ju=n.Ju.slice(),i.zu="",e=19):35===v?(i.Qu=n.Qu,i.Ju=n.Ju.slice(),i.zu=n.zu,i.io="",e=20):(er(a.slice(h))||(i.Qu=n.Qu,i.Ju=n.Ju.slice(),cr(i)),e=17,h-=1):(e=17,h-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Gu&&!er(a.slice(h))&&(sr(n.Ju[0])?i.Ju.push(n.Ju[0]):i.Qu=n.Qu),e=17,h-=1);break;case 15:if(fr===v||47===v||92===v||63===v||35===v)if(h-=1,null===r&&or(u))e=17;else if(0===u.length){if(i.Qu=Si,null!==r)return;e=16}else{var b=Ai(ui(u),ir(i));if(0===b.Vu&&"localhost"===b.Hu&&(b=Si),i.Qu=b,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:ir(i)?(e=17,47!==v&&92!==v&&(h-=1)):null===r&&63===v?(i.zu="",e=19):null===r&&35===v?(i.io="",e=20):fr!==v&&(e=17,47!==v&&(h-=1));break;case 17:if(fr===v||47===v||ir(i)&&92===v||null===r&&(63===v||35===v)){var T=ui(u);if(tr(T)?(cr(i),47===v||ir(i)&&92===v||i.Ju.push("")):!Zi(T)||47===v||ir(i)&&92===v?Zi(T)||("file"===i.Gu&&0===i.Ju.length&&or(u)&&(Si!==i.Qu&&null!==i.Qu&&(i.Qu=Si),u[1]=58,T=ui(u)),i.Ju.push(T)):i.Ju.push(""),u.length=0,"file"===i.Gu&&(fr===v||63===v||35===v))for(;i.Ju.length>1&&""===i.Ju[0];)i.Ju.shift();63===v?(i.zu="",e=19):35===v&&(i.io="",e=20)}else u.push.apply(u,pi(v,wi));break;case 18:63===v?(i.zu="",e=19):35===v?(i.io="",e=20):fr!==v&&(i.Ju[0]+=ui(pi(v,di)));break;case 19:null===r&&35===v?(i.io="",e=20):fr!==v&&(i.zu+=ui(pi(v,ir(i)?_i:gi)));break;case 20:fr===v||0===v||(i.io+=ui(pi(v,li)))}h++}return i}function lr(t,n,i,r){try{dr(t,n,i,r)}catch(t){}}var wr=function(){this.Gu="",this.Yu="",this.Ku="",this.Qu=null,this.to=null,this.Ju=[],this.zu=null,this.io=null,this.Zu=!1};function yr(t){switch(t.Gu){case"blob":var n;try{n=dr(t.Ju[0],null)}catch(t){return Yi}return yr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Gu,r=t.Qu,e=t.to,i+"://"+Ci(r)+(null===e?"":":"+e);case"file":default:return Yi}var i,r,e}var gr,_r=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof _r&&"object"==typeof i.Wu)e=n.Wu;else try{e=dr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=dr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var u=r.zu;this.Wu=r,this.zu=function(t){var n=new ji;return null!==t&&qi(n,t),n}(u),this.zu.Wu=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Gu+":";if(null!==t.Qu?(i+="//",rr(t)&&(i+=t.Yu,""!==t.Ku&&(i+=":"+t.Ku),i+="@"),i+=Ci(t.Qu),null!==t.to&&(i+=":"+t.to)):null===t.Qu&&"file"===t.Gu&&(i+="//"),t.Zu)i+=t.Ju[0];else for(var r=0,e=t.Ju;r<e.length;r++)i+="/"+e[r];return null!==t.zu&&(i+="?"+t.zu),n||null===t.io||(i+="#"+t.io),i}(this.Wu)},set:function(t){var n;try{n=dr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Wu=n,Vi(this.zu);var i=this.Wu.zu;null!==i&&qi(this.zu,i)}},{key:"origin",get:function(){return yr(this.Wu)}},{key:"protocol",get:function(){return this.Wu.Gu+":"},set:function(t){lr(t+":",null,this.Wu,0)}},{key:"username",get:function(){return this.Wu.Yu},set:function(t){ar(this.Wu)||(this.Wu.Yu=mi(t,yi))}},{key:"password",get:function(){return this.Wu.Ku},set:function(t){ar(this.Wu)||(this.Wu.Ku=mi(t,yi))}},{key:"host",get:function(){var t=this.Wu,n=t.Qu;if(null===n)return"";var i=t.to,r=Ci(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Wu.Zu||lr(t,null,this.Wu,10)}},{key:"hostname",get:function(){var t=this.Wu.Qu;return null===t?"":Ci(t)},set:function(t){this.Wu.Zu||lr(t,null,this.Wu,11)}},{key:"port",get:function(){var t=this.Wu.to;return null===t?"":""+t},set:function(t){ar(this.Wu)||(""===t?this.Wu.to=null:lr(t,null,this.Wu,12))}},{key:"pathname",get:function(){var t=this.Wu.Ju;return this.Wu.Zu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Wu.Zu||(this.Wu.Ju.length=0,lr(t,null,this.Wu,16))}},{key:"search",get:function(){var t=this.Wu.zu;return null===t||""===t?"":"?"+t},set:function(t){t=Li(t);var n=this.Wu;if(""===t)return n.zu=null,void Vi(this.zu);"?"===t[0]&&(t=t.slice(1)),n.zu="",lr(t,null,n,19),qi(this.zu,t)}},{key:"searchParams",get:function(){return this.zu}},{key:"hash",get:function(){var t=this.Wu.io;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Wu.io="",lr(t,null,this.Wu,20)):this.Wu.io=null}}])&&mn(n.prototype,i),r&&mn(n,r),t}();function pr(t){return t.document&&t.document.baseURI||t.location.href||""}function mr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function kr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function br(){return void 0!==u?u.createElement("video"):void 0}function Tr(){return gr||(gr=br()),gr}var Er=!!("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Sr=Tr(),Rr=!(!Sr||!Sr.webkitShowPlaybackTargetPicker),Ir=function(){function t(){this.ro=void 0,this.eo=!1,this.we=Er,this.De=!1,this.uo=!0,this.oo=!0}var n=t.prototype;return n.so=function(){return 0},n.co=function(t,n){return!0},n.ao=function(t){return t>=1/6*2},W(t,[{key:"fo",get:function(){return void 0===this.ro&&(this.ro=this.so()),this.ro}},{key:"ho",get:function(){return e.devicePixelRatio||1}},{key:"vo",get:function(){return Rr}},{key:"do",get:function(){return!1}},{key:"lo",get:function(){return!0}},{key:"wo",get:function(){return it.ye||it.Ie}},{key:"yo",get:function(){return!0}},{key:"_o",get:function(){return!0}},{key:"po",get:function(){}},{key:"mo",get:function(){return!0}}]),t}(),Ar=function(){var t=br();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(it.Se)return!1;var t=br();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Cr=function(t){function n(n){var i;return(i=t.call(this)||this).ko=void 0,i.ko=n,i.ko&&(i.eo=i.ko.eo,i.we=i.ko.we,i.uo=Ar&&i.ko.uo),i}$(n,t);var i=n.prototype;return i.so=function(){return this.ko?this.ko.fo:t.prototype.so.call(this)},i.co=function(n,i){return this.ko?this.ko.co(n,i):t.prototype.co.call(this,n,i)},i.ao=function(n){return this.ko?this.ko.ao(n):t.prototype.ao.call(this,n)},W(n,[{key:"po",get:function(){var t;return null==(t=this.ko)?void 0:t.po}},{key:"mo",get:function(){var t,n;return null==(t=null==(n=this.ko)?void 0:n.mo)||t}}]),n}(Ir),Dr=function(t){function n(n){var i;return(i=t.call(this,n)||this).eo=!0,i.De=!0,i}return $(n,t),n}(Cr),Nr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.so=function(){return R.MediaSource?t.prototype.so.call(this):1},n}(Dr),Or=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.co=function(n,i){return!(i.bo>1920)&&t.prototype.co.call(this,n,i)},W(n,[{key:"do",get:function(){return it.Fe<3}},{key:"lo",get:function(){return it.Fe>=3}}]),n}(Cr),xr=function(t){function n(){return t.call(this)||this}return $(n,t),n}(Ir),Pr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.co=function(t,n){if(t&&t.To&&n&&n.To){var i=Lr(t.To,"mp4a.40.2")&&Lr(n.To,"mp4a.40.5"),r=Lr(t.To,"mp4a.40.5")&&Lr(n.To,"mp4a.40.2"),e=Lr(t.To,"mp4a.40.2")&&Lr(n.To,"mp4a.40.34"),u=Lr(t.To,"mp4a.40.34")&&Lr(n.To,"mp4a.40.2"),o=Lr(t.To,"mp4a.40.5")&&Lr(n.To,"mp4a.40.34"),s=Lr(t.To,"mp4a.40.34")&&Lr(n.To,"mp4a.40.5");return!(i||r||e||u||o||s)}return!0},W(n,[{key:"po",get:function(){if(it.ye)return 4096}}]),n}(xr);function Lr(t,n){return t.indexOf(n)>-1}var Fr=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ao=function(t){return t>=2},n}(xr),Mr=function(t){function n(){var n;return(n=t.call(this)||this).eo=it.ze>=11,n.uo=it.We&&!(it.Ie&&it.ze<10),n}return $(n,t),n}(xr),Br=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),W(n,[{key:"yo",get:function(){return!1}}]),n}(Cr),Ur=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),W(n,[{key:"mo",get:function(){return!it._e||it.Pe}}]),n}(xr),Vr=function(){function n(){var n;this.Eo=void 0,this.So=new an,this.Ro=new qr,this.Io=(n=function(){if(it.He)return new Pr;if(it.Be||it.Ue)return new Fr;if(it.We)return new Mr;if(it.Oe)return new Ur;return new xr}(),it.Ie?new Nr(n):it.De?new Dr(n):it.Le?new Or(n):it.Me?new Br(n):new Cr(n)),this.Ao=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Eo=function(){return t.performance.now()}:this.Eo=tn}var i=n.prototype;return i.Co=function(){mt.apply(void 0,arguments)},i.Do=function(){kt.apply(void 0,arguments)},i.No=function(){bt.apply(void 0,arguments)},i.Oo=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Tt.apply(void 0,[t].concat(i))},i.xo=function(t,n){return c(t,n)},i.Po=function(t,n){return f(t,n)},i.Lo=function(t){a(t)},i.Fo=function(t){h(t)},i.vu=function(t){return this.So.vu(t)},i.Mo=function(){return this.Bo.Mo()},i.Uo=function(){return this.Bo.Uo()},i.Vo=function(){return this.Bo.Vo()},i.qo=function(){return this.Bo.qo()},i.Ho=function(){return this.Bo.Ho()},i.jo=function(t,n){return this.Bo.jo(t,n)},i.Wo=function(t){return this.Bo.Wo(t)},i.zo=function(t,n){var i;return void 0===n&&(n=pr(R)),i="object"!=typeof n||n instanceof _r?n:n.href,new _r(t,i)},i.$o=function(n,i){if(void 0===i&&(i=pr(R)),this.Ao){var r=ft(i)?i:i.toString();return new t.URL(n,r).href}return this.zo(n,i).href},W(n,[{key:"Xo",get:function(){return this.Ro}},{key:"Go",get:function(){return this.Io}},{key:"Yo",get:function(){return{Ko:s&&s.userAgent.match(/Android /i)?"Android":"other",Jo:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"Qo",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Zo",get:function(){return"languages"in s?s.languages.slice():[s.language]}}]),n}(),qr=function(){function t(){}return W(t,[{key:"ts",get:function(){return s.oscpu}},{key:"Go",get:function(){return s.platform}},{key:"rs",get:function(){return s.vendor}},{key:"es",get:function(){return s.vendorSub}}]),t}();var Hr=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",o=e.asyncIterator||"@@asyncIterator",s=e.toStringTag||"@@toStringTag";function c(t,n,i,r){var e=n&&n.prototype instanceof p?n:p,u=l.create(e.prototype),o=new N(r||[]);return u.us=function(t,n,i){var r=f;return function(e,u){if(r===w)throw new v("Generator is already running");if(r===y){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var o=i.delegate;if(o){var s=A(o,i);if(s){if(s===g)continue;return s}}if("next"===i.method)i.sent=i.os=i.arg;else if("throw"===i.method){if(r===f)throw r=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=w;var c=a(t,n,i);if("normal"===c.type){if(r=i.done?y:h,c.arg===g)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=y,i.method="throw",i.arg=c.arg)}}}(t,i,o),u}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",h="suspendedYield",w="executing",y="completed",g={};function p(){}function m(){}function k(){}var b={};b[u]=function(){return this};var T=l.getPrototypeOf,E=T&&T(T(O([])));E&&E!==i&&r.call(E,u)&&(b=E);var S=k.prototype=p.prototype=l.create(b);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.us(n,t)}})}function I(t){var n;this.us=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,o){var s=a(t[i],t,e);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"ss")?Promise.resolve(f.ss).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(f).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function A(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,A(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return g}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,g;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):u:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,g)}function C(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!_(t.length)){var e=-1,o=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return o.next=o}}return{next:x}}function x(){return{value:n,done:!0}}m.prototype=S.constructor=k,k.constructor=m,k[s]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,s in t||(t[s]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{ss:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,r,e){var u=new I(c(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(S),S[s]="Generator",S[u]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.os=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!_(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return s.type="throw",s.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),a=r.call(o,"finallyLoc");if(c&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,g):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}(t.exports)});function jr(){return(jr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function Wr(){var t=l.create(null);return t.cs=void 0,delete t.cs,t}function zr(){return new Yr}function $r(t){var n=zr();for(var i in t)rt.call(t,i)&&n.set(i,t[i]);return n}var Xr,Gr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Yr=Gr||(Xr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Wr(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Wr(),this.size=0},n.keys=function(){return new Xr(this.data,function(t,n){return n})},n.values=function(){return new Xr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Xr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Kr,Jr=Gr||(Kr=function(){function t(t,n){this.as=void 0,this.fs=void 0,this.as=t,this.fs=n}var n=t.prototype;return n.next=function(){var t=this.as.next();return t.done?t:{value:this.fs(t.value),done:!1}},t}(),function(){function t(){this.hs=zr()}var n=t.prototype;return n.get=function(t){return this.hs.get(""+t)},n.set=function(t,n){return this.hs.set(""+t,n),this},n.has=function(t){return this.hs.has(""+t)},n.delete=function(t){return this.hs.delete(""+t)},n.clear=function(){this.hs.clear()},n.keys=function(){return new Kr(this.hs.keys(),function(t){return Number(t)})},n.values=function(){return this.hs.values()},n.entries=function(){return new Kr(this.hs.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.hs.forEach(function(n,i){t(n,Number(i))})},W(t,[{key:"size",get:function(){return this.hs.size}}]),t}());var Qr,Zr="cenc",te="sinf",ne="skd",ie="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",re="com.microsoft.playready",ee="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ue="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",oe="urn:uuid:"+ue,se="com.apple.fps.1_0";!function(t){t.vs="playready",t.ds="widevine",t.ls="fairplay",t.ys="clearkey",t.gs="aes128"}(Qr||(Qr={}));var ce={_s:Qr.vs,ps:re,ks:"cenc",bs:"9a04f079-9840-4286-ab92-e65be0885f95",Ts:ie,Es:"PlayReady"},ae={_s:Qr.ds,ps:"com.widevine.alpha",ks:"cenc",bs:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ts:ee,Es:"Widevine"},fe={_s:Qr.ls,ps:se,ks:"skd",bs:ue,Ts:oe,Es:"FairPlay"},he=(Qr.ls,{_s:Qr.ys,ps:"org.w3.clearkey",ks:"cenc",bs:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Ts:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Es:"ClearKey"});function ve(t,n,i){return t.split(n).join(i)}function de(t,n){return null!=t&&-1!==t.indexOf(n)}function le(t,n){return null!=t&&t.substr(0,n.length)===n}function we(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function ye(t,n){return t.toUpperCase()===n.toUpperCase()}function ge(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return pe(n)}var _e=16384;function pe(t){var n=t.length;if(n<=_e)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=_e)i.push(String.fromCharCode.apply(String,t.slice(r,r+_e)));return i.join("")}var me=it.Oe&&it.xe>=42||it.He&&it.je>=38||it.Be||it.Ve||it.$e&&it.Xe>=29;function ke(t,n){return de(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[jr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[jr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var be=function(){function t(t){this.Ss=void 0,this.Rs=zr(),this.Is=void 0,this.Ss=t}var n=t.prototype;return n.Ho=function(){return this.Wo(ae)},n.Uo=function(){return this.Wo(he)},n.qo=function(){return this.Wo(ce)},n.Vo=function(){return this.Wo(fe)},n.Wo=function(t){var n=t.Ts,i=this.Rs.get(n);if(i)return i;var r=this.jo(t,'video/mp4; codecs="avc1.42000a"');return this.Rs.set(n,r),r},n.jo=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Ss.As(n.ps,[ke(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Ss.As(n.ps,[ke(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Mo=function(){return this.Is||(this.Is=this.Cs()),this.Is},n.Cs=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==I.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(me){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Uo();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Te(t,n){var i=function(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Ee(i,n,u,e);var o=i;i=e,e=o}return i}(t,n);return i!==t&&Ee(i,void 0,t.length,t),t}function Ee(t,n,i,r){var e,u,o,s,c,a=t.length,f=0,h=2*i;for(u=0;u<a;u+=h)for(e=(o=u+i)+i,o>a&&(o=a),e>a&&(e=a),s=u,c=o;;)if(s<o&&c<e)n&&n(t[s],t[c])<=0?r[f++]=t[s++]:r[f++]=t[c++];else if(s<o)r[f++]=t[s++];else{if(!(c<e))break;r[f++]=t[c++]}}function Se(t,n,i){var r=function(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}(t,n,i);return-1===r?void 0:t[r]}function Re(t,n){var i=t.indexOf(n);return-1!==i&&(Ie(t,i),!0)}function Ie(t,n){t.splice(n,1)}function Ae(t,n){return-1!==t.indexOf(n)}function Ce(t){t.length=0}var De=function(){function t(){this.Ds=!1,this.Ns=!1,this.Os=[],this.xs=[]}var n=t.prototype;return n.Ps=function(){if(!this.Ds&&!this.Ns){this.Ds=!0;for(var t=0,n=this.Os.slice();t<n.length;t++){(0,n[t])()}this.Ls()}},n.Ls=function(){if(!this.Ns){this.Ns=!0;for(var t=0,n=this.xs.slice();t<n.length;t++){(0,n[t])()}Ce(this.Os),Ce(this.xs)}},n.Fs=function(t){this.Ns||this.Os.push(t)},n.Ms=function(t){this.Ns||Re(this.Os,t)},n.Bs=function(t){this.Ns||this.xs.push(t)},n.Us=function(t){this.Ns||Re(this.xs,t)},t}(),Ne=function(){function t(){this.Vs=new De}var n=t.prototype;return n.qs=function(){this.Vs.Ps()},n.Ls=function(){this.Vs.Ls()},n.Hs=function(t){var n=this.Vs;if(!n.Ds)if(t.Ds)n.Ps();else if(!n.Ns&&!t.Ns){var i=function(){r(),n.Ps()},r=function r(){t.Ms(i),t.Us(r),n.Ms(i),n.Us(r)};t.Fs(i),t.Bs(r),n.Fs(i),n.Bs(r)}},n.js=function(){var n=new t,i=new t,r=n.Ws,e=i.Ws,u=this.Vs,o=function(){r.Ds&&e.Ns||e.Ds&&r.Ns?u.Ps():r.Ns&&e.Ns&&u.Ls()};r.Fs(o),e.Fs(o),r.Bs(o),e.Bs(o),n.Hs(u),i.Hs(u);return u.Bs(function(){r.Ms(o),e.Ms(o),r.Us(o),e.Us(o)}),[n,i]},W(t,[{key:"Ws",get:function(){return this.Vs}}]),t}(),Oe=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return"AbortError"}}]),n}(sn);function xe(t){return t instanceof v&&"AbortError"===t.name}function Pe(t){if(t&&t.Ds)throw new Oe}function Le(t){if(xe(t))throw t}function Fe(t){if(!xe(t))throw t}function Me(t,n){return n?new C(function(i,r){if(n.Ds)return t.catch(L),r(new Oe);var e=function t(){n.Ms(t),r(new Oe)};n.Fs(e),t.then(function(t){n.Ms(e),i(t)},function(t){n.Ms(e),r(t)})}):t}function Be(t,n){return t.then(function(t){return n.Ls(),t},function(t){throw n.Ls(),t})}var Ue=C.resolve();function Ve(t){Ue.then(t)}function qe(t){t.then(L,L)}function He(t){return je.apply(this,arguments)}function je(){return(je=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,C.all(n.map(function(t){return t.catch(L)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function We(t){return t&&"function"!=typeof t?t.slice():t}function ze(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var $e,Xe=function(){function t(t){var n=this;this.zs=Wr(),this.$s=void 0,this.Xs=void 0,this.Gs=function(t){n.Ys(t)},this.Xs=t||this}var n=t.prototype;return n.Ks=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Js(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Js(r,n)}},n.Js=function(t,n){var i=this.zs[t];i?"function"==typeof i?this.zs[t]=[i,n]:i.push(n):this.zs[t]=n},n.Qs=function(t){if("function"==typeof t){var n=this.$s;n?"function"==typeof n?this.$s=[n,t]:n.push(t):this.$s=t}},n.Zs=function(){this.zs=Wr(),this.$s=void 0},n.Ys=function(t){var n=We(this.zs[t.type]),i=We(this.$s);ze(this.Xs,t,n),ze(this.Xs,t,i)},n.tc=function(t,n){if("function"==typeof n)if("string"==typeof t)this.nc(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.nc(r,n)}},n.nc=function(t,n){var i=this.zs[t];i&&("function"==typeof i?i===n&&(this.zs[t]=void 0):Re(i,n))},n.ic=function(t){if("string"==typeof t)this.zs[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.zs[i]=void 0}},n.rc=function(t){var n=this.$s;n&&("function"==typeof n?n===t&&(this.$s=void 0):Re(n,t))},n.ec=function(t,n){var i=this;return new C(function(r,e){if(n&&n.Ds)return e(new Oe);var u=function(t){s(),r(t)},o=function(){s(),e(new Oe)},s=function(){i.tc(t,u),n&&n.Ms(o)};i.Ks(t,u),n&&n.Fs(o)})},t}(),Ge=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Ys=function(n){var i=this;Ve(function(){t.prototype.Ys.call(i,n)})},n}(Xe),Ye=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ke=["cenc"],Je=["cbcs","cbcs-1-9"],Qe=function(t){function n(n){var i;return(i=t.call(this,"oc")||this).uc=n,i}return $(n,t),n}(Ye),Ze=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"sc")||this).uc=n,u.cc=i,u.sc=r,u.ac=e,u}return $(n,t),n}(Ye),tu=function(t){function n(){return t.call(this,"fc")||this}return $(n,t),n}(Ye);!function(t){t.hc="vc",t.dc="lc"}($e||($e={}));var nu=function(t){function n(n,i){var r;return(r=t.call(this,$e.hc)||this).ks=n,r.wc=i,r}return $(n,t),n}(Ye),iu=new p([0]).buffer,ru=function(){function t(){this.yc=void 0,this.yc=[]}var n=t.prototype;return n.gc=function(t){for(var n=0,i=this.yc;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n._c=function(t){for(var n=0,i=this.yc;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.pc=function(t,n){this.yc.forEach(function(n){return t(n[1],n[0])},n)},n.mc=function(t,n){this.yc.push([t,n])},n.kc=function(){Ce(this.yc)},W(t,[{key:"bc",get:function(){return this.yc.length}}]),t}(),eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),uu=16383,ou=/[\t\n\f\r ]/g;function su(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:cu()}function cu(){throw new v("Invalid base64 input")}function au(t){var n=t;ou.test(n)&&(n=n.replace(ou,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return cu();for(var e,u=0===r?0:4-r,o=new p(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,a=0;c<s;c+=4)e=su(n.charCodeAt(c))<<18|su(n.charCodeAt(c+1))<<12|su(n.charCodeAt(c+2))<<6|su(n.charCodeAt(c+3)),o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return 2===u?(e=su(n.charCodeAt(c))<<2|su(n.charCodeAt(c+1))>>4,o[a++]=255&e):1===u&&(e=su(n.charCodeAt(c))<<10|su(n.charCodeAt(c+1))<<4|su(n.charCodeAt(c+2))>>2,o[a++]=e>>8&255,o[a++]=255&e),o}function fu(t,n,i){for(var r,e,u,o=[],s=n;s<i;s+=3)o.push((r=t[s],e=t[s+1],u=t[s+2],eu[r>>2]+eu[(3&r)<<4|e>>4]+eu[(15&e)<<2|u>>6]+eu[63&u]));return o.join("")}function hu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=uu)r.push(fu(t,u,w.min(e,u+uu)));if(1===i){var o=t[n-1];r.push(eu[o>>2]+eu[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];r.push(eu[s>>2]+eu[(3&s)<<4|c>>4]+eu[(15&c)<<2]+"=")}return r.join("")}var vu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],du=ArrayBuffer.isView||function(t){return t&&Ae(vu,et.call(t))};function lu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new p(t),new p(n))}function wu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new p(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function yu(t){return au(t).buffer}function gu(t){return hu(new p(t))}function _u(t){return hu(Wu(t))}var pu=function(){function t(t){void 0===t&&(t=0),this.Tc=t}var n=t.prototype;return n.Ec=function(t){this.Tc+=t},n.Sc=function(t){this.Tc=t},n.Rc=function(){return new t(this.Ic)},W(t,[{key:"Ic",get:function(){return this.Tc}}]),t}();function mu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ku(t,n){return t>>n&63|128}function bu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(mu(t),n.push(t>>12&15|224),n.push(ku(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ku(t,12)),n.push(ku(t,6))),n.push(63&t|128)):n.push(t)}function Tu(t,n){if(n.Ic>=t.length)throw new v("Invalid byte index");var i=255&t[n.Ic];if(n.Ec(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Eu(t,n){var i=n.Ic;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.Ec(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|Tu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|Tu(t,n)<<6|Tu(t,n);if(u>=2048)return mu(u),u;throw new v("Invalid continuation byte")}if(240==(248&r)){var o=(7&r)<<18|Tu(t,n)<<12|Tu(t,n)<<6|Tu(t,n);if(o>=65536&&o<=1114111)return o}throw new v("Invalid UTF-8 detected")}var Su=65279;var Ru=function(){function t(t){this.Ac=t}return t.prototype.Cc=function(t){return function(t,n){return(t&n)===n}(this.Ac,t)},t}();function Iu(t,n){var i=t.getUint8(n.Ic);return n.Ec(1),i}function Au(t,n,i){t.setUint8(n.Ic,i),n.Ec(1)}function Cu(t,n,i){var r=Ku(Qu(t),n.Ic,n.Ic+i);return n.Ec(r.byteLength),r}function Du(t,n,i){return n.Ic+i<=t.byteLength}function Nu(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.Ic,i);return n.Ec(2),r}function Ou(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.Ic,i,r),n.Ec(2)}function xu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.Ic,i);return n.Ec(4),r}function Pu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.Ic,i,r),n.Ec(4)}function Lu(t,n,i){void 0===i&&(i=!1);var r=xu(t,n,i),e=xu(t,n,i),u=i?e:r,o=i?r:e;return Yt.fromBits(o,u,!0)}function Fu(t,n){var i=Iu(t,n);if(i)return String.fromCharCode(i)}function Mu(t,n){return function(t,n){return Vu(t,n,!0)}(t,n)}function Bu(t,n,i){for(var r="",e=0;e<i;e++)r+=Fu(t,n);return r}function Uu(t,n){var i,r=Iu(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Iu(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Iu(t,n))+(63&Iu(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Iu(t,n))+64*(63&Iu(t,n))+(63&Iu(t,n))),i}function Vu(t,n,i){for(var r=[];n.Ic<t.byteLength;){var e=Iu(t,n);if(i&&!e)break;r.push(e)}return pe(r)}function qu(t,n,i,r){for(var e=[];n.Ic+2<=t.byteLength;){var u=Nu(t,n,i);if(r&&!u)break;e.push(u)}return pe(e)}function Hu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){Ou(t,n,i.charCodeAt(u),r)}}function ju(t){return Vu(Ju(t),new ro,!1)}function Wu(t){var n=new p(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Au(t,n,i.charCodeAt(e))}(Ju(n),new ro,t),n}function zu(t,n){return void 0===n&&(n=!1),qu(Ju(t),new ro,n,!1)}function $u(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return Hu(Ju(i),new ro,t,n),i}function Xu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.Ic+3<=t.byteLength&&239===t.getUint8(n.Ic)&&187===t.getUint8(n.Ic+1)&&191===t.getUint8(n.Ic+2)})(t,n)&&n.Ec(3);for(;n.Ic<t.byteLength;){var e=Uu(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return ge(r)}(t,n,!0)}function Gu(t){return ge(function(t,n){var i,r=[],e=new ro;if(!n){if(!1===(i=Eu(t,e)))return r;i===Su||r.push(i)}for(;!1!==(i=Eu(t,e));)r.push(i);return r}(Qu(t)))}function Yu(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)bu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Ku(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function Ju(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Qu(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function Zu(t){return t instanceof ArrayBuffer||du(t)}function to(t){return t instanceof ArrayBuffer?new p(t):Qu(t)}function no(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):io(Ku(t,n,i))}function io(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}var ro=function(){function t(t){void 0===t&&(t=0),this.Tc=t}var n=t.prototype;return n.Ec=function(t){this.Tc+=t},n.Sc=function(t){this.Tc=t},n.Rc=function(){return new t(this.Ic)},n.Dc=function(){return new pu(this.Ic<<3)},W(t,[{key:"Ic",get:function(){return this.Tc}}]),t}(),eo=function(){function t(){var t=this;this.Nc=void 0,this.Fn=void 0,this.V=void 0,this.Nc=new C(function(n,i){t.Fn=n,t.V=i})}var n=t.prototype;return n.Oc=function(t){this.Fn&&(this.Fn(t),this.Ls())},n.xc=function(t){this.V&&(this.V(t),this.Ls())},n.qs=function(){this.Nc.catch(L),this.xc(new Oe)},n.Ls=function(){this.Fn=void 0,this.V=void 0},t}();function uo(){return new p([8,4]).buffer}function oo(t){return lu(t,uo())}function so(t,n){return t===re?function(t){if(t.byteLength<2*co.length)return t;if(zu(new DataView(t,0,2*co.length),!0)===co)return t;return n=t,$u('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+gu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var co="<PlayReady";var ao=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Pc=void 0,u.Lc=void 0,u.Pc=i,u.Lc=r,u}return $(n,t),n}(sn),fo=function(t){function n(n,i){var r;(r=t.call(this)||this).Fc=void 0,r.Mc=!1,r.Bc=void 0,r.Uc=void 0,r.Vc=function(){r.qc()},r.Hc=function(t){r.Ys(new Ze(un(r),t.messageType,so(r.jc,t.message)))},r.Wc=function(){r.Mc=!0,r.Fc.bc>0&&(r.Fc.kc(),r.Ys(new Qe(un(r)))),r.zc.removeEventListener("keystatuseschange",r.Vc),r.zc.removeEventListener("message",r.Hc)},r.zc=n,r.jc=i,r.zc.addEventListener("keystatuseschange",r.Vc),r.zc.addEventListener("message",r.Hc),r.Fc=new ru;var e=[];return r.zc.closed&&e.push(C.resolve(r.zc.closed)),r.Uc=new eo,e.push(r.Uc.Nc),r.Bc=C.race(e).then(r.Wc,r.Wc),r.qc(),r}$(n,t);var i=n.prototype;return i.$c=function(){if(this.Mc)return this.Bc;var t,n,i=[];return i.push(C.resolve(this.zc.close())),i.push((t=1e3,new C(function(i,r){if(void 0!==n&&n.Ds)r(new Oe);else{var e=N.xo(function(){void 0!==n&&n.Ms(u),i()},t),u=function(){N.Lo(e),r(new Oe)};void 0!==n&&n.Fs(u)}}))),this.Uc.Oc(C.race(i).catch(ho)),this.Mc=!0,this.Bc},i.Xc=function(t,n,i){return C.resolve(this.zc.generateRequest(t,n)).catch(ho)},i.Gc=function(t){return C.resolve(this.zc.load(t)).catch(ho)},i.Yc=function(){return C.resolve(this.zc.remove()).catch(ho)},i.Kc=function(t){return C.resolve(this.zc.update(t)).catch(ho)},i.qc=function(){var t=this;this.Fc.kc(),this.zc.keyStatuses.forEach(function(n,i){t.Jc(i,n)}),this.Ys(new Qe(this))},i.Jc=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=to(t);if(this.jc===re&&16===r.byteLength){var e=Ju(r),u=e.getUint32(0,!0),o=e.getUint16(4,!0),s=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,o,!1),e.setUint16(6,s,!1)}this.jc===re&&"status-pending"===n&&(n="usable"),this.Fc.mc(r,n)},W(n,[{key:"Qc",get:function(){return this.Bc}},{key:"Zc",get:function(){return this.zc.expiration}},{key:"ta",get:function(){return this.Fc}},{key:"na",get:function(){return this.zc.sessionId}}]),n}(Xe);function ho(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|y(i[1],16))}throw new ao(t.message,void 0,n,t)}var vo=function(){function t(t,n,i){this.ia=t,this.ra=n,this.ea=i}var n=t.prototype;return n.ua=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new fo(this.ia.createSession(n),this.ra));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.oa=function(t){return C.resolve(this.ia.setServerCertificate(t))},n.sa=function(t){return C.resolve(t.setMediaKeys(this.ia))},n.ca=function(t){return C.resolve(t.setMediaKeys(null))},t}(),lo=function(){function t(t,n,i){this.aa=t,this.jc=n,this.fa=i}var n=t.prototype;return n.ha=function(){var t=C.coroutine(Hr.mark(function t(){var n;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aa.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new vo(n,this.jc,this.fa));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.va=function(){return this.fa},W(t,[{key:"ra",get:function(){return this.aa.keySystem}}]),t}();function wo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function yo(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,da:r.da},o=!1;if(r.audioCapabilities){var s=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(u.audioCapabilities=s.filter(function(r){return go(t,n,i,r)}),o=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var c=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(r){return go(t,n,i,r)}),o=!0,u.videoCapabilities.length&&(e=!0))}return o||(e=t(i,"video/mp4")),e?u:void 0}}function go(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ae(n,r.encryptionScheme))&&(!r.robustness&&t(i,wo(r.contentType))))}function _o(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var o=u[e];if(o.contentType)return o.contentType}}function po(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function mo(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(ko))||!(!t.videoCapabilities||!t.videoCapabilities.some(ko))}function ko(t){return!t.robustness}function bo(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(jr({},e,{robustness:n}))}return i}var To=function(){function t(){}return t.prototype.As=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o,c,a,f,h;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.da}),r=0,e=i;r<e.length;r++)(u=e[r]).audioCapabilities&&(u.audioCapabilities=po(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=po(u.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(mo)){t.next=14;break}return o=i.map(function(t){return i="SW_SECURE_CRYPTO",jr({},n=t,{videoCapabilities:n.videoCapabilities?bo(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?bo(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,s.requestMediaKeySystemAccess(n,o);case 7:return c=t.sent,a=c.getConfiguration(),t.abrupt("return",new lo(c,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,s.requestMediaKeySystemAccess(n,i);case 16:return f=t.sent,h=f.getConfiguration(),t.abrupt("return",new lo(f,n,h));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.la=function(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess},t}(),Eo=function(t){function n(n,i){var r;return(r=t.call(this)||this).Mc=!1,r.wa=void 0,r.ya=void 0,r.ga=void 0,r._a=void 0,r.pa=void 0,r.Wc=function(){r.Mc=!0,r.wa.Oc(void 0),r.pa&&(r.pa.removeEventListener("mskeyclose",r.Wc),r.pa.removeEventListener("mskeymessage",r.ma),r.pa.removeEventListener("mskeyerror",r.ka),r.pa.removeEventListener("mskeyadded",r.ba))},r.ma=function(t){r.ga&&(r.ga.Oc(void 0),r.ga=void 0),r.Ys(new Ze(un(r),"license-request",io(t.message).buffer,t.destinationURL||void 0))},r.ka=function(){var t=r.pa&&r.pa.error;if(t){var n=new ao("Unknown CDM error",t.code,t.systemCode);if(r.ga)r.ga.xc(n),r.ga=void 0;else if(r.ya)r.ya.xc(n),r.ya=void 0;else switch(n.Pc){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.Ta("output-not-allowed");break;default:r.Ta("internal-error")}}},r.ba=function(){r.ga&&(r.Ta("usable"),r.ga.Oc(void 0),r.ga=void 0),r.ya&&(r.Ta("usable"),r.ya.Oc(void 0),r.ya=void 0)},r.Ea=n,r.Sa=i,r.wa=new eo,r._a=new ru,r}$(n,t);var i=n.prototype;return i.Xc=function(){var t=C.coroutine(Hr.mark(function t(n,i,r){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ra(),this.ga=new eo,this.ua(to(i),r),t.next=5,this.ga.Nc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ua=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.Ia;return(i=n?this.Ea.createSession(this.Sa,t,r):this.Ea.createSession(this.Sa,t)).addEventListener("mskeyclose",this.Wc),i.addEventListener("mskeymessage",this.ma),i.addEventListener("mskeyerror",this.ka),i.addEventListener("mskeyadded",this.ba),this.pa=i,this.Ta("status-pending"),i},i.Gc=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ra(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Kc=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ya=new eo,this.Ra(),this.pa){t.next=4;break}return t.abrupt("return",C.resolve());case 4:if(0!==(i=to(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.pa.update(i),t.next=10,this.ya.Nc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$c=function(){return!this.Mc&&this.pa&&(this.Mc=!0,this.pa.close()),this.wa.Nc},i.Yc=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Ra(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ra=function(){if(this.Mc)throw new d("Already closing or closed.")},i.Ta=function(t){this._a.kc(),this._a.mc(iu,t),this.Ys(new Qe(this))},W(n,[{key:"na",get:function(){return this.pa&&this.pa.sessionId||""}},{key:"Zc",get:function(){return NaN}},{key:"Qc",get:function(){return this.wa.Nc}},{key:"ta",get:function(){return this._a}}]),n}(Xe),So=function(){function t(t,n,i){this.Sa=void 0,this.Ea=t,this.ra=n,this.ea=i;var r=_o(i)||"video/mp4";this.Sa=wo(r)}var n=t.prototype;return n.ua=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Eo(this.Ea,this.Sa));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.oa=function(t){return C.resolve(!1)},n.sa=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Ea):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Ea),t.removeEventListener("loadedmetadata",i)}),C.resolve()},n.ca=function(t){return C.resolve()},t}(),Ro=function(){function t(t,n){this.jc=t,this.Aa=n}var n=t.prototype;return n.va=function(){return this.Aa},n.ha=function(){var t=new R.MSMediaKeys(this.jc);return C.resolve(new So(t,this.jc,this.Aa))},W(t,[{key:"ra",get:function(){return this.jc}}]),t}(),Io=function(){function t(){}return t.prototype.As=function(t,n){try{return C.resolve(function(t,n){if(!Ao())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=yo(Co,Ke,t,r);if(e)return new Ro(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.la=function(){return Ao()},t}();function Ao(){return void 0!==R.MSMediaKeys&&"function"==typeof R.MSMediaKeys.isTypeSupported}function Co(t,n){return R.MSMediaKeys.isTypeSupported(t,n)}var Do,No,Oo=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).wa=new eo,e.Ca=void 0,e._a=new ru,e.Da=void 0,e.Na=new eo,e.ka=function(){var t=e.Da&&e.Da.error;if(t){var n=new ao("Unknown CDM error",t.code,t.systemCode);e.Ca?(e.Ca.xc(n),e.Ca=void 0):n.Pc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.Ta("output-not-allowed"):e.Ta("internal-error"),e.Ys(new tu)}},e.ma=function(t){e.Ca&&(e.Ca.Oc(void 0),e.Ca=void 0),e.Ys(new Ze(un(e),"license-request",io(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.Oa=n,e.Sa=i,e.xa=r,e}$(n,t);var i=n.prototype;return i.Xc=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.Pa;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=xo(to(n),r,this.xa);return this.Da=this.Oa.createSession(this.Sa,e),this.Da.addEventListener("webkitkeymessage",this.ma,!1),this.Da.addEventListener("webkitkeyerror",this.ka,!1),this.Ta("usable"),this.Na.Oc(this.Da),this.Na=new eo,C.resolve()},i.Gc=function(t){return C.resolve(!0)},i.Kc=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=to(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Ca=new eo,t.t0=this.Da,t.t0){t.next=9;break}return t.next=8,this.Na.Nc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Ca.Nc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$c=function(){var t=this.Da;return t&&(t.removeEventListener("webkitkeymessage",this.ma,!1),t.removeEventListener("webkitkeyerror",this.ka,!1),t.close()),this.Na.qs(),this.wa.Oc(void 0),this.wa.Nc},i.Yc=function(){return C.resolve(void 0)},i.Ta=function(t){this._a.kc(),this._a.mc(iu,t),this.Ys(new Qe(this))},W(n,[{key:"na",get:function(){return this.Da?this.Da.sessionId:""}},{key:"Zc",get:function(){return NaN}},{key:"Qc",get:function(){return this.wa.Nc}},{key:"ta",get:function(){return this._a}}]),n}(Xe);function xo(t,n,i){var r=Gu(t),e=2*r.length,u=2*n.length,o=new ArrayBuffer(4+e+4+u+4+i.byteLength),s=new DataView(o),c=new ro;return Pu(s,c,e,!0),Hu(s,c,r,!0),Pu(s,c,u,!0),Hu(s,c,n,!0),Pu(s,c,i.byteLength,!0),function(t,n,i){Qu(t).set(Qu(i),n.Ic),n.Ec(i.byteLength)}(s,c,i),new p(o)}(Do=n.ErrorCode||(n.ErrorCode={}))[Do.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Do[Do.LICENSE_ERROR=2e3]="LICENSE_ERROR",Do[Do.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Do[Do.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Do[Do.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Do[Do.SOURCE_INVALID=3e3]="SOURCE_INVALID",Do[Do.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Do[Do.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Do[Do.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Do[Do.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Do[Do.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Do[Do.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Do[Do.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Do[Do.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Do[Do.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Do[Do.NETWORK_ERROR=6e3]="NETWORK_ERROR",Do[Do.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Do[Do.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Do[Do.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Do[Do.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Do[Do.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Do[Do.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Do[Do.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Do[Do.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Do[Do.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Do[Do.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Do[Do.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Do[Do.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Do[Do.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Do[Do.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Do[Do.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Do[Do.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Do[Do.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Do[Do.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Do[Do.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Do[Do.AD_ERROR=1e4]="AD_ERROR",Do[Do.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Do[Do.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(No=n.ErrorCategory||(n.ErrorCategory={}))[No.CONFIGURATION=1]="CONFIGURATION",No[No.LICENSE=2]="LICENSE",No[No.SOURCE=3]="SOURCE",No[No.MANIFEST=4]="MANIFEST",No[No.MEDIA=5]="MEDIA",No[No.NETWORK=6]="NETWORK",No[No.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",No[No.SUBTITLE=8]="SUBTITLE",No[No.VR=9]="VR",No[No.AD=10]="AD",No[No.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=w.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Po=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return $(i,t),W(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(sn),Lo=function(){function t(t,n,i){this.Sa=void 0,this.xa=void 0,this.Oa=t,this.ra=n,this.ea=i;var r=_o(i)||"video/mp4";this.Sa=wo(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Oa},i.ua=function(){var t=C.coroutine(Hr.mark(function t(i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.xa){t.next=2;break}throw new Po(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Oo(this.Oa,this.Sa,this.xa));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oa=function(t){return this.xa=to(t),C.resolve(!0)},i.sa=function(t){return t.webkitSetMediaKeys(this.Oa),C.resolve()},i.ca=function(t){return t.webkitSetMediaKeys(null),C.resolve()},t}(),Fo=function(){function t(t,n){this.jc=t,this.Aa=n}var n=t.prototype;return n.va=function(){return this.Aa},n.ha=function(){var t=new R.WebKitMediaKeys(this.jc);return C.resolve(new Lo(t,this.jc,this.Aa))},W(t,[{key:"ra",get:function(){return this.jc}}]),t}(),Mo=function(){function t(){}return t.prototype.As=function(t,n){try{return C.resolve(function(t,n){if(t!==se)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Bo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=yo(Uo,Je,t,r);if(e)return new Fo(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return C.reject(t)}},t.la=function(){return Bo()},t}();function Bo(){return void 0!==R.WebKitMediaKeys&&"function"==typeof R.WebKitMediaKeys.isTypeSupported}function Uo(t,n){return R.WebKitMediaKeys.isTypeSupported(t,n)}var Vo,qo=function(){function t(t){this.La=t}return t.prototype.As=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.La;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.As(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Ho=function(t){function n(n){var i;return(i=t.call(this)||this).ga=void 0,i.Ca=void 0,i.wa=void 0,i.Fa=!1,i.Ma=void 0,i.Ba=void 0,i.Ua=void 0,i.Va=void 0,i.qa=void 0,i.jc=n,i.wa=new eo,i.Ba="",i.qa=new eo,i.Ua=new ru,i}$(n,t);var i=n.prototype;return i.Ha=function(){this.Ca&&(this.Ta("usable"),this.Ca.Oc(void 0),this.Ca=void 0)},i.ja=function(t){var n=new ao("Unknown CDM error",t.errorCode,t.systemCode);this.Ca?(this.Ca.xc(n),this.Ca=void 0):this.ga?(this.ga.xc(n),this.ga=void 0):n.Pc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ta("output-restricted"):1===n.Lc?this.Ta("expired"):this.Ta("internal-error")},i.Wa=function(t){0!==t.message.byteLength&&(this.ga&&(this.ga.Oc(void 0),this.ga=void 0),this.Ys(new Ze(this,"license-request",so(this.jc,io(t.message).buffer),t.defaultURL||void 0)))},i.za=function(t){this.Va||(this.Va=t,this.qa.Oc(t))},i.$c=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Fa=!0,this.wa.Oc(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Xc=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ga=new eo,this.Ma=to(i),t.t0=this.Va,t.t0){t.next=8;break}return t.next=7,this.qa.Nc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.jc,this.Ma),t.next=12,this.ga.Nc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Gc=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Yc=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Kc=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ca=new eo,t.t0=this.Va,t.t0){t.next=7;break}return t.next=6,this.qa.Nc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.jc,to(n),this.Ma,this.na),t.next=11,this.Ca.Nc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Fa)throw new d("Already closing or closed.")},i.Ta=function(t){this.Ua.kc(),this.Ua.mc(iu,t),this.Ys(new Qe(this))},W(n,[{key:"ta",get:function(){return this.Ua}},{key:"na",get:function(){return this.Ba},set:function(t){this.Ba=t}},{key:"Qc",get:function(){return this.wa.Nc}},{key:"Zc",get:function(){return NaN}}]),n}(Xe),jo=function(){function t(t,n){var i=this;this.Va=void 0,this.$a=zr(),this.Xa=[],this.ba=function(t){var n=i.Ga(t.sessionId);n&&n.Ha()},this.Ya=function(t){var n=i.Ga(t.sessionId);n&&n.ja(t)},this.Ka=function(t){var n=i.Ga(t.sessionId);n&&n.Wa(t)},this.ra=t,this.ea=n}var n=t.prototype;return n.sa=function(t){return this.Va=t,this.Va.addEventListener("webkitkeyadded",this.ba),this.Va.addEventListener("webkitkeyerror",this.Ya),this.Va.addEventListener("webkitkeymessage",this.Ka),this.$a.forEach(function(n,i){return n.za(t)}),this.Xa.forEach(function(n){return n.za(t)}),C.resolve()},n.ca=function(t){return t.removeEventListener("webkitkeyadded",this.ba),t.removeEventListener("webkitkeyerror",this.Ya),t.removeEventListener("webkitkeymessage",this.Ka),this.Va=void 0,C.resolve()},n.ua=function(){var t=C.coroutine(Hr.mark(function t(n,i,r){var e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Ho(this.ra),this.Va&&e.za(this.Va),this.Xa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.oa=function(t){return C.resolve(!1)},n.Ga=function(t){if(t){var n=this.$a.get(t);return n||((n=this.Xa.shift())?(n.na=t,this.$a.set(t,n),n):void 0)}},t}(),Wo=function(){function t(t,n){this.ra=t,this.Ja=n}var n=t.prototype;return n.ha=function(){return C.resolve(new jo(this.ra,this.Ja))},n.va=function(){return this.Ja},t}(),zo=function(){function t(){}return t.prototype.As=function(t,n){try{return C.resolve($o(t,n))}catch(t){return C.reject(t)}},t.la=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function $o(t,n){if(!zo.la())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=yo(Xo,Ke,t,r);if(e)return new Wo(t,e)}throw new d("Unsupported key system configuration for "+t)}function Xo(t,n){var i=Tr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Go(){return Vo||(Vo=function(){var t=[];Mo.la()&&t.push(new Mo);To.la()&&t.push(new To);Io.la()&&t.push(new Io);zo.la()&&t.push(new zo);return new qo(t)}()),Vo}var Yo=function(){function t(){this.Qa=zr()}var n=t.prototype;return n.kc=function(t){this.Qa.delete(t)},n.Za=function(){this.Qa.clear()},n._c=function(t){return this.Qa.get(t)},n.tf=function(t,n){this.Qa.set(t,n)},t}(),Ko=function(){function t(){}return t.nf=function(){return t.eu||(t.eu=Jo.la()?new Jo:new Yo),t.eu},t.kc=function(n){t.nf().kc(n)},t.Za=function(){t.nf().Za()},t._c=function(n){return t.nf()._c(n)},t.tf=function(n,i){t.nf().tf(n,i)},t}();Ko.eu=void 0;var Jo=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.la=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.kc=function(n){t.sessionStorage.removeItem(n)},r.Za=function(){t.sessionStorage.clear()},r._c=function(n){return t.sessionStorage[n]},r.tf=function(n,i){t.sessionStorage[n]=i},i}(Ko);var Qo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Zo(t,n,i){var r=Qo([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),o=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),s=u.createElement("a");s.href=e,s.download=o,u.body.appendChild(s),s.click(),u.body.removeChild(s),URL.revokeObjectURL(e)}var ts,ns;!function(t){t.if="rf",t.ef="uf",t.sf="contentprotectionerror",t.cf="contentprotectionsuccess",t.af="currentsourcechange",t.ff="destroy",t.hf="durationchange",t.vf="emptied",t.hc="encrypted",t.df="ended",t.lf="wf",t.yf="loadstart",t.gf="manifestupdate",t._f="nosupportedrepresentationfound",t.pf="offline",t.mf="online",t.kf="pause",t.bf="play",t.Tf="progress",t.Ef="ratechange",t.Sf="representationchange",t.Rf="resize",t.If="seeked",t.Af="seeking",t.Cf="segmentnotfound",t.Df="Nf",t.Of="xf",t.Pf="sourcechange",t.Lf="timeupdate",t.Ff="volumechange",t.Mf="Bf",t.Uf="metricschange"}(ts||(ts={})),function(t){t.Vf="arraybuffer",t.qf="json",t.Hf="stream",t.au="text"}(ns||(ns={}));var is=function(){function t(n){var i=this;this.hs=void 0,this.hs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=rs(i),r=es(r);var e=i.toLowerCase();if(this.hs.hasOwnProperty(e)){var u=this.hs[e],o=u[1];u[1]=o?o+", "+r:r}else this.hs[e]=[i,r]},n.delete=function(t){var n=rs(t).toLowerCase();delete this.hs[n]},n.get=function(t){var n=rs(t).toLowerCase();return this.hs.hasOwnProperty(n)?this.hs[n][1]:null},n.has=function(t){var n=rs(t).toLowerCase();return this.hs.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=rs(i)).toLowerCase();this.hs[r]=[i,es(n)]},n.forEach=function(t,n){for(var i in this.hs)this.hs.hasOwnProperty(i)&&t.call(n,this.hs[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.hs)if(this.hs.hasOwnProperty(n)){var i=this.hs[n],r=i[0],e=i[1];t.push([r,e])}return t},n.jf=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Wf=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.zf=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function rs(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function es(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function os(){}var ss=Number.isNaN||function(t){return t!=t},cs=os;function as(t){return"object"==typeof t&&null!==t||"function"==typeof t}function fs(t){return t.slice()}function hs(t){return!1!==function(t){if("number"!=typeof t)return!1;if(ss(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function vs(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ds(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ws(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ws(e,t,i)}}}return function(){return Es(void 0)}}function ls(t,n,i){var r=t[n];if(void 0!==r)return vs(r,t,i)}function ws(t,n,i){try{return Es(vs(t,n,i))}catch(t){return Ss(t)}}function ys(t){return t}function gs(t){if(t=Number(t),ss(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function _s(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ps=C,ms=C.prototype.then,ks=C.resolve.bind(ps),bs=C.reject.bind(ps);function Ts(t){return new ps(t)}function Es(t){return ks(t)}function Ss(t){return bs(t)}function Rs(t,n,i){return ms.call(t,n,i)}function Is(t,n,i){Rs(Rs(t,n,i),void 0,cs)}function As(t,n){Is(t,n)}function Cs(t,n){Is(t,void 0,n)}function Ds(t,n,i){return Rs(t,n,i)}function Ns(t){Rs(t,void 0,cs)}var Os=function(){function t(){this.$f=0,this.Xf=0,this.mi={Gf:[],Yf:void 0},this.Kf=this.mi,this.$f=0,this.Xf=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Xf},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Kf,i=n;16383===n.Gf.length&&(i={Gf:[],Yf:void 0}),n.Gf.push(t),i!==n&&(this.Kf=i,n.Yf=i),++this.Xf},t.prototype.shift=function(){var t=this.mi,n=t,i=this.$f,r=i+1,e=t.Gf,u=e[i];return 16384===r&&(n=t.Yf,r=0),--this.Xf,this.$f=r,t!==n&&(this.mi=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.$f,i=this.mi,r=i.Gf;!(n===r.length&&void 0===i.Yf||n===r.length&&(n=0,0===(r=(i=i.Yf).Gf).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.mi,n=this.$f;return t.Gf[n]},t}();function xs(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function Ps(t,n){t.Jf=!0,t.Qf=n,n.Zf=t,"readable"===n.th?Bs(t):"closed"===n.th?function(t){Bs(t),qs(t)}(t):Us(t,n.nh)}function Ls(t,n){return za(t.Qf,n)}function Fs(t){"readable"===t.Qf.th?Vs(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Us(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Qf.Zf=void 0,t.Qf=void 0}function Ms(t){return new d("Cannot "+t+" a stream using a released reader")}function Bs(t){t.Bc=Ts(function(n,i){t.ih=n,t.rh=i})}function Us(t,n){Bs(t),Vs(t,n)}function Vs(t,n){Ns(t.Bc),t.rh(n),t.ih=void 0,t.rh=void 0}function qs(t){t.ih(void 0),t.ih=void 0,t.rh=void 0}var Hs=us("[[CancelSteps]]"),js=us("[[PullSteps]]");function Ws(t,n){void 0===n&&(n=!1);var i=new Js(t);return i.Jf=n,i}function zs(t){return Ts(function(n,i){var r={Fn:n,V:i};t.Zf.eh.push(r)})}function $s(t,n,i){var r=t.Zf;r.eh.shift().Fn(xs(n,i,r.Jf))}function Xs(t){return t.Zf.eh.length}function Gs(t){var n=t.Zf;return void 0!==n&&!!Qs(n)}var Ys,Ks,Js=function(){function t(t){if(!1===ja(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Wa(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ps(this,t),this.eh=new Os}return l.defineProperty(t.prototype,"closed",{get:function(){return Qs(this)?this.Bc:Ss(tc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Qs(this)?void 0===this.Qf?Ss(Ms("cancel")):Ls(this,t):Ss(tc("cancel"))},t.prototype.read=function(){return Qs(this)?void 0===this.Qf?Ss(Ms("read from")):Zs(this):Ss(tc("read"))},t.prototype.releaseLock=function(){if(!Qs(this))throw tc("releaseLock");if(void 0!==this.Qf){if(this.eh.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Fs(this)}},t}();function Qs(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"eh")}function Zs(t){var n=t.Qf;return n.uh=!0,"closed"===n.th?Es(xs(void 0,!0,t.Jf)):"errored"===n.th?Ss(n.nh):n.oh[js]()}function tc(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof us.asyncIterator&&((Ys={})[us.asyncIterator]=function(){return this},Ks=Ys,l.defineProperty(Ks,us.asyncIterator,{enumerable:!1}));var nc={next:function(){if(!1===ic(this))return Ss(rc("next"));var t=this.sh;return void 0===t.Qf?Ss(Ms("iterate")):Ds(Zs(t),function(n){var i=n.done;return i&&Fs(t),xs(n.value,i,!0)})},return:function(t){if(!1===ic(this))return Ss(rc("next"));var n=this.sh;if(void 0===n.Qf)return Ss(Ms("finish iterating"));if(n.eh.length>0)return Ss(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.ah){var i=Ls(n,t);return Fs(n),Ds(i,function(){return xs(t,!0,!0)})}return Fs(n),Es(xs(t,!0,!0))}};function ic(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"sh")}function rc(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ec(t){var n=t.Dn.shift();return t.fh-=n.size,t.fh<0&&(t.fh=0),n.value}function uc(t,n,i){if(!hs(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Dn.push({value:n,size:i}),t.fh+=i}function oc(t){t.Dn=new Os,t.fh=0}void 0!==Ks&&l.setPrototypeOf(nc,Ks),l.defineProperty(nc,"next",{enumerable:!1}),l.defineProperty(nc,"return",{enumerable:!1});var sc=us("[[AbortSteps]]"),cc=us("[[ErrorSteps]]"),ac=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),hc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=_s(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Cc.prototype);var u=ds(n,"write",1,[e]),o=ds(n,"close",0,[]),s=ds(n,"abort",1,[]);Dc(t,e,function(){return ls(n,"start",[e])},u,o,s,i,r)}(this,t,r=gs(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===vc(this))throw Mc("locked");return dc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===vc(this)?Ss(Mc("abort")):!0===dc(this)?Ss(new d("Cannot abort a stream that already has a writer")):lc(this,t)},t.prototype.close=function(){return!1===vc(this)?Ss(Mc("close")):!0===dc(this)?Ss(new d("Cannot close a stream that already has a writer")):!0===pc(this)?Ss(new d("Cannot close an already-closing stream")):wc(this)},t.prototype.getWriter=function(){if(!1===vc(this))throw Mc("getWriter");return fc(this)},t}();function fc(t){return new bc(t)}function hc(t){t.th="writable",t.nh=void 0,t.hh=void 0,t.vh=void 0,t.dh=new Os,t.lh=void 0,t.wh=void 0,t.yh=void 0,t.gh=void 0,t._h=!1}function vc(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"vh")}function dc(t){return void 0!==t.hh}function lc(t,n){var i=t.th;if("closed"===i||"errored"===i)return Es(void 0);if(void 0!==t.gh)return t.gh.un;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=Ts(function(i,e){t.gh={un:void 0,Fn:i,V:e,Sn:n,ph:r}});return t.gh.un=e,!1===r&&gc(t,n),e}function wc(t){var n=t.th;if("closed"===n||"errored"===n)return Ss(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=Ts(function(n,i){var r={Fn:n,V:i};t.wh=r}),e=t.hh;return void 0!==e&&!0===t._h&&"writable"===n&&Gc(e),uc(i=t.vh,"close",0),xc(i),r}function yc(t,n){"writable"!==t.th?_c(t):gc(t,n)}function gc(t,n){var i=t.vh;t.th="erroring",t.nh=n;var r=t.hh;void 0!==r&&Rc(r,n),!1===function(t){if(void 0===t.lh&&void 0===t.yh)return!1;return!0}(t)&&!0===i.mh&&_c(t)}function _c(t){t.th="errored",t.vh[cc]();var n=t.nh;if(t.dh.forEach(function(t){t.V(n)}),t.dh=new Os,void 0!==t.gh){var i=t.gh;if(t.gh=void 0,!0===i.ph)return i.V(n),void mc(t);Is(t.vh[sc](i.Sn),function(){i.Fn(),mc(t)},function(n){i.V(n),mc(t)})}else mc(t)}function pc(t){return void 0!==t.wh||void 0!==t.yh}function mc(t){void 0!==t.wh&&(t.wh.V(t.nh),t.wh=void 0);var n=t.hh;void 0!==n&&Hc(n,t.nh)}function kc(t,n){var i=t.hh;void 0!==i&&n!==t._h&&(!0===n?function(t){Wc(t)}(i):Gc(i)),t._h=n}var bc=function(){function t(t){if(!1===vc(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===dc(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.kh=t,t.hh=this;var n,i=t.th;if("writable"===i)!1===pc(t)&&!0===t._h?Wc(this):$c(this),Vc(this);else if("erroring"===i)zc(this,t.nh),Vc(this);else if("closed"===i)$c(this),Vc(n=this),jc(n);else{var r=t.nh;zc(this,r),qc(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===Tc(this)?Ss(Bc("closed")):this.Bc},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Tc(this))throw Bc("desiredSize");if(void 0===this.kh)throw Uc("desiredSize");return function(t){var n=t.kh,i=n.th;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Oc(n.vh)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===Tc(this)?Ss(Bc("ready")):this.bh},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Tc(this)?Ss(Bc("abort")):void 0===this.kh?Ss(Uc("abort")):function(t,n){return lc(t.kh,n)}(this,t)},t.prototype.close=function(){if(!1===Tc(this))return Ss(Bc("close"));var t=this.kh;return void 0===t?Ss(Uc("close")):!0===pc(t)?Ss(new d("Cannot close an already-closing stream")):Ec(this)},t.prototype.releaseLock=function(){if(!1===Tc(this))throw Bc("releaseLock");void 0!==this.kh&&Ic(this)},t.prototype.write=function(t){return!1===Tc(this)?Ss(Bc("write")):void 0===this.kh?Ss(Uc("write to")):Ac(this,t)},t}();function Tc(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"kh")}function Ec(t){return wc(t.kh)}function Sc(t,n){"pending"===t.Th?Hc(t,n):function(t,n){qc(t,n)}(t,n)}function Rc(t,n){"pending"===t.Eh?Xc(t,n):function(t,n){zc(t,n)}(t,n)}function Ic(t){var n=t.kh,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Rc(t,i),Sc(t,i),n.hh=void 0,t.kh=void 0}function Ac(t,n){var i=t.kh,r=i.vh,e=function(t,n){try{return t.Sh(n)}catch(n){return Pc(t,n),1}}(r,n);if(i!==t.kh)return Ss(Uc("write to"));var u=i.th;if("errored"===u)return Ss(i.nh);if(!0===pc(i)||"closed"===u)return Ss(new d("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Ss(i.nh);var o=function(t){return Ts(function(n,i){var r={Fn:n,V:i};t.dh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{uc(t,r,i)}catch(n){return void Pc(t,n)}var e=t.Rh;if(!1===pc(e)&&"writable"===e.th){var u=Lc(t);kc(e,u)}xc(t)}(r,n,e),o}var Cc=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!as(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"Rh"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Rh.th&&Fc(this,t)},t.prototype[sc]=function(t){var n=this.Ih(t);return Nc(this),n},t.prototype[cc]=function(){oc(this)},t}();function Dc(t,n,i,r,e,u,o,s){n.Rh=t,t.vh=n,n.Dn=void 0,n.fh=void 0,oc(n),n.mh=!1,n.Sh=s,n.Ah=o,n.Ch=r,n.Dh=e,n.Ih=u;var c=Lc(n);kc(t,c),Is(Es(i()),function(){n.mh=!0,xc(n)},function(i){n.mh=!0,yc(t,i)})}function Nc(t){t.Ch=void 0,t.Dh=void 0,t.Ih=void 0,t.Sh=void 0}function Oc(t){return t.Ah-t.fh}function xc(t){var n=t.Rh;if(!1!==t.mh&&void 0===n.lh)if("erroring"!==n.th){if(0!==t.Dn.length){var i=t.Dn.peek().value;"close"===i?function(t){var n=t.Rh;(function(t){t.yh=t.wh,t.wh=void 0})(n),ec(t);var i=t.Dh();Nc(t),Is(i,function(){!function(t){t.yh.Fn(void 0),t.yh=void 0,"erroring"===t.th&&(t.nh=void 0,void 0!==t.gh&&(t.gh.Fn(),t.gh=void 0)),t.th="closed";var n=t.hh;void 0!==n&&jc(n)}(n)},function(t){!function(t,n){t.yh.V(n),t.yh=void 0,void 0!==t.gh&&(t.gh.V(n),t.gh=void 0),yc(t,n)}(n,t)})}(t):function(t,n){var i=t.Rh;(function(t){t.lh=t.dh.shift()})(i),Is(t.Ch(n),function(){!function(t){t.lh.Fn(void 0),t.lh=void 0}(i);var n=i.th;if(ec(t),!1===pc(i)&&"writable"===n){var r=Lc(t);kc(i,r)}xc(t)},function(n){"writable"===i.th&&Nc(t),function(t,n){t.lh.V(n),t.lh=void 0,yc(t,n)}(i,n)})}(t,i.chunk)}}else _c(n)}function Pc(t,n){"writable"===t.Rh.th&&Fc(t,n)}function Lc(t){return Oc(t)<=0}function Fc(t,n){var i=t.Rh;Nc(t),gc(i,n)}function Mc(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Bc(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Uc(t){return new d("Cannot "+t+" a stream using a released writer")}function Vc(t){t.Bc=Ts(function(n,i){t.ih=n,t.rh=i,t.Th="pending"})}function qc(t,n){Vc(t),Hc(t,n)}function Hc(t,n){Ns(t.Bc),t.rh(n),t.ih=void 0,t.rh=void 0,t.Th="rejected"}function jc(t){t.ih(void 0),t.ih=void 0,t.rh=void 0,t.Th="resolved"}function Wc(t){t.bh=Ts(function(n,i){t.Nh=n,t.Oh=i}),t.Eh="pending"}function zc(t,n){Wc(t),Xc(t,n)}function $c(t){Wc(t),Gc(t)}function Xc(t,n){Ns(t.bh),t.Oh(n),t.Nh=void 0,t.Oh=void 0,t.Eh="rejected"}function Gc(t){t.Nh(void 0),t.Nh=void 0,t.Oh=void 0,t.Eh="fulfilled"}function Yc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Kc="undefined"!=typeof DOMException?DOMException:void 0;var Jc,Qc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Kc)?Kc:((Jc=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Jc.prototype,"constructor",{value:Jc,writable:!0,configurable:!0}),Jc);function Zc(t,n,i,r,e,u){var o=Ws(t),s=fc(n);t.uh=!0;var c=!1,a=Es(void 0);return Ts(function(f,h){var v,l,w,y;if(void 0!==u){if(v=function(){var i=new Qc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.th?lc(n,i):Es(void 0)}),!1===e&&u.push(function(){return"readable"===t.th?za(t,i):Es(void 0)}),m(function(){return C.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(p(t,o.Bc,function(t){!1===r?m(function(){return lc(n,t)},!0,t):k(!0,t)}),p(n,s.Bc,function(n){!1===e?m(function(){return za(t,n)},!0,n):k(!0,n)}),l=t,w=o.Bc,y=function(){!1===i?m(function(){return function(t){var n=t.kh,i=n.th;return!0===pc(n)||"closed"===i?Es(void 0):"errored"===i?Ss(n.nh):Ec(t)}(s)}):k()},"closed"===l.th?y():As(w,y),!0===pc(n)||"closed"===n.th){var g=new d("the destination writable stream closed before all data could be piped to it");!1===e?m(function(){return za(t,g)},!0,g):k(!0,g)}function _(){var t=a;return Rs(a,function(){return t!==a?_():void 0})}function p(t,n,i){"errored"===t.th?i(t.nh):Cs(n,i)}function m(t,i,r){function e(){Is(t(),function(){return b(i,r)},function(t){return b(!0,t)})}!0!==c&&(c=!0,"writable"===n.th&&!1===pc(n)?As(_(),e):e())}function k(t,i){!0!==c&&(c=!0,"writable"===n.th&&!1===pc(n)?As(_(),function(){return b(t,i)}):b(t,i))}function b(t,n){Ic(s),Fs(o),void 0!==u&&u.removeEventListener("abort",v),t?h(n):f(void 0)}Ns(Ts(function(t,n){!function i(r){r?t():Rs(!0===c?Es(!0):Rs(s.bh,function(){return Rs(Zs(o),function(t){return!0===t.done||(a=Rs(Ac(s,t.value),void 0,os),!1)})}),i,n)}(!1)}))})}var ta=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===na(this))throw ha("desiredSize");return ca(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===na(this))throw ha("close");if(!1===aa(this))throw new d("The stream is not in a state that permits close");ua(this)},t.prototype.enqueue=function(t){if(!1===na(this))throw ha("enqueue");if(!1===aa(this))throw new d("The stream is not in a state that permits enqueue");return oa(this,t)},t.prototype.error=function(t){if(!1===na(this))throw ha("error");sa(this,t)},t.prototype[Hs]=function(t){oc(this);var n=this.xh(t);return ea(this),n},t.prototype[js]=function(){var t=this.Ph;if(this.Dn.length>0){var n=ec(this);return!0===this.Lh&&0===this.Dn.length?(ea(this),$a(t)):ia(this),Es(xs(n,!1,t.Zf.Jf))}var i=zs(t);return ia(this),i},t}();function na(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"Ph")}function ia(t){!1!==ra(t)&&(!0!==t.Fh?(t.Fh=!0,Is(t.Mh(),function(){t.Fh=!1,!0===t.Bh&&(t.Bh=!1,ia(t))},function(n){sa(t,n)})):t.Bh=!0)}function ra(t){var n=t.Ph;return!1!==aa(t)&&(!1!==t.mh&&(!0===Wa(n)&&Xs(n)>0||ca(t)>0))}function ea(t){t.Mh=void 0,t.xh=void 0,t.Sh=void 0}function ua(t){var n=t.Ph;t.Lh=!0,0===t.Dn.length&&(ea(t),$a(n))}function oa(t,n){var i=t.Ph;if(!0===Wa(i)&&Xs(i)>0)$s(i,n,!1);else{var r=void 0;try{r=t.Sh(n)}catch(n){throw sa(t,n),n}try{uc(t,n,r)}catch(n){throw sa(t,n),n}}ia(t)}function sa(t,n){var i=t.Ph;"readable"===i.th&&(oc(t),ea(t),Xa(i,n))}function ca(t){var n=t.Ph.th;return"errored"===n?null:"closed"===n?0:t.Ah-t.fh}function aa(t){var n=t.Ph.th;return!1===t.Lh&&"readable"===n}function fa(t,n,i,r,e,u,o){n.Ph=t,n.Dn=void 0,n.fh=void 0,oc(n),n.mh=!1,n.Lh=!1,n.Bh=!1,n.Fh=!1,n.Sh=o,n.Ah=u,n.Mh=r,n.xh=e,t.oh=n,Is(Es(i()),function(){n.mh=!0,ia(n)},function(t){sa(n,t)})}function ha(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var va=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&w.floor(t)===t},da=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===ya(this))throw Oa("view");return this.Uh},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===ya(this))throw Oa("respond");if(void 0===this.Vh)throw new d("This BYOB request has been invalidated");this.Uh.buffer,function(t,n){if(!1===hs(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Ra(t,n)}(this.Vh,t)},t.prototype.respondWithNewView=function(t){if(!1===ya(this))throw Oa("respond");if(void 0===this.Vh)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.qh.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Ra(t,n.byteLength)}(this.Vh,t)},t}(),la=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===wa(this))throw xa("byobRequest");if(void 0===this.Hh&&this.qh.length>0){var t=this.qh.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(da.prototype);!function(t,n,i){t.Vh=n,t.Uh=i}(i,this,n),this.Hh=i}return this.Hh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===wa(this))throw xa("desiredSize");return Da(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===wa(this))throw xa("close");if(!0===this.Lh)throw new d("The stream has already been closed; do not close it again!");var t=this.jh.th;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.jh;if(t.fh>0)return void(t.Lh=!0);if(t.qh.length>0){var i=t.qh.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw Ca(t,r),r}}Aa(t),$a(n)}(this)},t.prototype.enqueue=function(t){if(!1===wa(this))throw xa("enqueue");if(!0===this.Lh)throw new d("stream is closed or draining");var n=this.jh.th;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.jh,r=n.buffer,e=n.byteOffset,u=n.byteLength,o=ys(r);if(!0===Gs(i))if(0===Xs(i))ma(t,o,e,u);else{var s=new p(o,e,u);$s(i,s,!1)}else!0===Fa(i)?(ma(t,o,e,u),Sa(t)):ma(t,o,e,u);ga(t)}(this,t)},t.prototype.error=function(t){if(!1===wa(this))throw xa("error");Ca(this,t)},t.prototype[Hs]=function(t){this.qh.length>0&&(this.qh.peek().bytesFilled=0);oc(this);var n=this.xh(t);return Aa(this),n},t.prototype[js]=function(){var t=this.jh;if(this.fh>0){var n=this.Dn.shift();this.fh-=n.byteLength,Ta(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Ss(t)}return Es(xs(i,!1,t.Zf.Jf))}var r=this.Wh;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Ss(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.qh.push(u)}var o=zs(t);return ga(this),o},t}();function wa(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"jh")}function ya(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"Vh")}function ga(t){!1!==function(t){var n=t.jh;if("readable"!==n.th)return!1;if(!0===t.Lh)return!1;if(!1===t.mh)return!1;if(!0===Gs(n)&&Xs(n)>0)return!0;if(!0===Fa(n)&&La(n)>0)return!0;if(Da(t)>0)return!0;return!1}(t)&&(!0!==t.Fh?(t.Fh=!0,Is(t.Mh(),function(){t.Fh=!1,!0===t.Bh&&(t.Bh=!1,ga(t))},function(n){Ca(t,n)})):t.Bh=!0)}function _a(t,n){var i=!1;"closed"===t.th&&(i=!0);var r=pa(n);"default"===n.readerType?$s(t,r,i):function(t,n,i){var r=t.Zf;r.zh.shift().Fn(xs(n,i,r.Jf))}(t,r,i)}function pa(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function ma(t,n,i,r){t.Dn.push({buffer:n,byteOffset:i,byteLength:r}),t.fh+=r}function ka(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=w.min(t.fh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,o=u-u%i,s=e,c=!1;o>r&&(s=o-n.bytesFilled,c=!0);for(var a,f,h,v,d,l=t.Dn;s>0;){var y=l.peek(),g=w.min(s,y.byteLength),_=n.byteOffset+n.bytesFilled;a=n.buffer,f=_,h=y.buffer,v=y.byteOffset,d=g,new p(a).set(new p(h,v,d),f),y.byteLength===g?l.shift():(y.byteOffset+=g,y.byteLength-=g),t.fh-=g,ba(t,g,n),s-=g}return c}function ba(t,n,i){Ea(t),i.bytesFilled+=n}function Ta(t){0===t.fh&&!0===t.Lh?(Aa(t),$a(t.jh)):ga(t)}function Ea(t){void 0!==t.Hh&&(t.Hh.Vh=void 0,t.Hh.Uh=void 0,t.Hh=void 0)}function Sa(t){for(;t.qh.length>0;){if(0===t.fh)return;var n=t.qh.peek();!0===ka(t,n)&&(Ia(t),_a(t.jh,n))}}function Ra(t,n){var i=t.qh.peek();if("closed"===t.jh.th){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ys(n.buffer);var i=t.jh;if(!0===Fa(i))for(;La(i)>0;)_a(i,Ia(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(ba(t,n,i),!(i.bytesFilled<i.elementSize)){Ia(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);ma(t,u,0,u.byteLength)}i.buffer=ys(i.buffer),i.bytesFilled-=r,_a(t.jh,i),Sa(t)}}(t,n,i);ga(t)}function Ia(t){var n=t.qh.shift();return Ea(t),n}function Aa(t){t.Mh=void 0,t.xh=void 0}function Ca(t,n){var i=t.jh;"readable"===i.th&&(!function(t){Ea(t),t.qh=new Os}(t),oc(t),Aa(t),Xa(i,n))}function Da(t){var n=t.jh.th;return"errored"===n?null:"closed"===n?0:t.Ah-t.fh}function Na(t,n,i){var r=l.create(la.prototype);var e=ds(n,"pull",0,[r]),u=ds(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===va(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,o){n.jh=t,n.Bh=!1,n.Fh=!1,n.Hh=void 0,n.Dn=n.fh=void 0,oc(n),n.Lh=!1,n.mh=!1,n.Ah=gs(u),n.Mh=r,n.xh=e,n.Wh=o,n.qh=new Os,t.oh=n,Is(Es(i()),function(){n.mh=!0,ga(n)},function(t){Ca(n,t)})}(t,r,function(){return ls(n,"start",[r])},e,u,i,o)}function Oa(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function xa(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Pa(t){return Ts(function(n,i){var r={Fn:n,V:i};t.Zf.zh.push(r)})}function La(t){return t.Zf.zh.length}function Fa(t){var n=t.Zf;return void 0!==n&&!!Ba(n)}var Ma=function(){function t(t){if(!ja(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===wa(t.oh))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Wa(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ps(this,t),this.zh=new Os}return l.defineProperty(t.prototype,"closed",{get:function(){return Ba(this)?this.Bc:Ss(Ua("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ba(this)?void 0===this.Qf?Ss(Ms("cancel")):Ls(this,t):Ss(Ua("cancel"))},t.prototype.read=function(t){return Ba(this)?void 0===this.Qf?Ss(Ms("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Ss(new d("view must have non-zero byteLength")):function(t,n){var i=t.Qf;if(i.uh=!0,"errored"===i.th)return Ss(i.nh);return function(t,n){var i=t.jh,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:ys(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.qh.length>0)return t.qh.push(u),Pa(i);if("closed"===i.th)return Es(xs(new e(u.buffer,u.byteOffset,0),!0,i.Zf.Jf));if(t.fh>0){if(!0===ka(t,u)){var o=pa(u);return Ta(t),Es(xs(o,!1,i.Zf.Jf))}if(!0===t.Lh){var s=new d("Insufficient bytes to fill elements in the given buffer");return Ca(t,s),Ss(s)}}t.qh.push(u);var c=Pa(i);return ga(t),c}(i.oh,n)}(this,t)):Ss(new d("view must be an array buffer view")):Ss(Ua("read"))},t.prototype.releaseLock=function(){if(!Ba(this))throw Ua("releaseLock");if(void 0!==this.Qf){if(this.zh.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Fs(this)}},t}();function Ba(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"zh")}function Ua(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Va=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Ha(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Na(this,t,r=gs(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=_s(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(ta.prototype),u=ds(n,"pull",0,[e]),o=ds(n,"cancel",1,[]);fa(t,e,function(){return ls(n,"start",[e])},u,o,i,r)}(this,t,r=gs(r),u)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===ja(this))throw Ga("locked");return Wa(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===ja(this)?Ss(Ga("cancel")):!0===Wa(this)?Ss(new d("Cannot cancel a stream that already has a reader")):za(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===ja(this))throw Ga("getReader");if(void 0===n)return Ws(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Ma(t);return i.Jf=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,o=e.preventAbort,s=e.preventCancel,c=e.signal;if(!1===ja(this))throw Ga("pipeThrough");if(!1===vc(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===ja(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!Yc(c))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Wa(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===dc(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ns(Zc(this,i,u,o,s,c)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===ja(this)?Ss(Ga("pipeTo")):!1===vc(t)?Ss(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===o||Yc(o)?!0===Wa(this)?Ss(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===dc(t)?Ss(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Zc(this,t,r,e,u,o):Ss(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===ja(this))throw Ga("tee");var t=function(t,n){var i,r,e,u,o,s=Ws(t),c=!1,a=!1,f=!1,h=Ts(function(t){o=t});function v(){return!0===c?Es(void 0):(c=!0,Ns(Ds(Zs(s),function(t){if(c=!1,!0===t.done)return!1===a&&ua(e.oh),void(!1===f&&ua(u.oh));var n=t.value,i=n,r=n;!1===a&&oa(e.oh,i),!1===f&&oa(u.oh,r)})),Es(void 0))}function d(){}return e=qa(d,v,function(n){if(a=!0,i=n,!0===f){var e=fs([i,r]),u=za(t,e);o(u)}return h}),u=qa(d,v,function(n){if(f=!0,r=n,!0===a){var e=fs([i,r]),u=za(t,e);o(u)}return h}),Cs(s.Bc,function(t){sa(e.oh,t),sa(u.oh,t)}),[e,u]}(this);return fs(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===ja(this))throw Ga("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Ws(t),r=l.create(nc);return r.sh=i,r.ah=Boolean(n),r}(this,i)},t}();function qa(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=l.create(Va.prototype);return Ha(u),fa(u,l.create(ta.prototype),t,n,i,r,e),u}function Ha(t){t.th="readable",t.Zf=void 0,t.nh=void 0,t.uh=!1}function ja(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"oh")}function Wa(t){return void 0!==t.Zf}function za(t,n){return t.uh=!0,"closed"===t.th?Es(void 0):"errored"===t.th?Ss(t.nh):($a(t),Ds(t.oh[Hs](n),os))}function $a(t){t.th="closed";var n=t.Zf;void 0!==n&&(Qs(n)&&(n.eh.forEach(function(t){t.Fn(xs(void 0,!0,n.Jf))}),n.eh=new Os),qs(n))}function Xa(t,n){t.th="errored",t.nh=n;var i=t.Zf;void 0!==i&&(Qs(i)?(i.eh.forEach(function(t){t.V(n)}),i.eh=new Os):(i.zh.forEach(function(t){t.V(n)}),i.zh=new Os),Vs(i,n))}function Ga(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof us.asyncIterator&&l.defineProperty(Va.prototype,us.asyncIterator,{value:Va.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Ya=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=_s(r);if(void 0===e&&(e=1),e=gs(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,a=_s(u);void 0===o&&(o=0),o=gs(o),function(t,n,i,r,e,u){function o(){return n}t.$h=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var o=l.create(ac.prototype);return hc(o),Dc(o,l.create(Cc.prototype),t,n,i,r,e,u),o}(o,function(n){return function(t,n){var i=t.Xh;if(!0===t._h){var r=t.Gh;return Ds(r,function(){var r=t.$h,e=r.th;if("erroring"===e)throw r.nh;return uf(i,n)})}return uf(i,n)}(t,n)},function(){return function(t){var n=t.Yh,i=t.Xh,r=i.Kh();return rf(i),Ds(r,function(){if("errored"===n.th)throw n.nh;var t=n.oh;!0===aa(t)&&ua(t)},function(i){throw Ja(t,i),n.nh})}(t)},function(n){return function(t,n){return Ja(t,n),Es(void 0)}(t,n)},i,r),t.Yh=qa(o,function(){return function(t){return Za(t,!1),t.Gh}(t)},function(n){return Qa(t,n),Es(void 0)},e,u),t._h=void 0,t.Gh=void 0,t.Jh=void 0,Za(t,!0),t.Xh=void 0}(this,Ts(function(t){c=t}),e,s,o,a),function(t,n){var i=l.create(tf.prototype),r=function(t){try{return ef(i,t),Es(void 0)}catch(t){return Ss(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ws(e,n,[t,i])}}var u=ds(n,"flush",0,[i]);!function(t,n,i,r){n.Qh=t,t.Xh=n,n.Zh=i,n.Kh=r}(t,i,r,u)}(this,t);var f=ls(t,"start",[this.Xh]);c(f)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Ka(this))throw sf("readable");return this.Yh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Ka(this))throw sf("writable");return this.$h},enumerable:!0,configurable:!0}),t}();function Ka(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"Xh")}function Ja(t,n){sa(t.Yh.oh,n),Qa(t,n)}function Qa(t,n){rf(t.Xh),Pc(t.$h.vh,n),!0===t._h&&Za(t,!1)}function Za(t,n){void 0!==t.Gh&&t.Jh(),t.Gh=Ts(function(n){t.Jh=n}),t._h=n}var tf=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nf(this))throw of("desiredSize");return ca(this.Qh.Yh.oh)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===nf(this))throw of("enqueue");ef(this,t)},t.prototype.error=function(t){if(!1===nf(this))throw of("error");var n;n=t,Ja(this.Qh,n)},t.prototype.terminate=function(){if(!1===nf(this))throw of("terminate");!function(t){var n=t.Qh,i=n.Yh.oh;!0===aa(i)&&ua(i);var r=new d("TransformStream terminated");Qa(n,r)}(this)},t}();function nf(t){return!!as(t)&&!!l.prototype.hasOwnProperty.call(t,"Qh")}function rf(t){t.Zh=void 0,t.Kh=void 0}function ef(t,n){var i=t.Qh,r=i.Yh.oh;if(!1===aa(r))throw new d("Readable side is not in a state that permits enqueue");try{oa(r,n)}catch(t){throw Qa(i,t),i.Yh.nh}(function(t){return!0!==ra(t)})(r)!==i._h&&Za(i,!0)}function uf(t,n){return Ds(t.Zh(n),void 0,function(n){throw Ja(t.Qh,n),n})}function of(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function sf(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var cf,af=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return $(n,t),W(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(sn);function ff(t){return n=[t],new Va({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function hf(t){return ff(new p(t))}function vf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new eo,u=function(){o();var t=new Oe;r.cancel(t).catch(L),e.xc(t)},o=function(){i&&(i.Ms(u),i=void 0)};i&&(i.Ds?u():i.Fs(u));var s=[];return C.resolve(r.read()).then(function t(n){return n.done?(o(),C.resolve(s)):(s.push(n.value),C.resolve(r.read()).then(t))}).then(function(t){o(),e.Oc(t)},function(t){o(),e.xc(t)}),e.Nc}(t,n).then(function(t){return wu(t).buffer})}function df(t,n){var i=n,r=new Ya,e=r.readable,u=r.writable,o=u.getWriter(),s=function(){i&&i.qs()};return o.closed.then(s,s),t.then(function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(L)},function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(L)}),e}function lf(t){return Gu(new p(t))}function wf(t){return Yu(t).buffer}!function(t){t[t.Hf=0]="Hf",t[t.tv=1]="tv"}(cf||(cf={}));var yf="content-type",gf="text/plain;charset=UTF-8",_f=function(){function t(){}var n=t.prototype;return n.nv=function(t){return this.iv(t).then(JSON.parse)},n.rv=function(t,n){switch(t){case ns.Vf:return this.ev(n);case ns.qf:return this.nv(n);case ns.Hf:return this.uv();case ns.au:return this.iv(n);default:throw new d}},t}();function pf(t,n,i){if(t instanceof _f)return t;if(t instanceof Va)return function(t,n){return new kf({_s:cf.Hf,uv:t,ov:mf(n)})}(t,i);var r=mf(i),e=C.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{_s:ns.au,sv:t,ov:n||gf};if(t instanceof ArrayBuffer||du(t))return{_s:ns.Vf,sv:Af(t),ov:n};if(at(t)||ot(t))return{_s:ns.qf,sv:t,ov:n};throw new d("Unsupported BodyInit type")}return{_s:ns.au,sv:null,ov:n}}(t,r)});return new kf({_s:cf.tv,Nc:e,cv:n})}function mf(t){return(t.get(yf)||"").toLowerCase()}var kf=function(t){function n(n){var i;return(i=t.call(this)||this).av=!1,i.fv=void 0,i.hv=new eo,i.hv.Nc.catch(L),i.vv(n),i}$(n,t);var i=n.prototype;return i.dv=function(){return this.hv.Nc},i.iv=function(t){return this.lv(bf,t)},i.nv=function(t){return this.lv(Ef,t)},i.ev=function(t){return this.lv(Rf,t)},i.uv=function(){return this.wv((t=this.fv)._s===cf.Hf?t.uv:df(t.Nc.then(If).then(hf),t.cv));var t},i.lv=function(t,n){if(this.av)return C.reject(new d("Already used"));this.av=!0;var i=t(this.fv,n);return this.hv.Oc(i.then(L)),i},i.wv=function(t){if(this.av)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.av=!0;var n=new Ya,i=C.resolve(t.pipeTo(n.writable));return this.hv.Oc(i),n.readable},i.vv=function(t){this.fv=t,t._s===cf.tv&&t.Nc.catch(L)},i.yv=function(){if(this.av)throw new d("Already used");var t=function(t){if(t._s===cf.Hf){var n=t.uv.tee(),i=n[0],r=n[1];return[{_s:t._s,uv:i,ov:t.ov},{_s:t._s,uv:r,ov:t.ov}]}var e=t.cv.js(),u=e[0],o=e[1];return[{_s:t._s,Nc:t.Nc,cv:u},{_s:t._s,Nc:t.Nc,cv:o}]}(this.fv),i=t[0],r=t[1];return this.vv(i),new n(r)},W(n,[{key:"gv",get:function(){return this.av}}]),n}(_f);function bf(t,n){return t._s===cf.Hf?vf(t.uv,n).then(lf):(n&&t.cv.Hs(n),Be(t.Nc.then(Tf),t.cv))}function Tf(t){switch(t._s){case ns.au:return C.resolve(t.sv||"");case ns.Vf:return C.resolve(t.sv).then(lf);case ns.qf:return C.resolve(t.sv).then(JSON.stringify)}}function Ef(t,n){return t._s===cf.Hf?bf(t,n).then(JSON.parse):(n&&t.cv.Hs(n),Be(t.Nc.then(Sf),t.cv))}function Sf(t){return t._s===ns.qf?C.resolve(t.sv):Tf(t).then(JSON.parse)}function Rf(t,n){return t._s===cf.Hf?vf(t.uv,n):(n&&t.cv.Hs(n),Be(t.Nc.then(If),t.cv))}function If(t){switch(t._s){case ns.Vf:return C.resolve(t.sv);case ns.au:case ns.qf:return Tf(t).then(wf)}}function Af(t){return t instanceof ArrayBuffer?t:io(Qu(t)).buffer}function Cf(t){return t._v>=200&&t._v<=299||304===t._v}var Df,Nf,Of,xf,Pf=function(t){function n(n,i){var r,e,u,o,s,c;i?(e=i.pv,u=i.mv,o=i._v,s=i.kv,c=i.bv):(e=[],u=ns.au,o=200,s="OK",c=!1);var a=n.Tv,f=new is(n.pv||e),h=n.mv||u,v=n.Ev||(i&&i.Tv===a?i.Ev:a.Sv),d=i?i.Rv:null,l=pf(void 0!==n.Bu?n.Bu:d,n.cv||new Ne,f);return(r=t.call(this,l)||this).pv=void 0,r.Tv=void 0,r.Ev=void 0,r.mv=void 0,r._v=void 0,r.kv=void 0,r.bv=void 0,r.pv=f,r.Tv=a,r.Ev=v,r.mv=h,r._v=void 0!==n._v?n._v:o,r.kv=void 0!==n.kv?String(n.kv):s,r.bv=n.bv||c,r}$(n,t);var i=n.prototype;return i.Bu=function(t){return this.rv(this.mv,t)},i.Rc=function(){return new n({Bu:this.yv(),Tv:this.Tv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Rv=void 0,i.Rv=n,i}$(n,t);var i=n.prototype;return i.dv=function(){return this.Rv.dv()},i.iv=function(t){return this.Rv.iv(t)},i.nv=function(t){return this.Rv.nv(t)},i.ev=function(t){return this.Rv.ev(t)},i.uv=function(){return this.Rv.uv()},i.yv=function(){return this.Rv.yv()},W(n,[{key:"gv",get:function(){return this.Rv.gv}}]),n}(_f));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Df||(Df={})),function(t){t.Iv="",t.Av="manifest",t.Cv="segment",t.Dv="content-protection"}(Nf||(Nf={})),function(t){t.Iv="",t.Nv="initialization-segment",t.Ov="fairplay-license",t.xv="fairplay-certificate",t.Pv="widevine-license",t.Lv="widevine-certificate",t.Fv="playready-license",t.Mv="clearkey-license",t.Bv="aes128-key"}(Of||(Of={})),function(t){t.Iv="",t.Uv="audio",t.Vv="video",t.au="text",t.qv="image"}(xf||(xf={}));var Lf=function(t,n){this.sv=void 0,this.pv=void 0,this.Hv=void 0,this.mv=void 0,this.jv=void 0,this.Ws=void 0,this._s=void 0,this.Wv=void 0,this.zv=void 0,this.Sv=void 0,this.$v=void 0,this.Xv=void 0;var i,r,e,u,o,s,c,a,f,h,v,d=t.Sv;n?(i=n.sv,r=n.pv,e=n.Hv,u=n.mv,o=n.jv,s=n.Ws,c=n._s,a=n.Wv,f=n.zv,h=n.$v,v=n.Xv):(i=null,r={},e=Df.GET,u=ns.au,o=0,c=Nf.Iv,a=Of.Iv,f=xf.Iv,h=!1),this.Sv=d,this.sv=t.sv||i,this.pv=new is(t.pv||r),this.Hv=t.Hv||e,this.mv=t.mv||u,this.jv=void 0!==t.jv?Number(t.jv)||0:o,this.Ws=t.Ws||s||(new Ne).Ws,this._s=t._s||c,this.Wv=t.Wv||a,this.zv=t.zv||f,this.$v=void 0!==t.$v?Boolean(t.$v):h,this.Xv=t.Xv||v},Ff=function(){function t(){}var n=t.prototype;return n.Tv=function(t){var n=function(t){return new Pf({Bu:null,pv:{},Tv:t,Ev:t.Sv,mv:t.mv,_v:0,kv:ts.pf})}(new Lf(t));return C.resolve(n)},n.Gv=function(t){},n.sr=function(){},t}();var Mf=function(){function t(t,n){void 0===n&&(n=!0),this.Yv=void 0,this.Kv=void 0,this.Yv=t,this.Kv=n}var n=t.prototype;return n.Tv=function(t){var n=this.Jv(t);return this.Yv.Tv(n)},n.Gv=function(t){return this.Yv.Gv(this.Qv(t))},n.Jv=function(n){var i=new Lf(n);if(!this.Kv){var r=t.Zv(i.Sv);i=new Lf({Sv:r},i)}return i},n.Qv=function(n){var i=n.Sv;return this.Kv||(i=t.Zv(i)),{Sv:i,sv:n.sv}},t.Zv=function(t){return N.Qo&&le(t,"http://")?t.replace(":","s:"):t},n.sr=function(){this.Yv.sr()},W(t,null,[{key:"td",get:function(){return t.nd||(t.nd=new t(new Ff)),t.nd}}]),t}();function Bf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Uf(t,n){var i=N.$o(t);return n&&!we(i,"/")&&(i+="/"),i}Mf.nd=void 0;var Vf,qf=/cache:(.+)?(?=&|$)/,Hf="http://webcache.googleusercontent.com/search?q=cache:";function jf(t){if(!le(t,Hf))return"";var n=N.zo(t).search.match(qf);return n&&n.length>1?n[1]:""}!function(t){t.rd="HttpOpenError",t.ed="HttpResponseError",t.ud="HttpTimeoutError"}(Vf||(Vf={}));var Wf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).od=void 0,e.od=n,e}return $(n,t),W(n,[{key:"Tv",get:function(){return this.od}}]),n}(sn);var zf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Sv+". Invalid URL.",i)||this}return $(n,t),W(n,[{key:"name",get:function(){return Vf.rd}}]),n}(Wf);var $f=function(t){function n(n,i,r){var e;return(e=t.call(this,n.Tv,null!=r?r:function(t){return"Error while loading "+t.Tv.Sv+", status code "+t._v}(n),i)||this).sd=void 0,e.sd=n,e}return $(n,t),W(n,[{key:"name",get:function(){return Vf.ed}},{key:"fd",get:function(){return this.sd}}]),n}(Wf);var Xf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Sv+" timed out after "+t.jv+" seconds."}(n),i)||this}return $(n,t),W(n,[{key:"name",get:function(){return Vf.ud}}]),n}(Wf),Gf=function(t,n){return(Gf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Yf(t,n){function i(){this.constructor=t}Gf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Kf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var Jf=function(){var t=Kf.Blob;if(t)try{return new t,function(t,n){return new Kf.Blob(t,n)}}catch(t){}var n,i=Kf.BlobBuilder||Kf.WebKitBlobBuilder||Kf.MozBlobBuilder||Kf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var o=u[e];r.append(o)}return r.getBlob(i&&i.type||"")}):null}(),Qf="function"==typeof Va?Va:void 0;function Zf(t){return t&&"function"==typeof t.getReader}function th(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Zf(i)}catch(t){return!1}}var nh=function(){function t(t,n){this.Zf=t,this.hd=n}return t.prototype.pull=function(t){var n=this;return this.Zf.read().then(function(i){n.hd&&n.hd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Zf.cancel(t)},t}();function ih(t,n){return n.constructor===t?n:new t(new nh(n.getReader()),{highWaterMark:0})}var rh=function(){function t(t,n){this.vd=t,this.yt=n}return t.prototype.pull=function(t){return this.vd().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.yt&&this.yt(t)},t}();function eh(t,n,i){return new t(new rh(n,i),{highWaterMark:0})}var uh={searchParams:"URLSearchParams"in Kf,iterable:"Symbol"in Kf&&"iterator"in Symbol,blob:"FileReader"in Kf&&!!Jf,formData:"FormData"in Kf,arrayBuffer:"ArrayBuffer"in Kf,stream:th(Qf),streamRequest:"Request"in Kf&&"body"in Kf.Request.prototype,streamResponse:"Response"in Kf&&"body"in Kf.Response.prototype,abort:"AbortController"in Kf&&"Request"in Kf&&"signal"in Kf.Request.prototype,encoding:"TextEncoder"in Kf&&"TextDecoder"in Kf,url:"URL"in Kf&&function(t){try{return new Kf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Kf&&/Firefox\//.test(Kf.navigator.userAgent)};function oh(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function sh(t){return"string"!=typeof t&&(t=String(t)),t}function ch(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return uh.iterable&&(n[Symbol.iterator]=function(){return n}),n}var ah=function(){function t(t){var n=this;this.hs={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return uh.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=oh(t),n=sh(n);var i=t.toLowerCase();if(this.hs.hasOwnProperty(i)){var r=this.hs[i],e=r[1];r[1]=e?e+", "+n:n}else this.hs[i]=[t,n]},t.prototype.delete=function(t){var n=oh(t).toLowerCase();delete this.hs[n]},t.prototype.get=function(t){var n=oh(t).toLowerCase();return this.hs.hasOwnProperty(n)?this.hs[n][1]:null},t.prototype.has=function(t){var n=oh(t).toLowerCase();return this.hs.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=oh(t)).toLowerCase();this.hs[i]=[t,sh(n)]},t.prototype.forEach=function(t,n){for(var i in this.hs)this.hs.hasOwnProperty(i)&&t.call(n,this.hs[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),ch(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),ch(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),ch(t)},t.prototype.asList=function(){var t=[];for(var n in this.hs)if(this.hs.hasOwnProperty(n)){var i=this.hs[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function fh(){}uh.iterable&&(ah.prototype[Symbol.iterator]=ah.prototype.entries);var hh,vh,dh,lh=w.min,wh=String.fromCharCode,yh=16384;function gh(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=yh){var e=lh(r+yh,n);i.push(wh.apply(null,t.slice(r,e)))}return i.join("")}(n)}function _h(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ph(t,n){return t>>n&63|128}function mh(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(_h(t),n.push(t>>12&15|224),n.push(ph(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ph(t,12)),n.push(ph(t,6))),n.push(63&t|128)):n.push(t)}function kh(){if(dh>=vh)throw new v("Invalid byte index");var t=255&hh[dh];if(dh++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function bh(){var t,n;if(dh>vh)throw new v("Invalid byte index");if(dh===vh)return!1;if(t=255&hh[dh],dh++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|kh())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|kh()<<6|kh())>=2048)return _h(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|kh()<<12|kh()<<6|kh())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var Th=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Eh(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Sh(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Rh(t){return t&&DataView.prototype.isPrototypeOf(t)}var Ih,Ah=ArrayBuffer.isView||function(t){return t&&(Th.indexOf(l.prototype.toString.call(t))>-1||Rh(t))};function Ch(t){if(t.bodyUsed)return C.reject(new d("Already used"));t.bodyUsed=!0}function Dh(t){return new C(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Nh(t){return uh.encoding?new Kf.TextDecoder("utf-8").decode(new p(t)):gh(function(t){vh=(hh=t).length,dh=0;for(var n,i=[];!1!==(n=bh());)i.push(n);return i}(new p(t)))}function Oh(t){return uh.encoding?(new Kf.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],i=0,r=t;i<r.length;i++)mh(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function xh(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?C.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function Ph(t){return xh(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(c=r[i]).byteLength;for(var e=new p(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];e.set(c,u),u+=c.byteLength}return e}(t).buffer})}function Lh(t){return t.slice?t.slice(0):Fh(new p(t))}function Fh(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Mh(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Bh(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.dd===Ih.ld){if(!n.wd.tee)throw new v("could not clone ReadableStream body");var i=n.wd.tee(),r=i[0],e=i[1];return n.body=r,n.wd=r,n.yd=r,e}return n.dd===Ih.Vf?Lh(n.wd):n.dd===Ih.tv?n.wd.then(Bh):n.yd}!function(t){t[t.au=0]="au",t[t.gd=1]="gd",t[t._d=2]="_d",t[t.Vf=3]="Vf",t[t.ld=4]="ld",t[t.tv=5]="tv"}(Ih||(Ih={}));var Uh=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,o=this;if(this.yd=n||null,n)if("string"==typeof n)this.dd=Ih.au,this.wd=n;else if((u=n)&&"function"==typeof u.then)this.dd=Ih.tv,this.wd=C.resolve(n).then(function(n){return new t(n,i)}),this.wd.catch(fh);else if(uh.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.dd=Ih.gd,this.wd=n;else if(uh.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.dd=Ih._d,this.wd=n;else if(uh.searchParams&&Eh(n))this.dd=Ih.au,this.wd=n.toString();else if(uh.arrayBuffer&&(Sh(n)||Ah(n)))Rh(n)&&(this.yd=new p((e=n).buffer,e.byteOffset,e.byteLength)),this.dd=Ih.Vf,this.wd=Sh(r=n)?Lh(r):Fh(r);else{if(!uh.stream||!Zf(n))throw new v("unsupported BodyInit type");n=ih(Qf,n),this.dd=Ih.ld,this.wd=n,this.yd=n}else this.dd=Ih.au,this.wd="";this.pd="",i.has("content-type")?this.pd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.pd="text/plain;charset=UTF-8":o.dd===Ih.gd&&o.wd.type?this.pd=o.wd.type:uh.searchParams&&Eh(n)&&(this.pd="application/x-www-form-urlencoded;charset=UTF-8"),this.pd&&i.set("content-type",this.pd)),uh.stream&&(null==n?this.body=null:o.dd===Ih.ld?this.body=o.wd:this.body=eh(Qf,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Ch(this);return r||(this.dd===Ih.gd?(t=this.wd,n=new FileReader,i=Dh(n),n.readAsText(t),i):this.dd===Ih.Vf?C.resolve(this.wd).then(Nh):this.dd===Ih.ld?Ph(this.wd).then(Nh):this.dd===Ih.tv?this.wd.then(function(t){return t.text()}):this.dd===Ih._d?C.reject(new v("could not read FormData body as text")):C.resolve(this.wd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();uh.blob&&(Uh.prototype.blob=function(){var t,n,i=Ch(this);return i||(this.dd===Ih.gd?C.resolve(this.wd):this.dd===Ih.Vf?C.resolve(Jf([this.wd],{type:this.pd})):this.dd===Ih.ld?(t=this.wd,n=this.pd,xh(t).then(function(t){return Jf(t,{type:n||""})})):this.dd===Ih.tv?this.wd.then(function(t){return t.blob()}):this.dd===Ih._d?C.reject(new v("could not read FormData body as Blob")):C.resolve(Jf([this.wd],{type:this.pd})))}),uh.arrayBuffer&&(Uh.prototype.arrayBuffer=function(){var t,n,i;return this.dd===Ih.Vf?Ch(this)||C.resolve(this.wd):this.dd===Ih.gd?Ch(this)||(t=this.wd,n=new FileReader,i=Dh(n),n.readAsArrayBuffer(t),i):this.dd===Ih.ld?Ph(this.wd):this.dd===Ih.tv?Ch(this)||this.wd.then(function(t){return t.arrayBuffer()}):this.dd===Ih._d?C.reject(new v("could not read FormData body as ArrayBuffer")):C.resolve(this.wd).then(Oh)}),uh.formData&&(Uh.prototype.formData=function(){return this.dd===Ih._d?Ch(this)||C.resolve(this.wd):this.text().then(Mh)});var Vh=[301,302,303,307,308],qh=function(t){function n(n,i){var r=this,e=new ah((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Yf(n,t),n.prototype.clone=function(){return new n(Bh(this),{status:this.status,statusText:this.statusText,headers:new ah(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Vh.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Uh);var Hh,jh=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function o(t){return(o=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function s(t,n){return(s=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,n,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var h=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){c(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=o(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||h.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}(n,h),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),f(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==u?u.createEvent?(t=u.createEvent("Event")).initEvent("abort",!1,!1):(t=u.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=w,n.default=w});(Hh=jh)&&Hh.__esModule&&l.prototype.hasOwnProperty.call(Hh,"default")&&Hh.default;jh.AbortSignal;var Wh=jh.AbortController,zh=Kf.DOMException;try{new zh}catch(t){(zh=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),zh.prototype.constructor=zh}var $h=Wh;function Xh(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Gh(t,n,i){return new C(function(r,e){if(n.signal.aborted)return t.catch(fh),e(Yh());var u=function(){n.signal.removeEventListener("abort",u),e(Yh())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Yh(){return new zh("Aborted","AbortError")}var Kh,Jh="moz-chunked-arraybuffer";function Qh(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Kh||(Kh={}));var Zh=function(){function t(t,n){var i=this;this.md=!1,this.od=t,this.kd=n,this.bd=new m,this.Td=new C(function(t,n){i.Ed=t,i.Sd=n})}return t.prototype.send=function(){var t=this;return this.Rd().then(function(n){return t.Id(n,t.kd),t.Td})},t.prototype.Rd=function(){var t=this.od;return t.dd===Ih.ld?t.arrayBuffer():C.resolve(t.yd)},t.prototype.Ad=function(t){this.od.onprogress&&this.od.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Cd=function(t){this.Sd(t)},t.prototype.Dd=function(){this.Cd(new d("Network request failed"))},t.prototype.Nd=function(){this.Cd(new d("Network request failed"))},t.prototype.Od=function(){this.Cd(Yh())},t.prototype.Id=function(t,n){var i=this,r=this.od,e=this.bd,u=function(){return i.xd()};if(r.signal.aborted)return this.Od();e.onreadystatechange=function(){if(e.readyState>=Kh.HEADERS_RECEIVED&&!i.md){var t=function(t){var n=new ah;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.md=!0,i.Pd(n)}},e.onprogress=function(t){return i.Ad(t)},e.onload=function(){return i.Ld()},e.onerror=function(){return i.Dd()},e.ontimeout=function(){return i.Nd()},e.onabort=function(){return i.Od()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.xd=function(){this.Od(),this.bd.abort()},t}(),tv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Fd=void 0,r.Md=void 0,r}return Yf(n,t),n.prototype.Pd=function(t){var n=this;this.Fd=new C(function(t,i){n.Md=t,n.Bd=i}),this.Ed(new qh(this.Fd,t))},n.prototype.Ld=function(){var t=this.bd.response||this.bd.responseText;this.Md(t)},n.prototype.Cd=function(n){t.prototype.Cd.call(this,n),this.Bd&&this.Bd(n)},n}(Zh),nv=function(t){function n(n){var i=t.call(this,n,Jh)||this;return i.Ud=void 0,i.Vd=void 0,i.qd=!1,i}return Yf(n,t),n.prototype.Pd=function(t){var n=this;this.Ud=new Qf({start:function(t){n.Vd=t},cancel:function(){n.qd=!0,n.xd()}}),this.Ed(new qh(this.Ud,t))},n.prototype.Ad=function(n){this.qd||this.Vd.enqueue(new p(this.bd.response)),t.prototype.Ad.call(this,n)},n.prototype.Ld=function(){this.Vd.close()},n.prototype.Cd=function(n){t.prototype.Cd.call(this,n),this.Vd&&!this.qd&&(this.qd=!0,this.Vd.error(n))},n}(Zh),iv=function(){var t=uh.firefox&&Qh(Jh);return iv=function(){return t},t},rv=function(){var t;return t=uh.arrayBuffer&&Qh("arraybuffer")?"arraybuffer":uh.blob&&Qh("blob")?"blob":"",rv=function(){return t},t};function ev(t){return(uh.stream&&iv()?new nv(t):new tv(t,rv())).send()}var uv=Kf.fetch,ov=Kf.Request,sv=(Kf.Response,Kf.AbortController);var cv=["http:","https:"];var av=function(){try{if(uh.streamRequest){var t=new ov("about:blank",{body:"",method:"POST"}).body;if(t&&th(t.constructor))return t.constructor}}catch(t){}}();function fv(t,n,i){var r;if(uh.stream){var e=void 0;if(uh.streamResponse){var u=t.body;e=u&&ih(Qf,u)}else e=eh(Qf,function(){return Gh(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new nh(n.getReader(),i),{highWaterMark:0})}(Qf,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,hv(t.headers))),r=e}else{var o=Gh(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return C.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(o,i,hv(t.headers))),r=o}return new qh(r,t)}function hv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function vv(t){var n=new $h;return t.signal&&Xh(n,t.signal),function(t,n){var i,r,e=t;if(i=e.dd===Ih.ld?uh.streamRequest&&av?C.resolve(ih(av,e.wd)):Gh(t.arrayBuffer(),n,!1):Gh(C.resolve(t.yd),n,!1),uh.abort){var u=new sv;Xh(u,n.signal),r=u.signal}return i.then(function(n){return new ov(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof ah?i:new ah(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return uv(i).then(function(i){return fv(i,n,t.onprogress)})})}var dv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var lv=function(t){function n(i,r){var e,u,o,s,c,a,f,h,v,l=this,w=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,u=i.credentials,r.headers||(o=new ah(i.headers)),s=i.method,c=i.mode,a=i.referrer,f=i.referrerPolicy,h=i.signal,v=i.onprogress,w||null==i.yd||(w=i.yd,i.bodyUsed=!0)}else e=String(i),u="same-origin",s="GET",c="cors",a="about:client",f="",h=null,v=null;if(!r.headers&&o||(o=new ah(r.headers)),r&&(a="about:client",f=""),(l=t.call(this,w,o)||this).url=e,l.headers=o,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return dv.indexOf(n)>-1?n:t}(r.method||s),l.mode=r.mode||c,l.signal=r.signal||h||(new $h).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:f,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&w)throw new d("Body not allowed for GET or HEAD requests");return l}return Yf(n,t),n.prototype.clone=function(){return new n(this,{body:Bh(this)})},n}(Uh),wv="function"==typeof uv&&uh.stream&&uh.streamResponse&&uh.url;function yv(t,n){return new C(function(i){var r=new lv(t,n);i((wv&&function(t){try{return cv.indexOf(new Kf.URL(t,Kf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?vv:ev)(r))})}yv.polyfill=!0;var gv=function(){function t(t){this.fd=void 0,this.od=void 0,this.Hd=new Ne,this.sd=void 0,this.jd=!1,this.od=t,this.Hd.Hs(t.Ws),this.fd=this.Wd()}var n=t.prototype;return n.Wd=function(){var t=C.coroutine(Hr.mark(function t(){var n,i,r,e,u,o,s,a,f=this;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.od).jv&&c(function(){f.jd=!0,f.Hd.qs()},n.jv),t.prev=2,i=yv(n.Sv,{method:n.Hv,headers:n.pv.jf(),body:n.sv,credentials:n.$v?"include":"same-origin",signal:mv(this.Hd.Ws),onprogress:n.Xv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new zf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),xe(e=this.zd(t.t1))&&this.Hd.qs(),e;case 20:if(u=r.url||n.Sv,o=0===r.status&&"file:"===(h=u,N.zo(h).protocol)?200:r.status,s=new _v(this,r,this.Hd),a=new Pf({Bu:s,Tv:n,mv:n.mv,pv:new is(r.headers.asList()),_v:o,kv:r.statusText,Ev:u}),this.sd=a,!Cf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new $f(a);case 30:case"end":return t.stop()}var h},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.zd=function(t){return xe(t)?this.jd?new Xf(this.od):new Oe(t.message,t):this.sd?new $f(this.sd,t):new zf(this.od,t)},t}(),_v=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Zt=void 0,e.$d=void 0,e.Hd=void 0,e.hv=new eo,e.Zt=n,e.$d=i,e.Hd=r,e.hv.Nc.catch(L),e}$(n,t);var i=n.prototype;return i.dv=function(){return this.hv.Nc},i.iv=function(t){return this.lv(this.$d.text(),t)},i.ev=function(t){return this.lv(this.$d.arrayBuffer(),t)},i.uv=function(){var t=this.$d.body;return t?this.wv(t):df(this.ev().then(hf),this.Hd)},i.yv=function(){var t=this.$d.clone(),i=this.Hd.js(),r=i[0],e=i[1];return this.Hd=r,new n(this.Zt,t,e)},i.lv=function(t,n){var i=this;n&&this.Hd.Hs(n);var r=C.resolve(t).catch(function(t){throw i.Zt.zd(t)});return r=Be(r,this.Hd),this.hv.Oc(r.then(L)),r},i.wv=function(t){var n=this,i=new Ya,r=C.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Zt.zd(t);throw i.writable.abort(r).catch(L),r});return r=Be(r,this.Hd),this.hv.Oc(r.then(L)),i.readable},W(n,[{key:"gv",get:function(){return this.$d.bodyUsed}}]),n}(_f),pv="abort";function mv(t){var n=new $h;if(t.Ds)n.abort();else if(!t.Ns){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(pv,i),t.Ms(i),t.Us(r)};n.signal.addEventListener(pv,i),t.Fs(i),t.Bs(r)}return n.signal}var kv,bv=function(){function t(){}var n=t.prototype;return n.Tv=function(t){return new gv(t).fd},n.Gv=function(t){if(A&&A.sendBeacon)A.sendBeacon(t.Sv,Qo([t.sv],{type:t.ov}));else{var n=t.ov?{"Content-type":t.ov}:void 0;qe(this.Tv(new Lf({Hv:Df.POST,Sv:t.Sv,sv:t.sv,pv:n})))}},n.sr=function(){},t}(),Tv=function(n){function i(){for(var i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(i=n.call.apply(n,[this].concat(e))||this).Xd=void 0,i.Gd=function(){if(it.Ae)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Yd=it.Ke,i.Kd=void 0,i}return $(i,n),W(i,[{key:"Bo",get:function(){return this.Xd||(this.Xd=new be(Go())),this.Xd}},{key:"Jd",get:function(){return this.Gd}},{key:"Qd",get:function(){return this.Yd}},{key:"Zd",get:function(){return!1}},{key:"tl",get:function(){return Ko.nf()}},{key:"nl",get:function(){return{il:Zo}}},{key:"ul",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"ol",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"sl",get:function(){return this.Kd||(this.Kd=new Mf(new bv)),this.Kd}}]),i}(Vr);x(new Tv),function(t){t.cl="al",t.fl="hl"}(kv||(kv={}));kv.cl,kv.fl;var Ev=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).vl=void 0,r}return $(n,t),W(n,[{key:"dl",get:function(){return this.vl||(this.vl=this.ll()),this.vl}}]),n}(Ye);var Sv,Rv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Ev),Iv=function(t){function n(n){return t.call(this,n)||this}return $(n,t),n}(Ye),Av=function(t){function n(n){var i;return(i=t.call(this,kv.cl)||this).wl=n,i}return $(n,t),n.prototype.ll=function(){return new Cv(this.wl.dl)},n}(Rv),Cv=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return $(n,t),n}(Iv),Dv=function(t){function n(n){var i;return(i=t.call(this,kv.fl)||this).wl=n,i}return $(n,t),n.prototype.ll=function(){return new Nv(this.wl.dl)},n}(Rv),Nv=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return $(n,t),n}(Iv);!function(t){t.yl="gl",t._l="pl",t.ml="kl",t.bl="Tl",t.El="Sl",t.Rl="Il",t.Al="Cl",t.Dl="Nl",t.Ol="Kc",t.xl="Pl",t.Ll="Fl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Sv||(Sv={}));var Ov=function(t){function n(){var n;return(n=t.call(this)||this).Ml=[],n.vl=void 0,n}$(n,t);var i=n.prototype;return i.Bl=function(t){return this.Ml[t]},i.Ul=function(t){return!(!t||Ae(this.Ml,t))&&(this.Ml.push(t),this.vl&&this.vl.push(t.dl),t.Ks(Sv.Rl,this.Gs),this.Ys(new Av(t)),!0)},i.Vl=function(t){if(!t)return!1;var n=this.Ml.indexOf(t);return!(n<0)&&(Ie(this.Ml,n),this.vl&&Ie(this.vl,n),t.tc(Sv.Rl,this.Gs),this.Ys(new Dv(t)),!0)},i.ql=function(t){return Ae(this.Ml,t)},i.Hl=function(){for(var t=this.Ml,n=t.length-1;n>=0;n-=1)this.Vl(t[n])},i.sr=function(){this.Hl(),this.Zs()},W(n,[{key:"jl",get:function(){return this.Ml}},{key:"dl",get:function(){return this.vl||(this.vl=this.ll()),this.vl}},{key:"Wl",get:function(){return this.Ml.length}}]),n}(Xe),xv=function(t){function n(n){var i;return(i=t.call(this,Sv.Rl)||this).wl=n,i}return $(n,t),n.prototype.ll=function(){return new Pv(this.wl.dl)},n}(Rv),Pv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return $(n,t),n}(Iv),Lv=function(t){function n(){var n;return(n=t.call(this)||this).zl=void 0,n.$l=function(t){var i=t.wl;n.Ul(i)},n.Xl=function(t){var i=t.wl;n.Vl(i)},n}$(n,t);var i=n.prototype;return i.Gl=function(t){t.Ks(kv.cl,this.$l),t.Ks(kv.fl,this.Xl)},i.Yl=function(t){t.tc(kv.cl,this.$l),t.tc(kv.fl,this.Xl)},i.sr=function(){this.zl&&this.zl.sr(),t.prototype.sr.call(this)},W(n,[{key:"Kl",get:function(){return this.zl},set:function(t){var n=this.zl;if(t!==n){if(n){this.Yl(n);for(var i=0,r=n.jl;i<r.length;i++){var e=r[i];t&&t.ql(e)||this.Vl(e)}}if(this.zl=t,t){for(var u=[],o=0,s=t.jl;o<s.length;o++){var c=s[o];this.Ul(c),this.Jl(c)&&u.push(c)}this.Gl(t);for(var a=0;a<u.length;a++){var f=u[a];f.Ys(new xv(f))}}}}}]),n}(Ov),Fv=l.freeze||F;function Mv(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Bv(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Uv(t){if(at(t)){var n={};for(var i in t)rt.call(t,i)&&(n[i]=Uv(t[i]));return n}if(ot(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Uv(t[e]));return r}return t}function Vv(t,n){return t===n||!(!t||!n)&&(!(!ct(t)||!ct(n))&&(st(t)?!!st(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Vv(t[e],n[e]))return!1;return!0}(t,n):!st(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!rt.call(n,u)||!Vv(t[u],n[u]))return!1}return!0}(t,n)))}function qv(t,n){return t.constructor===n.constructor}function Hv(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function jv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Wv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function zv(t){var n=Wv(t);if(_(n))throw new v("Expected a valid number.");return n}function $v(t){return"string"==typeof t?t:""}function Xv(t,n){return st(t)?function(t,n){if(!st(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Gv=[kv.cl,kv.fl,Sv.Rl];function Yv(t){var n,i=t.jl.map(function(t){return t.dl});return i.item=function(n){var i=0|n,r=t.Bl(i);return r&&r.dl||void 0},i.addEventListener=function(t,i){n.Ks(t,i)},i.removeEventListener=function(t,i){n.tc(t,i)},n=new Ge(i),t.Ks(Gv,function(t){return n.Ys(t.dl)}),i}function Kv(){}function Jv(t){var n,i=[Sv.Ol,Sv.Rl,Sv.xl,Sv.Ll,Sv.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Ql&&t.Ql.dl},get enabled(){return t.Zl},set enabled(n){t.Zl=jv(n)},get id(){return t.tw},get uid(){return t.nw},get kind(){return t.iw},get label(){return t.rw},set label(n){t.rw=$v(n)},get language(){return t.ew},get qualities(){return t.uw.dl},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.uw.jl;r<e.length;r++)for(var u=e[r],o=0;o<n.length;o++){var s=n[o];u.dl===s&&i.push(u)}return i}(t,ot(n)?n:[n]):[]).length>0?t.ow=i:t.ow=void 0},get targetQuality(){if(t.ow)return 1===t.ow.length?t.ow[0].dl:t.ow.map(function(t){return t.dl})},addEventListener:function(t,i){var r=Xv(t,$v);n.Ks(r,i)},removeEventListener:function(t,i){var r=Xv(t,$v);n.tc(r,i)}};return n=new Ge(r),t.Ks(i,function(t){return n.Ys(t.dl)}),l.defineProperty(r,"constructor",{value:Kv}),r}function Qv(){}function Zv(t){var n=Yv(t);return l.defineProperty(n,"constructor",{value:Qv}),n}var td,nd,id=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.ll=function(){return Zv(this)},i.Jl=function(t){return t.Zl},n}(Lv);function rd(){}function ed(t){var n,i=[Sv.Rl,Sv.Ol,Sv.yl,Sv._l,Sv.ml,Sv.bl,Sv.El,Sv.Al,Sv.Dl],r=[nd.sw],e={get kind(){return t.iw},get label(){return t.rw},set label(n){t.rw=$v(n)},get language(){return t.ew},get id(){return t.tw},get uid(){return t.nw},get inBandMetadataTrackDispatchType(){return t.cw},get mode(){return t.aw},set mode(n){n!==td.fw&&n!==td.hw&&n!==td.vw||(t.aw=n)},get type(){return t._s},get readyState(){return sd(t.dw)},get cues(){return t.aw===td.vw?null:t.lw.dl},get activeCues(){return t.aw===td.vw?null:t.ww.dl},get src(){return t.yw||""},addEventListener:function(t,i){var r=Xv(t,$v);n.Ks(r,i)},removeEventListener:function(t,i){var r=Xv(t,$v);n.tc(r,i)}};return n=new Ge(t),t.Ks(i,function(t){return n.Ys(t.dl)}),t.Ks(r,function(t){return n.Ys(t)}),l.defineProperty(e,"constructor",{value:rd}),e}function ud(){}function od(t){var n=Yv(t);return l.defineProperty(n,"constructor",{value:ud}),n}function sd(t){return t}!function(t){t.vw="disabled",t.hw="hidden",t.fw="showing"}(td||(td={})),function(t){t.sw="error"}(nd||(nd={}));var cd=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.ll=function(){return od(this)},i.Jl=function(t){return t.aw===td.fw},n}(Lv),ad=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Qs=function(n){t.prototype.Qs.call(this,n)},i.rc=function(n){t.prototype.rc.call(this,n)},n}(Xe),fd=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(ad),hd=function(t){function n(){return t.call(this,ts.lf)||this}return $(n,t),n}(Ye),vd=function(t){function n(n){var i;return(i=t.call(this,ts.af)||this).currentSource=n,i}return $(n,t),n}(Ye),dd=function(){function t(){}return t.gw=function(n,i){var r=t._w(n,i);return r?t.pw(r):0},t.mw=function(){return N.ul||"default"},t.kw=function(){return N.ol||"unknown"},t._w=function(n,i){var r,e=null==(r=N.tl)?void 0:r._c(i),u=e&&JSON.parse(e);if(u&&u[n])return t.bw(u,n,i)},t.pw=function(t){var n=t.availableBandwidth;return n||0},t.bw=function(n,i,r){if(!t.Tw(n,i))return n[i];t.Ew(n,i,r)},t.Ew=function(t,n,i){var r;delete t[n],null==(r=N.tl)||r.tf(i,JSON.stringify(t))},t.Tw=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.Sw=function(t,n,i,r){var e;return jr({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.Rw=function(n){var i=t.mw();t.Iw(i,"theoplayer-stored-network-info",n,tn())},t.Iw=function(n,i,r,e){var u,o,s=null==(u=N.tl)?void 0:u._c(i),c=s?JSON.parse(s):void 0,a=t.Sw(c,n,r,e);null==(o=N.tl)||o.tf(i,JSON.stringify(a))},t.Aw=function(){var n=t.mw();return t.gw(n,"theoplayer-stored-network-info")},t}();var ld,wd,yd,gd,_d,pd,md="1ADD53F3";function kd(t){return{chromecast:function(t){return{appID:t&&t.appID?$v(t.appID):md}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return ld.AUTO;case"manual":return ld.MANUAL;case"disabled":return ld.DISABLED;default:return ld.MANUAL}}(t?t.strategy:void 0)}}function bd(t){var n,i=yd.Cw;return(n=t)&&de(n,"mpd")&&(i=yd.Dw),function(t){return!!t&&de(t,"m3u8")}(t)&&(i=yd.Nw),i}function Td(t){return ct(t)&&ct(t.ssai)&&"google-dai"===t.ssai.integration}function Ed(t){return ct(t)&&ft(t.integration)&&"verizon-media"===t.integration}function Sd(t){if(ft(t))return!t;if(Ed(t))return!t.id;if(Td(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Rd(t){return Boolean(ct(t)&&ft(t.src))}function Id(t){return ft(t)||Rd(t)||Td(t)||Ed(t)}function Ad(t){if(t){if(Id(t))return Sd(t);for(var n=0;n<t.length;n++){if(!Sd(t[n]))return!1}return!0}return!0}function Cd(){return{crossOrigin:wd.Ow,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Dd(){return jr({},Cd(),{src:void 0,type:yd.Cw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Nd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:gd.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return _d.NONE;case"midroll-and-postroll":default:return _d.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=jv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return gd.INSECURE;case"disabled":return gd.DISABLED;case"enabled":default:return gd.ENABLED}}(t.vpaidMode)),ot(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ft)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:jv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Od(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];at(e)&&n.push(e)}return n}function xd(t){return ft(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(ld||(ld={})),function(t){t.Ow="",t.xw="anonymous",t.Pw="use-credentials"}(wd||(wd={})),function(t){t.Dw="application/dash+xml",t.Nw="application/vnd.apple.mpegurl",t.Lw="application/x-mpegurl",t.Cw="video/mp4",t.Fw="application/vnd.theoplayer.hesp+json",t.Mw="application/vnd.theo.hesp+json"}(yd||(yd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(gd||(gd={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(_d||(_d={})),function(t){t[t.Bw=0]="Bw",t[t.Uw=1]="Uw",t[t.Vw=2]="Vw",t[t.qw=3]="qw",t[t.Hw=4]="Hw"}(pd||(pd={}));var Pd,Ld=function(t){function n(n,i){var r;return void 0===i&&(i=pd.Bw),(r=t.call(this,ts.vf)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ye),Fd=function(t){function n(n){var i;return(i=t.call(this,ts.kf)||this).currentTime=n,i}return $(n,t),n}(Ye),Md=function(t){function n(n){var i;return(i=t.call(this,ts.bf)||this).currentTime=n,i}return $(n,t),n}(Ye);!function(t){t.jw="canplay",t.Ww="canplaythrough",t.zw="loadeddata",t.$w="loadedmetadata",t.Al="readystatechange",t.Xw="waiting",t.Gw="playing"}(Pd||(Pd={}));var Bd,Ud,Vd=[Pd.jw,Pd.Ww,Pd.zw,Pd.$w,Pd.Al,Pd.Xw,Pd.Gw],qd=function(t){function n(n,i){var r;return void 0===i&&(i=pd.Uw),(r=t.call(this,Pd.$w)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ye),Hd=function(t){function n(n){var i;return(i=t.call(this,ts.hf)||this).duration=n,i}return $(n,t),n}(Ye),jd=function(t){function n(n,i){var r;return(r=t.call(this,ts.Ef)||this).currentTime=n,r.playbackRate=i,r}return $(n,t),n}(Ye),Wd=function(t){function n(n,i){var r;return(r=t.call(this,ts.Lf)||this).currentTime=n,r.currentProgramDateTime=i,r}return $(n,t),n}(Ye),zd=function(t){function n(n){var i;return(i=t.call(this,ts.df)||this).currentTime=n,i}return $(n,t),n}(Ye),$d=function(t){function n(n,i){var r;return void 0===i&&(i=pd.Vw),(r=t.call(this,Pd.zw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ye),Xd=function(t){function n(n){var i;return(i=t.call(this,ts.Af)||this).currentTime=n,i}return $(n,t),n}(Ye),Gd=function(t){function n(n){var i;return(i=t.call(this,ts.If)||this).currentTime=n,i}return $(n,t),n}(Ye),Yd=function(t){function n(n,i){var r;return(r=t.call(this,ts.Ff)||this).currentTime=n,r.volume=i,r}return $(n,t),n}(Ye),Kd=function(t){function n(n,i){var r;return void 0===i&&(i=pd.qw),(r=t.call(this,Pd.jw)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ye),Jd=function(t){function n(n,i){var r;return void 0===i&&(i=pd.Hw),(r=t.call(this,Pd.Ww)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ye),Qd=function(t){function n(n,i){var r;return(r=t.call(this,Pd.Al)||this).currentTime=n,r.readyState=i,r}return $(n,t),n}(Ye),Zd=function(t){function n(n){var i;return(i=t.call(this,nd.sw)||this).errorObject=n,i}return $(n,t),n.prototype.ll=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ev);function tl(t){switch(t){case Bd.ALL:case Bd.CONTENT:return t;default:return Bd.NONE}}function nl(t){var n,i,r,e=Uv(t||{});return e.libraryLocation&&(e.libraryLocation=Uf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=kd(e.cast),e.ads=Nd(e.ads),e.analytics=Od(e.analytics),e.mutedAutoplay=tl(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=ft(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Uf(t)}catch(t){return void N.Do("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function il(t){return{Yw:t.Yw,Kw:t.Kw,Jw:t.Jw,fc:t.fc,Qw:t.Qw,Zw:t.Zw,ty:t.ty,ny:t.ny,dw:t.dw,iy:t.iy,ey:t.ey,uy:t.uy,oy:t.oy}}function rl(t,n,i){if(n!==i){var r=n.Yw,e=n.Kw,u=n.Zw,o=n.ty,s=n.ny,c=n.dw,a=n.iy,f=(n.uy,n.ey,n.oy),h=i.Yw,v=i.Kw,d=i.Jw,l=i.Qw,w=i.Zw,y=i.ty,g=i.ny,p=i.dw,m=i.iy,k=(i.uy,i.ey,i.oy);c!==pd.Bw&&t.Ys(new Ld(h,p)),y&&!o?t.Ys(new Fd(h)):!y&&o&&t.Ys(new Md(h)),p>=pd.Uw&&t.Ys(new qd(h,p)),v===e||_(v)&&_(e)||t.Ys(new Hd(v)),g!==s&&t.Ys(new jd(h,g)),h!==r&&t.Ys(new Wd(h,void 0)),d&&t.Ys(new zd(h)),p>=pd.Vw&&t.Ys(new $d(h,p)),m&&!a?t.Ys(new Xd(h)):!m&&a&&t.Ys(new Gd(h)),k===f&&w===u||t.Ys(new Yd(h,k)),p>=pd.qw&&t.Ys(new Kd(h,p)),p>=pd.Hw&&t.Ys(new Jd(h,p)),p!==c&&t.Ys(new Qd(h,p)),l&&t.Ys(new Zd(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Bd||(Bd={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Ud||(Ud={}));var el,ul=400,ol=.25,sl={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},cl={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},al={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},fl={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function hl(){var t;return t=N.Go.wo?al:N.Go._o?"Android"===N.Yo.Ko?cl:sl:fl,N.Yo.Jo?function(t){if(N.Yo.Jo){var n=(ul+250)/1e3,i=w.max(n,t.windowStart),r=w.max(i+ol,t.target),e=w.max(r+ol,t.windowEnd);return{windowStart:i,target:r,windowEnd:e,maxOffset:w.max(e+ol,t.maxOffset)}}return t}(t):t}function vl(t){return{goLive:function(){return t.sy()},get isLive(){return t.ay},get currentServerLiveTime(){return t.hy},get currentLatency(){return t.vy},get latency(){return t.ly},set latency(n){if(!function(t){if(!ct(t))return!1;var n=t,i=ut(n.target)&&"number"==typeof n.target&&ut(n.windowEnd)&&"number"==typeof n.windowEnd&&ut(n.windowStart)&&"number"==typeof n.windowStart&&ut(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t.ly=n},get manifest(){return t.wy},get metrics(){return t.yy},addEventListener:function(n,i){t.Ks(ll(n),i)},removeEventListener:function(n,i){t.tc(ll(n),i)}}}!function(t){t[t.vw=0]="vw",t[t.gy=1]="gy",t[t._y=2]="_y"}(el||(el={}));var dl=["analytic","golive","nogolive","bufferedchange"];function ll(t){var n=Xv(t,$v);return(ft(n)?[n]:n).filter(function(t){return Ae(dl,t)})}var wl,yl=function(t){function n(){var n;return(n=t.call(this)||this).zl=void 0,n.vl=void 0,n.py=hl(),n.zl=void 0,n}$(n,t);var i=n.prototype;return i.Gl=function(t){t.Ks(dl,this.Gs)},i.Yl=function(t){t.tc(dl,this.Gs)},i.sy=function(){var t;null==(t=this.zl)||t.sy()},i.sr=function(){this.Zs(),this.zl&&this.Yl(this.zl),this.zl=void 0},W(n,[{key:"Kl",get:function(){return this.zl},set:function(t){var n=this.zl;t!==n&&(n&&this.Yl(n),t&&this.Gl(t),this.zl=t,this.zl&&(this.zl.ly=this.py))}},{key:"dl",get:function(){return this.vl||(this.vl=vl(this)),this.vl}},{key:"hy",get:function(){var t;return null==(t=this.zl)?void 0:t.hy}},{key:"vy",get:function(){var t;return null==(t=this.zl)?void 0:t.vy}},{key:"ay",get:function(){return!!this.zl&&this.zl.ay}},{key:"ly",get:function(){return this.py},set:function(t){this.zl&&(this.zl.ly=t),this.py=t}},{key:"wy",get:function(){var t;return null==(t=this.zl)?void 0:t.wy}},{key:"yy",get:function(){var t;return null==(t=this.zl)?void 0:t.yy}}]),n}(Xe),gl=function(t){function n(n){var i;return(i=t.call(this)||this).zl=void 0,i.my=[],i.ky=!1,i.by=new id,i.Ty=new id,i.Ey=new cd,i.Sy=new yl,i.Ry=!1,i.Iy(n),n.Qs(i.Gs),i.zl=n,i.by.Kl=n.Ay,i.Ty.Kl=n.Cy,i.Ey.Kl=n.Dy,i.Sy.Kl=n.Ny,i}$(n,t);var i=n.prototype;return i.tr=function(){this.zl.tr()},i.nr=function(){this.zl.nr()},i.Oy=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",He(this.my.map(function(t){return t.Oy()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.xy=function(){return this.zl.xy()},i.Py=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Pe(i),t.next=3,this.zl.Py(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ly=function(){return this.Kl.Ly()},i.Fy=function(){this.Kl.Fy()},i.My=function(){this.Kl.My()},i.hr=function(){if(!this.ky){for(var t=0,n=this.my;t<n.length;t++){n[t].hr()}this.ky=!0}},i.By=function(t){this.zl.By(t)},i.Uy=function(){this.zl.Uy()},i.Vy=function(){this.zl.Vy()},i.qy=function(){this.zl.qy()},i.Hy=function(){return this.zl.Hy()},i.jy=function(){return this.zl.jy()},i.Wy=function(){for(var t=[],n=0,i=this.my;n<i.length;n++){var r=i[n];t.push.apply(t,r.Wy())}return t},i.zy=function(t){for(var n=!1,i=0,r=this.my;i<r.length;i++){n=r[i].zy(t)||n}return n},i.Ys=function(n){this.zy(n)||t.prototype.Ys.call(this,n)},i.Iy=function(t){this.my.push(t)},i.$y=function(t){Re(this.my,t)},i.Xy=function(t){if(t!==this.zl){var n=this.zl;n.Uy(),n.rc(this.Gs);var i=il(this),r=this.Gy,e=this.jy();this.zl=t,this.by.Kl=t.Ay,this.Ty.Kl=t.Cy,this.Ey.Kl=t.Dy,this.Sy.Kl=t.Ny,rl(this,i,this);var u=this.Gy;u!==r&&this.Ys(new vd(u)),this.jy()!==e&&this.Ys(new hd),t.Qs(this.Gs),t.By(n)}},i.Yy=function(){},i.sr=function(){var t=C.coroutine(Hr.mark(function t(){var n,i,r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Zs(),this.zl.Uy(),n=0,i=this.my;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.sr();case 7:n++,t.next=3;break;case 10:this.by.sr(),this.Ty.sr(),this.Ey.sr(),this.Sy.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hl=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",He(this.my.map(function(t){return t.Hl()})).then(L));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"Ay",get:function(){return this.by}},{key:"Dy",get:function(){return this.Ey}},{key:"Cy",get:function(){return this.Ty}},{key:"Ky",get:function(){return this.zl.Ky}},{key:"Jy",get:function(){return this.zl.Jy},set:function(t){this.zl.Jy=t}},{key:"Gy",get:function(){return this.zl.Gy}},{key:"Yw",get:function(){return this.zl.Yw},set:function(t){this.zl.Yw=t}},{key:"Kw",get:function(){return this.zl.Kw}},{key:"Qy",get:function(){return this.zl.Qy}},{key:"Jw",get:function(){return this.zl.Jw}},{key:"fc",get:function(){return this.zl.fc}},{key:"Qw",get:function(){return this.zl.Qw}},{key:"Ny",get:function(){return this.Sy}},{key:"Zy",get:function(){return this.zl.Zy}},{key:"yy",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.tg,i+=c.ng,r+=c.ig,e+=c.rg,u+=c.eg,o.amountOfBufferedAudioSegments+=c.ug.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.ug.amountOfBufferedVideoSegments}return{tg:n,ng:i,ig:r,rg:e,eg:u,ug:o}}(this.my.map(function(t){return t.yy}))}},{key:"Zw",get:function(){return this.zl.Zw},set:function(t){this.zl.Zw=t}},{key:"og",get:function(){return this.zl.og}},{key:"ty",get:function(){return this.zl.ty}},{key:"ny",get:function(){return this.zl.ny},set:function(t){this.zl.ny=t}},{key:"sg",get:function(){return this.zl.sg}},{key:"cg",get:function(){return this.zl.cg},set:function(t){this.zl.cg=t}},{key:"dw",get:function(){return this.zl.dw}},{key:"ag",get:function(){return this.zl.ag}},{key:"iy",get:function(){return this.zl.iy}},{key:"ey",get:function(){return this.zl.ey}},{key:"uy",get:function(){return this.zl.uy}},{key:"oy",get:function(){return this.zl.oy},set:function(t){this.zl.oy=t}},{key:"fg",get:function(){return!1},set:function(t){}},{key:"Kl",get:function(){return this.zl},set:function(t){this.Xy(t)}}]),n}(fd),_l=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=u,a.statusText=o,a.response=s,a.systemCode=c,a}return $(n,t),W(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Po);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(wl||(wl={}));var pl=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,v.captureStackTrace&&v.captureStackTrace(un(u),u.constructor),u}return $(n,t),W(n,[{key:"name",get:function(){return"MediaError"}}]),n}(on);function ml(t){Mv(t,"MEDIA_ERR_ABORTED",wl.ABORTED),Mv(t,"MEDIA_ERR_NETWORK",wl.NETWORK),Mv(t,"MEDIA_ERR_DECODE",wl.DECODE),Mv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",wl.SRC_NOT_SUPPORTED),Mv(t,"MEDIA_ERR_ENCRYPTED",wl.ENCRYPTED)}function kl(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new pl(wl.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new pl(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return wl.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return wl.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return wl.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return wl.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return wl.NETWORK;if(i===n.ErrorCategory.SOURCE)return wl.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return wl.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return wl.ENCRYPTED;if(i===n.ErrorCategory.AD)return wl.ADVERTISEMENT_ERROR;return wl.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}ml(pl),ml(pl.prototype);var bl,Tl=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Ul=function(n){return t.prototype.Ul.call(this,n)},i.ll=function(){return Zv(this)},n}(Ov);!function(t){t.Uv="audio",t.Vv="video",t.au="text",t.qv="image",t.Iv="unknown"}(bl||(bl={}));var El=function(){function t(){this.hg=[],this.vl=void 0}var n=t.prototype;return n.vg=function(t){this.hg.push(t),this.vl&&this.vl.push(t.dl)},n.Bl=function(t){return this.hg[t]},n.dg=function(t){return ot(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ae(t,n[i]))return!1;return!0}(this.hg,t):Ae(this.hg,t)},W(t,[{key:"jl",get:function(){return this.hg}},{key:"Wl",get:function(){return this.hg.length}},{key:"dl",get:function(){var t,n;return this.vl||(this.vl=((n=(t=this).jl.map(function(t){return t.dl})).item=function(n){var i=0|n,r=t.Bl(i);return r&&r.dl||void 0},n)),this.vl}}]),t}(),Sl=function(t){function n(n){var i;return(i=t.call(this,Sv.Ol)||this).wl=n,i}return $(n,t),n.prototype.ll=function(){return new Rl(this.wl.dl)},n}(Rv),Rl=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return $(n,t),n}(Iv),Il=0;function Al(){return Il++}var Cl=0;var Dl=0;var Nl=0;var Ol=function(t){function n(n){var i;return(i=t.call(this)||this)._s=bl.Uv,i.lg=void 0,i.wg=void 0,i.yg=void 0,i.gg=void 0,i._g=!1,i.hg=void 0,i.vl=void 0,i.lg=n,i.gg=Al(),i.wg=Nl+++"",i.yg=n.label,i.hg=new El,i.pg(),i}$(n,t);var i=n.prototype;return i.mg=function(t){this.Zl=t},i.pg=function(){this.Zl=this.kg},W(n,[{key:"Ql",get:function(){}},{key:"Zl",get:function(){return this._g},set:function(t){this._g!==t&&(this._g=t,this.kg=t,this.Ys(new xv(this)))}},{key:"kg",get:function(){return!!this.lg.enabled},set:function(t){this.lg.enabled=t}},{key:"dl",get:function(){return this.vl||(this.vl=Jv(this)),this.vl}},{key:"tw",get:function(){return this.wg}},{key:"nw",get:function(){return this.gg}},{key:"iw",get:function(){return this.lg.kind}},{key:"rw",get:function(){return this.yg},set:function(t){t!==this.yg&&(this.yg=t,this.Ys(new Sl(this)))}},{key:"ew",get:function(){return this.lg.language}},{key:"aw",get:function(){return this.Zl?"enabled":"disabled"}},{key:"bg",get:function(){return this.lg}},{key:"uw",get:function(){return this.hg}},{key:"ow",get:function(){},set:function(t){}}]),n}(Xe),xl=0;var Pl,Ll,Fl,Ml,Bl,Ul=function(t){function n(n){var i;return(i=t.call(this)||this)._s=bl.Vv,i.lg=void 0,i.wg=void 0,i.gg=void 0,i._g=!1,i.hg=void 0,i.yg=void 0,i.vl=void 0,i.lg=n,i.gg=Al(),i.wg=xl+++"",i.hg=new El,i.yg=n.label,i.pg(),i}$(n,t);var i=n.prototype;return i.pg=function(){this.Zl=this.kg},i.mg=function(t){this.Zl=t},W(n,[{key:"Ql",get:function(){}},{key:"Zl",get:function(){return this._g},set:function(t){this._g!==t&&(this._g=t,this.kg=t,this.Ys(new xv(this)))}},{key:"kg",get:function(){return!!this.lg.selected},set:function(t){this.lg.selected=t}},{key:"dl",get:function(){return this.vl||(this.vl=Jv(this)),this.vl}},{key:"tw",get:function(){return this.wg}},{key:"nw",get:function(){return this.gg}},{key:"iw",get:function(){return"main"}},{key:"rw",get:function(){return this.yg},set:function(t){t!==this.yg&&(this.yg=t,this.Ys(new Sl(this)))}},{key:"ew",get:function(){return this.lg.language}},{key:"aw",get:function(){return this.Zl?"enabled":"disabled"}},{key:"bg",get:function(){return this.lg}},{key:"uw",get:function(){return this.hg}},{key:"ow",get:function(){},set:function(t){}}]),n}(Xe),Vl=function(t){function n(n){var i;return(i=t.call(this,ts.if)||this).Zy=n,i}return $(n,t),n}(Ye);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Pl||(Pl={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Ll||(Ll={})),function(t){t.Tg="cue",t.Eg="region",t.Sg="stylesheet"}(Fl||(Fl={})),function(t){t.Rg="Ig",t.Ag="Cg",t.Ol="Kc"}(Ml||(Ml={})),function(t){t.Rg="enter",t.Ag="exit",t.Ol="update"}(Bl||(Bl={}));var ql=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).Dg=i,r}return $(n,t),n}(Rv),Hl=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return $(n,t),n}(Iv);function jl(t){var n,i=[Ml.Rg,Ml.Ag,Ml.Ol],r={get track(){return t.wl.dl},get id(){return t.tw},get uid(){return t.nw},get startTime(){return t.Ng},get endTime(){return t.Og},get content(){return t.xg},addEventListener:function(t,i){var r=Xv(t,$v);n.Ks(r,i)},removeEventListener:function(t,i){var r=Xv(t,$v);n.tc(r,i)}};return n=new Ge(r),t.Ks(i,function(t){return n.Ys(t.dl)}),r}function Wl(){}var zl=.02;var $l=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).gg=void 0,o.wg=void 0,o.Pg=void 0,o.Lg=void 0,o.vl=void 0,o.Fg=void 0,o.Mg=!1,o.Bg=void 0,o.Ug=void 0,o.Vg="",o.qg=-1,o.gg=Dl++,o.Pg=n,o.Lg=i,o.Bg=r,o.Ug=Boolean(e),o.wg=null!=u?u:"",o}$(n,t);var i=n.prototype;return i.ll=function(){return jl(this)},i.Hg=function(t){return this===t||qv(this,t)&&(i=t,Qt((n=this).Ng,i.Ng,zl)&&Qt(n.Og,i.Og,zl)&&n.tw===i.tw);var n,i},i.sr=function(){this.Zs()},W(n,[{key:"Ng",get:function(){return this.Pg},set:function(t){this.Pg=t}},{key:"Og",get:function(){return this.Lg},set:function(t){this.Lg=t}},{key:"tw",get:function(){return this.wg}},{key:"nw",get:function(){return this.gg}},{key:"dl",get:function(){return this.vl||(this.vl=this.ll()),this.vl}},{key:"jg",get:function(){return this.Mg},set:function(t){this.Mg=t}},{key:"wl",get:function(){return this.Fg},set:function(t){this.Fg=t}},{key:"xg",get:function(){return this.Bg},set:function(t){this.Bg=t}},{key:"Wg",get:function(){return this.Vg},set:function(t){this.Vg=t}},{key:"zg",get:function(){return this.Ug},set:function(t){this.Ug=t}}]),n}(Xe);var Xl=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,u)||this).$g="auto",o.Xg="start",o.Gg="auto",o.Yg="auto",o.Kg=void 0,o.Jg=!0,o.bc=100,o.Qg="center",o.Zg="",o}return $(n,t),n.prototype.Hg=function(n){return this===n||qv(this,n)&&t.prototype.Hg.call(this,n)&&(r=n,(i=this).xg===r.xg&&i.$g===r.$g&&i.Xg===r.Xg&&i.Gg===r.Gg&&i.Yg===r.Yg&&i.Kg===r.Kg&&i.Jg===r.Jg&&i.bc===r.bc&&i.Qg===r.Qg&&i.Zg===r.Zg);var i,r},W(n,[{key:"dl",get:function(){var t;return this.vl||(this.vl=Bv(jl(t=this),{get align(){return t.Qg},get line(){return t.$g},get lineAlign(){return t.Xg},get position(){return t.Gg},get positionAlign(){return t.Yg},get region(){return t.Kg?t.Kg.dl:null},get size(){return t.bc},get snapToLines(){return t.Jg},get text(){return t.xg},get vertical(){return t.Zg}})),this.vl}},{key:"_s",get:function(){return Fl.Tg}}]),n}($l);var Gl,Yl=function(){function t(t,n,i,r,e,u,o,s){this.vl=void 0,this.tw=t,this.bo=n,this.t_=i,this.n_=r,this.i_=e,this.r_=u,this.e_=o,this.u_=s}return W(t,[{key:"dl",get:function(){var t;return this.vl||(this.vl=(t=this,{get id(){return t.tw},get identifier(){return t.tw},get lines(){return t.t_},get regionAnchorX(){return t.n_},get regionAnchorY(){return t.i_},get scrollValue(){return t.u_},get viewportAnchorX(){return t.r_},get viewportAnchorY(){return t.e_},get width(){return t.bo}})),this.vl}},{key:"_s",get:function(){return Fl.Eg}}]),t}();!function(t){t[t.o_=0]="o_",t[t.s_=1]="s_",t[t.c_=-1]="c_"}(Gl||(Gl={}));var Kl=function(t,n){return(0|t)-(0|n)},Jl=function(t,n){return t===n?Gl.o_:t<n?Gl.c_:t>n?Gl.s_:_(t)?_(n)?Gl.o_:Gl.s_:Gl.c_};function Ql(t,n,i){return Qt(t,n,i)?Gl.o_:Jl(t,n)}var Zl=function(t,n){return function(t,n){if(t===n)return!0;var i=w.abs(t-n);return i<Kt||i<w.max(w.abs(t),w.abs(n))*Kt}(t,n)?Gl.o_:Jl(t,n)},tw=function(){function t(){}var n=t.prototype;return n.a_=function(t){return this.f_()*t},n.h_=function(t){return this.v_(t)>0},n.d_=function(t){return this.v_(t)>=0},n.l_=function(t,n){return this.y_(t).w_(n)},n.Hg=function(t){return 0===this.v_(t)},n.g_=function(t){return this.v_(t)<0},n.w_=function(t){return this.v_(t)<=0},n.__=function(){return this.p_()?this.m_():this},n.k_=function(t){return this.vg(t.m_())},n.y_=function(t){return this.k_(t).__()},t}();function nw(t,n){return t.b_()?n.b_()?Gl.o_:Gl.s_:n.b_()?Gl.c_:t.T_()?n.T_()&&t.p_()===n.p_()?Gl.o_:t.p_()?Gl.c_:Gl.s_:n.p_()?Gl.s_:Gl.c_}var iw=function(){function t(t,n){this.E_=void 0,this.S_=void 0,this.E_=t,this.S_=n}t.R_=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.I_=function(n){return n.unsigned?new t(n,Yt.UZERO):new t(n,n.isNegative()?Yt.NEG_ONE:Yt.ZERO)},t.A_=function(n,i){if(_(n))return i?t.C_:t.D_;if(i){if(n<0)return t.C_;if(n>=3.402823669209385e38)return t.N_}else{if(n<=-1.7014118346046923e38)return t.O_;if(n+1>=1.7014118346046923e38)return t.x_}return n<0?t.A_(-n,i).m_():t.R_(Yt.fromNumber(n%0x10000000000000000),Yt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.P_=function(){return this.S_.unsigned},n.L_=function(){return this.E_.isZero()&&this.S_.isZero()},n.p_=function(){return this.S_.isNegative()},n.F_=function(){return this.P_()?t.R_(this.E_,this.S_,!1):this},n.M_=function(){return this.P_()?this:t.R_(this.E_,this.S_,!0)},n.B_=function(){return this.E_},n.f_=function(){return this.p_()?-this.m_().f_():0x10000000000000000*this.S_.toNumber()+this.E_.toUnsigned().toNumber()},n.U_=function(){return this.E_.toInt()},n.Hg=function(t){return(this.P_()===t.P_()||this.S_.getHighBits()>>>31!=1||t.S_.getHighBits()>>>31!=1)&&(this.S_.toUnsigned().eq(t.S_.toUnsigned())&&this.E_.toUnsigned().eq(t.E_.toUnsigned()))},n.v_=function(t){if(this.Hg(t))return Gl.o_;var n=this.p_(),i=t.p_();if(n&&!i)return Gl.c_;if(!n&&i)return Gl.s_;if(!this.P_())return this.k_(t).p_()?Gl.c_:Gl.s_;var r=this.M_(),e=t.M_(),u=e.S_.comp(r.S_);return u>0||0===u&&e.E_.gt(r.E_)?Gl.c_:Gl.s_},n.g_=function(t){return this.v_(t)<0},n.w_=function(t){return this.v_(t)<=0},n.V_=function(t){return this.v_(t)>0},n.q_=function(t){return this.v_(t)>=0},n.H_=function(){return new t(this.E_.not(),this.S_.not())},n.j_=function(n){return new t(this.E_.and(n.E_),this.S_.and(n.S_))},n.W_=function(n){return new t(this.E_.or(n.E_),this.S_.or(n.S_))},n.z_=function(n){var i=127&n;return 0===i?this:i<64?t.R_(this.E_.shl(i),this.S_.shl(i).or(this.E_.shru(64-i)),this.P_()):t.R_(Yt.ZERO,this.E_.shl(i-64),this.P_())},n.X_=function(n){var i=127&n;return 0===i?this:i<64?t.R_(this.E_.shru(i).or(this.S_.shl(64-i)),this.S_.shr(i),this.P_()):t.R_(this.S_.shr(i-64),this.S_.isNegative()?Yt.NEG_ONE:Yt.ZERO,this.P_())},n.G_=function(n){var i=127&n;return 0===i?this:i<64?t.R_(this.E_.shru(i).or(this.S_.shl(64-i)),this.S_.shru(i),this.P_()):64===i?t.R_(this.S_,Yt.ZERO,this.P_()):t.R_(this.S_.shru(i-64),Yt.ZERO,this.P_())},n.vg=function(n){var i=this.S_.high>>>16,r=65535&this.S_.high,e=this.S_.low>>>16,u=65535&this.S_.low,o=this.E_.high>>>16,s=65535&this.E_.high,c=this.E_.low>>>16,a=65535&this.E_.low,f=n.S_.high>>>16,h=65535&n.S_.high,v=n.S_.low>>>16,d=65535&n.S_.low,l=n.E_.high>>>16,w=65535&n.E_.high,y=n.E_.low>>>16,g=0,_=0,p=0,m=0,k=0,b=0,T=0,E=0;T+=(E+=a+(65535&n.E_.low))>>>16,E&=65535,b+=(T+=c+y)>>>16,T&=65535,k+=(b+=s+w)>>>16,b&=65535,m+=(k+=o+l)>>>16,k&=65535,p+=(m+=u+d)>>>16,m&=65535,_+=(p+=e+v)>>>16,p&=65535,g+=(_+=r+h)>>>16,_&=65535,g+=i+f,g&=65535;var S=this.P_(),R=Yt.fromBits(p<<16|m,g<<16|_,S),I=Yt.fromBits(T<<16|E,k<<16|b,S);return t.R_(I,R,S)},n.k_=function(t){return this.vg(t.m_())},n.m_=function(){return this.H_().vg(t.Y_)},n.K_=function(n){if(this.L_()||n.L_())return this.P_()?t.C_:t.D_;if(this.p_())return n.p_()?this.m_().K_(n.m_()):this.m_().K_(n).m_();if(n.p_())return this.K_(n.m_()).m_();if(this.S_.isZero()&&0===this.E_.high&&n.S_.isZero()&&0===n.E_.high)return t.I_(this.E_.multiply(n.E_));var i=Yt.fromBits(4294967295,0,!0),r=this.E_.and(i),e=this.E_.shru(32),u=this.S_.and(i),o=this.S_.shru(32),s=n.E_.and(i),c=n.E_.shru(32),a=n.S_.and(i),f=n.S_.shru(32),h=Yt.UZERO,v=Yt.UZERO,d=Yt.UZERO,l=Yt.UZERO;h=h.add(r.mul(s)),v=v.add(h.shru(32)),h=h.and(i),v=v.add(e.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(e.mul(a)).add(r.mul(f)).and(i);var w=Yt.fromBits(h.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),y=Yt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.R_(w,y,this.P_())},n.J_=function(n){var i,r,e=n;if(e.L_())throw new RangeError("division by zero");if(this.L_())return this.P_()?[t.C_,t.C_]:[t.D_,t.D_];if(this.P_()){if(e.P_()||(e=e.M_()),e.V_(this))return[t.C_,this];if(e.V_(this.G_(1)))return[r=t.Q_,i=this.k_(e)];r=t.C_}else{if(this.Hg(t.O_)){if(e.Hg(t.Y_)||e.Hg(t.Z_))return[t.O_,t.D_];if(e.Hg(t.O_))return[t.Y_,t.D_];var u=this.X_(1).tp(e).z_(1);return u.Hg(t.D_)?r=e.p_()?t.Y_:t.Z_:(i=this.k_(e.K_(u)),r=u.vg(i.tp(e))),[r,i=this.k_(e.K_(r))]}if(e.Hg(t.O_))return this.P_()?[t.C_,this]:[t.D_,this];if(this.p_()){if(e.p_())return this.m_().J_(e.m_());var o=this.m_().J_(e);return r=o[0],i=o[1],[r.m_(),i.m_()]}if(e.p_()){var s=this.J_(e.m_());return r=s[0],i=s[1],[r.m_(),i.m_()]}r=t.D_}for(i=this;i.q_(e);){for(var c=w.max(1,w.floor(i.f_()/e.f_())),a=w.ceil(w.log(c)/w.LN2),f=a<=48?1:w.pow(2,a-48),h=t.A_(c),v=h.K_(e);v.p_()||v.V_(i);)c-=f,v=(h=t.A_(c,this.P_())).K_(e);h.L_()&&(h=t.Y_),r=r.vg(h),i=i.k_(v)}return[r,i]},n.tp=function(t){return this.J_(t)[0]},n.np=function(t){return this.J_(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.L_())return"0";if(this.p_()){if(this.Hg(t.O_)){var r=t.A_(i),e=this.tp(r),u=e.K_(r).k_(this);return e.toString(i)+u.U_().toString(i)}return"-"+this.m_().toString(i)}for(var o=t.A_(w.pow(i,6),this.P_()),s=this,c="";;){var a=s.tp(o),f=(s.k_(a.K_(o)).U_()>>>0).toString(i);if((s=a).L_())return f+c;for(;f.length<6;)f="0"+f;c=String(f)+c}},t}();iw.D_=iw.I_(Yt.ZERO),iw.C_=iw.I_(Yt.UZERO),iw.Y_=iw.I_(Yt.ONE),iw.Q_=iw.I_(Yt.UONE),iw.Z_=iw.I_(Yt.NEG_ONE),iw.x_=iw.R_(Yt.NEG_ONE,Yt.MAX_VALUE,!1),iw.N_=iw.R_(Yt.MAX_UNSIGNED_VALUE,Yt.MAX_UNSIGNED_VALUE,!0),iw.O_=iw.R_(Yt.ZERO,Yt.MIN_VALUE,!1);var rw=function(){function t(t,n){void 0===n&&(n=1),this.ip=void 0,this.rp=void 0,this.ip=t,this.rp=n}t.ep=function(n){return new t(w.ceil(n.ip),n.rp)},t.op=function(n){return new t(w.floor(n.ip),n.rp)},t.sp=function(t,n){return t.d_(n)?t:n},t.cp=function(t,n){return t.w_(n)?t:n};var n=t.prototype;return n.vg=function(n){return this.rp>=n.rp?new t(this.ip+n.ap(this.rp).ip,this.rp):new t(this.ap(n.rp).ip+n.ip,n.rp)},n.h_=function(t){return t.g_(this)},n.d_=function(t){return t.w_(this)},n.y_=function(n){return this.rp>=n.rp?new t(w.abs(this.ip-n.ap(this.rp).ip),this.rp):n.y_(this)},n.l_=function(t,n){return this.y_(t).w_(n)},n.v_=function(t){return i=t,(n=this).rp>=i.rp?Zl(n.ip,i.ap(n.rp).ip):Zl(n.ap(i.rp).ip,i.ip);var n,i},n.Hg=function(t){return 0===this.v_(t)},n.g_=function(t){return this.v_(t)<0},n.w_=function(t){return this.v_(t)<=0},n.ap=function(n){return new t(this.ip*(n/this.rp),n)},n.k_=function(n){return this.rp>=n.rp?new t(this.ip-n.ap(this.rp).ip,this.rp):new t(this.ap(n.rp).ip-n.ip,n.rp)},n.fp=function(n){return new t(this.ip*n,this.rp)},W(t,[{key:"T_",get:function(){return!isFinite(this.ip)}},{key:"hp",get:function(){return this.ip/this.rp}}]),t}();rw.vp=new rw(1/6,1),rw.D_=new rw(0),rw.dp=new rw(1/0),rw.lp=1e6;var ew=function(t){function n(n,i){var r;return(r=t.call(this)||this).mu=void 0,r.rp=void 0,r.mu=n.toSigned(),r.rp=i>>>0,r}$(n,t),n.wp=function(t,i){return void 0===i&&(i=1e6),n.A_(t*i,i)},n.A_=function(t,i){return _(t)?n.yp:t===1/0?n.gp:t===-1/0?n._p:new n(Yt.fromNumber(t),i)},n.I_=function(t,i){return new n(t,i)},n.pp=function(t){return n.wp(t.hp,1e6)},n.mp=function(t){return new n(Yt.fromNumber(t.getTime()),1e3)},n.sp=function(t,n){return t.d_(n)?t:n},n.cp=function(t,n){return t.w_(n)?t:n},n.kp=function(t,i,r){return n.sp(i,n.cp(r,t))};var i=n.prototype;return i.p_=function(){return this.mu.isNegative()},i.L_=function(){return 0!==this.rp&&this.mu.isZero()},i.T_=function(){return 0===this.rp&&!this.mu.isZero()},i.b_=function(){return 0===this.rp&&this.mu.isZero()},i.f_=function(){if(0===this.rp)return this.mu.isZero()?NaN:this.mu.isNegative()?-1/0:1/0;var t=this.mu.divide(this.rp),n=this.mu.subtract(t.multiply(this.rp));return t.toNumber()+n.toNumber()/this.rp},i.B_=function(){if(0===this.rp)throw new v("Failed to convert timestamp");return this.mu},i.bp=function(){return new Date(0===this.rp?NaN:this.ap(1e3).mu.toNumber())},i.Tp=function(){return new rw(0===this.rp?this.f_():this.mu.toNumber(),this.rp)},i.ap=function(t,i){void 0===i&&(i=sw.Ep);var r=this.rp;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t.J_(n),e=r[0],u=r[1];if(u.L_())return e;if(i===sw.Ep)return u.p_()?e.k_(iw.Y_):e;if(i===sw.Sp)return u.p_()?e:e.vg(iw.Y_);var o=u.K_(iw.A_(2));return o.p_()?o.m_().g_(n)?e:e.k_(iw.Y_):o.g_(n)?e:e.vg(iw.Y_)}(iw.I_(this.mu).K_(iw.A_(t/e)),iw.A_(r/e),i).B_(),t)},i.v_=function(t){if(this===t)return Gl.o_;if(0===this.rp||0===t.rp)return nw(this,t);if(this.L_())return t.L_()?Gl.o_:t.p_()?Gl.s_:Gl.c_;if(t.L_())return this.p_()?Gl.c_:Gl.s_;var n=w.min(this.rp,t.rp),i=this.ap(n,sw.Rp).mu,r=t.ap(n,sw.Rp).mu;return i.compare(r)},i.m_=function(){return 0===this.rp?uw(this):new n(this.mu.negate(),this.rp)},i.vg=function(t){if(0===this.rp||0===t.rp)return ow(this,t);if(this.L_())return t;if(t.L_())return this;var i=w.max(this.rp,t.rp),r=this.ap(i,sw.Rp),e=t.ap(i,sw.Rp);return new n(r.mu.add(e.mu),i)},i.K_=function(t){if(this.b_()||_(t))return n.yp;if(this.T_()||!isFinite(t)){if(this.L_()||0===t)return n.yp;var i=this.p_()?n._p:n.gp;return t<0?i.m_():i}return this.L_()?this:new n(0===t?Yt.ZERO:this.mu.multiply(t),this.rp)},i.tp=function(t){if(this.b_()||_(t))return n.yp;if(this.T_())return isFinite(t)?0===t?1/t<0?this.m_():this:t<0?this.m_():this:n.yp;if(!isFinite(t))return new n(Yt.ZERO,this.rp);if(this.L_())return 0===t?n.yp:new n(Yt.ZERO,this.rp);if(0===t){var i=this.p_()?n._p:n.gp;return 1/t<0?i.m_():i}return new n(this.mu.divide(t),this.rp)},i.Ip=function(){return[this.mu.low,this.mu.high,this.rp]},n}(tw);function uw(t){return t.b_()?t:t.p_()?ew.gp:ew._p}function ow(t,n){return t.b_()||n.b_()?ew.yp:t.T_()&&n.T_()?t.p_()===n.p_()?t:ew.yp:t.T_()?t:n}ew.D_=new ew(Yt.ZERO,1e6),ew.yp=new ew(Yt.ZERO,0),ew.gp=new ew(Yt.ONE,0),ew._p=new ew(Yt.NEG_ONE,0);var sw,cw=function(t){function n(n,i){var r;return(r=t.call(this)||this).mu=void 0,r.rp=void 0,r.mu=BigInt.asIntN(64,n),r.rp=i>>>0,r}$(n,t),n.wp=function(t,i){return void 0===i&&(i=1e6),n.A_(t*i,i)},n.A_=function(t,i){return _(t)?n.yp:t===1/0?n.gp:t===-1/0?n._p:new n(BigInt(w.floor(t)),i)},n.I_=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.pp=function(t){return n.wp(t.hp,1e6)},n.mp=function(t){return n.A_(t.getTime(),1e3)},n.sp=function(t,n){return t.d_(n)?t:n},n.cp=function(t,n){return t.w_(n)?t:n},n.kp=function(t,i,r){return n.sp(i,n.cp(r,t))};var i=n.prototype;return i.p_=function(){return this.mu<BigInt(0)},i.L_=function(){return 0!==this.rp&&this.mu===BigInt(0)},i.T_=function(){return 0===this.rp&&this.mu!==BigInt(0)},i.b_=function(){return 0===this.rp&&this.mu===BigInt(0)},i.f_=function(){if(0===this.rp)return this.mu===BigInt(0)?NaN:this.mu<BigInt(0)?-1/0:1/0;var t=this.mu/BigInt(this.rp),n=this.mu-t*BigInt(this.rp);return Number(t)+Number(n)/this.rp},i.B_=function(){if(0===this.rp)throw new v("Failed to convert timestamp");return this.Ap()},i.Ap=function(){var t=this.mu&BigInt(4294967295),n=this.mu>>BigInt(32)&BigInt(4294967295);return Yt.fromBits(Number(t),Number(n))},i.bp=function(){return new Date(0===this.rp?NaN:Number(this.ap(1e3).mu))},i.Tp=function(){return new rw(0===this.rp?this.f_():Number(this.mu),this.rp)},i.ap=function(t,i){void 0===i&&(i=sw.Ep);var r=this.rp;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===sw.Ep)return e<BigInt(0)?r-BigInt(1):r;if(i===sw.Sp)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.mu*BigInt(t/e),BigInt(r/e),i),t)},i.v_=function(t){if(this===t)return Gl.o_;if(0===this.rp||0===t.rp)return nw(this,t);if(this.L_())return t.L_()?Gl.o_:t.p_()?Gl.s_:Gl.c_;if(t.L_())return this.p_()?Gl.c_:Gl.s_;var n=w.min(this.rp,t.rp),i=this.ap(n,sw.Rp).mu,r=t.ap(n,sw.Rp).mu;return i>r?Gl.s_:i<r?Gl.c_:Gl.o_},i.m_=function(){return 0===this.rp?aw(this):new n(-this.mu,this.rp)},i.vg=function(t){if(0===this.rp||0===t.rp)return fw(this,t);if(this.L_())return t;if(t.L_())return this;var i=w.max(this.rp,t.rp),r=this.ap(i,sw.Rp),e=t.ap(i,sw.Rp);return new n(r.mu+e.mu,i)},i.K_=function(t){if(this.b_()||_(t))return n.yp;if(this.T_()||!isFinite(t)){if(this.L_()||0===t)return n.yp;var i=this.p_()?n._p:n.gp;return t<0?i.m_():i}return this.L_()?this:new n(0===t?BigInt(0):this.mu*BigInt(t),this.rp)},i.tp=function(t){if(this.b_()||_(t))return n.yp;if(this.T_())return isFinite(t)?0===t?1/t<0?this.m_():this:t<0?this.m_():this:n.yp;if(!isFinite(t))return new n(BigInt(0),this.rp);if(this.L_())return 0===t?n.yp:new n(BigInt(0),this.rp);if(0===t){var i=this.p_()?n._p:n.gp;return 1/t<0?i.m_():i}return new n(this.mu/BigInt(t),this.rp)},i.Ip=function(){var t=this.Ap();return[t.low,t.high,this.rp]},W(n,null,[{key:"D_",get:function(){return n.Cp||(n.Cp=new n(BigInt(0),1e6)),n.Cp}},{key:"yp",get:function(){return n.Dp||(n.Dp=new n(BigInt(0),0)),n.Dp}},{key:"gp",get:function(){return n.Np||(n.Np=new n(BigInt(1),0)),n.Np}},{key:"_p",get:function(){return n.Op||(n.Op=new n(BigInt(-1),0)),n.Op}}]),n}(tw);function aw(t){return t.b_()?t:t.p_()?cw.gp:cw._p}function fw(t,n){return t.b_()||n.b_()?cw.yp:t.T_()&&n.T_()?t.p_()===n.p_()?t:cw.yp:t.T_()?t:n}cw.Cp=void 0,cw.Dp=void 0,cw.Np=void 0,cw.Op=void 0,function(t){t[t.Ep=0]="Ep",t[t.Sp=1]="Sp",t[t.Rp=2]="Rp"}(sw||(sw={}));var hw,vw,dw,lw,ww=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?cw:ew,yw=9e4,gw=w.pow(2,33),_w=(ww.A_(gw,yw).tp(2),{xp:0,Pp:1/0,Lp:0}),pw=6,mw=["WEBVTT ","WEBVTT\t","WEBVTT\n"],kw=[" ","\t","\n","\f","\r"],bw=/^\d*$/,Tw=/.*[0-9]+.*/,Ew=/^[\d.-]+$/,Sw=/(^\.|\.$)/,Rw=/(\D\.|\.\D)/;function Iw(t,n){void 0===n&&(n=_w);var i={lw:[],Fp:[],Mp:[]},r=Aw(t),e=new ro;if(Bw(r),Cw(r,function(t){return"\n"!==t},e),e.Ic>=r.length)return i;(e.Ec(1),"\n"!==r.charAt(e.Ic))?xw(Dw(r,e,!1,!0,i,n),i):e.Ec(1);for(Cw(r,function(t){return"\n"===t},e);e.Ic<r.length;){xw(Dw(r,e,!1,!1,i,n),i),Cw(r,function(t){return"\n"===t},e)}return i}function Aw(t){var n=ve(t,"\0"," "),i=ve(n,"\r\n","\n");return ve(i,"\r","\n")}function Cw(t,n,i){for(var r=i.Ic;i.Ic<t.length&&n(t.charAt(i.Ic));)i.Ec(1);return t.substring(r,i.Ic)}function Dw(t,n,i,r,e,u){for(var o,s=0,c=n.Ic,a="",f=!1,h=!1,v=null,d=null,l=null;!f;)if(o=Cw(t,function(t){return"\n"!==t},n),s++,n.Ic>=t.length?f=!0:n.Ec(1),de(o,"--\x3e")){if(r||1!==s&&(2!==s||h)){n.Sc(c);break}h=!0,c=n.Ic,v=new Xl(0,0,"",!1,a);try{Pw(o,e.Fp,v,u),a=""}catch(t){N.Do(t),v=null}}else{if(""===o)break;r&&le(o,"X-TIMESTAMP-MAP")&&(e.Bp=Nw(o)),r||2!==s||i||(ye("STYLE",a.replace(/ /g,""))?(d={_s:Fl.Sg},a=""):ye("REGION",a.replace(/ /g,""))&&(l=new Yl("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=o,c=n.Ic}if(v)return v.xg=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&de(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),o=e.substring(0,u),s=e.substring(u+1,e.length);switch(o.toUpperCase()){case"ID":Yw(s,n);break;case"WIDTH":Qw(s,n);break;case"LINES":Jw(s,n);break;case"REGIONANCHOR":var c=Gw(s);c&&(n.n_=c[0],n.i_=c[1]);break;case"VIEWPORTANCHOR":var a=Gw(s);a&&(n.r_=a[0],n.e_=a[1]);break;case"SCROLL":Kw(s,n)}}}}(a,l),l;return null}function Nw(t){var n,i,r=t.split("=")[1].trim().split(","),e=Ow(r[0].trim(),"MPEGTS")?r[0]:r[1],u=Ow(r[0].trim(),"LOCAL")?r[0]:r[1];return{Up:(i=Number(e.split(/:(.*)/)[1].trim())||0,ww.A_(i,yw)),Vp:ww.wp(null!=(n=Mw(u.split(/:(.*)/)[1].trim(),new ro))?n:0)}}function Ow(t,n){return le(t,n)}function xw(t,n){t&&function(t){return t._s===Fl.Tg}(t)?n.lw.push(t):t&&function(t){return t._s===Fl.Eg}(t)?n.Fp.push(t):t&&function(t){return t._s===Fl.Sg}(t)&&n.Mp.push(t)}function Pw(t,n,i,r){var e=new ro;if(Uw(t,e),i.Ng=Lw(Mw(t,e),r),Uw(t,e),"--\x3e"!==t.substring(e.Ic,e.Ic+3))throw v("Something went wrong with parsing a WebVTT Cue");e.Ec(3),Uw(t,e),i.Og=Lw(Mw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&de(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":Ww(c,n,i);break;case"VERTICAL":$w(c,n);break;case"D":Xw(c,n);break;case"LINE":case"L":Hw(c,n);break;case"POSITION":case"T":jw(c,n);break;case"SIZE":case"S":zw(c,n);break;case"ALIGN":case"A":qw(c,n)}}}}(t.substring(e.Ic,t.length),i,n)}function Lw(t,n){return t+n.xp}function Fw(t){return/^[0-9]$/.test(t)}function Mw(t,n){var i,r,e,u=ve(t,",","."),o=!1;if(n.Ic>=u.length||!Fw(u.charAt(n.Ic)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var s=Cw(u,Fw,n),c=y(s,10);if((s.length>2||c>59)&&(o=!0),n.Ic>=u.length||":"!==u.charAt(n.Ic))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Ec(1);var a=Cw(u,Fw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var f=y(a,10);if(o||n.Ic<u.length&&":"===u.charAt(n.Ic)){if(n.Ic>=u.length||":"!==u.charAt(n.Ic))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Ec(1);var h=Cw(u,Fw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=y(h,10)}else i=0,r=c,e=f;if(n.Ic>=u.length||"."!==u.charAt(n.Ic))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.Ec(1);var d=Cw(u,Fw,n),l=y(d,10);if(f>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Bw(t){if(t.length<pw)return!1;for(var n=0;n<mw.length;n++){if(le(t,mw[n]))return!0}return!1}function Uw(t,n){for(;n.Ic<t.length&&(i=t.charAt(n.Ic),Ae(kw,i));)n.Ec(1);var i}function Vw(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!_(i)&&i>=0&&i<=100)return i}return null}function qw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Qg=i;break;case"middle":n.Qg="center"}}function Hw(t,n){var i=t,r="";if(de(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Tw.test(i)){var e;if(we(i,"%")){var u=Vw(i);if(null===u)return;e=u}else{if(!Ew.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Rw.test(t)||Sw.test(t))return;if(e=g(t),_(e))return}switch(n.$g=e,n.Jg=we(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Xg=r;break;case"middle":n.Xg="center"}}}function jw(t,n){var i=t,r="";de(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Vw(i);if(null!==e)switch(n.Gg=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.Yg=r;break;case"start":n.Yg="line-left";break;case"middle":n.Yg="center";break;case"end":n.Yg="line-right"}}function Ww(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].tw===t)return void(n.Kg=i[r])}function zw(t,n){var i=Vw(t);null!==i&&(n.bc=i)}function $w(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Zg="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Zg="lr";break;default:n.Zg=""}}function Xw(t,n){"VERTICAL"===t.toUpperCase()?n.Zg="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Zg="lr")}function Gw(t){if(t.indexOf(",")>=0){var n=Vw(t.substring(0,t.indexOf(","))),i=Vw(t.substring(t.indexOf(",")+1,t.length));return[Jt(n||0,0,100),Jt(i||100,0,100)]}return null}function Yw(t,n){n.tw=t}function Kw(t,n){"up"===t.toLowerCase()&&(n.u_="up")}function Jw(t,n){bw.test(t)&&(n.t_=y(t))}function Qw(t,n){var i=Vw(t);null!==i&&(n.bo=i)}!function(t){t.qp="moov",t.Hp="mvhd",t.jp="trak",t.Wp="tkhd",t.zp="mdia",t.$p="mdhd",t.Xp="hdlr",t.Gp="minf",t.Yp="stbl",t.Kp="stsd",t.Jp="stsc",t.Qp="mvex",t.Zp="trex",t.tm="avc1",t.nm="avcC",t.im="hev1",t.rm="hvc1",t.um="hvcC",t.om="pasp",t.sm="mp4a",t.cm="esds",t.am="wvtt",t.fm="vttC",t.hm="vlab",t.vm="enca",t.dm="encv",t.lm="moof",t.wm="mfhd",t.ym="traf",t.gm="tfhd",t._m="trun",t.pm="tfdt",t.mm="mdat",t.km="pssh",t.bm="emsg",t.Tm="sidx",t.Em="styp",t.Sm="ftyp",t.Rm="sinf",t.Im="frma"}(hw||(hw={})),function(t){t.Vv="vide",t.Uv="soun",t.Am="subt",t.Cm="hint",t.Dm="meta",t.Nm="auxv"}(vw||(vw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(dw||(dw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(lw||(lw={}));var Zw=function(){function t(t,n){this.Bu=void 0,this.Om=void 0,this.Bu=t,this.Om=n}var n=t.prototype;return n.xm=function(){return Iu(this.Bu,this.Om)},n.Pm=function(){return Nu(this.Bu,this.Om)},n.Lm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.Ic,i);return n.Ec(2),r}(this.Bu,this.Om)},n.Fm=function(){return xu(this.Bu,this.Om)},n.Mm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.Ic,i);return n.Ec(4),r}(this.Bu,this.Om)},n.Bm=function(){return Lu(this.Bu,this.Om)},n.Um=function(t){return Cu(this.Bu,this.Om,t)},n.Vm=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(xu(t,n));return r}(this.Bu,this.Om,t)},n.qm=function(t){return Bu(this.Bu,this.Om,t)},n.Hm=function(){return Xu(this.Bu,this.Om)},n.jm=function(t){this.Om.Ec(t)},n.Rc=function(){return new t(this.Bu,this.Om.Rc())},t}(),ty=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wm=n,r.zm=i,r}return $(n,t),W(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(sn),ny=function(){function t(){}return t.$m=function(n){var i=n.Bu,r=n.Om,e=t.Xm(i,r,!1);if(!e.Gm)throw new ty(r.Ic,e.Cu);return e.Cu},t.Xm=function(n,i,r){for(var e=[];i.Ic<n.byteLength;){var u=t.Ym(n,i,r);if(!u.Gm)return{Gm:!1,Cu:e};e.push(u.Km)}return{Gm:!0,Cu:e}},t.Jm=function(n,i){var r=t.Ym(n,i,!1);if(!r.Gm)throw new ty(i.Ic);return r.Km},t.Qm=function(n,i){for(var r=n.Bu,e=n.Om;e.Ic<r.byteLength;){var u=t.Ym(r,e,!1);if(!u.Gm)return;if(u.Km._s===i)return u.Km}},t.Ym=function(n,i,r){var e=i.Ic,u=t.Zm(n,i);if(!u.Gm)return u;var o=u.tk,s=o.bc;if(0===s){if(r)return i.Sc(e),{Gm:!1,nk:1/0};s=n.byteLength-e}var c=e+s;if(c>n.byteLength){var a=c;return i.Sc(e),{Gm:!1,nk:a}}var f,h,v,d={_s:o._s,Ic:e,Bu:new Zw((f=n,h=e,v=c,void 0===h&&(h=0),void 0===v&&(v=f.byteLength),new DataView(f.buffer,f.byteOffset+h,v-h)),new ro(o.ik))};return i.Sc(c),{Gm:!0,Km:d}},t.Zm=function(t,n){var i=n.Ic;if(!Du(t,n,8))return{Gm:!1,nk:n.Ic+8};var r=xu(t,n),e=Bu(t,n,4);if(1===r){if(!Du(t,n,8)){var u=n.Ic+8;return n.Sc(i),{Gm:!1,nk:u}}r=Lu(t,n).toNumber()}if("uuid"===e){if(!Du(t,n,16)){var o=n.Ic+16;return n.Sc(i),{Gm:!1,nk:o}}e=Bu(t,n,16)}return{Gm:!0,tk:{_s:e,bc:r,ik:n.Ic-i}}},t.rk=function(t,n,i){var r=t.Bu,e=t.Om,u=Ku(Qu(r),e.Ic,r.byteLength);return i&&(u=io(u)),e.Ec(u.byteLength),{_s:n,Bu:u}},t.ek=function(n,i,r){var e=uy(n.Fm());return{_s:i,uk:e.version,sk:e.flags,Bu:t.rk(n,i,r).Bu}},t}();function iy(t,n){var i=ry(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function ry(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r._s===n)return r.Bu}}function ey(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e._s===n&&i.push(e.Bu)}return i}function uy(t){return{version:t>>24,flags:new Ru(16777215&t)}}var oy=function(){function t(){}return t.ck=function(n){for(var i=[],r=ny.$m(new Zw(n,new ro)),e=0;e<r.length;e++){var u=r[e],o=t.ak(u);o&&i.push(o)}return i},t.fk=function(t){return ny.Xm(t,new ro,!1).Cu.some(function(t){return t._s===hw.lm||t._s===hw.Em})},t.hk=function(n){return ey(ny.$m(new Zw(n,new ro)),hw.km).map(t.vk)},t.dk=function(n){return ey(ny.$m(n.Bu),hw.km).map(t.vk)},t.ak=function(n){switch(n._s){case hw.qp:return t.lk(n.Bu);case hw.lm:return t.wk(n.Bu,n.Ic);case hw.mm:return t.yk(n.Bu);case hw.Tm:return t.gk(n.Bu);case hw.bm:return t._k(n.Bu)}},t.lk=function(n){var i=ny.$m(n),r=iy(i,hw.Hp),e=ey(i,hw.jp),u=ry(i,hw.Qp),o=t.pk(r),s=e.map(t.mk),c=u?t.kk(u):void 0;return{_s:hw.qp,tk:o,bk:s,Tk:c}},t.pk=function(t){var n=uy(t.Fm()),i=n.version,r=n.flags,e=1===i?t.Bm():t.Fm(),u=1===i?t.Bm():t.Fm(),o=t.Fm(),s=1===i?t.Bm():t.Fm(),c=t.Fm(),a=t.Pm()>>8;t.jm(2),t.jm(8);var f=t.Vm(9);t.jm(24);var h=t.Fm();return{_s:hw.Hp,uk:i,sk:r,Ek:e,Sk:u,rp:o,Kw:s,Rk:c,oy:a,Ik:f,Ak:h}},t.mk=function(n){var i=ny.$m(n),r=iy(i,hw.Wp),e=iy(i,hw.zp),u=t.Ck(r),o=t.Dk(e);return{_s:hw.jp,tk:u,Nk:o}},t.Ck=function(t){var n=uy(t.Fm()),i=n.version,r=n.flags,e=1===i?t.Bm():t.Fm(),u=1===i?t.Bm():t.Fm(),o=t.Fm();t.jm(4);var s=1===i?t.Bm():t.Fm();t.jm(8);var c=t.Lm(),a=t.Lm(),f=t.Lm()/w.pow(2,8);t.jm(2);var h=t.Vm(9),v=t.Fm()/w.pow(2,16),d=t.Fm()/w.pow(2,16);return{_s:hw.Wp,Ok:r.Cc(1),xk:r.Cc(2),Pk:r.Cc(4),Ek:e,Sk:u,Lk:o,Kw:s,Fk:c,Mk:a,oy:f,Ik:h,bo:v,Bk:d}},t.Dk=function(n){var i=ny.$m(n),r=iy(i,hw.$p),e=iy(i,hw.Xp),u=iy(i,hw.Gp),o=t.Uk(r),s=t.Vk(e),c=t.qk(u);return{_s:hw.zp,tk:o,Hk:s,jk:c}},t.Uk=function(t){var n=uy(t.Fm()),i=n.version,r=n.flags,e=1===i?t.Bm():t.Fm(),u=1===i?t.Bm():t.Fm(),o=t.Fm(),s=1===i?t.Bm():t.Fm();t.Pm();return t.jm(2),{_s:hw.$p,uk:i,sk:r,Ek:e,Sk:u,rp:o,Kw:s}},t.Vk=function(t){var n=uy(t.Fm()),i=n.version,r=n.flags;t.jm(4);var e=t.qm(4);t.jm(12);var u=t.Hm();return{_s:hw.Xp,uk:i,sk:r,Wk:e,gu:u}},t.qk=function(n){var i=iy(ny.$m(n),hw.Yp),r=t.zk(i);return{_s:hw.Gp,$k:r}},t.zk=function(n){var i=iy(ny.$m(n),hw.Kp),r=t.Xk(i);return{_s:hw.Yp,Gk:r}},t.Xk=function(n){for(var i=uy(n.Fm()),r=i.version,e=i.flags,u=(n.Fm(),[]),o=ny.$m(n),s=0;s<o.length;s++){var c=o[s],a=t.Yk(c.Bu,c._s);a&&u.push(a)}return{_s:hw.Kp,uk:r,sk:e,Kk:u}},t.Yk=function(n,i){var r=t.Jk(n,i);return r||((r=t.Qk(n,i))||(i===hw.am?t.Zk(n):void 0))},t.Jk=function(n,i){return i===hw.sm?t.nb(n):i===hw.vm?t.ib(n):void 0},t.Qk=function(n,i){return i===hw.tm?t.rb(n):i===hw.im||i===hw.rm?t.eb(n,i):i===hw.dm?t.ub(n):void 0},t.ob=function(t,n){return t.jm(6),{_s:n,sb:t.Pm()}},t.cb=function(n,i){var r=t.ob(n,i);n.jm(8);var e=n.Pm(),u=n.Pm();return n.jm(2),n.jm(2),jr({},r,{ab:e,fb:u,hb:n.Fm()>>>16})},t.vb=function(n,i){var r=t.ob(n,i);n.jm(2),n.jm(2),n.jm(12);var e=n.Pm(),u=n.Pm(),o=n.Fm(),s=n.Fm();n.jm(4);var c=n.Pm();n.jm(32);var a=n.Pm();return n.jm(2),jr({},r,{bo:e,Bk:u,lb:o,wb:s,yb:c,gb:a})},t.nb=function(n){var i=t.cb(n,hw.sm),r=iy(ny.$m(n),hw.cm);return jr({},i,{_b:t.pb(r)})},t.Zk=function(n){var i=t.ob(n,hw.am),r=ny.$m(n),e=iy(r,hw.fm),u=t.mb(e),o=ry(r,hw.hm);return jr({},i,{kb:u,bb:o?t.Tb(o):o})},t.mb=function(t){return{_s:hw.fm,ea:t.Hm()}},t.Tb=function(t){return{_s:hw.hm,rw:t.Hm()}},t.pb=function(t){return ny.ek(t,hw.cm,!0)},t.rb=function(n){var i=t.vb(n,hw.tm),r=ny.$m(n),e=iy(r,hw.nm),u=ry(r,hw.om);return jr({},i,{Eb:t.Sb(e),Rb:u?t.Ib(u):void 0})},t.eb=function(n,i){var r=t.vb(n,i),e=iy(ny.$m(n),hw.um);return jr({},r,{Ab:t.Cb(e)})},t.ub=function(n){var i=n.Rc(),r=t.vb(n,hw.dm),e=iy(ny.$m(n),hw.Rm),u=t.Db(e);return jr({},r,{Nb:t.Qk(i,u.xb.Ob),Pb:u})},t.ib=function(n){var i=n.Rc(),r=t.cb(n,hw.vm),e=iy(ny.$m(n),hw.Rm),u=t.Db(e);return jr({},r,{Nb:t.Jk(i,u.xb.Ob),Pb:u})},t.Db=function(n){var i=iy(ny.$m(n),hw.Im),r=t.Lb(i);return{_s:hw.Rm,xb:r}},t.Lb=function(t){var n=t.qm(4);return{_s:hw.Im,Ob:n}},t.Sb=function(t){return ny.rk(t,hw.nm,!0)},t.Cb=function(t){return ny.rk(t,hw.um,!0)},t.Ib=function(t){var n=t.Fm(),i=t.Fm();return{_s:hw.om,Fb:n,Mb:i}},t.kk=function(n){var i=ey(ny.$m(n),hw.Zp).map(t.Bb);return{_s:hw.Qp,bk:i}},t.Bb=function(t){var n=uy(t.Fm()),i=n.version,r=n.flags,e=t.Fm(),u=t.Fm(),o=t.Fm(),s=t.Fm(),c=t.Fm();return{_s:hw.Zp,uk:i,sk:r,Lk:e,Ub:u,Vb:o,qb:s,Hb:c}},t.wk=function(n,i){var r=ny.$m(n),e=iy(r,hw.wm),u=ey(r,hw.ym),o=t.jb(e),s=u.map(t.Wb);return{_s:hw.lm,zb:i,tk:o,bk:s}},t.jb=function(t){var n=uy(t.Fm()),i=n.version,r=n.flags,e=t.Fm();return{_s:hw.wm,uk:i,sk:r,$b:e}},t.Wb=function(n){var i=ny.$m(n),r=iy(i,hw.gm),e=ey(i,hw._m),u=ry(i,hw.pm),o=t.Xb(r),s=e.map(function(n){return t.Gb(n,o)}),c=u?t.Yb(u):void 0;return{_s:hw.ym,tk:o,Kb:s,Jb:c}},t.Xb=function(t){var n=uy(t.Fm()),i=n.version,r=n.flags,e=t.Fm(),u=r.Cc(dw.BASE_DATA_OFFSET_PRESENT)?t.Bm():void 0,o=r.Cc(dw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Fm():void 0,s=r.Cc(dw.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Fm():void 0,c=r.Cc(dw.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Fm():void 0,a=r.Cc(dw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Fm():void 0;return{_s:hw.gm,uk:i,sk:r,Lk:e,Qb:u,Zb:o,Vb:s,qb:c,Hb:a}},t.Gb=function(n,i){for(var r=uy(n.Fm()),e=r.version,u=r.flags,o=n.Fm(),s=u.Cc(lw.DATA_OFFSET_PRESENT)?n.Mm():void 0,c=u.Cc(lw.FIRST_SAMPLE_FLAGS_PRESENT)?n.Fm():void 0,a=[],f=0;f<o;f++){var h=t.tT(n,u,e,i);0===f&&void 0!==c&&(h.sk=c),a.push(h)}return{_s:hw._m,uk:e,sk:u,nT:o,zb:s,iT:c,rT:a}},t.tT=function(t,n,i,r){return{Kw:n.Cc(lw.SAMPLE_DURATION_PRESENT)?t.Fm():r.Vb,bc:n.Cc(lw.SAMPLE_SIZE_PRESENT)?t.Fm():r.qb,sk:n.Cc(lw.SAMPLE_FLAGS_PRESENT)?t.Fm():r.Hb,eT:n.Cc(lw.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Fm():t.Mm():void 0}},t._k=function(t){var n=t.Bu,i=t.Om,r=uy(xu(n,i)),e=r.version,u=r.flags;if(1===e){var o=xu(n,i),s=Lu(n,i),c=xu(n,i),a=xu(n,i),f=Mu(n,i),h=Mu(n,i),v=no(Qu(n),i.Ic,n.byteLength);return i.Ec(v.byteLength),{_s:hw.bm,uk:e,sk:u,uT:f,mu:h,rp:o,oT:s,sT:c,tw:a,cT:v}}var d=Mu(n,i),l=Mu(n,i),w=xu(n,i),y=xu(n,i),g=xu(n,i),_=xu(n,i),p=no(Qu(n),i.Ic,n.byteLength);return i.Ec(p.byteLength),{_s:hw.bm,sk:u,uk:e,uT:d,mu:l,rp:w,aT:y,sT:g,tw:_,cT:p}},t.yk=function(t){return ny.rk(t,hw.mm,!1)},t.vk=function(n){var i=n.Bu,r=n.Om,e=io(Qu(i)).buffer,u=uy(xu(i,r)),o=u.version,s=u.flags,c=t.fT(i,r),a=[];if(o>0)for(var f=xu(i,r),h=0;h<f;h++){var v=Cu(i,r,16);a.push(v)}var d=xu(i,r),l=new p(e,r.Ic,d);return r.Ec(i.byteLength),{_s:hw.km,uk:o,sk:s,hT:c,vT:a,dT:d,Bu:l,lT:e}},t.fT=function(t,n){for(var i="",r=0;r<4;r++){var e=Iu(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var o=Iu(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Iu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var a=0;a<2;a++){var f=Iu(t,n).toString(16);i+=1===f.length?"0"+f:f}i+="-";for(var h=0;h<6;h++){var v=Iu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.gk=function(t){var n,i,r=t.Bu,e=t.Om,u=uy(xu(r,e)),o=u.version,s=u.flags,c=xu(r,e),a=xu(r,e);0===o?(n=Yt.fromBits(xu(r,e),0,!0),i=Yt.fromBits(xu(r,e),0,!0)):(n=Lu(r,e),i=Lu(r,e)),e.Ec(2);for(var f=Nu(r,e),h=[],v=0;v<f;v+=1){var d=xu(r,e),l=d>>31&1,w=2147483647&d,y=xu(r,e),g=xu(r,e),_=g>>31&1,p=g>>28&7,m=268435455&g;h.push({wT:l,yT:w,Kw:y,gT:_,_T:p,pT:m})}return{_s:hw.Tm,uk:o,sk:s,mT:c,rp:a,kT:n,bT:i,TT:f,ET:h}},t.Yb=function(t){var n,i=t.Bu,r=t.Om,e=uy(xu(i,r)),u=e.version,o=e.flags;return n=0===u?Yt.fromBits(xu(i,r),0,!0):Lu(i,r),{_s:hw.pm,uk:u,sk:o,Jb:n}},t}();function sy(t){return t&&"Au"in t?t.Au:t}var cy=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this,n,i,r,e)||this).ST=void 0,c.RT=void 0,c.IT=void 0,c.ST=u,c.RT=o,c.IT=s||void 0,c}return $(n,t),n.prototype.Hg=function(n){return this===n||!!qv(this,n)&&(!!t.prototype.Hg.call(this,n)&&(!!Vv(this.AT,n.AT)&&(!!Vv(this.Fp,n.Fp)&&(this.CT&&n.CT?!!this.CT.lu(n.CT)&&(this.xg&&n.xg?this.xg.lu(n.xg):this.xg===n.xg):this.CT===n.CT))))},W(n,[{key:"AT",get:function(){return this.ST}},{key:"Fp",get:function(){return this.RT}},{key:"CT",get:function(){return this.IT}},{key:"dl",get:function(){var t;return this.vl||(this.vl=Bv(jl(t=this),{get styles(){return t.AT},get regions(){return t.Fp},get metadata(){return sy(t.CT)},get content(){return sy(t.xg)}})),this.vl}}]),n}($l),ay=function(){function t(t,n,i){this.Uh=void 0,this.DT=void 0,this.NT=void 0,this.DT=t,this.NT=n,en(i)?this.Uh=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i.Ou(u)}return i}(0,0,i):this.Uh=i}return W(t,[{key:"OT",get:function(){return this.Uh.wu(!0)}},{key:"Ng",get:function(){return this.DT}},{key:"Og",get:function(){return this.NT}}]),t}();var fy="http://www.w3.org/XML/1998/namespace";function hy(t,n){return function(t,n){var i=t.Cu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.Cu)}return r}(t,function(t){return t.Su===n})}function vy(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function dy(t,n){for(var i=t.Fu,r={},e=0;e<i.length;e++)r[vy(i[e].gu,n)]=i[e].mu;return r}var ly=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,wy=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,yy="http://www.w3.org/ns/ttml";function gy(t,n,i){return void 0===i&&(i=_w),function(t,n,i){var r,e=[];try{r=N.vu(t)}catch(t){return e}var u=r.Uu;if("tt"!==u.yu)return e;var o=u&&u.Ru(yy,"head")[0],s=u&&u.Ru(yy,"body")[0],c=["ebutts","tts","xml"];if(!s||!o)return e;for(var a=function(t,n){for(var i={},r=t.Ru(yy,"styling")[0],e=r&&r.Ru(yy,"style")||[],u=0;u<e.length;u++){var o=e[u],s=o.Nu(fy,"id");i[s]=dy(o,n)}return i}(o,c),f=function(t,n){var i=Uv(t),r=ky(n.Du("tts:extent"));if(!r)return i;for(var e=0,u=l.keys(i);e<u.length;e++){var o=u[e],s=ky(i[o].extent);if(s){var c=py(s[0],r[0]),a=py(s[1],r[1]);i[o].extent=c+" "+a}var f=ky(i[o].origin);if(f){var h=py(f[0],r[0]),v=py(f[1],r[1]);i[o].origin=h+" "+v}}return i}(function(t,n){for(var i={},r=t.Ru(yy,"layout")[0],e=r&&r.Ru(yy,"region")||[],u=0;u<e.length;u++){var o=e[u],s=o.Nu(fy,"id");if(s){i[s]=dy(o,n);var c=Ey(o,n);for(var a in c)rt.call(c,a)&&(i[s][a]=c[a])}}return i}(o,c),u),h=o.Ru(yy,"metadata")[0],v=function t(n,i,r,e){var u=i;var o;var s=r;var c=[];var a=[];if(en(n)){var f,h;u=null!=(f=Ty(n.Du("begin"),e))?f:u,o=Ty(n.Du("dur"),0),s=null!=(h=Ty(n.Du("end"),e))?h:void 0!==o?u+o:s;for(var v=n.Eu,d=0;d<v.length;d++)("body"===n.yu||"div"===n.yu)&&v[d].ou>1||(c=c.concat(t(v[d],u,s,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.Ng,u.Og)}r.sort(Jl);for(var o=r.length,s=0;s<o-1;s++)r[s+1]===r[s]&&(Ie(r,s+1),s--,o=r.length);return r}(u,s,c);for(var w=0;w<l.length-1;w++){var y=by(l[w],l[w+1],c);if(y.length<=0&&Sy(n)){var g=n.wu(!1);a.push(new ay(l[w],l[w+1],g))}else y.length>0&&function(){var t=n.wu(!1);y.forEach(function(n){return t.Iu(n.OT)}),a.push(new ay(l[w],l[w+1],t))}()}return a}(s,i.xp,i.Pp,i.Lp),d=0;d<v.length;d++){var w=v[d],y=_y(f,w);e.push(new cy(w.Ng,w.Og,w.OT,!1,a,y,h))}return e}(t,0,i)}function _y(t,n){for(var i=function t(n){var i=[];var r;if(en(n)){(r=n.Du("region"))&&i.push(r);for(var e=n.Eu,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.OT),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function py(t,n){var i=my(t),r=my(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return _(e)||_(u)?t:e/u*100+"%"}return t}function my(t){return we(t,"px")?"px":we(t,"em")?"em":we(t,"c")?"c":we(t,"%")?"%":void 0}function ky(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function by(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].Ng,o=i[e].Og;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&r.push(i[e])}return r}function Ty(t,n){if(t){if(ly.test(t)){var i=ly.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*r+60*e+u+(o?Number(o)*w.pow(.1,o.length):0)-n}if(wy.test(t)){var s=wy.exec(t);if(!s)return;var c,a=Number(s[1]);switch(s[4]){case"h":c=3600*a;break;case"m":c=60*a;break;case"s":c=a;break;case"ms":c=.001*a;break;case"f":case"t":default:c=NaN}return c-n}}}function Ey(t,n){for(var i={},r=t.Tu("style")||[],e=0;e<r.length;e++){var u=dy(r[e],n);for(var o in u)rt.call(u,o)&&(i[o]=u[o])}return i}function Sy(t){if(en(t)){var n=t.yu.toUpperCase(),i=Boolean(t.Du("smpte:backgroundImage"));return"BR"===n||i}return t.ou===rn.au}function Ry(t){var n=function(t){try{return N.vu(t).Uu}catch(t){}}(t);return"tt"===(null==n?void 0:n.yu)}var Iy,Ay=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Ul=function(n){return t.prototype.Ul.call(this,n)},i.Vl=function(n){var i=t.prototype.Vl.call(this,n);return i&&(n.aw=td.vw),i},i.ll=function(){return od(this)},n}(Ov),Cy=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).bk=new Ay,n.xT=function(t){var i=t.wl;n.PT(i)},n}$(n,t);var i=n.prototype;return i.Ul=function(t){t.Ks(Sv.Rl,this.xT),this.bk.Ul(t),this.PT(t)},i.Vl=function(t){t.tc(Sv.Rl,this.xT),t.aw=td.vw,this.bk.Vl(t)},i.LT=function(t){},i.FT=function(t){},i.PT=function(t){t.aw!==td.vw?this.LT(t):this.FT(t)},i.MT=function(){for(var t=0,n=this.bk.jl;t<n.length;t++){var i=n[t];i.tc(Sv.Rl,this.xT),i.sr()}},i.Hl=function(){return this.MT(),this.bk.Hl(),C.resolve()},i.sr=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zs(),t.next=3,this.Hl();case 3:this.bk.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Xe);!function(t){t.Am="subtitles",t.BT="captions",t.UT="descriptions",t.VT="chapters",t.Dm="metadata",t.qT="thumbnails"}(Iy||(Iy={}));var Dy=[Iy.Am,Iy.BT,Iy.UT,Iy.VT,Iy.Dm,Iy.qT];function Ny(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ae(Dy,t)}(n)?n:n?Iy.Dm:Iy.Am}var Oy,xy=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n,i,u)||this).url=void 0,o.status=void 0,o.url=r,o.status=e,o}return $(n,t),n}(Po);function Py(t,n){return t===Iy.qT||t===Iy.Dm&&n===Iy.qT}function Ly(t,n,i,r){for(var e=0,u=t.lw.jl;e<u.length;e++){var o=u[e];if(o.Ng>i)break;n<=o.Og&&r.push(o)}}function Fy(t,n){return Kl(t.nw,n.nw)}function My(t,i){var r=i,e=0;if(t instanceof Wf&&t.name===Vf.rd)r=t.Tv.Sv;else if(function(t){return t instanceof $f}(t)){var u=t.fd;if(r=u.Ev,0===(e=u._v))return new xy(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new xy(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function By(t,i,r,e){var u=function(t){switch(t){case Ll.WEBVTT:return"WebVTT";case Ll.SRT:return"SRT";case Ll.TTML:return"TTML";default:return""}}(t);return new xy(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,r,e)}function Uy(t){return Bw(Aw(t))?Ll.WEBVTT:Ry(t)?Ll.TTML:Ll.SRT}!function(t){t.HT="vtt",t.am="wvtt",t.jT="stpp"}(Oy||(Oy={}));var Vy=function(t){function n(n){var i;return(i=t.call(this,nd.sw)||this).errorObject=n,i}return $(n,t),n.prototype.ll=function(){return this},W(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Ev),qy=function(t){function n(n,i){var r;return(r=t.call(this)||this).WT=void 0,r.zT=void 0,r.$T=new Ne,r.WT=n,r.zT=i,r}$(n,t);var i=n.prototype;return i.XT=function(t){if(t.src){var n=t.kind||Iy.Am,i=this.WT.GT(n,t.id,t.label,t.srclang,t.default);return i.yw=Uf(t.src),this.Ul(i),i}},i.YT=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o,s,c,a,f,h,v;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.dw=Pl.LOADING,r=new Lf({Sv:n.yw,mv:ns.au,Hv:Df.GET,Ws:i}),t.prev=2,t.next=5,this.zT.Tv(r);case 5:return o=t.sent,u=o._v,t.next=9,o.iv();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Le(t.t0),n.dw=Pl.ERROR,n.Ys(new Vy(My(t.t0,n.yw))),t.abrupt("return");case 18:for(t.prev=18,s=Uy(e),n._s=s,c=[],s===Ll.WEBVTT||s===Ll.SRT?(a=Iw(e),c=a.lw):s===Ll.TTML&&(c=gy(e)),f=0,h=c;f<h.length;f++)v=h[f],n.KT(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),Le(t.t1),n.dw=Pl.ERROR,n.Ys(new Vy(By(n._s,n.yw,u,t.t1))),t.abrupt("return");case 32:n.dw=Pl.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.LT=function(t){Ae(this.bk.jl,t)&&t.dw===Pl.NONE&&this.YT(t,this.$T.Ws).catch(Fe)},i.Gc=function(){},i.Hl=function(){var n=C.coroutine(Hr.mark(function n(){var i,r,e;return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.$T.qs(),this.$T=new Ne,i=0,r=this.bk.jl;i<r.length;i++)e=r[i],this.WT.JT(e);return n.next=5,t.prototype.Hl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Cy);function Hy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.iw===n&&r.QT)return r}}function jy(t,n){Wy(Hy(t.jl,n))}function Wy(t){void 0!==t&&(t.aw=td.fw)}function zy(t,n){Wy(Hy(t.jl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.iw===n)return r}}(t.jl,n))}function $y(t){for(var n=0;n<Dy.length;n++){var i=Dy[n];i===Iy.VT?zy(t,i):jy(t,i)}}var Xy,Gy=function(t){function n(){return t.call(this,ts.Rf)||this}return $(n,t),n}(Ye);!function(t){t[t.ZT=0]="ZT",t[t.tE=1]="tE"}(Xy||(Xy={}));var Yy=t,Ky=Yy.MediaSource,Jy=Yy.WebKitMediaSource,Qy=Yy.TextTrack,Zy=u&&u.createElement("video"),tg=(u&&u.documentElement.style,it.ye&&it.$e&&it.Xe<=26),ng=(it.De,!(!Ky&&!Jy)),ig=!!Qy,rg=(u&&(u.fullscreenEnabled||u.webkitFullscreenEnabled||u.mozFullScreenEnabled||u.msFullscreenEnabled)||it.Ie,it.He&&it.je,Zy&&Zy.canPlayType&&(""!==Zy.canPlayType("application/vnd.apple.mpegURL")||it.me&&!it.He&&it.ke),Zy&&Zy.canPlayType&&""!==Zy.canPlayType("video/mp4")&&!tg),eg=ng&&!it.We&&!it.Ue&&!it.Be&&((Ky||Jy).isTypeSupported?(Ky||Jy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Zy&&Zy.canPlayType&&""!==Zy.canPlayType('audio/mp4; codecs="mp4a.40.34"'));ng&&!it.We&&(eg||((Ky||Jy).isTypeSupported?(Ky||Jy).isTypeSupported("audio/mpeg"):Zy&&Zy.canPlayType&&Zy.canPlayType("audio/mpeg"))),ng&&!(it.qe&&it.ye)&&(Ky||Jy).isTypeSupported&&(Ky||Jy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),it.We||it.Ue||it.Be,it.Ve,it.We,it.Ue&&it._e&&it.pe;try{e&&e.top!==e.self}catch(t){!0}var ug=function(t){function n(n){var i;return(i=t.call(this,Pd.Xw)||this).currentTime=n,i}return $(n,t),n}(Ye),og=function(t){function n(n){var i;return(i=t.call(this,Pd.Gw)||this).currentTime=n,i}return $(n,t),n}(Ye),sg=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).nE=pd.Bw,r.iE=!0,r.rE=!1,r.eE=!1,r.uE=function(t){var n=t.readyState;n!==r.nE&&r.Ys(t),n===pd.Bw&&(r.rE=!1,r.eE=!1),r.oE(n),r.sE(n),r.cE(n),r.maybeDispatchCanPlayThroughEvent(n),r.aE(n),r.fE(n),r.nE=n},r.hE=function(){r.fE(r.nE),r.aE(r.nE),r.iE=r.vE.ty},r.dE=function(){r.iE=r.vE.ty},r.vE=n,r.lE=i,r.vE.Ks(Pd.Al,r.uE),r.vE.Ks(ts.bf,r.hE),r.vE.Ks(ts.kf,r.dE),r.lE&&r.vE.Ks(Pd.Gw,r.Gs),r}$(n,t);var i=n.prototype;return i.oE=function(t){!this.eE&&t>=pd.Uw&&(this.eE=!0,this.Ys(new qd(this.vE.Yw,t)))},i.sE=function(t){!this.rE&&t>=pd.Vw&&(this.rE=!0,this.Ys(new $d(this.vE.Yw,t)))},i.aE=function(t){this.lE||(t>=pd.qw&&this.nE<pd.qw&&!this.vE.ty||this.wE&&t>=pd.qw)&&this.Ys(new og(this.vE.Yw))},i.fE=function(t){!this.yE(t)||this.vE.Jw||this.vE.fc||this.Ys(new ug(this.vE.Yw))},i.cE=function(t){this.nE<=pd.Vw&&t>=pd.qw&&this.Ys(new Kd(this.vE.Yw,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===pd.Hw&&this.Ys(new Jd(this.vE.Yw,t))},i.yE=function(t){var n=!this.vE.ty&&t<=pd.Vw,i=!this.iE&&this.nE<=pd.Vw;return n&&!i},i.Hl=function(){this.nE=pd.Bw,this.iE=!0,this.rE=!1,this.eE=!1},i.sr=function(){this.Zs(),this.lE&&this.vE.tc(Pd.Gw,this.Gs),this.vE.tc(ts.bf,this.hE),this.vE.tc(ts.kf,this.dE),this.vE.tc(Pd.Al,this.uE)},W(n,[{key:"wE",get:function(){return!this.vE.ty&&this.iE}}]),n}(Xe),cg="titanium",ag="conax",fg="ezdrm",hg="irdeto",vg="vudrm",dg="verimatrix",lg="keyos",wg="drmtoday",yg="expressplay",gg="azure",_g="xstream",pg="vimond",mg="axinom",kg="uplynk",bg="comcast",Tg="custom",Eg=function(){function t(t,n,i,r,e){this.ra=void 0,this.gE=void 0,this._E=void 0,this.pE=void 0,this.zT=void 0,this.mE=void 0,this.kE=void 0,this.ra=t,this.gE=n,this._E=i,this.zT=r,this.kE=e,this.pE=this.bE(n)}var i=t.prototype;return i.TE=function(){return this.mE},i.EE=function(t){this.mE=t},i.SE=function(){return this.pE.licenseAcquisitionURL||this.TE()},i.RE=function(t){return C.resolve()},i.IE=function(t,n){return C.resolve(void 0)},i.AE=function(){var t=C.coroutine(Hr.mark(function t(i,r,e,u){var o,s;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.CE(i,r,e,u)).Sv){t.next=3;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.sl.Tv(o);case 6:return s=t.sent,t.next=9,s.rv(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Le(t.t0),t.next=17,this.DE(t.t0,o.Sv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.CE=function(t,n,i,r){var e=this.NE().jf(),u=this.$v,o={Sv:this.OE(),mv:n,pv:e,sv:t,$v:u,Hv:Df.POST,jv:0,Ws:r,_s:Nf.Dv,Wv:i};return new Lf(o)},i.xE=function(t,n){return C.resolve(t)},i.PE=function(t,n,i,r){return C.resolve(t)},i.NE=function(){return new is(this.pE.headers||{})},i.DE=function(){var t=C.coroutine(Hr.mark(function t(i,r,e){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.OE=function(t,n){var i=n,r=this.pE.queryParameters;if(!i){var e=this.SE();if(!e)return"";i=e}if(r||t){var u=N.zo(i);t&&Bf(u,t),r&&Bf(u,r),i=u.href}return i},i.LE=function(t){return function(t,n){var i=n.licenseResponseProcessor;return C.resolve(new p(Sg(t,i)))}(t,this.pE)},i.FE=function(){var t=C.coroutine(Hr.mark(function t(n,i,r){var e,u,o;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ME(n,r);case 2:return e=t.sent,t.next=5,this.AE(e,this.kE,i,r);case 5:return u=t.sent,t.next=8,this.LE(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.sr=function(){},W(t,[{key:"sl",get:function(){return this.zT}},{key:"BE",get:function(){return!1}},{key:"UE",get:function(){var t=this.pE.certificate;if(t)return ft(t)?au(t):to(t)}},{key:"VE",get:function(){return!1}},{key:"$v",get:function(){return Boolean(this.pE.useCredentials)}}]),t}();function Sg(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Rg(t,n){var i=io(t).buffer,r=n.licenseRequestProcessor;return C.resolve(Sg(i,r))}var Ig,Ag,Cg=function(t){function n(n,i,r,e){return t.call(this,ae,n,i,r,e)||this}$(n,t);var i=n.prototype;return i.bE=function(t){return t.widevine||{}},i.qE=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UE){t.next=2;break}return t.abrupt("return",this.UE);case 2:return t.abrupt("return",this.HE(new p(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.HE=function(n,i){return t.prototype.FE.call(this,n,Of.Pv,i)},n}(Eg);function Dg(t,n){if(null==t)return{};var i,r,e={},u=l.keys(t);for(r=0;r<u.length;r++)i=u[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Ng(t){return ut(t.token&&t.deviceId)}function Og(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&ut(i.PreAuthorization)}function xg(t){var n=t;return Ng(n)&&""!==n.token&&""!==n.deviceId&&!Og(n)}(Ag=Ig||(Ig={})).jE=!1,Ag.WE=!1,Ag.zE=!1,Ag.$E=!1,Ag.LOG_ADS_DETAILS=!1,Ag.LOG_CHROMECAST_DETAILS=!1,Ag.LOG_CUSTOM_DRM=!1,Ag.LOG_BUFFERING_VIDEO_MAIN=!1,Ag.LOG_BUFFERING_VIDEO_SELECTION=!1,Ag.LOG_BUFFERING_AUDIO_MAIN=!1,Ag.LOG_BUFFERING_AUDIO_SELECTION=!1,Ag.XE=!1,Ag.GE=!1;var Pg,Lg=function(){function t(t,n,i){this.YE=t,this.jc=n,this.KE=i}return t.prototype.JE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.KE.build(t))},W(t,[{key:"QE",get:function(){return this.YE}},{key:"ra",get:function(){return this.jc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Pg||(Pg={}));var Fg=function(){function t(){this.ZE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.tS(t,i,r)){case Pg.FAILED:throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Pg.OVERRIDDEN:var e=n_(i);N.Do("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Pg.SUCCEEDED:n_(i);0}},i.tS=function(t,n,i){var r=n_(n);if(!r)return Pg.FAILED;for(var e=Pg.SUCCEEDED,u=0,o=this.ZE.slice();u<o.length;u++){var s=o[u];s.QE===t&&s.ra===r&&(e=Pg.OVERRIDDEN,Re(this.ZE,s))}return this.ZE.push(new Lg(t,r,i)),e},i.nS=function(t,n){return void 0!==this.iS(t,n)},i.rS=function(t,n,i){var r=this.iS(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.JE(i)},i.iS=function(t,n){for(var i=0,r=this.ZE;i<r.length;i++){var e=r[i];if(e.QE===t&&(!n||e.ra===n))return e}},t}();Fg.eS=new Fg;var Mg=["customdata"],Bg={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function Ug(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,a=t.licenseRequestProcessor,f=t.licenseResponseProcessor;return!(n||i||r||e||u||o||s||c||a||f)}function Vg(t){return t&&void 0!==t.licenseAcquisitionURL}var qg,Hg=Vg,jg=Vg;function Wg(t){if(!t)return!0;if(Gg(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return Ug(n)&&Ug(i)&&Ug(r)&&Ug(e)&&Ug(u)}function zg(t){var n=xg(t),i=function(t){var n,i=t;return Og(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Ng(i)}(t);return(!n||!i)&&(n||i)}function $g(t){return t.integration===hg}function Xg(t){var n=t;if(!n)return!1;if(Wg(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(Gg(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Hg(r))return!1;if(e&&!jg(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Fg.eS.nS(n.integration))return!0;switch(n.integration){case cg:if(!function(t){return t.integration===cg&&(Yg(t)||Kg(t))}(t))return!1;break;case vg:if(!Jg(t))return!1;break;case dg:if(!function(t){return t.integration===dg}(t))return!1;break;case hg:if(!$g(t))return!1;break;case ag:if(!zg(t))return!1;break;case fg:if(!function(t){return t.integration===fg}(t))return!1;break;case lg:if(!Gg(t))return!1;break;case wg:if(!function(t){var n=t;return n.integration===wg&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case yg:if(!function(t){return t.integration===yg}(t))return!1;break;case _g:if(!Qg(t))return!1;break;case pg:if(!function(t){return t.integration===pg}(t))return!1;break;case mg:if(!Zg(t))return!1;break;case gg:if(!function(t){var n=t;return n.integration===gg&&void 0!==n.token}(t))return!1;break;case kg:if(!function(t){return t.integration===kg}(t))return!1;break;case bg:if(!function(t){var n=t;return n&&ut(n.releasePid)&&ut(n.accountId)&&ut(n.token)}(t))return!1;break;case Tg:return!0;default:return!1}}return!0}function Gg(t){return t.integration===lg}function Yg(t){return void 0!==t.authToken}function Kg(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Jg(t){var n=t;return n.integration===vg&&void 0!==n.token}function Qg(t){var n=t;return n&&n.integration===_g&&ft(n.ticketAcquisitionURL)&&ft(n.streamId)}function Zg(t){var n=t;return n.integration===mg&&void 0!==n.token}function t_(t,n){var i,r,e,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Bg[t],s=null!=(r=null==u?void 0:u.customdata)?r:n.customdata,c=s?{customData:s}:{},a=jr({},null!=(e=null==u?void 0:u.headers)?e:{},c),f=null!=u?u:{};f.customdata;return jr({},Dg(f,Mg),{licenseAcquisitionURL:o,headers:a})}function n_(t){switch(t.toLowerCase()){case"widevine":case ee:return ee;case"playready":case ie:return ie;case"fairplay":case oe:return oe}}function i_(t,i){switch(t){case Zr:return function(t){for(var n={},i=oy.hk(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.hT]=e.lT}return n}(i);case te:case ne:return function(t){var n;return(n={})[ue]=t,n}(i);default:throw new Po(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ds="Widevine",t.vs="PlayreadyV2",t.uS="PlayreadyV2",t.oS="PlayreadyV3",t.ls="Fairplay"}(qg||(qg={}));var r_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function e_(t,n){var i,r,e,u,o=r_[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=N.Xo)?void 0:i.Go,OSVersion:null==(r=N.Xo)?void 0:r.ts,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(e=N.Xo)?void 0:e.rs,DeviceModel:null==(u=N.Xo)?void 0:u.es}}}function u_(t,i){if(!t.accountName)throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function o_(t,n,i){var r;if(Yg(t))r={AuthToken:t.authToken,Payload:n};else{if(!Kg(t))throw u_(t,i);r={LatensRegistration:e_(t,i),Payload:n}}return _u(JSON.stringify(r))}function s_(t,n,i){return c_.apply(this,arguments)}function c_(){return(c_=C.coroutine(Hr.mark(function t(i,r,e){var u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.fd){t.next=3;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return o=u,t.prev=4,t.next=7,o.nv(e);case 7:s=t.sent,c=a_(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,o.Tv.Sv,o._v,o.kv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function a_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var f_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,ns.qf)||this).sS=void 0,e}$(i,t),i.cS=function(){return N.Go.yo?"required":"optional"};var r=i.prototype;return r.DE=function(t,n,i){return s_(t,n,i)},r.RE=function(t){return this.sS?Me(this.sS.Nc,t):(this.sS=new eo,C.resolve())},r.ME=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.gE){t.next=3;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=hu(i),t.abrupt("return",o_(e,u,qg.ds));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.LE=function(t){var i;if(!t.license)throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=au(t.license),C.resolve(i)},r.aS=function(t){return C.resolve(new p(t))},r.qE=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fS(),t.next=3,this.ME(n,i);case 3:return r=t.sent,t.next=6,this.AE(r,ns.Vf,Of.Lv,i);case 6:return e=t.sent,t.next=9,this.aS(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.HE=function(){var n=C.coroutine(Hr.mark(function n(i,r){var e;return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.HE.call(this,i,r);case 2:return e=n.sent,this.fS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.fS=function(){this.sS||(this.sS=new eo),this.sS.Oc()},r.sr=function(){this.sS&&this.sS.qs(),t.prototype.sr.call(this)},i}(Cg),h_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,ns.Vf)||this).EE("https://widevine-proxy.drm.technology/proxy"),e}return $(i,t),i.prototype.ME=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u,o,s;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rg(i,this.pE);case 2:if(e=t.sent,u=this._E,r=new p(e),o=[].slice.call(r),s=this.hS){t.next=8;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(i,[{key:"hS",get:function(){if(Jg(this.gE))return this.gE.token}}]),i}(Cg);function v_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=jr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),jr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var d_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ns.Vf)||this).EE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}$(n,t);var i=n.prototype;return i.ME=function(t,n){return Rg(t,this.pE)},i.OE=function(n,i){var r=n;return $g(this.gE)&&(r=v_(this.gE,r)),t.prototype.OE.call(this,r,i)},n}(Cg),l_="Conax-Custom-Data";function w_(t,n,i){var r=t&&zg(t)&&t;if(r&&!i.has(l_)){var e=xg(r)?r.token:void 0,u=xg(r)?r.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(l_,o)}return i}var y_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ns.Vf)||this).EE("https://connect.conax.com:8094/license"),e}$(n,t);var i=n.prototype;return i.ME=function(t,n){return Rg(t,this.pE)},i.NE=function(){var n=t.prototype.NE.call(this);return w_(this.gE,"Widevine",n)},n}(Cg);function g_(t){var n=ju(new p(t));return au(JSON.parse(n).license)}function __(t){return"string"==typeof t.token?t.token:_u(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function p_(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var m_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,ns.Vf)||this).EE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}$(n,t);var i=n.prototype;return i.ME=function(t,n){return Rg(t,this.pE)},i.LE=function(t){return C.resolve(g_(t))},i.NE=function(){return p_(t.prototype.NE.call(this),this.hS,this.gE)},W(n,[{key:"hS",get:function(){return __(this.gE)}}]),n}(Cg),k_=function(t){function n(n,i,r){return t.call(this,n,i,r,ns.Vf)||this}$(n,t);var i=n.prototype;return i.ME=function(t,n){return Rg(t,this.pE)},i.NE=function(){var n=t.prototype.NE.call(this),i=this.gE.token;return n.set("Authorization","Bearer "+i),n},n}(Cg);function b_(t,n,i,r){return T_.apply(this,arguments)}function T_(){return(T_=C.coroutine(Hr.mark(function t(i,r,e,u){var o,s,c,a,f,h,v;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Qg(i)){t.next=2;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new is).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=i.sessionId)&&o.append("XSSESSION",s),c=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",f={drmType:r,licenseType:a,streamId:c},h={Sv:i.ticketAcquisitionURL,mv:ns.qf,pv:o,Hv:Df.POST,sv:JSON.stringify(f),Ws:u},t.next=13,e.Tv(h);case 13:return v=t.sent,t.next=16,v.nv();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var E_=function(t){function n(n,i,r){return t.call(this,n,i,r,ns.qf)||this}$(n,t);var i=n.prototype;return i.NE=function(){var n=t.prototype.NE.call(this);return n.set("Content-Type","application/json"),n},i.ME=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=gu(n.buffer),e=this.gE,t.next=4,b_(e,"widevine_modular",this.sl,i);case 4:return u=t.sent,this.EE(u.licenseServerUrl),o=Wu(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",Rg(o,this.pE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.LE=function(t){var n=t;return C.resolve(au(n.license))},n}(Cg),S_=function(t){function i(n,i,r){return t.call(this,n,i,r,ns.Vf)||this}$(i,t);var r=i.prototype;return r.ME=function(t,n){return Rg(t,this.pE)},r.NE=function(){if(!Zg(this.gE))throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.NE.call(this);return i.set("X-AxDRM-Message",this.gE.token),i},i}(Cg);function R_(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var I_=function(t){function n(n,i,r){var e;return(e=t.call(this,ce,n,i,r,ns.Vf)||this).vS=void 0,e}$(n,t);var i=n.prototype;return i.bE=function(t){return t.playready||{}},i.NE=function(){var n=new is(this.vS);return n.zf(t.prototype.NE.call(this)),n},i.dS=function(t){return t.length>=1&&t[0].Eu.length>0},i.IE=function(n){var i=this.gE.playready.customData;if(i){var r=R_(i),e=R_('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+hu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return C.resolve({playready:{Ia:e}})}return t.prototype.IE.call(this,n)},i.ME=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rg(n,this.pE);case 2:return r=t.sent,t.abrupt("return",this.lS(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.lS=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v,d,l,w,y,g;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),_=s,p=new ro,void 0===(m=!0)&&(m=!1),c=qu(_,p,m,!0),t.prev=3,a=N.vu(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null==(i=a.Tu("PlayReadyKeyMessage")[0])?void 0:i.Tu("LicenseAcquisition")[0],h=null!=(r=null==f?void 0:f.Tu("Challenge"))?r:[],this.dS(h)&&(o=yu(h[0].Mu)),v=new is,d=null!=(e=null==f?void 0:null==(u=f.Tu("HttpHeaders")[0])?void 0:u.Tu("HttpHeader"))?e:[],l=0;l<d.length;l++)w=d[l],y=w.Tu("name")[0].Mu,g=w.Tu("value")[0].Mu,v.append(y,g);return this.vS=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var _,p,m},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.qE=function(t,n){return C.resolve(t)},i.HE=function(n,i){return t.prototype.FE.call(this,n,Of.Fv,i)},n}(Eg),A_=function(){function t(n){this.wS=void 0,this.yS=n,this.wS=t.gS(n)}return t.gS=function(t){return"3"===t.version?qg.oS:qg.uS},t.prototype._S=function(){var t={};if(this.wS===qg.oS){var n={LatensRegistration:e_(this.yS,qg.oS)};t["X-TITANIUM-DRM-CDATA"]=_u(JSON.stringify(n))}return t},W(t,[{key:"pS",get:function(){return this.wS}},{key:"da",get:function(){return this.wS===qg.uS}}]),t}();var C_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).mS=void 0,e.mS=new A_(e.gE),e}$(i,t);var r=i.prototype;return r.IE=function(t){var i=this.gE;if(!this.gE)throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Kg(i)){var r={};return r.playready={Ia:D_(i,this.mS.pS)},C.resolve(r)}return C.reject(u_(i,qg.vs))},r.NE=function(){var n=new is(this.mS._S());return n.zf(t.prototype.NE.call(this)),n},r.DE=function(){var t=C.coroutine(Hr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.fd){t.next=3;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,u.ev(e);case 6:c=t.sent,a=ju(new p(c)),(f=N.vu(a))&&(h=hy(f,"CustomData")).length>0&&(o=JSON.parse(h[0].Mu),s=null==(v=o.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,u._v,u.kv,s);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.dS=function(t){if(1!==t.length)throw new _l(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(I_);function D_(t,n){var i=e_(t,n),r=i.DeviceInfo.FormatVersion,e=_u('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=$u(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return $u('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+hu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var N_,O_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).EE("https://playready-license.drm.technology/rightsmanager.asmx"),e}$(i,t);var r=i.prototype;return r.dS=function(t){if(1!==t.length)throw new _l(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.OE=function(n,i){var r=jr({},n||{},{token:this.hS});return t.prototype.OE.call(this,r,i)},W(i,[{key:"hS",get:function(){if(Jg(this.gE))return this.gE.token}}]),i}(I_),x_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).EE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return $(n,t),n.prototype.OE=function(n,i){var r=n;return $g(this.gE)&&(r=v_(this.gE,r)),t.prototype.OE.call(this,r,i)},n}(I_),P_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).EE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return $(n,t),n.prototype.NE=function(){var n=t.prototype.NE.call(this);return w_(this.gE,"PlayReady",n)},n}(I_),L_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).EE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}$(n,t);var i=n.prototype;return i.LE=function(n){return(le(ju(new p(n)),"<?xml")?N_.kS:N_.nv)===N_.nv?C.resolve(g_(n)):C.resolve(t.prototype.LE.call(this,new p(n)))},i.NE=function(){return p_(t.prototype.NE.call(this),this.hS,this.gE)},W(n,[{key:"hS",get:function(){return __(this.gE)}}]),n}(I_);!function(t){t[t.kS=0]="kS",t[t.nv=1]="nv"}(N_||(N_={}));var F_,M_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).bS=void 0,e}$(n,t);var i=n.prototype;return i.NE=function(){var n=t.prototype.NE.call(this);return this.bS&&n.set("Ticket",this.bS),n.set("Content-Type","text/xml"),n},i.ME=function(){var n=C.coroutine(Hr.mark(function n(i,r){var e,u;return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.gE,n.next=3,b_(e,"playready",this.sl,r);case 3:return u=n.sent,this.EE(u.licenseServerUrl),this.bS=u.ticket,n.abrupt("return",t.prototype.ME.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(I_),B_=function(t){function i(){return t.apply(this,arguments)||this}return $(i,t),i.prototype.NE=function(){if(!Zg(this.gE))throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.NE.call(this);return i.set("X-AxDRM-Message",this.gE.token),i},i}(I_);!function(t){t.qf="application/json",t.TS="application/x-www-form-urlencoded",t.ES="application/octet-stream",t.au="text/plain;charset=UTF-8"}(F_||(F_={}));var U_=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,n.ra,i,r,e,u)||this).SS="",o.RS=void 0,o.IS=void 0,o.IS=n.AS,o}$(n,t);var i=n.prototype;return i.CS=function(){return this.pE.certificateURL||this.RS},i.DS=function(t){this.RS=t},i.ME=function(t){return C.resolve(this.NS(t,this.SS))},i.NS=function(t,n){return"spc="+encodeURIComponent(hu(t))+"&assetId="+encodeURIComponent(n)},i.bE=function(t){return t.fairplay||{}},i.OS=function(t){var n=t.indexOf("?");if(n>=0)return C.resolve(t.substr(n+1));var i=t.split("/");return C.resolve(i[i.length-1])},i.IE=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.IS)?i:Gu(new p(n)),t.next=3,this.OS(r);case 3:return e=t.sent,this.SS=e,(u={}).fairplay={Pa:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.NE=function(){var n=t.prototype.NE.call(this);return n.set("Content-Type",this.xS),n},i.qE=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UE){t.next=2;break}return t.abrupt("return",this.UE);case 2:return t.next=4,this.PS(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.HE=function(n,i){return t.prototype.FE.call(this,n,Of.Ov,i)},i.LS=function(t){var n=this.CS(),i=this.NE(),r={Sv:n,mv:ns.Vf,pv:i,Hv:Df.GET,$v:!1,sv:null,jv:0,Ws:t,_s:Nf.Dv,Wv:Of.xv};return new Lf(r)},i.PS=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.LS(n),t.next=3,this.sl.Tv(i);case 3:return r=t.sent,t.next=6,r.ev();case 6:return e=t.sent,t.abrupt("return",new p(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=au(i)}else n=new p(t);return C.resolve(n)},i.OE=function(n,i){var r=t.prototype.OE.call(this,n,i);return le(r,"skd:")&&(r=r.substr("skd:".length)),r},W(n,[{key:"VE",get:function(){return!0}},{key:"xS",get:function(){return F_.TS}}]),n}(Eg),V_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ns.Vf)||this}$(n,t);var i=n.prototype;return i.OS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return C.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return C.resolve(i)},i.ME=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(t){return C.resolve(new p(t))},i.OE=function(n,i){var r=n||{};return r.p1=tn(),t.prototype.OE.call(this,r,i)},W(n,[{key:"xS",get:function(){return F_.ES}}]),n}(U_),q_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ns.Vf)||this).EE("https://fairplay-license.drm.technology/license"),u.DS("https://fairplay-license.drm.technology/certificate"),u}$(i,t);var r=i.prototype;return r.NS=function(t,n){var i={token:this.hS,contentId:n,payload:hu(t)};return JSON.stringify(i)},r.LE=function(t){return C.resolve(new p(t))},r.NE=function(){var n=t.prototype.NE.call(this);return n.set("x-vudrm-token",this.hS),n},W(i,[{key:"xS",get:function(){return F_.qf}},{key:"hS",get:function(){if(!Jg(this.gE))throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.gE.token}}]),i}(U_),H_="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",j_="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",W_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ns.Vf)||this}return $(i,t),i.prototype.LE=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,H_)}if(!i)throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,j_);return i}(ju(new DataView(i)));return t.prototype.LE.call(this,r)},i}(U_);var z_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ns.qf)||this}$(i,t);var r=i.prototype;return r.ME=function(){var t=C.coroutine(Hr.mark(function t(i){var r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.gE){t.next=3;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=hu(i),t.abrupt("return",o_(r,e,qg.ls));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.LE=function(t){try{var i;if(ft(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=yu(i.license);return C.resolve(new p(e))}return C.reject(new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return C.reject(new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.DE=function(t,n,i){return s_(t,n,i)},W(i,[{key:"xS",get:function(){return F_.qf}}]),i}(U_),$_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ns.Vf)||this).EE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.DS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}$(n,t);var i=n.prototype;return i.CS=function(){var n=t.prototype.CS.call(this);if(!n)return n;var i=N.zo(n),r=this.gE;return $g(r)&&Bf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.OS=function(n){return $g(this.gE)?C.resolve(this.gE.contentId):t.prototype.OS.call(this,n)},i.ME=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(t){return C.resolve(new p(t))},i.OE=function(n,i){var r=n;return $g(this.gE)&&(r=function(t,n){return jr({},v_(t,n),{KeyId:t.keyId})}(this.gE,r)),t.prototype.OE.call(this,r,i)},W(n,[{key:"xS",get:function(){return F_.ES}}]),n}(U_),X_=function(t){function i(i,r,e,u){var o;if(o=t.call(this,i,r,e,u,ns.au)||this,!zg(r))throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o.EE("https://connect.conax.com:8097/license"),o}$(i,t);var r=i.prototype;return r.NE=function(){var n=t.prototype.NE.call(this);return w_(this.gE,"FairPlay",n)},r.PS=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.CS(),r={Sv:i,mv:ns.Vf,pv:{},Hv:Df.GET,$v:!1,sv:null,jv:0,Ws:n,_s:Nf.Dv,Wv:Of.xv},t.next=4,this.sl.Tv(r);case 4:return e=t.sent,t.next=7,e.ev();case 7:return u=t.sent,t.abrupt("return",new p(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ME=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.OS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),C.resolve(ju(au(n)))):C.resolve("unknown")},r.LE=function(t){try{var n=JSON.parse(t);return C.resolve(new p(yu(n.CkcMessage)))}catch(t){return C.reject("CFLRW-66")}},i}(U_),G_=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ns.au)||this).EE(Bg[Qr.ls]),u}$(i,t);var r=i.prototype;return r.OS=function(t){return le(t,"skd://")?C.resolve(t.substring("skd://".length,40)):C.reject(new _l(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.NS=function(t,n){return"spc="+hu(t)+"&assetId="+n},i}(U_),Y_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ns.au)||this).EE("https://lic.drmtoday.com/license-server-fairplay/"),u}$(n,t);var i=n.prototype;return i.NS=function(t,n){var i="spc="+encodeURIComponent(hu(t))+"&"+encodeURI(n);return"persistent"===this.pE.licenseType?i+"&offline=true":i},i.NE=function(){return p_(t.prototype.NE.call(this),this.hS,this.gE)},W(n,[{key:"hS",get:function(){return __(this.gE)}}]),n}(U_),K_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ns.Vf)||this}$(n,t);var i=n.prototype;return i.OS=function(t){var n=t;return le(n,"skd:")&&(n="http:"+n.substring(4)),le(n,"http:")||le(n,"https:")?C.resolve(N.zo(n).hostname):C.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.ME=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(t){return C.resolve(new p(t))},W(n,[{key:"xS",get:function(){return F_.ES}}]),n}(U_),J_=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,ns.au)||this}return $(n,t),n.prototype.NE=function(){var n=t.prototype.NE.call(this),i=this.gE.token;return n.set("Authorization","Bearer "+i),n},n}(U_),Q_=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,ns.qf)||this,!Qg(i))throw new v("Invalid Xstream DRM configuration");return u}$(n,t);var i=n.prototype;return i.PS=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e,u,o;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.CS(),r=this.NE(),e={Sv:i,mv:ns.qf,pv:r,Hv:Df.POST,Ws:n,_s:Nf.Dv,Wv:Of.xv},t.next=5,this.sl.Tv(e);case 5:return u=t.sent,t.next=8,u.nv();case 8:return o=t.sent,t.abrupt("return",new p(au(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HE=function(){var t=C.coroutine(Hr.mark(function t(n,i,r){var e,u,o,s,c,a,f;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=ns.au),e=hu(n),u=this.gE,t.next=5,b_(u,"fairplay",this.sl,i);case 5:return o=t.sent,s=Wu(JSON.stringify({spc:e,ticket:o.ticket})),c={Sv:this.SE(),mv:ns.qf,pv:this.NE(),Hv:Df.POST,sv:s,jv:0,Ws:i,_s:Nf.Dv,Wv:Of.Ov},t.next=10,this.sl.Tv(c);case 10:return a=t.sent,t.next=13,a.nv();case 13:return f=t.sent,t.abrupt("return",au(f.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),W(n,[{key:"xS",get:function(){return F_.qf}}]),n}(U_),Z_=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ns.au)||this}$(i,t);var r=i.prototype;return r.NS=function(t,n){return hu(t)},r.LE=function(i){if(0===i.length)throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.LE.call(this,i)},r.NE=function(){var n=t.prototype.NE.call(this);return n.set("Content-Type","text/plain"),n},i}(U_),tp=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,ns.Vf)||this}$(i,t);var r=i.prototype;return r.NS=function(t,n){return t},r.LE=function(t){return C.resolve(new p(t))},r.NE=function(){if(!Zg(this.gE))throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.NE.call(this);return i.set("X-AxDRM-Message",this.gE.token),i},W(i,[{key:"xS",get:function(){return F_.qf}}]),i}(U_),np=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ns.qf)||this).FS=void 0,u}$(i,t);var r=i.prototype;return r.NS=function(t,n){var i={spc:hu(t)};return JSON.stringify(i)},r.OS=function(t){var i=N.zo(t);return this.FS=t,i.searchParams.has("b")?C.resolve(i.searchParams.get("b")):C.reject(new _l(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.OE=function(n,i){var r=this.SE();return!r&&this.FS&&(r=this.FS),r&&(r=r.replace("skd://","https://")),t.prototype.OE.call(this,n,i||r)},r.LE=function(){var t=C.coroutine(Hr.mark(function t(i){var r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=ft(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",au(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),W(i,[{key:"xS",get:function(){return F_.au}}]),i}(U_),ip=function(){function t(t,n){this.MS=t,this.BS=n}var n=t.prototype;return n.US=function(t){return this.MS(t)},n.VS=function(t,n){throw new d(n+" must be "+this.BS+". (Received: "+t+")")},t}(),rp=new ip(dt,"a number"),ep=new ip(ft,"a string"),up=new ip(ht,"a boolean");var op,sp=(op={responseCode:rp,isException:up,description:ep,title:ep,correlationId:ep},{US:function(t){if(!ct(t))return!1;for(var n=0,i=l.keys(op);n<i.length;n++){var r=i[n];if(!op[r].US(t[r]))return!1}return!0},VS:function(t,n){if(!ct(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(op);i<r.length;i++){var e=r[i],u=op[e];if(!u.US(t[e]))return u.VS(t[e],n+"."+e)}throw new d}});function cp(t,n,i,r,e){return ap.apply(this,arguments)}function ap(){return(ap=C.coroutine(Hr.mark(function t(n,i,r,e,u){var o;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=fp(n,i,r,u),t.next=3,hp(o,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function fp(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=N.zo(t);return Bf(i,n),i.toString()}(i,e)),o=new is({});o.append("Content-Type","application/json");var s=hu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{Sv:u,mv:ns.au,pv:o,Hv:Df.POST,sv:JSON.stringify(c),Ws:r,_s:Nf.Dv,Wv:Of.Ov}}function hp(t,n){return vp.apply(this,arguments)}function vp(){return(vp=C.coroutine(Hr.mark(function t(i,r){var e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.Tv(i);case 2:return e=t.sent,t.next=5,e.nv();case 5:if(u=t.sent,!sp.US(u)){t.next=8;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.Sv,u.responseCode);case 8:return t.abrupt("return",au(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var dp=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,ns.Vf)||this).qS=void 0,u.qS=i,u}$(n,t);var i=n.prototype;return i.OS=function(n){var i=n.replace("FairPlay",this.qS.releasePid);return t.prototype.OS.call(this,i)},i.HE=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cp(n,this.qS,this.SE(),this.sl,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(U_),lp=function(t){function i(n,i,r){return t.call(this,he,n,i,r,ns.Vf)||this}$(i,t);var r=i.prototype;return r.bE=function(t){return t.clearkey||{}},r.ME=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Rg(n,this.pE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.AE=function(){var i=C.coroutine(Hr.mark(function i(r,e,u,o){var s,c;return Hr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=this.pE,!this.SE()){i.next=5;break}return i.abrupt("return",t.prototype.AE.call(this,r,this.kE,u,o));case 5:if(!s.keys||!s.keys.length){i.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Wu(JSON.stringify(c)).buffer);case 10:throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.qE=function(t,n){return C.resolve(new p(0))},r.HE=function(n,i){return t.prototype.FE.call(this,n,Of.Mv,i)},i}(Eg),wp=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.ME=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Rg(n,this.pE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Cg),yp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function gp(t,n,i){return _p.apply(this,arguments)}function _p(){return(_p=C.coroutine(Hr.mark(function t(n,i,r){var e,u,o;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Op(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Me(C.resolve(u.call(n,e)),r);case 8:if(!Zu(o=t.sent)){t.next=11;break}return t.abrupt("return",to(o));case 11:return t.abrupt("return",Np(jr({},yp,o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n,i,r,e){return mp.apply(this,arguments)}function mp(){return(mp=C.coroutine(Hr.mark(function t(n,i,r,e,u){var o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=Dp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Me(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",to(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kp(t,n,i,r){return bp.apply(this,arguments)}function bp(){return(bp=C.coroutine(Hr.mark(function t(n,i,r,e){var u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sp(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Np(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Tp(t,n,i,r,e,u){return Ep.apply(this,arguments)}function Ep(){return(Ep=C.coroutine(Hr.mark(function t(n,i,r,e,u,o){var s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Cp(r,u),t.next=3,Ip(n,new p(i),s,e,o);case 3:return c=t.sent,t.abrupt("return",to(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sp(t,n,i,r){return Rp.apply(this,arguments)}function Rp(){return(Rp=C.coroutine(Hr.mark(function t(n,i,r,e){var u,o,s;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Cp(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",C.resolve(o));case 5:return t.next=8,Me(C.resolve(u.call(n,o)),e);case 8:if(!Zu(s=t.sent)){t.next=11;break}return t.abrupt("return",to(s).buffer);case 11:return t.abrupt("return",jr({fairplaySkdUrl:void 0},yp,s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ip(t,n,i,r,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=C.coroutine(Hr.mark(function t(n,i,r,e,u){var o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=Dp(i,r,e),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",C.resolve(i));case 5:return t.next=8,Me(C.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",to(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Cp(t,n){return jr({},Op(t),{fairplaySkdUrl:n})}function Dp(t,n,i){return{url:i.Ev,status:i._v,statusText:i.kv,headers:i.pv.jf(),body:t,request:n}}function Np(t){return new Lf({Sv:t.url,Hv:t.method,pv:t.headers,sv:t.body,$v:t.useCredentials})}function Op(t){var n;return{url:t.Sv,body:null!=(n=xp(t.sv))?n:null,headers:t.pv.jf(),method:t.Hv,useCredentials:t.$v}}function xp(t){if(t)return"string"==typeof t?Wu(t):t instanceof ArrayBuffer?new p(t):du(t)?Qu(t):void 0}var Pp,Lp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).HS=void 0,u.HS=e,u}$(i,t);var r=i.prototype;return r.qE=function(t,n){return C.resolve(t)},r.HE=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lS(io(i).buffer);case 2:return e=t.sent,u=this.CE(e,ns.Vf,Of.Fv,r),t.next=6,kp(this.HS,u,void 0,r);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new p(o));case 10:if(""!==o.Sv){t.next=12;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.sl.Tv(o);case 15:return s=t.sent,t.next=18,s.ev(r);case 18:return c=t.sent,t.t0=p,t.next=22,Tp(this.HS,c,u,s,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Le(t.t2),new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(I_),Fp=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,ns.Vf)||this).HS=void 0,u.HS=e,u}$(i,t);var r=i.prototype;return r.qE=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UE){t.next=2;break}return t.abrupt("return",this.UE);case 2:return e=this.CE(i,ns.Vf,Of.Lv,r),t.next=5,gp(this.HS,e,r);case 5:if(!((u=t.sent)instanceof p)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.Sv){t.next=11;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.sl.Tv(u);case 14:return o=t.sent,t.next=17,o.ev(r);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Le(t.t0),new _l(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Cp(e,void 0),t.next=27,pp(this.HS,new p(s),c,o,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.HE=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u,o,s;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.CE(i,ns.Vf,Of.Pv,r),t.next=3,kp(this.HS,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.Sv){t.next=9;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.sl.Tv(u);case 12:return o=t.sent,t.next=15,o.ev(r);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Le(t.t0),new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=p,t.next=25,Tp(this.HS,s,e,o,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(wp),Mp=function(t){function i(n,i,r,e,u){var o;return(o=t.call(this,n,i,r,e,ns.Vf)||this).HS=void 0,o.jS=void 0,o.HS=u,o}$(i,t);var r=i.prototype;return r.qE=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.UE){t.next=2;break}return t.abrupt("return",this.UE);case 2:return e=this.LS(r),t.next=5,gp(this.HS,e,r);case 5:if(u=t.sent,!du(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.sl.Tv(u);case 11:return o=t.sent,t.next=14,o.ev();case 14:return s=t.sent,c=Cp(e,void 0),t.next=18,pp(this.HS,new p(s),c,o,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Le(t.t0),new _l(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.HE=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u,o,s;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.CE(i,ns.Vf,Of.Ov,r),t.next=3,kp(this.HS,e,this.jS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.Sv){t.next=9;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.sl.Tv(u);case 12:return o=t.sent,t.next=15,o.ev(r);case 15:return s=t.sent,t.t0=p,t.next=19,Tp(this.HS,s,e,o,this.jS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Le(t.t2),new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.OS=function(n){var i;return this.jS=n,null!=(i=this.HS)&&i.extractFairplayContentId?C.resolve(this.HS.extractFairplayContentId(n)):t.prototype.OS.call(this,n)},i}(U_),Bp=function(){function t(){}var n=t.prototype;return n.WS=function(t,n,i,r){switch(t.ra._s){case Qr.ds:return this.zS(n,i,r);case Qr.vs:return this.$S(n,i,r);case Qr.ls:return this.XS(t,n,i,r);case Qr.ys:default:return this.GS(n,i,r)}},n.zS=function(t,n,i){var r,e=(r=t).integration===Tg&&ft(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Fg.eS.nS(e,ee)){var u=Fg.eS.rS(e,ee,t);return new Fp(t,n,i,u)}switch(e){case cg:return new f_(t,n,i);case vg:return new h_(t,n,i);case hg:return new d_(t,n,i);case ag:return new y_(t,n,i);case wg:return new m_(t,n,i);case gg:return new k_(t,n,i);case _g:return new E_(t,n,i);case mg:return new S_(t,n,i);case lg:default:return new wp(t,n,i,ns.Vf)}},n.$S=function(t,n,i){var r=t.integration;if(r&&Fg.eS.nS(r,ie)){var e=Fg.eS.rS(r,ie,t);return new Lp(t,n,i,e)}switch(r){case cg:return new C_(t,n,i);case vg:return new O_(t,n,i);case hg:return new x_(t,n,i);case ag:return new P_(t,n,i);case wg:return new L_(t,n,i);case _g:return new M_(t,n,i);case mg:return new B_(t,n,i);case lg:default:return new I_(t,n,i)}},n.XS=function(t,n,i,r){var e=n.integration;if(e&&Fg.eS.nS(e,oe)){var u=Fg.eS.rS(e,oe,n);return new Mp(t,n,i,r,u)}switch(e){case fg:return new V_(t,n,i,r);case vg:return new q_(t,n,i,r);case dg:return new W_(t,n,i,r);case cg:return new z_(t,n,i,r);case hg:return new $_(t,n,i,r);case ag:return new X_(t,n,i,r);case lg:return new G_(t,n,i,r);case wg:return new Y_(t,n,i,r);case yg:return new K_(t,n,i,r);case gg:return new J_(t,n,i,r);case _g:return new Q_(t,n,i,r);case pg:return new Z_(t,n,i,r);case mg:return new tp(t,n,i,r);case kg:return new np(t,n,i,r);case bg:return new dp(t,n,i,r);default:return new U_(t,n,i,r,ns.au)}},n.GS=function(t,n,i){return new lp(t,n,i)},n.YS=function(t){return t._s===Qr.vs||t._s===Qr.ds||t._s===Qr.ls||t._s===Qr.ys},n.da=function(t,n){var i;if(t._s!==Qr.vs)return!1;if(ut(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Fg.eS.nS(r,oe))&&(r===cg&&new A_(n).da)},n.cS=function(t,n){if(t._s===Qr.ds){var i=n.integration;if(!i||!Fg.eS.nS(i,oe))return i===cg?f_.cS():void 0}},t}();!function(t){t[t.KS=0]="KS",t[t.JS=1]="JS",t[t.QS=2]="QS",t[t.ZS=3]="ZS",t[t.Nw=4]="Nw",t[t.tR=5]="tR",t[t.Mw=6]="Mw",t[t.nR=7]="nR",t[t.iR=8]="iR"}(Pp||(Pp={}));var Up,Vp=function(){function t(){}return t.prototype.rR=function(t){},W(t,[{key:"eR",get:function(){return 0}},{key:"uR",get:function(){return 0}}]),t}(),qp=function(){function t(t,n){void 0===n&&(n=new Bp),this.zT=void 0,this.oR=void 0,this.yS=void 0,this.zT=t,this.oR=n}var n=t.prototype;return n.sR=function(t){this.yS=t},n.cS=function(t){var n=this.yS;if(void 0!==n)return this.oR.cS(t,n)},n.da=function(t){var n=this.yS;return void 0!==n&&this.oR.da(t,n)},n.cR=function(t){var n={ra:t.ra,aR:t.aR||[],AS:t.AS},i=this.oR.WS(n,this.yS||{},t._E,this.zT);return new Hp(i)},t}(),Hp=function(){function t(t){this.fR=void 0,this.fR=t}var n=t.prototype;return n.RE=function(t){return this.fR.RE(t)},n.IE=function(t,n,i){return this.fR.IE(n,i)},n.VE=function(){return this.fR.VE||void 0!==this.fR.UE},n.qE=function(t,n){return this.fR.qE(t,n)},n.HE=function(t,n,i){return n&&this.fR.EE(n),this.fR.HE(t,i)},n.Ls=function(){this.fR.sr()},t}(),jp=function(t){function n(n){var i;(i=t.call(this)||this).hR=[],i.vR=function(t){i.Ul(t.wl)},i.dR=function(t){var n=t.wl;i.lR(n)||i.Vl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.wR(e)}return i}$(n,t);var i=n.prototype;return i.wR=function(t){this.hR.push(t);for(var n=0,i=t.jl;n<i.length;n++){var r=i[n];this.Ul(r)}this.yR(t)},i.gR=function(t){Re(this.hR,t),this._R(t);for(var n=0,i=t.jl;n<i.length;n++){var r=i[n];this.lR(r)||this.Vl(r)}},i.lR=function(t){for(var n=0,i=this.hR;n<i.length;n++){if(i[n].ql(t))return!0}return!1},i.yR=function(t){t.Ks(kv.cl,this.vR),t.Ks(kv.fl,this.dR)},i._R=function(t){t.tc(kv.cl,this.vR),t.tc(kv.fl,this.dR)},i.sr=function(){for(;this.hR.length>0;)this.gR(this.hR[0]);t.prototype.sr.call(this)},i.ll=function(){return od(this)},n}(Ov);function Wp(){return Up||(Up=R&&R.document&&R.document.createElement("video")),Up}var zp=function(t){function i(i,r,e,u,o,s,c){var a;return void 0===s&&(s=new Bp),void 0===c&&(c=Go()),(a=t.call(this)||this).pR=void 0,a.mR=void 0,a.kR=void 0,a.by=void 0,a.Ty=void 0,a.Ey=void 0,a.bR=void 0,a.TR=void 0,a.ER=void 0,a.SR=void 0,a.RR=void 0,a.zT=void 0,a.Ss=void 0,a.IR=void 0,a.AR=void 0,a.CR=new Vp,a.DR=function(t){var i=t.fc,r=i.code,e=new Po(function(t){switch(t){case wl.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case wl.NETWORK:return n.ErrorCode.NETWORK_ERROR;case wl.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case wl.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case wl.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case wl.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case wl.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(r),"Something went wrong during native playback.",i),u=new pl(r,e.message,i.message);a.NR(e,u)},a.OR=function(){a.Ys(new Wd(a.Yw,a.Jy))},a.xR=function(t){a.ty||(a.AR=void 0),a.Ys(t)},a.PR=function(t){a.AR=void 0,a.Ys(t)},a.LR=function(){a.Ys(new Vl(a.Zy))},a.FR=function(){a.uy>0&&a.ey>0&&a.Ys(new Gy)},a.MR=function(t){a.by.Ul(new Ol(t.track))},a.UR=function(t){var n=Xp(a.by,t.track);n&&a.by.Vl(n)},a.qR=function(){a.HR(a.by)},a.jR=function(t){a.Ty.Ul(new Ul(t.track))},a.WR=function(t){var n=Xp(a.Ty,t.track);n&&a.Ty.Vl(n)},a.zR=function(){a.HR(a.Ty)},a.$R=function(t){a.Ys(t),a.NR(t.errorObject,kl(t.errorObject))},a.pR=r,a.zT=e,a.Ss=c,a.mR=a.pR.Zi(bl.Vv),a.ER=a.mR.XR.preload,a.SR=new sg(a.mR,!0),a.SR.Ks(Vd,a.Gs),a.IR=new qp(e,s),a.mR.GR=a.IR,a.YR(),a.by=new Tl,a.Ty=new Tl,a.KR(),a.RR=new qy(a.mR,a.zT),a.Ey=new jp([a.mR.Dy]),a.Vy(),a}$(i,t);var r=i.prototype;return r.qy=function(){this.mR.qy()},r.Vy=function(){this.mR.Vy()},r.Py=function(){var t=C.coroutine(Hr.mark(function t(n,i,r){var e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Pe(r),e={_s:Xy.ZT,yw:n.src,ov:n.type,JR:this.QR(n),cg:this.ER,ZR:n.crossOrigin,tI:i.metadata&&i.metadata.title},this.IR.sR(n.contentProtection),t.next=5,this.mR.Gc(e);case 5:this.kR=t.sent,Pe(r),i.textTracks&&this.nI(i.textTracks),$y(this.Dy);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.nI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.mR.iI()&&it.Ie&&ig&&!Py(i.kind,i.label)&&this.rI(i)){var r,e=null!=(r=i.kind)?r:Iy.Am;this.mR.eI(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.RR.XT(i)}}},r.rI=function(t){return!t.format||"webvtt"===t.format},r.tr=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.mR.tr();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.uI){t.next=12;break}return t.next=10,this.mR.ec(ts.Tf);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),r.nr=function(){this.mR.nr()},r.Ly=function(){return void 0!==this.mR.XR.webkitShowPlaybackTargetPicker},r.Fy=function(){this.mR.XR.webkitShowPlaybackTargetPicker&&this.mR.XR.webkitShowPlaybackTargetPicker()},r.My=function(){this.mR.XR.webkitShowPlaybackTargetPicker&&this.mR.XR.webkitShowPlaybackTargetPicker()},r.Hy=function(){return this.mR.XR},r.jy=function(){return this.mR.oI},r.Hl=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.bR=void 0,this.TR=void 0,this.kR=void 0,t.next=5,this.RR.Hl();case 5:return this.mR.sI(),t.next=8,this.mR.Hl();case 8:this.SR.Hl(),this.cg=this.ER,this.Ay.Hl(),this.Cy.Hl(),this.AR=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.sr=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hl();case 2:return this.Zs(),this.cI(),this.aI(),this.SR.sr(),this.mR.GR=void 0,t.next=9,this.pR.er(this.mR);case 9:return this.by.sr(),this.Ty.sr(),this.Ey.sr(),t.next=14,this.RR.sr();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.YR=function(){this.mR.Ks(ts.bf,this.Gs),this.mR.Ks(ts.kf,this.Gs),this.mR.Ks(ts.Lf,this.OR),this.mR.Ks(ts.Tf,this.Gs),this.mR.Ks(ts.yf,this.Gs),this.mR.Ks(ts.Af,this.Gs),this.mR.Ks(ts.If,this.xR),this.mR.Ks(ts.df,this.Gs),this.mR.Ks(ts.Ef,this.Gs),this.mR.Ks(ts.Ff,this.Gs),this.mR.Ks(ts.hf,this.Gs),this.mR.Ks(ts.Rf,this.FR),this.mR.Ks(Pd.Gw,this.PR),this.mR.Ks(nd.sw,this.DR),this.mR.Ks(ts.cf,this.Gs),this.mR.Ks(ts.sf,this.$R),this.mR.XR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.LR)},r.cI=function(){this.mR.tc(ts.bf,this.Gs),this.mR.tc(ts.kf,this.Gs),this.mR.tc(ts.Lf,this.OR),this.mR.tc(ts.Tf,this.Gs),this.mR.tc(ts.yf,this.Gs),this.mR.tc(ts.Af,this.Gs),this.mR.tc(ts.If,this.xR),this.mR.tc(ts.df,this.Gs),this.mR.tc(ts.Ef,this.Gs),this.mR.tc(ts.Ff,this.Gs),this.mR.tc(ts.hf,this.Gs),this.mR.tc(ts.Rf,this.FR),this.mR.tc(Pd.Gw,this.PR),this.mR.tc(nd.sw,this.DR),this.mR.tc(ts.cf,this.Gs),this.mR.tc(ts.sf,this.$R),this.mR.XR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.LR)},r.QR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ra:fe,fI:[{initDataTypes:[fe.ks],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},r.KR=function(){var t=this.mR.XR.audioTracks,n=this.mR.XR.videoTracks;t&&(t.addEventListener("addtrack",this.MR),t.addEventListener("removetrack",this.UR),t.addEventListener("change",this.qR)),n&&(n.addEventListener("addtrack",this.jR),n.addEventListener("removetrack",this.WR),n.addEventListener("change",this.zR))},r.aI=function(){var t=this.mR.XR.audioTracks,n=this.mR.XR.videoTracks;t&&(t.removeEventListener("addtrack",this.MR),t.removeEventListener("removetrack",this.UR),t.removeEventListener("change",this.qR)),n&&(n.removeEventListener("addtrack",this.jR),n.removeEventListener("removetrack",this.WR),n.removeEventListener("change",this.zR))},r.HR=function(t){for(var n=0;n<t.Wl;n++){t.Bl(n).pg()}},r.Yy=function(){this.mR.Yy()},r.NR=function(t,n){this.bR||(this.bR=n,this.TR=t,this.Ys(new Zd(t)))},W(i,[{key:"uI",get:function(){var t=this.mR.Ky,n=this.Yw;return t.hI(n,.01)}},{key:"Ay",get:function(){return this.by}},{key:"Ky",get:function(){return this.mR.Ky.vI()}},{key:"Jy",get:function(){return this.mR.Jy},set:function(t){t&&this.mR.dI(t)}},{key:"Yw",get:function(){return void 0!==this.AR?this.AR:this.mR.Yw},set:function(t){this.Zy&&(this.AR=t),this.mR.Sc(t)}},{key:"Kw",get:function(){return this.mR.Kw}},{key:"Jw",get:function(){return this.mR.Jw}},{key:"fc",get:function(){return this.bR}},{key:"Qw",get:function(){return this.TR}},{key:"Ny",get:function(){}},{key:"Zy",get:function(){return this.mR.Zy}},{key:"yy",get:function(){return jr({},{tg:0,ng:0,ig:0,rg:0,eg:0,ug:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.mR.lI())}},{key:"Zw",get:function(){return this.mR.Zw},set:function(t){this.mR.Zw=t}},{key:"og",get:function(){return!0}},{key:"ty",get:function(){return this.mR.ty}},{key:"ny",get:function(){return this.mR.ny},set:function(t){this.mR.ny=t}},{key:"sg",get:function(){return this.mR.XR.played}},{key:"cg",get:function(){return this.ER},set:function(t){this.ER=t,this.kR&&(this.kR.cg=t)}},{key:"dw",get:function(){return this.mR.dw}},{key:"ag",get:function(){return this.mR.ag.vI()}},{key:"iy",get:function(){return this.mR.iy}},{key:"wI",get:function(){return this.mR.wI}},{key:"Dy",get:function(){return this.Ey}},{key:"Cy",get:function(){return this.Ty}},{key:"ey",get:function(){return this.mR.ey}},{key:"uy",get:function(){return this.mR.uy}},{key:"oy",get:function(){return this.mR.oy},set:function(t){this.mR.oy=t}},{key:"fg",get:function(){return this.mR.fg},set:function(t){this.mR.fg=t}},{key:"yI",get:function(){return this.CR}}]),i}(ad);var $p=function(){function t(){this.gI=Pp.iR}var n=t.prototype;return n.JE=function(t,n,i,r,e,u){return new zp(t,n,i,r,e)},n._I=function(t,n){return function(t){return!t.type||!(!Wp().canPlayType||!Wp().canPlayType(t.type))}(t)},n.pI=function(){return!1},t}();function Xp(t,n){for(var i=0,r=t.jl;i<r.length;i++){var e=r[i];if(e.bg===n)return e}}var Gp=function(){function t(){this.mI=new $p,this.kI=[]}t.bI=function(){return this.eu};var n=t.prototype;return n.TI=function(t){this.kI.push(t)},n.JE=function(t,n,i,r,e,u){for(var o=this.mI.JE(t,n,i,r,e,u),s=0,c=this.kI;s<c.length;s++){o=(0,c[s])(o,i,r)}return o},n._I=function(t,n){return this.mI._I(t,n)},n.pI=function(){return!1},W(t,[{key:"gI",get:function(){return this.mI.gI}}]),t}();function Yp(t,n){return Kl(t.gI,n.gI)}Gp.eu=new Gp;var Kp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).EI=Gp.bI(),n}$(n,t);var i=n.prototype;return i.SI=function(t){this.EI=t},i.RI=function(){return this.EI},i.II=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.AI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{CI:e,DI:u});case 8:r++,t.next=1;break;case 11:o=this.EI,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o._I(c,i)){t.next=17;break}return t.abrupt("return",{CI:c,DI:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{CI:n[0],DI:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.NI=[]}var n=t.prototype;return n.OI=function(t){this.NI.push(t),this.NI.sort(Yp)},n.AI=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.NI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!vt(o=u._I(n,i))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Kp.eu=new Kp;var Jp,Qp=function(){function t(t){var n,i;this.xI=void 0,this.xI=R&&R.document&&R.document.createElement("div"),n=this.xI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.xI)}return t.prototype.sr=function(){mr(this.xI)},t}();function Zp(t){switch(t){case Jp.LI:case"":return Jp.LI;case Jp.Dm:return Jp.Dm;case Jp.FI:default:return Jp.FI}}!function(t){t.iR="",t.FI="none",t.Dm="metadata",t.LI="auto"}(Jp||(Jp={}));var tm=[nd.sw,ts.vf,ts.hc,ts.Uf,ts.if,ts.lf,ts.pf,ts.mf,ts.Df,ts.Of,Pd.jw,Pd.Ww,Pd.zw,Pd.$w,Pd.Al,Pd.Xw,Pd.Gw,ts.sf,ts.cf,ts.hf,ts.df,ts.yf,ts.gf,ts.bf,ts.Tf,ts.kf,ts.Ef,ts.Rf,ts.Af,ts.If,ts.Lf,ts.Ff,ts.Sf,ts._f,ts.Cf],nm=function(t){function n(n,i){var r;return(r=t.call(this)||this).MI=void 0,r.BI=void 0,r.UI=void 0,r.VI=void 0,r.ER=Jp.FI,r.qI=void 0,r.HI=!0,r.by=new id,r.Ty=new id,r.Ey=new cd,r.Sy=new yl,r.MI=n,r.UI=i,r.UI.cg=r.cg,r.jI(),r}$(n,t);var i=n.prototype;return i.nr=function(){this.UI.nr()},i.tr=function(){var t=this.UI.tr();vt(t)&&qe(t)},i.Oy=function(){return this.Py(void 0)},i.hr=function(){},i.zy=function(t){return!1},i.jI=function(){this.by.Kl=this.UI.Ay,this.Ty.Kl=this.UI.Cy,this.Ey.Kl=this.UI.Dy,this.Sy.Kl=this.UI.Ny,this.UI.Ks(tm,this.Gs)},i.WI=function(){this.UI.tc(tm,this.Gs),this.by.Kl=void 0,this.Ty.Kl=void 0,this.Ey.Kl=void 0,this.Sy.Kl=void 0},i.xy=function(){return this.qI},i.Py=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Pe(i),this.qI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Ad(r=n.sources.filter(xd))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.MI.II(r,n);case 9:if(e=t.sent,Pe(i),u=e.CI,o=e.DI,s=this.jy(),c=il(this),this.BI===o&&!this.fc){t.next=25;break}return this.WI(),t.next=19,this.UI.sr();case 19:Pe(i),this.BI=o,this.UI=this.zI(o),im(this.UI,c),rl(this,c,this),this.jI();case 25:return this.UI.cg=this.cg,this.HI?this.UI.Vy():this.UI.qy(),t.next=29,this.UI.Py(u,n,i);case 29:Pe(i),this.$I(u),this.jy()!==s&&this.Ys(new hd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$I=function(t){this.VI!==t&&(this.VI=t,this.Ys(new vd(t)))},i.Ly=function(){return this.UI.Ly()},i.Fy=function(){this.UI.Fy()},i.My=function(){this.UI.My()},i.jy=function(){return this.UI.jy()},i.Yy=function(){this.UI.Yy()},i.Hl=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qI=void 0,this.$I(void 0),t.next=4,this.UI.Hl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zs(),t.next=3,this.Hl();case 3:return t.next=5,this.UI.sr();case 5:this.by.sr(),this.Ty.sr(),this.Ey.sr(),this.Sy.sr();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vy=function(){this.HI=!0,this.UI.Vy()},i.qy=function(){this.HI=!1,this.UI.qy()},W(n,[{key:"Ay",get:function(){return this.by}},{key:"Ky",get:function(){return this.UI.Ky}},{key:"fc",get:function(){return this.UI.fc}},{key:"Qw",get:function(){return this.UI.Qw}},{key:"Jy",get:function(){return this.UI.Jy},set:function(t){this.UI.Jy=t}},{key:"Gy",get:function(){return this.VI}},{key:"Yw",get:function(){return this.UI.Yw},set:function(t){this.UI.Yw=t}},{key:"Kw",get:function(){return this.UI.Kw}},{key:"Jw",get:function(){return this.UI.Jw}},{key:"Ny",get:function(){return this.Sy}},{key:"Zy",get:function(){return this.UI.Zy}},{key:"yy",get:function(){return this.UI.yy}},{key:"Zw",get:function(){return this.UI.Zw},set:function(t){this.UI.Zw=t}},{key:"og",get:function(){return this.UI.og}},{key:"ty",get:function(){return this.UI.ty}},{key:"ny",get:function(){return this.UI.ny},set:function(t){this.UI.ny=t}},{key:"sg",get:function(){return this.UI.sg}},{key:"cg",get:function(){return this.ER},set:function(t){this.ER=t,this.UI&&(this.UI.cg=this.ER)}},{key:"dw",get:function(){return this.UI.dw}},{key:"ag",get:function(){return this.UI.ag}},{key:"iy",get:function(){return this.UI.iy}},{key:"Dy",get:function(){return this.Ey}},{key:"ey",get:function(){return this.UI.ey}},{key:"Cy",get:function(){return this.Ty}},{key:"uy",get:function(){return this.UI.uy}},{key:"oy",get:function(){return this.UI.oy},set:function(t){this.UI.oy=t}},{key:"yI",get:function(){return this.UI.yI}}]),n}(Xe);function im(t,n){t.Zw!==n.Zw&&(t.Zw=n.Zw),t.oy!==n.oy&&(t.oy=n.oy),t.ny!==n.ny&&(t.ny=n.ny)}var rm,em=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wl=void 0,r.XI=void 0,r.GI=void 0,r.Wl=n.length>>1,r.XI=n,r.GI=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Wl),r}$(n,t);var i=n.prototype;return i.YI=function(t){return this.XI[2*t]},i.KI=function(t){return this.GI[2*t]},i.JI=function(t){return this.XI[2*t+1]},i.QI=function(t){return this.GI[2*t+1]},W(n,[{key:"ZI",get:function(){return this.XI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Hg=function(t,n){return 0===this.v_(t,n)},n.V_=function(t,n){return this.v_(t,n)>0},n.q_=function(t,n){return this.v_(t,n)>=0},n.g_=function(t,n){return this.v_(t,n)<0},n.w_=function(t,n){return this.v_(t,n)<=0},n.cp=function(t,n){return this.g_(t,n)?t:n},n.sp=function(t,n){return this.V_(t,n)?t:n},n.tA=function(t,n,i){return i?this.w_(t,n):this.g_(t,n)},n.vI=function(){var t=this;return{get length(){return t.Wl},start:function(n){var i=0|n;return t.nA(i),t.iA(t.YI(i))},end:function(n){var i=0|n;return t.nA(i),t.iA(t.JI(i))}}},n.rA=function(){for(var t=new Array(2*this.Wl),n=new Array(2*this.Wl),i=0;i<this.Wl;i++)t[2*i]=this.YI(i),t[2*i+1]=this.JI(i),n[2*i]=!0,n[2*i+1]=!0;return this.eA(t,n)},n.nA=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Wl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Wl+")")},n.uA=function(t){if(0===this.Wl)return this.oA();if(this.hI(t))return t;if(this.w_(t,this.YI(0)))return this.YI(0);if(this.q_(t,this.JI(this.Wl-1)))return this.JI(this.Wl-1);for(var n,i=this.sA(),r=0;r<this.Wl;r++){var e=this.YI(r),u=this.y_(e,t);this.g_(u,i)&&(n=e,i=u);var o=this.JI(r),s=this.y_(this.JI(r),t);this.g_(s,i)&&(n=o,i=s)}return n},n.cA=function(t){for(var n=0,i=0,r=[],e=[];n<this.Wl&&i<t.Wl;){var u=this.YI(n),o=this.JI(n),s=this.KI(n),c=this.QI(n),a=t.YI(i),f=t.JI(i),h=t.KI(i),v=t.QI(i),d=this.sp(u,a),l=this.cp(o,f),w=void 0;w=this.Hg(u,a)?s&&h:this.Hg(d,u)?s:h;var y=void 0;y=this.Hg(o,f)?c&&v:this.Hg(l,o)?c:v,(this.g_(d,l)||w&&y&&this.Hg(d,l))&&(r.push(d,l),e.push(w,y));var g=this.v_(this.JI(n),t.JI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.eA(r,e)},n.aA=function(){var t=this.fA(),n=t.Wl;if(0===n)return this.eA([t.hA(),t.sA()],[!1,!1]);var i=[],r=[],e=t.YI(0);t.Hg(e,t.hA())||(i.push(t.hA(),e),r.push(!1,!t.KI(0)));for(var u=0;u<n-1;u++)i.push(t.JI(u),t.YI(u+1)),r.push(!t.QI(u),!t.KI(u+1));var o=t.JI(n-1);return t.Hg(o,t.sA())||(i.push(o,t.sA()),r.push(!t.QI(n-1),!1)),t.eA(i,r)},n.vA=function(t){for(var n=0,i=0,r=this.Wl,e=t.Wl,u=new Array(2*(r+e)),o=new Array(2*(r+e)),s=0;n<r&&i<e;){var c=this.YI(n),a=this.JI(n),f=t.YI(i),h=t.JI(i);this.g_(c,f)||this.Hg(c,f)&&this.g_(a,h)?(u[s]=c,u[s+1]=a,o[s]=this.KI(n),o[s+1]=this.QI(n),n++):(u[s]=f,u[s+1]=h,o[s]=t.KI(i),o[s+1]=t.QI(i),i++),s+=2}for(;n<r;)u[s]=this.YI(n),u[s+1]=this.JI(n),o[s]=this.KI(n),o[s+1]=this.QI(n),n++,s+=2;for(;i<e;)u[s]=t.YI(i),u[s+1]=t.JI(i),o[s]=t.KI(i),o[s+1]=t.QI(i),i++,s+=2;return this.eA(u,o)},n.dA=function(t){void 0===t&&(t=this.oA());var n=this.Wl;if(n<2)return this;for(var i=[],r=[],e=this.YI(0),u=this.JI(0),o=this.KI(0),s=this.QI(0),c=1;c<n;c++){var a=this.YI(c),f=this.JI(c),h=this.KI(c),v=this.QI(c);this.g_(e,a)&&this.V_(u,f)||(this.Hg(e,a)&&(o=h=o||h),this.Hg(u,f)&&(s=v=s||v),this.tA(a,this.vg(u,t),s||h)?(u=f,s=v):(i.push(e,u),r.push(o,s),e=a,u=f,o=h,s=v))}return i.push(e,u),r.push(o,s),this.eA(i,r).fA()},n.fA=function(){for(var t=[],n=[],i=0;i<this.Wl;i++){var r=this.YI(i),e=this.JI(i),u=this.KI(i),o=this.QI(i);this.Hg(r,e)?(u||o)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,o))}return this.eA(t,n)},n.lA=function(t){return this.Wl?t.Wl?this.vA(t).dA():this:t},n.wA=function(t){var n=this.fA(),i=t.fA(),r=n.aA(),e=i.aA(),u=r.cA(i),o=e.cA(n);return u.lA(o)},n.Ec=function(t){if(this.Hg(t,this.oA()))return this;for(var n=[],i=[],r=0;r<this.Wl;r++){var e=this.vg(this.YI(r),t),u=this.vg(this.JI(r),t);n.push(e,u),i.push(this.KI(r),this.QI(r))}return this.eA(n,i)},n.yA=function(t){return 0===this.Wl||0===t.Wl?this:this.fA().cA(t.fA().aA())},n.hI=function(t,n){return this.gA(t,n)>=0},n._A=function(t,n,i,r,e){return this.pA(t,n,i,r,e)>=0},n.mA=function(t,n,i,r,e){return this.kA(t,n,i,r,e)>=0},n.bA=function(t){if(t.Wl!==this.Wl)return!1;for(var n=0;n<this.Wl;n++)if(!this.Hg(this.YI(n),t.YI(n))||!this.Hg(this.JI(n),t.JI(n))||this.KI(n)!==t.KI(n)||this.QI(n)!==t.QI(n))return!1;return!0},n.TA=function(t){for(var n=[],i=[],r=0;r<this.Wl;r++){var e=this.YI(r),u=this.JI(r),o=this.KI(r),s=this.QI(r);t(e,u,o,s)&&(n.push(e,u),i.push(o,s))}return this.eA(n,i)},n.kA=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.oA());for(var u=this.k_(t,e),o=this.vg(n,e),s=0;s<this.Wl;s+=1)if(this.tA(this.YI(s),o,!r||this.KI(s))&&this.tA(u,this.JI(s),!i||this.QI(s)))return s;return-1},n.pA=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.oA());for(var u=this.vg(t,e),o=this.k_(n,e),s=0;s<this.Wl;s+=1)if(this.tA(this.YI(s),u,!i||this.KI(s))&&this.tA(o,this.JI(s),!r||this.QI(s)))return s;return-1},n.gA=function(t,n){return this.pA(t,t,!0,!0,n)},n.EA=function(t,n){void 0===n&&(n=this.oA());for(var i=this.vg(t,n),r=this.Wl-1;r>=0;r-=1)if(this.tA(this.YI(r),i,this.KI(r)))return r;return-1},n.SA=function(t,n){void 0===n&&(n=this.oA());for(var i=this.k_(t,n),r=0;r<this.Wl;r+=1)if(this.tA(i,this.JI(r),this.QI(r)))return r;return-1},n.RA=function(t){return this.nA(t),this.eA([this.YI(t),this.JI(t)],[this.KI(t),this.QI(t)])},n.IA=function(t,n){var i=this.gA(t,n);return i<0?void 0:this.RA(i)},W(t,[{key:"AA",get:function(){for(var t=this.oA(),n=0;n<this.Wl;n++){var i=this.k_(this.JI(n),this.YI(n));t=this.vg(t,i)}return t}}]),t}()),um=function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.v_=function(t,n){return t<n?Gl.c_:t===n?Gl.o_:Gl.s_},i.vg=function(t,n){return t+n},i.k_=function(t,n){return t-n},i.y_=function(t,n){return w.abs(t-n)},i.oA=function(){return 0},i.sA=function(){return 1/0},i.hA=function(){return-1/0},n.CA=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.DA=function(t){for(var i=[],r=[],e=0;e<t.Wl;e++)i.push(t.YI(e).hp),i.push(t.JI(e).hp),r.push(t.KI(e)),r.push(t.QI(e));return new n(i,r)},n.NA=function(t){return new n([t,t],[!0,!0])},i.eA=function(t,i){return new n(t,i)},i.iA=function(t){return t},n.OA=function(){return om},n}(em),om=new um([]);!function(t){t.Rl="fullscreenchange",t.xA="fullscreensupportchange",t.sw="fullscreenerror"}(rm||(rm={}));var sm=function(t){function n(){return t.call(this,rm.sw)||this}return $(n,t),n}(Ye),cm=new(function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.Ig=function(){this.Ys(new sm)},i.Cg=function(){},i.sr=function(){this.Zs()},W(n,[{key:"PA",get:function(){return!1}},{key:"LA",get:function(){return!1}}]),n}(Xe)),am=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).pR=void 0,n.mR=void 0,n}$(n,t);var i=n.prototype;return i.Hy=function(){var t;return null==(t=this.mR)?void 0:t.XR},i.sr=function(){var n=C.coroutine(Hr.mark(function n(){return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:if(!this.mR){n.next=6;break}return n.next=5,this.pR.er(this.mR);case 5:this.mR=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"FA",set:function(t){this.pR=t,this.mR=t.Zi(bl.Vv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).MA=0,n.BA=!1,n.UA=!0,n.VA=1,n.qA=!1,n.HA=1,n.Ay=new Tl,n.Ky=um.OA().vI(),n.Kw=NaN,n.Jw=!1,n.fc=void 0,n.Qw=void 0,n.Ny=void 0,n.Zy=!1,n.og=!0,n.sg=um.OA().vI(),n.cg=Jp.FI,n.dw=pd.Bw,n.ag=um.OA().vI(),n.wI=void 0,n.Dy=new Ay,n.ey=0,n.Cy=new Tl,n.uy=0,n.CR=new Vp,n}$(n,t);var i=n.prototype;return i.Vy=function(){},i.qy=function(){},i.tr=function(){this.UA&&(this.UA=!1,this.Ys(new Md(this.Yw)),this.Ys(new ug(this.Yw)))},i.nr=function(){this.UA||(this.UA=!0,this.Ys(new Wd(this.Yw,this.Jy)),this.Ys(new Fd(this.Yw)))},i.Py=function(t,n){return C.resolve()},i.Ly=function(){return!1},i.Fy=function(){},i.My=function(){},i.jy=function(){return cm},i.Yy=function(){},i.Hl=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.MA=0,this.qA=!1,this.nr(),this.Ys(new Ld(this.MA));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Zs(),this.Ay.sr(),this.Dy.sr(),this.Cy.sr();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"Jy",get:function(){},set:function(t){}},{key:"Yw",get:function(){return this.MA},set:function(t){this.MA!==t&&(this.MA=t,this.qA=!0,this.Ys(new Xd(this.Yw)))}},{key:"yy",get:function(){return{tg:0,ng:0,ig:0,rg:0,eg:0,ug:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Zw",get:function(){return this.BA},set:function(t){this.BA!==t&&(this.BA=t,this.Ys(new Yd(this.Yw,this.oy)))}},{key:"ty",get:function(){return this.UA}},{key:"ny",get:function(){return this.VA},set:function(t){this.VA!==t&&(this.VA=t,this.Ys(new jd(this.Yw,this.ny)))}},{key:"iy",get:function(){return this.qA}},{key:"oy",get:function(){return this.HA},set:function(t){this.HA!==t&&(this.HA=t,this.Ys(new Yd(this.Yw,this.oy)))}},{key:"fg",get:function(){return!1},set:function(t){}},{key:"yI",get:function(){return this.CR}}]),n}(Xe)),fm=function(t){function n(n,i,r,e,u,o){var s,c=new am;return(s=t.call(this,Kp.eu,c)||this).Aa=void 0,s.jA=void 0,s.WA=void 0,s.zA=void 0,s.zT=void 0,s.$A=void 0,s.XA=void 0,s.WA=n,s.Aa=i,s.zT=r,s.$A=e,s.zA=o,s.jA=new T(u,s.zA),s.jA.ur(s.WA),c.FA=s.jA,s.XA=new Qp(s.WA),s}$(n,t);var i=n.prototype;return i.hr=function(){t.prototype.hr.call(this),this.jA.Qi()},i.By=function(t){var n,i,r,e;n=this,r=(i=t).oy,e=i.Zw,n.oy=r,n.Zw=e},i.Uy=function(){},i.zI=function(t){return t.JE(this.WA,this.jA,this.zT,this.Aa,this.$A,this.zA)},i.Hy=function(){return this.UI.Hy()},i.Wy=function(){return this.jA.Ji.map(function(t){return t.XR})},i.Qs=function(n){t.prototype.Qs.call(this,n)},i.rc=function(n){t.prototype.rc.call(this,n)},i.sr=function(){var n=C.coroutine(Hr.mark(function n(){return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.sr.call(this);case 2:this.jA.sr(),this.XA.sr();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),W(n,[{key:"Qy",get:function(){return this.WA}},{key:"fg",get:function(){return this.UI.fg},set:function(t){this.UI.fg=t}}]),n}(nm),hm=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).WA=void 0,e.GA=void 0,e.YA=void 0,e.KA=void 0,e.JA=void 0,e.WA=n,e.GA=i,e.KA=new Tl,e.JA=new Ay,e.YA=r,e}$(n,t);var i=n.prototype;return i.zy=function(t){return!0},i.qy=function(){},i.tr=function(){throw this.Ys(new Zd(this.YA)),this.GA},i.nr=function(){},i.xy=function(){},i.Py=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Pe(i),this.Ys(new Zd(this.YA)),this.GA;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Vy=function(){},i.Oy=function(){return C.resolve()},i.Hy=function(){},i.jy=function(){return cm},i.Wy=function(){return[]},i.hr=function(){},i.By=function(t){},i.Uy=function(){},i.Ly=function(){return!1},i.Fy=function(){},i.My=function(){},i.Yy=function(){},i.Hl=function(){return C.resolve()},i.sr=function(){return this.Zs(),this.KA.sr(),this.JA.sr(),C.resolve()},W(n,[{key:"Ay",get:function(){return this.KA}},{key:"Ky",get:function(){return um.OA().vI()}},{key:"Jy",get:function(){return new Date(NaN)},set:function(t){}},{key:"Gy",get:function(){}},{key:"Yw",get:function(){return 0},set:function(t){}},{key:"Kw",get:function(){return 0}},{key:"Qy",get:function(){return this.WA}},{key:"Jw",get:function(){return!0}},{key:"fc",get:function(){return this.GA}},{key:"Qw",get:function(){return this.YA}},{key:"Ny",get:function(){}},{key:"yy",get:function(){return{tg:0,ng:0,ig:0,rg:0,eg:0,ug:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Zw",get:function(){return!1},set:function(t){}},{key:"og",get:function(){return!0}},{key:"ty",get:function(){return!0}},{key:"ny",get:function(){return 0},set:function(t){}},{key:"sg",get:function(){return um.OA().vI()}},{key:"cg",get:function(){return Jp.FI},set:function(t){}},{key:"dw",get:function(){return pd.Bw}},{key:"ag",get:function(){return um.OA().vI()}},{key:"iy",get:function(){return!1}},{key:"Dy",get:function(){return this.JA}},{key:"ey",get:function(){return 0}},{key:"Cy",get:function(){return this.KA}},{key:"uy",get:function(){return 0}},{key:"oy",get:function(){return 1},set:function(t){}},{key:"fg",get:function(){return!1},set:function(t){}},{key:"Zy",get:function(){return!1}}]),n}(fd);function vm(t){if(t&&ct(t))return jr({},t,{integration:dm(t.integration),fairplay:mm(t.fairplay),widevine:lm(t.widevine),playready:wm(t.playready),clearkey:km(t.clearkey),aes128:bm(t.aes128),integrationParameters:Tm(t.integrationParameters),preferredKeySystems:Em(t.preferredKeySystems)})}function dm(t){if(ft(t))return t}function lm(t){if(t&&ct(t))return{persistentState:ym(t.persistentState),distinctiveIdentifier:ym(t.distinctiveIdentifier),audioRobustness:gm(t.audioRobustness),videoRobustness:gm(t.videoRobustness),licenseAcquisitionURL:ft(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:_m(t.licenseType),headers:t.headers,useCredentials:!!ht(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ft(t.certificate)||Zu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:pm(t.certificateRequestProcessor),certificateResponseProcessor:pm(t.certificateResponseProcessor),licenseRequestProcessor:pm(t.licenseRequestProcessor),licenseResponseProcessor:pm(t.licenseResponseProcessor)}}function wm(t){if(t){var n=lm(t);if(n)return jr({},n,{customData:ft(t.customData)?t.customData:void 0})}}function ym(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function gm(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function _m(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function pm(t){if("function"==typeof t)return t}function mm(t){if(t){var n=lm(t);if(n)return jr({},n,{certificateURL:ft(t.certificateURL)?t.certificateURL:void 0})}}function km(t){if(t){var n=lm(t);if(n)return jr({},n,{keys:ot(t.keys)?t.keys.map(function(t){return function(t){if(!t||!ct(t))return;var n=t.id,i=t.value;if(!ft(n)||!ft(i))return;return{id:n,value:i}}(t)}).filter(ut):void 0})}}function bm(t){if(ct(t))return{useCredentials:ht(t.useCredentials)?t.useCredentials:void 0}}function Tm(t){if(ct(t))return t}function Em(t){return t&&ot(t)?t.map(function(t){return n_(t)}).filter(ut):[ee,ie,oe]}var Sm,Rm=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return $(n,t),n}(Ye),Im=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).QA=[],r.ZA=void 0,r.tC=function(t){Ve(function(){r.Gs(t)})},r.ZA=i?r.tC:r.Gs,r}$(n,t);var i=n.prototype;return i.nC=function(t){t.Qs(this.ZA),this.QA.push(t)},i.iC=function(t){t.rc(this.ZA),Re(this.QA,t)},i.sr=function(){this.Zs();for(var t=0,n=this.QA;t<n.length;t++){n[t].rc(this.ZA)}Ce(this.QA)},n}(ad),Am=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Im);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Sm||(Sm={}));var Cm,Dm=function(t){function i(n){var i;return(i=t.call(this)||this).rC=void 0,i.eC=void 0,i.uC=!1,i.oC=!1,i.sC=void 0,i.cC=void 0,i.aC=void 0,i.vl=void 0,i.fC=function(){return i.hC()},i.vC=function(){return i.dC()},i.aC=n,i.rC=i.eC=i.sC=i.cC=Sm.INLINE,i.aC.Ks(rm.Rl,i.fC),i.aC.Ks(rm.sw,i.vC),i.lC(),i}$(i,t);var r=i.prototype;return r.ll=function(){return t=this,i={get currentMode(){return t.wC()},requestMode:function(n){var i=Om(n);i&&t.yC(i)},supportsMode:function(n){var i=Om(n);return!!i&&t.gC(i)},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.tc(t,i)}},(n=new Im(i,!0)).nC(t),i;var t,n,i},r.yC=function(t){this._C(t,t)},r._C=function(t,n){this.eC!==n&&(this.uC=!0,this.rC=t,this.pC(n,this.eC),t!==Sm.FULLSCREEN&&(this.sC=t),this.uC=!1,this.lC())},r.wC=function(){return this.oC?Sm.FULLSCREEN:Sm.INLINE},r.gC=function(t){switch(t){case Sm.FULLSCREEN:return this.aC.LA;case Sm.INLINE:return!0}return!1},r.lC=function(){if(!this.uC){var t=this.eC,n=this.wC();this.eC=n,n!==Sm.FULLSCREEN&&(this.cC=n),t!==n&&this.Ys(new Rm(n))}},r.pC=function(t,n){var i=t===Sm.FULLSCREEN;this.oC=i,i!==this.aC.PA&&(i?this.aC.Ig():this.aC.Cg())},r.hC=function(){if(!this.uC){var t=this.aC.PA;this.oC=t,t?this._C(Sm.FULLSCREEN,Sm.FULLSCREEN):t||this.rC!==Sm.FULLSCREEN?this.lC():this._C(this.sC,this.cC)}},r.dC=function(){this.hC(),this.Ys(new Zd(new Po(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.sr=function(){this.aC.sr(),this.Zs()},W(i,[{key:"dl",get:function(){return this.vl||(this.vl=this.ll()),this.vl}}]),i}(ad),Nm={Yw:0,Kw:NaN,Jw:!1,fc:void 0,Qw:void 0,Zw:!1,ty:!0,ny:1,dw:pd.Bw,iy:!1,ey:0,uy:0,oy:1};function Om(t){switch(t){case Sm.INLINE:case Sm.FULLSCREEN:case Sm.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Cm||(Cm={}));var xm,Pm,Lm,Fm,Mm,Bm,Um,Vm,qm=function(){function t(){this.mC=[]}var n=t.prototype;return n.kC=function(t){var n=this.bC.filter(function(n){return n.TC(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.EC=function(t){this.mC.push(t)},W(t,[{key:"bC",get:function(){return this.mC}}]),t}();qm.eu=new qm,function(t){t.Gw="PLAYING",t._y="PAUSED",t.SC="SEEK",t.RC="STALLED",t.IC="FAILED",t.AC="INITIAL_BUFFERING",t.CC="NO_ACCESS"}(xm||(xm={})),function(t){t.DC="HTTP_REQUEST_STATUS_CODE_1XX",t.NC="HTTP_REQUEST_STATUS_CODE_2XX",t.OC="HTTP_REQUEST_STATUS_CODE_3XX",t.xC="HTTP_REQUEST_STATUS_CODE_4XX",t.LC="HTTP_REQUEST_STATUS_CODE_5XX",t.FC="BUFFER_LENGTH",t.MC="BYTES_RECEIVED",t.BC="SEGMENT_READ_BITRATE",t.UC="SEGMENT_PROFILE_BITRATE",t.VC="NUMBER_OF_FRAMES_DROPPED",t.qC="PLAYBACK_POSITION",t.HC="NUMBER_OF_FRAMES_DECODED",t.jC="PLAYBACK_DELTA_TO_ORIGIN",t.WC="STREAM_DELTA_TO_ORIGIN",t.zC="ORIGIN_TIMESTAMP"}(Pm||(Pm={})),function(t){t.$C="MANIFEST_URI",t.XC="ASSET_DURATION",t.GC="NUMBER_OF_CONTENT_PROFILES",t.YC="CDN",t.KC="CONTENT_TITLE",t.JC="SERVICE_NAME",t.QC="CONTENT_TYPE",t.ZC="CONTENT_DESCRIPTION"}(Lm||(Lm={})),function(t){t.tD="shutdown_normal_shutdown"}(Fm||(Fm={})),function(t){t.nD="session/",t.iD="internalError/",t.rD="drmError/",t.eD="caError/",t.uD="networkError/"}(Mm||(Mm={})),function(t){t.oD="userAction",t.sD="endOfStreamReached"}(Bm||(Bm={})),function(t){t.PAUSE="cD",t.RESUME="aD"}(Um||(Um={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Vm||(Vm={}));var Hm,jm,Wm,zm,$m,Xm="agama";function Gm(t){return function(t){switch(t){case Hm.NONE:case Hm.HORIZONTAL:case Hm.VERTICAL:return!0;default:return!1}}(t)?t:Hm.NONE}function Ym(t){switch(t){case"":return Hm.NONE;case"horizontal":return Hm.HORIZONTAL;case"vertical":return Hm.VERTICAL;default:throw new d}}function Km(t){if(!t||!ft(t))return jm.LI;switch(t){case"always":return jm.fD;case"never":return jm.hD;default:return jm.LI}}function Jm(t){if(!t||!ft(t))return Wm.LI;switch(t){case"playlist":return Wm.vD;case"media":return Wm.dD;default:return Wm.LI}}function Qm(t){if(null!==t)return t}function Zm(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Qm(t.streamActivityMonitorID),adTagParameters:ct(t.adTagParameters)?t.adTagParameters:{},authToken:Qm(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?jr({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void N.Do("A VOD DAI configuration was provided without valid contentSourceID which is required."):void N.Do("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?jr({},i,{availabilityType:"live",assetKey:u}):void N.Do("A Live DAI configuration was provided without valid assetKey which is required.")}N.Do("A DAI configuration was provided without a valid availabilityType which is required.")}function tk(t){if(!Xg(t)||!t.integration)return t;switch(t.integration){case lg:return n=t,i=t_(Qr.ds,n),r=t_(Qr.vs,n),e=n[Qr.ls]&&t_(Qr.ls,n),jr({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function nk(t){if(!t)return!0;var n,i,r=!(Id(n=t.sources)||st(n)&&Id(n[0]))||Ad(t.sources),e=!t.ads||(!(i=t.ads)||ot(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function ik(t){if(t&&t.sources)return function t(n){if(ft(n))return n;if(Rd(n))return n.src;if(st(n)&&n.length>0)return t(n[0]);return}(t.sources)}function rk(t,n,i){return Ed(t)?function(t,n,i){var r=jr({},Cd(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:zm.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:$m.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,ft(e)?e:st(e)&&ft(e[0])?e:ct(u=e)&&ft(u.userId)&&(st(u.externalId)||ft(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return $m.CHANNEL;case"event":return $m.EVENT;case"asset":default:return $m.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=jv(t.contentProtected));t.assetInfo?r.assetInfo=jv(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(o=r.assetType,s=t.ping,c=!1,a=!1,f=!1,s?(c=!!ht(s.adImpressions)&&s.adImpressions,a=!!ht(s.freeWheelVideoViews)&&s.freeWheelVideoViews,f=ht(s.linearAdData)?s.linearAdData:o!==$m.ASSET):o!==$m.ASSET&&(f=!0),{adImpressions:c,freeWheelVideoViews:a,linearAdData:f}),r=uk(r=ek(r,t),n,i);var o,s,c,a,f}(t,n,i):function(t,n,i){var r=Dd(),e=n&&(n.contentProtection||n.drm);if(ft(t)){if(r.src=t,r.type=bd(t),e){var u=vm(e);r.contentProtection=tk(u)}}else if(Rd(t)||Td(t)){r.src=t.src,r.type=t.type||bd(t.src),r.isAdvertisement=t.isAdvertisement;var o=function(t){return t.type===yd.Fw||t.type===yd.Mw}(t)?t.hesp:void 0;void 0!==o&&(r.hesp=o);var s=t.contentProtection||t.drm||e,c=vm(s);r.contentProtection=tk(c),t.ssai&&(r.ssai=function(t){switch(t.integration){case"google-dai":return Zm(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),r=ek(r,t)}return r=uk(r,n,i)}(t,n,i)}function ek(t,n){var i;n.useCredentials?t.crossOrigin=wd.Pw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case wd.xw:case wd.Pw:return t;default:return wd.Ow}}(n.crossOrigin)),ft(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=jv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=jv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Km(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Jm(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var r=void 0!==n.experimentalRendering?jv(n.experimentalRendering):void 0;void 0!==r&&(t.experimentalRendering=r);var e=void 0!==n.nativeUiRendering?jv(n.nativeUiRendering):void 0;return void 0!==e&&(t.nativeUiRendering=e),t}function uk(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!ut(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!ut(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===wd.Ow&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=wd.xw),t.useCredentials=t.crossOrigin===wd.Pw,ft(e)&&!t.timeServer&&(t.timeServer=e),t}function ok(t){var n={src:""};if(t&&t.src){if(n.src=$v(t.src),"default"in t&&(n.default=jv(t.default)),n.kind=Ny(t.kind),function(t){switch(t){case Ll.DEFAULT:case Ll.SRT:case Ll.TTML:case Ll.WEBVTT:case Ll.EMSG:case Ll.EVENT_STREAM:case Ll.ID3:case Ll.CEA608:case Ll.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function sk(t,n){if(at(t))try{return n.kC(t).lD(t)}catch(t){return}}function ck(t){return ft(t.sources)&&""!==t.sources||ct(t.sources)&&ft(t.sources.src)}function ak(t){return t.integration===Cm.SPOTX&&!_(t.id)}function fk(t){return"freewheel"===t.integration}function hk(t,n,i){if(void 0===i&&(i=qm.eu),nk(t))return{sources:[Dd()]};var r=Uv(t);if(r.sources=function(t,n,i){if(Id(t))return[rk(t,n,i)];if(st(t)&&Id(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(rk(u,n,i))}return r}return[Dd()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!st(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var u=e[r];(u=sk(u,n))&&(ck(u)||ak(u)||fk(u))&&i.push(u)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,o,s,c=!Ad(r.sources),a=r.ads&&r.ads.length>0;if(c&&!a?delete r.ads:a&&!c&&(r.sources=[]),"textTracks"in r){var f=function(t){if(!st(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=ok(e)).src&&n.push(e)}return n}(r.textTracks);0===f.length?delete r.textTracks:r.textTracks=f}if("poster"in r&&(r.poster=$v(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(o=u||{}).stereoMode=Gm(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?Ym(o.stereoMode):Hm.NONE,nativeVR:Boolean(o.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var h=Od(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Uv(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Xm&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(h,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=tl(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(s=r.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Hm||(Hm={})),function(t){t.LI="auto",t.fD="always",t.hD="never"}(jm||(jm={})),function(t){t.LI="auto",t.vD="playlist",t.dD="media"}(Wm||(Wm={})),function(t){t.VERIZON_MEDIA="verizon-media"}(zm||(zm={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}($m||($m={}));var vk=function(){function t(t){this.wD=t}return t.prototype.yD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.wD.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.wD.indexOf(t.charAt(n))<<18|this.wD.indexOf(t.charAt(n+1))<<12|(u=this.wD.indexOf(t.charAt(n+2)))<<6|(o=this.wD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.gD=function(t,n){var i,r,e,u,o,s,c,a=[],f="";if((s=t.length%3)>0)for(;s++<3;)f+=this.wD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)r=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,e=i>>12&63,u=i>>6&63,o=63&i,a[s/3]=this.wD.charAt(r)+this.wD.charAt(e)+this.wD.charAt(u)+this.wD.charAt(o);return c=(c=a.join("")).slice(0,c.length-f.length),n||(c+=f),c},t.Vp=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t._D=new t(t.Vp.yD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function dk(t){return"string"==typeof t}function lk(t){return"number"==typeof t}var wk={}.toString;var yk,gk=Array.isArray||function(t){return"[object Array]"===wk.call(t)};function _k(t,n){return gk(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(yk||(yk={}));var pk,mk=l.keys(yk).map(function(t){return yk[t]});function kk(t){return-1!==mk.indexOf(t)}function bk(t){try{var n=vk._D.yD(t),i=JSON.parse(n);if(!function(t){var n=(h=t,"object"==typeof h&&null!==h),i=dk(t.key),r=dk(t.customer_id),e=lk(t.generation_date),u=lk(t.expiration_date),o=_k(t.domains_page,dk),s=_k(t.domains_source,dk),c=_k(t.sdks,kk),a=(f=t.send_impression,"boolean"==typeof f);var f;var h;if(!(n&&i&&r&&e&&u&&o&&s&&c&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function Tk(){return pk||(pk={Sv:I.href,pD:R.parent&&R.parent!==e,mD:Rk()}),pk}var Ek,Sk=["http:","https:","ftp:","ws:","wss:"];function Rk(){try{return R.top.location.href}catch(t){return R&&R.document&&R.document.referrer}}!function(t){t[t.kD=0]="kD",t[t.bD=1]="bD",t[t.TD=2]="TD"}(Ek||(Ek={}));var Ik,Ak=function(t,n,i,r,e,u,o,s){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.ED=t,this.SD=n,this.RD=i,this.CD=r,this.DD=e,this.ND=u,this.OD=o,this.xD=s};!function(t){t.bD="expired",t.PD="invaliddomain",t.LD="invalidsource",t.sw="error"}(Ik||(Ik={}));var Ck=function(){function t(t,n,i){this.FD=void 0,this.MD=t,this.BD=n,this.UD=i,this.FD=Lk(this.UD)}var n=t.prototype;return n.VD=function(t,n){var i=this;if(!nk(t)&&0!==n.RD.length&&!Ok(n.RD)){var r=[];if(Id(t.sources)?r=[t.sources]:st(t.sources)&&(r=t.sources),!r.every(function(t){return i.qD(t,n)})){var e=Ik.LD,u=Mk.HD(e);throw new Po(Dk(e),u)}}},n.jD=function(n){return this.WD(n.OD)&&this.zD(n)?t.$D(n.CD)?Ek.kD:Ek.bD:Ek.TD},n.WD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.XD(t)})},n.XD=function(t){return"tvos"===function(t){switch(t){case yk.ANDROID:return H.kr;case yk.ANDROIDTV:case yk.FIRETV:return H.br;case yk.IOS:return H.Tr;case yk.TVOS:return H.Er;case yk.CHROMECAST:case yk.CHROMECASTCAF:return H.Sr;default:return H.mr}}(t)},t.$D=function(t){var n=Number(new Date);return!!t&&n<=t},n.zD=function(t){return!(this.FD&&0!==t.SD.length&&!Ok(t.SD))||!!(this.FD&&this.GD(t.SD)&&this.YD(t.SD))},n.GD=function(t){return xk(this.UD.Sv,t)},n.YD=function(t){if(!this.UD.pD)return!0;if(this.MD)return!0;var n=this.KD();return!!n&&xk(n,t)},n.KD=function(){if(this.UD.pD){var t=o.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.UD.mD?this.UD.mD:void 0}},n.qD=function(n,i){return!!t.JD(n,i.RD)},t.JD=function(t,n){return xk(this.QD(t),n)},t.QD=function(t){return ft(t)?t:Rd(t)&&t.src||""},t}();function Dk(t){switch(t){case Ik.PD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Ik.LD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Ik.bD:return n.ErrorCode.LICENSE_EXPIRED;case Ik.sw:return n.ErrorCode.LICENSE_ERROR}}function Nk(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+e+o+e+o+e+o+"\\)"),c=r.match(s),a=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var f=new RegExp("^"+c[1]+e+a(c[2])+e+a(c[3])+e+a(c[4])+"$");return null!==i.match(f)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Ok(t){return t.some(function(t){return"*"===t})}function xk(t,n){var i=N.zo(t);if(!Pk(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Nk(i.hostname,e))return!0;if(Nk(jf(t),e))return!0}return!1}function Pk(t){return-1!==Sk.indexOf(t.protocol)}function Lk(t){var n=N.zo(t.Sv);return Pk(n)&&!Nk(n.hostname,"localhost")&&!function(t){return Nk(t.hostname,"theoplayer.doubleclick.net")}(n)}var Fk,Mk=function(){function t(){}return t.HD=function(t){return t===Ik.PD?this.ZD:t===Ik.LD?this.tN:t===Ik.bD?this.nN:this.iN},t}();function Bk(t){var n=[t.$b,t.rN,t.eN];switch(t.rN){case Fk.uN:n.push(t.yw);break;case Fk.oN:n.push(t.Yw),n.push(t.fc);break;case Fk.sN:n.push(t.fc)}return n}Mk.iN="The license for this player is invalid.",Mk.nN="The usage license for this video player has expired.",Mk.ZD="The current domain is incompatible with the license for this player.",Mk.tN="The provided video source is incompatible with the license for this player.",function(t){t[t.uN=1]="uN",t[t.oN=4]="oN",t[t.sN=5]="sN"}(Fk||(Fk={}));for(var Uk=new Array(256),Vk=0;Vk<256;Vk+=1)Uk[Vk]=(Vk<16?"0":"")+Vk.toString(16);function qk(){var t=tn(),n=(4294967296*w.random()|0)+t&3029421624,i=(4294967296*w.random()|0)+t&3595553209,r=(4294967296*w.random()|0)+t&1130486254,e=(4294967296*w.random()|0)+t&1284287105;return Uk[255&n]+Uk[n>>>8&255]+Uk[n>>>16&255]+Uk[n>>>24&255]+"-"+Uk[255&i]+Uk[i>>>8&255]+"-"+Uk[i>>>16&15|64]+Uk[i>>>24&255]+"-"+Uk[63&r|128]+Uk[r>>>8&255]+"-"+Uk[r>>>16&255]+Uk[r>>>24&255]+Uk[255&e]+Uk[e>>>8&255]+Uk[e>>>16&255]+Uk[e>>>24&255]}var Hk=function(){function t(t){this.wD=void 0,this.wD=t}var n=t.prototype;return n.yD=function(t){var n,i,r,e,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(s=this.wD.indexOf(t.charAt(n))<<18|this.wD.indexOf(t.charAt(n+1))<<12|(u=this.wD.indexOf(t.charAt(n+2)))<<6|(o=this.wD.indexOf(t.charAt(n+3))))>>>16&255,r=s>>>8&255,e=255&s,c[n/4]=String.fromCharCode(i,r,e),64===o&&(c[n/4]=String.fromCharCode(i,r)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.gD=function(t){var n,i,r,e,u,o,s,c=[],a="";if((o=t.length%3)>0)for(;o++<3;)a+=this.wD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,c[o/3]=this.wD.charAt(i)+this.wD.charAt(r)+this.wD.charAt(e)+this.wD.charAt(u);return(s=c.join("")).slice(0,s.length-a.length)+a},t}();function jk(){return N.Eo()}Hk.Vp=new Hk(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Hk._D=new Hk(Hk.Vp.yD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Wk,zk="theoplayer-session-id";function $k(){if(!Wk){var t=Ko._c(zk);t?Wk=t:(Wk=qk(),Ko.tf(zk,Wk))}return Wk}var Xk=/[^\x00-\x7E]/g;function Gk(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}(r,e/r.length)),r.slice(0,e)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Yk=0,Kk=1,Jk=6e4;function Qk(t){var n,i,r,e,u,o=(n=function(t){return[t.cN,t.na,t.ED,t.uk,t.aN,t.fN,t.hN.map(Bk)]}(t),i=[],r=n,e=function(t,n){if(ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Xk,Gk));return Hk._D.gD(o)}var Zk=function(){function t(t,n,i,r,e,u){var o=this;void 0===r&&(r=Hk.Vp),void 0===e&&(e=Yk),void 0===u&&(u=Kk),this.vN=[],this.dN=null,this.lN=0,this.wN="unknown",this.yN=0,this.gN=function(){jk()-o.lN>Jk&&o.pr()},this._N=function(){o.pr(!0)},this.wS=t,this.zT=n,this.pN=i,this.mN=r,this.kN=e,this.bN=u,S.wr(this._N),f(this.gN,Jk)}var n=t.prototype;return n.TN=function(){return Boolean(this.aN)},n.EN=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pN.SN();case 2:if(t.sent.xD){t.next=5;break}return t.abrupt("return");case 5:return i={rN:Fk.uN,eN:tn(),yw:n},t.next=8,this.RN(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.IN=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={rN:Fk.oN,eN:tn(),Yw:i,fc:n},t.next=3,this.RN(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.AN=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={rN:Fk.sN,eN:tn(),fc:n},t.next=3,this.RN(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.RN=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pN.SN();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.mN.gD(i.ED)){t.next=6;break}if(n.rN===Fk.sN){t.next=6;break}return t.abrupt("return");case 6:if(n.rN===Fk.uN?this.CN():this.TN()||this.CN(),n.$b=this.yN++,this.vN.push(n),(r=n.rN)!==Fk.uN&&r!==Fk.sN){t.next=14;break}return t.next=12,this.pr();case 12:t.next=19;break;case 14:if(!(this.vN.length>this.kN)){t.next=19;break}return t.next=17,this.DN();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.pr=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.vN.length>0)){t.next=6;break}return t.next=4,this.DN(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.NN=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pN.SN();case 2:return i=t.sent,t.abrupt("return",{cN:tn(),na:$k(),ED:this.mN.gD(i.ED)||"dev",uk:this.wS,aN:this.dN,fN:this.wN,hN:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.DN=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.vN.splice(0,this.bN),t.next=4,this.NN(i);case 4:r=t.sent,n?this.Gv(r):this.ON(r),this.lN=jk();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.ON=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Qk(n),r=new Lf({Sv:"https://license.theoplayer.com",sv:i,$v:!1,mv:ns.au,pv:{"Content-Type":F_.TS},jv:4e3,Hv:Df.POST}),t.prev=2,t.next=5,this.zT.Tv(r);case 5:return e=t.sent,t.next=8,e.ev();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Gv=function(t){var n=Qk(t);this.zT.Gv({Sv:"https://license.theoplayer.com",sv:n,ov:F_.TS})},n.CN=function(){this.TN()&&this.pr(),this.dN=qk(),this.yN=0},n.sr=function(){S.yr(this._N),this.pr()},W(t,[{key:"hN",get:function(){return this.vN}},{key:"aN",get:function(){return this.dN}}]),t}();var tb=it.Ue||it.Ie&&it.ze<13;function nb(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var ib=function(){function t(t){this.DI=void 0,this.vl=void 0,this.xN=void 0,this.DI=t}var n=t.prototype;return n.PN=function(t){if(!t||!t.drawImage)return!1;var n=this.DI.Hy();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.LN=function(t,n,i,r,e,o){if(!t||!t.texImage2D)return!1;var s=this.DI,c=s.Hy();if(!c)return!1;if(tb){this.xN||(this.xN=u.createElement("canvas"));var a=this.xN,f=a.getContext("2d"),h=s.uy,d=s.ey,l=a.width,w=a.height;f.clearRect(0,0,a.width,a.height),l===h&&w===d||(a.width=h,a.height=d),f.drawImage(c,0,0,h,d);var y=!1;h>0&&nb(f,h-1,0)&&(a.width=l,y=!0),d>0&&nb(f,0,d-1)&&(a.height=w,y=!0),y&&f.drawImage(c,0,0,h,d),c=a}try{t.texImage2D(n,i,r,e,o,c)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},W(t,[{key:"dl",get:function(){return this.vl||(this.vl=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.PN.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,o){return t.LN(n,i,r,e,u,o)}}));var t}}]),t}(),rb=function(t){function n(n,i){var r;return(r=t.call(this,"FN")||this).bo=n,r.Bk=i,r}return $(n,t),n.prototype.ll=function(){return new eb(this.bo,this.Bk)},n}(Ev),eb=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return $(n,t),n}(Ye),ub=function(t,n){this.Qy=void 0,this.MN=void 0,this.Qy=t,this.MN=n},ob=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).BN=void 0,r.UN=0,r.VN=0,r.qN=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.VN=n.width,r.UN=n.height,r.MN(r.VN,r.UN)}},r.BN=new R.ResizeObserver(r.qN),r.BN.observe(r.Qy),r}return $(n,t),n.prototype.sr=function(){this.BN.disconnect()},W(n,[{key:"HN",get:function(){return this.UN}},{key:"jN",get:function(){return this.VN}}]),n}(ub),sb=0;var cb,ab=a,fb=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,hb=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function vb(){return cb||(cb=R&&R.document&&R.document.createElement("span")),cb}fb&&hb||(fb=function(t){var n=jk(),i=w.max(0,16-(n-sb)),r=c(function(){return t(n+i)},i);return sb=n+i,r},hb=ab),fb=fb.bind(t),hb=hb.bind(t);var db=["Webkit","Moz","O","ms"],lb=(function(){var t=!1;try{if(void 0!==R&&"function"==typeof R.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});R.addEventListener("testPassiveEventSupport",L,n),R.removeEventListener("testPassiveEventSupport",L,n)}}catch(t){}}(),zr());function wb(t){return lb.has(t)||lb.set(t,function(t){var n=vb();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<db.length;r++){var e=db[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),lb.get(t)}function yb(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function gb(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[wb("transition")]="0s"}var _b=function(t){function n(n,i,r){var o;(o=t.call(this,n,i)||this).WN=void 0,o.zN=0,o.VN=NaN,o.UN=NaN,o.$N=void 0,o.XN=void 0,o.GN=void 0,o.YN=void 0,o.KN=void 0,o.Hl=function(){o.XN.style.width=1e5+"px",o.XN.style.height=1e5+"px",o.$N.scrollLeft=1e5,o.$N.scrollTop=1e5,o.GN.scrollLeft=1e5,o.GN.scrollTop=1e5,0===o.GN.scrollTop&&fb(o.Hl)},o.JN=function(){var t=o.jN,n=o.HN;o.MN(t,n),o.VN=t,o.UN=n,o.Hl(),o.zN=0},o.QN=function(){if(!o.zN){var t=o.jN,n=o.HN;t===o.VN&&n===o.UN||(o.zN=fb(o.JN))}},o.ZN=function(){o.KN||(o.KN=c(o.tO,66))},o.tO=function(){o.KN=void 0,o.nO()},o.nO=function(){o.QN()};var s=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==s||(n.style.position="relative");var a,f=u.createElement("div");return o.WN=f,o.$N=u.createElement("div"),o.XN=u.createElement("div"),o.GN=u.createElement("div"),o.YN=u.createElement("div"),yb(o.$N),yb(o.GN),gb(o.XN),gb(a=o.YN),a.style.width="200%",a.style.height="200%",f.appendChild(o.$N),f.appendChild(o.GN),o.$N.appendChild(o.XN),o.GN.appendChild(o.YN),n.appendChild(f),o.$N.addEventListener("scroll",o.QN),o.GN.addEventListener("scroll",o.QN),e&&e.addEventListener("resize",o.ZN),o.QN(),o}return $(n,t),n.prototype.sr=function(){hb(this.zN),this.zN=0,this.$N.removeEventListener("scroll",this.QN),this.GN.removeEventListener("scroll",this.QN),mr(this.WN),e&&e.removeEventListener("resize",this.ZN)},W(n,[{key:"HN",get:function(){return this.Qy.getBoundingClientRect().height||this.UN||0}},{key:"jN",get:function(){return this.Qy.getBoundingClientRect().width||this.VN||0}}]),n}(ub),pb=function(t){function n(n){var i;return(i=t.call(this)||this).Qy=void 0,i.BN=void 0,i.qN=function(t,n){i.Ys(new rb(t,n))},i.Qy=n,i}$(n,t);var i=n.prototype;return i.sa=function(t){this.BN||("function"==typeof R.ResizeObserver?this.BN=new ob(this.Qy,this.qN):this.BN=new _b(this.Qy,this.qN,t))},i.sr=function(){this.Zs(),this.BN&&(this.BN.sr(),this.BN=void 0)},W(n,[{key:"HN",get:function(){return this.BN?this.BN.HN:0}},{key:"jN",get:function(){return this.BN?this.BN.jN:0}}]),n}(Xe),mb=function(t){function n(){return t.call(this,rm.Rl)||this}return $(n,t),n}(Ye);!function(){if(u)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in u)return{iO:i[0],rO:i[1],eO:i[2],uO:i[3],oO:i[4],sO:i[5]}}}();var kb=function(t){function n(){return t.call(this,rm.xA)||this}return $(n,t),n}(Ye),bb=function(t){function n(n,i){var r;return(r=t.call(this)||this).DI=void 0,r.cO=void 0,r.aO=void 0,r.fO=!1,r.hO=function(){return r.Kc()},r.fC=function(t){r.fO||r.Ys(t)},r.DI=n,r.cO=i,r.aO=cm,r.vO(),r.DI.Ks(ts.lf,r.hO),r.Kc(),r}$(n,t);var i=n.prototype;return i.Ig=function(){this.cO&&this.aO.Ig()},i.Cg=function(){this.aO.Cg()},i.vO=function(){this.aO.Ks(rm.Rl,this.fC),this.aO.Ks(rm.sw,this.Gs)},i.dO=function(){this.aO.tc(rm.Rl,this.fC),this.aO.tc(rm.sw,this.Gs)},i.Kc=function(){var t=this.aO,n=this.DI.jy();if(t!==n){this.fO=!0;var i=this.PA,r=this.LA;i&&this.Cg(),this.dO(),this.aO=n,this.vO(),i&&!this.PA&&this.LA?this.Ig():this.Cg(),this.fO=!1,r!==this.LA&&this.Ys(new kb),i!==this.PA&&this.Ys(new mb)}},i.sr=function(){this.Zs(),this.dO(),this.DI.tc(ts.lf,this.hO)},W(n,[{key:"LA",get:function(){return!!this.cO&&this.aO.LA}},{key:"PA",get:function(){return this.aO.PA}}]),n}(Xe);function Tb(t){var n;return{get url(){return t.Sv},get method(){return t.Hv},get headers(){return n||(n=t.pv.jf()),n},get body(){return t.sv},get useCredentials(){return t.$v},get type(){return Ab(t._s)},get subType(){return Db(t.Wv)},get mediaType(){return Ob(t.zv)},get responseType(){return Sb(t.mv)}}}function Eb(t){switch(t.toLowerCase()){case"arraybuffer":return ns.Vf;case"json":return ns.qf;case"stream":return ns.Hf;case"text":default:return ns.au}}function Sb(t){return t}function Rb(t){switch(t.toUpperCase()){case"POST":return Df.POST;case"PUT":return Df.PUT;case"DELETE":return Df.DELETE;case"HEAD":return Df.HEAD;case"OPTIONS":return Df.OPTIONS;case"GET":default:return Df.GET}}function Ib(t){switch(t.toLowerCase()){case"manifest":return Nf.Av;case"segment":return Nf.Cv;case"content-protection":return Nf.Dv;default:return Nf.Iv}}function Ab(t){return t}function Cb(t){switch(t.toLowerCase()){case"initialization-segment":return Of.Nv;case"fairplay-license":return Of.Ov;case"fairplay-certificate":return Of.xv;case"widevine-license":return Of.Pv;case"widevine-certificate":return Of.Lv;case"playready-license":return Of.Fv;case"clearkey-license":return Of.Mv;case"aes128-key":return Of.Bv;default:return Of.Iv}}function Db(t){return t}function Nb(t){switch(t.toLowerCase()){case"audio":return xf.Uv;case"video":return xf.Vv;case"text":return xf.au;case"image":return xf.qv;case"":default:return xf.Iv}}function Ob(t){return t}var xb=function(){function t(t,n){this.lO=new eo,this.wO=[],this.vl=void 0,this.yO=!1,this.sd=void 0,this.gO=0,this._O=t,this.pO=n}var n=t.prototype;return n.Gm=function(){this.yO=!0,this.lO.Oc(null)},n.mO=function(){this.lO.xc(new af(this.wO))},n.kO=function(t){if(!this.bO)throw new d("Cannot respond more than once");if(!ct(t))throw new d("Expected valid response");this.sd=this.TO(t),this.Gm()},n.EO=function(){try{var t=this.pO(this.dl);t?this.SO(t):this.RO||this.IO||this.Gm()}catch(t){this.wO.push(t),this.mO()}},n.SO=function(t){if(this.IO)throw new v("Request has been redirected or a response already exists");if(vt(t))this.AO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new eo;try{var i=t(function(t){t?n.xc(t):n.Oc(void 0)});vt(i)&&n.Oc(i)}catch(t){n.xc(t)}this.AO(n.Nc)}},n.AO=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.gO++,t.next=4,n;case 4:this.gO--,this.RO||this.IO||(this.wO.length?this.mO():this.Gm()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.gO--,this.wO.push(t.t0),this.RO||this.IO||this.mO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),W(t,[{key:"CO",get:function(){return this.lO.Nc}},{key:"dl",get:function(){return this.vl||(this.vl=this.DO()),this.vl}},{key:"IO",get:function(){return this.yO}},{key:"bO",get:function(){return!this.yO}},{key:"RO",get:function(){return this.gO>0}},{key:"fd",get:function(){return this.sd}}]),t}(),Pb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).NO=void 0,e.NO=r,e.EO(),e}$(n,t),n.OO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Pf({Bu:r,Tv:n.Tv,mv:n.Tv.mv,pv:t.headers,_v:t.status,kv:t.statusText,Ev:t.url,bv:!0},n)};var i=n.prototype;return i.DO=function(){return i=Tb((t=this).Tv),{get closed(){return!t.bO},get request(){return i},get url(){return t.Sv},get status(){return t._v},get statusText(){return t.kv},get headers(){return n||(n=t.pv.jf()),n},get body(){return t.sv},respondWith:function(n){return t.kO(n)},waitUntil:function(n){return t.SO(n)}};var t,n,i},i.TO=function(t){return n.OO(t,this._O,this.NO)},W(n,[{key:"sv",get:function(){return this.NO}},{key:"pv",get:function(){return this._O.pv}},{key:"Tv",get:function(){return this._O.Tv}},{key:"fd",get:function(){return this.sd}},{key:"_v",get:function(){return this._O._v}},{key:"kv",get:function(){return this._O.kv}},{key:"Sv",get:function(){return this._O.Ev}}]),n}(xb),Lb=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).xO=void 0,e.PO=void 0,e.PO=r,e.EO(),e}$(n,t);var i=n.prototype;return i.DO=function(){return t=this,{get url(){return t.Sv},get method(){return t.Hv},get headers(){return n||(n=t.pv.jf()),n},get body(){return t.sv},get closed(){return!t.bO},get useCredentials(){return t.$v},get type(){return Ab(t._s)},get subType(){return Db(t.Wv)},get mediaType(){return Ob(t.zv)},get responseType(){return Sb(t.mv)},redirect:function(n){return t.LO(n)},respondWith:function(n){return t.kO(n)},waitUntil:function(n){return t.SO(n)}};var t,n},i.TO=function(t){var n=this._O.sv,i=new Pf({Bu:n,pv:{},Tv:this._O,Ev:this._O.Sv,mv:this._O.mv,_v:200,kv:"OK"});return Pb.OO(t,i,n)},i.LO=function(t){if(!this.bO)throw new d("Cannot redirect, already redirected or has a response");var n;n=ft(t)?{url:t}:t,this.xO=function(t,n){return new Lf({Sv:void 0===t.url?n.Sv:t.url,Hv:void 0!==t.method?Rb(t.method):void 0,pv:t.headers,sv:t.body,$v:t.useCredentials,_s:void 0!==t.type?Ib(t.type):void 0,Wv:void 0!==t.subType?Cb(t.subType):void 0,zv:void 0!==t.mediaType?Nb(t.mediaType):void 0,mv:void 0!==t.responseType?Eb(t.responseType):void 0},n)}(n,this._O),this.Gm()},W(n,[{key:"sv",get:function(){return this._O.sv}},{key:"bO",get:function(){return this.PO&&!this.yO}},{key:"pv",get:function(){return this._O.pv}},{key:"Hv",get:function(){return this._O.Hv}},{key:"FO",get:function(){return this.xO}},{key:"fd",get:function(){return this.sd}},{key:"mv",get:function(){return this._O.mv}},{key:"jv",get:function(){return this._O.jv}},{key:"Ws",get:function(){return this._O.Ws}},{key:"_s",get:function(){return this._O._s}},{key:"Wv",get:function(){return this._O.Wv}},{key:"zv",get:function(){return this._O.zv}},{key:"Sv",get:function(){return this._O.Sv}},{key:"$v",get:function(){return this._O.$v}},{key:"Xv",get:function(){return this._O.Xv}}]),n}(xb);var Fb,Mb=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new Bb(n);return(r=t.call(this,e,i)||this).MO=void 0,r.MO=e,r}$(n,t);var i=n.prototype;return i.BO=function(t){this.MO.BO(t)},i.UO=function(t){this.MO.UO(t)},i.VO=function(t){this.MO.VO(t)},i.qO=function(t){this.MO.qO(t)},i.HO=function(t){this.MO.HO(t)},n}(Mf),Bb=function(){function t(t){this.Yv=void 0,this.jO=[],this.WO=[],this.Yv=t}var n=t.prototype;return n.Tv=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.zO(n,n.Ws);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Wf)){t.next=12;break}return t.next=11,this.$O(t.t0,n.Ws);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.XO(i,n.Ws);case 15:if(!Cf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new $f(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Gv=function(t){return this.Yv.Gv(t)},n.zO=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Pe(i),r=n,u=0,o=this.jO.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],Pe(i),(c=new Lb(r,s,!e)).IO){t.next=17;break}return t.prev=8,t.next=11,c.CO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.FO&&!e?r=c.FO:c.fd&&!e&&(e=c.fd);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Yv.Tv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.$O=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof $f?n.fd:new Pf({Bu:null,Tv:n.Tv,_v:0,kv:""}),t.next=3,this.XO(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Cf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new $f(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.XO=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.WO.slice();case 2:if(!(e<u.length)){t.next=23;break}return o=u[e],Pe(i),t.next=7,C.resolve(r.Rc().Bu(i));case 7:if(s=t.sent,(c=new Pb(r,o,s)).IO){t.next=19;break}return t.prev=10,t.next=13,c.CO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=c.fd||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.BO=function(t){this.jO.unshift(t)},n.UO=function(t){this.jO.push(t)},n.VO=function(t){Re(this.jO,t)},n.qO=function(t){this.WO.unshift(t)},n.HO=function(t){Re(this.WO,t)},n.sr=function(){this.Yv.sr(),Ce(this.jO),Ce(this.WO)},t}(),Ub=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).vl=void 0,e.GO=function(t){e.Ys(t)},e.YO=function(t){e.Ys(t)},e.KO=n,e.zT=i,e.$A=r,e.KO.Ks(ts.mf,e.GO),e.KO.Ks(ts.pf,e.YO),e}$(n,t);var i=n.prototype;return i.JO=function(t){this.$A.JO(t)},i.BO=function(t){this.zT.BO(t)},i.VO=function(t){this.zT.VO(t)},i.qO=function(t){this.zT.qO(t)},i.HO=function(t){this.zT.HO(t)},i.sr=function(){this.Zs(),this.KO.tc(ts.mf,this.GO),this.KO.tc(ts.pf,this.YO)},W(n,[{key:"dl",get:function(){var t;return this.vl||(this.vl=(t=this,{get online(){return t.og},get estimator(){return n=t.QO,{get bandwidth(){return n.eR},get roundTripTime(){return n.uR}};var n},setEstimator:function(n){t.JO(function(t){if(t)return{get eR(){return zv(t.bandwidth)},get uR(){return zv(t.roundTripTime)},rR:function(n){return function(t){if(t)return{ZO:function(n){t.markRequestStart(n)},tx:function(n){t.markResponseStart(n)},nx:function(n,i){t.markResponseData(n,i)},ix:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(Tb(n)))}}}(n))},addRequestInterceptor:function(n){t.BO(n)},removeRequestInterceptor:function(n){t.VO(n)},addResponseInterceptor:function(n){t.qO(n)},removeResponseInterceptor:function(n){t.HO(n)},addEventListener:function(n,i){t.Ks(n,i)},removeEventListener:function(n,i){t.tc(n,i)}})),this.vl}},{key:"og",get:function(){return this.KO.og}},{key:"QO",get:function(){return this.$A.QO}}]),n}(Xe);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Fb||(Fb={}));var Vb=30,qb={type:Fb.BANDWIDTH},Hb=20,jb=60;function Wb(t){var n,i,r,e=Uv(qb);return ft(t)?e.type=zb(t):ct(t)&&function(t){switch(t){case Fb.PERFORMANCE:case Fb.QUALITY:case Fb.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=zb(t.type)),ct(t)&&ct(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Wv(n.bitrate),_(r)||(i.bitrate=r),i)),e}function zb(t){switch(t){case"bandwidth":return Fb.BANDWIDTH;case"performance":return Fb.PERFORMANCE;case"quality":return Fb.QUALITY}}var $b=function(t){function n(n){var i;return(i=t.call(this,"ux")||this).ex=n,i}return $(n,t),n}(Ye),Xb=function(t){function n(n){var i;return(i=t.call(this,"sx")||this).ox=n,i}return $(n,t),n}(Ye),Gb=function(t){function n(n){var i;return(i=t.call(this,"hx")||this).ax=n,i}return $(n,t),n}(Ye),Yb=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];return(n=t.call.apply(t,[this].concat(e))||this).vl=(i=un(n),{get strategy(){return{metadata:(t=i.ox).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.ox=Wb(t)},get targetBuffer(){return i.ex},set targetBuffer(t){var n=Wv(t);_(n)||(i.ex=n>jb?jb:n)},get bufferLookbackWindow(){return i.ax},set bufferLookbackWindow(t){var n=Wv(t);_(n)||(i.ax=n<=0?Vb:n)}}),n.vx=qb,n.lx=Hb,n.wx=Vb,n.yx=void 0,n.gx=void 0,n}$(n,t);var i=n.prototype;return i._x=function(t){this.gx=t},i.JO=function(t){this.yx=t},W(n,[{key:"mx",get:function(){switch(this.vx.type){case Fb.PERFORMANCE:return 0;case Fb.QUALITY:return 1/0;case Fb.BANDWIDTH:return this.vx.metadata&&void 0!==this.vx.metadata.bitrate?this.vx.metadata.bitrate:8*dd.Aw();default:return 8*dd.Aw()}}},{key:"dl",get:function(){return this.vl}},{key:"ox",get:function(){return this.vx},set:function(t){this.vx=t,this.Ys(new Xb(t))}},{key:"ex",get:function(){return this.lx},set:function(t){this.lx=t,this.Ys(new $b(t))}},{key:"ax",get:function(){return this.wx},set:function(t){this.wx=t,this.Ys(new Gb(t))}},{key:"QO",get:function(){var t;return null!=(t=this.yx)?t:this.gx.yI}}]),n}(Xe),Kb=function(t){function n(){return t.call(this,"Il")||this}return $(n,t),n.prototype.ll=function(){return new Jb},n}(Ev),Jb=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ye),Qb=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).kx=void 0,r.bx=function(t){var n;n=t,Boolean(n&&n.dl)&&Ve(function(){r.Ys(t.dl)})},r.kx=n,r.kx.Qs(r.bx),r}return $(n,t),n.prototype.sr=function(){this.Zs(),this.kx.rc(this.bx)},n}(ad),Zb=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n}(Qb);var tT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Pg=0,n.Lg=1/0,n.vl=void 0,n}$(n,t);var i=n.prototype;return i.Hl=function(){0===this.Pg&&this.Lg===1/0||(this.Pg=0,this.Lg=1/0,this.Ys(new Kb))},i.Tx=function(){return new um([this.Ng,this.Og],[!0,!0])},W(n,[{key:"Ng",get:function(){return this.Pg},set:function(t){if(this.Og<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Pg!==t&&(this.Pg=t,this.Ys(new Kb))}},{key:"Og",get:function(){return this.Lg},set:function(t){if(t<=this.Ng)throw new v("End time of a clip should be larger than the start time.");this.Lg!==t&&(this.Lg=t,this.Ys(new Kb))}},{key:"dl",get:function(){var t,n,i;return this.vl||(this.vl=(i={get startTime(){return t.Ng},set startTime(n){t.Ng=n},get endTime(){return t.Og},set endTime(n){t.Og=n},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.tc(t,i)}},n=new Qb(t=this,i),i)),this.vl}}]),n}(ad),nT=function(t){function n(n){var i;return(i=t.call(this)||this).Ex=function(t){i.Sx(t)||i.Ys(t)},i.Rx=n,i.Rx.Qs(i.Ex),i}$(n,t);var i=n.prototype;return i.Ix=function(){return this.Rx.Ay},i.Wy=function(){return this.Rx.Wy()},i.Ax=function(){return this.Rx.Ky},i.Cx=function(){return this.Rx.Gy},i.Dx=function(){return this.Rx.Jy},i.Nx=function(t){this.Rx.Jy=t},i.Ox=function(){return this.Rx.Yw},i.xx=function(t){this.Rx.Yw=t},i.Px=function(){return this.Rx.Kw},i.Lx=function(){return this.Rx.Qy},i.Fx=function(){return this.Rx.Jw},i.Mx=function(){return this.Rx.fc},i.Bx=function(){return this.Rx.Qw},i.Ux=function(){return this.Rx.Zy},i.Vx=function(){return this.Rx.Zw},i.qx=function(t){this.Rx.Zw=t},i.Hx=function(){return this.Rx.og},i.jx=function(){return this.Rx.ty},i.Wx=function(){return this.Rx.ny},i.zx=function(t){this.Rx.ny=t},i.$x=function(){return this.Rx.sg},i.Xx=function(){return this.Rx.cg},i.Gx=function(t){this.Rx.cg=t},i.Yx=function(){return this.Rx.dw},i.Kx=function(){return this.Rx.ag},i.Jx=function(){return this.Rx.iy},i.xy=function(){return this.Rx.xy()},i.Py=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Pe(i),t.next=3,this.Rx.Py(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Qx=function(){return this.Rx.Dy},i.Zx=function(){return this.Rx.ey},i.tP=function(){return this.Rx.Cy},i.nP=function(){return this.Rx.uy},i.iP=function(){return this.Rx.oy},i.rP=function(t){this.Rx.oy=t},i.jy=function(){return this.Rx.jy()},i.Hy=function(){return this.Rx.Hy()},i.By=function(t){this.Rx.By(t)},i.Uy=function(){this.Rx.Uy()},i.qy=function(){this.Rx.qy()},i.hr=function(){this.Rx.hr()},i.nr=function(){this.Rx.nr()},i.tr=function(){this.Rx.tr()},i.Vy=function(){this.Rx.Vy()},i.Oy=function(){return this.Rx.Oy()},i.Ly=function(){return this.Rx.Ly()},i.Fy=function(){this.Rx.Fy()},i.My=function(){this.Rx.My()},i.Hl=function(){return this.Rx.Hl()},i.sr=function(){return this.Rx.sr()},i.Yy=function(){this.Rx.Yy()},i.zy=function(t){return this.Rx.zy(t)},i.Sx=function(t){return!1},W(n,[{key:"Ay",get:function(){return this.Ix()}},{key:"Ky",get:function(){return this.Ax()}},{key:"Jy",get:function(){return this.Dx()},set:function(t){this.Nx(t)}},{key:"Gy",get:function(){return this.Cx()}},{key:"Yw",get:function(){return this.Ox()},set:function(t){this.xx(t)}},{key:"Kw",get:function(){return this.Px()}},{key:"Qy",get:function(){return this.Lx()}},{key:"Jw",get:function(){return this.Fx()}},{key:"fc",get:function(){return this.Mx()}},{key:"Qw",get:function(){return this.Bx()}},{key:"Ny",get:function(){return this.Rx.Ny}},{key:"Zy",get:function(){return this.Ux()}},{key:"yy",get:function(){return this.Rx.yy}},{key:"Zw",get:function(){return this.Vx()},set:function(t){this.qx(t)}},{key:"og",get:function(){return this.Hx()}},{key:"ty",get:function(){return this.jx()}},{key:"ny",get:function(){return this.Wx()},set:function(t){this.zx(t)}},{key:"sg",get:function(){return this.$x()}},{key:"cg",get:function(){return this.Xx()},set:function(t){this.Gx(t)}},{key:"dw",get:function(){return this.Yx()}},{key:"ag",get:function(){return this.Kx()}},{key:"iy",get:function(){return this.Jx()}},{key:"Dy",get:function(){return this.Qx()}},{key:"ey",get:function(){return this.Zx()}},{key:"Cy",get:function(){return this.tP()}},{key:"uy",get:function(){return this.nP()}},{key:"oy",get:function(){return this.iP()},set:function(t){this.rP(t)}},{key:"fg",get:function(){return this.Rx.fg},set:function(t){this.Rx.fg=t}}]),n}(fd),iT=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).eP=void 0,e.uP=!1,e.oP=void 0,e.sP=!1,e.cP=function(){e.aP(),e.fP()},e.OR=function(){e.hP(),e.fP(),e.vP&&e.Yw>=e.eP.Og-n.dP&&!e.Jw&&(e.oP=fb(e.OR))},e.lP=function(){e.sP=!0},e.wP=function(){e.sP&&(e.sP=!1,e.fP())},e.eP=r,e.eP.Ks("Il",e.cP),e.Rx.Ks("timeupdate",e.OR),e}$(n,t);var i=n.prototype;return i.xx=function(n){var i=this.eP.Tx().uA(n);t.prototype.xx.call(this,i),this.fP()},i.Fx=function(){return t.prototype.Fx.call(this)||this.uP},i.Kx=function(){return um.CA(t.prototype.Kx.call(this)).cA(this.eP.Tx()).vI()},i.tr=function(){this.Fx()?this.xx(this.yP.start(0)):this.aP(),t.prototype.tr.call(this),this.fP()},i.Py=function(){var n=C.coroutine(Hr.mark(function n(i,r){return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Pe(r),this.uP=!1,this.eP.Hl(),n.next=5,t.prototype.Py.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.sr=function(){return this.eP.tc("Il",this.cP),this.Rx.tc("timeupdate",this.OR),this.hP(),t.prototype.sr.call(this)},i.Sx=function(n){switch(n.type){case"seeking":return this.Ys(n),this.lP(),!0;case"seeked":case"emptied":return this.Ys(n),this.wP(),!0;case"ended":if(this.vP)return!0}return t.prototype.Sx.call(this,n)},i.hP=function(){this.oP&&(hb(this.oP),this.oP=void 0)},i.fP=function(){var t=this.Yw,i=this.vP&&t>=this.eP.Og-n.vp;this.uP&&!i?(this.uP=!1,this.ty&&this.tr()):this.uP||!i||this.iy||this.sP||(this.uP=!0,this.Ys(new zd(t)),this.nr())},i.aP=function(){if(this.Kw!==1/0){var t=this.yP,i=um.CA(t).uA(this.Yw);Qt(this.Yw,i,n.vp)||this.xx(i)}},W(n,[{key:"yP",get:function(){return this.Kx().length?this.Kx():this.eP.Tx().vI()}},{key:"vP",get:function(){return this.eP.Og<this.Kw}}]),n}(nT);iT.dP=1,iT.vp=.001;var rT=function(){function t(){this.gP=void 0,this.gP=!1}return W(t,[{key:"_P",get:function(){return this.gP},set:function(t){this.gP=t}}]),t}(),eT=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).gP=void 0,r.pP=!1,r.mP=!1,r.gP=i,r}$(n,t);var i=n.prototype;return i.Fx=function(){return!this.gP._P&&t.prototype.Fx.call(this)},i.nr=function(){this.mP=!0,t.prototype.nr.call(this)},i.tr=function(){this.mP=!1,t.prototype.tr.call(this)},i.Sx=function(n){if(this.gP._P)switch(n.type){case"ended":return this.Yw=0,this.mP||(this.iy?this.pP=!0:this.tr()),!0;case"seeked":this.pP&&(this.pP=!1,this.tr());break;case"pause":if(this.pP||t.prototype.Fx.call(this))return!0}return t.prototype.Sx.call(this,n)},n}(nT);var uT=function(){function t(t){var n;this.vl=(n=this,{get currentBandwidthEstimate(){return n.rg},get corruptedVideoFrames(){return n.ng},get droppedVideoFrames(){return n.tg},get totalBytesLoaded(){return n.eg},get bufferedSegments(){return n.ug}}),this.UI=t}return W(t,[{key:"dl",get:function(){return this.vl}},{key:"ng",get:function(){return this.UI.kP.yy.ng}},{key:"rg",get:function(){return this.UI.kP.yy.rg}},{key:"tg",get:function(){return this.UI.kP.yy.tg}},{key:"bP",get:function(){throw new v("Not implemented")}},{key:"TP",get:function(){throw new v("Not implemented")}},{key:"eg",get:function(){return this.UI.kP.yy.eg}},{key:"ig",get:function(){return this.UI.kP.yy.ig}},{key:"ug",get:function(){return this.UI.kP.yy.ug}}]),t}(),oT=function(t){function n(){return t.call(this,"EP")||this}return $(n,t),n.prototype.ll=function(){return new sT},n}(Ev),sT=function(t){function n(){return t.call(this,"castingchange")||this}return $(n,t),n}(Ye);var cT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).SP=[],n.vl=void 0,n.RP=function(){return n.Ys(new oT)},n}$(n,t);var i=n.prototype;return i.IP=function(t){this.SP.push(t),t.Ks("statechange",this.RP)},i.sr=function(){var t=this;this.SP.forEach(function(n){n.tc("statechange",t.RP)}),Ce(this.SP)},W(n,[{key:"AP",get:function(){return this.SP.some(function(t){return t.AP})}},{key:"dl",get:function(){var t,n,i;return this.vl||(this.vl=(i={get casting(){return t.AP},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.tc(t,i)}},n=new Zb(t=this,i),i)),this.vl}}]),n}(fd),aT=function(){function t(){}return t.CP=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Lf({Sv:n,mv:ns.au,Hv:Df.GET}),t.next=4,i.Tv(r);case 4:return e=t.sent,t.next=7,e.Bu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),xe(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.DP=function(t){try{var i=bk(t);return new Ak(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Po(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.NP=function(t){void 0===t&&(t=Hk.Vp),N.Do("The baked-in license is used. Please update the configuration with your license.");var n=t.yD(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.yD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.yD(n)}),e=Number(new Date(Number(t.yD("COD|aHpHa:p3Ceo3Co\"\""))));return new Ak(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Ak(t.ED,t.SD,t.RD,864e13,t.DD,Date.now(),t.OD,t.xD)},t}(),fT=function(){function t(){}return t.nf=function(){return t.eu||(t.eu=hT.la()?new hT:new Yo),t.eu},t.kc=function(n){t.nf().kc(n)},t.Za=function(){t.nf().Za()},t._c=function(n){return t.nf()._c(n)},t.tf=function(n,i){t.nf().tf(n,i)},t.OP=function(n){var i=t._c(n);if(void 0!==i)return g(i)},t.xP=function(n){return"true"===t._c(n)},t}();fT.eu=void 0;var hT=function(n){function i(){return n.apply(this,arguments)||this}$(i,n),i.la=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.kc=function(n){t.localStorage.removeItem(n)},r.Za=function(){t.localStorage.clear()},r._c=function(n){return t.localStorage[n]},r.tf=function(n,i){t.localStorage[n]=i},i}(fT),vT=w.floor(14399999*w.random()-72e5),dT=function(){function t(t,n,i,r,e,u){this.FD=void 0,this.zT=t,this.PP=n,this.LP=i,this.pN=r,this.FP=e,this.UD=u,this.FD=Lk(u)}var i=t.prototype;return i.MP=function(){var t=C.coroutine(Hr.mark(function t(){var n;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.BP(this.FP.license,this.FP.licenseUrl);case 2:n=t.sent,this.pN.UP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.BP=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u,o,s,c,a,f,h,v;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=aT.DP(i):e||(u=aT.NP()),e||(e="https://validate.theoplayer.com/1/"+u.ED),o=this.VP(),!u){t.next=14;break}if((s=this.PP.jD(u))!==Ek.kD){t.next=14;break}if(!this.qP(u.CD)||!this.qP(null==o?void 0:o.CD)){t.next=13;break}return t.next=10,this.HP(e);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.PP.jD(o)!==Ek.kD){t.next=24;break}if(!this.qP(null==o?void 0:o.CD)){t.next=23;break}return t.next=20,this.HP(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",o);case 24:fT.kc("THEOplayer.license");case 25:return t.next=27,aT.CP(e,this.zT);case 27:if(!(f=t.sent)){t.next=37;break}if(h=aT.DP(f),this.PP.jD(h)!==Ek.kD){t.next=34;break}return fT.tf("THEOplayer.license",f),t.abrupt("return",h);case 34:fT.kc("THEOplayer.license"),t.next=39;break;case 37:if(this.FD||!u||s!==Ek.bD||e!=="https://validate.theoplayer.com/1/"+u.ED){t.next=39;break}return t.abrupt("return",aT.convertLicenseToDummyLicense(u));case 39:if(!u&&!h){t.next=43;break}this.jP(null!=(v=u)?v:h,new Po(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Po(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.VD=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pN.SN();case 2:if(i=t.sent,!this.qP(i.CD)){t.next=9;break}return e=null!=(r=this.FP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.ED,t.next=7,this.HP(e);case 7:(u=t.sent)&&(this.pN.UP(u),i=u);case 9:if(t.prev=9,(o=this.PP.jD(i))!==Ek.TD){t.next=16;break}throw s=Ik.PD,new Po(Dk(s),Mk.HD(s));case 16:if(o!==Ek.bD){t.next=19;break}throw c=Ik.bD,new Po(Dk(c),Mk.HD(c));case 19:this.PP.VD(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.WP(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.HP=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,aT.CP(n,this.zT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=aT.DP(i),this.PP.jD(r)!==Ek.kD){t.next=11;break}return fT.tf("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.qP=function(t){return!t||Number(new Date)+2592e5+vT>=t},i.VP=function(){var t=fT._c("THEOplayer.license");if(t)return aT.DP(t)},i.jP=function(t,n){this.pN.UP(t),this.WP(n)},i.WP=function(t){throw bt(t.message),this.LP.AN(t.message),t},t}(),lT=function(){function t(){this.zP=void 0,this.$P=new eo}var n=t.prototype;return n.UP=function(t){this.zP=t,this.$P.Oc()},n.SN=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.zP){t.next=2;break}return t.abrupt("return",C.resolve(this.zP));case 2:return t.next=4,this.$P.Nc;case 4:return t.abrupt("return",this.zP);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"XP",get:function(){return this.zP}}]),t}(),wT=function(t){function n(){return t.call(this,"Il")||this}return $(n,t),n.prototype.ll=function(){return new yT},n}(Ev),yT=function(t){function n(){return t.call(this,"change")||this}return $(n,t),n}(Ye);function gT(t){var n,i={get fontFamily(){return t.GP},set fontFamily(n){t.GP=n},get fontColor(){return t.YP},set fontColor(n){t.YP=n},get fontSize(){return t.KP},set fontSize(n){t.KP=n},get backgroundColor(){return t.JP},set backgroundColor(n){t.JP=n},get windowColor(){return t.QP},set windowColor(n){t.QP=n},get edgeStyle(){return t.ZP},set edgeStyle(n){t.ZP=n},addEventListener:function(t,i){var r=Xv(t,$v);n.Ks(r,i)},removeEventListener:function(t,i){var r=Xv(t,$v);n.tc(r,i)}};return n=new Ge(i),t.Ks(["Il"],function(t){return n.Ys(t.dl)}),i}var _T,pT,mT={GP:void 0,YP:void 0,KP:void 0,JP:void 0,QP:void 0,ZP:void 0,tL:void 0},kT="THEOplayer.textTrackStyle.",bT=function(t){function n(){var i;return(i=t.call(this)||this).nL=void 0,i.vl=void 0,i.nL=n.iL(),i}return $(n,t),n.prototype.Kc=function(t){this.nL=jr({},this.nL,t),n.rL(this.nL),this.Ys(new wT)},n.iL=function(){var t=jr({},mT);return t.GP=fT._c(kT+"fontFamily")||t.GP,t.YP=fT._c(kT+"fontColor")||t.YP,t.KP=fT._c(kT+"fontSize")||t.KP,t.JP=fT._c(kT+"backgroundColor")||t.JP,t.QP=fT._c(kT+"windowColor")||t.QP,t.ZP=fT._c(kT+"edgeStyle")||t.ZP,t},n.rL=function(t){fT.tf(kT+"fontFamily",t.GP||""),fT.tf(kT+"fontColor",t.YP||""),fT.tf(kT+"fontSize",t.KP||""),fT.tf(kT+"backgroundColor",t.JP||""),fT.tf(kT+"windowColor",t.QP||""),fT.tf(kT+"edgeStyle",t.ZP||"")},W(n,[{key:"eL",get:function(){return this.nL}},{key:"GP",get:function(){return this.nL.GP},set:function(t){this.Kc({GP:t})}},{key:"YP",get:function(){return this.nL.YP},set:function(t){this.Kc({YP:t})}},{key:"KP",get:function(){return this.nL.KP},set:function(t){this.Kc({KP:t})}},{key:"JP",get:function(){return this.nL.JP},set:function(t){this.Kc({JP:t})}},{key:"QP",get:function(){return this.nL.QP},set:function(t){this.Kc({QP:t})}},{key:"ZP",get:function(){return this.nL.ZP},set:function(t){this.Kc({ZP:t})}},{key:"tL",get:function(){return this.nL.tL}},{key:"dl",get:function(){return this.vl||(this.vl=gT(this)),this.vl}}]),n}(Xe),TT=function(t){function n(n,i){var r;(r=t.call(this)||this).uL=void 0,r.ea=void 0,r.kP=void 0,r.oL=void 0,r.sl=void 0,r.eP=void 0,r.gP=void 0,r.sL=void 0,r.cL=void 0,r.$A=void 0,r.PP=void 0,r.aL=void 0,r.fL=void 0,r.zA=void 0,r.hL=!1,r.ky=!1,r.gg=void 0,r.vL=!1,r.dL=void 0,r.lL=void 0,r.wL=void 0,r.yL=void 0,r.gL=void 0,r._L=function(t){if(!r.vL){r.vL=!0;var n=r.uL,i=kl(t);r.kP.Kl=new hm(r.Qy,i,t),qe(n.sr())}},r.pL=function(t){r.Ys(t.dl)},r.mL=function(t){t.type!==ts.mf&&t.type!==ts.pf&&r.Ys(t)};var e=Wv(i.uid);_(e)?r.gg=Cl++:r.gg=e,r.ea=i;var u=N.sl,o=new lT;r.oL=new Zk("3.0.0",u,o),r.sl=new Mb(u,i.allowMixedContent),r.$A=new Yb,r.PP=new Ck(i.isEmbeddable,"3.0.0",Tk()),r.gL=new dT(u,r.PP,r.oL,o,i,Tk()),r.gL.MP().catch(r._L),r.aL=new pb(n),r.aL.Ks("FN",r.pL),r.zA=new bT,r.eP=new tT,r.gP=new rT;var s=new fm(n,i,r.sl,r.$A,r.aL,r.zA);r.$A._x(s);var c=s;c=new iT(c,r.kL),c=new eT(c,r._P),r.uL=c,r.kP=new gl(r.uL),r.kP.Qs(r.mL),r.yL=new uT(un(r)),r.lL=new Ub(r.kP,r.sl,r.$A),r.sL=new ib(un(r)),r.fL=new bb(r.kP,i.allowNativeFullscreen),r.cL=new Dm(r.fL),r.aL.sa();var a=new T(r.aL,r.zA,1,[bl.Vv]);return r.dL=new E(a),r.wL=new cT,r}$(n,t);var i=n.prototype;return i.qx=function(t){this.kP.Zw=t,t||this.ty||this.hr()},i.rP=function(t){this.kP.oy=t},i.bL=function(){rl(this,Nm,this)},i.tr=function(){this.kP.tr()},i.nr=function(){this.kP.nr()},i.Py=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.gL.VD(n).catch(this._L),r=ET(n),t.next=5,this.kP.Py(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hr=function(){this.ky||(this.kP.hr(),this.dL.hr(),this.ky=!0)},i.PA=function(){return this.cL.wC()===Sm.FULLSCREEN},i.Vy=function(){this.kP.Vy()},i.qy=function(){this.kP.qy()},i.Hy=function(){return this.kP.Hy()},i.Hl=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.kP.Oy();case 2:return t.next=4,this.kP.Hl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sr=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zs(),this.wL.sr(),this.sl.sr(),this.lL.sr(),this.fL.sr(),this.cL.sr(),this.aL.sr(),this.oL.sr(),this.dL.sr(),t.next=11,this.kP.sr();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"TL",get:function(){return this.$A}},{key:"Ry",get:function(){return this.hL},set:function(t){this.hL=t,this.kP.Ry=t}},{key:"EL",get:function(){return this.dL}},{key:"Ay",get:function(){return this.kP.Ay}},{key:"SL",get:function(){return this.wL}},{key:"RL",get:function(){return this.aL}},{key:"Ny",get:function(){return this.kP.Ny}},{key:"yy",get:function(){return this.yL}},{key:"IL",get:function(){return this.lL}},{key:"Dy",get:function(){return this.kP.Dy}},{key:"AL",get:function(){return this.zA}},{key:"Cy",get:function(){return this.kP.Cy}},{key:"Ky",get:function(){return this.kP.Ky}},{key:"kL",get:function(){return this.eP}},{key:"_P",get:function(){return this.gP}},{key:"Yw",get:function(){return this.kP.Yw},set:function(t){this.kP.Yw=t}},{key:"Jy",get:function(){return this.kP.Jy},set:function(t){this.kP.Jy=t}},{key:"Gy",get:function(){return this.kP.Gy}},{key:"Kw",get:function(){return this.kP.Kw}},{key:"Qy",get:function(){return this.kP.Qy}},{key:"Jw",get:function(){return this.kP.Jw}},{key:"fc",get:function(){return this.kP.fc}},{key:"Qw",get:function(){return this.kP.Qw}},{key:"Zw",get:function(){return this.kP.Zw},set:function(t){var n=Boolean(t);this.qx(n)}},{key:"ty",get:function(){return this.kP.ty}},{key:"ny",get:function(){return this.kP.ny},set:function(t){this.kP.ny=t}},{key:"sg",get:function(){return this.kP.sg}},{key:"cg",get:function(){return this.kP.cg},set:function(t){this.kP.cg=Zp(t)}},{key:"dw",get:function(){return this.kP.dw}},{key:"ag",get:function(){return this.kP.ag}},{key:"iy",get:function(){return this.kP.iy}},{key:"nw",get:function(){return this.gg}},{key:"ey",get:function(){return this.kP.ey}},{key:"uy",get:function(){return this.kP.uy}},{key:"oy",get:function(){return this.kP.oy},set:function(t){var n=Jt(Number(t),0,1)||0;this.rP(n)}}]),n}(fd);function ET(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.CL=0]="CL",t[t.DL=1]="DL"}(_T||(_T={})),function(t){t[t.NL=0]="NL"}(pT||(pT={}));var ST={};function RT(t,n){var i=t;if(ST[n])for(var r=0,e=ST[n];r<e.length;r++){i=(0,e[r])(i)}return i}var IT=[];function AT(t){IT.push(t)}var CT=t.CustomEvent;var DT=function(){try{var t=new CT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},NT=function(){function t(t,n){var i=this;this.UI=void 0,this.OL=void 0,this.xL=!1,this.PL=function(t){i.OL.IN(t.error,i.Yw)},this.LL=function(){i.OL.EN(i.FL),i.UI.removeEventListener("playing",i.LL),i.xL=!1},this.ML=function(){i.xL||(i.UI.addEventListener("playing",i.LL),i.xL=!0)},this.OL=n,this.UI=t,this.UI.addEventListener("error",this.PL),this.UI.addEventListener("sourcechange",this.ML),this.ML()}return t.prototype.Hl=function(){},W(t,[{key:"Yw",get:function(){var t=this.UI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"FL",get:function(){return this.UI.src||""}}]),t}();AT(function(t){new NT(t.dl,t.oL)});var OT,xT,PT="theoplayer-stored-volume",LT="theoplayer-stored-mutedstate";OT=function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=fT.OP(PT);(void 0===e||_(e))&&(e=1);var u=fT.xP(LT)||!1;r.oy=e,r.Zw=u}return r}$(n,t);var i=n.prototype;return i.qx=function(n){this.ea.persistVolume&&fT.tf(LT,""+Boolean(n)),t.prototype.qx.call(this,n)},i.rP=function(n){this.ea.persistVolume&&fT.tf(PT,""+Number(n)),t.prototype.rP.call(this,n)},n}(t)},xT=_T.DL,(ST[xT]||(ST[xT]=[])).push(OT);var FT=new(function(){function t(){this.BL=[],this.vl=void 0}var n=t.prototype;return n.Bl=function(t){return this.BL[t]},n.UL=function(t){this.BL.push(t),this.dl.push(t.dl)},n.Yc=function(t){var n=this.BL.indexOf(t);n<0||(Ie(this.BL,n),this.vl&&Ie(this.vl,n))},n.VL=function(t){for(var n=0,i=this.BL;n<i.length;n++){var r=i[n];if(r.nw===t)return r}},W(t,[{key:"Wl",get:function(){return this.BL.length}},{key:"dl",get:function(){return this.vl||(this.vl=function(t){for(var n=[],i=0;i<t.Wl;i++)n[i]=t.Bl(i).dl;return n.getPlayerByUID=function(n){var i=t.VL(n);return i&&i.dl},n}(this)),this.vl}}]),t}()),MT=function(){function t(t){var n=this;this.qL=[],this.HL=void 0,this.Hd=new Ne,this.jL=void 0,this.kn=function(){return 0===n.qL.length?n.jL?BT(n.jL,n.Hd.Ws).then(n.WL,n.WL):n.WL():n.qL.shift()().then(n.kn)},this.WL=function(){if(0!==n.qL.length)return n.kn();n.HL=void 0},this.jL=t}var n=t.prototype;return n.zL=function(t,n){var i=this;return new C(function(r){var e=new Ne;e.Hs(i.Hd.Ws),n&&e.Hs(n);var u=function(){e.Ls()};i.qL.push(function(){var n=BT(t,e.Ws);return r(n),n.then(u,u)}),i.HL||(i.HL=i.kn())})},n.qs=function(){return this.$L(!0)},n.sr=function(){return this.jL=void 0,this.$L(!1)},n.$L=function(t){var n=this.HL;return this.Hd.qs(),t&&(this.Hd=new Ne),C.resolve(n)},t}();function BT(t,n){return new C(function(i){return i(t(n))})}var UT,VT=function(t){function n(n){var i;return(i=t.call(this,ts.Pf)||this).source=n,i}return $(n,t),n}(Ye),qT=function(t){function n(){var n;return(n=t.call(this)||this).MA=void 0,n.UA=void 0,n.qA=void 0,n.VA=void 0,n.MA=0,n.UA=!0,n.qA=!1,n.VA=1,n}$(n,t);var i=n.prototype;return i.tr=function(){this.UA&&(this.UA=!1,this.Ys(new Md(this.Yw)),this.Ys(new ug(this.Yw)))},i.nr=function(){this.UA||(this.UA=!0,this.Ys(new Wd(this.Yw,this.Jy)),this.Ys(new Fd(this.Yw)))},i.Hl=function(){this.MA=0,this.qA=!1,this.VA=1,this.nr(),this.Ys(new Ld(this.MA))},i.sr=function(){this.Zs()},i.qy=function(){},i.Vy=function(){},W(n,[{key:"Jy",get:function(){},set:function(t){}},{key:"Yw",get:function(){return this.MA},set:function(t){this.qA&&this.MA===t||(this.MA=t,this.qA=!0,this.Ys(new Xd(this.Yw)))}},{key:"ty",get:function(){return this.UA}},{key:"ny",get:function(){return this.VA},set:function(t){this.VA!==t&&(this.VA=t,this.Ys(new jd(this.Yw,this.ny)))}},{key:"dw",get:function(){return pd.Bw}},{key:"iy",get:function(){return this.qA}}]),n}(ad),HT=function(t){function n(){return t.call(this,ts.ff)||this}return $(n,t),n}(Ye),jT={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},WT={visibility:"hidden"},zT={visibility:"visible"},$T=function(){function t(t){var n,i=this;this.xI=void 0,this.UI=void 0,this.XL=!1,this.GL=void 0,this.YL=void 0,this.KL=function(t){var n;i.XL=!1,i.GL=null==(n=t.source)?void 0:n.poster,i.Kc()},this.hE=function(){i.XL=!0,i.qy()},this.UI=t,this.jI(),this.xI=((n=R&&R.document&&R.document.createElement("div")).className="theoplayer-poster",kr(jT,n),n),t.Qy.appendChild(this.xI)}var n=t.prototype;return n.Kc=function(){var t=this.UI.ty,n=this.XL;this.Sv?this.xI.style.backgroundImage='url("'+this.Sv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.xI.style.backgroundImage="",t&&this.Sv&&!n?this.Vy():this.qy()},n.Vy=function(){kr(WT,this.UI.Qy),kr(zT,this.xI)},n.qy=function(){kr(WT,this.xI),kr(zT,this.UI.Qy)},n.jI=function(){this.UI.Ks("sourcechange",this.KL),this.UI.Ks("play",this.hE)},n.sr=function(){this.UI.tc("sourcechange",this.KL),this.UI.tc("play",this.hE),mr(this.xI)},W(t,[{key:"Sv",get:function(){return void 0!==this.GL?this.GL:void 0!==this.YL?this.YL:void 0}},{key:"JL",set:function(t){this.YL=t,this.Kc()}}]),t}();function XT(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).UI=void 0,e.QL=void 0,e.ZL=void 0,e.tF=void 0,e.nF=void 0,e.iF=void 0,e.rF=void 0,e.eF=void 0,e.HI=void 0,e.qI=void 0,e.vl=void 0,e.uF=function(t){t.type!==ts.Ef&&e.eF.push(t)},e.QL=new t(i,r),e.ZL=new qT,e.UI=e.QL,e.tF=new $T(un(e)),e.iF=new MT,e.rF=!1,e.eF=[],e.HI=!0,e.qI=void 0,e.jI(),e}$(i,n);var r=i.prototype;return r.zL=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.iF.zL(n,i).catch(Fe));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.oF=function(){var t=C.coroutine(Hr.mark(function t(n,i){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Pe(i),this.QL.Qs(this.uF),t.next=4,this.QL.Py(n,i);case 4:this.QL.rc(this.uF);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.sF=function(){var t=C.coroutine(Hr.mark(function t(){var n,i,r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.xy())&&!nk(n)&&this.Ry&&this.ty){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.ea.mutedAutoplay,t.next=6,this.EL.ar();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.cF(),t.abrupt("break",14);case 12:return(this.Zw||i===Bd.ALL)&&(this.Zw=!0,this.tr()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Py=function(t){var n=this,i=this.qI;i&&!nk(i)&&this.Ys(new Ld(0,0)),this.Hl(),this.qI=t,qe(this.zL(function(){var i=C.coroutine(Hr.mark(function i(r){return Hr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Pe(r),i.prev=1,i.next=4,n.oF(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.qI=void 0,i.t0;case 10:return i.next=12,n.aF();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.aF=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fF(this.QL),this.Ys(new VT(this.xy())),t.next=4,this.sF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.xx=function(t){this.UI.Yw=t},r.Mx=function(){return this.QL.fc},r.Bx=function(){return this.QL.Qw},r.tr=function(){this.UI.tr()},r.cF=function(){this.Zw||this.hr(),this.tr()},r.hr=function(){this.QL.hr()},r.nr=function(){this.UI.nr()},r.Oy=function(){this.Py(void 0)},r.Vy=function(){this.HI=!0,this.UI.Vy()},r.qy=function(){this.HI=!1,this.UI.qy()},r.bL=function(){this.QL.bL()},r.rP=function(t){this.QL.rP(t)},r.qx=function(t){this.QL.qx(t)},r.hF=function(t){this.nF=t,t.UL(this)},r.PA=function(){return this.QL.PA()},r.xy=function(){return this.qI},r.Hy=function(){return this.QL.Hy()},r.Ox=function(){return this.QL.Yw},r.Px=function(){return this.QL.Kw},r.Ax=function(){return this.QL.Ky},r.$x=function(){return this.QL.sg},r.Kx=function(){return this.QL.ag},r.Hl=function(){var t=this;this.qI=void 0,Ce(this.eF),this.ZL.Hl(),this.fF(this.ZL),this.iF.qs(),qe(this.iF.zL(function(){var n=C.coroutine(Hr.mark(function n(i){return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Pe(i),n.next=3,t.QL.Hl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.sr=function(){var t=this;this.Ys(new HT),this.tF.sr(),this.WI(),this.Hl(),qe(this.zL(C.coroutine(Hr.mark(function n(){return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.QL.sr();case 2:t.nF&&(t.nF.Yc(t),t.nF=void 0),t.iF.sr();case 4:case"end":return n.stop()}},n)})))),this.Zs()},r.fF=function(t){if(this.UI!==t){var n=this.UI.ty,i=this.UI.Yw,r=this.UI.ny,e=this.UI.iy;this.WI(),t===this.QL?((e||t.Yw!==i)&&(t.Yw=i),t.ny!==r&&(t.ny=r),n?t.nr():t.tr()):this.ea.retainPlaybackRateOnSourceChange?t.ny=r:1!==r&&this.Ys(new jd(this.Ox(),1)),this.UI=t,this.jI();for(var u=0,o=this.eF;u<o.length;u++){var s=o[u];this.Ys(s)}Ce(this.eF),this.HI?t.Vy():t.qy()}},r.jI=function(){this.UI.Qs(this.Gs)},r.WI=function(){this.UI.rc(this.Gs)},r.ll=function(){return t=this,r=function(n){i=n;var r=hk(n,t.ea);t.Py(r)},e={get abr(){return t.TL.dl},get audioTracks(){return t.Ay.dl},get autoplay(){return t.Ry},set autoplay(n){t.Ry=Boolean(n)},get buffered(){return t.Ax()},get canvas(){return t.sL.dl},get clip(){return t.kL.dl},get currentProgramDateTime(){var n;return null!=(n=t.Jy)?n:null},set currentProgramDateTime(n){t.Jy=null!=n?n:void 0},get currentTime(){return t.Ox()},set currentTime(n){t.xx(Number(n))},get duration(){return t.Px()},get element(){return t.Qy},get ended(){return t.Jw},get error(){return t.Mx()},get errorObject(){return t.Bx()},get loop(){return t._P._P},set loop(n){t._P._P=Boolean(n)},get metrics(){return t.yy.dl},get muted(){return t.Zw},set muted(n){t.qx(n)},get network(){return t.IL.dl},get paused(){return t.ty},get playbackRate(){return t.ny},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.ny=i},get played(){return t.$x()},get poster(){return t.vF},set poster(n){t.vF=$v(n)},get preload(){return t.cg},set preload(n){t.cg=n},get presentation(){return t.cL.dl},get readyState(){return t.dw},get seekable(){return t.Kx()},get seeking(){return t.iy},get source(){return i},set source(t){r(t)},get src(){return ik(t.xy())},set src(t){r({sources:t})},get textTracks(){return t.Dy.dl},get textTrackStyle(){return t.AL.dl},get uid(){return t.nw},get videoHeight(){return t.ey},get videoTracks(){return t.Cy.dl},get videoWidth(){return t.uy},get volume(){return t.oy},set volume(n){t.rP(Number(n))},destroy:function(){t.sr(),t=null,i=void 0},play:function(){t.cF()},pause:function(){t.nr()},stop:function(){i=void 0,t.Oy()},prepareWithUserAction:function(){t.hr()},addEventListener:function(t,i){n.Ks(t,i)},removeEventListener:function(t,i){n.tc(t,i)},setSource:function(t){r(t)}},(n=new Am(e,!0)).nC(t),e;var t,n,i,r,e},W(i,[{key:"oL",get:function(){return this.QL.oL}},{key:"sL",get:function(){return this.QL.sL}},{key:"ea",get:function(){return this.QL.ea}},{key:"uL",get:function(){return this.QL.uL}},{key:"sl",get:function(){return this.QL.sl}},{key:"oI",get:function(){return this.QL.fL}},{key:"cL",get:function(){return this.QL.cL}},{key:"aL",get:function(){return this.QL.aL}},{key:"kP",get:function(){return this.QL.kP}},{key:"TL",get:function(){return this.QL.TL}},{key:"Ry",get:function(){return this.QL.Ry},set:function(t){this.QL.Ry=t,this.sF()}},{key:"EL",get:function(){return this.QL.EL}},{key:"Ay",get:function(){return this.QL.Ay}},{key:"SL",get:function(){return this.QL.SL}},{key:"RL",get:function(){return this.QL.aL}},{key:"dl",get:function(){return this.vl||(this.vl=this.ll()),this.vl}},{key:"Ny",get:function(){return this.QL.Ny}},{key:"yy",get:function(){return this.QL.yy}},{key:"IL",get:function(){return this.QL.IL}},{key:"Dy",get:function(){return this.QL.Dy}},{key:"AL",get:function(){return this.QL.AL}},{key:"Cy",get:function(){return this.QL.Cy}},{key:"kL",get:function(){return this.QL.kL}},{key:"_P",get:function(){return this.QL._P}},{key:"Jy",get:function(){return this.UI.Jy},set:function(t){this.UI.Jy=t}},{key:"Gy",get:function(){return this.QL.Gy}},{key:"Qy",get:function(){return this.QL.Qy}},{key:"Jw",get:function(){return this.QL.Jw}},{key:"Zw",get:function(){return this.QL.Zw},set:function(t){this.QL.Zw=t}},{key:"ty",get:function(){return this.UI.ty}},{key:"vF",get:function(){return this.tF.Sv||""},set:function(t){this.tF.JL=t}},{key:"ny",get:function(){return this.QL.ny},set:function(t){this.UI.ny=t}},{key:"cg",get:function(){return this.QL.cg},set:function(t){this.QL.cg=Zp(t)}},{key:"dw",get:function(){return this.UI.dw}},{key:"iy",get:function(){return this.UI.iy}},{key:"nw",get:function(){return this.QL.nw}},{key:"ey",get:function(){return this.QL.ey}},{key:"uy",get:function(){return this.QL.uy}},{key:"oy",get:function(){return this.QL.oy},set:function(t){this.QL.oy=t}}]),i}(fd)}function GT(t,n){var i=nl(n),r=new(UT||(UT=RT(UT=XT(TT),_T.CL),UT=RT(UT,_T.DL)),UT)(t,i),e=r.dl;return r.bL(),r.hF(FT),l.defineProperty(e,"constructor",{value:GT}),e=Fv(e),function(t){for(var n=0;n<IT.length;n++)(0,IT[n])(t)}(r),e}Ve(function(){t.dispatchEvent&&t.dispatchEvent(DT("theoplayerready"))});var YT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return hu(t)},n.decode=function(t){return au(t)},t}())},KT=FT.dl,JT=Fg.eS.registerContentProtectionIntegration.bind(Fg.eS),QT=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},ZT=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),tE=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?r.splice(o,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function nE(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function iE(t){return JSON.stringify(t,tE.getSerialize(nE))}var rE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),eE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),uE=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),oE=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=rE.isS,r=rE.isChar,e=rE.isNameStartChar,u=rE.isNameChar,o=rE.S_LIST,s=rE.NAME_RE,c=eE.isChar,a=uE.isNCNameStartChar,f=uE.isNCNameChar,h=uE.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:d,xmlns:w},_={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},p=-1,m=-2,k=0,b=1,T=2,E=3,S=4,R=5,I=6,A=7,C=8,D=9,N=10,O=11,x=12,P=13,L=14,F=15,M=16,B=17,U=18,V=19,q=20,H=21,j=22,W=23,z=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,ot=39,st=40,ct=41,at=42,ft=43,ht=44,vt=9,dt=10,lt=13,wt=32,yt=33,gt=38,_t=45,pt=47,mt=59,kt=60,bt=61,Tt=62,Et=63,St=91,Rt=93,It=133,At=8232,Ct=t=>34===t||39===t,Dt=[34,39],Nt=[...Dt,St,Tt],Ot=[...Dt,kt,Rt],xt=[bt,Et,...o],Pt=[...o,Tt,gt,kt];function Lt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==w&&t.fail(`xmlns prefix must be bound to ${w}.`)}switch(i){case w:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>h.test(t),Mt=t=>s.test(t),Bt=0,Ut=1,Vt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const qt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=f,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Lt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Fa}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Bt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Fa=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(_),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[qt[t]]=n}off(t){this[qt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return p;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==At||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case At:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===m?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===m,u=e?dt:r;if(u===p||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case m:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case p:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===p)return this.name+=t.slice(n),p;if(!u(i))return this.name+=t.slice(n,this.prevI),i===m?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===p||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=F,0!==this.text.length)throw new v("no-empty text at start");break;case p:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Nt);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case p:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Ct(n)&&(this.state=E,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==p&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===kt?this.state=I:Ct(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case yt:this.state=A,this.openWakaBang="";break;case Et:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?C:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(_t)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===_t?N:C}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=S:(this.fail("malformed comment."),this.state=C)}sDTDPI(){this.captureToChar(Et)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case m:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case mt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case p:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case pt:this.state=ft,this.xmlDeclPossible=!1;break;case yt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Et:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=q,this.openWakaBang="";break;case"--":this.state=B,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(_t)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===_t?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=B)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=B):this.state=P}sCData(){this.captureToChar(Rt)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=j:(this.text+=`]${String.fromCodePoint(t)}`,this.state=q)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=q}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Et||i(t)?(this.fail("processing instruction without a target."),this.state=t===Et?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===p)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Et;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:G):this.state=e?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Et?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Et)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Et?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Et?t!==p&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Et)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Et)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Ct(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,Et]);if(t===Et)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===p)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Et?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===p)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case pt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==p&&(e(t)?(this.unget(),this.state=et):t===Tt?this.openTag():t===pt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ot:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==p&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case p:return;case bt:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Ct(t)?(this.q=t,this.state=st):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case gt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=st);case dt:case m:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case p:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===Tt?this.openTag():t===pt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=L,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case p:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=ht:t!==p&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case p:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=F,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Bt;break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Bt;break t;case Rt:switch(n){case Bt:n=Ut;break;case Ut:n=Vt;break;case Vt:break;default:throw new v("impossible state")}break;case Tt:n===Vt&&this.fail('the string "]]>" is disallowed in char data.'),n=Bt;break;case m:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Bt;break;case p:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Bt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case kt:if(this.state=F,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case gt:this.state=L,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case m:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case p:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Lt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.Fa=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let o,s;""===i?(o="xmlns"===n?w:"",s=n):(void 0===(o=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),o=i),s=`{${o}}${u}`),e.has(s)&&this.fail(`duplicate attribute: ${s}.`),e.add(s),t.uri=o,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=y(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=y(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),sE=function(){function t(){}return t.prototype.vu=function(t){var n=new oE.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new lE,r=[i];function e(t){r[r.length-1].Iu(t)}return n.on("text",function(t){r.length>1&&e(new vE(t))}),n.on("cdata",function(t){e(new dE(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,o=new fE({yu:n,_u:""===i?void 0:i,dF:""===u?void 0:u}),s=t.attributes,c=0,a=l.keys(s);c<a.length;c++){var f=s[a[c]],h=f.prefix,v=f.local,d=f.uri,w=f.value,y=new cE({yu:v,mu:w,_u:""===d?void 0:d,dF:""===h?void 0:h});o.lF(y)}e(o),r.push(o)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new cn(t)}),n.write(t).close(),i},t}(),cE=function(){function t(t){this.wF=void 0,this.yF=void 0,this.gF=void 0,this.En=void 0,this.wF=t.yu,this.En=t.mu,this.yF=t._u,this.gF=t.dF}var n=t.prototype;return n.lu=function(t){return this===t||!!yE(this,t)&&(this.wF===t.wF&&this.yF===t.yF&&this.gF===t.gF&&this.En===t.En)},n.wu=function(){return new t({yu:this.yu,mu:this.mu,_u:this._u,dF:this.pu})},W(t,[{key:"ou",get:function(){return rn.cu}},{key:"yu",get:function(){return this.wF}},{key:"gu",get:function(){return void 0===this.gF?this.wF:this.gF+":"+this.wF}},{key:"_u",get:function(){return this.yF}},{key:"pu",get:function(){return this.gF}},{key:"mu",get:function(){return this.En}}]),t}(),aE=function(){function t(){this.bu=[]}var n=t.prototype;return n.Tu=function(t){return this.bu.filter(function(n){return wE(n)&&n.Su===t})},n.Ru=function(t,n){return this.bu.filter(function(i){return wE(i)&&i.yu===n&&i._u===t})},n.Iu=function(t){this.bu.push(t)},W(t,[{key:"Eu",get:function(){return this.bu}},{key:"Cu",get:function(){return this.bu.filter(wE)}}]),t}(),fE=function(t){function n(n){var i;return(i=t.call(this)||this).wF=void 0,i.yF=void 0,i.gF=void 0,i._F=[],i.wF=n.yu,i.yF=n._u,i.gF=n.dF,i}$(n,t);var i=n.prototype;return i.pF=function(t){for(var n=0,i=this.Eu;n<i.length;n++){var r=i[n];wE(r)?r.pF(t):t.push(r.Bu)}},i.Nu=function(t,n){for(var i=0,r=this._F;i<r.length;i++){var e=r[i];if(e.yu===n&&e._u===t)return e.mu}},i.Du=function(t){for(var n=0,i=this._F;n<i.length;n++){var r=i[n];if(r.gu===t)return r.mu}},i.lF=function(t){this._F.push(t)},i.Ou=function(t){for(var n=0;n<this._F.length;n++)if(this._F[n].gu===t)return void this._F.splice(n,1)},i.xu=function(t,n){for(var i=0;i<this._F.length;i++)if(this._F[i].yu===n&&this._F[i]._u===t)return void this._F.splice(i,1)},i.Pu=function(t,n){this.Ou(t),this.lF(new cE({yu:t,mu:n}))},i.Lu=function(t,n,i){this.Ou(n);var r=n.split(":");this.lF(new cE({yu:r[r.length-1],mu:i,_u:t,dF:r.length>1?r[0]:void 0}))},i.wu=function(t){var i=new n({yu:this.yu,_u:this._u,dF:this.pu});return this.Fu.forEach(function(t){return i.lF(t.wu())}),t&&this.Eu.forEach(function(n){return i.Iu(n.wu(t))}),i},i.lu=function(t){return this===t||!!yE(this,t)&&(this.wF===t.wF&&this.gF===t.gF&&this.yF===t.yF&&(gE(this.Fu,t.Fu)&&gE(this.Eu,t.Eu)))},W(n,[{key:"ou",get:function(){return rn.su}},{key:"Fu",get:function(){return this._F}},{key:"yu",get:function(){return this.wF}},{key:"_u",get:function(){return this.yF}},{key:"pu",get:function(){return this.gF}},{key:"Su",get:function(){return void 0===this.gF?this.wF:this.gF+":"+this.wF}},{key:"Mu",get:function(){var t=[];return this.pF(t),t.join("")}}]),n}(aE),hE=function(){function t(t){this.$i=void 0,this.$i=t}return W(t,[{key:"Bu",get:function(){return this.$i}}]),t}(),vE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.wu=function(){return new n(this.Bu)},i.lu=function(t){return this===t||!!yE(this,t)&&this.Bu===t.Bu},W(n,[{key:"ou",get:function(){return rn.au}}]),n}(hE),dE=function(t){function n(n){return t.call(this,n)||this}$(n,t);var i=n.prototype;return i.wu=function(){return new n(this.Bu)},i.lu=function(t){return this===t||!!yE(this,t)&&this.Bu===t.Bu},W(n,[{key:"ou",get:function(){return rn.fu}}]),n}(hE),lE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.wu=function(t){var i=new n;return t&&this.Eu.forEach(function(n){return i.Iu(n.wu(t))}),i},i.lu=function(t){return this===t||!!yE(this,t)&&gE(this.Eu,t.Eu)},W(n,[{key:"ou",get:function(){return rn.hu}},{key:"Uu",get:function(){return this.Cu[0]}}]),n}(aE);function wE(t){return en(t)}function yE(t,n){return t.ou===n.ou}function gE(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].lu(n[i]))return!1;return!0}var _E,pE=["adBreak"],mE=["adBreak"];function kE(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:jr({},t,{adBreak:jr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Dg(t,pE)})})})}function bE(t){return void 0===t.ads?t:jr({},t,{ads:t.ads.map(function(t){t.adBreak;return Dg(t,mE)})})}function TE(t){return"string"==typeof t.date?new Date(t.date):t.date}function EE(t){var n;return t.cue.track?(n=RE(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=RE(t.cue,""),n}function SE(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function RE(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new sE).vu(r.firstChild.outerHTML).Uu.Fu.forEach(function(t){e[t.yu]=t.mu}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if("object"==typeof(a=s)&&null!==a){var c=IE(s);u[o]={type:_E.mF,value:c}}else CE(s)?u[o]={type:_E.kF,value:s}:u[o]={type:_E.bF,value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=IE(t.scte35Cmd),i.scte35Out=IE(t.scte35Out),i.scte35In=IE(t.scte35In),i.customAttributes=u}var a}(),i}function IE(t){if(void 0!==t)return hu(t)}function AE(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(RE(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(RE(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function CE(t){return"number"==typeof t}!function(t){t.bF="daterange-ca-type_string",t.kF="daterange-ca-type_number",t.mF="daterange-ca-type_arraybuffer"}(_E||(_E={}));var DE={cue:function(t){var n={};switch(n.date=TE(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=EE(t)}return n},textTrack:function(t){var n={};switch(n.date=TE(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=PE().register(t.cue));var i=xE()[LE()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=EE(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(RE(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=TE(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=PE().register(t)}),n.track=AE(t.track);case"removetrack":case"change":n.track=AE(t.track)}return n},default:function(t){var n={};switch(n.date=TE(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=jr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=AE(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=bE(t.ad);break;case"adloaded":case"adimpression":n.ad=kE(t.ad);break;case"aderror":t.TF&&(n.TF=t.TF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=kE(t.ad)}return SE(n)},minimizeCueHelper:function(t){var n={};return n.date=TE(t),n.type=t.type,n.cue=EE(t),n.track={uid:t.cue.track.uid},n},adReplacer:kE,adBreakReplacer:bE,removeCircularReferences:SE},NE=function(){this.stringify=iE,this.minimize=DE};function OE(){return R.self}function xE(){return OE().THEOplayerBridge}function PE(){return OE().THEOCueMirrorMap}function LE(){return OE().THEOplayerGlobalID}function FE(){var t=OE();if(t.THEOplayerBridge){var n=new QT;t.THEOplayerBridge=Bv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new QT;t.THEOplayerUtils||(t.THEOplayerUtils=new NE),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new ZT)}FE();var ME=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.vu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new BE(n)},n}(an),BE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.wu=function(t){return new n(this.ku.cloneNode(t))},W(n,[{key:"Eu",get:function(){return void 0===this.bu&&(this.bu=qE(this.ku.childNodes)),this.bu}},{key:"Uu",get:function(){return new UE(this.ku.documentElement)}}]),n}(yn),UE=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.wu=function(t){var i=new n(this.ku.cloneNode(t));return i.Fu.length<1&&this.Fu.length>0&&this.Fu.forEach(function(t){i.Pu(t.gu,t.mu)}),i},W(n,[{key:"Eu",get:function(){return void 0===this.bu&&(this.bu=qE(this.ku.childNodes)),this.bu}}]),n}(vn);function VE(t){switch(t.nodeType){case rn.su:return new UE(t)}return _n(t)}function qE(t){for(var n=[],i=0;i<t.length;i++){var r=VE(t.item(i));r&&n.push(r)}return n}x(new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).EF=new ME,n}return $(n,t),n.prototype.vu=function(t){return this.EF.vu(t)},n}(Tv)));var HE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return $(n,t),n}(Ye),jE=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ys(new HE(t,n))},i.addEventListener=function(t,n){this.Ks(t,n)},i.removeEventListener=function(t,n){this.tc(t,n)},n}(fd);function WE(t,n){return t.Ng<=n&&t.Og>n}function zE(t,n){return function(t,n){return Ql(t.Ng,n.Ng,zl)}(t,n)||function(t,n){return Ql(t.Og,n.Og,zl)}(t,n)}function $E(t,n){var i=function(t,n,i,r,e,u,o){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var a=s+(c-s>>1),f=r(i(t[a]),n);if(f<0)s=a+1;else if(f>0)c=a-1;else{if(!(e&&a>u&&0===r(i(t[a-1]),n)))return a;c=a-1}}return~s}(t,n,F,zE,!0);if(i<0)return i;for(;i<t.length&&zE(n,t[i])===Gl.o_;i++)if(t[i].Hg(n))return i;return-(i+1)}function XE(t){var n=t.wl;if(!n)return-1;if(t instanceof $l)return n.SF(t);var i=n.lw;if(!i)return-1;var r=$E(i.jl,t);return r>=0?r:-1}var GE=function(t){function n(n,i){var r;return(r=t.call(this,Ml.Rg,n)||this).ip=i,r}return $(n,t),n.prototype.ll=function(){return new YE(this.Dg.dl)},n}(ql),YE=function(t){function n(n){return t.call(this,Bl.Rg,n)||this}return $(n,t),n}(Hl),KE=function(t){function n(n,i){var r;return(r=t.call(this,Ml.Ag,n)||this).ip=i,r}return $(n,t),n.prototype.ll=function(){return new JE(this.Dg.dl)},n}(ql),JE=function(t){function n(n){return t.call(this,Bl.Ag,n)||this}return $(n,t),n}(Hl),QE=function(t){function n(n){var i;return(i=t.call(this,Sv.ml)||this).Dg=n,i}return $(n,t),n.prototype.ll=function(){return new ZE(this.Dg.dl)},n}(Rv),ZE=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return $(n,t),n}(Iv),tS=function(t){function n(n){var i;return(i=t.call(this,Sv.bl)||this).Dg=n,i}return $(n,t),n.prototype.ll=function(){return new nS(this.Dg.dl)},n}(Rv),nS=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return $(n,t),n}(Iv),iS=function(t){function n(n){var i;return(i=t.call(this,Sv.El)||this).wl=n,i}return $(n,t),n.prototype.ll=function(){return new rS(this.wl.dl)},n}(Rv),rS=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return $(n,t),n}(Iv);function eS(t,n){return Jl(t.ip,n.ip)||function(t,n){return t.wl===n.wl?Kl(XE(t),XE(n)):Fy(t.wl,n.wl)}(t.Dg,n.Dg)||function(t,n){return t===n?Gl.o_:t===Ml.Rg?Gl.c_:Gl.s_}(t.type,n.type)}var uS=function(){function t(t,n){var i=this;this.UI=void 0,this.RF=void 0,this.Ey=[],this.IF=0,this.AF=0,this.CF=[],this.DF=!1,this.NF=!1,this.OF=void 0,this.xF=function(){i.IF=0,i.PF(),i.LF()},this.FF=function(){i.PF(),i.LF()},this.MF=function(){i.NF=!0,i.OF=i.UI.Yw,i.BF()},this.UF=function(){i.PF(),i.LF()},this.VF=function(){i.qF(),i.PF(),i.LF()},this.HF=function(){i.jF()},this.WF=function(t){Re(i.CF,t.Dg),i.jF()},this.RF=n,this.UI=t,t.Ks(ts.Lf,this.FF),t.Ks(ts.bf,this.FF),t.Ks(Pd.Gw,this.FF),t.Ks(ts.kf,this.FF),t.Ks(ts.Af,this.MF),t.Ks(ts.If,this.UF),this.jF()}var n=t.prototype;return n.Hl=function(){Ce(this.CF);for(var t=0,n=this.Ey.slice();t<n.length;t++){var i=n[t];this.Vl(i)}this.BF(),this.IF=0,this.AF=0,this.DF=!1,this.NF=!1,this.OF=void 0},n.Ul=function(t){Ae(this.Ey,t)||(this.Ey.push(t),t.Ks(Sv.yl,this.HF),t.Ks(Sv._l,this.WF),t.Ks(Sv.Rl,this.VF),t.lw.Wl&&this.jF(),this.qF())},n.Vl=function(t){if(Re(this.Ey,t)){if(t.tc(Sv.yl,this.HF),t.tc(Sv._l,this.WF),t.tc(Sv.Rl,this.VF),t.lw.Wl){for(var n=0,i=t.lw.jl;n<i.length;n++){var r=i[n];Re(this.CF,r)}this.jF()}this.qF()}},n.qF=function(){this.DF=this.Ey.some(function(t){return t.aw!==td.vw})},n.LF=function(){this.UI.iy||this.UI.ty?this.BF():this.jF()},n.jF=function(){this.DF&&(this.IF||(this.IF=this.RF._r(this.xF)))},n.BF=function(){this.IF&&(this.RF.zF(this.IF),this.IF=0)},n.PF=function(){var t;if(this.DF&&!this.UI.iy){var n=this.Ey,i=this.AF,r=null!=(t=this.OF)?t:this.UI.Yw,e=r-i<-.1,u=this.NF||e;u&&r>i&&r-i<.1&&(u=!1),this.NF=!1,this.OF=void 0;for(var o,s=[],c=0;c<n.length;c++){var a=n[c];if(a.aw!==td.vw){a.XF(r,u);for(var f=0,h=a.ww.jl;f<h.length;f++){var v=h[f];s.push(v)}}}if(u)o=this.CF;else{o=[];for(var d=0;d<n.length;d++){var l=n[d];l.aw!==td.vw&&Ly(l,i-1/6,r,o)}}for(var y=o.length-1;y>=0;y--)Ae(s,o[y])&&Ie(o,y);var g=[];if(!u)for(var _=o.length-1;_>=0;_--){var p=o[_];p.Ng>=i&&p.Og<=r&&(g.push(p),Ie(o,_))}for(var m=[],k=[],b=0;b<g.length;b++){var T=g[b];T.jg||m.push(new GE(T,T.Ng)),m.push(new KE(T,w.max(T.Ng,T.Og)))}for(var E=0,S=o;E<S.length;E++){var R=S[E];R.jg&&(m.push(new KE(R,w.max(R.Ng,R.Og))),R.jg=!1)}for(var I=0;I<s.length;I++){var A=s[I];A.jg||(m.push(new GE(A,A.Ng)),A.jg=!0)}m.sort(eS);for(var C=0;C<m.length;C++){var D=m[C],N=D.Dg;N.Ys(D);var O=N.wl;O&&(D.type===Ml.Rg?O.Ys(new QE(N)):O.Ys(new tS(N)),Ae(k,O)||k.push(O))}k.sort(Fy);for(var x=0;x<k.length;x++){var P=k[x];P.Ys(new iS(P))}this.AF=r,this.CF=s}},n.sr=function(){this.Hl(),this.UI.tc(ts.Lf,this.FF),this.UI.tc(ts.bf,this.FF),this.UI.tc(Pd.Gw,this.FF),this.UI.tc(ts.kf,this.FF),this.UI.tc(ts.Af,this.MF),this.UI.tc(ts.If,this.UF)},t}(),oS=function(){function t(){}var n=t.prototype;return n._r=function(t){return fb(t)},n.zF=function(t){hb(t)},t}(),sS=new oS,cS=function(t){function n(n,i){return void 0===i&&(i=sS),t.call(this,n,i)||this}return $(n,t),n}(uS),aS=function(t){function n(){return t.call(this,ts.yf)||this}return $(n,t),n}(Ye),fS=function(t){function n(n){var i;return(i=t.call(this,ts.Tf)||this).currentTime=n,i}return $(n,t),n}(Ye),hS=function(t){function n(n,i){var r;return(r=t.call(this)||this).GF=void 0,r.YF=void 0,r.KF=function(t){r.GF.JF("THEOplayerABRSetTargetBuffer",t.ex),r.Ys(t)},r.QF=function(t){r.GF.JF("THEOplayerABRSetStrategy",t.ox),r.Ys(t)},r.GF=n,r.YF=i,r.YF.Ks("ux",r.KF),r.YF.Ks("sx",r.QF),r}return $(n,t),W(n,[{key:"mx",get:function(){var t;switch(this.ox.type){case Fb.PERFORMANCE:return 1;case Fb.QUALITY:return 0;case Fb.BANDWIDTH:return null!=(t=this.ox.metadata)&&t.bitrate&&!_(this.ox.metadata.bitrate)?this.ox.metadata.bitrate:0;default:return 0}}},{key:"dl",get:function(){return this.YF.dl}},{key:"ox",get:function(){return this.YF.ox},set:function(t){this.YF.ox=t}},{key:"ex",get:function(){return this.YF.ex},set:function(t){this.YF.ex=t}},{key:"ax",get:function(){return this.YF.ax},set:function(t){this.YF.ax=t}}]),n}(Xe),vS=function(){function t(t){this.ZF=void 0,this.vl=void 0,this.ZF=t}var n=t.prototype;return n.ll=function(){return function(t){for(var n=[],i=0;i<t.Wl;i++)n[i]=t._c(i).dl;return n.item=function(n){var i=0|n,r=t._c(i);return r&&r.dl||void 0},l.defineProperty(n,"constructor",{value:Wl}),n}(this)},n.dg=function(t){for(var n=this.ZF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Hg(r))return!0}return!1},n._c=function(t){return this.ZF[t]},W(t,[{key:"jl",get:function(){return this.ZF}},{key:"Wl",get:function(){return this.ZF.length}},{key:"dl",get:function(){if(this.vl){var t=this.ZF;this.vl.length=t.length;for(var n=0;n<t.length;n++)this.vl[n]=t[n].dl}else this.vl=this.ll();return this.vl}}]),t}(),dS=function(t){function n(n,i){var r;return(r=t.call(this,Sv.Al)||this).wl=n,r.dw=i,r}return $(n,t),n.prototype.ll=function(){return new lS(this.wl.dl,sd(this.dw))},n}(Rv),lS=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return $(n,t),n}(Iv),wS=function(t){function n(n){var i;return(i=t.call(this,Sv.Dl)||this).wl=n,i}return $(n,t),n.prototype.ll=function(){return new yS(this.wl.dl)},n}(Rv),yS=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return $(n,t),n}(Iv),gS=function(t){function n(n){var i;return(i=t.call(this,Sv.yl)||this).Dg=n,i}return $(n,t),n.prototype.ll=function(){return new _S(this.Dg.dl)},n}(Rv),_S=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return $(n,t),n}(Iv),pS=function(t){function n(n){var i;return(i=t.call(this,Sv._l)||this).Dg=n,i}return $(n,t),n.prototype.ll=function(){return new mS(this.Dg.dl)},n}(Rv),mS=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return $(n,t),n}(Iv),kS=function(t){function n(n,i,r,e,u,o,s){var c;return(c=t.call(this)||this).vl=void 0,c.wg=void 0,c.gg=Al(),c.tM=!1,c.nM=void 0,c.iM=void 0,c.yg=void 0,c.rM=void 0,c.rC=td.vw,c.eM=Pl.NONE,c.uM=void 0,c.Vu=void 0,c.ZF=[],c.oM=[],c.sM=void 0,c.cM=void 0,c.aM=0,c.fM=0,c.wg=i||"",c.nM=s||"",c.iM=n,c.rM=e||"",c.tM=Boolean(u),c.Vu=o||Ll.DEFAULT,c.yg=r||"",c.sM=new vS(c.ZF),c.cM=new vS(c.oM),c}$(n,t);var i=n.prototype;return i.hM=function(t){return Se(this.sM.jl,function(n){return n.tw===t})},i.ll=function(){return ed(this)},i._C=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case td.vw:case td.hw:case td.fw:return n}}else if("number"==typeof t)switch(t){case 0:return td.vw;case 1:return td.hw;case 2:return td.fw}return td.vw}(t);n!==this.aw&&(this.rC=n,n===td.vw&&(this.oM.forEach(function(t){t.jg=!1}),Ce(this.oM),this.fM=0),this.Ys(new xv(this)))},i.KT=function(t){if(t&&!t.wl){var n=$E(this.lw.jl,t);if(!(n>=0)){t.wl=this;var i=-(n+1);this.ZF.splice(i,0,t),this.vM(i),t.qg=i,i<this.fM&&(this.fM=i),this.Ys(new gS(t))}}},i.dM=function(t){if(t&&t.wl===this){var n=this.SF(t);if(!(n<0)){t.jg=!1;var i=this.oM,r=$E(i,t);r>=0&&Ie(i,r),Ie(this.ZF,n),this.vM(n),t.qg=-1,this.fM>n&&--this.fM,this.Ys(new pS(t))}}},i.XF=function(t,n){var i=this.oM,r=this.ZF,e=this.fM,u=!1;n&&(e=0);for(var o=i.length-1;o>=0;o--){WE(i[o],t)||(u=!0,Ie(i,o))}for(;e<r.length&&r[e].Ng<=t;){var s=r[e];if(0===t)break;WE(s,t)&&!Ae(i,s)&&(u=!0,i.push(s)),e++}u&&Te(i,zE),this.fM=e},i.SF=function(t){return(-1===t.qg||t.qg>=this.aM)&&this.lM(),t.qg},i.lM=function(){for(var t=this.ZF,n=this.aM;n<t.length;n++)t[n].qg=n;this.aM=t.length},i.vM=function(t){t<this.aM&&(this.aM=t)},i.sr=function(){this.Zs();for(var t=this.ZF.slice(),n=0;n<t.length;n++){t[n].sr()}Ce(this.ZF),Ce(this.oM)},W(n,[{key:"ww",get:function(){return this.cM}},{key:"lw",get:function(){return this.sM}},{key:"QT",get:function(){return this.tM},set:function(t){this.tM=t}},{key:"dl",get:function(){return this.vl||(this.vl=this.ll()),this.vl}},{key:"tw",get:function(){return this.wg}},{key:"nw",get:function(){return this.gg}},{key:"cw",get:function(){return this.nM},set:function(t){this.nM=t}},{key:"iw",get:function(){return this.iM}},{key:"rw",get:function(){return this.yg},set:function(t){t!==this.yg&&(this.yg=t,this.Ys(new Sl(this)))}},{key:"ew",get:function(){return this.rM}},{key:"aw",get:function(){return this.rC},set:function(t){this._C(t)}},{key:"dw",get:function(){return this.eM},set:function(t){this.eM!==t&&(this.eM=t,this.Ys(new dS(this,this.eM)))}},{key:"yw",get:function(){return this.uM},set:function(t){this.uM=t}},{key:"_s",get:function(){return this.Vu},set:function(t){this.Vu!==t&&(this.Vu=t,this.Ys(new wS(this)))}}]),n}(Xe);function bS(t,n,i){for(var r=t[n].Ng,e=n;e>=0&&t[e].Ng===r;e--)t[e].Og=i}var TS,ES=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).wM=void 0,e}return $(n,t),n.prototype.Hg=function(n){return this===n||qv(this,n)&&t.prototype.Hg.call(this,n)&&(i=n,this.xg===i.xg);var i},W(n,[{key:"dl",get:function(){return this.vl||(this.vl=jl(this)),this.vl}}]),n}($l),SS=function(t){function n(n,i,r){return void 0===r&&(r=Ll.DEFAULT),t.call(this,Iy.Dm,"",i||"","",!1,r,n)||this}return $(n,t),n}(kS),RS=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this)._s=Ll.ID3,r.wM=void 0,r}$(n,t);var i=n.prototype;return i.KT=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Ng<t.Ng)bS(n,i,t.Ng);else{var r=n[0];if(r.Ng>t.Ng)t.Og=r.Ng;else{var e=$E(n,t);if(!(e>=0)){var u=-(e+1),o=u-1;if(o>=0&&n[o].Ng<t.Ng&&bS(n,o,t.Ng),u<n.length){var s=n[u];t.Og=s.Ng}}}}}}(n,this.ZF),t.prototype.KT.call(this,n)},i.ll=function(){return ed(this)},n}(SS),IS=(ts.bf,ts.kf,Pd.Gw,ts.Lf,ts.Tf,ts.yf,ts.Af,ts.If,ts.df,ts.Ef,ts.Ff,ts.hf,Pd.Al,ts.Rf,nd.sw,$e.hc,$e.dc,ts.cf,ts.sf,ts.Mf,{yM:!1,gM:50}),AS=function(){function t(t,n,i){this.Aa=void 0,this.Ss=void 0,this.Va=void 0,this.ia=void 0,this.Aa=t,this.Ss=i,this.Va=n}var n=t.prototype;return n.JT=function(t){throw new v("Not implemented yet.")},n._M=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ss.As(n.ps,i);case 2:return r=t.sent,t.next=5,r.ha();case 5:return e=t.sent,t.next=8,this.pM(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.mM=function(t){return!1},n.kM=function(t){return C.resolve(void 0)},n.Ls=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pM(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.pM=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.bM(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.bM=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.ia)){t.next=5;break}return t.next=4,i.ca(this.Va);case 4:this.ia=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.sa(this.Va);case 8:this.ia=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GT=function(t,n,i){throw new v("Not implemented yet.")},W(t,[{key:"ea",get:function(){return this.Aa}},{key:"cg",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"ag",get:function(){return new um([0,1/0])}},{key:"Dy",get:function(){throw new v("Not implemented yet.")}},{key:"TM",get:function(){throw new v("Not implemented yet")}},{key:"Cy",get:function(){throw new v("Not implemented yet.")}},{key:"EM",get:function(){throw new v("Not implemented yet")}},{key:"SM",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.RM="webkitneedkey",t.IM="webkitkeymessage",t.AM="webkitkeyerror"}(TS||(TS={}));var CS,DS,NS=function(t){function n(n,i){var r;return(r=t.call(this,TS.RM)||this).initData=n,r.sessionId=i,r}return $(n,t),n}(Ye),OS=function(t){function n(n,i){var r;return(r=t.call(this,TS.IM)||this).message=n,r.destinationURL=i,r}return $(n,t),n}(Ye),xS=function(t){function n(){return t.call(this,TS.AM)||this}return $(n,t),n}(Ye),PS=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this)||this).wa=new eo,o.Ca=void 0,o._a=new ru,o.Na=new eo,o.CM=function(t){o.Ca?(o.Ca.xc(void 0),o.Ca=void 0):o.Ta("internal-error"),o.Ys(new tu)},o.DM=function(t){o.Ca&&(o.Ca.Oc(void 0),o.Ca=void 0),o.Ys(new Ze(un(o),"license-request",io(t.message).buffer,t.destinationURL||void 0))},o.Sa=n,o.jc=i,o.NM=r,o.Ba=e,o.xa=u,o}$(n,t);var i=n.prototype;return i.Xc=function(){var t=C.coroutine(Hr.mark(function t(n,i,r){var e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.Pa){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.OM(to(i),e);case 5:this.Ta("usable"),this.Na.Oc(),this.Na=new eo;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Gc=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Kc=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=to(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Ca=new eo,this.NM.Kc(this.Ba,i),t.next=7,this.Ca.Nc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.$c=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Na;case 2:return this.NM.tc(TS.IM,this.DM),this.NM.tc(TS.AM,this.CM),this.Na.qs(),this.wa.Oc(void 0),t.abrupt("return",this.wa.Nc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yc=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.OM=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=xo(n,i,this.xa),this.NM.Ks(TS.IM,this.DM),this.NM.Ks(TS.AM,this.CM),this.NM.xM(this.Ba,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ta=function(t){this._a.kc(),this._a.mc(iu,t),this.Ys(new Qe(this))},W(n,[{key:"na",get:function(){return this.Ba}},{key:"Zc",get:function(){return NaN}},{key:"Qc",get:function(){return this.wa.Nc}},{key:"ta",get:function(){return this._a}}]),n}(Xe),LS=function(){function t(t,n,i){this.PM=void 0,this.Ba=void 0,this.xa=void 0,this.NM=void 0,this.jc=void 0,this.Aa=void 0,this.Sa=void 0,this.NM=t,this.jc=n,this.Aa=i;var r=_o(i)||"video/mp4";this.Sa=wo(r)}var i=t.prototype;return i.ua=function(){var t=C.coroutine(Hr.mark(function t(i){var r;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.xa){t.next=2;break}throw new Po(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new PS(this.Sa,this.jc,this.NM,this.Ba,this.xa),this.PM=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oa=function(t){return this.xa=to(t),C.resolve(!0)},i.sa=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ca=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},W(t,[{key:"ra",get:function(){return this.jc}},{key:"ea",get:function(){return this.Aa}},{key:"sessionId",set:function(t){this.Ba=t}}]),t}(),FS=function(){function t(t,n,i){this.LM=t,this.jc=n,this.Aa=i}var n=t.prototype;return n.va=function(){return this.Aa},n.ha=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new LS(this.LM,this.jc,this.Aa));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(t,[{key:"ra",get:function(){return this.jc}}]),t}(),MS=function(){function t(t){this.LM=void 0,this.LM=t}return t.prototype.As=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=yo(BS,Je,n,e))){t.next=6;break}return t.abrupt("return",new FS(this.LM,n,u));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function BS(t,n){return t===se}!function(t){t.sD="FM"}(CS||(CS={})),function(t){t.MM="BM"}(DS||(DS={}));var US,VS,qS;DS.MM;!function(t){t[t.UM=0]="UM",t[t.Hf=1]="Hf",t[t.VM=2]="VM"}(US||(US={})),function(t){t.qM="HM"}(VS||(VS={})),function(t){t[t.jM=0]="jM",t[t.WM=1]="WM",t[t.zM=2]="zM"}(qS||(qS={}));var HS;it.Le&&it.Fe,it.We,ts.bf,ts.kf,ts.Af,ts.If,ts.df,ts.Ef,Pd.Al,nd.sw,it.Be||it.Ue;!function(t){t.$M="closed",t.rd="open",t.df="ended"}(HS||(HS={}));var jS,WS;ts.Ff,ts.Ef,ts.Af,ts.bf,ts.kf,Pd.Al,ts.bf,ts.kf,ts.Af,ts.If,ts.df,nd.sw;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(jS||(jS={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(WS||(WS={}));var zS=function(t){function n(n){var i;return(i=t.call(this,0,n.xg)||this).XM=void 0,i.XM=n,i.Og=i.XM.Ng,i}return $(n,t),W(n,[{key:"tw",get:function(){return this.XM.tw}},{key:"zg",get:function(){return this.XM.zg},set:function(t){this.XM.zg=t}},{key:"Wg",get:function(){return this.XM.Wg},set:function(t){this.XM.Wg=t}}]),n}(ES);function $S(t){return void 0===t.wM&&(t.wM=new zS(t)),t.wM}var XS=function(t){function n(n,i){var r;(r=t.call(this,n.cw,n.rw)||this).GM=void 0,r.YM=void 0,r.KM=void 0,r._s=Ll.ID3,r.JM=function(t){r.QM(t.Dg)},r.ZM=function(t){var n=t.Dg;if(void 0!==n.wM){var i=n.wM;n.wM=void 0,r.dM(i),i.sr()}},r.tB=function(t){var n=$S(t.Dg);n.jg||r.nB(n),r.iB(n)},r.rB=function(t){var n=t.Dg,i=$S(n);r.YM.Yw<n.Ng&&r.nB(i)},r.eB=function(){var t=r.KM,n=r.aw;if(r.KM=n,n===td.vw)r.oM.forEach(function(t){return t.jg=!1}),Ce(r.oM);else if(t===td.vw)for(var i=r.YM.Yw,e=0,u=r.ZF;e<u.length;e++){var o=u[e];i<o.Og&&r.nB(o)}},r.YM=i,r.GM=n,r.KM=n.aw,n.Ks(Sv.yl,r.JM),n.Ks(Sv._l,r.ZM),n.Ks(Sv.ml,r.tB),n.Ks(Sv.bl,r.rB),n.Ks(Sv.Rl,r.eB);for(var e=0,u=r.GM.lw.jl;e<u.length;e++){var o=u[e];r.QM(o)}return r}$(n,t);var i=n.prototype;return i.nB=function(t){var n=$E(this.oM,t);if(!(n>=0)){var i=-(n+1);this.oM.splice(i,0,t),t.jg=!0,t.Ys(new GE(t,this.YM.Yw)),this.Ys(new QE(t)),this.Ys(new iS(this))}},i.iB=function(t){var n=$E(this.oM,t);n>=0&&Ie(this.oM,n),t.jg=!1,t.Ys(new KE(t,this.YM.Yw)),this.Ys(new tS(t)),this.Ys(new iS(this))},i.sr=function(){this.GM.tc(Sv.yl,this.JM),this.GM.tc(Sv._l,this.ZM),this.GM.tc(Sv.ml,this.tB),this.GM.tc(Sv.bl,this.rB),this.GM.tc(Sv.Rl,this.eB),t.prototype.sr.call(this)},i.QM=function(t){var n=$S(t);(this.KT(n),this.aw!==td.vw)&&(this.YM.Yw<n.Og&&this.nB(n))},W(n,[{key:"iw",get:function(){return this.GM.iw}},{key:"rw",get:function(){return this.GM.rw},set:function(t){this.GM.rw=t}},{key:"ew",get:function(){return this.GM.ew}},{key:"tw",get:function(){return this.GM.tw}},{key:"nw",get:function(){return this.GM.nw}},{key:"cw",get:function(){return this.GM.cw}},{key:"aw",get:function(){return this.GM.aw},set:function(t){this.GM.aw=t}},{key:"dw",get:function(){return this.GM.dw}},{key:"yw",get:function(){return this.GM.yw}}]),n}(SS),GS=function(t){function n(n){var i;return(i=t.call(this)||this).YM=void 0,i.YM=n,i}$(n,t);var i=n.prototype;return i.Ul=function(n){if(n._s===Ll.ID3){var i=n;return i.wM||(i.wM=new XS(i,this.YM)),t.prototype.Ul.call(this,i.wM)}return t.prototype.Ul.call(this,n)},i.Vl=function(n){if(n._s===Ll.ID3){var i=n;return!!i.wM&&t.prototype.Vl.call(this,i.wM)}return t.prototype.Vl.call(this,n)},n}(cd),YS=function(t){function n(n,i){var r;return(r=t.call(this)||this).uB=new Jr,r.vR=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.wl)._s){t.next=4;break}return t.next=4,i.ec(Sv.Dl);case 4:if(i._s===Ll.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.lw.Wl){t.next=11;break}return t.next=9,i.ec(Sv.yl);case 9:t.next=6;break;case 11:r.oB(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.dR=function(t){var n=t.wl;if(n._s===Ll.ID3&&r.uB.has(n.nw)){var i=r.uB.get(n.nw);r.Vl(i),r.WT.JT(i),n.tc(Sv.yl,r.QM)}},r.QM=function(t){KS(t.Dg)&&r.sB(t.Dg)},r.WT=n,r.cB=i,r.aB(),r}$(n,t);var i=n.prototype;return i.aB=function(){this.cB.Ks(kv.cl,this.vR),this.cB.Ks(kv.fl,this.dR)},i.fB=function(){this.cB.tc(kv.cl,this.vR),this.cB.tc(kv.fl,this.dR)},i.oB=function(t){var n=t.lw.jl[0];if(KS(n)){var i=function(t){var n=t.match(JS);if(!n)return;return{wl:n[1],ew:n[2]}}(n.xg.description),r=i.wl,e=i.ew;if(!this.hB(r,e)){var u=this.WT.GT(Iy.Am,t.tw,r,e,!1,Ll.TTML);this.Ul(u),this.uB.set(t.nw,u);for(var o=0,s=t.lw.jl;o<s.length;o++){var c=s[o];KS(c)&&this.sB(c)}t.Ks(Sv.yl,this.QM)}}},i.hB=function(t,n){return!!Se(this.bk.jl,function(i){return i.rw===t&&i.ew===n})},i.sB=function(t){if(t.wl)for(var n=this.uB.get(t.wl.nw),i=gy(t.xg.text,0,{xp:0,Pp:1/0,Lp:-t.Og}),r=0;r<i.length;r++){var e=i[r];n.KT(e)}},i.Hl=function(){var n=C.coroutine(Hr.mark(function n(){var i,r,e,u,o;return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.cB.jl;i<r.length;i++)r[i].tc(Sv.yl,this.QM);for(e=0,u=this.bk.jl;e<u.length;e++)o=u[e],this.WT.JT(o);return this.uB.clear(),n.next=5,t.prototype.Hl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.sr=function(){var n=C.coroutine(Hr.mark(function n(){return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.fB(),n.next=3,t.prototype.sr.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Cy);function KS(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.xg)&&JS.test(n.description);var n}var JS=/^Track:(.+),Lang:(.+)$/;var QS,ZS;new(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).vl=void 0,n}return $(n,t),W(n,[{key:"dl",get:function(){return this.vl||(this.vl=gT(this)),this.vl}},{key:"GP",get:function(){}},{key:"YP",get:function(){}},{key:"KP",get:function(){}},{key:"JP",get:function(){}},{key:"QP",get:function(){}},{key:"ZP",get:function(){}},{key:"tL",get:function(){}}]),n}(Xe));!function(t){t.vB='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.dB='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.lB='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.wB='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(QS||(QS={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(ZS||(ZS={}));var tR,nR;$r({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),$r({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),ZS.WHITE,ZS.TRANSPARENT,ZS.TRANSPARENT;!function(t){t.yB="Data",t.gB="Tag",t._B="StartTag",t.pB="StartTagClass",t.mB="StartTagAnnotation",t.kB="CharRefInAnnotation",t.bB="EndTag",t.TB="TimestampTag"}(tR||(tR={})),function(t){t.bF="string",t.EB="starttag",t.SB="endtag",t.RB="timestamp"}(nR||(nR={}));var iR,rR;ZS.WHITE,ZS.TRANSPARENT;!function(t){t[t.IB=0]="IB",t[t.AB=1]="AB",t[t.CB=2]="CB",t[t.DB=3]="DB",t[t.NB=4]="NB",t[t.OB=5]="OB"}(iR||(iR={})),function(t){t[t.xB=0]="xB",t[t.PB=1]="PB",t[t.LB=2]="LB",t[t.FB=3]="FB"}(rR||(rR={}));var eR,uR;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.FI=0]="FI",t[t.MB=1]="MB",t[t.BB=2]="BB",t[t.UB=3]="UB",t[t.au=4]="au"}(eR||(eR={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(uR||(uR={}));var oR;ZS.WHITE,QS.lB,ZS.BLACK,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.GREEN,uR.FONT_REGULAR,ZS.GREEN,uR.FONT_UNDERLINE,ZS.BLUE,uR.FONT_REGULAR,ZS.BLUE,uR.FONT_UNDERLINE,ZS.CYAN,uR.FONT_REGULAR,ZS.CYAN,uR.FONT_UNDERLINE,ZS.RED,uR.FONT_REGULAR,ZS.RED,uR.FONT_UNDERLINE,ZS.YELLOW,uR.FONT_REGULAR,ZS.YELLOW,uR.FONT_UNDERLINE,ZS.MAGENTA,uR.FONT_REGULAR,ZS.MAGENTA,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_ITALICS,ZS.WHITE,uR.FONT_UNDERLINE_ITALICS,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE,ZS.WHITE,uR.FONT_REGULAR,ZS.WHITE,uR.FONT_UNDERLINE;!function(t){t.VB="HELLO",t.qB="HI_THERE",t.HB="INITIALIZE",t.jB="APPEND_INIT",t.WB="APPEND_DATA",t.zB="ACK",t.$B="REMOVE",t.XB="DESTROY_SESSION"}(oR||(oR={}));var sR=rw.D_,cR=new rw(-1/0),aR=rw.dp,fR=new(function(t){function n(n,i){return t.call(this,n,i)||this}$(n,t);var i=n.prototype;return i.v_=function(t,n){return t.g_(n)?Gl.c_:t.Hg(n)?Gl.o_:Gl.s_},i.vg=function(t,n){return t.vg(n)},i.k_=function(t,n){return t.k_(n)},i.y_=function(t,n){return t.y_(n)},i.oA=function(){return sR},i.sA=function(){return aR},i.hA=function(){return cR},n.CA=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new rw(t.start(r)),new rw(t.end(r)));return new n(i)},n.GB=function(t){for(var i=[],r=[],e=0;e<t.Wl;e++)i.push(new rw(t.YI(e))),i.push(new rw(t.JI(e))),r.push(t.KI(e)),r.push(t.QI(e));return new n(i,r)},n.NA=function(t){return new n([t,t],[!0,!0])},i.eA=function(t,i){return new n(t,i)},i.iA=function(t){return t.hp},n.OA=function(){return fR},n}(em))([]),hR=(bl.Uv,bl.Vv,function(t){function n(n){var i;return(i=t.call(this,ts.sf)||this).errorObject=void 0,i.errorObject=n,i}return $(n,t),W(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ye)),vR=function(t){function n(){return t.call(this,ts.cf)||this}return $(n,t),n}(Ye),dR=function(t){function n(n){var i;return(i=t.call(this,"Bf")||this).YB=n,i}return $(n,t),n}(Ye),lR=new MT,wR=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).Qc=void 0,u.Pi=!1,u.KB=!1,u.Hd=new Ne,u.Hc=function(t){switch(t.cc){case"license-request":u.xE(t.sc,t.ac).catch(function(t){return u.ka(t)});break;default:u.ka(new _l(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.cc))}},u.JB=function(t){u.QB.ta.pc(function(t,n){switch(t){case"usable":N.xo(function(){u.KB=!0,u.Ys(new vR)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Ys(new dR(n))}})},u.ZB=function(t){u.ka(new _l(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.QB=i,u.tU=r,u.nU=e,i.Ks("sc",u.Hc),i.Ks("oc",u.JB),i.Ks("fc",u.ZB),u.Qc=i.Qc.then(function(){return u.iU()}),u}$(i,t);var r=i.prototype;return r.Xc=function(){var t=this;return this.Pi=!0,lR.zL(function(n){return t.rU(n)},this.Hd.Ws)},r.rU=function(){var t=C.coroutine(Hr.mark(function t(i){var r,e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Pe(i),t.next=4,this.tU.RE(i);case 4:return t.next=6,this.tU.IE(this.nU.ks,this.nU.wc,i);case 6:return r=t.sent,t.next=9,this.QB.Xc(this.nU.ks,this.nU.wc,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),Le(t.t0),e=t.t0 instanceof ao?t.t0.Lc:void 0,u=new _l(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ka(u),u;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.xE=function(){var t=C.coroutine(Hr.mark(function t(i,r){var e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!oo(i)){t.next=7;break}return t.next=4,this.tU.qE(new p(i),this.Hd.Ws);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.tU.HE(new p(i),r,this.Hd.Ws);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!xe(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.QB.Kc(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),u=t.t1 instanceof ao?t.t1.Lc:void 0,new _l(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ka=function(t){var i=t instanceof _l?t:new _l(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ys(new hR(i)),this.$c()},r.iU=function(){this.QB.tc("sc",this.Hc),this.QB.tc("oc",this.JB),this.QB.tc("fc",this.ZB),this.KB=!1,this.Hd.qs()},r.$c=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zs(),this.iU(),t.next=4,this.QB.$c().catch(L);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Xe),yR=[ts.cf,ts.sf,ts.Mf],gR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jc=void 0,e.ia=void 0,e.eU=void 0,e.uU=[],e.oU=void 0,e.sU=[],e.jc=n,e.ia=i,e.eU=r,e}$(n,t);var i=n.prototype;return i.VE=function(){return this.eU.VE()},i.cU=function(t){return this.oU||(this.oU=this.aU(t)),this.oU},i.aU=function(){var t=C.coroutine(Hr.mark(function t(n){var i;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Pe(n),t.next=3,this.eU.qE(new p(uo()),n);case 3:return i=t.sent,Pe(n),t.next=7,this.ia.oa(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xM=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e=this;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.sU.push(n),t.next=4,this.ia.ua("temporary");case 4:return i=t.sent,r=new wR(i,this.eU,n),this.uU.push(r),r.Ks(yR,this.Gs),r.Qc.then(function(){return e.fU(r)}),t.abrupt("return",r);case 10:return t.prev=10,Re(this.sU,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.hU=function(t){if(t.vU)return!1;for(var n=0,i=this.uU;n<i.length;n++){if(_R(i[n].nU,t))return!0}for(var r=0,e=this.sU;r<e.length;r++){if(_R(e[r],t))return!0}return!1},i.fU=function(t){t.tc(yR,this.Gs),Re(this.uU,t)},i.sr=function(){var t=C.coroutine(Hr.mark(function t(){var n;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zs(),n=this.uU.slice(),Ce(this.uU),t.next=5,C.all(n.map(function(t){return t.$c()}));case 5:this.eU.Ls();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(n,[{key:"ra",get:function(){return this.jc}}]),n}(Xe);function _R(t,n){return!t.vU&&t.ks===n.ks&&lu(t.wc,n.wc)}var pR=function(t){function i(n){var i;return(i=t.call(this)||this).mR=void 0,i.Hd=new Ne,i.iF=new MT,i.Aa=void 0,i.eU=void 0,i.kR=void 0,i.jc=void 0,i.dU=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.lU(n.ks,n.wc,i.Hd.Ws);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),xe(t.t0)||i.ka(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.mR=n,i.mR.Ks($e.hc,i.dU),i}$(i,t);var r=i.prototype;return r.Gc=function(t,n){this.kR=t,this.kM(n)},r.kM=function(t){this.Aa=t,this.wU(this.Hd.Ws).catch(Fe)},r.wU=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!N.Go.lo){t.next=5;break}return t.next=3,this.yU(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.Aa||!this.Aa.gU){t.next=9;break}return t.next=8,this._U(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.yU=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e,u,o,s,c,a,f,h,v;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.Aa)?void 0:i.JR){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,u=null!=(o=null==(s=this.Aa)?void 0:s.JR)?o:[];case 5:if(!(e<u.length)){t.next=27;break}c=u[e],a=0,f=null!=(h=c.aR)?h:[];case 8:if(!(a<f.length)){t.next=22;break}return v=f[a],t.prev=10,t.next=13,this.lU(c.ra.ks,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),Le(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.lU=function(){var t=C.coroutine(Hr.mark(function t(i,r,e){var u,o,s,c,a,f,h,v,d,l;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Pe(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Aa&&this.Aa.JR.length){t.next=5;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===Zr||i===ne||i===te){t.next=8;break}return t.abrupt("return");case 8:u=i_(i,r),o=this.Aa.JR,c=0;case 11:if(!(c<o.length)){t.next=42;break}if(a=o[c],Pe(e),(f=u[a.ra.bs])&&a.ra.ks===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.pU(a,e);case 20:if(!(h=t.sent).VE()){t.next=24;break}return t.next=24,h.cU();case 24:if(v=this.mR.Zy,d={ks:a.ra.ks,wc:f,vU:v},!this.mU(h,d)){t.next=32;break}return t.next=29,h.xM(d);case 29:return l=t.sent,t.next=32,l.Xc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),Le(t.t0),s=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,N.Mo();case 44:if(!t.sent){t.next=48;break}throw new _l(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new _l(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r._U=function(){var t=C.coroutine(Hr.mark(function t(n){var i,r,e,u,o;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this.Aa)?void 0:i.JR){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return u=r[e],Pe(n),t.prev=7,t.next=10,this.pU(u,n);case 10:if(!(o=t.sent).VE()){t.next=14;break}return t.next=14,o.cU();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),Le(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.mU=function(t,n){return N.Go.do||!t.hU(n)},r.pU=function(t,n){var i=this;return this.iF.zL(function(n){return i.kU(t,n)},n)},r.kU=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u,o,s;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Pe(i),this.Aa&&this.eU&&this.kR){t.next=3;break}throw new v("Not initialized");case 3:if(!this.jc){t.next=7;break}if(this.jc.ra===n.ra){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.jc);case 7:return r=this.eU,e=jr({},n,{fI:n.fI.map(function(t){var i;return jr({},t,{persistentState:null!=(i=t.persistentState)?i:r.cS(n.ra),da:t.da||r.da(n.ra)})})}),t.next=11,this.kR._M(e.ra,e.fI);case 11:return u=t.sent,o=r.cR(e),(s=new gR(e.ra,u,o)).Ks([ts.cf,ts.sf,ts.Mf],this.Gs),this.jc=s,t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ka=function(t){var i=t instanceof _l?t:new _l(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Ys(new hR(i))},r.Hl=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kR=void 0,this.Aa=void 0,this.Hd.qs(),this.Hd=new Ne,t.next=6,this.bU();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.bU=function(){var t=C.coroutine(Hr.mark(function t(){var n;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iF.qs();case 2:if(!(n=this.jc)){t.next=8;break}return n.tc(ts.Mf,this.Gs),this.jc=void 0,t.next=8,n.sr();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Ls=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Zs(),this.mR.tc($e.hc,this.dU),t.next=4,this.Hl();case 4:return t.next=6,this.iF.sr();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),W(i,[{key:"TU",get:function(){var t;return null==(t=this.jc)?void 0:t.ra}},{key:"GR",get:function(){return this.eU},set:function(t){this.eU=t}}]),i}(Xe);it.Be||it.Ue,it.ru,it.We;var mR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.mU=function(t,n){return!0},n}(pR),kR=function(t){function n(n,i,r){var e;return void 0===r&&(r=new MS(i)),(e=t.call(this)||this).kR=void 0,e.Ss=void 0,e.EU=void 0,e.SU=new MT,e.RU=void 0,e.LM=void 0,e.IU=!1,e.Ba=void 0,e.Oa=null,e.AU={tg:0,ng:0,ig:0,rg:0,eg:0,ug:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.CU=function(t){"boolean"==typeof t.detail.casting&&(e.IU=t.detail.casting,e.Ys(new Vl(e.IU)))},e.DU=function(t){e.Ba=t.sessionId,e.Oa&&(e.Oa.sessionId=e.Ba);var n=t.initData;if(n){var i=function(t){try{var n=Ju(t),i=new ro;return Wu(zu(Cu(n,i,xu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;e.Ys(new nu(ne,i))}else e.Ys(new nu(ne,new ArrayBuffer(0)))},e.RU=n,e.LM=i,e.LM.Ks(TS.RM,e.DU),e.Ss=r,e.EU=new mR(un(e)),e.NU(),e}$(n,t);var i=n.prototype;return i.OU=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i._s===Xy.ZT)return i}},i.Ls=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hl();case 2:return this.Zs(),this.xU(),this.LM.tc(TS.RM,this.DU),t.next=7,this.EU.Ls();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qy=function(){throw new v("Not implemented yet")},i.GT=function(t,n,i,r,e,u,o){throw new v("Not implemented yet")},i.iI=function(){return!1},i.eI=function(t,n,i,r){throw new v("Not implemented yet")},i.JT=function(t){throw new v("Not implemented yet")},i.sI=function(){throw new v("Not implemented yet")},i.Gc=function(){var t=C.coroutine(Hr.mark(function t(n){var i=this;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.SU.zL(function(){var t=C.coroutine(Hr.mark(function t(r){var e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n._s!==Xy.ZT){t.next=8;break}return Pe(r),e=new AS(n,i,i.Ss),i.kR=e,i.EU.Gc(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nr=function(){throw new v("Not implemented yet")},i.tr=function(){throw new v("Not implemented yet")},i.Hl=function(){var t=this;return this.SU.qs(),this.SU.zL(C.coroutine(Hr.mark(function n(){return Hr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.kR){n.next=4;break}return n.next=3,t.kR.Ls();case 3:t.kR=void 0;case 4:return n.next=6,t.EU.Hl();case 6:case"end":return n.stop()}},n)})))},i.Sc=function(t,n){throw new v("Not implemented yet")},i.dI=function(t){throw new v("Not implemented yet")},i.Vy=function(){throw new v("Not implemented yet")},i.lI=function(){return this.AU},i.NU=function(){this.RU.addEventListener("airPlayIsCasting",this.CU)},i.xU=function(){this.RU.removeEventListener("airPlayIsCasting",this.CU)},i.webkitSetMediaKeys=function(t){this.Oa=t||null,this.Oa&&(this.Oa.sessionId=this.Ba)},i.PU=function(){},i.LU=function(){throw new v("Not implemented yet")},i.FU=function(){throw new v("Not implemented yet")},W(n,[{key:"Jy",get:function(){throw new v("Not implemented yet")}},{key:"Ky",get:function(){throw new v("Not implemented yet")}},{key:"Yw",get:function(){throw new v("Not implemented yet")}},{key:"RL",get:function(){throw new v("Not implemented yet")}},{key:"Kw",get:function(){throw new v("Not implemented yet")}},{key:"Jw",get:function(){throw new v("Not implemented yet")}},{key:"fc",get:function(){throw new v("Not implemented yet")}},{key:"Bk",get:function(){throw new v("Not implemented yet")}},{key:"Zy",get:function(){return this.IU}},{key:"Zw",get:function(){throw new v("Not implemented yet")}},{key:"ty",get:function(){throw new v("Not implemented yet")}},{key:"ny",get:function(){throw new v("Not implemented yet")}},{key:"sg",get:function(){throw new v("Not implemented yet")}},{key:"dw",get:function(){throw new v("Not implemented yet")}},{key:"ag",get:function(){throw new v("Not implemented yet")}},{key:"iy",get:function(){throw new v("Not implemented yet")}},{key:"MU",get:function(){throw new v("Not implemented yet")}},{key:"oy",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"bo",get:function(){throw new v("Not implemented yet")}},{key:"oI",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Oa}},{key:"BU",get:function(){return IS}},{key:"Dy",get:function(){throw new v("Not implemented yet")}},{key:"AL",get:function(){throw new v("Not implemented yet")}},{key:"wI",get:function(){throw new v("Not implemented yet")}},{key:"UU",get:function(){return!0}},{key:"GR",get:function(){return this.EU.GR},set:function(t){this.EU.GR=t}},{key:"TU",get:function(){return this.EU.TU}}]),n}(ad),bR=function(t){function n(n){var i;return(i=t.call(this,ts.Uf)||this).AU=n,i}return $(n,t),n}(Ye);var TR=function(t){function n(n){return t.call(this,Ml.Ol,n)||this}return $(n,t),n.prototype.ll=function(){return new ER(this.Dg.dl)},n}(ql),ER=function(t){function n(n){return t.call(this,Bl.Ol,n)||this}return $(n,t),n}(Hl),SR=function(t){function n(n,i){var r,e=RR(i,n.Kw,n.wI,n.VU);return(r=t.call(this,i,e,void 0,!1,n.tw)||this).qU=void 0,r.HU=void 0,r.jU=void 0,r.WU=void 0,r.zU=void 0,r.$U=void 0,r.XU=void 0,r.GU=void 0,r.YU=void 0,r.KU=void 0,r.qU=n.JU,r.HU=n.wI,r.jU=n.VU,r.WU=n.Kw,r.zU=n.QU,r.$U=Boolean(n.ZU),r.XU=n.tV||{},r.GU=n.nV,r.YU=n.iV,r.KU=n.rV,r.eV(),r.uV(),r}$(n,t);var i=n.prototype;return i.Kc=function(t){var n=!1;void 0===this.qU&&void 0!==t.JU&&(n=!0,this.qU=t.JU),void 0===this.jU&&void 0!==t.VU&&(n=!0,this.jU=t.VU),void 0===this.WU&&void 0!==t.Kw&&(n=!0,this.WU=t.Kw),void 0===this.zU&&void 0!==t.QU&&(n=!0,this.zU=t.QU),!this.$U&&t.ZU&&(n=!0,this.$U=t.ZU),n=this.updateCustomAttributes(t,n),void 0===this.GU&&void 0!==t.nV&&(n=!0,this.GU=t.nV),void 0===this.YU&&void 0!==t.iV&&(n=!0,this.YU=t.iV),void 0===this.KU&&void 0!==t.rV&&(n=!0,this.KU=t.rV),this.eV(),this.uV(),this.oV(),n&&this.Ys(new TR(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.tV)for(var r=0,e=l.keys(t.tV);r<e.length;r++){var u=e[r];void 0===this.XU[u]&&(i=!0,this.XU[u]=t.tV[u])}return i},i.eV=function(){this.WU&&!this.jU&&(this.jU=new Date(this.HU.getTime()+1e3*this.WU))},i.uV=function(){this.jU&&!this.WU&&(this.WU=nn(this.jU.getTime()-this.HU.getTime()))},i.oV=function(){this.Lg===1/0&&(this.jU||this.WU)&&(this.Lg=RR(this.Pg,this.WU,this.HU,this.jU))},W(n,[{key:"dl",get:function(){var t;return this.vl||(this.vl=Bv(jl(t=this),{get content(){return t.xg},get class(){return t.JU},get startDate(){return t.wI},get endDate(){return t.VU},get duration(){return t.Kw},get plannedDuration(){return t.QU},get endOnNext(){return t.ZU},get scte35Cmd(){return t.nV},get scte35Out(){return t.iV},get scte35In(){return t.rV},get customAttributes(){return t.tV}})),this.vl}},{key:"JU",get:function(){return this.qU}},{key:"wI",get:function(){return this.HU}},{key:"VU",get:function(){return this.jU}},{key:"Kw",get:function(){return this.WU}},{key:"QU",get:function(){return this.zU}},{key:"ZU",get:function(){return this.$U}},{key:"nV",get:function(){return this.GU}},{key:"iV",get:function(){return this.YU}},{key:"rV",get:function(){return this.KU}},{key:"tV",get:function(){return this.XU}}]),n}($l);function RR(t,n,i,r){return ut(n)?t+n:r?t+(nn(r.getTime())-nn(i.getTime())):1/0}var IR,AR=function(t){function n(){return t.call(this,void 0,void 0,Ll.DATE_RANGE)||this}$(n,t);var i=n.prototype;return i.Kc=function(t,n){for(var i=this,r=function(t){for(var n=zr(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.tw)){var u=n.get(e.tw),o=jr({},u,Hv(e),{tV:jr({},u.tV,e.tV)});n.set(e.tw,o)}else n.set(e.tw,e),i.push(e.tw)}return i.map(function(t){return n.get(t)})}(t),e=this.lw.jl,u=function(t){var n=e[t],u=Se(r,function(t){return t.tw===n.tw});u?n.Kc(u):i.dM(n)},o=e.length-1;o>=0;o--)u(o);for(var s=0;s<r.length;s++){var c=r[s],a=c.wI;if(void 0!==a&&!this.hM(c.tw)){var f=n(a);this.KT(new SR(c,f))}}},i.KT=function(n){this.sV(n),t.prototype.KT.call(this,n)},i.sV=function(t){var n=this.ZF.filter(function(n){return n.JU===t.JU}).pop();n&&n.ZU&&n.Kc({tw:n.tw,VU:t.wI})},n}(SS);function CR(t){switch(t.type){case IR.bF:return t.value;case IR.kF:return Wv(t.value);case IR.mF:return au(t.value);default:return}}function DR(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.bF="daterange-ca-type_string",t.kF="daterange-ca-type_number",t.mF="daterange-ca-type_arraybuffer"}(IR||(IR={}));var NR,OR,xR,PR=function(t){function n(n,i,r,e,u){var o;return(o=t.call(this,e,i,r)||this).BS=void 0,o.cV=void 0,o.BS=n,o.cV=u,o}return $(n,t),W(n,[{key:"name",get:function(){return this.BS}},{key:"timestamp",get:function(){return this.cV}}]),n}(Po),LR=function(t){function n(n,i,r,e,u,o,s,c){var a;return(a=t.call(this,n,i,r,e,c)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=u,a.status=o,a.errorComment=s,a}return $(n,t),n}(PR),FR=function(){function t(t,n){this.Ey=void 0,this.aV=void 0,this.Ey=new Ay,this.aV=new uS(t,n)}var n=t.prototype;return n.GT=function(t,n,i,r,e,u){var o=new kS(t,n,i,r,e,u);return this.Ey.Ul(o),this.aV.Ul(o),o},n.JT=function(t){this.Ey.Vl(t),this.aV.Vl(t),t.sr()},n.Hl=function(){for(var t=0,n=this.Ey.jl.slice();t<n.length;t++){n[t].sr()}this.Ey.Hl(),this.aV.Hl()},n.sr=function(){this.Hl(),this.Ey.sr(),this.aV.sr()},W(t,[{key:"Dy",get:function(){return this.Ey}}]),t}(),MR=function(t){function n(n,i,r,e,u){var o;(o=t.call(this)||this).MA=0,o.fV=!1,o.bR=void 0,o.TR=void 0,o.hV=void 0,o.UA=!0,o.VA=1,o.by=void 0,o.Ty=void 0,o.vV=void 0,o.dV=void 0,o.lV=void 0,o.Ey=void 0,o.WT=void 0,o.WU=void 0,o.wV=um.OA(),o.yV=um.OA(),o.BA=!1,o.gV=um.OA(),o.qA=void 0,o._V=void 0,o.pV=void 0,o.eM=pd.Bw,o.nE=pd.Bw,o.RU=void 0,o.aV=void 0,o.RR=void 0,o.GF=void 0,o.mV=void 0,o.$A=void 0,o.mR=void 0,o.IR=void 0,o.LM=void 0,o.AU={tg:0,ng:0,ig:0,rg:0,eg:0,ug:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.kR=void 0,o.kV=void 0,o.CR=new Vp,o.setCurrentTime=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.ag.length){t.next=4;break}return o.MA=n,t.next=4,o.RU.ec("seekablechange");case 4:o.MA=o.updateCurrentTime(n),o.GF.JF("THEOplayerSetCurrentTime",o.MA),o.qA=!0,o.Ys(new Xd(o.MA));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.bV=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.wV=new um(i),o.Ys(new fS(o.Yw))}},o.TV=function(t){o.eM=t.detail.readyState,o.Ys(new Kd(+t.detail.currentTime,o.dw)),o.EV()},o.SV=function(t){o.eM=t.detail.readyState,o.Ys(new Jd(+t.detail.currentTime,o.dw)),o.EV()},o.RV=function(t){if(t.detail){var n=+t.detail.duration;o.WU=n,o.Ys(new Hd(o.Kw))}},o.IV=function(t){t.detail&&(o.fV=!0,o.Ys(new zd(+t.detail.currentTime)))},o.DR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);DR(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.TR=new LR(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),o.bR=kl(o.TR),o.Ys(new Zd(o.TR))):DR(i)&&(o.TR=new PR(i.name,i.message,void 0,i.code,i.timestamp),o.bR=kl(o.TR),o.Ys(new Zd(o.TR)))}},o.AV=function(t){o.Ys(new aS)},o.CV=function(t){o.eM=t.detail.readyState,o.Ys(new $d(+t.detail.currentTime,o.dw)),o.EV()},o.DV=function(){var t=C.coroutine(Hr.mark(function t(n){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.ag.length){t.next=3;break}return t.next=3,o.RU.ec("seekablechange");case 3:o.eM=n.detail.readyState,o.Ys(new qd(+n.detail.currentTime,o.dw)),o.EV();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.NV=function(t){t.detail&&o.UA&&(o.UA=!1,o.Ys(new Md(+t.detail.currentTime)))},o.OV=function(t){t.detail&&(o.UA||(o.UA=!0,o.Ys(new Fd(+t.detail.currentTime))))},o.xV=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.gV=new um(i).dA(.05)}},o.PV=function(t){t.detail&&o.Ys(new og(+t.detail.currentTime))},o.LV=function(t){t.detail&&(o.VA=t.detail.playbackRate,o.Ys(new jd(+t.detail.currentTime,o.VA)))},o.FV=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}o.yV=new um(i)}},o.MV=function(t){t.detail&&(o.MA=+t.detail.currentTime,o.qA=!1,o.Ys(new Wd(o.MA,o.hV)),o.Ys(new Gd(o.MA)))},o.BV=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.WU&&(o.fV=!1),o.qA=!0,o.Ys(new Xd(n))}},o.UV=function(t){t.detail&&(t.detail.currentDate&&(o.hV=new Date(1e3*t.detail.currentDate)),o.MA=+t.detail.currentTime,o.Ys(new Wd(o.MA,o.hV)))},o.VV=function(t){o._V=t.detail.height,o.pV=t.detail.width},o.qV=function(t){t.detail&&o.Ys(new ug(+t.detail.currentTime))},o.HV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Ay.Ul(new Ol(n))},o.jV=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<o.by.Wl;u++){var s=o.Ay.Bl(u);s.ew==r&&s.rw==e?i=o.by.Bl(u):1==s.Zl&&(n=o.by.Bl(u))}i&&n&&(i.Zl=!0,n.Zl=!1)},o.WV=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.Cy.Ul(new Ul(n))},o.zV=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Iy.Dm&&r===Ll.ID3?(n=new RS("",t.detail.label)).aw=td.hw:i===Iy.Dm&&r===Ll.DATE_RANGE?(n=new AR,o.kV=n):n=new kS(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),o.vV.Ul(n),o.aV.Ul(n)},o.$V=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var s=new ES(Wv(r.startTime),u,r.uid),c=o.XV();c&&c.KT(s)}},o.GV=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],u=new Xl(Wv(e.startTime),Wv(e.endTime),e.content,!1),s=null!=(r=o.YV(Iy.Am))?r:o.YV(Iy.BT);s&&(s._s=Ll.WEBVTT,s.KT(u))}},o.KV=function(t){t.type===ts.sf&&(o.bR=kl(t.errorObject)),o.Gs(t)},o.JV=function(t){t.detail&&(o.AU.ng=t.detail.corruptedVideoFrames,o.AU.tg=t.detail.droppedVideoFrames,o.Ys(new bR(o.yy)))},o.QV=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={tw:t.id};if(void 0!==t.startDate&&(n.wI=new Date(t.startDate)),void 0!==t.endDate&&(n.VU=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=CR(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.tV=r}void 0!==t.scte35Cmd&&(n.nV=au(t.scte35Cmd)),void 0!==t.scte35In&&(n.rV=au(t.scte35In)),void 0!==t.scte35Out&&(n.iV=au(t.scte35Out)),void 0!==t.startTime&&(n.Ng=t.startTime),n.JU=t.class,n.Kw=Wv(t.duration),n.QU=Wv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Ng?t.Ng:(new Date).getTime(),r=new SR(t,i);o.kV.KT(r),o.kV.Kc(n,i)})};var s=e.uid;o.GF=o.getSdkBridge(s),o.RU=new jE,xE()[s].sdkEventBus=o.RU,o.by=new Tl,o.Ty=new Tl;var c=o.ZV(r);return o.WT=new FR(un(o),new oS),o.aV=new cS(un(o)),o.RR=new qy(o.WT,c),o.vV=new Ay,o.dV=new GS(un(o)),o.dV.Kl=o.vV,o.lV=new YS(o.WT,o.dV),o.Ey=new jp([o.vV,o.RR.bk,o.lV.bk]),o.LM=o.getFairPlayControllerBridge(o.GF),o.mR=new kR(o.RU,o.LM),o.IR=new qp(c),o.mR.GR=o.IR,o.observeMediaElement(),o.KR(),o.$A=new hS(o.GF,u),o.$A.Ks("ux",function(){o.GF.JF("THEOplayerSetPreferredForwardBufferDuration",o.$A.ex)}),o}$(n,t);var i=n.prototype;return i.jy=function(){return cm},i.Vy=function(){this.GF.JF("THEOplayerShow",{})},i.qy=function(){this.GF.JF("THEOplayerHide",{})},i.tq=function(){var t=this;this.GF.JF("THEOplayerSetInitialPreferredPeakBitRate",this.$A.mx);this.Ks("playing",function n(){t.GF.JF("THEOplayerSetInitialPreferredPeakBitRate",0),t.tc("playing",n)})},i.Py=function(){var t=C.coroutine(Hr.mark(function t(n,i){var r,e,u;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mV=n,r=jr({},i,{sources:{src:n.src,type:yd.Nw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.GF.JF("THEOplayerSourceChange",r),e={_s:Xy.ZT,yw:n.src,ov:n.type,JR:this.QR(n),ZR:n.crossOrigin,tI:i.metadata&&i.metadata.title},this.IR.sR(n.contentProtection),t.next=7,this.mR.Gc(e);case 7:this.kR=t.sent,i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Ll.WEBVTT})).length>0&&this.nI(u),$y(this.Dy),this.tq();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.QR=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{ra:fe,fI:[{initDataTypes:[fe.ks],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.tr=function(){this.UA=!1,this.Ys(new Md(this.Yw)),this.GF.JF("THEOplayerPlay",{})},i.nr=function(){this.UA=!0,this.Ys(new Fd(this.Yw)),this.GF.JF("THEOplayerPause",{})},i.Hy=function(){},i.Hl=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.MA=0,this.fV=!1,this.bR=void 0,this.TR=void 0,this.UA=!0,this.VA=1,this.WU=void 0,this.yV=um.OA(),this.wV=um.OA(),this._V=void 0,this.pV=void 0,this.eM=pd.Bw,this.nE=pd.Bw,this.by.Hl(),this.Ty.Hl(),this.vV.Hl(),this.Ey.Hl(),t.next=19,this.lV.Hl();case 19:return this.dV.Hl(),t.next=22,this.RR.Hl();case 22:return this.WT.Hl(),this.aV.Hl(),this.mV=void 0,t.next=27,this.mR.Hl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fy=function(){this.GF.JF("THEOplayerShowAirPlayPicker",{})},i.My=function(){this.GF.JF("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.yy.ng=t.ng,this.yy.tg=t.tg},i.sr=function(){var t=C.coroutine(Hr.mark(function t(){return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Hl();case 2:return this.Zs(),this.unobserveMediaElement(),this.aI(),this.mR.GR=void 0,t.next=8,this.mR.Ls();case 8:return this.by.sr(),this.Ty.sr(),this.vV.sr(),this.Ey.sr(),this.dV.sr(),t.next=15,this.lV.sr();case 15:return t.next=17,this.RR.sr();case 17:this.WT.sr(),this.aV.sr();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.RR.XT(i)}},i.EV=function(){var t=this.nE,n=this.eM;t!==n&&(this.nE=n,this.Ys(new Qd(this.Yw,n)))},i.observeMediaElement=function(){this.mR.Ks(ts.if,this.Gs),this.mR.Ks([ts.cf,ts.sf],this.KV),this.RU.addEventListener("play",this.NV),this.RU.addEventListener("pause",this.OV),this.RU.addEventListener("seeking",this.BV),this.RU.addEventListener("seeked",this.MV),this.RU.addEventListener("ratechange",this.LV),this.RU.addEventListener("durationchange",this.RV),this.RU.addEventListener("timeupdate",this.UV),this.RU.addEventListener("waiting",this.qV),this.RU.addEventListener("playing",this.PV),this.RU.addEventListener("ended",this.IV),this.RU.addEventListener("loadedmetadata",this.DV),this.RU.addEventListener("loadeddata",this.CV),this.RU.addEventListener("loadstart",this.AV),this.RU.addEventListener("canplay",this.TV),this.RU.addEventListener("canplaythrough",this.SV),this.RU.addEventListener("error",this.DR),this.RU.addEventListener("seekablechange",this.FV),this.RU.addEventListener("videosizechange",this.VV),this.RU.addEventListener("bufferedchange",this.bV),this.RU.addEventListener("playedchange",this.xV),this.RU.addEventListener("metricschange",this.JV),this.RU.addEventListener("addDateRangeCues",this.QV)},i.unobserveMediaElement=function(){this.mR.tc(ts.if,this.Gs),this.mR.tc([ts.cf,ts.sf],this.KV),this.RU.removeEventListener("play",this.NV),this.RU.removeEventListener("pause",this.OV),this.RU.removeEventListener("seeking",this.BV),this.RU.removeEventListener("seeked",this.MV),this.RU.removeEventListener("ratechange",this.LV),this.RU.removeEventListener("durationchange",this.RV),this.RU.removeEventListener("timeupdate",this.UV),this.RU.removeEventListener("waiting",this.qV),this.RU.removeEventListener("playing",this.PV),this.RU.removeEventListener("ended",this.IV),this.RU.removeEventListener("loadedmetadata",this.DV),this.RU.removeEventListener("loadeddata",this.CV),this.RU.removeEventListener("loadstart",this.AV),this.RU.removeEventListener("canplay",this.TV),this.RU.removeEventListener("canplaythrough",this.SV),this.RU.removeEventListener("error",this.DR),this.RU.removeEventListener("seekablechange",this.FV),this.RU.removeEventListener("videosizechange",this.VV),this.RU.removeEventListener("bufferedchange",this.bV),this.RU.removeEventListener("playedchange",this.xV),this.RU.removeEventListener("metricschange",this.JV),this.RU.removeEventListener("addDateRangeCues",this.QV)},i.updateCurrentTime=function(t){var n=this.ag.start(0),i=this.ag.end(0);return w.min(w.max(t,n),i)},i.XV=function(){for(var t=0,n=this.Ey.jl;t<n.length;t++){var i=n[t];if(i.iw===Iy.Dm&&i._s===Ll.ID3)return i}},i.YV=function(t){for(var n=0,i=this.Ey.jl;n<i.length;n++){var r=i[n],e=r.aw===td.fw,u=r.iw===t;if(e&&u)return r}},i.KR=function(){this.RU.addEventListener("addaudiotrack",this.HV),this.RU.addEventListener("enableaudiotrack",this.jV),this.RU.addEventListener("addvideotrack",this.WV),this.RU.addEventListener("addtexttrack",this.zV),this.RU.addEventListener("addtexttrackid3cues",this.$V),this.RU.addEventListener("addtexttrackcues",this.GV)},i.aI=function(){this.RU.removeEventListener("addaudiotrack",this.HV),this.RU.removeEventListener("enableaudiotrack",this.jV),this.RU.removeEventListener("addvideotrack",this.WV),this.RU.removeEventListener("addtexttrack",this.zV),this.RU.removeEventListener("addtexttrackid3cues",this.$V),this.RU.removeEventListener("addtexttrackcues",this.nq)},i.Yy=function(){},W(n,[{key:"Ay",get:function(){return this.by}},{key:"Ky",get:function(){return this.wV.vI()}},{key:"Jy",get:function(){return this.hV?this.hV:null},set:function(t){this.GF.JF("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.hV=t}},{key:"Yw",get:function(){return this.MA},set:function(t){this.setCurrentTime(t)}},{key:"Kw",get:function(){return this.WU}},{key:"Jw",get:function(){return this.fV}},{key:"fc",get:function(){return this.bR}},{key:"Qw",get:function(){return this.TR}},{key:"Ny",get:function(){}},{key:"Zy",get:function(){return this.mR.Zy}},{key:"yy",get:function(){return this.AU}},{key:"Zw",get:function(){return this.BA},set:function(t){this.BA!==t&&(this.GF.JF("THEOplayerSetMuted",t),this.BA=t,this.Ys(new Yd(this.Yw,t?0:1)))}},{key:"ty",get:function(){return this.UA}},{key:"ny",get:function(){return this.VA},set:function(t){this.GF.JF("THEOplayerSetPlaybackRate",t),this.VA=t}},{key:"sg",get:function(){return this.gV.vI()}},{key:"cg",get:function(){return Jp.FI},set:function(t){}},{key:"dw",get:function(){return this.eM}},{key:"ag",get:function(){return this.yV.vI()}},{key:"iy",get:function(){return this.qA}},{key:"wI",get:function(){}},{key:"Dy",get:function(){return this.Ey}},{key:"ey",get:function(){return this._V}},{key:"uy",get:function(){return this.pV}},{key:"oy",get:function(){return 1},set:function(t){}},{key:"Cy",get:function(){return this.Ty}},{key:"yI",get:function(){return this.CR}},{key:"fg",get:function(){return!1},set:function(t){}},{key:"og",get:function(){return!0}}]),n}(ad),BR=function(){function t(){this.gI=Pp.tR}var n=t.prototype;return n._I=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((r=n.type)&&le(r.toLowerCase(),yd.Dw))return!1;var r,e=n.contentProtection;if(e&&!Wg(e)){if(!Xg(e))return!1;if(!t.iq(e))return!1}return!0},t.iq=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.pI=function(){return!1},t}(),UR=function(){function n(t){this.playerID=t}return n.prototype.JF=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var r={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(r)}},n}(),VR=function(t){function n(n){var i;return(i=t.call(this)||this).GF=void 0,i.RU=void 0,i.rq=function(t){var n=au(t.detail.initData),r=t.detail.sessionId;i.Ys(new NS(n,r))},i.uq=function(t){var n=new p(yu(t.detail.message)),r=t.detail.destinationURL;i.Ys(new OS(n,r))},i.oq=function(t){i.Ys(new xS)},i.GF=n,i.RU=new jE,xE().fairplayController={sdkEventBus:i.RU},i.sq(),i}$(n,t);var i=n.prototype;return i.sq=function(){this.RU.addEventListener(TS.RM,this.rq),this.RU.addEventListener(TS.IM,this.uq),this.RU.addEventListener(TS.AM,this.oq)},i.xM=function(t,n){var i={playerId:LE(),data:gu(n.buffer),sessionId:t};this.GF.JF("THEOplayerCreateKeySession",i)},i.Kc=function(t,n){var i={playerId:LE(),data:gu(n.buffer),sessionId:t};this.GF.JF("THEOplayerUpdateKey",i)},n}(ad),qR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.Tv=function(n){if(Zu(n.sv)){var i=to(n.sv);n.sv=ju(i)}return t.prototype.Tv.call(this,n)},n}(function(){function t(t){this.zT=void 0,this.zT=t}var n=t.prototype;return n.Tv=function(t){return this.zT.Tv(t)},n.Gv=function(t){this.zT.Gv(t)},n.sr=function(){this.zT.sr()},t}()),HR=function(t){function n(n,i,r,e,u){return t.call(this,n,i,r,e,u)||this}$(n,t);var i=n.prototype;return i.Ly=function(){return!1},i.getSdkBridge=function(t){return new UR(t)},i.getFairPlayControllerBridge=function(t){return OR||(OR=new VR(t)),OR},i.ZV=function(t){return new qR(t)},n}(MR);NR=new(function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.JE=function(t,n,i,r,e,u){return new HR(t,n,i,r,e)},n}(BR)),Kp.eu.SI(NR),function(t){t.cl="addtrack",t.fl="removetrack",t.Rl="change",t.Ol="update"}(xR||(xR={}));var jR=function(t,n,i){this.type=xR.Rl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},WR=function(t,n){this.type=xR.cl,this.mediaType=t,this.mediaTrack=n},zR=function(t,n){this.type=xR.fl,this.mediaType=t,this.mediaTrack=n},$R=function(t,n){this.type=xR.Ol,this.mediaType=t,this.mediaTrack=n},XR=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.cq=function(t){var n=new jR(r.type,t.track,r.mediaTracks);r.messageDispatcher.aq(n)},this.fq=function(t){var n=new WR(r.type,t.track);r.messageDispatcher.aq(n),t.track.addEventListener("update",r.hq)},this.vq=function(t){var n=new zR(r.type,t.track);r.messageDispatcher.aq(n)},this.hq=function(t){var n=new $R(r.type,t.track);r.messageDispatcher.aq(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.sq()}return t.prototype.sq=function(){this.mediaTracks.addEventListener("change",this.cq),this.mediaTracks.addEventListener("addtrack",this.fq),this.mediaTracks.addEventListener("removetrack",this.vq)},t}(),GR=function(){function t(t){this.dq=void 0,this.dq=new UR(t)}return t.prototype.aq=function(t){this.dq.JF(t.type,iE(t))},t}();AT(function(t){if(t.dl.audioTracks){var n=new GR(t.nw);new XR("audio",t.dl.audioTracks,n)}if(t.dl.videoTracks){var i=new GR(t.nw);new XR("video",t.dl.videoTracks,i)}});var YR,KR,JR=function(t){function n(){return t.apply(this,arguments)||this}return $(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case YR.lq:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Ys(new QR(i));break;default:0}},n}(jE),QR=function(t){function n(n){var i;return(i=t.call(this,YR.lq)||this).detail=n,i}return $(n,t),n}(Ye);!function(t){t.lq="registerContentProtectionIntegration"}(YR||(YR={})),function(t){t.wq="certifiateRequest",t.yq="certifiateResponse",t.gq="licenseRequest",t._q="licenseResponse",t.pq="extractFairplayContentId",t.mq="buildContentProtection",t.kq="registerContentProtectionCallback"}(KR||(KR={}));var ZR,tI=function(t,n){this.type=KR.kq,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(ZR||(ZR={}));var nI,iI=function(t,n){this.type=KR.mq,this.value=t,this.integrationId=n},rI=function(t,n){this.type=KR.wq,this.value=t,this.integrationId=n},eI=function(t,n){this.type=KR.yq,this.value=t,this.integrationId=n},uI=function(t,n){this.type=KR.pq,this.value=t,this.integrationId=n},oI=function(t,n){this.type=KR.gq,this.value=t,this.integrationId=n},sI=function(t,n){this.type=KR._q,this.value=t,this.integrationId=n},cI=function(){function t(t,n){this.bq=void 0,this.QE=void 0,this.bq=t,this.QE=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=C.coroutine(Hr.mark(function t(i){var r,e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new rI(r,this.QE),t.prev=2,t.next=5,this.bq.Tq(e);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.Eq(o)){t.next=13;break}return s=jr({},o),t.abrupt("return",s);case 13:if(!this.Sq(o)){t.next=16;break}return c=new p(o),t.abrupt("return",c);case 16:throw new _l(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new _l(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=C.coroutine(Hr.mark(function t(i){var r,e,u,o,s;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new eI(e,this.QE),t.next=5,this.bq.Tq(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new p(s));case 11:throw new _l(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=C.coroutine(Hr.mark(function t(i){var r,e,u,o,s,c,a;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new oI(e,this.QE),t.prev=3,t.next=6,this.bq.Tq(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.Eq(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new p(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.Sq(s)){t.next=17;break}return a=new p(s),t.abrupt("return",a);case 17:throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new _l(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=C.coroutine(Hr.mark(function t(i){var r,e,u,o,s,c;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=jr({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},o=new sI(u,this.QE),t.next=6,this.bq.Tq(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new p(c));case 12:throw new _l(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=C.coroutine(Hr.mark(function t(i){var r,e;return Hr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new uI(i,this.QE),t.next=3,this.bq.Tq(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",C.reject(new _l(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Eq=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Sq=function(t){return!!new p(t)},t}(),aI=function(){function t(t){this.bq=void 0,this.bq=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new cI(this.bq,t.integration),i=new iI({drmConfiguration:t},t.integration);return this.bq.Tq(i),n},t}(),fI=function(){var t=this;this.RU=void 0,this.Rq=function(n){var i=new aI(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,o={state:Fg.eS.tS(e,u,i)};t.messageDispatcher.Tq(new tI(o,e))},this.RU=new JR,xE().contentProtectionIntegration={sdkEventBus:this.RU},this.RU.addEventListener(YR.lq,this.Rq)},hI="nativePromiseCallback",vI=function(t){function n(n){var i;return(i=t.call(this,hI)||this).detail=n,i}return $(n,t),n}(Ye);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(nI||(nI={}));var dI=function(t){function n(){return t.apply(this,arguments)||this}$(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Ys(new vI(n))},i.addEventListener=function(t,n){this.Ks(t,n)},i.removeEventListener=function(t,n){this.tc(t,n)},n}(jE),lI=function(){function t(){var t=this;this.dq=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case nI.RESOLVE:i.Oc(n.detail.data);break;case nI.REJECT:i.xc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new dI;xE().nativePromise={sdkEventBus:n},n.addEventListener(hI,this.handleNativePromiseEvent)}return t.prototype.Tq=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=jr({},n,{promiseId:r}),u=new eo;return this.promisesMap[r]=u,null==(i=this.dq)||i.JF(n.type,tE(e)),u.Nc},t}();lI.messageIdTracker=-1;var wI=function(t){function n(n){var i;return(i=t.call(this)||this).dq=new UR(n),i}return $(n,t),n}(lI),yI=function(t){function n(n){var i;return(i=t.call(this)||this).bq=void 0,i.bq=new wI(n),i}return $(n,t),W(n,[{key:"messageDispatcher",get:function(){return this.bq}}]),n}(fI);AT(function(t){new yI(t.dl.uid)}),n.ChromelessPlayer=GT,n.Player=GT,n.createGlobals=FE,n.features=[],n.getCueMirrorMap=PE,n.getGlobalId=LE,n.getSdkEventBridge=xE,n.playerSuiteVersion="2022.1.0",n.players=KT,n.registerContentProtectionIntegration=JT,n.utils=YT,n.version="3.0.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
