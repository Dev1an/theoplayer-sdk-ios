/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.1.2 (3.2.3)
 Created: 2022-04-05T16:03:27.522Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e=t.window,r=t.document,u=t.location,o=t.navigator,s=t.setTimeout,c=t.clearTimeout,f=t.setInterval,h=t.clearInterval,a=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,w=t.parseInt,g=t.parseFloat,y=t.isNaN,p=t.Uint8Array,m=(t.Worker,t.WorkerGlobalScope,t.XMLHttpRequest),b="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function _(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new a("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var k,T,S,E,R,I,D=_(function(n,u){n.exports=function t(n,e,r){function u(s,c){if(!e[s]){if(!n[s]){var f="function"==typeof i&&i;if(!c&&f)return f(s,!0);if(o)return o(s,!0);var h=new a("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var v=e[s]={exports:{}};n[s][0].call(v.exports,function(t){var i=n[s][1][t];return u(i||t)},v,v.exports,t,n,e,r)}return e[s].exports}for(var o="function"==typeof i&&i,s=0;s<r.length;s++)u(r[s]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.o;function i(t){var i=new n(t),e=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),e}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var e;try{throw new a}catch(t){e=t}var r=t("./schedule"),u=t("./queue"),o=t("./util");function c(){this.l=!1,this.g=!1,this.p=new u(16),this.R=new u(16),this.I=!1,this.N=!0;var t=this;this.drainQueues=function(){t.C()},this.F=r}function f(t,n,i){this.p.push(t,n,i),this.B()}function h(t,n,i){this.R.push(t,n,i),this.B()}function v(t){this.R.M(t),this.B()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.U();else{var i=t.shift(),e=t.shift();n.call(i,e)}}c.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.l=!0,n},c.prototype.hasCustomScheduler=function(){return this.l},c.prototype.enableTrampoline=function(){this.N=!0},c.prototype.disableTrampolineIfNecessary=function(){o.hasDevTools&&(this.N=!1)},c.prototype.haveItemsQueued=function(){return this.g||this.I},c.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof a?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},c.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==s)s(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new a("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},o.hasDevTools?(c.prototype.invokeLater=function(t,n,i){this.N?f.call(this,t,n,i):this.F(function(){s(function(){t.call(n,i)},100)})},c.prototype.invoke=function(t,n,i){this.N?h.call(this,t,n,i):this.F(function(){t.call(n,i)})},c.prototype.settlePromises=function(t){this.N?v.call(this,t):this.F(function(){t.U()})}):(c.prototype.invokeLater=f,c.prototype.invoke=h,c.prototype.settlePromises=v),c.prototype.C=function(){d(this.R),this.V(),this.I=!0,d(this.p)},c.prototype.B=function(){this.g||(this.g=!0,this.F(this.drainQueues))},c.prototype.V=function(){this.g=!1},n.exports=c,n.exports.firstLineError=e},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,e){var r=!1,u=function(t,n){this.H(n)},o=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.j(u,u,null,this,t)},s=function(t,n){0==(50397184&this.W)&&this.X(n.target)},c=function(t,n){n.promiseRejectionQueued||this.H(t)};t.prototype.bind=function(u){r||(r=!0,t.prototype.G=e.propagateFromFunction(),t.prototype.Y=e.boundValueFunction());var f=i(u),h=new t(n);h.G(this,1);var a=this.K();if(h.J(f),f instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:a,bindingPromise:f};a.j(n,o,void 0,h,v),f.j(s,c,void 0,h,v),h.Z(f)}else h.X(a);return h},t.prototype.J=function(t){void 0!==t?(this.W=2097152|this.W,this.nt=t):this.W=-2097153&this.W},t.prototype.it=function(){return 2097152==(2097152&this.W)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var e;"undefined"!=typeof Promise&&(e=Promise);var r=t("./promise")();r.noConflict=function(){try{Promise===r&&(Promise=e)}catch(t){}return r},n.exports=r},{"./promise":22}],5:[function(t,n,i){var e=d.create;if(e){var r=e(null),u=e(null);r[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),e=i.canEvaluate;function r(t){var e=this.pop(),r=function(t,e){var r;if(null!=t&&(r=t[e]),"function"!=typeof r){var u="Object "+i.classString(t)+" has no method '"+i.toString(e)+"'";throw new n.TypeError(u)}return r}(t,e);return r.apply(t,this)}function u(t){return t[this]}function o(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.j(r,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=o;else if(e){var r=(void 0)();n=null!==r?r:u}else n=u;return this.j(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,e,r){var u=t("./util"),o=u.tryCatch,s=u.errorObj,c=n.et;n.prototype.break=n.prototype.cancel=function(){if(!r.cancellation())return this.rt("cancellation is disabled");for(var t=this,n=t;t.ut();){if(!t.ot(n)){n.st()?n.ct().cancel():n.ft();break}var i=t.ht;if(null==i||!i.ut()){t.st()?t.ct().cancel():t.ft();break}t.st()&&t.ct().cancel(),t.at(),n=t,t=i}},n.prototype.vt=function(){this.dt--},n.prototype.wt=function(){return void 0===this.dt||this.dt<=0},n.prototype.ot=function(t){return t===this?(this.dt=0,this.yt(),!0):(this.vt(),!!this.wt()&&(this.yt(),!0))},n.prototype.ft=function(){this.wt()&&this.pt()},n.prototype.pt=function(){this.ut()&&(this.bt(),c.invoke(this._t,this,void 0))},n.prototype._t=function(){this.kt()>0&&this.U()},n.prototype.Tt=function(){this.St=void 0},n.prototype.ut=function(){return this.isPending()&&!this.Et()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.Rt=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.Rt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var e=o(t).call(this.Y());e===s&&(this.It(e.e),c.throwLater(e.e))}}else t._resultCancelled(this)},n.prototype.yt=function(){var t=this.Dt();this.Tt(),c.invoke(this.Rt,this,t)},n.prototype.Nt=function(){this.ut()&&(this.Rt(this.Dt(),!0),this.Tt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),e=t("./es5").keys,r=i.tryCatch,u=i.errorObj;return function(t,o,s){return function(c){var f=s.Y();t:for(var h=0;h<t.length;++h){var v=t[h];if(v===a||null!=v&&v.prototype instanceof a){if(c instanceof v)return r(o).call(f,c)}else if("function"==typeof v){var d=r(v).call(f,c);if(d===u)return d;if(d)return r(o).call(f,c)}else if(i.isObject(c)){for(var l=e(v),w=0;w<l.length;++w){var g=l[w];if(v[g]!=c[g])continue t}return r(o).call(f,c)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function e(){this.Ct=new e.CapturedTrace(r())}function r(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.At=function(){},t.prototype.Ot=function(){},t.prototype.Pt=function(){return null},t.xt=t.prototype.xt=function(){},e.prototype.Ot=function(){void 0!==this.Ct&&(this.Ct.At=null,i.push(this.Ct))},e.prototype.Pt=function(){if(void 0!==this.Ct){var t=i.pop(),n=t.At;return t.At=null,n}return null},e.CapturedTrace=null,e.create=function(){if(n)return new e},e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var i=t.prototype.Ot,u=t.prototype.Pt,o=t.xt,s=t.prototype.xt,c=t.prototype.At;e.deactivateLongStackTraces=function(){t.prototype.Ot=i,t.prototype.Pt=u,t.xt=o,t.prototype.xt=s,t.prototype.At=c,n=!1},n=!0,t.prototype.Ot=e.prototype.Ot,t.prototype.Pt=e.prototype.Pt,t.xt=t.prototype.xt=r,t.prototype.At=function(){var t=this.xt();t&&null==t.At&&(t.At=this)}},e}},{}],9:[function(t,n,i){n.exports=function(n,i){var e,u,o,c=n.Lt,f=n.et,h=t("./errors").Warning,l=t("./util"),g=t("./es5"),y=l.canAttachTrace,p=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,b=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,_=null,k=null,T=!1,S=!(0==l.env("BLUEBIRD_DEBUG")),E=!(0==l.env("BLUEBIRD_WARNINGS")||!S&&!l.env("BLUEBIRD_WARNINGS")),R=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!S&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),I=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.K();t.W=-1048577&t.W|524288},n.prototype.Ft=function(){if(0==(524288&this.W)){this.Bt();var t=this;s(function(){t.Mt()},1)}},n.prototype.Ut=function(){K("rejectionHandled",e,void 0,this)},n.prototype.qt=function(){this.W=268435456|this.W},n.prototype.Vt=function(){return 0!=(268435456&this.W)},n.prototype.Mt=function(){if(this.Ht()){var t=this.jt();this.zt(),K("unhandledRejection",u,t,this)}},n.prototype.zt=function(){this.W=262144|this.W},n.prototype.Wt=function(){this.W=-262145&this.W},n.prototype.$t=function(){return(262144&this.W)>0},n.prototype.Bt=function(){this.W=1048576|this.W},n.prototype.Xt=function(){this.W=-1048577&this.W,this.$t()&&(this.Wt(),this.Ut())},n.prototype.Ht=function(){return(1048576&this.W)>0},n.prototype.rt=function(t,n,i){return $(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=c();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=c();e="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var D=function(){};n.longStackTraces=function(){if(f.haveItemsQueued()&&!rt.longStackTraces)throw new a("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!rt.longStackTraces&&Q()){var t=n.prototype.Gt,e=n.prototype.It,r=n.prototype.Yt;rt.longStackTraces=!0,D=function(){if(f.haveItemsQueued()&&!rt.longStackTraces)throw new a("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Gt=t,n.prototype.It=e,n.prototype.Yt=r,i.deactivateLongStackTraces(),f.enableTrampoline(),rt.longStackTraces=!1},n.prototype.Gt=j,n.prototype.It=z,n.prototype.Yt=W,i.activateLongStackTraces(),f.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return rt.longStackTraces&&Q()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason});var e=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(e)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=r.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=r.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function A(t,n){return{promise:n}}var O={promiseCreated:A,promiseFulfilled:A,promiseRejected:A,promiseResolved:A,promiseCancelled:A,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:A},P=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){f.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){f.throwLater(t),i=!0}return i||n};function x(){return!1}function L(t,n,i){var e=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));e.Kt(t)})}catch(t){return t}}function F(t){if(!this.ut())return this;var n=this.Dt();void 0!==n?l.isArray(n)?n.push(t):this.Z([n,t]):this.Z(t)}function B(){return this.St}function M(t){this.St=t}function U(){this.ht=void 0,this.St=void 0}function q(t,n){if(0!=(1&n)){this.ht=t;var i=t.dt;void 0===i&&(i=0),t.dt=i+1}0!=(2&n)&&t.it()&&this.J(t.nt)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&D()),"warnings"in t){var i=t.warnings;rt.warnings=!!i,I=rt.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(I=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!rt.cancellation){if(f.haveItemsQueued())throw new a("cannot enable cancellation after promises are in use");n.prototype.Jt=U,n.prototype.G=q,n.prototype.Dt=B,n.prototype.Z=M,n.prototype.Kt=F,n.prototype.Qt=L,V=q,rt.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!rt.monitoring?(rt.monitoring=!0,n.prototype.Zt=P):!t.monitoring&&rt.monitoring&&(rt.monitoring=!1,n.prototype.Zt=x)),n},n.prototype.Zt=x,n.prototype.Qt=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Dt=function(){},n.prototype.Z=function(t){},n.prototype.Kt=function(t){},n.prototype.Gt=function(){},n.prototype.It=function(){},n.prototype.Yt=function(){},n.prototype.Jt=function(){},n.prototype.G=function(t,n){};var V=function(t,n){0!=(2&n)&&t.it()&&this.J(t.nt)};function H(){var t=this.nt;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function j(){this.Ct=new it(this.xt())}function z(t,n){if(y(t)){var i=this.Ct;if(void 0!==i&&n&&(i=i.tn),void 0!==i)i.attachExtraTrace(t);else if(!t.nn){var e=G(t);l.notEnumerableProp(t,"stack",e.message+"\n"+e.stack.join("\n")),l.notEnumerableProp(t,"nn",!0)}}}function W(){this.Ct=void 0}function $(t,i,e){if(rt.warnings){var r,u=new h(t);if(i)e.It(u);else if(rt.longStackTraces&&(r=n.xt()))r.attachExtraTrace(u);else{var o=G(u);u.stack=o.message+"\n"+o.stack.join("\n")}P("warning",u)||Y(u,"",!0)}}function X(t){for(var n=[],i=0;i<t.length;++i){var e=t[i],r="    (No stack trace)"===e||_.test(e),u=r&&Z(e);r&&!u&&(T&&" "!==e.charAt(0)&&(e="    "+e),n.push(e))}return n}function G(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var e=n[i];if("    (No stack trace)"===e||_.test(e))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:X(n)}}function Y(t,n,i){if("undefined"!=typeof console){var e;if(l.isObject(t)){var r=t.stack;e=n+k(r,t)}else e=n+String(t);"function"==typeof o?o(e,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(e)}}function K(t,n,i,e){var r=!1;try{"function"==typeof n&&(r=!0,"rejectionHandled"===t?n(e):n(i,e))}catch(t){f.throwLater(t)}"unhandledRejection"===t?P(t,i,e)||r||Y(i,"Unhandled rejection "):P(t,e)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function Q(){return"function"==typeof et}var Z=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:w(n[2],10)}}function it(t){this.tn=t,this.in=0;var n=this.kt=1+(void 0===t?0:t.kt);et(this,it),n>32&&this.uncycle()}l.inherits(it,a),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.kt;if(!(t<2)){for(var n=[],i={},e=0,r=this;void 0!==r;++e)n.push(r),r=r.tn;for(var e=(t=this.kt=e)-1;e>=0;--e){var u=n[e].stack;void 0===i[u]&&(i[u]=e)}for(var e=0;e<t;++e){var o=n[e].stack,s=i[o];if(void 0!==s&&s!==e){s>0&&(n[s-1].tn=void 0,n[s-1].kt=1),n[e].tn=void 0,n[e].kt=1;var c=e>0?n[e-1]:this;s<t-1?(c.tn=n[s+1],c.tn.uncycle(),c.kt=c.tn.kt+1):(c.tn=void 0,c.kt=1);for(var f=c.kt+1,h=e-2;h>=0;--h)n[h].kt=f,f++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.nn){this.uncycle();for(var n=G(t),i=n.message,e=[n.stack],r=this;void 0!==r;)e.push(X(r.stack.split("\n"))),r=r.tn;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var e=t[i],r=n.length-1,u=n[r],o=-1,s=e.length-1;s>=0;--s)if(e[s]===u){o=s;break}for(var s=o;s>=0;--s){var c=e[s];if(n[r]!==c)break;n.pop(),r--}n=e}}(e),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(e),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,e)),l.notEnumerableProp(t,"nn",!0)}};var et=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof a.stackTraceLimit&&"function"==typeof a.captureStackTrace){a.stackTraceLimit+=6,_=t,k=n;var i=a.captureStackTrace;return Z=function(t){return p.test(t)},function(t,n){a.stackTraceLimit+=6,i(t,n),a.stackTraceLimit-=6}}var e,r=new a;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return _=/@/,k=n,T=!0,function(t){t.stack=(new a).stack};try{throw new a}catch(t){e="stack"in t}return"stack"in r||!e||"number"!=typeof a.stackTraceLimit?(k=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(_=t,k=n,function(t){a.stackTraceLimit+=6;try{throw new a}catch(n){t.stack=n.stack}a.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(o=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?o=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new a).stack||(o=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var rt={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return R&&n.longStackTraces(),{longStackTraces:function(){return rt.longStackTraces},warnings:function(){return rt.warnings},cancellation:function(){return rt.cancellation},monitoring:function(){return rt.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return H},checkForgottenReturns:function(t,n,i,e,r){if(void 0===t&&null!==n&&I){if(void 0!==r&&r.Vt())return;if(0==(65535&e.W))return;i&&(i+=" ");var u="",o="";if(n.Ct){for(var s=n.Ct.stack.split("\n"),c=X(s),f=c.length-1;f>=0;--f){var h=c[f];if(!m.test(h)){var a=h.match(b);a&&(u="at "+a[1]+":"+a[2]+":"+a[3]+" ");break}}if(c.length>0)for(var v=c[0],f=0;f<s.length;++f)if(s[f]===v){f>0&&(o="\n"+s[f-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+o;e.rt(d,!0,n)}},setBounds:function(t,n){if(Q()){for(var i,e,r=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),o=-1,s=-1,c=0;c<r.length;++c){var f=nt(r[c]);if(f){i=f.fileName,o=f.line;break}}for(var c=0;c<u.length;++c){var f=nt(u[c]);if(f){e=f.fileName,s=f.line;break}}o<0||s<0||!i||!e||i!==e||o>=s||(Z=function(t){if(p.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&o<=n.line&&n.line<=s)})}},warn:$,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),$(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.j(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.j(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.j(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.j(void 0,n,void 0,{value:i},void 0);var e=arguments[1];return e instanceof t&&e.suppressUnhandledRejections(),this.caught(i,function(){return e})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,e=t.all;function r(){return e(this)}t.prototype.each=function(t){return i(this,t,n,0).j(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,e){return i(t,e,n,0).j(r,void 0,void 0,t,void 0)},t.mapSeries=function(t,e){return i(t,e,n,n)}}},{}],12:[function(t,n,i){var e,r,u=t("./es5"),o=u.freeze,s=t("./util"),c=s.inherits,f=s.notEnumerableProp;function h(t,n){function i(e){if(!(this instanceof i))return new i(e);f(this,"message","string"==typeof e?e:n),f(this,"name",t),a.captureStackTrace?a.captureStackTrace(this,this.constructor):a.call(this)}return c(i,a),i}var d=h("Warning","warning"),l=h("CancellationError","cancellation error"),w=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{e=v,r=RangeError}catch(t){e=h("TypeError","type error"),r=h("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<y.length;++p)"function"==typeof Array.prototype[y[p]]&&(g.prototype[y[p]]=Array.prototype[y[p]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function b(t){if(!(this instanceof b))return new b(t);f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof a?(f(this,"message",t.message),f(this,"stack",t.stack)):a.captureStackTrace&&a.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var e=this[i]===this?"[Circular AggregateError]":this[i]+"",r=e.split("\n"),u=0;u<r.length;++u)r[u]=t+r[u];e=r.join("\n"),n+=e+"\n"}return m--,n},c(b,a);var _=a.en;_||(_=o({CancellationError:l,TimeoutError:w,OperationalError:b,RejectionError:b,AggregateError:g}),u.defineProperty(a,"en",{value:_,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:a,TypeError:e,RangeError:r,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var e=function(){return void 0===this}();if(e)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var r={}.hasOwnProperty,u={}.toString,o={}.constructor.prototype,s=function(t){var n=[];for(var i in t)r.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:s,names:s,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return o}},isES5:e,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,e){return i(this,t,e,n)},t.filter=function(t,e,r){return i(t,e,r,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),u=n.CancellationError,o=r.errorObj,s=t("./catch_filter")(e);function c(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function f(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.H(n):t.cancelPromise.pt(),t.cancelPromise=null,!0)}function a(){return l.call(this,this.promise.K().jt())}function d(t){if(!h(this,t))return o.e=t,o}function l(t){var r=this.promise,s=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?s.call(r.Y()):s.call(r.Y(),t);if(c===e)return c;if(void 0!==c){r.qt();var v=i(c,r);if(v instanceof n){if(null!=this.cancelPromise){if(v.Et()){var l=new u("late cancellation observer");return r.It(l),o.e=l,o}v.isPending()&&v.Kt(new f(this))}return v.j(a,d,void 0,this,void 0)}}}return r.isRejected()?(h(this),o.e=t,o):(h(this),t)}return c.prototype.isFinallyHandler=function(){return 0===this.type},f.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.rn=function(t,n,i,e){return"function"!=typeof t?this.then():this.j(i,e,void 0,new c(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.rn(t,0,l,l)},n.prototype.tap=function(t){return this.rn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.rn(t,1,void 0,l);var e,u=new Array(i-1),o=0;for(e=0;e<i-1;++e){var c=arguments[e];if(!r.isObject(c))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+r.classString(c)));u[o++]=c}u.length=o;var f=arguments[e];return this.rn(s(u,f,this),1,void 0,l)},c}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,e,r,u,o){var s=t("./errors"),c=s.TypeError,f=t("./util"),h=f.errorObj,v=f.tryCatch,l=[];function w(t,i,r,u){if(o.cancellation()){var s=new n(e),c=this.un=new n(e);this.sn=s.lastly(function(){return c}),s.Gt(),s.Z(this)}else{var f=this.sn=new n(e);f.Gt()}this.cn=u,this.fn=t,this.hn=i,this.an=void 0,this.vn="function"==typeof r?[r].concat(l):l,this.dn=null,this.ln=!1}f.inherits(w,u),w.prototype.wn=function(){return null===this.sn},w.prototype.gn=function(){this.sn=this.an=null,o.cancellation()&&null!==this.un&&(this.un.yn(),this.un=null)},w.prototype.pn=function(){if(!this.wn()){var t,i=void 0!==this.an.return;if(i)this.sn.Ot(),t=v(this.an.return).call(this.an,void 0),this.sn.Pt();else{var e=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=e,this.sn.It(e),this.sn.Ot(),t=v(this.an.throw).call(this.an,e),this.sn.Pt()}this.ln=!0,this.dn=null,this.mn(t)}},w.prototype.bn=function(t){this.dn=null,this.sn.Ot();var n=v(this.an.next).call(this.an,t);this.sn.Pt(),this.mn(n)},w.prototype._n=function(t){this.dn=null,this.sn.It(t),this.sn.Ot();var n=v(this.an.throw).call(this.an,t);this.sn.Pt(),this.mn(n)},w.prototype._resultCancelled=function(){if(this.dn instanceof n){var t=this.dn;this.dn=null,t.cancel()}},w.prototype.promise=function(){return this.sn},w.prototype.kn=function(){this.an=this.fn.call(this.hn),this.hn=this.fn=void 0,this.bn(void 0)},w.prototype.mn=function(t){var i=this.sn;if(t===h)return this.gn(),this.ln?i.cancel():i.Tn(t.e,!1);var e=t.value;if(!0===t.done)return this.gn(),this.ln?i.cancel():i.X(e);var u=r(e,this.sn);if(u instanceof n||null!==(u=function(t,i,e){for(var u=0;u<i.length;++u){e.Ot();var o=v(i[u])(t);if(e.Pt(),o===h){e.Ot();var s=n.reject(h.e);return e.Pt(),s}var c=r(o,e);if(c instanceof n)return c}return null}(u,this.vn,this.sn))){var o=(u=u.K()).W;0==(50397184&o)?(this.dn=u,u.Sn(this,null)):0!=(33554432&o)?n.et.invoke(this.bn,this,u.En()):0!=(16777216&o)?n.et.invoke(this._n,this,u.Rn()):this.pn()}else this._n(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(e))+"From coroutine:\n"+this.cn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,e=w,r=(new a).stack;return function(){var n=t.apply(this,arguments),u=new e(void 0,void 0,i,r),o=u.promise();return u.an=n,u.bn(void 0),o}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("expecting a function but got "+f.classString(t));l.push(t)},n.spawn=function(t){if(o.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var e=new w(t,this),r=e.promise();return e.kn(n.spawn),r}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,e,r,u,o){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var e=[].slice.call(arguments);t&&e.pop();var r=new i(e).promise();return void 0!==t?r.spread(t):r}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,e,r,u,o){var s=n.Lt,c=t("./util"),f=c.tryCatch,h=c.errorObj,a=n.et;function d(t,n,i,e){this.constructor$(t),this.sn.Gt();var r=s();this.In=null===r?n:c.domainBind(r,n),this.Dn=e===u?new Array(this.length()):null,this.Nn=i,this.Cn=0,this.An=[],a.invoke(this.On,this,void 0)}function l(t,i,r,u){if("function"!=typeof i)return e("expecting a function but got "+c.classString(i));var o=0;if(void 0!==r){if("object"!=typeof r||null===r)return n.reject(new v("options argument must be an object but it is "+c.classString(r)));if("number"!=typeof r.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+c.classString(r.concurrency)));o=r.concurrency}return o="number"==typeof o&&isFinite(o)&&o>=1?o:0,new d(t,i,o,u).promise()}c.inherits(d,i),d.prototype.On=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.bn=function(t,i){var e=this.Pn,u=this.length(),s=this.Dn,c=this.Nn;if(i<0){if(e[i=-1*i-1]=t,c>=1&&(this.Cn--,this.xn(),this.wn()))return!0}else{if(c>=1&&this.Cn>=c)return e[i]=t,this.An.push(i),!1;null!==s&&(s[i]=t);var a=this.sn,v=this.In,d=a.Y();a.Ot();var l=f(v).call(d,t,i,u),w=a.Pt();if(o.checkForgottenReturns(l,w,null!==s?"Promise.filter":"Promise.map",a),l===h)return this.H(l.e),!0;var g=r(l,this.sn);if(g instanceof n){var y=(g=g.K()).W;if(0==(50397184&y))return c>=1&&this.Cn++,e[i]=g,g.Sn(this,-1*(i+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this.H(g.Rn()),!0):(this.pt(),!0);l=g.En()}e[i]=l}var p=++this.Ln;return p>=u&&(null!==s?this.Fn(e,s):this.Bn(e),!0)},d.prototype.xn=function(){for(var t=this.An,n=this.Nn,i=this.Pn;t.length>0&&this.Cn<n;){if(this.wn())return;var e=t.pop();this.bn(i[e],e)}},d.prototype.Fn=function(t,n){for(var i=n.length,e=new Array(i),r=0,u=0;u<i;++u)t[u]&&(e[r++]=n[u]);e.length=r,this.Bn(e)},d.prototype.preservedValues=function(){return this.Dn},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,e){return l(t,n,i,e)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,e,r,u){var o=t("./util"),s=o.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+o.classString(t));return function(){var e=new n(i);e.Gt(),e.Ot();var r=s(t).apply(this,arguments),o=e.Pt();return u.checkForgottenReturns(r,o,"Promise.method",e),e.Mn(r),e}},n.attempt=n.try=function(t){if("function"!=typeof t)return r("expecting a function but got "+o.classString(t));var e,c=new n(i);if(c.Gt(),c.Ot(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],h=arguments[2];e=o.isArray(f)?s(t).apply(h,f):s(t).call(h,f)}else e=s(t)();var a=c.Pt();return u.checkForgottenReturns(e,a,"Promise.try",c),c.Mn(e),c},n.prototype.Mn=function(t){t===o.errorObj?this.Tn(t.e,!1):this.X(t,!0)}}},{"./util":36}],20:[function(t,n,i){var e=t("./util"),r=e.maybeWrapAsError,u=t("./errors"),o=u.OperationalError,s=t("./es5"),c=/^(?:name|message|stack|cause)$/;function f(t){var n;if(function(t){return t instanceof a&&s.getPrototypeOf(t)===a.prototype}(t)){(n=new o(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=s.keys(t),r=0;r<i.length;++r){var u=i[r];c.test(u)||(n[u]=t[u])}return n}return e.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,e){if(null!==t){if(i){var u=f(r(i));t.It(u),t.H(u)}else if(n){var o=[].slice.call(arguments,1);t.yn(o)}else t.yn(e);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),e=n.et,r=i.tryCatch,u=i.errorObj;function o(t,n){if(!i.isArray(t))return s.call(this,t,n);var o=r(n).apply(this.Y(),[null].concat(t));o===u&&e.throwLater(o.e)}function s(t,n){var i=this.Y(),o=void 0===t?r(n).call(i,null):r(n).call(i,null,t);o===u&&e.throwLater(o.e)}function c(t,n){if(!t){var i=new a(t+"");i.cause=t,t=i}var o=r(n).call(this.Y(),t);o===u&&e.throwLater(o.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=s;void 0!==n&&d(n).spread&&(i=o),this.j(i,c,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},e=function(){return new N.PromiseInspection(this.K())},r=function(t){return N.reject(new l(t))};function u(){}var o,s={},c=t("./util");o=c.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(N,"Lt",o);var f=t("./es5"),h=t("./async"),a=new h;f.defineProperty(N,"et",{value:a});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var w=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},y={},p={},m=t("./thenables")(N,g),b=t("./promise_array")(N,g,m,r,u),_=t("./context")(N),k=_.create,T=t("./debuggability")(N,_),S=(T.CapturedTrace,t("./finally")(N,m,p)),E=t("./catch_filter")(p),R=t("./nodeback"),I=c.errorObj,D=c.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+c.classString(n))}(this,t),this.W=0,this.Un=void 0,this.qn=void 0,this.Vn=void 0,this.Hn=void 0,this.jn(t),this.At(),this.Zt("promiseCreated",this)}function C(t){this.promise.X(t)}function A(t){this.promise.Tn(t,!1)}function O(t){var n=new N(g);n.Un=t,n.qn=t,n.Vn=t,n.Hn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,e=new Array(n-1),u=0;for(i=0;i<n-1;++i){var o=arguments[i];if(!c.isObject(o))return r("Catch statement predicate: expecting an object but got "+c.classString(o));e[u++]=o}if(e.length=u,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+c.toString(t));return this.then(void 0,E(e,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.j(e,e,void 0,this,void 0)},N.prototype.then=function(t,n){if(T.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(i+=", "+c.classString(n)),this.rt(i)}return this.j(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.j(t,n,void 0,void 0,void 0);i.zn()},N.prototype.spread=function(t){return"function"!=typeof t?r("expecting a function but got "+c.classString(t)):this.all().j(t,void 0,void 0,y,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.rt(".all() was passed arguments but it does not take any"),new b(this).promise()},N.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.Gt();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,e=D(t)(R(n,i));return e===I&&n.Tn(e.e,!0),n.Wn()||n.$n(),n},N.all=function(t){return new b(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).Gt(),n.Xn(),n.qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.Gt(),n.Tn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+c.classString(t));return a.setScheduler(t)},N.prototype.j=function(t,n,i,e,r){var u=void 0!==r,s=u?r:new N(g),f=this.K(),h=f.W;u||(s.G(this,3),s.Gt(),void 0===e&&0!=(2097152&this.W)&&(e=0!=(50397184&h)?this.Y():f===this?void 0:this.nt),this.Zt("promiseChained",this,s));var v=o();if(0!=(50397184&h)){var d,l,y=f.Gn;0!=(33554432&h)?(l=f.qn,d=t):0!=(16777216&h)?(l=f.Un,d=n,f.Xt()):(y=f.Yn,l=new w("late cancellation observer"),f.It(l),d=n),a.invoke(y,f,{handler:null===v?d:"function"==typeof d&&c.domainBind(v,d),promise:s,receiver:e,value:l})}else f.Kn(t,n,s,e,v);return s},N.prototype.kt=function(){return 65535&this.W},N.prototype.Wn=function(){return 0!=(117506048&this.W)},N.prototype.st=function(){return 67108864==(67108864&this.W)},N.prototype.Jn=function(t){this.W=-65536&this.W|65535&t},N.prototype.Xn=function(){this.W=33554432|this.W,this.Zt("promiseFulfilled",this)},N.prototype.Qn=function(){this.W=16777216|this.W,this.Zt("promiseRejected",this)},N.prototype.Zn=function(){this.W=67108864|this.W,this.Zt("promiseResolved",this)},N.prototype.zn=function(){this.W=4194304|this.W},N.prototype.ti=function(){return(4194304&this.W)>0},N.prototype.ni=function(){this.W=-65537&this.W},N.prototype.bt=function(){this.W=65536|this.W,this.Zt("promiseCancelled",this)},N.prototype.at=function(){this.W=8388608|this.W},N.prototype.$n=function(){a.hasCustomScheduler()||(this.W=134217728|this.W)},N.prototype.ii=function(t){var n=0===t?this.Hn:this[4*t-4+3];if(n!==s)return void 0===n&&this.it()?this.Y():n},N.prototype.ei=function(t){return this[4*t-4+2]},N.prototype.ri=function(t){return this[4*t-4+0]},N.prototype.ui=function(t){return this[4*t-4+1]},N.prototype.Y=function(){},N.prototype.oi=function(t){t.W;var n=t.Un,i=t.qn,e=t.Vn,r=t.ii(0);void 0===r&&(r=s),this.Kn(n,i,e,r,null)},N.prototype.si=function(t,n){var i=t.ri(n),e=t.ui(n),r=t.ei(n),u=t.ii(n);void 0===u&&(u=s),this.Kn(i,e,r,u,null)},N.prototype.Kn=function(t,n,i,e,r){var u=this.kt();if(u>=65531&&(u=0,this.Jn(0)),0===u)this.Vn=i,this.Hn=e,"function"==typeof t&&(this.Un=null===r?t:c.domainBind(r,t)),"function"==typeof n&&(this.qn=null===r?n:c.domainBind(r,n));else{var o=4*u-4;this[o+2]=i,this[o+3]=e,"function"==typeof t&&(this[o+0]=null===r?t:c.domainBind(r,t)),"function"==typeof n&&(this[o+1]=null===r?n:c.domainBind(r,n))}return this.Jn(u+1),u},N.prototype.Sn=function(t,n){this.Kn(void 0,void 0,n,t,null)},N.prototype.X=function(t,n){if(0==(117506048&this.W)){if(t===this)return this.Tn(i(),!1);var e=m(t,this);if(!(e instanceof N))return this.yn(t);n&&this.G(e,2);var r=e.K();if(r!==this){var u=r.W;if(0==(50397184&u)){var o=this.kt();o>0&&r.oi(this);for(var s=1;s<o;++s)r.si(this,s);this.Zn(),this.Jn(0),this.ci(r)}else if(0!=(33554432&u))this.yn(r.En());else if(0!=(16777216&u))this.H(r.Rn());else{var c=new w("late cancellation observer");r.It(c),this.H(c)}}else this.H(i())}},N.prototype.Tn=function(t,n,i){var e=c.ensureErrorObject(t),r=e===t;if(!r&&!i&&T.warnings()){var u="a promise was rejected with a non-error: "+c.classString(t);this.rt(u,!0)}this.It(e,!!n&&r),this.H(t)},N.prototype.jn=function(t){if(t!==g){var n=this;this.Gt(),this.Ot();var i=!0,e=this.Qt(t,function(t){n.X(t)},function(t){n.Tn(t,i)});i=!1,this.Pt(),void 0!==e&&n.Tn(e,!0)}},N.prototype.fi=function(t,n,i,e){var r=e.W;if(0==(65536&r)){var u;e.Ot(),n===y?i&&"number"==typeof i.length?u=D(t).apply(this.Y(),i):(u=I).e=new l("cannot .spread() a non-array: "+c.classString(i)):u=D(t).call(n,i);var o=e.Pt();0==(65536&(r=e.W))&&(u===p?e.H(i):u===I?e.Tn(u.e,!1):(T.checkForgottenReturns(u,o,"",e,this),e.X(u)))}},N.prototype.K=function(){for(var t=this;t.st();)t=t.ct();return t},N.prototype.ct=function(){return this.qn},N.prototype.ci=function(t){this.qn=t},N.prototype.hi=function(t,n,i,r){var o=t instanceof N,s=this.W,c=0!=(134217728&s);0!=(65536&s)?(o&&t.Nt(),i instanceof S&&i.isFinallyHandler()?(i.cancelPromise=t,D(n).call(i,r)===I&&t.H(I.e)):n===e?t.yn(e.call(i)):i instanceof u?i.pn(t):o||t instanceof b?t.pt():i.cancel()):"function"==typeof n?o?(c&&t.$n(),this.fi(n,i,r,t)):n.call(i,r,t):i instanceof u?i.wn()||(0!=(33554432&s)?i.bn(r,t):i._n(r,t)):o&&(c&&t.$n(),0!=(33554432&s)?t.yn(r):t.H(r))},N.prototype.Yn=function(t){var n=t.handler,i=t.promise,e=t.receiver,r=t.value;"function"==typeof n?i instanceof N?this.fi(n,e,r,i):n.call(e,r,i):i instanceof N&&i.H(r)},N.prototype.Gn=function(t){this.hi(t.promise,t.handler,t.receiver,t.value)},N.prototype.ai=function(t,n,i){var e=this.Vn,r=this.ii(0);this.Vn=void 0,this.Hn=void 0,this.hi(e,t,r,n)},N.prototype.vi=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.yn=function(t){var n=this.W;if(!((117506048&n)>>>16)){if(t===this){var e=i();return this.It(e),this.H(e)}this.Xn(),this.qn=t,(65535&n)>0&&(0!=(134217728&n)?this.U():a.settlePromises(this),this.Yt())}},N.prototype.H=function(t){var n=this.W;if(!((117506048&n)>>>16)){if(this.Qn(),this.Un=t,this.ti())return a.fatalError(t,c.isNode);(65535&n)>0?a.settlePromises(this):this.Ft()}},N.prototype.di=function(t,n){for(var i=1;i<t;i++){var e=this.ri(i),r=this.ei(i),u=this.ii(i);this.vi(i),this.hi(r,e,u,n)}},N.prototype.li=function(t,n){for(var i=1;i<t;i++){var e=this.ui(i),r=this.ei(i),u=this.ii(i);this.vi(i),this.hi(r,e,u,n)}},N.prototype.U=function(){var t=this.W,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Un;this.ai(this.qn,i,t),this.li(n,i)}else{var e=this.qn;this.ai(this.Un,e,t),this.di(n,e)}this.Jn(0)}this.Jt()},N.prototype.jt=function(){var t=this.W;return 0!=(33554432&t)?this.qn:0!=(16777216&t)?this.Un:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&f.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){T.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:A}},c.notEnumerableProp(N,"wi",i),t("./method")(N,g,m,r,T),t("./bind")(N,g,m,T),t("./cancel")(N,b,r,T),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,b,m,g,a,o),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,r,g,m,u,T),t("./map.js")(N,b,r,m,g,T),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,b,m,r),t("./race.js")(N,g,m,r),t("./reduce.js")(N,b,r,m,g,T),t("./settle.js")(N,b,T),t("./some.js")(N,b,r),t("./timers.js")(N,g,T),t("./using.js")(N,r,m,k,g,T),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),c.toFastProperties(N),c.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),T.setBounds(h.firstLineError,c.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,e,r,u){var o=t("./util");function s(t){var e=this.sn=new n(i);t instanceof n&&e.G(t,3),e.Z(this),this.Pn=t,this.kt=0,this.Ln=0,this._init(void 0,-2)}return o.isArray,o.inherits(s,u),s.prototype.length=function(){return this.kt},s.prototype.promise=function(){return this.sn},s.prototype._init=function t(i,u){var s=e(this.Pn,this.sn);if(s instanceof n){var c=(s=s.K()).W;if(this.Pn=s,0==(50397184&c))return this.sn.$n(),s.j(t,this.H,void 0,this,u);if(0==(33554432&c))return 0!=(16777216&c)?this.H(s.Rn()):this.pt();s=s.En()}if(null!==(s=o.asArray(s)))0!==s.length?this.gi(s):-5===u?this.yi():this.Bn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var f=r("expecting an array or an iterable object but got "+o.classString(s)).reason();this.sn.Tn(f,!1)}},s.prototype.gi=function(t){var i=this.getActualLength(t.length);this.kt=i,this.Pn=this.shouldCopyValues()?new Array(i):this.Pn;for(var r=this.sn,u=!1,o=null,s=0;s<i;++s){var c=e(t[s],r);c instanceof n?(c=c.K(),o=c.W):o=null,u?null!==o&&c.suppressUnhandledRejections():null!==o?0==(50397184&o)?(c.Sn(this,s),this.Pn[s]=c):u=0!=(33554432&o)?this.bn(c.En(),s):0!=(16777216&o)?this._n(c.Rn(),s):this.pn(s):u=this.bn(c,s)}u||r.$n()},s.prototype.wn=function(){return null===this.Pn},s.prototype.Bn=function(t){this.Pn=null,this.sn.yn(t)},s.prototype.pt=function(){!this.wn()&&this.sn.ut()&&(this.Pn=null,this.sn.pt())},s.prototype.H=function(t){this.Pn=null,this.sn.Tn(t,!1)},s.prototype.bn=function(t,n){this.Pn[n]=t;var i=++this.Ln;return i>=this.kt&&(this.Bn(this.Pn),!0)},s.prototype.pn=function(){return this.pt(),!0},s.prototype._n=function(t){return this.Ln++,this.H(t),!0},s.prototype._resultCancelled=function(){if(!this.wn()){var t=this.Pn;if(this.pt(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var e={},r=t("./util"),u=t("./nodeback"),o=r.withAppended,s=r.maybeWrapAsError,c=r.canEvaluate,f=t("./errors").TypeError,h={pi:!0},a=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","pi"].join("|")+")$"),v=function(t){return r.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!a.test(t)}function w(t){try{return!0===t.pi}catch(t){return!1}}function g(t,n,i){var e=r.getDataPropertyOrDefault(t,n+i,h);return!!e&&w(e)}function y(t,n,i,e){for(var u=r.inheritedDataKeys(t),o=[],s=0;s<u.length;++s){var c=u[s],h=t[c],a=e===v||v(c);"function"!=typeof h||w(h)||g(t,c,n)||!e(c,h,t,a)||o.push(c,h)}return function(t,n,i){for(var e=0;e<t.length;e+=2){var r=t[e];if(i.test(r))for(var u=r.replace(i,""),o=0;o<t.length;o+=2)if(t[o]===u)throw new f("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(o,n,i),o}var p=function(t){return t.replace(/([$])/,"\\$")},m=c?void 0:function(t,c,f,h,a,v){var d=function(){return this}(),l=t;function w(){var r=c;c===e&&(r=this);var f=new n(i);f.Gt();var h="string"==typeof l&&this!==d?this[l]:t,a=u(f,v);try{h.apply(r,o(arguments,a))}catch(t){f.Tn(s(t),!0,!0)}return f.Wn()||f.$n(),f}return"string"==typeof l&&(t=h),r.notEnumerableProp(w,"pi",!0),w};function b(t,n,i,u,o){for(var s=new RegExp(p(n)+"$"),c=y(t,n,s,i),f=0,h=c.length;f<h;f+=2){var a=c[f],v=c[f+1],d=a+n;if(u===m)t[d]=m(a,e,a,v,n,o);else{var l=u(v,function(){return m(a,e,a,v,n,o)});r.notEnumerableProp(l,"pi",!0),t[d]=l}}return r.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new f("expecting a function but got "+r.classString(t));if(w(t))return t;var i=void 0===(n=d(n)).context?e:n.context,u=!!n.multiArgs,o=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return r.copyDescriptors(t,o,l),o},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new f("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,e=n.suffix;"string"!=typeof e&&(e="Async");var u=n.filter;"function"!=typeof u&&(u=v);var o=n.promisifier;if("function"!=typeof o&&(o=m),!r.isIdentifier(e))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=r.inheritedDataKeys(t),c=0;c<s.length;++c){var h=t[s[c]];"constructor"!==s[c]&&r.isClass(h)&&(b(h.prototype,e,u,o,i),b(h,e,u,o,i))}return b(t,e,u,o,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,e,r){var u,o=t("./util"),s=o.isObject,c=t("./es5");"function"==typeof Map&&(u=Map);var f=function(){var t=0,n=0;function i(i,e){this[t]=i,this[t+n]=e,t++}return function(e){n=e.size,t=0;var r=new Array(2*e.size);return e.forEach(i,r),r}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=f(t),i=!0;else{var e=c.keys(t),r=e.length;n=new Array(2*r);for(var o=0;o<r;++o){var s=e[o];n[o]=t[s],n[o+r]=s}}this.constructor$(n),this.mi=i,this._init$(void 0,i?-6:-3)}function a(t){var i,u=e(t);return s(u)?(i=u instanceof n?u.j(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.G(u,2),i):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}o.inherits(h,i),h.prototype._init=function(){},h.prototype.bn=function(t,n){this.Pn[n]=t;var i=++this.Ln;if(i>=this.kt){var e;if(this.mi)e=function(t){for(var n=new u,i=t.length/2|0,e=0;e<i;++e){var r=t[i+e],o=t[e];n.set(r,o)}return n}(this.Pn);else{e={};for(var r=this.length(),o=0,s=this.length();o<s;++o)e[this.Pn[o+r]]=this.Pn[o]}return this.Bn(e),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return a(this)},n.props=function(t){return a(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function e(t){this.bi=t,this.kt=0,this._i=0}e.prototype.ki=function(t){return this.bi<t},e.prototype.M=function(t){var n=this.length();this.Ti(n+1);var i=this._i+n&this.bi-1;this[i]=t,this.kt=n+1},e.prototype.push=function(t,n,i){var e=this.length()+3;if(this.ki(e))return this.M(t),this.M(n),void this.M(i);var r=this._i+e-3;this.Ti(e);var u=this.bi-1;this[r+0&u]=t,this[r+1&u]=n,this[r+2&u]=i,this.kt=e},e.prototype.shift=function(){var t=this._i,n=this[t];return this[t]=void 0,this._i=t+1&this.bi-1,this.kt--,n},e.prototype.length=function(){return this.kt},e.prototype.Ti=function(t){this.bi<t&&this.Si(this.bi<<1)},e.prototype.Si=function(t){var n=this.bi;this.bi=t;var i=this._i,e=this.kt,r=i+e&n-1;!function(t,n,i,e,r){for(var u=0;u<r;++u)i[u+e]=t[u+n],t[u+n]=void 0}(this,0,this,n,r)},n.exports=e},{}],27:[function(t,n,i){n.exports=function(n,i,e,r){var u=t("./util"),o=function(t){return t.then(function(n){return s(n,t)})};function s(t,s){var c=e(t);if(c instanceof n)return o(c);if(null===(t=u.asArray(t)))return r("expecting an array or an iterable object but got "+u.classString(t));var f=new n(i);void 0!==s&&f.G(s,3);for(var h=f.yn,a=f.H,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).j(h,a,void 0,f,null)}return f}n.race=function(t){return s(t,void 0)},n.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,e,r,u,o){var s=n.Lt,c=t("./util"),f=c.tryCatch;function h(t,i,e,r){this.constructor$(t);var o=s();this.Ei=null===o?i:c.domainBind(o,i),void 0!==e&&(e=n.resolve(e)).Kt(this),this.Ri=e,this.Ii=null,this.Di=r===u?Array(this.kt):0===r?null:void 0,this.sn.Gt(),this._init$(void 0,-5)}function a(t,n){this.isFulfilled()?n.Bn(t):n.H(t)}function v(t,n,i,r){if("function"!=typeof n)return e("expecting a function but got "+c.classString(n));var u=new h(t,n,i,r);return u.promise()}function d(t){this.accum=t,this.array.Ni(t);var i=r(this.value,this.array.sn);return i instanceof n?(this.array.Ii=i,i.j(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,e=this.array,r=e.sn,u=f(e.Ei);r.Ot(),(i=void 0!==e.Di?u.call(r.Y(),t,this.index,this.length):u.call(r.Y(),this.accum,t,this.index,this.length))instanceof n&&(e.Ii=i);var s=r.Pt();return o.checkForgottenReturns(i,s,void 0!==e.Di?"Promise.each":"Promise.reduce",r),i}c.inherits(h,i),h.prototype.Ni=function(t){void 0!==this.Di&&null!==this.Di&&t!==u&&this.Di.push(t)},h.prototype.Ci=function(t){return null!==this.Di&&this.Di.push(t),this.Di},h.prototype._init=function(){},h.prototype.yi=function(){this.Bn(void 0!==this.Di?this.Di:this.Ri)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.Bn=function(t){this.sn.X(t),this.Pn=null},h.prototype._resultCancelled=function(t){if(t===this.Ri)return this.pt();this.wn()||(this._resultCancelled$(),this.Ii instanceof n&&this.Ii.cancel(),this.Ri instanceof n&&this.Ri.cancel())},h.prototype.gi=function(t){var i,e;this.Pn=t;var r=t.length;if(void 0!==this.Ri?(i=this.Ri,e=0):(i=n.resolve(t[0]),e=1),this.Ii=i,!i.isRejected())for(;e<r;++e){var u={accum:null,value:t[e],index:e,length:r,array:this};i=i.j(d,void 0,void 0,u,void 0)}void 0!==this.Di&&(i=i.j(this.Ci,void 0,void 0,this,void 0)),i.j(a,a,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,e){return v(t,n,i,e)}}},{"./util":36}],29:[function(t,n,i){var u,o,c,f,h,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=b.setImmediate,w=process.nextTick;u=v.isRecentNode?function(t){l.call(b,t)}:function(t){w.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();u=function(t){g.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in r.documentElement?(o=r.createElement("div"),c={attributes:!0},f=!1,h=r.createElement("div"),new MutationObserver(function(){o.classList.toggle("foo"),f=!1}).observe(h,c),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(o,c),f||(f=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==s?function(t){s(t,0)}:function(){throw new a("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,e){var r=n.PromiseInspection,u=t("./util");function o(t){this.constructor$(t)}u.inherits(o,i),o.prototype.Ai=function(t,n){this.Pn[t]=n;var i=++this.Ln;return i>=this.kt&&(this.Bn(this.Pn),!0)},o.prototype.bn=function(t,n){var i=new r;return i.W=33554432,i.Oi=t,this.Ai(n,i)},o.prototype._n=function(t,n){var i=new r;return i.W=16777216,i.Oi=t,this.Ai(n,i)},n.settle=function(t){return e.deprecated(".settle()",".reflect()"),new o(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),u=t("./errors").RangeError,o=t("./errors").AggregateError,s=r.isArray,c={};function f(t){this.constructor$(t),this.Pi=0,this.xi=!1,this.Li=!1}function h(t,n){if((0|n)!==n||n<0)return e("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new f(t),r=i.promise();return i.setHowMany(n),i.init(),r}r.inherits(f,i),f.prototype._init=function(){if(this.Li)if(0!==this.Pi){this._init$(void 0,-5);var t=s(this.Pn);!this.wn()&&t&&this.Pi>this.Fi()&&this.H(this.Bi(this.length()))}else this.Bn([])},f.prototype.init=function(){this.Li=!0,this._init()},f.prototype.setUnwrap=function(){this.xi=!0},f.prototype.howMany=function(){return this.Pi},f.prototype.setHowMany=function(t){this.Pi=t},f.prototype.bn=function(t){return this.Mi(t),this.Ui()===this.howMany()&&(this.Pn.length=this.howMany(),1===this.howMany()&&this.xi?this.Bn(this.Pn[0]):this.Bn(this.Pn),!0)},f.prototype._n=function(t){return this.qi(t),this.Vi()},f.prototype.pn=function(){return this.Pn instanceof n||null==this.Pn?this.pt():(this.qi(c),this.Vi())},f.prototype.Vi=function(){if(this.howMany()>this.Fi()){for(var t=new o,n=this.length();n<this.Pn.length;++n)this.Pn[n]!==c&&t.push(this.Pn[n]);return t.length>0?this.H(t):this.pt(),!0}return!1},f.prototype.Ui=function(){return this.Ln},f.prototype.Hi=function(){return this.Pn.length-this.length()},f.prototype.qi=function(t){this.Pn.push(t)},f.prototype.Mi=function(t){this.Pn[this.Ln++]=t},f.prototype.Fi=function(){return this.length()-this.Hi()},f.prototype.Bi=function(t){var n="Input array must contain at least "+this.Pi+" items but contains only "+t+" items";return new u(n)},f.prototype.yi=function(){this.H(this.Bi(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.o=f}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.K(),this.W=t.W,this.Oi=t.Wn()?t.jt():void 0):(this.W=0,this.Oi=void 0)}n.prototype.jt=function(){return this.Oi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},e=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.jt()},r=n.prototype.isFulfilled=function(){return 0!=(33554432&this.W)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.W)},o=n.prototype.isPending=function(){return 0==(50397184&this.W)},s=n.prototype.isResolved=function(){return 0!=(50331648&this.W)};n.prototype.isCancelled=function(){return 0!=(8454144&this.W)},t.prototype.ji=function(){return 65536==(65536&this.W)},t.prototype.Et=function(){return this.K().ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.K().W)},t.prototype.isPending=function(){return o.call(this.K())},t.prototype.isRejected=function(){return u.call(this.K())},t.prototype.isFulfilled=function(){return r.call(this.K())},t.prototype.isResolved=function(){return s.call(this.K())},t.prototype.value=function(){return i.call(this.K())},t.prototype.reason=function(){var t=this.K();return t.Xt(),e.call(t)},t.prototype.En=function(){return this.jt()},t.prototype.Rn=function(){return this.Xt(),this.jt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var e=t("./util"),r=e.errorObj,u=e.isObject,o={}.hasOwnProperty;return function(t,s){if(u(t)){if(t instanceof n)return t;var c=function(t){try{return function(t){return t.then}(t)}catch(t){return r.e=t,r}}(t);if(c===r){s&&s.Ot();var f=n.reject(c.e);return s&&s.Pt(),f}if("function"==typeof c){if(function(t){try{return o.call(t,"Vn")}catch(t){return!1}}(t)){var f=new n(i);return t.j(f.yn,f.H,void 0,f,null),f}return function(t,u,o){var s=new n(i),c=s;o&&o.Ot(),s.Gt(),o&&o.Pt();var f=!0,h=e.tryCatch(u).call(t,function(t){s&&(s.X(t),s=null)},function(t){s&&(s.Tn(t,f,!0),s=null)});return f=!1,s&&h===r&&(s.Tn(h.e,!0,!0),s=null),c}(t,c,s)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,e){var r=t("./util"),u=n.TimeoutError;function o(t){this.handle=t}o.prototype._resultCancelled=function(){c(this.handle)};var f=function(t){return h(+this).thenReturn(t)},h=n.delay=function(t,r){var u,c;return void 0!==r?(u=n.resolve(r).j(f,null,null,t,void 0),e.cancellation()&&r instanceof n&&u.Z(r)):(u=new n(i),c=s(function(){u.yn()},+t),e.cancellation()&&u.Z(new o(c)),u.Gt()),u.$n(),u};function v(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return h(t,this)},n.prototype.timeout=function(t,n){var i,c,f=new o(s(function(){i.isPending()&&function(t,n,i){var e;e="string"!=typeof n?n instanceof a?n:new u("operation timed out"):new u(n),r.markAsOriginatingFromRejection(e),t.It(e),t.H(e),null!=i&&i.cancel()}(i,n,c)},t=+t));return e.cancellation()?(c=this.then(),(i=c.j(v,d,void 0,f,void 0)).Z(f)):i=this.j(v,d,void 0,f,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,e,r,u,o){var c=t("./util"),f=t("./errors").TypeError,h=t("./util").inherits,a=c.errorObj,v=c.tryCatch,d={};function l(t){s(function(){throw t},0)}function w(t,i){var r=0,o=t.length,s=new n(u);return function u(){if(r>=o)return s.yn();var c=function(t){var n=e(t);return n!==t&&"function"==typeof t.zi&&"function"==typeof t.Wi&&t.zi()&&n.$i(t.Wi()),n}(t[r++]);if(c instanceof n&&c.zi()){try{c=e(c.Wi().tryDispose(i),t.promise)}catch(t){return l(t)}if(c instanceof n)return c.j(u,l,null,null,null)}u()}(),s}function g(t,n,i){this.Xi=t,this.sn=n,this.Gi=i}function y(t,n,i){this.constructor$(t,n,i)}function p(t){return g.isDisposer(t)?(this.resources[this.index].$i(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.Xi},g.prototype.promise=function(){return this.sn},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.Gi;void 0!==i&&i.Ot();var e=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Pt(),this.sn.Yi(),this.Xi=null,e},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(y,g),y.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var e=this[i];e instanceof n&&e.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var r,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+c.classString(u));var s=!0;2===t&&Array.isArray(arguments[0])?(r=arguments[0],t=r.length,s=!1):(r=arguments,t--);for(var f=new m(t),h=0;h<t;++h){var d=r[h];if(g.isDisposer(d)){var l=d;(d=d.promise()).$i(l)}else{var y=e(d);y instanceof n&&(d=y.j(p,null,null,{resources:f,index:h},void 0))}f[h]=d}for(var b=new Array(f.length),h=0;h<b.length;++h)b[h]=n.resolve(f[h]).reflect();var _=n.all(b).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return a.e=i.error(),a;if(!i.isFulfilled())return void _.cancel();t[n]=i.value()}k.Ot(),u=v(u);var e=s?u.apply(void 0,t):u(t),r=k.Pt();return o.checkForgottenReturns(e,r,"Promise.using",k),e}),k=_.lastly(function(){var t=new n.PromiseInspection(_);return w(f,t)});return f.promise=k,k.Z(f),k},n.prototype.$i=function(t){this.W=131072|this.W,this.Ki=t},n.prototype.zi=function(){return(131072&this.W)>0},n.prototype.Wi=function(){return this.Ki},n.prototype.Yi=function(){this.W=-131073&this.W,this.Ki=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new y(t,this,r());throw new f}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var u,s=n("./es5"),c=void 0===o,f={e:{}},h=void 0!==t?t:void 0!==e?e:void 0!==b?b:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return f.e=t,f}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function w(t,n,i){if(l(t))return t;var e={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,e),t}var g=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=d.getOwnPropertyNames;return function(t){for(var e=[],r=d.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return e}for(var o=0;o<u.length;++o){var c=u[o];if(!r[c]){r[c]=!0;var f=d.getOwnPropertyDescriptor(t,c);null!=f&&null==f.get&&null==f.set&&e.push(c)}}t=s.getPrototypeOf(t)}return e}}var e={}.hasOwnProperty;return function(i){if(n(i))return[];var r=[];t:for(var u in i)if(e.call(i,u))r.push(u);else{for(var o=0;o<t.length;++o)if(e.call(t[o],u))continue t;r.push(u)}return r}}(),y=/this\s*\.\s*\S+\s*=/,p=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function _(t){return t instanceof a||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function k(t){return _(t)&&s.propertyIsWritable(t,"stack")}var T="stack"in new a?function(t){return k(t)?t:new a(m(t))}:function(t){if(k(t))return t;try{throw new a(m(t))}catch(t){return t}};function S(t){return{}.toString.call(t)}var E=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var R="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],e=t[Symbol.iterator]();!(n=e.next()).done;)i.push(n.value);return i};E=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?R(t):null}}var I,D="undefined"!=typeof process&&"[object process]"===S(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,C={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,e=n.length>0&&!(1===n.length&&"constructor"===n[0]),r=y.test(t+"")&&s.names(t).length>0;if(i||e||r)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return p.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var e=d.getOwnPropertyDescriptor(t,n);return null!=e?null==e.get&&null==e.set?e.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:E,notEnumerableProp:w,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:_,canEvaluate:c,errorObj:f,tryCatch:function(t){return u=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function e(){for(var e in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=n.prototype[e])}return e.prototype=n.prototype,t.prototype=new e,t.prototype},withAppended:function(t,n){var i,e=t.length,r=new Array(e+1);for(i=0;i<e;++i)r[i]=t[i];return r[i]=n,r},maybeWrapAsError:function(t){return l(t)?new a(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var e=new Array(t),r=0;r<t;++r)e[r]=n+r+i;return e},toString:m,canAttachTrace:k,ensureErrorObject:T,originatesFromRejection:function(t){return null!=t&&(t instanceof a.en.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{w(t,"isOperational",!0)}catch(t){}},classString:S,copyDescriptors:function(t,n,i){for(var e=s.names(t),r=0;r<e.length;++r){var u=e[r];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:D,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};C.isRecentNode=C.isNode&&(process.versions&&process.versions.node?I=process.versions.node.split(".").map(Number):process.version&&(I=process.version.split(".").map(Number)),0===I[0]&&I[1]>10||I[0]>0),C.isNode&&C.toFastProperties(process);try{throw new a}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var N,C,A={Ji:function(){function t(){this.Qi=[]}var n=t.prototype;return n.Zi=function(){},n.te=function(t){return{ie:function(){return D.resolve()},ee:function(){}}},n.re=function(t){throw new a("Not implemented")},n.ue=function(t){return D.resolve()},n.oe=function(t){return D.resolve()},n.se=function(t){},n.ce=function(){},t}(),fe:function(){function t(){}var n=t.prototype;return n.he=function(){return D.resolve("all")},n.ae=function(){},n.ce=function(){},t}(),ve:{de:function(t){getActiveDocument().addEventListener("unload",t)},we:function(t){getActiveDocument().removeEventListener("unload",t)}},ye:{location:{href:"https://theoplayer.doubleclick.net"},get document(){return getActiveDocument()},top:void 0,parent:void 0,self:t,navigator:{userAgent:""},ResizeObserver:function(t){this.observe=function(t){},this.unobserve=function(t){},this.disconnect=function(){}}}};function O(t){C=t}Element.prototype.style={},k=(N=A).Ji,T=N.fe,S=N.ve,E=N.ye,R=E&&E.location,I=E&&E.navigator;var P,x=function(){},L=function(t){return t};(P=D)&&P.config({warnings:!1,longStackTraces:!1});var F,B,M,U,q,V;P&&(U=P.setScheduler(x),F=U,q={pe:function(t){B=t,F(M)},me:M=function(){var t=B;t&&(B=void 0,t())}},P.setScheduler(q.pe));function H(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function j(t,n,i){return n&&H(t.prototype,n),i&&H(t,i),t}function z(t,n){return(z=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function W(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,z(t,n)}!function(t){t.be="web",t._e="android",t.ke="android-tv",t.Te="ios",t.Se="tvos",t.Ee="chromecast"}(V||(V={}));var $=o?o.userAgent:"",X=$.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),G=$.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),Y=$.match(/Android ([0-9\.]+)/i),K=$.match(/Windows NT ([0-9\.]+)/i),J=$.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Q=$.match(/Firefox\/([0-9\.]+)/i),Z=$.match(/OPR\/(\d+\.\d+)/i),tt=$.match(/Tizen ([0-9\.]+)/i),nt=function(){function n(){this.Re=Boolean("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.Ie=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test($)||/(macintosh|mac(?=_powerpc)\s)/i.test($),this.De=/Windows NT/i.test($),this.Ne=K?g(K[1]):0,this.Ce=/Android/i.test($),this.Ae=Y?g(Y[1]):0,this.Oe=/windows phone (8|8\.1)/i.test($),this.Pe=/iPhone/i.test($),this.xe=/iPad/i.test($),this.Le=this.Ie&&this.Re&&!this.xe,this.Fe=/iPod/i.test($),this.Be=/Mobile Safari/i.test($),this.Me=/EOSSTB/i.test($),this.Ue=(this.Pe||this.xe||this.Le||this.Fe)&&!this.Oe,this.qe=this.Oe||this.Ue||this.Ce||this.Be,this.Ve=/CriOS/i.test($),this.He=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Ve,this.je=this.He&&/Edg\//i.test(o.userAgent),this.ze=G?w(G[1],10):0,this.We=Boolean(t.chrome||/Chrome/i.test($)||/CriOS/i.test($)),this.$e=X?w(X[1],10):0,this.Xe=/SMART-TV.*Tizen/i.test($),this.Ge=tt?g(tt[1]):0,this.Ye=/webos|web0s/i.test($),this.Ke=/Edge\/\d+/i.test($),this.Je=/Trident/i.test($),this.Qe=this.Je&&!t.ActiveXObject&&"ActiveXObject"in t,this.Ze=/Vivaldi/i.test($),this.tr=/Firefox/i.test($)&&!/Seamonkey/i.test($),this.nr=Q?g(Q[1]):0,this.ir=/Safari/i.test($)&&!/Chrome/i.test($)&&!this.Oe&&!this.Xe,this.er=J?g(J[2]):0,this.rr=Boolean(Z),this.ur=Z?g(Z[1]):0,this.sr=/CrKey/.test($),this.cr=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test($),this.hr="tvos"===V.ke,this.ar="tvos"===V._e,this.dr=this.ar||this.hr,this.wr="tvos"===V.Te,this.gr="tvos"===V.Se,this.yr="tvos"===V.Ee}return j(n,[{key:"pr",get:function(){return this.Re}},{key:"mr",get:function(){return this.Ie}},{key:"br",get:function(){return this.De}},{key:"_r",get:function(){return this.Ne}},{key:"kr",get:function(){return this.Ce}},{key:"Tr",get:function(){return this.Ae}},{key:"Sr",get:function(){return this.Oe}},{key:"Er",get:function(){return this.Pe}},{key:"Rr",get:function(){return this.xe}},{key:"Ir",get:function(){return this.Le}},{key:"Dr",get:function(){return this.Fe}},{key:"Nr",get:function(){return this.Ue}},{key:"Cr",get:function(){return this.Me}},{key:"Ar",get:function(){return this.Be}},{key:"Or",get:function(){return this.qe}},{key:"Pr",get:function(){return this.Ve}},{key:"xr",get:function(){return this.He}},{key:"Lr",get:function(){return this.$e}},{key:"Fr",get:function(){return this.je}},{key:"Br",get:function(){return this.ze}},{key:"Mr",get:function(){return this.Xe}},{key:"Ur",get:function(){return this.Ge}},{key:"qr",get:function(){return this.Ye}},{key:"Vr",get:function(){return this.Ke}},{key:"Hr",get:function(){return this.Je}},{key:"jr",get:function(){return this.Qe}},{key:"zr",get:function(){return this.Ze}},{key:"Wr",get:function(){return this.tr}},{key:"$r",get:function(){return this.nr}},{key:"Xr",get:function(){return this.ir}},{key:"Gr",get:function(){return this.er}},{key:"Yr",get:function(){return this.rr}},{key:"Kr",get:function(){return this.ur}},{key:"Jr",get:function(){return this.sr}},{key:"Qr",get:function(){return this.cr}},{key:"Zr",get:function(){if(!(this.qr||this.Mr))return!1;var t=this.Lr;return void 0===t||Number(t)<56}},{key:"tu",get:function(){return this.hr}},{key:"nu",get:function(){return this.ar}},{key:"iu",get:function(){return this.dr}},{key:"eu",get:function(){return this.wr}},{key:"ru",get:function(){return this.gr}},{key:"uu",get:function(){return this.yr}},{key:"ou",get:function(){return this.We}}]),n}();nt.su=new nt;var it=nt.su,et={}.hasOwnProperty,rt={}.toString;function ut(t){return null!=t}var ot=Array.isArray||function(t){return"[object Array]"===rt.call(t)};function st(t){return ct(t)&&et.call(t,"length")&&dt(t.length)}function ct(t){return"object"==typeof t&&null!==t}function ft(t){return ct(t)&&t.constructor&&t.constructor===d}function ht(t){return"string"==typeof t}function at(t){return"boolean"==typeof t}function vt(t){return Boolean(t)&&"function"==typeof t.then}function dt(t){return"number"==typeof t}var lt=!(it.Hr&&!it.jr),wt=t.console;function gt(t){if(ct(t))try{return JSON.stringify(t)}catch(t){}return t}function yt(t){return t.map(gt).join(" ")}function pt(t){var n=wt&&wt[t];return n?n.bind&&lt?n.bind(wt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];wt[t](yt(i))}:void 0}var mt,bt=pt("log")||x,_t=pt("warn")||bt.bind(void 0,"WARNING:"),kt=pt("error")||bt.bind(void 0,"ERROR:"),Tt=(mt=wt&&wt.assert)?mt.bind&&lt?mt.bind(wt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];wt.assert(t,yt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];kt.apply(void 0,["Assertion failed:"].concat(i))}},St=Rt,Et=null;try{Et=new WebAssembly.Instance(new WebAssembly.Module(new p([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Rt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function It(t){return!0===(t&&t.cu)}Rt.prototype.cu,d.defineProperty(Rt.prototype,"cu",{value:!0}),Rt.isLong=It;var Dt={},Nt={};function Ct(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=Nt[t])?e:(i=Ot(t,(0|t)<0?-1:0,!0),r&&(Nt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=Dt[t])?e:(i=Ot(t,t<0?-1:0,!1),r&&(Dt[t]=i),i)}function At(t,n){if(y(t))return n?Vt:qt;if(n){if(t<0)return Vt;if(t>=Bt)return $t}else{if(t<=-Mt)return Xt;if(t+1>=Mt)return Wt}return t<0?At(-t,n).neg():Ot(t%Ft|0,t/Ft|0,n)}function Ot(t,n,i){return new Rt(t,n,i)}Rt.fromInt=Ct,Rt.fromNumber=At,Rt.fromBits=Ot;var Pt=l.pow;function xt(t,n,i){if(0===t.length)throw a("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return qt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw a("interior hyphen");if(0===e)return xt(t.substring(1),n,i).neg();for(var r=At(Pt(i,8)),u=qt,o=0;o<t.length;o+=8){var s=l.min(8,t.length-o),c=w(t.substring(o,o+s),i);if(s<8){var f=At(Pt(i,s));u=u.mul(f).add(At(c))}else u=(u=u.mul(r)).add(At(c))}return u.unsigned=n,u}function Lt(t,n){return"number"==typeof t?At(t,n):"string"==typeof t?xt(t,n):Ot(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}Rt.fromString=xt,Rt.fromValue=Lt;var Ft=4294967296,Bt=Ft*Ft,Mt=Bt/2,Ut=Ct(1<<24),qt=Ct(0);Rt.ZERO=qt;var Vt=Ct(0,!0);Rt.UZERO=Vt;var Ht=Ct(1);Rt.ONE=Ht;var jt=Ct(1,!0);Rt.UONE=jt;var zt=Ct(-1);Rt.NEG_ONE=zt;var Wt=Ot(-1,2147483647,!1);Rt.MAX_VALUE=Wt;var $t=Ot(-1,-1,!0);Rt.MAX_UNSIGNED_VALUE=$t;var Xt=Ot(0,-2147483648,!1);Rt.MIN_VALUE=Xt;var Gt=Rt.prototype;Gt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Gt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ft+(this.low>>>0):this.high*Ft+(this.low>>>0)},Gt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xt)){var n=At(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=At(Pt(t,6),this.unsigned),u=this,o="";;){var s=u.div(r),c=(u.sub(s.mul(r)).toInt()>>>0).toString(t);if((u=s).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},Gt.getHighBits=function(){return this.high},Gt.getHighBitsUnsigned=function(){return this.high>>>0},Gt.getLowBits=function(){return this.low},Gt.getLowBitsUnsigned=function(){return this.low>>>0},Gt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Gt.isZero=function(){return 0===this.high&&0===this.low},Gt.eqz=Gt.isZero,Gt.isNegative=function(){return!this.unsigned&&this.high<0},Gt.isPositive=function(){return this.unsigned||this.high>=0},Gt.isOdd=function(){return 1==(1&this.low)},Gt.isEven=function(){return 0==(1&this.low)},Gt.equals=function(t){return It(t)||(t=Lt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Gt.eq=Gt.equals,Gt.notEquals=function(t){return!this.eq(t)},Gt.neq=Gt.notEquals,Gt.ne=Gt.notEquals,Gt.lessThan=function(t){return this.comp(t)<0},Gt.lt=Gt.lessThan,Gt.lessThanOrEqual=function(t){return this.comp(t)<=0},Gt.lte=Gt.lessThanOrEqual,Gt.le=Gt.lessThanOrEqual,Gt.greaterThan=function(t){return this.comp(t)>0},Gt.gt=Gt.greaterThan,Gt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Gt.gte=Gt.greaterThanOrEqual,Gt.ge=Gt.greaterThanOrEqual,Gt.compare=function(t){if(It(t)||(t=Lt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Gt.comp=Gt.compare,Gt.negate=function(){return!this.unsigned&&this.eq(Xt)?Xt:this.not().add(Ht)},Gt.neg=Gt.negate,Gt.add=function(t){It(t)||(t=Lt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=0,f=0,h=0,a=0;return h+=(a+=r+(65535&t.low))>>>16,f+=(h+=e+s)>>>16,c+=(f+=i+o)>>>16,c+=n+u,Ot((h&=65535)<<16|(a&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},Gt.subtract=function(t){return It(t)||(t=Lt(t)),this.add(t.neg())},Gt.sub=Gt.subtract,Gt.multiply=function(t){if(this.isZero())return qt;if(It(t)||(t=Lt(t)),Et)return Ot(Et.mul(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned);if(t.isZero())return qt;if(this.eq(Xt))return t.isOdd()?Xt:qt;if(t.eq(Xt))return this.isOdd()?Xt:qt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ut)&&t.lt(Ut))return At(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,u=t.high>>>16,o=65535&t.high,s=t.low>>>16,c=65535&t.low,f=0,h=0,a=0,v=0;return a+=(v+=r*c)>>>16,h+=(a+=e*c)>>>16,a&=65535,h+=(a+=r*s)>>>16,f+=(h+=i*c)>>>16,h&=65535,f+=(h+=e*s)>>>16,h&=65535,f+=(h+=r*o)>>>16,f+=n*c+i*s+e*o+r*u,Ot((a&=65535)<<16|(v&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},Gt.mul=Gt.multiply,Gt.divide=function(t){if(It(t)||(t=Lt(t)),t.isZero())throw a("division by zero");var n,i,e;if(Et)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Ot((this.unsigned?Et.div_u:Et.div_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Vt:qt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Vt;if(t.gt(this.shru(1)))return jt;e=Vt}else{if(this.eq(Xt))return t.eq(Ht)||t.eq(zt)?Xt:t.eq(Xt)?Ht:(n=this.shr(1).div(t).shl(1)).eq(qt)?t.isNegative()?Ht:zt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Xt))return this.unsigned?Vt:qt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=qt}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var r=l.ceil(l.log(n)/l.LN2),u=r<=48?1:Pt(2,r-48),o=At(n),s=o.mul(t);s.isNegative()||s.gt(i);)s=(o=At(n-=u,this.unsigned)).mul(t);o.isZero()&&(o=Ht),e=e.add(o),i=i.sub(s)}return e},Gt.div=Gt.divide,Gt.modulo=function(t){return It(t)||(t=Lt(t)),Et?Ot((this.unsigned?Et.rem_u:Et.rem_s)(this.low,this.high,t.low,t.high),Et.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Gt.mod=Gt.modulo,Gt.rem=Gt.modulo,Gt.not=function(){return Ot(~this.low,~this.high,this.unsigned)},Gt.and=function(t){return It(t)||(t=Lt(t)),Ot(this.low&t.low,this.high&t.high,this.unsigned)},Gt.or=function(t){return It(t)||(t=Lt(t)),Ot(this.low|t.low,this.high|t.high,this.unsigned)},Gt.xor=function(t){return It(t)||(t=Lt(t)),Ot(this.low^t.low,this.high^t.high,this.unsigned)},Gt.shiftLeft=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Ot(0,this.low<<t-32,this.unsigned)},Gt.shl=Gt.shiftLeft,Gt.shiftRight=function(t){return It(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Ot(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Ot(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Gt.shr=Gt.shiftRight,Gt.shiftRightUnsigned=function(t){if(It(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Ot(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Ot(32===t?n:n>>>t-32,0,this.unsigned)},Gt.shru=Gt.shiftRightUnsigned,Gt.shr_u=Gt.shiftRightUnsigned,Gt.toSigned=function(){return this.unsigned?Ot(this.low,this.high,!1):this},Gt.toUnsigned=function(){return this.unsigned?this:Ot(this.low,this.high,!0)},Gt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Gt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Gt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},Rt.fromBytes=function(t,n,i){return i?Rt.fromBytesLE(t,n):Rt.fromBytesBE(t,n)},Rt.fromBytesLE=function(t,n){return new Rt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},Rt.fromBytesBE=function(t,n){return new Rt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Yt=St,Kt=l.pow(2,-52);function Jt(t,n,i){return l.min(l.max(t,n),i)}function Qt(t,n,i){return t===n||l.abs(t-n)<=i}function Zt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function tn(){return Date.now()||(new Date).getTime()}function nn(t){return t/1e3}var en;Yt.fromNumber(9007199254740991);function rn(t){return t.fu===en.hu}function un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.hu=1]="hu",t[t.au=2]="au",t[t.vu=3]="vu",t[t.du=4]="du",t[t.lu=9]="lu"}(en||(en={}));var on=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];a.apply(this,n)};(on.prototype=d.create(a.prototype)).constructor=on;var sn=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,a.captureStackTrace&&a.captureStackTrace(un(e),e.constructor),e}return W(n,t),j(n,[{key:"name",get:function(){return"BaseError"}}]),n}(on),cn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return W(n,t),n}(sn),fn=function(){function t(){}return t.prototype.wu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new gn(n)},t}(),hn=function(){function t(t){this.gu=void 0,this.gu=t}var n=t.prototype;return n.yu=function(t){return this.gu.isEqualNode(t.gu)},n.pu=function(n){return new t(this.gu.cloneNode(n))},j(t,[{key:"fu",get:function(){return en.au}},{key:"mu",get:function(){var t;return null!=(t=this.gu.localName)?t:mn(this.gu.nodeName)}},{key:"bu",get:function(){return this.gu.nodeName}},{key:"_u",get:function(){var t;return null!=(t=this.gu.namespaceURI)?t:void 0}},{key:"ku",get:function(){var t;return null!=(t=this.gu.prefix)?t:void 0}},{key:"Tu",get:function(){return this.gu.nodeValue}}]),t}(),an=function(){function t(t){this.Su=void 0,this.Eu=void 0,this.Su=t}var n=t.prototype;return n.Ru=function(t){return this.Iu.filter(function(n){return yn(n)&&n.Du===t})},n.Nu=function(t,n){return this.Iu.filter(function(i){return yn(i)&&i.mu===n&&i._u===t})},n.Cu=function(t){this.Su.appendChild(t.Au),this.Eu&&this.Eu.push(t)},n.yu=function(t){return this.Su.isEqualNode(t.Au)},j(t,[{key:"Iu",get:function(){return void 0===this.Eu&&(this.Eu=function(t){for(var n=[],i=0;i<t.length;i++){var e=pn(t.item(i));e&&n.push(e)}return n}(this.Su.childNodes)),this.Eu}},{key:"Ou",get:function(){return this.Iu.filter(yn)}},{key:"Au",get:function(){return this.Su}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}W(n,t);var i=n.prototype;return i.Pu=function(t){if(this.Su.hasAttribute(t))return this.Su.getAttribute(t)},i.xu=function(t,n){if(this.Su.hasAttributeNS(t,n))return this.Su.getAttributeNS(t,n)},i.Lu=function(t){this.Su.removeAttribute(t)},i.Fu=function(t,n){this.Su.removeAttributeNS(t,n)},i.Bu=function(t,n){this.Su.setAttribute(t,n)},i.Mu=function(t,n,i){this.Su.setAttributeNS(t,n,i)},i.pu=function(t){return new n(this.Su.cloneNode(t))},j(n,[{key:"fu",get:function(){return en.hu}},{key:"mu",get:function(){var t;return null!=(t=this.Su.localName)?t:mn(this.Su.nodeName)}},{key:"_u",get:function(){var t;return null!=(t=this.Su.namespaceURI)?t:void 0}},{key:"ku",get:function(){var t;return null!=(t=this.Su.prefix)?t:void 0}},{key:"Du",get:function(){return this.Su.nodeName}},{key:"Uu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new hn(t.item(i)));return n}(this.Su.attributes)}},{key:"qu",get:function(){return this.Su.textContent}}]),n}(an),dn=function(){function t(t){this.Su=void 0,this.Su=t}return t.prototype.yu=function(t){return this.Vu===t.Vu},j(t,[{key:"Vu",get:function(){return this.Su.nodeValue}},{key:"Au",get:function(){return this.Su}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n.prototype.pu=function(t){return new n(this.Su.cloneNode(t))},j(n,[{key:"fu",get:function(){return en.vu}}]),n}(dn),wn=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n.prototype.pu=function(t){return new n(this.Su.cloneNode(t))},j(n,[{key:"fu",get:function(){return en.du}}]),n}(dn),gn=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n.prototype.pu=function(t){return new n(this.Su.cloneNode(t))},j(n,[{key:"fu",get:function(){return en.lu}},{key:"Hu",get:function(){return new vn(this.Su.documentElement)}}]),n}(an);function yn(t){return rn(t)}function pn(t){switch(t.nodeType){case en.hu:return new vn(t);case en.vu:return new ln(t);case en.du:return new wn(t)}}function mn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function bn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function _n(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){kn(t,n,r,e);var u=t;t=e,e=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,e){var r,u,o,s,c,f=t.length,h=0,a=2*i;for(r=0;r<f;r+=a)for(o=(u=r+i)+i,u>f&&(u=f),o>f&&(o=f),s=r,c=u;;)if(s<u&&c<o)n(t[s],t[c])<=0?e[h++]=t[s++]:e[h++]=t[c++];else if(s<u)e[h++]=t[s++];else{if(!(c<o))break;e[h++]=t[c++]}}var Tn=/[a-zA-Z]/,Sn=/[0-9]/,En=/[0-9a-fA-F]/,Rn=/^0x/i,In=/^[0-9]+$/,Dn=/^[0-9a-fA-F]+$/,Nn=/^[0-7]+$/,Cn=d.prototype.toString,An=Array.isArray||function(t){return"[object Array]"===Cn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Pn(t){return An(t)?t:Array.from(t)}function xn(t){return t>=65&&t<=90}function Ln(t){return xn(t)||function(t){return t>=97&&t<=122}(t)}function Fn(t){return t>=48&&t<=57}function Bn(t){return Fn(t)||Ln(t)}function Mn(t){return Fn(t)||t>=65&&t<=70||t>=97&&t<=102}function Un(t){return xn(t)?t+32:t}function qn(t){return Fn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Hn=l.min,jn=String.fromCharCode,zn=16384;function Wn(t){for(var n=t.length,i=[],e=0;e<n;e+=zn){var r=Hn(e+zn,n);i.push(jn.apply(null,t.slice(e,r)))}return i.join("")}var $n=/[^\0-\x7E]/,Xn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=l.floor,Kn=String.fromCharCode;function Jn(t){throw new RangeError(Gn[t])}function Qn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}var Zn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ei=function(t,n,i){var e=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;e+=36)t=Yn(t/35);return Yn(e+36*t/(t+38))},ri=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Xn,".")).split("."),n).join(".");return e+r}(t,function(t){return $n.test(t)?"xn--"+function(t){for(var n=[],i=(t=Qn(t)).length,e=128,r=0,u=72,o=0,s=t;o<s.length;o++){var c=s[o];c<128&&n.push(Kn(c))}var f=n.length,h=f;for(f&&n.push("-");h<i;){for(var a=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<a&&(a=l)}var w=h+1;a-e>Yn((2147483647-r)/w)&&Jn("overflow"),r+=(a-e)*w,e=a;for(var g=0,y=t;g<y.length;g++){var p=y[g];if(p<e&&++r>2147483647&&Jn("overflow"),p==e){for(var m=r,b=36;;b+=36){var _=b<=u?1:b>=u+26?26:b-u;if(m<_)break;var k=m-_,T=36-_;n.push(Kn(ii(_+k%T,0))),m=Yn(k/T)}n.push(Kn(ii(m,0))),u=ei(r,w,h==f),r=0,++h}}++r,++e}return n.join("")}(t):t})};function ui(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Wn(n)}function oi(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function si(t,n){return t>>n&63|128}function ci(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(oi(t),n.push(t>>12&15|224),n.push(si(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(si(t,12)),n.push(si(t,6))),n.push(63&t|128)):n.push(t)}function fi(t){for(var n=[],i=0;i<t.length;i++){ci(t[i],n)}return n}function hi(){if(ni>=ti)throw new a("Invalid byte index");var t=255&Zn[ni];if(ni++,128==(192&t))return 63&t;throw new a("Invalid continuation byte")}function ai(){var t,n;if(ni>ti)throw new a("Invalid byte index");if(ni===ti)return!1;if(t=255&Zn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|hi())>=128)return n;throw new a("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|hi()<<6|hi())>=2048)return oi(n),n;throw new a("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|hi()<<12|hi()<<6|hi())>=65536&&n<=1114111)return n;throw new a("Invalid UTF-8 detected")}function vi(t){return[37,Vn(t>>4),Vn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function wi(t){return li(t)||35===t||63===t||123===t||125===t}function gi(t){return wi(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function yi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function pi(t){return yi(t)||39===t}function mi(t,n){if(!n(t))return[t];for(var i=fi([t]),e=[],r=0;r<i.length;r++){var u=i[r];e.push.apply(e,vi(u))}return e}function bi(t,n){for(var i=[],e=0,r=Qn(t);e<r.length;e++){var u=r[e];i.push.apply(i,mi(u,n))}return ui(i)}function _i(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Mn(t[e+1])&&Mn(t[e+2])){var u=qn(t[e+1])<<4|qn(t[e+2]);n.push(u),e+=2}else n.push(r)}return n}(fi(t))}function ki(t){return ui(function(t){Zn=t.slice(),ti=Zn.length,ni=0;for(var n,i=[];!1!==(n=ai());)i.push(n);return i}(_i(Qn(t))))}function Ti(t){var n,i,e,r,u=t.length,o=[0,0,0,0,0,0,0,0],s=0,c=null,f=0;if(f<u&&":"===t[f]){if(!(f+1<u&&":"===t[f+1]))throw new v;f+=2,c=s+=1}for(;f<u;){if(8===s)throw new v("Too many groups");if(":"!==t[f]){for(var h=0,a=0;a<4&&f<u&&En.test(t[f]);)h=h<<4|w(t[f],16),f+=1,a+=1;if("."===t[f]){if(0===a)throw new v;if(f-=a,s>6)throw new v;for(var d=0;f<u;){var l=null;if(d>0){if(!("."===t[f]&&d<4))throw new v;f+=1}if(!Sn.test(t[f]))throw new v;for(;f<u&&Sn.test(t[f]);){var g=w(t[f],10);if(null===l)l=g;else{if(0===l)throw new v;if((l=10*l+g)>255)throw new v}f+=1}o[s]=o[s]<<8|l,2!==(d+=1)&&4!==d||(s+=1)}if(4!==d)throw new v;break}if(":"===t[f]){if((f+=1)===u)throw new v}else if(f<u)throw new v;o[s]=h,s+=1}else{if(null!==c)throw new v("Too many :: groups");f+=1,c=s+=1}}if(null!==c){var y=s-c;for(s=7;0!==s&&y>0;)e=c+y-1,r=void 0,r=(n=o)[i=s],n[i]=n[e],n[e]=r,s-=1,y-=1}else if(8!==s)throw new v;return o}function Si(t){var n=10,i=In;return Rn.test(t)?(t=t.slice(2),n=16,i=Dn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Nn),""===t?0:i.test(t)?w(t,n):void 0}var Ei={ju:4},Ri=/[\0\t\n\r #%/:?@\[\\\]]/,Ii=/[\0\t\n\r #/:?@\[\\\]]/;function Di(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{ju:2,zu:Ti(t.slice(1,-1))}}if(!n)return function(t){if(Ii.test(t))throw new v("Invalid code point in opaque host");var n=bi(t,di);return""===n?Ei:{ju:3,Xi:n}}(t);var i=function(t){return function(t){return ri(t.toLowerCase())}(t)}(ki(t));if(Ri.test(i))throw new v("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var u=Si(r);if(void 0===u)return;i.push(u)}for(var o=0;o<i.length-1;o++)if(i[o]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var s=i.pop(),c=0;c<i.length;c++)s+=i[c]*l.pow(256,3-c);return s}}(i);return void 0!==e?{ju:1,zu:e}:""===i?Ei:{ju:0,Wu:i}}function Ni(t){switch(t.ju){case 0:return t.Wu;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.zu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,u=0;u<8;u++)0===t[u]?(0===r&&(e=u),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.zu)+"]";case 3:return t.Xi;case 4:return""}}var Ci=/\+/g;function Ai(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var u=r.indexOf("="),o=void 0,s=void 0;-1!==u?(o=r.slice(0,u),s=r.slice(u+1)):(o=r,s=""),o=o.replace(Ci," "),s=s.replace(Ci," ");var c=ki(o),f=ki(s);i.push([c,f])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Pi(fi(Qn(e[0])))+"="+Pi(fi(Qn(e[1])))}return n}function Pi(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Bn(n)?i.push(r):i.push.apply(i,vi(r))}return Wn(i)}var xi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Li(t){var n=""+t,i=xi.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var u=t.charCodeAt(r);if(Bi(u))if(Mi(u)||r===i-1)e.push(Fi);else{var o=t.charCodeAt(r+1);Mi(o)?(e.push(u,o),r++):e.push(Fi)}else e.push(u)}return t.slice(0,n)+Wn(e)}(n,i.index):n}var Fi=65533,Bi=function(t){return 55296==(63488&t)},Mi=function(t){return 0!=(1024&t)};function Ui(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function qi(t){t.$u.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.$u,Ai(n))}function Hi(t){if(t.Xu){var n=Oi(t.$u);""===n&&(n=null),t.Xu.Xu.Gu=n}}var ji=function(){function t(t){if(void 0===t&&(t=void 0),this.Xu=null,null==t)this.$u=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof ji&&An(u.$u)&&(!On||u[Symbol.iterator]===zi))this.$u=t.$u.slice();else if(function(t){return null!=t&&(!!An(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.$u=[];for(var n=0,i=Pn(t);n<i.length;n++){var e=Pn(i[n]);if(2!==e.length)throw new v("Invalid name-value pair");this.$u.push([Li(e[0]),Li(e[1])])}}else for(var r in this.$u=[],t)d.prototype.hasOwnProperty.call(t,r)&&this.$u.push([Li(r),Li(t[r])]);else(t=Li(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.$u=Ai(t);var u}var n=t.prototype;return n.append=function(t,n){t=Li(t),n=Li(n),this.$u.push([t,n]),Hi(this)},n.delete=function(t){t=Li(t);for(var n=this.$u,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Hi(this)},n.get=function(t){t=Li(t);for(var n=this.$u,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Li(t);for(var n=this.$u,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Li(t);for(var n=this.$u,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Li(t),n=Li(n);for(var i=this.$u,e=!1,r=0;r<i.length;){var u=i[r];u[0]===t?e?i.splice(r,1):(u[1]=n,e=!0,r++):r++}e||i.push([t,n]),Hi(this)},n.sort=function(){_n(this.$u,Ui),Hi(this)},n.toString=function(){return Oi(this.$u)},n.entries=function(){return new Gi(this.$u,Wi)},n.keys=function(){return new Gi(this.$u,$i)},n.values=function(){return new Gi(this.$u,Xi)},n.forEach=function(t){var n=this;this.$u.forEach(function(i){return t(i[1],i[0],n)})},t}(),zi=ji.prototype.entries;On&&(ji.prototype[Symbol.iterator]=zi);var Wi=function(t){return[t[0],t[1]]},$i=function(t){return t[0]},Xi=function(t){return t[1]},Gi=function(){function t(t,n){this.Yu=0,this.$u=t,this.Ku=n}return t.prototype.next=function(){return this.Yu<this.$u.length?{done:!1,value:this.Ku(this.$u[this.Yu++])}:{done:!0,value:void 0}},t}(),Yi="null";var Ki=d.create(null);Ki.ftp=21,Ki.file=0,Ki.gopher=70,Ki.http=80,Ki.https=443,Ki.ws=80,Ki.wss=443;var Ji=/^(?:\.|%2e)$/i,Qi=/^(?:\.|%2e){2}$/i;function Zi(t){return Ji.test(t)}function te(t){return Qi.test(t)}function ne(t){return void 0!==Ki[t]}function ie(t){return ne(t.Ju)}function ee(t){return""!==t.Qu||""!==t.Zu}function re(t){var n=t.length;if(!(n>=2))return!1;if(!oe(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ue(t){return 2===t.length&&Tn.test(t[0])&&(":"===t[1]||"|"===t[1])}function oe(t){return 2===t.length&&ue(Wn(t))}function se(t){return ue(t)&&":"===t[1]}function ce(t){var n=t.to;0!==n.length&&("file"===t.Ju&&1===n.length&&se(n[0])||n.pop())}function fe(t){return null===t.io||Ei===t.io||t.eo||"file"===t.Ju}var he=-1,ae=/\t|\n|\r/g,ve=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function de(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new we,t=t.replace(ve,""));var r=null!==e?e:0;n=n||null;for(var u=[],o=!1,s=!1,c=!1,f=Qn(t=t.replace(ae,"")),h=f.length,a=0;a<=h;){var d=a<h?f[a]:he;switch(r){case 0:if(!Ln(d)){if(null===e){u.length=0,r=2;continue}throw new v("Invalid scheme")}u.push(Un(d)),r=1;break;case 1:if(Bn(d)||43===d||45===d||46===d)u.push(Un(d));else{if(58!==d){if(null===e){u.length=0,r=2,a=0;continue}throw new v("Invalid scheme")}var l=ui(u);if(null!==e){if(ne(i.Ju)&&!ne(l))return;if(!ne(i.Ju)&&ne(l))return;if((ee(i)||null!==i.ro)&&"file"===l)return;if("file"===i.Ju&&(i.io===Ei||null===i.io))return}if(i.Ju=l,null!==e)return void(ie(i)&&i.ro===Ki[i.Ju]&&(i.ro=null));u.length=0,"file"===i.Ju?r=13:ie(i)&&n&&n.Ju===i.Ju?r=3:ie(i)?r=7:47===f[a+1]?(r=4,a+=1):(i.eo=!0,i.to.push(""),r=18)}break;case 2:if(!n||n.eo&&35!==d)throw new v("Invalid scheme");n.eo&&35===d?(i.Ju=n.Ju,i.to=n.to.slice(),i.Gu=n.Gu,i.uo="",i.eo=!0,r=20):"file"!==n.Ju?(r=5,a-=1):(r=13,a-=1);break;case 3:47===d&&47===f[a+1]?r=8:(r=5,a-=1);break;case 4:47===d?r=9:(r=17,a-=1);break;case 5:i.Ju=n.Ju,he===d?(i.Qu=n.Qu,i.Zu=n.Zu,i.io=n.io,i.ro=n.ro,i.to=n.to.slice(),i.Gu=n.Gu):47===d?r=6:63===d?(i.Qu=n.Qu,i.Zu=n.Zu,i.io=n.io,i.ro=n.ro,i.to=n.to.slice(),i.Gu="",r=19):35===d?(i.Qu=n.Qu,i.Zu=n.Zu,i.io=n.io,i.ro=n.ro,i.to=n.to.slice(),i.Gu=n.Gu,i.uo="",r=20):92===d&&ie(i)?r=6:(i.Qu=n.Qu,i.Zu=n.Zu,i.io=n.io,i.ro=n.ro,i.to=n.to.slice(),i.to.pop(),r=17,a-=1);break;case 6:!ie(i)||47!==d&&92!==d?47===d?r=9:(i.Qu=n.Qu,i.Zu=n.Zu,i.io=n.io,i.ro=n.ro,r=17,a-=1):r=8;break;case 7:if(47!==d||47!==f[a+1]){r=8;continue}r=8,a+=1;break;case 8:47!==d&&92!==d&&(r=9,a-=1);break;case 9:if(64===d){o&&u.unshift(37,52,48),o=!0;for(var g=0;g<u.length;g++){var y=u[g];if(58!==y||c){var p=ui(mi(y,gi));c?i.Zu+=p:i.Qu+=p}else c=!0}u.length=0}else if(he===d||47===d||63===d||35===d||ie(i)&&92===d){if(o&&0===u.length)throw new v("Invalid host");a-=u.length+1,u.length=0,r=10}else u.push(d);break;case 10:case 11:if(null!==e&&"file"===i.Ju)a-=1,r=15;else if(58!==d||s)if(he===d||47===d||63===d||35===d||ie(i)&&92===d){if(a-=1,ie(i)&&0===u.length)throw new v("Invalid host");if(null!==e&&0===u.length&&(ee(i)||null!==i.ro))return;var m=Di(ui(u),ie(i));if(i.io=m,u.length=0,r=16,null!==e)return}else 91===d?s=!0:93===d&&(s=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var b=Di(ui(u),ie(i));if(i.io=b,u.length=0,r=12,11===e)return}break;case 12:if(Fn(d))u.push(d);else{if(!(he===d||47===d||63===d||35===d||ie(i)&&92===d||null!==e))throw new v("Invalid port");if(0!==u.length){var _=w(ui(u),10);if(_>65535)throw new v("Invalid port");i.ro=_===Ki[i.Ju]?null:_,u.length=0}if(null!==e)return;r=16,a-=1}break;case 13:i.Ju="file",47===d||92===d?r=14:n&&"file"===n.Ju?he===d?(i.io=n.io,i.to=n.to.slice(),i.Gu=n.Gu):63===d?(i.io=n.io,i.to=n.to.slice(),i.Gu="",r=19):35===d?(i.io=n.io,i.to=n.to.slice(),i.Gu=n.Gu,i.uo="",r=20):(re(f.slice(a))||(i.io=n.io,i.to=n.to.slice(),ce(i)),r=17,a-=1):(r=17,a-=1);break;case 14:47===d||92===d?r=15:(n&&"file"===n.Ju&&!re(f.slice(a))&&(se(n.to[0])?i.to.push(n.to[0]):i.io=n.io),r=17,a-=1);break;case 15:if(he===d||47===d||92===d||63===d||35===d)if(a-=1,null===e&&oe(u))r=17;else if(0===u.length){if(i.io=Ei,null!==e)return;r=16}else{var k=Di(ui(u),ie(i));if(0===k.ju&&"localhost"===k.Wu&&(k=Ei),i.io=k,null!==e)return;u.length=0,r=16}else u.push(d);break;case 16:ie(i)?(r=17,47!==d&&92!==d&&(a-=1)):null===e&&63===d?(i.Gu="",r=19):null===e&&35===d?(i.uo="",r=20):he!==d&&(r=17,47!==d&&(a-=1));break;case 17:if(he===d||47===d||ie(i)&&92===d||null===e&&(63===d||35===d)){var T=ui(u);if(te(T)?(ce(i),47===d||ie(i)&&92===d||i.to.push("")):!Zi(T)||47===d||ie(i)&&92===d?Zi(T)||("file"===i.Ju&&0===i.to.length&&oe(u)&&(Ei!==i.io&&null!==i.io&&(i.io=Ei),u[1]=58,T=ui(u)),i.to.push(T)):i.to.push(""),u.length=0,"file"===i.Ju&&(he===d||63===d||35===d))for(;i.to.length>1&&""===i.to[0];)i.to.shift();63===d?(i.Gu="",r=19):35===d&&(i.uo="",r=20)}else u.push.apply(u,mi(d,wi));break;case 18:63===d?(i.Gu="",r=19):35===d?(i.uo="",r=20):he!==d&&(i.to[0]+=ui(mi(d,di)));break;case 19:null===e&&35===d?(i.uo="",r=20):he!==d&&(i.Gu+=ui(mi(d,ie(i)?pi:yi)));break;case 20:he===d||0===d||(i.uo+=ui(mi(d,li)))}a++}return i}function le(t,n,i,e){try{de(t,n,i,e)}catch(t){}}var we=function(){this.Ju="",this.Qu="",this.Zu="",this.io=null,this.ro=null,this.to=[],this.Gu=null,this.uo=null,this.eo=!1};function ge(t){switch(t.Ju){case"blob":var n;try{n=de(t.to[0],null)}catch(t){return Yi}return ge(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ju,e=t.io,r=t.ro,i+"://"+Ni(e)+(null===r?"":":"+r);case"file":default:return Yi}var i,e,r}var ye,pe=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof pe&&"object"==typeof i.Xu)r=n.Xu;else try{r=de(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{e=de(String(t),r)}catch(t){throw new v("Invalid URL: "+t.message)}var u=e.Gu;this.Xu=e,this.Gu=function(t){var n=new ji;return null!==t&&Vi(n,t),n}(u),this.Gu.Xu=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ju+":";if(null!==t.io?(i+="//",ee(t)&&(i+=t.Qu,""!==t.Zu&&(i+=":"+t.Zu),i+="@"),i+=Ni(t.io),null!==t.ro&&(i+=":"+t.ro)):null===t.io&&"file"===t.Ju&&(i+="//"),t.eo)i+=t.to[0];else for(var e=0,r=t.to;e<r.length;e++)i+="/"+r[e];return null!==t.Gu&&(i+="?"+t.Gu),n||null===t.uo||(i+="#"+t.uo),i}(this.Xu)},set:function(t){var n;try{n=de(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Xu=n,qi(this.Gu);var i=this.Xu.Gu;null!==i&&Vi(this.Gu,i)}},{key:"origin",get:function(){return ge(this.Xu)}},{key:"protocol",get:function(){return this.Xu.Ju+":"},set:function(t){le(t+":",null,this.Xu,0)}},{key:"username",get:function(){return this.Xu.Qu},set:function(t){fe(this.Xu)||(this.Xu.Qu=bi(t,gi))}},{key:"password",get:function(){return this.Xu.Zu},set:function(t){fe(this.Xu)||(this.Xu.Zu=bi(t,gi))}},{key:"host",get:function(){var t=this.Xu,n=t.io;if(null===n)return"";var i=t.ro,e=Ni(n);return null!==i&&(e+=":"+i),e},set:function(t){this.Xu.eo||le(t,null,this.Xu,10)}},{key:"hostname",get:function(){var t=this.Xu.io;return null===t?"":Ni(t)},set:function(t){this.Xu.eo||le(t,null,this.Xu,11)}},{key:"port",get:function(){var t=this.Xu.ro;return null===t?"":""+t},set:function(t){fe(this.Xu)||(""===t?this.Xu.ro=null:le(t,null,this.Xu,12))}},{key:"pathname",get:function(){var t=this.Xu.to;return this.Xu.eo?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Xu.eo||(this.Xu.to.length=0,le(t,null,this.Xu,16))}},{key:"search",get:function(){var t=this.Xu.Gu;return null===t||""===t?"":"?"+t},set:function(t){t=Li(t);var n=this.Xu;if(""===t)return n.Gu=null,void qi(this.Gu);"?"===t[0]&&(t=t.slice(1)),n.Gu="",le(t,null,n,19),Vi(this.Gu,t)}},{key:"searchParams",get:function(){return this.Gu}},{key:"hash",get:function(){var t=this.Xu.uo;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Xu.uo="",le(t,null,this.Xu,20)):this.Xu.uo=null}}])&&bn(n.prototype,i),e&&bn(n,e),t}();function me(t){return t.document&&t.document.baseURI||t.location.href||""}function be(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _e(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function ke(){return void 0!==r?r.createElement("video"):void 0}function Te(){return ye||(ye=ke()),ye}var Se=!!("ontouchstart"in t||t.DocumentTouch&&r instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Ee=Te(),Re=!(!Ee||!Ee.webkitShowPlaybackTargetPicker),Ie=function(){function t(){this.oo=void 0,this.so=!1,this.pr=Se,this.Or=!1,this.co=!0,this.fo=!0}var n=t.prototype;return n.ho=function(){return 0},n.ao=function(t,n){return!0},n.vo=function(t){return t>=1/6*2},j(t,[{key:"do",get:function(){return void 0===this.oo&&(this.oo=this.ho()),this.oo}},{key:"lo",get:function(){return e.devicePixelRatio||1}},{key:"wo",get:function(){return Re}},{key:"yo",get:function(){return!1}},{key:"po",get:function(){return!0}},{key:"mo",get:function(){return it.mr||it.Nr}},{key:"bo",get:function(){return!0}},{key:"_o",get:function(){return!0}},{key:"ko",get:function(){}},{key:"To",get:function(){return!0}}]),t}(),De=function(){var t=ke();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(it.Ir)return!1;var t=ke();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Ne=function(t){function n(n){var i;return(i=t.call(this)||this).So=void 0,i.So=n,i.So&&(i.so=i.So.so,i.pr=i.So.pr,i.co=De&&i.So.co),i}W(n,t);var i=n.prototype;return i.ho=function(){return this.So?this.So.do:t.prototype.ho.call(this)},i.ao=function(n,i){return this.So?this.So.ao(n,i):t.prototype.ao.call(this,n,i)},i.vo=function(n){return this.So?this.So.vo(n):t.prototype.vo.call(this,n)},j(n,[{key:"ko",get:function(){var t;return null==(t=this.So)?void 0:t.ko}},{key:"To",get:function(){var t,n;return null==(t=null==(n=this.So)?void 0:n.To)||t}}]),n}(Ie),Ce=function(t){function n(n){var i;return(i=t.call(this,n)||this).so=!0,i.Or=!0,i}return W(n,t),n}(Ne),Ae=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.ho=function(){return E.MediaSource?t.prototype.ho.call(this):1},n}(Ce),Oe=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.ao=function(n,i){return!(i.Eo>1920)&&t.prototype.ao.call(this,n,i)},j(n,[{key:"yo",get:function(){return it.Ur<3}},{key:"po",get:function(){return it.Ur>=3}}]),n}(Ne),Pe=function(t){function n(){return t.call(this)||this}return W(n,t),n}(Ie),xe=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.ao=function(t,n){if(t&&t.Ro&&n&&n.Ro){var i=Le(t.Ro,"mp4a.40.2")&&Le(n.Ro,"mp4a.40.5"),e=Le(t.Ro,"mp4a.40.5")&&Le(n.Ro,"mp4a.40.2"),r=Le(t.Ro,"mp4a.40.2")&&Le(n.Ro,"mp4a.40.34"),u=Le(t.Ro,"mp4a.40.34")&&Le(n.Ro,"mp4a.40.2"),o=Le(t.Ro,"mp4a.40.5")&&Le(n.Ro,"mp4a.40.34"),s=Le(t.Ro,"mp4a.40.34")&&Le(n.Ro,"mp4a.40.5");return!(i||e||r||u||o||s)}return!0},j(n,[{key:"ko",get:function(){if(it.mr)return 4096}}]),n}(Pe);function Le(t,n){return t.indexOf(n)>-1}var Fe=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.vo=function(t){return t>=2},n}(Pe),Be=function(t){function n(){var n;return(n=t.call(this)||this).so=it.Gr>=11,n.co=it.Xr&&!(it.Nr&&it.Gr<10),n}return W(n,t),n}(Pe),Me=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),j(n,[{key:"bo",get:function(){return!1}}]),n}(Ne),Ue=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),j(n,[{key:"To",get:function(){return!it.br||!!it.Fr&&92!==it.Br}}]),n}(Pe),qe=function(){function n(){var n;this.Io=void 0,this.Do=new fn,this.No=new Ve,this.Co=(n=function(){if(it.Wr)return new xe;if(it.Vr||it.Hr)return new Fe;if(it.Xr)return new Be;if(it.xr)return new Ue;return new Pe}(),it.Nr?new Ae(n):it.Or?new Ce(n):it.Mr?new Oe(n):it.qr?new Me(n):new Ne(n)),this.Ao=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.Io=function(){return t.performance.now()}:this.Io=tn}var i=n.prototype;return i.Oo=function(){bt.apply(void 0,arguments)},i.Po=function(){_t.apply(void 0,arguments)},i.xo=function(){kt.apply(void 0,arguments)},i.Lo=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];Tt.apply(void 0,[t].concat(i))},i.Fo=function(t,n){return s(t,n)},i.Bo=function(t,n){return f(t,n)},i.Mo=function(t){c(t)},i.Uo=function(t){h(t)},i.wu=function(t){return this.Do.wu(t)},i.qo=function(){return this.Vo.qo()},i.Ho=function(){return this.Vo.Ho()},i.jo=function(){return this.Vo.jo()},i.zo=function(){return this.Vo.zo()},i.Wo=function(){return this.Vo.Wo()},i.$o=function(t,n){return this.Vo.$o(t,n)},i.Xo=function(t){return this.Vo.Xo(t)},i.Go=function(t,n){var i;return void 0===n&&(n=me(E)),i="object"!=typeof n||n instanceof pe?n:n.href,new pe(t,i)},i.Yo=function(n,i){if(void 0===i&&(i=me(E)),this.Ao){var e=ht(i)?i:i.toString();return new t.URL(n,e).href}return this.Go(n,i).href},j(n,[{key:"Ko",get:function(){return this.No}},{key:"Jo",get:function(){return this.Co}},{key:"Qo",get:function(){return{Zo:o&&o.userAgent.match(/Android /i)?"Android":"other",ts:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"es",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"rs",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Ve=function(){function t(){}return j(t,[{key:"us",get:function(){return o.oscpu}},{key:"Jo",get:function(){return o.platform}},{key:"os",get:function(){return o.vendor}},{key:"ss",get:function(){return o.vendorSub}}]),t}();var He=_(function(t){!function(t){var n,i=d.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(t,n,i,e){var r=n&&n.prototype instanceof m?n:m,u=d.create(r.prototype),o=new A(e||[]);return u.cs=function(t,n,i){var e=h;return function(r,u){if(e===w)throw new a("Generator is already running");if(e===g){if("throw"===r)throw u;return P()}for(i.method=r,i.arg=u;;){var o=i.delegate;if(o){var s=D(o,i);if(s){if(s===p)continue;return s}}if("next"===i.method)i.sent=i.fs=i.arg;else if("throw"===i.method){if(e===h)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=w;var c=f(t,n,i);if("normal"===c.type){if(e=i.done?g:l,c.arg===p)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(e=g,i.method="throw",i.arg=c.arg)}}}(t,i,o),u}function f(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h="suspendedStart",l="suspendedYield",w="executing",g="completed",p={};function m(){}function b(){}function _(){}var k={};k[u]=function(){return this};var T=d.getPrototypeOf,S=T&&T(T(O([])));S&&S!==i&&e.call(S,u)&&(k=S);var E=_.prototype=m.prototype=d.create(k);function R(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.cs(n,t)}})}function I(t){var n;this.cs=function(i,r){function u(){return new Promise(function(n,u){!function n(i,r,u,o){var s=f(t[i],t,r);if("throw"!==s.type){var c=s.arg,h=c.value;return h&&"object"==typeof h&&e.call(h,"hs")?Promise.resolve(h.hs).then(function(t){n("next",t,u,o)},function(t){n("throw",t,u,o)}):Promise.resolve(h).then(function(t){c.value=t,u(c)},function(t){return n("throw",t,u,o)})}o(s.arg)}(i,r,n,u)})}return n=n?n.then(u,u):u()}}function D(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,D(t,i),"throw"===i.method))return p;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return p}var r=f(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,p;var u=r.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,p):u:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,p)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var r=-1,o=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}b.prototype=E.constructor=_,_.constructor=b,_[s]=b.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,_):(t.__proto__=_,s in t||(t[s]="GeneratorFunction")),t.prototype=d.create(E),t},t.awrap=function(t){return{hs:t}},R(I.prototype),I.prototype[o]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var u=new I(c(n,i,e,r));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},R(E),E[s]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=O,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.fs=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return s.type="throw",s.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var o=this.tryEntries[u],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=e.call(o,"catchLoc"),f=e.call(o,"finallyLoc");if(c&&f){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!f)throw new a("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var u=r;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var o=u?u.completion:{};return o.type=t,o.arg=n,u?(this.method="next",this.next=u.finallyLoc,p):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),p},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),p}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;C(i)}return r}}throw new a("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:O(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),p}}}(t.exports)});function je(){return(je=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)d.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function ze(){var t=d.create(null);return t.as=void 0,delete t.as,t}function We(){return new Ye}function $e(t){var n=We();for(var i in t)et.call(t,i)&&n.set(i,t[i]);return n}var Xe,Ge="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ye=Ge||(Xe=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ze(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ze(),this.size=0},n.keys=function(){return new Xe(this.data,function(t,n){return n})},n.values=function(){return new Xe(this.data,function(t,n){return t[n]})},n.entries=function(){return new Xe(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ke,Je=Ge||(Ke=function(){function t(t,n){this.vs=void 0,this.ds=void 0,this.vs=t,this.ds=n}var n=t.prototype;return n.next=function(){var t=this.vs.next();return t.done?t:{value:this.ds(t.value),done:!1}},t}(),function(){function t(){this.ls=We()}var n=t.prototype;return n.get=function(t){return this.ls.get(""+t)},n.set=function(t,n){return this.ls.set(""+t,n),this},n.has=function(t){return this.ls.has(""+t)},n.delete=function(t){return this.ls.delete(""+t)},n.clear=function(){this.ls.clear()},n.keys=function(){return new Ke(this.ls.keys(),function(t){return Number(t)})},n.values=function(){return this.ls.values()},n.entries=function(){return new Ke(this.ls.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.ls.forEach(function(n,i){t(n,Number(i))})},j(t,[{key:"size",get:function(){return this.ls.size}}]),t}());var Qe,Ze="cenc",tr="sinf",nr="skd",ir="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",er="com.microsoft.playready",rr="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ur="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",or="urn:uuid:"+ur,sr="com.apple.fps.1_0";!function(t){t.gs="playready",t.ys="widevine",t.ps="fairplay",t.bs="clearkey",t._s="aes128"}(Qe||(Qe={}));var cr={ks:Qe.gs,Ts:er,Ss:"cenc",Es:"9a04f079-9840-4286-ab92-e65be0885f95",Rs:ir,Is:"PlayReady"},fr={ks:Qe.ys,Ts:"com.widevine.alpha",Ss:"cenc",Es:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Rs:rr,Is:"Widevine"},hr={ks:Qe.ps,Ts:sr,Ss:"skd",Es:ur,Rs:or,Is:"FairPlay"},ar=(Qe.ps,{ks:Qe.bs,Ts:"org.w3.clearkey",Ss:"cenc",Es:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Rs:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Is:"ClearKey"});function vr(t,n,i){return t.split(n).join(i)}function dr(t,n){return null!=t&&-1!==t.indexOf(n)}function lr(t,n){return null!=t&&t.substr(0,n.length)===n}function wr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function gr(t,n){return t.toUpperCase()===n.toUpperCase()}function yr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return mr(n)}var pr=16384;function mr(t){var n=t.length;if(n<=pr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=pr)i.push(String.fromCharCode.apply(String,t.slice(e,e+pr)));return i.join("")}var br=it.xr&&it.Lr>=42||it.Wr&&it.$r>=38||it.Vr||it.jr||it.Yr&&it.Kr>=29;function _r(t,n){return dr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[je({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[je({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}var kr,Tr=function(){function t(t){this.Ds=void 0,this.Ns=We(),this.Cs=void 0,this.Ds=t}var n=t.prototype;return n.Wo=function(){return this.Xo(fr)},n.Ho=function(){return this.Xo(ar)},n.zo=function(){return this.Xo(cr)},n.jo=function(){return this.Xo(hr)},n.Xo=function(t){var n=t.Rs,i=this.Ns.get(n);if(i)return i;var e=this.$o(t,'video/mp4; codecs="avc1.42000a"');return this.Ns.set(n,e),e},n.$o=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Ds.As(n.Ts,[_r(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.Ds.As(n.Ts,[_r(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.qo=function(){return this.Cs||(this.Cs=this.Os()),this.Cs},n.Os=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==R.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(br){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Ho();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Sr(t,n){var i=function(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),u=1;u<e;u*=2){Er(i,n,u,r);var o=i;i=r,r=o}return i}(t,n);return i!==t&&Er(i,void 0,t.length,t),t}function Er(t,n,i,e){var r,u,o,s,c,f=t.length,h=0,a=2*i;for(u=0;u<f;u+=a)for(r=(o=u+i)+i,o>f&&(o=f),r>f&&(r=f),s=u,c=o;;)if(s<o&&c<r)n&&n(t[s],t[c])<=0?e[h++]=t[s++]:e[h++]=t[c++];else if(s<o)e[h++]=t[s++];else{if(!(c<r))break;e[h++]=t[c++]}}!function(t){t[t.Ps=0]="Ps",t[t.xs=1]="xs",t[t.Ls=-1]="Ls"}(kr||(kr={}));var Rr=function(t,n){return(0|t)-(0|n)},Ir=function(t,n){return t===n?kr.Ps:t<n?kr.Ls:t>n?kr.xs:y(t)?y(n)?kr.Ps:kr.xs:kr.Ls};function Dr(t,n,i){return Qt(t,n,i)?kr.Ps:Ir(t,n)}var Nr=function(t,n){return function(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Kt||i<l.max(l.abs(t),l.abs(n))*Kt}(t,n)?kr.Ps:Ir(t,n)};function Cr(t,n,i){var e=function(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(t,n,i);return-1===e?void 0:t[e]}function Ar(t,n){var i=t.indexOf(n);return-1!==i&&(Or(t,i),!0)}function Or(t,n){t.splice(n,1)}function Pr(t,n){return-1!==t.indexOf(n)}function xr(t){t.length=0}var Lr=function(){function t(){this.Fs=!1,this.Bs=!1,this.Ms=[],this.Us=[]}var n=t.prototype;return n.qs=function(){if(!this.Fs&&!this.Bs){this.Fs=!0;for(var t=0,n=this.Ms.slice();t<n.length;t++){(0,n[t])()}this.Vs()}},n.Vs=function(){if(!this.Bs){this.Bs=!0;for(var t=0,n=this.Us.slice();t<n.length;t++){(0,n[t])()}xr(this.Ms),xr(this.Us)}},n.Hs=function(t){this.Bs||this.Ms.push(t)},n.js=function(t){this.Bs||Ar(this.Ms,t)},n.zs=function(t){this.Bs||this.Us.push(t)},n.Ws=function(t){this.Bs||Ar(this.Us,t)},t}(),Fr=function(){function t(){this.$s=new Lr}var n=t.prototype;return n.Xs=function(){this.$s.qs()},n.Vs=function(){this.$s.Vs()},n.Gs=function(t){var n=this.$s;if(!n.Fs)if(t.Fs)n.qs();else if(!n.Bs&&!t.Bs){var i=function(){e(),n.qs()},e=function e(){t.js(i),t.Ws(e),n.js(i),n.Ws(e)};t.Hs(i),t.zs(e),n.Hs(i),n.zs(e)}},n.Ys=function(){var n=new t,i=new t,e=n.Ks,r=i.Ks,u=this.$s,o=function(){e.Fs&&r.Bs||r.Fs&&e.Bs?u.qs():e.Bs&&r.Bs&&u.Vs()};e.Hs(o),r.Hs(o),e.zs(o),r.zs(o),n.Gs(u),i.Gs(u);return u.zs(function(){e.js(o),r.js(o),e.Ws(o),r.Ws(o)}),[n,i]},j(t,[{key:"Ks",get:function(){return this.$s}}]),t}(),Br=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return W(n,t),j(n,[{key:"name",get:function(){return"AbortError"}}]),n}(sn);function Mr(t){return t instanceof a&&"AbortError"===t.name}function Ur(t){if(t&&t.Fs)throw new Br}function qr(t){if(Mr(t))throw t}function Vr(t){if(!Mr(t))throw t}function Hr(t,n){return n?new D(function(i,e){if(n.Fs)return t.catch(x),e(new Br);var r=function t(){n.js(t),e(new Br)};n.Hs(r),t.then(function(t){n.js(r),i(t)},function(t){n.js(r),e(t)})}):t}function jr(t,n){return t.then(function(t){return n.Vs(),t},function(t){throw n.Vs(),t})}var zr=D.resolve();function Wr(t){zr.then(t)}function $r(t){t.then(x,x)}function Xr(t){return Gr.apply(this,arguments)}function Gr(){return(Gr=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,D.all(n.map(function(t){return t.catch(x)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Yr(t){return t&&"function"!=typeof t?t.slice():t}function Kr(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Jr,Qr=function(){function t(t){var n=this;this.Js=ze(),this.Qs=void 0,this.Zs=void 0,this.tc=function(t){n.nc(t)},this.Zs=t||this}var n=t.prototype;return n.ic=function(t,n){if("function"==typeof n)if("string"==typeof t)this.ec(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.ec(e,n)}},n.ec=function(t,n){var i=this.Js[t];i?"function"==typeof i?this.Js[t]=[i,n]:i.push(n):this.Js[t]=n},n.rc=function(t){if("function"==typeof t){var n=this.Qs;n?"function"==typeof n?this.Qs=[n,t]:n.push(t):this.Qs=t}},n.uc=function(){this.Js=ze(),this.Qs=void 0},n.nc=function(t){var n=Yr(this.Js[t.type]),i=Yr(this.Qs);Kr(this.Zs,t,n),Kr(this.Zs,t,i)},n.oc=function(t,n){if("function"==typeof n)if("string"==typeof t)this.sc(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.sc(e,n)}},n.sc=function(t,n){var i=this.Js[t];i&&("function"==typeof i?i===n&&(this.Js[t]=void 0):Ar(i,n))},n.cc=function(t){if("string"==typeof t)this.Js[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Js[i]=void 0}},n.fc=function(t){var n=this.Qs;n&&("function"==typeof n?n===t&&(this.Qs=void 0):Ar(n,t))},n.hc=function(t,n){var i=this;return new D(function(e,r){if(n&&n.Fs)return r(new Br);var u=function(t){s(),e(t)},o=function(){s(),r(new Br)},s=function(){i.oc(t,u),n&&n.js(o)};i.ic(t,u),n&&n.Hs(o)})},t}(),Zr=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.nc=function(n){var i=this;Wr(function(){t.prototype.nc.call(i,n)})},n}(Qr),tu=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},nu=["cenc"],iu=["cbcs","cbcs-1-9"],eu=function(t){function n(n){var i;return(i=t.call(this,"vc")||this).ac=n,i}return W(n,t),n}(tu),ru=function(t){function n(n,i,e,r){var u;return(u=t.call(this,"dc")||this).ac=n,u.lc=i,u.dc=e,u.wc=r,u}return W(n,t),n}(tu),uu=function(t){function n(){return t.call(this,"gc")||this}return W(n,t),n}(tu);!function(t){t.yc="pc",t.mc="bc"}(Jr||(Jr={}));var ou=function(t){function n(n,i){var e;return(e=t.call(this,Jr.yc)||this).Ss=n,e._c=i,e}return W(n,t),n}(tu),su=new p([0]).buffer,cu=function(){function t(){this.kc=void 0,this.kc=[]}var n=t.prototype;return n.Tc=function(t){for(var n=0,i=this.kc;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Sc=function(t){for(var n=0,i=this.kc;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.Ec=function(t,n){this.kc.forEach(function(n){return t(n[1],n[0])},n)},n.Rc=function(t,n){this.kc.push([t,n])},n.Ic=function(){xr(this.kc)},j(t,[{key:"Dc",get:function(){return this.kc.length}}]),t}(),fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),hu=16383,au=/[\t\n\f\r ]/g;function vu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:du()}function du(){throw new a("Invalid base64 input")}function lu(t){var n=t;au.test(n)&&(n=n.replace(au,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return du();for(var r,u=0===e?0:4-e,o=new p(function(t,n){return 3*(t+n)/4-n}(i,u)),s=u>0?i-4:i,c=0,f=0;c<s;c+=4)r=vu(n.charCodeAt(c))<<18|vu(n.charCodeAt(c+1))<<12|vu(n.charCodeAt(c+2))<<6|vu(n.charCodeAt(c+3)),o[f++]=r>>16&255,o[f++]=r>>8&255,o[f++]=255&r;return 2===u?(r=vu(n.charCodeAt(c))<<2|vu(n.charCodeAt(c+1))>>4,o[f++]=255&r):1===u&&(r=vu(n.charCodeAt(c))<<10|vu(n.charCodeAt(c+1))<<4|vu(n.charCodeAt(c+2))>>2,o[f++]=r>>8&255,o[f++]=255&r),o}function wu(t,n,i){for(var e,r,u,o=[],s=n;s<i;s+=3)o.push((e=t[s],r=t[s+1],u=t[s+2],fu[e>>2]+fu[(3&e)<<4|r>>4]+fu[(15&r)<<2|u>>6]+fu[63&u]));return o.join("")}function gu(t){for(var n=t.length,i=n%3,e=[],r=n-i,u=0;u<r;u+=hu)e.push(wu(t,u,l.min(r,u+hu)));if(1===i){var o=t[n-1];e.push(fu[o>>2]+fu[(3&o)<<4]+"==")}else if(2===i){var s=t[n-2],c=t[n-1];e.push(fu[s>>2]+fu[(3&s)<<4|c>>4]+fu[(15&c)<<2]+"=")}return e.join("")}var yu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],pu=ArrayBuffer.isView||function(t){return t&&Pr(yu,rt.call(t))};function mu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new p(t),new p(n))}function bu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new p(n),e=0,r=0;r<t.length;r++){var u=t[r];i.set(u,e),e+=u.byteLength}return i}(t,n)}function _u(t){return lu(t).buffer}function ku(t){return gu(new p(t))}function Tu(t){return gu(Yu(t))}var Su=function(){function t(t){void 0===t&&(t=0),this.Nc=t}var n=t.prototype;return n.Cc=function(t){this.Nc+=t},n.Ac=function(t){this.Nc=t},n.Oc=function(){return new t(this.Pc)},j(t,[{key:"Pc",get:function(){return this.Nc}}]),t}();function Eu(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ru(t,n){return t>>n&63|128}function Iu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Eu(t),n.push(t>>12&15|224),n.push(Ru(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ru(t,12)),n.push(Ru(t,6))),n.push(63&t|128)):n.push(t)}function Du(t,n){if(n.Pc>=t.length)throw new a("Invalid byte index");var i=255&t[n.Pc];if(n.Cc(1),128==(192&i))return 63&i;throw new a("Invalid continuation byte")}function Nu(t,n){var i=n.Pc;if(i>t.length)throw new a("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.Cc(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Du(t,n);if(r>=128)return r;throw new a("Invalid continuation byte")}if(224==(240&e)){var u=(15&e)<<12|Du(t,n)<<6|Du(t,n);if(u>=2048)return Eu(u),u;throw new a("Invalid continuation byte")}if(240==(248&e)){var o=(7&e)<<18|Du(t,n)<<12|Du(t,n)<<6|Du(t,n);if(o>=65536&&o<=1114111)return o}throw new a("Invalid UTF-8 detected")}var Cu=65279;var Au=function(){function t(t){this.xc=t}return t.prototype.Lc=function(t){return function(t,n){return(t&n)===n}(this.xc,t)},t}();function Ou(t,n){var i=t.getUint8(n.Pc);return n.Cc(1),i}function Pu(t,n,i){t.setUint8(n.Pc,i),n.Cc(1)}function xu(t,n,i){var e=no(eo(t),n.Pc,n.Pc+i);return n.Cc(e.byteLength),e}function Lu(t,n,i){return n.Pc+i<=t.byteLength}function Fu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.Pc,i);return n.Cc(2),e}function Bu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.Pc,i,e),n.Cc(2)}function Mu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.Pc,i);return n.Cc(4),e}function Uu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.Pc,i,e),n.Cc(4)}function qu(t,n,i){void 0===i&&(i=!1);var e=Mu(t,n,i),r=Mu(t,n,i),u=i?r:e,o=i?e:r;return Yt.fromBits(o,u,!0)}function Vu(t,n){var i=Ou(t,n);if(i)return String.fromCharCode(i)}function Hu(t,n){return function(t,n){return Wu(t,n,!0)}(t,n)}function ju(t,n,i){for(var e="",r=0;r<i;r++)e+=Vu(t,n);return e}function zu(t,n){var i,e=Ou(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Ou(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Ou(t,n))+(63&Ou(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Ou(t,n))+64*(63&Ou(t,n))+(63&Ou(t,n))),i}function Wu(t,n,i){for(var e=[];n.Pc<t.byteLength;){var r=Ou(t,n);if(i&&!r)break;e.push(r)}return mr(e)}function $u(t,n,i,e){for(var r=[];n.Pc+2<=t.byteLength;){var u=Fu(t,n,i);if(e&&!u)break;r.push(u)}return mr(r)}function Xu(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,u=0;u<r;u+=1){Bu(t,n,i.charCodeAt(u),e)}}function Gu(t){return Wu(io(t),new co,!1)}function Yu(t){var n=new p(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Pu(t,n,i.charCodeAt(r))}(io(n),new co,t),n}function Ku(t,n){return void 0===n&&(n=!1),$u(io(t),new co,n,!1)}function Ju(t,n){void 0===n&&(n=!1);var i=new p(2*t.length);return Xu(io(i),new co,t,n),i}function Qu(t,n){return function(t,n,i){var e=[];(function(t,n){return n.Pc+3<=t.byteLength&&239===t.getUint8(n.Pc)&&187===t.getUint8(n.Pc+1)&&191===t.getUint8(n.Pc+2)})(t,n)&&n.Cc(3);for(;n.Pc<t.byteLength;){var r=zu(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return yr(e)}(t,n,!0)}function Zu(t){return yr(function(t,n){var i,e=[],r=new co;if(!n){if(!1===(i=Nu(t,r)))return e;i===Cu||e.push(i)}for(;!1!==(i=Nu(t,r));)e.push(i);return e}(eo(t)))}function to(t){return new p(function(t){for(var n=[],i=0;i<t.length;i++)Iu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function no(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new p(t.buffer,t.byteOffset+n,i-n)}function io(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function eo(t){return new p(t.buffer,t.byteOffset,t.byteLength)}function ro(t){return t instanceof ArrayBuffer||pu(t)}function uo(t){return t instanceof ArrayBuffer?new p(t):eo(t)}function oo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):so(no(t,n,i))}function so(t){if(t.slice)return t.slice(0);var n=new p(t.byteLength);return n.set(t,0),n}var co=function(){function t(t){void 0===t&&(t=0),this.Nc=t}var n=t.prototype;return n.Cc=function(t){this.Nc+=t},n.Ac=function(t){this.Nc=t},n.Oc=function(){return new t(this.Pc)},n.Fc=function(){return new Su(this.Pc<<3)},j(t,[{key:"Pc",get:function(){return this.Nc}}]),t}(),fo=function(){function t(){var t=this;this.Bc=void 0,this.Bn=void 0,this.H=void 0,this.Bc=new D(function(n,i){t.Bn=n,t.H=i})}var n=t.prototype;return n.Mc=function(t){this.Bn&&(this.Bn(t),this.Vs())},n.Uc=function(t){this.H&&(this.H(t),this.Vs())},n.Xs=function(){this.Bc.catch(x),this.Uc(new Br)},n.Vs=function(){this.Bn=void 0,this.H=void 0},t}();function ho(){return new p([8,4]).buffer}function ao(t){return mu(t,ho())}function vo(t,n){return t===er?function(t){if(t.byteLength<2*lo.length)return t;if(Ku(new DataView(t,0,2*lo.length),!0)===lo)return t;return n=t,Ju('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ku(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var lo="<PlayReady";var wo=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,r)||this).qc=void 0,u.Vc=void 0,u.qc=i,u.Vc=e,u}return W(n,t),n}(sn),go=function(t){function n(n,i){var e;(e=t.call(this)||this).Hc=void 0,e.jc=!1,e.zc=void 0,e.Wc=void 0,e.$c=function(){e.Xc()},e.Gc=function(t){e.nc(new ru(un(e),t.messageType,vo(e.Yc,t.message)))},e.Kc=function(){e.jc=!0,e.Hc.Dc>0&&(e.Hc.Ic(),e.nc(new eu(un(e)))),e.Jc.removeEventListener("keystatuseschange",e.$c),e.Jc.removeEventListener("message",e.Gc)},e.Jc=n,e.Yc=i,e.Jc.addEventListener("keystatuseschange",e.$c),e.Jc.addEventListener("message",e.Gc),e.Hc=new cu;var r=[];return e.Jc.closed&&r.push(D.resolve(e.Jc.closed)),e.Wc=new fo,r.push(e.Wc.Bc),e.zc=D.race(r).then(e.Kc,e.Kc),e.Xc(),e}W(n,t);var i=n.prototype;return i.Qc=function(){if(this.jc)return this.zc;var t,n,i=[];return i.push(D.resolve(this.Jc.close())),i.push((t=1e3,new D(function(i,e){if(void 0!==n&&n.Fs)e(new Br);else{var r=C.Fo(function(){void 0!==n&&n.js(u),i()},t),u=function(){C.Mo(r),e(new Br)};void 0!==n&&n.Hs(u)}}))),this.Wc.Mc(D.race(i).catch(yo)),this.jc=!0,this.zc},i.Zc=function(t,n,i){return D.resolve(this.Jc.generateRequest(t,n)).catch(yo)},i.tf=function(t){return D.resolve(this.Jc.load(t)).catch(yo)},i.nf=function(){return D.resolve(this.Jc.remove()).catch(yo)},i.if=function(t){return D.resolve(this.Jc.update(t)).catch(yo)},i.Xc=function(){var t=this;this.Hc.Ic(),this.Jc.keyStatuses.forEach(function(n,i){t.ef(i,n)}),this.nc(new eu(this))},i.ef=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=uo(t);if(this.Yc===er&&16===e.byteLength){var r=io(e),u=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,u,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}this.Yc===er&&"status-pending"===n&&(n="usable"),this.Hc.Rc(e,n)},j(n,[{key:"rf",get:function(){return this.zc}},{key:"uf",get:function(){return this.Jc.expiration}},{key:"sf",get:function(){return this.Hc}},{key:"cf",get:function(){return this.Jc.sessionId}}]),n}(Qr);function yo(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new wo(t.message,void 0,n,t)}var po=function(){function t(t,n,i){this.ff=t,this.hf=n,this.af=i}var n=t.prototype;return n.vf=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new go(this.ff.createSession(n),this.hf));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.df=function(t){return D.resolve(this.ff.setServerCertificate(t))},n.lf=function(t){return D.resolve(t.setMediaKeys(this.ff))},n.wf=function(t){return D.resolve(t.setMediaKeys(null))},t}(),mo=function(){function t(t,n,i){this.gf=t,this.Yc=n,this.yf=i}var n=t.prototype;return n.pf=function(){var t=D.coroutine(He.mark(function t(){var n;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gf.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new po(n,this.Yc,this.yf));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.mf=function(){return this.yf},j(t,[{key:"hf",get:function(){return this.gf.keySystem}}]),t}();function bo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function _o(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,bf:e.bf},o=!1;if(e.audioCapabilities){var s=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});s.length&&(u.audioCapabilities=s.filter(function(e){return ko(t,n,i,e)}),o=!0,u.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var c=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});c.length&&(u.videoCapabilities=c.filter(function(e){return ko(t,n,i,e)}),o=!0,u.videoCapabilities.length&&(r=!0))}return o||(r=t(i,"video/mp4")),r?u:void 0}}function ko(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Pr(n,e.encryptionScheme))&&(!e.robustness&&t(i,bo(e.contentType))))}function To(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,u=t.audioCapabilities;r<u.length;r++){var o=u[r];if(o.contentType)return o.contentType}}function So(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Eo(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Ro))||!(!t.videoCapabilities||!t.videoCapabilities.some(Ro))}function Ro(t){return!t.robustness}function Io(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(je({},r,{robustness:n}))}return i}var Do=function(){function t(){}return t.prototype.As=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,s,c,f,h,a;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.bf}),e=0,r=i;e<r.length;e++)(u=r[e]).audioCapabilities&&(u.audioCapabilities=So(u.audioCapabilities)),u.videoCapabilities&&(u.videoCapabilities=So(u.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(Eo)){t.next=14;break}return s=i.map(function(t){return i="SW_SECURE_CRYPTO",je({},n=t,{videoCapabilities:n.videoCapabilities?Io(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?Io(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,o.requestMediaKeySystemAccess(n,s);case 7:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new mo(c,n,f));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,o.requestMediaKeySystemAccess(n,i);case 16:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new mo(h,n,a));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t._f=function(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess},t}(),No=function(t){function n(n,i){var e;return(e=t.call(this)||this).jc=!1,e.kf=void 0,e.Tf=void 0,e.Sf=void 0,e.Ef=void 0,e.Rf=void 0,e.Kc=function(){e.jc=!0,e.kf.Mc(void 0),e.Rf&&(e.Rf.removeEventListener("mskeyclose",e.Kc),e.Rf.removeEventListener("mskeymessage",e.If),e.Rf.removeEventListener("mskeyerror",e.Df),e.Rf.removeEventListener("mskeyadded",e.Nf))},e.If=function(t){e.Sf&&(e.Sf.Mc(void 0),e.Sf=void 0),e.nc(new ru(un(e),"license-request",so(t.message).buffer,t.destinationURL||void 0))},e.Df=function(){var t=e.Rf&&e.Rf.error;if(t){var n=new wo("Unknown CDM error",t.code,t.systemCode);if(e.Sf)e.Sf.Uc(n),e.Sf=void 0;else if(e.Tf)e.Tf.Uc(n),e.Tf=void 0;else switch(n.qc){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Cf("output-not-allowed");break;default:e.Cf("internal-error")}}},e.Nf=function(){e.Sf&&(e.Cf("usable"),e.Sf.Mc(void 0),e.Sf=void 0),e.Tf&&(e.Cf("usable"),e.Tf.Mc(void 0),e.Tf=void 0)},e.Af=n,e.Of=i,e.kf=new fo,e.Ef=new cu,e}W(n,t);var i=n.prototype;return i.Zc=function(){var t=D.coroutine(He.mark(function t(n,i,e){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Pf(),this.Sf=new fo,this.vf(uo(i),e),t.next=5,this.Sf.Bc;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.vf=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.xf;return(i=n?this.Af.createSession(this.Of,t,e):this.Af.createSession(this.Of,t)).addEventListener("mskeyclose",this.Kc),i.addEventListener("mskeymessage",this.If),i.addEventListener("mskeyerror",this.Df),i.addEventListener("mskeyadded",this.Nf),this.Rf=i,this.Cf("status-pending"),i},i.tf=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Pf(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.if=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Tf=new fo,this.Pf(),this.Rf){t.next=4;break}return t.abrupt("return",D.resolve());case 4:if(0!==(i=uo(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Rf.update(i),t.next=10,this.Tf.Bc;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(){return!this.jc&&this.Rf&&(this.jc=!0,this.Rf.close()),this.kf.Bc},i.nf=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Pf(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Pf=function(){if(this.jc)throw new v("Already closing or closed.")},i.Cf=function(t){this.Ef.Ic(),this.Ef.Rc(su,t),this.nc(new eu(this))},j(n,[{key:"cf",get:function(){return this.Rf&&this.Rf.sessionId||""}},{key:"uf",get:function(){return NaN}},{key:"rf",get:function(){return this.kf.Bc}},{key:"sf",get:function(){return this.Ef}}]),n}(Qr),Co=function(){function t(t,n,i){this.Of=void 0,this.Af=t,this.hf=n,this.af=i;var e=To(i)||"video/mp4";this.Of=bo(e)}var n=t.prototype;return n.vf=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new No(this.Af,this.Of));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.df=function(t){return D.resolve(!1)},n.lf=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Af):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Af),t.removeEventListener("loadedmetadata",i)}),D.resolve()},n.wf=function(t){return D.resolve()},t}(),Ao=function(){function t(t,n){this.Yc=t,this.Lf=n}var n=t.prototype;return n.mf=function(){return this.Lf},n.pf=function(){var t=new E.MSMediaKeys(this.Yc);return D.resolve(new Co(t,this.Yc,this.Lf))},j(t,[{key:"hf",get:function(){return this.Yc}}]),t}(),Oo=function(){function t(){}return t.prototype.As=function(t,n){try{return D.resolve(function(t,n){if(!Po())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=_o(xo,nu,t,e);if(r)return new Ao(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return D.reject(t)}},t._f=function(){return Po()},t}();function Po(){return void 0!==E.MSMediaKeys&&"function"==typeof E.MSMediaKeys.isTypeSupported}function xo(t,n){return E.MSMediaKeys.isTypeSupported(t,n)}var Lo,Fo,Bo=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).kf=new fo,r.Ff=void 0,r.Ef=new cu,r.Bf=void 0,r.Mf=new fo,r.Df=function(){var t=r.Bf&&r.Bf.error;if(t){var n=new wo("Unknown CDM error",t.code,t.systemCode);r.Ff?(r.Ff.Uc(n),r.Ff=void 0):n.qc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Cf("output-not-allowed"):r.Cf("internal-error"),r.nc(new uu)}},r.If=function(t){r.Ff&&(r.Ff.Mc(void 0),r.Ff=void 0),r.nc(new ru(un(r),"license-request",so(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Uf=n,r.Of=i,r.qf=e,r}W(n,t);var i=n.prototype;return i.Zc=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Vf;if(!e)throw new v("Expected FairPlay contentId to be defined but was "+e+".");var r=Mo(uo(n),e,this.qf);return this.Bf=this.Uf.createSession(this.Of,r),this.Bf.addEventListener("webkitkeymessage",this.If,!1),this.Bf.addEventListener("webkitkeyerror",this.Df,!1),this.Cf("usable"),this.Mf.Mc(this.Bf),this.Mf=new fo,D.resolve()},i.tf=function(t){return D.resolve(!0)},i.if=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=uo(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.Ff=new fo,t.t0=this.Bf,t.t0){t.next=9;break}return t.next=8,this.Mf.Bc;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.Ff.Bc;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(){var t=this.Bf;return t&&(t.removeEventListener("webkitkeymessage",this.If,!1),t.removeEventListener("webkitkeyerror",this.Df,!1),t.close()),this.Mf.Xs(),this.kf.Mc(void 0),this.kf.Bc},i.nf=function(){return D.resolve(void 0)},i.Cf=function(t){this.Ef.Ic(),this.Ef.Rc(su,t),this.nc(new eu(this))},j(n,[{key:"cf",get:function(){return this.Bf?this.Bf.sessionId:""}},{key:"uf",get:function(){return NaN}},{key:"rf",get:function(){return this.kf.Bc}},{key:"sf",get:function(){return this.Ef}}]),n}(Qr);function Mo(t,n,i){var e=Zu(t),r=2*e.length,u=2*n.length,o=new ArrayBuffer(4+r+4+u+4+i.byteLength),s=new DataView(o),c=new co;return Uu(s,c,r,!0),Xu(s,c,e,!0),Uu(s,c,u,!0),Xu(s,c,n,!0),Uu(s,c,i.byteLength,!0),function(t,n,i){eo(t).set(eo(i),n.Pc),n.Cc(i.byteLength)}(s,c,i),new p(o)}(Lo=n.ErrorCode||(n.ErrorCode={}))[Lo.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",Lo[Lo.LICENSE_ERROR=2e3]="LICENSE_ERROR",Lo[Lo.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",Lo[Lo.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",Lo[Lo.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",Lo[Lo.SOURCE_INVALID=3e3]="SOURCE_INVALID",Lo[Lo.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",Lo[Lo.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",Lo[Lo.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",Lo[Lo.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",Lo[Lo.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",Lo[Lo.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",Lo[Lo.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",Lo[Lo.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",Lo[Lo.MEDIA_ABORTED=5004]="MEDIA_ABORTED",Lo[Lo.NETWORK_ERROR=6e3]="NETWORK_ERROR",Lo[Lo.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",Lo[Lo.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",Lo[Lo.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",Lo[Lo.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",Lo[Lo.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",Lo[Lo.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",Lo[Lo.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",Lo[Lo.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",Lo[Lo.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",Lo[Lo.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",Lo[Lo.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",Lo[Lo.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",Lo[Lo.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",Lo[Lo.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",Lo[Lo.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",Lo[Lo.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",Lo[Lo.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",Lo[Lo.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",Lo[Lo.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",Lo[Lo.AD_ERROR=1e4]="AD_ERROR",Lo[Lo.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",Lo[Lo.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Fo=n.ErrorCategory||(n.ErrorCategory={}))[Fo.CONFIGURATION=1]="CONFIGURATION",Fo[Fo.LICENSE=2]="LICENSE",Fo[Fo.SOURCE=3]="SOURCE",Fo[Fo.MANIFEST=4]="MANIFEST",Fo[Fo.MEDIA=5]="MEDIA",Fo[Fo.NETWORK=6]="NETWORK",Fo[Fo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Fo[Fo.SUBTITLE=8]="SUBTITLE",Fo[Fo.VR=9]="VR",Fo[Fo.AD=10]="AD",Fo[Fo.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=l.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new v("Invalid error code: "+t)}}();var Uo=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return W(i,t),j(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(sn),qo=function(){function t(t,n,i){this.Of=void 0,this.qf=void 0,this.Uf=t,this.hf=n,this.af=i;var e=To(i)||"video/mp4";this.Of=bo(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Uf},i.vf=function(){var t=D.coroutine(He.mark(function t(i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qf){t.next=2;break}throw new Uo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Bo(this.Uf,this.Of,this.qf));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.df=function(t){return this.qf=uo(t),D.resolve(!0)},i.lf=function(t){return t.webkitSetMediaKeys(this.Uf),D.resolve()},i.wf=function(t){return t.webkitSetMediaKeys(null),D.resolve()},t}(),Vo=function(){function t(t,n){this.Yc=t,this.Lf=n}var n=t.prototype;return n.mf=function(){return this.Lf},n.pf=function(){var t=new E.WebKitMediaKeys(this.Yc);return D.resolve(new qo(t,this.Yc,this.Lf))},j(t,[{key:"hf",get:function(){return this.Yc}}]),t}(),Ho=function(){function t(){}return t.prototype.As=function(t,n){try{return D.resolve(function(t,n){if(t!==sr)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!jo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=_o(zo,iu,t,e);if(r)return new Vo(t,r)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return D.reject(t)}},t._f=function(){return jo()},t}();function jo(){return void 0!==E.WebKitMediaKeys&&"function"==typeof E.WebKitMediaKeys.isTypeSupported}function zo(t,n){return E.WebKitMediaKeys.isTypeSupported(t,n)}var Wo,$o=function(){function t(t){this.Hf=t}return t.prototype.As=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.Hf;case 1:if(!(e<r.length)){t.next=14;break}return u=r[e],t.prev=3,t.next=6,u.As(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:e++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Xo=function(t){function n(n){var i;return(i=t.call(this)||this).Sf=void 0,i.Ff=void 0,i.kf=void 0,i.jf=!1,i.zf=void 0,i.Wf=void 0,i.$f=void 0,i.Xf=void 0,i.Gf=void 0,i.Yc=n,i.kf=new fo,i.Wf="",i.Gf=new fo,i.$f=new cu,i}W(n,t);var i=n.prototype;return i.Yf=function(){this.Ff&&(this.Cf("usable"),this.Ff.Mc(void 0),this.Ff=void 0)},i.Kf=function(t){var n=new wo("Unknown CDM error",t.errorCode,t.systemCode);this.Ff?(this.Ff.Uc(n),this.Ff=void 0):this.Sf?(this.Sf.Uc(n),this.Sf=void 0):n.qc===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Cf("output-restricted"):1===n.Vc?this.Cf("expired"):this.Cf("internal-error")},i.Jf=function(t){0!==t.message.byteLength&&(this.Sf&&(this.Sf.Mc(void 0),this.Sf=void 0),this.nc(new ru(this,"license-request",vo(this.Yc,so(t.message).buffer),t.defaultURL||void 0)))},i.Qf=function(t){this.Xf||(this.Xf=t,this.Gf.Mc(t))},i.Qc=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.jf=!0,this.kf.Mc(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zc=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Sf=new fo,this.zf=uo(i),t.t0=this.Xf,t.t0){t.next=8;break}return t.next=7,this.Gf.Bc;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Yc,this.zf),t.next=12,this.Sf.Bc;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.tf=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.nf=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.if=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.Ff=new fo,t.t0=this.Xf,t.t0){t.next=7;break}return t.next=6,this.Gf.Bc;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Yc,uo(n),this.zf,this.cf),t.next=11,this.Ff.Bc;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.jf)throw new v("Already closing or closed.")},i.Cf=function(t){this.$f.Ic(),this.$f.Rc(su,t),this.nc(new eu(this))},j(n,[{key:"sf",get:function(){return this.$f}},{key:"cf",get:function(){return this.Wf},set:function(t){this.Wf=t}},{key:"rf",get:function(){return this.kf.Bc}},{key:"uf",get:function(){return NaN}}]),n}(Qr),Go=function(){function t(t,n){var i=this;this.Xf=void 0,this.Zf=We(),this.th=[],this.Nf=function(t){var n=i.nh(t.sessionId);n&&n.Yf()},this.ih=function(t){var n=i.nh(t.sessionId);n&&n.Kf(t)},this.eh=function(t){var n=i.nh(t.sessionId);n&&n.Jf(t)},this.hf=t,this.af=n}var n=t.prototype;return n.lf=function(t){return this.Xf=t,this.Xf.addEventListener("webkitkeyadded",this.Nf),this.Xf.addEventListener("webkitkeyerror",this.ih),this.Xf.addEventListener("webkitkeymessage",this.eh),this.Zf.forEach(function(n,i){return n.Qf(t)}),this.th.forEach(function(n){return n.Qf(t)}),D.resolve()},n.wf=function(t){return t.removeEventListener("webkitkeyadded",this.Nf),t.removeEventListener("webkitkeyerror",this.ih),t.removeEventListener("webkitkeymessage",this.eh),this.Xf=void 0,D.resolve()},n.vf=function(){var t=D.coroutine(He.mark(function t(n,i,e){var r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Xo(this.hf),this.Xf&&r.Qf(this.Xf),this.th.push(r),t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),n.df=function(t){return D.resolve(!1)},n.nh=function(t){if(t){var n=this.Zf.get(t);return n||((n=this.th.shift())?(n.cf=t,this.Zf.set(t,n),n):void 0)}},t}(),Yo=function(){function t(t,n){this.hf=t,this.rh=n}var n=t.prototype;return n.pf=function(){return D.resolve(new Go(this.hf,this.rh))},n.mf=function(){return this.rh},t}(),Ko=function(){function t(){}return t.prototype.As=function(t,n){try{return D.resolve(Jo(t,n))}catch(t){return D.reject(t)}},t._f=function(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest},t}();function Jo(t,n){if(!Ko._f())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=_o(Qo,nu,t,e);if(r)return new Yo(t,r)}throw new v("Unsupported key system configuration for "+t)}function Qo(t,n){var i=Te();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Zo(){return Wo||(Wo=function(){var t=[];Ho._f()&&t.push(new Ho);Do._f()&&t.push(new Do);Oo._f()&&t.push(new Oo);Ko._f()&&t.push(new Ko);return new $o(t)}()),Wo}var ts=function(){function t(){this.uh=We()}var n=t.prototype;return n.Ic=function(t){this.uh.delete(t)},n.oh=function(){this.uh.clear()},n.Sc=function(t){return this.uh.get(t)},n.sh=function(t,n){this.uh.set(t,n)},t}(),ns=function(){function t(){}return t.fh=function(){return t.su||(t.su=is._f()?new is:new ts),t.su},t.Ic=function(n){t.fh().Ic(n)},t.oh=function(){t.fh().oh()},t.Sc=function(n){return t.fh().Sc(n)},t.sh=function(n,i){t.fh().sh(n,i)},t}();ns.su=void 0;var is=function(n){function i(){return n.apply(this,arguments)||this}W(i,n),i._f=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.Ic=function(n){t.sessionStorage.removeItem(n)},e.oh=function(){t.sessionStorage.clear()},e.Sc=function(n){return t.sessionStorage[n]},e.sh=function(n,i){t.sessionStorage[n]=i},i}(ns);var es=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return r?(e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var u=t[r];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function rs(t,n,i){var e=es([n],{type:"application/octet-stream"}),u=URL.createObjectURL(e),o=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),s=r.createElement("a");s.href=u,s.download=o,r.body.appendChild(s),s.click(),r.body.removeChild(s),URL.revokeObjectURL(u)}var us,os;!function(t){t.hh="ah",t.vh="dh",t.lh="contentprotectionerror",t.wh="contentprotectionsuccess",t.gh="currentsourcechange",t.yh="destroy",t.ph="durationchange",t.mh="emptied",t.yc="encrypted",t.bh="ended",t._h="kh",t.Th="loadstart",t.Sh="manifestupdate",t.Eh="nosupportedrepresentationfound",t.Rh="offline",t.Ih="online",t.Dh="pause",t.Nh="play",t.Ch="progress",t.Ah="ratechange",t.Oh="representationchange",t.Ph="resize",t.xh="seeked",t.Lh="seeking",t.Fh="segmentnotfound",t.Bh="Mh",t.Uh="qh",t.Vh="sourcechange",t.Hh="timeupdate",t.jh="volumechange",t.zh="Wh",t.$h="metricschange"}(us||(us={})),function(t){t.Xh="arraybuffer",t.Gh="json",t.Yh="stream",t.vu="text"}(os||(os={}));var ss=function(){function t(n){var i=this;this.ls=void 0,this.ls={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=cs(i),e=fs(e);var r=i.toLowerCase();if(this.ls.hasOwnProperty(r)){var u=this.ls[r],o=u[1];u[1]=o?o+", "+e:e}else this.ls[r]=[i,e]},n.delete=function(t){var n=cs(t).toLowerCase();delete this.ls[n]},n.get=function(t){var n=cs(t).toLowerCase();return this.ls.hasOwnProperty(n)?this.ls[n][1]:null},n.has=function(t){var n=cs(t).toLowerCase();return this.ls.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=cs(i)).toLowerCase();this.ls[e]=[i,fs(n)]},n.forEach=function(t,n){for(var i in this.ls)this.ls.hasOwnProperty(i)&&t.call(n,this.ls[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.ls)if(this.ls.hasOwnProperty(n)){var i=this.ls[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Kh=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Jh=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Qh=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function cs(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function fs(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function as(){}var vs=Number.isNaN||function(t){return t!=t},ds=as;function ls(t){return"object"==typeof t&&null!==t||"function"==typeof t}function ws(t){return t.slice()}function gs(t){return!1!==function(t){if("number"!=typeof t)return!1;if(vs(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function ys(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ps(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new v(r+" is not a method");switch(i){case 0:return function(){return bs(r,t,e)};case 1:return function(n){var i=[n].concat(e);return bs(r,t,i)}}}return function(){return Ns(void 0)}}function ms(t,n,i){var e=t[n];if(void 0!==e)return ys(e,t,i)}function bs(t,n,i){try{return Ns(ys(t,n,i))}catch(t){return Cs(t)}}function _s(t){return t}function ks(t){if(t=Number(t),vs(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function Ts(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var Ss=D,Es=D.prototype.then,Rs=D.resolve.bind(Ss),Is=D.reject.bind(Ss);function Ds(t){return new Ss(t)}function Ns(t){return Rs(t)}function Cs(t){return Is(t)}function As(t,n,i){return Es.call(t,n,i)}function Os(t,n,i){As(As(t,n,i),void 0,ds)}function Ps(t,n){Os(t,n)}function xs(t,n){Os(t,void 0,n)}function Ls(t,n,i){return As(t,n,i)}function Fs(t){As(t,void 0,ds)}var Bs=function(){function t(){this.Zh=0,this.ta=0,this._i={na:[],ia:void 0},this.ea=this._i,this.Zh=0,this.ta=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.ta},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.ea,i=n;16383===n.na.length&&(i={na:[],ia:void 0}),n.na.push(t),i!==n&&(this.ea=i,n.ia=i),++this.ta},t.prototype.shift=function(){var t=this._i,n=t,i=this.Zh,e=i+1,r=t.na,u=r[i];return 16384===e&&(n=t.ia,e=0),--this.ta,this.Zh=e,t!==n&&(this._i=n),r[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.Zh,i=this._i,e=i.na;!(n===e.length&&void 0===i.ia||n===e.length&&(n=0,0===(e=(i=i.ia).na).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this._i,n=this.Zh;return t.na[n]},t}();function Ms(t,n,i){var e=null;!0===i&&(e=d.prototype);var r=d.create(e);return r.value=t,r.done=n,r}function Us(t,n){t.ra=!0,t.ua=n,n.oa=t,"readable"===n.sa?js(t):"closed"===n.sa?function(t){js(t),$s(t)}(t):zs(t,n.ca)}function qs(t,n){return Jf(t.ua,n)}function Vs(t){"readable"===t.ua.sa?Ws(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){zs(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.ua.oa=void 0,t.ua=void 0}function Hs(t){return new v("Cannot "+t+" a stream using a released reader")}function js(t){t.zc=Ds(function(n,i){t.fa=n,t.ha=i})}function zs(t,n){js(t),Ws(t,n)}function Ws(t,n){Fs(t.zc),t.ha(n),t.fa=void 0,t.ha=void 0}function $s(t){t.fa(void 0),t.fa=void 0,t.ha=void 0}var Xs=hs("[[CancelSteps]]"),Gs=hs("[[PullSteps]]");function Ys(t,n){void 0===n&&(n=!1);var i=new ic(t);return i.ra=n,i}function Ks(t){return Ds(function(n,i){var e={Bn:n,H:i};t.oa.aa.push(e)})}function Js(t,n,i){var e=t.oa;e.aa.shift().Bn(Ms(n,i,e.ra))}function Qs(t){return t.oa.aa.length}function Zs(t){var n=t.oa;return void 0!==n&&!!ec(n)}var tc,nc,ic=function(){function t(t){if(!1===Yf(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Kf(t))throw new v("This stream has already been locked for exclusive reading by another reader");Us(this,t),this.aa=new Bs}return d.defineProperty(t.prototype,"closed",{get:function(){return ec(this)?this.zc:Cs(uc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return ec(this)?void 0===this.ua?Cs(Hs("cancel")):qs(this,t):Cs(uc("cancel"))},t.prototype.read=function(){return ec(this)?void 0===this.ua?Cs(Hs("read from")):rc(this):Cs(uc("read"))},t.prototype.releaseLock=function(){if(!ec(this))throw uc("releaseLock");if(void 0!==this.ua){if(this.aa.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Vs(this)}},t}();function ec(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"aa")}function rc(t){var n=t.ua;return n.va=!0,"closed"===n.sa?Ns(Ms(void 0,!0,t.ra)):"errored"===n.sa?Cs(n.ca):n.da[Gs]()}function uc(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof hs.asyncIterator&&((tc={})[hs.asyncIterator]=function(){return this},nc=tc,d.defineProperty(nc,hs.asyncIterator,{enumerable:!1}));var oc={next:function(){if(!1===sc(this))return Cs(cc("next"));var t=this.la;return void 0===t.ua?Cs(Hs("iterate")):Ls(rc(t),function(n){var i=n.done;return i&&Vs(t),Ms(n.value,i,!0)})},return:function(t){if(!1===sc(this))return Cs(cc("next"));var n=this.la;if(void 0===n.ua)return Cs(Hs("finish iterating"));if(n.aa.length>0)return Cs(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.wa){var i=qs(n,t);return Vs(n),Ls(i,function(){return Ms(t,!0,!0)})}return Vs(n),Ns(Ms(t,!0,!0))}};function sc(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"la")}function cc(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function fc(t){var n=t.An.shift();return t.ga-=n.size,t.ga<0&&(t.ga=0),n.value}function hc(t,n,i){if(!gs(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.An.push({value:n,size:i}),t.ga+=i}function ac(t){t.An=new Bs,t.ga=0}void 0!==nc&&d.setPrototypeOf(oc,nc),d.defineProperty(oc,"next",{enumerable:!1}),d.defineProperty(oc,"return",{enumerable:!1});var vc=hs("[[AbortSteps]]"),dc=hs("[[ErrorSteps]]"),lc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),gc(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=Ts(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(xc.prototype);var u=ps(n,"write",1,[r]),o=ps(n,"close",0,[]),s=ps(n,"abort",1,[]);Lc(t,r,function(){return ms(n,"start",[r])},u,o,s,i,e)}(this,t,e=ks(e),r)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===yc(this))throw Hc("locked");return pc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===yc(this)?Cs(Hc("abort")):!0===pc(this)?Cs(new v("Cannot abort a stream that already has a writer")):mc(this,t)},t.prototype.close=function(){return!1===yc(this)?Cs(Hc("close")):!0===pc(this)?Cs(new v("Cannot close a stream that already has a writer")):!0===Sc(this)?Cs(new v("Cannot close an already-closing stream")):bc(this)},t.prototype.getWriter=function(){if(!1===yc(this))throw Hc("getWriter");return wc(this)},t}();function wc(t){return new Ic(t)}function gc(t){t.sa="writable",t.ca=void 0,t.ya=void 0,t.pa=void 0,t.ma=new Bs,t.ba=void 0,t._a=void 0,t.ka=void 0,t.Ta=void 0,t.Sa=!1}function yc(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"pa")}function pc(t){return void 0!==t.ya}function mc(t,n){var i=t.sa;if("closed"===i||"errored"===i)return Ns(void 0);if(void 0!==t.Ta)return t.Ta.sn;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=Ds(function(i,r){t.Ta={sn:void 0,Bn:i,H:r,Rn:n,Ea:e}});return t.Ta.sn=r,!1===e&&kc(t,n),r}function bc(t){var n=t.sa;if("closed"===n||"errored"===n)return Cs(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Ds(function(n,i){var e={Bn:n,H:i};t._a=e}),r=t.ya;return void 0!==r&&!0===t.Sa&&"writable"===n&&Zc(r),hc(i=t.pa,"close",0),Mc(i),e}function _c(t,n){"writable"!==t.sa?Tc(t):kc(t,n)}function kc(t,n){var i=t.pa;t.sa="erroring",t.ca=n;var e=t.ya;void 0!==e&&Ac(e,n),!1===function(t){if(void 0===t.ba&&void 0===t.ka)return!1;return!0}(t)&&!0===i.Ra&&Tc(t)}function Tc(t){t.sa="errored",t.pa[dc]();var n=t.ca;if(t.ma.forEach(function(t){t.H(n)}),t.ma=new Bs,void 0!==t.Ta){var i=t.Ta;if(t.Ta=void 0,!0===i.Ea)return i.H(n),void Ec(t);Os(t.pa[vc](i.Rn),function(){i.Bn(),Ec(t)},function(n){i.H(n),Ec(t)})}else Ec(t)}function Sc(t){return void 0!==t._a||void 0!==t.ka}function Ec(t){void 0!==t._a&&(t._a.H(t.ca),t._a=void 0);var n=t.ya;void 0!==n&&Xc(n,t.ca)}function Rc(t,n){var i=t.ya;void 0!==i&&n!==t.Sa&&(!0===n?function(t){Yc(t)}(i):Zc(i)),t.Sa=n}var Ic=function(){function t(t){if(!1===yc(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===pc(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Ia=t,t.ya=this;var n,i=t.sa;if("writable"===i)!1===Sc(t)&&!0===t.Sa?Yc(this):Jc(this),Wc(this);else if("erroring"===i)Kc(this,t.ca),Wc(this);else if("closed"===i)Jc(this),Wc(n=this),Gc(n);else{var e=t.ca;Kc(this,e),$c(this,e)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===Dc(this)?Cs(jc("closed")):this.zc},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Dc(this))throw jc("desiredSize");if(void 0===this.Ia)throw zc("desiredSize");return function(t){var n=t.Ia,i=n.sa;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Bc(n.pa)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===Dc(this)?Cs(jc("ready")):this.Da},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===Dc(this)?Cs(jc("abort")):void 0===this.Ia?Cs(zc("abort")):function(t,n){return mc(t.Ia,n)}(this,t)},t.prototype.close=function(){if(!1===Dc(this))return Cs(jc("close"));var t=this.Ia;return void 0===t?Cs(zc("close")):!0===Sc(t)?Cs(new v("Cannot close an already-closing stream")):Nc(this)},t.prototype.releaseLock=function(){if(!1===Dc(this))throw jc("releaseLock");void 0!==this.Ia&&Oc(this)},t.prototype.write=function(t){return!1===Dc(this)?Cs(jc("write")):void 0===this.Ia?Cs(zc("write to")):Pc(this,t)},t}();function Dc(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"Ia")}function Nc(t){return bc(t.Ia)}function Cc(t,n){"pending"===t.Na?Xc(t,n):function(t,n){$c(t,n)}(t,n)}function Ac(t,n){"pending"===t.Ca?Qc(t,n):function(t,n){Kc(t,n)}(t,n)}function Oc(t){var n=t.Ia,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");Ac(t,i),Cc(t,i),n.ya=void 0,t.Ia=void 0}function Pc(t,n){var i=t.Ia,e=i.pa,r=function(t,n){try{return t.Aa(n)}catch(n){return Uc(t,n),1}}(e,n);if(i!==t.Ia)return Cs(zc("write to"));var u=i.sa;if("errored"===u)return Cs(i.ca);if(!0===Sc(i)||"closed"===u)return Cs(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Cs(i.ca);var o=function(t){return Ds(function(n,i){var e={Bn:n,H:i};t.ma.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{hc(t,e,i)}catch(n){return void Uc(t,n)}var r=t.Oa;if(!1===Sc(r)&&"writable"===r.sa){var u=qc(t);Rc(r,u)}Mc(t)}(e,n,r),o}var xc=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!ls(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"Oa"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Oa.sa&&Vc(this,t)},t.prototype[vc]=function(t){var n=this.Pa(t);return Fc(this),n},t.prototype[dc]=function(){ac(this)},t}();function Lc(t,n,i,e,r,u,o,s){n.Oa=t,t.pa=n,n.An=void 0,n.ga=void 0,ac(n),n.Ra=!1,n.Aa=s,n.xa=o,n.La=e,n.Fa=r,n.Pa=u;var c=qc(n);Rc(t,c),Os(Ns(i()),function(){n.Ra=!0,Mc(n)},function(i){n.Ra=!0,_c(t,i)})}function Fc(t){t.La=void 0,t.Fa=void 0,t.Pa=void 0,t.Aa=void 0}function Bc(t){return t.xa-t.ga}function Mc(t){var n=t.Oa;if(!1!==t.Ra&&void 0===n.ba)if("erroring"!==n.sa){if(0!==t.An.length){var i=t.An.peek().value;"close"===i?function(t){var n=t.Oa;(function(t){t.ka=t._a,t._a=void 0})(n),fc(t);var i=t.Fa();Fc(t),Os(i,function(){!function(t){t.ka.Bn(void 0),t.ka=void 0,"erroring"===t.sa&&(t.ca=void 0,void 0!==t.Ta&&(t.Ta.Bn(),t.Ta=void 0)),t.sa="closed";var n=t.ya;void 0!==n&&Gc(n)}(n)},function(t){!function(t,n){t.ka.H(n),t.ka=void 0,void 0!==t.Ta&&(t.Ta.H(n),t.Ta=void 0),_c(t,n)}(n,t)})}(t):function(t,n){var i=t.Oa;(function(t){t.ba=t.ma.shift()})(i),Os(t.La(n),function(){!function(t){t.ba.Bn(void 0),t.ba=void 0}(i);var n=i.sa;if(fc(t),!1===Sc(i)&&"writable"===n){var e=qc(t);Rc(i,e)}Mc(t)},function(n){"writable"===i.sa&&Fc(t),function(t,n){t.ba.H(n),t.ba=void 0,_c(t,n)}(i,n)})}(t,i.chunk)}}else Tc(n)}function Uc(t,n){"writable"===t.Oa.sa&&Vc(t,n)}function qc(t){return Bc(t)<=0}function Vc(t,n){var i=t.Oa;Fc(t),kc(i,n)}function Hc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function jc(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function zc(t){return new v("Cannot "+t+" a stream using a released writer")}function Wc(t){t.zc=Ds(function(n,i){t.fa=n,t.ha=i,t.Na="pending"})}function $c(t,n){Wc(t),Xc(t,n)}function Xc(t,n){Fs(t.zc),t.ha(n),t.fa=void 0,t.ha=void 0,t.Na="rejected"}function Gc(t){t.fa(void 0),t.fa=void 0,t.ha=void 0,t.Na="resolved"}function Yc(t){t.Da=Ds(function(n,i){t.Ba=n,t.Ma=i}),t.Ca="pending"}function Kc(t,n){Yc(t),Qc(t,n)}function Jc(t){Yc(t),Zc(t)}function Qc(t,n){Fs(t.Da),t.Ma(n),t.Ba=void 0,t.Ma=void 0,t.Ca="rejected"}function Zc(t){t.Ba(void 0),t.Ba=void 0,t.Ma=void 0,t.Ca="fulfilled"}function tf(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var nf="undefined"!=typeof DOMException?DOMException:void 0;var ef,rf=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(nf)?nf:((ef=function(t,n){this.message=t||"",this.name=n||"Error",a.captureStackTrace&&a.captureStackTrace(this,this.constructor)}).prototype=d.create(a.prototype),d.defineProperty(ef.prototype,"constructor",{value:ef,writable:!0,configurable:!0}),ef);function uf(t,n,i,e,r,u){var o=Ys(t),s=wc(n);t.va=!0;var c=!1,f=Ns(void 0);return Ds(function(h,a){var d,l,w,g;if(void 0!==u){if(d=function(){var i=new rf("Aborted","AbortError"),u=[];!1===e&&u.push(function(){return"writable"===n.sa?mc(n,i):Ns(void 0)}),!1===r&&u.push(function(){return"readable"===t.sa?Jf(t,i):Ns(void 0)}),b(function(){return D.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(m(t,o.zc,function(t){!1===e?b(function(){return mc(n,t)},!0,t):_(!0,t)}),m(n,s.zc,function(n){!1===r?b(function(){return Jf(t,n)},!0,n):_(!0,n)}),l=t,w=o.zc,g=function(){!1===i?b(function(){return function(t){var n=t.Ia,i=n.sa;return!0===Sc(n)||"closed"===i?Ns(void 0):"errored"===i?Cs(n.ca):Nc(t)}(s)}):_()},"closed"===l.sa?g():Ps(w,g),!0===Sc(n)||"closed"===n.sa){var y=new v("the destination writable stream closed before all data could be piped to it");!1===r?b(function(){return Jf(t,y)},!0,y):_(!0,y)}function p(){var t=f;return As(f,function(){return t!==f?p():void 0})}function m(t,n,i){"errored"===t.sa?i(t.ca):xs(n,i)}function b(t,i,e){function r(){Os(t(),function(){return k(i,e)},function(t){return k(!0,t)})}!0!==c&&(c=!0,"writable"===n.sa&&!1===Sc(n)?Ps(p(),r):r())}function _(t,i){!0!==c&&(c=!0,"writable"===n.sa&&!1===Sc(n)?Ps(p(),function(){return k(t,i)}):k(t,i))}function k(t,n){Oc(s),Vs(o),void 0!==u&&u.removeEventListener("abort",d),t?a(n):h(void 0)}Fs(Ds(function(t,n){!function i(e){e?t():As(!0===c?Ns(!0):As(s.Da,function(){return As(rc(o),function(t){return!0===t.done||(f=As(Pc(s,t.value),void 0,as),!1)})}),i,n)}(!1)}))})}var of=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===sf(this))throw yf("desiredSize");return lf(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===sf(this))throw yf("close");if(!1===wf(this))throw new v("The stream is not in a state that permits close");af(this)},t.prototype.enqueue=function(t){if(!1===sf(this))throw yf("enqueue");if(!1===wf(this))throw new v("The stream is not in a state that permits enqueue");return vf(this,t)},t.prototype.error=function(t){if(!1===sf(this))throw yf("error");df(this,t)},t.prototype[Xs]=function(t){ac(this);var n=this.Ua(t);return hf(this),n},t.prototype[Gs]=function(){var t=this.qa;if(this.An.length>0){var n=fc(this);return!0===this.Va&&0===this.An.length?(hf(this),Qf(t)):cf(this),Ns(Ms(n,!1,t.oa.ra))}var i=Ks(t);return cf(this),i},t}();function sf(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"qa")}function cf(t){!1!==ff(t)&&(!0!==t.Ha?(t.Ha=!0,Os(t.ja(),function(){t.Ha=!1,!0===t.za&&(t.za=!1,cf(t))},function(n){df(t,n)})):t.za=!0)}function ff(t){var n=t.qa;return!1!==wf(t)&&(!1!==t.Ra&&(!0===Kf(n)&&Qs(n)>0||lf(t)>0))}function hf(t){t.ja=void 0,t.Ua=void 0,t.Aa=void 0}function af(t){var n=t.qa;t.Va=!0,0===t.An.length&&(hf(t),Qf(n))}function vf(t,n){var i=t.qa;if(!0===Kf(i)&&Qs(i)>0)Js(i,n,!1);else{var e=void 0;try{e=t.Aa(n)}catch(n){throw df(t,n),n}try{hc(t,n,e)}catch(n){throw df(t,n),n}}cf(t)}function df(t,n){var i=t.qa;"readable"===i.sa&&(ac(t),hf(t),Zf(i,n))}function lf(t){var n=t.qa.sa;return"errored"===n?null:"closed"===n?0:t.xa-t.ga}function wf(t){var n=t.qa.sa;return!1===t.Va&&"readable"===n}function gf(t,n,i,e,r,u,o){n.qa=t,n.An=void 0,n.ga=void 0,ac(n),n.Ra=!1,n.Va=!1,n.za=!1,n.Ha=!1,n.Aa=o,n.xa=u,n.ja=e,n.Ua=r,t.da=n,Os(Ns(i()),function(){n.Ra=!0,cf(n)},function(t){df(n,t)})}function yf(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var pf=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},mf=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===kf(this))throw Mf("view");return this.Wa},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===kf(this))throw Mf("respond");if(void 0===this.$a)throw new v("This BYOB request has been invalidated");this.Wa.buffer,function(t,n){if(!1===gs(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Of(t,n)}(this.$a,t)},t.prototype.respondWithNewView=function(t){if(!1===kf(this))throw Mf("respond");if(void 0===this.$a)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Xa.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Of(t,n.byteLength)}(this.$a,t)},t}(),bf=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===_f(this))throw Uf("byobRequest");if(void 0===this.Ga&&this.Xa.length>0){var t=this.Xa.peek(),n=new p(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(mf.prototype);!function(t,n,i){t.$a=n,t.Wa=i}(i,this,n),this.Ga=i}return this.Ga},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_f(this))throw Uf("desiredSize");return Ff(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_f(this))throw Uf("close");if(!0===this.Va)throw new v("The stream has already been closed; do not close it again!");var t=this.Ya.sa;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Ya;if(t.ga>0)return void(t.Va=!0);if(t.Xa.length>0){var i=t.Xa.peek();if(i.bytesFilled>0){var e=new v("Insufficient bytes to fill elements in the given buffer");throw Lf(t,e),e}}xf(t),Qf(n)}(this)},t.prototype.enqueue=function(t){if(!1===_f(this))throw Uf("enqueue");if(!0===this.Va)throw new v("stream is closed or draining");var n=this.Ya.sa;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Ya,e=n.buffer,r=n.byteOffset,u=n.byteLength,o=_s(e);if(!0===Zs(i))if(0===Qs(i))Rf(t,o,r,u);else{var s=new p(o,r,u);Js(i,s,!1)}else!0===Hf(i)?(Rf(t,o,r,u),Af(t)):Rf(t,o,r,u);Tf(t)}(this,t)},t.prototype.error=function(t){if(!1===_f(this))throw Uf("error");Lf(this,t)},t.prototype[Xs]=function(t){this.Xa.length>0&&(this.Xa.peek().bytesFilled=0);ac(this);var n=this.Ua(t);return xf(this),n},t.prototype[Gs]=function(){var t=this.Ya;if(this.ga>0){var n=this.An.shift();this.ga-=n.byteLength,Nf(this);var i=void 0;try{i=new p(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Cs(t)}return Ns(Ms(i,!1,t.oa.ra))}var e=this.Ka;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return Cs(t)}var u={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:p,readerType:"default"};this.Xa.push(u)}var o=Ks(t);return Tf(this),o},t}();function _f(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"Ya")}function kf(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"$a")}function Tf(t){!1!==function(t){var n=t.Ya;if("readable"!==n.sa)return!1;if(!0===t.Va)return!1;if(!1===t.Ra)return!1;if(!0===Zs(n)&&Qs(n)>0)return!0;if(!0===Hf(n)&&Vf(n)>0)return!0;if(Ff(t)>0)return!0;return!1}(t)&&(!0!==t.Ha?(t.Ha=!0,Os(t.ja(),function(){t.Ha=!1,!0===t.za&&(t.za=!1,Tf(t))},function(n){Lf(t,n)})):t.za=!0)}function Sf(t,n){var i=!1;"closed"===t.sa&&(i=!0);var e=Ef(n);"default"===n.readerType?Js(t,e,i):function(t,n,i){var e=t.oa;e.Ja.shift().Bn(Ms(n,i,e.ra))}(t,e,i)}function Ef(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function Rf(t,n,i,e){t.An.push({buffer:n,byteOffset:i,byteLength:e}),t.ga+=e}function If(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=l.min(t.ga,n.byteLength-n.bytesFilled),u=n.bytesFilled+r,o=u-u%i,s=r,c=!1;o>e&&(s=o-n.bytesFilled,c=!0);for(var f,h,a,v,d,w=t.An;s>0;){var g=w.peek(),y=l.min(s,g.byteLength),m=n.byteOffset+n.bytesFilled;f=n.buffer,h=m,a=g.buffer,v=g.byteOffset,d=y,new p(f).set(new p(a,v,d),h),g.byteLength===y?w.shift():(g.byteOffset+=y,g.byteLength-=y),t.ga-=y,Df(t,y,n),s-=y}return c}function Df(t,n,i){Cf(t),i.bytesFilled+=n}function Nf(t){0===t.ga&&!0===t.Va?(xf(t),Qf(t.Ya)):Tf(t)}function Cf(t){void 0!==t.Ga&&(t.Ga.$a=void 0,t.Ga.Wa=void 0,t.Ga=void 0)}function Af(t){for(;t.Xa.length>0;){if(0===t.ga)return;var n=t.Xa.peek();!0===If(t,n)&&(Pf(t),Sf(t.Ya,n))}}function Of(t,n){var i=t.Xa.peek();if("closed"===t.Ya.sa){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=_s(n.buffer);var i=t.Ya;if(!0===Hf(i))for(;Vf(i)>0;)Sf(i,Pf(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Df(t,n,i),!(i.bytesFilled<i.elementSize)){Pf(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,u=i.buffer.slice(r-e,r);Rf(t,u,0,u.byteLength)}i.buffer=_s(i.buffer),i.bytesFilled-=e,Sf(t.Ya,i),Af(t)}}(t,n,i);Tf(t)}function Pf(t){var n=t.Xa.shift();return Cf(t),n}function xf(t){t.ja=void 0,t.Ua=void 0}function Lf(t,n){var i=t.Ya;"readable"===i.sa&&(!function(t){Cf(t),t.Xa=new Bs}(t),ac(t),xf(t),Zf(i,n))}function Ff(t){var n=t.Ya.sa;return"errored"===n?null:"closed"===n?0:t.xa-t.ga}function Bf(t,n,i){var e=d.create(bf.prototype);var r=ps(n,"pull",0,[e]),u=ps(n,"cancel",1,[]),o=n.autoAllocateChunkSize;if(void 0!==o&&(o=Number(o),!1===pf(o)||o<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,u,o){n.Ya=t,n.za=!1,n.Ha=!1,n.Ga=void 0,n.An=n.ga=void 0,ac(n),n.Va=!1,n.Ra=!1,n.xa=ks(u),n.ja=e,n.Ua=r,n.Ka=o,n.Xa=new Bs,t.da=n,Os(Ns(i()),function(){n.Ra=!0,Tf(n)},function(t){Lf(n,t)})}(t,e,function(){return ms(n,"start",[e])},r,u,i,o)}function Mf(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Uf(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function qf(t){return Ds(function(n,i){var e={Bn:n,H:i};t.oa.Ja.push(e)})}function Vf(t){return t.oa.Ja.length}function Hf(t){var n=t.oa;return void 0!==n&&!!zf(n)}var jf=function(){function t(t){if(!Yf(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===_f(t.da))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Kf(t))throw new v("This stream has already been locked for exclusive reading by another reader");Us(this,t),this.Ja=new Bs}return d.defineProperty(t.prototype,"closed",{get:function(){return zf(this)?this.zc:Cs(Wf("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return zf(this)?void 0===this.ua?Cs(Hs("cancel")):qs(this,t):Cs(Wf("cancel"))},t.prototype.read=function(t){return zf(this)?void 0===this.ua?Cs(Hs("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Cs(new v("view must have non-zero byteLength")):function(t,n){var i=t.ua;if(i.va=!0,"errored"===i.sa)return Cs(i.ca);return function(t,n){var i=t.Ya,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,u={buffer:_s(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.Xa.length>0)return t.Xa.push(u),qf(i);if("closed"===i.sa)return Ns(Ms(new r(u.buffer,u.byteOffset,0),!0,i.oa.ra));if(t.ga>0){if(!0===If(t,u)){var o=Ef(u);return Nf(t),Ns(Ms(o,!1,i.oa.ra))}if(!0===t.Va){var s=new v("Insufficient bytes to fill elements in the given buffer");return Lf(t,s),Cs(s)}}t.Xa.push(u);var c=qf(i);return Tf(t),c}(i.da,n)}(this,t)):Cs(new v("view must be an array buffer view")):Cs(Wf("read"))},t.prototype.releaseLock=function(){if(!zf(this))throw Wf("releaseLock");if(void 0!==this.ua){if(this.Ja.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Vs(this)}},t}();function zf(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"Ja")}function Wf(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var $f=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Gf(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),Bf(this,t,e=ks(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var u=Ts(i);void 0===e&&(e=1),function(t,n,i,e){var r=d.create(of.prototype),u=ps(n,"pull",0,[r]),o=ps(n,"cancel",1,[]);gf(t,r,function(){return ms(n,"start",[r])},u,o,i,e)}(this,t,e=ks(e),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===Yf(this))throw th("locked");return Kf(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Yf(this)?Cs(th("cancel")):!0===Kf(this)?Cs(new v("Cannot cancel a stream that already has a reader")):Jf(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Yf(this))throw th("getReader");if(void 0===n)return Ys(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new jf(t);return i.ra=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,u=r.preventClose,o=r.preventAbort,s=r.preventCancel,c=r.signal;if(!1===Yf(this))throw th("pipeThrough");if(!1===yc(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===Yf(e))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),o=Boolean(o),s=Boolean(s),void 0!==c&&!tf(c))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Kf(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===pc(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Fs(uf(this,i,u,o,s,c)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,u=i.preventCancel,o=i.signal;return!1===Yf(this)?Cs(th("pipeTo")):!1===yc(t)?Cs(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),u=Boolean(u),void 0===o||tf(o)?!0===Kf(this)?Cs(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===pc(t)?Cs(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):uf(this,t,e,r,u,o):Cs(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Yf(this))throw th("tee");var t=function(t,n){var i,e,r,u,o,s=Ys(t),c=!1,f=!1,h=!1,a=Ds(function(t){o=t});function v(){return!0===c?Ns(void 0):(c=!0,Fs(Ls(rc(s),function(t){if(c=!1,!0===t.done)return!1===f&&af(r.da),void(!1===h&&af(u.da));var n=t.value,i=n,e=n;!1===f&&vf(r.da,i),!1===h&&vf(u.da,e)})),Ns(void 0))}function d(){}return r=Xf(d,v,function(n){if(f=!0,i=n,!0===h){var r=ws([i,e]),u=Jf(t,r);o(u)}return a}),u=Xf(d,v,function(n){if(h=!0,e=n,!0===f){var r=ws([i,e]),u=Jf(t,r);o(u)}return a}),xs(s.zc,function(t){df(r.da,t),df(u.da,t)}),[r,u]}(this);return ws(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Yf(this))throw th("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Ys(t),e=d.create(oc);return e.la=i,e.wa=Boolean(n),e}(this,i)},t}();function Xf(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var u=d.create($f.prototype);return Gf(u),gf(u,d.create(of.prototype),t,n,i,e,r),u}function Gf(t){t.sa="readable",t.oa=void 0,t.ca=void 0,t.va=!1}function Yf(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"da")}function Kf(t){return void 0!==t.oa}function Jf(t,n){return t.va=!0,"closed"===t.sa?Ns(void 0):"errored"===t.sa?Cs(t.ca):(Qf(t),Ls(t.da[Xs](n),as))}function Qf(t){t.sa="closed";var n=t.oa;void 0!==n&&(ec(n)&&(n.aa.forEach(function(t){t.Bn(Ms(void 0,!0,n.ra))}),n.aa=new Bs),$s(n))}function Zf(t,n){t.sa="errored",t.ca=n;var i=t.oa;void 0!==i&&(ec(i)?(i.aa.forEach(function(t){t.H(n)}),i.aa=new Bs):(i.Ja.forEach(function(t){t.H(n)}),i.Ja=new Bs),Ws(i,n))}function th(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof hs.asyncIterator&&d.defineProperty($f.prototype,hs.asyncIterator,{value:$f.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var nh=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,u=i.size,o=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var s=Ts(e);if(void 0===r&&(r=1),r=ks(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var c,f=Ts(u);void 0===o&&(o=0),o=ks(o),function(t,n,i,e,r,u){function o(){return n}t.Qa=function(t,n,i,e,r,u){void 0===r&&(r=1),void 0===u&&(u=function(){return 1});var o=d.create(lc.prototype);return gc(o),Lc(o,d.create(xc.prototype),t,n,i,e,r,u),o}(o,function(n){return function(t,n){var i=t.Za;if(!0===t.Sa){var e=t.tv;return Ls(e,function(){var e=t.Qa,r=e.sa;if("erroring"===r)throw e.ca;return hh(i,n)})}return hh(i,n)}(t,n)},function(){return function(t){var n=t.nv,i=t.Za,e=i.ev();return ch(i),Ls(e,function(){if("errored"===n.sa)throw n.ca;var t=n.da;!0===wf(t)&&af(t)},function(i){throw eh(t,i),n.ca})}(t)},function(n){return function(t,n){return eh(t,n),Ns(void 0)}(t,n)},i,e),t.nv=Xf(o,function(){return function(t){return uh(t,!1),t.tv}(t)},function(n){return rh(t,n),Ns(void 0)},r,u),t.Sa=void 0,t.tv=void 0,t.rv=void 0,uh(t,!0),t.Za=void 0}(this,Ds(function(t){c=t}),r,s,o,f),function(t,n){var i=d.create(oh.prototype),e=function(t){try{return fh(i,t),Ns(void 0)}catch(t){return Cs(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new v("transform is not a method");e=function(t){return bs(r,n,[t,i])}}var u=ps(n,"flush",0,[i]);!function(t,n,i,e){n.uv=t,t.Za=n,n.ov=i,n.ev=e}(t,i,e,u)}(this,t);var h=ms(t,"start",[this.Za]);c(h)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===ih(this))throw vh("readable");return this.nv},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===ih(this))throw vh("writable");return this.Qa},enumerable:!0,configurable:!0}),t}();function ih(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"Za")}function eh(t,n){df(t.nv.da,n),rh(t,n)}function rh(t,n){ch(t.Za),Uc(t.Qa.pa,n),!0===t.Sa&&uh(t,!1)}function uh(t,n){void 0!==t.tv&&t.rv(),t.tv=Ds(function(n){t.rv=n}),t.Sa=n}var oh=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===sh(this))throw ah("desiredSize");return lf(this.uv.nv.da)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===sh(this))throw ah("enqueue");fh(this,t)},t.prototype.error=function(t){if(!1===sh(this))throw ah("error");var n;n=t,eh(this.uv,n)},t.prototype.terminate=function(){if(!1===sh(this))throw ah("terminate");!function(t){var n=t.uv,i=n.nv.da;!0===wf(i)&&af(i);var e=new v("TransformStream terminated");rh(n,e)}(this)},t}();function sh(t){return!!ls(t)&&!!d.prototype.hasOwnProperty.call(t,"uv")}function ch(t){t.ov=void 0,t.ev=void 0}function fh(t,n){var i=t.uv,e=i.nv.da;if(!1===wf(e))throw new v("Readable side is not in a state that permits enqueue");try{vf(e,n)}catch(t){throw rh(i,t),i.nv.ca}(function(t){return!0!==ff(t)})(e)!==i.Sa&&uh(i,!0)}function hh(t,n){return Ls(t.ov(n),void 0,function(n){throw eh(t.uv,n),n})}function ah(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function vh(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var dh,lh=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return W(n,t),j(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(sn);function wh(t){return n=[t],new $f({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function gh(t){return wh(new p(t))}function yh(t,n){return function(t,n){var i=n,e=t.getReader(),r=new fo,u=function(){o();var t=new Br;e.cancel(t).catch(x),r.Uc(t)},o=function(){i&&(i.js(u),i=void 0)};i&&(i.Fs?u():i.Hs(u));var s=[];return D.resolve(e.read()).then(function t(n){return n.done?(o(),D.resolve(s)):(s.push(n.value),D.resolve(e.read()).then(t))}).then(function(t){o(),r.Mc(t)},function(t){o(),r.Uc(t)}),r.Bc}(t,n).then(function(t){return bu(t).buffer})}function ph(t,n){var i=n,e=new nh,r=e.readable,u=e.writable,o=u.getWriter(),s=function(){i&&i.Xs()};return o.closed.then(s,s),t.then(function(t){return i=void 0,o.releaseLock(),t.pipeTo(u).catch(x)},function(t){return i=void 0,o.releaseLock(),u.abort(t).catch(x)}),r}function mh(t){return Zu(new p(t))}function bh(t){return to(t).buffer}!function(t){t[t.Yh=0]="Yh",t[t.sv=1]="sv"}(dh||(dh={}));var _h="content-type",kh="text/plain;charset=UTF-8",Th=function(){function t(){}var n=t.prototype;return n.cv=function(t){return this.fv(t).then(JSON.parse)},n.hv=function(t,n){switch(t){case os.Xh:return this.av(n);case os.Gh:return this.cv(n);case os.Yh:return this.vv();case os.vu:return this.fv(n);default:throw new v}},t}();function Sh(t,n,i){if(t instanceof Th)return t;if(t instanceof $f)return function(t,n){return new Rh({ks:dh.Yh,vv:t,dv:Eh(n)})}(t,i);var e=Eh(i),r=D.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{ks:os.vu,lv:t,dv:n||kh};if(t instanceof ArrayBuffer||pu(t))return{ks:os.Xh,lv:Ph(t),dv:n};if(ft(t)||ot(t))return{ks:os.Gh,lv:t,dv:n};throw new v("Unsupported BodyInit type")}return{ks:os.vu,lv:null,dv:n}}(t,e)});return new Rh({ks:dh.sv,Bc:r,wv:n})}function Eh(t){return(t.get(_h)||"").toLowerCase()}var Rh=function(t){function n(n){var i;return(i=t.call(this)||this).gv=!1,i.yv=void 0,i.pv=new fo,i.pv.Bc.catch(x),i.mv(n),i}W(n,t);var i=n.prototype;return i.bv=function(){return this.pv.Bc},i.fv=function(t){return this._v(Ih,t)},i.cv=function(t){return this._v(Nh,t)},i.av=function(t){return this._v(Ah,t)},i.vv=function(){return this.kv((t=this.yv).ks===dh.Yh?t.vv:ph(t.Bc.then(Oh).then(gh),t.wv));var t},i._v=function(t,n){if(this.gv)return D.reject(new v("Already used"));this.gv=!0;var i=t(this.yv,n);return this.pv.Mc(i.then(x)),i},i.kv=function(t){if(this.gv)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.gv=!0;var n=new nh,i=D.resolve(t.pipeTo(n.writable));return this.pv.Mc(i),n.readable},i.mv=function(t){this.yv=t,t.ks===dh.sv&&t.Bc.catch(x)},i.Tv=function(){if(this.gv)throw new v("Already used");var t=function(t){if(t.ks===dh.Yh){var n=t.vv.tee(),i=n[0],e=n[1];return[{ks:t.ks,vv:i,dv:t.dv},{ks:t.ks,vv:e,dv:t.dv}]}var r=t.wv.Ys(),u=r[0],o=r[1];return[{ks:t.ks,Bc:t.Bc,wv:u},{ks:t.ks,Bc:t.Bc,wv:o}]}(this.yv),i=t[0],e=t[1];return this.mv(i),new n(e)},j(n,[{key:"Sv",get:function(){return this.gv}}]),n}(Th);function Ih(t,n){return t.ks===dh.Yh?yh(t.vv,n).then(mh):(n&&t.wv.Gs(n),jr(t.Bc.then(Dh),t.wv))}function Dh(t){switch(t.ks){case os.vu:return D.resolve(t.lv||"");case os.Xh:return D.resolve(t.lv).then(mh);case os.Gh:return D.resolve(t.lv).then(JSON.stringify)}}function Nh(t,n){return t.ks===dh.Yh?Ih(t,n).then(JSON.parse):(n&&t.wv.Gs(n),jr(t.Bc.then(Ch),t.wv))}function Ch(t){return t.ks===os.Gh?D.resolve(t.lv):Dh(t).then(JSON.parse)}function Ah(t,n){return t.ks===dh.Yh?yh(t.vv,n):(n&&t.wv.Gs(n),jr(t.Bc.then(Oh),t.wv))}function Oh(t){switch(t.ks){case os.Xh:return D.resolve(t.lv);case os.vu:case os.Gh:return Dh(t).then(bh)}}function Ph(t){return t instanceof ArrayBuffer?t:so(eo(t)).buffer}function xh(t){return t.Ev>=200&&t.Ev<=299||304===t.Ev}var Lh,Fh,Bh,Mh,Uh=function(t){function n(n,i){var e,r,u,o,s,c;i?(r=i.Rv,u=i.Iv,o=i.Ev,s=i.Dv,c=i.Nv):(r=[],u=os.vu,o=200,s="OK",c=!1);var f=n.Cv,h=new ss(n.Rv||r),a=n.Iv||u,v=n.Av||(i&&i.Cv===f?i.Av:f.Ov),d=i?i.Pv:null,l=Sh(void 0!==n.Vu?n.Vu:d,n.wv||new Fr,h);return(e=t.call(this,l)||this).Rv=void 0,e.Cv=void 0,e.Av=void 0,e.Iv=void 0,e.Ev=void 0,e.Dv=void 0,e.Nv=void 0,e.Rv=h,e.Cv=f,e.Av=v,e.Iv=a,e.Ev=void 0!==n.Ev?n.Ev:o,e.Dv=void 0!==n.Dv?String(n.Dv):s,e.Nv=n.Nv||c,e}W(n,t);var i=n.prototype;return i.Vu=function(t){return this.hv(this.Iv,t)},i.Oc=function(){return new n({Vu:this.Tv(),Cv:this.Cv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Pv=void 0,i.Pv=n,i}W(n,t);var i=n.prototype;return i.bv=function(){return this.Pv.bv()},i.fv=function(t){return this.Pv.fv(t)},i.cv=function(t){return this.Pv.cv(t)},i.av=function(t){return this.Pv.av(t)},i.vv=function(){return this.Pv.vv()},i.Tv=function(){return this.Pv.Tv()},j(n,[{key:"Sv",get:function(){return this.Pv.Sv}}]),n}(Th));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Lh||(Lh={})),function(t){t.xv="",t.Lv="manifest",t.Fv="segment",t.Bv="content-protection"}(Fh||(Fh={})),function(t){t.xv="",t.Mv="initialization-segment",t.Uv="fairplay-license",t.qv="fairplay-certificate",t.Vv="widevine-license",t.Hv="widevine-certificate",t.jv="playready-license",t.zv="clearkey-license",t.Wv="aes128-key"}(Bh||(Bh={})),function(t){t.xv="",t.$v="audio",t.Xv="video",t.vu="text",t.Gv="image"}(Mh||(Mh={}));var qh=function(t,n){this.lv=void 0,this.Rv=void 0,this.Yv=void 0,this.Iv=void 0,this.Kv=void 0,this.Ks=void 0,this.ks=void 0,this.Jv=void 0,this.Qv=void 0,this.Ov=void 0,this.Zv=void 0,this.td=void 0;var i,e,r,u,o,s,c,f,h,a,v,d=t.Ov;n?(i=n.lv,e=n.Rv,r=n.Yv,u=n.Iv,o=n.Kv,s=n.Ks,c=n.ks,f=n.Jv,h=n.Qv,a=n.Zv,v=n.td):(i=null,e={},r=Lh.GET,u=os.vu,o=0,c=Fh.xv,f=Bh.xv,h=Mh.xv,a=!1),this.Ov=d,this.lv=t.lv||i,this.Rv=new ss(t.Rv||e),this.Yv=t.Yv||r,this.Iv=t.Iv||u,this.Kv=void 0!==t.Kv?Number(t.Kv)||0:o,this.Ks=t.Ks||s||(new Fr).Ks,this.ks=t.ks||c,this.Jv=t.Jv||f,this.Qv=t.Qv||h,this.Zv=void 0!==t.Zv?Boolean(t.Zv):a,this.td=t.td||v},Vh=function(){function t(){}var n=t.prototype;return n.Cv=function(t){var n=function(t){return new Uh({Vu:null,Rv:{},Cv:t,Av:t.Ov,Iv:t.Iv,Ev:0,Dv:us.Rh})}(new qh(t));return D.resolve(n)},n.nd=function(t){},n.ce=function(){},t}();var Hh=function(){function t(t,n){void 0===n&&(n=!0),this.ed=void 0,this.rd=void 0,this.ed=t,this.rd=n}var n=t.prototype;return n.Cv=function(t){var n=this.ud(t);return this.ed.Cv(n)},n.nd=function(t){return this.ed.nd(this.od(t))},n.ud=function(n){var i=new qh(n);if(!this.rd){var e=t.sd(i.Ov);i=new qh({Ov:e},i)}return i},n.od=function(n){var i=n.Ov;return this.rd||(i=t.sd(i)),{Ov:i,lv:n.lv}},t.sd=function(t){return C.es&&lr(t,"http://")?t.replace(":","s:"):t},n.ce=function(){this.ed.ce()},j(t,null,[{key:"fd",get:function(){return t.hd||(t.hd=new t(new Vh)),t.hd}}]),t}();function jh(t,n){for(var i=0,e=d.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function zh(t,n){var i=C.Yo(t);return n&&!wr(i,"/")&&(i+="/"),i}Hh.hd=void 0;var Wh,$h=/cache:(.+)?(?=&|$)/,Xh="http://webcache.googleusercontent.com/search?q=cache:";function Gh(t){if(!lr(t,Xh))return"";var n=C.Go(t).search.match($h);return n&&n.length>1?n[1]:""}!function(t){t.vd="HttpOpenError",t.dd="HttpResponseError",t.ld="HttpTimeoutError"}(Wh||(Wh={}));var Yh=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).wd=void 0,r.wd=n,r}return W(n,t),j(n,[{key:"Cv",get:function(){return this.wd}}]),n}(sn);var Kh=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Ov+". Invalid URL.",i)||this}return W(n,t),j(n,[{key:"name",get:function(){return Wh.vd}}]),n}(Yh);var Jh=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Cv,null!=e?e:function(t){return"Error while loading "+t.Cv.Ov+", status code "+t.Ev}(n),i)||this).gd=void 0,r.gd=n,r}return W(n,t),j(n,[{key:"name",get:function(){return Wh.dd}},{key:"yd",get:function(){return this.gd}}]),n}(Yh);var Qh=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Ov+" timed out after "+t.Kv+" seconds."}(n),i)||this}return W(n,t),j(n,[{key:"name",get:function(){return Wh.ld}}]),n}(Yh),Zh=function(t,n){return(Zh=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function ta(t,n){function i(){this.constructor=t}Zh(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var na="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var ia=function(){var t=na.Blob;if(t)try{return new t,function(t,n){return new na.Blob(t,n)}}catch(t){}var n,i=na.BlobBuilder||na.WebKitBlobBuilder||na.MozBlobBuilder||na.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,u=t;r<u.length;r++){var o=u[r];e.append(o)}return e.getBlob(i&&i.type||"")}):null}(),ea="function"==typeof $f?$f:void 0;function ra(t){return t&&"function"==typeof t.getReader}function ua(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&ra(i)}catch(t){return!1}}var oa=function(){function t(t,n){this.oa=t,this.pd=n}return t.prototype.pull=function(t){var n=this;return this.oa.read().then(function(i){n.pd&&n.pd(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.oa.cancel(t)},t}();function sa(t,n){return n.constructor===t?n:new t(new oa(n.getReader()),{highWaterMark:0})}var ca=function(){function t(t,n){this.md=t,this.pt=n}return t.prototype.pull=function(t){return this.md().then(function(n){t.enqueue(new p(n)),t.close()})},t.prototype.cancel=function(t){this.pt&&this.pt(t)},t}();function fa(t,n,i){return new t(new ca(n,i),{highWaterMark:0})}var ha={searchParams:"URLSearchParams"in na,iterable:"Symbol"in na&&"iterator"in Symbol,blob:"FileReader"in na&&!!ia,formData:"FormData"in na,arrayBuffer:"ArrayBuffer"in na,stream:ua(ea),streamRequest:"Request"in na&&"body"in na.Request.prototype,streamResponse:"Response"in na&&"body"in na.Response.prototype,abort:"AbortController"in na&&"Request"in na&&"signal"in na.Request.prototype,encoding:"TextEncoder"in na&&"TextDecoder"in na,url:"URL"in na&&function(t){try{return new na.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in na&&/Firefox\//.test(na.navigator.userAgent)};function aa(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function va(t){return"string"!=typeof t&&(t=String(t)),t}function da(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return ha.iterable&&(n[Symbol.iterator]=function(){return n}),n}var la=function(){function t(t){var n=this;this.ls={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return ha.iterable&&t&&t[Symbol.iterator]}(t)?t&&d.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=aa(t),n=va(n);var i=t.toLowerCase();if(this.ls.hasOwnProperty(i)){var e=this.ls[i],r=e[1];e[1]=r?r+", "+n:n}else this.ls[i]=[t,n]},t.prototype.delete=function(t){var n=aa(t).toLowerCase();delete this.ls[n]},t.prototype.get=function(t){var n=aa(t).toLowerCase();return this.ls.hasOwnProperty(n)?this.ls[n][1]:null},t.prototype.has=function(t){var n=aa(t).toLowerCase();return this.ls.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=aa(t)).toLowerCase();this.ls[i]=[t,va(n)]},t.prototype.forEach=function(t,n){for(var i in this.ls)this.ls.hasOwnProperty(i)&&t.call(n,this.ls[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),da(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),da(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),da(t)},t.prototype.asList=function(){var t=[];for(var n in this.ls)if(this.ls.hasOwnProperty(n)){var i=this.ls[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function wa(){}ha.iterable&&(la.prototype[Symbol.iterator]=la.prototype.entries);var ga,ya,pa,ma=l.min,ba=String.fromCharCode,_a=16384;function ka(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=_a){var r=ma(e+_a,n);i.push(ba.apply(null,t.slice(e,r)))}return i.join("")}(n)}function Ta(t){if(t>=55296&&t<=57343)throw new a("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Sa(t,n){return t>>n&63|128}function Ea(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Ta(t),n.push(t>>12&15|224),n.push(Sa(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Sa(t,12)),n.push(Sa(t,6))),n.push(63&t|128)):n.push(t)}function Ra(){if(pa>=ya)throw new a("Invalid byte index");var t=255&ga[pa];if(pa++,128==(192&t))return 63&t;throw new a("Invalid continuation byte")}function Ia(){var t,n;if(pa>ya)throw new a("Invalid byte index");if(pa===ya)return!1;if(t=255&ga[pa],pa++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Ra())>=128)return n;throw new a("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Ra()<<6|Ra())>=2048)return Ta(n),n;throw new a("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Ra()<<12|Ra()<<6|Ra())>=65536&&n<=1114111)return n;throw new a("Invalid UTF-8 detected")}var Da=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function Na(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function Ca(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Aa(t){return t&&DataView.prototype.isPrototypeOf(t)}var Oa,Pa=ArrayBuffer.isView||function(t){return t&&(Da.indexOf(d.prototype.toString.call(t))>-1||Aa(t))};function xa(t){if(t.bodyUsed)return D.reject(new v("Already used"));t.bodyUsed=!0}function La(t){return new D(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Fa(t){return ha.encoding?new na.TextDecoder("utf-8").decode(new p(t)):ka(function(t){ya=(ga=t).length,pa=0;for(var n,i=[];!1!==(n=Ia());)i.push(n);return i}(new p(t)))}function Ba(t){return ha.encoding?(new na.TextEncoder).encode(t).buffer:new p(function(t){for(var n=[],i=0,e=t;i<e.length;i++)Ea(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&r)<<10)+(1023&u)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Ma(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,u=t.value;return r?D.resolve(i):(i.push(u),n.read().then(e))};return n.read().then(e)}function Ua(t){return Ma(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(c=e[i]).byteLength;for(var r=new p(n),u=0,o=0,s=t;o<s.length;o++){var c=s[o];r.set(c,u),u+=c.byteLength}return r}(t).buffer})}function qa(t){return t.slice?t.slice(0):Va(new p(t))}function Va(t){if(t.slice)return t.slice(0).buffer;var n=new p(t.byteLength);return n.set(new p(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Ha(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function ja(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.bd===Oa._d){if(!n.kd.tee)throw new a("could not clone ReadableStream body");var i=n.kd.tee(),e=i[0],r=i[1];return n.body=e,n.kd=e,n.Td=e,r}return n.bd===Oa.Xh?qa(n.kd):n.bd===Oa.sv?n.kd.then(ja):n.Td}!function(t){t[t.vu=0]="vu",t[t.Sd=1]="Sd",t[t.Ed=2]="Ed",t[t.Xh=3]="Xh",t[t._d=4]="_d",t[t.sv=5]="sv"}(Oa||(Oa={}));var za=function(){function t(n,i){this.bodyUsed=!1;var e,r,u,o=this;if(this.Td=n||null,n)if("string"==typeof n)this.bd=Oa.vu,this.kd=n;else if((u=n)&&"function"==typeof u.then)this.bd=Oa.sv,this.kd=D.resolve(n).then(function(n){return new t(n,i)}),this.kd.catch(wa);else if(ha.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.bd=Oa.Sd,this.kd=n;else if(ha.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.bd=Oa.Ed,this.kd=n;else if(ha.searchParams&&Na(n))this.bd=Oa.vu,this.kd=n.toString();else if(ha.arrayBuffer&&(Ca(n)||Pa(n)))Aa(n)&&(this.Td=new p((r=n).buffer,r.byteOffset,r.byteLength)),this.bd=Oa.Xh,this.kd=Ca(e=n)?qa(e):Va(e);else{if(!ha.stream||!ra(n))throw new a("unsupported BodyInit type");n=sa(ea,n),this.bd=Oa._d,this.kd=n,this.Td=n}else this.bd=Oa.vu,this.kd="";this.Rd="",i.has("content-type")?this.Rd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Rd="text/plain;charset=UTF-8":o.bd===Oa.Sd&&o.kd.type?this.Rd=o.kd.type:ha.searchParams&&Na(n)&&(this.Rd="application/x-www-form-urlencoded;charset=UTF-8"),this.Rd&&i.set("content-type",this.Rd)),ha.stream&&(null==n?this.body=null:o.bd===Oa._d?this.body=o.kd:this.body=fa(ea,function(){return o.arrayBuffer()},function(){o.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=xa(this);return e||(this.bd===Oa.Sd?(t=this.kd,n=new FileReader,i=La(n),n.readAsText(t),i):this.bd===Oa.Xh?D.resolve(this.kd).then(Fa):this.bd===Oa._d?Ua(this.kd).then(Fa):this.bd===Oa.sv?this.kd.then(function(t){return t.text()}):this.bd===Oa.Ed?D.reject(new a("could not read FormData body as text")):D.resolve(this.kd))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();ha.blob&&(za.prototype.blob=function(){var t,n,i=xa(this);return i||(this.bd===Oa.Sd?D.resolve(this.kd):this.bd===Oa.Xh?D.resolve(ia([this.kd],{type:this.Rd})):this.bd===Oa._d?(t=this.kd,n=this.Rd,Ma(t).then(function(t){return ia(t,{type:n||""})})):this.bd===Oa.sv?this.kd.then(function(t){return t.blob()}):this.bd===Oa.Ed?D.reject(new a("could not read FormData body as Blob")):D.resolve(ia([this.kd],{type:this.Rd})))}),ha.arrayBuffer&&(za.prototype.arrayBuffer=function(){var t,n,i;return this.bd===Oa.Xh?xa(this)||D.resolve(this.kd):this.bd===Oa.Sd?xa(this)||(t=this.kd,n=new FileReader,i=La(n),n.readAsArrayBuffer(t),i):this.bd===Oa._d?Ua(this.kd):this.bd===Oa.sv?xa(this)||this.kd.then(function(t){return t.arrayBuffer()}):this.bd===Oa.Ed?D.reject(new a("could not read FormData body as ArrayBuffer")):D.resolve(this.kd).then(Ba)}),ha.formData&&(za.prototype.formData=function(){return this.bd===Oa.Ed?xa(this)||D.resolve(this.kd):this.text().then(Ha)});var Wa=[301,302,303,307,308],$a=function(t){function n(n,i){var e=this,r=new la((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return ta(n,t),n.prototype.clone=function(){return new n(ja(this),{status:this.status,statusText:this.statusText,headers:new la(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Wa.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(za);var Xa,Ga=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d.defineProperty(t,e.key,e)}}function u(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function o(t){return(o=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function c(t,n){return(c=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=o(t)););return t}(t,n);if(e){var r=d.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var a=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){s(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,u=e.length;r<u;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=o(n).call(this))||"object"!=typeof r&&"function"!=typeof r?f(e):r).listeners||a.call(f(t)),d.defineProperty(f(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(f(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(n,a),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(o(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),w=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==r?r.createEvent?(t=r.createEvent("Event")).initEvent("abort",!1,!1):(t=r.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(w.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=w,n.default=w});(Xa=Ga)&&Xa.__esModule&&d.prototype.hasOwnProperty.call(Xa,"default")&&Xa.default;Ga.AbortSignal;var Ya=Ga.AbortController,Ka=na.DOMException;try{new Ka}catch(t){(Ka=function(t,n){a.call(this,t),this.name=n||"Error",a.captureStackTrace&&a.captureStackTrace(this,this.constructor)}).prototype=d.create(a.prototype),Ka.prototype.constructor=Ka}var Ja=Ya;function Qa(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Za(t,n,i){return new D(function(e,r){if(n.signal.aborted)return t.catch(wa),r(tv());var u=function(){n.signal.removeEventListener("abort",u),r(tv())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()})})}function tv(){return new Ka("Aborted","AbortError")}var nv,iv="moz-chunked-arraybuffer";function ev(t){try{var n=new m;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(nv||(nv={}));var rv=function(){function t(t,n){var i=this;this.Id=!1,this.wd=t,this.Dd=n,this.Nd=new m,this.Cd=new D(function(t,n){i.Ad=t,i.Od=n})}return t.prototype.send=function(){var t=this;return this.Pd().then(function(n){return t.xd(n,t.Dd),t.Cd})},t.prototype.Pd=function(){var t=this.wd;return t.bd===Oa._d?t.arrayBuffer():D.resolve(t.Td)},t.prototype.Ld=function(t){this.wd.onprogress&&this.wd.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Fd=function(t){this.Od(t)},t.prototype.Bd=function(){this.Fd(new v("Network request failed"))},t.prototype.Md=function(){this.Fd(new v("Network request failed"))},t.prototype.Ud=function(){this.Fd(tv())},t.prototype.xd=function(t,n){var i=this,e=this.wd,r=this.Nd,u=function(){return i.qd()};if(e.signal.aborted)return this.Ud();r.onreadystatechange=function(){if(r.readyState>=nv.HEADERS_RECEIVED&&!i.Id){var t=function(t){var n=new la;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Id=!0,i.Vd(n)}},r.onprogress=function(t){return i.Ld(t)},r.onload=function(){return i.Hd()},r.onerror=function(){return i.Bd()},r.ontimeout=function(){return i.Md()},r.onabort=function(){return i.Ud()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",u),r.onloadend=function(){e.signal.removeEventListener("abort",u)},t?r.send(t):r.send()},t.prototype.qd=function(){this.Ud(),this.Nd.abort()},t}(),uv=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.jd=void 0,e.zd=void 0,e}return ta(n,t),n.prototype.Vd=function(t){var n=this;this.jd=new D(function(t,i){n.zd=t,n.Wd=i}),this.Ad(new $a(this.jd,t))},n.prototype.Hd=function(){var t=this.Nd.response||this.Nd.responseText;this.zd(t)},n.prototype.Fd=function(n){t.prototype.Fd.call(this,n),this.Wd&&this.Wd(n)},n}(rv),ov=function(t){function n(n){var i=t.call(this,n,iv)||this;return i.$d=void 0,i.Xd=void 0,i.Gd=!1,i}return ta(n,t),n.prototype.Vd=function(t){var n=this;this.$d=new ea({start:function(t){n.Xd=t},cancel:function(){n.Gd=!0,n.qd()}}),this.Ad(new $a(this.$d,t))},n.prototype.Ld=function(n){this.Gd||this.Xd.enqueue(new p(this.Nd.response)),t.prototype.Ld.call(this,n)},n.prototype.Hd=function(){this.Xd.close()},n.prototype.Fd=function(n){t.prototype.Fd.call(this,n),this.Xd&&!this.Gd&&(this.Gd=!0,this.Xd.error(n))},n}(rv),sv=function(){var t=ha.firefox&&ev(iv);return sv=function(){return t},t},cv=function(){var t;return t=ha.arrayBuffer&&ev("arraybuffer")?"arraybuffer":ha.blob&&ev("blob")?"blob":"",cv=function(){return t},t};function fv(t){return(ha.stream&&sv()?new ov(t):new uv(t,cv())).send()}var hv=na.fetch,av=na.Request,vv=(na.Response,na.AbortController);var dv=["http:","https:"];var lv=function(){try{if(ha.streamRequest){var t=new av("about:blank",{body:"",method:"POST"}).body;if(t&&ua(t.constructor))return t.constructor}}catch(t){}}();function wv(t,n,i){var e;if(ha.stream){var r=void 0;if(ha.streamResponse){var u=t.body;r=u&&sa(ea,u)}else r=fa(ea,function(){return Za(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new oa(n.getReader(),i),{highWaterMark:0})}(ea,t,function(t){var r=t.done,u=t.value;r?i=void 0===i?e:i:e+=u.byteLength,n(e,i)})}(r,i,gv(t.headers))),e=r}else{var o=Za(t.arrayBuffer(),n,!0);i&&(o=function(t,n,i){return D.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(o,i,gv(t.headers))),e=o}return new $a(e,t)}function gv(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function yv(t){var n=new Ja;return t.signal&&Qa(n,t.signal),function(t,n){var i,e,r=t;if(i=r.bd===Oa._d?ha.streamRequest&&lv?D.resolve(sa(lv,r.kd)):Za(t.arrayBuffer(),n,!1):Za(D.resolve(t.Td),n,!1),ha.abort){var u=new vv;Qa(u,n.signal),e=u.signal}return i.then(function(n){return new av(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof la?i:new la(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return hv(i).then(function(i){return wv(i,n,t.onprogress)})})}var pv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var mv=function(t){function n(i,e){var r,u,o,s,c,f,h,a,d,l=this,w=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");r=i.url,u=i.credentials,e.headers||(o=new la(i.headers)),s=i.method,c=i.mode,f=i.referrer,h=i.referrerPolicy,a=i.signal,d=i.onprogress,w||null==i.Td||(w=i.Td,i.bodyUsed=!0)}else r=String(i),u="same-origin",s="GET",c="cors",f="about:client",h="",a=null,d=null;if(!e.headers&&o||(o=new la(e.headers)),e&&(f="about:client",h=""),(l=t.call(this,w,o)||this).url=r,l.headers=o,l.credentials=e.credentials||u,l.method=function(t){var n=t.toUpperCase();return pv.indexOf(n)>-1?n:t}(e.method||s),l.mode=e.mode||c,l.signal=e.signal||a||(new Ja).signal,l.referrer=void 0!==e.referrer?e.referrer:f,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:h,l.onprogress=e.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&w)throw new v("Body not allowed for GET or HEAD requests");return l}return ta(n,t),n.prototype.clone=function(){return new n(this,{body:ja(this)})},n}(za),bv="function"==typeof hv&&ha.stream&&ha.streamResponse&&ha.url;function _v(t,n){return new D(function(i){var e=new mv(t,n);i((bv&&function(t){try{return dv.indexOf(new na.URL(t,na.location.href).protocol)>=0}catch(t){return!1}}(e.url)?yv:fv)(e))})}_v.polyfill=!0;var kv=function(){function t(t){this.yd=void 0,this.wd=void 0,this.Yd=new Fr,this.gd=void 0,this.Kd=!1,this.wd=t,this.Yd.Gs(t.Ks),this.yd=this.Jd()}var n=t.prototype;return n.Jd=function(){var t=D.coroutine(He.mark(function t(){var n,i,e,r,u,o,c,f,h=this;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.wd).Kv&&s(function(){h.Kd=!0,h.Yd.Xs()},n.Kv),t.prev=2,i=_v(n.Ov,{method:n.Yv,headers:n.Rv.Kh(),body:n.lv,credentials:n.Zv?"include":"same-origin",signal:Ev(this.Yd.Ks),onprogress:n.td}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Kh(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Mr(r=this.Qd(t.t1))&&this.Yd.Xs(),r;case 20:if(u=e.url||n.Ov,o=0===e.status&&"file:"===(a=u,C.Go(a).protocol)?200:e.status,c=new Tv(this,e,this.Yd),f=new Uh({Vu:c,Cv:n,Iv:n.Iv,Rv:new ss(e.headers.asList()),Ev:o,Dv:e.statusText,Av:u}),this.gd=f,!xh(f)){t.next=29;break}return t.abrupt("return",f);case 29:throw new Jh(f);case 30:case"end":return t.stop()}var a},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Qd=function(t){return Mr(t)?this.Kd?new Qh(this.wd):new Br(t.message,t):this.gd?new Jh(this.gd,t):new Kh(this.wd,t)},t}(),Tv=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).tn=void 0,r.Zd=void 0,r.Yd=void 0,r.pv=new fo,r.tn=n,r.Zd=i,r.Yd=e,r.pv.Bc.catch(x),r}W(n,t);var i=n.prototype;return i.bv=function(){return this.pv.Bc},i.fv=function(t){return this._v(this.Zd.text(),t)},i.av=function(t){return this._v(this.Zd.arrayBuffer(),t)},i.vv=function(){var t=this.Zd.body;return t?this.kv(t):ph(this.av().then(gh),this.Yd)},i.Tv=function(){var t=this.Zd.clone(),i=this.Yd.Ys(),e=i[0],r=i[1];return this.Yd=e,new n(this.tn,t,r)},i._v=function(t,n){var i=this;n&&this.Yd.Gs(n);var e=D.resolve(t).catch(function(t){throw i.tn.Qd(t)});return e=jr(e,this.Yd),this.pv.Mc(e.then(x)),e},i.kv=function(t){var n=this,i=new nh,e=D.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.tn.Qd(t);throw i.writable.abort(e).catch(x),e});return e=jr(e,this.Yd),this.pv.Mc(e.then(x)),i.readable},j(n,[{key:"Sv",get:function(){return this.Zd.bodyUsed}}]),n}(Th),Sv="abort";function Ev(t){var n=new Ja;if(t.Fs)n.abort();else if(!t.Bs){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(Sv,i),t.js(i),t.Ws(e)};n.signal.addEventListener(Sv,i),t.Hs(i),t.zs(e)}return n.signal}var Rv,Iv=function(){function t(){}var n=t.prototype;return n.Cv=function(t){return new kv(t).yd},n.nd=function(t){if(I&&I.sendBeacon)I.sendBeacon(t.Ov,es([t.lv],{type:t.dv}));else{var n=t.dv?{"Content-type":t.dv}:void 0;$r(this.Cv(new qh({Yv:Lh.POST,Ov:t.Ov,lv:t.lv,Rv:n})))}},n.ce=function(){},t}(),Dv=function(n){function i(){for(var i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(i=n.call.apply(n,[this].concat(r))||this).tl=void 0,i.nl=function(){if(it.Cr)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.il=it.Zr,i.ul=void 0,i}return W(i,n),j(i,[{key:"Vo",get:function(){return this.tl||(this.tl=new Tr(Zo())),this.tl}},{key:"ol",get:function(){return this.nl}},{key:"sl",get:function(){return this.il}},{key:"cl",get:function(){return!1}},{key:"fl",get:function(){return ns.fh()}},{key:"hl",get:function(){return{al:rs}}},{key:"vl",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"dl",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"ll",get:function(){return this.ul||(this.ul=new Hh(new Iv)),this.ul}}]),i}(qe);O(new Dv),function(t){t.wl="gl",t.yl="pl"}(Rv||(Rv={}));Rv.wl,Rv.yl;var Nv=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ml=void 0,e}return W(n,t),j(n,[{key:"bl",get:function(){return this.ml||(this.ml=this._l()),this.ml}}]),n}(tu);var Cv,Av=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n}(Nv),Ov=function(t){function n(n){return t.call(this,n)||this}return W(n,t),n}(tu),Pv=function(t){function n(n){var i;return(i=t.call(this,Rv.wl)||this).kl=n,i}return W(n,t),n.prototype._l=function(){return new xv(this.kl.bl)},n}(Av),xv=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return W(n,t),n}(Ov),Lv=function(t){function n(n){var i;return(i=t.call(this,Rv.yl)||this).kl=n,i}return W(n,t),n.prototype._l=function(){return new Fv(this.kl.bl)},n}(Av),Fv=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return W(n,t),n}(Ov);!function(t){t.Tl="Sl",t.El="Rl",t.Il="Dl",t.Nl="Cl",t.Al="Ol",t.Pl="xl",t.Ll="Fl",t.Bl="Ml",t.Ul="if",t.ql="Vl",t.Hl="jl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Cv||(Cv={}));var Bv=function(t){function n(){var n;return(n=t.call(this)||this).zl=[],n.ml=void 0,n}W(n,t);var i=n.prototype;return i.Wl=function(t){return this.zl[t]},i.$l=function(t){return!(!t||Pr(this.zl,t))&&(this.zl.push(t),this.ml&&this.ml.push(t.bl),t.ic(Cv.Pl,this.tc),this.nc(new Pv(t)),!0)},i.Xl=function(t){if(!t)return!1;var n=this.zl.indexOf(t);return!(n<0)&&(Or(this.zl,n),this.ml&&Or(this.ml,n),t.oc(Cv.Pl,this.tc),this.nc(new Lv(t)),!0)},i.Gl=function(t){return Pr(this.zl,t)},i.Yl=function(){for(var t=this.zl,n=t.length-1;n>=0;n-=1)this.Xl(t[n])},i.ce=function(){this.Yl(),this.uc()},j(n,[{key:"Kl",get:function(){return this.zl}},{key:"bl",get:function(){return this.ml||(this.ml=this._l()),this.ml}},{key:"Jl",get:function(){return this.zl.length}}]),n}(Qr),Mv=function(t){function n(n){var i;return(i=t.call(this,Cv.Pl)||this).kl=n,i}return W(n,t),n.prototype._l=function(){return new Uv(this.kl.bl)},n}(Av),Uv=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return W(n,t),n}(Ov),qv=function(t){function n(){var n;return(n=t.call(this)||this).Ql=void 0,n.Zl=function(t){var i=t.kl;n.$l(i)},n.tw=function(t){var i=t.kl;n.Xl(i)},n}W(n,t);var i=n.prototype;return i.nw=function(t){t.ic(Rv.wl,this.Zl),t.ic(Rv.yl,this.tw)},i.iw=function(t){t.oc(Rv.wl,this.Zl),t.oc(Rv.yl,this.tw)},i.ce=function(){this.Ql&&this.Ql.ce(),t.prototype.ce.call(this)},j(n,[{key:"ew",get:function(){return this.Ql},set:function(t){var n=this.Ql;if(t!==n){if(n){this.iw(n);for(var i=0,e=n.Kl;i<e.length;i++){var r=e[i];t&&t.Gl(r)||this.Xl(r)}}if(this.Ql=t,t){for(var u=[],o=0,s=t.Kl;o<s.length;o++){var c=s[o];this.$l(c),this.rw(c)&&u.push(c)}this.nw(t);for(var f=0;f<u.length;f++){var h=u[f];h.nc(new Mv(h))}}}}}]),n}(Bv),Vv=d.freeze||L;function Hv(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function jv(t,n){for(var i=0,e=d.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];d.defineProperty(t,r,d.getOwnPropertyDescriptor(n,r))}return t}function zv(t){if(ft(t)){var n={};for(var i in t)et.call(t,i)&&(n[i]=zv(t[i]));return n}if(ot(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=zv(t[r]));return e}return t}function Wv(t,n){return t===n||!(!t||!n)&&(!(!ct(t)||!ct(n))&&(st(t)?!!st(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Wv(t[r],n[r]))return!1;return!0}(t,n):!st(n)&&function(t,n){var i=d.keys(t),e=d.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var u=i[r];if(!et.call(n,u)||!Wv(t[u],n[u]))return!1}return!0}(t,n)))}function $v(t,n){return t.constructor===n.constructor}function Xv(t){for(var n={},i=0,e=d.keys(t);i<e.length;i++){var r=e[i],u=t[r];null!=u&&(n[r]=u)}return n}function Gv(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Yv(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Kv(t){var n=Yv(t);if(y(n))throw new a("Expected a valid number.");return n}function Jv(t){return"string"==typeof t?t:""}function Qv(t,n){if(!st(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Zv(t,n){return st(t)?Qv(t,n):n(t)}var td=[Rv.wl,Rv.yl,Cv.Pl];function nd(t){var n,i=t.Kl.map(function(t){return t.bl});return i.item=function(n){var i=0|n,e=t.Wl(i);return e&&e.bl||void 0},i.addEventListener=function(t,i){n.ic(t,i)},i.removeEventListener=function(t,i){n.oc(t,i)},n=new Zr(i),t.ic(td,function(t){return n.nc(t.bl)}),i}function id(){}function ed(t){var n,i=[Cv.Ul,Cv.Pl,Cv.ql,Cv.Hl,Cv.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.uw&&t.uw.bl},get enabled(){return t.ow},set enabled(n){t.ow=Gv(n)},get id(){return t.sw},get uid(){return t.cw},get kind(){return t.fw},get label(){return t.hw},set label(n){t.hw=Jv(n)},get language(){return t.aw},get qualities(){return t.vw.bl},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.vw.Kl;e<r.length;e++)for(var u=r[e],o=0;o<n.length;o++){var s=n[o];u.bl===s&&i.push(u)}return i}(t,ot(n)?n:[n]):[]).length>0?t.dw=i:t.dw=void 0},get targetQuality(){if(t.dw)return 1===t.dw.length?t.dw[0].bl:t.dw.map(function(t){return t.bl})},addEventListener:function(t,i){var e=Zv(t,Jv);n.ic(e,i)},removeEventListener:function(t,i){var e=Zv(t,Jv);n.oc(e,i)}};return n=new Zr(e),t.ic(i,function(t){return n.nc(t.bl)}),d.defineProperty(e,"constructor",{value:id}),e}function rd(){}function ud(t){var n=nd(t);return d.defineProperty(n,"constructor",{value:rd}),n}var od,sd,cd=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i._l=function(){return ud(this)},i.rw=function(t){return t.ow},n}(qv);function fd(){}function hd(t){var n,i=[Cv.Pl,Cv.Ul,Cv.Tl,Cv.El,Cv.Il,Cv.Nl,Cv.Al,Cv.Ll,Cv.Bl],e=[sd.lw],r={get kind(){return t.fw},get label(){return t.hw},set label(n){t.hw=Jv(n)},get language(){return t.aw},get id(){return t.sw},get uid(){return t.cw},get inBandMetadataTrackDispatchType(){return t.ww},get mode(){return t.gw},set mode(n){n!==od.yw&&n!==od.pw&&n!==od.mw||t.bw(n)},get forced(){return Boolean(t._w)},get type(){return t.ks},get readyState(){return dd(t.kw)},get cues(){return t.gw===od.mw?null:t.Tw.bl},get activeCues(){return t.gw===od.mw?null:t.Sw.bl},get src(){return t.Ew||""},addEventListener:function(t,i){var e=Zv(t,Jv);n.ic(e,i)},removeEventListener:function(t,i){var e=Zv(t,Jv);n.oc(e,i)}};return n=new Zr(t),t.ic(i,function(t){return n.nc(t.bl)}),t.ic(e,function(t){return n.nc(t)}),d.defineProperty(r,"constructor",{value:fd}),r}function ad(){}function vd(t){var n=nd(t);return d.defineProperty(n,"constructor",{value:ad}),n}function dd(t){return t}!function(t){t.mw="disabled",t.pw="hidden",t.yw="showing"}(od||(od={})),function(t){t.lw="error"}(sd||(sd={}));var ld=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i._l=function(){return vd(this)},i.rw=function(t){return t.gw===od.yw},n}(qv),wd=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i.rc=function(n){t.prototype.rc.call(this,n)},i.fc=function(n){t.prototype.fc.call(this,n)},n}(Qr),gd=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n}(wd),yd=function(t){function n(){return t.call(this,us._h)||this}return W(n,t),n}(tu),pd=function(t){function n(n){var i;return(i=t.call(this,us.gh)||this).currentSource=n,i}return W(n,t),n}(tu),md=function(){function t(){}return t.Rw=function(n,i){var e=t.Iw(n,i);return e?t.Dw(e):0},t.Nw=function(){return C.vl||"default"},t.Cw=function(){return C.dl||"unknown"},t.Iw=function(n,i){var e,r=null==(e=C.fl)?void 0:e.Sc(i),u=r&&JSON.parse(r);if(u&&u[n])return t.Aw(u,n,i)},t.Dw=function(t){var n=t.availableBandwidth;return n||0},t.Aw=function(n,i,e){if(!t.Ow(n,i))return n[i];t.Pw(n,i,e)},t.Pw=function(t,n,i){var e;delete t[n],null==(e=C.fl)||e.sh(i,JSON.stringify(t))},t.Ow=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.xw=function(t,n,i,e){var r;return je({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Lw=function(n){var i=t.Nw();t.Fw(i,"theoplayer-stored-network-info",n,tn())},t.Fw=function(n,i,e,r){var u,o,s=null==(u=C.fl)?void 0:u.Sc(i),c=s?JSON.parse(s):void 0,f=t.xw(c,n,e,r);null==(o=C.fl)||o.sh(i,JSON.stringify(f))},t.Bw=function(){var n=t.Nw();return t.Rw(n,"theoplayer-stored-network-info")},t}();var bd,_d,kd,Td,Sd,Ed,Rd="1ADD53F3";function Id(t){return{chromecast:function(t){return{appID:t&&t.appID?Jv(t.appID):Rd}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return bd.AUTO;case"manual":return bd.MANUAL;case"disabled":return bd.DISABLED;default:return bd.MANUAL}}(t?t.strategy:void 0)}}function Dd(t){var n,i=kd.Mw;return(n=t)&&dr(n,"mpd")&&(i=kd.Uw),function(t){return!!t&&dr(t,"m3u8")}(t)&&(i=kd.qw),i}function Nd(t){return ct(t)&&ct(t.ssai)&&"google-dai"===t.ssai.integration}function Cd(t){return ct(t)&&ht(t.integration)&&"verizon-media"===t.integration}function Ad(t){if(ht(t))return!t;if(Cd(t))return!t.id;if(Nd(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Od(t){return Boolean(ct(t)&&ht(t.src))}function Pd(t){return ht(t)||Od(t)||Nd(t)||Cd(t)}function xd(t){if(t){if(Pd(t))return Ad(t);for(var n=0;n<t.length;n++){if(!Ad(t[n]))return!1}return!0}return!0}function Ld(){return{crossOrigin:_d.Vw,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Fd(){return je({},Ld(),{src:void 0,type:kd.Mw,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Bd(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Td.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Sd.NONE;case"midroll-and-postroll":default:return Sd.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Gv(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Td.INSECURE;case"disabled":return Td.DISABLED;case"enabled":default:return Td.ENABLED}}(t.vpaidMode)),ot(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(ht)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Gv(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Md(t){if(!st(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];ft(r)&&n.push(r)}return n}function Ud(t){return ht(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(bd||(bd={})),function(t){t.Vw="",t.Hw="anonymous",t.jw="use-credentials"}(_d||(_d={})),function(t){t.Uw="application/dash+xml",t.qw="application/vnd.apple.mpegurl",t.zw="application/x-mpegurl",t.Mw="video/mp4",t.Ww="application/vnd.theoplayer.hesp+json",t.$w="application/vnd.theo.hesp+json"}(kd||(kd={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Td||(Td={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Sd||(Sd={})),function(t){t[t.Xw=0]="Xw",t[t.Gw=1]="Gw",t[t.Yw=2]="Yw",t[t.Kw=3]="Kw",t[t.Jw=4]="Jw"}(Ed||(Ed={}));var qd,Vd=function(t){function n(n,i){var e;return void 0===i&&(i=Ed.Xw),(e=t.call(this,us.mh)||this).currentTime=n,e.readyState=i,e}return W(n,t),n}(tu),Hd=function(t){function n(n){var i;return(i=t.call(this,us.Dh)||this).currentTime=n,i}return W(n,t),n}(tu),jd=function(t){function n(n){var i;return(i=t.call(this,us.Nh)||this).currentTime=n,i}return W(n,t),n}(tu);!function(t){t.Qw="canplay",t.Zw="canplaythrough",t.tg="loadeddata",t.ng="loadedmetadata",t.Ll="readystatechange",t.ig="waiting",t.eg="playing"}(qd||(qd={}));var zd,Wd,$d=[qd.Qw,qd.Zw,qd.tg,qd.ng,qd.Ll,qd.ig,qd.eg],Xd=function(t){function n(n,i){var e;return void 0===i&&(i=Ed.Gw),(e=t.call(this,qd.ng)||this).currentTime=n,e.readyState=i,e}return W(n,t),n}(tu),Gd=function(t){function n(n){var i;return(i=t.call(this,us.ph)||this).duration=n,i}return W(n,t),n}(tu),Yd=function(t){function n(n,i){var e;return(e=t.call(this,us.Ah)||this).currentTime=n,e.playbackRate=i,e}return W(n,t),n}(tu),Kd=function(t){function n(n,i){var e;return(e=t.call(this,us.Hh)||this).currentTime=n,e.currentProgramDateTime=i,e}return W(n,t),n}(tu),Jd=function(t){function n(n){var i;return(i=t.call(this,us.bh)||this).currentTime=n,i}return W(n,t),n}(tu),Qd=function(t){function n(n,i){var e;return void 0===i&&(i=Ed.Yw),(e=t.call(this,qd.tg)||this).currentTime=n,e.readyState=i,e}return W(n,t),n}(tu),Zd=function(t){function n(n){var i;return(i=t.call(this,us.Lh)||this).currentTime=n,i}return W(n,t),n}(tu),tl=function(t){function n(n){var i;return(i=t.call(this,us.xh)||this).currentTime=n,i}return W(n,t),n}(tu),nl=function(t){function n(n,i){var e;return(e=t.call(this,us.jh)||this).currentTime=n,e.volume=i,e}return W(n,t),n}(tu),il=function(t){function n(n,i){var e;return void 0===i&&(i=Ed.Kw),(e=t.call(this,qd.Qw)||this).currentTime=n,e.readyState=i,e}return W(n,t),n}(tu),el=function(t){function n(n,i){var e;return void 0===i&&(i=Ed.Jw),(e=t.call(this,qd.Zw)||this).currentTime=n,e.readyState=i,e}return W(n,t),n}(tu),rl=function(t){function n(n,i){var e;return(e=t.call(this,qd.Ll)||this).currentTime=n,e.readyState=i,e}return W(n,t),n}(tu),ul=function(t){function n(n){var i;return(i=t.call(this,sd.lw)||this).errorObject=n,i}return W(n,t),n.prototype._l=function(){return this},j(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Nv);function ol(t){switch(t){case zd.ALL:case zd.CONTENT:return t;default:return zd.NONE}}function sl(t){var n,i,e,r=zv(t||{});return r.libraryLocation&&(r.libraryLocation=zh(r.libraryLocation)),r.isEmbeddable=Boolean(r.isEmbeddable),r.cast=Id(r.cast),r.ads=Bd(r.ads),r.analytics=Md(r.analytics),r.mutedAutoplay=ol(r.mutedAutoplay),r.allowNativeFullscreen=Boolean(r.allowNativeFullscreen),r.allowMixedContent=Boolean(r.allowMixedContent),r.persistVolume=Boolean(r.persistVolume),r.liveOffset=(n=r.liveOffset,Number(n)||void 0),r.hlsDateRange=(i=r.hlsDateRange,Boolean(i)),r.retainPlaybackRateOnSourceChange=Boolean(r.retainPlaybackRateOnSourceChange),r.license=ht(e=r.license)?e:void 0,r.licenseUrl=function(t){if(!t)return;try{return zh(t)}catch(t){return void C.Po("Invalid 'licenseUrl', falling back to default URL")}}(r.licenseUrl),r}function cl(t){return{rg:t.rg,ug:t.ug,og:t.og,gc:t.gc,sg:t.sg,cg:t.cg,fg:t.fg,hg:t.hg,kw:t.kw,ag:t.ag,vg:t.vg,dg:t.dg,lg:t.lg}}function fl(t,n,i){if(n!==i){var e=n.rg,r=n.ug,u=n.cg,o=n.fg,s=n.hg,c=n.kw,f=n.ag,h=(n.dg,n.vg,n.lg),a=i.rg,v=i.ug,d=i.og,l=i.sg,w=i.cg,g=i.fg,p=i.hg,m=i.kw,b=i.ag,_=(i.dg,i.vg,i.lg);c!==Ed.Xw&&t.nc(new Vd(a,m)),g&&!o?t.nc(new Hd(a)):!g&&o&&t.nc(new jd(a)),m>=Ed.Gw&&t.nc(new Xd(a,m)),v===r||y(v)&&y(r)||t.nc(new Gd(v)),p!==s&&t.nc(new Yd(a,p)),a!==e&&t.nc(new Kd(a,void 0)),d&&t.nc(new Jd(a)),m>=Ed.Yw&&t.nc(new Qd(a,m)),b&&!f?t.nc(new Zd(a)):!b&&f&&t.nc(new tl(a)),_===h&&w===u||t.nc(new nl(a,_)),m>=Ed.Kw&&t.nc(new il(a,m)),m>=Ed.Jw&&t.nc(new el(a,m)),m!==c&&t.nc(new rl(a,m)),l&&t.nc(new ul(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(zd||(zd={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Wd||(Wd={}));var hl,al=400,vl=.25,dl={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},ll={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},wl={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},gl={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function yl(){var t;return t=C.Jo.mo?wl:C.Jo._o?"Android"===C.Qo.Zo?ll:dl:gl,C.Qo.ts?function(t){if(C.Qo.ts){var n=(al+250)/1e3,i=l.max(n,t.windowStart),e=l.max(i+vl,t.target),r=l.max(e+vl,t.windowEnd);return{windowStart:i,target:e,windowEnd:r,maxOffset:l.max(r+vl,t.maxOffset)}}return t}(t):t}function pl(t){return{goLive:function(){return t.wg()},get isLive(){return t.gg},get currentServerLiveTime(){return t.yg},get currentLatency(){return t.pg},get latency(){return t.mg},set latency(n){if(!function(t){if(!ct(t))return!1;var n=t,i=ut(n.target)&&"number"==typeof n.target&&ut(n.windowEnd)&&"number"==typeof n.windowEnd&&ut(n.windowStart)&&"number"==typeof n.windowStart&&ut(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new a("Invalid latency configuration");t.mg=n},get manifest(){return t.bg},get metrics(){return t._g},addEventListener:function(n,i){t.ic(bl(n),i)},removeEventListener:function(n,i){t.oc(bl(n),i)}}}!function(t){t[t.mw=0]="mw",t[t.kg=1]="kg",t[t.Tg=2]="Tg"}(hl||(hl={}));var ml=["analytic","golive","nogolive","bufferedchange"];function bl(t){var n=Zv(t,Jv);return(ht(n)?[n]:n).filter(function(t){return Pr(ml,t)})}var _l,kl=function(t){function n(){var n;return(n=t.call(this)||this).Ql=void 0,n.ml=void 0,n.Sg=yl(),n.Ql=void 0,n}W(n,t);var i=n.prototype;return i.nw=function(t){t.ic(ml,this.tc)},i.iw=function(t){t.oc(ml,this.tc)},i.wg=function(){var t;null==(t=this.Ql)||t.wg()},i.ce=function(){this.uc(),this.Ql&&this.iw(this.Ql),this.Ql=void 0},j(n,[{key:"ew",get:function(){return this.Ql},set:function(t){var n=this.Ql;t!==n&&(n&&this.iw(n),t&&this.nw(t),this.Ql=t,this.Ql&&(this.Ql.mg=this.Sg))}},{key:"bl",get:function(){return this.ml||(this.ml=pl(this)),this.ml}},{key:"yg",get:function(){var t;return null==(t=this.Ql)?void 0:t.yg}},{key:"pg",get:function(){var t;return null==(t=this.Ql)?void 0:t.pg}},{key:"gg",get:function(){return!!this.Ql&&this.Ql.gg}},{key:"mg",get:function(){return this.Sg},set:function(t){this.Ql&&(this.Ql.mg=t),this.Sg=t}},{key:"bg",get:function(){var t;return null==(t=this.Ql)?void 0:t.bg}},{key:"_g",get:function(){var t;return null==(t=this.Ql)?void 0:t._g}}]),n}(Qr),Tl=function(t){function n(n){var i;return(i=t.call(this)||this).Ql=void 0,i.Eg=[],i.Rg=!1,i.Ig=new cd,i.Dg=new cd,i.Ng=new ld,i.Cg=new kl,i.Ag=!1,i.Og(n),n.rc(i.tc),i.Ql=n,i.Ig.ew=n.Pg,i.Dg.ew=n.xg,i.Ng.ew=n.Lg,i.Cg.ew=n.Fg,i}W(n,t);var i=n.prototype;return i.ie=function(){this.Ql.ie()},i.ee=function(){this.Ql.ee()},i.Bg=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Xr(this.Eg.map(function(t){return t.Bg()})).then(x));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Mg=function(){return this.Ql.Mg()},i.Ug=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ur(i),t.next=3,this.Ql.Ug(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qg=function(){return this.ew.qg()},i.Vg=function(){this.ew.Vg()},i.Hg=function(){this.ew.Hg()},i.ae=function(){if(!this.Rg){for(var t=0,n=this.Eg;t<n.length;t++){n[t].ae()}this.Rg=!0}},i.jg=function(t){this.Ql.jg(t)},i.zg=function(){this.Ql.zg()},i.Wg=function(){this.Ql.Wg()},i.$g=function(){this.Ql.$g()},i.Xg=function(){return this.Ql.Xg()},i.Gg=function(){return this.Ql.Gg()},i.Yg=function(){for(var t=[],n=0,i=this.Eg;n<i.length;n++){var e=i[n];t.push.apply(t,e.Yg())}return t},i.Kg=function(t){for(var n=!1,i=0,e=this.Eg;i<e.length;i++){n=e[i].Kg(t)||n}return n},i.nc=function(n){this.Kg(n)||t.prototype.nc.call(this,n)},i.Og=function(t){this.Eg.push(t)},i.Jg=function(t){Ar(this.Eg,t)},i.Qg=function(t){if(t!==this.Ql){var n=this.Ql;n.zg(),n.fc(this.tc);var i=cl(this),e=this.Zg,r=this.Gg();this.Ql=t,this.Ig.ew=t.Pg,this.Dg.ew=t.xg,this.Ng.ew=t.Lg,this.Cg.ew=t.Fg,fl(this,i,this);var u=this.Zg;u!==e&&this.nc(new pd(u)),this.Gg()!==r&&this.nc(new yd),t.rc(this.tc),t.jg(n)}},i.ty=function(){},i.ce=function(){var t=D.coroutine(He.mark(function t(){var n,i,e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.uc(),this.Ql.zg(),n=0,i=this.Eg;case 3:if(!(n<i.length)){t.next=10;break}return e=i[n],t.next=7,e.ce();case 7:n++,t.next=3;break;case 10:this.Ig.ce(),this.Dg.ce(),this.Ng.ce(),this.Cg.ce();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yl=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Xr(this.Eg.map(function(t){return t.Yl()})).then(x));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"Pg",get:function(){return this.Ig}},{key:"Lg",get:function(){return this.Ng}},{key:"xg",get:function(){return this.Dg}},{key:"ny",get:function(){return this.Ql.ny}},{key:"iy",get:function(){return this.Ql.iy},set:function(t){this.Ql.iy=t}},{key:"Zg",get:function(){return this.Ql.Zg}},{key:"rg",get:function(){return this.Ql.rg},set:function(t){this.Ql.rg=t}},{key:"ug",get:function(){return this.Ql.ug}},{key:"ey",get:function(){return this.Ql.ey}},{key:"og",get:function(){return this.Ql.og}},{key:"gc",get:function(){return this.Ql.gc}},{key:"sg",get:function(){return this.Ql.sg}},{key:"Fg",get:function(){return this.Cg}},{key:"uy",get:function(){return this.Ql.uy}},{key:"_g",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,u=0,o={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},s=0;s<t.length;s++){var c=t[s];n+=c.oy,i+=c.sy,e+=c.hy,r+=c.ay,u+=c.vy,o.amountOfBufferedAudioSegments+=c.ly.amountOfBufferedAudioSegments,o.amountOfBufferedVideoSegments+=c.ly.amountOfBufferedVideoSegments}return{oy:n,sy:i,hy:e,ay:r,vy:u,ly:o}}(this.Eg.map(function(t){return t._g}))}},{key:"cg",get:function(){return this.Ql.cg},set:function(t){this.Ql.cg=t}},{key:"wy",get:function(){return this.Ql.wy}},{key:"fg",get:function(){return this.Ql.fg}},{key:"hg",get:function(){return this.Ql.hg},set:function(t){this.Ql.hg=t}},{key:"gy",get:function(){return this.Ql.gy}},{key:"yy",get:function(){return this.Ql.yy},set:function(t){this.Ql.yy=t}},{key:"kw",get:function(){return this.Ql.kw}},{key:"py",get:function(){return this.Ql.py}},{key:"ag",get:function(){return this.Ql.ag}},{key:"vg",get:function(){return this.Ql.vg}},{key:"dg",get:function(){return this.Ql.dg}},{key:"lg",get:function(){return this.Ql.lg},set:function(t){this.Ql.lg=t}},{key:"my",get:function(){return!1},set:function(t){}},{key:"ew",get:function(){return this.Ql},set:function(t){this.Qg(t)}}]),n}(gd),Sl=function(t){function n(n,i,e,r,u,o,s,c){var f;return(f=t.call(this,n,i,e)||this).url=void 0,f.status=void 0,f.statusText=void 0,f.response=void 0,f.systemCode=void 0,f.url=r,f.status=u,f.statusText=o,f.response=s,f.systemCode=c,f}return W(n,t),j(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Uo);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(_l||(_l={}));var El=function(t){function n(n,i,e,r){var u;return(u=t.call(this,i)||this).code=void 0,u.message=void 0,u.cause=void 0,u.systemCode=void 0,u.code=n,u.message=null!=i?i:"Unknown error",u.cause=e,u.systemCode=r,a.captureStackTrace&&a.captureStackTrace(un(u),u.constructor),u}return W(n,t),j(n,[{key:"name",get:function(){return"MediaError"}}]),n}(on);function Rl(t){Hv(t,"MEDIA_ERR_ABORTED",_l.ABORTED),Hv(t,"MEDIA_ERR_NETWORK",_l.NETWORK),Hv(t,"MEDIA_ERR_DECODE",_l.DECODE),Hv(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",_l.SRC_NOT_SUPPORTED),Hv(t,"MEDIA_ERR_ENCRYPTED",_l.ENCRYPTED)}function Il(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new El(_l.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new El(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return _l.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return _l.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return _l.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return _l.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return _l.NETWORK;if(i===n.ErrorCategory.SOURCE)return _l.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return _l.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return _l.ENCRYPTED;if(i===n.ErrorCategory.AD)return _l.ADVERTISEMENT_ERROR;return _l.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}Rl(El),Rl(El.prototype);var Dl,Nl=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i.$l=function(n){return t.prototype.$l.call(this,n)},i._l=function(){return ud(this)},n}(Bv);!function(t){t.$v="audio",t.Xv="video",t.vu="text",t.Gv="image",t.xv="unknown"}(Dl||(Dl={}));var Cl=function(){function t(){this.by=[],this.ml=void 0}var n=t.prototype;return n._y=function(t){this.by.push(t),this.ml&&this.ml.push(t.bl)},n.Wl=function(t){return this.by[t]},n.ky=function(t){return ot(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Pr(t,n[i]))return!1;return!0}(this.by,t):Pr(this.by,t)},j(t,[{key:"Kl",get:function(){return this.by}},{key:"Jl",get:function(){return this.by.length}},{key:"bl",get:function(){var t,n;return this.ml||(this.ml=((n=(t=this).Kl.map(function(t){return t.bl})).item=function(n){var i=0|n,e=t.Wl(i);return e&&e.bl||void 0},n)),this.ml}}]),t}(),Al=function(t){function n(n){var i;return(i=t.call(this,Cv.Ul)||this).kl=n,i}return W(n,t),n.prototype._l=function(){return new Ol(this.kl.bl)},n}(Av),Ol=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return W(n,t),n}(Ov),Pl=0;function xl(){return Pl++}var Ll=0;var Fl=0;var Bl=0;var Ml=function(t){function n(n){var i;return(i=t.call(this)||this).ks=Dl.$v,i.Ty=void 0,i.Sy=void 0,i.Ey=void 0,i.Ry=void 0,i.Iy=!1,i.by=void 0,i.ml=void 0,i.Ty=n,i.Ry=xl(),i.Sy=Bl+++"",i.Ey=n.label,i.by=new Cl,i.Dy(),i}W(n,t);var i=n.prototype;return i.Ny=function(t){this.ow=t},i.Dy=function(){this.ow=this.Cy},j(n,[{key:"uw",get:function(){}},{key:"ow",get:function(){return this.Iy},set:function(t){this.Iy!==t&&(this.Iy=t,this.Cy=t,this.nc(new Mv(this)))}},{key:"Cy",get:function(){return!!this.Ty.enabled},set:function(t){this.Ty.enabled=t}},{key:"bl",get:function(){return this.ml||(this.ml=ed(this)),this.ml}},{key:"sw",get:function(){return this.Sy}},{key:"cw",get:function(){return this.Ry}},{key:"fw",get:function(){return this.Ty.kind}},{key:"hw",get:function(){return this.Ey},set:function(t){t!==this.Ey&&(this.Ey=t,this.nc(new Al(this)))}},{key:"aw",get:function(){return this.Ty.language}},{key:"gw",get:function(){return this.ow?"enabled":"disabled"}},{key:"Ay",get:function(){return this.Ty}},{key:"vw",get:function(){return this.by}},{key:"dw",get:function(){},set:function(t){}}]),n}(Qr),Ul=0;var ql,Vl,Hl,jl,zl,Wl=function(t){function n(n){var i;return(i=t.call(this)||this).ks=Dl.Xv,i.Ty=void 0,i.Sy=void 0,i.Ry=void 0,i.Iy=!1,i.by=void 0,i.Ey=void 0,i.ml=void 0,i.Ty=n,i.Ry=xl(),i.Sy=Ul+++"",i.by=new Cl,i.Ey=n.label,i.Dy(),i}W(n,t);var i=n.prototype;return i.Dy=function(){this.ow=this.Cy},i.Ny=function(t){this.ow=t},j(n,[{key:"uw",get:function(){}},{key:"ow",get:function(){return this.Iy},set:function(t){this.Iy!==t&&(this.Iy=t,this.Cy=t,this.nc(new Mv(this)))}},{key:"Cy",get:function(){return!!this.Ty.selected},set:function(t){this.Ty.selected=t}},{key:"bl",get:function(){return this.ml||(this.ml=ed(this)),this.ml}},{key:"sw",get:function(){return this.Sy}},{key:"cw",get:function(){return this.Ry}},{key:"fw",get:function(){return"main"}},{key:"hw",get:function(){return this.Ey},set:function(t){t!==this.Ey&&(this.Ey=t,this.nc(new Al(this)))}},{key:"aw",get:function(){return this.Ty.language}},{key:"gw",get:function(){return this.ow?"enabled":"disabled"}},{key:"Ay",get:function(){return this.Ty}},{key:"vw",get:function(){return this.by}},{key:"dw",get:function(){},set:function(t){}}]),n}(Qr),$l=function(t){function n(n){var i;return(i=t.call(this,us.hh)||this).uy=n,i}return W(n,t),n}(tu);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(ql||(ql={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Vl||(Vl={})),function(t){t.Oy="cue",t.Py="region",t.xy="stylesheet"}(Hl||(Hl={})),function(t){t.Ly="Fy",t.By="My",t.Ul="if"}(jl||(jl={})),function(t){t.Ly="enter",t.By="exit",t.Ul="update"}(zl||(zl={}));var Xl=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Uy=i,e}return W(n,t),n}(Av),Gl=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return W(n,t),n}(Ov);function Yl(t){var n,i=[jl.Ly,jl.By,jl.Ul],e={get track(){return t.kl.bl},get id(){return t.sw},get uid(){return t.cw},get startTime(){return t.qy},get endTime(){return t.Vy},get content(){return t.Hy},addEventListener:function(t,i){var e=Zv(t,Jv);n.ic(e,i)},removeEventListener:function(t,i){var e=Zv(t,Jv);n.oc(e,i)}};return n=new Zr(e),t.ic(i,function(t){return n.nc(t.bl)}),e}function Kl(){}var Jl=.02;var Ql=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this)||this).Ry=void 0,o.Sy=void 0,o.jy=void 0,o.zy=void 0,o.ml=void 0,o.Wy=void 0,o.$y=!1,o.Xy=void 0,o.Gy=void 0,o.Yy="",o.Ky=-1,o.Ry=Fl++,o.jy=n,o.zy=i,o.Xy=e,o.Gy=Boolean(r),o.Sy=null!=u?u:"",o}W(n,t);var i=n.prototype;return i._l=function(){return Yl(this)},i.Jy=function(t){return this===t||$v(this,t)&&(i=t,Qt((n=this).qy,i.qy,Jl)&&Qt(n.Vy,i.Vy,Jl)&&n.sw===i.sw);var n,i},i.ce=function(){this.uc()},j(n,[{key:"qy",get:function(){return this.jy},set:function(t){this.jy=t}},{key:"Vy",get:function(){return this.zy},set:function(t){this.zy=t}},{key:"sw",get:function(){return this.Sy}},{key:"cw",get:function(){return this.Ry}},{key:"bl",get:function(){return this.ml||(this.ml=this._l()),this.ml}},{key:"Qy",get:function(){return this.$y},set:function(t){this.$y=t}},{key:"kl",get:function(){return this.Wy},set:function(t){this.Wy=t}},{key:"Hy",get:function(){return this.Xy},set:function(t){this.Xy=t}},{key:"Zy",get:function(){return this.Yy},set:function(t){this.Yy=t}},{key:"tp",get:function(){return this.Gy},set:function(t){this.Gy=t}}]),n}(Qr);var Zl=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,n,i,e,r,u)||this).np="auto",o.ip="start",o.ep="auto",o.rp="auto",o.op=void 0,o.sp=!0,o.Dc=100,o.cp="center",o.fp="",o}return W(n,t),n.prototype.Jy=function(n){return this===n||$v(this,n)&&t.prototype.Jy.call(this,n)&&(e=n,(i=this).Hy===e.Hy&&i.np===e.np&&i.ip===e.ip&&i.ep===e.ep&&i.rp===e.rp&&i.op===e.op&&i.sp===e.sp&&i.Dc===e.Dc&&i.cp===e.cp&&i.fp===e.fp);var i,e},j(n,[{key:"bl",get:function(){var t;return this.ml||(this.ml=jv(Yl(t=this),{get align(){return t.cp},get line(){return t.np},get lineAlign(){return t.ip},get position(){return t.ep},get positionAlign(){return t.rp},get region(){return t.op?t.op.bl:null},get size(){return t.Dc},get snapToLines(){return t.sp},get text(){return t.Hy},get vertical(){return t.fp}})),this.ml}},{key:"ks",get:function(){return Hl.Oy}}]),n}(Ql);var tw=function(){function t(t,n,i,e,r,u,o,s){this.ml=void 0,this.sw=t,this.Eo=n,this.hp=i,this.ap=e,this.vp=r,this.dp=u,this.lp=o,this.wp=s}return j(t,[{key:"bl",get:function(){var t;return this.ml||(this.ml=(t=this,{get id(){return t.sw},get identifier(){return t.sw},get lines(){return t.hp},get regionAnchorX(){return t.ap},get regionAnchorY(){return t.vp},get scrollValue(){return t.wp},get viewportAnchorX(){return t.dp},get viewportAnchorY(){return t.lp},get width(){return t.Eo}})),this.ml}},{key:"ks",get:function(){return Hl.Py}}]),t}(),nw=function(){function t(){}var n=t.prototype;return n.gp=function(t){return this.yp()*t},n.pp=function(t){return this.mp(t)>0},n.bp=function(t){return this.mp(t)>=0},n._p=function(t,n){return this.Tp(t).kp(n)},n.Jy=function(t){return 0===this.mp(t)},n.Sp=function(t){return this.mp(t)<0},n.kp=function(t){return this.mp(t)<=0},n.Ep=function(){return this.Rp()?this.Ip():this},n.Dp=function(t){return this._y(t.Ip())},n.Tp=function(t){return this.Dp(t).Ep()},t}();function iw(t,n){return t.Np()?n.Np()?kr.Ps:kr.xs:n.Np()?kr.Ls:t.Cp()?n.Cp()&&t.Rp()===n.Rp()?kr.Ps:t.Rp()?kr.Ls:kr.xs:n.Rp()?kr.xs:kr.Ls}var ew=function(){function t(t,n){this.Ap=void 0,this.Op=void 0,this.Ap=t,this.Op=n}t.Pp=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.xp=function(n){return n.unsigned?new t(n,Yt.UZERO):new t(n,n.isNegative()?Yt.NEG_ONE:Yt.ZERO)},t.Lp=function(n,i){if(y(n))return i?t.Fp:t.Bp;if(i){if(n<0)return t.Fp;if(n>=3.402823669209385e38)return t.Mp}else{if(n<=-1.7014118346046923e38)return t.Up;if(n+1>=1.7014118346046923e38)return t.qp}return n<0?t.Lp(-n,i).Ip():t.Pp(Yt.fromNumber(n%0x10000000000000000),Yt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Vp=function(){return this.Op.unsigned},n.Hp=function(){return this.Ap.isZero()&&this.Op.isZero()},n.Rp=function(){return this.Op.isNegative()},n.jp=function(){return this.Vp()?t.Pp(this.Ap,this.Op,!1):this},n.zp=function(){return this.Vp()?this:t.Pp(this.Ap,this.Op,!0)},n.Wp=function(){return this.Ap},n.yp=function(){return this.Rp()?-this.Ip().yp():0x10000000000000000*this.Op.toNumber()+this.Ap.toUnsigned().toNumber()},n.$p=function(){return this.Ap.toInt()},n.Jy=function(t){return(this.Vp()===t.Vp()||this.Op.getHighBits()>>>31!=1||t.Op.getHighBits()>>>31!=1)&&(this.Op.toUnsigned().eq(t.Op.toUnsigned())&&this.Ap.toUnsigned().eq(t.Ap.toUnsigned()))},n.mp=function(t){if(this.Jy(t))return kr.Ps;var n=this.Rp(),i=t.Rp();if(n&&!i)return kr.Ls;if(!n&&i)return kr.xs;if(!this.Vp())return this.Dp(t).Rp()?kr.Ls:kr.xs;var e=this.zp(),r=t.zp(),u=r.Op.comp(e.Op);return u>0||0===u&&r.Ap.gt(e.Ap)?kr.Ls:kr.xs},n.Sp=function(t){return this.mp(t)<0},n.kp=function(t){return this.mp(t)<=0},n.Xp=function(t){return this.mp(t)>0},n.Gp=function(t){return this.mp(t)>=0},n.Yp=function(){return new t(this.Ap.not(),this.Op.not())},n.Kp=function(n){return new t(this.Ap.and(n.Ap),this.Op.and(n.Op))},n.Jp=function(n){return new t(this.Ap.or(n.Ap),this.Op.or(n.Op))},n.Qp=function(n){var i=127&n;return 0===i?this:i<64?t.Pp(this.Ap.shl(i),this.Op.shl(i).or(this.Ap.shru(64-i)),this.Vp()):t.Pp(Yt.ZERO,this.Ap.shl(i-64),this.Vp())},n.Zp=function(n){var i=127&n;return 0===i?this:i<64?t.Pp(this.Ap.shru(i).or(this.Op.shl(64-i)),this.Op.shr(i),this.Vp()):t.Pp(this.Op.shr(i-64),this.Op.isNegative()?Yt.NEG_ONE:Yt.ZERO,this.Vp())},n.tm=function(n){var i=127&n;return 0===i?this:i<64?t.Pp(this.Ap.shru(i).or(this.Op.shl(64-i)),this.Op.shru(i),this.Vp()):64===i?t.Pp(this.Op,Yt.ZERO,this.Vp()):t.Pp(this.Op.shru(i-64),Yt.ZERO,this.Vp())},n._y=function(n){var i=this.Op.high>>>16,e=65535&this.Op.high,r=this.Op.low>>>16,u=65535&this.Op.low,o=this.Ap.high>>>16,s=65535&this.Ap.high,c=this.Ap.low>>>16,f=65535&this.Ap.low,h=n.Op.high>>>16,a=65535&n.Op.high,v=n.Op.low>>>16,d=65535&n.Op.low,l=n.Ap.high>>>16,w=65535&n.Ap.high,g=n.Ap.low>>>16,y=0,p=0,m=0,b=0,_=0,k=0,T=0,S=0;T+=(S+=f+(65535&n.Ap.low))>>>16,S&=65535,k+=(T+=c+g)>>>16,T&=65535,_+=(k+=s+w)>>>16,k&=65535,b+=(_+=o+l)>>>16,_&=65535,m+=(b+=u+d)>>>16,b&=65535,p+=(m+=r+v)>>>16,m&=65535,y+=(p+=e+a)>>>16,p&=65535,y+=i+h,y&=65535;var E=this.Vp(),R=Yt.fromBits(m<<16|b,y<<16|p,E),I=Yt.fromBits(T<<16|S,_<<16|k,E);return t.Pp(I,R,E)},n.Dp=function(t){return this._y(t.Ip())},n.Ip=function(){return this.Yp()._y(t.nm)},n.im=function(n){if(this.Hp()||n.Hp())return this.Vp()?t.Fp:t.Bp;if(this.Rp())return n.Rp()?this.Ip().im(n.Ip()):this.Ip().im(n).Ip();if(n.Rp())return this.im(n.Ip()).Ip();if(this.Op.isZero()&&0===this.Ap.high&&n.Op.isZero()&&0===n.Ap.high)return t.xp(this.Ap.multiply(n.Ap));var i=Yt.fromBits(4294967295,0,!0),e=this.Ap.and(i),r=this.Ap.shru(32),u=this.Op.and(i),o=this.Op.shru(32),s=n.Ap.and(i),c=n.Ap.shru(32),f=n.Op.and(i),h=n.Op.shru(32),a=Yt.UZERO,v=Yt.UZERO,d=Yt.UZERO,l=Yt.UZERO;a=a.add(e.mul(s)),v=v.add(a.shru(32)),a=a.and(i),v=v.add(r.mul(s)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(c)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(s)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(f)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(o.mul(s)).add(u.mul(c)).add(r.mul(f)).add(e.mul(h)).and(i);var w=Yt.fromBits(a.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Yt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Pp(w,g,this.Vp())},n.rm=function(n){var i,e,r=n;if(r.Hp())throw new RangeError("division by zero");if(this.Hp())return this.Vp()?[t.Fp,t.Fp]:[t.Bp,t.Bp];if(this.Vp()){if(r.Vp()||(r=r.zp()),r.Xp(this))return[t.Fp,this];if(r.Xp(this.tm(1)))return[e=t.um,i=this.Dp(r)];e=t.Fp}else{if(this.Jy(t.Up)){if(r.Jy(t.nm)||r.Jy(t.om))return[t.Up,t.Bp];if(r.Jy(t.Up))return[t.nm,t.Bp];var u=this.Zp(1).sm(r).Qp(1);return u.Jy(t.Bp)?e=r.Rp()?t.nm:t.om:(i=this.Dp(r.im(u)),e=u._y(i.sm(r))),[e,i=this.Dp(r.im(e))]}if(r.Jy(t.Up))return this.Vp()?[t.Fp,this]:[t.Bp,this];if(this.Rp()){if(r.Rp())return this.Ip().rm(r.Ip());var o=this.Ip().rm(r);return e=o[0],i=o[1],[e.Ip(),i.Ip()]}if(r.Rp()){var s=this.rm(r.Ip());return e=s[0],i=s[1],[e.Ip(),i.Ip()]}e=t.Bp}for(i=this;i.Gp(r);){for(var c=l.max(1,l.floor(i.yp()/r.yp())),f=l.ceil(l.log(c)/l.LN2),h=f<=48?1:l.pow(2,f-48),a=t.Lp(c),v=a.im(r);v.Rp()||v.Xp(i);)c-=h,v=(a=t.Lp(c,this.Vp())).im(r);a.Hp()&&(a=t.nm),e=e._y(a),i=i.Dp(v)}return[e,i]},n.sm=function(t){return this.rm(t)[0]},n.cm=function(t){return this.rm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Hp())return"0";if(this.Rp()){if(this.Jy(t.Up)){var e=t.Lp(i),r=this.sm(e),u=r.im(e).Dp(this);return r.toString(i)+u.$p().toString(i)}return"-"+this.Ip().toString(i)}for(var o=t.Lp(l.pow(i,6),this.Vp()),s=this,c="";;){var f=s.sm(o),h=(s.Dp(f.im(o)).$p()>>>0).toString(i);if((s=f).Hp())return h+c;for(;h.length<6;)h="0"+h;c=String(h)+c}},t}();ew.Bp=ew.xp(Yt.ZERO),ew.Fp=ew.xp(Yt.UZERO),ew.nm=ew.xp(Yt.ONE),ew.um=ew.xp(Yt.UONE),ew.om=ew.xp(Yt.NEG_ONE),ew.qp=ew.Pp(Yt.NEG_ONE,Yt.MAX_VALUE,!1),ew.Mp=ew.Pp(Yt.MAX_UNSIGNED_VALUE,Yt.MAX_UNSIGNED_VALUE,!0),ew.Up=ew.Pp(Yt.ZERO,Yt.MIN_VALUE,!1);var rw=function(){function t(t,n){void 0===n&&(n=1),this.fm=void 0,this.hm=void 0,this.fm=t,this.hm=n}t.am=function(n){return new t(l.ceil(n.fm),n.hm)},t.vm=function(n){return new t(l.floor(n.fm),n.hm)},t.dm=function(t,n){return t.bp(n)?t:n},t.lm=function(t,n){return t.kp(n)?t:n};var n=t.prototype;return n._y=function(n){return this.hm>=n.hm?new t(this.fm+n.wm(this.hm).fm,this.hm):new t(this.wm(n.hm).fm+n.fm,n.hm)},n.pp=function(t){return t.Sp(this)},n.bp=function(t){return t.kp(this)},n.Tp=function(n){return this.hm>=n.hm?new t(l.abs(this.fm-n.wm(this.hm).fm),this.hm):n.Tp(this)},n._p=function(t,n){return this.Tp(t).kp(n)},n.mp=function(t){return i=t,(n=this).hm>=i.hm?Nr(n.fm,i.wm(n.hm).fm):Nr(n.wm(i.hm).fm,i.fm);var n,i},n.Jy=function(t){return 0===this.mp(t)},n.Sp=function(t){return this.mp(t)<0},n.kp=function(t){return this.mp(t)<=0},n.wm=function(n){return new t(this.fm*(n/this.hm),n)},n.Dp=function(n){return this.hm>=n.hm?new t(this.fm-n.wm(this.hm).fm,this.hm):new t(this.wm(n.hm).fm-n.fm,n.hm)},n.gm=function(n){return new t(this.fm*n,this.hm)},j(t,[{key:"Cp",get:function(){return!isFinite(this.fm)}},{key:"ym",get:function(){return this.fm/this.hm}}]),t}();rw.pm=new rw(1/6,1),rw.Bp=new rw(0),rw.mm=new rw(1/0),rw.bm=1e6;var uw=function(t){function n(n,i){var e;return(e=t.call(this)||this).Tu=void 0,e.hm=void 0,e.Tu=n.toSigned(),e.hm=i>>>0,e}W(n,t),n._m=function(t,i){return void 0===i&&(i=1e6),n.Lp(t*i,i)},n.Lp=function(t,i){return y(t)?n.km:t===1/0?n.Tm:t===-1/0?n.Sm:new n(Yt.fromNumber(t),i)},n.xp=function(t,i){return new n(t,i)},n.Em=function(t){return n._m(t.ym,1e6)},n.Rm=function(t){return new n(Yt.fromNumber(t.getTime()),1e3)},n.dm=function(t,n){return t.bp(n)?t:n},n.lm=function(t,n){return t.kp(n)?t:n},n.Im=function(t,i,e){return n.dm(i,n.lm(e,t))};var i=n.prototype;return i.Rp=function(){return this.Tu.isNegative()},i.Hp=function(){return 0!==this.hm&&this.Tu.isZero()},i.Cp=function(){return 0===this.hm&&!this.Tu.isZero()},i.Np=function(){return 0===this.hm&&this.Tu.isZero()},i.yp=function(){if(0===this.hm)return this.Tu.isZero()?NaN:this.Tu.isNegative()?-1/0:1/0;var t=this.Tu.divide(this.hm),n=this.Tu.subtract(t.multiply(this.hm));return t.toNumber()+n.toNumber()/this.hm},i.Wp=function(){if(0===this.hm)throw new a("Failed to convert timestamp");return this.Tu},i.Dm=function(){return new Date(0===this.hm?NaN:this.wm(1e3).Tu.toNumber())},i.Nm=function(){return new rw(0===this.hm?this.yp():this.Tu.toNumber(),this.hm)},i.wm=function(t,i){void 0===i&&(i=cw.Cm);var e=this.hm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t.rm(n),r=e[0],u=e[1];if(u.Hp())return r;if(i===cw.Cm)return u.Rp()?r.Dp(ew.nm):r;if(i===cw.Am)return u.Rp()?r:r._y(ew.nm);var o=u.im(ew.Lp(2));return o.Rp()?o.Ip().Sp(n)?r:r.Dp(ew.nm):o.Sp(n)?r:r._y(ew.nm)}(ew.xp(this.Tu).im(ew.Lp(t/r)),ew.Lp(e/r),i).Wp(),t)},i.mp=function(t){if(this===t)return kr.Ps;if(0===this.hm||0===t.hm)return iw(this,t);if(this.Hp())return t.Hp()?kr.Ps:t.Rp()?kr.xs:kr.Ls;if(t.Hp())return this.Rp()?kr.Ls:kr.xs;var n=l.min(this.hm,t.hm),i=this.wm(n,cw.Om).Tu,e=t.wm(n,cw.Om).Tu;return i.compare(e)},i.Ip=function(){return 0===this.hm?ow(this):new n(this.Tu.negate(),this.hm)},i._y=function(t){if(0===this.hm||0===t.hm)return sw(this,t);if(this.Hp())return t;if(t.Hp())return this;var i=l.max(this.hm,t.hm),e=this.wm(i,cw.Om),r=t.wm(i,cw.Om);return new n(e.Tu.add(r.Tu),i)},i.im=function(t){if(this.Np()||y(t))return n.km;if(this.Cp()||!isFinite(t)){if(this.Hp()||0===t)return n.km;var i=this.Rp()?n.Sm:n.Tm;return t<0?i.Ip():i}return this.Hp()?this:new n(0===t?Yt.ZERO:this.Tu.multiply(t),this.hm)},i.sm=function(t){if(this.Np()||y(t))return n.km;if(this.Cp())return isFinite(t)?0===t?1/t<0?this.Ip():this:t<0?this.Ip():this:n.km;if(!isFinite(t))return new n(Yt.ZERO,this.hm);if(this.Hp())return 0===t?n.km:new n(Yt.ZERO,this.hm);if(0===t){var i=this.Rp()?n.Sm:n.Tm;return 1/t<0?i.Ip():i}return new n(this.Tu.divide(t),this.hm)},i.Pm=function(){return[this.Tu.low,this.Tu.high,this.hm]},n}(nw);function ow(t){return t.Np()?t:t.Rp()?uw.Tm:uw.Sm}function sw(t,n){return t.Np()||n.Np()?uw.km:t.Cp()&&n.Cp()?t.Rp()===n.Rp()?t:uw.km:t.Cp()?t:n}uw.Bp=new uw(Yt.ZERO,1e6),uw.km=new uw(Yt.ZERO,0),uw.Tm=new uw(Yt.ONE,0),uw.Sm=new uw(Yt.NEG_ONE,0);var cw,fw=function(t){function n(n,i){var e;return(e=t.call(this)||this).Tu=void 0,e.hm=void 0,e.Tu=BigInt.asIntN(64,n),e.hm=i>>>0,e}W(n,t),n._m=function(t,i){return void 0===i&&(i=1e6),n.Lp(t*i,i)},n.Lp=function(t,i){return y(t)?n.km:t===1/0?n.Tm:t===-1/0?n.Sm:new n(BigInt(l.floor(t)),i)},n.xp=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Em=function(t){return n._m(t.ym,1e6)},n.Rm=function(t){return n.Lp(t.getTime(),1e3)},n.dm=function(t,n){return t.bp(n)?t:n},n.lm=function(t,n){return t.kp(n)?t:n},n.Im=function(t,i,e){return n.dm(i,n.lm(e,t))};var i=n.prototype;return i.Rp=function(){return this.Tu<BigInt(0)},i.Hp=function(){return 0!==this.hm&&this.Tu===BigInt(0)},i.Cp=function(){return 0===this.hm&&this.Tu!==BigInt(0)},i.Np=function(){return 0===this.hm&&this.Tu===BigInt(0)},i.yp=function(){if(0===this.hm)return this.Tu===BigInt(0)?NaN:this.Tu<BigInt(0)?-1/0:1/0;var t=this.Tu/BigInt(this.hm),n=this.Tu-t*BigInt(this.hm);return Number(t)+Number(n)/this.hm},i.Wp=function(){if(0===this.hm)throw new a("Failed to convert timestamp");return this.xm()},i.xm=function(){var t=this.Tu&BigInt(4294967295),n=this.Tu>>BigInt(32)&BigInt(4294967295);return Yt.fromBits(Number(t),Number(n))},i.Dm=function(){return new Date(0===this.hm?NaN:Number(this.wm(1e3).Tu))},i.Nm=function(){return new rw(0===this.hm?this.yp():Number(this.Tu),this.hm)},i.wm=function(t,i){void 0===i&&(i=cw.Cm);var e=this.hm;if(e===t)return this;if(0===e)return this;var r=Zt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===cw.Cm)return r<BigInt(0)?e-BigInt(1):e;if(i===cw.Am)return r<BigInt(0)?e:e+BigInt(1);var u=r*BigInt(2);return u<BigInt(0)?-u<n?e:e-BigInt(1):u<n?e:e+BigInt(1)}(this.Tu*BigInt(t/r),BigInt(e/r),i),t)},i.mp=function(t){if(this===t)return kr.Ps;if(0===this.hm||0===t.hm)return iw(this,t);if(this.Hp())return t.Hp()?kr.Ps:t.Rp()?kr.xs:kr.Ls;if(t.Hp())return this.Rp()?kr.Ls:kr.xs;var n=l.min(this.hm,t.hm),i=this.wm(n,cw.Om).Tu,e=t.wm(n,cw.Om).Tu;return i>e?kr.xs:i<e?kr.Ls:kr.Ps},i.Ip=function(){return 0===this.hm?hw(this):new n(-this.Tu,this.hm)},i._y=function(t){if(0===this.hm||0===t.hm)return aw(this,t);if(this.Hp())return t;if(t.Hp())return this;var i=l.max(this.hm,t.hm),e=this.wm(i,cw.Om),r=t.wm(i,cw.Om);return new n(e.Tu+r.Tu,i)},i.im=function(t){if(this.Np()||y(t))return n.km;if(this.Cp()||!isFinite(t)){if(this.Hp()||0===t)return n.km;var i=this.Rp()?n.Sm:n.Tm;return t<0?i.Ip():i}return this.Hp()?this:new n(0===t?BigInt(0):this.Tu*BigInt(t),this.hm)},i.sm=function(t){if(this.Np()||y(t))return n.km;if(this.Cp())return isFinite(t)?0===t?1/t<0?this.Ip():this:t<0?this.Ip():this:n.km;if(!isFinite(t))return new n(BigInt(0),this.hm);if(this.Hp())return 0===t?n.km:new n(BigInt(0),this.hm);if(0===t){var i=this.Rp()?n.Sm:n.Tm;return 1/t<0?i.Ip():i}return new n(this.Tu/BigInt(t),this.hm)},i.Pm=function(){var t=this.xm();return[t.low,t.high,this.hm]},j(n,null,[{key:"Bp",get:function(){return n.Lm||(n.Lm=new n(BigInt(0),1e6)),n.Lm}},{key:"km",get:function(){return n.Fm||(n.Fm=new n(BigInt(0),0)),n.Fm}},{key:"Tm",get:function(){return n.Bm||(n.Bm=new n(BigInt(1),0)),n.Bm}},{key:"Sm",get:function(){return n.Mm||(n.Mm=new n(BigInt(-1),0)),n.Mm}}]),n}(nw);function hw(t){return t.Np()?t:t.Rp()?fw.Tm:fw.Sm}function aw(t,n){return t.Np()||n.Np()?fw.km:t.Cp()&&n.Cp()?t.Rp()===n.Rp()?t:fw.km:t.Cp()?t:n}fw.Lm=void 0,fw.Fm=void 0,fw.Bm=void 0,fw.Mm=void 0,function(t){t[t.Cm=0]="Cm",t[t.Am=1]="Am",t[t.Om=2]="Om"}(cw||(cw={}));var vw,dw,lw,ww,gw=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?fw:uw,yw=9e4,pw=l.pow(2,33),mw=(gw.Lp(pw,yw).sm(2),{Um:0,qm:1/0,Vm:0}),bw=6,_w=["WEBVTT ","WEBVTT\t","WEBVTT\n"],kw=[" ","\t","\n","\f","\r"],Tw=/^\d*$/,Sw=/.*[0-9]+.*/,Ew=/^[\d.-]+$/,Rw=/(^\.|\.$)/,Iw=/(\D\.|\.\D)/;function Dw(t,n){void 0===n&&(n=mw);var i={Tw:[],Hm:[],jm:[]},e=Nw(t),r=new co;if(Uw(e),Cw(e,function(t){return"\n"!==t},r),r.Pc>=e.length)return i;(r.Cc(1),"\n"!==e.charAt(r.Pc))?xw(Aw(e,r,!1,!0,i,n),i):r.Cc(1);for(Cw(e,function(t){return"\n"===t},r);r.Pc<e.length;){xw(Aw(e,r,!1,!1,i,n),i),Cw(e,function(t){return"\n"===t},r)}return i}function Nw(t){var n=vr(t,"\0"," "),i=vr(n,"\r\n","\n");return vr(i,"\r","\n")}function Cw(t,n,i){for(var e=i.Pc;i.Pc<t.length&&n(t.charAt(i.Pc));)i.Cc(1);return t.substring(e,i.Pc)}function Aw(t,n,i,e,r,u){for(var o,s=0,c=n.Pc,f="",h=!1,a=!1,v=null,d=null,l=null;!h;)if(o=Cw(t,function(t){return"\n"!==t},n),s++,n.Pc>=t.length?h=!0:n.Cc(1),dr(o,"--\x3e")){if(e||1!==s&&(2!==s||a)){n.Ac(c);break}a=!0,c=n.Pc,v=new Zl(0,0,"",!1,f);try{Lw(o,r.Hm,v,u),f=""}catch(t){C.Po(t),v=null}}else{if(""===o)break;e&&lr(o,"X-TIMESTAMP-MAP")&&(r.zm=Ow(o)),e||2!==s||i||(gr("STYLE",f.replace(/ /g,""))?(d={ks:Hl.xy},f=""):gr("REGION",f.replace(/ /g,""))&&(l=new tw("",100,3,0,100,0,100,""),f="")),f&&(f+="\n"),f+=o,c=n.Pc}if(v)return v.Hy=f,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&dr(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var u=r.indexOf(":"),o=r.substring(0,u),s=r.substring(u+1,r.length);switch(o.toUpperCase()){case"ID":Kw(s,n);break;case"WIDTH":Zw(s,n);break;case"LINES":Qw(s,n);break;case"REGIONANCHOR":var c=Yw(s);c&&(n.ap=c[0],n.vp=c[1]);break;case"VIEWPORTANCHOR":var f=Yw(s);f&&(n.dp=f[0],n.lp=f[1]);break;case"SCROLL":Jw(s,n)}}}}(f,l),l;return null}function Ow(t){var n,i,e=t.split("=")[1].trim().split(","),r=Pw(e[0].trim(),"MPEGTS")?e[0]:e[1],u=Pw(e[0].trim(),"LOCAL")?e[0]:e[1];return{Wm:(i=Number(r.split(/:(.*)/)[1].trim())||0,gw.Lp(i,yw)),$m:gw._m(null!=(n=Mw(u.split(/:(.*)/)[1].trim(),new co))?n:0)}}function Pw(t,n){return lr(t,n)}function xw(t,n){t&&function(t){return t.ks===Hl.Oy}(t)?n.Tw.push(t):t&&function(t){return t.ks===Hl.Py}(t)?n.Hm.push(t):t&&function(t){return t.ks===Hl.xy}(t)&&n.jm.push(t)}function Lw(t,n,i,e){var r=new co;if(qw(t,r),i.qy=Fw(Mw(t,r),e),qw(t,r),"--\x3e"!==t.substring(r.Pc,r.Pc+3))throw a("Something went wrong with parsing a WebVTT Cue");r.Cc(3),qw(t,r),i.Vy=Fw(Mw(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var u=e[r];if(0!==u.length&&dr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var o=u.indexOf(":"),s=u.substring(0,o),c=u.substring(o+1,u.length);switch(s.toUpperCase()){case"REGION":Ww(c,n,i);break;case"VERTICAL":Xw(c,n);break;case"D":Gw(c,n);break;case"LINE":case"L":jw(c,n);break;case"POSITION":case"T":zw(c,n);break;case"SIZE":case"S":$w(c,n);break;case"ALIGN":case"A":Hw(c,n)}}}}(t.substring(r.Pc,t.length),i,n)}function Fw(t,n){return t+n.Um}function Bw(t){return/^[0-9]$/.test(t)}function Mw(t,n){var i,e,r,u=vr(t,",","."),o=!1;if(n.Pc>=u.length||!Bw(u.charAt(n.Pc)))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");var s=Cw(u,Bw,n),c=w(s,10);if((s.length>2||c>59)&&(o=!0),n.Pc>=u.length||":"!==u.charAt(n.Pc))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.Cc(1);var f=Cw(u,Bw,n);if(2!==f.length)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");var h=w(f,10);if(o||n.Pc<u.length&&":"===u.charAt(n.Pc)){if(n.Pc>=u.length||":"!==u.charAt(n.Pc))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.Cc(1);var v=Cw(u,Bw,n);if(2!==f.length)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");i=c,e=h,r=w(v,10)}else i=0,e=c,r=h;if(n.Pc>=u.length||"."!==u.charAt(n.Pc))throw new a("Something went wrong with parsing a WebVTT Cue timestamp");n.Cc(1);var d=Cw(u,Bw,n),l=w(d,10);if(h>59||r>59)throw new a("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function Uw(t){if(t.length<bw)return!1;for(var n=0;n<_w.length;n++){if(lr(t,_w[n]))return!0}return!1}function qw(t,n){for(;n.Pc<t.length&&(i=t.charAt(n.Pc),Pr(kw,i));)n.Cc(1);var i}function Vw(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function Hw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.cp=i;break;case"middle":n.cp="center"}}function jw(t,n){var i=t,e="";if(dr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length)),Sw.test(i)){var r;if(wr(i,"%")){var u=Vw(i);if(null===u)return;r=u}else{if(!Ew.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Iw.test(t)||Rw.test(t))return;if(r=g(t),y(r))return}switch(n.np=r,n.sp=wr(i,"%"),e=t.toLowerCase()){case"start":case"center":case"end":n.ip=e;break;case"middle":n.ip="center"}}}function zw(t,n){var i=t,e="";dr(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length));var r=Vw(i);if(null!==r)switch(n.ep=r,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.rp=e;break;case"start":n.rp="line-left";break;case"middle":n.rp="center";break;case"end":n.rp="line-right"}}function Ww(t,n,i){for(var e=i.length-1;e>=0;e--)if(i[e].sw===t)return void(n.op=i[e])}function $w(t,n){var i=Vw(t);null!==i&&(n.Dc=i)}function Xw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.fp="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.fp="lr";break;default:n.fp=""}}function Gw(t,n){"VERTICAL"===t.toUpperCase()?n.fp="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.fp="lr")}function Yw(t){if(t.indexOf(",")>=0){var n=Vw(t.substring(0,t.indexOf(","))),i=Vw(t.substring(t.indexOf(",")+1,t.length));return[Jt(n||0,0,100),Jt(i||100,0,100)]}return null}function Kw(t,n){n.sw=t}function Jw(t,n){"up"===t.toLowerCase()&&(n.wp="up")}function Qw(t,n){Tw.test(t)&&(n.hp=w(t))}function Zw(t,n){var i=Vw(t);null!==i&&(n.Eo=i)}!function(t){t.Xm="moov",t.Gm="mvhd",t.Ym="trak",t.Km="tkhd",t.Jm="mdia",t.Qm="mdhd",t.Zm="hdlr",t.nb="minf",t.ib="stbl",t.eb="stsd",t.ub="stsc",t.ob="mvex",t.sb="trex",t.cb="avc1",t.fb="avcC",t.hb="hev1",t.ab="hvc1",t.vb="hvcC",t.lb="pasp",t.wb="mp4a",t.gb="esds",t.yb="wvtt",t.pb="vttC",t.mb="vlab",t.bb="enca",t._b="encv",t.kb="moof",t.Tb="mfhd",t.Sb="traf",t.Eb="tfhd",t.Rb="trun",t.Ib="tfdt",t.Db="mdat",t.Nb="pssh",t.Cb="emsg",t.Ab="sidx",t.Ob="styp",t.Pb="ftyp",t.xb="sinf",t.Lb="frma"}(vw||(vw={})),function(t){t.Xv="vide",t.$v="soun",t.Fb="subt",t.Bb="hint",t.Mb="meta",t.Ub="auxv"}(dw||(dw={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(lw||(lw={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(ww||(ww={}));var tg=function(){function t(t,n){this.Vu=void 0,this.qb=void 0,this.Vu=t,this.qb=n}var n=t.prototype;return n.Vb=function(){return Ou(this.Vu,this.qb)},n.Hb=function(){return Fu(this.Vu,this.qb)},n.jb=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.Pc,i);return n.Cc(2),e}(this.Vu,this.qb)},n.zb=function(){return Mu(this.Vu,this.qb)},n.Wb=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.Pc,i);return n.Cc(4),e}(this.Vu,this.qb)},n.$b=function(){return qu(this.Vu,this.qb)},n.Xb=function(t){return xu(this.Vu,this.qb,t)},n.Gb=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Mu(t,n));return e}(this.Vu,this.qb,t)},n.Yb=function(t){return ju(this.Vu,this.qb,t)},n.Kb=function(){return Qu(this.Vu,this.qb)},n.Jb=function(t){this.qb.Cc(t)},n.Oc=function(){return new t(this.Vu,this.qb.Oc())},t}(),ng=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qb=n,e.Zb=i,e}return W(n,t),j(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(sn),ig=function(){function t(){}return t.t_=function(n){var i=n.Vu,e=n.qb,r=t.n_(i,e,!1);if(!r.i_)throw new ng(e.Pc,r.Ou);return r.Ou},t.n_=function(n,i,e){for(var r=[];i.Pc<n.byteLength;){var u=t.e_(n,i,e);if(!u.i_)return{i_:!1,Ou:r};r.push(u.r_)}return{i_:!0,Ou:r}},t.u_=function(n,i){var e=t.e_(n,i,!1);if(!e.i_)throw new ng(i.Pc);return e.r_},t.o_=function(n,i){for(var e=n.Vu,r=n.qb;r.Pc<e.byteLength;){var u=t.e_(e,r,!1);if(!u.i_)return;if(u.r_.ks===i)return u.r_}},t.e_=function(n,i,e){var r=i.Pc,u=t.s_(n,i);if(!u.i_)return u;var o=u.c_,s=o.Dc;if(0===s){if(e)return i.Ac(r),{i_:!1,f_:1/0};s=n.byteLength-r}var c=r+s;if(c>n.byteLength){var f=c;return i.Ac(r),{i_:!1,f_:f}}var h,a,v,d={ks:o.ks,Pc:r,Vu:new tg((h=n,a=r,v=c,void 0===a&&(a=0),void 0===v&&(v=h.byteLength),new DataView(h.buffer,h.byteOffset+a,v-a)),new co(o.h_))};return i.Ac(c),{i_:!0,r_:d}},t.s_=function(t,n){var i=n.Pc;if(!Lu(t,n,8))return{i_:!1,f_:n.Pc+8};var e=Mu(t,n),r=ju(t,n,4);if(1===e){if(!Lu(t,n,8)){var u=n.Pc+8;return n.Ac(i),{i_:!1,f_:u}}e=qu(t,n).toNumber()}if("uuid"===r){if(!Lu(t,n,16)){var o=n.Pc+16;return n.Ac(i),{i_:!1,f_:o}}r=ju(t,n,16)}return{i_:!0,c_:{ks:r,Dc:e,h_:n.Pc-i}}},t.a_=function(t,n,i){var e=t.Vu,r=t.qb,u=no(eo(e),r.Pc,e.byteLength);return i&&(u=so(u)),r.Cc(u.byteLength),{ks:n,Vu:u}},t.v_=function(n,i,e){var r=og(n.zb());return{ks:i,d_:r.version,l_:r.flags,Vu:t.a_(n,i,e).Vu}},t}();function eg(t,n){var i=rg(t,n);if(!i)throw new a("Missing "+n+" atom");return i}function rg(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.ks===n)return e.Vu}}function ug(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.ks===n&&i.push(r.Vu)}return i}function og(t){return{version:t>>24,flags:new Au(16777215&t)}}var sg=function(){function t(){}return t.w_=function(n){for(var i=[],e=ig.t_(new tg(n,new co)),r=0;r<e.length;r++){var u=e[r],o=t.g_(u);o&&i.push(o)}return i},t.y_=function(t){return ig.n_(t,new co,!1).Ou.some(function(t){return t.ks===vw.kb||t.ks===vw.Ob})},t.p_=function(n){return ug(ig.t_(new tg(n,new co)),vw.Nb).map(t.m_)},t.b_=function(n){return ug(ig.t_(n.Vu),vw.Nb).map(t.m_)},t.g_=function(n){switch(n.ks){case vw.Xm:return t.__(n.Vu);case vw.kb:return t.k_(n.Vu,n.Pc);case vw.Db:return t.T_(n.Vu);case vw.Ab:return t.S_(n.Vu);case vw.Cb:return t.E_(n.Vu)}},t.__=function(n){var i=ig.t_(n),e=eg(i,vw.Gm),r=ug(i,vw.Ym),u=rg(i,vw.ob),o=t.R_(e),s=r.map(t.I_),c=u?t.D_(u):void 0;return{ks:vw.Xm,c_:o,N_:s,C_:c}},t.R_=function(t){var n=og(t.zb()),i=n.version,e=n.flags,r=1===i?t.$b():t.zb(),u=1===i?t.$b():t.zb(),o=t.zb(),s=1===i?t.$b():t.zb(),c=t.zb(),f=t.Hb()>>8;t.Jb(2),t.Jb(8);var h=t.Gb(9);t.Jb(24);var a=t.zb();return{ks:vw.Gm,d_:i,l_:e,A_:r,O_:u,hm:o,ug:s,P_:c,lg:f,x_:h,L_:a}},t.I_=function(n){var i=ig.t_(n),e=eg(i,vw.Km),r=eg(i,vw.Jm),u=t.F_(e),o=t.B_(r);return{ks:vw.Ym,c_:u,M_:o}},t.F_=function(t){var n=og(t.zb()),i=n.version,e=n.flags,r=1===i?t.$b():t.zb(),u=1===i?t.$b():t.zb(),o=t.zb();t.Jb(4);var s=1===i?t.$b():t.zb();t.Jb(8);var c=t.jb(),f=t.jb(),h=t.jb()/l.pow(2,8);t.Jb(2);var a=t.Gb(9),v=t.zb()/l.pow(2,16),d=t.zb()/l.pow(2,16);return{ks:vw.Km,U_:e.Lc(1),q_:e.Lc(2),V_:e.Lc(4),A_:r,O_:u,H_:o,ug:s,j_:c,z_:f,lg:h,x_:a,Eo:v,W_:d}},t.B_=function(n){var i=ig.t_(n),e=eg(i,vw.Qm),r=eg(i,vw.Zm),u=eg(i,vw.nb),o=t.X_(e),s=t.G_(r),c=t.Y_(u);return{ks:vw.Jm,c_:o,K_:s,J_:c}},t.X_=function(t){var n=og(t.zb()),i=n.version,e=n.flags,r=1===i?t.$b():t.zb(),u=1===i?t.$b():t.zb(),o=t.zb(),s=1===i?t.$b():t.zb();t.Hb();return t.Jb(2),{ks:vw.Qm,d_:i,l_:e,A_:r,O_:u,hm:o,ug:s}},t.G_=function(t){var n=og(t.zb()),i=n.version,e=n.flags;t.Jb(4);var r=t.Yb(4);t.Jb(12);var u=t.Kb();return{ks:vw.Zm,d_:i,l_:e,Q_:r,bu:u}},t.Y_=function(n){var i=eg(ig.t_(n),vw.ib),e=t.Z_(i);return{ks:vw.nb,tk:e}},t.Z_=function(n){var i=eg(ig.t_(n),vw.eb),e=t.nk(i);return{ks:vw.ib,ik:e}},t.nk=function(n){for(var i=og(n.zb()),e=i.version,r=i.flags,u=(n.zb(),[]),o=ig.t_(n),s=0;s<o.length;s++){var c=o[s],f=t.ek(c.Vu,c.ks);f&&u.push(f)}return{ks:vw.eb,d_:e,l_:r,rk:u}},t.ek=function(n,i){var e=t.uk(n,i);return e||((e=t.sk(n,i))||(i===vw.yb?t.ck(n):void 0))},t.uk=function(n,i){return i===vw.wb?t.fk(n):i===vw.bb?t.hk(n):void 0},t.sk=function(n,i){return i===vw.cb?t.ak(n):i===vw.hb||i===vw.ab?t.vk(n,i):i===vw._b?t.dk(n):void 0},t.lk=function(t,n){return t.Jb(6),{ks:n,wk:t.Hb()}},t.gk=function(n,i){var e=t.lk(n,i);n.Jb(8);var r=n.Hb(),u=n.Hb();return n.Jb(2),n.Jb(2),je({},e,{yk:r,pk:u,mk:n.zb()>>>16})},t.bk=function(n,i){var e=t.lk(n,i);n.Jb(2),n.Jb(2),n.Jb(12);var r=n.Hb(),u=n.Hb(),o=n.zb(),s=n.zb();n.Jb(4);var c=n.Hb();n.Jb(32);var f=n.Hb();return n.Jb(2),je({},e,{Eo:r,W_:u,_k:o,kk:s,Tk:c,Sk:f})},t.fk=function(n){var i=t.gk(n,vw.wb),e=eg(ig.t_(n),vw.gb);return je({},i,{Ek:t.Rk(e)})},t.ck=function(n){var i=t.lk(n,vw.yb),e=ig.t_(n),r=eg(e,vw.pb),u=t.Ik(r),o=rg(e,vw.mb);return je({},i,{Dk:u,Nk:o?t.Ck(o):o})},t.Ik=function(t){return{ks:vw.pb,af:t.Kb()}},t.Ck=function(t){return{ks:vw.mb,hw:t.Kb()}},t.Rk=function(t){return ig.v_(t,vw.gb,!0)},t.ak=function(n){var i=t.bk(n,vw.cb),e=ig.t_(n),r=eg(e,vw.fb),u=rg(e,vw.lb);return je({},i,{Ak:t.Ok(r),Pk:u?t.xk(u):void 0})},t.vk=function(n,i){var e=t.bk(n,i),r=eg(ig.t_(n),vw.vb);return je({},e,{Lk:t.Fk(r)})},t.dk=function(n){var i=n.Oc(),e=t.bk(n,vw._b),r=eg(ig.t_(n),vw.xb),u=t.Bk(r);return je({},e,{Mk:t.sk(i,u.qk.Uk),Vk:u})},t.hk=function(n){var i=n.Oc(),e=t.gk(n,vw.bb),r=eg(ig.t_(n),vw.xb),u=t.Bk(r);return je({},e,{Mk:t.uk(i,u.qk.Uk),Vk:u})},t.Bk=function(n){var i=eg(ig.t_(n),vw.Lb),e=t.Hk(i);return{ks:vw.xb,qk:e}},t.Hk=function(t){var n=t.Yb(4);return{ks:vw.Lb,Uk:n}},t.Ok=function(t){return ig.a_(t,vw.fb,!0)},t.Fk=function(t){return ig.a_(t,vw.vb,!0)},t.xk=function(t){var n=t.zb(),i=t.zb();return{ks:vw.lb,jk:n,zk:i}},t.D_=function(n){var i=ug(ig.t_(n),vw.sb).map(t.Wk);return{ks:vw.ob,N_:i}},t.Wk=function(t){var n=og(t.zb()),i=n.version,e=n.flags,r=t.zb(),u=t.zb(),o=t.zb(),s=t.zb(),c=t.zb();return{ks:vw.sb,d_:i,l_:e,H_:r,$k:u,Xk:o,Gk:s,Yk:c}},t.k_=function(n,i){var e=ig.t_(n),r=eg(e,vw.Tb),u=ug(e,vw.Sb),o=t.Kk(r),s=u.map(t.Jk);return{ks:vw.kb,Qk:i,c_:o,N_:s}},t.Kk=function(t){var n=og(t.zb()),i=n.version,e=n.flags,r=t.zb();return{ks:vw.Tb,d_:i,l_:e,Zk:r}},t.Jk=function(n){var i=ig.t_(n),e=eg(i,vw.Eb),r=ug(i,vw.Rb),u=rg(i,vw.Ib),o=t.tT(e),s=r.map(function(n){return t.nT(n,o)}),c=u?t.iT(u):void 0;return{ks:vw.Sb,c_:o,eT:s,rT:c}},t.tT=function(t){var n=og(t.zb()),i=n.version,e=n.flags,r=t.zb(),u=e.Lc(lw.BASE_DATA_OFFSET_PRESENT)?t.$b():void 0,o=e.Lc(lw.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.zb():void 0,s=e.Lc(lw.DEFAULT_SAMPLE_DURATION_PRESENT)?t.zb():void 0,c=e.Lc(lw.DEFAULT_SAMPLE_SIZE_PRESENT)?t.zb():void 0,f=e.Lc(lw.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.zb():void 0;return{ks:vw.Eb,d_:i,l_:e,H_:r,uT:u,oT:o,Xk:s,Gk:c,Yk:f}},t.nT=function(n,i){for(var e=og(n.zb()),r=e.version,u=e.flags,o=n.zb(),s=u.Lc(ww.DATA_OFFSET_PRESENT)?n.Wb():void 0,c=u.Lc(ww.FIRST_SAMPLE_FLAGS_PRESENT)?n.zb():void 0,f=[],h=0;h<o;h++){var a=t.sT(n,u,r,i);0===h&&void 0!==c&&(a.l_=c),f.push(a)}return{ks:vw.Rb,d_:r,l_:u,cT:o,Qk:s,fT:c,hT:f}},t.sT=function(t,n,i,e){return{ug:n.Lc(ww.SAMPLE_DURATION_PRESENT)?t.zb():e.Xk,Dc:n.Lc(ww.SAMPLE_SIZE_PRESENT)?t.zb():e.Gk,l_:n.Lc(ww.SAMPLE_FLAGS_PRESENT)?t.zb():e.Yk,aT:n.Lc(ww.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.zb():t.Wb():void 0}},t.E_=function(t){var n=t.Vu,i=t.qb,e=og(Mu(n,i)),r=e.version,u=e.flags;if(1===r){var o=Mu(n,i),s=qu(n,i),c=Mu(n,i),f=Mu(n,i),h=Hu(n,i),a=Hu(n,i),v=oo(eo(n),i.Pc,n.byteLength);return i.Cc(v.byteLength),{ks:vw.Cb,d_:r,l_:u,vT:h,Tu:a,hm:o,dT:s,lT:c,sw:f,wT:v}}var d=Hu(n,i),l=Hu(n,i),w=Mu(n,i),g=Mu(n,i),y=Mu(n,i),p=Mu(n,i),m=oo(eo(n),i.Pc,n.byteLength);return i.Cc(m.byteLength),{ks:vw.Cb,l_:u,d_:r,vT:d,Tu:l,hm:w,gT:g,lT:y,sw:p,wT:m}},t.T_=function(t){return ig.a_(t,vw.Db,!1)},t.m_=function(n){var i=n.Vu,e=n.qb,r=so(eo(i)).buffer,u=og(Mu(i,e)),o=u.version,s=u.flags,c=t.yT(i,e),f=[];if(o>0)for(var h=Mu(i,e),a=0;a<h;a++){var v=xu(i,e,16);f.push(v)}var d=Mu(i,e),l=new p(r,e.Pc,d);return e.Cc(i.byteLength),{ks:vw.Nb,d_:o,l_:s,pT:c,mT:f,bT:d,Vu:l,_T:r}},t.yT=function(t,n){for(var i="",e=0;e<4;e++){var r=Ou(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var u=0;u<2;u++){var o=Ou(t,n).toString(16);i+=1===o.length?"0"+o:o}i+="-";for(var s=0;s<2;s++){var c=Ou(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<2;f++){var h=Ou(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<6;a++){var v=Ou(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.S_=function(t){var n,i,e=t.Vu,r=t.qb,u=og(Mu(e,r)),o=u.version,s=u.flags,c=Mu(e,r),f=Mu(e,r);0===o?(n=Yt.fromBits(Mu(e,r),0,!0),i=Yt.fromBits(Mu(e,r),0,!0)):(n=qu(e,r),i=qu(e,r)),r.Cc(2);for(var h=Fu(e,r),a=[],v=0;v<h;v+=1){var d=Mu(e,r),l=d>>31&1,w=2147483647&d,g=Mu(e,r),y=Mu(e,r),p=y>>31&1,m=y>>28&7,b=268435455&y;a.push({kT:l,TT:w,ug:g,ST:p,ET:m,RT:b})}return{ks:vw.Ab,d_:o,l_:s,IT:c,hm:f,DT:n,NT:i,CT:h,AT:a}},t.iT=function(t){var n,i=t.Vu,e=t.qb,r=og(Mu(i,e)),u=r.version,o=r.flags;return n=0===u?Yt.fromBits(Mu(i,e),0,!0):qu(i,e),{ks:vw.Ib,d_:u,l_:o,rT:n}},t}();function cg(t){return t&&"Au"in t?t.Au:t}var fg=function(t){function n(n,i,e,r,u,o,s){var c;return(c=t.call(this,n,i,e,r)||this).OT=void 0,c.PT=void 0,c.xT=void 0,c.OT=u,c.PT=o,c.xT=s||void 0,c}return W(n,t),n.prototype.Jy=function(n){return this===n||!!$v(this,n)&&(!!t.prototype.Jy.call(this,n)&&(!!Wv(this.LT,n.LT)&&(!!Wv(this.Hm,n.Hm)&&(this.FT&&n.FT?!!this.FT.yu(n.FT)&&(this.Hy&&n.Hy?this.Hy.yu(n.Hy):this.Hy===n.Hy):this.FT===n.FT))))},j(n,[{key:"LT",get:function(){return this.OT}},{key:"Hm",get:function(){return this.PT}},{key:"FT",get:function(){return this.xT}},{key:"bl",get:function(){var t;return this.ml||(this.ml=jv(Yl(t=this),{get styles(){return t.LT},get regions(){return t.Hm},get metadata(){return cg(t.FT)},get content(){return cg(t.Hy)}})),this.ml}}]),n}(Ql),hg=function(){function t(t,n,i){this.Wa=void 0,this.BT=void 0,this.MT=void 0,this.BT=t,this.MT=n,rn(i)?this.Wa=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var u=r[e];i.Lu(u)}return i}(0,0,i):this.Wa=i}return j(t,[{key:"UT",get:function(){return this.Wa.pu(!0)}},{key:"qy",get:function(){return this.BT}},{key:"Vy",get:function(){return this.MT}}]),t}();var ag="http://www.w3.org/XML/1998/namespace";function vg(t,n){return function(t,n){var i=t.Ou.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.Ou)}return e}(t,function(t){return t.Du===n})}function dg(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function lg(t,n){for(var i=t.Uu,e={},r=0;r<i.length;r++)e[dg(i[r].bu,n)]=i[r].Tu;return e}var wg=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,gg=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,yg="http://www.w3.org/ns/ttml";function pg(t,n,i){return void 0===i&&(i=mw),function(t,n,i){var e,r=[];try{e=C.wu(t)}catch(t){return r}var u=e.Hu;if("tt"!==u.mu)return r;var o=u&&u.Nu(yg,"head")[0],s=u&&u.Nu(yg,"body")[0],c=["ebutts","tts","xml"];if(!s||!o)return r;for(var f=function(t,n){for(var i={},e=t.Nu(yg,"styling")[0],r=e&&e.Nu(yg,"style")||[],u=0;u<r.length;u++){var o=r[u],s=o.xu(ag,"id");i[s]=lg(o,n)}return i}(o,c),h=function(t,n){var i=zv(t),e=kg(n.Pu("tts:extent"));if(!e)return i;for(var r=0,u=d.keys(i);r<u.length;r++){var o=u[r],s=kg(i[o].extent);if(s){var c=bg(s[0],e[0]),f=bg(s[1],e[1]);i[o].extent=c+" "+f}var h=kg(i[o].origin);if(h){var a=bg(h[0],e[0]),v=bg(h[1],e[1]);i[o].origin=a+" "+v}}return i}(function(t,n){for(var i={},e=t.Nu(yg,"layout")[0],r=e&&e.Nu(yg,"region")||[],u=0;u<r.length;u++){var o=r[u],s=o.xu(ag,"id");if(s){i[s]=lg(o,n);var c=Eg(o,n);for(var f in c)et.call(c,f)&&(i[s][f]=c[f])}}return i}(o,c),u),a=o.Nu(yg,"metadata")[0],v=function t(n,i,e,r){var u=i;var o;var s=e;var c=[];var f=[];if(rn(n)){var h,a;u=null!=(h=Sg(n.Pu("begin"),r))?h:u,o=Sg(n.Pu("dur"),0),s=null!=(a=Sg(n.Pu("end"),r))?a:void 0!==o?u+o:s;for(var v=n.Iu,d=0;d<v.length;d++)("body"===n.mu||"div"===n.mu)&&v[d].fu>1||(c=c.concat(t(v[d],u,s,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var u=i[r];e.push(u.qy,u.Vy)}e.sort(Ir);for(var o=e.length,s=0;s<o-1;s++)e[s+1]===e[s]&&(Or(e,s+1),s--,o=e.length);return e}(u,s,c);for(var w=0;w<l.length-1;w++){var g=Tg(l[w],l[w+1],c);if(g.length<=0&&Rg(n)){var y=n.pu(!1);f.push(new hg(l[w],l[w+1],y))}else g.length>0&&function(){var t=n.pu(!1);g.forEach(function(n){return t.Cu(n.UT)}),f.push(new hg(l[w],l[w+1],t))}()}return f}(s,i.Um,i.qm,i.Vm),l=0;l<v.length;l++){var w=v[l],g=mg(h,w);r.push(new fg(w.qy,w.Vy,w.UT,!1,f,g,a))}return r}(t,0,i)}function mg(t,n){for(var i=function t(n){var i=[];var e;if(rn(n)){(e=n.Pu("region"))&&i.push(e);for(var r=n.Iu,u=0;u<r.length;u++)i=i.concat(t(r[u]))}return i}(n.UT),e={},r=0;r<i.length;r++){var u=i[r];e[u]=t[u]}return e}function bg(t,n){var i=_g(t),e=_g(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-e.length));return y(r)||y(u)?t:r/u*100+"%"}return t}function _g(t){return wr(t,"px")?"px":wr(t,"em")?"em":wr(t,"c")?"c":wr(t,"%")?"%":void 0}function kg(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Tg(t,n,i){for(var e=[],r=0;r<i.length;r++){var u=i[r].qy,o=i[r].Vy;(u>=t&&o<=n||u<n&&o>=n||u<t&&o>t)&&e.push(i[r])}return e}function Sg(t,n){if(t){if(wg.test(t)){var i=wg.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,u=Number(i[3])||0,o=i[6];return 3600*e+60*r+u+(o?Number(o)*l.pow(.1,o.length):0)-n}if(gg.test(t)){var s=gg.exec(t);if(!s)return;var c,f=Number(s[1]);switch(s[4]){case"h":c=3600*f;break;case"m":c=60*f;break;case"s":c=f;break;case"ms":c=.001*f;break;case"f":case"t":default:c=NaN}return c-n}}}function Eg(t,n){for(var i={},e=t.Ru("style")||[],r=0;r<e.length;r++){var u=lg(e[r],n);for(var o in u)et.call(u,o)&&(i[o]=u[o])}return i}function Rg(t){if(rn(t)){var n=t.mu.toUpperCase(),i=Boolean(t.Pu("smpte:backgroundImage"));return"BR"===n||i}return t.fu===en.vu}function Ig(t){var n=function(t){try{return C.wu(t).Hu}catch(t){}}(t);return"tt"===(null==n?void 0:n.mu)}var Dg,Ng=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i.$l=function(n){return t.prototype.$l.call(this,n)},i.Xl=function(n){var i=t.prototype.Xl.call(this,n);return i&&(n.gw=od.mw),i},i._l=function(){return vd(this)},n}(Bv),Cg=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).N_=new Ng,n.qT=function(t){var i=t.kl;n.VT(i)},n}W(n,t);var i=n.prototype;return i.$l=function(t){t.ic(Cv.Pl,this.qT),this.N_.$l(t),this.VT(t)},i.Xl=function(t){t.oc(Cv.Pl,this.qT),t.gw=od.mw,this.N_.Xl(t)},i.HT=function(t){},i.jT=function(t){},i.VT=function(t){t.gw!==od.mw?this.HT(t):this.jT(t)},i.zT=function(){for(var t=0,n=this.N_.Kl;t<n.length;t++){var i=n[t];i.oc(Cv.Pl,this.qT),i.ce()}},i.Yl=function(){return this.zT(),this.N_.Yl(),D.resolve()},i.ce=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uc(),t.next=3,this.Yl();case 3:this.N_.ce();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Qr);!function(t){t.Fb="subtitles",t.WT="captions",t.$T="descriptions",t.XT="chapters",t.Mb="metadata",t.GT="thumbnails"}(Dg||(Dg={}));var Ag=[Dg.Fb,Dg.WT,Dg.$T,Dg.XT,Dg.Mb,Dg.GT];function Og(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Pr(Ag,t)}(n)?n:n?Dg.Mb:Dg.Fb}var Pg,xg=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,n,i,u)||this).url=void 0,o.status=void 0,o.url=e,o.status=r,o}return W(n,t),n}(Uo);function Lg(t,n){return t===Dg.GT||t===Dg.Mb&&n===Dg.GT}function Fg(t,n,i,e){for(var r=0,u=t.Tw.Kl;r<u.length;r++){var o=u[r];if(o.qy>i)break;n<=o.Vy&&e.push(o)}}function Bg(t,n){return Rr(t.cw,n.cw)}function Mg(t,i){var e=i,r=0;if(t instanceof Yh&&t.name===Wh.vd)e=t.Cv.Ov;else if(function(t){return t instanceof Jh}(t)){var u=t.yd;if(e=u.Av,0===(r=u.Ev))return new xg(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new xg(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Ug(t,i,e,r){var u=function(t){switch(t){case Vl.WEBVTT:return"WebVTT";case Vl.SRT:return"SRT";case Vl.TTML:return"TTML";default:return""}}(t);return new xg(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(u?u+" ":"")+"subtitle file.",i,e,r)}function qg(t){return Uw(Nw(t))?Vl.WEBVTT:Ig(t)?Vl.TTML:Vl.SRT}!function(t){t.YT="vtt",t.yb="wvtt",t.KT="stpp"}(Pg||(Pg={}));var Vg=function(t){function n(n){var i;return(i=t.call(this,sd.lw)||this).errorObject=n,i}return W(n,t),n.prototype._l=function(){return this},j(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Nv),Hg=function(t){function n(n,i){var e;return(e=t.call(this)||this).JT=void 0,e.QT=void 0,e.ZT=new Fr,e.JT=n,e.QT=i,e}W(n,t);var i=n.prototype;return i.tS=function(t){if(t.src){var n=t.kind||Dg.Fb,i=this.JT.nS(n,t.id,t.label,t.srclang,t.default);return i.Ew=zh(t.src),this.$l(i),i}},i.iS=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o,s,c,f,h,a,v;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.kw=ql.LOADING,e=new qh({Ov:n.Ew,Iv:os.vu,Yv:Lh.GET,Ks:i}),t.prev=2,t.next=5,this.QT.Cv(e);case 5:return o=t.sent,u=o.Ev,t.next=9,o.fv();case 9:r=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),qr(t.t0),n.kw=ql.ERROR,n.nc(new Vg(Mg(t.t0,n.Ew))),t.abrupt("return");case 18:for(t.prev=18,s=qg(r),n.ks=s,c=[],s===Vl.WEBVTT||s===Vl.SRT?(f=Dw(r),c=f.Tw):s===Vl.TTML&&(c=pg(r)),h=0,a=c;h<a.length;h++)v=a[h],n.eS(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),qr(t.t1),n.kw=ql.ERROR,n.nc(new Vg(Ug(n.ks,n.Ew,u,t.t1))),t.abrupt("return");case 32:n.kw=ql.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.HT=function(t){Pr(this.N_.Kl,t)&&t.kw===ql.NONE&&this.iS(t,this.ZT.Ks).catch(Vr)},i.tf=function(){},i.Yl=function(){var n=D.coroutine(He.mark(function n(){var i,e,r;return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.ZT.Xs(),this.ZT=new Fr,i=0,e=this.N_.Kl;i<e.length;i++)r=e[i],this.JT.rS(r);return n.next=5,t.prototype.Yl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Cg);function jg(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fw===n&&e.uS)return e}}function zg(t,n){Wg(jg(t.Kl,n))}function Wg(t){void 0!==t&&(t.gw=od.yw)}function $g(t,n){Wg(jg(t.Kl,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.fw===n)return e}}(t.Kl,n))}function Xg(t){for(var n=0;n<Ag.length;n++){var i=Ag[n];i===Dg.XT?$g(t,i):zg(t,i)}}var Gg,Yg=function(t){function n(){return t.call(this,us.Ph)||this}return W(n,t),n}(tu);!function(t){t[t.oS=0]="oS",t[t.sS=1]="sS"}(Gg||(Gg={}));var Kg=t,Jg=Kg.MediaSource,Qg=Kg.WebKitMediaSource,Zg=Kg.TextTrack,ty=r&&r.createElement("video"),ny=(r&&r.documentElement.style,it.mr&&it.Yr&&it.Kr<=26),iy=(it.Or,!(!Jg&&!Qg)),ey=!!Zg,ry=(r&&(r.fullscreenEnabled||r.webkitFullscreenEnabled||r.mozFullScreenEnabled||r.msFullscreenEnabled)||it.Nr,it.Wr&&it.$r,ty&&ty.canPlayType&&(""!==ty.canPlayType("application/vnd.apple.mpegURL")||it.kr&&!it.Wr&&it.Tr),ty&&ty.canPlayType&&""!==ty.canPlayType("video/mp4")&&!ny),uy=iy&&!it.Xr&&!it.Hr&&!it.Vr&&((Jg||Qg).isTypeSupported?(Jg||Qg).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ty&&ty.canPlayType&&""!==ty.canPlayType('audio/mp4; codecs="mp4a.40.34"'));iy&&!it.Xr&&(uy||((Jg||Qg).isTypeSupported?(Jg||Qg).isTypeSupported("audio/mpeg"):ty&&ty.canPlayType&&ty.canPlayType("audio/mpeg"))),iy&&!(it.zr&&it.mr)&&(Jg||Qg).isTypeSupported&&(Jg||Qg).isTypeSupported('video/mp4; codecs="avc1.4d401e"'),it.Xr||it.Hr||it.Vr,it.jr,it.Xr,it.Hr&&it.br&&it._r;try{e&&e.top!==e.self}catch(t){!0}var oy=function(t){function n(n){var i;return(i=t.call(this,qd.ig)||this).currentTime=n,i}return W(n,t),n}(tu),sy=function(t){function n(n){var i;return(i=t.call(this,qd.eg)||this).currentTime=n,i}return W(n,t),n}(tu),cy=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).cS=Ed.Xw,e.fS=!0,e.hS=!1,e.aS=!1,e.vS=function(t){var n=t.readyState;n!==e.cS&&e.nc(t),n===Ed.Xw&&(e.hS=!1,e.aS=!1),e.dS(n),e.lS(n),e.wS(n),e.maybeDispatchCanPlayThroughEvent(n),e.gS(n),e.yS(n),e.cS=n},e.pS=function(){e.yS(e.cS),e.gS(e.cS),e.fS=e.mS.fg},e.bS=function(){e.fS=e.mS.fg},e.mS=n,e._S=i,e.mS.ic(qd.Ll,e.vS),e.mS.ic(us.Nh,e.pS),e.mS.ic(us.Dh,e.bS),e._S&&e.mS.ic(qd.eg,e.tc),e}W(n,t);var i=n.prototype;return i.dS=function(t){!this.aS&&t>=Ed.Gw&&(this.aS=!0,this.nc(new Xd(this.mS.rg,t)))},i.lS=function(t){!this.hS&&t>=Ed.Yw&&(this.hS=!0,this.nc(new Qd(this.mS.rg,t)))},i.gS=function(t){this._S||(t>=Ed.Kw&&this.cS<Ed.Kw&&!this.mS.fg||this.kS&&t>=Ed.Kw)&&this.nc(new sy(this.mS.rg))},i.yS=function(t){!this.TS(t)||this.mS.og||this.mS.gc||this.nc(new oy(this.mS.rg))},i.wS=function(t){this.cS<=Ed.Yw&&t>=Ed.Kw&&this.nc(new il(this.mS.rg,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Ed.Jw&&this.nc(new el(this.mS.rg,t))},i.TS=function(t){var n=!this.mS.fg&&t<=Ed.Yw,i=!this.fS&&this.cS<=Ed.Yw;return n&&!i},i.Yl=function(){this.cS=Ed.Xw,this.fS=!0,this.hS=!1,this.aS=!1},i.ce=function(){this.uc(),this._S&&this.mS.oc(qd.eg,this.tc),this.mS.oc(us.Nh,this.pS),this.mS.oc(us.Dh,this.bS),this.mS.oc(qd.Ll,this.vS)},j(n,[{key:"kS",get:function(){return!this.mS.fg&&this.fS}}]),n}(Qr),fy="titanium",hy="conax",ay="ezdrm",vy="irdeto",dy="vudrm",ly="verimatrix",wy="keyos",gy="drmtoday",yy="expressplay",py="azure",my="xstream",by="vimond",_y="axinom",ky="uplynk",Ty="comcast",Sy="custom",Ey=function(){function t(t,n,i,e,r){this.hf=void 0,this.SS=void 0,this.ES=void 0,this.RS=void 0,this.QT=void 0,this.IS=void 0,this.DS=void 0,this.hf=t,this.SS=n,this.ES=i,this.QT=e,this.DS=r,this.RS=this.NS(n)}var i=t.prototype;return i.CS=function(){return this.IS},i.AS=function(t){this.IS=t},i.OS=function(){return this.RS.licenseAcquisitionURL||this.CS()},i.PS=function(t){return D.resolve()},i.xS=function(t,n){return D.resolve(void 0)},i.LS=function(){var t=D.coroutine(He.mark(function t(i,e,r,u){var o,s;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(o=this.FS(i,e,r,u)).Ov){t.next=3;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.ll.Cv(o);case 6:return s=t.sent,t.next=9,s.hv(e);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),qr(t.t0),t.next=17,this.BS(t.t0,o.Ov,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,e,r){return t.apply(this,arguments)}}(),i.FS=function(t,n,i,e){var r=this.MS().Kh(),u=this.Zv,o={Ov:this.US(),Iv:n,Rv:r,lv:t,Zv:u,Yv:Lh.POST,Kv:0,Ks:e,ks:Fh.Bv,Jv:i};return new qh(o)},i.qS=function(t,n){return D.resolve(t)},i.VS=function(t,n,i,e){return D.resolve(t)},i.MS=function(){return new ss(this.RS.headers||{})},i.BS=function(){var t=D.coroutine(He.mark(function t(i,e,r){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.US=function(t,n){var i=n,e=this.RS.queryParameters;if(!i){var r=this.OS();if(!r)return"";i=r}if(e||t){var u=C.Go(i);t&&jh(u,t),e&&jh(u,e),i=u.href}return i},i.HS=function(t){return function(t,n){var i=n.licenseResponseProcessor;return D.resolve(new p(Ry(t,i)))}(t,this.RS)},i.jS=function(){var t=D.coroutine(He.mark(function t(n,i,e){var r,u,o;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.zS(n,e);case 2:return r=t.sent,t.next=5,this.LS(r,this.DS,i,e);case 5:return u=t.sent,t.next=8,this.HS(u);case 8:return o=t.sent,t.abrupt("return",o);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.ce=function(){},j(t,[{key:"ll",get:function(){return this.QT}},{key:"WS",get:function(){return!1}},{key:"$S",get:function(){var t=this.RS.certificate;if(t)return ht(t)?lu(t):uo(t)}},{key:"XS",get:function(){return!1}},{key:"Zv",get:function(){return Boolean(this.RS.useCredentials)}}]),t}();function Ry(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function Iy(t,n){var i=so(t).buffer,e=n.licenseRequestProcessor;return D.resolve(Ry(i,e))}var Dy,Ny,Cy=function(t){function n(n,i,e,r){return t.call(this,fr,n,i,e,r)||this}W(n,t);var i=n.prototype;return i.NS=function(t){return t.widevine||{}},i.GS=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$S){t.next=2;break}return t.abrupt("return",this.$S);case 2:return t.abrupt("return",this.YS(new p(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.YS=function(n,i){return t.prototype.jS.call(this,n,Bh.Vv,i)},n}(Ey);function Ay(t,n){if(null==t)return{};var i,e,r={},u=d.keys(t);for(e=0;e<u.length;e++)i=u[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Oy(t){return ut(t.token&&t.deviceId)}function Py(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&ut(i.PreAuthorization)}function xy(t){var n=t;return Oy(n)&&""!==n.token&&""!==n.deviceId&&!Py(n)}(Ny=Dy||(Dy={})).KS=!1,Ny.JS=!1,Ny.QS=!1,Ny.ZS=!1,Ny.LOG_ADS_DETAILS=!1,Ny.LOG_CHROMECAST_DETAILS=!1,Ny.LOG_CUSTOM_DRM=!1,Ny.LOG_BUFFERING_VIDEO_MAIN=!1,Ny.LOG_BUFFERING_VIDEO_SELECTION=!1,Ny.LOG_BUFFERING_AUDIO_MAIN=!1,Ny.LOG_BUFFERING_AUDIO_SELECTION=!1,Ny.tE=!1,Ny.nE=!1;var Ly,Fy=function(){function t(t,n,i){this.iE=t,this.Yc=n,this.eE=i}return t.prototype.rE=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.eE.build(t))},j(t,[{key:"uE",get:function(){return this.iE}},{key:"hf",get:function(){return this.Yc}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Ly||(Ly={}));var By=function(){function t(){this.oE=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.sE(t,i,e)){case Ly.FAILED:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Ly.OVERRIDDEN:var r=ip(i);C.Po("Warning: Overwriting an earlier registered integration for "+t+" and "+r+".");break;case Ly.SUCCEEDED:ip(i);0}},i.sE=function(t,n,i){var e=ip(n);if(!e)return Ly.FAILED;for(var r=Ly.SUCCEEDED,u=0,o=this.oE.slice();u<o.length;u++){var s=o[u];s.uE===t&&s.hf===e&&(r=Ly.OVERRIDDEN,Ar(this.oE,s))}return this.oE.push(new Fy(t,e,i)),r},i.cE=function(t,n){return void 0!==this.fE(t,n)},i.hE=function(t,n,i){var e=this.fE(t,n);if(!e)throw a("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.rE(i)},i.fE=function(t,n){for(var i=0,e=this.oE;i<e.length;i++){var r=e[i];if(r.uE===t&&(!n||r.hf===n))return r}},t}();By.aE=new By;var My=["customdata"],Uy={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function qy(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,u=t.useCredentials,o=t.queryParameters,s=t.certificateRequestProcessor,c=t.certificateResponseProcessor,f=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||e||r||u||o||s||c||f||h)}function Vy(t){return t&&void 0!==t.licenseAcquisitionURL}var Hy,jy=Vy,zy=Vy;function Wy(t){if(!t)return!0;if(Yy(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,u=t.aes128;return qy(n)&&qy(i)&&qy(e)&&qy(r)&&qy(u)}function $y(t){var n=xy(t),i=function(t){var n,i=t;return Py(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Oy(i)}(t);return(!n||!i)&&(n||i)}function Xy(t){return t.integration===vy}function Gy(t){var n=t;if(!n)return!1;if(Wy(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,u=n.clearkey;if(Yy(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!jy(e))return!1;if(r&&!zy(r))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(By.aE.cE(n.integration))return!0;switch(n.integration){case fy:if(!function(t){return t.integration===fy&&(Ky(t)||Jy(t))}(t))return!1;break;case dy:if(!Qy(t))return!1;break;case ly:if(!function(t){return t.integration===ly}(t))return!1;break;case vy:if(!Xy(t))return!1;break;case hy:if(!$y(t))return!1;break;case ay:if(!function(t){return t.integration===ay}(t))return!1;break;case wy:if(!Yy(t))return!1;break;case gy:if(!function(t){var n=t;return n.integration===gy&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case yy:if(!function(t){return t.integration===yy}(t))return!1;break;case my:if(!Zy(t))return!1;break;case by:if(!function(t){return t.integration===by}(t))return!1;break;case _y:if(!tp(t))return!1;break;case py:if(!function(t){var n=t;return n.integration===py&&void 0!==n.token}(t))return!1;break;case ky:if(!function(t){return t.integration===ky}(t))return!1;break;case Ty:if(!function(t){var n=t;return n&&ut(n.releasePid)&&ut(n.accountId)&&ut(n.token)}(t))return!1;break;case Sy:return!0;default:return!1}}return!0}function Yy(t){return t.integration===wy}function Ky(t){return void 0!==t.authToken}function Jy(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function Qy(t){var n=t;return n.integration===dy&&void 0!==n.token}function Zy(t){var n=t;return n&&n.integration===my&&ht(n.ticketAcquisitionURL)&&ht(n.streamId)}function tp(t){var n=t;return n.integration===_y&&void 0!==n.token}function np(t,n){var i,e,r,u=n[t],o=null!=(i=null==u?void 0:u.licenseAcquisitionURL)?i:Uy[t],s=null!=(e=null==u?void 0:u.customdata)?e:n.customdata,c=s?{customData:s}:{},f=je({},null!=(r=null==u?void 0:u.headers)?r:{},c),h=null!=u?u:{};h.customdata;return je({},Ay(h,My),{licenseAcquisitionURL:o,headers:f})}function ip(t){switch(t.toLowerCase()){case"widevine":case rr:return rr;case"playready":case ir:return ir;case"fairplay":case or:return or}}function ep(t,i){switch(t){case Ze:return function(t){for(var n={},i=sg.p_(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.pT]=r._T}return n}(i);case tr:case nr:return function(t){var n;return(n={})[ur]=t,n}(i);default:throw new Uo(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.ys="Widevine",t.gs="PlayreadyV2",t.vE="PlayreadyV2",t.dE="PlayreadyV3",t.ps="Fairplay"}(Hy||(Hy={}));var rp={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function up(t,n){var i,e,r,u,o=rp[n],s=t.accountName;return{CustomerName:t.customerName,AccountName:s,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=C.Ko)?void 0:i.Jo,OSVersion:null==(e=C.Ko)?void 0:e.us,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(r=C.Ko)?void 0:r.os,DeviceModel:null==(u=C.Ko)?void 0:u.ss}}}function op(t,i){if(!t.accountName)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function sp(t,n,i){var e;if(Ky(t))e={AuthToken:t.authToken,Payload:n};else{if(!Jy(t))throw op(t,i);e={LatensRegistration:up(t,i),Payload:n}}return Tu(JSON.stringify(e))}function cp(t,n,i){return fp.apply(this,arguments)}function fp(){return(fp=D.coroutine(He.mark(function t(i,e,r){var u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.yd){t.next=3;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,e);case 3:return o=u,t.prev=4,t.next=7,o.cv(r);case 7:s=t.sent,c=hp(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c="";case 14:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,o.Cv.Ov,o.Ev,o.Dv,c);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function hp(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var ap=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,os.Gh)||this).lE=void 0,r}W(i,t),i.wE=function(){return C.Jo.bo?"required":"optional"};var e=i.prototype;return e.BS=function(t,n,i){return cp(t,n,i)},e.PS=function(t){return this.lE?Hr(this.lE.Bc,t):(this.lE=new fo,D.resolve())},e.zS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.SS){t.next=3;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=gu(i),t.abrupt("return",sp(r,u,Hy.ys));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.HS=function(t){var i;if(!t.license)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=lu(t.license),D.resolve(i)},e.gE=function(t){return D.resolve(new p(t))},e.GS=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.yE(),t.next=3,this.zS(n,i);case 3:return e=t.sent,t.next=6,this.LS(e,os.Xh,Bh.Hv,i);case 6:return r=t.sent,t.next=9,this.gE(r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.YS=function(){var n=D.coroutine(He.mark(function n(i,e){var r;return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.YS.call(this,i,e);case 2:return r=n.sent,this.yE(),n.abrupt("return",r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),e.yE=function(){this.lE||(this.lE=new fo),this.lE.Mc()},e.ce=function(){this.lE&&this.lE.Xs(),t.prototype.ce.call(this)},i}(Cy),vp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,os.Xh)||this).AS("https://widevine-proxy.drm.technology/proxy"),r}return W(i,t),i.prototype.zS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u,o,s;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Iy(i,this.RS);case 2:if(r=t.sent,u=this.ES,e=new p(r),o=[].slice.call(e),s=this.pE){t.next=8;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:s,drm_info:o,kid:u}));case 9:case"end":return t.stop()}var e},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),j(i,[{key:"pE",get:function(){if(Qy(this.SS))return this.SS.token}}]),i}(Cy);function dp(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=je({},i,{SessionId:t.sessionId,Ticket:t.ticket})),je({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var lp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,os.Xh)||this).AS("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}W(n,t);var i=n.prototype;return i.zS=function(t,n){return Iy(t,this.RS)},i.US=function(n,i){var e=n;return Xy(this.SS)&&(e=dp(this.SS,e)),t.prototype.US.call(this,e,i)},n}(Cy),wp="Conax-Custom-Data";function gp(t,n,i){var e=t&&$y(t)&&t;if(e&&!i.has(wp)){var r=xy(e)?e.token:void 0,u=xy(e)?e.deviceId:void 0,o=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(wp,o)}return i}var yp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,os.Xh)||this).AS("https://connect.conax.com:8094/license"),r}W(n,t);var i=n.prototype;return i.zS=function(t,n){return Iy(t,this.RS)},i.MS=function(){var n=t.prototype.MS.call(this);return gp(this.SS,"Widevine",n)},n}(Cy);function pp(t){var n=Gu(new p(t));return lu(JSON.parse(n).license)}function mp(t){return"string"==typeof t.token?t.token:Tu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function bp(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var _p=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,os.Xh)||this).AS("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}W(n,t);var i=n.prototype;return i.zS=function(t,n){return Iy(t,this.RS)},i.HS=function(t){return D.resolve(pp(t))},i.MS=function(){return bp(t.prototype.MS.call(this),this.pE,this.SS)},j(n,[{key:"pE",get:function(){return mp(this.SS)}}]),n}(Cy),kp=function(t){function n(n,i,e){return t.call(this,n,i,e,os.Xh)||this}W(n,t);var i=n.prototype;return i.zS=function(t,n){return Iy(t,this.RS)},i.MS=function(){var n=t.prototype.MS.call(this),i=this.SS.token;return n.set("Authorization","Bearer "+i),n},n}(Cy);function Tp(t,n,i,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=D.coroutine(He.mark(function t(i,e,r,u){var o,s,c,f,h,a,v;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Zy(i)){t.next=2;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(o=new ss).append("Cache-Control","no-cache"),o.append("Content-Type","application/json"),(s=i.sessionId)&&o.append("XSSESSION",s),c=i.streamId,f=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:e,licenseType:f,streamId:c},a={Ov:i.ticketAcquisitionURL,Iv:os.Gh,Rv:o,Yv:Lh.POST,lv:JSON.stringify(h),Ks:u},t.next=13,r.Cv(a);case 13:return v=t.sent,t.next=16,v.cv();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Ep=function(t){function n(n,i,e){return t.call(this,n,i,e,os.Gh)||this}W(n,t);var i=n.prototype;return i.MS=function(){var n=t.prototype.MS.call(this);return n.set("Content-Type","application/json"),n},i.zS=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=ku(n.buffer),r=this.SS,t.next=4,Tp(r,"widevine_modular",this.ll,i);case 4:return u=t.sent,this.AS(u.licenseServerUrl),o=Yu(JSON.stringify({payload:e,ticket:u.ticket})),t.abrupt("return",Iy(o,this.RS));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.HS=function(t){var n=t;return D.resolve(lu(n.license))},n}(Cy),Rp=function(t){function i(n,i,e){return t.call(this,n,i,e,os.Xh)||this}W(i,t);var e=i.prototype;return e.zS=function(t,n){return Iy(t,this.RS)},e.MS=function(){if(!tp(this.SS))throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.MS.call(this);return i.set("X-AxDRM-Message",this.SS.token),i},i}(Cy);function Ip(t){for(var n=new p(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var Dp=function(t){function n(n,i,e){var r;return(r=t.call(this,cr,n,i,e,os.Xh)||this).mE=void 0,r}W(n,t);var i=n.prototype;return i.NS=function(t){return t.playready||{}},i.MS=function(){var n=new ss(this.mE);return n.Qh(t.prototype.MS.call(this)),n},i.bE=function(t){return t.length>=1&&t[0].Iu.length>0},i.xS=function(n){var i=this.SS.playready.customData;if(i){var e=Ip(i),r=Ip('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+gu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return D.resolve({playready:{xf:r}})}return t.prototype.xS.call(this,n)},i.zS=function(){var t=D.coroutine(He.mark(function t(n,i){var e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Iy(n,this.RS);case 2:return e=t.sent,t.abrupt("return",this._E(e));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._E=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r,u,o,s,c,f,h,a,v,d,l,w,g,y;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,s=new DataView(n),p=s,m=new co,void 0===(b=!0)&&(b=!1),c=$u(p,m,b,!0),t.prev=3,f=C.wu(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(h=null==(i=f.Ru("PlayReadyKeyMessage")[0])?void 0:i.Ru("LicenseAcquisition")[0],a=null!=(e=null==h?void 0:h.Ru("Challenge"))?e:[],this.bE(a)&&(o=_u(a[0].qu)),v=new ss,d=null!=(r=null==h?void 0:null==(u=h.Ru("HttpHeaders")[0])?void 0:u.Ru("HttpHeader"))?r:[],l=0;l<d.length;l++)w=d[l],g=w.Ru("name")[0].qu,y=w.Ru("value")[0].qu,v.append(g,y);return this.mE=v,t.abrupt("return",o);case 18:case"end":return t.stop()}var p,m,b},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.GS=function(t,n){return D.resolve(t)},i.YS=function(n,i){return t.prototype.jS.call(this,n,Bh.jv,i)},n}(Ey),Np=function(){function t(n){this.kE=void 0,this.TE=n,this.kE=t.SE(n)}return t.SE=function(t){return"3"===t.version?Hy.dE:Hy.vE},t.prototype.EE=function(){var t={};if(this.kE===Hy.dE){var n={LatensRegistration:up(this.TE,Hy.dE)};t["X-TITANIUM-DRM-CDATA"]=Tu(JSON.stringify(n))}return t},j(t,[{key:"RE",get:function(){return this.kE}},{key:"bf",get:function(){return this.kE===Hy.vE}}]),t}();var Cp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).IE=void 0,r.IE=new Np(r.SS),r}W(i,t);var e=i.prototype;return e.xS=function(t){var i=this.SS;if(!this.SS)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(Jy(i)){var e={};return e.playready={xf:Ap(i,this.IE.RE)},D.resolve(e)}return D.reject(op(i,Hy.gs))},e.MS=function(){var n=new ss(this.IE.EE());return n.Qh(t.prototype.MS.call(this)),n},e.BS=function(){var t=D.coroutine(He.mark(function t(i,e,r){var u,o,s,c,f,h,a,v;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.yd){t.next=3;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,u.av(r);case 6:c=t.sent,f=Gu(new p(c)),(h=C.wu(f))&&(a=vg(h,"CustomData")).length>0&&(o=JSON.parse(a[0].qu),s=null==(v=o.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,u.Ev,u.Dv,s);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,e){return t.apply(this,arguments)}}(),e.bE=function(t){if(1!==t.length)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(Dp);function Ap(t,n){var i=up(t,n),e=i.DeviceInfo.FormatVersion,r=Tu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=Ju(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return Ju('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+gu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Op,Pp=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).AS("https://playready-license.drm.technology/rightsmanager.asmx"),r}W(i,t);var e=i.prototype;return e.bE=function(t){if(1!==t.length)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.US=function(n,i){var e=je({},n||{},{token:this.pE});return t.prototype.US.call(this,e,i)},j(i,[{key:"pE",get:function(){if(Qy(this.SS))return this.SS.token}}]),i}(Dp),xp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).AS("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return W(n,t),n.prototype.US=function(n,i){var e=n;return Xy(this.SS)&&(e=dp(this.SS,e)),t.prototype.US.call(this,e,i)},n}(Dp),Lp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).AS("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return W(n,t),n.prototype.MS=function(){var n=t.prototype.MS.call(this);return gp(this.SS,"PlayReady",n)},n}(Dp),Fp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).AS("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}W(n,t);var i=n.prototype;return i.HS=function(n){return(lr(Gu(new p(n)),"<?xml")?Op.DE:Op.cv)===Op.cv?D.resolve(pp(n)):D.resolve(t.prototype.HS.call(this,new p(n)))},i.MS=function(){return bp(t.prototype.MS.call(this),this.pE,this.SS)},j(n,[{key:"pE",get:function(){return mp(this.SS)}}]),n}(Dp);!function(t){t[t.DE=0]="DE",t[t.cv=1]="cv"}(Op||(Op={}));var Bp,Mp=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).NE=void 0,r}W(n,t);var i=n.prototype;return i.MS=function(){var n=t.prototype.MS.call(this);return this.NE&&n.set("Ticket",this.NE),n.set("Content-Type","text/xml"),n},i.zS=function(){var n=D.coroutine(He.mark(function n(i,e){var r,u;return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.SS,n.next=3,Tp(r,"playready",this.ll,e);case 3:return u=n.sent,this.AS(u.licenseServerUrl),this.NE=u.ticket,n.abrupt("return",t.prototype.zS.call(this,i,e));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(Dp),Up=function(t){function i(){return t.apply(this,arguments)||this}return W(i,t),i.prototype.MS=function(){if(!tp(this.SS))throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.MS.call(this);return i.set("X-AxDRM-Message",this.SS.token),i},i}(Dp);!function(t){t.Gh="application/json",t.CE="application/x-www-form-urlencoded",t.AE="application/octet-stream",t.vu="text/plain;charset=UTF-8"}(Bp||(Bp={}));var qp=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,n.hf,i,e,r,u)||this).OE="",o.PE=void 0,o.xE=void 0,o.xE=n.LE,o}W(n,t);var i=n.prototype;return i.FE=function(){return this.RS.certificateURL||this.PE},i.BE=function(t){this.PE=t},i.zS=function(t){return D.resolve(this.ME(t,this.OE))},i.ME=function(t,n){return"spc="+encodeURIComponent(gu(t))+"&assetId="+encodeURIComponent(n)},i.NS=function(t){return t.fairplay||{}},i.UE=function(t){var n=t.indexOf("?");if(n>=0)return D.resolve(t.substr(n+1));var i=t.split("/");return D.resolve(i[i.length-1])},i.xS=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null!=(i=this.xE)?i:Zu(new p(n)),t.next=3,this.UE(e);case 3:return r=t.sent,this.OE=r,(u={}).fairplay={Vf:r},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.MS=function(){var n=t.prototype.MS.call(this);return n.set("Content-Type",this.qE),n},i.GS=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$S){t.next=2;break}return t.abrupt("return",this.$S);case 2:return t.next=4,this.VE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.YS=function(n,i){return t.prototype.jS.call(this,n,Bh.Uv,i)},i.HE=function(t){var n=this.FE(),i=this.MS(),e={Ov:n,Iv:os.Xh,Rv:i,Yv:Lh.GET,Zv:!1,lv:null,Kv:0,Ks:t,ks:Fh.Bv,Jv:Bh.qv};return new qh(e)},i.VE=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.HE(n),t.next=3,this.ll.Cv(i);case 3:return e=t.sent,t.next=6,e.av();case 6:return r=t.sent,t.abrupt("return",new p(r));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=lu(i)}else n=new p(t);return D.resolve(n)},i.US=function(n,i){var e=t.prototype.US.call(this,n,i);return lr(e,"skd:")&&(e=e.substr("skd:".length)),e},j(n,[{key:"XS",get:function(){return!0}},{key:"qE",get:function(){return Bp.CE}}]),n}(Ey),Vp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,os.Xh)||this}W(n,t);var i=n.prototype;return i.UE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return D.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return D.resolve(i)},i.zS=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HS=function(t){return D.resolve(new p(t))},i.US=function(n,i){var e=n||{};return e.p1=tn(),t.prototype.US.call(this,e,i)},j(n,[{key:"qE",get:function(){return Bp.AE}}]),n}(qp),Hp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,os.Xh)||this).AS("https://fairplay-license.drm.technology/license"),u.BE("https://fairplay-license.drm.technology/certificate"),u}W(i,t);var e=i.prototype;return e.ME=function(t,n){var i={token:this.pE,contentId:n,payload:gu(t)};return JSON.stringify(i)},e.HS=function(t){return D.resolve(new p(t))},e.MS=function(){var n=t.prototype.MS.call(this);return n.set("x-vudrm-token",this.pE),n},j(i,[{key:"qE",get:function(){return Bp.Gh}},{key:"pE",get:function(){if(!Qy(this.SS))throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.SS.token}}]),i}(qp),jp="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",zp="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Wp=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,os.Xh)||this}return W(i,t),i.prototype.HS=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,jp)}if(!i)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,zp);return i}(Gu(new DataView(i)));return t.prototype.HS.call(this,e)},i}(qp);var $p=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,os.Gh)||this}W(i,t);var e=i.prototype;return e.zS=function(){var t=D.coroutine(He.mark(function t(i){var e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.SS){t.next=3;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return r=gu(i),t.abrupt("return",sp(e,r,Hy.ps));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.HS=function(t){try{var i;if(ht(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=_u(i.license);return D.resolve(new p(r))}return D.reject(new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return D.reject(new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.BS=function(t,n,i){return cp(t,n,i)},j(i,[{key:"qE",get:function(){return Bp.Gh}}]),i}(qp),Xp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,os.Xh)||this).AS("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.BE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}W(n,t);var i=n.prototype;return i.FE=function(){var n=t.prototype.FE.call(this);if(!n)return n;var i=C.Go(n),e=this.SS;return Xy(e)&&jh(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.UE=function(n){return Xy(this.SS)?D.resolve(this.SS.contentId):t.prototype.UE.call(this,n)},i.zS=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HS=function(t){return D.resolve(new p(t))},i.US=function(n,i){var e=n;return Xy(this.SS)&&(e=function(t,n){return je({},dp(t,n),{KeyId:t.keyId})}(this.SS,e)),t.prototype.US.call(this,e,i)},j(n,[{key:"qE",get:function(){return Bp.AE}}]),n}(qp),Gp=function(t){function i(i,e,r,u){var o;if(o=t.call(this,i,e,r,u,os.vu)||this,!$y(e))throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return o.AS("https://connect.conax.com:8097/license"),o}W(i,t);var e=i.prototype;return e.MS=function(){var n=t.prototype.MS.call(this);return gp(this.SS,"FairPlay",n)},e.VE=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.FE(),e={Ov:i,Iv:os.Xh,Rv:{},Yv:Lh.GET,Zv:!1,lv:null,Kv:0,Ks:n,ks:Fh.Bv,Jv:Bh.qv},t.next=4,this.ll.Cv(e);case 4:return r=t.sent,t.next=7,r.av();case 7:return u=t.sent,t.abrupt("return",new p(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.zS=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.UE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),D.resolve(Gu(lu(n)))):D.resolve("unknown")},e.HS=function(t){try{var n=JSON.parse(t);return D.resolve(new p(_u(n.CkcMessage)))}catch(t){return D.reject("CFLRW-66")}},i}(qp),Yp=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,os.vu)||this).AS(Uy[Qe.ps]),u}W(i,t);var e=i.prototype;return e.UE=function(t){return lr(t,"skd://")?D.resolve(t.substring("skd://".length,40)):D.reject(new Sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.ME=function(t,n){return"spc="+gu(t)+"&assetId="+n},i}(qp),Kp=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,os.vu)||this).AS("https://lic.drmtoday.com/license-server-fairplay/"),u}W(n,t);var i=n.prototype;return i.ME=function(t,n){var i="spc="+encodeURIComponent(gu(t))+"&"+encodeURI(n);return"persistent"===this.RS.licenseType?i+"&offline=true":i},i.MS=function(){return bp(t.prototype.MS.call(this),this.pE,this.SS)},j(n,[{key:"pE",get:function(){return mp(this.SS)}}]),n}(qp),Jp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,os.Xh)||this}W(n,t);var i=n.prototype;return i.UE=function(t){var n=t;return lr(n,"skd:")&&(n="http:"+n.substring(4)),lr(n,"http:")||lr(n,"https:")?D.resolve(C.Go(n).hostname):D.reject(new a("Could not parse ExpressPlay FairPlay content ID."))},i.zS=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.HS=function(t){return D.resolve(new p(t))},j(n,[{key:"qE",get:function(){return Bp.AE}}]),n}(qp),Qp=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,os.vu)||this}return W(n,t),n.prototype.MS=function(){var n=t.prototype.MS.call(this),i=this.SS.token;return n.set("Authorization","Bearer "+i),n},n}(qp),Zp=function(t){function n(n,i,e,r){var u;if(u=t.call(this,n,i,e,r,os.Gh)||this,!Zy(i))throw new a("Invalid Xstream DRM configuration");return u}W(n,t);var i=n.prototype;return i.VE=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r,u,o;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.FE(),e=this.MS(),r={Ov:i,Iv:os.Gh,Rv:e,Yv:Lh.POST,Ks:n,ks:Fh.Bv,Jv:Bh.qv},t.next=5,this.ll.Cv(r);case 5:return u=t.sent,t.next=8,u.cv();case 8:return o=t.sent,t.abrupt("return",new p(lu(o.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.YS=function(){var t=D.coroutine(He.mark(function t(n,i,e){var r,u,o,s,c,f,h;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=os.vu),r=gu(n),u=this.SS,t.next=5,Tp(u,"fairplay",this.ll,i);case 5:return o=t.sent,s=Yu(JSON.stringify({spc:r,ticket:o.ticket})),c={Ov:this.OS(),Iv:os.Gh,Rv:this.MS(),Yv:Lh.POST,lv:s,Kv:0,Ks:i,ks:Fh.Bv,Jv:Bh.Uv},t.next=10,this.ll.Cv(c);case 10:return f=t.sent,t.next=13,f.cv();case 13:return h=t.sent,t.abrupt("return",lu(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),j(n,[{key:"qE",get:function(){return Bp.Gh}}]),n}(qp),tm=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,os.vu)||this}W(i,t);var e=i.prototype;return e.ME=function(t,n){return gu(t)},e.HS=function(i){if(0===i.length)throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.HS.call(this,i)},e.MS=function(){var n=t.prototype.MS.call(this);return n.set("Content-Type","text/plain"),n},i}(qp),nm=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,os.Xh)||this}W(i,t);var e=i.prototype;return e.ME=function(t,n){return t},e.HS=function(t){return D.resolve(new p(t))},e.MS=function(){if(!tp(this.SS))throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.MS.call(this);return i.set("X-AxDRM-Message",this.SS.token),i},j(i,[{key:"qE",get:function(){return Bp.Gh}}]),i}(qp),im=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,os.Gh)||this).jE=void 0,u}W(i,t);var e=i.prototype;return e.ME=function(t,n){var i={spc:gu(t)};return JSON.stringify(i)},e.UE=function(t){var i=C.Go(t);return this.jE=t,i.searchParams.has("b")?D.resolve(i.searchParams.get("b")):D.reject(new Sl(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.US=function(n,i){var e=this.OS();return!e&&this.jE&&(e=this.jE),e&&(e=e.replace("skd://","https://")),t.prototype.US.call(this,n,i||e)},e.HS=function(){var t=D.coroutine(He.mark(function t(i){var e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=ht(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",lu(e.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),j(i,[{key:"qE",get:function(){return Bp.vu}}]),i}(qp),em=function(){function t(t,n){this.zE=t,this.WE=n}var n=t.prototype;return n.$E=function(t){return this.zE(t)},n.XE=function(t,n){throw new v(n+" must be "+this.WE+". (Received: "+t+")")},t}(),rm=new em(dt,"a number"),um=new em(ht,"a string"),om=new em(at,"a boolean");var sm,cm=(sm={responseCode:rm,isException:om,description:um,title:um,correlationId:um},{$E:function(t){if(!ct(t))return!1;for(var n=0,i=d.keys(sm);n<i.length;n++){var e=i[n];if(!sm[e].$E(t[e]))return!1}return!0},XE:function(t,n){if(!ct(t))throw new v(n+" must be an object.");for(var i=0,e=d.keys(sm);i<e.length;i++){var r=e[i],u=sm[r];if(!u.$E(t[r]))return u.XE(t[r],n+"."+r)}throw new v}});function fm(t,n,i,e,r){return hm.apply(this,arguments)}function hm(){return(hm=D.coroutine(He.mark(function t(n,i,e,r,u){var o;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=am(n,i,e,u),t.next=3,vm(o,r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function am(t,n,i,e){var r={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=C.Go(t);return jh(i,n),i.toString()}(i,r)),o=new ss({});o.append("Content-Type","application/json");var s=gu(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:s}};return{Ov:u,Iv:os.vu,Rv:o,Yv:Lh.POST,lv:JSON.stringify(c),Ks:e,ks:Fh.Bv,Jv:Bh.Uv}}function vm(t,n){return dm.apply(this,arguments)}function dm(){return(dm=D.coroutine(He.mark(function t(i,e){var r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.Cv(i);case 2:return r=t.sent,t.next=5,r.cv();case 5:if(u=t.sent,!cm.$E(u)){t.next=8;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.Ov,u.responseCode);case 8:return t.abrupt("return",lu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var lm=function(t){function n(n,i,e,r){var u;return(u=t.call(this,n,i,e,r,os.Xh)||this).GE=void 0,u.GE=i,u}W(n,t);var i=n.prototype;return i.UE=function(n){var i=n.replace("FairPlay",this.GE.releasePid);return t.prototype.UE.call(this,i)},i.YS=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fm(n,this.GE,this.OS(),this.ll,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(qp),wm=function(t){function i(n,i,e){return t.call(this,ar,n,i,e,os.Xh)||this}W(i,t);var e=i.prototype;return e.NS=function(t){return t.clearkey||{}},e.zS=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Iy(n,this.RS));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.LS=function(){var i=D.coroutine(He.mark(function i(e,r,u,o){var s,c;return He.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s=this.RS,!this.OS()){i.next=5;break}return i.abrupt("return",t.prototype.LS.call(this,e,this.DS,u,o));case 5:if(!s.keys||!s.keys.length){i.next=10;break}return c={keys:s.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Yu(JSON.stringify(c)).buffer);case 10:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,e,r){return i.apply(this,arguments)}}(),e.GS=function(t,n){return D.resolve(new p(0))},e.YS=function(n,i){return t.prototype.jS.call(this,n,Bh.zv,i)},i}(Ey),gm=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.zS=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Iy(n,this.RS));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(Cy),ym={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function pm(t,n,i){return mm.apply(this,arguments)}function mm(){return(mm=D.coroutine(He.mark(function t(n,i,e){var r,u,o;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Pm(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",D.resolve(i));case 5:return t.next=8,Hr(D.resolve(u.call(n,r)),e);case 8:if(!ro(o=t.sent)){t.next=11;break}return t.abrupt("return",uo(o));case 11:return t.abrupt("return",Om(je({},ym,o)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bm(t,n,i,e,r){return _m.apply(this,arguments)}function _m(){return(_m=D.coroutine(He.mark(function t(n,i,e,r,u){var o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.onCertificateResponse,s=Am(i,e,r),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",D.resolve(i));case 5:return t.next=8,Hr(D.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",uo(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function km(t,n,i,e){return Tm.apply(this,arguments)}function Tm(){return(Tm=D.coroutine(He.mark(function t(n,i,e,r){var u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Rm(n,i,e,r);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Om(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Sm(t,n,i,e,r,u){return Em.apply(this,arguments)}function Em(){return(Em=D.coroutine(He.mark(function t(n,i,e,r,u,o){var s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Cm(e,u),t.next=3,Dm(n,new p(i),s,r,o);case 3:return c=t.sent,t.abrupt("return",uo(c).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Rm(t,n,i,e){return Im.apply(this,arguments)}function Im(){return(Im=D.coroutine(He.mark(function t(n,i,e,r){var u,o,s;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,o=Cm(i,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",D.resolve(o));case 5:return t.next=8,Hr(D.resolve(u.call(n,o)),r);case 8:if(!ro(s=t.sent)){t.next=11;break}return t.abrupt("return",uo(s).buffer);case 11:return t.abrupt("return",je({fairplaySkdUrl:void 0},ym,s));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Dm(t,n,i,e,r){return Nm.apply(this,arguments)}function Nm(){return(Nm=D.coroutine(He.mark(function t(n,i,e,r,u){var o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null==n?void 0:n.onLicenseResponse,s=Am(i,e,r),o&&"function"==typeof o){t.next=5;break}return t.abrupt("return",D.resolve(i));case 5:return t.next=8,Hr(D.resolve(o.call(n,s)),u);case 8:return c=t.sent,t.abrupt("return",uo(c));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Cm(t,n){return je({},Pm(t),{fairplaySkdUrl:n})}function Am(t,n,i){return{url:i.Av,status:i.Ev,statusText:i.Dv,headers:i.Rv.Kh(),body:t,request:n}}function Om(t){return new qh({Ov:t.url,Yv:t.method,Rv:t.headers,lv:t.body,Zv:t.useCredentials})}function Pm(t){var n;return{url:t.Ov,body:null!=(n=xm(t.lv))?n:null,headers:t.Rv.Kh(),method:t.Yv,useCredentials:t.Zv}}function xm(t){if(t)return"string"==typeof t?Yu(t):t instanceof ArrayBuffer?new p(t):pu(t)?eo(t):void 0}var Lm,Fm=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e)||this).YE=void 0,u.YE=r,u}W(i,t);var e=i.prototype;return e.GS=function(t,n){return D.resolve(t)},e.YS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._E(so(i).buffer);case 2:return r=t.sent,u=this.FS(r,os.Xh,Bh.jv,e),t.next=6,km(this.YE,u,void 0,e);case 6:if(!((o=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new p(o));case 10:if(""!==o.Ov){t.next=12;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.ll.Cv(o);case 15:return s=t.sent,t.next=18,s.av(e);case 18:return c=t.sent,t.t0=p,t.next=22,Sm(this.YE,c,u,s,void 0,e);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),qr(t.t2),new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Dp),Bm=function(t){function i(n,i,e,r){var u;return(u=t.call(this,n,i,e,os.Xh)||this).YE=void 0,u.YE=r,u}W(i,t);var e=i.prototype;return e.GS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$S){t.next=2;break}return t.abrupt("return",this.$S);case 2:return r=this.FS(i,os.Xh,Bh.Hv,e),t.next=5,pm(this.YE,r,e);case 5:if(!((u=t.sent)instanceof p)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.Ov){t.next=11;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.ll.Cv(u);case 14:return o=t.sent,t.next=17,o.av(e);case 17:s=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),qr(t.t0),new Sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return c=Cm(r,void 0),t.next=27,bm(this.YE,new p(s),c,o,e);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),e.YS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u,o,s;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.FS(i,os.Xh,Bh.Vv,e),t.next=3,km(this.YE,r,void 0,e);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.Ov){t.next=9;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.ll.Cv(u);case 12:return o=t.sent,t.next=15,o.av(e);case 15:s=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),qr(t.t0),new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=p,t.next=25,Sm(this.YE,s,r,o,void 0,e);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(gm),Mm=function(t){function i(n,i,e,r,u){var o;return(o=t.call(this,n,i,e,r,os.Xh)||this).YE=void 0,o.KE=void 0,o.YE=u,o}W(i,t);var e=i.prototype;return e.GS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$S){t.next=2;break}return t.abrupt("return",this.$S);case 2:return r=this.HE(e),t.next=5,pm(this.YE,r,e);case 5:if(u=t.sent,!pu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.ll.Cv(u);case 11:return o=t.sent,t.next=14,o.av();case 14:return s=t.sent,c=Cm(r,void 0),t.next=18,bm(this.YE,new p(s),c,o,e);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),qr(t.t0),new Sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),e.YS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u,o,s;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.FS(i,os.Xh,Bh.Uv,e),t.next=3,km(this.YE,r,this.KE,e);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new p(u));case 7:if(""!==u.Ov){t.next=9;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.ll.Cv(u);case 12:return o=t.sent,t.next=15,o.av(e);case 15:return s=t.sent,t.t0=p,t.next=19,Sm(this.YE,s,r,o,this.KE,e);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),qr(t.t2),new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.UE=function(n){var i;return this.KE=n,null!=(i=this.YE)&&i.extractFairplayContentId?D.resolve(this.YE.extractFairplayContentId(n)):t.prototype.UE.call(this,n)},i}(qp),Um=function(){function t(){}var n=t.prototype;return n.JE=function(t,n,i,e){switch(t.hf.ks){case Qe.ys:return this.QE(n,i,e);case Qe.gs:return this.ZE(n,i,e);case Qe.ps:return this.tR(t,n,i,e);case Qe.bs:default:return this.nR(n,i,e)}},n.QE=function(t,n,i){var e,r=(e=t).integration===Sy&&ht(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&By.aE.cE(r,rr)){var u=By.aE.hE(r,rr,t);return new Bm(t,n,i,u)}switch(r){case fy:return new ap(t,n,i);case dy:return new vp(t,n,i);case vy:return new lp(t,n,i);case hy:return new yp(t,n,i);case gy:return new _p(t,n,i);case py:return new kp(t,n,i);case my:return new Ep(t,n,i);case _y:return new Rp(t,n,i);case wy:default:return new gm(t,n,i,os.Xh)}},n.ZE=function(t,n,i){var e=t.integration;if(e&&By.aE.cE(e,ir)){var r=By.aE.hE(e,ir,t);return new Fm(t,n,i,r)}switch(e){case fy:return new Cp(t,n,i);case dy:return new Pp(t,n,i);case vy:return new xp(t,n,i);case hy:return new Lp(t,n,i);case gy:return new Fp(t,n,i);case my:return new Mp(t,n,i);case _y:return new Up(t,n,i);case wy:default:return new Dp(t,n,i)}},n.tR=function(t,n,i,e){var r=n.integration;if(r&&By.aE.cE(r,or)){var u=By.aE.hE(r,or,n);return new Mm(t,n,i,e,u)}switch(r){case ay:return new Vp(t,n,i,e);case dy:return new Hp(t,n,i,e);case ly:return new Wp(t,n,i,e);case fy:return new $p(t,n,i,e);case vy:return new Xp(t,n,i,e);case hy:return new Gp(t,n,i,e);case wy:return new Yp(t,n,i,e);case gy:return new Kp(t,n,i,e);case yy:return new Jp(t,n,i,e);case py:return new Qp(t,n,i,e);case my:return new Zp(t,n,i,e);case by:return new tm(t,n,i,e);case _y:return new nm(t,n,i,e);case ky:return new im(t,n,i,e);case Ty:return new lm(t,n,i,e);default:return new qp(t,n,i,e,os.vu)}},n.nR=function(t,n,i){return new wm(t,n,i)},n.iR=function(t){return t.ks===Qe.gs||t.ks===Qe.ys||t.ks===Qe.ps||t.ks===Qe.bs},n.bf=function(t,n){var i;if(t.ks!==Qe.gs)return!1;if(ut(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!By.aE.cE(e,or))&&(e===fy&&new Np(n).bf)},n.wE=function(t,n){if(t.ks===Qe.ys){var i=n.integration;if(!i||!By.aE.cE(i,or))return i===fy?ap.wE():void 0}},t}();!function(t){t[t.eR=0]="eR",t[t.rR=1]="rR",t[t.uR=2]="uR",t[t.oR=3]="oR",t[t.qw=4]="qw",t[t.sR=5]="sR",t[t.$w=6]="$w",t[t.cR=7]="cR",t[t.fR=8]="fR"}(Lm||(Lm={}));var qm,Vm=function(){function t(){}return t.prototype.hR=function(t){},j(t,[{key:"aR",get:function(){return 0}},{key:"vR",get:function(){return 0}}]),t}(),Hm=function(){function t(t,n){void 0===n&&(n=new Um),this.QT=void 0,this.dR=void 0,this.TE=void 0,this.QT=t,this.dR=n}var n=t.prototype;return n.lR=function(t){this.TE=t},n.wE=function(t){var n=this.TE;if(void 0!==n)return this.dR.wE(t,n)},n.bf=function(t){var n=this.TE;return void 0!==n&&this.dR.bf(t,n)},n.wR=function(t){var n={hf:t.hf,gR:t.gR||[],LE:t.LE},i=this.dR.JE(n,this.TE||{},t.ES,this.QT);return new jm(i)},t}(),jm=function(){function t(t){this.yR=void 0,this.yR=t}var n=t.prototype;return n.PS=function(t){return this.yR.PS(t)},n.xS=function(t,n,i){return this.yR.xS(n,i)},n.XS=function(){return this.yR.XS||void 0!==this.yR.$S},n.GS=function(t,n){return this.yR.GS(t,n)},n.YS=function(t,n,i){return n&&this.yR.AS(n),this.yR.YS(t,i)},n.Vs=function(){this.yR.ce()},t}(),zm=function(t){function n(n){var i;(i=t.call(this)||this).pR=[],i.mR=function(t){i.$l(t.kl)},i.bR=function(t){var n=t.kl;i._R(n)||i.Xl(n)};for(var e=0;e<n.length;e++){var r=n[e];i.kR(r)}return i}W(n,t);var i=n.prototype;return i.kR=function(t){this.pR.push(t);for(var n=0,i=t.Kl;n<i.length;n++){var e=i[n];this.$l(e)}this.TR(t)},i.SR=function(t){Ar(this.pR,t),this.ER(t);for(var n=0,i=t.Kl;n<i.length;n++){var e=i[n];this._R(e)||this.Xl(e)}},i._R=function(t){for(var n=0,i=this.pR;n<i.length;n++){if(i[n].Gl(t))return!0}return!1},i.TR=function(t){t.ic(Rv.wl,this.mR),t.ic(Rv.yl,this.bR)},i.ER=function(t){t.oc(Rv.wl,this.mR),t.oc(Rv.yl,this.bR)},i.ce=function(){for(;this.pR.length>0;)this.SR(this.pR[0]);t.prototype.ce.call(this)},i._l=function(){return vd(this)},n}(Bv);function Wm(){return qm||(qm=E&&E.document&&E.document.createElement("video")),qm}var $m=function(t){function i(i,e,r,u,o,s,c){var f;return void 0===s&&(s=new Um),void 0===c&&(c=Zo()),(f=t.call(this)||this).RR=void 0,f.IR=void 0,f.DR=void 0,f.Ig=void 0,f.Dg=void 0,f.Ng=void 0,f.NR=void 0,f.CR=void 0,f.AR=void 0,f.OR=void 0,f.PR=void 0,f.QT=void 0,f.Ds=void 0,f.xR=void 0,f.LR=void 0,f.FR=new Vm,f.MR=function(t){var i=t.gc,e=i.code,r=new Uo(function(t){switch(t){case _l.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case _l.NETWORK:return n.ErrorCode.NETWORK_ERROR;case _l.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case _l.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case _l.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case _l.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case _l.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}(e),"Something went wrong during native playback.",i),u=new El(e,r.message,i.message);f.UR(r,u)},f.qR=function(){f.nc(new Kd(f.rg,f.iy))},f.HR=function(t){f.fg||(f.LR=void 0),f.nc(t)},f.jR=function(t){f.LR=void 0,f.nc(t)},f.zR=function(){f.nc(new $l(f.uy))},f.WR=function(){f.dg>0&&f.vg>0&&f.nc(new Yg)},f.$R=function(t){f.Ig.$l(new Ml(t.track))},f.XR=function(t){var n=Gm(f.Ig,t.track);n&&f.Ig.Xl(n)},f.GR=function(){f.YR(f.Ig)},f.KR=function(t){f.Dg.$l(new Wl(t.track))},f.JR=function(t){var n=Gm(f.Dg,t.track);n&&f.Dg.Xl(n)},f.QR=function(){f.YR(f.Dg)},f.ZR=function(t){f.nc(t),f.UR(t.errorObject,Il(t.errorObject))},f.RR=e,f.QT=r,f.Ds=c,f.IR=f.RR.te(Dl.Xv),f.AR=f.IR.tI.preload,f.OR=new cy(f.IR,!0),f.OR.ic($d,f.tc),f.xR=new Hm(r,s),f.IR.nI=f.xR,f.iI(),f.Ig=new Nl,f.Dg=new Nl,f.eI(),f.PR=new Hg(f.IR,f.QT),f.Ng=new zm([f.IR.Lg]),f.Wg(),f}W(i,t);var e=i.prototype;return e.$g=function(){this.IR.$g()},e.Wg=function(){this.IR.Wg()},e.Ug=function(){var t=D.coroutine(He.mark(function t(n,i,e){var r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ur(e),r={ks:Gg.oS,Ew:n.src,dv:n.type,rI:this.uI(n),yy:this.AR,oI:n.crossOrigin,sI:i.metadata&&i.metadata.title},this.xR.lR(n.contentProtection),t.next=5,this.IR.tf(r);case 5:this.DR=t.sent,Ur(e),i.textTracks&&this.cI(i.textTracks),Xg(this.Lg);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),e.cI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.IR.fI()&&it.Nr&&ey&&!Lg(i.kind,i.label)&&this.hI(i)){var e,r=null!=(e=i.kind)?e:Dg.Fb;this.IR.aI(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.PR.tS(i)}}},e.hI=function(t){return!t.format||"webvtt"===t.format},e.ie=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.IR.ie();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.vI){t.next=12;break}return t.next=10,this.IR.hc(us.Ch);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),e.ee=function(){this.IR.ee()},e.qg=function(){return void 0!==this.IR.tI.webkitShowPlaybackTargetPicker},e.Vg=function(){this.IR.tI.webkitShowPlaybackTargetPicker&&this.IR.tI.webkitShowPlaybackTargetPicker()},e.Hg=function(){this.IR.tI.webkitShowPlaybackTargetPicker&&this.IR.tI.webkitShowPlaybackTargetPicker()},e.Xg=function(){return this.IR.tI},e.Gg=function(){return this.IR.dI},e.Yl=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NR=void 0,this.CR=void 0,this.DR=void 0,t.next=5,this.PR.Yl();case 5:return this.IR.lI(),t.next=8,this.IR.Yl();case 8:this.OR.Yl(),this.yy=this.AR,this.Pg.Yl(),this.xg.Yl(),this.LR=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.ce=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Yl();case 2:return this.uc(),this.wI(),this.gI(),this.OR.ce(),this.IR.nI=void 0,t.next=9,this.RR.oe(this.IR);case 9:return this.Ig.ce(),this.Dg.ce(),this.Ng.ce(),t.next=14,this.PR.ce();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.iI=function(){this.IR.ic(us.Nh,this.tc),this.IR.ic(us.Dh,this.tc),this.IR.ic(us.Hh,this.qR),this.IR.ic(us.Ch,this.tc),this.IR.ic(us.Th,this.tc),this.IR.ic(us.Lh,this.tc),this.IR.ic(us.xh,this.HR),this.IR.ic(us.bh,this.tc),this.IR.ic(us.Ah,this.tc),this.IR.ic(us.jh,this.tc),this.IR.ic(us.ph,this.tc),this.IR.ic(us.Ph,this.WR),this.IR.ic(qd.eg,this.jR),this.IR.ic(sd.lw,this.MR),this.IR.ic(us.wh,this.tc),this.IR.ic(us.lh,this.ZR),this.IR.tI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.zR)},e.wI=function(){this.IR.oc(us.Nh,this.tc),this.IR.oc(us.Dh,this.tc),this.IR.oc(us.Hh,this.qR),this.IR.oc(us.Ch,this.tc),this.IR.oc(us.Th,this.tc),this.IR.oc(us.Lh,this.tc),this.IR.oc(us.xh,this.HR),this.IR.oc(us.bh,this.tc),this.IR.oc(us.Ah,this.tc),this.IR.oc(us.jh,this.tc),this.IR.oc(us.ph,this.tc),this.IR.oc(us.Ph,this.WR),this.IR.oc(qd.eg,this.jR),this.IR.oc(sd.lw,this.MR),this.IR.oc(us.wh,this.tc),this.IR.oc(us.lh,this.ZR),this.IR.tI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.zR)},e.uI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hf:hr,yI:[{initDataTypes:[hr.Ss],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},e.eI=function(){var t=this.IR.tI.audioTracks,n=this.IR.tI.videoTracks;t&&(t.addEventListener("addtrack",this.$R),t.addEventListener("removetrack",this.XR),t.addEventListener("change",this.GR)),n&&(n.addEventListener("addtrack",this.KR),n.addEventListener("removetrack",this.JR),n.addEventListener("change",this.QR))},e.gI=function(){var t=this.IR.tI.audioTracks,n=this.IR.tI.videoTracks;t&&(t.removeEventListener("addtrack",this.$R),t.removeEventListener("removetrack",this.XR),t.removeEventListener("change",this.GR)),n&&(n.removeEventListener("addtrack",this.KR),n.removeEventListener("removetrack",this.JR),n.removeEventListener("change",this.QR))},e.YR=function(t){for(var n=0;n<t.Jl;n++){t.Wl(n).Dy()}},e.ty=function(){this.IR.ty()},e.UR=function(t,n){this.NR||(this.NR=n,this.CR=t,this.nc(new ul(t)))},j(i,[{key:"vI",get:function(){var t=this.IR.ny,n=this.rg;return t.pI(n,.01)}},{key:"Pg",get:function(){return this.Ig}},{key:"ny",get:function(){return this.IR.ny.mI()}},{key:"iy",get:function(){return this.IR.iy},set:function(t){t&&this.IR.bI(t)}},{key:"rg",get:function(){return void 0!==this.LR?this.LR:this.IR.rg},set:function(t){this.uy&&(this.LR=t),this.IR.Ac(t)}},{key:"ug",get:function(){return this.IR.ug}},{key:"og",get:function(){return this.IR.og}},{key:"gc",get:function(){return this.NR}},{key:"sg",get:function(){return this.CR}},{key:"Fg",get:function(){}},{key:"uy",get:function(){return this.IR.uy}},{key:"_g",get:function(){return je({},{oy:0,sy:0,hy:0,ay:0,vy:0,ly:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.IR._I())}},{key:"cg",get:function(){return this.IR.cg},set:function(t){this.IR.cg=t}},{key:"wy",get:function(){return!0}},{key:"fg",get:function(){return this.IR.fg}},{key:"hg",get:function(){return this.IR.hg},set:function(t){this.IR.hg=t}},{key:"gy",get:function(){return this.IR.tI.played}},{key:"yy",get:function(){return this.AR},set:function(t){this.AR=t,this.DR&&(this.DR.yy=t)}},{key:"kw",get:function(){return this.IR.kw}},{key:"py",get:function(){return this.IR.py.mI()}},{key:"ag",get:function(){return this.IR.ag}},{key:"kI",get:function(){return this.IR.kI}},{key:"Lg",get:function(){return this.Ng}},{key:"xg",get:function(){return this.Dg}},{key:"vg",get:function(){return this.IR.vg}},{key:"dg",get:function(){return this.IR.dg}},{key:"lg",get:function(){return this.IR.lg},set:function(t){this.IR.lg=t}},{key:"my",get:function(){return this.IR.my},set:function(t){this.IR.my=t}},{key:"TI",get:function(){return this.FR}}]),i}(wd);var Xm=function(){function t(){this.SI=Lm.fR}var n=t.prototype;return n.rE=function(t,n,i,e,r,u){return new $m(t,n,i,e,r)},n.EI=function(t,n){return function(t){return!t.type||!(!Wm().canPlayType||!Wm().canPlayType(t.type))}(t)},n.RI=function(){return!1},t}();function Gm(t,n){for(var i=0,e=t.Kl;i<e.length;i++){var r=e[i];if(r.Ay===n)return r}}var Ym=function(){function t(){this.II=new Xm,this.DI=[]}t.NI=function(){return this.su};var n=t.prototype;return n.CI=function(t){this.DI.push(t)},n.rE=function(t,n,i,e,r,u){for(var o=this.II.rE(t,n,i,e,r,u),s=0,c=this.DI;s<c.length;s++){o=(0,c[s])(o,i,e)}return o},n.EI=function(t,n){return this.II.EI(t,n)},n.RI=function(){return!1},j(t,[{key:"SI",get:function(){return this.II.SI}}]),t}();function Km(t,n){return Rr(t.SI,n.SI)}Ym.su=new Ym;var Jm=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).AI=Ym.NI(),n}W(n,t);var i=n.prototype;return i.OI=function(t){this.AI=t},i.xI=function(){return this.AI},i.LI=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=11;break}return r=n[e],t.next=5,this.FI(r,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{BI:r,MI:u});case 8:e++,t.next=1;break;case 11:o=this.AI,s=0;case 13:if(!(s<n.length)){t.next=20;break}if(c=n[s],!o.EI(c,i)){t.next=17;break}return t.abrupt("return",{BI:c,MI:o});case 17:s++,t.next=13;break;case 20:return t.abrupt("return",{BI:n[0],MI:o});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.UI=[]}var n=t.prototype;return n.qI=function(t){this.UI.push(t),this.UI.sort(Km)},n.FI=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0,r=this.UI;case 1:if(!(e<r.length)){t.next=17;break}if(u=r[e],!vt(o=u.EI(n,i))){t.next=10;break}return t.next=7,o;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(o);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:e++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Jm.su=new Jm;var Qm,Zm=function(){function t(t){var n,i;this.VI=void 0,this.VI=E&&E.document&&E.document.createElement("div"),n=this.VI,(i=n.style).position="absolute",i.left="0",i.right="0",i.top="0",i.bottom="0",i.width="100%",i.height="100%",t.appendChild(this.VI)}return t.prototype.ce=function(){be(this.VI)},t}();function tb(t){switch(t){case Qm.HI:case"":return Qm.HI;case Qm.Mb:return Qm.Mb;case Qm.jI:default:return Qm.jI}}!function(t){t.fR="",t.jI="none",t.Mb="metadata",t.HI="auto"}(Qm||(Qm={}));var nb=[sd.lw,us.mh,us.yc,us.$h,us.hh,us._h,us.Rh,us.Ih,us.Bh,us.Uh,qd.Qw,qd.Zw,qd.tg,qd.ng,qd.Ll,qd.ig,qd.eg,us.lh,us.wh,us.ph,us.bh,us.Th,us.Sh,us.Nh,us.Ch,us.Dh,us.Ah,us.Ph,us.Lh,us.xh,us.Hh,us.jh,us.Oh,us.Eh,us.Fh],ib=function(t){function n(n,i){var e;return(e=t.call(this)||this).zI=void 0,e.WI=void 0,e.$I=void 0,e.XI=void 0,e.AR=Qm.jI,e.GI=void 0,e.YI=!0,e.Ig=new cd,e.Dg=new cd,e.Ng=new ld,e.Cg=new kl,e.zI=n,e.$I=i,e.$I.yy=e.yy,e.KI(),e}W(n,t);var i=n.prototype;return i.ee=function(){this.$I.ee()},i.ie=function(){var t=this.$I.ie();vt(t)&&$r(t)},i.Bg=function(){return this.Ug(void 0)},i.ae=function(){},i.Kg=function(t){return!1},i.KI=function(){this.Ig.ew=this.$I.Pg,this.Dg.ew=this.$I.xg,this.Ng.ew=this.$I.Lg,this.Cg.ew=this.$I.Fg,this.$I.ic(nb,this.tc)},i.JI=function(){this.$I.oc(nb,this.tc),this.Ig.ew=void 0,this.Dg.ew=void 0,this.Ng.ew=void 0,this.Cg.ew=void 0},i.Mg=function(){return this.GI},i.Ug=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ur(i),this.GI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!xd(e=n.sources.filter(Ud))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.zI.LI(e,n);case 9:if(r=t.sent,Ur(i),u=r.BI,o=r.MI,s=this.Gg(),c=cl(this),this.WI===o&&!this.gc){t.next=25;break}return this.JI(),t.next=19,this.$I.ce();case 19:Ur(i),this.WI=o,this.$I=this.QI(o),eb(this.$I,c),fl(this,c,this),this.KI();case 25:return this.$I.yy=this.yy,this.YI?this.$I.Wg():this.$I.$g(),t.next=29,this.$I.Ug(u,n,i);case 29:Ur(i),this.ZI(u),this.Gg()!==s&&this.nc(new yd);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ZI=function(t){this.XI!==t&&(this.XI=t,this.nc(new pd(t)))},i.qg=function(){return this.$I.qg()},i.Vg=function(){this.$I.Vg()},i.Hg=function(){this.$I.Hg()},i.Gg=function(){return this.$I.Gg()},i.ty=function(){this.$I.ty()},i.Yl=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GI=void 0,this.ZI(void 0),t.next=4,this.$I.Yl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ce=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uc(),t.next=3,this.Yl();case 3:return t.next=5,this.$I.ce();case 5:this.Ig.ce(),this.Dg.ce(),this.Ng.ce(),this.Cg.ce();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Wg=function(){this.YI=!0,this.$I.Wg()},i.$g=function(){this.YI=!1,this.$I.$g()},j(n,[{key:"Pg",get:function(){return this.Ig}},{key:"ny",get:function(){return this.$I.ny}},{key:"gc",get:function(){return this.$I.gc}},{key:"sg",get:function(){return this.$I.sg}},{key:"iy",get:function(){return this.$I.iy},set:function(t){this.$I.iy=t}},{key:"Zg",get:function(){return this.XI}},{key:"rg",get:function(){return this.$I.rg},set:function(t){this.$I.rg=t}},{key:"ug",get:function(){return this.$I.ug}},{key:"og",get:function(){return this.$I.og}},{key:"Fg",get:function(){return this.Cg}},{key:"uy",get:function(){return this.$I.uy}},{key:"_g",get:function(){return this.$I._g}},{key:"cg",get:function(){return this.$I.cg},set:function(t){this.$I.cg=t}},{key:"wy",get:function(){return this.$I.wy}},{key:"fg",get:function(){return this.$I.fg}},{key:"hg",get:function(){return this.$I.hg},set:function(t){this.$I.hg=t}},{key:"gy",get:function(){return this.$I.gy}},{key:"yy",get:function(){return this.AR},set:function(t){this.AR=t,this.$I&&(this.$I.yy=this.AR)}},{key:"kw",get:function(){return this.$I.kw}},{key:"py",get:function(){return this.$I.py}},{key:"ag",get:function(){return this.$I.ag}},{key:"Lg",get:function(){return this.Ng}},{key:"vg",get:function(){return this.$I.vg}},{key:"xg",get:function(){return this.Dg}},{key:"dg",get:function(){return this.$I.dg}},{key:"lg",get:function(){return this.$I.lg},set:function(t){this.$I.lg=t}},{key:"TI",get:function(){return this.$I.TI}}]),n}(Qr);function eb(t,n){t.cg!==n.cg&&(t.cg=n.cg),t.lg!==n.lg&&(t.lg=n.lg),t.hg!==n.hg&&(t.hg=n.hg)}var rb,ub=function(t){function n(n,i){var e;return(e=t.call(this)||this).Jl=void 0,e.tD=void 0,e.nD=void 0,e.Jl=n.length>>1,e.tD=n,e.nD=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.Jl),e}W(n,t);var i=n.prototype;return i.iD=function(t){return this.tD[2*t]},i.eD=function(t){return this.nD[2*t]},i.rD=function(t){return this.tD[2*t+1]},i.uD=function(t){return this.nD[2*t+1]},j(n,[{key:"oD",get:function(){return this.tD.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Jy=function(t,n){return 0===this.mp(t,n)},n.Xp=function(t,n){return this.mp(t,n)>0},n.Gp=function(t,n){return this.mp(t,n)>=0},n.Sp=function(t,n){return this.mp(t,n)<0},n.kp=function(t,n){return this.mp(t,n)<=0},n.lm=function(t,n){return this.Sp(t,n)?t:n},n.dm=function(t,n){return this.Xp(t,n)?t:n},n.sD=function(t,n,i){return i?this.kp(t,n):this.Sp(t,n)},n.mI=function(){var t=this;return{get length(){return t.Jl},start:function(n){var i=0|n;return t.cD(i),t.fD(t.iD(i))},end:function(n){var i=0|n;return t.cD(i),t.fD(t.rD(i))}}},n.hD=function(){for(var t=new Array(2*this.Jl),n=new Array(2*this.Jl),i=0;i<this.Jl;i++)t[2*i]=this.iD(i),t[2*i+1]=this.rD(i),n[2*i]=!0,n[2*i+1]=!0;return this.aD(t,n)},n.cD=function(t){if(t<0)throw new a("The index provided ("+t+") must be non-negative");if(t>=this.Jl)throw new a("The index provided ("+t+") is greater than the maximum bound ("+this.Jl+")")},n.vD=function(t){if(0===this.Jl)return this.dD();if(this.pI(t))return t;if(this.kp(t,this.iD(0)))return this.iD(0);if(this.Gp(t,this.rD(this.Jl-1)))return this.rD(this.Jl-1);for(var n,i=this.lD(),e=0;e<this.Jl;e++){var r=this.iD(e),u=this.Tp(r,t);this.Sp(u,i)&&(n=r,i=u);var o=this.rD(e),s=this.Tp(this.rD(e),t);this.Sp(s,i)&&(n=o,i=s)}return n},n.wD=function(t){for(var n=0,i=0,e=[],r=[];n<this.Jl&&i<t.Jl;){var u=this.iD(n),o=this.rD(n),s=this.eD(n),c=this.uD(n),f=t.iD(i),h=t.rD(i),a=t.eD(i),v=t.uD(i),d=this.dm(u,f),l=this.lm(o,h),w=void 0;w=this.Jy(u,f)?s&&a:this.Jy(d,u)?s:a;var g=void 0;g=this.Jy(o,h)?c&&v:this.Jy(l,o)?c:v,(this.Sp(d,l)||w&&g&&this.Jy(d,l))&&(e.push(d,l),r.push(w,g));var y=this.mp(this.rD(n),t.rD(i));0===y?(n+=1,i+=1):y<0?n+=1:i+=1}return this.aD(e,r)},n.gD=function(){var t=this.yD(),n=t.Jl;if(0===n)return this.aD([t.pD(),t.lD()],[!1,!1]);var i=[],e=[],r=t.iD(0);t.Jy(r,t.pD())||(i.push(t.pD(),r),e.push(!1,!t.eD(0)));for(var u=0;u<n-1;u++)i.push(t.rD(u),t.iD(u+1)),e.push(!t.uD(u),!t.eD(u+1));var o=t.rD(n-1);return t.Jy(o,t.lD())||(i.push(o,t.lD()),e.push(!t.uD(n-1),!1)),t.aD(i,e)},n.mD=function(t){for(var n=0,i=0,e=this.Jl,r=t.Jl,u=new Array(2*(e+r)),o=new Array(2*(e+r)),s=0;n<e&&i<r;){var c=this.iD(n),f=this.rD(n),h=t.iD(i),a=t.rD(i);this.Sp(c,h)||this.Jy(c,h)&&this.Sp(f,a)?(u[s]=c,u[s+1]=f,o[s]=this.eD(n),o[s+1]=this.uD(n),n++):(u[s]=h,u[s+1]=a,o[s]=t.eD(i),o[s+1]=t.uD(i),i++),s+=2}for(;n<e;)u[s]=this.iD(n),u[s+1]=this.rD(n),o[s]=this.eD(n),o[s+1]=this.uD(n),n++,s+=2;for(;i<r;)u[s]=t.iD(i),u[s+1]=t.rD(i),o[s]=t.eD(i),o[s+1]=t.uD(i),i++,s+=2;return this.aD(u,o)},n.bD=function(t){void 0===t&&(t=this.dD());var n=this.Jl;if(n<2)return this;for(var i=[],e=[],r=this.iD(0),u=this.rD(0),o=this.eD(0),s=this.uD(0),c=1;c<n;c++){var f=this.iD(c),h=this.rD(c),a=this.eD(c),v=this.uD(c);this.Sp(r,f)&&this.Xp(u,h)||(this.Jy(r,f)&&(o=a=o||a),this.Jy(u,h)&&(s=v=s||v),this.sD(f,this._y(u,t),s||a)?(u=h,s=v):(i.push(r,u),e.push(o,s),r=f,u=h,o=a,s=v))}return i.push(r,u),e.push(o,s),this.aD(i,e).yD()},n.yD=function(){for(var t=[],n=[],i=0;i<this.Jl;i++){var e=this.iD(i),r=this.rD(i),u=this.eD(i),o=this.uD(i);this.Jy(e,r)?(u||o)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(u,o))}return this.aD(t,n)},n._D=function(t){return this.Jl?t.Jl?this.mD(t).bD():this:t},n.kD=function(t){var n=this.yD(),i=t.yD(),e=n.gD(),r=i.gD(),u=e.wD(i),o=r.wD(n);return u._D(o)},n.Cc=function(t){if(this.Jy(t,this.dD()))return this;for(var n=[],i=[],e=0;e<this.Jl;e++){var r=this._y(this.iD(e),t),u=this._y(this.rD(e),t);n.push(r,u),i.push(this.eD(e),this.uD(e))}return this.aD(n,i)},n.TD=function(t){return 0===this.Jl||0===t.Jl?this:this.yD().wD(t.yD().gD())},n.pI=function(t,n){return this.SD(t,n)>=0},n.ED=function(t,n,i,e,r){return this.RD(t,n,i,e,r)>=0},n.DD=function(t,n,i,e,r){return this.ND(t,n,i,e,r)>=0},n.CD=function(t){if(t.Jl!==this.Jl)return!1;for(var n=0;n<this.Jl;n++)if(!this.Jy(this.iD(n),t.iD(n))||!this.Jy(this.rD(n),t.rD(n))||this.eD(n)!==t.eD(n)||this.uD(n)!==t.uD(n))return!1;return!0},n.OD=function(t){for(var n=[],i=[],e=0;e<this.Jl;e++){var r=this.iD(e),u=this.rD(e),o=this.eD(e),s=this.uD(e);t(r,u,o,s)&&(n.push(r,u),i.push(o,s))}return this.aD(n,i)},n.ND=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.dD());for(var u=this.Dp(t,r),o=this._y(n,r),s=0;s<this.Jl;s+=1)if(this.sD(this.iD(s),o,!e||this.eD(s))&&this.sD(u,this.rD(s),!i||this.uD(s)))return s;return-1},n.RD=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.dD());for(var u=this._y(t,r),o=this.Dp(n,r),s=0;s<this.Jl;s+=1)if(this.sD(this.iD(s),u,!i||this.eD(s))&&this.sD(o,this.rD(s),!e||this.uD(s)))return s;return-1},n.SD=function(t,n){return this.RD(t,t,!0,!0,n)},n.PD=function(t,n){void 0===n&&(n=this.dD());for(var i=this._y(t,n),e=this.Jl-1;e>=0;e-=1)if(this.sD(this.iD(e),i,this.eD(e)))return e;return-1},n.xD=function(t,n){void 0===n&&(n=this.dD());for(var i=this.Dp(t,n),e=0;e<this.Jl;e+=1)if(this.sD(i,this.rD(e),this.uD(e)))return e;return-1},n.LD=function(t){return this.cD(t),this.aD([this.iD(t),this.rD(t)],[this.eD(t),this.uD(t)])},n.FD=function(t,n){var i=this.SD(t,n);return i<0?void 0:this.LD(i)},j(t,[{key:"BD",get:function(){for(var t=this.dD(),n=0;n<this.Jl;n++){var i=this.Dp(this.rD(n),this.iD(n));t=this._y(t,i)}return t}}]),t}()),ob=function(t){function n(n,i){return t.call(this,n,i)||this}W(n,t);var i=n.prototype;return i.mp=function(t,n){return t<n?kr.Ls:t===n?kr.Ps:kr.xs},i._y=function(t,n){return t+n},i.Dp=function(t,n){return t-n},i.Tp=function(t,n){return l.abs(t-n)},i.dD=function(){return 0},i.lD=function(){return 1/0},i.pD=function(){return-1/0},n.MD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.UD=function(t){for(var i=[],e=[],r=0;r<t.Jl;r++)i.push(t.iD(r).ym),i.push(t.rD(r).ym),e.push(t.eD(r)),e.push(t.uD(r));return new n(i,e)},n.qD=function(t){return new n([t,t],[!0,!0])},i.aD=function(t,i){return new n(t,i)},i.fD=function(t){return t},n.VD=function(){return sb},n}(ub),sb=new ob([]);!function(t){t.Pl="fullscreenchange",t.HD="fullscreensupportchange",t.lw="fullscreenerror"}(rb||(rb={}));var cb=function(t){function n(){return t.call(this,rb.lw)||this}return W(n,t),n}(tu),fb=new(function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i.Fy=function(){this.nc(new cb)},i.My=function(){},i.ce=function(){this.uc()},j(n,[{key:"jD",get:function(){return!1}},{key:"zD",get:function(){return!1}}]),n}(Qr)),hb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).RR=void 0,n.IR=void 0,n}W(n,t);var i=n.prototype;return i.Xg=function(){var t;return null==(t=this.IR)?void 0:t.tI},i.ce=function(){var n=D.coroutine(He.mark(function n(){return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.ce.call(this);case 2:if(!this.IR){n.next=6;break}return n.next=5,this.RR.oe(this.IR);case 5:this.IR=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),j(n,[{key:"WD",set:function(t){this.RR=t,this.IR=t.te(Dl.Xv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).$D=0,n.XD=!1,n.GD=!0,n.YD=1,n.KD=!1,n.JD=1,n.Pg=new Nl,n.ny=ob.VD().mI(),n.ug=NaN,n.og=!1,n.gc=void 0,n.sg=void 0,n.Fg=void 0,n.uy=!1,n.wy=!0,n.gy=ob.VD().mI(),n.yy=Qm.jI,n.kw=Ed.Xw,n.py=ob.VD().mI(),n.kI=void 0,n.Lg=new Ng,n.vg=0,n.xg=new Nl,n.dg=0,n.FR=new Vm,n}W(n,t);var i=n.prototype;return i.Wg=function(){},i.$g=function(){},i.ie=function(){this.GD&&(this.GD=!1,this.nc(new jd(this.rg)),this.nc(new oy(this.rg)))},i.ee=function(){this.GD||(this.GD=!0,this.nc(new Kd(this.rg,this.iy)),this.nc(new Hd(this.rg)))},i.Ug=function(t,n){return D.resolve()},i.qg=function(){return!1},i.Vg=function(){},i.Hg=function(){},i.Gg=function(){return fb},i.ty=function(){},i.Yl=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$D=0,this.KD=!1,this.ee(),this.nc(new Vd(this.$D));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ce=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.uc(),this.Pg.ce(),this.Lg.ce(),this.xg.ce();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"iy",get:function(){},set:function(t){}},{key:"rg",get:function(){return this.$D},set:function(t){this.$D!==t&&(this.$D=t,this.KD=!0,this.nc(new Zd(this.rg)))}},{key:"_g",get:function(){return{oy:0,sy:0,hy:0,ay:0,vy:0,ly:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"cg",get:function(){return this.XD},set:function(t){this.XD!==t&&(this.XD=t,this.nc(new nl(this.rg,this.lg)))}},{key:"fg",get:function(){return this.GD}},{key:"hg",get:function(){return this.YD},set:function(t){this.YD!==t&&(this.YD=t,this.nc(new Yd(this.rg,this.hg)))}},{key:"ag",get:function(){return this.KD}},{key:"lg",get:function(){return this.JD},set:function(t){this.JD!==t&&(this.JD=t,this.nc(new nl(this.rg,this.lg)))}},{key:"my",get:function(){return!1},set:function(t){}},{key:"TI",get:function(){return this.FR}}]),n}(Qr)),ab=function(t){function n(n,i,e,r,u,o){var s,c=new hb;return(s=t.call(this,Jm.su,c)||this).Lf=void 0,s.QD=void 0,s.ZD=void 0,s.tN=void 0,s.QT=void 0,s.nN=void 0,s.iN=void 0,s.ZD=n,s.Lf=i,s.QT=e,s.nN=r,s.tN=o,s.QD=new k(u,s.tN),s.QD.se(s.ZD),c.WD=s.QD,s.iN=new Zm(s.ZD),s}W(n,t);var i=n.prototype;return i.ae=function(){t.prototype.ae.call(this),this.QD.Zi()},i.jg=function(t){var n,i,e,r;n=this,e=(i=t).lg,r=i.cg,n.lg=e,n.cg=r},i.zg=function(){},i.QI=function(t){return t.rE(this.ZD,this.QD,this.QT,this.Lf,this.nN,this.tN)},i.Xg=function(){return this.$I.Xg()},i.Yg=function(){return this.QD.Qi.map(function(t){return t.tI})},i.rc=function(n){t.prototype.rc.call(this,n)},i.fc=function(n){t.prototype.fc.call(this,n)},i.ce=function(){var n=D.coroutine(He.mark(function n(){return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.ce.call(this);case 2:this.QD.ce(),this.iN.ce();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),j(n,[{key:"ey",get:function(){return this.ZD}},{key:"my",get:function(){return this.$I.my},set:function(t){this.$I.my=t}}]),n}(ib),vb=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ZD=void 0,r.eN=void 0,r.rN=void 0,r.uN=void 0,r.oN=void 0,r.ZD=n,r.eN=i,r.uN=new Nl,r.oN=new Ng,r.rN=e,r}W(n,t);var i=n.prototype;return i.Kg=function(t){return!0},i.$g=function(){},i.ie=function(){throw this.nc(new ul(this.rN)),this.eN},i.ee=function(){},i.Mg=function(){},i.Ug=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Ur(i),this.nc(new ul(this.rN)),this.eN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Wg=function(){},i.Bg=function(){return D.resolve()},i.Xg=function(){},i.Gg=function(){return fb},i.Yg=function(){return[]},i.ae=function(){},i.jg=function(t){},i.zg=function(){},i.qg=function(){return!1},i.Vg=function(){},i.Hg=function(){},i.ty=function(){},i.Yl=function(){return D.resolve()},i.ce=function(){return this.uc(),this.uN.ce(),this.oN.ce(),D.resolve()},j(n,[{key:"Pg",get:function(){return this.uN}},{key:"ny",get:function(){return ob.VD().mI()}},{key:"iy",get:function(){return new Date(NaN)},set:function(t){}},{key:"Zg",get:function(){}},{key:"rg",get:function(){return 0},set:function(t){}},{key:"ug",get:function(){return 0}},{key:"ey",get:function(){return this.ZD}},{key:"og",get:function(){return!0}},{key:"gc",get:function(){return this.eN}},{key:"sg",get:function(){return this.rN}},{key:"Fg",get:function(){}},{key:"_g",get:function(){return{oy:0,sy:0,hy:0,ay:0,vy:0,ly:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"cg",get:function(){return!1},set:function(t){}},{key:"wy",get:function(){return!0}},{key:"fg",get:function(){return!0}},{key:"hg",get:function(){return 0},set:function(t){}},{key:"gy",get:function(){return ob.VD().mI()}},{key:"yy",get:function(){return Qm.jI},set:function(t){}},{key:"kw",get:function(){return Ed.Xw}},{key:"py",get:function(){return ob.VD().mI()}},{key:"ag",get:function(){return!1}},{key:"Lg",get:function(){return this.oN}},{key:"vg",get:function(){return 0}},{key:"xg",get:function(){return this.uN}},{key:"dg",get:function(){return 0}},{key:"lg",get:function(){return 1},set:function(t){}},{key:"my",get:function(){return!1},set:function(t){}},{key:"uy",get:function(){return!1}}]),n}(gd);function db(t){if(t&&ct(t))return je({},t,{integration:lb(t.integration),fairplay:_b(t.fairplay),widevine:wb(t.widevine),playready:gb(t.playready),clearkey:kb(t.clearkey),aes128:Tb(t.aes128),integrationParameters:Sb(t.integrationParameters),preferredKeySystems:Eb(t.preferredKeySystems)})}function lb(t){if(ht(t))return t}function wb(t){if(t&&ct(t))return{persistentState:yb(t.persistentState),distinctiveIdentifier:yb(t.distinctiveIdentifier),audioRobustness:pb(t.audioRobustness),videoRobustness:pb(t.videoRobustness),licenseAcquisitionURL:ht(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:mb(t.licenseType),headers:t.headers,useCredentials:!!at(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:ht(t.certificate)||ro(t.certificate)?t.certificate:void 0,certificateRequestProcessor:bb(t.certificateRequestProcessor),certificateResponseProcessor:bb(t.certificateResponseProcessor),licenseRequestProcessor:bb(t.licenseRequestProcessor),licenseResponseProcessor:bb(t.licenseResponseProcessor)}}function gb(t){if(t){var n=wb(t);if(n)return je({},n,{customData:ht(t.customData)?t.customData:void 0})}}function yb(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function pb(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function mb(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function bb(t){if("function"==typeof t)return t}function _b(t){if(t){var n=wb(t);if(n)return je({},n,{certificateURL:ht(t.certificateURL)?t.certificateURL:void 0})}}function kb(t){if(t){var n=wb(t);if(n)return je({},n,{keys:ot(t.keys)?t.keys.map(function(t){return function(t){if(!t||!ct(t))return;var n=t.id,i=t.value;if(!ht(n)||!ht(i))return;return{id:n,value:i}}(t)}).filter(ut):void 0})}}function Tb(t){if(ct(t))return{useCredentials:at(t.useCredentials)?t.useCredentials:void 0}}function Sb(t){if(ct(t))return t}function Eb(t){return t&&ot(t)?t.map(function(t){return ip(t)}).filter(ut):[rr,ir,or]}var Rb,Ib=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return W(n,t),n}(tu),Db=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).sN=[],e.cN=void 0,e.fN=function(t){Wr(function(){e.tc(t)})},e.cN=i?e.fN:e.tc,e}W(n,t);var i=n.prototype;return i.hN=function(t){t.rc(this.cN),this.sN.push(t)},i.aN=function(t){t.fc(this.cN),Ar(this.sN,t)},i.ce=function(){this.uc();for(var t=0,n=this.sN;t<n.length;t++){n[t].fc(this.cN)}xr(this.sN)},n}(wd),Nb=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n}(Db);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(Rb||(Rb={}));var Cb,Ab=function(t){function i(n){var i;return(i=t.call(this)||this).vN=void 0,i.dN=void 0,i.lN=!1,i.wN=!1,i.gN=void 0,i.yN=void 0,i.pN=void 0,i.ml=void 0,i.mN=function(){return i.bN()},i._N=function(){return i.kN()},i.pN=n,i.vN=i.dN=i.gN=i.yN=Rb.INLINE,i.pN.ic(rb.Pl,i.mN),i.pN.ic(rb.lw,i._N),i.TN(),i}W(i,t);var e=i.prototype;return e._l=function(){return t=this,i={get currentMode(){return t.SN()},requestMode:function(n){var i=Pb(n);i&&t.EN(i)},supportsMode:function(n){var i=Pb(n);return!!i&&t.RN(i)},addEventListener:function(t,i){n.ic(t,i)},removeEventListener:function(t,i){n.oc(t,i)}},(n=new Db(i,!0)).hN(t),i;var t,n,i},e.EN=function(t){this.IN(t,t)},e.IN=function(t,n){this.dN!==n&&(this.lN=!0,this.vN=t,this.DN(n,this.dN),t!==Rb.FULLSCREEN&&(this.gN=t),this.lN=!1,this.TN())},e.SN=function(){return this.wN?Rb.FULLSCREEN:Rb.INLINE},e.RN=function(t){switch(t){case Rb.FULLSCREEN:return this.pN.zD;case Rb.INLINE:return!0}return!1},e.TN=function(){if(!this.lN){var t=this.dN,n=this.SN();this.dN=n,n!==Rb.FULLSCREEN&&(this.yN=n),t!==n&&this.nc(new Ib(n))}},e.DN=function(t,n){var i=t===Rb.FULLSCREEN;this.wN=i,i!==this.pN.jD&&(i?this.pN.Fy():this.pN.My())},e.bN=function(){if(!this.lN){var t=this.pN.jD;this.wN=t,t?this.IN(Rb.FULLSCREEN,Rb.FULLSCREEN):t||this.vN!==Rb.FULLSCREEN?this.TN():this.IN(this.gN,this.yN)}},e.kN=function(){this.bN(),this.nc(new ul(new Uo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.ce=function(){this.pN.ce(),this.uc()},j(i,[{key:"bl",get:function(){return this.ml||(this.ml=this._l()),this.ml}}]),i}(wd),Ob={rg:0,ug:NaN,og:!1,gc:void 0,sg:void 0,cg:!1,fg:!0,hg:1,kw:Ed.Xw,ag:!1,vg:0,dg:0,lg:1};function Pb(t){switch(t){case Rb.INLINE:case Rb.FULLSCREEN:case Rb.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Cb||(Cb={}));var xb,Lb,Fb,Bb,Mb,Ub,qb,Vb,Hb=function(){function t(){this.NN=[]}var n=t.prototype;return n.CN=function(t){var n=this.AN.filter(function(n){return n.ON(t)});if(n.length>1)0;else if(0===n.length)throw a("Unknown ad integration: "+t.integration);return n[0]||null},n.PN=function(t){this.NN.push(t)},j(t,[{key:"AN",get:function(){return this.NN}}]),t}();Hb.su=new Hb,function(t){t.eg="PLAYING",t.Tg="PAUSED",t.xN="SEEK",t.LN="STALLED",t.FN="FAILED",t.BN="INITIAL_BUFFERING",t.MN="NO_ACCESS"}(xb||(xb={})),function(t){t.UN="HTTP_REQUEST_STATUS_CODE_1XX",t.qN="HTTP_REQUEST_STATUS_CODE_2XX",t.VN="HTTP_REQUEST_STATUS_CODE_3XX",t.HN="HTTP_REQUEST_STATUS_CODE_4XX",t.jN="HTTP_REQUEST_STATUS_CODE_5XX",t.zN="BUFFER_LENGTH",t.WN="BYTES_RECEIVED",t.$N="SEGMENT_READ_BITRATE",t.XN="SEGMENT_PROFILE_BITRATE",t.GN="NUMBER_OF_FRAMES_DROPPED",t.YN="PLAYBACK_POSITION",t.KN="NUMBER_OF_FRAMES_DECODED",t.JN="PLAYBACK_DELTA_TO_ORIGIN",t.QN="STREAM_DELTA_TO_ORIGIN",t.ZN="ORIGIN_TIMESTAMP"}(Lb||(Lb={})),function(t){t.tC="MANIFEST_URI",t.nC="ASSET_DURATION",t.iC="NUMBER_OF_CONTENT_PROFILES",t.eC="CDN",t.rC="CONTENT_TITLE",t.uC="SERVICE_NAME",t.oC="CONTENT_TYPE",t.sC="CONTENT_DESCRIPTION"}(Fb||(Fb={})),function(t){t.cC="shutdown_normal_shutdown"}(Bb||(Bb={})),function(t){t.fC="session/",t.hC="internalError/",t.aC="drmError/",t.vC="caError/",t.dC="networkError/"}(Mb||(Mb={})),function(t){t.lC="userAction",t.wC="endOfStreamReached"}(Ub||(Ub={})),function(t){t.PAUSE="gC",t.RESUME="yC"}(qb||(qb={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(Vb||(Vb={}));var jb,zb,Wb,$b,Xb,Gb="agama";function Yb(t){return function(t){switch(t){case jb.NONE:case jb.HORIZONTAL:case jb.VERTICAL:return!0;default:return!1}}(t)?t:jb.NONE}function Kb(t){switch(t){case"":return jb.NONE;case"horizontal":return jb.HORIZONTAL;case"vertical":return jb.VERTICAL;default:throw new v}}function Jb(t){if(!t||!ht(t))return zb.HI;switch(t){case"always":return zb.pC;case"never":return zb.mC;default:return zb.HI}}function Qb(t){if(!t||!ht(t))return Wb.HI;switch(t){case"playlist":return Wb.bC;case"media":return Wb._C;default:return Wb.HI}}function Zb(t,n){return t.length>0?t:n.length>0?n:void 0}function t_(t){if(null!==t)return t}function n_(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:t_(t.streamActivityMonitorID),adTagParameters:ct(t.adTagParameters)?t.adTagParameters:{},authToken:t_(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var e=t.videoID,r=t.contentSourceID;return e?r?je({},i,{availabilityType:"vod",videoID:e,contentSourceID:r}):void C.Po("A VOD DAI configuration was provided without valid contentSourceID which is required."):void C.Po("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?je({},i,{availabilityType:"live",assetKey:u}):void C.Po("A Live DAI configuration was provided without valid assetKey which is required.")}C.Po("A DAI configuration was provided without a valid availabilityType which is required.")}function i_(t){if(!Gy(t)||!t.integration)return t;switch(t.integration){case wy:return n=t,i=np(Qe.ys,n),e=np(Qe.gs,n),r=n[Qe.ps]&&np(Qe.ps,n),je({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}function e_(t){if(!t)return!0;var n,i,e=!(Pd(n=t.sources)||st(n)&&Pd(n[0]))||xd(t.sources),r=!t.ads||(!(i=t.ads)||ot(i)&&0===i.length),u=""!==t.poster&&!t.poster;return e&&r&&u}function r_(t){if(t&&t.sources)return function t(n){if(ht(n))return n;if(Od(n))return n.src;if(st(n)&&n.length>0)return t(n[0]);return}(t.sources)}function u_(t,n,i){return Cd(t)?function(t,n,i){var e=je({},Ld(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:$b.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Xb.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,ht(r)?r:st(r)&&ht(r[0])?r:ct(u=r)&&ht(u.userId)&&(st(u.externalId)||ht(u.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,u;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return Xb.CHANNEL;case"event":return Xb.EVENT;case"asset":default:return Xb.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Gv(t.contentProtected));t.assetInfo?e.assetInfo=Gv(t.assetInfo):e.assetInfo="asset"===e.assetType;return e.ping=(o=e.assetType,s=t.ping,c=!1,f=!1,h=!1,s?(c=!!at(s.adImpressions)&&s.adImpressions,f=!!at(s.freeWheelVideoViews)&&s.freeWheelVideoViews,h=at(s.linearAdData)?s.linearAdData:o!==Xb.ASSET):o!==Xb.ASSET&&(h=!0),{adImpressions:c,freeWheelVideoViews:f,linearAdData:h}),e=s_(e=c_(e=o_(e,t),n,i),t,i);var o,s,c,f,h}(t,n,i):function(t,n,i){var e=Fd(),r=n&&(n.contentProtection||n.drm);if(ht(t)){if(e.src=t,e.type=Dd(t),r){var u=db(r);e.contentProtection=i_(u)}}else if(Od(t)||Nd(t)){e.src=t.src,e.type=t.type||Dd(t.src),e.isAdvertisement=t.isAdvertisement;var o=function(t){return t.type===kd.Ww||t.type===kd.$w}(t)?t.hesp:void 0;void 0!==o&&(e.hesp=o);var s=t.contentProtection||t.drm||r,c=db(s);e.contentProtection=i_(c),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return n_(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=o_(e,t)}return e=s_(e=c_(e,n,i),t,i)}(t,n,i)}function o_(t,n){var i;n.useCredentials?t.crossOrigin=_d.jw:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case _d.Hw:case _d.jw:return t;default:return _d.Vw}}(n.crossOrigin)),ht(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Gv(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Gv(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:Jb(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:Qb(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?Gv(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Gv(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function s_(t,n,i){return t.abr=function(t,n){var i=Qv(null==t?void 0:t.preferredAudioCodecs,Jv),e=Qv(null==t?void 0:t.preferredVideoCodecs,Jv),r=Qv(null==n?void 0:n.preferredAudioCodecs,Jv),u=Qv(null==n?void 0:n.preferredVideoCodecs,Jv),o=Zb(i,r),s=Zb(e,u);if(o||s)return{preferredAudioCodecs:o,preferredVideoCodecs:s}}(ht(n)?void 0:n.abr,null==i?void 0:i.abr),t}function c_(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!ut(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!ut(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===_d.Vw&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=_d.Hw),t.useCredentials=t.crossOrigin===_d.jw,ht(r)&&!t.timeServer&&(t.timeServer=r),t}function f_(t){var n={src:""};if(t&&t.src){if(n.src=Jv(t.src),"default"in t&&(n.default=Gv(t.default)),n.kind=Og(t.kind),function(t){switch(t){case Vl.DEFAULT:case Vl.SRT:case Vl.TTML:case Vl.WEBVTT:case Vl.EMSG:case Vl.EVENT_STREAM:case Vl.ID3:case Vl.CEA608:case Vl.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function h_(t,n){if(ft(t))try{return n.CN(t).kC(t)}catch(t){return}}function a_(t){return ht(t.sources)&&""!==t.sources||ct(t.sources)&&ht(t.sources.src)}function v_(t){return t.integration===Cb.SPOTX&&!y(t.id)}function d_(t){return"freewheel"===t.integration}function l_(t,n,i){if(void 0===i&&(i=Hb.su),e_(t))return{sources:[Fd()]};var e=zv(t);if(e.sources=function(t,n,i){if(Pd(t))return[u_(t,n,i)];if(st(t)&&Pd(t[0])){for(var e=[],r=0;r<t.length;r++){var u=t[r];e.push(u_(u,n,i))}return e}return[Fd()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!st(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var u=r[e];(u=h_(u,n))&&(a_(u)||v_(u)||d_(u))&&i.push(u)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var u,o,s,c=!xd(e.sources),f=e.ads&&e.ads.length>0;if(c&&!f?delete e.ads:f&&!c&&(e.sources=[]),"textTracks"in e){var h=function(t){if(!st(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=f_(r)).src&&n.push(r)}return n}(e.textTracks);0===h.length?delete e.textTracks:e.textTracks=h}if("poster"in e&&(e.poster=Jv(e.poster)),"vr"in e&&(e.vr=(u=e.vr,(o=u||{}).stereoMode=Yb(o.stereoMode),{360:Boolean(o[360]),stereoMode:o.stereoMode?Kb(o.stereoMode):jb.NONE,nativeVR:Boolean(o.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var a=Md(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=zv(t),e=function(e){var r=n[e],u=!t.some(function(t){return t.integration===r.integration});u&&r.integration!==Gb&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(a,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=ol(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,e.blockContentIfAdError=void 0!==(s=e.blockContentIfAdError)&&"boolean"==typeof s&&Boolean(s),e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(jb||(jb={})),function(t){t.HI="auto",t.pC="always",t.mC="never"}(zb||(zb={})),function(t){t.HI="auto",t.bC="playlist",t._C="media"}(Wb||(Wb={})),function(t){t.VERIZON_MEDIA="verizon-media"}($b||($b={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Xb||(Xb={}));var w_=function(){function t(t){this.TC=t}return t.prototype.SC=function(t){var n,i,e,r,u,o,s,c=[];if(!t)return"";var f=t.length%4;if(f>0)for(;f++<4;)t+=this.TC.charAt(64);for(n=0;n<t.length;n+=4)i=(s=this.TC.indexOf(t.charAt(n))<<18|this.TC.indexOf(t.charAt(n+1))<<12|(u=this.TC.indexOf(t.charAt(n+2)))<<6|(o=this.TC.indexOf(t.charAt(n+3))))>>>16&255,e=s>>>8&255,r=255&s,c[n/4]=String.fromCharCode(i,e,r),64===o&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},t.prototype.EC=function(t,n){var i,e,r,u,o,s,c,f=[],h="";if((s=t.length%3)>0)for(;s++<3;)h+=this.TC.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)e=(i=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=i>>12&63,u=i>>6&63,o=63&i,f[s/3]=this.TC.charAt(e)+this.TC.charAt(r)+this.TC.charAt(u)+this.TC.charAt(o);return c=(c=f.join("")).slice(0,c.length-h.length),n||(c+=h),c},t.$m=new t(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.RC=new t(t.$m.SC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function g_(t){return"string"==typeof t}function y_(t){return"number"==typeof t}var p_={}.toString;var m_,b_=Array.isArray||function(t){return"[object Array]"===p_.call(t)};function __(t,n){return b_(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(m_||(m_={}));var k_,T_=d.keys(m_).map(function(t){return m_[t]});function S_(t){return-1!==T_.indexOf(t)}function E_(t){try{var n=w_.RC.SC(t),i=JSON.parse(n);if(!function(t){var n=(a=t,"object"==typeof a&&null!==a),i=g_(t.key),e=g_(t.customer_id),r=y_(t.generation_date),u=y_(t.expiration_date),o=__(t.domains_page,g_),s=__(t.domains_source,g_),c=__(t.sdks,S_),f=(h=t.send_impression,"boolean"==typeof h);var h;var a;if(!(n&&i&&e&&r&&u&&o&&s&&c&&f))return!1;return!0}(i))throw new a("The provided license could not be decoded correctly.");return i}catch(t){throw new a("The provided license could not be decoded correctly.")}}function R_(){return k_||(k_={Ov:R.href,IC:E.parent&&E.parent!==e,DC:N_()}),k_}var I_,D_=["http:","https:","ftp:","ws:","wss:"];function N_(){try{return E.top.location.href}catch(t){return E&&E.document&&E.document.referrer}}!function(t){t[t.NC=0]="NC",t[t.CC=1]="CC",t[t.AC=2]="AC"}(I_||(I_={}));var C_,A_=function(t,n,i,e,r,u,o,s){void 0===r&&(r=""),void 0===u&&(u=Date.now()),void 0===o&&(o=[]),void 0===s&&(s=!0),this.OC=t,this.xC=n,this.LC=i,this.FC=e,this.BC=r,this.MC=u,this.UC=o,this.qC=s};!function(t){t.CC="expired",t.VC="invaliddomain",t.HC="invalidsource",t.lw="error"}(C_||(C_={}));var O_=function(){function t(t,n,i){this.jC=void 0,this.zC=t,this.WC=n,this.$C=i,this.jC=M_(this.$C)}var n=t.prototype;return n.XC=function(t,n){var i=this;if(!e_(t)&&0!==n.LC.length&&!L_(n.LC)){var e=[];if(Pd(t.sources)?e=[t.sources]:st(t.sources)&&(e=t.sources),!e.every(function(t){return i.GC(t,n)})){var r=C_.HC,u=q_.YC(r);throw new Uo(P_(r),u)}}},n.KC=function(n){return this.JC(n.UC)&&this.QC(n)?t.ZC(n.FC)?I_.NC:I_.CC:I_.AC},n.JC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.tA(t)})},n.tA=function(t){return"tvos"===function(t){switch(t){case m_.ANDROID:return V._e;case m_.ANDROIDTV:case m_.FIRETV:return V.ke;case m_.IOS:return V.Te;case m_.TVOS:return V.Se;case m_.CHROMECAST:case m_.CHROMECASTCAF:return V.Ee;default:return V.be}}(t)},t.ZC=function(t){var n=Number(new Date);return!!t&&n<=t},n.QC=function(t){return!(this.jC&&0!==t.xC.length&&!L_(t.xC))||!!(this.jC&&this.nA(t.xC)&&this.iA(t.xC))},n.nA=function(t){return F_(this.$C.Ov,t)},n.iA=function(t){if(!this.$C.IC)return!0;if(this.zC)return!0;var n=this.eA();return!!n&&F_(n,t)},n.eA=function(){if(this.$C.IC){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.$C.DC?this.$C.DC:void 0}},n.GC=function(n,i){return!!t.rA(n,i.LC)},t.rA=function(t,n){return F_(this.uA(t),n)},t.uA=function(t){return ht(t)?t:Od(t)&&t.src||""},t}();function P_(t){switch(t){case C_.VC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case C_.HC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case C_.CC:return n.ErrorCode.LICENSE_EXPIRED;case C_.lw:return n.ErrorCode.LICENSE_ERROR}}function x_(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",o="(\\*|"+u+")",s=new RegExp("ip-range\\("+o+r+o+r+o+r+o+"\\)"),c=e.match(s),f=function(t){return"*"===t?"("+u+")":t};if(null!==c&&5===c.length){var h=new RegExp("^"+c[1]+r+f(c[2])+r+f(c[3])+r+f(c[4])+"$");return null!==i.match(h)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function L_(t){return t.some(function(t){return"*"===t})}function F_(t,n){var i=C.Go(t);if(!B_(i))return!0;for(var e=0;e<n.length;e++){var r=n[e];if(x_(i.hostname,r))return!0;if(x_(Gh(t),r))return!0}return!1}function B_(t){return-1!==D_.indexOf(t.protocol)}function M_(t){var n=C.Go(t.Ov);return B_(n)&&!x_(n.hostname,"localhost")&&!function(t){return x_(t.hostname,"theoplayer.doubleclick.net")}(n)}var U_,q_=function(){function t(){}return t.YC=function(t){return t===C_.VC?this.oA:t===C_.HC?this.sA:t===C_.CC?this.cA:this.fA},t}();function V_(t){var n=[t.Zk,t.hA,t.aA];switch(t.hA){case U_.vA:n.push(t.Ew);break;case U_.dA:n.push(t.rg),n.push(t.gc);break;case U_.lA:n.push(t.gc)}return n}q_.fA="The license for this player is invalid.",q_.cA="The usage license for this video player has expired.",q_.oA="The current domain is incompatible with the license for this player.",q_.sA="The provided video source is incompatible with the license for this player.",function(t){t[t.vA=1]="vA",t[t.dA=4]="dA",t[t.lA=5]="lA"}(U_||(U_={}));for(var H_=new Array(256),j_=0;j_<256;j_+=1)H_[j_]=(j_<16?"0":"")+j_.toString(16);function z_(){var t=tn(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,e=(4294967296*l.random()|0)+t&1130486254,r=(4294967296*l.random()|0)+t&1284287105;return H_[255&n]+H_[n>>>8&255]+H_[n>>>16&255]+H_[n>>>24&255]+"-"+H_[255&i]+H_[i>>>8&255]+"-"+H_[i>>>16&15|64]+H_[i>>>24&255]+"-"+H_[63&e|128]+H_[e>>>8&255]+"-"+H_[e>>>16&255]+H_[e>>>24&255]+H_[255&r]+H_[r>>>8&255]+H_[r>>>16&255]+H_[r>>>24&255]}var W_=function(){function t(t){this.TC=void 0,this.TC=t}var n=t.prototype;return n.SC=function(t){var n,i,e,r,u,o,s,c=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(s=this.TC.indexOf(t.charAt(n))<<18|this.TC.indexOf(t.charAt(n+1))<<12|(u=this.TC.indexOf(t.charAt(n+2)))<<6|(o=this.TC.indexOf(t.charAt(n+3))))>>>16&255,e=s>>>8&255,r=255&s,c[n/4]=String.fromCharCode(i,e,r),64===o&&(c[n/4]=String.fromCharCode(i,e)),64===u&&(c[n/4]=String.fromCharCode(i));return c.join("")},n.EC=function(t){var n,i,e,r,u,o,s,c=[],f="";if((o=t.length%3)>0)for(;o++<3;)f+=this.TC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)i=(n=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=n>>12&63,r=n>>6&63,u=63&n,c[o/3]=this.TC.charAt(i)+this.TC.charAt(e)+this.TC.charAt(r)+this.TC.charAt(u);return(s=c.join("")).slice(0,s.length-f.length)+f},t}();function $_(){return C.Io()}W_.$m=new W_(function(){var t,n,i,e,r=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),W_.RC=new W_(W_.$m.SC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var X_,G_="theoplayer-session-id";function Y_(){if(!X_){var t=ns.Sc(G_);t?X_=t:(X_=z_(),ns.sh(G_,X_))}return X_}var K_=/[^\x00-\x7E]/g;function J_(t){return"\\u"+function(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=function(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}(e,r/e.length)),e.slice(0,r)+t)}(t.charCodeAt(0).toString(16),4,"0")}var Q_=0,Z_=1,tk=6e4;function nk(t){var n,i,e,r,u,o=(n=function(t){return[t.wA,t.cf,t.OC,t.d_,t.gA,t.yA,t.pA.map(V_)]}(t),i=[],e=n,r=function(t,n){if(ct(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,u).replace(K_,J_));return W_.RC.EC(o)}var ik=function(){function t(t,n,i,e,r,u){var o=this;void 0===e&&(e=W_.$m),void 0===r&&(r=Q_),void 0===u&&(u=Z_),this.mA=[],this.bA=null,this._A=0,this.kA="unknown",this.TA=0,this.SA=function(){$_()-o._A>tk&&o.me()},this.EA=function(){o.me(!0)},this.kE=t,this.QT=n,this.RA=i,this.IA=e,this.DA=r,this.NA=u,S.de(this.EA),f(this.SA,tk)}var n=t.prototype;return n.CA=function(){return Boolean(this.gA)},n.AA=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RA.OA();case 2:if(t.sent.qC){t.next=5;break}return t.abrupt("return");case 5:return i={hA:U_.vA,aA:tn(),Ew:n},t.next=8,this.PA(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xA=function(){var t=D.coroutine(He.mark(function t(n,i){var e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={hA:U_.dA,aA:tn(),rg:i,gc:n},t.next=3,this.PA(e);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.LA=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={hA:U_.lA,aA:tn(),gc:n},t.next=3,this.PA(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.PA=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RA.OA();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.IA.EC(i.OC)){t.next=6;break}if(n.hA===U_.lA){t.next=6;break}return t.abrupt("return");case 6:if(n.hA===U_.vA?this.FA():this.CA()||this.FA(),n.Zk=this.TA++,this.mA.push(n),(e=n.hA)!==U_.vA&&e!==U_.lA){t.next=14;break}return t.next=12,this.me();case 12:t.next=19;break;case 14:if(!(this.mA.length>this.DA)){t.next=19;break}return t.next=17,this.BA();case 17:t.next=19;break;case 19:case"end":return t.stop()}var e},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.me=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.mA.length>0)){t.next=6;break}return t.next=4,this.BA(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.MA=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RA.OA();case 2:return i=t.sent,t.abrupt("return",{wA:tn(),cf:Y_(),OC:this.IA.EC(i.OC)||"dev",d_:this.kE,gA:this.bA,yA:this.kA,pA:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BA=function(){var t=D.coroutine(He.mark(function t(n){var i,e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.mA.splice(0,this.NA),t.next=4,this.MA(i);case 4:e=t.sent,n?this.nd(e):this.UA(e),this._A=$_();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.UA=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=nk(n),e=new qh({Ov:"https://license.theoplayer.com",lv:i,Zv:!1,Iv:os.vu,Rv:{"Content-Type":Bp.CE},Kv:4e3,Yv:Lh.POST}),t.prev=2,t.next=5,this.QT.Cv(e);case 5:return r=t.sent,t.next=8,r.av();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.nd=function(t){var n=nk(t);this.QT.nd({Ov:"https://license.theoplayer.com",lv:n,dv:Bp.CE})},n.FA=function(){this.CA()&&this.me(),this.bA=z_(),this.TA=0},n.ce=function(){S.we(this.EA),this.me()},j(t,[{key:"pA",get:function(){return this.mA}},{key:"gA",get:function(){return this.bA}}]),t}();var ek=it.Hr||it.Nr&&it.Gr<13;function rk(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var uk=function(){function t(t){this.MI=void 0,this.ml=void 0,this.qA=void 0,this.MI=t}var n=t.prototype;return n.VA=function(t){if(!t||!t.drawImage)return!1;var n=this.MI.Xg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.HA=function(t,n,i,e,u,o){if(!t||!t.texImage2D)return!1;var s=this.MI,c=s.Xg();if(!c)return!1;if(ek){this.qA||(this.qA=r.createElement("canvas"));var f=this.qA,h=f.getContext("2d"),v=s.dg,d=s.vg,l=f.width,w=f.height;h.clearRect(0,0,f.width,f.height),l===v&&w===d||(f.width=v,f.height=d),h.drawImage(c,0,0,v,d);var g=!1;v>0&&rk(h,v-1,0)&&(f.width=l,g=!0),d>0&&rk(h,0,d-1)&&(f.height=w,g=!0),g&&h.drawImage(c,0,0,v,d),c=f}try{t.texImage2D(n,i,e,u,o,c)}catch(t){throw new a("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},j(t,[{key:"bl",get:function(){return this.ml||(this.ml=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.VA.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,u,o){return t.HA(n,i,e,r,u,o)}}));var t}}]),t}(),ok=function(t){function n(n,i){var e;return(e=t.call(this,"jA")||this).Eo=n,e.W_=i,e}return W(n,t),n.prototype._l=function(){return new sk(this.Eo,this.W_)},n}(Nv),sk=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return W(n,t),n}(tu),ck=function(t,n){this.ey=void 0,this.zA=void 0,this.ey=t,this.zA=n},fk=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).WA=void 0,e.$A=0,e.XA=0,e.GA=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.XA=n.width,e.$A=n.height,e.zA(e.XA,e.$A)}},e.WA=new E.ResizeObserver(e.GA),e.WA.observe(e.ey),e}return W(n,t),n.prototype.ce=function(){this.WA.disconnect()},j(n,[{key:"YA",get:function(){return this.$A}},{key:"KA",get:function(){return this.XA}}]),n}(ck),hk=0;var ak,vk=c,dk=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,lk=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function wk(){return ak||(ak=E&&E.document&&E.document.createElement("span")),ak}dk&&lk||(dk=function(t){var n=$_(),i=l.max(0,16-(n-hk)),e=s(function(){return t(n+i)},i);return hk=n+i,e},lk=vk),dk=dk.bind(t),lk=lk.bind(t);var gk=["Webkit","Moz","O","ms"],yk=(function(){var t=!1;try{if(void 0!==E&&"function"==typeof E.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});E.addEventListener("testPassiveEventSupport",x,n),E.removeEventListener("testPassiveEventSupport",x,n)}}catch(t){}}(),We());function pk(t){return yk.has(t)||yk.set(t,function(t){var n=wk();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<gk.length;e++){var r=gk[e],u=r+i;if(void 0!==n.style[u])return u}return t}(t)),yk.get(t)}function mk(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function bk(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[pk("transition")]="0s"}var _k=function(t){function n(n,i,u){var o;(o=t.call(this,n,i)||this).JA=void 0,o.QA=0,o.XA=NaN,o.$A=NaN,o.ZA=void 0,o.tO=void 0,o.nO=void 0,o.iO=void 0,o.eO=void 0,o.Yl=function(){o.tO.style.width=1e5+"px",o.tO.style.height=1e5+"px",o.ZA.scrollLeft=1e5,o.ZA.scrollTop=1e5,o.nO.scrollLeft=1e5,o.nO.scrollTop=1e5,0===o.nO.scrollTop&&dk(o.Yl)},o.rO=function(){var t=o.KA,n=o.YA;o.zA(t,n),o.XA=t,o.$A=n,o.Yl(),o.QA=0},o.uO=function(){if(!o.QA){var t=o.KA,n=o.YA;t===o.XA&&n===o.$A||(o.QA=dk(o.rO))}},o.oO=function(){o.eO||(o.eO=s(o.sO,66))},o.sO=function(){o.eO=void 0,o.cO()},o.cO=function(){o.uO()};var c=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");u||"static"!==c||(n.style.position="relative");var f,h=r.createElement("div");return o.JA=h,o.ZA=r.createElement("div"),o.tO=r.createElement("div"),o.nO=r.createElement("div"),o.iO=r.createElement("div"),mk(o.ZA),mk(o.nO),bk(o.tO),bk(f=o.iO),f.style.width="200%",f.style.height="200%",h.appendChild(o.ZA),h.appendChild(o.nO),o.ZA.appendChild(o.tO),o.nO.appendChild(o.iO),n.appendChild(h),o.ZA.addEventListener("scroll",o.uO),o.nO.addEventListener("scroll",o.uO),e&&e.addEventListener("resize",o.oO),o.uO(),o}return W(n,t),n.prototype.ce=function(){lk(this.QA),this.QA=0,this.ZA.removeEventListener("scroll",this.uO),this.nO.removeEventListener("scroll",this.uO),be(this.JA),e&&e.removeEventListener("resize",this.oO)},j(n,[{key:"YA",get:function(){return this.ey.getBoundingClientRect().height||this.$A||0}},{key:"KA",get:function(){return this.ey.getBoundingClientRect().width||this.XA||0}}]),n}(ck),kk=function(t){function n(n){var i;return(i=t.call(this)||this).ey=void 0,i.WA=void 0,i.GA=function(t,n){i.nc(new ok(t,n))},i.ey=n,i}W(n,t);var i=n.prototype;return i.lf=function(t){this.WA||("function"==typeof E.ResizeObserver?this.WA=new fk(this.ey,this.GA):this.WA=new _k(this.ey,this.GA,t))},i.ce=function(){this.uc(),this.WA&&(this.WA.ce(),this.WA=void 0)},j(n,[{key:"YA",get:function(){return this.WA?this.WA.YA:0}},{key:"KA",get:function(){return this.WA?this.WA.KA:0}}]),n}(Qr),Tk=function(t){function n(){return t.call(this,rb.Pl)||this}return W(n,t),n}(tu);!function(){if(r)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in r)return{fO:i[0],hO:i[1],aO:i[2],vO:i[3],dO:i[4],lO:i[5]}}}();var Sk=function(t){function n(){return t.call(this,rb.HD)||this}return W(n,t),n}(tu),Ek=function(t){function n(n,i){var e;return(e=t.call(this)||this).MI=void 0,e.wO=void 0,e.gO=void 0,e.yO=!1,e.pO=function(){return e.if()},e.mN=function(t){e.yO||e.nc(t)},e.MI=n,e.wO=i,e.gO=fb,e.mO(),e.MI.ic(us._h,e.pO),e.if(),e}W(n,t);var i=n.prototype;return i.Fy=function(){this.wO&&this.gO.Fy()},i.My=function(){this.gO.My()},i.mO=function(){this.gO.ic(rb.Pl,this.mN),this.gO.ic(rb.lw,this.tc)},i.bO=function(){this.gO.oc(rb.Pl,this.mN),this.gO.oc(rb.lw,this.tc)},i.if=function(){var t=this.gO,n=this.MI.Gg();if(t!==n){this.yO=!0;var i=this.jD,e=this.zD;i&&this.My(),this.bO(),this.gO=n,this.mO(),i&&!this.jD&&this.zD?this.Fy():this.My(),this.yO=!1,e!==this.zD&&this.nc(new Sk),i!==this.jD&&this.nc(new Tk)}},i.ce=function(){this.uc(),this.bO(),this.MI.oc(us._h,this.pO)},j(n,[{key:"zD",get:function(){return!!this.wO&&this.gO.zD}},{key:"jD",get:function(){return this.gO.jD}}]),n}(Qr);function Rk(t){var n;return{get url(){return t.Ov},get method(){return t.Yv},get headers(){return n||(n=t.Rv.Kh()),n},get body(){return t.lv},get useCredentials(){return t.Zv},get type(){return Ak(t.ks)},get subType(){return Pk(t.Jv)},get mediaType(){return Lk(t.Qv)},get responseType(){return Dk(t.Iv)}}}function Ik(t){switch(t.toLowerCase()){case"arraybuffer":return os.Xh;case"json":return os.Gh;case"stream":return os.Yh;case"text":default:return os.vu}}function Dk(t){return t}function Nk(t){switch(t.toUpperCase()){case"POST":return Lh.POST;case"PUT":return Lh.PUT;case"DELETE":return Lh.DELETE;case"HEAD":return Lh.HEAD;case"OPTIONS":return Lh.OPTIONS;case"GET":default:return Lh.GET}}function Ck(t){switch(t.toLowerCase()){case"manifest":return Fh.Lv;case"segment":return Fh.Fv;case"content-protection":return Fh.Bv;default:return Fh.xv}}function Ak(t){return t}function Ok(t){switch(t.toLowerCase()){case"initialization-segment":return Bh.Mv;case"fairplay-license":return Bh.Uv;case"fairplay-certificate":return Bh.qv;case"widevine-license":return Bh.Vv;case"widevine-certificate":return Bh.Hv;case"playready-license":return Bh.jv;case"clearkey-license":return Bh.zv;case"aes128-key":return Bh.Wv;default:return Bh.xv}}function Pk(t){return t}function xk(t){switch(t.toLowerCase()){case"audio":return Mh.$v;case"video":return Mh.Xv;case"text":return Mh.vu;case"image":return Mh.Gv;case"":default:return Mh.xv}}function Lk(t){return t}var Fk=function(){function t(t,n){this._O=new fo,this.kO=[],this.ml=void 0,this.TO=!1,this.gd=void 0,this.SO=0,this.EO=t,this.RO=n}var n=t.prototype;return n.i_=function(){this.TO=!0,this._O.Mc(null)},n.IO=function(){this._O.Uc(new lh(this.kO))},n.DO=function(t){if(!this.CO)throw new v("Cannot respond more than once");if(!ct(t))throw new v("Expected valid response");this.gd=this.AO(t),this.i_()},n.OO=function(){try{var t=this.RO(this.bl);t?this.PO(t):this.xO||this.LO||this.i_()}catch(t){this.kO.push(t),this.IO()}},n.PO=function(t){if(this.LO)throw new a("Request has been redirected or a response already exists");if(vt(t))this.FO(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new fo;try{var i=t(function(t){t?n.Uc(t):n.Mc(void 0)});vt(i)&&n.Mc(i)}catch(t){n.Uc(t)}this.FO(n.Bc)}},n.FO=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.SO++,t.next=4,n;case 4:this.SO--,this.xO||this.LO||(this.kO.length?this.IO():this.i_()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.SO--,this.kO.push(t.t0),this.xO||this.LO||this.IO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),j(t,[{key:"BO",get:function(){return this._O.Bc}},{key:"bl",get:function(){return this.ml||(this.ml=this.MO()),this.ml}},{key:"LO",get:function(){return this.TO}},{key:"CO",get:function(){return!this.TO}},{key:"xO",get:function(){return this.SO>0}},{key:"yd",get:function(){return this.gd}}]),t}(),Bk=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).UO=void 0,r.UO=e,r.OO(),r}W(n,t),n.qO=function(t,n,i){var e=void 0===t.body?i:t.body;return new Uh({Vu:e,Cv:n.Cv,Iv:n.Cv.Iv,Rv:t.headers,Ev:t.status,Dv:t.statusText,Av:t.url,Nv:!0},n)};var i=n.prototype;return i.MO=function(){return i=Rk((t=this).Cv),{get closed(){return!t.CO},get request(){return i},get url(){return t.Ov},get status(){return t.Ev},get statusText(){return t.Dv},get headers(){return n||(n=t.Rv.Kh()),n},get body(){return t.lv},respondWith:function(n){return t.DO(n)},waitUntil:function(n){return t.PO(n)}};var t,n,i},i.AO=function(t){return n.qO(t,this.EO,this.UO)},j(n,[{key:"lv",get:function(){return this.UO}},{key:"Rv",get:function(){return this.EO.Rv}},{key:"Cv",get:function(){return this.EO.Cv}},{key:"yd",get:function(){return this.gd}},{key:"Ev",get:function(){return this.EO.Ev}},{key:"Dv",get:function(){return this.EO.Dv}},{key:"Ov",get:function(){return this.EO.Av}}]),n}(Fk),Mk=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).VO=void 0,r.HO=void 0,r.HO=e,r.OO(),r}W(n,t);var i=n.prototype;return i.MO=function(){return t=this,{get url(){return t.Ov},get method(){return t.Yv},get headers(){return n||(n=t.Rv.Kh()),n},get body(){return t.lv},get closed(){return!t.CO},get useCredentials(){return t.Zv},get type(){return Ak(t.ks)},get subType(){return Pk(t.Jv)},get mediaType(){return Lk(t.Qv)},get responseType(){return Dk(t.Iv)},redirect:function(n){return t.jO(n)},respondWith:function(n){return t.DO(n)},waitUntil:function(n){return t.PO(n)}};var t,n},i.AO=function(t){var n=this.EO.lv,i=new Uh({Vu:n,Rv:{},Cv:this.EO,Av:this.EO.Ov,Iv:this.EO.Iv,Ev:200,Dv:"OK"});return Bk.qO(t,i,n)},i.jO=function(t){if(!this.CO)throw new v("Cannot redirect, already redirected or has a response");var n;n=ht(t)?{url:t}:t,this.VO=function(t,n){return new qh({Ov:void 0===t.url?n.Ov:t.url,Yv:void 0!==t.method?Nk(t.method):void 0,Rv:t.headers,lv:t.body,Zv:t.useCredentials,ks:void 0!==t.type?Ck(t.type):void 0,Jv:void 0!==t.subType?Ok(t.subType):void 0,Qv:void 0!==t.mediaType?xk(t.mediaType):void 0,Iv:void 0!==t.responseType?Ik(t.responseType):void 0},n)}(n,this.EO),this.i_()},j(n,[{key:"lv",get:function(){return this.EO.lv}},{key:"CO",get:function(){return this.HO&&!this.TO}},{key:"Rv",get:function(){return this.EO.Rv}},{key:"Yv",get:function(){return this.EO.Yv}},{key:"zO",get:function(){return this.VO}},{key:"yd",get:function(){return this.gd}},{key:"Iv",get:function(){return this.EO.Iv}},{key:"Kv",get:function(){return this.EO.Kv}},{key:"Ks",get:function(){return this.EO.Ks}},{key:"ks",get:function(){return this.EO.ks}},{key:"Jv",get:function(){return this.EO.Jv}},{key:"Qv",get:function(){return this.EO.Qv}},{key:"Ov",get:function(){return this.EO.Ov}},{key:"Zv",get:function(){return this.EO.Zv}},{key:"td",get:function(){return this.EO.td}}]),n}(Fk);var Uk,qk=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new Vk(n);return(e=t.call(this,r,i)||this).WO=void 0,e.WO=r,e}W(n,t);var i=n.prototype;return i.$O=function(t){this.WO.$O(t)},i.XO=function(t){this.WO.XO(t)},i.GO=function(t){this.WO.GO(t)},i.YO=function(t){this.WO.YO(t)},i.KO=function(t){this.WO.KO(t)},n}(Hh),Vk=function(){function t(t){this.ed=void 0,this.JO=[],this.QO=[],this.ed=t}var n=t.prototype;return n.Cv=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ZO(n,n.Ks);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Yh)){t.next=12;break}return t.next=11,this.tP(t.t0,n.Ks);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.nP(i,n.Ks);case 15:if(!xh(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Jh(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.nd=function(t){return this.ed.nd(t)},n.ZO=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Ur(i),e=n,u=0,o=this.JO.slice();case 3:if(!(u<o.length)){t.next=21;break}if(s=o[u],Ur(i),(c=new Mk(e,s,!r)).LO){t.next=17;break}return t.prev=8,t.next=11,c.BO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:c.zO&&!r?e=c.zO:c.yd&&!r&&(r=c.yd);case 18:u++,t.next=3;break;case 21:if(!r){t.next=23;break}return t.abrupt("return",r);case 23:return t.abrupt("return",this.ed.Cv(e));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.tP=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n instanceof Jh?n.yd:new Uh({Vu:null,Cv:n.Cv,Ev:0,Dv:""}),t.next=3,this.nP(e,i);case 3:if((r=t.sent)!==e){t.next=8;break}throw n;case 8:if(!xh(r)){t.next=12;break}return t.abrupt("return",r);case 12:throw new Jh(r);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nP=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=n,r=0,u=this.QO.slice();case 2:if(!(r<u.length)){t.next=23;break}return o=u[r],Ur(i),t.next=7,D.resolve(e.Oc().Vu(i));case 7:if(s=t.sent,(c=new Bk(e,o,s)).LO){t.next=19;break}return t.prev=10,t.next=13,c.BO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:e=c.yd||e;case 20:r++,t.next=2;break;case 23:return t.abrupt("return",e);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.$O=function(t){this.JO.unshift(t)},n.XO=function(t){this.JO.push(t)},n.GO=function(t){Ar(this.JO,t)},n.YO=function(t){this.QO.unshift(t)},n.KO=function(t){Ar(this.QO,t)},n.ce=function(){this.ed.ce(),xr(this.JO),xr(this.QO)},t}(),Hk=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).ml=void 0,r.iP=function(t){r.nc(t)},r.eP=function(t){r.nc(t)},r.rP=n,r.QT=i,r.nN=e,r.rP.ic(us.Ih,r.iP),r.rP.ic(us.Rh,r.eP),r}W(n,t);var i=n.prototype;return i.uP=function(t){this.nN.uP(t)},i.$O=function(t){this.QT.$O(t)},i.GO=function(t){this.QT.GO(t)},i.YO=function(t){this.QT.YO(t)},i.KO=function(t){this.QT.KO(t)},i.ce=function(){this.uc(),this.rP.oc(us.Ih,this.iP),this.rP.oc(us.Rh,this.eP)},j(n,[{key:"bl",get:function(){var t;return this.ml||(this.ml=(t=this,{get online(){return t.wy},get estimator(){return n=t.oP,{get bandwidth(){return n.aR},get roundTripTime(){return n.vR}};var n},setEstimator:function(n){t.uP(function(t){if(t)return{get aR(){return Kv(t.bandwidth)},get vR(){return Kv(t.roundTripTime)},hR:function(n){return function(t){if(t)return{sP:function(n){t.markRequestStart(n)},cP:function(n){t.markResponseStart(n)},fP:function(n,i){t.markResponseData(n,i)},hP:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(Rk(n)))}}}(n))},addRequestInterceptor:function(n){t.$O(n)},removeRequestInterceptor:function(n){t.GO(n)},addResponseInterceptor:function(n){t.YO(n)},removeResponseInterceptor:function(n){t.KO(n)},addEventListener:function(n,i){t.ic(n,i)},removeEventListener:function(n,i){t.oc(n,i)}})),this.ml}},{key:"wy",get:function(){return this.rP.wy}},{key:"oP",get:function(){return this.nN.oP}}]),n}(Qr);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(Uk||(Uk={}));var jk=30,zk={type:Uk.BANDWIDTH},Wk=20,$k=60;function Xk(t){var n,i,e,r=zv(zk);return ht(t)?r.type=Gk(t):ct(t)&&function(t){switch(t){case Uk.PERFORMANCE:case Uk.QUALITY:case Uk.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=Gk(t.type)),ct(t)&&ct(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=Yv(n.bitrate),y(e)||(i.bitrate=e),i)),r}function Gk(t){switch(t){case"bandwidth":return Uk.BANDWIDTH;case"performance":return Uk.PERFORMANCE;case"quality":return Uk.QUALITY}}var Yk=function(t){function n(n){var i;return(i=t.call(this,"vP")||this).aP=n,i}return W(n,t),n}(tu),Kk=function(t){function n(n){var i;return(i=t.call(this,"lP")||this).dP=n,i}return W(n,t),n}(tu),Jk=function(t){function n(n){var i;return(i=t.call(this,"gP")||this).wP=n,i}return W(n,t),n}(tu),Qk=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return(n=t.call.apply(t,[this].concat(r))||this).ml=(i=un(n),{get strategy(){return{metadata:(t=i.dP).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.dP=Xk(t)},get targetBuffer(){return i.aP},set targetBuffer(t){var n=Yv(t);y(n)||(i.aP=n>$k?$k:n)},get bufferLookbackWindow(){return i.wP},set bufferLookbackWindow(t){var n=Yv(t);y(n)||(i.wP=n<=0?jk:n)}}),n.yP=zk,n.pP=Wk,n.mP=jk,n.bP=void 0,n._P=void 0,n}W(n,t);var i=n.prototype;return i.kP=function(t){this._P=t},i.uP=function(t){this.bP=t},j(n,[{key:"TP",get:function(){switch(this.yP.type){case Uk.PERFORMANCE:return 0;case Uk.QUALITY:return 1/0;case Uk.BANDWIDTH:return this.yP.metadata&&void 0!==this.yP.metadata.bitrate?this.yP.metadata.bitrate:8*md.Bw();default:return 8*md.Bw()}}},{key:"bl",get:function(){return this.ml}},{key:"dP",get:function(){return this.yP},set:function(t){this.yP=t,this.nc(new Kk(t))}},{key:"aP",get:function(){return this.pP},set:function(t){this.pP=t,this.nc(new Yk(t))}},{key:"wP",get:function(){return this.mP},set:function(t){this.mP=t,this.nc(new Jk(t))}},{key:"oP",get:function(){var t;return null!=(t=this.bP)?t:this._P.TI}}]),n}(Qr),Zk=function(t){function n(){return t.call(this,"xl")||this}return W(n,t),n.prototype._l=function(){return new tT},n}(Nv),tT=function(t){function n(){return t.call(this,"change")||this}return W(n,t),n}(tu),nT=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).SP=void 0,e.EP=function(t){var n;n=t,Boolean(n&&n.bl)&&Wr(function(){e.nc(t.bl)})},e.SP=n,e.SP.rc(e.EP),e}return W(n,t),n.prototype.ce=function(){this.uc(),this.SP.fc(this.EP)},n}(wd),iT=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n}(nT);var eT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jy=0,n.zy=1/0,n.ml=void 0,n}W(n,t);var i=n.prototype;return i.Yl=function(){0===this.jy&&this.zy===1/0||(this.jy=0,this.zy=1/0,this.nc(new Zk))},i.RP=function(){return new ob([this.qy,this.Vy],[!0,!0])},j(n,[{key:"qy",get:function(){return this.jy},set:function(t){if(this.Vy<=t)throw new a("Start time of a clip should be smaller than the end time.");this.jy!==t&&(this.jy=t,this.nc(new Zk))}},{key:"Vy",get:function(){return this.zy},set:function(t){if(t<=this.qy)throw new a("End time of a clip should be larger than the start time.");this.zy!==t&&(this.zy=t,this.nc(new Zk))}},{key:"bl",get:function(){var t,n,i;return this.ml||(this.ml=(i={get startTime(){return t.qy},set startTime(n){t.qy=n},get endTime(){return t.Vy},set endTime(n){t.Vy=n},addEventListener:function(t,i){n.ic(t,i)},removeEventListener:function(t,i){n.oc(t,i)}},n=new nT(t=this,i),i)),this.ml}}]),n}(wd),rT=function(t){function n(n){var i;return(i=t.call(this)||this).IP=function(t){i.DP(t)||i.nc(t)},i.NP=n,i.NP.rc(i.IP),i}W(n,t);var i=n.prototype;return i.CP=function(){return this.NP.Pg},i.Yg=function(){return this.NP.Yg()},i.AP=function(){return this.NP.ny},i.OP=function(){return this.NP.Zg},i.PP=function(){return this.NP.iy},i.xP=function(t){this.NP.iy=t},i.LP=function(){return this.NP.rg},i.FP=function(t){this.NP.rg=t},i.BP=function(){return this.NP.ug},i.MP=function(){return this.NP.ey},i.UP=function(){return this.NP.og},i.qP=function(){return this.NP.gc},i.VP=function(){return this.NP.sg},i.HP=function(){return this.NP.uy},i.jP=function(){return this.NP.cg},i.zP=function(t){this.NP.cg=t},i.WP=function(){return this.NP.wy},i.$P=function(){return this.NP.fg},i.XP=function(){return this.NP.hg},i.GP=function(t){this.NP.hg=t},i.YP=function(){return this.NP.gy},i.KP=function(){return this.NP.yy},i.JP=function(t){this.NP.yy=t},i.QP=function(){return this.NP.kw},i.ZP=function(){return this.NP.py},i.tx=function(){return this.NP.ag},i.Mg=function(){return this.NP.Mg()},i.Ug=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ur(i),t.next=3,this.NP.Ug(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nx=function(){return this.NP.Lg},i.ix=function(){return this.NP.vg},i.ex=function(){return this.NP.xg},i.ux=function(){return this.NP.dg},i.ox=function(){return this.NP.lg},i.sx=function(t){this.NP.lg=t},i.Gg=function(){return this.NP.Gg()},i.Xg=function(){return this.NP.Xg()},i.jg=function(t){this.NP.jg(t)},i.zg=function(){this.NP.zg()},i.$g=function(){this.NP.$g()},i.ae=function(){this.NP.ae()},i.ee=function(){this.NP.ee()},i.ie=function(){this.NP.ie()},i.Wg=function(){this.NP.Wg()},i.Bg=function(){return this.NP.Bg()},i.qg=function(){return this.NP.qg()},i.Vg=function(){this.NP.Vg()},i.Hg=function(){this.NP.Hg()},i.Yl=function(){return this.NP.Yl()},i.ce=function(){return this.NP.ce()},i.ty=function(){this.NP.ty()},i.Kg=function(t){return this.NP.Kg(t)},i.DP=function(t){return!1},j(n,[{key:"Pg",get:function(){return this.CP()}},{key:"ny",get:function(){return this.AP()}},{key:"iy",get:function(){return this.PP()},set:function(t){this.xP(t)}},{key:"Zg",get:function(){return this.OP()}},{key:"rg",get:function(){return this.LP()},set:function(t){this.FP(t)}},{key:"ug",get:function(){return this.BP()}},{key:"ey",get:function(){return this.MP()}},{key:"og",get:function(){return this.UP()}},{key:"gc",get:function(){return this.qP()}},{key:"sg",get:function(){return this.VP()}},{key:"Fg",get:function(){return this.NP.Fg}},{key:"uy",get:function(){return this.HP()}},{key:"_g",get:function(){return this.NP._g}},{key:"cg",get:function(){return this.jP()},set:function(t){this.zP(t)}},{key:"wy",get:function(){return this.WP()}},{key:"fg",get:function(){return this.$P()}},{key:"hg",get:function(){return this.XP()},set:function(t){this.GP(t)}},{key:"gy",get:function(){return this.YP()}},{key:"yy",get:function(){return this.KP()},set:function(t){this.JP(t)}},{key:"kw",get:function(){return this.QP()}},{key:"py",get:function(){return this.ZP()}},{key:"ag",get:function(){return this.tx()}},{key:"Lg",get:function(){return this.nx()}},{key:"vg",get:function(){return this.ix()}},{key:"xg",get:function(){return this.ex()}},{key:"dg",get:function(){return this.ux()}},{key:"lg",get:function(){return this.ox()},set:function(t){this.sx(t)}},{key:"my",get:function(){return this.NP.my},set:function(t){this.NP.my=t}}]),n}(gd),uT=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).hx=void 0,r.ax=!1,r.vx=void 0,r.lx=!1,r.wx=function(){r.gx(),r.yx()},r.qR=function(){r.mx(),r.yx(),r.bx&&r.rg>=r.hx.Vy-n._x&&!r.og&&(r.vx=dk(r.qR))},r.kx=function(){r.lx=!0},r.Tx=function(){r.lx&&(r.lx=!1,r.yx())},r.hx=e,r.hx.ic("xl",r.wx),r.NP.ic("timeupdate",r.qR),r}W(n,t);var i=n.prototype;return i.FP=function(n){var i=this.hx.RP().vD(n);t.prototype.FP.call(this,i),this.yx()},i.UP=function(){return t.prototype.UP.call(this)||this.ax},i.ZP=function(){return ob.MD(t.prototype.ZP.call(this)).wD(this.hx.RP()).mI()},i.ie=function(){this.UP()?this.FP(this.Sx.start(0)):this.gx(),t.prototype.ie.call(this),this.yx()},i.Ug=function(){var n=D.coroutine(He.mark(function n(i,e){return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ur(e),this.ax=!1,this.hx.Yl(),n.next=5,t.prototype.Ug.call(this,i,e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.ce=function(){return this.hx.oc("xl",this.wx),this.NP.oc("timeupdate",this.qR),this.mx(),t.prototype.ce.call(this)},i.DP=function(n){switch(n.type){case"seeking":return this.nc(n),this.kx(),!0;case"seeked":case"emptied":return this.nc(n),this.Tx(),!0;case"ended":if(this.bx)return!0}return t.prototype.DP.call(this,n)},i.mx=function(){this.vx&&(lk(this.vx),this.vx=void 0)},i.yx=function(){var t=this.rg,i=this.bx&&t>=this.hx.Vy-n.pm;this.ax&&!i?(this.ax=!1,this.fg&&this.ie()):this.ax||!i||this.ag||this.lx||(this.ax=!0,this.nc(new Jd(t)),this.ee())},i.gx=function(){if(this.ug!==1/0){var t=this.Sx,i=ob.MD(t).vD(this.rg);Qt(this.rg,i,n.pm)||this.FP(i)}},j(n,[{key:"Sx",get:function(){return this.ZP().length?this.ZP():this.hx.RP().mI()}},{key:"bx",get:function(){return this.hx.Vy<this.ug}}]),n}(rT);uT._x=1,uT.pm=.001;var oT=function(){function t(){this.Ex=void 0,this.Ex=!1}return j(t,[{key:"Rx",get:function(){return this.Ex},set:function(t){this.Ex=t}}]),t}(),sT=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Ex=void 0,e.Ix=!1,e.Dx=!1,e.Ex=i,e}W(n,t);var i=n.prototype;return i.UP=function(){return!this.Ex.Rx&&t.prototype.UP.call(this)},i.ee=function(){this.Dx=!0,t.prototype.ee.call(this)},i.ie=function(){this.Dx=!1,t.prototype.ie.call(this)},i.DP=function(n){if(this.Ex.Rx)switch(n.type){case"ended":return this.rg=0,this.Dx||(this.ag?this.Ix=!0:this.ie()),!0;case"seeked":this.Ix&&(this.Ix=!1,this.ie());break;case"pause":if(this.Ix||t.prototype.UP.call(this))return!0}return t.prototype.DP.call(this,n)},n}(rT);var cT=function(){function t(t){var n;this.ml=(n=this,{get currentBandwidthEstimate(){return n.ay},get corruptedVideoFrames(){return n.sy},get droppedVideoFrames(){return n.oy},get totalBytesLoaded(){return n.vy},get bufferedSegments(){return n.ly}}),this.$I=t}return j(t,[{key:"bl",get:function(){return this.ml}},{key:"sy",get:function(){return this.$I.Nx._g.sy}},{key:"ay",get:function(){return this.$I.Nx._g.ay}},{key:"oy",get:function(){return this.$I.Nx._g.oy}},{key:"Cx",get:function(){throw new a("Not implemented")}},{key:"Ax",get:function(){throw new a("Not implemented")}},{key:"vy",get:function(){return this.$I.Nx._g.vy}},{key:"hy",get:function(){return this.$I.Nx._g.hy}},{key:"ly",get:function(){return this.$I.Nx._g.ly}}]),t}(),fT=function(t){function n(){return t.call(this,"Ox")||this}return W(n,t),n.prototype._l=function(){return new hT},n}(Nv),hT=function(t){function n(){return t.call(this,"castingchange")||this}return W(n,t),n}(tu);var aT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Px=[],n.ml=void 0,n.xx=function(){return n.nc(new fT)},n}W(n,t);var i=n.prototype;return i.Lx=function(t){this.Px.push(t),t.ic("statechange",this.xx)},i.ce=function(){var t=this;this.Px.forEach(function(n){n.oc("statechange",t.xx)}),xr(this.Px)},j(n,[{key:"Fx",get:function(){return this.Px.some(function(t){return t.Fx})}},{key:"bl",get:function(){var t,n,i;return this.ml||(this.ml=(i={get casting(){return t.Fx},addEventListener:function(t,i){n.ic(t,i)},removeEventListener:function(t,i){n.oc(t,i)}},n=new iT(t=this,i),i)),this.ml}}]),n}(gd),vT=function(){function t(){}return t.Bx=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new qh({Ov:n,Iv:os.vu,Yv:Lh.GET}),t.next=4,i.Cv(e);case 4:return r=t.sent,t.next=7,r.Vu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Mr(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.Mx=function(t){try{var i=E_(t);return new A_(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Uo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.Ux=function(t){void 0===t&&(t=W_.$m),C.Po("The baked-in license is used. Please update the configuration with your license.");var n=t.SC(".$hsF|b9_Ess*r[Y.4(HiEagT@Y@Cen3Cec3Cl\"\""),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.SC(n)}),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.SC(n)}),r=Number(new Date(Number(t.SC("COD|aHpHa:p3Ceo3Co\"\""))));return new A_(n,i,e,r)},t.convertLicenseToDummyLicense=function(t){return new A_(t.OC,t.xC,t.LC,864e13,t.BC,Date.now(),t.UC,t.qC)},t}(),dT=function(){function t(){}return t.fh=function(){return t.su||(t.su=lT._f()?new lT:new ts),t.su},t.Ic=function(n){t.fh().Ic(n)},t.oh=function(){t.fh().oh()},t.Sc=function(n){return t.fh().Sc(n)},t.sh=function(n,i){t.fh().sh(n,i)},t.qx=function(n){var i=t.Sc(n);if(void 0!==i)return g(i)},t.Vx=function(n){return"true"===t.Sc(n)},t}();dT.su=void 0;var lT=function(n){function i(){return n.apply(this,arguments)||this}W(i,n),i._f=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.Ic=function(n){t.localStorage.removeItem(n)},e.oh=function(){t.localStorage.clear()},e.Sc=function(n){return t.localStorage[n]},e.sh=function(n,i){t.localStorage[n]=i},i}(dT),wT=l.floor(14399999*l.random()-72e5),gT=function(){function t(t,n,i,e,r,u){this.jC=void 0,this.QT=t,this.Hx=n,this.jx=i,this.RA=e,this.zx=r,this.$C=u,this.jC=M_(u)}var i=t.prototype;return i.Wx=function(){var t=D.coroutine(He.mark(function t(){var n;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$x(this.zx.license,this.zx.licenseUrl);case 2:n=t.sent,this.RA.Xx(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$x=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u,o,s,c,f,h,a,v;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,i?u=vT.Mx(i):r||(u=vT.Ux()),r||(r="https://validate.theoplayer.com/1/"+u.OC),o=this.Gx(),!u){t.next=14;break}if((s=this.Hx.KC(u))!==I_.NC){t.next=14;break}if(!this.Yx(u.FC)||!this.Yx(null==o?void 0:o.FC)){t.next=13;break}return t.next=10,this.Kx(r);case 10:if(!(c=t.sent)){t.next=13;break}return t.abrupt("return",c);case 13:return t.abrupt("return",u);case 14:if(!o){t.next=25;break}if(this.Hx.KC(o)!==I_.NC){t.next=24;break}if(!this.Yx(null==o?void 0:o.FC)){t.next=23;break}return t.next=20,this.Kx(r);case 20:if(!(f=t.sent)){t.next=23;break}return t.abrupt("return",f);case 23:return t.abrupt("return",o);case 24:dT.Ic("THEOplayer.license");case 25:return t.next=27,vT.Bx(r,this.QT);case 27:if(!(h=t.sent)){t.next=37;break}if(a=vT.Mx(h),this.Hx.KC(a)!==I_.NC){t.next=34;break}return dT.sh("THEOplayer.license",h),t.abrupt("return",a);case 34:dT.Ic("THEOplayer.license"),t.next=39;break;case 37:if(this.jC||!u||s!==I_.CC||r!=="https://validate.theoplayer.com/1/"+u.OC){t.next=39;break}return t.abrupt("return",vT.convertLicenseToDummyLicense(u));case 39:if(!u&&!a){t.next=43;break}this.Jx(null!=(v=u)?v:a,new Uo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Uo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.XC=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RA.OA();case 2:if(i=t.sent,!this.Yx(i.FC)){t.next=9;break}return r=null!=(e=this.zx.licenseUrl)?e:"https://validate.theoplayer.com/1/"+i.OC,t.next=7,this.Kx(r);case 7:(u=t.sent)&&(this.RA.Xx(u),i=u);case 9:if(t.prev=9,(o=this.Hx.KC(i))!==I_.AC){t.next=16;break}throw s=C_.VC,new Uo(P_(s),q_.YC(s));case 16:if(o!==I_.CC){t.next=19;break}throw c=C_.CC,new Uo(P_(c),q_.YC(c));case 19:this.Hx.XC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.Qx(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.Kx=function(){var t=D.coroutine(He.mark(function t(n){var i,e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vT.Bx(n,this.QT);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(e=vT.Mx(i),this.Hx.KC(e)!==I_.NC){t.next=11;break}return dT.sh("THEOplayer.license",i),t.abrupt("return",e);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Yx=function(t){return!t||Number(new Date)+2592e5+wT>=t},i.Gx=function(){var t=dT.Sc("THEOplayer.license");if(t)return vT.Mx(t)},i.Jx=function(t,n){this.RA.Xx(t),this.Qx(n)},i.Qx=function(t){throw kt(t.message),this.jx.LA(t.message),t},t}(),yT=function(){function t(){this.Zx=void 0,this.tL=new fo}var n=t.prototype;return n.Xx=function(t){this.Zx=t,this.tL.Mc()},n.OA=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Zx){t.next=2;break}return t.abrupt("return",D.resolve(this.Zx));case 2:return t.next=4,this.tL.Bc;case 4:return t.abrupt("return",this.Zx);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(t,[{key:"nL",get:function(){return this.Zx}}]),t}(),pT=function(t){function n(){return t.call(this,"xl")||this}return W(n,t),n.prototype._l=function(){return new mT},n}(Nv),mT=function(t){function n(){return t.call(this,"change")||this}return W(n,t),n}(tu);function bT(t){var n,i={get fontFamily(){return t.iL},set fontFamily(n){t.iL=n},get fontColor(){return t.eL},set fontColor(n){t.eL=n},get fontSize(){return t.rL},set fontSize(n){t.rL=n},get backgroundColor(){return t.uL},set backgroundColor(n){t.uL=n},get windowColor(){return t.oL},set windowColor(n){t.oL=n},get edgeStyle(){return t.sL},set edgeStyle(n){t.sL=n},addEventListener:function(t,i){var e=Zv(t,Jv);n.ic(e,i)},removeEventListener:function(t,i){var e=Zv(t,Jv);n.oc(e,i)}};return n=new Zr(i),t.ic(["xl"],function(t){return n.nc(t.bl)}),i}var _T,kT,TT={iL:void 0,eL:void 0,rL:void 0,uL:void 0,oL:void 0,sL:void 0,cL:void 0},ST="THEOplayer.textTrackStyle.",ET=function(t){function n(){var i;return(i=t.call(this)||this).fL=void 0,i.ml=void 0,i.fL=n.hL(),i}return W(n,t),n.prototype.if=function(t){this.fL=je({},this.fL,t),n.aL(this.fL),this.nc(new pT)},n.hL=function(){var t=je({},TT);return t.iL=dT.Sc(ST+"fontFamily")||t.iL,t.eL=dT.Sc(ST+"fontColor")||t.eL,t.rL=dT.Sc(ST+"fontSize")||t.rL,t.uL=dT.Sc(ST+"backgroundColor")||t.uL,t.oL=dT.Sc(ST+"windowColor")||t.oL,t.sL=dT.Sc(ST+"edgeStyle")||t.sL,t},n.aL=function(t){dT.sh(ST+"fontFamily",t.iL||""),dT.sh(ST+"fontColor",t.eL||""),dT.sh(ST+"fontSize",t.rL||""),dT.sh(ST+"backgroundColor",t.uL||""),dT.sh(ST+"windowColor",t.oL||""),dT.sh(ST+"edgeStyle",t.sL||"")},j(n,[{key:"vL",get:function(){return this.fL}},{key:"iL",get:function(){return this.fL.iL},set:function(t){this.if({iL:t})}},{key:"eL",get:function(){return this.fL.eL},set:function(t){this.if({eL:t})}},{key:"rL",get:function(){return this.fL.rL},set:function(t){this.if({rL:t})}},{key:"uL",get:function(){return this.fL.uL},set:function(t){this.if({uL:t})}},{key:"oL",get:function(){return this.fL.oL},set:function(t){this.if({oL:t})}},{key:"sL",get:function(){return this.fL.sL},set:function(t){this.if({sL:t})}},{key:"cL",get:function(){return this.fL.cL}},{key:"bl",get:function(){return this.ml||(this.ml=bT(this)),this.ml}}]),n}(Qr),RT=function(t){function n(n,i){var e;(e=t.call(this)||this).dL=void 0,e.af=void 0,e.Nx=void 0,e.lL=void 0,e.ll=void 0,e.hx=void 0,e.Ex=void 0,e.wL=void 0,e.gL=void 0,e.nN=void 0,e.Hx=void 0,e.yL=void 0,e.pL=void 0,e.tN=void 0,e.mL=!1,e.Rg=!1,e.Ry=void 0,e.bL=!1,e._L=void 0,e.kL=void 0,e.TL=void 0,e.SL=void 0,e.EL=void 0,e.RL=function(t){if(!e.bL){e.bL=!0;var n=e.dL,i=Il(t);e.Nx.ew=new vb(e.ey,i,t),$r(n.ce())}},e.IL=function(t){e.nc(t.bl)},e.DL=function(t){t.type!==us.Ih&&t.type!==us.Rh&&e.nc(t)};var r=Yv(i.uid);y(r)?e.Ry=Ll++:e.Ry=r,e.af=i;var u=C.ll,o=new yT;e.lL=new ik("3.2.3",u,o),e.ll=new qk(u,i.allowMixedContent),e.nN=new Qk,e.Hx=new O_(i.isEmbeddable,"3.2.3",R_()),e.EL=new gT(u,e.Hx,e.lL,o,i,R_()),e.EL.Wx().catch(e.RL),e.yL=new kk(n),e.yL.ic("jA",e.IL),e.tN=new ET,e.hx=new eT,e.Ex=new oT;var s=new ab(n,i,e.ll,e.nN,e.yL,e.tN);e.nN.kP(s);var c=s;c=new uT(c,e.NL),c=new sT(c,e.Rx),e.dL=c,e.Nx=new Tl(e.dL),e.Nx.rc(e.DL),e.SL=new cT(un(e)),e.kL=new Hk(e.Nx,e.ll,e.nN),e.wL=new uk(un(e)),e.pL=new Ek(e.Nx,i.allowNativeFullscreen),e.gL=new Ab(e.pL),e.yL.lf();var f=new k(e.yL,e.tN,1,[Dl.Xv]);return e._L=new T(f),e.TL=new aT,e}W(n,t);var i=n.prototype;return i.zP=function(t){this.Nx.cg=t,t||this.fg||this.ae()},i.sx=function(t){this.Nx.lg=t},i.CL=function(){fl(this,Ob,this)},i.ie=function(){this.Nx.ie()},i.ee=function(){this.Nx.ee()},i.Ug=function(){var t=D.coroutine(He.mark(function t(n,i){var e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.EL.XC(n).catch(this.RL),e=IT(n),t.next=5,this.Nx.Ug(e,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ae=function(){this.Rg||(this.Nx.ae(),this._L.ae(),this.Rg=!0)},i.jD=function(){return this.gL.SN()===Rb.FULLSCREEN},i.Wg=function(){this.Nx.Wg()},i.$g=function(){this.Nx.$g()},i.Xg=function(){return this.Nx.Xg()},i.Yl=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Nx.Bg();case 2:return t.next=4,this.Nx.Yl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ce=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uc(),this.TL.ce(),this.ll.ce(),this.kL.ce(),this.pL.ce(),this.gL.ce(),this.yL.ce(),this.lL.ce(),this._L.ce(),t.next=11,this.Nx.ce();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"AL",get:function(){return this.nN}},{key:"Ag",get:function(){return this.mL},set:function(t){this.mL=t,this.Nx.Ag=t}},{key:"OL",get:function(){return this._L}},{key:"Pg",get:function(){return this.Nx.Pg}},{key:"PL",get:function(){return this.TL}},{key:"xL",get:function(){return this.yL}},{key:"Fg",get:function(){return this.Nx.Fg}},{key:"_g",get:function(){return this.SL}},{key:"LL",get:function(){return this.kL}},{key:"Lg",get:function(){return this.Nx.Lg}},{key:"FL",get:function(){return this.tN}},{key:"xg",get:function(){return this.Nx.xg}},{key:"ny",get:function(){return this.Nx.ny}},{key:"NL",get:function(){return this.hx}},{key:"Rx",get:function(){return this.Ex}},{key:"rg",get:function(){return this.Nx.rg},set:function(t){this.Nx.rg=t}},{key:"iy",get:function(){return this.Nx.iy},set:function(t){this.Nx.iy=t}},{key:"Zg",get:function(){return this.Nx.Zg}},{key:"ug",get:function(){return this.Nx.ug}},{key:"ey",get:function(){return this.Nx.ey}},{key:"og",get:function(){return this.Nx.og}},{key:"gc",get:function(){return this.Nx.gc}},{key:"sg",get:function(){return this.Nx.sg}},{key:"cg",get:function(){return this.Nx.cg},set:function(t){var n=Boolean(t);this.zP(n)}},{key:"fg",get:function(){return this.Nx.fg}},{key:"hg",get:function(){return this.Nx.hg},set:function(t){this.Nx.hg=t}},{key:"gy",get:function(){return this.Nx.gy}},{key:"yy",get:function(){return this.Nx.yy},set:function(t){this.Nx.yy=tb(t)}},{key:"kw",get:function(){return this.Nx.kw}},{key:"py",get:function(){return this.Nx.py}},{key:"ag",get:function(){return this.Nx.ag}},{key:"cw",get:function(){return this.Ry}},{key:"vg",get:function(){return this.Nx.vg}},{key:"dg",get:function(){return this.Nx.dg}},{key:"lg",get:function(){return this.Nx.lg},set:function(t){var n=Jt(Number(t),0,1)||0;this.sx(n)}}]),n}(gd);function IT(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.BL=0]="BL",t[t.ML=1]="ML"}(_T||(_T={})),function(t){t[t.UL=0]="UL"}(kT||(kT={}));var DT={};function NT(t,n){var i=t;if(DT[n])for(var e=0,r=DT[n];e<r.length;e++){i=(0,r[e])(i)}return i}var CT=[];function AT(t){CT.push(t)}var OT=t.CustomEvent;var PT=function(){try{var t=new OT("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=r.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},xT=function(){function t(t,n){var i=this;this.$I=void 0,this.qL=void 0,this.VL=!1,this.HL=function(t){i.qL.xA(t.error,i.rg)},this.jL=function(){i.qL.AA(i.zL),i.$I.removeEventListener("playing",i.jL),i.VL=!1},this.WL=function(){i.VL||(i.$I.addEventListener("playing",i.jL),i.VL=!0)},this.qL=n,this.$I=t,this.$I.addEventListener("error",this.HL),this.$I.addEventListener("sourcechange",this.WL),this.WL()}return t.prototype.Yl=function(){},j(t,[{key:"rg",get:function(){var t=this.$I.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"zL",get:function(){return this.$I.src||""}}]),t}();AT(function(t){new xT(t.bl,t.lL)});var LT,FT,BT="theoplayer-stored-volume",MT="theoplayer-stored-mutedstate";LT=function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=dT.qx(BT);(void 0===r||y(r))&&(r=1);var u=dT.Vx(MT)||!1;e.lg=r,e.cg=u}return e}W(n,t);var i=n.prototype;return i.zP=function(n){this.af.persistVolume&&dT.sh(MT,""+Boolean(n)),t.prototype.zP.call(this,n)},i.sx=function(n){this.af.persistVolume&&dT.sh(BT,""+Number(n)),t.prototype.sx.call(this,n)},n}(t)},FT=_T.ML,(DT[FT]||(DT[FT]=[])).push(LT);var UT=new(function(){function t(){this.$L=[],this.ml=void 0}var n=t.prototype;return n.Wl=function(t){return this.$L[t]},n.XL=function(t){this.$L.push(t),this.bl.push(t.bl)},n.nf=function(t){var n=this.$L.indexOf(t);n<0||(Or(this.$L,n),this.ml&&Or(this.ml,n))},n.GL=function(t){for(var n=0,i=this.$L;n<i.length;n++){var e=i[n];if(e.cw===t)return e}},j(t,[{key:"Jl",get:function(){return this.$L.length}},{key:"bl",get:function(){return this.ml||(this.ml=function(t){for(var n=[],i=0;i<t.Jl;i++)n[i]=t.Wl(i).bl;return n.getPlayerByUID=function(n){var i=t.GL(n);return i&&i.bl},n}(this)),this.ml}}]),t}()),qT=function(){function t(t){var n=this;this.YL=[],this.KL=void 0,this.Yd=new Fr,this.JL=void 0,this.kn=function(){return 0===n.YL.length?n.JL?VT(n.JL,n.Yd.Ks).then(n.QL,n.QL):n.QL():n.YL.shift()().then(n.kn)},this.QL=function(){if(0!==n.YL.length)return n.kn();n.KL=void 0},this.JL=t}var n=t.prototype;return n.ZL=function(t,n){var i=this;return new D(function(e){var r=new Fr;r.Gs(i.Yd.Ks),n&&r.Gs(n);var u=function(){r.Vs()};i.YL.push(function(){var n=VT(t,r.Ks);return e(n),n.then(u,u)}),i.KL||(i.KL=i.kn())})},n.Xs=function(){return this.tF(!0)},n.ce=function(){return this.JL=void 0,this.tF(!1)},n.tF=function(t){var n=this.KL;return this.Yd.Xs(),t&&(this.Yd=new Fr),D.resolve(n)},t}();function VT(t,n){return new D(function(i){return i(t(n))})}var HT,jT=function(t){function n(n){var i;return(i=t.call(this,us.Vh)||this).source=n,i}return W(n,t),n}(tu),zT=function(t){function n(){var n;return(n=t.call(this)||this).$D=void 0,n.GD=void 0,n.KD=void 0,n.YD=void 0,n.$D=0,n.GD=!0,n.KD=!1,n.YD=1,n}W(n,t);var i=n.prototype;return i.ie=function(){this.GD&&(this.GD=!1,this.nc(new jd(this.rg)),this.nc(new oy(this.rg)))},i.ee=function(){this.GD||(this.GD=!0,this.nc(new Kd(this.rg,this.iy)),this.nc(new Hd(this.rg)))},i.Yl=function(){this.$D=0,this.KD=!1,this.YD=1,this.ee(),this.nc(new Vd(this.$D))},i.ce=function(){this.uc()},i.$g=function(){},i.Wg=function(){},j(n,[{key:"iy",get:function(){},set:function(t){}},{key:"rg",get:function(){return this.$D},set:function(t){this.KD&&this.$D===t||(this.$D=t,this.KD=!0,this.nc(new Zd(this.rg)))}},{key:"fg",get:function(){return this.GD}},{key:"hg",get:function(){return this.YD},set:function(t){this.YD!==t&&(this.YD=t,this.nc(new Yd(this.rg,this.hg)))}},{key:"kw",get:function(){return Ed.Xw}},{key:"ag",get:function(){return this.KD}}]),n}(wd),WT=function(t){function n(){return t.call(this,us.yh)||this}return W(n,t),n}(tu),$T={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},XT={visibility:"hidden"},GT={visibility:"visible"},YT=function(){function t(t){var n,i=this;this.VI=void 0,this.$I=void 0,this.nF=!1,this.iF=void 0,this.eF=void 0,this.rF=function(t){var n;i.nF=!1,i.iF=null==(n=t.source)?void 0:n.poster,i.if()},this.pS=function(){i.nF=!0,i.$g()},this.$I=t,this.KI(),this.VI=((n=E&&E.document&&E.document.createElement("div")).className="theoplayer-poster",_e($T,n),n),t.ey.appendChild(this.VI)}var n=t.prototype;return n.if=function(){var t=this.$I.fg,n=this.nF;this.Ov?this.VI.style.backgroundImage='url("'+this.Ov.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.VI.style.backgroundImage="",t&&this.Ov&&!n?this.Wg():this.$g()},n.Wg=function(){_e(XT,this.$I.ey),_e(GT,this.VI)},n.$g=function(){_e(XT,this.VI),_e(GT,this.$I.ey)},n.KI=function(){this.$I.ic("sourcechange",this.rF),this.$I.ic("play",this.pS)},n.ce=function(){this.$I.oc("sourcechange",this.rF),this.$I.oc("play",this.pS),be(this.VI)},j(t,[{key:"Ov",get:function(){return void 0!==this.iF?this.iF:void 0!==this.eF?this.eF:void 0}},{key:"uF",set:function(t){this.eF=t,this.if()}}]),t}();function KT(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).$I=void 0,r.oF=void 0,r.sF=void 0,r.cF=void 0,r.fF=void 0,r.hF=void 0,r.aF=void 0,r.vF=void 0,r.YI=void 0,r.GI=void 0,r.ml=void 0,r.dF=function(t){t.type!==us.Ah&&r.vF.push(t)},r.oF=new t(i,e),r.sF=new zT,r.$I=r.oF,r.cF=new YT(un(r)),r.hF=new qT,r.aF=!1,r.vF=[],r.YI=!0,r.GI=void 0,r.KI(),r}W(i,n);var e=i.prototype;return e.ZL=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.hF.ZL(n,i).catch(Vr));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.lF=function(){var t=D.coroutine(He.mark(function t(n,i){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ur(i),this.oF.rc(this.dF),t.next=4,this.oF.Ug(n,i);case 4:this.oF.fc(this.dF);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.wF=function(){var t=D.coroutine(He.mark(function t(){var n,i,e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.Mg())&&!e_(n)&&this.Ag&&this.fg){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.af.mutedAutoplay,t.next=6,this.OL.he();case 6:e=t.sent,t.t0=e,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.gF(),t.abrupt("break",14);case 12:return(this.cg||i===zd.ALL)&&(this.cg=!0,this.ie()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Ug=function(t){var n=this,i=this.GI;i&&!e_(i)&&this.nc(new Vd(0,0)),this.Yl(),this.GI=t,$r(this.ZL(function(){var i=D.coroutine(He.mark(function i(e){return He.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Ur(e),i.prev=1,i.next=4,n.lF(t,e);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.GI=void 0,i.t0;case 10:return i.next=12,n.yF();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},e.yF=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pF(this.oF),this.nc(new jT(this.Mg())),t.next=4,this.wF();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.FP=function(t){this.$I.rg=t},e.qP=function(){return this.oF.gc},e.VP=function(){return this.oF.sg},e.ie=function(){this.$I.ie()},e.gF=function(){this.cg||this.ae(),this.ie()},e.ae=function(){this.oF.ae()},e.ee=function(){this.$I.ee()},e.Bg=function(){this.Ug(void 0)},e.Wg=function(){this.YI=!0,this.$I.Wg()},e.$g=function(){this.YI=!1,this.$I.$g()},e.CL=function(){this.oF.CL()},e.sx=function(t){this.oF.sx(t)},e.zP=function(t){this.oF.zP(t)},e.mF=function(t){this.fF=t,t.XL(this)},e.jD=function(){return this.oF.jD()},e.Mg=function(){return this.GI},e.Xg=function(){return this.oF.Xg()},e.LP=function(){return this.oF.rg},e.BP=function(){return this.oF.ug},e.AP=function(){return this.oF.ny},e.YP=function(){return this.oF.gy},e.ZP=function(){return this.oF.py},e.Yl=function(){var t=this;this.GI=void 0,xr(this.vF),this.sF.Yl(),this.pF(this.sF),this.hF.Xs(),$r(this.hF.ZL(function(){var n=D.coroutine(He.mark(function n(i){return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Ur(i),n.next=3,t.oF.Yl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},e.ce=function(){var t=this;this.nc(new WT),this.cF.ce(),this.JI(),this.Yl(),$r(this.ZL(D.coroutine(He.mark(function n(){return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.oF.ce();case 2:t.fF&&(t.fF.nf(t),t.fF=void 0),t.hF.ce();case 4:case"end":return n.stop()}},n)})))),this.uc()},e.pF=function(t){if(this.$I!==t){var n=this.$I.fg,i=this.$I.rg,e=this.$I.hg,r=this.$I.ag;this.JI(),t===this.oF?((r||t.rg!==i)&&(t.rg=i),t.hg!==e&&(t.hg=e),n?t.ee():t.ie()):this.af.retainPlaybackRateOnSourceChange?t.hg=e:1!==e&&this.nc(new Yd(this.LP(),1)),this.$I=t,this.KI();for(var u=0,o=this.vF;u<o.length;u++){var s=o[u];this.nc(s)}xr(this.vF),this.YI?t.Wg():t.$g()}},e.KI=function(){this.$I.rc(this.tc)},e.JI=function(){this.$I.fc(this.tc)},e._l=function(){return t=this,e=function(n){i=n;var e=l_(n,t.af);t.Ug(e)},r={get abr(){return t.AL.bl},get audioTracks(){return t.Pg.bl},get autoplay(){return t.Ag},set autoplay(n){t.Ag=Boolean(n)},get buffered(){return t.AP()},get canvas(){return t.wL.bl},get clip(){return t.NL.bl},get currentProgramDateTime(){var n;return null!=(n=t.iy)?n:null},set currentProgramDateTime(n){t.iy=null!=n?n:void 0},get currentTime(){return t.LP()},set currentTime(n){t.FP(Number(n))},get duration(){return t.BP()},get element(){return t.ey},get ended(){return t.og},get error(){return t.qP()},get errorObject(){return t.VP()},get loop(){return t.Rx.Rx},set loop(n){t.Rx.Rx=Boolean(n)},get metrics(){return t._g.bl},get muted(){return t.cg},set muted(n){t.zP(n)},get network(){return t.LL.bl},get paused(){return t.fg},get playbackRate(){return t.hg},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.hg=i},get played(){return t.YP()},get poster(){return t.bF},set poster(n){t.bF=Jv(n)},get preload(){return t.yy},set preload(n){t.yy=n},get presentation(){return t.gL.bl},get readyState(){return t.kw},get seekable(){return t.ZP()},get seeking(){return t.ag},get source(){return i},set source(t){e(t)},get src(){return r_(t.Mg())},set src(t){e({sources:t})},get textTracks(){return t.Lg.bl},get textTrackStyle(){return t.FL.bl},get uid(){return t.cw},get videoHeight(){return t.vg},get videoTracks(){return t.xg.bl},get videoWidth(){return t.dg},get volume(){return t.lg},set volume(n){t.sx(Number(n))},destroy:function(){t.ce(),t=null,i=void 0},play:function(){t.gF()},pause:function(){t.ee()},stop:function(){i=void 0,t.Bg()},prepareWithUserAction:function(){t.ae()},addEventListener:function(t,i){n.ic(t,i)},removeEventListener:function(t,i){n.oc(t,i)},setSource:function(t){e(t)}},(n=new Nb(r,!0)).hN(t),r;var t,n,i,e,r},j(i,[{key:"lL",get:function(){return this.oF.lL}},{key:"wL",get:function(){return this.oF.wL}},{key:"af",get:function(){return this.oF.af}},{key:"dL",get:function(){return this.oF.dL}},{key:"ll",get:function(){return this.oF.ll}},{key:"dI",get:function(){return this.oF.pL}},{key:"gL",get:function(){return this.oF.gL}},{key:"yL",get:function(){return this.oF.yL}},{key:"Nx",get:function(){return this.oF.Nx}},{key:"AL",get:function(){return this.oF.AL}},{key:"Ag",get:function(){return this.oF.Ag},set:function(t){this.oF.Ag=t,this.wF()}},{key:"OL",get:function(){return this.oF.OL}},{key:"Pg",get:function(){return this.oF.Pg}},{key:"PL",get:function(){return this.oF.PL}},{key:"xL",get:function(){return this.oF.yL}},{key:"bl",get:function(){return this.ml||(this.ml=this._l()),this.ml}},{key:"Fg",get:function(){return this.oF.Fg}},{key:"_g",get:function(){return this.oF._g}},{key:"LL",get:function(){return this.oF.LL}},{key:"Lg",get:function(){return this.oF.Lg}},{key:"FL",get:function(){return this.oF.FL}},{key:"xg",get:function(){return this.oF.xg}},{key:"NL",get:function(){return this.oF.NL}},{key:"Rx",get:function(){return this.oF.Rx}},{key:"iy",get:function(){return this.$I.iy},set:function(t){this.$I.iy=t}},{key:"Zg",get:function(){return this.oF.Zg}},{key:"ey",get:function(){return this.oF.ey}},{key:"og",get:function(){return this.oF.og}},{key:"cg",get:function(){return this.oF.cg},set:function(t){this.oF.cg=t}},{key:"fg",get:function(){return this.$I.fg}},{key:"bF",get:function(){return this.cF.Ov||""},set:function(t){this.cF.uF=t}},{key:"hg",get:function(){return this.oF.hg},set:function(t){this.$I.hg=t}},{key:"yy",get:function(){return this.oF.yy},set:function(t){this.oF.yy=tb(t)}},{key:"kw",get:function(){return this.$I.kw}},{key:"ag",get:function(){return this.$I.ag}},{key:"cw",get:function(){return this.oF.cw}},{key:"vg",get:function(){return this.oF.vg}},{key:"dg",get:function(){return this.oF.dg}},{key:"lg",get:function(){return this.oF.lg},set:function(t){this.oF.lg=t}}]),i}(gd)}function JT(t,n){var i=sl(n),e=new(HT||(HT=NT(HT=KT(RT),_T.BL),HT=NT(HT,_T.ML)),HT)(t,i),r=e.bl;return e.CL(),e.mF(UT),d.defineProperty(r,"constructor",{value:JT}),r=Vv(r),function(t){for(var n=0;n<CT.length;n++)(0,CT[n])(t)}(e),r}Wr(function(){t.dispatchEvent&&t.dispatchEvent(PT("theoplayerready"))});var QT={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return gu(t)},n.decode=function(t){return lu(t)},t}())},ZT=UT.bl,tS=By.aE.registerContentProtectionIntegration.bind(By.aE),nS=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},iS=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),eS=_(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,u){if(i.length>0){var o=i.indexOf(this);~o?i.splice(o+1):i.push(this),~o?e.splice(o,1/0,r):e.push(r),~i.indexOf(u)&&(u=n.call(this,r,u))}else i.push(u);return null==t?u:t.call(this,r,u)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function rS(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function uS(t){return JSON.stringify(t,eS.getSerialize(rS))}var oS=_(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=u&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),sS=_(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,u=32;function o(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===e||t===r||t===i},n.isNameStartChar=o,n.isNameChar=function(t){return o(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),cS=_(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),fS=_(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=oS.isS,e=oS.isChar,r=oS.isNameStartChar,u=oS.isNameChar,o=oS.S_LIST,s=oS.NAME_RE,c=sS.isChar,f=cS.isNCNameStartChar,h=cS.isNCNameChar,v=cS.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:l,xmlns:g},p={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,b=-2,_=0,k=1,T=2,S=3,E=4,R=5,I=6,D=7,N=8,C=9,A=10,O=11,P=12,x=13,L=14,F=15,B=16,M=17,U=18,q=19,V=20,H=21,j=22,z=23,W=24,$=25,X=26,G=27,Y=28,K=29,J=30,Q=31,Z=32,tt=33,nt=34,it=35,et=36,rt=37,ut=38,ot=39,st=40,ct=41,ft=42,ht=43,at=44,vt=9,dt=10,lt=13,wt=32,gt=33,yt=38,pt=45,mt=47,bt=59,_t=60,kt=61,Tt=62,St=63,Et=91,Rt=93,It=133,Dt=8232,Nt=t=>34===t||39===t,Ct=[34,39],At=[...Ct,Et,Tt],Ot=[...Ct,_t,Rt],Pt=[kt,St,...o],xt=[...o,Tt,yt,_t];function Lt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Ft=t=>v.test(t),Bt=t=>s.test(t),Mt=0,Ut=1,qt=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=f,this.nameCheck=h,this.isName=Ft,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},y);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Lt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=u,this.isName=Bt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.jf}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Mt,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?x:_,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new a("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.jf=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(p),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new a(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=wt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,b;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Dt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,b;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===b?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===b,u=r?dt:e;if(u===m||t.includes(u))return this.text+=i.slice(n,this.prevI),u;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case b:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case m:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!u(i))return this.name+=t.slice(n,this.prevI),i===b?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=c,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=k}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case _t:if(this.state=F,0!==this.text.length)throw new a("no-empty text at start");break;case m:break;default:this.unget(),this.state=x,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(At);switch(n){case Tt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=S,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=T)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===Rt?this.state=T:t===_t?this.state=I:Nt(t)&&(this.state=R,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=D,this.openWakaBang="";break;case St:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(pt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===pt?A:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(St)&&(this.text+="?",this.state=P)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Tt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case b:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case bt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===x&&void 0===this.textHandler||(this.text+=r);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ht,this.xmlDeclPossible=!1;break;case gt:this.state=B,this.openWakaBang="",this.xmlDeclPossible=!1;break;case St:this.state=z;break;default:this.fail("disallowed character in tag name"),this.state=x,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=M,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(pt)&&(this.state=U)}sCommentEnding(){var t;const n=this.getCodeNorm();n===pt?(this.state=q,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=M)}sCommentEnded(){const t=this.getCodeNorm();t!==Tt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=M):this.state=x}sCData(){this.captureToChar(Rt)&&(this.state=H)}sCDataEnding(){const t=this.getCodeNorm();t===Rt?this.state=j:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case Tt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x;break;case Rt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=W):t===St||i(t)?(this.fail("processing instruction without a target."),this.state=t===St?X:$):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=W)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===St;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:G):this.state=r?X:$:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===St?this.state=X:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(St)&&(this.state=X)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===Tt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=x}else n===St?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=$);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==St?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Pt);if(t===St)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===kt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===kt?J:K}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==kt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===St)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=wt),this.state=Q)}sXMLDeclValue(){const t=this.captureTo([this.q,St]);if(t===St)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=Z}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==St?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=G):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===Tt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=x):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const e=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case Tt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===Tt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==m&&(r(t)?(this.unget(),this.state=rt):t===Tt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===kt?this.state=ot:i(t)?this.state=ut:t===Tt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case kt:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Tt?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=st):i(t)||(this.fail("unquoted attribute value."),this.state=ft,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ct);case yt:return this.text+=n.slice(i,this.prevI),this.state=L,void(this.entityReturnState=st);case dt:case b:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case _t:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===Tt?this.openTag():t===mt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(xt);switch(t){case yt:this.state=L,this.entityReturnState=ft;break;case _t:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Tt?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===Tt?this.closeTag():i(t)?this.state=at:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Tt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case _t:if(this.state=F,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Mt;break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Mt;break t;case Rt:switch(n){case Mt:n=Ut;break;case Ut:n=qt;break;case qt:break;default:throw new a("impossible state")}break;case Tt:n===qt&&this.fail('the string "]]>" is disallowed in char data.'),n=Mt;break;case b:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Mt;break;case m:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Mt}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const u=this.getCode();switch(u){case _t:if(this.state=F,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case yt:this.state=L,this.entityReturnState=x,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case b:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==e&&(this.text+=n.slice(t));break t;default:i(u)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),u={name:t,prefix:e,local:r,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Lt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Lt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==_&&this.state!==x&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.jf=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let o,s;""===i?(o="xmlns"===n?g:"",s=n):(void 0===(o=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),o=i),s=`{${o}}${u}`),r.has(s)&&this.fail(`duplicate attribute: ${s}.`),r.add(s),t.uri=o,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=x,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=x,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=x,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),hS=function(){function t(){}return t.prototype.wu=function(t){var n=new fS.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new yS,e=[i];function r(t){e[e.length-1].Cu(t)}return n.on("text",function(t){e.length>1&&r(new wS(t))}),n.on("cdata",function(t){r(new gS(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,o=new dS({mu:n,_u:""===i?void 0:i,_F:""===u?void 0:u}),s=t.attributes,c=0,f=d.keys(s);c<f.length;c++){var h=s[f[c]],a=h.prefix,v=h.local,l=h.uri,w=h.value,g=new aS({mu:v,Tu:w,_u:""===l?void 0:l,_F:""===a?void 0:a});o.kF(g)}r(o),e.push(o)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new cn(t)}),n.write(t).close(),i},t}(),aS=function(){function t(t){this.TF=void 0,this.SF=void 0,this.EF=void 0,this.En=void 0,this.TF=t.mu,this.En=t.Tu,this.SF=t._u,this.EF=t._F}var n=t.prototype;return n.yu=function(t){return this===t||!!mS(this,t)&&(this.TF===t.TF&&this.SF===t.SF&&this.EF===t.EF&&this.En===t.En)},n.pu=function(){return new t({mu:this.mu,Tu:this.Tu,_u:this._u,_F:this.ku})},j(t,[{key:"fu",get:function(){return en.au}},{key:"mu",get:function(){return this.TF}},{key:"bu",get:function(){return void 0===this.EF?this.TF:this.EF+":"+this.TF}},{key:"_u",get:function(){return this.SF}},{key:"ku",get:function(){return this.EF}},{key:"Tu",get:function(){return this.En}}]),t}(),vS=function(){function t(){this.Eu=[]}var n=t.prototype;return n.Ru=function(t){return this.Eu.filter(function(n){return pS(n)&&n.Du===t})},n.Nu=function(t,n){return this.Eu.filter(function(i){return pS(i)&&i.mu===n&&i._u===t})},n.Cu=function(t){this.Eu.push(t)},j(t,[{key:"Iu",get:function(){return this.Eu}},{key:"Ou",get:function(){return this.Eu.filter(pS)}}]),t}(),dS=function(t){function n(n){var i;return(i=t.call(this)||this).TF=void 0,i.SF=void 0,i.EF=void 0,i.RF=[],i.TF=n.mu,i.SF=n._u,i.EF=n._F,i}W(n,t);var i=n.prototype;return i.IF=function(t){for(var n=0,i=this.Iu;n<i.length;n++){var e=i[n];pS(e)?e.IF(t):t.push(e.Vu)}},i.xu=function(t,n){for(var i=0,e=this.RF;i<e.length;i++){var r=e[i];if(r.mu===n&&r._u===t)return r.Tu}},i.Pu=function(t){for(var n=0,i=this.RF;n<i.length;n++){var e=i[n];if(e.bu===t)return e.Tu}},i.kF=function(t){this.RF.push(t)},i.Lu=function(t){for(var n=0;n<this.RF.length;n++)if(this.RF[n].bu===t)return void this.RF.splice(n,1)},i.Fu=function(t,n){for(var i=0;i<this.RF.length;i++)if(this.RF[i].mu===n&&this.RF[i]._u===t)return void this.RF.splice(i,1)},i.Bu=function(t,n){this.Lu(t),this.kF(new aS({mu:t,Tu:n}))},i.Mu=function(t,n,i){this.Lu(n);var e=n.split(":");this.kF(new aS({mu:e[e.length-1],Tu:i,_u:t,_F:e.length>1?e[0]:void 0}))},i.pu=function(t){var i=new n({mu:this.mu,_u:this._u,_F:this.ku});return this.Uu.forEach(function(t){return i.kF(t.pu())}),t&&this.Iu.forEach(function(n){return i.Cu(n.pu(t))}),i},i.yu=function(t){return this===t||!!mS(this,t)&&(this.TF===t.TF&&this.EF===t.EF&&this.SF===t.SF&&(bS(this.Uu,t.Uu)&&bS(this.Iu,t.Iu)))},j(n,[{key:"fu",get:function(){return en.hu}},{key:"Uu",get:function(){return this.RF}},{key:"mu",get:function(){return this.TF}},{key:"_u",get:function(){return this.SF}},{key:"ku",get:function(){return this.EF}},{key:"Du",get:function(){return void 0===this.EF?this.TF:this.EF+":"+this.TF}},{key:"qu",get:function(){var t=[];return this.IF(t),t.join("")}}]),n}(vS),lS=function(){function t(t){this.Xi=void 0,this.Xi=t}return j(t,[{key:"Vu",get:function(){return this.Xi}}]),t}(),wS=function(t){function n(n){return t.call(this,n)||this}W(n,t);var i=n.prototype;return i.pu=function(){return new n(this.Vu)},i.yu=function(t){return this===t||!!mS(this,t)&&this.Vu===t.Vu},j(n,[{key:"fu",get:function(){return en.vu}}]),n}(lS),gS=function(t){function n(n){return t.call(this,n)||this}W(n,t);var i=n.prototype;return i.pu=function(){return new n(this.Vu)},i.yu=function(t){return this===t||!!mS(this,t)&&this.Vu===t.Vu},j(n,[{key:"fu",get:function(){return en.du}}]),n}(lS),yS=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i.pu=function(t){var i=new n;return t&&this.Iu.forEach(function(n){return i.Cu(n.pu(t))}),i},i.yu=function(t){return this===t||!!mS(this,t)&&bS(this.Iu,t.Iu)},j(n,[{key:"fu",get:function(){return en.lu}},{key:"Hu",get:function(){return this.Ou[0]}}]),n}(vS);function pS(t){return rn(t)}function mS(t,n){return t.fu===n.fu}function bS(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].yu(n[i]))return!1;return!0}var _S,kS=["adBreak"],TS=["adBreak"];function SS(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:je({},t,{adBreak:je({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Ay(t,kS)})})})}function ES(t){return void 0===t.ads?t:je({},t,{ads:t.ads.map(function(t){t.adBreak;return Ay(t,TS)})})}function RS(t){return"string"==typeof t.date?new Date(t.date):t.date}function IS(t){var n;return t.cue.track?(n=NS(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=NS(t.cue,""),n}function DS(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&d.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=d.entries(i);return d.fromEntries(e.map(function(i){var e=i[0],r=i[1],u=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==u&&n.pop(r),[e,u]}))}return i}(t)}function NS(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new hS).wu(e.firstChild.outerHTML).Hu.Uu.forEach(function(t){r[t.mu]=t.Tu}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var u={};for(var o in t.customAttributes){var s=t.customAttributes[o];if("object"==typeof(f=s)&&null!==f){var c=CS(s);u[o]={type:_S.DF,value:c}}else OS(s)?u[o]={type:_S.NF,value:s}:u[o]={type:_S.CF,value:String(s)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=CS(t.scte35Cmd),i.scte35Out=CS(t.scte35Out),i.scte35In=CS(t.scte35In),i.customAttributes=u}var f}(),i}function CS(t){if(void 0!==t)return gu(t)}function AS(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(NS(r,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var o=0;o<t.activeCues.length;o++){var s=t.activeCues[o];u.push(NS(s,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function OS(t){return"number"==typeof t}!function(t){t.CF="daterange-ca-type_string",t.NF="daterange-ca-type_number",t.DF="daterange-ca-type_arraybuffer"}(_S||(_S={}));var PS={cue:function(t){var n={};switch(n.date=RS(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=IS(t)}return n},textTrack:function(t){var n={};switch(n.date=RS(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=BS().register(t.cue));var i=FS()[MS()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=IS(t);break;case"cuechange":for(var e=[],r=0;r<t.track.activeCues.length;r++){var u=t.track.activeCues[r];e.push(NS(u,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=RS(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=BS().register(t)}),n.track=AS(t.track);case"removetrack":case"change":n.track=AS(t.track)}return n},default:function(t){var n={};switch(n.date=RS(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case us.jh:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=je({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=AS(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=ES(t.ad);break;case"adloaded":case"adimpression":n.ad=SS(t.ad);break;case"aderror":t.AF&&(n.AF=t.AF),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=SS(t.ad)}return DS(n)},minimizeCueHelper:function(t){var n={};return n.date=RS(t),n.type=t.type,n.cue=IS(t),n.track={uid:t.cue.track.uid},n},adReplacer:SS,adBreakReplacer:ES,removeCircularReferences:DS},xS=function(){this.stringify=uS,this.minimize=PS};function LS(){return E.self}function FS(){return LS().THEOplayerBridge}function BS(){return LS().THEOCueMirrorMap}function MS(){return LS().THEOplayerGlobalID}function US(){var t=LS();if(t.THEOplayerBridge){var n=new nS;t.THEOplayerBridge=jv(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new nS;t.THEOplayerUtils||(t.THEOplayerUtils=new xS),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new iS)}US();var qS=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.wu=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new cn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new cn;return new VS(n)},n}(fn),VS=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.pu=function(t){return new n(this.Su.cloneNode(t))},j(n,[{key:"Iu",get:function(){return void 0===this.Eu&&(this.Eu=zS(this.Su.childNodes)),this.Eu}},{key:"Hu",get:function(){return new HS(this.Su.documentElement)}}]),n}(gn),HS=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.pu=function(t){var i=new n(this.Su.cloneNode(t));return i.Uu.length<1&&this.Uu.length>0&&this.Uu.forEach(function(t){i.Bu(t.bu,t.Tu)}),i},j(n,[{key:"Iu",get:function(){return void 0===this.Eu&&(this.Eu=zS(this.Su.childNodes)),this.Eu}}]),n}(vn);function jS(t){switch(t.nodeType){case en.hu:return new HS(t)}return pn(t)}function zS(t){for(var n=[],i=0;i<t.length;i++){var e=jS(t.item(i));e&&n.push(e)}return n}O(new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).OF=new qS,n}return W(n,t),n.prototype.wu=function(t){return this.OF.wu(t)},n}(Dv)));var WS=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return W(n,t),n}(tu),$S=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.nc(new WS(t,n))},i.addEventListener=function(t,n){this.ic(t,n)},i.removeEventListener=function(t,n){this.oc(t,n)},n}(gd);function XS(t,n){return t.qy<=n&&t.Vy>n}function GS(t,n){return function(t,n){return Dr(t.qy,n.qy,Jl)}(t,n)||function(t,n){return Dr(t.Vy,n.Vy,Jl)}(t,n)}function YS(t,n){var i=function(t,n,i,e,r,u,o){void 0===r&&(r=!1),void 0===u&&(u=0),void 0===o&&(o=t.length);for(var s=u,c=o-1;s<=c;){var f=s+(c-s>>1),h=e(i(t[f]),n);if(h<0)s=f+1;else if(h>0)c=f-1;else{if(!(r&&f>u&&0===e(i(t[f-1]),n)))return f;c=f-1}}return~s}(t,n,L,GS,!0);if(i<0)return i;for(;i<t.length&&GS(n,t[i])===kr.Ps;i++)if(t[i].Jy(n))return i;return-(i+1)}function KS(t){var n=t.kl;if(!n)return-1;if(t instanceof Ql)return n.PF(t);var i=n.Tw;if(!i)return-1;var e=YS(i.Kl,t);return e>=0?e:-1}var JS=function(t){function n(n,i){var e;return(e=t.call(this,jl.Ly,n)||this).fm=i,e}return W(n,t),n.prototype._l=function(){return new QS(this.Uy.bl)},n}(Xl),QS=function(t){function n(n){return t.call(this,zl.Ly,n)||this}return W(n,t),n}(Gl),ZS=function(t){function n(n,i){var e;return(e=t.call(this,jl.By,n)||this).fm=i,e}return W(n,t),n.prototype._l=function(){return new tE(this.Uy.bl)},n}(Xl),tE=function(t){function n(n){return t.call(this,zl.By,n)||this}return W(n,t),n}(Gl),nE=function(t){function n(n){var i;return(i=t.call(this,Cv.Il)||this).Uy=n,i}return W(n,t),n.prototype._l=function(){return new iE(this.Uy.bl)},n}(Av),iE=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return W(n,t),n}(Ov),eE=function(t){function n(n){var i;return(i=t.call(this,Cv.Nl)||this).Uy=n,i}return W(n,t),n.prototype._l=function(){return new rE(this.Uy.bl)},n}(Av),rE=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return W(n,t),n}(Ov),uE=function(t){function n(n){var i;return(i=t.call(this,Cv.Al)||this).kl=n,i}return W(n,t),n.prototype._l=function(){return new oE(this.kl.bl)},n}(Av),oE=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return W(n,t),n}(Ov);function sE(t,n){return Ir(t.fm,n.fm)||function(t,n){return t.kl===n.kl?Rr(KS(t),KS(n)):Bg(t.kl,n.kl)}(t.Uy,n.Uy)||function(t,n){return t===n?kr.Ps:t===jl.Ly?kr.Ls:kr.xs}(t.type,n.type)}var cE=function(){function t(t,n){var i=this;this.$I=void 0,this.xF=void 0,this.Ng=[],this.LF=0,this.FF=0,this.BF=[],this.MF=!1,this.UF=!1,this.qF=void 0,this.VF=function(){i.LF=0,i.HF(),i.jF()},this.zF=function(){i.HF(),i.jF()},this.WF=function(){i.UF=!0,i.qF=i.$I.rg,i.XF()},this.GF=function(){i.HF(),i.jF()},this.YF=function(){i.KF(),i.HF(),i.jF()},this.JF=function(){i.QF()},this.ZF=function(t){Ar(i.BF,t.Uy),i.QF()},this.xF=n,this.$I=t,t.ic(us.Hh,this.zF),t.ic(us.Nh,this.zF),t.ic(qd.eg,this.zF),t.ic(us.Dh,this.zF),t.ic(us.Lh,this.WF),t.ic(us.xh,this.GF),this.QF()}var n=t.prototype;return n.Yl=function(){xr(this.BF);for(var t=0,n=this.Ng.slice();t<n.length;t++){var i=n[t];this.Xl(i)}this.XF(),this.LF=0,this.FF=0,this.MF=!1,this.UF=!1,this.qF=void 0},n.$l=function(t){Pr(this.Ng,t)||(this.Ng.push(t),t.ic(Cv.Tl,this.JF),t.ic(Cv.El,this.ZF),t.ic(Cv.Pl,this.YF),t.Tw.Jl&&this.QF(),this.KF())},n.Xl=function(t){if(Ar(this.Ng,t)){if(t.oc(Cv.Tl,this.JF),t.oc(Cv.El,this.ZF),t.oc(Cv.Pl,this.YF),t.Tw.Jl){for(var n=0,i=t.Tw.Kl;n<i.length;n++){var e=i[n];Ar(this.BF,e)}this.QF()}this.KF()}},n.KF=function(){this.MF=this.Ng.some(function(t){return t.gw!==od.mw})},n.jF=function(){this.$I.ag||this.$I.fg?this.XF():this.QF()},n.QF=function(){this.MF&&(this.LF||(this.LF=this.xF.pe(this.VF)))},n.XF=function(){this.LF&&(this.xF.tB(this.LF),this.LF=0)},n.HF=function(){var t;if(this.MF&&!this.$I.ag){var n=this.Ng,i=this.FF,e=null!=(t=this.qF)?t:this.$I.rg,r=e-i<-.1,u=this.UF||r;u&&e>i&&e-i<.1&&(u=!1),this.UF=!1,this.qF=void 0;for(var o,s=[],c=0;c<n.length;c++){var f=n[c];if(f.gw!==od.mw){f.nB(e,u);for(var h=0,a=f.Sw.Kl;h<a.length;h++){var v=a[h];s.push(v)}}}if(u)o=this.BF;else{o=[];for(var d=0;d<n.length;d++){var w=n[d];w.gw!==od.mw&&Fg(w,i-1/6,e,o)}}for(var g=o.length-1;g>=0;g--)Pr(s,o[g])&&Or(o,g);var y=[];if(!u)for(var p=o.length-1;p>=0;p--){var m=o[p];m.qy>=i&&m.Vy<=e&&(y.push(m),Or(o,p))}for(var b=[],_=[],k=0;k<y.length;k++){var T=y[k];T.Qy||b.push(new JS(T,T.qy)),b.push(new ZS(T,l.max(T.qy,T.Vy)))}for(var S=0,E=o;S<E.length;S++){var R=E[S];R.Qy&&(b.push(new ZS(R,l.max(R.qy,R.Vy))),R.Qy=!1)}for(var I=0;I<s.length;I++){var D=s[I];D.Qy||(b.push(new JS(D,D.qy)),D.Qy=!0)}b.sort(sE);for(var N=0;N<b.length;N++){var C=b[N],A=C.Uy;A.nc(C);var O=A.kl;O&&(C.type===jl.Ly?O.nc(new nE(A)):O.nc(new eE(A)),Pr(_,O)||_.push(O))}_.sort(Bg);for(var P=0;P<_.length;P++){var x=_[P];x.nc(new uE(x))}this.FF=e,this.BF=s}},n.ce=function(){this.Yl(),this.$I.oc(us.Hh,this.zF),this.$I.oc(us.Nh,this.zF),this.$I.oc(qd.eg,this.zF),this.$I.oc(us.Dh,this.zF),this.$I.oc(us.Lh,this.WF),this.$I.oc(us.xh,this.GF)},t}(),fE=function(){function t(){}var n=t.prototype;return n.pe=function(t){return dk(t)},n.tB=function(t){lk(t)},t}(),hE=new fE,aE=function(t){function n(n,i){return void 0===i&&(i=hE),t.call(this,n,i)||this}return W(n,t),n}(cE),vE=function(t){function n(){return t.call(this,us.Th)||this}return W(n,t),n}(tu),dE=function(t){function n(n){var i;return(i=t.call(this,us.Ch)||this).currentTime=n,i}return W(n,t),n}(tu),lE=function(t){function n(n,i){var e;return(e=t.call(this)||this).iB=void 0,e.eB=void 0,e.rB=function(t){e.iB.uB("THEOplayerABRSetTargetBuffer",t.aP),e.nc(t)},e.oB=function(t){e.iB.uB("THEOplayerABRSetStrategy",t.dP),e.nc(t)},e.iB=n,e.eB=i,e.eB.ic("vP",e.rB),e.eB.ic("lP",e.oB),e}return W(n,t),j(n,[{key:"TP",get:function(){var t;switch(this.dP.type){case Uk.PERFORMANCE:return 1;case Uk.QUALITY:return 0;case Uk.BANDWIDTH:return null!=(t=this.dP.metadata)&&t.bitrate&&!y(this.dP.metadata.bitrate)?this.dP.metadata.bitrate:0;default:return 0}}},{key:"bl",get:function(){return this.eB.bl}},{key:"dP",get:function(){return this.eB.dP},set:function(t){this.eB.dP=t}},{key:"aP",get:function(){return this.eB.aP},set:function(t){this.eB.aP=t}},{key:"wP",get:function(){return this.eB.wP},set:function(t){this.eB.wP=t}}]),n}(Qr),wE=function(){function t(t){this.sB=void 0,this.ml=void 0,this.sB=t}var n=t.prototype;return n._l=function(){return function(t){for(var n=[],i=0;i<t.Jl;i++)n[i]=t.Sc(i).bl;return n.item=function(n){var i=0|n,e=t.Sc(i);return e&&e.bl||void 0},d.defineProperty(n,"constructor",{value:Kl}),n}(this)},n.ky=function(t){for(var n=this.sB,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.Jy(e))return!0}return!1},n.Sc=function(t){return this.sB[t]},j(t,[{key:"Kl",get:function(){return this.sB}},{key:"Jl",get:function(){return this.sB.length}},{key:"bl",get:function(){if(this.ml){var t=this.sB;this.ml.length=t.length;for(var n=0;n<t.length;n++)this.ml[n]=t[n].bl}else this.ml=this._l();return this.ml}}]),t}(),gE=function(t){function n(n,i){var e;return(e=t.call(this,Cv.Ll)||this).kl=n,e.kw=i,e}return W(n,t),n.prototype._l=function(){return new yE(this.kl.bl,dd(this.kw))},n}(Av),yE=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return W(n,t),n}(Ov),pE=function(t){function n(n){var i;return(i=t.call(this,Cv.Bl)||this).kl=n,i}return W(n,t),n.prototype._l=function(){return new mE(this.kl.bl)},n}(Av),mE=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return W(n,t),n}(Ov),bE=function(t){function n(n){var i;return(i=t.call(this,Cv.Tl)||this).Uy=n,i}return W(n,t),n.prototype._l=function(){return new _E(this.Uy.bl)},n}(Av),_E=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return W(n,t),n}(Ov),kE=function(t){function n(n){var i;return(i=t.call(this,Cv.El)||this).Uy=n,i}return W(n,t),n.prototype._l=function(){return new TE(this.Uy.bl)},n}(Av),TE=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return W(n,t),n}(Ov),SE=function(t){function n(n,i,e,r,u,o,s,c){var f;return(f=t.call(this)||this).ml=void 0,f.Sy=void 0,f.Ry=xl(),f.cB=!1,f.fB=void 0,f.hB=void 0,f.Ey=void 0,f.aB=void 0,f.vN=od.mw,f.vB=ql.NONE,f.dB=void 0,f.ju=void 0,f.lB=void 0,f.sB=[],f.wB=[],f.gB=void 0,f.yB=void 0,f.pB=0,f.mB=0,f.Sy=i||"",f.fB=c||"",f.hB=n,f.aB=r||"",f.cB=Boolean(u),f.lB=Boolean(s),f.ju=o||Vl.DEFAULT,f.Ey=e||"",f.gB=new wE(f.sB),f.yB=new wE(f.wB),f}W(n,t);var i=n.prototype;return i.bB=function(t){return Cr(this.gB.Kl,function(n){return n.sw===t})},i._l=function(){return hd(this)},i.IN=function(t){var n=function(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case od.mw:case od.pw:case od.yw:return n}}else if("number"==typeof t)switch(t){case 0:return od.mw;case 1:return od.pw;case 2:return od.yw}return od.mw}(t);n!==this.gw&&(this.vN=n,n===od.mw&&(this.wB.forEach(function(t){t.Qy=!1}),xr(this.wB),this.mB=0),this.nc(new Mv(this)))},i.eS=function(t){if(t&&!t.kl){var n=YS(this.Tw.Kl,t);if(!(n>=0)){t.kl=this;var i=-(n+1);this.sB.splice(i,0,t),this._B(i),t.Ky=i,i<this.mB&&(this.mB=i),this.nc(new bE(t))}}},i.kB=function(t){if(t&&t.kl===this){var n=this.PF(t);if(!(n<0)){t.Qy=!1;var i=this.wB,e=YS(i,t);e>=0&&Or(i,e),Or(this.sB,n),this._B(n),t.Ky=-1,this.mB>n&&--this.mB,this.nc(new kE(t))}}},i.nB=function(t,n){var i=this.wB,e=this.sB,r=this.mB,u=!1;n&&(r=0);for(var o=i.length-1;o>=0;o--){XS(i[o],t)||(u=!0,Or(i,o))}for(;r<e.length&&e[r].qy<=t;){var s=e[r];if(0===t)break;XS(s,t)&&!Pr(i,s)&&(u=!0,i.push(s)),r++}u&&Sr(i,GS),this.mB=r},i.PF=function(t){return(-1===t.Ky||t.Ky>=this.pB)&&this.TB(),t.Ky},i.TB=function(){for(var t=this.sB,n=this.pB;n<t.length;n++)t[n].Ky=n;this.pB=t.length},i._B=function(t){t<this.pB&&(this.pB=t)},i.bw=function(t){this._w||(this.gw=t)},i.ce=function(){this.uc();for(var t=this.sB.slice(),n=0;n<t.length;n++){t[n].ce()}xr(this.sB),xr(this.wB)},j(n,[{key:"Sw",get:function(){return this.yB}},{key:"Tw",get:function(){return this.gB}},{key:"uS",get:function(){return this.cB},set:function(t){this.cB=t}},{key:"_w",get:function(){return this.lB}},{key:"bl",get:function(){return this.ml||(this.ml=this._l()),this.ml}},{key:"sw",get:function(){return this.Sy}},{key:"cw",get:function(){return this.Ry}},{key:"ww",get:function(){return this.fB},set:function(t){this.fB=t}},{key:"fw",get:function(){return this.hB}},{key:"hw",get:function(){return this.Ey},set:function(t){t!==this.Ey&&(this.Ey=t,this.nc(new Al(this)))}},{key:"aw",get:function(){return this.aB}},{key:"gw",get:function(){return this.vN},set:function(t){this.IN(t)}},{key:"kw",get:function(){return this.vB},set:function(t){this.vB!==t&&(this.vB=t,this.nc(new gE(this,this.vB)))}},{key:"Ew",get:function(){return this.dB},set:function(t){this.dB=t}},{key:"ks",get:function(){return this.ju},set:function(t){this.ju!==t&&(this.ju=t,this.nc(new pE(this)))}}]),n}(Qr);function EE(t,n,i){for(var e=t[n].qy,r=n;r>=0&&t[r].qy===e;r--)t[r].Vy=i}var RE,IE=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).SB=void 0,r}return W(n,t),n.prototype.Jy=function(n){return this===n||$v(this,n)&&t.prototype.Jy.call(this,n)&&(i=n,this.Hy===i.Hy);var i},j(n,[{key:"bl",get:function(){return this.ml||(this.ml=Yl(this)),this.ml}}]),n}(Ql),DE=function(t){function n(n,i,e){return void 0===e&&(e=Vl.DEFAULT),t.call(this,Dg.Mb,"",i||"","",!1,e,!1,n)||this}return W(n,t),n}(SE),NE=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).ks=Vl.ID3,e.SB=void 0,e}W(n,t);var i=n.prototype;return i.eS=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].qy<t.qy)EE(n,i,t.qy);else{var e=n[0];if(e.qy>t.qy)t.Vy=e.qy;else{var r=YS(n,t);if(!(r>=0)){var u=-(r+1),o=u-1;if(o>=0&&n[o].qy<t.qy&&EE(n,o,t.qy),u<n.length){var s=n[u];t.Vy=s.qy}}}}}}(n,this.sB),t.prototype.eS.call(this,n)},i._l=function(){return hd(this)},n}(DE),CE=(us.Nh,us.Dh,qd.eg,us.Hh,us.Ch,us.Th,us.Lh,us.xh,us.bh,us.Ah,us.jh,us.ph,qd.Ll,us.Ph,sd.lw,Jr.yc,Jr.mc,us.wh,us.lh,us.zh,{EB:!1,RB:50}),AE=function(){function t(t,n,i){this.Lf=void 0,this.Ds=void 0,this.Xf=void 0,this.ff=void 0,this.Lf=t,this.Ds=i,this.Xf=n}var n=t.prototype;return n.rS=function(t){throw new a("Not implemented yet.")},n.IB=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ds.As(n.Ts,i);case 2:return e=t.sent,t.next=5,e.pf();case 5:return r=t.sent,t.next=8,this.DB(r);case 8:return t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.NB=function(t){return!1},n.CB=function(t){return D.resolve(void 0)},n.Vs=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DB(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.DB=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.AB(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.AB=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.ff)){t.next=5;break}return t.next=4,i.wf(this.Xf);case 4:this.ff=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.lf(this.Xf);case 8:this.ff=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nS=function(t,n,i){throw new a("Not implemented yet.")},j(t,[{key:"af",get:function(){return this.Lf}},{key:"yy",get:function(){throw new a("Not implemented yet.")},set:function(t){throw new a("Not implemented yet.")}},{key:"py",get:function(){return new ob([0,1/0])}},{key:"Lg",get:function(){throw new a("Not implemented yet.")}},{key:"OB",get:function(){throw new a("Not implemented yet")}},{key:"xg",get:function(){throw new a("Not implemented yet.")}},{key:"PB",get:function(){throw new a("Not implemented yet")}},{key:"xB",get:function(){throw new a("Not implemented yet")}}]),t}();!function(t){t.LB="webkitneedkey",t.FB="webkitkeymessage",t.BB="webkitkeyerror"}(RE||(RE={}));var OE,PE,xE=function(t){function n(n,i){var e;return(e=t.call(this,RE.LB)||this).initData=n,e.sessionId=i,e}return W(n,t),n}(tu),LE=function(t){function n(n,i){var e;return(e=t.call(this,RE.FB)||this).message=n,e.destinationURL=i,e}return W(n,t),n}(tu),FE=function(t){function n(){return t.call(this,RE.BB)||this}return W(n,t),n}(tu),BE=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this)||this).kf=new fo,o.Ff=void 0,o.Ef=new cu,o.Mf=new fo,o.MB=function(t){o.Ff?(o.Ff.Uc(void 0),o.Ff=void 0):o.Cf("internal-error"),o.nc(new uu)},o.UB=function(t){o.Ff&&(o.Ff.Mc(void 0),o.Ff=void 0),o.nc(new ru(un(o),"license-request",so(t.message).buffer,t.destinationURL||void 0))},o.Of=n,o.Yc=i,o.qB=e,o.Wf=r,o.qf=u,o}W(n,t);var i=n.prototype;return i.Zc=function(){var t=D.coroutine(He.mark(function t(n,i,e){var r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e&&e.fairplay&&e.fairplay.Vf){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+r+".");case 3:return t.next=5,this.VB(uo(i),r);case 5:this.Cf("usable"),this.Mf.Mc(),this.Mf=new fo;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,e){return t.apply(this,arguments)}}(),i.tf=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.if=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=uo(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.Ff=new fo,this.qB.if(this.Wf,i),t.next=7,this.Ff.Bc;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qc=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Mf;case 2:return this.qB.oc(RE.FB,this.UB),this.qB.oc(RE.BB,this.MB),this.Mf.Xs(),this.kf.Mc(void 0),t.abrupt("return",this.kf.Bc);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nf=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.VB=function(){var t=D.coroutine(He.mark(function t(n,i){var e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=Mo(n,i,this.qf),this.qB.ic(RE.FB,this.UB),this.qB.ic(RE.BB,this.MB),this.qB.HB(this.Wf,e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Cf=function(t){this.Ef.Ic(),this.Ef.Rc(su,t),this.nc(new eu(this))},j(n,[{key:"cf",get:function(){return this.Wf}},{key:"uf",get:function(){return NaN}},{key:"rf",get:function(){return this.kf.Bc}},{key:"sf",get:function(){return this.Ef}}]),n}(Qr),ME=function(){function t(t,n,i){this.jB=void 0,this.Wf=void 0,this.qf=void 0,this.qB=void 0,this.Yc=void 0,this.Lf=void 0,this.Of=void 0,this.qB=t,this.Yc=n,this.Lf=i;var e=To(i)||"video/mp4";this.Of=bo(e)}var i=t.prototype;return i.vf=function(){var t=D.coroutine(He.mark(function t(i){var e;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.qf){t.next=2;break}throw new Uo(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return e=new BE(this.Of,this.Yc,this.qB,this.Wf,this.qf),this.jB=e,t.abrupt("return",e);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.df=function(t){return this.qf=uo(t),D.resolve(!0)},i.lf=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wf=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new a("Whoops.")},j(t,[{key:"hf",get:function(){return this.Yc}},{key:"af",get:function(){return this.Lf}},{key:"sessionId",set:function(t){this.Wf=t}}]),t}(),UE=function(){function t(t,n,i){this.zB=t,this.Yc=n,this.Lf=i}var n=t.prototype;return n.mf=function(){return this.Lf},n.pf=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ME(this.zB,this.Yc,this.Lf));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(t,[{key:"hf",get:function(){return this.Yc}}]),t}(),qE=function(){function t(t){this.zB=void 0,this.zB=t}return t.prototype.As=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<i.length)){t.next=9;break}if(r=i[e],!(u=_o(VE,iu,n,r))){t.next=6;break}return t.abrupt("return",new UE(this.zB,n,u));case 6:e++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function VE(t,n){return t===sr}!function(t){t.wC="WB"}(OE||(OE={})),function(t){t.$B="XB"}(PE||(PE={}));var HE,jE;PE.$B;!function(t){t[t.GB=0]="GB",t[t.Yh=1]="Yh",t[t.YB=2]="YB"}(HE||(HE={})),function(t){t.KB="JB"}(jE||(jE={}));var zE=function(t,n){return(zE=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)d.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function WE(t,n){if("function"!=typeof n&&null!==n)throw new v("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}zE(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}function $E(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.QB=t,this.ZB=n}t.prototype.get=function(t){var n=this.QB.get(t);if(0===this.ZB||void 0===n)return n;var i=this.QB.get(t+1)||0,e=n&(1<<8-this.ZB)-1,r=i>>8-this.ZB;return(e<<this.ZB)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.QB.get(l.floor((t+this.ZB)/8));if(void 0!==n)return(n&1<<7-this.ZB-t%8)>0?1:0}},d.defineProperty(t.prototype,"bitLength",{get:function(){return this.QB.bitLength-this.ZB},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"length",{get:function(){return this.QB.length},enumerable:!1,configurable:!0})}();function XE(t,n,i){return l.min(l.max(t,n),i)}function GE(t,n){return t>>8-n}function YE(t,n){return t&(1<<n)-1}!function(){function t(t){this.tM=t,this.nM=0,this.iM=0}d.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.nM+this.iM},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"done",{get:function(){return this.nM===this.tM.length&&0===this.iM},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"location",{get:function(){return{byte:this.nM,bit:this.iM}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.tM);return n.seek(this.nM,this.iM),n},t.prototype.canReadBits=function(t){return 8*this.nM+t+this.iM<=8*this.tM.length},t.prototype.canReadBytes=function(t){return 0===this.iM?this.nM+t<=this.tM.length:this.nM+t<this.tM.length},t.prototype.incBit=function(){this.iM++,this.iM>7&&(this.nM++,this.iM=0)},t.prototype.seek=function(t,n){this.nM=t,this.iM=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new a("Cannot read past end of buffer.");return this.tM.get(this.nM)>>7-this.iM&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new a("Cannot read past end of buffer.");if(0===this.iM)return this.tM.get(this.nM++);var t=YE(this.tM.get(this.nM),8-this.iM),n=GE(this.tM.get(this.nM+1),this.iM);return this.nM++,t<<this.iM|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new a("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");var n=0;if(0===this.iM&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new a("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new a("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-l.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new a("Skipping over the buffer edge is not allowed.");var n=this.iM+t;this.nM+=n>>3,this.iM=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new a("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)}}();var KE=function(t,n){return t===n?0:t<n?-1:t>n?1:y(t)?y(n)?0:1:-1},JE=function(){function t(){this.eM=[],this.rM=[],this.kt=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,u=n;r<u.length;r++){var o=u[r];e.pushRange(o)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new a("The buffer length must be positive.");if(0!==i){if(0===this.rM.length)this.rM.push(0);else{var e=this.rM[this.rM.length-1]+this.eM[this.eM.length-1].length;this.rM.push(e)}this.eM.push(t.subarray(n,n+i)),this.kt+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,u=this.eM;r<u.length;r++){var o=u[r];t.set(o,e),i+=o.length,e+=o.length}return i},t.prototype.clear=function(){this.eM=[],this.rM=[],this.kt=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.rM[n];return this.eM[n][i]}},d.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.eM.length<1)return-1;if(this.eM.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.eM[0];return"number"==typeof t?$E(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,u=0;u<=r&&!((u=$E(t,i,u))<0||u>r);u++){for(var o=u+1,s=u+e,c=1;o<s&&t[o]===n[c];o++,c++);if(o===s)return u}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var u=l.ceil((e+r)/2);i(t[u],n)<=0?e=u:r=u-1}return e}}}(this.rM,t,KE)},t.prototype.join=function(){if(1===this.eM.length)return this.eM[0];var t=new p(this.length);return this.copyInternal(t,0),t},d.defineProperty(t.prototype,"length",{get:function(){return this.kt},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new a("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new a("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*l.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=XE(n,0,this.length),r=XE(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var u=new t,o=this.findContainingBufferIndex(e),s=this.eM[o],c=e,f=c-this.rM[o];c+s.length-f<r;)u.pushRange(s,f,s.length-f),o+=1,f=(c+=s.length-f)-this.rM[o],s=this.eM[o];var h=r-c;return u.pushRange(s,f,h),u},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.eM.length-1,e=this.eM[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.eM[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),QE=function(){function t(n){this.uM=n||t.BUFFER_CHUNK_SIZE,this.jf=!1,this.oM=new JE,this.tM=new p(this.uM),this.sM=0,this.cM=0,this.iM=7}return t.prototype.closeByte=function(){this.tM[this.sM++]=this.cM,this.sM>=this.uM&&this.closeBuffer(),this.cM=0,this.iM=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.sM&&(this.oM.pushRange(this.tM,0,this.sM),t&&(this.tM=new p(this.uM)),this.sM=0)},d.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.iM},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.jf)throw new a("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.jf=!0,this.oM},t.prototype.writeBit=function(t){if(this.jf)throw new a("Cannot write to a closed BitWriter.");this.cM|=t<<this.iM,0===this.iM?this.closeByte():this.iM--},t.prototype.writeByte=function(t){if(this.jf)throw new a("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.cM=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.iM;this.cM|=GE(t,n+1),this.closeByte(),this.cM=YE(t,8-n)<<n+1,this.iM=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.jf)throw new a("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.sM+t.length<=this.uM?(this.tM.set(t,this.sM),this.sM+=t.length,this.sM===this.uM&&this.closeBuffer()):(this.closeBuffer(),this.oM.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.iM;this.cM|=GE(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=YE(t[i-1],8-n),r=GE(t[i],n+1);this.cM=e<<n+1|r,this.closeByte()}this.cM=YE(t[t.length-1],8-n)<<n+1,this.iM=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new a("Received a negative number.");if(n>32)throw new a("The max bitlength that can be provided is 32.");if(t>=l.pow(2,n))throw new a("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new a("The max bitlength that can be provided is 32.");if(l.abs(t)>=l.pow(2,n-1))throw new a("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+l.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new a("Received a negative number.");for(var n=l.floor(l.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new p(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),ZE=function(){function t(t){this.rb=new JE,this.ya=t}return t.prototype.closeWriter=function(){void 0!==this.ya&&(this.rb=this.rb.concat(this.ya.close()),this.ya=void 0)},d.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.ya&&(this.ya=new QE),this.ya},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),tR=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new a("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(l.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new ZE;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=l.pow(2,32),t}();function nR(t,n){return t instanceof St?64===n:t<l.pow(2,n)}function iR(t,n){return l.round(t*l.pow(2,n))}function eR(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}var rR=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!nR(i,8))throw new a("the provided version cannot fit in 8 bits.");return r.flags=e,r}return WE(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.fM},set:function(t){this.fM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new a("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(tR),uR=(function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}WE(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(JE.from(this.data))}}(tR),function(t){function n(){return t.call(this,"mdir")||this}WE(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var u=t.call(this,"hdlr",e,r)||this;return u.name=i,u.handlerType=n,u}return WE(n,t),d.defineProperty(n.prototype,"handlerType",{get:function(){return this.hM},set:function(t){this.hM=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(rR)),function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},d.defineProperty(t.prototype,"tag",{get:function(){return this.aM},set:function(t){if(!nR(t,8))throw new a("Provided tag does not fit in 8 bits.");this.aM=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}()),oR=(function(t){function n(n,i,e,r,u,o,s){void 0===s&&(s={});var c=t.call(this,4,s.fixed28BitMode)||this;return c.upStream=e,c.decoderSpecificInfo=o,c.objectTypeIndication=n,c.streamType=i,c.bufferSizeDb=r,c.maxBitrate=u.max,c.avgBitrate=u.avg,c}WE(n,t),d.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.vM},set:function(t){if(!nR(t,8))throw new a("Provided objectTypeIndication does not fit in 8 bits.");this.vM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamType",{get:function(){return this.dM},set:function(t){if(!nR(t,6))throw new a("Provided streamType does not fit in 6 bits.");this.dM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.lM},set:function(t){if(!nR(t,24))throw new a("Provided bufferSizeDb does not fit in 24 bits.");this.lM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.wM},set:function(t){if(!nR(t,32))throw new a("Provided maxBitrate does not fit in 32 bits.");this.wM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.gM},set:function(t){if(!nR(t,32))throw new a("Provided avgBitrate does not fit in 32 bits.");this.gM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(uR),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}WE(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(JE.from(this.data))}}(uR),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return WE(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(uR)),sR=(function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,3,r.fixed28BitMode)||this;return u.decoderConfigDescriptor=e,u.esId=n,u.streamPriority=i,u.dependsOnEsId=null==r?void 0:r.dependsOnEsId,u.urlString=null==r?void 0:r.url,u.ocrEsId=null==r?void 0:r.ocrEsId,u.slConfigDescriptor=new oR(r.fixed28BitMode),u}WE(n,t),d.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"esId",{get:function(){return this.yM},set:function(t){if(!nR(t,16))throw new a("Provided esId does not fit in 16 bits.");this.yM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"streamPriority",{get:function(){return this.pM},set:function(t){if(!nR(t,5))throw new a("Provided streamPriority does not fit in 5 bits.");this.pM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.mM},set:function(t){if(t&&!nR(t,16))throw new a("Provided dependsOnEsId does not fit in 16 bits.");this.mM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.bM},set:function(t){if(t&&!nR(t,16))throw new a("Provided ocrEsId does not fit in 16 bits.");this.bM=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(uR),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return WE(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(tR)),cR=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return WE(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(sR),fR=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return WE(n,t),d.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this._M},set:function(t){if(!nR(t,16))throw new a("Provided dataReferenceIndex does not fit in 16 bits.");this._M=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(cR),hR=function(t){function n(n,i,e,r){var u,o,s=t.call(this,n,i)||this;return s.extra=r,s.channelCount=null!==(u=e.channelCount)&&void 0!==u?u:2,s.sampleSize=null!==(o=e.sampleSize)&&void 0!==o?o:16,s.sampleRate=e.sampleRate,s}return WE(n,t),d.defineProperty(n.prototype,"channelCount",{get:function(){return this.kM},set:function(t){if(!nR(t,16))throw new a("Provided channelCount does not fit in 16 bits.");this.kM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleSize",{get:function(){return this.TM},set:function(t){if(!nR(t,16))throw new a("Provided sampleSize does not fit in 16 bits.");this.TM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleRate",{get:function(){return this.SM},set:function(t){if(!nR(iR(t,16),32))throw new a("Provided rate does not fit in 32 bits (fixed 16.16).");this.SM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(iR(this.sampleRate,16),32),this.extra&&eR(n.writer,this.extra)},n}(fR),aR=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}WE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.EM},set:function(t){if(!nR(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!nR(t,32)}))throw new a("Not all entries can be represented in 32 bits.");this.EM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(rR),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}WE(n,t),d.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.RM},set:function(t){if(!nR(t,32))throw new a("Provided cleanApertureWidthN does not fit in 32 bits.");this.RM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.IM},set:function(t){if(!nR(t,32))throw new a("Provided cleanApertureWidthD does not fit in 32 bits.");this.IM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.DM},set:function(t){if(!nR(t,32))throw new a("Provided cleanApertureHeightN does not fit in 32 bits.");this.DM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.NM},set:function(t){if(!nR(t,32))throw new a("Provided cleanApertureHeightD does not fit in 32 bits.");this.NM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffN",{get:function(){return this.CM},set:function(t){if(!nR(t,32))throw new a("Provided horizOffN does not fit in 32 bits.");this.CM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizOffD",{get:function(){return this.AM},set:function(t){if(!nR(t,32))throw new a("Provided horizOffD does not fit in 32 bits.");this.AM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffN",{get:function(){return this.OM},set:function(t){if(!nR(t,32))throw new a("Provided vertOffN does not fit in 32 bits.");this.OM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vertOffD",{get:function(){return this.PM},set:function(t){if(!nR(t,32))throw new a("Provided vertOffD does not fit in 32 bits.");this.PM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(tR),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}WE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.EM},set:function(t){if(!nR(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!nR(t.sampleCount,32)||!nR(t.sampleOffset,32)}))throw new a("Not all entries can be represented in 64 bits.");this.EM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(rR),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}WE(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.$C},set:function(t){this.flags=void 0===t?1:0,this.$C=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(rR),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}WE(n,t),d.defineProperty(n.prototype,"location",{get:function(){return this.$C},set:function(t){if(1&this.flags)throw new a("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.$C=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(rR),function(t){function n(){return t.call(this,"dinf")||this}WE(n,t)}(cR),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!nR(i,8))throw new a("the provided version cannot fit in 8 bits.");return r.flags=e,r}return WE(n,t),d.defineProperty(n.prototype,"flags",{get:function(){return this.fM},set:function(t){this.fM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new a("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(sR)),vR=(function(t){function n(){return t.call(this,"dref",0,0)||this}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(aR),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return WE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.EM},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!nR(e.segmentDuration,this.bitSize))throw new a("SegmentDuration of one of the entries does not fit in "+this.bitSize+" bits.");if(!nR(e.mediaTime,this.bitSize))throw new a("MediaTime of one of the entries does not fit in "+this.bitSize+" bits.");if(!nR(e.mediaRateInteger,16))throw new a("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!nR(e.mediaRateFraction,16))throw new a("Provided mediaRateFraction does not fit in 16 bits.")}this.EM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(rR)),dR=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}WE(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(vR),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}WE(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}}}(vR),function(t){function n(){return t.call(this,"edts")||this}WE(n,t)}(cR),function(t){function n(n,i,e,r){var u=t.call(this,n)||this;return u.majorBrand=i,u.minorVersion=e,u.compatibleBrands=r,u}return WE(n,t),d.defineProperty(n.prototype,"majorBrand",{get:function(){return this.xM},set:function(t){if(4!==t.length)throw new a("the provided major brand does not conform to the 4 character requirement");this.xM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"minorVersion",{get:function(){return this.LM},set:function(t){if(!nR(t,32))throw new a("the provided minor version does not fit in 32 bits.");this.LM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.FM},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new a("Some of the compatible brands do not conform to the 4 character requirement");this.FM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(tR)),lR=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}WE(n,t)}(dR),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}WE(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(JE.from(this.data))}}(tR),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=t.call(this,"mdhd",e,r)||this;return u.creationTime=n.creation,u.modificationTime=n.modification,u.timescale=n.scale,u.duration=n.duration,u.language=i,u}return WE(n,t),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.BM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.BM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.MM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.MM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.UM},set:function(t){if(!nR(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.UM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.qM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.qM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"language",{get:function(){return this.aB},set:function(t){if(!function(t){return/^[a-z]{3}$/.test(t)}(t))throw new a("Expected an ISO-639-2/T language code");this.aB=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(rR));(function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}WE(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(lR),function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}WE(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(lR);var wR;(function(t){function n(){return t.call(this,"mdia")||this}WE(n,t)})(cR),function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new JE,n}WE(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(tR),function(t){function n(){return t.call(this,"minf")||this}WE(n,t)}(cR),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(aR);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(wR||(wR={}));var gR,yR,pR={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function mR(t,n){n.writer.writeUInt(iR(t.a,16),32),n.writer.writeUInt(iR(t.b,16),32),n.writer.writeUInt(iR(0,30),32),n.writer.writeUInt(iR(t.c,16),32),n.writer.writeUInt(iR(t.d,16),32),n.writer.writeUInt(iR(0,30),32),n.writer.writeUInt(iR(t.x,16),32),n.writer.writeUInt(iR(t.y,16),32),n.writer.writeUInt(iR(1,30),32)}function bR(t,n){var i,e,r,u;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:gR.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:yR.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:yR.UNKNOWN,2),n.writer.writeUInt(null!==(u=t.sampleHasRedundancy)&&void 0!==u?u:yR.UNKNOWN,2)}function _R(t,n){var i,e,r;n.writer.writeUInt(0,4),bR(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(gR||(gR={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(yR||(yR={}));var kR=function(){return function(){}}(),TR=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return WE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.VM},set:function(t){if(!nR(t,this.bitSize))throw new a("The provided fragmentDuration does not fit in "+this.bitSize+" bits.");this.VM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(rR),SR=(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}WE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)}}(TR),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}WE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)}}(TR),function(t){function n(n,i,e,r){var u,o,s;void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var c=t.call(this,"trex",e,r)||this;return c.trackId=n,c.defaultSampleDescriptionIndex=null!==(u=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==u?u:0,c.defaultSampleDuration=null!==(o=i.sampleDuration)&&void 0!==o?o:0,c.defaultSampleSize=null!==(s=i.sampleSize)&&void 0!==s?s:0,c.defaultSampleFlags=i.sampleFlags,c}WE(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.HM},set:function(t){if(!nR(t,32))throw new a("Provided track id does not fit in 32 bits.");this.HM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.jM},set:function(t){if(!nR(t,32))throw new a("Provided default sample description index does not fit in 32 bits.");this.jM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.zM},set:function(t){if(!nR(t,32))throw new a("Provided default sample duration does not fit in 32 bits.");this.zM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.WM},set:function(t){if(!nR(t,32))throw new a("Provided default sample size does not fit in 32 bits.");this.WM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.$M},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!nR(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!nR(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.$M=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),_R(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)}}(rR),function(t){function n(){return t.call(this,"mvex")||this}WE(n,t)}(cR),function(t){function n(i,e,r,u,o){var s,c,f;void 0===o&&(o=0);var h=t.call(this,"mvhd",u,o)||this;return h.creationTime=i.creation,h.modificationTime=i.modification,h.timescale=i.scale,h.duration=i.duration,h.rate=null!==(s=r.rate)&&void 0!==s?s:n.DEFAULT_RATE,h.volume=null!==(c=r.volume)&&void 0!==c?c:n.DEFAULT_VOLUME,h.matrix=null!==(f=r.matrix)&&void 0!==f?f:pR,h.XM=e,h}return WE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.BM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.BM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.MM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.MM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.UM},set:function(t){if(!nR(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.UM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.qM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.qM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"rate",{get:function(){return this.GM},set:function(t){if(!nR(iR(t,16),32))throw new a("Provided rate does not fit in 32 bits (fixed 16.16).");this.GM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.JD},set:function(t){if(!nR(iR(t,8),16))throw new a("Provided volume does not fit in 16 bits (fixed 8.8).");this.JD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.YM},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new a("(u, v, w) does not match the required (0, 0, 1)");this.YM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.XM},set:function(t){if(0===t)throw new a("NextTrackId cannot be 0.");if(!nR(t,32))throw new a("NextTrackId cannot exceed 32 bits.");this.XM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(iR(this.rate,16),32),n.writer.writeUInt(iR(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),mR(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(rR));(function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}WE(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)}})(SR),function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}WE(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(SR);var ER=function(t){function n(n,i,e,r,u,o,s){var c,f,h;void 0===s&&(s={});var a=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(s))||this;return a.creationTime=i.creation,a.modificationTime=i.modification,a.trackId=e,a.duration=i.duration,a.volume=r,a.width=u,a.height=o,a.layer=null!==(c=s.layer)&&void 0!==c?c:0,a.alternateGroup=null!==(f=s.alternateGroup)&&void 0!==f?f:0,a.matrix=null!==(h=s.matrix)&&void 0!==h?h:pR,a}return WE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"creationTime",{get:function(){return this.BM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.BM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"modificationTime",{get:function(){return this.MM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.MM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"trackId",{get:function(){return this.HM},set:function(t){if(0===t)throw new a("trackId cannot be 0.");if(!nR(t,32))throw new a("trackId cannot exceed 32 bits.");this.HM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"duration",{get:function(){return this.qM},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided sequence number does not fit in "+this.bitSize+" bits.");this.qM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"volume",{get:function(){return this.JD},set:function(t){if(!nR(iR(t,8),16))throw new a("Provided volume does not fit in 16 bits (fixed 8.8).");this.JD=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"width",{get:function(){return this.KM},set:function(t){if(!nR(iR(t,16),32))throw new a("Provided width does not fit in 32 bits (fixed 16.16).");this.KM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.JM},set:function(t){if(!nR(iR(t,16),32))throw new a("Provided height does not fit in 32 bits (fixed 16.16).");this.JM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"layer",{get:function(){return this.QM},set:function(t){if(!nR(t,16))throw new a("Provided layer does not fit in 16 bits.");this.QM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.ZM},set:function(t){if(!nR(t,16))throw new a("Provided alternateGroup does not fit in 16 bits.");this.ZM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"matrix",{get:function(){return this.YM},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new a("(u, v, w) does not match the required (0, 0, 1)");this.YM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(iR(this.volume,8),16),n.writer.writeUInt(0,16),mR(this.matrix,n),n.writer.writeUInt(iR(this.width,16),32),n.writer.writeUInt(iR(this.height,16),32)},n}(rR),RR=(function(t){function n(n,i,e,r,u,o){return t.call(this,0,n,i,e,r,u,o)||this}WE(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)}}(ER),function(t){function n(n,i,e,r,u,o){return t.call(this,1,n,i,e,r,u,o)||this}WE(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)}}(ER),function(t){function n(){return t.call(this,"trak")||this}WE(n,t)}(cR),function(t){function n(){return t.call(this,"moov")||this}WE(n,t)}(cR),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return WE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.tU},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided baseMediaDecodeTime does not fit in "+this.bitSize+" bits.");this.tU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(rR));(function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}WE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)}})(RR),function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}WE(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)}}(RR);!function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}WE(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.HM},set:function(t){if(!nR(t,32))throw new a("Provided track id does not fit in 32 bits.");this.HM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.nU},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new a("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new a("The base data offset present flag is not set.");if(t&&!nR(t,64))throw new a("Provided baseDataOffset does not fit in 32 bits.");this.nU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.iU},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new a("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new a("The sample description index flag is not set.");if(t&&!nR(t,32))throw new a("Provided sampleDescriptionIndex does not fit in 32 bits.");this.iU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.zM},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new a("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new a("The default sample duration present flag is not set.");if(t&&!nR(t,32))throw new a("Provided defaultSampleDuration does not fit in 32 bits.");this.zM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.WM},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new a("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new a("The default sample size present flag is not set.");if(t&&!nR(t,32))throw new a("Provided defaultSampleSize does not fit in 32 bits.");this.WM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.$M},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new a("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new a("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!nR(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!nR(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.$M=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&_R(this.defaultSampleFlags,n)}}(rR);(function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}WE(n,t),d.defineProperty(n.prototype,"dataOffset",{get:function(){return this.eU},set:function(t){if(t&&!nR(t,32))throw new a("Provided data offset does not fit in 32 bits.");this.eU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.rU},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!nR(t.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!nR(t.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");this.rU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.uU},set:function(t){var n,i;if(!nR(t.length,32))throw new a("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var u=r[e];if(void 0===u.duration&&this.flags.sampleDurationPresent)throw new a("The sample duration present flag is set.");if(void 0!==u.duration&&!this.flags.sampleDurationPresent)throw new a("The sample duration present flag is not set.");if(u.duration&&!nR(u.duration,32))throw new a("Provided sample duration does not fit in 32 bits.");if(void 0===u.size&&this.flags.sampleSizePresent)throw new a("The sample size present flag is set.");if(void 0!==u.size&&!this.flags.sampleSizePresent)throw new a("The sample size present flag is not set.");if(u.size&&!nR(u.size,32))throw new a("Provided sample size does not fit in 32 bits.");if(void 0===u.flags&&this.flags.sampleFlagsPresent)throw new a("The sample flags present flag is set.");if(void 0!==u.flags&&!this.flags.sampleFlagsPresent)throw new a("The sample flags present flag is not set.");if((null===(n=u.flags)||void 0===n?void 0:n.samplePaddingValue)&&!nR(u.flags.samplePaddingValue,3))throw new a("Provided sample padding value does not fit in 3 bits.");if((null===(i=u.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!nR(u.flags.sampleDegradationPriority,16))throw new a("Provided sample degradation priority does not fit in 16 bits.");if(void 0===u.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new a("The sample compositionTimeOffset present flag is set.");if(void 0!==u.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new a("The sample compositionTimeOffset present flag is not set.");if(u.compositionTimeOffset&&!nR(u.compositionTimeOffset,32))throw new a("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.uU=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&_R(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&_R(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}}})(rR),function(t){function n(){return t.call(this,"traf")||this}WE(n,t)}(cR),function(t){function n(){return t.call(this,"moof")||this}WE(n,t)}(cR),function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}WE(n,t),d.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.TA},set:function(t){if(!nR(t,32))throw new a("Provided sequence number does not fit in 32 bits.");this.TA=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(rR);var IR=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return WE(n,t),d.defineProperty(n.prototype,"codingName",{get:function(){return this.oU},set:function(t){if(4!==t.length)throw new a("Provided coding name was not 4 characters long.");this.oU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(tR),DR=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}WE(n,t),d.defineProperty(n.prototype,"hSpacing",{get:function(){return this.sU},set:function(t){if(!nR(t,32))throw new a("Provided hSpacing does not fit in 32 bits.");this.sU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"vSpacing",{get:function(){return this.cU},set:function(t){if(!nR(t,32))throw new a("Provided vSpacing does not fit in 32 bits.");this.cU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(tR),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}WE(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(cR),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new IR(n),r}WE(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(tR),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return WE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"entries",{get:function(){return this.EM},set:function(t){var n=this;if(!nR(t.length,32))throw new a("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!nR(t,n.bitSize)}))throw new a("Not all provided entries fit in "+this.bitSize+" bits.");this.EM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.fU},set:function(t){if(void 0===t)this.flags=0;else{if(!nR(t.auxInfoType,32))throw new a("Provided auxInfoType does not fit in 32 bits.");if(!nR(t.auxInfoTypeParameter,32))throw new a("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.fU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(rR)),NR=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}WE(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(DR),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}WE(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(DR),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}WE(n,t),d.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.hU},set:function(t){if(!nR(t,8))throw new a("Provided defaultSampleInfoSize does not fit in a single byte.");this.hU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.aU},set:function(t){if(!nR(t.length,32))throw new a("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!nR(t,8)}))throw new a("Not all provided sampleInfoSizes fit in a byte.");this.aU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.fU},set:function(t){if(void 0===t)this.flags=0;else{if(!nR(t.auxInfoType,32))throw new a("Provided auxInfoType does not fit in 32 bits.");if(!nR(t.auxInfoTypeParameter,32))throw new a("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.fU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new a("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(rR),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){bR(e[i],n)}}}(rR),function(t){function n(n){return t.call(this,"stsd",n,0)||this}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(aR),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return WE(n,t),d.defineProperty(n.prototype,"groupingType",{get:function(){return this.vU},set:function(t){if(4!==t.length)throw new a("The provided groupingType does not equal 4 characters.");this.vU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(rR)),CR=(function(t){function n(n,i){return t.call(this,0,n,i)||this}WE(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(NR),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}WE(n,t),d.defineProperty(n.prototype,"defaultLength",{get:function(){return this.dU},set:function(t){if(!nR(t,32))throw new a("The provided defaultLength does not fit in 32 bits.");this.dU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(NR),function(t){function n(n,i,e,r){void 0===r&&(r=0);var u=this;if(n<2)throw new a("This constructor is only meant for versions 2 and up.");return(u=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,u}WE(n,t),d.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.jM},set:function(t){if(!nR(t,32))throw new a("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.jM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(NR),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}WE(n,t),d.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.lU},set:function(t){if(!nR(t.length,32))throw new a("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!nR(t,32)}))throw new a("Not all sampleSizes can be represented in 32 bits.");this.lU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(rR),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}WE(n,t),d.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.WM},set:function(t){if(!nR(t,32))throw new a("Provided defaultSampleSize does not fit in 32 bits.");this.WM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"samples",{get:function(){return this.uU},set:function(t){if(!nR(t,32))throw new a("Number of allowed samples cannot fit in 32 bits.");this.uU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(rR),function(t){function n(){return t.call(this,"stbl")||this}WE(n,t)}(cR),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}WE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.EM},set:function(t){if(!nR(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!nR(t.firstChunk,32)||!nR(t.sampleDescriptionIndex,32)||!nR(t.samplesPerChunk,32)}))throw new a("Not all entries can be represented in 96 bits.");this.EM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(rR),function(t){function n(){return t.call(this,"schi")||this}WE(n,t)}(cR),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}WE(n,t),d.defineProperty(n.prototype,"schemeType",{get:function(){return this.wU},set:function(t){if(4!==t.length)throw new a("The provided schemeType does not have a length of 4.");this.wU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.gU},set:function(t){if(!nR(t,32))throw new a("The provided schemeVersion does not fit in 23 bits.");this.gU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"schemeUri",{get:function(){return this.yU},set:function(t){if(t&&4!==t.length)throw new a("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.yU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(rR),function(t){function n(n,i,e,r,u,o,s){void 0===s&&(s=0);var c=t.call(this,"sidx",n,s)||this;return c.referenceId=i,c.timescale=e,c.earliestPresentationTime=r,c.firstOffset=u,c.references=o,c}return WE(n,t),d.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"referenceId",{get:function(){return this.pU},set:function(t){if(!nR(t,32))throw new a("Provided referenceId does not fit in 32 bits.");this.pU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"timescale",{get:function(){return this.UM},set:function(t){if(!nR(t,32))throw new a("Provided timescale does not fit in 32 bits.");this.UM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.mU},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided earliestPresentationTime does not fit in "+this.bitSize+" bits.");this.mU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"firstOffset",{get:function(){return this.bU},set:function(t){if(!nR(t,this.bitSize))throw new a("Provided timescale does not fit in "+this.bitSize+" bits.");this.bU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"references",{get:function(){return this._U},set:function(t){if(!nR(t.length,16))throw new a("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!nR(e.referencedSize,31))throw new a("Provided referenced size does not fit in 31 bits.");if(!nR(e.subsegmentDuration,32))throw new a("Provided subsegment duration does not fit in 31 bits.");if(!nR(e.sapType,3))throw new a("Provided SAP type does not fit in 3 bits.");if(!nR(e.sapDeltaTime,28))throw new a("Provided SAP delta time does not fit in 28 bits.")}this._U=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(rR)),AR=(function(t){function n(n,i,e,r,u,o){return void 0===o&&(o=0),t.call(this,0,n,i,e,r,u,o)||this}WE(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)}}(CR),function(t){function n(n,i,e,r,u,o){return void 0===o&&(o=0),t.call(this,1,n,i,e,r,u,o)||this}WE(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)}}(CR),function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}WE(n,t)}(dR),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}WE(n,t),d.defineProperty(n.prototype,"balance",{get:function(){return this.kU},set:function(t){if(t<-1||t>1)throw new a("Provided balance does not fit in the allowed range [-1, 1].");if(!nR(iR(t,8),16))throw new a("Provided balance does not fit in 16 bits (fixed 8.8).");this.kU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(iR(this.balance,8),16),n.writer.writeUInt(0,16)}}(rR),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}WE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.EM},set:function(t){if(!nR(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!nR(t,32)}))throw new a("Not all entries can be represented in 32 bits.");this.EM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(rR),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}WE(n,t),d.defineProperty(n.prototype,"entries",{get:function(){return this.EM},set:function(t){if(!nR(t.length,32))throw new a("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!nR(t.sampleCount,32)||!nR(t.sampleDelta,32)}))throw new a("Not all entries can be represented in 64 bits.");this.EM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(rR),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}WE(n,t),d.defineProperty(n.prototype,"trackId",{get:function(){return this.HM},set:function(t){if(!nR(t,32))throw new a("The provided trackId does not fit in 32 bits.");this.HM=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(aR),function(t){function n(){return t.call(this,"udta")||this}WE(n,t)}(cR),{red:0,green:0,blue:0}),OR=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=AR);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}WE(n,t),d.defineProperty(n.prototype,"opColor",{get:function(){return this.TU},set:function(t){if(!nR(t.red,16)||!nR(t.green,16)||!nR(t.blue,16))throw new a("Not all colors could be represented in 16 bits.");this.TU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(rR),function(t){function n(n,i,e,r,u){var o,s,c,f,h;void 0===r&&(r={});var a=t.call(this,n,i)||this;return a.extra=u,a.width=e.width,a.height=e.height,a.horizontalResolution=null!==(o=e.horizontal)&&void 0!==o?o:72,a.verticalResolution=null!==(s=e.vertical)&&void 0!==s?s:72,a.compressorName=null!==(c=r.compressorName)&&void 0!==c?c:"",a.frameCount=null!==(f=r.frameCount)&&void 0!==f?f:1,a.depth=null!==(h=r.depth)&&void 0!==h?h:24,a.clap=r.clap,a.pasp=r.pasp,a}return WE(n,t),d.defineProperty(n.prototype,"width",{get:function(){return this.KM},set:function(t){if(!nR(t,16))throw new a("Provided width does not fit in 16 bits.");this.KM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"height",{get:function(){return this.JM},set:function(t){if(!nR(t,16))throw new a("Provided height does not fit in 16 bits.");this.JM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.SU},set:function(t){if(!nR(iR(t,16),32))throw new a("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.SU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.EU},set:function(t){if(!nR(iR(t,16),32))throw new a("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.EU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"compressorName",{get:function(){return this.RU},set:function(t){if(t.length>31)throw new a("The provided compressorName should at most be 31 characters long.");this.RU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"frameCount",{get:function(){return this.IU},set:function(t){if(!nR(t,16))throw new a("Provided frameCount does not fit in 16 bits.");this.IU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"depth",{get:function(){return this.DU},set:function(t){if(!nR(t,16))throw new a("Provided depth does not fit in 16 bits.");this.DU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,u,o;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(o=null===(u=this.extra)||void 0===u?void 0:u.length)&&void 0!==o?o:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(iR(this.horizontalResolution,16),32),n.writer.writeUInt(iR(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&eR(n.writer,this.extra)},n}(fR)),PR=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof p?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof p?n.concat(JE.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(rR),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(hR),function(t){function n(n,i,e,r){void 0===r&&(r={});var u=t.call(this,"mp4v",n,i,r)||this;return u.esDescriptor=e,u}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(OR),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}WE(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(fR),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}WE(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(tR),function(){function t(t,n,i,e,r,u){void 0===u&&(u=1),this.lengthSizeMinusOne=i,this.version=u,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}d.defineProperty(t.prototype,"version",{get:function(){return this.kE},set:function(t){if(!nR(t,8))throw new a("Provided version does not fit in 8 bits.");this.kE=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileIndication",{get:function(){return this.NU},set:function(t){if(!nR(t,8))throw new a("Provided profileIndication does not fit in 8 bits.");this.NU=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.CU},set:function(t){if(!nR(t,8))throw new a("Provided profileCompatibility does not fit in 8 bits.");this.CU=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"levelIndication",{get:function(){return this.AU},set:function(t){if(!nR(t,8))throw new a("Provided levelIndication does not fit in 8 bits.");this.AU=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"spsSets",{get:function(){return this.OU},set:function(t){if(!nR(t.length,5))throw new a("Provided number of spsSets exceeds the max (32)");this.OU=t},enumerable:!1,configurable:!0}),d.defineProperty(t.prototype,"ppsSets",{get:function(){return this.PU},set:function(t){if(!nR(t.length,8))throw new a("Provided number of ppsSets exceeds the max (256)");this.PU=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(JE.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,u=this.ppsSets;r<u.length;r++){var o=u[r];t.writer.writeUInt(o.length,16),t.concat(JE.from(o))}}}(),function(t){function n(n,i,e,r,u){void 0===r&&(r={});var o=t.call(this,"avc1",n,i,r)||this;return o.configurationBox=e,o.bitrateBox=u,o}WE(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(OR),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}WE(n,t),d.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.lM},set:function(t){if(!nR(t,32))throw new a("Provided bufferSizeDb does not fit in 32 bits.");this.lM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"max",{get:function(){return this.xU},set:function(t){if(!nR(t,32))throw new a("Provided max does not fit in 32 bits.");this.xU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"avg",{get:function(){return this.LU},set:function(t){if(!nR(t,32))throw new a("Provided avg does not fit in 32 bits.");this.LU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(tR),function(t){function n(n,i){var e,r,u,o,s=t.call(this,"tenc",n,0)||this;if(i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new a("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return s.kId=i.kId,s.isProtected=null!==(u=i.isProtected)&&void 0!==u?u:1,i.perSampleIvSize>0?s.perSampleIvSize=i.perSampleIvSize:s.constantIv=null!==(o=i.constantIv)&&void 0!==o?o:new p(0),s}return WE(n,t),d.defineProperty(n.prototype,"isProtected",{get:function(){return this.FU},set:function(t){if(!nR(t,8))throw new a("Provided isProtected does not fit in 1 byte.");this.FU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.BU},set:function(t){if(![8,16].includes(t))throw new a("Provided perSampleIvSize does not match any allowed value [8, 16].");this.BU=t,this.MU=new p(0)},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"kId",{get:function(){return this.UU},set:function(t){if(16!==t.length)throw new a("Provided kId length is not 16.");this.UU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"constantIv",{get:function(){return this.MU},set:function(t){if(![8,16].includes(t.length))throw new a("Provided constant IV length does not match any allowed value [8, 16].");this.MU=t,this.BU=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),eR(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),eR(t.writer,this.constantIv))},n}(rR)),xR=(function(t){function n(n){return t.call(this,0,n)||this}WE(n,t)}(PR),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return WE(n,t),d.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.qU},set:function(t){if(!nR(t,4))throw new a("Provided cryptByteBlocks does not fit in 4 bits.");this.qU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.VU},set:function(t){if(!nR(t,4))throw new a("Provided skipByteBlocks does not fit in 4 bits.");this.VU=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(PR)),LR=(function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new xR(n),i}WE(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(kR),function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return WE(n,t),d.defineProperty(n.prototype,"systemId",{get:function(){return this.HU},set:function(t){if(16!==t.length)throw new a("Provided systemId length is not 16.");this.HU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"data",{get:function(){return this.Xi},set:function(t){if(!nR(t.length,32))throw new a("Provided data length does not fit in 32 bits.");this.Xi=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(JE.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(JE.from(this.data))},n}(rR));(function(t){function n(n,i){return t.call(this,0,n,i)||this}WE(n,t)})(LR),function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}WE(n,t),d.defineProperty(n.prototype,"kIds",{get:function(){return this.jU},set:function(t){if(!nR(t.length,32))throw new a("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new a("Not all provided key ids are 16 bytes long.");this.jU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(JE.from(e))}}}(LR);function FR(t){return void 0!==t.iv}function BR(t){return void 0!==t.subsamples}var MR;(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}WE(n,t),d.defineProperty(n.prototype,"samples",{get:function(){return this.uU},set:function(t){var n;if(!nR(t.length,32))throw new a("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(FR(r)&&![8,16].includes(r.iv.length))throw new a("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=BR(r)),!0===n&&!BR(r)||!1===n&&BR(r))throw new a("Mix of samples with and without subsamples detected.");if(BR(r)){if(!nR(r.subsamples.length,16))throw new a("Subsample length of one of the provided samples does not fit in 16 bits.");for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];if(!nR(s.clearData,16))throw new a("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!nR(s.protectedData,23))throw new a("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.uU=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];FR(r)&&(n+=r.iv.length),BR(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(FR(r)&&eR(n.writer,r.iv),BR(r)){n.writer.writeUInt(r.subsamples.length,16);for(var u=0,o=r.subsamples;u<o.length;u++){var s=o[u];n.writer.writeUInt(s.clearData,16),n.writer.writeUInt(s.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(rR),function(t){function n(n,i,e,r,u){var o=t.call(this,"emsg",0,0)||this;return o.schemeIdUri=n,o.value=i,o.data=u,o.id=e,o.timescale=r.timescale,o.presentationTimeDelta=r.presentationTimeDelta,o.eventDuration=r.eventDuration,o}WE(n,t),d.defineProperty(n.prototype,"timescale",{get:function(){return this.UM},set:function(t){if(!nR(t,32))throw new a("The provided timescale does not fit in 32 bits.");this.UM=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.zU},set:function(t){if(!nR(t,32))throw new a("The provided presentationTimeDelta does not fit in 32 bits.");this.zU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"eventDuration",{get:function(){return this.WU},set:function(t){if(!nR(t,32))throw new a("The provided eventDuration does not fit in 32 bits.");this.WU=t},enumerable:!1,configurable:!0}),d.defineProperty(n.prototype,"id",{get:function(){return this.Sy},set:function(t){if(!nR(t,32))throw new a("The provided id does not fit in 32 bits.");this.Sy=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(JE.from(this.data))}}(rR);!function(t){t[t.$U=0]="$U",t[t.XU=1]="XU",t[t.GU=2]="GU"}(MR||(MR={}));var UR;it.Mr&&it.Ur,it.Xr,us.Nh,us.Dh,us.Lh,us.xh,us.bh,us.Ah,qd.Ll,sd.lw,it.Vr||it.Hr;!function(t){t.YU="closed",t.vd="open",t.bh="ended"}(UR||(UR={}));var qR,VR;us.jh,us.Ah,us.Lh,us.Nh,us.Dh,qd.Ll,us.Nh,us.Dh,us.Lh,us.xh,us.bh,sd.lw;!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(qR||(qR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(VR||(VR={}));var HR=function(t){function n(n){var i;return(i=t.call(this,0,n.Hy)||this).KU=void 0,i.KU=n,i.Vy=i.KU.qy,i}return W(n,t),j(n,[{key:"sw",get:function(){return this.KU.sw}},{key:"tp",get:function(){return this.KU.tp},set:function(t){this.KU.tp=t}},{key:"Zy",get:function(){return this.KU.Zy},set:function(t){this.KU.Zy=t}}]),n}(IE);function jR(t){return void 0===t.SB&&(t.SB=new HR(t)),t.SB}var zR=function(t){function n(n,i){var e;(e=t.call(this,n.ww,n.hw)||this).JU=void 0,e.QU=void 0,e.ZU=void 0,e.ks=Vl.ID3,e.tq=function(t){e.nq(t.Uy)},e.iq=function(t){var n=t.Uy;if(void 0!==n.SB){var i=n.SB;n.SB=void 0,e.kB(i),i.ce()}},e.rq=function(t){var n=jR(t.Uy);n.Qy||e.uq(n),e.oq(n)},e.sq=function(t){var n=t.Uy,i=jR(n);e.QU.rg<n.qy&&e.uq(i)},e.cq=function(){var t=e.ZU,n=e.gw;if(e.ZU=n,n===od.mw)e.wB.forEach(function(t){return t.Qy=!1}),xr(e.wB);else if(t===od.mw)for(var i=e.QU.rg,r=0,u=e.sB;r<u.length;r++){var o=u[r];i<o.Vy&&e.uq(o)}},e.QU=i,e.JU=n,e.ZU=n.gw,n.ic(Cv.Tl,e.tq),n.ic(Cv.El,e.iq),n.ic(Cv.Il,e.rq),n.ic(Cv.Nl,e.sq),n.ic(Cv.Pl,e.cq);for(var r=0,u=e.JU.Tw.Kl;r<u.length;r++){var o=u[r];e.nq(o)}return e}W(n,t);var i=n.prototype;return i.uq=function(t){var n=YS(this.wB,t);if(!(n>=0)){var i=-(n+1);this.wB.splice(i,0,t),t.Qy=!0,t.nc(new JS(t,this.QU.rg)),this.nc(new nE(t)),this.nc(new uE(this))}},i.oq=function(t){var n=YS(this.wB,t);n>=0&&Or(this.wB,n),t.Qy=!1,t.nc(new ZS(t,this.QU.rg)),this.nc(new eE(t)),this.nc(new uE(this))},i.ce=function(){this.JU.oc(Cv.Tl,this.tq),this.JU.oc(Cv.El,this.iq),this.JU.oc(Cv.Il,this.rq),this.JU.oc(Cv.Nl,this.sq),this.JU.oc(Cv.Pl,this.cq),t.prototype.ce.call(this)},i.nq=function(t){var n=jR(t);(this.eS(n),this.gw!==od.mw)&&(this.QU.rg<n.Vy&&this.uq(n))},j(n,[{key:"fw",get:function(){return this.JU.fw}},{key:"hw",get:function(){return this.JU.hw},set:function(t){this.JU.hw=t}},{key:"aw",get:function(){return this.JU.aw}},{key:"sw",get:function(){return this.JU.sw}},{key:"cw",get:function(){return this.JU.cw}},{key:"ww",get:function(){return this.JU.ww}},{key:"gw",get:function(){return this.JU.gw},set:function(t){this.JU.gw=t}},{key:"kw",get:function(){return this.JU.kw}},{key:"Ew",get:function(){return this.JU.Ew}}]),n}(DE),WR=function(t){function n(n){var i;return(i=t.call(this)||this).QU=void 0,i.QU=n,i}W(n,t);var i=n.prototype;return i.$l=function(n){if(n.ks===Vl.ID3){var i=n;return i.SB||(i.SB=new zR(i,this.QU)),t.prototype.$l.call(this,i.SB)}return t.prototype.$l.call(this,n)},i.Xl=function(n){if(n.ks===Vl.ID3){var i=n;return!!i.SB&&t.prototype.Xl.call(this,i.SB)}return t.prototype.Xl.call(this,n)},n}(ld),$R=function(t){function n(n,i){var e;return(e=t.call(this)||this).fq=new Je,e.mR=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.kl).ks){t.next=4;break}return t.next=4,i.hc(Cv.Bl);case 4:if(i.ks===Vl.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.Tw.Jl){t.next=11;break}return t.next=9,i.hc(Cv.Tl);case 9:t.next=6;break;case 11:e.hq(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),e.bR=function(t){var n=t.kl;if(n.ks===Vl.ID3&&e.fq.has(n.cw)){var i=e.fq.get(n.cw);e.Xl(i),e.JT.rS(i),n.oc(Cv.Tl,e.nq)}},e.nq=function(t){XR(t.Uy)&&e.aq(t.Uy)},e.JT=n,e.vq=i,e.dq(),e}W(n,t);var i=n.prototype;return i.dq=function(){this.vq.ic(Rv.wl,this.mR),this.vq.ic(Rv.yl,this.bR)},i.lq=function(){this.vq.oc(Rv.wl,this.mR),this.vq.oc(Rv.yl,this.bR)},i.hq=function(t){var n=t.Tw.Kl[0];if(XR(n)){var i=function(t){var n=t.match(GR);if(!n)return;return{kl:n[1],aw:n[2]}}(n.Hy.description),e=i.kl,r=i.aw;if(!this.wq(e,r)){var u=this.JT.nS(Dg.Fb,t.sw,e,r,!1,Vl.TTML);this.$l(u),this.fq.set(t.cw,u);for(var o=0,s=t.Tw.Kl;o<s.length;o++){var c=s[o];XR(c)&&this.aq(c)}t.ic(Cv.Tl,this.nq)}}},i.wq=function(t,n){return!!Cr(this.N_.Kl,function(i){return i.hw===t&&i.aw===n})},i.aq=function(t){if(t.kl)for(var n=this.fq.get(t.kl.cw),i=pg(t.Hy.text,0,{Um:0,qm:1/0,Vm:-t.Vy}),e=0;e<i.length;e++){var r=i[e];n.eS(r)}},i.Yl=function(){var n=D.coroutine(He.mark(function n(){var i,e,r,u,o;return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,e=this.vq.Kl;i<e.length;i++)e[i].oc(Cv.Tl,this.nq);for(r=0,u=this.N_.Kl;r<u.length;r++)o=u[r],this.JT.rS(o);return this.fq.clear(),n.next=5,t.prototype.Yl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.ce=function(){var n=D.coroutine(He.mark(function n(){return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.lq(),n.next=3,t.prototype.ce.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(Cg);function XR(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Hy)&&GR.test(n.description);var n}var GR=/^Track:(.+),Lang:(.+)$/;var YR,KR;new(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ml=void 0,n}return W(n,t),j(n,[{key:"bl",get:function(){return this.ml||(this.ml=bT(this)),this.ml}},{key:"iL",get:function(){}},{key:"eL",get:function(){}},{key:"rL",get:function(){}},{key:"uL",get:function(){}},{key:"oL",get:function(){}},{key:"sL",get:function(){}},{key:"cL",get:function(){}}]),n}(Qr));!function(t){t.gq='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.yq='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.pq='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.mq='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(YR||(YR={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(KR||(KR={}));var JR,QR;$e({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),$e({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),KR.WHITE,KR.TRANSPARENT,KR.TRANSPARENT;!function(t){t.bq="Data",t._q="Tag",t.kq="StartTag",t.Tq="StartTagClass",t.Sq="StartTagAnnotation",t.Eq="CharRefInAnnotation",t.Rq="EndTag",t.Iq="TimestampTag"}(JR||(JR={})),function(t){t.CF="string",t.Dq="starttag",t.Nq="endtag",t.Cq="timestamp"}(QR||(QR={}));var ZR,tI;KR.WHITE,KR.TRANSPARENT;!function(t){t[t.Aq=0]="Aq",t[t.Oq=1]="Oq",t[t.Pq=2]="Pq",t[t.xq=3]="xq",t[t.Lq=4]="Lq",t[t.Fq=5]="Fq"}(ZR||(ZR={})),function(t){t[t.Bq=0]="Bq",t[t.Mq=1]="Mq",t[t.Uq=2]="Uq",t[t.qq=3]="qq"}(tI||(tI={}));var nI,iI;[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{});!function(t){t[t.jI=0]="jI",t[t.Vq=1]="Vq",t[t.Hq=2]="Hq",t[t.jq=3]="jq",t[t.vu=4]="vu"}(nI||(nI={})),function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(iI||(iI={}));var eI;KR.WHITE,YR.pq,KR.BLACK,iI.FONT_REGULAR,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.GREEN,iI.FONT_REGULAR,KR.GREEN,iI.FONT_UNDERLINE,KR.BLUE,iI.FONT_REGULAR,KR.BLUE,iI.FONT_UNDERLINE,KR.CYAN,iI.FONT_REGULAR,KR.CYAN,iI.FONT_UNDERLINE,KR.RED,iI.FONT_REGULAR,KR.RED,iI.FONT_UNDERLINE,KR.YELLOW,iI.FONT_REGULAR,KR.YELLOW,iI.FONT_UNDERLINE,KR.MAGENTA,iI.FONT_REGULAR,KR.MAGENTA,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_ITALICS,KR.WHITE,iI.FONT_UNDERLINE_ITALICS,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE,KR.WHITE,iI.FONT_REGULAR,KR.WHITE,iI.FONT_UNDERLINE;!function(t){t.zq="HELLO",t.Wq="HI_THERE",t.$q="INITIALIZE",t.Xq="APPEND_INIT",t.Gq="APPEND_DATA",t.Yq="ACK",t.Kq="REMOVE",t.Jq="DESTROY_SESSION"}(eI||(eI={}));var rI=rw.Bp,uI=new rw(-1/0),oI=rw.mm,sI=new(function(t){function n(n,i){return t.call(this,n,i)||this}W(n,t);var i=n.prototype;return i.mp=function(t,n){return t.Sp(n)?kr.Ls:t.Jy(n)?kr.Ps:kr.xs},i._y=function(t,n){return t._y(n)},i.Dp=function(t,n){return t.Dp(n)},i.Tp=function(t,n){return t.Tp(n)},i.dD=function(){return rI},i.lD=function(){return oI},i.pD=function(){return uI},n.MD=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new rw(t.start(e)),new rw(t.end(e)));return new n(i)},n.Qq=function(t){for(var i=[],e=[],r=0;r<t.Jl;r++)i.push(new rw(t.iD(r))),i.push(new rw(t.rD(r))),e.push(t.eD(r)),e.push(t.uD(r));return new n(i,e)},n.qD=function(t){return new n([t,t],[!0,!0])},i.aD=function(t,i){return new n(t,i)},i.fD=function(t){return t.ym},n.VD=function(){return sI},n}(ub))([]),cI=(Dl.$v,Dl.Xv,function(t){function n(n){var i;return(i=t.call(this,us.lh)||this).errorObject=void 0,i.errorObject=n,i}return W(n,t),j(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(tu)),fI=function(t){function n(){return t.call(this,us.wh)||this}return W(n,t),n}(tu),hI=function(t){function n(n){var i;return(i=t.call(this,"Wh")||this).Zq=n,i}return W(n,t),n}(tu),aI=new qT,vI=function(t){function i(i,e,r){var u;return(u=t.call(this)||this).rf=void 0,u.Li=!1,u.tV=!1,u.Yd=new Fr,u.Gc=function(t){switch(t.lc){case"license-request":u.qS(t.dc,t.wc).catch(function(t){return u.Df(t)});break;default:u.Df(new Sl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.lc))}},u.nV=function(t){u.iV.sf.Ec(function(t,n){switch(t){case"usable":C.Fo(function(){u.tV=!0,u.nc(new fI)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.nc(new hI(n))}})},u.eV=function(t){u.Df(new Sl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.iV=i,u.rV=e,u.uV=r,i.ic("dc",u.Gc),i.ic("vc",u.nV),i.ic("gc",u.eV),u.rf=i.rf.then(function(){return u.oV()}),u}W(i,t);var e=i.prototype;return e.Zc=function(){var t=this;return this.Li=!0,aI.ZL(function(n){return t.sV(n)},this.Yd.Ks)},e.sV=function(){var t=D.coroutine(He.mark(function t(i){var e,r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Ur(i),t.next=4,this.rV.PS(i);case 4:return t.next=6,this.rV.xS(this.uV.Ss,this.uV._c,i);case 6:return e=t.sent,t.next=9,this.iV.Zc(this.uV.Ss,this.uV._c,e);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),qr(t.t0),r=t.t0 instanceof wo?t.t0.Vc:void 0,u=new Sl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,r),this.Df(u),u;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),e.qS=function(){var t=D.coroutine(He.mark(function t(i,e){var r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!ao(i)){t.next=7;break}return t.next=4,this.rV.GS(new p(i),this.Yd.Ks);case 4:r=t.sent,t.next=10;break;case 7:return t.next=9,this.rV.YS(new p(i),e,this.Yd.Ks);case 9:r=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Mr(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.iV.if(r);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),u=t.t1 instanceof wo?t.t1.Vc:void 0,new Sl(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),e.Df=function(t){var i=t instanceof Sl?t:new Sl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.nc(new cI(i)),this.Qc()},e.oV=function(){this.iV.oc("dc",this.Gc),this.iV.oc("vc",this.nV),this.iV.oc("gc",this.eV),this.tV=!1,this.Yd.Xs()},e.Qc=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uc(),this.oV(),t.next=4,this.iV.Qc().catch(x);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Qr),dI=[us.wh,us.lh,us.zh],lI=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Yc=void 0,r.ff=void 0,r.cV=void 0,r.fV=[],r.hV=void 0,r.aV=[],r.Yc=n,r.ff=i,r.cV=e,r}W(n,t);var i=n.prototype;return i.XS=function(){return this.cV.XS()},i.vV=function(t){return this.hV||(this.hV=this.dV(t)),this.hV},i.dV=function(){var t=D.coroutine(He.mark(function t(n){var i;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ur(n),t.next=3,this.cV.GS(new p(ho()),n);case 3:return i=t.sent,Ur(n),t.next=7,this.ff.df(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.HB=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r=this;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.aV.push(n),t.next=4,this.ff.vf("temporary");case 4:return i=t.sent,e=new vI(i,this.cV,n),this.fV.push(e),e.ic(dI,this.tc),e.rf.then(function(){return r.lV(e)}),t.abrupt("return",e);case 10:return t.prev=10,Ar(this.aV,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.wV=function(t){if(t.gV)return!1;for(var n=0,i=this.fV;n<i.length;n++){if(wI(i[n].uV,t))return!0}for(var e=0,r=this.aV;e<r.length;e++){if(wI(r[e],t))return!0}return!1},i.lV=function(t){t.oc(dI,this.tc),Ar(this.fV,t)},i.ce=function(){var t=D.coroutine(He.mark(function t(){var n;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uc(),n=this.fV.slice(),xr(this.fV),t.next=5,D.all(n.map(function(t){return t.Qc()}));case 5:this.cV.Vs();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(n,[{key:"hf",get:function(){return this.Yc}}]),n}(Qr);function wI(t,n){return!t.gV&&t.Ss===n.Ss&&mu(t._c,n._c)}var gI=function(t){function i(n){var i;return(i=t.call(this)||this).IR=void 0,i.Yd=new Fr,i.hF=new qT,i.Lf=void 0,i.cV=void 0,i.DR=void 0,i.Yc=void 0,i.yV=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.pV(n.Ss,n._c,i.Yd.Ks);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Mr(t.t0)||i.Df(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.IR=n,i.IR.ic(Jr.yc,i.yV),i}W(i,t);var e=i.prototype;return e.tf=function(t,n){this.DR=t,this.CB(n)},e.CB=function(t){this.Lf=t,this.mV(this.Yd.Ks).catch(Vr)},e.mV=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!C.Jo.po){t.next=5;break}return t.next=3,this.bV(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this.Lf||!this.Lf._V){t.next=9;break}return t.next=8,this.kV(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.bV=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r,u,o,s,c,f,h,a,v;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this.Lf)?void 0:i.rI){t.next=3;break}return t.abrupt("return",!1);case 3:e=!1,r=0,u=null!=(o=null==(s=this.Lf)?void 0:s.rI)?o:[];case 5:if(!(r<u.length)){t.next=27;break}c=u[r],f=0,h=null!=(a=c.gR)?a:[];case 8:if(!(f<h.length)){t.next=22;break}return v=h[f],t.prev=10,t.next=13,this.pV(c.hf.Ss,v,n);case 13:e=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),qr(t.t0);case 19:f++,t.next=8;break;case 22:if(!e){t.next=24;break}return t.abrupt("return",!0);case 24:r++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),e.pV=function(){var t=D.coroutine(He.mark(function t(i,e,r){var u,o,s,c,f,h,a,v,d,l;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ur(r),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Lf&&this.Lf.rI.length){t.next=5;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===Ze||i===nr||i===tr){t.next=8;break}return t.abrupt("return");case 8:u=ep(i,e),o=this.Lf.rI,c=0;case 11:if(!(c<o.length)){t.next=42;break}if(f=o[c],Ur(r),(h=u[f.hf.Es])&&f.hf.Ss===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.TV(f,r);case 20:if(!(a=t.sent).XS()){t.next=24;break}return t.next=24,a.vV();case 24:if(v=this.IR.uy,d={Ss:f.hf.Ss,_c:h,gV:v},!this.SV(a,d)){t.next=32;break}return t.next=29,a.HB(d);case 29:return l=t.sent,t.next=32,l.Zc();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),qr(t.t0),s=t.t0;case 39:c++,t.next=11;break;case 42:return t.next=44,C.qo();case 44:if(!t.sent){t.next=48;break}throw new Sl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",s);case 48:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",s);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,e){return t.apply(this,arguments)}}(),e.kV=function(){var t=D.coroutine(He.mark(function t(n){var i,e,r,u,o;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null==(i=this.Lf)?void 0:i.rI){t.next=3;break}return t.abrupt("return");case 3:r=0;case 4:if(!(r<e.length)){t.next=23;break}return u=e[r],Ur(n),t.prev=7,t.next=10,this.TV(u,n);case 10:if(!(o=t.sent).XS()){t.next=14;break}return t.next=14,o.vV();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),qr(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),e.SV=function(t,n){return C.Jo.yo||!t.wV(n)},e.TV=function(t,n){var i=this;return this.hF.ZL(function(n){return i.EV(t,n)},n)},e.EV=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u,o,s;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ur(i),this.Lf&&this.cV&&this.DR){t.next=3;break}throw new a("Not initialized");case 3:if(!this.Yc){t.next=7;break}if(this.Yc.hf===n.hf){t.next=6;break}throw new a("Internal key system error");case 6:return t.abrupt("return",this.Yc);case 7:return e=this.cV,r=je({},n,{yI:n.yI.map(function(t){var i;return je({},t,{persistentState:null!=(i=t.persistentState)?i:e.wE(n.hf),bf:t.bf||e.bf(n.hf)})})}),t.next=11,this.DR.IB(r.hf,r.yI);case 11:return u=t.sent,o=e.wR(r),(s=new lI(r.hf,u,o)).ic([us.wh,us.lh,us.zh],this.tc),this.Yc=s,t.abrupt("return",s);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.Df=function(t){var i=t instanceof Sl?t:new Sl(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.nc(new cI(i))},e.Yl=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DR=void 0,this.Lf=void 0,this.Yd.Xs(),this.Yd=new Fr,t.next=6,this.RV();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.RV=function(){var t=D.coroutine(He.mark(function t(){var n;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hF.Xs();case 2:if(!(n=this.Yc)){t.next=8;break}return n.oc(us.zh,this.tc),this.Yc=void 0,t.next=8,n.ce();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Vs=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uc(),this.IR.oc(Jr.yc,this.yV),t.next=4,this.Yl();case 4:return t.next=6,this.hF.ce();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j(i,[{key:"IV",get:function(){var t;return null==(t=this.Yc)?void 0:t.hf}},{key:"nI",get:function(){return this.cV},set:function(t){this.cV=t}}]),i}(Qr);it.Vr||it.Hr,it.ou,it.Xr;var yI=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.SV=function(t,n){return!0},n}(gI),pI=function(t){function n(n,i,e){var r;return void 0===e&&(e=new qE(i)),(r=t.call(this)||this).DR=void 0,r.Ds=void 0,r.DV=void 0,r.NV=new qT,r.CV=void 0,r.zB=void 0,r.AV=!1,r.Wf=void 0,r.Uf=null,r.OV={oy:0,sy:0,hy:0,ay:0,vy:0,ly:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.PV=function(t){"boolean"==typeof t.detail.casting&&(r.AV=t.detail.casting,r.nc(new $l(r.AV)))},r.xV=function(t){r.Wf=t.sessionId,r.Uf&&(r.Uf.sessionId=r.Wf);var n=t.initData;if(n){var i=function(t){try{var n=io(t),i=new co;return Yu(Ku(xu(n,i,Mu(n,i,!0)),!0))}catch(t){return}}(n);if(!i)return;r.nc(new ou(nr,i))}else r.nc(new ou(nr,new ArrayBuffer(0)))},r.CV=n,r.zB=i,r.zB.ic(RE.LB,r.xV),r.Ds=e,r.DV=new yI(un(r)),r.LV(),r}W(n,t);var i=n.prototype;return i.FV=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.ks===Gg.oS)return i}},i.Vs=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Yl();case 2:return this.uc(),this.BV(),this.zB.oc(RE.LB,this.xV),t.next=7,this.DV.Vs();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$g=function(){throw new a("Not implemented yet")},i.nS=function(t,n,i,e,r,u,o,s){throw new a("Not implemented yet")},i.fI=function(){return!1},i.aI=function(t,n,i,e){throw new a("Not implemented yet")},i.rS=function(t){throw new a("Not implemented yet")},i.lI=function(){throw new a("Not implemented yet")},i.tf=function(){var t=D.coroutine(He.mark(function t(n){var i=this;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.NV.ZL(function(){var t=D.coroutine(He.mark(function t(e){var r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.ks!==Gg.oS){t.next=8;break}return Ur(e),r=new AE(n,i,i.Ds),i.DR=r,i.DV.tf(r,n),t.abrupt("return",r);case 8:throw new a("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ee=function(){throw new a("Not implemented yet")},i.ie=function(){throw new a("Not implemented yet")},i.Yl=function(){var t=this;return this.NV.Xs(),this.NV.ZL(D.coroutine(He.mark(function n(){return He.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.DR){n.next=4;break}return n.next=3,t.DR.Vs();case 3:t.DR=void 0;case 4:return n.next=6,t.DV.Yl();case 6:case"end":return n.stop()}},n)})))},i.Ac=function(t,n){throw new a("Not implemented yet")},i.bI=function(t){throw new a("Not implemented yet")},i.Wg=function(){throw new a("Not implemented yet")},i._I=function(){return this.OV},i.LV=function(){this.CV.addEventListener("airPlayIsCasting",this.PV)},i.BV=function(){this.CV.removeEventListener("airPlayIsCasting",this.PV)},i.webkitSetMediaKeys=function(t){this.Uf=t||null,this.Uf&&(this.Uf.sessionId=this.Wf)},i.MV=function(){},i.UV=function(){throw new a("Not implemented yet")},i.qV=function(){throw new a("Not implemented yet")},j(n,[{key:"iy",get:function(){throw new a("Not implemented yet")}},{key:"ny",get:function(){throw new a("Not implemented yet")}},{key:"rg",get:function(){throw new a("Not implemented yet")}},{key:"xL",get:function(){throw new a("Not implemented yet")}},{key:"ug",get:function(){throw new a("Not implemented yet")}},{key:"og",get:function(){throw new a("Not implemented yet")}},{key:"gc",get:function(){throw new a("Not implemented yet")}},{key:"W_",get:function(){throw new a("Not implemented yet")}},{key:"uy",get:function(){return this.AV}},{key:"cg",get:function(){throw new a("Not implemented yet")}},{key:"fg",get:function(){throw new a("Not implemented yet")}},{key:"hg",get:function(){throw new a("Not implemented yet")}},{key:"gy",get:function(){throw new a("Not implemented yet")}},{key:"kw",get:function(){throw new a("Not implemented yet")}},{key:"py",get:function(){throw new a("Not implemented yet")}},{key:"ag",get:function(){throw new a("Not implemented yet")}},{key:"VV",get:function(){throw new a("Not implemented yet")}},{key:"lg",get:function(){throw new a("Not implemented yet")},set:function(t){throw new a("Not implemented yet")}},{key:"Eo",get:function(){throw new a("Not implemented yet")}},{key:"dI",get:function(){throw new a("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Uf}},{key:"HV",get:function(){return CE}},{key:"Lg",get:function(){throw new a("Not implemented yet")}},{key:"FL",get:function(){throw new a("Not implemented yet")}},{key:"kI",get:function(){throw new a("Not implemented yet")}},{key:"jV",get:function(){return!0}},{key:"nI",get:function(){return this.DV.nI},set:function(t){this.DV.nI=t}},{key:"IV",get:function(){return this.DV.IV}}]),n}(wd),mI=function(t){function n(n){var i;return(i=t.call(this,us.$h)||this).OV=n,i}return W(n,t),n}(tu);var bI=function(t){function n(n){return t.call(this,jl.Ul,n)||this}return W(n,t),n.prototype._l=function(){return new _I(this.Uy.bl)},n}(Xl),_I=function(t){function n(n){return t.call(this,zl.Ul,n)||this}return W(n,t),n}(Gl),kI=function(t){function n(n,i){var e,r=TI(i,n.ug,n.kI,n.zV);return(e=t.call(this,i,r,void 0,!1,n.sw)||this).WV=void 0,e.$V=void 0,e.XV=void 0,e.qM=void 0,e.GV=void 0,e.YV=void 0,e.KV=void 0,e.JV=void 0,e.QV=void 0,e.ZV=void 0,e.WV=n.tH,e.$V=n.kI,e.XV=n.zV,e.qM=n.ug,e.GV=n.nH,e.YV=Boolean(n.iH),e.KV=n.eH||{},e.JV=n.rH,e.QV=n.uH,e.ZV=n.oH,e.sH(),e.cH(),e}W(n,t);var i=n.prototype;return i.if=function(t){var n=!1;void 0===this.WV&&void 0!==t.tH&&(n=!0,this.WV=t.tH),void 0===this.XV&&void 0!==t.zV&&(n=!0,this.XV=t.zV),void 0===this.qM&&void 0!==t.ug&&(n=!0,this.qM=t.ug),void 0===this.GV&&void 0!==t.nH&&(n=!0,this.GV=t.nH),!this.YV&&t.iH&&(n=!0,this.YV=t.iH),n=this.updateCustomAttributes(t,n),void 0===this.JV&&void 0!==t.rH&&(n=!0,this.JV=t.rH),void 0===this.QV&&void 0!==t.uH&&(n=!0,this.QV=t.uH),void 0===this.ZV&&void 0!==t.oH&&(n=!0,this.ZV=t.oH),this.sH(),this.cH(),this.fH(),n&&this.nc(new bI(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.eH)for(var e=0,r=d.keys(t.eH);e<r.length;e++){var u=r[e];void 0===this.KV[u]&&(i=!0,this.KV[u]=t.eH[u])}return i},i.sH=function(){this.qM&&!this.XV&&(this.XV=new Date(this.$V.getTime()+1e3*this.qM))},i.cH=function(){this.XV&&!this.qM&&(this.qM=nn(this.XV.getTime()-this.$V.getTime()))},i.fH=function(){this.zy===1/0&&(this.XV||this.qM)&&(this.zy=TI(this.jy,this.qM,this.$V,this.XV))},j(n,[{key:"bl",get:function(){var t;return this.ml||(this.ml=jv(Yl(t=this),{get content(){return t.Hy},get class(){return t.tH},get startDate(){return t.kI},get endDate(){return t.zV},get duration(){return t.ug},get plannedDuration(){return t.nH},get endOnNext(){return t.iH},get scte35Cmd(){return t.rH},get scte35Out(){return t.uH},get scte35In(){return t.oH},get customAttributes(){return t.eH}})),this.ml}},{key:"tH",get:function(){return this.WV}},{key:"kI",get:function(){return this.$V}},{key:"zV",get:function(){return this.XV}},{key:"ug",get:function(){return this.qM}},{key:"nH",get:function(){return this.GV}},{key:"iH",get:function(){return this.YV}},{key:"rH",get:function(){return this.JV}},{key:"uH",get:function(){return this.QV}},{key:"oH",get:function(){return this.ZV}},{key:"eH",get:function(){return this.KV}}]),n}(Ql);function TI(t,n,i,e){return ut(n)?t+n:e?t+(nn(e.getTime())-nn(i.getTime())):1/0}var SI,EI=function(t){function n(){return t.call(this,void 0,void 0,Vl.DATE_RANGE)||this}W(n,t);var i=n.prototype;return i.if=function(t,n){for(var i=this,e=function(t){for(var n=We(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.sw)){var u=n.get(r.sw),o=je({},u,Xv(r),{eH:je({},u.eH,r.eH)});n.set(r.sw,o)}else n.set(r.sw,r),i.push(r.sw)}return i.map(function(t){return n.get(t)})}(t),r=this.Tw.Kl,u=function(t){var n=r[t],u=Cr(e,function(t){return t.sw===n.sw});u?n.if(u):i.kB(n)},o=r.length-1;o>=0;o--)u(o);for(var s=0;s<e.length;s++){var c=e[s],f=c.kI;if(void 0!==f&&!this.bB(c.sw)){var h=n(f);this.eS(new kI(c,h))}}},i.eS=function(n){this.hH(n),t.prototype.eS.call(this,n)},i.hH=function(t){var n=this.sB.filter(function(n){return n.tH===t.tH}).pop();n&&n.iH&&n.if({sw:n.sw,zV:t.kI})},n}(DE);function RI(t){switch(t.type){case SI.CF:return t.value;case SI.NF:return Yv(t.value);case SI.DF:return lu(t.value);default:return}}function II(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.CF="daterange-ca-type_string",t.NF="daterange-ca-type_number",t.DF="daterange-ca-type_arraybuffer"}(SI||(SI={}));var DI,NI,CI,AI=function(t){function n(n,i,e,r,u){var o;return(o=t.call(this,r,i,e)||this).WE=void 0,o.aH=void 0,o.WE=n,o.aH=u,o}return W(n,t),j(n,[{key:"name",get:function(){return this.WE}},{key:"timestamp",get:function(){return this.aH}}]),n}(Uo),OI=function(t){function n(n,i,e,r,u,o,s,c){var f;return(f=t.call(this,n,i,e,r,c)||this).url=void 0,f.status=void 0,f.errorComment=void 0,f.url=u,f.status=o,f.errorComment=s,f}return W(n,t),n}(AI),PI=function(){function t(t,n){this.Ng=void 0,this.vH=void 0,this.Ng=new Ng,this.vH=new cE(t,n)}var n=t.prototype;return n.nS=function(t,n,i,e,r,u,o){var s=new SE(t,n,i,e,r,u,o);return this.Ng.$l(s),this.vH.$l(s),s},n.rS=function(t){this.Ng.Xl(t),this.vH.Xl(t),t.ce()},n.Yl=function(){for(var t=0,n=this.Ng.Kl.slice();t<n.length;t++){n[t].ce()}this.Ng.Yl(),this.vH.Yl()},n.ce=function(){this.Yl(),this.Ng.ce(),this.vH.ce()},j(t,[{key:"Lg",get:function(){return this.Ng}}]),t}(),xI=function(t){function n(n,i,e,r,u){var o;(o=t.call(this)||this).$D=0,o.dH=!1,o.NR=void 0,o.CR=void 0,o.lH=void 0,o.GD=!0,o.YD=1,o.Ig=void 0,o.Dg=void 0,o.wH=void 0,o.gH=void 0,o.yH=void 0,o.Ng=void 0,o.JT=void 0,o.qM=void 0,o.pH=ob.VD(),o.mH=ob.VD(),o.XD=!1,o.bH=ob.VD(),o.KD=void 0,o._H=void 0,o.kH=void 0,o.vB=Ed.Xw,o.cS=Ed.Xw,o.CV=void 0,o.vH=void 0,o.PR=void 0,o.iB=void 0,o.TH=void 0,o.nN=void 0,o.IR=void 0,o.xR=void 0,o.zB=void 0,o.OV={oy:0,sy:0,hy:0,ay:0,vy:0,ly:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},o.DR=void 0,o.SH=void 0,o.FR=new Vm,o.setCurrentTime=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.py.length){t.next=4;break}return o.$D=n,t.next=4,o.CV.hc("seekablechange");case 4:o.$D=o.updateCurrentTime(n),o.iB.uB("THEOplayerSetCurrentTime",o.$D),o.KD=!0,o.nc(new Zd(o.$D));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.EH=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}o.pH=new ob(i),o.nc(new dE(o.rg))}},o.RH=function(t){o.vB=t.detail.readyState,o.nc(new il(+t.detail.currentTime,o.kw)),o.IH()},o.DH=function(t){o.vB=t.detail.readyState,o.nc(new el(+t.detail.currentTime,o.kw)),o.IH()},o.NH=function(t){if(t.detail){var n=+t.detail.duration;o.qM=n,o.nc(new Gd(o.ug))}},o.CH=function(t){t.detail&&(o.dH=!0,o.nc(new Jd(+t.detail.currentTime)))},o.MR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);II(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(o.CR=new OI(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),o.NR=Il(o.CR),o.nc(new ul(o.CR))):II(i)&&(o.CR=new AI(i.name,i.message,void 0,i.code,i.timestamp),o.NR=Il(o.CR),o.nc(new ul(o.CR)))}},o.AH=function(t){o.nc(new vE)},o.OH=function(t){o.vB=t.detail.readyState,o.nc(new Qd(+t.detail.currentTime,o.kw)),o.IH()},o.PH=function(){var t=D.coroutine(He.mark(function t(n){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o.py.length){t.next=3;break}return t.next=3,o.CV.hc("seekablechange");case 3:o.vB=n.detail.readyState,o.nc(new Xd(+n.detail.currentTime,o.kw)),o.IH();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),o.xH=function(t){t.detail&&o.GD&&(o.GD=!1,o.nc(new jd(+t.detail.currentTime)))},o.LH=function(t){t.detail&&(o.GD||(o.GD=!0,o.nc(new Hd(+t.detail.currentTime))))},o.FH=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}o.bH=new ob(i)}},o.BH=function(t){t.detail&&o.nc(new sy(+t.detail.currentTime))},o.MH=function(t){t.detail&&(o.YD=t.detail.playbackRate,o.nc(new Yd(+t.detail.currentTime,o.YD)))},o.UH=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}o.mH=new ob(i)}},o.qH=function(t){t.detail&&(o.$D=+t.detail.currentTime,o.KD=!1,o.nc(new Kd(o.$D,o.lH)),o.nc(new tl(o.$D)))},o.VH=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<o.qM&&(o.dH=!1),o.KD=!0,o.nc(new Zd(n))}},o.HH=function(t){t.detail&&(t.detail.currentDate&&(o.lH=new Date(1e3*t.detail.currentDate)),o.$D=+t.detail.currentTime,o.nc(new Kd(o.$D,o.lH)))},o.jH=function(t){o._H=t.detail.height,o.kH=t.detail.width},o.zH=function(t){t.detail&&o.nc(new oy(+t.detail.currentTime))},o.WH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};o.Pg.$l(new Ml(n))},o.$H=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,u=0;u<o.Ig.Jl;u++){var s=o.Pg.Wl(u);s.aw==e&&s.hw==r?i=o.Ig.Wl(u):1==s.ow&&(n=o.Ig.Wl(u))}i&&n&&(i.ow=!0,n.ow=!1)},o.XH=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};o.xg.$l(new Wl(n))},o.GH=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Dg.Mb&&e===Vl.ID3?(n=new NE("",t.detail.label)).gw=od.pw:i===Dg.Mb&&e===Vl.DATE_RANGE?(n=new EI,o.SH=n):n=new SE(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),o.wH.$l(n),o.vH.$l(n)},o.YH=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,u={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(u.description=e.Id3FrameDescription);var s=new IE(Yv(e.startTime),u,e.uid),c=o.KH();c&&c.eS(s)}},o.JH=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],u=new Zl(Yv(r.startTime),Yv(r.endTime),r.content,!1),s=null!=(e=o.QH(Dg.Fb))?e:o.QH(Dg.WT);s&&(s.ks=Vl.WEBVTT,s.eS(u))}},o.ZH=function(t){t.type===us.lh&&(o.NR=Il(t.errorObject)),o.tc(t)},o.tj=function(t){t.detail&&(o.OV.sy=t.detail.corruptedVideoFrames,o.OV.oy=t.detail.droppedVideoFrames,o.nc(new mI(o._g)))},o.nj=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={sw:t.id};if(void 0!==t.startDate&&(n.kI=new Date(t.startDate)),void 0!==t.endDate&&(n.zV=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var u=RI(t.customAttributes[r]);void 0!==u&&(e[r]=u)}n.eH=e}void 0!==t.scte35Cmd&&(n.rH=lu(t.scte35Cmd)),void 0!==t.scte35In&&(n.oH=lu(t.scte35In)),void 0!==t.scte35Out&&(n.uH=lu(t.scte35Out)),void 0!==t.startTime&&(n.qy=t.startTime),n.tH=t.class,n.ug=Yv(t.duration),n.nH=Yv(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.qy?t.qy:(new Date).getTime(),e=new kI(t,i);o.SH.eS(e),o.SH.if(n,i)})};var s=r.uid;o.iB=o.getSdkBridge(s),o.CV=new $S,FS()[s].sdkEventBus=o.CV,o.Ig=new Nl,o.Dg=new Nl;var c=o.ij(e);return o.JT=new PI(un(o),new fE),o.vH=new aE(un(o)),o.PR=new Hg(o.JT,c),o.wH=new Ng,o.gH=new WR(un(o)),o.gH.ew=o.wH,o.yH=new $R(o.JT,o.gH),o.Ng=new zm([o.wH,o.PR.N_,o.yH.N_]),o.zB=o.getFairPlayControllerBridge(o.iB),o.IR=new pI(o.CV,o.zB),o.xR=new Hm(c),o.IR.nI=o.xR,o.observeMediaElement(),o.eI(),o.nN=new lE(o.iB,u),o.nN.ic("vP",function(){o.iB.uB("THEOplayerSetPreferredForwardBufferDuration",o.nN.aP)}),o}W(n,t);var i=n.prototype;return i.Gg=function(){return fb},i.Wg=function(){this.iB.uB("THEOplayerShow",{})},i.$g=function(){this.iB.uB("THEOplayerHide",{})},i.ej=function(){var t=this;this.iB.uB("THEOplayerSetInitialPreferredPeakBitRate",this.nN.TP);this.ic("playing",function n(){t.iB.uB("THEOplayerSetInitialPreferredPeakBitRate",0),t.oc("playing",n)})},i.Ug=function(){var t=D.coroutine(He.mark(function t(n,i){var e,r,u;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.TH=n,e=je({},i,{sources:{src:n.src,type:kd.qw,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.iB.uB("THEOplayerSourceChange",e),r={ks:Gg.oS,Ew:n.src,dv:n.type,rI:this.uI(n),oI:n.crossOrigin,sI:i.metadata&&i.metadata.title},this.xR.lR(n.contentProtection),t.next=7,this.IR.tf(r);case 7:this.DR=t.sent,i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==Vl.WEBVTT})).length>0&&this.cI(u),Xg(this.Lg),this.ej();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.uI=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{hf:hr,yI:[{initDataTypes:[hr.Ss],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.ie=function(){this.GD=!1,this.nc(new jd(this.rg)),this.iB.uB("THEOplayerPlay",{})},i.ee=function(){this.GD=!0,this.nc(new Hd(this.rg)),this.iB.uB("THEOplayerPause",{})},i.Xg=function(){},i.Yl=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$D=0,this.dH=!1,this.NR=void 0,this.CR=void 0,this.GD=!0,this.YD=1,this.qM=void 0,this.mH=ob.VD(),this.pH=ob.VD(),this._H=void 0,this.kH=void 0,this.vB=Ed.Xw,this.cS=Ed.Xw,this.Ig.Yl(),this.Dg.Yl(),this.wH.Yl(),this.Ng.Yl(),t.next=19,this.yH.Yl();case 19:return this.gH.Yl(),t.next=22,this.PR.Yl();case 22:return this.JT.Yl(),this.vH.Yl(),this.TH=void 0,t.next=27,this.IR.Yl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vg=function(){this.iB.uB("THEOplayerShowAirPlayPicker",{})},i.Hg=function(){this.iB.uB("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this._g.sy=t.sy,this._g.oy=t.oy},i.ce=function(){var t=D.coroutine(He.mark(function t(){return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Yl();case 2:return this.uc(),this.unobserveMediaElement(),this.gI(),this.IR.nI=void 0,t.next=8,this.IR.Vs();case 8:return this.Ig.ce(),this.Dg.ce(),this.wH.ce(),this.Ng.ce(),this.gH.ce(),t.next=15,this.yH.ce();case 15:return t.next=17,this.PR.ce();case 17:this.JT.ce(),this.vH.ce();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cI=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.PR.tS(i)}},i.IH=function(){var t=this.cS,n=this.vB;t!==n&&(this.cS=n,this.nc(new rl(this.rg,n)))},i.observeMediaElement=function(){this.IR.ic(us.hh,this.tc),this.IR.ic([us.wh,us.lh],this.ZH),this.CV.addEventListener("play",this.xH),this.CV.addEventListener("pause",this.LH),this.CV.addEventListener("seeking",this.VH),this.CV.addEventListener("seeked",this.qH),this.CV.addEventListener("ratechange",this.MH),this.CV.addEventListener("durationchange",this.NH),this.CV.addEventListener("timeupdate",this.HH),this.CV.addEventListener("waiting",this.zH),this.CV.addEventListener("playing",this.BH),this.CV.addEventListener("ended",this.CH),this.CV.addEventListener("loadedmetadata",this.PH),this.CV.addEventListener("loadeddata",this.OH),this.CV.addEventListener("loadstart",this.AH),this.CV.addEventListener("canplay",this.RH),this.CV.addEventListener("canplaythrough",this.DH),this.CV.addEventListener("error",this.MR),this.CV.addEventListener("seekablechange",this.UH),this.CV.addEventListener("videosizechange",this.jH),this.CV.addEventListener("bufferedchange",this.EH),this.CV.addEventListener("playedchange",this.FH),this.CV.addEventListener("metricschange",this.tj),this.CV.addEventListener("addDateRangeCues",this.nj)},i.unobserveMediaElement=function(){this.IR.oc(us.hh,this.tc),this.IR.oc([us.wh,us.lh],this.ZH),this.CV.removeEventListener("play",this.xH),this.CV.removeEventListener("pause",this.LH),this.CV.removeEventListener("seeking",this.VH),this.CV.removeEventListener("seeked",this.qH),this.CV.removeEventListener("ratechange",this.MH),this.CV.removeEventListener("durationchange",this.NH),this.CV.removeEventListener("timeupdate",this.HH),this.CV.removeEventListener("waiting",this.zH),this.CV.removeEventListener("playing",this.BH),this.CV.removeEventListener("ended",this.CH),this.CV.removeEventListener("loadedmetadata",this.PH),this.CV.removeEventListener("loadeddata",this.OH),this.CV.removeEventListener("loadstart",this.AH),this.CV.removeEventListener("canplay",this.RH),this.CV.removeEventListener("canplaythrough",this.DH),this.CV.removeEventListener("error",this.MR),this.CV.removeEventListener("seekablechange",this.UH),this.CV.removeEventListener("videosizechange",this.jH),this.CV.removeEventListener("bufferedchange",this.EH),this.CV.removeEventListener("playedchange",this.FH),this.CV.removeEventListener("metricschange",this.tj),this.CV.removeEventListener("addDateRangeCues",this.nj)},i.updateCurrentTime=function(t){var n=this.py.start(0),i=this.py.end(0);return l.min(l.max(t,n),i)},i.KH=function(){for(var t=0,n=this.Ng.Kl;t<n.length;t++){var i=n[t];if(i.fw===Dg.Mb&&i.ks===Vl.ID3)return i}},i.QH=function(t){for(var n=0,i=this.Ng.Kl;n<i.length;n++){var e=i[n],r=e.gw===od.yw,u=e.fw===t;if(r&&u)return e}},i.eI=function(){this.CV.addEventListener("addaudiotrack",this.WH),this.CV.addEventListener("enableaudiotrack",this.$H),this.CV.addEventListener("addvideotrack",this.XH),this.CV.addEventListener("addtexttrack",this.GH),this.CV.addEventListener("addtexttrackid3cues",this.YH),this.CV.addEventListener("addtexttrackcues",this.JH)},i.gI=function(){this.CV.removeEventListener("addaudiotrack",this.WH),this.CV.removeEventListener("enableaudiotrack",this.$H),this.CV.removeEventListener("addvideotrack",this.XH),this.CV.removeEventListener("addtexttrack",this.GH),this.CV.removeEventListener("addtexttrackid3cues",this.YH),this.CV.removeEventListener("addtexttrackcues",this.JH)},i.ty=function(){},j(n,[{key:"Pg",get:function(){return this.Ig}},{key:"ny",get:function(){return this.pH.mI()}},{key:"iy",get:function(){return this.lH?this.lH:null},set:function(t){this.iB.uB("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.lH=t}},{key:"rg",get:function(){return this.$D},set:function(t){this.setCurrentTime(t)}},{key:"ug",get:function(){return this.qM}},{key:"og",get:function(){return this.dH}},{key:"gc",get:function(){return this.NR}},{key:"sg",get:function(){return this.CR}},{key:"Fg",get:function(){}},{key:"uy",get:function(){return this.IR.uy}},{key:"_g",get:function(){return this.OV}},{key:"cg",get:function(){return this.XD},set:function(t){this.XD!==t&&(this.iB.uB("THEOplayerSetMuted",t),this.XD=t,this.nc(new nl(this.rg,t?0:1)))}},{key:"fg",get:function(){return this.GD}},{key:"hg",get:function(){return this.YD},set:function(t){this.iB.uB("THEOplayerSetPlaybackRate",t),this.YD=t}},{key:"gy",get:function(){return this.bH.mI()}},{key:"yy",get:function(){return Qm.jI},set:function(t){}},{key:"kw",get:function(){return this.vB}},{key:"py",get:function(){return this.mH.mI()}},{key:"ag",get:function(){return this.KD}},{key:"kI",get:function(){}},{key:"Lg",get:function(){return this.Ng}},{key:"vg",get:function(){return this._H}},{key:"dg",get:function(){return this.kH}},{key:"lg",get:function(){return 1},set:function(t){}},{key:"xg",get:function(){return this.Dg}},{key:"TI",get:function(){return this.FR}},{key:"my",get:function(){return!1},set:function(t){}},{key:"wy",get:function(){return!0}}]),n}(wd),LI=function(){function t(){this.SI=Lm.sR}var n=t.prototype;return n.EI=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if((e=n.type)&&lr(e.toLowerCase(),kd.Uw))return!1;var e,r=n.contentProtection;if(r&&!Wy(r)){if(!Gy(r))return!1;if(!t.rj(r))return!1}return!0},t.rj=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.RI=function(){return!1},t}(),FI=function(){function n(t){this.playerID=t}return n.prototype.uB=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),BI=function(t){function n(n){var i;return(i=t.call(this)||this).iB=void 0,i.CV=void 0,i.uj=function(t){var n=lu(t.detail.initData),e=t.detail.sessionId;i.nc(new xE(n,e))},i.oj=function(t){var n=new p(_u(t.detail.message)),e=t.detail.destinationURL;i.nc(new LE(n,e))},i.sj=function(t){i.nc(new FE)},i.iB=n,i.CV=new $S,FS().fairplayController={sdkEventBus:i.CV},i.cj(),i}W(n,t);var i=n.prototype;return i.cj=function(){this.CV.addEventListener(RE.LB,this.uj),this.CV.addEventListener(RE.FB,this.oj),this.CV.addEventListener(RE.BB,this.sj)},i.HB=function(t,n){var i={playerId:MS(),data:ku(n.buffer),sessionId:t};this.iB.uB("THEOplayerCreateKeySession",i)},i.if=function(t,n){var i={playerId:MS(),data:ku(n.buffer),sessionId:t};this.iB.uB("THEOplayerUpdateKey",i)},n}(wd),MI=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.Cv=function(n){if(ro(n.lv)){var i=uo(n.lv);n.lv=Gu(i)}return t.prototype.Cv.call(this,n)},n}(function(){function t(t){this.QT=void 0,this.QT=t}var n=t.prototype;return n.Cv=function(t){return this.QT.Cv(t)},n.nd=function(t){this.QT.nd(t)},n.ce=function(){this.QT.ce()},t}()),UI=function(t){function n(n,i,e,r,u){return t.call(this,n,i,e,r,u)||this}W(n,t);var i=n.prototype;return i.qg=function(){return!1},i.getSdkBridge=function(t){return new FI(t)},i.getFairPlayControllerBridge=function(t){return NI||(NI=new BI(t)),NI},i.ij=function(t){return new MI(t)},n}(xI);DI=new(function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.rE=function(t,n,i,e,r,u){return new UI(t,n,i,e,r)},n}(LI)),Jm.su.OI(DI),function(t){t.wl="addtrack",t.yl="removetrack",t.Pl="change",t.Ul="update"}(CI||(CI={}));var qI=function(t,n,i){this.type=CI.Pl,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},VI=function(t,n){this.type=CI.wl,this.mediaType=t,this.mediaTrack=n},HI=function(t,n){this.type=CI.yl,this.mediaType=t,this.mediaTrack=n},jI=function(t,n){this.type=CI.Ul,this.mediaType=t,this.mediaTrack=n},zI=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.fj=function(t){var n=new qI(e.type,t.track,e.mediaTracks);e.messageDispatcher.hj(n)},this.aj=function(t){var n=new VI(e.type,t.track);e.messageDispatcher.hj(n),t.track.addEventListener("update",e.vj)},this.dj=function(t){var n=new HI(e.type,t.track);e.messageDispatcher.hj(n)},this.vj=function(t){var n=new jI(e.type,t.track);e.messageDispatcher.hj(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.cj()}return t.prototype.cj=function(){this.mediaTracks.addEventListener("change",this.fj),this.mediaTracks.addEventListener("addtrack",this.aj),this.mediaTracks.addEventListener("removetrack",this.dj)},t}(),WI=function(){function t(t){this.lj=void 0,this.lj=new FI(t)}return t.prototype.hj=function(t){this.lj.uB(t.type,uS(t))},t}();AT(function(t){if(t.bl.audioTracks){var n=new WI(t.cw);new zI("audio",t.bl.audioTracks,n)}if(t.bl.videoTracks){var i=new WI(t.cw);new zI("video",t.bl.videoTracks,i)}});var $I,XI,GI=function(t){function n(){return t.apply(this,arguments)||this}return W(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case $I.wj:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.nc(new YI(i));break;default:0}},n}($S),YI=function(t){function n(n){var i;return(i=t.call(this,$I.wj)||this).detail=n,i}return W(n,t),n}(tu);!function(t){t.wj="registerContentProtectionIntegration"}($I||($I={})),function(t){t.gj="certifiateRequest",t.yj="certifiateResponse",t.pj="licenseRequest",t.mj="licenseResponse",t.bj="extractFairplayContentId",t._j="buildContentProtection",t.kj="registerContentProtectionCallback"}(XI||(XI={}));var KI,JI=function(t,n){this.type=XI.kj,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(KI||(KI={}));var QI,ZI=function(t,n){this.type=XI._j,this.value=t,this.integrationId=n},tD=function(t,n){this.type=XI.gj,this.value=t,this.integrationId=n},nD=function(t,n){this.type=XI.yj,this.value=t,this.integrationId=n},iD=function(t,n){this.type=XI.bj,this.value=t,this.integrationId=n},eD=function(t,n){this.type=XI.pj,this.value=t,this.integrationId=n},rD=function(t,n){this.type=XI.mj,this.value=t,this.integrationId=n},uD=function(){function t(t,n){this.Tj=void 0,this.uE=void 0,this.Tj=t,this.uE=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=D.coroutine(He.mark(function t(i){var e,r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i),r=new tD(e,this.uE),t.prev=2,t.next=5,this.Tj.Sj(r);case 5:if(!(u=t.sent)){t.next=16;break}if(o=JSON.parse(u),!this.Ej(o)){t.next=13;break}return s=je({},o),t.abrupt("return",s);case 13:if(!this.Rj(o)){t.next=16;break}return c=new p(o),t.abrupt("return",c);case 16:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new Sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=D.coroutine(He.mark(function t(i){var e,r,u,o,s;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i.request),r={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new nD(r,this.uE),t.next=5,this.Tj.Sj(u);case 5:if(!(o=t.sent)){t.next=11;break}return s=JSON.parse(o),t.abrupt("return",new p(s));case 11:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=D.coroutine(He.mark(function t(i){var e,r,u,o,s,c,f;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i),r={url:e.url,method:e.method,headers:e.headers,body:e.body?Array.from(e.body):null,useCredentials:e.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new eD(r,this.uE),t.prev=3,t.next=6,this.Tj.Sj(u);case 6:if(!(o=t.sent)){t.next=17;break}if(s=JSON.parse(o),!this.Ej(s)){t.next=14;break}return c={url:s.url,method:s.method,headers:s.headers,body:s.body?new p(s.body):null,useCredentials:s.useCredentials,fairplaySkdUrl:s.fairplaySkdUrl},t.abrupt("return",c);case 14:if(!this.Rj(s)){t.next=17;break}return f=new p(s),t.abrupt("return",f);case 17:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new Sl(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=D.coroutine(He.mark(function t(i){var e,r,u,o,s,c;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.toCertificateRequestDTO(i.request),r=je({},e,{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},o=new rD(u,this.uE),t.next=6,this.Tj.Sj(o);case 6:if(!(s=t.sent)){t.next=12;break}return c=JSON.parse(s),t.abrupt("return",new p(c));case 12:throw new Sl(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=D.coroutine(He.mark(function t(i){var e,r;return He.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new iD(i,this.uE),t.next=3,this.Tj.Sj(e);case 3:if(!(r=t.sent)){t.next=6;break}return t.abrupt("return",r);case 6:return t.abrupt("return",D.reject(new Sl(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Ej=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Rj=function(t){return!!new p(t)},t}(),oD=function(){function t(t){this.Tj=void 0,this.Tj=t}return t.prototype.build=function(t){if(!t.integration)throw new a("integrationId is undefined");var n=new uD(this.Tj,t.integration),i=new ZI({drmConfiguration:t},t.integration);return this.Tj.Sj(i),n},t}(),sD=function(){var t=this;this.CV=void 0,this.Ij=function(n){var i=new oD(t.messageDispatcher),e=n.detail,r=e.integrationId,u=e.keySystem,o={state:By.aE.sE(r,u,i)};t.messageDispatcher.Sj(new JI(o,r))},this.CV=new GI,FS().contentProtectionIntegration={sdkEventBus:this.CV},this.CV.addEventListener($I.wj,this.Ij)},cD="nativePromiseCallback",fD=function(t){function n(n){var i;return(i=t.call(this,cD)||this).detail=n,i}return W(n,t),n}(tu);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(QI||(QI={}));var hD=function(t){function n(){return t.apply(this,arguments)||this}W(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.nc(new fD(n))},i.addEventListener=function(t,n){this.ic(t,n)},i.removeEventListener=function(t,n){this.oc(t,n)},n}($S),aD=function(){function t(){var t=this;this.lj=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new a("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case QI.RESOLVE:i.Mc(n.detail.data);break;case QI.REJECT:i.Uc(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new hD;FS().nativePromise={sdkEventBus:n},n.addEventListener(cD,this.handleNativePromiseEvent)}return t.prototype.Sj=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=je({},n,{promiseId:e}),u=new fo;return this.promisesMap[e]=u,null==(i=this.lj)||i.uB(n.type,eS(r)),u.Bc},t}();aD.messageIdTracker=-1;var vD=function(t){function n(n){var i;return(i=t.call(this)||this).lj=new FI(n),i}return W(n,t),n}(aD),dD=function(t){function n(n){var i;return(i=t.call(this)||this).Tj=void 0,i.Tj=new vD(n),i}return W(n,t),j(n,[{key:"messageDispatcher",get:function(){return this.Tj}}]),n}(sD);AT(function(t){new dD(t.bl.uid)}),n.ChromelessPlayer=JT,n.Player=JT,n.createGlobals=US,n.features=[],n.getCueMirrorMap=BS,n.getGlobalId=MS,n.getSdkEventBridge=FS,n.playerSuiteVersion="2022.1.2",n.players=ZT,n.registerContentProtectionIntegration=tS,n.utils=QT,n.version="3.2.3",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
