/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.2.0 (3.3.0)
 Created: 2022-04-13T08:04:07.765Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,w=t.parseInt,g=t.parseFloat,y=t.isNaN,m=t.Uint8Array,p=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function b(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),t}function T(t,n){return(T=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.I="android-tv",t.R="ios",t.N="tvos",t.B="chromecast"}(e||(e={}));var E=o?o.userAgent:"",I=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),R=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=E.match(/Firefox\/([0-9\.]+)/i),O=E.match(/OPR\/(\d+\.\d+)/i),P=E.match(/Tizen ([0-9\.]+)/i),B=function(){function n(){this.M=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.U=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.F=/Windows NT/i.test(E),this.H=D?g(D[1]):0,this.G=/Android/i.test(E),this.Y=N?g(N[1]):0,this.j=/windows phone (8|8\.1)/i.test(E),this.Z=/iPhone/i.test(E),this.J=/iPad/i.test(E),this.K=this.U&&this.M&&!this.J,this.nt=/iPod/i.test(E),this.it=/Mobile Safari/i.test(E),this.et=/EOSSTB/i.test(E),this.st=(this.Z||this.J||this.K||this.nt)&&!this.j,this.ut=this.j||this.st||this.G||this.it,this.ot=/CriOS/i.test(E),this.ht=Boolean(t.chrome&&/google/i.test(o.vendor))||this.ot,this.ct=this.ht&&/Edg\//i.test(o.userAgent),this.ft=R?w(R[1],10):0,this.vt=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.dt=I?w(I[1],10):0,this._t=/SMART-TV.*Tizen/i.test(E),this.wt=P?g(P[1]):0,this.yt=/webos|web0s/i.test(E),this.pt=/Edge\/\d+/i.test(E),this.kt=/Trident/i.test(E),this.At=this.kt&&!t.ActiveXObject&&"ActiveXObject"in t,this.bt=/Vivaldi/i.test(E),this.Tt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.St=x?g(x[1]):0,this.Et=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.j&&!this._t,this.It=C?g(C[2]):0,this.Rt=Boolean(O),this.Nt=O?g(O[1]):0,this.Dt=/CrKey/.test(E),this.Ct=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.xt="ios"===e.I,this.Ot="ios"===e.g,this.Pt=this.Ot||this.xt,this.Bt="ios"===e.R,this.Lt="ios"===e.N,this.Mt="ios"===e.B}return b(n,[{key:"Ut",get:function(){return this.M}},{key:"Ft",get:function(){return this.U}},{key:"Ht",get:function(){return this.F}},{key:"Vt",get:function(){return this.H}},{key:"zt",get:function(){return this.G}},{key:"Wt",get:function(){return this.Y}},{key:"Xt",get:function(){return this.j}},{key:"qt",get:function(){return this.Z}},{key:"Gt",get:function(){return this.J}},{key:"Qt",get:function(){return this.K}},{key:"Yt",get:function(){return this.nt}},{key:"jt",get:function(){return this.st}},{key:"Zt",get:function(){return this.et}},{key:"Jt",get:function(){return this.it}},{key:"$t",get:function(){return this.ut}},{key:"Kt",get:function(){return this.ot}},{key:"tn",get:function(){return this.ht}},{key:"nn",get:function(){return this.dt}},{key:"in",get:function(){return this.ct}},{key:"rn",get:function(){return this.ft}},{key:"sn",get:function(){return this._t}},{key:"un",get:function(){return this.wt}},{key:"hn",get:function(){return this.yt}},{key:"an",get:function(){return this.pt}},{key:"cn",get:function(){return this.kt}},{key:"fn",get:function(){return this.At}},{key:"vn",get:function(){return this.bt}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"_n",get:function(){return this.Et}},{key:"wn",get:function(){return this.It}},{key:"gn",get:function(){return this.Rt}},{key:"yn",get:function(){return this.Nt}},{key:"mn",get:function(){return this.Dt}},{key:"pn",get:function(){return this.Ct}},{key:"kn",get:function(){if(!(this.hn||this.sn))return!1;var t=this.nn;return void 0===t||Number(t)<56}},{key:"An",get:function(){return this.xt}},{key:"bn",get:function(){return this.Ot}},{key:"Tn",get:function(){return this.Pt}},{key:"Sn",get:function(){return this.Bt}},{key:"En",get:function(){return this.Lt}},{key:"In",get:function(){return this.Mt}},{key:"Rn",get:function(){return this.vt}}]),n}();B.Nn=new B;var L=B.Nn,M={}.hasOwnProperty,U={}.toString;function F(t){return null!=t}var H=Array.isArray||function(t){return"[object Array]"===U.call(t)};function V(t){return z(t)&&M.call(t,"length")&&Y(t.length)}function z(t){return"object"==typeof t&&null!==t}function W(t){return z(t)&&t.constructor&&t.constructor===l}function X(t){return"string"==typeof t}function q(t){return"boolean"==typeof t}function G(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===U.call(t)}function Y(t){return"number"==typeof t}var j=function(){},Z=function(t){return t};function J(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var h=this,a=e&&!r;void 0!==r&&i.Dn(r),r=i.Cn(function(){r=void 0,e||t.apply(h,u)},n),a&&t.apply(h,u)}}var $=!(L.cn&&!L.fn),K=t.console;function tt(t){if(z(t))try{return JSON.stringify(t)}catch(t){}return t}function nt(t){return t.map(tt).join(" ")}function it(t){var n=K&&K[t];return n?n.bind&&$?n.bind(K):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];K[t](nt(i))}:void 0}var et,rt=it("log")||j,st=it("warn")||rt.bind(void 0,"WARNING:"),ut=it("error")||rt.bind(void 0,"ERROR:"),ot=(et=K&&K.assert)?et.bind&&$?et.bind(K):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];K.assert(t,nt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ut.apply(void 0,["Assertion failed:"].concat(i))}},ht=ct,at=null;try{at=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ct(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function ft(t){return!0===(t&&t.xn)}ct.prototype.xn,l.defineProperty(ct.prototype,"xn",{value:!0}),ct.isLong=ft;var vt={},dt={};function lt(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=dt[t])?e:(i=wt(t,(0|t)<0?-1:0,!0),r&&(dt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=vt[t])?e:(i=wt(t,t<0?-1:0,!1),r&&(vt[t]=i),i)}function _t(t,n){if(y(t))return n?St:Tt;if(n){if(t<0)return St;if(t>=kt)return Dt}else{if(t<=-At)return Ct;if(t+1>=At)return Nt}return t<0?_t(-t,n).neg():wt(t%pt|0,t/pt|0,n)}function wt(t,n,i){return new ct(t,n,i)}ct.fromInt=lt,ct.fromNumber=_t,ct.fromBits=wt;var gt=_.pow;function yt(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Tt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return yt(t.substring(1),n,i).neg();for(var r=_t(gt(i,8)),s=Tt,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),h=w(t.substring(u,u+o),i);if(o<8){var a=_t(gt(i,o));s=s.mul(a).add(_t(h))}else s=(s=s.mul(r)).add(_t(h))}return s.unsigned=n,s}function mt(t,n){return"number"==typeof t?_t(t,n):"string"==typeof t?yt(t,n):wt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ct.fromString=yt,ct.fromValue=mt;var pt=4294967296,kt=pt*pt,At=kt/2,bt=lt(1<<24),Tt=lt(0);ct.ZERO=Tt;var St=lt(0,!0);ct.UZERO=St;var Et=lt(1);ct.ONE=Et;var It=lt(1,!0);ct.UONE=It;var Rt=lt(-1);ct.NEG_ONE=Rt;var Nt=wt(-1,2147483647,!1);ct.MAX_VALUE=Nt;var Dt=wt(-1,-1,!0);ct.MAX_UNSIGNED_VALUE=Dt;var Ct=wt(0,-2147483648,!1);ct.MIN_VALUE=Ct;var xt=ct.prototype;xt.toInt=function(){return this.unsigned?this.low>>>0:this.low},xt.toNumber=function(){return this.unsigned?(this.high>>>0)*pt+(this.low>>>0):this.high*pt+(this.low>>>0)},xt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ct)){var n=_t(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=_t(gt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),h=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},xt.getHighBits=function(){return this.high},xt.getHighBitsUnsigned=function(){return this.high>>>0},xt.getLowBits=function(){return this.low},xt.getLowBitsUnsigned=function(){return this.low>>>0},xt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ct)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},xt.isZero=function(){return 0===this.high&&0===this.low},xt.eqz=xt.isZero,xt.isNegative=function(){return!this.unsigned&&this.high<0},xt.isPositive=function(){return this.unsigned||this.high>=0},xt.isOdd=function(){return 1==(1&this.low)},xt.isEven=function(){return 0==(1&this.low)},xt.equals=function(t){return ft(t)||(t=mt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},xt.eq=xt.equals,xt.notEquals=function(t){return!this.eq(t)},xt.neq=xt.notEquals,xt.ne=xt.notEquals,xt.lessThan=function(t){return this.comp(t)<0},xt.lt=xt.lessThan,xt.lessThanOrEqual=function(t){return this.comp(t)<=0},xt.lte=xt.lessThanOrEqual,xt.le=xt.lessThanOrEqual,xt.greaterThan=function(t){return this.comp(t)>0},xt.gt=xt.greaterThan,xt.greaterThanOrEqual=function(t){return this.comp(t)>=0},xt.gte=xt.greaterThanOrEqual,xt.ge=xt.greaterThanOrEqual,xt.compare=function(t){if(ft(t)||(t=mt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},xt.comp=xt.compare,xt.negate=function(){return!this.unsigned&&this.eq(Ct)?Ct:this.not().add(Et)},xt.neg=xt.negate,xt.add=function(t){ft(t)||(t=mt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,a+=(c+=e+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,wt((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},xt.subtract=function(t){return ft(t)||(t=mt(t)),this.add(t.neg())},xt.sub=xt.subtract,xt.multiply=function(t){if(this.isZero())return Tt;if(ft(t)||(t=mt(t)),at)return wt(at.mul(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned);if(t.isZero())return Tt;if(this.eq(Ct))return t.isOdd()?Ct:Tt;if(t.eq(Ct))return this.isOdd()?Ct:Tt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(bt)&&t.lt(bt))return _t(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=r*h)>>>16,c+=(f+=e*h)>>>16,f&=65535,c+=(f+=r*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=e*o)>>>16,c&=65535,a+=(c+=r*u)>>>16,a+=n*h+i*o+e*u+r*s,wt((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},xt.mul=xt.multiply,xt.divide=function(t){if(ft(t)||(t=mt(t)),t.isZero())throw v("division by zero");var n,i,e;if(at)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?wt((this.unsigned?at.div_u:at.div_s)(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?St:Tt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return St;if(t.gt(this.shru(1)))return It;e=St}else{if(this.eq(Ct))return t.eq(Et)||t.eq(Rt)?Ct:t.eq(Ct)?Et:(n=this.shr(1).div(t).shl(1)).eq(Tt)?t.isNegative()?Et:Rt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(Ct))return this.unsigned?St:Tt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=Tt}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var r=_.ceil(_.log(n)/_.LN2),s=r<=48?1:gt(2,r-48),u=_t(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=_t(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Et),e=e.add(u),i=i.sub(o)}return e},xt.div=xt.divide,xt.modulo=function(t){return ft(t)||(t=mt(t)),at?wt((this.unsigned?at.rem_u:at.rem_s)(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},xt.mod=xt.modulo,xt.rem=xt.modulo,xt.not=function(){return wt(~this.low,~this.high,this.unsigned)},xt.and=function(t){return ft(t)||(t=mt(t)),wt(this.low&t.low,this.high&t.high,this.unsigned)},xt.or=function(t){return ft(t)||(t=mt(t)),wt(this.low|t.low,this.high|t.high,this.unsigned)},xt.xor=function(t){return ft(t)||(t=mt(t)),wt(this.low^t.low,this.high^t.high,this.unsigned)},xt.shiftLeft=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):wt(0,this.low<<t-32,this.unsigned)},xt.shl=xt.shiftLeft,xt.shiftRight=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):wt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},xt.shr=xt.shiftRight,xt.shiftRightUnsigned=function(t){if(ft(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?wt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):wt(32===t?n:n>>>t-32,0,this.unsigned)},xt.shru=xt.shiftRightUnsigned,xt.shr_u=xt.shiftRightUnsigned,xt.toSigned=function(){return this.unsigned?wt(this.low,this.high,!1):this},xt.toUnsigned=function(){return this.unsigned?this:wt(this.low,this.high,!0)},xt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},xt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},xt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ct.fromBytes=function(t,n,i){return i?ct.fromBytesLE(t,n):ct.fromBytesBE(t,n)},ct.fromBytesLE=function(t,n){return new ct(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ct.fromBytesBE=function(t,n){return new ct(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Ot=ht,Pt=_.pow(2,-52);function Bt(t,n,i){return _.min(_.max(t,n),i)}function Lt(t,n,i){return t===n||_.abs(t-n)<=i}function Mt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<Pt||i<_.max(_.abs(t),_.abs(n))*Pt}function Ut(t){return t!=t}function Ft(t,n){return t===n||Ut(t)&&Ut(n)}function Ht(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function Vt(){return Date.now()||(new Date).getTime()}function zt(t){return t/1e3}var Wt,Xt=Ot.fromNumber(9007199254740991);function qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Xt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Gt(t){return t.On===Wt.Pn}function Qt(t){return t.On===Wt.Bn}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Pn=1]="Pn",t[t.Ln=2]="Ln",t[t.Bn=3]="Bn",t[t.Mn=4]="Mn",t[t.Un=9]="Un"}(Wt||(Wt={}));var jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(jt.prototype=l.create(v.prototype)).constructor=jt;var Zt=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Yt(e),e.constructor),e}return S(n,t),b(n,[{key:"name",get:function(){return"BaseError"}}]),n}(jt),Jt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(Zt),$t=function(){function t(){}return t.prototype.Fn=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Jt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Jt;return new un(n)},t}(),Kt=function(){function t(t){this.Hn=void 0,this.Hn=t}var n=t.prototype;return n.Vn=function(t){return this.Hn.isEqualNode(t.Hn)},n.zn=function(n){return new t(this.Hn.cloneNode(n))},b(t,[{key:"On",get:function(){return Wt.Ln}},{key:"Wn",get:function(){var t;return null!=(t=this.Hn.localName)?t:an(this.Hn.nodeName)}},{key:"Xn",get:function(){return this.Hn.nodeName}},{key:"qn",get:function(){var t;return null!=(t=this.Hn.namespaceURI)?t:void 0}},{key:"Gn",get:function(){var t;return null!=(t=this.Hn.prefix)?t:void 0}},{key:"Qn",get:function(){return this.Hn.nodeValue}}]),t}(),tn=function(){function t(t){this.Yn=void 0,this.jn=void 0,this.Yn=t}var n=t.prototype;return n.Zn=function(t){return this.Jn.filter(function(n){return on(n)&&n.$n===t})},n.Kn=function(t,n){return this.Jn.filter(function(i){return on(i)&&i.Wn===n&&i.qn===t})},n.ti=function(t){this.Yn.appendChild(t.ni),this.jn&&this.jn.push(t)},n.Vn=function(t){return this.Yn.isEqualNode(t.ni)},b(t,[{key:"Jn",get:function(){return void 0===this.jn&&(this.jn=function(t){for(var n=[],i=0;i<t.length;i++){var e=hn(t.item(i));e&&n.push(e)}return n}(this.Yn.childNodes)),this.jn}},{key:"ii",get:function(){return this.Jn.filter(on)}},{key:"ni",get:function(){return this.Yn}}]),t}(),nn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ei=function(t){if(this.Yn.hasAttribute(t))return this.Yn.getAttribute(t)},i.ri=function(t,n){if(this.Yn.hasAttributeNS(t,n))return this.Yn.getAttributeNS(t,n)},i.si=function(t){this.Yn.removeAttribute(t)},i.ui=function(t,n){this.Yn.removeAttributeNS(t,n)},i.oi=function(t,n){this.Yn.setAttribute(t,n)},i.hi=function(t,n,i){this.Yn.setAttributeNS(t,n,i)},i.zn=function(t){return new n(this.Yn.cloneNode(t))},b(n,[{key:"On",get:function(){return Wt.Pn}},{key:"Wn",get:function(){var t;return null!=(t=this.Yn.localName)?t:an(this.Yn.nodeName)}},{key:"qn",get:function(){var t;return null!=(t=this.Yn.namespaceURI)?t:void 0}},{key:"Gn",get:function(){var t;return null!=(t=this.Yn.prefix)?t:void 0}},{key:"$n",get:function(){return this.Yn.nodeName}},{key:"ai",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Kt(t.item(i)));return n}(this.Yn.attributes)}},{key:"ci",get:function(){return this.Yn.textContent}}]),n}(tn),en=function(){function t(t){this.Yn=void 0,this.Yn=t}return t.prototype.Vn=function(t){return this.fi===t.fi},b(t,[{key:"fi",get:function(){return this.Yn.nodeValue}},{key:"ni",get:function(){return this.Yn}}]),t}(),rn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.zn=function(t){return new n(this.Yn.cloneNode(t))},b(n,[{key:"On",get:function(){return Wt.Bn}}]),n}(en),sn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.zn=function(t){return new n(this.Yn.cloneNode(t))},b(n,[{key:"On",get:function(){return Wt.Mn}}]),n}(en),un=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.zn=function(t){return new n(this.Yn.cloneNode(t))},b(n,[{key:"On",get:function(){return Wt.Un}},{key:"vi",get:function(){return new nn(this.Yn.documentElement)}}]),n}(tn);function on(t){return Gt(t)}function hn(t){switch(t.nodeType){case Wt.Pn:return new nn(t);case Wt.Bn:return new rn(t);case Wt.Mn:return new sn(t)}}function an(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function cn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function fn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){vn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&vn(i,null,t.length,t),t}function vn(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(r=0;r<a;r+=f)for(u=(s=r+i)+i,s>a&&(s=a),u>a&&(u=a),o=r,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<s)e[c++]=t[o++];else{if(!(h<u))break;e[c++]=t[h++]}}var dn=/[a-zA-Z]/,ln=/[0-9]/,_n=/[0-9a-fA-F]/,wn=/^0x/i,gn=/^[0-9]+$/,yn=/^[0-9a-fA-F]+$/,mn=/^[0-7]+$/,pn=l.prototype.toString,kn=Array.isArray||function(t){return"[object Array]"===pn.call(t)},An="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function bn(t){return kn(t)?t:Array.from(t)}function Tn(t){return t>=65&&t<=90}function Sn(t){return Tn(t)||function(t){return t>=97&&t<=122}(t)}function En(t){return t>=48&&t<=57}function In(t){return En(t)||Sn(t)}function Rn(t){return En(t)||t>=65&&t<=70||t>=97&&t<=102}function Nn(t){return Tn(t)?t+32:t}function Dn(t){return En(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Cn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=_.min,On=String.fromCharCode,Pn=16384;function Bn(t){for(var n=t.length,i=[],e=0;e<n;e+=Pn){var r=xn(e+Pn,n);i.push(On.apply(null,t.slice(e,r)))}return i.join("")}var Ln=/[^\0-\x7E]/,Mn=/[\x2E\u3002\uFF0E\uFF61]/g,Un={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Fn=_.floor,Hn=String.fromCharCode;function Vn(t){throw new RangeError(Un[t])}function zn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Wn,Xn,qn,Gn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Qn=function(t,n,i){var e=0;for(t=i?Fn(t/700):t>>1,t+=Fn(t/n);t>455;e+=36)t=Fn(t/35);return Fn(e+36*t/(t+38))},Yn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Mn,".")).split("."),n).join(".");return e+r}(t,function(t){return Ln.test(t)?"xn--"+function(t){for(var n=[],i=(t=zn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Hn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var _=c+1;f-e>Fn((2147483647-r)/_)&&Vn("overflow"),r+=(f-e)*_,e=f;for(var w=0,g=t;w<g.length;w++){var y=g[w];if(y<e&&++r>2147483647&&Vn("overflow"),y==e){for(var m=r,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(m<k)break;var A=m-k,b=36-k;n.push(Hn(Gn(k+A%b,0))),m=Fn(A/b)}n.push(Hn(Gn(m,0))),s=Qn(r,_,c==a),r=0,++c}}++r,++e}return n.join("")}(t):t})};function jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Bn(n)}function Zn(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Jn(t,n){return t>>n&63|128}function $n(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Zn(t),n.push(t>>12&15|224),n.push(Jn(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Jn(t,12)),n.push(Jn(t,6))),n.push(63&t|128)):n.push(t)}function Kn(t){for(var n=[],i=0;i<t.length;i++){$n(t[i],n)}return n}function ti(){if(qn>=Xn)throw new v("Invalid byte index");var t=255&Wn[qn];if(qn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ni(){var t,n;if(qn>Xn)throw new v("Invalid byte index");if(qn===Xn)return!1;if(t=255&Wn[qn],qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ti())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ti()<<6|ti())>=2048)return Zn(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ti()<<12|ti()<<6|ti())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function ii(t){return[37,Cn(t>>4),Cn(15&t)]}function ei(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ri(t){return ei(t)||32===t||34===t||60===t||62===t||96===t}function si(t){return ri(t)||35===t||63===t||123===t||125===t}function ui(t){return si(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function oi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function hi(t){return oi(t)||39===t}function ai(t,n){if(!n(t))return[t];for(var i=Kn([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,ii(s))}return e}function ci(t,n){for(var i=[],e=0,r=zn(t);e<r.length;e++){var s=r[e];i.push.apply(i,ai(s,n))}return jn(i)}function fi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&Rn(t[e+1])&&Rn(t[e+2])){var s=Dn(t[e+1])<<4|Dn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(Kn(t))}function vi(t){return jn(function(t){Wn=t.slice(),Xn=Wn.length,qn=0;for(var n,i=[];!1!==(n=ni());)i.push(n);return i}(fi(zn(t))))}function di(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&_n.test(t[a]);)c=c<<4|w(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!ln.test(t[a]))throw new d;for(;a<s&&ln.test(t[a]);){var _=w(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var g=o-h;for(o=7;0!==o&&g>0;)e=h+g-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,g-=1}else if(8!==o)throw new d;return u}function li(t){var n=10,i=gn;return wn.test(t)?(t=t.slice(2),n=16,i=yn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=mn),""===t?0:i.test(t)?w(t,n):void 0}var _i={di:4},wi=/[\0\t\n\r #%/:?@\[\\\]]/,gi=/[\0\t\n\r #/:?@\[\\\]]/;function yi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{di:2,li:di(t.slice(1,-1))}}if(!n)return function(t){if(gi.test(t))throw new d("Invalid code point in opaque host");var n=ci(t,ei);return""===n?_i:{di:3,_i:n}}(t);var i=function(t){return function(t){return Yn(t.toLowerCase())}(t)}(vi(t));if(wi.test(i))throw new d("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=li(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==e?{di:1,li:e}:""===i?_i:{di:0,wi:i}}function mi(t){switch(t.di){case 0:return t.wi;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.li);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.li)+"]";case 3:return t._i;case 4:return""}}var pi=/\+/g;function ki(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(pi," "),o=o.replace(pi," ");var h=vi(u),a=vi(o);i.push([h,a])}}return i}function Ai(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=bi(Kn(zn(e[0])))+"="+bi(Kn(zn(e[1])))}return n}function bi(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||In(n)?i.push(r):i.push.apply(i,ii(r))}return Bn(i)}var Ti=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Si(t){var n=""+t,i=Ti.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ii(s))if(Ri(s)||r===i-1)e.push(Ei);else{var u=t.charCodeAt(r+1);Ri(u)?(e.push(s,u),r++):e.push(Ei)}else e.push(s)}return t.slice(0,n)+Bn(e)}(n,i.index):n}var Ei=65533,Ii=function(t){return 55296==(63488&t)},Ri=function(t){return 0!=(1024&t)};function Ni(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Di(t){t.gi.length=0}function Ci(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.gi,ki(n))}function xi(t){if(t.yi){var n=Ai(t.gi);""===n&&(n=null),t.yi.yi.mi=n}}var Oi=function(){function t(t){if(void 0===t&&(t=void 0),this.yi=null,null==t)this.gi=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Oi&&kn(s.gi)&&(!An||s[Symbol.iterator]===Pi))this.gi=t.gi.slice();else if(function(t){return null!=t&&(!!kn(t)||!!An&&"function"==typeof t[Symbol.iterator])}(t)){this.gi=[];for(var n=0,i=bn(t);n<i.length;n++){var e=bn(i[n]);if(2!==e.length)throw new d("Invalid name-value pair");this.gi.push([Si(e[0]),Si(e[1])])}}else for(var r in this.gi=[],t)l.prototype.hasOwnProperty.call(t,r)&&this.gi.push([Si(r),Si(t[r])]);else(t=Si(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.gi=ki(t);var s}var n=t.prototype;return n.append=function(t,n){t=Si(t),n=Si(n),this.gi.push([t,n]),xi(this)},n.delete=function(t){t=Si(t);for(var n=this.gi,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Si(t);for(var n=this.gi,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Si(t);for(var n=this.gi,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Si(t);for(var n=this.gi,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Si(t),n=Si(n);for(var i=this.gi,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){fn(this.gi,Ni),xi(this)},n.toString=function(){return Ai(this.gi)},n.entries=function(){return new Ui(this.gi,Bi)},n.keys=function(){return new Ui(this.gi,Li)},n.values=function(){return new Ui(this.gi,Mi)},n.forEach=function(t){var n=this;this.gi.forEach(function(i){return t(i[1],i[0],n)})},t}(),Pi=Oi.prototype.entries;An&&(Oi.prototype[Symbol.iterator]=Pi);var Bi=function(t){return[t[0],t[1]]},Li=function(t){return t[0]},Mi=function(t){return t[1]},Ui=function(){function t(t,n){this.pi=0,this.gi=t,this.ki=n}return t.prototype.next=function(){return this.pi<this.gi.length?{done:!1,value:this.ki(this.gi[this.pi++])}:{done:!0,value:void 0}},t}(),Fi="null";var Hi=l.create(null);Hi.ftp=21,Hi.file=0,Hi.gopher=70,Hi.http=80,Hi.https=443,Hi.ws=80,Hi.wss=443;var Vi=/^(?:\.|%2e)$/i,zi=/^(?:\.|%2e){2}$/i;function Wi(t){return Vi.test(t)}function Xi(t){return zi.test(t)}function qi(t){return void 0!==Hi[t]}function Gi(t){return qi(t.Ai)}function Qi(t){return""!==t.bi||""!==t.Ti}function Yi(t){var n=t.length;if(!(n>=2))return!1;if(!Zi(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ji(t){return 2===t.length&&dn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Zi(t){return 2===t.length&&ji(Bn(t))}function Ji(t){return ji(t)&&":"===t[1]}function $i(t){var n=t.Si;0!==n.length&&("file"===t.Ai&&1===n.length&&Ji(n[0])||n.pop())}function Ki(t){return null===t.Ei||_i===t.Ei||t.Ii||"file"===t.Ai}var te=-1,ne=/\t|\n|\r/g,ie=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ee(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new se,t=t.replace(ie,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=zn(t=t.replace(ne,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:te;switch(r){case 0:if(!Sn(v)){if(null===e){s.length=0,r=2;continue}throw new d("Invalid scheme")}s.push(Nn(v)),r=1;break;case 1:if(In(v)||43===v||45===v||46===v)s.push(Nn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new d("Invalid scheme")}var l=jn(s);if(null!==e){if(qi(i.Ai)&&!qi(l))return;if(!qi(i.Ai)&&qi(l))return;if((Qi(i)||null!==i.Ri)&&"file"===l)return;if("file"===i.Ai&&(i.Ei===_i||null===i.Ei))return}if(i.Ai=l,null!==e)return void(Gi(i)&&i.Ri===Hi[i.Ai]&&(i.Ri=null));s.length=0,"file"===i.Ai?r=13:Gi(i)&&n&&n.Ai===i.Ai?r=3:Gi(i)?r=7:47===a[f+1]?(r=4,f+=1):(i.Ii=!0,i.Si.push(""),r=18)}break;case 2:if(!n||n.Ii&&35!==v)throw new d("Invalid scheme");n.Ii&&35===v?(i.Ai=n.Ai,i.Si=n.Si.slice(),i.mi=n.mi,i.Ni="",i.Ii=!0,r=20):"file"!==n.Ai?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===a[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.Ai=n.Ai,te===v?(i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.mi=n.mi):47===v?r=6:63===v?(i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.mi="",r=19):35===v?(i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.mi=n.mi,i.Ni="",r=20):92===v&&Gi(i)?r=6:(i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,i.Si=n.Si.slice(),i.Si.pop(),r=17,f-=1);break;case 6:!Gi(i)||47!==v&&92!==v?47===v?r=9:(i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ri=n.Ri,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==a[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var g=s[_];if(58!==g||h){var y=jn(ai(g,ui));h?i.Ti+=y:i.bi+=y}else h=!0}s.length=0}else if(te===v||47===v||63===v||35===v||Gi(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.Ai)f-=1,r=15;else if(58!==v||o)if(te===v||47===v||63===v||35===v||Gi(i)&&92===v){if(f-=1,Gi(i)&&0===s.length)throw new d("Invalid host");if(null!==e&&0===s.length&&(Qi(i)||null!==i.Ri))return;var m=yi(jn(s),Gi(i));if(i.Ei=m,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var p=yi(jn(s),Gi(i));if(i.Ei=p,s.length=0,r=12,11===e)return}break;case 12:if(En(v))s.push(v);else{if(!(te===v||47===v||63===v||35===v||Gi(i)&&92===v||null!==e))throw new d("Invalid port");if(0!==s.length){var k=w(jn(s),10);if(k>65535)throw new d("Invalid port");i.Ri=k===Hi[i.Ai]?null:k,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.Ai="file",47===v||92===v?r=14:n&&"file"===n.Ai?te===v?(i.Ei=n.Ei,i.Si=n.Si.slice(),i.mi=n.mi):63===v?(i.Ei=n.Ei,i.Si=n.Si.slice(),i.mi="",r=19):35===v?(i.Ei=n.Ei,i.Si=n.Si.slice(),i.mi=n.mi,i.Ni="",r=20):(Yi(a.slice(f))||(i.Ei=n.Ei,i.Si=n.Si.slice(),$i(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.Ai&&!Yi(a.slice(f))&&(Ji(n.Si[0])?i.Si.push(n.Si[0]):i.Ei=n.Ei),r=17,f-=1);break;case 15:if(te===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&Zi(s))r=17;else if(0===s.length){if(i.Ei=_i,null!==e)return;r=16}else{var A=yi(jn(s),Gi(i));if(0===A.di&&"localhost"===A.wi&&(A=_i),i.Ei=A,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Gi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.mi="",r=19):null===e&&35===v?(i.Ni="",r=20):te!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(te===v||47===v||Gi(i)&&92===v||null===e&&(63===v||35===v)){var b=jn(s);if(Xi(b)?($i(i),47===v||Gi(i)&&92===v||i.Si.push("")):!Wi(b)||47===v||Gi(i)&&92===v?Wi(b)||("file"===i.Ai&&0===i.Si.length&&Zi(s)&&(_i!==i.Ei&&null!==i.Ei&&(i.Ei=_i),s[1]=58,b=jn(s)),i.Si.push(b)):i.Si.push(""),s.length=0,"file"===i.Ai&&(te===v||63===v||35===v))for(;i.Si.length>1&&""===i.Si[0];)i.Si.shift();63===v?(i.mi="",r=19):35===v&&(i.Ni="",r=20)}else s.push.apply(s,ai(v,si));break;case 18:63===v?(i.mi="",r=19):35===v?(i.Ni="",r=20):te!==v&&(i.Si[0]+=jn(ai(v,ei)));break;case 19:null===e&&35===v?(i.Ni="",r=20):te!==v&&(i.mi+=jn(ai(v,Gi(i)?hi:oi)));break;case 20:te===v||0===v||(i.Ni+=jn(ai(v,ri)))}f++}return i}function re(t,n,i,e){try{ee(t,n,i,e)}catch(t){}}var se=function(){this.Ai="",this.bi="",this.Ti="",this.Ei=null,this.Ri=null,this.Si=[],this.mi=null,this.Ni=null,this.Ii=!1};function ue(t){switch(t.Ai){case"blob":var n;try{n=ee(t.Si[0],null)}catch(t){return Fi}return ue(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Ai,e=t.Ei,r=t.Ri,i+"://"+mi(e)+(null===r?"":":"+r);case"file":default:return Fi}var i,e,r}var oe,he,ae,ce,fe,ve,de=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof de&&"object"==typeof i.yi)r=n.yi;else try{r=ee(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{e=ee(String(t),r)}catch(t){throw new d("Invalid URL: "+t.message)}var s=e.mi;this.yi=e,this.mi=function(t){var n=new Oi;return null!==t&&Ci(n,t),n}(s),this.mi.yi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Ai+":";if(null!==t.Ei?(i+="//",Qi(t)&&(i+=t.bi,""!==t.Ti&&(i+=":"+t.Ti),i+="@"),i+=mi(t.Ei),null!==t.Ri&&(i+=":"+t.Ri)):null===t.Ei&&"file"===t.Ai&&(i+="//"),t.Ii)i+=t.Si[0];else for(var e=0,r=t.Si;e<r.length;e++)i+="/"+r[e];return null!==t.mi&&(i+="?"+t.mi),n||null===t.Ni||(i+="#"+t.Ni),i}(this.yi)},set:function(t){var n;try{n=ee(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.yi=n,Di(this.mi);var i=this.yi.mi;null!==i&&Ci(this.mi,i)}},{key:"origin",get:function(){return ue(this.yi)}},{key:"protocol",get:function(){return this.yi.Ai+":"},set:function(t){re(t+":",null,this.yi,0)}},{key:"username",get:function(){return this.yi.bi},set:function(t){Ki(this.yi)||(this.yi.bi=ci(t,ui))}},{key:"password",get:function(){return this.yi.Ti},set:function(t){Ki(this.yi)||(this.yi.Ti=ci(t,ui))}},{key:"host",get:function(){var t=this.yi,n=t.Ei;if(null===n)return"";var i=t.Ri,e=mi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.yi.Ii||re(t,null,this.yi,10)}},{key:"hostname",get:function(){var t=this.yi.Ei;return null===t?"":mi(t)},set:function(t){this.yi.Ii||re(t,null,this.yi,11)}},{key:"port",get:function(){var t=this.yi.Ri;return null===t?"":""+t},set:function(t){Ki(this.yi)||(""===t?this.yi.Ri=null:re(t,null,this.yi,12))}},{key:"pathname",get:function(){var t=this.yi.Si;return this.yi.Ii?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.yi.Ii||(this.yi.Si.length=0,re(t,null,this.yi,16))}},{key:"search",get:function(){var t=this.yi.mi;return null===t||""===t?"":"?"+t},set:function(t){t=Si(t);var n=this.yi;if(""===t)return n.mi=null,void Di(this.mi);"?"===t[0]&&(t=t.slice(1)),n.mi="",re(t,null,n,19),Ci(this.mi,t)}},{key:"searchParams",get:function(){return this.mi}},{key:"hash",get:function(){var t=this.yi.Ni;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.yi.Ni="",re(t,null,this.yi,20)):this.yi.Ni=null}}])&&cn(n.prototype,i),e&&cn(n,e),t}();function le(t){return t.document&&t.document.baseURI||t.location.href||""}var _e=h;function we(t){return Boolean(t&&void 0!==t.length)}function ge(){}function ye(t){if(!(this instanceof ye))throw new d("Promises must be constructed via new");if("function"!=typeof t)throw new d("not a function");this.Di=0,this.Ci=!1,this.xi=void 0,this.Oi=[],Te(t,this)}function me(t,n){for(;3===t.Di;)t=t.xi;0!==t.Di?(t.Ci=!0,ye.Pi(function(){var i=1===t.Di?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.xi)}catch(t){return void ke(n.promise,t)}pe(n.promise,e)}else(1===t.Di?pe:ke)(n.promise,t.xi)})):t.Oi.push(n)}function pe(t,n){try{if(n===t)throw new d("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof ye)return t.Di=3,t.xi=n,void Ae(t);if("function"==typeof i)return void Te((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.Di=1,t.xi=n,Ae(t)}catch(n){ke(t,n)}var e,r}function ke(t,n){t.Di=2,t.xi=n,Ae(t)}function Ae(t){2===t.Di&&0===t.Oi.length&&ye.Pi(function(){t.Ci||ye.Bi(t.xi)});for(var n=0,i=t.Oi.length;n<i;n++)me(t,t.Oi[n]);t.Oi=null}function be(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Te(t,n){var i=!1;try{t(function(t){i||(i=!0,pe(n,t))},function(t){i||(i=!0,ke(n,t))})}catch(t){if(i)return;i=!0,ke(n,t)}}ye.prototype.catch=function(t){return this.then(null,t)},ye.prototype.then=function(t,n){var i=new this.constructor(ge);return me(this,new be(t,n,i)),i},ye.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},ye.all=function(t){return new ye(function(n,i){if(!we(t))return i(new d("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},ye.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new d(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},ye.resolve=function(t){return t&&"object"==typeof t&&t.constructor===ye?t:new ye(function(n){n(t)})},ye.reject=function(t){return new ye(function(n,i){i(t)})},ye.race=function(t){return new ye(function(n,i){if(!we(t))return i(new d("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)ye.resolve(t[e]).then(n,i)})},ye.Pi="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_e(t,0)},ye.Bi=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Se=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ee=o?o.userAgent:"",Ie=Ee.match(/Firefox\/([0-9]+)/i),Re=null!=Ie,Ne=Ie?Number(Ie[1]):0,De=Ee.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Ce=null!=De,xe=De?Number(De[3]):0,Oe=function(){function t(t){this.Li=0,this.Mi=0,this._i=[],this.Ui=t}return t.prototype.Fi=function(t){var n=this.length();this.Hi(n+1);var i=this.Mi+n&this.Ui-1;this._i[i]=t,this.Li=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Ui<n)this.Fi(t);else{var i=this.Mi+n-1,e=this.Ui-1;this._i[i&e]=t,this.Li=n}},t.prototype.shift=function(){var t=this.Mi,n=this._i[t];return this._i[t]=void 0,this.Mi=t+1&this.Ui-1,this.Li--,n},t.prototype.length=function(){return this.Li},t.prototype.Hi=function(t){this.Ui<t&&this.Vi(this.Ui<<1)},t.prototype.Vi=function(t){var n=this.Ui;this.Ui=t;var i=this.Mi+this.Li&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this._i,0,n,i)},t}();var Pe="unhandledrejection",Be=t.PromiseRejectionEvent,Le=t.CustomEvent;function Me(t){return new Be(Pe,{reason:t,promise:Se.reject(t).catch(function(){}),cancelable:!0})}function Ue(t){var n=new Le(Pe,{detail:{reason:t},cancelable:!0});return l.defineProperty(n,"reason",{value:t}),n}function Fe(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Pe,!1,!0,{reason:t}),n}var He,Ve,ze,We,Xe,qe,Ge,Qe=function(t){return(Qe=function(){try{var t=Se.resolve(),n=new Be(Pe,{reason:"error",promise:t});return Pe===n.type&&"error"===n.reason}catch(t){}return!1}()?Me:function(){try{var t=new Le(Pe,{detail:{reason:"error"}});return Pe===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Ue:Fe)(t)};if(Se&&!(Re&&Ne<60||Ce&&xe<15))Ve=Se,function(){};else{Ve=ye;var Ye=null!==(He=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Se;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==He?He:ye.Pi,je=(ze=Ye,We=new Oe(16),Xe=!1,{zi:function(t){We.push(t),Xe||(Xe=!0,ze(qe))},Wi:qe=function(){for(;We.length()>0;)We.shift()();Xe=!1}});je.Wi,ye.Pi=je.zi,ye.Bi=function(n){try{var i=Qe(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}h(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function Ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Je(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function $e(t,n){L.sn&&L.un<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ke(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function tr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function nr(t){t.removeAttribute("title")}function ir(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function er(t){t.src&&(t.removeAttribute("src"),t.load())}function rr(){return void 0!==s?s.createElement("video"):void 0}function sr(){return Ge||(Ge=rr()),Ge}var ur=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),or=sr(),hr=!(!or||!or.webkitShowPlaybackTargetPicker),ar=function(){function t(){this.Xi=void 0,this.qi=!1,this.Ut=ur,this.$t=!1,this.Gi=!0,this.Qi=!0}var n=t.prototype;return n.Yi=function(){return 0},n.ji=function(t,n){return!0},n.Zi=function(t){return t>=1/6*2},b(t,[{key:"Ji",get:function(){return void 0===this.Xi&&(this.Xi=this.Yi()),this.Xi}},{key:"$i",get:function(){return r.devicePixelRatio||1}},{key:"Ki",get:function(){return hr}},{key:"te",get:function(){return!1}},{key:"ie",get:function(){return!0}},{key:"ee",get:function(){return L.Ft||L.jt}},{key:"re",get:function(){return!0}},{key:"se",get:function(){return!0}},{key:"ue",get:function(){}},{key:"oe",get:function(){return!0}}]),t}(),cr=function(){var t=rr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(L.Qt)return!1;var t=rr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var fr=function(t){function n(n){var i;return(i=t.call(this)||this).he=void 0,i.he=n,i.he&&(i.qi=i.he.qi,i.Ut=i.he.Ut,i.Gi=cr&&i.he.Gi),i}S(n,t);var i=n.prototype;return i.Yi=function(){return this.he?this.he.Ji:t.prototype.Yi.call(this)},i.ji=function(n,i){return this.he?this.he.ji(n,i):t.prototype.ji.call(this,n,i)},i.Zi=function(n){return this.he?this.he.Zi(n):t.prototype.Zi.call(this,n)},b(n,[{key:"ue",get:function(){var t;return null==(t=this.he)?void 0:t.ue}},{key:"oe",get:function(){var t,n;return null==(t=null==(n=this.he)?void 0:n.oe)||t}}]),n}(ar),vr=function(t){function n(n){var i;return(i=t.call(this,n)||this).qi=!0,i.$t=!0,i}return S(n,t),n}(fr),dr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Yi=function(){return ce.MediaSource?t.prototype.Yi.call(this):1},n}(vr),lr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.ji=function(n,i){return t.prototype.ji.call(this,n,i)},b(n,[{key:"te",get:function(){return L.un<3}},{key:"ie",get:function(){return L.un>=3}}]),n}(fr),_r=function(t){function n(){return t.call(this)||this}return S(n,t),n}(ar),wr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.ji=function(t,n){if(t&&t.ae&&n&&n.ae){var i=gr(t.ae,"mp4a.40.2")&&gr(n.ae,"mp4a.40.5"),e=gr(t.ae,"mp4a.40.5")&&gr(n.ae,"mp4a.40.2"),r=gr(t.ae,"mp4a.40.2")&&gr(n.ae,"mp4a.40.34"),s=gr(t.ae,"mp4a.40.34")&&gr(n.ae,"mp4a.40.2"),u=gr(t.ae,"mp4a.40.5")&&gr(n.ae,"mp4a.40.34"),o=gr(t.ae,"mp4a.40.34")&&gr(n.ae,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},b(n,[{key:"ue",get:function(){if(L.Ft)return 4096}}]),n}(_r);function gr(t,n){return t.indexOf(n)>-1}var yr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Zi=function(t){return t>=2},n}(_r),mr=function(t){function n(){var n;return(n=t.call(this)||this).qi=L.wn>=11,n.Gi=L._n&&!(L.jt&&L.wn<10),n}return S(n,t),n}(_r),pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),b(n,[{key:"re",get:function(){return!1}}]),n}(fr),kr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),b(n,[{key:"oe",get:function(){return!L.Ht||!!L.in&&92!==L.rn}}]),n}(_r),Ar=function(){function n(){var n;this.ce=void 0,this.fe=new $t,this.ve=new br,this.de=(n=function(){if(L.dn)return new wr;if(L.an||L.cn)return new yr;if(L._n)return new mr;if(L.tn)return new kr;return new _r}(),L.jt?new dr(n):L.$t?new vr(n):L.sn?new lr(n):L.hn?new pr(n):new fr(n)),this._e=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ce=function(){return t.performance.now()}:this.ce=Vt}var i=n.prototype;return i.we=function(){rt.apply(void 0,arguments)},i.ye=function(){st.apply(void 0,arguments)},i.me=function(){ut.apply(void 0,arguments)},i.pe=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ot.apply(void 0,[t].concat(i))},i.Cn=function(t,n){return h(t,n)},i.ke=function(t,n){return c(t,n)},i.Dn=function(t){a(t)},i.Ae=function(t){f(t)},i.Fn=function(t){return this.fe.Fn(t)},i.be=function(){return this.Te.be()},i.Se=function(){return this.Te.Se()},i.Ee=function(){return this.Te.Ee()},i.Ie=function(){return this.Te.Ie()},i.Re=function(){return this.Te.Re()},i.Ne=function(t,n){return this.Te.Ne(t,n)},i.De=function(t){return this.Te.De(t)},i.Ce=function(t,n){var i;return void 0===n&&(n=le(ce)),i="object"!=typeof n||n instanceof de?n:n.href,new de(t,i)},i.xe=function(n,i){if(void 0===i&&(i=le(ce)),this._e){var e=X(i)?i:i.toString();return new t.URL(n,e).href}return this.Ce(n,i).href},b(n,[{key:"Oe",get:function(){return this.ve}},{key:"Pe",get:function(){return this.de}},{key:"Be",get:function(){return{Le:o&&o.userAgent.match(/Android /i)?"Android":"other",Me:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Ue",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fe",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),br=function(){function t(){}return b(t,[{key:"He",get:function(){return o.oscpu}},{key:"Pe",get:function(){return o.platform}},{key:"Ve",get:function(){return o.vendor}},{key:"ze",get:function(){return o.vendorSub}}]),t}();function Tr(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var Sr=Tr(function(t){!function(t){var n,i=l.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function h(t,n,i,e){var r=n&&n.prototype instanceof m?n:m,s=l.create(r.prototype),u=new C(e||[]);return s.We=function(t,n,i){var e=c;return function(r,s){if(e===_)throw new v("Generator is already running");if(e===w){if("throw"===r)throw s;return O()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=R(u,i);if(o){if(o===g)continue;return o}}if("next"===i.method)i.sent=i.Xe=i.arg;else if("throw"===i.method){if(e===c)throw e=w,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=_;var h=a(t,n,i);if("normal"===h.type){if(e=i.done?w:f,h.arg===g)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=w,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",w="completed",g={};function m(){}function p(){}function k(){}var A={};A[s]=function(){return this};var b=l.getPrototypeOf,T=b&&b(b(x([])));T&&T!==i&&e.call(T,s)&&(A=T);var S=k.prototype=m.prototype=l.create(A);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.We(n,t)}})}function I(t){var n;this.We=function(i,r){function s(){return new Ve(function(n,s){!function n(i,r,s,u){var o=a(t[i],t,r);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&e.call(c,"qe")?Ve.resolve(c.qe).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Ve.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function R(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,R(t,i),"throw"===i.method))return g;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return g}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,g;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,g):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,g)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:O}}function O(){return{value:n,done:!0}}p.prototype=S.constructor=k,k.constructor=p,k[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{qe:t}},E(I.prototype),I.prototype[u]=function(){return this},t.AsyncIterator=I,t.async=function(n,i,e,r){var s=new I(h(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=x,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Xe=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),a=e.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,g):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:x(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),g}}}(t.exports)});function Er(){return(Er=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)l.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Ir(){var t=l.create(null);return t.Ge=void 0,delete t.Ge,t}function Rr(){return new Or}function Nr(){return new Br}function Dr(t){var n=Rr();for(var i in t)M.call(t,i)&&n.set(i,t[i]);return n}var Cr,xr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Or=xr||(Cr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Ir(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ir(),this.size=0},n.keys=function(){return new Cr(this.data,function(t,n){return n})},n.values=function(){return new Cr(this.data,function(t,n){return t[n]})},n.entries=function(){return new Cr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Pr,Br=xr||(Pr=function(){function t(t,n){this.Qe=void 0,this.Ye=void 0,this.Qe=t,this.Ye=n}var n=t.prototype;return n.next=function(){var t=this.Qe.next();return t.done?t:{value:this.Ye(t.value),done:!1}},t}(),function(){function t(){this.je=Rr()}var n=t.prototype;return n.get=function(t){return this.je.get(""+t)},n.set=function(t,n){return this.je.set(""+t,n),this},n.has=function(t){return this.je.has(""+t)},n.delete=function(t){return this.je.delete(""+t)},n.clear=function(){this.je.clear()},n.keys=function(){return new Pr(this.je.keys(),function(t){return Number(t)})},n.values=function(){return this.je.values()},n.entries=function(){return new Pr(this.je.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.je.forEach(function(n,i){t(n,Number(i))})},b(t,[{key:"size",get:function(){return this.je.size}}]),t}());var Lr,Mr="urn:mpeg:dash:mp4protection:2011",Ur="cenc",Fr="sinf",Hr="skd",Vr="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",zr="com.microsoft.playready",Wr="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Xr="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",qr="urn:uuid:"+Xr,Gr="com.apple.fps.1_0";!function(t){t.Ze="playready",t.Je="widevine",t.$e="fairplay",t.Ke="clearkey",t.tr="aes128"}(Lr||(Lr={}));var Qr={nr:Lr.Ze,ir:zr,er:"cenc",rr:"9a04f079-9840-4286-ab92-e65be0885f95",sr:Vr,ur:"PlayReady"},Yr={nr:Lr.Je,ir:"com.widevine.alpha",er:"cenc",rr:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",sr:Wr,ur:"Widevine"},jr={nr:Lr.$e,ir:Gr,er:"skd",rr:Xr,sr:qr,ur:"FairPlay"},Zr=(Lr.$e,{nr:Lr.Ke,ir:"org.w3.clearkey",er:"cenc",rr:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",sr:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ur:"ClearKey"}),Jr=[Qr,Yr,jr,Zr];function $r(t){return Jr.filter(function(n){return n.sr===t.toLowerCase()})}function Kr(t,n,i){return t.split(n).join(i)}function ts(t,n){return null!=t&&-1!==t.indexOf(n)}function ns(t,n){return null!=t&&t.substr(0,n.length)===n}function is(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function es(t,n){return t.toUpperCase()===n.toUpperCase()}function rs(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function ss(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=rs(e,r/e.length)),e.slice(0,r)+t)}function us(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return hs(n)}var os=16384;function hs(t){var n=t.length;if(n<=os)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=os)i.push(String.fromCharCode.apply(String,t.slice(e,e+os)));return i.join("")}var as=L.tn&&L.nn>=42||L.dn&&L.ln>=38||L.an||L.fn||L.gn&&L.yn>=29;function cs(t,n){return ts(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Er({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Er({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function fs(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function vs(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var ds,ls=function(){function t(t){this.hr=void 0,this.ar=Rr(),this.cr=void 0,this.hr=t}var n=t.prototype;return n.Re=function(){return this.De(Yr)},n.Se=function(){return this.De(Zr)},n.Ie=function(){return this.De(Qr)},n.Ee=function(){return this.De(jr)},n.De=function(t){var n=t.sr,i=this.ar.get(n);if(i)return i;var e=this.Ne(t,'video/mp4; codecs="avc1.42000a"');return this.ar.set(n,e),e},n.Ne=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Sr.awrap(this.hr.dr(t.ir,[cs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Sr.awrap(this.hr.dr(t.ir,[cs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],Ve)},n.be=function(){return this.cr||(this.cr=this._r()),this.cr},n._r=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==fe.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(as){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Sr.awrap(this.Se());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,Ve)},t}();function _s(t,n){return gs(t.slice(),n)}function ws(t,n){var i=gs(t,n);return i!==t&&ys(i,void 0,t.length,t),t}function gs(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){ys(i,n,s,r);var u=i;i=r,r=u}return i}function ys(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(r=(u=s+i)+i,u>a&&(u=a),r>a&&(r=a),o=s,h=u;;)if(o<u&&h<r)n&&n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<u)e[c++]=t[o++];else{if(!(h<r))break;e[c++]=t[h++]}}!function(t){t[t.wr=0]="wr",t[t.gr=1]="gr",t[t.yr=-1]="yr"}(ds||(ds={}));var ms=function(t,n){return(0|t)-(0|n)},ps=function(t,n){return t===n?ds.wr:t<n?ds.yr:t>n?ds.gr:y(t)?y(n)?ds.wr:ds.gr:ds.yr};function ks(t,n,i){return Lt(t,n,i)?ds.wr:ps(t,n)}var As=function(t,n){return Mt(t,n)?ds.wr:ps(t,n)};function bs(t,n,i){var e=Ts(t,n,i);return-1===e?void 0:t[e]}function Ts(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Ss(t,n){var i=t.indexOf(n);return-1!==i&&(Es(t,i),!0)}function Es(t,n){t.splice(n,1)}function Is(t,n){return-1!==t.indexOf(n)}function Rs(t){t.length=0}function Ns(t){var n;return(n=[]).concat.apply(n,t)}function Ds(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Cs(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Sr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,Ve)}function xs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Os=function(){function t(){this.mr=!1,this.pr=!1,this.kr=[],this.Ar=[]}var n=t.prototype;return n.Tr=function(){if(!this.mr&&!this.pr){this.mr=!0;for(var t=0,n=this.kr.slice();t<n.length;t++){(0,n[t])()}this.Sr()}},n.Sr=function(){if(!this.pr){this.pr=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}Rs(this.kr),Rs(this.Ar)}},n.Er=function(t){this.pr||this.kr.push(t)},n.Ir=function(t){this.pr||Ss(this.kr,t)},n.Rr=function(t){this.pr||this.Ar.push(t)},n.Nr=function(t){this.pr||Ss(this.Ar,t)},t}(),Ps=function(){function t(){this.Dr=new Os}var n=t.prototype;return n.Cr=function(){this.Dr.Tr()},n.Sr=function(){this.Dr.Sr()},n.xr=function(t){var n=this.Dr;if(!n.mr)if(t.mr)n.Tr();else if(!n.pr&&!t.pr){var i=function(){e(),n.Tr()},e=function e(){t.Ir(i),t.Nr(e),n.Ir(i),n.Nr(e)};t.Er(i),t.Rr(e),n.Er(i),n.Rr(e)}},n.Or=function(){var n=new t,i=new t,e=n.Pr,r=i.Pr,s=this.Dr,u=function(){e.mr&&r.pr||r.mr&&e.pr?s.Tr():e.pr&&r.pr&&s.Sr()};e.Er(u),r.Er(u),e.Rr(u),r.Rr(u),n.xr(s),i.xr(s);return s.Rr(function(){e.Ir(u),r.Ir(u),e.Nr(u),r.Nr(u)}),[n,i]},b(t,[{key:"Pr",get:function(){return this.Dr}}]),t}(),Bs=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),b(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Zt);function Ls(t){return t instanceof v&&"AbortError"===t.name}function Ms(t){if(t&&t.mr)throw new Bs}function Us(t){if(Ls(t))throw t}function Fs(t){if(!Ls(t))throw t}function Hs(t,n){return n?new Ve(function(i,e){if(n.mr)return t.catch(j),e(new Bs);var r=function t(){n.Ir(t),e(new Bs)};n.Er(r),t.then(function(t){n.Ir(r),i(t)},function(t){n.Ir(r),e(t)})}):t}function Vs(t,n){return t.then(function(t){return n.Sr(),t},function(t){throw n.Sr(),t})}function zs(t,n){var i=new Ps;return n&&i.xr(n),t(i.Pr).then(function(t){return i.Cr(),t},function(t){throw i.Cr(),t})}var Ws=Ve.resolve();function Xs(t){Ws.then(t)}function qs(t){t.then(j,j)}function Gs(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Sr.awrap(Ve.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Sr.awrap(Ve.all(t.map(function(t){return t.catch(j)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],Ve)}function Qs(t,n){return new Ve(function(e,r){if(void 0!==n&&n.mr)r(new Bs);else{var s=i.Cn(function(){void 0!==n&&n.Ir(u),e()},t),u=function(){i.Dn(s),r(new Bs)};void 0!==n&&n.Er(u)}})}function Ys(t){return t&&"function"!=typeof t?t.slice():t}function js(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Zs,Js=function(){function t(t){var n=this;this.Br=Ir(),this.Lr=void 0,this.Mr=void 0,this.Ur=function(t){n.Fr(t)},this.Mr=t||this}var n=t.prototype;return n.Hr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Vr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.Vr(e,n)}},n.Vr=function(t,n){var i=this.Br[t];i?"function"==typeof i?this.Br[t]=[i,n]:i.push(n):this.Br[t]=n},n.zr=function(t){if("function"==typeof t){var n=this.Lr;n?"function"==typeof n?this.Lr=[n,t]:n.push(t):this.Lr=t}},n.Wr=function(){this.Br=Ir(),this.Lr=void 0},n.Fr=function(t){var n=Ys(this.Br[t.type]),i=Ys(this.Lr);js(this.Mr,t,n),js(this.Mr,t,i)},n.Xr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.qr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.qr(e,n)}},n.qr=function(t,n){var i=this.Br[t];i&&("function"==typeof i?i===n&&(this.Br[t]=void 0):Ss(i,n))},n.Gr=function(t){if("string"==typeof t)this.Br[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Br[i]=void 0}},n.Qr=function(t){var n=this.Lr;n&&("function"==typeof n?n===t&&(this.Lr=void 0):Ss(n,t))},n.Yr=function(t,n){var i=this;return new Ve(function(e,r){if(n&&n.mr)return r(new Bs);var s=function(t){o(),e(t)},u=function(){o(),r(new Bs)},o=function(){i.Xr(t,s),n&&n.Ir(u)};i.Hr(t,s),n&&n.Er(u)})},t}(),$s=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Fr=function(n){var i=this;Xs(function(){t.prototype.Fr.call(i,n)})},n}(Js),Ks=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},tu=["cenc"],nu=["cbcs","cbcs-1-9"],iu=function(t){function n(n){var i;return(i=t.call(this,"Zr")||this).jr=n,i}return S(n,t),n}(Ks),eu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"Jr")||this).jr=n,s.$r=i,s.Jr=e,s.Kr=r,s}return S(n,t),n}(Ks),ru=function(t){function n(){return t.call(this,"ts")||this}return S(n,t),n}(Ks);!function(t){t.es="rs",t.ss="us"}(Zs||(Zs={}));var su=function(t){function n(n,i){var e;return(e=t.call(this,Zs.es)||this).er=n,e.os=i,e}return S(n,t),n}(Ks),uu=function(t){function n(){return t.call(this,Zs.ss)||this}return S(n,t),n}(Ks),ou=new m([0]).buffer,hu=function(){function t(){this.hs=void 0,this.hs=[]}var n=t.prototype;return n.as=function(t){for(var n=0,i=this.hs;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.cs=function(t){for(var n=0,i=this.hs;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.fs=function(t,n){this.hs.forEach(function(n){return t(n[1],n[0])},n)},n.vs=function(t,n){this.hs.push([t,n])},n.ds=function(){Rs(this.hs)},b(t,[{key:"ls",get:function(){return this.hs.length}}]),t}(),au="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),cu=16383,fu=/[\t\n\f\r ]/g;function vu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:du()}function du(){throw new v("Invalid base64 input")}function lu(t){var n=t;fu.test(n)&&(n=n.replace(fu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return du();for(var r,s=0===e?0:4-e,u=new m(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)r=vu(n.charCodeAt(h))<<18|vu(n.charCodeAt(h+1))<<12|vu(n.charCodeAt(h+2))<<6|vu(n.charCodeAt(h+3)),u[a++]=r>>16&255,u[a++]=r>>8&255,u[a++]=255&r;return 2===s?(r=vu(n.charCodeAt(h))<<2|vu(n.charCodeAt(h+1))>>4,u[a++]=255&r):1===s&&(r=vu(n.charCodeAt(h))<<10|vu(n.charCodeAt(h+1))<<4|vu(n.charCodeAt(h+2))>>2,u[a++]=r>>8&255,u[a++]=255&r),u}function _u(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],au[e>>2]+au[(3&e)<<4|r>>4]+au[(15&r)<<2|s>>6]+au[63&s]));return u.join("")}function wu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=cu)e.push(_u(t,s,_.min(r,s+cu)));if(1===i){var u=t[n-1];e.push(au[u>>2]+au[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];e.push(au[o>>2]+au[(3&o)<<4|h>>4]+au[(15&h)<<2]+"=")}return e.join("")}var gu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],yu=ArrayBuffer.isView||function(t){return t&&Is(gu,U.call(t))};function mu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new m(t),new m(n))}function pu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return ku(t,n)}function ku(t,n){for(var i=new m(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Au(t){return lu(t).buffer}function bu(t){return wu(new m(t))}function Tu(t){return wu(so(t))}var Su=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ps=function(){return new t(this.ks)},b(t,[{key:"ks",get:function(){return this._s}}]),t}();function Eu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Iu(t,n){return t>>n&63|128}function Ru(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Eu(t),n.push(t>>12&15|224),n.push(Iu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Iu(t,12)),n.push(Iu(t,6))),n.push(63&t|128)):n.push(t)}function Nu(t,n){if(n.ks>=t.length)throw new v("Invalid byte index");var i=255&t[n.ks];if(n.gs(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Du(t,n){var i=n.ks;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.gs(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Nu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Nu(t,n)<<6|Nu(t,n);if(s>=2048)return Eu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Nu(t,n)<<12|Nu(t,n)<<6|Nu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Cu=65279;var xu=[128,64,32,16,8,4,2,1],Ou=function(){function t(t){this.As=t}return t.prototype.bs=function(t){return Pu(this.As,t)},t}();function Pu(t,n){return(t&n)===n}function Bu(t,n){return Pu(t,xu[n])}function Lu(t,n){var i=t.getUint8(n.ks);return n.gs(1),i}function Mu(t,n,i){t.setUint8(n.ks,i),n.gs(1)}function Uu(t,n,i){var e=fo(_o(t),n.ks,n.ks+i);return n.gs(e.byteLength),e}function Fu(t,n,i){_o(t).set(_o(i),n.ks),n.gs(i.byteLength)}function Hu(t,n,i){return n.ks+i<=t.byteLength}function Vu(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=Lu(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+Lu(t,n);return e}(t,n,i)}function zu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.ks,i);return n.gs(2),e}function Wu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.ks,i,e),n.gs(2)}function Xu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.ks,i);return n.gs(4),e}function qu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.ks,i,e),n.gs(4)}function Gu(t,n,i){void 0===i&&(i=!1);var e=Xu(t,n,i),r=Xu(t,n,i),s=i?r:e,u=i?e:r;return Ot.fromBits(u,s,!0)}function Qu(t,n){var i=Lu(t,n);if(i)return String.fromCharCode(i)}function Yu(t,n){return Ju(t,n)}function ju(t,n,i){for(var e="",r=0;r<i;r++)e+=Qu(t,n);return e}function Zu(t,n){var i,e=Lu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Lu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Lu(t,n))+(63&Lu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Lu(t,n))+64*(63&Lu(t,n))+(63&Lu(t,n))),i}function Ju(t,n){return $u(t,n,!0)}function $u(t,n,i){for(var e=[];n.ks<t.byteLength;){var r=Lu(t,n);if(i&&!r)break;e.push(r)}return hs(e)}function Ku(t,n){if(n.ks+2<=t.byteLength){var i=t.getUint8(n.ks),e=t.getUint8(n.ks+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function to(t,n){var i=Ku(t,n);return void 0!==i&&n.gs(2),no(t,n,!0===i)}function no(t,n,i){return void 0===i&&(i=!1),io(t,n,i,!0)}function io(t,n,i,e){for(var r=[];n.ks+2<=t.byteLength;){var s=zu(t,n,i);if(e&&!s)break;r.push(s)}return hs(r)}function eo(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){Wu(t,n,i.charCodeAt(s),e)}}function ro(t){return $u(lo(t),new po,!1)}function so(t){var n=new m(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Mu(t,n,i.charCodeAt(r))}(lo(n),new po,t),n}function uo(t,n){return void 0===n&&(n=!1),io(lo(t),new po,n,!1)}function oo(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return eo(lo(i),new po,t,n),i}function ho(t,n){return function(t,n,i){var e=[];(function(t,n){return n.ks+3<=t.byteLength&&239===t.getUint8(n.ks)&&187===t.getUint8(n.ks+1)&&191===t.getUint8(n.ks+2)})(t,n)&&n.gs(3);for(;n.ks<t.byteLength;){var r=Zu(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return us(e)}(t,n,!0)}function ao(t){return us(function(t,n){var i,e=[],r=new po;if(!n){if(!1===(i=Du(t,r)))return e;i===Cu||e.push(i)}for(;!1!==(i=Du(t,r));)e.push(i);return e}(_o(t)))}function co(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)Ru(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function fo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function vo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function lo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function _o(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function wo(t){return t instanceof ArrayBuffer||yu(t)}function go(t){return t instanceof ArrayBuffer?new m(t):_o(t)}function yo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):mo(fo(t,n,i))}function mo(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}var po=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ps=function(){return new t(this.ks)},n.Ts=function(){return new Su(this.ks<<3)},b(t,[{key:"ks",get:function(){return this._s}}]),t}();function ko(t){var n=t,i=0,e=0;ns(n,"0x")&&(n=n.substring(2));var r=new m(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=w(n[0],16));i<n.length;i+=2)r[e++]=w(n.substr(i,2),16);return r}var Ao=function(){function t(){var t=this;this.Ss=void 0,this.Es=void 0,this.Is=void 0,this.Ss=new Ve(function(n,i){t.Es=n,t.Is=i})}var n=t.prototype;return n.Rs=function(t){this.Es&&(this.Es(t),this.Sr())},n.Ns=function(t){this.Is&&(this.Is(t),this.Sr())},n.Cr=function(){this.Ss.catch(j),this.Ns(new Bs)},n.Sr=function(){this.Es=void 0,this.Is=void 0},t}();function bo(){return new m([8,4]).buffer}function To(t){return mu(t,bo())}function So(t,n){return t===zr?function(t){if(t.byteLength<2*Eo.length)return t;if(uo(new DataView(t,0,2*Eo.length),!0)===Eo)return t;return n=t,oo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+bu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Eo="<PlayReady";var Io=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ds=void 0,s.Cs=void 0,s.Ds=i,s.Cs=e,s}return S(n,t),n}(Zt),Ro=function(t,n){return(Ro=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)l.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function No(t,n){if("function"!=typeof n&&null!==n)throw new d("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Ro(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}function Do(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.xs=t,this.Os=n}t.prototype.get=function(t){var n=this.xs.get(t);if(0===this.Os||void 0===n)return n;var i=this.xs.get(t+1)||0,e=n&(1<<8-this.Os)-1,r=i>>8-this.Os;return(e<<this.Os)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.xs.get(_.floor((t+this.Os)/8));if(void 0!==n)return(n&1<<7-this.Os-t%8)>0?1:0}},l.defineProperty(t.prototype,"bitLength",{get:function(){return this.xs.bitLength-this.Os},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"length",{get:function(){return this.xs.length},enumerable:!1,configurable:!0})}();function Co(t,n,i){return _.min(_.max(t,n),i)}function xo(t,n){return t>>8-n}function Oo(t,n){return t&(1<<n)-1}var Po=function(){function t(t){this.Ps=t,this.Bs=0,this.Ls=0}return l.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Bs+this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"done",{get:function(){return this.Bs===this.Ps.length&&0===this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Bs,bit:this.Ls}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ps);return n.seek(this.Bs,this.Ls),n},t.prototype.canReadBits=function(t){return 8*this.Bs+t+this.Ls<=8*this.Ps.length},t.prototype.canReadBytes=function(t){return 0===this.Ls?this.Bs+t<=this.Ps.length:this.Bs+t<this.Ps.length},t.prototype.incBit=function(){this.Ls++,this.Ls>7&&(this.Bs++,this.Ls=0)},t.prototype.seek=function(t,n){this.Bs=t,this.Ls=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ps.get(this.Bs)>>7-this.Ls&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.Ls)return this.Ps.get(this.Bs++);var t=Oo(this.Ps.get(this.Bs),8-this.Ls),n=xo(this.Ps.get(this.Bs+1),this.Ls);return this.Bs++,t<<this.Ls|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.Ls&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-_.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.Ls+t;this.Bs+=n>>3,this.Ls=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),Bo=function(t,n){return t===n?0:t<n?-1:t>n?1:y(t)?y(n)?0:1:-1},Lo=function(){function t(){this.Ms=[],this.Us=[],this.Li=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.Us.length)this.Us.push(0);else{var e=this.Us[this.Us.length-1]+this.Ms[this.Ms.length-1].length;this.Us.push(e)}this.Ms.push(t.subarray(n,n+i)),this.Li+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ms;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ms=[],this.Us=[],this.Li=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Us[n];return this.Ms[n][i]}},l.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ms.length<1)return-1;if(this.Ms.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ms[0];return"number"==typeof t?Do(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=Do(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=_.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.Us,t,Bo)},t.prototype.join=function(){if(1===this.Ms.length)return this.Ms[0];var t=new m(this.length);return this.copyInternal(t,0),t},l.defineProperty(t.prototype,"length",{get:function(){return this.Li},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*_.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Co(n,0,this.length),r=Co(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ms[u],h=e,a=h-this.Us[u];h+o.length-a<r;)s.pushRange(o,a,o.length-a),u+=1,a=(h+=o.length-a)-this.Us[u],o=this.Ms[u];var c=r-h;return s.pushRange(o,a,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ms.length-1,e=this.Ms[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ms[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Mo=function(){function t(n){this.Fs=n||t.BUFFER_CHUNK_SIZE,this.Hs=!1,this.Vs=new Lo,this.Ps=new m(this.Fs),this.zs=0,this.Ws=0,this.Ls=7}return t.prototype.closeByte=function(){this.Ps[this.zs++]=this.Ws,this.zs>=this.Fs&&this.closeBuffer(),this.Ws=0,this.Ls=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.zs&&(this.Vs.pushRange(this.Ps,0,this.zs),t&&(this.Ps=new m(this.Fs)),this.zs=0)},l.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ls},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Hs)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Hs=!0,this.Vs},t.prototype.writeBit=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.Ws|=t<<this.Ls,0===this.Ls?this.closeByte():this.Ls--},t.prototype.writeByte=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ws=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ls;this.Ws|=xo(t,n+1),this.closeByte(),this.Ws=Oo(t,8-n)<<n+1,this.Ls=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.zs+t.length<=this.Fs?(this.Ps.set(t,this.zs),this.zs+=t.length,this.zs===this.Fs&&this.closeBuffer()):(this.closeBuffer(),this.Vs.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ls;this.Ws|=xo(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Oo(t[i-1],8-n),r=xo(t[i],n+1);this.Ws=e<<n+1|r,this.closeByte()}this.Ws=Oo(t[t.length-1],8-n)<<n+1,this.Ls=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=_.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(_.abs(t)>=_.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+_.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=_.floor(_.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new m(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Uo=function(){function t(t){this.rb=new Lo,this.Xs=t}return t.prototype.closeWriter=function(){void 0!==this.Xs&&(this.rb=this.rb.concat(this.Xs.close()),this.Xs=void 0)},l.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Xs&&(this.Xs=new Mo),this.Xs},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Fo=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(_.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Uo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=_.pow(2,32),t}();function Ho(t,n){return t instanceof ht?64===n:t<_.pow(2,n)}function Vo(t,n){return _.round(t*_.pow(2,n))}function zo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Wo(t,n){return t/_.pow(2,n)}var Xo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Ho(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return No(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Fo),qo=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return No(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(Lo.from(this.data))},n}(Fo),Go=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function Qo(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Yo)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Yo)i.push(String.fromCharCode.apply(String,t.slice(e,e+Yo)));return i.join("")}(n)}var Yo=16384;var jo=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Zo(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Jo(t,n,i){return n.offset+i<=t.byteLength}function $o(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Ko(t,n,i){void 0===i&&(i=!1);var e=$o(t,n,i),r=$o(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!0)}function th(t,n){var i=Zo(t,n);if(i)return String.fromCharCode(i)}function nh(t,n,i){for(var e="",r=0;r<i;r++)e+=th(t,n);return e}function ih(t,n){var i,e=Zo(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Zo(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Zo(t,n))+(63&Zo(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Zo(t,n))+64*(63&Zo(t,n))+(63&Zo(t,n))),i}function eh(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=ih(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Qo(e)}(t,n,!0)}function rh(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function sh(t){return new m(t.buffer,t.byteOffset,t.byteLength)}var uh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Go(this.offset<<3)},t}(),oh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Zo(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return $o(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=$o(t,n,i),r=$o(t,n,i),s=i?r:e,u=i?e:r;return ht.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Ko(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=rh(sh(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push($o(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return nh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return eh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function hh(t,n){return t.type===n}var ah=8;function ch(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=fh(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function fh(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Jo(t,n,ah)){var e=n.offset+ah;return{complete:!1,neededOffset:e}}var r=$o(t,n),s=nh(t,n,4);if(1===r){if(!Jo(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Ko(t,n).toNumber()}if("uuid"===s){if(!Jo(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=nh(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h,a,c,f={type:r.type,offset:i,data:new oh((h=t,a=i,c=u,void 0===a&&(a=0),void 0===c&&(c=h.byteLength),new DataView(h.buffer,h.byteOffset+a,c-a)),new uh(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function vh(t){return{version:t>>24,flags:new jo(16777215&t)}}function dh(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function lh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function _h(t){var n=t.nextUint32Array(9);return{a:Wo(n[0],16),b:Wo(n[1],16),u:Wo(n[2],30),c:Wo(n[3],16),d:Wo(n[4],16),v:Wo(n[5],30),x:Wo(n[6],16),y:Wo(n[7],16),w:Wo(n[8],30)}}function wh(t){return new qo(t.type,rh(sh(t.data.data),t.data.cursor.offset))}var gh=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return No(n,t),l.defineProperty(n.prototype,"handlerType",{get:function(){return this.Gs},set:function(t){this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(Xo);function yh(t){var n=t.data,i=vh(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new gh(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}No(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(gh);var mh=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},l.defineProperty(t.prototype,"tag",{get:function(){return this.Qs},set:function(t){if(!Ho(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),ph=(function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=e,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=r,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}No(n,t),l.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ys},set:function(t){if(!Ho(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Ys=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamType",{get:function(){return this.js},set:function(t){if(!Ho(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!Ho(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Js},set:function(t){if(!Ho(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.$s},set:function(t){if(!Ho(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(mh),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}No(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(Lo.from(this.data))}}(mh),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return No(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(mh)),kh=(function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new ph(r.fixed28BitMode),s}No(n,t),l.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"esId",{get:function(){return this.Ks},set:function(t){if(!Ho(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamPriority",{get:function(){return this.tu},set:function(t){if(!Ho(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.nu},set:function(t){if(t&&!Ho(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.iu},set:function(t){if(t&&!Ho(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.iu=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(mh),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return No(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Fo)),Ah=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return No(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(kh),bh=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return No(n,t),l.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.eu},set:function(t){if(!Ho(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Ah),Th=function(t){function n(n,i,e,r){var s,u,o=t.call(this,n,i)||this;return o.extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return No(n,t),l.defineProperty(n.prototype,"channelCount",{get:function(){return this.ru},set:function(t){if(!Ho(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleSize",{get:function(){return this.su},set:function(t){if(!Ho(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleRate",{get:function(){return this.uu},set:function(t){if(!Ho(Vo(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Vo(this.sampleRate,16),32),this.extra&&zo(n.writer,this.extra)},n}(bh),Sh=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}No(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!Ho(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ho(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Xo),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}No(n,t),l.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.hu},set:function(t){if(!Ho(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.au},set:function(t){if(!Ho(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.cu},set:function(t){if(!Ho(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.fu},set:function(t){if(!Ho(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffN",{get:function(){return this.vu},set:function(t){if(!Ho(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffD",{get:function(){return this.du},set:function(t){if(!Ho(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffN",{get:function(){return this.lu},set:function(t){if(!Ho(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffD",{get:function(){return this._u},set:function(t){if(!Ho(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this._u=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Fo),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}No(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!Ho(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ho(t.sampleCount,32)||!Ho(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(Xo),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}No(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.wu},set:function(t){this.flags=void 0===t?1:0,this.wu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Xo),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}No(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.wu},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.wu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(Xo),function(t){function n(){return t.call(this,"dinf")||this}No(n,t)}(Ah),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!Ho(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return No(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(kh)),Eh=(function(t){function n(){return t.call(this,"dref",0,0)||this}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Sh),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return No(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Ho(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in "+this.bitSize+" bits.");if(!Ho(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in "+this.bitSize+" bits.");if(!Ho(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!Ho(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(Xo)),Ih=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return No(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Eh),Rh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return No(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Eh);function Nh(t){for(var n=t.data,i=vh(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,a=void 0;0===e?(h=n.nextUint32(),a=n.nextInt32()):(h=n.nextUint64(),a=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:a,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new Ih(u,r.raw):new Rh(u,r.raw)}var Dh=function(t){function n(){return t.call(this,"edts")||this}return No(n,t),n}(Ah);function Ch(t){for(var n=new Dh,i=0,e=ch(t.data);i<e.length;i++){var r=e[i];hh(r,"elst")?n.boxes.push(Nh(r)):n.boxes.push(wh(r))}return n}var xh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return No(n,t),l.defineProperty(n.prototype,"majorBrand",{get:function(){return this.gu},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.gu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"minorVersion",{get:function(){return this.yu},set:function(t){if(!Ho(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.yu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.mu},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.mu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Fo),Oh=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}No(n,t)}(xh),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}No(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(Lo.from(this.data))}}(Fo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return No(n,t),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.pu},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ku},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Au},set:function(t){if(!Ho(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.bu},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"language",{get:function(){return this.Tu},set:function(t){if(!Mh(t))throw new v("Expected an ISO-639-2/T language code");this.Tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(Xo)),Ph=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return No(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Oh),Bh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return No(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Oh);function Lh(t){var n=t.data,i=vh(n.nextUint32()),e=i.version,r=i.flags,s=dh(n,e),u=new Po(Lo.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var a=o.map(function(t){return String.fromCharCode(t+96)}).join("");return Mh(a)||(a="und"),n.skip(2),0===e?new Ph(s,a,r.raw):new Bh(s,a,r.raw)}function Mh(t){return/^[a-z]{3}$/.test(t)}var Uh=function(t){function n(){return t.call(this,"mdia")||this}return No(n,t),n}(Ah);function Fh(t){for(var n=new Uh,i=0,e=ch(t.data);i<e.length;i++){var r=e[i];hh(r,"mdhd")?n.boxes.push(Lh(r)):hh(r,"hdlr")?n.boxes.push(yh(r)):n.boxes.push(wh(r))}return n}var Hh;(function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new Lo,n}No(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}})(Fo),function(t){function n(){return t.call(this,"minf")||this}No(n,t)}(Ah),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Sh);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Hh||(Hh={}));var Vh,zh,Wh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Xh(t,n){n.writer.writeUInt(Vo(t.a,16),32),n.writer.writeUInt(Vo(t.b,16),32),n.writer.writeUInt(Vo(0,30),32),n.writer.writeUInt(Vo(t.c,16),32),n.writer.writeUInt(Vo(t.d,16),32),n.writer.writeUInt(Vo(0,30),32),n.writer.writeUInt(Vo(t.x,16),32),n.writer.writeUInt(Vo(t.y,16),32),n.writer.writeUInt(Vo(1,30),32)}function qh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Vh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:zh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:zh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:zh.UNKNOWN,2)}function Gh(t,n){var i,e,r;n.writer.writeUInt(0,4),qh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Vh||(Vh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(zh||(zh={}));var Qh=function(){return function(){}}(),Yh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return No(n,t),l.defineProperty(n.prototype,"systemId",{get:function(){return this.Su},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"data",{get:function(){return this._i},set:function(t){if(!Ho(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this._i=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(Lo.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(Lo.from(this.data))},n}(Xo),jh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return No(n,t),n}(Yh),Zh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return No(n,t),l.defineProperty(n.prototype,"kIds",{get:function(){return this.Eu},set:function(t){if(!Ho(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.Eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(Lo.from(e))}},n}(Yh);function Jh(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Zh(i,o,e):new jh(i,o)}var $h=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return No(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Iu},set:function(t){if(!Ho(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in "+this.bitSize+" bits.");this.Iu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Xo),Kh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return No(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}($h),ta=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return No(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}($h);function na(t){var n=t.data,i=vh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Kh(n.nextUint32(),r.raw):new ta(n.nextUint64(),r.raw)}var ia=function(t){function n(n,i,e,r){var s,u,o;void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var h=t.call(this,"trex",e,r)||this;return h.trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return No(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Ru},set:function(t){if(!Ho(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!Ho(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(!Ho(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!Ho(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.xu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Ho(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Ho(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.xu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Gh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(Xo);function ea(t){var n=t.data,i=vh(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),a=lh(new Po(Lo.from(n.nextUint8Array(4))));return new ia(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:a},e,r.raw)}var ra=function(t){function n(){return t.call(this,"mvex")||this}return No(n,t),n}(Ah);function sa(t){for(var n=new ra,i=0,e=ch(t.data);i<e.length;i++){var r=e[i];hh(r,"mehd")?n.boxes.push(na(r)):hh(r,"trex")?n.boxes.push(ea(r)):n.boxes.push(wh(r))}return n}var ua=function(t){function n(i,e,r,s,u){var o,h,a;void 0===u&&(u=0);var c=t.call(this,"mvhd",s,u)||this;return c.creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(h=r.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,c.matrix=null!==(a=r.matrix)&&void 0!==a?a:Wh,c.Ou=e,c}return No(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.pu},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ku},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Au},set:function(t){if(!Ho(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.bu},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"rate",{get:function(){return this.Pu},set:function(t){if(!Ho(Vo(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!Ho(Vo(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ou},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!Ho(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Vo(this.rate,16),32),n.writer.writeUInt(Vo(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Xh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(Xo),oa=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return No(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(ua),ha=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return No(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ua);function aa(t){var n=t.data,i=vh(n.nextUint32()),e=i.version,r=i.flags,s=dh(n,e),u=Wo(n.nextUint32(),16),o=Wo(n.nextUint16(),8);n.skip(2),n.skip(8);var h=_h(n);n.skip(24);var a=n.nextUint32();return 0===e?new oa(s,a,{rate:u,volume:o,matrix:h},r.raw):new ha(s,a,{rate:u,volume:o,matrix:h},r.raw)}var ca=function(t){function n(n,i,e,r,s,u,o){var h,a,c;void 0===o&&(o={});var f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this;return f.creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Wh,f}return No(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.pu},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ku},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Ru},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!Ho(t,32))throw new v("trackId cannot exceed 32 bits.");this.Ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.bu},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided sequence number does not fit in "+this.bitSize+" bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!Ho(Vo(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!Ho(Vo(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!Ho(Vo(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"layer",{get:function(){return this.Fu},set:function(t){if(!Ho(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Hu},set:function(t){if(!Ho(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Vo(this.volume,8),16),n.writer.writeUInt(0,16),Xh(this.matrix,n),n.writer.writeUInt(Vo(this.width,16),32),n.writer.writeUInt(Vo(this.height,16),32)},n}(Xo),fa=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return No(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(ca),va=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return No(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(ca);function da(t){var n,i,e,r,s=t.data,u=vh(s.nextUint32()),o=u.version,h=u.flags,a=h.isSet(8),c=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),_=Wo(s.nextInt16(),8);s.skip(2);var w=_h(s),g=Wo(s.nextUint32(),16),y=Wo(s.nextUint32(),16);return 0===o?new fa({creation:n,modification:i,duration:r},e,_,g,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new va({creation:n,modification:i,duration:r},e,_,g,y,{layer:d,matrix:w,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var la=function(t){function n(){return t.call(this,"trak")||this}return No(n,t),n}(Ah);function _a(t){for(var n=new la,i=0,e=ch(t.data);i<e.length;i++){var r=e[i];hh(r,"tkhd")?n.boxes.push(da(r)):hh(r,"mdia")?n.boxes.push(Fh(r)):hh(r,"edts")?n.boxes.push(Ch(r)):n.boxes.push(wh(r))}return n}var wa=function(t){function n(){return t.call(this,"moov")||this}return No(n,t),n}(Ah);var ga=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return No(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.Vu},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in "+this.bitSize+" bits.");this.Vu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(Xo),ya=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return No(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ga),ma=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return No(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ga);function pa(t){var n=t.data,i=vh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new ya(n.nextUint32(),r.raw):new ma(n.nextUint64(),r.raw)}var ka=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return No(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Ru},set:function(t){if(!Ho(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.zu},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!Ho(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.zu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Wu},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!Ho(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!Ho(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!Ho(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.xu},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!Ho(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Ho(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.xu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Gh(this.defaultSampleFlags,n)},n}(Xo);function Aa(t){var n=t.data,i=n.nextUint8(),e=new Po(Lo.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,d=a?n.nextUint32():void 0,l=h?n.nextUint32():void 0,_=o?n.nextUint32():void 0,w=u?lh(new Po(Lo.from(n.nextUint8Array(4)))):void 0;return new ka({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:_,defaultSampleFlags:w},i)}var ba=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return No(n,t),l.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Xu},set:function(t){if(t&&!Ho(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Xu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.qu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!Ho(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!Ho(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.qu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n,i;if(!Ho(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!Ho(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!Ho(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!Ho(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!Ho(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!Ho(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Gh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Gh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(Xo);function Ta(t){var n=t.data,i=n.nextUint8(),e=new Po(Lo.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};a&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=lh(new Po(Lo.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=lh(new Po(Lo.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new ba(i,f,v)}var Sa=function(t){function n(){return t.call(this,"traf")||this}return No(n,t),n}(Ah);function Ea(t){for(var n=new Sa,i=0,e=ch(t.data);i<e.length;i++){var r=e[i];hh(r,"tfhd")?n.boxes.push(Aa(r)):hh(r,"tfdt")?n.boxes.push(pa(r)):hh(r,"trun")?n.boxes.push(Ta(r)):n.boxes.push(wh(r))}return n}var Ia=function(t){function n(){return t.call(this,"moof")||this}return No(n,t),n}(Ah);!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}No(n,t),l.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Qu},set:function(t){if(!Ho(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(Xo);var Ra=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return No(n,t),l.defineProperty(n.prototype,"codingName",{get:function(){return this.Yu},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Fo),Na=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}No(n,t),l.defineProperty(n.prototype,"hSpacing",{get:function(){return this.ju},set:function(t){if(!Ho(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.ju=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Zu},set:function(t){if(!Ho(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Fo),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}No(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Ah),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Ra(n),r}No(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Fo),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return No(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){var n=this;if(!Ho(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!Ho(t,n.bitSize)}))throw new v("Not all provided entries fit in "+this.bitSize+" bits.");this.ou=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!Ho(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!Ho(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(Xo)),Da=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}No(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Na),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}No(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Na),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}No(n,t),l.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.$u},set:function(t){if(!Ho(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.$u=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ku},set:function(t){if(!Ho(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!Ho(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!Ho(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!Ho(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(Xo),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){qh(e[i],n)}}}(Xo),function(t){function n(n){return t.call(this,"stsd",n,0)||this}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Sh),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return No(n,t),l.defineProperty(n.prototype,"groupingType",{get:function(){return this.to},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(Xo)),Ca=(function(t){function n(n,i){return t.call(this,0,n,i)||this}No(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Da),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}No(n,t),l.defineProperty(n.prototype,"defaultLength",{get:function(){return this.io},set:function(t){if(!Ho(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Da),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}No(n,t),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!Ho(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Da),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}No(n,t),l.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eo},set:function(t){if(!Ho(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!Ho(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Xo),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}No(n,t),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!Ho(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){if(!Ho(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(Xo),function(t){function n(){return t.call(this,"stbl")||this}No(n,t)}(Ah),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}No(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!Ho(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ho(t.firstChunk,32)||!Ho(t.sampleDescriptionIndex,32)||!Ho(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(Xo),function(t){function n(){return t.call(this,"schi")||this}No(n,t)}(Ah),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}No(n,t),l.defineProperty(n.prototype,"schemeType",{get:function(){return this.ro},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.so},set:function(t){if(!Ho(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.so=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeUri",{get:function(){return this.uo},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(Xo),function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=e,h.earliestPresentationTime=r,h.firstOffset=s,h.references=u,h}return No(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"referenceId",{get:function(){return this.oo},set:function(t){if(!Ho(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Au},set:function(t){if(!Ho(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ho},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in "+this.bitSize+" bits.");this.ho=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ao},set:function(t){if(!Ho(t,this.bitSize))throw new v("Provided timescale does not fit in "+this.bitSize+" bits.");this.ao=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"references",{get:function(){return this.co},set:function(t){if(!Ho(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!Ho(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!Ho(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!Ho(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!Ho(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(Xo)),xa=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return No(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(Ca),Oa=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return No(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(Ca);(function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}No(n,t)})(xh),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}No(n,t),l.defineProperty(n.prototype,"balance",{get:function(){return this.fo},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!Ho(Vo(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Vo(this.balance,8),16),n.writer.writeUInt(0,16)}}(Xo),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}No(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!Ho(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ho(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(Xo),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}No(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!Ho(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!Ho(t.sampleCount,32)||!Ho(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(Xo),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}No(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Ru},set:function(t){if(!Ho(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Ru=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Sh),function(t){function n(){return t.call(this,"udta")||this}No(n,t)}(Ah);var Pa={red:0,green:0,blue:0},Ba=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Pa);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}No(n,t),l.defineProperty(n.prototype,"opColor",{get:function(){return this.vo},set:function(t){if(!Ho(t.red,16)||!Ho(t.green,16)||!Ho(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(Xo),function(t){function n(n,i,e,r,s){var u,o,h,a,c;void 0===r&&(r={});var f=t.call(this,n,i)||this;return f.extra=s,f.width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=r.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f}return No(n,t),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!Ho(t,16))throw new v("Provided width does not fit in 16 bits.");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!Ho(t,16))throw new v("Provided height does not fit in 16 bits.");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.do},set:function(t){if(!Ho(Vo(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.lo},set:function(t){if(!Ho(Vo(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.lo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compressorName",{get:function(){return this._o},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this._o=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"frameCount",{get:function(){return this.wo},set:function(t){if(!Ho(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.wo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"depth",{get:function(){return this.yo},set:function(t){if(!Ho(t,16))throw new v("Provided depth does not fit in 16 bits.");this.yo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Vo(this.horizontalResolution,16),32),n.writer.writeUInt(Vo(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&zo(n.writer,this.extra)},n}(bh)),La=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof m?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof m?n.concat(Lo.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(Xo),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Th),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ba),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}No(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(bh),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}No(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Fo),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}l.defineProperty(t.prototype,"version",{get:function(){return this.mo},set:function(t){if(!Ho(t,8))throw new v("Provided version does not fit in 8 bits.");this.mo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileIndication",{get:function(){return this.po},set:function(t){if(!Ho(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.po=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.ko},set:function(t){if(!Ho(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.ko=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"levelIndication",{get:function(){return this.Ao},set:function(t){if(!Ho(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.Ao=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"spsSets",{get:function(){return this.bo},set:function(t){if(!Ho(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.bo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ppsSets",{get:function(){return this.To},set:function(t){if(!Ho(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(Lo.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(Lo.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={});var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}No(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Ba),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}No(n,t),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!Ho(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"max",{get:function(){return this.So},set:function(t){if(!Ho(t,32))throw new v("Provided max does not fit in 32 bits.");this.So=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avg",{get:function(){return this.Eo},set:function(t){if(!Ho(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Fo),function(t){function n(n,i){var e,r,s,u,o=t.call(this,"tenc",n,0)||this;if(i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new m(0),o}return No(n,t),l.defineProperty(n.prototype,"isProtected",{get:function(){return this.Io},set:function(t){if(!Ho(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Io=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Ro},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Ro=t,this.No=new m(0)},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"kId",{get:function(){return this.Do},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"constantIv",{get:function(){return this.No},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.No=t,this.Ro=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),zo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),zo(t.writer,this.constantIv))},n}(Xo)),Ma=(function(t){function n(n){return t.call(this,0,n)||this}No(n,t)}(La),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return No(n,t),l.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Co},set:function(t){if(!Ho(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Co=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.xo},set:function(t){if(!Ho(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(La));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Ma(n),i}No(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Qh);function Ua(t){return void 0!==t.iv}function Fa(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}No(n,t),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n;if(!Ho(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Ua(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Fa(r)),!0===n&&!Fa(r)||!1===n&&Fa(r))throw new v("Mix of samples with and without subsamples detected.");if(Fa(r)){if(!Ho(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!Ho(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!Ho(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Ua(r)&&(n+=r.iv.length),Fa(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Ua(r)&&zo(n.writer,r.iv),Fa(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(Xo),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}No(n,t),l.defineProperty(n.prototype,"timescale",{get:function(){return this.Au},set:function(t){if(!Ho(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Oo},set:function(t){if(!Ho(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Po},set:function(t){if(!Ho(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"id",{get:function(){return this.Bo},set:function(t){if(!Ho(t,32))throw new v("The provided id does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(Lo.from(this.data))}}(Xo);function Ha(t,n){return function(i){var e,r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=fh(i,e);if(!r.complete)return;if(hh(r.box,n))return r.box}}(new oh((e=i,new DataView(e.buffer,e.byteOffset,e.byteLength)),new uh),t);if(!r)throw new v(t+" box not found");return n(r)}}var Va=Ha("moov",function(t){for(var n=new wa,i=0,e=ch(t.data);i<e.length;i++){var r=e[i];hh(r,"mvhd")?n.boxes.push(aa(r)):hh(r,"trak")?n.boxes.push(_a(r)):hh(r,"mvex")?n.boxes.push(sa(r)):hh(r,"pssh")?n.boxes.push(Jh(r)):n.boxes.push(wh(r))}return n}),za=Ha("sidx",function(t){var n,i,e=t.data,r=vh(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),h=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var a=e.nextUint16(),c=[],f=0;f<a;f++){var v=new Po(Lo.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),_=v.readUInt(32),w=Boolean(v.readBit()),g=v.readUInt(3),y=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:_,startsWithSap:w,sapType:g,sapDeltaTime:y})}return 0===s?new xa(o,h,n,i,c,u.raw):new Oa(o,h,n,i,c,u.raw)}),Wa=Ha("moof",function(t){for(var n=new Ia,i=0,e=ch(t.data);i<e.length;i++){var r=e[i];hh(r,"traf")?n.boxes.push(Ea(r)):hh(r,"pssh")?n.boxes.push(Jh(r)):n.boxes.push(wh(r))}return n}),Xa=Ha("pssh",Jh),qa=function(t){function n(n,i){var e;(e=t.call(this)||this).Lo=void 0,e.Mo=!1,e.Uo=void 0,e.Fo=void 0,e.Ho=function(){e.Vo()},e.zo=function(t){e.Fr(new eu(Yt(e),t.messageType,So(e.Wo,t.message)))},e.Xo=function(){e.Mo=!0,e.Lo.ls>0&&(e.Lo.ds(),e.Fr(new iu(Yt(e)))),e.qo.removeEventListener("keystatuseschange",e.Ho),e.qo.removeEventListener("message",e.zo)},e.qo=n,e.Wo=i,e.qo.addEventListener("keystatuseschange",e.Ho),e.qo.addEventListener("message",e.zo),e.Lo=new hu;var r=[];return e.qo.closed&&r.push(Ve.resolve(e.qo.closed)),e.Fo=new Ao,r.push(e.Fo.Ss),e.Uo=Ve.race(r).then(e.Xo,e.Xo),e.Vo(),e}S(n,t);var i=n.prototype;return i.Go=function(){if(this.Mo)return this.Uo;var t=[];return t.push(Ve.resolve(this.qo.close())),t.push(Qs(1e3)),this.Fo.Rs(Ve.race(t).catch(Ga)),this.Mo=!0,this.Uo},i.Qo=function(t,n,i){if(L.Zt){var e=Xa(go(n));if(1===e.version)n=new jh(e.systemId,e.data).serialize().join()}return Ve.resolve(this.qo.generateRequest(t,n)).catch(Ga)},i.Yo=function(t){return Ve.resolve(this.qo.load(t)).catch(Ga)},i.jo=function(){return Ve.resolve(this.qo.remove()).catch(Ga)},i.Zo=function(t){return Ve.resolve(this.qo.update(t)).catch(Ga)},i.Vo=function(){var t=this;this.Lo.ds(),this.qo.keyStatuses.forEach(function(n,i){t.Jo(i,n)}),this.Fr(new iu(this))},i.Jo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=go(t);if(this.Wo===zr&&16===e.byteLength){var r=lo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Wo===zr&&"status-pending"===n&&(n="usable"),this.Lo.vs(e,n)},b(n,[{key:"$o",get:function(){return this.Uo}},{key:"Ko",get:function(){return this.qo.expiration}},{key:"th",get:function(){return this.Lo}},{key:"nh",get:function(){return this.qo.sessionId}}]),n}(Js);function Ga(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|w(i[1],16))}throw new Io(t.message,void 0,n,t)}var Qa=function(){function t(t,n,i){this.ih=t,this.eh=n,this.rh=i}var n=t.prototype;return n.sh=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new qa(this.ih.createSession(t),this.eh));case 1:case"end":return n.stop()}},null,this,null,Ve)},n.uh=function(t){return Ve.resolve(this.ih.setServerCertificate(t))},n.oh=function(t){return Ve.resolve(t.setMediaKeys(this.ih))},n.hh=function(t){return Ve.resolve(t.setMediaKeys(null))},t}(),Ya=function(){function t(t,n,i){this.ah=t,this.Wo=n,this.fh=i}var n=t.prototype;return n.vh=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.ah.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Qa(t,this.Wo,this.fh));case 4:case"end":return n.stop()}},null,this,null,Ve)},n.dh=function(){return this.fh},b(t,[{key:"eh",get:function(){return this.ah.keySystem}}]),t}(),ja={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Za(t){return ts(t,ja.APPLICATION_MP4)||ts(t,ja.VIDEO_MP4)||ts(t,ja.AUDIO_MP4)}var Ja=function(){function t(t,n){this.nr=void 0,this.lh=void 0,this.nr=t,this.lh=n}return t.prototype._h=function(t){for(var n=0,i=this.lh;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function $a(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Ja(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<r.length;h++){var a=r[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=Ka(r.substr(u,h));c&&s.push(c),u=h+1}}if(u!==r.length){var f=Ka(r.substr(u));f&&s.push(f)}return new Ja(e,s)}function Ka(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function tc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function nc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,wh:e.wh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return ic(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var h=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(e){return ic(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function ic(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Is(n,e.encryptionScheme))&&(!e.robustness&&t(i,tc(e.contentType))))}function ec(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function rc(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function sc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(uc))||!(!t.videoCapabilities||!t.videoCapabilities.some(uc))}function uc(t){return!t.robustness}function oc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Er({},r,{robustness:n}))}return i}var hc=function(){function t(){}return t.prototype.dr=function(t,n){var i,e,r,s,u,h,a,c;return Sr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.wh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=rc(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=rc(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(sc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Er({},n=t,{videoCapabilities:n.videoCapabilities?oc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?oc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Sr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,h=u.getConfiguration(),f.abrupt("return",new Ya(u,t,h));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Sr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return a=f.sent,c=a.getConfiguration(),f.abrupt("return",new Ya(a,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],Ve)},t.gh=function(){return fs()},t}(),ac=function(t){function n(n,i){var e;return(e=t.call(this)||this).Mo=!1,e.yh=void 0,e.mh=void 0,e.ph=void 0,e.kh=void 0,e.Ah=void 0,e.Xo=function(){e.Mo=!0,e.yh.Rs(void 0),e.Ah&&(e.Ah.removeEventListener("mskeyclose",e.Xo),e.Ah.removeEventListener("mskeymessage",e.bh),e.Ah.removeEventListener("mskeyerror",e.Th),e.Ah.removeEventListener("mskeyadded",e.Sh))},e.bh=function(t){e.ph&&(e.ph.Rs(void 0),e.ph=void 0),e.Fr(new eu(Yt(e),"license-request",mo(t.message).buffer,t.destinationURL||void 0))},e.Th=function(){var t=e.Ah&&e.Ah.error;if(t){var n=new Io("Unknown CDM error",t.code,t.systemCode);if(e.ph)e.ph.Ns(n),e.ph=void 0;else if(e.mh)e.mh.Ns(n),e.mh=void 0;else switch(n.Ds){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Eh("output-not-allowed");break;default:e.Eh("internal-error")}}},e.Sh=function(){e.ph&&(e.Eh("usable"),e.ph.Rs(void 0),e.ph=void 0),e.mh&&(e.Eh("usable"),e.mh.Rs(void 0),e.mh=void 0)},e.Ih=n,e.Rh=i,e.yh=new Ao,e.kh=new hu,e}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),this.ph=new Ao,this.sh(go(n),i),t.next=5,Sr.awrap(this.ph.Ss);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.sh=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Dh;return(i=n?this.Ih.createSession(this.Rh,t,e):this.Ih.createSession(this.Rh,t)).addEventListener("mskeyclose",this.Xo),i.addEventListener("mskeymessage",this.bh),i.addEventListener("mskeyerror",this.Th),i.addEventListener("mskeyadded",this.Sh),this.Ah=i,this.Eh("status-pending"),i},i.Yo=function(t){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Zo=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mh=new Ao,this.Nh(),this.Ah){i.next=4;break}return i.abrupt("return",Ve.resolve());case 4:if(0!==(n=go(t)).byteLength){i.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.Ah.update(n),i.next=10,Sr.awrap(this.mh.Ss);case 10:case"end":return i.stop()}},null,this,null,Ve)},i.Go=function(){return!this.Mo&&this.Ah&&(this.Mo=!0,this.Ah.close()),this.yh.Ss},i.jo=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,Ve)},i.Nh=function(){if(this.Mo)throw new d("Already closing or closed.")},i.Eh=function(t){this.kh.ds(),this.kh.vs(ou,t),this.Fr(new iu(this))},b(n,[{key:"nh",get:function(){return this.Ah&&this.Ah.sessionId||""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.yh.Ss}},{key:"th",get:function(){return this.kh}}]),n}(Js),cc=function(){function t(t,n,i){this.Rh=void 0,this.Ih=t,this.eh=n,this.rh=i;var e=ec(i)||"video/mp4";this.Rh=tc(e)}var n=t.prototype;return n.sh=function(t){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ac(this.Ih,this.Rh));case 1:case"end":return t.stop()}},null,this,null,Ve)},n.uh=function(t){return Ve.resolve(!1)},n.oh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Ih):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Ih),t.removeEventListener("loadedmetadata",i)}),Ve.resolve()},n.hh=function(t){return Ve.resolve()},t}(),fc=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new ce.MSMediaKeys(this.Wo);return Ve.resolve(new cc(t,this.Wo,this.Ch))},b(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),vc=function(){function t(){}return t.prototype.dr=function(t,n){try{return Ve.resolve(function(t,n){if(!dc())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=nc(lc,tu,t,e);if(r)return new fc(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ve.reject(t)}},t.gh=function(){return dc()},t}();function dc(){return void 0!==ce.MSMediaKeys&&"function"==typeof ce.MSMediaKeys.isTypeSupported}function lc(t,n){return ce.MSMediaKeys.isTypeSupported(t,n)}var _c,wc,gc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).yh=new Ao,r.xh=void 0,r.kh=new hu,r.Oh=void 0,r.Ph=new Ao,r.Th=function(){var t=r.Oh&&r.Oh.error;if(t){var n=new Io("Unknown CDM error",t.code,t.systemCode);r.xh?(r.xh.Ns(n),r.xh=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Eh("output-not-allowed"):r.Eh("internal-error"),r.Fr(new ru)}},r.bh=function(t){r.xh&&(r.xh.Rs(void 0),r.xh=void 0),r.Fr(new eu(Yt(r),"license-request",mo(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Bh=n,r.Rh=i,r.Lh=e,r}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Mh;if(!e)throw new d("Expected FairPlay contentId to be defined but was "+e+".");var r=yc(go(n),e,this.Lh);return this.Oh=this.Bh.createSession(this.Rh,r),this.Oh.addEventListener("webkitkeymessage",this.bh,!1),this.Oh.addEventListener("webkitkeyerror",this.Th,!1),this.Eh("usable"),this.Ph.Rs(this.Oh),this.Ph=new Ao,Ve.resolve()},i.Yo=function(t){return Ve.resolve(!0)},i.Zo=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=go(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.xh=new Ao,i.t0=this.Oh,i.t0){i.next=9;break}return i.next=8,Sr.awrap(this.Ph.Ss);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Sr.awrap(this.xh.Ss);case 13:case"end":return i.stop()}},null,this,null,Ve)},i.Go=function(){var t=this.Oh;return t&&(t.removeEventListener("webkitkeymessage",this.bh,!1),t.removeEventListener("webkitkeyerror",this.Th,!1),t.close()),this.Ph.Cr(),this.yh.Rs(void 0),this.yh.Ss},i.jo=function(){return Ve.resolve(void 0)},i.Eh=function(t){this.kh.ds(),this.kh.vs(ou,t),this.Fr(new iu(this))},b(n,[{key:"nh",get:function(){return this.Oh?this.Oh.sessionId:""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.yh.Ss}},{key:"th",get:function(){return this.kh}}]),n}(Js);function yc(t,n,i){var e=ao(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),h=new po;return qu(o,h,r,!0),eo(o,h,e,!0),qu(o,h,s,!0),eo(o,h,n,!0),qu(o,h,i.byteLength,!0),Fu(o,h,i),new m(u)}(_c=n.ErrorCode||(n.ErrorCode={}))[_c.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",_c[_c.LICENSE_ERROR=2e3]="LICENSE_ERROR",_c[_c.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",_c[_c.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",_c[_c.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",_c[_c.SOURCE_INVALID=3e3]="SOURCE_INVALID",_c[_c.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",_c[_c.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",_c[_c.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",_c[_c.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",_c[_c.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",_c[_c.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",_c[_c.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",_c[_c.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",_c[_c.MEDIA_ABORTED=5004]="MEDIA_ABORTED",_c[_c.NETWORK_ERROR=6e3]="NETWORK_ERROR",_c[_c.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",_c[_c.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",_c[_c.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",_c[_c.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",_c[_c.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",_c[_c.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",_c[_c.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",_c[_c.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",_c[_c.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",_c[_c.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",_c[_c.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",_c[_c.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",_c[_c.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",_c[_c.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",_c[_c.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",_c[_c.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",_c[_c.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",_c[_c.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",_c[_c.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",_c[_c.AD_ERROR=1e4]="AD_ERROR",_c[_c.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",_c[_c.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(wc=n.ErrorCategory||(n.ErrorCategory={}))[wc.CONFIGURATION=1]="CONFIGURATION",wc[wc.LICENSE=2]="LICENSE",wc[wc.SOURCE=3]="SOURCE",wc[wc.MANIFEST=4]="MANIFEST",wc[wc.MEDIA=5]="MEDIA",wc[wc.NETWORK=6]="NETWORK",wc[wc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",wc[wc.SUBTITLE=8]="SUBTITLE",wc[wc.VR=9]="VR",wc[wc.AD=10]="AD",wc[wc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var mc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),b(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Zt),pc=function(){function t(t,n,i){this.Rh=void 0,this.Lh=void 0,this.Bh=t,this.eh=n,this.rh=i;var e=ec(i)||"video/mp4";this.Rh=tc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Bh},i.sh=function(t){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new mc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new gc(this.Bh,this.Rh,this.Lh));case 3:case"end":return t.stop()}},null,this,null,Ve)},i.uh=function(t){return this.Lh=go(t),Ve.resolve(!0)},i.oh=function(t){return t.webkitSetMediaKeys(this.Bh),Ve.resolve()},i.hh=function(t){return t.webkitSetMediaKeys(null),Ve.resolve()},t}(),kc=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new ce.WebKitMediaKeys(this.Wo);return Ve.resolve(new pc(t,this.Wo,this.Ch))},b(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),Ac=function(){function t(){}return t.prototype.dr=function(t,n){try{return Ve.resolve(function(t,n){if(t!==Gr)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!bc())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=nc(Tc,nu,t,e);if(r)return new kc(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Ve.reject(t)}},t.gh=function(){return bc()},t}();function bc(){return void 0!==ce.WebKitMediaKeys&&"function"==typeof ce.WebKitMediaKeys.isTypeSupported}function Tc(t,n){return ce.WebKitMediaKeys.isTypeSupported(t,n)}var Sc,Ec=function(){function t(t){this.Uh=t}return t.prototype.dr=function(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Uh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Sr.awrap(r.dr(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new d("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],Ve)},t}(),Ic=function(t){function n(n){var i;return(i=t.call(this)||this).ph=void 0,i.xh=void 0,i.yh=void 0,i.Hs=!1,i.Fh=void 0,i.Hh=void 0,i.Vh=void 0,i.zh=void 0,i.Wh=void 0,i.Wo=n,i.yh=new Ao,i.Hh="",i.Wh=new Ao,i.Vh=new hu,i}S(n,t);var i=n.prototype;return i.Xh=function(){this.xh&&(this.Eh("usable"),this.xh.Rs(void 0),this.xh=void 0)},i.qh=function(t){var n=new Io("Unknown CDM error",t.errorCode,t.systemCode);this.xh?(this.xh.Ns(n),this.xh=void 0):this.ph?(this.ph.Ns(n),this.ph=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Eh("output-restricted"):1===n.Cs?this.Eh("expired"):this.Eh("internal-error")},i.Gh=function(t){0!==t.message.byteLength&&(this.ph&&(this.ph.Rs(void 0),this.ph=void 0),this.Fr(new eu(this,"license-request",So(this.Wo,mo(t.message).buffer),t.defaultURL||void 0)))},i.Qh=function(t){this.zh||(this.zh=t,this.Wh.Rs(t))},i.Go=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Hs=!0,this.yh.Rs(void 0);case 3:case"end":return t.stop()}},null,this,null,Ve)},i.Qo=function(t,n){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ph=new Ao,this.Fh=go(n),t.t0=this.zh,t.t0){t.next=8;break}return t.next=7,Sr.awrap(this.Wh.Ss);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Wo,this.Fh),t.next=12,Sr.awrap(this.ph.Ss);case 12:case"end":return t.stop()}},null,this,null,Ve)},i.Yo=function(t){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,Ve)},i.jo=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,Ve)},i.Zo=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.xh=new Ao,n.t0=this.zh,n.t0){n.next=7;break}return n.next=6,Sr.awrap(this.Wh.Ss);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Wo,go(t),this.Fh,this.nh),n.next=11,Sr.awrap(this.xh.Ss);case 11:case"end":return n.stop()}},null,this,null,Ve)},i.throwIfClosed=function(){if(this.Hs)throw new d("Already closing or closed.")},i.Eh=function(t){this.Vh.ds(),this.Vh.vs(ou,t),this.Fr(new iu(this))},b(n,[{key:"th",get:function(){return this.Vh}},{key:"nh",get:function(){return this.Hh},set:function(t){this.Hh=t}},{key:"$o",get:function(){return this.yh.Ss}},{key:"Ko",get:function(){return NaN}}]),n}(Js),Rc=function(){function t(t,n){var i=this;this.zh=void 0,this.Yh=Rr(),this.jh=[],this.Sh=function(t){var n=i.Zh(t.sessionId);n&&n.Xh()},this.Jh=function(t){var n=i.Zh(t.sessionId);n&&n.qh(t)},this.$h=function(t){var n=i.Zh(t.sessionId);n&&n.Gh(t)},this.eh=t,this.rh=n}var n=t.prototype;return n.oh=function(t){return this.zh=t,this.zh.addEventListener("webkitkeyadded",this.Sh),this.zh.addEventListener("webkitkeyerror",this.Jh),this.zh.addEventListener("webkitkeymessage",this.$h),this.Yh.forEach(function(n,i){return n.Qh(t)}),this.jh.forEach(function(n){return n.Qh(t)}),Ve.resolve()},n.hh=function(t){return t.removeEventListener("webkitkeyadded",this.Sh),t.removeEventListener("webkitkeyerror",this.Jh),t.removeEventListener("webkitkeymessage",this.$h),this.zh=void 0,Ve.resolve()},n.sh=function(t,n,i){var e;return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Ic(this.eh),this.zh&&e.Qh(this.zh),this.jh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,Ve)},n.uh=function(t){return Ve.resolve(!1)},n.Zh=function(t){if(t){var n=this.Yh.get(t);return n||((n=this.jh.shift())?(n.nh=t,this.Yh.set(t,n),n):void 0)}},t}(),Nc=function(){function t(t,n){this.eh=t,this.Kh=n}var n=t.prototype;return n.vh=function(){return Ve.resolve(new Rc(this.eh,this.Kh))},n.dh=function(){return this.Kh},t}(),Dc=function(){function t(){}return t.prototype.dr=function(t,n){try{return Ve.resolve(Cc(t,n))}catch(t){return Ve.reject(t)}},t.gh=function(){return vs()},t}();function Cc(t,n){if(!Dc.gh())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=nc(xc,tu,t,e);if(r)return new Nc(t,r)}throw new d("Unsupported key system configuration for "+t)}function xc(t,n){var i=sr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Oc(){return Sc||(Sc=function(){var t=[];Ac.gh()&&t.push(new Ac);hc.gh()&&t.push(new hc);vc.gh()&&t.push(new vc);Dc.gh()&&t.push(new Dc);return new Ec(t)}()),Sc}var Pc=function(){function t(){this.ta=Rr()}var n=t.prototype;return n.ds=function(t){this.ta.delete(t)},n.na=function(){this.ta.clear()},n.cs=function(t){return this.ta.get(t)},n.ia=function(t,n){this.ta.set(t,n)},t}(),Bc=function(){function t(){}return t.ea=function(){return t.Nn||(t.Nn=Lc.gh()?new Lc:new Pc),t.Nn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t}();Bc.Nn=void 0;var Lc=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.gh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.ds=function(n){t.sessionStorage.removeItem(n)},e.na=function(){t.sessionStorage.clear()},e.cs=function(n){return t.sessionStorage[n]},e.ia=function(n,i){t.sessionStorage[n]=i},i}(Bc);var Mc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Uc(t,n,i){var e=Mc([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Fc,Hc;!function(t){t.ra="sa",t.ua="oa",t.ha="contentprotectionerror",t.aa="contentprotectionsuccess",t.ca="currentsourcechange",t.fa="destroy",t.va="durationchange",t.da="emptied",t.es="encrypted",t.la="ended",t._a="wa",t.ga="loadstart",t.ya="manifestupdate",t.ma="nosupportedrepresentationfound",t.pa="offline",t.ka="online",t.Aa="pause",t.ba="play",t.Ta="progress",t.Sa="ratechange",t.Ea="representationchange",t.Ia="resize",t.Ra="seeked",t.Na="seeking",t.Da="segmentnotfound",t.Ca="xa",t.Oa="Pa",t.Ba="sourcechange",t.La="timeupdate",t.Ma="volumechange",t.Ua="Fa",t.Ha="metricschange"}(Fc||(Fc={})),function(t){t.Va="arraybuffer",t.za="json",t.Wa="stream",t.Bn="text"}(Hc||(Hc={}));var Vc=function(){function t(n){var i=this;this.je=void 0,this.je={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=zc(i),e=Wc(e);var r=i.toLowerCase();if(this.je.hasOwnProperty(r)){var s=this.je[r],u=s[1];s[1]=u?u+", "+e:e}else this.je[r]=[i,e]},n.delete=function(t){var n=zc(t).toLowerCase();delete this.je[n]},n.get=function(t){var n=zc(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},n.has=function(t){var n=zc(t).toLowerCase();return this.je.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=zc(i)).toLowerCase();this.je[e]=[i,Wc(n)]},n.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Xa=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Ga=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function zc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Wc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function qc(){}var Gc=Number.isNaN||function(t){return t!=t},Qc=qc;function Yc(t){return"object"==typeof t&&null!==t||"function"==typeof t}function jc(t){return t.slice()}function Zc(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Gc(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function Jc(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function $c(t,n,i,e){var r=t[n];if(void 0!==r){if("function"!=typeof r)throw new d(r+" is not a method");switch(i){case 0:return function(){return tf(r,t,e)};case 1:return function(n){var i=[n].concat(e);return tf(r,t,i)}}}return function(){return cf(void 0)}}function Kc(t,n,i){var e=t[n];if(void 0!==e)return Jc(e,t,i)}function tf(t,n,i){try{return cf(Jc(t,n,i))}catch(t){return ff(t)}}function nf(t){return t}function ef(t){if(t=Number(t),Gc(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function rf(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var sf=Ve,uf=Ve.prototype.then,of=Ve.resolve.bind(sf),hf=Ve.reject.bind(sf);function af(t){return new sf(t)}function cf(t){return of(t)}function ff(t){return hf(t)}function vf(t,n,i){return uf.call(t,n,i)}function df(t,n,i){vf(vf(t,n,i),void 0,Qc)}function lf(t,n){df(t,n)}function _f(t,n){df(t,void 0,n)}function wf(t,n,i){return vf(t,n,i)}function gf(t){vf(t,void 0,Qc)}var yf=function(){function t(){this.Qa=0,this.Ya=0,this.Mi={ja:[],Za:void 0},this.Ja=this.Mi,this.Qa=0,this.Ya=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Ya},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Ja,i=n;16383===n.ja.length&&(i={ja:[],Za:void 0}),n.ja.push(t),i!==n&&(this.Ja=i,n.Za=i),++this.Ya},t.prototype.shift=function(){var t=this.Mi,n=t,i=this.Qa,e=i+1,r=t.ja,s=r[i];return 16384===e&&(n=t.Za,e=0),--this.Ya,this.Qa=e,t!==n&&(this.Mi=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Qa,i=this.Mi,e=i.ja;!(n===e.length&&void 0===i.Za||n===e.length&&(n=0,0===(e=(i=i.Za).ja).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Mi,n=this.Qa;return t.ja[n]},t}();function mf(t,n,i){var e=null;!0===i&&(e=l.prototype);var r=l.create(e);return r.value=t,r.done=n,r}function pf(t,n){t.$a=!0,t.Ka=n,n.tc=t,"readable"===n.Di?Tf(t):"closed"===n.Di?function(t){Tf(t),If(t)}(t):Sf(t,n.nc)}function kf(t,n){return Cd(t.Ka,n)}function Af(t){"readable"===t.Ka.Di?Ef(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Sf(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Ka.tc=void 0,t.Ka=void 0}function bf(t){return new d("Cannot "+t+" a stream using a released reader")}function Tf(t){t.Uo=af(function(n,i){t.ic=n,t.ec=i})}function Sf(t,n){Tf(t),Ef(t,n)}function Ef(t,n){gf(t.Uo),t.ec(n),t.ic=void 0,t.ec=void 0}function If(t){t.ic(void 0),t.ic=void 0,t.ec=void 0}var Rf=Xc("[[CancelSteps]]"),Nf=Xc("[[PullSteps]]");function Df(t,n){void 0===n&&(n=!1);var i=new Mf(t);return i.$a=n,i}function Cf(t){return af(function(n,i){var e={Es:n,Is:i};t.tc.rc.push(e)})}function xf(t,n,i){var e=t.tc;e.rc.shift().Es(mf(n,i,e.$a))}function Of(t){return t.tc.rc.length}function Pf(t){var n=t.tc;return void 0!==n&&!!Uf(n)}var Bf,Lf,Mf=function(){function t(t){if(!1===Nd(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Dd(t))throw new d("This stream has already been locked for exclusive reading by another reader");pf(this,t),this.rc=new yf}return l.defineProperty(t.prototype,"closed",{get:function(){return Uf(this)?this.Uo:ff(Hf("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Uf(this)?void 0===this.Ka?ff(bf("cancel")):kf(this,t):ff(Hf("cancel"))},t.prototype.read=function(){return Uf(this)?void 0===this.Ka?ff(bf("read from")):Ff(this):ff(Hf("read"))},t.prototype.releaseLock=function(){if(!Uf(this))throw Hf("releaseLock");if(void 0!==this.Ka){if(this.rc.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Af(this)}},t}();function Uf(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"rc")}function Ff(t){var n=t.Ka;return n.sc=!0,"closed"===n.Di?cf(mf(void 0,!0,t.$a)):"errored"===n.Di?ff(n.nc):n.uc[Nf]()}function Hf(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Xc.asyncIterator&&((Bf={})[Xc.asyncIterator]=function(){return this},Lf=Bf,l.defineProperty(Lf,Xc.asyncIterator,{enumerable:!1}));var Vf={next:function(){if(!1===zf(this))return ff(Wf("next"));var t=this.oc;return void 0===t.Ka?ff(bf("iterate")):wf(Ff(t),function(n){var i=n.done;return i&&Af(t),mf(n.value,i,!0)})},return:function(t){if(!1===zf(this))return ff(Wf("next"));var n=this.oc;if(void 0===n.Ka)return ff(bf("finish iterating"));if(n.rc.length>0)return ff(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.hc){var i=kf(n,t);return Af(n),wf(i,function(){return mf(t,!0,!0)})}return Af(n),cf(mf(t,!0,!0))}};function zf(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"oc")}function Wf(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Xf(t){var n=t.ac.shift();return t.cc-=n.size,t.cc<0&&(t.cc=0),n.value}function qf(t,n,i){if(!Zc(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.ac.push({value:n,size:i}),t.cc+=i}function Gf(t){t.ac=new yf,t.cc=0}void 0!==Lf&&l.setPrototypeOf(Vf,Lf),l.defineProperty(Vf,"next",{enumerable:!1}),l.defineProperty(Vf,"return",{enumerable:!1});var Qf=Xc("[[AbortSteps]]"),Yf=Xc("[[ErrorSteps]]"),jf=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Jf(this);var i=n.size,e=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var r=rf(i);void 0===e&&(e=1),function(t,n,i,e){var r=l.create(_v.prototype);var s=$c(n,"write",1,[r]),u=$c(n,"close",0,[]),o=$c(n,"abort",1,[]);wv(t,r,function(){return Kc(n,"start",[r])},s,u,o,i,e)}(this,t,e=ef(e),r)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===$f(this))throw bv("locked");return Kf(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===$f(this)?ff(bv("abort")):!0===Kf(this)?ff(new d("Cannot abort a stream that already has a writer")):tv(this,t)},t.prototype.close=function(){return!1===$f(this)?ff(bv("close")):!0===Kf(this)?ff(new d("Cannot close a stream that already has a writer")):!0===sv(this)?ff(new d("Cannot close an already-closing stream")):nv(this)},t.prototype.getWriter=function(){if(!1===$f(this))throw bv("getWriter");return Zf(this)},t}();function Zf(t){return new hv(t)}function Jf(t){t.Di="writable",t.nc=void 0,t.Xs=void 0,t.fc=void 0,t.vc=new yf,t.dc=void 0,t.lc=void 0,t._c=void 0,t.wc=void 0,t.gc=!1}function $f(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"fc")}function Kf(t){return void 0!==t.Xs}function tv(t,n){var i=t.Di;if("closed"===i||"errored"===i)return cf(void 0);if(void 0!==t.wc)return t.wc.yc;var e=!1;"erroring"===i&&(e=!0,n=void 0);var r=af(function(i,r){t.wc={yc:void 0,Es:i,Is:r,mc:n,pc:e}});return t.wc.yc=r,!1===e&&ev(t,n),r}function nv(t){var n=t.Di;if("closed"===n||"errored"===n)return ff(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=af(function(n,i){var e={Es:n,Is:i};t.lc=e}),r=t.Xs;return void 0!==r&&!0===t.gc&&"writable"===n&&Pv(r),qf(i=t.fc,"close",0),mv(i),e}function iv(t,n){"writable"!==t.Di?rv(t):ev(t,n)}function ev(t,n){var i=t.fc;t.Di="erroring",t.nc=n;var e=t.Xs;void 0!==e&&vv(e,n),!1===function(t){if(void 0===t.dc&&void 0===t._c)return!1;return!0}(t)&&!0===i.kc&&rv(t)}function rv(t){t.Di="errored",t.fc[Yf]();var n=t.nc;if(t.vc.forEach(function(t){t.Is(n)}),t.vc=new yf,void 0!==t.wc){var i=t.wc;if(t.wc=void 0,!0===i.pc)return i.Is(n),void uv(t);df(t.fc[Qf](i.mc),function(){i.Es(),uv(t)},function(n){i.Is(n),uv(t)})}else uv(t)}function sv(t){return void 0!==t.lc||void 0!==t._c}function uv(t){void 0!==t.lc&&(t.lc.Is(t.nc),t.lc=void 0);var n=t.Xs;void 0!==n&&Rv(n,t.nc)}function ov(t,n){var i=t.Xs;void 0!==i&&n!==t.gc&&(!0===n?function(t){Dv(t)}(i):Pv(i)),t.gc=n}var hv=function(){function t(t){if(!1===$f(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===Kf(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.Ac=t,t.Xs=this;var n,i=t.Di;if("writable"===i)!1===sv(t)&&!0===t.gc?Dv(this):xv(this),Ev(this);else if("erroring"===i)Cv(this,t.nc),Ev(this);else if("closed"===i)xv(this),Ev(n=this),Nv(n);else{var e=t.nc;Cv(this,e),Iv(this,e)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===av(this)?ff(Tv("closed")):this.Uo},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===av(this))throw Tv("desiredSize");if(void 0===this.Ac)throw Sv("desiredSize");return function(t){var n=t.Ac,i=n.Di;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return yv(n.fc)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===av(this)?ff(Tv("ready")):this.bc},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===av(this)?ff(Tv("abort")):void 0===this.Ac?ff(Sv("abort")):function(t,n){return tv(t.Ac,n)}(this,t)},t.prototype.close=function(){if(!1===av(this))return ff(Tv("close"));var t=this.Ac;return void 0===t?ff(Sv("close")):!0===sv(t)?ff(new d("Cannot close an already-closing stream")):cv(this)},t.prototype.releaseLock=function(){if(!1===av(this))throw Tv("releaseLock");void 0!==this.Ac&&dv(this)},t.prototype.write=function(t){return!1===av(this)?ff(Tv("write")):void 0===this.Ac?ff(Sv("write to")):lv(this,t)},t}();function av(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"Ac")}function cv(t){return nv(t.Ac)}function fv(t,n){"pending"===t.Tc?Rv(t,n):function(t,n){Iv(t,n)}(t,n)}function vv(t,n){"pending"===t.Sc?Ov(t,n):function(t,n){Cv(t,n)}(t,n)}function dv(t){var n=t.Ac,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");vv(t,i),fv(t,i),n.Xs=void 0,t.Ac=void 0}function lv(t,n){var i=t.Ac,e=i.fc,r=function(t,n){try{return t.Ec(n)}catch(n){return pv(t,n),1}}(e,n);if(i!==t.Ac)return ff(Sv("write to"));var s=i.Di;if("errored"===s)return ff(i.nc);if(!0===sv(i)||"closed"===s)return ff(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return ff(i.nc);var u=function(t){return af(function(n,i){var e={Es:n,Is:i};t.vc.push(e)})}(i);return function(t,n,i){var e={chunk:n};try{qf(t,e,i)}catch(n){return void pv(t,n)}var r=t.Ic;if(!1===sv(r)&&"writable"===r.Di){var s=kv(t);ov(r,s)}mv(t)}(e,n,r),u}var _v=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Yc(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"Ic"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.Ic.Di&&Av(this,t)},t.prototype[Qf]=function(t){var n=this.Rc(t);return gv(this),n},t.prototype[Yf]=function(){Gf(this)},t}();function wv(t,n,i,e,r,s,u,o){n.Ic=t,t.fc=n,n.ac=void 0,n.cc=void 0,Gf(n),n.kc=!1,n.Ec=o,n.Nc=u,n.Dc=e,n.Cc=r,n.Rc=s;var h=kv(n);ov(t,h),df(cf(i()),function(){n.kc=!0,mv(n)},function(i){n.kc=!0,iv(t,i)})}function gv(t){t.Dc=void 0,t.Cc=void 0,t.Rc=void 0,t.Ec=void 0}function yv(t){return t.Nc-t.cc}function mv(t){var n=t.Ic;if(!1!==t.kc&&void 0===n.dc)if("erroring"!==n.Di){if(0!==t.ac.length){var i=t.ac.peek().value;"close"===i?function(t){var n=t.Ic;(function(t){t._c=t.lc,t.lc=void 0})(n),Xf(t);var i=t.Cc();gv(t),df(i,function(){!function(t){t._c.Es(void 0),t._c=void 0,"erroring"===t.Di&&(t.nc=void 0,void 0!==t.wc&&(t.wc.Es(),t.wc=void 0)),t.Di="closed";var n=t.Xs;void 0!==n&&Nv(n)}(n)},function(t){!function(t,n){t._c.Is(n),t._c=void 0,void 0!==t.wc&&(t.wc.Is(n),t.wc=void 0),iv(t,n)}(n,t)})}(t):function(t,n){var i=t.Ic;(function(t){t.dc=t.vc.shift()})(i),df(t.Dc(n),function(){!function(t){t.dc.Es(void 0),t.dc=void 0}(i);var n=i.Di;if(Xf(t),!1===sv(i)&&"writable"===n){var e=kv(t);ov(i,e)}mv(t)},function(n){"writable"===i.Di&&gv(t),function(t,n){t.dc.Is(n),t.dc=void 0,iv(t,n)}(i,n)})}(t,i.chunk)}}else rv(n)}function pv(t,n){"writable"===t.Ic.Di&&Av(t,n)}function kv(t){return yv(t)<=0}function Av(t,n){var i=t.Ic;gv(t),ev(i,n)}function bv(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Tv(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Sv(t){return new d("Cannot "+t+" a stream using a released writer")}function Ev(t){t.Uo=af(function(n,i){t.ic=n,t.ec=i,t.Tc="pending"})}function Iv(t,n){Ev(t),Rv(t,n)}function Rv(t,n){gf(t.Uo),t.ec(n),t.ic=void 0,t.ec=void 0,t.Tc="rejected"}function Nv(t){t.ic(void 0),t.ic=void 0,t.ec=void 0,t.Tc="resolved"}function Dv(t){t.bc=af(function(n,i){t.xc=n,t.Oc=i}),t.Sc="pending"}function Cv(t,n){Dv(t),Ov(t,n)}function xv(t){Dv(t),Pv(t)}function Ov(t,n){gf(t.bc),t.Oc(n),t.xc=void 0,t.Oc=void 0,t.Sc="rejected"}function Pv(t){t.xc(void 0),t.xc=void 0,t.Oc=void 0,t.Sc="fulfilled"}function Bv(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Lv="undefined"!=typeof DOMException?DOMException:void 0;var Mv,Uv=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Lv)?Lv:((Mv=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Mv.prototype,"constructor",{value:Mv,writable:!0,configurable:!0}),Mv);function Fv(t,n,i,e,r,s){var u=Df(t),o=Zf(n);t.sc=!0;var h=!1,a=cf(void 0);return af(function(c,f){var v,l,_,w;if(void 0!==s){if(v=function(){var i=new Uv("Aborted","AbortError"),s=[];!1===e&&s.push(function(){return"writable"===n.Di?tv(n,i):cf(void 0)}),!1===r&&s.push(function(){return"readable"===t.Di?Cd(t,i):cf(void 0)}),p(function(){return Ve.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.Uo,function(t){!1===e?p(function(){return tv(n,t)},!0,t):k(!0,t)}),m(n,o.Uo,function(n){!1===r?p(function(){return Cd(t,n)},!0,n):k(!0,n)}),l=t,_=u.Uo,w=function(){!1===i?p(function(){return function(t){var n=t.Ac,i=n.Di;return!0===sv(n)||"closed"===i?cf(void 0):"errored"===i?ff(n.nc):cv(t)}(o)}):k()},"closed"===l.Di?w():lf(_,w),!0===sv(n)||"closed"===n.Di){var g=new d("the destination writable stream closed before all data could be piped to it");!1===r?p(function(){return Cd(t,g)},!0,g):k(!0,g)}function y(){var t=a;return vf(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Di?i(t.nc):_f(n,i)}function p(t,i,e){function r(){df(t(),function(){return A(i,e)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.Di&&!1===sv(n)?lf(y(),r):r())}function k(t,i){!0!==h&&(h=!0,"writable"===n.Di&&!1===sv(n)?lf(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){dv(o),Af(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}gf(af(function(t,n){!function i(e){e?t():vf(!0===h?cf(!0):vf(o.bc,function(){return vf(Ff(u),function(t){return!0===t.done||(a=vf(lv(o,t.value),void 0,qc),!1)})}),i,n)}(!1)}))})}var Hv=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Vv(this))throw Jv("desiredSize");return Yv(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Vv(this))throw Jv("close");if(!1===jv(this))throw new d("The stream is not in a state that permits close");qv(this)},t.prototype.enqueue=function(t){if(!1===Vv(this))throw Jv("enqueue");if(!1===jv(this))throw new d("The stream is not in a state that permits enqueue");return Gv(this,t)},t.prototype.error=function(t){if(!1===Vv(this))throw Jv("error");Qv(this,t)},t.prototype[Rf]=function(t){Gf(this);var n=this.Pc(t);return Xv(this),n},t.prototype[Nf]=function(){var t=this.Bc;if(this.ac.length>0){var n=Xf(this);return!0===this.Lc&&0===this.ac.length?(Xv(this),xd(t)):zv(this),cf(mf(n,!1,t.tc.$a))}var i=Cf(t);return zv(this),i},t}();function Vv(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"Bc")}function zv(t){!1!==Wv(t)&&(!0!==t.Mc?(t.Mc=!0,df(t.Uc(),function(){t.Mc=!1,!0===t.Fc&&(t.Fc=!1,zv(t))},function(n){Qv(t,n)})):t.Fc=!0)}function Wv(t){var n=t.Bc;return!1!==jv(t)&&(!1!==t.kc&&(!0===Dd(n)&&Of(n)>0||Yv(t)>0))}function Xv(t){t.Uc=void 0,t.Pc=void 0,t.Ec=void 0}function qv(t){var n=t.Bc;t.Lc=!0,0===t.ac.length&&(Xv(t),xd(n))}function Gv(t,n){var i=t.Bc;if(!0===Dd(i)&&Of(i)>0)xf(i,n,!1);else{var e=void 0;try{e=t.Ec(n)}catch(n){throw Qv(t,n),n}try{qf(t,n,e)}catch(n){throw Qv(t,n),n}}zv(t)}function Qv(t,n){var i=t.Bc;"readable"===i.Di&&(Gf(t),Xv(t),Od(i,n))}function Yv(t){var n=t.Bc.Di;return"errored"===n?null:"closed"===n?0:t.Nc-t.cc}function jv(t){var n=t.Bc.Di;return!1===t.Lc&&"readable"===n}function Zv(t,n,i,e,r,s,u){n.Bc=t,n.ac=void 0,n.cc=void 0,Gf(n),n.kc=!1,n.Lc=!1,n.Fc=!1,n.Mc=!1,n.Ec=u,n.Nc=s,n.Uc=e,n.Pc=r,t.uc=n,df(cf(i()),function(){n.kc=!0,zv(n)},function(t){Qv(n,t)})}function Jv(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var $v=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&_.floor(t)===t},Kv=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===id(this))throw yd("view");return this.Hc},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===id(this))throw yd("respond");if(void 0===this.Vc)throw new d("This BYOB request has been invalidated");this.Hc.buffer,function(t,n){if(!1===Zc(n=Number(n)))throw new RangeError("bytesWritten must be a finite");vd(t,n)}(this.Vc,t)},t.prototype.respondWithNewView=function(t){if(!1===id(this))throw yd("respond");if(void 0===this.Vc)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.zc.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,vd(t,n.byteLength)}(this.Vc,t)},t}(),td=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===nd(this))throw md("byobRequest");if(void 0===this.Wc&&this.zc.length>0){var t=this.zc.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(Kv.prototype);!function(t,n,i){t.Vc=n,t.Hc=i}(i,this,n),this.Wc=i}return this.Wc},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nd(this))throw md("desiredSize");return wd(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===nd(this))throw md("close");if(!0===this.Lc)throw new d("The stream has already been closed; do not close it again!");var t=this.Xc.Di;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Xc;if(t.cc>0)return void(t.Lc=!0);if(t.zc.length>0){var i=t.zc.peek();if(i.bytesFilled>0){var e=new d("Insufficient bytes to fill elements in the given buffer");throw _d(t,e),e}}ld(t),xd(n)}(this)},t.prototype.enqueue=function(t){if(!1===nd(this))throw md("enqueue");if(!0===this.Lc)throw new d("stream is closed or draining");var n=this.Xc.Di;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Xc,e=n.buffer,r=n.byteOffset,s=n.byteLength,u=nf(e);if(!0===Pf(i))if(0===Of(i))ud(t,u,r,s);else{var o=new m(u,r,s);xf(i,o,!1)}else!0===Ad(i)?(ud(t,u,r,s),fd(t)):ud(t,u,r,s);ed(t)}(this,t)},t.prototype.error=function(t){if(!1===nd(this))throw md("error");_d(this,t)},t.prototype[Rf]=function(t){this.zc.length>0&&(this.zc.peek().bytesFilled=0);Gf(this);var n=this.Pc(t);return ld(this),n},t.prototype[Nf]=function(){var t=this.Xc;if(this.cc>0){var n=this.ac.shift();this.cc-=n.byteLength,ad(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return ff(t)}return cf(mf(i,!1,t.tc.$a))}var e=this.qc;if(void 0!==e){var r=void 0;try{r=new ArrayBuffer(e)}catch(t){return ff(t)}var s={buffer:r,byteOffset:0,byteLength:e,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.zc.push(s)}var u=Cf(t);return ed(this),u},t}();function nd(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"Xc")}function id(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"Vc")}function ed(t){!1!==function(t){var n=t.Xc;if("readable"!==n.Di)return!1;if(!0===t.Lc)return!1;if(!1===t.kc)return!1;if(!0===Pf(n)&&Of(n)>0)return!0;if(!0===Ad(n)&&kd(n)>0)return!0;if(wd(t)>0)return!0;return!1}(t)&&(!0!==t.Mc?(t.Mc=!0,df(t.Uc(),function(){t.Mc=!1,!0===t.Fc&&(t.Fc=!1,ed(t))},function(n){_d(t,n)})):t.Fc=!0)}function rd(t,n){var i=!1;"closed"===t.Di&&(i=!0);var e=sd(n);"default"===n.readerType?xf(t,e,i):function(t,n,i){var e=t.tc;e.Gc.shift().Es(mf(n,i,e.$a))}(t,e,i)}function sd(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function ud(t,n,i,e){t.ac.push({buffer:n,byteOffset:i,byteLength:e}),t.cc+=e}function od(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=_.min(t.cc,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,h=!1;u>e&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,l=t.ac;o>0;){var w=l.peek(),g=_.min(o,w.byteLength),y=n.byteOffset+n.bytesFilled;a=n.buffer,c=y,f=w.buffer,v=w.byteOffset,d=g,new m(a).set(new m(f,v,d),c),w.byteLength===g?l.shift():(w.byteOffset+=g,w.byteLength-=g),t.cc-=g,hd(t,g,n),o-=g}return h}function hd(t,n,i){cd(t),i.bytesFilled+=n}function ad(t){0===t.cc&&!0===t.Lc?(ld(t),xd(t.Xc)):ed(t)}function cd(t){void 0!==t.Wc&&(t.Wc.Vc=void 0,t.Wc.Hc=void 0,t.Wc=void 0)}function fd(t){for(;t.zc.length>0;){if(0===t.cc)return;var n=t.zc.peek();!0===od(t,n)&&(dd(t),rd(t.Xc,n))}}function vd(t,n){var i=t.zc.peek();if("closed"===t.Xc.Di){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=nf(n.buffer);var i=t.Xc;if(!0===Ad(i))for(;kd(i)>0;)rd(i,dd(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(hd(t,n,i),!(i.bytesFilled<i.elementSize)){dd(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=i.buffer.slice(r-e,r);ud(t,s,0,s.byteLength)}i.buffer=nf(i.buffer),i.bytesFilled-=e,rd(t.Xc,i),fd(t)}}(t,n,i);ed(t)}function dd(t){var n=t.zc.shift();return cd(t),n}function ld(t){t.Uc=void 0,t.Pc=void 0}function _d(t,n){var i=t.Xc;"readable"===i.Di&&(!function(t){cd(t),t.zc=new yf}(t),Gf(t),ld(t),Od(i,n))}function wd(t){var n=t.Xc.Di;return"errored"===n?null:"closed"===n?0:t.Nc-t.cc}function gd(t,n,i){var e=l.create(td.prototype);var r=$c(n,"pull",0,[e]),s=$c(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===$v(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,e,r,s,u){n.Xc=t,n.Fc=!1,n.Mc=!1,n.Wc=void 0,n.ac=n.cc=void 0,Gf(n),n.Lc=!1,n.kc=!1,n.Nc=ef(s),n.Uc=e,n.Pc=r,n.qc=u,n.zc=new yf,t.uc=n,df(cf(i()),function(){n.kc=!0,ed(n)},function(t){_d(n,t)})}(t,e,function(){return Kc(n,"start",[e])},r,s,i,u)}function yd(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function md(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function pd(t){return af(function(n,i){var e={Es:n,Is:i};t.tc.Gc.push(e)})}function kd(t){return t.tc.Gc.length}function Ad(t){var n=t.tc;return void 0!==n&&!!Td(n)}var bd=function(){function t(t){if(!Nd(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===nd(t.uc))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Dd(t))throw new d("This stream has already been locked for exclusive reading by another reader");pf(this,t),this.Gc=new yf}return l.defineProperty(t.prototype,"closed",{get:function(){return Td(this)?this.Uo:ff(Sd("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Td(this)?void 0===this.Ka?ff(bf("cancel")):kf(this,t):ff(Sd("cancel"))},t.prototype.read=function(t){return Td(this)?void 0===this.Ka?ff(bf("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?ff(new d("view must have non-zero byteLength")):function(t,n){var i=t.Ka;if(i.sc=!0,"errored"===i.Di)return ff(i.nc);return function(t,n){var i=t.Xc,e=1;n.constructor!==DataView&&(e=n.constructor.BYTES_PER_ELEMENT);var r=n.constructor,s={buffer:nf(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:e,ctor:r,readerType:"byob"};if(t.zc.length>0)return t.zc.push(s),pd(i);if("closed"===i.Di)return cf(mf(new r(s.buffer,s.byteOffset,0),!0,i.tc.$a));if(t.cc>0){if(!0===od(t,s)){var u=sd(s);return ad(t),cf(mf(u,!1,i.tc.$a))}if(!0===t.Lc){var o=new d("Insufficient bytes to fill elements in the given buffer");return _d(t,o),ff(o)}}t.zc.push(s);var h=pd(i);return ed(t),h}(i.uc,n)}(this,t)):ff(new d("view must be an array buffer view")):ff(Sd("read"))},t.prototype.releaseLock=function(){if(!Td(this))throw Sd("releaseLock");if(void 0!==this.Ka){if(this.Gc.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Af(this)}},t}();function Td(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"Gc")}function Sd(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Ed=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Rd(this);var i=n.size,e=n.highWaterMark,r=t.type;if("bytes"===String(r)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===e&&(e=0),gd(this,t,e=ef(e))}else{if(void 0!==r)throw new RangeError("Invalid type is specified");var s=rf(i);void 0===e&&(e=1),function(t,n,i,e){var r=l.create(Hv.prototype),s=$c(n,"pull",0,[r]),u=$c(n,"cancel",1,[]);Zv(t,r,function(){return Kc(n,"start",[r])},s,u,i,e)}(this,t,e=ef(e),s)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Nd(this))throw Pd("locked");return Dd(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Nd(this)?ff(Pd("cancel")):!0===Dd(this)?ff(new d("Cannot cancel a stream that already has a reader")):Cd(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Nd(this))throw Pd("getReader");if(void 0===n)return Df(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new bd(t);return i.$a=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,e=t.readable,r=void 0===n?{}:n,s=r.preventClose,u=r.preventAbort,o=r.preventCancel,h=r.signal;if(!1===Nd(this))throw Pd("pipeThrough");if(!1===$f(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Nd(e))throw new d("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!Bv(h))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Dd(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===Kf(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return gf(Fv(this,i,s,u,o,h)),e},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,e=i.preventClose,r=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Nd(this)?ff(Pd("pipeTo")):!1===$f(t)?ff(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(e=Boolean(e),r=Boolean(r),s=Boolean(s),void 0===u||Bv(u)?!0===Dd(this)?ff(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===Kf(t)?ff(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Fv(this,t,e,r,s,u):ff(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Nd(this))throw Pd("tee");var t=function(t,n){var i,e,r,s,u,o=Df(t),h=!1,a=!1,c=!1,f=af(function(t){u=t});function v(){return!0===h?cf(void 0):(h=!0,gf(wf(Ff(o),function(t){if(h=!1,!0===t.done)return!1===a&&qv(r.uc),void(!1===c&&qv(s.uc));var n=t.value,i=n,e=n;!1===a&&Gv(r.uc,i),!1===c&&Gv(s.uc,e)})),cf(void 0))}function d(){}return r=Id(d,v,function(n){if(a=!0,i=n,!0===c){var r=jc([i,e]),s=Cd(t,r);u(s)}return f}),s=Id(d,v,function(n){if(c=!0,e=n,!0===a){var r=jc([i,e]),s=Cd(t,r);u(s)}return f}),_f(o.Uo,function(t){Qv(r.uc,t),Qv(s.uc,t)}),[r,s]}(this);return jc(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Nd(this))throw Pd("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Df(t),e=l.create(Vf);return e.oc=i,e.hc=Boolean(n),e}(this,i)},t}();function Id(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=l.create(Ed.prototype);return Rd(s),Zv(s,l.create(Hv.prototype),t,n,i,e,r),s}function Rd(t){t.Di="readable",t.tc=void 0,t.nc=void 0,t.sc=!1}function Nd(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"uc")}function Dd(t){return void 0!==t.tc}function Cd(t,n){return t.sc=!0,"closed"===t.Di?cf(void 0):"errored"===t.Di?ff(t.nc):(xd(t),wf(t.uc[Rf](n),qc))}function xd(t){t.Di="closed";var n=t.tc;void 0!==n&&(Uf(n)&&(n.rc.forEach(function(t){t.Es(mf(void 0,!0,n.$a))}),n.rc=new yf),If(n))}function Od(t,n){t.Di="errored",t.nc=n;var i=t.tc;void 0!==i&&(Uf(i)?(i.rc.forEach(function(t){t.Is(n)}),i.rc=new yf):(i.Gc.forEach(function(t){t.Is(n)}),i.Gc=new yf),Ef(i,n))}function Pd(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Xc.asyncIterator&&l.defineProperty(Ed.prototype,Xc.asyncIterator,{value:Ed.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Bd=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Ld=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var e=n.size,r=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=rf(e);if(void 0===r&&(r=1),r=ef(r),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=rf(s);void 0===u&&(u=0),u=ef(u),function(t,n,i,e,r,s){function u(){return n}t.Qc=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=l.create(jf.prototype);return Jf(u),wv(u,l.create(_v.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.Yc;if(!0===t.gc){var e=t.jc;return wf(e,function(){var e=t.Qc,r=e.Di;if("erroring"===r)throw e.nc;return qd(i,n)})}return qd(i,n)}(t,n)},function(){return function(t){var n=t.Zc,i=t.Yc,e=i.Jc();return Wd(i),wf(e,function(){if("errored"===n.Di)throw n.nc;var t=n.uc;!0===jv(t)&&qv(t)},function(i){throw Ud(t,i),n.nc})}(t)},function(n){return function(t,n){return Ud(t,n),cf(void 0)}(t,n)},i,e),t.Zc=Id(u,function(){return function(t){return Hd(t,!1),t.jc}(t)},function(n){return Fd(t,n),cf(void 0)},r,s),t.gc=void 0,t.jc=void 0,t.$c=void 0,Hd(t,!0),t.Yc=void 0}(this,af(function(t){h=t}),r,o,u,a),function(t,n){var i=l.create(Vd.prototype),e=function(t){try{return Xd(i,t),cf(void 0)}catch(t){return ff(t)}},r=n.transform;if(void 0!==r){if("function"!=typeof r)throw new d("transform is not a method");e=function(t){return tf(r,n,[t,i])}}var s=$c(n,"flush",0,[i]);!function(t,n,i,e){n.Kc=t,t.Yc=n,n.tf=i,n.Jc=e}(t,i,e,s)}(this,t);var c=Kc(t,"start",[this.Yc]);h(c)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Md(this))throw Qd("readable");return this.Zc},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Md(this))throw Qd("writable");return this.Qc},enumerable:!0,configurable:!0}),t}();function Md(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"Yc")}function Ud(t,n){Qv(t.Zc.uc,n),Fd(t,n)}function Fd(t,n){Wd(t.Yc),pv(t.Qc.fc,n),!0===t.gc&&Hd(t,!1)}function Hd(t,n){void 0!==t.jc&&t.$c(),t.jc=af(function(n){t.$c=n}),t.gc=n}var Vd=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===zd(this))throw Gd("desiredSize");return Yv(this.Kc.Zc.uc)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===zd(this))throw Gd("enqueue");Xd(this,t)},t.prototype.error=function(t){if(!1===zd(this))throw Gd("error");var n;n=t,Ud(this.Kc,n)},t.prototype.terminate=function(){if(!1===zd(this))throw Gd("terminate");!function(t){var n=t.Kc,i=n.Zc.uc;!0===jv(i)&&qv(i);var e=new d("TransformStream terminated");Fd(n,e)}(this)},t}();function zd(t){return!!Yc(t)&&!!l.prototype.hasOwnProperty.call(t,"Kc")}function Wd(t){t.tf=void 0,t.Jc=void 0}function Xd(t,n){var i=t.Kc,e=i.Zc.uc;if(!1===jv(e))throw new d("Readable side is not in a state that permits enqueue");try{Gv(e,n)}catch(t){throw Fd(i,t),i.Zc.nc}(function(t){return!0!==Wv(t)})(e)!==i.gc&&Hd(i,!0)}function qd(t,n){return wf(t.tf(n),void 0,function(n){throw Ud(t.Kc,n),n})}function Gd(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Qd(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var Yd,jd=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),b(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Zt);function Zd(t){return n=[t],new Ed({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Jd(t){return Zd(new m(t))}function $d(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Ao,s=function(){u();var t=new Bs;e.cancel(t).catch(j),r.Ns(t)},u=function(){i&&(i.Ir(s),i=void 0)};i&&(i.mr?s():i.Er(s));var o=[];return Ve.resolve(e.read()).then(function t(n){return n.done?(u(),Ve.resolve(o)):(o.push(n.value),Ve.resolve(e.read()).then(t))}).then(function(t){u(),r.Rs(t)},function(t){u(),r.Ns(t)}),r.Ss}(t,n).then(function(t){return pu(t).buffer})}function Kd(t,n){var i=n,e=new Ld,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Cr()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(j)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(j)}),r}function tl(t){return ao(new m(t))}function nl(t){return co(t).buffer}!function(t){t[t.Wa=0]="Wa",t[t.nf=1]="nf"}(Yd||(Yd={}));var il="content-type",el="text/plain;charset=UTF-8",rl=function(){function t(){}var n=t.prototype;return n.if=function(t){return this.ef(t).then(JSON.parse)},n.rf=function(t,n){switch(t){case Hc.Va:return this.sf(n);case Hc.za:return this.if(n);case Hc.Wa:return this.uf();case Hc.Bn:return this.ef(n);default:throw new d}},t}();function sl(t,n,i){if(t instanceof rl)return t;if(t instanceof Ed)return function(t,n){return new ol({nr:Yd.Wa,uf:t,hf:ul(n)})}(t,i);var e=ul(i),r=Ve.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{nr:Hc.Bn,af:t,hf:n||el};if(t instanceof ArrayBuffer||yu(t))return{nr:Hc.Va,af:ll(t),hf:n};if(W(t)||H(t))return{nr:Hc.za,af:t,hf:n};throw new d("Unsupported BodyInit type")}return{nr:Hc.Bn,af:null,hf:n}}(t,e)});return new ol({nr:Yd.nf,Ss:r,cf:n})}function ul(t){return(t.get(il)||"").toLowerCase()}var ol=function(t){function n(n){var i;return(i=t.call(this)||this).ff=!1,i.vf=void 0,i.df=new Ao,i.df.Ss.catch(j),i.lf(n),i}S(n,t);var i=n.prototype;return i._f=function(){return this.df.Ss},i.ef=function(t){return this.wf(hl,t)},i.if=function(t){return this.wf(cl,t)},i.sf=function(t){return this.wf(vl,t)},i.uf=function(){return this.gf((t=this.vf).nr===Yd.Wa?t.uf:Kd(t.Ss.then(dl).then(Jd),t.cf));var t},i.wf=function(t,n){if(this.ff)return Ve.reject(new d("Already used"));this.ff=!0;var i=t(this.vf,n);return this.df.Rs(i.then(j)),i},i.gf=function(t){if(this.ff)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.ff=!0;var n=new Ld,i=Ve.resolve(t.pipeTo(n.writable));return this.df.Rs(i),n.readable},i.lf=function(t){this.vf=t,t.nr===Yd.nf&&t.Ss.catch(j)},i.yf=function(){if(this.ff)throw new d("Already used");var t=function(t){if(t.nr===Yd.Wa){var n=t.uf.tee(),i=n[0],e=n[1];return[{nr:t.nr,uf:i,hf:t.hf},{nr:t.nr,uf:e,hf:t.hf}]}var r=t.cf.Or(),s=r[0],u=r[1];return[{nr:t.nr,Ss:t.Ss,cf:s},{nr:t.nr,Ss:t.Ss,cf:u}]}(this.vf),i=t[0],e=t[1];return this.lf(i),new n(e)},b(n,[{key:"mf",get:function(){return this.ff}}]),n}(rl);function hl(t,n){return t.nr===Yd.Wa?$d(t.uf,n).then(tl):(n&&t.cf.xr(n),Vs(t.Ss.then(al),t.cf))}function al(t){switch(t.nr){case Hc.Bn:return Ve.resolve(t.af||"");case Hc.Va:return Ve.resolve(t.af).then(tl);case Hc.za:return Ve.resolve(t.af).then(JSON.stringify)}}function cl(t,n){return t.nr===Yd.Wa?hl(t,n).then(JSON.parse):(n&&t.cf.xr(n),Vs(t.Ss.then(fl),t.cf))}function fl(t){return t.nr===Hc.za?Ve.resolve(t.af):al(t).then(JSON.parse)}function vl(t,n){return t.nr===Yd.Wa?$d(t.uf,n):(n&&t.cf.xr(n),Vs(t.Ss.then(dl),t.cf))}function dl(t){switch(t.nr){case Hc.Va:return Ve.resolve(t.af);case Hc.Bn:case Hc.za:return al(t).then(nl)}}function ll(t){return t instanceof ArrayBuffer?t:mo(_o(t)).buffer}function _l(t){return t.pf>=200&&t.pf<=299||304===t.pf}var wl,gl,yl,ml,pl=function(t){function n(n,i){var e,r,s,u,o,h;i?(r=i.kf,s=i.Af,u=i.pf,o=i.bf,h=i.Tf):(r=[],s=Hc.Bn,u=200,o="OK",h=!1);var a=n.Sf,c=new Vc(n.kf||r),f=n.Af||s,v=n.Ef||(i&&i.Sf===a?i.Ef:a.If),d=i?i.Rf:null,l=sl(void 0!==n.fi?n.fi:d,n.cf||new Ps,c);return(e=t.call(this,l)||this).kf=void 0,e.Sf=void 0,e.Ef=void 0,e.Af=void 0,e.pf=void 0,e.bf=void 0,e.Tf=void 0,e.kf=c,e.Sf=a,e.Ef=v,e.Af=f,e.pf=void 0!==n.pf?n.pf:u,e.bf=void 0!==n.bf?String(n.bf):o,e.Tf=n.Tf||h,e}S(n,t);var i=n.prototype;return i.fi=function(t){return this.rf(this.Af,t)},i.ps=function(){return new n({fi:this.yf(),Sf:this.Sf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Rf=void 0,i.Rf=n,i}S(n,t);var i=n.prototype;return i._f=function(){return this.Rf._f()},i.ef=function(t){return this.Rf.ef(t)},i.if=function(t){return this.Rf.if(t)},i.sf=function(t){return this.Rf.sf(t)},i.uf=function(){return this.Rf.uf()},i.yf=function(){return this.Rf.yf()},b(n,[{key:"mf",get:function(){return this.Rf.mf}}]),n}(rl));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(wl||(wl={})),function(t){t.Nf="",t.Df="manifest",t.Cf="segment",t.xf="content-protection"}(gl||(gl={})),function(t){t.Nf="",t.Of="initialization-segment",t.Pf="fairplay-license",t.Bf="fairplay-certificate",t.Lf="widevine-license",t.Mf="widevine-certificate",t.Uf="playready-license",t.Ff="clearkey-license",t.Hf="aes128-key"}(yl||(yl={})),function(t){t.Nf="",t.Vf="audio",t.zf="video",t.Bn="text",t.Wf="image"}(ml||(ml={}));var kl=function(t,n){this.af=void 0,this.kf=void 0,this.Xf=void 0,this.Af=void 0,this.qf=void 0,this.Pr=void 0,this.nr=void 0,this.Gf=void 0,this.Qf=void 0,this.If=void 0,this.Yf=void 0,this.jf=void 0;var i,e,r,s,u,o,h,a,c,f,v,d=t.If;n?(i=n.af,e=n.kf,r=n.Xf,s=n.Af,u=n.qf,o=n.Pr,h=n.nr,a=n.Gf,c=n.Qf,f=n.Yf,v=n.jf):(i=null,e={},r=wl.GET,s=Hc.Bn,u=0,h=gl.Nf,a=yl.Nf,c=ml.Nf,f=!1),this.If=d,this.af=t.af||i,this.kf=new Vc(t.kf||e),this.Xf=t.Xf||r,this.Af=t.Af||s,this.qf=void 0!==t.qf?Number(t.qf)||0:u,this.Pr=t.Pr||o||(new Ps).Pr,this.nr=t.nr||h,this.Gf=t.Gf||a,this.Qf=t.Qf||c,this.Yf=void 0!==t.Yf?Boolean(t.Yf):f,this.jf=t.jf||v},Al=function(){function t(){}var n=t.prototype;return n.Sf=function(t){var n=function(t){return new pl({fi:null,kf:{},Sf:t,Ef:t.If,Af:t.Af,pf:0,bf:Fc.pa})}(new kl(t));return Ve.resolve(n)},n.Zf=function(t){},n.Jf=function(){},t}();var bl=function(){function t(t,n){void 0===n&&(n=!0),this.$f=void 0,this.Kf=void 0,this.$f=t,this.Kf=n}var n=t.prototype;return n.Sf=function(t){var n=this.tv(t);return this.$f.Sf(n)},n.Zf=function(t){return this.$f.Zf(this.nv(t))},n.tv=function(n){var i=new kl(n);if(!this.Kf){var e=t.ev(i.If);i=new kl({If:e},i)}return i},n.nv=function(n){var i=n.If;return this.Kf||(i=t.ev(i)),{If:i,af:n.af}},t.ev=function(t){return i.Ue&&ns(t,"http://")?t.replace(":","s:"):t},n.Jf=function(){this.$f.Jf()},b(t,null,[{key:"rv",get:function(){return t.sv||(t.sv=new t(new Al)),t.sv}}]),t}();function Tl(t,n){for(var i=0,e=l.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function Sl(t,n){var e=i.xe(t);return n&&!is(e,"/")&&(e+="/"),e}bl.sv=void 0;var El,Il=/cache:(.+)?(?=&|$)/,Rl="http://webcache.googleusercontent.com/search?q=cache:";function Nl(t){if(!ns(t,Rl))return"";var n=i.Ce(t).search.match(Il);return n&&n.length>1?n[1]:""}!function(t){t.uv="HttpOpenError",t.ov="HttpResponseError",t.hv="HttpTimeoutError"}(El||(El={}));var Dl=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).av=void 0,r.av=n,r}return S(n,t),b(n,[{key:"Sf",get:function(){return this.av}}]),n}(Zt);var Cl=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.If+". Invalid URL.",i)||this}return S(n,t),b(n,[{key:"name",get:function(){return El.uv}}]),n}(Dl);var xl=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Sf,null!=e?e:function(t){return"Error while loading "+t.Sf.If+", status code "+t.pf}(n),i)||this).cv=void 0,r.cv=n,r}return S(n,t),b(n,[{key:"name",get:function(){return El.ov}},{key:"fv",get:function(){return this.cv}}]),n}(Dl);var Ol=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.If+" timed out after "+t.qf+" seconds."}(n),i)||this}return S(n,t),b(n,[{key:"name",get:function(){return El.hv}}]),n}(Dl),Pl=function(t,n){return(Pl=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Bl(t,n){function i(){this.constructor=t}Pl(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Ll="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Ml=function(){var t=Ll.Blob;if(t)try{return new t,function(t,n){return new Ll.Blob(t,n)}}catch(t){}var n,i=Ll.BlobBuilder||Ll.WebKitBlobBuilder||Ll.MozBlobBuilder||Ll.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),Ul="function"==typeof Ed?Ed:void 0;function Fl(t){return t&&"function"==typeof t.getReader}function Hl(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Fl(i)}catch(t){return!1}}var Vl=function(){function t(t,n){this.tc=t,this.vv=n}return t.prototype.pull=function(t){var n=this;return this.tc.read().then(function(i){n.vv&&n.vv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.tc.cancel(t)},t}();function zl(t,n){return n.constructor===t?n:new t(new Vl(n.getReader()),{highWaterMark:0})}var Wl=function(){function t(t,n){this.dv=t,this.lv=n}return t.prototype.pull=function(t){return this.dv().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.lv&&this.lv(t)},t}();function Xl(t,n,i){return new t(new Wl(n,i),{highWaterMark:0})}var ql={searchParams:"URLSearchParams"in Ll,iterable:"Symbol"in Ll&&"iterator"in Symbol,blob:"FileReader"in Ll&&!!Ml,formData:"FormData"in Ll,arrayBuffer:"ArrayBuffer"in Ll,stream:Hl(Ul),streamRequest:"Request"in Ll&&"body"in Ll.Request.prototype,streamResponse:"Response"in Ll&&"body"in Ll.Response.prototype,abort:"AbortController"in Ll&&"Request"in Ll&&"signal"in Ll.Request.prototype,encoding:"TextEncoder"in Ll&&"TextDecoder"in Ll,url:"URL"in Ll&&function(t){try{return new Ll.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Ll&&/Firefox\//.test(Ll.navigator.userAgent)};function Gl(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function Ql(t){return"string"!=typeof t&&(t=String(t)),t}function Yl(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return ql.iterable&&(n[Symbol.iterator]=function(){return n}),n}var jl=function(){function t(t){var n=this;this.je={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return ql.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=Gl(t),n=Ql(n);var i=t.toLowerCase();if(this.je.hasOwnProperty(i)){var e=this.je[i],r=e[1];e[1]=r?r+", "+n:n}else this.je[i]=[t,n]},t.prototype.delete=function(t){var n=Gl(t).toLowerCase();delete this.je[n]},t.prototype.get=function(t){var n=Gl(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},t.prototype.has=function(t){var n=Gl(t).toLowerCase();return this.je.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=Gl(t)).toLowerCase();this.je[i]=[t,Ql(n)]},t.prototype.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Yl(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Yl(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Yl(t)},t.prototype.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Zl(){}ql.iterable&&(jl.prototype[Symbol.iterator]=jl.prototype.entries);var Jl,$l,Kl,t_=_.min,n_=String.fromCharCode,i_=16384;function e_(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=i_){var r=t_(e+i_,n);i.push(n_.apply(null,t.slice(e,r)))}return i.join("")}(n)}function r_(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function s_(t,n){return t>>n&63|128}function u_(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(r_(t),n.push(t>>12&15|224),n.push(s_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(s_(t,12)),n.push(s_(t,6))),n.push(63&t|128)):n.push(t)}function o_(){if(Kl>=$l)throw new v("Invalid byte index");var t=255&Jl[Kl];if(Kl++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function h_(){var t,n;if(Kl>$l)throw new v("Invalid byte index");if(Kl===$l)return!1;if(t=255&Jl[Kl],Kl++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|o_())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|o_()<<6|o_())>=2048)return r_(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|o_()<<12|o_()<<6|o_())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var a_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function c_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function f_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function v_(t){return t&&DataView.prototype.isPrototypeOf(t)}var d_,l_=ArrayBuffer.isView||function(t){return t&&(a_.indexOf(l.prototype.toString.call(t))>-1||v_(t))};function __(t){if(t.bodyUsed)return Ve.reject(new d("Already used"));t.bodyUsed=!0}function w_(t){return new Ve(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function g_(t){return ql.encoding?new Ll.TextDecoder("utf-8").decode(new m(t)):e_(function(t){$l=(Jl=t).length,Kl=0;for(var n,i=[];!1!==(n=h_());)i.push(n);return i}(new m(t)))}function y_(t){return ql.encoding?(new Ll.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,e=t;i<e.length;i++)u_(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function m_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?Ve.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function p_(t){return m_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(h=e[i]).byteLength;for(var r=new m(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];r.set(h,s),s+=h.byteLength}return r}(t).buffer})}function k_(t){return t.slice?t.slice(0):A_(new m(t))}function A_(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function b_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function T_(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n._v===d_.wv){if(!n.gv.tee)throw new v("could not clone ReadableStream body");var i=n.gv.tee(),e=i[0],r=i[1];return n.body=e,n.gv=e,n.yv=e,r}return n._v===d_.Va?k_(n.gv):n._v===d_.nf?n.gv.then(T_):n.yv}!function(t){t[t.Bn=0]="Bn",t[t.mv=1]="mv",t[t.pv=2]="pv",t[t.Va=3]="Va",t[t.wv=4]="wv",t[t.nf=5]="nf"}(d_||(d_={}));var S_=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.yv=n||null,n)if("string"==typeof n)this._v=d_.Bn,this.gv=n;else if((s=n)&&"function"==typeof s.then)this._v=d_.nf,this.gv=Ve.resolve(n).then(function(n){return new t(n,i)}),this.gv.catch(Zl);else if(ql.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this._v=d_.mv,this.gv=n;else if(ql.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this._v=d_.pv,this.gv=n;else if(ql.searchParams&&c_(n))this._v=d_.Bn,this.gv=n.toString();else if(ql.arrayBuffer&&(f_(n)||l_(n)))v_(n)&&(this.yv=new m((r=n).buffer,r.byteOffset,r.byteLength)),this._v=d_.Va,this.gv=f_(e=n)?k_(e):A_(e);else{if(!ql.stream||!Fl(n))throw new v("unsupported BodyInit type");n=zl(Ul,n),this._v=d_.wv,this.gv=n,this.yv=n}else this._v=d_.Bn,this.gv="";this.kv="",i.has("content-type")?this.kv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.kv="text/plain;charset=UTF-8":u._v===d_.mv&&u.gv.type?this.kv=u.gv.type:ql.searchParams&&c_(n)&&(this.kv="application/x-www-form-urlencoded;charset=UTF-8"),this.kv&&i.set("content-type",this.kv)),ql.stream&&(null==n?this.body=null:u._v===d_.wv?this.body=u.gv:this.body=Xl(Ul,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=__(this);return e||(this._v===d_.mv?(t=this.gv,n=new FileReader,i=w_(n),n.readAsText(t),i):this._v===d_.Va?Ve.resolve(this.gv).then(g_):this._v===d_.wv?p_(this.gv).then(g_):this._v===d_.nf?this.gv.then(function(t){return t.text()}):this._v===d_.pv?Ve.reject(new v("could not read FormData body as text")):Ve.resolve(this.gv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();ql.blob&&(S_.prototype.blob=function(){var t,n,i=__(this);return i||(this._v===d_.mv?Ve.resolve(this.gv):this._v===d_.Va?Ve.resolve(Ml([this.gv],{type:this.kv})):this._v===d_.wv?(t=this.gv,n=this.kv,m_(t).then(function(t){return Ml(t,{type:n||""})})):this._v===d_.nf?this.gv.then(function(t){return t.blob()}):this._v===d_.pv?Ve.reject(new v("could not read FormData body as Blob")):Ve.resolve(Ml([this.gv],{type:this.kv})))}),ql.arrayBuffer&&(S_.prototype.arrayBuffer=function(){var t,n,i;return this._v===d_.Va?__(this)||Ve.resolve(this.gv):this._v===d_.mv?__(this)||(t=this.gv,n=new FileReader,i=w_(n),n.readAsArrayBuffer(t),i):this._v===d_.wv?p_(this.gv):this._v===d_.nf?__(this)||this.gv.then(function(t){return t.arrayBuffer()}):this._v===d_.pv?Ve.reject(new v("could not read FormData body as ArrayBuffer")):Ve.resolve(this.gv).then(y_)}),ql.formData&&(S_.prototype.formData=function(){return this._v===d_.pv?__(this)||Ve.resolve(this.gv):this.text().then(b_)});var E_=[301,302,303,307,308],I_=function(t){function n(n,i){var e=this,r=new jl((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return Bl(n,t),n.prototype.clone=function(){return new n(T_(this),{status:this.status,statusText:this.statusText,headers:new jl(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===E_.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(S_);var R_,N_=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=l.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(R_=N_)&&R_.__esModule&&l.prototype.hasOwnProperty.call(R_,"default")&&R_.default;N_.AbortSignal;var D_=N_.AbortController,C_=Ll.DOMException;try{new C_}catch(t){(C_=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),C_.prototype.constructor=C_}var x_=D_;function O_(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function P_(t,n,i){return new Ve(function(e,r){if(n.signal.aborted)return t.catch(Zl),r(B_());var s=function(){n.signal.removeEventListener("abort",s),r(B_())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function B_(){return new C_("Aborted","AbortError")}var L_,M_="moz-chunked-arraybuffer";function U_(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(L_||(L_={}));var F_=function(){function t(t,n){var i=this;this.Av=!1,this.av=t,this.bv=n,this.Tv=new k,this.Sv=new Ve(function(t,n){i.Ev=t,i.Iv=n})}return t.prototype.send=function(){var t=this;return this.Rv().then(function(n){return t.Nv(n,t.bv),t.Sv})},t.prototype.Rv=function(){var t=this.av;return t._v===d_.wv?t.arrayBuffer():Ve.resolve(t.yv)},t.prototype.Dv=function(t){this.av.onprogress&&this.av.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.Cv=function(t){this.Iv(t)},t.prototype.xv=function(){this.Cv(new d("Network request failed"))},t.prototype.Ov=function(){this.Cv(new d("Network request failed"))},t.prototype.Pv=function(){this.Cv(B_())},t.prototype.Nv=function(t,n){var i=this,e=this.av,r=this.Tv,s=function(){return i.Bv()};if(e.signal.aborted)return this.Pv();r.onreadystatechange=function(){if(r.readyState>=L_.HEADERS_RECEIVED&&!i.Av){var t=function(t){var n=new jl;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Av=!0,i.Lv(n)}},r.onprogress=function(t){return i.Dv(t)},r.onload=function(){return i.Mv()},r.onerror=function(){return i.xv()},r.ontimeout=function(){return i.Ov()},r.onabort=function(){return i.Pv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.Bv=function(){this.Pv(),this.Tv.abort()},t}(),H_=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Uv=void 0,e.Fv=void 0,e}return Bl(n,t),n.prototype.Lv=function(t){var n=this;this.Uv=new Ve(function(t,i){n.Fv=t,n.Hv=i}),this.Ev(new I_(this.Uv,t))},n.prototype.Mv=function(){var t=this.Tv.response||this.Tv.responseText;this.Fv(t)},n.prototype.Cv=function(n){t.prototype.Cv.call(this,n),this.Hv&&this.Hv(n)},n}(F_),V_=function(t){function n(n){var i=t.call(this,n,M_)||this;return i.Vv=void 0,i.zv=void 0,i.Wv=!1,i}return Bl(n,t),n.prototype.Lv=function(t){var n=this;this.Vv=new Ul({start:function(t){n.zv=t},cancel:function(){n.Wv=!0,n.Bv()}}),this.Ev(new I_(this.Vv,t))},n.prototype.Dv=function(n){this.Wv||this.zv.enqueue(new m(this.Tv.response)),t.prototype.Dv.call(this,n)},n.prototype.Mv=function(){this.zv.close()},n.prototype.Cv=function(n){t.prototype.Cv.call(this,n),this.zv&&!this.Wv&&(this.Wv=!0,this.zv.error(n))},n}(F_),z_=function(){var t=ql.firefox&&U_(M_);return z_=function(){return t},t},W_=function(){var t;return t=ql.arrayBuffer&&U_("arraybuffer")?"arraybuffer":ql.blob&&U_("blob")?"blob":"",W_=function(){return t},t};function X_(t){return(ql.stream&&z_()?new V_(t):new H_(t,W_())).send()}var q_=Ll.fetch,G_=Ll.Request,Q_=(Ll.Response,Ll.AbortController);var Y_=["http:","https:"];var j_=function(){try{if(ql.streamRequest){var t=new G_("about:blank",{body:"",method:"POST"}).body;if(t&&Hl(t.constructor))return t.constructor}}catch(t){}}();function Z_(t,n,i){var e;if(ql.stream){var r=void 0;if(ql.streamResponse){var s=t.body;r=s&&zl(Ul,s)}else r=Xl(Ul,function(){return P_(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new Vl(n.getReader(),i),{highWaterMark:0})}(Ul,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,J_(t.headers))),e=r}else{var u=P_(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return Ve.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,J_(t.headers))),e=u}return new I_(e,t)}function J_(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function $_(t){var n=new x_;return t.signal&&O_(n,t.signal),function(t,n){var i,e,r=t;if(i=r._v===d_.wv?ql.streamRequest&&j_?Ve.resolve(zl(j_,r.gv)):P_(t.arrayBuffer(),n,!1):P_(Ve.resolve(t.yv),n,!1),ql.abort){var s=new Q_;O_(s,n.signal),e=s.signal}return i.then(function(n){return new G_(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof jl?i:new jl(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return q_(i).then(function(i){return Z_(i,n,t.onprogress)})})}var K_=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var tw=function(t){function n(i,e){var r,s,u,o,h,a,c,f,v,l=this,_=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");r=i.url,s=i.credentials,e.headers||(u=new jl(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.yv||(_=i.yv,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new jl(e.headers)),e&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return K_.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||h,l.signal=e.signal||f||(new x_).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return Bl(n,t),n.prototype.clone=function(){return new n(this,{body:T_(this)})},n}(S_),nw="function"==typeof q_&&ql.stream&&ql.streamResponse&&ql.url;function iw(t,n){return new Ve(function(i){var e=new tw(t,n);i((nw&&function(t){try{return Y_.indexOf(new Ll.URL(t,Ll.location.href).protocol)>=0}catch(t){return!1}}(e.url)?$_:X_)(e))})}iw.polyfill=!0;var ew=function(){function t(t){this.fv=void 0,this.av=void 0,this.Xv=new Ps,this.cv=void 0,this.qv=!1,this.av=t,this.Xv.xr(t.Pr),this.fv=this.Gv()}var n=t.prototype;return n.Gv=function(){var t,n,e,r,s,u,o,a,c=this;return Sr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.av).qf&&h(function(){c.qv=!0,c.Xv.Cr()},t.qf),f.prev=2,n=iw(t.If,{method:t.Xf,headers:t.kf.Xa(),body:t.af,credentials:t.Yf?"include":"same-origin",signal:uw(this.Xv.Pr),onprogress:t.jf}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new Cl(t,f.t0);case 9:return f.prev=9,f.next=12,Sr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),Ls(r=this.Qv(f.t1))&&this.Xv.Cr(),r;case 20:if(s=e.url||t.If,u=0===e.status&&"file:"===(v=s,i.Ce(v).protocol)?200:e.status,o=new rw(this,e,this.Xv),a=new pl({fi:o,Sf:t,Af:t.Af,kf:new Vc(e.headers.asList()),pf:u,bf:e.statusText,Ef:s}),this.cv=a,!_l(a)){f.next=29;break}return f.abrupt("return",a);case 29:throw new xl(a);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],Ve)},n.Qv=function(t){return Ls(t)?this.qv?new Ol(this.av):new Bs(t.message,t):this.cv?new xl(this.cv,t):new Cl(this.av,t)},t}(),rw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Yv=void 0,r.jv=void 0,r.Xv=void 0,r.df=new Ao,r.Yv=n,r.jv=i,r.Xv=e,r.df.Ss.catch(j),r}S(n,t);var i=n.prototype;return i._f=function(){return this.df.Ss},i.ef=function(t){return this.wf(this.jv.text(),t)},i.sf=function(t){return this.wf(this.jv.arrayBuffer(),t)},i.uf=function(){var t=this.jv.body;return t?this.gf(t):Kd(this.sf().then(Jd),this.Xv)},i.yf=function(){var t=this.jv.clone(),i=this.Xv.Or(),e=i[0],r=i[1];return this.Xv=e,new n(this.Yv,t,r)},i.wf=function(t,n){var i=this;n&&this.Xv.xr(n);var e=Ve.resolve(t).catch(function(t){throw i.Yv.Qv(t)});return e=Vs(e,this.Xv),this.df.Rs(e.then(j)),e},i.gf=function(t){var n=this,i=new Ld,e=Ve.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.Yv.Qv(t);throw i.writable.abort(e).catch(j),e});return e=Vs(e,this.Xv),this.df.Rs(e.then(j)),i.readable},b(n,[{key:"mf",get:function(){return this.jv.bodyUsed}}]),n}(rl),sw="abort";function uw(t){var n=new x_;if(t.mr)n.abort();else if(!t.pr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(sw,i),t.Ir(i),t.Nr(e)};n.signal.addEventListener(sw,i),t.Er(i),t.Rr(e)}return n.signal}function ow(t,n,i){return new Ve(function(e,r){if(i&&i.mr)return r(new Bs);var s=function(t){o(),e(t)},u=function(){o(),r(new Bs)},o=function(){t.removeEventListener(n,s),i&&i.Ir(u)};t.addEventListener(n,s),i&&i.Er(u)})}var hw,aw,cw=function(){function t(){}var n=t.prototype;return n.Sf=function(t){return new ew(t).fv},n.Zf=function(t){if(ve&&ve.sendBeacon)ve.sendBeacon(t.If,Mc([t.af],{type:t.hf}));else{var n=t.hf?{"Content-type":t.hf}:void 0;qs(this.Sf(new kl({Xf:wl.POST,If:t.If,af:t.af,kf:n})))}},n.Jf=function(){},t}();hw=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).Zv=void 0,i.Jv=function(){if(L.Zt)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.$v=L.kn,i.Kv=void 0,i}return S(i,n),b(i,[{key:"Te",get:function(){return this.Zv||(this.Zv=new ls(Oc())),this.Zv}},{key:"td",get:function(){return this.Jv}},{key:"nd",get:function(){return this.$v}},{key:"ed",get:function(){return!1}},{key:"rd",get:function(){return Bc.ea()}},{key:"sd",get:function(){return{ud:Uc}}},{key:"od",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"hd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"fd",get:function(){return this.Kv||(this.Kv=new bl(new cw)),this.Kv}}]),i}(Ar)),i=hw,function(t){t.vd="dd",t.ld="_d"}(aw||(aw={}));aw.vd,aw.ld;var fw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).wd=void 0,e}return S(n,t),b(n,[{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}}]),n}(Ks);function vw(t){return Boolean(t&&t.gd)}var dw,lw=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(fw),_w=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Ks),ww=function(t){function n(n){var i;return(i=t.call(this,aw.vd)||this).md=n,i}return S(n,t),n.prototype.yd=function(){return new gw(this.md.gd)},n}(lw),gw=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(_w),yw=function(t){function n(n){var i;return(i=t.call(this,aw.ld)||this).md=n,i}return S(n,t),n.prototype.yd=function(){return new mw(this.md.gd)},n}(lw),mw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(_w);!function(t){t.pd="kd",t.Ad="bd",t.Td="Sd",t.Ed="Id",t.Rd="Nd",t.Dd="Cd",t.xd="Od",t.Pd="Bd",t.Ld="Zo",t.Md="Ud",t.Fd="Hd",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(dw||(dw={}));var pw=function(t){function n(){var n;return(n=t.call(this)||this).Vd=[],n.wd=void 0,n}S(n,t);var i=n.prototype;return i.zd=function(t){return this.Vd[t]},i.Wd=function(t){return!(!t||Is(this.Vd,t))&&(this.Vd.push(t),this.wd&&this.wd.push(t.gd),t.Hr(dw.Dd,this.Ur),this.Fr(new ww(t)),!0)},i.Xd=function(t){if(!t)return!1;var n=this.Vd.indexOf(t);return!(n<0)&&(Es(this.Vd,n),this.wd&&Es(this.wd,n),t.Xr(dw.Dd,this.Ur),this.Fr(new yw(t)),!0)},i.qd=function(t){return Is(this.Vd,t)},i.Gd=function(){for(var t=this.Vd,n=t.length-1;n>=0;n-=1)this.Xd(t[n])},i.Jf=function(){this.Gd(),this.Wr()},b(n,[{key:"Qd",get:function(){return this.Vd}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}},{key:"Yd",get:function(){return this.Vd.length}}]),n}(Js),kw=function(t){function n(n){var i;return(i=t.call(this,dw.Dd)||this).md=n,i}return S(n,t),n.prototype.yd=function(){return new Aw(this.md.gd)},n}(lw),Aw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(_w),bw=function(t){function n(){var n;return(n=t.call(this)||this).jd=void 0,n.Zd=function(t){var i=t.md;n.Wd(i)},n.Jd=function(t){var i=t.md;n.Xd(i)},n}S(n,t);var i=n.prototype;return i.$d=function(t){t.Hr(aw.vd,this.Zd),t.Hr(aw.ld,this.Jd)},i.Kd=function(t){t.Xr(aw.vd,this.Zd),t.Xr(aw.ld,this.Jd)},i.Jf=function(){this.jd&&this.jd.Jf(),t.prototype.Jf.call(this)},b(n,[{key:"tl",get:function(){return this.jd},set:function(t){var n=this.jd;if(t!==n){if(n){this.Kd(n);for(var i=0,e=n.Qd;i<e.length;i++){var r=e[i];t&&t.qd(r)||this.Xd(r)}}if(this.jd=t,t){for(var s=[],u=0,o=t.Qd;u<o.length;u++){var h=o[u];this.Wd(h),this.nl(h)&&s.push(h)}this.$d(t);for(var a=0;a<s.length;a++){var c=s[a];c.Fr(new kw(c))}}}}}]),n}(pw),Tw=l.freeze||Z;function Sw(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Ew(t,n){for(var i=0,e=l.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];l.defineProperty(t,r,l.getOwnPropertyDescriptor(n,r))}return t}function Iw(t){if(W(t)){var n={};for(var i in t)M.call(t,i)&&(n[i]=Iw(t[i]));return n}if(H(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Iw(t[r]));return e}return t}function Rw(t,n){return t===n||!(!t||!n)&&(!(!z(t)||!z(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Rw(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=l.keys(t),e=l.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!M.call(n,s)||!Rw(t[s],n[s]))return!1}return!0}(t,n)))}function Nw(t,n){return t.constructor===n.constructor}function Dw(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Cw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function xw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Ow(t){var n=xw(t);if(y(n))throw new v("Expected a valid number.");return n}function Pw(t){return"string"==typeof t?t:""}function Bw(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Lw(t,n){return V(t)?Bw(t,n):n(t)}var Mw=[aw.vd,aw.ld,dw.Dd];function Uw(t){var n,i=t.Qd.map(function(t){return t.gd});return i.item=function(n){var i=0|n,e=t.zd(i);return e&&e.gd||void 0},i.addEventListener=function(t,i){n.Hr(t,i)},i.removeEventListener=function(t,i){n.Xr(t,i)},n=new $s(i),t.Hr(Mw,function(t){return n.Fr(t.gd)}),i}function Fw(){}function Hw(t){var n,i=[dw.Ld,dw.Dd,dw.Md,dw.Fd,dw.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.il&&t.il.gd},get enabled(){return t.sl},set enabled(n){t.sl=Cw(n)},get id(){return t.ul},get uid(){return t.ol},get kind(){return t.hl},get label(){return t.al},set label(n){t.al=Pw(n)},get language(){return t.cl},get qualities(){return t.fl.gd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.fl.Qd;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.gd===o&&i.push(s)}return i}(t,H(n)?n:[n]):[]).length>0?t.vl=i:t.vl=void 0},get targetQuality(){if(t.vl)return 1===t.vl.length?t.vl[0].gd:t.vl.map(function(t){return t.gd})},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new $s(e),t.Hr(i,function(t){return n.Fr(t.gd)}),l.defineProperty(e,"constructor",{value:Fw}),e}function Vw(){}function zw(t){var n=Uw(t);return l.defineProperty(n,"constructor",{value:Vw}),n}var Ww,Xw,qw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.yd=function(){return zw(this)},i.nl=function(t){return t.sl},n}(bw);function Gw(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Ww.dl:case Ww.ll:case Ww._l:return n}}else if("number"==typeof t)switch(t){case 0:return Ww.dl;case 1:return Ww.ll;case 2:return Ww._l}return Ww.dl}function Qw(){}function Yw(t){var n,i=[dw.Dd,dw.Ld,dw.pd,dw.Ad,dw.Td,dw.Ed,dw.Rd,dw.xd,dw.Pd],e=[Xw.wl],r={get kind(){return t.hl},get label(){return t.al},set label(n){t.al=Pw(n)},get language(){return t.cl},get id(){return t.ul},get uid(){return t.ol},get inBandMetadataTrackDispatchType(){return t.gl},get mode(){return t.yl},set mode(n){n!==Ww._l&&n!==Ww.ll&&n!==Ww.dl||t.ml(n)},get forced(){return Boolean(t.pl)},get type(){return t.nr},get readyState(){return Jw(t.kl)},get cues(){return t.yl===Ww.dl?null:t.Al.gd},get activeCues(){return t.yl===Ww.dl?null:t.bl.gd},get src(){return t.Tl||""},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new $s(t),t.Hr(i,function(t){return n.Fr(t.gd)}),t.Hr(e,function(t){return n.Fr(t)}),l.defineProperty(r,"constructor",{value:Qw}),r}function jw(){}function Zw(t){var n=Uw(t);return l.defineProperty(n,"constructor",{value:jw}),n}function Jw(t){return t}!function(t){t.dl="disabled",t.ll="hidden",t._l="showing"}(Ww||(Ww={})),function(t){t.wl="error"}(Xw||(Xw={}));var $w=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.yd=function(){return Zw(this)},i.nl=function(t){return t.yl===Ww._l},n}(bw),Kw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.zr=function(n){t.prototype.zr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},n}(Js),tg=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Kw),ng=function(t){function n(){return t.call(this,Fc._a)||this}return S(n,t),n}(Ks),ig=function(t){function n(n){var i;return(i=t.call(this,Fc.ca)||this).currentSource=n,i}return S(n,t),n}(Ks),eg=function(){function t(){}return t.Sl=function(n,i){var e=t.El(n,i);return e?t.Il(e):0},t.Rl=function(){return i.od||"default"},t.Nl=function(){return i.hd||"unknown"},t.El=function(n,e){var r,s=null==(r=i.rd)?void 0:r.cs(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Dl(u,n,e)},t.Il=function(t){var n=t.availableBandwidth;return n||0},t.Dl=function(n,i,e){if(!t.Cl(n,i))return n[i];t.xl(n,i,e)},t.xl=function(t,n,e){var r;delete t[n],null==(r=i.rd)||r.ia(e,JSON.stringify(t))},t.Cl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Ol=function(t,n,i,e){var r;return Er({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Pl=function(n){var i=t.Rl();t.Bl(i,"theoplayer-stored-network-info",n,Vt())},t.Bl=function(n,e,r,s){var u,o,h=null==(u=i.rd)?void 0:u.cs(e),a=h?JSON.parse(h):void 0,c=t.Ol(a,n,r,s);null==(o=i.rd)||o.ia(e,JSON.stringify(c))},t.Ll=function(){var n=t.Rl();return t.Sl(n,"theoplayer-stored-network-info")},t}();var rg,sg,ug,og,hg,ag,cg="1ADD53F3";function fg(t){return{chromecast:function(t){return{appID:t&&t.appID?Pw(t.appID):cg}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return rg.AUTO;case"manual":return rg.MANUAL;case"disabled":return rg.DISABLED;default:return rg.MANUAL}}(t?t.strategy:void 0)}}function vg(t){var n,i=ug.Ml;return(n=t)&&ts(n,"mpd")&&(i=ug.Ul),function(t){return!!t&&ts(t,"m3u8")}(t)&&(i=ug.Fl),i}function dg(t){return!!t&&ns(t.toLowerCase(),ug.Ul)}function lg(t){if(!t)return!1;var n=t.toLowerCase();return ns(n,ug.Fl)||ns(n,ug.Hl)}function _g(t){return z(t)&&z(t.ssai)&&"google-dai"===t.ssai.integration}function wg(t){return z(t)&&X(t.integration)&&"verizon-media"===t.integration}function gg(t){if(X(t))return!t;if(wg(t))return!t.id;if(_g(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function yg(t){return Boolean(z(t)&&X(t.src))}function mg(t){return X(t)||yg(t)||_g(t)||wg(t)}function pg(t){if(t){if(mg(t))return gg(t);for(var n=0;n<t.length;n++){if(!gg(t[n]))return!1}return!0}return!0}function kg(){return{crossOrigin:sg.Vl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Ag(){return Er({},kg(),{src:void 0,type:ug.Ml,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function bg(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:og.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return hg.NONE;case"midroll-and-postroll":default:return hg.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Cw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return og.INSECURE;case"disabled":return og.DISABLED;case"enabled":default:return og.ENABLED}}(t.vpaidMode)),H(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(X)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Cw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Tg(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function Sg(t){return X(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(rg||(rg={})),function(t){t.Vl="",t.zl="anonymous",t.Wl="use-credentials"}(sg||(sg={})),function(t){t.Ul="application/dash+xml",t.Fl="application/vnd.apple.mpegurl",t.Hl="application/x-mpegurl",t.Ml="video/mp4",t.Xl="application/vnd.theoplayer.hesp+json",t.ql="application/vnd.theo.hesp+json"}(ug||(ug={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(og||(og={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(hg||(hg={})),function(t){t[t.Gl=0]="Gl",t[t.Ql=1]="Ql",t[t.Yl=2]="Yl",t[t.jl=3]="jl",t[t.Zl=4]="Zl"}(ag||(ag={}));var Eg,Ig=function(t){function n(n,i){var e;return void 0===i&&(i=ag.Gl),(e=t.call(this,Fc.da)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ks),Rg=function(t){function n(n){var i;return(i=t.call(this,Fc.Aa)||this).currentTime=n,i}return S(n,t),n}(Ks),Ng=function(t){function n(n){var i;return(i=t.call(this,Fc.ba)||this).currentTime=n,i}return S(n,t),n}(Ks);!function(t){t.Jl="canplay",t.$l="canplaythrough",t.Kl="loadeddata",t.t_="loadedmetadata",t.xd="readystatechange",t.n_="waiting",t.i_="playing"}(Eg||(Eg={}));var Dg,Cg,xg=[Eg.Jl,Eg.$l,Eg.Kl,Eg.t_,Eg.xd,Eg.n_,Eg.i_],Og=function(t){function n(n,i){var e;return void 0===i&&(i=ag.Ql),(e=t.call(this,Eg.t_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ks),Pg=function(t){function n(n){var i;return(i=t.call(this,Fc.va)||this).duration=n,i}return S(n,t),n}(Ks),Bg=function(t){function n(n,i){var e;return(e=t.call(this,Fc.Sa)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(Ks),Lg=function(t){function n(n,i){var e;return(e=t.call(this,Fc.La)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(Ks),Mg=function(t){function n(n){var i;return(i=t.call(this,Fc.la)||this).currentTime=n,i}return S(n,t),n}(Ks),Ug=function(t){function n(n,i){var e;return void 0===i&&(i=ag.Yl),(e=t.call(this,Eg.Kl)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ks),Fg=function(t){function n(n){var i;return(i=t.call(this,Fc.Na)||this).currentTime=n,i}return S(n,t),n}(Ks),Hg=function(t){function n(n){var i;return(i=t.call(this,Fc.Ra)||this).currentTime=n,i}return S(n,t),n}(Ks),Vg=function(t){function n(n,i){var e;return(e=t.call(this,Fc.Ma)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(Ks),zg=function(t){function n(n,i){var e;return void 0===i&&(i=ag.jl),(e=t.call(this,Eg.Jl)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ks),Wg=function(t){function n(n,i){var e;return void 0===i&&(i=ag.Zl),(e=t.call(this,Eg.$l)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ks),Xg=function(t){function n(n,i){var e;return(e=t.call(this,Eg.xd)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ks),qg=function(t){function n(n){var i;return(i=t.call(this,Xw.wl)||this).errorObject=n,i}return S(n,t),n.prototype.yd=function(){return this},b(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fw);function Gg(t){switch(t){case Dg.ALL:case Dg.CONTENT:return t;default:return Dg.NONE}}function Qg(t){var n,e,r,s=Iw(t||{});return s.libraryLocation&&(s.libraryLocation=Sl(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=fg(s.cast),s.ads=bg(s.ads),s.analytics=Tg(s.analytics),s.mutedAutoplay=Gg(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=X(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return Sl(t)}catch(t){return void i.ye("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Yg(t){return{e_:t.e_,r_:t.r_,s_:t.s_,ts:t.ts,u_:t.u_,o_:t.o_,h_:t.h_,a_:t.a_,kl:t.kl,c_:t.c_,f_:t.f_,v_:t.v_,d_:t.d_}}function jg(t,n,i){if(n!==i){var e=n.e_,r=n.r_,s=n.o_,u=n.h_,o=n.a_,h=n.kl,a=n.c_,c=(n.v_,n.f_,n.d_),f=i.e_,v=i.r_,d=i.s_,l=i.u_,_=i.o_,w=i.h_,g=i.a_,m=i.kl,p=i.c_,k=(i.v_,i.f_,i.d_);h!==ag.Gl&&t.Fr(new Ig(f,m)),w&&!u?t.Fr(new Rg(f)):!w&&u&&t.Fr(new Ng(f)),m>=ag.Ql&&t.Fr(new Og(f,m)),v===r||y(v)&&y(r)||t.Fr(new Pg(v)),g!==o&&t.Fr(new Bg(f,g)),f!==e&&t.Fr(new Lg(f,void 0)),d&&t.Fr(new Mg(f)),m>=ag.Yl&&t.Fr(new Ug(f,m)),p&&!a?t.Fr(new Fg(f)):!p&&a&&t.Fr(new Hg(f)),k===c&&_===s||t.Fr(new Vg(f,k)),m>=ag.jl&&t.Fr(new zg(f,m)),m>=ag.Zl&&t.Fr(new Wg(f,m)),m!==h&&t.Fr(new Xg(f,m)),l&&t.Fr(new qg(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Dg||(Dg={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Cg||(Cg={}));var Zg,Jg=400,$g=.25,Kg={windowStart:.2,target:.45,windowEnd:.7,maxOffset:3},ty={windowStart:.4,target:.7,windowEnd:.9,maxOffset:3},ny={windowStart:.4,target:.65,windowEnd:1,maxOffset:3},iy={windowStart:.5,target:1.125,windowEnd:1.75,maxOffset:2.55};function ey(){var t;return t=i.Pe.ee?ny:i.Pe.se?"Android"===i.Be.Le?ty:Kg:iy,i.Be.Me?function(t){if(i.Be.Me){var n=(Jg+250)/1e3,e=_.max(n,t.windowStart),r=_.max(e+$g,t.target),s=_.max(r+$g,t.windowEnd);return{windowStart:e,target:r,windowEnd:s,maxOffset:_.max(s+$g,t.maxOffset)}}return t}(t):t}function ry(t){return{goLive:function(){return t.l_()},get isLive(){return t.__},get currentServerLiveTime(){return t.w_},get currentLatency(){return t.g_},get latency(){return t.y_},set latency(n){if(!function(t){if(!z(t))return!1;var n=t,i=F(n.target)&&"number"==typeof n.target&&F(n.windowEnd)&&"number"==typeof n.windowEnd&&F(n.windowStart)&&"number"==typeof n.windowStart&&F(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.y_=n},get manifest(){return t.m_},get metrics(){return t.p_},addEventListener:function(n,i){t.Hr(uy(n),i)},removeEventListener:function(n,i){t.Xr(uy(n),i)}}}!function(t){t[t.dl=0]="dl",t[t.k_=1]="k_",t[t.A_=2]="A_"}(Zg||(Zg={}));var sy=["analytic","golive","nogolive","bufferedchange"];function uy(t){var n=Lw(t,Pw);return(X(n)?[n]:n).filter(function(t){return Is(sy,t)})}var oy,hy=function(t){function n(){var n;return(n=t.call(this)||this).jd=void 0,n.wd=void 0,n.b_=ey(),n.jd=void 0,n}S(n,t);var i=n.prototype;return i.$d=function(t){t.Hr(sy,this.Ur)},i.Kd=function(t){t.Xr(sy,this.Ur)},i.l_=function(){var t;null==(t=this.jd)||t.l_()},i.Jf=function(){this.Wr(),this.jd&&this.Kd(this.jd),this.jd=void 0},b(n,[{key:"tl",get:function(){return this.jd},set:function(t){var n=this.jd;t!==n&&(n&&this.Kd(n),t&&this.$d(t),this.jd=t,this.jd&&(this.jd.y_=this.b_))}},{key:"gd",get:function(){return this.wd||(this.wd=ry(this)),this.wd}},{key:"w_",get:function(){var t;return null==(t=this.jd)?void 0:t.w_}},{key:"g_",get:function(){var t;return null==(t=this.jd)?void 0:t.g_}},{key:"__",get:function(){return!!this.jd&&this.jd.__}},{key:"y_",get:function(){return this.b_},set:function(t){this.jd&&(this.jd.y_=t),this.b_=t}},{key:"m_",get:function(){var t;return null==(t=this.jd)?void 0:t.m_}},{key:"p_",get:function(){var t;return null==(t=this.jd)?void 0:t.p_}}]),n}(Js),ay=function(t){function n(n){var i;return(i=t.call(this)||this).jd=void 0,i.T_=[],i.S_=!1,i.E_=new qw,i.I_=new qw,i.R_=new $w,i.N_=new hy,i.D_=!1,i.C_(n),n.zr(i.Ur),i.jd=n,i.E_.tl=n.x_,i.I_.tl=n.O_,i.R_.tl=n.P_,i.N_.tl=n.B_,i}S(n,t);var i=n.prototype;return i.L_=function(){this.jd.L_()},i.M_=function(){this.jd.M_()},i.U_=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Gs(this.T_.map(function(t){return t.U_()})).then(j));case 1:case"end":return t.stop()}},null,this,null,Ve)},i.F_=function(){return this.jd.F_()},i.H_=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ms(n),i.next=3,Sr.awrap(this.jd.H_(t,n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.V_=function(){return this.tl.V_()},i.z_=function(){this.tl.z_()},i.W_=function(){this.tl.W_()},i.X_=function(){if(!this.S_){for(var t=0,n=this.T_;t<n.length;t++){n[t].X_()}this.S_=!0}},i.q_=function(t){this.jd.q_(t)},i.G_=function(){this.jd.G_()},i.Q_=function(){this.jd.Q_()},i.Y_=function(){this.jd.Y_()},i.j_=function(){return this.jd.j_()},i.Z_=function(){return this.jd.Z_()},i.J_=function(){for(var t=[],n=0,i=this.T_;n<i.length;n++){var e=i[n];t.push.apply(t,e.J_())}return t},i.K_=function(t){for(var n=!1,i=0,e=this.T_;i<e.length;i++){n=e[i].K_(t)||n}return n},i.Fr=function(n){this.K_(n)||t.prototype.Fr.call(this,n)},i.C_=function(t){this.T_.push(t)},i.tw=function(t){Ss(this.T_,t)},i.nw=function(t){if(t!==this.jd){var n=this.jd;n.G_(),n.Qr(this.Ur);var i=Yg(this),e=this.iw,r=this.Z_();this.jd=t,this.E_.tl=t.x_,this.I_.tl=t.O_,this.R_.tl=t.P_,this.N_.tl=t.B_,jg(this,i,this);var s=this.iw;s!==e&&this.Fr(new ig(s)),this.Z_()!==r&&this.Fr(new ng),t.zr(this.Ur),t.q_(n)}},i.ew=function(){},i.Jf=function(){var t,n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Wr(),this.jd.G_(),t=0,n=this.T_;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Sr.awrap(i.Jf());case 7:t++,e.next=3;break;case 10:this.E_.Jf(),this.I_.Jf(),this.R_.Jf(),this.N_.Jf();case 14:case"end":return e.stop()}},null,this,null,Ve)},i.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Gs(this.T_.map(function(t){return t.Gd()})).then(j));case 1:case"end":return t.stop()}},null,this,null,Ve)},b(n,[{key:"x_",get:function(){return this.E_}},{key:"P_",get:function(){return this.R_}},{key:"O_",get:function(){return this.I_}},{key:"rw",get:function(){return this.jd.rw}},{key:"sw",get:function(){return this.jd.sw},set:function(t){this.jd.sw=t}},{key:"iw",get:function(){return this.jd.iw}},{key:"e_",get:function(){return this.jd.e_},set:function(t){this.jd.e_=t}},{key:"r_",get:function(){return this.jd.r_}},{key:"uw",get:function(){return this.jd.uw}},{key:"s_",get:function(){return this.jd.s_}},{key:"ts",get:function(){return this.jd.ts}},{key:"u_",get:function(){return this.jd.u_}},{key:"B_",get:function(){return this.N_}},{key:"ow",get:function(){return this.jd.ow}},{key:"p_",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.hw,i+=h.aw,e+=h.cw,r+=h.fw,s+=h.vw,u.amountOfBufferedAudioSegments+=h.dw.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.dw.amountOfBufferedVideoSegments}return{hw:n,aw:i,cw:e,fw:r,vw:s,dw:u}}(this.T_.map(function(t){return t.p_}))}},{key:"o_",get:function(){return this.jd.o_},set:function(t){this.jd.o_=t}},{key:"lw",get:function(){return this.jd.lw}},{key:"h_",get:function(){return this.jd.h_}},{key:"a_",get:function(){return this.jd.a_},set:function(t){this.jd.a_=t}},{key:"_w",get:function(){return this.jd._w}},{key:"ww",get:function(){return this.jd.ww},set:function(t){this.jd.ww=t}},{key:"kl",get:function(){return this.jd.kl}},{key:"gw",get:function(){return this.jd.gw}},{key:"c_",get:function(){return this.jd.c_}},{key:"f_",get:function(){return this.jd.f_}},{key:"v_",get:function(){return this.jd.v_}},{key:"d_",get:function(){return this.jd.d_},set:function(t){this.jd.d_=t}},{key:"yw",get:function(){return!1},set:function(t){}},{key:"tl",get:function(){return this.jd},set:function(t){this.nw(t)}}]),n}(tg),cy=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return S(n,t),b(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(mc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(oy||(oy={}));var fy=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Yt(s),s.constructor),s}return S(n,t),b(n,[{key:"name",get:function(){return"MediaError"}}]),n}(jt);function vy(t){Sw(t,"MEDIA_ERR_ABORTED",oy.ABORTED),Sw(t,"MEDIA_ERR_NETWORK",oy.NETWORK),Sw(t,"MEDIA_ERR_DECODE",oy.DECODE),Sw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",oy.SRC_NOT_SUPPORTED),Sw(t,"MEDIA_ERR_ENCRYPTED",oy.ENCRYPTED)}function dy(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new fy(oy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new fy(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return oy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return oy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return oy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return oy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return oy.NETWORK;if(i===n.ErrorCategory.SOURCE)return oy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return oy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return oy.ENCRYPTED;if(i===n.ErrorCategory.AD)return oy.ADVERTISEMENT_ERROR;return oy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function ly(t){switch(t){case oy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case oy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case oy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case oy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case oy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case oy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case oy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}vy(fy),vy(fy.prototype);var _y,wy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Wd=function(n){return t.prototype.Wd.call(this,n)},i.yd=function(){return zw(this)},n}(pw);!function(t){t.Vf="audio",t.zf="video",t.Bn="text",t.Wf="image",t.Nf="unknown"}(_y||(_y={}));var gy=function(){function t(){this.mw=[],this.wd=void 0}var n=t.prototype;return n.pw=function(t){this.mw.push(t),this.wd&&this.wd.push(t.gd)},n.zd=function(t){return this.mw[t]},n.kw=function(t){return H(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Is(t,n[i]))return!1;return!0}(this.mw,t):Is(this.mw,t)},b(t,[{key:"Qd",get:function(){return this.mw}},{key:"Yd",get:function(){return this.mw.length}},{key:"gd",get:function(){var t,n;return this.wd||(this.wd=((n=(t=this).Qd.map(function(t){return t.gd})).item=function(n){var i=0|n,e=t.zd(i);return e&&e.gd||void 0},n)),this.wd}}]),t}(),yy=function(t){function n(n){var i;return(i=t.call(this,dw.Ld)||this).md=n,i}return S(n,t),n.prototype.yd=function(){return new my(this.md.gd)},n}(lw),my=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(_w),py=0;function ky(){return py++}var Ay=0;var by=0;var Ty=0;function Sy(){return Ty++}var Ey=0;var Iy=function(t){function n(n){var i;return(i=t.call(this)||this).nr=_y.Vf,i.Aw=void 0,i.Bo=void 0,i.bw=void 0,i.Tw=void 0,i.Sw=!1,i.mw=void 0,i.wd=void 0,i.Aw=n,i.Tw=ky(),i.Bo=Ey+++"",i.bw=n.label,i.mw=new gy,i.Ew(),i}S(n,t);var i=n.prototype;return i.Iw=function(t){this.sl=t},i.Ew=function(){this.sl=this.Rw},b(n,[{key:"il",get:function(){}},{key:"sl",get:function(){return this.Sw},set:function(t){this.Sw!==t&&(this.Sw=t,this.Rw=t,this.Fr(new kw(this)))}},{key:"Rw",get:function(){return!!this.Aw.enabled},set:function(t){this.Aw.enabled=t}},{key:"gd",get:function(){return this.wd||(this.wd=Hw(this)),this.wd}},{key:"ul",get:function(){return this.Bo}},{key:"ol",get:function(){return this.Tw}},{key:"hl",get:function(){return this.Aw.kind}},{key:"al",get:function(){return this.bw},set:function(t){t!==this.bw&&(this.bw=t,this.Fr(new yy(this)))}},{key:"cl",get:function(){return this.Aw.language}},{key:"yl",get:function(){return this.sl?"enabled":"disabled"}},{key:"Nw",get:function(){return this.Aw}},{key:"fl",get:function(){return this.mw}},{key:"vl",get:function(){},set:function(t){}}]),n}(Js),Ry=0;var Ny,Dy,Cy,xy=function(t){function n(n){var i;return(i=t.call(this)||this).nr=_y.zf,i.Aw=void 0,i.Bo=void 0,i.Tw=void 0,i.Sw=!1,i.mw=void 0,i.bw=void 0,i.wd=void 0,i.Aw=n,i.Tw=ky(),i.Bo=Ry+++"",i.mw=new gy,i.bw=n.label,i.Ew(),i}S(n,t);var i=n.prototype;return i.Ew=function(){this.sl=this.Rw},i.Iw=function(t){this.sl=t},b(n,[{key:"il",get:function(){}},{key:"sl",get:function(){return this.Sw},set:function(t){this.Sw!==t&&(this.Sw=t,this.Rw=t,this.Fr(new kw(this)))}},{key:"Rw",get:function(){return!!this.Aw.selected},set:function(t){this.Aw.selected=t}},{key:"gd",get:function(){return this.wd||(this.wd=Hw(this)),this.wd}},{key:"ul",get:function(){return this.Bo}},{key:"ol",get:function(){return this.Tw}},{key:"hl",get:function(){return"main"}},{key:"al",get:function(){return this.bw},set:function(t){t!==this.bw&&(this.bw=t,this.Fr(new yy(this)))}},{key:"cl",get:function(){return this.Aw.language}},{key:"yl",get:function(){return this.sl?"enabled":"disabled"}},{key:"Nw",get:function(){return this.Aw}},{key:"fl",get:function(){return this.mw}},{key:"vl",get:function(){},set:function(t){}}]),n}(Js),Oy=function(t){function n(n){var i;return(i=t.call(this,Fc.ra)||this).ow=n,i}return S(n,t),n}(Ks);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ny||(Ny={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Dy||(Dy={})),function(t){t.Dw="cue",t.Cw="region",t.xw="stylesheet"}(Cy||(Cy={}));var Py,By,Ly={"line-left":"start",center:"middle","line-right":"end"},My={start:"line-left",middle:"center",end:"line-right"};function Uy(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Fy(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:g(i),y(r)?e:r;var i,e,r}!function(t){t.Ow="Pw",t.Bw="Lw",t.Ld="Zo"}(Py||(Py={})),function(t){t.Ow="enter",t.Bw="exit",t.Ld="update"}(By||(By={}));var Hy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Mw=i,e}return S(n,t),n}(lw),Vy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(_w);function zy(t){var n,i=[Py.Ow,Py.Bw,Py.Ld],e={get track(){return t.md.gd},get id(){return t.ul},get uid(){return t.ol},get startTime(){return t.Uw},get endTime(){return t.Fw},get content(){return t.Hw},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new $s(e),t.Hr(i,function(t){return n.Fr(t.gd)}),e}function Wy(){}function Xy(t){return Ew(zy(t),{get align(){return t.Vw},get line(){return t.zw},get lineAlign(){return t.Ww},get position(){return t.Xw},get positionAlign(){return t.qw},get region(){return t.Gw?t.Gw.gd:null},get size(){return t.ls},get snapToLines(){return t.Qw},get text(){return t.Hw},get vertical(){return t.Yw}})}var qy=.02;function Gy(t,n){return Lt(t.Uw,n.Uw,qy)&&Lt(t.Fw,n.Fw,qy)&&t.ul===n.ul}var Qy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Tw=void 0,u.Bo=void 0,u.jw=void 0,u.Zw=void 0,u.wd=void 0,u.Jw=void 0,u.$w=!1,u.Kw=void 0,u.tg=void 0,u.ng="",u.ig=-1,u.Tw=Sy(),u.jw=n,u.Zw=i,u.Kw=e,u.tg=Boolean(r),u.Bo=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.yd=function(){return zy(this)},i.eg=function(t){return this===t||Nw(this,t)&&Gy(this,t)},i.Jf=function(){this.Wr()},b(n,[{key:"Uw",get:function(){return this.jw},set:function(t){this.jw=t}},{key:"Fw",get:function(){return this.Zw},set:function(t){this.Zw=t}},{key:"ul",get:function(){return this.Bo}},{key:"ol",get:function(){return this.Tw}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}},{key:"rg",get:function(){return this.$w},set:function(t){this.$w=t}},{key:"md",get:function(){return this.Jw},set:function(t){this.Jw=t}},{key:"Hw",get:function(){return this.Kw},set:function(t){this.Kw=t}},{key:"sg",get:function(){return this.ng},set:function(t){this.ng=t}},{key:"ug",get:function(){return this.tg},set:function(t){this.tg=t}}]),n}(Js);function Yy(t,n){return t.Hw===n.Hw&&t.zw===n.zw&&t.Ww===n.Ww&&t.Xw===n.Xw&&t.qw===n.qw&&t.Gw===n.Gw&&t.Qw===n.Qw&&t.ls===n.ls&&t.Vw===n.Vw&&t.Yw===n.Yw}var jy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).zw="auto",u.Ww="start",u.Xw="auto",u.qw="auto",u.Gw=void 0,u.Qw=!0,u.ls=100,u.Vw="center",u.Yw="",u}return S(n,t),n.prototype.eg=function(n){return this===n||Nw(this,n)&&t.prototype.eg.call(this,n)&&Yy(this,n)},b(n,[{key:"gd",get:function(){return this.wd||(this.wd=Xy(this)),this.wd}},{key:"nr",get:function(){return Cy.Dw}}]),n}(Qy);function Zy(t){var n="number"==typeof t.zw?t.zw:g(t.zw);return y(n)||t.Qw||!(n<0||n>100)?y(n)?t.Qw?-1:100:n:100}function Jy(t){return Fy(t.Xw,t.Vw)}function $y(t){return Uy(t.qw,t.Vw)}function Ky(t){var n=100,i=$y(t),e=Jy(t);return"line-left"===i&&(n=100-e),"line-right"===i&&(n=e),"center"===i&&e<=50&&(n=2*e),"center"===i&&e>50&&(n=2*(100-e)),t.ls<n?t.ls:n}function tm(t){return{get id(){return t.ul},get identifier(){return t.ul},get lines(){return t.og},get regionAnchorX(){return t.hg},get regionAnchorY(){return t.ag},get scrollValue(){return t.cg},get viewportAnchorX(){return t.fg},get viewportAnchorY(){return t.vg},get width(){return t.dg}}}var nm=function(){function t(t,n,i,e,r,s,u,o){this.wd=void 0,this.ul=t,this.dg=n,this.og=i,this.hg=e,this.ag=r,this.fg=s,this.vg=u,this.cg=o}return b(t,[{key:"gd",get:function(){return this.wd||(this.wd=tm(this)),this.wd}},{key:"nr",get:function(){return Cy.Cw}}]),t}(),im=function(){function t(){}var n=t.prototype;return n.lg=function(t){return this._g()*t},n.wg=function(t){return this.gg(t)>0},n.yg=function(t){return this.gg(t)>=0},n.mg=function(t,n){return this.kg(t).pg(n)},n.eg=function(t){return 0===this.gg(t)},n.Ag=function(t){return this.gg(t)<0},n.pg=function(t){return this.gg(t)<=0},n.bg=function(){return this.Tg()?this.Sg():this},n.Eg=function(t){return this.pw(t.Sg())},n.kg=function(t){return this.Eg(t).bg()},t}();function em(t,n){return t.Ig()?n.Ig()?ds.wr:ds.gr:n.Ig()?ds.yr:t.Rg()?n.Rg()&&t.Tg()===n.Tg()?ds.wr:t.Tg()?ds.yr:ds.gr:n.Tg()?ds.gr:ds.yr}var rm=function(){function t(t,n){this.Ng=void 0,this.Dg=void 0,this.Ng=t,this.Dg=n}t.Cg=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.xg=function(n){return n.unsigned?new t(n,Ot.UZERO):new t(n,n.isNegative()?Ot.NEG_ONE:Ot.ZERO)},t.Og=function(n,i){if(y(n))return i?t.Pg:t.Bg;if(i){if(n<0)return t.Pg;if(n>=3.402823669209385e38)return t.Lg}else{if(n<=-1.7014118346046923e38)return t.Mg;if(n+1>=1.7014118346046923e38)return t.Ug}return n<0?t.Og(-n,i).Sg():t.Cg(Ot.fromNumber(n%0x10000000000000000),Ot.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Fg=function(){return this.Dg.unsigned},n.Hg=function(){return this.Ng.isZero()&&this.Dg.isZero()},n.Tg=function(){return this.Dg.isNegative()},n.Vg=function(){return this.Fg()?t.Cg(this.Ng,this.Dg,!1):this},n.zg=function(){return this.Fg()?this:t.Cg(this.Ng,this.Dg,!0)},n.Wg=function(){return this.Ng},n._g=function(){return this.Tg()?-this.Sg()._g():0x10000000000000000*this.Dg.toNumber()+this.Ng.toUnsigned().toNumber()},n.Xg=function(){return this.Ng.toInt()},n.eg=function(t){return(this.Fg()===t.Fg()||this.Dg.getHighBits()>>>31!=1||t.Dg.getHighBits()>>>31!=1)&&(this.Dg.toUnsigned().eq(t.Dg.toUnsigned())&&this.Ng.toUnsigned().eq(t.Ng.toUnsigned()))},n.gg=function(t){if(this.eg(t))return ds.wr;var n=this.Tg(),i=t.Tg();if(n&&!i)return ds.yr;if(!n&&i)return ds.gr;if(!this.Fg())return this.Eg(t).Tg()?ds.yr:ds.gr;var e=this.zg(),r=t.zg(),s=r.Dg.comp(e.Dg);return s>0||0===s&&r.Ng.gt(e.Ng)?ds.yr:ds.gr},n.Ag=function(t){return this.gg(t)<0},n.pg=function(t){return this.gg(t)<=0},n.qg=function(t){return this.gg(t)>0},n.Gg=function(t){return this.gg(t)>=0},n.Qg=function(){return new t(this.Ng.not(),this.Dg.not())},n.Yg=function(n){return new t(this.Ng.and(n.Ng),this.Dg.and(n.Dg))},n.jg=function(n){return new t(this.Ng.or(n.Ng),this.Dg.or(n.Dg))},n.Zg=function(n){var i=127&n;return 0===i?this:i<64?t.Cg(this.Ng.shl(i),this.Dg.shl(i).or(this.Ng.shru(64-i)),this.Fg()):t.Cg(Ot.ZERO,this.Ng.shl(i-64),this.Fg())},n.Jg=function(n){var i=127&n;return 0===i?this:i<64?t.Cg(this.Ng.shru(i).or(this.Dg.shl(64-i)),this.Dg.shr(i),this.Fg()):t.Cg(this.Dg.shr(i-64),this.Dg.isNegative()?Ot.NEG_ONE:Ot.ZERO,this.Fg())},n.$g=function(n){var i=127&n;return 0===i?this:i<64?t.Cg(this.Ng.shru(i).or(this.Dg.shl(64-i)),this.Dg.shru(i),this.Fg()):64===i?t.Cg(this.Dg,Ot.ZERO,this.Fg()):t.Cg(this.Dg.shru(i-64),Ot.ZERO,this.Fg())},n.pw=function(n){var i=this.Dg.high>>>16,e=65535&this.Dg.high,r=this.Dg.low>>>16,s=65535&this.Dg.low,u=this.Ng.high>>>16,o=65535&this.Ng.high,h=this.Ng.low>>>16,a=65535&this.Ng.low,c=n.Dg.high>>>16,f=65535&n.Dg.high,v=n.Dg.low>>>16,d=65535&n.Dg.low,l=n.Ng.high>>>16,_=65535&n.Ng.high,w=n.Ng.low>>>16,g=0,y=0,m=0,p=0,k=0,A=0,b=0,T=0;b+=(T+=a+(65535&n.Ng.low))>>>16,T&=65535,A+=(b+=h+w)>>>16,b&=65535,k+=(A+=o+_)>>>16,A&=65535,p+=(k+=u+l)>>>16,k&=65535,m+=(p+=s+d)>>>16,p&=65535,y+=(m+=r+v)>>>16,m&=65535,g+=(y+=e+f)>>>16,y&=65535,g+=i+c,g&=65535;var S=this.Fg(),E=Ot.fromBits(m<<16|p,g<<16|y,S),I=Ot.fromBits(b<<16|T,k<<16|A,S);return t.Cg(I,E,S)},n.Eg=function(t){return this.pw(t.Sg())},n.Sg=function(){return this.Qg().pw(t.Kg)},n.ty=function(n){if(this.Hg()||n.Hg())return this.Fg()?t.Pg:t.Bg;if(this.Tg())return n.Tg()?this.Sg().ty(n.Sg()):this.Sg().ty(n).Sg();if(n.Tg())return this.ty(n.Sg()).Sg();if(this.Dg.isZero()&&0===this.Ng.high&&n.Dg.isZero()&&0===n.Ng.high)return t.xg(this.Ng.multiply(n.Ng));var i=Ot.fromBits(4294967295,0,!0),e=this.Ng.and(i),r=this.Ng.shru(32),s=this.Dg.and(i),u=this.Dg.shru(32),o=n.Ng.and(i),h=n.Ng.shru(32),a=n.Dg.and(i),c=n.Dg.shru(32),f=Ot.UZERO,v=Ot.UZERO,d=Ot.UZERO,l=Ot.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(r.mul(a)).add(e.mul(c)).and(i);var _=Ot.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),w=Ot.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Cg(_,w,this.Fg())},n.ny=function(n){var i,e,r=n;if(r.Hg())throw new RangeError("division by zero");if(this.Hg())return this.Fg()?[t.Pg,t.Pg]:[t.Bg,t.Bg];if(this.Fg()){if(r.Fg()||(r=r.zg()),r.qg(this))return[t.Pg,this];if(r.qg(this.$g(1)))return[e=t.iy,i=this.Eg(r)];e=t.Pg}else{if(this.eg(t.Mg)){if(r.eg(t.Kg)||r.eg(t.ey))return[t.Mg,t.Bg];if(r.eg(t.Mg))return[t.Kg,t.Bg];var s=this.Jg(1).sy(r).Zg(1);return s.eg(t.Bg)?e=r.Tg()?t.Kg:t.ey:(i=this.Eg(r.ty(s)),e=s.pw(i.sy(r))),[e,i=this.Eg(r.ty(e))]}if(r.eg(t.Mg))return this.Fg()?[t.Pg,this]:[t.Bg,this];if(this.Tg()){if(r.Tg())return this.Sg().ny(r.Sg());var u=this.Sg().ny(r);return e=u[0],i=u[1],[e.Sg(),i.Sg()]}if(r.Tg()){var o=this.ny(r.Sg());return e=o[0],i=o[1],[e.Sg(),i.Sg()]}e=t.Bg}for(i=this;i.Gg(r);){for(var h=_.max(1,_.floor(i._g()/r._g())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Og(h),v=f.ty(r);v.Tg()||v.qg(i);)h-=c,v=(f=t.Og(h,this.Fg())).ty(r);f.Hg()&&(f=t.Kg),e=e.pw(f),i=i.Eg(v)}return[e,i]},n.sy=function(t){return this.ny(t)[0]},n.uy=function(t){return this.ny(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Hg())return"0";if(this.Tg()){if(this.eg(t.Mg)){var e=t.Og(i),r=this.sy(e),s=r.ty(e).Eg(this);return r.toString(i)+s.Xg().toString(i)}return"-"+this.Sg().toString(i)}for(var u=t.Og(_.pow(i,6),this.Fg()),o=this,h="";;){var a=o.sy(u),c=(o.Eg(a.ty(u)).Xg()>>>0).toString(i);if((o=a).Hg())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();rm.Bg=rm.xg(Ot.ZERO),rm.Pg=rm.xg(Ot.UZERO),rm.Kg=rm.xg(Ot.ONE),rm.iy=rm.xg(Ot.UONE),rm.ey=rm.xg(Ot.NEG_ONE),rm.Ug=rm.Cg(Ot.NEG_ONE,Ot.MAX_VALUE,!1),rm.Lg=rm.Cg(Ot.MAX_UNSIGNED_VALUE,Ot.MAX_UNSIGNED_VALUE,!0),rm.Mg=rm.Cg(Ot.ZERO,Ot.MIN_VALUE,!1);var sm=function(){function t(t,n){void 0===n&&(n=1),this.oy=void 0,this.hy=void 0,this.oy=t,this.hy=n}t.ay=function(n){return new t(_.ceil(n.oy),n.hy)},t.vy=function(n){return new t(_.floor(n.oy),n.hy)},t.ly=function(t,n){return t.yg(n)?t:n},t._y=function(t,n){return t.pg(n)?t:n};var n=t.prototype;return n.pw=function(n){return this.hy>=n.hy?new t(this.oy+n.wy(this.hy).oy,this.hy):new t(this.wy(n.hy).oy+n.oy,n.hy)},n.wg=function(t){return t.Ag(this)},n.yg=function(t){return t.pg(this)},n.kg=function(n){return this.hy>=n.hy?new t(_.abs(this.oy-n.wy(this.hy).oy),this.hy):n.kg(this)},n.mg=function(t,n){return this.kg(t).pg(n)},n.gg=function(t){return i=t,(n=this).hy>=i.hy?As(n.oy,i.wy(n.hy).oy):As(n.wy(i.hy).oy,i.oy);var n,i},n.eg=function(t){return 0===this.gg(t)},n.Ag=function(t){return this.gg(t)<0},n.pg=function(t){return this.gg(t)<=0},n.wy=function(n){return new t(this.oy*(n/this.hy),n)},n.Eg=function(n){return this.hy>=n.hy?new t(this.oy-n.wy(this.hy).oy,this.hy):new t(this.wy(n.hy).oy-n.oy,n.hy)},n.gy=function(n){return new t(this.oy*n,this.hy)},b(t,[{key:"Rg",get:function(){return!isFinite(this.oy)}},{key:"yy",get:function(){return this.oy/this.hy}}]),t}();sm.my=new sm(1/6,1),sm.Bg=new sm(0),sm.py=new sm(1/0),sm.ky=1e6;var um=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qn=void 0,e.hy=void 0,e.Qn=n.toSigned(),e.hy=i>>>0,e}S(n,t),n.Ay=function(t,i){return void 0===i&&(i=1e6),n.Og(t*i,i)},n.Og=function(t,i){return y(t)?n.by:t===1/0?n.Ty:t===-1/0?n.Sy:new n(Ot.fromNumber(t),i)},n.xg=function(t,i){return new n(t,i)},n.Ey=function(t){return n.Ay(t.yy,1e6)},n.Iy=function(t){return new n(Ot.fromNumber(t.getTime()),1e3)},n.ly=function(t,n){return t.yg(n)?t:n},n._y=function(t,n){return t.pg(n)?t:n},n.Ry=function(t,i,e){return n.ly(i,n._y(e,t))};var i=n.prototype;return i.Tg=function(){return this.Qn.isNegative()},i.Hg=function(){return 0!==this.hy&&this.Qn.isZero()},i.Rg=function(){return 0===this.hy&&!this.Qn.isZero()},i.Ig=function(){return 0===this.hy&&this.Qn.isZero()},i._g=function(){if(0===this.hy)return this.Qn.isZero()?NaN:this.Qn.isNegative()?-1/0:1/0;var t=this.Qn.divide(this.hy),n=this.Qn.subtract(t.multiply(this.hy));return t.toNumber()+n.toNumber()/this.hy},i.Wg=function(){if(0===this.hy)throw new v("Failed to convert timestamp");return this.Qn},i.Ny=function(){return new Date(0===this.hy?NaN:this.wy(1e3).Qn.toNumber())},i.Dy=function(){return new sm(0===this.hy?this._g():this.Qn.toNumber(),this.hy)},i.wy=function(t,i){void 0===i&&(i=am.Cy);var e=this.hy;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t.ny(n),r=e[0],s=e[1];if(s.Hg())return r;if(i===am.Cy)return s.Tg()?r.Eg(rm.Kg):r;if(i===am.xy)return s.Tg()?r:r.pw(rm.Kg);var u=s.ty(rm.Og(2));return u.Tg()?u.Sg().Ag(n)?r:r.Eg(rm.Kg):u.Ag(n)?r:r.pw(rm.Kg)}(rm.xg(this.Qn).ty(rm.Og(t/r)),rm.Og(e/r),i).Wg(),t)},i.gg=function(t){if(this===t)return ds.wr;if(0===this.hy||0===t.hy)return em(this,t);if(this.Hg())return t.Hg()?ds.wr:t.Tg()?ds.gr:ds.yr;if(t.Hg())return this.Tg()?ds.yr:ds.gr;var n=_.min(this.hy,t.hy),i=this.wy(n,am.Oy).Qn,e=t.wy(n,am.Oy).Qn;return i.compare(e)},i.Sg=function(){return 0===this.hy?om(this):new n(this.Qn.negate(),this.hy)},i.pw=function(t){if(0===this.hy||0===t.hy)return hm(this,t);if(this.Hg())return t;if(t.Hg())return this;var i=_.max(this.hy,t.hy),e=this.wy(i,am.Oy),r=t.wy(i,am.Oy);return new n(e.Qn.add(r.Qn),i)},i.ty=function(t){if(this.Ig()||y(t))return n.by;if(this.Rg()||!isFinite(t)){if(this.Hg()||0===t)return n.by;var i=this.Tg()?n.Sy:n.Ty;return t<0?i.Sg():i}return this.Hg()?this:new n(0===t?Ot.ZERO:this.Qn.multiply(t),this.hy)},i.sy=function(t){if(this.Ig()||y(t))return n.by;if(this.Rg())return isFinite(t)?0===t?1/t<0?this.Sg():this:t<0?this.Sg():this:n.by;if(!isFinite(t))return new n(Ot.ZERO,this.hy);if(this.Hg())return 0===t?n.by:new n(Ot.ZERO,this.hy);if(0===t){var i=this.Tg()?n.Sy:n.Ty;return 1/t<0?i.Sg():i}return new n(this.Qn.divide(t),this.hy)},i.Py=function(){return[this.Qn.low,this.Qn.high,this.hy]},n}(im);function om(t){return t.Ig()?t:t.Tg()?um.Ty:um.Sy}function hm(t,n){return t.Ig()||n.Ig()?um.by:t.Rg()&&n.Rg()?t.Tg()===n.Tg()?t:um.by:t.Rg()?t:n}um.Bg=new um(Ot.ZERO,1e6),um.by=new um(Ot.ZERO,0),um.Ty=new um(Ot.ONE,0),um.Sy=new um(Ot.NEG_ONE,0);var am,cm=function(t){function n(n,i){var e;return(e=t.call(this)||this).Qn=void 0,e.hy=void 0,e.Qn=BigInt.asIntN(64,n),e.hy=i>>>0,e}S(n,t),n.Ay=function(t,i){return void 0===i&&(i=1e6),n.Og(t*i,i)},n.Og=function(t,i){return y(t)?n.by:t===1/0?n.Ty:t===-1/0?n.Sy:new n(BigInt(_.floor(t)),i)},n.xg=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Ey=function(t){return n.Ay(t.yy,1e6)},n.Iy=function(t){return n.Og(t.getTime(),1e3)},n.ly=function(t,n){return t.yg(n)?t:n},n._y=function(t,n){return t.pg(n)?t:n},n.Ry=function(t,i,e){return n.ly(i,n._y(e,t))};var i=n.prototype;return i.Tg=function(){return this.Qn<BigInt(0)},i.Hg=function(){return 0!==this.hy&&this.Qn===BigInt(0)},i.Rg=function(){return 0===this.hy&&this.Qn!==BigInt(0)},i.Ig=function(){return 0===this.hy&&this.Qn===BigInt(0)},i._g=function(){if(0===this.hy)return this.Qn===BigInt(0)?NaN:this.Qn<BigInt(0)?-1/0:1/0;var t=this.Qn/BigInt(this.hy),n=this.Qn-t*BigInt(this.hy);return Number(t)+Number(n)/this.hy},i.Wg=function(){if(0===this.hy)throw new v("Failed to convert timestamp");return this.By()},i.By=function(){var t=this.Qn&BigInt(4294967295),n=this.Qn>>BigInt(32)&BigInt(4294967295);return Ot.fromBits(Number(t),Number(n))},i.Ny=function(){return new Date(0===this.hy?NaN:Number(this.wy(1e3).Qn))},i.Dy=function(){return new sm(0===this.hy?this._g():Number(this.Qn),this.hy)},i.wy=function(t,i){void 0===i&&(i=am.Cy);var e=this.hy;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===am.Cy)return r<BigInt(0)?e-BigInt(1):e;if(i===am.xy)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.Qn*BigInt(t/r),BigInt(e/r),i),t)},i.gg=function(t){if(this===t)return ds.wr;if(0===this.hy||0===t.hy)return em(this,t);if(this.Hg())return t.Hg()?ds.wr:t.Tg()?ds.gr:ds.yr;if(t.Hg())return this.Tg()?ds.yr:ds.gr;var n=_.min(this.hy,t.hy),i=this.wy(n,am.Oy).Qn,e=t.wy(n,am.Oy).Qn;return i>e?ds.gr:i<e?ds.yr:ds.wr},i.Sg=function(){return 0===this.hy?fm(this):new n(-this.Qn,this.hy)},i.pw=function(t){if(0===this.hy||0===t.hy)return vm(this,t);if(this.Hg())return t;if(t.Hg())return this;var i=_.max(this.hy,t.hy),e=this.wy(i,am.Oy),r=t.wy(i,am.Oy);return new n(e.Qn+r.Qn,i)},i.ty=function(t){if(this.Ig()||y(t))return n.by;if(this.Rg()||!isFinite(t)){if(this.Hg()||0===t)return n.by;var i=this.Tg()?n.Sy:n.Ty;return t<0?i.Sg():i}return this.Hg()?this:new n(0===t?BigInt(0):this.Qn*BigInt(t),this.hy)},i.sy=function(t){if(this.Ig()||y(t))return n.by;if(this.Rg())return isFinite(t)?0===t?1/t<0?this.Sg():this:t<0?this.Sg():this:n.by;if(!isFinite(t))return new n(BigInt(0),this.hy);if(this.Hg())return 0===t?n.by:new n(BigInt(0),this.hy);if(0===t){var i=this.Tg()?n.Sy:n.Ty;return 1/t<0?i.Sg():i}return new n(this.Qn/BigInt(t),this.hy)},i.Py=function(){var t=this.By();return[t.low,t.high,this.hy]},b(n,null,[{key:"Bg",get:function(){return n.Ly||(n.Ly=new n(BigInt(0),1e6)),n.Ly}},{key:"by",get:function(){return n.My||(n.My=new n(BigInt(0),0)),n.My}},{key:"Ty",get:function(){return n.Uy||(n.Uy=new n(BigInt(1),0)),n.Uy}},{key:"Sy",get:function(){return n.Fy||(n.Fy=new n(BigInt(-1),0)),n.Fy}}]),n}(im);function fm(t){return t.Ig()?t:t.Tg()?cm.Ty:cm.Sy}function vm(t,n){return t.Ig()||n.Ig()?cm.by:t.Rg()&&n.Rg()?t.Tg()===n.Tg()?t:cm.by:t.Rg()?t:n}cm.Ly=void 0,cm.My=void 0,cm.Uy=void 0,cm.Fy=void 0,function(t){t[t.Cy=0]="Cy",t[t.xy=1]="xy",t[t.Oy=2]="Oy"}(am||(am={}));var dm=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?cm:um;function lm(t,n){return t.gg(n)}function _m(t){return dm.xg(Ot.fromBits(t[0],t[1],!1),t[2])}var wm=9e4,gm=_.pow(2,33),ym=dm.Og(gm,wm),mm=ym.sy(2);function pm(t){return null!=t&&!t.Ig()}function km(t,n){return t.Rg()||n.Rg()?dm.ly(t,n):Tm(t,n).wg(dm.Bg)?t:n}function Am(t,n){var i=t.Eg(n);return i.Ag(dm.Bg)&&(i=i.pw(ym)),i}function bm(t,n){var i=t.pw(n);return i.yg(ym)&&(i=i.Eg(ym)),i}function Tm(t,n){var i=t.Eg(n);return t.Rg()||n.Rg()?i:(i.yg(mm)?i=i.Eg(ym):i.Ag(mm.Sg())&&(i=i.pw(ym)),i)}function Sm(t,n){if(t||n)return t?n?dm._y(t,n):t:n}function Em(t,n){if(t||n)return t?n?dm.ly(t,n):t:n}var Im,Rm,Nm,Dm,Cm={Hy:0,Vy:1/0,zy:0},xm=6,Om=["WEBVTT ","WEBVTT\t","WEBVTT\n"],Pm=[" ","\t","\n","\f","\r"],Bm=/^\d*$/,Lm=/.*[0-9]+.*/,Mm=/^[\d.-]+$/,Um=/(^\.|\.$)/,Fm=/(\D\.|\.\D)/;function Hm(t,n){void 0===n&&(n=Cm);var i={Al:[],Wy:[],Xy:[]},e=Vm(t),r=new po;if(Jm(e),zm(e,function(t){return"\n"!==t},r),r.ks>=e.length)return i;(r.gs(1),"\n"!==e.charAt(r.ks))?Gm(Wm(e,r,!1,!0,i,n),i):r.gs(1);for(zm(e,function(t){return"\n"===t},r);r.ks<e.length;){Gm(Wm(e,r,!1,!1,i,n),i),zm(e,function(t){return"\n"===t},r)}return i}function Vm(t){var n=Kr(t,"\0"," "),i=Kr(n,"\r\n","\n");return Kr(i,"\r","\n")}function zm(t,n,i){for(var e=i.ks;i.ks<t.length&&n(t.charAt(i.ks));)i.gs(1);return t.substring(e,i.ks)}function Wm(t,n,e,r,s,u){for(var o,h=0,a=n.ks,c="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=zm(t,function(t){return"\n"!==t},n),h++,n.ks>=t.length?f=!0:n.gs(1),ts(o,"--\x3e")){if(r||1!==h&&(2!==h||v)){n.ys(a);break}v=!0,a=n.ks,d=new jy(0,0,"",!1,c);try{Qm(o,s.Wy,d,u),c=""}catch(t){i.ye(t),d=null}}else{if(""===o)break;r&&ns(o,"X-TIMESTAMP-MAP")&&(s.qy=Xm(o)),r||2!==h||e||(es("STYLE",c.replace(/ /g,""))?(l={nr:Cy.xw},c=""):es("REGION",c.replace(/ /g,""))&&(_=new nm("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.ks}if(d)return d.Hw=c,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&ts(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":hp(o,n);break;case"WIDTH":fp(o,n);break;case"LINES":cp(o,n);break;case"REGIONANCHOR":var h=op(o);h&&(n.hg=h[0],n.ag=h[1]);break;case"VIEWPORTANCHOR":var a=op(o);a&&(n.fg=a[0],n.vg=a[1]);break;case"SCROLL":ap(o,n)}}}}(c,_),_;return null}function Xm(t){var n,i,e=t.split("=")[1].trim().split(","),r=qm(e[0].trim(),"MPEGTS")?e[0]:e[1],s=qm(e[0].trim(),"LOCAL")?e[0]:e[1];return{Gy:(i=Number(r.split(/:(.*)/)[1].trim())||0,dm.Og(i,wm)),Qy:dm.Ay(null!=(n=Zm(s.split(/:(.*)/)[1].trim(),new po))?n:0)}}function qm(t,n){return ns(t,n)}function Gm(t,n){t&&function(t){return t.nr===Cy.Dw}(t)?n.Al.push(t):t&&function(t){return t.nr===Cy.Cw}(t)?n.Wy.push(t):t&&function(t){return t.nr===Cy.xw}(t)&&n.Xy.push(t)}function Qm(t,n,i,e){var r=new po;if($m(t,r),i.Uw=Ym(Zm(t,r),e),$m(t,r),"--\x3e"!==t.substring(r.ks,r.ks+3))throw v("Something went wrong with parsing a WebVTT Cue");r.gs(3),$m(t,r),i.Fw=Ym(Zm(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&ts(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":ep(h,n,i);break;case"VERTICAL":sp(h,n);break;case"D":up(h,n);break;case"LINE":case"L":np(h,n);break;case"POSITION":case"T":ip(h,n);break;case"SIZE":case"S":rp(h,n);break;case"ALIGN":case"A":tp(h,n)}}}}(t.substring(r.ks,t.length),i,n)}function Ym(t,n){return t+n.Hy}function jm(t){return/^[0-9]$/.test(t)}function Zm(t,n){var i,e,r,s=Kr(t,",","."),u=!1;if(n.ks>=s.length||!jm(s.charAt(n.ks)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=zm(s,jm,n),h=w(o,10);if((o.length>2||h>59)&&(u=!0),n.ks>=s.length||":"!==s.charAt(n.ks))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var a=zm(s,jm,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=w(a,10);if(u||n.ks<s.length&&":"===s.charAt(n.ks)){if(n.ks>=s.length||":"!==s.charAt(n.ks))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var f=zm(s,jm,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,e=c,r=w(f,10)}else i=0,e=h,r=c;if(n.ks>=s.length||"."!==s.charAt(n.ks))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var d=zm(s,jm,n),l=w(d,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function Jm(t){if(t.length<xm)return!1;for(var n=0;n<Om.length;n++){if(ns(t,Om[n]))return!0}return!1}function $m(t,n){for(;n.ks<t.length&&(i=t.charAt(n.ks),Is(Pm,i));)n.gs(1);var i}function Km(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function tp(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Vw=i;break;case"middle":n.Vw="center"}}function np(t,n){var i=t,e="";if(ts(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length)),Lm.test(i)){var r;if(is(i,"%")){var s=Km(i);if(null===s)return;r=s}else{if(!Mm.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Fm.test(t)||Um.test(t))return;if(r=g(t),y(r))return}switch(n.zw=r,n.Qw=is(i,"%"),e=t.toLowerCase()){case"start":case"center":case"end":n.Ww=e;break;case"middle":n.Ww="center"}}}function ip(t,n){var i=t,e="";ts(t,",")&&(i=t.substring(0,t.indexOf(",")),e=t.substring(t.indexOf(",")+1,t.length));var r=Km(i);if(null!==r)switch(n.Xw=r,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.qw=e;break;case"start":n.qw="line-left";break;case"middle":n.qw="center";break;case"end":n.qw="line-right"}}function ep(t,n,i){for(var e=i.length-1;e>=0;e--)if(i[e].ul===t)return void(n.Gw=i[e])}function rp(t,n){var i=Km(t);null!==i&&(n.ls=i)}function sp(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.Yw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.Yw="lr";break;default:n.Yw=""}}function up(t,n){"VERTICAL"===t.toUpperCase()?n.Yw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.Yw="lr")}function op(t){if(t.indexOf(",")>=0){var n=Km(t.substring(0,t.indexOf(","))),i=Km(t.substring(t.indexOf(",")+1,t.length));return[Bt(n||0,0,100),Bt(i||100,0,100)]}return null}function hp(t,n){n.ul=t}function ap(t,n){"up"===t.toLowerCase()&&(n.cg="up")}function cp(t,n){Bm.test(t)&&(n.og=w(t))}function fp(t,n){var i=Km(t);null!==i&&(n.dg=i)}!function(t){t.Yy="moov",t.jy="mvhd",t.Zy="trak",t.Jy="tkhd",t.$y="mdia",t.Ky="mdhd",t.tm="hdlr",t.nm="minf",t.im="stbl",t.rm="stsd",t.sm="stsc",t.um="mvex",t.om="trex",t.hm="avc1",t.am="avcC",t.cm="hev1",t.fm="hvc1",t.vm="hvcC",t.dm="pasp",t.lm="mp4a",t._m="esds",t.wm="wvtt",t.gm="vttC",t.ym="vlab",t.mm="enca",t.pm="encv",t.km="moof",t.Am="mfhd",t.bm="traf",t.Tm="tfhd",t.Sm="trun",t.Em="tfdt",t.Im="mdat",t.Rm="pssh",t.Nm="emsg",t.Dm="sidx",t.Cm="styp",t.xm="ftyp",t.Om="sinf",t.Pm="frma"}(Im||(Im={})),function(t){t.zf="vide",t.Vf="soun",t.Bm="subt",t.Lm="hint",t.Mm="meta",t.Um="auxv"}(Rm||(Rm={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Nm||(Nm={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Dm||(Dm={}));var vp=function(){function t(t,n){this.fi=void 0,this.Fm=void 0,this.fi=t,this.Fm=n}var n=t.prototype;return n.Hm=function(){return Lu(this.fi,this.Fm)},n.Vm=function(){return zu(this.fi,this.Fm)},n.zm=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.ks,i);return n.gs(2),e}(this.fi,this.Fm)},n.Wm=function(){return Xu(this.fi,this.Fm)},n.Xm=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.ks,i);return n.gs(4),e}(this.fi,this.Fm)},n.qm=function(){return Gu(this.fi,this.Fm)},n.Gm=function(t){return Uu(this.fi,this.Fm,t)},n.Qm=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Xu(t,n));return e}(this.fi,this.Fm,t)},n.Ym=function(t){return ju(this.fi,this.Fm,t)},n.jm=function(){return ho(this.fi,this.Fm)},n.Zm=function(t){this.Fm.gs(t)},n.ps=function(){return new t(this.fi,this.Fm.ps())},t}();function dp(t,n){return t.nr===n}function lp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(dp(e,n))return e}}function _p(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];dp(r,n)&&i.push(r)}return i}var wp=function(t){function n(n,i){var e;return(e=t.call(this)||this).Jm=n,e.$m=i,e}return S(n,t),b(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Zt),gp=function(){function t(){}return t.Km=function(n){var i=n.fi,e=n.Fm,r=t.tp(i,e,!1);if(!r.np)throw new wp(e.ks,r.ii);return r.ii},t.tp=function(n,i,e){for(var r=[];i.ks<n.byteLength;){var s=t.ip(n,i,e);if(!s.np)return{np:!1,ii:r};r.push(s.ep)}return{np:!0,ii:r}},t.rp=function(n,i){var e=t.ip(n,i,!1);if(!e.np)throw new wp(i.ks);return e.ep},t.sp=function(n,i){for(var e=n.fi,r=n.Fm;r.ks<e.byteLength;){var s=t.ip(e,r,!1);if(!s.np)return;if(s.ep.nr===i)return s.ep}},t.ip=function(n,i,e){var r=i.ks,s=t.op(n,i);if(!s.np)return s;var u=s.hp,o=u.ls;if(0===o){if(e)return i.ys(r),{np:!1,ap:1/0};o=n.byteLength-r}var h=r+o;if(h>n.byteLength){var a=h;return i.ys(r),{np:!1,ap:a}}var c={nr:u.nr,ks:r,fi:new vp(vo(n,r,h),new po(u.cp))};return i.ys(h),{np:!0,ep:c}},t.op=function(t,n){var i=n.ks;if(!Hu(t,n,8))return{np:!1,ap:n.ks+8};var e=Xu(t,n),r=ju(t,n,4);if(1===e){if(!Hu(t,n,8)){var s=n.ks+8;return n.ys(i),{np:!1,ap:s}}e=Gu(t,n).toNumber()}if("uuid"===r){if(!Hu(t,n,16)){var u=n.ks+16;return n.ys(i),{np:!1,ap:u}}r=ju(t,n,16)}return{np:!0,hp:{nr:r,ls:e,cp:n.ks-i}}},t.fp=function(t,n,i){var e=t.fi,r=t.Fm,s=fo(_o(e),r.ks,e.byteLength);return i&&(s=mo(s)),r.gs(s.byteLength),{nr:n,fi:s}},t.vp=function(n,i,e){var r=kp(n.Wm());return{nr:i,dp:r.version,lp:r.flags,fi:t.fp(n,i,e).fi}},t}();function yp(t,n){var i=mp(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function mp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.nr===n)return e.fi}}function pp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.nr===n&&i.push(r.fi)}return i}function kp(t){return{version:t>>24,flags:new Ou(16777215&t)}}var Ap=function(){function t(){}return t._p=function(n){for(var i=[],e=gp.Km(new vp(n,new po)),r=0;r<e.length;r++){var s=e[r],u=t.wp(s);u&&i.push(u)}return i},t.gp=function(t){return gp.tp(t,new po,!1).ii.some(function(t){return t.nr===Im.km||t.nr===Im.Cm})},t.yp=function(n){return pp(gp.Km(new vp(n,new po)),Im.Rm).map(t.mp)},t.pp=function(n){return pp(gp.Km(n.fi),Im.Rm).map(t.mp)},t.wp=function(n){switch(n.nr){case Im.Yy:return t.kp(n.fi);case Im.km:return t.Ap(n.fi,n.ks);case Im.Im:return t.bp(n.fi);case Im.Dm:return t.Tp(n.fi);case Im.Nm:return t.Sp(n.fi)}},t.kp=function(n){var i=gp.Km(n),e=yp(i,Im.jy),r=pp(i,Im.Zy),s=mp(i,Im.um),u=t.Ep(e),o=r.map(t.Ip),h=s?t.Rp(s):void 0;return{nr:Im.Yy,hp:u,Np:o,Dp:h}},t.Ep=function(t){var n=kp(t.Wm()),i=n.version,e=n.flags,r=1===i?t.qm():t.Wm(),s=1===i?t.qm():t.Wm(),u=t.Wm(),o=1===i?t.qm():t.Wm(),h=t.Wm(),a=t.Vm()>>8;t.Zm(2),t.Zm(8);var c=t.Qm(9);t.Zm(24);var f=t.Wm();return{nr:Im.jy,dp:i,lp:e,Cp:r,xp:s,hy:u,r_:o,Op:h,d_:a,Pp:c,Bp:f}},t.Ip=function(n){var i=gp.Km(n),e=yp(i,Im.Jy),r=yp(i,Im.$y),s=t.Lp(e),u=t.Mp(r);return{nr:Im.Zy,hp:s,Up:u}},t.Lp=function(t){var n=kp(t.Wm()),i=n.version,e=n.flags,r=1===i?t.qm():t.Wm(),s=1===i?t.qm():t.Wm(),u=t.Wm();t.Zm(4);var o=1===i?t.qm():t.Wm();t.Zm(8);var h=t.zm(),a=t.zm(),c=t.zm()/_.pow(2,8);t.Zm(2);var f=t.Qm(9),v=t.Wm()/_.pow(2,16),d=t.Wm()/_.pow(2,16);return{nr:Im.Jy,Fp:e.bs(1),Hp:e.bs(2),Vp:e.bs(4),Cp:r,xp:s,zp:u,r_:o,Wp:h,Xp:a,d_:c,Pp:f,dg:v,qp:d}},t.Mp=function(n){var i=gp.Km(n),e=yp(i,Im.Ky),r=yp(i,Im.tm),s=yp(i,Im.nm),u=t.Gp(e),o=t.Qp(r),h=t.Yp(s);return{nr:Im.$y,hp:u,jp:o,Zp:h}},t.Gp=function(t){var n=kp(t.Wm()),i=n.version,e=n.flags,r=1===i?t.qm():t.Wm(),s=1===i?t.qm():t.Wm(),u=t.Wm(),o=1===i?t.qm():t.Wm();t.Vm();return t.Zm(2),{nr:Im.Ky,dp:i,lp:e,Cp:r,xp:s,hy:u,r_:o}},t.Qp=function(t){var n=kp(t.Wm()),i=n.version,e=n.flags;t.Zm(4);var r=t.Ym(4);t.Zm(12);var s=t.jm();return{nr:Im.tm,dp:i,lp:e,Jp:r,Xn:s}},t.Yp=function(n){var i=yp(gp.Km(n),Im.im),e=t.$p(i);return{nr:Im.nm,Kp:e}},t.$p=function(n){var i=yp(gp.Km(n),Im.rm),e=t.tk(i);return{nr:Im.im,nk:e}},t.tk=function(n){for(var i=kp(n.Wm()),e=i.version,r=i.flags,s=(n.Wm(),[]),u=gp.Km(n),o=0;o<u.length;o++){var h=u[o],a=t.ik(h.fi,h.nr);a&&s.push(a)}return{nr:Im.rm,dp:e,lp:r,ek:s}},t.ik=function(n,i){var e=t.rk(n,i);return e||((e=t.sk(n,i))||(i===Im.wm?t.uk(n):void 0))},t.rk=function(n,i){return i===Im.lm?t.hk(n):i===Im.mm?t.ak(n):void 0},t.sk=function(n,i){return i===Im.hm?t.ck(n):i===Im.cm||i===Im.fm?t.fk(n,i):i===Im.pm?t.vk(n):void 0},t.dk=function(t,n){return t.Zm(6),{nr:n,lk:t.Vm()}},t._k=function(n,i){var e=t.dk(n,i);n.Zm(8);var r=n.Vm(),s=n.Vm();return n.Zm(2),n.Zm(2),Er({},e,{wk:r,gk:s,yk:n.Wm()>>>16})},t.mk=function(n,i){var e=t.dk(n,i);n.Zm(2),n.Zm(2),n.Zm(12);var r=n.Vm(),s=n.Vm(),u=n.Wm(),o=n.Wm();n.Zm(4);var h=n.Vm();n.Zm(32);var a=n.Vm();return n.Zm(2),Er({},e,{dg:r,qp:s,pk:u,kk:o,Ak:h,bk:a})},t.hk=function(n){var i=t._k(n,Im.lm),e=yp(gp.Km(n),Im._m);return Er({},i,{Tk:t.Sk(e)})},t.uk=function(n){var i=t.dk(n,Im.wm),e=gp.Km(n),r=yp(e,Im.gm),s=t.Ek(r),u=mp(e,Im.ym);return Er({},i,{Ik:s,Rk:u?t.Nk(u):u})},t.Ek=function(t){return{nr:Im.gm,rh:t.jm()}},t.Nk=function(t){return{nr:Im.ym,al:t.jm()}},t.Sk=function(t){return gp.vp(t,Im._m,!0)},t.ck=function(n){var i=t.mk(n,Im.hm),e=gp.Km(n),r=yp(e,Im.am),s=mp(e,Im.dm);return Er({},i,{Dk:t.Ck(r),xk:s?t.Ok(s):void 0})},t.fk=function(n,i){var e=t.mk(n,i),r=yp(gp.Km(n),Im.vm);return Er({},e,{Pk:t.Bk(r)})},t.vk=function(n){var i=n.ps(),e=t.mk(n,Im.pm),r=yp(gp.Km(n),Im.Om),s=t.Lk(r);return Er({},e,{Mk:t.sk(i,s.Fk.Uk),Hk:s})},t.ak=function(n){var i=n.ps(),e=t._k(n,Im.mm),r=yp(gp.Km(n),Im.Om),s=t.Lk(r);return Er({},e,{Mk:t.rk(i,s.Fk.Uk),Hk:s})},t.Lk=function(n){var i=yp(gp.Km(n),Im.Pm),e=t.Vk(i);return{nr:Im.Om,Fk:e}},t.Vk=function(t){var n=t.Ym(4);return{nr:Im.Pm,Uk:n}},t.Ck=function(t){return gp.fp(t,Im.am,!0)},t.Bk=function(t){return gp.fp(t,Im.vm,!0)},t.Ok=function(t){var n=t.Wm(),i=t.Wm();return{nr:Im.dm,zk:n,Wk:i}},t.Rp=function(n){var i=pp(gp.Km(n),Im.om).map(t.Xk);return{nr:Im.um,Np:i}},t.Xk=function(t){var n=kp(t.Wm()),i=n.version,e=n.flags,r=t.Wm(),s=t.Wm(),u=t.Wm(),o=t.Wm(),h=t.Wm();return{nr:Im.om,dp:i,lp:e,zp:r,qk:s,Gk:u,Qk:o,Yk:h}},t.Ap=function(n,i){var e=gp.Km(n),r=yp(e,Im.Am),s=pp(e,Im.bm),u=t.jk(r),o=s.map(t.Zk);return{nr:Im.km,Jk:i,hp:u,Np:o}},t.jk=function(t){var n=kp(t.Wm()),i=n.version,e=n.flags,r=t.Wm();return{nr:Im.Am,dp:i,lp:e,$k:r}},t.Zk=function(n){var i=gp.Km(n),e=yp(i,Im.Tm),r=pp(i,Im.Sm),s=mp(i,Im.Em),u=t.Kk(e),o=r.map(function(n){return t.tA(n,u)}),h=s?t.nA(s):void 0;return{nr:Im.bm,hp:u,iA:o,eA:h}},t.Kk=function(t){var n=kp(t.Wm()),i=n.version,e=n.flags,r=t.Wm(),s=e.bs(Nm.BASE_DATA_OFFSET_PRESENT)?t.qm():void 0,u=e.bs(Nm.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Wm():void 0,o=e.bs(Nm.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Wm():void 0,h=e.bs(Nm.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Wm():void 0,a=e.bs(Nm.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Wm():void 0;return{nr:Im.Tm,dp:i,lp:e,zp:r,rA:s,sA:u,Gk:o,Qk:h,Yk:a}},t.tA=function(n,i){for(var e=kp(n.Wm()),r=e.version,s=e.flags,u=n.Wm(),o=s.bs(Dm.DATA_OFFSET_PRESENT)?n.Xm():void 0,h=s.bs(Dm.FIRST_SAMPLE_FLAGS_PRESENT)?n.Wm():void 0,a=[],c=0;c<u;c++){var f=t.uA(n,s,r,i);0===c&&void 0!==h&&(f.lp=h),a.push(f)}return{nr:Im.Sm,dp:r,lp:s,oA:u,Jk:o,hA:h,aA:a}},t.uA=function(t,n,i,e){return{r_:n.bs(Dm.SAMPLE_DURATION_PRESENT)?t.Wm():e.Gk,ls:n.bs(Dm.SAMPLE_SIZE_PRESENT)?t.Wm():e.Qk,lp:n.bs(Dm.SAMPLE_FLAGS_PRESENT)?t.Wm():e.Yk,cA:n.bs(Dm.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Wm():t.Xm():void 0}},t.Sp=function(t){var n=t.fi,i=t.Fm,e=kp(Xu(n,i)),r=e.version,s=e.flags;if(1===r){var u=Xu(n,i),o=Gu(n,i),h=Xu(n,i),a=Xu(n,i),c=Yu(n,i),f=Yu(n,i),v=yo(_o(n),i.ks,n.byteLength);return i.gs(v.byteLength),{nr:Im.Nm,dp:r,lp:s,fA:c,Qn:f,hy:u,vA:o,dA:h,ul:a,lA:v}}var d=Yu(n,i),l=Yu(n,i),_=Xu(n,i),w=Xu(n,i),g=Xu(n,i),y=Xu(n,i),m=yo(_o(n),i.ks,n.byteLength);return i.gs(m.byteLength),{nr:Im.Nm,lp:s,dp:r,fA:d,Qn:l,hy:_,_A:w,dA:g,ul:y,lA:m}},t.bp=function(t){return gp.fp(t,Im.Im,!1)},t.mp=function(n){var i=n.fi,e=n.Fm,r=mo(_o(i)).buffer,s=kp(Xu(i,e)),u=s.version,o=s.flags,h=t.wA(i,e),a=[];if(u>0)for(var c=Xu(i,e),f=0;f<c;f++){var v=Uu(i,e,16);a.push(v)}var d=Xu(i,e),l=new m(r,e.ks,d);return e.gs(i.byteLength),{nr:Im.Rm,dp:u,lp:o,gA:h,yA:a,mA:d,fi:l,pA:r}},t.wA=function(t,n){for(var i="",e=0;e<4;e++){var r=Lu(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=Lu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=Lu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=Lu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=Lu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Tp=function(t){var n,i,e=t.fi,r=t.Fm,s=kp(Xu(e,r)),u=s.version,o=s.flags,h=Xu(e,r),a=Xu(e,r);0===u?(n=Ot.fromBits(Xu(e,r),0,!0),i=Ot.fromBits(Xu(e,r),0,!0)):(n=Gu(e,r),i=Gu(e,r)),r.gs(2);for(var c=zu(e,r),f=[],v=0;v<c;v+=1){var d=Xu(e,r),l=d>>31&1,_=2147483647&d,w=Xu(e,r),g=Xu(e,r),y=g>>31&1,m=g>>28&7,p=268435455&g;f.push({kA:l,AA:_,r_:w,bA:y,TA:m,SA:p})}return{nr:Im.Dm,dp:u,lp:o,EA:h,hy:a,IA:n,RA:i,NA:c,DA:f}},t.nA=function(t){var n,i=t.fi,e=t.Fm,r=kp(Xu(i,e)),s=r.version,u=r.flags;return n=0===s?Ot.fromBits(Xu(i,e),0,!0):Gu(i,e),{nr:Im.Em,dp:s,lp:u,eA:n}},t}();function bp(t){return t&&"ni"in t?t.ni:t}var Tp=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i,e,r)||this).CA=void 0,h.xA=void 0,h.OA=void 0,h.CA=s,h.xA=u,h.OA=o||void 0,h}return S(n,t),n.prototype.eg=function(n){return this===n||!!Nw(this,n)&&(!!t.prototype.eg.call(this,n)&&(!!Rw(this.PA,n.PA)&&(!!Rw(this.Wy,n.Wy)&&(this.BA&&n.BA?!!this.BA.Vn(n.BA)&&(this.Hw&&n.Hw?this.Hw.Vn(n.Hw):this.Hw===n.Hw):this.BA===n.BA))))},b(n,[{key:"PA",get:function(){return this.CA}},{key:"Wy",get:function(){return this.xA}},{key:"BA",get:function(){return this.OA}},{key:"gd",get:function(){var t;return this.wd||(this.wd=Ew(zy(t=this),{get styles(){return t.PA},get regions(){return t.Wy},get metadata(){return bp(t.BA)},get content(){return bp(t.Hw)}})),this.wd}}]),n}(Qy),Sp=function(){function t(t,n,i){this.Hc=void 0,this.LA=void 0,this.MA=void 0,this.LA=t,this.MA=n,Gt(i)?this.Hc=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.si(s)}return i}(0,0,i):this.Hc=i}return b(t,[{key:"UA",get:function(){return this.Hc.zn(!0)}},{key:"Uw",get:function(){return this.LA}},{key:"Fw",get:function(){return this.MA}}]),t}();var Ep="http://www.w3.org/XML/1998/namespace";function Ip(t,n,i,e){var r=t.Kn(i,n);return 0===r.length&&(r=t.Zn(e+":"+n)),r}function Rp(t,n){return function(t,n){var i=t.ii.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.ii)}return e}(t,function(t){return t.$n===n})}function Np(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Dp(t,n){for(var i=t.ai,e={},r=0;r<i.length;r++)e[Np(i[r].Xn,n)]=i[r].Qn;return e}var Cp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,xp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Op="http://www.w3.org/ns/ttml";function Pp(t,n,e){return void 0===e&&(e=Cm),function(t,n,e){var r,s=[];try{r=i.Fn(t)}catch(t){return s}var u=r.vi;if("tt"!==u.Wn)return s;var o=u&&u.Kn(Op,"head")[0],h=u&&u.Kn(Op,"body")[0],a=["ebutts","tts","xml"];if(!h||!o)return s;for(var c=function(t,n){for(var i={},e=t.Kn(Op,"styling")[0],r=e&&e.Kn(Op,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.ri(Ep,"id");i[o]=Dp(u,n)}return i}(o,a),f=function(t,n){var i=Iw(t),e=Up(n.ei("tts:extent"));if(!e)return i;for(var r=0,s=l.keys(i);r<s.length;r++){var u=s[r],o=Up(i[u].extent);if(o){var h=Lp(o[0],e[0]),a=Lp(o[1],e[1]);i[u].extent=h+" "+a}var c=Up(i[u].origin);if(c){var f=Lp(c[0],e[0]),v=Lp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Kn(Op,"layout")[0],r=e&&e.Kn(Op,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.ri(Ep,"id");if(o){i[o]=Dp(u,n);var h=Vp(u,n);for(var a in h)M.call(h,a)&&(i[o][a]=h[a])}}return i}(o,a),u),v=o.Kn(Op,"metadata")[0],d=function t(n,i,e,r){var s=i;var u;var o=e;var h=[];var a=[];if(Gt(n)){var c,f;s=null!=(c=Hp(n.ei("begin"),r))?c:s,u=Hp(n.ei("dur"),0),o=null!=(f=Hp(n.ei("end"),r))?f:void 0!==u?s+u:o;for(var v=n.Jn,d=0;d<v.length;d++)("body"===n.Wn||"div"===n.Wn)&&v[d].On>1||(h=h.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.Uw,s.Fw)}e.sort(ps);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(Es(e,o+1),o--,u=e.length);return e}(s,o,h);for(var _=0;_<l.length-1;_++){var w=Fp(l[_],l[_+1],h);if(w.length<=0&&zp(n)){var g=n.zn(!1);a.push(new Sp(l[_],l[_+1],g))}else w.length>0&&function(){var t=n.zn(!1);w.forEach(function(n){return t.ti(n.UA)}),a.push(new Sp(l[_],l[_+1],t))}()}return a}(h,e.Hy,e.Vy,e.zy),_=0;_<d.length;_++){var w=d[_],g=Bp(f,w);s.push(new Tp(w.Uw,w.Fw,w.UA,!1,c,g,v))}return s}(t,0,e)}function Bp(t,n){for(var i=function t(n){var i=[];var e;if(Gt(n)){(e=n.ei("region"))&&i.push(e);for(var r=n.Jn,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.UA),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function Lp(t,n){var i=Mp(t),e=Mp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return y(r)||y(s)?t:r/s*100+"%"}return t}function Mp(t){return is(t,"px")?"px":is(t,"em")?"em":is(t,"c")?"c":is(t,"%")?"%":void 0}function Up(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Fp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].Uw,u=i[r].Fw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function Hp(t,n){if(t){if(Cp.test(t)){var i=Cp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*_.pow(.1,u.length):0)-n}if(xp.test(t)){var o=xp.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function Vp(t,n){for(var i={},e=t.Zn("style")||[],r=0;r<e.length;r++){var s=Dp(e[r],n);for(var u in s)M.call(s,u)&&(i[u]=s[u])}return i}function zp(t){if(Gt(t)){var n=t.Wn.toUpperCase(),i=Boolean(t.ei("smpte:backgroundImage"));return"BR"===n||i}return t.On===Wt.Bn}function Wp(t){var n=function(t){try{return i.Fn(t).vi}catch(t){}}(t);return"tt"===(null==n?void 0:n.Wn)}var Xp,qp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Wd=function(n){return t.prototype.Wd.call(this,n)},i.Xd=function(n){var i=t.prototype.Xd.call(this,n);return i&&(n.yl=Ww.dl),i},i.yd=function(){return Zw(this)},n}(pw),Gp=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Np=new qp,n.FA=function(t){var i=t.md;n.HA(i)},n}S(n,t);var i=n.prototype;return i.Wd=function(t){t.Hr(dw.Dd,this.FA),this.Np.Wd(t),this.HA(t)},i.Xd=function(t){t.Xr(dw.Dd,this.FA),t.yl=Ww.dl,this.Np.Xd(t)},i.VA=function(t){},i.zA=function(t){},i.HA=function(t){t.yl!==Ww.dl?this.VA(t):this.zA(t)},i.WA=function(){for(var t=0,n=this.Np.Qd;t<n.length;t++){var i=n[t];i.Xr(dw.Dd,this.FA),i.Jf()}},i.Gd=function(){return this.WA(),this.Np.Gd(),Ve.resolve()},i.Jf=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Sr.awrap(this.Gd());case 3:this.Np.Jf();case 4:case"end":return t.stop()}},null,this,null,Ve)},n}(Js);!function(t){t.Bm="subtitles",t.XA="captions",t.qA="descriptions",t.GA="chapters",t.Mm="metadata",t.QA="thumbnails"}(Xp||(Xp={}));var Qp=[Xp.Bm,Xp.XA,Xp.qA,Xp.GA,Xp.Mm,Xp.QA];function Yp(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Is(Qp,t)}(n)?n:n?Xp.Mm:Xp.Bm}var jp,Zp=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(mc);function Jp(t){return t instanceof Dl}function $p(t){return ts(t,jp.YA)}function Kp(t){return t.some(tk)}function tk(t){return ts(t,jp.jA)||ts(t,jp.wm)}function nk(t,n){return Za(t)&&Kp(n)}function ik(t,n){return!!t&&(Za(t)?function(t){return t.some($p)}(n)||Kp(n):ts(t,ja.APPLICATION_TTML_XML)||ts(t,ja.TEXT_VTT)||ts(t,ja.IMAGE_JPEG))}function ek(t,n){return t===Xp.QA||t===Xp.Mm&&n===Xp.QA}function rk(t,n,i,e){for(var r=0,s=t.Al.Qd;r<s.length;r++){var u=s[r];if(u.Uw>i)break;n<=u.Fw&&e.push(u)}}function sk(t,n){return ms(t.ol,n.ol)}function uk(t,i){var e=i,r=0;if(Jp(t)&&t.name===El.uv)e=t.Sf.If;else if(t instanceof xl){var s=t.fv;if(e=s.Ef,0===(r=s.pf))return new Zp(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Zp(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function ok(t,i,e,r){var s=function(t){switch(t){case Dy.WEBVTT:return"WebVTT";case Dy.SRT:return"SRT";case Dy.TTML:return"TTML";default:return""}}(t);return new Zp(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function hk(t){return Jm(Vm(t))?Dy.WEBVTT:Wp(t)?Dy.TTML:Dy.SRT}!function(t){t.jA="vtt",t.wm="wvtt",t.YA="stpp"}(jp||(jp={}));var ak=function(t){function n(n){var i;return(i=t.call(this,Xw.wl)||this).errorObject=n,i}return S(n,t),n.prototype.yd=function(){return this},b(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fw),ck=function(t){function n(n,i){var e;return(e=t.call(this)||this).ZA=void 0,e.JA=void 0,e.$A=new Ps,e.ZA=n,e.JA=i,e}S(n,t);var i=n.prototype;return i.KA=function(t){if(t.src){var n=t.kind||Xp.Bm,i=this.ZA.nb(n,t.id,t.label,t.srclang,t.default);return i.Tl=Sl(t.src),this.Wd(i),i}},i.ib=function(t,n){var i,e,r,s,u,o,h,a,c,f;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.kl=Ny.LOADING,i=new kl({If:t.Tl,Af:Hc.Bn,Xf:wl.GET,Pr:n}),v.prev=2,v.next=5,Sr.awrap(this.JA.Sf(i));case 5:return s=v.sent,r=s.pf,v.next=9,Sr.awrap(s.ef());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),Us(v.t0),t.kl=Ny.ERROR,t.Fr(new ak(uk(v.t0,t.Tl))),v.abrupt("return");case 18:for(v.prev=18,u=hk(e),t.nr=u,o=[],u===Dy.WEBVTT||u===Dy.SRT?(h=Hm(e),o=h.Al):u===Dy.TTML&&(o=Pp(e)),a=0,c=o;a<c.length;a++)f=c[a],t.eb(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),Us(v.t1),t.kl=Ny.ERROR,t.Fr(new ak(ok(t.nr,t.Tl,r,v.t1))),v.abrupt("return");case 32:t.kl=Ny.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],Ve)},i.VA=function(t){Is(this.Np.Qd,t)&&t.kl===Ny.NONE&&this.ib(t,this.$A.Pr).catch(Fs)},i.Yo=function(){},i.Gd=function(){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.$A.Cr(),this.$A=new Ps,n=0,i=this.Np.Qd;n<i.length;n++)e=i[n],this.ZA.sb(e);return r.next=5,Sr.awrap(t.prototype.Gd.call(this));case 5:case"end":return r.stop()}},null,this,null,Ve)},n}(Gp);function fk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.hl===n&&e.ub)return e}}function vk(t,n){dk(fk(t.Qd,n))}function dk(t){void 0!==t&&(t.yl=Ww._l)}function lk(t,n){dk(fk(t.Qd,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.hl===n)return e}}(t.Qd,n))}function _k(t){for(var n=0;n<Qp.length;n++){var i=Qp[n];i===Xp.GA?lk(t,i):vk(t,i)}}var wk,gk=function(t){function n(){return t.call(this,Fc.Ia)||this}return S(n,t),n}(Ks);!function(t){t[t.ob=0]="ob",t[t.hb=1]="hb"}(wk||(wk={}));var yk=t,mk=yk.MediaSource,pk=yk.WebKitMediaSource,kk=yk.TextTrack,Ak=s&&s.createElement("video"),bk=(s&&s.documentElement.style,L.Ft&&L.gn&&L.yn<=26),Tk=(L.$t,!!p),Sk=!(!mk&&!pk),Ek=!!kk,Ik=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||L.jt,L.dn&&L.ln,Ak&&Ak.canPlayType&&(""!==Ak.canPlayType("application/vnd.apple.mpegURL")||L.zt&&!L.dn&&L.Wt>=4)),Rk=Ak&&Ak.canPlayType&&""!==Ak.canPlayType("video/mp4")&&!bk,Nk=Sk&&!L._n&&!L.cn&&!L.an&&((mk||pk).isTypeSupported?(mk||pk).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Ak&&Ak.canPlayType&&""!==Ak.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Dk=Sk&&!L._n&&(Nk||((mk||pk).isTypeSupported?(mk||pk).isTypeSupported("audio/mpeg"):Ak&&Ak.canPlayType&&""!==Ak.canPlayType("audio/mpeg"))),Ck=Sk&&!(L.vn&&L.Ft)&&((mk||pk).isTypeSupported?(mk||pk).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Rk),xk=(L._n||L.cn||L.an,L.fn),Ok=xk&&!1,Pk=!L._n,Bk=L.cn&&L.Ht&&L.Vt<=6.1,Lk=Ak&&"onresize"in Ak;try{r&&r.top!==r.self}catch(t){!0}var Mk=.001,Uk=1e4,Fk=3,Hk=function(t){function n(n){var i;return(i=t.call(this,Eg.n_)||this).currentTime=n,i}return S(n,t),n}(Ks),Vk=function(t){function n(n){var i;return(i=t.call(this,Eg.i_)||this).currentTime=n,i}return S(n,t),n}(Ks),zk=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).ab=ag.Gl,e.cb=!0,e.fb=!1,e.vb=!1,e.lb=function(t){var n=t.readyState;n!==e.ab&&e.Fr(t),n===ag.Gl&&(e.fb=!1,e.vb=!1),e._b(n),e.wb(n),e.gb(n),e.maybeDispatchCanPlayThroughEvent(n),e.yb(n),e.mb(n),e.ab=n},e.pb=function(){e.mb(e.ab),e.yb(e.ab),e.cb=e.kb.h_},e.Ab=function(){e.cb=e.kb.h_},e.kb=n,e.bb=i,e.kb.Hr(Eg.xd,e.lb),e.kb.Hr(Fc.ba,e.pb),e.kb.Hr(Fc.Aa,e.Ab),e.bb&&e.kb.Hr(Eg.i_,e.Ur),e}S(n,t);var i=n.prototype;return i._b=function(t){!this.vb&&t>=ag.Ql&&(this.vb=!0,this.Fr(new Og(this.kb.e_,t)))},i.wb=function(t){!this.fb&&t>=ag.Yl&&(this.fb=!0,this.Fr(new Ug(this.kb.e_,t)))},i.yb=function(t){this.bb||(t>=ag.jl&&this.ab<ag.jl&&!this.kb.h_||this.Tb&&t>=ag.jl)&&this.Fr(new Vk(this.kb.e_))},i.mb=function(t){!this.Sb(t)||this.kb.s_||this.kb.ts||this.Fr(new Hk(this.kb.e_))},i.gb=function(t){this.ab<=ag.Yl&&t>=ag.jl&&this.Fr(new zg(this.kb.e_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===ag.Zl&&this.Fr(new Wg(this.kb.e_,t))},i.Sb=function(t){var n=!this.kb.h_&&t<=ag.Yl,i=!this.cb&&this.ab<=ag.Yl;return n&&!i},i.Gd=function(){this.ab=ag.Gl,this.cb=!0,this.fb=!1,this.vb=!1},i.Jf=function(){this.Wr(),this.bb&&this.kb.Xr(Eg.i_,this.Ur),this.kb.Xr(Fc.ba,this.pb),this.kb.Xr(Fc.Aa,this.Ab),this.kb.Xr(Eg.xd,this.lb)},b(n,[{key:"Tb",get:function(){return!this.kb.h_&&this.cb}}]),n}(Js),Wk="titanium",Xk="conax",qk="ezdrm",Gk="irdeto",Qk="vudrm",Yk="verimatrix",jk="keyos",Zk="drmtoday",Jk="expressplay",$k="azure",Kk="xstream",tA="vimond",nA="axinom",iA="uplynk",eA="comcast",rA="custom",sA=function(){function t(t,n,i,e,r){this.eh=void 0,this.Eb=void 0,this.Ib=void 0,this.Rb=void 0,this.JA=void 0,this.Nb=void 0,this.Db=void 0,this.eh=t,this.Eb=n,this.Ib=i,this.JA=e,this.Db=r,this.Rb=this.Cb(n)}var e=t.prototype;return e.xb=function(){return this.Nb},e.Ob=function(t){this.Nb=t},e.Pb=function(){return this.Rb.licenseAcquisitionURL||this.xb()},e.Bb=function(t){return Ve.resolve()},e.Lb=function(t,n){return Ve.resolve(void 0)},e.Mb=function(t,i,e,r){var s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.Ub(t,i,e,r)).If){o.next=3;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Sr.awrap(this.fd.Sf(s));case 6:return u=o.sent,o.next=9,Sr.awrap(u.rf(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),Us(o.t0),o.next=17,Sr.awrap(this.Fb(o.t0,s.If,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],Ve)},e.Ub=function(t,n,i,e){var r=this.Hb().Xa(),s=this.Yf,u={If:this.Vb(),Af:n,kf:r,af:t,Yf:s,Xf:wl.POST,qf:0,Pr:e,nr:gl.xf,Gf:i};return new kl(u)},e.zb=function(t,n){return Ve.resolve(t)},e.Wb=function(t,n,i,e){return Ve.resolve(t)},e.Hb=function(){return new Vc(this.Rb.headers||{})},e.Fb=function(t,i,e){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,Ve)},e.Vb=function(t,n){var e=n,r=this.Rb.queryParameters;if(!e){var s=this.Pb();if(!s)return"";e=s}if(r||t){var u=i.Ce(e);t&&Tl(u,t),r&&Tl(u,r),e=u.href}return e},e.Xb=function(t){return function(t,n){var i=n.licenseResponseProcessor;return Ve.resolve(new m(uA(t,i)))}(t,this.Rb)},e.qb=function(t,n,i){var e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Sr.awrap(this.Gb(t,i));case 2:return e=u.sent,u.next=5,Sr.awrap(this.Mb(e,this.Db,n,i));case 5:return r=u.sent,u.next=8,Sr.awrap(this.Xb(r));case 8:return s=u.sent,u.abrupt("return",s);case 10:case"end":return u.stop()}},null,this,null,Ve)},e.Jf=function(){},b(t,[{key:"fd",get:function(){return this.JA}},{key:"Qb",get:function(){return!1}},{key:"Yb",get:function(){var t=this.Rb.certificate;if(t)return X(t)?lu(t):go(t)}},{key:"jb",get:function(){return!1}},{key:"Yf",get:function(){return Boolean(this.Rb.useCredentials)}}]),t}();function uA(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function oA(t,n){var i=mo(t).buffer,e=n.licenseRequestProcessor;return Ve.resolve(uA(i,e))}var hA,aA,cA=function(t){function n(n,i,e,r){return t.call(this,Yr,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.Cb=function(t){return t.widevine||{}},i.Zb=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.Yb){i.next=2;break}return i.abrupt("return",this.Yb);case 2:return i.abrupt("return",this.Jb(new m(t),n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.Jb=function(n,i){return t.prototype.qb.call(this,n,yl.Lf,i)},n}(sA);function fA(t,n){if(null==t)return{};var i,e,r={},s=l.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function vA(t){return F(t.token&&t.deviceId)}function dA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&F(i.PreAuthorization)}function lA(t){var n=t;return vA(n)&&""!==n.token&&""!==n.deviceId&&!dA(n)}(aA=hA||(hA={})).$b=!1,aA.Kb=!1,aA.tT=!1,aA.nT=!1,aA.LOG_ADS_DETAILS=!1,aA.LOG_CHROMECAST_DETAILS=!1,aA.LOG_CUSTOM_DRM=!1,aA.LOG_BUFFERING_VIDEO_MAIN=!1,aA.LOG_BUFFERING_VIDEO_SELECTION=!1,aA.LOG_BUFFERING_AUDIO_MAIN=!1,aA.LOG_BUFFERING_AUDIO_SELECTION=!1,aA.iT=!1,aA.eT=!1;var _A,wA=function(){function t(t,n,i){this.rT=t,this.Wo=n,this.sT=i}return t.prototype.uT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.sT.build(t))},b(t,[{key:"oT",get:function(){return this.rT}},{key:"eh",get:function(){return this.Wo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(_A||(_A={}));var gA=function(){function t(){this.hT=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.aT(t,e,r)){case _A.FAILED:throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case _A.OVERRIDDEN:var s=LA(e);i.ye("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case _A.SUCCEEDED:LA(e);0}},e.aT=function(t,n,i){var e=LA(n);if(!e)return _A.FAILED;for(var r=_A.SUCCEEDED,s=0,u=this.hT.slice();s<u.length;s++){var o=u[s];o.oT===t&&o.eh===e&&(r=_A.OVERRIDDEN,Ss(this.hT,o))}return this.hT.push(new wA(t,e,i)),r},e.cT=function(t,n){return void 0!==this.fT(t,n)},e.vT=function(t,n,i){var e=this.fT(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.uT(i)},e.fT=function(t,n){for(var i=0,e=this.hT;i<e.length;i++){var r=e[i];if(r.oT===t&&(!n||r.eh===n))return r}},t}();gA.dT=new gA;var yA=["customdata"],mA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function pA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||e||r||s||u||o||h||a||c)}function kA(t){return t&&void 0!==t.licenseAcquisitionURL}var AA,bA=kA,TA=kA;function SA(t){if(!t)return!0;if(NA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return pA(n)&&pA(i)&&pA(e)&&pA(r)&&pA(s)}function EA(t){var n=lA(t),i=function(t){var n,i=t;return dA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!vA(i)}(t);return(!n||!i)&&(n||i)}function IA(t){return t.integration===Gk}function RA(t){var n=t;if(!n)return!1;if(SA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(NA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!bA(e))return!1;if(r&&!TA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(gA.dT.cT(n.integration))return!0;switch(n.integration){case Wk:if(!function(t){return t.integration===Wk&&(DA(t)||CA(t))}(t))return!1;break;case Qk:if(!xA(t))return!1;break;case Yk:if(!function(t){return t.integration===Yk}(t))return!1;break;case Gk:if(!IA(t))return!1;break;case Xk:if(!EA(t))return!1;break;case qk:if(!function(t){return t.integration===qk}(t))return!1;break;case jk:if(!NA(t))return!1;break;case Zk:if(!function(t){var n=t;return n.integration===Zk&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Jk:if(!function(t){return t.integration===Jk}(t))return!1;break;case Kk:if(!OA(t))return!1;break;case tA:if(!function(t){return t.integration===tA}(t))return!1;break;case nA:if(!PA(t))return!1;break;case $k:if(!function(t){var n=t;return n.integration===$k&&void 0!==n.token}(t))return!1;break;case iA:if(!function(t){return t.integration===iA}(t))return!1;break;case eA:if(!function(t){var n=t;return n&&F(n.releasePid)&&F(n.accountId)&&F(n.token)}(t))return!1;break;case rA:return!0;default:return!1}}return!0}function NA(t){return t.integration===jk}function DA(t){return void 0!==t.authToken}function CA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function xA(t){var n=t;return n.integration===Qk&&void 0!==n.token}function OA(t){var n=t;return n&&n.integration===Kk&&X(n.ticketAcquisitionURL)&&X(n.streamId)}function PA(t){var n=t;return n.integration===nA&&void 0!==n.token}function BA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:mA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,h=o?{customData:o}:{},a=Er({},null!=(r=null==s?void 0:s.headers)?r:{},h),c=null!=s?s:{};c.customdata;return Er({},fA(c,yA),{licenseAcquisitionURL:u,headers:a})}function LA(t){switch(t.toLowerCase()){case"widevine":case Wr:return Wr;case"playready":case Vr:return Vr;case"fairplay":case qr:return qr}}function MA(t,i){switch(t){case Ur:return function(t){for(var n={},i=Ap.yp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.gA]=r.pA}return n}(i);case Fr:case Hr:return function(t){var n;return(n={})[Xr]=t,n}(i);default:throw new mc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Je="Widevine",t.Ze="PlayreadyV2",t.lT="PlayreadyV2",t._T="PlayreadyV3",t.$e="Fairplay"}(AA||(AA={}));var UA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function FA(t,n){var e,r,s,u,o=UA[n],h=t.accountName;return{CustomerName:t.customerName,AccountName:h,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Oe)?void 0:e.Pe,OSVersion:null==(r=i.Oe)?void 0:r.He,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Oe)?void 0:s.Ve,DeviceModel:null==(u=i.Oe)?void 0:u.ze}}}function HA(t,i){if(!t.accountName)throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function VA(t,n,i){var e;if(DA(t))e={AuthToken:t.authToken,Payload:n};else{if(!CA(t))throw HA(t,i);e={LatensRegistration:FA(t,i),Payload:n}}return Tu(JSON.stringify(e))}function zA(t,i,e){var r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=t.fv){h.next=3;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,h.prev=4,h.next=7,Sr.awrap(s.if(e));case 7:u=h.sent,o=WA(u),h.next=14;break;case 11:h.prev=11,h.t0=h.catch(4),o="";case 14:throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Sf.If,s.pf,s.bf,o);case 15:case"end":return h.stop()}},null,null,[[4,11]],Ve)}function WA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var XA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,Hc.za)||this).wT=void 0,r}S(e,t),e.gT=function(){return i.Pe.re?"required":"optional"};var r=e.prototype;return r.Fb=function(t,n,i){return zA(t,n,i)},r.Bb=function(t){return this.wT?Hs(this.wT.Ss,t):(this.wT=new Ao,Ve.resolve())},r.Gb=function(t,i){var e,r;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.Eb){i.next=3;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=wu(t),i.abrupt("return",VA(e,r,AA.Je));case 5:case"end":return i.stop()}},null,this,null,Ve)},r.Xb=function(t){var i;if(!t.license)throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=lu(t.license),Ve.resolve(i)},r.yT=function(t){return Ve.resolve(new m(t))},r.Zb=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.mT(),r.next=3,Sr.awrap(this.Gb(t,n));case 3:return i=r.sent,r.next=6,Sr.awrap(this.Mb(i,Hc.Va,yl.Mf,n));case 6:return e=r.sent,r.next=9,Sr.awrap(this.yT(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ve)},r.Jb=function(n,i){var e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(t.prototype.Jb.call(this,n,i));case 2:return e=r.sent,this.mT(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,Ve)},r.mT=function(){this.wT||(this.wT=new Ao),this.wT.Rs()},r.Jf=function(){this.wT&&this.wT.Cr(),t.prototype.Jf.call(this)},e}(cA),qA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,Hc.Va)||this).Ob("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.Gb=function(t,i){var e,r,s,u;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(oA(t,this.Rb));case 2:if(e=i.sent,r=this.Ib,o=new m(e),s=[].slice.call(o),u=this.pT){i.next=8;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,Ve)},b(i,[{key:"pT",get:function(){if(xA(this.Eb))return this.Eb.token}}]),i}(cA);function GA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Er({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Er({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var QA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Hc.Va)||this).Ob("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}S(n,t);var i=n.prototype;return i.Gb=function(t,n){return oA(t,this.Rb)},i.Vb=function(n,i){var e=n;return IA(this.Eb)&&(e=GA(this.Eb,e)),t.prototype.Vb.call(this,e,i)},n}(cA),YA="Conax-Custom-Data";function jA(t,n,i){var e=t&&EA(t)&&t;if(e&&!i.has(YA)){var r=lA(e)?e.token:void 0,s=lA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(YA,u)}return i}var ZA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Hc.Va)||this).Ob("https://connect.conax.com:8094/license"),r}S(n,t);var i=n.prototype;return i.Gb=function(t,n){return oA(t,this.Rb)},i.Hb=function(){var n=t.prototype.Hb.call(this);return jA(this.Eb,"Widevine",n)},n}(cA);function JA(t){var n=ro(new m(t));return lu(JSON.parse(n).license)}function $A(t){return"string"==typeof t.token?t.token:Tu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function KA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var tb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,Hc.Va)||this).Ob("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.Gb=function(t,n){return oA(t,this.Rb)},i.Xb=function(t){return Ve.resolve(JA(t))},i.Hb=function(){return KA(t.prototype.Hb.call(this),this.pT,this.Eb)},b(n,[{key:"pT",get:function(){return $A(this.Eb)}}]),n}(cA),nb=function(t){function n(n,i,e){return t.call(this,n,i,e,Hc.Va)||this}S(n,t);var i=n.prototype;return i.Gb=function(t,n){return oA(t,this.Rb)},i.Hb=function(){var n=t.prototype.Hb.call(this),i=this.Eb.token;return n.set("Authorization","Bearer "+i),n},n}(cA);function ib(t,i,e,r){var s,u,o,h,a,c,f;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(OA(t)){v.next=2;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Vc).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,h=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:h,streamId:o},c={If:t.ticketAcquisitionURL,Af:Hc.za,kf:s,Xf:wl.POST,af:JSON.stringify(a),Pr:r},v.next=13,Sr.awrap(e.Sf(c));case 13:return f=v.sent,v.next=16,Sr.awrap(f.if());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,Ve)}var eb=function(t){function n(n,i,e){return t.call(this,n,i,e,Hc.za)||this}S(n,t);var i=n.prototype;return i.Hb=function(){var n=t.prototype.Hb.call(this);return n.set("Content-Type","application/json"),n},i.Gb=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=bu(t.buffer),e=this.Eb,u.next=4,Sr.awrap(ib(e,"widevine_modular",this.fd,n));case 4:return r=u.sent,this.Ob(r.licenseServerUrl),s=so(JSON.stringify({payload:i,ticket:r.ticket})),u.abrupt("return",oA(s,this.Rb));case 8:case"end":return u.stop()}},null,this,null,Ve)},i.Xb=function(t){var n=t;return Ve.resolve(lu(n.license))},n}(cA),rb=function(t){function i(n,i,e){return t.call(this,n,i,e,Hc.Va)||this}S(i,t);var e=i.prototype;return e.Gb=function(t,n){return oA(t,this.Rb)},e.Hb=function(){if(!PA(this.Eb))throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Hb.call(this);return i.set("X-AxDRM-Message",this.Eb.token),i},i}(cA);function sb(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var ub=function(t){function n(n,i,e){var r;return(r=t.call(this,Qr,n,i,e,Hc.Va)||this).kT=void 0,r}S(n,t);var e=n.prototype;return e.Cb=function(t){return t.playready||{}},e.Hb=function(){var n=new Vc(this.kT);return n.Ga(t.prototype.Hb.call(this)),n},e.AT=function(t){return t.length>=1&&t[0].Jn.length>0},e.Lb=function(n){var i=this.Eb.playready.customData;if(i){var e=sb(i),r=sb('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+wu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Ve.resolve({playready:{Dh:r}})}return t.prototype.Lb.call(this,n)},e.Gb=function(t,n){var i;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(oA(t,this.Rb));case 2:return i=n.sent,n.abrupt("return",this.bT(i));case 4:case"end":return n.stop()}},null,this,null,Ve)},e.bT=function(t){var n,e,r,s,u,o,h,a,c,f,v,d,l,_,w,g;return Sr.async(function(y){for(;;)switch(y.prev=y.next){case 0:u=null,o=new DataView(t),h=no(o,new po,!0),y.prev=3,a=i.Fn(h),y.next=10;break;case 7:return y.prev=7,y.t0=y.catch(3),y.abrupt("return",u);case 10:for(c=null==(n=a.Zn("PlayReadyKeyMessage")[0])?void 0:n.Zn("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Zn("Challenge"))?e:[],this.AT(f)&&(u=Au(f[0].ci)),v=new Vc,d=null!=(r=null==c?void 0:null==(s=c.Zn("HttpHeaders")[0])?void 0:s.Zn("HttpHeader"))?r:[],l=0;l<d.length;l++)_=d[l],w=_.Zn("name")[0].ci,g=_.Zn("value")[0].ci,v.append(w,g);return this.kT=v,y.abrupt("return",u);case 18:case"end":return y.stop()}},null,this,[[3,7]],Ve)},e.Zb=function(t,n){return Ve.resolve(t)},e.Jb=function(n,i){return t.prototype.qb.call(this,n,yl.Uf,i)},n}(sA),ob=function(){function t(n){this.mo=void 0,this.TT=n,this.mo=t.ST(n)}return t.ST=function(t){return"3"===t.version?AA._T:AA.lT},t.prototype.ET=function(){var t={};if(this.mo===AA._T){var n={LatensRegistration:FA(this.TT,AA._T)};t["X-TITANIUM-DRM-CDATA"]=Tu(JSON.stringify(n))}return t},b(t,[{key:"IT",get:function(){return this.mo}},{key:"wh",get:function(){return this.mo===AA.lT}}]),t}();var hb=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).RT=void 0,r.RT=new ob(r.Eb),r}S(e,t);var r=e.prototype;return r.Lb=function(t){var i=this.Eb;if(!this.Eb)throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(CA(i)){var e={};return e.playready={Dh:ab(i,this.RT.IT)},Ve.resolve(e)}return Ve.reject(HA(i,AA.Ze))},r.Hb=function(){var n=new Vc(this.RT.ET());return n.Ga(t.prototype.Hb.call(this)),n},r.Fb=function(t,e,r){var s,u,o,h,a,c,f,v;return Sr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=t.fv){d.next=3;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return d.prev=3,d.next=6,Sr.awrap(s.sf(r));case 6:h=d.sent,a=ro(new m(h)),(c=i.Fn(a))&&(f=Rp(c,"CustomData")).length>0&&(u=JSON.parse(f[0].ci),o=null==(v=u.DrmErr)?void 0:v.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.pf,s.bf,o);case 15:case"end":return d.stop()}},null,null,[[3,12]],Ve)},r.AT=function(t){if(1!==t.length)throw new cy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(ub);function ab(t,n){var i=FA(t,n),e=i.DeviceInfo.FormatVersion,r=Tu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=oo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return oo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+wu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var cb,fb=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Ob("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.AT=function(t){if(1!==t.length)throw new cy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.Vb=function(n,i){var e=Er({},n||{},{token:this.pT});return t.prototype.Vb.call(this,e,i)},b(i,[{key:"pT",get:function(){if(xA(this.Eb))return this.Eb.token}}]),i}(ub),vb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Ob("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.Vb=function(n,i){var e=n;return IA(this.Eb)&&(e=GA(this.Eb,e)),t.prototype.Vb.call(this,e,i)},n}(ub),db=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Ob("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.Hb=function(){var n=t.prototype.Hb.call(this);return jA(this.Eb,"PlayReady",n)},n}(ub),lb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Ob("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.Xb=function(n){return(ns(ro(new m(n)),"<?xml")?cb.NT:cb.if)===cb.if?Ve.resolve(JA(n)):Ve.resolve(t.prototype.Xb.call(this,new m(n)))},i.Hb=function(){return KA(t.prototype.Hb.call(this),this.pT,this.Eb)},b(n,[{key:"pT",get:function(){return $A(this.Eb)}}]),n}(ub);!function(t){t[t.NT=0]="NT",t[t.if=1]="if"}(cb||(cb={}));var _b,wb=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).DT=void 0,r}S(n,t);var i=n.prototype;return i.Hb=function(){var n=t.prototype.Hb.call(this);return this.DT&&n.set("Ticket",this.DT),n.set("Content-Type","text/xml"),n},i.Gb=function(n,i){var e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.Eb,s.next=3,Sr.awrap(ib(e,"playready",this.fd,i));case 3:return r=s.sent,this.Ob(r.licenseServerUrl),this.DT=r.ticket,s.abrupt("return",t.prototype.Gb.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,Ve)},n}(ub),gb=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.Hb=function(){if(!PA(this.Eb))throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Hb.call(this);return i.set("X-AxDRM-Message",this.Eb.token),i},i}(ub);!function(t){t.za="application/json",t.CT="application/x-www-form-urlencoded",t.xT="application/octet-stream",t.Bn="text/plain;charset=UTF-8"}(_b||(_b={}));var yb=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.eh,i,e,r,s)||this).OT="",u.PT=void 0,u.BT=void 0,u.BT=n.LT,u}S(n,t);var i=n.prototype;return i.MT=function(){return this.Rb.certificateURL||this.PT},i.UT=function(t){this.PT=t},i.Gb=function(t){return Ve.resolve(this.FT(t,this.OT))},i.FT=function(t,n){return"spc="+encodeURIComponent(wu(t))+"&assetId="+encodeURIComponent(n)},i.Cb=function(t){return t.fairplay||{}},i.HT=function(t){var n=t.indexOf("?");if(n>=0)return Ve.resolve(t.substr(n+1));var i=t.split("/");return Ve.resolve(i[i.length-1])},i.Lb=function(t){var n,i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.BT)?n:ao(new m(t)),s.next=3,Sr.awrap(this.HT(i));case 3:return e=s.sent,this.OT=e,(r={}).fairplay={Mh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,Ve)},i.Hb=function(){var n=t.prototype.Hb.call(this);return n.set("Content-Type",this.VT),n},i.Zb=function(t,n){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Yb){t.next=2;break}return t.abrupt("return",this.Yb);case 2:return t.next=4,Sr.awrap(this.zT(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.Jb=function(n,i){return t.prototype.qb.call(this,n,yl.Pf,i)},i.WT=function(t){var n=this.MT(),i=this.Hb(),e={If:n,Af:Hc.Va,kf:i,Xf:wl.GET,Yf:!1,af:null,qf:0,Pr:t,nr:gl.xf,Gf:yl.Bf};return new kl(e)},i.zT=function(t){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.WT(t),r.next=3,Sr.awrap(this.fd.Sf(n));case 3:return i=r.sent,r.next=6,Sr.awrap(i.sf());case 6:return e=r.sent,r.abrupt("return",new m(e));case 8:case"end":return r.stop()}},null,this,null,Ve)},i.Xb=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=lu(i)}else n=new m(t);return Ve.resolve(n)},i.Vb=function(n,i){var e=t.prototype.Vb.call(this,n,i);return ns(e,"skd:")&&(e=e.substr("skd:".length)),e},b(n,[{key:"jb",get:function(){return!0}},{key:"VT",get:function(){return _b.CT}}]),n}(sA),mb=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Hc.Va)||this}S(n,t);var i=n.prototype;return i.HT=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return Ve.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return Ve.resolve(i)},i.Gb=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},i.Xb=function(t){return Ve.resolve(new m(t))},i.Vb=function(n,i){var e=n||{};return e.p1=Vt(),t.prototype.Vb.call(this,e,i)},b(n,[{key:"VT",get:function(){return _b.xT}}]),n}(yb),pb=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Hc.Va)||this).Ob("https://fairplay-license.drm.technology/license"),s.UT("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.FT=function(t,n){var i={token:this.pT,contentId:n,payload:wu(t)};return JSON.stringify(i)},e.Xb=function(t){return Ve.resolve(new m(t))},e.Hb=function(){var n=t.prototype.Hb.call(this);return n.set("x-vudrm-token",this.pT),n},b(i,[{key:"VT",get:function(){return _b.za}},{key:"pT",get:function(){if(!xA(this.Eb))throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.Eb.token}}]),i}(yb),kb="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Ab="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",bb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Hc.Va)||this}return S(i,t),i.prototype.Xb=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,kb)}if(!i)throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Ab);return i}(ro(new DataView(i)));return t.prototype.Xb.call(this,e)},i}(yb);var Tb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Hc.za)||this}S(i,t);var e=i.prototype;return e.Gb=function(t){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.Eb){r.next=3;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=wu(t),r.abrupt("return",VA(i,e,AA.$e));case 5:case"end":return r.stop()}},null,this,null,Ve)},e.Xb=function(t){try{var i;if(X(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Au(i.license);return Ve.resolve(new m(r))}return Ve.reject(new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return Ve.reject(new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.Fb=function(t,n,i){return zA(t,n,i)},b(i,[{key:"VT",get:function(){return _b.za}}]),i}(yb),Sb=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Hc.Va)||this).Ob("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.UT("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.MT=function(){var n=t.prototype.MT.call(this);if(!n)return n;var e=i.Ce(n),r=this.Eb;return IA(r)&&Tl(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.HT=function(n){return IA(this.Eb)?Ve.resolve(this.Eb.contentId):t.prototype.HT.call(this,n)},e.Gb=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.Xb=function(t){return Ve.resolve(new m(t))},e.Vb=function(n,i){var e=n;return IA(this.Eb)&&(e=function(t,n){return Er({},GA(t,n),{KeyId:t.keyId})}(this.Eb,e)),t.prototype.Vb.call(this,e,i)},b(n,[{key:"VT",get:function(){return _b.xT}}]),n}(yb),Eb=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,Hc.Bn)||this,!EA(e))throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.Ob("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.Hb=function(){var n=t.prototype.Hb.call(this);return jA(this.Eb,"FairPlay",n)},e.zT=function(t){var n,i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.MT(),i={If:n,Af:Hc.Va,kf:{},Xf:wl.GET,Yf:!1,af:null,qf:0,Pr:t,nr:gl.xf,Gf:yl.Bf},s.next=4,Sr.awrap(this.fd.Sf(i));case 4:return e=s.sent,s.next=7,Sr.awrap(e.sf());case 7:return r=s.sent,s.abrupt("return",new m(r));case 9:case"end":return s.stop()}},null,this,null,Ve)},e.Gb=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.HT=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Ve.resolve(ro(lu(n)))):Ve.resolve("unknown")},e.Xb=function(t){try{var n=JSON.parse(t);return Ve.resolve(new m(Au(n.CkcMessage)))}catch(t){return Ve.reject("CFLRW-66")}},i}(yb),Ib=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Hc.Bn)||this).Ob(mA[Lr.$e]),s}S(i,t);var e=i.prototype;return e.HT=function(t){return ns(t,"skd://")?Ve.resolve(t.substring("skd://".length,40)):Ve.reject(new cy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.FT=function(t,n){return"spc="+wu(t)+"&assetId="+n},i}(yb),Rb=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Hc.Bn)||this).Ob("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.FT=function(t,n){var i="spc="+encodeURIComponent(wu(t))+"&"+encodeURI(n);return"persistent"===this.Rb.licenseType?i+"&offline=true":i},i.Hb=function(){return KA(t.prototype.Hb.call(this),this.pT,this.Eb)},b(n,[{key:"pT",get:function(){return $A(this.Eb)}}]),n}(yb),Nb=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Hc.Va)||this}S(n,t);var e=n.prototype;return e.HT=function(t){var n=t;return ns(n,"skd:")&&(n="http:"+n.substring(4)),ns(n,"http:")||ns(n,"https:")?Ve.resolve(i.Ce(n).hostname):Ve.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.Gb=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,Ve)},e.Xb=function(t){return Ve.resolve(new m(t))},b(n,[{key:"VT",get:function(){return _b.xT}}]),n}(yb),Db=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,Hc.Bn)||this}return S(n,t),n.prototype.Hb=function(){var n=t.prototype.Hb.call(this),i=this.Eb.token;return n.set("Authorization","Bearer "+i),n},n}(yb),Cb=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,Hc.za)||this,!OA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.zT=function(t){var n,i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.MT(),i=this.Hb(),e={If:n,Af:Hc.za,kf:i,Xf:wl.POST,Pr:t,nr:gl.xf,Gf:yl.Bf},u.next=5,Sr.awrap(this.fd.Sf(e));case 5:return r=u.sent,u.next=8,Sr.awrap(r.if());case 8:return s=u.sent,u.abrupt("return",new m(lu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,Ve)},i.Jb=function(t,n,i){var e,r,s,u,o,h,a;return Sr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return void 0===i&&(i=Hc.Bn),e=wu(t),r=this.Eb,c.next=5,Sr.awrap(ib(r,"fairplay",this.fd,n));case 5:return s=c.sent,u=so(JSON.stringify({spc:e,ticket:s.ticket})),o={If:this.Pb(),Af:Hc.za,kf:this.Hb(),Xf:wl.POST,af:u,qf:0,Pr:n,nr:gl.xf,Gf:yl.Pf},c.next=10,Sr.awrap(this.fd.Sf(o));case 10:return h=c.sent,c.next=13,Sr.awrap(h.if());case 13:return a=c.sent,c.abrupt("return",lu(a.licence));case 15:case"end":return c.stop()}},null,this,null,Ve)},b(n,[{key:"VT",get:function(){return _b.za}}]),n}(yb),xb=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Hc.Bn)||this}S(i,t);var e=i.prototype;return e.FT=function(t,n){return wu(t)},e.Xb=function(i){if(0===i.length)throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.Xb.call(this,i)},e.Hb=function(){var n=t.prototype.Hb.call(this);return n.set("Content-Type","text/plain"),n},i}(yb),Ob=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,Hc.Va)||this}S(i,t);var e=i.prototype;return e.FT=function(t,n){return t},e.Xb=function(t){return Ve.resolve(new m(t))},e.Hb=function(){if(!PA(this.Eb))throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.Hb.call(this);return i.set("X-AxDRM-Message",this.Eb.token),i},b(i,[{key:"VT",get:function(){return _b.za}}]),i}(yb),Pb=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Hc.za)||this).XT=void 0,s}S(e,t);var r=e.prototype;return r.FT=function(t,n){var i={spc:wu(t)};return JSON.stringify(i)},r.HT=function(t){var e=i.Ce(t);return this.XT=t,e.searchParams.has("b")?Ve.resolve(e.searchParams.get("b")):Ve.reject(new cy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.Vb=function(n,i){var e=this.Pb();return!e&&this.XT&&(e=this.XT),e&&(e=e.replace("skd://","https://")),t.prototype.Vb.call(this,n,i||e)},r.Xb=function(t){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=X(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",lu(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],Ve)},b(e,[{key:"VT",get:function(){return _b.Bn}}]),e}(yb),Bb=function(){function t(t,n){this.qT=t,this.GT=n}var n=t.prototype;return n.QT=function(t){return this.qT(t)},n.YT=function(t,n){throw new d(n+" must be "+this.GT+". (Received: "+t+")")},t}(),Lb=new Bb(Y,"a number"),Mb=new Bb(X,"a string"),Ub=new Bb(q,"a boolean");var Fb,Hb=(Fb={responseCode:Lb,isException:Ub,description:Mb,title:Mb,correlationId:Mb},{QT:function(t){if(!z(t))return!1;for(var n=0,i=l.keys(Fb);n<i.length;n++){var e=i[n];if(!Fb[e].QT(t[e]))return!1}return!0},YT:function(t,n){if(!z(t))throw new d(n+" must be an object.");for(var i=0,e=l.keys(Fb);i<e.length;i++){var r=e[i],s=Fb[r];if(!s.QT(t[r]))return s.YT(t[r],n+"."+r)}throw new d}});function Vb(t,n,i,e,r){var s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=zb(t,n,i,r),u.next=3,Sr.awrap(Wb(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,Ve)}function zb(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Ce(t);return Tl(e,n),e.toString()}(e,s)),o=new Vc({});o.append("Content-Type","application/json");var h=wu(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:h}};return{If:u,Af:Hc.Bn,kf:o,Xf:wl.POST,af:JSON.stringify(a),Pr:r,nr:gl.xf,Gf:yl.Pf}}function Wb(t,i){var e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Sr.awrap(i.Sf(t));case 2:return e=s.sent,s.next=5,Sr.awrap(e.if());case 5:if(r=s.sent,!Hb.QT(r)){s.next=8;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.If,r.responseCode);case 8:return s.abrupt("return",lu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,Ve)}var Xb=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,Hc.Va)||this).jT=void 0,s.jT=i,s}S(n,t);var i=n.prototype;return i.HT=function(n){var i=n.replace("FairPlay",this.jT.releasePid);return t.prototype.HT.call(this,i)},i.Jb=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(Vb(t,this.jT,this.Pb(),this.fd,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,Ve)},n}(yb),qb=function(t){function i(n,i,e){return t.call(this,Zr,n,i,e,Hc.Va)||this}S(i,t);var e=i.prototype;return e.Cb=function(t){return t.clearkey||{}},e.Gb=function(t,n){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",oA(t,this.Rb));case 1:case"end":return n.stop()}},null,this,null,Ve)},e.Mb=function(i,e,r,s){var u,o;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.Rb,!this.Pb()){e.next=5;break}return e.abrupt("return",t.prototype.Mb.call(this,i,this.Db,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",so(JSON.stringify(o)).buffer);case 10:throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,Ve)},e.Zb=function(t,n){return Ve.resolve(new m(0))},e.Jb=function(n,i){return t.prototype.qb.call(this,n,yl.Ff,i)},i}(sA),Gb=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Gb=function(t,n){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",oA(t,this.Rb));case 1:case"end":return n.stop()}},null,this,null,Ve)},n}(cA),Qb={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Yb(t,n,i){var e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=eT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",Ve.resolve(n));case 5:return u.next=8,Sr.awrap(Hs(Ve.resolve(r.call(t,e)),i));case 8:if(!wo(s=u.sent)){u.next=11;break}return u.abrupt("return",go(s));case 11:return u.abrupt("return",iT(Er({},Qb,s)));case 12:case"end":return u.stop()}},null,null,null,Ve)}function jb(t,n,i,e,r){var s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=t.onCertificateResponse,u=nT(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",Ve.resolve(n));case 5:return h.next=8,Sr.awrap(Hs(Ve.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",go(o));case 10:case"end":return h.stop()}},null,null,null,Ve)}function Zb(t,n,i,e){var r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Sr.awrap($b(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",iT(r));case 6:case"end":return s.stop()}},null,null,null,Ve)}function Jb(t,n,i,e,r,s){var u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return u=tT(i,r),h.next=3,Sr.awrap(Kb(t,new m(n),u,e,s));case 3:return o=h.sent,h.abrupt("return",go(o).buffer);case 5:case"end":return h.stop()}},null,null,null,Ve)}function $b(t,n,i,e){var r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=tT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",Ve.resolve(s));case 5:return o.next=8,Sr.awrap(Hs(Ve.resolve(r.call(t,s)),e));case 8:if(!wo(u=o.sent)){o.next=11;break}return o.abrupt("return",go(u).buffer);case 11:return o.abrupt("return",Er({fairplaySkdUrl:void 0},Qb,u));case 12:case"end":return o.stop()}},null,null,null,Ve)}function Kb(t,n,i,e,r){var s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=nT(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",Ve.resolve(n));case 5:return h.next=8,Sr.awrap(Hs(Ve.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",go(o));case 10:case"end":return h.stop()}},null,null,null,Ve)}function tT(t,n){return Er({},eT(t),{fairplaySkdUrl:n})}function nT(t,n,i){return{url:i.Ef,status:i.pf,statusText:i.bf,headers:i.kf.Xa(),body:t,request:n}}function iT(t){return new kl({If:t.url,Xf:t.method,kf:t.headers,af:t.body,Yf:t.useCredentials})}function eT(t){var n;return{url:t.If,body:null!=(n=rT(t.af))?n:null,headers:t.kf.Xa(),method:t.Xf,useCredentials:t.Yf}}function rT(t){if(t)return"string"==typeof t?so(t):t instanceof ArrayBuffer?new m(t):yu(t)?_o(t):void 0}var sT,uT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).ZT=void 0,s.ZT=r,s}S(i,t);var e=i.prototype;return e.Zb=function(t,n){return Ve.resolve(t)},e.Jb=function(t,i){var e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Sr.awrap(this.bT(mo(t).buffer));case 2:return e=h.sent,r=this.Ub(e,Hc.Va,yl.Uf,i),h.next=6,Sr.awrap(Zb(this.ZT,r,void 0,i));case 6:if(!((s=h.sent)instanceof ArrayBuffer)){h.next=10;break}return h.abrupt("return",new m(s));case 10:if(""!==s.If){h.next=12;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return h.prev=12,h.next=15,Sr.awrap(this.fd.Sf(s));case 15:return u=h.sent,h.next=18,Sr.awrap(u.sf(i));case 18:return o=h.sent,h.t0=m,h.next=22,Sr.awrap(Jb(this.ZT,o,r,u,void 0,i));case 22:return h.t1=h.sent,h.abrupt("return",new h.t0(h.t1));case 26:throw h.prev=26,h.t2=h.catch(12),Us(h.t2),new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",h.t2);case 30:case"end":return h.stop()}},null,this,[[12,26]],Ve)},i}(ub),oT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,Hc.Va)||this).ZT=void 0,s.ZT=r,s}S(i,t);var e=i.prototype;return e.Zb=function(t,i){var e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.Yb){h.next=2;break}return h.abrupt("return",this.Yb);case 2:return e=this.Ub(t,Hc.Va,yl.Mf,i),h.next=5,Sr.awrap(Yb(this.ZT,e,i));case 5:if(!((r=h.sent)instanceof m)){h.next=9;break}return h.abrupt("return",r);case 9:if(""!==r.If){h.next=11;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return h.prev=11,h.next=14,Sr.awrap(this.fd.Sf(r));case 14:return s=h.sent,h.next=17,Sr.awrap(s.sf(i));case 17:u=h.sent,h.next=24;break;case 20:throw h.prev=20,h.t0=h.catch(11),Us(h.t0),new cy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",h.t0);case 24:return o=tT(e,void 0),h.next=27,Sr.awrap(jb(this.ZT,new m(u),o,s,i));case 27:return h.abrupt("return",h.sent);case 28:case"end":return h.stop()}},null,this,[[11,20]],Ve)},e.Jb=function(t,i){var e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.Ub(t,Hc.Va,yl.Lf,i),o.next=3,Sr.awrap(Zb(this.ZT,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new m(r));case 7:if(""!==r.If){o.next=9;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Sr.awrap(this.fd.Sf(r));case 12:return s=o.sent,o.next=15,Sr.awrap(s.sf(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),Us(o.t0),new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=m,o.next=25,Sr.awrap(Jb(this.ZT,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],Ve)},i}(Gb),hT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,Hc.Va)||this).ZT=void 0,u.JT=void 0,u.ZT=s,u}S(i,t);var e=i.prototype;return e.Zb=function(t,i){var e,r,s,u,o;return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Yb){t.next=2;break}return t.abrupt("return",this.Yb);case 2:return e=this.WT(i),t.next=5,Sr.awrap(Yb(this.ZT,e,i));case 5:if(r=t.sent,!yu(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Sr.awrap(this.fd.Sf(r));case 11:return s=t.sent,t.next=14,Sr.awrap(s.sf());case 14:return u=t.sent,o=tT(e,void 0),t.next=18,Sr.awrap(jb(this.ZT,new m(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Us(t.t0),new cy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],Ve)},e.Jb=function(t,i){var e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.Ub(t,Hc.Va,yl.Pf,i),o.next=3,Sr.awrap(Zb(this.ZT,e,this.JT,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new m(r));case 7:if(""!==r.If){o.next=9;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Sr.awrap(this.fd.Sf(r));case 12:return s=o.sent,o.next=15,Sr.awrap(s.sf(i));case 15:return u=o.sent,o.t0=m,o.next=19,Sr.awrap(Jb(this.ZT,u,e,s,this.JT,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),Us(o.t2),new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],Ve)},e.HT=function(n){var i;return this.JT=n,null!=(i=this.ZT)&&i.extractFairplayContentId?Ve.resolve(this.ZT.extractFairplayContentId(n)):t.prototype.HT.call(this,n)},i}(yb),aT=function(){function t(){}var n=t.prototype;return n.$T=function(t,n,i,e){switch(t.eh.nr){case Lr.Je:return this.KT(n,i,e);case Lr.Ze:return this.tS(n,i,e);case Lr.$e:return this.nS(t,n,i,e);case Lr.Ke:default:return this.iS(n,i,e)}},n.KT=function(t,n,i){var e,r=(e=t).integration===rA&&X(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&gA.dT.cT(r,Wr)){var s=gA.dT.vT(r,Wr,t);return new oT(t,n,i,s)}switch(r){case Wk:return new XA(t,n,i);case Qk:return new qA(t,n,i);case Gk:return new QA(t,n,i);case Xk:return new ZA(t,n,i);case Zk:return new tb(t,n,i);case $k:return new nb(t,n,i);case Kk:return new eb(t,n,i);case nA:return new rb(t,n,i);case jk:default:return new Gb(t,n,i,Hc.Va)}},n.tS=function(t,n,i){var e=t.integration;if(e&&gA.dT.cT(e,Vr)){var r=gA.dT.vT(e,Vr,t);return new uT(t,n,i,r)}switch(e){case Wk:return new hb(t,n,i);case Qk:return new fb(t,n,i);case Gk:return new vb(t,n,i);case Xk:return new db(t,n,i);case Zk:return new lb(t,n,i);case Kk:return new wb(t,n,i);case nA:return new gb(t,n,i);case jk:default:return new ub(t,n,i)}},n.nS=function(t,n,i,e){var r=n.integration;if(r&&gA.dT.cT(r,qr)){var s=gA.dT.vT(r,qr,n);return new hT(t,n,i,e,s)}switch(r){case qk:return new mb(t,n,i,e);case Qk:return new pb(t,n,i,e);case Yk:return new bb(t,n,i,e);case Wk:return new Tb(t,n,i,e);case Gk:return new Sb(t,n,i,e);case Xk:return new Eb(t,n,i,e);case jk:return new Ib(t,n,i,e);case Zk:return new Rb(t,n,i,e);case Jk:return new Nb(t,n,i,e);case $k:return new Db(t,n,i,e);case Kk:return new Cb(t,n,i,e);case tA:return new xb(t,n,i,e);case nA:return new Ob(t,n,i,e);case iA:return new Pb(t,n,i,e);case eA:return new Xb(t,n,i,e);default:return new yb(t,n,i,e,Hc.Bn)}},n.iS=function(t,n,i){return new qb(t,n,i)},n.eS=function(t){return t.nr===Lr.Ze||t.nr===Lr.Je||t.nr===Lr.$e||t.nr===Lr.Ke},n.wh=function(t,n){var i;if(t.nr!==Lr.Ze)return!1;if(F(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!gA.dT.cT(e,qr))&&(e===Wk&&new ob(n).wh)},n.gT=function(t,n){if(t.nr===Lr.Je){var i=n.integration;if(!i||!gA.dT.cT(i,qr))return i===Wk?XA.gT():void 0}},t}();!function(t){t[t.rS=0]="rS",t[t.sS=1]="sS",t[t.uS=2]="uS",t[t.oS=3]="oS",t[t.Fl=4]="Fl",t[t.hS=5]="hS",t[t.ql=6]="ql",t[t.aS=7]="aS",t[t.cS=8]="cS"}(sT||(sT={}));var cT,fT=function(){function t(){}return t.prototype.fS=function(t){},b(t,[{key:"vS",get:function(){return 0}},{key:"dS",get:function(){return 0}}]),t}(),vT=function(){function t(t,n){void 0===n&&(n=new aT),this.JA=void 0,this.lS=void 0,this.TT=void 0,this.JA=t,this.lS=n}var n=t.prototype;return n._S=function(t){this.TT=t},n.gT=function(t){var n=this.TT;if(void 0!==n)return this.lS.gT(t,n)},n.wh=function(t){var n=this.TT;return void 0!==n&&this.lS.wh(t,n)},n.wS=function(t){var n={eh:t.eh,gS:t.gS||[],LT:t.LT},i=this.lS.$T(n,this.TT||{},t.Ib,this.JA);return new dT(i)},t}(),dT=function(){function t(t){this.yS=void 0,this.yS=t}var n=t.prototype;return n.Bb=function(t){return this.yS.Bb(t)},n.Lb=function(t,n,i){return this.yS.Lb(n,i)},n.jb=function(){return this.yS.jb||void 0!==this.yS.Yb},n.Zb=function(t,n){return this.yS.Zb(t,n)},n.Jb=function(t,n,i){return n&&this.yS.Ob(n),this.yS.Jb(t,i)},n.Sr=function(){this.yS.Jf()},t}(),lT=function(t){function n(n){var i;(i=t.call(this)||this).mS=[],i.pS=function(t){i.Wd(t.md)},i.kS=function(t){var n=t.md;i.AS(n)||i.Xd(n)};for(var e=0;e<n.length;e++){var r=n[e];i.bS(r)}return i}S(n,t);var i=n.prototype;return i.bS=function(t){this.mS.push(t);for(var n=0,i=t.Qd;n<i.length;n++){var e=i[n];this.Wd(e)}this.TS(t)},i.SS=function(t){Ss(this.mS,t),this.ES(t);for(var n=0,i=t.Qd;n<i.length;n++){var e=i[n];this.AS(e)||this.Xd(e)}},i.AS=function(t){for(var n=0,i=this.mS;n<i.length;n++){if(i[n].qd(t))return!0}return!1},i.TS=function(t){t.Hr(aw.vd,this.pS),t.Hr(aw.ld,this.kS)},i.ES=function(t){t.Xr(aw.vd,this.pS),t.Xr(aw.ld,this.kS)},i.Jf=function(){for(;this.mS.length>0;)this.SS(this.mS[0]);t.prototype.Jf.call(this)},i.yd=function(){return Zw(this)},n}(pw);function _T(){return cT||(cT=ce&&ce.document&&ce.document.createElement("video")),cT}var wT=function(t){function n(n,i,e,r,s,u,o){var h;return void 0===u&&(u=new aT),void 0===o&&(o=Oc()),(h=t.call(this)||this).IS=void 0,h.RS=void 0,h.NS=void 0,h.E_=void 0,h.I_=void 0,h.R_=void 0,h.DS=void 0,h.CS=void 0,h.xS=void 0,h.OS=void 0,h.PS=void 0,h.JA=void 0,h.hr=void 0,h.LS=void 0,h.MS=void 0,h.US=new fT,h.FS=function(t){var n=t.ts,i=n.code,e=new mc(ly(i),"Something went wrong during native playback.",n),r=new fy(i,e.message,n.message);h.HS(e,r)},h.VS=function(){h.Fr(new Lg(h.e_,h.sw))},h.zS=function(t){h.h_||(h.MS=void 0),h.Fr(t)},h.WS=function(t){h.MS=void 0,h.Fr(t)},h.XS=function(){h.Fr(new Oy(h.ow))},h.qS=function(){h.v_>0&&h.f_>0&&h.Fr(new gk)},h.GS=function(t){h.E_.Wd(new Iy(t.track))},h.QS=function(t){var n=yT(h.E_,t.track);n&&h.E_.Xd(n)},h.YS=function(){h.jS(h.E_)},h.ZS=function(t){h.I_.Wd(new xy(t.track))},h.JS=function(t){var n=yT(h.I_,t.track);n&&h.I_.Xd(n)},h.$S=function(){h.jS(h.I_)},h.KS=function(t){h.Fr(t),h.HS(t.errorObject,dy(t.errorObject))},h.IS=i,h.JA=e,h.hr=o,h.RS=h.IS.tE(_y.zf),h.xS=h.RS.nE.preload,h.OS=new zk(h.RS,!0),h.OS.Hr(xg,h.Ur),h.LS=new vT(e,u),h.RS.iE=h.LS,h.eE(),h.E_=new wy,h.I_=new wy,h.rE(),h.PS=new ck(h.RS,h.JA),h.R_=new lT([h.RS.P_]),h.Q_(),h}S(n,t);var i=n.prototype;return i.Y_=function(){this.RS.Y_()},i.Q_=function(){this.RS.Q_()},i.H_=function(t,n,i){var e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return Ms(i),e={nr:wk.ob,Tl:t.src,hf:t.type,sE:this.uE(t),ww:this.xS,oE:t.crossOrigin,hE:n.metadata&&n.metadata.title},this.LS._S(t.contentProtection),r.next=5,Sr.awrap(this.RS.Yo(e));case 5:this.NS=r.sent,Ms(i),n.textTracks&&this.aE(n.textTracks),_k(this.P_);case 9:case"end":return r.stop()}},null,this,null,Ve)},i.aE=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.RS.cE()&&L.jt&&Ek&&!ek(i.kind,i.label)&&this.fE(i)){var e,r=null!=(e=i.kind)?e:Xp.Bm;this.RS.vE(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.PS.KA(i)}}},i.fE=function(t){return!t.format||"webvtt"===t.format},i.L_=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sr.awrap(this.RS.L_());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.dE){t.next=12;break}return t.next=10,Sr.awrap(this.RS.Yr(Fc.Ta));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],Ve)},i.M_=function(){this.RS.M_()},i.V_=function(){return void 0!==this.RS.nE.webkitShowPlaybackTargetPicker},i.z_=function(){this.RS.nE.webkitShowPlaybackTargetPicker&&this.RS.nE.webkitShowPlaybackTargetPicker()},i.W_=function(){this.RS.nE.webkitShowPlaybackTargetPicker&&this.RS.nE.webkitShowPlaybackTargetPicker()},i.j_=function(){return this.RS.nE},i.Z_=function(){return this.RS.lE},i.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DS=void 0,this.CS=void 0,this.NS=void 0,t.next=5,Sr.awrap(this.PS.Gd());case 5:return this.RS._E(),t.next=8,Sr.awrap(this.RS.Gd());case 8:this.OS.Gd(),this.ww=this.xS,this.x_.Gd(),this.O_.Gd(),this.MS=void 0;case 13:case"end":return t.stop()}},null,this,null,Ve)},i.Jf=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.Gd());case 2:return this.Wr(),this.wE(),this.gE(),this.OS.Jf(),this.RS.iE=void 0,t.next=9,Sr.awrap(this.IS.yE(this.RS));case 9:return this.E_.Jf(),this.I_.Jf(),this.R_.Jf(),t.next=14,Sr.awrap(this.PS.Jf());case 14:case"end":return t.stop()}},null,this,null,Ve)},i.eE=function(){this.RS.Hr(Fc.ba,this.Ur),this.RS.Hr(Fc.Aa,this.Ur),this.RS.Hr(Fc.La,this.VS),this.RS.Hr(Fc.Ta,this.Ur),this.RS.Hr(Fc.ga,this.Ur),this.RS.Hr(Fc.Na,this.Ur),this.RS.Hr(Fc.Ra,this.zS),this.RS.Hr(Fc.la,this.Ur),this.RS.Hr(Fc.Sa,this.Ur),this.RS.Hr(Fc.Ma,this.Ur),this.RS.Hr(Fc.va,this.Ur),this.RS.Hr(Fc.Ia,this.qS),this.RS.Hr(Eg.i_,this.WS),this.RS.Hr(Xw.wl,this.FS),this.RS.Hr(Fc.aa,this.Ur),this.RS.Hr(Fc.ha,this.KS),this.RS.nE.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.XS)},i.wE=function(){this.RS.Xr(Fc.ba,this.Ur),this.RS.Xr(Fc.Aa,this.Ur),this.RS.Xr(Fc.La,this.VS),this.RS.Xr(Fc.Ta,this.Ur),this.RS.Xr(Fc.ga,this.Ur),this.RS.Xr(Fc.Na,this.Ur),this.RS.Xr(Fc.Ra,this.zS),this.RS.Xr(Fc.la,this.Ur),this.RS.Xr(Fc.Sa,this.Ur),this.RS.Xr(Fc.Ma,this.Ur),this.RS.Xr(Fc.va,this.Ur),this.RS.Xr(Fc.Ia,this.qS),this.RS.Xr(Eg.i_,this.WS),this.RS.Xr(Xw.wl,this.FS),this.RS.Xr(Fc.aa,this.Ur),this.RS.Xr(Fc.ha,this.KS),this.RS.nE.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.XS)},i.uE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:jr,mE:[{initDataTypes:[jr.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.rE=function(){var t=this.RS.nE.audioTracks,n=this.RS.nE.videoTracks;t&&(t.addEventListener("addtrack",this.GS),t.addEventListener("removetrack",this.QS),t.addEventListener("change",this.YS)),n&&(n.addEventListener("addtrack",this.ZS),n.addEventListener("removetrack",this.JS),n.addEventListener("change",this.$S))},i.gE=function(){var t=this.RS.nE.audioTracks,n=this.RS.nE.videoTracks;t&&(t.removeEventListener("addtrack",this.GS),t.removeEventListener("removetrack",this.QS),t.removeEventListener("change",this.YS)),n&&(n.removeEventListener("addtrack",this.ZS),n.removeEventListener("removetrack",this.JS),n.removeEventListener("change",this.$S))},i.jS=function(t){for(var n=0;n<t.Yd;n++){t.zd(n).Ew()}},i.ew=function(){this.RS.ew()},i.HS=function(t,n){this.DS||(this.DS=n,this.CS=t,this.Fr(new qg(t)))},b(n,[{key:"dE",get:function(){var t=this.RS.rw,n=this.e_;return t.pE(n,.01)}},{key:"x_",get:function(){return this.E_}},{key:"rw",get:function(){return this.RS.rw.kE()}},{key:"sw",get:function(){return this.RS.sw},set:function(t){t&&this.RS.AE(t)}},{key:"e_",get:function(){return void 0!==this.MS?this.MS:this.RS.e_},set:function(t){this.ow&&(this.MS=t),this.RS.ys(t)}},{key:"r_",get:function(){return this.RS.r_}},{key:"s_",get:function(){return this.RS.s_}},{key:"ts",get:function(){return this.DS}},{key:"u_",get:function(){return this.CS}},{key:"B_",get:function(){}},{key:"ow",get:function(){return this.RS.ow}},{key:"p_",get:function(){return Er({},{hw:0,aw:0,cw:0,fw:0,vw:0,dw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.RS.bE())}},{key:"o_",get:function(){return this.RS.o_},set:function(t){this.RS.o_=t}},{key:"lw",get:function(){return!0}},{key:"h_",get:function(){return this.RS.h_}},{key:"a_",get:function(){return this.RS.a_},set:function(t){this.RS.a_=t}},{key:"_w",get:function(){return this.RS.nE.played}},{key:"ww",get:function(){return this.xS},set:function(t){this.xS=t,this.NS&&(this.NS.ww=t)}},{key:"kl",get:function(){return this.RS.kl}},{key:"gw",get:function(){return this.RS.gw.kE()}},{key:"c_",get:function(){return this.RS.c_}},{key:"TE",get:function(){return this.RS.TE}},{key:"P_",get:function(){return this.R_}},{key:"O_",get:function(){return this.I_}},{key:"f_",get:function(){return this.RS.f_}},{key:"v_",get:function(){return this.RS.v_}},{key:"d_",get:function(){return this.RS.d_},set:function(t){this.RS.d_=t}},{key:"yw",get:function(){return this.RS.yw},set:function(t){this.RS.yw=t}},{key:"SE",get:function(){return this.US}}]),n}(Kw);var gT=function(){function t(){this.EE=sT.cS}var n=t.prototype;return n.uT=function(t,n,i,e,r,s){return new wT(t,n,i,e,r)},n.IE=function(t,n){return function(t){return!t.type||!(!_T().canPlayType||!_T().canPlayType(t.type))}(t)},n.RE=function(){return!1},t}();function yT(t,n){for(var i=0,e=t.Qd;i<e.length;i++){var r=e[i];if(r.Nw===n)return r}}var mT=function(){function t(){this.NE=new gT,this.DE=[]}t.CE=function(){return this.Nn};var n=t.prototype;return n.xE=function(t){this.DE.push(t)},n.uT=function(t,n,i,e,r,s){for(var u=this.NE.uT(t,n,i,e,r,s),o=0,h=this.DE;o<h.length;o++){u=(0,h[o])(u,i,e)}return u},n.IE=function(t,n){return this.NE.IE(t,n)},n.RE=function(){return!1},b(t,[{key:"EE",get:function(){return this.NE.EE}}]),t}();function pT(t,n){return ms(t.EE,n.EE)}function kT(t){AT.Nn.OE(t)}mT.Nn=new mT;var AT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).PE=mT.CE(),n}S(n,t);var i=n.prototype;return i.BE=function(t){this.PE=t},i.LE=function(){return this.PE},i.ME=function(t,n){var i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=0;case 1:if(!(i<t.length)){h.next=11;break}return e=t[i],h.next=5,Sr.awrap(this.UE(e,n));case 5:if(!(r=h.sent)){h.next=8;break}return h.abrupt("return",{FE:e,HE:r});case 8:i++,h.next=1;break;case 11:s=this.PE,u=0;case 13:if(!(u<t.length)){h.next=20;break}if(o=t[u],!s.IE(o,n)){h.next=17;break}return h.abrupt("return",{FE:o,HE:s});case 17:u++,h.next=13;break;case 20:return h.abrupt("return",{FE:t[0],HE:s});case 21:case"end":return h.stop()}},null,this,null,Ve)},n}(function(){function t(){this.VE=[]}var n=t.prototype;return n.OE=function(t){this.VE.push(t),this.VE.sort(pT)},n.UE=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.VE;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!G(s=r.IE(t,n))){u.next=10;break}return u.next=7,Sr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,Ve)},t}());AT.Nn=new AT;var bT,TT=function(){function t(t){this.zE=void 0,this.zE=ce&&ce.document&&ce.document.createElement("div"),tr(this.zE),t.appendChild(this.zE)}return t.prototype.Jf=function(){Ze(this.zE)},t}();function ST(t){switch(t){case bT.WE:case"":return bT.WE;case bT.Mm:return bT.Mm;case bT.XE:default:return bT.XE}}!function(t){t.cS="",t.XE="none",t.Mm="metadata",t.WE="auto"}(bT||(bT={}));var ET=[Xw.wl,Fc.da,Fc.es,Fc.Ha,Fc.ra,Fc._a,Fc.pa,Fc.ka,Fc.Ca,Fc.Oa,Eg.Jl,Eg.$l,Eg.Kl,Eg.t_,Eg.xd,Eg.n_,Eg.i_,Fc.ha,Fc.aa,Fc.va,Fc.la,Fc.ga,Fc.ya,Fc.ba,Fc.Ta,Fc.Aa,Fc.Sa,Fc.Ia,Fc.Na,Fc.Ra,Fc.La,Fc.Ma,Fc.Ea,Fc.ma,Fc.Da],IT=function(t){function n(n,i){var e;return(e=t.call(this)||this).qE=void 0,e.GE=void 0,e.QE=void 0,e.YE=void 0,e.xS=bT.XE,e.jE=void 0,e.ZE=!0,e.E_=new qw,e.I_=new qw,e.R_=new $w,e.N_=new hy,e.qE=n,e.QE=i,e.QE.ww=e.ww,e.JE(),e}S(n,t);var i=n.prototype;return i.M_=function(){this.QE.M_()},i.L_=function(){var t=this.QE.L_();G(t)&&qs(t)},i.U_=function(){return this.H_(void 0)},i.X_=function(){},i.K_=function(t){return!1},i.JE=function(){this.E_.tl=this.QE.x_,this.I_.tl=this.QE.O_,this.R_.tl=this.QE.P_,this.N_.tl=this.QE.B_,this.QE.Hr(ET,this.Ur)},i.$E=function(){this.QE.Xr(ET,this.Ur),this.E_.tl=void 0,this.I_.tl=void 0,this.R_.tl=void 0,this.N_.tl=void 0},i.F_=function(){return this.jE},i.H_=function(t,n){var i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(Ms(n),this.jE=t,t){h.next=4;break}return h.abrupt("return");case 4:if(!pg(i=t.sources.filter(Sg))){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,Sr.awrap(this.qE.ME(i,t));case 9:if(e=h.sent,Ms(n),r=e.FE,s=e.HE,u=this.Z_(),o=Yg(this),this.GE===s&&!this.ts){h.next=25;break}return this.$E(),h.next=19,Sr.awrap(this.QE.Jf());case 19:Ms(n),this.GE=s,this.QE=this.KE(s),RT(this.QE,o),jg(this,o,this),this.JE();case 25:return this.QE.ww=this.ww,this.ZE?this.QE.Q_():this.QE.Y_(),h.next=29,Sr.awrap(this.QE.H_(r,t,n));case 29:Ms(n),this.tI(r),this.Z_()!==u&&this.Fr(new ng);case 32:case"end":return h.stop()}},null,this,null,Ve)},i.tI=function(t){this.YE!==t&&(this.YE=t,this.Fr(new ig(t)))},i.V_=function(){return this.QE.V_()},i.z_=function(){this.QE.z_()},i.W_=function(){this.QE.W_()},i.Z_=function(){return this.QE.Z_()},i.ew=function(){this.QE.ew()},i.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.jE=void 0,this.tI(void 0),t.next=4,Sr.awrap(this.QE.Gd());case 4:case"end":return t.stop()}},null,this,null,Ve)},i.Jf=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Sr.awrap(this.Gd());case 3:return t.next=5,Sr.awrap(this.QE.Jf());case 5:this.E_.Jf(),this.I_.Jf(),this.R_.Jf(),this.N_.Jf();case 9:case"end":return t.stop()}},null,this,null,Ve)},i.Q_=function(){this.ZE=!0,this.QE.Q_()},i.Y_=function(){this.ZE=!1,this.QE.Y_()},b(n,[{key:"x_",get:function(){return this.E_}},{key:"rw",get:function(){return this.QE.rw}},{key:"ts",get:function(){return this.QE.ts}},{key:"u_",get:function(){return this.QE.u_}},{key:"sw",get:function(){return this.QE.sw},set:function(t){this.QE.sw=t}},{key:"iw",get:function(){return this.YE}},{key:"e_",get:function(){return this.QE.e_},set:function(t){this.QE.e_=t}},{key:"r_",get:function(){return this.QE.r_}},{key:"s_",get:function(){return this.QE.s_}},{key:"B_",get:function(){return this.N_}},{key:"ow",get:function(){return this.QE.ow}},{key:"p_",get:function(){return this.QE.p_}},{key:"o_",get:function(){return this.QE.o_},set:function(t){this.QE.o_=t}},{key:"lw",get:function(){return this.QE.lw}},{key:"h_",get:function(){return this.QE.h_}},{key:"a_",get:function(){return this.QE.a_},set:function(t){this.QE.a_=t}},{key:"_w",get:function(){return this.QE._w}},{key:"ww",get:function(){return this.xS},set:function(t){this.xS=t,this.QE&&(this.QE.ww=this.xS)}},{key:"kl",get:function(){return this.QE.kl}},{key:"gw",get:function(){return this.QE.gw}},{key:"c_",get:function(){return this.QE.c_}},{key:"P_",get:function(){return this.R_}},{key:"f_",get:function(){return this.QE.f_}},{key:"O_",get:function(){return this.I_}},{key:"v_",get:function(){return this.QE.v_}},{key:"d_",get:function(){return this.QE.d_},set:function(t){this.QE.d_=t}},{key:"SE",get:function(){return this.QE.SE}}]),n}(Js);function RT(t,n){t.o_!==n.o_&&(t.o_=n.o_),t.d_!==n.d_&&(t.d_=n.d_),t.a_!==n.a_&&(t.a_=n.a_)}var NT,DT=function(t){function n(n,i){var e;return(e=t.call(this)||this).Yd=void 0,e.nI=void 0,e.iI=void 0,e.Yd=n.length>>1,e.nI=n,e.iI=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.Yd),e}S(n,t);var i=n.prototype;return i.eI=function(t){return this.nI[2*t]},i.rI=function(t){return this.iI[2*t]},i.sI=function(t){return this.nI[2*t+1]},i.uI=function(t){return this.iI[2*t+1]},b(n,[{key:"oI",get:function(){return this.nI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.eg=function(t,n){return 0===this.gg(t,n)},n.qg=function(t,n){return this.gg(t,n)>0},n.Gg=function(t,n){return this.gg(t,n)>=0},n.Ag=function(t,n){return this.gg(t,n)<0},n.pg=function(t,n){return this.gg(t,n)<=0},n._y=function(t,n){return this.Ag(t,n)?t:n},n.ly=function(t,n){return this.qg(t,n)?t:n},n.hI=function(t,n,i){return i?this.pg(t,n):this.Ag(t,n)},n.kE=function(){var t=this;return{get length(){return t.Yd},start:function(n){var i=0|n;return t.aI(i),t.cI(t.eI(i))},end:function(n){var i=0|n;return t.aI(i),t.cI(t.sI(i))}}},n.fI=function(){for(var t=new Array(2*this.Yd),n=new Array(2*this.Yd),i=0;i<this.Yd;i++)t[2*i]=this.eI(i),t[2*i+1]=this.sI(i),n[2*i]=!0,n[2*i+1]=!0;return this.vI(t,n)},n.aI=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Yd)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Yd+")")},n.dI=function(t){if(0===this.Yd)return this.lI();if(this.pE(t))return t;if(this.pg(t,this.eI(0)))return this.eI(0);if(this.Gg(t,this.sI(this.Yd-1)))return this.sI(this.Yd-1);for(var n,i=this._I(),e=0;e<this.Yd;e++){var r=this.eI(e),s=this.kg(r,t);this.Ag(s,i)&&(n=r,i=s);var u=this.sI(e),o=this.kg(this.sI(e),t);this.Ag(o,i)&&(n=u,i=o)}return n},n.wI=function(t){for(var n=0,i=0,e=[],r=[];n<this.Yd&&i<t.Yd;){var s=this.eI(n),u=this.sI(n),o=this.rI(n),h=this.uI(n),a=t.eI(i),c=t.sI(i),f=t.rI(i),v=t.uI(i),d=this.ly(s,a),l=this._y(u,c),_=void 0;_=this.eg(s,a)?o&&f:this.eg(d,s)?o:f;var w=void 0;w=this.eg(u,c)?h&&v:this.eg(l,u)?h:v,(this.Ag(d,l)||_&&w&&this.eg(d,l))&&(e.push(d,l),r.push(_,w));var g=this.gg(this.sI(n),t.sI(i));0===g?(n+=1,i+=1):g<0?n+=1:i+=1}return this.vI(e,r)},n.gI=function(){var t=this.yI(),n=t.Yd;if(0===n)return this.vI([t.mI(),t._I()],[!1,!1]);var i=[],e=[],r=t.eI(0);t.eg(r,t.mI())||(i.push(t.mI(),r),e.push(!1,!t.rI(0)));for(var s=0;s<n-1;s++)i.push(t.sI(s),t.eI(s+1)),e.push(!t.uI(s),!t.rI(s+1));var u=t.sI(n-1);return t.eg(u,t._I())||(i.push(u,t._I()),e.push(!t.uI(n-1),!1)),t.vI(i,e)},n.pI=function(t){for(var n=0,i=0,e=this.Yd,r=t.Yd,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var h=this.eI(n),a=this.sI(n),c=t.eI(i),f=t.sI(i);this.Ag(h,c)||this.eg(h,c)&&this.Ag(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.rI(n),u[o+1]=this.uI(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.rI(i),u[o+1]=t.uI(i),i++),o+=2}for(;n<e;)s[o]=this.eI(n),s[o+1]=this.sI(n),u[o]=this.rI(n),u[o+1]=this.uI(n),n++,o+=2;for(;i<r;)s[o]=t.eI(i),s[o+1]=t.sI(i),u[o]=t.rI(i),u[o+1]=t.uI(i),i++,o+=2;return this.vI(s,u)},n.kI=function(t){void 0===t&&(t=this.lI());var n=this.Yd;if(n<2)return this;for(var i=[],e=[],r=this.eI(0),s=this.sI(0),u=this.rI(0),o=this.uI(0),h=1;h<n;h++){var a=this.eI(h),c=this.sI(h),f=this.rI(h),v=this.uI(h);this.Ag(r,a)&&this.qg(s,c)||(this.eg(r,a)&&(u=f=u||f),this.eg(s,c)&&(o=v=o||v),this.hI(a,this.pw(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=a,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.vI(i,e).yI()},n.yI=function(){for(var t=[],n=[],i=0;i<this.Yd;i++){var e=this.eI(i),r=this.sI(i),s=this.rI(i),u=this.uI(i);this.eg(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.vI(t,n)},n.AI=function(t){return this.Yd?t.Yd?this.pI(t).kI():this:t},n.bI=function(t){var n=this.yI(),i=t.yI(),e=n.gI(),r=i.gI(),s=e.wI(i),u=r.wI(n);return s.AI(u)},n.gs=function(t){if(this.eg(t,this.lI()))return this;for(var n=[],i=[],e=0;e<this.Yd;e++){var r=this.pw(this.eI(e),t),s=this.pw(this.sI(e),t);n.push(r,s),i.push(this.rI(e),this.uI(e))}return this.vI(n,i)},n.TI=function(t){return 0===this.Yd||0===t.Yd?this:this.yI().wI(t.yI().gI())},n.pE=function(t,n){return this.SI(t,n)>=0},n.EI=function(t,n,i,e,r){return this.II(t,n,i,e,r)>=0},n.RI=function(t,n,i,e,r){return this.NI(t,n,i,e,r)>=0},n.DI=function(t){if(t.Yd!==this.Yd)return!1;for(var n=0;n<this.Yd;n++)if(!this.eg(this.eI(n),t.eI(n))||!this.eg(this.sI(n),t.sI(n))||this.rI(n)!==t.rI(n)||this.uI(n)!==t.uI(n))return!1;return!0},n.CI=function(t){for(var n=[],i=[],e=0;e<this.Yd;e++){var r=this.eI(e),s=this.sI(e),u=this.rI(e),o=this.uI(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.vI(n,i)},n.NI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.lI());for(var s=this.Eg(t,r),u=this.pw(n,r),o=0;o<this.Yd;o+=1)if(this.hI(this.eI(o),u,!e||this.rI(o))&&this.hI(s,this.sI(o),!i||this.uI(o)))return o;return-1},n.II=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.lI());for(var s=this.pw(t,r),u=this.Eg(n,r),o=0;o<this.Yd;o+=1)if(this.hI(this.eI(o),s,!i||this.rI(o))&&this.hI(u,this.sI(o),!e||this.uI(o)))return o;return-1},n.SI=function(t,n){return this.II(t,t,!0,!0,n)},n.xI=function(t,n){void 0===n&&(n=this.lI());for(var i=this.pw(t,n),e=this.Yd-1;e>=0;e-=1)if(this.hI(this.eI(e),i,this.rI(e)))return e;return-1},n.OI=function(t,n){void 0===n&&(n=this.lI());for(var i=this.Eg(t,n),e=0;e<this.Yd;e+=1)if(this.hI(i,this.sI(e),this.uI(e)))return e;return-1},n.BI=function(t){return this.aI(t),this.vI([this.eI(t),this.sI(t)],[this.rI(t),this.uI(t)])},n.LI=function(t,n){var i=this.SI(t,n);return i<0?void 0:this.BI(i)},b(t,[{key:"MI",get:function(){for(var t=this.lI(),n=0;n<this.Yd;n++){var i=this.Eg(this.sI(n),this.eI(n));t=this.pw(t,i)}return t}}]),t}()),CT=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.gg=function(t,n){return t<n?ds.yr:t===n?ds.wr:ds.gr},i.pw=function(t,n){return t+n},i.Eg=function(t,n){return t-n},i.kg=function(t,n){return _.abs(t-n)},i.lI=function(){return 0},i._I=function(){return 1/0},i.mI=function(){return-1/0},n.UI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.FI=function(t){for(var i=[],e=[],r=0;r<t.Yd;r++)i.push(t.eI(r).yy),i.push(t.sI(r).yy),e.push(t.rI(r)),e.push(t.uI(r));return new n(i,e)},n.HI=function(t){return new n([t,t],[!0,!0])},i.vI=function(t,i){return new n(t,i)},i.cI=function(t){return t},n.VI=function(){return xT},n}(DT),xT=new CT([]);!function(t){t.Dd="fullscreenchange",t.zI="fullscreensupportchange",t.wl="fullscreenerror"}(NT||(NT={}));var OT=function(t){function n(){return t.call(this,NT.wl)||this}return S(n,t),n}(Ks),PT=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Pw=function(){this.Fr(new OT)},i.Lw=function(){},i.Jf=function(){this.Wr()},b(n,[{key:"WI",get:function(){return!1}},{key:"XI",get:function(){return!1}}]),n}(Js)),BT=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).IS=void 0,n.RS=void 0,n}S(n,t);var i=n.prototype;return i.j_=function(){var t;return null==(t=this.RS)?void 0:t.nE},i.Jf=function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(t.prototype.Jf.call(this));case 2:if(!this.RS){n.next=6;break}return n.next=5,Sr.awrap(this.IS.yE(this.RS));case 5:this.RS=void 0;case 6:case"end":return n.stop()}},null,this,null,Ve)},b(n,[{key:"qI",set:function(t){this.IS=t,this.RS=t.tE(_y.zf)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).GI=0,n.QI=!1,n.YI=!0,n.jI=1,n.ZI=!1,n.Bu=1,n.x_=new wy,n.rw=CT.VI().kE(),n.r_=NaN,n.s_=!1,n.ts=void 0,n.u_=void 0,n.B_=void 0,n.ow=!1,n.lw=!0,n._w=CT.VI().kE(),n.ww=bT.XE,n.kl=ag.Gl,n.gw=CT.VI().kE(),n.TE=void 0,n.P_=new qp,n.f_=0,n.O_=new wy,n.v_=0,n.US=new fT,n}S(n,t);var i=n.prototype;return i.Q_=function(){},i.Y_=function(){},i.L_=function(){this.YI&&(this.YI=!1,this.Fr(new Ng(this.e_)),this.Fr(new Hk(this.e_)))},i.M_=function(){this.YI||(this.YI=!0,this.Fr(new Lg(this.e_,this.sw)),this.Fr(new Rg(this.e_)))},i.H_=function(t,n){return Ve.resolve()},i.V_=function(){return!1},i.z_=function(){},i.W_=function(){},i.Z_=function(){return PT},i.ew=function(){},i.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.GI=0,this.ZI=!1,this.M_(),this.Fr(new Ig(this.GI));case 4:case"end":return t.stop()}},null,this,null,Ve)},i.Jf=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Wr(),this.x_.Jf(),this.P_.Jf(),this.O_.Jf();case 4:case"end":return t.stop()}},null,this,null,Ve)},b(n,[{key:"sw",get:function(){},set:function(t){}},{key:"e_",get:function(){return this.GI},set:function(t){this.GI!==t&&(this.GI=t,this.ZI=!0,this.Fr(new Fg(this.e_)))}},{key:"p_",get:function(){return{hw:0,aw:0,cw:0,fw:0,vw:0,dw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"o_",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.Fr(new Vg(this.e_,this.d_)))}},{key:"h_",get:function(){return this.YI}},{key:"a_",get:function(){return this.jI},set:function(t){this.jI!==t&&(this.jI=t,this.Fr(new Bg(this.e_,this.a_)))}},{key:"c_",get:function(){return this.ZI}},{key:"d_",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.Fr(new Vg(this.e_,this.d_)))}},{key:"yw",get:function(){return!1},set:function(t){}},{key:"SE",get:function(){return this.US}}]),n}(Js)),LT=function(t){function n(n,i,e,r,s,u){var o,h=new BT;return(o=t.call(this,AT.Nn,h)||this).Ch=void 0,o.JI=void 0,o.$I=void 0,o.KI=void 0,o.JA=void 0,o.tR=void 0,o.nR=void 0,o.$I=n,o.Ch=i,o.JA=e,o.tR=r,o.KI=u,o.JI=new oe(s,o.KI),o.JI.iR(o.$I),h.qI=o.JI,o.nR=new TT(o.$I),o}S(n,t);var i=n.prototype;return i.X_=function(){t.prototype.X_.call(this),this.JI.eR()},i.q_=function(t){var n,i,e,r;n=this,e=(i=t).d_,r=i.o_,n.d_=e,n.o_=r},i.G_=function(){},i.KE=function(t){return t.uT(this.$I,this.JI,this.JA,this.Ch,this.tR,this.KI)},i.j_=function(){return this.QE.j_()},i.J_=function(){return this.JI.rR.map(function(t){return t.nE})},i.zr=function(n){t.prototype.zr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.Jf=function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(t.prototype.Jf.call(this));case 2:this.JI.Jf(),this.nR.Jf();case 4:case"end":return n.stop()}},null,this,null,Ve)},b(n,[{key:"uw",get:function(){return this.$I}},{key:"yw",get:function(){return this.QE.yw},set:function(t){this.QE.yw=t}}]),n}(IT),MT=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).$I=void 0,r.sR=void 0,r.uR=void 0,r.oR=void 0,r.hR=void 0,r.$I=n,r.sR=i,r.oR=new wy,r.hR=new qp,r.uR=e,r}S(n,t);var i=n.prototype;return i.K_=function(t){return!0},i.Y_=function(){},i.L_=function(){throw this.Fr(new qg(this.uR)),this.sR},i.M_=function(){},i.F_=function(){},i.H_=function(t,n){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw Ms(n),this.Fr(new qg(this.uR)),this.sR;case 3:case"end":return t.stop()}},null,this,null,Ve)},i.Q_=function(){},i.U_=function(){return Ve.resolve()},i.j_=function(){},i.Z_=function(){return PT},i.J_=function(){return[]},i.X_=function(){},i.q_=function(t){},i.G_=function(){},i.V_=function(){return!1},i.z_=function(){},i.W_=function(){},i.ew=function(){},i.Gd=function(){return Ve.resolve()},i.Jf=function(){return this.Wr(),this.oR.Jf(),this.hR.Jf(),Ve.resolve()},b(n,[{key:"x_",get:function(){return this.oR}},{key:"rw",get:function(){return CT.VI().kE()}},{key:"sw",get:function(){return new Date(NaN)},set:function(t){}},{key:"iw",get:function(){}},{key:"e_",get:function(){return 0},set:function(t){}},{key:"r_",get:function(){return 0}},{key:"uw",get:function(){return this.$I}},{key:"s_",get:function(){return!0}},{key:"ts",get:function(){return this.sR}},{key:"u_",get:function(){return this.uR}},{key:"B_",get:function(){}},{key:"p_",get:function(){return{hw:0,aw:0,cw:0,fw:0,vw:0,dw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"o_",get:function(){return!1},set:function(t){}},{key:"lw",get:function(){return!0}},{key:"h_",get:function(){return!0}},{key:"a_",get:function(){return 0},set:function(t){}},{key:"_w",get:function(){return CT.VI().kE()}},{key:"ww",get:function(){return bT.XE},set:function(t){}},{key:"kl",get:function(){return ag.Gl}},{key:"gw",get:function(){return CT.VI().kE()}},{key:"c_",get:function(){return!1}},{key:"P_",get:function(){return this.hR}},{key:"f_",get:function(){return 0}},{key:"O_",get:function(){return this.oR}},{key:"v_",get:function(){return 0}},{key:"d_",get:function(){return 1},set:function(t){}},{key:"yw",get:function(){return!1},set:function(t){}},{key:"ow",get:function(){return!1}}]),n}(tg);function UT(t){if(t&&z(t))return Er({},t,{integration:FT(t.integration),fairplay:GT(t.fairplay),widevine:HT(t.widevine),playready:VT(t.playready),clearkey:QT(t.clearkey),aes128:YT(t.aes128),integrationParameters:jT(t.integrationParameters),preferredKeySystems:ZT(t.preferredKeySystems)})}function FT(t){if(X(t))return t}function HT(t){if(t&&z(t))return{persistentState:zT(t.persistentState),distinctiveIdentifier:zT(t.distinctiveIdentifier),audioRobustness:WT(t.audioRobustness),videoRobustness:WT(t.videoRobustness),licenseAcquisitionURL:X(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:XT(t.licenseType),headers:t.headers,useCredentials:!!q(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:X(t.certificate)||wo(t.certificate)?t.certificate:void 0,certificateRequestProcessor:qT(t.certificateRequestProcessor),certificateResponseProcessor:qT(t.certificateResponseProcessor),licenseRequestProcessor:qT(t.licenseRequestProcessor),licenseResponseProcessor:qT(t.licenseResponseProcessor)}}function VT(t){if(t){var n=HT(t);if(n)return Er({},n,{customData:X(t.customData)?t.customData:void 0})}}function zT(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function WT(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function XT(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function qT(t){if("function"==typeof t)return t}function GT(t){if(t){var n=HT(t);if(n)return Er({},n,{certificateURL:X(t.certificateURL)?t.certificateURL:void 0})}}function QT(t){if(t){var n=HT(t);if(n)return Er({},n,{keys:H(t.keys)?t.keys.map(function(t){return function(t){if(!t||!z(t))return;var n=t.id,i=t.value;if(!X(n)||!X(i))return;return{id:n,value:i}}(t)}).filter(F):void 0})}}function YT(t){if(z(t))return{useCredentials:q(t.useCredentials)?t.useCredentials:void 0}}function jT(t){if(z(t))return t}function ZT(t){return t&&H(t)?t.map(function(t){return LA(t)}).filter(F):[Wr,Vr,qr]}var JT,$T=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(Ks),KT=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).aR=[],e.cR=void 0,e.fR=function(t){Xs(function(){e.Ur(t)})},e.cR=i?e.fR:e.Ur,e}S(n,t);var i=n.prototype;return i.vR=function(t){t.zr(this.cR),this.aR.push(t)},i.dR=function(t){t.Qr(this.cR),Ss(this.aR,t)},i.Jf=function(){this.Wr();for(var t=0,n=this.aR;t<n.length;t++){n[t].Qr(this.cR)}Rs(this.aR)},n}(Kw),tS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(KT);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(JT||(JT={}));var nS,iS=function(t){function i(n){var i;return(i=t.call(this)||this).lR=void 0,i._R=void 0,i.wR=!1,i.gR=!1,i.yR=void 0,i.mR=void 0,i.pR=void 0,i.wd=void 0,i.kR=function(){return i.AR()},i.bR=function(){return i.SR()},i.pR=n,i.lR=i._R=i.yR=i.mR=JT.INLINE,i.pR.Hr(NT.Dd,i.kR),i.pR.Hr(NT.wl,i.bR),i.ER(),i}S(i,t);var e=i.prototype;return e.yd=function(){return t=this,i={get currentMode(){return t.IR()},requestMode:function(n){var i=rS(n);i&&t.RR(i)},supportsMode:function(n){var i=rS(n);return!!i&&t.NR(i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},(n=new KT(i,!0)).vR(t),i;var t,n,i},e.RR=function(t){this.DR(t,t)},e.DR=function(t,n){this._R!==n&&(this.wR=!0,this.lR=t,this.xR(n,this._R),t!==JT.FULLSCREEN&&(this.yR=t),this.wR=!1,this.ER())},e.IR=function(){return this.gR?JT.FULLSCREEN:JT.INLINE},e.NR=function(t){switch(t){case JT.FULLSCREEN:return this.pR.XI;case JT.INLINE:return!0}return!1},e.ER=function(){if(!this.wR){var t=this._R,n=this.IR();this._R=n,n!==JT.FULLSCREEN&&(this.mR=n),t!==n&&this.Fr(new $T(n))}},e.xR=function(t,n){var i=t===JT.FULLSCREEN;this.gR=i,i!==this.pR.WI&&(i?this.pR.Pw():this.pR.Lw())},e.AR=function(){if(!this.wR){var t=this.pR.WI;this.gR=t,t?this.DR(JT.FULLSCREEN,JT.FULLSCREEN):t||this.lR!==JT.FULLSCREEN?this.ER():this.DR(this.yR,this.mR)}},e.SR=function(){this.AR(),this.Fr(new qg(new mc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.Jf=function(){this.pR.Jf(),this.Wr()},b(i,[{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}}]),i}(Kw),eS={e_:0,r_:NaN,s_:!1,ts:void 0,u_:void 0,o_:!1,h_:!0,a_:1,kl:ag.Gl,c_:!1,f_:0,v_:0,d_:1};function rS(t){switch(t){case JT.INLINE:case JT.FULLSCREEN:case JT.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(nS||(nS={}));var sS,uS,oS,hS,aS,cS,fS,vS,dS=function(){function t(){this.OR=[]}var n=t.prototype;return n.PR=function(t){var n=this.LR.filter(function(n){return n.MR(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.UR=function(t){this.OR.push(t)},b(t,[{key:"LR",get:function(){return this.OR}}]),t}();dS.Nn=new dS,function(t){t.i_="PLAYING",t.A_="PAUSED",t.FR="SEEK",t.HR="STALLED",t.zR="FAILED",t.WR="INITIAL_BUFFERING",t.XR="NO_ACCESS"}(sS||(sS={})),function(t){t.qR="HTTP_REQUEST_STATUS_CODE_1XX",t.GR="HTTP_REQUEST_STATUS_CODE_2XX",t.QR="HTTP_REQUEST_STATUS_CODE_3XX",t.YR="HTTP_REQUEST_STATUS_CODE_4XX",t.jR="HTTP_REQUEST_STATUS_CODE_5XX",t.ZR="BUFFER_LENGTH",t.JR="BYTES_RECEIVED",t.$R="SEGMENT_READ_BITRATE",t.KR="SEGMENT_PROFILE_BITRATE",t.tN="NUMBER_OF_FRAMES_DROPPED",t.nN="PLAYBACK_POSITION",t.iN="NUMBER_OF_FRAMES_DECODED",t.eN="PLAYBACK_DELTA_TO_ORIGIN",t.rN="STREAM_DELTA_TO_ORIGIN",t.sN="ORIGIN_TIMESTAMP"}(uS||(uS={})),function(t){t.uN="MANIFEST_URI",t.oN="ASSET_DURATION",t.hN="NUMBER_OF_CONTENT_PROFILES",t.aN="CDN",t.cN="CONTENT_TITLE",t.fN="SERVICE_NAME",t.vN="CONTENT_TYPE",t.dN="CONTENT_DESCRIPTION"}(oS||(oS={})),function(t){t.lN="shutdown_normal_shutdown"}(hS||(hS={})),function(t){t._N="session/",t.wN="internalError/",t.gN="drmError/",t.yN="caError/",t.mN="networkError/"}(aS||(aS={})),function(t){t.pN="userAction",t.kN="endOfStreamReached"}(cS||(cS={})),function(t){t.PAUSE="AN",t.RESUME="bN"}(fS||(fS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(vS||(vS={}));var lS,_S,wS,gS,yS,mS="agama";function pS(t){return function(t){switch(t){case lS.NONE:case lS.HORIZONTAL:case lS.VERTICAL:return!0;default:return!1}}(t)?t:lS.NONE}function kS(t){switch(t){case"":return lS.NONE;case"horizontal":return lS.HORIZONTAL;case"vertical":return lS.VERTICAL;default:throw new d}}function AS(t){if(!t||!X(t))return _S.WE;switch(t){case"always":return _S.TN;case"never":return _S.SN;default:return _S.WE}}function bS(t){if(!t||!X(t))return wS.WE;switch(t){case"playlist":return wS.EN;case"media":return wS.IN;default:return wS.WE}}function TS(t,n){return t.length>0?t:n.length>0?n:void 0}function SS(t){if(null!==t)return t}function ES(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:SS(t.streamActivityMonitorID),adTagParameters:z(t.adTagParameters)?t.adTagParameters:{},authToken:SS(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Er({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.ye("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.ye("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Er({},e,{availabilityType:"live",assetKey:u}):void i.ye("A Live DAI configuration was provided without valid assetKey which is required.")}i.ye("A DAI configuration was provided without a valid availabilityType which is required.")}function IS(t){if(!RA(t)||!t.integration)return t;switch(t.integration){case jk:return n=t,i=BA(Lr.Je,n),e=BA(Lr.Ze,n),r=n[Lr.$e]&&BA(Lr.$e,n),Er({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}function RS(t){if(!t)return!0;var n,i,e=!(mg(n=t.sources)||V(n)&&mg(n[0]))||pg(t.sources),r=!t.ads||(!(i=t.ads)||H(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function NS(t){if(t&&t.sources)return function t(n){if(X(n))return n;if(yg(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function DS(t,n,i){return wg(t)?function(t,n,i){var e=Er({},kg(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:gS.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:yS.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,X(r)?r:V(r)&&X(r[0])?r:z(s=r)&&X(s.userId)&&(V(s.externalId)||X(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return yS.CHANNEL;case"event":return yS.EVENT;case"asset":default:return yS.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Cw(t.contentProtected));t.assetInfo?e.assetInfo=Cw(t.assetInfo):e.assetInfo="asset"===e.assetType;return e.ping=(u=e.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!q(o.adImpressions)&&o.adImpressions,a=!!q(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=q(o.linearAdData)?o.linearAdData:u!==yS.ASSET):u!==yS.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),e=xS(e=OS(e=CS(e,t),n,i),t,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var e=Ag(),r=n&&(n.contentProtection||n.drm);if(X(t)){if(e.src=t,e.type=vg(t),r){var s=UT(r);e.contentProtection=IS(s)}}else if(yg(t)||_g(t)){e.src=t.src,e.type=t.type||vg(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===ug.Xl||t.type===ug.ql}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=t.contentProtection||t.drm||r,h=UT(o);e.contentProtection=IS(h),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return ES(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=CS(e,t)}return e=xS(e=OS(e,n,i),t,i)}(t,n,i)}function CS(t,n){var i;n.useCredentials?t.crossOrigin=sg.Wl:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case sg.zl:case sg.Wl:return t;default:return sg.Vl}}(n.crossOrigin)),X(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Cw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Cw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:AS(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:bS(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?Cw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Cw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function xS(t,n,i){return t.abr=function(t,n){var i=Bw(null==t?void 0:t.preferredAudioCodecs,Pw),e=Bw(null==t?void 0:t.preferredVideoCodecs,Pw),r=Bw(null==n?void 0:n.preferredAudioCodecs,Pw),s=Bw(null==n?void 0:n.preferredVideoCodecs,Pw),u=TS(i,r),o=TS(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(X(n)?void 0:n.abr,null==i?void 0:i.abr),t}function OS(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!F(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!F(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===sg.Vl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=sg.zl),t.useCredentials=t.crossOrigin===sg.Wl,X(r)&&!t.timeServer&&(t.timeServer=r),t}function PS(t){var n={src:""};if(t&&t.src){if(n.src=Pw(t.src),"default"in t&&(n.default=Cw(t.default)),n.kind=Yp(t.kind),function(t){switch(t){case Dy.DEFAULT:case Dy.SRT:case Dy.TTML:case Dy.WEBVTT:case Dy.EMSG:case Dy.EVENT_STREAM:case Dy.ID3:case Dy.CEA608:case Dy.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function BS(t,n){if(W(t))try{return n.PR(t).RN(t)}catch(t){return}}function LS(t){return X(t.sources)&&""!==t.sources||z(t.sources)&&X(t.sources.src)}function MS(t){return t.integration===nS.SPOTX&&!y(t.id)}function US(t){return"freewheel"===t.integration}function FS(t,n,i){if(void 0===i&&(i=dS.Nn),RS(t))return{sources:[Ag()]};var e=Iw(t);if(e.sources=function(t,n,i){if(mg(t))return[DS(t,n,i)];if(V(t)&&mg(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(DS(s,n,i))}return e}return[Ag()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=BS(s,n))&&(LS(s)||MS(s)||US(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,h=!pg(e.sources),a=e.ads&&e.ads.length>0;if(h&&!a?delete e.ads:a&&!h&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=PS(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Pw(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=pS(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?kS(u.stereoMode):lS.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Tg(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Iw(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==mS&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Gg(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(lS||(lS={})),function(t){t.WE="auto",t.TN="always",t.SN="never"}(_S||(_S={})),function(t){t.WE="auto",t.EN="playlist",t.IN="media"}(wS||(wS={})),function(t){t.VERIZON_MEDIA="verizon-media"}(gS||(gS={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(yS||(yS={}));var HS=function(){function t(t){this.NN=t}return t.prototype.DN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.NN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.NN.indexOf(t.charAt(n))<<18|this.NN.indexOf(t.charAt(n+1))<<12|(s=this.NN.indexOf(t.charAt(n+2)))<<6|(u=this.NN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.CN=function(t,n){var i,e,r,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.NN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.NN.charAt(e)+this.NN.charAt(r)+this.NN.charAt(s)+this.NN.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Qy=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.xN=new t(t.Qy.DN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function VS(t){return"string"==typeof t}function zS(t){return"number"==typeof t}var WS={}.toString;var XS,qS=Array.isArray||function(t){return"[object Array]"===WS.call(t)};function GS(t,n){return qS(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(XS||(XS={}));var QS,YS=l.keys(XS).map(function(t){return XS[t]});function jS(t){return-1!==YS.indexOf(t)}function ZS(t){try{var n=HS.xN.DN(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=VS(t.key),e=VS(t.customer_id),r=zS(t.generation_date),s=zS(t.expiration_date),u=GS(t.domains_page,VS),o=GS(t.domains_source,VS),h=GS(t.sdks,jS),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function JS(){return QS||(QS={If:fe.href,ON:ce.parent&&ce.parent!==r,PN:tE()}),QS}var $S,KS=["http:","https:","ftp:","ws:","wss:"];function tE(){try{return ce.top.location.href}catch(t){return ce&&ce.document&&ce.document.referrer}}!function(t){t[t.BN=0]="BN",t[t.LN=1]="LN",t[t.MN=2]="MN"}($S||($S={}));var nE,iE=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.UN=t,this.FN=n,this.HN=i,this.VN=e,this.zN=r,this.WN=s,this.XN=u,this.qN=o};!function(t){t.LN="expired",t.GN="invaliddomain",t.QN="invalidsource",t.wl="error"}(nE||(nE={}));var eE=function(){function t(t,n,i){this.YN=void 0,this.jN=t,this.ZN=n,this.wu=i,this.YN=aE(this.wu)}var n=t.prototype;return n.JN=function(t,n){var i=this;if(!RS(t)&&0!==n.HN.length&&!uE(n.HN)){var e=[];if(mg(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.$N(t,n)})){var r=nE.QN,s=fE.KN(r);throw new mc(rE(r),s)}}},n.tD=function(n){return this.nD(n.XN)&&this.iD(n)?t.eD(n.VN)?$S.BN:$S.LN:$S.MN},n.nD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.rD(t)})},n.rD=function(t){return"ios"===function(t){switch(t){case XS.ANDROID:return e.g;case XS.ANDROIDTV:case XS.FIRETV:return e.I;case XS.IOS:return e.R;case XS.TVOS:return e.N;case XS.CHROMECAST:case XS.CHROMECASTCAF:return e.B;default:return e.l}}(t)},t.eD=function(t){var n=Number(new Date);return!!t&&n<=t},n.iD=function(t){return!(this.YN&&0!==t.FN.length&&!uE(t.FN))||!!(this.YN&&this.sD(t.FN)&&this.uD(t.FN))},n.sD=function(t){return oE(this.wu.If,t)},n.uD=function(t){if(!this.wu.ON)return!0;if(this.jN)return!0;var n=this.oD();return!!n&&oE(n,t)},n.oD=function(){if(this.wu.ON){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.wu.PN?this.wu.PN:void 0}},n.$N=function(n,i){return!!t.hD(n,i.HN)},t.hD=function(t,n){return oE(this.aD(t),n)},t.aD=function(t){return X(t)?t:yg(t)&&t.src||""},t}();function rE(t){switch(t){case nE.GN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case nE.QN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case nE.LN:return n.ErrorCode.LICENSE_EXPIRED;case nE.wl:return n.ErrorCode.LICENSE_ERROR}}function sE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),h=e.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+r+a(h[2])+r+a(h[3])+r+a(h[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function uE(t){return t.some(function(t){return"*"===t})}function oE(t,n){var e=i.Ce(t);if(!hE(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(sE(e.hostname,s))return!0;if(sE(Nl(t),s))return!0}return!1}function hE(t){return-1!==KS.indexOf(t.protocol)}function aE(t){var n=i.Ce(t.If);return hE(n)&&!sE(n.hostname,"localhost")&&!function(t){return sE(t.hostname,"theoplayer.doubleclick.net")}(n)}var cE,fE=function(){function t(){}return t.KN=function(t){return t===nE.GN?this.cD:t===nE.QN?this.fD:t===nE.LN?this.vD:this.dD},t}();function vE(t){var n=[t.$k,t.lD,t._D];switch(t.lD){case cE.wD:n.push(t.Tl);break;case cE.gD:n.push(t.e_),n.push(t.ts);break;case cE.yD:n.push(t.ts)}return n}fE.dD="The license for this player is invalid.",fE.vD="The usage license for this video player has expired.",fE.cD="The current domain is incompatible with the license for this player.",fE.fD="The provided video source is incompatible with the license for this player.",function(t){t[t.wD=1]="wD",t[t.gD=4]="gD",t[t.yD=5]="yD"}(cE||(cE={}));for(var dE=new Array(256),lE=0;lE<256;lE+=1)dE[lE]=(lE<16?"0":"")+lE.toString(16);function _E(){var t=Vt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,e=(4294967296*_.random()|0)+t&1130486254,r=(4294967296*_.random()|0)+t&1284287105;return dE[255&n]+dE[n>>>8&255]+dE[n>>>16&255]+dE[n>>>24&255]+"-"+dE[255&i]+dE[i>>>8&255]+"-"+dE[i>>>16&15|64]+dE[i>>>24&255]+"-"+dE[63&e|128]+dE[e>>>8&255]+"-"+dE[e>>>16&255]+dE[e>>>24&255]+dE[255&r]+dE[r>>>8&255]+dE[r>>>16&255]+dE[r>>>24&255]}var wE=function(){function t(t){this.NN=void 0,this.NN=t}var n=t.prototype;return n.DN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.NN.indexOf(t.charAt(n))<<18|this.NN.indexOf(t.charAt(n+1))<<12|(s=this.NN.indexOf(t.charAt(n+2)))<<6|(u=this.NN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.CN=function(t){var n,i,e,r,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.NN.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[u/3]=this.NN.charAt(i)+this.NN.charAt(e)+this.NN.charAt(r)+this.NN.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function gE(){return i.ce()}wE.Qy=new wE(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),wE.xN=new wE(wE.Qy.DN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var yE,mE="theoplayer-session-id";function pE(){if(!yE){var t=Bc.cs(mE);t?yE=t:(yE=_E(),Bc.ia(mE,yE))}return yE}var kE=/[^\x00-\x7E]/g;function AE(t){return"\\u"+ss(t.charCodeAt(0).toString(16),4,"0")}var bE=0,TE=1,SE=6e4;function EE(t){var n,i,e,r,s,u=(n=function(t){return[t.mD,t.nh,t.UN,t.dp,t.pD,t.kD,t.bD.map(vE)]}(t),i=[],e=n,r=function(t,n){if(z(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(kE,AE));return wE.xN.CN(u)}var IE=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=wE.Qy),void 0===r&&(r=bE),void 0===s&&(s=TE),this.TD=[],this.SD=null,this.ED=0,this.RD="unknown",this.Qu=0,this.ND=function(){gE()-u.ED>SE&&u.Wi()},this.DD=function(){u.Wi(!0)},this.mo=t,this.JA=n,this.CD=i,this.xD=e,this.OD=r,this.PD=s,ae.BD(this.DD),c(this.ND,SE)}var n=t.prototype;return n.LD=function(){return Boolean(this.pD)},n.MD=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.CD.UD());case 2:if(i.sent.qN){i.next=5;break}return i.abrupt("return");case 5:return n={lD:cE.wD,_D:Vt(),Tl:t},i.next=8,Sr.awrap(this.FD(n));case 8:case"end":return i.stop()}},null,this,null,Ve)},n.HD=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={lD:cE.gD,_D:Vt(),e_:n,ts:t},e.next=3,Sr.awrap(this.FD(i));case 3:case"end":return e.stop()}},null,this,null,Ve)},n.VD=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={lD:cE.yD,_D:Vt(),ts:t},i.next=3,Sr.awrap(this.FD(n));case 3:case"end":return i.stop()}},null,this,null,Ve)},n.FD=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.CD.UD());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.xD.CN(n.UN)){i.next=6;break}if(t.lD===cE.yD){i.next=6;break}return i.abrupt("return");case 6:if(t.lD===cE.wD?this.zD():this.LD()||this.zD(),t.$k=this.Qu++,this.TD.push(t),(e=t.lD)!==cE.wD&&e!==cE.yD){i.next=14;break}return i.next=12,Sr.awrap(this.Wi());case 12:i.next=19;break;case 14:if(!(this.TD.length>this.OD)){i.next=19;break}return i.next=17,Sr.awrap(this.WD());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,Ve)},n.Wi=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.TD.length>0)){n.next=6;break}return n.next=4,Sr.awrap(this.WD(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,Ve)},n.XD=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.CD.UD());case 2:return n=i.sent,i.abrupt("return",{mD:Vt(),nh:pE(),UN:this.xD.CN(n.UN)||"dev",dp:this.mo,pD:this.SD,kD:this.RD,bD:t});case 4:case"end":return i.stop()}},null,this,null,Ve)},n.WD=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.TD.splice(0,this.PD),e.next=4,Sr.awrap(this.XD(n));case 4:i=e.sent,t?this.Zf(i):this.qD(i),this.ED=gE();case 7:case"end":return e.stop()}},null,this,null,Ve)},n.qD=function(t){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=EE(t),i=new kl({If:"https://license.theoplayer.com",af:n,Yf:!1,Af:Hc.Bn,kf:{"Content-Type":_b.CT},qf:4e3,Xf:wl.POST}),r.prev=2,r.next=5,Sr.awrap(this.JA.Sf(i));case 5:return e=r.sent,r.next=8,Sr.awrap(e.sf());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],Ve)},n.Zf=function(t){var n=EE(t);this.JA.Zf({If:"https://license.theoplayer.com",af:n,hf:_b.CT})},n.zD=function(){this.LD()&&this.Wi(),this.SD=_E(),this.Qu=0},n.Jf=function(){ae.GD(this.DD),this.Wi()},b(t,[{key:"bD",get:function(){return this.TD}},{key:"pD",get:function(){return this.SD}}]),t}();var RE=L.cn||L.jt&&L.wn<13;function NE(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var DE=function(){function t(t){this.HE=void 0,this.wd=void 0,this.QD=void 0,this.HE=t}var n=t.prototype;return n.YD=function(t){if(!t||!t.drawImage)return!1;var n=this.HE.j_();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.jD=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.HE,h=o.j_();if(!h)return!1;if(RE){this.QD||(this.QD=s.createElement("canvas"));var a=this.QD,c=a.getContext("2d"),f=o.v_,d=o.f_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var w=!1;f>0&&NE(c,f-1,0)&&(a.width=l,w=!0),d>0&&NE(c,0,d-1)&&(a.height=_,w=!0),w&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,e,r,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},b(t,[{key:"gd",get:function(){return this.wd||(this.wd=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.YD.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.jD(n,i,e,r,s,u)}}));var t}}]),t}(),CE=function(t){function n(n,i){var e;return(e=t.call(this,"ZD")||this).dg=n,e.qp=i,e}return S(n,t),n.prototype.yd=function(){return new xE(this.dg,this.qp)},n}(fw),xE=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(Ks),OE=function(t,n){this.uw=void 0,this.JD=void 0,this.uw=t,this.JD=n},PE=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).$D=void 0,e.KD=0,e.tC=0,e.nC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.tC=n.width,e.KD=n.height,e.JD(e.tC,e.KD)}},e.$D=new ce.ResizeObserver(e.nC),e.$D.observe(e.uw),e}return S(n,t),n.prototype.Jf=function(){this.$D.disconnect()},b(n,[{key:"iC",get:function(){return this.KD}},{key:"eC",get:function(){return this.tC}}]),n}(OE),BE=0;function LE(t){var n=gE(),i=_.max(0,16-(n-BE)),e=h(function(){return t(n+i)},i);return BE=n+i,e}var ME,UE=a,FE=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,HE=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function VE(){return ME||(ME=ce&&ce.document&&ce.document.createElement("span")),ME}FE&&HE||(FE=LE,HE=UE),FE=FE.bind(t),HE=HE.bind(t);var zE=["Webkit","Moz","O","ms"],WE=(function(){var t=!1;try{if(void 0!==ce&&"function"==typeof ce.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});ce.addEventListener("testPassiveEventSupport",j,n),ce.removeEventListener("testPassiveEventSupport",j,n)}}catch(t){}}(),Rr());function XE(t){return WE.has(t)||WE.set(t,function(t){var n=VE();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<zE.length;e++){var r=zE[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),WE.get(t)}function qE(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function GE(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[XE("transition")]="0s"}var QE=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).rC=void 0,u.sC=0,u.tC=NaN,u.KD=NaN,u.uC=void 0,u.oC=void 0,u.hC=void 0,u.aC=void 0,u.cC=void 0,u.Gd=function(){u.oC.style.width=1e5+"px",u.oC.style.height=1e5+"px",u.uC.scrollLeft=1e5,u.uC.scrollTop=1e5,u.hC.scrollLeft=1e5,u.hC.scrollTop=1e5,0===u.hC.scrollTop&&FE(u.Gd)},u.fC=function(){var t=u.eC,n=u.iC;u.JD(t,n),u.tC=t,u.KD=n,u.Gd(),u.sC=0},u.vC=function(){if(!u.sC){var t=u.eC,n=u.iC;t===u.tC&&n===u.KD||(u.sC=FE(u.fC))}},u.dC=function(){u.cC||(u.cC=h(u.lC,66))},u.lC=function(){u.cC=void 0,u._C()},u._C=function(){u.vC()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.rC=c,u.uC=s.createElement("div"),u.oC=s.createElement("div"),u.hC=s.createElement("div"),u.aC=s.createElement("div"),qE(u.uC),qE(u.hC),GE(u.oC),GE(a=u.aC),a.style.width="200%",a.style.height="200%",c.appendChild(u.uC),c.appendChild(u.hC),u.uC.appendChild(u.oC),u.hC.appendChild(u.aC),n.appendChild(c),u.uC.addEventListener("scroll",u.vC),u.hC.addEventListener("scroll",u.vC),r&&r.addEventListener("resize",u.dC),u.vC(),u}return S(n,t),n.prototype.Jf=function(){HE(this.sC),this.sC=0,this.uC.removeEventListener("scroll",this.vC),this.hC.removeEventListener("scroll",this.vC),Ze(this.rC),r&&r.removeEventListener("resize",this.dC)},b(n,[{key:"iC",get:function(){return this.uw.getBoundingClientRect().height||this.KD||0}},{key:"eC",get:function(){return this.uw.getBoundingClientRect().width||this.tC||0}}]),n}(OE),YE=function(t){function n(n){var i;return(i=t.call(this)||this).uw=void 0,i.$D=void 0,i.nC=function(t,n){i.Fr(new CE(t,n))},i.uw=n,i}S(n,t);var i=n.prototype;return i.oh=function(t){this.$D||("function"==typeof ce.ResizeObserver?this.$D=new PE(this.uw,this.nC):this.$D=new QE(this.uw,this.nC,t))},i.Jf=function(){this.Wr(),this.$D&&(this.$D.Jf(),this.$D=void 0)},b(n,[{key:"iC",get:function(){return this.$D?this.$D.iC:0}},{key:"eC",get:function(){return this.$D?this.$D.eC:0}}]),n}(Js),jE=function(t){function n(){return t.call(this,NT.Dd)||this}return S(n,t),n}(Ks);var ZE=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{wC:i[0],gC:i[1],yC:i[2],mC:i[3],pC:i[4],kC:i[5]}}}(),JE=function(t){function n(){return t.call(this,NT.zI)||this}return S(n,t),n}(Ks),$E=function(t){function n(i){var e;return(e=t.call(this)||this).uw=void 0,e.XI=void 0,e.WI=!1,e.AC=function(){return e.kR()},e.bC=function(){return e.bR()},e.uw=i,e.XI=n.TC(i),s.addEventListener(ZE.pC,e.AC),e.kR(),e}S(n,t),n.TC=function(t){return Boolean(ZE&&s[ZE.mC]&&ZE.wC in t)};var i=n.prototype;return i.Pw=function(){var t=this.uw[ZE.wC]();t&&t.then?t.then(this.AC,this.bC):(s.removeEventListener(ZE.kC,this.bC),s.addEventListener(ZE.kC,this.bC))},i.Lw=function(){var t=s[ZE.gC]();t&&t.then?t.then(this.AC,this.bC):(s.removeEventListener(ZE.kC,this.bC),s.addEventListener(ZE.kC,this.bC))},i.kR=function(){var t=this.WI,n=this.uw===s[ZE.yC];this.WI=n,t!==n&&this.Fr(new jE)},i.bR=function(){this.Fr(new OT)},i.Jf=function(){this.Wr(),s.removeEventListener(ZE.pC,this.AC),s.removeEventListener(ZE.kC,this.bC)},n}(Js),KE=function(t){function n(i){var e;return(e=t.call(this)||this).uw=void 0,e.XI=void 0,e.WI=!1,e.AC=function(){return e.kR()},e.uw=i,e.XI=n.TC(i),e.uw.addEventListener("webkitbeginfullscreen",e.AC),e.uw.addEventListener("webkitendfullscreen",e.AC),e.uw.addEventListener("webkitpresentationmodechanged",e.AC),e.kR(),e}S(n,t),n.TC=function(t){return L.jt&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Pw=function(){var t=this;this.uw.webkitSupportsPresentationMode&&this.uw.webkitSupportsPresentationMode("fullscreen")?L.jt?requestAnimationFrame(function(){return t.uw.webkitSetPresentationMode("fullscreen")}):this.uw.webkitSetPresentationMode("fullscreen"):this.uw.webkitEnterFullscreen()},i.Lw=function(){this.uw.webkitSupportsPresentationMode&&this.uw.webkitSupportsPresentationMode("inline")?this.uw.webkitSetPresentationMode("inline"):this.uw.webkitExitFullscreen()},i.kR=function(){var t,n=this.WI;t=this.uw.webkitPresentationMode?"fullscreen"===this.uw.webkitPresentationMode:!!this.uw.webkitDisplayingFullscreen,this.WI=t,n!==t&&this.Fr(new jE)},i.Jf=function(){this.Wr(),this.uw.removeEventListener("webkitbeginfullscreen",this.AC),this.uw.removeEventListener("webkitendfullscreen",this.AC),this.uw.removeEventListener("webkitpresentationmodechanged",this.AC)},n}(Js),tI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).SC=[],n.EC=void 0,n.gR=!1,n.kR=function(){var t=n.gR,i=n.IC();t!==i&&(n.gR=i,n.Fr(new jE))},n}S(n,t);var i=n.prototype;return i.Pw=function(){this.EC?this.EC.Pw():this.Fr(new OT)},i.Lw=function(){for(var t=0,n=this.SC;t<n.length;t++){var i=n[t];i.WI&&i.Lw()}},i.RC=function(t){this.EC=t},i.NC=function(t){this.SC.push(t),t.Hr(NT.Dd,this.kR),t.Hr(NT.wl,this.Ur),this.kR()},i.DC=function(t){Ss(this.SC,t),t.Xr(NT.Dd,this.kR),t.Xr(NT.wl,this.Ur)},i.IC=function(){for(var t=0,n=this.SC;t<n.length;t++){if(n[t].WI)return!0}return!1},i.Gd=function(){this.EC=void 0,this.gR=!1;for(var t=this.SC.slice(),n=0;n<t.length;n++){var i=t[n];this.DC(i),i.Jf()}this.kR()},i.Jf=function(){this.Wr(),this.Gd()},b(n,[{key:"XI",get:function(){return!!this.EC&&this.EC.XI}},{key:"WI",get:function(){return this.gR}}]),n}(Js),nI=function(t){function n(n,i){var e;return(e=t.call(this)||this).HE=void 0,e.xC=void 0,e.OC=void 0,e.BC=!1,e.LC=function(){return e.Zo()},e.kR=function(t){e.BC||e.Fr(t)},e.HE=n,e.xC=i,e.OC=PT,e.MC(),e.HE.Hr(Fc._a,e.LC),e.Zo(),e}S(n,t);var i=n.prototype;return i.Pw=function(){this.xC&&this.OC.Pw()},i.Lw=function(){this.OC.Lw()},i.MC=function(){this.OC.Hr(NT.Dd,this.kR),this.OC.Hr(NT.wl,this.Ur)},i.UC=function(){this.OC.Xr(NT.Dd,this.kR),this.OC.Xr(NT.wl,this.Ur)},i.Zo=function(){var t=this.OC,n=this.HE.Z_();if(t!==n){this.BC=!0;var i=this.WI,e=this.XI;i&&this.Lw(),this.UC(),this.OC=n,this.MC(),i&&!this.WI&&this.XI?this.Pw():this.Lw(),this.BC=!1,e!==this.XI&&this.Fr(new JE),i!==this.WI&&this.Fr(new jE)}},i.Jf=function(){this.Wr(),this.UC(),this.HE.Xr(Fc._a,this.LC)},b(n,[{key:"XI",get:function(){return!!this.xC&&this.OC.XI}},{key:"WI",get:function(){return this.OC.WI}}]),n}(Js);function iI(t){var n;return{get url(){return t.If},get method(){return t.Xf},get headers(){return n||(n=t.kf.Xa()),n},get body(){return t.af},get useCredentials(){return t.Yf},get type(){return oI(t.nr)},get subType(){return aI(t.Gf)},get mediaType(){return fI(t.Qf)},get responseType(){return rI(t.Af)}}}function eI(t){switch(t.toLowerCase()){case"arraybuffer":return Hc.Va;case"json":return Hc.za;case"stream":return Hc.Wa;case"text":default:return Hc.Bn}}function rI(t){return t}function sI(t){switch(t.toUpperCase()){case"POST":return wl.POST;case"PUT":return wl.PUT;case"DELETE":return wl.DELETE;case"HEAD":return wl.HEAD;case"OPTIONS":return wl.OPTIONS;case"GET":default:return wl.GET}}function uI(t){switch(t.toLowerCase()){case"manifest":return gl.Df;case"segment":return gl.Cf;case"content-protection":return gl.xf;default:return gl.Nf}}function oI(t){return t}function hI(t){switch(t.toLowerCase()){case"initialization-segment":return yl.Of;case"fairplay-license":return yl.Pf;case"fairplay-certificate":return yl.Bf;case"widevine-license":return yl.Lf;case"widevine-certificate":return yl.Mf;case"playready-license":return yl.Uf;case"clearkey-license":return yl.Ff;case"aes128-key":return yl.Hf;default:return yl.Nf}}function aI(t){return t}function cI(t){switch(t.toLowerCase()){case"audio":return ml.Vf;case"video":return ml.zf;case"text":return ml.Bn;case"image":return ml.Wf;case"":default:return ml.Nf}}function fI(t){return t}var vI=function(){function t(t,n){this.FC=new Ao,this.HC=[],this.wd=void 0,this.VC=!1,this.cv=void 0,this.zC=0,this.WC=t,this.XC=n}var n=t.prototype;return n.np=function(){this.VC=!0,this.FC.Rs(null)},n.qC=function(){this.FC.Ns(new jd(this.HC))},n.GC=function(t){if(!this.QC)throw new d("Cannot respond more than once");if(!z(t))throw new d("Expected valid response");this.cv=this.YC(t),this.np()},n.jC=function(){try{var t=this.XC(this.gd);t?this.ZC(t):this.JC||this.$C||this.np()}catch(t){this.HC.push(t),this.qC()}},n.ZC=function(t){if(this.$C)throw new v("Request has been redirected or a response already exists");if(G(t))this.KC(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Ao;try{var i=t(function(t){t?n.Ns(t):n.Rs(void 0)});G(i)&&n.Rs(i)}catch(t){n.Ns(t)}this.KC(n.Ss)}},n.KC=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.zC++,n.next=4,Sr.awrap(t);case 4:this.zC--,this.JC||this.$C||(this.HC.length?this.qC():this.np()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.zC--,this.HC.push(n.t0),this.JC||this.$C||this.qC();case 13:case"end":return n.stop()}},null,this,[[0,8]],Ve)},b(t,[{key:"tx",get:function(){return this.FC.Ss}},{key:"gd",get:function(){return this.wd||(this.wd=this.nx()),this.wd}},{key:"$C",get:function(){return this.VC}},{key:"QC",get:function(){return!this.VC}},{key:"JC",get:function(){return this.zC>0}},{key:"fv",get:function(){return this.cv}}]),t}(),dI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).ix=void 0,r.ix=e,r.jC(),r}S(n,t),n.ex=function(t,n,i){var e=void 0===t.body?i:t.body;return new pl({fi:e,Sf:n.Sf,Af:n.Sf.Af,kf:t.headers,pf:t.status,bf:t.statusText,Ef:t.url,Tf:!0},n)};var i=n.prototype;return i.nx=function(){return i=iI((t=this).Sf),{get closed(){return!t.QC},get request(){return i},get url(){return t.If},get status(){return t.pf},get statusText(){return t.bf},get headers(){return n||(n=t.kf.Xa()),n},get body(){return t.af},respondWith:function(n){return t.GC(n)},waitUntil:function(n){return t.ZC(n)}};var t,n,i},i.YC=function(t){return n.ex(t,this.WC,this.ix)},b(n,[{key:"af",get:function(){return this.ix}},{key:"kf",get:function(){return this.WC.kf}},{key:"Sf",get:function(){return this.WC.Sf}},{key:"fv",get:function(){return this.cv}},{key:"pf",get:function(){return this.WC.pf}},{key:"bf",get:function(){return this.WC.bf}},{key:"If",get:function(){return this.WC.Ef}}]),n}(vI),lI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).sx=void 0,r.ux=void 0,r.ux=e,r.jC(),r}S(n,t);var i=n.prototype;return i.nx=function(){return t=this,{get url(){return t.If},get method(){return t.Xf},get headers(){return n||(n=t.kf.Xa()),n},get body(){return t.af},get closed(){return!t.QC},get useCredentials(){return t.Yf},get type(){return oI(t.nr)},get subType(){return aI(t.Gf)},get mediaType(){return fI(t.Qf)},get responseType(){return rI(t.Af)},redirect:function(n){return t.ox(n)},respondWith:function(n){return t.GC(n)},waitUntil:function(n){return t.ZC(n)}};var t,n},i.YC=function(t){var n=this.WC.af,i=new pl({fi:n,kf:{},Sf:this.WC,Ef:this.WC.If,Af:this.WC.Af,pf:200,bf:"OK"});return dI.ex(t,i,n)},i.ox=function(t){if(!this.QC)throw new d("Cannot redirect, already redirected or has a response");var n;n=X(t)?{url:t}:t,this.sx=function(t,n){return new kl({If:void 0===t.url?n.If:t.url,Xf:void 0!==t.method?sI(t.method):void 0,kf:t.headers,af:t.body,Yf:t.useCredentials,nr:void 0!==t.type?uI(t.type):void 0,Gf:void 0!==t.subType?hI(t.subType):void 0,Qf:void 0!==t.mediaType?cI(t.mediaType):void 0,Af:void 0!==t.responseType?eI(t.responseType):void 0},n)}(n,this.WC),this.np()},b(n,[{key:"af",get:function(){return this.WC.af}},{key:"QC",get:function(){return this.ux&&!this.VC}},{key:"kf",get:function(){return this.WC.kf}},{key:"Xf",get:function(){return this.WC.Xf}},{key:"hx",get:function(){return this.sx}},{key:"fv",get:function(){return this.cv}},{key:"Af",get:function(){return this.WC.Af}},{key:"qf",get:function(){return this.WC.qf}},{key:"Pr",get:function(){return this.WC.Pr}},{key:"nr",get:function(){return this.WC.nr}},{key:"Gf",get:function(){return this.WC.Gf}},{key:"Qf",get:function(){return this.WC.Qf}},{key:"If",get:function(){return this.WC.If}},{key:"Yf",get:function(){return this.WC.Yf}},{key:"jf",get:function(){return this.WC.jf}}]),n}(vI);var _I,wI=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new gI(n);return(e=t.call(this,r,i)||this).ax=void 0,e.ax=r,e}S(n,t);var i=n.prototype;return i.vx=function(t){this.ax.vx(t)},i.lx=function(t){this.ax.lx(t)},i._x=function(t){this.ax._x(t)},i.wx=function(t){this.ax.wx(t)},i.gx=function(t){this.ax.gx(t)},n}(bl),gI=function(){function t(t){this.$f=void 0,this.yx=[],this.mx=[],this.$f=t}var n=t.prototype;return n.Sf=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Sr.awrap(this.kx(t,t.Pr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof Dl)){i.next=12;break}return i.next=11,Sr.awrap(this.Ax(i.t0,t.Pr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Sr.awrap(this.bx(n,t.Pr));case 15:if(!_l(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new xl(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],Ve)},n.Zf=function(t){return this.$f.Zf(t)},n.kx=function(t,n){var i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:Ms(n),i=t,r=0,s=this.yx.slice();case 3:if(!(r<s.length)){h.next=21;break}if(u=s[r],Ms(n),(o=new lI(i,u,!e)).$C){h.next=17;break}return h.prev=8,h.next=11,Sr.awrap(o.tx);case 11:h.next=17;break;case 13:return h.prev=13,h.t0=h.catch(8),h.abrupt("continue",18);case 17:o.hx&&!e?i=o.hx:o.fv&&!e&&(e=o.fv);case 18:r++,h.next=3;break;case 21:if(!e){h.next=23;break}return h.abrupt("return",e);case 23:return h.abrupt("return",this.$f.Sf(i));case 24:case"end":return h.stop()}},null,this,[[8,13]],Ve)},n.Ax=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof xl?t.fv:new pl({fi:null,Sf:t.Sf,pf:0,bf:""}),r.next=3,Sr.awrap(this.bx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!_l(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new xl(e);case 13:case"end":return r.stop()}},null,this,null,Ve)},n.bx=function(t,n){var i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=t,e=0,r=this.mx.slice();case 2:if(!(e<r.length)){h.next=23;break}return s=r[e],Ms(n),h.next=7,Sr.awrap(Ve.resolve(i.ps().fi(n)));case 7:if(u=h.sent,(o=new dI(i,s,u)).$C){h.next=19;break}return h.prev=10,h.next=13,Sr.awrap(o.tx);case 13:h.next=19;break;case 15:return h.prev=15,h.t0=h.catch(10),h.abrupt("continue",20);case 19:i=o.fv||i;case 20:e++,h.next=2;break;case 23:return h.abrupt("return",i);case 24:case"end":return h.stop()}},null,this,[[10,15]],Ve)},n.vx=function(t){this.yx.unshift(t)},n.lx=function(t){this.yx.push(t)},n._x=function(t){Ss(this.yx,t)},n.wx=function(t){this.mx.unshift(t)},n.gx=function(t){Ss(this.mx,t)},n.Jf=function(){this.$f.Jf(),Rs(this.yx),Rs(this.mx)},t}(),yI=function(){function t(t){this.wd=void 0,this.JA=t}var n=t.prototype;return n.vx=function(t){this.JA.vx(t)},n._x=function(t){this.JA._x(t)},n.wx=function(t){this.JA.wx(t)},n.gx=function(t){this.JA.gx(t)},b(t,[{key:"gd",get:function(){var t;return this.wd||(this.wd=(t=this,{addRequestInterceptor:function(n){t.vx(n)},removeRequestInterceptor:function(n){t._x(n)},addResponseInterceptor:function(n){t.wx(n)},removeResponseInterceptor:function(n){t.gx(n)}})),this.wd}}]),t}(),mI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).wd=void 0,r.Tx=function(t){r.Fr(t)},r.Sx=function(t){r.Fr(t)},r.Ex=n,r.JA=i,r.tR=e,r.Ex.Hr(Fc.ka,r.Tx),r.Ex.Hr(Fc.pa,r.Sx),r}S(n,t);var i=n.prototype;return i.Ix=function(t){this.tR.Ix(t)},i.vx=function(t){this.JA.vx(t)},i._x=function(t){this.JA._x(t)},i.wx=function(t){this.JA.wx(t)},i.gx=function(t){this.JA.gx(t)},i.Jf=function(){this.Wr(),this.Ex.Xr(Fc.ka,this.Tx),this.Ex.Xr(Fc.pa,this.Sx)},b(n,[{key:"gd",get:function(){var t;return this.wd||(this.wd=(t=this,{get online(){return t.lw},get estimator(){return n=t.Rx,{get bandwidth(){return n.vS},get roundTripTime(){return n.dS}};var n},setEstimator:function(n){t.Ix(function(t){if(t)return{get vS(){return Ow(t.bandwidth)},get dS(){return Ow(t.roundTripTime)},fS:function(n){return function(t){if(t)return{Nx:function(n){t.markRequestStart(n)},Dx:function(n){t.markResponseStart(n)},Cx:function(n,i){t.markResponseData(n,i)},xx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(iI(n)))}}}(n))},addRequestInterceptor:function(n){t.vx(n)},removeRequestInterceptor:function(n){t._x(n)},addResponseInterceptor:function(n){t.wx(n)},removeResponseInterceptor:function(n){t.gx(n)},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}})),this.wd}},{key:"lw",get:function(){return this.Ex.lw}},{key:"Rx",get:function(){return this.tR.Rx}}]),n}(Js);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(_I||(_I={}));var pI=30,kI={type:_I.BANDWIDTH},AI=20,bI=60;function TI(t){var n,i,e,r=Iw(kI);return X(t)?r.type=SI(t):z(t)&&function(t){switch(t){case _I.PERFORMANCE:case _I.QUALITY:case _I.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=SI(t.type)),z(t)&&z(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=xw(n.bitrate),y(e)||(i.bitrate=e),i)),r}function SI(t){switch(t){case"bandwidth":return _I.BANDWIDTH;case"performance":return _I.PERFORMANCE;case"quality":return _I.QUALITY}}var EI=function(t){function n(n){var i;return(i=t.call(this,"Px")||this).Ox=n,i}return S(n,t),n}(Ks),II=function(t){function n(n){var i;return(i=t.call(this,"Lx")||this).Bx=n,i}return S(n,t),n}(Ks),RI=function(t){function n(n){var i;return(i=t.call(this,"Ux")||this).Mx=n,i}return S(n,t),n}(Ks),NI=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).wd=(i=Yt(n),{get strategy(){return{metadata:(t=i.Bx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.Bx=TI(t)},get targetBuffer(){return i.Ox},set targetBuffer(t){var n=xw(t);y(n)||(i.Ox=n>bI?bI:n)},get bufferLookbackWindow(){return i.Mx},set bufferLookbackWindow(t){var n=xw(t);y(n)||(i.Mx=n<=0?pI:n)}}),n.Fx=kI,n.Hx=AI,n.Vx=pI,n.zx=void 0,n.Wx=void 0,n}S(n,t);var i=n.prototype;return i.Xx=function(t){this.Wx=t},i.Ix=function(t){this.zx=t},b(n,[{key:"qx",get:function(){switch(this.Fx.type){case _I.PERFORMANCE:return 0;case _I.QUALITY:return 1/0;case _I.BANDWIDTH:return this.Fx.metadata&&void 0!==this.Fx.metadata.bitrate?this.Fx.metadata.bitrate:8*eg.Ll();default:return 8*eg.Ll()}}},{key:"gd",get:function(){return this.wd}},{key:"Bx",get:function(){return this.Fx},set:function(t){this.Fx=t,this.Fr(new II(t))}},{key:"Ox",get:function(){return this.Hx},set:function(t){this.Hx=t,this.Fr(new EI(t))}},{key:"Mx",get:function(){return this.Vx},set:function(t){this.Vx=t,this.Fr(new RI(t))}},{key:"Rx",get:function(){var t;return null!=(t=this.zx)?t:this.Wx.SE}}]),n}(Js),DI=function(t){function n(){return t.call(this,"Cd")||this}return S(n,t),n.prototype.yd=function(){return new CI},n}(fw),CI=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Ks),xI=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).Gx=void 0,r.TD=void 0,r.Qx=function(t){vw(t)&&Xs(function(){r.Fr(t.gd)})},r.Gx=n,r.TD=i;for(var s=0,u=r.TD;s<u.length;s++){var o=u[s];r.Gx.Hr(o,r.Qx)}return r}return S(n,t),n.prototype.Jf=function(){this.Wr();for(var t=0,n=this.TD;t<n.length;t++){var i=n[t];this.Gx.Xr(i,this.Qx)}},n}(Js),OI=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).Gx=void 0,e.Qx=function(t){vw(t)&&Xs(function(){e.Fr(t.gd)})},e.Gx=n,e.Gx.zr(e.Qx),e}return S(n,t),n.prototype.Jf=function(){this.Wr(),this.Gx.Qr(this.Qx)},n}(Kw),PI=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(OI);var BI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).jw=0,n.Zw=1/0,n.wd=void 0,n}S(n,t);var i=n.prototype;return i.Gd=function(){0===this.jw&&this.Zw===1/0||(this.jw=0,this.Zw=1/0,this.Fr(new DI))},i.Yx=function(){return new CT([this.Uw,this.Fw],[!0,!0])},b(n,[{key:"Uw",get:function(){return this.jw},set:function(t){if(this.Fw<=t)throw new v("Start time of a clip should be smaller than the end time.");this.jw!==t&&(this.jw=t,this.Fr(new DI))}},{key:"Fw",get:function(){return this.Zw},set:function(t){if(t<=this.Uw)throw new v("End time of a clip should be larger than the start time.");this.Zw!==t&&(this.Zw=t,this.Fr(new DI))}},{key:"gd",get:function(){var t,n,i;return this.wd||(this.wd=(i={get startTime(){return t.Uw},set startTime(n){t.Uw=n},get endTime(){return t.Fw},set endTime(n){t.Fw=n},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new OI(t=this,i),i)),this.wd}}]),n}(Kw),LI=function(t){function n(n){var i;return(i=t.call(this)||this).jx=function(t){i.Zx(t)||i.Fr(t)},i.Jx=n,i.Jx.zr(i.jx),i}S(n,t);var i=n.prototype;return i.$x=function(){return this.Jx.x_},i.J_=function(){return this.Jx.J_()},i.Kx=function(){return this.Jx.rw},i.tO=function(){return this.Jx.iw},i.nO=function(){return this.Jx.sw},i.iO=function(t){this.Jx.sw=t},i.eO=function(){return this.Jx.e_},i.rO=function(t){this.Jx.e_=t},i.sO=function(){return this.Jx.r_},i.uO=function(){return this.Jx.uw},i.oO=function(){return this.Jx.s_},i.hO=function(){return this.Jx.ts},i.aO=function(){return this.Jx.u_},i.cO=function(){return this.Jx.ow},i.fO=function(){return this.Jx.o_},i.vO=function(t){this.Jx.o_=t},i.dO=function(){return this.Jx.lw},i.lO=function(){return this.Jx.h_},i._O=function(){return this.Jx.a_},i.wO=function(t){this.Jx.a_=t},i.gO=function(){return this.Jx._w},i.yO=function(){return this.Jx.ww},i.mO=function(t){this.Jx.ww=t},i.pO=function(){return this.Jx.kl},i.kO=function(){return this.Jx.gw},i.AO=function(){return this.Jx.c_},i.F_=function(){return this.Jx.F_()},i.H_=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ms(n),i.next=3,Sr.awrap(this.Jx.H_(t,n));case 3:case"end":return i.stop()}},null,this,null,Ve)},i.bO=function(){return this.Jx.P_},i.TO=function(){return this.Jx.f_},i.SO=function(){return this.Jx.O_},i.EO=function(){return this.Jx.v_},i.IO=function(){return this.Jx.d_},i.RO=function(t){this.Jx.d_=t},i.Z_=function(){return this.Jx.Z_()},i.j_=function(){return this.Jx.j_()},i.q_=function(t){this.Jx.q_(t)},i.G_=function(){this.Jx.G_()},i.Y_=function(){this.Jx.Y_()},i.X_=function(){this.Jx.X_()},i.M_=function(){this.Jx.M_()},i.L_=function(){this.Jx.L_()},i.Q_=function(){this.Jx.Q_()},i.U_=function(){return this.Jx.U_()},i.V_=function(){return this.Jx.V_()},i.z_=function(){this.Jx.z_()},i.W_=function(){this.Jx.W_()},i.Gd=function(){return this.Jx.Gd()},i.Jf=function(){return this.Jx.Jf()},i.ew=function(){this.Jx.ew()},i.K_=function(t){return this.Jx.K_(t)},i.Zx=function(t){return!1},b(n,[{key:"x_",get:function(){return this.$x()}},{key:"rw",get:function(){return this.Kx()}},{key:"sw",get:function(){return this.nO()},set:function(t){this.iO(t)}},{key:"iw",get:function(){return this.tO()}},{key:"e_",get:function(){return this.eO()},set:function(t){this.rO(t)}},{key:"r_",get:function(){return this.sO()}},{key:"uw",get:function(){return this.uO()}},{key:"s_",get:function(){return this.oO()}},{key:"ts",get:function(){return this.hO()}},{key:"u_",get:function(){return this.aO()}},{key:"B_",get:function(){return this.Jx.B_}},{key:"ow",get:function(){return this.cO()}},{key:"p_",get:function(){return this.Jx.p_}},{key:"o_",get:function(){return this.fO()},set:function(t){this.vO(t)}},{key:"lw",get:function(){return this.dO()}},{key:"h_",get:function(){return this.lO()}},{key:"a_",get:function(){return this._O()},set:function(t){this.wO(t)}},{key:"_w",get:function(){return this.gO()}},{key:"ww",get:function(){return this.yO()},set:function(t){this.mO(t)}},{key:"kl",get:function(){return this.pO()}},{key:"gw",get:function(){return this.kO()}},{key:"c_",get:function(){return this.AO()}},{key:"P_",get:function(){return this.bO()}},{key:"f_",get:function(){return this.TO()}},{key:"O_",get:function(){return this.SO()}},{key:"v_",get:function(){return this.EO()}},{key:"d_",get:function(){return this.IO()},set:function(t){this.RO(t)}},{key:"yw",get:function(){return this.Jx.yw},set:function(t){this.Jx.yw=t}}]),n}(tg),MI=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).DO=void 0,r.CO=!1,r.xO=void 0,r.OO=!1,r.PO=function(){r.BO(),r.LO()},r.VS=function(){r.MO(),r.LO(),r.UO&&r.e_>=r.DO.Fw-n.FO&&!r.s_&&(r.xO=FE(r.VS))},r.HO=function(){r.OO=!0},r.VO=function(){r.OO&&(r.OO=!1,r.LO())},r.DO=e,r.DO.Hr("Cd",r.PO),r.Jx.Hr("timeupdate",r.VS),r}S(n,t);var i=n.prototype;return i.rO=function(n){var i=this.DO.Yx().dI(n);t.prototype.rO.call(this,i),this.LO()},i.oO=function(){return t.prototype.oO.call(this)||this.CO},i.kO=function(){return CT.UI(t.prototype.kO.call(this)).wI(this.DO.Yx()).kE()},i.L_=function(){this.oO()?this.rO(this.zO.start(0)):this.BO(),t.prototype.L_.call(this),this.LO()},i.H_=function(n,i){return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Ms(i),this.CO=!1,this.DO.Gd(),e.next=5,Sr.awrap(t.prototype.H_.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,Ve)},i.Jf=function(){return this.DO.Xr("Cd",this.PO),this.Jx.Xr("timeupdate",this.VS),this.MO(),t.prototype.Jf.call(this)},i.Zx=function(n){switch(n.type){case"seeking":return this.Fr(n),this.HO(),!0;case"seeked":case"emptied":return this.Fr(n),this.VO(),!0;case"ended":if(this.UO)return!0}return t.prototype.Zx.call(this,n)},i.MO=function(){this.xO&&(HE(this.xO),this.xO=void 0)},i.LO=function(){var t=this.e_,i=this.UO&&t>=this.DO.Fw-n.my;this.CO&&!i?(this.CO=!1,this.h_&&this.L_()):this.CO||!i||this.c_||this.OO||(this.CO=!0,this.Fr(new Mg(t)),this.M_())},i.BO=function(){if(this.r_!==1/0){var t=this.zO,i=CT.UI(t).dI(this.e_);Lt(this.e_,i,n.my)||this.rO(i)}},b(n,[{key:"zO",get:function(){return this.kO().length?this.kO():this.DO.Yx().kE()}},{key:"UO",get:function(){return this.DO.Fw<this.r_}}]),n}(LI);MI.FO=1,MI.my=.001;var UI=function(){function t(){this.WO=void 0,this.WO=!1}return b(t,[{key:"XO",get:function(){return this.WO},set:function(t){this.WO=t}}]),t}(),FI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).WO=void 0,e.qO=!1,e.GO=!1,e.WO=i,e}S(n,t);var i=n.prototype;return i.oO=function(){return!this.WO.XO&&t.prototype.oO.call(this)},i.M_=function(){this.GO=!0,t.prototype.M_.call(this)},i.L_=function(){this.GO=!1,t.prototype.L_.call(this)},i.Zx=function(n){if(this.WO.XO)switch(n.type){case"ended":return this.e_=0,this.GO||(this.c_?this.qO=!0:this.L_()),!0;case"seeked":this.qO&&(this.qO=!1,this.L_());break;case"pause":if(this.qO||t.prototype.oO.call(this))return!0}return t.prototype.Zx.call(this,n)},n}(LI);var HI=function(){function t(t){var n;this.wd=(n=this,{get currentBandwidthEstimate(){return n.fw},get corruptedVideoFrames(){return n.aw},get droppedVideoFrames(){return n.hw},get totalBytesLoaded(){return n.vw},get bufferedSegments(){return n.dw}}),this.QE=t}return b(t,[{key:"gd",get:function(){return this.wd}},{key:"aw",get:function(){return this.QE.QO.p_.aw}},{key:"fw",get:function(){return this.QE.QO.p_.fw}},{key:"hw",get:function(){return this.QE.QO.p_.hw}},{key:"YO",get:function(){throw new v("Not implemented")}},{key:"jO",get:function(){throw new v("Not implemented")}},{key:"vw",get:function(){return this.QE.QO.p_.vw}},{key:"cw",get:function(){return this.QE.QO.p_.cw}},{key:"dw",get:function(){return this.QE.QO.p_.dw}}]),t}();function VI(t){if(!t||!ir(t))return{hw:0,aw:0,cw:0,fw:0,vw:0,dw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{hw:n.droppedVideoFrames,aw:n.corruptedVideoFrames||0,cw:n.totalVideoFrames}}return{hw:t.webkitDroppedFrameCount||0,aw:0,cw:t.webkitDecodedFrameCount||0}}var zI=function(t){function n(){return t.call(this,"ZO")||this}return S(n,t),n.prototype.yd=function(){return new WI},n}(fw),WI=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(Ks);var XI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).JO=[],n.wd=void 0,n.$O=function(){return n.Fr(new zI)},n}S(n,t);var i=n.prototype;return i.KO=function(t){this.JO.push(t),t.Hr("statechange",this.$O)},i.Jf=function(){var t=this;this.JO.forEach(function(n){n.Xr("statechange",t.$O)}),Rs(this.JO)},b(n,[{key:"tP",get:function(){return this.JO.some(function(t){return t.tP})}},{key:"gd",get:function(){var t,n,i;return this.wd||(this.wd=(i={get casting(){return t.tP},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new PI(t=this,i),i)),this.wd}}]),n}(tg),qI=function(){function t(){}return t.nP=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=new kl({If:t,Af:Hc.Bn,Xf:wl.GET}),r.next=4,Sr.awrap(n.Sf(i));case 4:return e=r.sent,r.next=7,Sr.awrap(e.fi());case 7:return r.abrupt("return",r.sent);case 10:return r.prev=10,r.t0=r.catch(0),Ls(r.t0),r.abrupt("return",void 0);case 14:case"end":return r.stop()}},null,null,[[0,10]],Ve)},t.iP=function(t){try{var i=ZS(t);return new iE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new mc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.eP=function(t){void 0===t&&(t=wE.Qy),i.ye("The baked-in license is used. Please update the configuration with your license.");var n=t.DN(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.DN(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.DN(n)}),s=Number(new Date(Number(t.DN("COD|aHpHa:p3Ceo3Co\"\""))));return new iE(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new iE(t.UN,t.FN,t.HN,864e13,t.zN,Date.now(),t.XN,t.qN)},t}(),GI=function(){function t(){}return t.ea=function(){return t.Nn||(t.Nn=QI.gh()?new QI:new Pc),t.Nn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t.rP=function(n){var i=t.cs(n);if(void 0!==i)return g(i)},t.sP=function(n){return"true"===t.cs(n)},t}();GI.Nn=void 0;var QI=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.gh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.ds=function(n){t.localStorage.removeItem(n)},e.na=function(){t.localStorage.clear()},e.cs=function(n){return t.localStorage[n]},e.ia=function(n,i){t.localStorage[n]=i},i}(GI),YI=_.floor(14399999*_.random()-72e5),jI=function(){function t(t,n,i,e,r,s){this.YN=void 0,this.JA=t,this.uP=n,this.oP=i,this.CD=e,this.hP=r,this.wu=s,this.YN=aE(s)}var i=t.prototype;return i.aP=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.cP(this.hP.license,this.hP.licenseUrl));case 2:t=n.sent,this.CD.fP(t);case 4:case"end":return n.stop()}},null,this,null,Ve)},i.cP=function(t,i){var e,r,s,u,o,h,a,c,f;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=qI.iP(t):e||(r=qI.eP()),e||(e="https://validate.theoplayer.com/1/"+r.UN),s=this.vP(),!r){v.next=14;break}if((u=this.uP.tD(r))!==$S.BN){v.next=14;break}if(!this.dP(r.VN)||!this.dP(null==s?void 0:s.VN)){v.next=13;break}return v.next=10,Sr.awrap(this.lP(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.uP.tD(s)!==$S.BN){v.next=24;break}if(!this.dP(null==s?void 0:s.VN)){v.next=23;break}return v.next=20,Sr.awrap(this.lP(e));case 20:if(!(h=v.sent)){v.next=23;break}return v.abrupt("return",h);case 23:return v.abrupt("return",s);case 24:GI.ds("THEOplayer.license");case 25:return v.next=27,Sr.awrap(qI.nP(e,this.JA));case 27:if(!(a=v.sent)){v.next=37;break}if(c=qI.iP(a),this.uP.tD(c)!==$S.BN){v.next=34;break}return GI.ia("THEOplayer.license",a),v.abrupt("return",c);case 34:GI.ds("THEOplayer.license"),v.next=39;break;case 37:if(this.YN||!r||u!==$S.LN||e!=="https://validate.theoplayer.com/1/"+r.UN){v.next=39;break}return v.abrupt("return",qI.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this._P(null!=(f=r)?f:c,new mc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new mc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,Ve)},i.JN=function(t){var n,i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Sr.awrap(this.CD.UD());case 2:if(n=h.sent,!this.dP(n.VN)){h.next=9;break}return e=null!=(i=this.hP.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.UN,h.next=7,Sr.awrap(this.lP(e));case 7:(r=h.sent)&&(this.CD.fP(r),n=r);case 9:if(h.prev=9,(s=this.uP.tD(n))!==$S.MN){h.next=16;break}throw u=nE.GN,new mc(rE(u),fE.KN(u));case 16:if(s!==$S.LN){h.next=19;break}throw o=nE.LN,new mc(rE(o),fE.KN(o));case 19:this.uP.JN(t,n),h.next=25;break;case 22:h.prev=22,h.t0=h.catch(9),this.wP(h.t0);case 25:case"end":return h.stop()}},null,this,[[9,22]],Ve)},i.lP=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Sr.awrap(qI.nP(t,this.JA));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=qI.iP(n),this.uP.tD(i)!==$S.BN){e.next=11;break}return GI.ia("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],Ve)},i.dP=function(t){return!t||Number(new Date)+2592e5+YI>=t},i.vP=function(){var t=GI.cs("THEOplayer.license");if(t)return qI.iP(t)},i._P=function(t,n){this.CD.fP(t),this.wP(n)},i.wP=function(t){throw ut(t.message),this.oP.VD(t.message),t},t}(),ZI=function(){function t(){this.gP=void 0,this.yP=new Ao}var n=t.prototype;return n.fP=function(t){this.gP=t,this.yP.Rs()},n.UD=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gP){t.next=2;break}return t.abrupt("return",Ve.resolve(this.gP));case 2:return t.next=4,Sr.awrap(this.yP.Ss);case 4:return t.abrupt("return",this.gP);case 5:case"end":return t.stop()}},null,this,null,Ve)},b(t,[{key:"mP",get:function(){return this.gP}}]),t}(),JI=function(t){function n(){return t.call(this,"Cd")||this}return S(n,t),n.prototype.yd=function(){return new $I},n}(fw),$I=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Ks);function KI(t){var n,i={get fontFamily(){return t.pP},set fontFamily(n){t.pP=n},get fontColor(){return t.kP},set fontColor(n){t.kP=n},get fontSize(){return t.AP},set fontSize(n){t.AP=n},get backgroundColor(){return t.bP},set backgroundColor(n){t.bP=n},get windowColor(){return t.TP},set windowColor(n){t.TP=n},get edgeStyle(){return t.SP},set edgeStyle(n){t.SP=n},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new $s(i),t.Hr(["Cd"],function(t){return n.Fr(t.gd)}),i}var tR,nR,iR={pP:void 0,kP:void 0,AP:void 0,bP:void 0,TP:void 0,SP:void 0,EP:void 0},eR="THEOplayer.textTrackStyle.",rR=function(t){function n(){var i;return(i=t.call(this)||this).IP=void 0,i.wd=void 0,i.IP=n.RP(),i}return S(n,t),n.prototype.Zo=function(t){this.IP=Er({},this.IP,t),n.NP(this.IP),this.Fr(new JI)},n.RP=function(){var t=Er({},iR);return t.pP=GI.cs(eR+"fontFamily")||t.pP,t.kP=GI.cs(eR+"fontColor")||t.kP,t.AP=GI.cs(eR+"fontSize")||t.AP,t.bP=GI.cs(eR+"backgroundColor")||t.bP,t.TP=GI.cs(eR+"windowColor")||t.TP,t.SP=GI.cs(eR+"edgeStyle")||t.SP,t},n.NP=function(t){GI.ia(eR+"fontFamily",t.pP||""),GI.ia(eR+"fontColor",t.kP||""),GI.ia(eR+"fontSize",t.AP||""),GI.ia(eR+"backgroundColor",t.bP||""),GI.ia(eR+"windowColor",t.TP||""),GI.ia(eR+"edgeStyle",t.SP||"")},b(n,[{key:"DP",get:function(){return this.IP}},{key:"pP",get:function(){return this.IP.pP},set:function(t){this.Zo({pP:t})}},{key:"kP",get:function(){return this.IP.kP},set:function(t){this.Zo({kP:t})}},{key:"AP",get:function(){return this.IP.AP},set:function(t){this.Zo({AP:t})}},{key:"bP",get:function(){return this.IP.bP},set:function(t){this.Zo({bP:t})}},{key:"TP",get:function(){return this.IP.TP},set:function(t){this.Zo({TP:t})}},{key:"SP",get:function(){return this.IP.SP},set:function(t){this.Zo({SP:t})}},{key:"EP",get:function(){return this.IP.EP}},{key:"gd",get:function(){return this.wd||(this.wd=KI(this)),this.wd}}]),n}(Js),sR=function(t){function n(n,e){var r;(r=t.call(this)||this).CP=void 0,r.rh=void 0,r.QO=void 0,r.xP=void 0,r.fd=void 0,r.DO=void 0,r.WO=void 0,r.OP=void 0,r.PP=void 0,r.tR=void 0,r.uP=void 0,r.BP=void 0,r.LP=void 0,r.KI=void 0,r.MP=!1,r.S_=!1,r.Tw=void 0,r.UP=!1,r.FP=void 0,r.HP=void 0,r.VP=void 0,r.zP=void 0,r.WP=void 0,r.XP=function(t){if(!r.UP){r.UP=!0;var n=r.CP,i=dy(t);r.QO.tl=new MT(r.uw,i,t),qs(n.Jf())}},r.qP=function(t){r.Fr(t.gd)},r.GP=function(t){t.type!==Fc.ka&&t.type!==Fc.pa&&r.Fr(t)};var s=xw(e.uid);y(s)?r.Tw=Ay++:r.Tw=s,r.rh=e;var u=i.fd,o=new ZI;r.xP=new IE("3.3.0",u,o),r.fd=new wI(u,e.allowMixedContent),r.tR=new NI,r.uP=new eE(e.isEmbeddable,"3.3.0",JS()),r.WP=new jI(u,r.uP,r.xP,o,e,JS()),r.WP.aP().catch(r.XP),r.BP=new YE(n),r.BP.Hr("ZD",r.qP),r.KI=new rR,r.DO=new BI,r.WO=new UI;var h=new LT(n,e,r.fd,r.tR,r.BP,r.KI);r.tR.Xx(h);var a=h;a=new MI(a,r.QP),a=new FI(a,r.XO),r.CP=a,r.QO=new ay(r.CP),r.QO.zr(r.GP),r.zP=new HI(Yt(r)),r.HP=new mI(r.QO,r.fd,r.tR),r.OP=new DE(Yt(r)),r.LP=new nI(r.QO,e.allowNativeFullscreen),r.PP=new iS(r.LP),r.BP.oh();var c=new oe(r.BP,r.KI,1,[_y.zf]);return r.FP=new he(c),r.VP=new XI,r}S(n,t);var e=n.prototype;return e.vO=function(t){this.QO.o_=t,t||this.h_||this.X_()},e.RO=function(t){this.QO.d_=t},e.YP=function(){jg(this,eS,this)},e.L_=function(){this.QO.L_()},e.M_=function(){this.QO.M_()},e.H_=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.WP.JN(t).catch(this.XP),i=uR(t),e.next=5,Sr.awrap(this.QO.H_(i,n));case 5:case"end":return e.stop()}},null,this,null,Ve)},e.X_=function(){this.S_||(this.QO.X_(),this.FP.X_(),this.S_=!0)},e.WI=function(){return this.PP.IR()===JT.FULLSCREEN},e.Q_=function(){this.QO.Q_()},e.Y_=function(){this.QO.Y_()},e.j_=function(){return this.QO.j_()},e.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.QO.U_());case 2:return t.next=4,Sr.awrap(this.QO.Gd());case 4:case"end":return t.stop()}},null,this,null,Ve)},e.Jf=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.VP.Jf(),this.fd.Jf(),this.HP.Jf(),this.LP.Jf(),this.PP.Jf(),this.BP.Jf(),this.xP.Jf(),this.FP.Jf(),t.next=11,Sr.awrap(this.QO.Jf());case 11:case"end":return t.stop()}},null,this,null,Ve)},b(n,[{key:"jP",get:function(){return this.tR}},{key:"D_",get:function(){return this.MP},set:function(t){this.MP=t,this.QO.D_=t}},{key:"ZP",get:function(){return this.FP}},{key:"x_",get:function(){return this.QO.x_}},{key:"JP",get:function(){return this.VP}},{key:"$P",get:function(){return this.BP}},{key:"B_",get:function(){return this.QO.B_}},{key:"p_",get:function(){return this.zP}},{key:"KP",get:function(){return this.HP}},{key:"P_",get:function(){return this.QO.P_}},{key:"tB",get:function(){return this.KI}},{key:"O_",get:function(){return this.QO.O_}},{key:"rw",get:function(){return this.QO.rw}},{key:"QP",get:function(){return this.DO}},{key:"XO",get:function(){return this.WO}},{key:"e_",get:function(){return this.QO.e_},set:function(t){this.QO.e_=t}},{key:"sw",get:function(){return this.QO.sw},set:function(t){this.QO.sw=t}},{key:"iw",get:function(){return this.QO.iw}},{key:"r_",get:function(){return this.QO.r_}},{key:"uw",get:function(){return this.QO.uw}},{key:"s_",get:function(){return this.QO.s_}},{key:"ts",get:function(){return this.QO.ts}},{key:"u_",get:function(){return this.QO.u_}},{key:"o_",get:function(){return this.QO.o_},set:function(t){var n=Boolean(t);this.vO(n)}},{key:"h_",get:function(){return this.QO.h_}},{key:"a_",get:function(){return this.QO.a_},set:function(t){this.QO.a_=t}},{key:"_w",get:function(){return this.QO._w}},{key:"ww",get:function(){return this.QO.ww},set:function(t){this.QO.ww=ST(t)}},{key:"kl",get:function(){return this.QO.kl}},{key:"gw",get:function(){return this.QO.gw}},{key:"c_",get:function(){return this.QO.c_}},{key:"ol",get:function(){return this.Tw}},{key:"f_",get:function(){return this.QO.f_}},{key:"v_",get:function(){return this.QO.v_}},{key:"d_",get:function(){return this.QO.d_},set:function(t){var n=Bt(Number(t),0,1)||0;this.RO(n)}}]),n}(tg);function uR(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.nB=0]="nB",t[t.iB=1]="iB"}(tR||(tR={})),function(t){t[t.eB=0]="eB"}(nR||(nR={}));var oR={};function hR(t,n){(oR[n]||(oR[n]=[])).push(t)}function aR(t,n){var i=t;if(oR[n])for(var e=0,r=oR[n];e<r.length;e++){i=(0,r[e])(i)}return i}var cR=[];function fR(t){cR.push(t)}var vR=t.CustomEvent;var dR=function(){try{var t=new vR("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},lR=function(){function t(t,n){var i=this;this.QE=void 0,this.rB=void 0,this.sB=!1,this.uB=function(t){i.rB.HD(t.error,i.e_)},this.oB=function(){i.rB.MD(i.hB),i.QE.removeEventListener("playing",i.oB),i.sB=!1},this.aB=function(){i.sB||(i.QE.addEventListener("playing",i.oB),i.sB=!0)},this.rB=n,this.QE=t,this.QE.addEventListener("error",this.uB),this.QE.addEventListener("sourcechange",this.aB),this.aB()}return t.prototype.Gd=function(){},b(t,[{key:"e_",get:function(){var t=this.QE.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"hB",get:function(){return this.QE.src||""}}]),t}();fR(function(t){new lR(t.gd,t.xP)});var _R="theoplayer-stored-volume",wR="theoplayer-stored-mutedstate";hR(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=GI.rP(_R);(void 0===r||y(r))&&(r=1);var s=GI.sP(wR)||!1;e.d_=r,e.o_=s}return e}S(n,t);var i=n.prototype;return i.vO=function(n){this.rh.persistVolume&&GI.ia(wR,""+Boolean(n)),t.prototype.vO.call(this,n)},i.RO=function(n){this.rh.persistVolume&&GI.ia(_R,""+Number(n)),t.prototype.RO.call(this,n)},n}(t)},tR.iB);var gR=new(function(){function t(){this.cB=[],this.wd=void 0}var n=t.prototype;return n.zd=function(t){return this.cB[t]},n.fB=function(t){this.cB.push(t),this.gd.push(t.gd)},n.jo=function(t){var n=this.cB.indexOf(t);n<0||(Es(this.cB,n),this.wd&&Es(this.wd,n))},n.vB=function(t){for(var n=0,i=this.cB;n<i.length;n++){var e=i[n];if(e.ol===t)return e}},b(t,[{key:"Yd",get:function(){return this.cB.length}},{key:"gd",get:function(){return this.wd||(this.wd=function(t){for(var n=[],i=0;i<t.Yd;i++)n[i]=t.zd(i).gd;return n.getPlayerByUID=function(n){var i=t.vB(n);return i&&i.gd},n}(this)),this.wd}}]),t}()),yR=function(){function t(t){var n=this;this.dB=[],this.lB=void 0,this.Xv=new Ps,this._B=void 0,this.wB=function(){return 0===n.dB.length?n._B?mR(n._B,n.Xv.Pr).then(n.gB,n.gB):n.gB():n.dB.shift()().then(n.wB)},this.gB=function(){if(0!==n.dB.length)return n.wB();n.lB=void 0},this._B=t}var n=t.prototype;return n.yB=function(t,n){var i=this;return new Ve(function(e){var r=new Ps;r.xr(i.Xv.Pr),n&&r.xr(n);var s=function(){r.Sr()};i.dB.push(function(){var n=mR(t,r.Pr);return e(n),n.then(s,s)}),i.lB||(i.lB=i.wB())})},n.Cr=function(){return this.mB(!0)},n.Jf=function(){return this._B=void 0,this.mB(!1)},n.mB=function(t){var n=this.lB;return this.Xv.Cr(),t&&(this.Xv=new Ps),Ve.resolve(n)},t}();function mR(t,n){return new Ve(function(i){return i(t(n))})}var pR,kR=function(t){function n(n){var i;return(i=t.call(this,Fc.Ba)||this).source=n,i}return S(n,t),n}(Ks),AR=function(t){function n(){var n;return(n=t.call(this)||this).GI=void 0,n.YI=void 0,n.ZI=void 0,n.jI=void 0,n.GI=0,n.YI=!0,n.ZI=!1,n.jI=1,n}S(n,t);var i=n.prototype;return i.L_=function(){this.YI&&(this.YI=!1,this.Fr(new Ng(this.e_)),this.Fr(new Hk(this.e_)))},i.M_=function(){this.YI||(this.YI=!0,this.Fr(new Lg(this.e_,this.sw)),this.Fr(new Rg(this.e_)))},i.Gd=function(){this.GI=0,this.ZI=!1,this.jI=1,this.M_(),this.Fr(new Ig(this.GI))},i.Jf=function(){this.Wr()},i.Y_=function(){},i.Q_=function(){},b(n,[{key:"sw",get:function(){},set:function(t){}},{key:"e_",get:function(){return this.GI},set:function(t){this.ZI&&this.GI===t||(this.GI=t,this.ZI=!0,this.Fr(new Fg(this.e_)))}},{key:"h_",get:function(){return this.YI}},{key:"a_",get:function(){return this.jI},set:function(t){this.jI!==t&&(this.jI=t,this.Fr(new Bg(this.e_,this.a_)))}},{key:"kl",get:function(){return ag.Gl}},{key:"c_",get:function(){return this.ZI}}]),n}(Kw),bR=function(t){function n(){return t.call(this,Fc.fa)||this}return S(n,t),n}(Ks),TR={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},SR={visibility:"hidden"},ER={visibility:"visible"},IR=function(){function t(t){var n,i=this;this.zE=void 0,this.QE=void 0,this.pB=!1,this.kB=void 0,this.AB=void 0,this.bB=function(t){var n;i.pB=!1,i.kB=null==(n=t.source)?void 0:n.poster,i.Zo()},this.pb=function(){i.pB=!0,i.Y_()},this.QE=t,this.JE(),this.zE=((n=ce&&ce.document&&ce.document.createElement("div")).className="theoplayer-poster",Ke(TR,n),n),t.uw.appendChild(this.zE)}var n=t.prototype;return n.Zo=function(){var t=this.QE.h_,n=this.pB;this.If?this.zE.style.backgroundImage='url("'+this.If.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.zE.style.backgroundImage="",t&&this.If&&!n?this.Q_():this.Y_()},n.Q_=function(){Ke(SR,this.QE.uw),Ke(ER,this.zE)},n.Y_=function(){Ke(SR,this.zE),Ke(ER,this.QE.uw)},n.JE=function(){this.QE.Hr("sourcechange",this.bB),this.QE.Hr("play",this.pb)},n.Jf=function(){this.QE.Xr("sourcechange",this.bB),this.QE.Xr("play",this.pb),Ze(this.zE)},b(t,[{key:"If",get:function(){return void 0!==this.kB?this.kB:void 0!==this.AB?this.AB:void 0}},{key:"TB",set:function(t){this.AB=t,this.Zo()}}]),t}();function RR(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).QE=void 0,r.SB=void 0,r.EB=void 0,r.IB=void 0,r.RB=void 0,r.NB=void 0,r.DB=void 0,r.CB=void 0,r.ZE=void 0,r.jE=void 0,r.wd=void 0,r.xB=function(t){t.type!==Fc.Sa&&r.CB.push(t)},r.SB=new t(i,e),r.EB=new AR,r.QE=r.SB,r.IB=new IR(Yt(r)),r.NB=new yR,r.DB=!1,r.CB=[],r.ZE=!0,r.jE=void 0,r.JE(),r}S(i,n);var e=i.prototype;return e.yB=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.NB.yB(t,n).catch(Fs));case 1:case"end":return i.stop()}},null,this,null,Ve)},e.OB=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ms(n),this.SB.zr(this.xB),i.next=4,Sr.awrap(this.SB.H_(t,n));case 4:this.SB.Qr(this.xB);case 5:case"end":return i.stop()}},null,this,null,Ve)},e.PB=function(){var t,n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.F_())&&!RS(t)&&this.D_&&this.h_){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rh.mutedAutoplay,e.next=6,Sr.awrap(this.ZP.BB());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.LB(),e.abrupt("break",14);case 12:return(this.o_||n===Dg.ALL)&&(this.o_=!0,this.L_()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,Ve)},e.H_=function(t){var n=this,i=this.jE;i&&!RS(i)&&this.Fr(new Ig(0,0)),this.Gd(),this.jE=t,qs(this.yB(function(i){return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Ms(i),e.prev=1,e.next=4,Sr.awrap(n.OB(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.jE=void 0,e.t0;case 10:return e.next=12,Sr.awrap(n.MB());case 12:case"end":return e.stop()}},null,null,[[1,6]],Ve)}))},e.MB=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.UB(this.SB),this.Fr(new kR(this.F_())),t.next=4,Sr.awrap(this.PB());case 4:case"end":return t.stop()}},null,this,null,Ve)},e.rO=function(t){this.QE.e_=t},e.hO=function(){return this.SB.ts},e.aO=function(){return this.SB.u_},e.L_=function(){this.QE.L_()},e.LB=function(){this.o_||this.X_(),this.L_()},e.X_=function(){this.SB.X_()},e.M_=function(){this.QE.M_()},e.U_=function(){this.H_(void 0)},e.Q_=function(){this.ZE=!0,this.QE.Q_()},e.Y_=function(){this.ZE=!1,this.QE.Y_()},e.YP=function(){this.SB.YP()},e.RO=function(t){this.SB.RO(t)},e.vO=function(t){this.SB.vO(t)},e.FB=function(t){this.RB=t,t.fB(this)},e.WI=function(){return this.SB.WI()},e.F_=function(){return this.jE},e.j_=function(){return this.SB.j_()},e.eO=function(){return this.SB.e_},e.sO=function(){return this.SB.r_},e.Kx=function(){return this.SB.rw},e.gO=function(){return this.SB._w},e.kO=function(){return this.SB.gw},e.Gd=function(){var t=this;this.jE=void 0,Rs(this.CB),this.EB.Gd(),this.UB(this.EB),this.NB.Cr(),qs(this.NB.yB(function(n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ms(n),i.next=3,Sr.awrap(t.SB.Gd());case 3:case"end":return i.stop()}},null,null,null,Ve)}))},e.Jf=function(){var t=this;this.Fr(new bR),this.IB.Jf(),this.$E(),this.Gd(),qs(this.yB(function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(t.SB.Jf());case 2:t.RB&&(t.RB.jo(t),t.RB=void 0),t.NB.Jf();case 4:case"end":return n.stop()}},null,null,null,Ve)})),this.Wr()},e.UB=function(t){if(this.QE!==t){var n=this.QE.h_,i=this.QE.e_,e=this.QE.a_,r=this.QE.c_;this.$E(),t===this.SB?((r||t.e_!==i)&&(t.e_=i),t.a_!==e&&(t.a_=e),n?t.M_():t.L_()):this.rh.retainPlaybackRateOnSourceChange?t.a_=e:1!==e&&this.Fr(new Bg(this.eO(),1)),this.QE=t,this.JE();for(var s=0,u=this.CB;s<u.length;s++){var o=u[s];this.Fr(o)}Rs(this.CB),this.ZE?t.Q_():t.Y_()}},e.JE=function(){this.QE.zr(this.Ur)},e.$E=function(){this.QE.Qr(this.Ur)},e.yd=function(){return t=this,e=function(n){i=n;var e=FS(n,t.rh);t.H_(e)},r={get abr(){return t.jP.gd},get audioTracks(){return t.x_.gd},get autoplay(){return t.D_},set autoplay(n){t.D_=Boolean(n)},get buffered(){return t.Kx()},get canvas(){return t.OP.gd},get clip(){return t.QP.gd},get currentProgramDateTime(){var n;return null!=(n=t.sw)?n:null},set currentProgramDateTime(n){t.sw=null!=n?n:void 0},get currentTime(){return t.eO()},set currentTime(n){t.rO(Number(n))},get duration(){return t.sO()},get element(){return t.uw},get ended(){return t.s_},get error(){return t.hO()},get errorObject(){return t.aO()},get loop(){return t.XO.XO},set loop(n){t.XO.XO=Boolean(n)},get metrics(){return t.p_.gd},get muted(){return t.o_},set muted(n){t.vO(n)},get network(){return t.KP.gd},get paused(){return t.h_},get playbackRate(){return t.a_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.a_=i},get played(){return t.gO()},get poster(){return t.HB},set poster(n){t.HB=Pw(n)},get preload(){return t.ww},set preload(n){t.ww=n},get presentation(){return t.PP.gd},get readyState(){return t.kl},get seekable(){return t.kO()},get seeking(){return t.c_},get source(){return i},set source(t){e(t)},get src(){return NS(t.F_())},set src(t){e({sources:t})},get textTracks(){return t.P_.gd},get textTrackStyle(){return t.tB.gd},get uid(){return t.ol},get videoHeight(){return t.f_},get videoTracks(){return t.O_.gd},get videoWidth(){return t.v_},get volume(){return t.d_},set volume(n){t.RO(Number(n))},destroy:function(){t.Jf(),t=null,i=void 0},play:function(){t.LB()},pause:function(){t.M_()},stop:function(){i=void 0,t.U_()},prepareWithUserAction:function(){t.X_()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)},setSource:function(t){e(t)}},(n=new tS(r,!0)).vR(t),r;var t,n,i,e,r},b(i,[{key:"xP",get:function(){return this.SB.xP}},{key:"OP",get:function(){return this.SB.OP}},{key:"rh",get:function(){return this.SB.rh}},{key:"CP",get:function(){return this.SB.CP}},{key:"fd",get:function(){return this.SB.fd}},{key:"lE",get:function(){return this.SB.LP}},{key:"PP",get:function(){return this.SB.PP}},{key:"BP",get:function(){return this.SB.BP}},{key:"QO",get:function(){return this.SB.QO}},{key:"jP",get:function(){return this.SB.jP}},{key:"D_",get:function(){return this.SB.D_},set:function(t){this.SB.D_=t,this.PB()}},{key:"ZP",get:function(){return this.SB.ZP}},{key:"x_",get:function(){return this.SB.x_}},{key:"JP",get:function(){return this.SB.JP}},{key:"$P",get:function(){return this.SB.BP}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}},{key:"B_",get:function(){return this.SB.B_}},{key:"p_",get:function(){return this.SB.p_}},{key:"KP",get:function(){return this.SB.KP}},{key:"P_",get:function(){return this.SB.P_}},{key:"tB",get:function(){return this.SB.tB}},{key:"O_",get:function(){return this.SB.O_}},{key:"QP",get:function(){return this.SB.QP}},{key:"XO",get:function(){return this.SB.XO}},{key:"sw",get:function(){return this.QE.sw},set:function(t){this.QE.sw=t}},{key:"iw",get:function(){return this.SB.iw}},{key:"uw",get:function(){return this.SB.uw}},{key:"s_",get:function(){return this.SB.s_}},{key:"o_",get:function(){return this.SB.o_},set:function(t){this.SB.o_=t}},{key:"h_",get:function(){return this.QE.h_}},{key:"HB",get:function(){return this.IB.If||""},set:function(t){this.IB.TB=t}},{key:"a_",get:function(){return this.SB.a_},set:function(t){this.QE.a_=t}},{key:"ww",get:function(){return this.SB.ww},set:function(t){this.SB.ww=ST(t)}},{key:"kl",get:function(){return this.QE.kl}},{key:"c_",get:function(){return this.QE.c_}},{key:"ol",get:function(){return this.SB.ol}},{key:"f_",get:function(){return this.SB.f_}},{key:"v_",get:function(){return this.SB.v_}},{key:"d_",get:function(){return this.SB.d_},set:function(t){this.SB.d_=t}}]),i}(tg)}function NR(t,n){var i=Qg(n),e=new(pR||(pR=aR(pR=RR(sR),tR.nB),pR=aR(pR,tR.iB)),pR)(t,i),r=e.gd;return e.YP(),e.FB(gR),l.defineProperty(r,"constructor",{value:NR}),r=Tw(r),function(t){for(var n=0;n<cR.length;n++)(0,cR[n])(t)}(e),r}Xs(function(){t.dispatchEvent&&t.dispatchEvent(dR("theoplayerready"))});var DR,CR={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return wu(t)},n.decode=function(t){return lu(t)},t}())},xR=gR.gd,OR=gA.dT.registerContentProtectionIntegration.bind(gA.dT),PR=(Fc.ba,Fc.Aa,Eg.i_,Fc.La,Fc.Ta,Fc.ga,Fc.Na,Fc.Ra,Fc.la,Fc.Sa,Fc.Ma,Fc.va,Eg.xd,Fc.Ia,Xw.wl,Zs.es,Zs.ss,Fc.aa,Fc.ha,Fc.Ua,{VB:!1,zB:50}),BR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.kN="WB"}(DR||(DR={}));var LR,MR=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Ch=void 0,s.RS=void 0,s.zh=void 0,s.XB=!1,s.qB=new Ao,s.GB=!1,s.NB=new yR,s.QB=void 0,s.hr=void 0,s.ih=void 0,s.YB=function(){s.GB=!0},s.jB=function(){s.ZB(!0)},s.Ch=n,s.RS=i,s.zh=i.nE,s.QB=e,s.hr=r,s.zh.addEventListener("loadedmetadata",s.YB);for(var u=0;u<BR.length;u++){var o=BR[u];s.zh.addEventListener(o,s.jB)}return s}S(i,t);var e=i.prototype;return e.JB=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,Sr.awrap(i.vh());case 5:return e=r.sent,r.next=8,Sr.awrap(this.$B(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ve)},e.KB=function(t){var n=this.ih;return n?0!==t.sE.length&&t.sE.some(function(t){return t.eh.ir===n.eh}):0===t.sE.length||!this.GB},e.tL=function(t){return this.QB.tL(t),this.Ch=t,Ve.resolve()},e.Sr=function(){var t,n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Wr(),this.zh.removeEventListener("loadedmetadata",this.YB),t=0;t<BR.length;t++)n=BR[t],this.zh.removeEventListener(n,this.jB);return i.next=5,Sr.awrap(this.NB.Jf());case 5:return i.next=7,Sr.awrap(this.nL());case 7:return i.next=9,Sr.awrap(this.QB.Gd());case 9:return i.next=11,Sr.awrap(this.$B(void 0));case 11:case"end":return i.stop()}},null,this,null,Ve)},e.ZB=function(t){t!==this.XB&&(this.XB=t,t?this.qB.Rs(void 0):this.qB=new Ao)},e.$B=function(t){var n=this;return this.NB.yB(function(){return n.iL(t)})},e.iL=function(t){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.zh.src){e.next=4;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.zh.src){e.next=6;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.XB){e.next=9;break}return e.next=9,Sr.awrap(this.qB.Ss);case 9:if(!(i=this.ih)){e.next=14;break}return e.next=13,Sr.awrap(i.hh(this.zh));case 13:this.ih=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Sr.awrap(t.oh(this.zh));case 17:this.ih=t;case 18:case"end":return e.stop()}},null,this,null,Ve)},e.H_=function(t){var n=this;return this.NB.yB(function(){return n.eL(t)})},e.eL=function(t){this.ZB(!1);var n=this.RS.a_;this.zh.src=t,this.RS.a_=n},e.rL=function(t){var n=this;return this.NB.yB(function(){return n.sL(t)})},e.sL=function(t){this.eL(t),this.zh.load()},e.nL=function(){var t=this;return this.NB.yB(function(){return t.uL()})},e.uL=function(){this.ZB(!1),er(this.zh)},b(i,[{key:"x_",get:function(){throw new v("Not implemented")}},{key:"rh",get:function(){return this.Ch}},{key:"nE",get:function(){return this.zh}},{key:"O_",get:function(){throw new v("Not implemented")}}]),i}(Js),UR=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Xx=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rh,n.t0=t.oE,n.next=n.t0===sg.zl?4:n.t0===sg.Wl?4:(n.t0,sg.Vl,6);break;case 4:return this.zh.setAttribute("crossorigin",t.oE),n.abrupt("break",8);case 6:return this.zh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.ww?this.zh.preload=t.ww:this.zh.preload=bT.cS,void 0!==t.hE?this.zh.title=t.hE:nr(this.zh),n.next=12,Sr.awrap(this.H_(t.Tl));case 12:this.QB.Yo(this,t);case 13:case"end":return n.stop()}},null,this,null,Ve)},i.KB=function(t){return!1},i.tL=function(t){return Ve.resolve(void 0)},i.Sr=function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nr(this.zh),n.next=3,Sr.awrap(t.prototype.Sr.call(this));case 3:case"end":return n.stop()}},null,this,null,Ve)},n.oL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.hf))},b(n,[{key:"rw",get:function(){return CT.UI(this.zh.buffered)}},{key:"r_",get:function(){return this.zh.duration}},{key:"hL",get:function(){var t=this.r_;if(!isFinite(t))return!1;var n=this.rw;return 0!==n.Yd&&t-n.sI(n.Yd-1)<1/6}},{key:"ww",get:function(){return this.zh.preload},set:function(t){this.zh.preload=t}},{key:"gw",get:function(){return CT.UI(this.zh.seekable)}},{key:"aL",get:function(){return this.rw}},{key:"cL",get:function(){if(ir(this.zh)&&(this.zh.videoWidth>0||this.zh.videoHeight>0))return this.rw}}]),n}(MR),FR=function(t){function n(n){var i;return(i=t.call(this,Fc.Ta)||this).currentTime=n,i}return S(n,t),n}(Ks),HR=function(t){function n(){return t.call(this,Fc.ga)||this}return S(n,t),n}(Ks);!function(t){t.fL="vL"}(LR||(LR={}));var VR,zR;LR.fL;!function(t){t[t.dL=0]="dL",t[t.Wa=1]="Wa",t[t.lL=2]="lL"}(VR||(VR={})),function(t){t._L="wL"}(zR||(zR={}));var WR=function(t){function n(n){var i;return(i=t.call(this,zR._L)||this).gL=n,i}return S(n,t),n}(Ks),XR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yL=CT.VI(),n}S(n,t);var i=n.prototype;return i.mL=function(t,n){var i=new CT([t,n]);this.yL=this.yL.AI(i),this.Fr(new WR(i))},i.pL=function(t,n){this.yL=this.yL.TI(new CT([t,n]))},i.Gd=function(){this.yL=CT.VI()},i.Jf=function(){this.Wr()},b(n,[{key:"kL",get:function(){return this.yL}}]),n}(Js);function qR(t,n){return void 0===n&&(n=new Bd({highWaterMark:1/0})),new Ed(new QR(t,n),{highWaterMark:0})}var GR,QR=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.tc=void 0,this.AL=void 0,this.bL=void 0,this.ac=[],this.cc=0,this.yP=void 0,this.TL=!1,this.SL=void 0,this.EL=function(t){return t.done?(i.IL(),void i.yP.close()):(i.ac.push(t.value),i.cc+=i.AL(t.value),i.TL&&i.IL(),i.RL()?i.tc.read().then(i.EL):void 0)},this.xv=function(t){i.IL(),i.yP.error(t)},this.tc=t.getReader(),this.AL=r,this.bL=u}var n=t.prototype;return n.start=function(t){this.yP=t,this.RL()&&this.NL()},n.pull=function(){this.ac.length>0?this.IL():this.TL=!0,this.RL()&&this.NL()},n.cancel=function(t){return Rs(this.ac),this.cc=0,this.TL=!1,this.tc.cancel(t)},n.IL=function(){if(0!==this.ac.length){var t=this.ac;this.ac=[],this.cc=0,this.TL=!1,this.yP.enqueue(t)}},n.RL=function(){return!!this.TL||this.bL-this.cc>0},n.NL=function(){var t=this;if(!this.SL){var n=this.tc.read().then(this.EL).catch(this.xv);this.SL=n;var i=function(){t.SL===n&&(t.SL=void 0)};n.then(i,i)}},t}(),YR=function(){function t(){this.DL=[],this.ls=0}var n=t.prototype;return n.fB=function(t){this.DL.push(t),this.ls+=t.byteLength},n.CL=function(t){if(this.ls<=t)return this.xL();for(var n=this.DL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(fo(n[e],0,s)),i+=s}return{DL:r,ls:i}},n.OL=function(t){var n=this.CL(t);return 1===n.DL.length?n.DL[0]:ku(n.DL,n.ls)},n.xL=function(){return{DL:this.DL,ls:this.ls}},n.PL=function(t){if(this.ls<=t)return this.BL();for(var n=this.DL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(fo(n[0],0,s)),n[0]=fo(n[0],s),i+=s}return this.ls-=i,{DL:r,ls:i}},n.LL=function(t){var n=this.PL(t);return 1===n.DL.length?n.DL[0]:ku(n.DL,n.ls)},n.BL=function(){var t=this.xL();return this.DL=[],this.ls=0,t},n.ML=function(){var t=1===this.DL.length?this.DL[0]:ku(this.DL,this.ls);return this.DL=[],this.ls=0,t},t}();!function(t){t[t.UL=0]="UL",t[t.FL=1]="FL",t[t.HL=2]="HL"}(GR||(GR={}));var jR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).yP=void 0,n.VL=1e5,n.zL=void 0,n.WL=void 0,n}S(n,t);var i=n.prototype;return i.start=function(t){this.yP=t},i.transform=function(t){this.XL(t)},i.flush=function(){this.qL()},i.GL=function(t){return t===Im.Yy||t===Im.km||t===Im.Dm},i.QL=function(t){var n=this.YL(t);this.yP.enqueue(n)},i.jL=function(t){this.yP.enqueue(t)},i.YL=function(t){var n=_o(t.fi.fi);switch(t.nr){case"moov":return this.ZL(n);case"sidx":return this.JL(n);case"moof":return this.$L(n)}return n},i.ZL=function(t){for(var n=Va(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof oa?n.boxes[i]=this.KL(e):e instanceof ha?n.boxes[i]=this.tM(e):e instanceof la&&this.nM(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof ra&&this.iM(u)}return n.serialize().join()},i.KL=function(t){this.zL=t.timescale;var n=JR(Ot.fromNumber(t.duration),this.eM,this.VL);return 0!==n.getHighBits()?this.tM(function(t){return new ha({creation:Ot.fromNumber(t.creationTime),modification:Ot.fromNumber(t.modificationTime),scale:t.timescale,duration:Ot.fromNumber(t.duration)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.VL,t.duration=n.toInt(),t)},i.tM=function(t){return this.zL=t.timescale,t.timescale=this.VL,t.duration=JR(t.duration,this.eM,this.VL),t},i.nM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof fa?t.boxes[n]=this.rM(i):i instanceof va?t.boxes[n]=this.sM(i):i instanceof Uh?this.uM(i):i instanceof Dh&&this.oM(i)}},i.rM=function(t){var n=JR(Ot.fromNumber(t.duration),this.eM,this.VL);return 0!==n.getHighBits()?this.sM(function(t){return new va({creation:Ot.fromNumber(t.creationTime),modification:Ot.fromNumber(t.modificationTime),duration:Ot.fromNumber(t.duration)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.sM=function(t){return t.duration=JR(t.duration,this.eM,this.VL),t},i.uM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Ph?t.boxes[n]=this.hM(i):i instanceof Bh&&(t.boxes[n]=this.aM(i))}},i.hM=function(t){this.WL=t.timescale;var n=JR(Ot.fromNumber(t.duration),this.cM,this.VL);return 0!==n.getHighBits()?this.aM(function(t){return new Bh({creation:Ot.fromNumber(t.creationTime),modification:Ot.fromNumber(t.modificationTime),scale:t.timescale,duration:Ot.fromNumber(t.duration)},t.language,t.flags)}(t)):(t.timescale=this.VL,t.duration=n.toInt(),t)},i.aM=function(t){return this.WL=t.timescale,t.timescale=this.VL,t.duration=JR(t.duration,this.cM,this.VL),t},i.oM=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof Ih?this.fM(e):e instanceof Rh&&this.vM(e)}},i.fM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=ZR(e.mediaTime,this.eM,this.VL),e.segmentDuration=ZR(e.segmentDuration,this.eM,this.VL)}},i.vM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=JR(e.mediaTime,this.eM,this.VL),e.segmentDuration=JR(e.segmentDuration,this.eM,this.VL)}},i.iM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof ia?this.dM(i):i instanceof Kh?t.boxes[n]=this.lM(i):i instanceof ta&&(t.boxes[n]=this._M(i))}},i.dM=function(t){t.defaultSampleDuration=ZR(t.defaultSampleDuration,this.cM,this.VL)},i.lM=function(t){var n=JR(Ot.fromNumber(t.fragmentDuration),this.eM,this.VL);return 0!==n.getHighBits()?this._M(function(t){return new ta(Ot.fromNumber(t.fragmentDuration),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i._M=function(t){return t.fragmentDuration=JR(t.fragmentDuration,this.eM,this.VL),t},i.JL=function(t){var n=za(t);return(n=n instanceof xa?this.wM(n):this.gM(n)).serialize().join()},i.wM=function(t){var n=t.timescale,i=JR(Ot.fromNumber(t.earliestPresentationTime),n,this.VL);if(0!==i.getHighBits())return this.gM(function(t){return new Oa(t.referenceId,t.timescale,Ot.fromNumber(t.earliestPresentationTime),Ot.fromNumber(t.firstOffset),t.references,t.flags)}(t));t.timescale=this.VL,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=ZR(s.subsegmentDuration,n,this.VL)}return t},i.gM=function(t){var n=t.timescale;t.timescale=this.VL,t.earliestPresentationTime=JR(t.earliestPresentationTime,n,this.VL);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=ZR(r.subsegmentDuration,n,this.VL)}return t},i.$L=function(t){for(var n=Wa(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof Sa&&this.yM(s)}var u=n.getSize();if(u!==i)for(var o=u-i,h=0,a=n.boxes;h<a.length;h++){var c=a[h];c instanceof Sa&&this.mM(c,o)}return n.serialize().join()},i.yM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof ka?this.pM(i):i instanceof ya?t.boxes[n]=this.kM(i):i instanceof ma?t.boxes[n]=this.AM(i):i instanceof ba&&this.bM(i)}},i.pM=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=ZR(t.defaultSampleDuration,this.cM,this.VL))},i.kM=function(t){var n=JR(Ot.fromNumber(t.baseMediaDecodeTime),this.cM,this.VL);return 0!==n.getHighBits()?this.AM(function(t){return new ma(Ot.fromNumber(t.baseMediaDecodeTime),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.AM=function(t){return t.baseMediaDecodeTime=JR(t.baseMediaDecodeTime,this.cM,this.VL),t},i.bM=function(t){for(var n=0,i=0,e=0,r=t.samples;e<r.length;e++){var s=r[e];if(void 0!==s.duration){var u=ZR(i+=s.duration,this.cM,this.VL);s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=ZR(s.compositionTimeOffset,this.cM,this.VL))}},i.mM=function(t,n){var i=bs(t.boxes,$R);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof ba&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},b(n,[{key:"eM",get:function(){if(void 0===this.zL)throw new v("Expected to have found a movie header timescale.");return this.zL}},{key:"cM",get:function(){if(void 0===this.WL)throw new v("Expected to have found a media header timescale.");return this.WL}}]),n}(function(){var t=n.prototype;function n(){this.ac=new YR,this.Di=GR.UL,this.TM=0,this.SM=0,this.EM()}return t.IM=function(t,n){},t.RM=function(){},t.XL=function(t){this.ac.fB(t),this.NM(!1)},t.qL=function(){this.NM(!0)},t.DM=function(){return this.Di!==GR.UL||0!==this.ac.ls},t.NM=function(t){for(;0!==this.ac.ls;){if(!t&&this.TM>this.ac.ls)return;switch(this.Di){case GR.UL:this.CM(t);break;case GR.FL:this.xM(t);break;case GR.HL:this.OM(t)}}},t.EM=function(){this.Di=GR.UL,this.TM=8},t.CM=function(t){var n=lo(this.ac.OL(this.TM)),i=new po,e=gp.op(n,i);if(!e.np)return this.TM=e.ap,void(t&&this.TM>this.ac.ls&&this.PM(this.ac.ls));var r=e.hp.nr,s=e.hp.ls;0===s&&(s=1/0),this.IM(r,s),this.GL(r)?this.BM(s):this.PM(s)},t.BM=function(t){this.Di=GR.FL,this.TM=t},t.xM=function(t){var n=lo(this.ac.LL(this.TM)),i=new po,e=gp.ip(n,i,!t);if(!e.np)throw new wp(i.ks);this.RM(),this.QL(e.ep),this.EM()},t.PM=function(t){this.Di=GR.HL,this.TM=0,this.SM=t},t.OM=function(t){var n=this.ac.PL(this.SM);this.SM-=n.ls;for(var i=0,e=n.DL;i<e.length;i++){var r=e[i];this.jL(r)}(0===this.SM||t&&this.SM===1/0)&&(this.RM(),this.EM())},n}());function ZR(t,n,i){return Ot.fromInt(t).multiply(i).divide(n).toNumber()}function JR(t,n,i){return rm.xg(t).ty(rm.Og(i)).sy(rm.Og(n)).Wg()}function $R(t){return t instanceof ka}var KR=function(){function t(){this.LM=void 0,this.LM=new jR}return t.prototype.MM=function(t){return t.pipeThrough(new Ld(this.LM))},t}(),tN=20,nN=L.sn&&L.un<3,iN=L._n,eN=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).UM=void 0,r.FM=void 0,r.HM=void 0,r.Hx=tN,r.Vx=pI,r.VM=!1,r.zM=!1,r.WM=void 0,r.XM=new Ps,r.qM=void 0,r.GM=!1,r.QM=void 0,r.YM=function(){r.VM=!1},r.UM=i,r.FM=n,r.HM=e,r.HM.addEventListener("updateend",r.YM),nN&&(r.qM=new KR),r}S(n,t);var i=n.prototype;return i.jM=function(t,n,i){var e=this;switch(t.nr){case VR.dL:case VR.Wa:return this.ZM(function(i){return e.JM(t,n,i)},i);case VR.lL:throw new v("Opaque segments are not supported on web.")}},i.$M=function(t,n){var i=this;switch(t.nr){case VR.dL:return this.ZM(function(n){return i.KM(t,n)},n);case VR.Wa:throw new v("Streaming initialization segments are not supported on web.");case VR.lL:throw new v("Opaque initialization segments are not supported on web.")}},i.KM=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.tU(t,void 0,n));case 2:iN&&(this.GM=!1,this.QM=t);case 3:case"end":return i.stop()}},null,this,null,Ve)},i.JM=function(t,n,i){return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(iN&&this.GM&&this.QM)){e.next=3;break}return e.next=3,Sr.awrap(this.KM(this.QM,i));case 3:return e.prev=3,Ms(i),e.next=7,Sr.awrap(this.tU(t,n,i));case 7:this.Fr(new Ks(LR.fL));case 8:return e.prev=8,t.nr===VR.Wa&&t.fi.cancel(new Bs).catch(j),e.finish(8);case 11:case"end":return e.stop()}},null,this,[[3,,8,11]],Ve)},i.tU=function(t,n,i){var e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:Ms(i),n&&this.nU(n),s.t0=t.nr,s.next=s.t0===VR.dL?5:s.t0===VR.Wa?13:21;break;case 5:if(!nN){s.next=10;break}return e=this.qM.MM(Zd(t.fi)),s.next=9,Sr.awrap(this.iU(e,i));case 9:return s.abrupt("return",s.sent);case 10:return s.next=12,Sr.awrap(this.eU(t.fi));case 12:return s.abrupt("return",s.sent);case 13:if(!nN){s.next=18;break}return r=this.qM.MM(t.fi),s.next=17,Sr.awrap(this.iU(r,i));case 17:return s.abrupt("return",s.sent);case 18:return s.next=20,Sr.awrap(this.iU(t.fi,i));case 20:return s.abrupt("return",s.sent);case 21:case"end":return s.stop()}},null,this,null,Ve)},i.iU=function(t,n){var i,e,r,s,u,o,h,a;return Sr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.FM.rw,e=qR(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Sr.awrap(Hs(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return Ms(n),o=pu(u.value),s=!0,c.next=17,Sr.awrap(this.eU(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(j),!s){c.next=35;break}return c.next=27,Sr.awrap(this.rU());case 27:h=this.FM.rw.wI(i.gI()),a=0;case 29:if(!(a<h.Yd)){c.next=35;break}return c.next=32,Sr.awrap(this.sU(h.eI(a),h.sI(a)));case 32:a++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],Ve)},i.uU=function(t,n){var i=this;return this.ZM(function(){return i.oU(t,n)})},i.oU=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.HM.appendWindowStart===t&&this.HM.appendWindowEnd===n){i.next=6;break}return i.next=3,Sr.awrap(this.rU());case 3:this.HM.appendWindowStart=0,this.HM.appendWindowEnd=n,this.HM.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,Ve)},i.nU=function(t){this.HM.timestampOffset!==t.zy&&(this.HM.timestampOffset=t.zy)},i.eU=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.HM.appendBuffer(t),this.zM=!0,n.next=4,Sr.awrap(this.hU());case 4:case"end":return n.stop()}},null,this,null,Ve)},i.aU=function(t,n,i){var e=this;return this.ZM(function(i){return e.sU(t,n,i)},i)},i.sU=function(t,n,i){return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Ms(i),this.HM.remove(t,n),e.next=4,Sr.awrap(this.hU());case 4:case"end":return e.stop()}},null,this,null,Ve)},i.hU=function(){var t=this,n=this.FM.rw;return new Ve(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?(n.DI(t.FM.rw)||t.Fr(new Ks(LR.fL)),i()):e(new v(r))},c=function(){t.HM.removeEventListener("update",u),t.HM.removeEventListener("error",o),t.HM.removeEventListener("abort",h),t.HM.removeEventListener("updateend",a)};t.HM.addEventListener("update",u),t.HM.addEventListener("error",o),t.HM.addEventListener("abort",h),t.HM.addEventListener("updateend",a)})},i.cU=function(){var t=this;return this.ZM(function(){return t.rU()})},i.rU=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.UM.kl===pN.uv){t.next=2;break}return t.abrupt("return");case 2:iN&&(this.GM=!0),this.HM.updating&&(this.VM=!0);try{this.HM.abort()}catch(t){0,this.VM=!1}if(!this.BC){t.next=8;break}return t.next=8,Sr.awrap(this.hU().catch(j));case 8:case"end":return t.stop()}},null,this,null,Ve)},i.fU=function(){return"function"==typeof this.HM.changeType},i.vU=function(t){this.dU(),this.UM.kl!==pN.lU&&this.HM.changeType(t)},i._U=function(){this.UM.kl!==pN.la||this.WM||this.BC||(this.HM.timestampOffset=this.HM.timestampOffset,this.UM.wU())},i.ZM=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.dU(),(i=new Ps).xr(this.XM.Pr),n&&i.xr(n),e.prev=4,this.WM=t(i.Pr),e.next=8,Sr.awrap(this.WM);case 8:if(this.UM.wU(),!this.BC){e.next=12;break}return e.next=12,Sr.awrap(this.hU());case 12:return e.prev=12,this.WM=void 0,i.Sr(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],Ve)},i.dU=function(){if(this.WM)throw new v("Internal error")},i.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wr(),this.XM.Cr(),!this.WM){t.next=6;break}return t.next=5,Sr.awrap(this.WM.catch(j));case 5:this.WM=void 0;case 6:this.HM.removeEventListener("updateend",this.YM);case 7:case"end":return t.stop()}},null,this,null,Ve)},b(n,[{key:"Ox",get:function(){return this.Hx},set:function(t){this.Hx=t}},{key:"Mx",get:function(){return this.Vx},set:function(t){this.Vx=t}},{key:"BC",get:function(){return this.VM||this.HM.updating}}]),n}(Js),rN=function(){function t(t,n){this.gU=void 0,this.HM=void 0,this.yU=void 0,this.gU=n,this.HM=t}var n=t.prototype;return n.hL=function(){return!!this.yU&&this.rw.fI().pE(this.yU)},n.mU=function(){var t=this.rw;this.yU=t.Yd>0?t.sI(t.Yd-1):0,this.gU.pU()},n._U=function(){this.yU=void 0},b(t,[{key:"rw",get:function(){if(this.gU.kl===pN.lU)return CT.VI();var t=CT.UI(this.HM.buffered).wI(new CT([0,1/0])),n=this.yU;return void 0!==n&&t.Yd>0&&t.sI(t.Yd-1)===n&&(t=t.AI(CT.HI(n))),t}}]),t}();function sN(t){var n=t._h("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function uN(t,n){var i=oN(t)||hN(t),e=oN(n)||hN(n);return!i&&!e||t===n}function oN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function hN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function aN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],h=e[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function cN(t,n,i,e,r,s){var u=new rN(r,t),o=new eN(u,t,r);return new fN(t,n,i,e,u,o,s)}var fN=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).UM=void 0,h.Ch=void 0,h.kU=void 0,h.RS=void 0,h.Rh=void 0,h.AU=void 0,h.FM=void 0,h.bU=void 0,h.TU=Rr(),h.UM=n,h.Ch=e,h.Rh=e.hf,h.kU=r,h.RS=i,h.FM=s,h.bU=u,h.AU=o,h.bU.Hr(LR.fL,h.Ur),h}S(n,t);var i=n.prototype;return i.hL=function(){return this.FM.hL()},i.mU=function(){this.FM.mU()},i._U=function(){this.FM._U(),this.bU._U()},i.SU=function(t,n){this.AU.mL(t,n)},i.EU=function(t,n){this.AU.pL(t,n)},i.IU=function(){return this.bU.cU()},i.jM=function(t,n,i){return this.bU.jM(t,n,i)},i.$M=function(t,n){return this.bU.$M(t,n)},i.uU=function(t,n){return this.bU.uU(t,n)},i.jo=function(t,n,i){var e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.EU(t,n),e=this.rw,s.next=4,Sr.awrap(this.bU.aU(t,n,i));case 4:r=0!==e.Yd&&0===this.rw.Yd,(L.mn||L.hn)&&r&&this.RS.ys(this.RS.e_);case 6:case"end":return s.stop()}},null,this,null,Ve)},i.KB=function(t){var n=t.hf;if(this.Rh===n)return!0;var i=this.TU.get(n);if(void 0!==i)return i;var e=this.RU(t);return this.TU.set(n,e),e},i.RU=function(t){var n=t.hf;if(!MediaSource.isTypeSupported(n))return!1;var i=$a(this.Rh),e=$a(n),r=sN(i),s=sN(e);if(this.bU.fU()){if(!function(t,n){return xs(t,n,uN)}(r,s))return!1}else{if(i.nr!==e.nr)return!1;if(!function(t,n){return xs(t,n,aN)}(r,s))return!1}return!0},i.tL=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.hf,this.Rh!==n&&(this.TU.clear(),this.bU.fU()&&this.bU.vU(n),this.Rh=n),this.Ch=t,this.UM.NU();case 4:case"end":return i.stop()}},null,this,null,Ve)},i.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.TU.clear(),this.Wr(),this.AU.Jf(),t.prev=3,this.bU.Xr(LR.fL,this.Ur),t.next=7,Sr.awrap(this.bU.Sr());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],Ve)},b(n,[{key:"rw",get:function(){return this.FM.rw}},{key:"rh",get:function(){return this.Ch}},{key:"hf",get:function(){return this.Rh}},{key:"DU",get:function(){return this.AU.kL}},{key:"Ox",get:function(){return this.bU.Ox},set:function(t){this.bU.Ox=t}},{key:"Mx",get:function(){return this.bU.Mx},set:function(t){this.bU.Mx=t}},{key:"BC",get:function(){return this.bU.BC}}]),n}(Js),vN=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.CU=void 0,this.eI=t,this.sI=n,this.xU=i,this.OU=e,this.CU=gE()}return t.prototype.PU=function(){var t=this.eI,n=this.sI;if(this.xU||this.OU){var i=.001*(gE()-this.CU);this.xU&&(t+=i),this.OU&&(n+=i)}return t>=n?CT.VI():new CT([t,n])},t}(),dN=100,lN=1e3,_N=1e4,wN=.01,gN=[Fc.ba,Fc.Aa,Fc.Na,Fc.Ra,Fc.la,Fc.Sa,Eg.xd,Xw.wl],yN=function(){function t(t,n){var e=this;this.ab=ag.Gl,this.BU=!1,this.LU=[],this.MU=void 0,this.UU=0,this.FU=0,this.HU=0,this.VU=0,this.zU=0,this.WU=lN,this.XU=function(t){var n=e.RS.e_;t.gL.pE(n)&&e.qU(n)},this.GU=J(function(){e.QU(Eg.xd)},dN),this.YU=J(function(){e.QU(Fc.Ta)},dN),this.jU=function(){e.ZU()?e.JU():e.$U()},this.KU=function(){var t=e.UU,n=e.HU,r=e.RS.e_,s=i.ce(),u=t!==r;if(u||!e.ZU())return e.UU=r,e.HU=s,void(u&&(e.zU=0,e.WU=lN));if(n>0&&s>n+e.WU){var o=r+e.zU*wN,h=e.FM.rw;h.pE(o)||(o=e.tF(r,h)),e.UU=o,e.HU=s,e.zU++,e.WU=_.min(2*e.WU,_N),e.RS.ys(o)}},this.FM=t,this.RS=n,this.RS.Hr(Eg.xd,this.GU),this.RS.Hr(Fc.Ta,this.YU),this.RS.Hr(gN,this.jU)}var n=t.prototype;return n.nF=function(t){this.LU.push(t),t.Hr(zR._L,this.XU)},n.Jf=function(){var t=this;this.$U(),this.ab=ag.Gl,this.RS.Xr(Eg.xd,this.GU),this.RS.Xr(Fc.Ta,this.YU),this.RS.Xr(gN,this.jU),this.LU.forEach(function(n){return n.Xr(zR._L,t.XU)}),void 0!==this.MU&&(i.Dn(this.MU),this.MU=void 0),this.BU=!0},n.QU=function(t){if(!this.BU){var n=this.RS.kl;if(n<=ag.Yl){var i=this.RS.e_,e=this.FM.rw,r=e.SI(i),s=e.sI(r);-1!==r&&(t===Eg.xd&&n<this.ab||t===Fc.Ta&&n===this.ab)&&s<i+.5&&(i=s),this.qU(i)}t===Eg.xd&&(this.ab=n)}},n.qU=function(t){var n=this;if(!this.RS.s_){var e=this.kL.TI(this.FM.rw).fI(),r=e.SI(t);if(-1!==r)if(!(_.abs(e.eI(r)-e.sI(r))<=.001))if(i.nd){if(void 0!==this.MU)return;this.FU=this.RS.e_,this.MU=i.Cn(function(){n.FU===n.RS.e_&&n.RS.ys(e.sI(r)),n.MU=void 0},1500)}else this.RS.ys(e.sI(r))}},n.JU=function(){0===this.VU&&(this.VU=i.ke(this.KU,250))},n.$U=function(){0!==this.VU&&(i.Ae(this.VU),this.VU=0),this.RS.c_||(this.HU=0)},n.ZU=function(){return!this.RS.h_&&!this.RS.c_&&0!==this.RS.a_&&!this.RS.s_&&!this.RS.ts&&this.RS.kl>=ag.jl},n.tF=function(t,n){var i=n.SI(t);return i>-1?n.sI(i):t},b(t,[{key:"kL",get:function(){return this.LU.reduce(function(t,n){return t.AI(n.kL)},CT.VI())}}]),t}();function mN(t){var n=[];if(t.iF&&n.push(t.iF.rw),t.eF&&n.push(t.eF.rw),0===n.length)return CT.VI();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.Yd>0&&(i=_.max(i,r.sI(r.Yd-1)))}for(var s=t.hL,u=new CT([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Yd>0&&(h=h.AI(new CT([h.sI(h.Yd-1),i],[!0,!0]))),u=u.wI(h)}return u}var pN,kN=L.an||L.cn;!function(t){t.lU="closed",t.uv="open",t.la="ended"}(pN||(pN={}));var AN=function(){function t(){}return t.prototype.rF=function(){return new MediaSource},t}(),bN=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new AN),(u=t.call(this,n,i,e,r)||this).sF=void 0,u.uF=void 0,u.oF=void 0,u.hF=new vN(0,1/0),u.NS=void 0,u.aF=void 0,u.cF=void 0,u.fF=!1,u.vF=function(){u.dF()},u.lF=function(){u.RS.lF()},u.sF=s,u.NS=u.sF.rF(),u.RS.Hr(Fc.Na,u.vF),u.cF=new yN(Yt(u),u.RS),u}S(n,t);var i=n.prototype;return i._F=function(t){if(y(t)||t<0)throw new v("Invalid duration");this.wF()?this.gF(t):this.aF=t},i.gF=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.NS.setLiveSeekableRange){var e=_.pow(2,39);this.NS.setLiveSeekableRange(0,e)}this.NS.duration=i,this.aF=void 0},i.yF=function(t,n,i,e){this.hF=new vN(t,n,!!i,!!e)},i.Xx=function(){var t,n,i,e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=this.Ch,n=bs(t.mF,function(t){return ns(t.hf,"audio")}),i=bs(t.mF,function(t){return ns(t.hf,"video")}),o.next=5,Sr.awrap(this.pF());case 5:n&&(e=new XR,this.cF.nF(e),r=this.NS.addSourceBuffer(n.hf),this.uF=cN(this,this.RS,n,_y.Vf,r,e),this.uF.Hr(LR.fL,this.lF)),i&&(s=new XR,this.cF.nF(s),u=this.NS.addSourceBuffer(i.hf),this.oF=cN(this,this.RS,i,_y.zf,u,s),this.oF.Hr(LR.fL,this.lF)),this.QB.Yo(this,t);case 8:case"end":return o.stop()}},null,this,null,Ve)},i.pF=function(){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.NS),i.next=3,Sr.awrap(t.prototype.rL.call(this,n));case 3:if(this.kl===pN.uv){i.next=6;break}return i.next=6,Sr.awrap(ow(this.NS,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,Ve)},i.wF=function(){if(this.kl!==pN.uv)return!1;var t=this.uF&&this.uF.BC,n=this.oF&&this.oF.BC;return!(t||n)},i.mU=function(){this.fF=!0,this.uF&&this.uF.mU(),this.oF&&this.oF.mU(),this.fF=!1,this.dF()},i._U=function(){this.uF&&this.uF._U(),this.oF&&this.oF._U()},i.KB=function(n){var i=bs(n.mF,function(t){return ns(t.hf,"audio")}),e=bs(n.mF,function(t){return ns(t.hf,"video")});if(this.uF){if(!i)return!1;if(!this.uF.KB(i))return!1}else if(i)return!1;if(this.oF){if(!e)return!1;if(!this.oF.KB(e))return!1}else if(e)return!1;return!!t.prototype.KB.call(this,n)},i.tL=function(n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=bs(n.mF,function(t){return ns(t.hf,"audio")}),e=bs(n.mF,function(t){return ns(t.hf,"video")}),r=[],this.uF&&r.push(this.uF.tL(i)),this.oF&&r.push(this.oF.tL(e)),s.next=7,Sr.awrap(Ve.all(r));case 7:return s.next=9,Sr.awrap(t.prototype.tL.call(this,n));case 9:case"end":return s.stop()}},null,this,null,Ve)},i.Sr=function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.uF){n.next=4;break}return n.next=3,Sr.awrap(this.uF.Sr());case 3:this.uF=void 0;case 4:if(!this.oF){n.next=8;break}return n.next=7,Sr.awrap(this.oF.Sr());case 7:this.oF=void 0;case 8:return this.zh.src&&URL.revokeObjectURL(this.zh.src),this.RS.Xr(Fc.Na,this.vF),this.cF.Jf(),n.next=13,Sr.awrap(t.prototype.Sr.call(this));case 13:case"end":return n.stop()}},null,this,null,Ve)},i.NU=function(){var t=this,n=this.Ch,i=n.mF.map(function(n){return ns(n.hf,"audio")&&t.uF?t.uF.rh:ns(n.hf,"video")&&t.oF?t.oF.rh:n});this.Ch=Er({},n,{mF:i})},i.pU=function(){this.fF||this.dF()},i.dF=function(){this.kF&&this.wF()&&(this.NS.endOfStream(),this.aF=void 0,this.Fr(new Ks(DR.kN)),this.RS.lF())},i.wU=function(){this.wF()&&(this.hL?this.dF():void 0!==this.aF&&this.gF(this.aF))},n.oL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.mF;n<i.length;n++){var e=i[n];if(!MediaSource.isTypeSupported(e.hf))return!1}return!0},b(n,[{key:"iF",get:function(){return this.uF}},{key:"eF",get:function(){return this.oF}},{key:"r_",get:function(){if(this.aF)return this.aF;var t=this.NS.duration;return 9007199254740991===t?1/0:t}},{key:"rw",get:function(){return kN?mN(this):(t=this,n=CT.UI(this.zh.buffered),(i=n).Yd>0&&t.hL&&(i=i.AI(CT.HI(i.sI(i.Yd-1)))),i);var t,n,i}},{key:"aL",get:function(){var t;return null==(t=this.uF)?void 0:t.rw}},{key:"cL",get:function(){var t;return null==(t=this.oF)?void 0:t.rw}},{key:"gw",get:function(){return this.hF.PU().wI(new CT([0,this.r_],[!0,!0]))}},{key:"hL",get:function(){return(!this.uF||this.uF.hL())&&(!this.oF||this.oF.hL())}},{key:"kl",get:function(){return this.NS.readyState}},{key:"kF",get:function(){if(!this.hL)return!1;var t=this.rw;return 0!==t.Yd&&t.eI(t.Yd-1)<=this.RS.e_}}]),n}(MR),TN=[Fc.Ma,Fc.Sa,Fc.Na,Fc.ba,Fc.Aa],SN=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this)||this).GI=n,c.bu=i,c.AF=e,c.YI=r,c.ZI=s,c.QI=u,c.jI=o,c.Bu=h,c.bF=a,c}S(n,t);var i=n.prototype;return i.M_=function(){this.YI||(this.YI=!0,this.Fr(new Rg(this.e_)))},i.L_=function(){this.YI&&(this.YI=!1,this.Fr(new Ng(this.e_)))},i.Sr=function(){this.Wr()},b(n,[{key:"e_",get:function(){return this.GI},set:function(t){this.e_!==t&&(this.GI=t,this.ZI=!0,this.Fr(new Fg(this.e_)))}},{key:"r_",get:function(){return this.bu}},{key:"s_",get:function(){return this.AF}},{key:"h_",get:function(){return this.YI}},{key:"kl",get:function(){return this.bF}},{key:"c_",get:function(){return this.ZI}},{key:"o_",get:function(){return this.QI},set:function(t){this.o_!==t&&(this.QI=t,this.Fr(new Vg(this.e_,this.d_)))}},{key:"a_",get:function(){return this.jI},set:function(t){this.a_!==t&&(this.jI=t,this.Fr(new Bg(this.e_,this.a_)))}},{key:"d_",get:function(){return this.Bu},set:function(t){this.d_!==t&&(this.Bu=t,this.Fr(new Vg(this.e_,this.d_)))}}]),n}(Js);var EN=function(t){function n(n){var i;return(i=t.call(this)||this).RS=void 0,i.ab=ag.Gl,i.TF=function(){i.SF()},i.RS=n,i}S(n,t);var i=n.prototype;return i.EF=function(t){this.ab!==t&&(this.ab=t,this.Fr(new Xg(this.RS.e_,t)))},i.SF=function(){this.EF(this.pO())},i.Gd=function(){this.EF(ag.Gl)},i.Sr=function(){this.Wr()},b(n,[{key:"kl",get:function(){return this.pO()}}]),n}(Js),IN=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],RN=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<IN.length;e++){var r=IN[e];i.RS.nE.addEventListener(r,i.TF)}return i}S(n,t);var i=n.prototype;return i.pO=function(){var t=this.RS.nE.readyState;return t>ag.Yl&&this.RS.IF?ag.Yl:(this.RS.nE.seeking&&t>ag.Ql&&(t=ag.Ql),t)},i.Sr=function(){for(var n=0;n<IN.length;n++){var i=IN[n];this.RS.nE.removeEventListener(i,this.TF)}t.prototype.Sr.call(this)},n}(EN),NN=function(t){function n(n){var i;(i=t.call(this,n)||this).RS.Hr(Fc.Na,i.TF);for(var e=0;e<IN.length;e++){var r=IN[e];i.RS.nE.addEventListener(r,i.TF)}return i}S(n,t);var i=n.prototype;return i.pO=function(){if(this.RS.nE.readyState===ag.Gl)return ag.Gl;var t=this.RF(),n=t?t.sI-t.eI:0;if(!t)return ag.Ql;var i=this.RS.a_;return this.NF()||n>=3*i?ag.Zl:n>=3?ag.jl:ag.Yl},i.RF=function(){var t=this.RS.e_,n=this.RS.rw.kI(.04),i=n.SI(t);if(!(i<0))return{eI:t,sI:n.sI(i)}},i.NF=function(){if(this.RS.s_)return!0;var t=this.RS.r_,n=this.RF();return!!n&&t-n.sI<=1/6},i.Sr=function(){this.RS.Xr(Fc.Na,this.TF);for(var n=0;n<IN.length;n++){var i=IN[n];this.RS.nE.removeEventListener(i,this.TF)}t.prototype.Sr.call(this)},n}(EN),DN=[Eg.xd,Fc.ba,Fc.Aa,Fc.Na,Fc.Ra,Fc.la,Xw.wl],CN=function(t){function n(n){var i;return(i=t.call(this,n)||this).zh=void 0,i.DF=!1,i.CF=function(){i.DF=!0,i.Zo()},i.zh=n.nE,i.zh.addEventListener(Eg.i_,i.CF),i}S(n,t);var i=n.prototype;return i.xF=function(){return this.DF&&t.prototype.xF.call(this)},i.Zo=function(){this.DF&&(this.zh.paused||this.zh.ended||this.zh.error)&&(this.DF=!1),t.prototype.Zo.call(this)},i.Gd=function(){t.prototype.Gd.call(this),this.DF=!1},i.Sr=function(){this.zh.removeEventListener(Eg.i_,this.CF),t.prototype.Sr.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).kb=void 0,i.OF=!1,i.LC=function(){i.Zo()},i.kb=n,i.kb.Hr(DN,i.LC),i}S(n,t);var i=n.prototype;return i.PF=function(){return this.kb.kl<ag.jl},i.xF=function(){return!this.kb.c_&&!(this.kb.h_||this.kb.s_||this.kb.ts||this.PF())},i.Zo=function(){var t=this.OF;this.OF=this.xF(),!t&&this.OF&&this.Fr(new Vk(this.kb.e_))},i.Gd=function(){this.OF=!1},i.Sr=function(){this.Wr(),this.kb.Xr(DN,this.LC)},n}(Js)),xN=function(t){function n(n){var i;return(i=t.call(this,Xw.wl)||this).ts=void 0,i.ts=n,i}return S(n,t),n}(Ks);function ON(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=e(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(r&&a>s&&0===e(i(t[a-1]),n)))return a;h=a-1}}return~o}function PN(t,n){return t.Uw<=n&&t.Fw>n}function BN(t,n){return function(t,n){return ks(t.Uw,n.Uw,qy)}(t,n)||function(t,n){return ks(t.Fw,n.Fw,qy)}(t,n)}function LN(t,n){var i=ON(t,n,Z,BN,!0);if(i<0)return i;for(;i<t.length&&BN(n,t[i])===ds.wr;i++)if(t[i].eg(n))return i;return-(i+1)}function MN(t){var n=t.md;if(!n)return-1;if(t instanceof Qy)return n.BF(t);var i=n.Al;if(!i)return-1;var e=LN(i.Qd,t);return e>=0?e:-1}function UN(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],h=[];s<e&&u<r;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<e;)h.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{LF:o,MF:h}}(t,n,BN);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var FN=function(){function t(t){this.UF=void 0,this.wd=void 0,this.UF=t}var n=t.prototype;return n.yd=function(){return function(t){for(var n=[],i=0;i<t.Yd;i++)n[i]=t.cs(i).gd;return n.item=function(n){var i=0|n,e=t.cs(i);return e&&e.gd||void 0},l.defineProperty(n,"constructor",{value:Wy}),n}(this)},n.kw=function(t){for(var n=this.UF,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.eg(e))return!0}return!1},n.cs=function(t){return this.UF[t]},b(t,[{key:"Qd",get:function(){return this.UF}},{key:"Yd",get:function(){return this.UF.length}},{key:"gd",get:function(){if(this.wd){var t=this.UF;this.wd.length=t.length;for(var n=0;n<t.length;n++)this.wd[n]=t[n].gd}else this.wd=this.yd();return this.wd}}]),t}(),HN=function(t){function n(n,i){var e;return(e=t.call(this,dw.xd)||this).md=n,e.kl=i,e}return S(n,t),n.prototype.yd=function(){return new VN(this.md.gd,Jw(this.kl))},n}(lw),VN=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(_w),zN=function(t){function n(n){var i;return(i=t.call(this,dw.Pd)||this).md=n,i}return S(n,t),n.prototype.yd=function(){return new WN(this.md.gd)},n}(lw),WN=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(_w),XN=function(t){function n(n){var i;return(i=t.call(this,dw.pd)||this).Mw=n,i}return S(n,t),n.prototype.yd=function(){return new qN(this.Mw.gd)},n}(lw),qN=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(_w),GN=function(t){function n(n){var i;return(i=t.call(this,dw.Ad)||this).Mw=n,i}return S(n,t),n.prototype.yd=function(){return new QN(this.Mw.gd)},n}(lw),QN=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(_w),YN=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).wd=void 0,a.Bo=void 0,a.Tw=ky(),a.FF=!1,a.HF=void 0,a.VF=void 0,a.bw=void 0,a.Tu=void 0,a.lR=Ww.dl,a.bF=Ny.NONE,a.zF=void 0,a.di=void 0,a.WF=void 0,a.UF=[],a.XF=[],a.qF=void 0,a.GF=void 0,a.QF=0,a.YF=0,a.Bo=i||"",a.HF=h||"",a.VF=n,a.Tu=r||"",a.FF=Boolean(s),a.WF=Boolean(o),a.di=u||Dy.DEFAULT,a.bw=e||"",a.qF=new FN(a.UF),a.GF=new FN(a.XF),a}S(n,t);var i=n.prototype;return i.jF=function(t){return bs(this.qF.Qd,function(n){return n.ul===t})},i.yd=function(){return Yw(this)},i.DR=function(t){var n=Gw(t);n!==this.yl&&(this.lR=n,n===Ww.dl&&(this.XF.forEach(function(t){t.rg=!1}),Rs(this.XF),this.YF=0),this.Fr(new kw(this)))},i.eb=function(t){if(t&&!t.md){var n=LN(this.Al.Qd,t);if(!(n>=0)){t.md=this;var i=-(n+1);this.UF.splice(i,0,t),this.ZF(i),t.ig=i,i<this.YF&&(this.YF=i),this.Fr(new XN(t))}}},i.JF=function(t){if(t&&t.md===this){var n=this.BF(t);if(!(n<0)){t.rg=!1;var i=this.XF,e=LN(i,t);e>=0&&Es(i,e),Es(this.UF,n),this.ZF(n),t.ig=-1,this.YF>n&&--this.YF,this.Fr(new GN(t))}}},i.KF=function(t,n){var i=this.XF,e=this.UF,r=this.YF,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){PN(i[u],t)||(s=!0,Es(i,u))}for(;r<e.length&&e[r].Uw<=t;){var o=e[r];if(0===t)break;PN(o,t)&&!Is(i,o)&&(s=!0,i.push(o)),r++}s&&ws(i,BN),this.YF=r},i.BF=function(t){return(-1===t.ig||t.ig>=this.QF)&&this.tH(),t.ig},i.tH=function(){for(var t=this.UF,n=this.QF;n<t.length;n++)t[n].ig=n;this.QF=t.length},i.ZF=function(t){t<this.QF&&(this.QF=t)},i.ml=function(t){this.pl||(this.yl=t)},i.Jf=function(){this.Wr();for(var t=this.UF.slice(),n=0;n<t.length;n++){t[n].Jf()}Rs(this.UF),Rs(this.XF)},b(n,[{key:"bl",get:function(){return this.GF}},{key:"Al",get:function(){return this.qF}},{key:"ub",get:function(){return this.FF},set:function(t){this.FF=t}},{key:"pl",get:function(){return this.WF}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}},{key:"ul",get:function(){return this.Bo}},{key:"ol",get:function(){return this.Tw}},{key:"gl",get:function(){return this.HF},set:function(t){this.HF=t}},{key:"hl",get:function(){return this.VF}},{key:"al",get:function(){return this.bw},set:function(t){t!==this.bw&&(this.bw=t,this.Fr(new yy(this)))}},{key:"cl",get:function(){return this.Tu}},{key:"yl",get:function(){return this.lR},set:function(t){this.DR(t)}},{key:"kl",get:function(){return this.bF},set:function(t){this.bF!==t&&(this.bF=t,this.Fr(new HN(this,this.bF)))}},{key:"Tl",get:function(){return this.zF},set:function(t){this.zF=t}},{key:"nr",get:function(){return this.di},set:function(t){this.di!==t&&(this.di=t,this.Fr(new zN(this)))}}]),n}(Js),jN=function(t){function n(n,i){var e;return(e=t.call(this,Py.Ow,n)||this).oy=i,e}return S(n,t),n.prototype.yd=function(){return new ZN(this.Mw.gd)},n}(Hy),ZN=function(t){function n(n){return t.call(this,By.Ow,n)||this}return S(n,t),n}(Vy),JN=function(t){function n(n,i){var e;return(e=t.call(this,Py.Bw,n)||this).oy=i,e}return S(n,t),n.prototype.yd=function(){return new $N(this.Mw.gd)},n}(Hy),$N=function(t){function n(n){return t.call(this,By.Bw,n)||this}return S(n,t),n}(Vy),KN=function(t){function n(n){var i;return(i=t.call(this,dw.Td)||this).Mw=n,i}return S(n,t),n.prototype.yd=function(){return new tD(this.Mw.gd)},n}(lw),tD=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(_w),nD=function(t){function n(n){var i;return(i=t.call(this,dw.Ed)||this).Mw=n,i}return S(n,t),n.prototype.yd=function(){return new iD(this.Mw.gd)},n}(lw),iD=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(_w),eD=function(t){function n(n){var i;return(i=t.call(this)||this).nH=void 0,i.Tw=void 0,i.Jw=void 0,i.wd=void 0,i.$w=!1,i.ng="",i.iH=function(){i.rg=!0},i.eH=function(){i.rg=!1},i.Tw=Sy(),i.nH=n,i.nH.addEventListener("enter",i.iH),i.nH.addEventListener("exit",i.eH),i}S(n,t);var i=n.prototype;return i.yd=function(){return zy(this)},i.eg=function(t){return this===t||Nw(this,t)&&Gy(this,t)},i.Jf=function(){this.Wr(),this.nH.removeEventListener("enter",this.iH),this.nH.removeEventListener("exit",this.eH)},b(n,[{key:"ol",get:function(){return this.Tw}},{key:"Uw",get:function(){return this.nH.startTime},set:function(t){this.nH.startTime=t}},{key:"Fw",get:function(){return this.nH.endTime},set:function(t){this.nH.endTime=t}},{key:"Hw",get:function(){return this.nH.text},set:function(t){this.nH.text=t+""}},{key:"ug",get:function(){return!!this.nH.pauseOnExit},set:function(t){this.nH.pauseOnExit=!!t}},{key:"md",get:function(){return this.Jw},set:function(t){this.Jw=t}},{key:"ul",get:function(){return this.nH.id||""}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}},{key:"sg",get:function(){return this.ng},set:function(t){this.ng=t}},{key:"rg",get:function(){return this.$w},set:function(t){this.rg!==t&&(this.$w=t,t?(this.Fr(new jN(this,this.Uw)),this.Jw&&this.Jw.Fr(new KN(this))):(this.Fr(new JN(this,this.Fw)),this.Jw&&this.Jw.Fr(new nD(this))))}}]),n}(Kw),rD=function(t){function n(n){var i;return(i=t.call(this,dw.Rd)||this).md=n,i}return S(n,t),n.prototype.yd=function(){return new sD(this.md.gd)},n}(lw),sD=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(_w);function uD(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new oD(t),t.THEOplayerVTTRegion=n),n}}var oD=function(){function t(t){this.rH=void 0,this.wd=void 0,this.rH=t}return b(t,[{key:"sH",get:function(){return this.rH}},{key:"ul",get:function(){return this.rH.id||""}},{key:"dg",get:function(){return+this.rH.width||0},set:function(t){this.rH.width=t||0}},{key:"og",get:function(){return+this.rH.lines||0},set:function(t){this.rH.lines=t||0}},{key:"hg",get:function(){return+this.rH.regionAnchorX||0},set:function(t){this.rH.regionAnchorX=t||0}},{key:"ag",get:function(){return+this.rH.regionAnchorY||0},set:function(t){this.rH.regionAnchorY=t||0}},{key:"fg",get:function(){return+this.rH.viewportAnchorX||0},set:function(t){this.rH.viewportAnchorX=t||0}},{key:"vg",get:function(){return+this.rH.viewportAnchorY||0},set:function(t){this.rH.viewportAnchorY=t||0}},{key:"cg",get:function(){return this.rH.scroll||""}},{key:"gd",get:function(){return this.wd||(this.wd=tm(this)),this.wd}}]),t}(),hD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),b(n,[{key:"Yw",get:function(){return this.nH.vertical||""},set:function(t){this.nH.vertical=t||""}},{key:"Qw",get:function(){return!!this.nH.snapToLines},set:function(t){this.nH.snapToLines=!!t}},{key:"zw",get:function(){return this.nH.line},set:function(t){this.nH.line=t}},{key:"ls",get:function(){return+this.nH.size},set:function(t){this.nH.size=Bt(t,0,100)}}]),n}(eD),aD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.eg=function(n){return this===n||Nw(this,n)&&t.prototype.eg.call(this,n)&&Yy(this,n)},b(n,[{key:"Gw",get:function(){return uD(this.nH.region)}},{key:"Ww",get:function(){return this.nH.lineAlign||"start"},set:function(t){this.nH.lineAlign=t||"start"}},{key:"Xw",get:function(){return this.nH.position},set:function(t){this.nH.position=t}},{key:"qw",get:function(){return this.nH.positionAlign||"auto"},set:function(t){this.nH.positionAlign=t||"auto"}},{key:"Vw",get:function(){return this.nH.align||"center"},set:function(t){this.nH.align=t||"center"}},{key:"gd",get:function(){return this.wd||(this.wd=Xy(this)),this.wd}}]),n}(hD),cD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.eg=function(n){return this===n||Nw(this,n)&&t.prototype.eg.call(this,n)&&Yy(this,n)},b(n,[{key:"Gw",get:function(){return uD(this.sH)}},{key:"sH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.nH.track,this.nH.regionId)}},{key:"Ww",get:function(){return"middle"===(t=this.nH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.nH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"Xw",get:function(){return this.nH.position},set:function(t){var n,i;this.nH.position=(n=t,i=this.Vw,Fy(n,i))}},{key:"qw",get:function(){return t=this.nH.positionAlign||"middle",My[t];var t},set:function(t){var n,i;this.nH.positionAlign=(n=t||"center",i=this.Vw,Ly[Uy(n,i)])}},{key:"Vw",get:function(){return"middle"===(t=this.nH.align||"middle")?"center":t;var t},set:function(t){var n;this.nH.align="center"===(n=t||"center")?"middle":n}},{key:"gd",get:function(){return this.wd||(this.wd=Xy(this)),this.wd}}]),n}(hD);function fD(t,n){return t.Hw===n.Hw}function vD(t,n,i){for(var e=t[n].Uw,r=n;r>=0&&t[r].Uw===e;r--)t[r].Fw=i}function dD(t){return zy(t)}var lD,_D,wD=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).uH=void 0,e.uH=i,e}return S(n,t),n.prototype.eg=function(n){return this===n||Nw(this,n)&&t.prototype.eg.call(this,n)&&fD(this,n)},b(n,[{key:"Hw",get:function(){return this.uH}},{key:"gd",get:function(){return this.wd||(this.wd=dD(this)),this.wd}}]),n}(eD);function gD(t){switch(t){case lD.ISO_8859_1:case lD.UTF16_BOM:case lD.UTF16:case lD.UTF8:return!0}return!1}function yD(t){switch(t){case lD.ISO_8859_1:return Ju;case lD.UTF16_BOM:return to;case lD.UTF16:return no;case lD.UTF8:return ho}}function mD(t,n){var i=n.ks,e=t.byteLength,r=_o(t);return n.gs(e-i),yo(r,i,e).buffer}function pD(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function kD(t,n,i){var e=Lu(t,n);if(gD(e)){var r=yD(e);return{id:i,language:ju(t,n,3),description:r(t,n),text:r(t,n)}}}function AD(t,n,i){var e=Lu(t,n);if(gD(e)){var r=yD(e);return{id:i,mimeType:Ju(t,n),fileName:r(t,n),description:r(t,n),data:mD(t,n)}}}function bD(t,n,i){var e=Lu(t,n);if(gD(e)){for(var r=yD(e),s=[];n.ks<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function TD(t,n,i){var e=Lu(t,n);if(gD(e)){for(var r=yD(e),s=ju(t,n,3),u=Lu(t,n),o=Lu(t,n),h=r(t,n),a=!1,c=[];n.ks<t.byteLength;){var f=void 0;if(e===lD.UTF16_BOM){var v=Ku(t,n);void 0===v?v=a:a=v,f=no(t,n,v)}else f=r(t,n);if(!f||n.ks+4>t.byteLength)break;c.push({text:f,timestamp:Xu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function SD(t,n,i){return{id:i,ownerIdentifier:Ju(t,n),identifier:mD(t,n)}}function ED(t,n,i){var e=Lu(t,n);if(gD(e)){var r=yD(e);return{id:i,language:ju(t,n,3),description:r(t,n),text:r(t,n)}}}function ID(t,n,i){var e=Lu(t,n);if(gD(e))return{id:i,text:yD(e)(t,n)}}function RD(t,n,i){return{id:i,url:Ju(t,n)}}function ND(t,n,i){var e=Lu(t,n);if(gD(e)){var r=yD(e);return{id:i,description:r(t,n),text:r(t,n)}}}function DD(t,n,i){var e=Lu(t,n);if(gD(e))return{id:i,description:yD(e)(t,n),url:Ju(t,n)}}function CD(t,n,i){switch(i){case"COM":return kD(t,n,i);case"GEO":return AD(t,n,i);case"IPL":return bD(t,n,i);case"PIC":return function(t,n,i){var e=Lu(t,n);if(gD(e)){var r,s,u=yD(e),o=ju(t,n,3),h=Lu(t,n),a=u(t,n);return"--\x3e"===o?(r=o,s=Ju(t,n)):(r="image/"+o.toLowerCase(),s=mD(t,n)),{id:i,mimeType:r,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return TD(t,n,i);case"TXX":return ND(t,n,i);case"UFI":return SD(t,n,i);case"ULT":return ED(t,n,i);case"WXX":return DD(t,n,i);default:if("T"===i.charAt(0))return ID(t,n,i);if("W"===i.charAt(0))return RD(t,n,i)}}function xD(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=Lu(t,n);if(gD(e)){var r=yD(e),s=Ju(t,n);return{id:i,mimeType:s,pictureType:Lu(t,n),description:r(t,n),data:"--\x3e"===s?Ju(t,n):mD(t,n)}}}(t,n,i);case"COMM":return kD(t,n,i);case"COMR":return function(t,n,i){var e=Lu(t,n);if(gD(e)){var r,s,u=yD(e),o=Ju(t,n),h=ju(t,n,8),a=Ju(t,n),c=Lu(t,n),f=u(t,n),v=u(t,n);return n.ks<t.byteLength&&(r=Ju(t,n)||"image/",s=mD(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return AD(t,n,i);case"IPLS":return bD(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Ju(t,n),data:mD(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Lu(t,n),position:Xu(t,n)}}(t,n,i);case"SYLT":return TD(t,n,i);case"TXXX":return ND(t,n,i);case"UFID":return SD(t,n,i);case"USER":return function(t,n,i){var e=Lu(t,n);if(gD(e)){var r=yD(e);return{id:i,language:ju(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return ED(t,n,i);case"WXXX":return DD(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return ID(t,n,i);default:var e=i.charAt(0);if("T"===e)return ID(t,n,i);if("W"===e)return RD(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(lD||(lD={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(_D||(_D={}));var OD=10;function PD(t,n){return(127&Lu(t,n))<<21|(127&Lu(t,n))<<14|(127&Lu(t,n))<<7|127&Lu(t,n)}function BD(t,n){switch(t){case _D.V24:return{oH:Bu(n,0),hH:Bu(n,1),aH:Bu(n,2),cH:Bu(n,3)};case _D.V23:return{oH:Bu(n,0),hH:Bu(n,1),aH:Bu(n,2)};case _D.V22:return{oH:Bu(n,0),fH:Bu(n,1)}}}function LD(t,n,i){switch(i.dp){case _D.V23:i.lp.hH&&function(t,n){var i=n.ks,e=Xu(t,n)+4,r=32768&zu(t,n);n.ys(i+e),r&&Xu(t,n)}(t,n);break;case _D.V24:i.lp.hH&&function(t,n){var i=n.ks,e=PD(t,n);n.ys(i+e)}(t,n)}}function MD(t,n){if(t.byteLength-n.ks<OD)return null;if(73!==Lu(t,n)||68!==Lu(t,n)||51!==Lu(t,n))return null;var i=Lu(t,n),e=Lu(t,n);if(!function(t){switch(t){case _D.V22:case _D.V23:case _D.V24:return!0}return!1}(i))return null;var r=Lu(t,n),s=PD(t,n);return{dp:i,vH:e,lp:BD(i,r),dH:s}}function UD(t,n,i){switch(i.dp){case _D.V22:return function(t,n,i){return{ul:ju(t,n,3),ls:Vu(t,n,3)}}(t,n);case _D.V23:return function(t,n,i){var e=ju(t,n,4),r=Xu(t,n);Lu(t,n);var s=Lu(t,n);return{ul:e,ls:r,lp:{fH:Bu(s,0),lH:Bu(s,1),groupingIdentity:Bu(s,2)}}}(t,n);case _D.V24:return function(t,n,i){var e=ju(t,n,4),r=PD(t,n);Lu(t,n);var s=Lu(t,n);return{ul:e,ls:r,lp:{groupingIdentity:Bu(s,1),fH:Bu(s,4),lH:Bu(s,5),oH:Bu(s,6),_H:Bu(s,7)}}}(t,n)}}function FD(t){for(var n=new m(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function HD(t,n){var i=n||new po,e=MD(t,i);return e?{hp:e,wH:function(t,n,i){var e=[],r=n.ks,s=vo(t,r,r+i.dH),u=new po;switch(n.gs(i.dH),i.dp){case _D.V22:case _D.V23:i.lp.oH&&(s=FD(s))}LD(t,n,i);for(;u.ks<s.byteLength;)e.push(VD(s,u,i));return e}(t,i,e)}:null}function VD(t,n,i){var e,r,s=UD(t,n,i),u=n.ks,o=vo(t,u,u+s.ls);switch(n.gs(s.ls),i.dp){case _D.V22:var h=s;e=CD(r=o,new po,h.ul);break;case _D.V23:var a=s,c=new po;!function(t,n,i){var e,r,s,u=i.lp;u.fH&&(e=Xu(t,n)),u.lH&&(r=Lu(t,n)),u.groupingIdentity&&(s=Lu(t,n))}(o,c,a),e=xD(r=vo(o,c.ks,o.byteLength),new po,a.ul);break;case _D.V24:var f=s,v=new po;f.lp.oH&&(o=FD(o)),function(t,n,i){var e,r,s,u,o=i.lp;o.groupingIdentity&&(e=Lu(t,n)),o.fH&&(r=Xu(t,n)),o.lH&&(s=Lu(t,n)),o._H&&(u=PD(t,n))}(o,v,f),e=xD(r=vo(o,v.ks,o.byteLength),new po,f.ul)}if(!e){var d=mo(_o(r));e=pD(s.ul,d.buffer)}return e}function zD(t){return function(t,n,i){return ID(t,n,i)}(new DataView(t.data),new po,t.key)}function WD(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return zD(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return pD(t.key,t.data)}(t)}var XD="org.id3";var qD=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Aw=void 0,r.gH=void 0,r.UF=[],r.XF=[],r.qF=void 0,r.GF=void 0,r.Tw=void 0,r.bw=void 0,r.lR=Ww.dl,r.bF=Ny.NONE,r.wd=void 0,r.zF=void 0,r.di=Dy.DEFAULT,r.yH=void 0,r.mH=function(){r.pH(),r.Aw.removeEventListener("cuechange",r.mH)},r.kH=function(){r.yl!==Ww.dl&&(r.AH(),r.KF(),r.UF.length&&r.bH(Ny.LOADING))},r.TH=function(){r.bH(Ny.LOADED)},r.SH=function(){r.bH(Ny.ERROR)},r.Aw=n,r.yH=e,r.Aw.addEventListener("cuechange",r.mH),r.Aw.addEventListener("cuechange",r.kH),r.gH=i,r.gH&&(r.zF=Sl(r.gH.src),r.gH.addEventListener("load",r.TH),r.gH.addEventListener("error",r.SH)),r.Tw=ky(),r.bw=n.label||"",r.qF=new FN(r.UF),r.GF=new FN(r.XF),r.yl=r.EH,Xs(function(){r.kH(),r.bH(Ny.NONE)}),r}S(n,t);var i=n.prototype;return i.yd=function(){return Yw(this)},i.pH=function(){var t=this.yl;this.IH||t!==Ww._l?this.EH=t:this.EH=Ww.ll},i.RH=function(){var t=this.yl,n=this.EH;t!==n&&(this.IH||t!==Ww._l||n!==Ww.ll)&&("metadata"===this.hl&&n===Ww.dl?this.yl=t:this.yl=n)},i.SF=function(t){this.bF!==t&&(this.bF=t,this.Fr(new HN(this,t)))},i.bH=function(t){var n=_.max(this.bF,this.NH,t);this.SF(n)},i.DH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.CH=function(t){var n=this.DH(t);if(n)return n;if(V(n=this.xH(t)))for(var i=0,e=n;i<e.length;i++){e[i].md=this}else n.md=this;return t.THEOplayerTextTrackCue=n,n},i.xH=function(t){return(n=t)&&n.type===XD&&n.value?(this.nr=Dy.ID3,function(t){var n;try{n=WD(t.value)}catch(t){n=pD("")}return new wD(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.nr=Dy.ID3,function(t){var n=[];try{var i=HD(new DataView(t.data));if(i)for(var e=0,r=i.wH;e<r.length;e++){var s=r[e];n.push(new wD(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.nr=Dy.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new cD(t):new aD(t)):new eD(t);var n},i.OH=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.CH(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.AH=function(){for(var t=this.OH(this.Aw.cues),n=UN(this.UF,t),i=0,e=n.MF;i<e.length;i++){var r=e[i];this.Fr(new GN(r))}for(var s=0,u=n.LF;s<u.length;s++){var o=u[s];this.Fr(new XN(o))}},i.KF=function(){for(var t=this.OH(this.Aw.activeCues),n=UN(this.XF,t),i=0,e=n.MF;i<e.length;i++){e[i].rg=!1}for(var r=0,s=n.LF;r<s.length;r++){s[r].rg=!0}(n.LF.length||n.MF.length)&&this.Fr(new rD(this))},i.ml=function(t){this.yl=t},i.Jf=function(){this.Wr();for(var t=this.UF.slice(),n=0;n<t.length;n++){t[n].Jf()}Rs(this.UF),Rs(this.XF),this.Aw.removeEventListener("cuechange",this.kH),this.gH&&(this.Aw.removeEventListener("load",this.TH),this.Aw.removeEventListener("error",this.SH)),this.gH&&Ze(this.gH)},b(n,[{key:"bl",get:function(){return this.GF}},{key:"ub",get:function(){return this.gH?this.gH.default:void 0}},{key:"Al",get:function(){return this.qF}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}},{key:"ul",get:function(){return this.Aw.id||this.gH&&this.gH.id||""}},{key:"ol",get:function(){return this.Tw}},{key:"gl",get:function(){return this.Aw.inBandMetadataTrackDispatchType||""}},{key:"hl",get:function(){return this.Aw.kind||Xp.Bm}},{key:"al",get:function(){return this.bw},set:function(t){t!==this.al&&(this.bw=t,this.Fr(new yy(this)))}},{key:"cl",get:function(){return this.Aw.language||""}},{key:"yl",get:function(){return this.lR},set:function(t){var n=this.yl;this.lR=Gw(t),this.pH();var i=this.yl;n!==i&&this.Fr(new kw(this)),i!==Ww.dl&&this.bH(Ny.LOADING)}},{key:"EH",get:function(){return Gw(this.Aw.mode)},set:function(t){this.Aw.mode=t}},{key:"Nw",get:function(){return this.Aw}},{key:"kl",get:function(){return this.bF}},{key:"NH",get:function(){return this.gH?+this.gH.readyState||Ny.NONE:Ny.LOADED}},{key:"Tl",get:function(){return this.zF}},{key:"nr",get:function(){return this.di},set:function(t){this.di!==t&&(this.di=t,this.Fr(new zN(this)))}},{key:"IH",get:function(){return this.yH},set:function(t){this.yH=t,this.pH()}}]),n}(Js);function GD(t){return t instanceof qD}function QD(t,n){return ps(t.oy,n.oy)||function(t,n){return t.md===n.md?ms(MN(t),MN(n)):sk(t.md,n.md)}(t.Mw,n.Mw)||function(t,n){return t===n?ds.wr:t===Py.Ow?ds.yr:ds.gr}(t.type,n.type)}var YD=function(){function t(t,n){var i=this;this.QE=void 0,this.PH=void 0,this.R_=[],this.BH=0,this.LH=0,this.MH=[],this.UH=!1,this.FH=!1,this.HH=void 0,this.VH=function(){i.BH=0,i.zH(),i.WH()},this.XH=function(){i.zH(),i.WH()},this.qH=function(){i.FH=!0,i.HH=i.QE.e_,i.GH()},this.QH=function(){i.zH(),i.WH()},this.YH=function(){i.jH(),i.zH(),i.WH()},this.ZH=function(){i.JH()},this.$H=function(t){Ss(i.MH,t.Mw),i.JH()},this.PH=n,this.QE=t,t.Hr(Fc.La,this.XH),t.Hr(Fc.ba,this.XH),t.Hr(Eg.i_,this.XH),t.Hr(Fc.Aa,this.XH),t.Hr(Fc.Na,this.qH),t.Hr(Fc.Ra,this.QH),this.JH()}var n=t.prototype;return n.Gd=function(){Rs(this.MH);for(var t=0,n=this.R_.slice();t<n.length;t++){var i=n[t];this.Xd(i)}this.GH(),this.BH=0,this.LH=0,this.UH=!1,this.FH=!1,this.HH=void 0},n.Wd=function(t){Is(this.R_,t)||(this.R_.push(t),t.Hr(dw.pd,this.ZH),t.Hr(dw.Ad,this.$H),t.Hr(dw.Dd,this.YH),t.Al.Yd&&this.JH(),this.jH())},n.Xd=function(t){if(Ss(this.R_,t)){if(t.Xr(dw.pd,this.ZH),t.Xr(dw.Ad,this.$H),t.Xr(dw.Dd,this.YH),t.Al.Yd){for(var n=0,i=t.Al.Qd;n<i.length;n++){var e=i[n];Ss(this.MH,e)}this.JH()}this.jH()}},n.jH=function(){this.UH=this.R_.some(function(t){return t.yl!==Ww.dl})},n.WH=function(){this.QE.c_||this.QE.h_?this.GH():this.JH()},n.JH=function(){this.UH&&(this.BH||(this.BH=this.PH.zi(this.VH)))},n.GH=function(){this.BH&&(this.PH.KH(this.BH),this.BH=0)},n.zH=function(){var t;if(this.UH&&!this.QE.c_){var n=this.R_,i=this.LH,e=null!=(t=this.HH)?t:this.QE.e_,r=e-i<-.1,s=this.FH||r;s&&e>i&&e-i<.1&&(s=!1),this.FH=!1,this.HH=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.yl!==Ww.dl){a.KF(e,s);for(var c=0,f=a.bl.Qd;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.MH;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.yl!==Ww.dl&&rk(l,i-1/6,e,u)}}for(var w=u.length-1;w>=0;w--)Is(o,u[w])&&Es(u,w);var g=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Uw>=i&&m.Fw<=e&&(g.push(m),Es(u,y))}for(var p=[],k=[],A=0;A<g.length;A++){var b=g[A];b.rg||p.push(new jN(b,b.Uw)),p.push(new JN(b,_.max(b.Uw,b.Fw)))}for(var T=0,S=u;T<S.length;T++){var E=S[T];E.rg&&(p.push(new JN(E,_.max(E.Uw,E.Fw))),E.rg=!1)}for(var I=0;I<o.length;I++){var R=o[I];R.rg||(p.push(new jN(R,R.Uw)),R.rg=!0)}p.sort(QD);for(var N=0;N<p.length;N++){var D=p[N],C=D.Mw;C.Fr(D);var x=C.md;x&&(D.type===Py.Ow?x.Fr(new KN(C)):x.Fr(new nD(C)),Is(k,x)||k.push(x))}k.sort(sk);for(var O=0;O<k.length;O++){var P=k[O];P.Fr(new rD(P))}this.LH=e,this.MH=o}},n.Jf=function(){this.Gd(),this.QE.Xr(Fc.La,this.XH),this.QE.Xr(Fc.ba,this.XH),this.QE.Xr(Eg.i_,this.XH),this.QE.Xr(Fc.Aa,this.XH),this.QE.Xr(Fc.Na,this.qH),this.QE.Xr(Fc.Ra,this.QH)},t}(),jD=function(){function t(){}var n=t.prototype;return n.zi=function(t){return FE(t)},n.KH=function(t){HE(t)},t}(),ZD=new jD,JD=function(t){function n(n,i){return void 0===i&&(i=ZD),t.call(this,n,i)||this}return S(n,t),n}(YD),$D=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).tV=void 0,r}return S(n,t),n.prototype.eg=function(n){return this===n||Nw(this,n)&&t.prototype.eg.call(this,n)&&fD(this,n)},b(n,[{key:"gd",get:function(){return this.wd||(this.wd=dD(this)),this.wd}}]),n}(Qy),KD=function(t){function n(n,i,e){return void 0===e&&(e=Dy.DEFAULT),t.call(this,Xp.Mm,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(YN),tC=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).nr=Dy.ID3,e.tV=void 0,e}S(n,t);var i=n.prototype;return i.eb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Uw<t.Uw)vD(n,i,t.Uw);else{var e=n[0];if(e.Uw>t.Uw)t.Fw=e.Uw;else{var r=LN(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0&&n[u].Uw<t.Uw&&vD(n,u,t.Uw),s<n.length){var o=n[s];t.Fw=o.Uw}}}}}}(n,this.UF),t.prototype.eb.call(this,n)},i.yd=function(){return Yw(this)},n}(KD);function nC(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=WD(t.value);return t.THEOplayerTextTrackCue=new $D(i,e),t.THEOplayerTextTrackCue}var iC=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Aw=void 0,i.kH=function(){i.yl!==Ww.dl&&(i.AH(),i.bH(Ny.LOADED))},i.Aw=n,i.Aw.addEventListener("cuechange",i.kH),i.yl=i.EH,Xs(function(){i.kH()}),i}S(n,t);var i=n.prototype;return i.DR=function(n){t.prototype.DR.call(this,n),this.EH=this.yl},i.bH=function(t){this.kl=_.max(this.kl,t)},i.AH=function(){for(var t=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(nC(t[e]||t.item(e)));return ws(i,BN),i}(this.Aw.cues),n=UN(this.Al.Qd.slice(),t),i=0,e=n.MF;i<e.length;i++){var r=e[i];this.JF(r)}for(var s=0,u=n.LF;s<u.length;s++){var o=u[s];this.eb(o)}},i.Jf=function(){this.Aw.removeEventListener("cuechange",this.kH),t.prototype.Jf.call(this)},b(n,[{key:"ul",get:function(){return this.Aw.id||""}},{key:"gl",get:function(){return this.Aw.inBandMetadataTrackDispatchType||""}},{key:"cl",get:function(){return this.Aw.language||""}},{key:"EH",get:function(){return Gw(this.Aw.mode)},set:function(t){this.Aw.mode=t}},{key:"Nw",get:function(){return this.Aw}}]),n}(tC),eC=function(t){function n(n){var i;return(i=t.call(this,0,n.Hw)||this).nV=void 0,i.nV=n,i.Fw=i.nV.Uw,i}return S(n,t),b(n,[{key:"ul",get:function(){return this.nV.ul}},{key:"ug",get:function(){return this.nV.ug},set:function(t){this.nV.ug=t}},{key:"sg",get:function(){return this.nV.sg},set:function(t){this.nV.sg=t}}]),n}($D);function rC(t){return void 0===t.tV&&(t.tV=new eC(t)),t.tV}var sC=function(t){function n(n,i){var e;(e=t.call(this,n.gl,n.al)||this).iV=void 0,e.eV=void 0,e.rV=void 0,e.nr=Dy.ID3,e.sV=function(t){e.uV(t.Mw)},e.oV=function(t){var n=t.Mw;if(void 0!==n.tV){var i=n.tV;n.tV=void 0,e.JF(i),i.Jf()}},e.hV=function(t){var n=rC(t.Mw);n.rg||e.aV(n),e.cV(n)},e.fV=function(t){var n=t.Mw,i=rC(n);e.eV.e_<n.Uw&&e.aV(i)},e.vV=function(){var t=e.rV,n=e.yl;if(e.rV=n,n===Ww.dl)e.XF.forEach(function(t){return t.rg=!1}),Rs(e.XF);else if(t===Ww.dl)for(var i=e.eV.e_,r=0,s=e.UF;r<s.length;r++){var u=s[r];i<u.Fw&&e.aV(u)}},e.eV=i,e.iV=n,e.rV=n.yl,n.Hr(dw.pd,e.sV),n.Hr(dw.Ad,e.oV),n.Hr(dw.Td,e.hV),n.Hr(dw.Ed,e.fV),n.Hr(dw.Dd,e.vV);for(var r=0,s=e.iV.Al.Qd;r<s.length;r++){var u=s[r];e.uV(u)}return e}S(n,t);var i=n.prototype;return i.aV=function(t){var n=LN(this.XF,t);if(!(n>=0)){var i=-(n+1);this.XF.splice(i,0,t),t.rg=!0,t.Fr(new jN(t,this.eV.e_)),this.Fr(new KN(t)),this.Fr(new rD(this))}},i.cV=function(t){var n=LN(this.XF,t);n>=0&&Es(this.XF,n),t.rg=!1,t.Fr(new JN(t,this.eV.e_)),this.Fr(new nD(t)),this.Fr(new rD(this))},i.Jf=function(){this.iV.Xr(dw.pd,this.sV),this.iV.Xr(dw.Ad,this.oV),this.iV.Xr(dw.Td,this.hV),this.iV.Xr(dw.Ed,this.fV),this.iV.Xr(dw.Dd,this.vV),t.prototype.Jf.call(this)},i.uV=function(t){var n=rC(t);(this.eb(n),this.yl!==Ww.dl)&&(this.eV.e_<n.Fw&&this.aV(n))},b(n,[{key:"hl",get:function(){return this.iV.hl}},{key:"al",get:function(){return this.iV.al},set:function(t){this.iV.al=t}},{key:"cl",get:function(){return this.iV.cl}},{key:"ul",get:function(){return this.iV.ul}},{key:"ol",get:function(){return this.iV.ol}},{key:"gl",get:function(){return this.iV.gl}},{key:"yl",get:function(){return this.iV.yl},set:function(t){this.iV.yl=t}},{key:"kl",get:function(){return this.iV.kl}},{key:"Tl",get:function(){return this.iV.Tl}}]),n}(KD),uC=function(t){function n(n){var i;return(i=t.call(this)||this).eV=void 0,i.eV=n,i}S(n,t);var i=n.prototype;return i.Wd=function(n){if(n.nr===Dy.ID3){var i=n;return i.tV||(i.tV=new sC(i,this.eV)),t.prototype.Wd.call(this,i.tV)}return t.prototype.Wd.call(this,n)},i.Xd=function(n){if(n.nr===Dy.ID3){var i=n;return!!i.tV&&t.prototype.Xd.call(this,i.tV)}return t.prototype.Xd.call(this,n)},n}($w),oC=function(t){function n(n,i){var e;return(e=t.call(this)||this).dV=Nr(),e.pS=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.md).nr){i.next=4;break}return i.next=4,Sr.awrap(n.Yr(dw.Pd));case 4:if(n.nr===Dy.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Al.Yd){i.next=11;break}return i.next=9,Sr.awrap(n.Yr(dw.pd));case 9:i.next=6;break;case 11:e.lV(n);case 12:case"end":return i.stop()}},null,null,null,Ve)},e.kS=function(t){var n=t.md;if(n.nr===Dy.ID3&&e.dV.has(n.ol)){var i=e.dV.get(n.ol);e.Xd(i),e.ZA.sb(i),n.Xr(dw.pd,e.uV)}},e.uV=function(t){hC(t.Mw)&&e._V(t.Mw)},e.ZA=n,e.wV=i,e.gV(),e}S(n,t);var i=n.prototype;return i.gV=function(){this.wV.Hr(aw.vd,this.pS),this.wV.Hr(aw.ld,this.kS)},i.yV=function(){this.wV.Xr(aw.vd,this.pS),this.wV.Xr(aw.ld,this.kS)},i.lV=function(t){var n=t.Al.Qd[0];if(hC(n)){var i=function(t){var n=t.match(aC);if(!n)return;return{md:n[1],cl:n[2]}}(n.Hw.description),e=i.md,r=i.cl;if(!this.mV(e,r)){var s=this.ZA.nb(Xp.Bm,t.ul,e,r,!1,Dy.TTML);this.Wd(s),this.dV.set(t.ol,s);for(var u=0,o=t.Al.Qd;u<o.length;u++){var h=o[u];hC(h)&&this._V(h)}t.Hr(dw.pd,this.uV)}}},i.mV=function(t,n){return!!bs(this.Np.Qd,function(i){return i.al===t&&i.cl===n})},i._V=function(t){if(t.md)for(var n=this.dV.get(t.md.ol),i=Pp(t.Hw.text,0,{Hy:0,Vy:1/0,zy:-t.Fw}),e=0;e<i.length;e++){var r=i[e];n.eb(r)}},i.Gd=function(){var n,i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.wV.Qd;n<i.length;n++)i[n].Xr(dw.pd,this.uV);for(e=0,r=this.Np.Qd;e<r.length;e++)s=r[e],this.ZA.sb(s);return this.dV.clear(),u.next=5,Sr.awrap(t.prototype.Gd.call(this));case 5:case"end":return u.stop()}},null,this,null,Ve)},i.Jf=function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.yV(),n.next=3,Sr.awrap(t.prototype.Jf.call(this));case 3:case"end":return n.stop()}},null,this,null,Ve)},n}(Gp);function hC(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Hw)&&aC.test(n.description);var n}var aC=/^Track:(.+),Lang:(.+)$/;var cC=function(t){function n(n){var i;return(i=t.call(this,Fc.ha)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),b(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ks),fC=function(t){function n(){return t.call(this,Fc.aa)||this}return S(n,t),n}(Ks),vC=function(t){function n(n){var i;return(i=t.call(this,"Fa")||this).pV=n,i}return S(n,t),n}(Ks),dC=new yR,lC=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).$o=void 0,u.kV=!1,u.AV=!1,u.Xv=new Ps,u.zo=function(t){switch(t.$r){case"license-request":u.zb(t.Jr,t.Kr).catch(function(t){return u.Th(t)});break;default:u.Th(new cy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.$r))}},u.bV=function(t){u.TV.th.fs(function(t,n){switch(t){case"usable":i.Cn(function(){u.AV=!0,u.Fr(new fC)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Fr(new vC(n))}})},u.SV=function(t){u.Th(new cy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.TV=e,u.EV=r,u.IV=s,e.Hr("Jr",u.zo),e.Hr("Zr",u.bV),e.Hr("ts",u.SV),u.$o=e.$o.then(function(){return u.RV()}),u}S(e,t);var r=e.prototype;return r.Qo=function(){var t=this;return this.kV=!0,dC.yB(function(n){return t.NV(n)},this.Xv.Pr)},r.NV=function(t){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Ms(t),s.next=4,Sr.awrap(this.EV.Bb(t));case 4:return s.next=6,Sr.awrap(this.EV.Lb(this.IV.er,this.IV.os,t));case 6:return i=s.sent,s.next=9,Sr.awrap(this.TV.Qo(this.IV.er,this.IV.os,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),Us(s.t0),e=s.t0 instanceof Io?s.t0.Cs:void 0,r=new cy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Th(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],Ve)},r.zb=function(t,i){var e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!To(t)){s.next=7;break}return s.next=4,Sr.awrap(this.EV.Zb(new m(t),this.Xv.Pr));case 4:e=s.sent,s.next=10;break;case 7:return s.next=9,Sr.awrap(this.EV.Jb(new m(t),i,this.Xv.Pr));case 9:e=s.sent;case 10:s.next=17;break;case 12:if(s.prev=12,s.t0=s.catch(0),!Ls(s.t0)){s.next=16;break}return s.abrupt("return");case 16:throw s.t0;case 17:return s.prev=17,s.next=20,Sr.awrap(this.TV.Zo(e));case 20:s.next=26;break;case 22:throw s.prev=22,s.t1=s.catch(17),r=s.t1 instanceof Io?s.t1.Cs:void 0,new cy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return s.stop()}},null,this,[[0,12],[17,22]],Ve)},r.Th=function(t){var i=t instanceof cy?t:new cy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new cC(i)),this.Go()},r.RV=function(){this.TV.Xr("Jr",this.zo),this.TV.Xr("Zr",this.bV),this.TV.Xr("ts",this.SV),this.AV=!1,this.Xv.Cr()},r.Go=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.RV(),t.next=4,Sr.awrap(this.TV.Go().catch(j));case 4:case"end":return t.stop()}},null,this,null,Ve)},e}(Js),_C=[Fc.aa,Fc.ha,Fc.Ua],wC=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Wo=void 0,r.ih=void 0,r.DV=void 0,r.CV=[],r.xV=void 0,r.OV=[],r.Wo=n,r.ih=i,r.DV=e,r}S(n,t);var i=n.prototype;return i.jb=function(){return this.DV.jb()},i.PV=function(t){return this.xV||(this.xV=this.BV(t)),this.xV},i.BV=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Ms(t),i.next=3,Sr.awrap(this.DV.Zb(new m(bo()),t));case 3:return n=i.sent,Ms(t),i.next=7,Sr.awrap(this.ih.uh(n.buffer));case 7:case"end":return i.stop()}},null,this,null,Ve)},i.LV=function(t){var n,i,e=this;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.OV.push(t),r.next=4,Sr.awrap(this.ih.sh("temporary"));case 4:return n=r.sent,i=new lC(n,this.DV,t),this.CV.push(i),i.Hr(_C,this.Ur),i.$o.then(function(){return e.MV(i)}),r.abrupt("return",i);case 10:return r.prev=10,Ss(this.OV,t),r.finish(10);case 13:case"end":return r.stop()}},null,this,[[0,,10,13]],Ve)},i.UV=function(t){if(t.FV)return!1;for(var n=0,i=this.CV;n<i.length;n++){if(gC(i[n].IV,t))return!0}for(var e=0,r=this.OV;e<r.length;e++){if(gC(r[e],t))return!0}return!1},i.MV=function(t){t.Xr(_C,this.Ur),Ss(this.CV,t)},i.Jf=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Wr(),t=this.CV.slice(),Rs(this.CV),n.next=5,Sr.awrap(Ve.all(t.map(function(t){return t.Go()})));case 5:this.DV.Sr();case 6:case"end":return n.stop()}},null,this,null,Ve)},b(n,[{key:"eh",get:function(){return this.Wo}}]),n}(Js);function gC(t,n){return!t.FV&&t.er===n.er&&mu(t.os,n.os)}var yC=function(t){function e(n){var i;return(i=t.call(this)||this).RS=void 0,i.Xv=new Ps,i.NB=new yR,i.Ch=void 0,i.DV=void 0,i.NS=void 0,i.Wo=void 0,i.HV=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Sr.awrap(i.VV(t.er,t.os,i.Xv.Pr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),Ls(n.t0)||i.Th(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],Ve)},i.RS=n,i.RS.Hr(Zs.es,i.HV),i}S(e,t);var r=e.prototype;return r.Yo=function(t,n){this.NS=t,this.tL(n)},r.tL=function(t){this.Ch=t,this.zV(this.Xv.Pr).catch(Fs)},r.zV=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Pe.ie){n.next=5;break}return n.next=3,Sr.awrap(this.WV(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Ch||!this.Ch.XV){n.next=9;break}return n.next=8,Sr.awrap(this.qV(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,Ve)},r.WV=function(t){var n,i,e,r,s,u,o,h,a,c,f;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Ch)?void 0:n.sE){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Ch)?void 0:u.sE)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],h=0,a=null!=(c=o.gS)?c:[];case 8:if(!(h<a.length)){v.next=22;break}return f=a[h],v.prev=10,v.next=13,Sr.awrap(this.VV(o.eh.er,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),Us(v.t0);case 19:h++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],Ve)},r.VV=function(t,e,r){var s,u,o,h,a,c,f,v,d,l;return Sr.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(Ms(r),e.byteLength){_.next=3;break}return _.abrupt("return");case 3:if(this.Ch&&this.Ch.sE.length){_.next=5;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Ur||t===Hr||t===Fr){_.next=8;break}return _.abrupt("return");case 8:s=MA(t,e),u=this.Ch.sE,h=0;case 11:if(!(h<u.length)){_.next=42;break}if(a=u[h],Ms(r),(c=s[a.eh.rr])&&a.eh.er===t){_.next=17;break}return _.abrupt("continue",39);case 17:return _.prev=17,_.next=20,Sr.awrap(this.GV(a,r));case 20:if(!(f=_.sent).jb()){_.next=24;break}return _.next=24,Sr.awrap(f.PV());case 24:if(v=this.RS.ow,d={er:a.eh.er,os:c,FV:v},!this.QV(f,d)){_.next=32;break}return _.next=29,Sr.awrap(f.LV(d));case 29:return l=_.sent,_.next=32,Sr.awrap(l.Qo());case 32:return _.abrupt("return");case 35:_.prev=35,_.t0=_.catch(17),Us(_.t0),o=_.t0;case 39:h++,_.next=11;break;case 42:return _.next=44,Sr.awrap(i.be());case 44:if(!_.sent){_.next=48;break}throw new cy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new cy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return _.stop()}},null,this,[[17,35]],Ve)},r.qV=function(t){var n,i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Ch)?void 0:n.sE){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],Ms(t),u.prev=7,u.next=10,Sr.awrap(this.GV(r,t));case 10:if(!(s=u.sent).jb()){u.next=14;break}return u.next=14,Sr.awrap(s.PV());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),Us(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],Ve)},r.QV=function(t,n){return i.Pe.te||!t.UV(n)},r.GV=function(t,n){var i=this;return this.NB.yB(function(n){return i.YV(t,n)},n)},r.YV=function(t,n){var i,e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(Ms(n),this.Ch&&this.DV&&this.NS){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Wo){o.next=7;break}if(this.Wo.eh===t.eh){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Wo);case 7:return i=this.DV,e=Er({},t,{mE:t.mE.map(function(n){var e;return Er({},n,{persistentState:null!=(e=n.persistentState)?e:i.gT(t.eh),wh:n.wh||i.wh(t.eh)})})}),o.next=11,Sr.awrap(this.NS.JB(e.eh,e.mE));case 11:return r=o.sent,s=i.wS(e),(u=new wC(e.eh,r,s)).Hr([Fc.aa,Fc.ha,Fc.Ua],this.Ur),this.Wo=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,Ve)},r.Th=function(t){var i=t instanceof cy?t:new cy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new cC(i))},r.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NS=void 0,this.Ch=void 0,this.Xv.Cr(),this.Xv=new Ps,t.next=6,Sr.awrap(this.jV());case 6:case"end":return t.stop()}},null,this,null,Ve)},r.jV=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.NB.Cr());case 2:if(!(t=this.Wo)){n.next=8;break}return t.Xr(Fc.Ua,this.Ur),this.Wo=void 0,n.next=8,Sr.awrap(t.Jf());case 8:case"end":return n.stop()}},null,this,null,Ve)},r.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.RS.Xr(Zs.es,this.HV),t.next=4,Sr.awrap(this.Gd());case 4:return t.next=6,Sr.awrap(this.NB.Jf());case 6:case"end":return t.stop()}},null,this,null,Ve)},b(e,[{key:"ZV",get:function(){var t;return null==(t=this.Wo)?void 0:t.eh}},{key:"iE",get:function(){return this.DV},set:function(t){this.DV=t}}]),e}(Js),mC=L.an||L.cn,pC=L.Rn,kC=.5,AC=5,bC=L._n,TC=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).zh=void 0,s.JV=void 0,s.DS=void 0,s.ZE=!0,s.NS=void 0,s.$V=new yR,s.KV=void 0,s.tz=void 0,s.nz=void 0,s.QB=void 0,s.R_=void 0,s.KI=void 0,s.iz=[],s.ez=void 0,s.rz=void 0,s.sz=void 0,s.uz=void 0,s.oz=void 0,s.hz=void 0,s.az=void 0,s.cz=NaN,s.fz=void 0,s.vz=void 0,s.ZI=!1,s.dz=Ve.resolve(),s.lz=new Ps,s._z=[],s.wz=CT.VI(),s.gz=void 0,s.yz=1,s.mz=!1,s.pz=!1,s.kz=!1,s.Az=!1,s.hr=void 0,s.bz=!1,s.Tz=!1,s.Sz=!1,s.Ez=!1,s.Iz=0,s.Rz=function(t){var n=t.track,i=s.Nz(n);s.Dz(n,i)},s.Cz=function(t){var n=RC(s.ez,t.track);n&&s.ez.Xd(n)},s.xz=function(){for(var t=0;t<s.R_.Yd;t++){var n=s.R_.zd(t);n instanceof qD&&n.RH()}},s.Oz=function(){s.ez.Gd()},s.Pz=function(){var t=s.NS,n=t.iF,i=t.eF;if(n&&i)if(t.hL)s.Bz();else if(t.kl!==pN.lU){var e=n.rw,r=i.rw;if(0!==e.Yd&&0!==r.Yd){var u=s.e_;if(u<e.eI(0)||u<r.eI(0))s.Bz();else if(e.pE(u)!==r.pE(u))s.Lz();else if(s.Bz(),!s.Iz&&s.nz.xF())e.bI(r).RI(u,u+kC)&&(s.Iz=FE(s.Mz))}else s.Bz()}},s.Mz=function(){s.Iz=0,s.Pz()},s.Uz=function(){if(!(s.c_||s.kl>=ag.jl)){0;var t=s.NS,n=t.iF,i=t.eF;if(n&&i){var e=s.e_,r=n.rw,u=i.rw;if(r.pE(e)&&u.pE(e))r.bI(u).RI(e-AC,e)&&s.ys(e)}}},s.Fz=function(){s.Fr(new Ng(s.e_))},s.Hz=function(){s.Vz(new Bs),s.Fr(new Rg(s.e_))},s.zz=function(){s.Wz(),s.Fr(new Vk(s.e_))},s.Xz=function(){s.qz(s.a_)},s.Gz=function(){s.Fr(new Pg(s.r_))},s.Qz=function(){s.Fr(new FR(s.e_))},s.Yz=function(){s.Fr(new HR)},s.jz=function(){var t=s.e_,n=s.c_,i=s.kl<ag.jl&&!s.s_,e=void 0!==s.vz,r=e&&s.vz!==t;(n||!e||r&&!i)&&(s.Fr(new Lg(s.e_,void 0)),s.vz=t)},s.Zz=function(){!s.mz&&s.s_&&(s.mz=!0,s.Fr(new Mg(s.e_)))},s.Jz=function(){if(null!==s.zh.error){var t,n=s.zh.error;s.HS(new fy(null!=(t=n.code)?t:oy.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.$z=function(){s.pz&&(s.Kz(),s.kz=!0)},s.tW=function(){s.Fr(new Vg(s.e_,s.d_))},s.nW=function(){s.v_>0&&s.f_>0&&s.Fr(new gk)},s.iW=function(t){s.Fr(new su(t.initDataType,t.initData||new ArrayBuffer(0)))},s.eW=function(){s.Fr(new uu)},s.rW=function(t){var n=t.initData,i=n?mo(n).buffer:new ArrayBuffer(0);s.Fr(new su(Ur,i))},s.sW=function(t){if(t.initData){var n=SC(t.initData);if(!n)return;s.Fr(new su(Hr,n))}else s.Fr(new su(Hr,new ArrayBuffer(0)))},s.uW=function(t){var n=t.initData,i=n?mo(n).buffer:new ArrayBuffer(0);s.Fr(new su(Ur,i))},s.oW=function(){s.Wz()},s.hW=function(t){s.Vz(t)},s.aW=function(t){s.Fr(t),t.type===Fc.ha&&s.HS(dy(t.errorObject))},s.zh=n,s.hr=i,s.JV=e,s.KI=r,s.tz=new RN(Yt(s)),s.tz.Hr(Eg.xd,s.Ur),s.nz=new CN(Yt(s)),s.nz.Hr(Eg.i_,s.zz),s.QB=new yC(Yt(s)),s.QB.Hr([Fc.aa,Fc.ha,Fc.Ua],s.aW),s.R_=new qp,s.ez=new qp,s.rz=new lT([s.R_,s.ez]),s.sz=new uC(Yt(s)),s.sz.tl=s.rz,s.uz=new oC(Yt(s),s.sz),s.oz=new lT([s.rz,s.uz.Np]),s.hz=new JD(Yt(s)),s.cW(),s.rE(),s}S(n,t);var e=n.prototype;return e.fW=function(){this.nE.ended||this.e_===this.r_||(this.mz=!1)},e.vW=function(){return void 0!==this.az&&this.r_===this.az},e.qz=function(t){this.yz!==t&&(this.yz=t,this.Fr(new Bg(this.e_,t)))},e.bE=function(){return VI(this.zh)},e.L_=function(){var t=this.dW();return this.lW(),t},e.lW=function(){this.bz?this.Tz&&(this.Tz=!1,this.Fr(new Ng(this.e_))):this._W()},e._W=function(){if(this.KV)this.KV.L_();else{L._n&&!L.jt&&this.zh.preload===bT.XE&&(this.zh.preload=bT.Mm);var t=this.a_,n=this.zh.play();t!==this.nE.playbackRate&&(this.a_=t),G(n)?n.then(this.oW,this.hW):this.nz.xF()&&this.Wz()}},e.M_=function(){this.bz?this.Tz||(this.Tz=!0,this.Fr(new Rg(this.e_))):this.wW()},e.wW=function(){this.KV?this.KV.M_():(this.zh.pause(),this.nz.Zo()),this.gW(new Bs)},e.dW=function(){var t=new Ao;return this._z.push(t),t.Ss},e.yW=function(){for(var t=0,n=this._z;t<n.length;t++){n[t].Rs(void 0)}Rs(this._z)},e.gW=function(t){for(var n=0,i=this._z;n<i.length;n++){i[n].Ns(t)}Rs(this._z)},e.Wz=function(){this.bz||this.KV||this.yW()},e.Vz=function(t){this.bz||this.KV||this.gW(t)},e.ys=function(t,n){this.KV?this.KV.e_=t:(this.lz.Cr(),this.lz=new Ps,this.dz=this.mW(t,this.dz,this.lz.Pr).catch(j))},e.AE=function(t){var n=this.TE;if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ys(i)}},e.mW=function(t,n,i){var e,r,s,u,o,h,a,c,f=this;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.az=t,this.cz=t,this.ZI=!0,this.mz&&!this.vW()&&(this.mz=!1),this.Fr(new Fg(t)),v.next=8,Sr.awrap(n.catch(j));case 8:if(Ms(i),this.Az&&this.pW(),this.kl!==ag.Gl){v.next=13;break}return v.next=13,Sr.awrap(this.Yr(Eg.xd,i));case 13:if(0!==this.zh.seekable.length){v.next=19;break}return v.next=16,Sr.awrap(Ve.race([ow(this.zh,"timeupdate",i),Qs(100,i)]));case 16:Ms(i),v.next=13;break;case 19:e=this.kW(t),r=this.gw,s=!0,u=!1;case 23:if((r=this.gw).Yd>0&&!r.pE(e)&&(e=r.dI(e),s=!0),bC&&void 0!==(o=this.AW())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(h=this.bW())&&e>h)){v.next=37;break}return u=!0,v.next=33,Sr.awrap(this.TW(h,i));case 33:return v.next=35,Sr.awrap(ow(this.zh,"seeked",i));case 35:Ms(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Sr.awrap(this.TW(e,i));case 41:Ms(i),a=this.e_,r=this.gw,e=r.dI(e),c=1;case 46:if(!(_.abs(e-a)>=1/6)){v.next=56;break}return r=this.gw,e=IC(e,r,c),v.next=51,Sr.awrap(this.TW(e,i));case 51:Ms(i),a=this.e_,c++,v.next=46;break;case 56:if(this.zh.seeking||this.kl<ag.Yl){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Sr.awrap(zs(function(t){var n;return Ve.race([ow(f.zh,"seeked",t),f.Yr([Fc.Ta,Fc.va,Eg.xd],t),null==(n=f.NS)?void 0:n.Yr(DR.kN,t)].filter(F))},i));case 60:Ms(i),v.next=23;break;case 63:this.SW(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!Ls(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],Ve)},e.TW=function(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(Ms(n),i=this.gw,t=i.dI(t),!this.Az){s.next=18;break}e=!0;case 5:if(!(e||this.kl<ag.jl)){s.next=17;break}if((i=this.gw).pE(t)||(t=i.dI(t),e=!0),!e){s.next=13;break}return e=!1,this.az=t,this.EW(this.e_),s.abrupt("continue",5);case 13:return s.next=15,Sr.awrap(this.Yr([Eg.xd,Fc.va],n));case 15:s.next=5;break;case 17:Ms(n);case 18:if(r=ow(this.zh,"seeking",n),this.zh.currentTime=t,this.az=void 0,this.EW(this.e_),!this.zh.seeking){s.next=25;break}return s.next=25,Sr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,Ve)},e.kW=function(t){var n=this.rw;if(n&&!n.pE(t)){var i=n.SI(t,.05);if(i>-1){var e=n.eI(i);if(t<e)return e}}return t},e.AW=function(){if(this.NS&&this.NS.hL){var t=this.NS.aL,n=this.NS.cL,i=t&&n?t.wI(n):t||n;if(i&&0!==i.Yd){var e=i.eI(i.Yd-1),r=i.sI(i.Yd-1);return _.max(e,r-.001)}}},e.bW=function(){if(this.NS&&this.NS.hL){var t=this.NS.cL;if(t&&0!==t.Yd){var n=t.eI(t.Yd-1),i=t.sI(t.Yd-1)-.02;return i-=.001,_.max(n,i)}}},e.EW=function(t){this.cz!==t&&(this.cz=t,this.Fr(new Fg(t)))},e.SW=function(){this.ZI=!1,this.cz=NaN,this.Az&&this.IW(),this.Fr(new Hg(this.e_))},e.pW=function(){this.bz||(this.Tz=this.h_,this.bz=!0,this.wW())},e.IW=function(){this.bz&&(this.bz=!1,this.Tz||this.lW())},e.oL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===wk.ob&&UR.oL(i,this.zh))return i;if(i.nr===wk.hb&&bN.oL(i))return i}},e.Y_=function(){this.ZE=!1,ir(this.zh)&&(this.zh.style.display="none")},e.Q_=function(){this.ZE=!0,ir(this.zh)&&(this.zh.style.display="block")},e.nb=function(t,n,i,e,r,s,u,o){var h=new YN(t,n,i,e,r,s,u,o);return this.R_.Wd(h),this.hz.Wd(h),h},e.cE=function(){return!0},e.vE=function(t,n,i,e){var r=s.createElement("track");r.src=Sl(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=_E(),this.zh.appendChild(r);var u=this.zh.textTracks.getTrackById(r.id),o=new qD(u,r);return this.ez.Wd(o),this.iz.push(o),o},e.sb=function(t){this.R_.Xd(t),this.hz.Xd(t)},e._E=function(){for(var t=0,n=this.R_.Qd.slice();t<n.length;t++){n[t].Jf()}this.R_.Gd();for(var i=0,e=this.iz.slice();i<e.length;i++){var r=e[i];this.ez.Xd(r),r.Jf()}Rs(this.iz)},e.rE=function(){var t=this.zh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.Rz),t.addEventListener("removetrack",this.Cz),t.addEventListener("change",this.xz)),this.zh.addEventListener("emptied",this.Oz)},e.gE=function(){var t=this.zh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.Rz),t.removeEventListener("removetrack",this.Cz),t.removeEventListener("change",this.xz)),this.zh.removeEventListener("emptied",this.Oz)},e.Dz=function(t,n){if(L._n){if(t.kind===Xp.Mm)return void this.RW(t);if(t.kind===Xp.XA&&""===t.label&&""===t.language&&!NC(t))return void this.NW(t,n)}RC(this.ez,t)||this.ez.Wd(new qD(t,n))},e.RW=function(t){t.mode=Ww.ll;var n=new iC(t);this.ez.Wd(n),this.hz.Wd(n)},e.NW=function(t,n){var i=this;t.addEventListener("cuechange",function e(){NC(t)&&(t.removeEventListener("cuechange",e),i.ez.Wd(new qD(t,n)))}),t.mode=Ww.ll},e.Nz=function(t){for(var n=this.zh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Yo=function(t){var n=this;return this.$V.yB(function(i){var e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Ms(i),!n.NS){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.nr!==wk.ob){r.next=9;break}e=new UR(t,n,n.QB,n.hr),n.Az=!1,n.DW(new RN(n)),r.next=17;break;case 9:if(t.nr!==wk.hb){r.next=16;break}e=new bN(t,n,n.QB,n.hr),n.Az=mC,n.DW(n.Az?new NN(n):new RN(n)),pC&&(n.Hr(Fc.La,n.Pz),n.Hr(Eg.xd,n.Uz)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.NS=e,r.next=20,Sr.awrap(e.Xx());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,Ve)})},e.Lz=function(){if(!this.Sz){var t=this.a_;this.Sz=!0,this.a_=t,this.zh.playbackRate=0,this.tz&&this.tz.SF()}},e.Bz=function(){if(this.Sz){var t=this.a_;this.Sz=!1,this.a_=t,this.zh.currentTime=this.zh.currentTime,this.tz&&this.tz.SF()}},e.DW=function(t){var n=this.kl;this.tz.Sr(),this.tz=t,this.tz.Hr(Eg.xd,this.Ur);var i=this.kl;n!==i&&this.Fr(new Xg(this.e_,i))},e.Gd=function(){var t=this;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ZI=!1,this.wz=CT.VI(),this.lz.Cr(),this.az=void 0,this.cz=NaN,this.fz=void 0,this.Az=!1,this.bz=!1,this.DS=void 0,this.mz=!1,this.vz=void 0,this.pz=!1,this.kz&&(this.cW(),this.kz=!1),this.gW(new Bs),this.DW(new RN(this)),this.nz.Gd(),this.Bz(),pC&&(HE(this.Iz),this.Iz=0,this.Xr(Fc.La,this.Pz),this.Xr(Eg.xd,this.Uz)),n.next=20,Sr.awrap(this.$V.Cr());case 20:return n.next=22,Sr.awrap(this.$V.yB(function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.NS){n.next=4;break}return n.next=3,Sr.awrap(t.NS.Sr());case 3:t.NS=void 0;case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 22:case"end":return n.stop()}},null,this,null,Ve)},e.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kz=!1,this.Kz(),this.gE(),t.next=5,Sr.awrap(this.Gd());case 5:return t.next=7,Sr.awrap(this.$V.Jf());case 7:return this.nz.Sr(),this.tz.Sr(),t.next=11,Sr.awrap(this.QB.Sr());case 11:return this._E(),this.R_.Jf(),this.sz.Jf(),this.ez.Jf(),t.next=17,Sr.awrap(this.uz.Jf());case 17:this.rz.Jf(),this.oz.Jf(),this.Wr();case 20:case"end":return t.stop()}},null,this,null,Ve)},e.cW=function(){this.nE.addEventListener("play",this.Fz),this.nE.addEventListener("pause",this.Hz),this.nE.addEventListener("timeupdate",this.jz),this.nE.addEventListener("progress",this.Qz),this.nE.addEventListener("loadstart",this.Yz),this.nE.addEventListener("ended",this.Zz),this.nE.addEventListener("ratechange",this.Xz),this.nE.addEventListener("volumechange",this.tW),this.nE.addEventListener("durationchange",this.Gz),this.nE.addEventListener("resize",this.nW),this.nE.addEventListener("loadedmetadata",this.nW),this.nE.addEventListener("error",this.Jz),this.nE.addEventListener("emptied",this.$z),fs()?(this.zh.addEventListener("encrypted",this.iW),this.zh.addEventListener("waitingforkey",this.eW)):void 0!==ce.WebKitMediaKeys&&"function"==typeof ce.WebKitMediaKeys.isTypeSupported?this.zh.addEventListener("webkitneedkey",this.sW):vs()?this.zh.addEventListener("webkitneedkey",this.uW):void 0!==ce.MSMediaKeys&&"function"==typeof ce.MSMediaKeys.isTypeSupported&&this.zh.addEventListener("msneedkey",this.rW)},e.Kz=function(){this.nE.removeEventListener("play",this.Fz),this.nE.removeEventListener("pause",this.Hz),this.nE.removeEventListener("timeupdate",this.jz),this.nE.removeEventListener("progress",this.Qz),this.nE.removeEventListener("loadstart",this.Yz),this.nE.removeEventListener("ended",this.Zz),this.nE.removeEventListener("ratechange",this.Xz),this.nE.removeEventListener("volumechange",this.tW),this.nE.removeEventListener("durationchange",this.Gz),this.nE.removeEventListener("resize",this.nW),this.nE.removeEventListener("loadedmetadata",this.nW),this.nE.removeEventListener("error",this.Jz),this.nE.removeEventListener("encrypted",this.iW),this.nE.removeEventListener("waitingforkey",this.eW),this.nE.removeEventListener("webkitneedkey",this.sW),this.nE.removeEventListener("webkitneedkey",this.uW),this.nE.removeEventListener("msneedkey",this.rW),this.nE.removeEventListener("emptied",this.$z)},e.xW=function(){var t;this.KV||(this.wz=this._w,this.KV=new SN((t=this).e_,t.r_,t.s_,t.h_,t.c_,t.o_,t.a_,t.d_,t.kl),this.Kz(),this.KV.Hr(TN,this.Ur))},e.OW=function(){if(this.KV){var t,n,i=this.KV;this.KV=void 0,this.tz.SF(),t=this,(n=i).r_===t.r_||y(n.r_)&&y(t.r_)||t.Fr(new Pg(t.r_)),t.o_=n.o_,t.d_=n.d_,t.a_=n.a_,n.h_?t.M_():t.L_().catch(j),n.e_!==t.e_||n.kl>ag.Gl&&t.kl===ag.Gl?t.ys(n.e_):!n.c_&&t.c_?t.Fr(new Fg(t.e_)):n.c_&&!t.c_&&t.kl>=ag.Yl&&t.Fr(new Hg(t.e_)),!n.s_&&t.s_&&t.Fr(new Mg(t.e_)),i.Sr(),this.cW()}},e.HS=function(t){this.DS=t,this.gW(this.DS),this.Fr(new xN(this.DS))},e.PW=function(){this.BW||(lO(this.zh,i.Pe),this.Ez=!0)},e.LW=function(t){t.appendChild(this.zh)},e.lF=function(){pC&&this.Pz(),this.tz.SF()},e.ew=function(){this.QB.jV().catch(j)},b(n,[{key:"IF",get:function(){return this.Sz}},{key:"rw",get:function(){return this.NS?this.NS.rw:CT.VI()}},{key:"sw",get:function(){var t=this.TE;if(t&&!y(t.getTime())){var n=1e3*this.e_;return new Date(t.getTime()+n)}}},{key:"TE",get:function(){if(this.nE.getStartDate)return this.ZI&&this.fz||(this.fz=this.nE.getStartDate()),this.fz}},{key:"e_",get:function(){return this.KV?this.KV.e_:void 0!==this.az?this.az:this.zh.currentTime}},{key:"$P",get:function(){return this.JV}},{key:"r_",get:function(){return this.KV?this.KV.r_:this.NS?this.NS.r_:this.zh.duration}},{key:"s_",get:function(){return this.c_?this.vW():this.KV?this.KV.s_:this.zh.ended||this.mz}},{key:"ts",get:function(){return this.DS}},{key:"nE",get:function(){return this.zh}},{key:"h_",get:function(){return this.bz?this.Tz:this.KV?this.KV.h_:this.zh.paused}},{key:"_w",get:function(){return this.wz.AI(CT.UI(this.zh.played))}},{key:"qp",get:function(){return this.zh.offsetHeight*i.Pe.$i}},{key:"dg",get:function(){return this.zh.offsetWidth*i.Pe.$i}},{key:"lE",get:function(){return PT}},{key:"kl",get:function(){return this.tz.kl}},{key:"gw",get:function(){return this.NS?this.NS.gw:CT.VI()}},{key:"c_",get:function(){return this.KV?this.KV.c_:this.ZI}},{key:"o_",get:function(){return this.KV?this.KV.o_:this.zh.muted},set:function(t){this.KV?this.KV.o_=t:this.zh.muted=t}},{key:"a_",get:function(){return this.KV?this.KV.a_:void 0!==this.gz?this.gz:this.zh.playbackRate},set:function(t){this.KV?this.KV.a_=t:this.h_||this.Sz?(this.gz=t,this.qz(t)):(this.gz=void 0,this.zh.playbackRate=t)}},{key:"MW",get:function(){return this.ZE}},{key:"d_",get:function(){return this.KV?this.KV.d_:this.zh.volume},set:function(t){this.KV?this.KV.d_=t:this.zh.volume=t}},{key:"P_",get:function(){return this.oz}},{key:"tB",get:function(){return this.KI}},{key:"ow",get:function(){return!!this.zh.webkitCurrentPlaybackTargetIsWireless}},{key:"BW",get:function(){return this.Ez}},{key:"UW",get:function(){return Er({},PR)}},{key:"iE",get:function(){return this.QB.iE},set:function(t){this.QB.iE=t}},{key:"ZV",get:function(){return this.QB.ZV}},{key:"yw",get:function(){return this.pz},set:function(t){this.pz=t,this.kz&&!this.pz&&(this.kz=!1,this.cW())}}]),n}(Js);function SC(t){try{var n=lo(t),i=new po;return so(uo(Uu(n,i,Xu(n,i,!0)),!0))}catch(t){return}}var EC=.01;function IC(t,n,i){if(void 0===i&&(i=0),!n.Yd)return 0;var e=n.dI(t),r=EC*i;return e===n.eI(0)?e+=r:e===n.sI(n.Yd-1)&&(e-=r),e}function RC(t,n){for(var i=0,e=t.Qd;i<e.length;i++){var r=e[i];if(r.Nw===n)return r}}function NC(t){return!!t.cues&&t.cues.length>0}var DC=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).wd=void 0,n}return S(n,t),b(n,[{key:"gd",get:function(){return this.wd||(this.wd=KI(this)),this.wd}},{key:"pP",get:function(){}},{key:"kP",get:function(){}},{key:"AP",get:function(){}},{key:"bP",get:function(){}},{key:"TP",get:function(){}},{key:"SP",get:function(){}},{key:"EP",get:function(){}}]),n}(Js),CC=(new DC,function(t){function n(n,i,e){return t.call(this,n,i,e,new DC)||this}return S(n,t),n.prototype.j_=function(){},b(n,[{key:"f_",get:function(){return 0}},{key:"v_",get:function(){return 0}}]),n}(TC)),xC="theoplayer-texttracks",OC=function(){function t(t){void 0===t&&(t=5),this.FW=void 0;var n=ce.document.createElement("div");n.className=xC,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.FW=n,this.Q_()}var n=t.prototype;return n.Y_=function(){this.FW.style.display="none"},n.Q_=function(){$e(this.FW.style,"flex")},n.LW=function(t){t.appendChild(this.FW)},n.Jf=function(){Ze(this.FW)},b(t,[{key:"uw",get:function(){return this.FW}}]),t}();function PC(t,n){return t?Er({},n,Dw({bP:t.bP,AP:t.AP,kP:t.kP,pP:t.pP,TP:t.TP,SP:t.SP,EP:t.EP})):n}function BC(t){return t.AP&&ts(t.AP,"%")?Number(t.AP.replace("%",""))/100:t.AP&&ts(t.AP,"em")?Number(t.AP.replace("em","")):1}var LC,MC,UC=function(){function t(t,n,i,e,r){var s=this;this.HW=Rr(),this.VW=!0,this.zW=void 0,this.Jw=void 0,this.zh=void 0,this.JV=void 0,this.WW=void 0,this.XW=function(t){return s.HW.has(t.sg)},this.qW=function(t){return!s.XW(t)},this.GW=function(t){return s.eb(t.Mw)},this.QW=function(t){return s.removeCue(t.Mw)},this.YW=function(){return s.jW()},this.ZW=function(t){return s.JW(t.Mw)},this.$W=function(t){return s.KW(t.Mw)},this.tX=function(t){s.nX(t.dg,t.qp)},this.Jw=t,this.WW=this.zW=r,this.zh=this.iX(i),this.JV=e,n.appendChild(this.zh),this.eX(),this.Jw.Al.Qd.forEach(function(t){return s.eb(t)}),this.$P.Hr("ZD",this.tX),this.nX(this.$P.eC,this.$P.iC)}var n=t.prototype;return n.rX=function(t){this.zW=PC(t,this.WW),this.zW.pP&&(this.nE.style.fontFamily=this.zW.pP),this.zW.EP&&(this.nE.style.visibility=this.zW.EP),this.nX(this.$P.eC,this.$P.iC),this.sX()},n.uX=function(){return this.zW},n.eX=function(){this.Jw.Hr(dw.pd,this.GW),this.Jw.Hr(dw.Ad,this.QW),this.Jw.Hr(dw.Dd,this.YW)},n.oX=function(){var t=this;this.Jw.Xr(dw.pd,this.GW),this.Jw.Xr(dw.Ad,this.QW),this.Jw.Xr(dw.Dd,this.YW),this.Jw.Al.Qd.forEach(function(n){return t.hX(n)})},n.aX=function(t){t.Hr(Py.Ow,this.ZW),t.Hr(Py.Bw,this.$W)},n.hX=function(t){t.Xr(Py.Ow,this.ZW),t.Xr(Py.Bw,this.$W)},n.eb=function(t){t.sg||(t.sg=this.cX),this.aX(t),t.rg&&this.JW(t)},n.removeCue=function(t){this.hX(t),this.KW(t)},n.jW=function(){this.Jw.yl===Ww._l?this.fX():this.vX()},n.fX=function(){var t=this,n=this.$P.eC,i=this.$P.iC,e=new CE(n,i);this.tX(e),this.VW=!1,this.dX.forEach(function(n){return t.JW(n)})},n.JW=function(t){this.VW||this.qW(t)&&(this.lX(t),this.HW.set(t.sg,t))},n.lX=function(t){var n=this.zh,i=this._X(t);if(i)for(var e=0;e<i.length;e++){var r=i[e];r.className=t.sg,n.appendChild(r)}},n.vX=function(){var t=this;this.VW=!0,this.HW.forEach(function(n){return t.KW(n)})},n.KW=function(t){this.XW(t)&&(this.wX(t),this.HW.delete(t.sg))},n.wX=function(t){for(var n=this.zh,i=n.getElementsByClassName(t.sg);i.length;)n.removeChild(i[0])},n.sX=function(){for(var t=0,n=this.gX;t<n.length;t++){var i=n[t];this.wX(i),this.lX(i)}},n.Jf=function(){Ze(this.nE),this.oX(),this.$P.Xr("ZD",this.tX)},b(t,[{key:"md",get:function(){return this.Jw}},{key:"nE",get:function(){return this.zh}},{key:"$P",get:function(){return this.JV}},{key:"yX",get:function(){return this.zW}},{key:"gX",get:function(){return this.Jw.bl.Qd.filter(this.XW)}},{key:"dX",get:function(){return this.Jw.bl.Qd.filter(this.qW)}}]),t}();function FC(t){return HC[t||"none"]}!function(t){t.mX='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.pX='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.kX='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.AX='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(LC||(LC={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(MC||(MC={}));var HC={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function VC(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var zC=Dr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),WC=Dr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),XC={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=zC.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){is(t,"px")?t=w(t)/24+"em":is(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,e,r=t.split(" ");r.length>=2?(i=r[0],e=r[1]):i=e="100%",n.style.height=e,n.style.width=i},origin:function(t,n){var i=t.split(" "),e=i[0],r=i[1];void 0===e&&void 0===r||(void 0!==e&&(n.style.left=e),void 0!==r&&(n.style.top=r))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=WC.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(is(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},qC=0,GC={kP:MC.WHITE,pP:"Arial, Helvetica, Sans-Serif",AP:"100%",bP:MC.TRANSPARENT,TP:MC.TRANSPARENT,SP:"none",EP:"visible"},QC=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,GC)||this}S(n,t);var i=n.prototype;return i.iX=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.nX=function(t,n){var i=_.min(t,n)/15;this.nE.style.fontSize=i+"px"},i._X=function(t){if(t.md&&t.md.nr!==Dy.TTML)return[];var n,i=[],e=t,r=e.PA,u=e.Wy,o=e.Hw;if(0===l.keys(u).length){Je(n=s.createElement("div"),e.sg),tx(n);for(var h=YC(o,r,e.BA,void 0,this.nE),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=l.keys(u);f<v.length;f++){var d=v[f],_=s.createElement("div");_.id=d,Je(_,e.sg);var w=YC(o,r,e.BA,_,this.nE);if(w){tx(_),JC(_,u[d],r,this.nE);for(var g=0;g<w.length;g++){var y=w[g];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.rX=function(t){},b(n,[{key:"cX",get:function(){return"theoplayer-ttmlcue-"+qC++}}]),n}(UC);function YC(t,n,i,e,r){var s,u;if(Gt(t)&&("SPAN"===(u=t).Wn.toUpperCase()||"P"===u.Wn.toUpperCase()||"BR"===u.Wn.toUpperCase()||"DIV"===u.Wn.toUpperCase()||"BODY"===u.Wn.toUpperCase())){var o=function t(n){var i=n.ei("region");if("p"===n.Wn.toLowerCase())return i;var e=[];for(var r=0,s=n.ii;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||e.id===o){(function(t,n,i,e){var r=n.ei("style");KC(t,r,i,e),function(t,n,i){Array.prototype.slice.call(n.ai).forEach(function(n){var e=Np(n.Xn,["ebutts","tts","xml"]);XC[e]&&XC[e](n.Qn,t,i)})}(t,n,e)})(s="BODY"===t.Wn.toUpperCase()?e:jC(t),t,n,r),function(t,n,i){var e=null==n?void 0:n.ei("smpte:backgroundImage");if(e){e=e.replace("#","");var r=function t(n,i){if(n&&i(n))return n;var e=null;if(null!=n&&n.ii)for(var r=0,s=null==n?void 0:n.ii;r<s.length;r++){var u=s[r];if(e=t(u,i))break}return e}(i,function(t){return t.ai.some(function(t){return"id"===t.Wn&&t.Qn===e})});r&&$C(t,r,n,!0)}!function(t,n){var i=n.ii[0];if(!i||"metadata"!==i.Wn.toLowerCase())return;var e=i.ii[0];$C(t,e,n)}(t,n)}(s,t,i);for(var h=[],a=t.Jn,c=0;c<a.length;c++){var f=YC(a[c],n,i,e,r);f&&(h=h.concat(f))}if("BODY"!==t.Wn.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else Qt(t)&&(s=jC(t));if(s)return[s]}function jC(t){var n,i;if(Qt(t))VC(n=s.createElement("text"),t.fi);else if(Gt(t))switch(t.Wn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",ZC(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),ZC(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",ZC(n,t)}return n}function ZC(t,n){var i=n.ri(Ep,"id");i&&(t.id=i)}function JC(t,n,i,e){KC(t,n.style,i,e),l.keys(n).forEach(function(i){XC[i]&&XC[i](n[i],t)})}function $C(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.Jn.length>0?t.Jn[0]:null;return n&&Qt(n)?"data:image/png;base64,"+n.fi:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.ei("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.ei("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function KC(t,n,i,e){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(r){var s=Np(r,["ebutts","tts","xml"]);"style"===s.toLowerCase()?KC(t,i[n][r],i,e):XC[s]&&XC[s](i[n][r],t,e)})})}function tx(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var nx,ix,ex=void 0;function rx(t,n){for(var i,e=nx.bX,r="",s=[],u=t.charAt(n.ks),o="",h={nr:ix.TX,$n:"",SX:[]};n.ks<t.length+1;){switch(u=n.ks<t.length?t.charAt(n.ks):"EOF",e){case nx.bX:switch(u){case"&":var a=t.substr(n.ks).match(/&#?[0-9a-zA-Z]+;/);a?(r+=(i=a[0],ex||(ex=ce.document.createElement("textarea")),ex.innerHTML=i,ex.value),n.gs(a[0].length-1)):r+="&";break;case"<":if(r)return{nr:ix.EX,Hw:r};e=nx.IX;break;case"EOF":return{nr:ix.EX,Hw:r};default:r+=u}break;case nx.IX:switch(u){case"\t":case"\n":case"\f":case" ":e=nx.RX;break;case".":e=nx.NX;break;case"/":e=nx.DX;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=nx.CX;break;case">":return n.gs(1),h;case"EOF":return h;default:r=u,e=nx.xX}break;case nx.xX:switch(u){case"\t":case"\f":case" ":e=nx.RX;break;case"\n":o=u,e=nx.RX;break;case".":e=nx.NX;break;case">":return n.gs(1),{nr:ix.TX,$n:r,SX:[]};case"EOF":return{nr:ix.TX,$n:r,SX:[]};default:r+=u}break;case nx.NX:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=nx.RX;break;case"\n":s.push(o),o=u,e=nx.RX;break;case".":s.push(o),o="";break;case">":return n.gs(1),s.push(o),{nr:ix.TX,$n:r,SX:s};case"EOF":return s.push(o),{nr:ix.TX,$n:r,SX:s};default:o+=u}break;case nx.RX:switch(u){case"&":e=nx.OX;break;case">":n.gs(1);var c=o.trim();return c=c.replace(/\s/," "),{nr:ix.TX,$n:r,SX:s,PX:c};default:o+=u}break;case nx.OX:for(var f="",v=n.ks;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=nx.RX;break;case nx.DX:switch(u){case">":return n.gs(1),{nr:ix.BX,$n:r};case"EOF":return{nr:ix.BX,$n:r};default:r+=u}break;case nx.CX:switch(u){case">":return n.gs(1),{nr:ix.LX,MX:r};case"EOF":return{nr:ix.LX,MX:r};default:r+=u}}n.gs(1)}}!function(t){t.bX="Data",t.IX="Tag",t.xX="StartTag",t.NX="StartTagClass",t.RX="StartTagAnnotation",t.OX="CharRefInAnnotation",t.DX="EndTag",t.CX="TimestampTag"}(nx||(nx={})),function(t){t.EX="string",t.TX="starttag",t.BX="endtag",t.LX="timestamp"}(ix||(ix={}));var sx,ux,ox={kP:MC.WHITE,pP:"sans-serif",AP:"100%",bP:"rgba(0,0,0,0.8)",TP:MC.TRANSPARENT,SP:"none",EP:"visible"},hx="theoplayer-webvtt-region-",ax="theoplayer-webvtt-styling-",cx="theoplayer-webvtt-voice-",fx=5.23,vx=1.14,dx=0,lx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,ox)||this).UX={},s.FX=mx(3),s}S(n,t);var i=n.prototype;return i.iX=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,tr(n),$e(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.yX.pP,n.style.whiteSpace="pre-line",n},i.nX=function(t,n){for(var i=n/100,e=t/100,r=_.min(i,e),s=BC(this.yX),u=0,o=l.keys(this.HX);u<o.length;u++){var h=o[u],a=this.HX[h].VX;this.zX(a,r,s,this.HX[h].Gw)}this.zX(this.WX,r,s),this.XX()},i.XX=function(){var t=BC(this.yX);this.WX.style.padding=t>=1.5?"0":1/t+"em"},i.lX=function(t){var n=this.nE,i=this.$P.iC/100,e=this.WX;t.Gw&&(this.HX[t.Gw.ul]||(this.HX[t.Gw.ul]={Gw:t.Gw,VX:px(t.Gw,i)}),e=this.HX[t.Gw.ul].VX),n.querySelector("."+e.className)||n.appendChild(e);var r=this._X(t);e.children.length>=1&&t.Gw&&"up"===t.Gw.cg&&(e.style.transitionProperty="top",e.style.transitionDuration="0.433s");for(var s=0;s<r.length;s++){var u=r[s];u.className=t.sg,e.appendChild(u)}},i._X=function(t){var n=[];return t&&n.push(this.qX(t)),n},i.qX=function(t){for(var n=new po,i=t.Hw,e=this.GX(t),r=e,u="",o=[],h={};n.ks<i.length;){var a=rx(i,n);if(a.nr===ix.EX){var c=this.QX(a.Hw);_x(c,h),r.appendChild(c)}else if(a.nr===ix.TX){switch(h[a.$n.toLowerCase()]||(h[a.$n.toLowerCase()]=[]),h[a.$n.toLowerCase()].push(a),a.$n.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");r.appendChild(f),r=f;break;case"b":var v=s.createElement("b");r.appendChild(v),r=v;break;case"u":var d=s.createElement("u");r.appendChild(d),r=d;break;case"ruby":var l=s.createElement("ruby");r.appendChild(l),r=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");r.appendChild(_)}break;case"v":break;case"lang":o.push(a.PX)}u=a.$n||""}else if(a.nr===ix.BX){h[a.$n.toLowerCase()]&&h[a.$n.toLowerCase()].pop(),(!a.$n||"C"!==a.$n.toUpperCase()&&"V"!==a.$n.toUpperCase())&&("LANG"===a.$n.toUpperCase()?o.pop():"RUBY"===a.$n.toUpperCase()&&"RUBY"===r.tagName?r=r.parentNode.parentNode:r.tagName&&r.tagName.toUpperCase()===a.$n.toUpperCase()&&(r=r.parentNode)),u=a.$n||""}else if(a.nr===ix.LX){var w=a.MX,g=new po;try{Zm(w,g)}catch(t){ut("ERROR collecting timestamp",t)}}}return e},i.QX=function(t){var n=s.createElement("span");return VC(n,t),n.style.background=this.yX.bP,n.style.color=this.yX.kP,n},i.zX=function(t,n,i,e){if(e){var r=wx(e,n);t.style.height=r*i+"px",t.style.left=gx(e)+"%",t.style.top=yx(e,n)+"px"}t.style.fontSize=fx*n*i+"px"},i.GX=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Vw,function(t,n){"rl"===n.Yw?t.style.writingMode="vertical-rl":"lr"===n.Yw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Ky(n);kx(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=$y(n),s=Jy(n),u=Ky(n);kx(n)?("line-left"===r?i=s:"center"===r?i=s-u/2:"line-right"===r&&(i=s-u),e=n.Qw?0:Zy(n)):("line-left"===r?e=s:"center"===r?e=s-u/2:"line-right"===r&&(e=s-u),i=n.Qw?0:Zy(n));t.style.left=i+"%",t.style.top=e+"%"}(n,t),n.style.background=this.yX.TP,n.style.color=this.yX.kP,n.style.textShadow=FC(this.yX.SP),n},i.wX=function(t){for(var n=t.sg,i=this.nE,e=i.children,r=0;r<e.length;r++){for(var s=e[r].getElementsByClassName(n),u=0;u<s.length;u++)e[r].removeChild(s[u]);if(0===e[r].childNodes.length){for(var o=0,h=l.keys(this.HX);o<h.length;o++){var a=h[o];if(ts(e[r].className,hx+a)){delete this.HX[a];break}}i.removeChild(e[r])}}},b(n,[{key:"HX",get:function(){return this.UX||(this.UX={}),this.UX}},{key:"WX",get:function(){return this.FX||(this.FX=mx(3)),this.FX}},{key:"cX",get:function(){return"theoplayer-webvtt-cue-"+dx++}}]),n}(UC);function _x(t,n){if(n.c)for(var i=0,e=n.c;i<e.length;i++){var r=e[i];if(r.SX)for(var s=0,u=r.SX;s<u.length;s++){var o=u[s];Je(t,ax+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.PX&&Je(t,cx+c.PX)}}function wx(t,n){return t.og*(fx*n)*vx}function gx(t){return t.fg-t.hg*t.dg/100}function yx(t,n){var i=t.vg,e=t.ag*wx(t,n)/100;return _.max(0,i-e)}function mx(t){var n=s.createElement("div");return n.className=hx+"default",tr(n),$e(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=fx*t+"px",n.style.lineHeight=vx+"em",n}function px(t,n){var i=mx(n);i.className=hx+t.ul;var e=t.dg,r=wx(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=gx(t)+"%",i.style.top=yx(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function kx(t){return""===t.Yw}!function(t){t[t.YX=0]="YX",t[t.jX=1]="jX",t[t.ZX=2]="ZX",t[t.JX=3]="JX",t[t.$X=4]="$X",t[t.KX=5]="KX"}(sx||(sx={})),function(t){t[t.tq=0]="tq",t[t.nq=1]="nq",t[t.iq=2]="iq",t[t.rq=3]="rq"}(ux||(ux={}));var Ax=15,bx=32,Tx=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),Sx=function(){function t(){this.sq=[],this.uq=0,this.oq=void 0;for(var t=0;t<bx;t++)this.sq.push(null);this.oq=!1}var n=t.prototype;return n.hq=function(t){for(var n=0;n<bx;n++)t&&(this.sq[n]=t.sq[n])},n.eg=function(t){for(var n=0;n<bx;n++)if(this.sq[n]!==t.sq[n])return!1;return!0},n.aq=function(){for(var t=0;t<bx;t++)if(null!==this.sq[t])return!1;return!0},n.cq=function(t){this.uq!==t&&(this.uq=t),this.uq<0?this.uq=0:this.uq>bx&&(this.uq=bx-1)},n.fq=function(t){var n=this.uq+t;this.cq(n)},n.vq=function(){this.fq(-1),this.sq[this.uq]=null},n.dq=function(t){t>=144&&this.vq();var n,i=Tx[n=t]?String.fromCharCode(Tx[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.uq>=bx||(32===Number(t)?(this.sq[this.uq]=this.oq?"</i>":"<i>",this.oq=!this.oq):this.sq[this.uq]=t,this.fq(1))},n.lq=function(t){for(var n=t;n<bx;n++)this.sq[n]=null},n.ds=function(){this.lq(0),this.uq=0},n._q=function(){this.lq(this.uq)},n.wq=function(t,n){for(var i=this.sq,e=null,r=0;r<bx;r++){var s=i[r];null===s?e=null:(e||(e={gq:r,yq:t,dg:0,qp:1,sq:[[]]},n.push(e)),e.sq[0].push(s),e.dg++)}},n.Py=function(t,n){return t.mq(this.sq,n)},t}();var Ex=function(){function t(){this.pq=void 0,this.kq=void 0,this.Aq=null,this.pq=[];for(var t=0;t<Ax;t++)this.pq.push(new Sx);this.kq=Ax-1,this.Gd()}var n=t.prototype;return n.hq=function(t){for(var n=0;n<Ax;n++)this.pq[n].hq(t.pq[n])},n.eg=function(t){for(var n=!0,i=0;i<Ax;i++)if(!this.pq[i].eg(t.pq[i])){n=!1;break}return n},n.aq=function(){for(var t=!0,n=0;n<Ax;n++)if(!this.pq[n].aq()){t=!1;break}return t},n.Gd=function(){for(var t=0;t<Ax;t++)this.pq[t].ds();this.kq=Ax-1},n.dq=function(t){this.pq[this.kq].dq(t)},n.bq=function(){this.pq[this.kq].vq()},n._q=function(){this.pq[this.kq]._q()},n.Tq=function(){if(null!==this.Aq){var t=this.kq+1-this.Aq,n=this.pq[t];n&&(Es(this.pq,t),n.ds(),this.pq.splice(this.kq,0,n))}},n.fq=function(t){this.pq[this.kq].fq(t)},n.Sq=function(t){this.Aq=t},n.Eq=function(t){var n=t.Iq;this.Aq&&n<this.Aq-1&&(n=this.Aq-1),this.kq=n;var i=this.pq[this.kq];null!==t.Rq&&i.cq(t.Rq)},n.Nq=function(){for(var t=this.pq,n=[],i=0;i<t.length;i++){t[i].wq(i,n)}for(var e=0;e<n.length;e++){for(var r=!1,s=n[e],u=n.length-1;u>e;){var o=n[u];Rx(s,o)&&(s=Ix(s,o),Es(n,u),r=!0),u--}r&&(n[e]=s,e--)}return n.map(Nx)},n.Py=function(t){return t.Dq(this.pq)},t}();function Ix(t,n){for(var i=_.min(t.gq,n.gq),e=_.min(t.yq,n.yq),r=_.max(t.gq+t.dg,n.gq+n.dg)-i,s=_.max(t.yq+t.qp,n.yq+n.qp)-e,u=new Array(s),o=0;o<s;o++){var h=new Array(r),a=t.sq[o+e-t.yq];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.gq]=a[c]);var f=n.sq[o+e-n.yq];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.gq]=f[v]);u[o]=h}return{gq:i,yq:e,dg:r,qp:s,sq:u}}function Rx(t,n){return t.gq<=n.gq+n.dg&&n.gq<=t.gq+t.dg&&t.yq<=n.yq+n.qp&&n.yq<=t.yq+t.qp}function Nx(t){for(var n=new Array(t.qp),i=t.sq,e=0;e<i.length;e++){for(var r=i[e],s=[],u=!1,o=0;o<r.length;o++){var h=r[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[e]=s.join("")}var a=n.join("\n");return{gq:t.gq,yq:t.yq,dg:t.dg,qp:t.qp,Hw:a}}var Dx=function(){function t(t,n){this.Iq=t,this.Rq=n}return t.prototype.eg=function(t){return this.Iq===t.Iq&&this.Rq===t.Rq},t}(),Cx=function(){function t(t){this.Cq=void 0,this.xq=void 0,this.Oq=t,this.Cq=this.Pq(),this.xq=this.Bq()}var n=t.prototype;return n.Pq=function(){for(var t=new Dx(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.Lq;n<i.length;n++){var e=i[n],r=_.min(t.Iq,e.Mq.Iq),s=_.min(t.Rq,e.Mq.Rq);t=new Dx(r,s)}return t},n.Bq=function(){for(var t=new Dx(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.Lq;n<i.length;n++){var e=i[n],r=_.max(t.Iq,e.Uq.Iq),s=_.max(t.Rq,e.Uq.Rq);t=new Dx(r,s)}return t},b(t,[{key:"Mq",get:function(){return this.Cq}},{key:"Uq",get:function(){return this.xq}},{key:"Lq",get:function(){return Ns(this.Oq.map(function(t){return t.Lq}))}}]),t}(),xx=function(){function t(t,n){this.Fq="",this.IP=t,this.Cq=n}var n=t.prototype;return n.dq=function(t){this.Fq+=t},n.Hq=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.dq(i)}},b(t,[{key:"Vq",get:function(){return this.Fq}},{key:"Lq",get:function(){return[this]}},{key:"zq",get:function(){return this.IP}},{key:"Mq",get:function(){return this.Cq}},{key:"Uq",get:function(){return new Dx(this.Mq.Iq,this.Mq.Rq+this.Vq.length-1)}}]),t}(),Ox=function(){function t(){}var n=t.prototype;return n.Wq=function(t){return t.Py(this)},n.Dq=function(t){var n=this;return Ns(t.map(function(t,i){return t.Py(n,i)}))},n.mq=function(t,n){return new Px(t,n).Xq()},t}(),Px=function(){function t(t,n){this.qq=[],this.Gq=null,this.Iq=t,this.Qq=n}var n=t.prototype;return n.Xq=function(){if(this.Yq)return[];for(var t=0;t<this.Iq.length;t++)this.jq(t);return this.Zq(),this.qq},n.Jq=function(t){this.Gq=new xx(zx,new Dx(this.Qq,t))},n.Zq=function(){this.Gq&&(this.qq.push(this.Gq),this.Gq=null)},n.jq=function(t){var n=this.Iq[t];Bx(n)?this.Gq&&this.Zq():(this.Gq||this.Jq(t),this.Gq.dq(n))},b(t,[{key:"Yq",get:function(){return this.Iq.every(Bx)}}]),t}();function Bx(t){return null==t}var Lx,Mx=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Qy),Ux=function(t){function n(n,i){var e;return(e=t.call(this,"Kq")||this).$q=n,e.Mw=i,e}return S(n,t),n}(Ks);!function(t){t[t.XE=0]="XE",t[t.tG=1]="tG",t[t.nG=2]="nG",t[t.iG=3]="iG",t[t.Bn=4]="Bn"}(Lx||(Lx={}));var Fx,Hx=function(t){function n(){var n;return(n=t.call(this)||this).oy=0,n.Uw=0,n.eG=void 0,n.rG=void 0,n.sG=void 0,n.uG=void 0,n.yl=Lx.XE,n.eG=new Ex,n.rG=new Ex,n.sG=new Ex,n.uG=n.eG,n}S(n,t);var i=n.prototype;return i.dq=function(t){this.uG.dq(t),this.yl!==Lx.tG&&this.yl!==Lx.nG||this.oG()},i.DR=function(t){t!==this.yl&&(this.yl=t,this.yl===Lx.iG?this.uG=this.rG:(this.uG=this.eG,this.uG.Gd()),this.yl!==Lx.nG&&(this.eG.Sq(null),this.rG.Sq(null)))},i.Eq=function(t){this.uG.Eq(t)},i.hG=function(){this.DR(Lx.iG)},i.aG=function(){this.yl!==Lx.Bn&&(this.uG.bq(),this.uG===this.eG&&this.oG())},i.cG=function(){},i.fG=function(){},i.vG=function(){this.uG._q(),this.oG()},i.dG=function(t){this.uG=this.eG,this.DR(Lx.nG),this.uG.Sq(t)},i.lG=function(){},i._G=function(){this.DR(Lx.tG)},i.wG=function(){this.DR(Lx.Bn)},i.gG=function(){this.DR(Lx.Bn)},i.yG=function(){this.eG.Gd(),this.oG()},i.mG=function(){this.uG.Tq(),this.oG()},i.pG=function(){this.rG.Gd()},i.kG=function(){if(this.yl===Lx.iG){var t=this.eG;this.eG=this.rG,this.rG=t,this.uG=this.rG}this.oG()},i.AG=function(t){this.uG.fq(t)},i.oG=function(){if(null!==this.oy){if((null===this.Uw||0===this.Uw)&&!this.eG.aq())this.Uw=this.oy;else if(!this.eG.eg(this.sG)){var t=this.bG();if(this.oy>this.Uw){var n=new Mx(this.Uw,this.oy,t);this.Fr(new Ux(1,n))}this.Uw=this.eG.aq()?null:this.oy}this.sG.hq(this.eG)}},i.bG=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var e=i.pop(),r=void 0;do{r=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return _.abs(t.Uq.Rq-n.Mq.Rq)<=1||_.abs(n.Uq.Rq-t.Mq.Rq)<=1||_.abs(t.Uq.Iq-n.Mq.Iq)<=1||_.abs(n.Uq.Iq-t.Mq.Iq)<=1}(o=e,h=u)||function(t,n){return Vx(t.Mq.Iq,t.Uq.Iq,n.Mq.Iq,n.Uq.Iq)&&Vx(t.Mq.Rq,t.Uq.Rq,n.Mq.Rq,n.Uq.Rq)}(o,h))&&(e=new Cx([].concat(e.Lq,u.Lq)),Ss(i,u),r=!0)}}while(r&&i.length>0);n.push(e)}var o,h;return n}((new Ox).Wq(this.sG))},i.Gd=function(){this.oy=0,this.Uw=0,this.eG.Gd(),this.eG.Sq(null),this.rG.Gd(),this.rG.Sq(null),this.sG.Gd(),this.sG.Sq(null),this.uG=this.eG,this.yl=Lx.XE},n}(Js);function Vx(t,n,i,e){return n>=i&&e>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(Fx||(Fx={}));var zx={kP:MC.WHITE,pP:LC.kX,AP:"100%",bP:MC.BLACK,TP:"transparent",SP:"none",TG:Fx.FONT_REGULAR,EP:"visible"},Wx=[{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.GREEN,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.GREEN,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.BLUE,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.BLUE,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.CYAN,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.CYAN,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.RED,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.RED,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.YELLOW,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.YELLOW,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.MAGENTA,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.MAGENTA,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.WHITE,TG:Fx.FONT_ITALICS,Rq:0},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE_ITALICS,Rq:0},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:0},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:0},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:4},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:4},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:8},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:8},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:12},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:12},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:16},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:16},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:20},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:20},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:24},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:24},{SG:MC.WHITE,TG:Fx.FONT_REGULAR,Rq:28},{SG:MC.WHITE,TG:Fx.FONT_UNDERLINE,Rq:28}],Xx=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],qx=function(t){function n(){var n;(n=t.call(this)||this).EG=void 0,n.IG=null,n.RG=null,n.NG=0;var i=new Hx;return n.EG=[i,new Hx],i.Hr("Kq",n.Ur),n}S(n,t);var i=n.prototype;return i.Gd=function(){for(var t=0,n=this.EG;t<n.length;t++){n[t].Gd()}},i.DG=function(t,n){if(n.nr===ux.tq&&n.CG){n.xG&&(this.NG=0),this.EG[this.NG].oy=t;var i=127&n.OG,e=127&n.PG;if(i+e!==0){switch(i){case 17:e>=32&&e<=47&&this.BG(),e>=48&&e<=63&&this.LG(i,e);break;case 18:case 19:e>=32&&e<=63&&this.LG(i,e);break;case 20:case 21:e>=32&&e<=47&&this.MG(i,e);break;case 23:e>=33&&e<=35&&this.MG(i,e),e>=46&&e<=47&&this.BG()}16===i&&e>=64&&e<=95?this.UG(i,e):i>=17&&i<=23&&e>=64&&e<=127&&this.UG(i,e),i>=32&&this.LG(i,e)}}},i.MG=function(t,n){var i=null;if(t===this.IG&&n===this.RG)return this.IG=null,this.RG=null,!0;i=20===t||23===t?0:1;var e=this.EG[i];return 20===t||28===t?32===n?e.hG():33===n?e.aG():34===n?e.cG():35===n?e.fG():36===n?e.vG():37===n?e.dG(2):38===n?e.dG(3):39===n?e.dG(4):40===n?e.lG():41===n?e._G():42===n?e.wG():43===n?e.gG():44===n?e.yG():45===n?e.mG():46===n?e.pG():47===n&&e.kG():e.AG(n-32),this.IG=t,this.RG=n,this.NG=i,!0},i.UG=function(t,i){t===this.IG&&i===this.RG&&(this.IG=null,this.RG=null);var e=t<=23?0:1,r=Xx[t<<1&14|i>>5&1]-1;if(!(r<0)){var s=n.FG(r,i);this.EG[e].Eq(s),this.IG=t,this.RG=i,this.NG=e}},n.FG=function(t,n){var i=n>95?n-96:n-64;return{SG:Wx[i].SG,TG:Wx[i].TG,Rq:Wx[i].Rq,Iq:t}},i.LG=function(t,n){var i=t>=25?t-8:t,e=this.EG[this.NG],r=!1;switch(i){case 17:e.dq(n+80),r=!0;break;case 18:e.dq(n+112),r=!0;break;case 19:e.dq(n+144),r=!0;break;default:t>=32&&(e.dq(t),n>=32&&e.dq(n),r=!0)}r&&(this.IG=null,this.RG=null)},i.BG=function(){this.EG[this.NG].uG.fq(1)},i.Jf=function(){this.Wr()},b(n,[{key:"wk",get:function(){return this.EG.length}}]),n}(Js),Gx=function(){function t(t,n,i){this.HG=void 0,this.VG=t,this.zG=n,this.zW=i}var n=t.prototype;return n.WG=function(){return this.HG=this.XG(),this.qG(),this.GG(),this.HG},n.XG=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.QG/bx*this.zG.YG*100+"%",t.style.height=1.2*this.jG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.zG.ZG?"calc(1em - 1ch)":"",t.style.fontFamily=this.zW.pP,t.style.backgroundColor=this.zW.TP,t},n.qG=function(){var t=this.JG.Iq/Ax*100,n=this.JG.Rq/bx*100,i=(bx-this.$G.Rq-1)/bx*100,e=(Ax-this.$G.Iq-1)/Ax*100;this.zG.KG||(n=i=1,this.HG.style.width="98%"),e<t?this.HG.style.bottom=e*this.zG.YG+"%":this.HG.style.top=t*this.zG.YG+"%",i<n?this.HG.style.right=i+"%":this.HG.style.left=n+"%"},n.GG=function(){for(var t=this.VG.Lq.sort(Qx),n=0;n<t.length;n++)this.tQ(t[n-1],t[n]),this.nQ(t[n]);this.tQ(t[t.length-1],null)},n.nQ=function(n){var i=PC(this.zW,n.zq),e=t.iQ(i);VC(e,n.Vq),this.HG.appendChild(e)},t.iQ=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.TG!==Fx.FONT_ITALICS&&t.TG!==Fx.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.TG!==Fx.FONT_UNDERLINE&&t.TG!==Fx.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.kP,n.style.backgroundColor=t.bP,n.style.textShadow=FC(t.SP),n.style.height="1.2em",n},n.tQ=function(t,n){var i=t?t.Uq.Iq:this.VG.Mq.Iq,e=n?n.Mq.Iq:this.VG.Uq.Iq,r=t?t.Uq.Rq:this.VG.Mq.Rq,s=n?n.Mq.Rq:this.VG.Uq.Rq;i<e&&(!n||t&&t.Mq.Iq!==n.Mq.Iq?this.eQ():this.rQ(this.VG.Uq.Rq-r),r=this.VG.Mq.Rq),r<s&&(n?this.rQ(s-r):this.eQ())},n.eQ=function(){var t=s.createElement("br");this.HG.appendChild(t)},n.rQ=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",VC(n,rs(" ",t)),this.HG.appendChild(n)}},b(t,[{key:"JG",get:function(){return this.VG.Mq}},{key:"$G",get:function(){return this.VG.Uq}},{key:"QG",get:function(){return this.VG.Uq.Rq-this.VG.Mq.Rq+1}},{key:"jG",get:function(){return this.VG.Uq.Iq-this.VG.Mq.Iq+1}}]),t}();function Qx(t,n){return function(t,n){if(t.Iq!==n.Iq)return t.Iq-n.Iq;return t.Rq-n.Rq}(t.Mq,n.Mq)}var Yx=0;var jx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,zx)||this).sQ=void 0,s.uQ=void 0,s}S(n,t);var i=n.prototype;return i.iX=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.yX.pP&&(n.style.fontFamily=this.yX.pP),n},i.nX=function(t,n){this.oQ()},i.oQ=function(){var t,n=BC(this.yX);this.uQ={YG:(t=100*n)/100,ZG:t<=100,KG:t<=150};var i=this.hQ/bx;this.sQ=i*n,this.nE.style.fontSize=this.sQ+"px"},i._X=function(t){var n=this;return this.uQ&&this.uQ.KG?this.aQ(80):this.aQ(100),this.oQ(),t.Hw.map(function(t){return new Gx(t,n.uQ,n.yX).WG()})},i.aQ=function(t){var n=(100-t)/2;this.nE.style.left=n+"%",this.nE.style.width=t+"%"},b(n,[{key:"hQ",get:function(){var t=this.nE.offsetWidth;return this.uQ&&this.uQ.KG||(t*=.8),t}},{key:"cX",get:function(){return"theoplayer-cea608-texttrack-"+Yx++}}]),n}(UC),Zx=function(){function t(t,n,i,e,r){var s=this;this.cQ=void 0,this.JV=void 0,this.R_=void 0,this.fQ=void 0,this.vQ=[],this.KI=void 0,this.dQ=function(t){var n=t.md;n.Hr(dw.xd,s.lQ),n.Hr(dw.Pd,s.lQ),n instanceof qD&&(n.IH=s.IH),s._Q(n)},this.lQ=function(t){var n=t.md;s._Q(n)},this.wQ=function(t){var n=t.md;n.Xr(dw.xd,s.lQ),n.Xr(dw.Pd,s.lQ),s.gQ(n)},this.yQ=function(){for(var t=s.IH,n=0,i=s.R_.Qd;n<i.length;n++){var e=i[n];e instanceof qD&&(e.IH=t)}},this.mQ=function(){for(var t=0,n=s.vQ;t<n.length;t++){n[t].rX(s.KI)}},this.pQ=function(){for(var t=0,n=s.vQ;t<n.length;t++){var i=n[t];i.rX(Er({},i.uX(),{EP:"hidden"}))}},this.kQ=function(){for(var t=0,n=s.vQ;t<n.length;t++){var i=n[t];i.rX(Er({},i.uX(),{EP:"visible"}))}},this.cQ=t,this.JV=n,this.R_=i,this.fQ=r,this.KI=e,this.R_.Hr(aw.vd,this.dQ),this.R_.Hr(aw.ld,this.wQ),this.R_.Hr("Cd",this.lQ),this.fQ.Hr(NT.Dd,this.yQ),this.KI.Hr("Cd",this.mQ),this.yQ()}var n=t.prototype;return n.AQ=function(t){for(var n=0,i=this.vQ;n<i.length;n++){var e=i[n];if(e.md===t)return e}},n.bQ=function(t){switch(t.nr){case Dy.TTML:case Dy.SRT:case Dy.WEBVTT:case Dy.CEA608:return!0}return!1},n.TQ=function(t){switch(t.nr){case Dy.TTML:return new QC(t,this.cQ,t.al,this.JV);case Dy.SRT:case Dy.WEBVTT:return new lx(t,this.cQ,t.al,this.JV);case Dy.CEA608:return new jx(t,this.cQ,t.al,this.JV)}},n.SQ=function(t){var n=this.AQ(t);n||((n=this.TQ(t)).rX(this.KI),this.vQ.push(n),t.yl===Ww._l&&n.fX())},n.gQ=function(t){for(var n=this.vQ,i=n.length-1;i>=0;i-=1){var e=n[i];e.md===t&&(e.Jf(),Es(n,i))}},n._Q=function(t){var n;(n=t.hl)!==Xp.Bm&&n!==Xp.XA||!this.bQ(t)||(t.kl===Ny.ERROR?this.gQ(t):this.SQ(t))},n.Gd=function(){for(var t=0,n=this.vQ;t<n.length;t++){var i=n[t];i.md.Xr(dw.xd,this.lQ),i.md.Xr(dw.Pd,this.lQ),i.Jf()}Rs(this.vQ)},n.Jf=function(){this.Gd();for(var t=0,n=this.vQ;t<n.length;t++){n[t].Jf()}this.R_.Xr(aw.vd,this.dQ),this.R_.Xr(aw.ld,this.wQ),this.R_.Xr("Cd",this.lQ),this.fQ.Xr(NT.Dd,this.yQ),this.KI.Xr("Cd",this.mQ)},b(t,[{key:"IH",get:function(){return this.fQ.WI}}]),t}();function Jx(t){var n=new tI,i=function(t){var n=[];return $E.TC(t)&&n.push(new $E(t)),KE.TC(t)&&n.push(new KE(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.NC(r)}n.RC(i[0])}return n}var $x,Kx=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).EQ=void 0,s.IQ=void 0,s.RQ=void 0,s.RQ=Jx(n),s.EQ=new OC,s.IQ=new Zx(s.EQ.uw,s.$P,s.P_,s.tB,s.lE),s}S(n,t);var i=n.prototype;return i.j_=function(){return this.zh},i.Sr=function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.RQ.Jf(),this.EQ.Jf(),this.IQ.Jf(),n.next=5,Sr.awrap(t.prototype.Sr.call(this));case 5:case"end":return n.stop()}},null,this,null,Ve)},i.Y_=function(){t.prototype.Y_.call(this),this.EQ.Y_()},i.Q_=function(){t.prototype.Q_.call(this),this.EQ.Q_()},i.LW=function(n){t.prototype.LW.call(this,n),this.EQ.LW(n)},b(n,[{key:"nE",get:function(){return this.zh}},{key:"f_",get:function(){return this.zh.videoHeight}},{key:"v_",get:function(){return this.zh.videoWidth}},{key:"lE",get:function(){return this.RQ}}]),n}(TC);!function(t){t.NQ="HELLO",t.DQ="HI_THERE",t.CQ="INITIALIZE",t.xQ="APPEND_INIT",t.OQ="APPEND_DATA",t.PQ="ACK",t.BQ="REMOVE",t.LQ="DESTROY_SESSION"}($x||($x={}));var tO=function(){function t(){this.Ri=void 0,this.Hh=void 0,this.NB=new yR}var n=t.prototype;return n.MQ=function(t){var n=this;return this.NB.yB(function(t){var i,e,r,s,u,h;return Sr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(Ms(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){a.next=7;break}return a.next=7,Sr.awrap(ow(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){a.next=10;break}return a.next=10,Sr.awrap(ow(o.serviceWorker.controller,"activate",t));case 10:return s={kind:$x.NQ,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.Ri=e,a.prev=15,a.next=18,Sr.awrap(ow(e,"message",t));case 18:if(u=a.sent,(h=u.data).kind===$x.DQ){a.next=23;break}throw new v("Could not set up message channel");case 23:n.Hh=h.sessionId,a.next=30;break;case 26:throw a.prev=26,a.t0=a.catch(15),Ls(a.t0)&&n.UQ(),a.t0;case 30:case"end":return a.stop()}},null,null,[[15,26]],Ve)},t)},n.FQ=function(t,n){var i=this;return this.Ri,this.NB.yB(function(){var e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Ri){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Ri.postMessage(t,n),r.next=7,Sr.awrap(ow(i.Ri,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,Ve)})},n.HQ=function(){var t=this;return this.NB.yB(function(){return t.UQ()})},n.UQ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.Ri){var t={kind:$x.LQ};this.Ri.postMessage(t),this.Ri.close(),this.Ri=void 0}},t}(),nO=function(){function t(){this.VQ=sm.py}var n=t.prototype;return n.zQ=function(t,n){var i=t.Eg(n);this.VQ=i.wg(this.WQ)?this.VQ:i},n.XQ=function(t){this.VQ=t},b(t,[{key:"WQ",get:function(){return this.VQ}}]),t}(),iO=function(t){function n(n,i){var e;return(e=t.call(this)||this).qQ=void 0,e.GQ=void 0,e.Au=void 0,e.NB=new yR,e.QQ=!1,e.YQ=!1,e.RD=n,e.jQ=i,e}S(n,t);var i=n.prototype;return i.SU=function(t,n){},i.EU=function(t,n){},i.hL=function(){return this.YQ},i.IU=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ve)},i.uU=function(t,n){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,Ve)},i.jM=function(t,i,e){var r,s,u=this;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr===VR.dL){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.fi,s=function(){var t,i,e,s,o,h,a;return Sr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=Ap._p(new DataView(r.buffer)),(i=_p(t,Im.km)).length){c.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.Au,s=n.ZQ(i,e),o=u.JQ(i,e),h=r.buffer,a={kind:$x.OQ,mimeType:u.RD,segment:r,startPts:dm.Ey(s).Py(),totalDuration:dm.Ey(o).Py()},c.next=11,Sr.awrap(u.jQ.FQ(a,[h]));case 11:void 0===u.qQ&&(u.qQ=s),void 0===u.GQ&&(u.GQ=s),u.GQ=u.GQ.pw(o),u.Fr(new Ks(LR.fL));case 15:case"end":return c.stop()}},null,null,null,Ve)},i.abrupt("return",this.NB.yB(function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Ms(t),n.prev=1,u.QQ=!0,n.next=5,Sr.awrap(s());case 5:return n.prev=5,u.QQ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},e));case 5:case"end":return i.stop()}},null,this,null,Ve)},i.$M=function(t,n){var i,e,r=this;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.nr===VR.dL){s.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return i=t.fi,e=function(){var t,n,e,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Ap._p(new DataView(i.buffer)),n=lp(t,Im.Yy)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.Np.length){u.next=6;break}throw new v("Tracks not found");case 6:return r.Au=n.Np[0].Up.hp.hy,e=i.buffer,s={kind:$x.xQ,mimeType:r.RD,segment:i},u.next=11,Sr.awrap(r.jQ.FQ(s,[e]));case 11:r.Fr(new Ks(LR.fL));case 12:case"end":return u.stop()}},null,null,null,Ve)},s.abrupt("return",this.NB.yB(function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Ms(t),n.prev=1,r.QQ=!0,n.next=5,Sr.awrap(e());case 5:return n.prev=5,r.QQ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},n));case 5:case"end":return s.stop()}},null,this,null,Ve)},i.mU=function(){this.YQ=!0},i._U=function(){this.YQ=!1},i.jo=function(t,n,i){var e,r=this;return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:$x.BQ,mimeType:r.RD,endTime:dm.Ay(n).Py()},i.next=3,Sr.awrap(r.jQ.FQ(t));case 3:r.qQ=void 0,r.GQ=void 0,r.Fr(new Ks(LR.fL));case 6:case"end":return i.stop()}},null,null,null,Ve)},t.abrupt("return",this.NB.yB(function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Ms(t),n.prev=1,r.QQ=!0,n.next=5,Sr.awrap(e());case 5:return n.prev=5,r.QQ=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],Ve)},i));case 2:case"end":return t.stop()}},null,this,null,Ve)},i.KB=function(t){return this.RD===t.hf},i.tL=function(t){return this.RD=t.hf,Ve.resolve()},n.ZQ=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.Np.length)throw new v("No tracks");if(!i.Np[0].eA)throw new v("No decode time");return new sm(i.Np[0].eA.eA.toNumber(),n)},i.JQ=function(t,n){var i=0;return t.forEach(function(t){t.Np.forEach(function(t){t.iA.forEach(function(t){t.aA.forEach(function(t){var n;i+=null!=(n=t.r_)?n:0})})})}),new sm(i,n)},i.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Sr.awrap(this.NB.Jf());case 3:case"end":return t.stop()}},null,this,null,Ve)},b(n,[{key:"rw",get:function(){return void 0===this.qQ||void 0===this.GQ?CT.VI():new CT([this.qQ.yy,this.GQ.yy])}},{key:"rh",get:function(){return{hf:this.RD}}},{key:"kD",get:function(){return this.RD}},{key:"DU",get:function(){return CT.VI()}},{key:"Ox",get:function(){return 30},set:function(t){}},{key:"Mx",get:function(){return 30},set:function(t){}},{key:"BC",get:function(){return this.QQ}},{key:"$Q",get:function(){return this.qQ}},{key:"Fw",get:function(){return this.GQ}}]),n}(Js),eO=function(){function t(t,n){this.Ch=void 0,this.uF=void 0,this.oF=void 0,this.Ch=t,this.oF=bs(n,function(t){return Boolean(t.kD.match(/video/))}),this.uF=bs(n,function(t){return Boolean(t.kD.match(/audio/))}),this.KQ()}t.tY=function(n,i){for(var e=[],r=0;r<n.mF.length;r++){var s=n.mF[r].hf;e.push(new iO(s,i))}return new t(n,e)};var n=t.prototype;return n.KQ=function(){},n.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(Ve.all([this.uF,this.oF].filter(F).map(function(t){return t.Sr()})));case 2:case"end":return t.stop()}},null,this,null,Ve)},n._F=function(t){},n.yF=function(t,n,i,e){},n.mU=function(){var t,n;null==(t=this.uF)||t.mU(),null==(n=this.oF)||n.mU()},n._U=function(){var t,n;null==(t=this.uF)||t._U(),null==(n=this.oF)||n._U()},n.KB=function(t){return t===this.Ch},n.tL=function(t){return this.Ch=t,Ve.resolve()},b(t,[{key:"nY",get:function(){return[this.uF,this.oF].filter(F)}},{key:"iF",get:function(){return this.uF}},{key:"rw",get:function(){return mN(this)}},{key:"rh",get:function(){return this.Ch}},{key:"r_",get:function(){return 0}},{key:"hL",get:function(){var t,n,i,e,r=null==(t=null==(n=this.uF)?void 0:n.hL())||t,s=null==(i=null==(e=this.oF)?void 0:e.hL())||i;return r&&s}},{key:"gw",get:function(){return new CT([0,1/0])}},{key:"eF",get:function(){return this.oF}},{key:"O_",get:function(){throw new v("Not implemented")}}]),t}(),rO=sm.Bg,sO=new sm(-1/0),uO=sm.py,oO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.gg=function(t,n){return t.Ag(n)?ds.yr:t.eg(n)?ds.wr:ds.gr},i.pw=function(t,n){return t.pw(n)},i.Eg=function(t,n){return t.Eg(n)},i.kg=function(t,n){return t.kg(n)},i.lI=function(){return rO},i._I=function(){return uO},i.mI=function(){return sO},n.UI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new sm(t.start(e)),new sm(t.end(e)));return new n(i)},n.iY=function(t){for(var i=[],e=[],r=0;r<t.Yd;r++)i.push(new sm(t.eI(r))),i.push(new sm(t.sI(r))),e.push(t.rI(r)),e.push(t.uI(r));return new n(i,e)},n.HI=function(t){return new n([t,t],[!0,!0])},i.vI=function(t,i){return new n(t,i)},i.cI=function(t){return t.yy},n.VI=function(){return hO},n}(DT),hO=new oO([]),aO=function(t){function n(n){var i;return(i=t.call(this)||this).eY=!0,i.jQ=new tO,i.rY=new nO,i.NS=void 0,i.tz=void 0,i.sY=!0,i.uY=new Ao,i.ZI=!1,i.dz=Ve.resolve(),i.lz=new Ps,i.oY=!0,i.wz=CT.VI(),i.RQ=void 0,i.hY=void 0,i.Ez=!1,i.LS=void 0,i.aY=function(){i.h_||i.cY.Yd<=0||i.rw.Yd<=0||i.rY.zQ(new sm(i.rw.sI(i.rw.Yd-1)),i.cY.sI(i.cY.Yd-1))},i.fY=function(){i.Fr(new Mg(i.e_))},i.vY=function(){i.Fr(new Lg(i.e_,i.sw))},i.dY=function(){i.Fr(new Bg(i.e_,i.a_))},i.lY=function(){i.Fr(new Vg(i.e_,i.d_))},i._Y=function(){i.Fr(new Pg(i.r_))},i.wY=function(){i.Fr(new Vk(i.e_))},i.gY=function(){i.ys(i.e_)},i.yY=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.oY&&i.Fr(new Ng(i.e_)),i.sY=!1,i.oY=!0;case 3:case"end":return t.stop()}},null,null,null,Ve)},i.mY=function(){i.sY=!0,i.Fr(new Rg(i.e_))},i.hY=n,i.tz=new RN(Yt(i)),i.hY.setAttribute("id","player_video"),i.hY.setAttribute("x-webkit-airplay","deny"),i.hY.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.hY.playsInline=!0,i.hY.style.width="100%",i.hY.style.height="100%",i.pY(),i.kY(),i.RQ=Jx(i.hY),i}S(n,t);var e=n.prototype;return e.pY=function(){this.hY.addEventListener("timeupdate",this.aY),this.hY.addEventListener("ended",this.fY),this.hY.addEventListener("timeupdate",this.vY),this.hY.addEventListener("ratechange",this.dY),this.hY.addEventListener("volumechange",this.lY),this.hY.addEventListener("durationchange",this._Y),this.hY.addEventListener("playing",this.wY),this.hY.addEventListener("seeking",this.gY),this.hY.addEventListener("play",this.yY),this.hY.addEventListener("pause",this.mY)},e.AY=function(){this.hY.removeEventListener("timeupdate",this.aY),this.hY.removeEventListener("ended",this.fY),this.hY.removeEventListener("timeupdate",this.vY),this.hY.removeEventListener("ratechange",this.dY),this.hY.removeEventListener("volumechange",this.lY),this.hY.removeEventListener("durationchange",this._Y),this.hY.removeEventListener("playing",this.wY),this.hY.removeEventListener("seeking",this.gY),this.hY.removeEventListener("play",this.yY),this.hY.removeEventListener("pause",this.mY)},e.kY=function(){this.tz.Hr(Eg.xd,this.Ur)},e.bY=function(){this.tz.Xr(Eg.xd,this.Ur)},e.ys=function(t,n){this.lz.Cr(),this.lz=new Ps,this.dz=this.mW(t,this.dz,this.lz.Pr).catch(j)},e.mW=function(t,n,i){var e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.wz=this._w,r=null==(e=this.NS)?void 0:e.nY){u.next=4;break}return u.abrupt("return");case 4:return s=_.max.apply(_,r.map(function(t){return t.$Q?t.$Q.yy:1/0})),this.ZI=!0,this.Fr(new Fg(t)),u.next=9,Sr.awrap(n.catch(j));case 9:if(Ms(i),u.prev=10,this.eY||this.TY(),this.hY.load(),this.sY){u.next=17;break}return this.oY=!1,u.next=17,Sr.awrap(Hs(this.hY.play(),i));case 17:if(!(this.kl<ag.Yl)){u.next=22;break}return u.next=20,Sr.awrap(this.tz.Yr(Eg.xd,i));case 20:u.next=17;break;case 22:this.uY.Rs(),this.eY=!1,this.ZI=!1,this.Fr(new Hg(this.e_)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.uY.Ns(u.t0),u.t0;case 32:return u.prev=32,this.SY(),this.rY.XQ(new sm(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],Ve)},e.M_=function(){this.sY=!0,this.hY.pause()},e.L_=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sY){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.hY.src){t.next=9;break}return this.PW(),t.next=7,Sr.awrap(this.uY.Ss);case 7:t.next=11;break;case 9:return t.next=11,Sr.awrap(this.hY.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.sY=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],Ve)},e.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.jQ&&this.jQ.HQ().catch(j),this.lz.Cr(),this.AY(),this.bY(),this.tz.Sr(),this.Wr();case 6:case"end":return t.stop()}},null,this,null,Ve)},e.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.jQ&&this.jQ.HQ().catch(j),this.lz.Cr(),this.hY.removeAttribute("src"),this.hY.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.hY.removeAttribute("x-airplay-deny"),this.hY.load(),this.tz.Gd(),this.wz=CT.VI();case 8:case"end":return t.stop()}},null,this,null,Ve)},e.PW=function(){this.BW||(lO(this.hY,i.Pe),this.Ez=!0)},e.TY=function(){var t,n=this.hY.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.hY.videoWidth/this.hY.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.hY.style.width=i+"px",this.hY.style.height=e+"px",this.hY.style.marginLeft=(r-i)/2+"px",this.hY.style.marginTop=(u-e)/2+"px",this.hY.style.backgroundColor="black"}},e.SY=function(){this.hY.style.width="100%",this.hY.style.height="100%",this.hY.style.marginLeft="",this.hY.style.marginTop="",this.hY.style.backgroundColor=""},e.vE=function(t,n,i,e){},e.nb=function(t,n,i,e,r,s){},e.oL=function(t){},e.bE=function(){return VI(this.hY)},e.Q_=function(){this.hY.style.display="block"},e.Y_=function(){this.hY.style.display="none"},e.xW=function(){},e.Yo=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr!==wk.ob){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Sr.awrap(this.jQ.MQ());case 4:return n={kind:$x.CQ,mediaBufferConfigs:t.mF.map(function(t){return t.hf})},i.next=7,Sr.awrap(this.jQ.FQ(n));case 7:return this.NS=eO.tY(t,this.jQ),this.hY.preload="none",this.hY.src="https://theo.proxy/"+this.jQ.Hh+"/master.m3u8",i.abrupt("return",this.NS);case 11:case"end":return i.stop()}},null,this,null,Ve)},e.OW=function(){},e.sb=function(t){},e._E=function(){},e.AE=function(t){},e.cE=function(){return!1},e.LW=function(t){t.appendChild(this.hY)},e.j_=function(){return this.hY},e.fW=function(){},e.ew=function(){},b(n,[{key:"nE",get:function(){return this.hY}},{key:"IF",get:function(){return!1}},{key:"e_",get:function(){return this.hY.currentTime+this.rY.WQ.yy}},{key:"h_",get:function(){return this.hY.paused}},{key:"d_",get:function(){return this.hY.volume},set:function(t){this.hY.volume=t}},{key:"a_",get:function(){return this.hY.playbackRate},set:function(t){this.hY.playbackRate=t}},{key:"EY",get:function(){return this.hY.defaultPlaybackRate}},{key:"rw",get:function(){var t,n;return null!=(t=null==(n=this.NS)?void 0:n.rw)?t:CT.VI()}},{key:"cY",get:function(){return oO.UI(this.hY.buffered)}},{key:"_w",get:function(){var t=CT.FI(this.IY);return this.wz.AI(t.gs(this.rY.WQ.yy))}},{key:"IY",get:function(){return oO.UI(this.hY.played)}},{key:"c_",get:function(){return this.ZI}},{key:"r_",get:function(){return this.hY.duration}},{key:"o_",get:function(){return this.hY.muted},set:function(t){this.hY.muted=t}},{key:"zq",get:function(){return this.hY.style}},{key:"UW",get:function(){return Er({},PR,{VB:!0,zB:300})}},{key:"kl",get:function(){return this.tz.kl}},{key:"f_",get:function(){return this.hY.videoHeight}},{key:"v_",get:function(){return this.hY.videoWidth}},{key:"s_",get:function(){return this.hY.ended}},{key:"qp",get:function(){return 0}},{key:"dg",get:function(){return 0}},{key:"ow",get:function(){return!1}},{key:"BW",get:function(){return this.Ez}},{key:"sw",get:function(){}},{key:"$P",get:function(){}},{key:"ts",get:function(){}},{key:"lE",get:function(){return this.RQ}},{key:"gw",get:function(){return this.NS?this.NS.gw:CT.VI()}},{key:"TE",get:function(){}},{key:"P_",get:function(){}},{key:"tB",get:function(){}},{key:"yw",get:function(){return!1},set:function(t){}},{key:"MW",get:function(){return"block"===this.hY.style.display}},{key:"iE",get:function(){return this.LS},set:function(t){this.LS=t}},{key:"ZV",get:function(){}}]),n}(Js),cO=2,fO=[_y.Vf,_y.zf];function vO(t){var n=s.createElement(t);return ir(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),dO(n),n}function dO(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),er(t),t.pause(),t.playbackRate=1,t.preload=bT.WE,t.controls=!1,t.style.display="none",ir(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function lO(t,n){if(n.Gi){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();G(e)&&qs(e),t.pause()}}var _O;oe=(_O={RY:function(){function t(t,n,i,e,r){void 0===i&&(i=cO),void 0===e&&(e=fO),void 0===r&&(r=Oc()),this.NY=void 0,this.DY=void 0,this.hr=void 0,this.CY=void 0,this.JV=void 0,this.KI=void 0,this.xY=void 0,this.NY=i,this.DY=[].concat(e),this.hr=r,this.JV=t,this.KI=n,this.CY=Rr(),this.OY()}var n=t.prototype;return n.iR=function(t){for(var n=0,i=this.rR;n<i.length;n++){i[n].LW(t)}},n.tE=function(t){var n=bs(this.CY.get(t),function(t){return t.PY});if(n)return n.PY=!1,n.BY},n.LY=function(t){if(!this.xY)throw new v("Error creating iOS Safari MediaController");return this.xY},n.yE=function(t){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.nE,i=n.tagName.toLowerCase(),r.next=4,Sr.awrap(t.Gd());case 4:dO(n),(e=bs(this.CY.get(i)||[],function(n){return t===n.BY}))&&(e.PY=!0);case 7:case"end":return r.stop()}},null,this,null,Ve)},n.eR=function(){for(var t=0,n=this.rR;t<n.length;t++){n[t].PW()}},n.Jf=function(){for(var t=0,n=this.rR;t<n.length;t++){var i=n[t],e=i.nE;i.Sr(),dO(e),Ze(e)}},n.OY=function(){for(var t=0,n=this.DY;t<n.length;t++){var i=n[t],e=[];this.CY.set(i,e);for(var r=0;r<this.NY;r++){var s=vO(i),u=i===_y.Vf?new CC(s,this.hr,this.JV):new Kx(s,this.hr,this.JV,this.KI);e.push({BY:u,PY:!0})}}if(L._n&&L.jt){var o=vO(_y.zf);this.xY=new aO(o)}},b(t,[{key:"rR",get:function(){for(var t=[],n=0,i=this.DY;n<i.length;n++){var e=i[n],r=this.CY.get(e).map(function(t){return t.BY});t.push.apply(t,r)}return this.xY&&t.push(this.xY),t}}]),t}(),MY:function(){function t(n){var i=this;this.UY=new yR,this.FY=function(){var n,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.JI.tE(_y.zf),e=n.nE,s.next=4,Sr.awrap(t.HY(e));case 4:return r=s.sent,s.next=7,Sr.awrap(i.JI.yE(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,Ve)},this.JI=n}var n=t.prototype;return n.BB=function(){return this.UY.yB(this.FY)},n.X_=function(){this.JI.eR()},t.HY=function(n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!L.hn&&!L.sn){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Sr.awrap(t.VY());case 5:return i.next=7,Sr.awrap(t.zY(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Sr.awrap(t.WY(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,Ve)},t.zY=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,G(n)){e.next=4;break}return e.abrupt("return",!L.$t);case 4:return i=Qs(100),e.next=7,Sr.awrap(Ve.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],Ve)},t.WY=function(n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Sr.awrap(t.zY(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,Ve)},t.VY=function(){return new Ve(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.Jf=function(){this.UY.Jf()},t}(),XY:{BD:function(t){ce.addEventListener("beforeunload",t)},GD:function(t){ce.removeEventListener("beforeunload",t)}},qY:r}).RY,he=_O.MY,ae=_O.XY,ce=_O.qY,fe=ce&&ce.location,ve=ce&&ce.navigator;var wO=[];function gO(){wO.shift()()}function yO(t){wO.push(t),h(gO,0)}var mO=function(){function t(t){this.GY=void 0,this.QY=void 0,this.YY=void 0,this.YY=t}var n=t.prototype;return n.jY=function(t){return this.GY=this.GY||{},void 0===this.GY[t]&&(this.GY[t]=[]),this.GY[t]},n.addEventListener=function(t,n){var i=this.jY(t);-1===i.indexOf(n)&&i.push(n)},n.zr=function(t){(this.QY||(this.QY=[])).push(t)},n.removeEventListener=function(t,n){var i=this.jY(t);n?Ss(i,n):i.length=0},n.Qr=function(t){var n=this.QY;n&&Ss(n,t)},n.Wr=function(){this.GY=void 0},n.dispatchEvent=function(t,n){if(n)return yO(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.jY(t.type).slice(),e=this.QY&&this.QY.slice(),r=0;r<i.length;r++){i[r].call(this.YY||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.YY||this,t)}},n.ZY=function(t){return Boolean(this.GY&&this.GY[t]&&this.GY[t].length)},n.JY=function(){return this.GY?l.keys(this.GY):[]},t}(),pO=function(){function t(){this.$Y=[]}var n=t.prototype;return n.tY=function(t,n){var i=this.$Y[t];return i?new i(n):null},n.FB=function(t,n){this.$Y[t]=n},t}();pO.Nn=new pO;var kO,AO=function(t){function n(n,i){var e,r=TO[n];return(e=t.call(this,r?r.Jr:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.KY,e.helpLinkText=r&&r.tj,e}return S(n,t),b(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Zt);!function(t){t.nj="LICENSE_INVALID",t.ij="MANIFEST_NOT_FOUND",t.ej="MANIFEST_CORS_ERROR",t.rj="INVALID_HLS_MANIFEST",t.sj="PLAYBACK_ISSUE",t.uj="AUDIO_ISSUE",t.oj="BROWSER_SUPPORT_ISSUE",t.hj="INVALID_KEY",t.aj="DECRYPTION_ERROR",t.cj="AD_BLOCK_DETECTED",t.fj="THEOPLAYER_NOT_INITIALIZED",t.wl="ERROR",t.vj="MANIFEST_SEQUENCE_RESET_ERROR",t.dj="PLAYER_INCORRECTLY_CONFIGURED",t.lj="UNSUPPORTED"}(kO||(kO={}));for(var bO=[{Ds:kO.nj,Jr:"The license for this player is invalid. Please contact your service provider for additional information."},{Ds:kO.ij,Jr:"Could not load the manifest file."},{Ds:kO.ej,Jr:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",KY:"https://www.theoplayer.com/documentation/cors.html",_j:!1},{Ds:kO.rj,Jr:"The source of the player is an invalid HLS manifest.",KY:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ds:kO.sj,Jr:"There appears to be a playback issue."},{Ds:kO.uj,Jr:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ds:kO.oj,Jr:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ds:kO.hj,Jr:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ds:kO.aj,Jr:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ds:kO.cj,Jr:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ds:kO.fj,Jr:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ds:kO.wl,Jr:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ds:kO.vj,Jr:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ds:kO.dj,Jr:"The player is incorrectly configured.",KY:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ds:kO.lj,Jr:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],TO={},SO=0;SO<bO.length;SO++){var EO=bO[SO];TO[EO.Ds]=EO}function IO(t){return t.wj}var RO=function(){function t(){this.ja=[],this.gj={},this.yj=0}var n=t.prototype;return n.mj=function(t){var n=this.gj[t];return void 0===n?-1:n-this.yj},n.pj=function(t){return this.ja[t]},n.kj=function(t){return this.pj(this.mj(t))},n.Aj=function(t){return!!this.pj(t)},n.bj=function(t){return!!this.kj(t)},n.Tj=function(){return this.ja},n.pw=function(t){var n,i=this.ja,e=i.length?i[i.length-1]:null;if(this.mj(t.wj)>=0)return!1;if(e&&t.wj>e.wj)n=i.length;else{var r=ON(this.ja,t.wj,IO,ms);if(r>=0)return!1;n=-(r+1)}return this.Sj(t,n),!0},n.jo=function(t){var n=this.ja,i=this.gj,e=this.mj(t.wj);return!(e<0)&&(n.splice(e,0,t),delete i[t.wj],this.Ej(e),!0)},n.Ij=function(t){var n=this.ja,i=this.gj;t=_.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e].wj];n.splice(0,t),this.yj+=t},n.Sj=function(t,n){var i=this.ja;n>=i.length?i.push(t):i.splice(n,0,t),this.Ej(n)},n.Ej=function(t){for(var n=this.ja,i=this.gj,e=this.yj,r=n.length,s=t;s<r;s++)i[n[s].wj]=s+e},b(t,[{key:"Yd",get:function(){return this.ja.length}}]),t}(),NO=function(){function t(t,n,i){this.Rj=void 0,this.Nj=void 0,this.Dj=void 0,this.Rj=t,this.Nj=n,this.Dj=i}var n=t.prototype;return n.compute=function(){return this.Rj.live?this.Rj.Cj?this.Rj.xj:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.Dj&&(t+=this.Oj()),this.Pj()&&(t+=this.Bj(t)),t},n.Pj=function(){return void 0!==this.Nj.Lj.kj(this.Rj.fragments[0].wj)},n.Bj=function(t){var n=this.Rj.fragments[0];return this.Nj.Lj.kj(n.wj).Mj-(n.Mj+t)||0},n.Oj=function(){var t=DO(this.Rj),n=DO(this.Dj.Uj),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.Dj)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-r]||0;s+=_.abs(o-h)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.Uj.fragments.length?this.Dj.Fj(t.Uj.fragments[0].wj).Mj:0},t}();function DO(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.Hj&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var CO=function(t){function n(n){return t.call(this,Py.Ld,n)||this}return S(n,t),n.prototype.yd=function(){return new xO(this.Mw.gd)},n}(Hy),xO=function(t){function n(n){return t.call(this,By.Ld,n)||this}return S(n,t),n}(Vy),OO=function(t){function n(n,i){var e,r=PO(i,n.r_,n.TE,n.Vj);return(e=t.call(this,i,r,void 0,!1,n.ul)||this).zj=void 0,e.Wj=void 0,e.Xj=void 0,e.bu=void 0,e.qj=void 0,e.Gj=void 0,e.Qj=void 0,e.Yj=void 0,e.jj=void 0,e.Zj=void 0,e.zj=n.Jj,e.Wj=n.TE,e.Xj=n.Vj,e.bu=n.r_,e.qj=n.$j,e.Gj=Boolean(n.Kj),e.Qj=n.tZ||{},e.Yj=n.nZ,e.jj=n.iZ,e.Zj=n.eZ,e.rZ(),e.sZ(),e}S(n,t);var i=n.prototype;return i.Zo=function(t){var n=!1;void 0===this.zj&&void 0!==t.Jj&&(n=!0,this.zj=t.Jj),void 0===this.Xj&&void 0!==t.Vj&&(n=!0,this.Xj=t.Vj),void 0===this.bu&&void 0!==t.r_&&(n=!0,this.bu=t.r_),void 0===this.qj&&void 0!==t.$j&&(n=!0,this.qj=t.$j),!this.Gj&&t.Kj&&(n=!0,this.Gj=t.Kj),n=this.updateCustomAttributes(t,n),void 0===this.Yj&&void 0!==t.nZ&&(n=!0,this.Yj=t.nZ),void 0===this.jj&&void 0!==t.iZ&&(n=!0,this.jj=t.iZ),void 0===this.Zj&&void 0!==t.eZ&&(n=!0,this.Zj=t.eZ),this.rZ(),this.sZ(),this.uZ(),n&&this.Fr(new CO(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.tZ)for(var e=0,r=l.keys(t.tZ);e<r.length;e++){var s=r[e];void 0===this.Qj[s]&&(i=!0,this.Qj[s]=t.tZ[s])}return i},i.rZ=function(){this.bu&&!this.Xj&&(this.Xj=new Date(this.Wj.getTime()+1e3*this.bu))},i.sZ=function(){this.Xj&&!this.bu&&(this.bu=zt(this.Xj.getTime()-this.Wj.getTime()))},i.uZ=function(){this.Zw===1/0&&(this.Xj||this.bu)&&(this.Zw=PO(this.jw,this.bu,this.Wj,this.Xj))},b(n,[{key:"gd",get:function(){var t;return this.wd||(this.wd=Ew(zy(t=this),{get content(){return t.Hw},get class(){return t.Jj},get startDate(){return t.TE},get endDate(){return t.Vj},get duration(){return t.r_},get plannedDuration(){return t.$j},get endOnNext(){return t.Kj},get scte35Cmd(){return t.nZ},get scte35Out(){return t.iZ},get scte35In(){return t.eZ},get customAttributes(){return t.tZ}})),this.wd}},{key:"Jj",get:function(){return this.zj}},{key:"TE",get:function(){return this.Wj}},{key:"Vj",get:function(){return this.Xj}},{key:"r_",get:function(){return this.bu}},{key:"$j",get:function(){return this.qj}},{key:"Kj",get:function(){return this.Gj}},{key:"nZ",get:function(){return this.Yj}},{key:"iZ",get:function(){return this.jj}},{key:"eZ",get:function(){return this.Zj}},{key:"tZ",get:function(){return this.Qj}}]),n}(Qy);function PO(t,n,i,e){return F(n)?t+n:e?t+(zt(e.getTime())-zt(i.getTime())):1/0}var BO,LO,MO,UO,FO,HO=function(t){function n(){return t.call(this,void 0,void 0,Dy.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Zo=function(t,n){for(var i=this,e=function(t){for(var n=Rr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r.ul)){var s=n.get(r.ul),u=Er({},s,Dw(r),{tZ:Er({},s.tZ,r.tZ)});n.set(r.ul,u)}else n.set(r.ul,r),i.push(r.ul)}return i.map(function(t){return n.get(t)})}(t),r=this.Al.Qd,s=function(t){var n=r[t],s=bs(e,function(t){return t.ul===n.ul});s?n.Zo(s):i.JF(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var h=e[o],a=h.TE;if(void 0!==a&&!this.jF(h.ul)){var c=n(a);this.eb(new OO(h,c))}}},i.eb=function(n){this.oZ(n),t.prototype.eb.call(this,n)},i.oZ=function(t){var n=this.UF.filter(function(n){return n.Jj===t.Jj}).pop();n&&n.Kj&&n.Zo({ul:n.ul,Vj:t.TE})},n}(KD);function VO(t){return zO(t)?{If:t.hZ,aZ:[t.aZ.eI,t.aZ.sI],Yf:!0}:{If:t.toString(),Yf:!0}}function zO(t){return void 0!==t.aZ}function WO(t){return t&&t.cZ&&pm(t.cZ)||!1}function XO(t){if(!t)return dm.Bg;if(!WO(t))return dm.Ay(t.duration);var n=t.fZ||dm.Bg,i=t.vZ||dm.Bg,e=dm.Ay(t.duration);return n.Hg()||i.Hg()?n.Hg()?i.Hg()?e.Hg()?dm.Bg:e:i:n:dm._y(n,i)}function qO(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.ub)return i}return null}function GO(t){return qO(t)||function(t){return t.filter(function(t){return t.dZ})}(t)[0]||t[0]}function QO(t,n){for(var i=0;i<n.length;i++){var e=n[i];Is(t,e)||t.push(e)}return t}function YO(t){switch(t){case UO.zf:case UO.lZ:return _y.zf;case UO.Vf:return _y.Vf}}function jO(t){switch(t){case UO.zf:case UO.lZ:return ml.zf;case UO.Vf:return ml.Vf;default:return ml.Nf}}!function(t){t._Z="alternative",t.wZ="main",t.gZ="commentary",t.yZ="",t.qA="descriptions",t.mZ="main-desc",t.pZ="translation"}(BO||(BO={})),function(t){t._Z="alternative",t.wZ="main",t.gZ="commentary",t.yZ="",t.XA="captions",t.kZ="sign",t.Bm="subtitles"}(LO||(LO={})),function(t){t.zf="video",t.Vf="audio",t.AZ="closedCaption",t.bZ="variant"}(MO||(MO={})),function(t){t[t.Nf=-1]="Nf",t[t.Vf=0]="Vf",t[t.zf=1]="zf",t[t.lZ=2]="lZ"}(UO||(UO={})),function(t){t[t.Nf=-1]="Nf",t[t.TZ=1]="TZ",t[t.SZ=2]="SZ",t[t.EZ=3]="EZ",t[t.IZ=4]="IZ"}(FO||(FO={})),function(t){t.__=function(t){return t>=FO.SZ},t.RZ=function(t){return t===FO.SZ||t===FO.EZ}}(FO||(FO={}));var ZO=function(t){function n(){var n;return(n=t.call(this)||this).NZ=[],n.DZ=function(){return n.dispatchEvent("CZ")},n.xZ=function(){return n.dispatchEvent("OZ")},n}S(n,t);var i=n.prototype;return i.pw=function(t){this.NZ.push(t),t.addEventListener("OZ",this.xZ),t.addEventListener("PZ",this.DZ),this.dispatchEvent("BZ"),t.disabled||this.dispatchEvent("CZ")},i.jo=function(t){var n=this.NZ.indexOf(t);n<0||(Es(this.NZ,n),t.removeEventListener("OZ",this.xZ),t.removeEventListener("PZ",this.DZ),this.dispatchEvent("BZ"),t.disabled||this.dispatchEvent("CZ"))},i.ds=function(){for(var t=!!this.LZ.length,n=!!this.MZ.length,i=0,e=this.NZ;i<e.length;i++){e[i].removeEventListener("PZ",this.DZ)}this.NZ.length=0,t&&this.dispatchEvent("BZ"),n&&this.dispatchEvent("CZ")},i.Jf=function(){this.Wr(),this.ds()},b(n,[{key:"LZ",get:function(){return this.NZ}},{key:"MZ",get:function(){return this.NZ.filter(function(t){return!t.disabled})}}]),n}(mO);function JO(t){if(!t)return null;for(var n={UZ:"",FZ:"",HZ:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.UZ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.UZ="mp4a.40.2":"mp4a.40.29"===s?n.UZ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.UZ=s:"ec-3"===s?n.UZ=s:0===s.indexOf("avc")?n.FZ=r:n.HZ+=","+s}return n}var $O=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).VZ=void 0,h.GT=void 0,h.Bo=void 0,h.zZ=new RO,h.WZ=NaN,h.XZ=void 0,h.qZ=void 0,h.Tu=void 0,h.GZ=void 0,h.QZ=void 0,h.YZ=!0,h.jZ=!0,h.ZZ=!0,h.JZ=!1,h.$Z=null,h.KZ=!1,h.VZ=n,h.GT=i,h.Bo=e||0===e?e:-1,h.qZ=r,h.GZ=Boolean(s),h.QZ=Boolean(u),h.Tu=o,h}S(n,t);var i=n.prototype;return i.tJ=function(t,n){var i=gE(),e=new NO(t,this,n).compute(),r=this.nJ(t.fragments),s=r.oldFragments,u=r.newFragments;this.iJ(s,i),this.eJ(u,i,e),this.XZ!==t&&this.rJ(!0),this.XZ=t,this.dispatchEvent({type:"sJ",uJ:this}),this.dispatchEvent("renditionUpdated")},i.Fj=function(t){return this.zZ.kj(t)},i.oJ=function(){var t=this.YZ;this.YZ=this.jZ&&this.ZZ,t!==this.YZ&&this.dispatchEvent("OZ")},i.rJ=function(t){this.jZ=t,this.oJ()},i.hJ=function(t){this.ZZ=t,this.oJ()},i.aJ=function(t){this.GT=t,this.dispatchEvent("renditionUpdated")},i.cJ=function(){null!==this.$Z&&a(this.$Z),this.dispatchEvent("PZ"),this.dispatchEvent("renditionUpdated")},i.fJ=function(t){this.KZ=t,this.cJ()},i.vJ=function(){this.dJ(3e4)},i.dJ=function(t){var n=this;this.JZ=!0,this.cJ(),this.$Z=h(function(){n.JZ=!1,n.cJ()},t)},i.nJ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.zZ.bj(s.wj)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.iJ=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.zZ.kj(e.wj);r.lJ=QO(r.lJ,e.lJ),r._J=e._J||r._J,r.wJ=n}},i.eJ=function(t,n,i){var e=this.gJ(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.Cp=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.Mj+=n}}(e,i),this.yJ(e)},i.gJ=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.uJ=this;var r=Er({},e);n.push(r)}return n},i.yJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.zZ.pw(i),y(this.WZ)&&(this.WZ=i.wj)}},i.Jf=function(){this.Wr(),null!==this.$Z&&a(this.$Z)},b(n,[{key:"disabled",get:function(){return this.JZ||this.KZ},set:function(t){this.JZ=t,this.cJ()}},{key:"ul",get:function(){return this.Bo}},{key:"lw",get:function(){return this.YZ}},{key:"uri",get:function(){return this.qZ||this.XZ&&this.XZ.uri},set:function(t){this.qZ=t,this.dispatchEvent("renditionUpdated")}},{key:"Uj",get:function(){return this.XZ}},{key:"Lj",get:function(){return this.zZ}},{key:"mJ",get:function(){return this.XZ?this.XZ.live?this.XZ.duration<-60?FO.EZ:FO.IZ:FO.TZ:FO.Nf}},{key:"Xn",get:function(){return this.GT},set:function(t){this.aJ(t)}},{key:"cl",get:function(){return this.Tu}},{key:"ub",get:function(){return this.GZ}},{key:"dZ",get:function(){return this.QZ||this.GZ}},{key:"pJ",get:function(){return this.WZ}},{key:"kJ",get:function(){return!!this.Uj}},{key:"uf",get:function(){return this.VZ}}]),n}(mO),KO=function(t){function n(n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,w){var g;return void 0===_&&(_=BO.wZ),(g=t.call(this,n,i,e,s,u,o,d)||this).AJ=void 0,g.bJ=void 0,g.TJ=void 0,g.SJ=void 0,g.EJ=void 0,g.IJ=void 0,g.RJ=void 0,g.NJ=void 0,g.DJ=void 0,g.VF=void 0,g.CJ=void 0,g.xJ=void 0,g.OJ=void 0,g.PJ=void 0,g.BJ=void 0,g.LJ=void 0,g.MJ=null,g.UJ=void 0,g.AJ=Boolean(l),g.EJ=r,g.bJ=JO(h),g.TJ=w,g.RJ=a,g.NJ=c,g.IJ=f,g.SJ=v,g.VF=_,g}S(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.wj,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.FJ[0]?t.FJ[0].hl:BO.wZ)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&ts(t.characteristics,"public.accessibility.describes-video")?BO.mZ:BO.wZ;if(t.characteristics&&ts(t.characteristics,"public.accessibility.describes-video"))return BO.qA;return BO._Z}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.HJ=function(t){this.bJ="string"==typeof t?JO(t):t,this.dispatchEvent("renditionUpdated")},i.VJ=function(t,n){return t?!n&&t.UZ&&t.FZ?UO.lZ:t.FZ?UO.zf:t.UZ?UO.Vf:UO.Nf:UO.Nf},b(n,[{key:"zJ",set:function(t){this.AJ=t}},{key:"WJ",get:function(){return this.bJ}},{key:"bandwidth",get:function(){return this.SJ},set:function(t){this.SJ=t,this.dispatchEvent("renditionUpdated")}},{key:"hl",get:function(){return this.VF}},{key:"resolution",get:function(){return this.IJ},set:function(t){this.IJ=t,this.dispatchEvent("renditionUpdated")}},{key:"XJ",get:function(){return void 0!==this.TJ?this.TJ:this.VJ(this.bJ,this.AJ)}},{key:"wj",get:function(){return this.RJ}},{key:"UZ",get:function(){return this.NJ}},{key:"qJ",get:function(){return this.EJ}},{key:"GJ",get:function(){return this.DJ},set:function(t){var n=this.DJ;this.DJ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}($O);var tP=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,n,i,e,r,s,u,o)||this).di=void 0,c.QJ=null,c.YJ=void 0,c.jJ=function(){return c.ZJ()},c.di=h,c.YJ=new YN(a,String(e),c.Xn,c.cl,void 0,Dy.WEBVTT),c.ub&&(c.YJ.yl=Ww._l),c}S(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(ts(t.characteristics,"public.accessibility.describes-music-and-sound"))return Xp.XA;return Xp.Bm}(i))};var i=n.prototype;return i.tJ=function(n){t.prototype.tJ.call(this,n),this.ZJ()},i.Jf=function(){t.prototype.Jf.call(this),this.DA=null},i.aJ=function(n){t.prototype.aJ.call(this,n),this.YJ.al=n},i.ZJ=function(){this.QJ&&this.QJ.JJ(this,this.Lj)},b(n,[{key:"$J",get:function(){return this.YJ}},{key:"DA",get:function(){return this.QJ},set:function(t){this.QJ&&this.QJ.removeEventListener("KJ",this.jJ),this.QJ=t,this.ZJ(),this.QJ&&this.QJ.addEventListener("KJ",this.jJ)}},{key:"hZ",get:function(){return this.uri}},{key:"nr",get:function(){return this.di}}]),n}($O),nP=function(t){function n(n,i){var e;(e=t.call(this)||this).Ch=void 0,e.t$=void 0,e.n$=["renditionUpdated","sJ","i$"],e.e$=null,e.r$=null,e.s$=null,e.u$=null,e.o$=new ZO,e.h$=new ZO,e.a$=new ZO,e.R_={},e.c$=void 0,e.f$=void 0,e.v$=null,e.bu=NaN,e.d$=void 0,e.l$=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.Ch=n,e.t$=i;var r=Yt(e);return e.d$=function(){r.gF(this)},e.l$=function(t){r._$(this,t)},e}S(n,t);var i=n.prototype;return i.w$=function(t,n){var i=new tC(n);return i.yl=Ww.ll,this.R_[i.ul]=i,this.dispatchEvent({type:"g$",md:i}),i},i.y$=function(t,n,i){var e=new KD(i,"manifest");return e.yl=Ww.ll,this.R_[e.ul]=e,this.dispatchEvent({type:"g$",md:e}),e},i.m$=function(t,n){if(t){var i=t.Al,e=t.p$,r=t&&this.R_[e];r||(r=new tC(t.gl),this.R_[e]=r,r.yl=Ww.ll,this.dispatchEvent({type:"g$",md:r}));for(var s=0;s<i.length;s++){var u=i[s];r.eb(u)}}},i.k$=function(t){t&&(this.c$||(this.c$=new YN(Xp.XA,void 0,"CC1","en",!0,Dy.CEA608),this.R_.CC1=this.c$,this.dispatchEvent({type:"g$",md:this.c$})),this.c$.eb(t))},i.A$=function(t,n,i){var e=this.R_[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.Al.Qd;r<s.length;r++){var u=s[r];if(u.Uw>=i)break;n<u.Fw&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.JF(u)}}},i.b$=function(t,n){return this.T$(t,n)},i.S$=function(t){var n;return(n=this.E$(t,this.o$))?n:(n=this.E$(t,this.h$))?n:n=this.E$(t,this.a$)},i.Jf=function(){this.Gr(this.o$),this.o$.Jf(),this.Gr(this.h$),this.h$.Jf(),this.Gr(this.a$),this.a$.Jf(),this.R_={},this.c$=void 0,this.f$&&(this.f$.Jf(),this.f$=void 0),this.v$=null,this.bu=NaN,this.e$=null,this.r$=null,this.s$=null,this.u$=null,this.dispatchEvent("Jf")},i.I$=function(t){var n=KO.createFromUri(this,t.uri);this.Gr(this.h$),this.h$.pw(n),n.addEventListener("renditionUpdated",this.d$)},i.gF=function(t){var n=t.Uj,i=t.mJ;if(y(this.bu)||FO.__(i)){if(FO.Nf===i)return;if(!n)return;this.bu=n.duration,this.dispatchEvent("R$")}y(this.bu)||FO.TZ!==i||t.removeEventListener("renditionUpdated",this.d$)},i.N$=function(t){var n=this;this.Gr(this.o$),this.o$.ds(),this.Gr(this.h$),this.h$.ds(),this.a$.ds(),this.v$=t;for(var i=t.streams.map(function(t){return KO.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.UZ&&!ts(t.UZ,"mp4a")&&!ts(t.UZ,"mp3"))return!1;if(t.FZ&&!ts(t.FZ,"avc1"))return!1;return!0}(t.WJ)}),e=i.some(function(t){return t.WJ&&t.WJ.UZ}),r=i.some(function(t){return t.WJ&&t.WJ.FZ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.WJ&&u.WJ.UZ),h=Boolean(u.WJ&&u.WJ.FZ);e&&!o||r&&!h||(this.h$.pw(u),u.addEventListener("renditionUpdated",this.d$))}for(var a=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.t$){var r=tP.createFromPlaylistMedia(n,e);n.a$.pw(r),n.dispatchEvent({type:"g$",md:r.$J})}break;case"closed-captions":break;case"audio":var s=n.h$.LZ.filter(function(t){return t.UZ===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.zJ=!0});var u=e.uri?UO.Vf:UO.lZ,o=KO.createFromPlaylistMedia(n,e,!1,u);n.o$.pw(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.D$=GO(this.FJ.MZ)||null,this.dispatchEvent("C$")},i.E$=function(t,n){for(var i=0,e=n.LZ;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i._$=function(t,n){this.dispatchEvent(Er({},n,{uJ:t}))},i.x$=function(t){for(var n=0,i=t.LZ;n<i.length;n++)for(var e=i[n],r=0,s=this.n$;r<s.length;r++){var u=s[r];e.addEventListener(u,this.l$)}},i.Gr=function(t){for(var n=0,i=t.LZ;n<i.length;n++){i[n].Jf()}},i.O$=function(t,n){0!==t.length&&this.Ch.hlsDateRange&&(this.f$||(this.f$=new HO,this.dispatchEvent({type:"g$",md:this.f$})),this.f$.Zo(t,n))},i.P$=function(t,n){if(this.r$!==t){var i=this.r$;this.r$=t,this.dispatchEvent({type:"B$",XJ:"UZ",uJ:this.r$,L$:i,M$:n})}},i.T$=function(t,n){if(this.s$!==t){var i=this.s$;this.s$=t,t&&this.dispatchEvent({type:"B$",XJ:"FZ",uJ:this.s$,L$:i,M$:n})}},i.U$=function(t){for(var n=0,i=t.LZ;n<i.length;n++){var e=i[n];if(e.mJ!==FO.Nf)return e.mJ}return null},b(n,[{key:"m_",get:function(){return this.e$},set:function(t){t&&(0===t.streams.length?this.I$(t):this.N$(t),this.e$=t,this.x$(this.h$),this.x$(this.o$),this.dispatchEvent("F$"))}},{key:"H$",get:function(){return this.v$}},{key:"r_",get:function(){return this.bu}},{key:"P_",get:function(){var t=this,n=this.a$.LZ.map(function(t){return t.$J}),i=l.keys(this.R_).map(function(n){return t.R_[n]});return this.c$&&i.push(this.c$),this.f$&&i.push(this.f$),n.concat(i)}},{key:"D$",get:function(){return this.r$},set:function(t){this.P$(t,!0)}},{key:"V$",get:function(){return this.s$},set:function(t){this.T$(t,!1)}},{key:"FJ",get:function(){return this.o$}},{key:"z$",get:function(){return this.h$}},{key:"W$",get:function(){return this.a$.LZ}},{key:"mJ",get:function(){var t;return null!==(t=this.r$&&this.r$.mJ)&&t!==FO.Nf?t:null!==(t=this.s$&&this.s$.mJ)&&t!==FO.Nf?t:null!==(t=this.U$(this.o$))?t:null!==(t=this.U$(this.h$))?t:FO.Nf}}]),n}(mO);var iP=function(t){function n(n,i,e){var r,s,u,o,h;return(r=t.call(this)||this).Np=[],r.X$={},r.q$=void 0,r.G$=void 0,r.Q$=void 0,r.gd=void 0,r.Ur=function(t){return r.dispatchEvent(t)},r.Y$=function(t){r.j$(t)},r.Z$=function(t){r.handleRenditionUpdated(t)},r.J$=function(t){for(var n=0,i=r.Np;n<i.length;n++){i[n].K$.J$(t)}},r.q$=n,r.G$=i,r.Q$=e,r.G$&&r.G$.addEventListener("B$",r.Y$),r.Q$&&(r.Q$.addEventListener("renditionUpdated",r.Z$),r.Q$.addEventListener("tK",r.J$)),r.gd=(s=Yt(r),u=new mO,o={get length(){return s.Np.length},enable:function(t){s.VA(s.nK(t&&t.id)||t)},disable:function(t){s.zA(s.nK(t&&t.id)||t)},item:function(t){return s.Np[t]&&s.Np[t].gd},getTrackByID:function(t){var n=s.nK(t);return n&&n.gd},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),r}S(n,t);var i=n.prototype;return i.nK=function(t){return this.X$[t]},i.Wd=function(t){for(var n=0,i=t.K$.fl;n<i.length;n++){var e=i[n];e.ul===this.iK()&&(e.rg=!0)}t.addEventListener("enabledtrack",this.Ur),t.addEventListener("disabledtrack",this.Ur),this.Np.push(t),this.X$[t.ul]=t,this.dispatchEvent({type:"addtrack",track:t.gd})},i.VA=function(t){if(t){var n=this.X$[t.ul];if(n&&!n.sl){for(var i=this.Np.length-1;i>=0;i--)this.Np[i].G_();n.q_()}}},i.zA=function(t){},b(n,[{key:"eK",get:function(){return this.iK()}}]),n}(mO);var eP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).rK=void 0,r.rK=NaN,r}S(n,t);var i=n.prototype;return i.iK=function(){return this.rK},i.j$=function(t){t.sK?this.uK(t.oK):t.hK&&this.uK(t.hK)},i.uK=function(t){t&&(this.rK=t.ul),this.Np.forEach(function(n){return n.aK(t)})},i.handleRenditionUpdated=function(t){if(t.uJ&&t.uJ.XJ===UO.Vf)for(var n=0,i=this.Np;n<i.length;n++){i[n].cK(t)}},i.VA=function(n){var i=n;if(!i){var e=this.Np.filter(function(t){return t.ub});e.length>0&&(i=e[0])}t.prototype.VA.call(this,i)},b(n,[{key:"nr",get:function(){return"audio"}}]),n}(iP),rP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).fK=void 0,r.fK=NaN,r}S(n,t);var i=n.prototype;return i.iK=function(){return this.fK},i.j$=function(t){(t.vK||t.oK)&&(t.oK&&(this.fK=t.oK.ul),this.Np.forEach(function(n){return n.aK(t.oK)}))},i.handleRenditionUpdated=function(t){if(t.uJ&&(t.uJ.XJ===UO.zf||t.uJ.XJ===UO.lZ))for(var n=0,i=this.Np;n<i.length;n++){i[n].cK(t)}},b(n,[{key:"nr",get:function(){return"video"}}]),n}(iP);function sP(t,n){for(var i,e=n-(i=t?V(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function uP(t,n){return void 0===n&&(n=0),g(t.toFixed(n))}var oP=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).uJ=void 0,i.rg=!1,i.dK=!0,i.gd=void 0,i.uJ=n,i.rg=!1,i.gd=(e=Yt(i),r=new mO,s={get bandwidth(){return e.uJ&&e.uJ.bandwidth},get averageBandwidth(){return e.uJ&&e.uJ.averageBandwidth},get codecs(){return e.WJ},get resolution(){return e.lK},get frameRate(){return uP(e._K,2)},get id(){return e.ul},get uri(){return e.uJ&&e.uJ.uri},get name(){return e.Xn},set name(t){e.Xn=t},get enabled(){return e.sl},set enabled(t){e.sl=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}S(n,t);var i=n.prototype;return i.wK=function(t){var n=!!t&&this.ul===t.ul;this.rg!==n&&(this.rg=n,this.dispatchEvent({type:"activequalitychanged",quality:this.gd}))},i.cK=function(t){return this.uJ.ul===t.uJ.ul&&(this.uJ=t.uJ,this.dispatchEvent({type:"qualityupdated",quality:this.gd}),!0)},b(n,[{key:"sl",get:function(){return this.dK},set:function(t){this.dK=t,this.uJ.fJ(!t)}},{key:"hl",get:function(){return this.uJ.hl}},{key:"lK",get:function(){return this.uJ.resolution?{width:this.uJ.resolution.width,height:this.uJ.resolution.height}:{width:NaN,height:NaN}}},{key:"Xn",get:function(){return this.uJ.Xn},set:function(t){this.uJ.Xn=t,this.dispatchEvent({type:"qualityupdated",quality:this.gd})}},{key:"ul",get:function(){return this.uJ.ul}}]),n}(mO);var hP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),b(n,[{key:"WJ",get:function(){return this.uJ.WJ&&this.uJ.WJ.FZ||""}},{key:"_K",get:function(){return uP(Number(this.uJ.GJ),2)}}]),n}(oP),aP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),b(n,[{key:"WJ",get:function(){return this.uJ.WJ&&this.uJ.WJ.UZ||""}},{key:"_K",get:function(){return uP(Number(this.uJ.UJ),2)}}]),n}(oP),cP=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).fl=void 0,e.gK=null,e.yK={},e.Q$=void 0,e.gd=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.fl=n,e.Q$=i;for(var h=e.fl.length-1;h>=0;h--){var a=e.fl[h];e.yK[a.ul]=a}return e.fl.forEach(function(t){return t.addEventListener("activequalitychanged",e.Ur)}),e.gd=(r=Yt(e),s=new mO,u={item:function(t){var n=r.zd(t);return n&&n.gd},getQualitiesByIDs:function(t){return r.mK(t).map(function(t){return t.gd})},get length(){return r.fl.length},get activeQuality(){return r.il&&r.il.gd},get targetQuality(){return r.vl?1===r.vl.length?r.vl[0].gd:r.vl.map(function(t){return t.gd}):null},set targetQuality(t){if(t){var n=H(t)?t:[t];r.vl=r.mK(n.map(function(t){return t.id}))}else r.vl=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}S(n,t);var i=n.prototype;return i.pK=function(t){return!!t&&this.fl.some(function(n){return n.ul===t.ul})},i.kK=function(t,n){for(var i=0,e=this.fl;i<e.length;i++){e[i].wK(t)}},i.mK=function(t){var n=this;return t&&t.map(function(t){return n.yK[t]}).filter(function(t){return t})},i.AK=function(){for(var t=this.fl.length-1;t>=0;t--)this.fl[t].rg=!1},i.J$=function(t){var n=this.Q$.bK,i=this.mK(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].gd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.zd=function(t){return this.fl[t]},b(n,[{key:"il",get:function(){for(var t=0,n=this.fl;t<n.length;t++){var i=n[t];if(i.rg)return i}return null}},{key:"vl",get:function(){return this.gK},set:function(t){this.gK=this.TK(t)}}]),n}(mO);var fP=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.q_=function(){this.Q$&&(this.Q$.rK=this.fl[0].ul)},i.G_=function(t){this.Q$&&(this.Q$.rK=null)},i.TK=function(t){},n}(cP),vP=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.q_=function(){if(this.TK(this.vl),this.Q$){var t=this.Q$.q$;if(!t)return;var n=bs(t.SK.FJ.LZ,function(t){return!t.uri});this.Q$.rK=n?n.ul:null}},i.kK=function(n,i){"video"===i&&t.prototype.kK.call(this,n,i)},i.G_=function(t){"video"===t&&this.AK()},i.TK=function(t){if(!this.Q$)return this.vl;var n=t?this.mK(t.map(function(t){return t.ul})):null;if(n&&n.length>0){var i=n.map(function(t){return t.ul});return this.Q$.bK=i,n}return t?this.vl:(this.Q$.bK=null,null)},n}(cP),dP=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).nr=void 0,e.K$=void 0,e.ul=void 0,e.Sw=void 0,e.Xn=void 0,e.gd=void 0,e.nr=n,e.K$=i,e.ul=i.zd(0).ul,e.Sw=e.K$.fl.some(function(t){return t.rg}),e.Xn=i.zd(0).uJ.Xn,e.gd=(r=Yt(e),s=new mO,{get id(){return r.ul},get enabled(){return r.sl},get qualities(){return r.K$&&r.K$.gd},get language(){return r.cl},get default(){return r.ub},get name(){return r.Xn},set name(t){r.Xn=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}S(n,t);var i=n.prototype;return i.aK=function(t){var n=this.K$.pK(t);this.Iw(n),this.K$.kK(t,this.nr)},i.Iw=function(t){this.Sw!==t&&(t?(this.Sw=!0,this.dispatchEvent({type:"enabledtrack",track:this.gd})):(this.Sw=!1,this.dispatchEvent({type:"disabledtrack",track:this.gd})))},i.q_=function(){this.Sw||this.K$.q_()},i.G_=function(){this.Sw&&this.K$.G_(this.nr)},i.cK=function(t){t.uJ.ul===this.ul&&(this.Xn=t.uJ.Xn);for(var n=0,i=this.K$.fl;n<i.length;n++){i[n].cK(t)}},b(n,[{key:"sl",get:function(){return this.Sw}},{key:"cl",get:function(){return this.EK()}},{key:"hl",get:function(){return this.IK()}},{key:"ub",get:function(){var t="video"===this.nr,n=this.K$.fl&&this.K$.fl[0].uJ.ub;return t||n}}]),n}(mO);var lP=function(t){function n(n){return t.call(this,"video",n)||this}S(n,t);var i=n.prototype;return i.IK=function(){return LO.wZ},i.EK=function(){return""},n}(dP),_P=function(t){function n(n){return t.call(this,"audio",n)||this}S(n,t);var i=n.prototype;return i.IK=function(){return this.K$.fl[0].uJ.hl},i.EK=function(){return this.K$.fl[0].uJ.cl||""},n}(dP),wP=function(){function t(t,n,i){var e=this;this.RK=void 0,this.NK=void 0,this.DK=void 0,this.CK=void 0,this.xK=function(){var t=e.RK;t.removeEventListener("PK",e.xK);var n=t.SK.z$.LZ,i=t.SK.FJ.LZ,r=n.map(function(t){return new hP(t)});if(r.length>0){var s=new vP(r,e.NK);e.CK.Wd(new lP(s));var u=bs(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new _P(s);u&&(h.Xn=u.Xn),e.DK.Wd(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new aP(c),v=new fP([f],e.NK);e.DK.Wd(new _P(v))}}},this.RK=t,this.NK=i,this.DK=new eP(t,n,i),this.CK=new rP(t,n,i),t&&(t.PK?this.xK():t.addEventListener("PK",this.xK))}return b(t,[{key:"x_",get:function(){return this.DK}},{key:"O_",get:function(){return this.CK}}]),t}(),gP=["loadedmetadata","durationchange","ts","rv","lw","BK"],yP=["LK","B$","MK","ts"],mP=function(t){function n(n,i,e,r,s,u,o){var h;(h=t.call(this)||this).UK=null,h.FE=void 0,h.FK=void 0,h.HK=void 0,h.VK=void 0,h.G$=void 0,h.zK=void 0,h.q$=void 0,h.O_=void 0,h.x_=void 0,h.WK=[],h.XK=[],h.qK=function(t){return h.dispatchEvent(t)},h.GK=function(t){return h.QK(t)},h.YK=function(t){return h.jK(t)},h.FE=n.src,h.FK=n.type,h.HK=i,h.VK=e,h.zK=r,h.q$=s,h.G$=u,h.q$&&(h.q$.addEventListener("ZK",h.qK),h.q$.addEventListener("JK",h.qK));var a=new wP(h.q$,h.G$,o);return h.O_=a.O_,h.x_=a.x_,h.HE=null,h.FE&&(h.G$&&h.G$.Gd(),h.q$&&(h.q$.$K=h.FE)),h}S(n,t);var i=n.prototype;return i.KK=function(t){this.G$&&this.G$.Yo(t),this.q$&&this.q$.n0(),this.HE&&this.i0()},i.e0=function(){this.G$&&this.G$.e0(),this.q$&&this.q$.r0()},i.s0=function(){if(this.q$)for(var t=0;t<gP.length;t++){var n=gP[t];this.q$.addEventListener(n,this.GK)}if(this.G$)for(var i=0;i<yP.length;i++){var e=yP[i];this.G$.addEventListener(e,this.YK)}},i.u0=function(){if(this.q$)for(var t=0;t<gP.length;t++){var n=gP[t];this.q$.removeEventListener(n,this.GK)}if(this.G$)for(var i=0;i<yP.length;i++){var e=yP[i];this.G$.removeEventListener(e,this.YK)}},i.i0=function(){if(this.q$&&this.WK.length){var t=this.WK.slice();Rs(this.WK);for(var n=0;n<t.length;n++){var i=t[n];this.q$.dispatchEvent(i)}}if(this.G$&&this.XK.length){var e=this.XK.slice();Rs(this.XK);for(var r=0;r<e.length;r++){var s=e[r];this.G$.dispatchEvent(s)}}},i.QK=function(t){this.WK.push(t)},i.jK=function(t){this.XK.push(t)},i.Jf=function(){this.dispatchEvent("Jf"),this.Wr(),this.G$&&this.G$.Jf(),this.zK&&this.zK.Jf(),this.q$&&this.q$.Jf(),this.UK=null,Rs(this.WK),Rs(this.XK)},b(n,[{key:"HE",get:function(){return this.UK},set:function(t){this.u0(),this.UK=t,this.HE?this.dispatchEvent("oh"):this.s0()}}]),n}(mO),pP=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).RK=null,n.Ur=function(t){n.dispatchEvent(t,!0)},n}return S(n,t),b(n,[{key:"rK",get:function(){var t=this.RK&&this.RK.SK.D$;return t?t.ul:null},set:function(t){var n;this.RK&&(n=null===t?GO(this.RK.SK.FJ.LZ):this.RK.SK.FJ.LZ.filter(function(n){return t===n.ul}).shift(),this.RK.SK.D$=n||null)}},{key:"bK",get:function(){return this.RK&&this.RK.o0||null},set:function(t){this.RK&&(this.RK.h0(t),this.dispatchEvent("tK"))}},{key:"q$",get:function(){return this.RK},set:function(t){this.RK&&(this.RK.SK.removeEventListener("F$",this.Ur),this.RK.SK.removeEventListener("renditionUpdated",this.Ur),this.RK.SK.removeEventListener("C$",this.Ur)),this.RK=t,this.RK&&(this.RK.SK.addEventListener("F$",this.Ur),this.RK.SK.addEventListener("renditionUpdated",this.Ur),this.RK.SK.addEventListener("C$",this.Ur))}}]),n}(mO),kP=function(){function t(){}var n=t.prototype;return n.a0=function(t){return Ve.resolve(!1)},n.c0=function(t){return Ve.reject(AP)},n.f0=function(t){return Ve.reject(AP)},n.as=function(t){return Ve.resolve(!1)},n.cs=function(t){return Ve.resolve(void 0)},n.pj=function(t,n){return Ve.resolve(void 0)},n.v0=function(t){return Ve.resolve([])},n.d0=function(){return Ve.resolve([])},n.l0=function(t){return Ve.resolve([])},n._0=function(t,n){return Ve.resolve([])},n.jo=function(t){return Ve.reject(AP)},n.w0=function(t){return Ve.reject(AP)},n.g0=function(){return Ve.reject(AP)},t}(),AP="Storage disabled",bP=function(){function t(){this.y0=void 0,this.m0=void 0,this.p0=void 0,this.k0=void 0,this.A0=void 0,this.y0=new kP,this.m0=new kP,this.p0=new kP,this.k0=new kP,this.A0=new kP}return t.tY=function(){return Ve.resolve(new t)},t.prototype.b0=function(t){return Ve.reject(TP)},t}(),TP="Storage disabled",SP=function(){function t(t){var n=this;this.Dr=new Ao,this.T0=void 0,this.Dr.Rs(t),this.Dr.Ss.then(function(t){n.T0=t})}var n=t.prototype;return n.a0=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.T0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.S0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.a0(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.c0=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.T0,e.t0){e.next=5;break}return e.next=4,Sr.awrap(this.S0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.c0(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.f0=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.T0,e.t0){e.next=5;break}return e.next=4,Sr.awrap(this.S0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.f0(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.as=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.T0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.S0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.as(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.cs=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.T0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.S0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.cs(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.pj=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.T0,e.t0){e.next=5;break}return e.next=4,Sr.awrap(this.S0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.pj(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.v0=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.T0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.S0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.v0(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.d0=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.T0,n.t0){n.next=5;break}return n.next=4,Sr.awrap(this.S0);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.d0());case 7:case"end":return n.stop()}},null,this,null,Ve)},n.l0=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.T0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.S0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.l0(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n._0=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.T0,e.t0){e.next=5;break}return e.next=4,Sr.awrap(this.S0);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i._0(t,n));case 7:case"end":return e.stop()}},null,this,null,Ve)},n.jo=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.T0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.S0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.jo(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.w0=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.T0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.S0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.w0(t));case 7:case"end":return i.stop()}},null,this,null,Ve)},n.g0=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.T0,n.t0){n.next=5;break}return n.next=4,Sr.awrap(this.S0);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.g0());case 7:case"end":return n.stop()}},null,this,null,Ve)},b(t,[{key:"S0",get:function(){return this.Dr.Ss}}]),t}(),EP=function(){function t(t){var n=this;this.Dr=new Ao,this.E0=void 0,this.m0=void 0,this.y0=void 0,this.p0=void 0,this.k0=void 0,this.A0=void 0,this.Dr.Rs(t);var i=this.Dr.Ss;i.then(function(t){n.E0=t}),this.m0=new SP(i.then(function(t){return t.m0})),this.y0=new SP(i.then(function(t){return t.y0})),this.p0=new SP(i.then(function(t){return t.p0})),this.k0=new SP(i.then(function(t){return t.k0})),this.A0=new SP(i.then(function(t){return t.A0}))}return t.prototype.b0=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.E0,i.t0){i.next=5;break}return i.next=4,Sr.awrap(this.I0);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Sr.awrap(n.b0(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,Ve)},b(t,[{key:"I0",get:function(){return this.Dr.Ss}}]),t}(),IP=function(){function t(){this.ou=[]}var n=t.prototype;return n.a0=function(t){return Ve.resolve("temporary"===t)},n.c0=function(t){return this.R0(t.key),this.ou.push(t),Ve.resolve()},n.f0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.R0(i.key)}for(var e=0;e<t.length;e++){var r=t[e];this.ou.push(r)}return Ve.resolve()},n.as=function(t){return Ve.resolve(Boolean(this.N0(t)))},n.cs=function(t){return Ve.resolve(this.N0(t))},n.pj=function(t,n){return Ve.resolve(this.D0(t,n))},n.v0=function(t){var n=this,i=t?t.map(function(t){return n.N0(t)}):this.ou;return Ve.resolve(i.filter(F))},n.d0=function(){return Ve.resolve([].concat(this.ou))},n.l0=function(t){return this._0(t,"key")},n._0=function(t,n){var i=this.ou.filter(function(i){return i[n]===t});return Ve.resolve(i)},n.jo=function(t){return this.R0(t),Ve.resolve()},n.w0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.R0(i)}return Ve.resolve()},n.g0=function(){return Rs(this.ou),Ve.resolve()},n.N0=function(t){return this.D0(t,"key")},n.D0=function(t,n){for(var i=0,e=this.ou;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.R0=function(t){var n=this.N0(t);n&&Ss(this.ou,n)},t}(),RP=function(){function t(){this.y0=void 0,this.m0=void 0,this.p0=void 0,this.k0=void 0,this.A0=void 0,this.y0=new IP,this.m0=new IP,this.p0=new IP,this.k0=new IP,this.A0=new IP}return t.tY=function(){return Ve.resolve(new t)},t.prototype.b0=function(t){return t(this)},t}(),NP=function(){function t(t){this.C0=t}var n=t.prototype;return n.a0=function(t){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.C0;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Sr.awrap(e.a0(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ve)},n.c0=function(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.C0;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,Sr.awrap(r.a0(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.c0(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,Ve)},n.f0=function(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.C0;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,Sr.awrap(r.a0(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.f0(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,Ve)},n.as=function(t){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.C0;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Sr.awrap(e.as(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,Ve)},n.cs=function(t){var n,i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.C0;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Sr.awrap(e.cs(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,Ve)},n.pj=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.C0;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Sr.awrap(r.pj(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,Ve)},n.v0=function(t){var n,i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.C0;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Sr.awrap(r.v0(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ve)},n.d0=function(){var t,n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.C0;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Sr.awrap(e.d0());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,Ve)},n.l0=function(t){var n,i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.C0;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Sr.awrap(r.l0(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,Ve)},n._0=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.C0;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Sr.awrap(s._0(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,Ve)},n.jo=function(t){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.C0;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Sr.awrap(e.jo(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ve)},n.w0=function(t){var n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.C0;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Sr.awrap(e.w0(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,Ve)},n.g0=function(){var t,n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.C0;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Sr.awrap(i.g0());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,Ve)},t}();function DP(t){return function(){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(Ve.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",CP.tY(n));case 4:case"end":return i.stop()}},null,null,null,Ve)}}var CP=function(){function t(t){this.x0=void 0,this.O0=void 0,this.P0=void 0,this.B0=void 0,this.L0=void 0,this.M0=void 0,this.x0=t,this.O0=new NP(t.map(function(t){return t.k0})),this.P0=new NP(t.map(function(t){return t.A0})),this.B0=new NP(t.map(function(t){return t.p0})),this.L0=new NP(t.map(function(t){return t.y0})),this.M0=new NP(t.map(function(t){return t.m0}))}return t.tY=function(n){return Ve.resolve(new t(n))},t.prototype.b0=function(n){var i=this;if(0===this.x0.length)return n(this);var e=[],r=0;return this.x0[r].b0(function s(u){return e.push(u),++r<i.x0.length?i.x0[r].b0(s):n(new t(e))})},b(t,[{key:"k0",get:function(){return this.O0}},{key:"A0",get:function(){return this.P0}},{key:"p0",get:function(){return this.B0}},{key:"y0",get:function(){return this.L0}},{key:"m0",get:function(){return this.M0}}]),t}(),xP=function(){function t(t){this.U0=void 0,this.F0=[],this.H0=!0,this.U0=t}var n=t.prototype;return n.tY=function(){return new EP(this.V0())},n.V0=function(){var t,n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.H0){e.next=4;break}return e.next=3,Sr.awrap(Ve.resolve());case 3:this.H0=!1;case 4:t=0,n=this.F0;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Sr.awrap(DP([RP.tY,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Sr.awrap(DP([RP.tY,this.U0])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],Ve)},n.FB=function(t){if(!this.H0)throw new v("Registration overdue");this.F0.push(t)},t}(),OP=function(){function t(){}return t.FB=function(n){t.lS.FB(n)},b(t,null,[{key:"Nn",get:function(){return t.z0||(t.z0=t.lS.tY()),t.z0}}]),t}();function PP(t){return Sl(t)}function BP(t,n){var i=Sl(t);return n?""+i+n:""+i}function LP(t,n,i,e,r,s,u,o){var h=new Vc;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new kl({If:t,Af:i,kf:h,Yf:s,Xf:wl.GET,nr:gl.Cf,Gf:e,Qf:r,Pr:u,jf:o})}OP.lS=new xP(bP.tY),OP.z0=void 0;var MP=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).zp=void 0,a.hZ=void 0,a.Af=void 0,a.Gf=void 0,a.Qf=void 0,a.W0=void 0,a.JA=void 0,a.X0=void 0,a.q0=void 0,a.JD=void 0,a.G0=void 0,a.fv=null,a.Q0=void 0,a.cf=new Ps,a.Y0=function(t,n){return a.jf(t,n)},a.zp=n,a.hZ=i,a.Af=e,a.Gf=r,a.Qf=s,a.W0=u,a.JD=o,a.G0=new FP,a.JA=h,a.X0=OP.Nn.y0,a.q0=OP.Nn.m0,a}S(n,t);var i=n.prototype;return i.eI=function(){return this.j0(this.cf.Pr)},i.j0=function(t){var n,i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return zO(n=this.hZ)?(i=n.hZ,e=[n.aZ.eI,n.aZ.sI]):(i=n,e=void 0),this.G0.Z0(),h.prev=3,h.next=6,Sr.awrap(this.J0(i,e));case 6:if(r=h.sent,Ms(t),r){h.next=12;break}return h.next=11,Sr.awrap(this.$0(i,e,t));case 11:r=h.sent;case 12:return h.next=14,Sr.awrap(r.fi());case 14:s=h.sent,Ms(t),this.K0(s,r.pf),h.next=28;break;case 19:if(h.prev=19,h.t0=h.catch(3),!Ls(h.t0)){h.next=25;break}return h.abrupt("return");case 25:o=h.t0 instanceof xl?h.t0.fv.pf:0,u=new v('Could not load fragment: "'+this.hZ+'", HTTP status '+o);case 27:return h.abrupt("return",this.n1(u));case 28:case"end":return h.stop()}},null,this,[[3,19]],Ve)},i.J0=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=BP(t,n),u.next=4,Sr.awrap(this.X0.as(i));case 4:if(!u.sent){u.next=11;break}return u.next=7,Sr.awrap(this.q0.cs(i));case 7:return e=u.sent,r=LP(t,n,this.Af,this.Gf,this.Qf,this.W0),s=e.data.buffer,u.abrupt("return",new pl({fi:s,kf:{},Sf:r,Ef:t,Af:this.Af,pf:200,bf:""}));case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(0);case 16:return u.abrupt("return",null);case 17:case"end":return u.stop()}},null,this,[[0,13]],Ve)},i.$0=function(t,n,i){var e=LP(t,n,this.Af,this.Gf,this.Qf,this.W0,i,this.Y0);return this.JA.Sf(e)},i.jf=function(t,n){var i={type:"BK",Sf:this,i1:t,e1:n=void 0===n?NaN:n};this.G0.s1(t,n),this.dispatchEvent(i)},i.K0=function(t,n){var i=this.Af===Hc.Va?t.byteLength:0;this.G0.u1(i),this.Af===Hc.Bn?this.fv=t:this.fv=new m(t),this.Q0=n,t=null,this.n1(),this.fv=null},i.Cr=function(t){return this.cf.Cr(),t||((t=new v('Aborted fragment load: "'+this.hZ+'"')).aborted=!0),this.n1(t)},i.n1=function(t){this.G0.o1();var n={type:"U_",Sf:this};return this.dispatchEvent(n),this.JD(t||null,this)},n}(mO);function UP(){return gE()/1e3}var FP=function(t){function n(){var n;return(n=t.call(this)||this).h1=NaN,n.a1=NaN,n.c1=NaN,n.f1=NaN,n.v1=0,n.d1=NaN,n.h1=UP(),n}S(n,t);var i=n.prototype;return i.Z0=function(){this.h1=UP(),this.dispatchEvent("Zo")},i.s1=function(t,n){this.c1=UP(),this.ZK||(this.a1=this.c1),this.v1=t,this.d1=n||this.d1||NaN,this.dispatchEvent("Zo")},i.u1=function(t){this.s1(t,t)},i.o1=function(){this.f1=UP(),this.dispatchEvent("Zo")},b(n,[{key:"ZK",get:function(){return!y(this.a1)}},{key:"l1",get:function(){return!y(this.f1)}},{key:"y_",get:function(){return(this.a1||UP())-this.h1}},{key:"_1",get:function(){return(this.f1||this.c1)-this.a1}},{key:"w1",get:function(){return(this.f1||this.c1)-this.h1}}]),n}(mO),HP=function(t){function n(n,i){var e;return(e=t.call(this)||this).W0=void 0,e.g1=[],e.m1=null,e.A1=function(t){return e.b1(t)},e.JA=void 0,e.W0=!(!i||i.crossOrigin!==sg.Wl),e.JA=n,e}S(n,t);var i=n.prototype;return i.Yo=function(t,n,i,e,r,s){var u=new MP(t,n,i,e,r,this.W0,s,this.JA);return u.addEventListener("U_",this.A1),this.g1.push(u),this.T1(),u},i.S1=function(t,n,i,e,r){var s=this;return new Ve(function(u,o){s.Yo(t,n,i,e,r,function(t,n){t?o(t):u(n.fv)})})},i.ds=function(t,n){var i=function(t){return!n||t.zp===n},e=this.g1.filter(i);!t&&this.m1&&i(this.m1)&&e.push(this.m1);for(var r=0;r<e.length;r++){e[r].Cr()}return e},i.T1=function(){if(!this.m1){var t=this.g1.shift();t&&(this.m1=t,t.eI())}},i.b1=function(t){var n=t.Sf,i=this.g1.indexOf(n);-1!==i&&Es(this.g1,i),this.m1===n&&(this.m1=null,this.T1())},n}(mO);function VP(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function zP(t){return{get length(){return t.length},start:function(n){return VP(t,n|=0),t.start(n)},end:function(n){return VP(t,n|=0),t.end(n)}}}function WP(t,n){return t.eI-n.eI}var XP=function(){function t(t){this.E1=void 0,this.E1=t}var n=t.prototype;return n.start=function(t){return this.E1[t].eI},n.end=function(t){return this.E1[t].sI},n.I1=function(){return this.E1},b(t,[{key:"length",get:function(){return this.E1.length}}]),t}(),qP=new XP([]),GP=new XP([{eI:-1/0,sI:1/0}]);function QP(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);r<=o&&s>=h||(s+n>=o?s=h:(e.push({eI:r,sI:s}),r=o,s=h))}return e.push({eI:r,sI:s}),new XP(e)}(function(t){var n=$P(t);return n.sort(WP),new XP(n)}(t),n)}function YP(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=_.max(t.start(e),n.start(r)),u=_.min(t.end(e),n.end(r));s<u&&i.push({eI:s,sI:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new XP(i)}function jP(t){var n=t.length;if(!n)return GP;var i=[],e=t.start(0);e!==-1/0&&i.push({eI:-1/0,sI:e});for(var r=0;r<n-1;r+=1)i.push({eI:t.end(r),sI:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({eI:s,sI:1/0}),new XP(i)}function ZP(t,n){return-1!==JP(t,n)}function JP(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function $P(t){if(t instanceof XP)return t.I1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({eI:t.start(i),sI:t.end(i)});return n}function KP(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map($P)),QP(new XP(r));var i,e,r}var tB=.001;function nB(t,n,i){return i=+i||0,t.eI-i<=n.sI&&n.eI<=t.sI+i}function iB(t){var n={eI:NaN,sI:NaN,Lj:t};return eB(n),n}function eB(t){var n=t.Lj;n.length?(n.sort(WP),t.eI=n[0].eI,t.sI=n[n.length-1].sI):(t.eI=NaN,t.sI=NaN)}function rB(t){return void 0!==t.Lj}function sB(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=_.max(s.eI,n),o=_.min(s.sI,i);if(u<o){var h=void 0;h=s.eI===u&&s.sI===o?s:{eI:u,sI:o,Zp:s.Zp},e.push(h)}}return e}function uB(t,n){var i=_.min(t.eI,n.eI),e=_.max(t.sI,n.sI),r=t.Lj,s=n.Lj,u=r.concat(s),o=r.length?r[r.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.Zp===h.Zp&&nB(o,h,tB)&&u.splice(r.length-1,2,function(t,n){var i=t.Zp||n.Zp;return{eI:_.min(t.eI,n.eI),sI:_.max(t.sI,n.sI),Zp:i}}(o,h)),iB(u=sB(u,i,e))}var oB,hB,aB,cB=function(){function t(t,n){this.E1=void 0,this.E1=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;rB(e)?eB(r=e):r=iB([e]),r.Lj.length&&r.eI<r.sI&&n.push(r)}return n}(t),n||this.R1()}var n=t.prototype;return n.start=function(t){return this.E1[t]&&this.E1[t].eI},n.end=function(t){return this.E1[t]&&this.E1[t].sI},n.Lj=function(t){return this.E1[t]&&this.E1[t].Lj},n.N1=function(t,n){return this.D1(t,t,n)},n.D1=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.C1=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.O1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.P1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.kw=function(t){return-1!==this.N1(t)},n.EI=function(t,n,i){return-1!==this.D1(t,n,i)},n.RI=function(t,n,i){return-1!==this.C1(t,n,i)},n.wI=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=_.max(this.start(i),t.start(e)),s=_.min(this.end(i),t.end(e));if(r<s){var u=sB(this.Lj(i),r,s);n.push(iB(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.tY(n,!0)},n.Eg=function(t){return this.length&&t.length?this.wI(jP(t)):this},n.AI=function(t){return this.length?t.length?this.tY(this.E1.concat(t.E1)):this:t},n.B1=function(t){for(var n=[],i=0,e=this.E1;i<e.length;i++)for(var r=0,s=e[i].Lj;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.tY(n)},n.CI=function(t){return this.B1(function(n){return t(n)?n:null})},n.L1=function(){if(!this.length)return this;for(var t=this.E1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.M1(i,e)&&(t.splice(n,2,uB(i,e)),n-=1)}return this.tY(t,!0)},n.M1=function(t,n){var i=t.Lj,e=n.Lj,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.U1(r,s)},n.R1=function(){var t=this.E1;t.sort(WP);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&nB(i,e,tB)&&(t.splice(n,2,uB(i,e)),n-=1)}},b(t,[{key:"length",get:function(){return this.E1.length}}]),t}(),fB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.tY=function(t,i){return new n(t,i)},i.U1=function(t,n){return n.Zp.uJ===t.Zp.uJ&&n.Zp.wj===t.Zp.wj+1},n}(cB);function vB(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.F1(r),u=t.H1(r,s);i.push({eI:s._g(),sI:u._g(),Zp:r})}return new fB(i).L1()}function dB(t){return t.V1!==oB.z1}function lB(t){return 0===t.V1}function _B(t){return t.V1>=0}function wB(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.Lj(e);s<u.length;s++){var o=u[s];if(!r){var h=o.Zp;if(WO(h)&&dB(h)){if((r=_B(h))&&!lB(h)){var a=t.W1(h,h.X1)._g();o={eI:_.max(o.eI,a),sI:o.sI,Zp:h}}}else r=!0;0}r&&i.push(o)}return new fB(i)}(hB=oB||(oB={})).z1=-1,hB.q1=-2,function(t){t.G1="h.264",t.Q1="mp3",t.Y1="aac-lc",t.j1="he-aac"}(aB||(aB={}));var gB,yB,mB,pB,kB=function(){function t(){this.Z1=0,this.E1=[],this.BA={}}var n=t.prototype;return n.J1=function(t){this.E1=this.E1.concat(t.E1),this.Z1+=t.Yd},n.K1=function(t,n,i){var e=this.Z1,r=i-n;r>0&&(this.E1.push({n2:n,i2:i,e2:r,s2:e,u2:t}),this.Z1+=r)},n.cs=function(t){for(var n=0,i=this.E1;n<i.length;n++){var e=i[n];if(e.s2<=t&&t<e.s2+e.e2)return e.u2[t+e.n2-e.s2]}},n.o2=function(t,n){for(var i=n,e=0,r=this.E1;e<r.length;e++)for(var s=r[e],u=s.i2,o=s.n2;o<u;o+=1,i+=1)t[i]=s.u2[o];return i},n.h2=function(){for(var t=new m(this.Z1),n=0,i=0,e=this.E1;i<e.length;i++)for(var r=e[i],s=r.i2,u=r.n2;u<s;u+=1,n+=1)t[n]=r.u2[u];return t},n.ps=function(n){for(var i=new t,e=0,r=this.E1;e<r.length;e++){var s=r[e];i.K1(s.u2,s.n2,s.i2)}return i.BA=n||Er({},this.BA),i},b(t,[{key:"Yd",get:function(){return this.Z1},set:function(t){var n=this.E1,i=this.Z1-t;if(!(t>=this.Z1))if(this.Z1=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.e2)return r.i2-=i,r.e2-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.e2}else n.length=0}},{key:"fi",get:function(){for(var t=new Array(this.Z1),n=0,i=0,e=this.E1;i<e.length;i++)for(var r=e[i],s=r.i2,u=r.n2;u<s;u+=1,n+=1)t[n]=r.u2[u];return t}}]),t}();function AB(t,n){return{audio:t.audio?NB(t.audio,n):void 0,video:t.video?BB(t.video,n):void 0,a2:t.a2?(i=t.a2,{c2:i.c2,p$:i.p$,gl:i.gl,f2:i.f2,v2:i.v2,d2:i.d2,l2:i.l2.map(bB),Al:[]}):void 0,_2:t._2?t._2.map(SB):t._2,w2:t.w2.Py()};var i}function bB(t){return{hp:t.hp,BA:{g2:t.BA.g2,m2:t.BA.A2.Py()},wH:t.wH}}function TB(t){return{hp:t.hp,BA:{g2:t.BA.g2,A2:_m(t.BA.m2)},wH:t.wH}}function SB(t){return{A2:t.A2.Py(),$k:t.$k,xG:t.xG,CG:t.CG,nr:t.nr,b2:t.b2,OG:t.OG,PG:t.PG}}function EB(t){return{A2:_m(t.A2),$k:t.$k,xG:t.xG,CG:t.CG,nr:t.nr,b2:t.b2,OG:t.OG,PG:t.PG}}function IB(t){return{c2:t.c2,wH:[],T2:t.T2,S2:t.S2,duration:t.duration,E2:t.E2,I2:t.I2.Py(),R2:t.R2,N2:t.N2.Py(),D2:t.D2,C2:t.C2.Py(),O2:t.O2.Py(),P2:t.P2.Py(),B2:t.B2.Py(),L2:t.L2.Py(),M2:t.M2.Py(),U2:t.U2.Py()}}function RB(t){return{c2:t.c2,wH:[],T2:t.T2,S2:t.S2,duration:t.duration,E2:t.E2,I2:_m(t.I2),R2:t.R2,N2:_m(t.N2),D2:t.D2,C2:_m(t.C2),O2:_m(t.O2),P2:_m(t.P2),B2:_m(t.B2),L2:_m(t.L2),M2:_m(t.M2),U2:_m(t.U2)}}function NB(t,n){switch(t.T2){case aB.Y1:case aB.j1:return function(t,n){return Er({},CB(t),{T2:t.T2,wH:t.wH.map(function(t){return function(t,n){var i=(e=t.BA,Er({},UB(e),{F2:e.F2,H2:e.H2,V2:e.V2}));var e;return OB(t.ps(i),n)}(t,n)}),MJ:t.MJ,z2:t.z2})}(t,n);case aB.Q1:return function(t,n){return Er({},CB(t),{T2:t.T2,wH:t.wH.map(function(t){return function(t,n){var i=(e=t.BA,Er({},UB(e),{dp:e.dp,Wp:e.Wp,W2:e.W2,X2:e.X2,q2:e.q2}));var e;return OB(t.ps(i),n)}(t,n)})})}(t,n)}}function DB(t){switch(t.T2){case aB.Y1:case aB.j1:return function(t){return Er({},xB(t),{T2:t.T2,wH:t.wH.map(function(t){return function(t){var n=PB(t),i=(e=n.BA,Er({},FB(e),{F2:e.F2,H2:e.H2,V2:e.V2}));var e;return n.ps(i)}(t)}),MJ:t.MJ,z2:t.z2})}(t);case aB.Q1:return function(t){return Er({},xB(t),{T2:t.T2,wH:t.wH.map(function(t){return function(t){var n=PB(t),i=(e=n.BA,Er({},FB(e),{dp:e.dp,Wp:e.Wp,W2:e.W2,X2:e.X2,q2:e.q2}));var e;return n.ps(i)}(t)})})}(t)}}function CB(t){return Er({},IB(t),{wH:[],T2:t.T2,G2:t.G2,Q2:t.Q2,Y2:t.Y2,j2:t.j2})}function xB(t){return Er({},RB(t),{wH:[],T2:t.T2,G2:t.G2,Q2:t.Q2,Y2:t.Y2,j2:t.j2})}function OB(t,n){var i=t.h2();return n.push(i.buffer),{Z2:i,J2:t.Yd,K2:t.BA}}function PB(t){var n=new kB;return n.K1(t.Z2,0,t.J2),n.BA=t.K2,n}function BB(t,n){return Er({},IB(t),{T2:t.T2,wH:t.wH.map(function(t){return function(t,n){var i=(e=t.BA,Er({},LB(e),{r_:e.r_,n3:e.n3.Py(),i3:e.i3,e3:e.e3,r3:e.r3&&e.r3.Py(),s3:e.s3&&e.s3.Py(),u3:e.u3,o3:e.o3,_2:e._2,h3:e.h3}));var e;return OB(t.ps(i),n)}(t,n)}),a3:t.a3,c3:t.c3,Dk:t.Dk,width:t.width,height:t.height,f3:t.f3,v3:t.v3,d3:t.d3,CJ:t.CJ,xJ:t.xJ,zk:t.zk,Wk:t.Wk})}function LB(t){var n;return Er({},{g2:(n=t).g2,m2:n.m2.Py()},{l3:t.l3.Py(),_3:t._3.Py()})}function MB(t){var n;return Er({},{g2:(n=t).g2,m2:_m(n.m2)},{l3:_m(t.l3),_3:_m(t._3)})}function UB(t){return Er({},LB(t))}function FB(t){return Er({},MB(t))}!function(t){t.w3="g3",t.y3="m3"}(gB||(gB={})),function(t){t.A3="b3",t.aj="T3"}(yB||(yB={})),function(t){t.S3="E3",t.y3="m3"}(mB||(mB={})),function(t){t.I3="R3",t.N3="D3"}(pB||(pB={}));var HB=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(Ks),VB=["message","messageerror","error"],zB=function(t){function n(n){var i;return(i=t.call(this,Xw.wl)||this).error=n,i}return S(n,t),n}(Ks),WB=function(t){function n(n){var i;return(i=t.call(this)||this).C3=void 0,i.x3=void 0,i.O3=[],i.P3=function(t){if(i.B3)t.L3();else{i.C3=t,i.C3.Hr(VB,i.Ur);for(var n=0,e=i.O3;n<e.length;n++){var r=e[n];t.M3(r.Jr,r.U3)}Rs(i.O3)}},i.F3=function(t){if(!i.B3){var n=t instanceof v?t:new v("Could not create Worker.");i.Fr(new zB(n)),i.L3()}},i.x3=new Ps,n(i.x3.Pr).then(i.P3,i.F3),i}S(n,t);var i=n.prototype;return i.M3=function(t,n){this.B3||(void 0!==this.C3?this.C3.M3(t,n):this.O3.push({Jr:t,U3:n}))},i.L3=function(){this.B3||(this.x3.Cr(),Rs(this.O3),void 0!==this.C3&&this.C3.L3())},b(n,[{key:"B3",get:function(){return this.x3.Pr.mr}}]),n}(Js);var XB=function(t){function n(n){var i;return(i=t.call(this)||this).C3=void 0,i.H3=function(t){i.Fr(new HB("message",t.data))},i.V3=function(t){i.Fr(new HB("messageerror",t.data))},i.Jz=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Fr(new zB(n)),i.L3()},i.C3=new p(n),i.C3.addEventListener("message",i.H3),i.C3.addEventListener("messageerror",i.V3),i.C3.addEventListener("error",i.Jz),i}S(n,t);var i=n.prototype;return i.M3=function(t,n){n?this.C3.postMessage(t,n):this.C3.postMessage(t)},i.L3=function(){this.Wr(),this.C3.removeEventListener("message",this.H3),this.C3.removeEventListener("messageerror",this.V3),this.C3.removeEventListener("error",this.Jz),this.C3.terminate()},n}(Js),qB=0,GB="iframe.html",QB=function(n){function e(e,r){var u;(u=n.call(this)||this).Bo=void 0,u.z3=void 0,u.W3=void 0,u.X3=void 0,u.q3=function(){u.W3.removeEventListener("load",u.q3),u.W3.contentWindow.postMessage({type:"initialize",id:u.Bo,script:u.z3},"*")},u.G3=function(t){t.origin===u.X3&&t.data.id===u.Bo&&("initialized"===t.data.type||("error"===t.data.type?(u.Fr(new zB(new v(t.data.data.message))),u.L3()):u.Fr(new HB("message",t.data.data))))},u.Bo=qB++,u.z3=e;var o,h,a=i.Ce(GB,r);return u.W3=(o=a.href,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.X3=a.origin,u.W3.addEventListener("load",u.q3),t.addEventListener("message",u.G3),u}S(e,n);var r=e.prototype;return r.M3=function(t,n){n?this.W3.contentWindow.postMessage({type:"message",data:t},"*",n):this.W3.contentWindow.postMessage({type:"message",data:t},"*")},r.L3=function(){var n;this.W3.removeEventListener("load",this.q3),t.removeEventListener("message",this.G3),null==(n=this.W3.contentWindow)||n.postMessage({type:"terminate"},"*"),Ze(this.W3)},e}(Js);function YB(t,n){return t=i.xe(t,n),new WB(function(e){return function(t,n,e){var r,s,u,o,h,a,c,f;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new XB(t),v.next=4,Sr.awrap(ZB(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.L3(),Us(v.t0);case 11:if(!jB||!Mc){v.next=42;break}return v.prev=12,v.next=15,Sr.awrap(i.fd.Sf({If:t,Xf:wl.GET,Af:Hc.Bn,Pr:e}));case 15:return o=v.sent,v.next=18,Sr.awrap(o.ef(e));case 18:u=v.sent,v.next=25;break;case 21:throw v.prev=21,v.t1=v.catch(12),Us(v.t1),JB(v.t1);case 25:return v.prev=25,a=Mc([u],{type:"application/javascript"}),h=URL.createObjectURL(a),r=new XB(h),v.next=31,Sr.awrap(ZB(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.L3(),Us(v.t2),jB=!1;case 39:return v.prev=39,h&&URL.revokeObjectURL(h),v.finish(39);case 42:return v.prev=42,r=new QB(t,n),v.next=46,Sr.awrap(ZB(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.L3(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],Ve)}(t,n,e)})}var jB=!0;function ZB(t,i){var e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(t.Yr(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw JB(e.error);case 5:if(W(s=e.data)&&"3.3.0"===s.Q3){r.next=7;break}throw new mc(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (3.3.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s},null,null,null,Ve)}function JB(t){return new mc(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}function $B(t){var n=t.video,i=n&&n.wH;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].BA.u3)return e}return NaN}function KB(t){var n=t.Y3.video,i=n&&n.wH;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].BA.u3)return e}return NaN}function tL(t){if(!t)return null;switch(t.T2){case aB.G1:return function(t){return t.Dk?"avc1."+(t.f3<16?"0":"")+((t.f3<<16)+(t.v3<<8)+t.d3).toString(16):null}(t);case aB.Q1:return"mp4a.40.34";case aB.Y1:return t.z2?"mp4a.40.5":"mp4a.40.2";case aB.j1:return"mp4a.40.5";default:return null}}function nL(t,n){var i=t.info,e=i.uJ,r=t.Y3,s=e.Fj(t.info.wj-1),u=r.audio||void 0,o=r.video||void 0,h=u&&tL(u),a=o&&tL(o),c=(!u||h)&&(!o||a)?{UZ:h,FZ:a}:null,f=u&&!y(u.D2)?u.D2:null,v=o&&!y(o.D2)?o.D2:null,d=Sm(u&&u.O2,o&&o.O2),l=Sm(u&&u.P2,o&&o.P2),w=Em(u&&u.M2,o&&o.M2),g=Em(u&&u.U2,o&&o.U2),m=o&&o.I2.pw(dm.Ay(o.duration)),p=u&&u.I2.pw(dm.Ay(u.duration)),k=WO(s),A=k&&s.width||e.resolution&&e.resolution.width,b=k&&s.width||e.resolution&&e.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),j3:i,duration:m&&p?dm._y(m,p)._g():(m||p||dm.Bg)._g(),Z3:d,J3:l,K3:w,t4:g,audio:{start:_.max(0,f||0),duration:u&&u.E2||0,T2:h,_K:u&&u.R2,Z3:u&&u.O2,J3:u&&u.P2,K3:u&&u.M2,t4:u&&u.U2},video:{start:_.max(0,v||0),duration:o&&o.E2||0,T2:a,_K:o&&o.R2,Z3:o&&o.O2,J3:o&&o.P2,K3:o&&o.M2,t4:o&&o.U2},$P:o?{width:o.width||A,height:o.height||b}:null,wj:i.wj,size:n,quality:e,WJ:c,n4:i.n4,i4:i.i4}}function iL(t,n){var i,e,r,s,u={start:0,duration:0,T2:null,_K:null,Z3:null,J3:null,K3:null,t4:null};return"UZ"===n?(e=u,r=i=Er({},u,t.video),s=t.$P):(e=i=Er({},u,t.audio),r=u,s=null),{start:i.start,j3:t.j3,duration:i.duration,Z3:i.Z3,J3:i.J3,K3:i.K3,t4:i.t4,audio:e,video:r,$P:s,wj:t.wj,size:t.size,quality:t.quality,WJ:t.WJ,n4:t.n4,i4:t.i4}}function eL(t,n){return t+"e4"+n.wj+"r4"+n.uri}var rL=function(t){function i(i){var e;return(e=t.call(this)||this).Ch=void 0,e.s4=Rr(),e.u4=void 0,e.o4=void 0,e.h4=function(t){var n=t.data,i=n.a4;if(e.s4.get(i))switch(n.c4){case yB.A3:0;var r=n.f4;e.v4(i,r);break;case yB.aj:var s=n.d4;e.l4(i,new AO(kO.sj,{code:s}));default:0}},e._4=function(t){var n,i,r,s,u=t.data,o=u.w4;if(e.s4.get(o))switch(u.g4){case pB.I3:0;var h=u.y4;e.m4(o,{audio:(n=h).audio?DB(n.audio):void 0,video:n.video?(r=n.video,s=RB(r),Er({},s,{T2:r.T2,wH:r.wH.map(function(t){return function(t){var n,i=PB(t),e=Er({},MB(n=i.BA),{r_:n.r_,n3:_m(n.n3),i3:n.i3,e3:n.e3,r3:n.r3&&_m(n.r3),s3:n.s3&&_m(n.s3),u3:n.u3,o3:n.o3,_2:n._2,h3:n.h3});return i.ps(e)}(t)}),a3:r.a3,c3:r.c3,Dk:r.Dk,width:r.width,height:r.height,f3:r.f3,v3:r.v3,d3:r.d3,CJ:r.CJ,xJ:r.xJ,zk:r.zk,Wk:r.Wk})):void 0,a2:n.a2?(i=n.a2,{c2:i.c2,p$:i.p$,gl:i.gl,f2:i.f2,v2:i.v2,d2:i.d2,l2:i.l2.map(TB),Al:[]}):void 0,_2:n._2?n._2.map(EB):n._2,w2:_m(n.w2)});break;case pB.N3:var a=u.A4;e.l4(o,new AO(kO.sj,{code:a}));default:0}},e.b4=function(t){if(t.error instanceof mc&&t.error.code===n.ErrorCode.CONFIGURATION_ERROR){var i={type:"ts",ts:new AO(kO.dj,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ut(i.ts.info.code),e.dispatchEvent(i)}else 0},e.Ch=i,e.o4=e.T4(),e}S(i,t);var e=i.prototype;return e.Cr=function(t){var n=[];this.s4.forEach(function(i,e){t&&i.zp!==t||n.push(e)}),this.S4(n)},e.S4=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.s4.delete(i)}if(t.length){if(this.u4){var e={E4:gB.y3,I4:t};this.u4.M3(e)}if(this.o4){var r={R4:mB.y3,N4:t};this.o4.M3(r)}}},e.l4=function(t,n){var i=this.s4.get(t);if(i){var e=i.JD;this.s4.delete(t),e(n)}},e.D4=function(t,n,i,e){this.u4||(this.u4=this.C4());var r={E4:gB.w3,x4:t,O4:n,P4:i,B4:e};this.u4.M3(r)},e.L4=function(t,n){this.o4||(this.o4=this.T4());var i={R4:mB.S3,M4:t,U4:n,F4:this.s4.get(t).H4};this.o4.M3(i)},e.v4=function(t,n){this.L4(t,n)},e.C4=function(){var t=YB("theoplayer.d.js",this.Ch.libraryLocation);return t.Hr("message",this.h4),t.Hr("error",this.b4),t},e.V4=function(t){var n=t.Y3.video,i=n&&n.wH&&n.wH[0];i&&i.BA.u3},e.m4=function(t,n){var i=this.s4.get(t),e=i.JD,r=i.z4,s={Y3:n,info:i.W4,metadata:null};this.V4(s),function(t){var n=t.info.uJ.Fj(t.info.wj-1),i=t.Y3;t.info.i4=t.info.Hj,n&&(i.audio||i.video?i.video&&!i.video.c3&&!i.video.a3&&i.video.R2&&n.GJ&&i.video.R2!==n.GJ?t.info.i4=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.i4=!0):t.info.i4=!0)}(s),nL(s,r),function(t){var n=t.info,i=n.uJ,e=t.metadata,r=t.Y3;if(n.X4=dm.Ay(e.duration),n.fZ=r.audio&&r.audio.I2.pw(dm.Ay(r.audio.duration))||dm.Bg,n.vZ=r.video&&r.video.I2.pw(dm.Ay(r.video.duration))||dm.Bg,n.q4=r.audio&&r.audio.I2||dm.Bg,n.G4=r.video&&r.video.I2||dm.Bg,n.Q4=e.audio.Z3,n.Y4=e.audio.J3,n.j4=e.video.Z3,n.Z4=e.video.J3,n.cZ=e.Z3,n.J4=e.J3,n.K4=e.audio.K3,n.t6=e.audio.t4,n.n6=e.video.K3,n.i6=e.video.t4,n.K3=e.K3,n.t4=e.t4,r.video){var s=$B(t.Y3),u=r.video.wH&&r.video.wH[s];u?(n.V1=s,n.X1=u.BA.l3,n.e6=u.BA._3):n.V1=oB.q1}else n.V1=oB.z1;n.GJ=r.video&&r.video.R2||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"i$",W4:t.info}),!i.resolution&&e.$P&&(i.resolution=e.$P),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.WJ||i.WJ&&!i.WJ.UZ==!e.WJ.UZ&&!i.WJ.FZ==!e.WJ.FZ||i.HJ(e.WJ),r.audio&&void 0!==r.audio.MJ&&(i.MJ=r.audio.MJ),i.CJ=r.video&&r.video.CJ||i.CJ,i.xJ=r.video&&r.video.xJ||i.xJ,i.OJ=r.audio&&r.audio.c2||void 0,i.PJ=r.video&&r.video.c2||void 0,i.BJ=r.audio&&r.audio.T2||void 0,i.LJ=r.video&&r.video.T2||void 0,i.UJ=r.audio&&r.audio.R2||void 0,i.GJ=r.video&&r.video.R2||void 0}(s),this.s4.delete(t),e(null,s)},e.T4=function(){var t=YB("theoplayer.e.js",this.Ch.libraryLocation);return t.Hr("message",this._4),t.Hr("error",this.b4),t},e.r6=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.s4.has(n)&&r.D4(n,s,t,e.iv)}).catch(function(t){i=void 0,r.s4.has(n)&&r.l4(n,t)})},e.s6=function(t,n,i,e,r,s){var u=eL(t,e),o=e.uJ;this.s4.set(u,{zp:t,W4:e,H4:{u6:e.duration,WJ:o.WJ,CJ:o.CJ,xJ:o.xJ,OJ:o.OJ,PJ:o.PJ,BJ:o.BJ,LJ:o.LJ,MJ:!this.Ch.skipImplicitHEAACDetection&&o.MJ,o6:r},z4:i.length,JD:s}),e.key?this.r6(n,u,i,e.key):this.L4(u,i)},e.h6=function(t){var n=[];return this.s4.forEach(function(i){i.zp===t&&n.push(i.W4)}),n},e.a6=function(t,n){var i=eL(t,n);return this.s4.has(i)},e.Jf=function(){this.Cr(),this.u4&&(this.u4.L3(),this.u4=void 0),this.o4&&(this.o4.L3(),this.o4=void 0)},i}(mO);function sL(t,n){return t+"c6"+n}function uL(t){return sL(t.uJ.ul,t.wj)}function oL(t){return!(!t||!t.Y3)}var hL=function(){function t(t,n,i){this.f6=void 0,this.DA=void 0,this.v6=[],this.d6=Rr(),this.l6=1,this._6=void 0,this.DA=t,this.f6=n,this._6=i}var n=t.prototype;return n.w6=function(t){var n=uL(t.info);if(this.d6.has(n))this.g6(t.info,t);else{this.v6.push(n),this.d6.set(n,t);for(var i=this.f6.y6+10;this.v6.length>8*this.m6&&this.p6>i*this.m6;){var e=this.d6.get(this.v6[0]),r=this._6.k6,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,h=new CT([u,o]),a=r,c=a+this.f6.y6;if(new CT([a,c]).wI(h).Yd>0)break}this.d6.delete(this.v6.shift())}}},n.A6=function(t,n){var i=sL(t,n),e=this.d6.get(i),r=this.v6.indexOf(i);return!(!e||-1===r)&&(Es(this.v6,r),this.d6.delete(i),!0)},n.ds=function(){this.v6.length=0,this.d6.clear()},n.b6=function(){for(var t={},n=0,i=this.v6;n<i.length;n++){var e=i[n],r=this.d6.get(e);oL(r)&&(t[r.info.uJ.ul]=(t[r.info.uJ.ul]||0)+1)}return t},n.T6=function(t,n){var i=[],e=this.S6(t,n);if(!oL(e))return i;do{i.push(e),n+=1,e=this.S6(t,n)}while(oL(e));return i},n.E6=function(t,n){return!!this.S6(t,n)},n.I6=function(t,n){return oL(this.S6(t,n))},n.S6=function(t,n){return this.d6.get(sL(t,n))},n.g6=function(t,n){var i=uL(t),e=this.v6.indexOf(i);return-1!==e&&(Es(this.v6,e),this.v6.push(i),n&&this.d6.set(i,n),!0)},n.R6=function(){for(var t=[],n=0,i=this.v6;n<i.length;n++){var e=i[n],r=this.d6.get(e);t.push(r.info)}return t},n.N6=function(){for(var t=[],n=0,i=this.v6;n<i.length;n++){var e=i[n],r=this.d6.get(e);r&&oL(r)&&t.push(r.info)}return t},b(t,[{key:"p6",get:function(){for(var t=vB(this.DA,this.R6()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"m6",get:function(){return this.l6},set:function(t){t>0&&(this.l6=_.max(t,1))}}]),t}();var aL=L._n?function(t,n){return Tm(t.l3,n.l3)}:function(t,n){return Tm(t._3,n._3)};function cL(t,n,i,e){if(!t)return i;if(!i)return t;if(t.T2===i.T2){var r,s,u=t.a3||i.a3;if(u)s=1/(r=t.N2.pw(i.N2).sy(2))._g();else{if(t.R2!==i.R2)return;if(!t.N2.eg(i.N2))return;r=t.N2,s=t.R2}if(t.width===i.width&&t.height===i.height){var o,h=t.c3||i.c3||!t.N2.eg(i.N2);if(t.wH)if(i.wH)if(e)o=t.wH.concat(i.wH),fL(t.wH,i.wH,dL);else{!function(t,n,i){var e=t.length,r=dm.Bg;t=_s(t,function(t,n){return aL(t.BA,n.BA).gg(dm.Bg)});for(var s=1;s<e;s+=1){var u=t[s-1].BA,o=t[s].BA,h=aL(o,u);h.pg(dm.Bg)&&(h=n),r=r.pw(h),u.n3=h,u.r_=h._g()}if(e>0){var a=t[e-1].BA,c=dm.ly(dm.Ay(_.round(i-r._g())),n);a.n3=c,a.r_=c._g()}}(n.wH.concat(i.wH),r,n.duration+i.duration),o=t.wH.concat(i.wH),fL(t.wH,i.wH,dL)}else o=t.wH;else o=i.wH;return{T2:t.T2,f3:t.f3,d3:t.d3,v3:t.v3,R2:s,N2:r,a3:u,c3:h,width:t.width,height:t.height,CJ:t.CJ,xJ:t.xJ,Dk:t.Dk,duration:t.duration+i.duration,E2:t.E2+i.E2,I2:t.I2,D2:t.D2,C2:t.C2,O2:t.O2,P2:t.P2,B2:_L(i.B2,t.B2),L2:_L(i.L2,t.L2),M2:_L(i.M2,t.M2),U2:_L(i.U2,t.U2),wH:o,S2:t.S2||i.S2,zk:t.zk,Wk:t.Wk}}}}function fL(t,n,i){var e=n[0].BA.m2,r=t[t.length-1].BA.m2,s=e.Eg(r),u=Tm(e,r).Eg(s);if(!u.Hg())for(var o=0;o<n.length;o++){i(n[o].BA,u)}}function vL(t,n){t._3=t._3.pw(n),t.l3=t.l3.pw(n),t.m2=t.m2.pw(n)}function dL(t,n){vL(t,n),t.n3=t.n3.pw(n),t.s3=lL(t.s3,n),t.r3=lL(t.r3,n)}function lL(t,n){if(t)return t.pw(n)}function _L(t,n){return n.pw(Tm(t,n))}function wL(t,n){var i={audio:void 0,video:void 0,w2:t.w2};if("video"===n){if(!t.audio)return i;i.audio={T2:t.audio.T2,R2:t.audio.R2,N2:t.audio.N2,duration:t.audio.duration,E2:t.audio.E2,I2:dm.Bg,D2:t.audio.D2,C2:t.audio.C2,O2:t.audio.O2,P2:t.audio.P2,B2:t.audio.B2,L2:t.audio.L2,M2:t.audio.M2,U2:t.audio.U2,wH:t.audio.wH,j2:t.audio.j2,Y2:t.audio.Y2,S2:t.audio.S2,G2:t.audio.G2,Q2:t.audio.Q2}}if("audio"===n){if(!t.video)return i;i.video={T2:t.video.T2,f3:t.video.f3,d3:t.video.d3,v3:t.video.v3,R2:t.video.R2,N2:t.video.N2,a3:t.video.a3,c3:t.video.c3,width:t.video.width,height:t.video.height,CJ:t.video.CJ,xJ:t.video.xJ,zk:t.video.zk,Wk:t.video.Wk,Dk:t.video.Dk,duration:t.video.duration,E2:t.video.E2,I2:dm.Bg,D2:t.video.D2,C2:t.video.C2,O2:t.video.O2,P2:t.video.P2,B2:t.video.B2,L2:t.video.L2,M2:t.video.M2,U2:t.video.U2,wH:t.video.wH,S2:t.video.S2}}return i}function gL(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.T2===n.T2||!t.T2||!n.T2)&&t.R2===n.R2&&t.N2.eg(n.N2)&&t.Y2===n.Y2)return t.wH?n.wH?(i=t.wH.concat(n.wH),fL(t.wH,n.wH,vL)):i=t.wH:i=n.wH,{T2:t.T2,R2:t.R2,N2:t.N2,duration:t.duration+n.duration,E2:t.E2+n.E2,I2:t.I2,D2:t.D2,C2:t.C2,O2:t.O2,P2:t.P2,B2:_L(n.B2,t.B2),L2:_L(n.L2,t.L2),M2:_L(n.M2,t.M2),U2:_L(n.U2,t.U2),wH:i,Y2:t.Y2,j2:t.j2,S2:t.S2||n.S2,G2:t.G2,Q2:t.Q2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=cL(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,w2:t.w2}}}function yL(t){return wL(t,"audio")}function mL(t){return wL(t,"video")}var pL,kL,AL,bL=function(){function t(t){this.D6=void 0,this.zQ=0,this.C6=0,this.D6=_.exp(_.log(.5)/t)}var n=t.prototype;return n.x6=function(t,n){var i=_.pow(this.D6,t),e=n*(1-i)+i*this.zQ;y(e)||(this.zQ=e,this.C6+=t)},n.O6=function(){var t=1-_.pow(this.D6,this.C6);return this.zQ/t},t}(),TL=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.P6=void 0,this.B6=void 0,this.L6=0,this.M6=void 0,this.U6=5e5,this.P6=new bL(t),this.B6=new bL(n),this.M6=i}var n=t.prototype;return n.x6=function(t,n){var i=8e3*n/t,e=t/1e3;this.L6+=n,this.P6.x6(e,i),this.B6.x6(e,i)},n.O6=function(){return this.F6()?_.min(this.P6.O6(),this.B6.O6()):this.U6},n.F6=function(){return this.L6>=this.M6},t}(),SL=function(){function t(){this.P6=new bL(2),this.B6=new bL(5),this.H6=0,this.V6=1,this.U6=100}var n=t.prototype;return n.x6=function(t){this.H6+=1,this.P6.x6(1,t),this.B6.x6(1,t)},n.O6=function(){return this.F6()?_.min(this.P6.O6(),this.B6.O6()):this.U6},n.F6=function(){return this.H6>=this.V6},t}(),EL=function(){function t(t,n){var i=this;this.z6=void 0,this.Sf=void 0,this.G0=void 0,this.W6=!1,this.X6=0,this.q6=0,this.G6=function(){return i.Q6()},this.z6=t,this.Sf=n,this.G0=n.G0,this.G0.addEventListener("Zo",this.G6)}return t.prototype.Q6=function(){var t=this.G0.v1,n=1e3*this.G0._1,i=1e3*this.G0.y_;this.G0.ZK&&(this.W6||(this.z6.Y6(i),this.W6=!0),n>this.q6&&(this.z6.j6(n-this.q6,t-this.X6),this.X6=t,this.q6=n))},t}(),IL=function(){function t(){this.Z6=void 0,this.J6=void 0,this.Z6=new TL,this.J6=new SL}var n=t.prototype;return n.K6=function(t){new EL(this,t)},n.j6=function(t,n){this.Z6.x6(t,n)},n.Y6=function(t){this.J6.x6(t)},n.Jf=function(){},b(t,[{key:"t5",get:function(){return this.J6.O6()/1e3}},{key:"n5",get:function(){return this.Z6.O6()}}]),t}(),RL=function(){function t(){this.i5=Rr()}var n=t.prototype;return n.e5=function(t,n){var i,e,r=this.i5.get(t);return void 0!==r&&(i=r.hZ,e=n,X(i)?i===e:function(t,n){return t.hZ===n.hZ&&t.aZ.eI===n.aZ.eI&&t.aZ.sI===n.aZ.sI}(i,e))},n.r5=function(t,n){if(this.e5(t,n))return this.i5.get(t).fi},n.s5=function(t,n,i){this.i5.set(t,{hZ:n,fi:i})},n.ds=function(){this.i5.clear()},t}();!function(t){t[t.u5=0]="u5",t[t.o5=5]="o5",t[t.h5=13]="h5",t[t.a5=14]="a5",t[t.c5=15]="c5"}(pL||(pL={})),function(t){t[t.f5=0]="f5",t[t.v5=1]="v5",t[t.d5=2]="d5",t[t.l5=11]="l5",t[t._5=13]="_5",t[t.w5=14]="w5"}(kL||(kL={})),function(t){t[t.g5=0]="g5",t[t.y5=1]="y5",t[t.m5=2]="m5",t[t.p5=3]="p5",t[t.k5=4]="k5",t[t.A5=5]="A5",t[t.b5=6]="b5",t[t.T5=7]="T5"}(AL||(AL={}));var NL=5,DL=5,CL=.5;function xL(t){if(!t.Y3.video)return[];for(var n=[],i=0;i<t.Y3.video.wH.length;i++){var e=t.Y3.video.wH[i].BA;e.u3&&n.push({S5:i,E5:e.l3})}return n}var OL=dm.Ay(.04),PL=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).f6=void 0,s.Ch=void 0,s.I5=void 0,s.JA=void 0,s.R5=void 0,s.N5=void 0,s.D5=void 0,s.C5=Rr(),s.x5=void 0,s.O5=Rr(),s.P5=1,s.Ch=n,s.I5=i,s.JA=e,s.R5=new RL,s.f6=r,s.N5=new HP(e,n),s.D5=new IL,s.x5=new rL(n),s.x5.addEventListener("ts",function(t){s.dispatchEvent(t)}),s}S(n,t);var i=n.prototype;return i.B5=function(t){this.x5.Cr(t),this.N5.ds(!1,t)},i.ds=function(t){this.B5(t),t?this.C5.get(t).ds():this.C5.forEach(function(t){return t.ds()})},i.Jf=function(){this.Wr(),this.N5.ds(),this.C5.forEach(function(t){return t.ds()}),this.C5.clear(),this.x5.Jf()},i.Wd=function(t,n,i){if(!this.C5.has(t)){var e=new hL(n,this.f6,i);e.m6=this.m6,this.C5.set(t,e)}},i.L5=function(t,n,i){var e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=String(n.ul),!this.R5.e5(e,i)){u.next=3;break}return u.abrupt("return",this.R5.r5(e,i));case 3:return r=jO(n.XJ),u.t0=m,u.next=7,Sr.awrap(this.N5.S1(t,i,Hc.Va,yl.Of,r));case 7:return u.t1=u.sent,s=new u.t0(u.t1),this.R5.s5(e,i,s),u.abrupt("return",s);case 11:case"end":return u.stop()}},null,this,null,Ve)},i.M5=function(t,n,i,e){var r=this.C5.get(t),s=r.S6(n.uJ.ul,n.wj);if(r.I6(n.uJ.ul,n.wj))r.g6(n),this.dispatchEvent({type:"U5",zp:t,F5:s});else{if(!s)return this.H5(t,n,i,e);r.g6(n),this.V5(t,n,i,s.z5)}return e&&e(),null},i.H5=function(t,n,i,e){var r=this,s=this.C5.get(t),u=function(t,n){return t+"W5"+n.wj+"r4"+n.uri}(t,n);if(this.O5.has(u))return null;this.O5.set(u,!0);var o=jO(n.uJ.XJ),h=this.N5.Yo(t,n.uri,Hc.Va,yl.Nf,o,function(o,a){return r.O5.delete(u),o?e&&e(o):(r.dispatchEvent({type:"X5",zp:t}),s.I6(n.uJ.ul,n.wj)||s.w6({info:n,z5:h.fv}),r.M5(t,n,i),e&&e(o,a))});return this.D5.K6(h),h},i.V5=function(t,n,i,e){var r=this,s=this.C5.get(t);this.x5.a6(t,n)||(n&&n.key&&this.I5.getKey(n.key).catch(j),this.x5.s6(t,this.I5,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"ts",ts:n});s.w6(i),r.dispatchEvent({type:"U5",zp:t,F5:i})}))},i.q5=function(t,n,i){var e=i.length,r="UZ"===t?LL:ML;if(!BL(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.i4){if("G5"===this.Ch.Q5||r(u,o)){var h=i.splice(0,s);return BL(n,h)?h:this.q5(t,n,i)}0}}return i},i.Y5=function(t,n,i,e){for(var r=this.C5.get(t).N6(),s=e.j5,u=function(t){var e=i[t],u=r.filter(function(t){return t.uJ===e}),o=vB(n,u),h=o.N1(s._g(),OL._g());if(h>=0&&dm.Ay(o.end(h)).Eg(s).yg(OL))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.Z5=function(t,n,i,e,r){if(!L.fn)return!0;if(r.J5||this.Y5(t,n,i,r))return!0;var s=dm.ly(e,r.K5);return r.j5.Eg(s).yg(dm.Ay(2))},i.t8=function(t,n,i,e,r,s,u,o){var h=n.T6(r.ul,s),a=this.q5(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=e.F1(f.info),d=ZL(t,e,f);if("FZ"!==t||function(t,n,i){return!!t&&t.Zp.uJ===n&&i.yg(dm.Ay(t.sI))&&i.pg(dm.Ay(t.sI).pw(OL))}(i,r,d))return{Lj:a,n8:dm._y(v,d)};f.Y3.video&&(f=(a=WL(a,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=xL(o),a=0;a<h.length;a++){var c=h[a];if(n.W1(o.info,c.E5).wg(i.Eg(e)))return{i8:r,e8:s};r=u,s=c.S5}return{i8:r,e8:s}}(a,e,u,o)))[0]);if(d=ZL(t,e,f),function(t){var n=t.Y3.video,i=n&&n.wH,e=i&&i[0],r=e&&e.BA.u3;if(!n)return!0;return!!r}(f))return{Lj:a,n8:dm._y(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=$B(t[n].Y3);if(!y(i))return{i8:n,e8:i}}return null}(a),_=dm.ly(u,QL(t,e,r.Fj(s)));if(f.info.wj===s){if(l&&(d=ZL(t,e,(c=WL(a,l))[0]),_.Eg(d).yg(o)))return{Lj:c,n8:dm._y(v,d)};for(var w=s-1;n.I6(r.ul,w);){var g=n.T6(r.ul,w);if((f=(c=this.q5(t,s,g))&&c[0]&&zL(c[0],KB(c[0])))&&(d=ZL(t,e,f),_.Eg(d).yg(o)))return c[0]=f,{Lj:c,n8:dm._y(v,d)};w-=1}}return function(t){if(t.Hj)return!1;var n=t.uJ;if(n.Uj&&n.Uj.live)return!1;if(!n.Fj(t.wj-1))return!1;return!0}(a[0].info)?null:l?{Lj:a=WL(a,l),n8:v}:null},i.r8=function(t,n,i,e,r,s,u,o,h,a,c){var f=s.s8(o,h,n),v=f&&f.Zp;if(!v)return null;var d=v.wj;do{var l=d,_=o.Fj(l),w=QL(n,s,_);if(!YL(n,s,_).Ag(h)||_.n4){if(w.pw(OL).wg(a))break;if(dm.ly(dm.Bg,h.Eg(w)).Ag(c)&&i.I6(o.ul,l-1)&&i.I6(o.ul,l))i.S6(o.ul,l).metadata.i4||(l-=1);var g=this.u8(t,n,i,e,r,s,u,o,l,h,c);if(g&&(VL(g,h,a)||g.J5))return g}}while(i.I6(o.ul,++d));return null},i.u8=function(t,n,i,e,r,s,u,o,h,a,c){var f=o.Fj(h),v=this.t8(n,i,e,s,o,h,a,c),d=v&&v.Lj,l=v&&v.n8,w=d&&d[d.length-1],g=w&&w.metadata.n4;if(!(d=function(t,n){if(!n||!n.length)return n;var i="UZ"===t?UL:FL;return n.map(i).filter(HL)}(n,d))||!d.length){if(g){var y=[],m=s.F1(w.info);return y.o8=m,y.h8=m,y.K5=m,y.a8=m,y.j5=m,y.J5=g,y}return null}var p=d="FZ"===n?function(t,n,i){var e=i[0].Y3.video;return i[0].info.Hj?function(t,n,i,e){var r=Ts(e.wH,function(t){return t.BA.u3});if(r<0)return i;var s=e.wH[r].BA,u=n.W1(i[0].info,s.l3),o=JL(t,u);if(o.Ig())return i;var h=u.Eg(o).wy(wm,am.Oy);if(h.pg(dm.Bg))return i;var a=tM(e.wH.slice(r),h);return i[0]=qL(i[0],a),i}(t,n,i,e):function(t,n,i,e){var r=e.N2.ty(NL),s=e.wH[0].BA,u=n.W1(i[0].info,s._3),o=$L(t,u,r);if(o.Ig())return i;var h=u.Eg(o).wy(wm,am.Oy);if(h.pg(dm.Bg)||h.wg(r))return i;var a=tM(e.wH,h);return i[0]=qL(i[0],a),i}(t,n,i,e)}(r,s,d):function(t,n,i){var e;if((null==(e=i[0].Y3.audio)?void 0:e.T2)===aB.Q1)return i;var r=i[0].Y3.audio,s=r.wH[0].BA;return i[0].info.Hj?function(t,n,i,e,r){var s=n.W1(i[0].info,r.l3),u=JL(t,s);if(u.Ig())return i;var o=s.Eg(u)._g(),h=_.floor(o/e.N2._g());if(h<=0)return i;var a=KL(e,h);return i[0]=XL(i[0],a),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.W1(i[0].info,r._3),u=$L(t,s,e.N2.ty(DL));if(u.Ig())return i;var o=s.Eg(u)._g(),h=_.round(o/e.N2._g());if(0===h||_.abs(h)>DL)return i;var a=KL(e,h);return i[0]=XL(i[0],a),i}(t,n,i,r,s)}(r,s,d),k=p[0];if(f.wj<k.info.wj&&(l=s.F1(f)),p.o8=l,p.h8=function(t,n,i){return n.W1(i.info,jL(t,i).J3)}(n,s,k),p.K5=ZL(n,s,k),p.a8=function(t,n,i){return n.W1(i.info,jL(t,i).t4)}(n,s,p[p.length-1]),p.j5=function(t,n,i){return n.W1(i.info,jL(t,i).K3)}(n,s,p[p.length-1]),p.J5=g,!this.Z5(t,s,u,a,p))return null;var A=k.Y3.video;return!A||(A.CJ=A.CJ||o.CJ,A.xJ=A.xJ||o.xJ,A.CJ&&A.xJ)?p:null},i.c8=function(t,n,i,e,r,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.r8(t,n,i,e,r,s,u,v,o,h,a);d&&(c&&!d.K5.Ag(c.K5)||(c=d))}return c},i.f8=function(t,n,i,e,r,s,u,o,h){for(var a=dm.Ay(u),c=dm.Ay(o),f=dm.Ay(h),v=this.C5.get(t),d=new XP([{eI:a._g(),sI:a.pw(c)._g()}]),l=r.wI(d),_=function(t){if(0===t.length)return null;var n=t.Lj(t.length-1),i=n[n.length-1];if(!i.Zp.v8)return null;return i}(r),w=YP(jP(l),d),g=0;g<w.length;g++){var y=dm.Ay(w.start(g)),m=dm.Ay(w.end(g)),p=nM(l,y,m),k=y.pw(p).wy(wm,am.Oy),A=m.wy(wm,am.Oy);if(k.Ag(A)){if(_&&k.yg(dm.Ay(_.sI)))continue;var b=this.c8(t,n,v,s,r,i,e,k,A,f);if(b)return b}}return null},i.N6=function(t){return this.C5.get(t).N6()},i.h6=function(t){return this.x5.h6(t)},b(n,[{key:"m6",get:function(){return this.P5},set:function(t){t>0&&(this.P5=t,this.C5.forEach(function(n){return n.m6=t}))}},{key:"t5",get:function(){return this.D5.t5}},{key:"n5",get:function(){return this.D5.n5}}]),n}(mO);function BL(t,n){for(var i=0;i<n.length;i++){if(n[i].info.wj===t)return!0}return!1}function LL(t,n){return t.metadata.audio.T2!==n.metadata.audio.T2||(t.metadata.audio._K!==n.metadata.audio._K||(!(!t.Y3.audio||!n.Y3.audio||t.Y3.audio.Y2===n.Y3.audio.Y2)||!Am(t.metadata.audio.Z3,t.metadata.audio.J3).eg(Am(n.metadata.audio.K3,n.metadata.audio.t4))))}function ML(t,n){return t.metadata.video.T2!==n.metadata.video.T2||(!(!t.metadata.$P||!n.metadata.$P||t.metadata.$P.height===n.metadata.$P.height&&t.metadata.$P.width===n.metadata.$P.width)||(!(!n.Y3.video||n.Y3.video.c3||t.metadata.video._K===n.metadata.video._K)||Am(t.metadata.video.Z3,t.metadata.video.J3)!==Am(n.metadata.video.K3,n.metadata.video.t4)))}function UL(t){return t.Y3.video&&(t={Y3:mL(t.Y3),info:t.info,metadata:iL(t.metadata,"FZ")}),t}function FL(t){return t.Y3.audio&&(t={Y3:yL(t.Y3),info:t.info,metadata:iL(t.metadata,"UZ")}),t}function HL(t){return Boolean(t&&(t.Y3.audio||t.Y3.video))}function VL(t,n,i){var e=dm.ly(n,t.K5),r=dm._y(i,t.j5),s=OL;return L.tn&&(e.pg(t.K5)?s=s.pw(t.K5).Eg(t.h8):r.yg(t.j5)&&(s=s.pw(t.j5).Eg(t.a8))),r.Eg(e).yg(s)}function zL(t,n){return y(n)?null:0===n?t:qL(t,t.Y3.video.wH.slice(n))}function WL(t,n){return(t=t.slice(n.i8))[0]=zL(t[0],n.e8),t}function XL(t,n){var i={info:t.info,Y3:{audio:mL(t.Y3).audio,video:null,w2:t.Y3.w2},metadata:null},e=i.Y3.audio;e.wH=n;var r=n[0].BA;return e.C2=r.m2,e.D2=e.C2._g(),GL(e,i.Y3.w2,e.N2),nL(i,t.metadata.size),i.metadata=iL(i.metadata,"FZ"),i}function qL(t,n){var i={info:t.info,Y3:{audio:null,video:yL(t.Y3).video,w2:t.Y3.w2},metadata:null},e=i.Y3.video;e.wH=n;var r=n[0].BA;e.C2=r.m2,e.D2=e.C2._g();var s=n[n.length-1].BA.n3;return GL(e,i.Y3.w2,s),nL(i,t.metadata.size),i.metadata=iL(i.metadata,"UZ"),i}function GL(t,n,i){for(var e=dm.Ty,r=dm.Ty,s=dm.Sy,u=dm.Sy,o=0,h=t.wH;o<h.length;o++){var a=h[o].BA;e=dm._y(a._3,e),r=dm._y(a.l3,r),s=dm.ly(a._3,s),u=dm.ly(a.l3,u)}t.O2=r,t.P2=e,t.B2=u,t.L2=s,t.I2=dm.ly(Tm(t.C2,n),dm.Bg),t.M2=bm(t.B2,i),t.U2=bm(t.L2,i),t.E2=Am(t.M2,t.O2)._g(),t.duration=t.E2}function QL(t,n,i){if(WO(i)){var e="UZ"===t?i.Q4:i.j4;return pm(e)||(e=i.cZ),n.W1(i,e)}return i&&n.F1(i)}function YL(t,n,i){if(WO(i)){var e="UZ"===t?i.K4:i.n6;return pm(e)||(e=i.cZ),n.W1(i,e)}return i&&n.F1(i).pw("UZ"===t?function(t){return WO(t)?t.fZ||dm.Bg:t&&dm.Ay(t.duration)||dm.Bg}(i):function(t){return WO(t)?t.vZ||dm.Bg:t&&dm.Ay(t.duration)||dm.Bg}(i))}function jL(t,n){return"UZ"===t?n.metadata.audio:n.metadata.video}function ZL(t,n,i){return n.W1(i.info,jL(t,i).Z3)}function JL(t,n){var i=t.O1(n._g());if(-1!==i){var e=dm.Ay(t.end(i));if(n.Eg(e).pg(dm.Ay(CL)))return e}return dm.by}function $L(t,n,i){var e=t.N1(n._g(),i._g());if(-1!==e)for(var r=t.Lj(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.Zp.Lj.length-1;o>=0;o--){var h=u.Zp.Lj[o];if(n.Eg(dm.Ay(h.sI)).bg().pg(i))return dm.Ay(h.sI);if(n.Eg(dm.Ay(h.eI)).bg().pg(i))return dm.Ay(h.eI)}return dm.by}function KL(t,n){var i;if(n<0)i=t.wH.slice(-n);else{0;var e=new kB,r=function(t,n){if(t)switch(n){case 1:return new m([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new m([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new m([0,200,0,128,35,128]);case 2:return new m([33,0,73,144,2,25,0,35,128]);case 3:return new m([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new m([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.z2,t.Y2);e.K1(r,0,r.length),i=t.wH.slice();for(var s=0;s<n;s++){var u=i[0].BA,o=e.ps(Er({},e.BA,{m2:u.m2.Eg(t.N2),g2:u.g2-t.N2._g(),_3:u._3.Eg(t.N2),l3:u.l3.Eg(t.N2)}));i.unshift(o)}}return i}function tM(t,n){var i=t[0].BA,e=t.slice();return e[0]=t[0].ps(Er({},i,{m2:dm.ly(dm.Bg,i.m2.Eg(n)),g2:_.max(i.g2-n._g(),0),_3:dm.ly(dm.Bg,i._3.Eg(n)),e3:_.max(i.e3-n._g(),0),l3:dm.ly(dm.Bg,i.l3.Eg(n)),i3:_.max(i.i3-n._g(),0),n3:dm.ly(dm.Bg,i.n3.pw(n)),r_:_.max(0,i.r_+n._g())})),e}function nM(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.Lj(e),s=t.Lj(e+1);if(r.length&&s.length&&dm.Ay(r[0].eI).pg(n)&&dm.Ay(s[s.length-1].sI).yg(i)&&s[0].Zp.Lj[0].As.j3.Hj)return OL.ty(5)}return t.kw(n._g())?OL:dm.Bg}function iM(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function eM(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function rM(t){return new fM(t.hf,t.fi)}var sM,uM,oM,hM,aM,cM,fM=function(){function t(t,n){this.hf=void 0,this.d8=void 0,this.d8=n,this.hf=t}return t.prototype.l8=function(t){eM(t)},b(t,[{key:"fi",get:function(){return this.d8}},{key:"_8",get:function(){var t,n;return iM((t=this.d8,n=this.hf,Mc([t],{type:n})))}}]),t}(),vM=function(){function t(t,n,i){this.hZ=void 0,this.hZ="data:"+t+";"+n+","+i}return t.prototype.l8=function(t){},b(t,[{key:"_8",get:function(){return this.hZ}}]),t}();!function(t){t.Q1="w8",t.Ml="g8",t.y8="m8",t.p8="k8",t.A8="b8"}(sM||(sM={})),function(t){t.T8="S8",t.E8="I8"}(uM||(uM={})),function(t){t.R8="audio/mp4",t.N8="audio/mpeg",t.D8="video/mp4"}(oM||(oM={})),function(t){t[t.C8=0]="C8",t[t.x8=1]="x8",t[t.wl=2]="wl",t[t.O8=3]="O8"}(hM||(hM={})),function(t){t.P8="B8",t.L8="M8"}(aM||(aM={})),function(t){t.U8="G5",t.L8="F8"}(cM||(cM={}));var dM=function(){function t(t,n,i,e,r,s,u,o,h,a){this.H8=void 0,this.V8=void 0,this.zp=void 0,this.hf=void 0,this.F5=void 0,this.z8=void 0,this.IA=void 0,this.W8=void 0,this.X8=void 0,this.JD=void 0,this.q8=hM.C8,this.V8=t,this.H8=n,this.zp=i,this.hf=e,this.F5=r,this.z8=s,this.IA=u,this.W8=o,this.X8=h,this.JD=a}return t.G8=function(t,n,i,e,r,s,u,o,h,a){switch(n){case aM.P8:return new lM(t,i,e,r,s,u,o,h,a);case aM.L8:return new _M(t,i,e,r,s,u,o,h,a)}},t}(),lM=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,aM.P8,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.Q8=function(){return{Y8:"j8",Z8:this.H8,J8:sM.A8,K8:uM.T8,t9:this.hf,n9:AB(this.F5,[]),i9:this.X8,e9:this.W8.Py(),r9:this.z8.Py(),s9:this.IA.Py()}},n}(dM),_M=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,aM.L8,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.Q8=function(){return{Y8:"j8",Z8:this.H8,J8:this.hf===oM.N8?sM.Q1:sM.Ml,K8:Ok?uM.E8:uM.T8,t9:this.hf,n9:AB(this.F5,[])}},n}(dM),wM=function(){function t(){this.u9=void 0,this.o9=void 0,this.u9=Rr(),this.o9=1}var n=t.prototype;return n.h9=function(){return(this.o9++).toString()},n.G8=function(t,n,i,e,r,s,u,o,h){var a=this.h9(),c=dM.G8(a,n,t,i,e,r,s,u,o,h);return this.a9(c),c},n.c9=function(t){return this.u9.get(t)},n.a9=function(t){this.u9.set(t.H8,t)},n.f9=function(t){this.u9.delete(t)},n.v9=function(t){this.c9(t).q8=hM.x8,this.f9(t)},n.d9=function(t,n){var i=this.c9(t).JD;this.c9(t).q8=hM.wl,this.f9(t),i(n)},n.l9=function(t,n){var i=this.c9(t).JD;this.c9(t).q8=hM.O8,this.f9(t),i(null,n)},n.ds=function(t){var n=[];this.u9.forEach(function(i,e){t&&i.zp!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.v9(e)}},t}();var gM,yM=function(){function t(n){var i=this;this.u9=void 0,this._9=void 0,this.Ch=void 0,this.w9=void 0,this.g9=function(t){var n=t.data.y9,e=t.data.m9,r=t.data.p9,s=t.data.k9,u=i.u9.c9(e);if(u&&u.q8!==hM.x8)switch(n){case"A9":i.b9(u,r);break;case"T9":i.u9.d9(e,new AO(kO.sj,{code:s}));break;default:0}},this.S9=function(t){0},this.u9=new wM,this.Ch=n,this.w9=t.E9(n.Q5),this.I9()}t.E9=function(t){switch(t){case cM.U8:return aM.P8;case cM.L8:return aM.L8}};var n=t.prototype;return n.j8=function(t,n,i,e,r,s,u){var o={metadata:null,UZ:null,FZ:null,ts:null};i&&i.length||u(new AO(kO.sj,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.wj+1,f=h.info.uJ,v=h.metadata,d=v.audio.T2?v.audio:void 0,l=v.video.T2?v.video:void 0,_=a.metadata,w=_.audio.T2?_.audio:void 0,g=_.video.T2?_.video:void 0,m=e.pw(Tm(v.J3,v.Z3)),p=e.pw(Tm(v.Z3,v.Z3)),k=e.pw(d?Tm(d.J3,v.Z3):dm.Bg),A=e.pw(d?Tm(d.Z3,v.Z3):dm.Bg),b=e.pw(l?Tm(l.J3,v.Z3):dm.Bg),T=e.pw(l?Tm(l.Z3,v.Z3):dm.Bg),S=e.pw(Tm(_.t4,v.Z3)),E=e.pw(Tm(_.K3,v.Z3)),I=e.pw(w?Tm(w.t4,v.Z3):dm.Bg),R=e.pw(w?Tm(w.K3,v.Z3):dm.Bg),N=e.pw(g?Tm(g.t4,v.Z3):dm.Bg),D=e.pw(g?Tm(g.K3,v.Z3):dm.Bg);k=dm.ly(dm.Bg,k),b=dm.ly(dm.Bg,b);var C,x,O,P,B,L=FO.__(n.mJ)?dm.Ay(100079991719):dm.Ay(n.r_),M=function(t){for(var n=t[0].Y3,i=n,e=1;e<t.length;e++){if(!(n=gL(i,t[e-1].Y3,t[e].Y3,t[e].info.i4)))return i;i=n}return i}(i);if(M.audio){x=(C=mL(M)).audio.duration;O=this.u9.G8(t,this.w9,"mp3"===C.audio.T2?oM.N8:oM.R8,C,k,A,L,c,function(t,n){if(o.ts=o.ts||t,o.UZ=n,C=!0,P)return u(o.ts,o)}),this.R9(O),C=null}else C=!0;if(M.video){B=(P=yL(M)).video.duration;O=this.u9.G8(t,this.w9,oM.D8,P,b,T,L,c,function(t,n){if(o.ts=o.ts||t,o.FZ=n,P=!0,C)return u(o.ts,o)}),this.R9(O),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),z=dm.Ay(x),W=dm.Ay(B),X=h.Y3.audio&&h.Y3.video?dm._y(h.Y3.audio.I2.pw(z),h.Y3.video.I2.pw(W)):h.Y3.audio?h.Y3.audio.I2.pw(z):h.Y3.video?h.Y3.video.I2.pw(W):dm.Bg;if(X.Hg()&&st("Segment with no valid audio or video track detected",h.info.uri),M.video){var q=$B(M);if(y(q))st("Segment without keyframes detected",h.info.uri),U=dm.by,F=dm.by,H=X.ty(1.5);else{var G=M.video.wH[q].BA;U=e.pw(Tm(G._3,v.Z3)),F=e.pw(Tm(G.l3,v.Z3)),H=dm.Ay(G.i3-h.metadata.start)}}else U=k,F=A,H=dm.Bg;var Q=dm.ly(H,dm.ly(h.Y3.audio&&h.Y3.audio.I2||dm.Bg,h.Y3.video&&h.Y3.video.I2||dm.Bg));o.metadata={wj:c,eI:e._g(),N9:m._g(),o8:p._g(),a8:S._g(),j5:E._g(),e6:U._g(),X1:F._g(),n8:dm._y(e,r)._g(),r_:X._g(),Lj:V,ks:Q._g(),UZ:d&&{eI:A._g(),N9:k._g(),sI:R._g(),a8:I._g(),r_:x,T2:d.T2},FZ:l&&{eI:T._g(),N9:b._g(),sI:D._g(),a8:N._g(),r_:B,T2:l.T2,dg:v.$P.width,qp:v.$P.height},WJ:v.WJ,i4:v.i4,uJ:f,n4:s},i=null,M=null},n.Jf=function(){this.u9.ds(),this._9&&(this._9.L3(),this._9=null)},n.Cr=function(t){this.u9.ds(t)},n.b9=function(t,n){switch(t.V8){case aM.P8:var i=n;this.u9.l9(t.H8,{initializer:rM(i.D9),m4s:rM(i.C9)});break;case aM.L8:var e=n;this.u9.l9(t.H8,(r=e,Ok?new vM(r.hf,"base64",r.fi):new fM(r.hf,r.fi)));break;default:0}var r},n.I9=function(){this._9||(this._9=YB("theoplayer.p.js",this.Ch.libraryLocation),this._9.Hr("message",this.g9),this._9.Hr("error",this.S9))},n.R9=function(t){this._9||this.I9(),this._9.M3(t.Q8())},t}();function mM(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function pM(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function kM(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function AM(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?ko(e[6]):void 0!==e[7]?{width:g(e[8]),height:g(e[10])}:void 0!==e[12]?g(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var bM,TM="x-";function SM(t,n,i,e){var r=t.split("@"),s=mM(n,i),u=w(r[0],10),o=r[1]?w(r[1],10):e;return{hZ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},aZ:{eI:o,sI:o+u-1}}}function EM(t,n,i){var e,r,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],y=null,p=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new AO(kO.rj,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<k.length;b+=1){var T=k[b].trim();if(l.push(T+""),pM(T,"#EXT")){if(pM(T,"#EXTINF"))c=(c=g(kM(T)))||.5;else if(pM(T,"#EXT-X-BYTERANGE"))f=kM(T);else if(pM(T,"#EXT-X-KEY"))(s=AM(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=mM(s.uri,i);else if(pM(T,"#EXT-X-DISCONTINUITY")&&!pM(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(pM(T,"#EXT-X-STREAM-INF"))(r=AM(T)).wj=a++,(b+=1)<k.length&&(r.uri=mM(k[b].trim(),i),A.streams.push(r));else if(pM(T,"#EXT-X-MEDIA")&&!pM(T,"#EXT-X-MEDIA-"))(u=AM(T)).uri&&(u.uri=mM(u.uri,i)),A.media.push(u);else if(pM(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(kM(T));else if(pM(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.Cj=!0,A.xj=w(kM(T),10);else if(pM(T,"#EXT-X-MEDIA-SEQUENCE"))h=w(kM(T),10),A.x9=!0,A.O9=h;else if(pM(T,"#EXT-X-TARGETDURATION"))A.targetDuration=w(kM(T),10),A.hasTargetDuration=!0;else if(pM(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(pM(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(pM(T,"#EXT-X-MAP")){var S=AM(T),E=S.uri,I=S.byterange;o=I?SM(I,E,i,0):mM(E,i)}else if(pM(T,"#EXT-X-VERSION"))A.version=w(kM(T),10);else if(pM(T,"#EXT-X-DATERANGE")){var R=IM(T);A.dateRanges.push(R)}}else if(pM(T,"#"));else if(0!==T.length){f?p=(e=SM(f,T,i,p)).aZ.sI+1:e=mM(T,i);var N,D=s&&Er({},s);s&&void 0===s.iv&&(N=h%4294967295,D.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:e,wj:h,Hj:d,Mj:v,key:D,_J:y,lJ:l,n4:!1,P9:o}),h+=1,c=0,f=null,d=!1,y=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].n4=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=_.min(i,o.duration),e=_.max(e,o.duration)}return{B9:i,L9:e,M9:n?t.fragments[n-1].duration:0,U9:r/n,F9:r}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.wj-n.wj})}(A),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Es(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(A),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(A),A}function IM(t){var n=AM(t),i=function(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i];ns(r,TM)&&(n[r.substr(TM.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{ul:n.id,Jj:n.class,TE:e,Vj:r,r_:n.duration,$j:n["planned-duration"],Kj:s,tZ:i,nZ:u,iZ:o,eZ:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(bM||(bM={}));(gM={})[bM.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",gM[bM.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",gM[bM.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",gM[bM.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",gM[bM.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",gM[bM.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",gM[bM.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var RM=function(){function t(){}return t.prototype._p=function(t,n,i){return EM(t,n,i)},t}(),NM=3,DM=function(){function t(t,n,i){void 0===i&&(i=NM),this.JA=t,this.H9=n,this.V9=i}var n=t.prototype;return n.z9=function(t,n,i){return this.W9(t,n,!0,i)},n.X9=function(t,n,i){return this.W9(t,n,!1,i)},n.W9=function(t,n,i,e){var r,s,u,o,h,a,c,f;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.V9)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Sr.awrap(Qs(s,e));case 6:s<1e4&&(s=_.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return h=t[o],i.prev=10,a=new kl({If:h,Af:Hc.Bn,kf:n,Yf:this.H9,Xf:wl.GET,nr:gl.Df,Gf:yl.Nf,Pr:e}),i.next=14,Sr.awrap(this.JA.Sf(a));case 14:return c=i.sent,i.next=17,Sr.awrap(c.ef(e));case 17:return f=i.sent,i.abrupt("return",{q9:f,G9:h,Ef:c.Ef});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],Ve)},t}(),CM=function(){function t(t,n,i,e){this.Q9=t,this.Y9=n,this.j9=i,this.Z9=e}var n=t.prototype;return n.J9=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.Q9.v0(t.map(PP)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,Ve)},n.K9=function(t,n){var i=BP(t,n);return this.Y9.as(i)},n.t7=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=BP(t,n),r.next=3,Sr.awrap(this.j9.cs(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,Ve)},n.vP=function(t){return this.Z9.cs(t)},t}(),xM=function(){function t(t){this.n7=void 0,this.n7=t}return t.prototype.i7=function(t,n,i,e){var r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:void 0===e&&(e=!1),s=0,u=this.n7;case 2:if(!(s<u.length)){h.next=17;break}return o=u[s],h.prev=4,h.next=7,Sr.awrap(o.i7(t,n,i,e));case 7:return h.abrupt("return",h.sent);case 10:h.prev=10,h.t0=h.catch(4),Us(h.t0),r=h.t0;case 14:s++,h.next=2;break;case 17:throw r;case 18:case"end":return h.stop()}},null,this,[[4,10]],Ve)},t}(),OM=function(){function t(t){this.e7=t}return t.prototype.i7=function(t,n,i,e){var r;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.e7.J9(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{q9:r.data,G9:r.locationURL,Ef:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,Ve)},t}(),PM=function(){function t(t){this.r7=t}return t.prototype.i7=function(t,n,i,e){return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Sr.awrap(this.r7.z9(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Sr.awrap(this.r7.X9(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,Ve)},t}();function BM(t,n){return new xM([new OM(n),new PM(t)])}var LM=function(){function t(t,n,i){this.s7=t,this.u7=n,this.o7=i}var n=t.prototype;return n.i7=function(t,n,i,e){var r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Sr.awrap(this.s7.i7(t,n,i,e));case 3:return r=s.sent,s.next=6,Sr.awrap(this.h7(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,Ve)},n.h7=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.u7.c0({key:PP(t.G9),locationURL:Sl(t.G9),responseURL:Sl(t.Ef),data:t.q9,references:[this.o7.ul]}));case 2:case"end":return n.stop()}},null,this,null,Ve)},t}();function MM(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var UM=function(){function t(t,n,i){this.Ch=void 0,this.JA=void 0,this.s7=void 0,this.a7=void 0,this.a7=new RM,this.Ch=t,this.JA=i;var e=this.Ch&&this.Ch.crossOrigin===sg.Wl,r=new DM(i,e,1);this.s7=BM(r,new CM(OP.Nn.p0,OP.Nn.y0,OP.Nn.m0,OP.Nn.A0))}var n=t.prototype;return n.Yo=function(t,n,i){var e=this.Gv(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.Gv=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Sr.awrap(this.s7.i7([t],n));case 3:return i=r.sent,t=i.Ef,e=this.a7._p(i.q9,t,MM(t)),r.abrupt("return",{m_:e,c7:i.q9});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof Cl)){r.next=16;break}throw new AO(kO.ij,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof xl)){r.next=24;break}if(0!==r.t0.fv.pf){r.next=21;break}throw new AO(kO.ej,{code:"MFL3900",uri:t,status:r.t0.fv.pf});case 21:throw new AO(kO.ij,{code:"MFL4100",uri:t,status:r.t0.fv.pf});case 22:r.next=25;break;case 24:throw new AO(kO.wl,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],Ve)},t}(),FM=function(t){function n(n,i){var e;return(e=t.call(this)||this).f7=void 0,e.v7=void 0,e.d7=void 0,e.l7=void 0,e._7=void 0,e.v$=void 0,e.e$=void 0,e.DS=void 0,e.f7=new UM(i||{},OP.Nn.p0,n),e}S(n,t);var i=n.prototype;return i.U_=function(){void 0!==this.l7&&(a(this.l7),this.l7=void 0),this.d7&&this.d7.Sf&&(this.d7=void 0)},i.w7=function(t){if(this.e$)for(var n=0,i=this.e$.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.g7=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.F9<3*s)?1e3*u.B9:s?1e3*s:1e4,i===n&&(r/=2),r=_.max(r-e,1e3)},i.y7=function(t){if(t.fragments.length>0)for(var n=this.w7(t.fragments[0].uri),i=n&&n.wj||0,e=0,r=t.fragments;e<r.length;e++){r[e].wj+=i}},i.m7=function(t,i,e,r,s,u){var o=this;if(this.d7&&e===this.d7.Sf){var a=gE()-i;if(r){this.d7=void 0,this.DS=r;var c={type:"ts",ts:r};return this.dispatchEvent(c),s&&s(r)}this.d7=void 0;var f=u.m_,v=u.c7;f.x9||this.y7(f),t===this.v7&&(this.v$=f),this.e$=f;var d=n.g7(f,v,this._7,a);f.live?f.isMasterPlaylist||(this.l7=h(function(){return o.Gv(t)},d)):this.U_(),s&&s(r,u);var l={type:"p7",manifest:f,manifestText:v};this.dispatchEvent(l),this._7=v}},i.Gv=function(t,n){var i=this,e=gE(),r=t;a(this.l7),this.l7=void 0;var s=this.f7.Yo(r,{},function(r,u){return i.m7(t,e,s,r,n,u)});this.d7={Sf:s,If:t}},i.eI=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.e$?this.e$.uri:this.v7))&&(this.d7&&this.d7.If===t?n&&(i=function(t){s.removeEventListener("ts",e),s.removeEventListener("p7",i);var r=t;n(null,{m_:r.manifest,c7:r.manifestText})},e=function(t){s.removeEventListener("ts",e),s.removeEventListener("p7",i),n(t.ts)},this.addEventListener("ts",e),this.addEventListener("p7",i)):(this.U_(),this.Gv(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.k7=function(t){t&&(this._7=void 0,this.v$&&this.v$.isMasterPlaylist?this.eI(t.uri):this.e$&&!this.A7()&&this.eI(this.e$.uri))},i.Jf=function(){this.U_(),this.Wr()},i.A7=function(){return!!this.d7||!!this.l7||!(!this.e$||this.e$.live)},b(n,[{key:"m_",get:function(){return this.e$}},{key:"H$",get:function(){return this.v$}},{key:"$K",get:function(){return this.v7},set:function(t){this.U_(),this._7=void 0,this.v$=void 0,this.e$=void 0,this.v7=t}}]),n}(mO),HM=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ch=void 0,e.Vd=void 0,e.v7=void 0,e.b7=void 0,e.JA=void 0,e.Ch=i,e.Vd=Rr(),e.v7=null,e.b7=null,e.JA=n,e}S(n,t);var i=n.prototype;return i.eI=function(){var t=this,n=this.$K;if(n&&!this.b7){var i=new FM(this.JA,this.Ch);i.addEventListener("ts",function(i){var e=i.ts;t.dispatchEvent({type:"T7",ts:e}),t.Vd.has(n)&&t.dispatchEvent({type:"ts",ts:e,S7:n})}),i.addEventListener("p7",function n(e){i.removeEventListener("p7",n),i===t.b7&&t.dispatchEvent({type:"E7",m_:e.manifest})}),i.addEventListener("p7",function(i){t.Vd.has(n)&&t.dispatchEvent({type:n,m_:i.manifest})}),this.b7=i,i.eI(n)}},i.I7=function(t,n){this.R7(t),this.N7(n)},i.N7=function(t){var n,i=this;this.Vd.has(t)||(t===this.$K?(this.eI(),(n=this.b7).m_&&this.dispatchEvent({type:t,m_:n.m_},!0)):((n=new FM(this.JA,this.Ch)).addEventListener("ts",function(n){i.dispatchEvent({type:n.type,ts:n.ts,S7:t})}),n.addEventListener("p7",function(n){i.dispatchEvent({type:t,m_:n.manifest})})),this.Vd.set(t,n))},i.R7=function(t){if(this.Vd.has(t)){var n=this.Vd.get(t);n!==this.b7&&n.Jf(),this.Vd.delete(t),this.removeEventListener(t)}},i.D7=function(t){if(this.Vd.has(t)){var n=this.Vd.get(t);n.A7()||n.eI(t)}},i.C7=function(){var t=this;this.Vd.forEach(function(n,i){return t.D7(i)})},i.Gd=function(){this.Vd.forEach(function(t){return t.Jf()}),this.Vd.clear(),this.b7&&(this.b7.Jf(),this.b7=null),this.v7=null},b(n,[{key:"$K",get:function(){return this.b7&&this.b7.m_?this.b7.m_.uri:this.v7},set:function(t){this.Gd(),this.v7=t}}]),n}(mO),VM=function(t){function n(){var n;return(n=t.call(this)||this).x7=NaN,n}S(n,t);var i=n.prototype;return i.O7=function(t,n){for(var i=t.length?_.min.apply(_,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].ks=dm.Ay(t[r]||0)}var s=t.length?_.max.apply(_,t):0;this.x7=s,this.dispatchEvent({type:"P7",B7:s})},i.L7=function(t,n){var i=[];if(n.length<2)return this.O7(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.M7(t))return!1;i[r]=s.ks.pw(s.U7(e,t))._g()}return this.O7(i,n),!0},i.F7=function(t,n){return this.L7(t.Mj,n)},i.H7=function(t,n){if(n.length<2)return this.O7([],n),!0;var i=n[0].V7(t);if(y(i))return!1;for(var e=0;e<n.length;e++){if(n[e].V7(t)!==i)return!1}return this.L7(i,n)},i.Gd=function(){this.x7=NaN},i.Jf=function(){this.Wr()},b(n,[{key:"B7",get:function(){return this.x7}}]),n}(mO),zM=.001;function WM(t){return t.metadata.uJ.ul+"z7"+t.metadata.wj+"W7"+t.metadata.eI+"X7"+t.metadata.r_}var XM=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.tY=function(t,i){return new n(t,i)},i.U1=function(t,n){return!1},n}(cB);function qM(t,n){var i=new XM([n]);return t.Eg(i).AI(i)}function GM(t,n){var i=function(t,n){var i=t.o8,e=t.X1;if(!y(e)&&e===i)return!0;return!t.i4&&!!n&&n.Zp.uJ===t.uJ&&i>=n.sI&&i<=n.sI+zM}(t,n);return i||!y(t.X1)?{eI:i?t.o8:t.X1,sI:t.j5,Zp:t}:null}var QM=function(t){function n(n,i){var e;return(e=t.call(this)||this).q7=void 0,e.DA=void 0,e.G7=null,e.Q7=function(){return e.Y7()},e.j7=[],e.rw=[],e.Z7=new XM([]),e.J7=null,e.q7=n,e.DA=i,e}S(n,t);var i=n.prototype;return i.K7=function(t){var n=t.metadata,i=n&&n.Lj;if(!i||!i.length)return Ve.resolve();for(var e=[],r=n.eI,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({eI:r,r_:u.duration,sI:o,wj:u.wj,As:u}),r=o}var h={ul:WM(t),eI:t.metadata.eI,N9:n.N9,o8:n.o8,ttt:i[0].j3._J?new Date(i[0].j3._J.getTime()):null,r_:t.metadata.r_,sI:t.metadata.eI+t.metadata.r_,a8:n.a8,j5:n.j5,e6:n.e6,X1:n.X1,Lj:e,uJ:t.metadata.uJ,v8:t.metadata.n4,i4:n.i4};return this.j7.push(h),this.ntt(this.q7.K7(t),h)},i.ntt=function(t,n){var i=this;return t.then(function(){if(Ss(i.j7,n)){i.rw.push(n);var t=i.J7,e=GM(n,t);e&&(i.Z7=qM(i.Z7,e)),i.J7=e}i.Y7(),i.itt(n)}).catch(function(){Ss(i.j7,n)})},i.itt=function(t){var n=t.Lj[0],i=t.Lj[t.Lj.length-1],e=t.uJ,r=e.Fj(n.wj-1),s=FO.__(e.mJ);if(!r||s){var u=e.Fj(n.wj),o=this.DA.F1(u)._g(),h=t.N9,a=_.min(o,h);a<n.eI&&this.q7.SU(a,n.eI)}for(var c=0,f=this.rw;c<f.length;c++){var v=f[c];if(v.uJ===t.uJ){var d=v.Lj[0],l=v.Lj[v.Lj.length-1];l.wj+1===n.wj&&l.sI!==n.eI?this.q7.SU(l.sI,n.eI):d.wj-1===i.wj&&i.sI!==d.eI&&this.q7.SU(i.sI,d.eI)}}},i.ds=function(){this.j7.length=0,this.rw.length=0,this.Z7=new XM([]),this.J7=null},i.Y7=function(){if(this.ett&&!this.ett.BC){var t=this.ett.rw||qP;t=function(t,n){for(var i=$P(t),e=0;e<i.length;e++){var r=i[e],s=n.O1(r.sI,zM);if(s>=0){var u=n.Lj(s),o=u[u.length-1],h=o.Zp.a8,a=o.Zp.j5;h-zM<r.sI&&r.sI<a&&(r.sI=a)}}return new XP(i)}(t,this.Z7),this.rw=this.rw.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.eI,n.sI)>=0}),this.Z7=this.Z7.wI(t)}},i.Jf=function(){this.Wr(),this.ds(),this.ett=null},i.rtt=function(t){var n=this.stt(t);if(n)for(var i=0,e=n.Lj;i<e.length;i++){var r=e[i];if(r.eI<=t&&r.sI>t)return r}return null},i.stt=function(t){for(var n=0,i=this.rw;n<i.length;n++){var e=i[n];if(e.eI<=t&&e.sI>t)return e}return null},i.utt=function(t){for(var n=0,i=this.rw;n<i.length;n++){var e=i[n];if(e.uJ.ul===t.uJ.ul)for(var r=0,s=e.Lj;r<s.length;r++){if(s[r].wj===t.wj)return!0}}return!1},i.ott=function(){return this.htt()[0]},i.htt=function(){for(var t=this.Z7,n=this.J7,i=0,e=this.j7;i<e.length;i++){var r=GM(e[i],n);r&&(t=qM(t,r)),n=r}return[t,n]},b(n,[{key:"Yd",get:function(){return this.j7.length+this.rw.length}},{key:"ett",get:function(){return this.G7},set:function(t){this.G7&&this.G7.removeEventListener("updateend",this.Q7),this.G7=t,this.G7&&(this.G7.addEventListener("updateend",this.Q7),this.Y7())}}]),n}(mO);function YM(t,n,i){!function(t,n,i){for(var e=i.l2,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.W1(t,u.BA.A2)._g(),h=0,a=u.wH;h<a.length;h++){var c=a[h];r.push(new $D(o,c))}i.Al=r}(t,n,i)}function jM(t,n){return t&&n?_.abs(t.wj-n.wj)<=1?dm.Bg:dm.Og(n.Cp-t.Cp,1e3):dm.Bg}var ZM=function(){function t(t,n,i,e,r){this.Hj=void 0,this.i8=void 0,this.att=void 0,this.ctt=void 0,this.nr=void 0,this.S5=void 0,this.ks=dm.Bg,this.ftt=!1,this.dtt=null,this.Hj=t,this.i8=t.uJ.Lj.mj(n.wj),this.S5=this.i8,this.att=i,this.ctt=e,this.nr=r||null}var n=t.prototype;return n.ltt=function(){if(this.dtt)return this.dtt;var t=this._tt();return(t.wtt||t.ts)&&(this.dtt=t),t},n.gtt=function(){return{wtt:!1,ts:!1,ftt:this.ftt,Uw:dm.by}},n.wtt=function(t){return t.Ig()?{wtt:!1,ts:!0,ftt:this.ftt,Uw:dm.by}:{wtt:!0,ts:!1,ftt:this.ftt,Uw:t}},t}();function JM(t,n){switch(n){case"UZ":return pm(t.Q4)?t.Q4:t.cZ;case"FZ":return pm(t.j4)?t.j4:t.cZ;default:return t.cZ}}var $M=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype._tt=function(){var t=this.Hj,n=t.uJ,i=n.Lj,e=i.pj(this.S5);if(t.kw(e)){if(this.ctt&&t.ytt&&WO(e)){var r=JM(e,this.nr),s=t.mtt(r,e.ptt);return this.wtt(s.Eg(this.ks))}if(this.att&&e===t.ktt){var u=t.Fw.Eg(XO(e));return this.wtt(u.Eg(this.ks))}this.S5+=1;var o=jM(e,i.pj(this.S5));return this.ftt=this.ftt||o.wg(dm.Bg),this.ks=this.ks.pw(o).pw(XO(e)),this.gtt()}return this.wtt(dm.by)},n}(ZM),KM=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype._tt=function(){var t=this.Hj,n=t.uJ,i=n.Lj,e=i.pj(this.S5);if(t.kw(e)){if(this.ctt&&t.ytt&&WO(e)){var r=JM(e,this.nr),s=t.mtt(r,e.ptt);return this.wtt(s.pw(this.ks))}if(this.att&&e===t.Att){var u=t.Uw;return this.wtt(u.pw(this.ks))}this.S5-=1;var o=i.pj(this.S5),h=jM(o,e);return this.ftt=this.ftt||h.wg(dm.Bg),this.ks=this.ks.pw(h).pw(XO(o)),this.gtt()}return this.wtt(dm.by)},n}(ZM);var tU=function(){function t(t,n,i){this.wj=void 0,this.uJ=void 0,this.Uw=dm.Bg,this.Fw=dm.Bg,this.Att=null,this.ktt=null,this.btt=!1,this.Ttt=dm.by,this.Stt=dm.by,this.Ett=!1,this.Itt=void 0,this.wj=t,this.uJ=n,this.Itt=i}var n=t.prototype;return n.kw=function(t){return t&&t.Mj===this.wj},n.mtt=function(t,n){var i=t.Eg(this.Ttt).pw(this.Stt);if(void 0!==n){var e=i.Eg(n);if(e.bg().wg(mm)){var r=_.round(e._g()/ym._g());i=i.Eg(ym.ty(r))}}return i},n.Rtt=function(t,n){var i=this.Ntt(t);this.Dtt(n);var e=this.Ctt();return i||e||t===this.ktt&&this.xtt()},n.Ntt=function(t){if(this.ytt&&lm(t.J4,this.Ttt)>=0)return!1;var n;if(n=this.ytt?this.Ott(t,!0,!1):this.Ptt(t,!0,!1),this.Ttt.Ig())this.Ttt=t.J4;else{var i=Tm(t.J4,this.Ttt);this.Ttt=this.Ttt.pw(i)}return this.Stt=n,!0},n.Dtt=function(t){if(!t)return!1;if(this.Itt)return!1;if(!this.Btt())return!1;var n=this.uJ.Lj,i=this.Att,e=n.kj(i.wj-1);if(WO(i)&&WO(e)){var r=function(t,n,i){var e=t.W1(n,n.K3);if(!pm(i.Z4)||!pm(i.j4))return e;var r,s=pm(i.Q4),u=Am(i.j4,i.Z4);if(s){var o=km(Am(i.j4,i.Q4),dm.Bg);r=km(Am(u,o),dm.Bg)}else r=u;return Am(e,r)}(t,e,i);return this.Ett=!0,this.Ltt(r)}return!1},n.Ltt=function(t){if(t.eg(this.Uw))return!1;var n=t.Eg(this.Uw);return this.Uw=t,this.Fw=this.Fw.pw(n),this.Stt=this.Stt.pw(n),!0},n.Ctt=function(){if(this.Itt)return!1;var t=this.ktt;if(!t)return!1;var n,i=new KM(this,t,!1,!0);do{n=i.ltt()}while(!n.wtt&&!n.ts&&!n.ftt);if(n.wtt&&!n.ftt){var e=n.Uw.pw(XO(t));if(!e.eg(this.Fw))return this.Fw=e,!0}return!1},n.Mtt=function(t){var n=!1;return n=this.Dtt(t)||n,n=this.Utt(t)||n},n.Utt=function(t){if(!t)return!1;if(this.Ett)return!1;var n=t.Fw.pw(jM(t.ktt,this.Att));return this.Ltt(n)},n.Ftt=function(t){var n=!1;return(!this.Att||this.Att.wj>t.wj)&&(this.Uw=this.Uw.Eg(jM(t,this.Att)),this.Att=t,n=!0),(!this.ktt||this.ktt.wj<t.wj)&&(this.Fw=this.Fw.pw(jM(this.ktt,t)).pw(XO(t)),this.ktt=t,n=!0),n},n.Htt=function(t){if(!this.ytt||!t.ytt)return dm.by;if(this.Ttt.pg(t.Ttt)){var n=this.mtt(t.Ttt,t.Stt);return t.Stt.Eg(n)}return t.mtt(this.Ttt,this.Stt).Eg(this.Stt)},n.Btt=function(){var t=this.Att;return!!t&&function(t,n){return n.Mj===t&&n.Hj}(this.wj,t)},n.xtt=function(){var t=this.ktt;if(!t)return!1;var n=this.uJ.Lj.kj(t.wj+1);return function(t,n,i){return n.Mj===t&&(!i||i.Hj)}(this.wj,t,n)},n.Vtt=function(t,n){return this.Ott(t,!0,!0,n)},n.Ptt=function(t,n,i){if(!this.kw(t))return dm.by;var e,r=new KM(this,t,n,i);do{e=r.ltt()}while(!e.wtt&&!e.ts);if(!e.wtt)return dm.by;var s=e.Uw;return s.Ag(this.Uw)?this.Uw:s},n.Ott=function(t,n,i,e){if(!this.kw(t))return dm.by;var r,s,u,o,h,a=new $M(this,t,n,i,e),c=new KM(this,t,n,i,e);do{r=a.ltt(),s=c.ltt()}while(!(r.wtt||s.wtt||r.ts&&s.ts));if(s.wtt)u=s,o=r,h=a;else{if(!r.wtt)return dm.by;u=r,o=s,h=c}if(u.Uw.Ag(this.Uw)){for(;!o.wtt&&!o.ts;)o=h.ltt();return o.wtt?dm.ly(this.Uw,o.Uw):this.Uw}if(u.ftt){for(;!o.ftt&&!o.wtt&&!o.ts;)o=h.ltt();if(o.wtt&&!o.ftt&&this.Uw.pg(o.Uw))return o.Uw}return u.Uw},n.W1=function(t,n){return this.kw(t)&&this.ytt?this.mtt(n,t.ptt):dm.by},n.htt=function(){0},b(t,[{key:"ytt",get:function(){return!this.Ttt.Ig()}}]),t}();function nU(t,n){return n.Ag(t.Uw)?ds.gr:n.yg(t.Fw)?ds.yr:ds.wr}var iU=function(){function t(){this.ztt=new RO}var n=t.prototype;return n.kj=function(t){return this.ztt.kj(t)},n.pj=function(t){return this.ztt.pj(t)},n.Wtt=function(t){var n=this.ztt.mj(t);return n<0?null:this.ztt.pj(n-1)},n.ltt=function(t){var n=this.ztt.mj(t);return n<0?null:this.ztt.pj(n+1)},n.Xtt=function(){return this.ztt.pj(0)},n.qtt=function(){var t=this.ztt.Yd;return 0===t?null:this.ztt.pj(t-1)},n.Gtt=function(t){var n=this.ztt,i=this.qtt();if(i&&function(t,n){return t.Uw.pg(n)&&n.Ag(t.Fw)}(i,t))return i;var e=ON(this.ztt.Tj(),t,Z,nU);return n.pj(e)},n.pw=function(t){var n=this.ztt.pw(t);if(n&&!this.ltt(t.wj)){t.btt=!0;var i=this.Wtt(t.wj);i&&(i.btt=!1)}return n},n.jo=function(t){var n=this.ztt.jo(t);if(n&&t.btt){t.btt=!1;var i=this.Wtt(t.wj);i&&(i.btt=!0)}return n},n.Ij=function(t){this.ztt.Ij(t)},n.htt=function(){},b(t,[{key:"Yd",get:function(){return this.ztt.Yd}}]),t}();var eU=dm.Ay(10),rU=function(){function t(t,n,i){this.uJ=void 0,this.Qtt=!1,this.Ytt=!1,this.jtt=new iU,this.Ztt=dm.Bg,this.Jtt=void 0,this.$tt=null,this.Ktt=null,this.Itt=void 0,this.uJ=t,this.Jtt=n.liveOffset,this.Itt=i}var n=t.prototype;return n.tnt=function(t){var n=this.uJ,i=t?t.fragments:null,e=n.Lj;if(!t||!i||!i.length)return!1;this.Qtt=!0;var r,s=!1;if(!this.jtt.Yd){var u=e.kj(i[0].wj).Mj,o=new tU(u,n,this.Itt);o.Ltt(this.ks),this.jtt.pw(o),s=!0}if(this.Ktt){var h=e.mj(this.Ktt.wj);r=h<0?0:h+1}else r=0;for(var a=r,c=e.pj(a),f=null,v=!1;c;){var d=c.Mj;if(f&&f.wj===d||(f&&v&&this.nnt(f),f=this.jtt.kj(d),s=s||v,v=!1),!f){f=new tU(d,n,this.Itt),this.jtt.pw(f);var l=this.jtt.Wtt(d);f.Mtt(l||void 0)}v=f.Ftt(c)||v,c=e.pj(++a)}return f&&v&&this.nnt(f),(s=s||v)&&this.int(),this.jtt.qtt()&&this.JJ(n.Lj),this.$tt=e.kj(i[0].wj),this.Ktt=e.kj(i[i.length-1].wj),s},n.Rtt=function(t){var n=this.jtt.kj(t.Mj);if(!n)return!1;this.Ytt=!0;var i=this.jtt.Wtt(n.wj),e=n.Rtt(t,i);return e&&this.nnt(n),e},n.nnt=function(t){for(var n=t,i=this.jtt.ltt(t.wj),e=!0;e&&i;)e=i.Mtt(n),n=i,i=this.jtt.ltt(i.wj)},n.int=function(){for(var t=!1,n=this.jtt.Xtt(),i=n&&this.jtt.ltt(n.wj);n&&i;)n.Fw.wg(i.Uw)&&(i.Ltt(n.Fw),t=!0),n=i,i=this.jtt.ltt(n.wj);return t},n.ent=function(t){var n=this.jtt.qtt(),i=t.jtt.qtt();if(!this.Itt){if(n&&this.rnt(t,n.wj))return!0;if(i&&this.rnt(t,i.wj))return!0}return this.snt?!(!n||!this.unt(t,n.wj))||(!(!i||!this.unt(t,i.wj))||(!(!n||!this.ont(t,n.wj))||(!(!i||!this.ont(t,i.wj))||this.hnt(t)))):this.ant(t)},n.ant=function(t){var n=this.jtt.Xtt(),i=t.jtt.Xtt();return!(!n||!i)&&(this.gs(i.Uw.Eg(n.Uw)),!0)},n.rnt=function(t,n){var i=this.jtt.kj(n);if(!i||!i.ytt)return!1;var e=t.jtt.kj(n);return!(!e||!e.ytt)&&(this.gs(i.Htt(e)),!0)},n.unt=function(t,n){var i=this.jtt.kj(n);if(!i||!i.Btt())return!1;var e=t.jtt.kj(n);return!(!e||!e.Btt())&&(this.gs(e.Uw.Eg(i.Uw)),!0)},n.ont=function(t,n){var i=this.jtt.kj(n);if(!i)return!1;var e=this.cnt(i.ktt.wj);if(!e)return!1;var r=t.jtt.kj(n);if(!r)return!1;var s=t.cnt(r.ktt.wj);if(!s)return!1;var u=i.Vtt(i.ktt),o=r.Vtt(r.ktt),h=dm.Iy(e).Eg(dm.Iy(s)),a=u.Eg(o);return this.gs(h.Eg(a)),!0},n.hnt=function(t){if(!this.Ytt&&!t.Ytt)return!1;var n=this.jtt.qtt(),i=t.jtt.qtt();if(n&&n.ktt&&i&&i.ktt){var e=dm.Og(n.ktt.Cp-i.ktt.Cp,1e3),r=n.Fw.Eg(i.Fw);return this.gs(e.Eg(r)),!0}return!1},n.JJ=function(t){var n=this.jtt.qtt();if(n)for(var i=n.Fw,e=t.Yd-1;e>=0;e--){var r=t.pj(e);if(i=i.Eg(dm.Ay(r.duration)),void 0!==r.ptt){0;break}r.ptt=i}},n.V7=function(t){var n=this.jtt.Gtt(t);return n?n.wj:NaN},n.F1=function(t,n){var i=this.jtt.kj(t.Mj);return i?i.Vtt(t,n):dm.by},n.H1=function(t,n){var i=this.uJ.Lj.kj(t.wj+1);if(i){var e=this.F1(i);return e}return n.pw(function(t){if(!t)return dm.Bg;if(!WO(t))return dm.Ay(t.duration);var n=t.fZ||dm.Bg,i=t.vZ||dm.Bg,e=dm.Ay(t.duration);return n.Hg()||i.Hg()?n.Hg()?i.Hg()?e.Hg()?e:dm.Bg:i:n:dm.ly(n,i)}(t))},n.W1=function(t,n){var i=this.jtt.kj(t.Mj);return i&&i.ytt?i.W1(t,n):dm.by},n.s8=function(t,n){var i=this.uJ.Lj;return i.Yd?function(t,n,i,e,r){var s,u,o=t.uJ.Lj,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.F1(o.pj(n),r)},c=i,f=a(c),v=e,d=a(v);if(n.Ag(f))return{Zp:s=o.pj(c),fnt:f};if(n.yg(d)&&(s=o.pj(v)).n4)return{Zp:s,fnt:d};for(;f.pg(n)&&n.pg(d);){var l=void 0,w=void 0,g=void 0;if(c===v?(l=c,w=f):(l=c+_.round(n.Eg(f)._g()*(v-c)/d.Eg(f)._g())||0,w=a(l)),w.wg(n))d=a(v=l-1);else{if(s=o.pj(l),!(g=(u=l)===e?a(u).pw(XO(o.pj(u))):a(u+1)).pg(n))return s&&n.pg(w.pw(XO(s)))?{Zp:s,fnt:w}:(s=o.pj(l+1))&&{Zp:s,fnt:g};c=l+1,f=g}}if(d.pg(n)){if((s=o.pj(v))&&n.pg(d.pw(XO(s))))return{Zp:s,fnt:d};if(v<e&&(s=o.pj(v+1),d=a(v+1),s&&n.Ag(d)))return{Zp:s,fnt:d}}return null}(this,t,0,i.Yd-1,n):null},n.cnt=function(t){var n=this.uJ.Lj,i=n.mj(t),e=n.pj(i),r=e,s=dm.Bg;if(e._J)return e._J;for(var u=i-1;u>=0;u--){var o=n.pj(u);if(s=s.pw(XO(o)).pw(jM(o,r)),o._J)return new Date(o._J.getTime()+1e3*s._g());r=o}return null},n.vnt=function(t){for(var n=this.uJ.Lj,i=void 0,e=0;e<n.Yd;e++){var r=n.pj(e);if(r._J){if(!(r._J.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return dm.by;var s=dm.Iy(t).Eg(dm.Iy(i._J));return this.F1(i).pw(s)},n.gs=function(t){if(!t.eg(dm.Bg))for(var n=this.jtt.Yd,i=0;i<n;i++){var e=this.jtt.pj(i);e.Ltt(e.Uw.pw(t))}},n.M7=function(t){var n=this.jtt.kj(t);return n&&n.ytt},n.U7=function(t,n){if(this===t)return dm.Bg;var i=this.jtt.kj(n),e=t.jtt.kj(n);return i&&e?i.Htt(e):dm.by},n.htt=function(){0},b(t,[{key:"snt",get:function(){var t=this.uJ.Uj;return!!t&&t.live}},{key:"dnt",get:function(){var t=this.uJ.Uj;return!!t&&t.isEvent}},{key:"lnt",get:function(){var t=this.$tt;return t?this.F1(t):dm.Bg}},{key:"_nt",get:function(){var t=this.jtt.qtt();return t?t.Fw:dm.Bg}},{key:"wnt",get:function(){if(!this.snt)return dm.Bg;var t=this._nt.Eg(this.gnt);return dm.ly(this.lnt,t)}},{key:"gnt",get:function(){return this.Jtt&&dm.Ay(this.Jtt)||this.ynt.ty(3)}},{key:"mnt",get:function(){return this.snt&&this.Ktt?dm.Og(gE()-this.Ktt.Cp,1e3):dm.Bg}},{key:"ynt",get:function(){var t=this.uJ.Uj;return t&&t.targetDuration?dm.Ay(t.targetDuration):eU}},{key:"ks",get:function(){return this.Ztt},set:function(t){var n=t.Eg(this.Ztt);this.Ztt=t,this.gs(n)}}]),t}(),sU=function(t){function n(n){var i;return(i=t.call(this)||this).pnt=[],i.knt={},i.Ant=null,i.bnt=null,i.Ztt=dm.Bg,i.Itt=void 0,i.Tnt=void 0,i.Tnt=n,i}S(n,t);var i=n.prototype;return i.Snt=function(t){return t&&this.knt[t.ul]||null},i.Ent=function(t){var n=this.Snt(t);return n||((n=new rU(t,this.Tnt,!!this.Itt)).ks=this.Ztt,this.pnt.push(n),this.knt[t.ul]=n),n},i.Int=function(t){var n;switch(null==(n=this.Tnt.hls)?void 0:n.discontinuityAlignment){case wS.EN:return!0;case wS.IN:return!1;default:return t.isEvent||t.hasEnd}},i.tnt=function(t,n){void 0===this.Itt&&(this.Itt=this.Int(n));var i=this.Snt(this.Ant),e=i?i.lnt:dm.Bg,r=i?i._nt:dm.Bg,s=this.Ent(t),u=s.Qtt,o=s.tnt(n);if(!u&&s.Qtt&&(s.gs(this.Rnt(t)),o=!0),o=this.Nnt(s)||o,this.Dnt(s,e,r)){var h=new AO(kO.vj,{code:"MFU0166"});this.dispatchEvent({type:"ts",ts:h})}else this.Ant=t,o&&this.dispatchEvent("KJ")},i.Rtt=function(t,n){if(WO(n)){0;var i=this.Ent(t),e=i.Rtt(n);e=this.Nnt(i)||e,this.bnt=t,e&&this.dispatchEvent("KJ")}},i.Nnt=function(t){var n=!1,i=!1,e=this.Snt(this.bnt);e&&(e===t?n=!0:i=(n=t.ent(e))||i);var r=this.Snt(this.Ant);return r&&r!==t&&(i=n?r.ent(t)||i:t.ent(r)||i),i},i.Rnt=function(t){var n=this.Snt(t),i=!n.snt,e=t.Uj&&t.Uj.isEvent;return i||e?dm.Bg:n.ynt.ty(3)},i.Dnt=function(t,n,i){if(!t.snt)return!1;var e=t.lnt,r=t._nt,s=dm._y(r,i).Eg(dm.ly(e,n)),u=dm.ly(t.ynt.ty(3),s.sy(2));return e.pw(u).Ag(n)},i.JJ=function(t,n){var i=this.Snt(t)||this.Snt(this.Ant);return i&&i.JJ(n)},i.V7=function(t){var n=this.Ant&&this.Snt(this.Ant);return n?n.V7(t):NaN},i.Cnt=function(t,n){var i=t.Fj(n);return this.F1(i)},i.F1=function(t){if(!t)return dm.by;var n=this.Snt(t.uJ)||this.Snt(this.Ant);return n?n.F1(t):dm.by},i.H1=function(t,n){if(!t)return dm.by;var i=this.Snt(t.uJ)||this.Snt(this.Ant);return i?i.H1(t,n):dm.by},i.W1=function(t,n){if(!t||!n)return dm.by;var i=this.Snt(t.uJ)||this.Snt(this.Ant);return i?i.W1(t,n):dm.by},i.s8=function(t,n,i){var e=this.Snt(t);if(!e)return null;var r=e.s8(n,i);return r?{Zp:r.Zp,fnt:r.fnt}:null},i.cnt=function(t,n){var i=this.Snt(t)||this.Snt(this.Ant);return i?i.cnt(n):null},i.vnt=function(t,n){var i=this.Snt(t)||this.Snt(this.Ant);return i?i.vnt(n):dm.by},i.M7=function(t){return void 0!==this.xnt(t)},i.U7=function(t,n){if(this===t)return dm.Bg;var i=this.xnt(n),e=t.xnt(n);return i&&e?i.U7(e,n):dm.by},i.xnt=function(t){return bs(this.pnt,function(n){return n.M7(t)})},i.Jf=function(){this.Wr(),this.pnt.length=0,this.knt={},this.Ant=null,this.bnt=null,this.Ztt=dm.Bg},i.htt=function(){0},b(n,[{key:"Ont",get:function(){return this.lnt.Eg(this.ynt.ty(3))}},{key:"gnt",get:function(){var t=this.Tnt.liveOffset;return dm.Ay(t||3*this.ynt._g())}},{key:"snt",get:function(){var t=this.Snt(this.Ant);return!!t&&t.snt}},{key:"gw",get:function(){return this.Ant?new XP([{eI:this.lnt._g(),sI:this._nt._g()}]):qP}},{key:"lnt",get:function(){if(!this.Ant)return dm.Bg;var t=this.Snt(this.Ant);return t.dnt?t.lnt:t.lnt.pw(t.mnt)}},{key:"_nt",get:function(){if(!this.Ant)return dm.Bg;var t=this.Snt(this.Ant);return t._nt.pw(t.mnt)}},{key:"wnt",get:function(){if(!this.Ant)return dm.Bg;var t=this.Snt(this.Ant);return t.wnt.pw(t.mnt)}},{key:"ynt",get:function(){return this.Ant?this.Snt(this.Ant).ynt:eU}},{key:"ks",get:function(){return this.Ztt},set:function(t){if(!this.Ztt.eg(t)){this.Ztt=t;for(var n=0,i=this.pnt;n<i.length;n++){i[n].ks=t}this.dispatchEvent("KJ")}}}]),n}(mO),uU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Rnt=function(t){return dm.Bg},n}(sU),oU=.25,hU=1/60;function aU(t,n){return ks(t,n,hU)}var cU,fU=function(t,n,i){this.uJ=void 0,this.Uw=void 0,this.r_=void 0,this.Fw=void 0,this.Zp=void 0,this.Pnt=NaN,this.Bnt=NaN,this.Lnt=0,this.uJ=t.uJ,this.Uw=n,this.Fw=i,this.r_=i-n,this.Zp=t},vU=function(t,n,i){this.uJ=void 0,this.Uw=void 0,this.r_=void 0,this.Fw=void 0,this.Pnt=NaN,this.Bnt=NaN,this.Lnt=0,this.uJ=t,this.Uw=n,this.Fw=i,this.r_=i-n};function dU(t){return!(!t||!t.Zp)}function lU(t,n,i){return e=n,r=i,s=t.Uw,u=t.Fw,aU(e,u)<=0&&aU(s,r)<=0;var e,r,s,u}function _U(t,n){return aU(t.Uw,n)<=0?t.Fw:t.Uw}function wU(t,n,i){return(t-n)/i-oU}function gU(t,n){return n.Eg(t).AI(t)}function yU(t,n){var i=_.min(hU,t.r_/2);return n.EI(t.Uw,t.Fw,i)}function mU(t,n){var i=n.N1(t);return-1===i?t:n.end(i)}function pU(t){return t.Bnt<=t.Pnt}function kU(t,n){if(!pU(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.Lnt+n.Bnt>e.Pnt)return!1}return!0}function AU(t,n){for(var i=0;i<t.length;i++){t[i].Lnt+=n.Bnt}n.Lnt=n.Bnt,t.push(n)}!function(t){t[t.Mnt=0]="Mnt",t[t.Unt=1]="Unt",t[t.Fnt=2]="Fnt",t[t.O8=3]="O8"}(cU||(cU={}));var bU=function(){function t(t,n,i,e){this.zp=void 0,this.DA=void 0,this.Hnt=void 0,this.Vnt=void 0,this.znt=void 0,this.q0=void 0,this.zp=t,this.DA=n,this.Hnt=i,this.Vnt=e,this.znt=OP.Nn.p0,this.q0=OP.Nn.m0}var n=t.prototype;return n.Wnt=function(){return this.Hnt.LZ.reduce(function(t,n){return _.max(t,n.Uj&&n.Uj.targetDuration||0)},0)},n.Xnt=function(t,n){void 0===n&&(n=this.DA.F1(t)._g());var i=this.DA.H1(t,dm.Ay(n));return new fU(t,n,i._g())},n.qnt=function(t,n){var i=t.Lj.pj(n);return i&&this.Xnt(i)||null},n.Gnt=function(t){var n=t.uJ,i=n.Lj.mj(t.wj);return i>=0&&this.qnt(n,i-1)||null},n.Qnt=function(t){var n=t.uJ,i=n.Lj.mj(t.wj);return i>=0&&this.qnt(n,i+1)||null},n.Ynt=function(t,n){var i=this.DA.s8(t,dm.Ay(n));return i&&this.Xnt(i.Zp,i.fnt._g())||null},n.jnt=function(t){var n=t.Lj.Yd-1;return n>=0&&this.qnt(t,n)||null},n.Znt=function(t,n,i){var e=t.Uj&&t.Uj.targetDuration||this.Wnt()||10,r=_.max(0,n-e),s=r+e;return i&&lU(i,r,s)&&(s=(r=i.Fw)+e),new vU(t,r,s)},n.Jnt=function(t,n,i){var e=this.Vnt.t5,r=.8*this.Vnt.n5,s=(n.bandwidth||0)*t.r_;return i&&i.ZK?((s=8*i.d1||s)-8*i.v1)/r:e+s/r},n.$nt=function(){for(var t=this.Vnt.N6(this.zp),n=this.Vnt.h6(this.zp),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n.Knt=function(t,n){var i=n.filter(function(n){return n.uJ===t});return vB(this.DA,i).L1()},n.tit=function(t){return"audio"===this.zp&&t?[t]:this.Hnt.LZ},n.nit=function(t){for(var n=new fB([]),i=new fB([]),e=this.$nt(),r={iit:{},eit:{},rit:{},sit:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Knt(u,e),h=wB(this.DA,o);r.iit[u.ul]=o,r.eit[u.ul]=h,r.rit[u.ul]=n=gU(n,o),r.sit[u.ul]=i=gU(i,h)}return r},n.uit=function(t,n,i,e,r){for(var s,u,o,h,a=[],c=0;c<e.length;c++)for(var f=r[e[c].ul],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({eI:d,sI:l})}return 0===(s=YP(s=QP(new XP(a)),new XP([{eI:t,sI:n}]))).length||aU(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,aU(u,t)<=0&&aU(h,o)<=0)?NaN:s.end(0)},n.oit=function(t,n,i){var e=null,r=i.iit[t.ul],s=i.rit[t.ul],u=i.sit[t.ul],o=s.N1(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new XP([{eI:h,sI:a}]),f=s.wI(c).Eg(u),v=0;v<f.length;v++){var d=f.start(v),l=f.Lj(v)[0];if(l.Zp.uJ===t){if(e=this.Gnt(l.Zp))return e}else{for(e=this.Ynt(t,d);e&&yU(e,r);)e=this.Gnt(e.Zp);if(e)return e}}var w=s.Lj(o),g=w[w.length-1];if(g.Zp.uJ===t&&(e=this.Qnt(g.Zp)))return e}var y=this.jnt(t);if(!y||aU(y.Fw,n)<=0){if(!y||!y.Zp.n4)return e=this.Znt(t,n,y);e=y}for(e||(e=this.Ynt(t,n));e&&yU(e,s);)e=this.Qnt(e.Zp);return e},n.hit=function(t,n){var i=this.jnt(t);return i&&i.Zp.n4&&aU(i.Fw,n)<=0?i:this.Ynt(t,n)},n.ait=function(t,n,i,e,r,s,u,o){var h=t.uJ,a=u.rit[h.ul],c=!yU(t,a),f=c?n:_U(t,e);t.Pnt=wU(f,e,s),t.Bnt=this.Jnt(t,h);var v=o&&this.Xnt(o);if(v&&!yU(v,a)){var d=_U(v,e);if(v.Pnt=wU(d,e,s),v.Bnt=this.Jnt(v,h,i&&i.G0),pU(v)&&(!c||function(t,n){var i=[];return!!kU(i,n)&&(AU(i,n),!(!dU(t)||!dU(n)||t.Zp!==n.Zp)||!!kU(i,t))}(t,v)))return v}if(c&&!pU(t))return null;var l=this.cit(t,e,r,s,a);return l.length&&l[l.length-1]||null},n.cit=function(t,n,i,e,r){for(var s=[],u=t.uJ,o=t;o&&n<o.Fw&&i<=o.Uw;){if(!yU(o,r)){if(y(o.Pnt)){var h=_U(o,n);o.Pnt=wU(h,n,e),o.Bnt=this.Jnt(o,u)}kU(s,o)&&AU(s,o)}o=dU(o)&&this.Gnt(o.Zp)}return s},n.fit=function(t,n){return t.Uw<n?{hl:cU.Fnt}:dU(t)?{hl:cU.Mnt,Zp:t.Zp,Uw:t.Uw}:{hl:cU.Unt,uJ:t.uJ}},n.E6=function(t){if(zO(t.uri)){var n=t.uri,i=BP(n.hZ,[n.aZ.eI,n.aZ.sI]);return this.q0.as(i)}var e=BP(t.uri);return this.q0.as(e)},n.vit=function(t){return this.znt.as(t.uri)},n.dit=function(t,n,i,e,r,s,u,o,h){var a,c,f,v,d,l,_,w,g,m,p,k,A;return Sr.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(a=this.tit(e),c=this.nit(a),f=this.DA.Ont._g(),v=this.uit(t,n,r,a,c.eit),_=null,g=!1,!y(v)){b.next=3;break}return b.abrupt("return",{hl:cU.O8});case 3:if(!(v<f)){b.next=5;break}return b.abrupt("return",{hl:cU.Fnt});case 5:m=o.length-1;case 6:if(!(m>=0)){b.next=27;break}if(d=o[m],l=mU(v,c.eit[d.ul]),!(_=this.oit(d,l,c))){b.next=24;break}if(p=!1,!dU(_)){b.next=18;break}return b.next=15,Sr.awrap(this.E6(_.Zp));case 15:p=b.sent,b.next=22;break;case 18:if(d.kJ){b.next=22;break}return b.next=21,Sr.awrap(this.vit(d));case 21:p=b.sent;case 22:if(!p){b.next=24;break}return b.abrupt("return",this.fit(_,f));case 24:m-=1,b.next=6;break;case 27:if(!(v<=t+oU&&h.length)){b.next=33;break}if(d=h[0],l=mU(v,c.eit[d.ul]),!(_=this.oit(d,l,c))){b.next=33;break}return b.abrupt("return",this.fit(_,f));case 33:k=h.length-1;case 34:if(!(k>=0)){b.next=48;break}if(d=h[k],l=mU(v,c.eit[d.ul]),(_=this.oit(d,l,c))?w=_:(g=!0,w=this.hit(d,l)),!w){b.next=45;break}if(!(A=this.ait(w,l,s,t,f,i,c,u))){b.next=45;break}return b.abrupt("return",this.fit(A,f));case 45:k-=1,b.next=34;break;case 48:if(!g){b.next=50;break}return b.abrupt("return",{hl:cU.O8});case 50:if(!_){b.next=52;break}return b.abrupt("return",this.fit(_,f));case 52:if(o.length){b.next=54;break}return b.abrupt("return",{hl:cU.O8});case 54:if(d=o[0],l=mU(v,c.eit[d.ul]),!(_=this.oit(d,l,c))){b.next=61;break}return b.abrupt("return",this.fit(_,f));case 61:return b.abrupt("return",{hl:cU.O8});case 62:case"end":return b.stop()}},null,this,null,Ve)},t}(),TU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).lit=i,o._it=e,o.$k=r,o.zp=s,o.Qf=u,o}return S(n,t),n}(Ks),SU=function(t){function n(n,i,e,r,s){return t.call(this,Fc.Ca,n,i,e,r,s)||this}return S(n,t),n}(TU),EU=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,Fc.Oa,n,i,e,r,s)||this).wit=u,h.vw=o,h}return S(n,t),n}(TU),IU=dm.Ay(.1);function RU(t,n){return(t.F5===n.F5?lm(t.A2,n.A2):lm(t.git,n.git))||ms(t.$k,n.$k)}var NU,DU=function(){function t(){}return t.yit=function(t,n,i){if(!(n>=i)){var e=Ds(t,function(t,n){return new Px(t.map(function(t){return t?t.mit():null}),n).Xq()});if(0!==e.length)return new Mx(n,i,e)}},t}(),CU="black",xU="white",OU=function(){function t(t,n){this.pit=void 0,this.kit=void 0,this.Ait=void 0,this.Tit=void 0,this.Sit=void 0,this.Eit=void 0,this.Iit=void 0,this.Rit=void 0,this.Nit=void 0,this.pit=new Array(PU+1);for(var i=0;i<=PU;i++)this.pit[i]=new Sx;this.kit=1,this.Ait=0,this.Tit=t,this.Sit=n,this.Eit=!1,this.Iit=!1,this.Rit=xU,this.Nit=CU,this.Gd()}var n=t.prototype;return n.Dit=function(t,n){var i="CC"+(this.Tit<<1|this.Sit+1);if(t>=n)return null;var e=(new Ox).Dq(this.pit.slice(1));return 0===e.length?null:{Mw:new Mx(t,n,e),uf:i,$q:this.Tit<<1|this.Sit+1}},n.Gd=function(){this.Cit(),this.kit=1},n.xit=function(){return this.kit},n.Oit=function(t){this.kit=t},n.cq=function(t){this.pit[this.kit].cq(t)},n.fq=function(t){this.pit[this.kit].fq(t)},n.Pit=function(){return this.Ait},n.Bit=function(t){this.Ait=t},n.dq=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case NU.Lit:i=void 0!==LU[n]?LU[n]:String.fromCharCode(n);break;case NU.Mit:i=MU[n];break;case NU.Uit:this.Fit(),i=UU[n];break;case NU.Hit:this.Fit(),i=FU[n]}i&&this.pit[this.kit].addParsedChar(i)}},n.Fit=function(){this.pit[this.kit].vq()},n.Vit=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.pit[t+e]=this.pit[n+e];else for(var r=0;r<i;r++)this.pit[t+r]=this.pit[n+r]},n.zit=function(t,n){for(var i=0;i<=n;i++)this.pit[t+i]=new Sx},n.Cit=function(){this.zit(0,PU)},n.Wit=function(){this.kit=this.Ait>0?this.Ait:0,this.Cit()},n.Xit=function(t){this.Eit=t},n.qit=function(t){this.Iit=t},n.Git=function(t){this.Rit=t},n.Qit=function(t){this.Nit=t},t}(),PU=15;!function(t){t[t.Lit=0]="Lit",t[t.Mit=1]="Mit",t[t.Uit=2]="Uit",t[t.Hit=3]="Hit"}(NU||(NU={}));var BU,LU={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},MU={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},UU={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},FU={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},HU=function(){function t(t,n){this.di=void 0,this.Yit=void 0,this.jit=void 0,this.Zit=void 0,this.Jit=void 0,this.$it=void 0,this.Kit=void 0,this.tet=void 0,this.di=BU.XE,this.Yit=new OU(t,n),this.jit=new OU(t,n),this.Zit=new OU(t,n),this.Jit=this.jit,this.$it=0,this.Kit=void 0,this.tet=!1}var n=t.prototype;return n.Gd=function(){this.tet=!0,this.$it=0,this.di=BU.XE,this.Jit=this.jit,this.Kit=void 0,this.jit.Gd(),this.Zit.Gd(),this.Yit.Gd()},n.net=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.iet=function(t,n){var i=this.net(t,n),e=(30&n)>>1,r=xU,s=!1;e<7?r=XU[e]:7===e&&(s=!0);var u=1==(1&n);if(this.di!==BU.Bn){var o=this.Jit;if(this.di===BU.eet&&i!==o.xit()){var h=1+o.xit()-o.Pit(),a=1+i-o.Pit();o.Vit(a,h,o.Pit()),o.zit(0,a-1),o.zit(i+1,PU-i)}o.Oit(i);var c=Xx[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=qx.FG(c,n);o.cq(f.Rq),this.Jit.Xit(u),this.Jit.qit(s),this.Jit.Git(r),this.Jit.Qit(CU)}}},n.ret=function(t,n){this.Jit.Xit(!1),this.Jit.qit(!1),this.Jit.Git(xU);var i=this.uet(t,NU.Lit," ".charCodeAt(0)),e=xU,r=!1,s=1==(1&n);return"white_italics"===(e=XU[(14&n)>>1])&&(e="white",r=!0),this.Jit.Xit(s),this.Jit.qit(r),this.Jit.Git(e),i},n.uet=function(t,n,i){if(this.Jit.dq(n,i),this.di===BU.oet||this.di===BU.eet){var e=this.het(this.Jit,this.$it,t);return this.$it=t,e}return null},n.het=function(t,n,i){return this.tet?null:t.Dit(n,i)},n.aet=function(t,n){var i=CU;0==(7&t)&&(i=WU[(14&n)>>1]),this.Jit.Qit(i)},n.cet=function(t){var n=VU,i=t.fet,e=t.E5,r=null;switch(i){case n.RCL:this.vet();break;case n.BS:this.det();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.let(2,e);break;case n.RU3:r=this.let(3,e);break;case n.RU4:r=this.let(4,e);break;case n.FON:r=this._et(e);break;case n.RDC:this.wet(e);break;case n.TR:this.yet();break;case n.RTD:this.met();break;case n.EDM:r=this.pet(e);break;case n.CR:r=this.ket(e);break;case n.ENM:this.Aet();break;case n.EOC:r=this.bet(e)}return r},n.ket=function(t){var n=this.Jit;if(this.di!==BU.eet)return null;var i=this.het(n,this.$it,t),e=n.xit()-n.Pit()+1;return n.Vit(e-1,e,n.Pit()),n.zit(0,e-1),n.zit(n.xit(),PU-n.xit()),this.$it=t,i},n.let=function(t,n){this.Jit=this.jit;var i=this.Jit,e=null;return this.di!==BU.eet&&this.di!==BU.Bn&&(e=this.het(i,this.$it,n),this.jit.Wit(),this.Zit.Wit(),this.tet=!1,i.Oit(PU)),this.di=BU.eet,i.Bit(t),e},n._et=function(t){return this.uet(t,NU.Lit," ".charCodeAt(0))},n.pet=function(t){var n=this.jit,i=null;return this.di!==BU.Bn&&(i=this.het(n,this.$it,t)),n.Cit(),this.tet=!1,i},n.wet=function(t){this.di=BU.oet,this.Jit=this.jit,this.Jit.Bit(0),this.$it=t},n.Aet=function(){this.Zit.Cit()},n.bet=function(t){var n=null;this.di!==BU.Bn&&(n=this.het(this.jit,this.$it,t));var i=this.Zit;return this.Zit=this.jit,this.jit=i,this.vet(),this.$it=t,n},n.vet=function(){this.di=BU.Tet,this.Jit=this.Zit,this.Jit.Bit(0)},n.det=function(){this.Jit.Fit()},n.yet=function(){this.Yit.Gd(),this.tet=!1,this.met()},n.met=function(){this.Jit=this.Yit,this.di=BU.Bn},n.Eet=function(t,n,i){return this.Jit.dq(NU.Lit,n),this.uet(t,NU.Lit,i)},n.Iet=function(t,n,i){var e=1&n?NU.Hit:NU.Uit;return this.uet(t,e,i)},n.Ret=function(t){var n=t.Net,i=t.fet,e=t.E5;if(this.Kit===(n<<8|i))return this.Kit=void 0,null;if(this.Kit=n<<8|i,this.Det(n,i))this.iet(n,i);else{if(this.Cet(n,i))return this.ret(e,i);if(this.xet(n,i))this.aet(n,i);else{if(this.Oet(n,i))return this.uet(e,NU.Mit,i);if(this.Pet(n,i))return this.Iet(e,n,i);if(this.Bet(n,i))return this.cet(t);this.isTabOffset(n)&&this.Jit.fq(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.Bet=function(t,n){return 20==(246&t)&&32==(240&n)},n.Det=function(t,n){return 16==(240&t)&&64==(192&n)},n.Cet=function(t,n){return 17==(247&t)&&32==(240&n)},n.xet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.Oet=function(t,n){return 17==(247&t)&&48==(240&n)},n.Pet=function(t,n){return 18==(246&t)&&32==(224&n)},t.Let=function(t){return 16==(112&t)},t}(),VU={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.XE=0]="XE",t[t.Tet=1]="Tet",t[t.oet=2]="oet",t[t.eet=3]="eet",t[t.Bn=4]="Bn"}(BU||(BU={}));var zU,WU=["black","green","blue","cyan","red","yellow","magenta","black"],XU=["white","green","blue","cyan","red","yellow","magenta","white_italics"],qU=function(){function t(t,n,i,e,r){this.Met=void 0,this.Eit=void 0,this.Iit=void 0,this.Nit=void 0,this.Rit=void 0,this.Met=t,this.Eit=n,this.Iit=i,this.Nit=e,this.Rit=r}var n=t.prototype;return n.mit=function(){return this.Met},n.Uet=function(){return this.Eit},n.Fet=function(){return this.Iit},n.Het=function(){return this.Nit},n.Vet=function(){return this.Rit},t}(),GU=function(){function t(t){this.zet=void 0,this.ZE=void 0,this.Wet=void 0,this.Xet=void 0,this.qet=void 0,this.Get=void 0,this.Qet=void 0,this.Yet=void 0,this.jet=void 0,this.Zet=void 0,this.jw=void 0,this.kit=void 0,this.Jet=void 0,this.Iit=void 0,this.Eit=void 0,this.Rit=void 0,this.Nit=void 0,this.zet=t,this.ZE=!1,this.Wet=!1,this.Xet=0,this.qet=0,this.Get=0,this.Qet=0,this.Yet=0,this.jet=zU.$et,this.Zet=[],this.jw=0,this.kit=0,this.Jet=0,this.Iit=!1,this.Eit=!1,this.Rit=xU,this.Nit=CU,this.Ket()}var n=t.prototype;return n.trt=function(t,n,i,e,r,s,u){this.ZE=t,this.qet=n,this.Xet=i,this.Get=e,this.Wet=r,this.Qet=s,this.Yet=u},n.Ket=function(){this.Zet=[];for(var t=0;t<YU;t++)this.Zet.push(this.nrt())},n.nrt=function(){for(var t=[],n=0;n<QU;n++)t.push(null);return t},n.irt=function(t){this.ert()&&(this.Zet[this.kit][this.Jet]=new qU(t,this.Eit,this.Iit,this.Nit,this.Rit),this.Jet++)},n.bq=function(){this.ert()&&(this.Jet<=0&&this.kit<=0||(this.Jet<=0?(this.Jet=this.Yet-1,this.kit--):this.Jet--,this.Zet[this.kit][this.Jet]=null))},n.ert=function(){var t=this.kit<this.Qet&&this.kit>=0,n=this.Jet<this.Yet&&this.Jet>=0;return t&&n},n.rrt=function(){return this.ZE},n.urt=function(t){for(var n=0,i=t;i<YU;i++,n++)this.Zet[n]=this.Zet[i];for(var e=0;e<t;e++,n++)this.Zet[n]=this.nrt()},n.ort=function(){if(this.kit+1>=this.Qet)return this.urt(1),void(this.Jet=0);this.kit++,this.Jet=0},n.hrt=function(){this.Zet[this.kit]=this.nrt(),this.Jet=0},n.Dit=function(t,n){if(this.jw>=t)return null;var i=DU.yit(this.Zet,this.jw,t);return i?(this.Ltt(t),{Mw:i,uf:"svc"+n,$q:n}):null},n.art=function(t,n){this.kit=t,this.Jet=n},n.crt=function(t){this.Nit=t},n.frt=function(t){this.Rit=t},n.vrt=function(t){this.Eit=t},n.drt=function(t){this.Iit=t},n.lrt=function(){this.kit=0,this.Jet=0,this.Eit=!1,this.Iit=!1,this.Rit=xU,this.Nit=CU},n._rt=function(t){this.jet=t},n.wrt=function(){this.ZE=!0},n.Y_=function(){this.ZE=!1},n.grt=function(){this.ZE=!this.ZE},n.Ltt=function(t){this.jw=t},t}();!function(t){t[t.yrt=0]="yrt",t[t.mrt=1]="mrt",t[t.$et=2]="$et",t[t.prt=3]="prt"}(zU||(zU={}));var QU=42,YU=15,jU=function(){function t(t){this.krt=void 0,this.Art=void 0,this.brt=void 0,this.krt=t,this.Art=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.brt=void 0}var n=t.prototype;return n.Trt=function(t){var n=t.Srt(),i=n.Qn,e=n.E5;i===tF&&(i=i<<16|t.Srt().Qn);return i>=0&&i<=31?this.Ert(i,e):i>=128&&i<=159?this.Irt(t,i,e):(i>=4096&&i<=4127?this.Rrt(t,255&i):i>=4224&&i<=4255?this.Nrt(t,255&i):i>=32&&i<=127?this.Drt(i):i>=160&&i<=255?this.Crt(i):i>=4128&&i<=4223?this.xrt(255&i):i>=4256&&i<=4351&&this.Ort(255&i),null)},n.Drt=function(t){this.brt&&(127!==t?this.brt.irt(String.fromCharCode(t)):this.brt.irt("\u266a"))},n.Crt=function(t){this.brt&&this.brt.irt(String.fromCharCode(t))},n.xrt=function(t){if(this.brt)if(void 0!==nF[t]){var n=nF[t];this.brt.irt(n)}else this.brt.irt("_")},n.Ort=function(t){this.brt&&(160===t?this.brt.irt("[CC]"):this.brt.irt("_"))},n.Ert=function(t,n){if(!this.brt)return null;var i=this.brt,e=null;switch(t){case ZU:i.bq();break;case $U:i.rrt()&&(e=i.Dit(n,this.krt)),i.ort();break;case KU:i.rrt()&&(e=i.Dit(n,this.krt)),i.hrt();break;case JU:i.rrt()&&(e=i.Dit(n,this.krt)),i.Ket(),i.art(0,0)}return e},n.Irt=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.Prt(e)}else{if(136===n){var r=t.Srt().Qn;return this.Brt(r,i)}if(137===n){var s=t.Srt().Qn;this.Lrt(s,i)}else{if(138===n){var u=t.Srt().Qn;return this.Mrt(u,i)}if(139===n){var o=t.Srt().Qn;return this.Urt(o,i)}if(140===n){var h=t.Srt().Qn;return this.Frt(h,i)}if(143===n)return this.Gd(i);if(144===n)this.Hrt(t);else if(145===n)this.Vrt(t);else if(146===n)this.art(t);else if(151===n)this.zrt(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.trt(t,a,i)}}}return null},n.Rrt=function(t,n){n>=8&&n<=15?t.Zm(1):n>=16&&n<=23?t.Zm(2):n>=24&&n<=31&&t.Zm(3)},n.Nrt=function(t,n){n>=128&&n<=135?t.Zm(4):n>=136&&n<=143&&t.Zm(5)},n.Prt=function(t){this.Art[t]&&(this.brt=this.Art[t])},n.Wrt=Sr.mark(function t(n){var i;return Sr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Art[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.Brt=function(t,n){for(var i=null,e=0,r=this.Wrt(t);e<r.length;e++){var s=r[e],u=this.Art[s];u.rrt()&&(i=u.Dit(n,this.krt)),u.Ket()}return i},n.Lrt=function(t,n){for(var i=0,e=this.Wrt(t);i<e.length;i++){var r=e[i],s=this.Art[r];s.rrt()||s.Ltt(n),s.wrt()}},n.Mrt=function(t,n){for(var i=null,e=0,r=this.Wrt(t);e<r.length;e++){var s=r[e],u=this.Art[s];u.rrt()&&(i=u.Dit(n,this.krt)),u.Y_()}return i},n.Urt=function(t,n){for(var i=null,e=0,r=this.Wrt(t);e<r.length;e++){var s=r[e],u=this.Art[s];u.rrt()?i=u.Dit(n,this.krt):u.Ltt(n),u.grt()}return i},n.Frt=function(t,n){for(var i=null,e=0,r=this.Wrt(t);e<r.length;e++){var s=r[e],u=this.Art[s];u.rrt()&&(i=u.Dit(n,this.krt)),this.Art[s]=void 0}return i},n.Gd=function(t){var n=this.Frt(255,t);return this.ds(),n},n.ds=function(){this.brt=void 0,this.Art=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.Hrt=function(t){t.Zm(1);var n=t.Srt().Qn;if(this.brt){var i=(128&n)>0,e=(64&n)>0;this.brt.drt(i),this.brt.vrt(e)}},n.Vrt=function(t){var n=t.Srt().Qn,i=t.Srt().Qn;if(t.Zm(1),this.brt){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.Xrt(s,r,e),c=this.Xrt(h,o,u);this.brt.frt(a),this.brt.crt(c)}},n.art=function(t){var n=t.Srt().Qn,i=t.Srt().Qn;if(this.brt){var e=15&n,r=63&i;this.brt.art(e,r)}},n.zrt=function(t){t.Zm(1),t.Zm(1);var n=t.Srt().Qn;if(t.Zm(1),this.brt){var i=3&n;this.brt._rt(i)}},n.trt=function(t,n,i){var e=void 0!==this.Art[n];if(!e){var r=new GU(n);r.Ltt(i),this.Art[n]=r}var s=t.Srt().Qn,u=t.Srt().Qn,o=t.Srt().Qn,h=t.Srt().Qn,a=t.Srt().Qn,c=t.Srt().Qn,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),w=(240&h)>>4,g=1+(63&a);e&&0===(7&c)||this.Art[n].lrt(),this.Art[n].trt(f,v,l,w,d,_,g),this.brt=this.Art[n]},n.Xrt=function(t,n,i){var e={0:0,1:0,2:1,3:1};return iF[e[t]<<2|e[n]<<1|e[i]]},t}(),ZU=8,JU=12,$U=13,KU=14,tF=16,nF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},iF=["black","blue","green","cyan","red","magenta","yellow","white"],eF=function(){function t(){this.qrt=void 0,this.Grt=void 0,this.Qrt=void 0,this.qrt=[],this.Grt=null,this.Qrt=0}var n=t.prototype;return n.Yrt=function(t){if(t.nr===ux.rq){var n=63&t.Qn;return this.Qrt=2*n-1,void(this.Grt=[])}if(this.Grt&&(this.Qrt>0&&(this.Grt.push(t),this.Qrt--),0===this.Qrt)){var i=new rF(this.Grt);this.qrt.push(i),this.Grt=null,this.Qrt=0}},n.jrt=function(){return this.qrt},n.Zrt=function(){this.qrt=[]},n.ds=function(){this.qrt=[],this.Grt=[],this.Qrt=0},t}(),rF=function(){function t(t){this.Jrt=void 0,this.$rt=void 0,this.Jrt=0,this.$rt=t}var i=t.prototype;return i.Krt=function(){return this.Jrt<this.$rt.length},i.tst=function(){return this.Jrt},i.Srt=function(){if(!this.Krt())throw new mc(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.$rt[this.Jrt++]},i.Zm=function(t){if(this.Jrt+t>this.$rt.length)throw new mc(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Jrt+=t},t}(),sF=function(){function t(){this.nst=void 0,this.ist=void 0,this.est=void 0,this.rst=void 0,this.sst=void 0,this.ust=void 0,this.ost=void 0,this.hst=void 0,this.ast=!1,this.nst=[],this.ist=[],this.est=new eF,this.rst=0,this.sst=Dr({CC1:new HU(0,0),CC2:new HU(0,1),CC3:new HU(1,0),CC4:new HU(1,1)}),this.ust=0,this.ost=0,this.hst=Nr(),this.Gd()}var i=t.prototype;return i.ds=function(){this.rst=0,this.nst=[],this.ist=[],this.est.ds(),this.Gd(),this.hst.forEach(function(t){t.ds()})},i.Gd=function(){this.ust=0,this.ost=0,this.sst.forEach(function(t){t.Gd()})},i.E3=function(t,n){if(t.CG){var i=t.OG,e=t.PG,r=t.nr;r===ux.tq||r===ux.nq?this.nst.push({E5:n,nr:r,Net:i,fet:e,cst:this.nst.length}):this.ast&&(this.ist.push({E5:n,nr:r,Qn:i,cst:this.ist.length}),this.ist.push({E5:n,nr:ux.iq,Qn:e,cst:this.ist.length}))}},i.DN=function(){var t=[];_s(this.nst,function(t,n){return t.E5-n.E5||t.cst-n.cst}),_s(this.ist,function(t,n){return t.E5-n.E5||t.cst-n.cst});for(var n=0,i=this.nst;n<i.length;n++){var e=i[n],r=this.fst(e);r&&t.push(r)}for(var s=0,u=this.ist;s<u.length;s++){var o=u[s];this.est.Yrt(o)}for(var h=this.est.jrt(),a=0;a<h.length;a++){var c=h[a],f=this.vst(c);t.push.apply(t,f)}return this.est.Zrt(),this.nst=[],this.ist=[],t},i.fst=function(t){var n=t.nr;if(HU.Let(t.Net)){var i=t.Net>>3&1;0===n?this.ust=i:this.ost=i}var e="CC"+(n<<1|(n?this.ost:this.ust)+1),r=this.sst.get(e);return 255===t.Net&&255===t.fet||!t.Net&&!t.fet||!this.dst(t.Net)||!this.dst(t.fet)?(++this.rst>=45&&this.Gd(),null):(this.rst=0,t.Net&=127,t.fet&=127,t.Net||t.fet?HU.Let(t.Net)?r.Ret(t):r.Eet(t.E5,t.Net,t.fet):null)},i.vst=function(t){var i=[];try{for(;t.Krt();){var e=t.Srt().Qn,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Srt().Qn;if(0!==r){if(!this.hst.has(r)){var u=new jU(r);this.hst.set(r,u)}for(var o=this.hst.get(r),h=t.tst();t.tst()-h<s;){var a=o.Trt(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof mc&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.dst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),uF=function(t){function n(n){var i;return(i=t.call(this)||this).QJ=void 0,i.lst=[],i.QJ=n,i}S(n,t);var i=n.prototype;return i._st=function(t,n,i){var e=this.wst(t),r=this.gst(e);this.yst(r,n,i),this.DN()},i.wst=function(t){if(0===t.length)return[];for(var n=t[0].F5,i=this.mst(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s.F5&&(n=s.F5,i=this.mst(s)),e.push(Er({},s,{git:s.A2.pw(i)}))}return e},i.mst=function(t){var n=this.QJ.W1(t.F5,t.A2),i=n.Eg(t.A2);return Tm(n,t.A2).Eg(i)},i.gst=function(t){var n,i,e,r,s,u=t.slice().sort(RU),o=this.lst;if(o.length)if(u.length){var h=1/u[0].F5.GJ,a=u[0].git,c=o[0].git,f=o[o.length-1].git,v=(r=o[0].F5,s=u[0].F5,r.uJ===s.uJ);if(f.Eg(a).Ag(dm.Ay(2.5*h))&&v)n=o.concat(u).sort(RU);else if(a.yg(c)){for(var d=0;d<o.length&&o[d].git.Ag(a);)d++;for(var l=!1,_=!1,w=d,g=0;w<o.length&&g<u.length;w++,g++)i=o[w],e=u[g],i.A2.eg(e.A2)&&i.nr===e.nr&&i.OG===e.PG?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort(RU):y?n=o.slice(0,d).concat(u):(n=u,m&&this.Gd())}else n=u,this.Gd()}else n=o;else n=u;return n},i.yst=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.Eg(e.git),s=Tm(n,e.git).Eg(r),u=n.pw(s),o=IU.wy(u.hy),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.Eg(a.git).Ag(o))return void(this.lst=t.slice(h));var c=this.QJ.W1(a.F5,a.A2);this.DG(a,c._g())}this.lst=[]}},b(n,[{key:"wk",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).pst=void 0,n.pst=new sF,n}S(n,t);var i=n.prototype;return i.DG=function(t,n){this.pst.E3(t,n)},i.DN=function(){for(var t=this.pst.DN(),n=0;n<t.length;n++){var i=t[n];this.Fr(new Ux(i.$q,i.Mw))}},i.Gd=function(){this.pst.ds()},i.Jf=function(){this.Wr(),this.pst.ds()},n}(Js)),oF=function(t){function n(n,i,e,r,s,u,o,h,a,c){var f;return(f=t.call(this)||this).kst=!1,f.Ast=!1,f.f6=void 0,f.SK=void 0,f.bst=void 0,f.Vnt=void 0,f.Tst=void 0,f.q7=void 0,f.rh=void 0,f.DA=void 0,f.Sst=void 0,f.Est=!1,f.Ist=void 0,f.Rst=void 0,f.Nst=!1,f.Dst=!1,f.Cst=null,f.tR=void 0,f.r$=void 0,f.xst=void 0,f.Ost=null,f.Fw=-1,f.Pst=null,f.Bst=!1,f.Lst=!1,f.Mst=1/0,f.Ust=void 0,f.Fst=null,f.Hst=0,f.Vst=void 0,f.Ur=function(t){f.dispatchEvent(t)},f.zst=function(){!f.Est&&!f.Nst&&f.Wst&&f.kst&&(f.Nst=f.Xst("UZ",f.Ist,function(){f.Nst=!1}))},f.qst=function(){!f.Est&&!f.Dst&&f.Gst&&f.Ast&&(f.Dst=f.Xst("FZ",f.Rst,function(){f.Dst=!1}))},f.Qst=function(t){return f.Yst()},f.jst=function(t){if(t.zp===f.zp){var n=t.F5,i=n.Y3;i.a2&&f.Zst(i.a2,n.info),i._2&&f.Jst(i._2,n.info),f.Yst(f.f6.y6,!0)}},f.Y$=function(t){var n=t;f.$st(n.XJ,n.uJ)},f.Kst=function(t){if(1===t.$q){if(f.Ost)for(var n=0;n<f.Ost.wk;n++){var i="CC"+(n+1);f.SK.A$(i,t.Mw.Uw,t.Mw.Fw)}f.SK.k$(t.Mw)}},f.tR=a,f.SK=i,f.bst=e,f.Vnt=r,f.Tst=s,f.q7=u,f.rh=o,f.f6=c,f.DA=new sU(o),f.Sst=f.tut(i),r.Wd(n,f.DA,f.q7),f.Ist=new QM(u,f.DA),f.Rst=new QM(u,f.DA),f.Ost=f.nut(f.DA),f.Vst=new bU(n,f.DA,f.Sst,r),r.addEventListener("U5",f.jst),f.DA.addEventListener("ts",f.Ur),i.addEventListener("B$",f.Y$),f}S(n,t);var i=n.prototype;return i.Xst=function(t,n,i){var e=this,r=this.q7.k6,s=5*this.q7.a_,u=this.iut(),o="audio"===this.zp?[this.eut]:this.Sst.LZ,h=n.htt(),a=h[0],c=h[1],f=this.Vnt.f8(this.zp,t,this.DA,o,a,c||void 0,r,s,u);return f&&!f.length&&f.J5?(this.q7.rut("UZ"===t,"FZ"===t),!1):!(!f||!f.length)&&(this.Tst.j8(this.zp,this.SK,f,f.K5,f.o8,f.J5,function(t,r){if(i(),t)e.dispatchEvent({type:"ts",ts:t});else{var s=r;n.K7(s).then(function(){return e.dispatchEvent("BK")}).catch(function(t){0})}}),!0)},i.sut=function(){this.Tst.Cr(this.zp),this.Nst=!1,this.Dst=!1},i.uut=function(){var t=this.q7.k6,n=this.Ist.rtt(t)||this.Rst.rtt(t);!n||this.Cst&&this.Cst.wj===n.wj||(this.Yst(this.f6.y6),this.Cst=n,this.dispatchEvent({type:"out",BA:this.Cst.As.j3}))},i.hut=function(){this.aut()},i.cut=function(){this.hut()},i.fut=function(){this.Yst(this.f6.y6)},i.vut=function(t,n){this.Ist.rtt(t)||this.Rst.rtt(t)||(this.Cst=null)},i.dut=function(t){var n=!1;this.Ist.ott().kw(t)||(this.zst(),n=!0),this.Rst.ott().kw(t)||(this.qst(),n=!0),n&&this.Yst(this.f6.y6,!0)},i.lut=function(){this.Ist.ds()},i._ut=function(){this.Rst.ds()},i.iut=function(){return 0===this.Ist.Yd+this.Rst.Yd?0:"G5"===this.rh.Q5?0:1*this.Vnt.m6},i.aut=function(){this.zst(),this.qst()},i.pK=function(t){return-1!==this.Sst.LZ.indexOf(t)},i.wut=function(t){t&&this.pK(t)&&(this.ZJ(t),this.O$(t))},i.ZJ=function(t){this.DA.tnt(t,t.Uj)},i.O$=function(t){var n=this;if(t&&t.Uj&&this.rh.hlsDateRange){this.SK.O$(t.Uj.dateRanges,function(i){return n.DA.vnt(t,i)._g()})}},i.gut=function(t){this.pK(t.uJ)&&this.DA.Rtt(t.uJ,t)},i.yut=function(t){var n,i,e,r=t,s=this.Ist.rtt(r)||this.Rst.rtt(r);if(s)i=s.As.quality,e=s.wj,n=s.eI;else{var u=this.eut;if(!u)return null;var o=this.DA.s8(u,dm.Ay(r));if(!o)return null;i=u,e=o.Zp.wj,n=o.fnt._g()}var h=this.DA.cnt(i,e);if(!h)return null;var a=r-n;return new Date(h.getTime()+1e3*a)},i.vnt=function(t){var n=this.eut;return this.DA.vnt(n,t)._g()},i.Yst=function(t,n){var i=this,e=this.mut(),r=this.q7.k6;t&&(this.Fw=r+t,n&&(this.Fst=null,this.Hst=0)),this.mut()||r>=this.Fw?this.kut(e):this.Pst||this.Bst||!this.sl||(this.Aut(),this.but(function(t){return i.Tut(r,i.q7.a_,t)}))},i.Sut=function(t){t&&this.bst.removeEventListener(t.uri,this.Qst)},i.Eut=function(t){t&&this.bst.addEventListener(t.uri,this.Qst)},i.mut=function(){return-1===this.Fw},n.Iut=function(t){return FO.__(t.uJ.mJ)&&gE()-t.Cp>2e3*t.uJ.Uj.metadata.F9},i.but=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.Pst=new Ps,i=this.Pst,e.prev=3,e.next=6,Sr.awrap(t(i.Pr));case 6:n=e.sent,Ms(i.Pr),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Fs(e.t0);case 13:return e.prev=13,this.Pst===i&&(this.Pst=null),e.finish(13);case 16:n&&this.Yst();case 17:case"end":return e.stop()}},null,this,[[3,10,13,16]],Ve)},i.Aut=function(){this.Pst&&(this.Pst.Cr(),this.Pst=null)},i.Rut=function(t,n){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,Ve)},i.Nut=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!dF.Iut(t)){i.next=2;break}return i.abrupt("return",this.dispatchEvent("Dut"));case 2:if(n=_.min(16e3,1e3*_.pow(2,this.Hst)),this.Hst+=1,this.Aut(),!(this.Hst>2)){i.next=8;break}return t.uJ.hJ(!1),i.abrupt("return",t.uJ.vJ());case 8:this.but(function(t){return Qs(n,t).then(function(){return!0})});case 9:case"end":return i.stop()}},null,this,null,Ve)},i.Zst=function(t,n){var i,e;e=sP((i=t).c2,4),i.p$="0000.0000.0000."+e,function(t){var n=sP(t.f2,4),i=sP(t.v2,3),e=sP(t.d2,2*t.v2);t.gl=(n+i+e).toUpperCase()}(t),YM(n,this.DA,t),this.SK.m$(t,this.DA)},i.Jst=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(Er({},r,{F5:n}))}this.Ost&&this.Ost._st(i,n.n6,n.n4)},i.Cut=function(t){this.Ust&&this.Ust.F5===t&&this.Yst()},i.xut=function(t,n){if(n){if(n.aborted)return;if(this.Fst===t)return this.Nut(t)}else t.uJ.hJ(!0);return this.Yst()},i.Out=function(t){var n=YO(t.uJ.XJ);n&&this.dispatchEvent(new SU(VO(t.uri),t.uJ.bandwidth||0,t.wj,t.uJ.wj,n))},i.Put=function(t,n){var i=this.Ust&&this.Ust.Sf.Q0||200,e=YO(t.uJ.XJ);e&&this.dispatchEvent(new EU(VO(t.uri),t.uJ.bandwidth||0,t.wj,t.uJ.wj,e,i,n&&n.G0.v1||0))},i.kut=function(t){this.Fw=-1,t||this.dispatchEvent("But")},i.Lut=function(t){this.Lst=!0,this.kut(t),this.dispatchEvent("JK")},i.Tut=function(t,n,i){var e,r,s,u,o,h,a=this;return Sr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(Ms(i),e=this.eut,r=this.mut(),this.Sut(e||void 0),!(t>=this.Fw)){c.next=7;break}return this.kut(r),c.abrupt("return",!1);case 7:return c.next=9,Sr.awrap(this.Vst.dit(t,this.Fw,n,e||void 0,this.iut(),this.Ust&&this.Ust.Sf,this.Ust&&this.Ust.F5,this.Mut,this.Uut));case 9:if(s=c.sent,eg.Pl(this.Vnt.n5/8),Ms(i),s.hl!==cU.Fnt){c.next=18;break}return this.Aut(),this.dispatchEvent("Dut"),c.abrupt("return",!1);case 18:if(s.hl!==cU.Unt){c.next=29;break}if(s.uJ!==e){c.next=24;break}return this.Eut(e),c.abrupt("return",!1);case 24:return c.next=26,Sr.awrap(this.Rut(s.uJ,null));case 26:return c.abrupt("return",c.sent);case 27:c.next=33;break;case 29:if(s.hl!==cU.O8){c.next=33;break}return this.Eut(e||void 0),!FO.__(e.mJ)&&e.Uj&&this.Lut(r),c.abrupt("return",!1);case 33:if(u=s.Zp,!this.Ust||this.Ust.F5!==u){c.next=36;break}return c.abrupt("return",!1);case 36:if(u.uJ===e){c.next=40;break}return c.next=39,Sr.awrap(this.Rut(u.uJ,u));case 39:return c.abrupt("return",c.sent);case 40:if(this.Ust&&(this.Ust.Sf.Cr(),this.Ust=void 0),!(s.Uw>this.Mst)){c.next=46;break}return this.Lut(r),c.abrupt("return",!1);case 46:if(!(s.Uw>this.Fw)){c.next=49;break}return this.kut(r),c.abrupt("return",!1);case 49:if(this.Lst=!1,this.Ust=void 0,u!==this.Fst&&(this.Hst=0),this.Fst=u,this.dispatchEvent("ZK"),this.Out(u),!u.P9){c.next=59;break}return c.next=58,Sr.awrap(this.Vnt.L5(this.zp,u.uJ,u.P9));case 58:o=c.sent;case 59:return(h=this.Vnt.M5(this.zp,u,o,function(t,n){a.Aut(),a.Put(u,n),a.Ust=void 0,i&&i.mr||a.xut(u,t)}))&&(this.Ust={F5:u,Sf:h},h.addEventListener("BK",function(){i&&i.mr||a.Cut(u)})),c.abrupt("return",!1);case 62:case"end":return c.stop()}},null,this,null,Ve)},i.Fut=function(t){this.Yst(t||this.f6.y6,!0)},i.Hut=function(){var t=this.mut();this.Fw=-1,this.Ust&&this.Ust.Sf.Cr(),this.Ust=void 0,this.Sut(),this.Lst=!1,this.Fst=null,this.Hst=0,this.Aut(),this.kut(t),this.Ost=this.nut(this.DA)},i.Vut=function(){this.Bst=!0,this.Sut(),this.Aut()},i.zut=function(){this.Bst=!1,this.Yst()},i.Wut=function(){this.Est=!0},i.Xut=function(){this.Est=!1,this.aut()},i.Jf=function(){this.Wr(),this.Hut(),this.sut(),this.Wst=null,this.Gst=null,this.Ist.Jf(),this.Rst.Jf(),this.Tst.Cr(this.zp),this.DA.Jf(),this.SK.removeEventListener("B$",this.Y$),this.Vnt.removeEventListener("U5",this.jst),this.Sst=null,this.qut()},i.Gd=function(){this.Cst=null,this.r$=void 0,this.xst=void 0,this.qut(),this.Ost=this.nut(this.DA)},i.nut=function(t){var n=new uF(t);return n.Hr("Kq",this.Kst),n},i.qut=function(){this.Ost&&(this.Ost.Xr("Kq",this.Kst),this.Ost.Jf(),this.Ost=null)},b(n,[{key:"e_",get:function(){return this.q7.k6}},{key:"Gut",get:function(){return this.kst}},{key:"zp",get:function(){return this.Qut()}},{key:"kJ",get:function(){return this.Yut()}},{key:"Mut",get:function(){return this.jut()}},{key:"Uut",get:function(){return this.Zut()}},{key:"Wst",get:function(){return this.Ist.ett},set:function(t){var n=this.Ist.ett;n&&n.removeEventListener("updateend",this.zst),this.Ist.ett=t,t&&(t.addEventListener("updateend",this.zst),this.zst())}},{key:"Gst",get:function(){return this.Rst.ett},set:function(t){var n=this.Rst.ett;n&&n.removeEventListener("updateend",this.qst),this.Rst.ett=t,t&&(t.addEventListener("updateend",this.qst),this.qst())}},{key:"But",get:function(){return this.mut()}},{key:"JK",get:function(){return this.Lst}},{key:"Jut",get:function(){return this.Mst},set:function(t){this.Mst=t}},{key:"eut",get:function(){return this.$ut()}},{key:"Kut",get:function(){return this.tot()},set:function(t){this.iot(t)}},{key:"sl",get:function(){return this.eot()}},{key:"lw",get:function(){return this.rot()}}]),n}(mO);function hF(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function aF(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){hF(e,n[s])&&(r=!0)}r||n.push(e)}return n}function cF(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var fF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).SK=void 0,o.DA=void 0,o.Vnt=void 0,o.rh=void 0,o.sot=void 0,o.uot=void 0,o.oot=null,o.hot=null,o.aot=null,o.cot=null,o.fot=null,o.vot=null,o.dot=null,o.lot=!1,o.Sw=!0,o.YZ=!0,o._ot=null,o.tR=void 0,o.wot=function(){o._ot&&o._ot.disabled&&o.got(o.rh.initialRendition||"default"),o.yot(!0)},o.mot=function(){var t=o.SK.z$.MZ.some(function(t){return t.lw});o.pot(t)},o.kot=function(t){"variant"===t.zp&&(o.Vnt.removeEventListener("X5",o.kot),o._ot&&(o._ot=null,o.yot(!1)))},o.tR=u,o.SK=n,o.DA=i,o.Vnt=e,o.rh=r,o.sot=r.Aot||[],o.uot=new UM(r,OP.Nn.p0,s),o.oot=null,o.Vnt.addEventListener("X5",o.kot),o.bot(),o.Tot(),o.got(r.initialRendition||"default"),o}S(n,t);var i=n.prototype;return i.Sot=function(t,n){var i=qO(t);if(i&&!i.disabled)return i;var e=this.Eot(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t.wj<=n.wj?t:n});case"high":var r=aF(e);return r[r.length-1];case"low":default:return aF(t)[0]}},i.Iot=function(t,n){var i=this.Rot||this._ot&&[this._ot],e=i&&i.filter(function(n){return Is(t,n)});return e&&e.length>0?aF(e):aF(this.Eot(t,n))},i.Eot=function(t,n){var i=this.rh,e=this.sot,r=this.Not();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].Dot(t,n,r,i))return!1}return!0})},i.Cot=function(t,n){var i=this.Iot(t,n);return i.length?i[i.length-1]:t[0]},i.xot=function(t,n){var i=this.Rot;return i&&i.length>0?i.filter(function(n){return Is(t,n)}):t},i.Oot=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.cot,e=this.fot,!i||t!==this.vot||n!==this.dot){u.next=4;break}return u.abrupt("return",i);case 4:return r=new Ps,s=this.Pot(t,n,r.Pr),i&&e&&e.Cr(),this.cot=s,this.fot=r,this.dot=n,u.prev=10,u.next=13,Sr.awrap(s);case 13:return u.abrupt("return",u.sent);case 14:return u.prev=14,s===this.cot&&(this.cot=null,this.fot=null,this.dot=null),u.finish(14);case 17:case"end":return u.stop()}},null,this,[[10,,14,17]],Ve)},i.Pot=function(t,n,i){var e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return e=this.SK,r=this.DA,s=e.V$,h.next=5,Sr.awrap(this.Bot(t,i));case 5:if(h.sent){h.next=8;break}return h.abrupt("return",!1);case 8:if(!n){h.next=14;break}if(u=r.Cnt(s,n.wj),o=r.s8(t,u),FO.__(s.mJ)||o){h.next=14;break}return t.disabled="isUnsynced",h.abrupt("return",!1);case 14:return h.abrupt("return",!0);case 15:case"end":return h.stop()}},null,this,null,Ve)},i.Bot=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.hot,e=this.aot,!i||t!==this.vot){u.next=4;break}return u.abrupt("return",i);case 4:return(r=new Ps).xr(n),s=this.Lot(t,r.Pr),i&&e&&e.Cr(),this.hot=s,this.aot=r,this.vot=t,u.prev=11,u.next=14,Sr.awrap(s);case 14:return u.abrupt("return",u.sent);case 15:return u.prev=15,s===this.hot&&(this.hot=null,this.aot=null,this.vot=null),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[11,,15,18]],Ve)},i.Lot=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.SK,e=i.V$,!this.sl||e!==t){u.next=4;break}return u.abrupt("return",!1);case 4:if(this.Mot(t)){u.next=8;break}r=t.Uj,u.next=22;break;case 8:return u.prev=8,u.next=11,Sr.awrap(this.uot.Yo(t.uri,{}));case 11:s=u.sent,Ms(n),r=s.m_,u.next=21;break;case 16:return u.prev=16,u.t0=u.catch(8),t.rJ(!1),t.vJ(),u.abrupt("return",!1);case 21:t.tJ(r,e);case 22:if(!cF(r.fragments[0])){u.next=25;break}return t.disabled="isAAC",u.abrupt("return",!1);case 25:return u.abrupt("return",!0);case 26:case"end":return u.stop()}},null,this,[[8,16]],Ve)},i.Mot=function(t){var n=t.Uj;return!n||!!n.live&&(!t.Lj.Yd||t.Lj.pj(t.Lj.Yd-1).Cp+1e3*n.targetDuration<gE())},i.Iw=function(t){t?this.Sw||(this.Sw=!0,this.dispatchEvent("sl")):this.Sw&&(this.Sw=!1)},i.pot=function(t){t&&!this.YZ?(this.YZ=!0,this.dispatchEvent("lw")):!t&&this.YZ&&(this.YZ=!1,this.dispatchEvent("rv"))},i.yot=function(t){var n=this,i=this.SK,e=i.V$,r=i.z$.MZ,s=this.xot(r,e),u=this.Cot(s,e);u?this.Oot(u,null).then(function(e){e&&(i.b$(u,t),n.Iw(!0))}):this.Iw(!1)},i.Uot=function(){this._ot=null,this.yot(!0)},i.Tot=function(){this.SK.z$.addEventListener("OZ",this.mot)},i.Fot=function(){this.SK.z$.removeEventListener("OZ",this.mot)},i.bot=function(){this.SK.z$.addEventListener("CZ",this.wot)},i.Hot=function(){this.SK.z$.removeEventListener("CZ",this.wot)},i.got=function(t){var n=this.SK,i=n.z$.MZ;if(Boolean(n.V$&&!n.V$.disabled))this._ot=null;else{if(i&&i.length){var e;switch(this.tR.Bx.type){case _I.PERFORMANCE:e="low";break;case _I.QUALITY:e="high";break;case _I.BANDWIDTH:e=t}this._ot=this.Sot(i,e),this.lot=!0}var r=this.xot(i,null),s=this.Cot(r,null);s&&(n.V$=s)}},i.Not=function(){return this.lot?{n5:this.Vnt.n5}:{n5:this.tR.qx}},i.Cr=function(){this.cot&&this.fot&&(this.fot.Cr(),this.cot=null,this.fot=null,this.dot=null),this.hot&&this.aot&&(this.aot.Cr(),this.hot=null,this.aot=null,this.vot=null)},i.Jf=function(){this.Vnt.removeEventListener("X5",this.kot),this.Hot(),this.Fot(),this.Cr(),this.oot=null,this._ot=null},i.Vot=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.SK,t){r.next=3;break}return r.abrupt("return",!1);case 3:return r.next=5,Sr.awrap(this.Oot(t,n));case 5:return(e=r.sent)&&(i.V$=t),r.abrupt("return",e);case 8:case"end":return r.stop()}},null,this,null,Ve)},b(n,[{key:"sl",get:function(){return this.Sw}},{key:"lw",get:function(){return this.YZ}},{key:"Uut",get:function(){var t=this.SK,n=t.V$,i=this.xot(t.z$.MZ,n);return this.Iot(i,n)}},{key:"Mut",get:function(){return this.xot(this.SK.z$.MZ,this.SK.V$)}},{key:"Rot",get:function(){return this.oot},set:function(t){this.oot=t,this.Uot()}}]),n}(mO),vF=function(){function t(t,n){this.md=void 0,this.DA=void 0,this.zot=-1,this.md=t,this.DA=n}return t.prototype.Zo=function(t){for(var n=t.Lj,i=n.mj(this.zot),e=i<0?0:i+1;e<n.Yd;e++){var r=n.pj(e);if(r.wj>this.zot){var s=this.DA.F1(r),u=this.DA.H1(r,s),o=new Qy(s._g(),u._g(),[].concat(r.lJ),!1,r.wj.toString());this.md.eb(o),this.zot=r.wj}}},t}(),dF=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,MO.bZ,n,i,e,r,s,u,o,h,a)||this).Wot=void 0,c.Xot=null,c.qot=null,c.Wot=new fF(n,c.DA,e,u,o,h),c.Wot.addEventListener("sl",c.Ur),c.Wot.addEventListener("lw",c.Ur),c.Wot.addEventListener("rv",c.Ur),u.manifestMetadataTrack&&(c.Xot=n.y$("",c.DA,""),c.qot=new vF(c.Xot,c.DA)),c.kst=!c.SK.D$||!c.SK.D$.uri,c.Ast=Boolean(c.SK.V$),c}S(n,t);var i=n.prototype;return i.$st=function(t,n){if("UZ"===t){var i=n?n.uri:void 0;this.kst=!i}},i.Qut=function(){return MO.bZ},i.Yut=function(){return this.eut&&this.eut.kJ||!1},i.$ut=function(){return this.SK.V$},i.jut=function(){return this.Wot.Mut},i.Zut=function(){return this.Wot.Uut},i.tot=function(){var t=this.Wot.Rot;return t&&t.map(function(t){return t.ul})},i.iot=function(t){if(t&&t.length>0){var n=this.Sst.LZ.filter(function(n){return-1!==t.indexOf(n.ul)});if(!(n.length>0))return void 0;this.Wot.Rot=n}else this.Wot.Rot=null},i.eot=function(){return this.Wot.sl},i.rot=function(){return this.Wot.lw},i.Rut=function(n,i){return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr.awrap(this.Wot.Vot(n,i));case 2:return e.abrupt("return",t.prototype.Rut.call(this,n,i));case 3:case"end":return e.stop()}},null,this,null,Ve)},i.Hut=function(){t.prototype.Hut.call(this),this.Wot.Cr()},i.ZJ=function(n){t.prototype.ZJ.call(this,n),this.qot&&this.qot.Zo(n)},i.Jf=function(){t.prototype.Jf.call(this),this.Wot.Jf(),this.Wot.removeEventListener("lw",this.Ur),this.Wot.removeEventListener("rv",this.Ur)},i.tut=function(t){return t.z$},i.Got=function(){var t=this.e_,n=this.Gut?this.Ist.stt(t):void 0,i=n?n.uJ:void 0,e=this.Rst.stt(t),r=e?e.uJ:void 0,s=this.r$;this.r$=i;var u=this.xst;return this.xst=r,!s&&i?{L$:s,Qot:i}:!u&&r?{L$:u,Qot:r}:u&&r&&u.ul!==r.ul?{L$:u,Qot:r}:void 0},n}(oF),lF=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,MO.Vf,n,i,e,r,s,u,o,h,a)||this).kst=!!c.SK.D$&&!!c.SK.D$.uri,c.Ast=!1,c}S(n,t);var i=n.prototype;return i.$st=function(t,n){if("UZ"===t){var i=n?n.uri:void 0;this.kst=!!i}},i.Qut=function(){return MO.Vf},i.Yut=function(){return this.eut&&this.eut.kJ||!1},i.$ut=function(){return this.SK.D$},i.jut=function(){var t=this.$ut();return t?[t]:[]},i.Zut=function(){return this.jut()},i.tut=function(t){return t.FJ},i.tot=function(){return null},i.iot=function(t){},i.eot=function(){return!0},i.rot=function(){return!0},i.Got=function(){var t=this.Gut?this.Ist.stt(this.e_):void 0,n=t?t.uJ:void 0,i=this.r$;return this.r$=n||void 0,!i&&n?{L$:i,Qot:n}:i&&n&&i.ul!==n.ul?{L$:i,Qot:n}:void 0},n}(oF),_F=function(){function t(t,i,e,r,s,u){var o=this;this.Yot=!1,this.Nj=void 0,this.jot=void 0,this._6=void 0,this.Zot=void 0,this.f6=void 0,this.Ps=CT.VI(),this.Jot=[],this.$ot=void 0,this.Kot=[],this.jJ=function(){return o.tht()},this.nht=function(t){t.m_.live||o.jot.removeEventListener(o.Nj.hZ,o.nht),o.Nj.tJ(t.m_)},this.iht=function(){o.Nj.$J.yl===Ww.dl?o.Yot&&o.eht():o.Yot||o.rht()},this.Th=function(t){if(!Ls(t)){var i=t instanceof Zp?t:new Zp(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.Nj.hZ,0,t);o.Nj.$J.kl=Ny.ERROR,o.Nj.$J.Fr(new ak(i))}},this.Nj=t,this.jot=i,this._6=e,this.f6=u,this.Zot=new HP(r,s),this.$ot=new Ps,t.$J.Hr(dw.Dd,this.iht),t.DA&&t.DA.addEventListener("KJ",this.jJ),this.iht()}var i=t.prototype;return i.rht=function(){this.Yot||this.Nj.$J.yl===Ww.dl||(this.jot.removeEventListener(this.Nj.hZ,this.nht),this.jot.addEventListener(this.Nj.hZ,this.nht),this.jot.N7(this.Nj.hZ),this.jot.D7(this.Nj.hZ),this.Yot=!0,this.sht(this.$ot.Pr).catch(this.Th))},i.sht=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Ms(t),n.next=4,Sr.awrap(this.uht(t));case 4:n.next=0;break;case 6:case"end":return n.stop()}},null,this,null,Ve)},i.uht=function(t){var n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,w;return Sr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(n=this._6.k6,i=this.f6.y6,e=new CT([n,n+i]),(r=e.wI(this.Ps.gI())).Yd){g.next=9;break}return g.next=8,Sr.awrap(Qs(1e3,t));case 8:return g.abrupt("return");case 9:if(s=r.eI(0),u=this.oht(s)){g.next=15;break}return g.next=14,Sr.awrap(ow(this.Nj,"sJ",t));case 14:return g.abrupt("return");case 15:return o=u.Zp,h=u.fnt._g(),a=h+o.duration,g.prev=18,g.next=21,Sr.awrap(this.Zot.S1("$J",o.uri,Hc.Bn,yl.Nf,ml.Bn));case 21:c=g.sent,g.next=30;break;case 24:return g.prev=24,g.t0=g.catch(18),Us(g.t0),g.next=29,Sr.awrap(Qs(1e3,t));case 29:return g.abrupt("return");case 30:g.prev=30,f=Hm(c),g.next=37;break;case 34:throw g.prev=34,g.t1=g.catch(30),ok(Dy.WEBVTT,o.uri.toString(),0,g.t1);case 37:for(v=f.qy||{Gy:dm.Bg,Qy:dm.Bg},d=this.Nj.Lj.kj(o.wj),this.Ps=this.Ps.AI(new CT([h,a])),this.Jot.push(o.wj),l=0,_=f.Al;l<_.length;l++)w=_[l],this.Kot.push({F5:d,fnt:wF(dm.Ay(w.Uw),v.Qy,v.Gy),hht:wF(dm.Ay(w.Fw),v.Qy,v.Gy),Mw:w});this.tht();case 43:case"end":return g.stop()}},null,this,[[18,24],[30,34]],Ve)},i.tht=function(){var t=this.Nj.DA;if(this.Kot.length&&t){for(var n=[],i=0,e=this.Kot;i<e.length;i++){var r=e[i],s=t.W1(r.F5,r.fnt);if(s.Ig())n.push(r);else{var u=t.W1(r.F5,r.hht),o=new jy(s._g(),u._g(),r.Mw.Hw,!1,r.Mw.ul);this.Nj.$J.eb(o)}}this.Kot=n,this.Nj.$J.KF(this._6.k6,!0)}},i.oht=function(t){var n=this.Nj.DA,i=this.Nj.Lj;if(n.snt)for(var e=n._nt._g(),r=i.Yd-1;r>=0;r-=1){var s=i.pj(r),u=e-s.duration;if(new CT([u,e]).pE(t,.5)){var o={Zp:s,fnt:dm.Ay(u)};return this.aht(i,o,r)}e=u}else for(var h=0,a=0;a<i.Yd;a+=1){var c=i.pj(a),f=h+c.duration;if(new CT([h,f]).pE(t,.5)){var v={Zp:c,fnt:dm.Ay(h)};return this.aht(i,v,a)}h=f}},i.aht=function(t,n,i){var e=n.Zp;if(-1===this.Jot.indexOf(e.wj))return n;for(var r=n.fnt._g()+e.duration,s=i+1;s<t.Yd;s+=1){var u=t.pj(s);if(-1===this.Jot.indexOf(u.wj))return{Zp:u,fnt:dm.Ay(r)};r+=u.duration}},i.eht=function(){this.Yot=!1,this.jot.R7(this.Nj.hZ),this.$ot.Cr(),this.$ot=new Ps},i.Gd=function(){this.eht(),this.Ps=CT.VI(),this.Jot.length=0,this.Nj.$J.Xr(dw.Dd,this.iht),this.Nj.DA&&this.Nj.DA.removeEventListener("KJ",this.jJ),this.jot.removeEventListener(this.Nj.hZ,this.nht)},t}();function wF(t,n,i){return bm(i,t.Eg(n))}var gF=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).rh=void 0,s.zK=void 0,s.Vnt=void 0,s.Tst=void 0,s.SK=void 0,s.bst=void 0,s.cht=void 0,s.fht=NaN,s.vht=!1,s.dht=1/0,s._ht=1/0,s.wht=null,s.ght=!0,s.yht=!0,s.q7=null,s.JA=void 0,s.tR=void 0,s.mht=void 0,s.pht=void 0,s.kht=[],s.gF=function(){var t=s.SK.r_;y(t)||s.fht===t||(s.fht=t,s.dispatchEvent("durationchange"))},s.Aht=function(){s.PK&&(s.SK.removeEventListener("renditionUpdated",s.Aht),s.dispatchEvent("PK"))},s.bht=function(){s.But&&s.dispatchEvent("But")},s.Tht=function(){s.JK&&s.dispatchEvent("JK")},s.Ur=function(t){s.dispatchEvent(t)},s.Sht=function(t){var n=s.SK.S$(t.S7);n?n instanceof KO&&(n.rJ(!1),n.vJ()):s.dispatchEvent(t)},s.Eht=function(t){s.SK.m_||(t.ts.code===kO.ij?(s.wht||(s.wht=h(s.Iht,Uk)),s.yht=!1,s.oJ()):s.dispatchEvent({type:"ts",ts:t.ts}))},s.Rht=function(t){s.Nht(),s.Dht(t.m_),s.Cht(),s.SK.removeEventListener("R$",s.gF),s.SK.addEventListener("R$",s.gF),s.gF(),s.vht||(s.vht=!0,s.dispatchEvent("loadedmetadata")),s.Aht(),s.yht=!0,s.oJ()},s.Iht=function(){s.Nht();var t=s.$K;t&&(s.bst.Gd(),s.bst.$K=t,s.bst.eI())},s.xht=function(){s.bst.C7()},s.Oht=function(){s.Pht.forEach(function(t){return t.Xut()})},s.Bht=function(t){s.Lht.forEach(function(n){return n.wut(t.uJ)})},s.Mht=function(t){s.Pht.forEach(function(n){return n.gut(t.W4)}),s.cht.F7(t.W4,s.Pht.map(function(t){return t.DA}))},s.oJ=function(){var t=s.ght,n=s.rot();s.ght=n,n&&!t?s.dispatchEvent("lw"):!n&&t&&s.dispatchEvent("rv")},s.tR=r,s.rh=n,s.zK=i,s.JA=e,s.Vnt=new PL(n,i,e,Yt(s)),s.Tst=new yM(n),s.SK=new nP(n),s.bst=new HM(e,n),s.cht=new VM,s.bst.addEventListener("ts",s.Sht),s.bst.addEventListener("T7",s.Eht),s.bst.addEventListener("E7",s.Rht),s.Vnt.addEventListener("U5",s.Ur),s.Vnt.addEventListener("ts",s.Ur),s.SK.addEventListener("B$",s.Ur),s.SK.addEventListener("sJ",s.Bht),s.SK.addEventListener("i$",s.Mht),s.SK.addEventListener("M$",s.Ur),s.cht.addEventListener("P7",s.Ur),s.cht.addEventListener("P7",s.Oht),s.addEventListener("lw",s.xht),s}S(n,t);var i=n.prototype;return i.Uht=function(t){t.Jut=this.Jut,t.addEventListener("out",this.Ur),t.addEventListener("Fht",this.Ur),t.addEventListener("ts",this.Ur),t.addEventListener("Dut",this.Ur),t.addEventListener("ZK",this.Ur),t.addEventListener("But",this.bht),t.addEventListener("JK",this.Tht),t.addEventListener("rv",this.oJ),t.addEventListener("lw",this.oJ),t.addEventListener("sl",this.Ur),t.addEventListener("BK",this.Ur),t.addEventListener(Fc.Ca,this.Ur),t.addEventListener(Fc.Oa,this.Ur)},i.Cht=function(){this.Hht();this.SK.z$.LZ;var t=this.SK.FJ.LZ;this.mht=new dF(this.SK,this.bst,this.Vnt,this.Tst,this.q7,this.rh,this.JA,this.tR,this),this.Uht(this.mht),t.length&&(this.pht=new lF(this.SK,this.bst,this.Vnt,this.Tst,this.q7,this.rh,this.JA,this.tR,this),this.Uht(this.pht));for(var n=this.SK.W$,i=this.mht.DA,e=0;e<n.length;e++){var r=n[e];r.DA=i,this.kht.push(new _F(r,this.bst,this.q7,this.JA,this.rh,this))}},i.Hht=function(){this.mht&&(this.mht.Jf(),this.mht=void 0),this.pht&&(this.pht.Jf(),this.pht=void 0),this.kht.forEach(function(t){return t.Gd()}),this.kht.length=0,this.cht.Gd()},i.Vht=function(t){this.Pht.forEach(function(n){return n.Fut(t)})},i.Dht=function(t){this.SK.m_=t},i.zht=function(){this.bst.eI()},i.Wht=function(t){this.cht.H7(t,this.Pht.map(function(t){return t.DA}))||this.Pht.forEach(function(t){t.sut(),t.Wut()})},i.eht=function(){this.Vnt.B5(),this.Pht.forEach(function(t){return t.Hut()})},i.r0=function(){this.Vnt.B5(),this.Pht.forEach(function(t){return t.Vut()})},i.n0=function(){this.Pht.forEach(function(t){return t.zut()})},i.Jf=function(){this.Wr(),this.Nht(),this.Hht(),this.Vnt.Jf(),this.Tst.Jf(),this.SK.Jf(),this.bst.Gd(),this.cht.Jf()},i.Xht=function(t,n,i,e){var r=this.mht,s=this.pht;t&&(r.Hut(),this.Vnt.ds(r.zp),r.Fut(e)),n&&s&&(s.Hut(),this.Vnt.ds(s.zp),i&&s.Fut(e))},i.qht=function(){if(!this.mht)return qP;var t=this.mht;return vB(t.DA,this.Vnt.N6(t.zp))},i.I7=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.m_.live||e.bst.removeEventListener(s,t),i&&i.tJ(n.m_)};s&&(this.bst.removeEventListener(s,u),this.bst.addEventListener(s,u)),this.bst.I7(r,s),this.bst.D7(s)},i.Nht=function(){null!==this.wht&&a(this.wht),this.wht=null},i.rot=function(){return!!this.yht&&(!this.mht||this.mht.lw)},i.h0=function(t){this.mht&&(this.mht.Kut=t)},i.Gd=function(){this.Lht.forEach(function(t){return t.Gd()}),this.kht.forEach(function(t){return t.Gd()})},b(n,[{key:"Ght",get:function(){return this.mht}},{key:"Qht",get:function(){return this.pht}},{key:"Pht",get:function(){var t=[];return this.mht&&t.push(this.mht),this.pht&&this.pht.Gut&&t.push(this.pht),t}},{key:"Lht",get:function(){return[this.mht,this.pht].filter(F)}},{key:"y6",get:function(){return Bt(this.tR.Ox*this.Vnt.m6,1,this.Yht)}},{key:"$K",get:function(){return this.bst.$K},set:function(t){this.fht=NaN,this.dht=1/0,this.vht=!1,this.ght=!0,this.yht=!0,this.SK.removeEventListener("renditionUpdated",this.Aht),this.SK.removeEventListener("R$",this.gF),this.Nht(),this.Hht(),this.Vnt.ds(),this.Tst.Cr(),this.SK.Jf(),this.SK.addEventListener("renditionUpdated",this.Aht),this.bst.$K=t,this.oJ()}},{key:"r_",get:function(){return this.fht}},{key:"snt",get:function(){return this.SK&&FO.__(this.SK.mJ)}},{key:"lw",get:function(){return this.ght}},{key:"PK",get:function(){var t=this.Pht;return t.length>0&&t.every(function(t){return t.kJ})}},{key:"m6",get:function(){return this.Vnt.m6},set:function(t){t>0&&(this.Vnt.m6=t)}},{key:"But",get:function(){return this.Pht.every(function(t){return t.But})}},{key:"JK",get:function(){return this.Pht.length>0&&this.Pht.every(function(t){return t.JK})}},{key:"Yht",get:function(){return this._ht},set:function(t){this._ht=t}},{key:"Jut",get:function(){return this.dht},set:function(t){var n=this;this.dht=t,this.Lht.forEach(function(t){return t.Jut=n.dht})}},{key:"gw",get:function(){return this.PK?new XP([{eI:this.lnt,sI:this._nt}]):qP}},{key:"lnt",get:function(){if(!this.PK)return 0;for(var t=-1/0,n=0,i=this.Pht;n<i.length;n++){var e=i[n];t=_.max(t,e.DA.lnt._g())}return t}},{key:"_nt",get:function(){if(!this.PK)return 0;for(var t=1/0,n=0,i=this.Pht;n<i.length;n++){var e=i[n];t=_.min(t,e.DA._nt._g())}return t}},{key:"wnt",get:function(){if(!this.PK)return 0;for(var t=1/0,n=0,i=this.Pht;n<i.length;n++){var e=i[n];t=_.min(t,e.DA.wnt._g())}return _.max(t,this.lnt)}},{key:"o0",get:function(){return this.mht&&this.mht.Kut||void 0}}]),n}(mO),yF=function(t){function n(n,i){var e;return(e=t.call(this)||this).rh=void 0,e.fht=NaN,e.vht=!1,e.SK=void 0,e.DA=void 0,e.jht=void 0,e.wht=null,e.ght=!0,e.Xot=null,e.qot=null,e.Ur=function(t){e.dispatchEvent(t)},e.Dht=function(t){if(e.SK.m_||(e.SK.m_=e.jht.H$||null),!e.SK.V$){var n=e.SK.z$.LZ[0];n&&(e.SK.V$=n,e.jht.k7(n),e.dispatchEvent({type:"Zht",uJ:n}))}t.manifest.isMasterPlaylist||e.SK.V$.tJ(t.manifest),void 0!==t.manifest.duration&&e.fht!==t.manifest.duration&&(e.fht=t.manifest.duration,e.dispatchEvent("durationchange")),e.vht||(e.vht=!0,e.dispatchEvent("loadedmetadata")),e.pot(!0),e.dispatchEvent({type:"p7",manifest:t.manifest})},e.Eht=function(t){t.ts.code===kO.ij?(e.wht||(e.wht=h(e.Iht,Uk)),e.pot(!1)):e.dispatchEvent({type:"ts",ts:t.ts})},e.Iht=function(){e.Nht();var t=e.$K;t&&e.jht.eI(t)},e.Nht=function(){a(e.wht),e.wht=null},e.Bht=function(t){var n=t.uJ;e.DA.tnt(n,n.Uj),e.rh.manifestMetadataTrack&&(e.qot||(e.Xot=e.SK.y$("",e.DA,""),e.qot=new vF(e.Xot,e.DA)),e.qot.Zo(n))},e.rh=n,e.SK=new nP(n,!0),e.DA=new uU(n),e.jht=new FM(i,e.rh),e.DA.addEventListener("ts",e.Ur),e.jht.addEventListener("p7",e.Dht),e.jht.addEventListener("ts",function(t){e.SK.m_?(e.wht||(e.wht=h(e.Iht,Uk)),e.pot(!1)):e.Eht(t)}),e.SK.addEventListener("sJ",e.Bht),e}S(n,t);var i=n.prototype;return i.zht=function(){this.SK.m_||this.jht.eI()},i.qht=function(){return qP},i.pot=function(t){var n=this.ght;this.ght=t,t&&!n?this.dispatchEvent("lw"):!t&&n&&this.dispatchEvent("rv")},i.Jf=function(){this.Wr(),this.Nht(),this.SK.Jf(),this.jht.Jf(),this.qot=null,this.DA.Jf()},i.r0=function(){},i.n0=function(){},i.Vht=function(t){},i.h0=function(t){},b(n,[{key:"$K",get:function(){return this.jht.$K},set:function(t){this.fht=NaN,this.vht=!1,this.Nht(),this.SK.Jf(),this.qot=null,this.jht.$K=t,this.pot(!0)}},{key:"r_",get:function(){return this.fht}},{key:"snt",get:function(){return this.SK&&FO.__(this.SK.mJ)}},{key:"lw",get:function(){return this.ght}},{key:"JK",get:function(){return!1}},{key:"But",get:function(){return!1}},{key:"o0",get:function(){return[]}}]),n}(mO),mF=1e3,pF="VEE3",kF=function(t){function n(n){var i;return(i=t.call(this,"Jht")||this).ptsOffset=n,i}return S(n,t),n}(Ks),AF=function(t){function n(n){var i;return(i=t.call(this)||this).q$=void 0,i.$ht=null,i.Kht=0,i.tat="start",i.nat=1,i.iat=!1,i.eat=!1,i.rat=0,i.sat=null,i.uat=null,i.oat=null,i.hat=null,i.B7=0,i.aat=0,i.fat=new Ps,i.vat=new Ao,i.dat=void 0,i.lat={},i._at=!1,i.wat=null,i.gat=NaN,i.uut=function(){i.q$.Pht.map(function(t){t.uut()})},i.Got=function(){for(var t,n,e,r=0,s=i.q$.Lht;r<s.length;r++){var u=s[r],o=u.Got();if(o){var h=o.Qot;h&&h.XJ!==UO.Vf&&(i.wat=h)}u.zp===MO.Vf?t=o:u.zp===MO.bZ&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"B$",yat:t&&t.L$,hK:t&&t.Qot,vK:n&&n.L$,oK:n&&n.Qot,sK:!!e&&e.Gut})},i.hut=function(){null!==i.sat&&a(i.sat),i.sat=h(i.hut,mF),i.q$.Pht.forEach(function(t){return t.hut()})},i.fut=function(){null!==i.uat&&a(i.uat),i.iat&&(i.uat=h(i.fut,mF),i.q$.Pht.forEach(function(t){return t.fut()}))},i.cut=function(){i.q$.Pht.forEach(function(t){return t.cut()})},i.mat=function(){if(i.q$.snt&&i.a_>1){var t=i.q$.wnt;i.pat>t&&(i.a_=1,i.pat>=t+1&&(i.pat="start"))}},i.kat=function(){i.$ht&&(0===i.$ht.Aat()?i.pat="start":i.pat=i.bat(i.k6))},i.Tat=function(){i.rat=i.k6},i.Sat=function(t){i.Eat(),i.$ht.error&&(t.error.info.code===pF&&i.aat<Fk?(i.aat+=1,i.Iat()):i.dispatchEvent({type:"ts",error:t.error}))},i.Rat=function(){i.aat=0},i.Nat=function(){i.removeEventListener("Dat",i.Cat),i.iat?i.Cat():i.addEventListener("Dat",i.Cat)},i.Cat=function(){var t=i.k6;i.q$.removeEventListener("PK",i.Nat),i.q$.PK?i.q$.Pht.forEach(function(n){return n.dut(t)}):(i.q$.addEventListener("PK",i.Nat),i.q$.zht())},i.xat=function(){var t=i.k6;i.q$.Lht.forEach(function(n){return n.vut(t,i.q$.snt)})},i.Oat=function(){null!==i.sat&&a(i.sat),i.sat=null,null!==i.uat&&a(i.uat),i.uat=null},i.Pat=function(){i.Bat(),i.q$.PK?i.KK():(i.q$.addEventListener("PK",i.Pat),i.q$.zht())},i.Bat=function(){i.q$.removeEventListener("PK",i.Pat)},i.j$=function(t){i.q$.I7(t.XJ,t.L$||void 0,t.uJ||void 0),t.M$&&i.Lat(t.XJ,t.L$,t.uJ)},i.Mat=function(t){var n=t.B7-i.B7;_.abs(n)>Mk&&(i.B7=t.B7,i.k6=i.k6+n)},i.Uat=function(t){var n=t.F5.metadata;n.WJ&&(i.lat[t.zp]=n.WJ,i.Fat())},i.Fat=function(){if(i.q$.PK){var t=l.keys(i.lat).length===i.q$.Pht.length;i.$ht&&!i.$ht.Hat&&!i.dat&&t&&i.Vat(),i.$ht&&i.B7&&(i.$ht.B7=i.B7)}},i.zat=function(){if(y(i.Wat))if(i.q$.snt)i.Wat=0;else{var t=i.wat,n=t&&t.pJ,e=t&&F(n)&&!y(n)&&t.Fj(n)||void 0;i.Wat=WO(e)?e.G4._g():NaN}i.LK&&(i.removeEventListener("B$",i.zat),i.q$.removeEventListener("U5",i.zat),i.dispatchEvent("LK",!0))},i.q$=n,n.q7=Yt(i),i}S(n,t);var i=n.prototype;return i.Iat=function(){this.q$.snt?this.pat="start":(this.rat+=.5,this.q$.Pht.map(function(t){t.sut(),t.lut(),t._ut()}),this.pat=this.rat),this.Fat(),this.$ht.play()},i.Xat=function(t){var n=this;this.oat&&(this.q$.removeEventListener("PK",this.oat),this.oat=null),this.q$.PK?(this.eat=!0,this._at=!0,this.q$.Wht(t),this._at=!1):(this.oat=function(){return n.Xat(t)},this.q$.zht())},i.qat=function(t){this.Gat(),this.q$.snt&&(t="none"),"auto"===t&&this.Pat()},i.Qat=function(t){var n=this;this.Gat(),"none"!==t&&(this.q$.PK?this.qat(t):(this.hat=function(){return n.qat(t)},this.q$.addEventListener("PK",this.hat),this.q$.zht()))},i.Gat=function(){this.Bat(),this.hat&&(this.q$.removeEventListener("PK",this.hat),this.hat=null)},i.KK=function(){this.eat?this.q$.Vht():(this.pat=this.tat,this.q$.Vht(22)),this.iat||(this.iat=!0,this.dispatchEvent("Dat"))},i.Yat=function(){this.$ht&&(this.$ht.addEventListener("jat",this.xat),this.$ht.addEventListener("seeking",this.Nat),this.$ht.addEventListener("error",this.Sat),this.$ht.addEventListener("playing",this.Rat)),this.q$.addEventListener("B$",this.j$),this.q$.addEventListener("Dut",this.kat),this.q$.addEventListener("PK",this.Fat),this.q$.addEventListener("P7",this.Mat),this.q$.addEventListener("sl",this.Nat),this.s0()},i.Zat=function(){this.$ht&&(this.$ht.removeEventListener("jat",this.xat),this.$ht.removeEventListener("seeking",this.Nat),this.$ht.removeEventListener("error",this.Sat),this.$ht.removeEventListener("playing",this.Rat)),this.q$.removeEventListener("B$",this.j$),this.q$.removeEventListener("Dut",this.kat),this.q$.removeEventListener("PK",this.Fat),this.q$.removeEventListener("P7",this.Mat),this.q$.removeEventListener("sl",this.Nat),this.u0()},i.s0=function(){this.$ht&&(this.$ht.addEventListener("loadstart",this.Pat),this.$ht.addEventListener("timeupdate",this.uut),this.$ht.addEventListener("playing",this.Got),this.$ht.addEventListener("timeupdate",this.Got),this.$ht.addEventListener("timeupdate",this.fut),this.$ht.addEventListener("timeupdate",this.hut),this.$ht.addEventListener("timeupdate",this.Tat),this.$ht.addEventListener("timeupdate",this.mat),this.$ht.addEventListener("ended",this.Oat)),this.q$.addEventListener("U5",this.Uat),this.q$.addEventListener("U5",this.cut)},i.u0=function(){null!==this.sat&&a(this.sat),null!==this.uat&&a(this.uat),this.$ht&&(this.$ht.removeEventListener("loadstart",this.Pat),this.$ht.removeEventListener("timeupdate",this.uut),this.$ht.removeEventListener("playing",this.Got),this.$ht.removeEventListener("timeupdate",this.Got),this.$ht.removeEventListener("timeupdate",this.fut),this.$ht.removeEventListener("timeupdate",this.hut),this.$ht.removeEventListener("timeupdate",this.Tat),this.$ht.removeEventListener("timeupdate",this.mat),this.$ht.removeEventListener("ended",this.Oat)),this.q$.removeEventListener("U5",this.Uat),this.q$.removeEventListener("U5",this.cut)},i.K7=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.vat.Ss);case 2:return n=this.$ht.K7(t),this.$ht.loading&&(this.$ht.loaded=!0,this.$ht.loading=!1),i.next=6,Sr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,Ve)},i.SU=function(t,n){this.Jat.SU(t,n)},i.rut=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Sr.awrap(this.vat.Ss);case 3:return i.next=5,Sr.awrap(this.$ht.rut(t,n));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),Ls(i.t0)||this.dispatchEvent({type:"ts",error:i.t0});case 10:case"end":return i.stop()}},null,this,[[0,7]],Ve)},i.Vat=function(){var t=this,n=this.vat,i=this.$at(this.dat,this.fat.Pr);this.dat=i,i.then(function(){t.dat===i&&(t.dat=void 0,n.Rs())},function(e){t.dat===i&&(t.dat=void 0,n.Ns(e))})},i.$at=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t){u.next=3;break}return u.next=3,Sr.awrap(t.catch(j));case 3:return Ms(n),u.next=6,Sr.awrap(this.$ht.Vat(this.lat,this.q$.r_,n));case 6:if(i=u.sent){u.next=9;break}return u.abrupt("return");case 9:for(e=0,r=this.q$.Lht;e<r.length;e++)s=r[e],i.UZ&&(s.Wst=i.UZ),i.FZ&&(s.Gst=i.FZ);case 10:case"end":return u.stop()}},null,this,null,Ve)},i.Eat=function(){this.fat.Cr(),this.fat=new Ps,this.dat=void 0,this.vat=new Ao},i.bat=function(t){var n=this.gw;return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},i.yut=function(t){var n=this.q$.Ght;return n?n.yut(t):null},i.vnt=function(t){var n=this.q$.Ght;return n?n.vnt(t):NaN},i.Yo=function(t){var n=t||"none";this.Zat(),this.Yat(),this.Qat(n)},i.e0=function(){this.Gat()},i.Jf=function(){this.Wr(),this.lat={},this.Jat=null},i.Gd=function(){this.Eat(),this.Kat(),this.lat={},this.Kht=0,this.rat=0,this.tat="start",this.B7=0,this.nat=1,this.iat=!1,this.eat=!1,this.wat=null,this.q$.Gd()},i.Lat=function(t,n,i){if(n){this.dispatchEvent("MK"),this.u0();var e=!1,r=!1,s=!1;if("FZ"===t){r=!0;var u=this.q$.Ght;u&&u.Gut&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this.$ht.M$("audio"),r&&this.$ht.M$("video"),this.q$.Lht.forEach(function(t){t.sut(),e&&t.lut(),r&&t._ut()}),this.q$.Xht(r,e,s,22),this.q$.Lht.forEach(function(t){return t.aut()}),this.s0()}},i.L_=function(){this.u0(),this.s0(),this.q$.n0()},i.tct=function(t){var n=this.Wat||0;return this.GJ?t-n<0?0:_.round((t-n)*this.GJ-.5)||0:NaN},i.nct=function(t){var n=this.Wat||0;return this.GJ?n+(t+.5)/this.GJ:NaN},i.Kat=function(){this.Wat=NaN,this.removeEventListener("B$",this.zat),this.addEventListener("B$",this.zat),this.q$.removeEventListener("U5",this.zat),this.q$.addEventListener("U5",this.zat)},b(n,[{key:"Jat",get:function(){return this.$ht},set:function(t){this.Zat(),this.Eat(),this.Rat(),this.$ht=t,this.Fat()}},{key:"k6",get:function(){return this.$ht&&!this._at?this.$ht.Aat():this.Kht},set:function(t){t=this.bat(t),this.rat=this.Kht=t,this.$ht?this.$ht.ict(t):(this.xat(),this.Nat())}},{key:"pat",get:function(){return this.$ht&&!this._at?this.k6:this.tat},set:function(t){"start"===t&&(t=this.q$.snt?1/0:0),t=this.bat(t),this.tat=t,this.rat=this.Kht=t,this.Xat(dm.Ay(this.Kht)),this.k6=t}},{key:"Fw",get:function(){return this.q$.Jut},set:function(t){this.q$.Jut=t}},{key:"a_",get:function(){return this.$ht?this.$ht.a_:this.nat},set:function(t){var n=this.nat;t>0&&(this.nat=t,this.$ht&&(this.$ht.a_=t),this.q$.m6=t,this.nat!==n&&this.dispatchEvent("ect"))}},{key:"gw",get:function(){var t=this.q$.gw;if(!t.length||!this.q$.snt)return t;var n=t.start(0),i=this.q$.wnt;return i=_.max(this.k6,i),new XP([{eI:n,sI:i}])}},{key:"sw",get:function(){return this.yut(this.k6)}},{key:"GJ",get:function(){var t=this.wat;return t&&t.GJ||NaN}},{key:"Wat",get:function(){return this.gat},set:function(t){this.gat!==t&&(this.dispatchEvent(new kF(t)),this.gat=t)}},{key:"LK",get:function(){return Boolean(this.GJ)&&!y(this.Wat)}}]),n}(mO),bF=function(t){function n(n){var i;return(i=t.call(this)||this).rct=null,i.SK=void 0,i.sct=[],i.uct=function(t){return i.hct(t)},i.act=function(){return i.cct()},i.SK=n,i.sct=[],i}S(n,t);var i=n.prototype;return i.nb=function(t){var n,i;"metadata"===t.kind&&(t.mode=Ww.ll,n=this.SK.w$(t.id,t.inBandMetadataTrackDispatchType),i=this.fct.bind(this,n),this.sct.push({vct:t,dct:i,$J:n}),t.addEventListener("cuechange",i))},i.Xx=function(){for(var t=this.rct.P_,n=t&&t.length,i=0;i<n;i+=1)this.nb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.uct),t.addEventListener("change",this.act))},i.fct=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=WD(i[s].value),o=new $D(r,u);t.eb(o)}},i.cct=function(){for(var t=0,n=this.sct;t<n.length;t++){var i=n[t].vct;i.mode!==Ww.ll&&(i.mode=Ww.ll)}},i.hct=function(t){this.nb(t.track)},i.lct=function(){for(var t=this.rct,n=t&&t.P_,i=0,e=this.sct;i<e.length;i++){var r=e[i];r.vct.removeEventListener("cuechange",r.dct)}this.sct.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.uct),n.removeEventListener("change",this.act))},i.Jf=function(){this.lct(),this.rct=null,this.SK=null,this.uct=null,this.act=null},i.Gd=function(){this.lct(),this.rct&&this.Xx()},n}(mO),TF=function(t){function n(n){var i;return(i=t.call(this)||this).q$=void 0,i._ct=void 0,i.$ht=null,i.tat="start",i.nat=1,i.rv=!1,i.wct=null,i.gct=null,i.yct=NaN,i.mct=NaN,i.pct=null,i.kct=function(){i.$ht.removeEventListener("loadstart",i.kct),i.$ht.removeEventListener("play",i.kct),i.q$.zht()},i.uut=function(){var t=i.q$.SK.V$;if(t&&(!i.wct||i.wct.eI>i.k6||i.wct.sI<i.k6)){var n=i.q$.DA.s8(t,dm.Ay(i.k6));if(!n)return void i.$ht.addEventListener("timeupdate",i.uut);i.wct={eI:n.fnt._g(),sI:n.fnt.pw(dm.Ay(n.Zp.duration))._g(),wj:n.Zp.wj,_J:null},i.dispatchEvent({type:"out",BA:n.Zp})}},i.Got=function(){var t=i.q$.SK,n=t.z$.LZ.length?t.z$.LZ:t.FJ.LZ,e=i.$ht.v_,r=i.$ht.f_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.gct&&(i.gct=u,i.dispatchEvent({type:"B$",uJ:u}))},i.Act=function(t){i.dispatchEvent({type:"B$",uJ:t.uJ})},i.bct=function(){if(i.$ht){var t=i.$ht.gw,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.mct&&(i.mct=n,i.yct=gE())}},i.Tct=function(){i.rv=!0},i.Sct=function(){i.rv&&(i.rv=!1,i.Ect())},i.q$=n,i._ct=new bF(n.SK),n.addEventListener("rv",i.Tct),n.addEventListener("lw",i.Sct),i}S(n,t);var i=n.prototype;return i.bat=function(t){var n=this.$ht.gw;return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},i.Ect=function(){if(this.$ht){var t=this.$ht.currentTime,n=this.$ht.paused;this.$ht.load(),this.$ht.currentTime=t,n||this.$ht.play()}},i.Ict=function(){this.$ht&&(this.$ht.addEventListener("loadstart",this.kct),this.$ht.addEventListener("play",this.kct),this.$ht.addEventListener("timeupdate",this.uut),this.$ht.addEventListener("timeupdate",this.Got),f(this.pct),this.pct=c(this.bct,250))},i.Rct=function(){f(this.pct),this.$ht&&(this.$ht.removeEventListener("loadstart",this.kct),this.$ht.removeEventListener("play",this.kct),this.$ht.removeEventListener("timeupdate",this.uut),this.$ht.removeEventListener("timeupdate",this.Got))},i.Yo=function(t){t=t||"none",this.Rct(),this.Ict(),this.q$.removeEventListener("Zht",this.Act),this.q$.addEventListener("Zht",this.Act),"none"!==t&&this.kct()},i.Jf=function(){this.Wr(),this._ct.Jf(),this.Jat=null,this.q$.removeEventListener("Zht",this.Act)},i.Gd=function(){this.tat="start",this.nat=1,this.rv=!1,this.wct=null,this.gct=null,this.yct=NaN,this.mct=NaN,f(this.pct),this._ct.Gd()},i.L_=function(){},i.e0=function(){},i.Lat=function(){},i.vnt=function(t){var n=this.q$.SK.V$;return this.q$.DA.vnt(n,t)._g()},i.yut=function(t){var n,i,e=this.q$.SK.V$,r=this.q$.DA,s=t,u=this.wct;if(u)u._J||(u._J=r.cnt(e,u.wj)),n=u.eI,i=u._J;else{var o=r.s8(e,dm.Ay(s));if(!o)return null;n=o.fnt._g(),i=r.cnt(e,o.Zp.wj)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.tct=function(t){return NaN},i.nct=function(t){return NaN},b(n,[{key:"Nct",get:function(){return null}},{key:"sw",get:function(){return this.yut(this.k6)}},{key:"Jat",get:function(){return this.$ht},set:function(t){this.Rct(),this.$ht=t,this.$ht&&(this._ct.rct=this.$ht,this._ct.Xx())}},{key:"pat",get:function(){return this.$ht?this.$ht.Aat():this.tat},set:function(t){"start"===t&&(t=this.q$.snt?1/0:0),t=this.bat(t),this.tat=t,this.$ht&&this.$ht.ict(t)}},{key:"k6",get:function(){return this.pat},set:function(t){t=this.bat(t),this.pat=t}},{key:"Fw",get:function(){return 1/0},set:function(t){}},{key:"a_",get:function(){return this.$ht?this.$ht.a_:this.nat},set:function(t){t>0&&(this.nat=t,this.$ht&&(this.$ht.a_=t))}},{key:"gw",get:function(){var t,n,i,e=this.$ht?this.$ht.gw:null,r=this.q$.DA.gw;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.mct||e.end(e.length-1))+this.q$.DA.gnt._g(),isFinite(this.yct)&&(i+=(gE()-this.yct)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.q$.DA.wnt._g()}return i=_.min(n,i),i=_.max(this.k6,i),new XP([{eI:t,sI:i}])}},{key:"GJ",get:function(){return NaN}},{key:"Wat",get:function(){return NaN}},{key:"LK",get:function(){return!1}}]),n}(mO),SF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).Dct=new Ps,o.Cct=void 0,o.JA=void 0,o.xct=function(){return o.Oct()},o.nr=Dy.WEBVTT,o.kl=Ny.NONE,o.Tl=Sl(s),o.Hr(dw.Dd,o.xct),o.JA=u,o}S(n,t);var i=n.prototype;return i.Yo=function(){this.Tl&&!this.Cct&&(this.Cct=this.Gv(this.Dct.Pr),this.Cct.catch(Fs))},i.Gv=function(t){var n,i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.Tl,s.prev=1,this.kl=Ny.LOADING,i=new kl({If:n,Xf:wl.GET,Af:Hc.Bn,Pr:t}),s.next=6,Sr.awrap(this.JA.Sf(i));case 6:return e=s.sent,s.next=9,Sr.awrap(e.fi());case 9:r=s.sent,this.u1(e,r),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(1),Us(s.t0),this.HS(uk(s.t0,this.Tl));case 17:case"end":return s.stop()}},null,this,[[1,13]],Ve)},i.e0=function(){this.kl!==Ny.LOADED&&(this.kl=Ny.NONE,this.Dct.Cr(),this.Dct=new Ps,this.Cct=void 0)},i.HS=function(t){this.kl=Ny.ERROR,this.Fr(new qg(t))},i.Jf=function(){this.e0(),this.Dct.Sr(),t.prototype.Jf.call(this)},i.Oct=function(){switch(this.yl){case Ww._l:case Ww.ll:this.Yo();break;case Ww.dl:this.e0()}},i.u1=function(t,n){try{for(var i=Hm(n).Al,e=0;e<i.length;e++){var r=i[e];this.eb(r)}this.kl=Ny.LOADED}catch(n){this.HS(ok(this.nr,this.Tl,t.pf,n))}},n}(YN);function EF(t){return Yp(t.kind)}var IF=function(){function t(t,n,i,e){this.Pct=void 0,this.P_=void 0,this.Bct=void 0,this.JA=void 0,this.Pct=t,this.P_=i,this.Bct=n,this.JA=e,this.Gd()}var n=t.prototype;return n.Lct=function(t){if(this.Mct(),t)if(this.Bct)for(var n=0;n<t.length;n++){var i=t[n];this.vE(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.Uct(r)}},n.vE=function(t){var n=EF(t);if(ek(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.Pct.appendChild(i)}},n.Uct=function(t){var n=EF(t),i=new SF(n,t.id,t.label,t.srclang,t.src,this.JA);t.default&&(i.yl=Ww._l),this.P_.Wd(i)},n.Mct=function(){for(var t=this.P_.Qd,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Fct&&this.P_.Xd(i)}},n.Hct=function(){this.Mct()},n.Gd=function(){this.Mct()},t}(),RF=function(){function t(t){this.HK=void 0,this.HK=t}var n=t.prototype;return n.Hr=function(t,n){this.HK.addEventListener(t,n)},n.Xr=function(t,n){this.HK.removeEventListener(t,n)},b(t,[{key:"e_",get:function(){return this.HK.currentTime}},{key:"h_",get:function(){return this.HK.paused}},{key:"c_",get:function(){return this.HK.seeking}}]),t}(),NF=function(t){function n(n,i){var e;(e=t.call(this)||this).Vct=void 0,e.P_=void 0,e.zct=void 0,e.Wct=void 0,e.$ht=void 0,e.Xct=!0,e.qct=function(t){return e.Gct(t)},e.Qct=function(){return e.Yct()},e.jct=function(){return e.Zct()},e.Jct=function(){return e.$ct()},e.uct=function(t){return e.hct(t.md)},e.Kct=function(t){return e.tft(t.md)},e.nft=function(){return e.ift()},e.Vct=n,e.P_=i,e.Vct.addEventListener("seeking",e.nft),e.Vct.addEventListener("seeked",e.nft),e.zct=new JD(new RF(n));for(var r=0,s=e.P_.Qd;r<s.length;r++){var u=s[r];e.hct(u)}return e.P_.Hr(aw.vd,e.uct),e.P_.Hr(aw.ld,e.Kct),e}S(n,t);var i=n.prototype;return i.Gct=function(t){this.P_.Wd(t.md)},i.Yct=function(){for(var t=this.P_.Qd,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Fct&&this.P_.Xd(i)}},i.Zct=function(){var t=this.Jat,n=[],i=t&&t.P_;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.Nz(r);s=new qD(r,u,this.IH),r.THEOplayerTextTrack=s,this.P_.Wd(s)}n.push(s)}}for(var o=0,h=this.P_.Qd;o<h.length;o++){var a=h[o];GD(a)&&-1===n.indexOf(a)&&this.P_.Xd(a)}},i.Nz=function(t){for(var n=this.Jat.uw.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.$ct=function(){for(var t=0,n=this.P_.Qd;t<n.length;t++){var i=n[t];GD(i)&&i.RH()}},i.ift=function(){this.eft()},i.hct=function(t){t instanceof YN&&this.zct.Wd(t)},i.tft=function(t){t instanceof YN&&this.zct.Xd(t)},i.eft=function(){var t=this.P_.Qd;if(t.length)for(var n=this.Vct.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof YN){for(var s=[],u=0,o=r.Al.Qd;u<o.length;u++){var h=o[u];if(!(h.Fw<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];r.JF(c)}}}},i.Jf=function(){this.Vct.removeEventListener("seeking",this.nft),this.Vct.removeEventListener("seeked",this.nft);for(var t=0,n=this.P_.Qd;t<n.length;t++){var i=n[t];this.tft(i)}this.P_.Xr(aw.vd,this.uct),this.P_.Xr(aw.ld,this.Kct),this.zct.Jf(),this.SK=null,this.Jat=null},b(n,[{key:"SK",get:function(){return this.Wct},set:function(t){var n=this.Wct;if(n){for(var i=0,e=n.P_;i<e.length;i++){var r=e[i];this.P_.Xd(r)}n.removeEventListener("g$",this.qct),n.removeEventListener("Jf",this.Qct)}if(this.Wct=t,t){for(var s=0,u=t.P_;s<u.length;s++){var o=u[s];this.P_.Wd(o)}t.addEventListener("g$",this.qct),t.addEventListener("Jf",this.Qct)}}},{key:"Jat",get:function(){return this.$ht},set:function(t){var n=this.$ht;n&&n.P_&&n.P_.removeEventListener&&(n.P_.removeEventListener("addtrack",this.jct),n.P_.removeEventListener("removetrack",this.jct),n.P_.removeEventListener("change",this.Jct)),this.$ht=t,t&&t.P_&&t.P_.addEventListener&&(t.P_.addEventListener("addtrack",this.jct),t.P_.addEventListener("removetrack",this.jct),t.P_.addEventListener("change",this.Jct)),this.Zct(),this.$ct()}},{key:"IH",get:function(){return this.Xct},set:function(t){if(this.Xct!==t){this.Xct=t;for(var n=0,i=this.P_.Qd;n<i.length;n++){var e=i[n];GD(e)&&(e.IH=t)}}}}]),n}(mO),DF=function(){function t(t,n){this.Yf=void 0,this.fd=void 0,this.rft=[],this.sft=new Vc,this.uft=Rr(),this.oft=new Ps,this.Yf=!(!t||t.crossOrigin!==sg.Wl&&!t.hft),this.fd=n}var n=t.prototype;return n.aft=function(t,n){var e,r,s,u,o,h,a,c,f;return Sr.async(function(d){for(;;)switch(d.prev=d.next){case 0:for(e=i.Ce(t),r=0,s=this.rft;r<s.length;r++)null===(u=s[r]).Qn||void 0===u.Qn?e.searchParams.delete(u.cft):e.searchParams.set(u.cft,u.Qn);return d.prev=2,o=new kl({If:e.href,Af:Hc.Va,kf:this.sft,Yf:this.Yf,Xf:wl.GET,Pr:n,nr:gl.xf,Gf:yl.Hf}),d.next=6,Sr.awrap(this.fd.Sf(o));case 6:return h=d.sent,d.next=9,Sr.awrap(h.fi());case 9:return a=d.sent,c=new m(a),f=new m(16),16!==c.length&&st("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",e.href),c.length>16&&(c=yo(c,0,16)),f.set(c,16-c.length),d.abrupt("return",f);case 19:throw d.prev=19,d.t0=d.catch(2),Us(d.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return d.stop()}},null,this,[[2,19]],Ve)},n.getKey=function(t){var n=t.absoluteURI;if(!n)return Ve.reject(new AO(kO.hj,{code:"CAD1603"}));var i=this.uft.get(n);return i||(i=this.aft(n,this.oft.Pr),this.uft.set(n,i)),i},n.Jf=function(){this.oft.Cr(),this.uft.clear()},n.fft=function(t,n){this.rft.push({cft:t,Qn:n})},n.vft=function(t,n){this.sft.append(t,n)},t}(),CF=function(t){this.Vct=void 0,this.Vct=t},xF=s.createElement("video");var OF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Dot=function(t){return!!function(t){return xF.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(CF);pO.Nn.FB("AvoidUnsupportedCodecsRule",OF);var PF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Dot=function(t,n,i,e){return!("F8"===e.Q5)||t.bandwidth<2e6},n}(CF);pO.Nn.FB("AvoidHighBitrateStreamsRule",PF);var BF=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.dft=function(t){if(!t.resolution)return!0;var n=this.Vct.element.getBoundingClientRect(),e=r.innerWidth||s.documentElement.clientWidth,u=r.innerHeight||s.documentElement.clientHeight,o=_.max(0,_.min(n.right,e)-_.max(0,n.left)),h=_.max(0,_.min(n.bottom,u)-_.max(0,n.top)),a=i.Pe.$i;return t.resolution.width<=o*a&&t.resolution.height<=h*a},e.Dot=function(t){return this.dft(t)},n}(CF);pO.Nn.FB("AvoidVideoResolutionGreaterThanDisplaySizeRule",BF);var LF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Dot=function(t,n,i){if(i.n5<=0)return!1;var e=i&&.8*i.n5;return!(e&&!y(e)&&t.bandwidth)||e>t.bandwidth*this.Vct.playbackRate},n}(CF);pO.Nn.FB("DownloadMetricRule",LF);var MF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Dot=function(t){return!0},n}(CF);pO.Nn.FB("LimitVideoQualityToDisplaySizeRule",MF);var UF=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Dot=function(t,n){return!n||(n.XJ===UO.Nf||t.XJ===UO.Nf||(n.XJ===UO.lZ||t.XJ===UO.lZ||n.XJ===t.XJ))},n}(CF);function FF(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function HF(t,n){var i=n;for(var e in t)W(t[e])?(i[e]=i[e]||{},HF(t[e],i[e])):M.call(i,e)||(i[e]=t[e]);return i}function VF(t,n){var i=HF(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case sg.zl:case sg.Wl:break;default:n=sg.Vl}return t&&t.withCredentials&&(n=sg.Wl),t&&t.vr&&t.vr[360]&&n===sg.Vl&&(n=sg.zl),n}(i),i}function zF(t){G(t)&&t.then(j,j)}pO.Nn.FB("OnlyAllowSameTrackTypeRenditionsRule",UF);var WF,XF=500,qF=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],GF=function(t){function n(n,i){var e;return(e=t.call(this)||this).lft=void 0,e.RS=void 0,e._ft=void 0,e.DS=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.SV=function(){var t=e.RS.nE.error&&e.RS.nE.error.code;t&&e.HS(new AO(kO.sj,{code:"VEE"+t}))},e.wft=function(t){e.dispatchEvent({type:t.type,error:e.RS.nE.error})},e.gft=function(){a(e._ft),e._ft=void 0,e.RS.nE.removeEventListener("timeupdate",e.gft),e.RS.Xr(Eg.i_,e.gft)},e.yft=function(){void 0!==e._ft&&e.gft(),e._ft=h(function(){e.RS.nE.currentTime+=.1,e.gft()},XF),e.RS.nE.addEventListener("timeupdate",e.gft),e.RS.Hr(Eg.i_,e.gft)},e.mft=function(){switch(e.RS.nE.readyState){case ag.Yl:case ag.jl:case ag.Zl:e.yft();break;case ag.Ql:case ag.Gl:}},e.lft=n,e.RS=i,e}S(n,t);var i=n.prototype;return i.setup=function(){this._$(),this.RS.nE.parentNode!==this.lft&&this.lft.appendChild(this.RS.nE),this.loaded=!1,this.RS.nE.preload="metadata",this.RS.nE.addEventListener("play",this.mft),this.RS.nE.addEventListener("loadeddata",this.mft),this.dispatchEvent("pft")},i._$=function(){for(var t=0;t<qF.length;t++){var n=qF[t];this.RS.nE.addEventListener(n,this.wft,!0)}this.RS.nE.addEventListener("error",this.SV,!0),this.RS.Hr(Eg.xd,this.wft),this.RS.Hr(Eg.i_,this.wft)},i.kft=function(){for(var t=0;t<qF.length;t++){var n=qF[t];this.RS.nE.removeEventListener(n,this.wft,!0)}this.RS.nE.removeEventListener("error",this.SV,!0),this.RS.Xr(Eg.xd,this.wft),this.RS.Xr(Eg.i_,this.wft)},i.HS=function(t){this.DS=t,this.dispatchEvent({type:"error",error:t})},i.K7=function(){return Ve.resolve()},i.load=function(){this.RS.nE.load(),this.loaded=!0},i.unload=function(){return this.gft(),this.Wr(),this.kft(),this.RS.nE.removeEventListener("play",this.mft),this.RS.nE.removeEventListener("loadeddata",this.mft),er(this.RS.nE),this.RS.nE},i.play=function(){var t=this.a_;zF(this.RS.nE.play()),this.a_=t},i.pause=function(){this.RS.nE.pause()},i.U_=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.ict(0)}catch(t){}this.dispatchEvent("reset")},i.j_=function(){return this.RS.nE},i.Aat=function(){return this.RS.nE.currentTime},i.ict=function(t){this.RS.nE.currentTime=t},i.canPlayCodecs=function(t){return this.RS.nE.canPlayType('video/mp4; codecs="'+t+'"')},b(n,[{key:"Hat",get:function(){return!0}},{key:"uw",get:function(){return this.RS.nE}},{key:"rw",get:function(){return this.RS.nE.buffered}},{key:"d_",get:function(){return this.RS.nE.volume},set:function(t){this.RS.nE.volume=t}},{key:"duration",get:function(){return this.RS.nE.duration}},{key:"muted",get:function(){return this.RS.nE.muted},set:function(t){this.RS.nE.muted=t}},{key:"paused",get:function(){return this.RS.nE.paused}},{key:"played",get:function(){return this.RS.nE.played}},{key:"poster",get:function(){return this.RS.nE.poster},set:function(t){t?this.RS.nE.poster=t:this.RS.nE.removeAttribute("poster")}},{key:"controls",get:function(){return this.RS.nE.controls},set:function(t){t?this.RS.nE.controls=t:this.RS.nE.removeAttribute("controls")}},{key:"ended",get:function(){return this.RS.nE.ended}},{key:"seeking",get:function(){return this.RS.nE.seeking}},{key:"error",get:function(){return this.RS.nE.error}},{key:"width",get:function(){return this.RS.nE.offsetWidth}},{key:"height",get:function(){return this.RS.nE.offsetHeight}},{key:"src",get:function(){return this.RS.nE.src},set:function(t){this.RS.nE.src=t}},{key:"v_",get:function(){return this.RS.nE.videoWidth}},{key:"f_",get:function(){return this.RS.nE.videoHeight}},{key:"P_",get:function(){return this.RS.nE.textTracks}},{key:"snt",get:function(){return this.RS.nE.duration===1/0}},{key:"gw",get:function(){var t=this.RS.nE.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Aat()||0),new XP([{eI:n,sI:i}])}},{key:"a_",get:function(){return this.RS.nE.playbackRate},set:function(t){t>0&&(this.RS.nE.playbackRate=t)}},{key:"kl",get:function(){return this.RS.kl}},{key:"Aft",get:function(){return void 0!==this.RS.nE.webkitSupportsPresentationMode&&this.RS.nE.webkitSupportsPresentationMode("picture-in-picture")}},{key:"bft",get:function(){return"picture-in-picture"===this.RS.nE.webkitPresentationMode}},{key:"Tft",get:function(){return this.RS.nE.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.RS.nE.webkitSetPresentationMode(t)}}]),n}(mO);!function(t){t[t.Sft=0]="Sft",t[t.Eft=1]="Eft",t[t.BQ=2]="BQ",t[t.Ift=3]="Ift",t[t.Rft=4]="Rft"}(WF||(WF={}));var QF=function(){function t(){this.Nft=!1,this.Dft=null,this.Cft=null,this.xft=null,this.yB=[],this.Oft=null}var n=t.prototype;return n.Pft=function(){if(!this.Nft)return!1;for(var t=this.Dft,n=this.Cft,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Bft=function(t){switch(t.nr){case WF.Sft:return this.Lft(t.fi,t.fnt,t.JD);case WF.Eft:return this.Mft(t.Uft);case WF.BQ:return this.Fft(t.Hft,t.Vft);case WF.Ift:return this.mB();case WF.Rft:return this.zft(t.JD)}},n.Lft=function(t,n,i){var e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=this.Cft,y(n)||(e.timestampOffset=n),e.appendBuffer(t),r.next=6,Sr.awrap(this.Wft());case 6:i(),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),i(r.t0),r.t0;case 13:case"end":return r.stop()}},null,this,[[0,9]],Ve)},n.Mft=function(t){var n,i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=this.Cft,i=n.buffered,!(i.length>0)){u.next=11;break}if(e=i.start(0),r=_.min(i.end(0),t),!((s=r-e)>.5||r<=t&&s>0)){u.next=11;break}return n.remove(e,r),u.next=11,Sr.awrap(this.Wft());case 11:case"end":return u.stop()}},null,this,null,Ve)},n.Fft=function(t,n){var i,e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.Dft,i=this.Cft,e=i.buffered,!((r=e.length)>0)){o.next=12;break}if(s=_.max(e.start(0),t),u=_.min(e.end(r-1),n),!(u-s>0)){o.next=12;break}return i.remove(s,u),o.next=12,Sr.awrap(this.Wft());case 12:case"end":return o.stop()}},null,this,null,Ve)},n.mB=function(){var t,n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.Dft,n=this.Cft,t.open&&"open"===t.readyState){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i=n.updating,n.abort(),!i){e.next=10;break}return e.next=10,Sr.awrap(ow(n,"updateend"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}},null,this,[[4,12]],Ve)},n.zft=function(t){return Ve.resolve(t())},n.Xft=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.dF(t)){n.next=5;break}return n.next=3,Sr.awrap(Qs(100));case 3:n.next=0;break;case 5:case"end":return n.stop()}},null,this,null,Ve)},n.dF=function(t){var n=this.Dft;if(!n.open||"open"!==n.readyState||!this.Pft())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Wft=function(){var t=this;return new Ve(function(n,i){var e,r=t.Cft,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?n():i(new v(e))},c=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",h),r.removeEventListener("updateend",a)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",h),r.addEventListener("updateend",a)})},n.qft=function(){var t=this;this.xft||(0!==this.yB.length||this.Oft)&&this.Pft()&&(this.xft=this.Gft().then(function(){t.xft=null}))},n.Gft=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(!(this.yB.length>0)){n.next=9;break}if(this.Pft()){n.next=4;break}return n.abrupt("return");case 4:return t=this.yB.shift(),n.next=7,Sr.awrap(this.Bft(t));case 7:n.next=1;break;case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=16,Sr.awrap(this.Xft("decode").catch(j));case 16:if(!this.Oft){n.next=26;break}return n.prev=17,n.next=20,Sr.awrap(this.Xft(this.Oft.ts));case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(17);case 25:this.Oft=null;case 26:case"end":return n.stop()}},null,this,[[0,11],[17,22]],Ve)},n.Xx=function(t,n){this.Nft||(this.Nft=!0,this.Dft=t,this.Cft=n,this.qft())},n.pw=function(t,n,i){this.yB.push({nr:WF.Sft,fi:t,fnt:n,JD:i}),this.qft()},n.Qft=function(t,n){this.yB.push({nr:WF.BQ,Hft:t,Vft:n}),this.qft()},n.Yft=function(t){this.yB.push({nr:WF.Eft,Uft:t}),this.qft()},n.Cr=function(){this.yB.push({nr:WF.Ift}),this.qft()},n.jft=function(t){this.yB.push({nr:WF.Rft,JD:t}),this.qft()},n.rut=function(t){this.Oft={ts:t},this.qft()},n.ds=function(){this.yB.length=0,this.Oft=null},t}();var YF=function(t){function n(n){var i;return(i=t.call(this)||this).Dft=void 0,i.Cft=null,i.Zft=new QF,i.Fw=NaN,i.Jft=null,i.Ur=function(t){return i.dispatchEvent(t)},i.$ft=function(){return i.B5()},i.Dft=n,i.Gd(),i}S(n,t);var i=n.prototype;return i.Kft=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.K7=function(t,n,i,e){var r=this;if(!this.Cft||!n)return Ve.resolve();var s=n.initializer.fi,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.Jft,s);if(e&&(L._n||this.Zft.Cr()),e)if(L._n);else{var o=t&&t.eI,h=t&&t.eI+t.r_-.5;this.Zft.Qft(o,h)}return u&&(this.Zft.pw(s,i,this.Kft.bind(this)),this.Jft=s),new Ve(function(t,e){r.Zft.pw(n.m4s.fi,i,function(n){n?e(n):t()})})},i.mU=function(){var t=this;return new Ve(function(n){t.Zft.jft(function(){var i=t.rw;i&&i.length&&(t.Fw=i.end(i.length-1)),n()})})},i.tvt=function(t){if(!this.Cft){try{this.Cft=this.Dft.addSourceBuffer(t),this.Cft.addEventListener("updatestart",this.Ur),this.Cft.addEventListener("updateend",this.Ur)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.Dft.addEventListener("sourceclose",this.$ft),this.Zft.Xx(this.Dft,this.Cft)}return!0},i.Pft=function(){for(var t=0;t<this.Dft.sourceBuffers.length;t++)if(this.Dft.sourceBuffers[t]===this.Cft)return!0;return!1},i.jo=function(t){var n=this,i=this.rw;if(!(this.Cft&&i&&i.length))return t&&t();this.Cft.remove(0,i.end(i.length-1)),t&&this.Cft.addEventListener("updateend",function i(e){n.Cft.removeEventListener("updateend",i),t()})},i.Gd=function(t){this.Jft=null,this.Fw=NaN,this.B5(),this.jo(t)},i.Yft=function(t){this.Cft&&this.Zft.Yft(t)},i.rut=function(t){this.Cft&&this.Zft.rut(t)},i.B5=function(){this.Zft.ds(),"open"===this.Dft.readyState&&this.Cft&&this.Cft.updating&&this.Cft.abort()},b(n,[{key:"rw",get:function(){return this.Cft&&this.Pft()?new XP($P(this.Cft.buffered)):null}},{key:"BC",get:function(){return this.Cft&&this.Cft.updating}},{key:"s_",get:function(){var t=this.rw;return!t||!y(this.Fw)&&ZP(t,this.Fw)}}]),n}(mO),jF="mp4a.40.34";var ZF=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.nvt=!1,i.ER=function(){var t=i.nvt;i.nvt=i.BC,!t&&i.nvt?i.dispatchEvent("updatestart"):t&&!i.nvt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new YF(n),i.videoTrackBuffer=new YF(n),i.audioTrackBuffer.addEventListener("updatestart",i.ER),i.videoTrackBuffer.addEventListener("updatestart",i.ER),i.audioTrackBuffer.addEventListener("updateend",i.ER),i.videoTrackBuffer.addEventListener("updateend",i.ER),i.Gd(),i}S(n,t);var i=n.prototype;return i.K7=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mediasource.open){i.next=2;break}return i.abrupt("return");case 2:return n=[],t.UZ&&n.push(this.audioTrackBuffer.K7(t.metadata.UZ,t.UZ,t.metadata.UZ&&t.metadata.UZ.T2===jF?t.metadata.UZ.eI:NaN,t.metadata.i4)),t.FZ&&n.push(this.videoTrackBuffer.K7(t.metadata.FZ,t.FZ,NaN,t.metadata.i4)),i.next=7,Sr.awrap(Ve.all(n));case 7:this.s_&&(this.audioTrackBuffer.rut(),this.videoTrackBuffer.rut());case 8:case"end":return i.stop()}},null,this,null,Ve)},i.rut=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t&&i.push(this.audioTrackBuffer.mU()),n&&i.push(this.videoTrackBuffer.mU()),e.next=5,Sr.awrap(Ve.all(i));case 5:this.s_&&(this.audioTrackBuffer.rut(),this.videoTrackBuffer.rut());case 6:case"end":return e.stop()}},null,this,null,Ve)},i.Xx=function(t){var n,i={};for(var e in t)if(M.call(t,e)){var r=t[e];if(r.FZ){var s='video/mp4; codecs="'+r.FZ+'"';this.videoTrackBuffer.tvt(s),i.FZ=this.videoTrackBuffer}if(r.UZ){var u=(n=r.UZ)!==jF||Nk?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.tvt(u),i.UZ=this.audioTrackBuffer}0}return i},i.Gd=function(t){var n=!1,i=!1;this.nvt=!1,this.audioTrackBuffer.Gd(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Gd(function(){if(i=!0,n&&t)return t()})},i.Yft=function(t){this.audioTrackBuffer.Yft(t),this.videoTrackBuffer.Yft(t)},i.B5=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.B5(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.B5()},b(n,[{key:"rw",get:function(){var t=this.audioTrackBuffer.rw,n=this.videoTrackBuffer.rw;return t&&n?YP(t,n):t||n||qP}},{key:"aL",get:function(){return this.audioTrackBuffer.rw||qP}},{key:"cL",get:function(){return this.videoTrackBuffer.rw||qP}},{key:"BC",get:function(){return this.audioTrackBuffer.BC||this.videoTrackBuffer.BC}},{key:"s_",get:function(){return this.audioTrackBuffer.s_&&this.videoTrackBuffer.s_}}]),n}(mO),JF=1,$F=.05,KF=.01;function tH(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function nH(t,n,i,e){var r=JP(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-$F)){var u,o;do{if((u=tH(t,n))<0)return;t=(o=n.start(u)+KF)+$F}while(n.end(u)-o<$F);for(var h=o-s,a=YP(new XP([{eI:s,sI:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return e&&r>=0&&(h-=n.end(r)-s),h<JF?o:void 0}}var iH=100,eH=1e-4,rH=500,sH=Pk,uH=L.tn,oH=5,hH=["resize","volumechange"],aH=function(n){function i(t,i){var e;return(e=n.call(this)||this).ivt=void 0,e.RS=void 0,e.evt=!0,e.s_=!1,e.rvt=!1,e.svt=!1,e.uvt=null,e.ts=!1,e.Dft=null,e.Cft=null,e.ovt=null,e.Nft=!1,e.avt=0,e.cvt=CT.VI(),e.nat=1,e.fvt=!1,e.IF=!1,e.c_=!1,e.vvt=new Ps,e.dvt=!1,e.lvt=!1,e._vt=void 0,e.wvt=null,e.gvt=null,e.yvt=ag.Gl,e.mvt=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.pvt=function(){e.mvt=!1,e.kvt(),e.Avt(),e.bvt()},e.Tvt=function(){e.Svt(),e.bvt(),e.Evt()},e.WS=function(){e.Ivt(),e.Svt(),e.xF()?e.dispatchEvent("playing"):e.mvt=!0},e.Rvt=function(){e.mvt=!1,e.kvt(),e.U_()},e.vF=function(){e.Nvt()},e.zS=function(){e.Dvt(),e.Evt()},e.GU=function(){var t=e.yvt,n=e.kl;t!==n&&(e.yvt=n,e.dispatchEvent(new Xg(e.Aat(),n))),e.Evt()},e.Avt=function(){e.avt&&(f(e.avt),e.avt=0,uH&&(e.RS.nE.removeEventListener("timeupdate",e.Pz),e.removeEventListener(Eg.xd,e.Uz)))},e.Cvt=function(){e.avt||(e.avt=c(e.xvt,rH)),uH&&(e.RS.nE.addEventListener("timeupdate",e.Pz),e.addEventListener(Eg.xd,e.Uz),e.Pz()),e.xvt()},e.Ovt=function(){var t=e.Aat(),n=ZP(e.Pvt,t);e.RS.h_||e.c_&&!n||e.Bvt()||e.Cvt()},e.xvt=function(t){if(!(e.wvt||void 0===t&&e.lvt)){var n,i=e.Aat(),r=e.rw;if(void 0===t){if(void 0===(n=nH(i,r,e.Pvt,e.rvt)))return}else{if(!ZP(r,t))return;n=t}var s=function(){e.RS.nE.currentTime=n,e.Lvt(n),e.Avt(),e.lvt=!0};Mt(n,i)?e.wvt=h(function(){e.wvt=null,i=e.Aat(),Mt(n,i)&&(n+=1e3*rH,s())},rH):s()}},e.mW=function(){var t=e.ovt;if(e.Mvt(),e.RS.nE.readyState===ag.Gl)return e.ovt=t,void e.RS.nE.addEventListener("loadedmetadata",e.mW);_.abs(e.RS.nE.currentTime-t)<eH?e.zS():(e.RS.nE.currentTime=t,e.lvt=!1,e.vF()),e.ovt=null,e.wO(e.nat),e.RS.fW(),e.Uvt(t)&&e.U_()},e.Fvt=function(){if(!e.rvt){var t=e.RS.nE,n=e.rw,i=t.currentTime;e.Hvt(n,i)&&(e.rvt=!0,e.Svt(),i=t.currentTime,e.Hvt(n,i)?e.rvt=!0:e.rvt=!1,e.GU()),e.gvt=i}},e.Ivt=function(){e.kvt(),e.uvt=c(e.Fvt,iH)},e.kvt=function(){e.rvt=!1,f(e.uvt)},e.Vvt=function(){e.rvt&&(e.rvt=!1,e.GU())},e.Pz=function(){var t=e.Cft;if(t)if(t.s_)e.Bz();else{var n=t.aL,i=t.cL;if(0!==n.length&&0!==i.length){var r=e.Aat();if(r<n.start(0)||r<i.start(0))e.Bz();else ZP(n,r)!==ZP(i,r)?e.Lz():e.Bz()}else e.Bz()}},e.Uz=function(){if(!(e.c_||e.lvt||e.RS.nE.seeking||e.kl>=ag.jl)){var t=e.Cft;if(t){var n=e.Aat(),i=CT.UI(t.aL),r=CT.UI(t.cL);if(i.pE(n)&&r.pE(n))i.bI(r).RI(n-oH,n)&&(e.RS.nE.currentTime=n,e.lvt=!0)}}},e.zvt=function(){e.Dft.open=!0,e.Dft.removeEventListener("sourceopen",e.zvt),e.Dft.removeEventListener("webkitsourceopen",e.zvt)},e.SV=function(t){var n=e.RS.nE.error&&e.RS.nE.error.code;n&&e.HS(new AO(kO.sj,{code:"VEE"+n}))},e.Ur=function(t){e.dispatchEvent({type:t.type})},e.Wvt=function(){e.Cft&&e.Cft.s_&&e.dispatchEvent("durationchange")},e.Xvt=function(){e.removeEventListener("qvt",e.Xvt),e.dvt=!1,e.Gvt(e.nat)},e.ivt=t,e.RS=i,e}S(i,n);var e=i.prototype;return e.Gvt=function(t){this.IF&&(t=0),this.RS.a_=t,0!==t||sH?this.fvt&&(this.fvt=!1,zF(this.RS.L_())):(this.fvt=!this.RS.h_||this.fvt,this.RS.M_()),this.bvt()},e.wO=function(t){this.nat=t,this.dvt||this.Gvt(t)},e.Qvt=function(t){var n=JP(this.Pvt,t);return-1===n?null:this.Pvt.end(n)},e.Nvt=function(){this.lvt||this.c_||(this.c_=!0,this.dispatchEvent("seeking"))},e.Dvt=function(){this.lvt=!1,this.Yvt(),this.c_&&(this.c_=!1,this.dispatchEvent("seeked")),this.Ovt()},e.Svt=function(){this.lvt||this.Ovt()},e.Yvt=function(){this._vt&&(a(this._vt),this._vt=void 0)},e.Lvt=function(t){var n=this;this._vt=h(function(){n.xvt(t+2)},750)},e.Evt=function(){this.mvt&&this.xF()&&(this.mvt=!1,this.dispatchEvent("playing"))},e.bvt=function(){var t=this.evt,n=this.paused;this.evt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.SU=function(t,n){if(!(t+.001>n)){var i=new CT([t,n]);this.cvt=this.cvt.AI(i).TI(CT.UI(this.rw)),this.cvt.pE(this.Aat())&&this.Ovt()}},e.Uvt=function(t){return t>=this.RS.nE.duration-(this.paused?0:.5)},e.jvt=function(t){return y(this.RS.nE.duration)||(t=_.min(t,this.RS.nE.duration)),_.max(0,t)},e.Mvt=function(){this.ovt=null,this.RS.nE.removeEventListener("loadedmetadata",this.mW)},e.PF=function(){return this.kl<ag.jl},e.xF=function(){return!(this.paused||this.ended||this.error||this.PF())},e.Hvt=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-$F)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.gvt&&this.gvt===n){if(this.Uvt(n))return!1;if(r>n||e-n<1/6)return!0}return!1},e.Lz=function(){this.IF||(this.IF=!0,this.Gvt(0),this.GU())},e.Bz=function(){this.IF&&(this.IF=!1,this.wO(this.nat),this.RS.nE.currentTime=this.RS.nE.currentTime,this.GU())},e.Zvt=function(){var t=this.RS.nE;t.addEventListener("timeupdate",this.Vvt),this.RS.Hr(Fc.Aa,this.pvt),this.RS.Hr(Fc.ba,this.Tvt),this.RS.Hr(Fc.la,this.Rvt),t.addEventListener("seeking",this.vF),t.addEventListener("seeked",this.zS);for(var n=0;n<hH.length;n++){var i=hH[n];t.addEventListener(i,this.Ur)}t.addEventListener("error",this.SV),t.addEventListener("durationchange",this.Wvt),this.RS.Hr(Fc.La,this.Ur),this.RS.Hr(Eg.xd,this.GU),this.RS.Hr(Eg.i_,this.WS)},e.Jvt=function(){var t=this.RS.nE;t.removeEventListener("timeupdate",this.Vvt),this.RS.Xr(Fc.Aa,this.pvt),this.RS.Xr(Fc.ba,this.Tvt),this.RS.Xr(Fc.la,this.Rvt),t.removeEventListener("seeking",this.vF),t.removeEventListener("seeked",this.zS);for(var n=0;n<hH.length;n++){var i=hH[n];t.removeEventListener(i,this.Ur)}t.removeEventListener("error",this.SV),t.removeEventListener("durationchange",this.Wvt),this.RS.Xr(Fc.La,this.Ur),this.RS.Xr(Eg.xd,this.GU),this.RS.Xr(Eg.i_,this.WS)},e.$vt=function(){var n=this.RS.nE,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Kvt(),this.Dft=new i,this.Dft.addEventListener("sourceopen",this.zvt),this.Dft.addEventListener("webkitsourceopen",this.zvt),n.src=iM(this.Dft),n.load()):this.HS(new AO(kO.oj,{code:"MVE2720"})):this.HS(new AO(kO.oj,{code:"MVE2650"}))},e.Kvt=function(){if(this.Nft=!1,this.Cft&&(this.Cft.Gd(),this.Cft=null),this.Dft){this.vvt.Cr();var t=this.RS.nE;t.src&&(eM(t.src),er(t)),this.Dft=null}},e.setup=function(){this.$vt(),this.Zvt(),this.RS.nE.parentNode!==this.ivt&&this.ivt.appendChild(this.RS.nE)},e.HS=function(t){this.ts=t,this.dispatchEvent({type:"error",error:t})},e.Bvt=function(){return this.Cft&&this.Cft.BC},e.tdt=function(t){var n=this.Aat()-_.max(30,3*t.uJ.Uj.targetDuration);this.dispatchEvent("qvt"),this.Cft&&!t.n4&&this.Cft.Yft(n),this.Ovt()},e.K7=function(t){if(!this.Dft.open||"closed"===this.Dft.readyState)return Ve.reject("ndt");if(!this.Cft)return Ve.reject("idt");var n=this.edt(t);return this.svt||(this.svt=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.edt=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.metadata,(i=[]).push(this.Cft.K7(t)),n.n4&&i.push(this.rut(!!t.UZ,!!t.FZ)),t=null,e.next=7,Sr.awrap(Ve.all(i));case 7:this.tdt(n);case 8:case"end":return e.stop()}},null,this,null,Ve)},e.rut=function(t,n){return this.Dft.open&&"closed"!==this.Dft.readyState?this.Cft?this.Cft.rut(t,n):Ve.reject("idt"):Ve.reject("ndt")},e.play=function(){var t=this.RS.a_;this.s_=!1,0!==this.RS.a_||sH?(zF(this.RS.L_()),this.RS.fW(),this.RS.a_=t):this.fvt=!0,this.bvt()},e.pause=function(){0!==this.RS.a_||sH?this.RS.M_():this.fvt=!1,this.bvt()},e.U_=function(){this.s_||(this.s_=!0,this.RS.M_(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return f(this.uvt),this.uvt=null,this.Avt(),this.Mvt(),this.Kvt(),this.Jvt(),this.Wr(),this.RS.nE},e.reset=function(){f(this.uvt),this.uvt=null,this.Avt(),this.Mvt(),this.evt=!0,this.s_=!1,this.rvt=!1,this.svt=!1,this.ts=!1,this.c_=!1,this.mvt=!1,this.Bz(),this.$vt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.j_=function(){return this.RS.nE},e.Aat=function(){return null===this.ovt?this.RS.nE.currentTime:this.ovt},e.ict=function(t){var n=this.Qvt(t);t=this.jvt(t),this.rvt=!1,this.RS.nE.error&&(this.svt=!1,this.ts=!1,this.$vt()),this.s_&&(this.s_=this.Uvt(t)),this.Avt(),null!==n&&(t=n),this.Mvt(),this.ovt=t,this.c_=!0,this.dispatchEvent("jat"),this.dispatchEvent("seeking"),this.mW()},e.rdt=function(t){return this.Dft.open?Ve.resolve(null):ow(this.Dft,"sourceopen",t)},e.sdt=function(t,n,i){Ms(i),n>0&&(this.Dft.duration=n),this.Cft=new ZF(this.Dft);var e=this.Cft.Xx(t);return this.dispatchEvent("pft"),this.Cft.addEventListener("updatestart",this.Avt),this.Cft.addEventListener("updateend",this.Ovt),this.Nft=!0,this.dispatchEvent("Nft"),e},e.Vat=function(t,n,i){var e=this;this.vvt.Cr();var r=new Ps;return r.xr(i),this.vvt=r,this.Cft?Ve.resolve(null):this.rdt(r.Pr).then(function(){return e.sdt(t,n,i)})},e.M$=function(t){L._n&&(this.dvt=!0,this.Gvt(0),this.removeEventListener("qvt",this.Xvt),this.addEventListener("qvt",this.Xvt),this.Cft&&this.Cft.B5(t))},e.canPlayCodecs=function(t){return this.RS.nE.canPlayType('video/mp4; codecs="'+t+'"')},b(i,[{key:"Pvt",get:function(){return this.cvt.kE()}},{key:"kl",get:function(){var t=this.RS.kl;return t>ag.Yl&&(this.rvt||this.IF)?ag.Yl:t}},{key:"uw",get:function(){return this.RS.nE}},{key:"rw",get:function(){return this.Cft?this.Cft.rw:this.RS.nE.buffered}},{key:"aL",get:function(){return this.Cft?this.Cft.aL:qP}},{key:"cL",get:function(){return this.Cft?this.Cft.cL:qP}},{key:"volume",get:function(){return this.RS.nE.volume},set:function(t){this.RS.nE.volume=t}},{key:"duration",get:function(){return this.RS.nE.duration}},{key:"muted",get:function(){return this.RS.nE.muted},set:function(t){this.RS.nE.muted=t}},{key:"paused",get:function(){return this.RS.h_&&!this.fvt}},{key:"played",get:function(){return this.RS.nE.played}},{key:"poster",get:function(){return this.RS.nE.poster},set:function(t){t?this.RS.nE.poster=t:this.RS.nE.removeAttribute("poster")}},{key:"controls",get:function(){return this.RS.nE.controls},set:function(t){t?this.RS.nE.controls=t:this.RS.nE.removeAttribute("controls")}},{key:"ended",get:function(){return this.s_}},{key:"seeking",get:function(){return this.c_}},{key:"error",get:function(){return this.ts||this.RS.nE.error}},{key:"width",get:function(){return this.RS.nE.offsetWidth||this.RS.nE.parentNode.offsetWidth}},{key:"height",get:function(){return this.RS.nE.offsetHeight||this.RS.nE.parentNode.offsetHeight}},{key:"a_",get:function(){return this.nat},set:function(t){var n=this.nat;t>0&&(this.wO(t),this.nat!==n&&this.dispatchEvent("ratechange"))}},{key:"v_",get:function(){return this.RS.nE.videoWidth||0}},{key:"f_",get:function(){return this.RS.nE.videoHeight||0}},{key:"Hat",get:function(){return this.Nft}}]),i}(mO),cH=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","udt","M$",Eg.xd],fH=.04,vH=.25,dH=4,lH=.75,_H=1.5,wH=.25,gH=function(t){function n(){var n;return(n=t.call(this)||this).odt=null,n.hdt=null,n.QI=!1,n.Bu=1,n.jI=1,n.adt=null,n.cdt=void 0,n.wft=function(t){n.dispatchEvent(t)},n.fdt=function(t){n.hdt||n.dispatchEvent(t)},n.vdt=function(t){var i=t.error||n.hdt.error;n.audioStream=null,n.adt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.adt})},n.ddt=function(){n.hdt&&!n.hdt.loaded||n.odt&&!n.odt.loaded||(n.hdt&&(n.hdt.removeEventListener("loaded",n.ddt),n.hdt.play()),n.odt&&(n.odt.removeEventListener("loaded",n.ddt),n.odt.play()))},n.ldt=function(){n._dt(),n.hdt&&n.odt&&(n.hdt.addEventListener("timeupdate",n.wdt),n.odt.addEventListener("timeupdate",n.wdt))},n._dt=function(){a(n.cdt),n.hdt&&n.hdt.removeEventListener("timeupdate",n.wdt),n.odt&&(n.odt.a_=n.jI,n.odt.removeEventListener("timeupdate",n.wdt))},n.gdt=function(){n.kl<ag.jl&&n._dt()},n.wdt=function(){if(a(n.cdt),n.hdt&&n.odt){var t=n.hdt.a_,i=n.hdt.Aat()-n.odt.Aat(),e=_.max(dH,_H*t),r=_.min(vH,lH*t);if(_.abs(i)<fH)n.odt.a_!==t&&(n.odt.a_=t);else{var s=wH,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.odt.a_=u,n.cdt=h(n.wdt,1e3*s)}}else n._dt()},n.addEventListener("playing",n.ldt),n.addEventListener("ended",n._dt),n.addEventListener(Eg.xd,n.gdt),n}S(n,t);var i=n.prototype;return i.x$=function(t,n){n?(t.addEventListener("timeupdate",this.wft),t.addEventListener("error",this.vdt)):(t.addEventListener("timeupdate",this.fdt),t.addEventListener("error",this.wft));for(var i=0;i<cH.length;i++){var e=cH[i];t.addEventListener(e,this.wft)}},i.Gr=function(t){t.removeEventListener("timeupdate",this.wft),t.removeEventListener("timeupdate",this.fdt),t.removeEventListener("timeupdate",this.wdt),t.removeEventListener("error",this.wft),t.removeEventListener("error",this.vdt),t.removeEventListener("loaded",this.ddt);for(var n=0;n<cH.length;n++){var i=cH[n];t.removeEventListener(i,this.wft)}},i.ydt=function(t){this.hdt&&this.hdt.ydt(t),this.odt&&this.odt.ydt(t)},i.play=function(){if(this.hdt&&!this.hdt.loaded||this.odt&&!this.odt.loaded)return this.hdt&&this.hdt.addEventListener("loaded",this.ddt),void(this.odt&&this.odt.addEventListener("loaded",this.ddt));this.ddt()},i.pause=function(){this.hdt&&(this.hdt.removeEventListener("loaded",this.ddt),this.hdt.pause()),this.odt&&(this.odt.removeEventListener("loaded",this.ddt),this.odt.pause()),this._dt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.hdt&&this.hdt.load(),-1!==t.indexOf("video")&&this.odt&&this.odt.load()):(this.hdt&&this.hdt.load(),this.odt&&this.odt.load())},i.Jf=function(t){this.Wr(),this.adt=null,t?(-1!==t.indexOf("audio")&&this.hdt&&(this.hdt.Jf(),this.hdt=null),-1!==t.indexOf("video")&&this.odt&&(this.odt.Jf(),this.odt=null)):(this.hdt&&(this.hdt.Jf(),this.hdt=null),this.odt&&(this.odt.Jf(),this.odt=null))},i.M$=function(t){this.hdt&&this.hdt.pause(),this.odt&&this.odt.pause(),this._dt(),t&&-1===t.indexOf("audio")||!this.hdt||this.hdt.M$(),t&&-1===t.indexOf("video")||!this.odt||this.odt.M$()},i.K7=function(t){this.hdt&&t.UZ&&this.hdt.K7(t),this.odt&&t.FZ&&this.odt.K7(t)},i.mdt=function(t){return this.odt?this.odt.mdt(t):""},i.pdt=function(){return this.odt?this.odt.pdt():0},i.kdt=function(){return this.odt?this.odt.kdt():0},i.j_=function(){return this.odt&&this.odt.j_()},i.Aat=function(){return this.hdt?this.hdt.Aat():this.odt?this.odt.Aat():NaN},i.ict=function(t,n){this.hdt&&this.hdt.ict(t,n),this.odt&&this.odt.ict(t,n)},b(n,[{key:"rw",get:function(){return this.hdt&&this.odt?YP(this.hdt.rw,this.odt.rw):this.hdt?this.hdt.rw:this.odt?this.odt.rw:qP}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.hdt&&(this.hdt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.hdt&&this.hdt.duration||this.odt&&this.odt.duration||NaN}},{key:"muted",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.QI=t,this.hdt&&(this.hdt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.hdt&&!this.odt)&&(!(this.hdt&&!this.hdt.loaded)&&!(this.odt&&!this.odt.loaded))}},{key:"paused",get:function(){return!this.hdt&&!this.odt||(this.hdt&&this.hdt.paused||this.odt&&this.odt.paused||!1)}},{key:"ended",get:function(){return this.hdt&&this.hdt.ended||this.odt&&this.odt.ended||!1}},{key:"seeking",get:function(){return this.hdt&&this.hdt.seeking||this.odt&&this.odt.seeking||!1}},{key:"error",get:function(){return this.hdt&&this.hdt.error||this.odt&&this.odt.error}},{key:"warning",get:function(){return this.adt||this.hdt&&this.hdt.warning||this.odt&&this.odt.warning}},{key:"audioStream",get:function(){return this.hdt},set:function(t){this.hdt&&(this.Gr(this.hdt),this.hdt.Jf()),this.hdt=t,this.hdt&&(this.hdt.volume=this.Bu,this.hdt.muted=this.QI,this.hdt.a_=this.jI,this.x$(this.hdt,!0))}},{key:"videoStream",get:function(){return this.odt},set:function(t){this.odt&&(this.Gr(this.odt),this.odt.Jf()),this.odt=t,this.odt&&(this.odt.a_=this.jI,this.x$(this.odt,!1))}},{key:"a_",get:function(){return this.jI},set:function(t){this.jI!==t&&(t<0||(this.jI=t,this.hdt&&(this.hdt.a_=t),this.odt&&(this.odt.a_=t),this.dispatchEvent("ratechange")))}},{key:"kl",get:function(){return this.hdt&&this.odt?_.min(this.hdt.kl,this.odt.kl):this.hdt?this.hdt.kl:this.odt?this.odt.kl:ag.Gl}},{key:"v_",get:function(){return this.odt?this.odt.v_:0}},{key:"f_",get:function(){return this.odt?this.odt.f_:0}}]),n}(mO),yH=function(){function t(t,n,i,e){var r=this;this.Adt=void 0,this.bdt=void 0,this.r_=void 0,this.JD=void 0,this.Tdt=void 0,this.Sdt=void 0,this.Uw=void 0,this.Sf=0,this.qf=0,this.running=!1,this.Edt=function(t){return r.Zo(t)},this.Adt=t,this.bdt=n,this.r_=i,this.JD=e,this.Tdt=t.cs(),this.Sdt=(n-this.Tdt)/(i||1)}var n=t.prototype;return n.Idt=function(){return this.Adt.ia(this.bdt),this.running=!1,this.Rdt(),this.JD()},n.eI=function(){var t=this;this.running=!0,this.r_?this.Ndt():yO(function(){t.running&&t.Idt()})},n.Zo=function(t){if(this.Rdt(),this.running){void 0===this.Uw&&(this.Uw=t);var n=this.Tdt,i=this.Sdt,e=this.bdt,r=this.Adt,s=n+_.max(0,t-this.Uw)*i;if(n>=e&&s<=e||n<e&&s>=e)return this.Idt();if(r.ia(s))return this.Idt();this.Ndt()}},n.Ndt=function(){this.Sf=FE(this.Edt),this.qf=LE(this.Edt)},n.Rdt=function(){HE(this.Sf),UE(this.qf)},t}();var mH=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ddt=void 0,e.di=void 0,e.Cdt=null,e.xdt=null,e.Odt=NaN,e.Pdt=!1,e.Bdt=!1,e.Ldt=1,e.Mdt=void 0,e.Udt=void 0,e.Fdt=function(t){e.Hdt(t)||e.dispatchEvent(t)},e.Ddt=n,e.di=i,e}S(n,t);var i=n.prototype;return i.pause=function(){this.Ddt.pause()},i.play=function(){zF(this.Ddt.play()),this.Vdt()},i.zdt=function(t){if(!(this.kl<ag.jl))return this.B5(),this.Pdt=!0,this.Fdt({type:"canplay"}),t&&t();this.Mdt=h(this.Udt,100)},i.Yo=function(t){this.Bdt=!0,this.Pdt=!1,this.Ddt.removeEventListener("canplay",this.Udt),this.Udt=this.zdt.bind(this,t),this.Ddt.addEventListener("canplay",this.Udt),this.Ddt.load(),this.Mdt=h(this.Udt,100)},i.B5=function(){this.Bdt=!1,this.Ddt.removeEventListener("canplay",this.Udt),void 0!==this.Mdt&&(a(this.Mdt),this.Mdt=void 0)},i.Wdt=function(t){if(this.pause(),this.B5(),null===t)return this.Cdt=null,void(this.Pdt=!1);this.Pdt=!1,this.xdt&&this.xdt.l8(this.Ddt.src),this.xdt=t[this.di],this.Ddt.src=this.xdt._8,this.Cdt=t},i.j_=function(){return this.Ddt},i.Xdt=function(t){this.Odt=_.max(t||0,0),this.Ddt.currentTime=this.Odt},i.qdt=function(){return this.Ddt.currentTime},i.Gdt=function(t){var n=this.Cdt&&this.Cdt.metadata,i=n&&n.eI,e=n&&n[this.di].eI,r=n&&n[this.di].r_;return!!this.i1&&(!(t<i)&&t<e+_.min(r,this.Ddt.duration))},i.Vdt=function(){this.Ldt!==this.Ddt.playbackRate&&(this.Ddt.playbackRate=this.Ldt,Bk&&this.Ldt>0&&this.kl!==ag.Gl&&(this.Ddt.currentTime=this.Ddt.currentTime))},i.Hdt=function(t){return!!(Bk&&"seeked"===t.type&&_.abs(this.Ddt.currentTime-this.Odt)>.04)},i.addEventListener=function(n,i){this.ZY(n)||this.Ddt.addEventListener(n,this.Fdt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.ZY(n)||this.Ddt.removeEventListener(n,this.Fdt)},i.Wr=function(){for(var n=0,i=this.JY();n<i.length;n++){var e=i[n];this.Ddt.removeEventListener(e,this.Fdt)}t.prototype.Wr.call(this)},i.unload=function(){this.xdt&&this.xdt.l8(this.Ddt.src),this.Wr()},b(n,[{key:"volume",get:function(){return this.Ddt.volume},set:function(t){this.Ddt.volume=t}},{key:"muted",get:function(){return this.Ddt.muted},set:function(t){this.Ddt.muted=t}},{key:"style",get:function(){return this.Ddt.style}},{key:"eI",get:function(){return this.Cdt?this.Cdt.metadata[this.di].eI:NaN}},{key:"sI",get:function(){return this.Cdt?this.eI+this.Cdt.metadata[this.di].r_:NaN}},{key:"Qdt",get:function(){return this.Cdt?this.eI+this.Ydt:NaN},set:function(t){this.Cdt?this.Ydt=t-this.eI:this.Ydt=0}},{key:"Ydt",get:function(){return this.qdt()},set:function(t){this.Xdt(t)}},{key:"jdt",get:function(){return this.Cdt},set:function(t){this.Wdt(t)}},{key:"v8",get:function(){return this.Cdt&&this.Cdt.metadata.n4}},{key:"i1",get:function(){return!(!this.Pdt||!this.Cdt)}},{key:"Zdt",get:function(){return!(!this.Bdt||!this.Cdt)}},{key:"a_",get:function(){return this.Ldt},set:function(t){t>=0&&this.Ldt!==t&&(this.Ldt=t,this.Vdt())}},{key:"h_",get:function(){return this.Ddt.paused}},{key:"s_",get:function(){return this.Ddt.ended}},{key:"ts",get:function(){return this.Ddt.error}},{key:"v_",get:function(){return this.Ddt.videoWidth}},{key:"f_",get:function(){return this.Ddt.videoHeight}},{key:"kl",get:function(){return this.Ddt.readyState}}]),n}(mO);function pH(t,n){return i=t.jdt.metadata.uJ,e=n.jdt.metadata.uJ,i.bandwidth&&e.bandwidth&&ps(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&ps(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||ms(i.wj,e.wj)||ps(t.sI,n.sI);var i,e}function kH(t){return{eI:t.eI,sI:t.sI}}function AH(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.eI<=n&&n<e.sI)return i}return-1}function bH(t,n,i){return{eI:n?i.metadata.n8:i.metadata[t].eI,sI:i.metadata[t].eI+i.metadata[t].r_}}function TH(t,n,i){return new XP([bH(t,n,i)])}function SH(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(bH(t,n,s))}return QP(new XP(e))}function EH(t,n,i){if(!n)return!1;var e=n.metadata[t].eI,r=e+n.metadata[t].r_;return e<=i&&i<=r}function IH(t,n){var i=JP(t,n);return i<0?n:t.end(i)}var RH=function(){function t(t){this.nr=void 0,this.E1=[],this.Jdt=qP,this.$dt=qP,this.nr=t}var n=t.prototype;return n.K7=function(t){var n,i;this.E1=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.jdt===t?r.sI=e:i.push({jdt:t,eI:n,sI:e})},r=0;r<t.length;r++){var s=t[r];if(s.sI<=n.eI)e(s.jdt,s.eI,s.sI);else if(s.eI>=n.sI)n.eI<n.sI&&(e(n.jdt,n.eI,n.sI),n.eI=n.sI),e(s.jdt,s.eI,s.sI);else{var u=void 0,o=void 0;pH(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.eI,a=o.eI,c=_.min(o.sI,s.sI),f=_.min(u.sI,s.sI);h<a&&e(u.jdt,h,a),a<c&&e(o.jdt,a,c),c<f&&e(u.jdt,c,f),n.eI=_.max(n.eI,s.sI)}}return n.eI<n.sI&&e(n.jdt,n.eI,n.sI),i}(this.E1,function(t,n){var i=n.metadata[t].eI;return{jdt:n,eI:i,sI:i+n.metadata[t].r_}}(this.nr,t)),this.Jdt=KP(this.Jdt,TH(this.nr,!1,t)),this.$dt=KP(this.$dt,TH(this.nr,!0,t)),this.$dt=(n=this.$dt,i=this.Jdt,YP(n,jP(i)))},n.Kdt=function(t){t=this.tlt(t);var n=AH(this.E1,t);return n>=0?this.E1[n].jdt:null},n.nlt=function(t,n,i,e){t=this.tlt(t);var r=this.E1,s=AH(r,t);if(s<0)return null;var u=r[s];if(!i||!EH(this.nr,i,t))return e&&EH(this.nr,e,t)?null:u.jdt;if(i!==u.jdt){if(e&&e===u.jdt)return null;if(u.sI-t>n)return u.jdt}for(var o=s+1;o<r.length;o++){var h=r[o];if(e&&e===h.jdt)return null;if(h.sI-t>n)return h.jdt;for(var a=[i],c=o+1;c<r.length;c++)a.push(r[c].jdt);var f=SH(this.nr,!1,a);a.push(h.jdt);var v=SH(this.nr,!1,a);if(IH(f,t)<IH(v,t))return h.jdt}return null},n.ilt=function(t,n){for(var i=this.E1,e=i.length-1;e>=0;e--){var r=i[e];(r.sI<=t||r.eI>=n)&&Es(i,e)}},n.Gd=function(){this.E1.length=0,this.Jdt=qP,this.$dt=qP},n.tlt=function(t){var n=nH(t,this.rw,this.$dt,!1);return void 0===n?t:n},b(t,[{key:"rw",get:function(){var t=this.E1.map(kH);return QP(new XP(t))}}]),t}(),NH=5,DH=30,CH=function(t){function n(n,i){var e,r;(e=t.call(this)||this).elt=void 0,e.di=void 0,e.rlt=void 0,e.slt=void 0,e.ult=void 0,e.Ch={UZ:{olt:100,hlt:100,clt:100},FZ:{olt:500,hlt:100,clt:200}},e.Bu=void 0,e.DS=null,e.adt=null,e.flt=null,e.vlt=void 0,e.dlt=void 0,e.llt=void 0,e._lt=void 0,e.wlt=null,e.glt=void 0,e.ylt=void 0,e.mlt=0,e.plt=null,e.klt=!1,e.QQ=!1,e.Alt=0,e.blt=0,e.Tlt=ag.Gl,e.Yft=function(){var t=e.Aat();e.ult.ilt(t-NH,t+DH)},e.Slt={Elt:(r=Yt(e),{Yo:function(){r.llt.addEventListener("ended",this.Ilt),r._lt.addEventListener("ended",this.Rlt)},Jf:function(){r.llt.removeEventListener("ended",this.Ilt),r._lt.removeEventListener("ended",this.Rlt)},Nlt:function(){},Ilt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.llt})},Rlt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r._lt})}}),ub:{Xn:"ub",Yo:function(){},Jf:function(){},Nlt:function(){}},Dlt:function(){var t=Yt(e),n=function n(){t.llt.removeEventListener("play",n),t.llt.removeEventListener("timeupdate",i),t.llt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.llt.h_||(!t.seeking&&t.llt.jdt?(i=t.llt,(e=t._lt).i1&&xH(i,e)>=0&&t.Clt(t.Slt.xlt)):t.llt.removeEventListener("timeupdate",n))};return{Xn:"Dlt",Yo:function(){t.Slt.Elt.Yo.call(this),this.Olt(),this.Nlt()},Jf:function(){t.Slt.Elt.Jf.call(this),t.llt.removeEventListener("play",n),t.llt.removeEventListener("timeupdate",i)},Nlt:function(){t.llt.jdt?t.Nlt(t._lt,t.Plt):t.Nlt(t.llt,t.Plt)},Ilt:function(){var n=t._lt.jdt;if(n&&n.metadata.i4)return t._lt.Gdt(t.llt.Qdt)&&(t._lt.Qdt=t.llt.Qdt),t.Blt(),void t.llt.play();t.Slt.Elt.Ilt.call(this)},Rlt:function(){0},Olt:function(){t.llt.removeEventListener("play",n),t.llt.h_?t.llt.addEventListener("play",n):n.call(t.llt)}}}(),xlt:function(){var t=Yt(e),n=function(){e.Clt(e.Slt.Llt)};return{Xn:"xlt",Yo:function(){t.Slt.Elt.Yo.call(this),t._lt.addEventListener("seeked",n);var i=xH(t.llt,t._lt),e=t.Ch[t.di].olt/1e3,r=_.min(i+e,t._lt.sI);try{t._lt.Ydt=r}catch(n){t.Clt(t.Slt.Dlt),t.Mlt(n.message)}},Jf:function(){t.Slt.Elt.Jf.call(this),t._lt.removeEventListener("seeked",n)},Nlt:function(){},Ilt:function(){t.Slt.Elt.Ilt.call(this)},Rlt:function(){}}}(),Llt:function(){var t,n=Yt(e),i=function(){s()},r=function(){s()},s=function(){HE(t),e._lt.Qdt-e.llt.Qdt-1/60>0?t=FE(i):e.Clt(e.Slt.Ult)};return{Xn:"Llt",Yo:function(){n.Slt.Elt.Yo.call(this),n.llt.addEventListener("timeupdate",r),s()},Jf:function(){n.Slt.Elt.Jf.call(this),HE(t),n.llt.removeEventListener("timeupdate",r)},Nlt:function(){},Ilt:function(){n.Slt.Elt.Ilt.call(this)},Rlt:function(){n.Slt.Elt.Rlt.call(this)}}}(),Ult:function(){var t,n=Yt(e),i=function(){var t=e.Flt(e._lt),n=e.Ch[e.di].hlt/_.max(1,e.llt.a_);return function(t,n,i,e){return new yH(t,n,i,e)}(t,t.Hlt,n,function(){e.Clt(e.Slt.Vlt),e.Slt.Vlt.zlt()})},r=function(){e.flt.eI(),e.Clt(e.Slt.Vlt)};return{Xn:"Ult",Yo:function(){n.Slt.Elt.Yo.call(this);var e=n.Ch[n.di].clt/_.max(1,n.llt.a_);n.flt=i(),t=h(r,e),n._lt.play()},Jf:function(){n.Slt.Elt.Jf.call(this),a(t),t=0},Nlt:function(){},Ilt:function(){n.Slt.Elt.Ilt.call(this)},Rlt:function(){n.Slt.Elt.Rlt.call(this)}}}(),Vlt:function(){var t=Yt(e);return{Xn:"Vlt",Yo:function(){t.Slt.Elt.Yo.call(this)},Jf:function(){t.Slt.Elt.Jf.call(this),t.flt&&t.flt.Idt()},Nlt:function(){},Ilt:function(){t.Slt.Elt.Ilt.call(this)},Rlt:function(){t.Slt.Elt.Rlt.call(this)},zlt:function(){t.flt=null,t.Blt()}}}()},e.Wlt={Xlt:function(){var t=Yt(e);return{Yo:function(){},Jf:function(){},Nlt:function(){t.glt.Nlt()},ict:function(n,i,e,r){t.mlt=n,t.plt=r,t.Clt(t.Slt.ub);var s=t.llt===t.vlt?i:e,u=t._lt===t.vlt?i:e;s&&t.llt.Gdt(n)?t.qlt(t.Wlt.Glt):u&&t._lt.Gdt(n)?t.qlt(t.Wlt.Qlt):t.qlt(t.Wlt.Ylt)}}}(),Ylt:function(){var t=Yt(e),n=function(){e.Plt(),e._lt.i1?(e._lt.Gdt(e.mlt)||(e.jlt('Could not seek to exact timestamp "'+e.mlt+'", seeking instead to: "'+e._lt.eI+'"'),e.mlt=e._lt.eI),e.qlt(e.Wlt.Qlt)):e.qlt(e.Wlt.Xlt)};return{Yo:function(){t.Zlt(),t.llt.jdt=null,t._lt.jdt=null,t._lt.style.display="none",t.Plt(),this.Nlt()},Jf:function(){t._lt.B5(),t._lt.style.display=""},Nlt:function(){t._lt.jdt||t.Nlt(t._lt,n)},ict:function(n,i,e,r){t.Jlt(),t.ylt.ict(n,i,e,r)}}}(),Glt:function(){var t=Yt(e),n=function(){e.qlt(e.Wlt.Xlt),e.Clt(e.Slt.Dlt),e.SF(),e.plt&&(e.plt.call(t),e.plt=null)};return{Yo:function(){t.llt.addEventListener("seeked",n);try{t.llt.Qdt=t.mlt,t.SF()}catch(n){t.Mlt(n.message)}},Jf:function(){t.llt.removeEventListener("seeked",n)},Nlt:function(){},ict:function(n,i,e,r){t.Jlt(),t.ylt.ict(n,i,e,r)}}}(),Qlt:function(){var t=Yt(e),n=function(){e.qlt(e.Wlt.Xlt),e.Blt(),e.plt&&(e.plt.call(t),e.plt=null)};return{Yo:function(){t._lt.style.display="none",t._lt.addEventListener("seeked",n);try{t._lt.Qdt=t.mlt,t.SF()}catch(n){t.Mlt(n.message)}},Jf:function(){t._lt.style.display="",t._lt.removeEventListener("seeked",n)},Nlt:function(){},ict:function(n,i,e,r){t.Jlt(),t.ylt.ict(n,i,e,r)}}}()},e.Plt=function(){var t=e.QQ;e.QQ=e.vlt.Zdt||e.dlt.Zdt,t&&!e.QQ&&e.dispatchEvent("updateend"),e.$lt(),e.SF(),e.Klt()},e.SF=function(){var t=e.kl;t!==e.Tlt&&(e.Tlt=t,e.dispatchEvent(Eg.xd))},e.elt=n,e.di=i,e.ult=new RH(i),e.Bu="FZ"===i?0:1;var s=function(t){switch(t){case"UZ":return"audio";case"FZ":return"video"}}(i);return e.rlt=OH(s),e.slt=OH(s),n.appendChild(e.rlt),n.appendChild(e.slt),e.vlt=new mH(e.rlt,e.di),e.dlt=new mH(e.slt,e.di),e.llt=e.vlt,e._lt=e.dlt,e.glt=e.Slt.Dlt,e.ylt=e.Wlt.Xlt,e.glt.Yo(),e.ylt.Yo(),e._$(),e.$d(),e}S(n,t);var i=n.prototype;return i.t_t=function(t){return t===this.vlt?this.dlt:this.vlt},i.jlt=function(t){this.adt=t,this.dispatchEvent({type:"warning",warning:this.adt})},i.Mlt=function(t){this.DS=t,this.dispatchEvent({type:"error",error:t})},i.Flt=function(t){var n,i=this,e=this.t_t(t);return n="FZ"===this.di?{cs:function(){if(i.wlt!==t)return 0;var n=g(t.style.opacity);return y(n)?1:n},ia:function(n){n=Bt(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.wlt=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},Hlt:1,n_t:function(){if(n.cs()!==n.Hlt)return n.ia(n.Hlt)}}:{cs:function(){return t.volume},ia:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.Hlt-i}catch(t){r=t}return r},Hlt:this.Bu,n_t:function(){if(n.cs()!==n.Hlt)return n.ia(n.Hlt)}}},i.Nlt=function(t,n){var i=this.ult.nlt(this.Aat(),1,this.llt.jdt,this._lt.jdt);return!!i&&(this.Zlt(),t.jdt=i,t.Yo(n),t.v8&&this.dispatchEvent("durationchange"),!0)},i.i_t=function(){this.Zlt(),this.ult.Gd(),this.vlt.B5(),this.dlt.B5(),this.Plt()},i.j_=function(){return this.llt.j_()},i.Aat=function(){return this.seeking?this.mlt:this.llt.Qdt},i.ict=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.ylt.ict(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Blt=function(){var t=this.llt;this.Clt(this.Slt.ub),this.llt=this._lt,this._lt=t,this.Flt(this.llt).n_t(),this.Zlt(),this._lt.pause(),this._lt.jdt=null,this.Plt(),this.Clt(this.Slt.Dlt)},i._$=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Mlt(new AO(kO.sj,{code:"VEE"+i.error})):t.Mlt(new AO(kO.sj,{code:"VEE"+n.ts.code}));n===t.llt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.vlt),r=i.bind(null,this.dlt),s=0;s<n.length;s++){var u=n[s];this.vlt.addEventListener(u,e),this.dlt.addEventListener(u,r)}this.vlt.addEventListener("error",e),this.dlt.addEventListener("error",r);for(var o=0;o<IN.length;o++){var h=IN[o];this.vlt.addEventListener(h,this.SF),this.dlt.addEventListener(h,this.SF)}},i.$d=function(){this.addEventListener("seeking",this.Yft),this.addEventListener("timeupdate",this.Yft)},i.Clt=function(t){var n;if(this.glt!==t){do{(n=this.glt).Jf()}while(n!==this.glt);this.glt=t,t.Yo()}},i.qlt=function(t){var n;if(this.ylt!==t){do{(n=this.ylt).Jf()}while(n!==this.ylt);this.ylt=t,t.Yo()}},i.Jlt=function(){this.plt=null,this.qlt(this.Wlt.Xlt)},i.load=function(){this.pause(),this.Jlt(),this.llt.jdt=null,this._lt.jdt=null,this.Clt(this.Slt.Dlt)},i.Jf=function(){this.Jlt(),this.Clt(this.Slt.ub),this.i_t(),this.vlt.unload(),this.dlt.unload(),this.elt.removeChild(this.rlt),this.elt.removeChild(this.slt),this.DS=null,this.adt=null},i.M$=function(){var t=this,n=this.Aat();this.i_t(),this.ylt.ict(n,!1,!1,function(){t.dispatchEvent("M$",!0)})},i.play=function(){this.Flt(this.llt).n_t(),this.llt.i1&&this.llt.play()},i.pause=function(){this.vlt.pause(),this.dlt.pause()},i.ydt=function(t){var n=this,i=function(){n.dispatchEvent("udt",!0)};this.pause(),this.llt.s_?this.ylt.ict(t,this._lt===this.vlt,this._lt===this.dlt,i):this._lt.s_?this.ylt.ict(t,!1,!1,i):this._lt.Gdt(t)?this.ylt.ict(t,this._lt===this.vlt,this._lt===this.dlt,i):i()},i.K7=function(t){this.Zlt(),this.ult.K7(t),this.Plt(),this.ylt.Nlt()},i.mdt=function(t){return this.rlt.canPlayType('video/mp4; codecs="'+t+'"')},i.pdt=function(){return _.max(this.rlt.offsetWidth,this.slt.offsetWidth)},i.kdt=function(){return _.max(this.rlt.offsetHeight,this.slt.offsetHeight)},i.$lt=function(){!this.klt&&this.loaded&&(this.klt=!0,this.dispatchEvent("loaded"))},i.Klt=function(){if("FZ"===this.di){var t=this.v_,n=this.f_;t>0&&n>0&&(this.Alt!==t||this.blt!==n)&&(this.Alt=t,this.blt=n,this.dispatchEvent("resize"))}},i.Zlt=function(){var t=this.QQ;this.QQ=!0,t||this.dispatchEvent("updatestart")},b(n,[{key:"rw",get:function(){var t=[];return y(this.vlt.eI)||t.push({eI:this.vlt.eI,sI:this.vlt.sI}),y(this.dlt.eI)||t.push({eI:this.dlt.eI,sI:this.dlt.sI}),KP(QP(new XP(t)),this.ult.rw)}},{key:"duration",get:function(){return this.llt.v8?this.llt.sI:this._lt.v8?this._lt.sI:NaN}},{key:"paused",get:function(){return this.llt.h_}},{key:"ended",get:function(){return this.llt.s_}},{key:"muted",get:function(){return this.llt.muted&&this._lt.muted},set:function(t){this.llt.muted=t,this._lt.muted=t}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu=t,this.flt&&this.flt.Idt(),this._lt.volume=0,this.llt.volume=this.Bu}},{key:"error",get:function(){return this.DS}},{key:"warning",get:function(){return this.adt}},{key:"seeking",get:function(){return this.ylt!==this.Wlt.Xlt}},{key:"loaded",get:function(){return this.llt.i1}},{key:"a_",get:function(){return this.llt.a_},set:function(t){t>=0&&(this.llt.a_=t,this._lt.a_=t)}},{key:"v_",get:function(){return this.llt.v_}},{key:"f_",get:function(){return this.llt.f_}},{key:"BC",get:function(){return this.QQ}},{key:"kl",get:function(){var t;if(this.ylt===this.Wlt.Ylt||this.ylt===this.Wlt.Qlt)t=ag.Ql;else{var n=this.llt.kl;if(n<=ag.Yl)t=n;else{var i=CT.UI(this.rw).fI(),e=this.duration,r=this.Aat();y(e)||(r=_.min(r,e));var s=i.LI(r);if(s){var u=s.sI(0);t=u-r>=3*this.a_||!y(e)&&u>=e?ag.Zl:ag.jl}else t=ag.Yl}}return t===ag.Gl&&this.klt?ag.Ql:t}}]),n}(mO);function xH(t,n){return t.Qdt-n.eI}function OH(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),tr(n),n.controls=!1,n}var PH,BH=function(){function t(t){var n=this;this.HE=void 0,this._w=void 0,this.e_t=void 0,this.r_t=void 0,this.s_t=void 0,this.u_t=function(){(y(n.r_t)||n.s_t)&&(n.r_t=n.eO()),n.e_t=n.r_t,n.s_t=!1},this.o_t=function(){var t=n.eO();n.h_t(t),n.r_t=t},this.a_t=function(){n.HE.kl<=ag.Yl&&n.o_t()},this.c_t=function(){n.h_t(n.r_t),n.s_t=!0},this.f_t=function(){n.r_t=n.eO()},this.HE=t,this._w=CT.VI(),this.e_t=NaN,this.r_t=NaN,this.s_t=!1,t.addEventListener("playing",this.u_t),t.addEventListener("pause",this.o_t),t.addEventListener("seeking",this.c_t),t.addEventListener("timeupdate",this.f_t),t.addEventListener(Eg.xd,this.a_t)}var n=t.prototype;return n.PU=function(){var t=this._w,n=this.e_t;if(!y(n)){var i=this.eO();n<i&&(t=t.AI(new CT([n,i])))}return t.kE()},n.eO=function(){return this.HE.Aat()},n.h_t=function(t){var n=this.e_t;n<t&&(this._w=this._w.AI(new CT([n,t]))),this.e_t=NaN},n.jat=function(){var t=this.eO();this.h_t(t),this.s_t=!0},n.Gd=function(){this._w=CT.VI(),this.e_t=NaN,this.r_t=NaN,this.s_t=!1},n.Sr=function(){var t=this.HE;t.removeEventListener("playing",this.u_t),t.removeEventListener("pause",this.o_t),t.removeEventListener("seeking",this.c_t),t.removeEventListener("timeupdate",this.f_t),t.removeEventListener(Eg.xd,this.a_t),this.HE=null},t}(),LH=function(t){function n(n,i){var e;return(e=t.call(this)||this).v_t=void 0,e.RS=void 0,e.kV=!1,e.bu=NaN,e.d_t=void 0,e.Di=void 0,e.elt=void 0,e.l_t=void 0,e.DS=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e.Tlt=ag.Gl,e.__t=function(){e.l_t.seeking||(e.l_t.removeEventListener("seeked",e.__t),e.dispatchEvent("seeked"),e.w_t.paused?e.Di=e.g_t:e.y_t(),e.SF())},e.m_t=function(){e.l_t.paused||(e.l_t.removeEventListener("playing",e.m_t),e.dispatchEvent("playing"))},e.p_t=function(t){e.Di=e.k_t,e.DS=t,e.dispatchEvent({type:"error",error:e.DS})},e.A_t={paused:!0,play:function(){e.removeEventListener("Nft",e.A_t.b_t),e.kV?(e.Di=e.T_t,e.l_t.removeEventListener("playing",e.m_t),e.l_t.addEventListener("playing",e.m_t),e.l_t.play(),e.dispatchEvent("play")):e.addEventListener("Nft",e.A_t.b_t)},b_t:function(){e.removeEventListener("Nft",e.A_t.b_t),e.Di.play()},stall:function(){},pause:function(){e.A_t.b_t&&e.removeEventListener("Nft",e.A_t.b_t),e.l_t.pause(),e.dispatchEvent("pause"),e.Di=e.g_t},load:function(t){},Aat:function(){return e.kV?e.l_t.Aat():0},ict:function(t,n){var i=ZP(e.rw,t);n=n||!i,e.l_t.removeEventListener("seeked",e.__t),e.l_t.addEventListener("seeked",e.__t),e.w_t.seekTime=t,e.Di=e.w_t,e.dispatchEvent("jat"),e.l_t.ict(t,n),e.dispatchEvent("seeking")},pO:function(){return e.l_t.kl},M$:function(t){e.w_t.seekTime=e.Aat(),e.Di=e.S_t,e.l_t.removeEventListener("M$",e.S_t.E_t),e.l_t.addEventListener("M$",e.S_t.E_t),e.l_t.M$(t),e.SF()},forwardEvent:function(t){"pause"===t.type&&e.l_t.ended||e.dispatchEvent(t)}},e.g_t=Er({},e.A_t,{pause:function(){e.removeEventListener("Nft",e.A_t.b_t)},ict:function(t){e.w_t.paused=!0,e.A_t.ict(t)},M$:function(t){e.w_t.paused=!0,e.A_t.M$(t)}}),e.I_t=Er({},e.g_t),e.R_t=Er({},e.g_t,{load:function(t,n){e.removeEventListener("Nft",e.R_t.N_t),n||e.dispatchEvent("loadstart"),e.kV?e.l_t.load(t):(e.R_t.D_t=t,e.addEventListener("Nft",e.R_t.N_t))},N_t:function(){e.removeEventListener("Nft",e.R_t.N_t),e.Di.load(e.R_t.D_t,!0)},D_t:null,Aat:function(){return e.kV?e.l_t.Aat():e.R_t.C_t},ict:function(t){e.removeEventListener("Nft",e.R_t.x_t),e.kV?(e.Di=e.g_t,e.Di.ict(t)):(e.R_t.C_t=t,e.addEventListener("Nft",e.R_t.x_t),e.dispatchEvent("seeking"))},x_t:function(){e.removeEventListener("Nft",e.R_t.x_t),e.Di.ict(e.R_t.C_t)},C_t:0,M$:function(t){}}),e.T_t=Er({},e.A_t,{ict:function(t){e.w_t.paused=!1,e.A_t.ict(t)},play:function(){},stall:function(){e.Di=e.O_t,e.O_t.P_t=e.l_t.Aat(),e.O_t.paused=!1,e.l_t.addEventListener("udt",e.O_t.B_t),e.l_t.ydt(e.O_t.P_t),e.SF()},M$:function(t){e.w_t.paused=!1,e.A_t.M$(t)}}),e.O_t=Er({},e.T_t,{paused:!1,P_t:0,ict:function(t){e.l_t.removeEventListener("udt",e.O_t.B_t),e.O_t.paused?e.Di=e.g_t:e.Di=e.T_t,e.Di.ict(t),e.SF()},Aat:function(){return e.O_t.P_t},pO:function(){return _.min(e.l_t.kl,ag.Yl)},forwardEvent:function(){},play:function(){e.O_t.paused=!1,e.dispatchEvent("play")},pause:function(){e.O_t.paused=!0,e.dispatchEvent("pause")},stall:function(){},B_t:function(){e.l_t.seeking||(e.l_t.removeEventListener("udt",e.O_t.B_t),e.O_t.paused?e.Di=e.g_t:e.A_t.play(),e.SF())}}),e.w_t=Er({},e.A_t,{paused:!1,seekTime:0,Aat:function(){return e.w_t.seekTime},play:function(){e.w_t.paused=!1},pause:function(){e.w_t.paused=!0,e.l_t.pause(),e.dispatchEvent("pause")}}),e.S_t=Er({},e.w_t,{ict:function(t){e.l_t.removeEventListener("M$",e.S_t.E_t),e.w_t.paused?e.Di=e.g_t:e.Di=e.T_t,e.Di.ict(t)},pO:function(){return _.min(e.l_t.kl,ag.Yl)},forwardEvent:function(){},stall:function(){},E_t:function(){e.l_t.seeking||(e.l_t.removeEventListener("M$",e.S_t.E_t),e.w_t.paused?e.Di=e.g_t:e.A_t.play(),e.SF())}}),e.k_t=Er({},e.A_t,{play:function(){},pause:function(){},load:function(){},Aat:function(){return NaN},pO:function(){return ag.Gl},ict:function(t){e.A_t.ict(t,!0)},M$:function(t){}}),e.Ur=function(t){e.dispatchEvent(t)},e.L_t=function(t){e.Di.forwardEvent(t)},e.M_t=function(t){e.p_t(t.error)},e.U_t=function(t){if(t.origin&&t.origin.v8)return e.U_();e.Di.stall()},e.Wvt=function(){var t=e.l_t.duration;t&&e.bu!==t&&(e.bu=t,e.dispatchEvent("durationchange"))},e.F_t=function(){e.l_t.loaded&&(e.loaded=!0)},e.SF=function(){var t=e.kl;t!==e.Tlt&&(e.Tlt=t,e.dispatchEvent(Eg.xd))},e.v_t=n,e.RS=i,e.d_t=new BH(Yt(e)),e.l_t=new gH,e.Di=e.R_t,e.elt=s.createElement("div"),e.elt.style.position="absolute",e.elt.style.width="100%",e.elt.style.height="100%",e.H_t(),e}S(n,t);var i=n.prototype;return i.y_t=function(){this.A_t.play()},i.H_t=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.l_t.addEventListener(e,this.Ur)}for(var r=0;r<n.length;r++){var s=n[r];this.l_t.addEventListener(s,this.L_t)}this.l_t.addEventListener("ended",this.U_t),this.l_t.addEventListener("error",this.M_t),this.l_t.addEventListener("durationchange",this.Wvt),this.l_t.addEventListener("loaded",this.F_t),this.l_t.addEventListener(Eg.xd,this.SF)},i.setup=function(){this.RS.nE.parentNode===this.v_t?this.v_t.replaceChild(this.elt,this.RS.nE):(this.RS.nE.parentNode&&this.RS.nE.parentNode.removeChild(this.RS.nE),this.v_t.appendChild(this.elt))},i.play=function(){this.Di.play()},i.pause=function(){this.Di.pause()},i.V_t=function(t){this.l_t&&this.l_t.Jf(t),this.kV=!1},i.U_=function(){this.pause(),this.Di=this.I_t,this.DS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Di.load(t)},i.unload=function(){return this.l_t.Jf(),this.d_t.Sr(),this.elt.parentNode===this.v_t?this.v_t.replaceChild(this.RS.nE,this.elt):(this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt),this.v_t.appendChild(this.RS.nE)),this.Wr(),this.RS.nE},i.reset=function(t){this.kV=!1,this.Di=this.R_t,this.DS=void 0,this.bu=NaN,this.Tlt=ag.Gl,this.d_t.Gd(),this.V_t(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.M$=function(t){this.Di.M$(t)},i.K7=function(t){return this.l_t.K7(t),Ve.resolve()},i.j_=function(){return this.l_t.j_()},i.Aat=function(){return this.Di.Aat()},i.ict=function(t){this.d_t.jat(),this.Di.ict(t)},i.rut=function(t,n){return Ve.resolve()},i.canPlayCodecs=function(t){return this.l_t.mdt('video/mp4; codecs="'+t+'"')},i.Vat=function(t,n,i){var e={};for(var r in t)if(M.call(t,r)){var s=t[r];!this.l_t.videoStream&&s.FZ&&(this.l_t.videoStream=new CH(this.elt,"FZ"),e.FZ=this.l_t.videoStream),!this.l_t.audioStream&&s.UZ&&(this.l_t.audioStream=new CH(this.elt,"UZ"),e.UZ=this.l_t.audioStream,this.dispatchEvent("pft"))}return this.kV=!0,this.dispatchEvent("Nft"),Ve.resolve(e)},b(n,[{key:"Hat",get:function(){return this.kV}},{key:"uw",get:function(){return this.elt}},{key:"rw",get:function(){return this.l_t.rw}},{key:"volume",get:function(){return this.l_t.volume},set:function(t){this.l_t.volume=t}},{key:"duration",get:function(){return this.bu}},{key:"muted",get:function(){return this.l_t.muted},set:function(t){this.l_t.muted=t}},{key:"paused",get:function(){return this.Di.paused&&this.l_t.paused}},{key:"played",get:function(){return this.d_t.PU()}},{key:"ended",get:function(){return this.Di===this.I_t}},{key:"seeking",get:function(){return this.Di===this.w_t}},{key:"error",get:function(){return this.DS||this.l_t.error}},{key:"warning",get:function(){return this.l_t.warning}},{key:"width",get:function(){return this.l_t.pdt()}},{key:"height",get:function(){return this.l_t.kdt()}},{key:"a_",get:function(){return this.l_t.a_},set:function(t){this.l_t.a_=t}},{key:"kl",get:function(){return this.Di.pO()}},{key:"v_",get:function(){return this.l_t.v_}},{key:"f_",get:function(){return this.l_t.f_}}]),n}(mO);!function(t){t.lj="unsupported",t.z_t="native",t.W_t="hls-native",t.X_t="hls-mse",t.q_t="hls-switching-video"}(PH||(PH={}));var MH=function(){function t(){this.G_t={},this.Q_t(PH.z_t,GF),this.Q_t(PH.W_t,GF),this.Q_t(PH.X_t,aH),this.Q_t(PH.q_t,LH)}return t.prototype.Q_t=function(t,n){this.G_t[t]=n},t.Q_t=function(n,i){t.z0.Q_t(n,i)},t.Y_t=function(n,i,e){var r=t.z0.G_t[n];return r?new r(i,e):void 0},t}();MH.z0=new MH;var UH=function(t){function n(n){var i;return(i=t.call(this)||this).j_t=void 0,i.Z_t=function(t){i.Fr(t)},i.j_t=n,i.J_t(),i}S(n,t);var i=n.prototype;return i.J_t=function(){this.j_t.Hr("ZD",this.Z_t)},i.$_t=function(){this.j_t.Xr("ZD",this.Z_t)},i.Jf=function(){this.$_t()},b(n,[{key:"iC",get:function(){return this.j_t.iC}},{key:"eC",get:function(){return this.j_t.eC}},{key:"K_t",set:function(t){var n=this.j_t;n.iC===t.iC&&n.eC===t.eC||(this.$_t(),this.j_t=t,this.J_t(),this.Fr(new CE(t.eC,t.iC)))}}]),n}(Js);function FH(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function HH(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function VH(t,n){var i=t.type;return i?Tk?HH(i)?!Ck||n.useSwitchOverMSE||L._n&&n.vr&&n.vr[360]?!Ik||L.an||L.dn&&L.zt?Rk?PH.q_t:PH.lj:PH.W_t:PH.X_t:PH.z_t:PH.lj:PH.z_t}var zH=function(t,n,i,e,r){var s,u,o,c,f,d,w=this,m=null,p=null,k=null,A=!0,b=null,T=null,S=!1,E=null,I=null,R=null,N=PT,D=PT,C=!0,x=null,O={g2:0,bdt:0},P=null,B=null,M=null,U=1,F=!1,H="none",z=!0,W=!0,X=!1,q=null,G=!0,Q=!1,Y=ag.Gl,j=!1,Z=!1,J=NaN,$=null,K=null,tt=L.jt&&Ek,nt=!1,it="",et=PH.lj,rt=null,st=function(){var t=new AO(kO.lj,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});w.dispatchEvent({type:"unsupportedPlatform"}),Yt(t)},ut=function(){var t,e;return(t=i.audioOnly?(e=n.tE(_y.Vf)).nE:(e=n.tE(_y.zf)).nE).preload="none",tr(t),e},ot=function(t){return t===I?R:I},ht=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&S?"":"none"},at=function(t){wt(t.q$),_t(t.G$),u&&(u.q$=o),mt()},ct=function(t,n){yt(t.q$,n),gt(t.G$),u&&(u.q$=o)},ft=function(){Vt(),It(),w.dispatchEvent("timeupdate"),w.dispatchEvent("ended")},vt=function(){var t=function(t){if("error"===t.type)return Yt(t.error);w.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)p.addEventListener(t[i],n,!0)};switch(p.addEventListener("pft",function(){p.volume=U,p.muted=F}),p.addEventListener("loadedmetadata",function(t){et===PH.z_t&&(Q=!0,w.dispatchEvent(t))}),p.addEventListener("durationchange",function(){var t=p.duration;t&&t!==1/0&&J!==t&&(J=t,w.dispatchEvent("durationchange"))}),p.addEventListener("seeking",Ht),p.addEventListener("seeked",Vt),p.addEventListener("ended",ft),p.addEventListener(Eg.xd,Kt),p.setup(),d.Jat=p,n(["timeupdate","playing","ratechange","resize"],t),et){case PH.z_t:case PH.W_t:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case PH.X_t:n(["play","pause"],Tt)}p.addEventListener("warning",function(t){w.warning=t.warning,w.dispatchEvent(t)}),w.dispatchEvent("volumechange")},dt=function(t){m&&m.Hct(),p&&(m=new IF(t,tt,f,e))},lt=function(t){var n=Dt(t.sources),e=t.textTracks||[],r=VF(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.hft=!0),{sources:[n],textTracks:e,configuration:r}},_t=function(t){gt(t)},wt=function(t){o&&(o.Jf(),o=null,w.initialized=!1),(o=t)&&(w.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener("durationchange",function(){J=o.r_,w.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("rv",pt),o.addEventListener("lw",pt),o.SK.addEventListener("renditionUpdated",function(){Xt()}),d.SK=o.SK)},gt=function(t){var n;c&&(c.Jf(),c=null),p&&(c=t)&&(n=c.pat,c.addEventListener("B$",function(t){var n=w.videoWidth,i=w.videoHeight;$=t.uJ,w.dispatchEvent(t),Lk&&n===w.videoWidth&&i===w.videoHeight||w.dispatchEvent("resize")}),c.addEventListener("ts",function(t){Yt(t.error)}),c.addEventListener("Jht",function(t){w.dispatchEvent(t)}),c.Jat=p,y(n)||Ft(n))},yt=function(t,n){o&&(o.Jf(),o=null,w.initialized=!1),(o=t)&&(w.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener(Fc.Ca,function(t){w.dispatchEvent(t)}),o.addEventListener(Fc.Oa,function(t){w.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.r_,w.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("rv",pt),o.addEventListener("lw",pt),o.addEventListener("BK",function(){w.dispatchEvent("progress")}),o.SK.addEventListener("renditionUpdated",function(){Xt()}),o.SK.addEventListener("renditionUpdated",function(t){var i,e=t.uJ.WJ&&t.uJ.WJ.UZ;e&&-1!==e.indexOf("mp4a.40.3")&&("G5"!==n.Q5||Dk||(i=P,yO(function(){n.useSwitchOverMSE=!0;var t=W;P=null,tn({sources:i,configuration:n}),t||Et()})))}),d.SK=o.SK)},mt=function(){p.addEventListener("play",function(){w.play({fromNative:!0})}),p.addEventListener("pause",function(){w.pause({fromNative:!0})}),p.addEventListener("volumechange",function(){w.volume=p.volume,w.muted=p.muted}),p.addEventListener("webkitpresentationmodechanged",Pt)},pt=function(){var t=G,n=!o||o.lw;G=n,n&&!t?w.dispatchEvent(Fc.ka):!n&&t&&w.dispatchEvent(Fc.pa)},kt=function(){z=!1,W=!1,j=!0,p.configuration.useNativeVideoPlayback||p.loaded||St(),Xt()},At=function t(){w.removeEventListener("initialized",t),w.removeEventListener("initialized",bt),z&&(kt(),w.ended?Ft(0):qt(),p.play(),c&&c.L_())},bt=function t(){w.removeEventListener("initialized",At),w.removeEventListener("initialized",t),z&&(kt(),qt())},Tt=function(t){var n=W;W="pause"===t.type,n&&!W?w.play({fromNative:!0}):!n&&W&&w.pause({fromNative:!0})},St=function(){j=!0,p.configuration.useNativeVideoPlayback?(p.load(),O.bdt="start"):p.loading||(p.load(),p.loading=!0),Xt()},Et=function(t){if(t=t||{},W=!1,C&&(C=!1,n.eR()),O.twt=!1,!w.initialized||!p){if(t.onlyWhenInitialized){var i=new AO(kO.fj,{code:"MGB6720"});throw Yt(i),i}return w.removeEventListener("initialized",At),w.removeEventListener("initialized",bt),w.addEventListener("initialized",t.fromNative?bt:At),w.dispatchEvent("play",!0),void w.dispatchEvent("waiting",!0)}if(z){if(X&&w.ended)return It(),void w.dispatchEvent("timeupdate",!0);w.dispatchEvent("play",!0),t.fromNative?bt():At()}},It=function(t){W=!0,(t=t||{}).fromNative||w.removeEventListener("initialized",At),w.removeEventListener("initialized",bt),!z&&p&&(z=!0,t.fromNative||p.pause(),w.dispatchEvent("pause",!0))},Rt=function(t){return{type:FH(t)?"application/vnd.apple.mpegurl":"",src:t}},Nt=function(t){return"string"==typeof t},Dt=function(t){if(FF(t))return t.type?t:Rt(t.src);if(Nt(t))return Rt(t);if(V(t)&&Nt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(FH(i))return Rt(i)}return Rt(t[0])}if(V(t)&&FF(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(HH(r.type)||!r.type&&FH(r.src))return r.type?r:Rt(r.src)}return t[0]}return{type:null,src:null}},Ct=function(t){var n=(t=lt(t)).sources[0],i=t.configuration,s=VH(n,i);!function(t,n){switch(t){case PH.z_t:case PH.W_t:n.Q5=!1,n.nwt=!1;break;case PH.X_t:n.Q5="G5",n.nwt=!0;break;case PH.q_t:n.Q5="F8",n.nwt=L.Ft}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case PH.z_t:h=s=o=null;break;case PH.W_t:h=null;var c=new yF(a,e);s=c,o=new TF(c);break;case PH.X_t:case PH.q_t:h=new DF(a,e);var f=new gF(a,h,e,r);s=f,o=new AF(f);break;default:return null}return new mP(n,t,i,h,s,o,u)}(s,n,t);return o?(o.G$&&(o.G$.a_=w.playbackRate),o):null},xt=function(t){tn({sources:t})},Ot=function(n,i){var e=E,r=e.nE,u=!1,o=!w.paused,h=et,a=w.playbackRate,c=w.iwt;K&&(K.Jf(),K=null),nn();var f=n&&n.VK||null;n&&n.FK||null,B=n&&n.FE||null,M=f&&f.configuration||null,et=n&&n.HK||PH.lj,jt();var v={type:"ewt",rwt:n,rh:M,swt:i};if(w.dispatchEvent(v),et!==PH.lj){if(p){w.pause();var d=h===et||h===PH.W_t&&et===PH.z_t||h===PH.z_t&&et===PH.W_t,l=i&&!L.jt;if(d&&!l)p.reset(),m.Gd();else{if(l?(k=p,r=(e=ot(e)).nE):r=p.unload(),!(u=MH.Y_t(et,t,e)))return void st();p=u,vt(),dt(r)}Vt(),Q=!1,Y=ag.Gl,j=!1,Z=!1,J=NaN,x=null,w.dispatchEvent("durationchange"),O.bdt=0,O.g2=0,O.twt=!0,w.dispatchEvent("timeupdate")}else{if(!(u=MH.Y_t(et,t,e)))return void st();p=u,e.nE.removeAttribute("poster"),vt(),dt(e.nE)}switch(E=e,s.K_t=E.$P,b=p.uw,k?(T=k.uw,S=!0):(T=ot(e).nE,S=!1),ht(),M.crossOrigin){case sg.zl:case sg.Wl:E.nE.setAttribute("crossorigin",M.crossOrigin);break;default:E.nE.removeAttribute("crossorigin")}if(c!==w.iwt&&w.dispatchEvent(Fc._a),Pt(),Lt(),!B)return P=null,void(w.initialized=!1);!function(t,n){switch(et){case PH.z_t:case PH.W_t:at(t);break;case PH.X_t:case PH.q_t:ct(t,n);break;default:return}t.HE=w,t.KK(H)}(K=n,M),p.src=B,m.Lct(f&&f.textTracks),w.playbackRate=a,P=B;var _={type:"uwt",rwt:n,rh:M,swt:i};w.dispatchEvent(_),w.initialized=!0,w.dispatchEvent("initialized"),pt(),Ft("start"),p.configuration.useNativeVideoPlayback&&L.jt&&o&&Qt()&&(w.play(),w.pause()),f&&w.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Pt=function(){var t=it;(it=w.Tft)!==t&&w.dispatchEvent("owt")},Lt=function(){d&&(d.IH=tt&&nt)},Mt=function(){return p&&p.Hat?p.volume:U},Ut=function(){if(!Z)return"start"===x?0:x||0;if(!p||O.twt)return O.bdt;if(c){var t=c.pat;return"start"===t?0:t}return p.Aat()},Ft=function(t){if(!Z){var n=Ut();return x=t,void(n!==Ut()&&Ht())}if(x=null,"start"===t&&(t=w.live?1/0:0),t=g(t)||0,t=Jt(t),p){if(_.abs(O.bdt-t)<.001&&gE()-O.g2<50)return;Ht(),c?c.pat=t:p.ict(t),p.seeking||Vt(),O={bdt:t,g2:gE()}}},Ht=function(){X=!0,Wt(),rt=h(zt,100)},Vt=function(){X&&(X=!1,rt&&zt(),w.dispatchEvent("seeked"))},zt=function(){Wt(),w.dispatchEvent("seeking")},Wt=function(){rt&&(a(rt),rt=null)},Xt=function(){Z||(Z=!y(J)&&Zt().length>0&&(j||!w.live))&&w.dispatchEvent("Gdt")},qt=function t(){w.removeEventListener("Gdt",t),null!==x&&(Z?Ft(x):w.addEventListener("Gdt",t))},Gt=function(){return p&&p.Hat?p.muted:F},Qt=function(){return W},Yt=function(t){if(t&&t.code===kO.vj)return n=!W,xt(K.FE),void(n&&Et());var n;Qt()||It(),q=t,w.dispatchEvent({type:"error",error:q})},jt=function(){q=null},Zt=function(){return zP(c?c.gw:J>0?new XP([{eI:0,sI:J}]):qP)},Jt=function(t){var n=Zt();return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},$t=function(){var t=p?p.kl:ag.Gl;return Q&&(t=_.max(ag.Ql,t)),t},Kt=function(){var t=$t();t!==Y&&(Y=t,w.dispatchEvent(Eg.xd))},tn=function(t){var n=Ct(t);Ot(n,!1)},nn=function(){if(k){var t=k.unload();k=null,S=!1,T=t||ot(E).nE,ht()}};w.initialized=!1,w.warning=null,w.play=Et,w.pause=It,w.load=function(){if(!w.initialized||!p){var t=new AO(kO.fj,{code:"MGB7330"});throw Yt(t),t}St(),Ft("start")},w.hwt=Ct,w.awt=Ot,w.Sr=function(){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(w.pr=!0,w.Wr(),P&&xt(null),d&&(d.Jf(),d=null),f&&(f.Gd(),f=null),nn(),p&&(p.unload(),p=null),!I.nE){i.next=11;break}return i.next=10,Sr.awrap(n.yE(I));case 10:I=null;case 11:if(!R.nE){i.next=15;break}return i.next=14,Sr.awrap(n.yE(R));case 14:R=null;case 15:s.Jf(),t=null;case 17:case"end":return i.stop()}},null,null,null,Ve)},w.H_=tn,w.Q_=function(){A=!0,ht()},w.Y_=function(){A=!1,ht()},w.j_=function(){return p&&p.j_()},w.p_=function(){return Er({},{hw:0,aw:0,cw:0,fw:0,vw:0,dw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},p?VI(p.Jat):{hw:0,aw:0,cw:0},{fw:8*eg.Ll()})},l.defineProperty(w,"buffered",{get:function(){return zP(p?p.rw:qP)}}),l.defineProperty(w,"played",{get:function(){return p?zP(p.played):qP}}),l.defineProperty(w,"seekable",{get:Zt}),l.defineProperty(w,"live",{get:function(){return!(!o||!FO.__(o.SK.mJ))}}),l.defineProperty(w,"volume",{get:Mt,set:function(t){(t=g(t))!==Mt()&&(p&&(p.volume=t),U=t,w.dispatchEvent("volumechange"))}}),l.defineProperty(w,"currentTime",{get:Ut,set:Ft}),l.defineProperty(w,"dimensions",{get:function(){return s}}),l.defineProperty(w,"currentProgramDateTime",{get:function(){return c?c.sw:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!y(i.getTime())&&c&&(n=c.vnt(t),y(n)||null===n||Ft(n))}}),l.defineProperty(w,"duration",{get:function(){return J}}),l.defineProperty(w,"muted",{get:Gt,set:function(t){t!==Gt()&&(F=t,p&&(p.muted=t),F=t,w.dispatchEvent("volumechange"))}}),l.defineProperty(w,"paused",{get:Qt,set:function(t){t?It():Et()}}),l.defineProperty(w,"preload",{get:function(){return H},set:function(t){H=ST((t||"none").toLowerCase())}}),l.defineProperty(w,"ended",{get:function(){return p&&p.ended||!1}}),l.defineProperty(w,"seeking",{get:function(){return X}}),l.defineProperty(w,"error",{get:function(){return q||p&&p.error}}),l.defineProperty(w,"element",{get:function(){return t}}),l.defineProperty(w,"iwt",{get:function(){return M&&M.vr&&M.vr[360]?PT:E===I?N:D}}),l.defineProperty(w,"videoWidth",{get:function(){return p?p.v_:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(w,"videoHeight",{get:function(){return p?p.f_:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(w,"frameRate",{get:function(){return c&&c.GJ}}),l.defineProperty(w,"frameAccurateSeekEnabled",{get:function(){return!w.live&&p&&p.paused&&w.frameRate}}),l.defineProperty(w,"currentFrame",{get:function(){return c?c.tct(Ut()):NaN},set:function(t){w.frameAccurateSeekEnabled&&(t=g(t),Ft(c.nct(t)))}}),l.defineProperty(w,"playbackRate",{get:function(){return c&&c.a_||p&&p.a_||1},set:function(t){(t=g(t))>0&&(c?c.a_=t:p&&(p.a_=t))}}),l.defineProperty(w,"videoTracks",{get:function(){return K&&K.O_.gd||null}}),l.defineProperty(w,"audioTracks",{get:function(){return K&&K.x_.gd||null}}),l.defineProperty(w,"P_",{get:function(){return f}}),l.defineProperty(w,"online",{get:function(){return G}}),l.defineProperty(w,"Aft",{get:function(){return p&&p.Aft}}),l.defineProperty(w,"bft",{get:function(){return p&&p.bft}}),l.defineProperty(w,"Tft",{get:function(){return p&&p.Tft||"inline"},set:function(t){p&&(p.Tft=t)}}),l.defineProperty(w,"cwt",{get:function(){return nt},set:function(t){nt=!!t,Lt()}}),l.defineProperty(w,"kl",{get:$t}),function(){if(!t)throw new v("Invalid element.");var n;w.addEventListener(Fc.ka,function(){w.live&&Ft("start")}),w.addEventListener("playing",nn),f=new qp,d=new NF(w,f),w.addEventListener("fullscreenchange",Lt),Lt(),i.allowManualQualitySwitch&&(u=new pP),n=function(t){if("string"==typeof t)try{return pO.Nn.tY(t,w)}catch(n){throw new v("Unknown rule: "+t)}return t},i.Aot=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),w.addEventListener("durationchange",Xt),I=ut(),R=ut(),E=I,b=I.nE,T=R.nE,s=new UH(E.$P),N=I.lE,D=R.lE,ht(),xt(null)}()};zH.prototype=new mO,zH.prototype.constructor=zH;var WH,XH=((WH={useSwitchOverMSE:!1,ManifestParser:"fwt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),WH.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),xk&&WH.abrRules.push("AvoidHighBitrateStreamsRule"),L.$t&&WH.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),WH);var qH=function(t){function n(n,i,e){var r;return(r=t.call(this,dw.Md)||this).vwt=n,r.dwt=i,r.lwt=e,r}return S(n,t),n.prototype.yd=function(){return new GH(this.vwt&&this.vwt.gd)},n}(fw),GH=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(Ks),QH=function(t){function n(n,i){var e;return(e=t.call(this,dw.Fd)||this).fl=void 0,e.md=void 0,e.fl=n||[],e.md=i,e}return S(n,t),n.prototype.yd=function(){return new YH(this.fl.map(function(t){return t.gd}))},n}(fw),YH=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(Ks),jH=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(Ks);function ZH(t){return{get bandwidth(){return t.vS},get codecs(){return t.WJ},get id(){return t.ul},get uid(){return t.ol},get name(){return t.al},get averageBandwidth(){return t.qJ},get label(){return t.al},set label(n){t.al=Pw(n)},get height(){return t.qp},get width(){return t.dg},get frameRate(){return t._K},get firstFrame(){return t._wt},get available(){return t.PY},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function JH(t){return{get bandwidth(){return t.vS},get codecs(){return t.WJ},get id(){return t.ul},get uid(){return t.ol},get name(){return t.al},get averageBandwidth(){return t.qJ},get label(){return t.al},set label(n){if(!X(n))throw new v("Unexpected - The provided label is not a string");t.al=n},get audioSamplingRate(){return t.wwt},get available(){return t.PY},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function $H(t){return{vS:t.vS,ae:t.WJ,qp:KH(t)?t.qp:0,nr:KH(t)?_y.zf:_y.Vf,dg:KH(t)?t.dg:0}}function KH(t){var n=t;return void 0!==n.qp&&void 0!==n.dg}var tV=function(t){function n(n,i){var e;(e=t.call(this)||this).gwt=void 0,e.ywt=void 0,e.Tw=void 0,e.mw=void 0,e.wd=void 0,e.mwt=void 0,e.gK=void 0,e.pwt=function(){return e.kwt()},e.Awt=function(){return e.bwt()},e.Twt=function(){return e.Fr(new yy(Yt(e)))},e.Tw=ky(),e.gwt=n,e.ywt=i,e.mw=new gy;for(var r=e.gwt.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e.Swt(u);o.Hr("update",e.Twt),e.mw.pw(o)}return e.gwt.qualities.addEventListener("activequalitychanged",e.pwt),e.gwt.qualities.addEventListener("targetqualitychanged",e.Awt),e.kwt(),e.bwt(),e}S(n,t);var e=n.prototype;return e.Ewt=function(t){t!==this.mwt&&(this.mwt=t,t&&this.Fr(new qH(t)))},e.Iwt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Is(n,t[i]))return!1;return!0}(t,n)},e.Rwt=function(t){for(var n=0,i=this.mw.Qd;n<i.length;n++){var e=i[n];if(e.Nwt===t)return e}},e.Dwt=function(t){for(var n=[],i=0,e=this.mw.Qd;i<e.length;i++){var r=e[i];Is(t,r.Nwt)&&n.push(r)}return n},e.kwt=function(){var t=this.sl?this.gwt.qualities.activeQuality:void 0,n=t&&this.Rwt(t)||void 0;this.Ewt(n)},e.bwt=function(){var t=this.gwt.qualities.targetQuality;t?H(t)?this.vl=this.Dwt(t)||void 0:this.vl=this.Dwt([t])||void 0:this.vl=void 0},e.Iw=function(t){this.sl=t},e.Jf=function(){this.gwt.qualities.removeEventListener("activequalitychanged",this.pwt),this.gwt.qualities.removeEventListener("targetqualitychanged",this.Awt);for(var t=0,n=this.mw.Qd;t<n.length;t++){var i=n[t];i.Xr("update",this.Twt),i.Jf()}},b(n,[{key:"il",get:function(){return this.mwt}},{key:"sl",get:function(){return this.gwt.enabled},set:function(t){t?this.ywt.enable(this.gwt):this.ywt.disable(this.gwt)}},{key:"gd",get:function(){return this.wd||(this.wd=Hw(this)),this.wd}},{key:"ul",get:function(){return this.gwt.id+""}},{key:"ol",get:function(){return this.Tw}},{key:"hl",get:function(){return this.gwt.kind}},{key:"al",get:function(){var t;return null!=(t=this.gwt.name)?t:""},set:function(t){t!==this.al&&(this.gwt.name=t,this.Fr(new yy(this)))}},{key:"cl",get:function(){return this.gwt.language}},{key:"yl",get:function(){return this.sl?"enabled":"disabled"}},{key:"fl",get:function(){return this.mw}},{key:"vl",get:function(){return this.gK},set:function(t){var n=this.gK,e=void 0!==this.il?$H(this.il):void 0,r=t?t.filter(function(t){return i.Pe.ji(e,$H(t))}):void 0;r&&0===r.length||this.Iwt(r,n)||(this.gK=r,this.gwt.qualities.targetQuality=r?r.map(function(t){return t.Nwt}):null,this.Fr(new QH(r,this)))}}]),n}(Js),nV=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).Nwt=void 0,r.wd=void 0,r.ER=function(){return r.Zo()},r.ul=void 0,r.ol=void 0,r.vS=void 0,r.qJ=void 0,r.WJ=void 0,r.hZ=void 0,r.Nwt=n,r.Nwt.addEventListener("qualityupdated",r.ER),r.ul=String(n.id),r.ol=null!=(i=n.uid)?i:by++,r.vS=null!=(e=n.bandwidth)?e:NaN,r.qJ=n.averageBandwidth,r.WJ=n.codecs,r.hZ=n.uri,r}S(n,t);var i=n.prototype;return i.Zo=function(){this.Cwt()&&this.Fr(new jH(this.gd))},i.Cwt=function(){var t,n,i=this.Nwt,e=null!=(t=i.uid)?t:this.ol,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.ol!==e||!Ft(this.vS,r)||this.WJ!==s||this.hZ!==u;return this.ol=e,this.vS=r,this.WJ=s,this.hZ=u,o},i.Jf=function(){this.Nwt.removeEventListener("qualityupdated",this.ER)},i.zA=function(){},b(n,[{key:"al",get:function(){return this.Nwt.name||""},set:function(t){this.al!==t&&(this.Nwt.name=t,this.Fr(new jH(this.gd)))}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}},{key:"PY",get:function(){return!0}}]),n}(Js),iV=function(t){function n(n){var i;return(i=t.call(this,n)||this).wwt=void 0,i.wwt=NaN,i}return S(n,t),n.prototype.yd=function(){return JH(this)},n}(nV),eV=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this)._K=void 0,e.dg=void 0,e.qp=void 0,e.xwt=void 0,e._K=n.frameRate,e.dg=n.resolution?n.resolution.width:NaN,e.qp=n.resolution?n.resolution.height:NaN,e.xwt=i,e}S(n,t);var i=n.prototype;return i.Cwt=function(){var n=t.prototype.Cwt.call(this),i=this.Nwt,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Ft(this._K,e)||!Ft(this.dg,r)||!Ft(this.qp,s),this._K=e,this.dg=r,this.qp=s,n},i.yd=function(){return ZH(this)},b(n,[{key:"_wt",get:function(){return this.xwt},set:function(t){this.xwt!==t&&(this.xwt=t,this.Fr(new jH(this.gd)))}}]),n}(nV),rV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Swt=function(t){return new iV(t)},n}(tV),sV=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Owt=void 0,n}S(n,t);var i=n.prototype;return i.Swt=function(t){return new eV(t,this.Owt)},i.Pwt=function(t){this.Owt=t;for(var n=0,i=this.fl.Qd;n<i.length;n++){var e=i[n];void 0!==e._wt&&(e._wt=t)}},n}(tV),uV=function(t){function n(){return t.call(this,Fc.ka)||this}return S(n,t),n}(Ks),oV=function(t){function n(){return t.call(this,Fc.pa)||this}return S(n,t),n}(Ks),hV=function(){function t(t,n){this.R_=void 0,this.hz=void 0,this.R_=new qp,this.hz=new YD(t,n)}var n=t.prototype;return n.nb=function(t,n,i,e,r,s,u){var o=new YN(t,n,i,e,r,s,u);return this.R_.Wd(o),this.hz.Wd(o),o},n.sb=function(t){this.R_.Xd(t),this.hz.Xd(t),t.Jf()},n.Gd=function(){for(var t=0,n=this.R_.Qd.slice();t<n.length;t++){n[t].Jf()}this.R_.Gd(),this.hz.Gd()},n.Jf=function(){this.Gd(),this.R_.Jf(),this.hz.Jf()},b(t,[{key:"P_",get:function(){return this.R_}}]),t}();function aV(t,n){for(var i=0;i<t.Yd;i++){var e=t.zd(i);if(e.gwt===n)return e}}var cV=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).JI=void 0,o.cQ=void 0,o.Bwt=void 0,o.Lwt=void 0,o.Mwt=void 0,o.E_=void 0,o.I_=void 0,o.sz=void 0,o.uz=void 0,o.R_=void 0,o.ZA=void 0,o.EQ=void 0,o.IQ=void 0,o.Uwt=void 0,o.DS=void 0,o.CS=void 0,o.Fwt=NaN,o.Hwt=0,o.US=new fT,o.Vwt=function(){o.Fr(new Ng(o.e_))},o.zwt=function(){o.Fr(new Rg(o.e_))},o.Wwt=function(){o.Fr(new Fg(o.e_))},o.Xwt=function(){o.Fr(new Hg(o.e_))},o.qwt=function(){o.Fr(new Bg(o.e_,o.a_))},o.Gwt=function(){o.Fr(new Vg(o.e_,o.d_))},o.Qwt=function(){o.Fr(new FR(o.e_))},o.Ywt=function(){o.Fr(new Mg(o.e_))},o.jwt=function(){o.Fr(new HR)},o.Zwt=function(){o.Fr(new uV)},o.Jwt=function(){o.Fr(new oV)},o.$wt=function(){o.Kwt(),o.Mwt.Gd(),o.tgt(),o.gE()},o.aB=function(){o.tgt(),o.gE(),o.rE()},o.Kwt=function(){var t=o.Fwt,n=o.r_;o.Fwt=n,t===n||y(t)&&y(n)||o.Fr(new Pg(n))},o.ngt=function(t){var n=t.error||o.Bwt.error;if(n){var i,e=oy.DECODE;n.code===kO.sj&&ns(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.DS=new fy(e,n.message,i),o.Fr(new qg(function(t){return new mc(ly(t.code),t.message,t)}(o.DS)))}},o.VS=function(){o.Fr(new Lg(o.e_,o.sw))},o.igt=function(){o.v_>0&&o.f_>0&&o.Fr(new gk)},o.egt=function(){o.Fr(new ng)},o.rgt=function(t){o.I_.Qd.forEach(function(n){return n.Pwt(t.ptsOffset)})},o.sgt=function(t){o.Hwt+=t.vw,o.Fr(t)},o.ugt=function(t){return o.ogt(t.track)},o.hgt=function(t){return o.agt(t.track)},o.cgt=function(t){var n=aV(o.E_,t.track);n&&n.Fr(new kw(n))},o.fgt=function(t){var n=aV(o.I_,t.track);n&&n.Fr(new kw(n))},o.cQ=n,o.JI=i,r=function(t){var n,i={};return i=HF(t,i),(i=HF(XH,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!L.Xt&&i.allowManualQualitySwitch,i.libraryLocation=Sl(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return M.call(n,t)?n[t]:t}),i}(r),o.Bwt=new zH(o.cQ,o.JI,r,e,s),o.vgt(),o.Lwt=new fV(o.Bwt),o.Mwt=new zk(o.Lwt,!0),o.Mwt.Hr(xg,o.Ur),o.E_=new wy,o.I_=new wy,o.ZA=new hV(Yt(o),new jD),o.sz=new uC(Yt(o)),o.sz.tl=o.Bwt.P_,o.uz=new oC(o.ZA,o.sz),o.R_=new lT([o.Bwt.P_,o.uz.Np]),o.EQ=new OC,o.EQ.LW(n),o.IQ=new Zx(o.EQ.uw,o.Bwt.dimensions,o.P_,u,o.Bwt.iwt),o.rE(),o}S(n,t);var i=n.prototype;return i.Y_=function(){this.Bwt.Y_(),this.EQ.Y_()},i.Q_=function(){this.Bwt.Q_(),this.EQ.Q_()},i.H_=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:this.Uwt=t,this.Bwt.H_({sources:{src:t.src,type:ug.Fl,contentProtection:t.contentProtection},textTracks:n.textTracks,configuration:Er({},n,{crossOrigin:t.crossOrigin,withCredentials:t.useCredentials,liveOffset:t.liveOffset,hlsDateRange:t.hlsDateRange,hls:t.hls})});case 2:case"end":return i.stop()}},null,this,null,Ve)},i.L_=function(){this.Bwt.play()},i.M_=function(){this.Bwt.pause()},i.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Uwt=void 0,this.DS=void 0,this.CS=void 0,this.Hwt=0,this.Bwt.H_({sources:null}),this.Mwt.Gd(),this.ZA.Gd(),this.tgt();case 8:case"end":return t.stop()}},null,this,null,Ve)},i.V_=function(){return!1},i.z_=function(){},i.W_=function(){},i.j_=function(){return this.Bwt.j_()||void 0},i.Z_=function(){return this.Bwt.iwt},i.ew=function(){},i.Jf=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.Gd());case 2:return this.Wr(),this.Mwt.Jf(),this.Lwt.Jf(),this.dgt(),t.next=8,Sr.awrap(this.Bwt.Sr());case 8:return this.E_.Jf(),this.I_.Jf(),this.sz.Jf(),t.next=13,Sr.awrap(this.uz.Jf());case 13:this.ZA.Jf(),this.R_.Jf(),this.IQ.Jf(),this.EQ.Jf();case 17:case"end":return t.stop()}},null,this,null,Ve)},i.vgt=function(){this.Bwt.addEventListener("ewt",this.$wt),this.Bwt.addEventListener("uwt",this.aB),this.Bwt.addEventListener("durationchange",this.Kwt),this.Bwt.addEventListener("error",this.ngt),this.Bwt.addEventListener("timeupdate",this.VS),this.Bwt.addEventListener("resize",this.igt),this.Bwt.addEventListener(Fc._a,this.egt),this.Bwt.addEventListener("Jht",this.rgt),this.Bwt.addEventListener(Fc.Oa,this.sgt),this.Bwt.addEventListener("play",this.Vwt),this.Bwt.addEventListener("pause",this.zwt),this.Bwt.addEventListener("seeking",this.Wwt),this.Bwt.addEventListener("seeked",this.Xwt),this.Bwt.addEventListener("ratechange",this.qwt),this.Bwt.addEventListener("volumechange",this.Gwt),this.Bwt.addEventListener("progress",this.Qwt),this.Bwt.addEventListener("ended",this.Ywt),this.Bwt.addEventListener("loadstart",this.jwt),this.Bwt.addEventListener(Fc.ka,this.Zwt),this.Bwt.addEventListener(Fc.pa,this.Jwt),this.Bwt.addEventListener(Fc.Ca,this.Ur)},i.dgt=function(){this.Bwt.removeEventListener("ewt",this.$wt),this.Bwt.removeEventListener("uwt",this.aB),this.Bwt.removeEventListener("durationchange",this.Kwt),this.Bwt.removeEventListener("error",this.ngt),this.Bwt.removeEventListener("timeupdate",this.VS),this.Bwt.removeEventListener("resize",this.igt),this.Bwt.removeEventListener(Fc._a,this.egt),this.Bwt.removeEventListener("play",this.Vwt),this.Bwt.removeEventListener("pause",this.zwt),this.Bwt.removeEventListener("seeking",this.Wwt),this.Bwt.removeEventListener("seeked",this.Xwt),this.Bwt.removeEventListener("ratechange",this.qwt),this.Bwt.removeEventListener("volumechange",this.Gwt),this.Bwt.removeEventListener("progress",this.Qwt),this.Bwt.removeEventListener("ended",this.Ywt),this.Bwt.removeEventListener("loadstart",this.jwt),this.Bwt.removeEventListener(Fc.ka,this.Zwt),this.Bwt.removeEventListener(Fc.pa,this.Jwt),this.Bwt.removeEventListener(Fc.Ca,this.Ur),this.Bwt.removeEventListener(Fc.Oa,this.sgt)},i.rE=function(){var t=this.Bwt.audioTracks,n=this.Bwt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.ogt(t.item(i));t.addEventListener("addtrack",this.ugt),t.addEventListener("enabledtrack",this.cgt),t.addEventListener("disabledtrack",this.cgt)}if(n){for(var e=0;e<n.length;e++)this.agt(n.item(e));n.addEventListener("addtrack",this.hgt),n.addEventListener("enabledtrack",this.fgt),n.addEventListener("disabledtrack",this.fgt)}},i.gE=function(){var t=this.Bwt.audioTracks,n=this.Bwt.videoTracks;t&&(t.removeEventListener("addtrack",this.ugt),t.removeEventListener("enabledtrack",this.cgt),t.removeEventListener("disabledtrack",this.cgt)),n&&(n.removeEventListener("addtrack",this.hgt),n.removeEventListener("enabledtrack",this.fgt),n.removeEventListener("disabledtrack",this.fgt))},i.tgt=function(){for(var t=0,n=this.E_.Qd;t<n.length;t++){n[t].Jf()}for(var i=0,e=this.I_.Qd;i<e.length;i++){e[i].Jf()}this.E_.Gd(),this.I_.Gd()},i.ogt=function(t){aV(this.E_,t)||this.E_.Wd(new rV(t,this.Bwt.audioTracks))},i.agt=function(t){aV(this.I_,t)||this.I_.Wd(new sV(t,this.Bwt.videoTracks))},b(n,[{key:"x_",get:function(){return this.E_}},{key:"rw",get:function(){return this.Bwt.buffered}},{key:"sw",get:function(){var t;return null!=(t=this.Bwt.currentProgramDateTime)?t:void 0},set:function(t){this.Bwt.currentProgramDateTime=null!=t?t:null}},{key:"e_",get:function(){var t=this.Bwt.currentTime;return t===1/0&&y(this.Bwt.duration)&&(t=0),t},set:function(t){this.Bwt.currentTime=t}},{key:"r_",get:function(){var t=this.Bwt.duration;return t<0?1/0:t}},{key:"s_",get:function(){return this.Bwt.ended}},{key:"ts",get:function(){return this.DS}},{key:"u_",get:function(){return this.CS}},{key:"B_",get:function(){}},{key:"ow",get:function(){return!1}},{key:"p_",get:function(){return Er({},this.Bwt.p_(),{vw:this.Hwt})}},{key:"o_",get:function(){return this.Bwt.muted},set:function(t){this.Bwt.muted=t}},{key:"lw",get:function(){return this.Bwt.online}},{key:"h_",get:function(){return this.Bwt.paused}},{key:"a_",get:function(){return this.Bwt.playbackRate},set:function(t){this.Bwt.playbackRate=t}},{key:"_w",get:function(){return this.Bwt.played}},{key:"ww",get:function(){return this.Bwt.preload||bT.XE},set:function(t){this.Bwt.preload=t}},{key:"kl",get:function(){return this.Bwt.kl}},{key:"gw",get:function(){return this.Bwt.seekable}},{key:"c_",get:function(){return this.Bwt.seeking}},{key:"TE",get:function(){}},{key:"P_",get:function(){return this.R_}},{key:"O_",get:function(){return this.I_}},{key:"f_",get:function(){return this.Bwt.videoHeight}},{key:"v_",get:function(){return this.Bwt.videoWidth}},{key:"d_",get:function(){return this.Bwt.volume},set:function(t){this.Bwt.volume=t}},{key:"yw",get:function(){return!1},set:function(t){}},{key:"SE",get:function(){return this.US}}]),n}(Kw),fV=function(t){function n(n){var i;return(i=t.call(this)||this).Bwt=void 0,i.lgt=function(){i.Fr(new Xg(i.e_,i.Bwt.kl))},i._gt=function(){i.Fr(new Vk(i.e_))},i.Vwt=function(){i.Fr(new Ng(i.e_))},i.zwt=function(){i.Fr(new Rg(i.e_))},i.Bwt=n,i.Bwt.addEventListener(Eg.xd,i.lgt),i.Bwt.addEventListener(Eg.i_,i._gt),i.Bwt.addEventListener(Fc.ba,i.Vwt),i.Bwt.addEventListener(Fc.Aa,i.zwt),i}return S(n,t),n.prototype.Jf=function(){this.Wr(),this.Bwt.removeEventListener(Eg.xd,this.lgt),this.Bwt.removeEventListener(Eg.i_,this._gt),this.Bwt.removeEventListener(Fc.ba,this.Vwt),this.Bwt.removeEventListener(Fc.Aa,this.zwt)},b(n,[{key:"e_",get:function(){var t=this.Bwt.currentTime;return t===1/0&&y(this.Bwt.duration)&&(t=0),t}},{key:"s_",get:function(){return this.Bwt.ended}},{key:"ts",get:function(){return this.Bwt.error||void 0}},{key:"h_",get:function(){return this.Bwt.paused}}]),n}(Js);function vV(t,n,i,e,r){var s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Sr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),Us(o.t0),!(s<i)){o.next=20;break}return u=_.min(e*_.pow(2,s),r),s++,o.next=19,Sr.awrap(Qs(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],Ve)}kT(new(function(){function t(){this.EE=sT.Fl}var n=t.prototype;return n.uT=function(t,n,i,e,r,s){return new cV(t,n,i,e,r,s)},n.IE=function(n,i){if((L.jt||L.Sn)&&!i.manifestMetadataTrack)return!1;if(!lg(n.type))return!1;if(n.useNativePlayback)return!1;var e=n.contentProtection;return!(e&&!SA(e)&&!t.wgt(e))&&!!function(t){return VH(t,{})!==PH.lj}(n)},t.wgt=function(t){return!!t.aes128},n.RE=function(){return!0},t}()));var dV,lV=function(t){function n(){return t.call(this,"ggt")||this}return S(n,t),n}(Ks),_V=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).ygt=void 0,r.mgt=void 0,r.pgt=void 0,r.Uwt=void 0,r.kgt=void 0,r.JA=void 0,r.kV=void 0,r.Agt=void 0,r.bgt=function(){r.Fr(new lV)},r.Uwt=n,r.kgt=Er({},i,{crossOrigin:r.Uwt.crossOrigin,withCredentials:r.Uwt.useCredentials,liveOffset:r.Uwt.liveOffset,hlsDateRange:r.Uwt.hlsDateRange}),r.JA=e,r.mgt=[],r.kV=!1,r}S(n,t);var i=n.prototype;return i.Tgt=function(){if(this.pgt)return this.pgt.m_},i.eI=function(t){var n=this;qs(vV(function(){return n.KK()},t))},i.KK=function(){var t,n,i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Sr.awrap(this.Sgt());case 2:if((t=u.sent).isMasterPlaylist)for(this.ygt=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new FM(this.JA,this.kgt),this.mgt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new FM(this.JA,this.kgt),this.mgt.push({stream:{uri:t.uri},updater:s});this.Agt&&(this.Egt(this.Agt.width,this.Agt.height),this.Agt=void 0),this.kV=!0;case 6:case"end":return u.stop()}},null,this,null,Ve)},i.Igt=function(t,n){this.kV?this.Egt(t,n):this.Agt={width:t,height:n}},i.Egt=function(t,n){this.Rgt();var i=this.Ngt(t,n);i&&(this.pgt=i.updater,this.pgt.addEventListener("p7",this.bgt),i.updater.eI(i.stream.uri))},i.Rgt=function(){this.pgt&&(this.pgt.U_(),this.pgt.removeEventListener("p7",this.bgt),this.pgt=void 0)},i.Ngt=function(t,n){return 1===this.mgt.length?this.mgt[0]:bs(this.mgt,function(i){return i.stream.width===t&&i.stream.height===n})},i.Sgt=function(){var t,n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new UM(this.kgt,OP.Nn.p0,this.JA),i.next=3,Sr.awrap(t.Yo(this.Uwt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.m_);case 5:case"end":return i.stop()}},null,this,null,Ve)},i.Jf=function(){this.Rgt();for(var t=0,n=this.mgt;t<n.length;t++){n[t].updater.Jf()}Rs(this.mgt)},n}(Js),wV=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).Dgt=void 0,r.Cgt=void 0,r.hP=void 0,r.xgt=!1,r.f$=void 0,r.hz=void 0,r.handleManifestUpdate=function(){var t=r.Dgt.Tgt();if(t){var n=r.TE;if(n){var i=n.getTime(),e=r.f$;e||(e=new HO,r.f$=e),e.Zo(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.xgt&&e.Al.Yd>0&&(r.P_.Wd(e),r.hz.Wd(e),r.xgt=!0)}}},r.igt=function(){r.Dgt&&r.Dgt.Igt(r.v_,r.f_)},r.Cgt=i,r.hP=e,r.hz=new JD(Yt(r)),r.Hr(Fc.Ia,r.igt),r}S(n,t);var i=n.prototype;return i.H_=function(n,i,e){return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(t.prototype.H_.call(this,n,i,e));case 2:n.hlsDateRange&&this.Ogt(n,i,e);case 3:case"end":return r.stop()}},null,this,null,Ve)},i.Ogt=function(t,n,i){this.Dgt&&(this.Dgt.Xr("ggt",this.handleManifestUpdate),this.Dgt.Jf()),this.Dgt=new _V(t,n,this.Cgt),this.Dgt.Hr("ggt",this.handleManifestUpdate),this.Dgt.eI(i)},i.Gd=function(){return this.f$&&(this.P_.Xd(this.f$),this.hz.Xd(this.f$),this.f$.Jf(),this.f$=void 0,this.xgt=!1),this.hz.Gd(),t.prototype.Gd.call(this)},i.Jf=function(){return this.Xr(Fc.Ia,this.igt),this.Dgt&&(this.Dgt.Xr("ggt",this.handleManifestUpdate),this.Dgt.Jf()),this.hz.Jf(),t.prototype.Jf.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Pgt=void 0,i.Pgt=n;for(var e=0;e<ET.length;e++){var r=ET[e];i.Pgt.Hr(r,i.Ur)}return i}S(n,t);var i=n.prototype;return i.V_=function(){return this.Pgt.V_()},i.Z_=function(){return this.Pgt.Z_()},i.j_=function(){return this.Pgt.j_()},i.Y_=function(){return this.Pgt.Y_()},i.ew=function(){return this.Pgt.ew()},i.M_=function(){return this.Pgt.M_()},i.L_=function(){return this.Pgt.L_()},i.Gd=function(){return this.Pgt.Gd()},i.H_=function(t,n,i){return this.Pgt.H_(t,n,i)},i.Q_=function(){return this.Pgt.Q_()},i.z_=function(){return this.Pgt.z_()},i.W_=function(){return this.Pgt.W_()},i.Jf=function(){this.Wr();for(var t=0;t<ET.length;t++){var n=ET[t];this.Pgt.Xr(n,this.Ur)}return this.Pgt.Jf()},b(n,[{key:"x_",get:function(){return this.Pgt.x_}},{key:"rw",get:function(){return this.Pgt.rw}},{key:"sw",get:function(){return this.Pgt.sw},set:function(t){this.Pgt.sw=t}},{key:"e_",get:function(){return this.Pgt.e_},set:function(t){this.Pgt.e_=t}},{key:"r_",get:function(){return this.Pgt.r_}},{key:"s_",get:function(){return this.Pgt.s_}},{key:"u_",get:function(){return this.Pgt.u_}},{key:"B_",get:function(){return this.Pgt.B_}},{key:"ts",get:function(){return this.Pgt.ts}},{key:"ow",get:function(){return this.Pgt.ow}},{key:"p_",get:function(){return this.Pgt.p_}},{key:"o_",get:function(){return this.Pgt.o_},set:function(t){this.Pgt.o_=t}},{key:"lw",get:function(){return this.Pgt.lw}},{key:"h_",get:function(){return this.Pgt.h_}},{key:"a_",get:function(){return this.Pgt.a_},set:function(t){this.Pgt.a_=t}},{key:"_w",get:function(){return this.Pgt._w}},{key:"ww",get:function(){return this.Pgt.ww},set:function(t){this.Pgt.ww=t}},{key:"kl",get:function(){return this.Pgt.kl}},{key:"gw",get:function(){return this.Pgt.gw}},{key:"c_",get:function(){return this.Pgt.c_}},{key:"TE",get:function(){return this.Pgt.TE}},{key:"P_",get:function(){return this.Pgt.P_}},{key:"f_",get:function(){return this.Pgt.f_}},{key:"O_",get:function(){return this.Pgt.O_}},{key:"v_",get:function(){return this.Pgt.v_}},{key:"d_",get:function(){return this.Pgt.d_},set:function(t){this.Pgt.d_=t}},{key:"yw",get:function(){return this.Pgt.yw},set:function(t){this.Pgt.yw=t}},{key:"SE",get:function(){return this.Pgt.SE}}]),n}(Kw));dV=function(t,n,i){return new wV(t,n,i)},mT.CE().xE(dV);var gV=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},yV=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),mV=Tr(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function pV(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function kV(t){return JSON.stringify(t,mV.getSerialize(pV))}var AV=Tr(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=s&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),bV=Tr(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),TV=Tr(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),SV=Tr(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=AV.isS,e=AV.isChar,r=AV.isNameStartChar,s=AV.isNameChar,u=AV.S_LIST,o=AV.NAME_RE,h=bV.isChar,a=TV.isNCNameStartChar,c=TV.isNCNameChar,f=TV.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",g={__proto__:null,xml:d,xmlns:_},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,p=-2,k=0,A=1,b=2,T=3,S=4,E=5,I=6,R=7,N=8,D=9,C=10,x=11,O=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,z=21,W=22,X=23,q=24,G=25,Q=26,Y=27,j=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,et=36,rt=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,wt=33,gt=38,yt=45,mt=47,pt=59,kt=60,At=61,bt=62,Tt=63,St=91,Et=93,It=133,Rt=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,St,bt],xt=[...Dt,kt,Et],Ot=[At,Tt,...u],Pt=[...u,bt,gt,kt];function Bt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==_&&t.fail(`xmlns prefix must be bound to ${_}.`)}switch(i){case _:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},g);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Bt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Hs}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Hs=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==Rt||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==It||(this.i=n+2)}case It:case Rt:return this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===p?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===p,s=r?dt:e;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case p:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case m:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===p?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=L,0!==this.text.length)throw new v("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(xt);t!==m&&(this.text+=String.fromCodePoint(t),t===Et?this.state=b:t===kt?this.state=I:Nt(t)&&(this.state=E,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case wt:this.state=R,this.openWakaBang="";break;case Tt:this.state=x;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=S:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=O)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case p:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case pt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=r);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case wt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=X;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(Et)&&(this.state=z)}sCDataEnding(){const t=this.getCodeNorm();t===Et?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case Et:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=q):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?Q:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=q)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===Tt;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:Y):this.state=r?Q:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=Q:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=Q)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=j,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Ot);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Y):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const e=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==m&&(r(t)?(this.unget(),this.state=rt):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case gt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case p:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===bt?this.openTag():t===mt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case gt:this.state=B,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=L,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Ut;break t;case gt:this.state=B,this.entityReturnState=P,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case Et:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new v("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case p:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const s=this.getCode();switch(s){case kt:if(this.state=L,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case gt:this.state=B,this.entityReturnState=P,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case p:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==e&&(this.text+=n.slice(t));break t;default:i(s)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Bt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==P&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Hs=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=w(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=w(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),EV=function(){function t(){}return t.prototype.Fn=function(t){var n=new SV.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new OV,e=[i];function r(t){e[e.length-1].ti(t)}return n.on("text",function(t){e.length>1&&r(new CV(t))}),n.on("cdata",function(t){r(new xV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new NV({Wn:n,qn:""===i?void 0:i,Bgt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,w=new IV({Wn:v,Qn:_,qn:""===d?void 0:d,Bgt:""===f?void 0:f});u.Lgt(w)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Jt(t)}),n.write(t).close(),i},t}(),IV=function(){function t(t){this.Mgt=void 0,this.Ugt=void 0,this.Fgt=void 0,this.xi=void 0,this.Mgt=t.Wn,this.xi=t.Qn,this.Ugt=t.qn,this.Fgt=t.Bgt}var n=t.prototype;return n.Vn=function(t){return this===t||!!BV(this,t)&&(this.Mgt===t.Mgt&&this.Ugt===t.Ugt&&this.Fgt===t.Fgt&&this.xi===t.xi)},n.zn=function(){return new t({Wn:this.Wn,Qn:this.Qn,qn:this.qn,Bgt:this.Gn})},b(t,[{key:"On",get:function(){return Wt.Ln}},{key:"Wn",get:function(){return this.Mgt}},{key:"Xn",get:function(){return void 0===this.Fgt?this.Mgt:this.Fgt+":"+this.Mgt}},{key:"qn",get:function(){return this.Ugt}},{key:"Gn",get:function(){return this.Fgt}},{key:"Qn",get:function(){return this.xi}}]),t}(),RV=function(){function t(){this.jn=[]}var n=t.prototype;return n.Zn=function(t){return this.jn.filter(function(n){return PV(n)&&n.$n===t})},n.Kn=function(t,n){return this.jn.filter(function(i){return PV(i)&&i.Wn===n&&i.qn===t})},n.ti=function(t){this.jn.push(t)},b(t,[{key:"Jn",get:function(){return this.jn}},{key:"ii",get:function(){return this.jn.filter(PV)}}]),t}(),NV=function(t){function n(n){var i;return(i=t.call(this)||this).Mgt=void 0,i.Ugt=void 0,i.Fgt=void 0,i.Hgt=[],i.Mgt=n.Wn,i.Ugt=n.qn,i.Fgt=n.Bgt,i}S(n,t);var i=n.prototype;return i.Vgt=function(t){for(var n=0,i=this.Jn;n<i.length;n++){var e=i[n];PV(e)?e.Vgt(t):t.push(e.fi)}},i.ri=function(t,n){for(var i=0,e=this.Hgt;i<e.length;i++){var r=e[i];if(r.Wn===n&&r.qn===t)return r.Qn}},i.ei=function(t){for(var n=0,i=this.Hgt;n<i.length;n++){var e=i[n];if(e.Xn===t)return e.Qn}},i.Lgt=function(t){this.Hgt.push(t)},i.si=function(t){for(var n=0;n<this.Hgt.length;n++)if(this.Hgt[n].Xn===t)return void this.Hgt.splice(n,1)},i.ui=function(t,n){for(var i=0;i<this.Hgt.length;i++)if(this.Hgt[i].Wn===n&&this.Hgt[i].qn===t)return void this.Hgt.splice(i,1)},i.oi=function(t,n){this.si(t),this.Lgt(new IV({Wn:t,Qn:n}))},i.hi=function(t,n,i){this.si(n);var e=n.split(":");this.Lgt(new IV({Wn:e[e.length-1],Qn:i,qn:t,Bgt:e.length>1?e[0]:void 0}))},i.zn=function(t){var i=new n({Wn:this.Wn,qn:this.qn,Bgt:this.Gn});return this.ai.forEach(function(t){return i.Lgt(t.zn())}),t&&this.Jn.forEach(function(n){return i.ti(n.zn(t))}),i},i.Vn=function(t){return this===t||!!BV(this,t)&&(this.Mgt===t.Mgt&&this.Fgt===t.Fgt&&this.Ugt===t.Ugt&&(LV(this.ai,t.ai)&&LV(this.Jn,t.Jn)))},b(n,[{key:"On",get:function(){return Wt.Pn}},{key:"ai",get:function(){return this.Hgt}},{key:"Wn",get:function(){return this.Mgt}},{key:"qn",get:function(){return this.Ugt}},{key:"Gn",get:function(){return this.Fgt}},{key:"$n",get:function(){return void 0===this.Fgt?this.Mgt:this.Fgt+":"+this.Mgt}},{key:"ci",get:function(){var t=[];return this.Vgt(t),t.join("")}}]),n}(RV),DV=function(){function t(t){this._i=void 0,this._i=t}return b(t,[{key:"fi",get:function(){return this._i}}]),t}(),CV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.zn=function(){return new n(this.fi)},i.Vn=function(t){return this===t||!!BV(this,t)&&this.fi===t.fi},b(n,[{key:"On",get:function(){return Wt.Bn}}]),n}(DV),xV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.zn=function(){return new n(this.fi)},i.Vn=function(t){return this===t||!!BV(this,t)&&this.fi===t.fi},b(n,[{key:"On",get:function(){return Wt.Mn}}]),n}(DV),OV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.zn=function(t){var i=new n;return t&&this.Jn.forEach(function(n){return i.ti(n.zn(t))}),i},i.Vn=function(t){return this===t||!!BV(this,t)&&LV(this.Jn,t.Jn)},b(n,[{key:"On",get:function(){return Wt.Un}},{key:"vi",get:function(){return this.ii[0]}}]),n}(RV);function PV(t){return Gt(t)}function BV(t,n){return t.On===n.On}function LV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Vn(n[i]))return!1;return!0}var MV,UV=["adBreak"],FV=["adBreak"];function HV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Er({},t,{adBreak:Er({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return fA(t,UV)})})})}function VV(t){return void 0===t.ads?t:Er({},t,{ads:t.ads.map(function(t){t.adBreak;return fA(t,FV)})})}function zV(t){return"string"==typeof t.date?new Date(t.date):t.date}function WV(t){var n;return t.cue.track?(n=qV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=qV(t.cue,""),n}function XV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=l.entries(i);return l.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function qV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new EV).Fn(e.firstChild.outerHTML).vi.ai.forEach(function(t){r[t.Wn]=t.Qn}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=GV(o);s[u]={type:MV.zgt,value:h}}else YV(o)?s[u]={type:MV.Wgt,value:o}:s[u]={type:MV.EX,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=GV(t.scte35Cmd),i.scte35Out=GV(t.scte35Out),i.scte35In=GV(t.scte35In),i.customAttributes=s}var a}(),i}function GV(t){if(void 0!==t)return wu(t)}function QV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(qV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(qV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function YV(t){return"number"==typeof t}!function(t){t.EX="daterange-ca-type_string",t.Wgt="daterange-ca-type_number",t.zgt="daterange-ca-type_arraybuffer"}(MV||(MV={}));var jV={cue:function(t){var n={};switch(n.date=zV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=WV(t)}return n},textTrack:function(t){var n={};switch(n.date=zV(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=KV().register(t.cue));var i=$V()[tz()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=WV(t);break;case"cuechange":for(var e=[],r=0;r<t.track.activeCues.length;r++){var s=t.track.activeCues[r];e.push(qV(s,t.track.type))}n.track={activeCues:e,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=zV(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=KV().register(t)}),n.track=QV(t.track);case"removetrack":case"change":n.track=QV(t.track)}return n},default:function(t){var n={};switch(n.date=zV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Fc.Ma:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Er({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=QV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=VV(t.ad);break;case"adloaded":case"adimpression":n.ad=HV(t.ad);break;case"aderror":t.Xgt&&(n.Xgt=t.Xgt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=HV(t.ad)}return XV(n)},minimizeCueHelper:function(t){var n={};return n.date=zV(t),n.type=t.type,n.cue=WV(t),n.track={uid:t.cue.track.uid},n},adReplacer:HV,adBreakReplacer:VV,removeCircularReferences:XV},ZV=function(){this.stringify=kV,this.minimize=jV};function JV(){return ce.self}function $V(){return JV().THEOplayerBridge}function KV(){return JV().THEOCueMirrorMap}function tz(){return JV().THEOplayerGlobalID}function nz(){var t=JV();if(t.THEOplayerBridge){var n=new gV;t.THEOplayerBridge=Ew(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new gV;t.THEOplayerUtils||(t.THEOplayerUtils=new ZV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new yV)}nz();var iz,ez=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(Ks),rz=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new ez(t,n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(tg),sz=function(t){function n(n,i){var e;return(e=t.call(this)||this).qgt=void 0,e.Ggt=void 0,e.Qgt=function(t){e.qgt.FQ("THEOplayerABRSetTargetBuffer",t.Ox),e.Fr(t)},e.Ygt=function(t){e.qgt.FQ("THEOplayerABRSetStrategy",t.Bx),e.Fr(t)},e.qgt=n,e.Ggt=i,e.Ggt.Hr("Px",e.Qgt),e.Ggt.Hr("Lx",e.Ygt),e}return S(n,t),b(n,[{key:"qx",get:function(){var t;switch(this.Bx.type){case _I.PERFORMANCE:return 1;case _I.QUALITY:return 0;case _I.BANDWIDTH:return null!=(t=this.Bx.metadata)&&t.bitrate&&!y(this.Bx.metadata.bitrate)?this.Bx.metadata.bitrate:0;default:return 0}}},{key:"gd",get:function(){return this.Ggt.gd}},{key:"Bx",get:function(){return this.Ggt.Bx},set:function(t){this.Ggt.Bx=t}},{key:"Ox",get:function(){return this.Ggt.Ox},set:function(t){this.Ggt.Ox=t}},{key:"Mx",get:function(){return this.Ggt.Mx},set:function(t){this.Ggt.Mx=t}}]),n}(Js),uz=function(){function t(t,n,i){this.Ch=void 0,this.hr=void 0,this.zh=void 0,this.ih=void 0,this.Ch=t,this.hr=i,this.zh=n}var n=t.prototype;return n.sb=function(t){throw new v("Not implemented yet.")},n.JB=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,Sr.awrap(i.vh());case 5:return e=r.sent,r.next=8,Sr.awrap(this.$B(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,Ve)},n.KB=function(t){return!1},n.tL=function(t){return Ve.resolve(void 0)},n.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.$B(void 0));case 2:case"end":return t.stop()}},null,this,null,Ve)},n.$B=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.iL(t),i.next=3,Sr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,Ve)},n.iL=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ih)){i.next=5;break}return i.next=4,Sr.awrap(n.hh(this.zh));case 4:this.ih=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Sr.awrap(t.oh(this.zh));case 8:this.ih=t;case 9:case"end":return i.stop()}},null,this,null,Ve)},n.nb=function(t,n,i){throw new v("Not implemented yet.")},b(t,[{key:"rh",get:function(){return this.Ch}},{key:"ww",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"gw",get:function(){return new CT([0,1/0])}},{key:"P_",get:function(){throw new v("Not implemented yet.")}},{key:"jgt",get:function(){throw new v("Not implemented yet")}},{key:"O_",get:function(){throw new v("Not implemented yet.")}},{key:"Zgt",get:function(){throw new v("Not implemented yet")}},{key:"Jgt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.$gt="webkitneedkey",t.Kgt="webkitkeymessage",t.tyt="webkitkeyerror"}(iz||(iz={}));var oz=function(t){function n(n,i){var e;return(e=t.call(this,iz.$gt)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(Ks),hz=function(t){function n(n,i){var e;return(e=t.call(this,iz.Kgt)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(Ks),az=function(t){function n(){return t.call(this,iz.tyt)||this}return S(n,t),n}(Ks),cz=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).yh=new Ao,u.xh=void 0,u.kh=new hu,u.Ph=new Ao,u.nyt=function(t){u.xh?(u.xh.Ns(void 0),u.xh=void 0):u.Eh("internal-error"),u.Fr(new ru)},u.iyt=function(t){u.xh&&(u.xh.Rs(void 0),u.xh=void 0),u.Fr(new eu(Yt(u),"license-request",mo(t.message).buffer,t.destinationURL||void 0))},u.Rh=n,u.Wo=i,u.eyt=e,u.Hh=r,u.Lh=s,u}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e;return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Mh){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Sr.awrap(this.ryt(go(n),e));case 5:this.Eh("usable"),this.Ph.Rs(),this.Ph=new Ao;case 8:case"end":return t.stop()}},null,this,null,Ve)},i.Yo=function(t){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,Ve)},i.Zo=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=go(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.xh=new Ao,this.eyt.Zo(this.Hh,n),i.next=7,Sr.awrap(this.xh.Ss);case 7:case"end":return i.stop()}},null,this,null,Ve)},i.Go=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.Ph);case 2:return this.eyt.Xr(iz.Kgt,this.iyt),this.eyt.Xr(iz.tyt,this.nyt),this.Ph.Cr(),this.yh.Rs(void 0),t.abrupt("return",this.yh.Ss);case 7:case"end":return t.stop()}},null,this,null,Ve)},i.jo=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,Ve)},i.ryt=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=yc(t,n,this.Lh),this.eyt.Hr(iz.Kgt,this.iyt),this.eyt.Hr(iz.tyt,this.nyt),this.eyt.LV(this.Hh,i);case 4:case"end":return e.stop()}},null,this,null,Ve)},i.Eh=function(t){this.kh.ds(),this.kh.vs(ou,t),this.Fr(new iu(this))},b(n,[{key:"nh",get:function(){return this.Hh}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.yh.Ss}},{key:"th",get:function(){return this.kh}}]),n}(Js),fz=function(){function t(t,n,i){this.syt=void 0,this.Hh=void 0,this.Lh=void 0,this.eyt=void 0,this.Wo=void 0,this.Ch=void 0,this.Rh=void 0,this.eyt=t,this.Wo=n,this.Ch=i;var e=ec(i)||"video/mp4";this.Rh=tc(e)}var i=t.prototype;return i.sh=function(t){var i;return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new mc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new cz(this.Rh,this.Wo,this.eyt,this.Hh,this.Lh),this.syt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,Ve)},i.uh=function(t){return this.Lh=go(t),Ve.resolve(!0)},i.oh=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,Ve)},i.hh=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,Ve)},i.createSession=function(){throw new v("Whoops.")},b(t,[{key:"eh",get:function(){return this.Wo}},{key:"rh",get:function(){return this.Ch}},{key:"sessionId",set:function(t){this.Hh=t}}]),t}(),vz=function(){function t(t,n,i){this.uyt=t,this.Wo=n,this.Ch=i}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new fz(this.uyt,this.Wo,this.Ch));case 1:case"end":return t.stop()}},null,this,null,Ve)},b(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),dz=function(){function t(t){this.uyt=void 0,this.uyt=t}return t.prototype.dr=function(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=nc(lz,nu,t,e))){s.next=6;break}return s.abrupt("return",new vz(this.uyt,t,r));case 6:i++,s.next=1;break;case 9:throw new d("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,Ve)},t}();function lz(t,n){return t===Gr}var _z,wz=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.QV=function(t,n){return!0},n}(yC),gz=function(t){function n(n,i,e){var r;return void 0===e&&(e=new dz(i)),(r=t.call(this)||this).NS=void 0,r.hr=void 0,r.QB=void 0,r.$V=new yR,r.oyt=void 0,r.uyt=void 0,r.hyt=!1,r.Hh=void 0,r.Bh=null,r.ayt={hw:0,aw:0,cw:0,fw:0,vw:0,dw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.cyt=function(t){"boolean"==typeof t.detail.casting&&(r.hyt=t.detail.casting,r.Fr(new Oy(r.hyt)))},r.fyt=function(t){r.Hh=t.sessionId,r.Bh&&(r.Bh.sessionId=r.Hh);var n=t.initData;if(n){var i=SC(n);if(!i)return;r.Fr(new su(Hr,i))}else r.Fr(new su(Hr,new ArrayBuffer(0)))},r.oyt=n,r.uyt=i,r.uyt.Hr(iz.$gt,r.fyt),r.hr=e,r.QB=new wz(Yt(r)),r.vyt(),r}S(n,t);var i=n.prototype;return i.oL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===wk.ob)return i}},i.Sr=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.Gd());case 2:return this.Wr(),this.dyt(),this.uyt.Xr(iz.$gt,this.fyt),t.next=7,Sr.awrap(this.QB.Sr());case 7:case"end":return t.stop()}},null,this,null,Ve)},i.Y_=function(){throw new v("Not implemented yet")},i.nb=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.cE=function(){return!1},i.vE=function(t,n,i,e){throw new v("Not implemented yet")},i.sb=function(t){throw new v("Not implemented yet")},i._E=function(){throw new v("Not implemented yet")},i.Yo=function(t){var n=this;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.$V.yB(function(i){var e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.nr!==wk.ob){r.next=8;break}return Ms(i),e=new uz(t,n,n.hr),n.NS=e,n.QB.Yo(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,Ve)}));case 1:case"end":return i.stop()}},null,this,null,Ve)},i.M_=function(){throw new v("Not implemented yet")},i.L_=function(){throw new v("Not implemented yet")},i.Gd=function(){var t=this;return this.$V.Cr(),this.$V.yB(function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.NS){n.next=4;break}return n.next=3,Sr.awrap(t.NS.Sr());case 3:t.NS=void 0;case 4:return n.next=6,Sr.awrap(t.QB.Gd());case 6:case"end":return n.stop()}},null,null,null,Ve)})},i.ys=function(t,n){throw new v("Not implemented yet")},i.AE=function(t){throw new v("Not implemented yet")},i.Q_=function(){throw new v("Not implemented yet")},i.bE=function(){return this.ayt},i.vyt=function(){this.oyt.addEventListener("airPlayIsCasting",this.cyt)},i.dyt=function(){this.oyt.removeEventListener("airPlayIsCasting",this.cyt)},i.webkitSetMediaKeys=function(t){this.Bh=t||null,this.Bh&&(this.Bh.sessionId=this.Hh)},i.PW=function(){},i.xW=function(){throw new v("Not implemented yet")},i.OW=function(){throw new v("Not implemented yet")},b(n,[{key:"sw",get:function(){throw new v("Not implemented yet")}},{key:"rw",get:function(){throw new v("Not implemented yet")}},{key:"e_",get:function(){throw new v("Not implemented yet")}},{key:"$P",get:function(){throw new v("Not implemented yet")}},{key:"r_",get:function(){throw new v("Not implemented yet")}},{key:"s_",get:function(){throw new v("Not implemented yet")}},{key:"ts",get:function(){throw new v("Not implemented yet")}},{key:"qp",get:function(){throw new v("Not implemented yet")}},{key:"ow",get:function(){return this.hyt}},{key:"o_",get:function(){throw new v("Not implemented yet")}},{key:"h_",get:function(){throw new v("Not implemented yet")}},{key:"a_",get:function(){throw new v("Not implemented yet")}},{key:"_w",get:function(){throw new v("Not implemented yet")}},{key:"kl",get:function(){throw new v("Not implemented yet")}},{key:"gw",get:function(){throw new v("Not implemented yet")}},{key:"c_",get:function(){throw new v("Not implemented yet")}},{key:"MW",get:function(){throw new v("Not implemented yet")}},{key:"d_",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"dg",get:function(){throw new v("Not implemented yet")}},{key:"lE",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Bh}},{key:"UW",get:function(){return PR}},{key:"P_",get:function(){throw new v("Not implemented yet")}},{key:"tB",get:function(){throw new v("Not implemented yet")}},{key:"TE",get:function(){throw new v("Not implemented yet")}},{key:"BW",get:function(){return!0}},{key:"iE",get:function(){return this.QB.iE},set:function(t){this.QB.iE=t}},{key:"ZV",get:function(){return this.QB.ZV}}]),n}(Kw),yz=function(t){function n(n){var i;return(i=t.call(this,Fc.Ha)||this).ayt=n,i}return S(n,t),n}(Ks);function mz(t){switch(t.type){case _z.EX:return t.value;case _z.Wgt:return xw(t.value);case _z.zgt:return lu(t.value);default:return}}function pz(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.EX="daterange-ca-type_string",t.Wgt="daterange-ca-type_number",t.zgt="daterange-ca-type_arraybuffer"}(_z||(_z={}));var kz=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).GT=void 0,u.lyt=void 0,u.GT=n,u.lyt=s,u}return S(n,t),b(n,[{key:"name",get:function(){return this.GT}},{key:"timestamp",get:function(){return this.lyt}}]),n}(mc),Az=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e,r,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return S(n,t),n}(kz),bz=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).GI=0,u.AF=!1,u.DS=void 0,u.CS=void 0,u._yt=void 0,u.YI=!0,u.jI=1,u.E_=void 0,u.I_=void 0,u.ez=void 0,u.sz=void 0,u.uz=void 0,u.R_=void 0,u.ZA=void 0,u.bu=void 0,u.wyt=CT.VI(),u.hF=CT.VI(),u.QI=!1,u.wz=CT.VI(),u.ZI=void 0,u.gyt=void 0,u.yyt=void 0,u.bF=ag.Gl,u.ab=ag.Gl,u.oyt=void 0,u.hz=void 0,u.PS=void 0,u.qgt=void 0,u.Uwt=void 0,u.tR=void 0,u.RS=void 0,u.LS=void 0,u.uyt=void 0,u.ayt={hw:0,aw:0,cw:0,fw:0,vw:0,dw:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.NS=void 0,u.myt=void 0,u.US=new fT,u.setCurrentTime=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.gw.length){n.next=4;break}return u.GI=t,n.next=4,Sr.awrap(u.oyt.Yr("seekablechange"));case 4:u.GI=u.updateCurrentTime(t),u.qgt.FQ("THEOplayerSetCurrentTime",u.GI),u.ZI=!0,u.Fr(new Fg(u.GI));case 8:case"end":return n.stop()}},null,null,null,Ve)},u.pyt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.wyt=new CT(i),u.Fr(new FR(u.e_))}},u.kyt=function(t){u.bF=t.detail.readyState,u.Fr(new zg(+t.detail.currentTime,u.kl)),u.Ayt()},u.byt=function(t){u.bF=t.detail.readyState,u.Fr(new Wg(+t.detail.currentTime,u.kl)),u.Ayt()},u.Tyt=function(t){if(t.detail){var n=+t.detail.duration;u.bu=n,u.Fr(new Pg(u.r_))}},u.Ywt=function(t){t.detail&&(u.AF=!0,u.Fr(new Mg(+t.detail.currentTime)))},u.FS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);pz(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.CS=new Az(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.DS=dy(u.CS),u.Fr(new qg(u.CS))):pz(i)&&(u.CS=new kz(i.name,i.message,void 0,i.code,i.timestamp),u.DS=dy(u.CS),u.Fr(new qg(u.CS)))}},u.jwt=function(t){u.Fr(new HR)},u.Syt=function(t){u.bF=t.detail.readyState,u.Fr(new Ug(+t.detail.currentTime,u.kl)),u.Ayt()},u.Eyt=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.gw.length){n.next=3;break}return n.next=3,Sr.awrap(u.oyt.Yr("seekablechange"));case 3:u.bF=t.detail.readyState,u.Fr(new Og(+t.detail.currentTime,u.kl)),u.Ayt();case 6:case"end":return n.stop()}},null,null,null,Ve)},u.Vwt=function(t){t.detail&&u.YI&&(u.YI=!1,u.Fr(new Ng(+t.detail.currentTime)))},u.zwt=function(t){t.detail&&(u.YI||(u.YI=!0,u.Fr(new Rg(+t.detail.currentTime))))},u.Iyt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.wz=new CT(i)}},u._gt=function(t){t.detail&&u.Fr(new Vk(+t.detail.currentTime))},u.qwt=function(t){t.detail&&(u.jI=t.detail.playbackRate,u.Fr(new Bg(+t.detail.currentTime,u.jI)))},u.Ryt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.hF=new CT(i)}},u.Xwt=function(t){t.detail&&(u.GI=+t.detail.currentTime,u.ZI=!1,u.Fr(new Lg(u.GI,u._yt)),u.Fr(new Hg(u.GI)))},u.Wwt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.bu&&(u.AF=!1),u.ZI=!0,u.Fr(new Fg(n))}},u.Nyt=function(t){t.detail&&(t.detail.currentDate&&(u._yt=new Date(1e3*t.detail.currentDate)),u.GI=+t.detail.currentTime,u.Fr(new Lg(u.GI,u._yt)))},u.Dyt=function(t){u.gyt=t.detail.height,u.yyt=t.detail.width},u.Cyt=function(t){t.detail&&u.Fr(new Hk(+t.detail.currentTime))},u.ugt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.x_.Wd(new Iy(n))},u.xyt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.E_.Yd;s++){var o=u.x_.zd(s);o.cl==e&&o.al==r?i=u.E_.zd(s):1==o.sl&&(n=u.E_.zd(s))}i&&n&&(i.sl=!0,n.sl=!1)},u.hgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.O_.Wd(new xy(n))},u.dQ=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Xp.Mm&&e===Dy.ID3?(n=new tC("",t.detail.label)).yl=Ww.ll:i===Xp.Mm&&e===Dy.DATE_RANGE?(n=new HO,u.myt=n):n=new YN(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.ez.Wd(n),u.hz.Wd(n)},u.Oyt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new $D(xw(e.startTime),s,e.uid),h=u.Pyt();h&&h.eb(o)}},u.Byt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new jy(xw(r.startTime),xw(r.endTime),r.content,!1),o=null!=(e=u.Lyt(Xp.Bm))?e:u.Lyt(Xp.XA);o&&(o.nr=Dy.WEBVTT,o.eb(s))}},u.aW=function(t){t.type===Fc.ha&&(u.DS=dy(t.errorObject)),u.Ur(t)},u.Myt=function(t){t.detail&&(u.ayt.aw=t.detail.corruptedVideoFrames,u.ayt.hw=t.detail.droppedVideoFrames,u.Fr(new yz(u.p_)))},u.Uyt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={ul:t.id};if(void 0!==t.startDate&&(n.TE=new Date(t.startDate)),void 0!==t.endDate&&(n.Vj=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=mz(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.tZ=e}void 0!==t.scte35Cmd&&(n.nZ=lu(t.scte35Cmd)),void 0!==t.scte35In&&(n.eZ=lu(t.scte35In)),void 0!==t.scte35Out&&(n.iZ=lu(t.scte35Out)),void 0!==t.startTime&&(n.Uw=t.startTime),n.Jj=t.class,n.r_=xw(t.duration),n.$j=xw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Uw?t.Uw:(new Date).getTime(),e=new OO(t,i);u.myt.eb(e),u.myt.Zo(n,i)})};var o=r.uid;u.qgt=u.getSdkBridge(o),u.oyt=new rz,$V()[o].sdkEventBus=u.oyt,u.E_=new wy,u.I_=new wy;var h=u.Fyt(e);return u.ZA=new hV(Yt(u),new jD),u.hz=new JD(Yt(u)),u.PS=new ck(u.ZA,h),u.ez=new qp,u.sz=new uC(Yt(u)),u.sz.tl=u.ez,u.uz=new oC(u.ZA,u.sz),u.R_=new lT([u.ez,u.PS.Np,u.uz.Np]),u.uyt=u.getFairPlayControllerBridge(u.qgt),u.RS=new gz(u.oyt,u.uyt),u.LS=new vT(h),u.RS.iE=u.LS,u.observeMediaElement(),u.rE(),u.tR=new sz(u.qgt,s),u.tR.Hr("Px",function(){u.qgt.FQ("THEOplayerSetPreferredForwardBufferDuration",u.tR.Ox)}),u}S(n,t);var i=n.prototype;return i.Z_=function(){return PT},i.Q_=function(){this.qgt.FQ("THEOplayerShow",{})},i.Y_=function(){this.qgt.FQ("THEOplayerHide",{})},i.Hyt=function(){var t=this;this.qgt.FQ("THEOplayerSetInitialPreferredPeakBitRate",this.tR.qx);this.Hr("playing",function n(){t.qgt.FQ("THEOplayerSetInitialPreferredPeakBitRate",0),t.Xr("playing",n)})},i.H_=function(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.Uwt=t,i=Er({},n,{sources:{src:t.src,type:ug.Fl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.qgt.FQ("THEOplayerSourceChange",i),e={nr:wk.ob,Tl:t.src,hf:t.type,sE:this.uE(t),oE:t.crossOrigin,hE:n.metadata&&n.metadata.title},this.LS._S(t.contentProtection),s.next=7,Sr.awrap(this.RS.Yo(e));case 7:this.NS=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Dy.WEBVTT})).length>0&&this.aE(r),_k(this.P_),this.Hyt();case 11:case"end":return s.stop()}},null,this,null,Ve)},i.uE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:jr,mE:[{initDataTypes:[jr.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.L_=function(){this.YI=!1,this.Fr(new Ng(this.e_)),this.qgt.FQ("THEOplayerPlay",{})},i.M_=function(){this.YI=!0,this.Fr(new Rg(this.e_)),this.qgt.FQ("THEOplayerPause",{})},i.j_=function(){},i.Gd=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GI=0,this.AF=!1,this.DS=void 0,this.CS=void 0,this.YI=!0,this.jI=1,this.bu=void 0,this.hF=CT.VI(),this.wyt=CT.VI(),this.gyt=void 0,this.yyt=void 0,this.bF=ag.Gl,this.ab=ag.Gl,this.E_.Gd(),this.I_.Gd(),this.ez.Gd(),this.R_.Gd(),t.next=19,Sr.awrap(this.uz.Gd());case 19:return this.sz.Gd(),t.next=22,Sr.awrap(this.PS.Gd());case 22:return this.ZA.Gd(),this.hz.Gd(),this.Uwt=void 0,t.next=27,Sr.awrap(this.RS.Gd());case 27:case"end":return t.stop()}},null,this,null,Ve)},i.z_=function(){this.qgt.FQ("THEOplayerShowAirPlayPicker",{})},i.W_=function(){this.qgt.FQ("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.p_.aw=t.aw,this.p_.hw=t.hw},i.Jf=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.Gd());case 2:return this.Wr(),this.unobserveMediaElement(),this.gE(),this.RS.iE=void 0,t.next=8,Sr.awrap(this.RS.Sr());case 8:return this.E_.Jf(),this.I_.Jf(),this.ez.Jf(),this.R_.Jf(),this.sz.Jf(),t.next=15,Sr.awrap(this.uz.Jf());case 15:return t.next=17,Sr.awrap(this.PS.Jf());case 17:this.ZA.Jf(),this.hz.Jf();case 19:case"end":return t.stop()}},null,this,null,Ve)},i.aE=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.PS.KA(i)}},i.Ayt=function(){var t=this.ab,n=this.bF;t!==n&&(this.ab=n,this.Fr(new Xg(this.e_,n)))},i.observeMediaElement=function(){this.RS.Hr(Fc.ra,this.Ur),this.RS.Hr([Fc.aa,Fc.ha],this.aW),this.oyt.addEventListener("play",this.Vwt),this.oyt.addEventListener("pause",this.zwt),this.oyt.addEventListener("seeking",this.Wwt),this.oyt.addEventListener("seeked",this.Xwt),this.oyt.addEventListener("ratechange",this.qwt),this.oyt.addEventListener("durationchange",this.Tyt),this.oyt.addEventListener("timeupdate",this.Nyt),this.oyt.addEventListener("waiting",this.Cyt),this.oyt.addEventListener("playing",this._gt),this.oyt.addEventListener("ended",this.Ywt),this.oyt.addEventListener("loadedmetadata",this.Eyt),this.oyt.addEventListener("loadeddata",this.Syt),this.oyt.addEventListener("loadstart",this.jwt),this.oyt.addEventListener("canplay",this.kyt),this.oyt.addEventListener("canplaythrough",this.byt),this.oyt.addEventListener("error",this.FS),this.oyt.addEventListener("seekablechange",this.Ryt),this.oyt.addEventListener("videosizechange",this.Dyt),this.oyt.addEventListener("bufferedchange",this.pyt),this.oyt.addEventListener("playedchange",this.Iyt),this.oyt.addEventListener("metricschange",this.Myt),this.oyt.addEventListener("addDateRangeCues",this.Uyt)},i.unobserveMediaElement=function(){this.RS.Xr(Fc.ra,this.Ur),this.RS.Xr([Fc.aa,Fc.ha],this.aW),this.oyt.removeEventListener("play",this.Vwt),this.oyt.removeEventListener("pause",this.zwt),this.oyt.removeEventListener("seeking",this.Wwt),this.oyt.removeEventListener("seeked",this.Xwt),this.oyt.removeEventListener("ratechange",this.qwt),this.oyt.removeEventListener("durationchange",this.Tyt),this.oyt.removeEventListener("timeupdate",this.Nyt),this.oyt.removeEventListener("waiting",this.Cyt),this.oyt.removeEventListener("playing",this._gt),this.oyt.removeEventListener("ended",this.Ywt),this.oyt.removeEventListener("loadedmetadata",this.Eyt),this.oyt.removeEventListener("loadeddata",this.Syt),this.oyt.removeEventListener("loadstart",this.jwt),this.oyt.removeEventListener("canplay",this.kyt),this.oyt.removeEventListener("canplaythrough",this.byt),this.oyt.removeEventListener("error",this.FS),this.oyt.removeEventListener("seekablechange",this.Ryt),this.oyt.removeEventListener("videosizechange",this.Dyt),this.oyt.removeEventListener("bufferedchange",this.pyt),this.oyt.removeEventListener("playedchange",this.Iyt),this.oyt.removeEventListener("metricschange",this.Myt),this.oyt.removeEventListener("addDateRangeCues",this.Uyt)},i.updateCurrentTime=function(t){var n=this.gw.start(0),i=this.gw.end(0);return _.min(_.max(t,n),i)},i.Pyt=function(){for(var t=0,n=this.R_.Qd;t<n.length;t++){var i=n[t];if(i.hl===Xp.Mm&&i.nr===Dy.ID3)return i}},i.Lyt=function(t){for(var n=0,i=this.R_.Qd;n<i.length;n++){var e=i[n],r=e.yl===Ww._l,s=e.hl===t;if(r&&s)return e}},i.rE=function(){this.oyt.addEventListener("addaudiotrack",this.ugt),this.oyt.addEventListener("enableaudiotrack",this.xyt),this.oyt.addEventListener("addvideotrack",this.hgt),this.oyt.addEventListener("addtexttrack",this.dQ),this.oyt.addEventListener("addtexttrackid3cues",this.Oyt),this.oyt.addEventListener("addtexttrackcues",this.Byt)},i.gE=function(){this.oyt.removeEventListener("addaudiotrack",this.ugt),this.oyt.removeEventListener("enableaudiotrack",this.xyt),this.oyt.removeEventListener("addvideotrack",this.hgt),this.oyt.removeEventListener("addtexttrack",this.dQ),this.oyt.removeEventListener("addtexttrackid3cues",this.Oyt),this.oyt.removeEventListener("addtexttrackcues",this.Byt)},i.ew=function(){},b(n,[{key:"x_",get:function(){return this.E_}},{key:"rw",get:function(){return this.wyt.kE()}},{key:"sw",get:function(){return this._yt?this._yt:null},set:function(t){this.qgt.FQ("THEOplayerSetCurrentProgramDateTime",t.getTime()),this._yt=t}},{key:"e_",get:function(){return this.GI},set:function(t){this.setCurrentTime(t)}},{key:"r_",get:function(){return this.bu}},{key:"s_",get:function(){return this.AF}},{key:"ts",get:function(){return this.DS}},{key:"u_",get:function(){return this.CS}},{key:"B_",get:function(){}},{key:"ow",get:function(){return this.RS.ow}},{key:"p_",get:function(){return this.ayt}},{key:"o_",get:function(){return this.QI},set:function(t){this.QI!==t&&(this.qgt.FQ("THEOplayerSetMuted",t),this.QI=t,this.Fr(new Vg(this.e_,t?0:1)))}},{key:"h_",get:function(){return this.YI}},{key:"a_",get:function(){return this.jI},set:function(t){this.qgt.FQ("THEOplayerSetPlaybackRate",t),this.jI=t}},{key:"_w",get:function(){return this.wz.kE()}},{key:"ww",get:function(){return bT.XE},set:function(t){}},{key:"kl",get:function(){return this.bF}},{key:"gw",get:function(){return this.hF.kE()}},{key:"c_",get:function(){return this.ZI}},{key:"TE",get:function(){}},{key:"P_",get:function(){return this.R_}},{key:"f_",get:function(){return this.gyt}},{key:"v_",get:function(){return this.yyt}},{key:"d_",get:function(){return 1},set:function(t){}},{key:"O_",get:function(){return this.I_}},{key:"SE",get:function(){return this.US}},{key:"yw",get:function(){return!1},set:function(t){}},{key:"lw",get:function(){return!0}}]),n}(Kw),Tz=function(){function t(){this.EE=sT.hS}var n=t.prototype;return n.IE=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(dg(n.type))return!1;var e=n.contentProtection;if(e&&!SA(e)){if(!RA(e))return!1;if(!t.wgt(e))return!1}return!0},t.wgt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.RE=function(){return!1},t}(),Sz=function(){function t(){this.Vyt=r.webkit}return t.prototype.FQ=function(t,n){this.Vyt.messageHandlers[t]&&this.Vyt.messageHandlers[t].postMessage(n)},t}(),Ez=function(t){function n(n){var i;return(i=t.call(this)||this).qgt=void 0,i.oyt=void 0,i.zyt=function(t){var n=lu(t.detail.initData),e=t.detail.sessionId;i.Fr(new oz(n,e))},i.Wyt=function(t){var n=new m(Au(t.detail.message)),e=t.detail.destinationURL;i.Fr(new hz(n,e))},i.Xyt=function(t){i.Fr(new az)},i.qgt=n,i.oyt=new rz,$V().fairplayController={sdkEventBus:i.oyt},i.x$(),i}S(n,t);var i=n.prototype;return i.x$=function(){this.oyt.addEventListener(iz.$gt,this.zyt),this.oyt.addEventListener(iz.Kgt,this.Wyt),this.oyt.addEventListener(iz.tyt,this.Xyt)},i.LV=function(t,n){var i={playerId:tz(),data:bu(n.buffer),sessionId:t};this.qgt.FQ("THEOplayerCreateKeySession",i)},i.Zo=function(t,n){var i={playerId:tz(),data:bu(n.buffer),sessionId:t};this.qgt.FQ("THEOplayerUpdateKey",i)},n}(Kw),Iz=function(t){var n=this;this.oyt=void 0,this.qyt=void 0,this.Gyt=function(){n.qyt.kQ()},this.Qyt=function(){n.qyt.pQ()},this.oyt=new rz,this.qyt=t,this.oyt.addEventListener("showTracks",this.Gyt),this.oyt.addEventListener("hideTracks",this.Qyt),$V().texttracks={sdkEventBus:this.oyt}},Rz=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).EQ=void 0,o.IQ=void 0,o.Yyt=void 0;var h=i.tE(_y.zf);return o.EQ=new OC,o.EQ.LW(n),o.IQ=new Zx(o.EQ.uw,h.$P,o.P_,u,h.lE),o.Yyt=new Iz(o.IQ),i.yE(h),ce.document.querySelector(".vjs-tech")?ce.document.querySelector(".player-div").classList.add("theo-ios-sdk"):ce.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.Q_=function(){t.prototype.Q_.call(this),this.EQ.Q_()},i.Y_=function(){t.prototype.Y_.call(this),this.EQ.Y_()},i.V_=function(){return!0},i.getSdkBridge=function(){return new Sz},i.getFairPlayControllerBridge=function(){return Dz},i.Fyt=function(t){return t},i.Jf=function(){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ce.document.querySelector(".vjs-tech")?ce.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):ce.document.querySelector(".player-div").style.background="#000000",n.next=3,Sr.awrap(t.prototype.Jf.call(this));case 3:this.IQ.Jf(),this.EQ.Jf();case 5:case"end":return n.stop()}},null,this,null,Ve)},n}(bz);kT(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.uT=function(t,n,i,e,r,s){return new Rz(t,n,i,e,r,s)},i.IE=function(n,i){if(n.type){var e=sr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.IE.call(this,n,i)},n}(Tz)));var Nz,Dz=new Ez(new Sz),Cz=function(t){function n(){return t.call(this,"jyt")||this}return S(n,t),n.prototype.yd=function(){return new xz},n}(fw),xz=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(Ks);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(Nz||(Nz={}));var Oz=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Zyt=new Kw,n.Ur=function(t){n.Fr(t)},n}S(n,t);var i=n.prototype;return i.yd=function(){return n=function(t){var n=t.Jyt.map(function(t){return t.gd});return n.item=function(n){n|=0;var i=t.zd(n);return i&&i.gd||void 0},n}(t=this),i=new OI(t,n),n.addEventListener=function(t,n){i.Hr(t,n)},n.removeEventListener=function(t,n){i.Xr(t,n)},n;var t,n,i},i.Hr=function(t,n){this.Zyt.Hr(t,n)},i.zr=function(t){this.Zyt.zr(t)},i.Wr=function(){this.Zyt.Wr()},i.Fr=function(t){this.Zyt.Fr(t)},i.Xr=function(t,n){this.Zyt.Xr(t,n)},i.Gr=function(t){this.Zyt.Gr(t)},i.Qr=function(t){this.Zyt.Qr(t)},i.Yr=function(t,n){return this.Zyt.Yr(t,n)},n}(function(){function t(){this.hs=[],this.wd=void 0}var n=t.prototype;return n.zd=function(t){return this.hs[t]},n.pw=function(t){this.hs.push(t),this.wd&&this.wd.push(t.gd),this.$yt(t)},n.Kyt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.pw(i)}},n.tmt=function(t,n){n>=0&&n<=this.hs.length&&(this.hs.splice(n,0,t),this.wd&&this.wd.splice(n,0,t.gd),this.$yt(t))},n.kw=function(t){return Is(this.hs,t)},n.jo=function(t){this.nmt(this.hs.indexOf(t))},n.nmt=function(t){if(t>=0&&t<this.hs.length){var n=this.hs[t];Es(this.hs,t),this.wd&&Es(this.wd,t),this.imt(n)}},n.ds=function(){var t=this.hs.slice();Rs(this.hs),this.wd&&Rs(this.wd);for(var n=0;n<t.length;n++){var i=t[n];this.imt(i)}},b(t,[{key:"Jyt",get:function(){return this.hs}},{key:"Yd",get:function(){return this.hs.length}},{key:"gd",get:function(){return this.wd||(this.wd=this.yd()),this.wd}}]),t}());var Pz,Bz=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(Ks),Lz=function(t){function n(n){var i;return(i=t.call(this,"rmt")||this).emt=n,i}return S(n,t),n.prototype.yd=function(){return new Bz(this.emt.gd)},n}(fw),Mz=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(Ks),Uz=function(t){function n(n){var i;return(i=t.call(this,"smt")||this).task=n,i}return S(n,t),n.prototype.yd=function(){return new Mz(this.task.gd)},n}(fw),Fz=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.$yt=function(t){this.Fr(new Lz(t))},i.imt=function(t){this.Fr(new Uz(t))},n}(Oz);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(Pz||(Pz={}));var Hz=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).umt=Pz.UNINITIALISED,r.dB=new Fz,r.u7=void 0,r.omt=void 0,r.hmt=void 0,r.hmt=i,r.omt=e,r.u7=n,r.X_(),r}S(n,t);var i=n.prototype;return i.X_=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.amt());case 2:this.cmt(Pz.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,Ve)},i.amt=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Sr.awrap(this.fmt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],Ve)},i.fmt=function(){var t,n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(this.u7.d0());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.hmt.vmt(i.id,i.sourceDescription,i.parameters,this.omt),this.dmt(e),this.dB.pw(e);case 4:case"end":return r.stop()}},null,this,null,Ve)},i.cmt=function(t){this.umt=t,this.Fr(new Cz)},i.vmt=function(t,n,i){void 0===i&&(i="persistent");var e=this.hmt.lmt(t,n,i);return this._mt(e,i),this.dB.pw(e),this.dmt(e),e},i._mt=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Sr.awrap(this.wmt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],Ve)},i.wmt=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.u7.c0({key:t.ul,id:t.ul,sourceDescription:t.FE,parameters:t.lh},n));case 2:case"end":return i.stop()}},null,this,null,Ve)},i.dmt=function(t){var n=this;t.Hr("jyt",function(){t.pf===Nz.EVICTED&&n.dB.jo(t)})},b(n,[{key:"pf",get:function(){return this.umt}},{key:"gmt",get:function(){return this.dB}}]),n}(Js);function Vz(t,n){return function(t,n){var i=t.dg&&n.dg,e=t.qp&&n.qp;return i||e?i&&e?t.dg*t.qp-n.dg*n.qp:i?t.dg-n.dg:e?t.qp-n.qp:(t.dg||1)*(t.qp||1)-(n.dg||1)*(n.qp||1):0}(t,n)||function(t,n){return t.vS-n.vS}(t,n)}var zz=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(Ks),Wz=function(t){function n(){return t.call(this,"BK")||this}return S(n,t),n.prototype.yd=function(){return new zz},n}(fw),Xz=function(){function t(t,n,i){if(this.ymt=void 0,this.mmt=t,this.mw=n,this.pmt=i,0===this.mw.size)this.ymt=CT.VI();else{var e=new CT([-1/0,1/0]);this.mw.forEach(function(t){e=e.wI(t.timeRanges)}),this.ymt=e}}return t.prototype.eg=function(t){return!!Rw(this.mw,t.mw)&&(!!Ft(this.mmt,t.mmt)&&(!!Ft(this.MI,t.MI)&&(!!Ft(this.kmt,t.kmt)&&this.Amt.DI(t.Amt))))},t.bmt=function(){return Gz},b(t,[{key:"MI",get:function(){return this.pmt}},{key:"Tmt",get:function(){return this.mmt}},{key:"kmt",get:function(){return this.Amt.MI}},{key:"Smt",get:function(){var t=0,n=0;return this.mw.forEach(function(i){t+=i.timeRanges.MI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"Amt",get:function(){return this.ymt}}]),t}(),qz=Rr(),Gz=new Xz(0,qz,NaN);function Qz(t,n){if(X(t)){if(ts(t,"%"))return g(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var Yz,jz=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),b(n,[{key:"name",get:function(){return"Emt"}}]),n}(Zt);function Zz(t,n,i,e){var r=[],s=bs(i,function(t){return t.Imt===Mr});if(void 0!==s){var u=s.Qn?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.Qn.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.Imt!==Mr)for(var a=0,c=$r(h.Imt);a<c.length;a++){var f=c[a];r.push({eh:f,gS:h.Rmt?[h.Rmt]:[],LT:void 0})}}if(r.length)return{Eb:t,Nmt:{Dmt:u,Ib:s.Ib},Cmt:r,xmt:n===_y.Vf?e.slice():[],Omt:n===_y.zf?e.slice():[],XV:!1}}}}function Jz(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Rr();return $z(e,r,t.Cmt),$z(e,r,n.Cmt),{Eb:t.Eb,Nmt:{Dmt:t.Nmt.Dmt,Ib:null!=(i=t.Nmt.Ib)?i:n.Nmt.Ib},Cmt:e,xmt:Kz(t.xmt,n.xmt,Is),Omt:Kz(t.Omt,n.Omt,Is),XV:t.XV||n.XV||!1}}function $z(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.eh.sr,u=void 0;n.has(s)?(u=n.get(s)).gS=Kz(u.gS,r.gS,tW):(u=Er({},r),t.push(u),n.set(s,u))}}function Kz(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function tW(t,n){for(var i=0;i<t.length;i++){if(mu(t[i],n))return!0}return!1}function nW(t,n){var i,e=t.Pmt;if(e){for(var r=t.kD,s=[],u=0,o=t.WJ;u<o.length;u++){var h=o[u];s.push(r+'; codecs="'+h+'"')}i=Zz(n||{},t.nr,e,s)}for(var a=0,c=t.Bmt;a<c.length;a++){i=Jz(i,iW(c[a],n))}return i}function iW(t,n){return Zz(n||{},t.nr,t.Pmt||[],[t.hf])}function eW(t,n,i){var e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Lmt;r<s.length;r++)u=s[r],e.push(rW(u,n,i));return h.next=4,Sr.awrap(Ve.all(e));case 4:return o=h.sent,h.abrupt("return",{r_:t.Umt.Mmt(),Fmt:[t.Hmt],Lmt:o});case 6:case"end":return h.stop()}},null,null,null,Ve)}function rW(t,n,i){var e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Vmt;r<s.length;r++)u=s[r],e.push(sW(u,n,i));return h.next=4,Sr.awrap(Ve.all(e));case 4:return o=h.sent,h.abrupt("return",{zmt:o});case 6:case"end":return h.stop()}},null,null,null,Ve)}function sW(t,n,i){var e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Wmt;r<s.length;r++)uW(u=s[r])||e.push(aW(u,n,i));return h.next=4,Sr.awrap(Ve.all(e));case 4:return o=h.sent,h.abrupt("return",{Np:o,nr:t.nr});case 6:case"end":return h.stop()}},null,null,null,Ve)}function uW(t){return t.Bmt.every(hW)}!function(t){t[t.Ul=0]="Ul",t[t.Fl=1]="Fl"}(Yz||(Yz={}));var oW=1;function hW(t){return t.Xmt!==oW&&Boolean(t.Xmt)}function aW(t,n,i){var e,r,s,u,o,h,a,c,f;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.Bmt;r<s.length;r++)hW(u=s[r])||e.push(fW(u,i));return v.next=4,Sr.awrap(Ve.all(e));case 4:return o=v.sent,h=t.WJ[0],a=t.Pmt,c=a?cW(h,a):void 0,f=nW(t,n),v.abrupt("return",{fl:o,cl:t.qmt,nr:t.nr,sE:c,Gmt:f});case 10:case"end":return v.stop()}},null,null,null,Ve)}function cW(t,n){for(var i=[],e=function(t){return t?ts(t,"avc")?ja.VIDEO_H264:ts(t,"hev")||ts(t,"hvc")||ts(t,"hvt")||ts(t,"lhv")||ts(t,"lhe")||ts(t,"lht")?ja.VIDEO_H265:ts(t,"mp4")?ja.VIDEO_MP4:ts(t,"mpeg2")?ja.VIDEO_MPEG2:ts(t,"mpeg")?ja.VIDEO_MPEG:ja.VIDEO_UNKNOWN:ja.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.Imt.split(":").pop(),o=s.Rmt;i.push({mimeType:e,uuid:u,data:o})}return{type:Yz.Ul,schemeType:Ur,schemeDatas:i}}function fW(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Sr.awrap(vW(t,n));case 2:r=u.sent,s={ul:lW(t),DA:r,D9:t.P9,vS:t.vS,ae:t.ae,qp:t.qp,nr:t.nr,dg:t.dg},u.t0=t.nr,u.next=u.t0===_y.Bn?7:u.t0===_y.zf?8:u.t0===_y.Vf?10:12;break;case 7:return u.abrupt("break",13);case 8:return s._K=null!=(i=null==(e=t._K)?void 0:e._g())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.wwt,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,Ve)}function vW(t,n){var i,e,r,s,u,o,h,a;return Sr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Qmt,r=e.Ymt(),s=r;case 4:if(!s){c.next=16;break}if(!t.jmt(s)){c.next=12;break}return c.next=8,Sr.awrap(t.Zmt(s,n,(new Ps).Pr));case 8:for(u=c.sent,o=0;o<u.Yd;o++)i.push(dW(u.Jmt(o),t));c.next=13;break;case 12:i.push(dW(s,t));case 13:s=e.nlt(s),c.next=4;break;case 16:return h=e.$mt(),a=h.Fw-r.Uw,c.abrupt("return",{r_:a,m0:i});case 19:case"end":return c.stop()}},null,null,null,Ve)}function dW(t,n){return{Uw:t.Uw,r_:t.r_,Kmt:n.tpt(t)}}function lW(t){return t.npt.eI+"-"+(""+t.ul)}function _W(t,n){return function(t,n){var i={};for(var e in t){var r=t[e];for(var s in i[e]={},r){var u=[];i[e][s]=[];for(var o=r[s],h=0;h<o.length;h++){var a=o[h],c=wW(a,e,n);u.push(c)}i[e][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e["group-id"]]||(n[e["group-id"]]={nr:e.type,Up:[]}),n[e["group-id"]].Up.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.Up;s<u.length;s++){var o=u[s];i[r.nr]||(i[r.nr]={}),i[r.nr][o.name]||(i[r.nr][o.name]=[]),i[r.nr][o.name].push(o)}return i}(t),n)}function wW(t,n,i){for(var e=t["group-id"],r={uJ:t,z$:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===e&&r.z$.push(u)}return r}var gW,yW="und";function mW(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(n.i7([t],{}));case 2:return i=r.sent,e=new RM,r.abrupt("return",e._p(i.q9,i.Ef,MM(i.Ef)));case 5:case"end":return r.stop()}},null,null,null,Ve)}function pW(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.isMasterPlaylist){i.next=4;break}return i.abrupt("return",kW(t,n));case 4:return i.abrupt("return",(r=void 0,r=DW(e=t),{r_:e.duration,Fmt:[e.uri],Lmt:[{zmt:[{nr:_y.Nf,Np:[{nr:_y.Nf,cl:yW,fl:[{ul:e.uri,DA:r,vS:0,ae:"",qp:0,nr:_y.Nf,dg:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,Ve)}function kW(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=_W(t.media,t.streams),s.next=3,Sr.awrap(TW(i,n));case 3:return e=s.sent,s.next=6,Sr.awrap(bW(t.streams,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{r_:AW(e),Fmt:[t.uri],Lmt:[{zmt:e}]});case 9:case"end":return s.stop()}},null,null,null,Ve)}function AW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].Np;e<r.length;e++){var s=r[e];n=_.max.apply(_,[n].concat(s.fl.map(function(t){return t.DA.r_})))}return n}function bW(t,n){var i,e,r,s,u,o,h,a;return Sr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return h=t[e],c.next=6,Sr.awrap(NW(h.uri,n));case 6:(a=c.sent).vS=h.bandwidth,a.ae=h.codecs,a.qp=null!=(r=null==(s=h.resolution)?void 0:s.height)?r:0,a.dg=null!=(u=null==(o=h.resolution)?void 0:o.width)?u:0,i.push(a);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{nr:_y.Nf,Np:[{cl:yW,nr:_y.Nf,fl:i}]});case 16:case"end":return c.stop()}},null,null,null,Ve)}function TW(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],u.t0=Sr.keys(t);case 2:if((u.t1=u.t0()).done){u.next=11;break}return e=u.t1.value,r=t[e],u.next=7,Sr.awrap(SW(r,e,n));case 7:s=u.sent,i.push(s),u.next=2;break;case 11:return u.abrupt("return",i);case 12:case"end":return u.stop()}},null,null,null,Ve)}function SW(t,n,i){var e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Sr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Sr.awrap(EW(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{nr:IW(n),Np:e});case 12:case"end":return o.stop()}},null,null,null,Ve)}function EW(t,n){var i,e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].uJ,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Sr.awrap(RW(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{cl:e.language||yW,nr:IW(e.type),fl:i});case 13:case"end":return o.stop()}},null,null,null,Ve)}function IW(t){switch(t.toUpperCase()){case"AUDIO":return _y.Vf;case"VIDEO":return _y.zf;case"SUBTITLES":case"CLOSED-CAPTIONS":return _y.Bn;default:return _y.Nf}}function RW(t,n){var i,e,r;return NW((e=(i=t).uJ.uri,r=i.z$.map(function(t){return t.uri}),e||(r.length?r[0]:void 0)),n)}function NW(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=7;break}return r.next=3,Sr.awrap(mW(t,n));case 3:e=r.sent,i=DW(e),r.next=8;break;case 7:i={r_:0,m0:[]};case 8:return r.abrupt("return",{ul:t||"default",ipt:t,DA:i,vS:0,ae:"",qp:0,nr:_y.Nf,dg:0});case 9:case"end":return r.stop()}},null,null,null,Ve)}function DW(t){for(var n=[],i=0,e=t.fragments;i<e.length;i++){var r=e[i];n.push(CW(r))}return{r_:t.duration,m0:n}}function CW(t){return{Uw:t.start,r_:t.duration,Kmt:xW(t.uri)}}function xW(t){return zO(t)?{If:t.hZ,aZ:[t.aZ.eI,t.aZ.sI],Yf:!1}:{If:t.toString(),Yf:!1}}!function(t){t.ob="static",t.hb="dynamic"}(gW||(gW={}));var OW,PW=31536e3,BW=2592e3,LW=86400,MW=3600,UW=60,FW=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,HW=function(){function t(t){this.ept=void 0;var n=t.match(FW);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.ept=i*PW+e*BW+r*LW+s*MW+u*UW+o}var n=t.prototype;return n.Mmt=function(){return this.ept},n.rpt=function(){return 1e3*this.ept},b(t,[{key:"g2",get:function(){return dm.Ay(this.ept,1e3)}}]),t}();!function(t){t.spt="progressive",t.upt="interlaced",t.Nf="unknown"}(OW||(OW={}));var VW=function(){function t(t,n){this.hpt=t,this.apt=n}return t.prototype._g=function(){return this.hpt/this.apt},t}(),zW=/^(?:true|false)$/i,WW=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function XW(t){if(void 0!==t)return new HW(t)}function qW(t){if(void 0!==t){var n=t.match(WW);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(e),w=Number(r)-1,g=Number(s),m=Number(u),p=Number(o),k=Number(h),A=Number("0."+(a||"")),b=_.round(1e3*A);if(c)p-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,w,g,m,p,k,b));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function GW(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[YW(n[1]),YW(n[2])]}}function QW(t){if(void 0!==t){if(!y(Number(t)))try{return Ot.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function YW(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function jW(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!y(i)&&!y(e))return new VW(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function ZW(t){if(void 0!==t){if(zW.test(t))return"true"===t.toLowerCase();if(!y(w(t)))return Boolean(w(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function JW(t){return{If:t.ci,cpt:ZW(t.ei("availabilityTimeComplete")),fpt:YW(t.ei("availabilityTimeOffset"))}}function $W(t){return t.map(JW)}function KW(t){var n,i,e,r,s,u,o=cX(t),h=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).ri(e,i))&&(s=n.ei(r+":"+i)),s),a=Ip(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Au(a.ci)),!u){var c=Ip(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=lu(t.ci),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new m(s),o=new DataView(s),h=new po;qu(o,h,r),qu(o,h,1886614376),qu(o,h,0),Fu(o,h,i),qu(o,h,e),Fu(o,h,n),0;return u.buffer}(c))}return{Ib:h,Rmt:u,Imt:o.Imt,Qn:o.Qn}}function tX(t){return{vpt:t.ei("sourceURL"),aZ:GW(t.ei("range"))}}function nX(t,n){var i=t.ei("d"),e=t.ei("t"),r=YW(t.ei("r"));n.push({r_:i,Uw:e,dpt:r})}function iX(t){return{S5:t.ei("index"),lpt:GW(t.ei("indexRange")),Up:t.ei("media"),_pt:GW(t.ei("mediaRange"))}}function eX(t){var n,i;return Er({},uX(t),{wpt:(n=t.Zn("SegmentURL"),(i=n.map(iX)).length>0?i:void 0),gpt:t.ei("xlink:href"),ypt:t.ei("xlink:actuate")})}function rX(t){var n=t.map(eX);return n.length>0?n:void 0}function sX(t){var n=ZW(t.ei("availabilityTimeComplete")),i=YW(t.ei("availabilityTimeOffset")),e=GW(t.ei("indexRange")),r=ZW(t.ei("indexRangeExact")),s=t.Zn("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.$n+" element can not have more than one Initialization element.");var u=1===s.length?tX(s[0]):void 0,o=QW(t.ei("presentationTimeOffset")),h=t.Zn("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.$n+" element can not have more than one RepresentationIndex element.");return{cpt:n,fpt:i,lpt:e,mpt:r,ppt:u,kpt:o,Apt:1===h.length?tX(h[0]):void 0,bpt:XW(t.ei("timeShiftBufferDepth")),hy:YW(t.ei("timescale"))}}function uX(t){var n=sX(t),i=t.Zn("BitstreamSwitching"),e=i.length>0?tX(i[0]):void 0,r=YW(t.ei("duration")),s=t.Zn("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.$n+" element can not have more than one SegmentTimeline element.");return Er({},n,{Tpt:e,r_:r,Qmt:1===s.length?function(t){for(var n=[],i=t.Zn("S"),e=0;e<i.length;e++)nX(i[e],n);return n}(s[0]):void 0,Spt:YW(t.ei("startNumber")),Ept:YW(t.ei("endNumber"))})}function oX(t){return Er({},uX(t),{Ipt:t.ei("bitstreamSwitching"),Rpt:t.ei("index"),Npt:t.ei("initialization"),Dpt:t.ei("media")})}function hX(t){return{wwt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(YW)):1===n.length?n.map(YW)[0]:void 0}}(t.ei("audioSamplingRate")),WJ:t.ei("codecs"),Cpt:ZW(t.ei("codingDependency")),Pmt:function(t){if(0!==t.length)return t.map(KW)}(t.Zn("ContentProtection")),xpt:t.Zn("EssentialProperty").map(fX),_K:jW(t.ei("frameRate")),qp:YW(t.ei("height")),Xmt:YW(t.ei("maxPlayoutRate")),Opt:YW(t.ei("maximumSAPPeriod")),kD:t.ei("mimeType"),Ppt:t.ei("profiles"),Bpt:t.ei("sar"),Lpt:function(t){switch(t){case OW.spt:case OW.upt:case OW.Nf:return t;default:return}}(t.ei("scanType")),Mpt:t.ei("segmentProfiles"),Upt:YW(t.ei("startWithSAP")),dg:YW(t.ei("width"))}}function aX(t){var n=hX(t),i=YW(t.ei("bandwidth")),e=$W(t.Zn("BaseURL")),r=t.ei("dependencyId"),s=t.ei("id"),u=t.ei("mediaStreamStructureId"),o=YW(t.ei("qualityRanking")),h=t.Zn("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?sX(h[0]):void 0,c=rX(t.Zn("SegmentList")),f=t.Zn("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Er({},n,{vS:i,Fpt:e,Hpt:r,ul:s,Vpt:u,zpt:o,Wpt:a,Xpt:c,qpt:1===f.length?oX(f[0]):void 0})}function cX(t){return{Imt:t.ei("schemeIdUri"),Qn:t.ei("value")}}function fX(t){return cX(t)}function vX(t){return cX(t)}function dX(t){return cX(t)}function lX(t){var n,i=hX(t),e=function(t){return t.map(dX)}(t.Zn("Accessibility")),r=$W(t.Zn("BaseURL")),s=ZW(t.ei("bitstreamSwitching")),u=t.ei("contentType"),o=YW(t.ei("group")),h=YW(t.ei("id")),a=(null==(n=t.Zn("Label")[0])?void 0:n.ci)||"",c=t.ei("lang"),f=YW(t.ei("maxBandwidth")),d=jW(t.ei("maxFrameRate")),l=YW(t.ei("maxHeight")),_=YW(t.ei("maxWidth")),w=YW(t.ei("minBandwidth")),g=jW(t.ei("minFrameRate")),y=YW(t.ei("minHeight")),m=YW(t.ei("minWidth")),p=t.ei("par"),k=t.Zn("Representation").map(aX);if(0===k.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var A=function(t){return t.map(vX)}(t.Zn("Role")),b=ZW(t.ei("segmentAlignment"))||!1,T=t.Zn("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?sX(T[0]):void 0,E=rX(t.Zn("SegmentList")),I=t.Zn("SegmentTemplate");if(I.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var R=1===I.length?oX(I[0]):void 0,N=YW(t.ei("selectionPriority"));return Er({},i,{Gpt:e,Fpt:r,Tpt:s,hf:u,Qpt:o,ul:h,al:a,cl:c,Ypt:f,jpt:d,Zpt:l,Jpt:_,$pt:w,Kpt:g,tkt:y,nkt:m,ikt:p,Bmt:k,ekt:A,rkt:b,Wpt:S,Xpt:E,qpt:R,EE:N||1,skt:ZW(t.ei("subsegmentAlignment"))||!1,ukt:YW(t.ei("subsegmentStartsWithSAP")),okt:t.ei("xlink:actuate")||"onRequest",hkt:t.ei("xlink:href")})}function _X(t){var n=QW(t.ei("presentationTime"))||Ot.ZERO,i=QW(t.ei("duration")),e=YW(t.ei("id")),r=function(t){for(var n=t.ai,i={},e=0;e<n.length;e++)i[n[e].Xn]=n[e].Qn;return i}(t),s=t.ci;return{vA:n,r_:i,ul:e,ai:r,fi:""!==s.trim()?s:t.ei("messageData")||""}}function wX(t){return{hkt:t.ei("xlink:href"),okt:t.ei("xlink:actuate"),Imt:t.ei("schemeIdUri"),Qn:t.ei("value"),hy:YW(t.ei("timescale")),kpt:QW(t.ei("presentationTimeOffset")),bD:t.Zn("Event").map(_X)}}function gX(t,n){var i=t.Zn("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?cX(i[0]):void 0,r=t.Zn("AdaptationSet").map(lX),s=$W(t.Zn("BaseURL")),u=ZW(t.ei("bitstreamSwitching")),o=XW(t.ei("duration")),h=t.Zn("EventStream").map(wX),a=t.ei("id"),c=n&&XW(n.ei("start")),f=t.Zn("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?sX(f[0]):void 0,l=rX(t.Zn("SegmentBase")),_=t.Zn("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var w=1===_.length?oX(_[0]):void 0,g=XW(t.ei("start")),y=(t.Zn("Subset"),t.ei("xlink:href"));return{Wmt:r,akt:e,Fpt:s,Tpt:u,r_:o,ckt:h,ul:a,fkt:c,Wpt:d,Xpt:l,qpt:w,eI:g,okt:t.ei("xlink:actuate"),hkt:y}}function yX(t){var n=t.ei("schemeIdUri");if(n)return{Imt:n,Qn:t.ei("value")}}function mX(t,n){var i=qW(t.ei("availabilityEndTime")),e=qW(t.ei("availabilityStartTime")),r=$W(t.Zn("BaseURL")),s=t.ei("id"),u=t.Zn("Location").map(function(t){return""+t.ci}),o=XW(t.ei("maxSegmentDuration")),h=XW(t.ei("maxSubsegmentDuration")),a=XW(t.ei("mediaPresentationDuration")),c=(t.Zn("Metrics"),XW(t.ei("minBufferTime")));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=XW(t.ei("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(gX(t[i],t[i+1]));return n}(t.Zn("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.ei("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{vkt:i,dkt:e,Fpt:r,ul:s,lkt:u,_kt:n,wkt:o,gkt:h,Umt:a,ykt:c,mkt:f,Lmt:d,Ppt:l,pkt:qW(t.ei("publishTime")),kkt:XW(t.ei("suggestedPresentationDelay")),bpt:XW(t.ei("timeShiftBufferDepth")),nr:function(t){switch(t){case gW.ob:case gW.hb:return t;default:return}}(t.ei("type")),Akt:function(t){for(var n=[],i=0;i<t.length;i++){var e=yX(t[i]);e&&n.push(e)}return n}(t.Zn("UTCTiming"))}}var pX,kX=function(){function t(){}return t.prototype.Ogt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return mX(t,n)}(i.Fn(t).vi,n)},t}(),AX=0,bX=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).ol=void 0,u.bw=void 0,u.bkt=void 0,u.ul=n,u.vS=i,u.WJ=e,u.hZ=s,u.ol=AX++,u.bw=r||"",u.bkt=!0,u}return S(n,t),n.prototype.zA=function(){this.bkt=!1,this.Fr(new jH(this.gd))},b(n,[{key:"al",get:function(){return this.bw},set:function(t){this.bw!==t&&(this.bw=t,this.Fr(new jH(this.gd)))}},{key:"qJ",get:function(){}},{key:"PY",get:function(){return this.bkt}}]),n}(Js),TX=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,e,r,s)||this).wd=void 0,c._K=u,c.dg=o,c.qp=h,c._wt=a,c}return S(n,t),b(n,[{key:"gd",get:function(){return this.wd||(this.wd=ZH(this)),this.wd}}]),n}(bX),SX=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).wd=void 0,o.wwt=u,o}return S(n,t),b(n,[{key:"gd",get:function(){return this.wd||(this.wd=JH(this)),this.wd}}]),n}(bX);!function(t){t.Tkt="Skt",t.Ekt="Ikt"}(pX||(pX={}));var EX=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Rkt=function(t){n.Fr(t)},n}return S(n,t),b(n,[{key:"Nkt",get:function(){var t=this.Dkt();return null==t?void 0:t.eI}},{key:"Ckt",get:function(){var t=this.Dkt();return null==t?void 0:t.sI}}]),n}(Js);function IX(t){return Y(t.xkt)}var RX=function(t){function n(n,i){var e;if((e=t.call(this)||this).Okt=void 0,e.wd=void 0,e.Pkt=void 0,e.Bkt=void 0,e.Lkt=void 0,e.Okt=n,e.Pkt=i,e.Pkt.Hr(pX.Tkt,e.Rkt),e.nr===_y.zf){var r,s,u=null!=(r=null==(s=e._K)?void 0:s._g())?r:NaN;e.Bkt=new TX(e.ul,e.vS,e.ae,"","",u,e.dg,e.qp)}else e.nr===_y.Vf?e.Bkt=new SX(e.ul,e.vS,e.ae,"","",e.wwt):e.Bkt=void 0;return e}S(n,t);var i=n.prototype;return i.tpt=function(t){var n=IX(t)?this.Pkt.Mkt(t):this.Pkt.tpt(t);return{If:n.If,aZ:n.aZ,Yf:this.Ukt.Yf}},i.Fkt=function(){return this.Pkt.Fkt()},i.Dkt=function(){return this.Pkt.Dkt()},i.Hkt=function(){return this.Pkt.Hkt()},i.jmt=function(t){return this.Pkt.jmt(t)},i.Zmt=function(t,n,i){return this.Pkt.Zmt(t,this.Ukt.Yf,n,i)},i.Vkt=function(t){return IX(t)?this.Qmt.zkt(t):this.Qmt.Vkt(t)},i.v8=function(t){return IX(t)?this.Qmt.Wkt(t):this.Qmt.v8(t)},i.Jf=function(){this.Pkt.Xr(pX.Tkt,this.Rkt)},b(n,[{key:"Xkt",get:function(){return this.Okt}},{key:"wwt",get:function(){var t;return null!=(t=this.Pkt.fi.wwt)?t:this.Xkt.wwt}},{key:"vS",get:function(){return this.Pkt.fi.vS||0}},{key:"WJ",get:function(){var t=this.Pkt.fi;return t.WJ?[t.WJ]:this.Xkt.WJ}},{key:"qkt",get:function(){var t=this.Pkt.fi;return t.WJ?[t.WJ]:[]}},{key:"ae",get:function(){return this.Pkt.fi.WJ||this.Xkt.ae}},{key:"Cpt",get:function(){return this.Pkt.fi.Cpt||this.Xkt.Cpt}},{key:"Pmt",get:function(){return this.Pkt.fi.Pmt||this.Xkt.Pmt}},{key:"hf",get:function(){return this.kD+'; codecs="'+this.ae+'"'}},{key:"xpt",get:function(){var t=this.Pkt.fi;return t.xpt.length?t.xpt:this.Xkt.xpt}},{key:"gd",get:function(){return this.wd||(this.wd=(t=this,{get id(){return t.ul},get type(){return t.nr},get bandwidth(){return t.vS},get width(){return t.dg},get height(){return t.qp},get frameRate(){var n,i;return null!=(n=null==(i=t._K)?void 0:i._g())?n:NaN},get audioSamplingRate(){return t.wwt}}));var t}},{key:"_K",get:function(){var t;return null!=(t=this.Pkt.fi._K)?t:this.Xkt._K}},{key:"qp",get:function(){return this.Pkt.fi.qp||this.Xkt.qp}},{key:"ul",get:function(){return this.Pkt.fi.ul||""}},{key:"o6",get:function(){return this.Lkt},set:function(t){this.Lkt=t}},{key:"P9",get:function(){var t=this.Pkt.Gkt();if(t)return{If:t.If,aZ:t.aZ,Yf:this.Ukt.Yf}}},{key:"Xmt",get:function(){return this.Pkt.fi.Xmt||this.Xkt.Xmt||1}},{key:"Opt",get:function(){return this.Pkt.fi.Opt||this.Xkt.Opt}},{key:"Ukt",get:function(){return this.npt.Ukt}},{key:"kD",get:function(){return this.Pkt.fi.kD||this.Xkt.kD}},{key:"npt",get:function(){return this.Xkt.npt}},{key:"Ppt",get:function(){return this.Pkt.fi.Ppt||this.Xkt.Ppt}},{key:"vwt",get:function(){return this.Bkt}},{key:"Bpt",get:function(){return this.Pkt.fi.Bpt||this.Xkt.Bpt}},{key:"Lpt",get:function(){return this.Pkt.fi.Lpt||this.Xkt.Lpt}},{key:"Qkt",get:function(){return this.Pkt.Qkt}},{key:"Mpt",get:function(){return this.Pkt.fi.Mpt||this.Xkt.Mpt}},{key:"Qmt",get:function(){return this.Pkt.Qmt}},{key:"Upt",get:function(){return this.Pkt.fi.Upt||this.Xkt.Upt}},{key:"nr",get:function(){var t=this.kD.split("/")[0];return"application"===t||"text"===t||nk(this.kD,this.WJ)?_y.Bn:"video"===t?_y.zf:"audio"===t?_y.Vf:"image"===t?_y.Wf:_y.Nf}},{key:"dg",get:function(){return this.Pkt.fi.dg||this.Xkt.dg}}]),n}(EX),NX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ykt=[],e.Pkt=void 0,e.jkt=void 0,e.Zkt=[],e.jkt=n,e.Pkt=i,e.Pkt.Hr(pX.Tkt,e.Rkt),e}S(n,t);var i=n.prototype;return i.Zo=function(t,n){var i,e=this;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.Zkt.length){r.next=6;break}return this.Zkt=[],i=this.Pkt.Bmt.map(function(i){return e.Jkt(i,t,n)}),r.next=5,Sr.awrap(Ve.all(i));case 5:this.Zkt=r.sent.filter(F);case 6:this.$kt();case 7:case"end":return r.stop()}},null,this,null,Ve)},i.Jkt=function(t,n,i){var e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new RX(this,t),s.next=3,Sr.awrap(n(e));case 3:if(r=s.sent,Ms(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,Ve)},i.$kt=function(){if(!this.Zkt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Dkt=function(){return this.Pkt.Dkt()},i.Hkt=function(){return this.Pkt.Hkt()},i.Jf=function(){this.Pkt.Xr(pX.Tkt,this.Rkt);for(var t=0,n=this.Zkt;t<n.length;t++){n[t].Jf()}Rs(this.Zkt)},b(n,[{key:"Gpt",get:function(){return this.Pkt.fi.Gpt}},{key:"wwt",get:function(){var t;return null!=(t=this.Pkt.fi.wwt)?t:-1}},{key:"WJ",get:function(){if(this.Pkt.fi.WJ)return[this.Pkt.fi.WJ];for(var t=[],n=0,i=this.Bmt;n<i.length;n++){var e=i[n];e.qkt.length&&-1===t.indexOf(e.ae)&&t.push(e.ae)}return t}},{key:"ae",get:function(){return this.WJ.join()}},{key:"Cpt",get:function(){return this.Pkt.fi.Cpt}},{key:"Pmt",get:function(){return this.Pkt.fi.Pmt}},{key:"hf",get:function(){return this.kD+'; codecs="'+this.ae+'"'}},{key:"xpt",get:function(){return this.Ykt}},{key:"_K",get:function(){return this.Pkt.fi._K}},{key:"Qpt",get:function(){return this.Pkt.fi.Qpt}},{key:"qp",get:function(){return this.Pkt.fi.qp||0}},{key:"ul",get:function(){return this.Pkt.fi.ul}},{key:"al",get:function(){return this.Pkt.fi.al||""}},{key:"Xmt",get:function(){return this.Pkt.fi.Xmt}},{key:"Opt",get:function(){return this.Pkt.fi.Opt}},{key:"Ukt",get:function(){return this.npt.Ukt}},{key:"kD",get:function(){return this.Pkt.fi.kD||this.Zkt[0].kD}},{key:"npt",get:function(){return this.jkt}},{key:"Ppt",get:function(){return this.Pkt.fi.Ppt}},{key:"Bmt",get:function(){return this.Zkt}},{key:"ekt",get:function(){return this.Pkt.fi.ekt||[]}},{key:"Bpt",get:function(){return this.Pkt.fi.Bpt}},{key:"Lpt",get:function(){return this.Pkt.fi.Lpt}},{key:"Mpt",get:function(){return this.Pkt.fi.Mpt}},{key:"EE",get:function(){return this.Pkt.fi.EE}},{key:"Upt",get:function(){return this.Pkt.fi.Upt}},{key:"nr",get:function(){var t=(this.Pkt.fi.hf||this.kD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||nk(this.kD,this.WJ)?_y.Bn:"video"===t?_y.zf:"audio"===t?_y.Vf:"image"===t?_y.Wf:_y.Nf}},{key:"dg",get:function(){return this.Pkt.fi.dg||0}},{key:"qmt",get:function(){return this.Pkt.fi.cl||""}},{key:"Kkt",get:function(){return this.Nkt}},{key:"tAt",get:function(){var t=this.Kkt,n=this.Ckt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.Ukt.nAt);return _.max(t,i)}}}]),n}(EX);function DX(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Ce(o,s))}return e}var CX=function(){function t(t,n){this.jkt=void 0,this.iAt=void 0,this.Au=void 0,this.eAt=void 0,this.rAt=void 0,this.jkt=t,this.iAt=n,this.Au=n.hy,this.eAt=n.fpt,this.rAt=n.kpt}var n=t.prototype;return n.sAt=function(t){var n=t-this.jkt.eI;if(!(n<0||n>=this.jkt.r_)){var i=this.uAt();return void 0!==i&&Lt(i,n,1e-5)?this.Ymt():this.oAt(n)}},n.hAt=function(t){var n=t-this.jkt.eI;if(!(n<0))return this.aAt(_.min(n,this.jkt.r_))},n.Ymt=function(){return this.cAt(0)},n.$mt=function(){var t=this.jkt.r_;if(isFinite(t))return this.aAt(t)},n.Fkt=function(t){if(this.jkt.fAt.nr===gW.hb){var n=this.vAt(t);if(!n)return;return{dAt:t,lAt:this._At(t),wAt:n}}var i=this.Ymt();if(i)return{dAt:t,lAt:i,wAt:this.$mt()}},n.Hkt=function(t,n){if(n){var i=this.gAt(n.lAt),e=this.nlt(n.wAt);if(e){var r=this.yAt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Ymt();if(s){var u=this.yAt(s);if(t.getTime()<u.getTime())return u}var o=this.jkt.fAt.dkt;return t.getTime()<o.getTime()?o:void 0},n.vAt=function(t){var n=(t.getTime()-this.jkt.fAt.dkt.getTime())/1e3-this.jkt.eI+this.eAt,i=this.aAt(Bt(n,0,this.jkt.r_));if(i&&(i=this.mAt(i,t))){for(var e=this.nlt(i);e&&this.pAt(e,t);)i=e,e=this.nlt(i);return i}},n._At=function(t){var n,i=this.iAt.bpt;if(i){var e=(t.getTime()-this.jkt.fAt.dkt.getTime())/1e3-this.jkt.eI-i.Mmt();(n=this.aAt(Bt(e,0,this.jkt.r_)))||(n=this.Ymt())}else n=this.Ymt();if(n&&(n=this.mAt(n,t))){for(var r=this.kAt(n);r&&this.pAt(r,t);)n=r,r=this.kAt(n);return n}},n.mAt=function(t,n){for(var i=t;i&&this.yAt(i).getTime()>n.getTime();)i=this.kAt(i);if(i){var e=this.gAt(i);if(e&&e.getTime()<=n.getTime()){var r=this.kAt(i);for(r&&this.pAt(r,n)&&(i=r);i;){if(this.yAt(i).getTime()>n.getTime())return;if(this.pAt(i,n))break;i=this.nlt(i)}if(!i)return}return i}},n.pAt=function(t,n){if(this.yAt(t).getTime()>n.getTime())return!1;var i=this.gAt(t);return!(i&&n.getTime()>=i.getTime())},n.AAt=function(t,n){if(this.bAt(t).getTime()>n.getTime())return!1;var i=this.gAt(t);return!(i&&n.getTime()>=i.getTime())},n.TAt=function(t,n,i){var e=qt(n,this.Au)+this.jkt.eI;return{S5:t,SAt:n,Uw:e,r_:i,Fw:e+i}},n.bAt=function(t){return this.jkt.fAt.nr===gW.hb?new Date(this.jkt.fAt.dkt.getTime()+1e3*(t.Uw+t.r_)):this.jkt.fAt.dkt},n.yAt=function(t){var n=this.bAt(t);return this.jkt.fAt.nr===gW.hb?new Date(n.getTime()-1e3*this.eAt):n},n.gAt=function(t){var n=1/0;if(this.jkt.fAt.nr===gW.hb){var i=this.iAt.bpt;i&&(n=this.bAt(t).getTime()+1e3*t.r_+i.rpt())}var e=this.jkt.fAt.vkt;return e&&(n=_.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.EAt=function(t,n){return t.S5+n},n.jmt=function(t){return!1},n.Zmt=function(t,n,i,e,r){var s=this.IAt(t);if(!s)return Ve.reject(new v("Invalid segment"));var u=this.RAt(s.S5);return u?Ve.resolve(u):this.NAt(s.S5,n,i,e,r)},n.RAt=function(t){},n.NAt=function(t,n,i,e,r){return Ve.reject(new v("Not supported"))},n.kAt=function(t){var n=this.IAt(t);if(n)return this.cAt(n.S5-1)},n.nlt=function(t){var n=this.IAt(t);if(n)return this.cAt(n.S5+1)},n.IAt=function(t){var n=this.cAt(t.S5);if(n&&n.Uw===t.Uw)return n;var i=this.sAt(t.Uw);return i&&i.Uw===t.Uw?i:void 0},n.DAt=function(t){var n=this.CAt(t);if(n&&this.jmt(n.S5)){var i=this.RAt(n.S5);if(i)return i.DAt(t)}},n.CAt=function(t){return this.cAt(t.xAt)},n.Vkt=function(t){var n=this.IAt(t);return!!n&&0===n.S5},n.zkt=function(t){var n=this.DAt(t);return!!n&&0===n.xkt},n.v8=function(t){var n=this.IAt(t);if(!n)return!1;var i=this.$mt();return!!i&&n.S5===i.S5},n.Wkt=function(t){var n=this.DAt(t);if(!n)return!1;var i=this.$mt();if(!i||n.xAt!==i.S5)return!1;var e=this.RAt(n.xAt);return n.xkt+1===e.Yd},b(t,[{key:"zy",get:function(){return qt(this.rAt,this.Au)-this.jkt.eI}},{key:"kpt",get:function(){return qt(this.rAt,this.Au)}}]),t}(),xX=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).OAt=void 0,e.PAt=void 0;var r=n.BAt,s=n.r_;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.PAt=r,e.OAt=s,e}S(n,t);var i=n.prototype;return i.cAt=function(t){if(!(t<0)){var n=this.PAt.multiply(t),i=qt(n,this.Au),e=this.jkt.r_;if(!(i>=e)){var r=this.LAt();if(void 0!==r){if(t>r)return;if(t===r)return this.TAt(t,n,e-i)}return isFinite(e)&&i+this.OAt>e?this.TAt(t,n,e-i):this.TAt(t,n,this.OAt)}}},i.uAt=function(){return 0},i.oAt=function(t){var n=_.floor(t/this.OAt),i=this.LAt();return void 0!==i&&n>=i?this.cAt(i):this.cAt(n)},i.aAt=function(t){if(t>=this.jkt.r_){var n=_.ceil(this.jkt.r_/this.OAt)-1,i=this.LAt();return void 0!==i&&n>=i?this.cAt(i):this.cAt(n)}return this.oAt(t)},i.LAt=function(){var t,n=this.iAt.Ept;if(void 0!==n)return n-(null!=(t=this.iAt.Spt)?t:1);if(isFinite(this.jkt.r_)){var i=this.iAt.MAt;if(void 0!==i&&i>0)return i-1}},i.UAt=function(){if(isFinite(this.jkt.r_))return this.$mt()},i.FAt=function(t,n){return this.PAt.multiply(t.S5+(n-1))},i.Zo=function(){},n}(CX);function OX(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].Uw,u=t[r].Fw;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),h=t[o],a=h.Uw,c=o+1<i?t[o+1].Uw:h.Fw;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(a))return o;r=o-1,u=a}}return-1}var PX=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).HAt=[],e.VAt=void 0,e.zAt=Ot.ZERO,e.Zo(),e}S(n,t);var i=n.prototype;return i.cAt=function(t){if(!(t<0))return t<this.HAt.length?this.HAt[t].jdt:this.WAt(t-this.HAt.length)},i.uAt=function(){if(this.HAt.length>0)return qt(this.HAt[0].Uw,this.Au)},i.oAt=function(t){if(this.VAt&&qt(this.VAt.Uw,this.Au)<=t){var n=qt(this.VAt.Uw,this.Au),i=qt(this.VAt.r_,this.Au),e=_.floor((t-n)/i);return this.WAt(e)}if(this.HAt.length>0&&Lt(t,qt(this.HAt[0].Uw,this.Au),1e-5))return this.HAt[0].jdt;var r=OX(this.HAt,Ot.fromNumber(t*this.Au));return r<0?void 0:this.HAt[r].jdt},i.aAt=function(t){if(!this.VAt&&this.HAt.length>0){var n=this.HAt[this.HAt.length-1];if(i=t,e=qt(n.Fw,this.Au),ks(i,e,1e-5)>=0)return n.jdt}var i,e,r=this.uAt();return r&&t<r?this.HAt[0].jdt:this.oAt(t)},i.UAt=function(){return isFinite(this.jkt.r_)?this.$mt():this.cAt(this.HAt.length-1)},i.FAt=function(t){return this.XAt(t)},i.WAt=function(t){if(this.VAt){var n=this.VAt.Uw,i=this.VAt.r_,e=n.add(i.multiply(t)),r=qt(e,this.Au),s=this.jkt.r_;if(!(r>=s)){var u=this.HAt.length+t,o=_.min(qt(i,this.Au),r+s);return this.TAt(u,e,o)}}},i.XAt=function(t){return t.SAt.add(this.rAt)},i.Zo=function(){var t=this.iAt.fi.Qmt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.qAt(t)},i.qAt=function(t){var n=this.rAt;this.GAt(t,n);var i=this.QAt(t);this.YAt(t,n,i.jAt,i.xAt)},i.GAt=function(t,n){var i=this.HAt;if(0===t.length)Rs(i);else{for(var e=t[0],r=e.Uw?Ot.fromString(e.Uw,!1).subtract(n):Ot.ZERO,s=0;s<i.length&&i[s].Uw.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.QAt=function(t){for(var n=this.HAt,i=this.zAt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].dpt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].Uw.greaterThanOrEqual(i))break;if(n[r].jdt.S5===r)r=u+1;else for(;r<=u;)n[r].jdt.S5=r,r++;0,e++}return{jAt:e,xAt:r}},i.YAt=function(t,n,i,e){for(var r,s=this.HAt,u=i,o=e;u<t.length;){var h=t[u],a=Ot.fromString(h.r_,!1),c=h.dpt||0,f=void 0;if(h.Uw){if(f=Ot.fromString(h.Uw,!1).subtract(n),o>0){var v=s[o-1];v.Fw.greaterThan(f)&&(v.r_=f.subtract(v.Uw),v.Fw=v.Uw.add(v.r_))}}else f=o>0?s[o-1].Fw:Ot.ZERO;if(c<0){if(u+1===t.length){r={Uw:f,r_:a};break}for(var d=Ot.fromString(t[u+1].Uw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.ZAt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var w=f.add(a);this.ZAt(s,o,f,a,w),f=w,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.zAt=s[s.length-1].Uw),this.VAt=r},i.ZAt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.r_.equals(e)?s.jdt.S5=n:t[n]={Uw:i,r_:e,Fw:r,jdt:this.TAt(n,i,qt(e,this.Au))}}else t.push({Uw:i,r_:e,Fw:r,jdt:this.TAt(n,i,qt(e,this.Au))})},n}(CX),BX=function(){function t(t,n,i){this.npt=void 0,this.JAt=void 0,this._i=void 0,this.$At=void 0,this.KAt=void 0,this.npt=t,this.JAt=n,this._i=i}var n=t.prototype;return n.tbt=function(){if(this.KAt=this.nbt(),this.KAt)return this.KAt;if(this.JAt)return this.JAt.Qmt;throw new v("Missing media segment information.")},n.Gkt=function(t){var n=this.ppt;if(n)return{If:(void 0!==n.vpt?i.Ce(n.vpt,t.Fpt[0]):t.Fpt[0]).href,aZ:n.aZ};var e=this.lpt;return e?{If:t.Fpt[0].href,aZ:[0,e[0]-1]}:void 0},n.Zo=function(t){this._i=t,this.KAt&&this.KAt.Zo()},b(t,[{key:"fi",get:function(){return this._i}},{key:"fpt",get:function(){return this._i&&void 0!==this._i.fpt?this._i.fpt:this.JAt?this.JAt.fpt:0}},{key:"kpt",get:function(){return this._i&&void 0!==this._i.kpt?this._i.kpt:this.JAt?this.JAt.kpt:Ot.ZERO}},{key:"bpt",get:function(){return this._i&&void 0!==this._i.bpt?this._i.bpt:this.JAt?this.JAt.bpt:this.npt.fAt.bpt}},{key:"hy",get:function(){return this._i&&void 0!==this._i.hy?this._i.hy:this.JAt&&this.JAt.hy?this.JAt.hy:1}},{key:"lpt",get:function(){return this._i&&void 0!==this._i.lpt?this._i.lpt:this.JAt?this.JAt.lpt:void 0}},{key:"ppt",get:function(){return this._i&&void 0!==this._i.ppt?this._i.ppt:this.JAt?this.JAt.ppt:void 0}},{key:"Qmt",get:function(){return this.$At||(this.$At=this.tbt()),this.$At}}]),t}(),LX=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.nbt=function(){return this._i.Qmt?new PX(this,this.npt):void 0!==this._i.r_?new xX(this,this.npt):void 0},b(n,[{key:"r_",get:function(){return void 0!==this._i.r_?this._i.r_/this.hy:this.JAt&&this.JAt instanceof n?this.JAt.r_:void 0}},{key:"BAt",get:function(){return void 0!==this._i.r_?Ot.fromNumber(this._i.r_):this.JAt&&this.JAt instanceof n?this.JAt.BAt:void 0}},{key:"Spt",get:function(){return void 0!==this._i.Spt?this._i.Spt:this.JAt&&this.JAt instanceof n?this.JAt.Spt:void 0}},{key:"Ept",get:function(){return void 0!==this._i.Ept?this._i.Ept:this.JAt&&this.JAt instanceof n?this.JAt.Ept:void 0}}]),n}(BX),MX=function(){function t(t){this.ibt=void 0,this.ibt=t}return t.prototype.Rs=function(t){return this.ibt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=ss(u,Number(e),"0")})},t}();var UX=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).ebt=void 0,r.rbt=void 0,r.ebt=e.Npt?new MX(e.Npt):void 0,r.rbt=e.Dpt?new MX(e.Dpt):void 0,r}S(n,t);var e=n.prototype;return e.Gkt=function(n){var e=this.Npt;if(!e)return t.prototype.Gkt.call(this,n);var r=e.Rs({Bandwidth:n.fi.vS,RepresentationID:n.fi.ul});return{If:i.xe(r,n.Fpt[0])}},e.tpt=function(t,n){var e,r=null!=(e=n.Qkt.Spt)?e:1,s=this.Dpt.Rs({Bandwidth:n.fi.vS,Number:n.Qmt.EAt(t,r),RepresentationID:n.fi.ul,Time:n.Qmt.FAt(t,r)});return{If:i.xe(s,n.Fpt[0])}},e.Mkt=function(t,n){},b(n,[{key:"Npt",get:function(){return this.ebt?this.ebt:this.JAt&&this.JAt instanceof n?this.JAt.Npt:void 0}},{key:"Dpt",get:function(){return this.rbt?this.rbt:this.JAt&&this.JAt instanceof n?this.JAt.Dpt:void 0}},{key:"MAt",get:function(){}}]),n}(LX),FX=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.tpt=function(t,n){var e=this._i.wpt[t.S5],r=n.Fpt[0];return{If:(e.Up?i.Ce(e.Up,r):r).href,aZ:e._pt}},e.Mkt=function(t,n){},b(n,[{key:"MAt",get:function(){return void 0!==this._i.wpt?this._i.wpt.length:this.JAt&&this.JAt instanceof LX?this.JAt.MAt:void 0}}]),n}(LX),HX=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).xAt=void 0,u.sbt=void 0,u.hy=void 0,u.ubt=void 0,u.kpt=void 0,u.obt=void 0,u.xAt=n,u.sbt=i,u.hy=e.hy,u.ubt=r,u.kpt=s,u.obt=u.hbt(e),u}S(n,t);var i=n.prototype;return i.Jmt=function(t){if(t>=0&&t<this.Yd)return this.abt(this.obt[t])},i.cbt=function(t){var n=this.fbt(t);if(this.obt.length>0){var i=this.obt[0];if(n<=qt(i.Uw,this.hy))return this.abt(i)}var e=OX(this.obt,Ot.fromNumber(n*this.hy));if(!(e<0))return this.abt(this.obt[e])},i.vbt=function(t){var n=this.fbt(t);if(this.obt.length>0){var i=this.obt[this.obt.length-1];if(n>=qt(i.Fw,this.hy))return this.abt(i)}return this.cbt(t)},i.abt=function(t){var n=qt(t.Uw,this.hy)-this.kpt,i=n+this.ubt,e=qt(t.r_,this.hy);return{xAt:this.xAt,xkt:t.S5,Uw:i,SAt:Ot.fromNumber(n*this.hy),r_:e,Fw:i+e,dbt:[this.sbt+t.sbt,this.sbt+t.lbt]}},i.hbt=function(t){for(var n=[],i=t.IA,e=t.RA.toNumber(),r=0,s=0,u=t.DA;s<u.length;s++){var o=u[s],h=o.AA,a=Ot.fromNumber(o.r_),c=i.add(a);0===o.kA&&n.push({S5:r++,Uw:i,r_:a,Fw:c,sbt:e,lbt:e+h-1}),e+=h,i=c}return n},i.fbt=function(t){return t-this.ubt+this.kpt},b(n,[{key:"Yd",get:function(){return this.obt.length}}]),n}(function(){function t(){}return t.prototype.DAt=function(t){var n=this.Jmt(t.xkt);if(n&&n.Uw===t.Uw)return n;var i=this.cbt(t.Uw);return i&&i.Uw===t.Uw?i:void 0},t}()),VX=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this)._bt=void 0,e.Cdt=void 0,e.wbt=void 0,e._bt=n.lpt,e.Cdt=e.TAt(0,Ot.ZERO,e.jkt.r_),e}S(n,t);var i=n.prototype;return i.cAt=function(t){if(0===t)return this.Cdt},i.uAt=function(){return 0},i.oAt=function(t){return this.Cdt},i.aAt=function(t){return this.oAt(t)},i.UAt=function(){return this.Cdt},i.FAt=function(t,n){return Ot.ZERO},i.Fkt=function(t){var n=this.gbt(t);return n&&{dAt:t,lAt:n,wAt:n}},i.gbt=function(t){var n=this.Cdt;return this.pAt(n,t)?n:void 0},i.vAt=function(t){return this.gbt(t)},i._At=function(t){return this.gbt(t)},i.Zo=function(){},i.jmt=function(t){return 0===t&&void 0!==this._bt},i.RAt=function(t){return this.wbt},i.NAt=function(t,n,i,e,r){var s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return s=n.Fpt[0].href,u=this._bt,h.next=4,Sr.awrap(e.ybt(s,u,i,r));case 4:return o=h.sent,this.wbt=this.mbt(t,o),h.abrupt("return",this.wbt);case 7:case"end":return h.stop()}},null,this,null,Ve)},i.mbt=function(t,n){var i=this._bt,e=gp.rp(new DataView(n),new po);if(e.nr!==Im.Dm)throw new v("Invalid segment index");var r=Ap.Tp(e.fi),s=i[1]+1;return new HX(t,s,r,this.jkt.eI,qt(this.rAt,this.Au))},n}(CX),zX=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.tpt=function(t,n){return{If:n.Fpt[0].href}},i.Mkt=function(t,n){return{If:n.Fpt[0].href,aZ:t.dbt}},i.nbt=function(){return new VX(this,this.npt)},b(n,[{key:"Spt",get:function(){}}]),n}(BX),WX=function(t){function n(){return t.call(this,pX.Tkt)||this}return S(n,t),n}(Ks);var XX=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Yv=void 0,r._i=void 0,r.pbt=void 0,r.iAt=void 0,r.kbt=1/0,r.Abt=void 0,r.Yv=i,r.bbt(n,e),r}S(n,t);var i=n.prototype;return i.Tbt=function(){return this.iAt||this.Yv&&this.Yv.Tbt()},i.Sbt=function(t){var n=this.npt,i=this.Yv&&this.Yv.Tbt();this._i.qpt?this.iAt=new UX(n,i,this._i.qpt):this._i.Xpt?this.iAt=new FX(n,i,this._i.Xpt[0]):this._i.Wpt?this.iAt=new zX(n,i,this._i.Wpt):t&&!i&&(this.iAt=new zX(n,i,void 0))},i.bbt=function(t,n){this._i=t,this.pbt=t.Fpt&&t.Fpt.length>0?DX(t.Fpt.map(function(t){return t.If}),n):n.slice(),this.iAt&&(t.qpt?this.iAt.Zo(t.qpt):t.Xpt?this.iAt.Zo(t.Xpt[0]):t.Wpt&&this.iAt.Zo(t.Wpt))},i.Dkt=function(){var t;return null==(t=this.Abt)?void 0:t.Ebt},i.Hkt=function(){var t;return null==(t=this.Abt)?void 0:t.Ibt},i.Rbt=function(t){var n=this.kbt,i=this.npt.r_,e=this.Abt,r=this.Nbt(t);e&&Lt(i,n,1e-5)&&YX(e,r)||(this.kbt=i,this.Abt=r,this.Fr(new WX))},i.Sr=function(){this.Wr()},b(n,[{key:"fi",get:function(){return this._i}},{key:"Fpt",get:function(){return this.pbt}}]),n}(Js);function qX(t){for(var n,i=0;i<t.length;i++){var e=t[i].Dkt();if(e){n=e.eI;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].Dkt();if(u){r=u.sI;break}}if(void 0!==r)return{eI:n,sI:r}}}function GX(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].Dkt();if(!r)return;if((n=_.max(n,r.eI))>=(i=_.min(i,r.sI)))return}return{eI:n,sI:i}}}function QX(t){for(var n,i=0;i<t.length;i++){var e=t[i].Hkt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function YX(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.Ibt,n.Ibt)&&function(t,n){return t&&n?Lt(t.eI,n.eI,1e-5)&&Lt(t.sI,n.sI,1e-5):t===n}(t.Ebt,n.Ebt)}var jX=function(t){function n(n,i,e){var r;(r=t.call(this)||this).jkt=void 0,r.Bo=void 0,r.Dbt=void 0,r.jkt=n,r.Bo=i,r.Dbt=e.slice();for(var s=0;s<e.length;s++){e[s].Hr(pX.Tkt,r.Rkt)}return r}S(n,t);var i=n.prototype;return i.Dkt=function(){return GX(this.Dbt)},i.Hkt=function(){for(var t,n=0,i=this.Dbt;n<i.length;n++){var e=i[n].Hkt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.Jf=function(){this.Wr();for(var t=0,n=this.Dbt;t<n.length;t++){n[t].Xr(pX.Tkt,this.Rkt)}},b(n,[{key:"Wmt",get:function(){return this.Dbt}},{key:"WJ",get:function(){return this.Wmt.reduce(function(t,n){for(var i=0,e=n.WJ;i<e.length;i++){var r=e[i];Is(t,r)||t.push(r)}return t},[])}},{key:"ae",get:function(){return this.WJ.length>0?this.WJ[0]:""}},{key:"nr",get:function(){return this.Dbt[0].nr}},{key:"ul",get:function(){return this.Bo}},{key:"Ukt",get:function(){return this.jkt.Ukt}},{key:"kD",get:function(){return this.Dbt[0].kD}},{key:"npt",get:function(){return this.jkt}},{key:"Bmt",get:function(){return Ds(this.Wmt,function(t){return t.Bmt})}}]),n}(EX),ZX=function(t){function n(){return t.call(this,pX.Ekt)||this}return S(n,t),n}(Ks);function JX(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Qpt;void 0===s||(r=bs(n,function(t){return t.ul===s})),r||(r={ul:s,Wmt:[]},n.push(r)),r.Wmt.push(e)},e=0;e<t.length;e++)i(e);return n}var $X,KX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Pkt=void 0,e.Dbt=[],e.Cbt=[],e.xbt=void 0,e.Obt=!1,e.xbt=n,e.Pkt=i,e.Pkt.Hr(pX.Tkt,e.Rkt),e}S(n,t);var i=n.prototype;return i.Pbt=function(t,n){if(0!==this.Cbt.length){for(var i=t,e=0,r=this.Cbt;e<r.length;e++){var s=r[e],u=s.nr;if(u===_y.Vf||u===_y.zf){var o=s.Ckt;if(void 0===o)return;i=n(i,o)}}return i}},i.Bbt=function(){this.Obt||(this.Obt=!0,this.Fr(new ZX),this.Jf())},i.Zo=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.Dbt.length){i.next=7;break}return i.next=3,Sr.awrap(this.Lbt(this.Pkt.Wmt,t,n));case 3:this.Mbt(this.Dbt),Ms(n),i.next=9;break;case 7:return i.next=9,Sr.awrap(this.Ubt(t,n));case 9:case"end":return i.stop()}},null,this,null,Ve)},i.Lbt=function(t,n,i){var e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new NX(this,r),u.prev=4,u.next=7,Sr.awrap(s.Zo(n,i));case 7:this.Dbt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),Us(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],Ve)},i.Mbt=function(t){for(var n=JX(t),i=0;i<n.length;i++){var e=n[i],r=new jX(this,e.ul,e.Wmt);this.Cbt.push(r)}},i.Ubt=function(t,n){var i,e,r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Dbt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Sr.awrap(r.Zo(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,Ve)},i.Dkt=function(){return this.Pkt.Dkt()},i.Hkt=function(){return this.Pkt.Hkt()},i.Jf=function(){this.Wr(),this.Pkt.Xr(pX.Tkt,this.Rkt);for(var t=0,n=this.Cbt;t<n.length;t++){n[t].Jf()}for(var i=0,e=this.Dbt;i<e.length;i++){e[i].Jf()}Rs(this.Dbt),Rs(this.Cbt)},b(n,[{key:"Wmt",get:function(){return this.Dbt}},{key:"Vmt",get:function(){return this.Cbt}},{key:"akt",get:function(){return this.Pkt.fi.akt}},{key:"r_",get:function(){return this.Pkt.r_}},{key:"sI",get:function(){return this.eI+this.r_}},{key:"ckt",get:function(){return this.Pkt.fi.ckt||[]}},{key:"ul",get:function(){return this.Pkt.ul}},{key:"Ikt",get:function(){return this.Obt}},{key:"Ukt",get:function(){return this.xbt}},{key:"Fbt",get:function(){return this.xbt.Hbt(this)}},{key:"npt",get:function(){return this}},{key:"Vbt",get:function(){return this.xbt.zbt(this)}},{key:"Wbt",get:function(){return this.Pbt(1/0,_.min)}},{key:"Xbt",get:function(){return this.Pbt(0,_.max)}},{key:"eI",get:function(){return this.Pkt.eI}},{key:"Yf",get:function(){return this.Ukt.Yf}}]),n}(EX),tq=function(t){function n(){return t.call(this,Fc.ya)||this}return S(n,t),n}(Ks);!function(t){t.qbt="Gbt"}($X||($X={}));var nq=function(t){function n(){return t.call(this,$X.qbt)||this}return S(n,t),n}(Ks),iq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Fpt)||this).Okt=void 0,e.Qbt=void 0,e.Okt=i,e.Sbt(!0),e}S(n,t);var i=n.prototype;return i.jmt=function(t){return!!Za(this.kD)&&this.Qmt.jmt(t.S5)},i.Zmt=function(t,n,i,e){return this.Qmt.Zmt(t,this,n,i,e)},i.Gkt=function(){return this.Qkt.Gkt(this)},i.tpt=function(t){return this.Qkt.tpt(t,this)},i.Mkt=function(t){return this.Qkt.Mkt(t,this)},i.Fkt=function(){return this.Qbt},i.Nbt=function(t){var n=this.Qmt,i=n.Fkt(t),e=i&&function(t,n){var i,e=t.lAt,r=t.wAt,s=t.dAt,u=e.Uw,o=n.bAt(r);if(o.getTime()<=s.getTime())i=r.Fw;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(r.r_-h,0);i=r.Uw+a}return{eI:u,sI:i}}(i,n),r=this.Qmt.Hkt(t,i);return this.Qbt=i,{dAt:t,Ebt:e,Ibt:r}},i.Zo=function(t){this.bbt(t,this.Okt.Fpt)},b(n,[{key:"Xkt",get:function(){return this.Okt}},{key:"npt",get:function(){return this.Okt.npt}},{key:"fAt",get:function(){return this.Okt.fAt}},{key:"kD",get:function(){return this._i.kD||this.Okt.kD}},{key:"Qkt",get:function(){return this.Tbt()}},{key:"Qmt",get:function(){return this.Qkt.Qmt}}]),n}(XX),eq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Fpt)||this).jkt=void 0,e.Zkt=void 0,e.jkt=i,e.Sbt(!1),e.Zkt=n.Bmt.map(function(t){return new iq(t,Yt(e))}),e}S(n,t);var i=n.prototype;return i.Zo=function(t){this.bbt(t,this.jkt.Fpt);var n=t.Bmt||[];if(this.Zkt.length!==n.length)throw new v("Expected "+this.Zkt.length+' representations in adaptation set "'+t.ul+'", found '+n.length);for(var i=0;i<n.length;i++)this.Zkt[i].Zo(n[i])},i.Rbt=function(n){for(var i=0,e=this.Zkt;i<e.length;i++){e[i].Rbt(n)}t.prototype.Rbt.call(this,n)},i.Nbt=function(t){return{dAt:t,Ebt:GX(this.Zkt),Ibt:QX(this.Zkt)}},i.Sr=function(){for(var n=0,i=this.Zkt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},b(n,[{key:"Bmt",get:function(){return this.Zkt}},{key:"npt",get:function(){return this.jkt}},{key:"fAt",get:function(){return this.jkt.fAt}},{key:"Qpt",get:function(){return this._i.Qpt}},{key:"kD",get:function(){var t;return this._i.kD||(null==(t=this.Zkt[0])?void 0:t.fi.kD)||""}}]),n}(XX),rq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Fpt)||this).Ybt=void 0,s.LA=void 0,s.bu=void 0,s.Dbt=void 0,s.Cbt=[],s.Ybt=n,s.LA=e,s.bu=r,s.Sbt(!1),s.Dbt=(i.Wmt||[]).map(function(t){return new eq(t,Yt(s))}),s.Cbt=JX(s.Dbt),s}S(n,t);var i=n.prototype;return i.Zo=function(t,n){this.bbt(t,this.Ybt.Fpt),this.bu=n;var i=t.Wmt||[];if(this.Dbt.length!==i.length)throw new v("Expected "+this.Dbt.length+' adaptation sets in period "'+t.ul+'", found '+i.length);for(var e=0;e<i.length;e++)this.Dbt[e].Zo(i[e])},i.Rbt=function(n){for(var i=0,e=this.Dbt;i<e.length;i++){e[i].Rbt(n)}t.prototype.Rbt.call(this,n)},i.Nbt=function(t){return{dAt:t,Ebt:GX(this.Dbt),Ibt:QX(this.Dbt)}},i.Sr=function(){for(var n=0,i=this.Dbt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},b(n,[{key:"Wmt",get:function(){return this.Dbt}},{key:"Vmt",get:function(){return this.Cbt}},{key:"npt",get:function(){return this}},{key:"fAt",get:function(){return this.Ybt}},{key:"ul",get:function(){return this._i.ul}},{key:"eI",get:function(){return this.LA}},{key:"r_",get:function(){return this.bu}}]),n}(XX),sq=new Date("2000-01-01"),uq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this)._i=void 0,s.jbt=void 0,s.Zbt=void 0,s.LH=void 0,s.Jbt=void 0,s.Abt=void 0,s.pbt=void 0,s.$bt=void 0,s.Kbt=void 0,s.tTt=void 0,s.nTt=[],s.jbt=i,s.Zo(n,e,r),n.nr===gW.hb){var u=s.UAt();u&&u.vkt&&u.vkt.getTime()<sq.getTime()&&(s.tTt=new Date(s.pkt.getTime()-1e3*(u.jdt.Uw+u.jdt.r_)),s.Rbt(r))}return s}S(n,t);var e=n.prototype;return e.Dkt=function(){var t;return null==(t=this.Abt)?void 0:t.Ebt},e.Hkt=function(){var t;return null==(t=this.Abt)?void 0:t.Ibt},e.Zo=function(t,n,e,r){var s;this._i=t,this.Zbt=n,this.Jbt=null!=r?r:e,this.LH=e;var u,o=[(u=n,i.Ce(".",u))];this.pbt=t.Fpt&&t.Fpt.length>0?DX(t.Fpt.map(function(t){return t.If}),o):o,this.$bt=t.lkt&&t.lkt.length>0?DX(t.lkt,this.pbt):[];var h=this.$bt.map(function(t){return t.href}),a=n.href;Is(h,a)||(this.$bt.push(n),h.push(a));var c=this.jbt.href;Is(h,c)||(this.$bt.push(this.jbt),h.push(c)),this.Kbt=null==(s=t.Umt)?void 0:s.Mmt();var f=t.nr===gW.hb,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.eI)u=s.eI.Mmt();else if(r>0&&t[r-1].r_){var o=e[r-1],h=t[r-1].r_.Mmt();u=o+h}else{if(0!==r||n)break;u=0}e.push(u)}for(var a=[],c=0;c<e.length-1;c++)a.push({fi:t[c],eI:e[c],r_:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.r_?v.r_.Mmt():i-d),a.push({fi:v,eI:d,r_:l})}return a}(t.Lmt,f,this.Kbt);this.iTt(v),this.Rbt(e)},e.iTt=function(t){var n=this.nTt;if(0!==t.length){for(var i=t[0].fi.ul,e=0;e<n.length&&n[e].ul!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Sr()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Zo(o.fi,o.r_)}else n.push(new rq(this,o.fi,o.eI,o.r_))}}else Rs(n)},e.Rbt=function(t){for(var n=0,i=this.nTt;n<i.length;n++){i[n].Rbt(t)}var e=this.Abt,r=this.Nbt(t);e&&YX(e,r)||(this.Abt=r,this.Fr(new WX))},e.Nbt=function(t){return{dAt:t,Ebt:qX(this.nTt),Ibt:QX(this.nTt)}},e.UAt=function(){if(0!==this.nTt.length){var t=this.nTt[this.nTt.length-1];if(!isFinite(t.r_)&&0!==t.Wmt.length){var n=t.Wmt[0];if(0!==n.Bmt.length){var i=n.Bmt[0].Qmt,e=i.UAt();if(e)return{jdt:e,vkt:i.gAt(e)}}}}},e.Sr=function(){this.Wr();for(var t=0,n=this.nTt;t<n.length;t++){n[t].Sr()}},b(n,[{key:"fi",get:function(){return this._i}},{key:"nr",get:function(){return this._i.nr||gW.ob}},{key:"dkt",get:function(){return this.tTt||this._i.dkt||this.pkt}},{key:"vkt",get:function(){return this._i.vkt}},{key:"Umt",get:function(){return this.Kbt}},{key:"Fpt",get:function(){return this.pbt}},{key:"lkt",get:function(){return this.$bt}},{key:"Lmt",get:function(){return this.nTt}},{key:"pkt",get:function(){return this._i.pkt||this.LH}},{key:"bpt",get:function(){return this._i.bpt}},{key:"eTt",get:function(){return this.Jbt}},{key:"rTt",get:function(){return this.LH}}]),n}(Js);var oq=function(){function t(t,n,i){this.sTt=0,this.JA=t,this.uTt=n,this.oTt=i}var n=t.prototype;return n.Xx=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.hTt(t,this.JA,this.uTt,this.oTt).catch(Fs));case 2:case"end":return n.stop()}},null,this,null,Ve)},n.aTt=function(){return new Date(Vt()+this.sTt)},n.hTt=function(t,n,i,e){var r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Sr.awrap(this.cTt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}Ms(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Sr.awrap(this.fTt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.sTt=void 0===r?0:r-Vt();case 18:case"end":return o.stop()}},null,this,null,Ve)},n.fTt=function(t,n,i){var e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.Imt,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.Qn)){o.next=9;break}return o.next=8,Sr.awrap(this.cTt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.Qn)){o.next=15;break}if(u=new Date(s).getTime(),y(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,Ve)},n.cTt=function(t,n,i){var e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Sr.awrap(t.Sf({If:n,Xf:wl.GET,Af:Hc.Bn,Pr:i}));case 3:return e=u.sent,u.next=6,Sr.awrap(e.ef());case 6:if(r=u.sent,s=new Date(r).getTime(),y(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),Us(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],Ve)},t}(),hq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).vTt=void 0,s.Pkt=void 0,s.dTt=void 0,s.YZ=!0,s.nTt=[],s.lTt=void 0,s._Tt=void 0,s.wTt=void 0,s.JA=void 0,s.gTt=void 0,s.lTt=n,s.dTt=n.Tl,s._Tt=i,s.JA=e,s.vTt=r,s.gTt=new oq(s.JA,s.vTt,s.lTt.yTt),s}S(n,t);var e=n.prototype;return e.pot=function(t){var n=this.lw;this.YZ=t,n!==this.lw&&this.Fr(new nq)},e.Zo=function(t,n,e){var r,s,u,o,h,a,c,f,v,d,l,_,w;return Sr.async(function(g){for(;;)switch(g.prev=g.next){case 0:if(s=[],u=[],o=t._kt?i.Ce(t._kt,this.dTt):this.dTt,void 0!==this.Pkt){g.next=10;break}return g.next=6,Sr.awrap(this.gTt.Xx(t.Akt));case 6:this.Pkt=new uq(t,this.dTt,o,this.aTt()),this.Pkt.Hr(pX.Tkt,this.Ur),g.next=11;break;case 10:this.Pkt.Zo(t,o,this.aTt(),n);case 11:if(0===(h=this.Pkt.Lmt).length)a=this.nTt.slice(),Rs(this.nTt);else{for(c=h[0].ul,f=0;f<this.nTt.length&&this.nTt[f].ul!==c;)f++;for(a=this.nTt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.nTt.length?l=this.nTt[v]:(l=new KX(this,d),s.push(l)),u.push(l.Zo(this._Tt,e))}return g.next=15,Sr.awrap(Ve.all(u));case 15:for((r=this.nTt).push.apply(r,s),_=0,w=a;_<w.length;_++)w[_].Bbt();this.Fr(new tq);case 18:case"end":return g.stop()}},null,this,null,Ve)},e.aTt=function(){return this.gTt.aTt()},e.zbt=function(t){var n=this.nTt.indexOf(t);if(n>0)return this.nTt[n-1]},e.Hbt=function(t){var n=this.nTt.indexOf(t);if(n>=0&&n+1<this.nTt.length)return this.nTt[n+1]},e.Dkt=function(){return this.Pkt?this.Pkt.Dkt():void 0},e.Hkt=function(){return this.Pkt&&this.Pkt.Hkt()},e.Rbt=function(t){this.Pkt&&this.Pkt.Rbt(t)},e.Jf=function(){this.Wr(),this.wTt=void 0,this.pot(!1);for(var t=0,n=this.nTt;t<n.length;t++){n[t].Jf()}Rs(this.nTt),this.Pkt&&this.Pkt.Sr()},b(n,[{key:"vkt",get:function(){return this.Pkt&&this.Pkt.vkt}},{key:"dkt",get:function(){return this.Pkt&&this.Pkt.dkt}},{key:"ul",get:function(){return this.Pkt&&this.Pkt.fi.ul}},{key:"eTt",get:function(){var t;return null==(t=this.Pkt)?void 0:t.eTt}},{key:"mTt",get:function(){var t;return null==(t=this.Pkt)?void 0:t.rTt}},{key:"lkt",get:function(){return this.Pkt?this.Pkt.lkt.map(function(t){return t.href}):[this.Hmt]}},{key:"Hmt",get:function(){return this.dTt.href}},{key:"wkt",get:function(){return this.Pkt&&this.Pkt.fi.wkt}},{key:"gkt",get:function(){return this.Pkt&&this.Pkt.fi.gkt}},{key:"Umt",get:function(){return this.Pkt&&this.Pkt.fi.Umt}},{key:"ykt",get:function(){return this.Pkt&&this.Pkt.fi.ykt}},{key:"mkt",get:function(){var t,n,i=(null==(t=this.Pkt)?void 0:null==(n=t.fi.mkt)?void 0:n.rpt())||0;return _.max(i,cq)}},{key:"lw",get:function(){return this.YZ}},{key:"Lmt",get:function(){return this.nTt}},{key:"pTt",get:function(){return this.nr===gW.hb?this.nAt:this.kTt}},{key:"ATt",get:function(){var t=this.pTt;if(void 0!==t)for(var n=0,i=this.Lmt;n<i.length;n++){var e=i[n];if(e.eI<=t&&e.sI>t)return e}}},{key:"Ppt",get:function(){return this.Pkt&&this.Pkt.fi.Ppt}},{key:"pkt",get:function(){return this.Pkt&&this.Pkt.pkt}},{key:"Wbt",get:function(){for(var t=this.nTt.length-1;t>=0;t-=1){var n=this.nTt[t].Wbt;if(n)return n}}},{key:"nAt",get:function(){var t=this.Wbt;if(void 0!==t){var n=t-this.bTt;return _.max(n,this.kTt)}}},{key:"kTt",get:function(){for(var t=0,n=this.nTt;t<n.length;t++){var i=n[t].Nkt;if(void 0!==i)return i}}},{key:"Yf",get:function(){return Boolean(this.lTt.Yf)}},{key:"bTt",get:function(){var t=this.Pkt&&this.Pkt.fi.kkt;return t?t.Mmt():this.nr===gW.hb?this.gnt:0}},{key:"gnt",get:function(){return this.lTt.gnt?this.lTt.gnt:1.5*this.ykt.Mmt()}},{key:"bpt",get:function(){return this.Pkt&&this.Pkt.bpt}},{key:"nr",get:function(){return this.Pkt?this.Pkt.nr:void 0}}]),n}(Js),aq=function(){function t(t,n,i,e){this.xbt=void 0,this.xbt=new hq(t,n,i,e)}return b(t,[{key:"Ukt",get:function(){return this.xbt}}]),t}(),cq=1e3,fq=_.pow(2,31)-1,vq=function(){function t(t,n,i,e){var r=this;this.s7=void 0,this.Pkt=void 0,this.TTt=void 0,this.STt=void 0,this.ETt=void 0,this.ITt=new Ps,this.RTt=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.Pkt.Ukt.aTt(),e.next=4,Sr.awrap(r.NTt(r.Pkt.Ukt.lkt,t));case 4:return i=e.sent,e.next=7,Sr.awrap(r.Pkt.Ukt.Zo(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Jp(e.t0)&&r.Pkt.Ukt.pot(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],Ve)},this.s7=e,this.Pkt=new aq(t,n,i,this.ITt.Pr)}var n=t.prototype;return n.Gv=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Pkt.Ukt.Fr(new HR),n.prev=1,n.next=4,Sr.awrap(vV(this.RTt,t));case 4:this.Pkt.Ukt.pot(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),Us(n.t0),this.STt=void 0,this.Pkt.Ukt.pot(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.TTt=this.DTt(this.ITt.Pr);case 14:case"end":return n.stop()}},null,this,[[1,7]],Ve)},n.DTt=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.Pkt.Ukt.nr!==gW.hb){n.next=6;break}return n.next=4,Sr.awrap(Hs(this.CTt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],Ve)},n.xTt=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ms(t),!((n=this.OTt())>0)){e.next=6;break}return i=_.min(n,fq),e.next=6,Sr.awrap(Qs(i,t));case 6:return e.prev=6,e.next=9,Sr.awrap(vV(this.RTt,t,1/0,cq,3e4));case 9:this.Pkt.Ukt.pot(!0);case 10:return e.prev=10,this.ETt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],Ve)},n.OTt=function(){var t=this.Pkt.Ukt.aTt().getTime()-this.Pkt.Ukt.eTt.getTime();return this.Pkt.Ukt.mkt-t},n.PTt=function(t){var n=this.Pkt.Ukt.Hkt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Pkt.Ukt.Rbt(t);var e=this.Pkt.Ukt.Hkt();return e?e.getTime()-t.getTime():NaN},n.BTt=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.ETt||(this.ETt=this.xTt(t)),(n=new Ps).xr(t),i.prev=3,i.next=6,Sr.awrap(Ve.race([this.ETt,this.LTt(n.Pr)].filter(F)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),Fs(i.t0);case 11:return i.prev=11,n.Cr(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],Ve)},n.LTt=function(t){var n=this.Pkt.Ukt.aTt(),i=this.PTt(n);if(!y(i))return this.MTt(i,t)},n.MTt=function(t,n){var i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sr.awrap(Qs(t,n));case 2:i=this.Pkt.Ukt.aTt(),this.Pkt.Ukt.Rbt(i);case 4:case"end":return e.stop()}},null,this,null,Ve)},n.NTt=function(t,n){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(this.s7.i7(t,{},n,!1));case 2:return i=r.sent,e=new kX,r.abrupt("return",e.Ogt(i.q9,i.Ef));case 5:case"end":return r.stop()}},null,this,null,Ve)},n.Jf=function(){return this.ITt.Cr(),this.TTt=void 0,this.STt=void 0,this.ETt=void 0,this.Pkt.Ukt.Jf(),Ve.resolve()},b(t,[{key:"UTt",get:function(){return this.Pkt}},{key:"i1",get:function(){return this.STt||(this.STt=this.Gv(this.ITt.Pr),qs(this.STt)),this.STt}},{key:"CTt",get:function(){return this.Pkt.Ukt.mTt&&this.Pkt.Ukt.nr===gW.hb?this.BTt(this.ITt.Pr):this.i1}}]),t}(),dq=function(){function t(t,n,i){this.s7=t,this.FTt=n,this.HTt=i}var n=t.prototype;return n.VTt=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!lg(n=t.type)){i.next=9;break}return i.next=6,Sr.awrap(this.zTt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!dg(n)){i.next=15;break}return i.next=12,Sr.awrap(this.WTt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,Ve)},n.zTt=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Sr.awrap(mW(t.src,this.s7));case 3:return n=i.sent,i.next=6,Sr.awrap(pW(n,this.s7));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],Ve)},n.WTt=function(t){var n;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new vq({Tl:i.Ce(t.src),gnt:t.liveOffset,yTt:t.timeServer,Yf:t.useCredentials},this.HTt,bl.rv,this.s7),e.next=4,Sr.awrap(n.i1);case 4:return e.next=6,Sr.awrap(eW(n.UTt.Ukt,t.contentProtection,this.FTt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],Ve)},t}();var lq=function(){function t(t){this.XTt=void 0,this.qTt=[],this.GTt=0,this.XTt=t}var n=t.prototype;return n.QTt=function(){var t=new Ao;return this.qTt.push(t),this.YTt(),t.Ss},n.jTt=function(t,n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(t);case 2:this.GTt-=1,this.YTt(),0===this.qTt.length&&0===this.GTt&&n.Rs(!0);case 5:case"end":return i.stop()}},null,this,null,Ve)},n.YTt=function(){this.qTt.length>0&&this.GTt<this.XTt&&(this.qTt.shift().Rs(),this.GTt+=1)},t}();function _q(t,n){for(var i=0,e=0,r=t.DA.m0.map(function(t){return t.r_});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var wq=function(t){function n(n,e,r,s,u,o,h,a){var c,f,v,d,l;void 0===a&&(v=L.hn||L.sn,d=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),l=v&&!d,a=function(t){var n,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.hf,MediaSource.isTypeSupported(e)||ik(t.kD,t.WJ)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!l||-1===(null==(n=t.ae)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.Pmt){u.next=13;break}return r=t.Pmt,s=Ds(r,function(t){return $r(t.Imt)}).filter(F),u.next=10,Sr.awrap(Cs(s,function(t){return i.Ne(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,Ve)}),(c=t.call(this)||this).o7=void 0,c.ZTt=void 0,c.JTt=new Ao,c.$Tt=void 0,c.e$=void 0,c.KTt=Xz.bmt(),c.pmt=void 0,c.tSt=void 0,c.S_=void 0,c.nSt=void 0,c.E0=void 0,c.s7=void 0,c.iSt=void 0,c.FTt=void 0,c.HTt=void 0,c.omt=void 0,c.o7=n,c.E0=e,c.s7=r,c.nSt=s,c.iSt=u,c.FTt=o,c.HTt=a,c.omt=h,c.tSt=-1;var _=c.o7.FE.sources[0];return c.$Tt=_,c.S_=c.X_(),c.ZTt=new lq(c.o7.lh.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.X_=function(){var t,n,i,e,r,s,u,o,h,a,c,f,v,d,l,w,g,y,m,p,k,A,b,T,S,E,I,R=this;return Sr.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new dq(this.s7,this.FTt,this.HTt),N.next=3,Sr.awrap(t.VTt(this.$Tt));case 3:return this.e$=N.sent,n=this.o7.lh.amount,i=this.e$.r_,e=Qz(n,i),this.pmt=e,s=PP(this.e$.Fmt[0]),N.next=11,Sr.awrap(this.E0.y0._0(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Is(t.references,R.o7.ul)}),o=[],h=this.o7.lh.bandwidth,a=0,c=this.e$.Lmt;a<c.length;a++)for(f=c[a],v=0,d=f.zmt;v<d.length;v++)for(l=d[v],w=0,g=yq(l.Np);w<g.length;w++)for(y=g[w],m=0,p=mq(y.fl,h);m<p.length;m++)k=p[m],o.push(k);if(this.tSt=_.ceil(o.map(function(t){return t.vS*_q(t,e)/8}).reduce(function(t,n){return t+n},0)),A=Rr(),u&&0!==u.length){for(b=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new CT(n.startsAndEnds);if(A.has(i))A.get(i).timeRanges=A.get(i).timeRanges.AI(e).kI(5e-4);else{var r,s=bs(o,function(t){return t.ul===i}),h=_.min(R.pmt,null!=(r=null==s?void 0:s.DA.r_)?r:1/0);A.set(i,{timeRanges:e,totalQualityDurationToCache:h})}},S=0;S<u.length;S++)T(S);r=new Xz(b,A,this.pmt)}else{for(E=0;E<o.length;E++)I=o[E],A.set(I.ul,{timeRanges:CT.VI(),totalQualityDurationToCache:_.min(I.DA.r_,this.pmt)});r=new Xz(0,A,this.pmt)}this.eSt=r;case 19:case"end":return N.stop()}},null,this,null,Ve)},e.rSt=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.S_);case 2:return n.next=4,Sr.awrap(this.sSt(this.e$,t));case 4:return n.next=6,Sr.awrap(this.JTt.Ss);case 6:case"end":return n.stop()}},null,this,null,Ve)},e.sSt=function(t,n){var i,e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Fmt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Sr.awrap(this.uSt());case 4:for(i=[],e=0,r=t.Lmt;e<r.length;e++)s=r[e],i.push(this.oSt(s,t.Fmt[0],n));return u.abrupt("return",Ve.all(i));case 7:case"end":return u.stop()}},null,this,null,Ve)},e.uSt=function(){var t,n,i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Sr.awrap(this.nSt.d0());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Sr.awrap(this.E0.p0.cs(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Sr.awrap(gq(e,this.o7.ul,this.E0.p0,this.omt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Sr.awrap(this.E0.p0.c0(i,this.omt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new jz("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Sr.awrap(this.nSt.g0());case 27:case"end":return r.stop()}},null,this,[[14,19]],Ve)},e.oSt=function(t,n,i){var e,r,s,u,o,h,a;return Sr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.zmt;r<s.length;r++)for(u=s[r],o=yq(u.Np),h=0;h<o.length;h++)a=o[h],e.push(this.hSt(a,n,i));return c.abrupt("return",Ve.all(e));case 3:case"end":return c.stop()}},null,this,null,Ve)},e.hSt=function(t,n,i){var e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=this.o7.lh.bandwidth,r=mq(t.fl,e),t.nr!==_y.zf||!t.Gmt||!t.Gmt.Eb.widevine||"persistent"!==t.Gmt.Eb.widevine.licenseType){h.next=6;break}return h.next=5,Sr.awrap(this.aSt(t.Gmt));case 5:Ms(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.cSt(o,n,i));return h.abrupt("return",Ve.all(s));case 9:case"end":return h.stop()}},null,this,null,Ve)},e.cSt=function(t,n,i){var e,r,s,u,o,h;return Sr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(Ms(i),!t.D9){a.next=7;break}return e={Uw:0,r_:0,Kmt:t.D9},a.next=5,Sr.awrap(this.ZTt.QTt());case 5:Ms(i),qs(this.ZTt.jTt(this.fSt(e,t,n),this.JTt));case 7:r=t.DA.m0[0].Uw,s=r+this.pmt,u=0,o=t.DA.m0;case 10:if(!(u<o.length)){a.next=22;break}if(!((h=o[u]).Uw>=s)){a.next=14;break}return a.abrupt("break",22);case 14:return a.next=16,Sr.awrap(this.vSt(i));case 16:return a.next=18,Sr.awrap(this.ZTt.QTt());case 18:qs(this.ZTt.jTt(this.fSt(h,t,n),this.JTt));case 19:u++,a.next=10;break;case 22:case"end":return a.stop()}},null,this,null,Ve)},e.vSt=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.mr){n.next=4;break}return n.next=3,Sr.awrap(this.JTt.Ss);case 3:throw new Bs;case 4:case"end":return n.stop()}},null,this,null,Ve)},e.dSt=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sr.awrap(this.S_);case 2:return t.abrupt("return",this.e$);case 3:case"end":return t.stop()}},null,this,null,Ve)},e.aSt=function(t){return Ve.resolve()},e.lSt=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return st("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,Ve)},e.fSt=function(t,n,i){var e,r,s,u,o,h,a,c=this;return Sr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.E0.y0,r=BP(t.Kmt.If,t.Kmt.aZ),f.next=4,Sr.awrap(e.cs(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Sr.awrap(gq(s,this.o7.ul,e,this.omt));case 8:this._St(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Sr.awrap(this.wSt(t.Kmt));case 14:return u=f.sent,o=this.gSt(t,n,i,u),h=o.segmentMetadataEntry,a=o.segmentEntry,f.next=18,Sr.awrap(this.E0.b0(function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(t.y0.c0(h,c.omt));case 2:return n.next=4,Sr.awrap(t.m0.c0(a,c.omt));case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 18:this._St(h,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new jz("Unable to store segment with url: "+t.Kmt.If,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],Ve)},e.wSt=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.iSt.ySt(t,!1));case 2:return n=i.sent,i.next=5,Sr.awrap(this.mSt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,Ve)},e.mSt=function(t){var n;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(t.sf());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,Ve)},e.gSt=function(t,n,i,e){var r=BP(t.Kmt.If,t.Kmt.aZ),s=t.Uw,u=t.r_,o=this.pSt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:PP(i),qualityId:n.ul,byteSize:o,startsAndEnds:new CT([s,s+u]).oI,references:[this.o7.ul]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:PP(i),data:e}}},e.pSt=function(t){return t.buffer.byteLength},e._St=function(t,n){var i=t.qualityId,e=this.KTt,r=e.mw;r.get(i).timeRanges=r.get(i).timeRanges.AI(new CT(t.startsAndEnds)).kI(5e-4),this.eSt=new Xz(n?e.Tmt+t.byteSize:e.Tmt,r,this.pmt)},b(n,[{key:"kSt",get:function(){return this.tSt}},{key:"eSt",get:function(){return this.KTt},set:function(t){this.KTt.eg(t)||(this.KTt=t,t.eg(Xz.bmt())||this.Fr(new Wz))}}]),n}(Js);function gq(t,n,i,e){return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Is(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Sr.awrap(i.c0(t,e));case 4:case"end":return r.stop()}},null,null,null,Ve)}function yq(t){return t.length?[t[0]]:[]}function mq(t,n){if(!t.length)return[];var i=[].concat(t).sort(Vz),e=i.filter(function(t){return t.vS<=n});return e.length>0?[e.pop()]:[i.shift()]}var pq=function(){function t(t){this.JA=void 0,this.NB=new yR,this.JA=t}var n=t.prototype;return n.Sf=function(t){var n=this,i=new Ao;return this.NB.yB(function(e){return n.ASt(i,t,e)},t.Pr).catch(j),i.Ss},n.Zf=function(t){return this.JA.Zf(t)},n.ASt=function(t,n,i){var e,r,s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return Ms(i),e=new kl({If:n.If,Pr:i},n),r=this.JA.Sf(e),t.Rs(r),u.next=6,Sr.awrap(r);case 6:return s=u.sent,u.next=9,Sr.awrap(s._f());case 9:case"end":return u.stop()}},null,this,null,Ve)},n.Jf=function(){this.NB.Jf()},t}(),kq=function(){function t(t,n){this.JA=void 0,this.bSt=void 0,this.TSt=void 0,this.JA=t,this.bSt=new pq(t),this.TSt=n}var n=t.prototype;return n.ySt=function(t,n,i){return this.Xst(t,n,!0,!1,void 0,i)},n.SSt=function(t,n,i,e){return this.Xst(t,n,!1,!1,i,e)},n.ESt=function(t,n,i,e){return this.Xst(t,n,!1,!0,i,e)},n.Xst=function(n,i,e,r,s,u){var o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return Ms(u),h.next=3,Sr.awrap(this.ISt(n,e,r,s,u));case 3:if(o=h.sent,!i){h.next=8;break}return h.abrupt("return",t.RSt(o));case 8:return h.abrupt("return",this.NSt(o));case 9:case"end":return h.stop()}},null,this,null,Ve)},n.NSt=function(t){return t},t.RSt=function(t){return t},n.ISt=function(t,n,i,e,r){var s=new kl({If:t.If,Af:Hc.Va,kf:t.aZ?{Range:"bytes="+t.aZ[0]+"-"+t.aZ[1]}:void 0,Yf:t.Yf,Xf:wl.GET,nr:gl.Cf,Gf:i?yl.Of:yl.Nf,Qf:this.TSt,qf:e,Pr:r});return n?this.bSt.Sf(s):this.JA.Sf(s)},t}(),Aq=function(){function t(t){this.JA=void 0,this.JA=t}return t.prototype.ybt=function(t,n,i,e){var r;return Sr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Sr.awrap(this.JA.Sf({If:t,Af:Hc.Va,kf:{Range:"bytes="+n[0]+"-"+n[1]},Yf:i,Xf:wl.GET,nr:gl.Nf,Pr:e}));case 2:return r=s.sent,s.next=5,Sr.awrap(r.sf());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,Ve)},t}(),bq=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).jdt=void 0,r.jdt=n,r}return S(n,t),n}(Zt),Tq=function(){function t(t){this.e7=void 0,this.e7=t}return t.prototype.ybt=function(t,n,i,e){var r,s;return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(this.e7.t7(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Sr.awrap(this.e7.t7(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",yo(new m(s.buffer),n[0],n[1]));case 10:throw new bq({If:t,aZ:n,Yf:!1});case 11:case"end":return i.stop()}},null,this,null,Ve)},t}(),Sq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new CT([0,0]).oI,references:[]},Eq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},Iq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).DSt=void 0,u.CSt=void 0,u.E0=void 0,u.omt=void 0,u.DSt=new Aq(i),u.E0=e,u.CSt=r,u.omt=s,u}S(n,t);var i=n.prototype;return i.ybt=function(n,i,e,r){var s;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Sr.awrap(t.prototype.ybt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),Us(u.t0);case 9:return u.next=11,Sr.awrap(this.DSt.ybt(n,i,e,r));case 11:return s=u.sent,u.next=14,Sr.awrap(this.xSt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],Ve)},i.xSt=function(t,i,e){var r,s,u,o,h,a,c,f=this;return Sr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.CSt){v.next=2;break}return v.abrupt("return");case 2:return r=this.E0.y0,s=BP(t,i),v.next=6,Sr.awrap(r.cs(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Sr.awrap(gq(u,this.CSt,r));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},h=n.gSt(s,o,this.CSt),a=h.segmentMetadataEntry,c=h.segmentEntry,v.next=17,Sr.awrap(this.E0.b0(function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(t.y0.c0(a,f.omt));case 2:return n.next=4,Sr.awrap(t.m0.c0(c,f.omt));case 4:case"end":return n.stop()}},null,null,null,Ve)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new jz("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],Ve)},n.gSt=function(t,n,i){return{segmentMetadataEntry:Er({},Sq,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Er({},Eq,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(Tq);var Rq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.OSt=function(t,n,i,e,r,s,u){return new wq(t,n,i,e,r,s,u)},n}(function(){function t(t){this.JA=t}return t.prototype.tY=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.FE.sources[0].useCredentials),r=new kq(this.JA,ml.Nf),s=new DM(this.JA,e),u=new CM(n.p0,n.y0,n.m0,n.A0),o=function(t,n,i,e,r){return new Iq(n,t,i,e,r)}(this.JA,u,n,t.ul,i),h=new IP,a=new LM(BM(s,u),h,t);return this.OSt(t,n,a,h,r,o,i)},t}());function Nq(t){var n,i={get id(){return t.ul},get status(){return t.pf},get source(){return t.FE},get parameters(){return t.lh},get duration(){return t.r_},get cached(){return t.PSt.kE()},get secondsCached(){return t.BSt},get percentageCached(){return t.LSt},get bytes(){return t.MSt},get bytesCached(){return t.USt},get license(){return t.UD.gd},start:function(){t.eI()},pause:function(){t.M_()},remove:function(){t.jo()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}};return n=new xI(t,["BK","jyt"],i),i}var Dq=function(){function t(t,n,i){this.o7=t,this.E0=n,this.e$=i}var n=t.prototype;return n.FSt=function(){var t=this;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.E0.b0(function(n){return Sr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Sr.awrap(t.HSt(n));case 2:return i.next=4,Sr.awrap(t.VSt(n));case 4:return i.next=6,Sr.awrap(t.zSt(n));case 6:return i.next=8,Sr.awrap(t.WSt(n));case 8:case"end":return i.stop()}},null,null,null,Ve)}));case 2:case"end":return n.stop()}},null,this,null,Ve)},n.HSt=function(t){var n,i;return Sr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.k0,i=this.o7.ul,e.next=4,Sr.awrap(n.jo(i));case 4:case"end":return e.stop()}},null,this,null,Ve)},n.VSt=function(t){var n,i,e,r,s,u,o,h=this;return Sr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.y0,i=t.m0,yg(e=this.o7.FE.sources[0])){a.next=5;break}return a.abrupt("return");case 5:return r=PP(e.src),a.next=8,Sr.awrap(n._0(r,"manifestURL"));case 8:s=a.sent.filter(function(t){return Is(t.references,h.o7.ul)}),u=0;case 10:if(!(u<s.length)){a.next=25;break}if(Ss((o=s[u]).references,this.o7.ul),0!==o.references.length){a.next=20;break}return a.next=16,Sr.awrap(n.jo(o.key));case 16:return a.next=18,Sr.awrap(i.jo(o.key));case 18:a.next=22;break;case 20:return a.next=22,Sr.awrap(n.c0(o));case 22:u++,a.next=10;break;case 25:case"end":return a.stop()}},null,this,null,Ve)},n.zSt=function(t){var n,i,e,r,s,u=this;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.p0,i=this.XSt(),o.next=4,Sr.awrap(n.v0(i));case 4:e=o.sent.filter(function(t){return Is(t.references,u.o7.ul)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Ss((s=e[r]).references,this.o7.ul),0!==s.references.length){o.next=14;break}return o.next=12,Sr.awrap(n.jo(s.key));case 12:o.next=16;break;case 14:return o.next=16,Sr.awrap(n.c0(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,Ve)},n.XSt=function(){if(!this.e$)return[];var t=this.o7.FE.sources[0];if(!yg(t))return[];var n=PP(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Lmt;i<e.length;i++)for(var r=0,s=e[i].zmt;r<s.length;r++)for(var u=0,o=s[r].Np;u<o.length;u++)for(var h=0,a=o[u].fl;h<a.length;h++){var c=a[h];c.ipt&&n.push(c.ipt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.e$).map(function(t){return{src:t}}).map(function(t){return PP(t.src)});return[n].concat(i)},n.WSt=function(t){var n,i,e,r,s=this;return Sr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.A0,u.next=3,Sr.awrap(n.d0());case 3:i=u.sent.filter(function(t){return Is(t.references,s.o7.ul)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Ss((r=i[e]).references,this.o7.ul),0!==r.references.length){u.next=14;break}return u.next=11,Sr.awrap(n.jo(r.key));case 11:this.qSt(r),u.next=16;break;case 14:return u.next=16,Sr.awrap(n.c0(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,Ve)},n.qSt=function(t){},t}(),Cq=new(function(){function t(){}return t.prototype.tY=function(t,n,i){return new Dq(t,n,i)},t}());var xq=function(){function t(t,n){this.wd=void 0,this.Yv=t,this.GSt=n}var n=t.prototype;return n.g6=function(t){this.QSt(t)},n.QSt=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Sr.awrap(this.GSt.lSt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.Yv.cmt(Nz.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],Ve)},b(t,[{key:"gd",get:function(){var t;return this.wd||(this.wd=(t=this,{renew:function(n){t.g6(n)}})),this.wd}}]),t}(),Oq=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bo=void 0,o.umt=void 0,o.wd=void 0,o.Uwt=void 0,o.YSt=void 0,o.E0=void 0,o.GSt=void 0,o.jSt=new Ps,o.ZSt=void 0,o.evictOnLoading=function(){o.Xr("jyt",o.evictOnLoading),o.JSt()},o.Bo=n,o.Uwt=i,o.YSt=e,o.E0=r,o.GSt=s.tY(Yt(o),o.E0,u),o.ZSt=new xq(Yt(o),o.GSt),o.umt=1===o.GSt.eSt.Smt?Nz.DONE:Nz.IDLE,o.GSt.Hr("BK",function(t){o.Ur(t),1===o.LSt&&o.cmt(Nz.DONE)});var a=new Date,c=o.YSt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.JSt()},c),o}S(n,t);var i=n.prototype;return i.cmt=function(t){this.umt!==t&&(this.umt=t,this.Fr(new Cz))},i.eI=function(){this.umt===Nz.EVICTED||this.umt===Nz.DONE||this.$St()},i.$St=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.cmt(Nz.LOADING),t=new Ps,this.jSt=t,n.next=6,Sr.awrap(this.GSt.rSt(t.Pr));case 6:this.cmt(Nz.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),Ls(n.t0)?this.cmt(Nz.IDLE):this.cmt(Nz.ERROR);case 12:return n.prev=12,this.jSt.Sr(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],Ve)},i.M_=function(){this.jSt.Cr()},i.jo=function(){this.pf===Nz.LOADING?(this.Hr("jyt",this.evictOnLoading),this.M_()):this.JSt()},i.JSt=function(){var t;return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Sr.awrap(this.GSt.dSt());case 3:return t=n.sent,n.next=6,Sr.awrap(Cq.tY(this,this.E0,t).FSt());case 6:this.GSt.eSt=Xz.bmt(),this.cmt(Nz.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.cmt(Nz.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],Ve)},b(n,[{key:"gd",get:function(){return this.wd||(this.wd=Nq(this)),this.wd}},{key:"ul",get:function(){return this.Bo}},{key:"UD",get:function(){return this.ZSt}},{key:"pf",get:function(){return this.umt}},{key:"FE",get:function(){return this.Uwt}},{key:"lh",get:function(){return this.YSt}},{key:"r_",get:function(){return this.GSt.eSt.MI}},{key:"PSt",get:function(){return this.GSt.eSt.Amt}},{key:"BSt",get:function(){return this.GSt.eSt.kmt}},{key:"LSt",get:function(){return this.GSt.eSt.Smt}},{key:"MSt",get:function(){return this.GSt.kSt}},{key:"USt",get:function(){return this.GSt.eSt.Tmt}}]),n}(Kw);var Pq=function(){function t(t,n){this.E0=t,this.KSt=n}var n=t.prototype;return n.lmt=function(t,n,i){var e=_E();return this.vmt(e,t,n,i)},n.vmt=function(t,n,i,e){return new Oq(t,n,i,this.E0,this.KSt,e)},t}(),Bq=30,Lq=5;function Mq(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(X(t)&&!ts(t,"%"))return w(t);return t}(t.amount);!function(t){if(i=t,X(i)&&ts(i,"%")){var n=g(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!X(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+Bq),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return Lq;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var Uq=function(t){function n(n,i){var e;return(e=t.call(this)||this).wd=void 0,e.tEt=n,e.HP=i,e.tEt.Hr("jyt",e.Ur),e}return S(n,t),n.prototype.nEt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=FS(t),r=Mq(n),RS(e))throw new v("Invalid source description");return this.tEt.vmt(e,r).gd},b(n,[{key:"gd",get:function(){var t,n,i;return this.wd||(this.wd=(i={get status(){return t.pf},get tasks(){return t.gmt},get network(){return t.KP.gd},createTask:function(n,i){return t.nEt(n,i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new OI(t=this,i),i)),this.wd}},{key:"pf",get:function(){return this.tEt.pf}},{key:"gmt",get:function(){return this.tEt.gmt.gd}},{key:"KP",get:function(){return this.HP}}]),n}(Kw);(Fq=new wI(i.fd,!1),Hq=OP.Nn,Vq=new Rq(Fq),zq=new Pq(Hq,Vq),Wq=new yI(Fq),Xq=new Hz(Hq.k0,zq,"persistent"),new Uq(Xq,Wq)).gd;var Fq,Hq,Vq,zq,Wq,Xq,qq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bo=void 0,s.umt=void 0,s.wd=void 0,s.Uwt=void 0,s.YSt=void 0,s.bu=0,s.iEt=CT.VI(),s.eEt=0,s.rEt=0,s.tEt=void 0,s.Bo=n,s.umt=Nz.IDLE,s.Uwt=i,s.YSt=e,s.tEt=r,s}S(n,t);var i=n.prototype;return i.eI=function(){this.tEt.startCachingTask(this)},i.jo=function(){this.tEt.removeCachingTask(this)},b(n,[{key:"gd",get:function(){return this.wd||(this.wd=Nq(this)),this.wd}},{key:"ul",get:function(){return this.Bo}},{key:"pf",get:function(){return this.umt},set:function(t){this.umt!==t&&(this.umt=t,this.Fr(new Cz))}},{key:"FE",get:function(){return this.Uwt}},{key:"lh",get:function(){return this.YSt}},{key:"r_",get:function(){return this.bu},set:function(t){this.bu=t}},{key:"PSt",get:function(){return this.iEt},set:function(t){this.iEt=t}},{key:"BSt",get:function(){return this.eEt},set:function(t){this.eEt=t}},{key:"LSt",get:function(){return this.rEt},set:function(t){this.rEt=t,this.Fr(new Wz)}}]),n}(tg),Gq=30;function Qq(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+Gq),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var Yq=function(t){function n(){var n;return(n=t.call(this)||this).umt=Pz.UNINITIALISED,n.dB=new Fz,n.qgt=void 0,n.oyt=void 0,n.sEt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.pf=Nz.EVICTED,i.LSt=0,i.BSt=0,i.r_=0,i.PSt=CT.VI(),n.dB.jo(i))}},n.uEt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.pf=e);var r=t.detail.percentage;r&&(i.LSt=r);var s=t.detail.duration;s&&(i.r_=s);var u=t.detail.seconds;u&&(i.BSt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.PSt=new CT(h)}}}},n.oEt=function(t){if(t.detail){var i=FS(JSON.parse(t.detail.source));if(!n.hEt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.vmt(i,Qq(e),s)}}},n.aEt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.vmt(FS(r),Qq(i),s);u.pf=t.detail.status,u.LSt=t.detail.percentage,u.r_=t.detail.duration,u.BSt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.PSt=new CT(h)}},n.cEt=function(t){t.detail&&n.cmt(t.detail.status)},n.qgt=new Sz,n.oyt=new rz,$V().cache={sdkEventBus:n.oyt},n.x$(),n}S(n,t);var i=n.prototype;return i.cmt=function(t){this.umt!==t&&(this.umt=t,this.Fr(new Cz))},i.vmt=function(t,n,i){void 0===i&&(i=void 0);var e=new qq(i||_E(),t,n,this);return this.dB.pw(e),i||this.qgt.FQ("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e.ul}),e},i.findTaskWithId=function(t){for(var n=0,i=this.dB.Jyt;n<i.length;n++){var e=i[n];if(e.ul===t)return e}},i.hEt=function(t){for(var n=Zq(t.sources),i=0,e=this.dB.Jyt;i<e.length;i++){if(Zq(e[i].FE.sources).src===n.src)return!0}return!1},i.x$=function(){this.oyt.addEventListener("deleteTask",this.sEt),this.oyt.addEventListener("updateValues",this.uEt),this.oyt.addEventListener("newTask",this.oEt),this.oyt.addEventListener("restoreTask",this.aEt),this.oyt.addEventListener("setCacheStatus",this.cEt)},i.startCachingTask=function(t){this.qgt.FQ("THEOplayerCacheStartCachingTask",{id:t.ul})},i.removeCachingTask=function(t){this.qgt.FQ("THEOplayerCacheRemoveCachingTask",{id:t.ul})},b(n,[{key:"pf",get:function(){return this.umt}},{key:"gmt",get:function(){return this.dB}}]),n}(Js),jq=function(t){function n(n){var i;return(i=t.call(this,n)||this).fEt=n,i.fEt.Hr("jyt",i.Ur),i}return S(n,t),n.prototype.nEt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=FS(t),e=Qq(n),RS(i))throw new v("Invalid source description");if(!Zq(i.sources))throw new v("The provided sources can't be cached");return this.fEt.vmt(i,e).gd},n}(Uq);function Zq(t){for(var n=0;n<t.length;n++){var i=t[n];if(lg(i.type))return i}}var Jq,$q,Kq=function(){var t=new Yq;return new jq(t)}().gd;!function(t){t.vEt="any",t.dEt="natural",t.lEt="landscape",t._Et="portrait",t.wEt="portrait-primary",t.gEt="portrait-secondary",t.yEt="landscape-primary",t.mEt="landscape-secondary"}(Jq||(Jq={})),function(t){t.wEt="portrait-primary",t.gEt="portrait-secondary",t.yEt="landscape-primary",t.mEt="landscape-secondary"}($q||($q={}));var tG,nG,iG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qgt=new Sz,n.pEt=Jq.dEt,n.kEt=$q.wEt,n.AEt=$q.wEt,n.bEt=$q.wEt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.pEt=t,n.qgt.FQ("THEOplayerOrientationLock",t),n.TEt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.pEt=Jq.dEt,t.qgt.FQ("THEOplayerOrientationUnlock"),t.type=t.AEt,t.TEt(),n()})},i.TEt=function(){var t=this.bEt,n=this.type;t!==n&&(this.bEt=n,this.Fr(new Ks("change")))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n.SEt=function(t){switch(t){case Jq.wEt:return[$q.wEt];case Jq.gEt:return[$q.gEt];case Jq._Et:return[$q.wEt,$q.gEt];case Jq.yEt:return[$q.yEt];case Jq.mEt:return[$q.mEt];case Jq.lEt:return[$q.yEt,$q.mEt];case Jq.dEt:return[$q.wEt,$q.yEt,$q.mEt];case Jq.vEt:return[$q.wEt,$q.gEt,$q.yEt,$q.mEt]}},n.EEt=function(t,i){return n.SEt(i).indexOf(t)>=0},b(n,[{key:"type",get:function(){return this.kEt},set:function(t){this.AEt=t,n.EEt(t,this.pEt)?(this.kEt=t,this.TEt()):(t===$q.yEt&&this.pEt===Jq.mEt&&(this.kEt=$q.mEt,this.TEt()),t===$q.mEt&&this.pEt===Jq.yEt&&(this.kEt=$q.yEt,this.TEt()))}},{key:"angle",get:function(){switch(this.type){case $q.yEt:return-90;case $q.mEt:return 90;case $q.wEt:return 0;case $q.gEt:return 180;default:return 0}}}]),n}(tg);iG.Nn=new iG,r.screen.orientation=iG.Nn,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.IEt="unavailable",t.REt="available",t.NEt="presenting"}(tG||(tG={})),hR(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.H_=function(n){t.prototype.H_.call(this,n);var i=this.gd;this.gd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===tG.NEt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(Jq.mEt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},tR.iB),function(t){t.vd="addtrack",t.ld="removetrack",t.Dd="change",t.Ld="update"}(nG||(nG={}));var eG=function(t,n,i){this.type=nG.Dd,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},rG=function(t,n){this.type=nG.vd,this.mediaType=t,this.mediaTrack=n},sG=function(t,n){this.type=nG.ld,this.mediaType=t,this.mediaTrack=n},uG=function(t,n){this.type=nG.Ld,this.mediaType=t,this.mediaTrack=n},oG=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.DEt=function(t){var n=new eG(e.type,t.track,e.mediaTracks);e.messageDispatcher.CEt(n)},this.xEt=function(t){var n=new rG(e.type,t.track);e.messageDispatcher.CEt(n),t.track.addEventListener("update",e.OEt)},this.PEt=function(t){var n=new sG(e.type,t.track);e.messageDispatcher.CEt(n)},this.OEt=function(t){var n=new uG(e.type,t.track);e.messageDispatcher.CEt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.x$()}return t.prototype.x$=function(){this.mediaTracks.addEventListener("change",this.DEt),this.mediaTracks.addEventListener("addtrack",this.xEt),this.mediaTracks.addEventListener("removetrack",this.PEt)},t}(),hG=function(){function t(){this.BEt=void 0,this.BEt=new Sz}return t.prototype.CEt=function(t){this.BEt.FQ(t.type,kV(t))},t}();fR(function(t){if(t.gd.audioTracks){var n=new hG;new oG("audio",t.gd.audioTracks,n)}if(t.gd.videoTracks){var i=new hG;new oG("video",t.gd.videoTracks,i)}});var aG,cG,fG=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case aG.LEt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Fr(new vG(i));break;default:0}},n}(rz),vG=function(t){function n(n){var i;return(i=t.call(this,aG.LEt)||this).detail=n,i}return S(n,t),n}(Ks);!function(t){t.LEt="registerContentProtectionIntegration"}(aG||(aG={})),function(t){t.MEt="certifiateRequest",t.UEt="certifiateResponse",t.FEt="licenseRequest",t.HEt="licenseResponse",t.VEt="extractFairplayContentId",t.zEt="buildContentProtection",t.WEt="registerContentProtectionCallback"}(cG||(cG={}));var dG,lG=function(t,n){this.type=cG.WEt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(dG||(dG={}));var _G,wG=function(t,n){this.type=cG.zEt,this.value=t,this.integrationId=n},gG=function(t,n){this.type=cG.MEt,this.value=t,this.integrationId=n},yG=function(t,n){this.type=cG.UEt,this.value=t,this.integrationId=n},mG=function(t,n){this.type=cG.VEt,this.value=t,this.integrationId=n},pG=function(t,n){this.type=cG.FEt,this.value=t,this.integrationId=n},kG=function(t,n){this.type=cG.HEt,this.value=t,this.integrationId=n},AG=function(){function t(t,n){this.XEt=void 0,this.oT=void 0,this.XEt=t,this.oT=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e=new gG(i,this.oT),h.prev=2,h.next=5,Sr.awrap(this.XEt.qEt(e));case 5:if(!(r=h.sent)){h.next=16;break}if(s=JSON.parse(r),!this.GEt(s)){h.next=13;break}return u=Er({},s),h.abrupt("return",u);case 13:if(!this.QEt(s)){h.next=16;break}return o=new m(s),h.abrupt("return",o);case 16:throw new cy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw h.prev=19,h.t0=h.catch(2),new cy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 22:case"end":return h.stop()}},null,this,[[2,19]],Ve)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Sr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new yG(e,this.oT),o.next=5,Sr.awrap(this.XEt.qEt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new m(u));case 11:throw new cy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,Ve)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,h;return Sr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new pG(e,this.oT),a.prev=3,a.next=6,Sr.awrap(this.XEt.qEt(r));case 6:if(!(s=a.sent)){a.next=17;break}if(u=JSON.parse(s),!this.GEt(u)){a.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new m(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.QEt(u)){a.next=17;break}return h=new m(u),a.abrupt("return",h);case 17:throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new cy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],Ve)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Sr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Er({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new kG(r,this.oT),h.next=6,Sr.awrap(this.XEt.qEt(s));case 6:if(!(u=h.sent)){h.next=12;break}return o=JSON.parse(u),h.abrupt("return",new m(o));case 12:throw new cy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return h.stop()}},null,this,null,Ve)},i.extractFairplayContentId=function(t){var i,e;return Sr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new mG(t,this.oT),r.next=3,Sr.awrap(this.XEt.qEt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",Ve.reject(new cy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,Ve)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.GEt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.QEt=function(t){return!!new m(t)},t}(),bG=function(){function t(t){this.XEt=void 0,this.XEt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new AG(this.XEt,t.integration),i=new wG({drmConfiguration:t},t.integration);return this.XEt.qEt(i),n},t}(),TG=function(){var t=this;this.oyt=void 0,this.YEt=function(n){var i=new bG(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:gA.dT.aT(r,s,i)};t.messageDispatcher.qEt(new lG(u,r))},this.oyt=new fG,$V().contentProtectionIntegration={sdkEventBus:this.oyt},this.oyt.addEventListener(aG.LEt,this.YEt)},SG="nativePromiseCallback",EG=function(t){function n(n){var i;return(i=t.call(this,SG)||this).detail=n,i}return S(n,t),n}(Ks);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(_G||(_G={}));var IG=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new EG(n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(rz),RG=function(){function t(){var t=this;this.BEt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case _G.RESOLVE:i.Rs(n.detail.data);break;case _G.REJECT:i.Ns(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new IG;$V().nativePromise={sdkEventBus:n},n.addEventListener(SG,this.handleNativePromiseEvent)}return t.prototype.qEt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Er({},n,{promiseId:e}),s=new Ao;return this.promisesMap[e]=s,null==(i=this.BEt)||i.FQ(n.type,mV(r)),s.Ss},t}();RG.messageIdTracker=-1;var NG=function(t){function n(){var n;return(n=t.call(this)||this).BEt=new Sz,n}return S(n,t),n}(RG),DG=function(t){function n(){var n;return(n=t.call(this)||this).XEt=new NG,n}return S(n,t),b(n,[{key:"messageDispatcher",get:function(){return this.XEt}}]),n}(TG);fR(function(t){new DG});var CG=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(Ks);var xG,OG=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).jEt=function(){},e.ZEt(),e}S(n,t);var e=n.prototype;return e.JEt=function(){this.QE&&this.QE.Xr(Fc.ra,this.handleAirplayChangedEvent),this.QE=this.Ex,this.QE.Hr(Fc.ra,this.handleAirplayChangedEvent)},e.$Et=function(){return Sr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.QE){t.next=2;break}return t.abrupt("return");case 2:this.KEt(vS.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,Ve)},e.tIt=function(){this.KEt(vS.AVAILABLE)},e.z_=function(){i.Pe.Ki&&(this.nIt.X_(),this.iIt.Cr(),this.iIt=new Ps,qs(this.eIt(this.iIt.Pr)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).wd=void 0,e.nIt=void 0,e.QE=void 0,e.Ex=void 0,e.Di=vS.UNAVAILABLE,e.iIt=new Ps,e.jEt=void 0,e.handleAirplayChangedEvent=function(){e.QE&&e.QE.ow?e.$Et():e.b2===vS.CONNECTED&&e.tIt()},e.nIt=n,e.Ex=i,e}S(n,t);var e=n.prototype;return e.ZEt=function(){this.JEt(),this.nIt.Hr("sourcechange",this.jEt),i.Pe.Ki&&this.KEt(vS.AVAILABLE)},e.preloadPlayer=function(t){if(Ms(t),this.QE.kl<ag.Ql){var n=this.QE.Yr("loadedmetadata",t);return this.QE.ww=bT.Mm,n}return Ve.resolve()},e.KEt=function(t){t!==this.Di&&(this.Di=t,this.Fr(new CG(this.Di)))},e.eIt=function(t){return Sr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Sr.awrap(this.preloadPlayer(t));case 2:this.Ex.z_();case 3:case"end":return n.stop()}},null,this,null,Ve)},e.W_=function(){i.Pe.Ki&&this.QE.W_()},e.Jf=function(){this.Wr(),this.nIt.Xr("sourcechange",this.jEt),this.iIt.Cr()},b(n,[{key:"tP",get:function(){return this.b2===vS.CONNECTED}},{key:"b2",get:function(){return this.Di}},{key:"gd",get:function(){var t;return this.wd||(this.wd=(t=this,{get casting(){return t.tP},get state(){return t.b2},start:function(){t.z_()},stop:function(){t.W_()},addEventListener:function(n,i){var e=Lw(n,Pw);t.Hr(e,i)},removeEventListener:function(n,i){var e=Lw(n,Pw);t.Xr(e,i)}})),this.wd}}]),n}(Js));hR(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.yd=function(){var n=this.JP.gd;return Ew(t.prototype.yd.call(this),{get cast(){return n}})},n}(t)},tR.nB),hR(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).rIt=void 0,e.rIt=new OG(Yt(e),e.QO),e.JP.KO(e.rIt),e.Hr("currentsourcechange",function(){e.rIt.JEt()}),e}S(n,t);var i=n.prototype;return i.yd=function(){var n=this,i=t.prototype.yd.call(this);return Ew(i.cast,{get airplay(){return n.rIt.gd}}),i},i.Jf=function(){this.rIt.Jf(),t.prototype.Jf.call(this)},n}(t)},tR.nB),function(t){t.sIt="airplaystatechange"}(xG||(xG={}));var PG=function(t){this.type=xG.sIt,this.state=t},BG=function(t){function n(n){var i;return(i=t.call(this)||this).uIt=void 0,i.oIt=function(t){var n=new PG(t.state);i.CEt(n)},i.uIt=n,i.x$(n),i}return S(n,t),n.prototype.x$=function(t){t.addEventListener("statechange",this.oIt)},n}(hG);fR(function(t){var n;null!=(n=t.gd.cast)&&n.airplay&&new BG(t.gd.cast.airplay)}),n.ChromelessPlayer=NR,n.Player=NR,n.cache=Kq,n.createGlobals=nz,n.features=["hls","airplay"],n.getCueMirrorMap=KV,n.getGlobalId=tz,n.getSdkEventBridge=$V,n.playerSuiteVersion="2022.2.0",n.players=xR,n.registerContentProtectionIntegration=OR,n.utils=CR,n.version="3.3.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
