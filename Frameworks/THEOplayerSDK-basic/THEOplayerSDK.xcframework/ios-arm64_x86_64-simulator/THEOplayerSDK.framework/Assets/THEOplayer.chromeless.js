/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.2.2 (3.5.0)
 Created: 2022-06-02T15:02:39.098Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,m=t.isNaN,y=t.Uint8Array,p=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),l.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.R="android-tv",t.I="ios",t.N="tvos",t.C="chromecast"}(e||(e={}));var E=o?o.userAgent:"",R=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),I=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),O=E.match(/Firefox\/([0-9\.]+)/i),P=E.match(/OPR\/(\d+\.\d+)/i),x=E.match(/Tizen ([0-9\.]+)/i),B=function(){function n(){this.B=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.M=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.U=/Windows NT/i.test(E),this.F=D?w(D[1]):0,this.H=/Android/i.test(E),this.V=N?w(N[1]):0,this.G=/windows phone (8|8\.1)/i.test(E),this.Y=/iPhone/i.test(E),this.j=/iPad/i.test(E),this.Z=this.M&&this.B&&!this.j,this.J=/iPod/i.test(E),this.K=/Mobile Safari/i.test(E),this.nt=/EOSSTB/i.test(E),this.it=(this.Y||this.j||this.Z||this.J)&&!this.G,this.et=this.G||this.it||this.H||this.K,this.st=/CriOS/i.test(E),this.ut=Boolean(t.chrome&&/google/i.test(o.vendor))||this.st,this.ot=this.ut&&/Edg\//i.test(o.userAgent),this.ht=I?g(I[1],10):0,this.ct=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.ft=R?g(R[1],10):0,this.vt=/SMART-TV.*Tizen/i.test(E),this.dt=x?w(x[1]):0,this._t=/webos|web0s/i.test(E),this.wt=/Edge\/\d+/i.test(E),this.yt=/Trident/i.test(E),this.pt=this.yt&&!t.ActiveXObject&&"ActiveXObject"in t,this.kt=/Vivaldi/i.test(E),this.bt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.At=O?w(O[1]):0,this.Tt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.G&&!this.vt,this.St=C?w(C[2]):0,this.Et=Boolean(P),this.Rt=P?w(P[1]):0,this.It=/CrKey/.test(E),this.Nt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Dt="ios"===e.R,this.Ct="ios"===e.g,this.Ot=this.Ct||this.Dt,this.Pt="ios"===e.I,this.xt="ios"===e.N,this.Bt="ios"===e.C}return A(n,[{key:"Lt",get:function(){return this.B}},{key:"Mt",get:function(){return this.M}},{key:"Ut",get:function(){return this.U}},{key:"Ft",get:function(){return this.F}},{key:"Ht",get:function(){return this.H}},{key:"zt",get:function(){return this.V}},{key:"Vt",get:function(){return this.G}},{key:"Wt",get:function(){return this.Y}},{key:"Xt",get:function(){return this.j}},{key:"qt",get:function(){return this.Z}},{key:"Gt",get:function(){return this.J}},{key:"Qt",get:function(){return this.it}},{key:"Yt",get:function(){return this.nt}},{key:"jt",get:function(){return this.K}},{key:"Zt",get:function(){return this.et}},{key:"Jt",get:function(){return this.st}},{key:"$t",get:function(){return this.ut}},{key:"Kt",get:function(){return this.ft}},{key:"tn",get:function(){return this.ot}},{key:"nn",get:function(){return this.ht}},{key:"in",get:function(){return this.vt}},{key:"rn",get:function(){return this.dt}},{key:"sn",get:function(){return this._t}},{key:"un",get:function(){return this.wt}},{key:"hn",get:function(){return this.yt}},{key:"an",get:function(){return this.pt}},{key:"cn",get:function(){return this.kt}},{key:"fn",get:function(){return this.bt}},{key:"vn",get:function(){return this.At}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"_n",get:function(){return this.Et}},{key:"gn",get:function(){return this.Rt}},{key:"wn",get:function(){return this.It}},{key:"mn",get:function(){return this.Nt}},{key:"yn",get:function(){if(!(this.sn||this.in))return!1;var t=this.Kt;return void 0===t||Number(t)<56}},{key:"pn",get:function(){return this.Dt}},{key:"kn",get:function(){return this.Ct}},{key:"bn",get:function(){return this.Ot}},{key:"An",get:function(){return this.Pt}},{key:"Tn",get:function(){return this.xt}},{key:"Sn",get:function(){return this.Bt}},{key:"En",get:function(){return this.ct}}]),n}();B.Rn=new B;var L=B.Rn,M={}.hasOwnProperty,U={}.toString;function F(t){return null!=t}var H=Array.isArray||function(t){return"[object Array]"===U.call(t)};function z(t){return V(t)&&M.call(t,"length")&&Y(t.length)}function V(t){return"object"==typeof t&&null!==t}function W(t){return V(t)&&t.constructor&&t.constructor===l}function X(t){return"string"==typeof t}function q(t){return"boolean"==typeof t}function G(t){return Boolean(t)&&"function"==typeof t.then}function Q(t){return"[object Date]"===U.call(t)}function Y(t){return"number"==typeof t}var j=function(){},Z=function(t){return t};function J(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var h=this,a=e&&!r;void 0!==r&&i.In(r),r=i.Nn(function(){r=void 0,e||t.apply(h,u)},n),a&&t.apply(h,u)}}var $=!(L.hn&&!L.an),K=t.console;function tt(t){if(V(t))try{return JSON.stringify(t)}catch(t){}return t}function nt(t){return t.map(tt).join(" ")}function it(t){var n=K&&K[t];return n?n.bind&&$?n.bind(K):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];K[t](nt(i))}:void 0}var et,rt=it("log")||j,st=it("warn")||rt.bind(void 0,"WARNING:"),ut=it("error")||rt.bind(void 0,"ERROR:"),ot=(et=K&&K.assert)?et.bind&&$?et.bind(K):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];K.assert(t,nt(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ut.apply(void 0,["Assertion failed:"].concat(i))}};function ht(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var at=ht(function(t,n){var i=function(t){l.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function i(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function e(t){return!0===(t&&t.Dn)}function r(t){var n=_.clz32(t&-t);return t?31-n:n}i.prototype.Dn,l.defineProperty(i.prototype,"Dn",{value:!0}),i.isLong=e;var s={},u={};function o(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=u[t])?e:(i=a(t,0,!0),r&&(u[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=s[t])?e:(i=a(t,t<0?-1:0,!1),r&&(s[t]=i),i)}function h(t,n){if(m(t))return n?T:A;if(n){if(t<0)return T;if(t>=p)return N}else{if(t<=-k)return D;if(t+1>=k)return I}return t<0?h(-t,n).neg():a(t%w|0,t/w|0,n)}function a(t,n,e){return new i(t,n,e)}i.fromInt=o,i.fromNumber=h,i.fromBits=a;var c=_.pow;function f(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?T:A;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return f(t.substring(1),n,i).neg();for(var r=h(c(i,8)),s=A,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),a=g(t.substring(u,u+o),i);if(o<8){var d=h(c(i,o));s=s.mul(d).add(h(a))}else s=(s=s.mul(r)).add(h(a))}return s.unsigned=n,s}function d(t,n){return"number"==typeof t?h(t,n):"string"==typeof t?f(t,n):a(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}i.fromString=f,i.fromValue=d;var w=4294967296,p=w*w,k=p/2,b=o(1<<24),A=o(0);i.ZERO=A;var T=o(0,!0);i.UZERO=T;var S=o(1);i.ONE=S;var E=o(1,!0);i.UONE=E;var R=o(-1);i.NEG_ONE=R;var I=a(-1,2147483647,!1);i.MAX_VALUE=I;var N=a(-1,-1,!0);i.MAX_UNSIGNED_VALUE=N;var D=a(0,-2147483648,!1);i.MIN_VALUE=D;var C=i.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*w+(this.low>>>0):this.high*w+(this.low>>>0)},C.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(D)){var n=h(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=h(c(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),a=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return a+u;for(;a.length<6;)a="0"+a;u=""+a+u}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(D)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(t){return e(t)||(t=d(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(t){if(e(t)||(t=d(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(D)?D:this.not().add(S)},C.neg=C.negate,C.add=function(t){e(t)||(t=d(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,s=65535&this.low,u=t.high>>>16,o=65535&t.high,h=t.low>>>16,c=0,f=0,v=0,l=0;return v+=(l+=s+(65535&t.low))>>>16,f+=(v+=r+h)>>>16,c+=(f+=i+o)>>>16,c+=n+u,a((v&=65535)<<16|(l&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},C.subtract=function(t){return e(t)||(t=d(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return this;if(e(t)||(t=d(t)),n)return a(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return this.unsigned?T:A;if(this.eq(D))return t.isOdd()?D:A;if(t.eq(D))return this.isOdd()?D:A;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(b)&&t.lt(b))return h(this.toNumber()*t.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,s=this.low>>>16,u=65535&this.low,o=t.high>>>16,c=65535&t.high,f=t.low>>>16,v=65535&t.low,l=0,_=0,g=0,w=0;return g+=(w+=u*v)>>>16,_+=(g+=s*v)>>>16,g&=65535,_+=(g+=u*f)>>>16,l+=(_+=r*v)>>>16,_&=65535,l+=(_+=s*f)>>>16,_&=65535,l+=(_+=u*c)>>>16,l+=i*v+r*f+s*c+u*o,a((g&=65535)<<16|(w&=65535),(l&=65535)<<16|(_&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(e(t)||(t=d(t)),t.isZero())throw v("division by zero");var i,r,s;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?a((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?T:A;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return T;if(t.gt(this.shru(1)))return E;s=T}else{if(this.eq(D))return t.eq(S)||t.eq(R)?D:t.eq(D)?S:(i=this.shr(1).div(t).shl(1)).eq(A)?t.isNegative()?S:R:(r=this.sub(t.mul(i)),s=i.add(r.div(t)));if(t.eq(D))return this.unsigned?T:A;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=A}for(r=this;r.gte(t);){i=_.max(1,_.floor(r.toNumber()/t.toNumber()));for(var u=_.ceil(_.log(i)/_.LN2),o=u<=48?1:c(2,u-48),f=h(i),l=f.mul(t);l.isNegative()||l.gt(r);)l=(f=h(i-=o,this.unsigned)).mul(t);f.isZero()&&(f=S),s=s.add(f),r=r.sub(l)}return s},C.div=C.divide,C.modulo=function(t){return e(t)||(t=d(t)),n?a((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return a(~this.low,~this.high,this.unsigned)},C.countLeadingZeros=function(){return this.high?_.clz32(this.high):_.clz32(this.low)+32},C.clz=C.countLeadingZeros,C.countTrailingZeros=function(){return this.low?r(this.low):r(this.high)+32},C.ctz=C.countTrailingZeros,C.and=function(t){return e(t)||(t=d(t)),a(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return e(t)||(t=d(t)),a(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return e(t)||(t=d(t)),a(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):a(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):a(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?a(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):a(32===t?this.high:this.high>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.rotateLeft=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),a(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},C.rotl=C.rotateLeft,C.rotateRight=function(t){var n;return e(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?a(this.high,this.low,this.unsigned):t<32?(n=32-t,a(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),a(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},C.rotr=C.rotateRight,C.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},C.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},i.fromBytes=function(t,n,e){return e?i.fromBytesLE(t,n):i.fromBytesBE(t,n)},i.fromBytesLE=function(t,n){return new i(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},i.fromBytesBE=function(t,n){return new i(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var O=i;return t.default=O,"default"in t?t.default:t}({});t.exports=i}),ct=_.pow(2,-52);function ft(t,n,i){return _.min(_.max(t,n),i)}function vt(t,n,i){return t===n||_.abs(t-n)<=i}function dt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<ct||i<_.max(_.abs(t),_.abs(n))*ct}function lt(t){return t!=t}function _t(t,n){return t===n||lt(t)&&lt(n)}function gt(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function wt(){return Date.now()||(new Date).getTime()}function mt(t){return t/1e3}var yt,pt=at.fromNumber(9007199254740991);function kt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(pt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function bt(t){return t.Cn===yt.On}function At(t){return t.Cn===yt.Pn}function Tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.On=1]="On",t[t.xn=2]="xn",t[t.Pn=3]="Pn",t[t.Bn=4]="Bn",t[t.Ln=9]="Ln"}(yt||(yt={}));var St=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(St.prototype=l.create(v.prototype)).constructor=St;var Et=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Tt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(St),Rt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(Et),It=function(){function t(){}return t.prototype.Mn=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Rt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Rt;return new Bt(n)},t}(),Nt=function(){function t(t){this.Un=void 0,this.Un=t}var n=t.prototype;return n.Fn=function(t){return this.Un.isEqualNode(t.Un)},n.Hn=function(n){return new t(this.Un.cloneNode(n))},A(t,[{key:"Cn",get:function(){return yt.xn}},{key:"zn",get:function(){var t;return null!=(t=this.Un.localName)?t:Ut(this.Un.nodeName)}},{key:"Vn",get:function(){return this.Un.nodeName}},{key:"Wn",get:function(){var t;return null!=(t=this.Un.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Un.prefix)?t:void 0}},{key:"qn",get:function(){return this.Un.nodeValue}}]),t}(),Dt=function(){function t(t){this.Gn=void 0,this.Qn=void 0,this.Gn=t}var n=t.prototype;return n.Yn=function(t){return this.jn.filter(function(n){return Lt(n)&&n.Zn===t})},n.Jn=function(t,n){return this.jn.filter(function(i){return Lt(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Gn.appendChild(t.Kn),this.Qn&&this.Qn.push(t)},n.Fn=function(t){return this.Gn.isEqualNode(t.Kn)},A(t,[{key:"jn",get:function(){return void 0===this.Qn&&(this.Qn=function(t){for(var n=[],i=0;i<t.length;i++){var e=Mt(t.item(i));e&&n.push(e)}return n}(this.Gn.childNodes)),this.Qn}},{key:"ti",get:function(){return this.jn.filter(Lt)}},{key:"Kn",get:function(){return this.Gn}}]),t}(),Ct=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ni=function(t){if(this.Gn.hasAttribute(t))return this.Gn.getAttribute(t)},i.ii=function(t,n){if(this.Gn.hasAttributeNS(t,n))return this.Gn.getAttributeNS(t,n)},i.ei=function(t){this.Gn.removeAttribute(t)},i.ri=function(t,n){this.Gn.removeAttributeNS(t,n)},i.si=function(t,n){this.Gn.setAttribute(t,n)},i.ui=function(t,n,i){this.Gn.setAttributeNS(t,n,i)},i.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return yt.On}},{key:"zn",get:function(){var t;return null!=(t=this.Gn.localName)?t:Ut(this.Gn.nodeName)}},{key:"Wn",get:function(){var t;return null!=(t=this.Gn.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Gn.prefix)?t:void 0}},{key:"Zn",get:function(){return this.Gn.nodeName}},{key:"oi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Nt(t.item(i)));return n}(this.Gn.attributes)}},{key:"hi",get:function(){return this.Gn.textContent}}]),n}(Dt),Ot=function(){function t(t){this.Gn=void 0,this.Gn=t}return t.prototype.Fn=function(t){return this.ai===t.ai},A(t,[{key:"ai",get:function(){return this.Gn.nodeValue}},{key:"Kn",get:function(){return this.Gn}}]),t}(),Pt=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return yt.Pn}}]),n}(Ot),xt=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return yt.Bn}}]),n}(Ot),Bt=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return yt.Ln}},{key:"ci",get:function(){return new Ct(this.Gn.documentElement)}}]),n}(Dt);function Lt(t){return bt(t)}function Mt(t){switch(t.nodeType){case yt.On:return new Ct(t);case yt.Pn:return new Pt(t);case yt.Bn:return new xt(t)}}function Ut(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function Ft(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function Ht(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){zt(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&zt(i,null,t.length,t),t}function zt(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(r=0;r<a;r+=f)for(u=(s=r+i)+i,s>a&&(s=a),u>a&&(u=a),o=r,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<s)e[c++]=t[o++];else{if(!(h<u))break;e[c++]=t[h++]}}var Vt=/[a-zA-Z]/,Wt=/[0-9]/,Xt=/[0-9a-fA-F]/,qt=/^0x/i,Gt=/^[0-9]+$/,Qt=/^[0-9a-fA-F]+$/,Yt=/^[0-7]+$/,jt=l.prototype.toString,Zt=Array.isArray||function(t){return"[object Array]"===jt.call(t)},Jt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function $t(t){return Zt(t)?t:Array.from(t)}function Kt(t){return t>=65&&t<=90}function tn(t){return Kt(t)||function(t){return t>=97&&t<=122}(t)}function nn(t){return t>=48&&t<=57}function en(t){return nn(t)||tn(t)}function rn(t){return nn(t)||t>=65&&t<=70||t>=97&&t<=102}function sn(t){return Kt(t)?t+32:t}function un(t){return nn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function on(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var hn=_.min,an=String.fromCharCode,cn=16384;function fn(t){for(var n=t.length,i=[],e=0;e<n;e+=cn){var r=hn(e+cn,n);i.push(an.apply(null,t.slice(e,r)))}return i.join("")}var vn=/[^\0-\x7E]/,dn=/[\x2E\u3002\uFF0E\uFF61]/g,ln={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_n=_.floor,gn=String.fromCharCode;function wn(t){throw new RangeError(ln[t])}function mn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var yn,pn,kn,bn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},An=function(t,n,i){var e=0;for(t=i?_n(t/700):t>>1,t+=_n(t/n);t>455;e+=36)t=_n(t/35);return _n(e+36*t/(t+38))},Tn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(dn,".")).split("."),n).join(".");return e+r}(t,function(t){return vn.test(t)?"xn--"+function(t){for(var n=[],i=(t=mn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(gn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var _=c+1;f-e>_n((2147483647-r)/_)&&wn("overflow"),r+=(f-e)*_,e=f;for(var g=0,w=t;g<w.length;g++){var m=w[g];if(m<e&&++r>2147483647&&wn("overflow"),m==e){for(var y=r,p=36;;p+=36){var k=p<=s?1:p>=s+26?26:p-s;if(y<k)break;var b=y-k,A=36-k;n.push(gn(bn(k+b%A,0))),y=_n(b/A)}n.push(gn(bn(y,0))),s=An(r,_,c==a),r=0,++c}}++r,++e}return n.join("")}(t):t})};function Sn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return fn(n)}function En(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Rn(t,n){return t>>n&63|128}function In(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(En(t),n.push(t>>12&15|224),n.push(Rn(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Rn(t,12)),n.push(Rn(t,6))),n.push(63&t|128)):n.push(t)}function Nn(t){for(var n=[],i=0;i<t.length;i++){In(t[i],n)}return n}function Dn(){if(kn>=pn)throw new v("Invalid byte index");var t=255&yn[kn];if(kn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function Cn(){var t,n;if(kn>pn)throw new v("Invalid byte index");if(kn===pn)return!1;if(t=255&yn[kn],kn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|Dn())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|Dn()<<6|Dn())>=2048)return En(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|Dn()<<12|Dn()<<6|Dn())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function On(t){return[37,on(t>>4),on(15&t)]}function Pn(t){return function(t){return t>=0&&t<=31}(t)||t>126}function xn(t){return Pn(t)||32===t||34===t||60===t||62===t||96===t}function Bn(t){return xn(t)||35===t||63===t||123===t||125===t}function Ln(t){return Bn(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function Mn(t){return t<33||t>126||34===t||35===t||60===t||62===t}function Un(t){return Mn(t)||39===t}function Fn(t,n){if(!n(t))return[t];for(var i=Nn([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,On(s))}return e}function Hn(t,n){for(var i=[],e=0,r=mn(t);e<r.length;e++){var s=r[e];i.push.apply(i,Fn(s,n))}return Sn(i)}function zn(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&rn(t[e+1])&&rn(t[e+2])){var s=un(t[e+1])<<4|un(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(Nn(t))}function Vn(t){return Sn(function(t){yn=t.slice(),pn=yn.length,kn=0;for(var n,i=[];!1!==(n=Cn());)i.push(n);return i}(zn(mn(t))))}function Wn(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&Xt.test(t[a]);)c=c<<4|g(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!Wt.test(t[a]))throw new d;for(;a<s&&Wt.test(t[a]);){var _=g(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)e=h+w-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,w-=1}else if(8!==o)throw new d;return u}function Xn(t){var n=10,i=Gt;return qt.test(t)?(t=t.slice(2),n=16,i=Qt):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Yt),""===t?0:i.test(t)?g(t,n):void 0}var qn={fi:4},Gn=/[\0\t\n\r #%/:?@\[\\\]]/,Qn=/[\0\t\n\r #/:?@\[\\\]]/;function Yn(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{fi:2,vi:Wn(t.slice(1,-1))}}if(!n)return function(t){if(Qn.test(t))throw new d("Invalid code point in opaque host");var n=Hn(t,Pn);return""===n?qn:{fi:3,di:n}}(t);var i=function(t){return function(t){return Tn(t.toLowerCase())}(t)}(Vn(t));if(Gn.test(i))throw new d("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=Xn(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==e?{fi:1,vi:e}:""===i?qn:{fi:0,li:i}}function jn(t){switch(t.fi){case 0:return t.li;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.vi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.vi)+"]";case 3:return t.di;case 4:return""}}var Zn=/\+/g;function Jn(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(Zn," "),o=o.replace(Zn," ");var h=Vn(u),a=Vn(o);i.push([h,a])}}return i}function $n(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Kn(Nn(mn(e[0])))+"="+Kn(Nn(mn(e[1])))}return n}function Kn(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||en(n)?i.push(r):i.push.apply(i,On(r))}return fn(i)}var ti=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function ni(t){var n=""+t,i=ti.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(ei(s))if(ri(s)||r===i-1)e.push(ii);else{var u=t.charCodeAt(r+1);ri(u)?(e.push(s,u),r++):e.push(ii)}else e.push(s)}return t.slice(0,n)+fn(e)}(n,i.index):n}var ii=65533,ei=function(t){return 55296==(63488&t)},ri=function(t){return 0!=(1024&t)};function si(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function ui(t){t._i.length=0}function oi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t._i,Jn(n))}function hi(t){if(t.gi){var n=$n(t._i);""===n&&(n=null),t.gi.gi.wi=n}}var ai=function(){function t(t){if(void 0===t&&(t=void 0),this.gi=null,null==t)this._i=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof ai&&Zt(s._i)&&(!Jt||s[Symbol.iterator]===ci))this._i=t._i.slice();else if(function(t){return null!=t&&(!!Zt(t)||!!Jt&&"function"==typeof t[Symbol.iterator])}(t)){this._i=[];for(var n=0,i=$t(t);n<i.length;n++){var e=$t(i[n]);if(2!==e.length)throw new d("Invalid name-value pair");this._i.push([ni(e[0]),ni(e[1])])}}else for(var r in this._i=[],t)l.prototype.hasOwnProperty.call(t,r)&&this._i.push([ni(r),ni(t[r])]);else(t=ni(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this._i=Jn(t);var s}var n=t.prototype;return n.append=function(t,n){t=ni(t),n=ni(n),this._i.push([t,n]),hi(this)},n.delete=function(t){t=ni(t);for(var n=this._i,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}hi(this)},n.get=function(t){t=ni(t);for(var n=this._i,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=ni(t);for(var n=this._i,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=ni(t);for(var n=this._i,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=ni(t),n=ni(n);for(var i=this._i,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),hi(this)},n.sort=function(){Ht(this._i,si),hi(this)},n.toString=function(){return $n(this._i)},n.entries=function(){return new li(this._i,fi)},n.keys=function(){return new li(this._i,vi)},n.values=function(){return new li(this._i,di)},n.forEach=function(t){var n=this;this._i.forEach(function(i){return t(i[1],i[0],n)})},t}(),ci=ai.prototype.entries;Jt&&(ai.prototype[Symbol.iterator]=ci);var fi=function(t){return[t[0],t[1]]},vi=function(t){return t[0]},di=function(t){return t[1]},li=function(){function t(t,n){this.mi=0,this._i=t,this.yi=n}return t.prototype.next=function(){return this.mi<this._i.length?{done:!1,value:this.yi(this._i[this.mi++])}:{done:!0,value:void 0}},t}(),_i="null";var gi=l.create(null);gi.ftp=21,gi.file=0,gi.gopher=70,gi.http=80,gi.https=443,gi.ws=80,gi.wss=443;var wi=/^(?:\.|%2e)$/i,mi=/^(?:\.|%2e){2}$/i;function yi(t){return wi.test(t)}function pi(t){return mi.test(t)}function ki(t){return void 0!==gi[t]}function bi(t){return ki(t.pi)}function Ai(t){return""!==t.ki||""!==t.bi}function Ti(t){var n=t.length;if(!(n>=2))return!1;if(!Ei(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function Si(t){return 2===t.length&&Vt.test(t[0])&&(":"===t[1]||"|"===t[1])}function Ei(t){return 2===t.length&&Si(fn(t))}function Ri(t){return Si(t)&&":"===t[1]}function Ii(t){var n=t.Ai;0!==n.length&&("file"===t.pi&&1===n.length&&Ri(n[0])||n.pop())}function Ni(t){return null===t.Ti||qn===t.Ti||t.Si||"file"===t.pi}var Di=-1,Ci=/\t|\n|\r/g,Oi=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function Pi(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new Bi,t=t.replace(Oi,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=mn(t=t.replace(Ci,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:Di;switch(r){case 0:if(!tn(v)){if(null===e){s.length=0,r=2;continue}throw new d("Invalid scheme")}s.push(sn(v)),r=1;break;case 1:if(en(v)||43===v||45===v||46===v)s.push(sn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new d("Invalid scheme")}var l=Sn(s);if(null!==e){if(ki(i.pi)&&!ki(l))return;if(!ki(i.pi)&&ki(l))return;if((Ai(i)||null!==i.Ei)&&"file"===l)return;if("file"===i.pi&&(i.Ti===qn||null===i.Ti))return}if(i.pi=l,null!==e)return void(bi(i)&&i.Ei===gi[i.pi]&&(i.Ei=null));s.length=0,"file"===i.pi?r=13:bi(i)&&n&&n.pi===i.pi?r=3:bi(i)?r=7:47===a[f+1]?(r=4,f+=1):(i.Si=!0,i.Ai.push(""),r=18)}break;case 2:if(!n||n.Si&&35!==v)throw new d("Invalid scheme");n.Si&&35===v?(i.pi=n.pi,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",i.Si=!0,r=20):"file"!==n.pi?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===a[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.pi=n.pi,Di===v?(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi=n.wi):47===v?r=6:63===v?(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi="",r=19):35===v?(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",r=20):92===v&&bi(i)?r=6:(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.Ai.pop(),r=17,f-=1);break;case 6:!bi(i)||47!==v&&92!==v?47===v?r=9:(i.ki=n.ki,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==a[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||h){var m=Sn(Fn(w,Ln));h?i.bi+=m:i.ki+=m}else h=!0}s.length=0}else if(Di===v||47===v||63===v||35===v||bi(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.pi)f-=1,r=15;else if(58!==v||o)if(Di===v||47===v||63===v||35===v||bi(i)&&92===v){if(f-=1,bi(i)&&0===s.length)throw new d("Invalid host");if(null!==e&&0===s.length&&(Ai(i)||null!==i.Ei))return;var y=Yn(Sn(s),bi(i));if(i.Ti=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var p=Yn(Sn(s),bi(i));if(i.Ti=p,s.length=0,r=12,11===e)return}break;case 12:if(nn(v))s.push(v);else{if(!(Di===v||47===v||63===v||35===v||bi(i)&&92===v||null!==e))throw new d("Invalid port");if(0!==s.length){var k=g(Sn(s),10);if(k>65535)throw new d("Invalid port");i.Ei=k===gi[i.pi]?null:k,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.pi="file",47===v||92===v?r=14:n&&"file"===n.pi?Di===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi=n.wi):63===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi="",r=19):35===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",r=20):(Ti(a.slice(f))||(i.Ti=n.Ti,i.Ai=n.Ai.slice(),Ii(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.pi&&!Ti(a.slice(f))&&(Ri(n.Ai[0])?i.Ai.push(n.Ai[0]):i.Ti=n.Ti),r=17,f-=1);break;case 15:if(Di===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&Ei(s))r=17;else if(0===s.length){if(i.Ti=qn,null!==e)return;r=16}else{var b=Yn(Sn(s),bi(i));if(0===b.fi&&"localhost"===b.li&&(b=qn),i.Ti=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:bi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.wi="",r=19):null===e&&35===v?(i.Ri="",r=20):Di!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(Di===v||47===v||bi(i)&&92===v||null===e&&(63===v||35===v)){var A=Sn(s);if(pi(A)?(Ii(i),47===v||bi(i)&&92===v||i.Ai.push("")):!yi(A)||47===v||bi(i)&&92===v?yi(A)||("file"===i.pi&&0===i.Ai.length&&Ei(s)&&(qn!==i.Ti&&null!==i.Ti&&(i.Ti=qn),s[1]=58,A=Sn(s)),i.Ai.push(A)):i.Ai.push(""),s.length=0,"file"===i.pi&&(Di===v||63===v||35===v))for(;i.Ai.length>1&&""===i.Ai[0];)i.Ai.shift();63===v?(i.wi="",r=19):35===v&&(i.Ri="",r=20)}else s.push.apply(s,Fn(v,Bn));break;case 18:63===v?(i.wi="",r=19):35===v?(i.Ri="",r=20):Di!==v&&(i.Ai[0]+=Sn(Fn(v,Pn)));break;case 19:null===e&&35===v?(i.Ri="",r=20):Di!==v&&(i.wi+=Sn(Fn(v,bi(i)?Un:Mn)));break;case 20:Di===v||0===v||(i.Ri+=Sn(Fn(v,xn)))}f++}return i}function xi(t,n,i,e){try{Pi(t,n,i,e)}catch(t){}}var Bi=function(){this.pi="",this.ki="",this.bi="",this.Ti=null,this.Ei=null,this.Ai=[],this.wi=null,this.Ri=null,this.Si=!1};function Li(t){switch(t.pi){case"blob":var n;try{n=Pi(t.Ai[0],null)}catch(t){return _i}return Li(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.pi,e=t.Ti,r=t.Ei,i+"://"+jn(e)+(null===r?"":":"+r);case"file":default:return _i}var i,e,r}var Mi,Ui,Fi,Hi,zi,Vi,Wi=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof Wi&&"object"==typeof i.gi)r=n.gi;else try{r=Pi(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{e=Pi(String(t),r)}catch(t){throw new d("Invalid URL: "+t.message)}var s=e.wi;this.gi=e,this.wi=function(t){var n=new ai;return null!==t&&oi(n,t),n}(s),this.wi.gi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.pi+":";if(null!==t.Ti?(i+="//",Ai(t)&&(i+=t.ki,""!==t.bi&&(i+=":"+t.bi),i+="@"),i+=jn(t.Ti),null!==t.Ei&&(i+=":"+t.Ei)):null===t.Ti&&"file"===t.pi&&(i+="//"),t.Si)i+=t.Ai[0];else for(var e=0,r=t.Ai;e<r.length;e++)i+="/"+r[e];return null!==t.wi&&(i+="?"+t.wi),n||null===t.Ri||(i+="#"+t.Ri),i}(this.gi)},set:function(t){var n;try{n=Pi(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.gi=n,ui(this.wi);var i=this.gi.wi;null!==i&&oi(this.wi,i)}},{key:"origin",get:function(){return Li(this.gi)}},{key:"protocol",get:function(){return this.gi.pi+":"},set:function(t){xi(t+":",null,this.gi,0)}},{key:"username",get:function(){return this.gi.ki},set:function(t){Ni(this.gi)||(this.gi.ki=Hn(t,Ln))}},{key:"password",get:function(){return this.gi.bi},set:function(t){Ni(this.gi)||(this.gi.bi=Hn(t,Ln))}},{key:"host",get:function(){var t=this.gi,n=t.Ti;if(null===n)return"";var i=t.Ei,e=jn(n);return null!==i&&(e+=":"+i),e},set:function(t){this.gi.Si||xi(t,null,this.gi,10)}},{key:"hostname",get:function(){var t=this.gi.Ti;return null===t?"":jn(t)},set:function(t){this.gi.Si||xi(t,null,this.gi,11)}},{key:"port",get:function(){var t=this.gi.Ei;return null===t?"":""+t},set:function(t){Ni(this.gi)||(""===t?this.gi.Ei=null:xi(t,null,this.gi,12))}},{key:"pathname",get:function(){var t=this.gi.Ai;return this.gi.Si?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.gi.Si||(this.gi.Ai.length=0,xi(t,null,this.gi,16))}},{key:"search",get:function(){var t=this.gi.wi;return null===t||""===t?"":"?"+t},set:function(t){t=ni(t);var n=this.gi;if(""===t)return n.wi=null,void ui(this.wi);"?"===t[0]&&(t=t.slice(1)),n.wi="",xi(t,null,n,19),oi(this.wi,t)}},{key:"searchParams",get:function(){return this.wi}},{key:"hash",get:function(){var t=this.gi.Ri;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.gi.Ri="",xi(t,null,this.gi,20)):this.gi.Ri=null}}])&&Ft(n.prototype,i),e&&Ft(n,e),t}();function Xi(t){return t.document&&t.document.baseURI||t.location.href||""}var qi=h;function Gi(t){return Boolean(t&&void 0!==t.length)}function Qi(){}function Yi(t){if(!(this instanceof Yi))throw new d("Promises must be constructed via new");if("function"!=typeof t)throw new d("not a function");this.Ii=0,this.Ni=!1,this.Di=void 0,this.Ci=[],te(t,this)}function ji(t,n){for(;3===t.Ii;)t=t.Di;0!==t.Ii?(t.Ni=!0,Yi.Oi(function(){var i=1===t.Ii?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.Di)}catch(t){return void Ji(n.promise,t)}Zi(n.promise,e)}else(1===t.Ii?Zi:Ji)(n.promise,t.Di)})):t.Ci.push(n)}function Zi(t,n){try{if(n===t)throw new d("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof Yi)return t.Ii=3,t.Di=n,void $i(t);if("function"==typeof i)return void te((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.Ii=1,t.Di=n,$i(t)}catch(n){Ji(t,n)}var e,r}function Ji(t,n){t.Ii=2,t.Di=n,$i(t)}function $i(t){2===t.Ii&&0===t.Ci.length&&Yi.Oi(function(){t.Ni||Yi.Pi(t.Di)});for(var n=0,i=t.Ci.length;n<i;n++)ji(t,t.Ci[n]);t.Ci=null}function Ki(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function te(t,n){var i=!1;try{t(function(t){i||(i=!0,Zi(n,t))},function(t){i||(i=!0,Ji(n,t))})}catch(t){if(i)return;i=!0,Ji(n,t)}}Yi.prototype.catch=function(t){return this.then(null,t)},Yi.prototype.then=function(t,n){var i=new this.constructor(Qi);return ji(this,new Ki(t,n,i)),i},Yi.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},Yi.all=function(t){return new Yi(function(n,i){if(!Gi(t))return i(new d("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},Yi.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new d(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},Yi.resolve=function(t){return t&&"object"==typeof t&&t.constructor===Yi?t:new Yi(function(n){n(t)})},Yi.reject=function(t){return new Yi(function(n,i){i(t)})},Yi.race=function(t){return new Yi(function(n,i){if(!Gi(t))return i(new d("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)Yi.resolve(t[e]).then(n,i)})},Yi.Oi="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){qi(t,0)},Yi.Pi=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var ne=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),ie=o?o.userAgent:"",ee=ie.match(/Firefox\/([0-9]+)/i),re=null!=ee,se=ee?Number(ee[1]):0,ue=ie.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),oe=null!=ue,he=ue?Number(ue[3]):0,ae=function(){function t(t){this.xi=0,this.Bi=0,this.di=[],this.Li=t}return t.prototype.Mi=function(t){var n=this.length();this.Ui(n+1);var i=this.Bi+n&this.Li-1;this.di[i]=t,this.xi=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Li<n)this.Mi(t);else{var i=this.Bi+n-1,e=this.Li-1;this.di[i&e]=t,this.xi=n}},t.prototype.shift=function(){var t=this.Bi,n=this.di[t];return this.di[t]=void 0,this.Bi=t+1&this.Li-1,this.xi--,n},t.prototype.length=function(){return this.xi},t.prototype.Ui=function(t){this.Li<t&&this.Fi(this.Li<<1)},t.prototype.Fi=function(t){var n=this.Li;this.Li=t;var i=this.Bi+this.xi&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.di,0,n,i)},t}();var ce="unhandledrejection",fe=t.PromiseRejectionEvent,ve=t.CustomEvent;function de(t){return new fe(ce,{reason:t,promise:ne.reject(t).catch(function(){}),cancelable:!0})}function le(t){var n=new ve(ce,{detail:{reason:t},cancelable:!0});return l.defineProperty(n,"reason",{value:t}),n}function _e(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(ce,!1,!0,{reason:t}),n}var ge,we,me,ye,pe,ke,be,Ae=function(t){return(Ae=function(){try{var t=ne.resolve(),n=new fe(ce,{reason:"error",promise:t});return ce===n.type&&"error"===n.reason}catch(t){}return!1}()?de:function(){try{var t=new ve(ce,{detail:{reason:"error"}});return ce===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?le:_e)(t)};if(ne&&!(re&&se<60||oe&&he<15))we=ne,function(){};else{we=Yi;var Te=null!==(ge=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=ne;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==ge?ge:Yi.Oi,Se=(me=Te,ye=new ae(16),pe=!1,{Hi:function(t){ye.push(t),pe||(pe=!0,me(ke))},zi:ke=function(){for(;ye.length()>0;)ye.shift()();pe=!1}});Se.zi,Yi.Oi=Se.Hi,Yi.Pi=function(n){try{var i=Ae(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}h(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function Ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Re(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Ie(t,n){L.in&&L.rn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ne(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function De(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Ce(t){t.removeAttribute("title")}function Oe(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function Pe(t){t.src&&(t.removeAttribute("src"),t.load())}function xe(){return void 0!==s?s.createElement("video"):void 0}function Be(){return be||(be=xe()),be}var Le=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Me=Be(),Ue=!(!Me||!Me.webkitShowPlaybackTargetPicker),Fe=function(){function t(){this.Vi=void 0,this.Wi=!1,this.Lt=Le,this.Zt=!1,this.Xi=!0,this.qi=!0}var n=t.prototype;return n.Gi=function(){return 0},n.Qi=function(t,n){return!0},n.Yi=function(t){return t>=1/6*2},A(t,[{key:"ji",get:function(){return void 0===this.Vi&&(this.Vi=this.Gi()),this.Vi}},{key:"Zi",get:function(){return r.devicePixelRatio||1}},{key:"Ji",get:function(){return Ue}},{key:"$i",get:function(){return!1}},{key:"Ki",get:function(){return!0}},{key:"te",get:function(){return L.dn||L.Qt}},{key:"ie",get:function(){return!0}},{key:"ee",get:function(){return!0}},{key:"re",get:function(){return!1}},{key:"se",get:function(){}},{key:"ue",get:function(){return!0}},{key:"oe",get:function(){return!1}}]),t}(),He=function(){var t=xe();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(L.qt)return!1;var t=xe();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var ze=function(t){function n(n){var i;return(i=t.call(this)||this).he=void 0,i.he=n,i.he&&(i.Wi=i.he.Wi,i.Lt=i.he.Lt,i.Xi=He&&i.he.Xi),i}S(n,t);var i=n.prototype;return i.Gi=function(){return this.he?this.he.ji:t.prototype.Gi.call(this)},i.Qi=function(n,i){return this.he?this.he.Qi(n,i):t.prototype.Qi.call(this,n,i)},i.Yi=function(n){return this.he?this.he.Yi(n):t.prototype.Yi.call(this,n)},A(n,[{key:"se",get:function(){var t;return null==(t=this.he)?void 0:t.se}},{key:"ue",get:function(){var t,n;return null==(t=null==(n=this.he)?void 0:n.ue)||t}}]),n}(Fe),Ve=function(t){function n(n){var i;return(i=t.call(this,n)||this).Wi=!0,i.Zt=!0,i}return S(n,t),A(n,[{key:"re",get:function(){return L.Qt}}]),n}(ze),We=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Gi=function(){return Hi.MediaSource?t.prototype.Gi.call(this):1},A(n,[{key:"re",get:function(){return!0}}]),n}(Ve),Xe=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(n,i){return t.prototype.Qi.call(this,n,i)},A(n,[{key:"$i",get:function(){return L.rn<3}},{key:"Ki",get:function(){return L.rn>=3}},{key:"oe",get:function(){return L.rn<3}}]),n}(ze),qe=function(t){function n(){return t.call(this)||this}return S(n,t),n}(Fe),Ge=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(t,n){if(t&&t.ae&&n&&n.ae){var i=Qe(t.ae,"mp4a.40.2")&&Qe(n.ae,"mp4a.40.5"),e=Qe(t.ae,"mp4a.40.5")&&Qe(n.ae,"mp4a.40.2"),r=Qe(t.ae,"mp4a.40.2")&&Qe(n.ae,"mp4a.40.34"),s=Qe(t.ae,"mp4a.40.34")&&Qe(n.ae,"mp4a.40.2"),u=Qe(t.ae,"mp4a.40.5")&&Qe(n.ae,"mp4a.40.34"),o=Qe(t.ae,"mp4a.40.34")&&Qe(n.ae,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"se",get:function(){if(L.Mt)return 4096}}]),n}(qe);function Qe(t,n){return t.indexOf(n)>-1}var Ye=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Yi=function(t){return t>=2},n}(qe),je=function(t){function n(){var n;return(n=t.call(this)||this).Wi=L.ln>=11,n.Xi=L.dn&&!(L.Qt&&L.ln<10),n}return S(n,t),n}(qe),Ze=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"ie",get:function(){return!1}}]),n}(ze),Je=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"ue",get:function(){return!L.Ut||(L.tn?92!==L.nn:L.Kt>=100)}}]),n}(qe),$e=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"re",get:function(){return!0}}]),n}(ze),Ke=function(){function n(){var n;this.ce=void 0,this.fe=new It,this.ve=new tr,this.de=(n=function(){if(L.fn)return new Ge;if(L.un||L.hn)return new Ye;if(L.dn)return new je;if(L.$t)return new Je;return new qe}(),L.Qt?new We(n):L.Zt?new Ve(n):L.in?new Xe(n):L.sn?new Ze(n):L.Mt?new $e(n):new ze(n)),this._e=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ce=function(){return t.performance.now()}:this.ce=wt}var i=n.prototype;return i.we=function(){rt.apply(void 0,arguments)},i.me=function(){st.apply(void 0,arguments)},i.ye=function(){ut.apply(void 0,arguments)},i.pe=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ot.apply(void 0,[t].concat(i))},i.Nn=function(t,n){return h(t,n)},i.ke=function(t,n){return c(t,n)},i.In=function(t){a(t)},i.be=function(t){f(t)},i.Mn=function(t){return this.fe.Mn(t)},i.Ae=function(){return this.Te.Ae()},i.Se=function(){return this.Te.Se()},i.Ee=function(){return this.Te.Ee()},i.Re=function(){return this.Te.Re()},i.Ie=function(){return this.Te.Ie()},i.Ne=function(t,n){return this.Te.Ne(t,n)},i.De=function(t){return this.Te.De(t)},i.Ce=function(t,n){var i;return void 0===n&&(n=Xi(Hi)),i="object"!=typeof n||n instanceof Wi?n:n.href,new Wi(t,i)},i.Oe=function(n,i){if(void 0===i&&(i=Xi(Hi)),this._e){var e=X(i)?i:i.toString();return new t.URL(n,e).href}return this.Ce(n,i).href},A(n,[{key:"Pe",get:function(){return this.ve}},{key:"xe",get:function(){return this.de}},{key:"Be",get:function(){return{Le:o&&o.userAgent.match(/Android /i)?"Android":"other",Me:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Ue",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fe",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),tr=function(){function t(){}return A(t,[{key:"He",get:function(){return o.oscpu}},{key:"xe",get:function(){return o.platform}},{key:"ze",get:function(){return o.vendor}},{key:"Ve",get:function(){return o.vendorSub}}]),t}();var nr=ht(function(t){!function(t){var n,i=l.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function h(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=l.create(r.prototype),u=new C(e||[]);return s.We=function(t,n,i){var e=c;return function(r,s){if(e===_)throw new v("Generator is already running");if(e===g){if("throw"===r)throw s;return P()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.Xe=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=_;var h=a(t,n,i);if("normal"===h.type){if(e=i.done?g:f,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function y(){}function p(){}function k(){}var b={};b[s]=function(){return this};var A=l.getPrototypeOf,T=A&&A(A(O([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=k.prototype=y.prototype=l.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.We(n,t)}})}function R(t){var n;this.We=function(i,r){function s(){return new we(function(n,s){!function n(i,r,s,u){var o=a(t[i],t,r);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&e.call(c,"qe")?we.resolve(c.qe).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):we.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,w;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=S.constructor=k,k.constructor=p,k[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{qe:t}},E(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,e,r){var s=new R(h(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Xe=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),a=e.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:O(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),w}}}(t.exports)});function ir(){return(ir=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)l.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function er(){var t=l.create(null);return t.Ge=void 0,delete t.Ge,t}function rr(){return new ar}function sr(){return new vr}function ur(t){var n=rr();for(var i in t)M.call(t,i)&&n.set(i,t[i]);return n}var or,hr="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ar=hr||(or=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=er(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=er(),this.size=0},n.keys=function(){return new or(this.data,function(t,n){return n})},n.values=function(){return new or(this.data,function(t,n){return t[n]})},n.entries=function(){return new or(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var cr,fr,vr=hr||(cr=function(){function t(t,n){this.Qe=void 0,this.Ye=void 0,this.Qe=t,this.Ye=n}var n=t.prototype;return n.next=function(){var t=this.Qe.next();return t.done?t:{value:this.Ye(t.value),done:!1}},t}(),function(){function t(){this.je=rr()}var n=t.prototype;return n.get=function(t){return this.je.get(""+t)},n.set=function(t,n){return this.je.set(""+t,n),this},n.has=function(t){return this.je.has(""+t)},n.delete=function(t){return this.je.delete(""+t)},n.clear=function(){this.je.clear()},n.keys=function(){return new cr(this.je.keys(),function(t){return Number(t)})},n.values=function(){return this.je.values()},n.entries=function(){return new cr(this.je.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.je.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.je.size}}]),t}());!function(t){t.Ze="9a04f079-9840-4286-ab92-e65be0885f95",t.Je="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.$e="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Ke="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(fr||(fr={}));var dr,lr="urn:mpeg:dash:mp4protection:2011",_r="cenc",gr="sinf",wr="skd",mr=fr.Ze,yr="urn:uuid:"+mr,pr="com.microsoft.playready",kr=fr.Je,br="urn:uuid:"+kr,Ar=fr.$e,Tr="urn:uuid:"+Ar,Sr=fr.Ke,Er="urn:uuid:"+Sr,Rr="com.apple.fps.1_0";!function(t){t.Ze="playready",t.Je="widevine",t.Ke="fairplay",t.$e="clearkey",t.tr="aes128"}(dr||(dr={}));var Ir={nr:dr.Ze,ir:pr,er:"cenc",rr:mr,sr:yr,ur:"PlayReady"},Nr={nr:dr.Je,ir:"com.widevine.alpha",er:"cenc",rr:kr,sr:br,ur:"Widevine"},Dr={nr:dr.Ke,ir:Rr,er:"skd",rr:Sr,sr:Er,ur:"FairPlay"},Cr=(dr.Ke,{nr:dr.$e,ir:"org.w3.clearkey",er:"cenc",rr:Ar,sr:Tr,ur:"ClearKey"}),Or=[Ir,Nr,Dr,Cr];function Pr(t){return Or.filter(function(n){return n.sr===t.toLowerCase()})}function xr(t,n,i){return t.split(n).join(i)}function Br(t,n){return null!=t&&-1!==t.indexOf(n)}function Lr(t,n){return null!=t&&t.substr(0,n.length)===n}function Mr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function Ur(t,n){return t.toUpperCase()===n.toUpperCase()}function Fr(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function Hr(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=Fr(e,r/e.length)),e.slice(0,r)+t)}function zr(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Wr(n)}var Vr=16384;function Wr(t){var n=t.length;if(n<=Vr)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Vr)i.push(String.fromCharCode.apply(String,t.slice(e,e+Vr)));return i.join("")}var Xr=L.$t&&L.Kt>=42||L.fn&&L.vn>=38||L.un||L.an||L._n&&L.gn>=29;function qr(t,n){return Br(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[ir({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[ir({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Gr(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function Qr(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Yr,jr=function(){function t(t){this.hr=void 0,this.ar=rr(),this.cr=void 0,this.hr=t}var n=t.prototype;return n.Ie=function(){return this.De(Nr)},n.Se=function(){return this.De(Cr)},n.Re=function(){return this.De(Ir)},n.Ee=function(){return this.De(Dr)},n.De=function(t){var n=t.sr,i=this.ar.get(n);if(i)return i;var e=this.Ne(t,'video/mp4; codecs="avc1.42000a"');return this.ar.set(n,e),e},n.Ne=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nr.awrap(this.hr.dr(t.ir,[qr(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,nr.awrap(this.hr.dr(t.ir,[qr(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],we)},n.Ae=function(){return this.cr||(this.cr=this._r()),this.cr},n._r=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==zi.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Xr){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,nr.awrap(this.Se());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,we)},t}();function Zr(t,n){return $r(t.slice(),n)}function Jr(t,n){var i=$r(t,n);return i!==t&&Kr(i,void 0,t.length,t),t}function $r(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Kr(i,n,s,r);var u=i;i=r,r=u}return i}function Kr(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(r=(u=s+i)+i,u>a&&(u=a),r>a&&(r=a),o=s,h=u;;)if(o<u&&h<r)n&&n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<u)e[c++]=t[o++];else{if(!(h<r))break;e[c++]=t[h++]}}!function(t){t[t.gr=0]="gr",t[t.wr=1]="wr",t[t.mr=-1]="mr"}(Yr||(Yr={}));var ts=function(t,n){return(0|t)-(0|n)},ns=function(t,n){return t===n?Yr.gr:t<n?Yr.mr:t>n?Yr.wr:m(t)?m(n)?Yr.gr:Yr.wr:Yr.mr};function is(t,n,i){return vt(t,n,i)?Yr.gr:ns(t,n)}var es=function(t,n){return dt(t,n)?Yr.gr:ns(t,n)};function rs(t,n,i){var e=ss(t,n,i);return-1===e?void 0:t[e]}function ss(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function us(t,n){var i=t.indexOf(n);return-1!==i&&(os(t,i),!0)}function os(t,n){t.splice(n,1)}function hs(t,n){return-1!==t.indexOf(n)}function as(t){t.length=0}function cs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function fs(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,nr.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,we)}function vs(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var ds=function(){function t(){this.yr=!1,this.pr=!1,this.kr=[],this.Ar=[]}var n=t.prototype;return n.Tr=function(){if(!this.yr&&!this.pr){this.yr=!0;for(var t=0,n=this.kr.slice();t<n.length;t++){(0,n[t])()}this.Sr()}},n.Sr=function(){if(!this.pr){this.pr=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}as(this.kr),as(this.Ar)}},n.Er=function(t){this.pr||this.kr.push(t)},n.Rr=function(t){this.pr||us(this.kr,t)},n.Ir=function(t){this.pr||this.Ar.push(t)},n.Nr=function(t){this.pr||us(this.Ar,t)},t}(),ls=function(){function t(){this.Dr=new ds}var n=t.prototype;return n.Cr=function(){this.Dr.Tr()},n.Sr=function(){this.Dr.Sr()},n.Or=function(t){var n=this.Dr;if(!n.yr)if(t.yr)n.Tr();else if(!n.pr&&!t.pr){var i=function(){e(),n.Tr()},e=function e(){t.Rr(i),t.Nr(e),n.Rr(i),n.Nr(e)};t.Er(i),t.Ir(e),n.Er(i),n.Ir(e)}},n.Pr=function(){var n=new t,i=new t,e=n.xr,r=i.xr,s=this.Dr,u=function(){e.yr&&r.pr||r.yr&&e.pr?s.Tr():e.pr&&r.pr&&s.Sr()};e.Er(u),r.Er(u),e.Ir(u),r.Ir(u),n.Or(s),i.Or(s);return s.Ir(function(){e.Rr(u),r.Rr(u),e.Nr(u),r.Nr(u)}),[n,i]},A(t,[{key:"xr",get:function(){return this.Dr}}]),t}(),_s=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Et);function gs(t){return t instanceof v&&"AbortError"===t.name}function ws(t){if(t&&t.yr)throw new _s}function ms(t){if(gs(t))throw t}function ys(t){if(!gs(t))throw t}function ps(t,n){return n?new we(function(i,e){if(n.yr)return t.catch(j),e(new _s);var r=function t(){n.Rr(t),e(new _s)};n.Er(r),t.then(function(t){n.Rr(r),i(t)},function(t){n.Rr(r),e(t)})}):t}function ks(t,n){return t.then(function(t){return n.Sr(),t},function(t){throw n.Sr(),t})}function bs(t,n){var i=new ls;return n&&i.Or(n),t(i.xr).then(function(t){return i.Cr(),t},function(t){throw i.Cr(),t})}var As=we.resolve();function Ts(t){As.then(t)}function Ss(t){t.then(j,j)}function Es(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,nr.awrap(we.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,nr.awrap(we.all(t.map(function(t){return t.catch(j)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],we)}function Rs(t,n){return new we(function(e,r){if(void 0!==n&&n.yr)r(new _s);else{var s=i.Nn(function(){void 0!==n&&n.Rr(u),e()},t),u=function(){i.In(s),r(new _s)};void 0!==n&&n.Er(u)}})}function Is(t){return t&&"function"!=typeof t?t.slice():t}function Ns(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var Ds,Cs=function(){function t(t){var n=this;this.Br=er(),this.Lr=void 0,this.Mr=void 0,this.Ur=function(t){n.Fr(t)},this.Mr=t||this}var n=t.prototype;return n.Hr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.zr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.zr(e,n)}},n.zr=function(t,n){var i=this.Br[t];i?"function"==typeof i?this.Br[t]=[i,n]:i.push(n):this.Br[t]=n},n.Vr=function(t){if("function"==typeof t){var n=this.Lr;n?"function"==typeof n?this.Lr=[n,t]:n.push(t):this.Lr=t}},n.Wr=function(){this.Br=er(),this.Lr=void 0},n.Fr=function(t){var n=Is(this.Br[t.type]),i=Is(this.Lr);Ns(this.Mr,t,n),Ns(this.Mr,t,i)},n.Xr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.qr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.qr(e,n)}},n.qr=function(t,n){var i=this.Br[t];i&&("function"==typeof i?i===n&&(this.Br[t]=void 0):us(i,n))},n.Gr=function(t){if("string"==typeof t)this.Br[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Br[i]=void 0}},n.Qr=function(t){var n=this.Lr;n&&("function"==typeof n?n===t&&(this.Lr=void 0):us(n,t))},n.Yr=function(t,n){var i=this;return new we(function(e,r){if(n&&n.yr)return r(new _s);var s=function(t){o(),e(t)},u=function(){o(),r(new _s)},o=function(){i.Xr(t,s),n&&n.Rr(u)};i.Hr(t,s),n&&n.Er(u)})},t}(),Os=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Fr=function(n){var i=this;Ts(function(){t.prototype.Fr.call(i,n)})},n}(Cs),Ps=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},xs=["cenc"],Bs=["cbcs","cbcs-1-9"],Ls=function(t){function n(n){var i;return(i=t.call(this,"Zr")||this).jr=n,i}return S(n,t),n}(Ps),Ms=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"Jr")||this).jr=n,s.$r=i,s.Jr=e,s.Kr=r,s}return S(n,t),n}(Ps),Us=function(t){function n(){return t.call(this,"ts")||this}return S(n,t),n}(Ps);!function(t){t.es="rs",t.ss="us"}(Ds||(Ds={}));var Fs=function(t){function n(n,i){var e;return(e=t.call(this,Ds.es)||this).er=n,e.os=i,e}return S(n,t),n}(Ps),Hs=function(t){function n(){return t.call(this,Ds.ss)||this}return S(n,t),n}(Ps),zs=new y([0]).buffer,Vs=function(){function t(){this.hs=void 0,this.hs=[]}var n=t.prototype;return n.as=function(t){for(var n=0,i=this.hs;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.cs=function(t){for(var n=0,i=this.hs;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.fs=function(t,n){this.hs.forEach(function(n){return t(n[1],n[0])},n)},n.vs=function(t,n){this.hs.push([t,n])},n.ds=function(){as(this.hs)},A(t,[{key:"ls",get:function(){return this.hs.length}}]),t}(),Ws="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Xs=16383,qs=/[\t\n\f\r ]/g;function Gs(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Qs()}function Qs(){throw new v("Invalid base64 input")}function Ys(t){var n=t;qs.test(n)&&(n=n.replace(qs,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return Qs();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)r=Gs(n.charCodeAt(h))<<18|Gs(n.charCodeAt(h+1))<<12|Gs(n.charCodeAt(h+2))<<6|Gs(n.charCodeAt(h+3)),u[a++]=r>>16&255,u[a++]=r>>8&255,u[a++]=255&r;return 2===s?(r=Gs(n.charCodeAt(h))<<2|Gs(n.charCodeAt(h+1))>>4,u[a++]=255&r):1===s&&(r=Gs(n.charCodeAt(h))<<10|Gs(n.charCodeAt(h+1))<<4|Gs(n.charCodeAt(h+2))>>2,u[a++]=r>>8&255,u[a++]=255&r),u}function js(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],Ws[e>>2]+Ws[(3&e)<<4|r>>4]+Ws[(15&r)<<2|s>>6]+Ws[63&s]));return u.join("")}function Zs(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=Xs)e.push(js(t,s,_.min(r,s+Xs)));if(1===i){var u=t[n-1];e.push(Ws[u>>2]+Ws[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];e.push(Ws[o>>2]+Ws[(3&o)<<4|h>>4]+Ws[(15&h)<<2]+"=")}return e.join("")}var Js=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],$s=ArrayBuffer.isView||function(t){return t&&hs(Js,U.call(t))};function Ks(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function tu(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return nu(t,n)}function nu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function iu(t){return Ys(t).buffer}function eu(t){return Zs(new y(t))}function ru(t){return Zs(Fu(t))}var su=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ps=function(){return new t(this.ks)},A(t,[{key:"ks",get:function(){return this._s}}]),t}();function uu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ou(t,n){return t>>n&63|128}function hu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(uu(t),n.push(t>>12&15|224),n.push(ou(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ou(t,12)),n.push(ou(t,6))),n.push(63&t|128)):n.push(t)}function au(t,n){if(n.ks>=t.length)throw new v("Invalid byte index");var i=255&t[n.ks];if(n.gs(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function cu(t,n){var i=n.ks;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.gs(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|au(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|au(t,n)<<6|au(t,n);if(s>=2048)return uu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|au(t,n)<<12|au(t,n)<<6|au(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var fu=65279;var vu=[128,64,32,16,8,4,2,1],du=function(){function t(t){this.bs=t}return t.prototype.As=function(t){return lu(this.bs,t)},t}();function lu(t,n){return(t&n)===n}function _u(t,n){return lu(t,vu[n])}function gu(t,n){var i=t.getUint8(n.ks);return n.gs(1),i}function wu(t,n,i){t.setUint8(n.ks,i),n.gs(1)}function mu(t,n,i){var e=qu(Yu(t),n.ks,n.ks+i);return n.gs(e.byteLength),e}function yu(t,n,i){Yu(t).set(Yu(i),n.ks),n.gs(i.byteLength)}function pu(t,n,i){return n.ks+i<=t.byteLength}function ku(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=gu(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+gu(t,n);return e}(t,n,i)}function bu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.ks,i);return n.gs(2),e}function Au(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.ks,i,e),n.gs(2)}function Tu(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.ks,i);return n.gs(4),e}function Su(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.ks,i,e),n.gs(4)}function Eu(t,n,i){void 0===i&&(i=!1);var e=Tu(t,n,i),r=Tu(t,n,i),s=i?r:e,u=i?e:r;return at.fromBits(u,s,!0)}function Ru(t,n){var i=gu(t,n);if(i)return String.fromCharCode(i)}function Iu(t,n){return Cu(t,n)}function Nu(t,n,i){for(var e="",r=0;r<i;r++)e+=Ru(t,n);return e}function Du(t,n){var i,e=gu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&gu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&gu(t,n))+(63&gu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&gu(t,n))+64*(63&gu(t,n))+(63&gu(t,n))),i}function Cu(t,n){return Ou(t,n,!0)}function Ou(t,n,i){for(var e=[];n.ks<t.byteLength;){var r=gu(t,n);if(i&&!r)break;e.push(r)}return Wr(e)}function Pu(t,n){if(n.ks+2<=t.byteLength){var i=t.getUint8(n.ks),e=t.getUint8(n.ks+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function xu(t,n){var i=Pu(t,n);return void 0!==i&&n.gs(2),Bu(t,n,!0===i)}function Bu(t,n,i){return void 0===i&&(i=!1),Lu(t,n,i,!0)}function Lu(t,n,i,e){for(var r=[];n.ks+2<=t.byteLength;){var s=bu(t,n,i);if(e&&!s)break;r.push(s)}return Wr(r)}function Mu(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){Au(t,n,i.charCodeAt(s),e)}}function Uu(t){return Ou(Qu(t),new Ku,!1)}function Fu(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)wu(t,n,i.charCodeAt(r))}(Qu(n),new Ku,t),n}function Hu(t,n){return void 0===n&&(n=!1),Lu(Qu(t),new Ku,n,!1)}function zu(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Mu(Qu(i),new Ku,t,n),i}function Vu(t,n){return function(t,n,i){var e=[];(function(t,n){return n.ks+3<=t.byteLength&&239===t.getUint8(n.ks)&&187===t.getUint8(n.ks+1)&&191===t.getUint8(n.ks+2)})(t,n)&&n.gs(3);for(;n.ks<t.byteLength;){var r=Du(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return zr(e)}(t,n,!0)}function Wu(t){return zr(function(t,n){var i,e=[],r=new Ku;if(!n){if(!1===(i=cu(t,r)))return e;i===fu||e.push(i)}for(;!1!==(i=cu(t,r));)e.push(i);return e}(Yu(t)))}function Xu(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)hu(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function qu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Gu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Qu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Yu(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function ju(t){return t instanceof ArrayBuffer||$s(t)}function Zu(t){return t instanceof ArrayBuffer?new y(t):Yu(t)}function Ju(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):$u(qu(t,n,i))}function $u(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var Ku=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ps=function(){return new t(this.ks)},n.Ts=function(){return new su(this.ks<<3)},A(t,[{key:"ks",get:function(){return this._s}}]),t}();function to(t){var n=t,i=0,e=0;Lr(n,"0x")&&(n=n.substring(2));var r=new y(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=g(n[0],16));i<n.length;i+=2)r[e++]=g(n.substr(i,2),16);return r}var no=function(){function t(){var t=this;this.Ss=void 0,this.Es=void 0,this.Rs=void 0,this.Ss=new we(function(n,i){t.Es=n,t.Rs=i})}var n=t.prototype;return n.Is=function(t){this.Es&&(this.Es(t),this.Sr())},n.Ns=function(t){this.Rs&&(this.Rs(t),this.Sr())},n.Cr=function(){this.Ss.catch(j),this.Ns(new _s)},n.Sr=function(){this.Es=void 0,this.Rs=void 0},t}();function io(){return new y([8,4]).buffer}function eo(t){return Ks(t,io())}function ro(t,n){return t===pr?function(t){if(t.byteLength<2*so.length)return t;if(Hu(new DataView(t,0,2*so.length),!0)===so)return t;return n=t,zu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+eu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var so="<PlayReady";var uo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ds=void 0,s.Cs=void 0,s.Ds=i,s.Cs=e,s}return S(n,t),n}(Et),oo=function(t,n){return(oo=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)l.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function ho(t,n){if("function"!=typeof n&&null!==n)throw new d("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}oo(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}function ao(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}!function(){function t(t,n){this.Os=t,this.Ps=n}t.prototype.get=function(t){var n=this.Os.get(t);if(0===this.Ps||void 0===n)return n;var i=this.Os.get(t+1)||0,e=n&(1<<8-this.Ps)-1,r=i>>8-this.Ps;return(e<<this.Ps)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.Os.get(_.floor((t+this.Ps)/8));if(void 0!==n)return(n&1<<7-this.Ps-t%8)>0?1:0}},l.defineProperty(t.prototype,"bitLength",{get:function(){return this.Os.bitLength-this.Ps},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"length",{get:function(){return this.Os.length},enumerable:!1,configurable:!0})}();function co(t,n,i){return _.min(_.max(t,n),i)}function fo(t,n){return t>>8-n}function vo(t,n){return t&(1<<n)-1}var lo=function(){function t(t){this.xs=t,this.Bs=0,this.Ls=0}return l.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Bs+this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"done",{get:function(){return this.Bs===this.xs.length&&0===this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Bs,bit:this.Ls}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.xs);return n.seek(this.Bs,this.Ls),n},t.prototype.canReadBits=function(t){return 8*this.Bs+t+this.Ls<=8*this.xs.length},t.prototype.canReadBytes=function(t){return 0===this.Ls?this.Bs+t<=this.xs.length:this.Bs+t<this.xs.length},t.prototype.incBit=function(){this.Ls++,this.Ls>7&&(this.Bs++,this.Ls=0)},t.prototype.seek=function(t,n){this.Bs=t,this.Ls=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.xs.get(this.Bs)>>7-this.Ls&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.Ls)return this.xs.get(this.Bs++);var t=vo(this.xs.get(this.Bs),8-this.Ls),n=fo(this.xs.get(this.Bs+1),this.Ls);return this.Bs++,t<<this.Ls|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.Ls&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-_.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.Ls+t;this.Bs+=n>>3,this.Ls=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),_o=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},go=function(){function t(){this.Ms=[],this.Us=[],this.xi=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.Us.length)this.Us.push(0);else{var e=this.Us[this.Us.length-1]+this.Ms[this.Ms.length-1].length;this.Us.push(e)}this.Ms.push(t.subarray(n,n+i)),this.xi+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ms;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ms=[],this.Us=[],this.xi=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Us[n];return this.Ms[n][i]}},l.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ms.length<1)return-1;if(this.Ms.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ms[0];return"number"==typeof t?ao(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=ao(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=_.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.Us,t,_o)},t.prototype.join=function(){if(1===this.Ms.length)return this.Ms[0];var t=new y(this.length);return this.copyInternal(t,0),t},l.defineProperty(t.prototype,"length",{get:function(){return this.xi},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*_.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=co(n,0,this.length),r=co(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ms[u],h=e,a=h-this.Us[u];h+o.length-a<r;)s.pushRange(o,a,o.length-a),u+=1,a=(h+=o.length-a)-this.Us[u],o=this.Ms[u];var c=r-h;return s.pushRange(o,a,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ms.length-1,e=this.Ms[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ms[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),wo=function(){function t(n){this.Fs=n||t.BUFFER_CHUNK_SIZE,this.Hs=!1,this.zs=new go,this.xs=new y(this.Fs),this.Vs=0,this.Ws=0,this.Ls=7}return t.prototype.closeByte=function(){this.xs[this.Vs++]=this.Ws,this.Vs>=this.Fs&&this.closeBuffer(),this.Ws=0,this.Ls=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Vs&&(this.zs.pushRange(this.xs,0,this.Vs),t&&(this.xs=new y(this.Fs)),this.Vs=0)},l.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ls},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Hs)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Hs=!0,this.zs},t.prototype.writeBit=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.Ws|=t<<this.Ls,0===this.Ls?this.closeByte():this.Ls--},t.prototype.writeByte=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ws=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ls;this.Ws|=fo(t,n+1),this.closeByte(),this.Ws=vo(t,8-n)<<n+1,this.Ls=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Vs+t.length<=this.Fs?(this.xs.set(t,this.Vs),this.Vs+=t.length,this.Vs===this.Fs&&this.closeBuffer()):(this.closeBuffer(),this.zs.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ls;this.Ws|=fo(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=vo(t[i-1],8-n),r=fo(t[i],n+1);this.Ws=e<<n+1|r,this.closeByte()}this.Ws=vo(t[t.length-1],8-n)<<n+1,this.Ls=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=_.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(_.abs(t)>=_.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+_.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=_.floor(_.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),mo=function(){function t(t){this.rb=new go,this.Xs=t}return t.prototype.closeWriter=function(){void 0!==this.Xs&&(this.rb=this.rb.concat(this.Xs.close()),this.Xs=void 0)},l.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Xs&&(this.Xs=new wo),this.Xs},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),yo=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(_.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new mo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=_.pow(2,32),t}();function po(t,n){return t instanceof at?64===n:t<_.pow(2,n)}function ko(t,n){return _.round(t*_.pow(2,n))}function bo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Ao(t,n){return t/_.pow(2,n)}var To=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!po(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ho(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(yo),So=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return ho(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(go.from(this.data))},n}(yo),Eo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function Ro(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Io)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Io)i.push(String.fromCharCode.apply(String,t.slice(e,e+Io)));return i.join("")}(n)}var Io=16384;var No=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function Do(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function Co(t,n,i){return n.offset+i<=t.byteLength}function Oo(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function Po(t,n,i){void 0===i&&(i=!1);var e=Oo(t,n,i),r=Oo(t,n,i),s=i?r:e,u=i?e:r;return at.fromBits(u,s,!0)}function xo(t,n){var i=Do(t,n);if(i)return String.fromCharCode(i)}function Bo(t,n,i){for(var e="",r=0;r<i;r++)e+=xo(t,n);return e}function Lo(t,n){var i,e=Do(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&Do(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&Do(t,n))+(63&Do(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&Do(t,n))+64*(63&Do(t,n))+(63&Do(t,n))),i}function Mo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=Lo(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return Ro(e)}(t,n,!0)}function Uo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Fo(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var Ho=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Eo(this.offset<<3)},t}(),zo=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return Do(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return Oo(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=Oo(t,n,i),r=Oo(t,n,i),s=i?r:e,u=i?e:r;return at.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return Po(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=Uo(Fo(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Oo(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return Bo(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return Mo(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function Vo(t,n){return t.type===n}var Wo=8;function Xo(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=qo(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function qo(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!Co(t,n,Wo)){var e=n.offset+Wo;return{complete:!1,neededOffset:e}}var r=Oo(t,n),s=Bo(t,n,4);if(1===r){if(!Co(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=Po(t,n).toNumber()}if("uuid"===s){if(!Co(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=Bo(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h,a,c,f={type:r.type,offset:i,data:new zo((h=t,a=i,c=u,void 0===a&&(a=0),void 0===c&&(c=h.byteLength),new DataView(h.buffer,h.byteOffset+a,c-a)),new Ho(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function Go(t){return{version:t>>24,flags:new No(16777215&t)}}function Qo(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function Yo(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function jo(t){var n=t.nextUint32Array(9);return{a:Ao(n[0],16),b:Ao(n[1],16),u:Ao(n[2],30),c:Ao(n[3],16),d:Ao(n[4],16),v:Ao(n[5],30),x:Ao(n[6],16),y:Ao(n[7],16),w:Ao(n[8],30)}}function Zo(t){return new So(t.type,Uo(Fo(t.data.data),t.data.cursor.offset))}var Jo=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return ho(n,t),l.defineProperty(n.prototype,"handlerType",{get:function(){return this.Gs},set:function(t){this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(To);function $o(t){var n=t.data,i=Go(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new Jo(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}ho(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(Jo);var Ko=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},l.defineProperty(t.prototype,"tag",{get:function(){return this.Qs},set:function(t){if(!po(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}(),th=(function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=e,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=r,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}ho(n,t),l.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ys},set:function(t){if(!po(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Ys=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamType",{get:function(){return this.js},set:function(t){if(!po(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!po(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Js},set:function(t){if(!po(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.$s},set:function(t){if(!po(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Ko),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}ho(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(go.from(this.data))}}(Ko),function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return ho(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Ko)),nh=(function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new th(r.fixed28BitMode),s}ho(n,t),l.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"esId",{get:function(){return this.Ks},set:function(t){if(!po(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamPriority",{get:function(){return this.tu},set:function(t){if(!po(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.nu},set:function(t){if(t&&!po(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.iu},set:function(t){if(t&&!po(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.iu=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Ko),function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return ho(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(yo)),ih=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ho(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(nh),eh=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return ho(n,t),l.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.eu},set:function(t){if(!po(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(ih),rh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return ho(n,t),l.defineProperty(n.prototype,"channelCount",{get:function(){return this.ru},set:function(t){if(!po(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleSize",{get:function(){return this.su},set:function(t){if(!po(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleRate",{get:function(){return this.uu},set:function(t){if(!po(ko(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(ko(this.sampleRate,16),32),this.extra&&bo(n.writer,this.extra)},n}(eh),sh=(function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}ho(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!po(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!po(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(To),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}ho(n,t),l.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.hu},set:function(t){if(!po(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.au},set:function(t){if(!po(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.cu},set:function(t){if(!po(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.fu},set:function(t){if(!po(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffN",{get:function(){return this.vu},set:function(t){if(!po(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffD",{get:function(){return this.du},set:function(t){if(!po(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffN",{get:function(){return this.lu},set:function(t){if(!po(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffD",{get:function(){return this._u},set:function(t){if(!po(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this._u=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(yo),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}ho(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!po(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!po(t.sampleCount,32)||!po(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(To),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}ho(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.gu},set:function(t){this.flags=void 0===t?1:0,this.gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(To),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}ho(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.gu},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(To),function(t){function n(){return t.call(this,"dinf")||this}ho(n,t)}(ih),function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!po(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return ho(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(nh)),uh=(function(t){function n(){return t.call(this,"dref",0,0)||this}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh),function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return ho(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!po(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!po(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!po(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!po(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(To)),oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ho(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh),hh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ho(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(uh);function ah(t){for(var n=t.data,i=Go(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,a=void 0;0===e?(h=n.nextUint32(),a=n.nextInt32()):(h=n.nextUint64(),a=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:a,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new oh(u,r.raw):new hh(u,r.raw)}var ch=function(t){function n(){return t.call(this,"edts")||this}return ho(n,t),n}(ih);function fh(t){for(var n=new ch,i=0,e=Xo(t.data);i<e.length;i++){var r=e[i];Vo(r,"elst")?n.boxes.push(ah(r)):n.boxes.push(Zo(r))}return n}var vh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return ho(n,t),l.defineProperty(n.prototype,"majorBrand",{get:function(){return this.wu},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"minorVersion",{get:function(){return this.mu},set:function(t){if(!po(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.yu},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(yo),dh=(function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}ho(n,t)}(vh),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}ho(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(go.from(this.data))}}(yo),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return ho(n,t),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.pu},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ku},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!po(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"language",{get:function(){return this.Tu},set:function(t){if(!wh(t))throw new v("Expected an ISO-639-2/T language code");this.Tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(To)),lh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return ho(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(dh),_h=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return ho(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(dh);function gh(t){var n=t.data,i=Go(n.nextUint32()),e=i.version,r=i.flags,s=Qo(n,e),u=new lo(go.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var a=o.map(function(t){return String.fromCharCode(t+96)}).join("");return wh(a)||(a="und"),n.skip(2),0===e?new lh(s,a,r.raw):new _h(s,a,r.raw)}function wh(t){return/^[a-z]{3}$/.test(t)}var mh=function(t){function n(){return t.call(this,"mdia")||this}return ho(n,t),n}(ih);function yh(t){for(var n=new mh,i=0,e=Xo(t.data);i<e.length;i++){var r=e[i];Vo(r,"mdhd")?n.boxes.push(gh(r)):Vo(r,"hdlr")?n.boxes.push($o(r)):n.boxes.push(Zo(r))}return n}var ph;(function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new go,n}ho(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}})(yo),function(t){function n(){return t.call(this,"minf")||this}ho(n,t)}(ih),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(sh);!function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(ph||(ph={}));var kh,bh,Ah={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function Th(t,n){n.writer.writeUInt(ko(t.a,16),32),n.writer.writeUInt(ko(t.b,16),32),n.writer.writeUInt(ko(0,30),32),n.writer.writeUInt(ko(t.c,16),32),n.writer.writeUInt(ko(t.d,16),32),n.writer.writeUInt(ko(0,30),32),n.writer.writeUInt(ko(t.x,16),32),n.writer.writeUInt(ko(t.y,16),32),n.writer.writeUInt(ko(1,30),32)}function Sh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:kh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:bh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:bh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:bh.UNKNOWN,2)}function Eh(t,n){var i,e,r;n.writer.writeUInt(0,4),Sh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(kh||(kh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(bh||(bh={}));var Rh=function(){return function(){}}(),Ih=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return ho(n,t),l.defineProperty(n.prototype,"systemId",{get:function(){return this.Su},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"data",{get:function(){return this.di},set:function(t){if(!po(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.di=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(go.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(go.from(this.data))},n}(To),Nh=function(t){function n(n,i){return t.call(this,0,n,i)||this}return ho(n,t),n}(Ih),Dh=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return ho(n,t),l.defineProperty(n.prototype,"kIds",{get:function(){return this.Eu},set:function(t){if(!po(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.Eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(go.from(e))}},n}(Ih);function Ch(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new Dh(i,o,e):new Nh(i,o)}var Oh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return ho(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ru},set:function(t){if(!po(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ru=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(To),Ph=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ho(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(Oh),xh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ho(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(Oh);function Bh(t){var n=t.data,i=Go(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Ph(n.nextUint32(),r.raw):new xh(n.nextUint64(),r.raw)}var Lh=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,h=this;return(h=t.call(this,"trex",e,r)||this).trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return ho(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!po(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!po(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(!po(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!po(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ou},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!po(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!po(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Eh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(To);function Mh(t){var n=t.data,i=Go(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),a=Yo(new lo(go.from(n.nextUint8Array(4))));return new Lh(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:a},e,r.raw)}var Uh=function(t){function n(){return t.call(this,"mvex")||this}return ho(n,t),n}(ih);function Fh(t){for(var n=new Uh,i=0,e=Xo(t.data);i<e.length;i++){var r=e[i];Vo(r,"mehd")?n.boxes.push(Bh(r)):Vo(r,"trex")?n.boxes.push(Mh(r)):n.boxes.push(Zo(r))}return n}var Hh=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,h,a,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(h=r.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,c.matrix=null!==(a=r.matrix)&&void 0!==a?a:Ah,c.Pu=e,c}return ho(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.pu},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ku},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!po(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"rate",{get:function(){return this.xu},set:function(t){if(!po(ko(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.xu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!po(ko(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Pu},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!po(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Pu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(ko(this.rate,16),32),n.writer.writeUInt(ko(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),Th(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(To),zh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return ho(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Hh),Vh=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return ho(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Hh);function Wh(t){var n=t.data,i=Go(n.nextUint32()),e=i.version,r=i.flags,s=Qo(n,e),u=Ao(n.nextUint32(),16),o=Ao(n.nextUint16(),8);n.skip(2),n.skip(8);var h=jo(n);n.skip(24);var a=n.nextUint32();return 0===e?new zh(s,a,{rate:u,volume:o,matrix:h},r.raw):new Vh(s,a,{rate:u,volume:o,matrix:h},r.raw)}var Xh=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h,a,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Ah,f}return ho(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.pu},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.ku},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!po(t,32))throw new v("trackId cannot exceed 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!po(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!po(ko(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!po(ko(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!po(ko(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"layer",{get:function(){return this.Fu},set:function(t){if(!po(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Hu},set:function(t){if(!po(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(ko(this.volume,8),16),n.writer.writeUInt(0,16),Th(this.matrix,n),n.writer.writeUInt(ko(this.width,16),32),n.writer.writeUInt(ko(this.height,16),32)},n}(To),qh=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return ho(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(Xh),Gh=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return ho(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Xh);function Qh(t){var n,i,e,r,s=t.data,u=Go(s.nextUint32()),o=u.version,h=u.flags,a=h.isSet(8),c=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),_=Ao(s.nextInt16(),8);s.skip(2);var g=jo(s),w=Ao(s.nextUint32(),16),m=Ao(s.nextUint32(),16);return 0===o?new qh({creation:n,modification:i,duration:r},e,_,w,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new Gh({creation:n,modification:i,duration:r},e,_,w,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var Yh=function(t){function n(){return t.call(this,"trak")||this}return ho(n,t),n}(ih);function jh(t){for(var n=new Yh,i=0,e=Xo(t.data);i<e.length;i++){var r=e[i];Vo(r,"tkhd")?n.boxes.push(Qh(r)):Vo(r,"mdia")?n.boxes.push(yh(r)):Vo(r,"edts")?n.boxes.push(fh(r)):n.boxes.push(Zo(r))}return n}var Zh=function(t){function n(){return t.call(this,"moov")||this}return ho(n,t),n}(ih);var Jh=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return ho(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.zu},set:function(t){if(!po(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(To),$h=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return ho(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(Jh),Kh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return ho(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(Jh);function ta(t){var n=t.data,i=Go(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new $h(n.nextUint32(),r.raw):new Kh(n.nextUint64(),r.raw)}var na=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return ho(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!po(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Vu},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!po(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Wu},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!po(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!po(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!po(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.Ou},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!po(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!po(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.Ou=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Eh(this.defaultSampleFlags,n)},n}(To);function ia(t){var n=t.data,i=n.nextUint8(),e=new lo(go.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,d=a?n.nextUint32():void 0,l=h?n.nextUint32():void 0,_=o?n.nextUint32():void 0,g=u?Yo(new lo(go.from(n.nextUint8Array(4)))):void 0;return new na({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:_,defaultSampleFlags:g},i)}var ea=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return ho(n,t),l.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Xu},set:function(t){if(t&&!po(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Xu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.qu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!po(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!po(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.qu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n,i;if(!po(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!po(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!po(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!po(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!po(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!po(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Eh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Eh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(To);function ra(t){var n=t.data,i=n.nextUint8(),e=new lo(go.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};a&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=Yo(new lo(go.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=Yo(new lo(go.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new ea(i,f,v)}var sa=function(t){function n(){return t.call(this,"traf")||this}return ho(n,t),n}(ih);function ua(t){for(var n=new sa,i=0,e=Xo(t.data);i<e.length;i++){var r=e[i];Vo(r,"tfhd")?n.boxes.push(ia(r)):Vo(r,"tfdt")?n.boxes.push(ta(r)):Vo(r,"trun")?n.boxes.push(ra(r)):n.boxes.push(Zo(r))}return n}var oa=function(t){function n(){return t.call(this,"moof")||this}return ho(n,t),n}(ih);!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}ho(n,t),l.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Qu},set:function(t){if(!po(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(To);var ha=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return ho(n,t),l.defineProperty(n.prototype,"codingName",{get:function(){return this.Yu},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(yo),aa=(function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}ho(n,t),l.defineProperty(n.prototype,"hSpacing",{get:function(){return this.ju},set:function(t){if(!po(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.ju=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Zu},set:function(t){if(!po(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(yo),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}ho(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(ih),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new ha(n),r}ho(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(yo),function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return ho(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){var n=this;if(!po(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!po(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.ou=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!po(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!po(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(To)),ca=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ho(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(aa),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}ho(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(aa),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}ho(n,t),l.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.$u},set:function(t){if(!po(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.$u=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ku},set:function(t){if(!po(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!po(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!po(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!po(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(To),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Sh(e[i],n)}}}(To),function(t){function n(n){return t.call(this,"stsd",n,0)||this}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(sh),function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return ho(n,t),l.defineProperty(n.prototype,"groupingType",{get:function(){return this.to},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(To)),fa=(function(t){function n(n,i){return t.call(this,0,n,i)||this}ho(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(ca),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}ho(n,t),l.defineProperty(n.prototype,"defaultLength",{get:function(){return this.io},set:function(t){if(!po(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(ca),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}ho(n,t),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!po(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(ca),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}ho(n,t),l.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eo},set:function(t){if(!po(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!po(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(To),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}ho(n,t),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!po(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){if(!po(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(To),function(t){function n(){return t.call(this,"stbl")||this}ho(n,t)}(ih),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}ho(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!po(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!po(t.firstChunk,32)||!po(t.sampleDescriptionIndex,32)||!po(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(To),function(t){function n(){return t.call(this,"schi")||this}ho(n,t)}(ih),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}ho(n,t),l.defineProperty(n.prototype,"schemeType",{get:function(){return this.ro},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.so},set:function(t){if(!po(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.so=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeUri",{get:function(){return this.uo},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(To),function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=e,h.earliestPresentationTime=r,h.firstOffset=s,h.references=u,h}return ho(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"referenceId",{get:function(){return this.oo},set:function(t){if(!po(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!po(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ho},set:function(t){if(!po(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ho=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ao},set:function(t){if(!po(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ao=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"references",{get:function(){return this.co},set:function(t){if(!po(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!po(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!po(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!po(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!po(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(To)),va=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return ho(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(fa),da=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return ho(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(fa);(function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}ho(n,t)})(vh),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}ho(n,t),l.defineProperty(n.prototype,"balance",{get:function(){return this.fo},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!po(ko(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(ko(this.balance,8),16),n.writer.writeUInt(0,16)}}(To),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}ho(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!po(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!po(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(To),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}ho(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!po(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!po(t.sampleCount,32)||!po(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(To),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}ho(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!po(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(sh),function(t){function n(){return t.call(this,"udta")||this}ho(n,t)}(ih);var la={red:0,green:0,blue:0},_a=(function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=la);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}ho(n,t),l.defineProperty(n.prototype,"opColor",{get:function(){return this.vo},set:function(t){if(!po(t.red,16)||!po(t.green,16)||!po(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(To),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,h,a,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=r.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return ho(n,t),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!po(t,16))throw new v("Provided width does not fit in 16 bits.");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!po(t,16))throw new v("Provided height does not fit in 16 bits.");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.do},set:function(t){if(!po(ko(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.lo},set:function(t){if(!po(ko(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.lo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compressorName",{get:function(){return this._o},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this._o=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"frameCount",{get:function(){return this.wo},set:function(t){if(!po(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.wo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"depth",{get:function(){return this.mo},set:function(t){if(!po(t,16))throw new v("Provided depth does not fit in 16 bits.");this.mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(ko(this.horizontalResolution,16),32),n.writer.writeUInt(ko(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&bo(n.writer,this.extra)},n}(eh)),ga=(function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(go.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(To),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(rh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(_a),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}ho(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(eh),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}ho(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(yo),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}l.defineProperty(t.prototype,"version",{get:function(){return this.yo},set:function(t){if(!po(t,8))throw new v("Provided version does not fit in 8 bits.");this.yo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileIndication",{get:function(){return this.po},set:function(t){if(!po(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.po=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.ko},set:function(t){if(!po(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.ko=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"levelIndication",{get:function(){return this.bo},set:function(t){if(!po(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.bo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"spsSets",{get:function(){return this.Ao},set:function(t){if(!po(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.Ao=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ppsSets",{get:function(){return this.To},set:function(t){if(!po(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(go.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(go.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}ho(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(_a),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}ho(n,t),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!po(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"max",{get:function(){return this.So},set:function(t){if(!po(t,32))throw new v("Provided max does not fit in 32 bits.");this.So=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avg",{get:function(){return this.Eo},set:function(t){if(!po(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(yo),function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return ho(n,t),l.defineProperty(n.prototype,"isProtected",{get:function(){return this.Ro},set:function(t){if(!po(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Io},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Io=t,this.No=new y(0)},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"kId",{get:function(){return this.Do},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"constantIv",{get:function(){return this.No},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.No=t,this.Io=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),bo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),bo(t.writer,this.constantIv))},n}(To)),wa=(function(t){function n(n){return t.call(this,0,n)||this}ho(n,t)}(ga),function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return ho(n,t),l.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Co},set:function(t){if(!po(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Co=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.Oo},set:function(t){if(!po(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.Oo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(ga));!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new wa(n),i}ho(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}(Rh);function ma(t){return void 0!==t.iv}function ya(t){return void 0!==t.subsamples}(function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}ho(n,t),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n;if(!po(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(ma(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=ya(r)),!0===n&&!ya(r)||!1===n&&ya(r))throw new v("Mix of samples with and without subsamples detected.");if(ya(r)){if(!po(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!po(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!po(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];ma(r)&&(n+=r.iv.length),ya(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(ma(r)&&bo(n.writer,r.iv),ya(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}})(To),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}ho(n,t),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!po(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Po},set:function(t){if(!po(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"eventDuration",{get:function(){return this.xo},set:function(t){if(!po(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.xo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"id",{get:function(){return this.Bo},set:function(t){if(!po(t,32))throw new v("The provided id does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(go.from(this.data))}}(To);function pa(t,n){return function(i){var e,r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=qo(i,e);if(!r.complete)return;if(Vo(r.box,n))return r.box}}(new zo((e=i,new DataView(e.buffer,e.byteOffset,e.byteLength)),new Ho),t);if(!r)throw new v("".concat(t," box not found"));return n(r)}}var ka=pa("moov",function(t){for(var n=new Zh,i=0,e=Xo(t.data);i<e.length;i++){var r=e[i];Vo(r,"mvhd")?n.boxes.push(Wh(r)):Vo(r,"trak")?n.boxes.push(jh(r)):Vo(r,"mvex")?n.boxes.push(Fh(r)):Vo(r,"pssh")?n.boxes.push(Ch(r)):n.boxes.push(Zo(r))}return n}),ba=pa("sidx",function(t){var n,i,e=t.data,r=Go(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),h=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var a=e.nextUint16(),c=[],f=0;f<a;f++){var v=new lo(go.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),_=v.readUInt(32),g=Boolean(v.readBit()),w=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:_,startsWithSap:g,sapType:w,sapDeltaTime:m})}return 0===s?new va(o,h,n,i,c,u.raw):new da(o,h,n,i,c,u.raw)}),Aa=pa("moof",function(t){for(var n=new oa,i=0,e=Xo(t.data);i<e.length;i++){var r=e[i];Vo(r,"traf")?n.boxes.push(ua(r)):Vo(r,"pssh")?n.boxes.push(Ch(r)):n.boxes.push(Zo(r))}return n}),Ta=pa("pssh",Ch),Sa=function(t){function n(n,i){var e;(e=t.call(this)||this).Lo=void 0,e.Mo=!1,e.Uo=void 0,e.Fo=void 0,e.Ho=function(){e.zo()},e.Vo=function(t){e.Fr(new Ms(Tt(e),t.messageType,ro(e.Wo,t.message)))},e.Xo=function(){e.Mo=!0,e.Lo.ls>0&&(e.Lo.ds(),e.Fr(new Ls(Tt(e)))),e.qo.removeEventListener("keystatuseschange",e.Ho),e.qo.removeEventListener("message",e.Vo)},e.qo=n,e.Wo=i,e.qo.addEventListener("keystatuseschange",e.Ho),e.qo.addEventListener("message",e.Vo),e.Lo=new Vs;var r=[];return e.qo.closed&&r.push(we.resolve(e.qo.closed)),e.Fo=new no,r.push(e.Fo.Ss),e.Uo=we.race(r).then(e.Xo,e.Xo),e.zo(),e}S(n,t);var i=n.prototype;return i.Go=function(){if(this.Mo)return this.Uo;var t=[];return t.push(we.resolve(this.qo.close())),t.push(Rs(1e3)),this.Fo.Is(we.race(t).catch(Ea)),this.Mo=!0,this.Uo},i.Qo=function(t,n,i){if(L.Yt){var e=Ta(Zu(n));if(1===e.version)n=new Nh(e.systemId,e.data).serialize().join()}return we.resolve(this.qo.generateRequest(t,n)).catch(Ea)},i.Yo=function(t){return we.resolve(this.qo.load(t)).catch(Ea)},i.jo=function(){return we.resolve(this.qo.remove()).catch(Ea)},i.Zo=function(t){return we.resolve(this.qo.update(t)).catch(Ea)},i.zo=function(){var t=this;this.Lo.ds(),this.qo.keyStatuses.forEach(function(n,i){t.Jo(i,n)}),this.Fr(new Ls(this))},i.Jo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=Zu(t);if(this.Wo===pr&&16===e.byteLength){var r=Qu(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Wo===pr&&"status-pending"===n&&(n="usable"),this.Lo.vs(e,n)},A(n,[{key:"$o",get:function(){return this.Uo}},{key:"Ko",get:function(){return this.qo.expiration}},{key:"th",get:function(){return this.Lo}},{key:"nh",get:function(){return this.qo.sessionId}}]),n}(Cs);function Ea(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new uo(t.message,void 0,n,t)}var Ra=function(){function t(t,n,i){this.ih=t,this.eh=n,this.rh=i}var n=t.prototype;return n.sh=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Sa(this.ih.createSession(t),this.eh));case 1:case"end":return n.stop()}},null,this,null,we)},n.uh=function(t){return we.resolve(this.ih.setServerCertificate(t))},n.oh=function(t){return we.resolve(t.setMediaKeys(this.ih))},n.hh=function(t){return we.resolve(t.setMediaKeys(null))},t}(),Ia=function(){function t(t,n,i){this.ah=t,this.Wo=n,this.fh=i}var n=t.prototype;return n.vh=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.ah.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new Ra(t,this.Wo,this.fh));case 4:case"end":return n.stop()}},null,this,null,we)},n.dh=function(){return this.fh},A(t,[{key:"eh",get:function(){return this.ah.keySystem}}]),t}(),Na={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Da(t){return Br(t,Na.APPLICATION_MP4)||Br(t,Na.VIDEO_MP4)||Br(t,Na.AUDIO_MP4)}var Ca=function(){function t(t,n){this.nr=void 0,this.lh=void 0,this.nr=t,this.lh=n}return t.prototype._h=function(t){for(var n=0,i=this.lh;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function Oa(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new Ca(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<r.length;h++){var a=r[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=Pa(r.substr(u,h));c&&s.push(c),u=h+1}}if(u!==r.length){var f=Pa(r.substr(u));f&&s.push(f)}return new Ca(e,s)}function Pa(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function xa(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function Ba(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,gh:e.gh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return La(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var h=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(e){return La(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function La(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!hs(n,e.encryptionScheme))&&(!e.robustness&&t(i,xa(e.contentType))))}function Ma(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function Ua(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function Fa(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(Ha))||!(!t.videoCapabilities||!t.videoCapabilities.some(Ha))}function Ha(t){return!t.robustness}function za(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(ir({},r,{robustness:n}))}return i}var Va=function(){function t(){}return t.prototype.dr=function(t,n){var i,e,r,s,u,h,a,c;return nr.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.gh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=Ua(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=Ua(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(Fa)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",ir({},n=t,{videoCapabilities:n.videoCapabilities?za(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?za(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,nr.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,h=u.getConfiguration(),f.abrupt("return",new Ia(u,t,h));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,nr.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return a=f.sent,c=a.getConfiguration(),f.abrupt("return",new Ia(a,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],we)},t.wh=function(){return Gr()},t}(),Wa=function(t){function n(n,i){var e;return(e=t.call(this)||this).Mo=!1,e.mh=void 0,e.yh=void 0,e.ph=void 0,e.kh=void 0,e.bh=void 0,e.Xo=function(){e.Mo=!0,e.mh.Is(void 0),e.bh&&(e.bh.removeEventListener("mskeyclose",e.Xo),e.bh.removeEventListener("mskeymessage",e.Ah),e.bh.removeEventListener("mskeyerror",e.Th),e.bh.removeEventListener("mskeyadded",e.Sh))},e.Ah=function(t){e.ph&&(e.ph.Is(void 0),e.ph=void 0),e.Fr(new Ms(Tt(e),"license-request",$u(t.message).buffer,t.destinationURL||void 0))},e.Th=function(){var t=e.bh&&e.bh.error;if(t){var n=new uo("Unknown CDM error",t.code,t.systemCode);if(e.ph)e.ph.Ns(n),e.ph=void 0;else if(e.yh)e.yh.Ns(n),e.yh=void 0;else switch(n.Ds){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Eh("output-not-allowed");break;default:e.Eh("internal-error")}}},e.Sh=function(){e.ph&&(e.Eh("usable"),e.ph.Is(void 0),e.ph=void 0),e.yh&&(e.Eh("usable"),e.yh.Is(void 0),e.yh=void 0)},e.Rh=n,e.Ih=i,e.mh=new no,e.kh=new Vs,e}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),this.ph=new no,this.sh(Zu(n),i),t.next=5,nr.awrap(this.ph.Ss);case 5:case"end":return t.stop()}},null,this,null,we)},i.sh=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Dh;return(i=n?this.Rh.createSession(this.Ih,t,e):this.Rh.createSession(this.Ih,t)).addEventListener("mskeyclose",this.Xo),i.addEventListener("mskeymessage",this.Ah),i.addEventListener("mskeyerror",this.Th),i.addEventListener("mskeyadded",this.Sh),this.bh=i,this.Eh("status-pending"),i},i.Yo=function(t){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,we)},i.Zo=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.yh=new no,this.Nh(),this.bh){i.next=4;break}return i.abrupt("return",we.resolve());case 4:if(0!==(n=Zu(t)).byteLength){i.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.bh.update(n),i.next=10,nr.awrap(this.yh.Ss);case 10:case"end":return i.stop()}},null,this,null,we)},i.Go=function(){return!this.Mo&&this.bh&&(this.Mo=!0,this.bh.close()),this.mh.Ss},i.jo=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,we)},i.Nh=function(){if(this.Mo)throw new d("Already closing or closed.")},i.Eh=function(t){this.kh.ds(),this.kh.vs(zs,t),this.Fr(new Ls(this))},A(n,[{key:"nh",get:function(){return this.bh&&this.bh.sessionId||""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.kh}}]),n}(Cs),Xa=function(){function t(t,n,i){this.Ih=void 0,this.Rh=t,this.eh=n,this.rh=i;var e=Ma(i)||"video/mp4";this.Ih=xa(e)}var n=t.prototype;return n.sh=function(t){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Wa(this.Rh,this.Ih));case 1:case"end":return t.stop()}},null,this,null,we)},n.uh=function(t){return we.resolve(!1)},n.oh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Rh):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Rh),t.removeEventListener("loadedmetadata",i)}),we.resolve()},n.hh=function(t){return we.resolve()},t}(),qa=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new Hi.MSMediaKeys(this.Wo);return we.resolve(new Xa(t,this.Wo,this.Ch))},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),Ga=function(){function t(){}return t.prototype.dr=function(t,n){try{return we.resolve(function(t,n){if(!Qa())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Ba(Ya,xs,t,e);if(r)return new qa(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return we.reject(t)}},t.wh=function(){return Qa()},t}();function Qa(){return void 0!==Hi.MSMediaKeys&&"function"==typeof Hi.MSMediaKeys.isTypeSupported}function Ya(t,n){return Hi.MSMediaKeys.isTypeSupported(t,n)}var ja,Za,Ja=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).mh=new no,r.Oh=void 0,r.kh=new Vs,r.Ph=void 0,r.xh=new no,r.Th=function(){var t=r.Ph&&r.Ph.error;if(t){var n=new uo("Unknown CDM error",t.code,t.systemCode);r.Oh?(r.Oh.Ns(n),r.Oh=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Eh("output-not-allowed"):r.Eh("internal-error"),r.Fr(new Us)}},r.Ah=function(t){r.Oh&&(r.Oh.Is(void 0),r.Oh=void 0),r.Fr(new Ms(Tt(r),"license-request",$u(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Bh=n,r.Ih=i,r.Lh=e,r}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Mh;if(!e)throw new d("Expected FairPlay contentId to be defined but was "+e+".");var r=$a(Zu(n),e,this.Lh);return this.Ph=this.Bh.createSession(this.Ih,r),this.Ph.addEventListener("webkitkeymessage",this.Ah,!1),this.Ph.addEventListener("webkitkeyerror",this.Th,!1),this.Eh("usable"),this.xh.Is(this.Ph),this.xh=new no,we.resolve()},i.Yo=function(t){return we.resolve(!0)},i.Zo=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Zu(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.Oh=new no,i.t0=this.Ph,i.t0){i.next=9;break}return i.next=8,nr.awrap(this.xh.Ss);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,nr.awrap(this.Oh.Ss);case 13:case"end":return i.stop()}},null,this,null,we)},i.Go=function(){var t=this.Ph;return t&&(t.removeEventListener("webkitkeymessage",this.Ah,!1),t.removeEventListener("webkitkeyerror",this.Th,!1),t.close()),this.xh.Cr(),this.mh.Is(void 0),this.mh.Ss},i.jo=function(){return we.resolve(void 0)},i.Eh=function(t){this.kh.ds(),this.kh.vs(zs,t),this.Fr(new Ls(this))},A(n,[{key:"nh",get:function(){return this.Ph?this.Ph.sessionId:""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.kh}}]),n}(Cs);function $a(t,n,i){var e=Wu(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),h=new Ku;return Su(o,h,r,!0),Mu(o,h,e,!0),Su(o,h,s,!0),Mu(o,h,n,!0),Su(o,h,i.byteLength,!0),yu(o,h,i),new y(u)}(ja=n.ErrorCode||(n.ErrorCode={}))[ja.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",ja[ja.LICENSE_ERROR=2e3]="LICENSE_ERROR",ja[ja.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",ja[ja.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",ja[ja.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",ja[ja.SOURCE_INVALID=3e3]="SOURCE_INVALID",ja[ja.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",ja[ja.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",ja[ja.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",ja[ja.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",ja[ja.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",ja[ja.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",ja[ja.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",ja[ja.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",ja[ja.MEDIA_ABORTED=5004]="MEDIA_ABORTED",ja[ja.NETWORK_ERROR=6e3]="NETWORK_ERROR",ja[ja.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",ja[ja.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",ja[ja.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",ja[ja.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",ja[ja.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",ja[ja.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",ja[ja.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",ja[ja.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",ja[ja.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",ja[ja.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",ja[ja.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",ja[ja.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",ja[ja.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",ja[ja.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",ja[ja.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",ja[ja.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",ja[ja.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",ja[ja.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",ja[ja.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",ja[ja.AD_ERROR=1e4]="AD_ERROR",ja[ja.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",ja[ja.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Za=n.ErrorCategory||(n.ErrorCategory={}))[Za.CONFIGURATION=1]="CONFIGURATION",Za[Za.LICENSE=2]="LICENSE",Za[Za.SOURCE=3]="SOURCE",Za[Za.MANIFEST=4]="MANIFEST",Za[Za.MEDIA=5]="MEDIA",Za[Za.NETWORK=6]="NETWORK",Za[Za.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Za[Za.SUBTITLE=8]="SUBTITLE",Za[Za.VR=9]="VR",Za[Za.AD=10]="AD",Za[Za.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Ka=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Et),tc=function(){function t(t,n,i){this.Ih=void 0,this.Lh=void 0,this.Bh=t,this.eh=n,this.rh=i;var e=Ma(i)||"video/mp4";this.Ih=xa(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Bh},i.sh=function(t){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new Ka(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ja(this.Bh,this.Ih,this.Lh));case 3:case"end":return t.stop()}},null,this,null,we)},i.uh=function(t){return this.Lh=Zu(t),we.resolve(!0)},i.oh=function(t){return t.webkitSetMediaKeys(this.Bh),we.resolve()},i.hh=function(t){return t.webkitSetMediaKeys(null),we.resolve()},t}(),nc=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new Hi.WebKitMediaKeys(this.Wo);return we.resolve(new tc(t,this.Wo,this.Ch))},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),ic=function(){function t(){}return t.prototype.dr=function(t,n){try{return we.resolve(function(t,n){if(t!==Rr)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!ec())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Ba(rc,Bs,t,e);if(r)return new nc(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return we.reject(t)}},t.wh=function(){return ec()},t}();function ec(){return void 0!==Hi.WebKitMediaKeys&&"function"==typeof Hi.WebKitMediaKeys.isTypeSupported}function rc(t,n){return Hi.WebKitMediaKeys.isTypeSupported(t,n)}var sc,uc=function(){function t(t){this.Uh=t}return t.prototype.dr=function(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Uh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,nr.awrap(r.dr(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new d("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],we)},t}(),oc=function(t){function n(n){var i;return(i=t.call(this)||this).ph=void 0,i.Oh=void 0,i.mh=void 0,i.Hs=!1,i.Fh=void 0,i.Hh=void 0,i.zh=void 0,i.Vh=void 0,i.Wh=void 0,i.Wo=n,i.mh=new no,i.Hh="",i.Wh=new no,i.zh=new Vs,i}S(n,t);var i=n.prototype;return i.Xh=function(){this.Oh&&(this.Eh("usable"),this.Oh.Is(void 0),this.Oh=void 0)},i.qh=function(t){var n=new uo("Unknown CDM error",t.errorCode,t.systemCode);this.Oh?(this.Oh.Ns(n),this.Oh=void 0):this.ph?(this.ph.Ns(n),this.ph=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Eh("output-restricted"):1===n.Cs?this.Eh("expired"):this.Eh("internal-error")},i.Gh=function(t){0!==t.message.byteLength&&(this.ph&&(this.ph.Is(void 0),this.ph=void 0),this.Fr(new Ms(this,"license-request",ro(this.Wo,$u(t.message).buffer),t.defaultURL||void 0)))},i.Qh=function(t){this.Vh||(this.Vh=t,this.Wh.Is(t))},i.Go=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Hs=!0,this.mh.Is(void 0);case 3:case"end":return t.stop()}},null,this,null,we)},i.Qo=function(t,n){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ph=new no,this.Fh=Zu(n),t.t0=this.Vh,t.t0){t.next=8;break}return t.next=7,nr.awrap(this.Wh.Ss);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Wo,this.Fh),t.next=12,nr.awrap(this.ph.Ss);case 12:case"end":return t.stop()}},null,this,null,we)},i.Yo=function(t){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,we)},i.jo=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,we)},i.Zo=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.Oh=new no,n.t0=this.Vh,n.t0){n.next=7;break}return n.next=6,nr.awrap(this.Wh.Ss);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Wo,Zu(t),this.Fh,this.nh),n.next=11,nr.awrap(this.Oh.Ss);case 11:case"end":return n.stop()}},null,this,null,we)},i.throwIfClosed=function(){if(this.Hs)throw new d("Already closing or closed.")},i.Eh=function(t){this.zh.ds(),this.zh.vs(zs,t),this.Fr(new Ls(this))},A(n,[{key:"th",get:function(){return this.zh}},{key:"nh",get:function(){return this.Hh},set:function(t){this.Hh=t}},{key:"$o",get:function(){return this.mh.Ss}},{key:"Ko",get:function(){return NaN}}]),n}(Cs),hc=function(){function t(t,n){var i=this;this.Vh=void 0,this.Yh=rr(),this.jh=[],this.Sh=function(t){var n=i.Zh(t.sessionId);n&&n.Xh()},this.Jh=function(t){var n=i.Zh(t.sessionId);n&&n.qh(t)},this.$h=function(t){var n=i.Zh(t.sessionId);n&&n.Gh(t)},this.eh=t,this.rh=n}var n=t.prototype;return n.oh=function(t){return this.Vh=t,this.Vh.addEventListener("webkitkeyadded",this.Sh),this.Vh.addEventListener("webkitkeyerror",this.Jh),this.Vh.addEventListener("webkitkeymessage",this.$h),this.Yh.forEach(function(n,i){return n.Qh(t)}),this.jh.forEach(function(n){return n.Qh(t)}),we.resolve()},n.hh=function(t){return t.removeEventListener("webkitkeyadded",this.Sh),t.removeEventListener("webkitkeyerror",this.Jh),t.removeEventListener("webkitkeymessage",this.$h),this.Vh=void 0,we.resolve()},n.sh=function(t,n,i){var e;return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new oc(this.eh),this.Vh&&e.Qh(this.Vh),this.jh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,we)},n.uh=function(t){return we.resolve(!1)},n.Zh=function(t){if(t){var n=this.Yh.get(t);return n||((n=this.jh.shift())?(n.nh=t,this.Yh.set(t,n),n):void 0)}},t}(),ac=function(){function t(t,n){this.eh=t,this.Kh=n}var n=t.prototype;return n.vh=function(){return we.resolve(new hc(this.eh,this.Kh))},n.dh=function(){return this.Kh},t}(),cc=function(){function t(){}return t.prototype.dr=function(t,n){try{return we.resolve(fc(t,n))}catch(t){return we.reject(t)}},t.wh=function(){return Qr()},t}();function fc(t,n){if(!cc.wh())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=Ba(vc,xs,t,e);if(r)return new ac(t,r)}throw new d("Unsupported key system configuration for "+t)}function vc(t,n){var i=Be();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function dc(){return sc||(sc=function(){var t=[];ic.wh()&&t.push(new ic);Va.wh()&&t.push(new Va);Ga.wh()&&t.push(new Ga);cc.wh()&&t.push(new cc);return new uc(t)}()),sc}var lc=function(){function t(){this.ta=rr()}var n=t.prototype;return n.ds=function(t){this.ta.delete(t)},n.na=function(){this.ta.clear()},n.cs=function(t){return this.ta.get(t)},n.ia=function(t,n){this.ta.set(t,n)},t}(),_c=function(){function t(){}return t.ea=function(){return t.Rn||(t.Rn=gc.wh()?new gc:new lc),t.Rn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t}();_c.Rn=void 0;var gc=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.ds=function(n){t.sessionStorage.removeItem(n)},e.na=function(){t.sessionStorage.clear()},e.cs=function(n){return t.sessionStorage[n]},e.ia=function(n,i){t.sessionStorage[n]=i},i}(_c);var wc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function mc(t,n,i){var e=wc([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var yc,pc;!function(t){t.ra="sa",t.ua="oa",t.ha="contentprotectionerror",t.aa="contentprotectionsuccess",t.ca="currentsourcechange",t.fa="destroy",t.va="durationchange",t.da="emptied",t.es="encrypted",t.la="ended",t._a="ga",t.wa="loadstart",t.ma="manifestupdate",t.ya="nosupportedrepresentationfound",t.pa="offline",t.ka="online",t.ba="pause",t.Aa="play",t.Ta="progress",t.Sa="ratechange",t.Ea="representationchange",t.Ra="resize",t.Ia="seeked",t.Na="seeking",t.Da="segmentnotfound",t.Ca="Oa",t.Pa="xa",t.Ba="sourcechange",t.La="timeupdate",t.Ma="volumechange",t.Ua="Fa",t.Ha="metricschange"}(yc||(yc={})),function(t){t.za="arraybuffer",t.Va="json",t.Wa="stream",t.Pn="text"}(pc||(pc={}));var kc=function(){function t(n){var i=this;this.je=void 0,this.je={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=bc(i),e=Ac(e);var r=i.toLowerCase();if(this.je.hasOwnProperty(r)){var s=this.je[r],u=s[1];s[1]=u?u+", "+e:e}else this.je[r]=[i,e]},n.delete=function(t){var n=bc(t).toLowerCase();delete this.je[n]},n.get=function(t){var n=bc(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},n.has=function(t){var n=bc(t).toLowerCase();return this.je.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=bc(i)).toLowerCase();this.je[e]=[i,Ac(n)]},n.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Xa=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Ga=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function bc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Ac(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Sc(){}var Ec=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function Rc(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Ic=Sc,Nc=we,Dc=we.prototype.then,Cc=we.resolve.bind(Nc),Oc=we.reject.bind(Nc);function Pc(t){return new Nc(t)}function xc(t){return Cc(t)}function Bc(t){return Oc(t)}function Lc(t,n,i){return Dc.call(t,n,i)}function Mc(t,n,i){Lc(Lc(t,n,i),void 0,Ic)}function Uc(t,n){Mc(t,n)}function Fc(t,n){Mc(t,void 0,n)}function Hc(t,n,i){return Lc(t,n,i)}function zc(t){Lc(t,void 0,Ic)}var Vc=function(){var t=Ec&&Ec.queueMicrotask;if("function"==typeof t)return t;var n=xc(void 0);return function(t){return Lc(n,t)}}();function Wc(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function Xc(t,n,i){try{return xc(Wc(t,n,i))}catch(t){return Bc(t)}}var qc=function(){function t(){this.Qa=0,this.Ya=0,this.Bi={ja:[],Za:void 0},this.Ja=this.Bi,this.Qa=0,this.Ya=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Ya},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.Ja,i=n;16383===n.ja.length&&(i={ja:[],Za:void 0}),n.ja.push(t),i!==n&&(this.Ja=i,n.Za=i),++this.Ya},t.prototype.shift=function(){var t=this.Bi,n=t,i=this.Qa,e=i+1,r=t.ja,s=r[i];return 16384===e&&(n=t.Za,e=0),--this.Ya,this.Qa=e,t!==n&&(this.Bi=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Qa,i=this.Bi,e=i.ja;!(n===e.length&&void 0===i.Za||n===e.length&&(n=0,0===(e=(i=i.Za).ja).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Bi,n=this.Qa;return t.ja[n]},t}();function Gc(t,n){t.$a=n,n.Ka=t,"readable"===n.Ii?Zc(t):"closed"===n.Ii?function(t){Zc(t),Kc(t)}(t):Jc(t,n.tc)}function Qc(t,n){return jd(t.$a,n)}function Yc(t){"readable"===t.$a.Ii?$c(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Jc(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.$a.Ka=void 0,t.$a=void 0}function jc(t){return new d("Cannot "+t+" a stream using a released reader")}function Zc(t){t.Uo=Pc(function(n,i){t.nc=n,t.ic=i})}function Jc(t,n){Zc(t),$c(t,n)}function $c(t,n){void 0!==t.ic&&(zc(t.Uo),t.ic(n),t.nc=void 0,t.ic=void 0)}function Kc(t){void 0!==t.nc&&(t.nc(void 0),t.nc=void 0,t.ic=void 0)}var tf=Tc("[[AbortSteps]]"),nf=Tc("[[ErrorSteps]]"),ef=Tc("[[CancelSteps]]"),rf=Tc("[[PullSteps]]"),sf=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},uf=_.trunc||function(t){return t<0?_.ceil(t):_.floor(t)};function of(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new d(n+" is not an object.");var i}function hf(t,n){if("function"!=typeof t)throw new d(n+" is not a function.")}function af(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new d(n+" is not an object.")}function cf(t,n,i){if(void 0===t)throw new d("Parameter "+n+" is required in '"+i+"'.")}function ff(t,n,i){if(void 0===t)throw new d(n+" is required in '"+i+"'.")}function vf(t){return Number(t)}function df(t){return 0===t?0:t}function lf(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=df(e),!sf(e))throw new d(n+" is not a finite number");if((e=function(t){return df(uf(t))}(e))<0||e>i)throw new d(n+" is outside the accepted range of 0 to "+i+", inclusive");return sf(e)&&0!==e?e:0}function _f(t,n){if(!Qd(t))throw new d(n+" is not a ReadableStream.")}function gf(t){return new Af(t)}function wf(t,n){t.Ka.ec.push(n)}function mf(t,n,i){var e=t.Ka.ec.shift();i?e.rc():e.sc(n)}function yf(t){return t.Ka.ec.length}function pf(t){var n=t.Ka;return void 0!==n&&!!Tf(n)}var kf,bf,Af=function(){function t(t){if(cf(t,1,"ReadableStreamDefaultReader"),_f(t,"First parameter"),Yd(t))throw new d("This stream has already been locked for exclusive reading by another reader");Gc(this,t),this.ec=new qc}return l.defineProperty(t.prototype,"closed",{get:function(){return Tf(this)?this.Uo:Bc(Ef("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Tf(this)?void 0===this.$a?Bc(jc("cancel")):Qc(this,t):Bc(Ef("cancel"))},t.prototype.read=function(){if(!Tf(this))return Bc(Ef("read"));if(void 0===this.$a)return Bc(jc("read from"));var t,n,i=Pc(function(i,e){t=i,n=e});return Sf(this,{sc:function(n){return t({value:n,done:!1})},rc:function(){return t({value:void 0,done:!0})},uc:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!Tf(this))throw Ef("releaseLock");if(void 0!==this.$a){if(this.ec.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Yc(this)}},t}();function Tf(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"ec")&&t instanceof Af)}function Sf(t,n){var i=t.$a;i.oc=!0,"closed"===i.Ii?n.rc():"errored"===i.Ii?n.uc(i.tc):i.hc[rf](n)}function Ef(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}l.defineProperties(Af.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(Af.prototype,Tc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Tc.asyncIterator&&((kf={})[Tc.asyncIterator]=function(){return this},bf=kf,l.defineProperty(bf,Tc.asyncIterator,{enumerable:!1}));var Rf=function(){function t(t,n){this.ac=void 0,this.cc=!1,this.Ka=t,this.fc=n}return t.prototype.next=function(){var t=this,n=function(){return t.vc()};return this.ac=this.ac?Hc(this.ac,n,n):n(),this.ac},t.prototype.return=function(t){var n=this,i=function(){return n.dc(t)};return this.ac?Hc(this.ac,i,i):i()},t.prototype.vc=function(){var t=this;if(this.cc)return we.resolve({value:void 0,done:!0});var n,i,e=this.Ka;if(void 0===e.$a)return Bc(jc("iterate"));var r=Pc(function(t,e){n=t,i=e});return Sf(e,{sc:function(i){t.ac=void 0,Vc(function(){return n({value:i,done:!1})})},rc:function(){t.ac=void 0,t.cc=!0,Yc(e),n({value:void 0,done:!0})},uc:function(n){t.ac=void 0,t.cc=!0,Yc(e),i(n)}}),r},t.prototype.dc=function(t){if(this.cc)return we.resolve({value:t,done:!0});this.cc=!0;var n=this.Ka;if(void 0===n.$a)return Bc(jc("finish iterating"));if(!this.fc){var i=Qc(n,t);return Yc(n),Hc(i,function(){return{value:t,done:!0}})}return Yc(n),xc({value:t,done:!0})},t}(),If={next:function(){return Nf(this)?this.lc.next():Bc(Df("next"))},return:function(t){return Nf(this)?this.lc.return(t):Bc(Df("return"))}};function Nf(t){if(!Rc(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"lc"))return!1;try{return t.lc instanceof Rf}catch(t){return!1}}function Df(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==bf&&l.setPrototypeOf(If,bf);var Cf=Number.isNaN||function(t){return t!=t};function Of(t){return t.slice()}function Pf(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function xf(t){return t}function Bf(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return Pf(r,0,t,n,e),r}function Lf(t){var n=Bf(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function Mf(t){var n=t._c.shift();return t.gc-=n.size,t.gc<0&&(t.gc=0),n.value}function Uf(t,n,i){if("number"!=typeof(e=i)||Cf(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t._c.push({value:n,size:i}),t.gc+=i}function Ff(t){t._c=new qc,t.gc=0}var Hf=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"view",{get:function(){if(!Wf(this))throw fv("view");return this.wc},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!Wf(this))throw fv("respond");if(cf(t,1,"respond"),t=lf(t,"First parameter"),void 0===this.mc)throw new d("This BYOB request has been invalidated");this.wc.buffer,hv(this.mc,t)},t.prototype.respondWithNewView=function(t){if(!Wf(this))throw fv("respondWithNewView");if(cf(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");if(void 0===this.mc)throw new d("This BYOB request has been invalidated");t.buffer,av(this.mc,t)},t}();l.defineProperties(Hf.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(Hf.prototype,Tc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var zf=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!Vf(this))throw vv("byobRequest");return uv(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Vf(this))throw vv("desiredSize");return ov(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Vf(this))throw vv("close");if(this.yc)throw new d("The stream has already been closed; do not close it again!");var t=this.pc.Ii;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");ev(this)},t.prototype.enqueue=function(t){if(!Vf(this))throw vv("enqueue");if(cf(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new d("chunk must be an array buffer view");if(0===t.byteLength)throw new d("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new d("chunk's buffer must have non-zero byteLength");if(this.yc)throw new d("stream is closed or draining");var n=this.pc.Ii;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");rv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Vf(this))throw vv("error");sv(this,t)},t.prototype[ef]=function(t){qf(this),Ff(this);var n=this.kc(t);return iv(this),n},t.prototype[rf]=function(t){var n=this.pc;if(this.gc>0){var i=this._c.shift();this.gc-=i.byteLength,Jf(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.sc(e)}else{var r=this.bc;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.uc(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Ac.push(u)}wf(n,t),Xf(this)}},t}();function Vf(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"pc")&&t instanceof zf)}function Wf(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"mc")&&t instanceof Hf)}function Xf(t){(function(t){var n=t.pc;if("readable"!==n.Ii)return!1;if(t.yc)return!1;if(!t.Tc)return!1;if(pf(n)&&yf(n)>0)return!0;if(gv(n)&&_v(n)>0)return!0;if(ov(t)>0)return!0;return!1})(t)&&(t.Sc?t.Ec=!0:(t.Sc=!0,Mc(t.Rc(),function(){t.Sc=!1,t.Ec&&(t.Ec=!1,Xf(t))},function(n){sv(t,n)})))}function qf(t){$f(t),t.Ac=new qc}function Gf(t,n){var i=!1;"closed"===t.Ii&&(i=!0);var e=Qf(n);"default"===n.readerType?mf(t,e,i):function(t,n,i){var e=t.Ka.Ic.shift();i?e.rc(n):e.sc(n)}(t,e,i)}function Qf(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function Yf(t,n,i,e){t._c.push({buffer:n,byteOffset:i,byteLength:e}),t.gc+=e}function jf(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=_.min(t.gc,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,h=!1;u>e&&(o=u-n.bytesFilled,h=!0);for(var a=t._c;o>0;){var c=a.peek(),f=_.min(o,c.byteLength),v=n.byteOffset+n.bytesFilled;Pf(n.buffer,v,c.buffer,c.byteOffset,f),c.byteLength===f?a.shift():(c.byteOffset+=f,c.byteLength-=f),t.gc-=f,Zf(t,f,n),o-=f}return h}function Zf(t,n,i){i.bytesFilled+=n}function Jf(t){0===t.gc&&t.yc?(iv(t),Zd(t.pc)):Xf(t)}function $f(t){null!==t.Nc&&(t.Nc.mc=void 0,t.Nc.wc=null,t.Nc=null)}function Kf(t){for(;t.Ac.length>0;){if(0===t.gc)return;var n=t.Ac.peek();jf(t,n)&&(nv(t),Gf(t.pc,n))}}function tv(t,n){var i=t.Ac.peek();$f(t),"closed"===t.pc.Ii?function(t,n){var i=t.pc;if(gv(i))for(;_v(i)>0;)Gf(i,nv(t))}(t):function(t,n,i){if(Zf(0,n,i),!(i.bytesFilled<i.elementSize)){nv(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=Bf(i.buffer,r-e,r);Yf(t,s,0,s.byteLength)}i.bytesFilled-=e,Gf(t.pc,i),Kf(t)}}(t,n,i),Xf(t)}function nv(t){return t.Ac.shift()}function iv(t){t.Rc=void 0,t.kc=void 0}function ev(t){var n=t.pc;if(!t.yc&&"readable"===n.Ii)if(t.gc>0)t.yc=!0;else{if(t.Ac.length>0)if(t.Ac.peek().bytesFilled>0){var i=new d("Insufficient bytes to fill elements in the given buffer");throw sv(t,i),i}iv(t),Zd(n)}}function rv(t,n){var i=t.pc;if(!t.yc&&"readable"===i.Ii){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=xf(e);if(t.Ac.length>0){var o=t.Ac.peek();o.buffer,0,o.buffer=xf(o.buffer)}if($f(t),pf(i))if(0===yf(i))Yf(t,u,r,s);else t.Ac.length>0&&nv(t),mf(i,new y(u,r,s),!1);else gv(i)?(Yf(t,u,r,s),Kf(t)):Yf(t,u,r,s);Xf(t)}}function sv(t,n){var i=t.pc;"readable"===i.Ii&&(qf(t),Ff(t),iv(t),Jd(i,n))}function uv(t){if(null===t.Nc&&t.Ac.length>0){var n=t.Ac.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=l.create(Hf.prototype);!function(t,n,i){t.mc=n,t.wc=i}(e,t,i),t.Nc=e}return t.Nc}function ov(t){var n=t.pc.Ii;return"errored"===n?null:"closed"===n?0:t.Dc-t.gc}function hv(t,n){var i=t.Ac.peek();if("closed"===t.pc.Ii){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new d("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=xf(i.buffer),tv(t,n)}function av(t,n){var i=t.Ac.peek();if("closed"===t.pc.Ii){if(0!==n.byteLength)throw new d("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new d("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=xf(n.buffer),tv(t,e)}function cv(t,n,i,e,r,s,u){n.pc=t,n.Ec=!1,n.Sc=!1,n.Nc=null,n._c=n.gc=void 0,Ff(n),n.yc=!1,n.Tc=!1,n.Dc=s,n.Rc=e,n.kc=r,n.bc=u,n.Ac=new qc,t.hc=n,Mc(xc(i()),function(){n.Tc=!0,Xf(n)},function(t){sv(n,t)})}function fv(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function vv(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function dv(t){return new wv(t)}function lv(t,n){t.Ka.Ic.push(n)}function _v(t){return t.Ka.Ic.length}function gv(t){var n=t.Ka;return void 0!==n&&!!mv(n)}l.defineProperties(zf.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(zf.prototype,Tc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var wv=function(){function t(t){if(cf(t,1,"ReadableStreamBYOBReader"),_f(t,"First parameter"),Yd(t))throw new d("This stream has already been locked for exclusive reading by another reader");if(!Vf(t.hc))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Gc(this,t),this.Ic=new qc}return l.defineProperty(t.prototype,"closed",{get:function(){return mv(this)?this.Uo:Bc(pv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),mv(this)?void 0===this.$a?Bc(jc("cancel")):Qc(this,t):Bc(pv("cancel"))},t.prototype.read=function(t){if(!mv(this))return Bc(pv("read"));if(!ArrayBuffer.isView(t))return Bc(new d("view must be an array buffer view"));if(0===t.byteLength)return Bc(new d("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return Bc(new d("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.$a)return Bc(jc("read from"));var n,i,e=Pc(function(t,e){n=t,i=e});return yv(this,t,{sc:function(t){return n({value:t,done:!1})},rc:function(t){return n({value:t,done:!0})},uc:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!mv(this))throw pv("releaseLock");if(void 0!==this.$a){if(this.Ic.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Yc(this)}},t}();function mv(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Ic")&&t instanceof wv)}function yv(t,n,i){var e=t.$a;e.oc=!0,"errored"===e.Ii?i.uc(e.tc):function(t,n,i){var e=t.pc,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=xf(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Ac.length>0)return t.Ac.push(o),void lv(e,i);if("closed"!==e.Ii){if(t.gc>0){if(jf(t,o)){var h=Qf(o);return Jf(t),void i.sc(h)}if(t.yc){var a=new d("Insufficient bytes to fill elements in the given buffer");return sv(t,a),void i.uc(a)}}t.Ac.push(o),lv(e,i),Xf(t)}else{var c=new s(o.buffer,o.byteOffset,0);i.rc(c)}}(e.hc,n,i)}function pv(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function kv(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(Cf(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function bv(t){var n=t.size;return n||function(){return 1}}function Av(t,n){of(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:vf(i),size:void 0===e?void 0:Tv(e,n+" has member 'size' that")}}function Tv(t,n){return hf(t,n),function(n){return vf(t(n))}}function Sv(t,n,i){return hf(t,i),function(i){return Xc(t,n,[i])}}function Ev(t,n,i){return hf(t,i),function(){return Xc(t,n,[])}}function Rv(t,n,i){return hf(t,i),function(i){return Wc(t,n,[i])}}function Iv(t,n,i){return hf(t,i),function(i,e){return Xc(t,n,[i,e])}}function Nv(t,n){if(!xv(t))throw new d(n+" is not a WritableStream.")}l.defineProperties(wv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(wv.prototype,Tc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Dv="function"==typeof AbortController;var Cv=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:af(t,"First parameter");var i=Av(n,"Second parameter"),e=function(t,n){of(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:Sv(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Ev(e,t,n+" has member 'close' that"),start:void 0===r?void 0:Rv(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Iv(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(Pv(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=bv(i);!function(t,n,i,e){var r=l.create($v.prototype),s=function(){},u=function(){return xc(void 0)},o=function(){return xc(void 0)},h=function(){return xc(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(h=function(t){return n.abort(t)});td(t,r,s,u,o,h,i,e)}(this,e,kv(i,1),r)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!xv(this))throw od("locked");return Bv(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),xv(this)?Bv(this)?Bc(new d("Cannot abort a stream that already has a writer")):Lv(this,t):Bc(od("abort"))},t.prototype.close=function(){return xv(this)?Bv(this)?Bc(new d("Cannot close a stream that already has a writer")):zv(this)?Bc(new d("Cannot close an already-closing stream")):Mv(this):Bc(od("close"))},t.prototype.getWriter=function(){if(!xv(this))throw od("getWriter");return Ov(this)},t}();function Ov(t){return new Xv(t)}function Pv(t){t.Ii="writable",t.tc=void 0,t.Xs=void 0,t.Cc=void 0,t.Oc=new qc,t.Pc=void 0,t.xc=void 0,t.Bc=void 0,t.Lc=void 0,t.Mc=!1}function xv(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Cc")&&t instanceof Cv)}function Bv(t){return void 0!==t.Xs}function Lv(t,n){var i;if("closed"===t.Ii||"errored"===t.Ii)return xc(void 0);t.Cc.Uc=n,null===(i=t.Cc.Fc)||void 0===i||i.abort();var e=t.Ii;if("closed"===e||"errored"===e)return xc(void 0);if(void 0!==t.Lc)return t.Lc.Hc;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=Pc(function(i,e){t.Lc={Hc:void 0,Es:i,Rs:e,zc:n,Vc:r}});return t.Lc.Hc=s,r||Fv(t,n),s}function Mv(t){var n=t.Ii;if("closed"===n||"errored"===n)return Bc(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=Pc(function(n,i){var e={Es:n,Rs:i};t.xc=e}),r=t.Xs;return void 0!==r&&t.Mc&&"writable"===n&&yd(r),Uf(i=t.Cc,Jv,0),ed(i),e}function Uv(t,n){"writable"!==t.Ii?Hv(t):Fv(t,n)}function Fv(t,n){var i=t.Cc;t.Ii="erroring",t.tc=n;var e=t.Xs;void 0!==e&&Yv(e,n),!function(t){if(void 0===t.Pc&&void 0===t.Bc)return!1;return!0}(t)&&i.Tc&&Hv(t)}function Hv(t){t.Ii="errored",t.Cc[nf]();var n=t.tc;if(t.Oc.forEach(function(t){t.Rs(n)}),t.Oc=new qc,void 0!==t.Lc){var i=t.Lc;if(t.Lc=void 0,i.Vc)return i.Rs(n),void Vv(t);Mc(t.Cc[tf](i.zc),function(){i.Es(),Vv(t)},function(n){i.Rs(n),Vv(t)})}else Vv(t)}function zv(t){return void 0!==t.xc||void 0!==t.Bc}function Vv(t){void 0!==t.xc&&(t.xc.Rs(t.tc),t.xc=void 0);var n=t.Xs;void 0!==n&&dd(n,t.tc)}function Wv(t,n){var i=t.Xs;void 0!==i&&n!==t.Mc&&(n?function(t){_d(t)}(i):yd(i)),t.Mc=n}l.defineProperties(Cv.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(Cv.prototype,Tc.toStringTag,{value:"WritableStream",configurable:!0});var Xv=function(){function t(t){if(cf(t,1,"WritableStreamDefaultWriter"),Nv(t,"First parameter"),Bv(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.Wc=t,t.Xs=this;var n,i=t.Ii;if("writable"===i)!zv(t)&&t.Mc?_d(this):wd(this),fd(this);else if("erroring"===i)gd(this,t.tc),fd(this);else if("closed"===i)wd(this),fd(n=this),ld(n);else{var e=t.tc;gd(this,e),vd(this,e)}}return l.defineProperty(t.prototype,"closed",{get:function(){return qv(this)?this.Uo:Bc(ad("closed"))},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!qv(this))throw ad("desiredSize");if(void 0===this.Wc)throw cd("desiredSize");return function(t){var n=t.Wc,i=n.Ii;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return id(n.Cc)}(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return qv(this)?this.Xc:Bc(ad("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),qv(this)?void 0===this.Wc?Bc(cd("abort")):function(t,n){return Lv(t.Wc,n)}(this,t):Bc(ad("abort"))},t.prototype.close=function(){if(!qv(this))return Bc(ad("close"));var t=this.Wc;return void 0===t?Bc(cd("close")):zv(t)?Bc(new d("Cannot close an already-closing stream")):Gv(this)},t.prototype.releaseLock=function(){if(!qv(this))throw ad("releaseLock");void 0!==this.Wc&&jv(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),qv(this)?void 0===this.Wc?Bc(cd("write to")):Zv(this,t):Bc(ad("write"))},t}();function qv(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Wc")&&t instanceof Xv)}function Gv(t){return Mv(t.Wc)}function Qv(t,n){"pending"===t.qc?dd(t,n):function(t,n){vd(t,n)}(t,n)}function Yv(t,n){"pending"===t.Gc?md(t,n):function(t,n){gd(t,n)}(t,n)}function jv(t){var n=t.Wc,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Yv(t,i),Qv(t,i),n.Xs=void 0,t.Wc=void 0}function Zv(t,n){var i=t.Wc,e=i.Cc,r=function(t,n){try{return t.Qc(n)}catch(n){return rd(t,n),1}}(e,n);if(i!==t.Wc)return Bc(cd("write to"));var s=i.Ii;if("errored"===s)return Bc(i.tc);if(zv(i)||"closed"===s)return Bc(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return Bc(i.tc);var u=function(t){return Pc(function(n,i){var e={Es:n,Rs:i};t.Oc.push(e)})}(i);return function(t,n,i){try{Uf(t,n,i)}catch(n){return void rd(t,n)}var e=t.Yc;if(!zv(e)&&"writable"===e.Ii){var r=sd(t);Wv(e,r)}ed(t)}(e,n,r),u}l.defineProperties(Xv.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(Xv.prototype,Tc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Jv={},$v=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"abortReason",{get:function(){if(!Kv(this))throw hd("abortReason");return this.Uc},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"signal",{get:function(){if(!Kv(this))throw hd("signal");if(void 0===this.Fc)throw new d("WritableStreamDefaultController.prototype.signal is not supported");return this.Fc.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Kv(this))throw hd("error");"writable"===this.Yc.Ii&&ud(this,t)},t.prototype[tf]=function(t){var n=this.jc(t);return nd(this),n},t.prototype[nf]=function(){Ff(this)},t}();function Kv(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"Yc")&&t instanceof $v)}function td(t,n,i,e,r,s,u,o){n.Yc=t,t.Cc=n,n._c=void 0,n.gc=void 0,Ff(n),n.Uc=void 0,n.Fc=function(){if(Dv)return new AbortController}(),n.Tc=!1,n.Qc=o,n.Dc=u,n.Zc=e,n.Jc=r,n.jc=s;var h=sd(n);Wv(t,h),Mc(xc(i()),function(){n.Tc=!0,ed(n)},function(i){n.Tc=!0,Uv(t,i)})}function nd(t){t.Zc=void 0,t.Jc=void 0,t.jc=void 0,t.Qc=void 0}function id(t){return t.Dc-t.gc}function ed(t){var n=t.Yc;if(t.Tc&&void 0===n.Pc)if("erroring"!==n.Ii){if(0!==t._c.length){var i=t._c.peek().value;i===Jv?function(t){var n=t.Yc;(function(t){t.Bc=t.xc,t.xc=void 0})(n),Mf(t);var i=t.Jc();nd(t),Mc(i,function(){!function(t){t.Bc.Es(void 0),t.Bc=void 0,"erroring"===t.Ii&&(t.tc=void 0,void 0!==t.Lc&&(t.Lc.Es(),t.Lc=void 0)),t.Ii="closed";var n=t.Xs;void 0!==n&&ld(n)}(n)},function(t){!function(t,n){t.Bc.Rs(n),t.Bc=void 0,void 0!==t.Lc&&(t.Lc.Rs(n),t.Lc=void 0),Uv(t,n)}(n,t)})}(t):function(t,n){var i=t.Yc;(function(t){t.Pc=t.Oc.shift()})(i),Mc(t.Zc(n),function(){!function(t){t.Pc.Es(void 0),t.Pc=void 0}(i);var n=i.Ii;if(Mf(t),!zv(i)&&"writable"===n){var e=sd(t);Wv(i,e)}ed(t)},function(n){"writable"===i.Ii&&nd(t),function(t,n){t.Pc.Rs(n),t.Pc=void 0,Uv(t,n)}(i,n)})}(t,i)}}else Hv(n)}function rd(t,n){"writable"===t.Yc.Ii&&ud(t,n)}function sd(t){return id(t)<=0}function ud(t,n){var i=t.Yc;nd(t),Fv(i,n)}function od(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function hd(t){return new d("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function ad(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function cd(t){return new d("Cannot "+t+" a stream using a released writer")}function fd(t){t.Uo=Pc(function(n,i){t.nc=n,t.ic=i,t.qc="pending"})}function vd(t,n){fd(t),dd(t,n)}function dd(t,n){void 0!==t.ic&&(zc(t.Uo),t.ic(n),t.nc=void 0,t.ic=void 0,t.qc="rejected")}function ld(t){void 0!==t.nc&&(t.nc(void 0),t.nc=void 0,t.ic=void 0,t.qc="resolved")}function _d(t){t.Xc=Pc(function(n,i){t.$c=n,t.Kc=i}),t.Gc="pending"}function gd(t,n){_d(t),md(t,n)}function wd(t){_d(t),yd(t)}function md(t,n){void 0!==t.Kc&&(zc(t.Xc),t.Kc(n),t.$c=void 0,t.Kc=void 0,t.Gc="rejected")}function yd(t){void 0!==t.$c&&(t.$c(void 0),t.$c=void 0,t.Kc=void 0,t.Gc="fulfilled")}l.defineProperties($v.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty($v.prototype,Tc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var pd="undefined"!=typeof DOMException?DOMException:void 0;var kd,bd=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(pd)?pd:((kd=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(kd.prototype,"constructor",{value:kd,writable:!0,configurable:!0}),kd);function Ad(t,n,i,e,r,s){var u=gf(t),o=Ov(n);t.oc=!0;var h=!1,a=xc(void 0);return Pc(function(c,f){var v,l,_,g;if(void 0!==s){if(v=function(){var i=new bd("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.Ii?Lv(n,i):xc(void 0)}),r||s.push(function(){return"readable"===t.Ii?jd(t,i):xc(void 0)}),p(function(){return we.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Uo,function(t){e?k(!0,t):p(function(){return Lv(n,t)},!0,t)}),y(n,o.Uo,function(n){r?k(!0,n):p(function(){return jd(t,n)},!0,n)}),l=t,_=u.Uo,g=function(){i?k():p(function(){return function(t){var n=t.Wc,i=n.Ii;return zv(n)||"closed"===i?xc(void 0):"errored"===i?Bc(n.tc):Gv(t)}(o)})},"closed"===l.Ii?g():Uc(_,g),zv(n)||"closed"===n.Ii){var w=new d("the destination writable stream closed before all data could be piped to it");r?k(!0,w):p(function(){return jd(t,w)},!0,w)}function m(){var t=a;return Lc(a,function(){return t!==a?m():void 0})}function y(t,n,i){"errored"===t.Ii?i(t.tc):Fc(n,i)}function p(t,i,e){function r(){Mc(t(),function(){return b(i,e)},function(t){return b(!0,t)})}h||(h=!0,"writable"!==n.Ii||zv(n)?r():Uc(m(),r))}function k(t,i){h||(h=!0,"writable"!==n.Ii||zv(n)?b(t,i):Uc(m(),function(){return b(t,i)}))}function b(t,n){jv(o),Yc(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}zc(Pc(function(t,n){!function i(e){e?t():Lc(h?xc(!0):Lc(o.Xc,function(){return Pc(function(t,n){Sf(u,{sc:function(n){a=Lc(Zv(o,n),void 0,Sc),t(!1)},rc:function(){return t(!0)},uc:n})})}),i,n)}(!1)}))})}var Td=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Sd(this))throw Bd("desiredSize");return Od(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Sd(this))throw Bd("close");if(!Pd(this))throw new d("The stream is not in a state that permits close");Nd(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Sd(this))throw Bd("enqueue");if(!Pd(this))throw new d("The stream is not in a state that permits enqueue");return Dd(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Sd(this))throw Bd("error");Cd(this,t)},t.prototype[ef]=function(t){Ff(this);var n=this.kc(t);return Id(this),n},t.prototype[rf]=function(t){var n=this.tf;if(this._c.length>0){var i=Mf(this);this.yc&&0===this._c.length?(Id(this),Zd(n)):Ed(this),t.sc(i)}else wf(n,t),Ed(this)},t}();function Sd(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"tf")&&t instanceof Td)}function Ed(t){Rd(t)&&(t.Sc?t.Ec=!0:(t.Sc=!0,Mc(t.Rc(),function(){t.Sc=!1,t.Ec&&(t.Ec=!1,Ed(t))},function(n){Cd(t,n)})))}function Rd(t){var n=t.tf;return!!Pd(t)&&(!!t.Tc&&(!!(Yd(n)&&yf(n)>0)||Od(t)>0))}function Id(t){t.Rc=void 0,t.kc=void 0,t.Qc=void 0}function Nd(t){if(Pd(t)){var n=t.tf;t.yc=!0,0===t._c.length&&(Id(t),Zd(n))}}function Dd(t,n){if(Pd(t)){var i=t.tf;if(Yd(i)&&yf(i)>0)mf(i,n,!1);else{var e=void 0;try{e=t.Qc(n)}catch(n){throw Cd(t,n),n}try{Uf(t,n,e)}catch(n){throw Cd(t,n),n}}Ed(t)}}function Cd(t,n){var i=t.tf;"readable"===i.Ii&&(Ff(t),Id(t),Jd(i,n))}function Od(t){var n=t.tf.Ii;return"errored"===n?null:"closed"===n?0:t.Dc-t.gc}function Pd(t){var n=t.tf.Ii;return!t.yc&&"readable"===n}function xd(t,n,i,e,r,s,u){n.tf=t,n._c=void 0,n.gc=void 0,Ff(n),n.Tc=!1,n.yc=!1,n.Ec=!1,n.Sc=!1,n.Qc=u,n.Dc=s,n.Rc=e,n.kc=r,t.hc=n,Mc(xc(i()),function(){n.Tc=!0,Ed(n)},function(t){Cd(n,t)})}function Bd(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function Ld(t,n){return Vf(t.hc)?function(t){var n,i,e,r,s,u=gf(t),o=!1,h=!1,a=!1,c=!1,f=!1,v=Pc(function(t){s=t});function d(t){Fc(t.Uo,function(n){t===u&&(sv(e.hc,n),sv(r.hc,n),c&&f||s(void 0))})}function l(){mv(u)&&(Yc(u),d(u=gf(t)));var n={sc:function(n){Vc(function(){h=!1,a=!1;var i=n,u=n;if(!c&&!f)try{u=Lf(n)}catch(n){return sv(e.hc,n),sv(r.hc,n),void s(jd(t,n))}c||rv(e.hc,i),f||rv(r.hc,u),o=!1,h?g():a&&w()})},rc:function(){o=!1,c||ev(e.hc),f||ev(r.hc),e.hc.Ac.length>0&&hv(e.hc,0),r.hc.Ac.length>0&&hv(r.hc,0),c&&f||s(void 0)},uc:function(){o=!1}};Sf(u,n)}function _(n,i){Tf(u)&&(Yc(u),d(u=dv(t)));var v=i?r:e,l=i?e:r,_={sc:function(n){Vc(function(){h=!1,a=!1;var e=i?f:c,r=i?c:f;if(r)e||av(v.hc,n);else{var u=void 0;try{u=Lf(n)}catch(n){return sv(v.hc,n),sv(l.hc,n),void s(jd(t,n))}e||av(v.hc,n),rv(l.hc,u)}o=!1,h?g():a&&w()})},rc:function(t){o=!1;var n=i?f:c,e=i?c:f;n||ev(v.hc),e||ev(l.hc),void 0!==t&&(n||av(v.hc,t),!e&&l.hc.Ac.length>0&&hv(l.hc,0)),n&&e||s(void 0)},uc:function(){o=!1}};yv(u,n,_)}function g(){if(o)return h=!0,xc(void 0);o=!0;var t=uv(e.hc);return null===t?l():_(t.wc,!1),xc(void 0)}function w(){if(o)return a=!0,xc(void 0);o=!0;var t=uv(r.hc);return null===t?l():_(t.wc,!0),xc(void 0)}function m(){}return e=qd(m,g,function(e){if(c=!0,n=e,f){var r=Of([n,i]),u=jd(t,r);s(u)}return v}),r=qd(m,w,function(e){if(f=!0,i=e,c){var r=Of([n,i]),u=jd(t,r);s(u)}return v}),d(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=gf(t),h=!1,a=!1,c=!1,f=!1,v=Pc(function(t){u=t});function d(){if(h)return a=!0,xc(void 0);h=!0;var t={sc:function(t){Vc(function(){a=!1;var n=t,i=t;c||Dd(r.hc,n),f||Dd(s.hc,i),h=!1,a&&d()})},rc:function(){h=!1,c||Nd(r.hc),f||Nd(s.hc),c&&f||u(void 0)},uc:function(){h=!1}};return Sf(o,t),xc(void 0)}function l(){}return r=Xd(l,d,function(n){if(c=!0,i=n,f){var r=Of([i,e]),s=jd(t,r);u(s)}return v}),s=Xd(l,d,function(n){if(f=!0,e=n,c){var r=Of([i,e]),s=jd(t,r);u(s)}return v}),Fc(o.Uo,function(t){Cd(r.hc,t),Cd(s.hc,t),c&&f||u(void 0)}),[r,s]}(t)}function Md(t,n,i){return hf(t,i),function(i){return Xc(t,n,[i])}}function Ud(t,n,i){return hf(t,i),function(i){return Xc(t,n,[i])}}function Fd(t,n,i){return hf(t,i),function(i){return Wc(t,n,[i])}}function Hd(t,n){if("bytes"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function zd(t,n){if("byob"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function Vd(t,n){of(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new d(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}l.defineProperties(Td.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(Td.prototype,Tc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Wd=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:af(t,"First parameter");var i=Av(n,"Second parameter"),e=function(t,n){of(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:lf(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:Md(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:Ud(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:Fd(u,i,n+" has member 'start' that"),type:void 0===o?void 0:Hd(o,n+" has member 'type' that")}}(t,"First parameter");if(Gd(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=l.create(zf.prototype),r=function(){},s=function(){return xc(void 0)},u=function(){return xc(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new d("autoAllocateChunkSize must be greater than 0");cv(t,e,r,s,u,i,o)}(this,e,kv(i,0))}else{var r=bv(i);!function(t,n,i,e){var r=l.create(Td.prototype),s=function(){},u=function(){return xc(void 0)},o=function(){return xc(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),xd(t,r,s,u,o,i,e)}(this,e,kv(i,1),r)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!Qd(this))throw $d("locked");return Yd(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Qd(this)?Yd(this)?Bc(new d("Cannot cancel a stream that already has a reader")):jd(this,t):Bc($d("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!Qd(this))throw $d("getReader");return void 0===function(t,n){of(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:zd(i,n+" has member 'mode' that")}}(t,"First parameter").mode?gf(this):dv(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!Qd(this))throw $d("pipeThrough");cf(t,1,"pipeThrough");var i=function(t,n){of(t,n);var i=null==t?void 0:t.readable;ff(i,"readable","ReadableWritablePair"),_f(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return ff(e,"writable","ReadableWritablePair"),Nv(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=Vd(n,"Second parameter");if(Yd(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Bv(i.writable))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return zc(Ad(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!Qd(this))return Bc($d("pipeTo"));if(void 0===t)return Bc("Parameter 1 is required in 'pipeTo'.");if(!xv(t))return Bc(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=Vd(n,"Second parameter")}catch(t){return Bc(t)}return Yd(this)?Bc(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Bv(t)?Bc(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ad(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!Qd(this))throw $d("tee");return Of(Ld(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!Qd(this))throw $d("values");var n,i,e,r,s,u=function(t,n){of(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=gf(n),r=new Rf(e,i),(s=l.create(If)).lc=r,s},t}();function Xd(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=l.create(Wd.prototype);return Gd(s),xd(s,l.create(Td.prototype),t,n,i,e,r),s}function qd(t,n,i){var e=l.create(Wd.prototype);return Gd(e),cv(e,l.create(zf.prototype),t,n,i,0,void 0),e}function Gd(t){t.Ii="readable",t.Ka=void 0,t.tc=void 0,t.oc=!1}function Qd(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"hc")&&t instanceof Wd)}function Yd(t){return void 0!==t.Ka}function jd(t,n){if(t.oc=!0,"closed"===t.Ii)return xc(void 0);if("errored"===t.Ii)return Bc(t.tc);Zd(t);var i=t.Ka;return void 0!==i&&mv(i)&&(i.Ic.forEach(function(t){t.rc(void 0)}),i.Ic=new qc),Hc(t.hc[ef](n),Sc)}function Zd(t){t.Ii="closed";var n=t.Ka;void 0!==n&&(Kc(n),Tf(n)&&(n.ec.forEach(function(t){t.rc()}),n.ec=new qc))}function Jd(t,n){t.Ii="errored",t.tc=n;var i=t.Ka;void 0!==i&&($c(i,n),Tf(i)?(i.ec.forEach(function(t){t.uc(n)}),i.ec=new qc):(i.Ic.forEach(function(t){t.uc(n)}),i.Ic=new qc))}function $d(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Kd(t,n){of(t,n);var i=null==t?void 0:t.highWaterMark;return ff(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:vf(i)}}l.defineProperties(Wd.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(Wd.prototype,Tc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Tc.asyncIterator&&l.defineProperty(Wd.prototype,Tc.asyncIterator,{value:Wd.prototype.values,writable:!0,configurable:!0});var tl=function(t){return t.byteLength};try{l.defineProperty(tl,"name",{value:"size",configurable:!0})}catch(ge){}var nl=function(){function t(t){cf(t,1,"ByteLengthQueuingStrategy"),t=Kd(t,"First parameter"),this.nf=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!el(this))throw il("highWaterMark");return this.nf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!el(this))throw il("size");return tl},enumerable:!1,configurable:!0}),t}();function il(t){return new d("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function el(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"nf")&&t instanceof nl)}l.defineProperties(nl.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(nl.prototype,Tc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var rl=function(){return 1};try{l.defineProperty(rl,"name",{value:"size",configurable:!0})}catch(ge){}var sl=function(){function t(t){cf(t,1,"CountQueuingStrategy"),t=Kd(t,"First parameter"),this.if=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!ol(this))throw ul("highWaterMark");return this.if},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!ol(this))throw ul("size");return rl},enumerable:!1,configurable:!0}),t}();function ul(t){return new d("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function ol(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"if")&&t instanceof sl)}function hl(t,n,i){return hf(t,i),function(i){return Xc(t,n,[i])}}function al(t,n,i){return hf(t,i),function(i){return Wc(t,n,[i])}}function cl(t,n,i){return hf(t,i),function(i,e){return Xc(t,n,[i,e])}}l.defineProperties(sl.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(sl.prototype,Tc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var fl=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Av(n,"Second parameter"),r=Av(i,"Third parameter"),s=function(t,n){of(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:hl(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:al(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:cl(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=kv(r,0),h=bv(r),a=kv(e,1),c=bv(e);!function(t,n,i,e,r,s){function u(){return n}t.ef=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=l.create(Cv.prototype);return Pv(u),td(u,l.create($v.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.rf;if(t.Mc){var e=t.sf;return Hc(e,function(){var e=t.ef,r=e.Ii;if("erroring"===r)throw e.tc;return pl(i,n)})}return pl(i,n)}(t,n)},function(){return function(t){var n=t.uf,i=t.rf,e=i.hf();return ml(i),Hc(e,function(){if("errored"===n.Ii)throw n.tc;Nd(n.hc)},function(i){throw dl(t,i),n.tc})}(t)},function(n){return function(t,n){return dl(t,n),xc(void 0)}(t,n)},i,e),t.uf=Xd(u,function(){return function(t){return _l(t,!1),t.sf}(t)},function(n){return ll(t,n),xc(void 0)},r,s),t.Mc=void 0,t.sf=void 0,t.af=void 0,_l(t,!0),t.rf=void 0}(this,Pc(function(t){u=t}),a,c,o,h),function(t,n){var i=l.create(gl.prototype),e=function(t){try{return yl(i,t),xc(void 0)}catch(t){return Bc(t)}},r=function(){return xc(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.cf=t,t.rf=n,n.ff=i,n.hf=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.rf)):u(void 0)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!vl(this))throw bl("readable");return this.uf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!vl(this))throw bl("writable");return this.ef},enumerable:!1,configurable:!0}),t}();function vl(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"rf")&&t instanceof fl)}function dl(t,n){Cd(t.uf.hc,n),ll(t,n)}function ll(t,n){ml(t.rf),rd(t.ef.Cc,n),t.Mc&&_l(t,!1)}function _l(t,n){void 0!==t.sf&&t.af(),t.sf=Pc(function(n){t.af=n}),t.Mc=n}l.defineProperties(fl.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(fl.prototype,Tc.toStringTag,{value:"TransformStream",configurable:!0});var gl=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!wl(this))throw kl("desiredSize");return Od(this.cf.uf.hc)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!wl(this))throw kl("enqueue");yl(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!wl(this))throw kl("error");var n;n=t,dl(this.cf,n)},t.prototype.terminate=function(){if(!wl(this))throw kl("terminate");!function(t){var n=t.cf;Nd(n.uf.hc);var i=new d("TransformStream terminated");ll(n,i)}(this)},t}();function wl(t){return!!Rc(t)&&(!!l.prototype.hasOwnProperty.call(t,"cf")&&t instanceof gl)}function ml(t){t.ff=void 0,t.hf=void 0}function yl(t,n){var i=t.cf,e=i.uf.hc;if(!Pd(e))throw new d("Readable side is not in a state that permits enqueue");try{Dd(e,n)}catch(t){throw ll(i,t),i.uf.tc}(function(t){return!Rd(t)})(e)!==i.Mc&&_l(i,!0)}function pl(t,n){return Hc(t.ff(n),void 0,function(n){throw dl(t.cf,n),n})}function kl(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function bl(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}l.defineProperties(gl.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Tc.toStringTag&&l.defineProperty(gl.prototype,Tc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Al,Tl=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Et);function Sl(t){return n=[t],new Wd({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function El(t){return Sl(new y(t))}function Rl(t,n){return function(t,n){var i=n,e=t.getReader(),r=new no,s=function(){u();var t=new _s;e.cancel(t).catch(j),r.Ns(t)},u=function(){i&&(i.Rr(s),i=void 0)};i&&(i.yr?s():i.Er(s));var o=[];return we.resolve(e.read()).then(function t(n){return n.done?(u(),we.resolve(o)):(o.push(n.value),we.resolve(e.read()).then(t))}).then(function(t){u(),r.Is(t)},function(t){u(),r.Ns(t)}),r.Ss}(t,n).then(function(t){return tu(t).buffer})}function Il(t,n){var i=n,e=new fl,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Cr()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(j)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(j)}),r}function Nl(t){return Wu(new y(t))}function Dl(t){return Xu(t).buffer}!function(t){t[t.Wa=0]="Wa",t[t.vf=1]="vf"}(Al||(Al={}));var Cl="content-type",Ol="text/plain;charset=UTF-8",Pl=function(){function t(){}var n=t.prototype;return n.df=function(t){return this.lf(t).then(JSON.parse)},n._f=function(t,n){switch(t){case pc.za:return this.gf(n);case pc.Va:return this.df(n);case pc.Wa:return this.wf();case pc.Pn:return this.lf(n);default:throw new d}},t}();function xl(t,n,i){if(t instanceof Pl)return t;if(t instanceof Wd)return function(t,n){return new Ll({nr:Al.Wa,wf:t,mf:Bl(n)})}(t,i);var e=Bl(i),r=we.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{nr:pc.Pn,yf:t,mf:n||Ol};if(t instanceof ArrayBuffer||$s(t))return{nr:pc.za,yf:Wl(t),mf:n};if(W(t)||H(t))return{nr:pc.Va,yf:t,mf:n};throw new d("Unsupported BodyInit type")}return{nr:pc.Pn,yf:null,mf:n}}(t,e)});return new Ll({nr:Al.vf,Ss:r,pf:n})}function Bl(t){return(t.get(Cl)||"").toLowerCase()}var Ll=function(t){function n(n){var i;return(i=t.call(this)||this).kf=!1,i.bf=void 0,i.Af=new no,i.Af.Ss.catch(j),i.Tf(n),i}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Af.Ss},i.lf=function(t){return this.Ef(Ml,t)},i.df=function(t){return this.Ef(Fl,t)},i.gf=function(t){return this.Ef(zl,t)},i.wf=function(){return this.Rf((t=this.bf).nr===Al.Wa?t.wf:Il(t.Ss.then(Vl).then(El),t.pf));var t},i.Ef=function(t,n){if(this.kf)return we.reject(new d("Already used"));this.kf=!0;var i=t(this.bf,n);return this.Af.Is(i.then(j)),i},i.Rf=function(t){if(this.kf)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.kf=!0;var n=new fl,i=we.resolve(t.pipeTo(n.writable));return this.Af.Is(i),n.readable},i.Tf=function(t){this.bf=t,t.nr===Al.vf&&t.Ss.catch(j)},i.If=function(){if(this.kf)throw new d("Already used");var t=function(t){if(t.nr===Al.Wa){var n=t.wf.tee(),i=n[0],e=n[1];return[{nr:t.nr,wf:i,mf:t.mf},{nr:t.nr,wf:e,mf:t.mf}]}var r=t.pf.Pr(),s=r[0],u=r[1];return[{nr:t.nr,Ss:t.Ss,pf:s},{nr:t.nr,Ss:t.Ss,pf:u}]}(this.bf),i=t[0],e=t[1];return this.Tf(i),new n(e)},A(n,[{key:"Nf",get:function(){return this.kf}}]),n}(Pl);function Ml(t,n){return t.nr===Al.Wa?Rl(t.wf,n).then(Nl):(n&&t.pf.Or(n),ks(t.Ss.then(Ul),t.pf))}function Ul(t){switch(t.nr){case pc.Pn:return we.resolve(t.yf||"");case pc.za:return we.resolve(t.yf).then(Nl);case pc.Va:return we.resolve(t.yf).then(JSON.stringify)}}function Fl(t,n){return t.nr===Al.Wa?Ml(t,n).then(JSON.parse):(n&&t.pf.Or(n),ks(t.Ss.then(Hl),t.pf))}function Hl(t){return t.nr===pc.Va?we.resolve(t.yf):Ul(t).then(JSON.parse)}function zl(t,n){return t.nr===Al.Wa?Rl(t.wf,n):(n&&t.pf.Or(n),ks(t.Ss.then(Vl),t.pf))}function Vl(t){switch(t.nr){case pc.za:return we.resolve(t.yf);case pc.Pn:case pc.Va:return Ul(t).then(Dl)}}function Wl(t){return t instanceof ArrayBuffer?t:$u(Yu(t)).buffer}function Xl(t){return t.Df>=200&&t.Df<=299||304===t.Df}var ql,Gl,Ql,Yl,jl=function(t){function n(n,i){var e,r,s,u,o,h;i?(r=i.Cf,s=i.Of,u=i.Df,o=i.Pf,h=i.xf):(r=[],s=pc.Pn,u=200,o="OK",h=!1);var a=n.Bf,c=new kc(n.Cf||r),f=n.Of||s,v=n.Lf||(i&&i.Bf===a?i.Lf:a.Mf),d=i?i.Uf:null,l=xl(void 0!==n.ai?n.ai:d,n.pf||new ls,c);return(e=t.call(this,l)||this).Cf=void 0,e.Bf=void 0,e.Lf=void 0,e.Of=void 0,e.Df=void 0,e.Pf=void 0,e.xf=void 0,e.Cf=c,e.Bf=a,e.Lf=v,e.Of=f,e.Df=void 0!==n.Df?n.Df:u,e.Pf=void 0!==n.Pf?String(n.Pf):o,e.xf=n.xf||h,e}S(n,t);var i=n.prototype;return i.ai=function(t){return this._f(this.Of,t)},i.ps=function(){return new n({ai:this.If(),Bf:this.Bf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Uf=void 0,i.Uf=n,i}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Uf.Sf()},i.lf=function(t){return this.Uf.lf(t)},i.df=function(t){return this.Uf.df(t)},i.gf=function(t){return this.Uf.gf(t)},i.wf=function(){return this.Uf.wf()},i.If=function(){return this.Uf.If()},A(n,[{key:"Nf",get:function(){return this.Uf.Nf}}]),n}(Pl));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(ql||(ql={})),function(t){t.Ff="",t.Hf="manifest",t.zf="segment",t.Vf="content-protection"}(Gl||(Gl={})),function(t){t.Ff="",t.Wf="initialization-segment",t.Xf="fairplay-license",t.qf="fairplay-certificate",t.Gf="widevine-license",t.Qf="widevine-certificate",t.Yf="playready-license",t.jf="clearkey-license",t.Zf="aes128-key"}(Ql||(Ql={})),function(t){t.Ff="",t.Jf="audio",t.$f="video",t.Pn="text",t.Kf="image"}(Yl||(Yl={}));var Zl=function(t,n){this.yf=void 0,this.Cf=void 0,this.tv=void 0,this.Of=void 0,this.nv=void 0,this.xr=void 0,this.nr=void 0,this.ev=void 0,this.rv=void 0,this.Mf=void 0,this.sv=void 0,this.uv=void 0;var i,e,r,s,u,o,h,a,c,f,v,d=t.Mf;n?(i=n.yf,e=n.Cf,r=n.tv,s=n.Of,u=n.nv,o=n.xr,h=n.nr,a=n.ev,c=n.rv,f=n.sv,v=n.uv):(i=null,e={},r=ql.GET,s=pc.Pn,u=0,h=Gl.Ff,a=Ql.Ff,c=Yl.Ff,f=!1),this.Mf=d,this.yf=t.yf||i,this.Cf=new kc(t.Cf||e),this.tv=t.tv||r,this.Of=t.Of||s,this.nv=void 0!==t.nv?Number(t.nv)||0:u,this.xr=t.xr||o||(new ls).xr,this.nr=t.nr||h,this.ev=t.ev||a,this.rv=t.rv||c,this.sv=void 0!==t.sv?Boolean(t.sv):f,this.uv=t.uv||v},Jl=function(){function t(){}var n=t.prototype;return n.Bf=function(t){var n=function(t){return new jl({ai:null,Cf:{},Bf:t,Lf:t.Mf,Of:t.Of,Df:0,Pf:yc.pa})}(new Zl(t));return we.resolve(n)},n.ov=function(t){},n.hv=function(){},t}();var $l=function(){function t(t,n){void 0===n&&(n=!0),this.av=void 0,this.cv=void 0,this.av=t,this.cv=n}var n=t.prototype;return n.Bf=function(t){var n=this.fv(t);return this.av.Bf(n)},n.ov=function(t){return this.av.ov(this.vv(t))},n.fv=function(n){var i=new Zl(n);if(!this.cv){var e=t.dv(i.Mf);i=new Zl({Mf:e},i)}return i},n.vv=function(n){var i=n.Mf;return this.cv||(i=t.dv(i)),{Mf:i,yf:n.yf}},t.dv=function(t){return i.Ue&&Lr(t,"http://")?t.replace(":","s:"):t},n.hv=function(){this.av.hv()},A(t,null,[{key:"lv",get:function(){return t._v||(t._v=new t(new Jl)),t._v}}]),t}();function Kl(t,n){for(var i=0,e=l.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function t_(t,n){var e=i.Oe(t);return n&&!Mr(e,"/")&&(e+="/"),e}$l._v=void 0;var n_,i_=/cache:(.+)?(?=&|$)/,e_="http://webcache.googleusercontent.com/search?q=cache:";function r_(t){if(!Lr(t,e_))return"";var n=i.Ce(t).search.match(i_);return n&&n.length>1?n[1]:""}!function(t){t.gv="HttpOpenError",t.wv="HttpResponseError",t.mv="HttpTimeoutError"}(n_||(n_={}));var s_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).yv=void 0,r.yv=n,r}return S(n,t),A(n,[{key:"Bf",get:function(){return this.yv}}]),n}(Et);var u_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Mf+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return n_.gv}}]),n}(s_);var o_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Bf,null!=e?e:function(t){return"Error while loading "+t.Bf.Mf+", status code "+t.Df}(n),i)||this).pv=void 0,r.pv=n,r}return S(n,t),A(n,[{key:"name",get:function(){return n_.wv}},{key:"kv",get:function(){return this.pv}}]),n}(s_);var h_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Mf+" timed out after "+t.nv+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return n_.mv}}]),n}(s_),a_=function(t,n){return(a_=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function c_(t,n){function i(){this.constructor=t}a_(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var f_="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var v_=function(){var t=f_.Blob;if(t)try{return new t,function(t,n){return new f_.Blob(t,n)}}catch(t){}var n,i=f_.BlobBuilder||f_.WebKitBlobBuilder||f_.MozBlobBuilder||f_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),d_="function"==typeof Wd?Wd:void 0;function l_(t){return t&&"function"==typeof t.getReader}function __(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&l_(i)}catch(t){return!1}}var g_=function(){function t(t,n){this.Ka=t,this.bv=n}return t.prototype.pull=function(t){var n=this;return this.Ka.read().then(function(i){n.bv&&n.bv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Ka.cancel(t)},t}();function w_(t,n){return n.constructor===t?n:new t(new g_(n.getReader()),{highWaterMark:0})}var m_=function(){function t(t,n){this.Av=t,this.Tv=n}return t.prototype.pull=function(t){return this.Av().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Tv&&this.Tv(t)},t}();function y_(t,n,i){return new t(new m_(n,i),{highWaterMark:0})}var p_={searchParams:"URLSearchParams"in f_,iterable:"Symbol"in f_&&"iterator"in Symbol,blob:"FileReader"in f_&&!!v_,formData:"FormData"in f_,arrayBuffer:"ArrayBuffer"in f_,stream:__(d_),streamRequest:"Request"in f_&&"body"in f_.Request.prototype,streamResponse:"Response"in f_&&"body"in f_.Response.prototype,abort:"AbortController"in f_&&"Request"in f_&&"signal"in f_.Request.prototype,encoding:"TextEncoder"in f_&&"TextDecoder"in f_,url:"URL"in f_&&function(t){try{return new f_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in f_&&/Firefox\//.test(f_.navigator.userAgent)};function k_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function b_(t){return"string"!=typeof t&&(t=String(t)),t}function A_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return p_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var T_=function(){function t(t){var n=this;this.je={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return p_.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=k_(t),n=b_(n);var i=t.toLowerCase();if(this.je.hasOwnProperty(i)){var e=this.je[i],r=e[1];e[1]=r?r+", "+n:n}else this.je[i]=[t,n]},t.prototype.delete=function(t){var n=k_(t).toLowerCase();delete this.je[n]},t.prototype.get=function(t){var n=k_(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},t.prototype.has=function(t){var n=k_(t).toLowerCase();return this.je.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=k_(t)).toLowerCase();this.je[i]=[t,b_(n)]},t.prototype.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),A_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),A_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),A_(t)},t.prototype.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function S_(){}p_.iterable&&(T_.prototype[Symbol.iterator]=T_.prototype.entries);var E_,R_,I_,N_=_.min,D_=String.fromCharCode,C_=16384;function O_(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=C_){var r=N_(e+C_,n);i.push(D_.apply(null,t.slice(e,r)))}return i.join("")}(n)}function P_(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function x_(t,n){return t>>n&63|128}function B_(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(P_(t),n.push(t>>12&15|224),n.push(x_(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(x_(t,12)),n.push(x_(t,6))),n.push(63&t|128)):n.push(t)}function L_(){if(I_>=R_)throw new v("Invalid byte index");var t=255&E_[I_];if(I_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function M_(){var t,n;if(I_>R_)throw new v("Invalid byte index");if(I_===R_)return!1;if(t=255&E_[I_],I_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|L_())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|L_()<<6|L_())>=2048)return P_(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|L_()<<12|L_()<<6|L_())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var U_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function F_(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function H_(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function z_(t){return t&&DataView.prototype.isPrototypeOf(t)}var V_,W_=ArrayBuffer.isView||function(t){return t&&(U_.indexOf(l.prototype.toString.call(t))>-1||z_(t))};function X_(t){if(t.bodyUsed)return we.reject(new d("Already used"));t.bodyUsed=!0}function q_(t){return new we(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function G_(t){return p_.encoding?new f_.TextDecoder("utf-8").decode(new y(t)):O_(function(t){R_=(E_=t).length,I_=0;for(var n,i=[];!1!==(n=M_());)i.push(n);return i}(new y(t)))}function Q_(t){return p_.encoding?(new f_.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)B_(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function Y_(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?we.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function j_(t){return Y_(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(h=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];r.set(h,s),s+=h.byteLength}return r}(t).buffer})}function Z_(t){return t.slice?t.slice(0):J_(new y(t))}function J_(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function $_(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function K_(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.Sv===V_.Ev){if(!n.Rv.tee)throw new v("could not clone ReadableStream body");var i=n.Rv.tee(),e=i[0],r=i[1];return n.body=e,n.Rv=e,n.Iv=e,r}return n.Sv===V_.za?Z_(n.Rv):n.Sv===V_.vf?n.Rv.then(K_):n.Iv}!function(t){t[t.Pn=0]="Pn",t[t.Nv=1]="Nv",t[t.Dv=2]="Dv",t[t.za=3]="za",t[t.Ev=4]="Ev",t[t.vf=5]="vf"}(V_||(V_={}));var tg=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Iv=n||null,n)if("string"==typeof n)this.Sv=V_.Pn,this.Rv=n;else if((s=n)&&"function"==typeof s.then)this.Sv=V_.vf,this.Rv=we.resolve(n).then(function(n){return new t(n,i)}),this.Rv.catch(S_);else if(p_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Sv=V_.Nv,this.Rv=n;else if(p_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Sv=V_.Dv,this.Rv=n;else if(p_.searchParams&&F_(n))this.Sv=V_.Pn,this.Rv=n.toString();else if(p_.arrayBuffer&&(H_(n)||W_(n)))z_(n)&&(this.Iv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Sv=V_.za,this.Rv=H_(e=n)?Z_(e):J_(e);else{if(!p_.stream||!l_(n))throw new v("unsupported BodyInit type");n=w_(d_,n),this.Sv=V_.Ev,this.Rv=n,this.Iv=n}else this.Sv=V_.Pn,this.Rv="";this.Cv="",i.has("content-type")?this.Cv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Cv="text/plain;charset=UTF-8":u.Sv===V_.Nv&&u.Rv.type?this.Cv=u.Rv.type:p_.searchParams&&F_(n)&&(this.Cv="application/x-www-form-urlencoded;charset=UTF-8"),this.Cv&&i.set("content-type",this.Cv)),p_.stream&&(null==n?this.body=null:u.Sv===V_.Ev?this.body=u.Rv:this.body=y_(d_,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=X_(this);return e||(this.Sv===V_.Nv?(t=this.Rv,n=new FileReader,i=q_(n),n.readAsText(t),i):this.Sv===V_.za?we.resolve(this.Rv).then(G_):this.Sv===V_.Ev?j_(this.Rv).then(G_):this.Sv===V_.vf?this.Rv.then(function(t){return t.text()}):this.Sv===V_.Dv?we.reject(new v("could not read FormData body as text")):we.resolve(this.Rv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();p_.blob&&(tg.prototype.blob=function(){var t,n,i=X_(this);return i||(this.Sv===V_.Nv?we.resolve(this.Rv):this.Sv===V_.za?we.resolve(v_([this.Rv],{type:this.Cv})):this.Sv===V_.Ev?(t=this.Rv,n=this.Cv,Y_(t).then(function(t){return v_(t,{type:n||""})})):this.Sv===V_.vf?this.Rv.then(function(t){return t.blob()}):this.Sv===V_.Dv?we.reject(new v("could not read FormData body as Blob")):we.resolve(v_([this.Rv],{type:this.Cv})))}),p_.arrayBuffer&&(tg.prototype.arrayBuffer=function(){var t,n,i;return this.Sv===V_.za?X_(this)||we.resolve(this.Rv):this.Sv===V_.Nv?X_(this)||(t=this.Rv,n=new FileReader,i=q_(n),n.readAsArrayBuffer(t),i):this.Sv===V_.Ev?j_(this.Rv):this.Sv===V_.vf?X_(this)||this.Rv.then(function(t){return t.arrayBuffer()}):this.Sv===V_.Dv?we.reject(new v("could not read FormData body as ArrayBuffer")):we.resolve(this.Rv).then(Q_)}),p_.formData&&(tg.prototype.formData=function(){return this.Sv===V_.Dv?X_(this)||we.resolve(this.Rv):this.text().then($_)});var ng=[301,302,303,307,308],ig=function(t){function n(n,i){var e=this,r=new T_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return c_(n,t),n.prototype.clone=function(){return new n(K_(this),{status:this.status,statusText:this.statusText,headers:new T_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===ng.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(tg);var eg,rg=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=l.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(eg=rg)&&eg.__esModule&&l.prototype.hasOwnProperty.call(eg,"default")&&eg.default;rg.AbortSignal;var sg=rg.AbortController,ug=f_.DOMException;try{new ug}catch(t){(ug=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),ug.prototype.constructor=ug}var og=sg;function hg(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function ag(t,n,i){return new we(function(e,r){if(n.signal.aborted)return t.catch(S_),r(cg());var s=function(){n.signal.removeEventListener("abort",s),r(cg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function cg(){return new ug("Aborted","AbortError")}var fg,vg="moz-chunked-arraybuffer";function dg(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(fg||(fg={}));var lg=function(){function t(t,n){var i=this;this.Ov=!1,this.yv=t,this.Pv=n,this.xv=new k,this.Bv=new we(function(t,n){i.Lv=t,i.Mv=n})}return t.prototype.send=function(){var t=this;return this.Uv().then(function(n){return t.Fv(n,t.Pv),t.Bv})},t.prototype.Uv=function(){var t=this.yv;return t.Sv===V_.Ev?t.arrayBuffer():we.resolve(t.Iv)},t.prototype.Hv=function(t){this.yv.onprogress&&this.yv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.zv=function(t){this.Mv(t)},t.prototype.Vv=function(){this.zv(new d("Network request failed"))},t.prototype.Wv=function(){this.zv(new d("Network request failed"))},t.prototype.Xv=function(){this.zv(cg())},t.prototype.Fv=function(t,n){var i=this,e=this.yv,r=this.xv,s=function(){return i.qv()};if(e.signal.aborted)return this.Xv();r.onreadystatechange=function(){if(r.readyState>=fg.HEADERS_RECEIVED&&!i.Ov){var t=function(t){var n=new T_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.Ov=!0,i.Gv(n)}},r.onprogress=function(t){return i.Hv(t)},r.onload=function(){return i.Qv()},r.onerror=function(){return i.Vv()},r.ontimeout=function(){return i.Wv()},r.onabort=function(){return i.Xv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.qv=function(){this.Xv(),this.xv.abort()},t}(),_g=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Yv=void 0,e.jv=void 0,e}return c_(n,t),n.prototype.Gv=function(t){var n=this;this.Yv=new we(function(t,i){n.jv=t,n.Zv=i}),this.Lv(new ig(this.Yv,t))},n.prototype.Qv=function(){var t=this.xv.response;if(null==t){var n=this.Pv;""===n||"text"===n?t=this.xv.responseText:"document"===n?t=this.xv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=v_([]))}this.jv(t)},n.prototype.zv=function(n){t.prototype.zv.call(this,n),this.Zv&&this.Zv(n)},n}(lg),gg=function(t){function n(n){var i=t.call(this,n,vg)||this;return i.Jv=void 0,i.$v=void 0,i.Kv=!1,i}return c_(n,t),n.prototype.Gv=function(t){var n=this;this.Jv=new d_({start:function(t){n.$v=t},cancel:function(){n.Kv=!0,n.qv()}}),this.Lv(new ig(this.Jv,t))},n.prototype.Hv=function(n){this.Kv||this.$v.enqueue(new y(this.xv.response)),t.prototype.Hv.call(this,n)},n.prototype.Qv=function(){this.$v.close()},n.prototype.zv=function(n){t.prototype.zv.call(this,n),this.$v&&!this.Kv&&(this.Kv=!0,this.$v.error(n))},n}(lg),wg=function(){var t=p_.firefox&&dg(vg);return wg=function(){return t},t},mg=function(){var t;return t=p_.arrayBuffer&&dg("arraybuffer")?"arraybuffer":p_.blob&&dg("blob")?"blob":"",mg=function(){return t},t};function yg(t){return(p_.stream&&wg()?new gg(t):new _g(t,mg())).send()}var pg=f_.fetch,kg=f_.Request,bg=(f_.Response,f_.AbortController);var Ag=["http:","https:"];var Tg=function(){try{if(p_.streamRequest){var t=new kg("about:blank",{body:"",method:"POST"}).body;if(t&&__(t.constructor))return t.constructor}}catch(t){}}();function Sg(t,n,i){var e;if(p_.stream){var r=void 0;if(p_.streamResponse){var s=t.body;r=s&&w_(d_,s)}else r=y_(d_,function(){return ag(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new g_(n.getReader(),i),{highWaterMark:0})}(d_,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Eg(t.headers))),e=r}else{var u=ag(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return we.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Eg(t.headers))),e=u}return new ig(e,t)}function Eg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Rg(t){var n=new og;return t.signal&&hg(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Sv===V_.Ev?p_.streamRequest&&Tg?we.resolve(w_(Tg,r.Rv)):ag(t.arrayBuffer(),n,!1):ag(we.resolve(t.Iv),n,!1),p_.abort){var s=new bg;hg(s,n.signal),e=s.signal}return i.then(function(n){return new kg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof T_?i:new T_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return pg(i).then(function(i){return Sg(i,n,t.onprogress)})})}var Ig=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var Ng=function(t){function n(i,e){var r,s,u,o,h,a,c,f,v,l=this,_=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");r=i.url,s=i.credentials,e.headers||(u=new T_(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.Iv||(_=i.Iv,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new T_(e.headers)),e&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return Ig.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||h,l.signal=e.signal||f||(new og).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return c_(n,t),n.prototype.clone=function(){return new n(this,{body:K_(this)})},n}(tg),Dg="function"==typeof pg&&p_.stream&&p_.streamResponse&&p_.url;function Cg(t,n){return new we(function(i){var e=new Ng(t,n);i((Dg&&function(t){try{return Ag.indexOf(new f_.URL(t,f_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?Rg:yg)(e))})}Cg.polyfill=!0;var Og=function(){function t(t){this.kv=void 0,this.yv=void 0,this.Fc=new ls,this.pv=void 0,this.td=!1,this.yv=t,this.Fc.Or(t.xr),this.kv=this.nd()}var n=t.prototype;return n.nd=function(){var t,n,e,r,s,u,o,a,c=this;return nr.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.yv).nv&&h(function(){c.td=!0,c.Fc.Cr()},t.nv),f.prev=2,n=Cg(t.Mf,{method:t.tv,headers:t.Cf.Xa(),body:t.yf,credentials:t.sv?"include":"same-origin",signal:Bg(this.Fc.xr),onprogress:t.uv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new u_(t,f.t0);case 9:return f.prev=9,f.next=12,nr.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),gs(r=this.ed(f.t1))&&this.Fc.Cr(),r;case 20:if(s=e.url||t.Mf,u=0===e.status&&"file:"===(v=s,i.Ce(v).protocol)?200:e.status,o=new Pg(this,e,this.Fc),a=new jl({ai:o,Bf:t,Of:t.Of,Cf:new kc(e.headers.asList()),Df:u,Pf:e.statusText,Lf:s}),this.pv=a,!Xl(a)){f.next=29;break}return f.abrupt("return",a);case 29:throw new o_(a);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],we)},n.ed=function(t){return gs(t)?this.td?new h_(this.yv):new _s(t.message,t):this.pv?new o_(this.pv,t):new u_(this.yv,t)},t}(),Pg=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rd=void 0,r.sd=void 0,r.Fc=void 0,r.Af=new no,r.rd=n,r.sd=i,r.Fc=e,r.Af.Ss.catch(j),r}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Af.Ss},i.lf=function(t){return this.Ef(this.sd.text(),t)},i.gf=function(t){return this.Ef(this.sd.arrayBuffer(),t)},i.wf=function(){var t=this.sd.body;return t?this.Rf(t):Il(this.gf().then(El),this.Fc)},i.If=function(){var t=this.sd.clone(),i=this.Fc.Pr(),e=i[0],r=i[1];return this.Fc=e,new n(this.rd,t,r)},i.Ef=function(t,n){var i=this;n&&this.Fc.Or(n);var e=we.resolve(t).catch(function(t){throw i.rd.ed(t)});return e=ks(e,this.Fc),this.Af.Is(e.then(j)),e},i.Rf=function(t){var n=this,i=new fl,e=we.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.rd.ed(t);throw i.writable.abort(e).catch(j),e});return e=ks(e,this.Fc),this.Af.Is(e.then(j)),i.readable},A(n,[{key:"Nf",get:function(){return this.sd.bodyUsed}}]),n}(Pl),xg="abort";function Bg(t){var n=new og;if(t.yr)n.abort();else if(!t.pr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(xg,i),t.Rr(i),t.Nr(e)};n.signal.addEventListener(xg,i),t.Er(i),t.Ir(e)}return n.signal}function Lg(t,n,i){return new we(function(e,r){if(i&&i.yr)return r(new _s);var s=function(t){o(),e(t)},u=function(){o(),r(new _s)},o=function(){t.removeEventListener(n,s),i&&i.Rr(u)};t.addEventListener(n,s),i&&i.Er(u)})}var Mg,Ug,Fg=function(){function t(){}var n=t.prototype;return n.Bf=function(t){return new Og(t).kv},n.ov=function(t){if(Vi&&Vi.sendBeacon)Vi.sendBeacon(t.Mf,wc([t.yf],{type:t.mf}));else{var n=t.mf?{"Content-type":t.mf}:void 0;Ss(this.Bf(new Zl({tv:ql.POST,Mf:t.Mf,yf:t.yf,Cf:n})))}},n.hv=function(){},t}();Mg=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).ud=void 0,i.od=function(){if(L.Yt)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.hd=L.yn,i.fd=void 0,i}return S(i,n),A(i,[{key:"Te",get:function(){return this.ud||(this.ud=new jr(dc())),this.ud}},{key:"vd",get:function(){return this.od}},{key:"dd",get:function(){return this.hd}},{key:"ld",get:function(){return!1}},{key:"_d",get:function(){return _c.ea()}},{key:"gd",get:function(){return{wd:mc}}},{key:"md",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"yd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"pd",get:function(){return this.fd||(this.fd=new $l(new Fg)),this.fd}}]),i}(Ke)),i=Mg,function(t){t.kd="bd",t.Ad="Td"}(Ug||(Ug={}));Ug.kd,Ug.Ad;var Hg=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Sd=void 0,e}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),n}(Ps);function zg(t){return Boolean(t&&t.Ed)}var Vg,Wg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Hg),Xg=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(Ps),qg=function(t){function n(n){var i;return(i=t.call(this,Ug.kd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new Gg(this.Id.Ed)},n}(Wg),Gg=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(Xg),Qg=function(t){function n(n){var i;return(i=t.call(this,Ug.Ad)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new Yg(this.Id.Ed)},n}(Wg),Yg=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(Xg);!function(t){t.Nd="Dd",t.Cd="Od",t.Pd="xd",t.Bd="Ld",t.Md="Ud",t.Fd="Hd",t.zd="Vd",t.Wd="Xd",t.qd="Zo",t.Gd="Qd",t.Yd="jd",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(Vg||(Vg={}));var jg=function(t){function n(){var n;return(n=t.call(this)||this).Zd=[],n.Sd=void 0,n}S(n,t);var i=n.prototype;return i.Jd=function(t){return this.Zd[t]},i.$d=function(t){return!(!t||hs(this.Zd,t))&&(this.Zd.push(t),this.Sd&&this.Sd.push(t.Ed),t.Hr(Vg.Fd,this.Ur),this.Fr(new qg(t)),!0)},i.Kd=function(t){if(!t)return!1;var n=this.Zd.indexOf(t);return!(n<0)&&(os(this.Zd,n),this.Sd&&os(this.Sd,n),t.Xr(Vg.Fd,this.Ur),this.Fr(new Qg(t)),!0)},i.tl=function(t){return hs(this.Zd,t)},i.nl=function(){for(var t=this.Zd,n=t.length-1;n>=0;n-=1)this.Kd(t[n])},i.hv=function(){this.nl(),this.Wr()},A(n,[{key:"il",get:function(){return this.Zd}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"sl",get:function(){return this.Zd.length}}]),n}(Cs),Zg=function(t){function n(n){var i;return(i=t.call(this,Vg.Fd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new Jg(this.Id.Ed)},n}(Wg),Jg=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(Xg),$g=function(t){function n(){var n;return(n=t.call(this)||this).ul=void 0,n.ol=function(t){var i=t.Id;n.$d(i)},n.hl=function(t){var i=t.Id;n.Kd(i)},n}S(n,t);var i=n.prototype;return i.al=function(t){t.Hr(Ug.kd,this.ol),t.Hr(Ug.Ad,this.hl)},i.cl=function(t){t.Xr(Ug.kd,this.ol),t.Xr(Ug.Ad,this.hl)},i.hv=function(){this.ul&&this.ul.hv(),t.prototype.hv.call(this)},A(n,[{key:"fl",get:function(){return this.ul},set:function(t){var n=this.ul;if(t!==n){if(n){this.cl(n);for(var i=0,e=n.il;i<e.length;i++){var r=e[i];t&&t.tl(r)||this.Kd(r)}}if(this.ul=t,t){for(var s=[],u=0,o=t.il;u<o.length;u++){var h=o[u];this.$d(h),this.vl(h)&&s.push(h)}this.al(t);for(var a=0;a<s.length;a++){var c=s[a];c.Fr(new Zg(c))}}}}}]),n}(jg),Kg=l.freeze||Z;function tw(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function nw(t,n){for(var i=0,e=l.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];l.defineProperty(t,r,l.getOwnPropertyDescriptor(n,r))}return t}function iw(t){if(W(t)){var n={};for(var i in t)M.call(t,i)&&(n[i]=iw(t[i]));return n}if(H(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=iw(t[r]));return e}return t}function ew(t,n){return t===n||!(!t||!n)&&(!(!V(t)||!V(n))&&(z(t)?!!z(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!ew(t[r],n[r]))return!1;return!0}(t,n):!z(n)&&function(t,n){var i=l.keys(t),e=l.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!M.call(n,s)||!ew(t[s],n[s]))return!1}return!0}(t,n)))}function rw(t,n){return t.constructor===n.constructor}function sw(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function uw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function ow(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function hw(t){var n=ow(t);if(m(n))throw new v("Expected a valid number.");return n}function aw(t){return"string"==typeof t?t:""}function cw(t,n){if(!z(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function fw(t,n){return z(t)?cw(t,n):n(t)}var vw=[Ug.kd,Ug.Ad,Vg.Fd];function dw(t){var n,i=t.il.map(function(t){return t.Ed});return i.item=function(n){var i=0|n,e=t.Jd(i);return e&&e.Ed||void 0},i.addEventListener=function(t,i){n.Hr(t,i)},i.removeEventListener=function(t,i){n.Xr(t,i)},n=new Os(i),t.Hr(vw,function(t){return n.Fr(t.Ed)}),i}function lw(){}function _w(t){var n,i=[Vg.qd,Vg.Fd,Vg.Gd,Vg.Yd,Vg.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.dl&&t.dl.Ed},get enabled(){return t.ll},set enabled(n){t.ll=uw(n)},get id(){return t._l},get uid(){return t.gl},get kind(){return t.wl},get label(){return t.ml},set label(n){t.ml=aw(n)},get language(){return t.yl},get qualities(){return t.pl.Ed},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.pl.il;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Ed===o&&i.push(s)}return i}(t,H(n)?n:[n]):[]).length>0?t.kl=i:t.kl=void 0},get targetQuality(){if(t.kl)return 1===t.kl.length?t.kl[0].Ed:t.kl.map(function(t){return t.Ed})},addEventListener:function(t,i){var e=fw(t,aw);n.Hr(e,i)},removeEventListener:function(t,i){var e=fw(t,aw);n.Xr(e,i)}};return n=new Os(e),t.Hr(i,function(t){return n.Fr(t.Ed)}),l.defineProperty(e,"constructor",{value:lw}),e}function gw(){}function ww(t){var n=dw(t);return l.defineProperty(n,"constructor",{value:gw}),n}var mw,yw,pw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Rd=function(){return ww(this)},i.vl=function(t){return t.ll},n}($g);function kw(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case mw.bl:case mw.Al:case mw.Tl:return n}}else if("number"==typeof t)switch(t){case 0:return mw.bl;case 1:return mw.Al;case 2:return mw.Tl}return mw.bl}function bw(){}function Aw(t){var n,i=[Vg.Fd,Vg.qd,Vg.Nd,Vg.Cd,Vg.Pd,Vg.Bd,Vg.Md,Vg.zd,Vg.Wd],e=[yw.Sl],r={get kind(){return t.wl},get label(){return t.ml},set label(n){t.ml=aw(n)},get language(){return t.yl},get id(){return t._l},get uid(){return t.gl},get inBandMetadataTrackDispatchType(){return t.El},get mode(){return t.Rl},set mode(n){n!==mw.Tl&&n!==mw.Al&&n!==mw.bl||t.Il(n)},get forced(){return Boolean(t.Nl)},get type(){return t.nr},get readyState(){return Ew(t.Dl)},get cues(){return t.Rl===mw.bl?null:t.Cl.Ed},get activeCues(){return t.Rl===mw.bl?null:t.Ol.Ed},get src(){return t.Pl||""},addEventListener:function(t,i){var e=fw(t,aw);n.Hr(e,i)},removeEventListener:function(t,i){var e=fw(t,aw);n.Xr(e,i)}};return n=new Os(t),t.Hr(i,function(t){return n.Fr(t.Ed)}),t.Hr(e,function(t){return n.Fr(t)}),l.defineProperty(r,"constructor",{value:bw}),r}function Tw(){}function Sw(t){var n=dw(t);return l.defineProperty(n,"constructor",{value:Tw}),n}function Ew(t){return t}!function(t){t.bl="disabled",t.Al="hidden",t.Tl="showing"}(mw||(mw={})),function(t){t.Sl="error"}(yw||(yw={}));var Rw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Rd=function(){return Sw(this)},i.vl=function(t){return t.Rl===mw.Tl},n}($g),Iw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Vr=function(n){t.prototype.Vr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},n}(Cs),Nw=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Iw),Dw=function(t){function n(){return t.call(this,yc._a)||this}return S(n,t),n}(Ps),Cw=function(t){function n(n){var i;return(i=t.call(this,yc.ca)||this).currentSource=n,i}return S(n,t),n}(Ps),Ow=function(){function t(){}return t.xl=function(n,i){var e=t.Bl(n,i);return e?t.Ll(e):0},t.Ml=function(){return i.md||"default"},t.Ul=function(){return i.yd||"unknown"},t.Bl=function(n,e){var r,s=null==(r=i._d)?void 0:r.cs(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Fl(u,n,e)},t.Ll=function(t){var n=t.availableBandwidth;return n||0},t.Fl=function(n,i,e){if(!t.Hl(n,i))return n[i];t.zl(n,i,e)},t.zl=function(t,n,e){var r;delete t[n],null==(r=i._d)||r.ia(e,JSON.stringify(t))},t.Hl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Vl=function(t,n,i,e){var r;return ir({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Wl=function(n){var i=t.Ml();t.Xl(i,"theoplayer-stored-network-info",n,wt())},t.Xl=function(n,e,r,s){var u,o,h=null==(u=i._d)?void 0:u.cs(e),a=h?JSON.parse(h):void 0,c=t.Vl(a,n,r,s);null==(o=i._d)||o.ia(e,JSON.stringify(c))},t.ql=function(){var n=t.Ml();return t.xl(n,"theoplayer-stored-network-info")},t}();var Pw,xw,Bw,Lw,Mw,Uw,Fw="1ADD53F3";function Hw(t){return{chromecast:function(t){return{appID:t&&t.appID?aw(t.appID):Fw}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Pw.AUTO;case"manual":return Pw.MANUAL;case"disabled":return Pw.DISABLED;default:return Pw.MANUAL}}(t?t.strategy:void 0)}}function zw(t){var n,i=Bw.Gl;return(n=t)&&Br(n,"mpd")&&(i=Bw.Ql),function(t){return!!t&&Br(t,"m3u8")}(t)&&(i=Bw.Yl),i}function Vw(t){return!!t&&Lr(t.toLowerCase(),Bw.Ql)}function Ww(t){if(!t)return!1;var n=t.toLowerCase();return Lr(n,Bw.Yl)||Lr(n,Bw.jl)}function Xw(t){return V(t)&&V(t.ssai)&&"google-dai"===t.ssai.integration}function qw(t){return V(t)&&X(t.integration)&&"verizon-media"===t.integration}function Gw(t){if(X(t))return!t;if(qw(t))return!t.id;if(Xw(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function Qw(t){return Boolean(V(t)&&X(t.src))}function Yw(t){return X(t)||Qw(t)||Xw(t)||qw(t)}function jw(t){if(t){if(Yw(t))return Gw(t);for(var n=0;n<t.length;n++){if(!Gw(t[n]))return!1}return!0}return!0}function Zw(){return{crossOrigin:xw.Zl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0}}function Jw(){return ir({},Zw(),{src:void 0,type:Bw.Gl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function $w(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:Lw.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return Mw.NONE;case"midroll-and-postroll":default:return Mw.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=uw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return Lw.INSECURE;case"disabled":return Lw.DISABLED;case"enabled":default:return Lw.ENABLED}}(t.vpaidMode)),H(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(X)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:uw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Kw(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];W(r)&&n.push(r)}return n}function tm(t){return X(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Pw||(Pw={})),function(t){t.Zl="",t.Jl="anonymous",t.$l="use-credentials"}(xw||(xw={})),function(t){t.Ql="application/dash+xml",t.Yl="application/vnd.apple.mpegurl",t.jl="application/x-mpegurl",t.Gl="video/mp4",t.Kl="application/vnd.theoplayer.hesp+json",t.t_="application/vnd.theo.hesp+json"}(Bw||(Bw={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(Lw||(Lw={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(Mw||(Mw={})),function(t){t[t.n_=0]="n_",t[t.i_=1]="i_",t[t.e_=2]="e_",t[t.r_=3]="r_",t[t.s_=4]="s_"}(Uw||(Uw={}));var nm,im=function(t){function n(n,i){var e;return void 0===i&&(i=Uw.n_),(e=t.call(this,yc.da)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ps),em=function(t){function n(n){var i;return(i=t.call(this,yc.ba)||this).currentTime=n,i}return S(n,t),n}(Ps),rm=function(t){function n(n){var i;return(i=t.call(this,yc.Aa)||this).currentTime=n,i}return S(n,t),n}(Ps);!function(t){t.u_="canplay",t.o_="canplaythrough",t.h_="loadeddata",t.a_="loadedmetadata",t.zd="readystatechange",t.c_="waiting",t.f_="playing"}(nm||(nm={}));var sm,um,om=[nm.u_,nm.o_,nm.h_,nm.a_,nm.zd,nm.c_,nm.f_],hm=function(t){function n(n,i){var e;return void 0===i&&(i=Uw.i_),(e=t.call(this,nm.a_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ps),am=function(t){function n(n){var i;return(i=t.call(this,yc.va)||this).duration=n,i}return S(n,t),n}(Ps),cm=function(t){function n(n,i){var e;return(e=t.call(this,yc.Sa)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(Ps),fm=function(t){function n(n,i){var e;return(e=t.call(this,yc.La)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(Ps),vm=function(t){function n(n){var i;return(i=t.call(this,yc.la)||this).currentTime=n,i}return S(n,t),n}(Ps),dm=function(t){function n(n,i){var e;return void 0===i&&(i=Uw.e_),(e=t.call(this,nm.h_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ps),lm=function(t){function n(n){var i;return(i=t.call(this,yc.Na)||this).currentTime=n,i}return S(n,t),n}(Ps),_m=function(t){function n(n){var i;return(i=t.call(this,yc.Ia)||this).currentTime=n,i}return S(n,t),n}(Ps),gm=function(t){function n(n,i){var e;return(e=t.call(this,yc.Ma)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(Ps),wm=function(t){function n(n,i){var e;return void 0===i&&(i=Uw.r_),(e=t.call(this,nm.u_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ps),mm=function(t){function n(n,i){var e;return void 0===i&&(i=Uw.s_),(e=t.call(this,nm.o_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ps),ym=function(t){function n(n,i){var e;return(e=t.call(this,nm.zd)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(Ps),pm=function(t){function n(n){var i;return(i=t.call(this,yw.Sl)||this).errorObject=n,i}return S(n,t),n.prototype.Rd=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg);function km(t){switch(t){case sm.ALL:case sm.CONTENT:return t;default:return sm.NONE}}function bm(t){var n,e,r,s=iw(t||{});return s.libraryLocation&&(s.libraryLocation=t_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=Hw(s.cast),s.ads=$w(s.ads),s.analytics=Kw(s.analytics),s.mutedAutoplay=km(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=X(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return t_(t)}catch(t){return void i.me("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Am(t){return{v_:t.v_,d_:t.d_,l_:t.l_,ts:t.ts,__:t.__,g_:t.g_,w_:t.w_,m_:t.m_,Dl:t.Dl,y_:t.y_,p_:t.p_,k_:t.k_,b_:t.b_}}function Tm(t,n,i){if(n!==i){var e=n.v_,r=n.d_,s=n.g_,u=n.w_,o=n.m_,h=n.Dl,a=n.y_,c=(n.k_,n.p_,n.b_),f=i.v_,v=i.d_,d=i.l_,l=i.__,_=i.g_,g=i.w_,w=i.m_,y=i.Dl,p=i.y_,k=(i.k_,i.p_,i.b_);h!==Uw.n_&&t.Fr(new im(f,y)),g&&!u?t.Fr(new em(f)):!g&&u&&t.Fr(new rm(f)),y>=Uw.i_&&t.Fr(new hm(f,y)),v===r||m(v)&&m(r)||t.Fr(new am(v)),w!==o&&t.Fr(new cm(f,w)),f!==e&&t.Fr(new fm(f,void 0)),d&&t.Fr(new vm(f)),y>=Uw.e_&&t.Fr(new dm(f,y)),p&&!a?t.Fr(new lm(f)):!p&&a&&t.Fr(new _m(f)),k===c&&_===s||t.Fr(new gm(f,k)),y>=Uw.r_&&t.Fr(new wm(f,y)),y>=Uw.s_&&t.Fr(new mm(f,y)),y!==h&&t.Fr(new ym(f,y)),l&&t.Fr(new pm(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(sm||(sm={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(um||(um={}));var Sm=400,Em=.25,Rm={A_:.2,T_:.45,S_:.7,E_:3,R_:xm,I_:Bm},Im={A_:.4,T_:.65,S_:1,E_:3,R_:xm,I_:Bm},Nm={A_:.4,T_:.7,S_:.9,E_:3,R_:xm,I_:Bm},Dm={A_:.4,T_:.65,S_:1,E_:3,R_:xm,I_:Bm},Cm={A_:.5,T_:1.125,S_:1.75,E_:2.55,R_:xm,I_:Bm};function Om(){var t;return t=i.xe.te?Dm:i.xe.re?Im:i.xe.ee?"Android"===i.Be.Le?Nm:Rm:Cm,i.Be.Me?function(t){if(i.Be.Me){var n=(Sm+250)/1e3,e=_.max(n,t.A_),r=_.max(e+Em,t.T_),s=_.max(r+Em,t.S_);return{A_:e,T_:r,S_:s,E_:_.max(s+Em,t.E_),R_:xm,I_:Bm}}return t}(t):t}var Pm,xm=.92,Bm=1.08;function Lm(t){return{goLive:function(){return t.N_()},get isLive(){return t.D_},get currentServerLiveTime(){return t.C_},get currentLatency(){return t.O_},get latency(){return t.P_},set latency(n){if(!function(t){if(!V(t))return!1;var n=t,i=F(n.target)&&"number"==typeof n.target&&F(n.windowEnd)&&"number"==typeof n.windowEnd&&F(n.windowStart)&&"number"==typeof n.windowStart&&F(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.P_=n},get manifest(){return t.x_},get metrics(){return t.B_},addEventListener:function(n,i){t.Hr(Um(n),i)},removeEventListener:function(n,i){t.Xr(Um(n),i)}}}!function(t){t[t.bl=0]="bl",t[t.L_=1]="L_",t[t.M_=2]="M_"}(Pm||(Pm={}));var Mm=["analytic","golive","nogolive","bufferedchange"];function Um(t){var n=fw(t,aw);return(X(n)?[n]:n).filter(function(t){return hs(Mm,t)})}var Fm,Hm=function(t){function n(){var n,i;return(n=t.call(this)||this).ul=void 0,n.Sd=void 0,n.U_={windowStart:(i=Om()).A_,windowEnd:i.S_,target:i.T_,maxOffset:i.E_},n.ul=void 0,n}S(n,t);var i=n.prototype;return i.al=function(t){t.Hr(Mm,this.Ur)},i.cl=function(t){t.Xr(Mm,this.Ur)},i.N_=function(){var t;null==(t=this.ul)||t.N_()},i.hv=function(){this.Wr(),this.ul&&this.cl(this.ul),this.ul=void 0},A(n,[{key:"fl",get:function(){return this.ul},set:function(t){var n=this.ul;t!==n&&(n&&this.cl(n),t&&this.al(t),this.ul=t,this.ul&&(this.ul.P_=this.U_))}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Lm(this)),this.Sd}},{key:"C_",get:function(){var t;return null==(t=this.ul)?void 0:t.C_}},{key:"O_",get:function(){var t;return null==(t=this.ul)?void 0:t.O_}},{key:"D_",get:function(){return!!this.ul&&this.ul.D_}},{key:"P_",get:function(){return this.ul?this.ul.P_:this.U_},set:function(t){this.ul&&(this.ul.P_=t),this.U_=t}},{key:"x_",get:function(){var t;return null==(t=this.ul)?void 0:t.x_}},{key:"B_",get:function(){var t;return null==(t=this.ul)?void 0:t.B_}}]),n}(Cs),zm=function(t){function n(n){var i;return(i=t.call(this)||this).ul=void 0,i.F_=[],i.H_=!1,i.z_=new pw,i.V_=new pw,i.W_=new Rw,i.X_=new Hm,i.q_=!1,i.G_(n),n.Vr(i.Ur),i.ul=n,i.z_.fl=n.Q_,i.V_.fl=n.Y_,i.W_.fl=n.j_,i.X_.fl=n.Z_,i}S(n,t);var i=n.prototype;return i.J_=function(){this.ul.J_()},i.K_=function(){this.ul.K_()},i.tg=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Es(this.F_.map(function(t){return t.tg()})).then(j));case 1:case"end":return t.stop()}},null,this,null,we)},i.ng=function(){return this.ul.ng()},i.ig=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return ws(n),i.next=3,nr.awrap(this.ul.ig(t,n));case 3:case"end":return i.stop()}},null,this,null,we)},i.eg=function(){return this.fl.eg()},i.rg=function(){this.fl.rg()},i.sg=function(){this.fl.sg()},i.ug=function(){if(!this.H_){for(var t=0,n=this.F_;t<n.length;t++){n[t].ug()}this.H_=!0}},i.og=function(t){this.ul.og(t)},i.hg=function(){this.ul.hg()},i.ag=function(){this.ul.ag()},i.cg=function(){this.ul.cg()},i.fg=function(){return this.ul.fg()},i.vg=function(){return this.ul.vg()},i.dg=function(){for(var t=[],n=0,i=this.F_;n<i.length;n++){var e=i[n];t.push.apply(t,e.dg())}return t},i.lg=function(t){for(var n=!1,i=0,e=this.F_;i<e.length;i++){n=e[i].lg(t)||n}return n},i.Fr=function(n){this.lg(n)||t.prototype.Fr.call(this,n)},i.G_=function(t){this.F_.push(t)},i._g=function(t){us(this.F_,t)},i.gg=function(t){if(t!==this.ul){var n=this.ul;n.hg(),n.Qr(this.Ur);var i=Am(this),e=this.wg,r=this.vg();this.ul=t,this.z_.fl=t.Q_,this.V_.fl=t.Y_,this.W_.fl=t.j_,this.X_.fl=t.Z_,Tm(this,i,this);var s=this.wg;s!==e&&this.Fr(new Cw(s)),this.vg()!==r&&this.Fr(new Dw),t.Vr(this.Ur),t.og(n)}},i.mg=function(){},i.hv=function(){var t,n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Wr(),this.ul.hg(),t=0,n=this.F_;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,nr.awrap(i.hv());case 7:t++,e.next=3;break;case 10:this.z_.hv(),this.V_.hv(),this.W_.hv(),this.X_.hv();case 14:case"end":return e.stop()}},null,this,null,we)},i.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Es(this.F_.map(function(t){return t.nl()})).then(j));case 1:case"end":return t.stop()}},null,this,null,we)},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"yg",get:function(){return this.ul.yg}},{key:"pg",get:function(){return this.ul.pg},set:function(t){this.ul.pg=t}},{key:"wg",get:function(){return this.ul.wg}},{key:"v_",get:function(){return this.ul.v_},set:function(t){this.ul.v_=t}},{key:"d_",get:function(){return this.ul.d_}},{key:"kg",get:function(){return this.ul.kg}},{key:"l_",get:function(){return this.ul.l_}},{key:"ts",get:function(){return this.ul.ts}},{key:"__",get:function(){return this.ul.__}},{key:"Z_",get:function(){return this.X_}},{key:"bg",get:function(){return this.ul.bg}},{key:"B_",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.Ag,i+=h.Tg,e+=h.Sg,r+=h.Eg,s+=h.Rg,u.amountOfBufferedAudioSegments+=h.Ig.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.Ig.amountOfBufferedVideoSegments}return{Ag:n,Tg:i,Sg:e,Eg:r,Rg:s,Ig:u}}(this.F_.map(function(t){return t.B_}))}},{key:"g_",get:function(){return this.ul.g_},set:function(t){this.ul.g_=t}},{key:"Ng",get:function(){return this.ul.Ng}},{key:"w_",get:function(){return this.ul.w_}},{key:"m_",get:function(){return this.ul.m_},set:function(t){this.ul.m_=t}},{key:"Dg",get:function(){return this.ul.Dg}},{key:"Cg",get:function(){return this.ul.Cg},set:function(t){this.ul.Cg=t}},{key:"Dl",get:function(){return this.ul.Dl}},{key:"Og",get:function(){return this.ul.Og}},{key:"y_",get:function(){return this.ul.y_}},{key:"p_",get:function(){return this.ul.p_}},{key:"k_",get:function(){return this.ul.k_}},{key:"b_",get:function(){return this.ul.b_},set:function(t){this.ul.b_=t}},{key:"Pg",get:function(){return this.ul.Pg}},{key:"xg",get:function(){return!1},set:function(t){}},{key:"fl",get:function(){return this.ul},set:function(t){this.gg(t)}}]),n}(Nw),Vm=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Ka);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Fm||(Fm={}));var Wm=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Tt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(St);function Xm(t){tw(t,"MEDIA_ERR_ABORTED",Fm.ABORTED),tw(t,"MEDIA_ERR_NETWORK",Fm.NETWORK),tw(t,"MEDIA_ERR_DECODE",Fm.DECODE),tw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Fm.SRC_NOT_SUPPORTED),tw(t,"MEDIA_ERR_ENCRYPTED",Fm.ENCRYPTED)}function qm(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new Wm(Fm.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new Wm(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Fm.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Fm.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Fm.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Fm.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Fm.NETWORK;if(i===n.ErrorCategory.SOURCE)return Fm.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Fm.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Fm.ENCRYPTED;if(i===n.ErrorCategory.AD)return Fm.ADVERTISEMENT_ERROR;return Fm.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function Gm(t){switch(t){case Fm.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Fm.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Fm.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Fm.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Fm.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Fm.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Fm.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}Xm(Wm),Xm(Wm.prototype);var Qm,Ym=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$d=function(n){return t.prototype.$d.call(this,n)},i.Rd=function(){return ww(this)},n}(jg);!function(t){t.Jf="audio",t.$f="video",t.Pn="text",t.Kf="image",t.Ff="unknown"}(Qm||(Qm={}));var jm=function(){function t(){this.Bg=[],this.Sd=void 0}var n=t.prototype;return n.Lg=function(t){this.Bg.push(t),this.Sd&&this.Sd.push(t.Ed)},n.Jd=function(t){return this.Bg[t]},n.Mg=function(t){return H(t)?function(t,n){for(var i=0;i<n.length;i++)if(!hs(t,n[i]))return!1;return!0}(this.Bg,t):hs(this.Bg,t)},A(t,[{key:"il",get:function(){return this.Bg}},{key:"sl",get:function(){return this.Bg.length}},{key:"Ed",get:function(){var t,n;return this.Sd||(this.Sd=((n=(t=this).il.map(function(t){return t.Ed})).item=function(n){var i=0|n,e=t.Jd(i);return e&&e.Ed||void 0},n)),this.Sd}}]),t}(),Zm=function(t){function n(n){var i;return(i=t.call(this,Vg.qd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new Jm(this.Id.Ed)},n}(Wg),Jm=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(Xg),$m=0;function Km(){return $m++}var ty=0;var ny=0;var iy=0;function ey(){return iy++}var ry=0;var sy=function(t){function n(n){var i;return(i=t.call(this)||this).nr=Qm.Jf,i.Ug=void 0,i.Bo=void 0,i.Fg=void 0,i.Hg=void 0,i.zg=!1,i.Bg=void 0,i.Sd=void 0,i.Ug=n,i.Hg=Km(),i.Bo=ry+++"",i.Fg=n.label,i.Bg=new jm,i.Vg(),i}S(n,t);var i=n.prototype;return i.Wg=function(t){this.ll=t},i.Vg=function(){this.ll=this.Xg},A(n,[{key:"dl",get:function(){}},{key:"ll",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Fr(new Zg(this)))}},{key:"Xg",get:function(){return this.Ug.enabled},set:function(t){this.Ug.enabled=t}},{key:"Ed",get:function(){return this.Sd||(this.Sd=_w(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return this.Ug.kind}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new Zm(this)))}},{key:"yl",get:function(){return this.Ug.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"qg",get:function(){return this.Ug}},{key:"pl",get:function(){return this.Bg}},{key:"kl",get:function(){},set:function(t){}}]),n}(Cs),uy=0;var oy,hy,ay,cy=function(t){function n(n){var i;return(i=t.call(this)||this).nr=Qm.$f,i.Ug=void 0,i.Bo=void 0,i.Hg=void 0,i.zg=!1,i.Bg=void 0,i.Fg=void 0,i.Sd=void 0,i.Ug=n,i.Hg=Km(),i.Bo=uy+++"",i.Bg=new jm,i.Fg=n.label,i.Vg(),i}S(n,t);var i=n.prototype;return i.Vg=function(){this.ll=this.Xg},i.Wg=function(t){this.ll=t},A(n,[{key:"dl",get:function(){}},{key:"ll",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Fr(new Zg(this)))}},{key:"Xg",get:function(){return!!this.Ug.selected},set:function(t){this.Ug.selected=t}},{key:"Ed",get:function(){return this.Sd||(this.Sd=_w(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return"main"}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new Zm(this)))}},{key:"yl",get:function(){return this.Ug.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"qg",get:function(){return this.Ug}},{key:"pl",get:function(){return this.Bg}},{key:"kl",get:function(){},set:function(t){}}]),n}(Cs),fy=function(t){function n(n){var i;return(i=t.call(this,yc.ra)||this).bg=n,i}return S(n,t),n}(Ps);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(oy||(oy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(hy||(hy={})),function(t){t.Gg="cue",t.Qg="region",t.Yg="stylesheet"}(ay||(ay={}));var vy,dy={"line-left":"start",center:"middle","line-right":"end"},ly={start:"line-left",middle:"center",end:"line-right"};function _y(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function gy(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:w(i),m(r)?e:r;var i,e,r}!function(t){t.jg="Zg",t.Jg="$g",t.qd="Zo"}(vy||(vy={}));var wy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Kg=i,e}return S(n,t),n}(Wg),my=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(Xg);function yy(t){var n,i=[vy.jg,vy.Jg,vy.qd],e={get track(){return t.Id.Ed},get id(){return t._l},get uid(){return t.gl},get startTime(){return t.tw},get endTime(){return t.nw},get content(){return t.iw},addEventListener:function(t,i){var e=fw(t,aw);n.Hr(e,i)},removeEventListener:function(t,i){var e=fw(t,aw);n.Xr(e,i)}};return n=new Os(e),t.Hr(i,function(t){return n.Fr(t.Ed)}),e}function py(){}function ky(t){return nw(yy(t),{get align(){return t.ew},get line(){return t.rw},get lineAlign(){return t.sw},get position(){return t.uw},get positionAlign(){return t.ow},get region(){return t.hw?t.hw.Ed:null},get size(){return t.ls},get snapToLines(){return t.aw},get text(){return t.iw},get vertical(){return t.cw}})}var by=function(t){function n(n){return t.call(this,vy.qd,n)||this}return S(n,t),n.prototype.Rd=function(){return new Ay(this.Kg.Ed)},n}(wy),Ay=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(my),Ty=.02;function Sy(t,n){return vt(t.tw,n.tw,Ty)&&vt(t.nw,n.nw,Ty)&&t._l===n._l}var Ey=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Hg=void 0,u.Bo=void 0,u.fw=void 0,u.vw=void 0,u.Sd=void 0,u.dw=void 0,u.lw=!1,u._w=void 0,u.gw=void 0,u.ww=-1,u.Hg=ey(),u.fw=n,u.vw=i,u._w=e,u.gw=Boolean(r),u.Bo=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.Rd=function(){return yy(this)},i.mw=function(t){return this===t||rw(this,t)&&Sy(this,t)},i.hv=function(){this.Wr()},A(n,[{key:"tw",get:function(){return this.fw},set:function(t){this.fw!==t&&(this.fw=t,this.Fr(new by(this)))}},{key:"nw",get:function(){return this.vw},set:function(t){this.vw!==t&&(this.vw=t,this.Fr(new by(this)))}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"yw",get:function(){return this.lw},set:function(t){this.lw=t}},{key:"Id",get:function(){return this.dw},set:function(t){this.dw=t}},{key:"iw",get:function(){return this._w},set:function(t){this._w!==t&&(this._w=t,this.Fr(new by(this)))}},{key:"pw",get:function(){return this.gw},set:function(t){this.gw=t}}]),n}(Cs);function Ry(t,n){return t.iw===n.iw&&t.rw===n.rw&&t.sw===n.sw&&t.uw===n.uw&&t.ow===n.ow&&t.hw===n.hw&&t.aw===n.aw&&t.ls===n.ls&&t.ew===n.ew&&t.cw===n.cw}var Iy=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).rw="auto",u.sw="start",u.uw="auto",u.ow="auto",u.hw=void 0,u.aw=!0,u.ls=100,u.ew="center",u.cw="",u}return S(n,t),n.prototype.mw=function(n){return this===n||rw(this,n)&&t.prototype.mw.call(this,n)&&Ry(this,n)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=ky(this)),this.Sd}},{key:"nr",get:function(){return ay.Gg}}]),n}(Ey);function Ny(t){var n=Y(t.rw)?t.rw:w(t.rw);return m(n)||t.aw||!(n<0||n>100)?m(n)?t.aw?-1:100:n:100}function Dy(t){return gy(t.uw,t.ew)}function Cy(t){return _y(t.ow,t.ew)}function Oy(t){var n,i=Cy(t),e=Dy(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return _.min(t.ls,n)}function Py(t){return{get id(){return t._l},get identifier(){return t._l},get lines(){return t.kw},get regionAnchorX(){return t.bw},get regionAnchorY(){return t.Aw},get scrollValue(){return t.Tw},get viewportAnchorX(){return t.Sw},get viewportAnchorY(){return t.Ew},get width(){return t.Rw}}}var xy=function(){function t(t,n,i,e,r,s,u,o){this.Sd=void 0,this._l=t,this.Rw=n,this.kw=i,this.bw=e,this.Aw=r,this.Sw=s,this.Ew=u,this.Tw=o}return A(t,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Py(this)),this.Sd}},{key:"nr",get:function(){return ay.Qg}}]),t}(),By=function(){function t(){}var n=t.prototype;return n.Iw=function(t){return this.Nw()*t},n.Dw=function(t){return this.Cw(t)>0},n.Ow=function(t){return this.Cw(t)>=0},n.Pw=function(t,n){return this.Bw(t).xw(n)},n.mw=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.xw=function(t){return this.Cw(t)<=0},n.Mw=function(){return this.Uw()?this.Fw():this},n.Hw=function(t){return this.Lg(t.Fw())},n.Bw=function(t){return this.Hw(t).Mw()},t}();function Ly(t,n){return t.zw()?n.zw()?Yr.gr:Yr.wr:n.zw()?Yr.mr:t.Vw()?n.Vw()&&t.Uw()===n.Uw()?Yr.gr:t.Uw()?Yr.mr:Yr.wr:n.Uw()?Yr.wr:Yr.mr}var My=function(){function t(t,n){this.Ww=void 0,this.Xw=void 0,this.Ww=t,this.Xw=n}t.qw=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Gw=function(n){return n.unsigned?new t(n,at.UZERO):new t(n,n.isNegative()?at.NEG_ONE:at.ZERO)},t.Qw=function(n,i){if(m(n))return i?t.Yw:t.jw;if(i){if(n<0)return t.Yw;if(n>=3.402823669209385e38)return t.Zw}else{if(n<=-1.7014118346046923e38)return t.Jw;if(n+1>=1.7014118346046923e38)return t.$w}return n<0?t.Qw(-n,i).Fw():t.qw(at.fromNumber(n%0x10000000000000000),at.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Kw=function(){return this.Xw.unsigned},n.tm=function(){return this.Ww.isZero()&&this.Xw.isZero()},n.Uw=function(){return this.Xw.isNegative()},n.nm=function(){return this.Kw()?t.qw(this.Ww,this.Xw,!1):this},n.im=function(){return this.Kw()?this:t.qw(this.Ww,this.Xw,!0)},n.rm=function(){return this.Ww},n.Nw=function(){return this.Uw()?-this.Fw().Nw():0x10000000000000000*this.Xw.toNumber()+this.Ww.toUnsigned().toNumber()},n.sm=function(){return this.Ww.toInt()},n.mw=function(t){return(this.Kw()===t.Kw()||this.Xw.getHighBits()>>>31!=1||t.Xw.getHighBits()>>>31!=1)&&(this.Xw.toUnsigned().eq(t.Xw.toUnsigned())&&this.Ww.toUnsigned().eq(t.Ww.toUnsigned()))},n.Cw=function(t){if(this.mw(t))return Yr.gr;var n=this.Uw(),i=t.Uw();if(n&&!i)return Yr.mr;if(!n&&i)return Yr.wr;if(!this.Kw())return this.Hw(t).Uw()?Yr.mr:Yr.wr;var e=this.im(),r=t.im(),s=r.Xw.comp(e.Xw);return s>0||0===s&&r.Ww.gt(e.Ww)?Yr.mr:Yr.wr},n.Lw=function(t){return this.Cw(t)<0},n.xw=function(t){return this.Cw(t)<=0},n.um=function(t){return this.Cw(t)>0},n.om=function(t){return this.Cw(t)>=0},n.hm=function(){return new t(this.Ww.not(),this.Xw.not())},n.am=function(n){return new t(this.Ww.and(n.Ww),this.Xw.and(n.Xw))},n.cm=function(n){return new t(this.Ww.or(n.Ww),this.Xw.or(n.Xw))},n.fm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shl(i),this.Xw.shl(i).or(this.Ww.shru(64-i)),this.Kw()):t.qw(at.ZERO,this.Ww.shl(i-64),this.Kw())},n.vm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shru(i).or(this.Xw.shl(64-i)),this.Xw.shr(i),this.Kw()):t.qw(this.Xw.shr(i-64),this.Xw.isNegative()?at.NEG_ONE:at.ZERO,this.Kw())},n.dm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shru(i).or(this.Xw.shl(64-i)),this.Xw.shru(i),this.Kw()):64===i?t.qw(this.Xw,at.ZERO,this.Kw()):t.qw(this.Xw.shru(i-64),at.ZERO,this.Kw())},n.Lg=function(n){var i=this.Xw.high>>>16,e=65535&this.Xw.high,r=this.Xw.low>>>16,s=65535&this.Xw.low,u=this.Ww.high>>>16,o=65535&this.Ww.high,h=this.Ww.low>>>16,a=65535&this.Ww.low,c=n.Xw.high>>>16,f=65535&n.Xw.high,v=n.Xw.low>>>16,d=65535&n.Xw.low,l=n.Ww.high>>>16,_=65535&n.Ww.high,g=n.Ww.low>>>16,w=0,m=0,y=0,p=0,k=0,b=0,A=0,T=0;A+=(T+=a+(65535&n.Ww.low))>>>16,T&=65535,b+=(A+=h+g)>>>16,A&=65535,k+=(b+=o+_)>>>16,b&=65535,p+=(k+=u+l)>>>16,k&=65535,y+=(p+=s+d)>>>16,p&=65535,m+=(y+=r+v)>>>16,y&=65535,w+=(m+=e+f)>>>16,m&=65535,w+=i+c,w&=65535;var S=this.Kw(),E=at.fromBits(y<<16|p,w<<16|m,S),R=at.fromBits(A<<16|T,k<<16|b,S);return t.qw(R,E,S)},n.Hw=function(t){return this.Lg(t.Fw())},n.Fw=function(){return this.hm().Lg(t.lm)},n._m=function(n){if(this.tm()||n.tm())return this.Kw()?t.Yw:t.jw;if(this.Uw())return n.Uw()?this.Fw()._m(n.Fw()):this.Fw()._m(n).Fw();if(n.Uw())return this._m(n.Fw()).Fw();if(this.Xw.isZero()&&0===this.Ww.high&&n.Xw.isZero()&&0===n.Ww.high)return t.Gw(this.Ww.multiply(n.Ww));var i=at.fromBits(4294967295,0,!0),e=this.Ww.and(i),r=this.Ww.shru(32),s=this.Xw.and(i),u=this.Xw.shru(32),o=n.Ww.and(i),h=n.Ww.shru(32),a=n.Xw.and(i),c=n.Xw.shru(32),f=at.UZERO,v=at.UZERO,d=at.UZERO,l=at.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(r.mul(a)).add(e.mul(c)).and(i);var _=at.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=at.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.qw(_,g,this.Kw())},n.gm=function(n){var i,e,r=n;if(r.tm())throw new RangeError("division by zero");if(this.tm())return this.Kw()?[t.Yw,t.Yw]:[t.jw,t.jw];if(this.Kw()){if(r.Kw()||(r=r.im()),r.um(this))return[t.Yw,this];if(r.um(this.dm(1)))return[e=t.wm,i=this.Hw(r)];e=t.Yw}else{if(this.mw(t.Jw)){if(r.mw(t.lm)||r.mw(t.mm))return[t.Jw,t.jw];if(r.mw(t.Jw))return[t.lm,t.jw];var s=this.vm(1).ym(r).fm(1);return s.mw(t.jw)?e=r.Uw()?t.lm:t.mm:(i=this.Hw(r._m(s)),e=s.Lg(i.ym(r))),[e,i=this.Hw(r._m(e))]}if(r.mw(t.Jw))return this.Kw()?[t.Yw,this]:[t.jw,this];if(this.Uw()){if(r.Uw())return this.Fw().gm(r.Fw());var u=this.Fw().gm(r);return e=u[0],i=u[1],[e.Fw(),i.Fw()]}if(r.Uw()){var o=this.gm(r.Fw());return e=o[0],i=o[1],[e.Fw(),i.Fw()]}e=t.jw}for(i=this;i.om(r);){for(var h=_.max(1,_.floor(i.Nw()/r.Nw())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Qw(h),v=f._m(r);v.Uw()||v.um(i);)h-=c,v=(f=t.Qw(h,this.Kw()))._m(r);f.tm()&&(f=t.lm),e=e.Lg(f),i=i.Hw(v)}return[e,i]},n.ym=function(t){return this.gm(t)[0]},n.pm=function(t){return this.gm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.tm())return"0";if(this.Uw()){if(this.mw(t.Jw)){var e=t.Qw(i),r=this.ym(e),s=r._m(e).Hw(this);return r.toString(i)+s.sm().toString(i)}return"-"+this.Fw().toString(i)}for(var u=t.Qw(_.pow(i,6),this.Kw()),o=this,h="";;){var a=o.ym(u),c=(o.Hw(a._m(u)).sm()>>>0).toString(i);if((o=a).tm())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();My.jw=My.Gw(at.ZERO),My.Yw=My.Gw(at.UZERO),My.lm=My.Gw(at.ONE),My.wm=My.Gw(at.UONE),My.mm=My.Gw(at.NEG_ONE),My.$w=My.qw(at.NEG_ONE,at.MAX_VALUE,!1),My.Zw=My.qw(at.MAX_UNSIGNED_VALUE,at.MAX_UNSIGNED_VALUE,!0),My.Jw=My.qw(at.ZERO,at.MIN_VALUE,!1);var Uy=function(){function t(t,n){void 0===n&&(n=1),this.km=void 0,this.bm=void 0,this.km=t,this.bm=n}t.Am=function(n){return new t(_.ceil(n.km),n.bm)},t.Tm=function(n){return new t(_.floor(n.km),n.bm)},t.Sm=function(t,n){return t.Ow(n)?t:n},t.Em=function(t,n){return t.xw(n)?t:n};var n=t.prototype;return n.Lg=function(n){return this.bm>=n.bm?new t(this.km+n.Rm(this.bm).km,this.bm):new t(this.Rm(n.bm).km+n.km,n.bm)},n.Dw=function(t){return t.Lw(this)},n.Ow=function(t){return t.xw(this)},n.Bw=function(n){return this.bm>=n.bm?new t(_.abs(this.km-n.Rm(this.bm).km),this.bm):n.Bw(this)},n.Pw=function(t,n){return this.Bw(t).xw(n)},n.Cw=function(t){return i=t,(n=this).bm>=i.bm?es(n.km,i.Rm(n.bm).km):es(n.Rm(i.bm).km,i.km);var n,i},n.mw=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.xw=function(t){return this.Cw(t)<=0},n.Rm=function(n){return new t(this.km*(n/this.bm),n)},n.Hw=function(n){return this.bm>=n.bm?new t(this.km-n.Rm(this.bm).km,this.bm):new t(this.Rm(n.bm).km-n.km,n.bm)},n.Im=function(n){return new t(this.km*n,this.bm)},A(t,[{key:"Vw",get:function(){return!isFinite(this.km)}},{key:"Nm",get:function(){return this.km/this.bm}}]),t}();Uy.Dm=new Uy(1/6,1),Uy.jw=new Uy(0),Uy.Cm=new Uy(1/0),Uy.Om=1e6;var Fy=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.bm=void 0,e.qn=n.toSigned(),e.bm=i>>>0,e}S(n,t),n.Pm=function(t,i){return void 0===i&&(i=1e6),n.Qw(t*i,i)},n.Qw=function(t,i){return m(t)?n.xm:t===1/0?n.Bm:t===-1/0?n.Lm:new n(at.fromNumber(t),i)},n.Gw=function(t,i){return new n(t,i)},n.Mm=function(t){return n.Pm(t.Nm,1e6)},n.Um=function(t){return new n(at.fromNumber(t.getTime()),1e3)},n.Sm=function(t,n){return t.Ow(n)?t:n},n.Em=function(t,n){return t.xw(n)?t:n},n.Fm=function(t,i,e){return n.Sm(i,n.Em(e,t))};var i=n.prototype;return i.Uw=function(){return this.qn.isNegative()},i.tm=function(){return 0!==this.bm&&this.qn.isZero()},i.Vw=function(){return 0===this.bm&&!this.qn.isZero()},i.zw=function(){return 0===this.bm&&this.qn.isZero()},i.Nw=function(){if(0===this.bm)return this.qn.isZero()?NaN:this.qn.isNegative()?-1/0:1/0;var t=this.qn.divide(this.bm),n=this.qn.subtract(t.multiply(this.bm));return t.toNumber()+n.toNumber()/this.bm},i.rm=function(){if(0===this.bm)throw new v("Failed to convert timestamp");return this.qn},i.Hm=function(){return new Date(0===this.bm?NaN:this.Rm(1e3).qn.toNumber())},i.zm=function(){return new Uy(0===this.bm?this.Nw():this.qn.toNumber(),this.bm)},i.Rm=function(t,i){void 0===i&&(i=Vy.Vm);var e=this.bm;if(e===t)return this;if(0===e)return this;var r=gt(e,t);return new n(function(t,n,i){var e=t.gm(n),r=e[0],s=e[1];if(s.tm())return r;if(i===Vy.Vm)return s.Uw()?r.Hw(My.lm):r;if(i===Vy.Wm)return s.Uw()?r:r.Lg(My.lm);var u=s._m(My.Qw(2));return u.Uw()?u.Fw().Lw(n)?r:r.Hw(My.lm):u.Lw(n)?r:r.Lg(My.lm)}(My.Gw(this.qn)._m(My.Qw(t/r)),My.Qw(e/r),i).rm(),t)},i.Cw=function(t){if(this===t)return Yr.gr;if(0===this.bm||0===t.bm)return Ly(this,t);if(this.tm())return t.tm()?Yr.gr:t.Uw()?Yr.wr:Yr.mr;if(t.tm())return this.Uw()?Yr.mr:Yr.wr;var n=_.min(this.bm,t.bm),i=this.Rm(n,Vy.Xm).qn,e=t.Rm(n,Vy.Xm).qn;return i.compare(e)},i.Fw=function(){return 0===this.bm?Hy(this):new n(this.qn.negate(),this.bm)},i.Lg=function(t){if(0===this.bm||0===t.bm)return zy(this,t);if(this.tm())return t;if(t.tm())return this;var i=_.max(this.bm,t.bm),e=this.Rm(i,Vy.Xm),r=t.Rm(i,Vy.Xm);return new n(e.qn.add(r.qn),i)},i._m=function(t){if(this.zw()||m(t))return n.xm;if(this.Vw()||!isFinite(t)){if(this.tm()||0===t)return n.xm;var i=this.Uw()?n.Lm:n.Bm;return t<0?i.Fw():i}return this.tm()?this:new n(0===t?at.ZERO:this.qn.multiply(t),this.bm)},i.ym=function(t){if(this.zw()||m(t))return n.xm;if(this.Vw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.xm;if(!isFinite(t))return new n(at.ZERO,this.bm);if(this.tm())return 0===t?n.xm:new n(at.ZERO,this.bm);if(0===t){var i=this.Uw()?n.Lm:n.Bm;return 1/t<0?i.Fw():i}return new n(this.qn.divide(t),this.bm)},i.qm=function(){return[this.qn.low,this.qn.high,this.bm]},n}(By);function Hy(t){return t.zw()?t:t.Uw()?Fy.Bm:Fy.Lm}function zy(t,n){return t.zw()||n.zw()?Fy.xm:t.Vw()&&n.Vw()?t.Uw()===n.Uw()?t:Fy.xm:t.Vw()?t:n}Fy.jw=new Fy(at.ZERO,1e6),Fy.xm=new Fy(at.ZERO,0),Fy.Bm=new Fy(at.ONE,0),Fy.Lm=new Fy(at.NEG_ONE,0);var Vy,Wy=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.bm=void 0,e.qn=BigInt.asIntN(64,n),e.bm=i>>>0,e}S(n,t),n.Pm=function(t,i){return void 0===i&&(i=1e6),n.Qw(t*i,i)},n.Qw=function(t,i){return m(t)?n.xm:t===1/0?n.Bm:t===-1/0?n.Lm:new n(BigInt(_.floor(t)),i)},n.Gw=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Mm=function(t){return n.Pm(t.Nm,1e6)},n.Um=function(t){return n.Qw(t.getTime(),1e3)},n.Sm=function(t,n){return t.Ow(n)?t:n},n.Em=function(t,n){return t.xw(n)?t:n},n.Fm=function(t,i,e){return n.Sm(i,n.Em(e,t))};var i=n.prototype;return i.Uw=function(){return this.qn<BigInt(0)},i.tm=function(){return 0!==this.bm&&this.qn===BigInt(0)},i.Vw=function(){return 0===this.bm&&this.qn!==BigInt(0)},i.zw=function(){return 0===this.bm&&this.qn===BigInt(0)},i.Nw=function(){if(0===this.bm)return this.qn===BigInt(0)?NaN:this.qn<BigInt(0)?-1/0:1/0;var t=this.qn/BigInt(this.bm),n=this.qn-t*BigInt(this.bm);return Number(t)+Number(n)/this.bm},i.rm=function(){if(0===this.bm)throw new v("Failed to convert timestamp");return this.Gm()},i.Gm=function(){var t=this.qn&BigInt(4294967295),n=this.qn>>BigInt(32)&BigInt(4294967295);return at.fromBits(Number(t),Number(n))},i.Hm=function(){return new Date(0===this.bm?NaN:Number(this.Rm(1e3).qn))},i.zm=function(){return new Uy(0===this.bm?this.Nw():Number(this.qn),this.bm)},i.Rm=function(t,i){void 0===i&&(i=Vy.Vm);var e=this.bm;if(e===t)return this;if(0===e)return this;var r=gt(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===Vy.Vm)return r<BigInt(0)?e-BigInt(1):e;if(i===Vy.Wm)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.qn*BigInt(t/r),BigInt(e/r),i),t)},i.Cw=function(t){if(this===t)return Yr.gr;if(0===this.bm||0===t.bm)return Ly(this,t);if(this.tm())return t.tm()?Yr.gr:t.Uw()?Yr.wr:Yr.mr;if(t.tm())return this.Uw()?Yr.mr:Yr.wr;var n=_.min(this.bm,t.bm),i=this.Rm(n,Vy.Xm).qn,e=t.Rm(n,Vy.Xm).qn;return i>e?Yr.wr:i<e?Yr.mr:Yr.gr},i.Fw=function(){return 0===this.bm?Xy(this):new n(-this.qn,this.bm)},i.Lg=function(t){if(0===this.bm||0===t.bm)return qy(this,t);if(this.tm())return t;if(t.tm())return this;var i=_.max(this.bm,t.bm),e=this.Rm(i,Vy.Xm),r=t.Rm(i,Vy.Xm);return new n(e.qn+r.qn,i)},i._m=function(t){if(this.zw()||m(t))return n.xm;if(this.Vw()||!isFinite(t)){if(this.tm()||0===t)return n.xm;var i=this.Uw()?n.Lm:n.Bm;return t<0?i.Fw():i}return this.tm()?this:new n(0===t?BigInt(0):this.qn*BigInt(t),this.bm)},i.ym=function(t){if(this.zw()||m(t))return n.xm;if(this.Vw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.xm;if(!isFinite(t))return new n(BigInt(0),this.bm);if(this.tm())return 0===t?n.xm:new n(BigInt(0),this.bm);if(0===t){var i=this.Uw()?n.Lm:n.Bm;return 1/t<0?i.Fw():i}return new n(this.qn/BigInt(t),this.bm)},i.qm=function(){var t=this.Gm();return[t.low,t.high,this.bm]},A(n,null,[{key:"jw",get:function(){return n.Qm||(n.Qm=new n(BigInt(0),1e6)),n.Qm}},{key:"xm",get:function(){return n.Ym||(n.Ym=new n(BigInt(0),0)),n.Ym}},{key:"Bm",get:function(){return n.jm||(n.jm=new n(BigInt(1),0)),n.jm}},{key:"Lm",get:function(){return n.Zm||(n.Zm=new n(BigInt(-1),0)),n.Zm}}]),n}(By);function Xy(t){return t.zw()?t:t.Uw()?Wy.Bm:Wy.Lm}function qy(t,n){return t.zw()||n.zw()?Wy.xm:t.Vw()&&n.Vw()?t.Uw()===n.Uw()?t:Wy.xm:t.Vw()?t:n}Wy.Qm=void 0,Wy.Ym=void 0,Wy.jm=void 0,Wy.Zm=void 0,function(t){t[t.Vm=0]="Vm",t[t.Wm=1]="Wm",t[t.Xm=2]="Xm"}(Vy||(Vy={}));var Gy=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Wy:Fy;function Qy(t,n){return t.Cw(n)}function Yy(t){return Gy.Gw(at.fromBits(t[0],t[1],!1),t[2])}var jy=9e4,Zy=_.pow(2,33),Jy=Gy.Qw(Zy,jy),$y=Jy.ym(2);function Ky(t){return null!=t&&!t.zw()}function tp(t,n){return t.Vw()||n.Vw()?Gy.Sm(t,n):ep(t,n).Dw(Gy.jw)?t:n}function np(t,n){var i=t.Hw(n);return i.Lw(Gy.jw)&&(i=i.Lg(Jy)),i}function ip(t,n){var i=t.Lg(n);return i.Ow(Jy)&&(i=i.Hw(Jy)),i}function ep(t,n){var i=t.Hw(n);return t.Vw()||n.Vw()?i:(i.Ow($y)?i=i.Hw(Jy):i.Lw($y.Fw())&&(i=i.Lg(Jy)),i)}function rp(t,n){if(t||n)return t?n?Gy.Em(t,n):t:n}function sp(t,n){if(t||n)return t?n?Gy.Sm(t,n):t:n}var up,op,hp,ap,cp={Jm:0,$m:1/0,Km:0},fp=6,vp=["WEBVTT ","WEBVTT\t","WEBVTT\n"],dp=[" ","\t","\n","\f","\r"],lp=/^\d*$/,_p=/.*[0-9]+.*/,gp=/^[\d.-]+$/,wp=/(^\.|\.$)/,mp=/(\D\.|\.\D)/;function yp(t,n){void 0===n&&(n=cp);var i={Cl:[],ty:[],ny:[]},e=pp(t),r=new Ku;if(Dp(e),kp(e,function(t){return"\n"!==t},r),r.ks>=e.length)return i;(r.gs(1),"\n"!==e.charAt(r.ks))?Sp(bp(e,r,!1,!0,i,n),i):r.gs(1);for(kp(e,function(t){return"\n"===t},r);r.ks<e.length;){Sp(bp(e,r,!1,!1,i,n),i),kp(e,function(t){return"\n"===t},r)}return i}function pp(t){var n=xr(t,"\0"," "),i=xr(n,"\r\n","\n");return xr(i,"\r","\n")}function kp(t,n,i){for(var e=i.ks;i.ks<t.length&&n(t.charAt(i.ks));)i.gs(1);return t.substring(e,i.ks)}function bp(t,n,e,r,s,u){for(var o,h=0,a=n.ks,c="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=kp(t,function(t){return"\n"!==t},n),h++,n.ks>=t.length?f=!0:n.gs(1),Br(o,"--\x3e")){if(r||1!==h&&(2!==h||v)){n.ys(a);break}v=!0,a=n.ks,d=new Iy(0,0,"",!1,c);try{Ep(o,s.ty,d,u),c=""}catch(t){i.me(t),d=null}}else{if(""===o)break;r&&Lr(o,"X-TIMESTAMP-MAP")&&(s.iy=Ap(o)),r||2!==h||e||(Ur("STYLE",c.replace(/ /g,""))?(l={nr:ay.Yg},c=""):Ur("REGION",c.replace(/ /g,""))&&(_=new xy("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.ks}if(d)return d.iw=c,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&Br(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":zp(o,n);break;case"WIDTH":Xp(o,n);break;case"LINES":Wp(o,n);break;case"REGIONANCHOR":var h=Hp(o);h&&(n.bw=h[0],n.Aw=h[1]);break;case"VIEWPORTANCHOR":var a=Hp(o);a&&(n.Sw=a[0],n.Ew=a[1]);break;case"SCROLL":Vp(o,n)}}}}(c,_),_;return null}function Ap(t){var n,i,e=t.split("=")[1].trim().split(","),r=Tp(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Tp(e[0].trim(),"LOCAL")?e[0]:e[1];return{ey:(i=Number(r.split(/:(.*)/)[1].trim())||0,Gy.Qw(i,jy)),sy:Gy.Pm(null!=(n=Np(s.split(/:(.*)/)[1].trim(),new Ku))?n:0)}}function Tp(t,n){return Lr(t,n)}function Sp(t,n){t&&function(t){return t.nr===ay.Gg}(t)?n.Cl.push(t):t&&function(t){return t.nr===ay.Qg}(t)?n.ty.push(t):t&&function(t){return t.nr===ay.Yg}(t)&&n.ny.push(t)}function Ep(t,n,i,e){var r=new Ku;if(Cp(t,r),i.tw=Rp(Np(t,r),e),Cp(t,r),"--\x3e"!==t.substring(r.ks,r.ks+3))throw v("Something went wrong with parsing a WebVTT Cue");r.gs(3),Cp(t,r),i.nw=Rp(Np(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&Br(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":Lp(h,n,i);break;case"VERTICAL":Up(h,n);break;case"D":Fp(h,n);break;case"LINE":case"L":xp(h,n);break;case"POSITION":case"T":Bp(h,n);break;case"SIZE":case"S":Mp(h,n);break;case"ALIGN":case"A":Pp(h,n)}}}}(t.substring(r.ks,t.length),i,n)}function Rp(t,n){return t+n.Jm}function Ip(t){return/^[0-9]$/.test(t)}function Np(t,n){var i,e,r,s=xr(t,",","."),u=!1;if(n.ks>=s.length||!Ip(s.charAt(n.ks)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=kp(s,Ip,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n.ks>=s.length||":"!==s.charAt(n.ks))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var a=kp(s,Ip,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(a,10);if(u||n.ks<s.length&&":"===s.charAt(n.ks)){if(n.ks>=s.length||":"!==s.charAt(n.ks))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var f=kp(s,Ip,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,e=c,r=g(f,10)}else i=0,e=h,r=c;if(n.ks>=s.length||"."!==s.charAt(n.ks))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var d=kp(s,Ip,n),l=g(d,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function Dp(t){if(t.length<fp)return!1;for(var n=0;n<vp.length;n++){if(Lr(t,vp[n]))return!0}return!1}function Cp(t,n){for(;n.ks<t.length&&(i=t.charAt(n.ks),hs(dp,i));)n.gs(1);var i}function Op(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function Pp(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.ew=i;break;case"middle":n.ew="center"}}function xp(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),_p.test(i)){var s,u;if(Mr(i,"%")){var o=Op(i);if(null===o)return;s=o,u=!1}else{if(!gp.test(i)||i.lastIndexOf("-")>0)return;var h=i.indexOf(".");if(h>=0&&(h!==i.lastIndexOf(".")||!mp.test(i)||wp.test(i)))return;if(s=w(i),m(s))return;u=!0}switch(n.rw=s,n.aw=u,e=e.toLowerCase()){case"start":case"center":case"end":n.sw=e;break;case"middle":n.sw="center"}}}function Bp(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=Op(i);if(null!==s)switch(n.uw=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.ow=e;break;case"start":n.ow="line-left";break;case"middle":n.ow="center";break;case"end":n.ow="line-right"}}function Lp(t,n,i){var e,r,s,u=-1===(s=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n._l===t},r))?void 0:e[s];void 0!==u&&(n.hw=u)}function Mp(t,n){var i=Op(t);null!==i&&(n.ls=i)}function Up(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.cw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.cw="lr";break;default:n.cw=""}}function Fp(t,n){"VERTICAL"===t.toUpperCase()?n.cw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.cw="lr")}function Hp(t){if(t.indexOf(",")>=0){var n=Op(t.substring(0,t.indexOf(","))),i=Op(t.substring(t.indexOf(",")+1,t.length));return[ft(n||0,0,100),ft(i||100,0,100)]}return null}function zp(t,n){n._l=t}function Vp(t,n){"up"===t.toLowerCase()&&(n.Tw="up")}function Wp(t,n){lp.test(t)&&(n.kw=g(t))}function Xp(t,n){var i=Op(t);null!==i&&(n.Rw=i)}!function(t){t.uy="moov",t.oy="mvhd",t.hy="trak",t.ay="tkhd",t.vy="mdia",t.ly="mdhd",t._y="hdlr",t.gy="minf",t.wy="stbl",t.my="stsd",t.yy="stsc",t.py="mvex",t.ky="trex",t.by="avc1",t.Ay="avcC",t.Ty="hev1",t.Sy="hvc1",t.Ey="hvcC",t.Ry="pasp",t.Iy="mp4a",t.Ny="esds",t.Dy="wvtt",t.Cy="vttC",t.Oy="vlab",t.Py="enca",t.xy="encv",t.By="moof",t.Ly="mfhd",t.My="traf",t.Uy="tfhd",t.Fy="trun",t.Hy="tfdt",t.zy="senc",t.Vy="mdat",t.Wy="pssh",t.Xy="emsg",t.qy="sidx",t.Gy="styp",t.Qy="ftyp",t.Yy="sinf",t.jy="frma"}(up||(up={})),function(t){t.$f="vide",t.Jf="soun",t.Zy="subt",t.Jy="hint",t.$y="meta",t.Ky="auxv"}(op||(op={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(hp||(hp={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(ap||(ap={}));var qp=function(){function t(t,n){this.ai=void 0,this.tp=void 0,this.ai=t,this.tp=n}var n=t.prototype;return n.np=function(){return gu(this.ai,this.tp)},n.ip=function(){return bu(this.ai,this.tp)},n.ep=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.ks,i);return n.gs(2),e}(this.ai,this.tp)},n.rp=function(){return Tu(this.ai,this.tp)},n.sp=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.ks,i);return n.gs(4),e}(this.ai,this.tp)},n.op=function(){return Eu(this.ai,this.tp)},n.hp=function(t){return mu(this.ai,this.tp,t)},n.ap=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(Tu(t,n));return e}(this.ai,this.tp,t)},n.cp=function(t){return Nu(this.ai,this.tp,t)},n.fp=function(){return Vu(this.ai,this.tp)},n.vp=function(t){this.tp.gs(t)},n.ps=function(){return new t(this.ai,this.tp.ps())},t}();function Gp(t,n){return t.nr===n}function Qp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(Gp(e,n))return e}}function Yp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];Gp(r,n)&&i.push(r)}return i}var jp=function(t){function n(n,i){var e;return(e=t.call(this)||this).dp=n,e.lp=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Et),Zp=function(){function t(){}return t._p=function(n){var i=n.ai,e=n.tp,r=t.gp(i,e,!1);if(!r.wp)throw new jp(e.ks,r.ti);return r.ti},t.gp=function(n,i,e){for(var r=[];i.ks<n.byteLength;){var s=t.mp(n,i,e);if(!s.wp)return{wp:!1,ti:r};r.push(s.yp)}return{wp:!0,ti:r}},t.pp=function(n,i){var e=t.mp(n,i,!1);if(!e.wp)throw new jp(i.ks);return e.yp},t.kp=function(n,i){for(var e=n.ai,r=n.tp;r.ks<e.byteLength;){var s=t.mp(e,r,!1);if(!s.wp)return;if(s.yp.nr===i)return s.yp}},t.mp=function(n,i,e){var r=i.ks,s=t.bp(n,i);if(!s.wp)return s;var u=s.Ap,o=u.ls;if(0===o){if(e)return i.ys(r),{wp:!1,Tp:1/0};o=n.byteLength-r}var h=r+o;if(h>n.byteLength){var a=h;return i.ys(r),{wp:!1,Tp:a}}var c={nr:u.nr,ks:r,ai:new qp(Gu(n,r,h),new Ku(u.Sp))};return i.ys(h),{wp:!0,yp:c}},t.bp=function(t,n){var i=n.ks;if(!pu(t,n,8))return{wp:!1,Tp:n.ks+8};var e=Tu(t,n),r=Nu(t,n,4);if(1===e){if(!pu(t,n,8)){var s=n.ks+8;return n.ys(i),{wp:!1,Tp:s}}e=Eu(t,n).toNumber()}if("uuid"===r){if(!pu(t,n,16)){var u=n.ks+16;return n.ys(i),{wp:!1,Tp:u}}r=Nu(t,n,16)}return{wp:!0,Ap:{nr:r,ls:e,Sp:n.ks-i}}},t.Ep=function(t,n,i){var e=t.ai,r=t.tp,s=qu(Yu(e),r.ks,e.byteLength);return i&&(s=$u(s)),r.gs(s.byteLength),{nr:n,ai:s}},t.Rp=function(n,i,e){var r=tk(n.rp());return{nr:i,Ip:r.version,Np:r.flags,ai:t.Ep(n,i,e).ai}},t}();function Jp(t,n){var i=$p(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function $p(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.nr===n)return e.ai}}function Kp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.nr===n&&i.push(r.ai)}return i}function tk(t){return{version:t>>24,flags:new du(16777215&t)}}var nk=function(){function t(){}return t.Dp=function(n){for(var i=[],e=Zp._p(new qp(n,new Ku)),r=0;r<e.length;r++){var s=e[r],u=t.Cp(s);u&&i.push(u)}return i},t.Op=function(t){return Zp.gp(t,new Ku,!1).ti.some(this.Pp)},t.xp=function(n){return Kp(Zp._p(new qp(n,new Ku)),up.Wy).map(t.Bp)},t.Lp=function(n){return Kp(Zp._p(n.ai),up.Wy).map(t.Bp)},t.Pp=function(t){return t.nr===up.Qy||t.nr===up.Gy||t.nr===up.uy||t.nr===up.By||t.nr===up.Vy||t.nr===up.qy||t.nr===up.Xy},t.Cp=function(n){switch(n.nr){case up.uy:return t.Mp(n.ai);case up.By:return t.Up(n.ai,n.ks);case up.Vy:return t.Fp(n.ai);case up.qy:return t.Hp(n.ai);case up.Xy:return t.zp(n.ai)}},t.Mp=function(n){var i=Zp._p(n),e=Jp(i,up.oy),r=Kp(i,up.hy),s=$p(i,up.py),u=t.Vp(e),o=r.map(t.Wp),h=s?t.Xp(s):void 0;return{nr:up.uy,Ap:u,qp:o,Gp:h}},t.Vp=function(t){var n=tk(t.rp()),i=n.version,e=n.flags,r=1===i?t.op():t.rp(),s=1===i?t.op():t.rp(),u=t.rp(),o=1===i?t.op():t.rp(),h=t.rp(),a=t.ip()>>8;t.vp(2),t.vp(8);var c=t.ap(9);t.vp(24);var f=t.rp();return{nr:up.oy,Ip:i,Np:e,Qp:r,Yp:s,bm:u,d_:o,jp:h,b_:a,Zp:c,Jp:f}},t.Wp=function(n){var i=Zp._p(n),e=Jp(i,up.ay),r=Jp(i,up.vy),s=t.$p(e),u=t.Kp(r);return{nr:up.hy,Ap:s,tk:u}},t.$p=function(t){var n=tk(t.rp()),i=n.version,e=n.flags,r=1===i?t.op():t.rp(),s=1===i?t.op():t.rp(),u=t.rp();t.vp(4);var o=1===i?t.op():t.rp();t.vp(8);var h=t.ep(),a=t.ep(),c=t.ep()/_.pow(2,8);t.vp(2);var f=t.ap(9),v=t.rp()/_.pow(2,16),d=t.rp()/_.pow(2,16);return{nr:up.ay,nk:e.As(1),ik:e.As(2),ek:e.As(4),Qp:r,Yp:s,rk:u,d_:o,sk:h,uk:a,b_:c,Zp:f,Rw:v,hk:d}},t.Kp=function(n){var i=Zp._p(n),e=Jp(i,up.ly),r=Jp(i,up._y),s=Jp(i,up.gy),u=t.ak(e),o=t.ck(r),h=t.fk(s);return{nr:up.vy,Ap:u,vk:o,dk:h}},t.ak=function(t){var n=tk(t.rp()),i=n.version,e=n.flags,r=1===i?t.op():t.rp(),s=1===i?t.op():t.rp(),u=t.rp(),o=1===i?t.op():t.rp();t.ip();return t.vp(2),{nr:up.ly,Ip:i,Np:e,Qp:r,Yp:s,bm:u,d_:o}},t.ck=function(t){var n=tk(t.rp()),i=n.version,e=n.flags;t.vp(4);var r=t.cp(4);t.vp(12);var s=t.fp();return{nr:up._y,Ip:i,Np:e,lk:r,Vn:s}},t.fk=function(n){var i=Jp(Zp._p(n),up.wy),e=t._k(i);return{nr:up.gy,gk:e}},t._k=function(n){var i=Jp(Zp._p(n),up.my),e=t.wk(i);return{nr:up.wy,mk:e}},t.wk=function(n){for(var i=tk(n.rp()),e=i.version,r=i.flags,s=(n.rp(),[]),u=Zp._p(n),o=0;o<u.length;o++){var h=u[o],a=t.yk(h.ai,h.nr);a&&s.push(a)}return{nr:up.my,Ip:e,Np:r,pk:s}},t.yk=function(n,i){var e=t.kk(n,i);return e||((e=t.bk(n,i))||(i===up.Dy?t.Ak(n):void 0))},t.kk=function(n,i){return i===up.Iy?t.Tk(n):i===up.Py?t.Sk(n):void 0},t.bk=function(n,i){return i===up.by?t.Ek(n):i===up.Ty||i===up.Sy?t.Rk(n,i):i===up.xy?t.Ik(n):void 0},t.Nk=function(t,n){return t.vp(6),{nr:n,Dk:t.ip()}},t.Ck=function(n,i){var e=t.Nk(n,i);n.vp(8);var r=n.ip(),s=n.ip();return n.vp(2),n.vp(2),ir({},e,{Ok:r,Pk:s,xk:n.rp()>>>16})},t.Bk=function(n,i){var e=t.Nk(n,i);n.vp(2),n.vp(2),n.vp(12);var r=n.ip(),s=n.ip(),u=n.rp(),o=n.rp();n.vp(4);var h=n.ip();n.vp(32);var a=n.ip();return n.vp(2),ir({},e,{Rw:r,hk:s,Lk:u,Mk:o,Uk:h,Fk:a})},t.Tk=function(n){var i=t.Ck(n,up.Iy),e=Jp(Zp._p(n),up.Ny);return ir({},i,{Hk:t.zk(e)})},t.Ak=function(n){var i=t.Nk(n,up.Dy),e=Zp._p(n),r=Jp(e,up.Cy),s=t.Vk(r),u=$p(e,up.Oy);return ir({},i,{Wk:s,Xk:u?t.qk(u):u})},t.Vk=function(t){return{nr:up.Cy,rh:t.fp()}},t.qk=function(t){return{nr:up.Oy,ml:t.fp()}},t.zk=function(t){return Zp.Rp(t,up.Ny,!0)},t.Ek=function(n){var i=t.Bk(n,up.by),e=Zp._p(n),r=Jp(e,up.Ay),s=$p(e,up.Ry);return ir({},i,{Gk:t.Qk(r),Yk:s?t.jk(s):void 0})},t.Rk=function(n,i){var e=t.Bk(n,i),r=Jp(Zp._p(n),up.Ey);return ir({},e,{Zk:t.Jk(r)})},t.Ik=function(n){var i=n.ps(),e=t.Bk(n,up.xy),r=Jp(Zp._p(n),up.Yy),s=t.$k(r);return ir({},e,{Kk:t.bk(i,s.ib.nb),eb:s})},t.Sk=function(n){var i=n.ps(),e=t.Ck(n,up.Py),r=Jp(Zp._p(n),up.Yy),s=t.$k(r);return ir({},e,{Kk:t.kk(i,s.ib.nb),eb:s})},t.$k=function(n){var i=Jp(Zp._p(n),up.jy),e=t.sb(i);return{nr:up.Yy,ib:e}},t.sb=function(t){var n=t.cp(4);return{nr:up.jy,nb:n}},t.Qk=function(t){return Zp.Ep(t,up.Ay,!0)},t.Jk=function(t){return Zp.Ep(t,up.Ey,!0)},t.jk=function(t){var n=t.rp(),i=t.rp();return{nr:up.Ry,ub:n,ob:i}},t.Xp=function(n){var i=Kp(Zp._p(n),up.ky).map(t.hb);return{nr:up.py,qp:i}},t.hb=function(t){var n=tk(t.rp()),i=n.version,e=n.flags,r=t.rp(),s=t.rp(),u=t.rp(),o=t.rp(),h=t.rp();return{nr:up.ky,Ip:i,Np:e,rk:r,ab:s,cb:u,fb:o,vb:h}},t.Up=function(n,i){var e=Zp._p(n),r=Jp(e,up.Ly),s=Kp(e,up.My),u=t.lb(r),o=s.map(t._b);return{nr:up.By,gb:i,Ap:u,qp:o}},t.lb=function(t){var n=tk(t.rp()),i=n.version,e=n.flags,r=t.rp();return{nr:up.Ly,Ip:i,Np:e,wb:r}},t._b=function(n){var i=Zp._p(n),e=Jp(i,up.Uy),r=Kp(i,up.Fy),s=$p(i,up.Hy),u=t.mb(e),o=r.map(function(n){return t.yb(n,u)}),h=s?t.pb(s):void 0;return{nr:up.My,Ap:u,kb:o,bb:h}},t.mb=function(t){var n=tk(t.rp()),i=n.version,e=n.flags,r=t.rp(),s=e.As(hp.BASE_DATA_OFFSET_PRESENT)?t.op():void 0,u=e.As(hp.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.rp():void 0,o=e.As(hp.DEFAULT_SAMPLE_DURATION_PRESENT)?t.rp():void 0,h=e.As(hp.DEFAULT_SAMPLE_SIZE_PRESENT)?t.rp():void 0,a=e.As(hp.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.rp():void 0;return{nr:up.Uy,Ip:i,Np:e,rk:r,Ab:s,Tb:u,cb:o,fb:h,vb:a}},t.yb=function(n,i){for(var e=tk(n.rp()),r=e.version,s=e.flags,u=n.rp(),o=s.As(ap.DATA_OFFSET_PRESENT)?n.sp():void 0,h=s.As(ap.FIRST_SAMPLE_FLAGS_PRESENT)?n.rp():void 0,a=[],c=0;c<u;c++){var f=t.Sb(n,s,r,i);0===c&&void 0!==h&&(f.Np=h),a.push(f)}return{nr:up.Fy,Ip:r,Np:s,Eb:u,gb:o,Rb:h,Ib:a}},t.Sb=function(t,n,i,e){return{d_:n.As(ap.SAMPLE_DURATION_PRESENT)?t.rp():e.cb,ls:n.As(ap.SAMPLE_SIZE_PRESENT)?t.rp():e.fb,Np:n.As(ap.SAMPLE_FLAGS_PRESENT)?t.rp():e.vb,Nb:n.As(ap.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.rp():t.sp():void 0}},t.zp=function(t){var n=t.ai,i=t.tp,e=tk(Tu(n,i)),r=e.version,s=e.flags;if(1===r){var u=Tu(n,i),o=Eu(n,i),h=Tu(n,i),a=Tu(n,i),c=Iu(n,i),f=Iu(n,i),v=Ju(Yu(n),i.ks,n.byteLength);return i.gs(v.byteLength),{nr:up.Xy,Ip:r,Np:s,Db:c,qn:f,bm:u,Cb:o,Ob:h,_l:a,Pb:v}}var d=Iu(n,i),l=Iu(n,i),_=Tu(n,i),g=Tu(n,i),w=Tu(n,i),m=Tu(n,i),y=Ju(Yu(n),i.ks,n.byteLength);return i.gs(y.byteLength),{nr:up.Xy,Np:s,Ip:r,Db:d,qn:l,bm:_,xb:g,Ob:w,_l:m,Pb:y}},t.Fp=function(t){return Zp.Ep(t,up.Vy,!1)},t.Bp=function(n){var i=n.ai,e=n.tp,r=$u(Yu(i)).buffer,s=tk(Tu(i,e)),u=s.version,o=s.flags,h=t.Bb(i,e),a=[];if(u>0)for(var c=Tu(i,e),f=0;f<c;f++){var v=mu(i,e,16);a.push(v)}var d=Tu(i,e),l=new y(r,e.ks,d);return e.gs(i.byteLength),{nr:up.Wy,Ip:u,Np:o,Lb:h,Mb:a,Ub:d,ai:l,Fb:r}},t.Bb=function(t,n){for(var i="",e=0;e<4;e++){var r=gu(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=gu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=gu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=gu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=gu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Hp=function(t){var n,i,e=t.ai,r=t.tp,s=tk(Tu(e,r)),u=s.version,o=s.flags,h=Tu(e,r),a=Tu(e,r);0===u?(n=at.fromBits(Tu(e,r),0,!0),i=at.fromBits(Tu(e,r),0,!0)):(n=Eu(e,r),i=Eu(e,r)),r.gs(2);for(var c=bu(e,r),f=[],v=0;v<c;v+=1){var d=Tu(e,r),l=d>>31&1,_=2147483647&d,g=Tu(e,r),w=Tu(e,r),m=w>>31&1,y=w>>28&7,p=268435455&w;f.push({Hb:l,zb:_,d_:g,Vb:m,Wb:y,Xb:p})}return{nr:up.qy,Ip:u,Np:o,qb:h,bm:a,Gb:n,Qb:i,Yb:c,jb:f}},t.pb=function(t){var n,i=t.ai,e=t.tp,r=tk(Tu(i,e)),s=r.version,u=r.flags;return n=0===s?at.fromBits(Tu(i,e),0,!0):Eu(i,e),{nr:up.Hy,Ip:s,Np:u,bb:n}},t}();function ik(t){return t&&"Kn"in t?t.Kn:t}var ek=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i,e,r)||this).Zb=void 0,h.Jb=void 0,h.$b=void 0,h.Zb=s,h.Jb=u,h.$b=o||void 0,h}return S(n,t),n.prototype.mw=function(n){return this===n||!!rw(this,n)&&(!!t.prototype.mw.call(this,n)&&(!!ew(this.Kb,n.Kb)&&(!!ew(this.ty,n.ty)&&(this.tA&&n.tA?!!this.tA.Fn(n.tA)&&(this.iw&&n.iw?this.iw.Fn(n.iw):this.iw===n.iw):this.tA===n.tA))))},A(n,[{key:"Kb",get:function(){return this.Zb}},{key:"ty",get:function(){return this.Jb}},{key:"tA",get:function(){return this.$b}},{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=nw(yy(t=this),{get styles(){return t.Kb},get regions(){return t.ty},get metadata(){return ik(t.tA)},get content(){return ik(t.iw)}})),this.Sd}}]),n}(Ey),rk=function(){function t(t,n,i){this.wc=void 0,this.nA=void 0,this.iA=void 0,this.nA=t,this.iA=n,bt(i)?this.wc=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.ei(s)}return i}(0,0,i):this.wc=i}return A(t,[{key:"eA",get:function(){return this.wc.Hn(!0)}},{key:"tw",get:function(){return this.nA}},{key:"nw",get:function(){return this.iA}}]),t}();var sk="http://www.w3.org/XML/1998/namespace";function uk(t,n,i,e){var r=t.Jn(i,n);return 0===r.length&&(r=t.Yn(e+":"+n)),r}function ok(t,n){return function(t,n){var i=t.ti.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.ti)}return e}(t,function(t){return t.Zn===n})}function hk(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function ak(t,n){for(var i=t.oi,e={},r=0;r<i.length;r++)e[hk(i[r].Vn,n)]=i[r].qn;return e}var ck=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,fk=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,vk="http://www.w3.org/ns/ttml";function dk(t,n,e){return void 0===e&&(e=cp),function(t,n,e){var r,s=[];try{r=i.Mn(t)}catch(t){return s}var u=r.ci;if("tt"!==u.zn)return s;var o=u&&u.Jn(vk,"head")[0],h=u&&u.Jn(vk,"body")[0],a=["ebutts","tts","xml"];if(!h||!o)return s;for(var c=function(t,n){for(var i={},e=t.Jn(vk,"styling")[0],r=e&&e.Jn(vk,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii(sk,"id");i[o]=ak(u,n)}return i}(o,a),f=function(t,n){var i=iw(t),e=wk(n.ni("tts:extent"));if(!e)return i;for(var r=0,s=l.keys(i);r<s.length;r++){var u=s[r],o=wk(i[u].extent);if(o){var h=_k(o[0],e[0]),a=_k(o[1],e[1]);i[u].extent=h+" "+a}var c=wk(i[u].origin);if(c){var f=_k(c[0],e[0]),v=_k(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Jn(vk,"layout")[0],r=e&&e.Jn(vk,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii(sk,"id");if(o){i[o]=ak(u,n);var h=pk(u,n);for(var a in h)M.call(h,a)&&(i[o][a]=h[a])}}return i}(o,a),u),v=o.Jn(vk,"metadata")[0],d=function t(n,i,e,r){var s=i;var u;var o=e;var h=[];var a=[];if(bt(n)){var c,f;s=null!=(c=yk(n.ni("begin"),r))?c:s,u=yk(n.ni("dur"),0),o=null!=(f=yk(n.ni("end"),r))?f:void 0!==u?s+u:o;for(var v=n.jn,d=0;d<v.length;d++)("body"===n.zn||"div"===n.zn)&&v[d].Cn>1||(h=h.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.tw,s.nw)}e.sort(ns);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(os(e,o+1),o--,u=e.length);return e}(s,o,h);for(var _=0;_<l.length-1;_++){var g=mk(l[_],l[_+1],h);if(g.length<=0&&kk(n)){var w=n.Hn(!1);a.push(new rk(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.Hn(!1);g.forEach(function(n){return t.$n(n.eA)}),a.push(new rk(l[_],l[_+1],t))}()}return a}(h,e.Jm,e.$m,e.Km),_=0;_<d.length;_++){var g=d[_],w=lk(f,g);s.push(new ek(g.tw,g.nw,g.eA,!1,c,w,v))}return s}(t,0,e)}function lk(t,n){for(var i=function t(n){var i=[];var e;if(bt(n)){(e=n.ni("region"))&&i.push(e);for(var r=n.jn,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.eA),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function _k(t,n){var i=gk(t),e=gk(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function gk(t){return Mr(t,"px")?"px":Mr(t,"em")?"em":Mr(t,"c")?"c":Mr(t,"%")?"%":void 0}function wk(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function mk(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].tw,u=i[r].nw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function yk(t,n){if(t){if(ck.test(t)){var i=ck.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*_.pow(.1,u.length):0)+n}if(fk.test(t)){var o=fk.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h+n}}}function pk(t,n){for(var i={},e=t.Yn("style")||[],r=0;r<e.length;r++){var s=ak(e[r],n);for(var u in s)M.call(s,u)&&(i[u]=s[u])}return i}function kk(t){if(bt(t)){var n=t.zn.toUpperCase(),i=Boolean(t.ni("smpte:backgroundImage"));return"BR"===n||i}return t.Cn===yt.Pn}function bk(t){var n=function(t){try{return i.Mn(t).ci}catch(t){}}(t);return"tt"===(null==n?void 0:n.zn)}var Ak,Tk=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$d=function(n){return t.prototype.$d.call(this,n)},i.Kd=function(n){var i=t.prototype.Kd.call(this,n);return i&&(n.Rl=mw.bl),i},i.Rd=function(){return Sw(this)},n}(jg);!function(t){t.Zy="subtitles",t.rA="captions",t.sA="descriptions",t.uA="chapters",t.$y="metadata",t.oA="thumbnails"}(Ak||(Ak={}));var Sk=[Ak.Zy,Ak.rA,Ak.sA,Ak.uA,Ak.$y,Ak.oA];function Ek(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&hs(Sk,t)}(n)?n:n?Ak.$y:Ak.Zy}var Rk,Ik=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(Ka);function Nk(t){return t instanceof s_}function Dk(t){return Br(t,Rk.hA)}function Ck(t){return t.some(Ok)}function Ok(t){return Br(t,Rk.aA)||Br(t,Rk.Dy)}function Pk(t,n){return Da(t)&&Ck(n)}function xk(t,n){return!!t&&(Da(t)?function(t){return t.some(Dk)}(n)||Ck(n):Br(t,Na.APPLICATION_TTML_XML)||Br(t,Na.TEXT_VTT)||Br(t,Na.IMAGE_JPEG))}function Bk(t,n){return t===Ak.oA||t===Ak.$y&&n===Ak.oA}function Lk(t,n,i,e){for(var r=0,s=t.Cl.il;r<s.length;r++){var u=s[r];if(u.tw>i)break;n<=u.nw&&e.push(u)}}function Mk(t,n){return ts(t.gl,n.gl)}function Uk(t,i){var e=i,r=0;if(Nk(t)&&t.name===n_.gv)e=t.Bf.Mf;else if(t instanceof o_){var s=t.kv;if(e=s.Lf,0===(r=s.Df))return new Ik(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new Ik(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function Fk(t,i,e,r){var s=function(t){switch(t){case hy.WEBVTT:return"WebVTT";case hy.SRT:return"SRT";case hy.TTML:return"TTML";default:return""}}(t);return new Ik(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function Hk(t){return Dp(pp(t))?hy.WEBVTT:bk(t)?hy.TTML:hy.SRT}function zk(t,n){for(var i=[],e=0,r=t.Cl.il;e<r.length;e++){var s=r[e];if(s.nw<=n)i.push(s);else if(s.tw>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.cA(o)}}!function(t){t.aA="vtt",t.Dy="wvtt",t.hA="stpp"}(Rk||(Rk={}));var Vk=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qp=new Tk,n.fA=function(t){var i=t.Id;n.vA(i)},n}S(n,t);var i=n.prototype;return i.$d=function(t){t.Hr(Vg.Fd,this.fA),this.qp.$d(t),this.vA(t)},i.Kd=function(t){t.Xr(Vg.Fd,this.fA),t.Rl=mw.bl,this.qp.Kd(t)},i.dA=function(t){},i.lA=function(t){},i.vA=function(t){t.Rl!==mw.bl?this.dA(t):this.lA(t)},i._A=function(){for(var t=0,n=this.qp.il;t<n.length;t++){var i=n[t];i.Xr(Vg.Fd,this.fA),i.hv()}},i.gA=function(t){if(t>0)for(var n=0,i=this.qp.il;n<i.length;n++){zk(i[n],t)}},i.nl=function(){return this._A(),this.qp.nl(),we.resolve()},i.hv=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,nr.awrap(this.nl());case 3:this.qp.hv();case 4:case"end":return t.stop()}},null,this,null,we)},n}(Cs),Wk=function(t){function n(n){var i;return(i=t.call(this,yw.Sl)||this).errorObject=n,i}return S(n,t),n.prototype.Rd=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Hg),Xk=function(t){function n(n,i){var e;return(e=t.call(this)||this).wA=void 0,e.mA=void 0,e.yA=new ls,e.wA=n,e.mA=i,e}S(n,t);var i=n.prototype;return i.pA=function(t){if(t.src){var n=t.kind||Ak.Zy,i=this.wA.kA(n,t.id,t.label,t.srclang,t.default);return i.Pl=t_(t.src),this.$d(i),i}},i.bA=function(t,n){var i,e,r,s,u,o,h,a,c,f;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Dl=oy.LOADING,i=new Zl({Mf:t.Pl,Of:pc.Pn,tv:ql.GET,xr:n}),v.prev=2,v.next=5,nr.awrap(this.mA.Bf(i));case 5:return s=v.sent,r=s.Df,v.next=9,nr.awrap(s.lf());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),ms(v.t0),t.Dl=oy.ERROR,t.Fr(new Wk(Uk(v.t0,t.Pl))),v.abrupt("return");case 18:for(v.prev=18,u=Hk(e),t.nr=u,o=[],u===hy.WEBVTT||u===hy.SRT?(h=yp(e),o=h.Cl):u===hy.TTML&&(o=dk(e)),a=0,c=o;a<c.length;a++)f=c[a],t.AA(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),ms(v.t1),t.Dl=oy.ERROR,t.Fr(new Wk(Fk(t.nr,t.Pl,r,v.t1))),v.abrupt("return");case 32:t.Dl=oy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],we)},i.dA=function(t){hs(this.qp.il,t)&&t.Dl===oy.NONE&&this.bA(t,this.yA.xr).catch(ys)},i.Yo=function(){},i.nl=function(){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.yA.Cr(),this.yA=new ls,n=0,i=this.qp.il;n<i.length;n++)e=i[n],this.wA.TA(e);return r.next=5,nr.awrap(t.prototype.nl.call(this));case 5:case"end":return r.stop()}},null,this,null,we)},n}(Vk);function qk(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n&&e.SA)return e}}function Gk(t,n){Qk(qk(t.il,n))}function Qk(t){void 0!==t&&(t.Rl=mw.Tl)}function Yk(t,n){Qk(qk(t.il,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n)return e}}(t.il,n))}function jk(t){for(var n=0;n<Sk.length;n++){var i=Sk[n];i===Ak.uA?Yk(t,i):Gk(t,i)}}var Zk,Jk=function(t){function n(){return t.call(this,yc.Ra)||this}return S(n,t),n}(Ps);!function(t){t[t.EA=0]="EA",t[t.RA=1]="RA"}(Zk||(Zk={}));var $k=t,Kk=$k.MediaSource,tb=$k.WebKitMediaSource,nb=$k.TextTrack,ib=s&&s.createElement("video"),eb=(s&&s.documentElement.style,L.Mt&&L._n&&L.gn<=26),rb=(L.Zt,!!p),sb=!(!Kk&&!tb),ub=!!nb,ob=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||L.Qt,L.fn&&L.vn,ib&&ib.canPlayType&&(""!==ib.canPlayType("application/vnd.apple.mpegURL")||L.Ht&&!L.fn&&L.zt>=4)),hb=ib&&ib.canPlayType&&""!==ib.canPlayType("video/mp4")&&!eb,ab=sb&&!L.dn&&!L.hn&&!L.un&&((Kk||tb).isTypeSupported?(Kk||tb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):ib&&ib.canPlayType&&""!==ib.canPlayType('audio/mp4; codecs="mp4a.40.34"')),cb=sb&&!L.dn&&(ab||((Kk||tb).isTypeSupported?(Kk||tb).isTypeSupported("audio/mpeg"):ib&&ib.canPlayType&&""!==ib.canPlayType("audio/mpeg"))),fb=sb&&!(L.cn&&L.Mt)&&((Kk||tb).isTypeSupported?(Kk||tb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):hb),vb=(L.dn||L.hn||L.un,L.an),db=vb&&!1,lb=!L.dn,_b=L.hn&&L.Ut&&L.Ft<=6.1,gb=ib&&"onresize"in ib;try{r&&r.top!==r.self}catch(t){!0}var wb=.001,mb=1e4,yb=3,pb=function(t){function n(n){var i;return(i=t.call(this,nm.c_)||this).currentTime=n,i}return S(n,t),n}(Ps),kb=function(t){function n(n){var i;return(i=t.call(this,nm.f_)||this).currentTime=n,i}return S(n,t),n}(Ps),bb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).IA=Uw.n_,e.NA=!0,e.DA=!1,e.CA=!1,e.OA=function(t){var n=t.readyState;n!==e.IA&&e.Fr(t),n===Uw.n_&&(e.DA=!1,e.CA=!1),e.PA(n),e.xA(n),e.BA(n),e.maybeDispatchCanPlayThroughEvent(n),e.LA(n),e.MA(n),e.IA=n},e.UA=function(){e.MA(e.IA),e.LA(e.IA),e.NA=e.FA.w_},e.HA=function(){e.NA=e.FA.w_},e.FA=n,e.zA=i,e.FA.Hr(nm.zd,e.OA),e.FA.Hr(yc.Aa,e.UA),e.FA.Hr(yc.ba,e.HA),e.zA&&e.FA.Hr(nm.f_,e.Ur),e}S(n,t);var i=n.prototype;return i.PA=function(t){!this.CA&&t>=Uw.i_&&(this.CA=!0,this.Fr(new hm(this.FA.v_,t)))},i.xA=function(t){!this.DA&&t>=Uw.e_&&(this.DA=!0,this.Fr(new dm(this.FA.v_,t)))},i.LA=function(t){this.zA||(t>=Uw.r_&&this.IA<Uw.r_&&!this.FA.w_||this.VA&&t>=Uw.r_)&&this.Fr(new kb(this.FA.v_))},i.MA=function(t){!this.WA(t)||this.FA.l_||this.FA.ts||this.Fr(new pb(this.FA.v_))},i.BA=function(t){this.IA<=Uw.e_&&t>=Uw.r_&&this.Fr(new wm(this.FA.v_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Uw.s_&&this.Fr(new mm(this.FA.v_,t))},i.WA=function(t){var n=!this.FA.w_&&t<=Uw.e_,i=!this.NA&&this.IA<=Uw.e_;return n&&!i},i.nl=function(){this.IA=Uw.n_,this.NA=!0,this.DA=!1,this.CA=!1},i.hv=function(){this.Wr(),this.zA&&this.FA.Xr(nm.f_,this.Ur),this.FA.Xr(yc.Aa,this.UA),this.FA.Xr(yc.ba,this.HA),this.FA.Xr(nm.zd,this.OA)},A(n,[{key:"VA",get:function(){return!this.FA.w_&&this.NA}}]),n}(Cs),Ab="titanium",Tb="conax",Sb="ezdrm",Eb="irdeto",Rb="vudrm",Ib="verimatrix",Nb="keyos",Db="drmtoday",Cb="expressplay",Ob="azure",Pb="xstream",xb="vimond",Bb="axinom",Lb="uplynk",Mb="comcast",Ub="custom",Fb=function(){function t(t,n,i,e,r){this.eh=void 0,this.XA=void 0,this.qA=void 0,this.GA=void 0,this.mA=void 0,this.QA=void 0,this.YA=void 0,this.eh=t,this.XA=n,this.qA=i,this.mA=e,this.YA=r,this.GA=this.jA(n)}var e=t.prototype;return e.ZA=function(){return this.QA},e.JA=function(t){this.QA=t},e.$A=function(){return this.GA.licenseAcquisitionURL||this.ZA()},e.KA=function(t){return we.resolve()},e.tT=function(t,n){return we.resolve(void 0)},e.nT=function(t,i,e,r){var s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.iT(t,i,e,r)).Mf){o.next=3;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,nr.awrap(this.pd.Bf(s));case 6:return u=o.sent,o.next=9,nr.awrap(u._f(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),ms(o.t0),o.next=17,nr.awrap(this.eT(o.t0,s.Mf,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],we)},e.iT=function(t,n,i,e){var r=this.rT().Xa(),s=this.sv,u={Mf:this.sT(),Of:n,Cf:r,yf:t,sv:s,tv:ql.POST,nv:0,xr:e,nr:Gl.Vf,ev:i};return new Zl(u)},e.uT=function(t,n){return we.resolve(t)},e.oT=function(t,n,i,e){return we.resolve(t)},e.rT=function(){return new kc(this.GA.headers||{})},e.eT=function(t,i,e){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,we)},e.sT=function(t,n){var e=n,r=this.GA.queryParameters;if(!e){var s=this.$A();if(!s)return"";e=s}if(r||t){var u=i.Ce(e);t&&Kl(u,t),r&&Kl(u,r),e=u.href}return e},e.hT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return we.resolve(new y(Hb(t,i)))}(t,this.GA)},e.aT=function(t,n,i){var e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,nr.awrap(this.cT(t,i));case 2:return e=u.sent,u.next=5,nr.awrap(this.nT(e,this.YA,n,i));case 5:return r=u.sent,u.next=8,nr.awrap(this.hT(r));case 8:return s=u.sent,u.abrupt("return",s);case 10:case"end":return u.stop()}},null,this,null,we)},e.hv=function(){},A(t,[{key:"pd",get:function(){return this.mA}},{key:"fT",get:function(){return!1}},{key:"vT",get:function(){var t=this.GA.certificate;if(t)return X(t)?Ys(t):Zu(t)}},{key:"dT",get:function(){return!1}},{key:"sv",get:function(){return Boolean(this.GA.useCredentials)}}]),t}();function Hb(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function zb(t,n){var i=$u(t).buffer,e=n.licenseRequestProcessor;return we.resolve(Hb(i,e))}var Vb,Wb,Xb=function(t){function n(n,i,e,r){return t.call(this,Nr,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.jA=function(t){return t.widevine||{}},i.lT=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.vT){i.next=2;break}return i.abrupt("return",this.vT);case 2:return i.abrupt("return",this._T(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,we)},i._T=function(n,i){return t.prototype.aT.call(this,n,Ql.Gf,i)},n}(Fb);function qb(t,n){if(null==t)return{};var i,e,r={},s=l.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function Gb(t){return F(t.token&&t.deviceId)}function Qb(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&F(i.PreAuthorization)}function Yb(t){var n=t;return Gb(n)&&""!==n.token&&""!==n.deviceId&&!Qb(n)}(Wb=Vb||(Vb={})).gT=!1,Wb.wT=!1,Wb.mT=!1,Wb.yT=!1,Wb.LOG_ADS_DETAILS=!1,Wb.LOG_CHROMECAST_DETAILS=!1,Wb.LOG_CUSTOM_DRM=!1,Wb.LOG_BUFFERING_VIDEO_MAIN=!1,Wb.LOG_BUFFERING_VIDEO_SELECTION=!1,Wb.LOG_BUFFERING_AUDIO_MAIN=!1,Wb.LOG_BUFFERING_AUDIO_SELECTION=!1,Wb.pT=!1,Wb.kT=!1;var jb,Zb=function(){function t(t,n,i){this.bT=t,this.Wo=n,this.AT=i}return t.prototype.TT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.AT.build(t))},A(t,[{key:"ST",get:function(){return this.bT}},{key:"eh",get:function(){return this.Wo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(jb||(jb={}));var Jb=function(){function t(){this.ET=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.RT(t,e,r)){case jb.FAILED:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case jb.OVERRIDDEN:var s=gA(e);i.me("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case jb.SUCCEEDED:gA(e);0}},e.RT=function(t,n,i){var e=gA(n);if(!e)return jb.FAILED;for(var r=jb.SUCCEEDED,s=0,u=this.ET.slice();s<u.length;s++){var o=u[s];o.ST===t&&o.eh===e&&(r=jb.OVERRIDDEN,us(this.ET,o))}return this.ET.push(new Zb(t,e,i)),r},e.IT=function(t,n){return void 0!==this.NT(t,n)},e.DT=function(t,n,i){var e=this.NT(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.TT(i)},e.NT=function(t,n){for(var i=0,e=this.ET;i<e.length;i++){var r=e[i];if(r.ST===t&&(!n||r.eh===n))return r}},t}();Jb.CT=new Jb;var $b=["customdata"],Kb={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function tA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||e||r||s||u||o||h||a||c)}function nA(t){return t&&void 0!==t.licenseAcquisitionURL}var iA,eA=nA,rA=nA;function sA(t){if(!t)return!0;if(aA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return tA(n)&&tA(i)&&tA(e)&&tA(r)&&tA(s)}function uA(t){var n=Yb(t),i=function(t){var n,i=t;return Qb(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Gb(i)}(t);return(!n||!i)&&(n||i)}function oA(t){return t.integration===Eb}function hA(t){var n=t;if(!n)return!1;if(sA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(aA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!eA(e))return!1;if(r&&!rA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Jb.CT.IT(n.integration))return!0;switch(n.integration){case Ab:if(!function(t){return t.integration===Ab&&(cA(t)||fA(t))}(t))return!1;break;case Rb:if(!vA(t))return!1;break;case Ib:if(!function(t){return t.integration===Ib}(t))return!1;break;case Eb:if(!oA(t))return!1;break;case Tb:if(!uA(t))return!1;break;case Sb:if(!function(t){return t.integration===Sb}(t))return!1;break;case Nb:if(!aA(t))return!1;break;case Db:if(!function(t){var n=t;return n.integration===Db&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Cb:if(!function(t){return t.integration===Cb}(t))return!1;break;case Pb:if(!dA(t))return!1;break;case xb:if(!function(t){return t.integration===xb}(t))return!1;break;case Bb:if(!lA(t))return!1;break;case Ob:if(!function(t){var n=t;return n.integration===Ob&&void 0!==n.token}(t))return!1;break;case Lb:if(!function(t){return t.integration===Lb}(t))return!1;break;case Mb:if(!function(t){var n=t;return n&&F(n.releasePid)&&F(n.accountId)&&F(n.token)}(t))return!1;break;case Ub:return!0;default:return!1}}return!0}function aA(t){return t.integration===Nb}function cA(t){return void 0!==t.authToken}function fA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function vA(t){var n=t;return n.integration===Rb&&void 0!==n.token}function dA(t){var n=t;return n&&n.integration===Pb&&X(n.ticketAcquisitionURL)&&X(n.streamId)}function lA(t){var n=t;return n.integration===Bb&&void 0!==n.token}function _A(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Kb[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,h=o?{customData:o}:{},a=ir({},null!=(r=null==s?void 0:s.headers)?r:{},h),c=null!=s?s:{};c.customdata;return ir({},qb(c,$b),{licenseAcquisitionURL:u,headers:a})}function gA(t){switch(t.toLowerCase()){case"widevine":case br:return br;case"playready":case yr:return yr;case"fairplay":case Er:return Er}}function wA(t,i){switch(t){case _r:return function(t){for(var n={},i=nk.xp(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Lb]=r.Fb}return n}(i);case gr:case wr:return function(t){var n;return(n={})[Sr]=t,n}(i);default:throw new Ka(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Je="Widevine",t.Ze="PlayreadyV2",t.OT="PlayreadyV2",t.PT="PlayreadyV3",t.Ke="Fairplay"}(iA||(iA={}));var mA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function yA(t,n){var e,r,s,u,o=mA[n],h=t.accountName;return{CustomerName:t.customerName,AccountName:h,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Pe)?void 0:e.xe,OSVersion:null==(r=i.Pe)?void 0:r.He,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Pe)?void 0:s.ze,DeviceModel:null==(u=i.Pe)?void 0:u.Ve}}}function pA(t,i){if(!t.accountName)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function kA(t,n,i){var e;if(cA(t))e={AuthToken:t.authToken,Payload:n};else{if(!fA(t))throw pA(t,i);e={LatensRegistration:yA(t,i),Payload:n}}return ru(JSON.stringify(e))}function bA(t,i,e){var r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=t.kv){h.next=3;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,h.prev=4,h.next=7,nr.awrap(s.df(e));case 7:u=h.sent,o=AA(u),h.next=14;break;case 11:h.prev=11,h.t0=h.catch(4),o="";case 14:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Bf.Mf,s.Df,s.Pf,o);case 15:case"end":return h.stop()}},null,null,[[4,11]],we)}function AA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var TA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,pc.Va)||this).xT=void 0,r}S(e,t),e.BT=function(){return i.xe.ie?"required":"optional"};var r=e.prototype;return r.eT=function(t,n,i){return bA(t,n,i)},r.KA=function(t){return this.xT?ps(this.xT.Ss,t):(this.xT=new no,we.resolve())},r.cT=function(t,i){var e,r;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.XA){i.next=3;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=Zs(t),i.abrupt("return",kA(e,r,iA.Je));case 5:case"end":return i.stop()}},null,this,null,we)},r.hT=function(t){var i;if(!t.license)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Ys(t.license),we.resolve(i)},r.LT=function(t){return we.resolve(new y(t))},r.lT=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.MT(),r.next=3,nr.awrap(this.cT(t,n));case 3:return i=r.sent,r.next=6,nr.awrap(this.nT(i,pc.za,Ql.Qf,n));case 6:return e=r.sent,r.next=9,nr.awrap(this.LT(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,we)},r._T=function(n,i){var e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(t.prototype._T.call(this,n,i));case 2:return e=r.sent,this.MT(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,we)},r.MT=function(){this.xT||(this.xT=new no),this.xT.Is()},r.hv=function(){this.xT&&this.xT.Cr(),t.prototype.hv.call(this)},e}(Xb),SA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,pc.za)||this).JA("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.cT=function(t,i){var e,r,s,u;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(zb(t,this.GA));case 2:if(e=i.sent,r=this.qA,o=new y(e),s=[].slice.call(o),u=this.UT){i.next=8;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,we)},A(i,[{key:"UT",get:function(){if(vA(this.XA))return this.XA.token}}]),i}(Xb);function EA(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=ir({},i,{SessionId:t.sessionId,Ticket:t.ticket})),ir({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var RA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pc.za)||this).JA("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return zb(t,this.GA)},i.sT=function(n,i){var e=n;return oA(this.XA)&&(e=EA(this.XA,e)),t.prototype.sT.call(this,e,i)},n}(Xb),IA="Conax-Custom-Data";function NA(t,n,i){var e=t&&uA(t)&&t;if(e&&!i.has(IA)){var r=Yb(e)?e.token:void 0,s=Yb(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(IA,u)}return i}var DA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pc.za)||this).JA("https://connect.conax.com:8094/license"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return zb(t,this.GA)},i.rT=function(){var n=t.prototype.rT.call(this);return NA(this.XA,"Widevine",n)},n}(Xb);function CA(t){var n=Uu(new y(t));return Ys(JSON.parse(n).license)}function OA(t){return"string"==typeof t.token?t.token:ru(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function PA(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var xA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,pc.za)||this).JA("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return zb(t,this.GA)},i.hT=function(t){return we.resolve(CA(t))},i.rT=function(){return PA(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return OA(this.XA)}}]),n}(Xb),BA=function(t){function n(n,i,e){return t.call(this,n,i,e,pc.za)||this}S(n,t);var i=n.prototype;return i.cT=function(t,n){return zb(t,this.GA)},i.rT=function(){var n=t.prototype.rT.call(this),i=this.XA.token;return n.set("Authorization","Bearer "+i),n},n}(Xb);function LA(t,i,e,r){var s,u,o,h,a,c,f;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(dA(t)){v.next=2;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new kc).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,h=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:h,streamId:o},c={Mf:t.ticketAcquisitionURL,Of:pc.Va,Cf:s,tv:ql.POST,yf:JSON.stringify(a),xr:r},v.next=13,nr.awrap(e.Bf(c));case 13:return f=v.sent,v.next=16,nr.awrap(f.df());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,we)}var MA=function(t){function n(n,i,e){return t.call(this,n,i,e,pc.Va)||this}S(n,t);var i=n.prototype;return i.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type","application/json"),n},i.cT=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=eu(t.buffer),e=this.XA,u.next=4,nr.awrap(LA(e,"widevine_modular",this.pd,n));case 4:return r=u.sent,this.JA(r.licenseServerUrl),s=Fu(JSON.stringify({payload:i,ticket:r.ticket})),u.abrupt("return",zb(s,this.GA));case 8:case"end":return u.stop()}},null,this,null,we)},i.hT=function(t){var n=t;return we.resolve(Ys(n.license))},n}(Xb),UA=function(t){function i(n,i,e){return t.call(this,n,i,e,pc.za)||this}S(i,t);var e=i.prototype;return e.cT=function(t,n){return zb(t,this.GA)},e.rT=function(){if(!lA(this.XA))throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},i}(Xb);function FA(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var HA=function(t){function n(n,i,e){var r;return(r=t.call(this,Ir,n,i,e,pc.za)||this).FT=void 0,r}S(n,t);var e=n.prototype;return e.jA=function(t){return t.playready||{}},e.rT=function(){var n=new kc(this.FT);return n.Ga(t.prototype.rT.call(this)),n},e.HT=function(t){return t.length>=1&&t[0].jn.length>0},e.tT=function(n){var i=this.XA.playready.customData;if(i){var e=FA(i),r=FA('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Zs(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return we.resolve({playready:{Dh:r}})}return t.prototype.tT.call(this,n)},e.cT=function(t,n){var i;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(zb(t,this.GA));case 2:return i=n.sent,n.abrupt("return",this.zT(i));case 4:case"end":return n.stop()}},null,this,null,we)},e.zT=function(t){var n,e,r,s,u,o,h,a,c,f,v,d,l,_,g,w;return nr.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),h=Bu(o,new Ku,!0),m.prev=3,a=i.Mn(h),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(c=null==(n=a.Yn("PlayReadyKeyMessage")[0])?void 0:n.Yn("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Yn("Challenge"))?e:[],this.HT(f)&&(u=iu(f[0].hi)),v=new kc,d=null!=(r=null==c?void 0:null==(s=c.Yn("HttpHeaders")[0])?void 0:s.Yn("HttpHeader"))?r:[],l=0;l<d.length;l++)_=d[l],g=_.Yn("name")[0].hi,w=_.Yn("value")[0].hi,v.append(g,w);return this.FT=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],we)},e.lT=function(t,n){return we.resolve(t)},e._T=function(n,i){return t.prototype.aT.call(this,n,Ql.Yf,i)},n}(Fb),zA=function(){function t(n){this.yo=void 0,this.VT=n,this.yo=t.WT(n)}return t.WT=function(t){return"3"===t.version?iA.PT:iA.OT},t.prototype.XT=function(){var t={};if(this.yo===iA.PT){var n={LatensRegistration:yA(this.VT,iA.PT)};t["X-TITANIUM-DRM-CDATA"]=ru(JSON.stringify(n))}return t},A(t,[{key:"qT",get:function(){return this.yo}},{key:"gh",get:function(){return this.yo===iA.OT}}]),t}();var VA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).GT=void 0,r.GT=new zA(r.XA),r}S(e,t);var r=e.prototype;return r.tT=function(t){var i=this.XA;if(!this.XA)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(fA(i)){var e={};return e.playready={Dh:WA(i,this.GT.qT)},we.resolve(e)}return we.reject(pA(i,iA.Ze))},r.rT=function(){var n=new kc(this.GT.XT());return n.Ga(t.prototype.rT.call(this)),n},r.eT=function(t,e,r){var s,u,o,h,a,c,f,v;return nr.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=t.kv){d.next=3;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return d.prev=3,d.next=6,nr.awrap(s.gf(r));case 6:h=d.sent,a=Uu(new y(h)),(c=i.Mn(a))&&(f=ok(c,"CustomData")).length>0&&(u=JSON.parse(f[0].hi),o=null==(v=u.DrmErr)?void 0:v.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Df,s.Pf,o);case 15:case"end":return d.stop()}},null,null,[[3,12]],we)},r.HT=function(t){if(1!==t.length)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(HA);function WA(t,n){var i=yA(t,n),e=i.DeviceInfo.FormatVersion,r=ru('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=zu(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return zu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Zs(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var XA,qA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.HT=function(t){if(1!==t.length)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.sT=function(n,i){var e=ir({},n||{},{token:this.UT});return t.prototype.sT.call(this,e,i)},A(i,[{key:"UT",get:function(){if(vA(this.XA))return this.XA.token}}]),i}(HA),GA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.sT=function(n,i){var e=n;return oA(this.XA)&&(e=EA(this.XA,e)),t.prototype.sT.call(this,e,i)},n}(HA),QA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.rT=function(){var n=t.prototype.rT.call(this);return NA(this.XA,"PlayReady",n)},n}(HA),YA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.hT=function(n){return(Lr(Uu(new y(n)),"<?xml")?XA.QT:XA.df)===XA.df?we.resolve(CA(n)):we.resolve(t.prototype.hT.call(this,new y(n)))},i.rT=function(){return PA(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return OA(this.XA)}}]),n}(HA);!function(t){t[t.QT=0]="QT",t[t.df=1]="df"}(XA||(XA={}));var jA,ZA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YT=void 0,r}S(n,t);var i=n.prototype;return i.rT=function(){var n=t.prototype.rT.call(this);return this.YT&&n.set("Ticket",this.YT),n.set("Content-Type","text/xml"),n},i.cT=function(n,i){var e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.XA,s.next=3,nr.awrap(LA(e,"playready",this.pd,i));case 3:return r=s.sent,this.JA(r.licenseServerUrl),this.YT=r.ticket,s.abrupt("return",t.prototype.cT.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,we)},n}(HA),JA=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.rT=function(){if(!lA(this.XA))throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},i}(HA);!function(t){t.Va="application/json",t.jT="application/x-www-form-urlencoded",t.ZT="application/octet-stream",t.Pn="text/plain;charset=UTF-8"}(jA||(jA={}));var $A=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.eh,i,e,r,s)||this).JT="",u.$T=void 0,u.KT=void 0,u.KT=n.tS,u}S(n,t);var i=n.prototype;return i.nS=function(){return this.GA.certificateURL||this.$T},i.iS=function(t){this.$T=t},i.cT=function(t){return we.resolve(this.eS(t,this.JT))},i.eS=function(t,n){return"spc="+encodeURIComponent(Zs(t))+"&assetId="+encodeURIComponent(n)},i.jA=function(t){return t.fairplay||{}},i.rS=function(t){var n=t.indexOf("?");if(n>=0)return we.resolve(t.substr(n+1));var i=t.split("/");return we.resolve(i[i.length-1])},i.tT=function(t){var n,i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.KT)?n:Wu(new y(t)),s.next=3,nr.awrap(this.rS(i));case 3:return e=s.sent,this.JT=e,(r={}).fairplay={Mh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,we)},i.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type",this.sS),n},i.lT=function(t,n){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vT){t.next=2;break}return t.abrupt("return",this.vT);case 2:return t.next=4,nr.awrap(this.uS(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,we)},i._T=function(n,i){return t.prototype.aT.call(this,n,Ql.Xf,i)},i.oS=function(t){var n=this.nS(),i=this.rT(),e={Mf:n,Of:pc.za,Cf:i,tv:ql.GET,sv:!1,yf:null,nv:0,xr:t,nr:Gl.Vf,ev:Ql.qf};return new Zl(e)},i.uS=function(t){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.oS(t),r.next=3,nr.awrap(this.pd.Bf(n));case 3:return i=r.sent,r.next=6,nr.awrap(i.gf());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,we)},i.hT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Ys(i)}else n=new y(t);return we.resolve(n)},i.sT=function(n,i){var e=t.prototype.sT.call(this,n,i);return Lr(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"dT",get:function(){return!0}},{key:"sS",get:function(){return jA.jT}}]),n}(Fb),KA=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pc.za)||this}S(n,t);var i=n.prototype;return i.rS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return we.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return we.resolve(i)},i.cT=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,we)},i.hT=function(t){return we.resolve(new y(t))},i.sT=function(n,i){var e=n||{};return e.p1=wt(),t.prototype.sT.call(this,e,i)},A(n,[{key:"sS",get:function(){return jA.ZT}}]),n}($A),tT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pc.za)||this).JA("https://fairplay-license.drm.technology/license"),s.iS("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.eS=function(t,n){var i={token:this.UT,contentId:n,payload:Zs(t)};return JSON.stringify(i)},e.hT=function(t){return we.resolve(new y(t))},e.rT=function(){var n=t.prototype.rT.call(this);return n.set("x-vudrm-token",this.UT),n},A(i,[{key:"sS",get:function(){return jA.Va}},{key:"UT",get:function(){if(!vA(this.XA))throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.XA.token}}]),i}($A),nT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",iT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",eT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pc.za)||this}return S(i,t),i.prototype.hT=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,nT)}if(!i)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,iT);return i}(Uu(new DataView(i)));return t.prototype.hT.call(this,e)},i}($A);var rT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pc.Va)||this}S(i,t);var e=i.prototype;return e.cT=function(t){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.XA){r.next=3;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Zs(t),r.abrupt("return",kA(i,e,iA.Ke));case 5:case"end":return r.stop()}},null,this,null,we)},e.hT=function(t){try{var i;if(X(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=iu(i.license);return we.resolve(new y(r))}return we.reject(new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return we.reject(new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.eT=function(t,n,i){return bA(t,n,i)},A(i,[{key:"sS",get:function(){return jA.Va}}]),i}($A),sT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pc.za)||this).JA("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.iS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.nS=function(){var n=t.prototype.nS.call(this);if(!n)return n;var e=i.Ce(n),r=this.XA;return oA(r)&&Kl(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.rS=function(n){return oA(this.XA)?we.resolve(this.XA.contentId):t.prototype.rS.call(this,n)},e.cT=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,we)},e.hT=function(t){return we.resolve(new y(t))},e.sT=function(n,i){var e=n;return oA(this.XA)&&(e=function(t,n){return ir({},EA(t,n),{KeyId:t.keyId})}(this.XA,e)),t.prototype.sT.call(this,e,i)},A(n,[{key:"sS",get:function(){return jA.ZT}}]),n}($A),uT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,pc.Pn)||this,!uA(e))throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.JA("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.rT=function(){var n=t.prototype.rT.call(this);return NA(this.XA,"FairPlay",n)},e.uS=function(t){var n,i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.nS(),i={Mf:n,Of:pc.za,Cf:{},tv:ql.GET,sv:!1,yf:null,nv:0,xr:t,nr:Gl.Vf,ev:Ql.qf},s.next=4,nr.awrap(this.pd.Bf(i));case 4:return e=s.sent,s.next=7,nr.awrap(e.gf());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,we)},e.cT=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,we)},e.rS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),we.resolve(Uu(Ys(n)))):we.resolve("unknown")},e.hT=function(t){try{var n=JSON.parse(t);return we.resolve(new y(iu(n.CkcMessage)))}catch(t){return we.reject("CFLRW-66")}},i}($A),oT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pc.Pn)||this).JA(Kb[dr.Ke]),s}S(i,t);var e=i.prototype;return e.rS=function(t){return Lr(t,"skd://")?we.resolve(t.substring("skd://".length,40)):we.reject(new Vm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.eS=function(t,n){return"spc="+Zs(t)+"&assetId="+n},i}($A),hT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pc.Pn)||this).JA("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.eS=function(t,n){var i="spc="+encodeURIComponent(Zs(t))+"&"+encodeURI(n);return"persistent"===this.GA.licenseType?i+"&offline=true":i},i.rT=function(){return PA(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return OA(this.XA)}}]),n}($A),aT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pc.za)||this}S(n,t);var e=n.prototype;return e.rS=function(t){var n=t;return Lr(n,"skd:")&&(n="http:"+n.substring(4)),Lr(n,"http:")||Lr(n,"https:")?we.resolve(i.Ce(n).hostname):we.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.cT=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,we)},e.hT=function(t){return we.resolve(new y(t))},A(n,[{key:"sS",get:function(){return jA.ZT}}]),n}($A),cT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,pc.Pn)||this}return S(n,t),n.prototype.rT=function(){var n=t.prototype.rT.call(this),i=this.XA.token;return n.set("Authorization","Bearer "+i),n},n}($A),fT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,pc.Va)||this,!dA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.uS=function(t){var n,i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.nS(),i=this.rT(),e={Mf:n,Of:pc.Va,Cf:i,tv:ql.POST,xr:t,nr:Gl.Vf,ev:Ql.qf},u.next=5,nr.awrap(this.pd.Bf(e));case 5:return r=u.sent,u.next=8,nr.awrap(r.df());case 8:return s=u.sent,u.abrupt("return",new y(Ys(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,we)},i._T=function(t,n,i){var e,r,s,u,o,h,a;return nr.async(function(c){for(;;)switch(c.prev=c.next){case 0:return void 0===i&&(i=pc.Pn),e=Zs(t),r=this.XA,c.next=5,nr.awrap(LA(r,"fairplay",this.pd,n));case 5:return s=c.sent,u=Fu(JSON.stringify({spc:e,ticket:s.ticket})),o={Mf:this.$A(),Of:pc.Va,Cf:this.rT(),tv:ql.POST,yf:u,nv:0,xr:n,nr:Gl.Vf,ev:Ql.Xf},c.next=10,nr.awrap(this.pd.Bf(o));case 10:return h=c.sent,c.next=13,nr.awrap(h.df());case 13:return a=c.sent,c.abrupt("return",Ys(a.licence));case 15:case"end":return c.stop()}},null,this,null,we)},A(n,[{key:"sS",get:function(){return jA.Va}}]),n}($A),vT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pc.Pn)||this}S(i,t);var e=i.prototype;return e.eS=function(t,n){return Zs(t)},e.hT=function(i){if(0===i.length)throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.hT.call(this,i)},e.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type","text/plain"),n},i}($A),dT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,pc.za)||this}S(i,t);var e=i.prototype;return e.eS=function(t,n){return t},e.hT=function(t){return we.resolve(new y(t))},e.rT=function(){if(!lA(this.XA))throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},A(i,[{key:"sS",get:function(){return jA.Va}}]),i}($A),lT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pc.Va)||this).hS=void 0,s}S(e,t);var r=e.prototype;return r.eS=function(t,n){var i={spc:Zs(t)};return JSON.stringify(i)},r.rS=function(t){var e=i.Ce(t);return this.hS=t,e.searchParams.has("b")?we.resolve(e.searchParams.get("b")):we.reject(new Vm(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.sT=function(n,i){var e=this.$A();return!e&&this.hS&&(e=this.hS),e&&(e=e.replace("skd://","https://")),t.prototype.sT.call(this,n,i||e)},r.hT=function(t){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=X(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",Ys(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],we)},A(e,[{key:"sS",get:function(){return jA.Pn}}]),e}($A),_T=function(){function t(t,n){this.aS=t,this.cS=n}var n=t.prototype;return n.fS=function(t){return this.aS(t)},n.vS=function(t,n){throw new d(n+" must be "+this.cS+". (Received: "+t+")")},t}(),gT=new _T(Y,"a number"),wT=new _T(X,"a string"),mT=new _T(q,"a boolean");var yT,pT=(yT={responseCode:gT,isException:mT,description:wT,title:wT,correlationId:wT},{fS:function(t){if(!V(t))return!1;for(var n=0,i=l.keys(yT);n<i.length;n++){var e=i[n];if(!yT[e].fS(t[e]))return!1}return!0},vS:function(t,n){if(!V(t))throw new d(n+" must be an object.");for(var i=0,e=l.keys(yT);i<e.length;i++){var r=e[i],s=yT[r];if(!s.fS(t[r]))return s.vS(t[r],n+"."+r)}throw new d}});function kT(t,n,i,e,r){var s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=bT(t,n,i,r),u.next=3,nr.awrap(AT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,we)}function bT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Ce(t);return Kl(e,n),e.toString()}(e,s)),o=new kc({});o.append("Content-Type","application/json");var h=Zs(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:h}};return{Mf:u,Of:pc.Pn,Cf:o,tv:ql.POST,yf:JSON.stringify(a),xr:r,nr:Gl.Vf,ev:Ql.Xf}}function AT(t,i){var e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,nr.awrap(i.Bf(t));case 2:return e=s.sent,s.next=5,nr.awrap(e.df());case 5:if(r=s.sent,!pT.fS(r)){s.next=8;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Mf,r.responseCode);case 8:return s.abrupt("return",Ys(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,we)}var TT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,pc.za)||this).dS=void 0,s.dS=i,s}S(n,t);var i=n.prototype;return i.rS=function(n){var i=n.replace("FairPlay",this.dS.releasePid);return t.prototype.rS.call(this,i)},i._T=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(kT(t,this.dS,this.$A(),this.pd,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,we)},n}($A),ST=function(t){function i(n,i,e){return t.call(this,Cr,n,i,e,pc.za)||this}S(i,t);var e=i.prototype;return e.jA=function(t){return t.clearkey||{}},e.cT=function(t,n){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",zb(t,this.GA));case 1:case"end":return n.stop()}},null,this,null,we)},e.nT=function(i,e,r,s){var u,o;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.GA,!this.$A()){e.next=5;break}return e.abrupt("return",t.prototype.nT.call(this,i,this.YA,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",Fu(JSON.stringify(o)).buffer);case 10:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,we)},e.lT=function(t,n){return we.resolve(new y(0))},e._T=function(n,i){return t.prototype.aT.call(this,n,Ql.jf,i)},i}(Fb),ET=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.cT=function(t,n){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",zb(t,this.GA));case 1:case"end":return n.stop()}},null,this,null,we)},n}(Xb),RT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function IT(t,n,i){var e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=MT(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",we.resolve(n));case 5:return u.next=8,nr.awrap(ps(we.resolve(r.call(t,e)),i));case 8:if(!ju(s=u.sent)){u.next=11;break}return u.abrupt("return",Zu(s));case 11:return u.abrupt("return",LT(ir({},RT,s)));case 12:case"end":return u.stop()}},null,null,null,we)}function NT(t,n,i,e,r){var s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=t.onCertificateResponse,u=BT(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",we.resolve(n));case 5:return h.next=8,nr.awrap(ps(we.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",Zu(o));case 10:case"end":return h.stop()}},null,null,null,we)}function DT(t,n,i,e){var r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,nr.awrap(OT(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",LT(r));case 6:case"end":return s.stop()}},null,null,null,we)}function CT(t,n,i,e,r,s){var u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return u=xT(i,r),h.next=3,nr.awrap(PT(t,new y(n),u,e,s));case 3:return o=h.sent,h.abrupt("return",Zu(o).buffer);case 5:case"end":return h.stop()}},null,null,null,we)}function OT(t,n,i,e){var r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=xT(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",we.resolve(s));case 5:return o.next=8,nr.awrap(ps(we.resolve(r.call(t,s)),e));case 8:if(!ju(u=o.sent)){o.next=11;break}return o.abrupt("return",Zu(u).buffer);case 11:return o.abrupt("return",ir({fairplaySkdUrl:void 0},RT,u));case 12:case"end":return o.stop()}},null,null,null,we)}function PT(t,n,i,e,r){var s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=BT(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",we.resolve(n));case 5:return h.next=8,nr.awrap(ps(we.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",Zu(o));case 10:case"end":return h.stop()}},null,null,null,we)}function xT(t,n){return ir({},MT(t),{fairplaySkdUrl:n})}function BT(t,n,i){return{url:i.Lf,status:i.Df,statusText:i.Pf,headers:i.Cf.Xa(),body:t,request:n}}function LT(t){return new Zl({Mf:t.url,tv:t.method,Cf:t.headers,yf:t.body,sv:t.useCredentials})}function MT(t){var n;return{url:t.Mf,body:null!=(n=UT(t.yf))?n:null,headers:t.Cf.Xa(),method:t.tv,useCredentials:t.sv}}function UT(t){if(t)return"string"==typeof t?Xu(t):t instanceof ArrayBuffer?new y(t):$s(t)?Yu(t):void 0}var FT,HT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).lS=void 0,s.lS=r,s}S(i,t);var e=i.prototype;return e.lT=function(t,n){return we.resolve(t)},e._T=function(t,i){var e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,nr.awrap(this.zT($u(t).buffer));case 2:return e=h.sent,r=this.iT(e,pc.za,Ql.Yf,i),h.next=6,nr.awrap(DT(this.lS,r,void 0,i));case 6:if(!((s=h.sent)instanceof ArrayBuffer)){h.next=10;break}return h.abrupt("return",new y(s));case 10:if(""!==s.Mf){h.next=12;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return h.prev=12,h.next=15,nr.awrap(this.pd.Bf(s));case 15:return u=h.sent,h.next=18,nr.awrap(u.gf(i));case 18:return o=h.sent,h.t0=y,h.next=22,nr.awrap(CT(this.lS,o,r,u,void 0,i));case 22:return h.t1=h.sent,h.abrupt("return",new h.t0(h.t1));case 26:throw h.prev=26,h.t2=h.catch(12),ms(h.t2),new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",h.t2);case 30:case"end":return h.stop()}},null,this,[[12,26]],we)},i}(HA),zT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,pc.za)||this).lS=void 0,s.lS=r,s}S(i,t);var e=i.prototype;return e.lT=function(t,i){var e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.vT){h.next=2;break}return h.abrupt("return",this.vT);case 2:return e=this.iT(t,pc.za,Ql.Qf,i),h.next=5,nr.awrap(IT(this.lS,e,i));case 5:if(!((r=h.sent)instanceof y)){h.next=9;break}return h.abrupt("return",r);case 9:if(""!==r.Mf){h.next=11;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return h.prev=11,h.next=14,nr.awrap(this.pd.Bf(r));case 14:return s=h.sent,h.next=17,nr.awrap(s.gf(i));case 17:u=h.sent,h.next=24;break;case 20:throw h.prev=20,h.t0=h.catch(11),ms(h.t0),new Vm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",h.t0);case 24:return o=xT(e,void 0),h.next=27,nr.awrap(NT(this.lS,new y(u),o,s,i));case 27:return h.abrupt("return",h.sent);case 28:case"end":return h.stop()}},null,this,[[11,20]],we)},e._T=function(t,i){var e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.iT(t,pc.za,Ql.Gf,i),o.next=3,nr.awrap(DT(this.lS,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Mf){o.next=9;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,nr.awrap(this.pd.Bf(r));case 12:return s=o.sent,o.next=15,nr.awrap(s.gf(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),ms(o.t0),new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,nr.awrap(CT(this.lS,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],we)},i}(ET),VT=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,pc.za)||this).lS=void 0,u._S=void 0,u.lS=s,u}S(i,t);var e=i.prototype;return e.lT=function(t,i){var e,r,s,u,o;return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vT){t.next=2;break}return t.abrupt("return",this.vT);case 2:return e=this.oS(i),t.next=5,nr.awrap(IT(this.lS,e,i));case 5:if(r=t.sent,!$s(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,nr.awrap(this.pd.Bf(r));case 11:return s=t.sent,t.next=14,nr.awrap(s.gf());case 14:return u=t.sent,o=xT(e,void 0),t.next=18,nr.awrap(NT(this.lS,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),ms(t.t0),new Vm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],we)},e._T=function(t,i){var e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.iT(t,pc.za,Ql.Xf,i),o.next=3,nr.awrap(DT(this.lS,e,this._S,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Mf){o.next=9;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,nr.awrap(this.pd.Bf(r));case 12:return s=o.sent,o.next=15,nr.awrap(s.gf(i));case 15:return u=o.sent,o.t0=y,o.next=19,nr.awrap(CT(this.lS,u,e,s,this._S,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),ms(o.t2),new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],we)},e.rS=function(n){var i;return this._S=n,null!=(i=this.lS)&&i.extractFairplayContentId?we.resolve(this.lS.extractFairplayContentId(n)):t.prototype.rS.call(this,n)},i}($A),WT=function(){function t(){}var n=t.prototype;return n.gS=function(t,n,i,e){switch(t.eh.nr){case dr.Je:return this.wS(n,i,e);case dr.Ze:return this.mS(n,i,e);case dr.Ke:return this.yS(t,n,i,e);case dr.$e:default:return this.pS(n,i,e)}},n.wS=function(t,n,i){var e,r=(e=t).integration===Ub&&X(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&Jb.CT.IT(r,br)){var s=Jb.CT.DT(r,br,t);return new zT(t,n,i,s)}switch(r){case Ab:return new TA(t,n,i);case Rb:return new SA(t,n,i);case Eb:return new RA(t,n,i);case Tb:return new DA(t,n,i);case Db:return new xA(t,n,i);case Ob:return new BA(t,n,i);case Pb:return new MA(t,n,i);case Bb:return new UA(t,n,i);case Nb:default:return new ET(t,n,i,pc.za)}},n.mS=function(t,n,i){var e=t.integration;if(e&&Jb.CT.IT(e,yr)){var r=Jb.CT.DT(e,yr,t);return new HT(t,n,i,r)}switch(e){case Ab:return new VA(t,n,i);case Rb:return new qA(t,n,i);case Eb:return new GA(t,n,i);case Tb:return new QA(t,n,i);case Db:return new YA(t,n,i);case Pb:return new ZA(t,n,i);case Bb:return new JA(t,n,i);case Nb:default:return new HA(t,n,i)}},n.yS=function(t,n,i,e){var r=n.integration;if(r&&Jb.CT.IT(r,Er)){var s=Jb.CT.DT(r,Er,n);return new VT(t,n,i,e,s)}switch(r){case Sb:return new KA(t,n,i,e);case Rb:return new tT(t,n,i,e);case Ib:return new eT(t,n,i,e);case Ab:return new rT(t,n,i,e);case Eb:return new sT(t,n,i,e);case Tb:return new uT(t,n,i,e);case Nb:return new oT(t,n,i,e);case Db:return new hT(t,n,i,e);case Cb:return new aT(t,n,i,e);case Ob:return new cT(t,n,i,e);case Pb:return new fT(t,n,i,e);case xb:return new vT(t,n,i,e);case Bb:return new dT(t,n,i,e);case Lb:return new lT(t,n,i,e);case Mb:return new TT(t,n,i,e);default:return new $A(t,n,i,e,pc.Pn)}},n.pS=function(t,n,i){return new ST(t,n,i)},n.kS=function(t){return t.nr===dr.Ze||t.nr===dr.Je||t.nr===dr.Ke||t.nr===dr.$e},n.gh=function(t,n){var i;if(t.nr!==dr.Ze)return!1;if(F(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!Jb.CT.IT(e,Er))&&(e===Ab&&new zA(n).gh)},n.BT=function(t,n){if(t.nr===dr.Je){var i=n.integration;if(!i||!Jb.CT.IT(i,Er))return i===Ab?TA.BT():void 0}},t}();!function(t){t[t.bS=0]="bS",t[t.AS=1]="AS",t[t.TS=2]="TS",t[t.SS=3]="SS",t[t.Yl=4]="Yl",t[t.ES=5]="ES",t[t.t_=6]="t_",t[t.RS=7]="RS",t[t.IS=8]="IS"}(FT||(FT={}));var XT=function(){function t(){}return t.prototype.NS=function(t){},A(t,[{key:"DS",get:function(){return 0}},{key:"CS",get:function(){return 0}}]),t}(),qT=function(){function t(t,n){void 0===n&&(n=new WT),this.mA=void 0,this.OS=void 0,this.VT=void 0,this.mA=t,this.OS=n}var n=t.prototype;return n.PS=function(t){this.VT=t},n.BT=function(t){var n=this.VT;if(void 0!==n)return this.OS.BT(t,n)},n.gh=function(t){var n=this.VT;return void 0!==n&&this.OS.gh(t,n)},n.xS=function(t){var n={eh:t.eh,LS:t.LS||[],tS:t.tS},i=this.OS.gS(n,this.VT||{},t.qA,this.mA);return new GT(i)},t}(),GT=function(){function t(t){this.MS=void 0,this.MS=t}var n=t.prototype;return n.KA=function(t){return this.MS.KA(t)},n.tT=function(t,n,i){return this.MS.tT(n,i)},n.dT=function(){return this.MS.dT||void 0!==this.MS.vT},n.lT=function(t,n){return this.MS.lT(t,n)},n._T=function(t,n,i){return n&&this.MS.JA(n),this.MS._T(t,i)},n.Sr=function(){this.MS.hv()},t}(),QT=function(t){function n(n){var i;(i=t.call(this)||this).US=[],i.FS=function(t){i.$d(t.Id)},i.HS=function(t){var n=t.Id;i.zS(n)||i.Kd(n)};for(var e=0;e<n.length;e++){var r=n[e];i.VS(r)}return i}S(n,t);var i=n.prototype;return i.VS=function(t){this.US.push(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.$d(e)}this.WS(t)},i.XS=function(t){us(this.US,t),this.qS(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.zS(e)||this.Kd(e)}},i.zS=function(t){for(var n=0,i=this.US;n<i.length;n++){if(i[n].tl(t))return!0}return!1},i.WS=function(t){t.Hr(Ug.kd,this.FS),t.Hr(Ug.Ad,this.HS)},i.qS=function(t){t.Xr(Ug.kd,this.FS),t.Xr(Ug.Ad,this.HS)},i.hv=function(){for(;this.US.length>0;)this.XS(this.US[0]);t.prototype.hv.call(this)},i.Rd=function(){return Sw(this)},n}(jg);function YT(t){return{get enabled(){return t.ll},set enabled(n){t.ll=uw(n)},get currentLatency(){return t.O_},get streamConfiguration(){if(void 0!==t.GS)return function(t){return{get minimumOffset(){return t.A_},get maximumOffset(){return t.S_},get targetOffset(){return t.T_},get forceSeekOffset(){return t.E_},get minimumPlaybackRate(){return t.R_},get maximumPlaybackRate(){return t.I_}}}(t.GS)},get configuration(){return function(t){return{get minimumOffset(){return t.A_},set minimumOffset(n){t.A_=ow(n)},get maximumOffset(){return t.S_},set maximumOffset(n){t.S_=ow(n)},get targetOffset(){return t.T_},set targetOffset(n){t.T_=ow(n)},get forceSeekOffset(){return t.E_},set forceSeekOffset(n){t.E_=ow(n)},get minimumPlaybackRate(){return t.R_},set minimumPlaybackRate(n){t.R_=ow(n)},get maximumPlaybackRate(){return t.I_},set maximumPlaybackRate(n){t.I_=ow(n)},update:function(n){t.Zo(function(t){var n={};void 0!==t.minimumOffset&&(n.A_=ow(t.minimumOffset));void 0!==t.maximumOffset&&(n.S_=ow(t.maximumOffset));void 0!==t.targetOffset&&(n.T_=ow(t.targetOffset));void 0!==t.forceSeekOffset&&(n.E_=ow(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.R_=ow(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.I_=ow(t.maximumPlaybackRate));return n}(n))}}}(t.rh)}}}var jT,ZT=function(){function t(){this.Sd=void 0,this.QS=void 0,this.QS={E_:0,S_:0,I_:0,A_:0,R_:0,T_:0,Zo:j}}return A(t,[{key:"Ed",get:function(){return null!=this.Sd||(this.Sd=YT(this)),this.Sd}},{key:"ll",get:function(){return!1},set:function(t){}},{key:"O_",get:function(){}},{key:"GS",get:function(){}},{key:"rh",get:function(){return this.QS}}]),t}();function JT(){return jT||(jT=Hi&&Hi.document&&Hi.document.createElement("video")),jT}var $T=function(t){function n(n,i,e,r,s,u,o){var h;return void 0===u&&(u=new WT),void 0===o&&(o=dc()),(h=t.call(this)||this).YS=void 0,h.jS=void 0,h.ZS=void 0,h.z_=void 0,h.V_=void 0,h.W_=void 0,h.JS=void 0,h.$S=void 0,h.KS=void 0,h.tE=void 0,h.nE=void 0,h.mA=void 0,h.hr=void 0,h.iE=void 0,h.eE=void 0,h.rE=new XT,h.sE=new ZT,h.uE=function(t){var n=t.ts,i=n.code,e=new Ka(Gm(i),"Something went wrong during native playback.",n),r=new Wm(i,e.message,n.message);h.oE(e,r)},h.hE=function(){h.Fr(new fm(h.v_,h.pg))},h.aE=function(t){h.w_||(h.eE=void 0),h.Fr(t)},h.cE=function(t){h.eE=void 0,h.Fr(t)},h.fE=function(){h.Fr(new fy(h.bg))},h.vE=function(){h.k_>0&&h.p_>0&&h.Fr(new Jk)},h.dE=function(t){h.z_.$d(new sy(t.track))},h.lE=function(t){var n=tS(h.z_,t.track);n&&h.z_.Kd(n)},h._E=function(){h.gE(h.z_)},h.wE=function(t){h.V_.$d(new cy(t.track))},h.mE=function(t){var n=tS(h.V_,t.track);n&&h.V_.Kd(n)},h.yE=function(){h.gE(h.V_)},h.pE=function(t){h.Fr(t),h.oE(t.errorObject,qm(t.errorObject))},h.YS=i,h.mA=e,h.hr=o,h.jS=h.YS.kE(Qm.$f),h.KS=h.jS.bE.preload,h.tE=new bb(h.jS,!0),h.tE.Hr(om,h.Ur),h.iE=new qT(e,u),h.jS.AE=h.iE,h.TE(),h.z_=new Ym,h.V_=new Ym,h.SE(),h.nE=new Xk(h.jS,h.mA),h.W_=new QT([h.jS.j_]),h.ag(),h}S(n,t);var i=n.prototype;return i.cg=function(){this.jS.cg()},i.ag=function(){this.jS.ag()},i.ig=function(t,n,i){var e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return ws(i),e={nr:Zk.EA,Pl:t.src,mf:t.type,EE:this.RE(t),Cg:this.KS,IE:t.crossOrigin,NE:n.metadata&&n.metadata.title},this.iE.PS(t.contentProtection),r.next=5,nr.awrap(this.jS.Yo(e));case 5:this.ZS=r.sent,ws(i),n.textTracks&&this.DE(n.textTracks),jk(this.j_);case 9:case"end":return r.stop()}},null,this,null,we)},i.DE=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.jS.CE()&&L.Qt&&ub&&!Bk(i.kind,i.label)&&this.OE(i)){var e,r=null!=(e=i.kind)?e:Ak.Zy;this.jS.PE(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.nE.pA(i)}}},i.OE=function(t){return!t.format||"webvtt"===t.format},i.J_=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nr.awrap(this.jS.J_());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.xE){t.next=12;break}return t.next=10,nr.awrap(this.jS.Yr(yc.Ta));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],we)},i.K_=function(){this.jS.K_()},i.eg=function(){return void 0!==this.jS.bE.webkitShowPlaybackTargetPicker},i.rg=function(){this.jS.bE.webkitShowPlaybackTargetPicker&&this.jS.bE.webkitShowPlaybackTargetPicker()},i.sg=function(){this.jS.bE.webkitShowPlaybackTargetPicker&&this.jS.bE.webkitShowPlaybackTargetPicker()},i.fg=function(){return this.jS.bE},i.vg=function(){return this.jS.BE},i.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.JS=void 0,this.$S=void 0,this.ZS=void 0,t.next=5,nr.awrap(this.nE.nl());case 5:return this.jS.LE(),t.next=8,nr.awrap(this.jS.nl());case 8:this.tE.nl(),this.Cg=this.KS,this.Q_.nl(),this.Y_.nl(),this.eE=void 0;case 13:case"end":return t.stop()}},null,this,null,we)},i.hv=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.nl());case 2:return this.Wr(),this.ME(),this.UE(),this.tE.hv(),this.jS.AE=void 0,t.next=9,nr.awrap(this.YS.FE(this.jS));case 9:return this.z_.hv(),this.V_.hv(),this.W_.hv(),t.next=14,nr.awrap(this.nE.hv());case 14:case"end":return t.stop()}},null,this,null,we)},i.TE=function(){this.jS.Hr(yc.Aa,this.Ur),this.jS.Hr(yc.ba,this.Ur),this.jS.Hr(yc.La,this.hE),this.jS.Hr(yc.Ta,this.Ur),this.jS.Hr(yc.wa,this.Ur),this.jS.Hr(yc.Na,this.Ur),this.jS.Hr(yc.Ia,this.aE),this.jS.Hr(yc.la,this.Ur),this.jS.Hr(yc.Sa,this.Ur),this.jS.Hr(yc.Ma,this.Ur),this.jS.Hr(yc.va,this.Ur),this.jS.Hr(yc.Ra,this.vE),this.jS.Hr(nm.f_,this.cE),this.jS.Hr(yw.Sl,this.uE),this.jS.Hr(yc.aa,this.Ur),this.jS.Hr(yc.ha,this.pE),this.jS.bE.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.fE)},i.ME=function(){this.jS.Xr(yc.Aa,this.Ur),this.jS.Xr(yc.ba,this.Ur),this.jS.Xr(yc.La,this.hE),this.jS.Xr(yc.Ta,this.Ur),this.jS.Xr(yc.wa,this.Ur),this.jS.Xr(yc.Na,this.Ur),this.jS.Xr(yc.Ia,this.aE),this.jS.Xr(yc.la,this.Ur),this.jS.Xr(yc.Sa,this.Ur),this.jS.Xr(yc.Ma,this.Ur),this.jS.Xr(yc.va,this.Ur),this.jS.Xr(yc.Ra,this.vE),this.jS.Xr(nm.f_,this.cE),this.jS.Xr(yw.Sl,this.uE),this.jS.Xr(yc.aa,this.Ur),this.jS.Xr(yc.ha,this.pE),this.jS.bE.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.fE)},i.RE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:Dr,HE:[{initDataTypes:[Dr.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.SE=function(){var t=this.jS.bE.audioTracks,n=this.jS.bE.videoTracks;t&&(t.addEventListener("addtrack",this.dE),t.addEventListener("removetrack",this.lE),t.addEventListener("change",this._E)),n&&(n.addEventListener("addtrack",this.wE),n.addEventListener("removetrack",this.mE),n.addEventListener("change",this.yE))},i.UE=function(){var t=this.jS.bE.audioTracks,n=this.jS.bE.videoTracks;t&&(t.removeEventListener("addtrack",this.dE),t.removeEventListener("removetrack",this.lE),t.removeEventListener("change",this._E)),n&&(n.removeEventListener("addtrack",this.wE),n.removeEventListener("removetrack",this.mE),n.removeEventListener("change",this.yE))},i.gE=function(t){for(var n=0;n<t.sl;n++){t.Jd(n).Vg()}},i.mg=function(){this.jS.mg()},i.oE=function(t,n){this.JS||(this.JS=n,this.$S=t,this.Fr(new pm(t)))},A(n,[{key:"xE",get:function(){var t=this.jS.yg,n=this.v_;return t.zE(n,.01)}},{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.jS.yg.VE()}},{key:"pg",get:function(){return this.jS.pg},set:function(t){t&&this.jS.WE(t)}},{key:"v_",get:function(){return void 0!==this.eE?this.eE:this.jS.v_},set:function(t){this.bg&&(this.eE=t),this.jS.ys(t)}},{key:"d_",get:function(){return this.jS.d_}},{key:"l_",get:function(){return this.jS.l_}},{key:"ts",get:function(){return this.JS}},{key:"__",get:function(){return this.$S}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return this.jS.bg}},{key:"B_",get:function(){return ir({},{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.jS.XE())}},{key:"g_",get:function(){return this.jS.g_},set:function(t){this.jS.g_=t}},{key:"Ng",get:function(){return!0}},{key:"w_",get:function(){return this.jS.w_}},{key:"m_",get:function(){return this.jS.m_},set:function(t){this.jS.m_=t}},{key:"Dg",get:function(){return this.jS.bE.played}},{key:"Cg",get:function(){return this.KS},set:function(t){this.KS=t,this.ZS&&(this.ZS.Cg=t)}},{key:"Dl",get:function(){return this.jS.Dl}},{key:"Og",get:function(){return this.jS.Og.VE()}},{key:"y_",get:function(){return this.jS.y_}},{key:"qE",get:function(){return this.jS.qE}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"p_",get:function(){return this.jS.p_}},{key:"k_",get:function(){return this.jS.k_}},{key:"b_",get:function(){return this.jS.b_},set:function(t){this.jS.b_=t}},{key:"Pg",get:function(){return this.sE}},{key:"xg",get:function(){return this.jS.xg},set:function(t){this.jS.xg=t}},{key:"GE",get:function(){return this.rE}}]),n}(Iw);var KT=function(){function t(){this.QE=FT.IS}var n=t.prototype;return n.TT=function(t,n,i,e,r,s){return new $T(t,n,i,e,r)},n.YE=function(t,n){return function(t){return!t.type||!(!JT().canPlayType||!JT().canPlayType(t.type))}(t)},n.jE=function(){return!1},t}();function tS(t,n){for(var i=0,e=t.il;i<e.length;i++){var r=e[i];if(r.qg===n)return r}}var nS=function(){function t(){this.ZE=new KT,this.JE=[]}t.$E=function(){return this.Rn};var n=t.prototype;return n.KE=function(t){this.JE.push(t)},n.TT=function(t,n,i,e,r,s){for(var u=this.ZE.TT(t,n,i,e,r,s),o=0,h=this.JE;o<h.length;o++){u=(0,h[o])(u,i,e)}return u},n.YE=function(t,n){return this.ZE.YE(t,n)},n.jE=function(){return!1},A(t,[{key:"QE",get:function(){return this.ZE.QE}}]),t}();function iS(t,n){return ts(t.QE,n.QE)}function eS(t){rS.Rn.tR(t)}nS.Rn=new nS;var rS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).nR=nS.$E(),n}S(n,t);var i=n.prototype;return i.iR=function(t){this.nR=t},i.eR=function(){return this.nR},i.rR=function(t,n){var i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=0;case 1:if(!(i<t.length)){h.next=11;break}return e=t[i],h.next=5,nr.awrap(this.sR(e,n));case 5:if(!(r=h.sent)){h.next=8;break}return h.abrupt("return",{uR:e,oR:r});case 8:i++,h.next=1;break;case 11:s=this.nR,u=0;case 13:if(!(u<t.length)){h.next=20;break}if(o=t[u],!s.YE(o,n)){h.next=17;break}return h.abrupt("return",{uR:o,oR:s});case 17:u++,h.next=13;break;case 20:return h.abrupt("return",{uR:t[0],oR:s});case 21:case"end":return h.stop()}},null,this,null,we)},n}(function(){function t(){this.hR=[]}var n=t.prototype;return n.tR=function(t){this.hR.push(t),this.hR.sort(iS)},n.sR=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.hR;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!G(s=r.YE(t,n))){u.next=10;break}return u.next=7,nr.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,we)},t}());rS.Rn=new rS;var sS,uS=function(){function t(t){this.aR=void 0,this.aR=Hi&&Hi.document&&Hi.document.createElement("div"),De(this.aR),t.appendChild(this.aR)}return t.prototype.hv=function(){Ee(this.aR)},t}();function oS(t){switch(t){case sS.cR:case"":return sS.cR;case sS.$y:return sS.$y;case sS.fR:default:return sS.fR}}!function(t){t.IS="",t.fR="none",t.$y="metadata",t.cR="auto"}(sS||(sS={}));var hS=[yw.Sl,yc.da,yc.es,yc.Ha,yc.ra,yc._a,yc.pa,yc.ka,yc.Ca,yc.Pa,nm.u_,nm.o_,nm.h_,nm.a_,nm.zd,nm.c_,nm.f_,yc.ha,yc.aa,yc.va,yc.la,yc.wa,yc.ma,yc.Aa,yc.Ta,yc.ba,yc.Sa,yc.Ra,yc.Na,yc.Ia,yc.La,yc.Ma,yc.Ea,yc.ya,yc.Da],aS=function(t){function n(n,i){var e;return(e=t.call(this)||this).vR=void 0,e.dR=void 0,e.lR=void 0,e._R=void 0,e.KS=sS.fR,e.gR=void 0,e.wR=!0,e.z_=new pw,e.V_=new pw,e.W_=new Rw,e.X_=new Hm,e.vR=n,e.lR=i,e.lR.Cg=e.Cg,e.mR(),e}S(n,t);var i=n.prototype;return i.K_=function(){this.lR.K_()},i.J_=function(){var t=this.lR.J_();G(t)&&Ss(t)},i.tg=function(){return this.ig(void 0)},i.ug=function(){},i.lg=function(t){return!1},i.mR=function(){this.z_.fl=this.lR.Q_,this.V_.fl=this.lR.Y_,this.W_.fl=this.lR.j_,this.X_.fl=this.lR.Z_,this.lR.Hr(hS,this.Ur)},i.yR=function(){this.lR.Xr(hS,this.Ur),this.z_.fl=void 0,this.V_.fl=void 0,this.W_.fl=void 0,this.X_.fl=void 0},i.ng=function(){return this.gR},i.ig=function(t,n){var i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(ws(n),this.gR=t,t){h.next=4;break}return h.abrupt("return");case 4:if(!jw(i=t.sources.filter(tm))){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,nr.awrap(this.vR.rR(i,t));case 9:if(e=h.sent,ws(n),r=e.uR,s=e.oR,u=this.vg(),o=Am(this),this.dR===s&&!this.ts){h.next=25;break}return this.yR(),h.next=19,nr.awrap(this.lR.hv());case 19:ws(n),this.dR=s,this.lR=this.pR(s),cS(this.lR,o),Tm(this,o,this),this.mR();case 25:return this.lR.Cg=this.Cg,this.wR?this.lR.ag():this.lR.cg(),h.next=29,nr.awrap(this.lR.ig(r,t,n));case 29:ws(n),this.kR(r),this.vg()!==u&&this.Fr(new Dw);case 32:case"end":return h.stop()}},null,this,null,we)},i.kR=function(t){this._R!==t&&(this._R=t,this.Fr(new Cw(t)))},i.eg=function(){return this.lR.eg()},i.rg=function(){this.lR.rg()},i.sg=function(){this.lR.sg()},i.vg=function(){return this.lR.vg()},i.mg=function(){this.lR.mg()},i.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gR=void 0,this.kR(void 0),t.next=4,nr.awrap(this.lR.nl());case 4:case"end":return t.stop()}},null,this,null,we)},i.hv=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,nr.awrap(this.nl());case 3:return t.next=5,nr.awrap(this.lR.hv());case 5:this.z_.hv(),this.V_.hv(),this.W_.hv(),this.X_.hv();case 9:case"end":return t.stop()}},null,this,null,we)},i.ag=function(){this.wR=!0,this.lR.ag()},i.cg=function(){this.wR=!1,this.lR.cg()},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.lR.yg}},{key:"ts",get:function(){return this.lR.ts}},{key:"__",get:function(){return this.lR.__}},{key:"pg",get:function(){return this.lR.pg},set:function(t){this.lR.pg=t}},{key:"wg",get:function(){return this._R}},{key:"v_",get:function(){return this.lR.v_},set:function(t){this.lR.v_=t}},{key:"d_",get:function(){return this.lR.d_}},{key:"l_",get:function(){return this.lR.l_}},{key:"Z_",get:function(){return this.X_}},{key:"bg",get:function(){return this.lR.bg}},{key:"B_",get:function(){return this.lR.B_}},{key:"g_",get:function(){return this.lR.g_},set:function(t){this.lR.g_=t}},{key:"Ng",get:function(){return this.lR.Ng}},{key:"w_",get:function(){return this.lR.w_}},{key:"m_",get:function(){return this.lR.m_},set:function(t){this.lR.m_=t}},{key:"Dg",get:function(){return this.lR.Dg}},{key:"Cg",get:function(){return this.KS},set:function(t){this.KS=t,this.lR&&(this.lR.Cg=this.KS)}},{key:"Dl",get:function(){return this.lR.Dl}},{key:"Og",get:function(){return this.lR.Og}},{key:"y_",get:function(){return this.lR.y_}},{key:"j_",get:function(){return this.W_}},{key:"p_",get:function(){return this.lR.p_}},{key:"Y_",get:function(){return this.V_}},{key:"k_",get:function(){return this.lR.k_}},{key:"b_",get:function(){return this.lR.b_},set:function(t){this.lR.b_=t}},{key:"Pg",get:function(){return this.lR.Pg}},{key:"GE",get:function(){return this.lR.GE}}]),n}(Cs);function cS(t,n){t.g_!==n.g_&&(t.g_=n.g_),t.b_!==n.b_&&(t.b_=n.b_),t.m_!==n.m_&&(t.m_=n.m_)}var fS,vS=function(t){function n(n,i){var e;return(e=t.call(this)||this).sl=void 0,e.bR=void 0,e.AR=void 0,e.sl=n.length>>1,e.bR=n,e.AR=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.sl),e}S(n,t);var i=n.prototype;return i.SR=function(t){return this.bR[2*t]},i.ER=function(t){return this.AR[2*t]},i.RR=function(t){return this.bR[2*t+1]},i.IR=function(t){return this.AR[2*t+1]},A(n,[{key:"NR",get:function(){return this.bR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.mw=function(t,n){return 0===this.Cw(t,n)},n.um=function(t,n){return this.Cw(t,n)>0},n.om=function(t,n){return this.Cw(t,n)>=0},n.Lw=function(t,n){return this.Cw(t,n)<0},n.xw=function(t,n){return this.Cw(t,n)<=0},n.Em=function(t,n){return this.Lw(t,n)?t:n},n.Sm=function(t,n){return this.um(t,n)?t:n},n.DR=function(t,n,i){return i?this.xw(t,n):this.Lw(t,n)},n.VE=function(){var t=this;return{get length(){return t.sl},start:function(n){var i=0|n;return t.OR(i),t.PR(t.SR(i))},end:function(n){var i=0|n;return t.OR(i),t.PR(t.RR(i))}}},n.xR=function(){for(var t=new Array(2*this.sl),n=new Array(2*this.sl),i=0;i<this.sl;i++)t[2*i]=this.SR(i),t[2*i+1]=this.RR(i),n[2*i]=!0,n[2*i+1]=!0;return this.LR(t,n)},n.OR=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.sl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.sl+")")},n.MR=function(t){if(0===this.sl)return this.UR();if(this.zE(t))return t;if(this.xw(t,this.SR(0)))return this.SR(0);if(this.om(t,this.RR(this.sl-1)))return this.RR(this.sl-1);for(var n,i=this.FR(),e=0;e<this.sl;e++){var r=this.SR(e),s=this.Bw(r,t);this.Lw(s,i)&&(n=r,i=s);var u=this.RR(e),o=this.Bw(this.RR(e),t);this.Lw(o,i)&&(n=u,i=o)}return n},n.HR=function(t){for(var n=0,i=0,e=[],r=[];n<this.sl&&i<t.sl;){var s=this.SR(n),u=this.RR(n),o=this.ER(n),h=this.IR(n),a=t.SR(i),c=t.RR(i),f=t.ER(i),v=t.IR(i),d=this.Sm(s,a),l=this.Em(u,c),_=void 0;_=this.mw(s,a)?o&&f:this.mw(d,s)?o:f;var g=void 0;g=this.mw(u,c)?h&&v:this.mw(l,u)?h:v,(this.Lw(d,l)||_&&g&&this.mw(d,l))&&(e.push(d,l),r.push(_,g));var w=this.Cw(this.RR(n),t.RR(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.LR(e,r)},n.zR=function(){var t=this.WR(),n=t.sl;if(0===n)return this.LR([t.XR(),t.FR()],[!1,!1]);var i=[],e=[],r=t.SR(0);t.mw(r,t.XR())||(i.push(t.XR(),r),e.push(!1,!t.ER(0)));for(var s=0;s<n-1;s++)i.push(t.RR(s),t.SR(s+1)),e.push(!t.IR(s),!t.ER(s+1));var u=t.RR(n-1);return t.mw(u,t.FR())||(i.push(u,t.FR()),e.push(!t.IR(n-1),!1)),t.LR(i,e)},n.qR=function(t){for(var n=0,i=0,e=this.sl,r=t.sl,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var h=this.SR(n),a=this.RR(n),c=t.SR(i),f=t.RR(i);this.Lw(h,c)||this.mw(h,c)&&this.Lw(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.ER(n),u[o+1]=this.IR(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.ER(i),u[o+1]=t.IR(i),i++),o+=2}for(;n<e;)s[o]=this.SR(n),s[o+1]=this.RR(n),u[o]=this.ER(n),u[o+1]=this.IR(n),n++,o+=2;for(;i<r;)s[o]=t.SR(i),s[o+1]=t.RR(i),u[o]=t.ER(i),u[o+1]=t.IR(i),i++,o+=2;return this.LR(s,u)},n.GR=function(t){void 0===t&&(t=this.UR());var n=this.sl;if(n<2)return this;for(var i=[],e=[],r=this.SR(0),s=this.RR(0),u=this.ER(0),o=this.IR(0),h=1;h<n;h++){var a=this.SR(h),c=this.RR(h),f=this.ER(h),v=this.IR(h);this.Lw(r,a)&&this.um(s,c)||(this.mw(r,a)&&(u=f=u||f),this.mw(s,c)&&(o=v=o||v),this.DR(a,this.Lg(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=a,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.LR(i,e).WR()},n.WR=function(){for(var t=[],n=[],i=0;i<this.sl;i++){var e=this.SR(i),r=this.RR(i),s=this.ER(i),u=this.IR(i);this.mw(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.LR(t,n)},n.QR=function(t){return this.sl?t.sl?this.qR(t).GR():this:t},n.YR=function(t){var n=this.WR(),i=t.WR(),e=n.zR(),r=i.zR(),s=e.HR(i),u=r.HR(n);return s.QR(u)},n.gs=function(t){if(this.mw(t,this.UR()))return this;for(var n=[],i=[],e=0;e<this.sl;e++){var r=this.Lg(this.SR(e),t),s=this.Lg(this.RR(e),t);n.push(r,s),i.push(this.ER(e),this.IR(e))}return this.LR(n,i)},n.jR=function(t){return 0===this.sl||0===t.sl?this:this.WR().HR(t.WR().zR())},n.zE=function(t,n){return this.ZR(t,n)>=0},n.JR=function(t,n,i,e,r){return this.$R(t,n,i,e,r)>=0},n.KR=function(t,n,i,e,r){return this.tI(t,n,i,e,r)>=0},n.nI=function(t){if(t.sl!==this.sl)return!1;for(var n=0;n<this.sl;n++)if(!this.mw(this.SR(n),t.SR(n))||!this.mw(this.RR(n),t.RR(n))||this.ER(n)!==t.ER(n)||this.IR(n)!==t.IR(n))return!1;return!0},n.iI=function(t){for(var n=[],i=[],e=0;e<this.sl;e++){var r=this.SR(e),s=this.RR(e),u=this.ER(e),o=this.IR(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.LR(n,i)},n.tI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.UR());for(var s=this.Hw(t,r),u=this.Lg(n,r),o=0;o<this.sl;o+=1)if(this.DR(this.SR(o),u,!e||this.ER(o))&&this.DR(s,this.RR(o),!i||this.IR(o)))return o;return-1},n.$R=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.UR());for(var s=this.Lg(t,r),u=this.Hw(n,r),o=0;o<this.sl;o+=1)if(this.DR(this.SR(o),s,!i||this.ER(o))&&this.DR(u,this.RR(o),!e||this.IR(o)))return o;return-1},n.ZR=function(t,n){return this.$R(t,t,!0,!0,n)},n.eI=function(t,n){void 0===n&&(n=this.UR());for(var i=this.Lg(t,n),e=this.sl-1;e>=0;e-=1)if(this.DR(this.SR(e),i,this.ER(e)))return e;return-1},n.rI=function(t,n){void 0===n&&(n=this.UR());for(var i=this.Hw(t,n),e=0;e<this.sl;e+=1)if(this.DR(i,this.RR(e),this.IR(e)))return e;return-1},n.sI=function(t){return this.OR(t),this.LR([this.SR(t),this.RR(t)],[this.ER(t),this.IR(t)])},n.uI=function(t,n){var i=this.ZR(t,n);return i<0?void 0:this.sI(i)},A(t,[{key:"oI",get:function(){for(var t=this.UR(),n=0;n<this.sl;n++){var i=this.Hw(this.RR(n),this.SR(n));t=this.Lg(t,i)}return t}}]),t}()),dS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Cw=function(t,n){return t<n?Yr.mr:t===n?Yr.gr:Yr.wr},i.Lg=function(t,n){return t+n},i.Hw=function(t,n){return t-n},i.Bw=function(t,n){return _.abs(t-n)},i.UR=function(){return 0},i.FR=function(){return 1/0},i.XR=function(){return-1/0},n.hI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.aI=function(t){for(var i=[],e=[],r=0;r<t.sl;r++)i.push(t.SR(r).Nm),i.push(t.RR(r).Nm),e.push(t.ER(r)),e.push(t.IR(r));return new n(i,e)},n.cI=function(t){return new n([t,t],[!0,!0])},i.LR=function(t,i){return new n(t,i)},i.PR=function(t){return t},n.fI=function(){return lS},n}(vS),lS=new dS([]);!function(t){t.Fd="fullscreenchange",t.vI="fullscreensupportchange",t.Sl="fullscreenerror"}(fS||(fS={}));var _S=function(t){function n(){return t.call(this,fS.Sl)||this}return S(n,t),n}(Ps),gS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Zg=function(){this.Fr(new _S)},i.$g=function(){},i.hv=function(){this.Wr()},A(n,[{key:"dI",get:function(){return!1}},{key:"lI",get:function(){return!1}}]),n}(Cs)),wS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).YS=void 0,n.jS=void 0,n}S(n,t);var i=n.prototype;return i.fg=function(){var t;return null==(t=this.jS)?void 0:t.bE},i.hv=function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(t.prototype.hv.call(this));case 2:if(!this.jS){n.next=6;break}return n.next=5,nr.awrap(this.YS.FE(this.jS));case 5:this.jS=void 0;case 6:case"end":return n.stop()}},null,this,null,we)},A(n,[{key:"_I",set:function(t){this.YS=t,this.jS=t.kE(Qm.$f)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).gI=0,n.wI=!1,n.mI=!0,n.yI=1,n.pI=!1,n.Bu=1,n.Q_=new Ym,n.yg=dS.fI().VE(),n.d_=NaN,n.l_=!1,n.ts=void 0,n.__=void 0,n.Z_=void 0,n.bg=!1,n.Ng=!0,n.Dg=dS.fI().VE(),n.Cg=sS.fR,n.Dl=Uw.n_,n.Og=dS.fI().VE(),n.qE=void 0,n.j_=new Tk,n.p_=0,n.Y_=new Ym,n.k_=0,n.Pg=new ZT,n.rE=new XT,n}S(n,t);var i=n.prototype;return i.ag=function(){},i.cg=function(){},i.J_=function(){this.mI&&(this.mI=!1,this.Fr(new rm(this.v_)),this.Fr(new pb(this.v_)))},i.K_=function(){this.mI||(this.mI=!0,this.Fr(new fm(this.v_,this.pg)),this.Fr(new em(this.v_)))},i.ig=function(t,n){return we.resolve()},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.vg=function(){return gS},i.mg=function(){},i.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.gI=0,this.pI=!1,this.K_(),this.Fr(new im(this.gI));case 4:case"end":return t.stop()}},null,this,null,we)},i.hv=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Wr(),this.Q_.hv(),this.j_.hv(),this.Y_.hv();case 4:case"end":return t.stop()}},null,this,null,we)},A(n,[{key:"pg",get:function(){},set:function(t){}},{key:"v_",get:function(){return this.gI},set:function(t){this.gI!==t&&(this.gI=t,this.pI=!0,this.Fr(new lm(this.v_)))}},{key:"B_",get:function(){return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"g_",get:function(){return this.wI},set:function(t){this.wI!==t&&(this.wI=t,this.Fr(new gm(this.v_,this.b_)))}},{key:"w_",get:function(){return this.mI}},{key:"m_",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.yI=t,this.Fr(new cm(this.v_,this.m_)))}},{key:"y_",get:function(){return this.pI}},{key:"b_",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.Fr(new gm(this.v_,this.b_)))}},{key:"xg",get:function(){return!1},set:function(t){}},{key:"GE",get:function(){return this.rE}}]),n}(Cs)),mS=function(t){function n(n,i,e,r,s,u){var o,h=new wS;return(o=t.call(this,rS.Rn,h)||this).Ch=void 0,o.kI=void 0,o.bI=void 0,o.AI=void 0,o.mA=void 0,o.TI=void 0,o.SI=void 0,o.bI=n,o.Ch=i,o.mA=e,o.TI=r,o.AI=u,o.kI=new Mi(s,o.AI),o.kI.EI(o.bI),h._I=o.kI,o.SI=new uS(o.bI),o}S(n,t);var i=n.prototype;return i.ug=function(){t.prototype.ug.call(this),this.kI.RI()},i.og=function(t){var n,i,e,r;n=this,e=(i=t).b_,r=i.g_,n.b_=e,n.g_=r},i.hg=function(){},i.pR=function(t){return t.TT(this.bI,this.kI,this.mA,this.Ch,this.TI,this.AI)},i.fg=function(){return this.lR.fg()},i.dg=function(){return this.kI.II.map(function(t){return t.bE})},i.Vr=function(n){t.prototype.Vr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.hv=function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(t.prototype.hv.call(this));case 2:this.kI.hv(),this.SI.hv();case 4:case"end":return n.stop()}},null,this,null,we)},A(n,[{key:"kg",get:function(){return this.bI}},{key:"xg",get:function(){return this.lR.xg},set:function(t){this.lR.xg=t}}]),n}(aS),yS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).bI=void 0,r.NI=void 0,r.DI=void 0,r.CI=void 0,r.OI=void 0,r.sE=new ZT,r.bI=n,r.NI=i,r.CI=new Ym,r.OI=new Tk,r.DI=e,r}S(n,t);var i=n.prototype;return i.lg=function(t){return!0},i.cg=function(){},i.J_=function(){throw this.Fr(new pm(this.DI)),this.NI},i.K_=function(){},i.ng=function(){},i.ig=function(t,n){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw ws(n),this.Fr(new pm(this.DI)),this.NI;case 3:case"end":return t.stop()}},null,this,null,we)},i.ag=function(){},i.tg=function(){return we.resolve()},i.fg=function(){},i.vg=function(){return gS},i.dg=function(){return[]},i.ug=function(){},i.og=function(t){},i.hg=function(){},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.mg=function(){},i.nl=function(){return we.resolve()},i.hv=function(){return this.Wr(),this.CI.hv(),this.OI.hv(),we.resolve()},A(n,[{key:"Q_",get:function(){return this.CI}},{key:"yg",get:function(){return dS.fI().VE()}},{key:"pg",get:function(){return new Date(NaN)},set:function(t){}},{key:"wg",get:function(){}},{key:"v_",get:function(){return 0},set:function(t){}},{key:"d_",get:function(){return 0}},{key:"kg",get:function(){return this.bI}},{key:"l_",get:function(){return!0}},{key:"ts",get:function(){return this.NI}},{key:"__",get:function(){return this.DI}},{key:"Z_",get:function(){}},{key:"B_",get:function(){return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"g_",get:function(){return!1},set:function(t){}},{key:"Ng",get:function(){return!0}},{key:"w_",get:function(){return!0}},{key:"m_",get:function(){return 0},set:function(t){}},{key:"Dg",get:function(){return dS.fI().VE()}},{key:"Cg",get:function(){return sS.fR},set:function(t){}},{key:"Dl",get:function(){return Uw.n_}},{key:"Og",get:function(){return dS.fI().VE()}},{key:"y_",get:function(){return!1}},{key:"j_",get:function(){return this.OI}},{key:"p_",get:function(){return 0}},{key:"Y_",get:function(){return this.CI}},{key:"k_",get:function(){return 0}},{key:"b_",get:function(){return 1},set:function(t){}},{key:"Pg",get:function(){return this.sE}},{key:"xg",get:function(){return!1},set:function(t){}},{key:"bg",get:function(){return!1}}]),n}(Nw);function pS(t){if(t&&V(t))return ir({},t,{integration:kS(t.integration),fairplay:IS(t.fairplay),widevine:bS(t.widevine),playready:AS(t.playready),clearkey:NS(t.clearkey),aes128:DS(t.aes128),integrationParameters:CS(t.integrationParameters),preferredKeySystems:OS(t.preferredKeySystems)})}function kS(t){if(X(t))return t}function bS(t){if(t&&V(t))return{persistentState:TS(t.persistentState),distinctiveIdentifier:TS(t.distinctiveIdentifier),audioRobustness:SS(t.audioRobustness),videoRobustness:SS(t.videoRobustness),licenseAcquisitionURL:X(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:ES(t.licenseType),headers:t.headers,useCredentials:!!q(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:X(t.certificate)||ju(t.certificate)?t.certificate:void 0,certificateRequestProcessor:RS(t.certificateRequestProcessor),certificateResponseProcessor:RS(t.certificateResponseProcessor),licenseRequestProcessor:RS(t.licenseRequestProcessor),licenseResponseProcessor:RS(t.licenseResponseProcessor)}}function AS(t){if(t){var n=bS(t);if(n)return ir({},n,{customData:X(t.customData)?t.customData:void 0})}}function TS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function SS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function ES(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function RS(t){if("function"==typeof t)return t}function IS(t){if(t){var n=bS(t);if(n)return ir({},n,{certificateURL:X(t.certificateURL)?t.certificateURL:void 0})}}function NS(t){if(t){var n=bS(t);if(n)return ir({},n,{keys:H(t.keys)?t.keys.map(function(t){return function(t){if(!t||!V(t))return;var n=t.id,i=t.value;if(!X(n)||!X(i))return;return{id:n,value:i}}(t)}).filter(F):void 0})}}function DS(t){if(V(t))return{useCredentials:q(t.useCredentials)?t.useCredentials:void 0}}function CS(t){if(V(t))return t}function OS(t){return t&&H(t)?t.map(function(t){return gA(t)}).filter(F):[br,yr,Er]}var PS,xS=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(Ps),BS=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).xI=[],e.BI=void 0,e.LI=function(t){Ts(function(){e.Ur(t)})},e.BI=i?e.LI:e.Ur,e}S(n,t);var i=n.prototype;return i.MI=function(t){t.Vr(this.BI),this.xI.push(t)},i.UI=function(t){t.Qr(this.BI),us(this.xI,t)},i.hv=function(){this.Wr();for(var t=0,n=this.xI;t<n.length;t++){n[t].Qr(this.BI)}as(this.xI)},n}(Iw),LS=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(BS);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(PS||(PS={}));var MS,US=function(t){function i(n){var i;return(i=t.call(this)||this).FI=void 0,i.HI=void 0,i.zI=!1,i.VI=!1,i.WI=void 0,i.XI=void 0,i.qI=void 0,i.Sd=void 0,i.GI=function(){return i.QI()},i.YI=function(){return i.jI()},i.qI=n,i.FI=i.HI=i.WI=i.XI=PS.INLINE,i.qI.Hr(fS.Fd,i.GI),i.qI.Hr(fS.Sl,i.YI),i.ZI(),i}S(i,t);var e=i.prototype;return e.Rd=function(){return t=this,i={get currentMode(){return t.JI()},requestMode:function(n){var i=HS(n);i&&t.$I(i)},supportsMode:function(n){var i=HS(n);return!!i&&t.KI(i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},(n=new BS(i,!0)).MI(t),i;var t,n,i},e.$I=function(t){this.tN(t,t)},e.tN=function(t,n){this.HI!==n&&(this.zI=!0,this.FI=t,this.nN(n,this.HI),t!==PS.FULLSCREEN&&(this.WI=t),this.zI=!1,this.ZI())},e.JI=function(){return this.VI?PS.FULLSCREEN:PS.INLINE},e.KI=function(t){switch(t){case PS.FULLSCREEN:return this.qI.lI;case PS.INLINE:return!0}return!1},e.ZI=function(){if(!this.zI){var t=this.HI,n=this.JI();this.HI=n,n!==PS.FULLSCREEN&&(this.XI=n),t!==n&&this.Fr(new xS(n))}},e.nN=function(t,n){var i=t===PS.FULLSCREEN;this.VI=i,i!==this.qI.dI&&(i?this.qI.Zg():this.qI.$g())},e.QI=function(){if(!this.zI){var t=this.qI.dI;this.VI=t,t?this.tN(PS.FULLSCREEN,PS.FULLSCREEN):t||this.FI!==PS.FULLSCREEN?this.ZI():this.tN(this.WI,this.XI)}},e.jI=function(){this.QI(),this.Fr(new pm(new Ka(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.hv=function(){this.qI.hv(),this.Wr()},A(i,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),i}(Iw),FS={v_:0,d_:NaN,l_:!1,ts:void 0,__:void 0,g_:!1,w_:!0,m_:1,Dl:Uw.n_,y_:!1,p_:0,k_:0,b_:1};function HS(t){switch(t){case PS.INLINE:case PS.FULLSCREEN:case PS.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(MS||(MS={}));var zS,VS,WS,XS,qS,GS,QS,YS,jS=function(){function t(){this.iN=[]}var n=t.prototype;return n.eN=function(t){var n=this.rN.filter(function(n){return n.sN(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.uN=function(t){this.iN.push(t)},A(t,[{key:"rN",get:function(){return this.iN}}]),t}();jS.Rn=new jS,function(t){t.f_="PLAYING",t.M_="PAUSED",t.oN="SEEK",t.hN="STALLED",t.aN="FAILED",t.cN="INITIAL_BUFFERING",t.fN="NO_ACCESS"}(zS||(zS={})),function(t){t.vN="HTTP_REQUEST_STATUS_CODE_1XX",t.dN="HTTP_REQUEST_STATUS_CODE_2XX",t.lN="HTTP_REQUEST_STATUS_CODE_3XX",t._N="HTTP_REQUEST_STATUS_CODE_4XX",t.gN="HTTP_REQUEST_STATUS_CODE_5XX",t.wN="BUFFER_LENGTH",t.mN="BYTES_RECEIVED",t.yN="SEGMENT_READ_BITRATE",t.pN="SEGMENT_PROFILE_BITRATE",t.kN="NUMBER_OF_FRAMES_DROPPED",t.bN="PLAYBACK_POSITION",t.AN="NUMBER_OF_FRAMES_DECODED",t.TN="PLAYBACK_DELTA_TO_ORIGIN",t.SN="STREAM_DELTA_TO_ORIGIN",t.EN="ORIGIN_TIMESTAMP"}(VS||(VS={})),function(t){t.RN="MANIFEST_URI",t.IN="ASSET_DURATION",t.NN="NUMBER_OF_CONTENT_PROFILES",t.DN="CDN",t.CN="CONTENT_TITLE",t.ON="SERVICE_NAME",t.PN="CONTENT_TYPE",t.xN="CONTENT_DESCRIPTION"}(WS||(WS={})),function(t){t.BN="shutdown_normal_shutdown"}(XS||(XS={})),function(t){t.LN="session/",t.MN="internalError/",t.UN="drmError/",t.FN="caError/",t.HN="networkError/"}(qS||(qS={})),function(t){t.zN="userAction",t.VN="endOfStreamReached"}(GS||(GS={})),function(t){t.PAUSE="WN",t.RESUME="XN"}(QS||(QS={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(YS||(YS={}));var ZS,JS,$S,KS,tE,nE="agama";function iE(t){return function(t){switch(t){case ZS.NONE:case ZS.HORIZONTAL:case ZS.VERTICAL:return!0;default:return!1}}(t)?t:ZS.NONE}function eE(t){switch(t){case"":return ZS.NONE;case"horizontal":return ZS.HORIZONTAL;case"vertical":return ZS.VERTICAL;default:throw new d}}function rE(t){if(!t||!X(t))return JS.cR;switch(t){case"always":return JS.qN;case"never":return JS.GN;default:return JS.cR}}function sE(t){if(!t||!X(t))return $S.cR;switch(t){case"playlist":return $S.QN;case"media":return $S.YN;default:return $S.cR}}function uE(t,n){return t.length>0?t:n.length>0?n:void 0}function oE(t){if(null!==t)return t}function hE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:oE(t.streamActivityMonitorID),adTagParameters:V(t.adTagParameters)?t.adTagParameters:{},authToken:oE(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?ir({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.me("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.me("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?ir({},e,{availabilityType:"live",assetKey:u}):void i.me("A Live DAI configuration was provided without valid assetKey which is required.")}i.me("A DAI configuration was provided without a valid availabilityType which is required.")}function aE(t){if(!hA(t)||!t.integration)return t;switch(t.integration){case Nb:return n=t,i=_A(dr.Je,n),e=_A(dr.Ze,n),r=n[dr.Ke]&&_A(dr.Ke,n),ir({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ZS||(ZS={})),function(t){t.cR="auto",t.qN="always",t.GN="never"}(JS||(JS={})),function(t){t.cR="auto",t.QN="playlist",t.YN="media"}($S||($S={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(KS||(KS={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(tE||(tE={}));var cE="https://content.uplynk.com";function fE(t){if(!t)return!0;var n,i,e=!(Yw(n=t.sources)||z(n)&&Yw(n[0]))||jw(t.sources),r=!t.ads||(!(i=t.ads)||H(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function vE(t){if(t&&t.sources)return function t(n){if(X(n))return n;if(Qw(n))return n.src;if(z(n)&&n.length>0)return t(n[0]);return}(t.sources)}function dE(t,n,i){return qw(t)?function(t,n,i){var e=ir({},Zw(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:KS.VERIZON_MEDIA,id:"",prefix:cE,preplayParameters:{},playbackUrlParameters:{},assetType:tE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,X(r)?r:z(r)&&X(r[0])?r:V(s=r)&&X(s.userId)&&(z(s.externalId)||X(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return tE.CHANNEL;case"event":return tE.EVENT;case"asset":default:return tE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=uw(t.contentProtected));t.assetInfo?e.assetInfo=uw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=aw(t.prefix)||cE);return e.ping=(u=e.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!q(o.adImpressions)&&o.adImpressions,a=!!q(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=q(o.linearAdData)?o.linearAdData:u!==tE.ASSET):u!==tE.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),e=_E(e=gE(e=lE(e,t),n,i),t,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var e=Jw(),r=n&&(n.contentProtection||n.drm);if(X(t)){if(e.src=t,e.type=zw(t),r){var s=pS(r);e.contentProtection=aE(s)}}else if(Qw(t)||Xw(t)){e.src=t.src,e.type=t.type||zw(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===Bw.Kl||t.type===Bw.t_}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=V(c=t)&&X(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var h=t.contentProtection||t.drm||r,a=pS(h);e.contentProtection=aE(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return hE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=lE(e,t)}var c;return e=_E(e=gE(e,n,i),t,i)}(t,n,i)}function lE(t,n){var i;n.useCredentials?t.crossOrigin=xw.$l:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case xw.Jl:case xw.$l:return t;default:return xw.Zl}}(n.crossOrigin)),X(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=uw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=uw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:rE(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:sE(null==t?void 0:t.discontinuityAlignment)}}(n.hls));var e=void 0!==n.experimentalRendering?uw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?uw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function _E(t,n,i){return t.abr=function(t,n){var i=cw(null==t?void 0:t.preferredAudioCodecs,aw),e=cw(null==t?void 0:t.preferredVideoCodecs,aw),r=cw(null==n?void 0:n.preferredAudioCodecs,aw),s=cw(null==n?void 0:n.preferredVideoCodecs,aw),u=uE(i,r),o=uE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(X(n)?void 0:n.abr,null==i?void 0:i.abr),t}function gE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!F(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!F(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===xw.Zl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=xw.Jl),t.useCredentials=t.crossOrigin===xw.$l,X(r)&&!t.timeServer&&(t.timeServer=r),t}function wE(t){var n={src:""};if(t&&t.src){if(n.src=aw(t.src),"default"in t&&(n.default=uw(t.default)),n.kind=Ek(t.kind),function(t){switch(t){case hy.DEFAULT:case hy.SRT:case hy.TTML:case hy.WEBVTT:case hy.EMSG:case hy.EVENT_STREAM:case hy.ID3:case hy.CEA608:case hy.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function mE(t,n){if(W(t))try{return n.eN(t).jN(t)}catch(t){return}}function yE(t){return X(t.sources)&&""!==t.sources||V(t.sources)&&X(t.sources.src)}function pE(t){return t.integration===MS.SPOTX&&!m(t.id)}function kE(t){return"freewheel"===t.integration}function bE(t,n,i){if(void 0===i&&(i=jS.Rn),fE(t))return{sources:[Jw()]};var e=iw(t);if(e.sources=function(t,n,i){if(Yw(t))return[dE(t,n,i)];if(z(t)&&Yw(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(dE(s,n,i))}return e}return[Jw()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!z(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=mE(s,n))&&(yE(s)||pE(s)||kE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,h=!jw(e.sources),a=e.ads&&e.ads.length>0;if(h&&!a?delete e.ads:a&&!h&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!z(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=wE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=aw(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=iE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?eE(u.stereoMode):ZS.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Kw(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=iw(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==nE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=km(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=ow(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var AE=function(){function t(t){this.ZN=t}return t.prototype.JN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.ZN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.ZN.indexOf(t.charAt(n))<<18|this.ZN.indexOf(t.charAt(n+1))<<12|(s=this.ZN.indexOf(t.charAt(n+2)))<<6|(u=this.ZN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.$N=function(t,n){var i,e,r,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.ZN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.ZN.charAt(e)+this.ZN.charAt(r)+this.ZN.charAt(s)+this.ZN.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.sy=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.KN=new t(t.sy.JN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function TE(t){return"string"==typeof t}function SE(t){return"number"==typeof t}var EE={}.toString;var RE,IE=Array.isArray||function(t){return"[object Array]"===EE.call(t)};function NE(t,n){return IE(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(RE||(RE={}));var DE,CE=l.keys(RE).map(function(t){return RE[t]});function OE(t){return-1!==CE.indexOf(t)}function PE(t){try{var n=AE.KN.JN(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=TE(t.key),e=TE(t.customer_id),r=SE(t.generation_date),s=SE(t.expiration_date),u=NE(t.domains_page,TE),o=NE(t.domains_source,TE),h=NE(t.sdks,OE),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function xE(){return DE||(DE={Mf:zi.href,tD:Hi.parent&&Hi.parent!==r,nD:ME()}),DE}var BE,LE=["http:","https:","ftp:","ws:","wss:"];function ME(){try{return Hi.top.location.href}catch(t){return Hi&&Hi.document&&Hi.document.referrer}}!function(t){t[t.iD=0]="iD",t[t.eD=1]="eD",t[t.rD=2]="rD"}(BE||(BE={}));var UE,FE=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.sD=t,this.uD=n,this.oD=i,this.hD=e,this.aD=r,this.cD=s,this.fD=u,this.vD=o};!function(t){t.eD="expired",t.dD="invaliddomain",t.lD="invalidsource",t.Sl="error"}(UE||(UE={}));var HE=function(){function t(t,n,i){this._D=void 0,this.gD=t,this.wD=n,this.gu=i,this._D=GE(this.gu)}var n=t.prototype;return n.mD=function(t,n){var i=this;if(!fE(t)&&0!==n.oD.length&&!WE(n.oD)){var e=[];if(Yw(t.sources)?e=[t.sources]:z(t.sources)&&(e=t.sources),!e.every(function(t){return i.yD(t,n)})){var r=UE.lD,s=YE.pD(r);throw new Ka(zE(r),s)}}},n.kD=function(n){return this.bD(n.fD)&&this.TD(n)?t.SD(n.hD)?BE.iD:BE.eD:BE.rD},n.bD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.ED(t)})},n.ED=function(t){return"ios"===function(t){switch(t){case RE.ANDROID:return e.g;case RE.ANDROIDTV:case RE.FIRETV:return e.R;case RE.IOS:return e.I;case RE.TVOS:return e.N;case RE.CHROMECAST:case RE.CHROMECASTCAF:return e.C;default:return e.l}}(t)},t.SD=function(t){var n=Number(new Date);return!!t&&n<=t},n.TD=function(t){return!(this._D&&0!==t.uD.length&&!WE(t.uD))||!!(this._D&&this.RD(t.uD)&&this.ND(t.uD))},n.RD=function(t){return XE(this.gu.Mf,t)},n.ND=function(t){if(!this.gu.tD)return!0;if(this.gD)return!0;var n=this.DD();return!!n&&XE(n,t)},n.DD=function(){if(this.gu.tD){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.gu.nD?this.gu.nD:void 0}},n.yD=function(n,i){return!!t.CD(n,i.oD)},t.CD=function(t,n){return XE(this.OD(t),n)},t.OD=function(t){return X(t)?t:Qw(t)&&t.src||""},t}();function zE(t){switch(t){case UE.dD:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case UE.lD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case UE.eD:return n.ErrorCode.LICENSE_EXPIRED;case UE.Sl:return n.ErrorCode.LICENSE_ERROR}}function VE(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),h=e.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+r+a(h[2])+r+a(h[3])+r+a(h[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function WE(t){return t.some(function(t){return"*"===t})}function XE(t,n){var e=i.Ce(t);if(!qE(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(VE(e.hostname,s))return!0;if(VE(r_(t),s))return!0}return!1}function qE(t){return-1!==LE.indexOf(t.protocol)}function GE(t){var n=i.Ce(t.Mf);return qE(n)&&!VE(n.hostname,"localhost")&&!function(t){return VE(t.hostname,"theoplayer.doubleclick.net")}(n)}var QE,YE=function(){function t(){}return t.pD=function(t){return t===UE.dD?this.PD:t===UE.lD?this.xD:t===UE.eD?this.BD:this.LD},t}();function jE(t){var n=[t.wb,t.MD,t.UD];switch(t.MD){case QE.FD:n.push(t.Pl);break;case QE.HD:n.push(t.v_),n.push(t.ts);break;case QE.zD:n.push(t.ts)}return n}YE.LD="The license for this player is invalid.",YE.BD="The usage license for this video player has expired.",YE.PD="The current domain is incompatible with the license for this player.",YE.xD="The provided video source is incompatible with the license for this player.",function(t){t[t.FD=1]="FD",t[t.HD=4]="HD",t[t.zD=5]="zD"}(QE||(QE={}));for(var ZE=new Array(256),JE=0;JE<256;JE+=1)ZE[JE]=(JE<16?"0":"")+JE.toString(16);function $E(){var t=wt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,e=(4294967296*_.random()|0)+t&1130486254,r=(4294967296*_.random()|0)+t&1284287105;return ZE[255&n]+ZE[n>>>8&255]+ZE[n>>>16&255]+ZE[n>>>24&255]+"-"+ZE[255&i]+ZE[i>>>8&255]+"-"+ZE[i>>>16&15|64]+ZE[i>>>24&255]+"-"+ZE[63&e|128]+ZE[e>>>8&255]+"-"+ZE[e>>>16&255]+ZE[e>>>24&255]+ZE[255&r]+ZE[r>>>8&255]+ZE[r>>>16&255]+ZE[r>>>24&255]}var KE=function(){function t(t){this.ZN=void 0,this.ZN=t}var n=t.prototype;return n.JN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.ZN.indexOf(t.charAt(n))<<18|this.ZN.indexOf(t.charAt(n+1))<<12|(s=this.ZN.indexOf(t.charAt(n+2)))<<6|(u=this.ZN.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.$N=function(t){var n,i,e,r,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.ZN.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[u/3]=this.ZN.charAt(i)+this.ZN.charAt(e)+this.ZN.charAt(r)+this.ZN.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function tR(){return i.ce()}KE.sy=new KE(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),KE.KN=new KE(KE.sy.JN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var nR,iR="theoplayer-session-id";function eR(){if(!nR){var t=_c.cs(iR);t?nR=t:(nR=$E(),_c.ia(iR,nR))}return nR}var rR=/[^\x00-\x7E]/g;function sR(t){return"\\u"+Hr(t.charCodeAt(0).toString(16),4,"0")}var uR=0,oR=1,hR=6e4;function aR(t){var n,i,e,r,s,u=(n=function(t){return[t.VD,t.nh,t.sD,t.Ip,t.WD,t.XD,t.qD.map(jE)]}(t),i=[],e=n,r=function(t,n){if(V(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(rR,sR));return KE.KN.$N(u)}var cR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=KE.sy),void 0===r&&(r=uR),void 0===s&&(s=oR),this.GD=[],this.QD=null,this.YD=0,this.jD="unknown",this.Qu=0,this.ZD=function(){tR()-u.YD>hR&&u.zi()},this.JD=function(){u.zi(!0)},this.yo=t,this.mA=n,this.$D=i,this.KD=e,this.tC=r,this.nC=s,Fi.iC(this.JD),c(this.ZD,hR)}var n=t.prototype;return n.eC=function(){return Boolean(this.WD)},n.rC=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.$D.sC());case 2:if(i.sent.vD){i.next=5;break}return i.abrupt("return");case 5:return n={MD:QE.FD,UD:wt(),Pl:t},i.next=8,nr.awrap(this.uC(n));case 8:case"end":return i.stop()}},null,this,null,we)},n.oC=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={MD:QE.HD,UD:wt(),v_:n,ts:t},e.next=3,nr.awrap(this.uC(i));case 3:case"end":return e.stop()}},null,this,null,we)},n.hC=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={MD:QE.zD,UD:wt(),ts:t},i.next=3,nr.awrap(this.uC(n));case 3:case"end":return i.stop()}},null,this,null,we)},n.uC=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.$D.sC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.KD.$N(n.sD)){i.next=6;break}if(t.MD===QE.zD){i.next=6;break}return i.abrupt("return");case 6:if(t.MD===QE.FD?this.aC():this.eC()||this.aC(),t.wb=this.Qu++,this.GD.push(t),(e=t.MD)!==QE.FD&&e!==QE.zD){i.next=14;break}return i.next=12,nr.awrap(this.zi());case 12:i.next=19;break;case 14:if(!(this.GD.length>this.tC)){i.next=19;break}return i.next=17,nr.awrap(this.cC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,we)},n.zi=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.GD.length>0)){n.next=6;break}return n.next=4,nr.awrap(this.cC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,we)},n.fC=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.$D.sC());case 2:return n=i.sent,i.abrupt("return",{VD:wt(),nh:eR(),sD:this.KD.$N(n.sD)||"dev",Ip:this.yo,WD:this.QD,XD:this.jD,qD:t});case 4:case"end":return i.stop()}},null,this,null,we)},n.cC=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.GD.splice(0,this.nC),e.next=4,nr.awrap(this.fC(n));case 4:i=e.sent,t?this.ov(i):this.vC(i),this.YD=tR();case 7:case"end":return e.stop()}},null,this,null,we)},n.vC=function(t){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=aR(t),i=new Zl({Mf:"https://license.theoplayer.com",yf:n,sv:!1,Of:pc.Pn,Cf:{"Content-Type":jA.jT},nv:4e3,tv:ql.POST}),r.prev=2,r.next=5,nr.awrap(this.mA.Bf(i));case 5:return e=r.sent,r.next=8,nr.awrap(e.gf());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],we)},n.ov=function(t){var n=aR(t);this.mA.ov({Mf:"https://license.theoplayer.com",yf:n,mf:jA.jT})},n.aC=function(){this.eC()&&this.zi(),this.QD=$E(),this.Qu=0},n.hv=function(){Fi.dC(this.JD),this.zi()},A(t,[{key:"qD",get:function(){return this.GD}},{key:"WD",get:function(){return this.QD}}]),t}();var fR=L.hn||L.Qt&&L.ln<13;function vR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var dR=function(){function t(t){this.oR=void 0,this.Sd=void 0,this.lC=void 0,this.oR=t}var n=t.prototype;return n._C=function(t){if(!t||!t.drawImage)return!1;var n=this.oR.fg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.gC=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.oR,h=o.fg();if(!h)return!1;if(fR){this.lC||(this.lC=s.createElement("canvas"));var a=this.lC,c=a.getContext("2d"),f=o.k_,d=o.p_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var g=!1;f>0&&vR(c,f-1,0)&&(a.width=l,g=!0),d>0&&vR(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,e,r,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"Ed",get:function(){return this.Sd||(this.Sd=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t._C.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.gC(n,i,e,r,s,u)}}));var t}}]),t}(),lR=function(t){function n(n,i){var e;return(e=t.call(this,"wC")||this).Rw=n,e.hk=i,e}return S(n,t),n.prototype.Rd=function(){return new _R(this.Rw,this.hk)},n}(Hg),_R=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(Ps),gR=function(t,n){this.kg=void 0,this.mC=void 0,this.kg=t,this.mC=n},wR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).yC=void 0,e.pC=0,e.kC=0,e.bC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.kC=n.width,e.pC=n.height,e.mC(e.kC,e.pC)}},e.yC=new Hi.ResizeObserver(e.bC),e.yC.observe(e.kg),e}return S(n,t),n.prototype.hv=function(){this.yC.disconnect()},A(n,[{key:"AC",get:function(){return this.pC}},{key:"TC",get:function(){return this.kC}}]),n}(gR),mR=0;function yR(t){var n=tR(),i=_.max(0,16-(n-mR)),e=h(function(){return t(n+i)},i);return mR=n+i,e}var pR,kR=a,bR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,AR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function TR(){return pR||(pR=Hi&&Hi.document&&Hi.document.createElement("span")),pR}bR&&AR||(bR=yR,AR=kR),bR=bR.bind(t),AR=AR.bind(t);var SR=["Webkit","Moz","O","ms"],ER=(function(){var t=!1;try{if(void 0!==Hi&&"function"==typeof Hi.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});Hi.addEventListener("testPassiveEventSupport",j,n),Hi.removeEventListener("testPassiveEventSupport",j,n)}}catch(t){}}(),rr());function RR(t){return ER.has(t)||ER.set(t,function(t){var n=TR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<SR.length;e++){var r=SR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),ER.get(t)}function IR(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function NR(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[RR("transition")]="0s"}var DR=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).SC=void 0,u.EC=0,u.kC=NaN,u.pC=NaN,u.RC=void 0,u.IC=void 0,u.NC=void 0,u.DC=void 0,u.OC=void 0,u.nl=function(){u.IC.style.width=1e5+"px",u.IC.style.height=1e5+"px",u.RC.scrollLeft=1e5,u.RC.scrollTop=1e5,u.NC.scrollLeft=1e5,u.NC.scrollTop=1e5,0===u.NC.scrollTop&&bR(u.nl)},u.xC=function(){var t=u.TC,n=u.AC;u.mC(t,n),u.kC=t,u.pC=n,u.nl(),u.EC=0},u.BC=function(){if(!u.EC){var t=u.TC,n=u.AC;t===u.kC&&n===u.pC||(u.EC=bR(u.xC))}},u.LC=function(){u.OC||(u.OC=h(u.MC,66))},u.MC=function(){u.OC=void 0,u.UC()},u.UC=function(){u.BC()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.SC=c,u.RC=s.createElement("div"),u.IC=s.createElement("div"),u.NC=s.createElement("div"),u.DC=s.createElement("div"),IR(u.RC),IR(u.NC),NR(u.IC),NR(a=u.DC),a.style.width="200%",a.style.height="200%",c.appendChild(u.RC),c.appendChild(u.NC),u.RC.appendChild(u.IC),u.NC.appendChild(u.DC),n.appendChild(c),u.RC.addEventListener("scroll",u.BC),u.NC.addEventListener("scroll",u.BC),r&&r.addEventListener("resize",u.LC),u.BC(),u}return S(n,t),n.prototype.hv=function(){AR(this.EC),this.EC=0,this.RC.removeEventListener("scroll",this.BC),this.NC.removeEventListener("scroll",this.BC),Ee(this.SC),r&&r.removeEventListener("resize",this.LC)},A(n,[{key:"AC",get:function(){return this.kg.getBoundingClientRect().height||this.pC||0}},{key:"TC",get:function(){return this.kg.getBoundingClientRect().width||this.kC||0}}]),n}(gR),CR=function(t){function n(n){var i;return(i=t.call(this)||this).kg=void 0,i.yC=void 0,i.bC=function(t,n){i.Fr(new lR(t,n))},i.kg=n,i}S(n,t);var i=n.prototype;return i.oh=function(t){this.yC||("function"==typeof Hi.ResizeObserver?this.yC=new wR(this.kg,this.bC):this.yC=new DR(this.kg,this.bC,t))},i.hv=function(){this.Wr(),this.yC&&(this.yC.hv(),this.yC=void 0)},A(n,[{key:"AC",get:function(){return this.yC?this.yC.AC:0}},{key:"TC",get:function(){return this.yC?this.yC.TC:0}}]),n}(Cs),OR=function(t){function n(){return t.call(this,fS.Fd)||this}return S(n,t),n}(Ps);var PR=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{FC:i[0],HC:i[1],zC:i[2],VC:i[3],WC:i[4],XC:i[5]}}}(),xR=function(t){function n(){return t.call(this,fS.vI)||this}return S(n,t),n}(Ps),BR=function(t){function n(i){var e;return(e=t.call(this)||this).kg=void 0,e.lI=void 0,e.dI=!1,e.qC=function(){return e.GI()},e.GC=function(){return e.YI()},e.kg=i,e.lI=n.QC(i),s.addEventListener(PR.WC,e.qC),e.GI(),e}S(n,t),n.QC=function(t){return Boolean(PR&&s[PR.VC]&&PR.FC in t)};var i=n.prototype;return i.Zg=function(){var t=this.kg[PR.FC]();t&&t.then?t.then(this.qC,this.GC):(s.removeEventListener(PR.XC,this.GC),s.addEventListener(PR.XC,this.GC))},i.$g=function(){var t=s[PR.HC]();t&&t.then?t.then(this.qC,this.GC):(s.removeEventListener(PR.XC,this.GC),s.addEventListener(PR.XC,this.GC))},i.GI=function(){var t=this.dI,n=this.kg===s[PR.zC];this.dI=n,t!==n&&this.Fr(new OR)},i.YI=function(){this.Fr(new _S)},i.hv=function(){this.Wr(),s.removeEventListener(PR.WC,this.qC),s.removeEventListener(PR.XC,this.GC)},n}(Cs),LR=function(t){function n(i){var e;return(e=t.call(this)||this).kg=void 0,e.lI=void 0,e.dI=!1,e.qC=function(){return e.GI()},e.kg=i,e.lI=n.QC(i),e.kg.addEventListener("webkitbeginfullscreen",e.qC),e.kg.addEventListener("webkitendfullscreen",e.qC),e.kg.addEventListener("webkitpresentationmodechanged",e.qC),e.GI(),e}S(n,t),n.QC=function(t){return L.Qt&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Zg=function(){var t=this;this.kg.webkitSupportsPresentationMode&&this.kg.webkitSupportsPresentationMode("fullscreen")?L.Qt?requestAnimationFrame(function(){return t.kg.webkitSetPresentationMode("fullscreen")}):this.kg.webkitSetPresentationMode("fullscreen"):this.kg.webkitEnterFullscreen()},i.$g=function(){this.kg.webkitSupportsPresentationMode&&this.kg.webkitSupportsPresentationMode("inline")?this.kg.webkitSetPresentationMode("inline"):this.kg.webkitExitFullscreen()},i.GI=function(){var t,n=this.dI;t=this.kg.webkitPresentationMode?"fullscreen"===this.kg.webkitPresentationMode:!!this.kg.webkitDisplayingFullscreen,this.dI=t,n!==t&&this.Fr(new OR)},i.hv=function(){this.Wr(),this.kg.removeEventListener("webkitbeginfullscreen",this.qC),this.kg.removeEventListener("webkitendfullscreen",this.qC),this.kg.removeEventListener("webkitpresentationmodechanged",this.qC)},n}(Cs),MR=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).YC=[],n.jC=void 0,n.VI=!1,n.GI=function(){var t=n.VI,i=n.ZC();t!==i&&(n.VI=i,n.Fr(new OR))},n}S(n,t);var i=n.prototype;return i.Zg=function(){this.jC?this.jC.Zg():this.Fr(new _S)},i.$g=function(){for(var t=0,n=this.YC;t<n.length;t++){var i=n[t];i.dI&&i.$g()}},i.JC=function(t){this.jC=t},i.$C=function(t){this.YC.push(t),t.Hr(fS.Fd,this.GI),t.Hr(fS.Sl,this.Ur),this.GI()},i.KC=function(t){us(this.YC,t),t.Xr(fS.Fd,this.GI),t.Xr(fS.Sl,this.Ur)},i.ZC=function(){for(var t=0,n=this.YC;t<n.length;t++){if(n[t].dI)return!0}return!1},i.nl=function(){this.jC=void 0,this.VI=!1;for(var t=this.YC.slice(),n=0;n<t.length;n++){var i=t[n];this.KC(i),i.hv()}this.GI()},i.hv=function(){this.Wr(),this.nl()},A(n,[{key:"lI",get:function(){return!!this.jC&&this.jC.lI}},{key:"dI",get:function(){return this.VI}}]),n}(Cs),UR=function(t){function n(n,i){var e;return(e=t.call(this)||this).oR=void 0,e.tO=void 0,e.nO=void 0,e.iO=!1,e.eO=function(){return e.Zo()},e.GI=function(t){e.iO||e.Fr(t)},e.oR=n,e.tO=i,e.nO=gS,e.rO(),e.oR.Hr(yc._a,e.eO),e.Zo(),e}S(n,t);var i=n.prototype;return i.Zg=function(){this.tO&&this.nO.Zg()},i.$g=function(){this.nO.$g()},i.rO=function(){this.nO.Hr(fS.Fd,this.GI),this.nO.Hr(fS.Sl,this.Ur)},i.sO=function(){this.nO.Xr(fS.Fd,this.GI),this.nO.Xr(fS.Sl,this.Ur)},i.Zo=function(){var t=this.nO,n=this.oR.vg();if(t!==n){this.iO=!0;var i=this.dI,e=this.lI;i&&this.$g(),this.sO(),this.nO=n,this.rO(),i&&!this.dI&&this.lI?this.Zg():this.$g(),this.iO=!1,e!==this.lI&&this.Fr(new xR),i!==this.dI&&this.Fr(new OR)}},i.hv=function(){this.Wr(),this.sO(),this.oR.Xr(yc._a,this.eO)},A(n,[{key:"lI",get:function(){return!!this.tO&&this.nO.lI}},{key:"dI",get:function(){return this.nO.dI}}]),n}(Cs);function FR(t){var n;return{get url(){return t.Mf},get method(){return t.tv},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},get useCredentials(){return t.sv},get type(){return XR(t.nr)},get subType(){return GR(t.ev)},get mediaType(){return YR(t.rv)},get responseType(){return zR(t.Of)}}}function HR(t){switch(t.toLowerCase()){case"arraybuffer":return pc.za;case"json":return pc.Va;case"stream":return pc.Wa;case"text":default:return pc.Pn}}function zR(t){return t}function VR(t){switch(t.toUpperCase()){case"POST":return ql.POST;case"PUT":return ql.PUT;case"DELETE":return ql.DELETE;case"HEAD":return ql.HEAD;case"OPTIONS":return ql.OPTIONS;case"GET":default:return ql.GET}}function WR(t){switch(t.toLowerCase()){case"manifest":return Gl.Hf;case"segment":return Gl.zf;case"content-protection":return Gl.Vf;default:return Gl.Ff}}function XR(t){return t}function qR(t){switch(t.toLowerCase()){case"initialization-segment":return Ql.Wf;case"fairplay-license":return Ql.Xf;case"fairplay-certificate":return Ql.qf;case"widevine-license":return Ql.Gf;case"widevine-certificate":return Ql.Qf;case"playready-license":return Ql.Yf;case"clearkey-license":return Ql.jf;case"aes128-key":return Ql.Zf;default:return Ql.Ff}}function GR(t){return t}function QR(t){switch(t.toLowerCase()){case"audio":return Yl.Jf;case"video":return Yl.$f;case"text":return Yl.Pn;case"image":return Yl.Kf;case"":default:return Yl.Ff}}function YR(t){return t}var jR=function(){function t(t,n){this.uO=new no,this.oO=[],this.Sd=void 0,this.hO=!1,this.pv=void 0,this.aO=0,this.cO=t,this.fO=n}var n=t.prototype;return n.wp=function(){this.hO=!0,this.uO.Is(null)},n.vO=function(){this.uO.Ns(new Tl(this.oO))},n.dO=function(t){if(!this.lO)throw new d("Cannot respond more than once");if(!V(t))throw new d("Expected valid response");this.pv=this._O(t),this.wp()},n.gO=function(){try{var t=this.fO(this.Ed);t?this.wO(t):this.mO||this.yO||this.wp()}catch(t){this.oO.push(t),this.vO()}},n.wO=function(t){if(this.yO)throw new v("Request has been redirected or a response already exists");if(G(t))this.pO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new no;try{var i=t(function(t){t?n.Ns(t):n.Is(void 0)});G(i)&&n.Is(i)}catch(t){n.Ns(t)}this.pO(n.Ss)}},n.pO=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.aO++,n.next=4,nr.awrap(t);case 4:this.aO--,this.mO||this.yO||(this.oO.length?this.vO():this.wp()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this.aO--,this.oO.push(n.t0),this.mO||this.yO||this.vO();case 13:case"end":return n.stop()}},null,this,[[0,8]],we)},A(t,[{key:"kO",get:function(){return this.uO.Ss}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.bO()),this.Sd}},{key:"yO",get:function(){return this.hO}},{key:"lO",get:function(){return!this.hO}},{key:"mO",get:function(){return this.aO>0}},{key:"kv",get:function(){return this.pv}}]),t}(),ZR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).AO=void 0,r.AO=e,r.gO(),r}S(n,t),n.TO=function(t,n,i){var e=void 0===t.body?i:t.body;return new jl({ai:e,Bf:n.Bf,Of:n.Bf.Of,Cf:t.headers,Df:t.status,Pf:t.statusText,Lf:t.url,xf:!0},n)};var i=n.prototype;return i.bO=function(){return i=FR((t=this).Bf),{get closed(){return!t.lO},get request(){return i},get url(){return t.Mf},get status(){return t.Df},get statusText(){return t.Pf},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},respondWith:function(n){return t.dO(n)},waitUntil:function(n){return t.wO(n)}};var t,n,i},i._O=function(t){return n.TO(t,this.cO,this.AO)},A(n,[{key:"yf",get:function(){return this.AO}},{key:"Cf",get:function(){return this.cO.Cf}},{key:"Bf",get:function(){return this.cO.Bf}},{key:"kv",get:function(){return this.pv}},{key:"Df",get:function(){return this.cO.Df}},{key:"Pf",get:function(){return this.cO.Pf}},{key:"Mf",get:function(){return this.cO.Lf}}]),n}(jR),JR=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).SO=void 0,r.EO=void 0,r.EO=e,r.gO(),r}S(n,t);var i=n.prototype;return i.bO=function(){return t=this,{get url(){return t.Mf},get method(){return t.tv},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},get closed(){return!t.lO},get useCredentials(){return t.sv},get type(){return XR(t.nr)},get subType(){return GR(t.ev)},get mediaType(){return YR(t.rv)},get responseType(){return zR(t.Of)},redirect:function(n){return t.RO(n)},respondWith:function(n){return t.dO(n)},waitUntil:function(n){return t.wO(n)}};var t,n},i._O=function(t){var n=this.cO.yf,i=new jl({ai:n,Cf:{},Bf:this.cO,Lf:this.cO.Mf,Of:this.cO.Of,Df:200,Pf:"OK"});return ZR.TO(t,i,n)},i.RO=function(t){if(!this.lO)throw new d("Cannot redirect, already redirected or has a response");var n;n=X(t)?{url:t}:t,this.SO=function(t,n){return new Zl({Mf:void 0===t.url?n.Mf:t.url,tv:void 0!==t.method?VR(t.method):void 0,Cf:t.headers,yf:t.body,sv:t.useCredentials,nr:void 0!==t.type?WR(t.type):void 0,ev:void 0!==t.subType?qR(t.subType):void 0,rv:void 0!==t.mediaType?QR(t.mediaType):void 0,Of:void 0!==t.responseType?HR(t.responseType):void 0},n)}(n,this.cO),this.wp()},A(n,[{key:"yf",get:function(){return this.cO.yf}},{key:"lO",get:function(){return this.EO&&!this.hO}},{key:"Cf",get:function(){return this.cO.Cf}},{key:"tv",get:function(){return this.cO.tv}},{key:"IO",get:function(){return this.SO}},{key:"kv",get:function(){return this.pv}},{key:"Of",get:function(){return this.cO.Of}},{key:"nv",get:function(){return this.cO.nv}},{key:"xr",get:function(){return this.cO.xr}},{key:"nr",get:function(){return this.cO.nr}},{key:"ev",get:function(){return this.cO.ev}},{key:"rv",get:function(){return this.cO.rv}},{key:"Mf",get:function(){return this.cO.Mf}},{key:"sv",get:function(){return this.cO.sv}},{key:"uv",get:function(){return this.cO.uv}}]),n}(jR);var $R,KR=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new tI(n);return(e=t.call(this,r,i)||this).DO=void 0,e.DO=r,e}S(n,t);var i=n.prototype;return i.CO=function(t){this.DO.CO(t)},i.OO=function(t){this.DO.OO(t)},i.PO=function(t){this.DO.PO(t)},i.xO=function(t){this.DO.xO(t)},i.BO=function(t){this.DO.BO(t)},n}($l),tI=function(){function t(t){this.av=void 0,this.LO=[],this.MO=[],this.av=t}var n=t.prototype;return n.Bf=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nr.awrap(this.UO(t,t.xr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof s_)){i.next=12;break}return i.next=11,nr.awrap(this.FO(i.t0,t.xr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,nr.awrap(this.HO(n,t.xr));case 15:if(!Xl(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new o_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],we)},n.ov=function(t){return this.av.ov(t)},n.UO=function(t,n){var i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:ws(n),i=t,r=0,s=this.LO.slice();case 3:if(!(r<s.length)){h.next=21;break}if(u=s[r],ws(n),(o=new JR(i,u,!e)).yO){h.next=17;break}return h.prev=8,h.next=11,nr.awrap(o.kO);case 11:h.next=17;break;case 13:return h.prev=13,h.t0=h.catch(8),h.abrupt("continue",18);case 17:o.IO&&!e?i=o.IO:o.kv&&!e&&(e=o.kv);case 18:r++,h.next=3;break;case 21:if(!e){h.next=23;break}return h.abrupt("return",e);case 23:return h.abrupt("return",this.av.Bf(i));case 24:case"end":return h.stop()}},null,this,[[8,13]],we)},n.FO=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof o_?t.kv:new jl({ai:null,Bf:t.Bf,Df:0,Pf:""}),r.next=3,nr.awrap(this.HO(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!Xl(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new o_(e);case 13:case"end":return r.stop()}},null,this,null,we)},n.HO=function(t,n){var i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=t,e=0,r=this.MO.slice();case 2:if(!(e<r.length)){h.next=23;break}return s=r[e],ws(n),h.next=7,nr.awrap(we.resolve(i.ps().ai(n)));case 7:if(u=h.sent,(o=new ZR(i,s,u)).yO){h.next=19;break}return h.prev=10,h.next=13,nr.awrap(o.kO);case 13:h.next=19;break;case 15:return h.prev=15,h.t0=h.catch(10),h.abrupt("continue",20);case 19:i=o.kv||i;case 20:e++,h.next=2;break;case 23:return h.abrupt("return",i);case 24:case"end":return h.stop()}},null,this,[[10,15]],we)},n.CO=function(t){this.LO.unshift(t)},n.OO=function(t){this.LO.push(t)},n.PO=function(t){us(this.LO,t)},n.xO=function(t){this.MO.unshift(t)},n.BO=function(t){us(this.MO,t)},n.hv=function(){this.av.hv(),as(this.LO),as(this.MO)},t}(),nI=function(){function t(t){this.Sd=void 0,this.mA=t}var n=t.prototype;return n.CO=function(t){this.mA.CO(t)},n.PO=function(t){this.mA.PO(t)},n.xO=function(t){this.mA.xO(t)},n.BO=function(t){this.mA.BO(t)},A(t,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{addRequestInterceptor:function(n){t.CO(n)},removeRequestInterceptor:function(n){t.PO(n)},addResponseInterceptor:function(n){t.xO(n)},removeResponseInterceptor:function(n){t.BO(n)}})),this.Sd}}]),t}(),iI=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Sd=void 0,r.zO=function(t){r.Fr(t)},r.VO=function(t){r.Fr(t)},r.WO=n,r.mA=i,r.TI=e,r.WO.Hr(yc.ka,r.zO),r.WO.Hr(yc.pa,r.VO),r}S(n,t);var i=n.prototype;return i.XO=function(t){this.TI.XO(t)},i.CO=function(t){this.mA.CO(t)},i.PO=function(t){this.mA.PO(t)},i.xO=function(t){this.mA.xO(t)},i.BO=function(t){this.mA.BO(t)},i.hv=function(){this.Wr(),this.WO.Xr(yc.ka,this.zO),this.WO.Xr(yc.pa,this.VO)},A(n,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{get online(){return t.Ng},get estimator(){return n=t.qO,{get bandwidth(){return n.DS},get roundTripTime(){return n.CS}};var n},setEstimator:function(n){t.XO(function(t){if(t)return{get DS(){return hw(t.bandwidth)},get CS(){return hw(t.roundTripTime)},NS:function(n){return function(t){if(t)return{GO:function(n){t.markRequestStart(n)},QO:function(n){t.markResponseStart(n)},YO:function(n,i){t.markResponseData(n,i)},jO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(FR(n)))}}}(n))},addRequestInterceptor:function(n){t.CO(n)},removeRequestInterceptor:function(n){t.PO(n)},addResponseInterceptor:function(n){t.xO(n)},removeResponseInterceptor:function(n){t.BO(n)},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}})),this.Sd}},{key:"Ng",get:function(){return this.WO.Ng}},{key:"qO",get:function(){return this.TI.qO}}]),n}(Cs);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}($R||($R={}));var eI=30,rI={type:$R.BANDWIDTH},sI=20,uI=60;function oI(t){var n,i,e,r=iw(rI);return X(t)?r.type=hI(t):V(t)&&function(t){switch(t){case $R.PERFORMANCE:case $R.QUALITY:case $R.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=hI(t.type)),V(t)&&V(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=ow(n.bitrate),m(e)||(i.bitrate=e),i)),r}function hI(t){switch(t){case"bandwidth":return $R.BANDWIDTH;case"performance":return $R.PERFORMANCE;case"quality":return $R.QUALITY}}var aI=function(t){function n(n){var i;return(i=t.call(this,"JO")||this).ZO=n,i}return S(n,t),n}(Ps),cI=function(t){function n(n){var i;return(i=t.call(this,"KO")||this).$O=n,i}return S(n,t),n}(Ps),fI=function(t){function n(n){var i;return(i=t.call(this,"nP")||this).tP=n,i}return S(n,t),n}(Ps),vI=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Sd=(i=Tt(n),{get strategy(){return{metadata:(t=i.$O).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.$O=oI(t)},get targetBuffer(){return i.ZO},set targetBuffer(t){var n=ow(t);m(n)||(i.ZO=n>uI?uI:n)},get bufferLookbackWindow(){return i.tP},set bufferLookbackWindow(t){var n=ow(t);m(n)||(i.tP=n<=0?eI:n)}}),n.iP=rI,n.eP=sI,n.rP=eI,n.sP=void 0,n.uP=void 0,n}S(n,t);var i=n.prototype;return i.oP=function(t){this.uP=t},i.XO=function(t){this.sP=t},A(n,[{key:"hP",get:function(){switch(this.iP.type){case $R.PERFORMANCE:return 0;case $R.QUALITY:return 1/0;case $R.BANDWIDTH:return this.iP.metadata&&void 0!==this.iP.metadata.bitrate?this.iP.metadata.bitrate:8*Ow.ql();default:return 8*Ow.ql()}}},{key:"Ed",get:function(){return this.Sd}},{key:"$O",get:function(){return this.iP},set:function(t){this.iP=t,this.Fr(new cI(t))}},{key:"ZO",get:function(){return this.eP},set:function(t){this.eP=t,this.Fr(new aI(t))}},{key:"tP",get:function(){return this.rP},set:function(t){this.rP=t,this.Fr(new fI(t))}},{key:"qO",get:function(){var t;return null!=(t=this.sP)?t:this.uP.GE}}]),n}(Cs),dI=function(t){function n(){return t.call(this,"Hd")||this}return S(n,t),n.prototype.Rd=function(){return new lI},n}(Hg),lI=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Ps),_I=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this).aP=void 0,r.GD=void 0,r.cP=function(t){zg(t)&&Ts(function(){r.Fr(t.Ed)})},r.aP=n,r.GD=i;for(var s=0,u=r.GD;s<u.length;s++){var o=u[s];r.aP.Hr(o,r.cP)}return r}return S(n,t),n.prototype.hv=function(){this.Wr();for(var t=0,n=this.GD;t<n.length;t++){var i=n[t];this.aP.Xr(i,this.cP)}},n}(Cs),gI=function(t){function n(n,i){var e;return(e=t.call(this,i)||this).aP=void 0,e.cP=function(t){zg(t)&&Ts(function(){e.Fr(t.Ed)})},e.aP=n,e.aP.Vr(e.cP),e}return S(n,t),n.prototype.hv=function(){this.Wr(),this.aP.Qr(this.cP)},n}(Iw),wI=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(gI);var mI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).fw=0,n.vw=1/0,n.Sd=void 0,n}S(n,t);var i=n.prototype;return i.nl=function(){0===this.fw&&this.vw===1/0||(this.fw=0,this.vw=1/0,this.Fr(new dI))},i.fP=function(){return new dS([this.tw,this.nw],[!0,!0])},A(n,[{key:"tw",get:function(){return this.fw},set:function(t){if(this.nw<=t)throw new v("Start time of a clip should be smaller than the end time.");this.fw!==t&&(this.fw=t,this.Fr(new dI))}},{key:"nw",get:function(){return this.vw},set:function(t){if(t<=this.tw)throw new v("End time of a clip should be larger than the start time.");this.vw!==t&&(this.vw=t,this.Fr(new dI))}},{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get startTime(){return t.tw},set startTime(n){t.tw=n},get endTime(){return t.nw},set endTime(n){t.nw=n},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new gI(t=this,i),i)),this.Sd}}]),n}(Iw),yI=function(t){function n(n){var i;return(i=t.call(this)||this).vP=function(t){i.dP(t)||i.Fr(t)},i.lP=n,i.lP.Vr(i.vP),i}S(n,t);var i=n.prototype;return i._P=function(){return this.lP.Q_},i.dg=function(){return this.lP.dg()},i.gP=function(){return this.lP.yg},i.wP=function(){return this.lP.wg},i.mP=function(){return this.lP.pg},i.yP=function(t){this.lP.pg=t},i.pP=function(){return this.lP.v_},i.kP=function(t){this.lP.v_=t},i.bP=function(){return this.lP.d_},i.AP=function(){return this.lP.kg},i.TP=function(){return this.lP.l_},i.SP=function(){return this.lP.ts},i.EP=function(){return this.lP.__},i.RP=function(){return this.lP.bg},i.IP=function(){return this.lP.g_},i.NP=function(t){this.lP.g_=t},i.DP=function(){return this.lP.Ng},i.CP=function(){return this.lP.w_},i.OP=function(){return this.lP.m_},i.PP=function(t){this.lP.m_=t},i.xP=function(){return this.lP.Dg},i.BP=function(){return this.lP.Cg},i.LP=function(t){this.lP.Cg=t},i.MP=function(){return this.lP.Dl},i.UP=function(){return this.lP.Og},i.FP=function(){return this.lP.y_},i.ng=function(){return this.lP.ng()},i.ig=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return ws(n),i.next=3,nr.awrap(this.lP.ig(t,n));case 3:case"end":return i.stop()}},null,this,null,we)},i.HP=function(){return this.lP.j_},i.zP=function(){return this.lP.p_},i.VP=function(){return this.lP.Y_},i.WP=function(){return this.lP.k_},i.XP=function(){return this.lP.b_},i.qP=function(t){this.lP.b_=t},i.vg=function(){return this.lP.vg()},i.fg=function(){return this.lP.fg()},i.og=function(t){this.lP.og(t)},i.hg=function(){this.lP.hg()},i.cg=function(){this.lP.cg()},i.ug=function(){this.lP.ug()},i.K_=function(){this.lP.K_()},i.J_=function(){this.lP.J_()},i.ag=function(){this.lP.ag()},i.tg=function(){return this.lP.tg()},i.eg=function(){return this.lP.eg()},i.rg=function(){this.lP.rg()},i.sg=function(){this.lP.sg()},i.nl=function(){return this.lP.nl()},i.hv=function(){return this.lP.hv()},i.mg=function(){this.lP.mg()},i.lg=function(t){return this.lP.lg(t)},i.dP=function(t){return!1},A(n,[{key:"Q_",get:function(){return this._P()}},{key:"yg",get:function(){return this.gP()}},{key:"pg",get:function(){return this.mP()},set:function(t){this.yP(t)}},{key:"wg",get:function(){return this.wP()}},{key:"v_",get:function(){return this.pP()},set:function(t){this.kP(t)}},{key:"d_",get:function(){return this.bP()}},{key:"kg",get:function(){return this.AP()}},{key:"l_",get:function(){return this.TP()}},{key:"ts",get:function(){return this.SP()}},{key:"__",get:function(){return this.EP()}},{key:"Z_",get:function(){return this.lP.Z_}},{key:"bg",get:function(){return this.RP()}},{key:"B_",get:function(){return this.lP.B_}},{key:"g_",get:function(){return this.IP()},set:function(t){this.NP(t)}},{key:"Ng",get:function(){return this.DP()}},{key:"w_",get:function(){return this.CP()}},{key:"m_",get:function(){return this.OP()},set:function(t){this.PP(t)}},{key:"Dg",get:function(){return this.xP()}},{key:"Cg",get:function(){return this.BP()},set:function(t){this.LP(t)}},{key:"Dl",get:function(){return this.MP()}},{key:"Og",get:function(){return this.UP()}},{key:"y_",get:function(){return this.FP()}},{key:"j_",get:function(){return this.HP()}},{key:"p_",get:function(){return this.zP()}},{key:"Y_",get:function(){return this.VP()}},{key:"k_",get:function(){return this.WP()}},{key:"b_",get:function(){return this.XP()},set:function(t){this.qP(t)}},{key:"Pg",get:function(){return this.lP.Pg}},{key:"xg",get:function(){return this.lP.xg},set:function(t){this.lP.xg=t}}]),n}(Nw),pI=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).GP=void 0,r.QP=!1,r.YP=void 0,r.jP=!1,r.ZP=function(){r.JP(),r.$P()},r.hE=function(){r.KP(),r.$P(),r.tx&&r.v_>=r.GP.nw-n.nx&&!r.l_&&(r.YP=bR(r.hE))},r.ix=function(){r.jP=!0},r.ex=function(){r.jP&&(r.jP=!1,r.$P())},r.GP=e,r.GP.Hr("Hd",r.ZP),r.lP.Hr("timeupdate",r.hE),r}S(n,t);var i=n.prototype;return i.kP=function(n){var i=this.GP.fP().MR(n);t.prototype.kP.call(this,i),this.$P()},i.TP=function(){return t.prototype.TP.call(this)||this.QP},i.UP=function(){return dS.hI(t.prototype.UP.call(this)).HR(this.GP.fP()).VE()},i.J_=function(){this.TP()?this.kP(this.sx.start(0)):this.JP(),t.prototype.J_.call(this),this.$P()},i.ig=function(n,i){return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return ws(i),this.QP=!1,this.GP.nl(),e.next=5,nr.awrap(t.prototype.ig.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,we)},i.hv=function(){return this.GP.Xr("Hd",this.ZP),this.lP.Xr("timeupdate",this.hE),this.KP(),t.prototype.hv.call(this)},i.dP=function(n){switch(n.type){case"seeking":return this.Fr(n),this.ix(),!0;case"seeked":case"emptied":return this.Fr(n),this.ex(),!0;case"ended":if(this.tx)return!0}return t.prototype.dP.call(this,n)},i.KP=function(){this.YP&&(AR(this.YP),this.YP=void 0)},i.$P=function(){var t=this.v_,i=this.tx&&t>=this.GP.nw-n.Dm;this.QP&&!i?(this.QP=!1,this.w_&&this.J_()):this.QP||!i||this.y_||this.jP||(this.QP=!0,this.Fr(new vm(t)),this.K_())},i.JP=function(){if(this.d_!==1/0){var t=this.sx,i=dS.hI(t).MR(this.v_);vt(this.v_,i,n.Dm)||this.kP(i)}},A(n,[{key:"sx",get:function(){return this.UP().length?this.UP():this.GP.fP().VE()}},{key:"tx",get:function(){return this.GP.nw<this.d_}}]),n}(yI);pI.nx=1,pI.Dm=.001;var kI=function(){function t(){this.ux=void 0,this.ux=!1}return A(t,[{key:"ox",get:function(){return this.ux},set:function(t){this.ux=t}}]),t}(),bI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).ux=void 0,e.hx=!1,e.ax=!1,e.ux=i,e}S(n,t);var i=n.prototype;return i.TP=function(){return!this.ux.ox&&t.prototype.TP.call(this)},i.K_=function(){this.ax=!0,t.prototype.K_.call(this)},i.J_=function(){this.ax=!1,t.prototype.J_.call(this)},i.dP=function(n){if(this.ux.ox)switch(n.type){case"ended":return this.v_=0,this.ax||(this.y_?this.hx=!0:this.J_()),!0;case"seeked":this.hx&&(this.hx=!1,this.J_());break;case"pause":if(this.hx||t.prototype.TP.call(this))return!0}return t.prototype.dP.call(this,n)},n}(yI);var AI=function(){function t(t){var n;this.Sd=(n=this,{get currentBandwidthEstimate(){return n.Eg},get corruptedVideoFrames(){return n.Tg},get droppedVideoFrames(){return n.Ag},get totalBytesLoaded(){return n.Rg},get bufferedSegments(){return n.Ig}}),this.lR=t}return A(t,[{key:"Ed",get:function(){return this.Sd}},{key:"Tg",get:function(){return this.lR.vx.B_.Tg}},{key:"Eg",get:function(){return this.lR.vx.B_.Eg}},{key:"Ag",get:function(){return this.lR.vx.B_.Ag}},{key:"lx",get:function(){throw new v("Not implemented")}},{key:"_x",get:function(){throw new v("Not implemented")}},{key:"Rg",get:function(){return this.lR.vx.B_.Rg}},{key:"Sg",get:function(){return this.lR.vx.B_.Sg}},{key:"Ig",get:function(){return this.lR.vx.B_.Ig}}]),t}();function TI(t){if(!t||!Oe(t))return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Ag:n.droppedVideoFrames,Tg:n.corruptedVideoFrames||0,Sg:n.totalVideoFrames}}return{Ag:t.webkitDroppedFrameCount||0,Tg:0,Sg:t.webkitDecodedFrameCount||0}}var SI=function(t){function n(){return t.call(this,"gx")||this}return S(n,t),n.prototype.Rd=function(){return new EI},n}(Hg),EI=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(Ps);var RI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).wx=[],n.Sd=void 0,n.mx=function(){return n.Fr(new SI)},n}S(n,t);var i=n.prototype;return i.yx=function(t){this.wx.push(t),t.Hr("statechange",this.mx)},i.hv=function(){var t=this;this.wx.forEach(function(n){n.Xr("statechange",t.mx)}),as(this.wx)},A(n,[{key:"kx",get:function(){return this.wx.some(function(t){return t.kx})}},{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get casting(){return t.kx},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new wI(t=this,i),i)),this.Sd}}]),n}(Nw),II=function(){function t(){}return t.bx=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=new Zl({Mf:t,Of:pc.Pn,tv:ql.GET}),r.next=4,nr.awrap(n.Bf(i));case 4:return e=r.sent,r.next=7,nr.awrap(e.ai());case 7:return r.abrupt("return",r.sent);case 10:return r.prev=10,r.t0=r.catch(0),gs(r.t0),r.abrupt("return",void 0);case 14:case"end":return r.stop()}},null,null,[[0,10]],we)},t.Ax=function(t){try{var i=PE(t);return new FE(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Ka(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.Tx=function(t){void 0===t&&(t=KE.sy),i.me("The baked-in license is used. Please update the configuration with your license.");var n=t.JN(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JN(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.JN(n)}),s=Number(new Date(Number(t.JN("COD|aHpHa:p3Ceo3Co\"\""))));return new FE(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new FE(t.sD,t.uD,t.oD,864e13,t.aD,Date.now(),t.fD,t.vD)},t}(),NI=function(){function t(){}return t.ea=function(){return t.Rn||(t.Rn=DI.wh()?new DI:new lc),t.Rn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t.Sx=function(n){var i=t.cs(n);if(void 0!==i)return w(i)},t.Ex=function(n){return"true"===t.cs(n)},t}();NI.Rn=void 0;var DI=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.ds=function(n){t.localStorage.removeItem(n)},e.na=function(){t.localStorage.clear()},e.cs=function(n){return t.localStorage[n]},e.ia=function(n,i){t.localStorage[n]=i},i}(NI),CI=_.floor(14399999*_.random()-72e5),OI=function(){function t(t,n,i,e,r,s){this._D=void 0,this.mA=t,this.Rx=n,this.Ix=i,this.$D=e,this.Nx=r,this.gu=s,this._D=GE(s)}var i=t.prototype;return i.Dx=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.Cx(this.Nx.license,this.Nx.licenseUrl));case 2:t=n.sent,this.$D.Ox(t);case 4:case"end":return n.stop()}},null,this,null,we)},i.Cx=function(t,i){var e,r,s,u,o,h,a,c,f;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=II.Ax(t):e||(r=II.Tx()),e||(e="https://validate.theoplayer.com/1/"+r.sD),s=this.Px(),!r){v.next=14;break}if((u=this.Rx.kD(r))!==BE.iD){v.next=14;break}if(!this.xx(r.hD)||!this.xx(null==s?void 0:s.hD)){v.next=13;break}return v.next=10,nr.awrap(this.Bx(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.Rx.kD(s)!==BE.iD){v.next=24;break}if(!this.xx(null==s?void 0:s.hD)){v.next=23;break}return v.next=20,nr.awrap(this.Bx(e));case 20:if(!(h=v.sent)){v.next=23;break}return v.abrupt("return",h);case 23:return v.abrupt("return",s);case 24:NI.ds("THEOplayer.license");case 25:return v.next=27,nr.awrap(II.bx(e,this.mA));case 27:if(!(a=v.sent)){v.next=37;break}if(c=II.Ax(a),this.Rx.kD(c)!==BE.iD){v.next=34;break}return NI.ia("THEOplayer.license",a),v.abrupt("return",c);case 34:NI.ds("THEOplayer.license"),v.next=39;break;case 37:if(this._D||!r||u!==BE.eD||e!=="https://validate.theoplayer.com/1/"+r.sD){v.next=39;break}return v.abrupt("return",II.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.Lx(null!=(f=r)?f:c,new Ka(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Ka(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,we)},i.mD=function(t){var n,i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,nr.awrap(this.$D.sC());case 2:if(n=h.sent,!this.xx(n.hD)){h.next=9;break}return e=null!=(i=this.Nx.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.sD,h.next=7,nr.awrap(this.Bx(e));case 7:(r=h.sent)&&(this.$D.Ox(r),n=r);case 9:if(h.prev=9,(s=this.Rx.kD(n))!==BE.rD){h.next=16;break}throw u=UE.dD,new Ka(zE(u),YE.pD(u));case 16:if(s!==BE.eD){h.next=19;break}throw o=UE.eD,new Ka(zE(o),YE.pD(o));case 19:this.Rx.mD(t,n),h.next=25;break;case 22:h.prev=22,h.t0=h.catch(9),this.Mx(h.t0);case 25:case"end":return h.stop()}},null,this,[[9,22]],we)},i.Bx=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nr.awrap(II.bx(t,this.mA));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=II.Ax(n),this.Rx.kD(i)!==BE.iD){e.next=11;break}return NI.ia("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],we)},i.xx=function(t){return!t||Number(new Date)+2592e5+CI>=t},i.Px=function(){var t=NI.cs("THEOplayer.license");if(t)return II.Ax(t)},i.Lx=function(t,n){this.$D.Ox(t),this.Mx(n)},i.Mx=function(t){throw ut(t.message),this.Ix.hC(t.message),t},t}(),PI=function(){function t(){this.Ux=void 0,this.Fx=new no}var n=t.prototype;return n.Ox=function(t){this.Ux=t,this.Fx.Is()},n.sC=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.Ux){t.next=2;break}return t.abrupt("return",we.resolve(this.Ux));case 2:return t.next=4,nr.awrap(this.Fx.Ss);case 4:return t.abrupt("return",this.Ux);case 5:case"end":return t.stop()}},null,this,null,we)},A(t,[{key:"Hx",get:function(){return this.Ux}}]),t}(),xI=function(t){function n(){return t.call(this,"Hd")||this}return S(n,t),n.prototype.Rd=function(){return new BI},n}(Hg),BI=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(Ps);function LI(t){var n,i={get fontFamily(){return t.zx},set fontFamily(n){t.zx=n},get fontColor(){return t.Vx},set fontColor(n){t.Vx=n},get fontSize(){return t.Wx},set fontSize(n){t.Wx=n},get backgroundColor(){return t.Xx},set backgroundColor(n){t.Xx=n},get windowColor(){return t.qx},set windowColor(n){t.qx=n},get edgeStyle(){return t.Gx},set edgeStyle(n){t.Gx=n},addEventListener:function(t,i){var e=fw(t,aw);n.Hr(e,i)},removeEventListener:function(t,i){var e=fw(t,aw);n.Xr(e,i)}};return n=new Os(i),t.Hr(["Hd"],function(t){return n.Fr(t.Ed)}),i}var MI,UI,FI={zx:void 0,Vx:void 0,Wx:void 0,Xx:void 0,qx:void 0,Gx:void 0,Qx:void 0},HI="THEOplayer.textTrackStyle.",zI=function(t){function n(){var i;return(i=t.call(this)||this).Yx=void 0,i.Sd=void 0,i.Yx=n.jx(),i}return S(n,t),n.prototype.Zo=function(t){this.Yx=ir({},this.Yx,t),n.Zx(this.Yx),this.Fr(new xI)},n.jx=function(){var t=ir({},FI);return t.zx=NI.cs(HI+"fontFamily")||t.zx,t.Vx=NI.cs(HI+"fontColor")||t.Vx,t.Wx=NI.cs(HI+"fontSize")||t.Wx,t.Xx=NI.cs(HI+"backgroundColor")||t.Xx,t.qx=NI.cs(HI+"windowColor")||t.qx,t.Gx=NI.cs(HI+"edgeStyle")||t.Gx,t},n.Zx=function(t){NI.ia(HI+"fontFamily",t.zx||""),NI.ia(HI+"fontColor",t.Vx||""),NI.ia(HI+"fontSize",t.Wx||""),NI.ia(HI+"backgroundColor",t.Xx||""),NI.ia(HI+"windowColor",t.qx||""),NI.ia(HI+"edgeStyle",t.Gx||"")},A(n,[{key:"Jx",get:function(){return this.Yx}},{key:"zx",get:function(){return this.Yx.zx},set:function(t){this.Zo({zx:t})}},{key:"Vx",get:function(){return this.Yx.Vx},set:function(t){this.Zo({Vx:t})}},{key:"Wx",get:function(){return this.Yx.Wx},set:function(t){this.Zo({Wx:t})}},{key:"Xx",get:function(){return this.Yx.Xx},set:function(t){this.Zo({Xx:t})}},{key:"qx",get:function(){return this.Yx.qx},set:function(t){this.Zo({qx:t})}},{key:"Gx",get:function(){return this.Yx.Gx},set:function(t){this.Zo({Gx:t})}},{key:"Qx",get:function(){return this.Yx.Qx}},{key:"Ed",get:function(){return this.Sd||(this.Sd=LI(this)),this.Sd}}]),n}(Cs),VI=function(t){function n(n,e){var r;(r=t.call(this)||this).$x=void 0,r.rh=void 0,r.vx=void 0,r.Kx=void 0,r.pd=void 0,r.GP=void 0,r.ux=void 0,r.tB=void 0,r.nB=void 0,r.TI=void 0,r.Rx=void 0,r.iB=void 0,r.eB=void 0,r.AI=void 0,r.rB=!1,r.H_=!1,r.Hg=void 0,r.sB=!1,r.uB=void 0,r.oB=void 0,r.hB=void 0,r.aB=void 0,r.cB=void 0,r.fB=function(t){if(!r.sB){r.sB=!0;var n=r.$x,i=qm(t);r.vx.fl=new yS(r.kg,i,t),Ss(n.hv())}},r.vB=function(t){r.Fr(t.Ed)},r.dB=function(t){t.type!==yc.ka&&t.type!==yc.pa&&r.Fr(t)};var s=ow(e.uid);m(s)?r.Hg=ty++:r.Hg=s,r.rh=e;var u=i.pd,o=new PI;r.Kx=new cR("3.5.0",u,o),r.pd=new KR(u,e.allowMixedContent),r.TI=new vI,r.Rx=new HE(e.isEmbeddable,"3.5.0",xE()),r.cB=new OI(u,r.Rx,r.Kx,o,e,xE()),r.cB.Dx().catch(r.fB),r.iB=new CR(n),r.iB.Hr("wC",r.vB),r.AI=new zI,r.GP=new mI,r.ux=new kI;var h=new mS(n,e,r.pd,r.TI,r.iB,r.AI);r.TI.oP(h);var a=h;a=new pI(a,r.lB),a=new bI(a,r.ox),r.$x=a,r.vx=new zm(r.$x),r.vx.Vr(r.dB),r.aB=new AI(Tt(r)),r.oB=new iI(r.vx,r.pd,r.TI),r.tB=new dR(Tt(r)),r.eB=new UR(r.vx,e.allowNativeFullscreen),r.nB=new US(r.eB),r.iB.oh();var c=new Mi(r.iB,r.AI,1,[Qm.$f]);return r.uB=new Ui(c),r.hB=new RI,r}S(n,t);var e=n.prototype;return e.NP=function(t){this.vx.g_=t,t||this.w_||this.ug()},e.qP=function(t){this.vx.b_=t},e._B=function(){Tm(this,FS,this)},e.J_=function(){this.vx.J_()},e.K_=function(){this.vx.K_()},e.ig=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.cB.mD(t).catch(this.fB),i=WI(t),e.next=5,nr.awrap(this.vx.ig(i,n));case 5:case"end":return e.stop()}},null,this,null,we)},e.ug=function(){this.H_||(this.vx.ug(),this.uB.ug(),this.H_=!0)},e.dI=function(){return this.nB.JI()===PS.FULLSCREEN},e.ag=function(){this.vx.ag()},e.cg=function(){this.vx.cg()},e.fg=function(){return this.vx.fg()},e.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.vx.tg());case 2:return t.next=4,nr.awrap(this.vx.nl());case 4:case"end":return t.stop()}},null,this,null,we)},e.hv=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.hB.hv(),this.pd.hv(),this.oB.hv(),this.eB.hv(),this.nB.hv(),this.iB.hv(),this.Kx.hv(),this.uB.hv(),t.next=11,nr.awrap(this.vx.hv());case 11:case"end":return t.stop()}},null,this,null,we)},A(n,[{key:"gB",get:function(){return this.TI}},{key:"q_",get:function(){return this.rB},set:function(t){this.rB=t,this.vx.q_=t}},{key:"wB",get:function(){return this.uB}},{key:"Q_",get:function(){return this.vx.Q_}},{key:"mB",get:function(){return this.hB}},{key:"yB",get:function(){return this.iB}},{key:"Z_",get:function(){return this.vx.Z_}},{key:"B_",get:function(){return this.aB}},{key:"pB",get:function(){return this.oB}},{key:"j_",get:function(){return this.vx.j_}},{key:"kB",get:function(){return this.AI}},{key:"Y_",get:function(){return this.vx.Y_}},{key:"yg",get:function(){return this.vx.yg}},{key:"lB",get:function(){return this.GP}},{key:"ox",get:function(){return this.ux}},{key:"v_",get:function(){return this.vx.v_},set:function(t){this.vx.v_=t}},{key:"pg",get:function(){return this.vx.pg},set:function(t){this.vx.pg=t}},{key:"wg",get:function(){return this.vx.wg}},{key:"d_",get:function(){return this.vx.d_}},{key:"kg",get:function(){return this.vx.kg}},{key:"l_",get:function(){return this.vx.l_}},{key:"ts",get:function(){return this.vx.ts}},{key:"__",get:function(){return this.vx.__}},{key:"g_",get:function(){return this.vx.g_},set:function(t){var n=Boolean(t);this.NP(n)}},{key:"w_",get:function(){return this.vx.w_}},{key:"m_",get:function(){return this.vx.m_},set:function(t){this.vx.m_=t}},{key:"Dg",get:function(){return this.vx.Dg}},{key:"Cg",get:function(){return this.vx.Cg},set:function(t){this.vx.Cg=oS(t)}},{key:"Dl",get:function(){return this.vx.Dl}},{key:"Og",get:function(){return this.vx.Og}},{key:"y_",get:function(){return this.vx.y_}},{key:"gl",get:function(){return this.Hg}},{key:"p_",get:function(){return this.vx.p_}},{key:"k_",get:function(){return this.vx.k_}},{key:"b_",get:function(){return this.vx.b_},set:function(t){var n=ft(Number(t),0,1)||0;this.qP(n)}},{key:"Pg",get:function(){return this.vx.Pg}}]),n}(Nw);function WI(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.bB=0]="bB",t[t.AB=1]="AB"}(MI||(MI={})),function(t){t[t.TB=0]="TB"}(UI||(UI={}));var XI={};function qI(t,n){(XI[n]||(XI[n]=[])).push(t)}function GI(t,n){var i=t;if(XI[n])for(var e=0,r=XI[n];e<r.length;e++){i=(0,r[e])(i)}return i}var QI=[];function YI(t){QI.push(t)}var jI=t.CustomEvent;var ZI=function(){try{var t=new jI("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},JI=function(){function t(t,n){var i=this;this.lR=void 0,this.SB=void 0,this.EB=!1,this.RB=function(t){i.SB.oC(t.error,i.v_)},this.IB=function(){i.SB.rC(i.NB),i.lR.removeEventListener("playing",i.IB),i.EB=!1},this.DB=function(){i.EB||(i.lR.addEventListener("playing",i.IB),i.EB=!0)},this.SB=n,this.lR=t,this.lR.addEventListener("error",this.RB),this.lR.addEventListener("sourcechange",this.DB),this.DB()}return t.prototype.nl=function(){},A(t,[{key:"v_",get:function(){var t=this.lR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"NB",get:function(){return this.lR.src||""}}]),t}();YI(function(t){new JI(t.Ed,t.Kx)});var $I="theoplayer-stored-volume",KI="theoplayer-stored-mutedstate";qI(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=NI.Sx($I);(void 0===r||m(r))&&(r=1);var s=NI.Ex(KI)||!1;e.b_=r,e.g_=s}return e}S(n,t);var i=n.prototype;return i.NP=function(n){this.rh.persistVolume&&NI.ia(KI,""+Boolean(n)),t.prototype.NP.call(this,n)},i.qP=function(n){this.rh.persistVolume&&NI.ia($I,""+Number(n)),t.prototype.qP.call(this,n)},n}(t)},MI.AB);var tN=new(function(){function t(){this.CB=[],this.Sd=void 0}var n=t.prototype;return n.Jd=function(t){return this.CB[t]},n.OB=function(t){this.CB.push(t),this.Ed.push(t.Ed)},n.jo=function(t){var n=this.CB.indexOf(t);n<0||(os(this.CB,n),this.Sd&&os(this.Sd,n))},n.PB=function(t){for(var n=0,i=this.CB;n<i.length;n++){var e=i[n];if(e.gl===t)return e}},A(t,[{key:"sl",get:function(){return this.CB.length}},{key:"Ed",get:function(){return this.Sd||(this.Sd=function(t){for(var n=[],i=0;i<t.sl;i++)n[i]=t.Jd(i).Ed;return n.getPlayerByUID=function(n){var i=t.PB(n);return i&&i.Ed},n}(this)),this.Sd}}]),t}()),nN=function(){function t(t){var n=this;this.xB=[],this.BB=void 0,this.Fc=new ls,this.LB=void 0,this.MB=function(){return 0===n.xB.length?n.LB?iN(n.LB,n.Fc.xr).then(n.UB,n.UB):n.UB():n.xB.shift()().then(n.MB)},this.UB=function(){if(0!==n.xB.length)return n.MB();n.BB=void 0},this.LB=t}var n=t.prototype;return n.FB=function(t,n){var i=this;return new we(function(e){var r=new ls;r.Or(i.Fc.xr),n&&r.Or(n);var s=function(){r.Sr()};i.xB.push(function(){var n=iN(t,r.xr);return e(n),n.then(s,s)}),i.BB||(i.BB=i.MB())})},n.Cr=function(){return this.HB(!0)},n.hv=function(){return this.LB=void 0,this.HB(!1)},n.HB=function(t){var n=this.BB;return this.Fc.Cr(),t&&(this.Fc=new ls),we.resolve(n)},t}();function iN(t,n){return new we(function(i){return i(t(n))})}var eN,rN=function(t){function n(n){var i;return(i=t.call(this,yc.Ba)||this).source=n,i}return S(n,t),n}(Ps),sN=function(t){function n(){var n;return(n=t.call(this)||this).gI=void 0,n.mI=void 0,n.pI=void 0,n.yI=void 0,n.gI=0,n.mI=!0,n.pI=!1,n.yI=1,n}S(n,t);var i=n.prototype;return i.J_=function(){this.mI&&(this.mI=!1,this.Fr(new rm(this.v_)),this.Fr(new pb(this.v_)))},i.K_=function(){this.mI||(this.mI=!0,this.Fr(new fm(this.v_,this.pg)),this.Fr(new em(this.v_)))},i.nl=function(){this.gI=0,this.pI=!1,this.yI=1,this.K_(),this.Fr(new im(this.gI))},i.hv=function(){this.Wr()},i.cg=function(){},i.ag=function(){},A(n,[{key:"pg",get:function(){},set:function(t){}},{key:"v_",get:function(){return this.gI},set:function(t){this.pI&&this.gI===t||(this.gI=t,this.pI=!0,this.Fr(new lm(this.v_)))}},{key:"w_",get:function(){return this.mI}},{key:"m_",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.yI=t,this.Fr(new cm(this.v_,this.m_)))}},{key:"Dl",get:function(){return Uw.n_}},{key:"y_",get:function(){return this.pI}}]),n}(Iw),uN=function(t){function n(){return t.call(this,yc.fa)||this}return S(n,t),n}(Ps),oN={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},hN={visibility:"hidden"},aN={visibility:"visible"},cN=function(){function t(t){var n,i=this;this.aR=void 0,this.lR=void 0,this.zB=!1,this.VB=void 0,this.WB=void 0,this.XB=function(t){var n;i.zB=!1,i.VB=null==(n=t.source)?void 0:n.poster,i.Zo()},this.UA=function(){i.zB=!0,i.cg()},this.lR=t,this.mR(),this.aR=((n=Hi&&Hi.document&&Hi.document.createElement("div")).className="theoplayer-poster",Ne(oN,n),n),t.kg.appendChild(this.aR)}var n=t.prototype;return n.Zo=function(){var t=this.lR.w_,n=this.zB;this.Mf?this.aR.style.backgroundImage='url("'+this.Mf.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.aR.style.backgroundImage="",t&&this.Mf&&!n?this.ag():this.cg()},n.ag=function(){Ne(hN,this.lR.kg),Ne(aN,this.aR)},n.cg=function(){Ne(hN,this.aR),Ne(aN,this.lR.kg)},n.mR=function(){this.lR.Hr("sourcechange",this.XB),this.lR.Hr("play",this.UA)},n.hv=function(){this.lR.Xr("sourcechange",this.XB),this.lR.Xr("play",this.UA),Ee(this.aR)},A(t,[{key:"Mf",get:function(){return void 0!==this.VB?this.VB:void 0!==this.WB?this.WB:void 0}},{key:"qB",set:function(t){this.WB=t,this.Zo()}}]),t}();function fN(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).lR=void 0,r.GB=void 0,r.QB=void 0,r.YB=void 0,r.jB=void 0,r.ZB=void 0,r.JB=void 0,r.$B=void 0,r.wR=void 0,r.gR=void 0,r.Sd=void 0,r.KB=function(t){t.type!==yc.Sa&&r.$B.push(t)},r.GB=new t(i,e),r.QB=new sN,r.lR=r.GB,r.YB=new cN(Tt(r)),r.ZB=new nN,r.JB=!1,r.$B=[],r.wR=!0,r.gR=void 0,r.mR(),r}S(i,n);var e=i.prototype;return e.FB=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.ZB.FB(t,n).catch(ys));case 1:case"end":return i.stop()}},null,this,null,we)},e.tL=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return ws(n),this.GB.Vr(this.KB),i.next=4,nr.awrap(this.GB.ig(t,n));case 4:this.GB.Qr(this.KB);case 5:case"end":return i.stop()}},null,this,null,we)},e.nL=function(){var t,n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.ng())&&!fE(t)&&this.q_&&this.w_){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rh.mutedAutoplay,e.next=6,nr.awrap(this.wB.iL());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.eL(),e.abrupt("break",14);case 12:return(this.g_||n===sm.ALL)&&(this.g_=!0,this.J_()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,we)},e.ig=function(t){var n=this,i=this.gR;i&&!fE(i)&&this.Fr(new im(0,0)),this.nl(),this.gR=t,Ss(this.FB(function(i){return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return ws(i),e.prev=1,e.next=4,nr.awrap(n.tL(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.gR=void 0,e.t0;case 10:return e.next=12,nr.awrap(n.rL());case 12:case"end":return e.stop()}},null,null,[[1,6]],we)}))},e.rL=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sL(this.GB),this.Fr(new rN(this.ng())),t.next=4,nr.awrap(this.nL());case 4:case"end":return t.stop()}},null,this,null,we)},e.kP=function(t){this.lR.v_=t},e.SP=function(){return this.GB.ts},e.EP=function(){return this.GB.__},e.J_=function(){this.lR.J_()},e.eL=function(){this.g_||this.ug(),this.J_()},e.ug=function(){this.GB.ug()},e.K_=function(){this.lR.K_()},e.tg=function(){this.ig(void 0)},e.ag=function(){this.wR=!0,this.lR.ag()},e.cg=function(){this.wR=!1,this.lR.cg()},e._B=function(){this.GB._B()},e.qP=function(t){this.GB.qP(t)},e.NP=function(t){this.GB.NP(t)},e.uL=function(t){this.jB=t,t.OB(this)},e.dI=function(){return this.GB.dI()},e.ng=function(){return this.gR},e.fg=function(){return this.GB.fg()},e.pP=function(){return this.GB.v_},e.bP=function(){return this.GB.d_},e.gP=function(){return this.GB.yg},e.xP=function(){return this.GB.Dg},e.UP=function(){return this.GB.Og},e.nl=function(){var t=this;this.gR=void 0,as(this.$B),this.QB.nl(),this.sL(this.QB),this.ZB.Cr(),Ss(this.ZB.FB(function(n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return ws(n),i.next=3,nr.awrap(t.GB.nl());case 3:case"end":return i.stop()}},null,null,null,we)}))},e.hv=function(){var t=this;this.Fr(new uN),this.YB.hv(),this.yR(),this.nl(),Ss(this.FB(function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(t.GB.hv());case 2:t.jB&&(t.jB.jo(t),t.jB=void 0),t.ZB.hv();case 4:case"end":return n.stop()}},null,null,null,we)})),this.Wr()},e.sL=function(t){if(this.lR!==t){var n=this.lR.w_,i=this.lR.v_,e=this.lR.m_,r=this.lR.y_;this.yR(),t===this.GB?((r||t.v_!==i)&&(t.v_=i),t.m_!==e&&(t.m_=e),n?t.K_():t.J_()):this.rh.retainPlaybackRateOnSourceChange?t.m_=e:1!==e&&this.Fr(new cm(this.pP(),1)),this.lR=t,this.mR();for(var s=0,u=this.$B;s<u.length;s++){var o=u[s];this.Fr(o)}as(this.$B),this.wR?t.ag():t.cg()}},e.mR=function(){this.lR.Vr(this.Ur)},e.yR=function(){this.lR.Qr(this.Ur)},e.Rd=function(){return t=this,e=function(n){i=n;var e=bE(n,t.rh);t.ig(e)},r={get abr(){return t.gB.Ed},get audioTracks(){return t.Q_.Ed},get autoplay(){return t.q_},set autoplay(n){t.q_=Boolean(n)},get buffered(){return t.gP()},get canvas(){return t.tB.Ed},get clip(){return t.lB.Ed},get currentProgramDateTime(){var n;return null!=(n=t.pg)?n:null},set currentProgramDateTime(n){t.pg=null!=n?n:void 0},get currentTime(){return t.pP()},set currentTime(n){t.kP(Number(n))},get duration(){return t.bP()},get element(){return t.kg},get ended(){return t.l_},get error(){return t.SP()},get errorObject(){return t.EP()},get loop(){return t.ox.ox},set loop(n){t.ox.ox=Boolean(n)},get metrics(){return t.B_.Ed},get muted(){return t.g_},set muted(n){t.NP(n)},get network(){return t.pB.Ed},get paused(){return t.w_},get playbackRate(){return t.m_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.m_=i},get played(){return t.xP()},get poster(){return t.oL},set poster(n){t.oL=aw(n)},get preload(){return t.Cg},set preload(n){t.Cg=n},get presentation(){return t.nB.Ed},get readyState(){return t.Dl},get seekable(){return t.UP()},get seeking(){return t.y_},get source(){return i},set source(t){e(t)},get src(){return vE(t.ng())},set src(t){e({sources:t})},get textTracks(){return t.j_.Ed},get textTrackStyle(){return t.kB.Ed},get uid(){return t.gl},get videoHeight(){return t.p_},get videoTracks(){return t.Y_.Ed},get videoWidth(){return t.k_},get volume(){return t.b_},set volume(n){t.qP(Number(n))},get latency(){return t.Pg.Ed},destroy:function(){t.hv(),t=null,i=void 0},play:function(){t.eL()},pause:function(){t.K_()},stop:function(){i=void 0,t.tg()},prepareWithUserAction:function(){t.ug()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)},setSource:function(t){e(t)}},(n=new LS(r,!0)).MI(t),r;var t,n,i,e,r},A(i,[{key:"Kx",get:function(){return this.GB.Kx}},{key:"tB",get:function(){return this.GB.tB}},{key:"rh",get:function(){return this.GB.rh}},{key:"$x",get:function(){return this.GB.$x}},{key:"pd",get:function(){return this.GB.pd}},{key:"BE",get:function(){return this.GB.eB}},{key:"nB",get:function(){return this.GB.nB}},{key:"iB",get:function(){return this.GB.iB}},{key:"vx",get:function(){return this.GB.vx}},{key:"gB",get:function(){return this.GB.gB}},{key:"q_",get:function(){return this.GB.q_},set:function(t){this.GB.q_=t,this.nL()}},{key:"wB",get:function(){return this.GB.wB}},{key:"Q_",get:function(){return this.GB.Q_}},{key:"mB",get:function(){return this.GB.mB}},{key:"yB",get:function(){return this.GB.iB}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"Z_",get:function(){return this.GB.Z_}},{key:"B_",get:function(){return this.GB.B_}},{key:"pB",get:function(){return this.GB.pB}},{key:"j_",get:function(){return this.GB.j_}},{key:"kB",get:function(){return this.GB.kB}},{key:"Y_",get:function(){return this.GB.Y_}},{key:"lB",get:function(){return this.GB.lB}},{key:"ox",get:function(){return this.GB.ox}},{key:"pg",get:function(){return this.lR.pg},set:function(t){this.lR.pg=t}},{key:"wg",get:function(){return this.GB.wg}},{key:"kg",get:function(){return this.GB.kg}},{key:"l_",get:function(){return this.GB.l_}},{key:"g_",get:function(){return this.GB.g_},set:function(t){this.GB.g_=t}},{key:"w_",get:function(){return this.lR.w_}},{key:"oL",get:function(){return this.YB.Mf||""},set:function(t){this.YB.qB=t}},{key:"m_",get:function(){return this.GB.m_},set:function(t){this.lR.m_=t}},{key:"Cg",get:function(){return this.GB.Cg},set:function(t){this.GB.Cg=oS(t)}},{key:"Dl",get:function(){return this.lR.Dl}},{key:"y_",get:function(){return this.lR.y_}},{key:"gl",get:function(){return this.GB.gl}},{key:"p_",get:function(){return this.GB.p_}},{key:"k_",get:function(){return this.GB.k_}},{key:"b_",get:function(){return this.GB.b_},set:function(t){this.GB.b_=t}},{key:"Pg",get:function(){return this.GB.Pg}}]),i}(Nw)}function vN(t,n){var i=bm(n),e=new(eN||(eN=GI(eN=fN(VI),MI.bB),eN=GI(eN,MI.AB)),eN)(t,i),r=e.Ed;return e._B(),e.uL(tN),l.defineProperty(r,"constructor",{value:vN}),r=Kg(r),function(t){for(var n=0;n<QI.length;n++)(0,QI[n])(t)}(e),r}Ts(function(){t.dispatchEvent&&t.dispatchEvent(ZI("theoplayerready"))});var dN,lN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Zs(t)},n.decode=function(t){return Ys(t)},t}())},_N=tN.Ed,gN=Jb.CT.registerContentProtectionIntegration.bind(Jb.CT),wN=(yc.Aa,yc.ba,nm.f_,yc.La,yc.Ta,yc.wa,yc.Na,yc.Ia,yc.la,yc.Sa,yc.Ma,yc.va,nm.zd,yc.Ra,yw.Sl,Ds.es,Ds.ss,yc.aa,yc.ha,yc.Ua,{hL:!1,aL:50}),mN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.VN="cL"}(dN||(dN={}));var yN,pN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Ch=void 0,s.jS=void 0,s.Vh=void 0,s.fL=!1,s.vL=new no,s.dL=!1,s.ZB=new nN,s.lL=void 0,s.hr=void 0,s.ih=void 0,s._L=function(){s.dL=!0},s.gL=function(){s.wL(!0)},s.Ch=n,s.jS=i,s.Vh=i.bE,s.lL=e,s.hr=r,s.Vh.addEventListener("loadedmetadata",s._L);for(var u=0;u<mN.length;u++){var o=mN[u];s.Vh.addEventListener(o,s.gL)}return s}S(i,t);var e=i.prototype;return e.mL=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,nr.awrap(i.vh());case 5:return e=r.sent,r.next=8,nr.awrap(this.yL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,we)},e.pL=function(t){var n=this.ih;return n?0!==t.EE.length&&t.EE.some(function(t){return t.eh.ir===n.eh}):0===t.EE.length||!this.dL},e.kL=function(t){return this.lL.kL(t),this.Ch=t,we.resolve()},e.Sr=function(){var t,n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Wr(),this.Vh.removeEventListener("loadedmetadata",this._L),t=0;t<mN.length;t++)n=mN[t],this.Vh.removeEventListener(n,this.gL);return i.next=5,nr.awrap(this.ZB.hv());case 5:return i.next=7,nr.awrap(this.bL());case 7:return i.next=9,nr.awrap(this.lL.nl());case 9:return i.next=11,nr.awrap(this.yL(void 0));case 11:case"end":return i.stop()}},null,this,null,we)},e.wL=function(t){t!==this.fL&&(this.fL=t,t?this.vL.Is(void 0):this.vL=new no)},e.yL=function(t){var n=this;return this.ZB.FB(function(){return n.AL(t)})},e.AL=function(t){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vh.src){e.next=4;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vh.src){e.next=6;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.fL){e.next=9;break}return e.next=9,nr.awrap(this.vL.Ss);case 9:if(!(i=this.ih)){e.next=14;break}return e.next=13,nr.awrap(i.hh(this.Vh));case 13:this.ih=void 0;case 14:if(!t){e.next=18;break}return e.next=17,nr.awrap(t.oh(this.Vh));case 17:this.ih=t;case 18:case"end":return e.stop()}},null,this,null,we)},e.ig=function(t){var n=this;return this.ZB.FB(function(){return n.TL(t)})},e.TL=function(t){this.wL(!1);var n=this.jS.m_;this.Vh.src=t,this.jS.m_=n},e.SL=function(t){var n=this;return this.ZB.FB(function(){return n.EL(t)})},e.EL=function(t){this.TL(t),this.Vh.load()},e.bL=function(){var t=this;return this.ZB.FB(function(){return t.RL()})},e.RL=function(){this.wL(!1),Pe(this.Vh)},A(i,[{key:"Q_",get:function(){throw new v("Not implemented")}},{key:"rh",get:function(){return this.Ch}},{key:"bE",get:function(){return this.Vh}},{key:"Y_",get:function(){throw new v("Not implemented")}}]),i}(Cs),kN=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.oP=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rh,n.t0=t.IE,n.next=n.t0===xw.Jl?4:n.t0===xw.$l?4:(n.t0,xw.Zl,6);break;case 4:return this.Vh.setAttribute("crossorigin",t.IE),n.abrupt("break",8);case 6:return this.Vh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Cg?this.Vh.preload=t.Cg:this.Vh.preload=sS.IS,void 0!==t.NE?this.Vh.title=t.NE:Ce(this.Vh),n.next=12,nr.awrap(this.ig(t.Pl));case 12:this.lL.Yo(this,t);case 13:case"end":return n.stop()}},null,this,null,we)},i.pL=function(t){return!1},i.kL=function(t){return we.resolve(void 0)},i.Sr=function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Ce(this.Vh),n.next=3,nr.awrap(t.prototype.Sr.call(this));case 3:case"end":return n.stop()}},null,this,null,we)},n.IL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.mf))},A(n,[{key:"yg",get:function(){return dS.hI(this.Vh.buffered)}},{key:"d_",get:function(){return this.Vh.duration}},{key:"NL",get:function(){var t=this.d_;if(!isFinite(t))return!1;var n=this.yg;return 0!==n.sl&&t-n.RR(n.sl-1)<1/6}},{key:"Cg",get:function(){return this.Vh.preload},set:function(t){this.Vh.preload=t}},{key:"Og",get:function(){return dS.hI(this.Vh.seekable)}},{key:"DL",get:function(){return this.yg}},{key:"CL",get:function(){if(Oe(this.Vh)&&(this.Vh.videoWidth>0||this.Vh.videoHeight>0))return this.yg}}]),n}(pN),bN=function(t){function n(n){var i;return(i=t.call(this,yc.Ta)||this).currentTime=n,i}return S(n,t),n}(Ps),AN=function(t){function n(){return t.call(this,yc.wa)||this}return S(n,t),n}(Ps);!function(t){t.OL="PL"}(yN||(yN={}));var TN,SN;yN.OL;!function(t){t[t.xL=0]="xL",t[t.Wa=1]="Wa",t[t.BL=2]="BL"}(TN||(TN={})),function(t){t.LL="ML"}(SN||(SN={}));var EN=function(t){function n(n){var i;return(i=t.call(this,SN.LL)||this).UL=n,i}return S(n,t),n}(Ps),RN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).FL=dS.fI(),n}S(n,t);var i=n.prototype;return i.HL=function(t,n){var i=new dS([t,n]);this.FL=this.FL.QR(i),this.Fr(new EN(i))},i.zL=function(t,n){this.FL=this.FL.jR(new dS([t,n]))},i.nl=function(){this.FL=dS.fI()},i.hv=function(){this.Wr()},A(n,[{key:"VL",get:function(){return this.FL}}]),n}(Cs);function IN(t,n){return void 0===n&&(n=new sl({highWaterMark:1/0})),new Wd(new DN(t,n),{highWaterMark:0})}var NN,DN=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Ka=void 0,this.WL=void 0,this.XL=void 0,this._c=[],this.gc=0,this.Fx=void 0,this.qL=!1,this.GL=void 0,this.QL=function(t){return t.done?(i.YL(),void i.Fx.close()):(i._c.push(t.value),i.gc+=i.WL(t.value),i.qL&&i.YL(),i.jL()?i.Ka.read().then(i.QL):void 0)},this.Vv=function(t){i.YL(),i.Fx.error(t)},this.Ka=t.getReader(),this.WL=r,this.XL=u}var n=t.prototype;return n.start=function(t){this.Fx=t,this.jL()&&this.ZL()},n.pull=function(){this._c.length>0?this.YL():this.qL=!0,this.jL()&&this.ZL()},n.cancel=function(t){return as(this._c),this.gc=0,this.qL=!1,this.Ka.cancel(t)},n.YL=function(){if(0!==this._c.length){var t=this._c;this._c=[],this.gc=0,this.qL=!1,this.Fx.enqueue(t)}},n.jL=function(){return!!this.qL||this.XL-this.gc>0},n.ZL=function(){var t=this;if(!this.GL){var n=this.Ka.read().then(this.QL).catch(this.Vv);this.GL=n;var i=function(){t.GL===n&&(t.GL=void 0)};n.then(i,i)}},t}(),CN=function(){function t(){this.JL=[],this.ls=0}var n=t.prototype;return n.OB=function(t){this.JL.push(t),this.ls+=t.byteLength},n.$L=function(t){if(this.ls<=t)return this.KL();for(var n=this.JL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(qu(n[e],0,s)),i+=s}return{JL:r,ls:i}},n.tM=function(t){var n=this.$L(t);return 1===n.JL.length?n.JL[0]:nu(n.JL,n.ls)},n.KL=function(){return{JL:this.JL,ls:this.ls}},n.nM=function(t){if(this.ls<=t)return this.iM();for(var n=this.JL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(qu(n[0],0,s)),n[0]=qu(n[0],s),i+=s}return this.ls-=i,{JL:r,ls:i}},n.eM=function(t){var n=this.nM(t);return 1===n.JL.length?n.JL[0]:nu(n.JL,n.ls)},n.iM=function(){var t=this.KL();return this.JL=[],this.ls=0,t},n.rM=function(){var t=1===this.JL.length?this.JL[0]:nu(this.JL,this.ls);return this.JL=[],this.ls=0,t},t}();!function(t){t[t.sM=0]="sM",t[t.uM=1]="uM",t[t.oM=2]="oM"}(NN||(NN={}));var ON=function(t){function n(n){var i;return(i=t.call(this)||this).Fx=void 0,i.hM=void 0,i.aM=void 0,i.cM=void 0,i.hM=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.Fx=t},i.transform=function(t){this.fM(t)},i.flush=function(){this.vM()},i.dM=function(t){return t===up.uy||t===up.By||t===up.qy},i.lM=function(t){var n=this._M(t);this.Fx.enqueue(n)},i.gM=function(t){this.Fx.enqueue(t)},i._M=function(t){var n=Yu(t.ai.ai);switch(t.nr){case"moov":return this.wM(n);case"sidx":return this.mM(n);case"moof":return this.yM(n)}return n},i.wM=function(t){for(var n=ka(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof zh?n.boxes[i]=this.pM(e):e instanceof Vh?n.boxes[i]=this.kM(e):e instanceof Yh&&this.bM(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof Uh&&this.AM(u)}return n.serialize().join()},i.pM=function(t){this.aM=t.timescale;var n=xN(at.fromNumber(t.duration,!0),this.TM,this.hM);return 0!==n.getHighBits()?this.kM(function(t){return new Vh({creation:at.fromNumber(t.creationTime,!0),modification:at.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:at.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.hM,t.duration=n.toInt(),t)},i.kM=function(t){return this.aM=t.timescale,t.timescale=this.hM,t.duration=xN(t.duration,this.TM,this.hM),t},i.bM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof qh?t.boxes[n]=this.SM(i):i instanceof Gh?t.boxes[n]=this.EM(i):i instanceof mh?this.RM(i):i instanceof ch&&this.IM(i)}},i.SM=function(t){var n=xN(at.fromNumber(t.duration,!0),this.TM,this.hM);return 0!==n.getHighBits()?this.EM(function(t){return new Gh({creation:at.fromNumber(t.creationTime,!0),modification:at.fromNumber(t.modificationTime,!0),duration:at.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.EM=function(t){return t.duration=xN(t.duration,this.TM,this.hM),t},i.RM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof lh?t.boxes[n]=this.NM(i):i instanceof _h&&(t.boxes[n]=this.DM(i))}},i.NM=function(t){this.cM=t.timescale;var n=xN(at.fromNumber(t.duration,!0),this.CM,this.hM);return 0!==n.getHighBits()?this.DM(function(t){return new _h({creation:at.fromNumber(t.creationTime,!0),modification:at.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:at.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.hM,t.duration=n.toInt(),t)},i.DM=function(t){return this.cM=t.timescale,t.timescale=this.hM,t.duration=xN(t.duration,this.CM,this.hM),t},i.IM=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof oh?this.OM(e):e instanceof hh&&this.PM(e)}},i.OM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=PN(e.mediaTime,this.TM,this.hM),e.segmentDuration=PN(e.segmentDuration,this.TM,this.hM)}},i.PM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=xN(e.mediaTime,this.TM,this.hM),e.segmentDuration=xN(e.segmentDuration,this.TM,this.hM)}},i.AM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Lh?this.xM(i):i instanceof Ph?t.boxes[n]=this.BM(i):i instanceof xh&&(t.boxes[n]=this.LM(i))}},i.xM=function(t){t.defaultSampleDuration=PN(t.defaultSampleDuration,this.CM,this.hM)},i.BM=function(t){var n=xN(at.fromNumber(t.fragmentDuration,!0),this.TM,this.hM);return 0!==n.getHighBits()?this.LM(function(t){return new xh(at.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.LM=function(t){return t.fragmentDuration=xN(t.fragmentDuration,this.TM,this.hM),t},i.mM=function(t){var n=ba(t);return(n=n instanceof va?this.MM(n):this.UM(n)).serialize().join()},i.MM=function(t){var n=t.timescale,i=xN(at.fromNumber(t.earliestPresentationTime,!0),n,this.hM);if(0!==i.getHighBits())return this.UM(function(t){return new da(t.referenceId,t.timescale,at.fromNumber(t.earliestPresentationTime,!0),at.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.hM,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=PN(s.subsegmentDuration,n,this.hM)}return t},i.UM=function(t){var n=t.timescale;t.timescale=this.hM,t.earliestPresentationTime=xN(t.earliestPresentationTime,n,this.hM);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=PN(r.subsegmentDuration,n,this.hM)}return t},i.yM=function(t){for(var n=Aa(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof sa&&this.FM(s)}var u=n.getSize();if(u!==i)for(var o=u-i,h=0,a=n.boxes;h<a.length;h++){var c=a[h];c instanceof sa&&this.HM(c,o)}return n.serialize().join()},i.FM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof na?this.zM(i):i instanceof $h?t.boxes[n]=this.VM(i):i instanceof Kh?t.boxes[n]=this.WM(i):i instanceof ea&&this.XM(i)}},i.zM=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=PN(t.defaultSampleDuration,this.CM,this.hM))},i.VM=function(t){var n=xN(at.fromNumber(t.baseMediaDecodeTime,!0),this.CM,this.hM);return 0!==n.getHighBits()?this.WM(function(t){return new Kh(at.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.WM=function(t){return t.baseMediaDecodeTime=xN(t.baseMediaDecodeTime,this.CM,this.hM),t},i.XM=function(t){for(var n,i,e,r=0,s=0,u=0,o=t.samples;u<o.length;u++){var h=o[u];if(void 0!==h.duration){var a=PN(s+=h.duration,this.CM,this.hM);h.duration=a-r,r=a}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(n=h.compositionTimeOffset,i=this.CM,e=this.hM,at.fromInt(n,!1).multiply(e).divide(i).toNumber()))}},i.HM=function(t,n){var i=rs(t.boxes,BN);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof ea&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},A(n,[{key:"TM",get:function(){if(void 0===this.aM)throw new v("Expected to have found a movie header timescale.");return this.aM}},{key:"CM",get:function(){if(void 0===this.cM)throw new v("Expected to have found a media header timescale.");return this.cM}}]),n}(function(){var t=n.prototype;function n(){this._c=new CN,this.Ii=NN.sM,this.qM=0,this.GM=0,this.QM()}return t.YM=function(t,n){},t.jM=function(){},t.fM=function(t){this._c.OB(t),this.ZM(!1)},t.vM=function(){this.ZM(!0)},t.JM=function(){return this.Ii!==NN.sM||0!==this._c.ls},t.ZM=function(t){for(;0!==this._c.ls;){if(!t&&this.qM>this._c.ls)return;switch(this.Ii){case NN.sM:this.$M(t);break;case NN.uM:this.KM(t);break;case NN.oM:this.tU(t)}}},t.QM=function(){this.Ii=NN.sM,this.qM=8},t.$M=function(t){var n=Qu(this._c.tM(this.qM)),i=new Ku,e=Zp.bp(n,i);if(!e.wp)return this.qM=e.Tp,void(t&&this.qM>this._c.ls&&this.nU(this._c.ls));var r=e.Ap.nr,s=e.Ap.ls;0===s&&(s=1/0),this.YM(r,s),this.dM(r)?this.iU(s):this.nU(s)},t.iU=function(t){this.Ii=NN.uM,this.qM=t},t.KM=function(t){var n=Qu(this._c.eM(this.qM)),i=new Ku,e=Zp.mp(n,i,!t);if(!e.wp)throw new jp(i.ks);this.jM(),this.lM(e.yp),this.QM()},t.nU=function(t){this.Ii=NN.oM,this.qM=0,this.GM=t},t.tU=function(t){var n=this._c.nM(this.GM);this.GM-=n.ls;for(var i=0,e=n.JL;i<e.length;i++){var r=e[i];this.gM(r)}(0===this.GM||t&&this.GM===1/0)&&(this.jM(),this.QM())},n}());function PN(t,n,i){return at.fromInt(t,!0).multiply(i).divide(n).toNumber()}function xN(t,n,i){return My.Gw(t)._m(My.Qw(i,!0)).ym(My.Qw(n,!0)).rm()}function BN(t){return t instanceof na}var LN=1e5,MN=function(){function t(t){this.eU=void 0,this.eU=new ON(t)}return t.prototype.rU=function(t){return t.pipeThrough(new fl(this.eU))},t}(),UN=20,FN=L.dn,HN=function(t){function n(n,e,r){var s;return(s=t.call(this)||this).sU=void 0,s.uU=void 0,s.oU=void 0,s.eP=UN,s.rP=eI,s.hU=!1,s.aU=!1,s.cU=void 0,s.fU=new ls,s.vU=void 0,s.dU=!1,s.lU=void 0,s._U=function(){s.hU=!1},s.sU=e,s.uU=n,s.oU=r,s.oU.addEventListener("updateend",s._U),i.xe.oe&&(s.vU=new MN(LN)),s}S(n,t);var e=n.prototype;return e.gU=function(t,n,i){var e=this;switch(t.nr){case TN.xL:case TN.Wa:return this.wU(function(i){return e.mU(t,n,i)},i);case TN.BL:throw new v("Opaque segments are not supported on web.")}},e.yU=function(t,n){var i=this;switch(t.nr){case TN.xL:return this.wU(function(n){return i.pU(t,n)},n);case TN.Wa:throw new v("Streaming initialization segments are not supported on web.");case TN.BL:throw new v("Opaque initialization segments are not supported on web.")}},e.pU=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.kU(t,void 0,n));case 2:FN&&(this.dU=!1,this.lU=t);case 3:case"end":return i.stop()}},null,this,null,we)},e.mU=function(t,n,i){return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(FN&&this.dU&&this.lU)){e.next=3;break}return e.next=3,nr.awrap(this.pU(this.lU,i));case 3:return e.prev=3,ws(i),e.next=7,nr.awrap(this.kU(t,n,i));case 7:this.Fr(new Ps(yN.OL));case 8:return e.prev=8,t.nr===TN.Wa&&t.ai.cancel(new _s).catch(j),e.finish(8);case 11:case"end":return e.stop()}},null,this,[[3,,8,11]],we)},e.kU=function(t,n,e){var r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:ws(e),n&&this.bU(n),u.t0=t.nr,u.next=u.t0===TN.xL?5:u.t0===TN.Wa?13:21;break;case 5:if(!i.xe.oe){u.next=10;break}return r=this.vU.rU(Sl(t.ai)),u.next=9,nr.awrap(this.AU(r,e));case 9:return u.abrupt("return",u.sent);case 10:return u.next=12,nr.awrap(this.TU(t.ai));case 12:return u.abrupt("return",u.sent);case 13:if(!i.xe.oe){u.next=18;break}return s=this.vU.rU(t.ai),u.next=17,nr.awrap(this.AU(s,e));case 17:return u.abrupt("return",u.sent);case 18:return u.next=20,nr.awrap(this.AU(t.ai,e));case 20:return u.abrupt("return",u.sent);case 21:case"end":return u.stop()}},null,this,null,we)},e.AU=function(t,n){var i,e,r,s,u,o,h,a;return nr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.uU.yg,e=IN(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,nr.awrap(ps(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return ws(n),o=tu(u.value),s=!0,c.next=17,nr.awrap(this.TU(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(j),!s){c.next=35;break}return c.next=27,nr.awrap(this.SU());case 27:h=this.uU.yg.HR(i.zR()),a=0;case 29:if(!(a<h.sl)){c.next=35;break}return c.next=32,nr.awrap(this.EU(h.SR(a),h.RR(a)));case 32:a++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],we)},e.RU=function(t,n){var i=this;return this.wU(function(){return i.IU(t,n)})},e.IU=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.oU.appendWindowStart===t&&this.oU.appendWindowEnd===n){i.next=6;break}return i.next=3,nr.awrap(this.SU());case 3:this.oU.appendWindowStart=0,this.oU.appendWindowEnd=n,this.oU.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,we)},e.bU=function(t){this.oU.timestampOffset!==t.Km&&(this.oU.timestampOffset=t.Km)},e.TU=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.oU.appendBuffer(t),this.aU=!0,n.next=4,nr.awrap(this.NU());case 4:case"end":return n.stop()}},null,this,null,we)},e.DU=function(t,n,i){var e=this;return this.wU(function(i){return e.EU(t,n,i)},i)},e.EU=function(t,n,i){return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return ws(i),this.oU.remove(t,n),e.next=4,nr.awrap(this.NU());case 4:case"end":return e.stop()}},null,this,null,we)},e.NU=function(){var t=this,n=this.uU.yg;return new we(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?(n.nI(t.uU.yg)||t.Fr(new Ps(yN.OL)),i()):e(new v(r))},c=function(){t.oU.removeEventListener("update",u),t.oU.removeEventListener("error",o),t.oU.removeEventListener("abort",h),t.oU.removeEventListener("updateend",a)};t.oU.addEventListener("update",u),t.oU.addEventListener("error",o),t.oU.addEventListener("abort",h),t.oU.addEventListener("updateend",a)})},e.CU=function(){var t=this;return this.wU(function(){return t.SU()})},e.SU=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.sU.Dl===eD.gv){t.next=2;break}return t.abrupt("return");case 2:FN&&(this.dU=!0),this.oU.updating&&(this.hU=!0);try{this.oU.abort()}catch(t){0,this.hU=!1}if(!this.iO){t.next=8;break}return t.next=8,nr.awrap(this.NU().catch(j));case 8:case"end":return t.stop()}},null,this,null,we)},e.OU=function(){return"function"==typeof this.oU.changeType},e.PU=function(t){this.xU(),this.sU.Dl!==eD.BU&&this.oU.changeType(t)},e.LU=function(){this.sU.Dl!==eD.la||this.cU||this.iO||(this.oU.timestampOffset=this.oU.timestampOffset,this.sU.MU())},e.wU=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.xU(),(i=new ls).Or(this.fU.xr),n&&i.Or(n),e.prev=4,this.cU=t(i.xr),e.next=8,nr.awrap(this.cU);case 8:if(this.sU.MU(),!this.iO){e.next=12;break}return e.next=12,nr.awrap(this.NU());case 12:return e.prev=12,this.cU=void 0,i.Sr(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],we)},e.xU=function(){if(this.cU)throw new v("Internal error")},e.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wr(),this.fU.Cr(),!this.cU){t.next=6;break}return t.next=5,nr.awrap(this.cU.catch(j));case 5:this.cU=void 0;case 6:this.oU.removeEventListener("updateend",this._U);case 7:case"end":return t.stop()}},null,this,null,we)},A(n,[{key:"ZO",get:function(){return this.eP},set:function(t){this.eP=t}},{key:"tP",get:function(){return this.rP},set:function(t){this.rP=t}},{key:"iO",get:function(){return this.hU||this.oU.updating}}]),n}(Cs),zN=function(){function t(t,n){this.UU=void 0,this.oU=void 0,this.FU=void 0,this.UU=n,this.oU=t}var n=t.prototype;return n.NL=function(){return!!this.FU&&this.yg.xR().zE(this.FU)},n.HU=function(){var t=this.yg;this.FU=t.sl>0?t.RR(t.sl-1):0,this.UU.zU()},n.LU=function(){this.FU=void 0},A(t,[{key:"yg",get:function(){if(this.UU.Dl===eD.BU)return dS.fI();var t=dS.hI(this.oU.buffered).HR(new dS([0,1/0])),n=this.FU;return void 0!==n&&t.sl>0&&t.RR(t.sl-1)===n&&(t=t.QR(dS.cI(n))),t}}]),t}();function VN(t){var n=t._h("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function WN(t,n){var i=XN(t)||qN(t),e=XN(n)||qN(n);return!i&&!e||t===n}function XN(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function qN(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function GN(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],h=e[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function QN(t,n,i,e,r,s){var u=new zN(r,t),o=new HN(u,t,r);return new YN(t,n,i,e,u,o,s)}var YN=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).sU=void 0,h.Ch=void 0,h.VU=void 0,h.jS=void 0,h.Ih=void 0,h.WU=void 0,h.uU=void 0,h.XU=void 0,h.qU=rr(),h.sU=n,h.Ch=e,h.Ih=e.mf,h.VU=r,h.jS=i,h.uU=s,h.XU=u,h.WU=o,h.XU.Hr(yN.OL,h.Ur),h}S(n,t);var i=n.prototype;return i.NL=function(){return this.uU.NL()},i.HU=function(){this.uU.HU()},i.LU=function(){this.uU.LU(),this.XU.LU()},i.GU=function(t,n){this.WU.HL(t,n)},i.QU=function(t,n){this.WU.zL(t,n)},i.YU=function(){return this.XU.CU()},i.gU=function(t,n,i){return this.XU.gU(t,n,i)},i.yU=function(t,n){return this.XU.yU(t,n)},i.RU=function(t,n){return this.XU.RU(t,n)},i.jo=function(t,n,i){var e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.QU(t,n),e=this.yg,s.next=4,nr.awrap(this.XU.DU(t,n,i));case 4:r=0!==e.sl&&0===this.yg.sl,(L.wn||L.sn)&&r&&this.jS.ys(this.jS.v_);case 6:case"end":return s.stop()}},null,this,null,we)},i.pL=function(t){var n=t.mf;if(this.Ih===n)return!0;var i=this.qU.get(n);if(void 0!==i)return i;var e=this.jU(t);return this.qU.set(n,e),e},i.jU=function(t){var n=t.mf;if(!MediaSource.isTypeSupported(n))return!1;var i=Oa(this.Ih),e=Oa(n),r=VN(i),s=VN(e);if(this.XU.OU()){if(!function(t,n){return vs(t,n,WN)}(r,s))return!1}else{if(i.nr!==e.nr)return!1;if(!function(t,n){return vs(t,n,GN)}(r,s))return!1}return!0},i.kL=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.mf,this.Ih!==n&&(this.qU.clear(),this.XU.OU()&&this.XU.PU(n),this.Ih=n),this.Ch=t,this.sU.ZU();case 4:case"end":return i.stop()}},null,this,null,we)},i.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qU.clear(),this.Wr(),this.WU.hv(),t.prev=3,this.XU.Xr(yN.OL,this.Ur),t.next=7,nr.awrap(this.XU.Sr());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],we)},A(n,[{key:"yg",get:function(){return this.uU.yg}},{key:"rh",get:function(){return this.Ch}},{key:"mf",get:function(){return this.Ih}},{key:"JU",get:function(){return this.WU.VL}},{key:"ZO",get:function(){return this.XU.ZO},set:function(t){this.XU.ZO=t}},{key:"tP",get:function(){return this.XU.tP},set:function(t){this.XU.tP=t}},{key:"iO",get:function(){return this.XU.iO}}]),n}(Cs),jN=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.$U=void 0,this.SR=t,this.RR=n,this.KU=i,this.tF=e,this.$U=tR()}return t.prototype.nF=function(){var t=this.SR,n=this.RR;if(this.KU||this.tF){var i=.001*(tR()-this.$U);this.KU&&(t+=i),this.tF&&(n+=i)}return t>=n?dS.fI():new dS([t,n])},t}(),ZN=100,JN=1e3,$N=1e4,KN=.01,tD=[yc.Aa,yc.ba,yc.Na,yc.Ia,yc.la,yc.Sa,nm.zd,yw.Sl],nD=function(){function t(t,n){var e=this;this.IA=Uw.n_,this.iF=!1,this.eF=[],this.rF=void 0,this.sF=0,this.uF=0,this.oF=0,this.hF=0,this.aF=0,this.cF=JN,this.fF=function(t){var n=e.jS.v_;t.UL.zE(n)&&e.vF(n)},this.dF=J(function(){e.lF(nm.zd)},ZN),this._F=J(function(){e.lF(yc.Ta)},ZN),this.gF=function(){e.wF()?e.mF():e.yF()},this.pF=function(){var t=e.sF,n=e.oF,r=e.jS.v_,s=i.ce(),u=t!==r;if(u||!e.wF())return e.sF=r,e.oF=s,void(u&&(e.aF=0,e.cF=JN));if(n>0&&s>n+e.cF){var o=r+e.aF*KN,h=e.uU.yg;h.zE(o)||(o=e.kF(r,h)),e.sF=o,e.oF=s,e.aF++,e.cF=_.min(2*e.cF,$N),e.jS.ys(o)}},this.uU=t,this.jS=n,this.jS.Hr(nm.zd,this.dF),this.jS.Hr(yc.Ta,this._F),this.jS.Hr(tD,this.gF)}var n=t.prototype;return n.bF=function(t){this.eF.push(t),t.Hr(SN.LL,this.fF)},n.hv=function(){var t=this;this.yF(),this.IA=Uw.n_,this.jS.Xr(nm.zd,this.dF),this.jS.Xr(yc.Ta,this._F),this.jS.Xr(tD,this.gF),this.eF.forEach(function(n){return n.Xr(SN.LL,t.fF)}),void 0!==this.rF&&(i.In(this.rF),this.rF=void 0),this.iF=!0},n.lF=function(t){if(!this.iF){var n=this.jS.Dl;if(n<=Uw.e_){var i=this.jS.v_,e=this.uU.yg,r=e.ZR(i),s=e.RR(r);-1!==r&&(t===nm.zd&&n<this.IA||t===yc.Ta&&n===this.IA)&&s<i+.5&&(i=s),this.vF(i)}t===nm.zd&&(this.IA=n)}},n.vF=function(t){var n=this;if(this.jS.l_)return!1;var e=this.VL.xR().jR(this.uU.yg),r=e.ZR(t);if(-1!==r&&!(_.abs(e.SR(r)-e.RR(r))<=.001)){if(i.dd){if(void 0!==this.rF)return!1;this.uF=this.jS.v_,this.rF=i.Nn(function(){n.uF===n.jS.v_&&n.jS.ys(e.RR(r)),n.rF=void 0},1500)}else this.jS.ys(e.RR(r));return!0}return!1},n.mF=function(){0===this.hF&&(this.hF=i.ke(this.pF,250))},n.yF=function(){0!==this.hF&&(i.be(this.hF),this.hF=0),this.jS.y_||(this.oF=0)},n.wF=function(){return!this.jS.w_&&!this.jS.y_&&0!==this.jS.m_&&!this.jS.l_&&!this.jS.ts&&this.jS.Dl>=Uw.r_},n.kF=function(t,n){var i=n.ZR(t);return i>-1?n.RR(i):t},A(t,[{key:"VL",get:function(){return this.eF.reduce(function(t,n){return t.QR(n.VL)},dS.fI())}}]),t}();function iD(t){var n=[];if(t.AF&&n.push(t.AF.yg),t.TF&&n.push(t.TF.yg),0===n.length)return dS.fI();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.sl>0&&(i=_.max(i,r.RR(r.sl-1)))}for(var s=t.NL,u=new dS([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.sl>0&&(h=h.QR(new dS([h.RR(h.sl-1),i],[!0,!0]))),u=u.HR(h)}return u}var eD,rD=L.un||L.hn;!function(t){t.BU="closed",t.gv="open",t.la="ended"}(eD||(eD={}));var sD=function(){function t(){}return t.prototype.SF=function(){return new MediaSource},t}(),uD=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new sD),(u=t.call(this,n,i,e,r)||this).EF=void 0,u.RF=void 0,u.IF=void 0,u.NF=new jN(0,1/0),u.ZS=void 0,u.DF=void 0,u.CF=void 0,u.OF=!1,u.PF=function(){u.xF()},u.BF=function(){u.jS.BF()},u.EF=s,u.ZS=u.EF.SF(),u.jS.Hr(yc.Na,u.PF),u.CF=new nD(Tt(u),u.jS),u}S(n,t);var i=n.prototype;return i.LF=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.MF()?this.UF(t):this.DF=t},i.UF=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.ZS.setLiveSeekableRange){var e=_.pow(2,39);this.ZS.setLiveSeekableRange(0,e)}this.ZS.duration=i,this.DF=void 0},i.FF=function(t,n,i,e){this.NF=new jN(t,n,!!i,!!e)},i.oP=function(){var t,n,i,e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=this.Ch,n=rs(t.HF,function(t){return Lr(t.mf,"audio")}),i=rs(t.HF,function(t){return Lr(t.mf,"video")}),o.next=5,nr.awrap(this.zF());case 5:n&&(e=new RN,this.CF.bF(e),r=this.ZS.addSourceBuffer(n.mf),this.RF=QN(this,this.jS,n,Qm.Jf,r,e),this.RF.Hr(yN.OL,this.BF)),i&&(s=new RN,this.CF.bF(s),u=this.ZS.addSourceBuffer(i.mf),this.IF=QN(this,this.jS,i,Qm.$f,u,s),this.IF.Hr(yN.OL,this.BF)),this.lL.Yo(this,t);case 8:case"end":return o.stop()}},null,this,null,we)},i.zF=function(){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.ZS),i.next=3,nr.awrap(t.prototype.SL.call(this,n));case 3:if(this.Dl===eD.gv){i.next=6;break}return i.next=6,nr.awrap(Lg(this.ZS,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,we)},i.MF=function(){if(this.Dl!==eD.gv)return!1;var t=this.RF&&this.RF.iO,n=this.IF&&this.IF.iO;return!(t||n)},i.HU=function(){this.OF=!0,this.RF&&this.RF.HU(),this.IF&&this.IF.HU(),this.OF=!1,this.xF()},i.LU=function(){this.RF&&this.RF.LU(),this.IF&&this.IF.LU()},i.pL=function(n){var i=rs(n.HF,function(t){return Lr(t.mf,"audio")}),e=rs(n.HF,function(t){return Lr(t.mf,"video")});if(this.RF){if(!i)return!1;if(!this.RF.pL(i))return!1}else if(i)return!1;if(this.IF){if(!e)return!1;if(!this.IF.pL(e))return!1}else if(e)return!1;return!!t.prototype.pL.call(this,n)},i.kL=function(n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=rs(n.HF,function(t){return Lr(t.mf,"audio")}),e=rs(n.HF,function(t){return Lr(t.mf,"video")}),r=[],this.RF&&r.push(this.RF.kL(i)),this.IF&&r.push(this.IF.kL(e)),s.next=7,nr.awrap(we.all(r));case 7:return s.next=9,nr.awrap(t.prototype.kL.call(this,n));case 9:case"end":return s.stop()}},null,this,null,we)},i.Sr=function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.RF){n.next=4;break}return n.next=3,nr.awrap(this.RF.Sr());case 3:this.RF=void 0;case 4:if(!this.IF){n.next=8;break}return n.next=7,nr.awrap(this.IF.Sr());case 7:this.IF=void 0;case 8:return this.Vh.src&&URL.revokeObjectURL(this.Vh.src),this.jS.Xr(yc.Na,this.PF),this.CF.hv(),n.next=13,nr.awrap(t.prototype.Sr.call(this));case 13:case"end":return n.stop()}},null,this,null,we)},i.ZU=function(){var t=this,n=this.Ch,i=n.HF.map(function(n){return Lr(n.mf,"audio")&&t.RF?t.RF.rh:Lr(n.mf,"video")&&t.IF?t.IF.rh:n});this.Ch=ir({},n,{HF:i})},i.zU=function(){this.OF||this.xF()},i.xF=function(){this.VF&&this.MF()&&(this.ZS.endOfStream(),this.DF=void 0,this.Fr(new Ps(dN.VN)),this.jS.BF())},i.MU=function(){this.MF()&&(this.NL?this.xF():void 0!==this.DF&&this.UF(this.DF))},i.vF=function(t){return this.CF.vF(t)},n.IL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.HF;n<i.length;n++){var e=i[n];if(!MediaSource.isTypeSupported(e.mf))return!1}return!0},A(n,[{key:"AF",get:function(){return this.RF}},{key:"TF",get:function(){return this.IF}},{key:"d_",get:function(){if(this.DF)return this.DF;var t=this.ZS.duration;return 9007199254740991===t?1/0:t}},{key:"yg",get:function(){return rD?iD(this):(t=this,n=dS.hI(this.Vh.buffered),(i=n).sl>0&&t.NL&&(i=i.QR(dS.cI(i.RR(i.sl-1)))),i);var t,n,i}},{key:"DL",get:function(){var t;return null==(t=this.RF)?void 0:t.yg}},{key:"CL",get:function(){var t;return null==(t=this.IF)?void 0:t.yg}},{key:"Og",get:function(){return this.NF.nF().HR(new dS([0,this.d_],[!0,!0]))}},{key:"NL",get:function(){return(!this.RF||this.RF.NL())&&(!this.IF||this.IF.NL())}},{key:"Dl",get:function(){return this.ZS.readyState}},{key:"VF",get:function(){if(!this.NL)return!1;var t=this.yg;return 0!==t.sl&&t.SR(t.sl-1)<=this.jS.v_}}]),n}(pN),oD=[yc.Ma,yc.Sa,yc.Na,yc.Aa,yc.ba],hD=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this)||this).gI=n,c.Au=i,c.WF=e,c.mI=r,c.pI=s,c.wI=u,c.yI=o,c.Bu=h,c.XF=a,c}S(n,t);var i=n.prototype;return i.K_=function(){this.mI||(this.mI=!0,this.Fr(new em(this.v_)))},i.J_=function(){this.mI&&(this.mI=!1,this.Fr(new rm(this.v_)))},i.Sr=function(){this.Wr()},A(n,[{key:"v_",get:function(){return this.gI},set:function(t){this.v_!==t&&(this.gI=t,this.pI=!0,this.Fr(new lm(this.v_)))}},{key:"d_",get:function(){return this.Au}},{key:"l_",get:function(){return this.WF}},{key:"w_",get:function(){return this.mI}},{key:"Dl",get:function(){return this.XF}},{key:"y_",get:function(){return this.pI}},{key:"g_",get:function(){return this.wI},set:function(t){this.g_!==t&&(this.wI=t,this.Fr(new gm(this.v_,this.b_)))}},{key:"m_",get:function(){return this.yI},set:function(t){this.m_!==t&&(this.yI=t,this.Fr(new cm(this.v_,this.m_)))}},{key:"b_",get:function(){return this.Bu},set:function(t){this.b_!==t&&(this.Bu=t,this.Fr(new gm(this.v_,this.b_)))}}]),n}(Cs);var aD=function(t){function n(n){var i;return(i=t.call(this)||this).jS=void 0,i.IA=Uw.n_,i.qF=function(){i.GF()},i.jS=n,i}S(n,t);var i=n.prototype;return i.QF=function(t){this.IA!==t&&(this.IA=t,this.Fr(new ym(this.jS.v_,t)))},i.GF=function(){this.QF(this.MP())},i.nl=function(){this.QF(Uw.n_)},i.Sr=function(){this.Wr()},A(n,[{key:"Dl",get:function(){return this.MP()}}]),n}(Cs),cD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],fD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<cD.length;e++){var r=cD[e];i.jS.bE.addEventListener(r,i.qF)}return i}S(n,t);var i=n.prototype;return i.MP=function(){var t=this.jS.bE.readyState;return t>Uw.e_&&this.jS.YF?Uw.e_:(this.jS.bE.seeking&&t>Uw.i_&&(t=Uw.i_),t)},i.Sr=function(){for(var n=0;n<cD.length;n++){var i=cD[n];this.jS.bE.removeEventListener(i,this.qF)}t.prototype.Sr.call(this)},n}(aD),vD=function(t){function n(n){var i;(i=t.call(this,n)||this).jS.Hr(yc.Na,i.qF);for(var e=0;e<cD.length;e++){var r=cD[e];i.jS.bE.addEventListener(r,i.qF)}return i}S(n,t);var i=n.prototype;return i.MP=function(){if(this.jS.bE.readyState===Uw.n_)return Uw.n_;var t=this.jF(),n=t?t.RR-t.SR:0;if(!t)return Uw.i_;var i=this.jS.m_;return this.ZF()||n>=3*i?Uw.s_:n>=3?Uw.r_:Uw.e_},i.jF=function(){var t=this.jS.v_,n=this.jS.yg.GR(.04),i=n.ZR(t);if(!(i<0))return{SR:t,RR:n.RR(i)}},i.ZF=function(){if(this.jS.l_)return!0;var t=this.jS.d_,n=this.jF();return!!n&&t-n.RR<=1/6},i.Sr=function(){this.jS.Xr(yc.Na,this.qF);for(var n=0;n<cD.length;n++){var i=cD[n];this.jS.bE.removeEventListener(i,this.qF)}t.prototype.Sr.call(this)},n}(aD),dD=[nm.zd,yc.Aa,yc.ba,yc.Na,yc.Ia,yc.la,yw.Sl],lD=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vh=void 0,i.JF=!1,i.KF=function(){i.JF=!0,i.Zo()},i.Vh=n.bE,i.Vh.addEventListener(nm.f_,i.KF),i}S(n,t);var i=n.prototype;return i.tH=function(){return this.JF&&t.prototype.tH.call(this)},i.Zo=function(){this.JF&&(this.Vh.paused||this.Vh.ended||this.Vh.error)&&(this.JF=!1),t.prototype.Zo.call(this)},i.nl=function(){t.prototype.nl.call(this),this.JF=!1},i.Sr=function(){this.Vh.removeEventListener(nm.f_,this.KF),t.prototype.Sr.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).FA=void 0,i.nH=!1,i.eO=function(){i.Zo()},i.FA=n,i.FA.Hr(dD,i.eO),i}S(n,t);var i=n.prototype;return i.iH=function(){return this.FA.Dl<Uw.r_},i.tH=function(){return!this.FA.y_&&!(this.FA.w_||this.FA.l_||this.FA.ts||this.iH())},i.Zo=function(){var t=this.nH;this.nH=this.tH(),!t&&this.nH&&this.Fr(new kb(this.FA.v_))},i.nl=function(){this.nH=!1},i.Sr=function(){this.Wr(),this.FA.Xr(dD,this.eO)},n}(Cs)),_D=function(t){function n(n){var i;return(i=t.call(this,yw.Sl)||this).ts=void 0,i.ts=n,i}return S(n,t),n}(Ps);function gD(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=e(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(r&&a>s&&0===e(i(t[a-1]),n)))return a;h=a-1}}return~o}function wD(t,n){return t.tw<=n&&t.nw>n}function mD(t,n){return function(t,n){return is(t.tw,n.tw,Ty)}(t,n)||function(t,n){return is(t.nw,n.nw,Ty)}(t,n)}function yD(t,n){var i=gD(t,n,Z,mD,!0);if(i<0)return i;for(;i<t.length&&mD(n,t[i])===Yr.gr;i++)if(t[i].mw(n))return i;return-(i+1)}function pD(t){var n=t.Id;if(!n)return-1;if(t instanceof Ey)return n.eH(t);var i=n.Cl;if(!i)return-1;var e=yD(i.il,t);return e>=0?e:-1}function kD(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],h=[];s<e&&u<r;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<e;)h.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{rH:o,sH:h}}(t,n,mD);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var bD=function(){function t(t){this.uH=void 0,this.Sd=void 0,this.uH=t}var n=t.prototype;return n.Rd=function(){return function(t){for(var n=[],i=0;i<t.sl;i++)n[i]=t.cs(i).Ed;return n.item=function(n){var i=0|n,e=t.cs(i);return e&&e.Ed||void 0},l.defineProperty(n,"constructor",{value:py}),n}(this)},n.Mg=function(t){for(var n=this.uH,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.mw(e))return!0}return!1},n.cs=function(t){return this.uH[t]},A(t,[{key:"il",get:function(){return this.uH}},{key:"sl",get:function(){return this.uH.length}},{key:"Ed",get:function(){if(this.Sd){var t=this.uH;this.Sd.length=t.length;for(var n=0;n<t.length;n++)this.Sd[n]=t[n].Ed}else this.Sd=this.Rd();return this.Sd}}]),t}(),AD=function(t){function n(n,i){var e;return(e=t.call(this,Vg.zd)||this).Id=n,e.Dl=i,e}return S(n,t),n.prototype.Rd=function(){return new TD(this.Id.Ed,Ew(this.Dl))},n}(Wg),TD=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(Xg),SD=function(t){function n(n){var i;return(i=t.call(this,Vg.Wd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new ED(this.Id.Ed)},n}(Wg),ED=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(Xg),RD=function(t){function n(n){var i;return(i=t.call(this,Vg.Nd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new ID(this.Kg.Ed)},n}(Wg),ID=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(Xg),ND=function(t){function n(n){var i;return(i=t.call(this,Vg.Cd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new DD(this.Kg.Ed)},n}(Wg),DD=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(Xg),CD=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).Sd=void 0,a.Bo=void 0,a.Hg=Km(),a.oH=!1,a.hH=void 0,a.aH=void 0,a.Fg=void 0,a.Tu=void 0,a.FI=mw.bl,a.XF=oy.NONE,a.cH=void 0,a.fi=void 0,a.fH=void 0,a.uH=[],a.vH=[],a.dH=void 0,a.lH=void 0,a._H=0,a.gH=0,a.Bo=i||"",a.hH=h||"",a.aH=n,a.Tu=r||"",a.oH=Boolean(s),a.fH=Boolean(o),a.fi=u||hy.DEFAULT,a.Fg=e||"",a.dH=new bD(a.uH),a.lH=new bD(a.vH),a}S(n,t);var i=n.prototype;return i.wH=function(t){return rs(this.dH.il,function(n){return n._l===t})},i.Rd=function(){return Aw(this)},i.tN=function(t){var n=kw(t);n!==this.Rl&&(this.FI=n,n===mw.bl&&(this.vH.forEach(function(t){t.yw=!1}),as(this.vH),this.gH=0),this.Fr(new Zg(this)))},i.AA=function(t){if(t&&!t.Id){var n=yD(this.Cl.il,t);if(!(n>=0)){t.Id=this;var i=-(n+1);this.uH.splice(i,0,t),this.mH(i),t.ww=i,i<this.gH&&(this.gH=i),this.Fr(new RD(t))}}},i.cA=function(t){if(t&&t.Id===this){var n=this.eH(t);if(!(n<0)){t.yw=!1;var i=this.vH,e=yD(i,t);e>=0&&os(i,e),os(this.uH,n),this.mH(n),t.ww=-1,this.gH>n&&--this.gH,this.Fr(new ND(t))}}},i.yH=function(t,n){var i=this.vH,e=this.uH,r=this.gH,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){wD(i[u],t)||(s=!0,os(i,u))}for(;r<e.length&&e[r].tw<=t;){var o=e[r];if(0===t)break;wD(o,t)&&!hs(i,o)&&(s=!0,i.push(o)),r++}s&&Jr(i,mD),this.gH=r},i.eH=function(t){return(-1===t.ww||t.ww>=this._H)&&this.pH(),t.ww},i.pH=function(){for(var t=this.uH,n=this._H;n<t.length;n++)t[n].ww=n;this._H=t.length},i.mH=function(t){t<this._H&&(this._H=t)},i.Il=function(t){this.Nl||(this.Rl=t)},i.hv=function(){this.Wr();for(var t=this.uH.slice(),n=0;n<t.length;n++){t[n].hv()}as(this.uH),as(this.vH)},A(n,[{key:"Ol",get:function(){return this.lH}},{key:"Cl",get:function(){return this.dH}},{key:"SA",get:function(){return this.oH},set:function(t){this.oH=t}},{key:"Nl",get:function(){return this.fH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"El",get:function(){return this.hH},set:function(t){this.hH=t}},{key:"wl",get:function(){return this.aH}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new Zm(this)))}},{key:"yl",get:function(){return this.Tu}},{key:"Rl",get:function(){return this.FI},set:function(t){this.tN(t)}},{key:"Dl",get:function(){return this.XF},set:function(t){this.XF!==t&&(this.XF=t,this.Fr(new AD(this,this.XF)))}},{key:"Pl",get:function(){return this.cH},set:function(t){this.cH=t}},{key:"nr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Fr(new SD(this)))}}]),n}(Cs),OD=function(t){function n(n,i){var e;return(e=t.call(this,vy.jg,n)||this).km=i,e}return S(n,t),n.prototype.Rd=function(){return new PD(this.Kg.Ed)},n}(wy),PD=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(my),xD=function(t){function n(n,i){var e;return(e=t.call(this,vy.Jg,n)||this).km=i,e}return S(n,t),n.prototype.Rd=function(){return new BD(this.Kg.Ed)},n}(wy),BD=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(my),LD=function(t){function n(n){var i;return(i=t.call(this,Vg.Pd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new MD(this.Kg.Ed)},n}(Wg),MD=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(Xg),UD=function(t){function n(n){var i;return(i=t.call(this,Vg.Bd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new FD(this.Kg.Ed)},n}(Wg),FD=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(Xg),HD=function(t){function n(n){var i;return(i=t.call(this)||this).kH=void 0,i._w=void 0,i.Hg=void 0,i.dw=void 0,i.Sd=void 0,i.lw=!1,i.bH=function(){i.yw=!0},i.AH=function(){i.yw=!1},i.Hg=ey(),i.kH=n,i.kH.addEventListener("enter",i.bH),i.kH.addEventListener("exit",i.AH),i}S(n,t);var i=n.prototype;return i.Rd=function(){return yy(this)},i.mw=function(t){return this===t||rw(this,t)&&Sy(this,t)},i.hv=function(){this.Wr(),this.kH.removeEventListener("enter",this.bH),this.kH.removeEventListener("exit",this.AH)},A(n,[{key:"gl",get:function(){return this.Hg}},{key:"tw",get:function(){return this.kH.startTime},set:function(t){this.kH.startTime=t}},{key:"nw",get:function(){return this.kH.endTime},set:function(t){this.kH.endTime=t}},{key:"iw",get:function(){return this._w},set:function(t){this._w=t}},{key:"pw",get:function(){return!!this.kH.pauseOnExit},set:function(t){this.kH.pauseOnExit=!!t}},{key:"Id",get:function(){return this.dw},set:function(t){this.dw=t}},{key:"_l",get:function(){return this.kH.id||""}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"yw",get:function(){return this.lw},set:function(t){this.yw!==t&&(this.lw=t,t?(this.Fr(new OD(this,this.tw)),this.dw&&this.dw.Fr(new LD(this))):(this.Fr(new xD(this,this.nw)),this.dw&&this.dw.Fr(new UD(this))))}}]),n}(Iw),zD=function(t){function n(n){var i;return(i=t.call(this,Vg.Md)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new VD(this.Id.Ed)},n}(Wg),VD=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(Xg);function WD(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new XD(t),t.THEOplayerVTTRegion=n),n}}var XD=function(){function t(t){this.TH=void 0,this.Sd=void 0,this.TH=t}return A(t,[{key:"SH",get:function(){return this.TH}},{key:"_l",get:function(){return this.TH.id||""}},{key:"Rw",get:function(){return+this.TH.width||0},set:function(t){this.TH.width=t||0}},{key:"kw",get:function(){return+this.TH.lines||0},set:function(t){this.TH.lines=t||0}},{key:"bw",get:function(){return+this.TH.regionAnchorX||0},set:function(t){this.TH.regionAnchorX=t||0}},{key:"Aw",get:function(){return+this.TH.regionAnchorY||0},set:function(t){this.TH.regionAnchorY=t||0}},{key:"Sw",get:function(){return+this.TH.viewportAnchorX||0},set:function(t){this.TH.viewportAnchorX=t||0}},{key:"Ew",get:function(){return+this.TH.viewportAnchorY||0},set:function(t){this.TH.viewportAnchorY=t||0}},{key:"Tw",get:function(){return this.TH.scroll||""}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Py(this)),this.Sd}}]),t}();var qD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"iw",get:function(){return this.kH.text},set:function(t){this.kH.text=t}},{key:"cw",get:function(){return this.kH.vertical||""},set:function(t){this.kH.vertical=t||""}},{key:"aw",get:function(){return this.kH.snapToLines},set:function(t){this.kH.snapToLines=t}},{key:"rw",get:function(){return this.kH.line},set:function(t){this.kH.line=t}},{key:"ls",get:function(){return+this.kH.size},set:function(t){this.kH.size=ft(t,0,100)}}]),n}(HD),GD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.mw=function(n){return this===n||rw(this,n)&&t.prototype.mw.call(this,n)&&Ry(this,n)},A(n,[{key:"hw",get:function(){return WD(this.kH.region)}},{key:"sw",get:function(){return this.kH.lineAlign||"start"},set:function(t){this.kH.lineAlign=t||"start"}},{key:"uw",get:function(){return this.kH.position},set:function(t){this.kH.position=t}},{key:"ow",get:function(){return this.kH.positionAlign||"auto"},set:function(t){this.kH.positionAlign=t||"auto"}},{key:"ew",get:function(){return this.kH.align||"center"},set:function(t){this.kH.align=t||"center"}},{key:"Ed",get:function(){return this.Sd||(this.Sd=ky(this)),this.Sd}}]),n}(qD),QD=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.mw=function(n){return this===n||rw(this,n)&&t.prototype.mw.call(this,n)&&Ry(this,n)},A(n,[{key:"hw",get:function(){return WD(this.SH)}},{key:"SH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.kH.track,this.kH.regionId)}},{key:"sw",get:function(){return"middle"===(t=this.kH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.kH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"uw",get:function(){return this.kH.position},set:function(t){var n,i;this.kH.position=(n=t,i=this.ew,gy(n,i))}},{key:"ow",get:function(){return t=this.kH.positionAlign||"middle",ly[t];var t},set:function(t){var n,i;this.kH.positionAlign=(n=t||"center",i=this.ew,dy[_y(n,i)])}},{key:"ew",get:function(){return"middle"===(t=this.kH.align||"middle")?"center":t;var t},set:function(t){var n;this.kH.align="center"===(n=t||"center")?"middle":n}},{key:"Ed",get:function(){return this.Sd||(this.Sd=ky(this)),this.Sd}}]),n}(qD);function YD(t,n){return t.iw===n.iw}function jD(t,n,i){for(var e=t[n].tw,r=n;r>=0&&t[r].tw===e;r--)t[r].nw=i}function ZD(t){return yy(t)}var JD,$D,KD=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).EH=void 0,e.EH=i,e}return S(n,t),n.prototype.mw=function(n){return this===n||rw(this,n)&&t.prototype.mw.call(this,n)&&YD(this,n)},A(n,[{key:"iw",get:function(){return this.EH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=ZD(this)),this.Sd}}]),n}(HD);function tC(t){switch(t){case JD.ISO_8859_1:case JD.UTF16_BOM:case JD.UTF16:case JD.UTF8:return!0}return!1}function nC(t){switch(t){case JD.ISO_8859_1:return Cu;case JD.UTF16_BOM:return xu;case JD.UTF16:return Bu;case JD.UTF8:return Vu}}function iC(t,n){var i=n.ks,e=t.byteLength,r=Yu(t);return n.gs(e-i),Ju(r,i,e).buffer}function eC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function rC(t,n,i){var e=gu(t,n);if(tC(e)){var r=nC(e);return{id:i,language:Nu(t,n,3),description:r(t,n),text:r(t,n)}}}function sC(t,n,i){var e=gu(t,n);if(tC(e)){var r=nC(e);return{id:i,mimeType:Cu(t,n),fileName:r(t,n),description:r(t,n),data:iC(t,n)}}}function uC(t,n,i){var e=gu(t,n);if(tC(e)){for(var r=nC(e),s=[];n.ks<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function oC(t,n,i){var e=gu(t,n);if(tC(e)){for(var r=nC(e),s=Nu(t,n,3),u=gu(t,n),o=gu(t,n),h=r(t,n),a=!1,c=[];n.ks<t.byteLength;){var f=void 0;if(e===JD.UTF16_BOM){var v=Pu(t,n);void 0===v?v=a:a=v,f=Bu(t,n,v)}else f=r(t,n);if(!f||n.ks+4>t.byteLength)break;c.push({text:f,timestamp:Tu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function hC(t,n,i){return{id:i,ownerIdentifier:Cu(t,n),identifier:iC(t,n)}}function aC(t,n,i){var e=gu(t,n);if(tC(e)){var r=nC(e);return{id:i,language:Nu(t,n,3),description:r(t,n),text:r(t,n)}}}function cC(t,n,i){var e=gu(t,n);if(tC(e))return{id:i,text:nC(e)(t,n)}}function fC(t,n,i){return{id:i,url:Cu(t,n)}}function vC(t,n,i){var e=gu(t,n);if(tC(e)){var r=nC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function dC(t,n,i){var e=gu(t,n);if(tC(e))return{id:i,description:nC(e)(t,n),url:Cu(t,n)}}function lC(t,n,i){switch(i){case"COM":return rC(t,n,i);case"GEO":return sC(t,n,i);case"IPL":return uC(t,n,i);case"PIC":return function(t,n,i){var e=gu(t,n);if(tC(e)){var r,s,u=nC(e),o=Nu(t,n,3),h=gu(t,n),a=u(t,n);return"--\x3e"===o?(r=o,s=Cu(t,n)):(r="image/"+o.toLowerCase(),s=iC(t,n)),{id:i,mimeType:r,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return oC(t,n,i);case"TXX":return vC(t,n,i);case"UFI":return hC(t,n,i);case"ULT":return aC(t,n,i);case"WXX":return dC(t,n,i);default:if("T"===i.charAt(0))return cC(t,n,i);if("W"===i.charAt(0))return fC(t,n,i)}}function _C(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=gu(t,n);if(tC(e)){var r=nC(e),s=Cu(t,n);return{id:i,mimeType:s,pictureType:gu(t,n),description:r(t,n),data:"--\x3e"===s?Cu(t,n):iC(t,n)}}}(t,n,i);case"COMM":return rC(t,n,i);case"COMR":return function(t,n,i){var e=gu(t,n);if(tC(e)){var r,s,u=nC(e),o=Cu(t,n),h=Nu(t,n,8),a=Cu(t,n),c=gu(t,n),f=u(t,n),v=u(t,n);return n.ks<t.byteLength&&(r=Cu(t,n)||"image/",s=iC(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return sC(t,n,i);case"IPLS":return uC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:Cu(t,n),data:iC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:gu(t,n),position:Tu(t,n)}}(t,n,i);case"SYLT":return oC(t,n,i);case"TXXX":return vC(t,n,i);case"UFID":return hC(t,n,i);case"USER":return function(t,n,i){var e=gu(t,n);if(tC(e)){var r=nC(e);return{id:i,language:Nu(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return aC(t,n,i);case"WXXX":return dC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return cC(t,n,i);default:var e=i.charAt(0);if("T"===e)return cC(t,n,i);if("W"===e)return fC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(JD||(JD={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}($D||($D={}));var gC=10;function wC(t,n){return(127&gu(t,n))<<21|(127&gu(t,n))<<14|(127&gu(t,n))<<7|127&gu(t,n)}function mC(t,n){switch(t){case $D.V24:return{RH:_u(n,0),IH:_u(n,1),NH:_u(n,2),DH:_u(n,3)};case $D.V23:return{RH:_u(n,0),IH:_u(n,1),NH:_u(n,2)};case $D.V22:return{RH:_u(n,0),CH:_u(n,1)}}}function yC(t,n,i){switch(i.Ip){case $D.V23:i.Np.IH&&function(t,n){var i=n.ks,e=Tu(t,n)+4,r=32768&bu(t,n);n.ys(i+e),r&&Tu(t,n)}(t,n);break;case $D.V24:i.Np.IH&&function(t,n){var i=n.ks,e=wC(t,n);n.ys(i+e)}(t,n)}}function pC(t,n){if(t.byteLength-n.ks<gC)return null;if(73!==gu(t,n)||68!==gu(t,n)||51!==gu(t,n))return null;var i=gu(t,n),e=gu(t,n);if(!function(t){switch(t){case $D.V22:case $D.V23:case $D.V24:return!0}return!1}(i))return null;var r=gu(t,n),s=wC(t,n);return{Ip:i,OH:e,Np:mC(i,r),PH:s}}function kC(t,n,i){switch(i.Ip){case $D.V22:return function(t,n,i){return{_l:Nu(t,n,3),ls:ku(t,n,3)}}(t,n);case $D.V23:return function(t,n,i){var e=Nu(t,n,4),r=Tu(t,n);gu(t,n);var s=gu(t,n);return{_l:e,ls:r,Np:{CH:_u(s,0),xH:_u(s,1),groupingIdentity:_u(s,2)}}}(t,n);case $D.V24:return function(t,n,i){var e=Nu(t,n,4),r=wC(t,n);gu(t,n);var s=gu(t,n);return{_l:e,ls:r,Np:{groupingIdentity:_u(s,1),CH:_u(s,4),xH:_u(s,5),RH:_u(s,6),BH:_u(s,7)}}}(t,n)}}function bC(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function AC(t,n){var i=n||new Ku,e=pC(t,i);return e?{Ap:e,LH:function(t,n,i){var e=[],r=n.ks,s=Gu(t,r,r+i.PH),u=new Ku;switch(n.gs(i.PH),i.Ip){case $D.V22:case $D.V23:i.Np.RH&&(s=bC(s))}yC(t,n,i);for(;u.ks<s.byteLength;)e.push(TC(s,u,i));return e}(t,i,e)}:null}function TC(t,n,i){var e,r,s=kC(t,n,i),u=n.ks,o=Gu(t,u,u+s.ls);switch(n.gs(s.ls),i.Ip){case $D.V22:var h=s;e=lC(r=o,new Ku,h._l);break;case $D.V23:var a=s,c=new Ku;!function(t,n,i){var e,r,s,u=i.Np;u.CH&&(e=Tu(t,n)),u.xH&&(r=gu(t,n)),u.groupingIdentity&&(s=gu(t,n))}(o,c,a),e=_C(r=Gu(o,c.ks,o.byteLength),new Ku,a._l);break;case $D.V24:var f=s,v=new Ku;f.Np.RH&&(o=bC(o)),function(t,n,i){var e,r,s,u,o=i.Np;o.groupingIdentity&&(e=gu(t,n)),o.CH&&(r=Tu(t,n)),o.xH&&(s=gu(t,n)),o.BH&&(u=wC(t,n))}(o,v,f),e=_C(r=Gu(o,v.ks,o.byteLength),new Ku,f._l)}if(!e){var d=$u(Yu(r));e=eC(s._l,d.buffer)}return e}function SC(t){return function(t,n,i){return cC(t,n,i)}(new DataView(t.data),new Ku,t.key)}function EC(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return SC(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return eC(t.key,t.data)}(t)}var RC="org.id3";var IC=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Ug=void 0,r.MH=void 0,r.uH=[],r.vH=[],r.dH=void 0,r.lH=void 0,r.Hg=void 0,r.Fg=void 0,r.FI=mw.bl,r.XF=oy.NONE,r.Sd=void 0,r.cH=void 0,r.fi=hy.DEFAULT,r.UH=void 0,r.FH=function(){r.HH(),r.Ug.removeEventListener("cuechange",r.FH)},r.zH=function(){r.Rl!==mw.bl&&(r.VH(),r.yH(),r.uH.length&&r.WH(oy.LOADING))},r.XH=function(){r.WH(oy.LOADED)},r.qH=function(){r.WH(oy.ERROR)},r.Ug=n,r.UH=e,r.Ug.addEventListener("cuechange",r.FH),r.Ug.addEventListener("cuechange",r.zH),r.MH=i,r.MH&&(r.cH=t_(r.MH.src),r.MH.addEventListener("load",r.XH),r.MH.addEventListener("error",r.qH)),r.Hg=Km(),r.Fg=n.label||"",r.dH=new bD(r.uH),r.lH=new bD(r.vH),r.Rl=r.GH,Ts(function(){r.zH(),r.WH(oy.NONE)}),r}S(n,t);var i=n.prototype;return i.Rd=function(){return Aw(this)},i.HH=function(){var t=this.Rl;this.QH||t!==mw.Tl?this.GH=t:this.GH=mw.Al},i.YH=function(){var t=this.Rl,n=this.GH;t!==n&&(this.QH||t!==mw.Tl||n!==mw.Al)&&("metadata"===this.wl&&n===mw.bl?this.Rl=t:this.Rl=n)},i.GF=function(t){this.XF!==t&&(this.XF=t,this.Fr(new AD(this,t)))},i.WH=function(t){var n=_.max(this.XF,this.jH,t);this.GF(n)},n.ZH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.JH=function(t){var i=n.ZH(t);if(i)return i;if(z(i=this.$H(t)))for(var e=0,r=i;e<r.length;e++){r[e].Id=this}else i.Id=this;return t.THEOplayerTextTrackCue=i,i},i.$H=function(t){return(n=t)&&n.type===RC&&n.value?(this.nr=hy.ID3,function(t){var n;try{n=EC(t.value)}catch(t){n=eC("")}return new KD(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.nr=hy.ID3,function(t){var n=[];try{var i=AC(new DataView(t.data));if(i)for(var e=0,r=i.LH;e<r.length;e++){var s=r[e];n.push(new KD(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.nr=hy.WEBVTT,function(t){return"regionId"in t}(t)?new QD(t):new GD(t)):new HD(t);var n},i.KH=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.JH(t[e]||t.item(e));if(z(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.VH=function(){for(var t=this.KH(this.Ug.cues),n=kD(this.uH,t),i=0,e=n.sH;i<e.length;i++){var r=e[i];this.Fr(new ND(r))}for(var s=0,u=n.rH;s<u.length;s++){var o=u[s];this.Fr(new RD(o))}},i.yH=function(){for(var t=this.KH(this.Ug.activeCues),n=kD(this.vH,t),i=0,e=n.sH;i<e.length;i++){e[i].yw=!1}for(var r=0,s=n.rH;r<s.length;r++){s[r].yw=!0}(n.rH.length||n.sH.length)&&this.Fr(new zD(this))},i.Il=function(t){this.Rl=t},i.hv=function(){this.Wr();for(var t=this.uH.slice(),n=0;n<t.length;n++){t[n].hv()}as(this.uH),as(this.vH),this.Ug.removeEventListener("cuechange",this.zH),this.MH&&(this.Ug.removeEventListener("load",this.XH),this.Ug.removeEventListener("error",this.qH)),this.MH&&Ee(this.MH)},A(n,[{key:"Ol",get:function(){return this.lH}},{key:"SA",get:function(){return this.MH?this.MH.default:void 0}},{key:"Cl",get:function(){return this.dH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"_l",get:function(){return this.Ug.id||this.MH&&this.MH.id||""}},{key:"gl",get:function(){return this.Hg}},{key:"El",get:function(){return this.Ug.inBandMetadataTrackDispatchType||""}},{key:"wl",get:function(){return this.Ug.kind||Ak.Zy}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.ml&&(this.Fg=t,this.Fr(new Zm(this)))}},{key:"yl",get:function(){return this.Ug.language||""}},{key:"Rl",get:function(){return this.FI},set:function(t){var n=this.Rl;this.FI=kw(t),this.HH();var i=this.Rl;n!==i&&this.Fr(new Zg(this)),i!==mw.bl&&this.WH(oy.LOADING)}},{key:"GH",get:function(){return kw(this.Ug.mode)},set:function(t){this.Ug.mode=t}},{key:"qg",get:function(){return this.Ug}},{key:"Dl",get:function(){return this.XF}},{key:"jH",get:function(){return this.MH?+this.MH.readyState||oy.NONE:oy.LOADED}},{key:"Pl",get:function(){return this.cH}},{key:"nr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Fr(new SD(this)))}},{key:"QH",get:function(){return this.UH},set:function(t){this.UH=t,this.HH()}}]),n}(Cs);function NC(t){return t instanceof IC}function DC(t,n){return ns(t.km,n.km)||function(t,n){return t.Id===n.Id?ts(pD(t),pD(n)):Mk(t.Id,n.Id)}(t.Kg,n.Kg)||function(t,n){return t===n?Yr.gr:t===vy.jg?Yr.mr:Yr.wr}(t.type,n.type)}var CC=function(){function t(t,n){var i=this;this.lR=void 0,this.tz=void 0,this.W_=[],this.nz=0,this.iz=0,this.ez=[],this.rz=!1,this.sz=!1,this.uz=void 0,this.oz=function(){i.nz=0,i.hz(),i.az()},this.cz=function(){i.hz(),i.az()},this.fz=function(){i.sz=!0,i.uz=i.lR.v_,i.vz()},this.dz=function(){i.hz(),i.az()},this.lz=function(){i._z(),i.hz(),i.az()},this.gz=function(){i.wz()},this.mz=function(t){us(i.ez,t.Kg),i.wz()},this.tz=n,this.lR=t,t.Hr(yc.La,this.cz),t.Hr(yc.Aa,this.cz),t.Hr(nm.f_,this.cz),t.Hr(yc.ba,this.cz),t.Hr(yc.Na,this.fz),t.Hr(yc.Ia,this.dz),this.wz()}var n=t.prototype;return n.nl=function(){as(this.ez);for(var t=0,n=this.W_.slice();t<n.length;t++){var i=n[t];this.Kd(i)}this.vz(),this.nz=0,this.iz=0,this.rz=!1,this.sz=!1,this.uz=void 0},n.$d=function(t){hs(this.W_,t)||(this.W_.push(t),t.Hr(Vg.Nd,this.gz),t.Hr(Vg.Cd,this.mz),t.Hr(Vg.Fd,this.lz),t.Cl.sl&&this.wz(),this._z())},n.Kd=function(t){if(us(this.W_,t)){if(t.Xr(Vg.Nd,this.gz),t.Xr(Vg.Cd,this.mz),t.Xr(Vg.Fd,this.lz),t.Cl.sl){for(var n=0,i=t.Cl.il;n<i.length;n++){var e=i[n];us(this.ez,e)}this.wz()}this._z()}},n._z=function(){this.rz=this.W_.some(function(t){return t.Rl!==mw.bl})},n.az=function(){this.lR.y_||this.lR.w_?this.vz():this.wz()},n.wz=function(){this.rz&&(this.nz||(this.nz=this.tz.Hi(this.oz)))},n.vz=function(){this.nz&&(this.tz.yz(this.nz),this.nz=0)},n.hz=function(){var t;if(this.rz&&!this.lR.y_){var n=this.W_,i=this.iz,e=null!=(t=this.uz)?t:this.lR.v_,r=e-i<-.1,s=this.sz||r;s&&e>i&&e-i<.1&&(s=!1),this.sz=!1,this.uz=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.Rl!==mw.bl){a.yH(e,s);for(var c=0,f=a.Ol.il;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.ez;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.Rl!==mw.bl&&Lk(l,i-1/6,e,u)}}for(var g=u.length-1;g>=0;g--)hs(o,u[g])&&os(u,g);var w=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.tw>=i&&y.nw<=e&&(w.push(y),os(u,m))}for(var p=[],k=[],b=0;b<w.length;b++){var A=w[b];A.yw||p.push(new OD(A,A.tw)),p.push(new xD(A,_.max(A.tw,A.nw)))}for(var T=0,S=u;T<S.length;T++){var E=S[T];E.yw&&(p.push(new xD(E,_.max(E.tw,E.nw))),E.yw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.yw||(p.push(new OD(I,I.tw)),I.yw=!0)}p.sort(DC);for(var N=0;N<p.length;N++){var D=p[N],C=D.Kg;C.Fr(D);var O=C.Id;O&&(D.type===vy.jg?O.Fr(new LD(C)):O.Fr(new UD(C)),hs(k,O)||k.push(O))}k.sort(Mk);for(var P=0;P<k.length;P++){var x=k[P];x.Fr(new zD(x))}this.iz=e,this.ez=o}},n.hv=function(){this.nl(),this.lR.Xr(yc.La,this.cz),this.lR.Xr(yc.Aa,this.cz),this.lR.Xr(nm.f_,this.cz),this.lR.Xr(yc.ba,this.cz),this.lR.Xr(yc.Na,this.fz),this.lR.Xr(yc.Ia,this.dz)},t}(),OC=function(){function t(){}var n=t.prototype;return n.Hi=function(t){return bR(t)},n.yz=function(t){AR(t)},t}(),PC=new OC,xC=function(t){function n(n,i){return void 0===i&&(i=PC),t.call(this,n,i)||this}return S(n,t),n}(CC),BC=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).pz=void 0,r}return S(n,t),n.prototype.mw=function(n){return this===n||rw(this,n)&&t.prototype.mw.call(this,n)&&YD(this,n)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=ZD(this)),this.Sd}}]),n}(Ey),LC=function(t){function n(n,i,e){return void 0===e&&(e=hy.DEFAULT),t.call(this,Ak.$y,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(CD),MC=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pz=void 0,e.nr=hy.ID3,e}S(n,t);var i=n.prototype;return i.AA=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].tw<t.tw)jD(n,i,t.tw);else{var e=n[0];if(e.tw>t.tw)t.nw=e.tw;else{var r=yD(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0&&n[u].tw<t.tw&&jD(n,u,t.tw),s<n.length){var o=n[s];t.nw=o.tw}}}}}}(n,this.uH),t.prototype.AA.call(this,n)},i.Rd=function(){return Aw(this)},n}(LC);function UC(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=EC(t.value);return t.THEOplayerTextTrackCue=new BC(i,e),t.THEOplayerTextTrackCue}var FC=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ug=void 0,i.zH=function(){i.Rl!==mw.bl&&(i.VH(),i.WH(oy.LOADED))},i.Ug=n,i.Ug.addEventListener("cuechange",i.zH),i.Rl=i.GH,Ts(function(){i.zH()}),i}S(n,t);var i=n.prototype;return i.tN=function(n){t.prototype.tN.call(this,n),this.GH=this.Rl},i.WH=function(t){this.Dl=_.max(this.Dl,t)},i.VH=function(){var t=this.Ug.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(UC(t[e]||t.item(e)));return Jr(i,mD),i}(t),i=kD(this.Cl.il.slice(),n),e=0,r=i.sH;e<r.length;e++){var s=r[e];this.cA(s)}for(var u=0,o=i.rH;u<o.length;u++){var h=o[u];this.AA(h)}}},i.hv=function(){this.Ug.removeEventListener("cuechange",this.zH),t.prototype.hv.call(this)},A(n,[{key:"_l",get:function(){return this.Ug.id||""}},{key:"El",get:function(){return this.Ug.inBandMetadataTrackDispatchType||""}},{key:"yl",get:function(){return this.Ug.language||""}},{key:"GH",get:function(){return kw(this.Ug.mode)},set:function(t){this.Ug.mode=t}},{key:"qg",get:function(){return this.Ug}}]),n}(MC),HC=function(t){function n(n){var i;return(i=t.call(this,0,n.iw)||this).kz=void 0,i.kz=n,i.nw=i.kz.tw,i}return S(n,t),A(n,[{key:"_l",get:function(){return this.kz._l}},{key:"pw",get:function(){return this.kz.pw},set:function(t){this.kz.pw=t}}]),n}(BC);function zC(t){return void 0===t.pz&&(t.pz=new HC(t)),t.pz}var VC=function(t){function n(n,i){var e;(e=t.call(this,n.El,n.ml)||this).bz=void 0,e.Az=void 0,e.Tz=void 0,e.Sz=function(t){e.Ez(t.Kg)},e.Rz=function(t){var n=t.Kg;if(void 0!==n.pz){var i=n.pz;n.pz=void 0,e.cA(i),i.hv()}},e.Iz=function(t){var n=zC(t.Kg);n.yw||e.Nz(n),e.Dz(n)},e.Cz=function(t){var n=t.Kg,i=zC(n);e.Az.v_<n.tw&&e.Nz(i)},e.Oz=function(){var t=e.Tz,n=e.Rl;if(e.Tz=n,n===mw.bl){for(var i=0,r=e.vH;i<r.length;i++){r[i].yw=!1}as(e.vH)}else if(t===mw.bl)for(var s=e.Az.v_,u=0,o=e.uH;u<o.length;u++){var h=o[u];s<h.nw&&e.Nz(h)}},e.nr=hy.ID3,e.Az=i,e.bz=n,e.Tz=n.Rl,n.Hr(Vg.Nd,e.Sz),n.Hr(Vg.Cd,e.Rz),n.Hr(Vg.Pd,e.Iz),n.Hr(Vg.Bd,e.Cz),n.Hr(Vg.Fd,e.Oz);for(var r=0,s=e.bz.Cl.il;r<s.length;r++){var u=s[r];e.Ez(u)}return e}S(n,t);var i=n.prototype;return i.Nz=function(t){var n=yD(this.vH,t);if(!(n>=0)){var i=-(n+1);this.vH.splice(i,0,t),t.yw=!0,t.Fr(new OD(t,this.Az.v_)),this.Fr(new LD(t)),this.Fr(new zD(this))}},i.Dz=function(t){var n=yD(this.vH,t);n>=0&&os(this.vH,n),t.yw=!1,t.Fr(new xD(t,this.Az.v_)),this.Fr(new UD(t)),this.Fr(new zD(this))},i.hv=function(){this.bz.Xr(Vg.Nd,this.Sz),this.bz.Xr(Vg.Cd,this.Rz),this.bz.Xr(Vg.Pd,this.Iz),this.bz.Xr(Vg.Bd,this.Cz),this.bz.Xr(Vg.Fd,this.Oz),t.prototype.hv.call(this)},i.Ez=function(t){var n=zC(t);(this.AA(n),this.Rl!==mw.bl)&&(this.Az.v_<n.nw&&this.Nz(n))},A(n,[{key:"wl",get:function(){return this.bz.wl}},{key:"ml",get:function(){return this.bz.ml},set:function(t){this.bz.ml=t}},{key:"yl",get:function(){return this.bz.yl}},{key:"_l",get:function(){return this.bz._l}},{key:"gl",get:function(){return this.bz.gl}},{key:"El",get:function(){return this.bz.El}},{key:"Rl",get:function(){return this.bz.Rl},set:function(t){this.bz.Rl=t}},{key:"Dl",get:function(){return this.bz.Dl}},{key:"Pl",get:function(){return this.bz.Pl}}]),n}(LC),WC=function(t){function n(n){var i;return(i=t.call(this)||this).Az=void 0,i.Az=n,i}S(n,t);var i=n.prototype;return i.$d=function(n){if(n.nr===hy.ID3){var i=n;return i.pz||(i.pz=new VC(i,this.Az)),t.prototype.$d.call(this,i.pz)}return t.prototype.$d.call(this,n)},i.Kd=function(n){if(n.nr===hy.ID3){var i=n;return!!i.pz&&t.prototype.Kd.call(this,i.pz)}return t.prototype.Kd.call(this,n)},n}(Rw),XC=function(t){function n(n,i){var e;return(e=t.call(this)||this).Pz=sr(),e.FS=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Id).nr){i.next=4;break}return i.next=4,nr.awrap(n.Yr(Vg.Wd));case 4:if(n.nr===hy.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Cl.sl){i.next=11;break}return i.next=9,nr.awrap(n.Yr(Vg.Nd));case 9:i.next=6;break;case 11:e.xz(n);case 12:case"end":return i.stop()}},null,null,null,we)},e.HS=function(t){var n=t.Id;if(n.nr===hy.ID3&&e.Pz.has(n.gl)){var i=e.Pz.get(n.gl);e.Kd(i),e.wA.TA(i),n.Xr(Vg.Nd,e.Ez)}},e.Ez=function(t){qC(t.Kg)&&e.Bz(t.Kg)},e.wA=n,e.Lz=i,e.Mz(),e}S(n,t);var i=n.prototype;return i.Mz=function(){this.Lz.Hr(Ug.kd,this.FS),this.Lz.Hr(Ug.Ad,this.HS)},i.Uz=function(){this.Lz.Xr(Ug.kd,this.FS),this.Lz.Xr(Ug.Ad,this.HS)},i.xz=function(t){var n=t.Cl.il[0];if(qC(n)){var i=function(t){var n=t.match(GC);if(!n)return;return{Id:n[1],yl:n[2]}}(n.iw.description),e=i.Id,r=i.yl;if(!this.Fz(e,r)){var s=this.wA.kA(Ak.Zy,t._l,e,r,!1,hy.TTML);this.$d(s),this.Pz.set(t.gl,s);for(var u=0,o=t.Cl.il;u<o.length;u++){var h=o[u];qC(h)&&this.Bz(h)}t.Hr(Vg.Nd,this.Ez)}}},i.Fz=function(t,n){return!!rs(this.qp.il,function(i){return i.ml===t&&i.yl===n})},i.Bz=function(t){if(t.Id)for(var n=this.Pz.get(t.Id.gl),i=dk(t.iw.text,0,{Jm:0,$m:1/0,Km:t.nw}),e=0;e<i.length;e++){var r=i[e];n.AA(r)}},i.nl=function(){var n,i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.Lz.il;n<i.length;n++)i[n].Xr(Vg.Nd,this.Ez);for(e=0,r=this.qp.il;e<r.length;e++)s=r[e],this.wA.TA(s);return this.Pz.clear(),u.next=5,nr.awrap(t.prototype.nl.call(this));case 5:case"end":return u.stop()}},null,this,null,we)},i.hv=function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Uz(),n.next=3,nr.awrap(t.prototype.hv.call(this));case 3:case"end":return n.stop()}},null,this,null,we)},n}(Vk);function qC(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.iw)&&GC.test(n.description);var n}var GC=/^Track:(.+),Lang:(.+)$/;var QC=function(t){function n(n){var i;return(i=t.call(this,yc.ha)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Ps),YC=function(t){function n(){return t.call(this,yc.aa)||this}return S(n,t),n}(Ps),jC=function(t){function n(n){var i;return(i=t.call(this,"Fa")||this).Hz=n,i}return S(n,t),n}(Ps),ZC=new nN,JC=function(t){function n(n){var i;return(i=t.call(this,"Go")||this).session=n,i}return S(n,t),n}(Ps),$C=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).zz=!1,u.Vz=!1,u.Fc=new ls,u.Vo=function(t){switch(t.$r){case"license-request":u.uT(t.Jr,t.Kr).catch(function(t){return u.Th(t)});break;default:u.Th(new Vm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.$r))}},u.Wz=function(t){u.Xz.th.fs(function(t,n){switch(t){case"usable":i.Nn(function(){u.Vz=!0,u.Fr(new YC)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Fr(new jC(n))}})},u.qz=function(t){u.Th(new Vm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.Xz=e,u.Gz=r,u.Qz=s,e.Hr("Jr",u.Vo),e.Hr("Zr",u.Wz),e.Hr("ts",u.qz),e.$o.then(function(){return u.Yz()}),u}S(e,t);var r=e.prototype;return r.Qo=function(){var t=this;return this.zz=!0,ZC.FB(function(n){return t.jz(n)},this.Fc.xr)},r.jz=function(t){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,ws(t),s.next=4,nr.awrap(this.Gz.KA(t));case 4:return s.next=6,nr.awrap(this.Gz.tT(this.Qz.er,this.Qz.os,t));case 6:return i=s.sent,s.next=9,nr.awrap(this.Xz.Qo(this.Qz.er,this.Qz.os,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),ms(s.t0),e=s.t0 instanceof uo?s.t0.Cs:void 0,r=new Vm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Th(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],we)},r.uT=function(t,i){var e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!eo(t)){s.next=7;break}return s.next=4,nr.awrap(this.Gz.lT(new y(t),this.Fc.xr));case 4:e=s.sent,s.next=10;break;case 7:return s.next=9,nr.awrap(this.Gz._T(new y(t),i,this.Fc.xr));case 9:e=s.sent;case 10:s.next=17;break;case 12:if(s.prev=12,s.t0=s.catch(0),!gs(s.t0)){s.next=16;break}return s.abrupt("return");case 16:throw s.t0;case 17:return s.prev=17,s.next=20,nr.awrap(this.Xz.Zo(e));case 20:s.next=26;break;case 22:throw s.prev=22,s.t1=s.catch(17),r=s.t1 instanceof uo?s.t1.Cs:void 0,new Vm(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return s.stop()}},null,this,[[0,12],[17,22]],we)},r.Th=function(t){var i=t instanceof Vm?t:new Vm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new QC(i)),this.Go()},r.Yz=function(){this.Xz.Xr("Jr",this.Vo),this.Xz.Xr("Zr",this.Wz),this.Xz.Xr("ts",this.qz),this.Vz=!1,this.Fc.Cr(),this.Fr(new JC(this))},r.Go=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.Yz(),t.next=4,nr.awrap(this.Xz.Go().catch(j));case 4:case"end":return t.stop()}},null,this,null,we)},e}(Cs),KC=[yc.aa,yc.ha,yc.Ua],tO=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Wo=void 0,r.ih=void 0,r.Zz=void 0,r.Jz=[],r.$z=void 0,r.Kz=[],r.tV=function(t){t.session.Xr(KC,r.Ur),t.session.Xr("Go",r.tV),us(r.Jz,t.session)},r.Wo=n,r.ih=i,r.Zz=e,r}S(n,t);var i=n.prototype;return i.dT=function(){return this.Zz.dT()},i.nV=function(t){return this.$z||(this.$z=this.iV(t)),this.$z},i.iV=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return ws(t),i.next=3,nr.awrap(this.Zz.lT(new y(io()),t));case 3:if(n=i.sent,ws(t),this.ih){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,nr.awrap(this.ih.uh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,we)},i.eV=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ih){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.Kz.push(t),e.next=6,nr.awrap(this.ih.sh("temporary"));case 6:return n=e.sent,i=new $C(n,this.Zz,t),this.Jz.push(i),i.Hr(KC,this.Ur),i.Hr("Go",this.tV),e.abrupt("return",i);case 12:return e.prev=12,us(this.Kz,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],we)},i.rV=function(t){if(t.sV)return!1;for(var n=0,i=this.Jz;n<i.length;n++){if(nO(i[n].Qz,t))return!0}for(var e=0,r=this.Kz;e<r.length;e++){if(nO(r[e],t))return!0}return!1},i.hv=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ih=void 0,this.Wr(),t=this.Jz.slice(),as(this.Jz),n.next=6,nr.awrap(we.all(t.map(function(t){return t.Go()})));case 6:this.Zz.Sr();case 7:case"end":return n.stop()}},null,this,null,we)},A(n,[{key:"eh",get:function(){return this.Wo}}]),n}(Cs);function nO(t,n){return!t.sV&&t.er===n.er&&Ks(t.os,n.os)}var iO=function(t){function e(n){var i;return(i=t.call(this)||this).jS=void 0,i.Fc=new ls,i.ZB=new nN,i.Ch=void 0,i.Zz=void 0,i.ZS=void 0,i.Wo=void 0,i.uV=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,nr.awrap(i.oV(t.er,t.os,i.Fc.xr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),gs(n.t0)||i.Th(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],we)},i.jS=n,i.jS.Hr(Ds.es,i.uV),i}S(e,t);var r=e.prototype;return r.Yo=function(t,n){this.ZS=t,this.kL(n)},r.kL=function(t){this.Ch=t,this.hV(this.Fc.xr).catch(ys)},r.hV=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.xe.Ki){n.next=5;break}return n.next=3,nr.awrap(this.aV(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Ch||!this.Ch.cV){n.next=9;break}return n.next=8,nr.awrap(this.fV(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,we)},r.aV=function(t){var n,i,e,r,s,u,o,h,a,c,f;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Ch)?void 0:n.EE){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Ch)?void 0:u.EE)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],h=0,a=null!=(c=o.LS)?c:[];case 8:if(!(h<a.length)){v.next=22;break}return f=a[h],v.prev=10,v.next=13,nr.awrap(this.oV(o.eh.er,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),ms(v.t0);case 19:h++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],we)},r.oV=function(t,e,r){var s,u,o,h,a,c,f,v,d,l;return nr.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(ws(r),e.byteLength){_.next=3;break}return _.abrupt("return");case 3:if(this.Ch&&this.Ch.EE.length){_.next=5;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===_r||t===wr||t===gr){_.next=8;break}return _.abrupt("return");case 8:s=wA(t,e),u=this.Ch.EE,h=0;case 11:if(!(h<u.length)){_.next=42;break}if(a=u[h],ws(r),(c=s[a.eh.rr])&&a.eh.er===t){_.next=17;break}return _.abrupt("continue",39);case 17:return _.prev=17,_.next=20,nr.awrap(this.vV(a,r));case 20:if(!(f=_.sent).dT()){_.next=24;break}return _.next=24,nr.awrap(f.nV());case 24:if(v=this.jS.bg,d={er:a.eh.er,os:c,sV:v},!this.dV(f,d)){_.next=32;break}return _.next=29,nr.awrap(f.eV(d));case 29:return l=_.sent,_.next=32,nr.awrap(l.Qo());case 32:return _.abrupt("return");case 35:_.prev=35,_.t0=_.catch(17),ms(_.t0),o=_.t0;case 39:h++,_.next=11;break;case 42:return _.next=44,nr.awrap(i.Ae());case 44:if(!_.sent){_.next=48;break}throw new Vm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return _.stop()}},null,this,[[17,35]],we)},r.fV=function(t){var n,i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Ch)?void 0:n.EE){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],ws(t),u.prev=7,u.next=10,nr.awrap(this.vV(r,t));case 10:if(!(s=u.sent).dT()){u.next=14;break}return u.next=14,nr.awrap(s.nV());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),ms(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],we)},r.dV=function(t,n){return i.xe.$i||!t.rV(n)},r.vV=function(t,n){var i=this;return this.ZB.FB(function(n){return i.lV(t,n)},n)},r.lV=function(t,n){var i,e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(ws(n),this.Ch&&this.Zz&&this.ZS){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Wo){o.next=7;break}if(this.Wo.eh===t.eh){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Wo);case 7:return i=this.Zz,e=ir({},t,{HE:t.HE.map(function(n){var e;return ir({},n,{persistentState:null!=(e=n.persistentState)?e:i.BT(t.eh),gh:n.gh||i.gh(t.eh)})})}),o.next=11,nr.awrap(this.ZS.mL(e.eh,e.HE));case 11:return r=o.sent,s=i.xS(e),(u=new tO(e.eh,r,s)).Hr([yc.aa,yc.ha,yc.Ua],this.Ur),this.Wo=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,we)},r.Th=function(t){var i=t instanceof Vm?t:new Vm(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new QC(i))},r.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ZS=void 0,this.Ch=void 0,this.Fc.Cr(),this.Fc=new ls,t.next=6,nr.awrap(this._V());case 6:case"end":return t.stop()}},null,this,null,we)},r._V=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.ZB.Cr());case 2:if(!(t=this.Wo)){n.next=8;break}return t.Xr(yc.Ua,this.Ur),this.Wo=void 0,n.next=8,nr.awrap(t.hv());case 8:case"end":return n.stop()}},null,this,null,we)},r.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.jS.Xr(Ds.es,this.uV),t.next=4,nr.awrap(this.nl());case 4:return t.next=6,nr.awrap(this.ZB.hv());case 6:case"end":return t.stop()}},null,this,null,we)},A(e,[{key:"gV",get:function(){var t;return null==(t=this.Wo)?void 0:t.eh}},{key:"AE",get:function(){return this.Zz},set:function(t){this.Zz=t}}]),e}(Cs),eO=L.un||L.hn,rO=L.En,sO=.5,uO=5,oO=L.dn,hO=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vh=void 0,s.wV=void 0,s.JS=void 0,s.wR=!0,s.ZS=void 0,s.mV=new nN,s.yV=void 0,s.pV=void 0,s.kV=void 0,s.lL=void 0,s.W_=void 0,s.AI=void 0,s.bV=[],s.AV=void 0,s.TV=void 0,s.SV=void 0,s.EV=void 0,s.RV=void 0,s.IV=void 0,s.NV=void 0,s.DV=NaN,s.CV=void 0,s.OV=void 0,s.pI=!1,s.PV=we.resolve(),s.xV=new ls,s.BV=[],s.LV=dS.fI(),s.MV=void 0,s.UV=1,s.FV=!1,s.HV=!1,s.zV=!1,s.VV=!1,s.hr=void 0,s.WV=!1,s.XV=!1,s.qV=!1,s.GV=!1,s.QV=0,s.YV=function(t){var n=t.track,i=s.jV(n);s.ZV(n,i)},s.JV=function(t){var n=vO(s.AV,t.track);n&&s.AV.Kd(n)},s.$V=function(){for(var t=0;t<s.W_.sl;t++){var n=s.W_.Jd(t);n instanceof IC&&n.YH()}},s.KV=function(){s.AV.nl()},s.tW=function(){var t=s.ZS,n=t.AF,i=t.TF;if(n&&i)if(t.NL)s.nW();else if(t.Dl!==eD.BU){var e=n.yg,r=i.yg;if(0!==e.sl&&0!==r.sl){var u=s.v_;if(u<e.SR(0)||u<r.SR(0))s.nW();else if(e.zE(u)!==r.zE(u)){if(t.vF(u))return;s.iW()}else{if(s.nW(),!s.QV&&s.kV.tH())e.YR(r).KR(u,u+sO)&&(s.QV=bR(s.eW))}}else s.nW()}},s.eW=function(){s.QV=0,s.tW()},s.rW=function(){if(!(s.y_||s.Dl>=Uw.r_)){0;var t=s.ZS,n=t.AF,i=t.TF;if(n&&i){var e=s.v_,r=n.yg,u=i.yg;if(r.zE(e)&&u.zE(e))r.YR(u).KR(e-uO,e)&&(s.qV?s.nW():s.sW())}}},s.uW=function(){s.Fr(new rm(s.v_))},s.oW=function(){s.hW(new _s),s.Fr(new em(s.v_))},s.aW=function(){s.cW(),s.Fr(new kb(s.v_))},s.fW=function(){s.vW(s.m_)},s.dW=function(){s.Fr(new am(s.d_))},s.lW=function(){s.Fr(new bN(s.v_))},s._W=function(){s.Fr(new AN)},s.gW=function(){var t=s.v_,n=s.y_,i=s.Dl<Uw.r_&&!s.l_,e=void 0!==s.OV,r=e&&s.OV!==t;(n||!e||r&&!i)&&(s.Fr(new fm(s.v_,void 0)),s.OV=t)},s.wW=function(){!s.FV&&s.l_&&(s.FV=!0,s.Fr(new vm(s.v_)))},s.mW=function(){if(null!==s.Vh.error){var t,n=s.Vh.error;s.oE(new Wm(null!=(t=n.code)?t:Fm.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.yW=function(){s.HV&&(s.pW(),s.zV=!0)},s.kW=function(){s.Fr(new gm(s.v_,s.b_))},s.bW=function(){s.k_>0&&s.p_>0&&s.Fr(new Jk)},s.AW=function(t){s.Fr(new Fs(t.initDataType,t.initData||new ArrayBuffer(0)))},s.TW=function(){s.Fr(new Hs)},s.SW=function(t){var n=t.initData,i=n?$u(n).buffer:new ArrayBuffer(0);s.Fr(new Fs(_r,i))},s.EW=function(t){if(t.initData){var n=aO(t.initData);if(!n)return;s.Fr(new Fs(wr,n))}else s.Fr(new Fs(wr,new ArrayBuffer(0)))},s.RW=function(t){var n=t.initData,i=n?$u(n).buffer:new ArrayBuffer(0);s.Fr(new Fs(_r,i))},s.IW=function(){s.cW()},s.NW=function(t){s.hW(t)},s.DW=function(t){s.Fr(t),t.type===yc.ha&&s.oE(qm(t.errorObject))},s.Vh=n,s.hr=i,s.wV=e,s.AI=r,s.pV=new fD(Tt(s)),s.pV.Hr(nm.zd,s.Ur),s.kV=new lD(Tt(s)),s.kV.Hr(nm.f_,s.aW),s.lL=new iO(Tt(s)),s.lL.Hr([yc.aa,yc.ha,yc.Ua],s.DW),s.W_=new Tk,s.AV=new Tk,s.TV=new QT([s.W_,s.AV]),s.SV=new WC(Tt(s)),s.SV.fl=s.TV,s.EV=new XC(Tt(s),s.SV),s.RV=new QT([s.TV,s.EV.qp]),s.IV=new xC(Tt(s)),s.OW(),s.SE(),s}S(n,t);var e=n.prototype;return e.PW=function(){this.bE.ended||this.v_===this.d_||(this.FV=!1)},e.xW=function(){return void 0!==this.NV&&this.d_===this.NV},e.vW=function(t){this.UV!==t&&(this.UV=t,this.Fr(new cm(this.v_,t)))},e.XE=function(){return TI(this.Vh)},e.J_=function(){var t=this.BW();return this.LW(),t},e.LW=function(){this.WV?this.XV&&(this.XV=!1,this.Fr(new rm(this.v_))):this.MW()},e.MW=function(){if(this.yV)this.yV.J_();else{L.dn&&!L.Qt&&this.Vh.preload===sS.fR&&(this.Vh.preload=sS.$y);var t=this.m_,n=this.Vh.play();t!==this.bE.playbackRate&&(this.m_=t),G(n)?n.then(this.IW,this.NW):this.kV.tH()&&this.cW()}},e.K_=function(){this.WV?this.XV||(this.XV=!0,this.Fr(new em(this.v_))):this.UW()},e.UW=function(){this.yV?this.yV.K_():(this.Vh.pause(),this.kV.Zo()),this.FW(new _s)},e.BW=function(){var t=new no;return this.BV.push(t),t.Ss},e.HW=function(){for(var t=0,n=this.BV;t<n.length;t++){n[t].Is(void 0)}as(this.BV)},e.FW=function(t){for(var n=0,i=this.BV;n<i.length;n++){i[n].Ns(t)}as(this.BV)},e.cW=function(){this.WV||this.yV||this.HW()},e.hW=function(t){this.WV||this.yV||this.FW(t)},e.ys=function(t,n){this.yV?this.yV.v_=t:(this.xV.Cr(),this.xV=new ls,this.PV=this.zW(t,this.PV,this.xV.xr).catch(j))},e.WE=function(t){var n=this.qE;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ys(i)}},e.zW=function(t,n,i){var e,r,s,u,o,h,a,c,f=this;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.NV=t,this.DV=t,this.pI=!0,this.FV&&!this.xW()&&(this.FV=!1),this.Fr(new lm(t)),v.next=8,nr.awrap(n.catch(j));case 8:if(ws(i),this.VV&&this.VW(),this.Dl!==Uw.n_){v.next=13;break}return v.next=13,nr.awrap(this.Yr(nm.zd,i));case 13:if(0!==this.Vh.seekable.length){v.next=19;break}return v.next=16,nr.awrap(we.race([Lg(this.Vh,"timeupdate",i),Rs(100,i)]));case 16:ws(i),v.next=13;break;case 19:e=this.WW(t),r=this.Og,s=!0,u=!1;case 23:if((r=this.Og).sl>0&&!r.zE(e)&&(e=r.MR(e),s=!0),oO&&void 0!==(o=this.XW())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(h=this.qW())&&e>h)){v.next=37;break}return u=!0,v.next=33,nr.awrap(this.GW(h,i));case 33:return v.next=35,nr.awrap(Lg(this.Vh,"seeked",i));case 35:ws(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,nr.awrap(this.GW(e,i));case 41:ws(i),a=this.v_,r=this.Og,e=r.MR(e),c=1;case 46:if(!(_.abs(e-a)>=1/6)){v.next=56;break}return r=this.Og,e=fO(e,r,c),v.next=51,nr.awrap(this.GW(e,i));case 51:ws(i),a=this.v_,c++,v.next=46;break;case 56:if(this.Vh.seeking||this.Dl<Uw.e_){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,nr.awrap(bs(function(t){var n;return we.race([Lg(f.Vh,"seeked",t),f.Yr([yc.Ta,yc.va,nm.zd],t),null==(n=f.ZS)?void 0:n.Yr(dN.VN,t)].filter(F))},i));case 60:ws(i),v.next=23;break;case 63:this.QW(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!gs(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],we)},e.GW=function(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(ws(n),i=this.Og,t=i.MR(t),!this.VV){s.next=18;break}e=!0;case 5:if(!(e||this.Dl<Uw.r_)){s.next=17;break}if((i=this.Og).zE(t)||(t=i.MR(t),e=!0),!e){s.next=13;break}return e=!1,this.NV=t,this.YW(this.v_),s.abrupt("continue",5);case 13:return s.next=15,nr.awrap(this.Yr([nm.zd,yc.va],n));case 15:s.next=5;break;case 17:ws(n);case 18:if(r=Lg(this.Vh,"seeking",n),this.Vh.currentTime=t,this.NV=void 0,this.YW(this.v_),!this.Vh.seeking){s.next=25;break}return s.next=25,nr.awrap(r);case 25:case"end":return s.stop()}},null,this,null,we)},e.WW=function(t){var n=this.yg;if(n&&!n.zE(t)){var i=n.ZR(t,.05);if(i>-1){var e=n.SR(i);if(t<e)return e}}return t},e.XW=function(){if(this.ZS&&this.ZS.NL){var t=this.ZS.DL,n=this.ZS.CL,i=t&&n?t.HR(n):t||n;if(i&&0!==i.sl){var e=i.SR(i.sl-1),r=i.RR(i.sl-1);return _.max(e,r-.001)}}},e.qW=function(){if(this.ZS&&this.ZS.NL){var t=this.ZS.CL;if(t&&0!==t.sl){var n=t.SR(t.sl-1),i=t.RR(t.sl-1)-.02;return i-=.001,_.max(n,i)}}},e.YW=function(t){this.DV!==t&&(this.DV=t,this.Fr(new lm(t)))},e.QW=function(){this.pI=!1,this.DV=NaN,this.VV&&this.jW(),this.Fr(new _m(this.v_))},e.VW=function(){this.WV||(this.XV=this.w_,this.WV=!0,this.UW())},e.jW=function(){this.WV&&(this.WV=!1,this.XV||this.LW())},e.IL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===Zk.EA&&kN.IL(i,this.Vh))return i;if(i.nr===Zk.RA&&uD.IL(i))return i}},e.cg=function(){this.wR=!1,Oe(this.Vh)&&(this.Vh.style.display="none")},e.ag=function(){this.wR=!0,Oe(this.Vh)&&(this.Vh.style.display="block")},e.kA=function(t,n,i,e,r,s,u,o){var h=new CD(t,n,i,e,r,s,u,o);return this.W_.$d(h),this.IV.$d(h),h},e.CE=function(){return!0},e.PE=function(t,n,i,e){var r=s.createElement("track");r.src=t_(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=$E(),this.Vh.appendChild(r);var u=this.Vh.textTracks.getTrackById(r.id),o=new IC(u,r);return this.AV.$d(o),this.bV.push(o),o},e.TA=function(t){this.W_.Kd(t),this.IV.Kd(t)},e.LE=function(){for(var t=0,n=this.W_.il.slice();t<n.length;t++){n[t].hv()}this.W_.nl();for(var i=0,e=this.bV.slice();i<e.length;i++){var r=e[i];this.AV.Kd(r),r.hv()}as(this.bV)},e.SE=function(){var t=this.Vh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.YV),t.addEventListener("removetrack",this.JV),t.addEventListener("change",this.$V)),this.Vh.addEventListener("emptied",this.KV)},e.UE=function(){var t=this.Vh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.YV),t.removeEventListener("removetrack",this.JV),t.removeEventListener("change",this.$V)),this.Vh.removeEventListener("emptied",this.KV)},e.ZV=function(t,n){if(L.dn){if(t.kind===Ak.$y)return void this.ZW(t);if(t.kind===Ak.rA&&""===t.label&&""===t.language&&!dO(t))return void this.JW(t,n)}vO(this.AV,t)||this.AV.$d(new IC(t,n))},e.ZW=function(t){t.mode=mw.Al;var n=new FC(t);this.AV.$d(n),this.IV.$d(n)},e.JW=function(t,n){var i=this;t.addEventListener("cuechange",function e(){dO(t)&&(t.removeEventListener("cuechange",e),i.AV.$d(new IC(t,n)))}),t.mode=mw.Al},e.jV=function(t){for(var n=this.Vh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Yo=function(t){var n=this;return this.mV.FB(function(i){var e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(ws(i),!n.ZS){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.nr!==Zk.EA){r.next=9;break}e=new kN(t,n,n.lL,n.hr),n.VV=!1,n.$W(new fD(n)),r.next=17;break;case 9:if(t.nr!==Zk.RA){r.next=16;break}e=new uD(t,n,n.lL,n.hr),n.VV=eO,n.$W(n.VV?new vD(n):new fD(n)),rO&&(n.Hr(yc.La,n.tW),n.Hr(nm.zd,n.rW)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.ZS=e,r.next=20,nr.awrap(e.oP());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,we)})},e.iW=function(){if(!this.qV){var t=this.m_;this.qV=!0,this.m_=t,this.Vh.playbackRate=0,this.pV&&this.pV.GF()}},e.nW=function(){if(this.qV){var t=this.m_;this.qV=!1,this.m_=t,this.sW()}},e.sW=function(){this.Vh.currentTime=this.Vh.currentTime,this.pV&&this.pV.GF()},e.$W=function(t){var n=this.Dl;this.pV.Sr(),this.pV=t,this.pV.Hr(nm.zd,this.Ur);var i=this.Dl;n!==i&&this.Fr(new ym(this.v_,i))},e.nl=function(){var t=this;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.pI=!1,this.LV=dS.fI(),this.xV.Cr(),this.NV=void 0,this.DV=NaN,this.CV=void 0,this.VV=!1,this.WV=!1,this.JS=void 0,this.FV=!1,this.OV=void 0,this.HV=!1,this.zV&&(this.OW(),this.zV=!1),this.FW(new _s),this.$W(new fD(this)),this.kV.nl(),this.nW(),rO&&(AR(this.QV),this.QV=0,this.Xr(yc.La,this.tW),this.Xr(nm.zd,this.rW)),n.next=20,nr.awrap(this.mV.Cr());case 20:return n.next=22,nr.awrap(this.mV.FB(function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.ZS){n.next=4;break}return n.next=3,nr.awrap(t.ZS.Sr());case 3:t.ZS=void 0;case 4:case"end":return n.stop()}},null,null,null,we)}));case 22:case"end":return n.stop()}},null,this,null,we)},e.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zV=!1,this.pW(),this.UE(),t.next=5,nr.awrap(this.nl());case 5:return t.next=7,nr.awrap(this.mV.hv());case 7:return this.kV.Sr(),this.pV.Sr(),t.next=11,nr.awrap(this.lL.Sr());case 11:return this.LE(),this.W_.hv(),this.SV.hv(),this.AV.hv(),t.next=17,nr.awrap(this.EV.hv());case 17:this.TV.hv(),this.RV.hv(),this.Wr();case 20:case"end":return t.stop()}},null,this,null,we)},e.OW=function(){this.bE.addEventListener("play",this.uW),this.bE.addEventListener("pause",this.oW),this.bE.addEventListener("timeupdate",this.gW),this.bE.addEventListener("progress",this.lW),this.bE.addEventListener("loadstart",this._W),this.bE.addEventListener("ended",this.wW),this.bE.addEventListener("ratechange",this.fW),this.bE.addEventListener("volumechange",this.kW),this.bE.addEventListener("durationchange",this.dW),this.bE.addEventListener("resize",this.bW),this.bE.addEventListener("loadedmetadata",this.bW),this.bE.addEventListener("error",this.mW),this.bE.addEventListener("emptied",this.yW),Gr()?(this.Vh.addEventListener("encrypted",this.AW),this.Vh.addEventListener("waitingforkey",this.TW)):void 0!==Hi.WebKitMediaKeys&&"function"==typeof Hi.WebKitMediaKeys.isTypeSupported?this.Vh.addEventListener("webkitneedkey",this.EW):Qr()?this.Vh.addEventListener("webkitneedkey",this.RW):void 0!==Hi.MSMediaKeys&&"function"==typeof Hi.MSMediaKeys.isTypeSupported&&this.Vh.addEventListener("msneedkey",this.SW)},e.pW=function(){this.bE.removeEventListener("play",this.uW),this.bE.removeEventListener("pause",this.oW),this.bE.removeEventListener("timeupdate",this.gW),this.bE.removeEventListener("progress",this.lW),this.bE.removeEventListener("loadstart",this._W),this.bE.removeEventListener("ended",this.wW),this.bE.removeEventListener("ratechange",this.fW),this.bE.removeEventListener("volumechange",this.kW),this.bE.removeEventListener("durationchange",this.dW),this.bE.removeEventListener("resize",this.bW),this.bE.removeEventListener("loadedmetadata",this.bW),this.bE.removeEventListener("error",this.mW),this.bE.removeEventListener("encrypted",this.AW),this.bE.removeEventListener("waitingforkey",this.TW),this.bE.removeEventListener("webkitneedkey",this.EW),this.bE.removeEventListener("webkitneedkey",this.RW),this.bE.removeEventListener("msneedkey",this.SW),this.bE.removeEventListener("emptied",this.yW)},e.KW=function(){var t;this.yV||(this.LV=this.Dg,this.yV=new hD((t=this).v_,t.d_,t.l_,t.w_,t.y_,t.g_,t.m_,t.b_,t.Dl),this.pW(),this.yV.Hr(oD,this.Ur))},e.tX=function(){if(this.yV){var t,n,i=this.yV;this.yV=void 0,this.pV.GF(),t=this,(n=i).d_===t.d_||m(n.d_)&&m(t.d_)||t.Fr(new am(t.d_)),t.g_=n.g_,t.b_=n.b_,t.m_=n.m_,n.w_?t.K_():t.J_().catch(j),n.v_!==t.v_||n.Dl>Uw.n_&&t.Dl===Uw.n_?t.ys(n.v_):!n.y_&&t.y_?t.Fr(new lm(t.v_)):n.y_&&!t.y_&&t.Dl>=Uw.e_&&t.Fr(new _m(t.v_)),!n.l_&&t.l_&&t.Fr(new vm(t.v_)),i.Sr(),this.OW()}},e.oE=function(t){this.JS=t,this.FW(this.JS),this.Fr(new _D(this.JS))},e.nX=function(){this.iX||(OP(this.Vh,i.xe),this.GV=!0)},e.eX=function(t){t.appendChild(this.Vh)},e.BF=function(){rO&&this.tW(),this.pV.GF()},e.mg=function(){this.lL._V().catch(j)},A(n,[{key:"YF",get:function(){return this.qV}},{key:"yg",get:function(){return this.ZS?this.ZS.yg:dS.fI()}},{key:"pg",get:function(){var t=this.qE;if(t&&!m(t.getTime())){var n=1e3*this.v_;return new Date(t.getTime()+n)}}},{key:"qE",get:function(){if(this.bE.getStartDate)return this.pI&&this.CV||(this.CV=this.bE.getStartDate()),this.CV}},{key:"v_",get:function(){return this.yV?this.yV.v_:void 0!==this.NV?this.NV:this.Vh.currentTime}},{key:"yB",get:function(){return this.wV}},{key:"d_",get:function(){return this.yV?this.yV.d_:this.ZS?this.ZS.d_:this.Vh.duration}},{key:"l_",get:function(){return this.y_?this.xW():this.yV?this.yV.l_:this.Vh.ended||this.FV}},{key:"ts",get:function(){return this.JS}},{key:"bE",get:function(){return this.Vh}},{key:"w_",get:function(){return this.WV?this.XV:this.yV?this.yV.w_:this.Vh.paused}},{key:"Dg",get:function(){return this.LV.QR(dS.hI(this.Vh.played))}},{key:"hk",get:function(){return this.Vh.offsetHeight*i.xe.Zi}},{key:"Rw",get:function(){return this.Vh.offsetWidth*i.xe.Zi}},{key:"BE",get:function(){return gS}},{key:"Dl",get:function(){return this.pV.Dl}},{key:"Og",get:function(){return this.ZS?this.ZS.Og:dS.fI()}},{key:"y_",get:function(){return this.yV?this.yV.y_:this.pI}},{key:"g_",get:function(){return this.yV?this.yV.g_:this.Vh.muted},set:function(t){this.yV?this.yV.g_=t:this.Vh.muted=t}},{key:"m_",get:function(){return this.yV?this.yV.m_:void 0!==this.MV?this.MV:this.Vh.playbackRate},set:function(t){this.yV?this.yV.m_=t:this.w_||this.qV?(this.MV=t,this.vW(t)):(this.MV=void 0,this.Vh.playbackRate=t)}},{key:"rX",get:function(){return this.wR}},{key:"b_",get:function(){return this.yV?this.yV.b_:this.Vh.volume},set:function(t){this.yV?this.yV.b_=t:this.Vh.volume=t}},{key:"j_",get:function(){return this.RV}},{key:"kB",get:function(){return this.AI}},{key:"bg",get:function(){return!!this.Vh.webkitCurrentPlaybackTargetIsWireless}},{key:"iX",get:function(){return this.GV}},{key:"sX",get:function(){return ir({},wN)}},{key:"AE",get:function(){return this.lL.AE},set:function(t){this.lL.AE=t}},{key:"gV",get:function(){return this.lL.gV}},{key:"xg",get:function(){return this.HV},set:function(t){this.HV=t,this.zV&&!this.HV&&(this.zV=!1,this.OW())}}]),n}(Cs);function aO(t){try{var n=Qu(t),i=new Ku;return Fu(Hu(mu(n,i,Tu(n,i,!0)),!0))}catch(t){return}}var cO=.01;function fO(t,n,i){if(void 0===i&&(i=0),!n.sl)return 0;var e=n.MR(t),r=cO*i;return e===n.SR(0)?e+=r:e===n.RR(n.sl-1)&&(e-=r),e}function vO(t,n){for(var i=0,e=t.il;i<e.length;i++){var r=e[i];if(r.qg===n)return r}}function dO(t){return!!t.cues&&t.cues.length>0}var lO={zx:void 0,Vx:void 0,Wx:void 0,Xx:void 0,qx:void 0,Gx:void 0,Qx:void 0},_O=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Sd=void 0,n}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=LI(this)),this.Sd}},{key:"zx",get:function(){}},{key:"Vx",get:function(){}},{key:"Wx",get:function(){}},{key:"Xx",get:function(){}},{key:"qx",get:function(){}},{key:"Gx",get:function(){}},{key:"Qx",get:function(){}}]),n}(Cs),gO=(new _O,function(t){function n(n,i,e){return t.call(this,n,i,e,new _O)||this}return S(n,t),n.prototype.fg=function(){},A(n,[{key:"p_",get:function(){return 0}},{key:"k_",get:function(){return 0}}]),n}(hO)),wO="theoplayer-texttracks",mO=function(){function t(t){void 0===t&&(t=5),this.uX=void 0;var n=Hi.document.createElement("div");n.className=wO,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.uX=n,this.ag()}var n=t.prototype;return n.cg=function(){this.uX.style.display="none"},n.ag=function(){this.uX.style.display="block"},n.eX=function(t){t.appendChild(this.uX)},n.hv=function(){Ee(this.uX)},A(t,[{key:"kg",get:function(){return this.uX}}]),t}();function yO(t,n){return t?ir({},n,sw({Xx:t.Xx,Wx:t.Wx,Vx:t.Vx,zx:t.zx,qx:t.qx,Gx:t.Gx,Qx:t.Qx})):n}function pO(t){return t.Wx&&Mr(t.Wx,"%")?Number(t.Wx.replace("%",""))/100:t.Wx&&Mr(t.Wx,"em")?Number(t.Wx.replace("em","")):1}var kO,bO,AO=function(){function t(t,n,i,e,r){var s=this;this.oX=sr(),this.hX=!0,this.aX=void 0,this.cX=ir({},lO),this.fX=[],this.dw=void 0,this.Vh=void 0,this.wV=void 0,this.vX=void 0,this.dX=function(t){return s.AA(t.Kg)},this.lX=function(t){return s.removeCue(t.Kg)},this._X=function(){return s.gX()},this.wX=function(t){return s.mX(t.Kg)},this.yX=function(t){return s.pX(t.Kg)},this.kX=function(t){return s.bX(t.Kg)},this.AX=function(t){s.TX(t.Rw,t.hk)},this.dw=t,this.vX=this.aX=r,this.Vh=this.SX(i),this.wV=e,n.appendChild(this.Vh)}var n=t.prototype;return n.EX=function(t){var n=this.RX(t);if(!n)return!1;for(var i=0;i<n.length;i++){Ee(n[i])}return this.IX(t),!0},n.oP=function(){var t=this;this.NX(),this.dw.Cl.il.forEach(function(n){return t.AA(n)}),this.yB.Hr("wC",this.AX),this.TX(this.yB.TC,this.yB.AC)},n.DX=function(t){this.cX=t,this.aX=yO(this.cX,this.vX),this.aX.zx&&(this.bE.style.fontFamily=this.aX.zx),this.aX.Qx&&(this.bE.style.visibility=this.aX.Qx),this.TX(this.yB.TC,this.yB.AC),this.CX(!0)},n.OX=function(){return this.aX},n.PX=function(t){return this.oX.has(t.gl)},n.NX=function(){this.dw.Hr(Vg.Nd,this.dX),this.dw.Hr(Vg.Cd,this.lX),this.dw.Hr(Vg.Fd,this._X)},n.xX=function(){this.dw.Xr(Vg.Nd,this.dX),this.dw.Xr(Vg.Cd,this.lX),this.dw.Xr(Vg.Fd,this._X)},n.BX=function(t){t.Hr(vy.jg,this.wX),t.Hr(vy.Jg,this.yX),t.Hr(vy.qd,this.kX)},n.LX=function(t){t.Xr(vy.jg,this.wX),t.Xr(vy.Jg,this.yX),t.Xr(vy.qd,this.kX)},n.AA=function(t){this.BX(t),t.yw&&this.mX(t)},n.removeCue=function(t){this.LX(t),this.pX(t)},n.gX=function(){this.dw.Rl===mw.Tl?this.MX():this.UX()},n.MX=function(){if(this.hX){this.hX=!1;var t=this.yB.TC,n=this.yB.AC;this.TX(t,n),this.CX(!1)}},n.UX=function(){this.hX||(this.hX=!0,this.CX(!1))},n.mX=function(t){this.hX||t.yw&&!this.PX(t)&&this.CX(!1)},n.pX=function(t){this.PX(t)&&this.CX(!1)},n.bX=function(t){(t.yw||this.PX(t))&&this.CX(!0)},n.CX=function(t){var n=this.fX,i=this.hX?[]:this.dw.Ol.il.slice();this.FX(i,n,t),this.fX=i},n.RX=function(t){var n;return null==(n=this.oX.get(t.gl))?void 0:n.HX},n.zX=function(t,n){this.oX.set(t.gl,{Kg:t,HX:n})},n.IX=function(t){this.oX.delete(t.gl)},n.VX=function(){return this.fX.slice()},n.hv=function(){var t=this;Ee(this.bE),this.oX.clear(),this.xX(),this.dw.Cl.il.forEach(function(n){return t.LX(n)}),this.yB.Xr("wC",this.AX)},A(t,[{key:"Id",get:function(){return this.dw}},{key:"bE",get:function(){return this.Vh}},{key:"yB",get:function(){return this.wV}},{key:"WX",get:function(){return this.aX}},{key:"XX",get:function(){return this.cX}}]),t}();function TO(t){return SO[t||"none"]}!function(t){t.qX='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.GX='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.QX='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.YX='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(kO||(kO={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(bO||(bO={}));var SO={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function EO(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var RO=ur({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),IO=ur({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),NO={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=RO.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Mr(t,"px")?t=g(t)/24+"em":Mr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;if("before"===t.toLowerCase())i="flex-start";else if("center"===t.toLowerCase())i="center";else{if("after"!==t.toLowerCase())return;i="flex-end"}n.style.alignItems=i},extent:function(t,n){var i,e,r=t.split(" ");r.length>=2?(i=r[0],e=r[1]):i=e="100%",n.style.height=e,n.style.width=i},origin:function(t,n){var i=t.split(" "),e=i[0],r=i[1];void 0===e&&void 0===r||(void 0!==e&&(n.style.left=e),void 0!==r&&(n.style.top=r))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=IO.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Mr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},DO={Vx:bO.WHITE,zx:"Arial, Helvetica, Sans-Serif",Wx:"100%",Xx:bO.TRANSPARENT,qx:bO.TRANSPARENT,Gx:"none",Qx:"visible"},CO=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,DO)||this}S(n,t);var i=n.prototype;return i.SX=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",Ie(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.TX=function(t,n){var i=_.min(t,n)/15;this.bE.style.fontSize=i+"px"},i.FX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.yw||this.EX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.jX(u)}},i.jX=function(t){var n=this.RX(t);n||(n=this.ZX(t),this.zX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.bE.appendChild(r)}},i.ZX=function(t){var n,i=[],e=t.Kb,r=t.ty,u=t.iw;if(0===l.keys(r).length){UO(n=s.createElement("div"));for(var o=OO(u,e,t.tA,void 0,this.bE),h=0;h<o.length;h++){var a=o[h];n.appendChild(a)}i.push(n)}else for(var c=0,f=l.keys(r);c<f.length;c++){var v=f[c],d=s.createElement("div");d.id=v;var _=OO(u,e,t.tA,d,this.bE);if(_){UO(d),BO(d,r[v],e,this.bE);for(var g=0;g<_.length;g++){var w=_[g];d.appendChild(w)}i.push(d)}i.push(d)}return i},i.DX=function(t){},n}(AO);function OO(t,n,i,e,r){var s,u;if(bt(t)&&("SPAN"===(u=t).zn.toUpperCase()||"P"===u.zn.toUpperCase()||"BR"===u.zn.toUpperCase()||"DIV"===u.zn.toUpperCase()||"BODY"===u.zn.toUpperCase())){var o=function t(n){var i=n.ni("region");if("p"===n.zn.toLowerCase())return i;var e=[];for(var r=0,s=n.ti;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(s="BODY"===t.zn.toUpperCase()?e:PO(t))&&(function(t,n,i,e){var r=n.ni("style");MO(t,r,i,e),function(t,n,i){Array.prototype.slice.call(n.oi).forEach(function(n){var e=hk(n.Vn,["ebutts","tts","xml"]);NO[e]&&NO[e](n.qn,t,i)})}(t,n,e)}(s,t,n,r),function(t,n,i){var e=null==n?void 0:n.ni("smpte:backgroundImage");if(e){e=e.replace("#","");var r=function t(n,i){if(n&&i(n))return n;var e=null;if(null!=n&&n.ti)for(var r=0,s=null==n?void 0:n.ti;r<s.length;r++){var u=s[r];if(e=t(u,i))break}return e}(i,function(t){return t.oi.some(function(t){return"id"===t.zn&&t.qn===e})});r&&LO(t,r,n,!0)}!function(t,n){var i=n.ti[0];if(!i||"metadata"!==i.zn.toLowerCase())return;var e=i.ti[0];LO(t,e,n)}(t,n)}(s,t,i));for(var h=[],a=t.jn,c=0;c<a.length;c++){var f=OO(a[c],n,i,e,r);f&&(h=h.concat(f))}if("BODY"!==t.zn.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l,_=d[v];null==(l=s)||l.appendChild(_)}return s?[s]:[]}return h}}else At(t)&&(s=PO(t));return s?[s]:[]}function PO(t){var n,i;if(At(t))EO(n=s.createElement("text"),t.ai);else if(bt(t))switch(t.zn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",xO(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),xO(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",xO(n,t)}return n}function xO(t,n){var i=n.ii(sk,"id");i&&(t.id=i)}function BO(t,n,i,e){MO(t,n.style,i,e),l.keys(n).forEach(function(i){NO[i]&&NO[i](n[i],t)})}function LO(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.jn.length>0?t.jn[0]:null;return n&&At(n)?"data:image/png;base64,"+n.ai:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){Ie(t.style,"flex");var i=n.ni("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.ni("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function MO(t,n,i,e){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(r){var s=hk(r,["ebutts","tts","xml"]);"style"===s.toLowerCase()?MO(t,i[n][r],i,e):NO[s]&&NO[s](i[n][r],t,e)})})}function UO(t){Ie(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var FO,HO,zO=void 0;function VO(t,n){for(var i,e=FO.JX,r="",s=[],u=t.charAt(n.ks),o="",h={nr:HO.$X,Zn:"",KX:[]};n.ks<t.length+1;){switch(u=n.ks<t.length?t.charAt(n.ks):"EOF",e){case FO.JX:switch(u){case"&":var a=t.substring(n.ks).match(/&#?[0-9a-zA-Z]+;/);a?(r+=(i=a[0],zO||(zO=Hi.document.createElement("textarea")),zO.innerHTML=i,zO.value),n.gs(a[0].length-1)):r+="&";break;case"<":if(r)return{nr:HO.tq,iw:r};e=FO.nq;break;case"EOF":return{nr:HO.tq,iw:r};default:r+=u}break;case FO.nq:switch(u){case"\t":case"\n":case"\f":case" ":e=FO.iq;break;case".":e=FO.rq;break;case"/":e=FO.sq;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=FO.uq;break;case">":return n.gs(1),h;case"EOF":return h;default:r=u,e=FO.oq}break;case FO.oq:switch(u){case"\t":case"\f":case" ":e=FO.iq;break;case"\n":o=u,e=FO.iq;break;case".":e=FO.rq;break;case">":return n.gs(1),{nr:HO.$X,Zn:r,KX:[]};case"EOF":return{nr:HO.$X,Zn:r,KX:[]};default:r+=u}break;case FO.rq:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=FO.iq;break;case"\n":s.push(o),o=u,e=FO.iq;break;case".":s.push(o),o="";break;case">":return n.gs(1),s.push(o),{nr:HO.$X,Zn:r,KX:s};case"EOF":return s.push(o),{nr:HO.$X,Zn:r,KX:s};default:o+=u}break;case FO.iq:switch(u){case"&":e=FO.hq;break;case">":n.gs(1);var c=o.trim();return c=c.replace(/\s/," "),{nr:HO.$X,Zn:r,KX:s,aq:c};default:o+=u}break;case FO.hq:for(var f="",v=n.ks;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=FO.iq;break;case FO.sq:switch(u){case">":return n.gs(1),{nr:HO.cq,Zn:r};case"EOF":return{nr:HO.cq,Zn:r};default:r+=u}break;case FO.uq:switch(u){case">":return n.gs(1),{nr:HO.fq,vq:r};case"EOF":return{nr:HO.fq,vq:r};default:r+=u}}n.gs(1)}return h}!function(t){t.JX="Data",t.nq="Tag",t.oq="StartTag",t.rq="StartTagClass",t.iq="StartTagAnnotation",t.hq="CharRefInAnnotation",t.sq="EndTag",t.uq="TimestampTag"}(FO||(FO={})),function(t){t.tq="string",t.$X="starttag",t.cq="endtag",t.fq="timestamp"}(HO||(HO={}));var WO,XO=function(){function t(t,n,i,e){this.dq=void 0,this.lq=void 0,this.Rw=void 0,this.hk=void 0,this.dq=t,this.lq=n,this.Rw=i,this.hk=e}var n=t.prototype;return n._q=function(t){return this.dq<t.gq&&this.gq>t.dq&&this.lq<t.wq&&this.wq>t.lq},n.Mg=function(t){return this.dq<=t.dq&&t.gq<=this.gq&&this.lq<=t.lq&&t.wq<=this.wq},n.ps=function(){return new t(this.dq,this.lq,this.Rw,this.hk)},A(t,[{key:"gq",get:function(){return this.dq+this.Rw},set:function(t){this.dq=t-this.Rw}},{key:"wq",get:function(){return this.lq+this.hk},set:function(t){this.lq=t-this.hk}}]),t}(),qO={Vx:bO.WHITE,zx:"sans-serif",Wx:"100%",Xx:"rgba(0,0,0,0.8)",qx:bO.TRANSPARENT,Gx:"none",Qx:"visible"},GO="theoplayer-webvtt-region-",QO="theoplayer-webvtt-styling-",YO="theoplayer-webvtt-voice-",jO=5.23,ZO=1.14,JO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qO)||this).mq=rr(),s.yq=iP(3),s}S(n,t);var i=n.prototype;return i.SX=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,De(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.WX.zx;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",n},i.oP=function(){this.bE.appendChild(this.yq),t.prototype.oP.call(this)},i.TX=function(t,n){var i=this,e=_.min(t/100,n/100),r=pO(this.WX);this.mq.forEach(function(t){var n=t.hw,s=t.pq;i.kq(s,e,r,n)}),this.kq(this.yq,e,r),this.bq()},i.bq=function(){var t=pO(this.WX);this.yq.style.margin=t>=1.5?"0":1/t+"em"},i.FX=function(t,n,i){for(var e=this,r=this.bE,s=this.yB.AC/100,u=[],o=0;o<t.length;o++){var h=t[o];void 0!==h.hw&&(hs(u,h.hw)||u.push(h.hw))}this.mq.forEach(function(t,n){var r=t.hw,s=t.pq;!i&&hs(u,r)||(Ee(s),e.mq.delete(n))});for(var a=0;a<n.length;a++){var c=n[a];!i&&c.yw||this.EX(c)}for(var f=[],v=0;v<u.length;v++){var d=u[v],l=void 0;this.mq.has(d._l)?l=this.mq.get(d._l).pq:(l=eP(d,s),r.appendChild(l),this.mq.set(d._l,{hw:d,pq:l})),f.push(uP(l.getBoundingClientRect()))}for(var _=uP(this.yq.getBoundingClientRect()),g=0;g<t.length;g++){var w=t[g],m=this.jX(w,f,_);void 0!==m&&f.push(m)}},i.jX=function(t,n,i){var e,r;t.hw?(r=this.mq.get(t.hw._l).pq,"up"===t.hw.Tw&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.yq;var s=null==(e=this.RX(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.Aq(t),r.appendChild(s),t.hw||(t.aw?function(t,n,i,e){var r=rP(t),s=r?i.hk:i.Rw,u=w(getComputedStyle(n).lineHeight);if(0===u)return;var o=uP(n.getBoundingClientRect()),h=_.round(Ny(t));"rl"===t.cw&&(h=-(h+1));var a=u*h;"rl"===t.cw&&(a=a-o.Rw+u);h<0&&(a+=s,u=-u);r?o.lq+=a:o.dq+=a;var c=o.ps(),f=!1;for(;!i.Mg(o)||sP(o,e);)if(r)if(u<0&&o.lq<i.lq||u>0&&o.wq>i.wq){if(o.lq=c.lq,f)break;u=-u,f=!0}else o.lq+=u;else if(u<0&&o.dq<i.dq||u>0&&o.gq>i.gq){if(o.dq=c.dq,f)break;u=-u,f=!0}else o.dq+=u;r?n.style.top=(o.lq-i.lq)/i.hk*100+"%":n.style.left=(o.dq-i.dq)/i.Rw*100+"%"}(t,s,i,n):function(t,n){if("start"===t.sw)return;var i,e=n.getBoundingClientRect();if(0===e.width||0===e.height)return;i=rP(t)?"center"===t.sw?"translateY(-100%)":"translateY(-50%)":(t.sw,"translateX(-50%)");n.style[RR("transform")]=i}(t,s)),this.zX(t,[s])),!t.hw)return uP(s.getBoundingClientRect())},i.Aq=function(t){for(var n=new Ku,i=t.iw,e=this.Tq(t),r={Sq:void 0,kg:e},u=r,o="",h="",a=[r],c=[],f=[];n.ks<i.length;){var v=VO(i,n);if(v.nr===HO.tq){var d=s.createElement("span");EO(d,v.iw),$O(d,a),""!==o&&(d.lang=o),this.Eq(d,h),u.kg.appendChild(d)}else if(v.nr===HO.$X){var l=v.Zn.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var _=s.createElement(l);u.kg.appendChild(_),u={Sq:v,kg:_},a.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.Sq)?void 0:g.Zn.toLowerCase())){var w=s.createElement("rt");u.kg.appendChild(w),u={Sq:v,kg:w},a.push(u)}break;case"c":case"v":u={Sq:v,kg:u.kg},a.push(u);break;case"font":var m,y=null==(m=v.aq)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(h=y[1],f.push(h),u={Sq:v,kg:u.kg},a.push(u));break;case"lang":var p;o=null!=(p=v.aq)?p:"",c.push(o)}}else if(v.nr===HO.cq){var k,b=v.Zn.toLowerCase(),A=null==(k=u.Sq)?void 0:k.Zn.toLowerCase();A===b?(a.pop(),u=a[a.length-1],"font"===b&&(f.pop(),h=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.nr===HO.fq){var T=v.vq,S=new Ku;try{Np(T,S)}catch(t){ut("ERROR collecting timestamp",t)}}}return e},i.Eq=function(t,n){var i=this.WX,e=this.XX;i.Xx&&(t.style.background=i.Xx);var r=e.Vx||n||i.Vx;r&&(t.style.color=r)},i.kq=function(t,n,i,e){if(e){var r=KO(e,n);t.style.height=r*i+"px",t.style.left=tP(e)+"%",t.style.top=nP(e,n)+"px"}t.style.fontSize=jO*n*i+"px"},i.Tq=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.ew,function(t,n){"rl"===n.cw?t.style.writingMode="vertical-rl":"lr"===n.cw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Oy(n);rP(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=Cy(n),s=Dy(n),u=Oy(n);if(rP(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.aw?0:Ny(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.aw?0:Ny(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.WX.qx;i&&(n.style.background=i);var e=this.WX.Vx;return e&&(n.style.color=e),n.style.textShadow=TO(this.WX.Gx),n},n}(AO);function $O(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.Sq){for(var r=0,s=e.Sq.KX;r<s.length;r++){var u=s[r];Re(t,QO+u)}"v"===e.Sq.Zn.toLowerCase()&&e.Sq.aq&&Re(t,YO+e.Sq.aq)}}}function KO(t,n){return t.kw*(jO*n)*ZO}function tP(t){return t.Sw-t.bw*t.Rw/100}function nP(t,n){var i=t.Ew,e=t.Aw*KO(t,n)/100;return _.max(0,i-e)}function iP(t){var n=s.createElement("div");return n.className=GO+"default",De(n),n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="1em",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=jO*t+"px",n.style.lineHeight=ZO+"em",n}function eP(t,n){var i=iP(n);i.className=GO+t._l;var e=t.Rw,r=KO(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=tP(t)+"%",i.style.right="",i.style.top=nP(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function rP(t){return""===t.cw}function sP(t,n){return n.some(function(n){return t._q(n)})}function uP(t){return new XO(t.left,t.top,t.width,t.height)}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(WO||(WO={}));var oP={Vx:bO.WHITE,zx:kO.QX,Wx:"100%",Xx:bO.BLACK,qx:"transparent",Gx:"none",Rq:WO.FONT_REGULAR,Qx:"visible"},hP=[{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.GREEN,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.GREEN,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.BLUE,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.BLUE,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.CYAN,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.CYAN,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.RED,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.RED,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.YELLOW,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.YELLOW,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.MAGENTA,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.MAGENTA,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.WHITE,Rq:WO.FONT_ITALICS,Nq:0},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE_ITALICS,Nq:0},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:0},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:0},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:4},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:4},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:8},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:8},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:12},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:12},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:16},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:16},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:20},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:20},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:24},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:24},{Iq:bO.WHITE,Rq:WO.FONT_REGULAR,Nq:28},{Iq:bO.WHITE,Rq:WO.FONT_UNDERLINE,Nq:28}],aP=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];var cP=32,fP=function(){function t(t,n,i){this.Dq=void 0,this.Cq=t,this.Oq=n,this.aX=i}var n=t.prototype;return n.Pq=function(){return this.Dq=this.xq(),this.Bq(),this.Lq(),this.Dq},n.xq=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Mq/cP*this.Oq.Uq*100+"%",t.style.height=1.2*this.Fq+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Oq.Hq?"calc(1em - 1ch)":"";var n=this.aX.zx;n&&(t.style.fontFamily=n);var i=this.aX.qx;return i&&(t.style.backgroundColor=i),t},n.Bq=function(){if(this.Dq){var t=this.Vq.zq/15*100,n=this.Vq.Nq/cP*100,i=(cP-this.Wq.Nq-1)/cP*100,e=(15-this.Wq.zq-1)/15*100;this.Oq.Xq||(n=i=1,this.Dq.style.width="98%"),e<t?this.Dq.style.bottom=e*this.Oq.Uq+"%":this.Dq.style.top=t*this.Oq.Uq+"%",i<n?this.Dq.style.right=i+"%":this.Dq.style.left=n+"%"}},n.Lq=function(){for(var t=this.Cq.qq.sort(vP),n=0;n<t.length;n++)this.Gq(t[n-1],t[n]),this.Qq(t[n]);this.Gq(t[t.length-1],void 0)},n.Qq=function(n){var i,e=yO(this.aX,n.Yq),r=t.jq(e);EO(r,n.Zq),null==(i=this.Dq)||i.appendChild(r)},t.jq=function(t){var n=s.createElement("span");n.style.display="inline-block",t.Rq!==WO.FONT_ITALICS&&t.Rq!==WO.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Rq!==WO.FONT_UNDERLINE&&t.Rq!==WO.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.Vx;i&&(n.style.color=i);var e=t.Xx;return e&&(n.style.backgroundColor=e),n.style.textShadow=TO(t.Gx),n.style.height="1.2em",n},n.Gq=function(t,n){var i=t?t.Jq.zq:this.Cq.$q.zq,e=n?n.$q.zq:this.Cq.Jq.zq,r=t?t.Jq.Nq:this.Cq.$q.Nq,s=n?n.$q.Nq:this.Cq.Jq.Nq;i<e&&(!n||t&&t.$q.zq!==n.$q.zq?this.Kq():this.tG(this.Cq.Jq.Nq-r),r=this.Cq.$q.Nq),r<s&&(n?this.tG(s-r):this.Kq())},n.Kq=function(){var t,n=s.createElement("br");null==(t=this.Dq)||t.appendChild(n)},n.tG=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",EO(i,Fr(" ",t)),null==(n=this.Dq)||n.appendChild(i)}},A(t,[{key:"Vq",get:function(){return this.Cq.$q}},{key:"Wq",get:function(){return this.Cq.Jq}},{key:"Mq",get:function(){return this.Cq.Jq.Nq-this.Cq.$q.Nq+1}},{key:"Fq",get:function(){return this.Cq.Jq.zq-this.Cq.$q.zq+1}}]),t}();function vP(t,n){return function(t,n){if(t.zq!==n.zq)return t.zq-n.zq;return t.Nq-n.Nq}(t.$q,n.$q)}var dP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,oP)||this).nG=void 0,s.iG=void 0,s}S(n,t);var i=n.prototype;return i.SX=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.WX.zx&&(n.style.fontFamily=this.WX.zx),n},i.TX=function(t,n){this.eG()},i.eG=function(){var t,n=pO(this.WX);this.iG={Uq:(t=100*n)/100,Hq:t<=100,Xq:t<=150};var i=this.rG/cP;this.nG=i*n,this.bE.style.fontSize=this.nG+"px"},i.FX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.yw||this.EX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.jX(u)}},i.jX=function(t){this.iG&&this.iG.Xq?this.sG(80):this.sG(100),this.eG();var n=this.RX(t);n||(n=this.ZX(t),this.zX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.bE.appendChild(r)}},i.ZX=function(t){var n=this;return t.iw.map(function(t){return new fP(t,n.iG,n.WX).Pq()})},i.sG=function(t){var n=(100-t)/2;this.bE.style.left=n+"%",this.bE.style.width=t+"%"},A(n,[{key:"rG",get:function(){var t=this.bE.offsetWidth;return this.iG&&this.iG.Xq||(t*=.8),t}}]),n}(AO),lP=function(){function t(t,n,i,e,r){var s=this;this.uG=void 0,this.wV=void 0,this.W_=void 0,this.oG=void 0,this.hG=[],this.AI=void 0,this.aG=function(t){var n=t.Id;n.Hr(Vg.zd,s.cG),n.Hr(Vg.Wd,s.cG),n instanceof IC&&(n.QH=s.QH),s.fG(n)},this.cG=function(t){var n=t.Id;s.fG(n)},this.vG=function(t){var n=t.Id;n.Xr(Vg.zd,s.cG),n.Xr(Vg.Wd,s.cG),s.dG(n)},this.lG=function(){for(var t=s.QH,n=0,i=s.W_.il;n<i.length;n++){var e=i[n];e instanceof IC&&(e.QH=t)}},this._G=function(){for(var t=0,n=s.hG;t<n.length;t++){n[t].DX(s.AI)}},this.gG=function(){for(var t=0,n=s.hG;t<n.length;t++){var i=n[t];i.DX(ir({},i.OX(),{Qx:"hidden"}))}},this.wG=function(){for(var t=0,n=s.hG;t<n.length;t++){var i=n[t];i.DX(ir({},i.OX(),{Qx:"visible"}))}},this.uG=t,this.wV=n,this.W_=i,this.oG=r,this.AI=e,this.W_.Hr(Ug.kd,this.aG),this.W_.Hr(Ug.Ad,this.vG),this.W_.Hr(Vg.Fd,this.cG),this.oG.Hr(fS.Fd,this.lG),this.AI.Hr("Hd",this._G),this.lG()}var n=t.prototype;return n.mG=function(t){for(var n=0,i=this.hG;n<i.length;n++){var e=i[n];if(e.Id===t)return e}},t.yG=function(t){switch(t.nr){case hy.TTML:case hy.SRT:case hy.WEBVTT:case hy.CEA608:return!0}return!1},n.pG=function(t){switch(t.nr){case hy.TTML:return new CO(t,this.uG,t.ml,this.wV);case hy.SRT:case hy.WEBVTT:return new JO(t,this.uG,t.ml,this.wV);case hy.CEA608:return new dP(t,this.uG,t.ml,this.wV)}},n.kG=function(t){var n=this.mG(t);n||(n=this.pG(t))&&(n.oP(),n.DX(this.AI),this.hG.push(n),t.Rl===mw.Tl&&n.MX())},n.dG=function(t){for(var n=this.hG,i=n.length-1;i>=0;i-=1){var e=n[i];e.Id===t&&(e.hv(),os(n,i))}},n.fG=function(n){var i;(i=n.wl)!==Ak.Zy&&i!==Ak.rA||!t.yG(n)||(n.Dl===oy.ERROR?this.dG(n):this.kG(n))},n.nl=function(){for(var t=0,n=this.hG;t<n.length;t++){var i=n[t];i.Id.Xr(Vg.zd,this.cG),i.Id.Xr(Vg.Wd,this.cG),i.hv()}as(this.hG)},n.hv=function(){this.nl();for(var t=0,n=this.hG;t<n.length;t++){n[t].hv()}this.W_.Xr(Ug.kd,this.aG),this.W_.Xr(Ug.Ad,this.vG),this.W_.Xr(Vg.Fd,this.cG),this.oG.Xr(fS.Fd,this.lG),this.AI.Xr("Hd",this._G)},A(t,[{key:"QH",get:function(){return this.oG.dI}}]),t}();function _P(t){var n=new MR,i=function(t){var n=[];return BR.QC(t)&&n.push(new BR(t)),LR.QC(t)&&n.push(new LR(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.$C(r)}n.JC(i[0])}return n}var gP,wP=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).bG=void 0,s.AG=void 0,s.TG=void 0,s.TG=_P(n),s.bG=new mO,s.AG=new lP(s.bG.kg,s.yB,s.j_,s.kB,s.BE),s}S(n,t);var i=n.prototype;return i.fg=function(){return this.Vh},i.Sr=function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.TG.hv(),this.bG.hv(),this.AG.hv(),n.next=5,nr.awrap(t.prototype.Sr.call(this));case 5:case"end":return n.stop()}},null,this,null,we)},i.cg=function(){t.prototype.cg.call(this),this.bG.cg()},i.ag=function(){t.prototype.ag.call(this),this.bG.ag()},i.eX=function(n){t.prototype.eX.call(this,n),this.bG.eX(n)},A(n,[{key:"bE",get:function(){return this.Vh}},{key:"p_",get:function(){return this.Vh.videoHeight}},{key:"k_",get:function(){return this.Vh.videoWidth}},{key:"BE",get:function(){return this.TG}}]),n}(hO);!function(t){t.SG="HELLO",t.EG="HI_THERE",t.RG="INITIALIZE",t.IG="APPEND_INIT",t.NG="APPEND_DATA",t.DG="ACK",t.CG="REMOVE",t.OG="DESTROY_SESSION"}(gP||(gP={}));var mP=function(){function t(){this.Ei=void 0,this.Hh=void 0,this.ZB=new nN}var n=t.prototype;return n.PG=function(t){var n=this;return this.ZB.FB(function(t){var i,e,r,s,u,h;return nr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(ws(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){a.next=7;break}return a.next=7,nr.awrap(Lg(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){a.next=10;break}return a.next=10,nr.awrap(Lg(o.serviceWorker.controller,"activate",t));case 10:return s={kind:gP.SG,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.Ei=e,a.prev=15,a.next=18,nr.awrap(Lg(e,"message",t));case 18:if(u=a.sent,(h=u.data).kind===gP.EG){a.next=23;break}throw new v("Could not set up message channel");case 23:n.Hh=h.sessionId,a.next=30;break;case 26:throw a.prev=26,a.t0=a.catch(15),gs(a.t0)&&n.xG(),a.t0;case 30:case"end":return a.stop()}},null,null,[[15,26]],we)},t)},n.BG=function(t,n){var i=this;return this.Ei,this.ZB.FB(function(){var e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Ei){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Ei.postMessage(t,n),r.next=7,nr.awrap(Lg(i.Ei,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,we)})},n.LG=function(){var t=this;return this.ZB.FB(function(){return t.xG()})},n.xG=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.Ei){var t={kind:gP.OG};this.Ei.postMessage(t),this.Ei.close(),this.Ei=void 0}},t}(),yP=function(){function t(){this.MG=Uy.Cm}var n=t.prototype;return n.UG=function(t,n){var i=t.Hw(n);this.MG=i.Dw(this.FG)?this.MG:i},n.HG=function(t){this.MG=t},A(t,[{key:"FG",get:function(){return this.MG}}]),t}(),pP=function(t){function n(n,i){var e;return(e=t.call(this)||this).zG=void 0,e.VG=void 0,e.bu=void 0,e.ZB=new nN,e.WG=!1,e.XG=!1,e.jD=n,e.qG=i,e}S(n,t);var i=n.prototype;return i.GU=function(t,n){},i.QU=function(t,n){},i.NL=function(){return this.XG},i.YU=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,we)},i.RU=function(t,n){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,we)},i.gU=function(t,i,e){var r,s,u=this;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr===TN.xL){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.ai,s=function(){var t,i,e,s,o,h,a;return nr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=nk.Dp(new DataView(r.buffer)),(i=Yp(t,up.By)).length){c.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.bu,s=n.GG(i,e),o=u.QG(i,e),h=r.buffer,a={kind:gP.NG,mimeType:u.jD,segment:r,startPts:Gy.Mm(s).qm(),totalDuration:Gy.Mm(o).qm()},c.next=11,nr.awrap(u.qG.BG(a,[h]));case 11:void 0===u.zG&&(u.zG=s),void 0===u.VG&&(u.VG=s),u.VG=u.VG.Lg(o),u.Fr(new Ps(yN.OL));case 15:case"end":return c.stop()}},null,null,null,we)},i.abrupt("return",this.ZB.FB(function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ws(t),n.prev=1,u.WG=!0,n.next=5,nr.awrap(s());case 5:return n.prev=5,u.WG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],we)},e));case 5:case"end":return i.stop()}},null,this,null,we)},i.yU=function(t,n){var i,e,r=this;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(t.nr===TN.xL){s.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return i=t.ai,e=function(){var t,n,e,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=nk.Dp(new DataView(i.buffer)),n=Qp(t,up.uy)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.qp.length){u.next=6;break}throw new v("Tracks not found");case 6:return r.bu=n.qp[0].tk.Ap.bm,e=i.buffer,s={kind:gP.IG,mimeType:r.jD,segment:i},u.next=11,nr.awrap(r.qG.BG(s,[e]));case 11:r.Fr(new Ps(yN.OL));case 12:case"end":return u.stop()}},null,null,null,we)},s.abrupt("return",this.ZB.FB(function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ws(t),n.prev=1,r.WG=!0,n.next=5,nr.awrap(e());case 5:return n.prev=5,r.WG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],we)},n));case 5:case"end":return s.stop()}},null,this,null,we)},i.HU=function(){this.XG=!0},i.LU=function(){this.XG=!1},i.jo=function(t,n,i){var e,r=this;return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:gP.CG,mimeType:r.jD,endTime:Gy.Pm(n).qm()},i.next=3,nr.awrap(r.qG.BG(t));case 3:r.zG=void 0,r.VG=void 0,r.Fr(new Ps(yN.OL));case 6:case"end":return i.stop()}},null,null,null,we)},t.abrupt("return",this.ZB.FB(function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ws(t),n.prev=1,r.WG=!0,n.next=5,nr.awrap(e());case 5:return n.prev=5,r.WG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],we)},i));case 2:case"end":return t.stop()}},null,this,null,we)},i.pL=function(t){return this.jD===t.mf},i.kL=function(t){return this.jD=t.mf,we.resolve()},n.GG=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.qp.length)throw new v("No tracks");if(!i.qp[0].bb)throw new v("No decode time");return new Uy(i.qp[0].bb.bb.toNumber(),n)},i.QG=function(t,n){var i=0;return t.forEach(function(t){t.qp.forEach(function(t){t.kb.forEach(function(t){t.Ib.forEach(function(t){var n;i+=null!=(n=t.d_)?n:0})})})}),new Uy(i,n)},i.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,nr.awrap(this.ZB.hv());case 3:case"end":return t.stop()}},null,this,null,we)},A(n,[{key:"yg",get:function(){return void 0===this.zG||void 0===this.VG?dS.fI():new dS([this.zG.Nm,this.VG.Nm])}},{key:"rh",get:function(){return{mf:this.jD}}},{key:"XD",get:function(){return this.jD}},{key:"JU",get:function(){return dS.fI()}},{key:"ZO",get:function(){return 30},set:function(t){}},{key:"tP",get:function(){return 30},set:function(t){}},{key:"iO",get:function(){return this.WG}},{key:"YG",get:function(){return this.zG}},{key:"nw",get:function(){return this.VG}}]),n}(Cs),kP=function(){function t(t,n){this.Ch=void 0,this.RF=void 0,this.IF=void 0,this.Ch=t,this.IF=rs(n,function(t){return Boolean(t.XD.match(/video/))}),this.RF=rs(n,function(t){return Boolean(t.XD.match(/audio/))}),this.jG()}t.ZG=function(n,i){for(var e=[],r=0;r<n.HF.length;r++){var s=n.HF[r].mf;e.push(new pP(s,i))}return new t(n,e)};var n=t.prototype;return n.jG=function(){},n.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(we.all([this.RF,this.IF].filter(F).map(function(t){return t.Sr()})));case 2:case"end":return t.stop()}},null,this,null,we)},n.LF=function(t){},n.FF=function(t,n,i,e){},n.HU=function(){var t,n;null==(t=this.RF)||t.HU(),null==(n=this.IF)||n.HU()},n.LU=function(){var t,n;null==(t=this.RF)||t.LU(),null==(n=this.IF)||n.LU()},n.pL=function(t){return t===this.Ch},n.kL=function(t){return this.Ch=t,we.resolve()},A(t,[{key:"JG",get:function(){return[this.RF,this.IF].filter(F)}},{key:"AF",get:function(){return this.RF}},{key:"yg",get:function(){return iD(this)}},{key:"rh",get:function(){return this.Ch}},{key:"d_",get:function(){return 0}},{key:"NL",get:function(){var t,n,i,e,r=null==(t=null==(n=this.RF)?void 0:n.NL())||t,s=null==(i=null==(e=this.IF)?void 0:e.NL())||i;return r&&s}},{key:"Og",get:function(){return new dS([0,1/0])}},{key:"TF",get:function(){return this.IF}},{key:"Y_",get:function(){throw new v("Not implemented")}}]),t}(),bP=Uy.jw,AP=new Uy(-1/0),TP=Uy.Cm,SP=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Cw=function(t,n){return t.Lw(n)?Yr.mr:t.mw(n)?Yr.gr:Yr.wr},i.Lg=function(t,n){return t.Lg(n)},i.Hw=function(t,n){return t.Hw(n)},i.Bw=function(t,n){return t.Bw(n)},i.UR=function(){return bP},i.FR=function(){return TP},i.XR=function(){return AP},n.hI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new Uy(t.start(e)),new Uy(t.end(e)));return new n(i)},n.$G=function(t){for(var i=[],e=[],r=0;r<t.sl;r++)i.push(new Uy(t.SR(r))),i.push(new Uy(t.RR(r))),e.push(t.ER(r)),e.push(t.IR(r));return new n(i,e)},n.cI=function(t){return new n([t,t],[!0,!0])},i.LR=function(t,i){return new n(t,i)},i.PR=function(t){return t.Nm},n.fI=function(){return EP},n}(vS),EP=new SP([]),RP=function(t){function n(n){var i;return(i=t.call(this)||this).KG=!0,i.qG=new mP,i.tQ=new yP,i.ZS=void 0,i.pV=void 0,i.nQ=!0,i.iQ=new no,i.pI=!1,i.PV=we.resolve(),i.xV=new ls,i.eQ=!0,i.LV=dS.fI(),i.TG=void 0,i.rQ=void 0,i.GV=!1,i.iE=void 0,i.sQ=function(){i.w_||i.uQ.sl<=0||i.yg.sl<=0||i.tQ.UG(new Uy(i.yg.RR(i.yg.sl-1)),i.uQ.RR(i.uQ.sl-1))},i.oQ=function(){i.Fr(new vm(i.v_))},i.hQ=function(){i.Fr(new fm(i.v_,i.pg))},i.aQ=function(){i.Fr(new cm(i.v_,i.m_))},i.cQ=function(){i.Fr(new gm(i.v_,i.b_))},i.fQ=function(){i.Fr(new am(i.d_))},i.vQ=function(){i.Fr(new kb(i.v_))},i.dQ=function(){i.ys(i.v_)},i.lQ=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.eQ&&i.Fr(new rm(i.v_)),i.nQ=!1,i.eQ=!0;case 3:case"end":return t.stop()}},null,null,null,we)},i._Q=function(){i.nQ=!0,i.Fr(new em(i.v_))},i.rQ=n,i.pV=new fD(Tt(i)),i.rQ.setAttribute("id","player_video"),i.rQ.setAttribute("x-webkit-airplay","deny"),i.rQ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.rQ.playsInline=!0,i.rQ.style.width="100%",i.rQ.style.height="100%",i.gQ(),i.wQ(),i.TG=_P(i.rQ),i}S(n,t);var e=n.prototype;return e.gQ=function(){this.rQ.addEventListener("timeupdate",this.sQ),this.rQ.addEventListener("ended",this.oQ),this.rQ.addEventListener("timeupdate",this.hQ),this.rQ.addEventListener("ratechange",this.aQ),this.rQ.addEventListener("volumechange",this.cQ),this.rQ.addEventListener("durationchange",this.fQ),this.rQ.addEventListener("playing",this.vQ),this.rQ.addEventListener("seeking",this.dQ),this.rQ.addEventListener("play",this.lQ),this.rQ.addEventListener("pause",this._Q)},e.mQ=function(){this.rQ.removeEventListener("timeupdate",this.sQ),this.rQ.removeEventListener("ended",this.oQ),this.rQ.removeEventListener("timeupdate",this.hQ),this.rQ.removeEventListener("ratechange",this.aQ),this.rQ.removeEventListener("volumechange",this.cQ),this.rQ.removeEventListener("durationchange",this.fQ),this.rQ.removeEventListener("playing",this.vQ),this.rQ.removeEventListener("seeking",this.dQ),this.rQ.removeEventListener("play",this.lQ),this.rQ.removeEventListener("pause",this._Q)},e.wQ=function(){this.pV.Hr(nm.zd,this.Ur)},e.yQ=function(){this.pV.Xr(nm.zd,this.Ur)},e.ys=function(t,n){this.xV.Cr(),this.xV=new ls,this.PV=this.zW(t,this.PV,this.xV.xr).catch(j)},e.zW=function(t,n,i){var e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.LV=this.Dg,r=null==(e=this.ZS)?void 0:e.JG){u.next=4;break}return u.abrupt("return");case 4:return s=_.max.apply(_,r.map(function(t){return t.YG?t.YG.Nm:1/0})),this.pI=!0,this.Fr(new lm(t)),u.next=9,nr.awrap(n.catch(j));case 9:if(ws(i),u.prev=10,this.KG||this.pQ(),this.rQ.load(),this.nQ){u.next=17;break}return this.eQ=!1,u.next=17,nr.awrap(ps(this.rQ.play(),i));case 17:if(!(this.Dl<Uw.e_)){u.next=22;break}return u.next=20,nr.awrap(this.pV.Yr(nm.zd,i));case 20:u.next=17;break;case 22:this.iQ.Is(),this.KG=!1,this.pI=!1,this.Fr(new _m(this.v_)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.iQ.Ns(u.t0),u.t0;case 32:return u.prev=32,this.kQ(),this.tQ.HG(new Uy(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],we)},e.K_=function(){this.nQ=!0,this.rQ.pause()},e.J_=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nQ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.rQ.src){t.next=9;break}return this.nX(),t.next=7,nr.awrap(this.iQ.Ss);case 7:t.next=11;break;case 9:return t.next=11,nr.awrap(this.rQ.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.nQ=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],we)},e.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.qG&&this.qG.LG().catch(j),this.xV.Cr(),this.mQ(),this.yQ(),this.pV.Sr(),this.Wr();case 6:case"end":return t.stop()}},null,this,null,we)},e.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.qG&&this.qG.LG().catch(j),this.xV.Cr(),this.rQ.removeAttribute("src"),this.rQ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.rQ.removeAttribute("x-airplay-deny"),this.rQ.load(),this.pV.nl(),this.LV=dS.fI();case 8:case"end":return t.stop()}},null,this,null,we)},e.nX=function(){this.iX||(OP(this.rQ,i.xe),this.GV=!0)},e.pQ=function(){var t,n=this.rQ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.rQ.videoWidth/this.rQ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.rQ.style.width=i+"px",this.rQ.style.height=e+"px",this.rQ.style.marginLeft=(r-i)/2+"px",this.rQ.style.marginTop=(u-e)/2+"px",this.rQ.style.backgroundColor="black"}},e.kQ=function(){this.rQ.style.width="100%",this.rQ.style.height="100%",this.rQ.style.marginLeft="",this.rQ.style.marginTop="",this.rQ.style.backgroundColor=""},e.PE=function(t,n,i,e){},e.kA=function(t,n,i,e,r,s){},e.IL=function(t){},e.XE=function(){return TI(this.rQ)},e.ag=function(){this.rQ.style.display="block"},e.cg=function(){this.rQ.style.display="none"},e.KW=function(){},e.Yo=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr!==Zk.EA){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,nr.awrap(this.qG.PG());case 4:return n={kind:gP.RG,mediaBufferConfigs:t.HF.map(function(t){return t.mf})},i.next=7,nr.awrap(this.qG.BG(n));case 7:return this.ZS=kP.ZG(t,this.qG),this.rQ.preload="none",this.rQ.src="https://theo.proxy/"+this.qG.Hh+"/master.m3u8",i.abrupt("return",this.ZS);case 11:case"end":return i.stop()}},null,this,null,we)},e.tX=function(){},e.TA=function(t){},e.LE=function(){},e.WE=function(t){},e.CE=function(){return!1},e.eX=function(t){t.appendChild(this.rQ)},e.fg=function(){return this.rQ},e.PW=function(){},e.mg=function(){},A(n,[{key:"bE",get:function(){return this.rQ}},{key:"YF",get:function(){return!1}},{key:"v_",get:function(){return this.rQ.currentTime+this.tQ.FG.Nm}},{key:"w_",get:function(){return this.rQ.paused}},{key:"b_",get:function(){return this.rQ.volume},set:function(t){this.rQ.volume=t}},{key:"m_",get:function(){return this.rQ.playbackRate},set:function(t){this.rQ.playbackRate=t}},{key:"bQ",get:function(){return this.rQ.defaultPlaybackRate}},{key:"yg",get:function(){var t,n;return null!=(t=null==(n=this.ZS)?void 0:n.yg)?t:dS.fI()}},{key:"uQ",get:function(){return SP.hI(this.rQ.buffered)}},{key:"Dg",get:function(){var t=dS.aI(this.AQ);return this.LV.QR(t.gs(this.tQ.FG.Nm))}},{key:"AQ",get:function(){return SP.hI(this.rQ.played)}},{key:"y_",get:function(){return this.pI}},{key:"d_",get:function(){return this.rQ.duration}},{key:"g_",get:function(){return this.rQ.muted},set:function(t){this.rQ.muted=t}},{key:"Yq",get:function(){return this.rQ.style}},{key:"sX",get:function(){return ir({},wN,{hL:!0,aL:300})}},{key:"Dl",get:function(){return this.pV.Dl}},{key:"p_",get:function(){return this.rQ.videoHeight}},{key:"k_",get:function(){return this.rQ.videoWidth}},{key:"l_",get:function(){return this.rQ.ended}},{key:"hk",get:function(){return 0}},{key:"Rw",get:function(){return 0}},{key:"bg",get:function(){return!1}},{key:"iX",get:function(){return this.GV}},{key:"pg",get:function(){}},{key:"yB",get:function(){}},{key:"ts",get:function(){}},{key:"BE",get:function(){return this.TG}},{key:"Og",get:function(){return this.ZS?this.ZS.Og:dS.fI()}},{key:"qE",get:function(){}},{key:"j_",get:function(){}},{key:"kB",get:function(){}},{key:"xg",get:function(){return!1},set:function(t){}},{key:"rX",get:function(){return"block"===this.rQ.style.display}},{key:"AE",get:function(){return this.iE},set:function(t){this.iE=t}},{key:"gV",get:function(){}}]),n}(Cs),IP=2,NP=[Qm.Jf,Qm.$f];function DP(t){var n=s.createElement(t);return Oe(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),CP(n),n}function CP(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),Pe(t),t.pause(),t.playbackRate=1,t.preload=sS.cR,t.controls=!1,t.style.display="none",Oe(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function OP(t,n){if(n.Xi){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();G(e)&&Ss(e),t.pause()}}var PP;Mi=(PP={TQ:function(){function t(t,n,i,e,r){void 0===i&&(i=IP),void 0===e&&(e=NP),void 0===r&&(r=dc()),this.SQ=void 0,this.EQ=void 0,this.hr=void 0,this.RQ=void 0,this.wV=void 0,this.AI=void 0,this.IQ=void 0,this.SQ=i,this.EQ=[].concat(e),this.hr=r,this.wV=t,this.AI=n,this.RQ=rr(),this.NQ()}var n=t.prototype;return n.EI=function(t){for(var n=0,i=this.II;n<i.length;n++){i[n].eX(t)}},n.kE=function(t){var n=rs(this.RQ.get(t),function(t){return t.DQ});if(n)return n.DQ=!1,n.CQ},n.OQ=function(t){if(!this.IQ)throw new v("Error creating iOS Safari MediaController");return this.IQ},n.FE=function(t){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.bE,i=n.tagName.toLowerCase(),r.next=4,nr.awrap(t.nl());case 4:CP(n),(e=rs(this.RQ.get(i)||[],function(n){return t===n.CQ}))&&(e.DQ=!0);case 7:case"end":return r.stop()}},null,this,null,we)},n.RI=function(){for(var t=0,n=this.II;t<n.length;t++){n[t].nX()}},n.hv=function(){for(var t=0,n=this.II;t<n.length;t++){var i=n[t],e=i.bE;i.Sr(),CP(e),Ee(e)}},n.NQ=function(){for(var t=0,n=this.EQ;t<n.length;t++){var i=n[t],e=[];this.RQ.set(i,e);for(var r=0;r<this.SQ;r++){var s=DP(i),u=i===Qm.Jf?new gO(s,this.hr,this.wV):new wP(s,this.hr,this.wV,this.AI);e.push({CQ:u,DQ:!0})}}if(L.dn&&L.Qt){var o=DP(Qm.$f);this.IQ=new RP(o)}},A(t,[{key:"II",get:function(){for(var t=[],n=0,i=this.EQ;n<i.length;n++){var e=i[n],r=this.RQ.get(e).map(function(t){return t.CQ});t.push.apply(t,r)}return this.IQ&&t.push(this.IQ),t}}]),t}(),PQ:function(){function t(n){var i=this;this.xQ=new nN,this.BQ=function(){var n,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.kI.kE(Qm.$f),e=n.bE,s.next=4,nr.awrap(t.LQ(e));case 4:return r=s.sent,s.next=7,nr.awrap(i.kI.FE(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,we)},this.kI=n}var n=t.prototype;return n.iL=function(){return this.xQ.FB(this.BQ)},n.ug=function(){this.kI.RI()},t.LQ=function(n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!L.sn&&!L.in){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,nr.awrap(t.MQ());case 5:return i.next=7,nr.awrap(t.UQ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,nr.awrap(t.FQ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,we)},t.UQ=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,G(n)){e.next=4;break}return e.abrupt("return",!L.Zt);case 4:return i=Rs(100),e.next=7,nr.awrap(we.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],we)},t.FQ=function(n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,nr.awrap(t.UQ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,we)},t.MQ=function(){return new we(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.hv=function(){this.xQ.hv()},t}(),HQ:{iC:function(t){Hi.addEventListener("beforeunload",t)},dC:function(t){Hi.removeEventListener("beforeunload",t)}},zQ:r}).TQ,Ui=PP.PQ,Fi=PP.HQ,Hi=PP.zQ,zi=Hi&&Hi.location,Vi=Hi&&Hi.navigator;var xP=[];function BP(){xP.shift()()}function LP(t){xP.push(t),h(BP,0)}var MP=function(){function t(t){this.VQ=void 0,this.WQ=void 0,this.XQ=void 0,this.XQ=t}var n=t.prototype;return n.qQ=function(t){return this.VQ=this.VQ||{},void 0===this.VQ[t]&&(this.VQ[t]=[]),this.VQ[t]},n.addEventListener=function(t,n){var i=this.qQ(t);-1===i.indexOf(n)&&i.push(n)},n.Vr=function(t){(this.WQ||(this.WQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.qQ(t);n?us(i,n):i.length=0},n.Qr=function(t){var n=this.WQ;n&&us(n,t)},n.Wr=function(){this.VQ=void 0},n.dispatchEvent=function(t,n){if(n)return LP(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.qQ(t.type).slice(),e=this.WQ&&this.WQ.slice(),r=0;r<i.length;r++){i[r].call(this.XQ||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.XQ||this,t)}},n.GQ=function(t){return Boolean(this.VQ&&this.VQ[t]&&this.VQ[t].length)},n.QQ=function(){return this.VQ?l.keys(this.VQ):[]},t}(),UP=function(){function t(){this.YQ=[]}var n=t.prototype;return n.ZG=function(t,n){var i=this.YQ[t];return i?new i(n):null},n.uL=function(t,n){this.YQ[t]=n},t}();UP.Rn=new UP;var FP,HP=function(t){function n(n,i){var e,r=VP[n];return(e=t.call(this,r?r.Jr:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.jQ,e.helpLinkText=r&&r.ZQ,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Et);!function(t){t.JQ="LICENSE_INVALID",t.$Q="MANIFEST_NOT_FOUND",t.KQ="MANIFEST_CORS_ERROR",t.tY="INVALID_HLS_MANIFEST",t.nY="PLAYBACK_ISSUE",t.iY="AUDIO_ISSUE",t.eY="BROWSER_SUPPORT_ISSUE",t.rY="INVALID_KEY",t.sY="DECRYPTION_ERROR",t.uY="AD_BLOCK_DETECTED",t.oY="THEOPLAYER_NOT_INITIALIZED",t.Sl="ERROR",t.hY="MANIFEST_SEQUENCE_RESET_ERROR",t.aY="PLAYER_INCORRECTLY_CONFIGURED",t.cY="UNSUPPORTED"}(FP||(FP={}));for(var zP=[{Ds:FP.JQ,Jr:"The license for this player is invalid. Please contact your service provider for additional information."},{Ds:FP.$Q,Jr:"Could not load the manifest file."},{Ds:FP.KQ,Jr:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",jQ:"https://www.theoplayer.com/documentation/cors.html",fY:!1},{Ds:FP.tY,Jr:"The source of the player is an invalid HLS manifest.",jQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ds:FP.nY,Jr:"There appears to be a playback issue."},{Ds:FP.iY,Jr:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ds:FP.eY,Jr:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ds:FP.rY,Jr:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ds:FP.sY,Jr:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ds:FP.uY,Jr:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ds:FP.oY,Jr:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ds:FP.Sl,Jr:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ds:FP.hY,Jr:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ds:FP.aY,Jr:"The player is incorrectly configured.",jQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ds:FP.cY,Jr:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],VP={},WP=0;WP<zP.length;WP++){var XP=zP[WP];VP[XP.Ds]=XP}function qP(t){return t.vY}var GP=function(){function t(){this.ja=[],this.dY={},this.lY=0}var n=t.prototype;return n._Y=function(t){var n=this.dY[t];return void 0===n?-1:n-this.lY},n.gY=function(t){return this.ja[t]},n.wY=function(t){return this.gY(this._Y(t))},n.mY=function(t){return!!this.gY(t)},n.yY=function(t){return!!this.wY(t)},n.pY=function(){return this.ja},n.Lg=function(t){var n,i=this.ja,e=i.length?i[i.length-1]:null;if(this._Y(t.vY)>=0)return!1;if(e&&t.vY>e.vY)n=i.length;else{var r=gD(this.ja,t.vY,qP,ts);if(r>=0)return!1;n=-(r+1)}return this.kY(t,n),!0},n.jo=function(t){var n=this.ja,i=this.dY,e=this._Y(t.vY);return!(e<0)&&(n.splice(e,0,t),delete i[t.vY],this.bY(e),!0)},n.AY=function(t){var n=this.ja,i=this.dY;t=_.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e].vY];n.splice(0,t),this.lY+=t},n.kY=function(t,n){var i=this.ja;n>=i.length?i.push(t):i.splice(n,0,t),this.bY(n)},n.bY=function(t){for(var n=this.ja,i=this.dY,e=this.lY,r=n.length,s=t;s<r;s++)i[n[s].vY]=s+e},A(t,[{key:"sl",get:function(){return this.ja.length}}]),t}(),QP=function(){function t(t,n,i){this.TY=void 0,this.SY=void 0,this.EY=void 0,this.TY=t,this.SY=n,this.EY=i}var n=t.prototype;return n.compute=function(){return this.TY.live?this.TY.RY?this.TY.IY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.EY&&(t+=this.NY()),this.DY()&&(t+=this.CY(t)),t},n.DY=function(){return void 0!==this.SY.OY.wY(this.TY.fragments[0].vY)},n.CY=function(t){var n=this.TY.fragments[0];return this.SY.OY.wY(n.vY).PY-(n.PY+t)||0},n.NY=function(){var t=YP(this.TY),n=YP(this.EY.xY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.EY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-r]||0;s+=_.abs(o-h)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.xY.fragments.length?this.EY.BY(t.xY.fragments[0].vY).PY:0},t}();function YP(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.LY&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var jP=function(t){function n(n,i){var e,r=ZP(i,n.d_,n.qE,n.MY);return(e=t.call(this,i,r,void 0,!1,n._l)||this).UY=void 0,e.FY=void 0,e.HY=void 0,e.Au=void 0,e.zY=void 0,e.VY=void 0,e.WY=void 0,e.XY=void 0,e.qY=void 0,e.GY=void 0,e.UY=n.QY,e.FY=n.qE,e.HY=n.MY,e.Au=n.d_,e.zY=n.YY,e.VY=Boolean(n.jY),e.WY=n.ZY||{},e.XY=n.JY,e.qY=n.$Y,e.GY=n.KY,e.tj(),e.nj(),e}S(n,t);var i=n.prototype;return i.Zo=function(t){var n=!1;void 0===this.UY&&void 0!==t.QY&&(n=!0,this.UY=t.QY),void 0===this.HY&&void 0!==t.MY&&(n=!0,this.HY=t.MY),void 0===this.Au&&void 0!==t.d_&&(n=!0,this.Au=t.d_),void 0===this.zY&&void 0!==t.YY&&(n=!0,this.zY=t.YY),!this.VY&&t.jY&&(n=!0,this.VY=t.jY),n=this.updateCustomAttributes(t,n),void 0===this.XY&&void 0!==t.JY&&(n=!0,this.XY=t.JY),void 0===this.qY&&void 0!==t.$Y&&(n=!0,this.qY=t.$Y),void 0===this.GY&&void 0!==t.KY&&(n=!0,this.GY=t.KY),this.tj(),this.nj(),this.ij(),n&&this.Fr(new by(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.ZY)for(var e=0,r=l.keys(t.ZY);e<r.length;e++){var s=r[e];void 0===this.WY[s]&&(i=!0,this.WY[s]=t.ZY[s])}return i},i.tj=function(){this.Au&&!this.HY&&(this.HY=new Date(this.FY.getTime()+1e3*this.Au))},i.nj=function(){this.HY&&!this.Au&&(this.Au=mt(this.HY.getTime()-this.FY.getTime()))},i.ij=function(){this.vw===1/0&&(this.HY||this.Au)&&(this.vw=ZP(this.fw,this.Au,this.FY,this.HY))},A(n,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=nw(yy(t=this),{get content(){return t.iw},get class(){return t.QY},get startDate(){return t.qE},get endDate(){return t.MY},get duration(){return t.d_},get plannedDuration(){return t.YY},get endOnNext(){return t.jY},get scte35Cmd(){return t.JY},get scte35Out(){return t.$Y},get scte35In(){return t.KY},get customAttributes(){return t.ZY}})),this.Sd}},{key:"QY",get:function(){return this.UY}},{key:"qE",get:function(){return this.FY}},{key:"MY",get:function(){return this.HY}},{key:"d_",get:function(){return this.Au}},{key:"YY",get:function(){return this.zY}},{key:"jY",get:function(){return this.VY}},{key:"JY",get:function(){return this.XY}},{key:"$Y",get:function(){return this.qY}},{key:"KY",get:function(){return this.GY}},{key:"ZY",get:function(){return this.WY}}]),n}(Ey);function ZP(t,n,i,e){return F(n)?t+n:e?t+(mt(e.getTime())-mt(i.getTime())):1/0}var JP,$P,KP,tx,nx,ix=function(t){function n(){return t.call(this,void 0,void 0,hy.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Zo=function(t,n){for(var i=this,e=function(t){for(var n=rr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r._l)){var s=n.get(r._l),u=ir({},s,sw(r),{ZY:ir({},s.ZY,r.ZY)});n.set(r._l,u)}else n.set(r._l,r),i.push(r._l)}return i.map(function(t){return n.get(t)})}(t),r=this.Cl.il,s=function(t){var n=r[t],s=rs(e,function(t){return t._l===n._l});s?n.Zo(s):i.cA(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var h=e[o],a=h.qE;if(void 0!==a&&!this.wH(h._l)){var c=n(a);this.AA(new jP(h,c))}}},i.AA=function(n){this.ej(n),t.prototype.AA.call(this,n)},i.ej=function(t){var n=this.uH.filter(function(n){return n.QY===t.QY}).pop();n&&n.jY&&n.Zo({_l:n._l,MY:t.qE})},n}(LC);function ex(t){return rx(t)?{Mf:t.rj,sj:[t.sj.SR,t.sj.RR],sv:!0}:{Mf:t.toString(),sv:!0}}function rx(t){return void 0!==t.sj}function sx(t){return t&&t.uj&&Ky(t.uj)||!1}function ux(t){if(!t)return Gy.jw;if(!sx(t))return Gy.Pm(t.duration);var n=t.oj||Gy.jw,i=t.hj||Gy.jw,e=Gy.Pm(t.duration);return n.tm()||i.tm()?n.tm()?i.tm()?e.tm()?Gy.jw:e:i:n:Gy.Em(n,i)}function ox(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.SA)return i}return null}function hx(t){return ox(t)||function(t){return t.filter(function(t){return t.aj})}(t)[0]||t[0]}function ax(t,n){for(var i=0;i<n.length;i++){var e=n[i];hs(t,e)||t.push(e)}return t}function cx(t){switch(t){case tx.$f:case tx.cj:return Qm.$f;case tx.Jf:return Qm.Jf}}function fx(t){switch(t){case tx.$f:case tx.cj:return Yl.$f;case tx.Jf:return Yl.Jf;default:return Yl.Ff}}!function(t){t.fj="alternative",t.vj="main",t.dj="commentary",t.lj="",t.sA="descriptions",t._j="main-desc",t.gj="translation"}(JP||(JP={})),function(t){t.fj="alternative",t.vj="main",t.dj="commentary",t.lj="",t.rA="captions",t.wj="sign",t.Zy="subtitles"}($P||($P={})),function(t){t.$f="video",t.Jf="audio",t.mj="closedCaption",t.yj="variant"}(KP||(KP={})),function(t){t[t.Ff=-1]="Ff",t[t.Jf=0]="Jf",t[t.$f=1]="$f",t[t.cj=2]="cj"}(tx||(tx={})),function(t){t[t.Ff=-1]="Ff",t[t.pj=1]="pj",t[t.kj=2]="kj",t[t.bj=3]="bj",t[t.Aj=4]="Aj"}(nx||(nx={})),function(t){t.D_=function(t){return t>=nx.kj},t.Tj=function(t){return t===nx.kj||t===nx.bj}}(nx||(nx={}));var vx=function(t){function n(){var n;return(n=t.call(this)||this).Sj=[],n.Ej=function(){return n.dispatchEvent("Rj")},n.Ij=function(){return n.dispatchEvent("Nj")},n}S(n,t);var i=n.prototype;return i.Lg=function(t){this.Sj.push(t),t.addEventListener("Nj",this.Ij),t.addEventListener("Dj",this.Ej),this.dispatchEvent("Cj"),t.disabled||this.dispatchEvent("Rj")},i.jo=function(t){var n=this.Sj.indexOf(t);n<0||(os(this.Sj,n),t.removeEventListener("Nj",this.Ij),t.removeEventListener("Dj",this.Ej),this.dispatchEvent("Cj"),t.disabled||this.dispatchEvent("Rj"))},i.ds=function(){for(var t=!!this.Oj.length,n=!!this.Pj.length,i=0,e=this.Sj;i<e.length;i++){e[i].removeEventListener("Dj",this.Ej)}this.Sj.length=0,t&&this.dispatchEvent("Cj"),n&&this.dispatchEvent("Rj")},i.hv=function(){this.Wr(),this.ds()},A(n,[{key:"Oj",get:function(){return this.Sj}},{key:"Pj",get:function(){return this.Sj.filter(function(t){return!t.disabled})}}]),n}(MP);function dx(t){if(!t)return null;for(var n={xj:"",Bj:"",Lj:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.xj="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.xj="mp4a.40.2":"mp4a.40.29"===s?n.xj="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.xj=s:"ec-3"===s?n.xj=s:0===s.indexOf("avc")?n.Bj=r:n.Lj+=","+s}return n}var lx=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).Mj=void 0,h.cS=void 0,h.Bo=void 0,h.Uj=new GP,h.Fj=NaN,h.Hj=void 0,h.zj=void 0,h.Tu=void 0,h.Vj=void 0,h.Wj=void 0,h.Xj=!0,h.qj=!0,h.Gj=!0,h.Qj=!1,h.Yj=null,h.jj=!1,h.Mj=n,h.cS=i,h.Bo=e||0===e?e:-1,h.zj=r,h.Vj=Boolean(s),h.Wj=Boolean(u),h.Tu=o,h}S(n,t);var i=n.prototype;return i.Zj=function(t,n){var i=tR(),e=new QP(t,this,n).compute(),r=this.Jj(t.fragments),s=r.oldFragments,u=r.newFragments;this.$j(s,i),this.Kj(u,i,e),this.Hj!==t&&this.tZ(!0),this.Hj=t,this.dispatchEvent({type:"nZ",iZ:this}),this.dispatchEvent("renditionUpdated")},i.BY=function(t){return this.Uj.wY(t)},i.eZ=function(){var t=this.Xj;this.Xj=this.qj&&this.Gj,t!==this.Xj&&this.dispatchEvent("Nj")},i.tZ=function(t){this.qj=t,this.eZ()},i.rZ=function(t){this.Gj=t,this.eZ()},i.sZ=function(t){this.cS=t,this.dispatchEvent("renditionUpdated")},i.uZ=function(){null!==this.Yj&&a(this.Yj),this.dispatchEvent("Dj"),this.dispatchEvent("renditionUpdated")},i.oZ=function(t){this.jj=t,this.uZ()},i.hZ=function(){this.aZ(3e4)},i.aZ=function(t){var n=this;this.Qj=!0,this.uZ(),this.Yj=h(function(){n.Qj=!1,n.uZ()},t)},i.Jj=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.Uj.yY(s.vY)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.$j=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.Uj.wY(e.vY);r.cZ=ax(r.cZ,e.cZ),r.fZ=e.fZ||r.fZ,r.vZ=n}},i.Kj=function(t,n,i){var e=this.dZ(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.Qp=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.PY+=n}}(e,i),this.lZ(e)},i.dZ=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.iZ=this;var r=ir({},e);n.push(r)}return n},i.lZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Uj.Lg(i),m(this.Fj)&&(this.Fj=i.vY)}},i.hv=function(){this.Wr(),null!==this.Yj&&a(this.Yj)},A(n,[{key:"disabled",get:function(){return this.Qj||this.jj},set:function(t){this.Qj=t,this.uZ()}},{key:"_l",get:function(){return this.Bo}},{key:"Ng",get:function(){return this.Xj}},{key:"uri",get:function(){return this.zj||this.Hj&&this.Hj.uri},set:function(t){this.zj=t,this.dispatchEvent("renditionUpdated")}},{key:"xY",get:function(){return this.Hj}},{key:"OY",get:function(){return this.Uj}},{key:"_Z",get:function(){return this.Hj?this.Hj.live?this.Hj.duration<-60?nx.bj:nx.Aj:nx.pj:nx.Ff}},{key:"Vn",get:function(){return this.cS},set:function(t){this.sZ(t)}},{key:"yl",get:function(){return this.Tu}},{key:"SA",get:function(){return this.Vj}},{key:"aj",get:function(){return this.Wj||this.Vj}},{key:"gZ",get:function(){return this.Fj}},{key:"wZ",get:function(){return!!this.xY}},{key:"wf",get:function(){return this.Mj}}]),n}(MP),_x=function(t){function n(n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=JP.vj),(w=t.call(this,n,i,e,s,u,o,d)||this).mZ=void 0,w.yZ=void 0,w.pZ=void 0,w.kZ=void 0,w.bZ=void 0,w.AZ=void 0,w.TZ=void 0,w.SZ=void 0,w.EZ=void 0,w.aH=void 0,w.RZ=void 0,w.IZ=void 0,w.NZ=void 0,w.DZ=void 0,w.CZ=void 0,w.OZ=void 0,w.PZ=null,w.xZ=void 0,w.mZ=Boolean(l),w.bZ=r,w.yZ=dx(h),w.pZ=g,w.TZ=a,w.SZ=c,w.AZ=f,w.kZ=v,w.aH=_,w}S(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.vY,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.BZ[0]?t.BZ[0].wl:JP.vj)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Br(t.characteristics,"public.accessibility.describes-video")?JP._j:JP.vj;if(t.characteristics&&Br(t.characteristics,"public.accessibility.describes-video"))return JP.sA;return JP.fj}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.LZ=function(t){this.yZ="string"==typeof t?dx(t):t,this.dispatchEvent("renditionUpdated")},i.MZ=function(t,n){return t?!n&&t.xj&&t.Bj?tx.cj:t.Bj?tx.$f:t.xj?tx.Jf:tx.Ff:tx.Ff},A(n,[{key:"UZ",set:function(t){this.mZ=t}},{key:"FZ",get:function(){return this.yZ}},{key:"bandwidth",get:function(){return this.kZ},set:function(t){this.kZ=t,this.dispatchEvent("renditionUpdated")}},{key:"wl",get:function(){return this.aH}},{key:"resolution",get:function(){return this.AZ},set:function(t){this.AZ=t,this.dispatchEvent("renditionUpdated")}},{key:"HZ",get:function(){return void 0!==this.pZ?this.pZ:this.MZ(this.yZ,this.mZ)}},{key:"vY",get:function(){return this.TZ}},{key:"xj",get:function(){return this.SZ}},{key:"zZ",get:function(){return this.bZ}},{key:"VZ",get:function(){return this.EZ},set:function(t){var n=this.EZ;this.EZ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(lx);var gx=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,n,i,e,r,s,u,o)||this).fi=void 0,c.WZ=null,c.XZ=void 0,c.qZ=function(){return c.GZ()},c.fi=h,c.XZ=new CD(a,String(e),c.Vn,c.yl,void 0,hy.WEBVTT),c.SA&&(c.XZ.Rl=mw.Tl),c}S(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Br(t.characteristics,"public.accessibility.describes-music-and-sound"))return Ak.rA;return Ak.Zy}(i))};var i=n.prototype;return i.Zj=function(n){t.prototype.Zj.call(this,n),this.GZ()},i.hv=function(){t.prototype.hv.call(this),this.jb=null},i.sZ=function(n){t.prototype.sZ.call(this,n),this.XZ.ml=n},i.GZ=function(){this.WZ&&this.WZ.QZ(this,this.OY)},A(n,[{key:"YZ",get:function(){return this.XZ}},{key:"jb",get:function(){return this.WZ},set:function(t){this.WZ&&this.WZ.removeEventListener("jZ",this.qZ),this.WZ=t,this.GZ(),this.WZ&&this.WZ.addEventListener("jZ",this.qZ)}},{key:"rj",get:function(){return this.uri}},{key:"nr",get:function(){return this.fi}}]),n}(lx),wx=function(t){function n(n,i){var e;(e=t.call(this)||this).Ch=void 0,e.ZZ=void 0,e.JZ=["renditionUpdated","nZ","$Z"],e.KZ=null,e.tJ=null,e.nJ=null,e.iJ=null,e.eJ=new vx,e.rJ=new vx,e.sJ=new vx,e.W_={},e.uJ=void 0,e.oJ=void 0,e.hJ=null,e.Au=NaN,e.aJ=void 0,e.cJ=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.Ch=n,e.ZZ=i;var r=Tt(e);return e.aJ=function(){r.UF(this)},e.cJ=function(t){r.fJ(this,t)},e}S(n,t);var i=n.prototype;return i.vJ=function(t,n){var i=new MC(n);return i.Rl=mw.Al,this.W_[i._l]=i,this.dispatchEvent({type:"dJ",Id:i}),i},i.lJ=function(t,n,i){var e=new LC(i,"manifest");return e.Rl=mw.Al,this.W_[e._l]=e,this.dispatchEvent({type:"dJ",Id:e}),e},i._J=function(t,n){if(t){var i=t.Cl,e=t.gJ,r=t&&this.W_[e];r||(r=new MC(t.El),this.W_[e]=r,r.Rl=mw.Al,this.dispatchEvent({type:"dJ",Id:r}));for(var s=0;s<i.length;s++){var u=i[s];r.AA(u)}}},i.wJ=function(t){t&&(this.uJ||(this.uJ=new CD(Ak.rA,void 0,"CC1","en",!0,hy.CEA608),this.W_.CC1=this.uJ,this.dispatchEvent({type:"dJ",Id:this.uJ})),this.uJ.AA(t))},i.mJ=function(t,n,i){var e=this.W_[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.Cl.il;r<s.length;r++){var u=s[r];if(u.tw>=i)break;n<u.nw&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.cA(u)}}},i.yJ=function(t,n){return this.pJ(t,n)},i.kJ=function(t){var n;return(n=this.bJ(t,this.eJ))?n:(n=this.bJ(t,this.rJ))?n:n=this.bJ(t,this.sJ)},i.hv=function(){this.Gr(this.eJ),this.eJ.hv(),this.Gr(this.rJ),this.rJ.hv(),this.Gr(this.sJ),this.sJ.hv(),this.W_={},this.uJ=void 0,this.oJ&&(this.oJ.hv(),this.oJ=void 0),this.hJ=null,this.Au=NaN,this.KZ=null,this.tJ=null,this.nJ=null,this.iJ=null,this.dispatchEvent("hv")},i.AJ=function(t){var n=_x.createFromUri(this,t.uri);this.Gr(this.rJ),this.rJ.Lg(n),n.addEventListener("renditionUpdated",this.aJ)},i.UF=function(t){var n=t.xY,i=t._Z;if(m(this.Au)||nx.D_(i)){if(nx.Ff===i)return;if(!n)return;this.Au=n.duration,this.dispatchEvent("TJ")}m(this.Au)||nx.pj!==i||t.removeEventListener("renditionUpdated",this.aJ)},i.SJ=function(t){var n=this;this.Gr(this.eJ),this.eJ.ds(),this.Gr(this.rJ),this.rJ.ds(),this.sJ.ds(),this.hJ=t;for(var i=t.streams.map(function(t){return _x.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.xj&&!Br(t.xj,"mp4a")&&!Br(t.xj,"mp3"))return!1;if(t.Bj&&!Br(t.Bj,"avc1"))return!1;return!0}(t.FZ)}),e=i.some(function(t){return t.FZ&&t.FZ.xj}),r=i.some(function(t){return t.FZ&&t.FZ.Bj}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.FZ&&u.FZ.xj),h=Boolean(u.FZ&&u.FZ.Bj);e&&!o||r&&!h||(this.rJ.Lg(u),u.addEventListener("renditionUpdated",this.aJ))}for(var a=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.ZZ){var r=gx.createFromPlaylistMedia(n,e);n.sJ.Lg(r),n.dispatchEvent({type:"dJ",Id:r.YZ})}break;case"closed-captions":break;case"audio":var s=n.rJ.Oj.filter(function(t){return t.xj===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.UZ=!0});var u=e.uri?tx.Jf:tx.cj,o=_x.createFromPlaylistMedia(n,e,!1,u);n.eJ.Lg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.EJ=hx(this.BZ.Pj)||null,this.dispatchEvent("RJ")},i.bJ=function(t,n){for(var i=0,e=n.Oj;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i.fJ=function(t,n){this.dispatchEvent(ir({},n,{iZ:t}))},i.IJ=function(t){for(var n=0,i=t.Oj;n<i.length;n++)for(var e=i[n],r=0,s=this.JZ;r<s.length;r++){var u=s[r];e.addEventListener(u,this.cJ)}},i.Gr=function(t){for(var n=0,i=t.Oj;n<i.length;n++){i[n].hv()}},i.NJ=function(t,n){0!==t.length&&this.Ch.hlsDateRange&&(this.oJ||(this.oJ=new ix,this.dispatchEvent({type:"dJ",Id:this.oJ})),this.oJ.Zo(t,n))},i.DJ=function(t,n){if(this.tJ!==t){var i=this.tJ;this.tJ=t,this.dispatchEvent({type:"CJ",HZ:"xj",iZ:this.tJ,OJ:i,PJ:n})}},i.pJ=function(t,n){if(this.nJ!==t){var i=this.nJ;this.nJ=t,t&&this.dispatchEvent({type:"CJ",HZ:"Bj",iZ:this.nJ,OJ:i,PJ:n})}},i.xJ=function(t){for(var n=0,i=t.Oj;n<i.length;n++){var e=i[n];if(e._Z!==nx.Ff)return e._Z}return null},A(n,[{key:"x_",get:function(){return this.KZ},set:function(t){t&&(0===t.streams.length?this.AJ(t):this.SJ(t),this.KZ=t,this.IJ(this.rJ),this.IJ(this.eJ),this.dispatchEvent("BJ"))}},{key:"LJ",get:function(){return this.hJ}},{key:"d_",get:function(){return this.Au}},{key:"j_",get:function(){var t=this,n=this.sJ.Oj.map(function(t){return t.YZ}),i=l.keys(this.W_).map(function(n){return t.W_[n]});return this.uJ&&i.push(this.uJ),this.oJ&&i.push(this.oJ),n.concat(i)}},{key:"EJ",get:function(){return this.tJ},set:function(t){this.DJ(t,!0)}},{key:"MJ",get:function(){return this.nJ},set:function(t){this.pJ(t,!1)}},{key:"BZ",get:function(){return this.eJ}},{key:"UJ",get:function(){return this.rJ}},{key:"FJ",get:function(){return this.sJ.Oj}},{key:"_Z",get:function(){var t;return null!==(t=this.tJ&&this.tJ._Z)&&t!==nx.Ff?t:null!==(t=this.nJ&&this.nJ._Z)&&t!==nx.Ff?t:null!==(t=this.xJ(this.eJ))?t:null!==(t=this.xJ(this.rJ))?t:nx.Ff}}]),n}(MP);var mx=function(t){function n(n,i,e){var r,s,u,o,h;return(r=t.call(this)||this).qp=[],r.HJ={},r.zJ=void 0,r.VJ=void 0,r.WJ=void 0,r.Ed=void 0,r.Ur=function(t){return r.dispatchEvent(t)},r.XJ=function(t){r.qJ(t)},r.GJ=function(t){r.handleRenditionUpdated(t)},r.QJ=function(t){for(var n=0,i=r.qp;n<i.length;n++){i[n].YJ.QJ(t)}},r.zJ=n,r.VJ=i,r.WJ=e,r.VJ&&r.VJ.addEventListener("CJ",r.XJ),r.WJ&&(r.WJ.addEventListener("renditionUpdated",r.GJ),r.WJ.addEventListener("jJ",r.QJ)),r.Ed=(s=Tt(r),u=new MP,o={get length(){return s.qp.length},enable:function(t){s.dA(s.ZJ(t&&t.id)||t)},disable:function(t){s.lA(s.ZJ(t&&t.id)||t)},item:function(t){return s.qp[t]&&s.qp[t].Ed},getTrackByID:function(t){var n=s.ZJ(t);return n&&n.Ed},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),r}S(n,t);var i=n.prototype;return i.ZJ=function(t){return this.HJ[t]},i.$d=function(t){for(var n=0,i=t.YJ.pl;n<i.length;n++){var e=i[n];e._l===this.JJ()&&(e.yw=!0)}t.addEventListener("enabledtrack",this.Ur),t.addEventListener("disabledtrack",this.Ur),this.qp.push(t),this.HJ[t._l]=t,this.dispatchEvent({type:"addtrack",track:t.Ed})},i.dA=function(t){if(t){var n=this.HJ[t._l];if(n&&!n.ll){for(var i=this.qp.length-1;i>=0;i--)this.qp[i].hg();n.og()}}},i.lA=function(t){},A(n,[{key:"$J",get:function(){return this.JJ()}}]),n}(MP);var yx=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).KJ=void 0,r.KJ=NaN,r}S(n,t);var i=n.prototype;return i.JJ=function(){return this.KJ},i.qJ=function(t){t.t$?this.n$(t.i$):t.e$&&this.n$(t.e$)},i.n$=function(t){t&&(this.KJ=t._l),this.qp.forEach(function(n){return n.r$(t)})},i.handleRenditionUpdated=function(t){if(t.iZ&&t.iZ.HZ===tx.Jf)for(var n=0,i=this.qp;n<i.length;n++){i[n].s$(t)}},i.dA=function(n){var i=n;if(!i){var e=this.qp.filter(function(t){return t.SA});e.length>0&&(i=e[0])}t.prototype.dA.call(this,i)},A(n,[{key:"nr",get:function(){return"audio"}}]),n}(mx),px=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).u$=void 0,r.u$=NaN,r}S(n,t);var i=n.prototype;return i.JJ=function(){return this.u$},i.qJ=function(t){(t.o$||t.i$)&&(t.i$&&(this.u$=t.i$._l),this.qp.forEach(function(n){return n.r$(t.i$)}))},i.handleRenditionUpdated=function(t){if(t.iZ&&(t.iZ.HZ===tx.$f||t.iZ.HZ===tx.cj))for(var n=0,i=this.qp;n<i.length;n++){i[n].s$(t)}},A(n,[{key:"nr",get:function(){return"video"}}]),n}(mx);function kx(t,n){for(var i,e=n-(i=t?z(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function bx(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var Ax=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).iZ=void 0,i.yw=!1,i.h$=!0,i.Ed=void 0,i.iZ=n,i.yw=!1,i.Ed=(e=Tt(i),r=new MP,s={get bandwidth(){return e.iZ&&e.iZ.bandwidth},get averageBandwidth(){return e.iZ&&e.iZ.averageBandwidth},get codecs(){return e.FZ},get resolution(){return e.a$},get frameRate(){return bx(e.c$,2)},get id(){return e._l},get uri(){return e.iZ&&e.iZ.uri},get name(){return e.Vn},set name(t){e.Vn=t},get enabled(){return e.ll},set enabled(t){e.ll=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}S(n,t);var i=n.prototype;return i.f$=function(t){var n=!!t&&this._l===t._l;this.yw!==n&&(this.yw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Ed}))},i.s$=function(t){return this.iZ._l===t.iZ._l&&(this.iZ=t.iZ,this.dispatchEvent({type:"qualityupdated",quality:this.Ed}),!0)},A(n,[{key:"ll",get:function(){return this.h$},set:function(t){this.h$=t,this.iZ.oZ(!t)}},{key:"wl",get:function(){return this.iZ.wl}},{key:"a$",get:function(){return this.iZ.resolution?{width:this.iZ.resolution.width,height:this.iZ.resolution.height}:{width:NaN,height:NaN}}},{key:"Vn",get:function(){return this.iZ.Vn},set:function(t){this.iZ.Vn=t,this.dispatchEvent({type:"qualityupdated",quality:this.Ed})}},{key:"_l",get:function(){return this.iZ._l}}]),n}(MP);var Tx=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"FZ",get:function(){return this.iZ.FZ&&this.iZ.FZ.Bj||""}},{key:"c$",get:function(){return bx(Number(this.iZ.VZ),2)}}]),n}(Ax),Sx=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"FZ",get:function(){return this.iZ.FZ&&this.iZ.FZ.xj||""}},{key:"c$",get:function(){return bx(Number(this.iZ.xZ),2)}}]),n}(Ax),Ex=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).pl=void 0,e.v$=null,e.d$={},e.WJ=void 0,e.Ed=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.pl=n,e.WJ=i;for(var h=e.pl.length-1;h>=0;h--){var a=e.pl[h];e.d$[a._l]=a}return e.pl.forEach(function(t){return t.addEventListener("activequalitychanged",e.Ur)}),e.Ed=(r=Tt(e),s=new MP,u={item:function(t){var n=r.Jd(t);return n&&n.Ed},getQualitiesByIDs:function(t){return r.l$(t).map(function(t){return t.Ed})},get length(){return r.pl.length},get activeQuality(){return r.dl&&r.dl.Ed},get targetQuality(){return r.kl?1===r.kl.length?r.kl[0].Ed:r.kl.map(function(t){return t.Ed}):null},set targetQuality(t){if(t){var n=H(t)?t:[t];r.kl=r.l$(n.map(function(t){return t.id}))}else r.kl=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}S(n,t);var i=n.prototype;return i._$=function(t){return!!t&&this.pl.some(function(n){return n._l===t._l})},i.g$=function(t,n){for(var i=0,e=this.pl;i<e.length;i++){e[i].f$(t)}},i.l$=function(t){var n=this;return t&&t.map(function(t){return n.d$[t]}).filter(function(t){return t})},i.w$=function(){for(var t=this.pl.length-1;t>=0;t--)this.pl[t].yw=!1},i.QJ=function(t){var n=this.WJ.m$,i=this.l$(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Ed}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Jd=function(t){return this.pl[t]},A(n,[{key:"dl",get:function(){for(var t=0,n=this.pl;t<n.length;t++){var i=n[t];if(i.yw)return i}return null}},{key:"kl",get:function(){return this.v$},set:function(t){this.v$=this.y$(t)}}]),n}(MP);var Rx=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.og=function(){this.WJ&&(this.WJ.KJ=this.pl[0]._l)},i.hg=function(t){this.WJ&&(this.WJ.KJ=null)},i.y$=function(t){},n}(Ex),Ix=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.og=function(){if(this.y$(this.kl),this.WJ){var t=this.WJ.zJ;if(!t)return;var n=rs(t.p$.BZ.Oj,function(t){return!t.uri});this.WJ.KJ=n?n._l:null}},i.g$=function(n,i){"video"===i&&t.prototype.g$.call(this,n,i)},i.hg=function(t){"video"===t&&this.w$()},i.y$=function(t){if(!this.WJ)return this.kl;var n=t?this.l$(t.map(function(t){return t._l})):null;if(n&&n.length>0){var i=n.map(function(t){return t._l});return this.WJ.m$=i,n}return t?this.kl:(this.WJ.m$=null,null)},n}(Ex),Nx=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).nr=void 0,e.YJ=void 0,e._l=void 0,e.zg=void 0,e.Vn=void 0,e.Ed=void 0,e.nr=n,e.YJ=i,e._l=i.Jd(0)._l,e.zg=e.YJ.pl.some(function(t){return t.yw}),e.Vn=i.Jd(0).iZ.Vn,e.Ed=(r=Tt(e),s=new MP,{get id(){return r._l},get enabled(){return r.ll},get qualities(){return r.YJ&&r.YJ.Ed},get language(){return r.yl},get default(){return r.SA},get name(){return r.Vn},set name(t){r.Vn=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}S(n,t);var i=n.prototype;return i.r$=function(t){var n=this.YJ._$(t);this.Wg(n),this.YJ.g$(t,this.nr)},i.Wg=function(t){this.zg!==t&&(t?(this.zg=!0,this.dispatchEvent({type:"enabledtrack",track:this.Ed})):(this.zg=!1,this.dispatchEvent({type:"disabledtrack",track:this.Ed})))},i.og=function(){this.zg||this.YJ.og()},i.hg=function(){this.zg&&this.YJ.hg(this.nr)},i.s$=function(t){t.iZ._l===this._l&&(this.Vn=t.iZ.Vn);for(var n=0,i=this.YJ.pl;n<i.length;n++){i[n].s$(t)}},A(n,[{key:"ll",get:function(){return this.zg}},{key:"yl",get:function(){return this.k$()}},{key:"wl",get:function(){return this.b$()}},{key:"SA",get:function(){var t="video"===this.nr,n=this.YJ.pl&&this.YJ.pl[0].iZ.SA;return t||n}}]),n}(MP);var Dx=function(t){function n(n){return t.call(this,"video",n)||this}S(n,t);var i=n.prototype;return i.b$=function(){return $P.vj},i.k$=function(){return""},n}(Nx),Cx=function(t){function n(n){return t.call(this,"audio",n)||this}S(n,t);var i=n.prototype;return i.b$=function(){return this.YJ.pl[0].iZ.wl},i.k$=function(){return this.YJ.pl[0].iZ.yl||""},n}(Nx),Ox=function(){function t(t,n,i){var e=this;this.A$=void 0,this.T$=void 0,this.S$=void 0,this.E$=void 0,this.R$=function(){var t=e.A$;t.removeEventListener("I$",e.R$);var n=t.p$.UJ.Oj,i=t.p$.BZ.Oj,r=n.map(function(t){return new Tx(t)});if(r.length>0){var s=new Ix(r,e.T$);e.E$.$d(new Dx(s));var u=rs(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new Cx(s);u&&(h.Vn=u.Vn),e.S$.$d(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new Sx(c),v=new Rx([f],e.T$);e.S$.$d(new Cx(v))}}},this.A$=t,this.T$=i,this.S$=new yx(t,n,i),this.E$=new px(t,n,i),t&&(t.I$?this.R$():t.addEventListener("I$",this.R$))}return A(t,[{key:"Q_",get:function(){return this.S$}},{key:"Y_",get:function(){return this.E$}}]),t}(),Px=["loadedmetadata","durationchange","ts","lv","Ng","N$"],xx=["D$","CJ","C$","ts"],Bx=function(t){function n(n,i,e,r,s,u,o){var h;(h=t.call(this)||this).O$=null,h.uR=void 0,h.P$=void 0,h.x$=void 0,h.B$=void 0,h.VJ=void 0,h.L$=void 0,h.zJ=void 0,h.Y_=void 0,h.Q_=void 0,h.M$=[],h.U$=[],h.F$=function(t){return h.dispatchEvent(t)},h.H$=function(t){return h.z$(t)},h.V$=function(t){return h.W$(t)},h.uR=n.src,h.P$=n.type,h.x$=i,h.B$=e,h.L$=r,h.zJ=s,h.VJ=u,h.zJ&&(h.zJ.addEventListener("X$",h.F$),h.zJ.addEventListener("q$",h.F$));var a=new Ox(h.zJ,h.VJ,o);return h.Y_=a.Y_,h.Q_=a.Q_,h.oR=null,h.uR&&(h.VJ&&h.VJ.nl(),h.zJ&&(h.zJ.G$=h.uR)),h}S(n,t);var i=n.prototype;return i.Q$=function(t){this.VJ&&this.VJ.Yo(t),this.zJ&&this.zJ.Y$(),this.oR&&this.j$()},i.Z$=function(){this.VJ&&this.VJ.Z$(),this.zJ&&this.zJ.J$()},i.K$=function(){if(this.zJ)for(var t=0;t<Px.length;t++){var n=Px[t];this.zJ.addEventListener(n,this.H$)}if(this.VJ)for(var i=0;i<xx.length;i++){var e=xx[i];this.VJ.addEventListener(e,this.V$)}},i.tK=function(){if(this.zJ)for(var t=0;t<Px.length;t++){var n=Px[t];this.zJ.removeEventListener(n,this.H$)}if(this.VJ)for(var i=0;i<xx.length;i++){var e=xx[i];this.VJ.removeEventListener(e,this.V$)}},i.j$=function(){if(this.zJ&&this.M$.length){var t=this.M$.slice();as(this.M$);for(var n=0;n<t.length;n++){var i=t[n];this.zJ.dispatchEvent(i)}}if(this.VJ&&this.U$.length){var e=this.U$.slice();as(this.U$);for(var r=0;r<e.length;r++){var s=e[r];this.VJ.dispatchEvent(s)}}},i.z$=function(t){this.M$.push(t)},i.W$=function(t){this.U$.push(t)},i.hv=function(){this.dispatchEvent("hv"),this.Wr(),this.VJ&&this.VJ.hv(),this.L$&&this.L$.hv(),this.zJ&&this.zJ.hv(),this.O$=null,as(this.M$),as(this.U$)},A(n,[{key:"oR",get:function(){return this.O$},set:function(t){this.tK(),this.O$=t,this.oR?this.dispatchEvent("oh"):this.K$()}}]),n}(MP),Lx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).A$=null,n.Ur=function(t){n.dispatchEvent(t,!0)},n}return S(n,t),A(n,[{key:"KJ",get:function(){var t=this.A$&&this.A$.p$.EJ;return t?t._l:null},set:function(t){var n;this.A$&&(n=null===t?hx(this.A$.p$.BZ.Oj):this.A$.p$.BZ.Oj.filter(function(n){return t===n._l}).shift(),this.A$.p$.EJ=n||null)}},{key:"m$",get:function(){return this.A$&&this.A$.nK||null},set:function(t){this.A$&&(this.A$.iK(t),this.dispatchEvent("jJ"))}},{key:"zJ",get:function(){return this.A$},set:function(t){this.A$&&(this.A$.p$.removeEventListener("BJ",this.Ur),this.A$.p$.removeEventListener("renditionUpdated",this.Ur),this.A$.p$.removeEventListener("RJ",this.Ur)),this.A$=t,this.A$&&(this.A$.p$.addEventListener("BJ",this.Ur),this.A$.p$.addEventListener("renditionUpdated",this.Ur),this.A$.p$.addEventListener("RJ",this.Ur))}}]),n}(MP),Mx=function(){function t(){}var n=t.prototype;return n.eK=function(t){return we.resolve(!1)},n.rK=function(t){return we.reject(Ux)},n.sK=function(t){return we.reject(Ux)},n.as=function(t){return we.resolve(!1)},n.cs=function(t){return we.resolve(void 0)},n.gY=function(t,n){return we.resolve(void 0)},n.uK=function(t){return we.resolve([])},n.oK=function(){return we.resolve([])},n.hK=function(t){return we.resolve([])},n.aK=function(t,n){return we.resolve([])},n.jo=function(t){return we.reject(Ux)},n.cK=function(t){return we.reject(Ux)},n.fK=function(){return we.reject(Ux)},t}(),Ux="Storage disabled",Fx=function(){function t(){this.vK=void 0,this.dK=void 0,this.lK=void 0,this._K=void 0,this.gK=void 0,this.vK=new Mx,this.dK=new Mx,this.lK=new Mx,this._K=new Mx,this.gK=new Mx}return t.ZG=function(){return we.resolve(new t)},t.prototype.wK=function(t){return we.reject(Hx)},t}(),Hx="Storage disabled",zx=function(){function t(t){var n=this;this.Dr=new no,this.mK=void 0,this.Dr.Is(t),this.Dr.Ss.then(function(t){n.mK=t})}var n=t.prototype;return n.eK=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.mK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.yK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.eK(t));case 7:case"end":return i.stop()}},null,this,null,we)},n.rK=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.mK,e.t0){e.next=5;break}return e.next=4,nr.awrap(this.yK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.rK(t,n));case 7:case"end":return e.stop()}},null,this,null,we)},n.sK=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.mK,e.t0){e.next=5;break}return e.next=4,nr.awrap(this.yK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.sK(t,n));case 7:case"end":return e.stop()}},null,this,null,we)},n.as=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.mK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.yK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.as(t));case 7:case"end":return i.stop()}},null,this,null,we)},n.cs=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.mK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.yK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.cs(t));case 7:case"end":return i.stop()}},null,this,null,we)},n.gY=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.mK,e.t0){e.next=5;break}return e.next=4,nr.awrap(this.yK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.gY(t,n));case 7:case"end":return e.stop()}},null,this,null,we)},n.uK=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.mK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.yK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.uK(t));case 7:case"end":return i.stop()}},null,this,null,we)},n.oK=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.mK,n.t0){n.next=5;break}return n.next=4,nr.awrap(this.yK);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.oK());case 7:case"end":return n.stop()}},null,this,null,we)},n.hK=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.mK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.yK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.hK(t));case 7:case"end":return i.stop()}},null,this,null,we)},n.aK=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.mK,e.t0){e.next=5;break}return e.next=4,nr.awrap(this.yK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.aK(t,n));case 7:case"end":return e.stop()}},null,this,null,we)},n.jo=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.mK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.yK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.jo(t));case 7:case"end":return i.stop()}},null,this,null,we)},n.cK=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.mK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.yK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.cK(t));case 7:case"end":return i.stop()}},null,this,null,we)},n.fK=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.mK,n.t0){n.next=5;break}return n.next=4,nr.awrap(this.yK);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.fK());case 7:case"end":return n.stop()}},null,this,null,we)},A(t,[{key:"yK",get:function(){return this.Dr.Ss}}]),t}(),Vx=function(){function t(t){var n=this;this.Dr=new no,this.pK=void 0,this.dK=void 0,this.vK=void 0,this.lK=void 0,this._K=void 0,this.gK=void 0,this.Dr.Is(t);var i=this.Dr.Ss;i.then(function(t){n.pK=t}),this.dK=new zx(i.then(function(t){return t.dK})),this.vK=new zx(i.then(function(t){return t.vK})),this.lK=new zx(i.then(function(t){return t.lK})),this._K=new zx(i.then(function(t){return t._K})),this.gK=new zx(i.then(function(t){return t.gK}))}return t.prototype.wK=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,nr.awrap(this.kK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,nr.awrap(n.wK(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,we)},A(t,[{key:"kK",get:function(){return this.Dr.Ss}}]),t}(),Wx=function(){function t(){this.ou=[]}var n=t.prototype;return n.eK=function(t){return we.resolve("temporary"===t)},n.rK=function(t){return this.bK(t.key),this.ou.push(t),we.resolve()},n.sK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.bK(i.key)}for(var e=0;e<t.length;e++){var r=t[e];this.ou.push(r)}return we.resolve()},n.as=function(t){return we.resolve(Boolean(this.AK(t)))},n.cs=function(t){return we.resolve(this.AK(t))},n.gY=function(t,n){return we.resolve(this.TK(t,n))},n.uK=function(t){var n=this,i=t?t.map(function(t){return n.AK(t)}):this.ou;return we.resolve(i.filter(F))},n.oK=function(){return we.resolve([].concat(this.ou))},n.hK=function(t){return this.aK(t,"key")},n.aK=function(t,n){var i=this.ou.filter(function(i){return i[n]===t});return we.resolve(i)},n.jo=function(t){return this.bK(t),we.resolve()},n.cK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.bK(i)}return we.resolve()},n.fK=function(){return as(this.ou),we.resolve()},n.AK=function(t){return this.TK(t,"key")},n.TK=function(t,n){for(var i=0,e=this.ou;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.bK=function(t){var n=this.AK(t);n&&us(this.ou,n)},t}(),Xx=function(){function t(){this.vK=void 0,this.dK=void 0,this.lK=void 0,this._K=void 0,this.gK=void 0,this.vK=new Wx,this.dK=new Wx,this.lK=new Wx,this._K=new Wx,this.gK=new Wx}return t.ZG=function(){return we.resolve(new t)},t.prototype.wK=function(t){return t(this)},t}(),qx=function(){function t(t){this.SK=t}var n=t.prototype;return n.eK=function(t){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.SK;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,nr.awrap(e.eK(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,we)},n.rK=function(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.SK;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,nr.awrap(r.eK(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.rK(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,we)},n.sK=function(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.SK;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,nr.awrap(r.eK(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.sK(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,we)},n.as=function(t){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.SK;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,nr.awrap(e.as(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,we)},n.cs=function(t){var n,i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.SK;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,nr.awrap(e.cs(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,we)},n.gY=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.SK;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,nr.awrap(r.gY(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,we)},n.uK=function(t){var n,i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.SK;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,nr.awrap(r.uK(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,we)},n.oK=function(){var t,n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.SK;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,nr.awrap(e.oK());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,we)},n.hK=function(t){var n,i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.SK;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,nr.awrap(r.hK(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,we)},n.aK=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.SK;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,nr.awrap(s.aK(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,we)},n.jo=function(t){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.SK;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,nr.awrap(e.jo(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,we)},n.cK=function(t){var n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.SK;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,nr.awrap(e.cK(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,we)},n.fK=function(){var t,n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.SK;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,nr.awrap(i.fK());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,we)},t}();function Gx(t){return function(){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(we.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",Qx.ZG(n));case 4:case"end":return i.stop()}},null,null,null,we)}}var Qx=function(){function t(t){this.EK=void 0,this.RK=void 0,this.IK=void 0,this.NK=void 0,this.DK=void 0,this.CK=void 0,this.EK=t,this.RK=new qx(t.map(function(t){return t._K})),this.IK=new qx(t.map(function(t){return t.gK})),this.NK=new qx(t.map(function(t){return t.lK})),this.DK=new qx(t.map(function(t){return t.vK})),this.CK=new qx(t.map(function(t){return t.dK}))}return t.ZG=function(n){return we.resolve(new t(n))},t.prototype.wK=function(n){var i=this;if(0===this.EK.length)return n(this);var e=[],r=0;return this.EK[r].wK(function s(u){return e.push(u),++r<i.EK.length?i.EK[r].wK(s):n(new t(e))})},A(t,[{key:"_K",get:function(){return this.RK}},{key:"gK",get:function(){return this.IK}},{key:"lK",get:function(){return this.NK}},{key:"vK",get:function(){return this.DK}},{key:"dK",get:function(){return this.CK}}]),t}(),Yx=function(){function t(t){this.PK=void 0,this.xK=[],this.BK=!0,this.PK=t}var n=t.prototype;return n.ZG=function(){return new Vx(this.LK())},n.LK=function(){var t,n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.BK){e.next=4;break}return e.next=3,nr.awrap(we.resolve());case 3:this.BK=!1;case 4:t=0,n=this.xK;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,nr.awrap(Gx([Xx.ZG,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,nr.awrap(Gx([Xx.ZG,this.PK])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],we)},n.uL=function(t){if(!this.BK)throw new v("Registration overdue");this.xK.push(t)},t}(),jx=function(){function t(){}return t.uL=function(n){t.OS.uL(n)},A(t,null,[{key:"Rn",get:function(){return t.MK||(t.MK=t.OS.ZG()),t.MK}}]),t}();function Zx(t){return t_(t)}function Jx(t,n){var i=t_(t);return n?""+i+n:""+i}function $x(t,n,i,e,r,s,u,o){var h=new kc;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new Zl({Mf:t,Of:i,Cf:h,sv:s,tv:ql.GET,nr:Gl.zf,ev:e,rv:r,xr:u,uv:o})}jx.OS=new Yx(Fx.ZG),jx.MK=void 0;var Kx=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).rk=void 0,a.rj=void 0,a.Of=void 0,a.ev=void 0,a.rv=void 0,a.UK=void 0,a.mA=void 0,a.FK=void 0,a.HK=void 0,a.mC=void 0,a.zK=void 0,a.kv=null,a.VK=void 0,a.pf=new ls,a.WK=function(t,n){return a.uv(t,n)},a.rk=n,a.rj=i,a.Of=e,a.ev=r,a.rv=s,a.UK=u,a.mC=o,a.zK=new nB,a.mA=h,a.FK=jx.Rn.vK,a.HK=jx.Rn.dK,a}S(n,t);var i=n.prototype;return i.SR=function(){return this.XK(this.pf.xr)},i.XK=function(t){var n,i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return rx(n=this.rj)?(i=n.rj,e=[n.sj.SR,n.sj.RR]):(i=n,e=void 0),this.zK.qK(),h.prev=3,h.next=6,nr.awrap(this.GK(i,e));case 6:if(r=h.sent,ws(t),r){h.next=12;break}return h.next=11,nr.awrap(this.QK(i,e,t));case 11:r=h.sent;case 12:return h.next=14,nr.awrap(r.ai());case 14:s=h.sent,ws(t),this.YK(s,r.Df),h.next=28;break;case 19:if(h.prev=19,h.t0=h.catch(3),!gs(h.t0)){h.next=25;break}return h.abrupt("return");case 25:o=h.t0 instanceof o_?h.t0.kv.Df:0,u=new v('Could not load fragment: "'+this.rj+'", HTTP status '+o);case 27:return h.abrupt("return",this.jK(u));case 28:case"end":return h.stop()}},null,this,[[3,19]],we)},i.GK=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=Jx(t,n),u.next=4,nr.awrap(this.FK.as(i));case 4:if(!u.sent){u.next=11;break}return u.next=7,nr.awrap(this.HK.cs(i));case 7:return e=u.sent,r=$x(t,n,this.Of,this.ev,this.rv,this.UK),s=e.data.buffer,u.abrupt("return",new jl({ai:s,Cf:{},Bf:r,Lf:t,Of:this.Of,Df:200,Pf:""}));case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(0);case 16:return u.abrupt("return",null);case 17:case"end":return u.stop()}},null,this,[[0,13]],we)},i.QK=function(t,n,i){var e=$x(t,n,this.Of,this.ev,this.rv,this.UK,i,this.WK);return this.mA.Bf(e)},i.uv=function(t,n){var i={type:"N$",Bf:this,ZK:t,JK:n=void 0===n?NaN:n};this.zK.$K(t,n),this.dispatchEvent(i)},i.YK=function(t,n){var i=this.Of===pc.za?t.byteLength:0;this.zK.KK(i),this.Of===pc.Pn?this.kv=t:this.kv=new y(t),this.VK=n,t=null,this.jK(),this.kv=null},i.Cr=function(t){return this.pf.Cr(),t||((t=new v('Aborted fragment load: "'+this.rj+'"')).aborted=!0),this.jK(t)},i.jK=function(t){this.zK.n0();var n={type:"tg",Bf:this};return this.dispatchEvent(n),this.mC(t||null,this)},n}(MP);function tB(){return tR()/1e3}var nB=function(t){function n(){var n;return(n=t.call(this)||this).i0=NaN,n.e0=NaN,n.r0=NaN,n.s0=NaN,n.u0=0,n.o0=NaN,n.i0=tB(),n}S(n,t);var i=n.prototype;return i.qK=function(){this.i0=tB(),this.dispatchEvent("Zo")},i.$K=function(t,n){this.r0=tB(),this.X$||(this.e0=this.r0),this.u0=t,this.o0=n||this.o0||NaN,this.dispatchEvent("Zo")},i.KK=function(t){this.$K(t,t)},i.n0=function(){this.s0=tB(),this.dispatchEvent("Zo")},A(n,[{key:"X$",get:function(){return!m(this.e0)}},{key:"h0",get:function(){return!m(this.s0)}},{key:"a0",get:function(){return(this.e0||tB())-this.i0}},{key:"c0",get:function(){return(this.s0||this.r0)-this.e0}},{key:"f0",get:function(){return(this.s0||this.r0)-this.i0}}]),n}(MP),iB=function(t){function n(n,i){var e;return(e=t.call(this)||this).UK=void 0,e.v0=[],e.d0=null,e.l0=function(t){return e._0(t)},e.mA=void 0,e.UK=!(!i||i.crossOrigin!==xw.$l),e.mA=n,e}S(n,t);var i=n.prototype;return i.Yo=function(t,n,i,e,r,s){var u=new Kx(t,n,i,e,r,this.UK,s,this.mA);return u.addEventListener("tg",this.l0),this.v0.push(u),this.g0(),u},i.w0=function(t,n,i,e,r){var s=this;return new we(function(u,o){s.Yo(t,n,i,e,r,function(t,n){t?o(t):u(n.kv)})})},i.ds=function(t,n){var i=function(t){return!n||t.rk===n},e=this.v0.filter(i);!t&&this.d0&&i(this.d0)&&e.push(this.d0);for(var r=0;r<e.length;r++){e[r].Cr()}return e},i.g0=function(){if(!this.d0){var t=this.v0.shift();t&&(this.d0=t,t.SR())}},i._0=function(t){var n=t.Bf,i=this.v0.indexOf(n);-1!==i&&os(this.v0,i),this.d0===n&&(this.d0=null,this.g0())},n}(MP);function eB(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function rB(t){return{get length(){return t.length},start:function(n){return eB(t,n|=0),t.start(n)},end:function(n){return eB(t,n|=0),t.end(n)}}}function sB(t,n){return t.SR-n.SR}var uB=function(){function t(t){this.m0=void 0,this.m0=t}var n=t.prototype;return n.start=function(t){return this.m0[t].SR},n.end=function(t){return this.m0[t].RR},n.y0=function(){return this.m0},A(t,[{key:"length",get:function(){return this.m0.length}}]),t}(),oB=new uB([]),hB=new uB([{SR:-1/0,RR:1/0}]);function aB(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);r<=o&&s>=h||(s+n>=o?s=h:(e.push({SR:r,RR:s}),r=o,s=h))}return e.push({SR:r,RR:s}),new uB(e)}(function(t){var n=lB(t);return n.sort(sB),new uB(n)}(t),n)}function cB(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=_.max(t.start(e),n.start(r)),u=_.min(t.end(e),n.end(r));s<u&&i.push({SR:s,RR:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new uB(i)}function fB(t){var n=t.length;if(!n)return hB;var i=[],e=t.start(0);e!==-1/0&&i.push({SR:-1/0,RR:e});for(var r=0;r<n-1;r+=1)i.push({SR:t.end(r),RR:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({SR:s,RR:1/0}),new uB(i)}function vB(t,n){return-1!==dB(t,n)}function dB(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function lB(t){if(t instanceof uB)return t.y0();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({SR:t.start(i),RR:t.end(i)});return n}function _B(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map(lB)),aB(new uB(r));var i,e,r}var gB=.001;function wB(t,n,i){return i=+i||0,t.SR-i<=n.RR&&n.SR<=t.RR+i}function mB(t){var n={SR:NaN,RR:NaN,OY:t};return yB(n),n}function yB(t){var n=t.OY;n.length?(n.sort(sB),t.SR=n[0].SR,t.RR=n[n.length-1].RR):(t.SR=NaN,t.RR=NaN)}function pB(t){return void 0!==t.OY}function kB(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=_.max(s.SR,n),o=_.min(s.RR,i);if(u<o){var h=void 0;h=s.SR===u&&s.RR===o?s:{SR:u,RR:o,dk:s.dk},e.push(h)}}return e}function bB(t,n){var i=_.min(t.SR,n.SR),e=_.max(t.RR,n.RR),r=t.OY,s=n.OY,u=r.concat(s),o=r.length?r[r.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.dk===h.dk&&wB(o,h,gB)&&u.splice(r.length-1,2,function(t,n){var i=t.dk||n.dk;return{SR:_.min(t.SR,n.SR),RR:_.max(t.RR,n.RR),dk:i}}(o,h)),mB(u=kB(u,i,e))}var AB,TB,SB,EB=function(){function t(t,n){this.m0=void 0,this.m0=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;pB(e)?yB(r=e):r=mB([e]),r.OY.length&&r.SR<r.RR&&n.push(r)}return n}(t),n||this.p0()}var n=t.prototype;return n.start=function(t){return this.m0[t]&&this.m0[t].SR},n.end=function(t){return this.m0[t]&&this.m0[t].RR},n.OY=function(t){return this.m0[t]&&this.m0[t].OY},n.k0=function(t,n){return this.b0(t,t,n)},n.b0=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.A0=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.T0=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.S0=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Mg=function(t){return-1!==this.k0(t)},n.JR=function(t,n,i){return-1!==this.b0(t,n,i)},n.KR=function(t,n,i){return-1!==this.A0(t,n,i)},n.HR=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=_.max(this.start(i),t.start(e)),s=_.min(this.end(i),t.end(e));if(r<s){var u=kB(this.OY(i),r,s);n.push(mB(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.ZG(n,!0)},n.Hw=function(t){return this.length&&t.length?this.HR(fB(t)):this},n.QR=function(t){return this.length?t.length?this.ZG(this.m0.concat(t.m0)):this:t},n.E0=function(t){for(var n=[],i=0,e=this.m0;i<e.length;i++)for(var r=0,s=e[i].OY;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.ZG(n)},n.iI=function(t){return this.E0(function(n){return t(n)?n:null})},n.R0=function(){if(!this.length)return this;for(var t=this.m0.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.I0(i,e)&&(t.splice(n,2,bB(i,e)),n-=1)}return this.ZG(t,!0)},n.I0=function(t,n){var i=t.OY,e=n.OY,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.N0(r,s)},n.p0=function(){var t=this.m0;t.sort(sB);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&wB(i,e,gB)&&(t.splice(n,2,bB(i,e)),n-=1)}},A(t,[{key:"length",get:function(){return this.m0.length}}]),t}(),RB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.ZG=function(t,i){return new n(t,i)},i.N0=function(t,n){return n.dk.iZ===t.dk.iZ&&n.dk.vY===t.dk.vY+1},n}(EB);function IB(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.D0(r),u=t.C0(r,s);i.push({SR:s.Nw(),RR:u.Nw(),dk:r})}return new RB(i).R0()}function NB(t){return t.O0!==AB.P0}function DB(t){return 0===t.O0}function CB(t){return t.O0>=0}function OB(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.OY(e);s<u.length;s++){var o=u[s];if(!r){var h=o.dk;if(sx(h)&&NB(h)){if((r=CB(h))&&!DB(h)){var a=t.x0(h,h.B0).Nw();o={SR:_.max(o.SR,a),RR:o.RR,dk:h}}}else r=!0;0}r&&i.push(o)}return new RB(i)}(TB=AB||(AB={})).P0=-1,TB.L0=-2,function(t){t.M0="h.264",t.U0="mp3",t.F0="aac-lc",t.H0="he-aac"}(SB||(SB={}));var PB,xB,BB,LB,MB=function(){function t(){this.z0=0,this.m0=[],this.tA={}}var n=t.prototype;return n.V0=function(t){this.m0=this.m0.concat(t.m0),this.z0+=t.sl},n.W0=function(t,n,i){var e=this.z0,r=i-n;r>0&&(this.m0.push({X0:n,q0:i,G0:r,Q0:e,Y0:t}),this.z0+=r)},n.cs=function(t){for(var n=0,i=this.m0;n<i.length;n++){var e=i[n];if(e.Q0<=t&&t<e.Q0+e.G0)return e.Y0[t+e.X0-e.Q0]}},n.j0=function(t,n){for(var i=n,e=0,r=this.m0;e<r.length;e++)for(var s=r[e],u=s.q0,o=s.X0;o<u;o+=1,i+=1)t[i]=s.Y0[o];return i},n.Z0=function(){for(var t=new y(this.z0),n=0,i=0,e=this.m0;i<e.length;i++)for(var r=e[i],s=r.q0,u=r.X0;u<s;u+=1,n+=1)t[n]=r.Y0[u];return t},n.ps=function(n){for(var i=new t,e=0,r=this.m0;e<r.length;e++){var s=r[e];i.W0(s.Y0,s.X0,s.q0)}return i.tA=n||ir({},this.tA),i},A(t,[{key:"sl",get:function(){return this.z0},set:function(t){var n=this.m0,i=this.z0-t;if(!(t>=this.z0))if(this.z0=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.G0)return r.q0-=i,r.G0-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.G0}else n.length=0}},{key:"ai",get:function(){for(var t=new Array(this.z0),n=0,i=0,e=this.m0;i<e.length;i++)for(var r=e[i],s=r.q0,u=r.X0;u<s;u+=1,n+=1)t[n]=r.Y0[u];return t}}]),t}();function UB(t,n){return{audio:t.audio?qB(t.audio,n):void 0,video:t.video?JB(t.video,n):void 0,J0:t.J0?(i=t.J0,{$0:i.$0,gJ:i.gJ,El:i.El,K0:i.K0,n1:i.n1,i1:i.i1,e1:i.e1.map(FB),Cl:[]}):void 0,s1:t.s1?t.s1.map(zB):t.s1,u1:t.u1.qm()};var i}function FB(t){return{Ap:t.Ap,tA:{o1:t.tA.o1,h1:t.tA.a1.qm()},LH:t.LH}}function HB(t){return{Ap:t.Ap,tA:{o1:t.tA.o1,a1:Yy(t.tA.h1)},LH:t.LH}}function zB(t){return{a1:t.a1.qm(),wb:t.wb,c1:t.c1,f1:t.f1,nr:t.nr,HX:t.HX,v1:t.v1,d1:t.d1}}function VB(t){return{a1:Yy(t.a1),wb:t.wb,c1:t.c1,f1:t.f1,nr:t.nr,HX:t.HX,v1:t.v1,d1:t.d1}}function WB(t){return{$0:t.$0,LH:[],l1:t.l1,_1:t._1,duration:t.duration,g1:t.g1,w1:t.w1.qm(),m1:t.m1,b1:t.b1.qm(),A1:t.A1,T1:t.T1.qm(),S1:t.S1.qm(),E1:t.E1.qm(),R1:t.R1.qm(),I1:t.I1.qm(),N1:t.N1.qm(),D1:t.D1.qm()}}function XB(t){return{$0:t.$0,LH:[],l1:t.l1,_1:t._1,duration:t.duration,g1:t.g1,w1:Yy(t.w1),m1:t.m1,b1:Yy(t.b1),A1:t.A1,T1:Yy(t.T1),S1:Yy(t.S1),E1:Yy(t.E1),R1:Yy(t.R1),I1:Yy(t.I1),N1:Yy(t.N1),D1:Yy(t.D1)}}function qB(t,n){switch(t.l1){case SB.F0:case SB.H0:return function(t,n){return ir({},QB(t),{l1:t.l1,LH:t.LH.map(function(t){return function(t,n){var i=(e=t.tA,ir({},tL(e),{C1:e.C1,O1:e.O1,P1:e.P1}));var e;return jB(t.ps(i),n)}(t,n)}),PZ:t.PZ,B1:t.B1})}(t,n);case SB.U0:return function(t,n){return ir({},QB(t),{l1:t.l1,LH:t.LH.map(function(t){return function(t,n){var i=(e=t.tA,ir({},tL(e),{Ip:e.Ip,sk:e.sk,L1:e.L1,M1:e.M1,U1:e.U1}));var e;return jB(t.ps(i),n)}(t,n)})})}(t,n)}}function GB(t){switch(t.l1){case SB.F0:case SB.H0:return function(t){return ir({},YB(t),{l1:t.l1,LH:t.LH.map(function(t){return function(t){var n=ZB(t),i=(e=n.tA,ir({},nL(e),{C1:e.C1,O1:e.O1,P1:e.P1}));var e;return n.ps(i)}(t)}),PZ:t.PZ,B1:t.B1})}(t);case SB.U0:return function(t){return ir({},YB(t),{l1:t.l1,LH:t.LH.map(function(t){return function(t){var n=ZB(t),i=(e=n.tA,ir({},nL(e),{Ip:e.Ip,sk:e.sk,L1:e.L1,M1:e.M1,U1:e.U1}));var e;return n.ps(i)}(t)})})}(t)}}function QB(t){return ir({},WB(t),{LH:[],l1:t.l1,F1:t.F1,H1:t.H1,z1:t.z1,V1:t.V1})}function YB(t){return ir({},XB(t),{LH:[],l1:t.l1,F1:t.F1,H1:t.H1,z1:t.z1,V1:t.V1})}function jB(t,n){var i=t.Z0();return n.push(i.buffer),{W1:i,X1:t.sl,q1:t.tA}}function ZB(t){var n=new MB;return n.W0(t.W1,0,t.X1),n.tA=t.q1,n}function JB(t,n){return ir({},WB(t),{l1:t.l1,LH:t.LH.map(function(t){return function(t,n){var i=(e=t.tA,ir({},$B(e),{d_:e.d_,G1:e.G1.qm(),Q1:e.Q1,Y1:e.Y1,j1:e.j1&&e.j1.qm(),Z1:e.Z1&&e.Z1.qm(),J1:e.J1,K1:e.K1,s1:e.s1,n2:e.n2}));var e;return jB(t.ps(i),n)}(t,n)}),i2:t.i2,e2:t.e2,Gk:t.Gk,width:t.width,height:t.height,s2:t.s2,u2:t.u2,o2:t.o2,RZ:t.RZ,IZ:t.IZ,ub:t.ub,ob:t.ob})}function $B(t){var n;return ir({},{o1:(n=t).o1,h1:n.h1.qm()},{h2:t.h2.qm(),a2:t.a2.qm()})}function KB(t){var n;return ir({},{o1:(n=t).o1,h1:Yy(n.h1)},{h2:Yy(t.h2),a2:Yy(t.a2)})}function tL(t){return ir({},$B(t))}function nL(t){return ir({},KB(t))}!function(t){t.c2="f2",t.v2="d2"}(PB||(PB={})),function(t){t.l2="_2",t.sY="g2"}(xB||(xB={})),function(t){t.w2="m2",t.v2="d2"}(BB||(BB={})),function(t){t.b2="A2",t.T2="S2"}(LB||(LB={}));var iL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(Ps),eL=["message","messageerror","error"],rL=function(t){function n(n){var i;return(i=t.call(this,yw.Sl)||this).error=n,i}return S(n,t),n}(Ps),sL=function(t){function n(n){var i;return(i=t.call(this)||this).E2=void 0,i.R2=void 0,i.I2=[],i.N2=function(t){if(i.D2)t.C2();else{i.E2=t,i.E2.Hr(eL,i.Ur);for(var n=0,e=i.I2;n<e.length;n++){var r=e[n];t.O2(r.Jr,r.P2)}as(i.I2)}},i.B2=function(t){if(!i.D2){var n=t instanceof v?t:new v("Could not create Worker.");i.Fr(new rL(n)),i.C2()}},i.R2=new ls,n(i.R2.xr).then(i.N2,i.B2),i}S(n,t);var i=n.prototype;return i.O2=function(t,n){this.D2||(void 0!==this.E2?this.E2.O2(t,n):this.I2.push({Jr:t,P2:n}))},i.C2=function(){this.D2||(this.R2.Cr(),as(this.I2),void 0!==this.E2&&this.E2.C2())},A(n,[{key:"D2",get:function(){return this.R2.xr.yr}}]),n}(Cs);var uL=function(t){function n(n){var i;return(i=t.call(this)||this).E2=void 0,i.L2=function(t){i.Fr(new iL("message",t.data))},i.M2=function(t){i.Fr(new iL("messageerror",t.data))},i.mW=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Fr(new rL(n)),i.C2()},i.E2=new p(n),i.E2.addEventListener("message",i.L2),i.E2.addEventListener("messageerror",i.M2),i.E2.addEventListener("error",i.mW),i}S(n,t);var i=n.prototype;return i.O2=function(t,n){n?this.E2.postMessage(t,n):this.E2.postMessage(t)},i.C2=function(){this.Wr(),this.E2.removeEventListener("message",this.L2),this.E2.removeEventListener("messageerror",this.M2),this.E2.removeEventListener("error",this.mW),this.E2.terminate()},n}(Cs),oL=0,hL="iframe.html",aL=function(n){function e(e,r){var u;(u=n.call(this)||this).Bo=void 0,u.U2=void 0,u.F2=void 0,u.H2=void 0,u.z2=function(){u.F2.removeEventListener("load",u.z2),u.F2.contentWindow.postMessage({type:"initialize",id:u.Bo,script:u.U2},"*")},u.V2=function(t){t.origin===u.H2&&t.data.id===u.Bo&&("initialized"===t.data.type||("error"===t.data.type?(u.Fr(new rL(new v(t.data.data.message))),u.C2()):u.Fr(new iL("message",t.data.data))))},u.Bo=oL++,u.U2=e;var o,h,a=i.Ce(hL,r);return u.F2=(o=a.href,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.H2=a.origin,u.F2.addEventListener("load",u.z2),t.addEventListener("message",u.V2),u}S(e,n);var r=e.prototype;return r.O2=function(t,n){n?this.F2.contentWindow.postMessage({type:"message",data:t},"*",n):this.F2.contentWindow.postMessage({type:"message",data:t},"*")},r.C2=function(){var n;this.F2.removeEventListener("load",this.z2),t.removeEventListener("message",this.V2),null==(n=this.F2.contentWindow)||n.postMessage({type:"terminate"},"*"),Ee(this.F2)},e}(Cs);function cL(t,n){return t=i.Oe(t,n),new sL(function(e){return function(t,n,e){var r,s,u,o,h,a,c,f;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new uL(t),v.next=4,nr.awrap(vL(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.C2(),ms(v.t0);case 11:if(!fL||!wc){v.next=42;break}return v.prev=12,v.next=15,nr.awrap(i.pd.Bf({Mf:t,tv:ql.GET,Of:pc.Pn,xr:e}));case 15:return o=v.sent,v.next=18,nr.awrap(o.lf(e));case 18:u=v.sent,v.next=25;break;case 21:throw v.prev=21,v.t1=v.catch(12),ms(v.t1),dL(v.t1);case 25:return v.prev=25,a=wc([u],{type:"application/javascript"}),h=URL.createObjectURL(a),r=new uL(h),v.next=31,nr.awrap(vL(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.C2(),ms(v.t2),fL=!1;case 39:return v.prev=39,h&&URL.revokeObjectURL(h),v.finish(39);case 42:return v.prev=42,r=new aL(t,n),v.next=46,nr.awrap(vL(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.C2(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],we)}(t,n,e)})}var fL=!0;function vL(t,i){var e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(t.Yr(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw dL(e.error);case 5:if(W(s=e.data)&&"3.5.0"===s.W2){r.next=7;break}throw new Ka(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (3.5.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s},null,null,null,we)}function dL(t){return new Ka(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}function lL(t){var n=t.video,i=n&&n.LH;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].tA.J1)return e}return NaN}function _L(t){var n=t.X2.video,i=n&&n.LH;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].tA.J1)return e}return NaN}function gL(t){if(!t)return null;switch(t.l1){case SB.M0:return function(t){return t.Gk?"avc1."+(t.s2<16?"0":"")+((t.s2<<16)+(t.u2<<8)+t.o2).toString(16):null}(t);case SB.U0:return"mp4a.40.34";case SB.F0:return t.B1?"mp4a.40.5":"mp4a.40.2";case SB.H0:return"mp4a.40.5";default:return null}}function wL(t,n){var i=t.info,e=i.iZ,r=t.X2,s=e.BY(t.info.vY-1),u=r.audio||void 0,o=r.video||void 0,h=u&&gL(u),a=o&&gL(o),c=(!u||h)&&(!o||a)?{xj:h,Bj:a}:null,f=u&&!m(u.A1)?u.A1:null,v=o&&!m(o.A1)?o.A1:null,d=rp(u&&u.S1,o&&o.S1),l=rp(u&&u.E1,o&&o.E1),g=sp(u&&u.N1,o&&o.N1),w=sp(u&&u.D1,o&&o.D1),y=o&&o.w1.Lg(Gy.Pm(o.duration)),p=u&&u.w1.Lg(Gy.Pm(u.duration)),k=sx(s),b=k&&s.width||e.resolution&&e.resolution.width,A=k&&s.width||e.resolution&&e.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),q2:i,duration:y&&p?Gy.Em(y,p).Nw():(y||p||Gy.jw).Nw(),G2:d,Q2:l,Y2:g,j2:w,audio:{start:_.max(0,f||0),duration:u&&u.g1||0,l1:h,c$:u&&u.m1,G2:u&&u.S1,Q2:u&&u.E1,Y2:u&&u.N1,j2:u&&u.D1},video:{start:_.max(0,v||0),duration:o&&o.g1||0,l1:a,c$:o&&o.m1,G2:o&&o.S1,Q2:o&&o.E1,Y2:o&&o.N1,j2:o&&o.D1},yB:o?{width:o.width||b,height:o.height||A}:null,vY:i.vY,size:n,quality:e,FZ:c,Z2:i.Z2,J2:i.J2}}function mL(t,n){var i,e,r,s,u={start:0,duration:0,l1:null,c$:null,G2:null,Q2:null,Y2:null,j2:null};return"xj"===n?(e=u,r=i=ir({},u,t.video),s=t.yB):(e=i=ir({},u,t.audio),r=u,s=null),{start:i.start,q2:t.q2,duration:i.duration,G2:i.G2,Q2:i.Q2,Y2:i.Y2,j2:i.j2,audio:e,video:r,yB:s,vY:t.vY,size:t.size,quality:t.quality,FZ:t.FZ,Z2:t.Z2,J2:t.J2}}function yL(t,n){return t+"K2"+n.vY+"n3"+n.uri}var pL=function(t){function i(i){var e;return(e=t.call(this)||this).Ch=void 0,e.i3=rr(),e.e3=void 0,e.r3=void 0,e.s3=function(t){var n=t.data,i=n.u3;if(e.i3.get(i))switch(n.o3){case xB.l2:0;var r=n.h3;e.a3(i,r);break;case xB.sY:var s=n.c3;e.f3(i,new HP(FP.nY,{code:s}));default:0}},e.v3=function(t){var n,i,r,s,u=t.data,o=u.d3;if(e.i3.get(o))switch(u.l3){case LB.b2:0;var h=u._3;e.g3(o,{audio:(n=h).audio?GB(n.audio):void 0,video:n.video?(r=n.video,s=XB(r),ir({},s,{l1:r.l1,LH:r.LH.map(function(t){return function(t){var n,i=ZB(t),e=ir({},KB(n=i.tA),{d_:n.d_,G1:Yy(n.G1),Q1:n.Q1,Y1:n.Y1,j1:n.j1&&Yy(n.j1),Z1:n.Z1&&Yy(n.Z1),J1:n.J1,K1:n.K1,s1:n.s1,n2:n.n2});return i.ps(e)}(t)}),i2:r.i2,e2:r.e2,Gk:r.Gk,width:r.width,height:r.height,s2:r.s2,u2:r.u2,o2:r.o2,RZ:r.RZ,IZ:r.IZ,ub:r.ub,ob:r.ob})):void 0,J0:n.J0?(i=n.J0,{$0:i.$0,gJ:i.gJ,El:i.El,K0:i.K0,n1:i.n1,i1:i.i1,e1:i.e1.map(HB),Cl:[]}):void 0,s1:n.s1?n.s1.map(VB):n.s1,u1:Yy(n.u1)});break;case LB.T2:var a=u.w3;e.f3(o,new HP(FP.nY,{code:a}));default:0}},e.m3=function(t){if(t.error instanceof Ka&&t.error.code===n.ErrorCode.CONFIGURATION_ERROR){var i={type:"ts",ts:new HP(FP.aY,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ut(i.ts.info.code),e.dispatchEvent(i)}else 0},e.Ch=i,e.r3=e.y3(),e}S(i,t);var e=i.prototype;return e.Cr=function(t){var n=[];this.i3.forEach(function(i,e){t&&i.rk!==t||n.push(e)}),this.b3(n)},e.b3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.i3.delete(i)}if(t.length){if(this.e3){var e={A3:PB.v2,T3:t};this.e3.O2(e)}if(this.r3){var r={S3:BB.v2,E3:t};this.r3.O2(r)}}},e.f3=function(t,n){var i=this.i3.get(t);if(i){var e=i.mC;this.i3.delete(t),e(n)}},e.R3=function(t,n,i,e){this.e3||(this.e3=this.I3());var r={A3:PB.c2,N3:t,D3:n,C3:i,O3:e};this.e3.O2(r)},e.P3=function(t,n){this.r3||(this.r3=this.y3());var i={S3:BB.w2,x3:t,B3:n,L3:this.i3.get(t).M3};this.r3.O2(i)},e.a3=function(t,n){this.P3(t,n)},e.I3=function(){var t=cL("theoplayer.d.js",this.Ch.libraryLocation);return t.Hr("message",this.s3),t.Hr("error",this.m3),t},e.U3=function(t){var n=t.X2.video,i=n&&n.LH&&n.LH[0];i&&i.tA.J1},e.g3=function(t,n){var i=this.i3.get(t),e=i.mC,r=i.F3,s={X2:n,info:i.H3,metadata:null};this.U3(s),function(t){var n=t.info.iZ.BY(t.info.vY-1),i=t.X2;t.info.J2=t.info.LY,n&&(i.audio||i.video?i.video&&!i.video.e2&&!i.video.i2&&i.video.m1&&n.VZ&&i.video.m1!==n.VZ?t.info.J2=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.J2=!0):t.info.J2=!0)}(s),wL(s,r),function(t){var n=t.info,i=n.iZ,e=t.metadata,r=t.X2;if(n.z3=Gy.Pm(e.duration),n.oj=r.audio&&r.audio.w1.Lg(Gy.Pm(r.audio.duration))||Gy.jw,n.hj=r.video&&r.video.w1.Lg(Gy.Pm(r.video.duration))||Gy.jw,n.V3=r.audio&&r.audio.w1||Gy.jw,n.W3=r.video&&r.video.w1||Gy.jw,n.X3=e.audio.G2,n.q3=e.audio.Q2,n.G3=e.video.G2,n.Q3=e.video.Q2,n.uj=e.G2,n.Y3=e.Q2,n.j3=e.audio.Y2,n.Z3=e.audio.j2,n.J3=e.video.Y2,n.K3=e.video.j2,n.Y2=e.Y2,n.j2=e.j2,r.video){var s=lL(t.X2),u=r.video.LH&&r.video.LH[s];u?(n.O0=s,n.B0=u.tA.h2,n.t4=u.tA.a2):n.O0=AB.L0}else n.O0=AB.P0;n.VZ=r.video&&r.video.m1||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"$Z",H3:t.info}),!i.resolution&&e.yB&&(i.resolution=e.yB),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.FZ||i.FZ&&!i.FZ.xj==!e.FZ.xj&&!i.FZ.Bj==!e.FZ.Bj||i.LZ(e.FZ),r.audio&&void 0!==r.audio.PZ&&(i.PZ=r.audio.PZ),i.RZ=r.video&&r.video.RZ||i.RZ,i.IZ=r.video&&r.video.IZ||i.IZ,i.NZ=r.audio&&r.audio.$0||void 0,i.DZ=r.video&&r.video.$0||void 0,i.CZ=r.audio&&r.audio.l1||void 0,i.OZ=r.video&&r.video.l1||void 0,i.xZ=r.audio&&r.audio.m1||void 0,i.VZ=r.video&&r.video.m1||void 0}(s),this.i3.delete(t),e(null,s)},e.y3=function(){var t=cL("theoplayer.e.js",this.Ch.libraryLocation);return t.Hr("message",this.v3),t.Hr("error",this.m3),t},e.n4=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.i3.has(n)&&r.R3(n,s,t,e.iv)}).catch(function(t){i=void 0,r.i3.has(n)&&r.f3(n,t)})},e.i4=function(t,n,i,e,r,s){var u=yL(t,e),o=e.iZ;this.i3.set(u,{rk:t,H3:e,M3:{e4:e.duration,FZ:o.FZ,RZ:o.RZ,IZ:o.IZ,NZ:o.NZ,DZ:o.DZ,CZ:o.CZ,OZ:o.OZ,PZ:!this.Ch.skipImplicitHEAACDetection&&o.PZ,r4:r},F3:i.length,mC:s}),e.key?this.n4(n,u,i,e.key):this.P3(u,i)},e.s4=function(t){var n=[];return this.i3.forEach(function(i){i.rk===t&&n.push(i.H3)}),n},e.u4=function(t,n){var i=yL(t,n);return this.i3.has(i)},e.hv=function(){this.Cr(),this.e3&&(this.e3.C2(),this.e3=void 0),this.r3&&(this.r3.C2(),this.r3=void 0)},i}(MP);function kL(t,n){return t+"o4"+n}function bL(t){return kL(t.iZ._l,t.vY)}function AL(t){return!(!t||!t.X2)}var TL=function(){function t(t,n,i){this.h4=void 0,this.jb=void 0,this.a4=[],this.c4=rr(),this.f4=1,this.v4=void 0,this.jb=t,this.h4=n,this.v4=i}var n=t.prototype;return n.d4=function(t){var n=bL(t.info);if(this.c4.has(n))this.l4(t.info,t);else{this.a4.push(n),this.c4.set(n,t);for(var i=this.h4._4+10;this.a4.length>8*this.g4&&this.w4>i*this.g4;){var e=this.c4.get(this.a4[0]),r=this.v4.m4,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,h=new dS([u,o]),a=r,c=a+this.h4._4;if(new dS([a,c]).HR(h).sl>0)break}this.c4.delete(this.a4.shift())}}},n.y4=function(t,n){var i=kL(t,n),e=this.c4.get(i),r=this.a4.indexOf(i);return!(!e||-1===r)&&(os(this.a4,r),this.c4.delete(i),!0)},n.ds=function(){this.a4.length=0,this.c4.clear()},n.b4=function(){for(var t={},n=0,i=this.a4;n<i.length;n++){var e=i[n],r=this.c4.get(e);AL(r)&&(t[r.info.iZ._l]=(t[r.info.iZ._l]||0)+1)}return t},n.A4=function(t,n){var i=[],e=this.T4(t,n);if(!AL(e))return i;do{i.push(e),n+=1,e=this.T4(t,n)}while(AL(e));return i},n.S4=function(t,n){return!!this.T4(t,n)},n.E4=function(t,n){return AL(this.T4(t,n))},n.T4=function(t,n){return this.c4.get(kL(t,n))},n.l4=function(t,n){var i=bL(t),e=this.a4.indexOf(i);return-1!==e&&(os(this.a4,e),this.a4.push(i),n&&this.c4.set(i,n),!0)},n.R4=function(){for(var t=[],n=0,i=this.a4;n<i.length;n++){var e=i[n],r=this.c4.get(e);t.push(r.info)}return t},n.I4=function(){for(var t=[],n=0,i=this.a4;n<i.length;n++){var e=i[n],r=this.c4.get(e);r&&AL(r)&&t.push(r.info)}return t},A(t,[{key:"w4",get:function(){for(var t=IB(this.jb,this.R4()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"g4",get:function(){return this.f4},set:function(t){t>0&&(this.f4=_.max(t,1))}}]),t}();var SL=L.dn?function(t,n){return ep(t.h2,n.h2)}:function(t,n){return ep(t.a2,n.a2)};function EL(t,n,i,e){if(!t)return i;if(!i)return t;if(t.l1===i.l1){var r,s,u=t.i2||i.i2;if(u)s=1/(r=t.b1.Lg(i.b1).ym(2)).Nw();else{if(t.m1!==i.m1)return;if(!t.b1.mw(i.b1))return;r=t.b1,s=t.m1}if(t.width===i.width&&t.height===i.height){var o,h=t.e2||i.e2||!t.b1.mw(i.b1);if(t.LH)if(i.LH)if(e)o=t.LH.concat(i.LH),RL(t.LH,i.LH,NL);else{!function(t,n,i){var e=t.length,r=Gy.jw;t=Zr(t,function(t,n){return SL(t.tA,n.tA).Cw(Gy.jw)});for(var s=1;s<e;s+=1){var u=t[s-1].tA,o=t[s].tA,h=SL(o,u);h.xw(Gy.jw)&&(h=n),r=r.Lg(h),u.G1=h,u.d_=h.Nw()}if(e>0){var a=t[e-1].tA,c=Gy.Sm(Gy.Pm(_.round(i-r.Nw())),n);a.G1=c,a.d_=c.Nw()}}(n.LH.concat(i.LH),r,n.duration+i.duration),o=t.LH.concat(i.LH),RL(t.LH,i.LH,NL)}else o=t.LH;else o=i.LH;return{l1:t.l1,s2:t.s2,o2:t.o2,u2:t.u2,m1:s,b1:r,i2:u,e2:h,width:t.width,height:t.height,RZ:t.RZ,IZ:t.IZ,Gk:t.Gk,duration:t.duration+i.duration,g1:t.g1+i.g1,w1:t.w1,A1:t.A1,T1:t.T1,S1:t.S1,E1:t.E1,R1:CL(i.R1,t.R1),I1:CL(i.I1,t.I1),N1:CL(i.N1,t.N1),D1:CL(i.D1,t.D1),LH:o,_1:t._1||i._1,ub:t.ub,ob:t.ob}}}}function RL(t,n,i){var e=n[0].tA.h1,r=t[t.length-1].tA.h1,s=e.Hw(r),u=ep(e,r).Hw(s);if(!u.tm())for(var o=0;o<n.length;o++){i(n[o].tA,u)}}function IL(t,n){t.a2=t.a2.Lg(n),t.h2=t.h2.Lg(n),t.h1=t.h1.Lg(n)}function NL(t,n){IL(t,n),t.G1=t.G1.Lg(n),t.Z1=DL(t.Z1,n),t.j1=DL(t.j1,n)}function DL(t,n){if(t)return t.Lg(n)}function CL(t,n){return n.Lg(ep(t,n))}function OL(t,n){var i={audio:void 0,video:void 0,u1:t.u1};if("video"===n){if(!t.audio)return i;i.audio={l1:t.audio.l1,m1:t.audio.m1,b1:t.audio.b1,duration:t.audio.duration,g1:t.audio.g1,w1:Gy.jw,A1:t.audio.A1,T1:t.audio.T1,S1:t.audio.S1,E1:t.audio.E1,R1:t.audio.R1,I1:t.audio.I1,N1:t.audio.N1,D1:t.audio.D1,LH:t.audio.LH,V1:t.audio.V1,z1:t.audio.z1,_1:t.audio._1,F1:t.audio.F1,H1:t.audio.H1}}if("audio"===n){if(!t.video)return i;i.video={l1:t.video.l1,s2:t.video.s2,o2:t.video.o2,u2:t.video.u2,m1:t.video.m1,b1:t.video.b1,i2:t.video.i2,e2:t.video.e2,width:t.video.width,height:t.video.height,RZ:t.video.RZ,IZ:t.video.IZ,ub:t.video.ub,ob:t.video.ob,Gk:t.video.Gk,duration:t.video.duration,g1:t.video.g1,w1:Gy.jw,A1:t.video.A1,T1:t.video.T1,S1:t.video.S1,E1:t.video.E1,R1:t.video.R1,I1:t.video.I1,N1:t.video.N1,D1:t.video.D1,LH:t.video.LH,_1:t.video._1}}return i}function PL(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.l1===n.l1||!t.l1||!n.l1)&&t.m1===n.m1&&t.b1.mw(n.b1)&&t.z1===n.z1)return t.LH?n.LH?(i=t.LH.concat(n.LH),RL(t.LH,n.LH,IL)):i=t.LH:i=n.LH,{l1:t.l1,m1:t.m1,b1:t.b1,duration:t.duration+n.duration,g1:t.g1+n.g1,w1:t.w1,A1:t.A1,T1:t.T1,S1:t.S1,E1:t.E1,R1:CL(n.R1,t.R1),I1:CL(n.I1,t.I1),N1:CL(n.N1,t.N1),D1:CL(n.D1,t.D1),LH:i,z1:t.z1,V1:t.V1,_1:t._1||n._1,F1:t.F1,H1:t.H1}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=EL(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,u1:t.u1}}}function xL(t){return OL(t,"audio")}function BL(t){return OL(t,"video")}var LL,ML,UL,FL=function(){function t(t){this.N4=void 0,this.UG=0,this.D4=0,this.N4=_.exp(_.log(.5)/t)}var n=t.prototype;return n.C4=function(t,n){var i=_.pow(this.N4,t),e=n*(1-i)+i*this.UG;m(e)||(this.UG=e,this.D4+=t)},n.O4=function(){var t=1-_.pow(this.N4,this.D4);return this.UG/t},t}(),HL=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.P4=void 0,this.x4=void 0,this.B4=0,this.L4=void 0,this.M4=5e5,this.P4=new FL(t),this.x4=new FL(n),this.L4=i}var n=t.prototype;return n.C4=function(t,n){var i=8e3*n/t,e=t/1e3;this.B4+=n,this.P4.C4(e,i),this.x4.C4(e,i)},n.O4=function(){return this.U4()?_.min(this.P4.O4(),this.x4.O4()):this.M4},n.U4=function(){return this.B4>=this.L4},t}(),zL=function(){function t(){this.P4=new FL(2),this.x4=new FL(5),this.F4=0,this.H4=1,this.M4=100}var n=t.prototype;return n.C4=function(t){this.F4+=1,this.P4.C4(1,t),this.x4.C4(1,t)},n.O4=function(){return this.U4()?_.min(this.P4.O4(),this.x4.O4()):this.M4},n.U4=function(){return this.F4>=this.H4},t}(),VL=function(){function t(t,n){var i=this;this.z4=void 0,this.Bf=void 0,this.zK=void 0,this.V4=!1,this.W4=0,this.X4=0,this.q4=function(){return i.G4()},this.z4=t,this.Bf=n,this.zK=n.zK,this.zK.addEventListener("Zo",this.q4)}return t.prototype.G4=function(){var t=this.zK.u0,n=1e3*this.zK.c0,i=1e3*this.zK.a0;this.zK.X$&&(this.V4||(this.z4.Q4(i),this.V4=!0),n>this.X4&&(this.z4.Y4(n-this.X4,t-this.W4),this.W4=t,this.X4=n))},t}(),WL=function(){function t(){this.j4=void 0,this.Z4=void 0,this.j4=new HL,this.Z4=new zL}var n=t.prototype;return n.J4=function(t){new VL(this,t)},n.Y4=function(t,n){this.j4.C4(t,n)},n.Q4=function(t){this.Z4.C4(t)},n.hv=function(){},A(t,[{key:"K4",get:function(){return this.Z4.O4()/1e3}},{key:"t6",get:function(){return this.j4.O4()}}]),t}(),XL=function(){function t(){this.n6=rr()}var n=t.prototype;return n.i6=function(t,n){var i,e,r=this.n6.get(t);return void 0!==r&&(i=r.rj,e=n,X(i)?i===e:function(t,n){return t.rj===n.rj&&t.sj.SR===n.sj.SR&&t.sj.RR===n.sj.RR}(i,e))},n.e6=function(t,n){if(this.i6(t,n))return this.n6.get(t).ai},n.r6=function(t,n,i){this.n6.set(t,{rj:n,ai:i})},n.ds=function(){this.n6.clear()},t}();!function(t){t[t.s6=0]="s6",t[t.u6=5]="u6",t[t.o6=13]="o6",t[t.h6=14]="h6",t[t.a6=15]="a6"}(LL||(LL={})),function(t){t[t.c6=0]="c6",t[t.f6=1]="f6",t[t.v6=2]="v6",t[t.d6=11]="d6",t[t.l6=13]="l6",t[t._6=14]="_6"}(ML||(ML={})),function(t){t[t.g6=0]="g6",t[t.w6=1]="w6",t[t.m6=2]="m6",t[t.y6=3]="y6",t[t.p6=4]="p6",t[t.k6=5]="k6",t[t.b6=6]="b6",t[t.A6=7]="A6"}(UL||(UL={}));var qL=5,GL=5,QL=.5;function YL(t){if(!t.X2.video)return[];for(var n=[],i=0;i<t.X2.video.LH.length;i++){var e=t.X2.video.LH[i].tA;e.J1&&n.push({T6:i,S6:e.h2})}return n}var jL=Gy.Pm(.04),ZL=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).h4=void 0,s.Ch=void 0,s.E6=void 0,s.mA=void 0,s.R6=void 0,s.I6=void 0,s.N6=void 0,s.D6=rr(),s.C6=void 0,s.O6=rr(),s.P6=1,s.Ch=n,s.E6=i,s.mA=e,s.R6=new XL,s.h4=r,s.I6=new iB(e,n),s.N6=new WL,s.C6=new pL(n),s.C6.addEventListener("ts",function(t){s.dispatchEvent(t)}),s}S(n,t);var i=n.prototype;return i.x6=function(t){this.C6.Cr(t),this.I6.ds(!1,t)},i.ds=function(t){this.x6(t),t?this.D6.get(t).ds():this.D6.forEach(function(t){return t.ds()})},i.hv=function(){this.Wr(),this.I6.ds(),this.D6.forEach(function(t){return t.ds()}),this.D6.clear(),this.C6.hv()},i.$d=function(t,n,i){if(!this.D6.has(t)){var e=new TL(n,this.h4,i);e.g4=this.g4,this.D6.set(t,e)}},i.B6=function(t,n,i){var e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=String(n._l),!this.R6.i6(e,i)){u.next=3;break}return u.abrupt("return",this.R6.e6(e,i));case 3:return r=fx(n.HZ),u.t0=y,u.next=7,nr.awrap(this.I6.w0(t,i,pc.za,Ql.Wf,r));case 7:return u.t1=u.sent,s=new u.t0(u.t1),this.R6.r6(e,i,s),u.abrupt("return",s);case 11:case"end":return u.stop()}},null,this,null,we)},i.L6=function(t,n,i,e){var r=this.D6.get(t),s=r.T4(n.iZ._l,n.vY);if(r.E4(n.iZ._l,n.vY))r.l4(n),this.dispatchEvent({type:"M6",rk:t,U6:s});else{if(!s)return this.F6(t,n,i,e);r.l4(n),this.H6(t,n,i,s.z6)}return e&&e(),null},i.F6=function(t,n,i,e){var r=this,s=this.D6.get(t),u=function(t,n){return t+"V6"+n.vY+"n3"+n.uri}(t,n);if(this.O6.has(u))return null;this.O6.set(u,!0);var o=fx(n.iZ.HZ),h=this.I6.Yo(t,n.uri,pc.za,Ql.Ff,o,function(o,a){return r.O6.delete(u),o?e&&e(o):(r.dispatchEvent({type:"W6",rk:t}),s.E4(n.iZ._l,n.vY)||s.d4({info:n,z6:h.kv}),r.L6(t,n,i),e&&e(o,a))});return this.N6.J4(h),h},i.H6=function(t,n,i,e){var r=this,s=this.D6.get(t);this.C6.u4(t,n)||(n&&n.key&&this.E6.getKey(n.key).catch(j),this.C6.i4(t,this.E6,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"ts",ts:n});s.d4(i),r.dispatchEvent({type:"M6",rk:t,U6:i})}))},i.X6=function(t,n,i){var e=i.length,r="xj"===t?$L:KL;if(!JL(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.J2){if("q6"===this.Ch.G6||r(u,o)){var h=i.splice(0,s);return JL(n,h)?h:this.X6(t,n,i)}0}}return i},i.Q6=function(t,n,i,e){for(var r=this.D6.get(t).I4(),s=e.Y6,u=function(t){var e=i[t],u=r.filter(function(t){return t.iZ===e}),o=IB(n,u),h=o.k0(s.Nw(),jL.Nw());if(h>=0&&Gy.Pm(o.end(h)).Hw(s).Ow(jL))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.j6=function(t,n,i,e,r){if(!L.an)return!0;if(r.Z6||this.Q6(t,n,i,r))return!0;var s=Gy.Sm(e,r.J6);return r.Y6.Hw(s).Ow(Gy.Pm(2))},i.K6=function(t,n,i,e,r,s,u,o){var h=n.A4(r._l,s),a=this.X6(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=e.D0(f.info),d=vM(t,e,f);if("Bj"!==t||function(t,n,i){return!!t&&t.dk.iZ===n&&i.Ow(Gy.Pm(t.RR))&&i.xw(Gy.Pm(t.RR).Lg(jL))}(i,r,d))return{OY:a,t5:Gy.Em(v,d)};f.X2.video&&(f=(a=sM(a,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=YL(o),a=0;a<h.length;a++){var c=h[a];if(n.x0(o.info,c.S6).Dw(i.Hw(e)))return{n5:r,i5:s};r=u,s=c.T6}return{n5:r,i5:s}}(a,e,u,o)))[0]);if(d=vM(t,e,f),function(t){var n=t.X2.video,i=n&&n.LH,e=i&&i[0],r=e&&e.tA.J1;if(!n)return!0;return!!r}(f))return{OY:a,t5:Gy.Em(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=lL(t[n].X2);if(!m(i))return{n5:n,i5:i}}return null}(a),_=Gy.Sm(u,aM(t,e,r.BY(s)));if(f.info.vY===s){if(l&&(d=vM(t,e,(c=sM(a,l))[0]),_.Hw(d).Ow(o)))return{OY:c,t5:Gy.Em(v,d)};for(var g=s-1;n.E4(r._l,g);){var w=n.A4(r._l,g);if((f=(c=this.X6(t,s,w))&&c[0]&&rM(c[0],_L(c[0])))&&(d=vM(t,e,f),_.Hw(d).Ow(o)))return c[0]=f,{OY:c,t5:Gy.Em(v,d)};g-=1}}return function(t){if(t.LY)return!1;var n=t.iZ;if(n.xY&&n.xY.live)return!1;if(!n.BY(t.vY-1))return!1;return!0}(a[0].info)?null:l?{OY:a=sM(a,l),t5:v}:null},i.e5=function(t,n,i,e,r,s,u,o,h,a,c){var f=s.r5(o,h,n),v=f&&f.dk;if(!v)return null;var d=v.vY;do{var l=d,_=o.BY(l),g=aM(n,s,_);if(!cM(n,s,_).Lw(h)||_.Z2){if(g.Lg(jL).Dw(a))break;if(Gy.Sm(Gy.jw,h.Hw(g)).Lw(c)&&i.E4(o._l,l-1)&&i.E4(o._l,l))i.T4(o._l,l).metadata.J2||(l-=1);var w=this.s5(t,n,i,e,r,s,u,o,l,h,c);if(w&&(eM(w,h,a)||w.Z6))return w}}while(i.E4(o._l,++d));return null},i.s5=function(t,n,i,e,r,s,u,o,h,a,c){var f=o.BY(h),v=this.K6(n,i,e,s,o,h,a,c),d=v&&v.OY,l=v&&v.t5,g=d&&d[d.length-1],w=g&&g.metadata.Z2;if(!(d=function(t,n){if(!n||!n.length)return n;var i="xj"===t?tM:nM;return n.map(i).filter(iM)}(n,d))||!d.length){if(w){var m=[],y=s.D0(g.info);return m.u5=y,m.o5=y,m.J6=y,m.h5=y,m.Y6=y,m.Z6=w,m}return null}var p=d="Bj"===n?function(t,n,i){var e=i[0].X2.video;return i[0].info.LY?function(t,n,i,e){var r=ss(e.LH,function(t){return t.tA.J1});if(r<0)return i;var s=e.LH[r].tA,u=n.x0(i[0].info,s.h2),o=dM(t,u);if(o.zw())return i;var h=u.Hw(o).Rm(jy,Vy.Xm);if(h.xw(Gy.jw))return i;var a=gM(e.LH.slice(r),h);return i[0]=oM(i[0],a),i}(t,n,i,e):function(t,n,i,e){var r=e.b1._m(qL),s=e.LH[0].tA,u=n.x0(i[0].info,s.a2),o=lM(t,u,r);if(o.zw())return i;var h=u.Hw(o).Rm(jy,Vy.Xm);if(h.xw(Gy.jw)||h.Dw(r))return i;var a=gM(e.LH,h);return i[0]=oM(i[0],a),i}(t,n,i,e)}(r,s,d):function(t,n,i){var e;if((null==(e=i[0].X2.audio)?void 0:e.l1)===SB.U0)return i;var r=i[0].X2.audio,s=r.LH[0].tA;return i[0].info.LY?function(t,n,i,e,r){var s=n.x0(i[0].info,r.h2),u=dM(t,s);if(u.zw())return i;var o=s.Hw(u).Nw(),h=_.floor(o/e.b1.Nw());if(h<=0)return i;var a=_M(e,h);return i[0]=uM(i[0],a),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.x0(i[0].info,r.a2),u=lM(t,s,e.b1._m(GL));if(u.zw())return i;var o=s.Hw(u).Nw(),h=_.round(o/e.b1.Nw());if(0===h||_.abs(h)>GL)return i;var a=_M(e,h);return i[0]=uM(i[0],a),i}(t,n,i,r,s)}(r,s,d),k=p[0];if(f.vY<k.info.vY&&(l=s.D0(f)),p.u5=l,p.o5=function(t,n,i){return n.x0(i.info,fM(t,i).Q2)}(n,s,k),p.J6=vM(n,s,k),p.h5=function(t,n,i){return n.x0(i.info,fM(t,i).j2)}(n,s,p[p.length-1]),p.Y6=function(t,n,i){return n.x0(i.info,fM(t,i).Y2)}(n,s,p[p.length-1]),p.Z6=w,!this.j6(t,s,u,a,p))return null;var b=k.X2.video;return!b||(b.RZ=b.RZ||o.RZ,b.IZ=b.IZ||o.IZ,b.RZ&&b.IZ)?p:null},i.a5=function(t,n,i,e,r,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.e5(t,n,i,e,r,s,u,v,o,h,a);d&&(c&&!d.J6.Lw(c.J6)||(c=d))}return c},i.c5=function(t,n,i,e,r,s,u,o,h){for(var a=Gy.Pm(u),c=Gy.Pm(o),f=Gy.Pm(h),v=this.D6.get(t),d=new uB([{SR:a.Nw(),RR:a.Lg(c).Nw()}]),l=r.HR(d),_=function(t){if(0===t.length)return null;var n=t.OY(t.length-1),i=n[n.length-1];if(!i.dk.f5)return null;return i}(r),g=cB(fB(l),d),w=0;w<g.length;w++){var m=Gy.Pm(g.start(w)),y=Gy.Pm(g.end(w)),p=wM(l,m,y),k=m.Lg(p).Rm(jy,Vy.Xm),b=y.Rm(jy,Vy.Xm);if(k.Lw(b)){if(_&&k.Ow(Gy.Pm(_.RR)))continue;var A=this.a5(t,n,v,s,r,i,e,k,b,f);if(A)return A}}return null},i.I4=function(t){return this.D6.get(t).I4()},i.s4=function(t){return this.C6.s4(t)},A(n,[{key:"g4",get:function(){return this.P6},set:function(t){t>0&&(this.P6=t,this.D6.forEach(function(n){return n.g4=t}))}},{key:"K4",get:function(){return this.N6.K4}},{key:"t6",get:function(){return this.N6.t6}}]),n}(MP);function JL(t,n){for(var i=0;i<n.length;i++){if(n[i].info.vY===t)return!0}return!1}function $L(t,n){return t.metadata.audio.l1!==n.metadata.audio.l1||(t.metadata.audio.c$!==n.metadata.audio.c$||(!(!t.X2.audio||!n.X2.audio||t.X2.audio.z1===n.X2.audio.z1)||!np(t.metadata.audio.G2,t.metadata.audio.Q2).mw(np(n.metadata.audio.Y2,n.metadata.audio.j2))))}function KL(t,n){return t.metadata.video.l1!==n.metadata.video.l1||(!(!t.metadata.yB||!n.metadata.yB||t.metadata.yB.height===n.metadata.yB.height&&t.metadata.yB.width===n.metadata.yB.width)||(!(!n.X2.video||n.X2.video.e2||t.metadata.video.c$===n.metadata.video.c$)||np(t.metadata.video.G2,t.metadata.video.Q2)!==np(n.metadata.video.Y2,n.metadata.video.j2)))}function tM(t){return t.X2.video&&(t={X2:BL(t.X2),info:t.info,metadata:mL(t.metadata,"Bj")}),t}function nM(t){return t.X2.audio&&(t={X2:xL(t.X2),info:t.info,metadata:mL(t.metadata,"xj")}),t}function iM(t){return Boolean(t&&(t.X2.audio||t.X2.video))}function eM(t,n,i){var e=Gy.Sm(n,t.J6),r=Gy.Em(i,t.Y6),s=jL;return L.$t&&(e.xw(t.J6)?s=s.Lg(t.J6).Hw(t.o5):r.Ow(t.Y6)&&(s=s.Lg(t.Y6).Hw(t.h5))),r.Hw(e).Ow(s)}function rM(t,n){return m(n)?null:0===n?t:oM(t,t.X2.video.LH.slice(n))}function sM(t,n){return(t=t.slice(n.n5))[0]=rM(t[0],n.i5),t}function uM(t,n){var i={info:t.info,X2:{audio:BL(t.X2).audio,video:null,u1:t.X2.u1},metadata:null},e=i.X2.audio;e.LH=n;var r=n[0].tA;return e.T1=r.h1,e.A1=e.T1.Nw(),hM(e,i.X2.u1,e.b1),wL(i,t.metadata.size),i.metadata=mL(i.metadata,"Bj"),i}function oM(t,n){var i={info:t.info,X2:{audio:null,video:xL(t.X2).video,u1:t.X2.u1},metadata:null},e=i.X2.video;e.LH=n;var r=n[0].tA;e.T1=r.h1,e.A1=e.T1.Nw();var s=n[n.length-1].tA.G1;return hM(e,i.X2.u1,s),wL(i,t.metadata.size),i.metadata=mL(i.metadata,"xj"),i}function hM(t,n,i){for(var e=Gy.Bm,r=Gy.Bm,s=Gy.Lm,u=Gy.Lm,o=0,h=t.LH;o<h.length;o++){var a=h[o].tA;e=Gy.Em(a.a2,e),r=Gy.Em(a.h2,r),s=Gy.Sm(a.a2,s),u=Gy.Sm(a.h2,u)}t.S1=r,t.E1=e,t.R1=u,t.I1=s,t.w1=Gy.Sm(ep(t.T1,n),Gy.jw),t.N1=ip(t.R1,i),t.D1=ip(t.I1,i),t.g1=np(t.N1,t.S1).Nw(),t.duration=t.g1}function aM(t,n,i){if(sx(i)){var e="xj"===t?i.X3:i.G3;return Ky(e)||(e=i.uj),n.x0(i,e)}return i&&n.D0(i)}function cM(t,n,i){if(sx(i)){var e="xj"===t?i.j3:i.J3;return Ky(e)||(e=i.uj),n.x0(i,e)}return i&&n.D0(i).Lg("xj"===t?function(t){return sx(t)?t.oj||Gy.jw:t&&Gy.Pm(t.duration)||Gy.jw}(i):function(t){return sx(t)?t.hj||Gy.jw:t&&Gy.Pm(t.duration)||Gy.jw}(i))}function fM(t,n){return"xj"===t?n.metadata.audio:n.metadata.video}function vM(t,n,i){return n.x0(i.info,fM(t,i).G2)}function dM(t,n){var i=t.T0(n.Nw());if(-1!==i){var e=Gy.Pm(t.end(i));if(n.Hw(e).xw(Gy.Pm(QL)))return e}return Gy.xm}function lM(t,n,i){var e=t.k0(n.Nw(),i.Nw());if(-1!==e)for(var r=t.OY(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.dk.OY.length-1;o>=0;o--){var h=u.dk.OY[o];if(n.Hw(Gy.Pm(h.RR)).Mw().xw(i))return Gy.Pm(h.RR);if(n.Hw(Gy.Pm(h.SR)).Mw().xw(i))return Gy.Pm(h.SR)}return Gy.xm}function _M(t,n){var i;if(n<0)i=t.LH.slice(-n);else{0;var e=new MB,r=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.B1,t.z1);e.W0(r,0,r.length),i=t.LH.slice();for(var s=0;s<n;s++){var u=i[0].tA,o=e.ps(ir({},e.tA,{h1:u.h1.Hw(t.b1),o1:u.o1-t.b1.Nw(),a2:u.a2.Hw(t.b1),h2:u.h2.Hw(t.b1)}));i.unshift(o)}}return i}function gM(t,n){var i=t[0].tA,e=t.slice();return e[0]=t[0].ps(ir({},i,{h1:Gy.Sm(Gy.jw,i.h1.Hw(n)),o1:_.max(i.o1-n.Nw(),0),a2:Gy.Sm(Gy.jw,i.a2.Hw(n)),Y1:_.max(i.Y1-n.Nw(),0),h2:Gy.Sm(Gy.jw,i.h2.Hw(n)),Q1:_.max(i.Q1-n.Nw(),0),G1:Gy.Sm(Gy.jw,i.G1.Lg(n)),d_:_.max(0,i.d_+n.Nw())})),e}function wM(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.OY(e),s=t.OY(e+1);if(r.length&&s.length&&Gy.Pm(r[0].SR).xw(n)&&Gy.Pm(s[s.length-1].RR).Ow(i)&&s[0].dk.OY[0].bs.q2.LY)return jL._m(5)}return t.Mg(n.Nw())?jL:Gy.jw}function mM(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function yM(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function pM(t){return new RM(t.mf,t.ai)}var kM,bM,AM,TM,SM,EM,RM=function(){function t(t,n){this.mf=void 0,this.v5=void 0,this.v5=n,this.mf=t}return t.prototype.d5=function(t){yM(t)},A(t,[{key:"ai",get:function(){return this.v5}},{key:"l5",get:function(){var t,n;return mM((t=this.v5,n=this.mf,wc([t],{type:n})))}}]),t}(),IM=function(){function t(t,n,i){this.rj=void 0,this.rj="data:"+t+";"+n+","+i}return t.prototype.d5=function(t){},A(t,[{key:"l5",get:function(){return this.rj}}]),t}();!function(t){t.U0="_5",t.Gl="g5",t.w5="m5",t.y5="p5",t.k5="b5"}(kM||(kM={})),function(t){t.A5="T5",t.S5="E5"}(bM||(bM={})),function(t){t.R5="audio/mp4",t.I5="audio/mpeg",t.N5="video/mp4"}(AM||(AM={})),function(t){t[t.D5=0]="D5",t[t.C5=1]="C5",t[t.Sl=2]="Sl",t[t.O5=3]="O5"}(TM||(TM={})),function(t){t.P5="x5",t.B5="L5"}(SM||(SM={})),function(t){t.M5="q6",t.B5="U5"}(EM||(EM={}));var NM=function(){function t(t,n,i,e,r,s,u,o,h,a){this.F5=void 0,this.H5=void 0,this.rk=void 0,this.mf=void 0,this.U6=void 0,this.z5=void 0,this.Gb=void 0,this.V5=void 0,this.W5=void 0,this.mC=void 0,this.X5=TM.D5,this.H5=t,this.F5=n,this.rk=i,this.mf=e,this.U6=r,this.z5=s,this.Gb=u,this.V5=o,this.W5=h,this.mC=a}return t.q5=function(t,n,i,e,r,s,u,o,h,a){switch(n){case SM.P5:return new DM(t,i,e,r,s,u,o,h,a);case SM.B5:return new CM(t,i,e,r,s,u,o,h,a)}},t}(),DM=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,SM.P5,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.G5=function(){return{Q5:"Y5",j5:this.F5,Z5:kM.k5,J5:bM.A5,K5:this.mf,t8:UB(this.U6,[]),n8:this.W5,i8:this.V5.qm(),e8:this.z5.qm(),r8:this.Gb.qm()}},n}(NM),CM=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,SM.B5,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.G5=function(){return{Q5:"Y5",j5:this.F5,Z5:this.mf===AM.I5?kM.U0:kM.Gl,J5:db?bM.S5:bM.A5,K5:this.mf,t8:UB(this.U6,[])}},n}(NM),OM=function(){function t(){this.s8=void 0,this.u8=void 0,this.s8=rr(),this.u8=1}var n=t.prototype;return n.o8=function(){return(this.u8++).toString()},n.q5=function(t,n,i,e,r,s,u,o,h){var a=this.o8(),c=NM.q5(a,n,t,i,e,r,s,u,o,h);return this.h8(c),c},n.a8=function(t){return this.s8.get(t)},n.h8=function(t){this.s8.set(t.F5,t)},n.c8=function(t){this.s8.delete(t)},n.f8=function(t){this.a8(t).X5=TM.C5,this.c8(t)},n.v8=function(t,n){var i=this.a8(t).mC;this.a8(t).X5=TM.Sl,this.c8(t),i(n)},n.d8=function(t,n){var i=this.a8(t).mC;this.a8(t).X5=TM.O5,this.c8(t),i(null,n)},n.ds=function(t){var n=[];this.s8.forEach(function(i,e){t&&i.rk!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.f8(e)}},t}();var PM,xM=function(){function t(n){var i=this;this.s8=void 0,this.l8=void 0,this.Ch=void 0,this._8=void 0,this.g8=function(t){var n=t.data.w8,e=t.data.m8,r=t.data.y8,s=t.data.p8,u=i.s8.a8(e);if(u&&u.X5!==TM.C5)switch(n){case"k8":i.b8(u,r);break;case"A8":i.s8.v8(e,new HP(FP.nY,{code:s}));break;default:0}},this.T8=function(t){0},this.s8=new OM,this.Ch=n,this._8=t.S8(n.G6),this.E8()}t.S8=function(t){switch(t){case EM.M5:return SM.P5;case EM.B5:return SM.B5}};var n=t.prototype;return n.Y5=function(t,n,i,e,r,s,u){var o={metadata:null,xj:null,Bj:null,ts:null};i&&i.length||u(new HP(FP.nY,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.vY+1,f=h.info.iZ,v=h.metadata,d=v.audio.l1?v.audio:void 0,l=v.video.l1?v.video:void 0,_=a.metadata,g=_.audio.l1?_.audio:void 0,w=_.video.l1?_.video:void 0,y=e.Lg(ep(v.Q2,v.G2)),p=e.Lg(ep(v.G2,v.G2)),k=e.Lg(d?ep(d.Q2,v.G2):Gy.jw),b=e.Lg(d?ep(d.G2,v.G2):Gy.jw),A=e.Lg(l?ep(l.Q2,v.G2):Gy.jw),T=e.Lg(l?ep(l.G2,v.G2):Gy.jw),S=e.Lg(ep(_.j2,v.G2)),E=e.Lg(ep(_.Y2,v.G2)),R=e.Lg(g?ep(g.j2,v.G2):Gy.jw),I=e.Lg(g?ep(g.Y2,v.G2):Gy.jw),N=e.Lg(w?ep(w.j2,v.G2):Gy.jw),D=e.Lg(w?ep(w.Y2,v.G2):Gy.jw);k=Gy.Sm(Gy.jw,k),A=Gy.Sm(Gy.jw,A);var C,O,P,x,B,L=nx.D_(n._Z)?Gy.Pm(100079991719):Gy.Pm(n.d_),M=function(t){for(var n=t[0].X2,i=n,e=1;e<t.length;e++){if(!(n=PL(i,t[e-1].X2,t[e].X2,t[e].info.J2)))return i;i=n}return i}(i);if(M.audio){O=(C=BL(M)).audio.duration;P=this.s8.q5(t,this._8,"mp3"===C.audio.l1?AM.I5:AM.R5,C,k,b,L,c,function(t,n){if(o.ts=o.ts||t,o.xj=n,C=!0,x)return u(o.ts,o)}),this.R8(P),C=null}else C=!0;if(M.video){B=(x=xL(M)).video.duration;P=this.s8.q5(t,this._8,AM.N5,x,A,T,L,c,function(t,n){if(o.ts=o.ts||t,o.Bj=n,x=!0,C)return u(o.ts,o)}),this.R8(P),x=null}else x=!0;var U,F,H,z=i.map(function(t){return t.metadata}),V=Gy.Pm(O),W=Gy.Pm(B),X=h.X2.audio&&h.X2.video?Gy.Em(h.X2.audio.w1.Lg(V),h.X2.video.w1.Lg(W)):h.X2.audio?h.X2.audio.w1.Lg(V):h.X2.video?h.X2.video.w1.Lg(W):Gy.jw;if(X.tm()&&st("Segment with no valid audio or video track detected",h.info.uri),M.video){var q=lL(M);if(m(q))st("Segment without keyframes detected",h.info.uri),U=Gy.xm,F=Gy.xm,H=X._m(1.5);else{var G=M.video.LH[q].tA;U=e.Lg(ep(G.a2,v.G2)),F=e.Lg(ep(G.h2,v.G2)),H=Gy.Pm(G.Q1-h.metadata.start)}}else U=k,F=b,H=Gy.jw;var Q=Gy.Sm(H,Gy.Sm(h.X2.audio&&h.X2.audio.w1||Gy.jw,h.X2.video&&h.X2.video.w1||Gy.jw));o.metadata={vY:c,SR:e.Nw(),I8:y.Nw(),u5:p.Nw(),h5:S.Nw(),Y6:E.Nw(),t4:U.Nw(),B0:F.Nw(),t5:Gy.Em(e,r).Nw(),d_:X.Nw(),OY:z,ks:Q.Nw(),xj:d&&{SR:b.Nw(),I8:k.Nw(),RR:I.Nw(),h5:R.Nw(),d_:O,l1:d.l1},Bj:l&&{SR:T.Nw(),I8:A.Nw(),RR:D.Nw(),h5:N.Nw(),d_:B,l1:l.l1,Rw:v.yB.width,hk:v.yB.height},FZ:v.FZ,J2:v.J2,iZ:f,Z2:s},i=null,M=null},n.hv=function(){this.s8.ds(),this.l8&&(this.l8.C2(),this.l8=null)},n.Cr=function(t){this.s8.ds(t)},n.b8=function(t,n){switch(t.H5){case SM.P5:var i=n;this.s8.d8(t.F5,{initializer:pM(i.N8),m4s:pM(i.D8)});break;case SM.B5:var e=n;this.s8.d8(t.F5,(r=e,db?new IM(r.mf,"base64",r.ai):new RM(r.mf,r.ai)));break;default:0}var r},n.E8=function(){this.l8||(this.l8=cL("theoplayer.p.js",this.Ch.libraryLocation),this.l8.Hr("message",this.g8),this.l8.Hr("error",this.T8))},n.R8=function(t){this.l8||this.E8(),this.l8.O2(t.G5())},t}();function BM(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function LM(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function MM(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function UM(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?to(e[6]):void 0!==e[7]?{width:w(e[8]),height:w(e[10])}:void 0!==e[12]?w(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var FM,HM="x-";function zM(t,n,i,e){var r=t.split("@"),s=BM(n,i),u=g(r[0],10),o=r[1]?g(r[1],10):e;return{rj:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},sj:{SR:o,RR:o+u-1}}}function VM(t,n,i){var e,r,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],m=null,p=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new HP(FP.tY,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<k.length;A+=1){var T=k[A].trim();if(l.push(T+""),LM(T,"#EXT")){if(LM(T,"#EXTINF"))c=(c=w(MM(T)))||.5;else if(LM(T,"#EXT-X-BYTERANGE"))f=MM(T);else if(LM(T,"#EXT-X-KEY"))(s=UM(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=BM(s.uri,i);else if(LM(T,"#EXT-X-DISCONTINUITY")&&!LM(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(LM(T,"#EXT-X-STREAM-INF"))(r=UM(T)).vY=a++,(A+=1)<k.length&&(r.uri=BM(k[A].trim(),i),b.streams.push(r));else if(LM(T,"#EXT-X-MEDIA")&&!LM(T,"#EXT-X-MEDIA-"))(u=UM(T)).uri&&(u.uri=BM(u.uri,i)),b.media.push(u);else if(LM(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(MM(T));else if(LM(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.RY=!0,b.IY=g(MM(T),10);else if(LM(T,"#EXT-X-MEDIA-SEQUENCE"))h=g(MM(T),10),b.C8=!0,b.O8=h;else if(LM(T,"#EXT-X-TARGETDURATION"))b.targetDuration=g(MM(T),10),b.hasTargetDuration=!0;else if(LM(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(LM(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(LM(T,"#EXT-X-MAP")){var S=UM(T),E=S.uri,R=S.byterange;o=R?zM(R,E,i,0):BM(E,i)}else if(LM(T,"#EXT-X-VERSION"))b.version=g(MM(T),10);else if(LM(T,"#EXT-X-DATERANGE")){var I=WM(T);b.dateRanges.push(I)}}else if(LM(T,"#"));else if(0!==T.length){f?p=(e=zM(f,T,i,p)).sj.RR+1:e=BM(T,i);var N,D=s&&ir({},s);s&&void 0===s.iv&&(N=h%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),b.fragments.push({start:0,duration:c,uri:e,vY:h,LY:d,PY:v,key:D,fZ:m,cZ:l,Z2:!1,P8:o}),h+=1,c=0,f=null,d=!1,m=null,l=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].Z2=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=_.min(i,o.duration),e=_.max(e,o.duration)}return{x8:i,B8:e,L8:n?t.fragments[n-1].duration:0,M8:r/n,U8:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.vY-n.vY})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||os(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function WM(t){var n=UM(t),i=function(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i];Lr(r,HM)&&(n[r.substr(HM.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{_l:n.id,QY:n.class,qE:e,MY:r,d_:n.duration,YY:n["planned-duration"],jY:s,ZY:i,JY:u,$Y:o,KY:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(FM||(FM={}));(PM={})[FM.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",PM[FM.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",PM[FM.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",PM[FM.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",PM[FM.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",PM[FM.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",PM[FM.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var XM=function(){function t(){}return t.prototype.Dp=function(t,n,i){return VM(t,n,i)},t}(),qM=3,GM=function(){function t(t,n,i){void 0===i&&(i=qM),this.mA=t,this.F8=n,this.H8=i}var n=t.prototype;return n.z8=function(t,n,i){return this.V8(t,n,!0,i)},n.W8=function(t,n,i){return this.V8(t,n,!1,i)},n.V8=function(t,n,i,e){var r,s,u,o,h,a,c,f;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.H8)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,nr.awrap(Rs(s,e));case 6:s<1e4&&(s=_.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return h=t[o],i.prev=10,a=new Zl({Mf:h,Of:pc.Pn,Cf:n,sv:this.F8,tv:ql.GET,nr:Gl.Hf,ev:Ql.Ff,xr:e}),i.next=14,nr.awrap(this.mA.Bf(a));case 14:return c=i.sent,i.next=17,nr.awrap(c.lf(e));case 17:return f=i.sent,i.abrupt("return",{X8:f,q8:h,Lf:c.Lf});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],we)},t}(),QM=function(){function t(t,n,i,e){this.G8=t,this.Q8=n,this.Y8=i,this.j8=e}var n=t.prototype;return n.Z8=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.G8.uK(t.map(Zx)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,we)},n.J8=function(t,n){var i=Jx(t,n);return this.Q8.as(i)},n.K8=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=Jx(t,n),r.next=3,nr.awrap(this.Y8.cs(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,we)},n.Px=function(t){return this.j8.cs(t)},t}(),YM=function(){function t(t){this.t9=void 0,this.t9=t}return t.prototype.n9=function(t,n,i,e){var r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:void 0===e&&(e=!1),s=0,u=this.t9;case 2:if(!(s<u.length)){h.next=17;break}return o=u[s],h.prev=4,h.next=7,nr.awrap(o.n9(t,n,i,e));case 7:return h.abrupt("return",h.sent);case 10:h.prev=10,h.t0=h.catch(4),ms(h.t0),r=h.t0;case 14:s++,h.next=2;break;case 17:throw r;case 18:case"end":return h.stop()}},null,this,[[4,10]],we)},t}(),jM=function(){function t(t){this.i9=t}return t.prototype.n9=function(t,n,i,e){var r;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.i9.Z8(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{X8:r.data,q8:r.locationURL,Lf:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,we)},t}(),ZM=function(){function t(t){this.e9=t}return t.prototype.n9=function(t,n,i,e){return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,nr.awrap(this.e9.z8(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,nr.awrap(this.e9.W8(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,we)},t}();function JM(t,n){return new YM([new jM(n),new ZM(t)])}var $M=function(){function t(t,n,i){this.r9=t,this.s9=n,this.u9=i}var n=t.prototype;return n.n9=function(t,n,i,e){var r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,nr.awrap(this.r9.n9(t,n,i,e));case 3:return r=s.sent,s.next=6,nr.awrap(this.o9(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,we)},n.o9=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.s9.rK({key:Zx(t.q8),locationURL:t_(t.q8),responseURL:t_(t.Lf),data:t.X8,references:[this.u9._l]}));case 2:case"end":return n.stop()}},null,this,null,we)},t}();function KM(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var tU=function(){function t(t,n,i){this.Ch=void 0,this.mA=void 0,this.r9=void 0,this.h9=void 0,this.h9=new XM,this.Ch=t,this.mA=i;var e=this.Ch&&this.Ch.crossOrigin===xw.$l,r=new GM(i,e,1);this.r9=JM(r,new QM(jx.Rn.lK,jx.Rn.vK,jx.Rn.dK,jx.Rn.gK))}var n=t.prototype;return n.Yo=function(t,n,i){var e=this.nd(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.nd=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,nr.awrap(this.r9.n9([t],n));case 3:return i=r.sent,t=i.Lf,e=this.h9.Dp(i.X8,t,KM(t)),r.abrupt("return",{x_:e,a9:i.X8});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof u_)){r.next=16;break}throw new HP(FP.$Q,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof o_)){r.next=24;break}if(0!==r.t0.kv.Df){r.next=21;break}throw new HP(FP.KQ,{code:"MFL3900",uri:t,status:r.t0.kv.Df});case 21:throw new HP(FP.$Q,{code:"MFL4100",uri:t,status:r.t0.kv.Df});case 22:r.next=25;break;case 24:throw new HP(FP.Sl,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],we)},t}(),nU=function(t){function n(n,i){var e;return(e=t.call(this)||this).c9=void 0,e.f9=void 0,e.v9=void 0,e.d9=void 0,e.l9=void 0,e.hJ=void 0,e.KZ=void 0,e.JS=void 0,e.c9=new tU(i||{},jx.Rn.lK,n),e}S(n,t);var i=n.prototype;return i.tg=function(){void 0!==this.d9&&(a(this.d9),this.d9=void 0),this.v9&&this.v9.Bf&&(this.v9=void 0)},i._9=function(t){if(this.KZ)for(var n=0,i=this.KZ.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.g9=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.U8<3*s)?1e3*u.x8:s?1e3*s:1e4,i===n&&(r/=2),r=_.max(r-e,1e3)},i.w9=function(t){if(t.fragments.length>0)for(var n=this._9(t.fragments[0].uri),i=n&&n.vY||0,e=0,r=t.fragments;e<r.length;e++){r[e].vY+=i}},i.m9=function(t,i,e,r,s,u){var o=this;if(this.v9&&e===this.v9.Bf){var a=tR()-i;if(r){this.v9=void 0,this.JS=r;var c={type:"ts",ts:r};return this.dispatchEvent(c),s&&s(r)}this.v9=void 0;var f=u.x_,v=u.a9;f.C8||this.w9(f),t===this.f9&&(this.hJ=f),this.KZ=f;var d=n.g9(f,v,this.l9,a);f.live?f.isMasterPlaylist||(this.d9=h(function(){return o.nd(t)},d)):this.tg(),s&&s(r,u);var l={type:"y9",manifest:f,manifestText:v};this.dispatchEvent(l),this.l9=v}},i.nd=function(t,n){var i=this,e=tR(),r=t;a(this.d9),this.d9=void 0;var s=this.c9.Yo(r,{},function(r,u){return i.m9(t,e,s,r,n,u)});this.v9={Bf:s,Mf:t}},i.SR=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.KZ?this.KZ.uri:this.f9))&&(this.v9&&this.v9.Mf===t?n&&(i=function(t){s.removeEventListener("ts",e),s.removeEventListener("y9",i);var r=t;n(null,{x_:r.manifest,a9:r.manifestText})},e=function(t){s.removeEventListener("ts",e),s.removeEventListener("y9",i),n(t.ts)},this.addEventListener("ts",e),this.addEventListener("y9",i)):(this.tg(),this.nd(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.p9=function(t){t&&(this.l9=void 0,this.hJ&&this.hJ.isMasterPlaylist?this.SR(t.uri):this.KZ&&!this.k9()&&this.SR(this.KZ.uri))},i.hv=function(){this.tg(),this.Wr()},i.k9=function(){return!!this.v9||!!this.d9||!(!this.KZ||this.KZ.live)},A(n,[{key:"x_",get:function(){return this.KZ}},{key:"LJ",get:function(){return this.hJ}},{key:"G$",get:function(){return this.f9},set:function(t){this.tg(),this.l9=void 0,this.hJ=void 0,this.KZ=void 0,this.f9=t}}]),n}(MP),iU=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ch=void 0,e.Zd=void 0,e.f9=void 0,e.b9=void 0,e.mA=void 0,e.Ch=i,e.Zd=rr(),e.f9=null,e.b9=null,e.mA=n,e}S(n,t);var i=n.prototype;return i.SR=function(){var t=this,n=this.G$;if(n&&!this.b9){var i=new nU(this.mA,this.Ch);i.addEventListener("ts",function(i){var e=i.ts;t.dispatchEvent({type:"A9",ts:e}),t.Zd.has(n)&&t.dispatchEvent({type:"ts",ts:e,T9:n})}),i.addEventListener("y9",function n(e){i.removeEventListener("y9",n),i===t.b9&&t.dispatchEvent({type:"S9",x_:e.manifest})}),i.addEventListener("y9",function(i){t.Zd.has(n)&&t.dispatchEvent({type:n,x_:i.manifest})}),this.b9=i,i.SR(n)}},i.E9=function(t,n){this.R9(t),this.I9(n)},i.I9=function(t){var n,i=this;this.Zd.has(t)||(t===this.G$?(this.SR(),(n=this.b9).x_&&this.dispatchEvent({type:t,x_:n.x_},!0)):((n=new nU(this.mA,this.Ch)).addEventListener("ts",function(n){i.dispatchEvent({type:n.type,ts:n.ts,T9:t})}),n.addEventListener("y9",function(n){i.dispatchEvent({type:t,x_:n.manifest})})),this.Zd.set(t,n))},i.R9=function(t){if(this.Zd.has(t)){var n=this.Zd.get(t);n!==this.b9&&n.hv(),this.Zd.delete(t),this.removeEventListener(t)}},i.N9=function(t){if(this.Zd.has(t)){var n=this.Zd.get(t);n.k9()||n.SR(t)}},i.D9=function(){var t=this;this.Zd.forEach(function(n,i){return t.N9(i)})},i.nl=function(){this.Zd.forEach(function(t){return t.hv()}),this.Zd.clear(),this.b9&&(this.b9.hv(),this.b9=null),this.f9=null},A(n,[{key:"G$",get:function(){return this.b9&&this.b9.x_?this.b9.x_.uri:this.f9},set:function(t){this.nl(),this.f9=t}}]),n}(MP),eU=function(t){function n(){var n;return(n=t.call(this)||this).C9=NaN,n}S(n,t);var i=n.prototype;return i.O9=function(t,n){for(var i=t.length?_.min.apply(_,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].ks=Gy.Pm(t[r]||0)}var s=t.length?_.max.apply(_,t):0;this.C9=s,this.dispatchEvent({type:"P9",x9:s})},i.B9=function(t,n){var i=[];if(n.length<2)return this.O9(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.L9(t))return!1;i[r]=s.ks.Lg(s.M9(e,t)).Nw()}return this.O9(i,n),!0},i.U9=function(t,n){return this.B9(t.PY,n)},i.F9=function(t,n){if(n.length<2)return this.O9([],n),!0;var i=n[0].H9(t);if(m(i))return!1;for(var e=0;e<n.length;e++){if(n[e].H9(t)!==i)return!1}return this.B9(i,n)},i.nl=function(){this.C9=NaN},i.hv=function(){this.Wr()},A(n,[{key:"x9",get:function(){return this.C9}}]),n}(MP),rU=.001;function sU(t){return t.metadata.iZ._l+"z9"+t.metadata.vY+"V9"+t.metadata.SR+"W9"+t.metadata.d_}var uU=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.ZG=function(t,i){return new n(t,i)},i.N0=function(t,n){return!1},n}(EB);function oU(t,n){var i=new uU([n]);return t.Hw(i).QR(i)}function hU(t,n){var i=function(t,n){var i=t.u5,e=t.B0;if(!m(e)&&e===i)return!0;return!t.J2&&!!n&&n.dk.iZ===t.iZ&&i>=n.RR&&i<=n.RR+rU}(t,n);return i||!m(t.B0)?{SR:i?t.u5:t.B0,RR:t.Y6,dk:t}:null}var aU=function(t){function n(n,i){var e;return(e=t.call(this)||this).X9=void 0,e.jb=void 0,e.q9=null,e.G9=function(){return e.Q9()},e.Y9=[],e.yg=[],e.j9=new uU([]),e.Z9=null,e.X9=n,e.jb=i,e}S(n,t);var i=n.prototype;return i.J9=function(t){var n=t.metadata,i=n&&n.OY;if(!i||!i.length)return we.resolve();for(var e=[],r=n.SR,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({SR:r,d_:u.duration,RR:o,vY:u.vY,bs:u}),r=o}var h={_l:sU(t),SR:t.metadata.SR,I8:n.I8,u5:n.u5,K9:i[0].q2.fZ?new Date(i[0].q2.fZ.getTime()):null,d_:t.metadata.d_,RR:t.metadata.SR+t.metadata.d_,h5:n.h5,Y6:n.Y6,t4:n.t4,B0:n.B0,OY:e,iZ:t.metadata.iZ,f5:t.metadata.Z2,J2:n.J2};return this.Y9.push(h),this.t7(this.X9.J9(t),h)},i.t7=function(t,n){var i=this;return t.then(function(){if(us(i.Y9,n)){i.yg.push(n);var t=i.Z9,e=hU(n,t);e&&(i.j9=oU(i.j9,e)),i.Z9=e}i.Q9(),i.n7(n)}).catch(function(){us(i.Y9,n)})},i.n7=function(t){var n=t.OY[0],i=t.OY[t.OY.length-1],e=t.iZ,r=e.BY(n.vY-1),s=nx.D_(e._Z);if(!r||s){var u=e.BY(n.vY),o=this.jb.D0(u).Nw(),h=t.I8,a=_.min(o,h);a<n.SR&&this.X9.GU(a,n.SR)}for(var c=0,f=this.yg;c<f.length;c++){var v=f[c];if(v.iZ===t.iZ){var d=v.OY[0],l=v.OY[v.OY.length-1];l.vY+1===n.vY&&l.RR!==n.SR?this.X9.GU(l.RR,n.SR):d.vY-1===i.vY&&i.RR!==d.SR&&this.X9.GU(i.RR,d.SR)}}},i.ds=function(){this.Y9.length=0,this.yg.length=0,this.j9=new uU([]),this.Z9=null},i.Q9=function(){if(this.i7&&!this.i7.iO){var t=this.i7.yg||oB;t=function(t,n){for(var i=lB(t),e=0;e<i.length;e++){var r=i[e],s=n.T0(r.RR,rU);if(s>=0){var u=n.OY(s),o=u[u.length-1],h=o.dk.h5,a=o.dk.Y6;h-rU<r.RR&&r.RR<a&&(r.RR=a)}}return new uB(i)}(t,this.j9),this.yg=this.yg.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.SR,n.RR)>=0}),this.j9=this.j9.HR(t)}},i.hv=function(){this.Wr(),this.ds(),this.i7=null},i.e7=function(t){var n=this.r7(t);if(n)for(var i=0,e=n.OY;i<e.length;i++){var r=e[i];if(r.SR<=t&&r.RR>t)return r}return null},i.r7=function(t){for(var n=0,i=this.yg;n<i.length;n++){var e=i[n];if(e.SR<=t&&e.RR>t)return e}return null},i.s7=function(t){for(var n=0,i=this.yg;n<i.length;n++){var e=i[n];if(e.iZ._l===t.iZ._l)for(var r=0,s=e.OY;r<s.length;r++){if(s[r].vY===t.vY)return!0}}return!1},i.u7=function(){return this.o7()[0]},i.o7=function(){for(var t=this.j9,n=this.Z9,i=0,e=this.Y9;i<e.length;i++){var r=hU(e[i],n);r&&(t=oU(t,r)),n=r}return[t,n]},A(n,[{key:"sl",get:function(){return this.Y9.length+this.yg.length}},{key:"i7",get:function(){return this.q9},set:function(t){this.q9&&this.q9.removeEventListener("updateend",this.G9),this.q9=t,this.q9&&(this.q9.addEventListener("updateend",this.G9),this.Q9())}}]),n}(MP);function cU(t,n,i){!function(t,n,i){for(var e=i.e1,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.x0(t,u.tA.a1).Nw(),h=0,a=u.LH;h<a.length;h++){var c=a[h];r.push(new BC(o,c))}i.Cl=r}(t,n,i)}function fU(t,n){return t&&n?_.abs(t.vY-n.vY)<=1?Gy.jw:Gy.Qw(n.Qp-t.Qp,1e3):Gy.jw}var vU=function(){function t(t,n,i,e,r){this.LY=void 0,this.n5=void 0,this.h7=void 0,this.a7=void 0,this.nr=void 0,this.T6=void 0,this.ks=Gy.jw,this.c7=!1,this.f7=null,this.LY=t,this.n5=t.iZ.OY._Y(n.vY),this.T6=this.n5,this.h7=i,this.a7=e,this.nr=r||null}var n=t.prototype;return n.v7=function(){if(this.f7)return this.f7;var t=this.d7();return(t.l7||t.ts)&&(this.f7=t),t},n._7=function(){return{l7:!1,ts:!1,c7:this.c7,tw:Gy.xm}},n.l7=function(t){return t.zw()?{l7:!1,ts:!0,c7:this.c7,tw:Gy.xm}:{l7:!0,ts:!1,c7:this.c7,tw:t}},t}();function dU(t,n){switch(n){case"xj":return Ky(t.X3)?t.X3:t.uj;case"Bj":return Ky(t.G3)?t.G3:t.uj;default:return t.uj}}var lU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.d7=function(){var t=this.LY,n=t.iZ,i=n.OY,e=i.gY(this.T6);if(t.Mg(e)){if(this.a7&&t.g7&&sx(e)){var r=dU(e,this.nr),s=t.w7(r,e.m7);return this.l7(s.Hw(this.ks))}if(this.h7&&e===t.y7){var u=t.nw.Hw(ux(e));return this.l7(u.Hw(this.ks))}this.T6+=1;var o=fU(e,i.gY(this.T6));return this.c7=this.c7||o.Dw(Gy.jw),this.ks=this.ks.Lg(o).Lg(ux(e)),this._7()}return this.l7(Gy.xm)},n}(vU),_U=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.d7=function(){var t=this.LY,n=t.iZ,i=n.OY,e=i.gY(this.T6);if(t.Mg(e)){if(this.a7&&t.g7&&sx(e)){var r=dU(e,this.nr),s=t.w7(r,e.m7);return this.l7(s.Lg(this.ks))}if(this.h7&&e===t.p7){var u=t.tw;return this.l7(u.Lg(this.ks))}this.T6-=1;var o=i.gY(this.T6),h=fU(o,e);return this.c7=this.c7||h.Dw(Gy.jw),this.ks=this.ks.Lg(h).Lg(ux(o)),this._7()}return this.l7(Gy.xm)},n}(vU);var gU=function(){function t(t,n,i){this.vY=void 0,this.iZ=void 0,this.tw=Gy.jw,this.nw=Gy.jw,this.p7=null,this.y7=null,this.k7=!1,this.b7=Gy.xm,this.A7=Gy.xm,this.T7=!1,this.S7=void 0,this.vY=t,this.iZ=n,this.S7=i}var n=t.prototype;return n.Mg=function(t){return t&&t.PY===this.vY},n.w7=function(t,n){var i=t.Hw(this.b7).Lg(this.A7);if(void 0!==n){var e=i.Hw(n);if(e.Mw().Dw($y)){var r=_.round(e.Nw()/Jy.Nw());i=i.Hw(Jy._m(r))}}return i},n.E7=function(t,n){var i=this.R7(t);this.I7(n);var e=this.N7();return i||e||t===this.y7&&this.D7()},n.R7=function(t){if(this.g7&&Qy(t.Y3,this.b7)>=0)return!1;var n;if(n=this.g7?this.C7(t,!0,!1):this.O7(t,!0,!1),this.b7.zw())this.b7=t.Y3;else{var i=ep(t.Y3,this.b7);this.b7=this.b7.Lg(i)}return this.A7=n,!0},n.I7=function(t){if(!t)return!1;if(this.S7)return!1;if(!this.P7())return!1;var n=this.iZ.OY,i=this.p7,e=n.wY(i.vY-1);if(sx(i)&&sx(e)){var r=function(t,n,i){var e=t.x0(n,n.Y2);if(!Ky(i.Q3)||!Ky(i.G3))return e;var r,s=Ky(i.X3),u=np(i.G3,i.Q3);if(s){var o=tp(np(i.G3,i.X3),Gy.jw);r=tp(np(u,o),Gy.jw)}else r=u;return np(e,r)}(t,e,i);return this.T7=!0,this.x7(r)}return!1},n.x7=function(t){if(t.mw(this.tw))return!1;var n=t.Hw(this.tw);return this.tw=t,this.nw=this.nw.Lg(n),this.A7=this.A7.Lg(n),!0},n.N7=function(){if(this.S7)return!1;var t=this.y7;if(!t)return!1;var n,i=new _U(this,t,!1,!0);do{n=i.v7()}while(!n.l7&&!n.ts&&!n.c7);if(n.l7&&!n.c7){var e=n.tw.Lg(ux(t));if(!e.mw(this.nw))return this.nw=e,!0}return!1},n.B7=function(t){var n=!1;return n=this.I7(t)||n,n=this.L7(t)||n},n.L7=function(t){if(!t)return!1;if(this.T7)return!1;var n=t.nw.Lg(fU(t.y7,this.p7));return this.x7(n)},n.M7=function(t){var n=!1;return(!this.p7||this.p7.vY>t.vY)&&(this.tw=this.tw.Hw(fU(t,this.p7)),this.p7=t,n=!0),(!this.y7||this.y7.vY<t.vY)&&(this.nw=this.nw.Lg(fU(this.y7,t)).Lg(ux(t)),this.y7=t,n=!0),n},n.U7=function(t){if(!this.g7||!t.g7)return Gy.xm;if(this.b7.xw(t.b7)){var n=this.w7(t.b7,t.A7);return t.A7.Hw(n)}return t.w7(this.b7,this.A7).Hw(this.A7)},n.P7=function(){var t=this.p7;return!!t&&function(t,n){return n.PY===t&&n.LY}(this.vY,t)},n.D7=function(){var t=this.y7;if(!t)return!1;var n=this.iZ.OY.wY(t.vY+1);return function(t,n,i){return n.PY===t&&(!i||i.LY)}(this.vY,t,n)},n.F7=function(t,n){return this.C7(t,!0,!0,n)},n.O7=function(t,n,i){if(!this.Mg(t))return Gy.xm;var e,r=new _U(this,t,n,i);do{e=r.v7()}while(!e.l7&&!e.ts);if(!e.l7)return Gy.xm;var s=e.tw;return s.Lw(this.tw)?this.tw:s},n.C7=function(t,n,i,e){if(!this.Mg(t))return Gy.xm;var r,s,u,o,h,a=new lU(this,t,n,i,e),c=new _U(this,t,n,i,e);do{r=a.v7(),s=c.v7()}while(!(r.l7||s.l7||r.ts&&s.ts));if(s.l7)u=s,o=r,h=a;else{if(!r.l7)return Gy.xm;u=r,o=s,h=c}if(u.tw.Lw(this.tw)){for(;!o.l7&&!o.ts;)o=h.v7();return o.l7?Gy.Sm(this.tw,o.tw):this.tw}if(u.c7){for(;!o.c7&&!o.l7&&!o.ts;)o=h.v7();if(o.l7&&!o.c7&&this.tw.xw(o.tw))return o.tw}return u.tw},n.x0=function(t,n){return this.Mg(t)&&this.g7?this.w7(n,t.m7):Gy.xm},n.o7=function(){0},A(t,[{key:"g7",get:function(){return!this.b7.zw()}}]),t}();function wU(t,n){return n.Lw(t.tw)?Yr.wr:n.Ow(t.nw)?Yr.mr:Yr.gr}var mU=function(){function t(){this.H7=new GP}var n=t.prototype;return n.wY=function(t){return this.H7.wY(t)},n.gY=function(t){return this.H7.gY(t)},n.z7=function(t){var n=this.H7._Y(t);return n<0?null:this.H7.gY(n-1)},n.v7=function(t){var n=this.H7._Y(t);return n<0?null:this.H7.gY(n+1)},n.V7=function(){return this.H7.gY(0)},n.W7=function(){var t=this.H7.sl;return 0===t?null:this.H7.gY(t-1)},n.X7=function(t){var n=this.H7,i=this.W7();if(i&&function(t,n){return t.tw.xw(n)&&n.Lw(t.nw)}(i,t))return i;var e=gD(this.H7.pY(),t,Z,wU);return n.gY(e)},n.Lg=function(t){var n=this.H7.Lg(t);if(n&&!this.v7(t.vY)){t.k7=!0;var i=this.z7(t.vY);i&&(i.k7=!1)}return n},n.jo=function(t){var n=this.H7.jo(t);if(n&&t.k7){t.k7=!1;var i=this.z7(t.vY);i&&(i.k7=!0)}return n},n.AY=function(t){this.H7.AY(t)},n.o7=function(){},A(t,[{key:"sl",get:function(){return this.H7.sl}}]),t}();var yU=Gy.Pm(10),pU=function(){function t(t,n,i){this.iZ=void 0,this.q7=!1,this.G7=!1,this.Q7=new mU,this.Y7=Gy.jw,this.j7=void 0,this.Z7=null,this.J7=null,this.S7=void 0,this.iZ=t,this.j7=n.liveOffset,this.S7=i}var n=t.prototype;return n.K7=function(t){var n=this.iZ,i=t?t.fragments:null,e=n.OY;if(!t||!i||!i.length)return!1;this.q7=!0;var r,s=!1;if(!this.Q7.sl){var u=e.wY(i[0].vY).PY,o=new gU(u,n,this.S7);o.x7(this.ks),this.Q7.Lg(o),s=!0}if(this.J7){var h=e._Y(this.J7.vY);r=h<0?0:h+1}else r=0;for(var a=r,c=e.gY(a),f=null,v=!1;c;){var d=c.PY;if(f&&f.vY===d||(f&&v&&this.ttt(f),f=this.Q7.wY(d),s=s||v,v=!1),!f){f=new gU(d,n,this.S7),this.Q7.Lg(f);var l=this.Q7.z7(d);f.B7(l||void 0)}v=f.M7(c)||v,c=e.gY(++a)}return f&&v&&this.ttt(f),(s=s||v)&&this.ntt(),this.Q7.W7()&&this.QZ(n.OY),this.Z7=e.wY(i[0].vY),this.J7=e.wY(i[i.length-1].vY),s},n.E7=function(t){var n=this.Q7.wY(t.PY);if(!n)return!1;this.G7=!0;var i=this.Q7.z7(n.vY),e=n.E7(t,i);return e&&this.ttt(n),e},n.ttt=function(t){for(var n=t,i=this.Q7.v7(t.vY),e=!0;e&&i;)e=i.B7(n),n=i,i=this.Q7.v7(i.vY)},n.ntt=function(){for(var t=!1,n=this.Q7.V7(),i=n&&this.Q7.v7(n.vY);n&&i;)n.nw.Dw(i.tw)&&(i.x7(n.nw),t=!0),n=i,i=this.Q7.v7(n.vY);return t},n.itt=function(t){var n=this.Q7.W7(),i=t.Q7.W7();if(!this.S7){if(n&&this.ett(t,n.vY))return!0;if(i&&this.ett(t,i.vY))return!0}return this.rtt?!(!n||!this.stt(t,n.vY))||(!(!i||!this.stt(t,i.vY))||(!(!n||!this.utt(t,n.vY))||(!(!i||!this.utt(t,i.vY))||this.ott(t)))):this.htt(t)},n.htt=function(t){var n=this.Q7.V7(),i=t.Q7.V7();return!(!n||!i)&&(this.gs(i.tw.Hw(n.tw)),!0)},n.ett=function(t,n){var i=this.Q7.wY(n);if(!i||!i.g7)return!1;var e=t.Q7.wY(n);return!(!e||!e.g7)&&(this.gs(i.U7(e)),!0)},n.stt=function(t,n){var i=this.Q7.wY(n);if(!i||!i.P7())return!1;var e=t.Q7.wY(n);return!(!e||!e.P7())&&(this.gs(e.tw.Hw(i.tw)),!0)},n.utt=function(t,n){var i=this.Q7.wY(n);if(!i)return!1;var e=this.att(i.y7.vY);if(!e)return!1;var r=t.Q7.wY(n);if(!r)return!1;var s=t.att(r.y7.vY);if(!s)return!1;var u=i.F7(i.y7),o=r.F7(r.y7),h=Gy.Um(e).Hw(Gy.Um(s)),a=u.Hw(o);return this.gs(h.Hw(a)),!0},n.ott=function(t){if(!this.G7&&!t.G7)return!1;var n=this.Q7.W7(),i=t.Q7.W7();if(n&&n.y7&&i&&i.y7){var e=Gy.Qw(n.y7.Qp-i.y7.Qp,1e3),r=n.nw.Hw(i.nw);return this.gs(e.Hw(r)),!0}return!1},n.QZ=function(t){var n=this.Q7.W7();if(n)for(var i=n.nw,e=t.sl-1;e>=0;e--){var r=t.gY(e);if(i=i.Hw(Gy.Pm(r.duration)),void 0!==r.m7){0;break}r.m7=i}},n.H9=function(t){var n=this.Q7.X7(t);return n?n.vY:NaN},n.D0=function(t,n){var i=this.Q7.wY(t.PY);return i?i.F7(t,n):Gy.xm},n.C0=function(t,n){var i=this.iZ.OY.wY(t.vY+1);if(i){var e=this.D0(i);return e}return n.Lg(function(t){if(!t)return Gy.jw;if(!sx(t))return Gy.Pm(t.duration);var n=t.oj||Gy.jw,i=t.hj||Gy.jw,e=Gy.Pm(t.duration);return n.tm()||i.tm()?n.tm()?i.tm()?e.tm()?e:Gy.jw:i:n:Gy.Sm(n,i)}(t))},n.x0=function(t,n){var i=this.Q7.wY(t.PY);return i&&i.g7?i.x0(t,n):Gy.xm},n.r5=function(t,n){var i=this.iZ.OY;return i.sl?function(t,n,i,e,r){var s,u,o=t.iZ.OY,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.D0(o.gY(n),r)},c=i,f=a(c),v=e,d=a(v);if(n.Lw(f))return{dk:s=o.gY(c),ctt:f};if(n.Ow(d)&&(s=o.gY(v)).Z2)return{dk:s,ctt:d};for(;f.xw(n)&&n.xw(d);){var l=void 0,g=void 0,w=void 0;if(c===v?(l=c,g=f):(l=c+_.round(n.Hw(f).Nw()*(v-c)/d.Hw(f).Nw())||0,g=a(l)),g.Dw(n))d=a(v=l-1);else{if(s=o.gY(l),!(w=(u=l)===e?a(u).Lg(ux(o.gY(u))):a(u+1)).xw(n))return s&&n.xw(g.Lg(ux(s)))?{dk:s,ctt:g}:(s=o.gY(l+1))&&{dk:s,ctt:w};c=l+1,f=w}}if(d.xw(n)){if((s=o.gY(v))&&n.xw(d.Lg(ux(s))))return{dk:s,ctt:d};if(v<e&&(s=o.gY(v+1),d=a(v+1),s&&n.Lw(d)))return{dk:s,ctt:d}}return null}(this,t,0,i.sl-1,n):null},n.att=function(t){var n=this.iZ.OY,i=n._Y(t),e=n.gY(i),r=e,s=Gy.jw;if(e.fZ)return e.fZ;for(var u=i-1;u>=0;u--){var o=n.gY(u);if(s=s.Lg(ux(o)).Lg(fU(o,r)),o.fZ)return new Date(o.fZ.getTime()+1e3*s.Nw());r=o}return null},n.ftt=function(t){for(var n=this.iZ.OY,i=void 0,e=0;e<n.sl;e++){var r=n.gY(e);if(r.fZ){if(!(r.fZ.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return Gy.xm;var s=Gy.Um(t).Hw(Gy.Um(i.fZ));return this.D0(i).Lg(s)},n.gs=function(t){if(!t.mw(Gy.jw))for(var n=this.Q7.sl,i=0;i<n;i++){var e=this.Q7.gY(i);e.x7(e.tw.Lg(t))}},n.L9=function(t){var n=this.Q7.wY(t);return n&&n.g7},n.M9=function(t,n){if(this===t)return Gy.jw;var i=this.Q7.wY(n),e=t.Q7.wY(n);return i&&e?i.U7(e):Gy.xm},n.o7=function(){0},A(t,[{key:"rtt",get:function(){var t=this.iZ.xY;return!!t&&t.live}},{key:"dtt",get:function(){var t=this.iZ.xY;return!!t&&t.isEvent}},{key:"ltt",get:function(){var t=this.Z7;return t?this.D0(t):Gy.jw}},{key:"_tt",get:function(){var t=this.Q7.W7();return t?t.nw:Gy.jw}},{key:"gtt",get:function(){if(!this.rtt)return Gy.jw;var t=this._tt.Hw(this.wtt);return Gy.Sm(this.ltt,t)}},{key:"wtt",get:function(){return this.j7&&Gy.Pm(this.j7)||this.mtt._m(3)}},{key:"ytt",get:function(){return this.rtt&&this.J7?Gy.Qw(tR()-this.J7.Qp,1e3):Gy.jw}},{key:"mtt",get:function(){var t=this.iZ.xY;return t&&t.targetDuration?Gy.Pm(t.targetDuration):yU}},{key:"ks",get:function(){return this.Y7},set:function(t){var n=t.Hw(this.Y7);this.Y7=t,this.gs(n)}}]),t}(),kU=function(t){function n(n){var i;return(i=t.call(this)||this).ptt=[],i.ktt={},i.btt=null,i.Att=null,i.Y7=Gy.jw,i.S7=void 0,i.Ttt=void 0,i.Ttt=n,i}S(n,t);var i=n.prototype;return i.Stt=function(t){return t&&this.ktt[t._l]||null},i.Ett=function(t){var n=this.Stt(t);return n||((n=new pU(t,this.Ttt,!!this.S7)).ks=this.Y7,this.ptt.push(n),this.ktt[t._l]=n),n},i.Rtt=function(t){var n;switch(null==(n=this.Ttt.hls)?void 0:n.discontinuityAlignment){case $S.QN:return!0;case $S.YN:return!1;default:return t.isEvent||t.hasEnd}},i.K7=function(t,n){void 0===this.S7&&(this.S7=this.Rtt(n));var i=this.Stt(this.btt),e=i?i.ltt:Gy.jw,r=i?i._tt:Gy.jw,s=this.Ett(t),u=s.q7,o=s.K7(n);if(!u&&s.q7&&(s.gs(this.Itt(t)),o=!0),o=this.Ntt(s)||o,this.Dtt(s,e,r)){var h=new HP(FP.hY,{code:"MFU0166"});this.dispatchEvent({type:"ts",ts:h})}else this.btt=t,o&&this.dispatchEvent("jZ")},i.E7=function(t,n){if(sx(n)){0;var i=this.Ett(t),e=i.E7(n);e=this.Ntt(i)||e,this.Att=t,e&&this.dispatchEvent("jZ")}},i.Ntt=function(t){var n=!1,i=!1,e=this.Stt(this.Att);e&&(e===t?n=!0:i=(n=t.itt(e))||i);var r=this.Stt(this.btt);return r&&r!==t&&(i=n?r.itt(t)||i:t.itt(r)||i),i},i.Itt=function(t){var n=this.Stt(t),i=!n.rtt,e=t.xY&&t.xY.isEvent;return i||e?Gy.jw:n.mtt._m(3)},i.Dtt=function(t,n,i){if(!t.rtt)return!1;var e=t.ltt,r=t._tt,s=Gy.Em(r,i).Hw(Gy.Sm(e,n)),u=Gy.Sm(t.mtt._m(3),s.ym(2));return e.Lg(u).Lw(n)},i.QZ=function(t,n){var i=this.Stt(t)||this.Stt(this.btt);return i&&i.QZ(n)},i.H9=function(t){var n=this.btt&&this.Stt(this.btt);return n?n.H9(t):NaN},i.Ctt=function(t,n){var i=t.BY(n);return this.D0(i)},i.D0=function(t){if(!t)return Gy.xm;var n=this.Stt(t.iZ)||this.Stt(this.btt);return n?n.D0(t):Gy.xm},i.C0=function(t,n){if(!t)return Gy.xm;var i=this.Stt(t.iZ)||this.Stt(this.btt);return i?i.C0(t,n):Gy.xm},i.x0=function(t,n){if(!t||!n)return Gy.xm;var i=this.Stt(t.iZ)||this.Stt(this.btt);return i?i.x0(t,n):Gy.xm},i.r5=function(t,n,i){var e=this.Stt(t);if(!e)return null;var r=e.r5(n,i);return r?{dk:r.dk,ctt:r.ctt}:null},i.att=function(t,n){var i=this.Stt(t)||this.Stt(this.btt);return i?i.att(n):null},i.ftt=function(t,n){var i=this.Stt(t)||this.Stt(this.btt);return i?i.ftt(n):Gy.xm},i.L9=function(t){return void 0!==this.Ott(t)},i.M9=function(t,n){if(this===t)return Gy.jw;var i=this.Ott(n),e=t.Ott(n);return i&&e?i.M9(e,n):Gy.xm},i.Ott=function(t){return rs(this.ptt,function(n){return n.L9(t)})},i.hv=function(){this.Wr(),this.ptt.length=0,this.ktt={},this.btt=null,this.Att=null,this.Y7=Gy.jw},i.o7=function(){0},A(n,[{key:"Ptt",get:function(){return this.ltt.Hw(this.mtt._m(3))}},{key:"wtt",get:function(){var t=this.Ttt.liveOffset;return Gy.Pm(t||3*this.mtt.Nw())}},{key:"rtt",get:function(){var t=this.Stt(this.btt);return!!t&&t.rtt}},{key:"Og",get:function(){return this.btt?new uB([{SR:this.ltt.Nw(),RR:this._tt.Nw()}]):oB}},{key:"ltt",get:function(){if(!this.btt)return Gy.jw;var t=this.Stt(this.btt);return t.dtt?t.ltt:t.ltt.Lg(t.ytt)}},{key:"_tt",get:function(){if(!this.btt)return Gy.jw;var t=this.Stt(this.btt);return t._tt.Lg(t.ytt)}},{key:"gtt",get:function(){if(!this.btt)return Gy.jw;var t=this.Stt(this.btt);return t.gtt.Lg(t.ytt)}},{key:"mtt",get:function(){return this.btt?this.Stt(this.btt).mtt:yU}},{key:"ks",get:function(){return this.Y7},set:function(t){if(!this.Y7.mw(t)){this.Y7=t;for(var n=0,i=this.ptt;n<i.length;n++){i[n].ks=t}this.dispatchEvent("jZ")}}}]),n}(MP),bU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Itt=function(t){return Gy.jw},n}(kU),AU=.25,TU=1/60;function SU(t,n){return is(t,n,TU)}var EU,RU=function(t,n,i){this.iZ=void 0,this.tw=void 0,this.d_=void 0,this.nw=void 0,this.dk=void 0,this.xtt=NaN,this.Btt=NaN,this.Ltt=0,this.iZ=t.iZ,this.tw=n,this.nw=i,this.d_=i-n,this.dk=t},IU=function(t,n,i){this.iZ=void 0,this.tw=void 0,this.d_=void 0,this.nw=void 0,this.xtt=NaN,this.Btt=NaN,this.Ltt=0,this.iZ=t,this.tw=n,this.nw=i,this.d_=i-n};function NU(t){return!(!t||!t.dk)}function DU(t,n,i){return e=n,r=i,s=t.tw,u=t.nw,SU(e,u)<=0&&SU(s,r)<=0;var e,r,s,u}function CU(t,n){return SU(t.tw,n)<=0?t.nw:t.tw}function OU(t,n,i){return(t-n)/i-AU}function PU(t,n){return n.Hw(t).QR(t)}function xU(t,n){var i=_.min(TU,t.d_/2);return n.JR(t.tw,t.nw,i)}function BU(t,n){var i=n.k0(t);return-1===i?t:n.end(i)}function LU(t){return t.Btt<=t.xtt}function MU(t,n){if(!LU(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.Ltt+n.Btt>e.xtt)return!1}return!0}function UU(t,n){for(var i=0;i<t.length;i++){t[i].Ltt+=n.Btt}n.Ltt=n.Btt,t.push(n)}!function(t){t[t.Mtt=0]="Mtt",t[t.Utt=1]="Utt",t[t.Ftt=2]="Ftt",t[t.O5=3]="O5"}(EU||(EU={}));var FU=function(){function t(t,n,i,e){this.rk=void 0,this.jb=void 0,this.Htt=void 0,this.ztt=void 0,this.Vtt=void 0,this.HK=void 0,this.rk=t,this.jb=n,this.Htt=i,this.ztt=e,this.Vtt=jx.Rn.lK,this.HK=jx.Rn.dK}var n=t.prototype;return n.Wtt=function(){return this.Htt.Oj.reduce(function(t,n){return _.max(t,n.xY&&n.xY.targetDuration||0)},0)},n.Xtt=function(t,n){void 0===n&&(n=this.jb.D0(t).Nw());var i=this.jb.C0(t,Gy.Pm(n));return new RU(t,n,i.Nw())},n.qtt=function(t,n){var i=t.OY.gY(n);return i&&this.Xtt(i)||null},n.Gtt=function(t){var n=t.iZ,i=n.OY._Y(t.vY);return i>=0&&this.qtt(n,i-1)||null},n.Qtt=function(t){var n=t.iZ,i=n.OY._Y(t.vY);return i>=0&&this.qtt(n,i+1)||null},n.Ytt=function(t,n){var i=this.jb.r5(t,Gy.Pm(n));return i&&this.Xtt(i.dk,i.ctt.Nw())||null},n.jtt=function(t){var n=t.OY.sl-1;return n>=0&&this.qtt(t,n)||null},n.Ztt=function(t,n,i){var e=t.xY&&t.xY.targetDuration||this.Wtt()||10,r=_.max(0,n-e),s=r+e;return i&&DU(i,r,s)&&(s=(r=i.nw)+e),new IU(t,r,s)},n.Jtt=function(t,n,i){var e=this.ztt.K4,r=.8*this.ztt.t6,s=(n.bandwidth||0)*t.d_;return i&&i.X$?((s=8*i.o0||s)-8*i.u0)/r:e+s/r},n.$tt=function(){for(var t=this.ztt.I4(this.rk),n=this.ztt.s4(this.rk),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n.Ktt=function(t,n){var i=n.filter(function(n){return n.iZ===t});return IB(this.jb,i).R0()},n.tnt=function(t){return"audio"===this.rk&&t?[t]:this.Htt.Oj},n.nnt=function(t){for(var n=new RB([]),i=new RB([]),e=this.$tt(),r={int:{},ent:{},rnt:{},snt:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Ktt(u,e),h=OB(this.jb,o);r.int[u._l]=o,r.ent[u._l]=h,r.rnt[u._l]=n=PU(n,o),r.snt[u._l]=i=PU(i,h)}return r},n.unt=function(t,n,i,e,r){for(var s,u,o,h,a=[],c=0;c<e.length;c++)for(var f=r[e[c]._l],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({SR:d,RR:l})}return 0===(s=cB(s=aB(new uB(a)),new uB([{SR:t,RR:n}]))).length||SU(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,SU(u,t)<=0&&SU(h,o)<=0)?NaN:s.end(0)},n.ont=function(t,n,i){var e=null,r=i.int[t._l],s=i.rnt[t._l],u=i.snt[t._l],o=s.k0(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new uB([{SR:h,RR:a}]),f=s.HR(c).Hw(u),v=0;v<f.length;v++){var d=f.start(v),l=f.OY(v)[0];if(l.dk.iZ===t){if(e=this.Gtt(l.dk))return e}else{for(e=this.Ytt(t,d);e&&xU(e,r);)e=this.Gtt(e.dk);if(e)return e}}var g=s.OY(o),w=g[g.length-1];if(w.dk.iZ===t&&(e=this.Qtt(w.dk)))return e}var m=this.jtt(t);if(!m||SU(m.nw,n)<=0){if(!m||!m.dk.Z2)return e=this.Ztt(t,n,m);e=m}for(e||(e=this.Ytt(t,n));e&&xU(e,s);)e=this.Qtt(e.dk);return e},n.hnt=function(t,n){var i=this.jtt(t);return i&&i.dk.Z2&&SU(i.nw,n)<=0?i:this.Ytt(t,n)},n.ant=function(t,n,i,e,r,s,u,o){var h=t.iZ,a=u.rnt[h._l],c=!xU(t,a),f=c?n:CU(t,e);t.xtt=OU(f,e,s),t.Btt=this.Jtt(t,h);var v=o&&this.Xtt(o);if(v&&!xU(v,a)){var d=CU(v,e);if(v.xtt=OU(d,e,s),v.Btt=this.Jtt(v,h,i&&i.zK),LU(v)&&(!c||function(t,n){var i=[];return!!MU(i,n)&&(UU(i,n),!(!NU(t)||!NU(n)||t.dk!==n.dk)||!!MU(i,t))}(t,v)))return v}if(c&&!LU(t))return null;var l=this.cnt(t,e,r,s,a);return l.length&&l[l.length-1]||null},n.cnt=function(t,n,i,e,r){for(var s=[],u=t.iZ,o=t;o&&n<o.nw&&i<=o.tw;){if(!xU(o,r)){if(m(o.xtt)){var h=CU(o,n);o.xtt=OU(h,n,e),o.Btt=this.Jtt(o,u)}MU(s,o)&&UU(s,o)}o=NU(o)&&this.Gtt(o.dk)}return s},n.fnt=function(t,n){return t.tw<n?{wl:EU.Ftt}:NU(t)?{wl:EU.Mtt,dk:t.dk,tw:t.tw}:{wl:EU.Utt,iZ:t.iZ}},n.S4=function(t){if(rx(t.uri)){var n=t.uri,i=Jx(n.rj,[n.sj.SR,n.sj.RR]);return this.HK.as(i)}var e=Jx(t.uri);return this.HK.as(e)},n.vnt=function(t){return this.Vtt.as(t.uri)},n.dnt=function(t,n,i,e,r,s,u,o,h){var a,c,f,v,d,l,_,g,w,y,p,k,b;return nr.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(a=this.tnt(e),c=this.nnt(a),f=this.jb.Ptt.Nw(),v=this.unt(t,n,r,a,c.ent),_=null,w=!1,!m(v)){A.next=3;break}return A.abrupt("return",{wl:EU.O5});case 3:if(!(v<f)){A.next=5;break}return A.abrupt("return",{wl:EU.Ftt});case 5:y=o.length-1;case 6:if(!(y>=0)){A.next=27;break}if(d=o[y],l=BU(v,c.ent[d._l]),!(_=this.ont(d,l,c))){A.next=24;break}if(p=!1,!NU(_)){A.next=18;break}return A.next=15,nr.awrap(this.S4(_.dk));case 15:p=A.sent,A.next=22;break;case 18:if(d.wZ){A.next=22;break}return A.next=21,nr.awrap(this.vnt(d));case 21:p=A.sent;case 22:if(!p){A.next=24;break}return A.abrupt("return",this.fnt(_,f));case 24:y-=1,A.next=6;break;case 27:if(!(v<=t+AU&&h.length)){A.next=33;break}if(d=h[0],l=BU(v,c.ent[d._l]),!(_=this.ont(d,l,c))){A.next=33;break}return A.abrupt("return",this.fnt(_,f));case 33:k=h.length-1;case 34:if(!(k>=0)){A.next=48;break}if(d=h[k],l=BU(v,c.ent[d._l]),(_=this.ont(d,l,c))?g=_:(w=!0,g=this.hnt(d,l)),!g){A.next=45;break}if(!(b=this.ant(g,l,s,t,f,i,c,u))){A.next=45;break}return A.abrupt("return",this.fnt(b,f));case 45:k-=1,A.next=34;break;case 48:if(!w){A.next=50;break}return A.abrupt("return",{wl:EU.O5});case 50:if(!_){A.next=52;break}return A.abrupt("return",this.fnt(_,f));case 52:if(o.length){A.next=54;break}return A.abrupt("return",{wl:EU.O5});case 54:if(d=o[0],l=BU(v,c.ent[d._l]),!(_=this.ont(d,l,c))){A.next=61;break}return A.abrupt("return",this.fnt(_,f));case 61:return A.abrupt("return",{wl:EU.O5});case 62:case"end":return A.stop()}},null,this,null,we)},t}(),HU=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).lnt=i,o._nt=e,o.wb=r,o.rk=s,o.rv=u,o}return S(n,t),n}(Ps),zU=function(t){function n(n,i,e,r,s){return t.call(this,yc.Ca,n,i,e,r,s)||this}return S(n,t),n}(HU),VU=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,yc.Pa,n,i,e,r,s)||this).gnt=u,h.Rg=o,h}return S(n,t),n}(HU),WU=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}(Ey),XU=function(){function t(t,n){this.zq=t,this.Nq=n}return t.prototype.mw=function(t){return this.zq===t.zq&&this.Nq===t.Nq},t}(),qU=function(){function t(t,n){this.wnt="",this.Yx=t,this.mnt=n}var n=t.prototype;return n.ynt=function(t){this.wnt+=t},n.pnt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.ynt(i)}},A(t,[{key:"Zq",get:function(){return this.wnt}},{key:"qq",get:function(){return[this]}},{key:"Yq",get:function(){return this.Yx}},{key:"$q",get:function(){return this.mnt}},{key:"Jq",get:function(){return new XU(this.$q.zq,this.$q.Nq+this.Zq.length-1)}}]),t}(),GU=function(){function t(){}var n=t.prototype;return n.knt=function(t){return t.qm(this)},n.bnt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.qm(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.Ant=function(t,n){return new QU(t,n).Tnt()},t}(),QU=function(){function t(t,n){this.Snt=[],this.Ent=null,this.zq=t,this.Rnt=n}var n=t.prototype;return n.Tnt=function(){if(this.Int)return[];for(var t=0;t<this.zq.length;t++)this.Nnt(t);return this.Dnt(),this.Snt},n.Cnt=function(t){this.Ent=new qU(oP,new XU(this.Rnt,t))},n.Dnt=function(){this.Ent&&(this.Snt.push(this.Ent),this.Ent=null)},n.Nnt=function(t){var n=this.zq[t];YU(n)?this.Ent&&this.Dnt():(this.Ent||this.Cnt(t),this.Ent.ynt(n))},A(t,[{key:"Int",get:function(){return this.zq.every(YU)}}]),t}();function YU(t){return null==t}var jU=function(){function t(){}return t.Ont=function(t,n,i){if(!(n>=i)){var e=cs(t,function(t,n){return new QU(t.map(function(t){return t?t.Pnt():null}),n).Tnt()});if(0!==e.length)return new WU(n,i,e)}},t}(),ZU="black",JU="white",$U=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),KU=function(){function t(){this.xnt=[],this.Bnt=0,this.Lnt=void 0;for(var t=0;t<cP;t++)this.xnt.push(null);this.Lnt=!1}var n=t.prototype;return n.Mnt=function(t){for(var n=0;n<cP;n++)t&&(this.xnt[n]=t.xnt[n])},n.mw=function(t){for(var n=0;n<cP;n++)if(this.xnt[n]!==t.xnt[n])return!1;return!0},n.Unt=function(){for(var t=0;t<cP;t++)if(null!==this.xnt[t])return!1;return!0},n.Fnt=function(t){this.Bnt!==t&&(this.Bnt=t),this.Bnt<0?this.Bnt=0:this.Bnt>cP&&(this.Bnt=cP-1)},n.Hnt=function(t){var n=this.Bnt+t;this.Fnt(n)},n.znt=function(){this.Hnt(-1),this.xnt[this.Bnt]=null},n.ynt=function(t){t>=144&&this.znt();var n,i=$U[n=t]?String.fromCharCode($U[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Bnt>=cP||(32===Number(t)?(this.xnt[this.Bnt]=this.Lnt?"</i>":"<i>",this.Lnt=!this.Lnt):this.xnt[this.Bnt]=t,this.Hnt(1))},n.Vnt=function(t){for(var n=t;n<cP;n++)this.xnt[n]=null},n.ds=function(){this.Vnt(0),this.Bnt=0},n.Wnt=function(){this.Vnt(this.Bnt)},n.Xnt=function(t,n){for(var i=this.xnt,e=null,r=0;r<cP;r++){var s=i[r];null===s?e=null:(e||(e={qnt:r,Gnt:t,Rw:0,hk:1,xnt:[[]]},n.push(e)),e.xnt[0].push(s),e.Rw++)}},n.qm=function(t,n){return t.Ant(this.xnt,n)},t}();var tF,nF=function(){function t(t,n){this.Qnt=void 0,this.Ynt=void 0,this.jnt=void 0,this.Znt=void 0,this.Jnt=void 0,this.$nt=void 0,this.Knt=void 0,this.tit=void 0,this.nit=void 0,this.Qnt=new Array(iF+1);for(var i=0;i<=iF;i++)this.Qnt[i]=new KU;this.Ynt=1,this.jnt=0,this.Znt=t,this.Jnt=n,this.$nt=!1,this.Knt=!1,this.tit=JU,this.nit=ZU,this.nl()}var n=t.prototype;return n.iit=function(t,n){var i="CC"+(this.Znt<<1|this.Jnt+1);if(t>=n)return null;var e=(new GU).bnt(this.Qnt.slice(1));return 0===e.length?null:{Kg:new WU(t,n,e),wf:i,eit:this.Znt<<1|this.Jnt+1}},n.nl=function(){this.rit(),this.Ynt=1},n.sit=function(){return this.Ynt},n.uit=function(t){this.Ynt=t},n.Fnt=function(t){this.Qnt[this.Ynt].Fnt(t)},n.Hnt=function(t){this.Qnt[this.Ynt].Hnt(t)},n.oit=function(){return this.jnt},n.hit=function(t){this.jnt=t},n.ynt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case tF.ait:i=void 0!==rF[n]?rF[n]:String.fromCharCode(n);break;case tF.cit:i=sF[n];break;case tF.fit:this.vit(),i=uF[n];break;case tF.dit:this.vit(),i=oF[n]}i&&this.Qnt[this.Ynt].addParsedChar(i)}},n.vit=function(){this.Qnt[this.Ynt].znt()},n.lit=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Qnt[t+e]=this.Qnt[n+e];else for(var r=0;r<i;r++)this.Qnt[t+r]=this.Qnt[n+r]},n._it=function(t,n){for(var i=0;i<=n;i++)this.Qnt[t+i]=new KU},n.rit=function(){this._it(0,iF)},n.git=function(){this.Ynt=this.jnt>0?this.jnt:0,this.rit()},n.wit=function(t){this.$nt=t},n.mit=function(t){this.Knt=t},n.yit=function(t){this.tit=t},n.pit=function(t){this.nit=t},t}(),iF=15;!function(t){t[t.ait=0]="ait",t[t.cit=1]="cit",t[t.fit=2]="fit",t[t.dit=3]="dit"}(tF||(tF={}));var eF,rF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},sF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},uF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},oF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},hF=function(){function t(t,n){this.fi=void 0,this.kit=void 0,this.Ait=void 0,this.Tit=void 0,this.Sit=void 0,this.Eit=void 0,this.Rit=void 0,this.Iit=void 0,this.fi=eF.fR,this.kit=new nF(t,n),this.Ait=new nF(t,n),this.Tit=new nF(t,n),this.Sit=this.Ait,this.Eit=0,this.Rit=void 0,this.Iit=!1}var n=t.prototype;return n.nl=function(){this.Iit=!0,this.Eit=0,this.fi=eF.fR,this.Sit=this.Ait,this.Rit=void 0,this.Ait.nl(),this.Tit.nl(),this.kit.nl()},n.Nit=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Dit=function(t,n){var i=this.Nit(t,n),e=(30&n)>>1,r=JU,s=!1;e<7?r=vF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.fi!==eF.Pn){var o=this.Sit;if(this.fi===eF.Cit&&i!==o.sit()){var h=1+o.sit()-o.oit(),a=1+i-o.oit();o.lit(a,h,o.oit()),o._it(0,a-1),o._it(i+1,iF-i)}o.uit(i);var c=aP[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{Iq:hP[i].Iq,Rq:hP[i].Rq,Nq:hP[i].Nq,zq:t}}(c,n);o.Fnt(f.Nq),this.Sit.wit(u),this.Sit.mit(s),this.Sit.yit(r),this.Sit.pit(ZU)}}},n.Oit=function(t,n){this.Sit.wit(!1),this.Sit.mit(!1),this.Sit.yit(JU);var i=this.Pit(t,tF.ait," ".charCodeAt(0)),e=JU,r=!1,s=1==(1&n);return"white_italics"===(e=vF[(14&n)>>1])&&(e="white",r=!0),this.Sit.wit(s),this.Sit.mit(r),this.Sit.yit(e),i},n.Pit=function(t,n,i){if(this.Sit.ynt(n,i),this.fi===eF.xit||this.fi===eF.Cit){var e=this.Bit(this.Sit,this.Eit,t);return this.Eit=t,e}return null},n.Bit=function(t,n,i){return this.Iit?null:t.iit(n,i)},n.Lit=function(t,n){var i=ZU;0==(7&t)&&(i=fF[(14&n)>>1]),this.Sit.pit(i)},n.Mit=function(t){var n=aF,i=t.Uit,e=t.S6,r=null;switch(i){case n.RCL:this.Fit();break;case n.BS:this.Hit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.zit(2,e);break;case n.RU3:r=this.zit(3,e);break;case n.RU4:r=this.zit(4,e);break;case n.FON:r=this.Vit(e);break;case n.RDC:this.Wit(e);break;case n.TR:this.Xit();break;case n.RTD:this.qit();break;case n.EDM:r=this.Git(e);break;case n.CR:r=this.Qit(e);break;case n.ENM:this.Yit();break;case n.EOC:r=this.jit(e)}return r},n.Qit=function(t){var n=this.Sit;if(this.fi!==eF.Cit)return null;var i=this.Bit(n,this.Eit,t),e=n.sit()-n.oit()+1;return n.lit(e-1,e,n.oit()),n._it(0,e-1),n._it(n.sit(),iF-n.sit()),this.Eit=t,i},n.zit=function(t,n){this.Sit=this.Ait;var i=this.Sit,e=null;return this.fi!==eF.Cit&&this.fi!==eF.Pn&&(e=this.Bit(i,this.Eit,n),this.Ait.git(),this.Tit.git(),this.Iit=!1,i.uit(iF)),this.fi=eF.Cit,i.hit(t),e},n.Vit=function(t){return this.Pit(t,tF.ait," ".charCodeAt(0))},n.Git=function(t){var n=this.Ait,i=null;return this.fi!==eF.Pn&&(i=this.Bit(n,this.Eit,t)),n.rit(),this.Iit=!1,i},n.Wit=function(t){this.fi=eF.xit,this.Sit=this.Ait,this.Sit.hit(0),this.Eit=t},n.Yit=function(){this.Tit.rit()},n.jit=function(t){var n=null;this.fi!==eF.Pn&&(n=this.Bit(this.Ait,this.Eit,t));var i=this.Tit;return this.Tit=this.Ait,this.Ait=i,this.Fit(),this.Eit=t,n},n.Fit=function(){this.fi=eF.Zit,this.Sit=this.Tit,this.Sit.hit(0)},n.Hit=function(){this.Sit.vit()},n.Xit=function(){this.kit.nl(),this.Iit=!1,this.qit()},n.qit=function(){this.Sit=this.kit,this.fi=eF.Pn},n.Jit=function(t,n,i){return this.Sit.ynt(tF.ait,n),this.Pit(t,tF.ait,i)},n.$it=function(t,n,i){var e=1&n?tF.dit:tF.fit;return this.Pit(t,e,i)},n.Kit=function(t){var n=t.tet,i=t.Uit,e=t.S6;if(this.Rit===(n<<8|i))return this.Rit=void 0,null;if(this.Rit=n<<8|i,this.net(n,i))this.Dit(n,i);else{if(this.iet(n,i))return this.Oit(e,i);if(this.eet(n,i))this.Lit(n,i);else{if(this.ret(n,i))return this.Pit(e,tF.cit,i);if(this.uet(n,i))return this.$it(e,n,i);if(this.oet(n,i))return this.Mit(t);this.isTabOffset(n)&&this.Sit.Hnt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.oet=function(t,n){return 20==(246&t)&&32==(240&n)},n.net=function(t,n){return 16==(240&t)&&64==(192&n)},n.iet=function(t,n){return 17==(247&t)&&32==(240&n)},n.eet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.ret=function(t,n){return 17==(247&t)&&48==(240&n)},n.uet=function(t,n){return 18==(246&t)&&32==(224&n)},t.het=function(t){return 16==(112&t)},t}(),aF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.fR=0]="fR",t[t.Zit=1]="Zit",t[t.xit=2]="xit",t[t.Cit=3]="Cit",t[t.Pn=4]="Pn"}(eF||(eF={}));var cF,fF=["black","green","blue","cyan","red","yellow","magenta","black"],vF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],dF=function(){function t(t,n,i,e,r){this.aet=void 0,this.$nt=void 0,this.Knt=void 0,this.nit=void 0,this.tit=void 0,this.aet=t,this.$nt=n,this.Knt=i,this.nit=e,this.tit=r}var n=t.prototype;return n.Pnt=function(){return this.aet},n.cet=function(){return this.$nt},n.fet=function(){return this.Knt},n.vet=function(){return this.nit},n.det=function(){return this.tit},t}(),lF=function(){function t(t){this.let=void 0,this.wR=void 0,this._et=void 0,this.wet=void 0,this.met=void 0,this.yet=void 0,this.pet=void 0,this.ket=void 0,this.bet=void 0,this.Aet=void 0,this.fw=void 0,this.Ynt=void 0,this.Tet=void 0,this.Knt=void 0,this.$nt=void 0,this.tit=void 0,this.nit=void 0,this.let=t,this.wR=!1,this._et=!1,this.wet=0,this.met=0,this.yet=0,this.pet=0,this.ket=0,this.bet=cF.Eet,this.Aet=[],this.fw=0,this.Ynt=0,this.Tet=0,this.Knt=!1,this.$nt=!1,this.tit=JU,this.nit=ZU,this.Ret()}var n=t.prototype;return n.Iet=function(t,n,i,e,r,s,u){this.wR=t,this.met=n,this.wet=i,this.yet=e,this._et=r,this.pet=s,this.ket=u},n.Ret=function(){this.Aet=[];for(var t=0;t<mF;t++)this.Aet.push(this.Net())},n.Net=function(){for(var t=[],n=0;n<wF;n++)t.push(null);return t},n.Det=function(t){this.Cet()&&(this.Aet[this.Ynt][this.Tet]=new dF(t,this.$nt,this.Knt,this.nit,this.tit),this.Tet++)},n.Oet=function(){this.Cet()&&(this.Tet<=0&&this.Ynt<=0||(this.Tet<=0?(this.Tet=this.ket-1,this.Ynt--):this.Tet--,this.Aet[this.Ynt][this.Tet]=null))},n.Cet=function(){var t=this.Ynt<this.pet&&this.Ynt>=0,n=this.Tet<this.ket&&this.Tet>=0;return t&&n},n.Pet=function(){return this.wR},n.xet=function(t){for(var n=0,i=t;i<mF;i++,n++)this.Aet[n]=this.Aet[i];for(var e=0;e<t;e++,n++)this.Aet[n]=this.Net()},n.Bet=function(){if(this.Ynt+1>=this.pet)return this.xet(1),void(this.Tet=0);this.Ynt++,this.Tet=0},n.Let=function(){this.Aet[this.Ynt]=this.Net(),this.Tet=0},n.iit=function(t,n){if(this.fw>=t)return null;var i=jU.Ont(this.Aet,this.fw,t);return i?(this.x7(t),{Kg:i,wf:"svc"+n,eit:n}):null},n.Met=function(t,n){this.Ynt=t,this.Tet=n},n.Uet=function(t){this.nit=t},n.Fet=function(t){this.tit=t},n.Het=function(t){this.$nt=t},n.zet=function(t){this.Knt=t},n.Vet=function(){this.Ynt=0,this.Tet=0,this.$nt=!1,this.Knt=!1,this.tit=JU,this.nit=ZU},n.Wet=function(t){this.bet=t},n.Xet=function(){this.wR=!0},n.cg=function(){this.wR=!1},n.qet=function(){this.wR=!this.wR},n.x7=function(t){this.fw=t},t}();!function(t){t[t.Get=0]="Get",t[t.Qet=1]="Qet",t[t.Eet=2]="Eet",t[t.Yet=3]="Yet"}(cF||(cF={}));var _F,gF,wF=42,mF=15,yF=function(){function t(t){this.jet=void 0,this.Zet=void 0,this.Jet=void 0,this.jet=t,this.Zet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Jet=void 0}var n=t.prototype;return n.$et=function(t){var n=t.Ket(),i=n.qn,e=n.S6;i===TF&&(i=i<<16|t.Ket().qn);return i>=0&&i<=31?this.trt(i,e):i>=128&&i<=159?this.nrt(t,i,e):(i>=4096&&i<=4127?this.irt(t,255&i):i>=4224&&i<=4255?this.ert(t,255&i):i>=32&&i<=127?this.rrt(i):i>=160&&i<=255?this.urt(i):i>=4128&&i<=4223?this.ort(255&i):i>=4256&&i<=4351&&this.hrt(255&i),null)},n.rrt=function(t){this.Jet&&(127!==t?this.Jet.Det(String.fromCharCode(t)):this.Jet.Det("\u266a"))},n.urt=function(t){this.Jet&&this.Jet.Det(String.fromCharCode(t))},n.ort=function(t){if(this.Jet)if(void 0!==SF[t]){var n=SF[t];this.Jet.Det(n)}else this.Jet.Det("_")},n.hrt=function(t){this.Jet&&(160===t?this.Jet.Det("[CC]"):this.Jet.Det("_"))},n.trt=function(t,n){if(!this.Jet)return null;var i=this.Jet,e=null;switch(t){case pF:i.Oet();break;case bF:i.Pet()&&(e=i.iit(n,this.jet)),i.Bet();break;case AF:i.Pet()&&(e=i.iit(n,this.jet)),i.Let();break;case kF:i.Pet()&&(e=i.iit(n,this.jet)),i.Ret(),i.Met(0,0)}return e},n.nrt=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.art(e)}else{if(136===n){var r=t.Ket().qn;return this.crt(r,i)}if(137===n){var s=t.Ket().qn;this.frt(s,i)}else{if(138===n){var u=t.Ket().qn;return this.vrt(u,i)}if(139===n){var o=t.Ket().qn;return this.drt(o,i)}if(140===n){var h=t.Ket().qn;return this.lrt(h,i)}if(143===n)return this.nl(i);if(144===n)this._rt(t);else if(145===n)this.grt(t);else if(146===n)this.Met(t);else if(151===n)this.wrt(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Iet(t,a,i)}}}return null},n.irt=function(t,n){n>=8&&n<=15?t.vp(1):n>=16&&n<=23?t.vp(2):n>=24&&n<=31&&t.vp(3)},n.ert=function(t,n){n>=128&&n<=135?t.vp(4):n>=136&&n<=143&&t.vp(5)},n.art=function(t){this.Zet[t]&&(this.Jet=this.Zet[t])},n.mrt=nr.mark(function t(n){var i;return nr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Zet[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.crt=function(t,n){for(var i=null,e=0,r=this.mrt(t);e<r.length;e++){var s=r[e],u=this.Zet[s];u.Pet()&&(i=u.iit(n,this.jet)),u.Ret()}return i},n.frt=function(t,n){for(var i=0,e=this.mrt(t);i<e.length;i++){var r=e[i],s=this.Zet[r];s.Pet()||s.x7(n),s.Xet()}},n.vrt=function(t,n){for(var i=null,e=0,r=this.mrt(t);e<r.length;e++){var s=r[e],u=this.Zet[s];u.Pet()&&(i=u.iit(n,this.jet)),u.cg()}return i},n.drt=function(t,n){for(var i=null,e=0,r=this.mrt(t);e<r.length;e++){var s=r[e],u=this.Zet[s];u.Pet()?i=u.iit(n,this.jet):u.x7(n),u.qet()}return i},n.lrt=function(t,n){for(var i=null,e=0,r=this.mrt(t);e<r.length;e++){var s=r[e],u=this.Zet[s];u.Pet()&&(i=u.iit(n,this.jet)),this.Zet[s]=void 0}return i},n.nl=function(t){var n=this.lrt(255,t);return this.ds(),n},n.ds=function(){this.Jet=void 0,this.Zet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n._rt=function(t){t.vp(1);var n=t.Ket().qn;if(this.Jet){var i=(128&n)>0,e=(64&n)>0;this.Jet.zet(i),this.Jet.Het(e)}},n.grt=function(t){var n=t.Ket().qn,i=t.Ket().qn;if(t.vp(1),this.Jet){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.yrt(s,r,e),c=this.yrt(h,o,u);this.Jet.Fet(a),this.Jet.Uet(c)}},n.Met=function(t){var n=t.Ket().qn,i=t.Ket().qn;if(this.Jet){var e=15&n,r=63&i;this.Jet.Met(e,r)}},n.wrt=function(t){t.vp(1),t.vp(1);var n=t.Ket().qn;if(t.vp(1),this.Jet){var i=3&n;this.Jet.Wet(i)}},n.Iet=function(t,n,i){var e=void 0!==this.Zet[n];if(!e){var r=new lF(n);r.x7(i),this.Zet[n]=r}var s=t.Ket().qn,u=t.Ket().qn,o=t.Ket().qn,h=t.Ket().qn,a=t.Ket().qn,c=t.Ket().qn,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);e&&0===(7&c)||this.Zet[n].Vet(),this.Zet[n].Iet(f,v,l,g,d,_,w),this.Jet=this.Zet[n]},n.yrt=function(t,n,i){var e={0:0,1:0,2:1,3:1};return EF[e[t]<<2|e[n]<<1|e[i]]},t}(),pF=8,kF=12,bF=13,AF=14,TF=16,SF={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},EF=["black","blue","green","cyan","red","magenta","yellow","white"];!function(t){t[t.prt=0]="prt",t[t.krt=1]="krt",t[t.brt=2]="brt",t[t.Art=3]="Art",t[t.Trt=4]="Trt",t[t.Srt=5]="Srt"}(_F||(_F={})),function(t){t[t.Ert=0]="Ert",t[t.Rrt=1]="Rrt",t[t.Irt=2]="Irt",t[t.Nrt=3]="Nrt"}(gF||(gF={}));var RF=function(){function t(){this.Drt=void 0,this.Crt=void 0,this.Ort=void 0,this.Drt=[],this.Crt=null,this.Ort=0}var n=t.prototype;return n.Prt=function(t){if(t.nr===gF.Nrt){var n=63&t.qn;return this.Ort=2*n-1,void(this.Crt=[])}if(this.Crt&&(this.Ort>0&&(this.Crt.push(t),this.Ort--),0===this.Ort)){var i=new IF(this.Crt);this.Drt.push(i),this.Crt=null,this.Ort=0}},n.xrt=function(){return this.Drt},n.Brt=function(){this.Drt=[]},n.ds=function(){this.Drt=[],this.Crt=[],this.Ort=0},t}(),IF=function(){function t(t){this.Lrt=void 0,this.Mrt=void 0,this.Lrt=0,this.Mrt=t}var i=t.prototype;return i.Urt=function(){return this.Lrt<this.Mrt.length},i.Frt=function(){return this.Lrt},i.Ket=function(){if(!this.Urt())throw new Ka(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Mrt[this.Lrt++]},i.vp=function(t){if(this.Lrt+t>this.Mrt.length)throw new Ka(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Lrt+=t},t}(),NF=function(){function t(){this.Hrt=void 0,this.zrt=void 0,this.Vrt=void 0,this.Wrt=void 0,this.Xrt=void 0,this.qrt=void 0,this.Grt=void 0,this.Qrt=void 0,this.Yrt=!1,this.Hrt=[],this.zrt=[],this.Vrt=new RF,this.Wrt=0,this.Xrt=ur({CC1:new hF(0,0),CC2:new hF(0,1),CC3:new hF(1,0),CC4:new hF(1,1)}),this.qrt=0,this.Grt=0,this.Qrt=sr(),this.nl()}var i=t.prototype;return i.ds=function(){this.Wrt=0,this.Hrt=[],this.zrt=[],this.Vrt.ds(),this.nl(),this.Qrt.forEach(function(t){t.ds()})},i.nl=function(){this.qrt=0,this.Grt=0,this.Xrt.forEach(function(t){t.nl()})},i.m2=function(t,n){if(t.f1){var i=t.v1,e=t.d1,r=t.nr;r===gF.Ert||r===gF.Rrt?this.Hrt.push({S6:n,nr:r,tet:i,Uit:e,jrt:this.Hrt.length}):this.Yrt&&(this.zrt.push({S6:n,nr:r,qn:i,jrt:this.zrt.length}),this.zrt.push({S6:n,nr:gF.Irt,qn:e,jrt:this.zrt.length}))}},i.JN=function(){var t=[];Zr(this.Hrt,function(t,n){return t.S6-n.S6||t.jrt-n.jrt}),Zr(this.zrt,function(t,n){return t.S6-n.S6||t.jrt-n.jrt});for(var n=0,i=this.Hrt;n<i.length;n++){var e=i[n],r=this.Zrt(e);r&&t.push(r)}for(var s=0,u=this.zrt;s<u.length;s++){var o=u[s];this.Vrt.Prt(o)}for(var h=this.Vrt.xrt(),a=0;a<h.length;a++){var c=h[a],f=this.Jrt(c);t.push.apply(t,f)}return this.Vrt.Brt(),this.Hrt=[],this.zrt=[],t},i.Zrt=function(t){var n=t.nr;if(hF.het(t.tet)){var i=t.tet>>3&1;0===n?this.qrt=i:this.Grt=i}var e="CC"+(n<<1|(n?this.Grt:this.qrt)+1),r=this.Xrt.get(e);return 255===t.tet&&255===t.Uit||!t.tet&&!t.Uit||!this.$rt(t.tet)||!this.$rt(t.Uit)?(++this.Wrt>=45&&this.nl(),null):(this.Wrt=0,t.tet&=127,t.Uit&=127,t.tet||t.Uit?hF.het(t.tet)?r.Kit(t):r.Jit(t.S6,t.tet,t.Uit):null)},i.Jrt=function(t){var i=[];try{for(;t.Urt();){var e=t.Ket().qn,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.Ket().qn;if(0!==r){if(!this.Qrt.has(r)){var u=new yF(r);this.Qrt.set(r,u)}for(var o=this.Qrt.get(r),h=t.Frt();t.Frt()-h<s;){var a=o.$et(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Ka&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.$rt=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),DF=function(t){function n(n,i){var e;return(e=t.call(this,"Krt")||this).eit=n,e.Kg=i,e}return S(n,t),n}(Ps),CF=function(t){function n(){var n;return(n=t.call(this)||this).tst=void 0,n.tst=new NF,n}S(n,t);var i=n.prototype;return i.nst=function(t,n){this.tst.m2(t,n)},i.JN=function(){for(var t=this.tst.JN(),n=0;n<t.length;n++){var i=t[n];this.Fr(new DF(i.eit,i.Kg))}},i.nl=function(){this.tst.ds()},i.hv=function(){this.Wr(),this.tst.ds()},n}(Cs),OF=Gy.Pm(.1),PF=function(t){function n(n){var i;return(i=t.call(this)||this).WZ=void 0,i.ist=[],i.WZ=n,i}S(n,t);var i=n.prototype;return i.est=function(t,n,i){var e=this.rst(t),r=this.sst(e);this.ust(r,n,i),this.JN()},i.rst=function(t){if(0===t.length)return[];for(var n=t[0].U6,i=this.ost(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s.U6&&(n=s.U6,i=this.ost(s)),e.push(ir({},s,{hst:s.a1.Lg(i)}))}return e},i.ost=function(t){var n=this.WZ.x0(t.U6,t.a1),i=n.Hw(t.a1);return ep(n,t.a1).Hw(i)},i.sst=function(t){var n,i,e,r,s,u=t.slice().sort(xF),o=this.ist;if(o.length)if(u.length){var h=1/u[0].U6.VZ,a=u[0].hst,c=o[0].hst,f=o[o.length-1].hst,v=(r=o[0].U6,s=u[0].U6,r.iZ===s.iZ);if(f.Hw(a).Lw(Gy.Pm(2.5*h))&&v)n=o.concat(u).sort(xF);else if(a.Ow(c)){for(var d=0;d<o.length&&o[d].hst.Lw(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],e=u[w],i.a1.mw(e.a1)&&i.nr===e.nr&&i.v1===e.d1?l=!0:_=!0;var m=l&&!_,y=l&&_;!l&&_?n=o.concat(u).sort(xF):m?n=o.slice(0,d).concat(u):(n=u,y&&this.nl())}else n=u,this.nl()}else n=o;else n=u;return n},i.ust=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.Hw(e.hst),s=ep(n,e.hst).Hw(r),u=n.Lg(s),o=OF.Rm(u.bm),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.Hw(a.hst).Lw(o))return void(this.ist=t.slice(h));var c=this.WZ.x0(a.U6,a.a1);this.nst(a,c.Nw())}this.ist=[]}},A(n,[{key:"Ok",get:function(){return 4}}]),n}(CF);function xF(t,n){return(t.U6===n.U6?Qy(t.a1,n.a1):Qy(t.hst,n.hst))||ts(t.wb,n.wb)}var BF=function(t){function n(n,i,e,r,s,u,o,h,a,c){var f;return(f=t.call(this)||this).ast=!1,f.cst=!1,f.h4=void 0,f.p$=void 0,f.fst=void 0,f.ztt=void 0,f.vst=void 0,f.X9=void 0,f.rh=void 0,f.jb=void 0,f.dst=void 0,f.lst=!1,f._st=void 0,f.gst=void 0,f.wst=!1,f.mst=!1,f.yst=null,f.TI=void 0,f.tJ=void 0,f.pst=void 0,f.kst=null,f.nw=-1,f.bst=null,f.Ast=!1,f.Tst=!1,f.Sst=1/0,f.Est=void 0,f.Rst=null,f.Ist=0,f.Nst=void 0,f.Ur=function(t){f.dispatchEvent(t)},f.Dst=function(){!f.lst&&!f.wst&&f.Cst&&f.ast&&(f.wst=f.Ost("xj",f._st,function(){f.wst=!1}))},f.Pst=function(){!f.lst&&!f.mst&&f.xst&&f.cst&&(f.mst=f.Ost("Bj",f.gst,function(){f.mst=!1}))},f.Bst=function(t){return f.Lst()},f.Mst=function(t){if(t.rk===f.rk){var n=t.U6,i=n.X2;i.J0&&f.Ust(i.J0,n.info),i.s1&&f.Fst(i.s1,n.info),f.Lst(f.h4._4,!0)}},f.XJ=function(t){var n=t;f.Hst(n.HZ,n.iZ)},f.zst=function(t){if(1===t.eit){if(f.kst)for(var n=0;n<f.kst.Ok;n++){var i="CC"+(n+1);f.p$.mJ(i,t.Kg.tw,t.Kg.nw)}f.p$.wJ(t.Kg)}},f.TI=a,f.p$=i,f.fst=e,f.ztt=r,f.vst=s,f.X9=u,f.rh=o,f.h4=c,f.jb=new kU(o),f.dst=f.Vst(i),r.$d(n,f.jb,f.X9),f._st=new aU(u,f.jb),f.gst=new aU(u,f.jb),f.kst=f.Wst(f.jb),f.Nst=new FU(n,f.jb,f.dst,r),r.addEventListener("M6",f.Mst),f.jb.addEventListener("ts",f.Ur),i.addEventListener("CJ",f.XJ),f}S(n,t);var i=n.prototype;return i.Ost=function(t,n,i){var e=this,r=this.X9.m4,s=5*this.X9.m_,u=this.Xst(),o="audio"===this.rk?[this.qst]:this.dst.Oj,h=n.o7(),a=h[0],c=h[1],f=this.ztt.c5(this.rk,t,this.jb,o,a,c||void 0,r,s,u);return f&&!f.length&&f.Z6?(this.X9.Gst("xj"===t,"Bj"===t),!1):!(!f||!f.length)&&(this.vst.Y5(this.rk,this.p$,f,f.J6,f.u5,f.Z6,function(t,r){if(i(),t)e.dispatchEvent({type:"ts",ts:t});else{var s=r;n.J9(s).then(function(){return e.dispatchEvent("N$")}).catch(function(t){0})}}),!0)},i.Qst=function(){this.vst.Cr(this.rk),this.wst=!1,this.mst=!1},i.Yst=function(){var t=this.X9.m4,n=this._st.e7(t)||this.gst.e7(t);!n||this.yst&&this.yst.vY===n.vY||(this.Lst(this.h4._4),this.yst=n,this.dispatchEvent({type:"jst",tA:this.yst.bs.q2}))},i.Zst=function(){this.Jst()},i.$st=function(){this.Zst()},i.Kst=function(){this.Lst(this.h4._4)},i.tut=function(t,n){this._st.e7(t)||this.gst.e7(t)||(this.yst=null)},i.nut=function(t){var n=!1;this._st.u7().Mg(t)||(this.Dst(),n=!0),this.gst.u7().Mg(t)||(this.Pst(),n=!0),n&&this.Lst(this.h4._4,!0)},i.iut=function(){this._st.ds()},i.eut=function(){this.gst.ds()},i.Xst=function(){return 0===this._st.sl+this.gst.sl?0:"q6"===this.rh.G6?0:1*this.ztt.g4},i.Jst=function(){this.Dst(),this.Pst()},i._$=function(t){return-1!==this.dst.Oj.indexOf(t)},i.rut=function(t){t&&this._$(t)&&(this.GZ(t),this.NJ(t))},i.GZ=function(t){this.jb.K7(t,t.xY)},i.NJ=function(t){var n=this;if(t&&t.xY&&this.rh.hlsDateRange){this.p$.NJ(t.xY.dateRanges,function(i){return n.jb.ftt(t,i).Nw()})}},i.sut=function(t){this._$(t.iZ)&&this.jb.E7(t.iZ,t)},i.uut=function(t){var n,i,e,r=t,s=this._st.e7(r)||this.gst.e7(r);if(s)i=s.bs.quality,e=s.vY,n=s.SR;else{var u=this.qst;if(!u)return null;var o=this.jb.r5(u,Gy.Pm(r));if(!o)return null;i=u,e=o.dk.vY,n=o.ctt.Nw()}var h=this.jb.att(i,e);if(!h)return null;var a=r-n;return new Date(h.getTime()+1e3*a)},i.ftt=function(t){var n=this.qst;return this.jb.ftt(n,t).Nw()},i.Lst=function(t,n){var i=this,e=this.out(),r=this.X9.m4;t&&(this.nw=r+t,n&&(this.Rst=null,this.Ist=0)),this.out()||r>=this.nw?this.hut(e):this.bst||this.Ast||!this.ll||(this.aut(),this.cut(function(t){return i.fut(r,i.X9.m_,t)}))},i.vut=function(t){t&&this.fst.removeEventListener(t.uri,this.Bst)},i.dut=function(t){t&&this.fst.addEventListener(t.uri,this.Bst)},i.out=function(){return-1===this.nw},n.lut=function(t){return nx.D_(t.iZ._Z)&&tR()-t.Qp>2e3*t.iZ.xY.metadata.U8},i.cut=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.bst=new ls,i=this.bst,e.prev=3,e.next=6,nr.awrap(t(i.xr));case 6:n=e.sent,ws(i.xr),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),ys(e.t0);case 13:return e.prev=13,this.bst===i&&(this.bst=null),e.finish(13);case 16:n&&this.Lst();case 17:case"end":return e.stop()}},null,this,[[3,10,13,16]],we)},i.aut=function(){this.bst&&(this.bst.Cr(),this.bst=null)},i._ut=function(t,n){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,we)},i.gut=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!zF.lut(t)){i.next=2;break}return i.abrupt("return",this.dispatchEvent("wut"));case 2:if(n=_.min(16e3,1e3*_.pow(2,this.Ist)),this.Ist+=1,this.aut(),!(this.Ist>2)){i.next=8;break}return t.iZ.rZ(!1),i.abrupt("return",t.iZ.hZ());case 8:this.cut(function(t){return Rs(n,t).then(function(){return!0})});case 9:case"end":return i.stop()}},null,this,null,we)},i.Ust=function(t,n){var i,e;e=kx((i=t).$0,4),i.gJ="0000.0000.0000."+e,function(t){var n=kx(t.K0,4),i=kx(t.n1,3),e=kx(t.i1,2*t.n1);t.El=(n+i+e).toUpperCase()}(t),cU(n,this.jb,t),this.p$._J(t,this.jb)},i.Fst=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(ir({},r,{U6:n}))}this.kst&&this.kst.est(i,n.J3,n.Z2)},i.mut=function(t){this.Est&&this.Est.U6===t&&this.Lst()},i.yut=function(t,n){if(n){if(n.aborted)return;if(this.Rst===t)return this.gut(t)}else t.iZ.rZ(!0);return this.Lst()},i.kut=function(t){var n=cx(t.iZ.HZ);n&&this.dispatchEvent(new zU(ex(t.uri),t.iZ.bandwidth||0,t.vY,t.iZ.vY,n))},i.but=function(t,n){var i=this.Est&&this.Est.Bf.VK||200,e=cx(t.iZ.HZ);e&&this.dispatchEvent(new VU(ex(t.uri),t.iZ.bandwidth||0,t.vY,t.iZ.vY,e,i,n&&n.zK.u0||0))},i.hut=function(t){this.nw=-1,t||this.dispatchEvent("Aut")},i.Tut=function(t){this.Tst=!0,this.hut(t),this.dispatchEvent("q$")},i.fut=function(t,n,i){var e,r,s,u,o,h,a=this;return nr.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(ws(i),e=this.qst,r=this.out(),this.vut(e||void 0),!(t>=this.nw)){c.next=7;break}return this.hut(r),c.abrupt("return",!1);case 7:return c.next=9,nr.awrap(this.Nst.dnt(t,this.nw,n,e||void 0,this.Xst(),this.Est&&this.Est.Bf,this.Est&&this.Est.U6,this.Sut,this.Eut));case 9:if(s=c.sent,Ow.Wl(this.ztt.t6/8),ws(i),s.wl!==EU.Ftt){c.next=18;break}return this.aut(),this.dispatchEvent("wut"),c.abrupt("return",!1);case 18:if(s.wl!==EU.Utt){c.next=29;break}if(s.iZ!==e){c.next=24;break}return this.dut(e),c.abrupt("return",!1);case 24:return c.next=26,nr.awrap(this._ut(s.iZ,null));case 26:return c.abrupt("return",c.sent);case 27:c.next=33;break;case 29:if(s.wl!==EU.O5){c.next=33;break}return this.dut(e||void 0),!nx.D_(e._Z)&&e.xY&&this.Tut(r),c.abrupt("return",!1);case 33:if(u=s.dk,!this.Est||this.Est.U6!==u){c.next=36;break}return c.abrupt("return",!1);case 36:if(u.iZ===e){c.next=40;break}return c.next=39,nr.awrap(this._ut(u.iZ,u));case 39:return c.abrupt("return",c.sent);case 40:if(this.Est&&(this.Est.Bf.Cr(),this.Est=void 0),!(s.tw>this.Sst)){c.next=46;break}return this.Tut(r),c.abrupt("return",!1);case 46:if(!(s.tw>this.nw)){c.next=49;break}return this.hut(r),c.abrupt("return",!1);case 49:if(this.Tst=!1,this.Est=void 0,u!==this.Rst&&(this.Ist=0),this.Rst=u,this.dispatchEvent("X$"),this.kut(u),!u.P8){c.next=59;break}return c.next=58,nr.awrap(this.ztt.B6(this.rk,u.iZ,u.P8));case 58:o=c.sent;case 59:return(h=this.ztt.L6(this.rk,u,o,function(t,n){a.aut(),a.but(u,n),a.Est=void 0,i&&i.yr||a.yut(u,t)}))&&(this.Est={U6:u,Bf:h},h.addEventListener("N$",function(){i&&i.yr||a.mut(u)})),c.abrupt("return",!1);case 62:case"end":return c.stop()}},null,this,null,we)},i.Rut=function(t){this.Lst(t||this.h4._4,!0)},i.Iut=function(){var t=this.out();this.nw=-1,this.Est&&this.Est.Bf.Cr(),this.Est=void 0,this.vut(),this.Tst=!1,this.Rst=null,this.Ist=0,this.aut(),this.hut(t),this.kst=this.Wst(this.jb)},i.Nut=function(){this.Ast=!0,this.vut(),this.aut()},i.Dut=function(){this.Ast=!1,this.Lst()},i.Cut=function(){this.lst=!0},i.Out=function(){this.lst=!1,this.Jst()},i.hv=function(){this.Wr(),this.Iut(),this.Qst(),this.Cst=null,this.xst=null,this._st.hv(),this.gst.hv(),this.vst.Cr(this.rk),this.jb.hv(),this.p$.removeEventListener("CJ",this.XJ),this.ztt.removeEventListener("M6",this.Mst),this.dst=null,this.Put()},i.nl=function(){this.yst=null,this.tJ=void 0,this.pst=void 0,this.Put(),this.kst=this.Wst(this.jb)},i.Wst=function(t){var n=new PF(t);return n.Hr("Krt",this.zst),n},i.Put=function(){this.kst&&(this.kst.Xr("Krt",this.zst),this.kst.hv(),this.kst=null)},A(n,[{key:"v_",get:function(){return this.X9.m4}},{key:"xut",get:function(){return this.ast}},{key:"rk",get:function(){return this.But()}},{key:"wZ",get:function(){return this.Lut()}},{key:"Sut",get:function(){return this.Mut()}},{key:"Eut",get:function(){return this.Uut()}},{key:"Cst",get:function(){return this._st.i7},set:function(t){var n=this._st.i7;n&&n.removeEventListener("updateend",this.Dst),this._st.i7=t,t&&(t.addEventListener("updateend",this.Dst),this.Dst())}},{key:"xst",get:function(){return this.gst.i7},set:function(t){var n=this.gst.i7;n&&n.removeEventListener("updateend",this.Pst),this.gst.i7=t,t&&(t.addEventListener("updateend",this.Pst),this.Pst())}},{key:"Aut",get:function(){return this.out()}},{key:"q$",get:function(){return this.Tst}},{key:"Fut",get:function(){return this.Sst},set:function(t){this.Sst=t}},{key:"qst",get:function(){return this.Hut()}},{key:"zut",get:function(){return this.Vut()},set:function(t){this.Wut(t)}},{key:"ll",get:function(){return this.Xut()}},{key:"Ng",get:function(){return this.qut()}}]),n}(MP);function LF(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function MF(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){LF(e,n[s])&&(r=!0)}r||n.push(e)}return n}function UF(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var FF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).p$=void 0,o.jb=void 0,o.ztt=void 0,o.rh=void 0,o.Gut=void 0,o.Qut=void 0,o.Yut=null,o.jut=null,o.Zut=null,o.Jut=null,o.$ut=null,o.Kut=null,o.tot=null,o.iot=!1,o.zg=!0,o.Xj=!0,o.eot=null,o.TI=void 0,o.rot=function(){o.eot&&o.eot.disabled&&o.sot(o.rh.initialRendition||"default"),o.uot(!0)},o.oot=function(){var t=o.p$.UJ.Pj.some(function(t){return t.Ng});o.hot(t)},o.aot=function(t){"variant"===t.rk&&(o.ztt.removeEventListener("W6",o.aot),o.eot&&(o.eot=null,o.uot(!1)))},o.TI=u,o.p$=n,o.jb=i,o.ztt=e,o.rh=r,o.Gut=r.cot||[],o.Qut=new tU(r,jx.Rn.lK,s),o.Yut=null,o.ztt.addEventListener("W6",o.aot),o.fot(),o.vot(),o.sot(r.initialRendition||"default"),o}S(n,t);var i=n.prototype;return i.dot=function(t,n){var i=ox(t);if(i&&!i.disabled)return i;var e=this.lot(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t.vY<=n.vY?t:n});case"high":var r=MF(e);return r[r.length-1];case"low":default:return MF(t)[0]}},i._ot=function(t,n){var i=this.got||this.eot&&[this.eot],e=i&&i.filter(function(n){return hs(t,n)});return e&&e.length>0?MF(e):MF(this.lot(t,n))},i.lot=function(t,n){var i=this.rh,e=this.Gut,r=this.wot();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].mot(t,n,r,i))return!1}return!0})},i.yot=function(t,n){var i=this._ot(t,n);return i.length?i[i.length-1]:t[0]},i.pot=function(t,n){var i=this.got;return i&&i.length>0?i.filter(function(n){return hs(t,n)}):t},i.kot=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.Jut,e=this.$ut,!i||t!==this.Kut||n!==this.tot){u.next=4;break}return u.abrupt("return",i);case 4:return r=new ls,s=this.bot(t,n,r.xr),i&&e&&e.Cr(),this.Jut=s,this.$ut=r,this.tot=n,u.prev=10,u.next=13,nr.awrap(s);case 13:return u.abrupt("return",u.sent);case 14:return u.prev=14,s===this.Jut&&(this.Jut=null,this.$ut=null,this.tot=null),u.finish(14);case 17:case"end":return u.stop()}},null,this,[[10,,14,17]],we)},i.bot=function(t,n,i){var e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return e=this.p$,r=this.jb,s=e.MJ,h.next=5,nr.awrap(this.Aot(t,i));case 5:if(h.sent){h.next=8;break}return h.abrupt("return",!1);case 8:if(!n){h.next=14;break}if(u=r.Ctt(s,n.vY),o=r.r5(t,u),nx.D_(s._Z)||o){h.next=14;break}return t.disabled="isUnsynced",h.abrupt("return",!1);case 14:return h.abrupt("return",!0);case 15:case"end":return h.stop()}},null,this,null,we)},i.Aot=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.jut,e=this.Zut,!i||t!==this.Kut){u.next=4;break}return u.abrupt("return",i);case 4:return(r=new ls).Or(n),s=this.Tot(t,r.xr),i&&e&&e.Cr(),this.jut=s,this.Zut=r,this.Kut=t,u.prev=11,u.next=14,nr.awrap(s);case 14:return u.abrupt("return",u.sent);case 15:return u.prev=15,s===this.jut&&(this.jut=null,this.Zut=null,this.Kut=null),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[11,,15,18]],we)},i.Tot=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.p$,e=i.MJ,!this.ll||e!==t){u.next=4;break}return u.abrupt("return",!1);case 4:if(this.Sot(t)){u.next=8;break}r=t.xY,u.next=22;break;case 8:return u.prev=8,u.next=11,nr.awrap(this.Qut.Yo(t.uri,{}));case 11:s=u.sent,ws(n),r=s.x_,u.next=21;break;case 16:return u.prev=16,u.t0=u.catch(8),t.tZ(!1),t.hZ(),u.abrupt("return",!1);case 21:t.Zj(r,e);case 22:if(!UF(r.fragments[0])){u.next=25;break}return t.disabled="isAAC",u.abrupt("return",!1);case 25:return u.abrupt("return",!0);case 26:case"end":return u.stop()}},null,this,[[8,16]],we)},i.Sot=function(t){var n=t.xY;return!n||!!n.live&&(!t.OY.sl||t.OY.gY(t.OY.sl-1).Qp+1e3*n.targetDuration<tR())},i.Wg=function(t){t?this.zg||(this.zg=!0,this.dispatchEvent("ll")):this.zg&&(this.zg=!1)},i.hot=function(t){t&&!this.Xj?(this.Xj=!0,this.dispatchEvent("Ng")):!t&&this.Xj&&(this.Xj=!1,this.dispatchEvent("lv"))},i.uot=function(t){var n=this,i=this.p$,e=i.MJ,r=i.UJ.Pj,s=this.pot(r,e),u=this.yot(s,e);u?this.kot(u,null).then(function(e){e&&(i.yJ(u,t),n.Wg(!0))}):this.Wg(!1)},i.Eot=function(){this.eot=null,this.uot(!0)},i.vot=function(){this.p$.UJ.addEventListener("Nj",this.oot)},i.Rot=function(){this.p$.UJ.removeEventListener("Nj",this.oot)},i.fot=function(){this.p$.UJ.addEventListener("Rj",this.rot)},i.Iot=function(){this.p$.UJ.removeEventListener("Rj",this.rot)},i.sot=function(t){var n=this.p$,i=n.UJ.Pj;if(Boolean(n.MJ&&!n.MJ.disabled))this.eot=null;else{if(i&&i.length){var e;switch(this.TI.$O.type){case $R.PERFORMANCE:e="low";break;case $R.QUALITY:e="high";break;case $R.BANDWIDTH:e=t}this.eot=this.dot(i,e),this.iot=!0}var r=this.pot(i,null),s=this.yot(r,null);s&&(n.MJ=s)}},i.wot=function(){return this.iot?{t6:this.ztt.t6}:{t6:this.TI.hP}},i.Cr=function(){this.Jut&&this.$ut&&(this.$ut.Cr(),this.Jut=null,this.$ut=null,this.tot=null),this.jut&&this.Zut&&(this.Zut.Cr(),this.jut=null,this.Zut=null,this.Kut=null)},i.hv=function(){this.ztt.removeEventListener("W6",this.aot),this.Iot(),this.Rot(),this.Cr(),this.Yut=null,this.eot=null},i.Not=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.p$,t){r.next=3;break}return r.abrupt("return",!1);case 3:return r.next=5,nr.awrap(this.kot(t,n));case 5:return(e=r.sent)&&(i.MJ=t),r.abrupt("return",e);case 8:case"end":return r.stop()}},null,this,null,we)},A(n,[{key:"ll",get:function(){return this.zg}},{key:"Ng",get:function(){return this.Xj}},{key:"Eut",get:function(){var t=this.p$,n=t.MJ,i=this.pot(t.UJ.Pj,n);return this._ot(i,n)}},{key:"Sut",get:function(){return this.pot(this.p$.UJ.Pj,this.p$.MJ)}},{key:"got",get:function(){return this.Yut},set:function(t){this.Yut=t,this.Eot()}}]),n}(MP),HF=function(){function t(t,n){this.Id=void 0,this.jb=void 0,this.Dot=-1,this.Id=t,this.jb=n}return t.prototype.Zo=function(t){for(var n=t.OY,i=n._Y(this.Dot),e=i<0?0:i+1;e<n.sl;e++){var r=n.gY(e);if(r.vY>this.Dot){var s=this.jb.D0(r),u=this.jb.C0(r,s),o=new Ey(s.Nw(),u.Nw(),[].concat(r.cZ),!1,r.vY.toString());this.Id.AA(o),this.Dot=r.vY}}},t}(),zF=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,KP.yj,n,i,e,r,s,u,o,h,a)||this).Cot=void 0,c.Oot=null,c.Pot=null,c.Cot=new FF(n,c.jb,e,u,o,h),c.Cot.addEventListener("ll",c.Ur),c.Cot.addEventListener("Ng",c.Ur),c.Cot.addEventListener("lv",c.Ur),u.manifestMetadataTrack&&(c.Oot=n.lJ("",c.jb,""),c.Pot=new HF(c.Oot,c.jb)),c.ast=!c.p$.EJ||!c.p$.EJ.uri,c.cst=Boolean(c.p$.MJ),c}S(n,t);var i=n.prototype;return i.Hst=function(t,n){if("xj"===t){var i=n?n.uri:void 0;this.ast=!i}},i.But=function(){return KP.yj},i.Lut=function(){return this.qst&&this.qst.wZ||!1},i.Hut=function(){return this.p$.MJ},i.Mut=function(){return this.Cot.Sut},i.Uut=function(){return this.Cot.Eut},i.Vut=function(){var t=this.Cot.got;return t&&t.map(function(t){return t._l})},i.Wut=function(t){if(t&&t.length>0){var n=this.dst.Oj.filter(function(n){return-1!==t.indexOf(n._l)});if(!(n.length>0))return void 0;this.Cot.got=n}else this.Cot.got=null},i.Xut=function(){return this.Cot.ll},i.qut=function(){return this.Cot.Ng},i._ut=function(n,i){return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr.awrap(this.Cot.Not(n,i));case 2:return e.abrupt("return",t.prototype._ut.call(this,n,i));case 3:case"end":return e.stop()}},null,this,null,we)},i.Iut=function(){t.prototype.Iut.call(this),this.Cot.Cr()},i.GZ=function(n){t.prototype.GZ.call(this,n),this.Pot&&this.Pot.Zo(n)},i.hv=function(){t.prototype.hv.call(this),this.Cot.hv(),this.Cot.removeEventListener("Ng",this.Ur),this.Cot.removeEventListener("lv",this.Ur)},i.Vst=function(t){return t.UJ},i.xot=function(){var t=this.v_,n=this.xut?this._st.r7(t):void 0,i=n?n.iZ:void 0,e=this.gst.r7(t),r=e?e.iZ:void 0,s=this.tJ;this.tJ=i;var u=this.pst;return this.pst=r,!s&&i?{OJ:s,Bot:i}:!u&&r?{OJ:u,Bot:r}:u&&r&&u._l!==r._l?{OJ:u,Bot:r}:void 0},n}(BF),VF=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,KP.Jf,n,i,e,r,s,u,o,h,a)||this).ast=!!c.p$.EJ&&!!c.p$.EJ.uri,c.cst=!1,c}S(n,t);var i=n.prototype;return i.Hst=function(t,n){if("xj"===t){var i=n?n.uri:void 0;this.ast=!!i}},i.But=function(){return KP.Jf},i.Lut=function(){return this.qst&&this.qst.wZ||!1},i.Hut=function(){return this.p$.EJ},i.Mut=function(){var t=this.Hut();return t?[t]:[]},i.Uut=function(){return this.Mut()},i.Vst=function(t){return t.BZ},i.Vut=function(){return null},i.Wut=function(t){},i.Xut=function(){return!0},i.qut=function(){return!0},i.xot=function(){var t=this.xut?this._st.r7(this.v_):void 0,n=t?t.iZ:void 0,i=this.tJ;return this.tJ=n||void 0,!i&&n?{OJ:i,Bot:n}:i&&n&&i._l!==n._l?{OJ:i,Bot:n}:void 0},n}(BF),WF=function(){function t(t,i,e,r,s,u){var o=this;this.Lot=!1,this.SY=void 0,this.Mot=void 0,this.v4=void 0,this.Uot=void 0,this.h4=void 0,this.xs=dS.fI(),this.Fot=[],this.Hot=void 0,this.zot=[],this.qZ=function(){return o.Vot()},this.Wot=function(t){t.x_.live||o.Mot.removeEventListener(o.SY.rj,o.Wot),o.SY.Zj(t.x_)},this.Xot=function(){o.SY.YZ.Rl===mw.bl?o.Lot&&o.qot():o.Lot||o.Got()},this.Th=function(t){if(!gs(t)){var i=t instanceof Ik?t:new Ik(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.SY.rj,0,t);o.SY.YZ.Dl=oy.ERROR,o.SY.YZ.Fr(new Wk(i))}},this.SY=t,this.Mot=i,this.v4=e,this.h4=u,this.Uot=new iB(r,s),this.Hot=new ls,t.YZ.Hr(Vg.Fd,this.Xot),t.jb&&t.jb.addEventListener("jZ",this.qZ),this.Xot()}var i=t.prototype;return i.Got=function(){this.Lot||this.SY.YZ.Rl===mw.bl||(this.Mot.removeEventListener(this.SY.rj,this.Wot),this.Mot.addEventListener(this.SY.rj,this.Wot),this.Mot.I9(this.SY.rj),this.Mot.N9(this.SY.rj),this.Lot=!0,this.Qot(this.Hot.xr).catch(this.Th))},i.Qot=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ws(t),n.next=4,nr.awrap(this.Yot(t));case 4:n.next=0;break;case 6:case"end":return n.stop()}},null,this,null,we)},i.Yot=function(t){var n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,g;return nr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(n=this.v4.m4,i=this.h4._4,e=new dS([n,n+i]),(r=e.HR(this.xs.zR())).sl){w.next=9;break}return w.next=8,nr.awrap(Rs(1e3,t));case 8:return w.abrupt("return");case 9:if(s=r.SR(0),u=this.jot(s)){w.next=15;break}return w.next=14,nr.awrap(Lg(this.SY,"nZ",t));case 14:return w.abrupt("return");case 15:return o=u.dk,h=u.ctt.Nw(),a=h+o.duration,w.prev=18,w.next=21,nr.awrap(this.Uot.w0("YZ",o.uri,pc.Pn,Ql.Ff,Yl.Pn));case 21:c=w.sent,w.next=30;break;case 24:return w.prev=24,w.t0=w.catch(18),ms(w.t0),w.next=29,nr.awrap(Rs(1e3,t));case 29:return w.abrupt("return");case 30:w.prev=30,f=yp(c),w.next=37;break;case 34:throw w.prev=34,w.t1=w.catch(30),Fk(hy.WEBVTT,o.uri.toString(),0,w.t1);case 37:for(v=f.iy||{ey:Gy.jw,sy:Gy.jw},d=this.SY.OY.wY(o.vY),this.xs=this.xs.QR(new dS([h,a])),this.Fot.push(o.vY),l=0,_=f.Cl;l<_.length;l++)g=_[l],this.zot.push({U6:d,ctt:XF(Gy.Pm(g.tw),v.sy,v.ey),Zot:XF(Gy.Pm(g.nw),v.sy,v.ey),Kg:g});this.Vot();case 43:case"end":return w.stop()}},null,this,[[18,24],[30,34]],we)},i.Vot=function(){var t=this.SY.jb;if(this.zot.length&&t){for(var n=[],i=0,e=this.zot;i<e.length;i++){var r=e[i],s=t.x0(r.U6,r.ctt);if(s.zw())n.push(r);else{var u=t.x0(r.U6,r.Zot),o=r.Kg;o.tw=s.Nw(),o.nw=u.Nw(),this.SY.YZ.AA(o)}}this.zot=n,this.SY.YZ.yH(this.v4.m4,!0)}},i.jot=function(t){var n=this.SY.jb,i=this.SY.OY;if(n.rtt)for(var e=n._tt.Nw(),r=i.sl-1;r>=0;r-=1){var s=i.gY(r),u=e-s.duration;if(new dS([u,e]).zE(t,.5)){var o={dk:s,ctt:Gy.Pm(u)};return this.Jot(i,o,r)}e=u}else for(var h=0,a=0;a<i.sl;a+=1){var c=i.gY(a),f=h+c.duration;if(new dS([h,f]).zE(t,.5)){var v={dk:c,ctt:Gy.Pm(h)};return this.Jot(i,v,a)}h=f}},i.Jot=function(t,n,i){var e=n.dk;if(-1===this.Fot.indexOf(e.vY))return n;for(var r=n.ctt.Nw()+e.duration,s=i+1;s<t.sl;s+=1){var u=t.gY(s);if(-1===this.Fot.indexOf(u.vY))return{dk:u,ctt:Gy.Pm(r)};r+=u.duration}},i.qot=function(){this.Lot=!1,this.Mot.R9(this.SY.rj),this.Hot.Cr(),this.Hot=new ls},i.nl=function(){this.qot(),this.xs=dS.fI(),this.Fot.length=0,this.SY.YZ.Xr(Vg.Fd,this.Xot),this.SY.jb&&this.SY.jb.removeEventListener("jZ",this.qZ),this.Mot.removeEventListener(this.SY.rj,this.Wot)},t}();function XF(t,n,i){return ip(i,t.Hw(n))}var qF=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).rh=void 0,s.L$=void 0,s.ztt=void 0,s.vst=void 0,s.p$=void 0,s.fst=void 0,s.$ot=void 0,s.Kot=NaN,s.tht=!1,s.nht=1/0,s.iht=1/0,s.eht=null,s.rht=!0,s.sht=!0,s.X9=null,s.mA=void 0,s.TI=void 0,s.uht=void 0,s.oht=void 0,s.hht=[],s.UF=function(){var t=s.p$.d_;m(t)||s.Kot===t||(s.Kot=t,s.dispatchEvent("durationchange"))},s.aht=function(){s.I$&&(s.p$.removeEventListener("renditionUpdated",s.aht),s.dispatchEvent("I$"))},s.cht=function(){s.Aut&&s.dispatchEvent("Aut")},s.fht=function(){s.q$&&s.dispatchEvent("q$")},s.Ur=function(t){s.dispatchEvent(t)},s.vht=function(t){var n=s.p$.kJ(t.T9);n?n instanceof _x&&(n.tZ(!1),n.hZ()):s.dispatchEvent(t)},s.dht=function(t){s.p$.x_||(t.ts.code===FP.$Q?(s.eht||(s.eht=h(s._ht,mb)),s.sht=!1,s.eZ()):s.dispatchEvent({type:"ts",ts:t.ts}))},s.ght=function(t){s.wht(),s.mht(t.x_),s.yht(),s.p$.removeEventListener("TJ",s.UF),s.p$.addEventListener("TJ",s.UF),s.UF(),s.tht||(s.tht=!0,s.dispatchEvent("loadedmetadata")),s.aht(),s.sht=!0,s.eZ()},s._ht=function(){s.wht();var t=s.G$;t&&(s.fst.nl(),s.fst.G$=t,s.fst.SR())},s.pht=function(){s.fst.D9()},s.kht=function(){s.bht.forEach(function(t){return t.Out()})},s.Aht=function(t){s.Tht.forEach(function(n){return n.rut(t.iZ)})},s.Sht=function(t){s.bht.forEach(function(n){return n.sut(t.H3)}),s.$ot.U9(t.H3,s.bht.map(function(t){return t.jb}))},s.eZ=function(){var t=s.rht,n=s.qut();s.rht=n,n&&!t?s.dispatchEvent("Ng"):!n&&t&&s.dispatchEvent("lv")},s.TI=r,s.rh=n,s.L$=i,s.mA=e,s.ztt=new ZL(n,i,e,Tt(s)),s.vst=new xM(n),s.p$=new wx(n),s.fst=new iU(e,n),s.$ot=new eU,s.fst.addEventListener("ts",s.vht),s.fst.addEventListener("A9",s.dht),s.fst.addEventListener("S9",s.ght),s.ztt.addEventListener("M6",s.Ur),s.ztt.addEventListener("ts",s.Ur),s.p$.addEventListener("CJ",s.Ur),s.p$.addEventListener("nZ",s.Aht),s.p$.addEventListener("$Z",s.Sht),s.p$.addEventListener("PJ",s.Ur),s.$ot.addEventListener("P9",s.Ur),s.$ot.addEventListener("P9",s.kht),s.addEventListener("Ng",s.pht),s}S(n,t);var i=n.prototype;return i.Eht=function(t){t.Fut=this.Fut,t.addEventListener("jst",this.Ur),t.addEventListener("Rht",this.Ur),t.addEventListener("ts",this.Ur),t.addEventListener("wut",this.Ur),t.addEventListener("X$",this.Ur),t.addEventListener("Aut",this.cht),t.addEventListener("q$",this.fht),t.addEventListener("lv",this.eZ),t.addEventListener("Ng",this.eZ),t.addEventListener("ll",this.Ur),t.addEventListener("N$",this.Ur),t.addEventListener(yc.Ca,this.Ur),t.addEventListener(yc.Pa,this.Ur)},i.yht=function(){this.Iht();this.p$.UJ.Oj;var t=this.p$.BZ.Oj;this.uht=new zF(this.p$,this.fst,this.ztt,this.vst,this.X9,this.rh,this.mA,this.TI,this),this.Eht(this.uht),t.length&&(this.oht=new VF(this.p$,this.fst,this.ztt,this.vst,this.X9,this.rh,this.mA,this.TI,this),this.Eht(this.oht));for(var n=this.p$.FJ,i=this.uht.jb,e=0;e<n.length;e++){var r=n[e];r.jb=i,this.hht.push(new WF(r,this.fst,this.X9,this.mA,this.rh,this))}},i.Iht=function(){this.uht&&(this.uht.hv(),this.uht=void 0),this.oht&&(this.oht.hv(),this.oht=void 0),this.hht.forEach(function(t){return t.nl()}),this.hht.length=0,this.$ot.nl()},i.Nht=function(t){this.bht.forEach(function(n){return n.Rut(t)})},i.mht=function(t){this.p$.x_=t},i.Dht=function(){this.fst.SR()},i.Cht=function(t){this.$ot.F9(t,this.bht.map(function(t){return t.jb}))||this.bht.forEach(function(t){t.Qst(),t.Cut()})},i.qot=function(){this.ztt.x6(),this.bht.forEach(function(t){return t.Iut()})},i.J$=function(){this.ztt.x6(),this.bht.forEach(function(t){return t.Nut()})},i.Y$=function(){this.bht.forEach(function(t){return t.Dut()})},i.hv=function(){this.Wr(),this.wht(),this.Iht(),this.ztt.hv(),this.vst.hv(),this.p$.hv(),this.fst.nl(),this.$ot.hv()},i.Oht=function(t,n,i,e){var r=this.uht,s=this.oht;t&&(r.Iut(),this.ztt.ds(r.rk),r.Rut(e)),n&&s&&(s.Iut(),this.ztt.ds(s.rk),i&&s.Rut(e))},i.Pht=function(){if(!this.uht)return oB;var t=this.uht;return IB(t.jb,this.ztt.I4(t.rk))},i.E9=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.x_.live||e.fst.removeEventListener(s,t),i&&i.Zj(n.x_)};s&&(this.fst.removeEventListener(s,u),this.fst.addEventListener(s,u)),this.fst.E9(r,s),this.fst.N9(s)},i.wht=function(){null!==this.eht&&a(this.eht),this.eht=null},i.qut=function(){return!!this.sht&&(!this.uht||this.uht.Ng)},i.iK=function(t){this.uht&&(this.uht.zut=t)},i.nl=function(){this.Tht.forEach(function(t){return t.nl()}),this.hht.forEach(function(t){return t.nl()})},A(n,[{key:"xht",get:function(){return this.uht}},{key:"Bht",get:function(){return this.oht}},{key:"bht",get:function(){var t=[];return this.uht&&t.push(this.uht),this.oht&&this.oht.xut&&t.push(this.oht),t}},{key:"Tht",get:function(){return[this.uht,this.oht].filter(F)}},{key:"_4",get:function(){return ft(this.TI.ZO*this.ztt.g4,1,this.Lht)}},{key:"G$",get:function(){return this.fst.G$},set:function(t){this.Kot=NaN,this.nht=1/0,this.tht=!1,this.rht=!0,this.sht=!0,this.p$.removeEventListener("renditionUpdated",this.aht),this.p$.removeEventListener("TJ",this.UF),this.wht(),this.Iht(),this.ztt.ds(),this.vst.Cr(),this.p$.hv(),this.p$.addEventListener("renditionUpdated",this.aht),this.fst.G$=t,this.eZ()}},{key:"d_",get:function(){return this.Kot}},{key:"rtt",get:function(){return this.p$&&nx.D_(this.p$._Z)}},{key:"Ng",get:function(){return this.rht}},{key:"I$",get:function(){var t=this.bht;return t.length>0&&t.every(function(t){return t.wZ})}},{key:"g4",get:function(){return this.ztt.g4},set:function(t){t>0&&(this.ztt.g4=t)}},{key:"Aut",get:function(){return this.bht.every(function(t){return t.Aut})}},{key:"q$",get:function(){return this.bht.length>0&&this.bht.every(function(t){return t.q$})}},{key:"Lht",get:function(){return this.iht},set:function(t){this.iht=t}},{key:"Fut",get:function(){return this.nht},set:function(t){var n=this;this.nht=t,this.Tht.forEach(function(t){return t.Fut=n.nht})}},{key:"Og",get:function(){return this.I$?new uB([{SR:this.ltt,RR:this._tt}]):oB}},{key:"ltt",get:function(){if(!this.I$)return 0;for(var t=-1/0,n=0,i=this.bht;n<i.length;n++){var e=i[n];t=_.max(t,e.jb.ltt.Nw())}return t}},{key:"_tt",get:function(){if(!this.I$)return 0;for(var t=1/0,n=0,i=this.bht;n<i.length;n++){var e=i[n];t=_.min(t,e.jb._tt.Nw())}return t}},{key:"gtt",get:function(){if(!this.I$)return 0;for(var t=1/0,n=0,i=this.bht;n<i.length;n++){var e=i[n];t=_.min(t,e.jb.gtt.Nw())}return _.max(t,this.ltt)}},{key:"nK",get:function(){return this.uht&&this.uht.zut||void 0}}]),n}(MP),GF=function(t){function n(n,i){var e;return(e=t.call(this)||this).rh=void 0,e.Kot=NaN,e.tht=!1,e.p$=void 0,e.jb=void 0,e.Mht=void 0,e.eht=null,e.rht=!0,e.Oot=null,e.Pot=null,e.Ur=function(t){e.dispatchEvent(t)},e.mht=function(t){if(e.p$.x_||(e.p$.x_=e.Mht.LJ||null),!e.p$.MJ){var n=e.p$.UJ.Oj[0];n&&(e.p$.MJ=n,e.Mht.p9(n),e.dispatchEvent({type:"Uht",iZ:n}))}t.manifest.isMasterPlaylist||e.p$.MJ.Zj(t.manifest),void 0!==t.manifest.duration&&e.Kot!==t.manifest.duration&&(e.Kot=t.manifest.duration,e.dispatchEvent("durationchange")),e.tht||(e.tht=!0,e.dispatchEvent("loadedmetadata")),e.hot(!0),e.dispatchEvent({type:"y9",manifest:t.manifest})},e.dht=function(t){t.ts.code===FP.$Q?(e.eht||(e.eht=h(e._ht,mb)),e.hot(!1)):e.dispatchEvent({type:"ts",ts:t.ts})},e._ht=function(){e.wht();var t=e.G$;t&&e.Mht.SR(t)},e.wht=function(){a(e.eht),e.eht=null},e.Aht=function(t){var n=t.iZ;e.jb.K7(n,n.xY),e.rh.manifestMetadataTrack&&(e.Pot||(e.Oot=e.p$.lJ("",e.jb,""),e.Pot=new HF(e.Oot,e.jb)),e.Pot.Zo(n))},e.rh=n,e.p$=new wx(n,!0),e.jb=new bU(n),e.Mht=new nU(i,e.rh),e.jb.addEventListener("ts",e.Ur),e.Mht.addEventListener("y9",e.mht),e.Mht.addEventListener("ts",function(t){e.p$.x_?(e.eht||(e.eht=h(e._ht,mb)),e.hot(!1)):e.dht(t)}),e.p$.addEventListener("nZ",e.Aht),e}S(n,t);var i=n.prototype;return i.Dht=function(){this.p$.x_||this.Mht.SR()},i.Pht=function(){return oB},i.hot=function(t){var n=this.rht;this.rht=t,t&&!n?this.dispatchEvent("Ng"):!t&&n&&this.dispatchEvent("lv")},i.hv=function(){this.Wr(),this.wht(),this.p$.hv(),this.Mht.hv(),this.Pot=null,this.jb.hv()},i.J$=function(){},i.Y$=function(){},i.Nht=function(t){},i.iK=function(t){},A(n,[{key:"G$",get:function(){return this.Mht.G$},set:function(t){this.Kot=NaN,this.tht=!1,this.wht(),this.p$.hv(),this.Pot=null,this.Mht.G$=t,this.hot(!0)}},{key:"d_",get:function(){return this.Kot}},{key:"rtt",get:function(){return this.p$&&nx.D_(this.p$._Z)}},{key:"Ng",get:function(){return this.rht}},{key:"q$",get:function(){return!1}},{key:"Aut",get:function(){return!1}},{key:"nK",get:function(){return[]}}]),n}(MP),QF=1e3,YF="VEE3",jF=function(t){function n(n){var i;return(i=t.call(this,"Fht")||this).ptsOffset=n,i}return S(n,t),n}(Ps),ZF=function(t){function n(n){var i;return(i=t.call(this)||this).zJ=void 0,i.Hht=null,i.zht=0,i.Vht="start",i.Wht=1,i.Xht=!1,i.qht=!1,i.Ght=0,i.Qht=null,i.Yht=null,i.jht=null,i.Zht=null,i.x9=0,i.Jht=0,i.$ht=new ls,i.Kht=new no,i.tat=void 0,i.nat={},i.iat=!1,i.eat=null,i.rat=NaN,i.Yst=function(){i.zJ.bht.map(function(t){t.Yst()})},i.xot=function(){for(var t,n,e,r=0,s=i.zJ.Tht;r<s.length;r++){var u=s[r],o=u.xot();if(o){var h=o.Bot;h&&h.HZ!==tx.Jf&&(i.eat=h)}u.rk===KP.Jf?t=o:u.rk===KP.yj&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"CJ",sat:t&&t.OJ,e$:t&&t.Bot,o$:n&&n.OJ,i$:n&&n.Bot,t$:!!e&&e.xut})},i.Zst=function(){null!==i.Qht&&a(i.Qht),i.Qht=h(i.Zst,QF),i.zJ.bht.forEach(function(t){return t.Zst()})},i.Kst=function(){null!==i.Yht&&a(i.Yht),i.Xht&&(i.Yht=h(i.Kst,QF),i.zJ.bht.forEach(function(t){return t.Kst()}))},i.$st=function(){i.zJ.bht.forEach(function(t){return t.$st()})},i.uat=function(){if(i.zJ.rtt&&i.m_>1){var t=i.zJ.gtt;i.oat>t&&(i.m_=1,i.oat>=t+1&&(i.oat="start"))}},i.hat=function(){i.Hht&&(0===i.Hht.aat()?i.oat="start":i.oat=i.fat(i.m4))},i.vat=function(){i.Ght=i.m4},i.dat=function(t){i.lat(),i.Hht.error&&(t.error.info.code===YF&&i.Jht<yb?(i.Jht+=1,i._at()):i.dispatchEvent({type:"ts",error:t.error}))},i.gat=function(){i.Jht=0},i.wat=function(){i.removeEventListener("mat",i.yat),i.Xht?i.yat():i.addEventListener("mat",i.yat)},i.yat=function(){var t=i.m4;i.zJ.removeEventListener("I$",i.wat),i.zJ.I$?i.zJ.bht.forEach(function(n){return n.nut(t)}):(i.zJ.addEventListener("I$",i.wat),i.zJ.Dht())},i.pat=function(){var t=i.m4;i.zJ.Tht.forEach(function(n){return n.tut(t,i.zJ.rtt)})},i.kat=function(){null!==i.Qht&&a(i.Qht),i.Qht=null,null!==i.Yht&&a(i.Yht),i.Yht=null},i.bat=function(){i.Aat(),i.zJ.I$?i.Q$():(i.zJ.addEventListener("I$",i.bat),i.zJ.Dht())},i.Aat=function(){i.zJ.removeEventListener("I$",i.bat)},i.qJ=function(t){i.zJ.E9(t.HZ,t.OJ||void 0,t.iZ||void 0),t.PJ&&i.Tat(t.HZ,t.OJ,t.iZ)},i.Sat=function(t){var n=t.x9-i.x9;_.abs(n)>wb&&(i.x9=t.x9,i.m4=i.m4+n)},i.Eat=function(t){var n=t.U6.metadata;n.FZ&&(i.nat[t.rk]=n.FZ,i.Rat())},i.Rat=function(){if(i.zJ.I$){var t=l.keys(i.nat).length===i.zJ.bht.length;i.Hht&&!i.Hht.Iat&&!i.tat&&t&&i.Nat(),i.Hht&&i.x9&&(i.Hht.x9=i.x9)}},i.Dat=function(){if(m(i.Cat))if(i.zJ.rtt)i.Cat=0;else{var t=i.eat,n=t&&t.gZ,e=t&&F(n)&&!m(n)&&t.BY(n)||void 0;i.Cat=sx(e)?e.W3.Nw():NaN}i.D$&&(i.removeEventListener("CJ",i.Dat),i.zJ.removeEventListener("M6",i.Dat),i.dispatchEvent("D$",!0))},i.zJ=n,n.X9=Tt(i),i}S(n,t);var i=n.prototype;return i._at=function(){this.zJ.rtt?this.oat="start":(this.Ght+=.5,this.zJ.bht.map(function(t){t.Qst(),t.iut(),t.eut()}),this.oat=this.Ght),this.Rat(),this.Hht.play()},i.Oat=function(t){var n=this;this.jht&&(this.zJ.removeEventListener("I$",this.jht),this.jht=null),this.zJ.I$?(this.qht=!0,this.iat=!0,this.zJ.Cht(t),this.iat=!1):(this.jht=function(){return n.Oat(t)},this.zJ.Dht())},i.Pat=function(t){this.xat(),this.zJ.rtt&&(t="none"),"auto"===t&&this.bat()},i.Bat=function(t){var n=this;this.xat(),"none"!==t&&(this.zJ.I$?this.Pat(t):(this.Zht=function(){return n.Pat(t)},this.zJ.addEventListener("I$",this.Zht),this.zJ.Dht()))},i.xat=function(){this.Aat(),this.Zht&&(this.zJ.removeEventListener("I$",this.Zht),this.Zht=null)},i.Q$=function(){this.qht?this.zJ.Nht():(this.oat=this.Vht,this.zJ.Nht(22)),this.Xht||(this.Xht=!0,this.dispatchEvent("mat"))},i.Lat=function(){this.Hht&&(this.Hht.addEventListener("Mat",this.pat),this.Hht.addEventListener("seeking",this.wat),this.Hht.addEventListener("error",this.dat),this.Hht.addEventListener("playing",this.gat)),this.zJ.addEventListener("CJ",this.qJ),this.zJ.addEventListener("wut",this.hat),this.zJ.addEventListener("I$",this.Rat),this.zJ.addEventListener("P9",this.Sat),this.zJ.addEventListener("ll",this.wat),this.K$()},i.Uat=function(){this.Hht&&(this.Hht.removeEventListener("Mat",this.pat),this.Hht.removeEventListener("seeking",this.wat),this.Hht.removeEventListener("error",this.dat),this.Hht.removeEventListener("playing",this.gat)),this.zJ.removeEventListener("CJ",this.qJ),this.zJ.removeEventListener("wut",this.hat),this.zJ.removeEventListener("I$",this.Rat),this.zJ.removeEventListener("P9",this.Sat),this.zJ.removeEventListener("ll",this.wat),this.tK()},i.K$=function(){this.Hht&&(this.Hht.addEventListener("loadstart",this.bat),this.Hht.addEventListener("timeupdate",this.Yst),this.Hht.addEventListener("playing",this.xot),this.Hht.addEventListener("timeupdate",this.xot),this.Hht.addEventListener("timeupdate",this.Kst),this.Hht.addEventListener("timeupdate",this.Zst),this.Hht.addEventListener("timeupdate",this.vat),this.Hht.addEventListener("timeupdate",this.uat),this.Hht.addEventListener("ended",this.kat)),this.zJ.addEventListener("M6",this.Eat),this.zJ.addEventListener("M6",this.$st)},i.tK=function(){null!==this.Qht&&a(this.Qht),null!==this.Yht&&a(this.Yht),this.Hht&&(this.Hht.removeEventListener("loadstart",this.bat),this.Hht.removeEventListener("timeupdate",this.Yst),this.Hht.removeEventListener("playing",this.xot),this.Hht.removeEventListener("timeupdate",this.xot),this.Hht.removeEventListener("timeupdate",this.Kst),this.Hht.removeEventListener("timeupdate",this.Zst),this.Hht.removeEventListener("timeupdate",this.vat),this.Hht.removeEventListener("timeupdate",this.uat),this.Hht.removeEventListener("ended",this.kat)),this.zJ.removeEventListener("M6",this.Eat),this.zJ.removeEventListener("M6",this.$st)},i.J9=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.Kht.Ss);case 2:return n=this.Hht.J9(t),this.Hht.loading&&(this.Hht.loaded=!0,this.Hht.loading=!1),i.next=6,nr.awrap(n);case 6:case"end":return i.stop()}},null,this,null,we)},i.GU=function(t,n){this.Fat.GU(t,n)},i.Gst=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nr.awrap(this.Kht.Ss);case 3:return i.next=5,nr.awrap(this.Hht.Gst(t,n));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),gs(i.t0)||this.dispatchEvent({type:"ts",error:i.t0});case 10:case"end":return i.stop()}},null,this,[[0,7]],we)},i.Nat=function(){var t=this,n=this.Kht,i=this.Hat(this.tat,this.$ht.xr);this.tat=i,i.then(function(){t.tat===i&&(t.tat=void 0,n.Is())},function(e){t.tat===i&&(t.tat=void 0,n.Ns(e))})},i.Hat=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t){u.next=3;break}return u.next=3,nr.awrap(t.catch(j));case 3:return ws(n),u.next=6,nr.awrap(this.Hht.Nat(this.nat,this.zJ.d_,n));case 6:if(i=u.sent){u.next=9;break}return u.abrupt("return");case 9:for(e=0,r=this.zJ.Tht;e<r.length;e++)s=r[e],i.xj&&(s.Cst=i.xj),i.Bj&&(s.xst=i.Bj);case 10:case"end":return u.stop()}},null,this,null,we)},i.lat=function(){this.$ht.Cr(),this.$ht=new ls,this.tat=void 0,this.Kht=new no},i.fat=function(t){var n=this.Og;return n.length?ft(t,n.start(0),n.end(n.length-1)):0},i.uut=function(t){var n=this.zJ.xht;return n?n.uut(t):null},i.ftt=function(t){var n=this.zJ.xht;return n?n.ftt(t):NaN},i.Yo=function(t){var n=t||"none";this.Uat(),this.Lat(),this.Bat(n)},i.Z$=function(){this.xat()},i.hv=function(){this.Wr(),this.nat={},this.Fat=null},i.nl=function(){this.lat(),this.zat(),this.nat={},this.zht=0,this.Ght=0,this.Vht="start",this.x9=0,this.Wht=1,this.Xht=!1,this.qht=!1,this.eat=null,this.zJ.nl()},i.Tat=function(t,n,i){if(n){this.dispatchEvent("C$"),this.tK();var e=!1,r=!1,s=!1;if("Bj"===t){r=!0;var u=this.zJ.xht;u&&u.xut&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this.Hht.PJ("audio"),r&&this.Hht.PJ("video"),this.zJ.Tht.forEach(function(t){t.Qst(),e&&t.iut(),r&&t.eut()}),this.zJ.Oht(r,e,s,22),this.zJ.Tht.forEach(function(t){return t.Jst()}),this.K$()}},i.J_=function(){this.tK(),this.K$(),this.zJ.Y$()},i.Vat=function(t){var n=this.Cat||0;return this.VZ?t-n<0?0:_.round((t-n)*this.VZ-.5)||0:NaN},i.Wat=function(t){var n=this.Cat||0;return this.VZ?n+(t+.5)/this.VZ:NaN},i.zat=function(){this.Cat=NaN,this.removeEventListener("CJ",this.Dat),this.addEventListener("CJ",this.Dat),this.zJ.removeEventListener("M6",this.Dat),this.zJ.addEventListener("M6",this.Dat)},A(n,[{key:"Fat",get:function(){return this.Hht},set:function(t){this.Uat(),this.lat(),this.gat(),this.Hht=t,this.Rat()}},{key:"m4",get:function(){return this.Hht&&!this.iat?this.Hht.aat():this.zht},set:function(t){t=this.fat(t),this.Ght=this.zht=t,this.Hht?this.Hht.Xat(t):(this.pat(),this.wat())}},{key:"oat",get:function(){return this.Hht&&!this.iat?this.m4:this.Vht},set:function(t){"start"===t&&(t=this.zJ.rtt?1/0:0),t=this.fat(t),this.Vht=t,this.Ght=this.zht=t,this.Oat(Gy.Pm(this.zht)),this.m4=t}},{key:"nw",get:function(){return this.zJ.Fut},set:function(t){this.zJ.Fut=t}},{key:"m_",get:function(){return this.Hht?this.Hht.m_:this.Wht},set:function(t){var n=this.Wht;t>0&&(this.Wht=t,this.Hht&&(this.Hht.m_=t),this.zJ.g4=t,this.Wht!==n&&this.dispatchEvent("qat"))}},{key:"Og",get:function(){var t=this.zJ.Og;if(!t.length||!this.zJ.rtt)return t;var n=t.start(0),i=this.zJ.gtt;return i=_.max(this.m4,i),new uB([{SR:n,RR:i}])}},{key:"pg",get:function(){return this.uut(this.m4)}},{key:"VZ",get:function(){var t=this.eat;return t&&t.VZ||NaN}},{key:"Cat",get:function(){return this.rat},set:function(t){this.rat!==t&&(this.dispatchEvent(new jF(t)),this.rat=t)}},{key:"D$",get:function(){return Boolean(this.VZ)&&!m(this.Cat)}}]),n}(MP),JF=function(t){function n(n){var i;return(i=t.call(this)||this).Gat=null,i.p$=void 0,i.Qat=[],i.Yat=function(t){return i.jat(t)},i.Zat=function(){return i.Jat()},i.p$=n,i.Qat=[],i}S(n,t);var i=n.prototype;return i.kA=function(t){var n,i;"metadata"===t.kind&&(t.mode=mw.Al,n=this.p$.vJ(t.id,t.inBandMetadataTrackDispatchType),i=this.$at.bind(this,n),this.Qat.push({Kat:t,tct:i,YZ:n}),t.addEventListener("cuechange",i))},i.oP=function(){for(var t=this.Gat.j_,n=t&&t.length,i=0;i<n;i+=1)this.kA(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Yat),t.addEventListener("change",this.Zat))},i.$at=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=EC(i[s].value),o=new BC(r,u);t.AA(o)}},i.Jat=function(){for(var t=0,n=this.Qat;t<n.length;t++){var i=n[t].Kat;i.mode!==mw.Al&&(i.mode=mw.Al)}},i.jat=function(t){this.kA(t.track)},i.nct=function(){for(var t=this.Gat,n=t&&t.j_,i=0,e=this.Qat;i<e.length;i++){var r=e[i];r.Kat.removeEventListener("cuechange",r.tct)}this.Qat.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Yat),n.removeEventListener("change",this.Zat))},i.hv=function(){this.nct(),this.Gat=null,this.p$=null,this.Yat=null,this.Zat=null},i.nl=function(){this.nct(),this.Gat&&this.oP()},n}(MP),$F=function(t){function n(n){var i;return(i=t.call(this)||this).zJ=void 0,i.ict=void 0,i.Hht=null,i.Vht="start",i.Wht=1,i.lv=!1,i.ect=null,i.rct=null,i.sct=NaN,i.uct=NaN,i.hct=null,i.act=function(){i.Hht.removeEventListener("loadstart",i.act),i.Hht.removeEventListener("play",i.act),i.zJ.Dht()},i.Yst=function(){var t=i.zJ.p$.MJ;if(t&&(!i.ect||i.ect.SR>i.m4||i.ect.RR<i.m4)){var n=i.zJ.jb.r5(t,Gy.Pm(i.m4));if(!n)return void i.Hht.addEventListener("timeupdate",i.Yst);i.ect={SR:n.ctt.Nw(),RR:n.ctt.Lg(Gy.Pm(n.dk.duration)).Nw(),vY:n.dk.vY,fZ:null},i.dispatchEvent({type:"jst",tA:n.dk})}},i.xot=function(){var t=i.zJ.p$,n=t.UJ.Oj.length?t.UJ.Oj:t.BZ.Oj,e=i.Hht.k_,r=i.Hht.p_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.rct&&(i.rct=u,i.dispatchEvent({type:"CJ",iZ:u}))},i.cct=function(t){i.dispatchEvent({type:"CJ",iZ:t.iZ})},i.fct=function(){if(i.Hht){var t=i.Hht.Og,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.uct&&(i.uct=n,i.sct=tR())}},i.vct=function(){i.lv=!0},i.dct=function(){i.lv&&(i.lv=!1,i.lct())},i.zJ=n,i.ict=new JF(n.p$),n.addEventListener("lv",i.vct),n.addEventListener("Ng",i.dct),i}S(n,t);var i=n.prototype;return i.fat=function(t){var n=this.Hht.Og;return n.length?ft(t,n.start(0),n.end(n.length-1)):0},i.lct=function(){if(this.Hht){var t=this.Hht.currentTime,n=this.Hht.paused;this.Hht.load(),this.Hht.currentTime=t,n||this.Hht.play()}},i._ct=function(){this.Hht&&(this.Hht.addEventListener("loadstart",this.act),this.Hht.addEventListener("play",this.act),this.Hht.addEventListener("timeupdate",this.Yst),this.Hht.addEventListener("timeupdate",this.xot),f(this.hct),this.hct=c(this.fct,250))},i.gct=function(){f(this.hct),this.Hht&&(this.Hht.removeEventListener("loadstart",this.act),this.Hht.removeEventListener("play",this.act),this.Hht.removeEventListener("timeupdate",this.Yst),this.Hht.removeEventListener("timeupdate",this.xot))},i.Yo=function(t){t=t||"none",this.gct(),this._ct(),this.zJ.removeEventListener("Uht",this.cct),this.zJ.addEventListener("Uht",this.cct),"none"!==t&&this.act()},i.hv=function(){this.Wr(),this.ict.hv(),this.Fat=null,this.zJ.removeEventListener("Uht",this.cct)},i.nl=function(){this.Vht="start",this.Wht=1,this.lv=!1,this.ect=null,this.rct=null,this.sct=NaN,this.uct=NaN,f(this.hct),this.ict.nl()},i.J_=function(){},i.Z$=function(){},i.Tat=function(){},i.ftt=function(t){var n=this.zJ.p$.MJ;return this.zJ.jb.ftt(n,t).Nw()},i.uut=function(t){var n,i,e=this.zJ.p$.MJ,r=this.zJ.jb,s=t,u=this.ect;if(u)u.fZ||(u.fZ=r.att(e,u.vY)),n=u.SR,i=u.fZ;else{var o=r.r5(e,Gy.Pm(s));if(!o)return null;n=o.ctt.Nw(),i=r.att(e,o.dk.vY)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Vat=function(t){return NaN},i.Wat=function(t){return NaN},A(n,[{key:"wct",get:function(){return null}},{key:"pg",get:function(){return this.uut(this.m4)}},{key:"Fat",get:function(){return this.Hht},set:function(t){this.gct(),this.Hht=t,this.Hht&&(this.ict.Gat=this.Hht,this.ict.oP())}},{key:"oat",get:function(){return this.Hht?this.Hht.aat():this.Vht},set:function(t){"start"===t&&(t=this.zJ.rtt?1/0:0),t=this.fat(t),this.Vht=t,this.Hht&&this.Hht.Xat(t)}},{key:"m4",get:function(){return this.oat},set:function(t){t=this.fat(t),this.oat=t}},{key:"nw",get:function(){return 1/0},set:function(t){}},{key:"m_",get:function(){return this.Hht?this.Hht.m_:this.Wht},set:function(t){t>0&&(this.Wht=t,this.Hht&&(this.Hht.m_=t))}},{key:"Og",get:function(){var t,n,i,e=this.Hht?this.Hht.Og:null,r=this.zJ.jb.Og;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.uct||e.end(e.length-1))+this.zJ.jb.wtt.Nw(),isFinite(this.sct)&&(i+=(tR()-this.sct)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.zJ.jb.gtt.Nw()}return i=_.min(n,i),i=_.max(this.m4,i),new uB([{SR:t,RR:i}])}},{key:"VZ",get:function(){return NaN}},{key:"Cat",get:function(){return NaN}},{key:"D$",get:function(){return!1}}]),n}(MP),KF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).mct=new ls,o.yct=void 0,o.mA=void 0,o.pct=function(){return o.kct()},o.nr=hy.WEBVTT,o.Dl=oy.NONE,o.Pl=t_(s),o.Hr(Vg.Fd,o.pct),o.mA=u,o}S(n,t);var i=n.prototype;return i.Yo=function(){this.Pl&&!this.yct&&(this.yct=this.nd(this.mct.xr),this.yct.catch(ys))},i.nd=function(t){var n,i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.Pl,s.prev=1,this.Dl=oy.LOADING,i=new Zl({Mf:n,tv:ql.GET,Of:pc.Pn,xr:t}),s.next=6,nr.awrap(this.mA.Bf(i));case 6:return e=s.sent,s.next=9,nr.awrap(e.ai());case 9:r=s.sent,this.KK(e,r),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(1),ms(s.t0),this.oE(Uk(s.t0,this.Pl));case 17:case"end":return s.stop()}},null,this,[[1,13]],we)},i.Z$=function(){this.Dl!==oy.LOADED&&(this.Dl=oy.NONE,this.mct.Cr(),this.mct=new ls,this.yct=void 0)},i.oE=function(t){this.Dl=oy.ERROR,this.Fr(new pm(t))},i.hv=function(){this.Z$(),this.mct.Sr(),t.prototype.hv.call(this)},i.kct=function(){switch(this.Rl){case mw.Tl:case mw.Al:this.Yo();break;case mw.bl:this.Z$()}},i.KK=function(t,n){try{for(var i=yp(n).Cl,e=0;e<i.length;e++){var r=i[e];this.AA(r)}this.Dl=oy.LOADED}catch(n){this.oE(Fk(this.nr,this.Pl,t.Df,n))}},n}(CD);function tH(t){return Ek(t.kind)}var nH=function(){function t(t,n,i,e){this.bct=void 0,this.j_=void 0,this.Act=void 0,this.mA=void 0,this.bct=t,this.j_=i,this.Act=n,this.mA=e,this.nl()}var n=t.prototype;return n.Tct=function(t){if(this.Sct(),t)if(this.Act)for(var n=0;n<t.length;n++){var i=t[n];this.PE(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.Ect(r)}},n.PE=function(t){var n=tH(t);if(Bk(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.bct.appendChild(i)}},n.Ect=function(t){var n=tH(t),i=new KF(n,t.id,t.label,t.srclang,t.src,this.mA);t.default&&(i.Rl=mw.Tl),this.j_.$d(i)},n.Sct=function(){for(var t=this.j_.il,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Rct&&this.j_.Kd(i)}},n.Ict=function(){this.Sct()},n.nl=function(){this.Sct()},t}(),iH=function(){function t(t){this.x$=void 0,this.x$=t}var n=t.prototype;return n.Hr=function(t,n){this.x$.addEventListener(t,n)},n.Xr=function(t,n){this.x$.removeEventListener(t,n)},A(t,[{key:"v_",get:function(){return this.x$.currentTime}},{key:"w_",get:function(){return this.x$.paused}},{key:"y_",get:function(){return this.x$.seeking}}]),t}(),eH=function(t){function n(n,i){var e;(e=t.call(this)||this).Nct=void 0,e.j_=void 0,e.Dct=void 0,e.Cct=void 0,e.Hht=void 0,e.Oct=!0,e.Pct=function(t){return e.xct(t)},e.Bct=function(){return e.Lct()},e.Mct=function(){return e.Uct()},e.Fct=function(){return e.Hct()},e.Yat=function(t){return e.jat(t.Id)},e.zct=function(t){return e.Vct(t.Id)},e.Wct=function(){return e.Xct()},e.Nct=n,e.j_=i,e.Nct.addEventListener("seeking",e.Wct),e.Nct.addEventListener("seeked",e.Wct),e.Dct=new xC(new iH(n));for(var r=0,s=e.j_.il;r<s.length;r++){var u=s[r];e.jat(u)}return e.j_.Hr(Ug.kd,e.Yat),e.j_.Hr(Ug.Ad,e.zct),e}S(n,t);var i=n.prototype;return i.xct=function(t){this.j_.$d(t.Id)},i.Lct=function(){for(var t=this.j_.il,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Rct&&this.j_.Kd(i)}},i.Uct=function(){var t=this.Fat,n=[],i=t&&t.j_;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.jV(r);s=new IC(r,u,this.QH),r.THEOplayerTextTrack=s,this.j_.$d(s)}n.push(s)}}for(var o=0,h=this.j_.il;o<h.length;o++){var a=h[o];NC(a)&&-1===n.indexOf(a)&&this.j_.Kd(a)}},i.jV=function(t){for(var n=this.Fat.kg.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.Hct=function(){for(var t=0,n=this.j_.il;t<n.length;t++){var i=n[t];NC(i)&&i.YH()}},i.Xct=function(){this.qct()},i.jat=function(t){t instanceof CD&&this.Dct.$d(t)},i.Vct=function(t){t instanceof CD&&this.Dct.Kd(t)},i.qct=function(){var t=this.j_.il;if(t.length)for(var n=this.Nct.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof CD){for(var s=[],u=0,o=r.Cl.il;u<o.length;u++){var h=o[u];if(!(h.nw<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];r.cA(c)}}}},i.hv=function(){this.Nct.removeEventListener("seeking",this.Wct),this.Nct.removeEventListener("seeked",this.Wct);for(var t=0,n=this.j_.il;t<n.length;t++){var i=n[t];this.Vct(i)}this.j_.Xr(Ug.kd,this.Yat),this.j_.Xr(Ug.Ad,this.zct),this.Dct.hv(),this.p$=null,this.Fat=null},A(n,[{key:"p$",get:function(){return this.Cct},set:function(t){var n=this.Cct;if(n){for(var i=0,e=n.j_;i<e.length;i++){var r=e[i];this.j_.Kd(r)}n.removeEventListener("dJ",this.Pct),n.removeEventListener("hv",this.Bct)}if(this.Cct=t,t){for(var s=0,u=t.j_;s<u.length;s++){var o=u[s];this.j_.$d(o)}t.addEventListener("dJ",this.Pct),t.addEventListener("hv",this.Bct)}}},{key:"Fat",get:function(){return this.Hht},set:function(t){var n=this.Hht;n&&n.j_&&n.j_.removeEventListener&&(n.j_.removeEventListener("addtrack",this.Mct),n.j_.removeEventListener("removetrack",this.Mct),n.j_.removeEventListener("change",this.Fct)),this.Hht=t,t&&t.j_&&t.j_.addEventListener&&(t.j_.addEventListener("addtrack",this.Mct),t.j_.addEventListener("removetrack",this.Mct),t.j_.addEventListener("change",this.Fct)),this.Uct(),this.Hct()}},{key:"QH",get:function(){return this.Oct},set:function(t){if(this.Oct!==t){this.Oct=t;for(var n=0,i=this.j_.il;n<i.length;n++){var e=i[n];NC(e)&&(e.QH=t)}}}}]),n}(MP),rH=function(){function t(t,n){this.sv=void 0,this.pd=void 0,this.Gct=[],this.Qct=new kc,this.Yct=rr(),this.jct=new ls,this.sv=!(!t||t.crossOrigin!==xw.$l&&!t.Zct),this.pd=n}var n=t.prototype;return n.Jct=function(t,n){var e,r,s,u,o,h,a,c,f;return nr.async(function(d){for(;;)switch(d.prev=d.next){case 0:for(e=i.Ce(t),r=0,s=this.Gct;r<s.length;r++)null===(u=s[r]).qn||void 0===u.qn?e.searchParams.delete(u.$ct):e.searchParams.set(u.$ct,u.qn);return d.prev=2,o=new Zl({Mf:e.href,Of:pc.za,Cf:this.Qct,sv:this.sv,tv:ql.GET,xr:n,nr:Gl.Vf,ev:Ql.Zf}),d.next=6,nr.awrap(this.pd.Bf(o));case 6:return h=d.sent,d.next=9,nr.awrap(h.ai());case 9:return a=d.sent,c=new y(a),f=new y(16),16!==c.length&&st("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",e.href),c.length>16&&(c=Ju(c,0,16)),f.set(c,16-c.length),d.abrupt("return",f);case 19:throw d.prev=19,d.t0=d.catch(2),ms(d.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return d.stop()}},null,this,[[2,19]],we)},n.getKey=function(t){var n=t.absoluteURI;if(!n)return we.reject(new HP(FP.rY,{code:"CAD1603"}));var i=this.Yct.get(n);return i||(i=this.Jct(n,this.jct.xr),this.Yct.set(n,i)),i},n.hv=function(){this.jct.Cr(),this.Yct.clear()},n.Kct=function(t,n){this.Gct.push({$ct:t,qn:n})},n.tft=function(t,n){this.Qct.append(t,n)},t}(),sH=function(t){this.Nct=void 0,this.Nct=t},uH=s.createElement("video");var oH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.mot=function(t){return!!function(t){return uH.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(sH);UP.Rn.uL("AvoidUnsupportedCodecsRule",oH);var hH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.mot=function(t,n,i,e){return!("U5"===e.G6)||t.bandwidth<2e6},n}(sH);UP.Rn.uL("AvoidHighBitrateStreamsRule",hH);var aH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.nft=function(t){if(!t.resolution)return!0;var n=this.Nct.element.getBoundingClientRect(),e=r.innerWidth||s.documentElement.clientWidth,u=r.innerHeight||s.documentElement.clientHeight,o=_.max(0,_.min(n.right,e)-_.max(0,n.left)),h=_.max(0,_.min(n.bottom,u)-_.max(0,n.top)),a=i.xe.Zi;return t.resolution.width<=o*a&&t.resolution.height<=h*a},e.mot=function(t){return this.nft(t)},n}(sH);UP.Rn.uL("AvoidVideoResolutionGreaterThanDisplaySizeRule",aH);var cH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.mot=function(t,n,i){if(i.t6<=0)return!1;var e=i&&.8*i.t6;return!(e&&!m(e)&&t.bandwidth)||e>t.bandwidth*this.Nct.playbackRate},n}(sH);UP.Rn.uL("DownloadMetricRule",cH);var fH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.mot=function(t){return!0},n}(sH);UP.Rn.uL("LimitVideoQualityToDisplaySizeRule",fH);var vH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.mot=function(t,n){return!n||(n.HZ===tx.Ff||t.HZ===tx.Ff||(n.HZ===tx.cj||t.HZ===tx.cj||n.HZ===t.HZ))},n}(sH);function dH(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function lH(t,n){var i=n;for(var e in t)W(t[e])?(i[e]=i[e]||{},lH(t[e],i[e])):M.call(i,e)||(i[e]=t[e]);return i}function _H(t,n){var i=lH(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case xw.Jl:case xw.$l:break;default:n=xw.Zl}return t&&t.withCredentials&&(n=xw.$l),t&&t.vr&&t.vr[360]&&n===xw.Zl&&(n=xw.Jl),n}(i),i}function gH(t){G(t)&&t.then(j,j)}UP.Rn.uL("OnlyAllowSameTrackTypeRenditionsRule",vH);var wH,mH=500,yH=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],pH=function(t){function n(n,i){var e;return(e=t.call(this)||this).ift=void 0,e.jS=void 0,e.eft=void 0,e.JS=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.qz=function(){var t=e.jS.bE.error&&e.jS.bE.error.code;t&&e.oE(new HP(FP.nY,{code:"VEE"+t}))},e.rft=function(t){e.dispatchEvent({type:t.type,error:e.jS.bE.error})},e.sft=function(){a(e.eft),e.eft=void 0,e.jS.bE.removeEventListener("timeupdate",e.sft),e.jS.Xr(nm.f_,e.sft)},e.uft=function(){void 0!==e.eft&&e.sft(),e.eft=h(function(){e.jS.bE.currentTime+=.1,e.sft()},mH),e.jS.bE.addEventListener("timeupdate",e.sft),e.jS.Hr(nm.f_,e.sft)},e.oft=function(){switch(e.jS.bE.readyState){case Uw.e_:case Uw.r_:case Uw.s_:e.uft();break;case Uw.i_:case Uw.n_:}},e.ift=n,e.jS=i,e}S(n,t);var i=n.prototype;return i.setup=function(){this.fJ(),this.jS.bE.parentNode!==this.ift&&this.ift.appendChild(this.jS.bE),this.loaded=!1,this.jS.bE.preload="metadata",this.jS.bE.addEventListener("play",this.oft),this.jS.bE.addEventListener("loadeddata",this.oft),this.dispatchEvent("hft")},i.fJ=function(){for(var t=0;t<yH.length;t++){var n=yH[t];this.jS.bE.addEventListener(n,this.rft,!0)}this.jS.bE.addEventListener("error",this.qz,!0),this.jS.Hr(nm.zd,this.rft),this.jS.Hr(nm.f_,this.rft)},i.aft=function(){for(var t=0;t<yH.length;t++){var n=yH[t];this.jS.bE.removeEventListener(n,this.rft,!0)}this.jS.bE.removeEventListener("error",this.qz,!0),this.jS.Xr(nm.zd,this.rft),this.jS.Xr(nm.f_,this.rft)},i.oE=function(t){this.JS=t,this.dispatchEvent({type:"error",error:t})},i.J9=function(){return we.resolve()},i.load=function(){this.jS.bE.load(),this.loaded=!0},i.unload=function(){return this.sft(),this.Wr(),this.aft(),this.jS.bE.removeEventListener("play",this.oft),this.jS.bE.removeEventListener("loadeddata",this.oft),Pe(this.jS.bE),this.jS.bE},i.play=function(){var t=this.m_;gH(this.jS.bE.play()),this.m_=t},i.pause=function(){this.jS.bE.pause()},i.tg=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Xat(0)}catch(t){}this.dispatchEvent("reset")},i.fg=function(){return this.jS.bE},i.aat=function(){return this.jS.bE.currentTime},i.Xat=function(t){this.jS.bE.currentTime=t},i.canPlayCodecs=function(t){return this.jS.bE.canPlayType('video/mp4; codecs="'+t+'"')},A(n,[{key:"Iat",get:function(){return!0}},{key:"kg",get:function(){return this.jS.bE}},{key:"yg",get:function(){return this.jS.bE.buffered}},{key:"b_",get:function(){return this.jS.bE.volume},set:function(t){this.jS.bE.volume=t}},{key:"duration",get:function(){return this.jS.bE.duration}},{key:"muted",get:function(){return this.jS.bE.muted},set:function(t){this.jS.bE.muted=t}},{key:"paused",get:function(){return this.jS.bE.paused}},{key:"played",get:function(){return this.jS.bE.played}},{key:"poster",get:function(){return this.jS.bE.poster},set:function(t){t?this.jS.bE.poster=t:this.jS.bE.removeAttribute("poster")}},{key:"controls",get:function(){return this.jS.bE.controls},set:function(t){t?this.jS.bE.controls=t:this.jS.bE.removeAttribute("controls")}},{key:"ended",get:function(){return this.jS.bE.ended}},{key:"seeking",get:function(){return this.jS.bE.seeking}},{key:"error",get:function(){return this.jS.bE.error}},{key:"width",get:function(){return this.jS.bE.offsetWidth}},{key:"height",get:function(){return this.jS.bE.offsetHeight}},{key:"src",get:function(){return this.jS.bE.src},set:function(t){this.jS.bE.src=t}},{key:"k_",get:function(){return this.jS.bE.videoWidth}},{key:"p_",get:function(){return this.jS.bE.videoHeight}},{key:"j_",get:function(){return this.jS.bE.textTracks}},{key:"rtt",get:function(){return this.jS.bE.duration===1/0}},{key:"Og",get:function(){var t=this.jS.bE.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.aat()||0),new uB([{SR:n,RR:i}])}},{key:"m_",get:function(){return this.jS.bE.playbackRate},set:function(t){t>0&&(this.jS.bE.playbackRate=t)}},{key:"Dl",get:function(){return this.jS.Dl}},{key:"cft",get:function(){return void 0!==this.jS.bE.webkitSupportsPresentationMode&&this.jS.bE.webkitSupportsPresentationMode("picture-in-picture")}},{key:"fft",get:function(){return"picture-in-picture"===this.jS.bE.webkitPresentationMode}},{key:"vft",get:function(){return this.jS.bE.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.jS.bE.webkitSetPresentationMode(t)}}]),n}(MP);!function(t){t[t.dft=0]="dft",t[t.lft=1]="lft",t[t.CG=2]="CG",t[t._ft=3]="_ft",t[t.gft=4]="gft"}(wH||(wH={}));var kH=function(){function t(){this.wft=!1,this.mft=null,this.yft=null,this.pft=null,this.FB=[],this.kft=null}var n=t.prototype;return n.bft=function(){if(!this.wft)return!1;for(var t=this.mft,n=this.yft,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Aft=function(t){switch(t.nr){case wH.dft:return this.Tft(t.ai,t.ctt,t.mC);case wH.lft:return this.Sft(t.Eft);case wH.CG:return this.Rft(t.Ift,t.Nft);case wH._ft:return this.HB();case wH.gft:return this.Dft(t.mC)}},n.Tft=function(t,n,i){var e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=this.yft,m(n)||(e.timestampOffset=n),e.appendBuffer(t),r.next=6,nr.awrap(this.Cft());case 6:i(),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),i(r.t0),r.t0;case 13:case"end":return r.stop()}},null,this,[[0,9]],we)},n.Sft=function(t){var n,i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=this.yft,i=n.buffered,!(i.length>0)){u.next=11;break}if(e=i.start(0),r=_.min(i.end(0),t),!((s=r-e)>.5||r<=t&&s>0)){u.next=11;break}return n.remove(e,r),u.next=11,nr.awrap(this.Cft());case 11:case"end":return u.stop()}},null,this,null,we)},n.Rft=function(t,n){var i,e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(this.mft,i=this.yft,e=i.buffered,!((r=e.length)>0)){o.next=12;break}if(s=_.max(e.start(0),t),u=_.min(e.end(r-1),n),!(u-s>0)){o.next=12;break}return i.remove(s,u),o.next=12,nr.awrap(this.Cft());case 12:case"end":return o.stop()}},null,this,null,we)},n.HB=function(){var t,n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.mft,n=this.yft,t.open&&"open"===t.readyState){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i=n.updating,n.abort(),!i){e.next=10;break}return e.next=10,nr.awrap(Lg(n,"updateend"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}},null,this,[[4,12]],we)},n.Dft=function(t){return we.resolve(t())},n.Oft=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.xF(t)){n.next=5;break}return n.next=3,nr.awrap(Rs(100));case 3:n.next=0;break;case 5:case"end":return n.stop()}},null,this,null,we)},n.xF=function(t){var n=this.mft;if(!n.open||"open"!==n.readyState||!this.bft())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Cft=function(){var t=this;return new we(function(n,i){var e,r=t.yft,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?n():i(new v(e))},c=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",h),r.removeEventListener("updateend",a)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",h),r.addEventListener("updateend",a)})},n.Pft=function(){var t=this;this.pft||(0!==this.FB.length||this.kft)&&this.bft()&&(this.pft=this.xft().then(function(){t.pft=null}))},n.xft=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(!(this.FB.length>0)){n.next=9;break}if(this.bft()){n.next=4;break}return n.abrupt("return");case 4:return t=this.FB.shift(),n.next=7,nr.awrap(this.Aft(t));case 7:n.next=1;break;case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=16,nr.awrap(this.Oft("decode").catch(j));case 16:if(!this.kft){n.next=26;break}return n.prev=17,n.next=20,nr.awrap(this.Oft(this.kft.ts));case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(17);case 25:this.kft=null;case 26:case"end":return n.stop()}},null,this,[[0,11],[17,22]],we)},n.oP=function(t,n){this.wft||(this.wft=!0,this.mft=t,this.yft=n,this.Pft())},n.Lg=function(t,n,i){this.FB.push({nr:wH.dft,ai:t,ctt:n,mC:i}),this.Pft()},n.Bft=function(t,n){this.FB.push({nr:wH.CG,Ift:t,Nft:n}),this.Pft()},n.Lft=function(t){this.FB.push({nr:wH.lft,Eft:t}),this.Pft()},n.Cr=function(){this.FB.push({nr:wH._ft}),this.Pft()},n.Mft=function(t){this.FB.push({nr:wH.gft,mC:t}),this.Pft()},n.Gst=function(t){this.kft={ts:t},this.Pft()},n.ds=function(){this.FB.length=0,this.kft=null},t}();var bH=function(t){function n(n){var i;return(i=t.call(this)||this).mft=void 0,i.yft=null,i.Uft=new kH,i.nw=NaN,i.Fft=null,i.Ur=function(t){return i.dispatchEvent(t)},i.Hft=function(){return i.x6()},i.mft=n,i.nl(),i}S(n,t);var i=n.prototype;return i.zft=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.J9=function(t,n,i,e){var r=this;if(!this.yft||!n)return we.resolve();var s=n.initializer.ai,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.Fft,s);if(e&&(L.dn||this.Uft.Cr()),e)if(L.dn);else{var o=t&&t.SR,h=t&&t.SR+t.d_-.5;this.Uft.Bft(o,h)}return u&&(this.Uft.Lg(s,i,this.zft.bind(this)),this.Fft=s),new we(function(t,e){r.Uft.Lg(n.m4s.ai,i,function(n){n?e(n):t()})})},i.HU=function(){var t=this;return new we(function(n){t.Uft.Mft(function(){var i=t.yg;i&&i.length&&(t.nw=i.end(i.length-1)),n()})})},i.Vft=function(t){if(!this.yft){try{this.yft=this.mft.addSourceBuffer(t),this.yft.addEventListener("updatestart",this.Ur),this.yft.addEventListener("updateend",this.Ur)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.mft.addEventListener("sourceclose",this.Hft),this.Uft.oP(this.mft,this.yft)}return!0},i.bft=function(){for(var t=0;t<this.mft.sourceBuffers.length;t++)if(this.mft.sourceBuffers[t]===this.yft)return!0;return!1},i.jo=function(t){var n=this,i=this.yg;if(!(this.yft&&i&&i.length))return t&&t();this.yft.remove(0,i.end(i.length-1)),t&&this.yft.addEventListener("updateend",function i(e){n.yft.removeEventListener("updateend",i),t()})},i.nl=function(t){this.Fft=null,this.nw=NaN,this.x6(),this.jo(t)},i.Lft=function(t){this.yft&&this.Uft.Lft(t)},i.Gst=function(t){this.yft&&this.Uft.Gst(t)},i.x6=function(){this.Uft.ds(),"open"===this.mft.readyState&&this.yft&&this.yft.updating&&this.yft.abort()},A(n,[{key:"yg",get:function(){return this.yft&&this.bft()?new uB(lB(this.yft.buffered)):null}},{key:"iO",get:function(){return this.yft&&this.yft.updating}},{key:"l_",get:function(){var t=this.yg;return!t||!m(this.nw)&&vB(t,this.nw)}}]),n}(MP),AH="mp4a.40.34";var TH=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Wft=!1,i.ZI=function(){var t=i.Wft;i.Wft=i.iO,!t&&i.Wft?i.dispatchEvent("updatestart"):t&&!i.Wft&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new bH(n),i.videoTrackBuffer=new bH(n),i.audioTrackBuffer.addEventListener("updatestart",i.ZI),i.videoTrackBuffer.addEventListener("updatestart",i.ZI),i.audioTrackBuffer.addEventListener("updateend",i.ZI),i.videoTrackBuffer.addEventListener("updateend",i.ZI),i.nl(),i}S(n,t);var i=n.prototype;return i.J9=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mediasource.open){i.next=2;break}return i.abrupt("return");case 2:return n=[],t.xj&&n.push(this.audioTrackBuffer.J9(t.metadata.xj,t.xj,t.metadata.xj&&t.metadata.xj.l1===AH?t.metadata.xj.SR:NaN,t.metadata.J2)),t.Bj&&n.push(this.videoTrackBuffer.J9(t.metadata.Bj,t.Bj,NaN,t.metadata.J2)),i.next=7,nr.awrap(we.all(n));case 7:this.l_&&(this.audioTrackBuffer.Gst(),this.videoTrackBuffer.Gst());case 8:case"end":return i.stop()}},null,this,null,we)},i.Gst=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t&&i.push(this.audioTrackBuffer.HU()),n&&i.push(this.videoTrackBuffer.HU()),e.next=5,nr.awrap(we.all(i));case 5:this.l_&&(this.audioTrackBuffer.Gst(),this.videoTrackBuffer.Gst());case 6:case"end":return e.stop()}},null,this,null,we)},i.oP=function(t){var n,i={};for(var e in t)if(M.call(t,e)){var r=t[e];if(r.Bj){var s='video/mp4; codecs="'+r.Bj+'"';this.videoTrackBuffer.Vft(s),i.Bj=this.videoTrackBuffer}if(r.xj){var u=(n=r.xj)!==AH||ab?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Vft(u),i.xj=this.audioTrackBuffer}0}return i},i.nl=function(t){var n=!1,i=!1;this.Wft=!1,this.audioTrackBuffer.nl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.nl(function(){if(i=!0,n&&t)return t()})},i.Lft=function(t){this.audioTrackBuffer.Lft(t),this.videoTrackBuffer.Lft(t)},i.x6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.x6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.x6()},A(n,[{key:"yg",get:function(){var t=this.audioTrackBuffer.yg,n=this.videoTrackBuffer.yg;return t&&n?cB(t,n):t||n||oB}},{key:"DL",get:function(){return this.audioTrackBuffer.yg||oB}},{key:"CL",get:function(){return this.videoTrackBuffer.yg||oB}},{key:"iO",get:function(){return this.audioTrackBuffer.iO||this.videoTrackBuffer.iO}},{key:"l_",get:function(){return this.audioTrackBuffer.l_&&this.videoTrackBuffer.l_}}]),n}(MP),SH=1,EH=.05,RH=.01;function IH(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function NH(t,n,i,e){var r=dB(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-EH)){var u,o;do{if((u=IH(t,n))<0)return;t=(o=n.start(u)+RH)+EH}while(n.end(u)-o<EH);for(var h=o-s,a=cB(new uB([{SR:s,RR:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return e&&r>=0&&(h-=n.end(r)-s),h<SH?o:void 0}}var DH=100,CH=1e-4,OH=500,PH=lb,xH=L.$t,BH=5,LH=["resize","volumechange"],MH=function(n){function i(t,i){var e;return(e=n.call(this)||this).Xft=void 0,e.jS=void 0,e.qft=!0,e.l_=!1,e.Gft=!1,e.Qft=!1,e.Yft=null,e.ts=!1,e.mft=null,e.yft=null,e.jft=null,e.wft=!1,e.Zft=0,e.Jft=dS.fI(),e.Wht=1,e.$ft=!1,e.YF=!1,e.y_=!1,e.Kft=new ls,e.tvt=!1,e.nvt=!1,e.ivt=void 0,e.evt=null,e.rvt=null,e.svt=Uw.n_,e.uvt=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.ovt=function(){e.uvt=!1,e.avt(),e.cvt(),e.fvt()},e.vvt=function(){e.dvt(),e.fvt(),e.lvt()},e.cE=function(){e._vt(),e.dvt(),e.tH()?e.dispatchEvent("playing"):e.uvt=!0},e.gvt=function(){e.uvt=!1,e.avt(),e.tg()},e.PF=function(){e.wvt()},e.aE=function(){e.mvt(),e.lvt()},e.dF=function(){var t=e.svt,n=e.Dl;t!==n&&(e.svt=n,e.dispatchEvent(new ym(e.aat(),n))),e.lvt()},e.cvt=function(){e.Zft&&(f(e.Zft),e.Zft=0,xH&&(e.jS.bE.removeEventListener("timeupdate",e.tW),e.removeEventListener(nm.zd,e.rW)))},e.yvt=function(){e.Zft||(e.Zft=c(e.pvt,OH)),xH&&(e.jS.bE.addEventListener("timeupdate",e.tW),e.addEventListener(nm.zd,e.rW),e.tW()),e.pvt()},e.kvt=function(){var t=e.aat(),n=vB(e.bvt,t);e.jS.w_||e.y_&&!n||e.Avt()||e.yvt()},e.pvt=function(t){if(!(e.evt||void 0===t&&e.nvt)){var n,i=e.aat(),r=e.yg;if(void 0===t){if(void 0===(n=NH(i,r,e.bvt,e.Gft)))return}else{if(!vB(r,t))return;n=t}var s=function(){e.jS.bE.currentTime=n,e.Tvt(n),e.cvt(),e.nvt=!0};dt(n,i)?e.evt=h(function(){e.evt=null,i=e.aat(),dt(n,i)&&(n+=1e3*OH,s())},OH):s()}},e.zW=function(){var t=e.jft;if(e.Svt(),e.jS.bE.readyState===Uw.n_)return e.jft=t,void e.jS.bE.addEventListener("loadedmetadata",e.zW);_.abs(e.jS.bE.currentTime-t)<CH?e.aE():(e.jS.bE.currentTime=t,e.nvt=!1,e.PF()),e.jft=null,e.PP(e.Wht),e.jS.PW(),e.Evt(t)&&e.tg()},e.Rvt=function(){if(!e.Gft){var t=e.jS.bE,n=e.yg,i=t.currentTime;e.Ivt(n,i)&&(e.Gft=!0,e.dvt(),i=t.currentTime,e.Ivt(n,i)?e.Gft=!0:e.Gft=!1,e.dF()),e.rvt=i}},e._vt=function(){e.avt(),e.Yft=c(e.Rvt,DH)},e.avt=function(){e.Gft=!1,f(e.Yft)},e.Nvt=function(){e.Gft&&(e.Gft=!1,e.dF())},e.tW=function(){var t=e.yft;if(t)if(t.l_)e.nW();else{var n=t.DL,i=t.CL;if(0!==n.length&&0!==i.length){var r=e.aat();if(r<n.start(0)||r<i.start(0))e.nW();else vB(n,r)!==vB(i,r)?e.iW():e.nW()}else e.nW()}},e.rW=function(){if(!(e.y_||e.nvt||e.jS.bE.seeking||e.Dl>=Uw.r_)){var t=e.yft;if(t){var n=e.aat(),i=dS.hI(t.DL),r=dS.hI(t.CL);if(i.zE(n)&&r.zE(n))i.YR(r).KR(n-BH,n)&&(e.jS.bE.currentTime=n,e.nvt=!0)}}},e.Dvt=function(){e.mft.open=!0,e.mft.removeEventListener("sourceopen",e.Dvt),e.mft.removeEventListener("webkitsourceopen",e.Dvt)},e.qz=function(t){var n=e.jS.bE.error&&e.jS.bE.error.code;n&&e.oE(new HP(FP.nY,{code:"VEE"+n}))},e.Ur=function(t){e.dispatchEvent({type:t.type})},e.Cvt=function(){e.yft&&e.yft.l_&&e.dispatchEvent("durationchange")},e.Ovt=function(){e.removeEventListener("Pvt",e.Ovt),e.tvt=!1,e.xvt(e.Wht)},e.Xft=t,e.jS=i,e}S(i,n);var e=i.prototype;return e.xvt=function(t){this.YF&&(t=0),this.jS.m_=t,0!==t||PH?this.$ft&&(this.$ft=!1,gH(this.jS.J_())):(this.$ft=!this.jS.w_||this.$ft,this.jS.K_()),this.fvt()},e.PP=function(t){this.Wht=t,this.tvt||this.xvt(t)},e.Bvt=function(t){var n=dB(this.bvt,t);return-1===n?null:this.bvt.end(n)},e.wvt=function(){this.nvt||this.y_||(this.y_=!0,this.dispatchEvent("seeking"))},e.mvt=function(){this.nvt=!1,this.Lvt(),this.y_&&(this.y_=!1,this.dispatchEvent("seeked")),this.kvt()},e.dvt=function(){this.nvt||this.kvt()},e.Lvt=function(){this.ivt&&(a(this.ivt),this.ivt=void 0)},e.Tvt=function(t){var n=this;this.ivt=h(function(){n.pvt(t+2)},750)},e.lvt=function(){this.uvt&&this.tH()&&(this.uvt=!1,this.dispatchEvent("playing"))},e.fvt=function(){var t=this.qft,n=this.paused;this.qft=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.GU=function(t,n){if(!(t+.001>n)){var i=new dS([t,n]);this.Jft=this.Jft.QR(i).jR(dS.hI(this.yg)),this.Jft.zE(this.aat())&&this.kvt()}},e.Evt=function(t){return t>=this.jS.bE.duration-(this.paused?0:.5)},e.Mvt=function(t){return m(this.jS.bE.duration)||(t=_.min(t,this.jS.bE.duration)),_.max(0,t)},e.Svt=function(){this.jft=null,this.jS.bE.removeEventListener("loadedmetadata",this.zW)},e.iH=function(){return this.Dl<Uw.r_},e.tH=function(){return!(this.paused||this.ended||this.error||this.iH())},e.Ivt=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-EH)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.rvt&&this.rvt===n){if(this.Evt(n))return!1;if(r>n||e-n<1/6)return!0}return!1},e.iW=function(){this.YF||(this.YF=!0,this.xvt(0),this.dF())},e.nW=function(){this.YF&&(this.YF=!1,this.PP(this.Wht),this.jS.bE.currentTime=this.jS.bE.currentTime,this.dF())},e.Uvt=function(){var t=this.jS.bE;t.addEventListener("timeupdate",this.Nvt),this.jS.Hr(yc.ba,this.ovt),this.jS.Hr(yc.Aa,this.vvt),this.jS.Hr(yc.la,this.gvt),t.addEventListener("seeking",this.PF),t.addEventListener("seeked",this.aE);for(var n=0;n<LH.length;n++){var i=LH[n];t.addEventListener(i,this.Ur)}t.addEventListener("error",this.qz),t.addEventListener("durationchange",this.Cvt),this.jS.Hr(yc.La,this.Ur),this.jS.Hr(nm.zd,this.dF),this.jS.Hr(nm.f_,this.cE)},e.Fvt=function(){var t=this.jS.bE;t.removeEventListener("timeupdate",this.Nvt),this.jS.Xr(yc.ba,this.ovt),this.jS.Xr(yc.Aa,this.vvt),this.jS.Xr(yc.la,this.gvt),t.removeEventListener("seeking",this.PF),t.removeEventListener("seeked",this.aE);for(var n=0;n<LH.length;n++){var i=LH[n];t.removeEventListener(i,this.Ur)}t.removeEventListener("error",this.qz),t.removeEventListener("durationchange",this.Cvt),this.jS.Xr(yc.La,this.Ur),this.jS.Xr(nm.zd,this.dF),this.jS.Xr(nm.f_,this.cE)},e.Hvt=function(){var n=this.jS.bE,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.zvt(),this.mft=new i,this.mft.addEventListener("sourceopen",this.Dvt),this.mft.addEventListener("webkitsourceopen",this.Dvt),n.src=mM(this.mft),n.load()):this.oE(new HP(FP.eY,{code:"MVE2720"})):this.oE(new HP(FP.eY,{code:"MVE2650"}))},e.zvt=function(){if(this.wft=!1,this.yft&&(this.yft.nl(),this.yft=null),this.mft){this.Kft.Cr();var t=this.jS.bE;t.src&&(yM(t.src),Pe(t)),this.mft=null}},e.setup=function(){this.Hvt(),this.Uvt(),this.jS.bE.parentNode!==this.Xft&&this.Xft.appendChild(this.jS.bE)},e.oE=function(t){this.ts=t,this.dispatchEvent({type:"error",error:t})},e.Avt=function(){return this.yft&&this.yft.iO},e.Vvt=function(t){var n=this.aat()-_.max(30,3*t.iZ.xY.targetDuration);this.dispatchEvent("Pvt"),this.yft&&!t.Z2&&this.yft.Lft(n),this.kvt()},e.J9=function(t){if(!this.mft.open||"closed"===this.mft.readyState)return we.reject("Wvt");if(!this.yft)return we.reject("Xvt");var n=this.qvt(t);return this.Qft||(this.Qft=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.qvt=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.metadata,(i=[]).push(this.yft.J9(t)),n.Z2&&i.push(this.Gst(!!t.xj,!!t.Bj)),t=null,e.next=7,nr.awrap(we.all(i));case 7:this.Vvt(n);case 8:case"end":return e.stop()}},null,this,null,we)},e.Gst=function(t,n){return this.mft.open&&"closed"!==this.mft.readyState?this.yft?this.yft.Gst(t,n):we.reject("Xvt"):we.reject("Wvt")},e.play=function(){var t=this.jS.m_;this.l_=!1,0!==this.jS.m_||PH?(gH(this.jS.J_()),this.jS.PW(),this.jS.m_=t):this.$ft=!0,this.fvt()},e.pause=function(){0!==this.jS.m_||PH?this.jS.K_():this.$ft=!1,this.fvt()},e.tg=function(){this.l_||(this.l_=!0,this.jS.K_(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return f(this.Yft),this.Yft=null,this.cvt(),this.Svt(),this.zvt(),this.Fvt(),this.Wr(),this.jS.bE},e.reset=function(){f(this.Yft),this.Yft=null,this.cvt(),this.Svt(),this.qft=!0,this.l_=!1,this.Gft=!1,this.Qft=!1,this.ts=!1,this.y_=!1,this.uvt=!1,this.nW(),this.Hvt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.fg=function(){return this.jS.bE},e.aat=function(){return null===this.jft?this.jS.bE.currentTime:this.jft},e.Xat=function(t){var n=this.Bvt(t);t=this.Mvt(t),this.Gft=!1,this.jS.bE.error&&(this.Qft=!1,this.ts=!1,this.Hvt()),this.l_&&(this.l_=this.Evt(t)),this.cvt(),null!==n&&(t=n),this.Svt(),this.jft=t,this.y_=!0,this.dispatchEvent("Mat"),this.dispatchEvent("seeking"),this.zW()},e.Gvt=function(t){return this.mft.open?we.resolve(null):Lg(this.mft,"sourceopen",t)},e.Qvt=function(t,n,i){ws(i),n>0&&(this.mft.duration=n),this.yft=new TH(this.mft);var e=this.yft.oP(t);return this.dispatchEvent("hft"),this.yft.addEventListener("updatestart",this.cvt),this.yft.addEventListener("updateend",this.kvt),this.wft=!0,this.dispatchEvent("wft"),e},e.Nat=function(t,n,i){var e=this;this.Kft.Cr();var r=new ls;return r.Or(i),this.Kft=r,this.yft?we.resolve(null):this.Gvt(r.xr).then(function(){return e.Qvt(t,n,i)})},e.PJ=function(t){L.dn&&(this.tvt=!0,this.xvt(0),this.removeEventListener("Pvt",this.Ovt),this.addEventListener("Pvt",this.Ovt),this.yft&&this.yft.x6(t))},e.canPlayCodecs=function(t){return this.jS.bE.canPlayType('video/mp4; codecs="'+t+'"')},A(i,[{key:"bvt",get:function(){return this.Jft.VE()}},{key:"Dl",get:function(){var t=this.jS.Dl;return t>Uw.e_&&(this.Gft||this.YF)?Uw.e_:t}},{key:"kg",get:function(){return this.jS.bE}},{key:"yg",get:function(){return this.yft?this.yft.yg:this.jS.bE.buffered}},{key:"DL",get:function(){return this.yft?this.yft.DL:oB}},{key:"CL",get:function(){return this.yft?this.yft.CL:oB}},{key:"volume",get:function(){return this.jS.bE.volume},set:function(t){this.jS.bE.volume=t}},{key:"duration",get:function(){return this.jS.bE.duration}},{key:"muted",get:function(){return this.jS.bE.muted},set:function(t){this.jS.bE.muted=t}},{key:"paused",get:function(){return this.jS.w_&&!this.$ft}},{key:"played",get:function(){return this.jS.bE.played}},{key:"poster",get:function(){return this.jS.bE.poster},set:function(t){t?this.jS.bE.poster=t:this.jS.bE.removeAttribute("poster")}},{key:"controls",get:function(){return this.jS.bE.controls},set:function(t){t?this.jS.bE.controls=t:this.jS.bE.removeAttribute("controls")}},{key:"ended",get:function(){return this.l_}},{key:"seeking",get:function(){return this.y_}},{key:"error",get:function(){return this.ts||this.jS.bE.error}},{key:"width",get:function(){return this.jS.bE.offsetWidth||this.jS.bE.parentNode.offsetWidth}},{key:"height",get:function(){return this.jS.bE.offsetHeight||this.jS.bE.parentNode.offsetHeight}},{key:"m_",get:function(){return this.Wht},set:function(t){var n=this.Wht;t>0&&(this.PP(t),this.Wht!==n&&this.dispatchEvent("ratechange"))}},{key:"k_",get:function(){return this.jS.bE.videoWidth||0}},{key:"p_",get:function(){return this.jS.bE.videoHeight||0}},{key:"Iat",get:function(){return this.wft}}]),i}(MP),UH=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Yvt","PJ",nm.zd],FH=.04,HH=.25,zH=4,VH=.75,WH=1.5,XH=.25,qH=function(t){function n(){var n;return(n=t.call(this)||this).jvt=null,n.Zvt=null,n.wI=!1,n.Bu=1,n.yI=1,n.Jvt=null,n.$vt=void 0,n.rft=function(t){n.dispatchEvent(t)},n.Kvt=function(t){n.Zvt||n.dispatchEvent(t)},n.tdt=function(t){var i=t.error||n.Zvt.error;n.audioStream=null,n.Jvt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Jvt})},n.ndt=function(){n.Zvt&&!n.Zvt.loaded||n.jvt&&!n.jvt.loaded||(n.Zvt&&(n.Zvt.removeEventListener("loaded",n.ndt),n.Zvt.play()),n.jvt&&(n.jvt.removeEventListener("loaded",n.ndt),n.jvt.play()))},n.idt=function(){n.edt(),n.Zvt&&n.jvt&&(n.Zvt.addEventListener("timeupdate",n.rdt),n.jvt.addEventListener("timeupdate",n.rdt))},n.edt=function(){a(n.$vt),n.Zvt&&n.Zvt.removeEventListener("timeupdate",n.rdt),n.jvt&&(n.jvt.m_=n.yI,n.jvt.removeEventListener("timeupdate",n.rdt))},n.sdt=function(){n.Dl<Uw.r_&&n.edt()},n.rdt=function(){if(a(n.$vt),n.Zvt&&n.jvt){var t=n.Zvt.m_,i=n.Zvt.aat()-n.jvt.aat(),e=_.max(zH,WH*t),r=_.min(HH,VH*t);if(_.abs(i)<FH)n.jvt.m_!==t&&(n.jvt.m_=t);else{var s=XH,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.jvt.m_=u,n.$vt=h(n.rdt,1e3*s)}}else n.edt()},n.addEventListener("playing",n.idt),n.addEventListener("ended",n.edt),n.addEventListener(nm.zd,n.sdt),n}S(n,t);var i=n.prototype;return i.IJ=function(t,n){n?(t.addEventListener("timeupdate",this.rft),t.addEventListener("error",this.tdt)):(t.addEventListener("timeupdate",this.Kvt),t.addEventListener("error",this.rft));for(var i=0;i<UH.length;i++){var e=UH[i];t.addEventListener(e,this.rft)}},i.Gr=function(t){t.removeEventListener("timeupdate",this.rft),t.removeEventListener("timeupdate",this.Kvt),t.removeEventListener("timeupdate",this.rdt),t.removeEventListener("error",this.rft),t.removeEventListener("error",this.tdt),t.removeEventListener("loaded",this.ndt);for(var n=0;n<UH.length;n++){var i=UH[n];t.removeEventListener(i,this.rft)}},i.udt=function(t){this.Zvt&&this.Zvt.udt(t),this.jvt&&this.jvt.udt(t)},i.play=function(){if(this.Zvt&&!this.Zvt.loaded||this.jvt&&!this.jvt.loaded)return this.Zvt&&this.Zvt.addEventListener("loaded",this.ndt),void(this.jvt&&this.jvt.addEventListener("loaded",this.ndt));this.ndt()},i.pause=function(){this.Zvt&&(this.Zvt.removeEventListener("loaded",this.ndt),this.Zvt.pause()),this.jvt&&(this.jvt.removeEventListener("loaded",this.ndt),this.jvt.pause()),this.edt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Zvt&&this.Zvt.load(),-1!==t.indexOf("video")&&this.jvt&&this.jvt.load()):(this.Zvt&&this.Zvt.load(),this.jvt&&this.jvt.load())},i.hv=function(t){this.Wr(),this.Jvt=null,t?(-1!==t.indexOf("audio")&&this.Zvt&&(this.Zvt.hv(),this.Zvt=null),-1!==t.indexOf("video")&&this.jvt&&(this.jvt.hv(),this.jvt=null)):(this.Zvt&&(this.Zvt.hv(),this.Zvt=null),this.jvt&&(this.jvt.hv(),this.jvt=null))},i.PJ=function(t){this.Zvt&&this.Zvt.pause(),this.jvt&&this.jvt.pause(),this.edt(),t&&-1===t.indexOf("audio")||!this.Zvt||this.Zvt.PJ(),t&&-1===t.indexOf("video")||!this.jvt||this.jvt.PJ()},i.J9=function(t){this.Zvt&&t.xj&&this.Zvt.J9(t),this.jvt&&t.Bj&&this.jvt.J9(t)},i.odt=function(t){return this.jvt?this.jvt.odt(t):""},i.hdt=function(){return this.jvt?this.jvt.hdt():0},i.adt=function(){return this.jvt?this.jvt.adt():0},i.fg=function(){return this.jvt&&this.jvt.fg()},i.aat=function(){return this.Zvt?this.Zvt.aat():this.jvt?this.jvt.aat():NaN},i.Xat=function(t,n){this.Zvt&&this.Zvt.Xat(t,n),this.jvt&&this.jvt.Xat(t,n)},A(n,[{key:"yg",get:function(){return this.Zvt&&this.jvt?cB(this.Zvt.yg,this.jvt.yg):this.Zvt?this.Zvt.yg:this.jvt?this.jvt.yg:oB}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.Zvt&&(this.Zvt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Zvt&&this.Zvt.duration||this.jvt&&this.jvt.duration||NaN}},{key:"muted",get:function(){return this.wI},set:function(t){this.wI!==t&&(this.wI=t,this.Zvt&&(this.Zvt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Zvt&&!this.jvt)&&(!(this.Zvt&&!this.Zvt.loaded)&&!(this.jvt&&!this.jvt.loaded))}},{key:"paused",get:function(){return!this.Zvt&&!this.jvt||(this.Zvt&&this.Zvt.paused||this.jvt&&this.jvt.paused||!1)}},{key:"ended",get:function(){return this.Zvt&&this.Zvt.ended||this.jvt&&this.jvt.ended||!1}},{key:"seeking",get:function(){return this.Zvt&&this.Zvt.seeking||this.jvt&&this.jvt.seeking||!1}},{key:"error",get:function(){return this.Zvt&&this.Zvt.error||this.jvt&&this.jvt.error}},{key:"warning",get:function(){return this.Jvt||this.Zvt&&this.Zvt.warning||this.jvt&&this.jvt.warning}},{key:"audioStream",get:function(){return this.Zvt},set:function(t){this.Zvt&&(this.Gr(this.Zvt),this.Zvt.hv()),this.Zvt=t,this.Zvt&&(this.Zvt.volume=this.Bu,this.Zvt.muted=this.wI,this.Zvt.m_=this.yI,this.IJ(this.Zvt,!0))}},{key:"videoStream",get:function(){return this.jvt},set:function(t){this.jvt&&(this.Gr(this.jvt),this.jvt.hv()),this.jvt=t,this.jvt&&(this.jvt.m_=this.yI,this.IJ(this.jvt,!1))}},{key:"m_",get:function(){return this.yI},set:function(t){this.yI!==t&&(t<0||(this.yI=t,this.Zvt&&(this.Zvt.m_=t),this.jvt&&(this.jvt.m_=t),this.dispatchEvent("ratechange")))}},{key:"Dl",get:function(){return this.Zvt&&this.jvt?_.min(this.Zvt.Dl,this.jvt.Dl):this.Zvt?this.Zvt.Dl:this.jvt?this.jvt.Dl:Uw.n_}},{key:"k_",get:function(){return this.jvt?this.jvt.k_:0}},{key:"p_",get:function(){return this.jvt?this.jvt.p_:0}}]),n}(MP),GH=function(){function t(t,n,i,e){var r=this;this.cdt=void 0,this.fdt=void 0,this.d_=void 0,this.mC=void 0,this.vdt=void 0,this.ddt=void 0,this.tw=void 0,this.Bf=0,this.nv=0,this.running=!1,this.ldt=function(t){return r.Zo(t)},this.cdt=t,this.fdt=n,this.d_=i,this.mC=e,this.vdt=t.cs(),this.ddt=(n-this.vdt)/(i||1)}var n=t.prototype;return n._dt=function(){return this.cdt.ia(this.fdt),this.running=!1,this.gdt(),this.mC()},n.SR=function(){var t=this;this.running=!0,this.d_?this.wdt():LP(function(){t.running&&t._dt()})},n.Zo=function(t){if(this.gdt(),this.running){void 0===this.tw&&(this.tw=t);var n=this.vdt,i=this.ddt,e=this.fdt,r=this.cdt,s=n+_.max(0,t-this.tw)*i;if(n>=e&&s<=e||n<e&&s>=e)return this._dt();if(r.ia(s))return this._dt();this.wdt()}},n.wdt=function(){this.Bf=bR(this.ldt),this.nv=yR(this.ldt)},n.gdt=function(){AR(this.Bf),kR(this.nv)},t}();var QH=function(t){function n(n,i){var e;return(e=t.call(this)||this).mdt=void 0,e.fi=void 0,e.ydt=null,e.pdt=null,e.kdt=NaN,e.bdt=!1,e.Adt=!1,e.Tdt=1,e.Sdt=void 0,e.Edt=void 0,e.Rdt=function(t){e.Idt(t)||e.dispatchEvent(t)},e.mdt=n,e.fi=i,e}S(n,t);var i=n.prototype;return i.pause=function(){this.mdt.pause()},i.play=function(){gH(this.mdt.play()),this.Ndt()},i.Ddt=function(t){if(!(this.Dl<Uw.r_))return this.x6(),this.bdt=!0,this.Rdt({type:"canplay"}),t&&t();this.Sdt=h(this.Edt,100)},i.Yo=function(t){this.Adt=!0,this.bdt=!1,this.mdt.removeEventListener("canplay",this.Edt),this.Edt=this.Ddt.bind(this,t),this.mdt.addEventListener("canplay",this.Edt),this.mdt.load(),this.Sdt=h(this.Edt,100)},i.x6=function(){this.Adt=!1,this.mdt.removeEventListener("canplay",this.Edt),void 0!==this.Sdt&&(a(this.Sdt),this.Sdt=void 0)},i.Cdt=function(t){if(this.pause(),this.x6(),null===t)return this.ydt=null,void(this.bdt=!1);this.bdt=!1,this.pdt&&this.pdt.d5(this.mdt.src),this.pdt=t[this.fi],this.mdt.src=this.pdt.l5,this.ydt=t},i.fg=function(){return this.mdt},i.Odt=function(t){this.kdt=_.max(t||0,0),this.mdt.currentTime=this.kdt},i.Pdt=function(){return this.mdt.currentTime},i.xdt=function(t){var n=this.ydt&&this.ydt.metadata,i=n&&n.SR,e=n&&n[this.fi].SR,r=n&&n[this.fi].d_;return!!this.ZK&&(!(t<i)&&t<e+_.min(r,this.mdt.duration))},i.Ndt=function(){this.Tdt!==this.mdt.playbackRate&&(this.mdt.playbackRate=this.Tdt,_b&&this.Tdt>0&&this.Dl!==Uw.n_&&(this.mdt.currentTime=this.mdt.currentTime))},i.Idt=function(t){return!!(_b&&"seeked"===t.type&&_.abs(this.mdt.currentTime-this.kdt)>.04)},i.addEventListener=function(n,i){this.GQ(n)||this.mdt.addEventListener(n,this.Rdt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.GQ(n)||this.mdt.removeEventListener(n,this.Rdt)},i.Wr=function(){for(var n=0,i=this.QQ();n<i.length;n++){var e=i[n];this.mdt.removeEventListener(e,this.Rdt)}t.prototype.Wr.call(this)},i.unload=function(){this.pdt&&this.pdt.d5(this.mdt.src),this.Wr()},A(n,[{key:"volume",get:function(){return this.mdt.volume},set:function(t){this.mdt.volume=t}},{key:"muted",get:function(){return this.mdt.muted},set:function(t){this.mdt.muted=t}},{key:"style",get:function(){return this.mdt.style}},{key:"SR",get:function(){return this.ydt?this.ydt.metadata[this.fi].SR:NaN}},{key:"RR",get:function(){return this.ydt?this.SR+this.ydt.metadata[this.fi].d_:NaN}},{key:"Bdt",get:function(){return this.ydt?this.SR+this.Ldt:NaN},set:function(t){this.ydt?this.Ldt=t-this.SR:this.Ldt=0}},{key:"Ldt",get:function(){return this.Pdt()},set:function(t){this.Odt(t)}},{key:"Mdt",get:function(){return this.ydt},set:function(t){this.Cdt(t)}},{key:"f5",get:function(){return this.ydt&&this.ydt.metadata.Z2}},{key:"ZK",get:function(){return!(!this.bdt||!this.ydt)}},{key:"Udt",get:function(){return!(!this.Adt||!this.ydt)}},{key:"m_",get:function(){return this.Tdt},set:function(t){t>=0&&this.Tdt!==t&&(this.Tdt=t,this.Ndt())}},{key:"w_",get:function(){return this.mdt.paused}},{key:"l_",get:function(){return this.mdt.ended}},{key:"ts",get:function(){return this.mdt.error}},{key:"k_",get:function(){return this.mdt.videoWidth}},{key:"p_",get:function(){return this.mdt.videoHeight}},{key:"Dl",get:function(){return this.mdt.readyState}}]),n}(MP);function YH(t,n){return i=t.Mdt.metadata.iZ,e=n.Mdt.metadata.iZ,i.bandwidth&&e.bandwidth&&ns(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&ns(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||ts(i.vY,e.vY)||ns(t.RR,n.RR);var i,e}function jH(t){return{SR:t.SR,RR:t.RR}}function ZH(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.SR<=n&&n<e.RR)return i}return-1}function JH(t,n,i){return{SR:n?i.metadata.t5:i.metadata[t].SR,RR:i.metadata[t].SR+i.metadata[t].d_}}function $H(t,n,i){return new uB([JH(t,n,i)])}function KH(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(JH(t,n,s))}return aB(new uB(e))}function tz(t,n,i){if(!n)return!1;var e=n.metadata[t].SR,r=e+n.metadata[t].d_;return e<=i&&i<=r}function nz(t,n){var i=dB(t,n);return i<0?n:t.end(i)}var iz=function(){function t(t){this.nr=void 0,this.m0=[],this.Fdt=oB,this.Hdt=oB,this.nr=t}var n=t.prototype;return n.J9=function(t){var n,i;this.m0=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.Mdt===t?r.RR=e:i.push({Mdt:t,SR:n,RR:e})},r=0;r<t.length;r++){var s=t[r];if(s.RR<=n.SR)e(s.Mdt,s.SR,s.RR);else if(s.SR>=n.RR)n.SR<n.RR&&(e(n.Mdt,n.SR,n.RR),n.SR=n.RR),e(s.Mdt,s.SR,s.RR);else{var u=void 0,o=void 0;YH(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.SR,a=o.SR,c=_.min(o.RR,s.RR),f=_.min(u.RR,s.RR);h<a&&e(u.Mdt,h,a),a<c&&e(o.Mdt,a,c),c<f&&e(u.Mdt,c,f),n.SR=_.max(n.SR,s.RR)}}return n.SR<n.RR&&e(n.Mdt,n.SR,n.RR),i}(this.m0,function(t,n){var i=n.metadata[t].SR;return{Mdt:n,SR:i,RR:i+n.metadata[t].d_}}(this.nr,t)),this.Fdt=_B(this.Fdt,$H(this.nr,!1,t)),this.Hdt=_B(this.Hdt,$H(this.nr,!0,t)),this.Hdt=(n=this.Hdt,i=this.Fdt,cB(n,fB(i)))},n.zdt=function(t){t=this.Vdt(t);var n=ZH(this.m0,t);return n>=0?this.m0[n].Mdt:null},n.Wdt=function(t,n,i,e){t=this.Vdt(t);var r=this.m0,s=ZH(r,t);if(s<0)return null;var u=r[s];if(!i||!tz(this.nr,i,t))return e&&tz(this.nr,e,t)?null:u.Mdt;if(i!==u.Mdt){if(e&&e===u.Mdt)return null;if(u.RR-t>n)return u.Mdt}for(var o=s+1;o<r.length;o++){var h=r[o];if(e&&e===h.Mdt)return null;if(h.RR-t>n)return h.Mdt;for(var a=[i],c=o+1;c<r.length;c++)a.push(r[c].Mdt);var f=KH(this.nr,!1,a);a.push(h.Mdt);var v=KH(this.nr,!1,a);if(nz(f,t)<nz(v,t))return h.Mdt}return null},n.Xdt=function(t,n){for(var i=this.m0,e=i.length-1;e>=0;e--){var r=i[e];(r.RR<=t||r.SR>=n)&&os(i,e)}},n.nl=function(){this.m0.length=0,this.Fdt=oB,this.Hdt=oB},n.Vdt=function(t){var n=NH(t,this.yg,this.Hdt,!1);return void 0===n?t:n},A(t,[{key:"yg",get:function(){var t=this.m0.map(jH);return aB(new uB(t))}}]),t}(),ez=5,rz=30,sz=function(t){function n(n,i){var e,r;(e=t.call(this)||this).qdt=void 0,e.fi=void 0,e.Gdt=void 0,e.Qdt=void 0,e.Ydt=void 0,e.Ch={xj:{jdt:100,Zdt:100,Jdt:100},Bj:{jdt:500,Zdt:100,Jdt:200}},e.Bu=void 0,e.JS=null,e.Jvt=null,e.$dt=null,e.Kdt=void 0,e.tlt=void 0,e.nlt=void 0,e.ilt=void 0,e.elt=null,e.rlt=void 0,e.slt=void 0,e.ult=0,e.olt=null,e.hlt=!1,e.WG=!1,e.clt=0,e.flt=0,e.vlt=Uw.n_,e.Lft=function(){var t=e.aat();e.Ydt.Xdt(t-ez,t+rz)},e.dlt={llt:(r=Tt(e),{Yo:function(){r.nlt.addEventListener("ended",this._lt),r.ilt.addEventListener("ended",this.glt)},hv:function(){r.nlt.removeEventListener("ended",this._lt),r.ilt.removeEventListener("ended",this.glt)},wlt:function(){},_lt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.nlt})},glt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.ilt})}}),SA:{Vn:"SA",Yo:function(){},hv:function(){},wlt:function(){}},mlt:function(){var t=Tt(e),n=function n(){t.nlt.removeEventListener("play",n),t.nlt.removeEventListener("timeupdate",i),t.nlt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.nlt.w_||(!t.seeking&&t.nlt.Mdt?(i=t.nlt,(e=t.ilt).ZK&&uz(i,e)>=0&&t.ylt(t.dlt.plt)):t.nlt.removeEventListener("timeupdate",n))};return{Vn:"mlt",Yo:function(){t.dlt.llt.Yo.call(this),this.klt(),this.wlt()},hv:function(){t.dlt.llt.hv.call(this),t.nlt.removeEventListener("play",n),t.nlt.removeEventListener("timeupdate",i)},wlt:function(){t.nlt.Mdt?t.wlt(t.ilt,t.blt):t.wlt(t.nlt,t.blt)},_lt:function(){var n=t.ilt.Mdt;if(n&&n.metadata.J2)return t.ilt.xdt(t.nlt.Bdt)&&(t.ilt.Bdt=t.nlt.Bdt),t.Alt(),void t.nlt.play();t.dlt.llt._lt.call(this)},glt:function(){0},klt:function(){t.nlt.removeEventListener("play",n),t.nlt.w_?t.nlt.addEventListener("play",n):n.call(t.nlt)}}}(),plt:function(){var t=Tt(e),n=function(){e.ylt(e.dlt.Tlt)};return{Vn:"plt",Yo:function(){t.dlt.llt.Yo.call(this),t.ilt.addEventListener("seeked",n);var i=uz(t.nlt,t.ilt),e=t.Ch[t.fi].jdt/1e3,r=_.min(i+e,t.ilt.RR);try{t.ilt.Ldt=r}catch(n){t.ylt(t.dlt.mlt),t.Slt(n.message)}},hv:function(){t.dlt.llt.hv.call(this),t.ilt.removeEventListener("seeked",n)},wlt:function(){},_lt:function(){t.dlt.llt._lt.call(this)},glt:function(){}}}(),Tlt:function(){var t,n=Tt(e),i=function(){s()},r=function(){s()},s=function(){AR(t),e.ilt.Bdt-e.nlt.Bdt-1/60>0?t=bR(i):e.ylt(e.dlt.Elt)};return{Vn:"Tlt",Yo:function(){n.dlt.llt.Yo.call(this),n.nlt.addEventListener("timeupdate",r),s()},hv:function(){n.dlt.llt.hv.call(this),AR(t),n.nlt.removeEventListener("timeupdate",r)},wlt:function(){},_lt:function(){n.dlt.llt._lt.call(this)},glt:function(){n.dlt.llt.glt.call(this)}}}(),Elt:function(){var t,n=Tt(e),i=function(){var t=e.Rlt(e.ilt),n=e.Ch[e.fi].Zdt/_.max(1,e.nlt.m_);return function(t,n,i,e){return new GH(t,n,i,e)}(t,t.Ilt,n,function(){e.ylt(e.dlt.Nlt),e.dlt.Nlt.Dlt()})},r=function(){e.$dt.SR(),e.ylt(e.dlt.Nlt)};return{Vn:"Elt",Yo:function(){n.dlt.llt.Yo.call(this);var e=n.Ch[n.fi].Jdt/_.max(1,n.nlt.m_);n.$dt=i(),t=h(r,e),n.ilt.play()},hv:function(){n.dlt.llt.hv.call(this),a(t),t=0},wlt:function(){},_lt:function(){n.dlt.llt._lt.call(this)},glt:function(){n.dlt.llt.glt.call(this)}}}(),Nlt:function(){var t=Tt(e);return{Vn:"Nlt",Yo:function(){t.dlt.llt.Yo.call(this)},hv:function(){t.dlt.llt.hv.call(this),t.$dt&&t.$dt._dt()},wlt:function(){},_lt:function(){t.dlt.llt._lt.call(this)},glt:function(){t.dlt.llt.glt.call(this)},Dlt:function(){t.$dt=null,t.Alt()}}}()},e.Clt={Olt:function(){var t=Tt(e);return{Yo:function(){},hv:function(){},wlt:function(){t.rlt.wlt()},Xat:function(n,i,e,r){t.ult=n,t.olt=r,t.ylt(t.dlt.SA);var s=t.nlt===t.Kdt?i:e,u=t.ilt===t.Kdt?i:e;s&&t.nlt.xdt(n)?t.Plt(t.Clt.xlt):u&&t.ilt.xdt(n)?t.Plt(t.Clt.Blt):t.Plt(t.Clt.Llt)}}}(),Llt:function(){var t=Tt(e),n=function(){e.blt(),e.ilt.ZK?(e.ilt.xdt(e.ult)||(e.Mlt('Could not seek to exact timestamp "'+e.ult+'", seeking instead to: "'+e.ilt.SR+'"'),e.ult=e.ilt.SR),e.Plt(e.Clt.Blt)):e.Plt(e.Clt.Olt)};return{Yo:function(){t.Ult(),t.nlt.Mdt=null,t.ilt.Mdt=null,t.ilt.style.display="none",t.blt(),this.wlt()},hv:function(){t.ilt.x6(),t.ilt.style.display=""},wlt:function(){t.ilt.Mdt||t.wlt(t.ilt,n)},Xat:function(n,i,e,r){t.Flt(),t.slt.Xat(n,i,e,r)}}}(),xlt:function(){var t=Tt(e),n=function(){e.Plt(e.Clt.Olt),e.ylt(e.dlt.mlt),e.GF(),e.olt&&(e.olt.call(t),e.olt=null)};return{Yo:function(){t.nlt.addEventListener("seeked",n);try{t.nlt.Bdt=t.ult,t.GF()}catch(n){t.Slt(n.message)}},hv:function(){t.nlt.removeEventListener("seeked",n)},wlt:function(){},Xat:function(n,i,e,r){t.Flt(),t.slt.Xat(n,i,e,r)}}}(),Blt:function(){var t=Tt(e),n=function(){e.Plt(e.Clt.Olt),e.Alt(),e.olt&&(e.olt.call(t),e.olt=null)};return{Yo:function(){t.ilt.style.display="none",t.ilt.addEventListener("seeked",n);try{t.ilt.Bdt=t.ult,t.GF()}catch(n){t.Slt(n.message)}},hv:function(){t.ilt.style.display="",t.ilt.removeEventListener("seeked",n)},wlt:function(){},Xat:function(n,i,e,r){t.Flt(),t.slt.Xat(n,i,e,r)}}}()},e.blt=function(){var t=e.WG;e.WG=e.Kdt.Udt||e.tlt.Udt,t&&!e.WG&&e.dispatchEvent("updateend"),e.Hlt(),e.GF(),e.zlt()},e.GF=function(){var t=e.Dl;t!==e.vlt&&(e.vlt=t,e.dispatchEvent(nm.zd))},e.qdt=n,e.fi=i,e.Ydt=new iz(i),e.Bu="Bj"===i?0:1;var s=function(t){switch(t){case"xj":return"audio";case"Bj":return"video"}}(i);return e.Gdt=oz(s),e.Qdt=oz(s),n.appendChild(e.Gdt),n.appendChild(e.Qdt),e.Kdt=new QH(e.Gdt,e.fi),e.tlt=new QH(e.Qdt,e.fi),e.nlt=e.Kdt,e.ilt=e.tlt,e.rlt=e.dlt.mlt,e.slt=e.Clt.Olt,e.rlt.Yo(),e.slt.Yo(),e.fJ(),e.al(),e}S(n,t);var i=n.prototype;return i.Vlt=function(t){return t===this.Kdt?this.tlt:this.Kdt},i.Mlt=function(t){this.Jvt=t,this.dispatchEvent({type:"warning",warning:this.Jvt})},i.Slt=function(t){this.JS=t,this.dispatchEvent({type:"error",error:t})},i.Rlt=function(t){var n,i=this,e=this.Vlt(t);return n="Bj"===this.fi?{cs:function(){if(i.elt!==t)return 0;var n=w(t.style.opacity);return m(n)?1:n},ia:function(n){n=ft(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.elt=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},Ilt:1,Wlt:function(){if(n.cs()!==n.Ilt)return n.ia(n.Ilt)}}:{cs:function(){return t.volume},ia:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.Ilt-i}catch(t){r=t}return r},Ilt:this.Bu,Wlt:function(){if(n.cs()!==n.Ilt)return n.ia(n.Ilt)}}},i.wlt=function(t,n){var i=this.Ydt.Wdt(this.aat(),1,this.nlt.Mdt,this.ilt.Mdt);return!!i&&(this.Ult(),t.Mdt=i,t.Yo(n),t.f5&&this.dispatchEvent("durationchange"),!0)},i.Xlt=function(){this.Ult(),this.Ydt.nl(),this.Kdt.x6(),this.tlt.x6(),this.blt()},i.fg=function(){return this.nlt.fg()},i.aat=function(){return this.seeking?this.ult:this.nlt.Bdt},i.Xat=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.slt.Xat(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Alt=function(){var t=this.nlt;this.ylt(this.dlt.SA),this.nlt=this.ilt,this.ilt=t,this.Rlt(this.nlt).Wlt(),this.Ult(),this.ilt.pause(),this.ilt.Mdt=null,this.blt(),this.ylt(this.dlt.mlt)},i.fJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Slt(new HP(FP.nY,{code:"VEE"+i.error})):t.Slt(new HP(FP.nY,{code:"VEE"+n.ts.code}));n===t.nlt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.Kdt),r=i.bind(null,this.tlt),s=0;s<n.length;s++){var u=n[s];this.Kdt.addEventListener(u,e),this.tlt.addEventListener(u,r)}this.Kdt.addEventListener("error",e),this.tlt.addEventListener("error",r);for(var o=0;o<cD.length;o++){var h=cD[o];this.Kdt.addEventListener(h,this.GF),this.tlt.addEventListener(h,this.GF)}},i.al=function(){this.addEventListener("seeking",this.Lft),this.addEventListener("timeupdate",this.Lft)},i.ylt=function(t){var n;if(this.rlt!==t){do{(n=this.rlt).hv()}while(n!==this.rlt);this.rlt=t,t.Yo()}},i.Plt=function(t){var n;if(this.slt!==t){do{(n=this.slt).hv()}while(n!==this.slt);this.slt=t,t.Yo()}},i.Flt=function(){this.olt=null,this.Plt(this.Clt.Olt)},i.load=function(){this.pause(),this.Flt(),this.nlt.Mdt=null,this.ilt.Mdt=null,this.ylt(this.dlt.mlt)},i.hv=function(){this.Flt(),this.ylt(this.dlt.SA),this.Xlt(),this.Kdt.unload(),this.tlt.unload(),this.qdt.removeChild(this.Gdt),this.qdt.removeChild(this.Qdt),this.JS=null,this.Jvt=null},i.PJ=function(){var t=this,n=this.aat();this.Xlt(),this.slt.Xat(n,!1,!1,function(){t.dispatchEvent("PJ",!0)})},i.play=function(){this.Rlt(this.nlt).Wlt(),this.nlt.ZK&&this.nlt.play()},i.pause=function(){this.Kdt.pause(),this.tlt.pause()},i.udt=function(t){var n=this,i=function(){n.dispatchEvent("Yvt",!0)};this.pause(),this.nlt.l_?this.slt.Xat(t,this.ilt===this.Kdt,this.ilt===this.tlt,i):this.ilt.l_?this.slt.Xat(t,!1,!1,i):this.ilt.xdt(t)?this.slt.Xat(t,this.ilt===this.Kdt,this.ilt===this.tlt,i):i()},i.J9=function(t){this.Ult(),this.Ydt.J9(t),this.blt(),this.slt.wlt()},i.odt=function(t){return this.Gdt.canPlayType('video/mp4; codecs="'+t+'"')},i.hdt=function(){return _.max(this.Gdt.offsetWidth,this.Qdt.offsetWidth)},i.adt=function(){return _.max(this.Gdt.offsetHeight,this.Qdt.offsetHeight)},i.Hlt=function(){!this.hlt&&this.loaded&&(this.hlt=!0,this.dispatchEvent("loaded"))},i.zlt=function(){if("Bj"===this.fi){var t=this.k_,n=this.p_;t>0&&n>0&&(this.clt!==t||this.flt!==n)&&(this.clt=t,this.flt=n,this.dispatchEvent("resize"))}},i.Ult=function(){var t=this.WG;this.WG=!0,t||this.dispatchEvent("updatestart")},A(n,[{key:"yg",get:function(){var t=[];return m(this.Kdt.SR)||t.push({SR:this.Kdt.SR,RR:this.Kdt.RR}),m(this.tlt.SR)||t.push({SR:this.tlt.SR,RR:this.tlt.RR}),_B(aB(new uB(t)),this.Ydt.yg)}},{key:"duration",get:function(){return this.nlt.f5?this.nlt.RR:this.ilt.f5?this.ilt.RR:NaN}},{key:"paused",get:function(){return this.nlt.w_}},{key:"ended",get:function(){return this.nlt.l_}},{key:"muted",get:function(){return this.nlt.muted&&this.ilt.muted},set:function(t){this.nlt.muted=t,this.ilt.muted=t}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu=t,this.$dt&&this.$dt._dt(),this.ilt.volume=0,this.nlt.volume=this.Bu}},{key:"error",get:function(){return this.JS}},{key:"warning",get:function(){return this.Jvt}},{key:"seeking",get:function(){return this.slt!==this.Clt.Olt}},{key:"loaded",get:function(){return this.nlt.ZK}},{key:"m_",get:function(){return this.nlt.m_},set:function(t){t>=0&&(this.nlt.m_=t,this.ilt.m_=t)}},{key:"k_",get:function(){return this.nlt.k_}},{key:"p_",get:function(){return this.nlt.p_}},{key:"iO",get:function(){return this.WG}},{key:"Dl",get:function(){var t;if(this.slt===this.Clt.Llt||this.slt===this.Clt.Blt)t=Uw.i_;else{var n=this.nlt.Dl;if(n<=Uw.e_)t=n;else{var i=dS.hI(this.yg).xR(),e=this.duration,r=this.aat();m(e)||(r=_.min(r,e));var s=i.uI(r);if(s){var u=s.RR(0);t=u-r>=3*this.m_||!m(e)&&u>=e?Uw.s_:Uw.r_}else t=Uw.e_}}return t===Uw.n_&&this.hlt?Uw.i_:t}}]),n}(MP);function uz(t,n){return t.Bdt-n.SR}function oz(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),De(n),n.controls=!1,n}var hz,az=function(){function t(t){var n=this;this.oR=void 0,this.Dg=void 0,this.qlt=void 0,this.Glt=void 0,this.Qlt=void 0,this.Ylt=function(){(m(n.Glt)||n.Qlt)&&(n.Glt=n.pP()),n.qlt=n.Glt,n.Qlt=!1},this.jlt=function(){var t=n.pP();n.Zlt(t),n.Glt=t},this.Jlt=function(){n.oR.Dl<=Uw.e_&&n.jlt()},this.$lt=function(){n.Zlt(n.Glt),n.Qlt=!0},this.Klt=function(){n.Glt=n.pP()},this.oR=t,this.Dg=dS.fI(),this.qlt=NaN,this.Glt=NaN,this.Qlt=!1,t.addEventListener("playing",this.Ylt),t.addEventListener("pause",this.jlt),t.addEventListener("seeking",this.$lt),t.addEventListener("timeupdate",this.Klt),t.addEventListener(nm.zd,this.Jlt)}var n=t.prototype;return n.nF=function(){var t=this.Dg,n=this.qlt;if(!m(n)){var i=this.pP();n<i&&(t=t.QR(new dS([n,i])))}return t.VE()},n.pP=function(){return this.oR.aat()},n.Zlt=function(t){var n=this.qlt;n<t&&(this.Dg=this.Dg.QR(new dS([n,t]))),this.qlt=NaN},n.Mat=function(){var t=this.pP();this.Zlt(t),this.Qlt=!0},n.nl=function(){this.Dg=dS.fI(),this.qlt=NaN,this.Glt=NaN,this.Qlt=!1},n.Sr=function(){var t=this.oR;t.removeEventListener("playing",this.Ylt),t.removeEventListener("pause",this.jlt),t.removeEventListener("seeking",this.$lt),t.removeEventListener("timeupdate",this.Klt),t.removeEventListener(nm.zd,this.Jlt),this.oR=null},t}(),cz=function(t){function n(n,i){var e;return(e=t.call(this)||this).t_t=void 0,e.jS=void 0,e.zz=!1,e.Au=NaN,e.n_t=void 0,e.Ii=void 0,e.qdt=void 0,e.i_t=void 0,e.JS=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e.vlt=Uw.n_,e.e_t=function(){e.i_t.seeking||(e.i_t.removeEventListener("seeked",e.e_t),e.dispatchEvent("seeked"),e.r_t.paused?e.Ii=e.s_t:e.u_t(),e.GF())},e.o_t=function(){e.i_t.paused||(e.i_t.removeEventListener("playing",e.o_t),e.dispatchEvent("playing"))},e.h_t=function(t){e.Ii=e.a_t,e.JS=t,e.dispatchEvent({type:"error",error:e.JS})},e.c_t={paused:!0,play:function(){e.removeEventListener("wft",e.c_t.f_t),e.zz?(e.Ii=e.v_t,e.i_t.removeEventListener("playing",e.o_t),e.i_t.addEventListener("playing",e.o_t),e.i_t.play(),e.dispatchEvent("play")):e.addEventListener("wft",e.c_t.f_t)},f_t:function(){e.removeEventListener("wft",e.c_t.f_t),e.Ii.play()},stall:function(){},pause:function(){e.c_t.f_t&&e.removeEventListener("wft",e.c_t.f_t),e.i_t.pause(),e.dispatchEvent("pause"),e.Ii=e.s_t},load:function(t){},aat:function(){return e.zz?e.i_t.aat():0},Xat:function(t,n){var i=vB(e.yg,t);n=n||!i,e.i_t.removeEventListener("seeked",e.e_t),e.i_t.addEventListener("seeked",e.e_t),e.r_t.seekTime=t,e.Ii=e.r_t,e.dispatchEvent("Mat"),e.i_t.Xat(t,n),e.dispatchEvent("seeking")},MP:function(){return e.i_t.Dl},PJ:function(t){e.r_t.seekTime=e.aat(),e.Ii=e.d_t,e.i_t.removeEventListener("PJ",e.d_t.l_t),e.i_t.addEventListener("PJ",e.d_t.l_t),e.i_t.PJ(t),e.GF()},forwardEvent:function(t){"pause"===t.type&&e.i_t.ended||e.dispatchEvent(t)}},e.s_t=ir({},e.c_t,{pause:function(){e.removeEventListener("wft",e.c_t.f_t)},Xat:function(t){e.r_t.paused=!0,e.c_t.Xat(t)},PJ:function(t){e.r_t.paused=!0,e.c_t.PJ(t)}}),e.__t=ir({},e.s_t),e.g_t=ir({},e.s_t,{load:function(t,n){e.removeEventListener("wft",e.g_t.w_t),n||e.dispatchEvent("loadstart"),e.zz?e.i_t.load(t):(e.g_t.m_t=t,e.addEventListener("wft",e.g_t.w_t))},w_t:function(){e.removeEventListener("wft",e.g_t.w_t),e.Ii.load(e.g_t.m_t,!0)},m_t:null,aat:function(){return e.zz?e.i_t.aat():e.g_t.y_t},Xat:function(t){e.removeEventListener("wft",e.g_t.p_t),e.zz?(e.Ii=e.s_t,e.Ii.Xat(t)):(e.g_t.y_t=t,e.addEventListener("wft",e.g_t.p_t),e.dispatchEvent("seeking"))},p_t:function(){e.removeEventListener("wft",e.g_t.p_t),e.Ii.Xat(e.g_t.y_t)},y_t:0,PJ:function(t){}}),e.v_t=ir({},e.c_t,{Xat:function(t){e.r_t.paused=!1,e.c_t.Xat(t)},play:function(){},stall:function(){e.Ii=e.k_t,e.k_t.b_t=e.i_t.aat(),e.k_t.paused=!1,e.i_t.addEventListener("Yvt",e.k_t.A_t),e.i_t.udt(e.k_t.b_t),e.GF()},PJ:function(t){e.r_t.paused=!1,e.c_t.PJ(t)}}),e.k_t=ir({},e.v_t,{paused:!1,b_t:0,Xat:function(t){e.i_t.removeEventListener("Yvt",e.k_t.A_t),e.k_t.paused?e.Ii=e.s_t:e.Ii=e.v_t,e.Ii.Xat(t),e.GF()},aat:function(){return e.k_t.b_t},MP:function(){return _.min(e.i_t.Dl,Uw.e_)},forwardEvent:function(){},play:function(){e.k_t.paused=!1,e.dispatchEvent("play")},pause:function(){e.k_t.paused=!0,e.dispatchEvent("pause")},stall:function(){},A_t:function(){e.i_t.seeking||(e.i_t.removeEventListener("Yvt",e.k_t.A_t),e.k_t.paused?e.Ii=e.s_t:e.c_t.play(),e.GF())}}),e.r_t=ir({},e.c_t,{paused:!1,seekTime:0,aat:function(){return e.r_t.seekTime},play:function(){e.r_t.paused=!1},pause:function(){e.r_t.paused=!0,e.i_t.pause(),e.dispatchEvent("pause")}}),e.d_t=ir({},e.r_t,{Xat:function(t){e.i_t.removeEventListener("PJ",e.d_t.l_t),e.r_t.paused?e.Ii=e.s_t:e.Ii=e.v_t,e.Ii.Xat(t)},MP:function(){return _.min(e.i_t.Dl,Uw.e_)},forwardEvent:function(){},stall:function(){},l_t:function(){e.i_t.seeking||(e.i_t.removeEventListener("PJ",e.d_t.l_t),e.r_t.paused?e.Ii=e.s_t:e.c_t.play(),e.GF())}}),e.a_t=ir({},e.c_t,{play:function(){},pause:function(){},load:function(){},aat:function(){return NaN},MP:function(){return Uw.n_},Xat:function(t){e.c_t.Xat(t,!0)},PJ:function(t){}}),e.Ur=function(t){e.dispatchEvent(t)},e.T_t=function(t){e.Ii.forwardEvent(t)},e.S_t=function(t){e.h_t(t.error)},e.E_t=function(t){if(t.origin&&t.origin.f5)return e.tg();e.Ii.stall()},e.Cvt=function(){var t=e.i_t.duration;t&&e.Au!==t&&(e.Au=t,e.dispatchEvent("durationchange"))},e.R_t=function(){e.i_t.loaded&&(e.loaded=!0)},e.GF=function(){var t=e.Dl;t!==e.vlt&&(e.vlt=t,e.dispatchEvent(nm.zd))},e.t_t=n,e.jS=i,e.n_t=new az(Tt(e)),e.i_t=new qH,e.Ii=e.g_t,e.qdt=s.createElement("div"),e.qdt.style.position="absolute",e.qdt.style.width="100%",e.qdt.style.height="100%",e.I_t(),e}S(n,t);var i=n.prototype;return i.u_t=function(){this.c_t.play()},i.I_t=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.i_t.addEventListener(e,this.Ur)}for(var r=0;r<n.length;r++){var s=n[r];this.i_t.addEventListener(s,this.T_t)}this.i_t.addEventListener("ended",this.E_t),this.i_t.addEventListener("error",this.S_t),this.i_t.addEventListener("durationchange",this.Cvt),this.i_t.addEventListener("loaded",this.R_t),this.i_t.addEventListener(nm.zd,this.GF)},i.setup=function(){this.jS.bE.parentNode===this.t_t?this.t_t.replaceChild(this.qdt,this.jS.bE):(this.jS.bE.parentNode&&this.jS.bE.parentNode.removeChild(this.jS.bE),this.t_t.appendChild(this.qdt))},i.play=function(){this.Ii.play()},i.pause=function(){this.Ii.pause()},i.N_t=function(t){this.i_t&&this.i_t.hv(t),this.zz=!1},i.tg=function(){this.pause(),this.Ii=this.__t,this.JS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Ii.load(t)},i.unload=function(){return this.i_t.hv(),this.n_t.Sr(),this.qdt.parentNode===this.t_t?this.t_t.replaceChild(this.jS.bE,this.qdt):(this.qdt.parentNode&&this.qdt.parentNode.removeChild(this.qdt),this.t_t.appendChild(this.jS.bE)),this.Wr(),this.jS.bE},i.reset=function(t){this.zz=!1,this.Ii=this.g_t,this.JS=void 0,this.Au=NaN,this.vlt=Uw.n_,this.n_t.nl(),this.N_t(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.PJ=function(t){this.Ii.PJ(t)},i.J9=function(t){return this.i_t.J9(t),we.resolve()},i.fg=function(){return this.i_t.fg()},i.aat=function(){return this.Ii.aat()},i.Xat=function(t){this.n_t.Mat(),this.Ii.Xat(t)},i.Gst=function(t,n){return we.resolve()},i.canPlayCodecs=function(t){return this.i_t.odt('video/mp4; codecs="'+t+'"')},i.Nat=function(t,n,i){var e={};for(var r in t)if(M.call(t,r)){var s=t[r];!this.i_t.videoStream&&s.Bj&&(this.i_t.videoStream=new sz(this.qdt,"Bj"),e.Bj=this.i_t.videoStream),!this.i_t.audioStream&&s.xj&&(this.i_t.audioStream=new sz(this.qdt,"xj"),e.xj=this.i_t.audioStream,this.dispatchEvent("hft"))}return this.zz=!0,this.dispatchEvent("wft"),we.resolve(e)},A(n,[{key:"Iat",get:function(){return this.zz}},{key:"kg",get:function(){return this.qdt}},{key:"yg",get:function(){return this.i_t.yg}},{key:"volume",get:function(){return this.i_t.volume},set:function(t){this.i_t.volume=t}},{key:"duration",get:function(){return this.Au}},{key:"muted",get:function(){return this.i_t.muted},set:function(t){this.i_t.muted=t}},{key:"paused",get:function(){return this.Ii.paused&&this.i_t.paused}},{key:"played",get:function(){return this.n_t.nF()}},{key:"ended",get:function(){return this.Ii===this.__t}},{key:"seeking",get:function(){return this.Ii===this.r_t}},{key:"error",get:function(){return this.JS||this.i_t.error}},{key:"warning",get:function(){return this.i_t.warning}},{key:"width",get:function(){return this.i_t.hdt()}},{key:"height",get:function(){return this.i_t.adt()}},{key:"m_",get:function(){return this.i_t.m_},set:function(t){this.i_t.m_=t}},{key:"Dl",get:function(){return this.Ii.MP()}},{key:"k_",get:function(){return this.i_t.k_}},{key:"p_",get:function(){return this.i_t.p_}}]),n}(MP);!function(t){t.cY="unsupported",t.D_t="native",t.C_t="hls-native",t.O_t="hls-mse",t.P_t="hls-switching-video"}(hz||(hz={}));var fz=function(){function t(){this.x_t={},this.B_t(hz.D_t,pH),this.B_t(hz.C_t,pH),this.B_t(hz.O_t,MH),this.B_t(hz.P_t,cz)}return t.prototype.B_t=function(t,n){this.x_t[t]=n},t.B_t=function(n,i){t.MK.B_t(n,i)},t.L_t=function(n,i,e){var r=t.MK.x_t[n];return r?new r(i,e):void 0},t}();fz.MK=new fz;var vz=function(t){function n(n){var i;return(i=t.call(this)||this).M_t=void 0,i.U_t=function(t){i.Fr(t)},i.M_t=n,i.F_t(),i}S(n,t);var i=n.prototype;return i.F_t=function(){this.M_t.Hr("wC",this.U_t)},i.H_t=function(){this.M_t.Xr("wC",this.U_t)},i.hv=function(){this.H_t()},A(n,[{key:"AC",get:function(){return this.M_t.AC}},{key:"TC",get:function(){return this.M_t.TC}},{key:"z_t",set:function(t){if(this.M_t!==t){var n=this.TC,i=this.AC;this.H_t(),this.M_t=t,this.F_t();var e=this.TC,r=this.AC;n===e&&i===r||this.Fr(new lR(e,r))}}}]),n}(Cs);function dz(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function lz(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function _z(t,n){var i=t.type;return i?rb?lz(i)?!fb||n.useSwitchOverMSE||L.dn&&n.vr&&n.vr[360]?!ob||L.un||L.fn&&L.Ht?hb?hz.P_t:hz.cY:hz.C_t:hz.O_t:hz.D_t:hz.cY:hz.D_t}var gz=function(t,n,i,e,r){var s,u,o,c,f,d,g=this,y=null,p=null,k=null,b=!0,A=null,T=null,S=!1,E=null,R=null,I=null,N=gS,D=gS,C=!0,O=null,P={o1:0,fdt:0},x=null,B=null,M=null,U=1,F=!1,H="none",V=!0,W=!0,X=!1,q=null,G=!0,Q=!1,Y=Uw.n_,j=!1,Z=!1,J=NaN,$=null,K=null,tt=L.Qt&&ub,nt=!1,it="",et=hz.cY,rt=null,st=function(){var t=new HP(FP.cY,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});g.dispatchEvent({type:"unsupportedPlatform"}),Yt(t)},ut=function(){var t,e;return(t=i.audioOnly?(e=n.kE(Qm.Jf)).bE:(e=n.kE(Qm.$f)).bE).preload="none",De(t),e},ot=function(t){return t===R?I:R},ht=function(){A.style.zIndex="1",T.style.zIndex="0",A.style.display=b?"":"none",T.style.display=b&&S?"":"none"},at=function(t){wt(t.zJ),gt(t.VJ),u&&(u.zJ=o),pt()},ct=function(t,n){yt(t.zJ,n),mt(t.VJ),u&&(u.zJ=o)},vt=function(){zt(),It(),g.dispatchEvent("timeupdate"),g.dispatchEvent("ended")},dt=function(){var t=function(t){if("error"===t.type)return Yt(t.error);g.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)p.addEventListener(t[i],n,!0)};switch(p.addEventListener("hft",function(){p.volume=U,p.muted=F}),p.addEventListener("loadedmetadata",function(t){et===hz.D_t&&(Q=!0,g.dispatchEvent(t))}),p.addEventListener("durationchange",function(){var t=p.duration;t&&t!==1/0&&J!==t&&(J=t,g.dispatchEvent("durationchange"))}),p.addEventListener("seeking",Ht),p.addEventListener("seeked",zt),p.addEventListener("ended",vt),p.addEventListener(nm.zd,Kt),p.setup(),d.Fat=p,n(["timeupdate","playing","ratechange","resize"],t),et){case hz.D_t:case hz.C_t:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case hz.O_t:n(["play","pause"],St)}p.addEventListener("warning",function(t){g.warning=t.warning,g.dispatchEvent(t)}),g.dispatchEvent("volumechange")},lt=function(t){y&&y.Ict(),p&&(y=new nH(t,tt,f,e))},_t=function(t){var n=Ct(t.sources),e=t.textTracks||[],r=_H(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.Zct=!0),{sources:[n],textTracks:e,configuration:r}},gt=function(t){mt(t)},wt=function(t){o&&(o.hv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener("durationchange",function(){J=o.d_,g.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("lv",kt),o.addEventListener("Ng",kt),o.p$.addEventListener("renditionUpdated",function(){Xt()}),d.p$=o.p$)},mt=function(t){var n;c&&(c.hv(),c=null),p&&(c=t)&&(n=c.oat,c.addEventListener("CJ",function(t){var n=g.videoWidth,i=g.videoHeight;$=t.iZ,g.dispatchEvent(t),gb&&n===g.videoWidth&&i===g.videoHeight||g.dispatchEvent("resize")}),c.addEventListener("ts",function(t){Yt(t.error)}),c.addEventListener("Fht",function(t){g.dispatchEvent(t)}),c.Fat=p,m(n)||Ft(n))},yt=function(t,n){o&&(o.hv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener(yc.Ca,function(t){g.dispatchEvent(t)}),o.addEventListener(yc.Pa,function(t){g.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.d_,g.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("lv",kt),o.addEventListener("Ng",kt),o.addEventListener("N$",function(){g.dispatchEvent("progress")}),o.p$.addEventListener("renditionUpdated",function(){Xt()}),o.p$.addEventListener("renditionUpdated",function(t){var i,e=t.iZ.FZ&&t.iZ.FZ.xj;e&&-1!==e.indexOf("mp4a.40.3")&&("q6"!==n.G6||cb||(i=x,LP(function(){n.useSwitchOverMSE=!0;var t=W;x=null,tn({sources:i,configuration:n}),t||Rt()})))}),d.p$=o.p$)},pt=function(){p.addEventListener("play",function(){g.play({fromNative:!0})}),p.addEventListener("pause",function(){g.pause({fromNative:!0})}),p.addEventListener("volumechange",function(){g.volume=p.volume,g.muted=p.muted}),p.addEventListener("webkitpresentationmodechanged",Bt)},kt=function(){var t=G,n=!o||o.Ng;G=n,n&&!t?g.dispatchEvent(yc.ka):!n&&t&&g.dispatchEvent(yc.pa)},bt=function(){V=!1,W=!1,j=!0,p.configuration.useNativeVideoPlayback||p.loaded||Et(),Xt()},At=function t(){g.removeEventListener("initialized",t),g.removeEventListener("initialized",Tt),V&&(bt(),g.ended?Ft(0):qt(),p.play(),c&&c.J_())},Tt=function t(){g.removeEventListener("initialized",At),g.removeEventListener("initialized",t),V&&(bt(),qt())},St=function(t){var n=W;W="pause"===t.type,n&&!W?g.play({fromNative:!0}):!n&&W&&g.pause({fromNative:!0})},Et=function(){j=!0,p.configuration.useNativeVideoPlayback?(p.load(),P.fdt="start"):p.loading||(p.load(),p.loading=!0),Xt()},Rt=function(t){if(t=t||{},W=!1,C&&(C=!1,n.RI()),P.V_t=!1,!g.initialized||!p){if(t.onlyWhenInitialized){var i=new HP(FP.oY,{code:"MGB6720"});throw Yt(i),i}return g.removeEventListener("initialized",At),g.removeEventListener("initialized",Tt),g.addEventListener("initialized",t.fromNative?Tt:At),g.dispatchEvent("play",!0),void g.dispatchEvent("waiting",!0)}if(V){if(X&&g.ended)return It(),void g.dispatchEvent("timeupdate",!0);g.dispatchEvent("play",!0),t.fromNative?Tt():At()}},It=function(t){W=!0,(t=t||{}).fromNative||g.removeEventListener("initialized",At),g.removeEventListener("initialized",Tt),!V&&p&&(V=!0,t.fromNative||p.pause(),g.dispatchEvent("pause",!0))},Nt=function(t){return{type:dz(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ct=function(t){if(dH(t))return t.type?t:Nt(t.src);if(Dt(t))return Nt(t);if(z(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(dz(i))return Nt(i)}return Nt(t[0])}if(z(t)&&dH(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(lz(r.type)||!r.type&&dz(r.src))return r.type?r:Nt(r.src)}return t[0]}return{type:null,src:null}},Ot=function(t){var n=(t=_t(t)).sources[0],i=t.configuration,s=_z(n,i);!function(t,n){switch(t){case hz.D_t:case hz.C_t:n.G6=!1,n.W_t=!1;break;case hz.O_t:n.G6="q6",n.W_t=!0;break;case hz.P_t:n.G6="U5",n.W_t=L.Mt}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case hz.D_t:h=s=o=null;break;case hz.C_t:h=null;var c=new GF(a,e);s=c,o=new $F(c);break;case hz.O_t:case hz.P_t:h=new rH(a,e);var f=new qF(a,h,e,r);s=f,o=new ZF(f);break;default:return null}return new Bx(n,t,i,h,s,o,u)}(s,n,t);return o?(o.VJ&&(o.VJ.m_=g.playbackRate),o):null},Pt=function(t){tn({sources:t})},xt=function(n,i){var e=E,r=e.bE,u=!1,o=!g.paused,h=et,a=g.playbackRate,c=g.X_t;K&&(K.hv(),K=null),nn();var f=n&&n.B$||null;n&&n.P$||null,B=n&&n.uR||null,M=f&&f.configuration||null,et=n&&n.x$||hz.cY,jt();var v={type:"q_t",G_t:n,rh:M,Q_t:i};if(g.dispatchEvent(v),et!==hz.cY){if(p){g.pause();var d=h===et||h===hz.C_t&&et===hz.D_t||h===hz.D_t&&et===hz.C_t,l=i&&!L.Qt;if(d&&!l)p.reset(),y.nl();else{if(l?(k=p,r=(e=ot(e)).bE):r=p.unload(),!(u=fz.L_t(et,t,e)))return void st();p=u,dt(),lt(r)}zt(),Q=!1,Y=Uw.n_,j=!1,Z=!1,J=NaN,O=null,g.dispatchEvent("durationchange"),P.fdt=0,P.o1=0,P.V_t=!0,g.dispatchEvent("timeupdate")}else{if(!(u=fz.L_t(et,t,e)))return void st();p=u,e.bE.removeAttribute("poster"),dt(),lt(e.bE)}switch(E=e,s.z_t=E.yB,A=p.kg,k?(T=k.kg,S=!0):(T=ot(e).bE,S=!1),ht(),M.crossOrigin){case xw.Jl:case xw.$l:E.bE.setAttribute("crossorigin",M.crossOrigin);break;default:E.bE.removeAttribute("crossorigin")}if(c!==g.X_t&&g.dispatchEvent(yc._a),Bt(),Lt(),!B)return x=null,void(g.initialized=!1);!function(t,n){switch(et){case hz.D_t:case hz.C_t:at(t);break;case hz.O_t:case hz.P_t:ct(t,n);break;default:return}t.oR=g,t.Q$(H)}(K=n,M),p.src=B,y.Tct(f&&f.textTracks),g.playbackRate=a,x=B;var _={type:"Y_t",G_t:n,rh:M,Q_t:i};g.dispatchEvent(_),g.initialized=!0,g.dispatchEvent("initialized"),kt(),Ft("start"),p.configuration.useNativeVideoPlayback&&L.Qt&&o&&Qt()&&(g.play(),g.pause()),f&&g.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Bt=function(){var t=it;(it=g.vft)!==t&&g.dispatchEvent("j_t")},Lt=function(){d&&(d.QH=tt&&nt)},Mt=function(){return p&&p.Iat?p.volume:U},Ut=function(){if(!Z)return"start"===O?0:O||0;if(!p||P.V_t)return P.fdt;if(c){var t=c.oat;return"start"===t?0:t}return p.aat()},Ft=function(t){if(!Z){var n=Ut();return O=t,void(n!==Ut()&&Ht())}if(O=null,"start"===t&&(t=g.live?1/0:0),t=w(t)||0,t=Jt(t),p){if(_.abs(P.fdt-t)<.001&&tR()-P.o1<50)return;Ht(),c?c.oat=t:p.Xat(t),p.seeking||zt(),P={fdt:t,o1:tR()}}},Ht=function(){X=!0,Wt(),rt=h(Vt,100)},zt=function(){X&&(X=!1,rt&&Vt(),g.dispatchEvent("seeked"))},Vt=function(){Wt(),g.dispatchEvent("seeking")},Wt=function(){rt&&(a(rt),rt=null)},Xt=function(){Z||(Z=!m(J)&&Zt().length>0&&(j||!g.live))&&g.dispatchEvent("xdt")},qt=function t(){g.removeEventListener("xdt",t),null!==O&&(Z?Ft(O):g.addEventListener("xdt",t))},Gt=function(){return p&&p.Iat?p.muted:F},Qt=function(){return W},Yt=function(t){if(t&&t.code===FP.hY)return n=!W,Pt(K.uR),void(n&&Rt());var n;Qt()||It(),q=t,g.dispatchEvent({type:"error",error:q})},jt=function(){q=null},Zt=function(){return rB(c?c.Og:J>0?new uB([{SR:0,RR:J}]):oB)},Jt=function(t){var n=Zt();return n.length?ft(t,n.start(0),n.end(n.length-1)):0},$t=function(){var t=p?p.Dl:Uw.n_;return Q&&(t=_.max(Uw.i_,t)),t},Kt=function(){var t=$t();t!==Y&&(Y=t,g.dispatchEvent(nm.zd))},tn=function(t){var n=Ot(t);xt(n,!1)},nn=function(){if(k){var t=k.unload();k=null,S=!1,T=t||ot(E).bE,ht()}};g.initialized=!1,g.warning=null,g.play=Rt,g.pause=It,g.load=function(){if(!g.initialized||!p){var t=new HP(FP.oY,{code:"MGB7330"});throw Yt(t),t}Et(),Ft("start")},g.Z_t=Ot,g.J_t=xt,g.Sr=function(){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(g.pr=!0,g.Wr(),x&&Pt(null),d&&(d.hv(),d=null),f&&(f.nl(),f=null),nn(),p&&(p.unload(),p=null),!R.bE){i.next=11;break}return i.next=10,nr.awrap(n.FE(R));case 10:R=null;case 11:if(!I.bE){i.next=15;break}return i.next=14,nr.awrap(n.FE(I));case 14:I=null;case 15:s.hv(),t=null;case 17:case"end":return i.stop()}},null,null,null,we)},g.ig=tn,g.ag=function(){b=!0,ht()},g.cg=function(){b=!1,ht()},g.fg=function(){return p&&p.fg()},g.B_=function(){return ir({},{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},p?TI(p.Fat):{Ag:0,Tg:0,Sg:0},{Eg:8*Ow.ql()})},l.defineProperty(g,"buffered",{get:function(){return rB(p?p.yg:oB)}}),l.defineProperty(g,"played",{get:function(){return p?rB(p.played):oB}}),l.defineProperty(g,"seekable",{get:Zt}),l.defineProperty(g,"live",{get:function(){return!(!o||!nx.D_(o.p$._Z))}}),l.defineProperty(g,"volume",{get:Mt,set:function(t){(t=w(t))!==Mt()&&(p&&(p.volume=t),U=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"currentTime",{get:Ut,set:Ft}),l.defineProperty(g,"dimensions",{get:function(){return s}}),l.defineProperty(g,"currentProgramDateTime",{get:function(){return c?c.pg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&c&&(n=c.ftt(t),m(n)||null===n||Ft(n))}}),l.defineProperty(g,"duration",{get:function(){return J}}),l.defineProperty(g,"muted",{get:Gt,set:function(t){t!==Gt()&&(F=t,p&&(p.muted=t),F=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"paused",{get:Qt,set:function(t){t?It():Rt()}}),l.defineProperty(g,"preload",{get:function(){return H},set:function(t){H=oS((t||"none").toLowerCase())}}),l.defineProperty(g,"ended",{get:function(){return p&&p.ended||!1}}),l.defineProperty(g,"seeking",{get:function(){return X}}),l.defineProperty(g,"error",{get:function(){return q||p&&p.error}}),l.defineProperty(g,"element",{get:function(){return t}}),l.defineProperty(g,"X_t",{get:function(){return M&&M.vr&&M.vr[360]?gS:E===R?N:D}}),l.defineProperty(g,"videoWidth",{get:function(){return p?p.k_:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(g,"videoHeight",{get:function(){return p?p.p_:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(g,"frameRate",{get:function(){return c&&c.VZ}}),l.defineProperty(g,"frameAccurateSeekEnabled",{get:function(){return!g.live&&p&&p.paused&&g.frameRate}}),l.defineProperty(g,"currentFrame",{get:function(){return c?c.Vat(Ut()):NaN},set:function(t){g.frameAccurateSeekEnabled&&(t=w(t),Ft(c.Wat(t)))}}),l.defineProperty(g,"playbackRate",{get:function(){return c&&c.m_||p&&p.m_||1},set:function(t){(t=w(t))>0&&(c?c.m_=t:p&&(p.m_=t))}}),l.defineProperty(g,"videoTracks",{get:function(){return K&&K.Y_.Ed||null}}),l.defineProperty(g,"audioTracks",{get:function(){return K&&K.Q_.Ed||null}}),l.defineProperty(g,"j_",{get:function(){return f}}),l.defineProperty(g,"online",{get:function(){return G}}),l.defineProperty(g,"cft",{get:function(){return p&&p.cft}}),l.defineProperty(g,"fft",{get:function(){return p&&p.fft}}),l.defineProperty(g,"vft",{get:function(){return p&&p.vft||"inline"},set:function(t){p&&(p.vft=t)}}),l.defineProperty(g,"$_t",{get:function(){return nt},set:function(t){nt=!!t,Lt()}}),l.defineProperty(g,"Dl",{get:$t}),function(){if(!t)throw new v("Invalid element.");var n;g.addEventListener(yc.ka,function(){g.live&&Ft("start")}),g.addEventListener("playing",nn),f=new Tk,d=new eH(g,f),g.addEventListener("fullscreenchange",Lt),Lt(),i.allowManualQualitySwitch&&(u=new Lx),n=function(t){if("string"==typeof t)try{return UP.Rn.ZG(t,g)}catch(n){throw new v("Unknown rule: "+t)}return t},i.cot=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),g.addEventListener("durationchange",Xt),R=ut(),I=ut(),E=R,A=R.bE,T=I.bE,s=new vz(E.yB),N=R.BE,D=I.BE,ht(),Pt(null)}()};gz.prototype=new MP,gz.prototype.constructor=gz;var wz,mz=((wz={useSwitchOverMSE:!1,ManifestParser:"K_t",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),wz.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),vb&&wz.abrRules.push("AvoidHighBitrateStreamsRule"),L.Zt&&wz.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),wz);var yz=function(t){function n(n,i,e){var r;return(r=t.call(this,Vg.Gd)||this).tgt=n,r.ngt=i,r.igt=e,r}return S(n,t),n.prototype.Rd=function(){return new pz(this.tgt&&this.tgt.Ed)},n}(Hg),pz=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(Ps),kz=function(t){function n(n,i){var e;return(e=t.call(this,Vg.Yd)||this).pl=void 0,e.Id=void 0,e.pl=n||[],e.Id=i,e}return S(n,t),n.prototype.Rd=function(){return new bz(this.pl.map(function(t){return t.Ed}))},n}(Hg),bz=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(Ps),Az=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(Ps);function Tz(t){return{get bandwidth(){return t.DS},get codecs(){return t.FZ},get id(){return t._l},get uid(){return t.gl},get name(){return t.ml},get averageBandwidth(){return t.zZ},get label(){return t.ml},set label(n){t.ml=aw(n)},get height(){return t.hk},get width(){return t.Rw},get frameRate(){return t.c$},get firstFrame(){return t.egt},get available(){return t.DQ},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function Sz(t){return{get bandwidth(){return t.DS},get codecs(){return t.FZ},get id(){return t._l},get uid(){return t.gl},get name(){return t.ml},get averageBandwidth(){return t.zZ},get label(){return t.ml},set label(n){if(!X(n))throw new v("Unexpected - The provided label is not a string");t.ml=n},get audioSamplingRate(){return t.rgt},get available(){return t.DQ},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function Ez(t){return{DS:t.DS,ae:t.FZ,hk:Rz(t)?t.hk:0,nr:Rz(t)?Qm.$f:Qm.Jf,Rw:Rz(t)?t.Rw:0}}function Rz(t){var n=t;return void 0!==n.hk&&void 0!==n.Rw}var Iz=function(t){function n(n,i){var e;(e=t.call(this)||this).sgt=void 0,e.ugt=void 0,e.Hg=void 0,e.Bg=void 0,e.Sd=void 0,e.ogt=void 0,e.v$=void 0,e.hgt=function(){return e.agt()},e.cgt=function(){return e.fgt()},e.vgt=function(){return e.Fr(new Zm(Tt(e)))},e.Hg=Km(),e.sgt=n,e.ugt=i,e.Bg=new jm;for(var r=e.sgt.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e.dgt(u);o.Hr("update",e.vgt),e.Bg.Lg(o)}return e.sgt.qualities.addEventListener("activequalitychanged",e.hgt),e.sgt.qualities.addEventListener("targetqualitychanged",e.cgt),e.agt(),e.fgt(),e}S(n,t);var e=n.prototype;return e.lgt=function(t){t!==this.ogt&&(this.ogt=t,t&&this.Fr(new yz(t)))},e._gt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!hs(n,t[i]))return!1;return!0}(t,n)},e.ggt=function(t){for(var n=0,i=this.Bg.il;n<i.length;n++){var e=i[n];if(e.wgt===t)return e}},e.mgt=function(t){for(var n=[],i=0,e=this.Bg.il;i<e.length;i++){var r=e[i];hs(t,r.wgt)&&n.push(r)}return n},e.agt=function(){var t=this.ll?this.sgt.qualities.activeQuality:void 0,n=t&&this.ggt(t)||void 0;this.lgt(n)},e.fgt=function(){var t=this.sgt.qualities.targetQuality;t?H(t)?this.kl=this.mgt(t)||void 0:this.kl=this.mgt([t])||void 0:this.kl=void 0},e.Wg=function(t){this.ll=t},e.hv=function(){this.sgt.qualities.removeEventListener("activequalitychanged",this.hgt),this.sgt.qualities.removeEventListener("targetqualitychanged",this.cgt);for(var t=0,n=this.Bg.il;t<n.length;t++){var i=n[t];i.Xr("update",this.vgt),i.hv()}},A(n,[{key:"dl",get:function(){return this.ogt}},{key:"ll",get:function(){return this.sgt.enabled},set:function(t){t?this.ugt.enable(this.sgt):this.ugt.disable(this.sgt)}},{key:"Ed",get:function(){return this.Sd||(this.Sd=_w(this)),this.Sd}},{key:"_l",get:function(){return this.sgt.id+""}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return this.sgt.kind}},{key:"ml",get:function(){var t;return null!=(t=this.sgt.name)?t:""},set:function(t){t!==this.ml&&(this.sgt.name=t,this.Fr(new Zm(this)))}},{key:"yl",get:function(){return this.sgt.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"pl",get:function(){return this.Bg}},{key:"kl",get:function(){return this.v$},set:function(t){var n=this.v$,e=void 0!==this.dl?Ez(this.dl):void 0,r=t?t.filter(function(t){return i.xe.Qi(e,Ez(t))}):void 0;r&&0===r.length||this._gt(r,n)||(this.v$=r,this.sgt.qualities.targetQuality=r?r.map(function(t){return t.wgt}):null,this.Fr(new kz(r,this)))}}]),n}(Cs),Nz=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).wgt=void 0,r.Sd=void 0,r.ZI=function(){return r.Zo()},r._l=void 0,r.gl=void 0,r.DS=void 0,r.zZ=void 0,r.FZ=void 0,r.rj=void 0,r.wgt=n,r.wgt.addEventListener("qualityupdated",r.ZI),r._l=String(n.id),r.gl=null!=(i=n.uid)?i:ny++,r.DS=null!=(e=n.bandwidth)?e:NaN,r.zZ=n.averageBandwidth,r.FZ=n.codecs,r.rj=n.uri,r}S(n,t);var i=n.prototype;return i.Zo=function(){this.ygt()&&this.Fr(new Az(this.Ed))},i.ygt=function(){var t,n,i=this.wgt,e=null!=(t=i.uid)?t:this.gl,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.gl!==e||!_t(this.DS,r)||this.FZ!==s||this.rj!==u;return this.gl=e,this.DS=r,this.FZ=s,this.rj=u,o},i.hv=function(){this.wgt.removeEventListener("qualityupdated",this.ZI)},i.lA=function(){},A(n,[{key:"ml",get:function(){return this.wgt.name||""},set:function(t){this.ml!==t&&(this.wgt.name=t,this.Fr(new Az(this.Ed)))}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"DQ",get:function(){return!0}}]),n}(Cs),Dz=function(t){function n(n){var i;return(i=t.call(this,n)||this).rgt=void 0,i.Sd=void 0,i.rgt=NaN,i}return S(n,t),n.prototype.Rd=function(){return Sz(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),n}(Nz),Cz=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this).c$=void 0,e.Rw=void 0,e.hk=void 0,e.pgt=void 0,e.Sd=void 0,e.c$=n.frameRate,e.Rw=n.resolution?n.resolution.width:NaN,e.hk=n.resolution?n.resolution.height:NaN,e.pgt=i,e}S(n,t);var i=n.prototype;return i.ygt=function(){var n=t.prototype.ygt.call(this),i=this.wgt,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!_t(this.c$,e)||!_t(this.Rw,r)||!_t(this.hk,s),this.c$=e,this.Rw=r,this.hk=s,n},i.Rd=function(){return Tz(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"egt",get:function(){return this.pgt},set:function(t){this.pgt!==t&&(this.pgt=t,this.Fr(new Az(this.Ed)))}}]),n}(Nz),Oz=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dgt=function(t){return new Dz(t)},n}(Iz),Pz=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).kgt=void 0,n}S(n,t);var i=n.prototype;return i.dgt=function(t){return new Cz(t,this.kgt)},i.bgt=function(t){this.kgt=t;for(var n=0,i=this.pl.il;n<i.length;n++){var e=i[n];void 0!==e.egt&&(e.egt=t)}},n}(Iz),xz=function(t){function n(){return t.call(this,yc.ka)||this}return S(n,t),n}(Ps),Bz=function(t){function n(){return t.call(this,yc.pa)||this}return S(n,t),n}(Ps),Lz=function(){function t(t,n){this.W_=void 0,this.IV=void 0,this.W_=new Tk,this.IV=new CC(t,n)}var n=t.prototype;return n.kA=function(t,n,i,e,r,s,u){var o=new CD(t,n,i,e,r,s,u);return this.W_.$d(o),this.IV.$d(o),o},n.TA=function(t){this.W_.Kd(t),this.IV.Kd(t),t.hv()},n.nl=function(){for(var t=0,n=this.W_.il.slice();t<n.length;t++){n[t].hv()}this.W_.nl(),this.IV.nl()},n.hv=function(){this.nl(),this.W_.hv(),this.IV.hv()},A(t,[{key:"j_",get:function(){return this.W_}}]),t}();function Mz(t,n){for(var i=0;i<t.sl;i++){var e=t.Jd(i);if(e.sgt===n)return e}}var Uz=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).kI=void 0,o.uG=void 0,o.Agt=void 0,o.Tgt=void 0,o.Sgt=void 0,o.z_=void 0,o.V_=void 0,o.SV=void 0,o.EV=void 0,o.W_=void 0,o.wA=void 0,o.bG=void 0,o.AG=void 0,o.Egt=void 0,o.JS=void 0,o.$S=void 0,o.Rgt=NaN,o.Igt=0,o.rE=new XT,o.sE=new ZT,o.Ngt=function(){o.Fr(new rm(o.v_))},o.Dgt=function(){o.Fr(new em(o.v_))},o.Cgt=function(){o.Fr(new lm(o.v_))},o.Ogt=function(){o.Fr(new _m(o.v_))},o.Pgt=function(){o.Fr(new cm(o.v_,o.m_))},o.xgt=function(){o.Fr(new gm(o.v_,o.b_))},o.Bgt=function(){o.Fr(new bN(o.v_))},o.Lgt=function(){o.Fr(new vm(o.v_))},o.Mgt=function(){o.Fr(new AN)},o.Ugt=function(){o.Fr(new xz)},o.Fgt=function(){o.Fr(new Bz)},o.Hgt=function(){o.zgt(),o.Sgt.nl(),o.Vgt(),o.UE()},o.DB=function(){o.Vgt(),o.UE(),o.SE()},o.zgt=function(){var t=o.Rgt,n=o.d_;o.Rgt=n,t===n||m(t)&&m(n)||o.Fr(new am(n))},o.Wgt=function(t){var n=t.error||o.Agt.error;if(n){var i,e=Fm.DECODE;n.code===FP.nY&&Lr(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.JS=new Wm(e,n.message,i),o.Fr(new pm(function(t){return new Ka(Gm(t.code),t.message,t)}(o.JS)))}},o.hE=function(){o.Fr(new fm(o.v_,o.pg))},o.Xgt=function(){o.k_>0&&o.p_>0&&o.Fr(new Jk)},o.qgt=function(){o.Fr(new Dw)},o.Ggt=function(t){o.V_.il.forEach(function(n){return n.bgt(t.ptsOffset)})},o.Qgt=function(t){o.Igt+=t.Rg,o.Fr(t)},o.Ygt=function(t){return o.jgt(t.track)},o.Zgt=function(t){return o.Jgt(t.track)},o.$gt=function(t){var n=Mz(o.z_,t.track);n&&n.Fr(new Zg(n))},o.Kgt=function(t){var n=Mz(o.V_,t.track);n&&n.Fr(new Zg(n))},o.uG=n,o.kI=i,r=function(t){var n,i={};return i=lH(t,i),(i=lH(mz,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!L.Vt&&i.allowManualQualitySwitch,i.libraryLocation=t_(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return M.call(n,t)?n[t]:t}),i}(r),o.Agt=new gz(o.uG,o.kI,r,e,s),o.twt(),o.Tgt=new Fz(o.Agt),o.Sgt=new bb(o.Tgt,!0),o.Sgt.Hr(om,o.Ur),o.z_=new Ym,o.V_=new Ym,o.wA=new Lz(Tt(o),new OC),o.SV=new WC(Tt(o)),o.SV.fl=o.Agt.j_,o.EV=new XC(o.wA,o.SV),o.W_=new QT([o.Agt.j_,o.EV.qp]),o.bG=new mO,o.bG.eX(n),o.AG=new lP(o.bG.kg,o.Agt.dimensions,o.j_,u,o.Agt.X_t),o.SE(),o}S(n,t);var i=n.prototype;return i.cg=function(){this.Agt.cg(),this.bG.cg()},i.ag=function(){this.Agt.ag(),this.bG.ag()},i.ig=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:this.Egt=t,this.Agt.ig({sources:{src:t.src,type:Bw.Yl,contentProtection:t.contentProtection},textTracks:n.textTracks,configuration:ir({},n,{crossOrigin:t.crossOrigin,withCredentials:t.useCredentials,liveOffset:t.liveOffset,hlsDateRange:t.hlsDateRange,hls:t.hls})});case 2:case"end":return i.stop()}},null,this,null,we)},i.J_=function(){this.Agt.play()},i.K_=function(){this.Agt.pause()},i.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Egt=void 0,this.JS=void 0,this.$S=void 0,this.Igt=0,this.Agt.ig({sources:null}),this.Sgt.nl(),this.wA.nl(),this.Vgt();case 8:case"end":return t.stop()}},null,this,null,we)},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.fg=function(){return this.Agt.fg()||void 0},i.vg=function(){return this.Agt.X_t},i.mg=function(){},i.hv=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.nl());case 2:return this.Wr(),this.Sgt.hv(),this.Tgt.hv(),this.nwt(),t.next=8,nr.awrap(this.Agt.Sr());case 8:return this.z_.hv(),this.V_.hv(),this.SV.hv(),t.next=13,nr.awrap(this.EV.hv());case 13:this.wA.hv(),this.W_.hv(),this.AG.hv(),this.bG.hv();case 17:case"end":return t.stop()}},null,this,null,we)},i.twt=function(){this.Agt.addEventListener("q_t",this.Hgt),this.Agt.addEventListener("Y_t",this.DB),this.Agt.addEventListener("durationchange",this.zgt),this.Agt.addEventListener("error",this.Wgt),this.Agt.addEventListener("timeupdate",this.hE),this.Agt.addEventListener("resize",this.Xgt),this.Agt.addEventListener(yc._a,this.qgt),this.Agt.addEventListener("Fht",this.Ggt),this.Agt.addEventListener(yc.Pa,this.Qgt),this.Agt.addEventListener("play",this.Ngt),this.Agt.addEventListener("pause",this.Dgt),this.Agt.addEventListener("seeking",this.Cgt),this.Agt.addEventListener("seeked",this.Ogt),this.Agt.addEventListener("ratechange",this.Pgt),this.Agt.addEventListener("volumechange",this.xgt),this.Agt.addEventListener("progress",this.Bgt),this.Agt.addEventListener("ended",this.Lgt),this.Agt.addEventListener("loadstart",this.Mgt),this.Agt.addEventListener(yc.ka,this.Ugt),this.Agt.addEventListener(yc.pa,this.Fgt),this.Agt.addEventListener(yc.Ca,this.Ur)},i.nwt=function(){this.Agt.removeEventListener("q_t",this.Hgt),this.Agt.removeEventListener("Y_t",this.DB),this.Agt.removeEventListener("durationchange",this.zgt),this.Agt.removeEventListener("error",this.Wgt),this.Agt.removeEventListener("timeupdate",this.hE),this.Agt.removeEventListener("resize",this.Xgt),this.Agt.removeEventListener(yc._a,this.qgt),this.Agt.removeEventListener("play",this.Ngt),this.Agt.removeEventListener("pause",this.Dgt),this.Agt.removeEventListener("seeking",this.Cgt),this.Agt.removeEventListener("seeked",this.Ogt),this.Agt.removeEventListener("ratechange",this.Pgt),this.Agt.removeEventListener("volumechange",this.xgt),this.Agt.removeEventListener("progress",this.Bgt),this.Agt.removeEventListener("ended",this.Lgt),this.Agt.removeEventListener("loadstart",this.Mgt),this.Agt.removeEventListener(yc.ka,this.Ugt),this.Agt.removeEventListener(yc.pa,this.Fgt),this.Agt.removeEventListener(yc.Ca,this.Ur),this.Agt.removeEventListener(yc.Pa,this.Qgt)},i.SE=function(){var t=this.Agt.audioTracks,n=this.Agt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.jgt(t.item(i));t.addEventListener("addtrack",this.Ygt),t.addEventListener("enabledtrack",this.$gt),t.addEventListener("disabledtrack",this.$gt)}if(n){for(var e=0;e<n.length;e++)this.Jgt(n.item(e));n.addEventListener("addtrack",this.Zgt),n.addEventListener("enabledtrack",this.Kgt),n.addEventListener("disabledtrack",this.Kgt)}},i.UE=function(){var t=this.Agt.audioTracks,n=this.Agt.videoTracks;t&&(t.removeEventListener("addtrack",this.Ygt),t.removeEventListener("enabledtrack",this.$gt),t.removeEventListener("disabledtrack",this.$gt)),n&&(n.removeEventListener("addtrack",this.Zgt),n.removeEventListener("enabledtrack",this.Kgt),n.removeEventListener("disabledtrack",this.Kgt))},i.Vgt=function(){for(var t=0,n=this.z_.il;t<n.length;t++){n[t].hv()}for(var i=0,e=this.V_.il;i<e.length;i++){e[i].hv()}this.z_.nl(),this.V_.nl()},i.jgt=function(t){Mz(this.z_,t)||this.z_.$d(new Oz(t,this.Agt.audioTracks))},i.Jgt=function(t){Mz(this.V_,t)||this.V_.$d(new Pz(t,this.Agt.videoTracks))},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.Agt.buffered}},{key:"pg",get:function(){var t;return null!=(t=this.Agt.currentProgramDateTime)?t:void 0},set:function(t){this.Agt.currentProgramDateTime=null!=t?t:null}},{key:"v_",get:function(){var t=this.Agt.currentTime;return t===1/0&&m(this.Agt.duration)&&(t=0),t},set:function(t){this.Agt.currentTime=t}},{key:"d_",get:function(){var t=this.Agt.duration;return t<0?1/0:t}},{key:"l_",get:function(){return this.Agt.ended}},{key:"ts",get:function(){return this.JS}},{key:"__",get:function(){return this.$S}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return!1}},{key:"B_",get:function(){return ir({},this.Agt.B_(),{Rg:this.Igt})}},{key:"g_",get:function(){return this.Agt.muted},set:function(t){this.Agt.muted=t}},{key:"Ng",get:function(){return this.Agt.online}},{key:"w_",get:function(){return this.Agt.paused}},{key:"m_",get:function(){return this.Agt.playbackRate},set:function(t){this.Agt.playbackRate=t}},{key:"Dg",get:function(){return this.Agt.played}},{key:"Cg",get:function(){return this.Agt.preload||sS.fR},set:function(t){this.Agt.preload=t}},{key:"Dl",get:function(){return this.Agt.Dl}},{key:"Og",get:function(){return this.Agt.seekable}},{key:"y_",get:function(){return this.Agt.seeking}},{key:"qE",get:function(){}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"p_",get:function(){return this.Agt.videoHeight}},{key:"k_",get:function(){return this.Agt.videoWidth}},{key:"b_",get:function(){return this.Agt.volume},set:function(t){this.Agt.volume=t}},{key:"Pg",get:function(){return this.sE}},{key:"xg",get:function(){return!1},set:function(t){}},{key:"GE",get:function(){return this.rE}}]),n}(Iw),Fz=function(t){function n(n){var i;return(i=t.call(this)||this).Agt=void 0,i.iwt=function(){i.Fr(new ym(i.v_,i.Agt.Dl))},i.ewt=function(){i.Fr(new kb(i.v_))},i.Ngt=function(){i.Fr(new rm(i.v_))},i.Dgt=function(){i.Fr(new em(i.v_))},i.Agt=n,i.Agt.addEventListener(nm.zd,i.iwt),i.Agt.addEventListener(nm.f_,i.ewt),i.Agt.addEventListener(yc.Aa,i.Ngt),i.Agt.addEventListener(yc.ba,i.Dgt),i}return S(n,t),n.prototype.hv=function(){this.Wr(),this.Agt.removeEventListener(nm.zd,this.iwt),this.Agt.removeEventListener(nm.f_,this.ewt),this.Agt.removeEventListener(yc.Aa,this.Ngt),this.Agt.removeEventListener(yc.ba,this.Dgt)},A(n,[{key:"v_",get:function(){var t=this.Agt.currentTime;return t===1/0&&m(this.Agt.duration)&&(t=0),t}},{key:"l_",get:function(){return this.Agt.ended}},{key:"ts",get:function(){return this.Agt.error||void 0}},{key:"w_",get:function(){return this.Agt.paused}}]),n}(Cs);function Hz(t,n,i,e,r){var s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,nr.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),ms(o.t0),!(s<i)){o.next=20;break}return u=_.min(e*_.pow(2,s),r),s++,o.next=19,nr.awrap(Rs(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],we)}eS(new(function(){function t(){this.QE=FT.Yl}var n=t.prototype;return n.TT=function(t,n,i,e,r,s){return new Uz(t,n,i,e,r,s)},n.YE=function(n,i){if((L.Qt||L.An)&&!i.manifestMetadataTrack)return!1;if(!Ww(n.type))return!1;if(n.useNativePlayback)return!1;var e=n.contentProtection;return!(e&&!sA(e)&&!t.rwt(e))&&!!function(t){return _z(t,{})!==hz.cY}(n)},t.rwt=function(t){return!!t.aes128},n.jE=function(){return!0},t}()));var zz,Vz=function(t){function n(){return t.call(this,"swt")||this}return S(n,t),n}(Ps),Wz=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).uwt=void 0,r.owt=void 0,r.hwt=void 0,r.Egt=void 0,r.awt=void 0,r.mA=void 0,r.zz=void 0,r.cwt=void 0,r.fwt=function(){r.Fr(new Vz)},r.Egt=n,r.awt=ir({},i,{crossOrigin:r.Egt.crossOrigin,withCredentials:r.Egt.useCredentials,liveOffset:r.Egt.liveOffset,hlsDateRange:r.Egt.hlsDateRange}),r.mA=e,r.owt=[],r.zz=!1,r}S(n,t);var i=n.prototype;return i.vwt=function(){if(this.hwt)return this.hwt.x_},i.SR=function(t){var n=this;Ss(Hz(function(){return n.Q$()},t))},i.Q$=function(){var t,n,i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,nr.awrap(this.dwt());case 2:if((t=u.sent).isMasterPlaylist)for(this.uwt=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new nU(this.mA,this.awt),this.owt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new nU(this.mA,this.awt),this.owt.push({stream:{uri:t.uri},updater:s});this.cwt&&(this.lwt(this.cwt.width,this.cwt.height),this.cwt=void 0),this.zz=!0;case 6:case"end":return u.stop()}},null,this,null,we)},i._wt=function(t,n){this.zz?this.lwt(t,n):this.cwt={width:t,height:n}},i.lwt=function(t,n){this.gwt();var i=this.wwt(t,n);i&&(this.hwt=i.updater,this.hwt.addEventListener("y9",this.fwt),i.updater.SR(i.stream.uri))},i.gwt=function(){this.hwt&&(this.hwt.tg(),this.hwt.removeEventListener("y9",this.fwt),this.hwt=void 0)},i.wwt=function(t,n){return 1===this.owt.length?this.owt[0]:rs(this.owt,function(i){return i.stream.width===t&&i.stream.height===n})},i.dwt=function(){var t,n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new tU(this.awt,jx.Rn.lK,this.mA),i.next=3,nr.awrap(t.Yo(this.Egt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.x_);case 5:case"end":return i.stop()}},null,this,null,we)},i.hv=function(){this.gwt();for(var t=0,n=this.owt;t<n.length;t++){n[t].updater.hv()}as(this.owt)},n}(Cs),Xz=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).mwt=void 0,r.ywt=void 0,r.Nx=void 0,r.pwt=!1,r.oJ=void 0,r.IV=void 0,r.handleManifestUpdate=function(){var t=r.mwt.vwt();if(t){var n=r.qE;if(n){var i=n.getTime(),e=r.oJ;e||(e=new ix,r.oJ=e),e.Zo(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.pwt&&e.Cl.sl>0&&(r.j_.$d(e),r.IV.$d(e),r.pwt=!0)}}},r.Xgt=function(){r.mwt&&r.mwt._wt(r.k_,r.p_)},r.ywt=i,r.Nx=e,r.IV=new xC(Tt(r)),r.Hr(yc.Ra,r.Xgt),r}S(n,t);var i=n.prototype;return i.ig=function(n,i,e){return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(t.prototype.ig.call(this,n,i,e));case 2:n.hlsDateRange&&this.kwt(n,i,e);case 3:case"end":return r.stop()}},null,this,null,we)},i.kwt=function(t,n,i){this.mwt&&(this.mwt.Xr("swt",this.handleManifestUpdate),this.mwt.hv()),this.mwt=new Wz(t,n,this.ywt),this.mwt.Hr("swt",this.handleManifestUpdate),this.mwt.SR(i)},i.nl=function(){return this.oJ&&(this.j_.Kd(this.oJ),this.IV.Kd(this.oJ),this.oJ.hv(),this.oJ=void 0,this.pwt=!1),this.IV.nl(),t.prototype.nl.call(this)},i.hv=function(){return this.Xr(yc.Ra,this.Xgt),this.mwt&&(this.mwt.Xr("swt",this.handleManifestUpdate),this.mwt.hv()),this.IV.hv(),t.prototype.hv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).bwt=void 0,i.bwt=n;for(var e=0;e<hS.length;e++){var r=hS[e];i.bwt.Hr(r,i.Ur)}return i}S(n,t);var i=n.prototype;return i.eg=function(){return this.bwt.eg()},i.vg=function(){return this.bwt.vg()},i.fg=function(){return this.bwt.fg()},i.cg=function(){return this.bwt.cg()},i.mg=function(){return this.bwt.mg()},i.K_=function(){return this.bwt.K_()},i.J_=function(){return this.bwt.J_()},i.nl=function(){return this.bwt.nl()},i.ig=function(t,n,i){return this.bwt.ig(t,n,i)},i.ag=function(){return this.bwt.ag()},i.rg=function(){return this.bwt.rg()},i.sg=function(){return this.bwt.sg()},i.hv=function(){this.Wr();for(var t=0;t<hS.length;t++){var n=hS[t];this.bwt.Xr(n,this.Ur)}return this.bwt.hv()},A(n,[{key:"Q_",get:function(){return this.bwt.Q_}},{key:"yg",get:function(){return this.bwt.yg}},{key:"pg",get:function(){return this.bwt.pg},set:function(t){this.bwt.pg=t}},{key:"v_",get:function(){return this.bwt.v_},set:function(t){this.bwt.v_=t}},{key:"d_",get:function(){return this.bwt.d_}},{key:"l_",get:function(){return this.bwt.l_}},{key:"__",get:function(){return this.bwt.__}},{key:"Z_",get:function(){return this.bwt.Z_}},{key:"ts",get:function(){return this.bwt.ts}},{key:"bg",get:function(){return this.bwt.bg}},{key:"B_",get:function(){return this.bwt.B_}},{key:"g_",get:function(){return this.bwt.g_},set:function(t){this.bwt.g_=t}},{key:"Ng",get:function(){return this.bwt.Ng}},{key:"w_",get:function(){return this.bwt.w_}},{key:"m_",get:function(){return this.bwt.m_},set:function(t){this.bwt.m_=t}},{key:"Dg",get:function(){return this.bwt.Dg}},{key:"Cg",get:function(){return this.bwt.Cg},set:function(t){this.bwt.Cg=t}},{key:"Dl",get:function(){return this.bwt.Dl}},{key:"Og",get:function(){return this.bwt.Og}},{key:"y_",get:function(){return this.bwt.y_}},{key:"qE",get:function(){return this.bwt.qE}},{key:"j_",get:function(){return this.bwt.j_}},{key:"p_",get:function(){return this.bwt.p_}},{key:"Y_",get:function(){return this.bwt.Y_}},{key:"k_",get:function(){return this.bwt.k_}},{key:"b_",get:function(){return this.bwt.b_},set:function(t){this.bwt.b_=t}},{key:"Pg",get:function(){return this.bwt.Pg}},{key:"xg",get:function(){return this.bwt.xg},set:function(t){this.bwt.xg=t}},{key:"GE",get:function(){return this.bwt.GE}}]),n}(Iw));zz=function(t,n,i){return new Xz(t,n,i)},nS.$E().KE(zz);var qz=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},Gz=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),Qz=ht(function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i});function Yz(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function jz(t){return JSON.stringify(t,Qz.getSerialize(Yz))}var Zz=ht(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=s&&t<=55295||t===e||t===r||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),Jz=ht(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,e=10,r=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,e,r,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===e||t===r||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),$z=ht(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),Kz=ht(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=Zz.isS,e=Zz.isChar,r=Zz.isNameStartChar,s=Zz.isNameChar,u=Zz.S_LIST,o=Zz.NAME_RE,h=Jz.isChar,a=$z.isNCNameStartChar,c=$z.isNCNameChar,f=$z.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:d,xmlns:_},m={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y=-1,p=-2,k=0,b=1,A=2,T=3,S=4,E=5,R=6,I=7,N=8,D=9,C=10,O=11,P=12,x=13,B=14,L=15,M=16,U=17,F=18,H=19,z=20,V=21,W=22,X=23,q=24,G=25,Q=26,Y=27,j=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,et=36,rt=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,mt=45,yt=47,pt=59,kt=60,bt=61,At=62,Tt=63,St=91,Et=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,St,At],Ot=[...Dt,kt,Et],Pt=[bt,Tt,...u],xt=[...u,At,wt,kt];function Bt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==_&&t.fail(`xmlns prefix must be bound to ${_}.`)}switch(i){case _:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const zt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Bt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=r,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Hs}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?x:k,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Hs=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(m),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[zt[t]]=n}off(t){this[zt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===lt||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return y;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return y;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,p;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===p?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===p,s=r?dt:e;if(s===y||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case p:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=dt;break;case y:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===y)return this.name+=t.slice(n),y;if(!s(i))return this.name+=t.slice(n,this.prevI),i===p?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===y||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=e,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=b}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case kt:if(this.state=L,0!==this.text.length)throw new v("no-empty text at start");break;case y:break;default:this.unget(),this.state=x,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case At:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x,this.doctype=!0;break;case y:break;default:this.text+=String.fromCodePoint(n),n===St?this.state=S:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=A)}sDTD(){const t=this.captureTo(Ot);t!==y&&(this.text+=String.fromCodePoint(t),t===Et?this.state=A:t===kt?this.state=R:Nt(t)&&(this.state=E,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=S,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=S}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:S,this.openWakaBang="")}sDTDComment(){this.captureToChar(mt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===mt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===At?this.state=S:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=P)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===At&&(this.state=S)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case p:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case pt:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===x&&void 0===this.textHandler||(this.text+=r);break t}case y:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(r(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case yt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=X;break;default:this.fail("disallowed character in tag name"),this.state=x,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=z,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=A,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(mt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===mt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==At?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=x}sCData(){this.captureToChar(Et)&&(this.state=V)}sCDataEnding(){const t=this.getCodeNorm();t===Et?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=z)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case At:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=x;break;case Et:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=z}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=q):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?Q:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=q)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const e=this.getCodeNorm();if(e===y)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(e)){this.piTarget+=t.slice(n,this.prevI);const r=e===Tt;r||i(e)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=r?tt:Y):this.state=r?Q:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=Q:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=Q)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===At){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=x}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==y&&(this.state=j,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(Pt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===bt){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===bt?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==bt&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===y)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Y):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===At?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=x):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===y)return;const e=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=e.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,e),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case At:this.openTag();break;case yt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=et}}sOpenTagSlash(){this.getCode()===At?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=et)}sAttrib(){const t=this.skipSpaces();t!==y&&(r(t)?(this.unget(),this.state=rt):t===At?this.openTag():t===yt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===bt?this.state=ut:i(t)?this.state=st:t===At?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==y&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case y:return;case bt:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===At?this.openTag():r(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=et)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case p:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case kt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case y:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=et:t===At?this.openTag():t===yt?this.state=it:r(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(xt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case kt:this.fail("disallowed character.");break;case y:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===At?this.openTag():this.state=et}}sCloseTag(){const t=this.captureNameChars();t===At?this.closeTag():i(t)?this.state=ft:t!==y&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case At:this.closeTag();break;case y:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case kt:if(this.state=L,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=x,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case Et:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new v("impossible state")}break;case At:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case p:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case y:void 0!==e&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:e}=this;let r=!1;t:for(;;){const s=this.getCode();switch(s){case kt:if(this.state=L,void 0!==e){const{text:i}=this,r=n.slice(t,this.prevI);0!==i.length?(e(i+r),this.text=""):0!==r.length&&e(r)}break t;case wt:this.state=B,this.entityReturnState=x,void 0!==e&&(this.text+=n.slice(t,this.prevI)),r=!0;break t;case p:void 0!==e&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case y:void 0!==e&&(this.text+=n.slice(t));break t;default:i(s)||(r=!0)}}r&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,Bt(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==k&&this.state!==x&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Hs=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=x,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=x,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=x,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),tV=function(){function t(){}return t.prototype.Mn=function(t){var n=new Kz.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new oV,e=[i];function r(t){e[e.length-1].$n(t)}return n.on("text",function(t){e.length>1&&r(new sV(t))}),n.on("cdata",function(t){r(new uV(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new eV({zn:n,Wn:""===i?void 0:i,Awt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,g=new nV({zn:v,qn:_,Wn:""===d?void 0:d,Awt:""===f?void 0:f});u.Twt(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Rt(t)}),n.write(t).close(),i},t}(),nV=function(){function t(t){this.Swt=void 0,this.Ewt=void 0,this.Rwt=void 0,this.Di=void 0,this.Swt=t.zn,this.Di=t.qn,this.Ewt=t.Wn,this.Rwt=t.Awt}var n=t.prototype;return n.Fn=function(t){return this===t||!!aV(this,t)&&(this.Swt===t.Swt&&this.Ewt===t.Ewt&&this.Rwt===t.Rwt&&this.Di===t.Di)},n.Hn=function(){return new t({zn:this.zn,qn:this.qn,Wn:this.Wn,Awt:this.Xn})},A(t,[{key:"Cn",get:function(){return yt.xn}},{key:"zn",get:function(){return this.Swt}},{key:"Vn",get:function(){return void 0===this.Rwt?this.Swt:this.Rwt+":"+this.Swt}},{key:"Wn",get:function(){return this.Ewt}},{key:"Xn",get:function(){return this.Rwt}},{key:"qn",get:function(){return this.Di}}]),t}(),iV=function(){function t(){this.Qn=[]}var n=t.prototype;return n.Yn=function(t){return this.Qn.filter(function(n){return hV(n)&&n.Zn===t})},n.Jn=function(t,n){return this.Qn.filter(function(i){return hV(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Qn.push(t)},A(t,[{key:"jn",get:function(){return this.Qn}},{key:"ti",get:function(){return this.Qn.filter(hV)}}]),t}(),eV=function(t){function n(n){var i;return(i=t.call(this)||this).Swt=void 0,i.Ewt=void 0,i.Rwt=void 0,i.Iwt=[],i.Swt=n.zn,i.Ewt=n.Wn,i.Rwt=n.Awt,i}S(n,t);var i=n.prototype;return i.Nwt=function(t){for(var n=0,i=this.jn;n<i.length;n++){var e=i[n];hV(e)?e.Nwt(t):t.push(e.ai)}},i.ii=function(t,n){for(var i=0,e=this.Iwt;i<e.length;i++){var r=e[i];if(r.zn===n&&r.Wn===t)return r.qn}},i.ni=function(t){for(var n=0,i=this.Iwt;n<i.length;n++){var e=i[n];if(e.Vn===t)return e.qn}},i.Twt=function(t){this.Iwt.push(t)},i.ei=function(t){for(var n=0;n<this.Iwt.length;n++)if(this.Iwt[n].Vn===t)return void this.Iwt.splice(n,1)},i.ri=function(t,n){for(var i=0;i<this.Iwt.length;i++)if(this.Iwt[i].zn===n&&this.Iwt[i].Wn===t)return void this.Iwt.splice(i,1)},i.si=function(t,n){this.ei(t),this.Twt(new nV({zn:t,qn:n}))},i.ui=function(t,n,i){this.ei(n);var e=n.split(":");this.Twt(new nV({zn:e[e.length-1],qn:i,Wn:t,Awt:e.length>1?e[0]:void 0}))},i.Hn=function(t){var i=new n({zn:this.zn,Wn:this.Wn,Awt:this.Xn});return this.oi.forEach(function(t){return i.Twt(t.Hn())}),t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!aV(this,t)&&(this.Swt===t.Swt&&this.Rwt===t.Rwt&&this.Ewt===t.Ewt&&(cV(this.oi,t.oi)&&cV(this.jn,t.jn)))},A(n,[{key:"Cn",get:function(){return yt.On}},{key:"oi",get:function(){return this.Iwt}},{key:"zn",get:function(){return this.Swt}},{key:"Wn",get:function(){return this.Ewt}},{key:"Xn",get:function(){return this.Rwt}},{key:"Zn",get:function(){return void 0===this.Rwt?this.Swt:this.Rwt+":"+this.Swt}},{key:"hi",get:function(){var t=[];return this.Nwt(t),t.join("")}}]),n}(iV),rV=function(){function t(t){this.di=void 0,this.di=t}return A(t,[{key:"ai",get:function(){return this.di}}]),t}(),sV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!aV(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return yt.Pn}}]),n}(rV),uV=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!aV(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return yt.Bn}}]),n}(rV),oV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Hn=function(t){var i=new n;return t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!aV(this,t)&&cV(this.jn,t.jn)},A(n,[{key:"Cn",get:function(){return yt.Ln}},{key:"ci",get:function(){return this.ti[0]}}]),n}(iV);function hV(t){return bt(t)}function aV(t,n){return t.Cn===n.Cn}function cV(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Fn(n[i]))return!1;return!0}var fV,vV=["adBreak"],dV=["adBreak"];function lV(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:ir({},t,{adBreak:ir({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return qb(t,vV)})})})}function _V(t){return void 0===t.ads?t:ir({},t,{ads:t.ads.map(function(t){t.adBreak;return qb(t,dV)})})}function gV(t){return"string"==typeof t.date?new Date(t.date):t.date}function wV(t){var n;return t.cue.track?(n=yV(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=yV(t.cue,""),n}function mV(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=l.entries(i);return l.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function yV(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new tV).Mn(e.firstChild.outerHTML).ci.oi.forEach(function(t){r[t.zn]=t.qn}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=pV(o);s[u]={type:fV.Dwt,value:h}}else bV(o)?s[u]={type:fV.Cwt,value:o}:s[u]={type:fV.tq,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=pV(t.scte35Cmd),i.scte35Out=pV(t.scte35Out),i.scte35In=pV(t.scte35In),i.customAttributes=s}var a}(),i}function pV(t){if(void 0!==t)return Zs(t)}function kV(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(yV(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(yV(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function bV(t){return"number"==typeof t}!function(t){t.tq="daterange-ca-type_string",t.Cwt="daterange-ca-type_number",t.Dwt="daterange-ca-type_arraybuffer"}(fV||(fV={}));var AV={cue:function(t){var n={};switch(n.date=gV(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=wV(t)}return n},textTrack:function(t){var n={};switch(n.date=gV(t),n.type=t.type,t.type){case"addcue":var i=t.cue;RV().register(i);var e=EV()[IV()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=wV(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(yV(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:kV(t.track),date:gV(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=RV();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=gV(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case yc.Ma:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=ir({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=kV(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=_V(t.ad);break;case"adloaded":case"adimpression":n.ad=lV(t.ad);break;case"aderror":t.Owt&&(n.Owt=t.Owt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=lV(t.ad)}return mV(n)},minimizeCueHelper:function(t){var n={};return n.date=gV(t),n.type=t.type,n.cue=wV(t),n.track={uid:t.cue.track.uid},n},adReplacer:lV,adBreakReplacer:_V,removeCircularReferences:mV},TV=function(){this.stringify=jz,this.minimize=AV};function SV(){return Hi.self}function EV(){return SV().THEOplayerBridge}function RV(){return SV().THEOCueMirrorMap}function IV(){return SV().THEOplayerGlobalID}function NV(){var t=SV();if(t.THEOplayerBridge){var n=new qz;t.THEOplayerBridge=nw(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new qz;t.THEOplayerUtils||(t.THEOplayerUtils=new TV),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new Gz)}NV();var DV,CV=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(Ps),OV=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new CV(t,n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(Nw),PV=function(t){function n(n,i){var e;return(e=t.call(this)||this).Pwt=void 0,e.xwt=void 0,e.Bwt=function(t){e.Pwt.BG("THEOplayerABRSetTargetBuffer",t.ZO),e.Fr(t)},e.Lwt=function(t){e.Pwt.BG("THEOplayerABRSetStrategy",t.$O),e.Fr(t)},e.Pwt=n,e.xwt=i,e.xwt.Hr("JO",e.Bwt),e.xwt.Hr("KO",e.Lwt),e}return S(n,t),A(n,[{key:"hP",get:function(){var t;switch(this.$O.type){case $R.PERFORMANCE:return 1;case $R.QUALITY:return 0;case $R.BANDWIDTH:return null!=(t=this.$O.metadata)&&t.bitrate&&!m(this.$O.metadata.bitrate)?this.$O.metadata.bitrate:0;default:return 0}}},{key:"Ed",get:function(){return this.xwt.Ed}},{key:"$O",get:function(){return this.xwt.$O},set:function(t){this.xwt.$O=t}},{key:"ZO",get:function(){return this.xwt.ZO},set:function(t){this.xwt.ZO=t}},{key:"tP",get:function(){return this.xwt.tP},set:function(t){this.xwt.tP=t}}]),n}(Cs),xV=function(){function t(t,n,i){this.Ch=void 0,this.hr=void 0,this.Vh=void 0,this.ih=void 0,this.Ch=t,this.hr=i,this.Vh=n}var n=t.prototype;return n.TA=function(t){throw new v("Not implemented yet.")},n.mL=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,nr.awrap(i.vh());case 5:return e=r.sent,r.next=8,nr.awrap(this.yL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,we)},n.pL=function(t){return!1},n.kL=function(t){return we.resolve(void 0)},n.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.yL(void 0));case 2:case"end":return t.stop()}},null,this,null,we)},n.yL=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.AL(t),i.next=3,nr.awrap(n);case 3:case"end":return i.stop()}},null,this,null,we)},n.AL=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ih)){i.next=5;break}return i.next=4,nr.awrap(n.hh(this.Vh));case 4:this.ih=void 0;case 5:if(!t){i.next=9;break}return i.next=8,nr.awrap(t.oh(this.Vh));case 8:this.ih=t;case 9:case"end":return i.stop()}},null,this,null,we)},n.kA=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"rh",get:function(){return this.Ch}},{key:"Cg",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Og",get:function(){return new dS([0,1/0])}},{key:"j_",get:function(){throw new v("Not implemented yet.")}},{key:"Mwt",get:function(){throw new v("Not implemented yet")}},{key:"Y_",get:function(){throw new v("Not implemented yet.")}},{key:"Uwt",get:function(){throw new v("Not implemented yet")}},{key:"Fwt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Hwt="webkitneedkey",t.zwt="webkitkeymessage",t.Vwt="webkitkeyerror"}(DV||(DV={}));var BV=function(t){function n(n,i){var e;return(e=t.call(this,DV.Hwt)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(Ps),LV=function(t){function n(n,i){var e;return(e=t.call(this,DV.zwt)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(Ps),MV=function(t){function n(){return t.call(this,DV.Vwt)||this}return S(n,t),n}(Ps),UV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).mh=new no,u.Oh=void 0,u.kh=new Vs,u.xh=new no,u.Wwt=function(t){u.Oh?(u.Oh.Ns(void 0),u.Oh=void 0):u.Eh("internal-error"),u.Fr(new Us)},u.Xwt=function(t){u.Oh&&(u.Oh.Is(void 0),u.Oh=void 0),u.Fr(new Ms(Tt(u),"license-request",$u(t.message).buffer,t.destinationURL||void 0))},u.Ih=n,u.Wo=i,u.qwt=e,u.Hh=r,u.Lh=s,u}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e;return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Mh){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,nr.awrap(this.Gwt(Zu(n),e));case 5:this.Eh("usable"),this.xh.Is(),this.xh=new no;case 8:case"end":return t.stop()}},null,this,null,we)},i.Yo=function(t){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,we)},i.Zo=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=Zu(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.Oh=new no,this.qwt.Zo(this.Hh,n),i.next=7,nr.awrap(this.Oh.Ss);case 7:case"end":return i.stop()}},null,this,null,we)},i.Go=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.xh);case 2:return this.qwt.Xr(DV.zwt,this.Xwt),this.qwt.Xr(DV.Vwt,this.Wwt),this.xh.Cr(),this.mh.Is(void 0),t.abrupt("return",this.mh.Ss);case 7:case"end":return t.stop()}},null,this,null,we)},i.jo=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,we)},i.Gwt=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=$a(t,n,this.Lh),this.qwt.Hr(DV.zwt,this.Xwt),this.qwt.Hr(DV.Vwt,this.Wwt),this.qwt.eV(this.Hh,i);case 4:case"end":return e.stop()}},null,this,null,we)},i.Eh=function(t){this.kh.ds(),this.kh.vs(zs,t),this.Fr(new Ls(this))},A(n,[{key:"nh",get:function(){return this.Hh}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.kh}}]),n}(Cs),FV=function(){function t(t,n,i){this.Qwt=void 0,this.Hh=void 0,this.Lh=void 0,this.qwt=void 0,this.Wo=void 0,this.Ch=void 0,this.Ih=void 0,this.qwt=t,this.Wo=n,this.Ch=i;var e=Ma(i)||"video/mp4";this.Ih=xa(e)}var i=t.prototype;return i.sh=function(t){var i;return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new Ka(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new UV(this.Ih,this.Wo,this.qwt,this.Hh,this.Lh),this.Qwt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,we)},i.uh=function(t){return this.Lh=Zu(t),we.resolve(!0)},i.oh=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,we)},i.hh=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,we)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"eh",get:function(){return this.Wo}},{key:"rh",get:function(){return this.Ch}},{key:"sessionId",set:function(t){this.Hh=t}}]),t}(),HV=function(){function t(t,n,i){this.Ywt=t,this.Wo=n,this.Ch=i}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new FV(this.Ywt,this.Wo,this.Ch));case 1:case"end":return t.stop()}},null,this,null,we)},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),zV=function(){function t(t){this.Ywt=void 0,this.Ywt=t}return t.prototype.dr=function(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=Ba(VV,Bs,t,e))){s.next=6;break}return s.abrupt("return",new HV(this.Ywt,t,r));case 6:i++,s.next=1;break;case 9:throw new d("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,we)},t}();function VV(t,n){return t===Rr}var WV,XV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dV=function(t,n){return!0},n}(iO),qV=function(t){function n(n,i,e){var r;return void 0===e&&(e=new zV(i)),(r=t.call(this)||this).ZS=void 0,r.hr=void 0,r.lL=void 0,r.mV=new nN,r.jwt=void 0,r.Ywt=void 0,r.Zwt=!1,r.Hh=void 0,r.Bh=null,r.Jwt={Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.$wt=function(t){"boolean"==typeof t.detail.casting&&(r.Zwt=t.detail.casting,r.Fr(new fy(r.Zwt)))},r.Kwt=function(t){r.Hh=t.sessionId,r.Bh&&(r.Bh.sessionId=r.Hh);var n=t.initData;if(n){var i=aO(n);if(!i)return;r.Fr(new Fs(wr,i))}else r.Fr(new Fs(wr,new ArrayBuffer(0)))},r.jwt=n,r.Ywt=i,r.Ywt.Hr(DV.Hwt,r.Kwt),r.hr=e,r.lL=new XV(Tt(r)),r.tmt(),r}S(n,t);var i=n.prototype;return i.IL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===Zk.EA)return i}},i.Sr=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.nl());case 2:return this.Wr(),this.nmt(),this.Ywt.Xr(DV.Hwt,this.Kwt),t.next=7,nr.awrap(this.lL.Sr());case 7:case"end":return t.stop()}},null,this,null,we)},i.cg=function(){throw new v("Not implemented yet")},i.kA=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.CE=function(){return!1},i.PE=function(t,n,i,e){throw new v("Not implemented yet")},i.TA=function(t){throw new v("Not implemented yet")},i.LE=function(){throw new v("Not implemented yet")},i.Yo=function(t){var n=this;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.mV.FB(function(i){var e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.nr!==Zk.EA){r.next=8;break}return ws(i),e=new xV(t,n,n.hr),n.ZS=e,n.lL.Yo(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,we)}));case 1:case"end":return i.stop()}},null,this,null,we)},i.K_=function(){throw new v("Not implemented yet")},i.J_=function(){throw new v("Not implemented yet")},i.nl=function(){var t=this;return this.mV.Cr(),this.mV.FB(function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.ZS){n.next=4;break}return n.next=3,nr.awrap(t.ZS.Sr());case 3:t.ZS=void 0;case 4:return n.next=6,nr.awrap(t.lL.nl());case 6:case"end":return n.stop()}},null,null,null,we)})},i.ys=function(t,n){throw new v("Not implemented yet")},i.WE=function(t){throw new v("Not implemented yet")},i.ag=function(){throw new v("Not implemented yet")},i.XE=function(){return this.Jwt},i.tmt=function(){this.jwt.addEventListener("airPlayIsCasting",this.$wt)},i.nmt=function(){this.jwt.removeEventListener("airPlayIsCasting",this.$wt)},i.webkitSetMediaKeys=function(t){this.Bh=t||null,this.Bh&&(this.Bh.sessionId=this.Hh)},i.nX=function(){},i.KW=function(){throw new v("Not implemented yet")},i.tX=function(){throw new v("Not implemented yet")},A(n,[{key:"pg",get:function(){throw new v("Not implemented yet")}},{key:"yg",get:function(){throw new v("Not implemented yet")}},{key:"v_",get:function(){throw new v("Not implemented yet")}},{key:"yB",get:function(){throw new v("Not implemented yet")}},{key:"d_",get:function(){throw new v("Not implemented yet")}},{key:"l_",get:function(){throw new v("Not implemented yet")}},{key:"ts",get:function(){throw new v("Not implemented yet")}},{key:"hk",get:function(){throw new v("Not implemented yet")}},{key:"bg",get:function(){return this.Zwt}},{key:"g_",get:function(){throw new v("Not implemented yet")}},{key:"w_",get:function(){throw new v("Not implemented yet")}},{key:"m_",get:function(){throw new v("Not implemented yet")}},{key:"Dg",get:function(){throw new v("Not implemented yet")}},{key:"Dl",get:function(){throw new v("Not implemented yet")}},{key:"Og",get:function(){throw new v("Not implemented yet")}},{key:"y_",get:function(){throw new v("Not implemented yet")}},{key:"rX",get:function(){throw new v("Not implemented yet")}},{key:"b_",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Rw",get:function(){throw new v("Not implemented yet")}},{key:"BE",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Bh}},{key:"sX",get:function(){return wN}},{key:"j_",get:function(){throw new v("Not implemented yet")}},{key:"kB",get:function(){throw new v("Not implemented yet")}},{key:"qE",get:function(){throw new v("Not implemented yet")}},{key:"iX",get:function(){return!0}},{key:"AE",get:function(){return this.lL.AE},set:function(t){this.lL.AE=t}},{key:"gV",get:function(){return this.lL.gV}}]),n}(Iw),GV=function(t){function n(n){var i;return(i=t.call(this,yc.Ha)||this).Jwt=n,i}return S(n,t),n}(Ps);function QV(t){switch(t.type){case WV.tq:return t.value;case WV.Cwt:return ow(t.value);case WV.Dwt:return Ys(t.value);default:return}}function YV(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.tq="daterange-ca-type_string",t.Cwt="daterange-ca-type_number",t.Dwt="daterange-ca-type_arraybuffer"}(WV||(WV={}));var jV=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).cS=void 0,u.imt=void 0,u.cS=n,u.imt=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.cS}},{key:"timestamp",get:function(){return this.imt}}]),n}(Ka),ZV=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e,r,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return S(n,t),n}(jV),JV=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).gI=0,u.WF=!1,u.JS=void 0,u.$S=void 0,u.emt=void 0,u.mI=!0,u.yI=1,u.z_=void 0,u.V_=void 0,u.AV=void 0,u.SV=void 0,u.EV=void 0,u.W_=void 0,u.wA=void 0,u.Au=void 0,u.rmt=dS.fI(),u.NF=dS.fI(),u.wI=!1,u.LV=dS.fI(),u.pI=void 0,u.smt=void 0,u.umt=void 0,u.XF=Uw.n_,u.IA=Uw.n_,u.jwt=void 0,u.IV=void 0,u.nE=void 0,u.Pwt=void 0,u.Egt=void 0,u.TI=void 0,u.jS=void 0,u.iE=void 0,u.Ywt=void 0,u.Jwt={Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.ZS=void 0,u.omt=void 0,u.rE=new XT,u.sE=new ZT,u.setCurrentTime=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Og.length){n.next=4;break}return u.gI=t,n.next=4,nr.awrap(u.jwt.Yr("seekablechange"));case 4:u.gI=u.updateCurrentTime(t),u.Pwt.BG("THEOplayerSetCurrentTime",u.gI),u.pI=!0,u.Fr(new lm(u.gI));case 8:case"end":return n.stop()}},null,null,null,we)},u.hmt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.rmt=new dS(i),u.Fr(new bN(u.v_))}},u.amt=function(t){u.XF=t.detail.readyState,u.Fr(new wm(+t.detail.currentTime,u.Dl)),u.cmt()},u.fmt=function(t){u.XF=t.detail.readyState,u.Fr(new mm(+t.detail.currentTime,u.Dl)),u.cmt()},u.vmt=function(t){if(t.detail){var n=+t.detail.duration;u.Au=n,u.Fr(new am(u.d_))}},u.Lgt=function(t){t.detail&&(u.WF=!0,u.Fr(new vm(+t.detail.currentTime)))},u.uE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);YV(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.$S=new ZV(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.JS=qm(u.$S),u.Fr(new pm(u.$S))):YV(i)&&(u.$S=new jV(i.name,i.message,void 0,i.code,i.timestamp),u.JS=qm(u.$S),u.Fr(new pm(u.$S)))}},u.Mgt=function(t){u.Fr(new AN)},u.dmt=function(t){u.XF=t.detail.readyState,u.Fr(new dm(+t.detail.currentTime,u.Dl)),u.cmt()},u.lmt=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.Og.length){n.next=3;break}return n.next=3,nr.awrap(u.jwt.Yr("seekablechange"));case 3:u.XF=t.detail.readyState,u.Fr(new hm(+t.detail.currentTime,u.Dl)),u.cmt();case 6:case"end":return n.stop()}},null,null,null,we)},u.Ngt=function(t){t.detail&&u.mI&&(u.mI=!1,u.Fr(new rm(+t.detail.currentTime)))},u.Dgt=function(t){t.detail&&(u.mI||(u.mI=!0,u.Fr(new em(+t.detail.currentTime))))},u._mt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.LV=new dS(i)}},u.ewt=function(t){t.detail&&u.Fr(new kb(+t.detail.currentTime))},u.Pgt=function(t){t.detail&&(u.yI=t.detail.playbackRate,u.Fr(new cm(+t.detail.currentTime,u.yI)))},u.gmt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.NF=new dS(i)}},u.Ogt=function(t){t.detail&&(u.gI=+t.detail.currentTime,u.pI=!1,u.Fr(new fm(u.gI,u.emt)),u.Fr(new _m(u.gI)))},u.Cgt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.Au&&(u.WF=!1),u.pI=!0,u.Fr(new lm(n))}},u.wmt=function(t){t.detail&&(t.detail.currentDate&&(u.emt=new Date(1e3*t.detail.currentDate)),u.gI=+t.detail.currentTime,u.Fr(new fm(u.gI,u.emt)))},u.mmt=function(t){u.smt=t.detail.height,u.umt=t.detail.width},u.ymt=function(t){t.detail&&u.Fr(new pb(+t.detail.currentTime))},u.Ygt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Q_.$d(new sy(n))},u.pmt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.z_.sl;s++){var o=u.Q_.Jd(s);o.yl==e&&o.ml==r?i=u.z_.Jd(s):1==o.ll&&(n=u.z_.Jd(s))}i&&n&&(i.ll=!0,n.ll=!1)},u.Zgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Y_.$d(new cy(n))},u.aG=function(t){var n,i=t.detail.kind,e=t.detail.type;i===Ak.$y&&e===hy.ID3?(n=new MC("",t.detail.label)).Rl=mw.Al:i===Ak.$y&&e===hy.DATE_RANGE?(n=new ix,u.omt=n):n=new CD(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.AV.$d(n),u.IV.$d(n)},u.kmt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new BC(ow(e.startTime),s,e.uid),h=u.bmt();h&&h.AA(o)}},u.Amt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new Iy(ow(r.startTime),ow(r.endTime),r.content,!1),o=null!=(e=u.Tmt(Ak.Zy))?e:u.Tmt(Ak.rA);o&&(o.nr=hy.WEBVTT,o.AA(s))}},u.DW=function(t){t.type===yc.ha&&(u.JS=qm(t.errorObject)),u.Ur(t)},u.Smt=function(t){t.detail&&(u.Jwt.Tg=t.detail.corruptedVideoFrames,u.Jwt.Ag=t.detail.droppedVideoFrames,u.Fr(new GV(u.B_)))},u.Emt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={_l:t.id};if(void 0!==t.startDate&&(n.qE=new Date(t.startDate)),void 0!==t.endDate&&(n.MY=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=QV(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.ZY=e}void 0!==t.scte35Cmd&&(n.JY=Ys(t.scte35Cmd)),void 0!==t.scte35In&&(n.KY=Ys(t.scte35In)),void 0!==t.scte35Out&&(n.$Y=Ys(t.scte35Out)),void 0!==t.startTime&&(n.tw=t.startTime),n.QY=t.class,n.d_=ow(t.duration),n.YY=ow(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.tw?t.tw:(new Date).getTime(),e=new jP(t,i);u.omt.AA(e),u.omt.Zo(n,i)})};var o=r.uid;u.Pwt=u.getSdkBridge(o),u.jwt=new OV,EV()[o].sdkEventBus=u.jwt,u.z_=new Ym,u.V_=new Ym;var h=u.Rmt(e);return u.wA=new Lz(Tt(u),new OC),u.IV=new xC(Tt(u)),u.nE=new Xk(u.wA,h),u.AV=new Tk,u.SV=new WC(Tt(u)),u.SV.fl=u.AV,u.EV=new XC(u.wA,u.SV),u.W_=new QT([u.AV,u.nE.qp,u.EV.qp]),u.Ywt=u.getFairPlayControllerBridge(u.Pwt),u.jS=new qV(u.jwt,u.Ywt),u.iE=new qT(h),u.jS.AE=u.iE,u.observeMediaElement(),u.SE(),u.TI=new PV(u.Pwt,s),u.TI.Hr("JO",function(){u.Pwt.BG("THEOplayerSetPreferredForwardBufferDuration",u.TI.ZO)}),u}S(n,t);var i=n.prototype;return i.vg=function(){return gS},i.ag=function(){this.Pwt.BG("THEOplayerShow",{})},i.cg=function(){this.Pwt.BG("THEOplayerHide",{})},i.Imt=function(){var t=this;this.Pwt.BG("THEOplayerSetInitialPreferredPeakBitRate",this.TI.hP);this.Hr("playing",function n(){t.Pwt.BG("THEOplayerSetInitialPreferredPeakBitRate",0),t.Xr("playing",n)})},i.ig=function(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.Egt=t,i=ir({},n,{sources:{src:t.src,type:Bw.Yl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Pwt.BG("THEOplayerSourceChange",i),e={nr:Zk.EA,Pl:t.src,mf:t.type,EE:this.RE(t),IE:t.crossOrigin,NE:n.metadata&&n.metadata.title},this.iE.PS(t.contentProtection),s.next=7,nr.awrap(this.jS.Yo(e));case 7:this.ZS=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==hy.WEBVTT})).length>0&&this.DE(r),jk(this.j_),this.Imt();case 11:case"end":return s.stop()}},null,this,null,we)},i.RE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:Dr,HE:[{initDataTypes:[Dr.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.J_=function(){this.mI=!1,this.Fr(new rm(this.v_)),this.Pwt.BG("THEOplayerPlay",{})},i.K_=function(){this.mI=!0,this.Fr(new em(this.v_)),this.Pwt.BG("THEOplayerPause",{})},i.fg=function(){},i.nl=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gI=0,this.WF=!1,this.JS=void 0,this.$S=void 0,this.mI=!0,this.yI=1,this.Au=void 0,this.NF=dS.fI(),this.rmt=dS.fI(),this.smt=void 0,this.umt=void 0,this.XF=Uw.n_,this.IA=Uw.n_,this.z_.nl(),this.V_.nl(),this.AV.nl(),this.W_.nl(),t.next=19,nr.awrap(this.EV.nl());case 19:return this.SV.nl(),t.next=22,nr.awrap(this.nE.nl());case 22:return this.wA.nl(),this.IV.nl(),this.Egt=void 0,t.next=27,nr.awrap(this.jS.nl());case 27:case"end":return t.stop()}},null,this,null,we)},i.rg=function(){this.Pwt.BG("THEOplayerShowAirPlayPicker",{})},i.sg=function(){this.Pwt.BG("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.B_.Tg=t.Tg,this.B_.Ag=t.Ag},i.hv=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.nl());case 2:return this.Wr(),this.unobserveMediaElement(),this.UE(),this.jS.AE=void 0,t.next=8,nr.awrap(this.jS.Sr());case 8:return this.z_.hv(),this.V_.hv(),this.AV.hv(),this.W_.hv(),this.SV.hv(),t.next=15,nr.awrap(this.EV.hv());case 15:return t.next=17,nr.awrap(this.nE.hv());case 17:this.wA.hv(),this.IV.hv();case 19:case"end":return t.stop()}},null,this,null,we)},i.DE=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.nE.pA(i)}},i.cmt=function(){var t=this.IA,n=this.XF;t!==n&&(this.IA=n,this.Fr(new ym(this.v_,n)))},i.observeMediaElement=function(){this.jS.Hr(yc.ra,this.Ur),this.jS.Hr([yc.aa,yc.ha],this.DW),this.jwt.addEventListener("play",this.Ngt),this.jwt.addEventListener("pause",this.Dgt),this.jwt.addEventListener("seeking",this.Cgt),this.jwt.addEventListener("seeked",this.Ogt),this.jwt.addEventListener("ratechange",this.Pgt),this.jwt.addEventListener("durationchange",this.vmt),this.jwt.addEventListener("timeupdate",this.wmt),this.jwt.addEventListener("waiting",this.ymt),this.jwt.addEventListener("playing",this.ewt),this.jwt.addEventListener("ended",this.Lgt),this.jwt.addEventListener("loadedmetadata",this.lmt),this.jwt.addEventListener("loadeddata",this.dmt),this.jwt.addEventListener("loadstart",this.Mgt),this.jwt.addEventListener("canplay",this.amt),this.jwt.addEventListener("canplaythrough",this.fmt),this.jwt.addEventListener("error",this.uE),this.jwt.addEventListener("seekablechange",this.gmt),this.jwt.addEventListener("videosizechange",this.mmt),this.jwt.addEventListener("bufferedchange",this.hmt),this.jwt.addEventListener("playedchange",this._mt),this.jwt.addEventListener("metricschange",this.Smt),this.jwt.addEventListener("addDateRangeCues",this.Emt)},i.unobserveMediaElement=function(){this.jS.Xr(yc.ra,this.Ur),this.jS.Xr([yc.aa,yc.ha],this.DW),this.jwt.removeEventListener("play",this.Ngt),this.jwt.removeEventListener("pause",this.Dgt),this.jwt.removeEventListener("seeking",this.Cgt),this.jwt.removeEventListener("seeked",this.Ogt),this.jwt.removeEventListener("ratechange",this.Pgt),this.jwt.removeEventListener("durationchange",this.vmt),this.jwt.removeEventListener("timeupdate",this.wmt),this.jwt.removeEventListener("waiting",this.ymt),this.jwt.removeEventListener("playing",this.ewt),this.jwt.removeEventListener("ended",this.Lgt),this.jwt.removeEventListener("loadedmetadata",this.lmt),this.jwt.removeEventListener("loadeddata",this.dmt),this.jwt.removeEventListener("loadstart",this.Mgt),this.jwt.removeEventListener("canplay",this.amt),this.jwt.removeEventListener("canplaythrough",this.fmt),this.jwt.removeEventListener("error",this.uE),this.jwt.removeEventListener("seekablechange",this.gmt),this.jwt.removeEventListener("videosizechange",this.mmt),this.jwt.removeEventListener("bufferedchange",this.hmt),this.jwt.removeEventListener("playedchange",this._mt),this.jwt.removeEventListener("metricschange",this.Smt),this.jwt.removeEventListener("addDateRangeCues",this.Emt)},i.updateCurrentTime=function(t){var n=this.Og.start(0),i=this.Og.end(0);return _.min(_.max(t,n),i)},i.bmt=function(){for(var t=0,n=this.W_.il;t<n.length;t++){var i=n[t];if(i.wl===Ak.$y&&i.nr===hy.ID3)return i}},i.Tmt=function(t){for(var n=0,i=this.W_.il;n<i.length;n++){var e=i[n],r=e.Rl===mw.Tl,s=e.wl===t;if(r&&s)return e}},i.SE=function(){this.jwt.addEventListener("addaudiotrack",this.Ygt),this.jwt.addEventListener("enableaudiotrack",this.pmt),this.jwt.addEventListener("addvideotrack",this.Zgt),this.jwt.addEventListener("addtexttrack",this.aG),this.jwt.addEventListener("addtexttrackid3cues",this.kmt),this.jwt.addEventListener("addtexttrackcues",this.Amt)},i.UE=function(){this.jwt.removeEventListener("addaudiotrack",this.Ygt),this.jwt.removeEventListener("enableaudiotrack",this.pmt),this.jwt.removeEventListener("addvideotrack",this.Zgt),this.jwt.removeEventListener("addtexttrack",this.aG),this.jwt.removeEventListener("addtexttrackid3cues",this.kmt),this.jwt.removeEventListener("addtexttrackcues",this.Amt)},i.mg=function(){},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.rmt.VE()}},{key:"pg",get:function(){return this.emt?this.emt:null},set:function(t){this.Pwt.BG("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.emt=t}},{key:"v_",get:function(){return this.gI},set:function(t){this.setCurrentTime(t)}},{key:"d_",get:function(){return this.Au}},{key:"l_",get:function(){return this.WF}},{key:"ts",get:function(){return this.JS}},{key:"__",get:function(){return this.$S}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return this.jS.bg}},{key:"B_",get:function(){return this.Jwt}},{key:"g_",get:function(){return this.wI},set:function(t){this.wI!==t&&(this.Pwt.BG("THEOplayerSetMuted",t),this.wI=t,this.Fr(new gm(this.v_,t?0:1)))}},{key:"w_",get:function(){return this.mI}},{key:"m_",get:function(){return this.yI},set:function(t){this.Pwt.BG("THEOplayerSetPlaybackRate",t),this.yI=t}},{key:"Dg",get:function(){return this.LV.VE()}},{key:"Cg",get:function(){return sS.fR},set:function(t){}},{key:"Dl",get:function(){return this.XF}},{key:"Og",get:function(){return this.NF.VE()}},{key:"y_",get:function(){return this.pI}},{key:"qE",get:function(){}},{key:"j_",get:function(){return this.W_}},{key:"p_",get:function(){return this.smt}},{key:"k_",get:function(){return this.umt}},{key:"b_",get:function(){return 1},set:function(t){}},{key:"Pg",get:function(){return this.sE}},{key:"Y_",get:function(){return this.V_}},{key:"GE",get:function(){return this.rE}},{key:"xg",get:function(){return!1},set:function(t){}},{key:"Ng",get:function(){return!0}}]),n}(Iw),$V=function(){function t(){this.QE=FT.ES}var n=t.prototype;return n.YE=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(Vw(n.type))return!1;var e=n.contentProtection;if(e&&!sA(e)){if(!hA(e))return!1;if(!t.rwt(e))return!1}return!0},t.rwt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.jE=function(){return!1},t}(),KV=function(){function t(){this.Nmt=r.webkit}return t.prototype.BG=function(t,n){this.Nmt.messageHandlers[t]&&this.Nmt.messageHandlers[t].postMessage(n)},t}(),tW=function(t){function n(n){var i;return(i=t.call(this)||this).Pwt=void 0,i.jwt=void 0,i.Dmt=function(t){var n=Ys(t.detail.initData),e=t.detail.sessionId;i.Fr(new BV(n,e))},i.Cmt=function(t){var n=new y(iu(t.detail.message)),e=t.detail.destinationURL;i.Fr(new LV(n,e))},i.Omt=function(t){i.Fr(new MV)},i.Pwt=n,i.jwt=new OV,EV().fairplayController={sdkEventBus:i.jwt},i.IJ(),i}S(n,t);var i=n.prototype;return i.IJ=function(){this.jwt.addEventListener(DV.Hwt,this.Dmt),this.jwt.addEventListener(DV.zwt,this.Cmt),this.jwt.addEventListener(DV.Vwt,this.Omt)},i.eV=function(t,n){var i={playerId:IV(),data:eu(n.buffer),sessionId:t};this.Pwt.BG("THEOplayerCreateKeySession",i)},i.Zo=function(t,n){var i={playerId:IV(),data:eu(n.buffer),sessionId:t};this.Pwt.BG("THEOplayerUpdateKey",i)},n}(Iw),nW=function(t){var n=this;this.jwt=void 0,this.Pmt=void 0,this.xmt=function(){n.Pmt.wG()},this.Bmt=function(){n.Pmt.gG()},this.jwt=new OV,this.Pmt=t,this.jwt.addEventListener("showTracks",this.xmt),this.jwt.addEventListener("hideTracks",this.Bmt),EV().texttracks={sdkEventBus:this.jwt}},iW=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).bG=void 0,o.AG=void 0,o.Lmt=void 0;var h=i.kE(Qm.$f);return o.bG=new mO,o.bG.eX(n),o.AG=new lP(o.bG.kg,h.yB,o.j_,u,h.BE),o.Lmt=new nW(o.AG),i.FE(h),Hi.document.querySelector(".vjs-tech")?Hi.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Hi.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.ag=function(){t.prototype.ag.call(this),this.bG.ag()},i.cg=function(){t.prototype.cg.call(this),this.bG.cg()},i.eg=function(){return!0},i.getSdkBridge=function(){return new KV},i.getFairPlayControllerBridge=function(){return rW},i.Rmt=function(t){return t},i.hv=function(){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Hi.document.querySelector(".vjs-tech")?Hi.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Hi.document.querySelector(".player-div").style.background="#000000",n.next=3,nr.awrap(t.prototype.hv.call(this));case 3:this.AG.hv(),this.bG.hv();case 5:case"end":return n.stop()}},null,this,null,we)},n}(JV);eS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.TT=function(t,n,i,e,r,s){return new iW(t,n,i,e,r,s)},i.YE=function(n,i){if(n.type){var e=Be();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.YE.call(this,n,i)},n}($V)));var eW,rW=new tW(new KV),sW=function(t){function n(){return t.call(this,"Mmt")||this}return S(n,t),n.prototype.Rd=function(){return new uW},n}(Hg),uW=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(Ps);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(eW||(eW={}));var oW=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Umt=new Iw,n.Ur=function(t){n.Fr(t)},n}S(n,t);var i=n.prototype;return i.Rd=function(){return n=function(t){var n=t.Fmt.map(function(t){return t.Ed});return n.item=function(n){n|=0;var i=t.Jd(n);return i&&i.Ed||void 0},n}(t=this),i=new gI(t,n),n.addEventListener=function(t,n){i.Hr(t,n)},n.removeEventListener=function(t,n){i.Xr(t,n)},n;var t,n,i},i.Hr=function(t,n){this.Umt.Hr(t,n)},i.Vr=function(t){this.Umt.Vr(t)},i.Wr=function(){this.Umt.Wr()},i.Fr=function(t){this.Umt.Fr(t)},i.Xr=function(t,n){this.Umt.Xr(t,n)},i.Gr=function(t){this.Umt.Gr(t)},i.Qr=function(t){this.Umt.Qr(t)},i.Yr=function(t,n){return this.Umt.Yr(t,n)},n}(function(){function t(){this.hs=[],this.Sd=void 0}var n=t.prototype;return n.Jd=function(t){return this.hs[t]},n.Lg=function(t){this.hs.push(t),this.Sd&&this.Sd.push(t.Ed),this.Hmt(t)},n.zmt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Lg(i)}},n.Vmt=function(t,n){n>=0&&n<=this.hs.length&&(this.hs.splice(n,0,t),this.Sd&&this.Sd.splice(n,0,t.Ed),this.Hmt(t))},n.Mg=function(t){return hs(this.hs,t)},n.jo=function(t){this.Wmt(this.hs.indexOf(t))},n.Wmt=function(t){if(t>=0&&t<this.hs.length){var n=this.hs[t];os(this.hs,t),this.Sd&&os(this.Sd,t),this.Xmt(n)}},n.ds=function(){var t=this.hs.slice();as(this.hs),this.Sd&&as(this.Sd);for(var n=0;n<t.length;n++){var i=t[n];this.Xmt(i)}},A(t,[{key:"Fmt",get:function(){return this.hs}},{key:"sl",get:function(){return this.hs.length}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),t}());var hW,aW=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(Ps),cW=function(t){function n(n){var i;return(i=t.call(this,"Gmt")||this).qmt=n,i}return S(n,t),n.prototype.Rd=function(){return new aW(this.qmt.Ed)},n}(Hg),fW=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(Ps),vW=function(t){function n(n){var i;return(i=t.call(this,"Qmt")||this).task=n,i}return S(n,t),n.prototype.Rd=function(){return new fW(this.task.Ed)},n}(Hg),dW=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.Hmt=function(t){this.Fr(new cW(t))},i.Xmt=function(t){this.Fr(new vW(t))},n}(oW);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(hW||(hW={}));var lW=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Ymt=hW.UNINITIALISED,r.xB=new dW,r.s9=void 0,r.jmt=void 0,r.Zmt=void 0,r.Zmt=i,r.jmt=e,r.s9=n,r.ug(),r}S(n,t);var i=n.prototype;return i.ug=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.Jmt());case 2:this.$mt(hW.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,we)},i.Jmt=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nr.awrap(this.Kmt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],we)},i.Kmt=function(){var t,n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(this.s9.oK());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.Zmt.tyt(i.id,i.sourceDescription,i.parameters,this.jmt),this.nyt(e),this.xB.Lg(e);case 4:case"end":return r.stop()}},null,this,null,we)},i.$mt=function(t){this.Ymt=t,this.Fr(new sW)},i.tyt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Zmt.iyt(t,n,i);return this.eyt(e,i),this.xB.Lg(e),this.nyt(e),e},i.eyt=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nr.awrap(this.ryt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],we)},i.ryt=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.s9.rK({key:t._l,id:t._l,sourceDescription:t.uR,parameters:t.lh},n));case 2:case"end":return i.stop()}},null,this,null,we)},i.nyt=function(t){var n=this;t.Hr("Mmt",function(){t.Df===eW.EVICTED&&n.xB.jo(t)})},A(n,[{key:"Df",get:function(){return this.Ymt}},{key:"syt",get:function(){return this.xB}}]),n}(Cs);function _W(t,n){return function(t,n){var i=t.Rw&&n.Rw,e=t.hk&&n.hk;return i||e?i&&e?t.Rw*t.hk-n.Rw*n.hk:i?t.Rw-n.Rw:e?t.hk-n.hk:(t.Rw||1)*(t.hk||1)-(n.Rw||1)*(n.hk||1):0}(t,n)||function(t,n){return t.DS-n.DS}(t,n)}var gW=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(Ps),wW=function(t){function n(){return t.call(this,"N$")||this}return S(n,t),n.prototype.Rd=function(){return new gW},n}(Hg),mW=function(){function t(t,n,i){if(this.uyt=void 0,this.oyt=t,this.Bg=n,this.hyt=i,0===this.Bg.size)this.uyt=dS.fI();else{var e=new dS([-1/0,1/0]);this.Bg.forEach(function(t){e=e.HR(t.timeRanges)}),this.uyt=e}}return t.prototype.mw=function(t){return!!ew(this.Bg,t.Bg)&&(!!_t(this.oyt,t.oyt)&&(!!_t(this.oI,t.oI)&&(!!_t(this.ayt,t.ayt)&&this.cyt.nI(t.cyt))))},t.fyt=function(){return pW},A(t,[{key:"oI",get:function(){return this.hyt}},{key:"vyt",get:function(){return this.oyt}},{key:"ayt",get:function(){return this.cyt.oI}},{key:"dyt",get:function(){var t=0,n=0;return this.Bg.forEach(function(i){t+=i.timeRanges.oI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"cyt",get:function(){return this.uyt}}]),t}(),yW=rr(),pW=new mW(0,yW,NaN);function kW(t,n){if(X(t)){if(Br(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var bW,AW=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"lyt"}}]),n}(Et);function TW(t,n,i,e){var r=[],s=rs(i,function(t){return t._yt===lr});if(void 0!==s){var u=s.qn?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.qn.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h._yt!==lr)for(var a=0,c=Pr(h._yt);a<c.length;a++){var f=c[a];r.push({eh:f,LS:h.gyt?[h.gyt]:[],tS:void 0})}}if(r.length)return{XA:t,wyt:{myt:u,qA:s.qA},yyt:r,pyt:n===Qm.Jf?e.slice():[],kyt:n===Qm.$f?e.slice():[],cV:!1}}}}function SW(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=rr();return EW(e,r,t.yyt),EW(e,r,n.yyt),{XA:t.XA,wyt:{myt:t.wyt.myt,qA:null!=(i=t.wyt.qA)?i:n.wyt.qA},yyt:e,pyt:RW(t.pyt,n.pyt,hs),kyt:RW(t.kyt,n.kyt,hs),cV:t.cV||n.cV||!1}}function EW(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.eh.sr,u=void 0;n.has(s)?(u=n.get(s)).LS=RW(u.LS,r.LS,IW):(u=ir({},r),t.push(u),n.set(s,u))}}function RW(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function IW(t,n){for(var i=0;i<t.length;i++){if(Ks(t[i],n))return!0}return!1}function NW(t,n){var i,e=t.byt;if(e){for(var r=t.XD,s=[],u=0,o=t.FZ;u<o.length;u++){var h=o[u];s.push(r+'; codecs="'+h+'"')}i=TW(n||{},t.nr,e,s)}for(var a=0,c=t.Ayt;a<c.length;a++){i=SW(i,DW(c[a],n))}return i}function DW(t,n){return TW(n||{},t.nr,t.byt||[],[t.mf])}function CW(t,n,i){var e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Tyt;r<s.length;r++)u=s[r],e.push(OW(u,n,i));return h.next=4,nr.awrap(we.all(e));case 4:return o=h.sent,h.abrupt("return",{d_:t.Eyt.Syt(),Ryt:[t.Iyt],Tyt:o});case 6:case"end":return h.stop()}},null,null,null,we)}function OW(t,n,i){var e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Nyt;r<s.length;r++)u=s[r],e.push(PW(u,n,i));return h.next=4,nr.awrap(we.all(e));case 4:return o=h.sent,h.abrupt("return",{Dyt:o});case 6:case"end":return h.stop()}},null,null,null,we)}function PW(t,n,i){var e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Cyt;r<s.length;r++)xW(u=s[r])||e.push(MW(u,n,i));return h.next=4,nr.awrap(we.all(e));case 4:return o=h.sent,h.abrupt("return",{qp:o,nr:t.nr});case 6:case"end":return h.stop()}},null,null,null,we)}function xW(t){return t.Ayt.every(LW)}!function(t){t[t.Ql=0]="Ql",t[t.Yl=1]="Yl"}(bW||(bW={}));var BW=1;function LW(t){return t.Oyt!==BW&&Boolean(t.Oyt)}function MW(t,n,i){var e,r,s,u,o,h,a,c,f;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.Ayt;r<s.length;r++)LW(u=s[r])||e.push(FW(u,i));return v.next=4,nr.awrap(we.all(e));case 4:return o=v.sent,h=t.FZ[0],a=t.byt,c=a?UW(h,a):void 0,f=NW(t,n),v.abrupt("return",{pl:o,yl:t.Pyt,nr:t.nr,EE:c,xyt:f});case 10:case"end":return v.stop()}},null,null,null,we)}function UW(t,n){for(var i=[],e=function(t){return t?Br(t,"avc")?Na.VIDEO_H264:Br(t,"hev")||Br(t,"hvc")||Br(t,"hvt")||Br(t,"lhv")||Br(t,"lhe")||Br(t,"lht")?Na.VIDEO_H265:Br(t,"mp4")?Na.VIDEO_MP4:Br(t,"mpeg2")?Na.VIDEO_MPEG2:Br(t,"mpeg")?Na.VIDEO_MPEG:Na.VIDEO_UNKNOWN:Na.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s._yt.split(":").pop(),o=s.gyt;i.push({mimeType:e,uuid:u,data:o})}return{type:bW.Ql,schemeType:_r,schemeDatas:i}}function FW(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,nr.awrap(HW(t,n));case 2:r=u.sent,s={_l:VW(t),jb:r,N8:t.P8,DS:t.DS,ae:t.ae,hk:t.hk,nr:t.nr,Rw:t.Rw},u.t0=t.nr,u.next=u.t0===Qm.Pn?7:u.t0===Qm.$f?8:u.t0===Qm.Jf?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.c$=null!=(i=null==(e=t.c$)?void 0:e.Nw())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.rgt,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,we)}function HW(t,n){var i,e,r,s,u,o,h,a;return nr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Byt,r=e.Lyt(),s=r;case 4:if(!s){c.next=16;break}if(!t.Myt(s)){c.next=12;break}return c.next=8,nr.awrap(t.Uyt(s,n,(new ls).xr));case 8:for(u=c.sent,o=0;o<u.sl;o++)i.push(zW(u.Fyt(o),t));c.next=13;break;case 12:i.push(zW(s,t));case 13:s=e.Wdt(s),c.next=4;break;case 16:return h=e.Hyt(),a=h.nw-r.tw,c.abrupt("return",{d_:a,dK:i});case 19:case"end":return c.stop()}},null,null,null,we)}function zW(t,n){return{tw:t.tw,d_:t.d_,zyt:n.Vyt(t)}}function VW(t){return t.Wyt.SR+"-"+(""+t._l)}function WW(t,n){return function(t,n){var i={};for(var e in t){var r=t[e];for(var s in i[e]={},r){var u=[];i[e][s]=[];for(var o=r[s],h=0;h<o.length;h++){var a=o[h],c=XW(a,e,n);u.push(c)}i[e][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e["group-id"]]||(n[e["group-id"]]={nr:e.type,tk:[]}),n[e["group-id"]].tk.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.tk;s<u.length;s++){var o=u[s];i[r.nr]||(i[r.nr]={}),i[r.nr][o.name]||(i[r.nr][o.name]=[]),i[r.nr][o.name].push(o)}return i}(t),n)}function XW(t,n,i){for(var e=t["group-id"],r={iZ:t,UJ:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===e&&r.UJ.push(u)}return r}var qW,GW="und";function QW(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(n.n9([t],{}));case 2:return i=r.sent,e=new XM,r.abrupt("return",e.Dp(i.X8,i.Lf,KM(i.Lf)));case 5:case"end":return r.stop()}},null,null,null,we)}function YW(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.isMasterPlaylist){i.next=4;break}return i.abrupt("return",jW(t,n));case 4:return i.abrupt("return",(r=void 0,r=rX(e=t),{d_:e.duration,Ryt:[e.uri],Tyt:[{Dyt:[{nr:Qm.Ff,qp:[{nr:Qm.Ff,yl:GW,pl:[{_l:e.uri,jb:r,DS:0,ae:"",hk:0,nr:Qm.Ff,Rw:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,we)}function jW(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=WW(t.media,t.streams),s.next=3,nr.awrap($W(i,n));case 3:return e=s.sent,s.next=6,nr.awrap(JW(t.streams,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{d_:ZW(e),Ryt:[t.uri],Tyt:[{Dyt:e}]});case 9:case"end":return s.stop()}},null,null,null,we)}function ZW(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].qp;e<r.length;e++){var s=r[e];n=_.max.apply(_,[n].concat(s.pl.map(function(t){return t.jb.d_})))}return n}function JW(t,n){var i,e,r,s,u,o,h,a;return nr.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return h=t[e],c.next=6,nr.awrap(eX(h.uri,n));case 6:(a=c.sent).DS=h.bandwidth,a.ae=h.codecs,a.hk=null!=(r=null==(s=h.resolution)?void 0:s.height)?r:0,a.Rw=null!=(u=null==(o=h.resolution)?void 0:o.width)?u:0,i.push(a);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{nr:Qm.Ff,qp:[{yl:GW,nr:Qm.Ff,pl:i}]});case 16:case"end":return c.stop()}},null,null,null,we)}function $W(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],u.t0=nr.keys(t);case 2:if((u.t1=u.t0()).done){u.next=11;break}return e=u.t1.value,r=t[e],u.next=7,nr.awrap(KW(r,e,n));case 7:s=u.sent,i.push(s),u.next=2;break;case 11:return u.abrupt("return",i);case 12:case"end":return u.stop()}},null,null,null,we)}function KW(t,n,i){var e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=nr.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,nr.awrap(tX(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{nr:nX(n),qp:e});case 12:case"end":return o.stop()}},null,null,null,we)}function tX(t,n){var i,e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].iZ,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,nr.awrap(iX(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{yl:e.language||GW,nr:nX(e.type),pl:i});case 13:case"end":return o.stop()}},null,null,null,we)}function nX(t){switch(t.toUpperCase()){case"AUDIO":return Qm.Jf;case"VIDEO":return Qm.$f;case"SUBTITLES":case"CLOSED-CAPTIONS":return Qm.Pn;default:return Qm.Ff}}function iX(t,n){var i,e,r;return eX((e=(i=t).iZ.uri,r=i.UJ.map(function(t){return t.uri}),e||(r.length?r[0]:void 0)),n)}function eX(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=7;break}return r.next=3,nr.awrap(QW(t,n));case 3:e=r.sent,i=rX(e),r.next=8;break;case 7:i={d_:0,dK:[]};case 8:return r.abrupt("return",{_l:t||"default",Xyt:t,jb:i,DS:0,ae:"",hk:0,nr:Qm.Ff,Rw:0});case 9:case"end":return r.stop()}},null,null,null,we)}function rX(t){for(var n=[],i=0,e=t.fragments;i<e.length;i++){var r=e[i];n.push(sX(r))}return{d_:t.duration,dK:n}}function sX(t){return{tw:t.start,d_:t.duration,zyt:uX(t.uri)}}function uX(t){return rx(t)?{Mf:t.rj,sj:[t.sj.SR,t.sj.RR],sv:!1}:{Mf:t.toString(),sv:!1}}!function(t){t.EA="static",t.RA="dynamic"}(qW||(qW={}));var oX,hX=31536e3,aX=2592e3,cX=86400,fX=3600,vX=60,dX=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,lX=function(){function t(t){this.qyt=void 0;var n=t.match(dX);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.qyt=i*hX+e*aX+r*cX+s*fX+u*vX+o}var n=t.prototype;return n.Syt=function(){return this.qyt},n.Gyt=function(){return 1e3*this.qyt},A(t,[{key:"o1",get:function(){return Gy.Pm(this.qyt,1e3)}}]),t}();!function(t){t.Qyt="progressive",t.Yyt="interlaced",t.Ff="unknown"}(oX||(oX={}));var _X=function(){function t(t,n){this.jyt=t,this.Zyt=n}return t.prototype.Nw=function(){return this.jyt/this.Zyt},t}(),gX=/^(?:true|false)$/i,wX=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function mX(t){if(void 0!==t)return new lX(t)}function yX(t){if(void 0!==t){var n=t.match(wX);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(e),g=Number(r)-1,w=Number(s),y=Number(u),p=Number(o),k=Number(h),b=Number("0."+(a||"")),A=_.round(1e3*b);if(c)p-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,y,p,k,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function pX(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[bX(n[1]),bX(n[2])]}}function kX(t){if(void 0!==t){if(!m(Number(t)))try{return at.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function bX(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function AX(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new _X(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function TX(t){if(void 0!==t){if(gX.test(t))return"true"===t.toLowerCase();if(!m(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function SX(t){return{Mf:t.hi,Jyt:TX(t.ni("availabilityTimeComplete")),$yt:bX(t.ni("availabilityTimeOffset"))}}function EX(t){return t.map(SX)}function RX(t){var n,i,e,r,s,u,o=UX(t),h=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).ii(e,i))&&(s=n.ni(r+":"+i)),s),a=uk(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=iu(a.hi)),!u){var c=uk(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Ys(t.hi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),h=new Ku;Su(o,h,r),Su(o,h,1886614376),Su(o,h,0),yu(o,h,i),Su(o,h,e),yu(o,h,n),0;return u.buffer}(c))}return{qA:h,gyt:u,_yt:o._yt,qn:o.qn}}function IX(t){return{Kyt:t.ni("sourceURL"),sj:pX(t.ni("range"))}}function NX(t,n){var i=t.ni("d"),e=t.ni("t"),r=bX(t.ni("r"));n.push({d_:i,tw:e,tpt:r})}function DX(t){return{T6:t.ni("index"),npt:pX(t.ni("indexRange")),tk:t.ni("media"),ipt:pX(t.ni("mediaRange"))}}function CX(t){var n,i;return ir({},xX(t),{ept:(n=t.Yn("SegmentURL"),(i=n.map(DX)).length>0?i:void 0),rpt:t.ni("xlink:href"),spt:t.ni("xlink:actuate")})}function OX(t){var n=t.map(CX);return n.length>0?n:void 0}function PX(t){var n=TX(t.ni("availabilityTimeComplete")),i=bX(t.ni("availabilityTimeOffset")),e=pX(t.ni("indexRange")),r=TX(t.ni("indexRangeExact")),s=t.Yn("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one Initialization element.");var u=1===s.length?IX(s[0]):void 0,o=kX(t.ni("presentationTimeOffset")),h=t.Yn("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one RepresentationIndex element.");return{Jyt:n,$yt:i,npt:e,upt:r,hpt:u,apt:o,cpt:1===h.length?IX(h[0]):void 0,fpt:mX(t.ni("timeShiftBufferDepth")),bm:bX(t.ni("timescale"))}}function xX(t){var n=PX(t),i=t.Yn("BitstreamSwitching"),e=i.length>0?IX(i[0]):void 0,r=bX(t.ni("duration")),s=t.Yn("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one SegmentTimeline element.");return ir({},n,{vpt:e,d_:r,Byt:1===s.length?function(t){for(var n=[],i=t.Yn("S"),e=0;e<i.length;e++)NX(i[e],n);return n}(s[0]):void 0,dpt:bX(t.ni("startNumber")),lpt:bX(t.ni("endNumber"))})}function BX(t){return ir({},xX(t),{_pt:t.ni("bitstreamSwitching"),gpt:t.ni("index"),wpt:t.ni("initialization"),mpt:t.ni("media")})}function LX(t){return{rgt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(bX)):1===n.length?n.map(bX)[0]:void 0}}(t.ni("audioSamplingRate")),FZ:t.ni("codecs"),ypt:TX(t.ni("codingDependency")),byt:function(t){if(0!==t.length)return t.map(RX)}(t.Yn("ContentProtection")),ppt:t.Yn("EssentialProperty").map(FX),c$:AX(t.ni("frameRate")),hk:bX(t.ni("height")),Oyt:bX(t.ni("maxPlayoutRate")),kpt:bX(t.ni("maximumSAPPeriod")),XD:t.ni("mimeType"),bpt:t.ni("profiles"),Apt:t.ni("sar"),Tpt:function(t){switch(t){case oX.Qyt:case oX.Yyt:case oX.Ff:return t;default:return}}(t.ni("scanType")),Spt:t.ni("segmentProfiles"),Ept:bX(t.ni("startWithSAP")),Rw:bX(t.ni("width"))}}function MX(t){var n=LX(t),i=bX(t.ni("bandwidth")),e=EX(t.Yn("BaseURL")),r=t.ni("dependencyId"),s=t.ni("id"),u=t.ni("mediaStreamStructureId"),o=bX(t.ni("qualityRanking")),h=t.Yn("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?PX(h[0]):void 0,c=OX(t.Yn("SegmentList")),f=t.Yn("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return ir({},n,{DS:i,Rpt:e,Ipt:r,_l:s,Npt:u,Dpt:o,Cpt:a,Opt:c,Ppt:1===f.length?BX(f[0]):void 0})}function UX(t){return{_yt:t.ni("schemeIdUri"),qn:t.ni("value")}}function FX(t){return UX(t)}function HX(t){return UX(t)}function zX(t){return UX(t)}function VX(t){var n,i=LX(t),e=function(t){return t.map(zX)}(t.Yn("Accessibility")),r=EX(t.Yn("BaseURL")),s=TX(t.ni("bitstreamSwitching")),u=t.ni("contentType"),o=bX(t.ni("group")),h=bX(t.ni("id")),a=(null==(n=t.Yn("Label")[0])?void 0:n.hi)||"",c=t.ni("lang"),f=bX(t.ni("maxBandwidth")),d=AX(t.ni("maxFrameRate")),l=bX(t.ni("maxHeight")),_=bX(t.ni("maxWidth")),g=bX(t.ni("minBandwidth")),w=AX(t.ni("minFrameRate")),m=bX(t.ni("minHeight")),y=bX(t.ni("minWidth")),p=t.ni("par"),k=t.Yn("Representation").map(MX);if(0===k.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map(HX)}(t.Yn("Role")),A=TX(t.ni("segmentAlignment"))||!1,T=t.Yn("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?PX(T[0]):void 0,E=OX(t.Yn("SegmentList")),R=t.Yn("SegmentTemplate");if(R.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var I,N=1===R.length?BX(R[0]):void 0,D=bX(t.ni("selectionPriority")),C=D||1,O=TX(t.ni("subsegmentAlignment"))||!1;try{I=bX(t.ni("subsegmentStartsWithSAP"))}catch(t){}return ir({},i,{xpt:e,Rpt:r,vpt:s,mf:u,Bpt:o,_l:h,ml:a,yl:c,Lpt:f,Mpt:d,Upt:l,Fpt:_,Hpt:g,zpt:w,Vpt:m,Wpt:y,Xpt:p,Ayt:k,qpt:b,Gpt:A,Cpt:S,Opt:E,Ppt:N,QE:C,Qpt:O,Ypt:I,jpt:t.ni("xlink:actuate")||"onRequest",Zpt:t.ni("xlink:href")})}function WX(t){var n=kX(t.ni("presentationTime"))||at.ZERO,i=kX(t.ni("duration")),e=bX(t.ni("id")),r=function(t){for(var n=t.oi,i={},e=0;e<n.length;e++)i[n[e].Vn]=n[e].qn;return i}(t),s=t.hi;return{Cb:n,d_:i,_l:e,oi:r,ai:""!==s.trim()?s:t.ni("messageData")||""}}function XX(t){return{Zpt:t.ni("xlink:href"),jpt:t.ni("xlink:actuate"),_yt:t.ni("schemeIdUri"),qn:t.ni("value"),bm:bX(t.ni("timescale")),apt:kX(t.ni("presentationTimeOffset")),qD:t.Yn("Event").map(WX)}}function qX(t,n){var i=t.Yn("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?UX(i[0]):void 0,r=t.Yn("AdaptationSet").map(VX),s=EX(t.Yn("BaseURL")),u=TX(t.ni("bitstreamSwitching")),o=mX(t.ni("duration")),h=t.Yn("EventStream").map(XX),a=t.ni("id"),c=n&&mX(n.ni("start")),f=t.Yn("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?PX(f[0]):void 0,l=OX(t.Yn("SegmentBase")),_=t.Yn("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?BX(_[0]):void 0,w=mX(t.ni("start")),m=(t.Yn("Subset"),t.ni("xlink:href"));return{Cyt:r,Jpt:e,Rpt:s,vpt:u,d_:o,$pt:h,_l:a,Kpt:c,Cpt:d,Opt:l,Ppt:g,SR:w,jpt:t.ni("xlink:actuate"),Zpt:m}}function GX(t){var n=t.ni("schemeIdUri");if(n)return{_yt:n,qn:t.ni("value")}}function QX(t,n){var i=yX(t.ni("availabilityEndTime")),e=yX(t.ni("availabilityStartTime")),r=EX(t.Yn("BaseURL")),s=t.ni("id"),u=t.Yn("Location").map(function(t){return""+t.hi}),o=mX(t.ni("maxSegmentDuration")),h=mX(t.ni("maxSubsegmentDuration")),a=mX(t.ni("mediaPresentationDuration")),c=(t.Yn("Metrics"),mX(t.ni("minBufferTime")));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=mX(t.ni("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(qX(t[i],t[i+1]));return n}(t.Yn("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.ni("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{tkt:i,nkt:e,Rpt:r,_l:s,ikt:u,ekt:n,rkt:o,skt:h,Eyt:a,ukt:c,okt:f,Tyt:d,bpt:l,hkt:yX(t.ni("publishTime")),akt:mX(t.ni("suggestedPresentationDelay")),fpt:mX(t.ni("timeShiftBufferDepth")),nr:function(t){switch(t){case qW.EA:case qW.RA:return t;default:return}}(t.ni("type")),ckt:function(t){for(var n=[],i=0;i<t.length;i++){var e=GX(t[i]);e&&n.push(e)}return n}(t.Yn("UTCTiming"))}}var YX,jX=function(){function t(){}return t.prototype.kwt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return QX(t,n)}(i.Mn(t).ci,n)},t}(),ZX=0,JX=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).gl=void 0,u.Fg=void 0,u.fkt=void 0,u._l=n,u.DS=i,u.FZ=e,u.rj=s,u.gl=ZX++,u.Fg=r||"",u.fkt=!0,u}return S(n,t),n.prototype.lA=function(){this.fkt=!1,this.Fr(new Az(this.Ed))},A(n,[{key:"ml",get:function(){return this.Fg},set:function(t){this.Fg!==t&&(this.Fg=t,this.Fr(new Az(this.Ed)))}},{key:"zZ",get:function(){}},{key:"DQ",get:function(){return this.fkt}}]),n}(Cs),$X=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,e,r,s)||this).Sd=void 0,c.c$=u,c.Rw=o,c.hk=h,c.egt=a,c}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Tz(this)),this.Sd}}]),n}(JX),KX=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Sd=void 0,o.rgt=u,o}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Sz(this)),this.Sd}}]),n}(JX);!function(t){t.vkt="dkt",t.lkt="_kt"}(YX||(YX={}));var tq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).gkt=function(t){n.Fr(t)},n}return S(n,t),A(n,[{key:"wkt",get:function(){var t=this.mkt();return null==t?void 0:t.SR}},{key:"ykt",get:function(){var t=this.mkt();return null==t?void 0:t.RR}}]),n}(Cs);function nq(t){return Y(t.pkt)}var iq=function(t){function n(n,i){var e;if((e=t.call(this)||this).kkt=void 0,e.Sd=void 0,e.bkt=void 0,e.Akt=void 0,e.Tkt=void 0,e.kkt=n,e.bkt=i,e.bkt.Hr(YX.vkt,e.gkt),e.nr===Qm.$f){var r,s,u=null!=(r=null==(s=e.c$)?void 0:s.Nw())?r:NaN;e.Akt=new $X(e._l,e.DS,e.ae,"","",u,e.Rw,e.hk)}else e.nr===Qm.Jf?e.Akt=new KX(e._l,e.DS,e.ae,"","",e.rgt):e.Akt=void 0;return e}S(n,t);var i=n.prototype;return i.Vyt=function(t){var n=nq(t)?this.bkt.Skt(t):this.bkt.Vyt(t);return{Mf:n.Mf,sj:n.sj,sv:this.Ekt.sv}},i.Rkt=function(){return this.bkt.Rkt()},i.mkt=function(){return this.bkt.mkt()},i.Ikt=function(){return this.bkt.Ikt()},i.Myt=function(t){return this.bkt.Myt(t)},i.Uyt=function(t,n,i){return this.bkt.Uyt(t,this.Ekt.sv,n,i)},i.Nkt=function(t){return nq(t)?this.Byt.Dkt(t):this.Byt.Nkt(t)},i.f5=function(t){return nq(t)?this.Byt.Ckt(t):this.Byt.f5(t)},i.hv=function(){this.bkt.Xr(YX.vkt,this.gkt)},A(n,[{key:"Okt",get:function(){return this.kkt}},{key:"rgt",get:function(){var t;return null!=(t=this.bkt.ai.rgt)?t:this.Okt.rgt}},{key:"DS",get:function(){return this.bkt.ai.DS||0}},{key:"FZ",get:function(){var t=this.bkt.ai;return t.FZ?[t.FZ]:this.Okt.FZ}},{key:"Pkt",get:function(){var t=this.bkt.ai;return t.FZ?[t.FZ]:[]}},{key:"ae",get:function(){return this.bkt.ai.FZ||this.Okt.ae}},{key:"ypt",get:function(){return this.bkt.ai.ypt||this.Okt.ypt}},{key:"byt",get:function(){return this.bkt.ai.byt||this.Okt.byt}},{key:"mf",get:function(){return this.XD+'; codecs="'+this.ae+'"'}},{key:"ppt",get:function(){var t=this.bkt.ai;return t.ppt.length?t.ppt:this.Okt.ppt}},{key:"Ed",get:function(){return this.Sd||(this.Sd=(t=this,{get id(){return t._l},get type(){return t.nr},get bandwidth(){return t.DS},get width(){return t.Rw},get height(){return t.hk},get frameRate(){var n,i;return null!=(n=null==(i=t.c$)?void 0:i.Nw())?n:NaN},get audioSamplingRate(){return t.rgt}}));var t}},{key:"c$",get:function(){var t;return null!=(t=this.bkt.ai.c$)?t:this.Okt.c$}},{key:"hk",get:function(){return this.bkt.ai.hk||this.Okt.hk}},{key:"_l",get:function(){return this.bkt.ai._l||""}},{key:"r4",get:function(){return this.Tkt},set:function(t){this.Tkt=t}},{key:"P8",get:function(){var t=this.bkt.xkt();if(t)return{Mf:t.Mf,sj:t.sj,sv:this.Ekt.sv}}},{key:"Oyt",get:function(){return this.bkt.ai.Oyt||this.Okt.Oyt||1}},{key:"kpt",get:function(){return this.bkt.ai.kpt||this.Okt.kpt}},{key:"Ekt",get:function(){return this.Wyt.Ekt}},{key:"XD",get:function(){return this.bkt.ai.XD||this.Okt.XD}},{key:"Wyt",get:function(){return this.Okt.Wyt}},{key:"bpt",get:function(){return this.bkt.ai.bpt||this.Okt.bpt}},{key:"tgt",get:function(){return this.Akt}},{key:"Apt",get:function(){return this.bkt.ai.Apt||this.Okt.Apt}},{key:"Tpt",get:function(){return this.bkt.ai.Tpt||this.Okt.Tpt}},{key:"Bkt",get:function(){return this.bkt.Bkt}},{key:"Spt",get:function(){return this.bkt.ai.Spt||this.Okt.Spt}},{key:"Byt",get:function(){return this.bkt.Byt}},{key:"Ept",get:function(){return this.bkt.ai.Ept||this.Okt.Ept}},{key:"nr",get:function(){var t=this.XD.split("/")[0];return"application"===t||"text"===t||Pk(this.XD,this.FZ)?Qm.Pn:"video"===t?Qm.$f:"audio"===t?Qm.Jf:"image"===t?Qm.Kf:Qm.Ff}},{key:"Rw",get:function(){return this.bkt.ai.Rw||this.Okt.Rw}}]),n}(tq),eq=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lkt=[],e.bkt=void 0,e.Mkt=void 0,e.Ukt=[],e.Mkt=n,e.bkt=i,e.bkt.Hr(YX.vkt,e.gkt),e}S(n,t);var i=n.prototype;return i.Zo=function(t,n){var i,e=this;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.Ukt.length){r.next=6;break}return this.Ukt=[],i=this.bkt.Ayt.map(function(i){return e.Fkt(i,t,n)}),r.next=5,nr.awrap(we.all(i));case 5:this.Ukt=r.sent.filter(F);case 6:this.Hkt();case 7:case"end":return r.stop()}},null,this,null,we)},i.Fkt=function(t,n,i){var e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new iq(this,t),s.next=3,nr.awrap(n(e));case 3:if(r=s.sent,ws(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,we)},i.Hkt=function(){if(!this.Ukt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.mkt=function(){return this.bkt.mkt()},i.Ikt=function(){return this.bkt.Ikt()},i.hv=function(){this.bkt.Xr(YX.vkt,this.gkt);for(var t=0,n=this.Ukt;t<n.length;t++){n[t].hv()}as(this.Ukt)},A(n,[{key:"xpt",get:function(){return this.bkt.ai.xpt}},{key:"rgt",get:function(){var t;return null!=(t=this.bkt.ai.rgt)?t:-1}},{key:"FZ",get:function(){if(this.bkt.ai.FZ)return[this.bkt.ai.FZ];for(var t=[],n=0,i=this.Ayt;n<i.length;n++){var e=i[n];e.Pkt.length&&-1===t.indexOf(e.ae)&&t.push(e.ae)}return t}},{key:"ae",get:function(){return this.FZ.join()}},{key:"ypt",get:function(){return this.bkt.ai.ypt}},{key:"byt",get:function(){return this.bkt.ai.byt}},{key:"mf",get:function(){return this.XD+'; codecs="'+this.ae+'"'}},{key:"ppt",get:function(){return this.Lkt}},{key:"c$",get:function(){return this.bkt.ai.c$}},{key:"Bpt",get:function(){return this.bkt.ai.Bpt}},{key:"hk",get:function(){return this.bkt.ai.hk||0}},{key:"_l",get:function(){return this.bkt.ai._l}},{key:"ml",get:function(){return this.bkt.ai.ml||""}},{key:"Oyt",get:function(){return this.bkt.ai.Oyt}},{key:"kpt",get:function(){return this.bkt.ai.kpt}},{key:"Ekt",get:function(){return this.Wyt.Ekt}},{key:"XD",get:function(){return this.bkt.ai.XD||this.Ukt[0].XD}},{key:"Wyt",get:function(){return this.Mkt}},{key:"bpt",get:function(){return this.bkt.ai.bpt}},{key:"Ayt",get:function(){return this.Ukt}},{key:"qpt",get:function(){return this.bkt.ai.qpt||[]}},{key:"Apt",get:function(){return this.bkt.ai.Apt}},{key:"Tpt",get:function(){return this.bkt.ai.Tpt}},{key:"Spt",get:function(){return this.bkt.ai.Spt}},{key:"QE",get:function(){return this.bkt.ai.QE}},{key:"Ept",get:function(){return this.bkt.ai.Ept}},{key:"nr",get:function(){var t=(this.bkt.ai.mf||this.XD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||Pk(this.XD,this.FZ)?Qm.Pn:"video"===t?Qm.$f:"audio"===t?Qm.Jf:"image"===t?Qm.Kf:Qm.Ff}},{key:"Rw",get:function(){return this.bkt.ai.Rw||0}},{key:"Pyt",get:function(){return this.bkt.ai.yl||""}},{key:"zkt",get:function(){return this.wkt}},{key:"Vkt",get:function(){var t=this.zkt,n=this.ykt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.Ekt.Wkt);return _.max(t,i)}}}]),n}(tq);function rq(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Ce(o,s))}return e}var sq=function(){function t(t,n){this.Mkt=void 0,this.Xkt=void 0,this.bu=void 0,this.qkt=void 0,this.Gkt=void 0,this.Mkt=t,this.Xkt=n,this.bu=n.bm,this.qkt=n.$yt,this.Gkt=n.apt}var n=t.prototype;return n.Qkt=function(t){var n=t-this.Mkt.SR;if(!(n<0||n>=this.Mkt.d_)){var i=this.Ykt();return void 0!==i&&vt(i,n,1e-5)?this.Lyt():this.jkt(n)}},n.Zkt=function(t){var n=t-this.Mkt.SR;if(!(n<0))return this.Jkt(_.min(n,this.Mkt.d_))},n.Lyt=function(){return this.$kt(0)},n.Hyt=function(){var t=this.Mkt.d_;if(isFinite(t))return this.Jkt(t)},n.Rkt=function(t){if(this.Mkt.Kkt.nr===qW.RA){var n=this.tbt(t);if(!n)return;return{nbt:t,ibt:this.ebt(t),rbt:n}}var i=this.Lyt();if(i)return{nbt:t,ibt:i,rbt:this.Hyt()}},n.Ikt=function(t,n){if(n){var i=this.sbt(n.ibt),e=this.Wdt(n.rbt);if(e){var r=this.ubt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Lyt();if(s){var u=this.ubt(s);if(t.getTime()<u.getTime())return u}var o=this.Mkt.Kkt.nkt;return t.getTime()<o.getTime()?o:void 0},n.tbt=function(t){var n=(t.getTime()-this.Mkt.Kkt.nkt.getTime())/1e3-this.Mkt.SR+this.qkt,i=this.Jkt(ft(n,0,this.Mkt.d_));if(i&&(i=this.obt(i,t))){for(var e=this.Wdt(i);e&&this.hbt(e,t);)i=e,e=this.Wdt(i);return i}},n.ebt=function(t){var n,i=this.Xkt.fpt;if(i){var e=(t.getTime()-this.Mkt.Kkt.nkt.getTime())/1e3-this.Mkt.SR-i.Syt();(n=this.Jkt(ft(e,0,this.Mkt.d_)))||(n=this.Lyt())}else n=this.Lyt();if(n&&(n=this.obt(n,t))){for(var r=this.abt(n);r&&this.hbt(r,t);)n=r,r=this.abt(n);return n}},n.obt=function(t,n){for(var i=t;i&&this.ubt(i).getTime()>n.getTime();)i=this.abt(i);if(i){var e=this.sbt(i);if(e&&e.getTime()<=n.getTime()){var r=this.abt(i);for(r&&this.hbt(r,n)&&(i=r);i;){if(this.ubt(i).getTime()>n.getTime())return;if(this.hbt(i,n))break;i=this.Wdt(i)}if(!i)return}return i}},n.hbt=function(t,n){if(this.ubt(t).getTime()>n.getTime())return!1;var i=this.sbt(t);return!(i&&n.getTime()>=i.getTime())},n.cbt=function(t,n){if(this.fbt(t).getTime()>n.getTime())return!1;var i=this.sbt(t);return!(i&&n.getTime()>=i.getTime())},n.vbt=function(t,n,i){var e=kt(n,this.bu)+this.Mkt.SR;return{T6:t,dbt:n,tw:e,d_:i,nw:e+i}},n.fbt=function(t){return this.Mkt.Kkt.nr===qW.RA?new Date(this.Mkt.Kkt.nkt.getTime()+1e3*(t.tw+t.d_)):this.Mkt.Kkt.nkt},n.ubt=function(t){var n=this.fbt(t);return this.Mkt.Kkt.nr===qW.RA?new Date(n.getTime()-1e3*this.qkt):n},n.sbt=function(t){var n=1/0;if(this.Mkt.Kkt.nr===qW.RA){var i=this.Xkt.fpt;i&&(n=this.fbt(t).getTime()+1e3*t.d_+i.Gyt())}var e=this.Mkt.Kkt.tkt;return e&&(n=_.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.lbt=function(t,n){return t.T6+n},n.Myt=function(t){return!1},n.Uyt=function(t,n,i,e,r){var s=this._bt(t);if(!s)return we.reject(new v("Invalid segment"));var u=this.gbt(s.T6);return u?we.resolve(u):this.wbt(s.T6,n,i,e,r)},n.gbt=function(t){},n.wbt=function(t,n,i,e,r){return we.reject(new v("Not supported"))},n.abt=function(t){var n=this._bt(t);if(n)return this.$kt(n.T6-1)},n.Wdt=function(t){var n=this._bt(t);if(n)return this.$kt(n.T6+1)},n._bt=function(t){var n=this.$kt(t.T6);if(n&&n.tw===t.tw)return n;var i=this.Qkt(t.tw);return i&&i.tw===t.tw?i:void 0},n.mbt=function(t){var n=this.ybt(t);if(n&&this.Myt(n.T6)){var i=this.gbt(n.T6);if(i)return i.mbt(t)}},n.ybt=function(t){return this.$kt(t.pbt)},n.Nkt=function(t){var n=this._bt(t);return!!n&&0===n.T6},n.Dkt=function(t){var n=this.mbt(t);return!!n&&0===n.pkt},n.f5=function(t){var n=this._bt(t);if(!n)return!1;var i=this.Hyt();return!!i&&n.T6===i.T6},n.Ckt=function(t){var n=this.mbt(t);if(!n)return!1;var i=this.Hyt();if(!i||n.pbt!==i.T6)return!1;var e=this.gbt(n.pbt);return n.pkt+1===e.sl},A(t,[{key:"Km",get:function(){return this.Mkt.SR-kt(this.Gkt,this.bu)}},{key:"apt",get:function(){return kt(this.Gkt,this.bu)}}]),t}(),uq=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).kbt=void 0,e.bbt=void 0;var r=n.Abt,s=n.d_;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.bbt=r,e.kbt=s,e}S(n,t);var i=n.prototype;return i.$kt=function(t){if(!(t<0)){var n=this.bbt.multiply(t),i=kt(n,this.bu),e=this.Mkt.d_;if(!(i>=e)){var r=this.Tbt();if(void 0!==r){if(t>r)return;if(t===r)return this.vbt(t,n,e-i)}return isFinite(e)&&i+this.kbt>e?this.vbt(t,n,e-i):this.vbt(t,n,this.kbt)}}},i.Ykt=function(){return 0},i.jkt=function(t){var n=_.floor(t/this.kbt),i=this.Tbt();return void 0!==i&&n>=i?this.$kt(i):this.$kt(n)},i.Jkt=function(t){if(t>=this.Mkt.d_){var n=_.ceil(this.Mkt.d_/this.kbt)-1,i=this.Tbt();return void 0!==i&&n>=i?this.$kt(i):this.$kt(n)}return this.jkt(t)},i.Tbt=function(){var t,n=this.Xkt.lpt;if(void 0!==n)return n-(null!=(t=this.Xkt.dpt)?t:1);if(isFinite(this.Mkt.d_)){var i=this.Xkt.Sbt;if(void 0!==i&&i>0)return i-1}},i.Ebt=function(){if(isFinite(this.Mkt.d_))return this.Hyt()},i.Rbt=function(t,n){return this.bbt.multiply(t.T6+(n-1))},i.Zo=function(){},n}(sq);function oq(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].tw,u=t[r].nw;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),h=t[o],a=h.tw,c=o+1<i?t[o+1].tw:h.nw;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(a))return o;r=o-1,u=a}}return-1}var hq=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).Ibt=[],e.Nbt=void 0,e.Dbt=at.ZERO,e.Zo(),e}S(n,t);var i=n.prototype;return i.$kt=function(t){if(!(t<0))return t<this.Ibt.length?this.Ibt[t].Mdt:this.Cbt(t-this.Ibt.length)},i.Ykt=function(){if(this.Ibt.length>0)return kt(this.Ibt[0].tw,this.bu)},i.jkt=function(t){if(this.Nbt&&kt(this.Nbt.tw,this.bu)<=t){var n=kt(this.Nbt.tw,this.bu),i=kt(this.Nbt.d_,this.bu),e=_.floor((t-n)/i);return this.Cbt(e)}if(this.Ibt.length>0&&vt(t,kt(this.Ibt[0].tw,this.bu),1e-5))return this.Ibt[0].Mdt;var r=oq(this.Ibt,at.fromNumber(t*this.bu));return r<0?void 0:this.Ibt[r].Mdt},i.Jkt=function(t){if(!this.Nbt&&this.Ibt.length>0){var n=this.Ibt[this.Ibt.length-1];if(i=t,e=kt(n.nw,this.bu),is(i,e,1e-5)>=0)return n.Mdt}var i,e,r=this.Ykt();return r&&t<r?this.Ibt[0].Mdt:this.jkt(t)},i.Ebt=function(){return isFinite(this.Mkt.d_)?this.Hyt():this.$kt(this.Ibt.length-1)},i.Rbt=function(t){return this.Obt(t)},i.Cbt=function(t){if(this.Nbt){var n=this.Nbt.tw,i=this.Nbt.d_,e=n.add(i.multiply(t)),r=kt(e,this.bu),s=this.Mkt.d_;if(!(r>=s)){var u=this.Ibt.length+t,o=_.min(kt(i,this.bu),r+s);return this.vbt(u,e,o)}}},i.Obt=function(t){return t.dbt.add(this.Gkt)},i.Zo=function(){var t=this.Xkt.ai.Byt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Pbt(t)},i.Pbt=function(t){var n=this.Gkt;this.xbt(t,n);var i=this.Bbt(t);this.Lbt(t,n,i.Mbt,i.pbt)},i.xbt=function(t,n){var i=this.Ibt;if(0===t.length)as(i);else{for(var e=t[0],r=e.tw?at.fromString(e.tw,!1).subtract(n):at.ZERO,s=0;s<i.length&&i[s].tw.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Bbt=function(t){for(var n=this.Ibt,i=this.Dbt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].tpt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].tw.greaterThanOrEqual(i))break;if(n[r].Mdt.T6===r)r=u+1;else for(;r<=u;)n[r].Mdt.T6=r,r++;0,e++}return{Mbt:e,pbt:r}},i.Lbt=function(t,n,i,e){for(var r,s=this.Ibt,u=i,o=e;u<t.length;){var h=t[u],a=at.fromString(h.d_,!1),c=h.tpt||0,f=void 0;if(h.tw){if(f=at.fromString(h.tw,!1).subtract(n),o>0){var v=s[o-1];v.nw.greaterThan(f)&&(v.d_=f.subtract(v.tw),v.nw=v.tw.add(v.d_))}}else f=o>0?s[o-1].nw:at.ZERO;if(c<0){if(u+1===t.length){r={tw:f,d_:a};break}for(var d=at.fromString(t[u+1].tw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.Ubt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.Ubt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Dbt=s[s.length-1].tw),this.Nbt=r},i.Ubt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.d_.equals(e)?s.Mdt.T6=n:t[n]={tw:i,d_:e,nw:r,Mdt:this.vbt(n,i,kt(e,this.bu))}}else t.push({tw:i,d_:e,nw:r,Mdt:this.vbt(n,i,kt(e,this.bu))})},n}(sq),aq=function(){function t(t,n,i){this.Wyt=void 0,this.Fbt=void 0,this.di=void 0,this.Hbt=void 0,this.zbt=void 0,this.Wyt=t,this.Fbt=n,this.di=i}var n=t.prototype;return n.Vbt=function(){if(this.zbt=this.Wbt(),this.zbt)return this.zbt;if(this.Fbt)return this.Fbt.Byt;throw new v("Missing media segment information.")},n.xkt=function(t){var n=this.hpt;if(n)return{Mf:(void 0!==n.Kyt?i.Ce(n.Kyt,t.Rpt[0]):t.Rpt[0]).href,sj:n.sj};var e=this.npt;return e?{Mf:t.Rpt[0].href,sj:[0,e[0]-1]}:void 0},n.Zo=function(t){this.di=t,this.zbt&&this.zbt.Zo()},A(t,[{key:"ai",get:function(){return this.di}},{key:"$yt",get:function(){return this.di&&void 0!==this.di.$yt?this.di.$yt:this.Fbt?this.Fbt.$yt:0}},{key:"apt",get:function(){return this.di&&void 0!==this.di.apt?this.di.apt:this.Fbt?this.Fbt.apt:at.ZERO}},{key:"fpt",get:function(){return this.di&&void 0!==this.di.fpt?this.di.fpt:this.Fbt?this.Fbt.fpt:this.Wyt.Kkt.fpt}},{key:"bm",get:function(){return this.di&&void 0!==this.di.bm?this.di.bm:this.Fbt&&this.Fbt.bm?this.Fbt.bm:1}},{key:"npt",get:function(){return this.di&&void 0!==this.di.npt?this.di.npt:this.Fbt?this.Fbt.npt:void 0}},{key:"hpt",get:function(){return this.di&&void 0!==this.di.hpt?this.di.hpt:this.Fbt?this.Fbt.hpt:void 0}},{key:"Byt",get:function(){return this.Hbt||(this.Hbt=this.Vbt()),this.Hbt}}]),t}(),cq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Wbt=function(){return this.di.Byt?new hq(this,this.Wyt):void 0!==this.di.d_?new uq(this,this.Wyt):void 0},A(n,[{key:"d_",get:function(){return void 0!==this.di.d_?this.di.d_/this.bm:this.Fbt&&this.Fbt instanceof n?this.Fbt.d_:void 0}},{key:"Abt",get:function(){return void 0!==this.di.d_?at.fromNumber(this.di.d_):this.Fbt&&this.Fbt instanceof n?this.Fbt.Abt:void 0}},{key:"dpt",get:function(){return void 0!==this.di.dpt?this.di.dpt:this.Fbt&&this.Fbt instanceof n?this.Fbt.dpt:void 0}},{key:"lpt",get:function(){return void 0!==this.di.lpt?this.di.lpt:this.Fbt&&this.Fbt instanceof n?this.Fbt.lpt:void 0}}]),n}(aq),fq=function(){function t(t){this.Xbt=void 0,this.Xbt=t}return t.prototype.Is=function(t){return this.Xbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=Hr(u,Number(e),"0")})},t}();var vq=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).qbt=void 0,r.Gbt=void 0,r.qbt=e.wpt?new fq(e.wpt):void 0,r.Gbt=e.mpt?new fq(e.mpt):void 0,r}S(n,t);var e=n.prototype;return e.xkt=function(n){var e=this.wpt;if(!e)return t.prototype.xkt.call(this,n);var r=e.Is({Bandwidth:n.ai.DS,RepresentationID:n.ai._l});return{Mf:i.Oe(r,n.Rpt[0])}},e.Vyt=function(t,n){var e,r=null!=(e=n.Bkt.dpt)?e:1,s=this.mpt.Is({Bandwidth:n.ai.DS,Number:n.Byt.lbt(t,r),RepresentationID:n.ai._l,Time:n.Byt.Rbt(t,r)});return{Mf:i.Oe(s,n.Rpt[0])}},e.Skt=function(t,n){},A(n,[{key:"wpt",get:function(){return this.qbt?this.qbt:this.Fbt&&this.Fbt instanceof n?this.Fbt.wpt:void 0}},{key:"mpt",get:function(){return this.Gbt?this.Gbt:this.Fbt&&this.Fbt instanceof n?this.Fbt.mpt:void 0}},{key:"Sbt",get:function(){}}]),n}(cq),dq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.Vyt=function(t,n){var e=this.di.ept[t.T6],r=n.Rpt[0];return{Mf:(e.tk?i.Ce(e.tk,r):r).href,sj:e.ipt}},e.Skt=function(t,n){},A(n,[{key:"Sbt",get:function(){return void 0!==this.di.ept?this.di.ept.length:this.Fbt&&this.Fbt instanceof cq?this.Fbt.Sbt:void 0}}]),n}(cq),lq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).pbt=void 0,u.Qbt=void 0,u.bm=void 0,u.Ybt=void 0,u.apt=void 0,u.jbt=void 0,u.pbt=n,u.Qbt=i,u.bm=e.bm,u.Ybt=r,u.apt=s,u.jbt=u.Zbt(e),u}S(n,t);var i=n.prototype;return i.Fyt=function(t){if(t>=0&&t<this.sl)return this.Jbt(this.jbt[t])},i.$bt=function(t){var n=this.Kbt(t);if(this.jbt.length>0){var i=this.jbt[0];if(n<=kt(i.tw,this.bm))return this.Jbt(i)}var e=oq(this.jbt,at.fromNumber(n*this.bm));if(!(e<0))return this.Jbt(this.jbt[e])},i.tAt=function(t){var n=this.Kbt(t);if(this.jbt.length>0){var i=this.jbt[this.jbt.length-1];if(n>=kt(i.nw,this.bm))return this.Jbt(i)}return this.$bt(t)},i.Jbt=function(t){var n=kt(t.tw,this.bm)-this.apt,i=n+this.Ybt,e=kt(t.d_,this.bm);return{pbt:this.pbt,pkt:t.T6,tw:i,dbt:at.fromNumber(n*this.bm),d_:e,nw:i+e,nAt:[this.Qbt+t.Qbt,this.Qbt+t.iAt]}},i.Zbt=function(t){for(var n=[],i=t.Gb,e=t.Qb.toNumber(),r=0,s=0,u=t.jb;s<u.length;s++){var o=u[s],h=o.zb,a=at.fromNumber(o.d_),c=i.add(a);0===o.Hb&&n.push({T6:r++,tw:i,d_:a,nw:c,Qbt:e,iAt:e+h-1}),e+=h,i=c}return n},i.Kbt=function(t){return t-this.Ybt+this.apt},A(n,[{key:"sl",get:function(){return this.jbt.length}}]),n}(function(){function t(){}return t.prototype.mbt=function(t){var n=this.Fyt(t.pkt);if(n&&n.tw===t.tw)return n;var i=this.$bt(t.tw);return i&&i.tw===t.tw?i:void 0},t}()),_q=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).eAt=void 0,e.ydt=void 0,e.rAt=void 0,e.eAt=n.npt,e.ydt=e.vbt(0,at.ZERO,e.Mkt.d_),e}S(n,t);var i=n.prototype;return i.$kt=function(t){if(0===t)return this.ydt},i.Ykt=function(){return 0},i.jkt=function(t){return this.ydt},i.Jkt=function(t){return this.jkt(t)},i.Ebt=function(){return this.ydt},i.Rbt=function(t,n){return at.ZERO},i.Rkt=function(t){var n=this.sAt(t);return n&&{nbt:t,ibt:n,rbt:n}},i.sAt=function(t){var n=this.ydt;return this.hbt(n,t)?n:void 0},i.tbt=function(t){return this.sAt(t)},i.ebt=function(t){return this.sAt(t)},i.Zo=function(){},i.Myt=function(t){return 0===t&&void 0!==this.eAt},i.gbt=function(t){return this.rAt},i.wbt=function(t,n,i,e,r){var s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return s=n.Rpt[0].href,u=this.eAt,h.next=4,nr.awrap(e.uAt(s,u,i,r));case 4:return o=h.sent,this.rAt=this.oAt(t,o),h.abrupt("return",this.rAt);case 7:case"end":return h.stop()}},null,this,null,we)},i.oAt=function(t,n){var i=this.eAt,e=Zp.pp(new DataView(n),new Ku);if(e.nr!==up.qy)throw new v("Invalid segment index");var r=nk.Hp(e.ai),s=i[1]+1;return new lq(t,s,r,this.Mkt.SR,kt(this.Gkt,this.bu))},n}(sq),gq=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Vyt=function(t,n){return{Mf:n.Rpt[0].href}},i.Skt=function(t,n){return{Mf:n.Rpt[0].href,sj:t.nAt}},i.Wbt=function(){return new _q(this,this.Wyt)},A(n,[{key:"dpt",get:function(){}}]),n}(aq),wq=function(t){function n(){return t.call(this,YX.vkt)||this}return S(n,t),n}(Ps);var mq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rd=void 0,r.di=void 0,r.hAt=void 0,r.Xkt=void 0,r.aAt=1/0,r.cAt=void 0,r.rd=i,r.fAt(n,e),r}S(n,t);var i=n.prototype;return i.vAt=function(){return this.Xkt||this.rd&&this.rd.vAt()},i.dAt=function(t){var n=this.Wyt,i=this.rd&&this.rd.vAt();this.di.Ppt?this.Xkt=new vq(n,i,this.di.Ppt):this.di.Opt?this.Xkt=new dq(n,i,this.di.Opt[0]):this.di.Cpt?this.Xkt=new gq(n,i,this.di.Cpt):t&&!i&&(this.Xkt=new gq(n,i,void 0))},i.fAt=function(t,n){this.di=t,this.hAt=t.Rpt&&t.Rpt.length>0?rq(t.Rpt.map(function(t){return t.Mf}),n):n.slice(),this.Xkt&&(t.Ppt?this.Xkt.Zo(t.Ppt):t.Opt?this.Xkt.Zo(t.Opt[0]):t.Cpt&&this.Xkt.Zo(t.Cpt))},i.mkt=function(){var t;return null==(t=this.cAt)?void 0:t.lAt},i.Ikt=function(){var t;return null==(t=this.cAt)?void 0:t._At},i.gAt=function(t){var n=this.aAt,i=this.Wyt.d_,e=this.cAt,r=this.wAt(t);e&&vt(i,n,1e-5)&&bq(e,r)||(this.aAt=i,this.cAt=r,this.Fr(new wq))},i.Sr=function(){this.Wr()},A(n,[{key:"ai",get:function(){return this.di}},{key:"Rpt",get:function(){return this.hAt}}]),n}(Cs);function yq(t){for(var n,i=0;i<t.length;i++){var e=t[i].mkt();if(e){n=e.SR;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].mkt();if(u){r=u.RR;break}}if(void 0!==r)return{SR:n,RR:r}}}function pq(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].mkt();if(!r)return;if((n=_.max(n,r.SR))>=(i=_.min(i,r.RR)))return}return{SR:n,RR:i}}}function kq(t){for(var n,i=0;i<t.length;i++){var e=t[i].Ikt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function bq(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t._At,n._At)&&function(t,n){return t&&n?vt(t.SR,n.SR,1e-5)&&vt(t.RR,n.RR,1e-5):t===n}(t.lAt,n.lAt)}var Aq=function(t){function n(n,i,e){var r;(r=t.call(this)||this).Mkt=void 0,r.Bo=void 0,r.mAt=void 0,r.Mkt=n,r.Bo=i,r.mAt=e.slice();for(var s=0;s<e.length;s++){e[s].Hr(YX.vkt,r.gkt)}return r}S(n,t);var i=n.prototype;return i.mkt=function(){return pq(this.mAt)},i.Ikt=function(){for(var t,n=0,i=this.mAt;n<i.length;n++){var e=i[n].Ikt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.hv=function(){this.Wr();for(var t=0,n=this.mAt;t<n.length;t++){n[t].Xr(YX.vkt,this.gkt)}},A(n,[{key:"Cyt",get:function(){return this.mAt}},{key:"FZ",get:function(){return this.Cyt.reduce(function(t,n){for(var i=0,e=n.FZ;i<e.length;i++){var r=e[i];hs(t,r)||t.push(r)}return t},[])}},{key:"ae",get:function(){return this.FZ.length>0?this.FZ[0]:""}},{key:"nr",get:function(){return this.mAt[0].nr}},{key:"_l",get:function(){return this.Bo}},{key:"Ekt",get:function(){return this.Mkt.Ekt}},{key:"XD",get:function(){return this.mAt[0].XD}},{key:"Wyt",get:function(){return this.Mkt}},{key:"Ayt",get:function(){return cs(this.Cyt,function(t){return t.Ayt})}}]),n}(tq),Tq=function(t){function n(){return t.call(this,YX.lkt)||this}return S(n,t),n}(Ps);function Sq(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Bpt;void 0===s||(r=rs(n,function(t){return t._l===s})),r||(r={_l:s,Cyt:[]},n.push(r)),r.Cyt.push(e)},e=0;e<t.length;e++)i(e);return n}var Eq,Rq=function(t){function n(n,i){var e;return(e=t.call(this)||this).bkt=void 0,e.mAt=[],e.yAt=[],e.pAt=void 0,e.kAt=!1,e.pAt=n,e.bkt=i,e.bkt.Hr(YX.vkt,e.gkt),e}S(n,t);var i=n.prototype;return i.bAt=function(t,n){if(0!==this.yAt.length){for(var i=t,e=0,r=this.yAt;e<r.length;e++){var s=r[e],u=s.nr;if(u===Qm.Jf||u===Qm.$f){var o=s.ykt;if(void 0===o)return;i=n(i,o)}}return i}},i.AAt=function(){this.kAt||(this.kAt=!0,this.Fr(new Tq),this.hv())},i.Zo=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.mAt.length){i.next=7;break}return i.next=3,nr.awrap(this.TAt(this.bkt.Cyt,t,n));case 3:this.SAt(this.mAt),ws(n),i.next=9;break;case 7:return i.next=9,nr.awrap(this.EAt(t,n));case 9:case"end":return i.stop()}},null,this,null,we)},i.TAt=function(t,n,i){var e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new eq(this,r),u.prev=4,u.next=7,nr.awrap(s.Zo(n,i));case 7:this.mAt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),ms(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],we)},i.SAt=function(t){for(var n=Sq(t),i=0;i<n.length;i++){var e=n[i],r=new Aq(this,e._l,e.Cyt);this.yAt.push(r)}},i.EAt=function(t,n){var i,e,r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.mAt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,nr.awrap(r.Zo(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,we)},i.mkt=function(){return this.bkt.mkt()},i.Ikt=function(){return this.bkt.Ikt()},i.hv=function(){this.Wr(),this.bkt.Xr(YX.vkt,this.gkt);for(var t=0,n=this.yAt;t<n.length;t++){n[t].hv()}for(var i=0,e=this.mAt;i<e.length;i++){e[i].hv()}as(this.mAt),as(this.yAt)},A(n,[{key:"Cyt",get:function(){return this.mAt}},{key:"Nyt",get:function(){return this.yAt}},{key:"Jpt",get:function(){return this.bkt.ai.Jpt}},{key:"d_",get:function(){return this.bkt.d_}},{key:"RR",get:function(){return this.SR+this.d_}},{key:"$pt",get:function(){return this.bkt.ai.$pt||[]}},{key:"_l",get:function(){return this.bkt._l}},{key:"_kt",get:function(){return this.kAt}},{key:"Ekt",get:function(){return this.pAt}},{key:"RAt",get:function(){return this.pAt.IAt(this)}},{key:"Wyt",get:function(){return this}},{key:"NAt",get:function(){return this.pAt.DAt(this)}},{key:"CAt",get:function(){return this.bAt(1/0,_.min)}},{key:"OAt",get:function(){return this.bAt(0,_.max)}},{key:"SR",get:function(){return this.bkt.SR}},{key:"sv",get:function(){return this.Ekt.sv}}]),n}(tq),Iq=function(t){function n(){return t.call(this,yc.ma)||this}return S(n,t),n}(Ps);!function(t){t.PAt="xAt"}(Eq||(Eq={}));var Nq=function(t){function n(){return t.call(this,Eq.PAt)||this}return S(n,t),n}(Ps),Dq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Rpt)||this).kkt=void 0,e.BAt=void 0,e.kkt=i,e.dAt(!0),e}S(n,t);var i=n.prototype;return i.Myt=function(t){return!!Da(this.XD)&&this.Byt.Myt(t.T6)},i.Uyt=function(t,n,i,e){return this.Byt.Uyt(t,this,n,i,e)},i.xkt=function(){return this.Bkt.xkt(this)},i.Vyt=function(t){return this.Bkt.Vyt(t,this)},i.Skt=function(t){return this.Bkt.Skt(t,this)},i.Rkt=function(){return this.BAt},i.wAt=function(t){var n=this.Byt,i=n.Rkt(t),e=i&&function(t,n){var i,e=t.ibt,r=t.rbt,s=t.nbt,u=e.tw,o=n.fbt(r);if(o.getTime()<=s.getTime())i=r.nw;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(r.d_-h,0);i=r.tw+a}return{SR:u,RR:i}}(i,n),r=this.Byt.Ikt(t,i);return this.BAt=i,{nbt:t,lAt:e,_At:r}},i.Zo=function(t){this.fAt(t,this.kkt.Rpt)},A(n,[{key:"Okt",get:function(){return this.kkt}},{key:"Wyt",get:function(){return this.kkt.Wyt}},{key:"Kkt",get:function(){return this.kkt.Kkt}},{key:"XD",get:function(){return this.di.XD||this.kkt.XD}},{key:"Bkt",get:function(){return this.vAt()}},{key:"Byt",get:function(){return this.Bkt.Byt}}]),n}(mq),Cq=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Rpt)||this).Mkt=void 0,e.Ukt=void 0,e.Mkt=i,e.dAt(!1),e.Ukt=n.Ayt.map(function(t){return new Dq(t,Tt(e))}),e}S(n,t);var i=n.prototype;return i.Zo=function(t){this.fAt(t,this.Mkt.Rpt);var n=t.Ayt||[];if(this.Ukt.length!==n.length)throw new v("Expected "+this.Ukt.length+' representations in adaptation set "'+t._l+'", found '+n.length);for(var i=0;i<n.length;i++)this.Ukt[i].Zo(n[i])},i.gAt=function(n){for(var i=0,e=this.Ukt;i<e.length;i++){e[i].gAt(n)}t.prototype.gAt.call(this,n)},i.wAt=function(t){return{nbt:t,lAt:pq(this.Ukt),_At:kq(this.Ukt)}},i.Sr=function(){for(var n=0,i=this.Ukt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},A(n,[{key:"Ayt",get:function(){return this.Ukt}},{key:"Wyt",get:function(){return this.Mkt}},{key:"Kkt",get:function(){return this.Mkt.Kkt}},{key:"Bpt",get:function(){return this.di.Bpt}},{key:"XD",get:function(){var t;return this.di.XD||(null==(t=this.Ukt[0])?void 0:t.ai.XD)||""}}]),n}(mq),Oq=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Rpt)||this).LAt=void 0,s.nA=void 0,s.Au=void 0,s.mAt=void 0,s.yAt=[],s.LAt=n,s.nA=e,s.Au=r,s.dAt(!1),s.mAt=(i.Cyt||[]).map(function(t){return new Cq(t,Tt(s))}),s.yAt=Sq(s.mAt),s}S(n,t);var i=n.prototype;return i.Zo=function(t,n){this.fAt(t,this.LAt.Rpt),this.Au=n;var i=t.Cyt||[];if(this.mAt.length!==i.length)throw new v("Expected "+this.mAt.length+' adaptation sets in period "'+t._l+'", found '+i.length);for(var e=0;e<i.length;e++)this.mAt[e].Zo(i[e])},i.gAt=function(n){for(var i=0,e=this.mAt;i<e.length;i++){e[i].gAt(n)}t.prototype.gAt.call(this,n)},i.wAt=function(t){return{nbt:t,lAt:pq(this.mAt),_At:kq(this.mAt)}},i.Sr=function(){for(var n=0,i=this.mAt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},A(n,[{key:"Cyt",get:function(){return this.mAt}},{key:"Nyt",get:function(){return this.yAt}},{key:"Wyt",get:function(){return this}},{key:"Kkt",get:function(){return this.LAt}},{key:"_l",get:function(){return this.di._l}},{key:"SR",get:function(){return this.nA}},{key:"d_",get:function(){return this.Au}}]),n}(mq),Pq=new Date("2000-01-01"),xq=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).di=void 0,s.MAt=void 0,s.UAt=void 0,s.iz=void 0,s.FAt=void 0,s.cAt=void 0,s.hAt=void 0,s.HAt=void 0,s.zAt=void 0,s.VAt=void 0,s.WAt=[],s.MAt=i,s.Zo(n,e,r),n.nr===qW.RA){var u=s.Ebt();u&&u.tkt&&u.tkt.getTime()<Pq.getTime()&&(s.VAt=new Date(s.hkt.getTime()-1e3*(u.Mdt.tw+u.Mdt.d_)),s.gAt(r))}return s}S(n,t);var e=n.prototype;return e.mkt=function(){var t;return null==(t=this.cAt)?void 0:t.lAt},e.Ikt=function(){var t;return null==(t=this.cAt)?void 0:t._At},e.Zo=function(t,n,e,r){var s;this.di=t,this.UAt=n,this.FAt=null!=r?r:e,this.iz=e;var u,o=[(u=n,i.Ce(".",u))];this.hAt=t.Rpt&&t.Rpt.length>0?rq(t.Rpt.map(function(t){return t.Mf}),o):o,this.HAt=t.ikt&&t.ikt.length>0?rq(t.ikt,this.hAt):[];var h=this.HAt.map(function(t){return t.href}),a=n.href;hs(h,a)||(this.HAt.push(n),h.push(a));var c=this.MAt.href;hs(h,c)||(this.HAt.push(this.MAt),h.push(c)),this.zAt=null==(s=t.Eyt)?void 0:s.Syt();var f=t.nr===qW.RA,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.SR)u=s.SR.Syt();else if(r>0&&t[r-1].d_){var o=e[r-1],h=t[r-1].d_.Syt();u=o+h}else{if(0!==r||n)break;u=0}e.push(u)}for(var a=[],c=0;c<e.length-1;c++)a.push({ai:t[c],SR:e[c],d_:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.d_?v.d_.Syt():i-d),a.push({ai:v,SR:d,d_:l})}return a}(t.Tyt,f,this.zAt);this.XAt(v),this.gAt(e)},e.XAt=function(t){var n=this.WAt;if(0!==t.length){for(var i=t[0].ai._l,e=0;e<n.length&&n[e]._l!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Sr()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Zo(o.ai,o.d_)}else n.push(new Oq(this,o.ai,o.SR,o.d_))}}else as(n)},e.gAt=function(t){for(var n=0,i=this.WAt;n<i.length;n++){i[n].gAt(t)}var e=this.cAt,r=this.wAt(t);e&&bq(e,r)||(this.cAt=r,this.Fr(new wq))},e.wAt=function(t){return{nbt:t,lAt:yq(this.WAt),_At:kq(this.WAt)}},e.Ebt=function(){if(0!==this.WAt.length){var t=this.WAt[this.WAt.length-1];if(!isFinite(t.d_)&&0!==t.Cyt.length){var n=t.Cyt[0];if(0!==n.Ayt.length){var i=n.Ayt[0].Byt,e=i.Ebt();if(e)return{Mdt:e,tkt:i.sbt(e)}}}}},e.Sr=function(){this.Wr();for(var t=0,n=this.WAt;t<n.length;t++){n[t].Sr()}},A(n,[{key:"ai",get:function(){return this.di}},{key:"nr",get:function(){return this.di.nr||qW.EA}},{key:"nkt",get:function(){return this.VAt||this.di.nkt||this.hkt}},{key:"tkt",get:function(){return this.di.tkt}},{key:"Eyt",get:function(){return this.zAt}},{key:"Rpt",get:function(){return this.hAt}},{key:"ikt",get:function(){return this.HAt}},{key:"Tyt",get:function(){return this.WAt}},{key:"hkt",get:function(){return this.di.hkt||this.iz}},{key:"fpt",get:function(){return this.di.fpt}},{key:"qAt",get:function(){return this.FAt}},{key:"GAt",get:function(){return this.iz}}]),n}(Cs);var Bq=function(){function t(t,n,i){this.QAt=0,this.mA=t,this.YAt=n,this.jAt=i}var n=t.prototype;return n.oP=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.ZAt(t,this.mA,this.YAt,this.jAt).catch(ys));case 2:case"end":return n.stop()}},null,this,null,we)},n.JAt=function(){return new Date(wt()+this.QAt)},n.ZAt=function(t,n,i,e){var r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,nr.awrap(this.$At(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}ws(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,nr.awrap(this.KAt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.QAt=void 0===r?0:r-wt();case 18:case"end":return o.stop()}},null,this,null,we)},n.KAt=function(t,n,i){var e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n._yt,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.qn)){o.next=9;break}return o.next=8,nr.awrap(this.$At(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.qn)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,we)},n.$At=function(t,n,i){var e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,nr.awrap(t.Bf({Mf:n,tv:ql.GET,Of:pc.Pn,xr:i}));case 3:return e=u.sent,u.next=6,nr.awrap(e.lf());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),ms(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],we)},t}(),Lq=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).tTt=void 0,s.bkt=void 0,s.nTt=void 0,s.Xj=!0,s.WAt=[],s.iTt=void 0,s.eTt=void 0,s.rTt=void 0,s.mA=void 0,s.sTt=void 0,s.iTt=n,s.nTt=n.Pl,s.eTt=i,s.mA=e,s.tTt=r,s.sTt=new Bq(s.mA,s.tTt,s.iTt.uTt),s}S(n,t);var e=n.prototype;return e.hot=function(t){var n=this.Ng;this.Xj=t,n!==this.Ng&&this.Fr(new Nq)},e.Zo=function(t,n,e){var r,s,u,o,h,a,c,f,v,d,l,_,g;return nr.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=[],u=[],o=t.ekt?i.Ce(t.ekt,this.nTt):this.nTt,void 0!==this.bkt){w.next=10;break}return w.next=6,nr.awrap(this.sTt.oP(t.ckt));case 6:this.bkt=new xq(t,this.nTt,o,this.JAt()),this.bkt.Hr(YX.vkt,this.Ur),w.next=11;break;case 10:this.bkt.Zo(t,o,this.JAt(),n);case 11:if(0===(h=this.bkt.Tyt).length)a=this.WAt.slice(),as(this.WAt);else{for(c=h[0]._l,f=0;f<this.WAt.length&&this.WAt[f]._l!==c;)f++;for(a=this.WAt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.WAt.length?l=this.WAt[v]:(l=new Rq(this,d),s.push(l)),u.push(l.Zo(this.eTt,e))}return w.next=15,nr.awrap(we.all(u));case 15:for((r=this.WAt).push.apply(r,s),_=0,g=a;_<g.length;_++)g[_].AAt();this.Fr(new Iq);case 18:case"end":return w.stop()}},null,this,null,we)},e.JAt=function(){return this.sTt.JAt()},e.DAt=function(t){var n=this.WAt.indexOf(t);if(n>0)return this.WAt[n-1]},e.IAt=function(t){var n=this.WAt.indexOf(t);if(n>=0&&n+1<this.WAt.length)return this.WAt[n+1]},e.mkt=function(){return this.bkt?this.bkt.mkt():void 0},e.Ikt=function(){return this.bkt&&this.bkt.Ikt()},e.gAt=function(t){this.bkt&&this.bkt.gAt(t)},e.hv=function(){this.Wr(),this.rTt=void 0,this.hot(!1);for(var t=0,n=this.WAt;t<n.length;t++){n[t].hv()}as(this.WAt),this.bkt&&this.bkt.Sr()},A(n,[{key:"tkt",get:function(){return this.bkt&&this.bkt.tkt}},{key:"nkt",get:function(){return this.bkt&&this.bkt.nkt}},{key:"_l",get:function(){return this.bkt&&this.bkt.ai._l}},{key:"qAt",get:function(){var t;return null==(t=this.bkt)?void 0:t.qAt}},{key:"oTt",get:function(){var t;return null==(t=this.bkt)?void 0:t.GAt}},{key:"ikt",get:function(){return this.bkt?this.bkt.ikt.map(function(t){return t.href}):[this.Iyt]}},{key:"Iyt",get:function(){return this.nTt.href}},{key:"rkt",get:function(){return this.bkt&&this.bkt.ai.rkt}},{key:"skt",get:function(){return this.bkt&&this.bkt.ai.skt}},{key:"Eyt",get:function(){return this.bkt&&this.bkt.ai.Eyt}},{key:"ukt",get:function(){return this.bkt&&this.bkt.ai.ukt}},{key:"okt",get:function(){var t,n,i=(null==(t=this.bkt)?void 0:null==(n=t.ai.okt)?void 0:n.Gyt())||0;return _.max(i,Uq)}},{key:"Ng",get:function(){return this.Xj}},{key:"Tyt",get:function(){return this.WAt}},{key:"hTt",get:function(){return this.nr===qW.RA?this.Wkt:this.aTt}},{key:"cTt",get:function(){var t=this.hTt;if(void 0!==t)for(var n=0,i=this.Tyt;n<i.length;n++){var e=i[n];if(e.SR<=t&&e.RR>t)return e}}},{key:"bpt",get:function(){return this.bkt&&this.bkt.ai.bpt}},{key:"hkt",get:function(){return this.bkt&&this.bkt.hkt}},{key:"CAt",get:function(){for(var t=this.WAt.length-1;t>=0;t-=1){var n=this.WAt[t].CAt;if(n)return n}}},{key:"Wkt",get:function(){var t=this.CAt;if(void 0!==t){var n=t-this.fTt;return _.max(n,this.aTt)}}},{key:"aTt",get:function(){for(var t=0,n=this.WAt;t<n.length;t++){var i=n[t].wkt;if(void 0!==i)return i}}},{key:"sv",get:function(){return Boolean(this.iTt.sv)}},{key:"fTt",get:function(){var t=this.bkt&&this.bkt.ai.akt;return t?t.Syt():this.nr===qW.RA?this.wtt:0}},{key:"wtt",get:function(){return this.iTt.wtt?this.iTt.wtt:1.5*this.ukt.Syt()}},{key:"fpt",get:function(){return this.bkt&&this.bkt.fpt}},{key:"nr",get:function(){return this.bkt?this.bkt.nr:void 0}}]),n}(Cs),Mq=function(){function t(t,n,i,e){this.pAt=void 0,this.pAt=new Lq(t,n,i,e)}return A(t,[{key:"Ekt",get:function(){return this.pAt}}]),t}(),Uq=1e3,Fq=_.pow(2,31)-1,Hq=function(){function t(t,n,i,e){var r=this;this.r9=void 0,this.bkt=void 0,this.vTt=void 0,this.dTt=void 0,this.lTt=void 0,this._Tt=new ls,this.gTt=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.bkt.Ekt.JAt(),e.next=4,nr.awrap(r.wTt(r.bkt.Ekt.ikt,t));case 4:return i=e.sent,e.next=7,nr.awrap(r.bkt.Ekt.Zo(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),Nk(e.t0)&&r.bkt.Ekt.hot(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],we)},this.r9=e,this.bkt=new Mq(t,n,i,this._Tt.xr)}var n=t.prototype;return n.nd=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.bkt.Ekt.Fr(new AN),n.prev=1,n.next=4,nr.awrap(Hz(this.gTt,t));case 4:this.bkt.Ekt.hot(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),ms(n.t0),this.dTt=void 0,this.bkt.Ekt.hot(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this.vTt=this.mTt(this._Tt.xr);case 14:case"end":return n.stop()}},null,this,[[1,7]],we)},n.mTt=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.bkt.Ekt.nr!==qW.RA){n.next=6;break}return n.next=4,nr.awrap(ps(this.yTt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],we)},n.pTt=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(ws(t),!((n=this.kTt())>0)){e.next=6;break}return i=_.min(n,Fq),e.next=6,nr.awrap(Rs(i,t));case 6:return e.prev=6,e.next=9,nr.awrap(Hz(this.gTt,t,1/0,Uq,3e4));case 9:this.bkt.Ekt.hot(!0);case 10:return e.prev=10,this.lTt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],we)},n.kTt=function(){var t=this.bkt.Ekt.JAt().getTime()-this.bkt.Ekt.qAt.getTime();return this.bkt.Ekt.okt-t},n.bTt=function(t){var n=this.bkt.Ekt.Ikt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.bkt.Ekt.gAt(t);var e=this.bkt.Ekt.Ikt();return e?e.getTime()-t.getTime():NaN},n.ATt=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.lTt||(this.lTt=this.pTt(t)),(n=new ls).Or(t),i.prev=3,i.next=6,nr.awrap(we.race([this.lTt,this.TTt(n.xr)].filter(F)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),ys(i.t0);case 11:return i.prev=11,n.Cr(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],we)},n.TTt=function(t){var n=this.bkt.Ekt.JAt(),i=this.bTt(n);if(!m(i))return this.STt(i,t)},n.STt=function(t,n){var i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr.awrap(Rs(t,n));case 2:i=this.bkt.Ekt.JAt(),this.bkt.Ekt.gAt(i);case 4:case"end":return e.stop()}},null,this,null,we)},n.wTt=function(t,n){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(this.r9.n9(t,{},n,!1));case 2:return i=r.sent,e=new jX,r.abrupt("return",e.kwt(i.X8,i.Lf));case 5:case"end":return r.stop()}},null,this,null,we)},n.hv=function(){return this._Tt.Cr(),this.vTt=void 0,this.dTt=void 0,this.lTt=void 0,this.bkt.Ekt.hv(),we.resolve()},A(t,[{key:"ETt",get:function(){return this.bkt}},{key:"ZK",get:function(){return this.dTt||(this.dTt=this.nd(this._Tt.xr),Ss(this.dTt)),this.dTt}},{key:"yTt",get:function(){return this.bkt.Ekt.oTt&&this.bkt.Ekt.nr===qW.RA?this.ATt(this._Tt.xr):this.ZK}}]),t}(),zq=function(){function t(t,n,i){this.r9=t,this.RTt=n,this.ITt=i}var n=t.prototype;return n.NTt=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!Ww(n=t.type)){i.next=9;break}return i.next=6,nr.awrap(this.DTt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!Vw(n)){i.next=15;break}return i.next=12,nr.awrap(this.CTt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,we)},n.DTt=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nr.awrap(QW(t.src,this.r9));case 3:return n=i.sent,i.next=6,nr.awrap(YW(n,this.r9));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],we)},n.CTt=function(t){var n;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Hq({Pl:i.Ce(t.src),wtt:t.liveOffset,uTt:t.timeServer,sv:t.useCredentials},this.ITt,$l.lv,this.r9),e.next=4,nr.awrap(n.ZK);case 4:return e.next=6,nr.awrap(CW(n.ETt.Ekt,t.contentProtection,this.RTt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],we)},t}();var Vq=function(){function t(t){this.OTt=void 0,this.PTt=[],this.xTt=0,this.OTt=t}var n=t.prototype;return n.BTt=function(){var t=new no;return this.PTt.push(t),this.LTt(),t.Ss},n.MTt=function(t,n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(t);case 2:this.xTt-=1,this.LTt(),0===this.PTt.length&&0===this.xTt&&n.Is(!0);case 5:case"end":return i.stop()}},null,this,null,we)},n.LTt=function(){this.PTt.length>0&&this.xTt<this.OTt&&(this.PTt.shift().Is(),this.xTt+=1)},t}();function Wq(t,n){for(var i=0,e=0,r=t.jb.dK.map(function(t){return t.d_});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var Xq=function(t){function n(n,e,r,s,u,o,h,a){var c,f,v,d,l;void 0===a&&(v=L.sn||L.in,d=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),l=v&&!d,a=function(t){var n,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.mf,MediaSource.isTypeSupported(e)||xk(t.XD,t.FZ)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!l||-1===(null==(n=t.ae)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.byt){u.next=13;break}return r=t.byt,s=cs(r,function(t){return Pr(t._yt)}).filter(F),u.next=10,nr.awrap(fs(s,function(t){return i.Ne(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,we)}),(c=t.call(this)||this).u9=void 0,c.UTt=void 0,c.FTt=new no,c.HTt=void 0,c.KZ=void 0,c.zTt=mW.fyt(),c.hyt=void 0,c.VTt=void 0,c.H_=void 0,c.WTt=void 0,c.pK=void 0,c.r9=void 0,c.XTt=void 0,c.RTt=void 0,c.ITt=void 0,c.jmt=void 0,c.u9=n,c.pK=e,c.r9=r,c.WTt=s,c.XTt=u,c.RTt=o,c.ITt=a,c.jmt=h,c.VTt=-1;var _=c.u9.uR.sources[0];return c.HTt=_,c.H_=c.ug(),c.UTt=new Vq(c.u9.lh.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.ug=function(){var t,n,i,e,r,s,u,o,h,a,c,f,v,d,l,g,w,m,y,p,k,b,A,T,S,E,R,I=this;return nr.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new zq(this.r9,this.RTt,this.ITt),N.next=3,nr.awrap(t.NTt(this.HTt));case 3:return this.KZ=N.sent,n=this.u9.lh.amount,i=this.KZ.d_,e=kW(n,i),this.hyt=e,s=Zx(this.KZ.Ryt[0]),N.next=11,nr.awrap(this.pK.vK.aK(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return hs(t.references,I.u9._l)}),o=[],h=this.u9.lh.bandwidth,a=0,c=this.KZ.Tyt;a<c.length;a++)for(f=c[a],v=0,d=f.Dyt;v<d.length;v++)for(l=d[v],g=0,w=Gq(l.qp);g<w.length;g++)for(m=w[g],y=0,p=Qq(m.pl,h);y<p.length;y++)k=p[y],o.push(k);if(this.VTt=_.ceil(o.map(function(t){return t.DS*Wq(t,e)/8}).reduce(function(t,n){return t+n},0)),b=rr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new dS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.QR(e).GR(5e-4);else{var r,s=rs(o,function(t){return t._l===i}),h=_.min(I.hyt,null!=(r=null==s?void 0:s.jb.d_)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:h})}},S=0;S<u.length;S++)T(S);r=new mW(A,b,this.hyt)}else{for(E=0;E<o.length;E++)R=o[E],b.set(R._l,{timeRanges:dS.fI(),totalQualityDurationToCache:_.min(R.jb.d_,this.hyt)});r=new mW(0,b,this.hyt)}this.qTt=r;case 19:case"end":return N.stop()}},null,this,null,we)},e.GTt=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.H_);case 2:return n.next=4,nr.awrap(this.QTt(this.KZ,t));case 4:return n.next=6,nr.awrap(this.FTt.Ss);case 6:case"end":return n.stop()}},null,this,null,we)},e.QTt=function(t,n){var i,e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Ryt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,nr.awrap(this.YTt());case 4:for(i=[],e=0,r=t.Tyt;e<r.length;e++)s=r[e],i.push(this.jTt(s,t.Ryt[0],n));return u.abrupt("return",we.all(i));case 7:case"end":return u.stop()}},null,this,null,we)},e.YTt=function(){var t,n,i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,nr.awrap(this.WTt.oK());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,nr.awrap(this.pK.lK.cs(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,nr.awrap(qq(e,this.u9._l,this.pK.lK,this.jmt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,nr.awrap(this.pK.lK.rK(i,this.jmt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new AW("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,nr.awrap(this.WTt.fK());case 27:case"end":return r.stop()}},null,this,[[14,19]],we)},e.jTt=function(t,n,i){var e,r,s,u,o,h,a;return nr.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.Dyt;r<s.length;r++)for(u=s[r],o=Gq(u.qp),h=0;h<o.length;h++)a=o[h],e.push(this.ZTt(a,n,i));return c.abrupt("return",we.all(e));case 3:case"end":return c.stop()}},null,this,null,we)},e.ZTt=function(t,n,i){var e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=this.u9.lh.bandwidth,r=Qq(t.pl,e),t.nr!==Qm.$f||!t.xyt||!t.xyt.XA.widevine||"persistent"!==t.xyt.XA.widevine.licenseType){h.next=6;break}return h.next=5,nr.awrap(this.JTt(t.xyt));case 5:ws(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.$Tt(o,n,i));return h.abrupt("return",we.all(s));case 9:case"end":return h.stop()}},null,this,null,we)},e.$Tt=function(t,n,i){var e,r,s,u,o,h;return nr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(ws(i),!t.N8){a.next=7;break}return e={tw:0,d_:0,zyt:t.N8},a.next=5,nr.awrap(this.UTt.BTt());case 5:ws(i),Ss(this.UTt.MTt(this.KTt(e,t,n),this.FTt));case 7:r=t.jb.dK[0].tw,s=r+this.hyt,u=0,o=t.jb.dK;case 10:if(!(u<o.length)){a.next=22;break}if(!((h=o[u]).tw>=s)){a.next=14;break}return a.abrupt("break",22);case 14:return a.next=16,nr.awrap(this.tSt(i));case 16:return a.next=18,nr.awrap(this.UTt.BTt());case 18:Ss(this.UTt.MTt(this.KTt(h,t,n),this.FTt));case 19:u++,a.next=10;break;case 22:case"end":return a.stop()}},null,this,null,we)},e.tSt=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.yr){n.next=4;break}return n.next=3,nr.awrap(this.FTt.Ss);case 3:throw new _s;case 4:case"end":return n.stop()}},null,this,null,we)},e.nSt=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nr.awrap(this.H_);case 2:return t.abrupt("return",this.KZ);case 3:case"end":return t.stop()}},null,this,null,we)},e.JTt=function(t){return we.resolve()},e.iSt=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:return st("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,we)},e.KTt=function(t,n,i){var e,r,s,u,o,h,a,c=this;return nr.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.pK.vK,r=Jx(t.zyt.Mf,t.zyt.sj),f.next=4,nr.awrap(e.cs(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,nr.awrap(qq(s,this.u9._l,e,this.jmt));case 8:this.eSt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,nr.awrap(this.rSt(t.zyt));case 14:return u=f.sent,o=this.sSt(t,n,i,u),h=o.segmentMetadataEntry,a=o.segmentEntry,f.next=18,nr.awrap(this.pK.wK(function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(t.vK.rK(h,c.jmt));case 2:return n.next=4,nr.awrap(t.dK.rK(a,c.jmt));case 4:case"end":return n.stop()}},null,null,null,we)}));case 18:this.eSt(h,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new AW("Unable to store segment with url: "+t.zyt.Mf,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],we)},e.rSt=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.XTt.uSt(t,!1));case 2:return n=i.sent,i.next=5,nr.awrap(this.oSt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,we)},e.oSt=function(t){var n;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(t.gf());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,we)},e.sSt=function(t,n,i,e){var r=Jx(t.zyt.Mf,t.zyt.sj),s=t.tw,u=t.d_,o=this.hSt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:Zx(i),qualityId:n._l,byteSize:o,startsAndEnds:new dS([s,s+u]).NR,references:[this.u9._l]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:Zx(i),data:e}}},e.hSt=function(t){return t.buffer.byteLength},e.eSt=function(t,n){var i=t.qualityId,e=this.zTt,r=e.Bg;r.get(i).timeRanges=r.get(i).timeRanges.QR(new dS(t.startsAndEnds)).GR(5e-4),this.qTt=new mW(n?e.vyt+t.byteSize:e.vyt,r,this.hyt)},A(n,[{key:"aSt",get:function(){return this.VTt}},{key:"qTt",get:function(){return this.zTt},set:function(t){this.zTt.mw(t)||(this.zTt=t,t.mw(mW.fyt())||this.Fr(new wW))}}]),n}(Cs);function qq(t,n,i,e){return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(hs(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,nr.awrap(i.rK(t,e));case 4:case"end":return r.stop()}},null,null,null,we)}function Gq(t){return t.length?[t[0]]:[]}function Qq(t,n){if(!t.length)return[];var i=[].concat(t).sort(_W),e=i.filter(function(t){return t.DS<=n});return e.length>0?[e.pop()]:[i.shift()]}var Yq=function(){function t(t){this.mA=void 0,this.ZB=new nN,this.mA=t}var n=t.prototype;return n.Bf=function(t){var n=this,i=new no;return this.ZB.FB(function(e){return n.cSt(i,t,e)},t.xr).catch(j),i.Ss},n.ov=function(t){return this.mA.ov(t)},n.cSt=function(t,n,i){var e,r,s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return ws(i),e=new Zl({Mf:n.Mf,xr:i},n),r=this.mA.Bf(e),t.Is(r),u.next=6,nr.awrap(r);case 6:return s=u.sent,u.next=9,nr.awrap(s.Sf());case 9:case"end":return u.stop()}},null,this,null,we)},n.hv=function(){this.ZB.hv()},t}(),jq=function(){function t(t,n){this.mA=void 0,this.fSt=void 0,this.vSt=void 0,this.mA=t,this.fSt=new Yq(t),this.vSt=n}var n=t.prototype;return n.uSt=function(t,n,i){return this.Ost(t,n,!0,!1,void 0,i)},n.dSt=function(t,n,i,e){return this.Ost(t,n,!1,!1,i,e)},n.lSt=function(t,n,i,e){return this.Ost(t,n,!1,!0,i,e)},n.Ost=function(n,i,e,r,s,u){var o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return ws(u),h.next=3,nr.awrap(this._St(n,e,r,s,u));case 3:if(o=h.sent,!i){h.next=8;break}return h.abrupt("return",t.gSt(o));case 8:return h.abrupt("return",this.wSt(o));case 9:case"end":return h.stop()}},null,this,null,we)},n.wSt=function(t){return t},t.gSt=function(t){return t},n._St=function(t,n,i,e,r){var s=new Zl({Mf:t.Mf,Of:pc.za,Cf:t.sj?{Range:"bytes="+t.sj[0]+"-"+t.sj[1]}:void 0,sv:t.sv,tv:ql.GET,nr:Gl.zf,ev:i?Ql.Wf:Ql.Ff,rv:this.vSt,nv:e,xr:r});return n?this.fSt.Bf(s):this.mA.Bf(s)},t}(),Zq=function(){function t(t){this.mA=void 0,this.mA=t}return t.prototype.uAt=function(t,n,i,e){var r;return nr.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,nr.awrap(this.mA.Bf({Mf:t,Of:pc.za,Cf:{Range:"bytes="+n[0]+"-"+n[1]},sv:i,tv:ql.GET,nr:Gl.Ff,xr:e}));case 2:return r=s.sent,s.next=5,nr.awrap(r.gf());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,we)},t}(),Jq=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Mdt=void 0,r.Mdt=n,r}return S(n,t),n}(Et),$q=function(){function t(t){this.i9=void 0,this.i9=t}return t.prototype.uAt=function(t,n,i,e){var r,s;return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(this.i9.K8(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,nr.awrap(this.i9.K8(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Ju(new y(s.buffer),n[0],n[1]));case 10:throw new Jq({Mf:t,sj:n,sv:!1});case 11:case"end":return i.stop()}},null,this,null,we)},t}(),Kq={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new dS([0,0]).NR,references:[]},tG={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},nG=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).mSt=void 0,u.ySt=void 0,u.pK=void 0,u.jmt=void 0,u.mSt=new Zq(i),u.pK=e,u.ySt=r,u.jmt=s,u}S(n,t);var i=n.prototype;return i.uAt=function(n,i,e,r){var s;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,nr.awrap(t.prototype.uAt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),ms(u.t0);case 9:return u.next=11,nr.awrap(this.mSt.uAt(n,i,e,r));case 11:return s=u.sent,u.next=14,nr.awrap(this.pSt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],we)},i.pSt=function(t,i,e){var r,s,u,o,h,a,c,f=this;return nr.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.ySt){v.next=2;break}return v.abrupt("return");case 2:return r=this.pK.vK,s=Jx(t,i),v.next=6,nr.awrap(r.cs(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,nr.awrap(qq(u,this.ySt,r,this.jmt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},h=n.sSt(s,o,this.ySt),a=h.segmentMetadataEntry,c=h.segmentEntry,v.next=17,nr.awrap(this.pK.wK(function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(t.vK.rK(a,f.jmt));case 2:return n.next=4,nr.awrap(t.dK.rK(c,f.jmt));case 4:case"end":return n.stop()}},null,null,null,we)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new AW("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],we)},n.sSt=function(t,n,i){return{segmentMetadataEntry:ir({},Kq,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:ir({},tG,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}($q);var iG=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.kSt=function(t,n,i,e,r,s,u){return new Xq(t,n,i,e,r,s,u)},n}(function(){function t(t){this.mA=t}return t.prototype.ZG=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.uR.sources[0].useCredentials),r=new jq(this.mA,Yl.Ff),s=new GM(this.mA,e),u=new QM(n.lK,n.vK,n.dK,n.gK),o=function(t,n,i,e,r){return new nG(n,t,i,e,r)}(this.mA,u,n,t._l,i),h=new Wx,a=new $M(JM(s,u),h,t);return this.kSt(t,n,a,h,r,o,i)},t}());function eG(t){var n,i={get id(){return t._l},get status(){return t.Df},get source(){return t.uR},get parameters(){return t.lh},get duration(){return t.d_},get cached(){return t.bSt.VE()},get secondsCached(){return t.ASt},get percentageCached(){return t.TSt},get bytes(){return t.SSt},get bytesCached(){return t.ESt},get license(){return t.sC.Ed},start:function(){t.SR()},pause:function(){t.K_()},remove:function(){t.jo()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}};return n=new _I(t,["N$","Mmt"],i),i}var rG=function(){function t(t,n,i){this.u9=t,this.pK=n,this.KZ=i}var n=t.prototype;return n.RSt=function(){var t=this;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.pK.wK(function(n){return nr.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nr.awrap(t.ISt(n));case 2:return i.next=4,nr.awrap(t.NSt(n));case 4:return i.next=6,nr.awrap(t.DSt(n));case 6:return i.next=8,nr.awrap(t.CSt(n));case 8:case"end":return i.stop()}},null,null,null,we)}));case 2:case"end":return n.stop()}},null,this,null,we)},n.ISt=function(t){var n,i;return nr.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._K,i=this.u9._l,e.next=4,nr.awrap(n.jo(i));case 4:case"end":return e.stop()}},null,this,null,we)},n.NSt=function(t){var n,i,e,r,s,u,o,h=this;return nr.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.vK,i=t.dK,Qw(e=this.u9.uR.sources[0])){a.next=5;break}return a.abrupt("return");case 5:return r=Zx(e.src),a.next=8,nr.awrap(n.aK(r,"manifestURL"));case 8:s=a.sent.filter(function(t){return hs(t.references,h.u9._l)}),u=0;case 10:if(!(u<s.length)){a.next=25;break}if(us((o=s[u]).references,this.u9._l),0!==o.references.length){a.next=20;break}return a.next=16,nr.awrap(n.jo(o.key));case 16:return a.next=18,nr.awrap(i.jo(o.key));case 18:a.next=22;break;case 20:return a.next=22,nr.awrap(n.rK(o));case 22:u++,a.next=10;break;case 25:case"end":return a.stop()}},null,this,null,we)},n.DSt=function(t){var n,i,e,r,s,u=this;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.lK,i=this.OSt(),o.next=4,nr.awrap(n.uK(i));case 4:e=o.sent.filter(function(t){return hs(t.references,u.u9._l)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(us((s=e[r]).references,this.u9._l),0!==s.references.length){o.next=14;break}return o.next=12,nr.awrap(n.jo(s.key));case 12:o.next=16;break;case 14:return o.next=16,nr.awrap(n.rK(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,we)},n.OSt=function(){if(!this.KZ)return[];var t=this.u9.uR.sources[0];if(!Qw(t))return[];var n=Zx(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Tyt;i<e.length;i++)for(var r=0,s=e[i].Dyt;r<s.length;r++)for(var u=0,o=s[r].qp;u<o.length;u++)for(var h=0,a=o[u].pl;h<a.length;h++){var c=a[h];c.Xyt&&n.push(c.Xyt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.KZ).map(function(t){return{src:t}}).map(function(t){return Zx(t.src)});return[n].concat(i)},n.CSt=function(t){var n,i,e,r,s=this;return nr.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.gK,u.next=3,nr.awrap(n.oK());case 3:i=u.sent.filter(function(t){return hs(t.references,s.u9._l)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(us((r=i[e]).references,this.u9._l),0!==r.references.length){u.next=14;break}return u.next=11,nr.awrap(n.jo(r.key));case 11:this.PSt(r),u.next=16;break;case 14:return u.next=16,nr.awrap(n.rK(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,we)},n.PSt=function(t){},t}(),sG=new(function(){function t(){}return t.prototype.ZG=function(t,n,i){return new rG(t,n,i)},t}());var uG=function(){function t(t,n){this.Sd=void 0,this.rd=t,this.xSt=n}var n=t.prototype;return n.l4=function(t){this.BSt(t)},n.BSt=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,nr.awrap(this.xSt.iSt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.rd.$mt(eW.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],we)},A(t,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{renew:function(n){t.l4(n)}})),this.Sd}}]),t}(),oG=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bo=void 0,o.Ymt=void 0,o.Sd=void 0,o.Egt=void 0,o.LSt=void 0,o.pK=void 0,o.xSt=void 0,o.MSt=new ls,o.USt=void 0,o.evictOnLoading=function(){o.Xr("Mmt",o.evictOnLoading),o.FSt()},o.Bo=n,o.Egt=i,o.LSt=e,o.pK=r,o.xSt=s.ZG(Tt(o),o.pK,u),o.USt=new uG(Tt(o),o.xSt),o.Ymt=1===o.xSt.qTt.dyt?eW.DONE:eW.IDLE,o.xSt.Hr("N$",function(t){o.Ur(t),1===o.TSt&&o.$mt(eW.DONE)});var a=new Date,c=o.LSt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.FSt()},c),o}S(n,t);var i=n.prototype;return i.$mt=function(t){this.Ymt!==t&&(this.Ymt=t,this.Fr(new sW))},i.SR=function(){this.Ymt===eW.EVICTED||this.Ymt===eW.DONE||this.HSt()},i.HSt=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.$mt(eW.LOADING),t=new ls,this.MSt=t,n.next=6,nr.awrap(this.xSt.GTt(t.xr));case 6:this.$mt(eW.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),gs(n.t0)?this.$mt(eW.IDLE):this.$mt(eW.ERROR);case 12:return n.prev=12,this.MSt.Sr(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],we)},i.K_=function(){this.MSt.Cr()},i.jo=function(){this.Df===eW.LOADING?(this.Hr("Mmt",this.evictOnLoading),this.K_()):this.FSt()},i.FSt=function(){var t;return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,nr.awrap(this.xSt.nSt());case 3:return t=n.sent,n.next=6,nr.awrap(sG.ZG(this,this.pK,t).RSt());case 6:this.xSt.qTt=mW.fyt(),this.$mt(eW.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.$mt(eW.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],we)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=eG(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"sC",get:function(){return this.USt}},{key:"Df",get:function(){return this.Ymt}},{key:"uR",get:function(){return this.Egt}},{key:"lh",get:function(){return this.LSt}},{key:"d_",get:function(){return this.xSt.qTt.oI}},{key:"bSt",get:function(){return this.xSt.qTt.cyt}},{key:"ASt",get:function(){return this.xSt.qTt.ayt}},{key:"TSt",get:function(){return this.xSt.qTt.dyt}},{key:"SSt",get:function(){return this.xSt.aSt}},{key:"ESt",get:function(){return this.xSt.qTt.vyt}}]),n}(Iw);var hG=function(){function t(t,n){this.pK=t,this.zSt=n}var n=t.prototype;return n.iyt=function(t,n,i){var e=$E();return this.tyt(e,t,n,i)},n.tyt=function(t,n,i,e){return new oG(t,n,i,this.pK,this.zSt,e)},t}(),aG=30,cG=5;function fG(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(X(t)&&!Br(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,X(i)&&Br(i,"%")){var n=w(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!X(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+aG),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Q(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return cG;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var vG=function(t){function n(n,i){var e;return(e=t.call(this)||this).Sd=void 0,e.VSt=n,e.oB=i,e.VSt.Hr("Mmt",e.Ur),e}return S(n,t),n.prototype.WSt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=bE(t),r=fG(n),fE(e))throw new v("Invalid source description");return this.VSt.tyt(e,r).Ed},A(n,[{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get status(){return t.Df},get tasks(){return t.syt},get network(){return t.pB.Ed},createTask:function(n,i){return t.WSt(n,i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new gI(t=this,i),i)),this.Sd}},{key:"Df",get:function(){return this.VSt.Df}},{key:"syt",get:function(){return this.VSt.syt.Ed}},{key:"pB",get:function(){return this.oB}}]),n}(Iw);(dG=new KR(i.pd,!1),lG=jx.Rn,_G=new iG(dG),gG=new hG(lG,_G),wG=new nI(dG),mG=new lW(lG._K,gG,"persistent"),new vG(mG,wG)).Ed;var dG,lG,_G,gG,wG,mG,yG=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bo=void 0,s.Ymt=void 0,s.Sd=void 0,s.Egt=void 0,s.LSt=void 0,s.Au=0,s.XSt=dS.fI(),s.qSt=0,s.GSt=0,s.VSt=void 0,s.Bo=n,s.Ymt=eW.IDLE,s.Egt=i,s.LSt=e,s.VSt=r,s}S(n,t);var i=n.prototype;return i.SR=function(){this.VSt.startCachingTask(this)},i.jo=function(){this.VSt.removeCachingTask(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=eG(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"Df",get:function(){return this.Ymt},set:function(t){this.Ymt!==t&&(this.Ymt=t,this.Fr(new sW))}},{key:"uR",get:function(){return this.Egt}},{key:"lh",get:function(){return this.LSt}},{key:"d_",get:function(){return this.Au},set:function(t){this.Au=t}},{key:"bSt",get:function(){return this.XSt},set:function(t){this.XSt=t}},{key:"ASt",get:function(){return this.qSt},set:function(t){this.qSt=t}},{key:"TSt",get:function(){return this.GSt},set:function(t){this.GSt=t,this.Fr(new wW)}}]),n}(Nw),pG=30;function kG(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+pG),n&&((i=n)&&!(Q(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var bG=function(t){function n(){var n;return(n=t.call(this)||this).Ymt=hW.UNINITIALISED,n.xB=new dW,n.Pwt=void 0,n.jwt=void 0,n.QSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Df=eW.EVICTED,i.TSt=0,i.ASt=0,i.d_=0,i.bSt=dS.fI(),n.xB.jo(i))}},n.YSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Df=e);var r=t.detail.percentage;r&&(i.TSt=r);var s=t.detail.duration;s&&(i.d_=s);var u=t.detail.seconds;u&&(i.ASt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.bSt=new dS(h)}}}},n.jSt=function(t){if(t.detail){var i=bE(JSON.parse(t.detail.source));if(!n.ZSt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.tyt(i,kG(e),s)}}},n.JSt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.tyt(bE(r),kG(i),s);u.Df=t.detail.status,u.TSt=t.detail.percentage,u.d_=t.detail.duration,u.ASt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.bSt=new dS(h)}},n.$St=function(t){t.detail&&n.$mt(t.detail.status)},n.Pwt=new KV,n.jwt=new OV,EV().cache={sdkEventBus:n.jwt},n.IJ(),n}S(n,t);var i=n.prototype;return i.$mt=function(t){this.Ymt!==t&&(this.Ymt=t,this.Fr(new sW))},i.tyt=function(t,n,i){void 0===i&&(i=void 0);var e=new yG(i||$E(),t,n,this);return this.xB.Lg(e),i||this.Pwt.BG("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e._l}),e},i.findTaskWithId=function(t){for(var n=0,i=this.xB.Fmt;n<i.length;n++){var e=i[n];if(e._l===t)return e}},i.ZSt=function(t){for(var n=TG(t.sources),i=0,e=this.xB.Fmt;i<e.length;i++){if(TG(e[i].uR.sources).src===n.src)return!0}return!1},i.IJ=function(){this.jwt.addEventListener("deleteTask",this.QSt),this.jwt.addEventListener("updateValues",this.YSt),this.jwt.addEventListener("newTask",this.jSt),this.jwt.addEventListener("restoreTask",this.JSt),this.jwt.addEventListener("setCacheStatus",this.$St)},i.startCachingTask=function(t){this.Pwt.BG("THEOplayerCacheStartCachingTask",{id:t._l})},i.removeCachingTask=function(t){this.Pwt.BG("THEOplayerCacheRemoveCachingTask",{id:t._l})},A(n,[{key:"Df",get:function(){return this.Ymt}},{key:"syt",get:function(){return this.xB}}]),n}(Cs),AG=function(t){function n(n){var i;return(i=t.call(this,n)||this).KSt=n,i.KSt.Hr("Mmt",i.Ur),i}return S(n,t),n.prototype.WSt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=bE(t),e=kG(n),fE(i))throw new v("Invalid source description");if(!TG(i.sources))throw new v("The provided sources can't be cached");return this.KSt.tyt(i,e).Ed},n}(vG);function TG(t){for(var n=0;n<t.length;n++){var i=t[n];if(Ww(i.type))return i}}var SG,EG,RG=function(){var t=new bG;return new AG(t)}().Ed;!function(t){t.tEt="any",t.nEt="natural",t.iEt="landscape",t.eEt="portrait",t.rEt="portrait-primary",t.sEt="portrait-secondary",t.uEt="landscape-primary",t.oEt="landscape-secondary"}(SG||(SG={})),function(t){t.rEt="portrait-primary",t.sEt="portrait-secondary",t.uEt="landscape-primary",t.oEt="landscape-secondary"}(EG||(EG={}));var IG,NG,DG=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Pwt=new KV,n.hEt=SG.nEt,n.aEt=EG.rEt,n.cEt=EG.rEt,n.fEt=EG.rEt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.hEt=t,n.Pwt.BG("THEOplayerOrientationLock",t),n.vEt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.hEt=SG.nEt,t.Pwt.BG("THEOplayerOrientationUnlock"),t.type=t.cEt,t.vEt(),n()})},i.vEt=function(){var t=this.fEt,n=this.type;t!==n&&(this.fEt=n,this.Fr(new Ps("change")))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n.dEt=function(t){switch(t){case SG.rEt:return[EG.rEt];case SG.sEt:return[EG.sEt];case SG.eEt:return[EG.rEt,EG.sEt];case SG.uEt:return[EG.uEt];case SG.oEt:return[EG.oEt];case SG.iEt:return[EG.uEt,EG.oEt];case SG.nEt:return[EG.rEt,EG.uEt,EG.oEt];case SG.tEt:return[EG.rEt,EG.sEt,EG.uEt,EG.oEt]}},n.lEt=function(t,i){return n.dEt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.aEt},set:function(t){this.cEt=t,n.lEt(t,this.hEt)?(this.aEt=t,this.vEt()):(t===EG.uEt&&this.hEt===SG.oEt&&(this.aEt=EG.oEt,this.vEt()),t===EG.oEt&&this.hEt===SG.uEt&&(this.aEt=EG.uEt,this.vEt()))}},{key:"angle",get:function(){switch(this.type){case EG.uEt:return-90;case EG.oEt:return 90;case EG.rEt:return 0;case EG.sEt:return 180;default:return 0}}}]),n}(Nw);DG.Rn=new DG,r.screen.orientation=DG.Rn,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t._Et="unavailable",t.gEt="available",t.wEt="presenting"}(IG||(IG={})),qI(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.ig=function(n){t.prototype.ig.call(this,n);var i=this.Ed;this.Ed.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===IG.wEt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(SG.oEt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},MI.AB),function(t){t.kd="addtrack",t.Ad="removetrack",t.Fd="change",t.qd="update"}(NG||(NG={}));var CG=function(t,n,i){this.type=NG.Fd,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},OG=function(t,n){this.type=NG.kd,this.mediaType=t,this.mediaTrack=n},PG=function(t,n){this.type=NG.Ad,this.mediaType=t,this.mediaTrack=n},xG=function(t,n){this.type=NG.qd,this.mediaType=t,this.mediaTrack=n},BG=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.mEt=function(t){var n=new CG(e.type,t.track,e.mediaTracks);e.messageDispatcher.yEt(n)},this.pEt=function(t){var n=new OG(e.type,t.track);e.messageDispatcher.yEt(n),t.track.addEventListener("update",e.kEt)},this.bEt=function(t){var n=new PG(e.type,t.track);e.messageDispatcher.yEt(n)},this.kEt=function(t){var n=new xG(e.type,t.track);e.messageDispatcher.yEt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.IJ()}return t.prototype.IJ=function(){this.mediaTracks.addEventListener("change",this.mEt),this.mediaTracks.addEventListener("addtrack",this.pEt),this.mediaTracks.addEventListener("removetrack",this.bEt)},t}(),LG=function(){function t(){this.AEt=void 0,this.AEt=new KV}return t.prototype.yEt=function(t){this.AEt.BG(t.type,jz(t))},t}();YI(function(t){if(t.Ed.audioTracks){var n=new LG;new BG("audio",t.Ed.audioTracks,n)}if(t.Ed.videoTracks){var i=new LG;new BG("video",t.Ed.videoTracks,i)}});var MG,UG,FG=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case MG.TEt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Fr(new HG(i));break;default:0}},n}(OV),HG=function(t){function n(n){var i;return(i=t.call(this,MG.TEt)||this).detail=n,i}return S(n,t),n}(Ps);!function(t){t.TEt="registerContentProtectionIntegration"}(MG||(MG={})),function(t){t.SEt="certifiateRequest",t.EEt="certifiateResponse",t.REt="licenseRequest",t.IEt="licenseResponse",t.NEt="extractFairplayContentId",t.DEt="buildContentProtection",t.CEt="registerContentProtectionCallback"}(UG||(UG={}));var zG,VG=function(t,n){this.type=UG.CEt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(zG||(zG={}));var WG,XG=function(t,n){this.type=UG.DEt,this.value=t,this.integrationId=n},qG=function(t,n){this.type=UG.SEt,this.value=t,this.integrationId=n},GG=function(t,n){this.type=UG.EEt,this.value=t,this.integrationId=n},QG=function(t,n){this.type=UG.NEt,this.value=t,this.integrationId=n},YG=function(t,n){this.type=UG.REt,this.value=t,this.integrationId=n},jG=function(t,n){this.type=UG.IEt,this.value=t,this.integrationId=n},ZG=function(){function t(t,n){this.OEt=void 0,this.ST=void 0,this.OEt=t,this.ST=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e=new qG(i,this.ST),h.prev=2,h.next=5,nr.awrap(this.OEt.PEt(e));case 5:if(!(r=h.sent)){h.next=16;break}if(s=JSON.parse(r),!this.xEt(s)){h.next=13;break}return u=ir({},s),h.abrupt("return",u);case 13:if(!this.BEt(s)){h.next=16;break}return o=new y(s),h.abrupt("return",o);case 16:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw h.prev=19,h.t0=h.catch(2),new Vm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 22:case"end":return h.stop()}},null,this,[[2,19]],we)},i.onCertificateResponse=function(t){var i,e,r,s,u;return nr.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new GG(e,this.ST),o.next=5,nr.awrap(this.OEt.PEt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,we)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,h;return nr.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new YG(e,this.ST),a.prev=3,a.next=6,nr.awrap(this.OEt.PEt(r));case 6:if(!(s=a.sent)){a.next=17;break}if(u=JSON.parse(s),!this.xEt(u)){a.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.BEt(u)){a.next=17;break}return h=new y(u),a.abrupt("return",h);case 17:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new Vm(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],we)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return nr.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=ir({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new jG(r,this.ST),h.next=6,nr.awrap(this.OEt.PEt(s));case 6:if(!(u=h.sent)){h.next=12;break}return o=JSON.parse(u),h.abrupt("return",new y(o));case 12:throw new Vm(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return h.stop()}},null,this,null,we)},i.extractFairplayContentId=function(t){var i,e;return nr.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new QG(t,this.ST),r.next=3,nr.awrap(this.OEt.PEt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",we.reject(new Vm(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,we)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.xEt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.BEt=function(t){return!!new y(t)},t}(),JG=function(){function t(t){this.OEt=void 0,this.OEt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new ZG(this.OEt,t.integration),i=new XG({drmConfiguration:t},t.integration);return this.OEt.PEt(i),n},t}(),$G=function(){var t=this;this.jwt=void 0,this.LEt=function(n){var i=new JG(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:Jb.CT.RT(r,s,i)};t.messageDispatcher.PEt(new VG(u,r))},this.jwt=new FG,EV().contentProtectionIntegration={sdkEventBus:this.jwt},this.jwt.addEventListener(MG.TEt,this.LEt)},KG="nativePromiseCallback",tQ=function(t){function n(n){var i;return(i=t.call(this,KG)||this).detail=n,i}return S(n,t),n}(Ps);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(WG||(WG={}));var nQ=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new tQ(n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(OV),iQ=function(){function t(){var t=this;this.AEt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case WG.RESOLVE:i.Is(n.detail.data);break;case WG.REJECT:i.Ns(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new nQ;EV().nativePromise={sdkEventBus:n},n.addEventListener(KG,this.handleNativePromiseEvent)}return t.prototype.PEt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=ir({},n,{promiseId:e}),s=new no;return this.promisesMap[e]=s,null==(i=this.AEt)||i.BG(n.type,Qz(r)),s.Ss},t}();iQ.messageIdTracker=-1;var eQ=function(t){function n(){var n;return(n=t.call(this)||this).AEt=new KV,n}return S(n,t),n}(iQ),rQ=function(t){function n(){var n;return(n=t.call(this)||this).OEt=new eQ,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.OEt}}]),n}($G);YI(function(t){new rQ});var sQ=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(Ps);var uQ,oQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).MEt=function(){},e.UEt(),e}S(n,t);var e=n.prototype;return e.FEt=function(){this.lR&&this.lR.Xr(yc.ra,this.handleAirplayChangedEvent),this.lR=this.WO,this.lR.Hr(yc.ra,this.handleAirplayChangedEvent)},e.HEt=function(){return nr.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lR){t.next=2;break}return t.abrupt("return");case 2:this.zEt(YS.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,we)},e.VEt=function(){this.zEt(YS.AVAILABLE)},e.rg=function(){i.xe.Ji&&(this.WEt.ug(),this.XEt.Cr(),this.XEt=new ls,Ss(this.qEt(this.XEt.xr)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Sd=void 0,e.WEt=void 0,e.lR=void 0,e.WO=void 0,e.Ii=YS.UNAVAILABLE,e.XEt=new ls,e.MEt=void 0,e.handleAirplayChangedEvent=function(){e.lR&&e.lR.bg?e.HEt():e.HX===YS.CONNECTED&&e.VEt()},e.WEt=n,e.WO=i,e}S(n,t);var e=n.prototype;return e.UEt=function(){this.FEt(),this.WEt.Hr("sourcechange",this.MEt),i.xe.Ji&&this.zEt(YS.AVAILABLE)},e.preloadPlayer=function(t){if(ws(t),this.lR.Dl<Uw.i_){var n=this.lR.Yr("loadedmetadata",t);return this.lR.Cg=sS.$y,n}return we.resolve()},e.zEt=function(t){t!==this.Ii&&(this.Ii=t,this.Fr(new sQ(this.Ii)))},e.qEt=function(t){return nr.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,nr.awrap(this.preloadPlayer(t));case 2:this.WO.rg();case 3:case"end":return n.stop()}},null,this,null,we)},e.sg=function(){i.xe.Ji&&this.lR.sg()},e.hv=function(){this.Wr(),this.WEt.Xr("sourcechange",this.MEt),this.XEt.Cr()},A(n,[{key:"kx",get:function(){return this.HX===YS.CONNECTED}},{key:"HX",get:function(){return this.Ii}},{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{get casting(){return t.kx},get state(){return t.HX},start:function(){t.rg()},stop:function(){t.sg()},addEventListener:function(n,i){var e=fw(n,aw);t.Hr(e,i)},removeEventListener:function(n,i){var e=fw(n,aw);t.Xr(e,i)}})),this.Sd}}]),n}(Cs));qI(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Rd=function(){var n=this.mB.Ed;return nw(t.prototype.Rd.call(this),{get cast(){return n}})},n}(t)},MI.bB),qI(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).GEt=void 0,e.GEt=new oQ(Tt(e),e.vx),e.mB.yx(e.GEt),e.Hr("currentsourcechange",function(){e.GEt.FEt()}),e}S(n,t);var i=n.prototype;return i.Rd=function(){var n=this,i=t.prototype.Rd.call(this);return nw(i.cast,{get airplay(){return n.GEt.Ed}}),i},i.hv=function(){this.GEt.hv(),t.prototype.hv.call(this)},n}(t)},MI.bB),function(t){t.QEt="airplaystatechange"}(uQ||(uQ={}));var hQ=function(t){this.type=uQ.QEt,this.state=t},aQ=function(t){function n(n){var i;return(i=t.call(this)||this).YEt=void 0,i.jEt=function(t){var n=new hQ(t.state);i.yEt(n)},i.YEt=n,i.IJ(n),i}return S(n,t),n.prototype.IJ=function(t){t.addEventListener("statechange",this.jEt)},n}(LG);YI(function(t){var n;null!=(n=t.Ed.cast)&&n.airplay&&new aQ(t.Ed.cast.airplay)}),n.ChromelessPlayer=vN,n.Player=vN,n.cache=RG,n.createGlobals=NV,n.features=["hls","airplay"],n.getCueMirrorMap=RV,n.getGlobalId=IV,n.getSdkEventBridge=EV,n.playerSuiteVersion="2022.2.2",n.players=_N,n.registerContentProtectionIntegration=gN,n.utils=lN,n.version="3.5.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
