/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: long.js
 (Apache 2.0), promise-polyfill (MIT - Copyright (c) 2014
 Taylor Hakes & Forbes Lindesay), shaka-player (Apache 2.0 -
 Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)


 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2022.3.1 (3.7.0)
 Created: 2022-08-01T13:47:25.349Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,e,r=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,m=t.isNaN,y=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest);function b(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function A(t,n,i){return n&&b(t.prototype,n),i&&b(t,i),l.defineProperty(t,"prototype",{writable:!1}),t}function T(t,n){return(T=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function S(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,T(t,n)}!function(t){t.l="web",t.g="android",t.R="android-tv",t.I="ios",t.N="tvos",t.C="chromecast"}(e||(e={}));var E=o?o.userAgent:"",R=E.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),I=E.match(/Edg\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),N=E.match(/Android ([0-9\.]+)/i),D=E.match(/Windows NT ([0-9\.]+)/i),C=E.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),x=E.match(/Firefox\/([0-9\.]+)/i),O=E.match(/OPR\/(\d+\.\d+)/i),P=E.match(/Tizen ([0-9\.]+)/i),B=function(){function n(){this.B=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.M=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(E)||/(macintosh|mac(?=_powerpc)\s)/i.test(E),this.U=/Windows NT/i.test(E),this.F=D?w(D[1]):0,this.H=/Android/i.test(E),this.V=N?w(N[1]):0,this.G=/windows phone (8|8\.1)/i.test(E),this.Y=/iPhone/i.test(E),this.j=/iPad/i.test(E),this.Z=this.M&&this.B&&!this.j,this.J=/iPod/i.test(E),this.K=/Mobile Safari/i.test(E),this.nt=/EOSSTB/i.test(E),this.it=(this.Y||this.j||this.Z||this.J)&&!this.G,this.et=this.G||this.it||this.H||this.K,this.st=/CriOS/i.test(E),this.ut=Boolean(t.chrome&&/google/i.test(o.vendor))||this.st,this.ot=this.ut&&/Edg\//i.test(o.userAgent),this.ht=I?g(I[1],10):0,this.ct=Boolean(t.chrome||/Chrome/i.test(E)||/CriOS/i.test(E)),this.ft=R?g(R[1],10):0,this.vt=/SMART-TV.*Tizen/i.test(E),this.dt=P?w(P[1]):0,this._t=/webos|web0s/i.test(E),this.wt=/Edge\/\d+/i.test(E),this.yt=/Trident/i.test(E),this.kt=this.yt&&!t.ActiveXObject&&"ActiveXObject"in t,this.pt=/Vivaldi/i.test(E),this.bt=/Firefox/i.test(E)&&!/Seamonkey/i.test(E),this.At=x?w(x[1]):0,this.Tt=/Safari/i.test(E)&&!/Chrome/i.test(E)&&!this.G&&!this.vt,this.St=C?w(C[2]):0,this.Et=Boolean(O),this.Rt=O?w(O[1]):0,this.It=/CrKey/.test(E),this.Nt=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(E),this.Dt="ios"===e.R,this.Ct="ios"===e.g,this.xt=this.Ct||this.Dt,this.Ot="ios"===e.I,this.Pt="ios"===e.N,this.Bt="ios"===e.C}return A(n,[{key:"Lt",get:function(){return this.B}},{key:"Mt",get:function(){return this.M}},{key:"Ut",get:function(){return this.U}},{key:"Ft",get:function(){return this.F}},{key:"Ht",get:function(){return this.H}},{key:"zt",get:function(){return this.V}},{key:"Vt",get:function(){return this.G}},{key:"Wt",get:function(){return this.Y}},{key:"Xt",get:function(){return this.j}},{key:"qt",get:function(){return this.Z}},{key:"Gt",get:function(){return this.J}},{key:"Qt",get:function(){return this.it}},{key:"Yt",get:function(){return this.nt}},{key:"jt",get:function(){return this.K}},{key:"Zt",get:function(){return this.et}},{key:"Jt",get:function(){return this.st}},{key:"$t",get:function(){return this.ut}},{key:"Kt",get:function(){return this.ft}},{key:"tn",get:function(){return this.ot}},{key:"nn",get:function(){return this.ht}},{key:"in",get:function(){return this.vt}},{key:"rn",get:function(){return this.dt}},{key:"sn",get:function(){return this._t}},{key:"un",get:function(){return this.wt}},{key:"hn",get:function(){return this.yt}},{key:"an",get:function(){return this.kt}},{key:"cn",get:function(){return this.pt}},{key:"fn",get:function(){return this.bt}},{key:"vn",get:function(){return this.At}},{key:"dn",get:function(){return this.Tt}},{key:"ln",get:function(){return this.St}},{key:"_n",get:function(){return this.Et}},{key:"gn",get:function(){return this.Rt}},{key:"wn",get:function(){return this.It}},{key:"mn",get:function(){return this.Nt}},{key:"yn",get:function(){if(!(this.sn||this.in))return!1;var t=this.Kt;return void 0===t||Number(t)<56}},{key:"kn",get:function(){return this.Dt}},{key:"pn",get:function(){return this.Ct}},{key:"bn",get:function(){return this.xt}},{key:"An",get:function(){return this.Ot}},{key:"Tn",get:function(){return this.Pt}},{key:"Sn",get:function(){return this.Bt}},{key:"En",get:function(){return this.ct}}]),n}();B.Rn=new B;var L=B.Rn,M={}.hasOwnProperty,U={}.toString;function F(t){return null!=t}function H(t){return void 0===t}var z=Array.isArray||function(t){return"[object Array]"===U.call(t)};function V(t){return W(t)&&M.call(t,"length")&&j(t.length)}function W(t){return"object"==typeof t&&null!==t}function X(t){return W(t)&&t.constructor&&t.constructor===l}function q(t){return"string"==typeof t}function G(t){return"boolean"==typeof t}function Q(t){return Boolean(t)&&"function"==typeof t.then}function Y(t){return"[object Date]"===U.call(t)}function j(t){return"number"==typeof t}var Z=function(){},J=function(t){return t};function $(t,n,e){var r;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var h=this,a=e&&!r;void 0!==r&&i.In(r),r=i.Nn(function(){r=void 0,e||t.apply(h,u)},n),a&&t.apply(h,u)}}var K=!(L.hn&&!L.an),tt=t.console;function nt(t){if(W(t))try{return JSON.stringify(t)}catch(t){}return t}function it(t){return t.map(nt).join(" ")}function et(t){var n=tt&&tt[t];return n?n.bind&&K?n.bind(tt):function(){for(var n=arguments.length,i=new Array(n),e=0;e<n;e++)i[e]=arguments[e];tt[t](it(i))}:void 0}var rt,st=et("log")||Z,ut=et("warn")||st.bind(void 0,"WARNING:"),ot=et("error")||st.bind(void 0,"ERROR:"),ht=(rt=tt&&tt.assert)?rt.bind&&K?rt.bind(tt):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];tt.assert(t,it(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ot.apply(void 0,["Assertion failed:"].concat(i))}},at=null;try{at=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function ct(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function ft(t){return!0===(t&&t.Dn)}function vt(t){var n=_.clz32(t&-t);return t?31-n:n}ct.prototype.Dn,l.defineProperty(ct.prototype,"Dn",{value:!0}),ct.isLong=ft;var dt={},lt={};function _t(t,n){var i,e,r;return n?(r=0<=(t>>>=0)&&t<256)&&(e=lt[t])?e:(i=wt(t,0,!0),r&&(lt[t]=i),i):(r=-128<=(t|=0)&&t<128)&&(e=dt[t])?e:(i=wt(t,t<0?-1:0,!1),r&&(dt[t]=i),i)}function gt(t,n){if(m(t))return n?Et:St;if(n){if(t<0)return Et;if(t>=bt)return Ct}else{if(t<=-At)return xt;if(t+1>=At)return Dt}return t<0?gt(-t,n).neg():wt(t%pt|0,t/pt|0,n)}function wt(t,n,i){return new ct(t,n,i)}ct.fromInt=_t,ct.fromNumber=gt,ct.fromBits=wt;var mt=_.pow;function yt(t,n,i){if(0===t.length)throw v("empty string");if("number"==typeof n?(i=n,n=!1):n=!!n,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return n?Et:St;if((i=i||10)<2||36<i)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw v("interior hyphen");if(0===e)return yt(t.substring(1),n,i).neg();for(var r=gt(mt(i,8)),s=St,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),h=g(t.substring(u,u+o),i);if(o<8){var a=gt(mt(i,o));s=s.mul(a).add(gt(h))}else s=(s=s.mul(r)).add(gt(h))}return s.unsigned=n,s}function kt(t,n){return"number"==typeof t?gt(t,n):"string"==typeof t?yt(t,n):wt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}ct.fromString=yt,ct.fromValue=kt;var pt=4294967296,bt=pt*pt,At=bt/2,Tt=_t(1<<24),St=_t(0);ct.ZERO=St;var Et=_t(0,!0);ct.UZERO=Et;var Rt=_t(1);ct.ONE=Rt;var It=_t(1,!0);ct.UONE=It;var Nt=_t(-1);ct.NEG_ONE=Nt;var Dt=wt(-1,2147483647,!1);ct.MAX_VALUE=Dt;var Ct=wt(-1,-1,!0);ct.MAX_UNSIGNED_VALUE=Ct;var xt=wt(0,-2147483648,!1);ct.MIN_VALUE=xt;var Ot=ct.prototype;Ot.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ot.toNumber=function(){return this.unsigned?(this.high>>>0)*pt+(this.low>>>0):this.high*pt+(this.low>>>0)},Ot.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(xt)){var n=gt(t),i=this.div(n),e=i.mul(n).sub(this);return i.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var r=gt(mt(t,6),this.unsigned),s=this,u="";;){var o=s.div(r),h=(s.sub(o.mul(r)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Ot.getHighBits=function(){return this.high},Ot.getHighBitsUnsigned=function(){return this.high>>>0},Ot.getLowBits=function(){return this.low},Ot.getLowBitsUnsigned=function(){return this.low>>>0},Ot.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ot.isZero=function(){return 0===this.high&&0===this.low},Ot.eqz=Ot.isZero,Ot.isNegative=function(){return!this.unsigned&&this.high<0},Ot.isPositive=function(){return this.unsigned||this.high>=0},Ot.isOdd=function(){return 1==(1&this.low)},Ot.isEven=function(){return 0==(1&this.low)},Ot.equals=function(t){return ft(t)||(t=kt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ot.eq=Ot.equals,Ot.notEquals=function(t){return!this.eq(t)},Ot.neq=Ot.notEquals,Ot.ne=Ot.notEquals,Ot.lessThan=function(t){return this.comp(t)<0},Ot.lt=Ot.lessThan,Ot.lessThanOrEqual=function(t){return this.comp(t)<=0},Ot.lte=Ot.lessThanOrEqual,Ot.le=Ot.lessThanOrEqual,Ot.greaterThan=function(t){return this.comp(t)>0},Ot.gt=Ot.greaterThan,Ot.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ot.gte=Ot.greaterThanOrEqual,Ot.ge=Ot.greaterThanOrEqual,Ot.compare=function(t){if(ft(t)||(t=kt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ot.comp=Ot.compare,Ot.negate=function(){return!this.unsigned&&this.eq(xt)?xt:this.not().add(Rt)},Ot.neg=Ot.negate,Ot.add=function(t){ft(t)||(t=kt(t));var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=r+(65535&t.low))>>>16,a+=(c+=e+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,wt((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Ot.subtract=function(t){return ft(t)||(t=kt(t)),this.add(t.neg())},Ot.sub=Ot.subtract,Ot.multiply=function(t){if(this.isZero())return this;if(ft(t)||(t=kt(t)),at)return wt(at.mul(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned);if(t.isZero())return this.unsigned?Et:St;if(this.eq(xt))return t.isOdd()?xt:St;if(t.eq(xt))return this.isOdd()?xt:St;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Tt)&&t.lt(Tt))return gt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,e=this.low>>>16,r=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=r*h)>>>16,c+=(f+=e*h)>>>16,f&=65535,c+=(f+=r*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=e*o)>>>16,c&=65535,a+=(c+=r*u)>>>16,a+=n*h+i*o+e*u+r*s,wt((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Ot.mul=Ot.multiply,Ot.divide=function(t){if(ft(t)||(t=kt(t)),t.isZero())throw v("division by zero");var n,i,e;if(at)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?wt((this.unsigned?at.div_u:at.div_s)(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Et:St;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Et;if(t.gt(this.shru(1)))return It;e=Et}else{if(this.eq(xt))return t.eq(Rt)||t.eq(Nt)?xt:t.eq(xt)?Rt:(n=this.shr(1).div(t).shl(1)).eq(St)?t.isNegative()?Rt:Nt:(i=this.sub(t.mul(n)),e=n.add(i.div(t)));if(t.eq(xt))return this.unsigned?Et:St;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=St}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var r=_.ceil(_.log(n)/_.LN2),s=r<=48?1:mt(2,r-48),u=gt(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=gt(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Rt),e=e.add(u),i=i.sub(o)}return e},Ot.div=Ot.divide,Ot.modulo=function(t){return ft(t)||(t=kt(t)),at?wt((this.unsigned?at.rem_u:at.rem_s)(this.low,this.high,t.low,t.high),at.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ot.mod=Ot.modulo,Ot.rem=Ot.modulo,Ot.not=function(){return wt(~this.low,~this.high,this.unsigned)},Ot.countLeadingZeros=function(){return this.high?_.clz32(this.high):_.clz32(this.low)+32},Ot.clz=Ot.countLeadingZeros,Ot.countTrailingZeros=function(){return this.low?vt(this.low):vt(this.high)+32},Ot.ctz=Ot.countTrailingZeros,Ot.and=function(t){return ft(t)||(t=kt(t)),wt(this.low&t.low,this.high&t.high,this.unsigned)},Ot.or=function(t){return ft(t)||(t=kt(t)),wt(this.low|t.low,this.high|t.high,this.unsigned)},Ot.xor=function(t){return ft(t)||(t=kt(t)),wt(this.low^t.low,this.high^t.high,this.unsigned)},Ot.shiftLeft=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):wt(0,this.low<<t-32,this.unsigned)},Ot.shl=Ot.shiftLeft,Ot.shiftRight=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):wt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ot.shr=Ot.shiftRight,Ot.shiftRightUnsigned=function(t){return ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?wt(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):wt(32===t?this.high:this.high>>>t-32,0,this.unsigned)},Ot.shru=Ot.shiftRightUnsigned,Ot.shr_u=Ot.shiftRightUnsigned,Ot.rotateLeft=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?wt(this.high,this.low,this.unsigned):t<32?(n=32-t,wt(this.low<<t|this.high>>>n,this.high<<t|this.low>>>n,this.unsigned)):(n=32-(t-=32),wt(this.high<<t|this.low>>>n,this.low<<t|this.high>>>n,this.unsigned))},Ot.rotl=Ot.rotateLeft,Ot.rotateRight=function(t){var n;return ft(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?wt(this.high,this.low,this.unsigned):t<32?(n=32-t,wt(this.high<<n|this.low>>>t,this.low<<n|this.high>>>t,this.unsigned)):(n=32-(t-=32),wt(this.low<<n|this.high>>>t,this.high<<n|this.low>>>t,this.unsigned))},Ot.rotr=Ot.rotateRight,Ot.toSigned=function(){return this.unsigned?wt(this.low,this.high,!1):this},Ot.toUnsigned=function(){return this.unsigned?this:wt(this.low,this.high,!0)},Ot.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ot.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ot.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},ct.fromBytes=function(t,n,i){return i?ct.fromBytesLE(t,n):ct.fromBytesBE(t,n)},ct.fromBytesLE=function(t,n){return new ct(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},ct.fromBytesBE=function(t,n){return new ct(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Pt=_.pow(2,-52);function Bt(t,n,i){return _.min(_.max(t,n),i)}function Lt(t,n,i){return t===n||_.abs(t-n)<=i}function Mt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<Pt||i<_.max(_.abs(t),_.abs(n))*Pt}function Ut(t){return t!=t}function Ft(t,n){return t===n||Ut(t)&&Ut(n)}function Ht(t,n){for(var i=t,e=n;0!==e;){var r=i%e;i=e,e=r}return i<0?-i:i}function zt(){return Date.now()||(new Date).getTime()}function Vt(t){return t/1e3}var Wt,Xt=ct.fromNumber(9007199254740991);function qt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(Xt))return t.toNumber()/n;var i=t.divide(n),e=t.subtract(i.multiply(n));return i.toNumber()+e.toNumber()/n}function Gt(t){return t.Cn===Wt.xn}function Qt(t){return t.Cn===Wt.On}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.xn=1]="xn",t[t.Pn=2]="Pn",t[t.On=3]="On",t[t.Bn=4]="Bn",t[t.Ln=9]="Ln"}(Wt||(Wt={}));var jt=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(jt.prototype=l.create(v.prototype)).constructor=jt;var Zt=function(t){function n(n,i){var e;return(e=t.call(this)||this).cause=void 0,e.message=n||"Unknown error",e.cause=i,v.captureStackTrace&&v.captureStackTrace(Yt(e),e.constructor),e}return S(n,t),A(n,[{key:"name",get:function(){return"BaseError"}}]),n}(jt),Jt=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return S(n,t),n}(Zt),$t=function(){function t(){}return t.prototype.Mn=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new Jt(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new Jt;return new un(n)},t}(),Kt=function(){function t(t){this.Un=void 0,this.Un=t}var n=t.prototype;return n.Fn=function(t){return this.Un.isEqualNode(t.Un)},n.Hn=function(n){return new t(this.Un.cloneNode(n))},A(t,[{key:"Cn",get:function(){return Wt.Pn}},{key:"zn",get:function(){var t;return null!=(t=this.Un.localName)?t:an(this.Un.nodeName)}},{key:"Vn",get:function(){return this.Un.nodeName}},{key:"Wn",get:function(){var t;return null!=(t=this.Un.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Un.prefix)?t:void 0}},{key:"qn",get:function(){return this.Un.nodeValue}}]),t}(),tn=function(){function t(t){this.Gn=void 0,this.Qn=void 0,this.Gn=t}var n=t.prototype;return n.Yn=function(t){return this.jn.filter(function(n){return on(n)&&n.Zn===t})},n.Jn=function(t,n){return this.jn.filter(function(i){return on(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Gn.appendChild(t.Kn),this.Qn&&this.Qn.push(t)},n.Fn=function(t){return this.Gn.isEqualNode(t.Kn)},A(t,[{key:"jn",get:function(){return void 0===this.Qn&&(this.Qn=function(t){for(var n=[],i=0;i<t.length;i++){var e=hn(t.item(i));e&&n.push(e)}return n}(this.Gn.childNodes)),this.Qn}},{key:"ti",get:function(){return this.jn.filter(on)}},{key:"Kn",get:function(){return this.Gn}}]),t}(),nn=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.ni=function(t){if(this.Gn.hasAttribute(t))return this.Gn.getAttribute(t)},i.ii=function(t,n){if(this.Gn.hasAttributeNS(t,n))return this.Gn.getAttributeNS(t,n)},i.ei=function(t){this.Gn.removeAttribute(t)},i.ri=function(t,n){this.Gn.removeAttributeNS(t,n)},i.si=function(t,n){this.Gn.setAttribute(t,n)},i.ui=function(t,n,i){this.Gn.setAttributeNS(t,n,i)},i.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.xn}},{key:"zn",get:function(){var t;return null!=(t=this.Gn.localName)?t:an(this.Gn.nodeName)}},{key:"Wn",get:function(){var t;return null!=(t=this.Gn.namespaceURI)?t:void 0}},{key:"Xn",get:function(){var t;return null!=(t=this.Gn.prefix)?t:void 0}},{key:"Zn",get:function(){return this.Gn.nodeName}},{key:"oi",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new Kt(t.item(i)));return n}(this.Gn.attributes)}},{key:"hi",get:function(){return this.Gn.textContent}}]),n}(tn),en=function(){function t(t){this.Gn=void 0,this.Gn=t}return t.prototype.Fn=function(t){return this.ai===t.ai},A(t,[{key:"ai",get:function(){return this.Gn.nodeValue}},{key:"Kn",get:function(){return this.Gn}}]),t}(),rn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.On}}]),n}(en),sn=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.Bn}}]),n}(en),un=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.Hn=function(t){return new n(this.Gn.cloneNode(t))},A(n,[{key:"Cn",get:function(){return Wt.Ln}},{key:"ci",get:function(){return new nn(this.Gn.documentElement)}}]),n}(tn);function on(t){return Gt(t)}function hn(t){switch(t.nodeType){case Wt.xn:return new nn(t);case Wt.On:return new rn(t);case Wt.Bn:return new sn(t)}}function an(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function cn(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function fn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var e=new Array(i),r=1;r<i;r*=2){vn(t,n,r,e);var s=t;t=e,e=s}return t}(t,n);return i!==t&&vn(i,null,t.length,t),t}function vn(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(r=0;r<a;r+=f)for(u=(s=r+i)+i,s>a&&(s=a),u>a&&(u=a),o=r,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<s)e[c++]=t[o++];else{if(!(h<u))break;e[c++]=t[h++]}}var dn=/[a-zA-Z]/,ln=/[0-9]/,_n=/[0-9a-fA-F]/,gn=/^0x/i,wn=/^[0-9]+$/,mn=/^[0-9a-fA-F]+$/,yn=/^[0-7]+$/,kn=l.prototype.toString,pn=Array.isArray||function(t){return"[object Array]"===kn.call(t)},bn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function An(t){return pn(t)?t:Array.from(t)}function Tn(t){return t>=65&&t<=90}function Sn(t){return Tn(t)||function(t){return t>=97&&t<=122}(t)}function En(t){return t>=48&&t<=57}function Rn(t){return En(t)||Sn(t)}function In(t){return En(t)||t>=65&&t<=70||t>=97&&t<=102}function Nn(t){return Tn(t)?t+32:t}function Dn(t){return En(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Cn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var xn=_.min,On=String.fromCharCode,Pn=16384;function Bn(t){for(var n=t.length,i=[],e=0;e<n;e+=Pn){var r=xn(e+Pn,n);i.push(On.apply(null,t.slice(e,r)))}return i.join("")}var Ln=/[^\0-\x7E]/,Mn=/[\x2E\u3002\uFF0E\uFF61]/g,Un={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Fn=_.floor,Hn=String.fromCharCode;function zn(t){throw new RangeError(Un[t])}function Vn(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}var Wn,Xn,qn,Gn=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},Qn=function(t,n,i){var e=0;for(t=i?Fn(t/700):t>>1,t+=Fn(t/n);t>455;e+=36)t=Fn(t/35);return Fn(e+36*t/(t+38))},Yn=function(t){return function(t,n){var i=t.split("@"),e="";i.length>1&&(e=i[0]+"@",t=i[1]);var r=function(t,n){for(var i=[],e=t.length;e--;)i[e]=n(t[e]);return i}((t=t.replace(Mn,".")).split("."),n).join(".");return e+r}(t,function(t){return Ln.test(t)?"xn--"+function(t){for(var n=[],i=(t=Vn(t)).length,e=128,r=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Hn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=e&&l<f&&(f=l)}var _=c+1;f-e>Fn((2147483647-r)/_)&&zn("overflow"),r+=(f-e)*_,e=f;for(var g=0,w=t;g<w.length;g++){var m=w[g];if(m<e&&++r>2147483647&&zn("overflow"),m==e){for(var y=r,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(y<p)break;var b=y-p,A=36-p;n.push(Hn(Gn(p+b%A,0))),y=Fn(b/A)}n.push(Hn(Gn(y,0))),s=Qn(r,_,c==a),r=0,++c}}++r,++e}return n.join("")}(t):t})};function jn(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return Bn(n)}function Zn(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Jn(t,n){return t>>n&63|128}function $n(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Zn(t),n.push(t>>12&15|224),n.push(Jn(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Jn(t,12)),n.push(Jn(t,6))),n.push(63&t|128)):n.push(t)}function Kn(t){for(var n=[],i=0;i<t.length;i++){$n(t[i],n)}return n}function ti(){if(qn>=Xn)throw new v("Invalid byte index");var t=255&Wn[qn];if(qn++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function ni(){var t,n;if(qn>Xn)throw new v("Invalid byte index");if(qn===Xn)return!1;if(t=255&Wn[qn],qn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ti())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ti()<<6|ti())>=2048)return Zn(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ti()<<12|ti()<<6|ti())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function ii(t){return[37,Cn(t>>4),Cn(15&t)]}function ei(t){return function(t){return t>=0&&t<=31}(t)||t>126}function ri(t){return ei(t)||32===t||34===t||60===t||62===t||96===t}function si(t){return ri(t)||35===t||63===t||123===t||125===t}function ui(t){return si(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function oi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function hi(t){return oi(t)||39===t}function ai(t,n){if(!n(t))return[t];for(var i=Kn([t]),e=[],r=0;r<i.length;r++){var s=i[r];e.push.apply(e,ii(s))}return e}function ci(t,n){for(var i=[],e=0,r=Vn(t);e<r.length;e++){var s=r[e];i.push.apply(i,ai(s,n))}return jn(i)}function fi(t){return function(t){for(var n=[],i=t.length,e=0;e<i;e++){var r=t[e];if(37===r&&e+2<i&&In(t[e+1])&&In(t[e+2])){var s=Dn(t[e+1])<<4|Dn(t[e+2]);n.push(s),e+=2}else n.push(r)}return n}(Kn(t))}function vi(t){return jn(function(t){Wn=t.slice(),Xn=Wn.length,qn=0;for(var n,i=[];!1!==(n=ni());)i.push(n);return i}(fi(Vn(t))))}function di(t){var n,i,e,r,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&_n.test(t[a]);)c=c<<4|g(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!ln.test(t[a]))throw new d;for(;a<s&&ln.test(t[a]);){var _=g(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)e=h+w-1,r=void 0,r=(n=u)[i=o],n[i]=n[e],n[e]=r,o-=1,w-=1}else if(8!==o)throw new d;return u}function li(t){var n=10,i=wn;return gn.test(t)?(t=t.slice(2),n=16,i=mn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=yn),""===t?0:i.test(t)?g(t,n):void 0}var _i={fi:4},gi=/[\0\t\n\r #%/:?@\[\\\]]/,wi=/[\0\t\n\r #/:?@\[\\\]]/;function mi(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{fi:2,vi:di(t.slice(1,-1))}}if(!n)return function(t){if(wi.test(t))throw new d("Invalid code point in opaque host");var n=ci(t,ei);return""===n?_i:{fi:3,di:n}}(t);var i=function(t){return function(t){return Yn(t.toLowerCase())}(t)}(vi(t));if(gi.test(i))throw new d("Invalid code point in host");var e=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],e=0;e<n.length;e++){var r=n[e];if(""===r)return;var s=li(r);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==e?{fi:1,vi:e}:""===i?_i:{fi:0,li:i}}function yi(t){switch(t.fi){case 0:return t.li;case 1:return function(t){for(var n=[],i=t,e=1;e<=4;e++)n.push(""+(255&i)),4!==e&&n.push("."),i>>>=8;return n.reverse().join("")}(t.vi);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,e=0,r=0,s=0;s<8;s++)0===t[s]?(0===r&&(e=s),r++):(r>i&&(n=e,i=r),r=0);return r>i&&(n=e,i=r),i>1?n:null}(t),e=!1,r=0;r<8;r++){if(e){if(0===t[r])continue;e=!1}i!==r?(n+=t[r].toString(16),7!==r&&(n+=":")):(n+=0===r?"::":":",e=!0)}return n}(t.vi)+"]";case 3:return t.di;case 4:return""}}var ki=/\+/g;function pi(t){for(var n=t.split("&"),i=[],e=0;e<n.length;e++){var r=n[e];if(""!==r){var s=r.indexOf("="),u=void 0,o=void 0;-1!==s?(u=r.slice(0,s),o=r.slice(s+1)):(u=r,o=""),u=u.replace(ki," "),o=o.replace(ki," ");var h=vi(u),a=vi(o);i.push([h,a])}}return i}function bi(t){for(var n="",i=0;i<t.length;i++){var e=t[i];i>0&&(n+="&"),n+=Ai(Kn(Vn(e[0])))+"="+Ai(Kn(Vn(e[1])))}return n}function Ai(t){for(var n,i=[],e=0;e<t.length;e++){var r=t[e];32===r?i.push(43):42===(n=r)||45===n||46===n||95===n||Rn(n)?i.push(r):i.push.apply(i,ii(r))}return Bn(i)}var Ti=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Si(t){var n=""+t,i=Ti.exec(n);return i?function(t,n){for(var i=t.length,e=[],r=n;r<i;r++){var s=t.charCodeAt(r);if(Ri(s))if(Ii(s)||r===i-1)e.push(Ei);else{var u=t.charCodeAt(r+1);Ii(u)?(e.push(s,u),r++):e.push(Ei)}else e.push(s)}return t.slice(0,n)+Bn(e)}(n,i.index):n}var Ei=65533,Ri=function(t){return 55296==(63488&t)},Ii=function(t){return 0!=(1024&t)};function Ni(t,n){var i=t[0],e=n[0];return i===e?0:i<e?-1:1}function Di(t){t._i.length=0}function Ci(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t._i,pi(n))}function xi(t){if(t.gi){var n=bi(t._i);""===n&&(n=null),t.gi.gi.wi=n}}var Oi=function(){function t(t){if(void 0===t&&(t=void 0),this.gi=null,null==t)this._i=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Oi&&pn(s._i)&&(!bn||s[Symbol.iterator]===Pi))this._i=t._i.slice();else if(function(t){return null!=t&&(!!pn(t)||!!bn&&"function"==typeof t[Symbol.iterator])}(t)){this._i=[];for(var n=0,i=An(t);n<i.length;n++){var e=An(i[n]);if(2!==e.length)throw new d("Invalid name-value pair");this._i.push([Si(e[0]),Si(e[1])])}}else for(var r in this._i=[],t)l.prototype.hasOwnProperty.call(t,r)&&this._i.push([Si(r),Si(t[r])]);else(t=Si(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this._i=pi(t);var s}var n=t.prototype;return n.append=function(t,n){t=Si(t),n=Si(n),this._i.push([t,n]),xi(this)},n.delete=function(t){t=Si(t);for(var n=this._i,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}xi(this)},n.get=function(t){t=Si(t);for(var n=this._i,i=0;i<n.length;i++){var e=n[i];if(e[0]===t)return e[1]}return null},n.getAll=function(t){t=Si(t);for(var n=this._i,i=[],e=0;e<n.length;e++){var r=n[e];r[0]===t&&i.push(r[1])}return i},n.has=function(t){t=Si(t);for(var n=this._i,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Si(t),n=Si(n);for(var i=this._i,e=!1,r=0;r<i.length;){var s=i[r];s[0]===t?e?i.splice(r,1):(s[1]=n,e=!0,r++):r++}e||i.push([t,n]),xi(this)},n.sort=function(){fn(this._i,Ni),xi(this)},n.toString=function(){return bi(this._i)},n.entries=function(){return new Ui(this._i,Bi)},n.keys=function(){return new Ui(this._i,Li)},n.values=function(){return new Ui(this._i,Mi)},n.forEach=function(t){var n=this;this._i.forEach(function(i){return t(i[1],i[0],n)})},t}(),Pi=Oi.prototype.entries;bn&&(Oi.prototype[Symbol.iterator]=Pi);var Bi=function(t){return[t[0],t[1]]},Li=function(t){return t[0]},Mi=function(t){return t[1]},Ui=function(){function t(t,n){this.mi=0,this._i=t,this.yi=n}return t.prototype.next=function(){return this.mi<this._i.length?{done:!1,value:this.yi(this._i[this.mi++])}:{done:!0,value:void 0}},t}(),Fi="null";var Hi=l.create(null);Hi.ftp=21,Hi.file=0,Hi.gopher=70,Hi.http=80,Hi.https=443,Hi.ws=80,Hi.wss=443;var zi=/^(?:\.|%2e)$/i,Vi=/^(?:\.|%2e){2}$/i;function Wi(t){return zi.test(t)}function Xi(t){return Vi.test(t)}function qi(t){return void 0!==Hi[t]}function Gi(t){return qi(t.ki)}function Qi(t){return""!==t.pi||""!==t.bi}function Yi(t){var n=t.length;if(!(n>=2))return!1;if(!Zi(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function ji(t){return 2===t.length&&dn.test(t[0])&&(":"===t[1]||"|"===t[1])}function Zi(t){return 2===t.length&&ji(Bn(t))}function Ji(t){return ji(t)&&":"===t[1]}function $i(t){var n=t.Ai;0!==n.length&&("file"===t.ki&&1===n.length&&Ji(n[0])||n.pop())}function Ki(t){return null===t.Ti||_i===t.Ti||t.Si||"file"===t.ki}var te=-1,ne=/\t|\n|\r/g,ie=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function ee(t,n,i,e){void 0===i&&(i=null),void 0===e&&(e=null),i||(i=new se,t=t.replace(ie,""));var r=null!==e?e:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=Vn(t=t.replace(ne,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:te;switch(r){case 0:if(!Sn(v)){if(null===e){s.length=0,r=2;continue}throw new d("Invalid scheme")}s.push(Nn(v)),r=1;break;case 1:if(Rn(v)||43===v||45===v||46===v)s.push(Nn(v));else{if(58!==v){if(null===e){s.length=0,r=2,f=0;continue}throw new d("Invalid scheme")}var l=jn(s);if(null!==e){if(qi(i.ki)&&!qi(l))return;if(!qi(i.ki)&&qi(l))return;if((Qi(i)||null!==i.Ei)&&"file"===l)return;if("file"===i.ki&&(i.Ti===_i||null===i.Ti))return}if(i.ki=l,null!==e)return void(Gi(i)&&i.Ei===Hi[i.ki]&&(i.Ei=null));s.length=0,"file"===i.ki?r=13:Gi(i)&&n&&n.ki===i.ki?r=3:Gi(i)?r=7:47===a[f+1]?(r=4,f+=1):(i.Si=!0,i.Ai.push(""),r=18)}break;case 2:if(!n||n.Si&&35!==v)throw new d("Invalid scheme");n.Si&&35===v?(i.ki=n.ki,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",i.Si=!0,r=20):"file"!==n.ki?(r=5,f-=1):(r=13,f-=1);break;case 3:47===v&&47===a[f+1]?r=8:(r=5,f-=1);break;case 4:47===v?r=9:(r=17,f-=1);break;case 5:i.ki=n.ki,te===v?(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi=n.wi):47===v?r=6:63===v?(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi="",r=19):35===v?(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",r=20):92===v&&Gi(i)?r=6:(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,i.Ai=n.Ai.slice(),i.Ai.pop(),r=17,f-=1);break;case 6:!Gi(i)||47!==v&&92!==v?47===v?r=9:(i.pi=n.pi,i.bi=n.bi,i.Ti=n.Ti,i.Ei=n.Ei,r=17,f-=1):r=8;break;case 7:if(47!==v||47!==a[f+1]){r=8;continue}r=8,f+=1;break;case 8:47!==v&&92!==v&&(r=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||h){var m=jn(ai(w,ui));h?i.bi+=m:i.pi+=m}else h=!0}s.length=0}else if(te===v||47===v||63===v||35===v||Gi(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,r=10}else s.push(v);break;case 10:case 11:if(null!==e&&"file"===i.ki)f-=1,r=15;else if(58!==v||o)if(te===v||47===v||63===v||35===v||Gi(i)&&92===v){if(f-=1,Gi(i)&&0===s.length)throw new d("Invalid host");if(null!==e&&0===s.length&&(Qi(i)||null!==i.Ei))return;var y=mi(jn(s),Gi(i));if(i.Ti=y,s.length=0,r=16,null!==e)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var k=mi(jn(s),Gi(i));if(i.Ti=k,s.length=0,r=12,11===e)return}break;case 12:if(En(v))s.push(v);else{if(!(te===v||47===v||63===v||35===v||Gi(i)&&92===v||null!==e))throw new d("Invalid port");if(0!==s.length){var p=g(jn(s),10);if(p>65535)throw new d("Invalid port");i.Ei=p===Hi[i.ki]?null:p,s.length=0}if(null!==e)return;r=16,f-=1}break;case 13:i.ki="file",47===v||92===v?r=14:n&&"file"===n.ki?te===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi=n.wi):63===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi="",r=19):35===v?(i.Ti=n.Ti,i.Ai=n.Ai.slice(),i.wi=n.wi,i.Ri="",r=20):(Yi(a.slice(f))||(i.Ti=n.Ti,i.Ai=n.Ai.slice(),$i(i)),r=17,f-=1):(r=17,f-=1);break;case 14:47===v||92===v?r=15:(n&&"file"===n.ki&&!Yi(a.slice(f))&&(Ji(n.Ai[0])?i.Ai.push(n.Ai[0]):i.Ti=n.Ti),r=17,f-=1);break;case 15:if(te===v||47===v||92===v||63===v||35===v)if(f-=1,null===e&&Zi(s))r=17;else if(0===s.length){if(i.Ti=_i,null!==e)return;r=16}else{var b=mi(jn(s),Gi(i));if(0===b.fi&&"localhost"===b.li&&(b=_i),i.Ti=b,null!==e)return;s.length=0,r=16}else s.push(v);break;case 16:Gi(i)?(r=17,47!==v&&92!==v&&(f-=1)):null===e&&63===v?(i.wi="",r=19):null===e&&35===v?(i.Ri="",r=20):te!==v&&(r=17,47!==v&&(f-=1));break;case 17:if(te===v||47===v||Gi(i)&&92===v||null===e&&(63===v||35===v)){var A=jn(s);if(Xi(A)?($i(i),47===v||Gi(i)&&92===v||i.Ai.push("")):!Wi(A)||47===v||Gi(i)&&92===v?Wi(A)||("file"===i.ki&&0===i.Ai.length&&Zi(s)&&(_i!==i.Ti&&null!==i.Ti&&(i.Ti=_i),s[1]=58,A=jn(s)),i.Ai.push(A)):i.Ai.push(""),s.length=0,"file"===i.ki&&(te===v||63===v||35===v))for(;i.Ai.length>1&&""===i.Ai[0];)i.Ai.shift();63===v?(i.wi="",r=19):35===v&&(i.Ri="",r=20)}else s.push.apply(s,ai(v,si));break;case 18:63===v?(i.wi="",r=19):35===v?(i.Ri="",r=20):te!==v&&(i.Ai[0]+=jn(ai(v,ei)));break;case 19:null===e&&35===v?(i.Ri="",r=20):te!==v&&(i.wi+=jn(ai(v,Gi(i)?hi:oi)));break;case 20:te===v||0===v||(i.Ri+=jn(ai(v,ri)))}f++}return i}function re(t,n,i,e){try{ee(t,n,i,e)}catch(t){}}var se=function(){this.ki="",this.pi="",this.bi="",this.Ti=null,this.Ei=null,this.Ai=[],this.wi=null,this.Ri=null,this.Si=!1};function ue(t){switch(t.ki){case"blob":var n;try{n=ee(t.Ai[0],null)}catch(t){return Fi}return ue(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ki,e=t.Ti,r=t.Ei,i+"://"+yi(e)+(null===r?"":":"+r);case"file":default:return Fi}var i,e,r}var oe,he,ae,ce,fe,ve,de=function(){function t(t,n){var i,e,r=null;if(null!=n)if(null!=(i=n)&&i instanceof de&&"object"==typeof i.gi)r=n.gi;else try{r=ee(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{e=ee(String(t),r)}catch(t){throw new d("Invalid URL: "+t.message)}var s=e.wi;this.gi=e,this.wi=function(t){var n=new Oi;return null!==t&&Ci(n,t),n}(s),this.wi.gi=this}var n,i,e,r=t.prototype;return r.toString=function(){return this.href},r.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ki+":";if(null!==t.Ti?(i+="//",Qi(t)&&(i+=t.pi,""!==t.bi&&(i+=":"+t.bi),i+="@"),i+=yi(t.Ti),null!==t.Ei&&(i+=":"+t.Ei)):null===t.Ti&&"file"===t.ki&&(i+="//"),t.Si)i+=t.Ai[0];else for(var e=0,r=t.Ai;e<r.length;e++)i+="/"+r[e];return null!==t.wi&&(i+="?"+t.wi),n||null===t.Ri||(i+="#"+t.Ri),i}(this.gi)},set:function(t){var n;try{n=ee(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.gi=n,Di(this.wi);var i=this.gi.wi;null!==i&&Ci(this.wi,i)}},{key:"origin",get:function(){return ue(this.gi)}},{key:"protocol",get:function(){return this.gi.ki+":"},set:function(t){re(t+":",null,this.gi,0)}},{key:"username",get:function(){return this.gi.pi},set:function(t){Ki(this.gi)||(this.gi.pi=ci(t,ui))}},{key:"password",get:function(){return this.gi.bi},set:function(t){Ki(this.gi)||(this.gi.bi=ci(t,ui))}},{key:"host",get:function(){var t=this.gi,n=t.Ti;if(null===n)return"";var i=t.Ei,e=yi(n);return null!==i&&(e+=":"+i),e},set:function(t){this.gi.Si||re(t,null,this.gi,10)}},{key:"hostname",get:function(){var t=this.gi.Ti;return null===t?"":yi(t)},set:function(t){this.gi.Si||re(t,null,this.gi,11)}},{key:"port",get:function(){var t=this.gi.Ei;return null===t?"":""+t},set:function(t){Ki(this.gi)||(""===t?this.gi.Ei=null:re(t,null,this.gi,12))}},{key:"pathname",get:function(){var t=this.gi.Ai;return this.gi.Si?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.gi.Si||(this.gi.Ai.length=0,re(t,null,this.gi,16))}},{key:"search",get:function(){var t=this.gi.wi;return null===t||""===t?"":"?"+t},set:function(t){t=Si(t);var n=this.gi;if(""===t)return n.wi=null,void Di(this.wi);"?"===t[0]&&(t=t.slice(1)),n.wi="",re(t,null,n,19),Ci(this.wi,t)}},{key:"searchParams",get:function(){return this.wi}},{key:"hash",get:function(){var t=this.gi.Ri;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.gi.Ri="",re(t,null,this.gi,20)):this.gi.Ri=null}}])&&cn(n.prototype,i),e&&cn(n,e),t}();function le(t){return t.document&&t.document.baseURI||t.location.href||""}var _e=h;function ge(t){return Boolean(t&&void 0!==t.length)}function we(){}function me(t){if(!(this instanceof me))throw new d("Promises must be constructed via new");if("function"!=typeof t)throw new d("not a function");this.Ii=0,this.Ni=!1,this.Di=void 0,this.Ci=[],Te(t,this)}function ye(t,n){for(;3===t.Ii;)t=t.Di;0!==t.Ii?(t.Ni=!0,me.xi(function(){var i=1===t.Ii?n.onFulfilled:n.onRejected;if(null!==i){var e;try{e=i(t.Di)}catch(t){return void pe(n.promise,t)}ke(n.promise,e)}else(1===t.Ii?ke:pe)(n.promise,t.Di)})):t.Ci.push(n)}function ke(t,n){try{if(n===t)throw new d("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if(n instanceof me)return t.Ii=3,t.Di=n,void be(t);if("function"==typeof i)return void Te((e=i,r=n,function(){e.apply(r,arguments)}),t)}t.Ii=1,t.Di=n,be(t)}catch(n){pe(t,n)}var e,r}function pe(t,n){t.Ii=2,t.Di=n,be(t)}function be(t){2===t.Ii&&0===t.Ci.length&&me.xi(function(){t.Ni||me.Oi(t.Di)});for(var n=0,i=t.Ci.length;n<i;n++)ye(t,t.Ci[n]);t.Ci=null}function Ae(t,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.promise=i}function Te(t,n){var i=!1;try{t(function(t){i||(i=!0,ke(n,t))},function(t){i||(i=!0,pe(n,t))})}catch(t){if(i)return;i=!0,pe(n,t)}}me.prototype.catch=function(t){return this.then(null,t)},me.prototype.then=function(t,n){var i=new this.constructor(we);return ye(this,new Ae(t,n,i)),i},me.prototype.finally=function(t){var n=this.constructor;return this.then(function(i){return n.resolve(t()).then(function(){return i})},function(i){return n.resolve(t()).then(function(){return n.reject(i)})})},me.all=function(t){return new me(function(n,i){if(!ge(t))return i(new d("Promise.all accepts an array"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var o=u.then;if("function"==typeof o)return void o.call(u,function(n){s(t,n)},i)}e[t]=u,0==--r&&n(e)}catch(t){i(t)}}for(var u=0;u<e.length;u++)s(u,e[u])})},me.allSettled=function(t){return new this(function(n,i){if(!t||void 0===t.length)return i(new d(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var e=Array.prototype.slice.call(t);if(0===e.length)return n([]);var r=e.length;function s(t,i){if(i&&("object"==typeof i||"function"==typeof i)){var u=i.then;if("function"==typeof u)return void u.call(i,function(n){s(t,n)},function(i){e[t]={status:"rejected",reason:i},0==--r&&n(e)})}e[t]={status:"fulfilled",value:i},0==--r&&n(e)}for(var u=0;u<e.length;u++)s(u,e[u])})},me.resolve=function(t){return t&&"object"==typeof t&&t.constructor===me?t:new me(function(n){n(t)})},me.reject=function(t){return new me(function(n,i){i(t)})},me.race=function(t){return new me(function(n,i){if(!ge(t))return i(new d("Promise.race accepts an array"));for(var e=0,r=t.length;e<r;e++)me.resolve(t[e]).then(n,i)})},me.xi="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){_e(t,0)},me.Oi=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Se=function(){var n=t.Promise;if(void 0!==n)try{if(-1!==n.toString().indexOf("[native code]"))return n}catch(t){}}(),Ee=o?o.userAgent:"",Re=Ee.match(/Firefox\/([0-9]+)/i),Ie=null!=Re,Ne=Re?Number(Re[1]):0,De=Ee.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),Ce=null!=De,xe=De?Number(De[3]):0,Oe=function(){function t(t){this.Pi=0,this.Bi=0,this.di=[],this.Li=t}return t.prototype.Mi=function(t){var n=this.length();this.Ui(n+1);var i=this.Bi+n&this.Li-1;this.di[i]=t,this.Pi=n+1},t.prototype.push=function(t){var n=this.length()+1;if(this.Li<n)this.Mi(t);else{var i=this.Bi+n-1,e=this.Li-1;this.di[i&e]=t,this.Pi=n}},t.prototype.shift=function(){var t=this.Bi,n=this.di[t];return this.di[t]=void 0,this.Bi=t+1&this.Li-1,this.Pi--,n},t.prototype.length=function(){return this.Pi},t.prototype.Ui=function(t){this.Li<t&&this.Fi(this.Li<<1)},t.prototype.Fi=function(t){var n=this.Li;this.Li=t;var i=this.Bi+this.Pi&n-1;!function(t,n,i,e){for(var r=0;r<e;++r)t[r+i]=t[r+n],t[r+n]=void 0}(this.di,0,n,i)},t}();var Pe="unhandledrejection",Be=t.PromiseRejectionEvent,Le=t.CustomEvent;function Me(t){return new Be(Pe,{reason:t,promise:Se.reject(t).catch(function(){}),cancelable:!0})}function Ue(t){var n=new Le(Pe,{detail:{reason:t},cancelable:!0});return l.defineProperty(n,"reason",{value:t}),n}function Fe(t){var n=s.createEvent("CustomEvent");return n.initCustomEvent(Pe,!1,!0,{reason:t}),n}var He,ze,Ve,We,Xe,qe,Ge,Qe=function(t){return(Qe=function(){try{var t=Se.resolve(),n=new Be(Pe,{reason:"error",promise:t});return Pe===n.type&&"error"===n.reason}catch(t){}return!1}()?Me:function(){try{var t=new Le(Pe,{detail:{reason:"error"}});return Pe===t.type&&"error"===t.detail.reason}catch(t){}return!1}()?Ue:Fe)(t)};if(Se&&!(Ie&&Ne<60||Ce&&xe<15))ze=Se;else{ze=me;var Ye=null!==(He=function(){var n=t.queueMicrotask;if("function"==typeof n)return function(t){return n(t)};var i=Se;if(i&&"function"==typeof i.resolve){var e=i.resolve();return function(t){return e.then(t)}}}())&&void 0!==He?He:me.xi,je=(Ve=Ye,We=new Oe(16),Xe=!1,{Hi:function(t){We.push(t),Xe||(Xe=!0,Ve(qe))},zi:qe=function(){for(;We.length()>0;)We.shift()();Xe=!1}});me.xi=je.Hi,me.Oi=function(n){try{var i=Qe(n);if(!t.dispatchEvent(i)||i.defaultPrevented)return}catch(t){}h(function(){throw new v("Unhandled promise rejection: ".concat(n))},0)}}function Ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Je(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function $e(t,n){L.in&&L.rn<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Ke(t,n){var i=n.style;if(i)for(var e in t)i[e]=t[e]}function tr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function nr(t){t.removeAttribute("title")}function ir(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function er(t){t.src&&(t.removeAttribute("src"),t.load())}function rr(){return void 0!==s?s.createElement("video"):void 0}function sr(){return Ge||(Ge=rr()),Ge}var ur=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),or=sr(),hr=!(!or||!or.webkitShowPlaybackTargetPicker),ar=function(){function t(){this.Vi=void 0,this.Wi=!1,this.Lt=ur,this.Zt=!1,this.Xi=!0,this.qi=!0}var n=t.prototype;return n.Gi=function(){return 0},n.Qi=function(t,n){return!0},n.Yi=function(t){return t>=1/6*2},A(t,[{key:"ji",get:function(){return void 0===this.Vi&&(this.Vi=this.Gi()),this.Vi}},{key:"Zi",get:function(){return r.devicePixelRatio||1}},{key:"Ji",get:function(){return hr}},{key:"$i",get:function(){return!1}},{key:"Ki",get:function(){return!0}},{key:"te",get:function(){return L.dn||L.Qt}},{key:"ie",get:function(){return!0}},{key:"ee",get:function(){return!0}},{key:"re",get:function(){return!1}},{key:"se",get:function(){}},{key:"ue",get:function(){return!0}},{key:"oe",get:function(){return!1}}]),t}(),cr=function(){var t=rr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(L.qt)return!1;var t=rr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var fr=function(t){function n(n){var i;return(i=t.call(this)||this).he=void 0,i.he=n,i.he&&(i.Wi=i.he.Wi,i.Lt=i.he.Lt,i.Xi=cr&&i.he.Xi),i}S(n,t);var i=n.prototype;return i.Gi=function(){return this.he?this.he.ji:t.prototype.Gi.call(this)},i.Qi=function(n,i){return this.he?this.he.Qi(n,i):t.prototype.Qi.call(this,n,i)},i.Yi=function(n){return this.he?this.he.Yi(n):t.prototype.Yi.call(this,n)},A(n,[{key:"se",get:function(){var t;return null==(t=this.he)?void 0:t.se}},{key:"ue",get:function(){var t,n;return null==(t=null==(n=this.he)?void 0:n.ue)||t}}]),n}(ar),vr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Wi=!0,i.Zt=!0,i}return S(n,t),A(n,[{key:"re",get:function(){return L.Qt}}]),n}(fr),dr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Gi=function(){return ce.MediaSource?t.prototype.Gi.call(this):1},A(n,[{key:"re",get:function(){return!0}}]),n}(vr),lr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(n,i){return t.prototype.Qi.call(this,n,i)},A(n,[{key:"$i",get:function(){return L.rn<3}},{key:"Ki",get:function(){return L.rn>=3}},{key:"oe",get:function(){return L.rn<3}}]),n}(fr),_r=function(t){function n(){return t.call(this)||this}return S(n,t),n}(ar),gr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Qi=function(t,n){if(t&&t.ae&&n&&n.ae){var i=wr(t.ae,"mp4a.40.2")&&wr(n.ae,"mp4a.40.5"),e=wr(t.ae,"mp4a.40.5")&&wr(n.ae,"mp4a.40.2"),r=wr(t.ae,"mp4a.40.2")&&wr(n.ae,"mp4a.40.34"),s=wr(t.ae,"mp4a.40.34")&&wr(n.ae,"mp4a.40.2"),u=wr(t.ae,"mp4a.40.5")&&wr(n.ae,"mp4a.40.34"),o=wr(t.ae,"mp4a.40.34")&&wr(n.ae,"mp4a.40.5");return!(i||e||r||s||u||o)}return!0},A(n,[{key:"se",get:function(){if(L.Mt)return 4096}}]),n}(_r);function wr(t,n){return t.indexOf(n)>-1}var mr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Yi=function(t){return t>=2},n}(_r),yr=function(t){function n(){var n;return(n=t.call(this)||this).Wi=L.ln>=11,n.Xi=L.dn&&!(L.Qt&&L.ln<10),n}return S(n,t),n}(_r),kr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"ie",get:function(){return!1}}]),n}(fr),pr=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"ue",get:function(){return!L.Ut||(L.tn?92!==L.nn:L.Kt>=100)}}]),n}(_r),br=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),A(n,[{key:"re",get:function(){return!0}}]),n}(fr),Ar=function(){function n(){var n;this.ce=void 0,this.fe=new $t,this.ve=new Tr,this.de=(n=function(){if(L.fn)return new gr;if(L.un||L.hn)return new mr;if(L.dn)return new yr;if(L.$t)return new pr;return new _r}(),L.Qt?new dr(n):L.Zt?new vr(n):L.in?new lr(n):L.sn?new kr(n):L.Mt?new br(n):new fr(n)),this._e=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.ce=function(){return t.performance.now()}:this.ce=zt}var i=n.prototype;return i.we=function(){st.apply(void 0,arguments)},i.me=function(){ut.apply(void 0,arguments)},i.ye=function(){ot.apply(void 0,arguments)},i.ke=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),e=1;e<n;e++)i[e-1]=arguments[e];ht.apply(void 0,[t].concat(i))},i.Nn=function(t,n){return h(t,n)},i.pe=function(t,n){return c(t,n)},i.In=function(t){a(t)},i.be=function(t){f(t)},i.Mn=function(t){return this.fe.Mn(t)},i.Ae=function(){return this.Te.Ae()},i.Se=function(){return this.Te.Se()},i.Ee=function(){return this.Te.Ee()},i.Re=function(){return this.Te.Re()},i.Ie=function(){return this.Te.Ie()},i.Ne=function(t,n){return this.Te.Ne(t,n)},i.De=function(t){return this.Te.De(t)},i.Ce=function(t,n){var i;return void 0===n&&(n=le(ce)),i="object"!=typeof n||n instanceof de?n:n.href,new de(t,i)},i.xe=function(n,i){if(void 0===i&&(i=le(ce)),this._e){var e=q(i)?i:i.toString();return new t.URL(n,e).href}return this.Ce(n,i).href},A(n,[{key:"Oe",get:function(){return this.ve}},{key:"Pe",get:function(){return this.de}},{key:"Be",get:function(){return{Le:o&&o.userAgent.match(/Android /i)?"Android":"other",Me:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Ue",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fe",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),Tr=function(){function t(){}return A(t,[{key:"He",get:function(){return o.oscpu}},{key:"Pe",get:function(){return o.platform}},{key:"ze",get:function(){return o.vendor}},{key:"Ve",get:function(){return o.vendorSub}}]),t}();var Sr={exports:{}};!function(t){var n,i=l.prototype,e=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function h(t,n,i,e){var r=n&&n.prototype instanceof y?n:y,s=l.create(r.prototype),u=new C(e||[]);return s.We=function(t,n,i){var e=c;return function(r,s){if(e===_)throw new v("Generator is already running");if(e===g){if("throw"===r)throw s;return O()}for(i.method=r,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.Xe=i.arg;else if("throw"===i.method){if(e===c)throw e=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);e=_;var h=a(t,n,i);if("normal"===h.type){if(e=i.done?g:f,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(e=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function y(){}function k(){}function p(){}var b={};b[s]=function(){return this};var A=l.getPrototypeOf,T=A&&A(A(x([])));T&&T!==i&&e.call(T,s)&&(b=T);var S=p.prototype=y.prototype=l.create(b);function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.We(n,t)}})}function R(t){var n;this.We=function(i,r){function s(){return new ze(function(n,s){!function n(i,r,s,u){var o=a(t[i],t,r);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&e.call(c,"qe")?ze.resolve(c.qe).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):ze.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,r,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var e=t.iterator[i.method];if(e===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var r=a(e,t.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,w;var s=r.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function x(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!m(t.length)){var r=-1,u=function i(){for(;++r<t.length;)if(e.call(t,r))return i.value=t[r],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:O}}function O(){return{value:n,done:!0}}k.prototype=S.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(S),t},t.awrap=function(t){return{qe:t}},E(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,e,r){var s=new R(h(n,i,e,r));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},E(S),S[o]="Generator",S[s]=function(){return this},S.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var e=n.pop();if(e in t)return i.value=e,i.done=!1,i}return i.done=!0,i}},t.values=x,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Xe=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&e.call(this,i)&&!m(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function r(e,r){return o.type="throw",o.arg=t,i.next=e,r&&(i.method="next",i.arg=n),!!r}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var h=e.call(u,"catchLoc"),a=e.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&e.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var e=i.completion;if("throw"===e.type){var r=e.arg;D(i)}return r}}throw new v("illegal catch attempt")},delegateYield:function(t,i,e){return this.delegate={iterator:x(t),resultName:i,nextLoc:e},"next"===this.method&&(this.arg=n),w}}}(Sr.exports);var Er=Sr.exports;function Rr(){return(Rr=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var e in i)l.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e])}return t}).apply(this,arguments)}function Ir(){var t=l.create(null);return t.Ge=void 0,delete t.Ge,t}function Nr(){return new Pr}function Dr(){return new Mr}function Cr(t){var n=Nr();for(var i in t)M.call(t,i)&&n.set(i,t[i]);return n}var xr,Or="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Pr=Or||(xr=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=Ir(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=Ir(),this.size=0},n.keys=function(){return new xr(this.data,function(t,n){return n})},n.values=function(){return new xr(this.data,function(t,n){return t[n]})},n.entries=function(){return new xr(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Br,Lr,Mr=Or||(Br=function(){function t(t,n){this.Qe=void 0,this.Ye=void 0,this.Qe=t,this.Ye=n}var n=t.prototype;return n.next=function(){var t=this.Qe.next();return t.done?t:{value:this.Ye(t.value),done:!1}},t}(),function(){function t(){this.je=Nr()}var n=t.prototype;return n.get=function(t){return this.je.get(""+t)},n.set=function(t,n){return this.je.set(""+t,n),this},n.has=function(t){return this.je.has(""+t)},n.delete=function(t){return this.je.delete(""+t)},n.clear=function(){this.je.clear()},n.keys=function(){return new Br(this.je.keys(),function(t){return Number(t)})},n.values=function(){return this.je.values()},n.entries=function(){return new Br(this.je.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.je.forEach(function(n,i){t(n,Number(i))})},A(t,[{key:"size",get:function(){return this.je.size}}]),t}());!function(t){t.Ze="9a04f079-9840-4286-ab92-e65be0885f95",t.Je="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t.$e="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",t.Ke="94ce86fb-07ff-4f43-adb8-93d2fa968ca2"}(Lr||(Lr={}));var Ur,Fr="urn:mpeg:dash:mp4protection:2011",Hr="cenc",zr="sinf",Vr="skd",Wr=Lr.Ze,Xr="urn:uuid:"+Wr,qr="com.microsoft.playready",Gr=Lr.Je,Qr="urn:uuid:"+Gr,Yr=Lr.$e,jr="urn:uuid:"+Yr,Zr=Lr.Ke,Jr="urn:uuid:"+Zr,$r="com.apple.fps.1_0";!function(t){t.Ze="playready",t.Je="widevine",t.Ke="fairplay",t.$e="clearkey",t.tr="aes128"}(Ur||(Ur={}));var Kr={nr:Ur.Ze,ir:qr,er:"cenc",rr:Wr,sr:Xr,ur:"PlayReady"},ts={nr:Ur.Je,ir:"com.widevine.alpha",er:"cenc",rr:Gr,sr:Qr,ur:"Widevine"},ns={nr:Ur.Ke,ir:$r,er:"skd",rr:Zr,sr:Jr,ur:"FairPlay"};Ur.Ke;var is={nr:Ur.$e,ir:"org.w3.clearkey",er:"cenc",rr:Yr,sr:jr,ur:"ClearKey"},es=[Kr,ts,ns,is];function rs(t){return es.filter(function(n){return n.sr===t.toLowerCase()})}function ss(t,n,i){return t.split(n).join(i)}function us(t,n){return null!=t&&-1!==t.indexOf(n)}function os(t,n){return null!=t&&t.substr(0,n.length)===n}function hs(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function as(t,n){return t.toUpperCase()===n.toUpperCase()}function cs(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var e=t,r="";1==(1&i)&&(r+=e),0!=(i>>>=1);)e+=e;return r}function fs(t,n,i){void 0===i&&(i=" ");var e=i,r=(0|n)-t.length;return r<=0?t:(r>e.length&&(e+=cs(e,r/e.length)),e.slice(0,r)+t)}function vs(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return ls(n)}var ds=16384;function ls(t){var n=t.length;if(n<=ds)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=ds)i.push(String.fromCharCode.apply(String,t.slice(e,e+ds)));return i.join("")}var _s=L.$t&&L.Kt>=42||L.fn&&L.vn>=38||L.un||L.an||L._n&&L.gn>=29;function gs(t,n){return us(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Rr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Rr({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ws(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function ms(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var ys,ks=function(){function t(t){this.hr=void 0,this.ar=Nr(),this.cr=void 0,this.hr=t}var n=t.prototype;return n.Ie=function(){return this.De(ts)},n.Se=function(){return this.De(is)},n.Re=function(){return this.De(Kr)},n.Ee=function(){return this.De(ns)},n.De=function(t){var n=t.sr,i=this.ar.get(n);if(i)return i;var e=this.Ne(t,'video/mp4; codecs="avc1.42000a"');return this.ar.set(n,e),e},n.Ne=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.hr.dr(t.ir,[gs(n,!0)]));case 3:return i.abrupt("return",!0);case 6:return i.prev=6,i.t0=i.catch(0),i.prev=8,i.next=11,Er.awrap(this.hr.dr(t.ir,[gs(n,!1)]));case 11:return i.abrupt("return",!0);case 14:return i.prev=14,i.t1=i.catch(8),i.abrupt("return",!1);case 17:case"end":return i.stop()}},null,this,[[0,6],[8,14]],ze)},n.Ae=function(){return this.cr||(this.cr=this._r()),this.cr},n._r=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==fe.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(_s){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,Er.awrap(this.Se());case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},null,this,null,ze)},t}();function ps(t,n){return As(t.slice(),n)}function bs(t,n){var i=As(t,n);return i!==t&&Ts(i,void 0,t.length,t),t}function As(t,n){var i=t,e=i.length;if(e<=1)return i;for(var r=new Array(e),s=1;s<e;s*=2){Ts(i,n,s,r);var u=i;i=r,r=u}return i}function Ts(t,n,i,e){var r,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(r=(u=s+i)+i,u>a&&(u=a),r>a&&(r=a),o=s,h=u;;)if(o<u&&h<r)n&&n(t[o],t[h])<=0?e[c++]=t[o++]:e[c++]=t[h++];else if(o<u)e[c++]=t[o++];else{if(!(h<r))break;e[c++]=t[h++]}}!function(t){t[t.gr=0]="gr",t[t.wr=1]="wr",t[t.mr=-1]="mr"}(ys||(ys={}));var Ss=function(t,n){return(0|t)-(0|n)},Es=function(t,n){return t===n?ys.gr:t<n?ys.mr:t>n?ys.wr:m(t)?m(n)?ys.gr:ys.wr:ys.mr};function Rs(t,n,i){return Lt(t,n,i)?ys.gr:Es(t,n)}var Is=function(t,n){return Mt(t,n)?ys.gr:Es(t,n)};function Ns(t,n,i){var e=Ds(t,n,i);return-1===e?void 0:t[e]}function Ds(t,n,i){for(var e=0;e<t.length;e+=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}function Cs(t,n){var i=t.indexOf(n);return-1!==i&&(xs(t,i),!0)}function xs(t,n){t.splice(n,1)}function Os(t,n){return-1!==t.indexOf(n)}function Ps(t){t.length=0}function Bs(t,n){for(var i=[],e=0;e<t.length;e++)i.push.apply(i,n(t[e],e));return i}function Ls(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:i=0;case 1:if(!(i<t.length)){r.next=10;break}return e=t[i],r.next=5,Er.awrap(n(e));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:i++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,null,null,ze)}function Ms(t,n,i){if(t.length!==n.length)return!1;for(var e=0;e<t.length;e++)if(!i(t[e],n[e]))return!1;return!0}var Us=function(){function t(){this.yr=!1,this.kr=!1,this.pr=[],this.Ar=[]}var n=t.prototype;return n.Tr=function(){if(!this.yr&&!this.kr){this.yr=!0;for(var t=0,n=this.pr.slice();t<n.length;t++){(0,n[t])()}this.Sr()}},n.Sr=function(){if(!this.kr){this.kr=!0;for(var t=0,n=this.Ar.slice();t<n.length;t++){(0,n[t])()}Ps(this.pr),Ps(this.Ar)}},n.Er=function(t){this.kr||this.pr.push(t)},n.Rr=function(t){this.kr||Cs(this.pr,t)},n.Ir=function(t){this.kr||this.Ar.push(t)},n.Nr=function(t){this.kr||Cs(this.Ar,t)},t}(),Fs=function(){function t(){this.Dr=new Us}var n=t.prototype;return n.Cr=function(){this.Dr.Tr()},n.Sr=function(){this.Dr.Sr()},n.xr=function(t){var n=this.Dr;if(!n.yr)if(t.yr)n.Tr();else if(!n.kr&&!t.kr){var i=function(){e(),n.Tr()},e=function e(){t.Rr(i),t.Nr(e),n.Rr(i),n.Nr(e)};t.Er(i),t.Ir(e),n.Er(i),n.Ir(e)}},n.Or=function(){var n=new t,i=new t,e=n.Pr,r=i.Pr,s=this.Dr,u=function(){e.yr&&r.kr||r.yr&&e.kr?s.Tr():e.kr&&r.kr&&s.Sr()};e.Er(u),r.Er(u),e.Ir(u),r.Ir(u),n.xr(s),i.xr(s);return s.Ir(function(){e.Rr(u),r.Rr(u),e.Nr(u),r.Nr(u)}),[n,i]},A(t,[{key:"Pr",get:function(){return this.Dr}}]),t}(),Hs=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"AbortError"}}]),n}(Zt);function zs(t){return t instanceof v&&"AbortError"===t.name}function Vs(t){if(t&&t.yr)throw new Hs}function Ws(t){if(zs(t))throw t}function Xs(t){if(!zs(t))throw t}function qs(t,n){return n?new ze(function(i,e){if(n.yr)return t.catch(Z),e(new Hs);var r=function t(){n.Rr(t),e(new Hs)};n.Er(r),t.then(function(t){n.Rr(r),i(t)},function(t){n.Rr(r),e(t)})}):t}function Gs(t,n){return t.then(function(t){return n.Sr(),t},function(t){throw n.Sr(),t})}function Qs(t,n){var i=new Fs;return n&&i.xr(n),t(i.Pr).then(function(t){return i.Cr(),t},function(t){throw i.Cr(),t})}var Ys=ze.resolve();function js(t){Ys.then(t)}function Zs(t){t.then(Z,Z)}function Js(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(ze.all(t));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),n.next=10,Er.awrap(ze.all(t.map(function(t){return t.catch(Z)})));case 10:throw n.t0;case 11:case"end":return n.stop()}},null,null,[[0,6]],ze)}function $s(t,n){return new ze(function(e,r){if(void 0!==n&&n.yr)r(new Hs);else{var s=i.Nn(function(){void 0!==n&&n.Rr(u),e()},t),u=function(){i.In(s),r(new Hs)};void 0!==n&&n.Er(u)}})}function Ks(t){return t&&"function"!=typeof t?t.slice():t}function tu(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var e=0;e<i.length;e++){i[e].call(t,n)}}var nu,iu=function(){function t(t){var n=this;this.Br=Ir(),this.Lr=void 0,this.Mr=void 0,this.Ur=function(t){n.Fr(t)},this.Mr=t||this}var n=t.prototype;return n.Hr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.zr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.zr(e,n)}},n.zr=function(t,n){var i=this.Br[t];i?"function"==typeof i?this.Br[t]=[i,n]:i.push(n):this.Br[t]=n},n.Vr=function(t){if("function"==typeof t){var n=this.Lr;n?"function"==typeof n?this.Lr=[n,t]:n.push(t):this.Lr=t}},n.Wr=function(){this.Br=Ir(),this.Lr=void 0},n.Fr=function(t){var n=Ks(this.Br[t.type]),i=Ks(this.Lr);tu(this.Mr,t,n),tu(this.Mr,t,i)},n.Xr=function(t,n){if("function"==typeof n)if("string"==typeof t)this.qr(t,n);else for(var i=0;i<t.length;i++){var e=t[i];this.qr(e,n)}},n.qr=function(t,n){var i=this.Br[t];i&&("function"==typeof i?i===n&&(this.Br[t]=void 0):Cs(i,n))},n.Gr=function(t){if("string"==typeof t)this.Br[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Br[i]=void 0}},n.Qr=function(t){var n=this.Lr;n&&("function"==typeof n?n===t&&(this.Lr=void 0):Cs(n,t))},n.Yr=function(t,n){var i=this;return new ze(function(e,r){if(n&&n.yr)return r(new Hs);var s=function(t){o(),e(t)},u=function(){o(),r(new Hs)},o=function(){i.Xr(t,s),n&&n.Rr(u)};i.Hr(t,s),n&&n.Er(u)})},t}(),eu=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Fr=function(n){var i=this;js(function(){t.prototype.Fr.call(i,n)})},n}(iu),ru=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},su=["cenc"],uu=["cbcs","cbcs-1-9"],ou=function(t){function n(n){var i;return(i=t.call(this,"Zr")||this).jr=n,i}return S(n,t),n}(ru),hu=function(t){function n(n,i,e,r){var s;return(s=t.call(this,"Jr")||this).jr=n,s.$r=i,s.Jr=e,s.Kr=r,s}return S(n,t),n}(ru),au=function(t){function n(){return t.call(this,"ts")||this}return S(n,t),n}(ru);!function(t){t.es="rs",t.ss="us"}(nu||(nu={}));var cu=function(t){function n(n,i){var e;return(e=t.call(this,nu.es)||this).er=n,e.os=i,e}return S(n,t),n}(ru),fu=function(t){function n(){return t.call(this,nu.ss)||this}return S(n,t),n}(ru),vu=new y([0]).buffer,du=function(){function t(){this.hs=void 0,this.hs=[]}var n=t.prototype;return n.as=function(t){for(var n=0,i=this.hs;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.cs=function(t){for(var n=0,i=this.hs;n<i.length;n++){var e=i[n];if(e[0]===t)return e[1]}},n.fs=function(t,n){this.hs.forEach(function(n){return t(n[1],n[0])},n)},n.vs=function(t,n){this.hs.push([t,n])},n.ds=function(){Ps(this.hs)},A(t,[{key:"ls",get:function(){return this.hs.length}}]),t}(),lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),_u=16383,gu=/[\t\n\f\r ]/g;function wu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:mu()}function mu(){throw new v("Invalid base64 input")}function yu(t){var n=t;gu.test(n)&&(n=n.replace(gu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var e=i%4;if(1===e)return mu();for(var r,s=0===e?0:4-e,u=new y(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)r=wu(n.charCodeAt(h))<<18|wu(n.charCodeAt(h+1))<<12|wu(n.charCodeAt(h+2))<<6|wu(n.charCodeAt(h+3)),u[a++]=r>>16&255,u[a++]=r>>8&255,u[a++]=255&r;return 2===s?(r=wu(n.charCodeAt(h))<<2|wu(n.charCodeAt(h+1))>>4,u[a++]=255&r):1===s&&(r=wu(n.charCodeAt(h))<<10|wu(n.charCodeAt(h+1))<<4|wu(n.charCodeAt(h+2))>>2,u[a++]=r>>8&255,u[a++]=255&r),u}function ku(t,n,i){for(var e,r,s,u=[],o=n;o<i;o+=3)u.push((e=t[o],r=t[o+1],s=t[o+2],lu[e>>2]+lu[(3&e)<<4|r>>4]+lu[(15&r)<<2|s>>6]+lu[63&s]));return u.join("")}function pu(t){for(var n=t.length,i=n%3,e=[],r=n-i,s=0;s<r;s+=_u)e.push(ku(t,s,_.min(r,s+_u)));if(1===i){var u=t[n-1];e.push(lu[u>>2]+lu[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];e.push(lu[o>>2]+lu[(3&o)<<4|h>>4]+lu[(15&h)<<2]+"=")}return e.join("")}var bu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],Au=ArrayBuffer.isView||function(t){return t&&Os(bu,U.call(t))};function Tu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function Su(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return Eu(t,n)}function Eu(t,n){for(var i=new y(n),e=0,r=0;r<t.length;r++){var s=t[r];i.set(s,e),e+=s.byteLength}return i}function Ru(t){return yu(t).buffer}function Iu(t){return pu(new y(t))}function Nu(t){return pu(co(t))}var Du=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ks=function(){return new t(this.ps)},A(t,[{key:"ps",get:function(){return this._s}}]),t}();function Cu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function xu(t,n){return t>>n&63|128}function Ou(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(Cu(t),n.push(t>>12&15|224),n.push(xu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(xu(t,12)),n.push(xu(t,6))),n.push(63&t|128)):n.push(t)}function Pu(t,n){if(n.ps>=t.length)throw new v("Invalid byte index");var i=255&t[n.ps];if(n.gs(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function Bu(t,n){var i=n.ps;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var e=255&t[i];if(n.gs(1),0==(128&e))return e;if(192==(224&e)){var r=(31&e)<<6|Pu(t,n);if(r>=128)return r;throw new v("Invalid continuation byte")}if(224==(240&e)){var s=(15&e)<<12|Pu(t,n)<<6|Pu(t,n);if(s>=2048)return Cu(s),s;throw new v("Invalid continuation byte")}if(240==(248&e)){var u=(7&e)<<18|Pu(t,n)<<12|Pu(t,n)<<6|Pu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var Lu=65279;var Mu=[128,64,32,16,8,4,2,1],Uu=function(){function t(t){this.bs=t}return t.prototype.As=function(t){return Fu(this.bs,t)},t}();function Fu(t,n){return(t&n)===n}function Hu(t,n){return Fu(t,Mu[n])}function zu(t,n){var i=t.getUint8(n.ps);return n.gs(1),i}function Vu(t,n,i){t.setUint8(n.ps,i),n.gs(1)}function Wu(t,n,i){var e=wo(ko(t),n.ps,n.ps+i);return n.gs(e.byteLength),e}function Xu(t,n,i){ko(t).set(ko(i),n.ps),n.gs(i.byteLength)}function qu(t,n,i){return n.ps+i<=t.byteLength}function Gu(t,n,i,e){return void 0===e&&(e=!1),e?function(t,n,i){for(var e=0,r=1,s=0;s<i;s++)e+=zu(t,n)*r,r*=256;return e}(t,n,i):function(t,n,i){for(var e=0,r=0;r<i;r++)e=256*e+zu(t,n);return e}(t,n,i)}function Qu(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.ps,i);return n.gs(2),e}function Yu(t,n,i,e){void 0===e&&(e=!1),t.setUint16(n.ps,i,e),n.gs(2)}function ju(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.ps,i);return n.gs(4),e}function Zu(t,n,i,e){void 0===e&&(e=!1),t.setUint32(n.ps,i,e),n.gs(4)}function Ju(t,n,i){void 0===i&&(i=!1);var e=ju(t,n,i),r=ju(t,n,i),s=i?r:e,u=i?e:r;return ct.fromBits(u,s,!0)}function $u(t,n){var i=zu(t,n);if(i)return String.fromCharCode(i)}function Ku(t,n){return io(t,n)}function to(t,n,i){for(var e="",r=0;r<i;r++)e+=$u(t,n);return e}function no(t,n){var i,e=zu(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&zu(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&zu(t,n))+(63&zu(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&zu(t,n))+64*(63&zu(t,n))+(63&zu(t,n))),i}function io(t,n){return eo(t,n,!0)}function eo(t,n,i){for(var e=[];n.ps<t.byteLength;){var r=zu(t,n);if(i&&!r)break;e.push(r)}return ls(e)}function ro(t,n){if(n.ps+2<=t.byteLength){var i=t.getUint8(n.ps),e=t.getUint8(n.ps+1);return(254!==i||255!==e)&&(255===i&&254===e||void 0)}}function so(t,n){var i=ro(t,n);return void 0!==i&&n.gs(2),uo(t,n,!0===i)}function uo(t,n,i){return void 0===i&&(i=!1),oo(t,n,i,!0)}function oo(t,n,i,e){for(var r=[];n.ps+2<=t.byteLength;){var s=Qu(t,n,i);if(e&&!s)break;r.push(s)}return ls(r)}function ho(t,n,i,e){void 0===e&&(e=!1);for(var r=i.length,s=0;s<r;s+=1){Yu(t,n,i.charCodeAt(s),e)}}function ao(t){return eo(yo(t),new So,!1)}function co(t){var n=new y(t.length);return function(t,n,i){for(var e=i.length,r=0;r<e;r+=1)Vu(t,n,i.charCodeAt(r))}(yo(n),new So,t),n}function fo(t,n){return void 0===n&&(n=!1),oo(yo(t),new So,n,!1)}function vo(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return ho(yo(i),new So,t,n),i}function lo(t,n){return function(t,n,i){var e=[];(function(t,n){return n.ps+3<=t.byteLength&&239===t.getUint8(n.ps)&&187===t.getUint8(n.ps+1)&&191===t.getUint8(n.ps+2)})(t,n)&&n.gs(3);for(;n.ps<t.byteLength;){var r=no(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return vs(e)}(t,n,!0)}function _o(t){return vs(function(t,n){var i,e=[],r=new So;if(!n){if(!1===(i=Bu(t,r)))return e;i===Lu||e.push(i)}for(;!1!==(i=Bu(t,r));)e.push(i);return e}(ko(t)))}function go(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)Ou(t[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t)))}function wo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function mo(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function yo(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ko(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function po(t){return t instanceof ArrayBuffer||Au(t)}function bo(t){return t instanceof ArrayBuffer?new y(t):ko(t)}function Ao(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):To(wo(t,n,i))}function To(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var So=function(){function t(t){void 0===t&&(t=0),this._s=t}var n=t.prototype;return n.gs=function(t){this._s+=t},n.ys=function(t){this._s=t},n.ks=function(){return new t(this.ps)},n.Ts=function(){return new Du(this.ps<<3)},A(t,[{key:"ps",get:function(){return this._s}}]),t}();function Eo(t){var n=t,i=0,e=0;os(n,"0x")&&(n=n.substring(2));var r=new y(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,r[e++]=g(n[0],16));i<n.length;i+=2)r[e++]=g(n.substr(i,2),16);return r}var Ro=function(){function t(){var t=this;this.Ss=void 0,this.Es=void 0,this.Rs=void 0,this.Ss=new ze(function(n,i){t.Es=n,t.Rs=i})}var n=t.prototype;return n.Is=function(t){this.Es&&(this.Es(t),this.Sr())},n.Ns=function(t){this.Rs&&(this.Rs(t),this.Sr())},n.Cr=function(){this.Ss.catch(Z),this.Ns(new Hs)},n.Sr=function(){this.Es=void 0,this.Rs=void 0},t}();function Io(){return new y([8,4]).buffer}function No(t){return Tu(t,Io())}function Do(t,n){return t===qr?function(t){if(t.byteLength<2*Co.length)return t;if(fo(new DataView(t,0,2*Co.length),!0)===Co)return t;return n=t,vo('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Iu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Co="<PlayReady";var xo=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,r)||this).Ds=void 0,s.Cs=void 0,s.Ds=i,s.Cs=e,s}return S(n,t),n}(Zt),Oo=function(t,n){return(Oo=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)l.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function Po(t,n){if("function"!=typeof n&&null!==n)throw new d("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Oo(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}function Bo(t,n,i){return t.indexOf?t.indexOf(n,i):Array.prototype.indexOf.call(t,n,i)}function Lo(t,n,i){return _.min(_.max(t,n),i)}function Mo(t,n){return t>>8-n}function Uo(t,n){return t&(1<<n)-1}!function(){function t(t,n){this.xs=t,this.Os=n}t.prototype.get=function(t){var n=this.xs.get(t);if(0===this.Os||void 0===n)return n;var i=this.xs.get(t+1)||0,e=n&(1<<8-this.Os)-1,r=i>>8-this.Os;return(e<<this.Os)+r},t.prototype.getBit=function(t){if(!(t<0)){var n=this.xs.get(_.floor((t+this.Os)/8));if(void 0!==n)return(n&1<<7-this.Os-t%8)>0?1:0}},l.defineProperty(t.prototype,"bitLength",{get:function(){return this.xs.bitLength-this.Os},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"length",{get:function(){return this.xs.length},enumerable:!1,configurable:!0})}();var Fo=function(){function t(t){this.Ps=t,this.Bs=0,this.Ls=0}return l.defineProperty(t.prototype,"totalBitsRead",{get:function(){return 8*this.Bs+this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"done",{get:function(){return this.Bs===this.Ps.length&&0===this.Ls},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"location",{get:function(){return{byte:this.Bs,bit:this.Ls}},enumerable:!1,configurable:!0}),t.prototype.copy=function(){var n=new t(this.Ps);return n.seek(this.Bs,this.Ls),n},t.prototype.canReadBits=function(t){return 8*this.Bs+t+this.Ls<=8*this.Ps.length},t.prototype.canReadBytes=function(t){return 0===this.Ls?this.Bs+t<=this.Ps.length:this.Bs+t<this.Ps.length},t.prototype.incBit=function(){this.Ls++,this.Ls>7&&(this.Bs++,this.Ls=0)},t.prototype.seek=function(t,n){this.Bs=t,this.Ls=n},t.prototype.peekBit=function(){if(!this.canReadBits(1))throw new v("Cannot read past end of buffer.");return this.Ps.get(this.Bs)>>7-this.Ls&1},t.prototype.readBit=function(){var t=this.peekBit();return this.incBit(),t},t.prototype.readByte=function(){if(!this.canReadBytes(1))throw new v("Cannot read past end of buffer.");if(0===this.Ls)return this.Ps.get(this.Bs++);var t=Uo(this.Ps.get(this.Bs),8-this.Ls),n=Mo(this.Ps.get(this.Bs+1),this.Ls);return this.Bs++,t<<this.Ls|n},t.prototype.readBits=function(t){if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readBit());return n},t.prototype.readUInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=0;if(0===this.Ls&&t%8==0)for(var i=t-8;i>=0;i-=8)n|=this.readByte()<<i;else for(i=t-1;i>=0;i--)n|=this.readBit()<<i;return n},t.prototype.readInt=function(t){if(t>32)throw new v("The max bitlength that can be provided is 32.");if(!this.canReadBits(t))throw new v("Cannot read past end of buffer.");var n=this.readUInt(t);return 0===(n&1<<t-1)?n:n-_.pow(2,t)},t.prototype.readExponentialGolombCode=function(){for(var t=0;0===this.readBit();)t++;var n=1<<t;return n+=this.readUInt(t)-1},t.prototype.readSignedExponentialGolombCode=function(){var t=this.readExponentialGolombCode();return 1&t?(t+1)/2:-t/2},t.prototype.skipBits=function(t){if(!this.canReadBits(t))throw new v("Skipping over the buffer edge is not allowed.");var n=this.Ls+t;this.Bs+=n>>3,this.Ls=7&n},t.prototype.readBool=function(){return this.readBit()>0},t.prototype.readString=function(t){if(!this.canReadBytes(t))throw new v("Cannot read past end of buffer.");for(var n=[],i=0;i<t;i++)n.push(this.readByte());return String.fromCharCode.apply(String,n)},t}(),Ho=function(t,n){return t===n?0:t<n?-1:t>n?1:m(t)?m(n)?0:1:-1},zo=function(){function t(){this.Ms=[],this.Us=[],this.Pi=0}return t.from=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var e=new t,r=0,s=n;r<s.length;r++){var u=s[r];e.pushRange(u)}return e},t.prototype.pushRange=function(t,n,i){if(void 0===n&&(n=0),void 0===i&&(i=t.length),i<0)throw new v("The buffer length must be positive.");if(0!==i){if(0===this.Us.length)this.Us.push(0);else{var e=this.Us[this.Us.length-1]+this.Ms[this.Ms.length-1].length;this.Us.push(e)}this.Ms.push(t.subarray(n,n+i)),this.Pi+=i}},t.prototype.concat=function(n){var i=new t;return i.pushRange(this.join()),i.pushRange(n.join()),i},t.prototype.copy=function(t,n,i,e){if(void 0===n&&(n=0),void 0===i&&(i=0),void 0===e&&(e=this.length),n<0||i<0||e<0)throw new RangeError;return this.slice(i,e).copyInternal(t,n)},t.prototype.copyInternal=function(t,n){for(var i=0,e=n,r=0,s=this.Ms;r<s.length;r++){var u=s[r];t.set(u,e),i+=u.length,e+=u.length}return i},t.prototype.clear=function(){this.Ms=[],this.Us=[],this.Pi=0},t.prototype.get=function(t){if(!(t<0||t>=this.length)){var n=this.findContainingBufferIndex(t),i=t-this.Us[n];return this.Ms[n][i]}},l.defineProperty(t.prototype,"first",{get:function(){return this.get(0)},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){if(this.Ms.length<1)return-1;if(this.Ms.length>1){var n=this.join();this.clear(),this.pushRange(n)}var i=this.Ms[0];return"number"==typeof t?Bo(i,t):"undefined"!=typeof Buffer?Buffer.from(i.buffer,i.byteOffset,i.byteLength).indexOf(t):function(t,n){if(0===n.length)return 0;for(var i=n[0],e=n.length,r=t.length-e,s=0;s<=r&&!((s=Bo(t,i,s))<0||s>r);s++){for(var u=s+1,o=s+e,h=1;u<o&&t[u]===n[h];u++,h++);if(u===o)return s}return-1}(i,t)},t.prototype.findContainingBufferIndex=function(t){return function(t,n,i){if(0!==t.length){var e=0,r=t.length-1;if(1!==i(t[e],n)){if(1===i(n,t[r]))return r;for(;e!==r;){var s=_.ceil((e+r)/2);i(t[s],n)<=0?e=s:r=s-1}return e}}}(this.Us,t,Ho)},t.prototype.join=function(){if(1===this.Ms.length)return this.Ms[0];var t=new y(this.length);return this.copyInternal(t,0),t},l.defineProperty(t.prototype,"length",{get:function(){return this.Pi},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"bitLength",{get:function(){return 8*this.length},enumerable:!1,configurable:!0}),t.prototype.readUIntBE=function(t,n){if(n<=0||n>4)throw new v("Expected byteLength to be between 0 and 4 but was "+n);if(t<0||t>this.length-n)throw new v("Offset must be between 0 and buffer.length - byteLength, but was "+t+" (max allowed "+(this.length-n)+")");if(1===n)return this.get(t);for(var i=0,e=0;e<n;e++)i+=this.get(t+e)*_.pow(2,8*(n-e-1));return i},t.prototype.slice=function(n,i){void 0===i&&(i=this.length);var e=Lo(n,0,this.length),r=Lo(i,0,this.length);if(e>r)return new t;if(e===r)return new t;for(var s=new t,u=this.findContainingBufferIndex(e),o=this.Ms[u],h=e,a=h-this.Us[u];h+o.length-a<r;)s.pushRange(o,a,o.length-a),u+=1,a=(h+=o.length-a)-this.Us[u],o=this.Ms[u];var c=r-h;return s.pushRange(o,a,c),s},t.prototype.trim=function(){if(0===this.length)return new t;for(var n=this.length-1,i=this.Ms.length-1,e=this.Ms[i],r=e.length-1;n>=0&&i>=0;){if(0!==e[r])break;if(0===r){if(0===i)return new t;i-=1,r=(e=this.Ms[i]).length-1}else r-=1;n-=1}return this.slice(0,n+1)},t}(),Vo=function(){function t(n){this.Fs=n||t.BUFFER_CHUNK_SIZE,this.Hs=!1,this.zs=new zo,this.Ps=new y(this.Fs),this.Vs=0,this.Ws=0,this.Ls=7}return t.prototype.closeByte=function(){this.Ps[this.Vs++]=this.Ws,this.Vs>=this.Fs&&this.closeBuffer(),this.Ws=0,this.Ls=7},t.prototype.closeBuffer=function(t){void 0===t&&(t=!0),0!==this.Vs&&(this.zs.pushRange(this.Ps,0,this.Vs),t&&(this.Ps=new y(this.Fs)),this.Vs=0)},l.defineProperty(t.prototype,"isWritingStartBit",{get:function(){return 7===this.Ls},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(this.Hs)throw new v("Cannot close a closed BitWriter.");return this.isWritingStartBit||this.closeByte(),this.closeBuffer(!1),this.Hs=!0,this.zs},t.prototype.writeBit=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.Ws|=t<<this.Ls,0===this.Ls?this.closeByte():this.Ls--},t.prototype.writeByte=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?(this.Ws=t,this.closeByte()):this.writeByteUnaligned(t)},t.prototype.writeByteUnaligned=function(t){var n=this.Ls;this.Ws|=Mo(t,n+1),this.closeByte(),this.Ws=Uo(t,8-n)<<n+1,this.Ls=n},t.prototype.writeBits=function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];this.writeBit(e)}},t.prototype.writeBytes=function(t){if(this.Hs)throw new v("Cannot write to a closed BitWriter.");this.isWritingStartBit?this.writeBytesAligned(t):this.writeBytesUnaligned(t)},t.prototype.writeBytesAligned=function(t){this.Vs+t.length<=this.Fs?(this.Ps.set(t,this.Vs),this.Vs+=t.length,this.Vs===this.Fs&&this.closeBuffer()):(this.closeBuffer(),this.zs.pushRange(t))},t.prototype.writeBytesUnaligned=function(t){if(0!==t.length){var n=this.Ls;this.Ws|=Mo(t[0],n+1),this.closeByte();for(var i=1;i<t.length;i++){var e=Uo(t[i-1],8-n),r=Mo(t[i],n+1);this.Ws=e<<n+1|r,this.closeByte()}this.Ws=Uo(t[t.length-1],8-n)<<n+1,this.Ls=n}},t.prototype.writeUInt=function(t,n){if(t<0)throw new v("Received a negative number.");if(n>32)throw new v("The max bitlength that can be provided is 32.");if(t>=_.pow(2,n))throw new v("Uint "+t+" cannot be represented in "+n+" bit(s).");if(this.isWritingStartBit&&n%8==0)for(var i=n-8;i>=0;i-=8)this.writeByte(t>>i&255);else for(i=n-1;i>=0;i--)this.writeBool((t&1<<i)>0)},t.prototype.writeInt=function(t,n){if(n>32)throw new v("The max bitlength that can be provided is 32.");if(_.abs(t)>=_.pow(2,n-1))throw new v("Signed integer "+t+" cannot be represented in "+n+" bit(s).");t<0?this.writeUInt(t+_.pow(2,n),n):this.writeUInt(t,n)},t.prototype.writeExponentialGolombCode=function(t){if(t<0)throw new v("Received a negative number.");for(var n=_.floor(_.log2(t+1))+1,i=0;i<n-1;i++)this.writeBit(0);this.writeUInt(t+1,n)},t.prototype.writeSignedExponentialGolombCode=function(t){0===t?this.writeExponentialGolombCode(0):t<0?this.writeExponentialGolombCode(-2*t):this.writeExponentialGolombCode(2*t-1)},t.prototype.padByte=function(t){for(;!this.isWritingStartBit;)this.writeBit(t)},t.prototype.writeBool=function(t){this.writeBit(t?1:0)},t.prototype.writeString=function(t){for(var n=function(t){for(var n=new y(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(t),i=0;i<n.length;i++)this.writeByte(n[i])},t.BUFFER_CHUNK_SIZE=1024,t}(),Wo=function(){function t(t){this.rb=new zo,this.Xs=t}return t.prototype.closeWriter=function(){void 0!==this.Xs&&(this.rb=this.rb.concat(this.Xs.close()),this.Xs=void 0)},l.defineProperty(t.prototype,"writer",{get:function(){return void 0===this.Xs&&(this.Xs=new Vo),this.Xs},enumerable:!1,configurable:!0}),t.prototype.concat=function(t){this.closeWriter(),this.rb=this.rb.concat(t)},t.prototype.toRangedBuffer=function(){return this.closeWriter(),this.rb},t}(),Xo=function(){function t(t){if(this.boxType=t,4!==t.length&&16!==t.length)throw new v("The provided box type does not conform to either a 4 character type or a 16 byte uuid.")}return t.prototype.serializeCommonBoxHeader=function(n){var i=this.getSize(),e=i>=t.LARGE_SIZE/8,r=16===this.boxType.length;n.writeUInt(e?1:i,32),n.writeString(r?"uuid":this.boxType),e&&(n.writeUInt(_.floor(i/t.LARGE_SIZE),32),n.writeUInt(i%t.LARGE_SIZE,32)),r&&n.writeString(this.boxType)},t.prototype.getSize=function(){var n=8+(this.boxType.length>4?16:0),i=this.getBoxContentSize()+n;return i>=t.LARGE_SIZE/8&&(i+=8),i},t.prototype.serialize=function(){var t=new Wo;return this.serializeCommonBoxHeader(t.writer),this.serializeBoxContent(t),t.toRangedBuffer()},t.LARGE_SIZE=_.pow(2,32),t}();function qo(t,n){return t instanceof ct?64===n:t<_.pow(2,n)}function Go(t,n){return _.round(t*_.pow(2,n))}function Qo(t,n){for(var i=0;i<n.length;i++)t.writeByte(n[i])}function Yo(t,n){return t/_.pow(2,n)}var jo=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!qo(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Po(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Xo),Zo=function(t){function n(n,i){var e=t.call(this,n)||this;return e.data=i,e}return Po(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(zo.from(this.data))},n}(Xo),Jo=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t}();function $o(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){var n=t.length;if(n<=Ko)return String.fromCharCode.apply(String,t);for(var i=[],e=0;e<n;e+=Ko)i.push(String.fromCharCode.apply(String,t.slice(e,e+Ko)));return i.join("")}(n)}var Ko=16384;var th=function(){function t(t){this.raw=t}return t.prototype.isSet=function(t){return function(t,n){return(t&n)===n}(this.raw,t)},t}();function nh(t,n){var i=t.getUint8(n.offset);return n.shift(1),i}function ih(t,n,i){return n.offset+i<=t.byteLength}function eh(t,n,i){void 0===i&&(i=!1);var e=t.getUint32(n.offset,i);return n.shift(4),e}function rh(t,n,i){void 0===i&&(i=!1);var e=eh(t,n,i),r=eh(t,n,i),s=i?r:e,u=i?e:r;return ct.fromBits(u,s,!0)}function sh(t,n){var i=nh(t,n);if(i)return String.fromCharCode(i)}function uh(t,n,i){for(var e="",r=0;r<i;r++)e+=sh(t,n);return e}function oh(t,n){var i,e=nh(t,n);return 0==(128&e)?i=e:192==(224&e)?i=64*(31&e)+(63&nh(t,n)):224==(240&e)?i=4096*(15&e)+64*(63&nh(t,n))+(63&nh(t,n)):240==(248&e)&&(i=262144*(7&e)+4096*(63&nh(t,n))+64*(63&nh(t,n))+(63&nh(t,n))),i}function hh(t,n){return function(t,n,i){var e=[];(function(t,n){return n.offset+3<=t.byteLength&&239===t.getUint8(n.offset)&&187===t.getUint8(n.offset+1)&&191===t.getUint8(n.offset+2)})(t,n)&&n.shift(3);for(;n.offset<t.byteLength;){var r=oh(t,n);if(void 0===r)break;if(i&&0===r)break;e.push(r)}return $o(e)}(t,n,!0)}function ah(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function ch(t){return new y(t.buffer,t.byteOffset,t.byteLength)}var fh=function(){function t(t){void 0===t&&(t=0),this.offset=t}return t.prototype.shift=function(t){this.offset+=t},t.prototype.seek=function(t){this.offset=t},t.prototype.clone=function(){return new t(this.offset)},t.prototype.toBit=function(){return new Jo(this.offset<<3)},t}(),vh=function(){function t(t,n){this.data=t,this.cursor=n}return t.prototype.nextUint8=function(){return nh(this.data,this.cursor)},t.prototype.nextUint16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getUint16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextInt16=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.offset,i);return n.shift(2),e}(this.data,this.cursor)},t.prototype.nextUint32=function(){return eh(this.data,this.cursor)},t.prototype.nextInt32=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.offset,i);return n.shift(4),e}(this.data,this.cursor)},t.prototype.nextInt64=function(){return function(t,n,i){void 0===i&&(i=!1);var e=eh(t,n,i),r=eh(t,n,i),s=i?r:e,u=i?e:r;return ct.fromBits(u,s,!1)}(this.data,this.cursor)},t.prototype.nextUint64=function(){return rh(this.data,this.cursor)},t.prototype.nextUint8Array=function(t){return function(t,n,i){var e=ah(ch(t),n.offset,n.offset+i);return n.shift(e.byteLength),e}(this.data,this.cursor,t)},t.prototype.nextUint32Array=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(eh(t,n));return e}(this.data,this.cursor,t)},t.prototype.nextChars=function(t){return uh(this.data,this.cursor,t)},t.prototype.nextUTF8String=function(){return hh(this.data,this.cursor)},t.prototype.skip=function(t){this.cursor.shift(t)},t.prototype.clone=function(){return new t(this.data,this.cursor.clone())},t}();function dh(t,n){return t.type===n}var lh=8;function _h(t){var n=function(t,n){var i=[];for(;n.offset<t.byteLength;){var e=gh(t,n);if(!e.complete)return{complete:!1,boxes:i};i.push(e.box)}return{complete:!0,boxes:i}}(t.data,t.cursor);if(!n.complete)throw new v("Data incomplete");return n.boxes}function gh(t,n){var i=n.offset,e=function(t,n){var i=n.offset;if(!ih(t,n,lh)){var e=n.offset+lh;return{complete:!1,neededOffset:e}}var r=eh(t,n),s=uh(t,n,4);if(1===r){if(!ih(t,n,8)){var e=n.offset+8;return n.seek(i),{complete:!1,neededOffset:e}}r=rh(t,n).toNumber()}if("uuid"===s){if(!ih(t,n,16)){var e=n.offset+16;return n.seek(i),{complete:!1,neededOffset:e}}s=uh(t,n,16)}var u=n.offset;return{complete:!0,header:{type:s,size:r,headerSize:u-i}}}(t,n);if(!e.complete)return e;var r=e.header,s=r.size;0===s&&(s=t.byteLength-i);var u=i+s;if(u>t.byteLength){var o=u;return n.seek(i),{complete:!1,neededOffset:o}}var h,a,c,f={type:r.type,offset:i,data:new vh((h=t,a=i,c=u,void 0===a&&(a=0),void 0===c&&(c=h.byteLength),new DataView(h.buffer,h.byteOffset+a,c-a)),new fh(r.headerSize))};return n.seek(u),{complete:!0,box:f}}function wh(t){return{version:t>>24,flags:new th(16777215&t)}}function mh(t,n){var i,e,r,s;return 1===n?(i=t.nextUint64(),e=t.nextUint64(),r=t.nextUint32(),s=t.nextUint64()):(i=t.nextUint32(),e=t.nextUint32(),r=t.nextUint32(),s=t.nextUint32()),{creation:i,modification:e,scale:r,duration:s}}function yh(t){return t.skipBits(4),{isLeading:t.readUInt(2),sampleDependsOn:t.readUInt(2),sampleIsDependedOn:t.readUInt(2),sampleHasRedundancy:t.readUInt(2),samplePaddingValue:t.readUInt(3),sampleIsNonSyncSample:Boolean(t.readBit()),sampleDegradationPriority:t.readUInt(16)}}function kh(t){var n=t.nextUint32Array(9);return{a:Yo(n[0],16),b:Yo(n[1],16),u:Yo(n[2],30),c:Yo(n[3],16),d:Yo(n[4],16),v:Yo(n[5],30),x:Yo(n[6],16),y:Yo(n[7],16),w:Yo(n[8],30)}}function ph(t){return new Zo(t.type,ah(ch(t.data.data),t.data.cursor.offset))}var bh=function(t){function n(n,i,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var s=t.call(this,"hdlr",e,r)||this;return s.name=i,s.handlerType=n,s}return Po(n,t),l.defineProperty(n.prototype,"handlerType",{get:function(){return this.Gs},set:function(t){this.Gs=t},enumerable:!1,configurable:!0}),n.prototype.serializeReserved=function(t){t.writer.writeUInt(0,32),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)},n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+4+4+12+(null!==(i=null===(n=this.name)||void 0===n?void 0:n.length)&&void 0!==i?i:0)+1},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeString(this.handlerType),this.serializeReserved(n),this.name&&n.writer.writeString(this.name),n.writer.writeByte(0)},n}(jo);function Ah(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags;n.skip(4);var s=n.nextChars(4);n.skip(12);var u=n.nextUTF8String();return new bh(s,u,e,r.raw)}!function(t){function n(){return t.call(this,"mdir")||this}Po(n,t),n.prototype.serializeReserved=function(t){t.writer.writeString("appl"),t.writer.writeUInt(0,32),t.writer.writeUInt(0,32)}}(bh);var Th=function(){function t(t,n){void 0===n&&(n=!1),this.fixed28BitMode=n,this.tag=t}return t.prototype.encodeSize=function(t){for(var n=[];t>0;)n.length>0&&(n[n.length-1]+=128),n.push(t%128),t>>=7;if(this.fixed28BitMode)for(;n.length<4;)n.push(128);return n.reverse()},l.defineProperty(t.prototype,"tag",{get:function(){return this.Qs},set:function(t){if(!qo(t,8))throw new v("Provided tag does not fit in 8 bits.");this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return this.getDescriptorSize()+1+this.encodeSize(this.getDescriptorSize()).length},t.prototype.serialize=function(t){t.writer.writeByte(this.tag);for(var n=0,i=this.encodeSize(this.getDescriptorSize());n<i.length;n++){var e=i[n];t.writer.writeByte(e)}this.serializeDescriptorContent(t)},t}();!function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h=t.call(this,4,o.fixed28BitMode)||this;return h.upStream=e,h.decoderSpecificInfo=u,h.objectTypeIndication=n,h.streamType=i,h.bufferSizeDb=r,h.maxBitrate=s.max,h.avgBitrate=s.avg,h}Po(n,t),l.defineProperty(n.prototype,"objectTypeIndication",{get:function(){return this.Ys},set:function(t){if(!qo(t,8))throw new v("Provided objectTypeIndication does not fit in 8 bits.");this.Ys=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamType",{get:function(){return this.js},set:function(t){if(!qo(t,6))throw new v("Provided streamType does not fit in 6 bits.");this.js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!qo(t,24))throw new v("Provided bufferSizeDb does not fit in 24 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"maxBitrate",{get:function(){return this.Js},set:function(t){if(!qo(t,32))throw new v("Provided maxBitrate does not fit in 32 bits.");this.Js=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avgBitrate",{get:function(){return this.$s},set:function(t){if(!qo(t,32))throw new v("Provided avgBitrate does not fit in 32 bits.");this.$s=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 13+this.decoderSpecificInfo.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.objectTypeIndication),t.writer.writeUInt(this.streamType,6),t.writer.writeBool(this.upStream),t.writer.writeBit(1),t.writer.writeUInt(this.bufferSizeDb,24),t.writer.writeUInt(this.maxBitrate,32),t.writer.writeUInt(this.avgBitrate,32);for(var n=0,i=this.decoderSpecificInfo;n<i.length;n++){i[n].serialize(t)}}}(Th),function(t){function n(n,i){void 0===i&&(i={});var e=t.call(this,5,i.fixed28BitMode)||this;return e.data=n,e}Po(n,t),n.prototype.getDescriptorSize=function(){return this.data.length},n.prototype.serializeDescriptorContent=function(t){t.concat(zo.from(this.data))}}(Th);var Sh=function(t){function n(n){void 0===n&&(n=!1);var i=t.call(this,6,n)||this;return i.predefined=2,i}return Po(n,t),n.prototype.getDescriptorSize=function(){return 1},n.prototype.serializeDescriptorContent=function(t){t.writer.writeByte(this.predefined)},n}(Th);!function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,3,r.fixed28BitMode)||this;return s.decoderConfigDescriptor=e,s.esId=n,s.streamPriority=i,s.dependsOnEsId=null==r?void 0:r.dependsOnEsId,s.urlString=null==r?void 0:r.url,s.ocrEsId=null==r?void 0:r.ocrEsId,s.slConfigDescriptor=new Sh(r.fixed28BitMode),s}Po(n,t),l.defineProperty(n.prototype,"streamDependenceFlag",{get:function(){return void 0!==this.dependsOnEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"urlFlag",{get:function(){return void 0!==this.urlString},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrStreamFlag",{get:function(){return void 0!==this.ocrEsId},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"esId",{get:function(){return this.Ks},set:function(t){if(!qo(t,16))throw new v("Provided esId does not fit in 16 bits.");this.Ks=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"streamPriority",{get:function(){return this.tu},set:function(t){if(!qo(t,5))throw new v("Provided streamPriority does not fit in 5 bits.");this.tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"dependsOnEsId",{get:function(){return this.nu},set:function(t){if(t&&!qo(t,16))throw new v("Provided dependsOnEsId does not fit in 16 bits.");this.nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"ocrEsId",{get:function(){return this.iu},set:function(t){if(t&&!qo(t,16))throw new v("Provided ocrEsId does not fit in 16 bits.");this.iu=t},enumerable:!1,configurable:!0}),n.prototype.getDescriptorSize=function(){return 3+(this.streamDependenceFlag?2:0)+(this.urlFlag?1+this.urlString.length:0)+(this.ocrStreamFlag?2:0)+this.decoderConfigDescriptor.getSize()+this.slConfigDescriptor.getSize()},n.prototype.serializeDescriptorContent=function(t){t.writer.writeUInt(this.esId,16),t.writer.writeBool(this.streamDependenceFlag),t.writer.writeBool(this.urlFlag),t.writer.writeBool(this.ocrStreamFlag),t.writer.writeUInt(this.streamPriority,5),this.streamDependenceFlag&&t.writer.writeUInt(this.dependsOnEsId,16),this.urlFlag&&(t.writer.writeByte(this.urlString.length),t.writer.writeString(this.urlString)),this.ocrStreamFlag&&t.writer.writeUInt(this.ocrEsId,16),this.decoderConfigDescriptor.serialize(t),this.slConfigDescriptor.serialize(t)}}(Th);var Eh=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.boxes=[],n}return Po(n,t),n.prototype.getSize=function(){return t.prototype.getSize.call(this)+this.boxes.reduce(function(t,n){return t+n.getSize()},0)},n.prototype.serialize=function(){for(var n=t.prototype.serialize.call(this),i=0,e=this.boxes;i<e.length;i++){var r=e[i];n=n.concat(r.serialize())}return n},n}(Xo),Rh=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Po(n,t),n.prototype.serializeBoxContent=function(t){},n.prototype.getBoxContentSize=function(){return 0},n}(Eh),Ih=function(t){function n(n,i){var e=t.call(this,n)||this;return e.dataReferenceIndex=i,e}return Po(n,t),l.defineProperty(n.prototype,"dataReferenceIndex",{get:function(){return this.eu},set:function(t){if(!qo(t,16))throw new v("Provided dataReferenceIndex does not fit in 16 bits.");this.eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){for(var n=0;n<6;n++)t.writer.writeByte(0);t.writer.writeUInt(this.dataReferenceIndex,16)},n}(Rh),Nh=function(t){function n(n,i,e,r){var s,u,o=this;return(o=t.call(this,n,i)||this).extra=r,o.channelCount=null!==(s=e.channelCount)&&void 0!==s?s:2,o.sampleSize=null!==(u=e.sampleSize)&&void 0!==u?u:16,o.sampleRate=e.sampleRate,o}return Po(n,t),l.defineProperty(n.prototype,"channelCount",{get:function(){return this.ru},set:function(t){if(!qo(t,16))throw new v("Provided channelCount does not fit in 16 bits.");this.ru=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleSize",{get:function(){return this.su},set:function(t){if(!qo(t,16))throw new v("Provided sampleSize does not fit in 16 bits.");this.su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleRate",{get:function(){return this.uu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.uu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+8+2+2+2+2+(void 0!==this.sampleRate?4:0)+(null!==(i=null===(n=this.extra)||void 0===n?void 0:n.length)&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.channelCount,16),n.writer.writeUInt(this.sampleSize,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(Go(this.sampleRate,16),32),this.extra&&Qo(n.writer,this.extra)},n}(Ih);!function(t){function n(n){var i=t.call(this,"stco",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(jo),function(t){function n(n){var i=t.call(this,"clap")||this;return i.cleanApertureWidthN=n.cleanApertureWidthN,i.cleanApertureWidthD=n.cleanApertureWidthD,i.cleanApertureHeightN=n.cleanApertureHeightN,i.cleanApertureHeightD=n.cleanApertureHeightD,i.horizOffN=n.horizOffN,i.horizOffD=n.horizOffD,i.vertOffN=n.vertOffN,i.vertOffD=n.vertOffD,i}Po(n,t),l.defineProperty(n.prototype,"cleanApertureWidthN",{get:function(){return this.hu},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureWidthN does not fit in 32 bits.");this.hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureWidthD",{get:function(){return this.au},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureWidthD does not fit in 32 bits.");this.au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightN",{get:function(){return this.cu},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureHeightN does not fit in 32 bits.");this.cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"cleanApertureHeightD",{get:function(){return this.fu},set:function(t){if(!qo(t,32))throw new v("Provided cleanApertureHeightD does not fit in 32 bits.");this.fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffN",{get:function(){return this.vu},set:function(t){if(!qo(t,32))throw new v("Provided horizOffN does not fit in 32 bits.");this.vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizOffD",{get:function(){return this.du},set:function(t){if(!qo(t,32))throw new v("Provided horizOffD does not fit in 32 bits.");this.du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffN",{get:function(){return this.lu},set:function(t){if(!qo(t,32))throw new v("Provided vertOffN does not fit in 32 bits.");this.lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vertOffD",{get:function(){return this._u},set:function(t){if(!qo(t,32))throw new v("Provided vertOffD does not fit in 32 bits.");this._u=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 32},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.cleanApertureWidthN,32),t.writer.writeUInt(this.cleanApertureWidthD,32),t.writer.writeUInt(this.cleanApertureHeightN,32),t.writer.writeUInt(this.cleanApertureHeightD,32),t.writer.writeUInt(this.horizOffN,32),t.writer.writeUInt(this.horizOffD,32),t.writer.writeUInt(this.vertOffN,32),t.writer.writeUInt(this.vertOffD,32)}}(Xo),function(t){function n(n,i){var e=t.call(this,"ctts",n,0)||this;return e.entries=i,e}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t.sampleCount,32)||!qo(t.sampleOffset,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),0===this.version?n.writer.writeUInt(r.sampleOffset,32):1===this.version&&n.writer.writeInt(r.sampleOffset,32)}}}(jo),function(t){function n(n){var i=t.call(this,"url ",0,void 0===n?1:0)||this;return i.location=n,i}Po(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.gu},set:function(t){this.flags=void 0===t?1:0,this.gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this);return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(jo),function(t){function n(n,i,e){var r=t.call(this,"urn ",0,e)||this;return r.name=n,r.location=i,r}Po(n,t),l.defineProperty(n.prototype,"location",{get:function(){return this.gu},set:function(t){if(1&this.flags)throw new v("The moov containment flag is set, a DataEntryUrlBox should be used instead.");this.gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+this.name.length+1;return this.location?n+this.location.length+1:n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.name),n.writer.writeByte(0),this.location&&(n.writer.writeString(this.location),n.writer.writeByte(0))}}(jo),function(t){function n(){return t.call(this,"dinf")||this}Po(n,t)}(Rh);var Dh=function(t){function n(n,i,e){var r=t.call(this,n)||this;if(r.version=i,!qo(i,8))throw new v("the provided version cannot fit in 8 bits.");return r.flags=e,r}return Po(n,t),l.defineProperty(n.prototype,"flags",{get:function(){return this.qs},set:function(t){this.qs=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeFlags=function(t){if("number"!=typeof this.flags)throw new v("Missing custom serializeFlags method.");t.writer.writeUInt(this.flags,24)},n.prototype.serializeBoxContent=function(t){t.writer.writeByte(this.version),this.serializeFlags(t)},n}(Eh);!function(t){function n(){return t.call(this,"dref",0,0)||this}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Dh);var Ch=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"elst",i,e)||this;return r.entries=n,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!qo(e.segmentDuration,this.bitSize))throw new v("SegmentDuration of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!qo(e.mediaTime,this.bitSize))throw new v("MediaTime of one of the entries does not fit in ".concat(this.bitSize," bits."));if(!qo(e.mediaRateInteger,16))throw new v("Provided mediaRateInteger does not fit in 16 bits.");if(e.mediaRateFraction&&!qo(e.mediaRateFraction,16))throw new v("Provided mediaRateFraction does not fit in 16 bits.")}this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(2*this.bitSize/8+2+2)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32),this.serializeElstBoxContent(n)},n}(jo),xh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Po(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration,32),t.writer.writeInt(r.mediaTime,32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ch),Oh=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Po(n,t),n.prototype.serializeElstBoxContent=function(t){for(var n,i=0,e=this.entries;i<e.length;i++){var r=e[i];t.writer.writeUInt(r.segmentDuration.getHighBitsUnsigned(),32),t.writer.writeUInt(r.segmentDuration.getLowBitsUnsigned(),32),t.writer.writeInt(r.mediaTime.getHighBits(),32),t.writer.writeInt(r.mediaTime.getLowBits(),32),t.writer.writeUInt(r.mediaRateInteger,16),t.writer.writeUInt(null!==(n=r.mediaRateFraction)&&void 0!==n?n:0,16)}},n}(Ch);function Ph(t){for(var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=[],o=0;o<s;o++){var h=void 0,a=void 0;0===e?(h=n.nextUint32(),a=n.nextInt32()):(h=n.nextUint64(),a=n.nextInt64());var c=n.nextInt16(),f=n.nextInt16();u.push({segmentDuration:h,mediaTime:a,mediaRateFraction:f,mediaRateInteger:c})}return 0===e?new xh(u,r.raw):new Oh(u,r.raw)}var Bh=function(t){function n(){return t.call(this,"edts")||this}return Po(n,t),n}(Rh);function Lh(t){for(var n=new Bh,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"elst")?n.boxes.push(Ph(r)):n.boxes.push(ph(r))}return n}var Mh=function(t){function n(n,i,e,r){var s=t.call(this,n)||this;return s.majorBrand=i,s.minorVersion=e,s.compatibleBrands=r,s}return Po(n,t),l.defineProperty(n.prototype,"majorBrand",{get:function(){return this.wu},set:function(t){if(4!==t.length)throw new v("the provided major brand does not conform to the 4 character requirement");this.wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"minorVersion",{get:function(){return this.mu},set:function(t){if(!qo(t,32))throw new v("the provided minor version does not fit in 32 bits.");this.mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compatibleBrands",{get:function(){return this.yu},set:function(t){if(t.some(function(t){return 4!==t.length}))throw new v("Some of the compatible brands do not conform to the 4 character requirement");this.yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4*(2+this.compatibleBrands.length)},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.majorBrand),t.writer.writeUInt(this.minorVersion,32);for(var n=0,i=this.compatibleBrands;n<i.length;n++){var e=i[n];t.writer.writeString(e)}},n}(Xo);!function(t){function n(n,i,e){return t.call(this,"ftyp",n,i,e)||this}Po(n,t)}(Mh),function(t){function n(n,i){void 0===i&&(i="free");var e=t.call(this,i)||this;return e.data=n,e}Po(n,t),n.prototype.getBoxContentSize=function(){var t,n;return null!==(n=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==n?n:0},n.prototype.serializeBoxContent=function(t){this.data&&t.concat(zo.from(this.data))}}(Xo);var Uh=function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=t.call(this,"mdhd",e,r)||this;return s.creationTime=n.creation,s.modificationTime=n.modification,s.timescale=n.scale,s.duration=n.duration,s.language=i,s}return Po(n,t),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ku},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"language",{get:function(){return this.Tu},set:function(t){if(!Vh(t))throw new v("Expected an ISO-639-2/T language code");this.Tu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMdiaContent(n),n.writer.writeBit(0);for(var i=0,e=this.language;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.charCodeAt(0)-96,5)}n.writer.writeUInt(0,16)},n}(jo),Fh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,0,e)||this}return Po(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(Uh),Hh=function(t){function n(n,i,e){return void 0===e&&(e=0),t.call(this,n,i,1,e)||this}return Po(n,t),n.prototype.serializeMdiaContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(Uh);function zh(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=mh(n,e),u=new Fo(zo.from(n.nextUint8Array(2)));u.skipBits(1);for(var o=[],h=0;h<3;h++)o.push(u.readUInt(5));var a=o.map(function(t){return String.fromCharCode(t+96)}).join("");return Vh(a)||(a="und"),n.skip(2),0===e?new Fh(s,a,r.raw):new Hh(s,a,r.raw)}function Vh(t){return/^[a-z]{3}$/.test(t)}var Wh,Xh=function(t){function n(){return t.call(this,"mdia")||this}return Po(n,t),n}(Rh);function qh(t){for(var n=new Xh,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"mdhd")?n.boxes.push(zh(r)):dh(r,"hdlr")?n.boxes.push(Ah(r)):n.boxes.push(ph(r))}return n}!function(t){function n(){var n=t.call(this,"mdat")||this;return n.data=new zo,n}Po(n,t),n.prototype.getBoxContentSize=function(){return this.data.length},n.prototype.serializeBoxContent=function(t){t.concat(this.data)}}(Xo),function(t){function n(){return t.call(this,"minf")||this}Po(n,t)}(Rh),function(t){function n(n){var i=t.call(this,"meta",0,0)||this;return i.handler=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.handler.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.handler.serialize())}}(Dh),function(t){t.VIDEO="vide",t.AUXILIARY_VIDEO="auxv",t.AUDIO="soun",t.METADATA="meta",t.HINT="hint",t.TEXT="text",t.SUBTITLE="subt",t.FONT="fdsm"}(Wh||(Wh={}));var Gh,Qh,Yh={a:1,b:0,u:0,c:0,d:1,v:0,x:0,y:0,w:1};function jh(t,n){n.writer.writeUInt(Go(t.a,16),32),n.writer.writeUInt(Go(t.b,16),32),n.writer.writeUInt(Go(0,30),32),n.writer.writeUInt(Go(t.c,16),32),n.writer.writeUInt(Go(t.d,16),32),n.writer.writeUInt(Go(0,30),32),n.writer.writeUInt(Go(t.x,16),32),n.writer.writeUInt(Go(t.y,16),32),n.writer.writeUInt(Go(1,30),32)}function Zh(t,n){var i,e,r,s;n.writer.writeUInt(null!==(i=t.isLeading)&&void 0!==i?i:Gh.UNKNOWN,2),n.writer.writeUInt(null!==(e=t.sampleDependsOn)&&void 0!==e?e:Qh.UNKNOWN,2),n.writer.writeUInt(null!==(r=t.sampleIsDependedOn)&&void 0!==r?r:Qh.UNKNOWN,2),n.writer.writeUInt(null!==(s=t.sampleHasRedundancy)&&void 0!==s?s:Qh.UNKNOWN,2)}function Jh(t,n){var i,e,r;n.writer.writeUInt(0,4),Zh(t,n),n.writer.writeUInt(null!==(i=t.samplePaddingValue)&&void 0!==i?i:0,3),n.writer.writeBool(null!==(e=t.sampleIsNonSyncSample)&&void 0!==e&&e),n.writer.writeUInt(null!==(r=t.sampleDegradationPriority)&&void 0!==r?r:0,16)}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WITH_DEPENDENCY=1]="WITH_DEPENDENCY",t[t.NO=2]="NO",t[t.WITHOUT_DEPENDENCY=3]="WITHOUT_DEPENDENCY"}(Gh||(Gh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.YES=1]="YES",t[t.NO=2]="NO",t[t.RESERVED=3]="RESERVED"}(Qh||(Qh={}));var $h=function(){return function(){}}(),Kh=function(t){function n(n,i,e){var r=t.call(this,"pssh",n,0)||this;return r.systemId=i,r.data=e,r}return Po(n,t),l.defineProperty(n.prototype,"systemId",{get:function(){return this.Su},set:function(t){if(16!==t.length)throw new v("Provided systemId length is not 16.");this.Su=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"data",{get:function(){return this.di},set:function(t){if(!qo(t.length,32))throw new v("Provided data length does not fit in 32 bits.");this.di=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+16+4+this.data.length},n.prototype.serializeVersionBoxContent=function(t){},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(zo.from(this.systemId)),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.data.length,32),n.concat(zo.from(this.data))},n}(jo),ta=function(t){function n(n,i){return t.call(this,0,n,i)||this}return Po(n,t),n}(Kh),na=function(t){function n(n,i,e){var r=t.call(this,1,n,i)||this;return r.kIds=e,r}return Po(n,t),l.defineProperty(n.prototype,"kIds",{get:function(){return this.Eu},set:function(t){if(!qo(t.length,32))throw new v("Provided kIds length cannot fit in 32 bits.");if(t.some(function(t){return 16!==t.length}))throw new v("Not all provided key ids are 16 bytes long.");this.Eu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+16*this.kIds.length},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.kIds.length,32);for(var n=0,i=this.kIds;n<i.length;n++){var e=i[n];t.concat(zo.from(e))}},n}(Kh);function ia(t){var n=t.data.nextUint8();t.data.skip(3);var i=t.data.nextUint8Array(16),e=[];if(1===n)for(var r=t.data.nextUint32(),s=0;s<r;s++)e.push(t.data.nextUint8Array(16));var u=t.data.nextUint32(),o=t.data.nextUint8Array(u);return 1===n?new na(i,o,e):new ta(i,o)}var ea=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"mehd",i,e)||this;return r.fragmentDuration=n,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"fragmentDuration",{get:function(){return this.Ru},set:function(t){if(!qo(t,this.bitSize))throw new v("The provided fragmentDuration does not fit in ".concat(this.bitSize," bits."));this.Ru=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(jo),ra=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration,32)},n}(ea),sa=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.fragmentDuration.getHighBitsUnsigned(),32),n.writer.writeUInt(this.fragmentDuration.getLowBitsUnsigned(),32)},n}(ea);function ua(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new ra(n.nextUint32(),r.raw):new sa(n.nextUint64(),r.raw)}var oa=function(t){function n(n,i,e,r){void 0===i&&(i={}),void 0===e&&(e=0),void 0===r&&(r=0);var s,u,o,h=this;return(h=t.call(this,"trex",e,r)||this).trackId=n,h.defaultSampleDescriptionIndex=null!==(s=null==i?void 0:i.sampleDescriptionIndex)&&void 0!==s?s:0,h.defaultSampleDuration=null!==(u=i.sampleDuration)&&void 0!==u?u:0,h.defaultSampleSize=null!==(o=i.sampleSize)&&void 0!==o?o:0,h.defaultSampleFlags=i.sampleFlags,h}return Po(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!qo(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!qo(t,32))throw new v("Provided default sample description index does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(!qo(t,32))throw new v("Provided default sample duration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!qo(t,32))throw new v("Provided default sample size does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.xu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!qo(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!qo(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.xu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+20},n.prototype.serializeBoxContent=function(n){var i;t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),n.writer.writeUInt(this.defaultSampleDescriptionIndex,32),n.writer.writeUInt(this.defaultSampleDuration,32),n.writer.writeUInt(this.defaultSampleSize,32),Jh(null!==(i=this.defaultSampleFlags)&&void 0!==i?i:{},n)},n}(jo);function ha(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=n.nextUint32(),u=n.nextUint32(),o=n.nextUint32(),h=n.nextUint32(),a=yh(new Fo(zo.from(n.nextUint8Array(4))));return new oa(s,{sampleDescriptionIndex:u,sampleDuration:o,sampleSize:h,sampleFlags:a},e,r.raw)}var aa=function(t){function n(){return t.call(this,"mvex")||this}return Po(n,t),n}(Rh);function ca(t){for(var n=new aa,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"mehd")?n.boxes.push(ua(r)):dh(r,"trex")?n.boxes.push(ha(r)):n.boxes.push(ph(r))}return n}var fa=function(t){function n(i,e,r,s,u){void 0===u&&(u=0);var o,h,a,c=this;return(c=t.call(this,"mvhd",s,u)||this).creationTime=i.creation,c.modificationTime=i.modification,c.timescale=i.scale,c.duration=i.duration,c.rate=null!==(o=r.rate)&&void 0!==o?o:n.DEFAULT_RATE,c.volume=null!==(h=r.volume)&&void 0!==h?h:n.DEFAULT_VOLUME,c.matrix=null!==(a=r.matrix)&&void 0!==a?a:Yh,c.Ou=e,c}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ku},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"rate",{get:function(){return this.Pu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided rate does not fit in 32 bits (fixed 16.16).");this.Pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!qo(Go(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"nextTrackId",{get:function(){return this.Ou},set:function(t){if(0===t)throw new v("NextTrackId cannot be 0.");if(!qo(t,32))throw new v("NextTrackId cannot exceed 32 bits.");this.Ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+2+2+8+36+24+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeMvhdContent(n),n.writer.writeUInt(Go(this.rate,16),32),n.writer.writeUInt(Go(this.volume,8),16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),jh(this.matrix,n);for(var i=0;i<6;i++)n.writer.writeUInt(0,32);n.writer.writeUInt(this.nextTrackId,32)},n.DEFAULT_RATE=1,n.DEFAULT_VOLUME=1,n}(jo),va=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,0,r)||this}return Po(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration,32)},n}(fa),da=function(t){function n(n,i,e,r){return void 0===e&&(e={}),void 0===r&&(r=0),t.call(this,n,i,e,1,r)||this}return Po(n,t),n.prototype.serializeMvhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.timescale,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(fa);function la(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags,s=mh(n,e),u=Yo(n.nextUint32(),16),o=Yo(n.nextUint16(),8);n.skip(2),n.skip(8);var h=kh(n);n.skip(24);var a=n.nextUint32();return 0===e?new va(s,a,{rate:u,volume:o,matrix:h},r.raw):new da(s,a,{rate:u,volume:o,matrix:h},r.raw)}var _a=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o={});var h,a,c,f=this;return(f=t.call(this,"tkhd",n,function(t){var n,i,e,r;return{trackEnabled:null===(n=null==t?void 0:t.trackEnabled)||void 0===n||n,trackInMovie:null===(i=null==t?void 0:t.trackInMovie)||void 0===i||i,trackInPreview:null===(e=null==t?void 0:t.trackInPreview)||void 0===e||e,trackSizeIsAspectRatio:null!==(r=null==t?void 0:t.trackSizeIsAspectRatio)&&void 0!==r&&r}}(o))||this).creationTime=i.creation,f.modificationTime=i.modification,f.trackId=e,f.duration=i.duration,f.volume=r,f.width=s,f.height=u,f.layer=null!==(h=o.layer)&&void 0!==h?h:0,f.alternateGroup=null!==(a=o.alternateGroup)&&void 0!==a?a:0,f.matrix=null!==(c=o.matrix)&&void 0!==c?c:Yh,f}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"creationTime",{get:function(){return this.ku},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"modificationTime",{get:function(){return this.pu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.pu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(0===t)throw new v("trackId cannot be 0.");if(!qo(t,32))throw new v("trackId cannot exceed 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"duration",{get:function(){return this.Au},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided sequence number does not fit in ".concat(this.bitSize," bits."));this.Au=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"volume",{get:function(){return this.Bu},set:function(t){if(!qo(Go(t,8),16))throw new v("Provided volume does not fit in 16 bits (fixed 8.8).");this.Bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided width does not fit in 32 bits (fixed 16.16).");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided height does not fit in 32 bits (fixed 16.16).");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"layer",{get:function(){return this.Fu},set:function(t){if(!qo(t,16))throw new v("Provided layer does not fit in 16 bits.");this.Fu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"alternateGroup",{get:function(){return this.Hu},set:function(t){if(!qo(t,16))throw new v("Provided alternateGroup does not fit in 16 bits.");this.Hu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"matrix",{get:function(){return this.Lu},set:function(t){if(0!==t.u||0!==t.v||1!==t.w)throw new v("(u, v, w) does not match the required (0, 0, 1)");this.Lu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8*3+4+4+8+2+2+2+2+36+4+4},n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,20),t.writer.writeBool(this.flags.trackSizeIsAspectRatio),t.writer.writeBool(this.flags.trackInPreview),t.writer.writeBool(this.flags.trackInMovie),t.writer.writeBool(this.flags.trackEnabled)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeTkhdContent(n),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.layer,16),n.writer.writeUInt(this.alternateGroup,16),n.writer.writeUInt(Go(this.volume,8),16),n.writer.writeUInt(0,16),jh(this.matrix,n),n.writer.writeUInt(Go(this.width,16),32),n.writer.writeUInt(Go(this.height,16),32)},n}(jo),ga=function(t){function n(n,i,e,r,s,u){return t.call(this,0,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime,32),t.writer.writeUInt(this.modificationTime,32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration,32)},n}(_a),wa=function(t){function n(n,i,e,r,s,u){return t.call(this,1,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeTkhdContent=function(t){t.writer.writeUInt(this.creationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.creationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.modificationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.trackId,32),t.writer.writeUInt(0,32),t.writer.writeUInt(this.duration.getHighBitsUnsigned(),32),t.writer.writeUInt(this.duration.getLowBitsUnsigned(),32)},n}(_a);function ma(t){var n,i,e,r,s=t.data,u=wh(s.nextUint32()),o=u.version,h=u.flags,a=h.isSet(8),c=h.isSet(4),f=h.isSet(2),v=h.isSet(1);0===o?(n=s.nextUint32(),i=s.nextUint32(),e=s.nextUint32(),s.skip(4),r=s.nextUint32()):(n=s.nextUint64(),i=s.nextUint64(),e=s.nextUint32(),s.skip(4),r=s.nextUint64()),s.skip(8);var d=s.nextInt16(),l=s.nextInt16(),_=Yo(s.nextInt16(),8);s.skip(2);var g=kh(s),w=Yo(s.nextUint32(),16),m=Yo(s.nextUint32(),16);return 0===o?new ga({creation:n,modification:i,duration:r},e,_,w,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f}):new wa({creation:n,modification:i,duration:r},e,_,w,m,{layer:d,matrix:g,alternateGroup:l,trackSizeIsAspectRatio:a,trackEnabled:v,trackInPreview:c,trackInMovie:f})}var ya=function(t){function n(){return t.call(this,"trak")||this}return Po(n,t),n}(Rh);function ka(t){for(var n=new ya,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"tkhd")?n.boxes.push(ma(r)):dh(r,"mdia")?n.boxes.push(qh(r)):dh(r,"edts")?n.boxes.push(Lh(r)):n.boxes.push(ph(r))}return n}var pa=function(t){function n(){return t.call(this,"moov")||this}return Po(n,t),n}(Rh);var ba=function(t){function n(n,i,e){void 0===e&&(e=0);var r=t.call(this,"tfdt",i,e)||this;return r.baseMediaDecodeTime=n,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseMediaDecodeTime",{get:function(){return this.zu},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided baseMediaDecodeTime does not fit in ".concat(this.bitSize," bits."));this.zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.bitSize/8},n}(jo),Aa=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,0,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime,32)},n}(ba),Ta=function(t){function n(n,i){return void 0===i&&(i=0),t.call(this,n,1,i)||this}return Po(n,t),n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.baseMediaDecodeTime.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseMediaDecodeTime.getLowBitsUnsigned(),32)},n}(ba);function Sa(t){var n=t.data,i=wh(n.nextUint32()),e=i.version,r=i.flags;return 0===e?new Aa(n.nextUint32(),r.raw):new Ta(n.nextUint64(),r.raw)}var Ea=function(t){function n(n,i){void 0===i&&(i=0);var e=t.call(this,"tfhd",i,function(t){return{baseDataOffsetPresent:void 0!==t.baseDataOffset,sampleDescriptionIndexPresent:void 0!==t.sampleDescriptionIndex,defaultSampleDurationPresent:void 0!==t.defaultSampleDuration,defaultSampleSizePresent:void 0!==t.defaultSampleSize,defaultSampleFlagsPresent:void 0!==t.defaultSampleFlags,durationIsEmpty:t.durationIsEmpty,defaultBaseIsMoof:t.defaultBaseIsMoof}}(n))||this;return e.trackId=n.trackId,e.baseDataOffset=n.baseDataOffset,e.sampleDescriptionIndex=n.sampleDescriptionIndex,e.defaultSampleDuration=n.defaultSampleDuration,e.defaultSampleSize=n.defaultSampleSize,e.defaultSampleFlags=n.defaultSampleFlags,e}return Po(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!qo(t,32))throw new v("Provided track id does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"baseDataOffset",{get:function(){return this.Vu},set:function(t){if(void 0===t&&this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is set.");if(void 0!==t&&!this.flags.baseDataOffsetPresent)throw new v("The base data offset present flag is not set.");if(t&&!qo(t,64))throw new v("Provided baseDataOffset does not fit in 32 bits.");this.Vu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleDescriptionIndex",{get:function(){return this.Wu},set:function(t){if(void 0===t&&this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is set.");if(void 0!==t&&!this.flags.sampleDescriptionIndexPresent)throw new v("The sample description index flag is not set.");if(t&&!qo(t,32))throw new v("Provided sampleDescriptionIndex does not fit in 32 bits.");this.Wu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleDuration",{get:function(){return this.Du},set:function(t){if(void 0===t&&this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is set.");if(void 0!==t&&!this.flags.defaultSampleDurationPresent)throw new v("The default sample duration present flag is not set.");if(t&&!qo(t,32))throw new v("Provided defaultSampleDuration does not fit in 32 bits.");this.Du=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(void 0===t&&this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is set.");if(void 0!==t&&!this.flags.defaultSampleSizePresent)throw new v("The default sample size present flag is not set.");if(t&&!qo(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"defaultSampleFlags",{get:function(){return this.xu},set:function(t){if(void 0===t&&this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is set.");if(void 0!==t&&!this.flags.defaultSampleFlagsPresent)throw new v("The default sample flags present flag is not set.");if((null==t?void 0:t.samplePaddingValue)&&!qo(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!qo(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.xu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeUInt(0,6),t.writer.writeBool(this.flags.defaultBaseIsMoof),t.writer.writeBool(this.flags.durationIsEmpty),t.writer.writeByte(0),t.writer.writeUInt(0,2),t.writer.writeBool(this.flags.defaultSampleFlagsPresent),t.writer.writeBool(this.flags.defaultSampleSizePresent),t.writer.writeBool(this.flags.defaultSampleDurationPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.sampleDescriptionIndexPresent),t.writer.writeBool(this.flags.baseDataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.baseDataOffsetPresent&&(n+=8),this.flags.sampleDescriptionIndexPresent&&(n+=4),this.flags.defaultSampleDurationPresent&&(n+=4),this.flags.defaultSampleSizePresent&&(n+=4),this.flags.defaultSampleFlagsPresent&&(n+=4),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32),this.flags.baseDataOffsetPresent&&(n.writer.writeUInt(this.baseDataOffset.getHighBitsUnsigned(),32),n.writer.writeUInt(this.baseDataOffset.getLowBitsUnsigned(),32)),this.flags.sampleDescriptionIndexPresent&&n.writer.writeUInt(this.sampleDescriptionIndex,32),this.flags.defaultSampleDurationPresent&&n.writer.writeUInt(this.defaultSampleDuration,32),this.flags.defaultSampleSizePresent&&n.writer.writeUInt(this.defaultSampleSize,32),this.flags.defaultSampleFlagsPresent&&Jh(this.defaultSampleFlags,n)},n}(jo);function Ra(t){var n=t.data,i=n.nextUint8(),e=new Fo(zo.from(n.nextUint8Array(3)));e.skipBits(6);var r=Boolean(e.readBit()),s=Boolean(e.readBit());e.skipBits(10);var u=Boolean(e.readBit()),o=Boolean(e.readBit()),h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=Boolean(e.readBit()),f=n.nextUint32(),v=c?n.nextUint64():void 0,d=a?n.nextUint32():void 0,l=h?n.nextUint32():void 0,_=o?n.nextUint32():void 0,g=u?yh(new Fo(zo.from(n.nextUint8Array(4)))):void 0;return new Ea({trackId:f,defaultBaseIsMoof:r,durationIsEmpty:s,baseDataOffset:v,sampleDescriptionIndex:d,defaultSampleDuration:l,defaultSampleSize:_,defaultSampleFlags:g},i)}var Ia=function(t){function n(n,i,e){var r=t.call(this,"trun",n,function(t){var n,i,e,r;return{dataOffsetPresent:void 0!==t.dataOffset,firstSampleFlagsPresent:void 0!==t.firstSampleFlags,sampleDurationPresent:null!==(n=t.sampleDurationPresent)&&void 0!==n&&n,sampleSizePresent:null!==(i=t.sampleSizePresent)&&void 0!==i&&i,sampleFlagsPresent:null!==(e=t.sampleFlagsPresent)&&void 0!==e&&e,sampleCompositionTimeOffsetsPresent:null!==(r=t.sampleCompositionTimeOffsetsPresent)&&void 0!==r&&r}}(i))||this;return r.dataOffset=i.dataOffset,r.samples=e,r.firstSampleFlags=i.firstSampleFlags,r}return Po(n,t),l.defineProperty(n.prototype,"dataOffset",{get:function(){return this.Xu},set:function(t){if(t&&!qo(t,32))throw new v("Provided data offset does not fit in 32 bits.");this.Xu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstSampleFlags",{get:function(){return this.qu},set:function(t){if((null==t?void 0:t.samplePaddingValue)&&!qo(t.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null==t?void 0:t.sampleDegradationPriority)&&!qo(t.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");this.qu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n,i;if(!qo(t.length,32))throw new v("The sample count cannot be represented in 32 bits.");for(var e=0,r=t;e<r.length;e++){var s=r[e];if(void 0===s.duration&&this.flags.sampleDurationPresent)throw new v("The sample duration present flag is set.");if(void 0!==s.duration&&!this.flags.sampleDurationPresent)throw new v("The sample duration present flag is not set.");if(s.duration&&!qo(s.duration,32))throw new v("Provided sample duration does not fit in 32 bits.");if(void 0===s.size&&this.flags.sampleSizePresent)throw new v("The sample size present flag is set.");if(void 0!==s.size&&!this.flags.sampleSizePresent)throw new v("The sample size present flag is not set.");if(s.size&&!qo(s.size,32))throw new v("Provided sample size does not fit in 32 bits.");if(void 0===s.flags&&this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is set.");if(void 0!==s.flags&&!this.flags.sampleFlagsPresent)throw new v("The sample flags present flag is not set.");if((null===(n=s.flags)||void 0===n?void 0:n.samplePaddingValue)&&!qo(s.flags.samplePaddingValue,3))throw new v("Provided sample padding value does not fit in 3 bits.");if((null===(i=s.flags)||void 0===i?void 0:i.sampleDegradationPriority)&&!qo(s.flags.sampleDegradationPriority,16))throw new v("Provided sample degradation priority does not fit in 16 bits.");if(void 0===s.compositionTimeOffset&&this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is set.");if(void 0!==s.compositionTimeOffset&&!this.flags.sampleCompositionTimeOffsetsPresent)throw new v("The sample compositionTimeOffset present flag is not set.");if(s.compositionTimeOffset&&!qo(s.compositionTimeOffset,32))throw new v("Provided sample compositionTimeOffset does not fit in 32 bits.")}this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.serializeFlags=function(t){t.writer.writeByte(0),t.writer.writeUInt(0,4),t.writer.writeBool(this.flags.sampleCompositionTimeOffsetsPresent),t.writer.writeBool(this.flags.sampleFlagsPresent),t.writer.writeBool(this.flags.sampleSizePresent),t.writer.writeBool(this.flags.sampleDurationPresent),t.writer.writeUInt(0,5),t.writer.writeBool(this.flags.firstSampleFlagsPresent),t.writer.writeBit(0),t.writer.writeBool(this.flags.dataOffsetPresent)},n.prototype.getBoxContentSize=function(){var n=t.prototype.getBoxContentSize.call(this)+4;return this.flags.dataOffsetPresent&&(n+=4),this.flags.firstSampleFlagsPresent&&(n+=4),this.flags.sampleDurationPresent&&(n+=4*this.samples.length),this.flags.sampleSizePresent&&(n+=4*this.samples.length),this.flags.sampleFlagsPresent&&(n+=4*this.samples.length),this.flags.sampleCompositionTimeOffsetsPresent&&(n+=4*this.samples.length),n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32),this.flags.dataOffsetPresent&&n.writer.writeUInt(this.dataOffset,32),this.flags.firstSampleFlagsPresent&&Jh(this.firstSampleFlags,n);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];this.flags.sampleDurationPresent&&n.writer.writeUInt(r.duration,32),this.flags.sampleSizePresent&&n.writer.writeUInt(r.size,32),this.flags.sampleFlagsPresent&&Jh(r.flags,n),this.flags.sampleCompositionTimeOffsetsPresent&&(0===this.version?n.writer.writeUInt(r.compositionTimeOffset,32):n.writer.writeInt(r.compositionTimeOffset,32))}},n}(jo);function Na(t){var n=t.data,i=n.nextUint8(),e=new Fo(zo.from(n.nextUint8Array(3)));e.skipBits(12);var r=Boolean(e.readBit()),s=Boolean(e.readBit()),u=Boolean(e.readBit()),o=Boolean(e.readBit());e.skipBits(5);var h=Boolean(e.readBit());e.skipBits(1);var a=Boolean(e.readBit()),c=n.nextUint32(),f={sampleDurationPresent:o,sampleSizePresent:u,sampleFlagsPresent:s,sampleCompositionTimeOffsetsPresent:r};a&&(f.dataOffset=n.nextInt32()),h&&(f.firstSampleFlags=yh(new Fo(zo.from(n.nextUint8Array(4)))));for(var v=[],d=0;d<c;d++){var l={};o&&(l.duration=n.nextUint32()),u&&(l.size=n.nextUint32()),s&&(l.flags=yh(new Fo(zo.from(n.nextUint8Array(4))))),r&&(l.compositionTimeOffset=0===i?n.nextUint32():n.nextInt32()),v.push(l)}return new Ia(i,f,v)}var Da=function(t){function n(){return t.call(this,"traf")||this}return Po(n,t),n}(Rh);function Ca(t){for(var n=new Da,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"tfhd")?n.boxes.push(Ra(r)):dh(r,"tfdt")?n.boxes.push(Sa(r)):dh(r,"trun")?n.boxes.push(Na(r)):n.boxes.push(ph(r))}return n}var xa=function(t){function n(){return t.call(this,"moof")||this}return Po(n,t),n}(Rh);!function(t){function n(n){var i=t.call(this,"mfhd",0,0)||this;return i.sequenceNumber=n,i}Po(n,t),l.defineProperty(n.prototype,"sequenceNumber",{get:function(){return this.Qu},set:function(t){if(!qo(t,32))throw new v("Provided sequence number does not fit in 32 bits.");this.Qu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.sequenceNumber,32)}}(jo);var Oa=function(t){function n(n){var i=t.call(this,"frma")||this;return i.codingName=n,i}return Po(n,t),l.defineProperty(n.prototype,"codingName",{get:function(){return this.Yu},set:function(t){if(4!==t.length)throw new v("Provided coding name was not 4 characters long.");this.Yu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 4},n.prototype.serializeBoxContent=function(t){t.writer.writeString(this.codingName)},n}(Xo);!function(t){function n(n,i){var e=t.call(this,"pasp")||this;return e.hSpacing=n,e.vSpacing=i,e}Po(n,t),l.defineProperty(n.prototype,"hSpacing",{get:function(){return this.ju},set:function(t){if(!qo(t,32))throw new v("Provided hSpacing does not fit in 32 bits.");this.ju=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"vSpacing",{get:function(){return this.Zu},set:function(t){if(!qo(t,32))throw new v("Provided vSpacing does not fit in 32 bits.");this.Zu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 8},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.hSpacing,32),t.writer.writeUInt(this.vSpacing,32)}}(Xo),function(t){function n(n,i,e){var r=t.call(this,n)||this;return r.sample=i,r.sinf=e,r}Po(n,t),n.prototype.getBoxContentSize=function(){return this.sample.getBoxContentSize()+this.sinf.getSize()},n.prototype.serializeBoxContent=function(t){this.sample.serializeBoxContent(t),t.concat(this.sinf.serialize())}}(Rh),function(t){function n(n,i,e){var r=t.call(this,"sinf")||this;return r.schm=i,r.schi=e,r.frma=new Oa(n),r}Po(n,t),n.prototype.getBoxContentSize=function(){var t,n,i,e;return this.frma.getSize()+(null!==(n=null===(t=this.schm)||void 0===t?void 0:t.getSize())&&void 0!==n?n:0)+(null!==(e=null===(i=this.schi)||void 0===i?void 0:i.getSize())&&void 0!==e?e:0)},n.prototype.serializeBoxContent=function(t){t.concat(this.frma.serialize()),this.schm&&t.concat(this.schm.serialize()),this.schi&&t.concat(this.schi.serialize())}}(Xo);var Pa=function(t){function n(n,i,e){var r=t.call(this,"saio",n,void 0===e?0:1)||this;return r.entries=i,r.explicitAuxInfoType=e,r}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){var n=this;if(!qo(t.length,32))throw new v("Number of entries provided does not fit in 32 bits.");if(t.some(function(t){return!qo(t,n.bitSize)}))throw new v("Not all provided entries fit in ".concat(this.bitSize," bits."));this.ou=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!qo(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!qo(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+4+this.entries.length*this.bitSize/8},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeUInt(this.entries.length,32),this.serializeSaioContent(n)},n}(jo);!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Po(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e,32)}}}(Pa),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}Po(n,t),n.prototype.serializeSaioContent=function(t){for(var n=0,i=this.entries;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.getHighBitsUnsigned(),32),t.writer.writeUInt(e.getLowBitsUnsigned(),32)}}}(Pa),function(t){function n(n,i,e){var r=t.call(this,"saiz",0,void 0===e?0:1)||this;return r.defaultSampleInfoSize=n,r.sampleInfoSizes=i,r.explicitAuxInfoType=e,r}Po(n,t),l.defineProperty(n.prototype,"defaultSampleInfoSize",{get:function(){return this.$u},set:function(t){if(!qo(t,8))throw new v("Provided defaultSampleInfoSize does not fit in a single byte.");this.$u=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"sampleInfoSizes",{get:function(){return this.Ku},set:function(t){if(!qo(t.length,32))throw new v("Number of sampleInfoSizes provided does not fit in 32 bits.");if(t.some(function(t){return!qo(t,8)}))throw new v("Not all provided sampleInfoSizes fit in a byte.");this.Ku=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"explicitAuxInfoType",{get:function(){return this.Ju},set:function(t){if(void 0===t)this.flags=0;else{if(!qo(t.auxInfoType,32))throw new v("Provided auxInfoType does not fit in 32 bits.");if(!qo(t.auxInfoTypeParameter,32))throw new v("Provided auxInfoTypeParameter does not fit in 32 bits.");this.flags=1}this.Ju=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(void 0===this.explicitAuxInfoType?0:8)+1+4+(0===this.defaultSampleInfoSize?0:this.sampleInfoSizes.length)},n.prototype.serializeBoxContent=function(n){if(0===this.defaultSampleInfoSize&&this.sampleInfoSizes.length>0)throw new v("Both a default size and specific sizes are provided.  This is prohibited.");t.prototype.serializeBoxContent.call(this,n),void 0!==this.explicitAuxInfoType&&(n.writer.writeUInt(this.explicitAuxInfoType.auxInfoType,32),n.writer.writeUInt(this.explicitAuxInfoType.auxInfoTypeParameter,32)),n.writer.writeByte(this.defaultSampleInfoSize),n.writer.writeUInt(this.sampleInfoSizes.length,32);for(var i=0,e=this.sampleInfoSizes;i<e.length;i++){var r=e[i];n.writer.writeByte(r)}}}(jo),function(t){function n(n){var i=t.call(this,"sdtp",0,0)||this;return i.samples=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.samples.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n);for(var i=0,e=this.samples;i<e.length;i++){Zh(e[i],n)}}}(jo),function(t){function n(n){return t.call(this,"stsd",n,0)||this}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.boxes.length,32)}}(Dh);var Ba=function(t){function n(n,i,e){var r=t.call(this,"sgpd",n,0)||this;return r.entries=e,r.groupingType=i,r}return Po(n,t),l.defineProperty(n.prototype,"groupingType",{get:function(){return this.to},set:function(t){if(4!==t.length)throw new v("The provided groupingType does not equal 4 characters.");this.to=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.groupingType),this.serializeVersionBoxContent(n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];this.serializeEntryBoxContent(n,r)}},n.prototype.serializeEntryBoxContent=function(t,n){n.serializeBoxContent(t)},n}(jo);!function(t){function n(n,i){return t.call(this,0,n,i)||this}Po(n,t),n.prototype.serializeVersionBoxContent=function(t){}}(Ba),function(t){function n(n,i,e){var r=t.call(this,1,n,e)||this;return r.defaultLength=i,r}Po(n,t),l.defineProperty(n.prototype,"defaultLength",{get:function(){return this.io},set:function(t){if(!qo(t,32))throw new v("The provided defaultLength does not fit in 32 bits.");this.io=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+this.entries.length*(this.defaultLength||4)},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultLength,32)},n.prototype.serializeEntryBoxContent=function(t,n){0===this.defaultLength&&t.writer.writeUInt(n.getBoxContentSize(),32),n.serializeBoxContent(t)}}(Ba),function(t){function n(n,i,e,r){void 0===r&&(r=0);var s=this;if(n<2)throw new v("This constructor is only meant for versions 2 and up.");return(s=t.call(this,n,i,e)||this).defaultSampleDescriptionIndex=r,s}Po(n,t),l.defineProperty(n.prototype,"defaultSampleDescriptionIndex",{get:function(){return this.Nu},set:function(t){if(!qo(t,32))throw new v("The provided defaultSampleDescriptionIndex does not fit in 32 bits.");this.Nu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.defaultSampleDescriptionIndex,32)}}(Ba),function(t){function n(n){void 0===n&&(n=[]);var i=t.call(this,"stsz",0,0)||this;return i.sampleSizes=n,i}Po(n,t),l.defineProperty(n.prototype,"sampleSizes",{get:function(){return this.eo},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed samples cannot fit in 32 bits.");if(t.some(function(t){return!qo(t,32)}))throw new v("Not all sampleSizes can be represented in 32 bits.");this.eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+4*this.sampleSizes.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,32),n.writer.writeUInt(this.sampleSizes.length,32);for(var i=0,e=this.sampleSizes;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(jo),function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=0);var e=t.call(this,"stsz",0,0)||this;return e.defaultSampleSize=n,e.samples=i,e}Po(n,t),l.defineProperty(n.prototype,"defaultSampleSize",{get:function(){return this.Cu},set:function(t){if(!qo(t,32))throw new v("Provided defaultSampleSize does not fit in 32 bits.");this.Cu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){if(!qo(t,32))throw new v("Number of allowed samples cannot fit in 32 bits.");this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.defaultSampleSize,32),n.writer.writeUInt(this.samples,32)}}(jo),function(t){function n(){return t.call(this,"stbl")||this}Po(n,t)}(Rh),function(t){function n(n){var i=t.call(this,"stsc",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t.firstChunk,32)||!qo(t.sampleDescriptionIndex,32)||!qo(t.samplesPerChunk,32)}))throw new v("Not all entries can be represented in 96 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+12*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.firstChunk,32),n.writer.writeUInt(r.samplesPerChunk,32),n.writer.writeUInt(r.sampleDescriptionIndex,32)}}}(jo),function(t){function n(){return t.call(this,"schi")||this}Po(n,t)}(Rh),function(t){function n(n,i,e){var r=t.call(this,"schm",0,void 0===e?0:1)||this;return r.schemeType=n,r.schemeVersion=i,r.schemeUri=e,r}Po(n,t),l.defineProperty(n.prototype,"schemeType",{get:function(){return this.ro},set:function(t){if(4!==t.length)throw new v("The provided schemeType does not have a length of 4.");this.ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeVersion",{get:function(){return this.so},set:function(t){if(!qo(t,32))throw new v("The provided schemeVersion does not fit in 23 bits.");this.so=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"schemeUri",{get:function(){return this.uo},set:function(t){if(t&&4!==t.length)throw new v("The provided schemeUri does not have a length of 4.");this.flags=void 0===t?0:1,this.uo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+(void 0===this.schemeUri?0:this.schemeUri.length+1)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeType),n.writer.writeUInt(this.schemeVersion,32),this.schemeUri&&(n.writer.writeString(this.schemeUri),n.writer.writeByte(0))}}(jo);var La=function(t){function n(n,i,e,r,s,u,o){void 0===o&&(o=0);var h=t.call(this,"sidx",n,o)||this;return h.referenceId=i,h.timescale=e,h.earliestPresentationTime=r,h.firstOffset=s,h.references=u,h}return Po(n,t),l.defineProperty(n.prototype,"bitSize",{get:function(){return 0===this.version?32:64},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"referenceId",{get:function(){return this.oo},set:function(t){if(!qo(t,32))throw new v("Provided referenceId does not fit in 32 bits.");this.oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("Provided timescale does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"earliestPresentationTime",{get:function(){return this.ho},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided earliestPresentationTime does not fit in ".concat(this.bitSize," bits."));this.ho=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"firstOffset",{get:function(){return this.ao},set:function(t){if(!qo(t,this.bitSize))throw new v("Provided timescale does not fit in ".concat(this.bitSize," bits."));this.ao=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"references",{get:function(){return this.co},set:function(t){if(!qo(t.length,16))throw new v("The number of provided reference items does not fit in 16 bits.");for(var n=0,i=t;n<i.length;n++){var e=i[n];if(!qo(e.referencedSize,31))throw new v("Provided referenced size does not fit in 31 bits.");if(!qo(e.subsegmentDuration,32))throw new v("Provided subsegment duration does not fit in 31 bits.");if(!qo(e.sapType,3))throw new v("Provided SAP type does not fit in 3 bits.");if(!qo(e.sapDeltaTime,28))throw new v("Provided SAP delta time does not fit in 28 bits.")}this.co=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4+this.bitSize/8*2+2+2+12*this.references.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.referenceId,32),n.writer.writeUInt(this.timescale,32),this.serializeSidxBoxContent(n),n.writer.writeUInt(0,16),n.writer.writeUInt(this.references.length,16);for(var i=0,e=this.references;i<e.length;i++){var r=e[i];n.writer.writeBit(r.referenceType),n.writer.writeUInt(r.referencedSize,31),n.writer.writeUInt(r.subsegmentDuration,32),n.writer.writeBool(r.startsWithSap),n.writer.writeUInt(r.sapType,3),n.writer.writeUInt(r.sapDeltaTime,28)}},n}(jo),Ma=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,0,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime,32),t.writer.writeUInt(this.firstOffset,32)},n}(La),Ua=function(t){function n(n,i,e,r,s,u){return void 0===u&&(u=0),t.call(this,1,n,i,e,r,s,u)||this}return Po(n,t),n.prototype.serializeSidxBoxContent=function(t){t.writer.writeUInt(this.earliestPresentationTime.getHighBitsUnsigned(),32),t.writer.writeUInt(this.earliestPresentationTime.getLowBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getHighBitsUnsigned(),32),t.writer.writeUInt(this.firstOffset.getLowBitsUnsigned(),32)},n}(La);!function(t){function n(n,i,e){return t.call(this,"styp",n,i,e)||this}Po(n,t)}(Mh),function(t){function n(n){void 0===n&&(n=0);var i=t.call(this,"smhd",0,0)||this;return i.balance=n,i}Po(n,t),l.defineProperty(n.prototype,"balance",{get:function(){return this.fo},set:function(t){if(t<-1||t>1)throw new v("Provided balance does not fit in the allowed range [-1, 1].");if(!qo(Go(t,8),16))throw new v("Provided balance does not fit in 16 bits (fixed 8.8).");this.fo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+2},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(Go(this.balance,8),16),n.writer.writeUInt(0,16)}}(jo),function(t){function n(n){var i=t.call(this,"stss",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t,32)}))throw new v("Not all entries can be represented in 32 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+4*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r,32)}}}(jo),function(t){function n(n){var i=t.call(this,"stts",0,0)||this;return i.entries=n,i}Po(n,t),l.defineProperty(n.prototype,"entries",{get:function(){return this.ou},set:function(t){if(!qo(t.length,32))throw new v("Number of allowed entries cannot fit in 32 bits.");if(t.some(function(t){return!qo(t.sampleCount,32)||!qo(t.sampleDelta,32)}))throw new v("Not all entries can be represented in 64 bits.");this.ou=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4+8*this.entries.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.entries.length,32);for(var i=0,e=this.entries;i<e.length;i++){var r=e[i];n.writer.writeUInt(r.sampleCount,32),n.writer.writeUInt(r.sampleDelta,32)}}}(jo),function(t){function n(n){var i=t.call(this,"trep",0,0)||this;return i.trackId=n,i}Po(n,t),l.defineProperty(n.prototype,"trackId",{get:function(){return this.Iu},set:function(t){if(!qo(t,32))throw new v("The provided trackId does not fit in 32 bits.");this.Iu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+4},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.trackId,32)}}(Dh),function(t){function n(){return t.call(this,"udta")||this}Po(n,t)}(Rh);var Fa={red:0,green:0,blue:0};!function(t){function n(n,i){void 0===n&&(n=0),void 0===i&&(i=Fa);var e=t.call(this,"vmhd",0,1)||this;return e.graphicsMode=n,e.opColor=i,e}Po(n,t),l.defineProperty(n.prototype,"opColor",{get:function(){return this.vo},set:function(t){if(!qo(t.red,16)||!qo(t.green,16)||!qo(t.blue,16))throw new v("Not all colors could be represented in 16 bits.");this.vo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+2+6},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.graphicsMode,16),n.writer.writeUInt(this.opColor.red,16),n.writer.writeUInt(this.opColor.green,16),n.writer.writeUInt(this.opColor.blue,16)}}(jo);var Ha=function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u,o,h,a,c,f=this;return(f=t.call(this,n,i)||this).width=e.width,f.height=e.height,f.horizontalResolution=null!==(u=e.horizontal)&&void 0!==u?u:72,f.verticalResolution=null!==(o=e.vertical)&&void 0!==o?o:72,f.compressorName=null!==(h=r.compressorName)&&void 0!==h?h:"",f.frameCount=null!==(a=r.frameCount)&&void 0!==a?a:1,f.depth=null!==(c=r.depth)&&void 0!==c?c:24,f.clap=r.clap,f.pasp=r.pasp,f.extra=s,f}return Po(n,t),l.defineProperty(n.prototype,"width",{get:function(){return this.Mu},set:function(t){if(!qo(t,16))throw new v("Provided width does not fit in 16 bits.");this.Mu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"height",{get:function(){return this.Uu},set:function(t){if(!qo(t,16))throw new v("Provided height does not fit in 16 bits.");this.Uu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"horizontalResolution",{get:function(){return this.do},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided horizontalResolution does not fit in 32 bits (fixed 16.16).");this.do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"verticalResolution",{get:function(){return this.lo},set:function(t){if(!qo(Go(t,16),32))throw new v("Provided verticalResolution does not fit in 32 bits (fixed 16.16).");this.lo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"compressorName",{get:function(){return this._o},set:function(t){if(t.length>31)throw new v("The provided compressorName should at most be 31 characters long.");this._o=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"frameCount",{get:function(){return this.wo},set:function(t){if(!qo(t,16))throw new v("Provided frameCount does not fit in 16 bits.");this.wo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"depth",{get:function(){return this.mo},set:function(t){if(!qo(t,16))throw new v("Provided depth does not fit in 16 bits.");this.mo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){var n,i,e,r,s,u;return t.prototype.getBoxContentSize.call(this)+2+2+12+2+2+4+4+4+2+32+2+2+(null!==(i=null===(n=this.clap)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)+(null!==(r=null===(e=this.pasp)||void 0===e?void 0:e.getSize())&&void 0!==r?r:0)+(null!==(u=null===(s=this.extra)||void 0===s?void 0:s.length)&&void 0!==u?u:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(0,16),n.writer.writeUInt(0,16),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.width,16),n.writer.writeUInt(this.height,16),n.writer.writeUInt(Go(this.horizontalResolution,16),32),n.writer.writeUInt(Go(this.verticalResolution,16),32),n.writer.writeUInt(0,32),n.writer.writeUInt(this.frameCount,16),n.writer.writeByte(this.compressorName.length),n.writer.writeString(this.compressorName);for(var i=0;i<31-this.compressorName.length;i++)n.writer.writeByte(0);n.writer.writeUInt(this.depth,16),n.writer.writeInt(-1,16),this.clap&&n.concat(this.clap.serialize()),this.pasp&&n.concat(this.pasp.serialize()),this.extra&&Qo(n.writer,this.extra)},n}(Ih);!function(t){function n(n){var i=t.call(this,"esds",0,0)||this;return i.esDescriptor=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+(this.esDescriptor instanceof y?this.esDescriptor.length:this.esDescriptor.getSize())},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor instanceof y?n.concat(zo.from(this.esDescriptor)):this.esDescriptor.serialize(n)}}(jo),function(t){function n(n,i,e){var r=t.call(this,"mp4a",n,e)||this;return r.esd=i,r}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esd.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.esd.serialize())}}(Nh),function(t){function n(n,i,e,r){void 0===r&&(r={});var s=t.call(this,"mp4v",n,i,r)||this;return s.esDescriptor=e,s}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ha),function(t){function n(n,i){var e=t.call(this,"mp4s",n)||this;return e.esDescriptor=i,e}Po(n,t),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.esDescriptor.getSize()},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.esDescriptor.serialize(n)}}(Ih),function(t){function n(n){var i=t.call(this,"avcC")||this;return i.decoderConfig=n,i}Po(n,t),n.prototype.getBoxContentSize=function(){return this.decoderConfig.getSize()},n.prototype.serializeBoxContent=function(t){this.decoderConfig.serialize(t)}}(Xo),function(){function t(t,n,i,e,r,s){void 0===s&&(s=1),this.lengthSizeMinusOne=i,this.version=s,this.profileIndication=t.indication,this.profileCompatibility=t.compatibility,this.levelIndication=n,this.spsSets=e,this.ppsSets=r}l.defineProperty(t.prototype,"version",{get:function(){return this.yo},set:function(t){if(!qo(t,8))throw new v("Provided version does not fit in 8 bits.");this.yo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileIndication",{get:function(){return this.ko},set:function(t){if(!qo(t,8))throw new v("Provided profileIndication does not fit in 8 bits.");this.ko=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"profileCompatibility",{get:function(){return this.po},set:function(t){if(!qo(t,8))throw new v("Provided profileCompatibility does not fit in 8 bits.");this.po=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"levelIndication",{get:function(){return this.bo},set:function(t){if(!qo(t,8))throw new v("Provided levelIndication does not fit in 8 bits.");this.bo=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"spsSets",{get:function(){return this.Ao},set:function(t){if(!qo(t.length,5))throw new v("Provided number of spsSets exceeds the max (32)");this.Ao=t},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ppsSets",{get:function(){return this.To},set:function(t){if(!qo(t.length,8))throw new v("Provided number of ppsSets exceeds the max (256)");this.To=t},enumerable:!1,configurable:!0}),t.prototype.getSize=function(){return 7+2*this.spsSets.length+this.spsSets.reduce(function(t,n){return t+n.length},0)+2*this.ppsSets.length+this.ppsSets.reduce(function(t,n){return t+n.length},0)},t.prototype.serialize=function(t){t.writer.writeByte(this.version),t.writer.writeByte(this.profileIndication),t.writer.writeByte(this.profileCompatibility),t.writer.writeByte(this.levelIndication),t.writer.writeBits([1,1,1,1,1,1]),t.writer.writeUInt(this.lengthSizeMinusOne,2),t.writer.writeBits([1,1,1]),t.writer.writeUInt(this.spsSets.length,5);for(var n=0,i=this.spsSets;n<i.length;n++){var e=i[n];t.writer.writeUInt(e.length,16),t.concat(zo.from(e))}t.writer.writeByte(this.ppsSets.length);for(var r=0,s=this.ppsSets;r<s.length;r++){var u=s[r];t.writer.writeUInt(u.length,16),t.concat(zo.from(u))}}}(),function(t){function n(n,i,e,r,s){void 0===r&&(r={}),void 0===s&&(s=void 0);var u=t.call(this,"avc1",n,i,r)||this;return u.configurationBox=e,u.bitrateBox=s,u}Po(n,t),n.prototype.getBoxContentSize=function(){var n,i;return t.prototype.getBoxContentSize.call(this)+this.configurationBox.getSize()+(null!==(i=null===(n=this.bitrateBox)||void 0===n?void 0:n.getSize())&&void 0!==i?i:0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.concat(this.configurationBox.serialize()),this.bitrateBox&&n.concat(this.bitrateBox.serialize())}}(Ha),function(t){function n(n,i,e){var r=t.call(this,"btrt")||this;return r.bufferSizeDb=n,r.max=i,r.avg=e,r}Po(n,t),l.defineProperty(n.prototype,"bufferSizeDb",{get:function(){return this.Zs},set:function(t){if(!qo(t,32))throw new v("Provided bufferSizeDb does not fit in 32 bits.");this.Zs=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"max",{get:function(){return this.So},set:function(t){if(!qo(t,32))throw new v("Provided max does not fit in 32 bits.");this.So=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"avg",{get:function(){return this.Eo},set:function(t){if(!qo(t,32))throw new v("Provided avg does not fit in 32 bits.");this.Eo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return 12},n.prototype.serializeBoxContent=function(t){t.writer.writeUInt(this.bufferSizeDb,32),t.writer.writeUInt(this.max,32),t.writer.writeUInt(this.avg,32)}}(Xo);var za=function(t){function n(n,i){var e,r,s,u,o=this;if(o=t.call(this,"tenc",n,0)||this,i.perSampleIvSize>0&&(null!==(r=null===(e=i.constantIv)||void 0===e?void 0:e.length)&&void 0!==r?r:0)>0)throw new v("Either perSampleSize should be > 0 or constantIv should be defined. Not both.");return o.kId=i.kId,o.isProtected=null!==(s=i.isProtected)&&void 0!==s?s:1,i.perSampleIvSize>0?o.perSampleIvSize=i.perSampleIvSize:o.constantIv=null!==(u=i.constantIv)&&void 0!==u?u:new y(0),o}return Po(n,t),l.defineProperty(n.prototype,"isProtected",{get:function(){return this.Ro},set:function(t){if(!qo(t,8))throw new v("Provided isProtected does not fit in 1 byte.");this.Ro=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"perSampleIvSize",{get:function(){return this.Io},set:function(t){if(![8,16].includes(t))throw new v("Provided perSampleIvSize does not match any allowed value [8, 16].");this.Io=t,this.No=new y(0)},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"kId",{get:function(){return this.Do},set:function(t){if(16!==t.length)throw new v("Provided kId length is not 16.");this.Do=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"constantIv",{get:function(){return this.No},set:function(t){if(![8,16].includes(t.length))throw new v("Provided constant IV length does not match any allowed value [8, 16].");this.No=t,this.Io=0},enumerable:!1,configurable:!0}),n.prototype.getTencHeaderSize=function(){return 20+(this.constantIv.length>0?1+this.constantIv.length:0)},n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.getTencHeaderSize()},n.prototype.serializeVersionBoxContent=function(t){t.writer.writeByte(0)},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),this.serializeOwnContent(n)},n.prototype.serializeOwnContent=function(t){t.writer.writeByte(0),this.serializeVersionBoxContent(t),t.writer.writeByte(this.isProtected),t.writer.writeByte(this.perSampleIvSize),Qo(t.writer,this.kId),0===this.perSampleIvSize&&(t.writer.writeByte(this.constantIv.length),Qo(t.writer,this.constantIv))},n}(jo);!function(t){function n(n){return t.call(this,0,n)||this}Po(n,t)}(za);var Va=function(t){function n(n){var i=t.call(this,1,n)||this;return i.cryptByteBlocks=n.cryptByteBlock,i.skipByteBlocks=n.skipByteBlock,i}return Po(n,t),l.defineProperty(n.prototype,"cryptByteBlocks",{get:function(){return this.Co},set:function(t){if(!qo(t,4))throw new v("Provided cryptByteBlocks does not fit in 4 bits.");this.Co=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"skipByteBlocks",{get:function(){return this.xo},set:function(t){if(!qo(t,4))throw new v("Provided skipByteBlocks does not fit in 4 bits.");this.xo=t},enumerable:!1,configurable:!0}),n.prototype.serializeVersionBoxContent=function(t){t.writer.writeUInt(this.cryptByteBlocks,4),t.writer.writeUInt(this.skipByteBlocks,4)},n}(za);function Wa(t){return void 0!==t.iv}function Xa(t){return void 0!==t.subsamples}function qa(t,n){return function(i){var e,r=function(t,n){for(var i=t.data,e=t.cursor;e.offset<i.byteLength;){var r=gh(i,e);if(!r.complete)return;if(dh(r.box,n))return r.box}}(new vh((e=i,new DataView(e.buffer,e.byteOffset,e.byteLength)),new fh),t);if(!r)throw new v("".concat(t," box not found"));return n(r)}}!function(t){function n(n){var i=t.call(this)||this;return i.tencBox=new Va(n),i}Po(n,t),n.prototype.serializeBoxContent=function(t){this.tencBox.serializeOwnContent(t)},n.prototype.getBoxContentSize=function(){return this.tencBox.getTencHeaderSize()}}($h),function(t){function n(n){var i=t.call(this,"senc",0,{useSubsampleEncryption:!1})||this;return i.samples=n,i}Po(n,t),l.defineProperty(n.prototype,"samples",{get:function(){return this.Gu},set:function(t){var n;if(!qo(t.length,32))throw new v("The number of samples provided does not fit in 32 bits.");for(var i=0,e=t;i<e.length;i++){var r=e[i];if(Wa(r)&&![8,16].includes(r.iv.length))throw new v("IV of one of the provided samples did not satisfy the required length constraints. [8, 16]");if(void 0===n&&(n=Xa(r)),!0===n&&!Xa(r)||!1===n&&Xa(r))throw new v("Mix of samples with and without subsamples detected.");if(Xa(r)){if(!qo(r.subsamples.length,16))throw new v("Subsample length of one of the provided samples does not fit in 16 bits.");for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];if(!qo(o.clearData,16))throw new v("Subsample clearData of one of the provided samples does not fit in 16 bits.");if(!qo(o.protectedData,23))throw new v("Subsample protectedData of one of the provided samples does not fit in 23 bits.")}}}this.flags.useSubsampleEncryption=null!=n&&n,this.Gu=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){for(var n=0,i=0,e=this.samples;i<e.length;i++){var r=e[i];Wa(r)&&(n+=r.iv.length),Xa(r)&&(n+=2+6*r.subsamples.length)}return t.prototype.getBoxContentSize.call(this)+4+n},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeUInt(this.samples.length,32);for(var i=0,e=this.samples;i<e.length;i++){var r=e[i];if(Wa(r)&&Qo(n.writer,r.iv),Xa(r)){n.writer.writeUInt(r.subsamples.length,16);for(var s=0,u=r.subsamples;s<u.length;s++){var o=u[s];n.writer.writeUInt(o.clearData,16),n.writer.writeUInt(o.protectedData,32)}}}},n.prototype.serializeFlags=function(t){t.writer.writeUInt(this.flags.useSubsampleEncryption?2:0,24)}}(jo),function(t){function n(n,i,e,r,s){var u=t.call(this,"emsg",0,0)||this;return u.schemeIdUri=n,u.value=i,u.data=s,u.id=e,u.timescale=r.timescale,u.presentationTimeDelta=r.presentationTimeDelta,u.eventDuration=r.eventDuration,u}Po(n,t),l.defineProperty(n.prototype,"timescale",{get:function(){return this.bu},set:function(t){if(!qo(t,32))throw new v("The provided timescale does not fit in 32 bits.");this.bu=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"presentationTimeDelta",{get:function(){return this.Oo},set:function(t){if(!qo(t,32))throw new v("The provided presentationTimeDelta does not fit in 32 bits.");this.Oo=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"eventDuration",{get:function(){return this.Po},set:function(t){if(!qo(t,32))throw new v("The provided eventDuration does not fit in 32 bits.");this.Po=t},enumerable:!1,configurable:!0}),l.defineProperty(n.prototype,"id",{get:function(){return this.Bo},set:function(t){if(!qo(t,32))throw new v("The provided id does not fit in 32 bits.");this.Bo=t},enumerable:!1,configurable:!0}),n.prototype.getBoxContentSize=function(){return t.prototype.getBoxContentSize.call(this)+this.schemeIdUri.length+1+this.value.length+1+16+this.data.length},n.prototype.serializeBoxContent=function(n){t.prototype.serializeBoxContent.call(this,n),n.writer.writeString(this.schemeIdUri),n.writer.writeByte(0),n.writer.writeString(this.value),n.writer.writeByte(0),n.writer.writeUInt(this.timescale,32),n.writer.writeUInt(this.presentationTimeDelta,32),n.writer.writeUInt(this.eventDuration,32),n.writer.writeUInt(this.id,32),n.concat(zo.from(this.data))}}(jo);var Ga=qa("moov",function(t){for(var n=new pa,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"mvhd")?n.boxes.push(la(r)):dh(r,"trak")?n.boxes.push(ka(r)):dh(r,"mvex")?n.boxes.push(ca(r)):dh(r,"pssh")?n.boxes.push(ia(r)):n.boxes.push(ph(r))}return n}),Qa=qa("sidx",function(t){var n,i,e=t.data,r=wh(e.nextUint32()),s=r.version,u=r.flags,o=e.nextUint32(),h=e.nextUint32();0===s?(n=e.nextUint32(),i=e.nextUint32()):(n=e.nextUint64(),i=e.nextUint64()),e.skip(2);for(var a=e.nextUint16(),c=[],f=0;f<a;f++){var v=new Fo(zo.from(e.nextUint8Array(12))),d=v.readBit(),l=v.readUInt(31),_=v.readUInt(32),g=Boolean(v.readBit()),w=v.readUInt(3),m=v.readUInt(28);c.push({referenceType:d,referencedSize:l,subsegmentDuration:_,startsWithSap:g,sapType:w,sapDeltaTime:m})}return 0===s?new Ma(o,h,n,i,c,u.raw):new Ua(o,h,n,i,c,u.raw)}),Ya=qa("moof",function(t){for(var n=new xa,i=0,e=_h(t.data);i<e.length;i++){var r=e[i];dh(r,"traf")?n.boxes.push(Ca(r)):dh(r,"pssh")?n.boxes.push(ia(r)):n.boxes.push(ph(r))}return n}),ja=qa("pssh",ia),Za=function(t){function n(n,i){var e;(e=t.call(this)||this).Lo=void 0,e.Mo=!1,e.Uo=void 0,e.Fo=void 0,e.Ho=function(){e.zo()},e.Vo=function(t){e.Fr(new hu(Yt(e),t.messageType,Do(e.Wo,t.message)))},e.Xo=function(){e.Mo=!0,e.Lo.ls>0&&(e.Lo.ds(),e.Fr(new ou(Yt(e)))),e.qo.removeEventListener("keystatuseschange",e.Ho),e.qo.removeEventListener("message",e.Vo)},e.qo=n,e.Wo=i,e.qo.addEventListener("keystatuseschange",e.Ho),e.qo.addEventListener("message",e.Vo),e.Lo=new du;var r=[];return e.qo.closed&&r.push(ze.resolve(e.qo.closed)),e.Fo=new Ro,r.push(e.Fo.Ss),e.Uo=ze.race(r).then(e.Xo,e.Xo),e.zo(),e}S(n,t);var i=n.prototype;return i.Go=function(){if(this.Mo)return this.Uo;var t=[];return t.push(ze.resolve(this.qo.close())),t.push($s(1e3)),this.Fo.Is(ze.race(t).catch(Ja)),this.Mo=!0,this.Uo},i.Qo=function(t,n,i){if(L.Yt){var e=ja(bo(n));if(1===e.version)n=new ta(e.systemId,e.data).serialize().join()}return ze.resolve(this.qo.generateRequest(t,n)).catch(Ja)},i.Yo=function(t){return ze.resolve(this.qo.load(t)).catch(Ja)},i.jo=function(){return ze.resolve(this.qo.remove()).catch(Ja)},i.Zo=function(t){return ze.resolve(this.qo.update(t)).catch(Ja)},i.zo=function(){var t=this;this.Lo.ds(),this.qo.keyStatuses.forEach(function(n,i){t.Jo(i,n)}),this.Fr(new ou(this))},i.Jo=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var e=bo(t);if(this.Wo===qr&&16===e.byteLength){var r=yo(e),s=r.getUint32(0,!0),u=r.getUint16(4,!0),o=r.getUint16(6,!0);r.setUint32(0,s,!1),r.setUint16(4,u,!1),r.setUint16(6,o,!1)}this.Wo===qr&&"status-pending"===n&&(n="usable"),this.Lo.vs(e,n)},A(n,[{key:"$o",get:function(){return this.Uo}},{key:"Ko",get:function(){return this.qo.expiration}},{key:"th",get:function(){return this.Lo}},{key:"nh",get:function(){return this.qo.sessionId}}]),n}(iu);function Ja(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new xo(t.message,void 0,n,t)}var $a=function(){function t(t,n,i){this.ih=t,this.eh=n,this.rh=i}var n=t.prototype;return n.sh=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Za(this.ih.createSession(t),this.eh));case 1:case"end":return n.stop()}},null,this,null,ze)},n.uh=function(t){return ze.resolve(this.ih.setServerCertificate(t))},n.oh=function(t){return ze.resolve(t.setMediaKeys(this.ih))},n.hh=function(t){return ze.resolve(t.setMediaKeys(null))},t}(),Ka=function(){function t(t,n,i){this.ah=t,this.Wo=n,this.fh=i}var n=t.prototype;return n.vh=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.ah.createMediaKeys());case 2:return t=n.sent,n.abrupt("return",new $a(t,this.Wo,this.fh));case 4:case"end":return n.stop()}},null,this,null,ze)},n.dh=function(){return this.fh},A(t,[{key:"eh",get:function(){return this.ah.keySystem}}]),t}(),tc={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function nc(t){return us(t,tc.APPLICATION_MP4)||us(t,tc.VIDEO_MP4)||us(t,tc.AUDIO_MP4)}var ic=function(){function t(t,n){this.nr=void 0,this.lh=void 0,this.nr=t,this.lh=n}return t.prototype._h=function(t){for(var n=0,i=this.lh;n<i.length;n++){var e=i[n],r=e[0],s=e[1];if(r.toLowerCase()===t.toLowerCase())return s}},t}();function ec(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new ic(n,[]);for(var e=n.substr(0,i).trim(),r=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<r.length;h++){var a=r[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=rc(r.substr(u,h));c&&s.push(c),u=h+1}}if(u!==r.length){var f=rc(r.substr(u));f&&s.push(f)}return new ic(e,s)}function rc(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),e=t.substr(n+1).trim();return'"'===e[0]&&(e=e.substring(1,e.length-1)),[i,e]}}function sc(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function uc(t,n,i,e){var r=!1;if(!(e.persistentState&&"optional"!==e.persistentState||e.distinctiveIdentifier&&"optional"!==e.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:e.persistentState||"optional",distinctiveIdentifier:e.distinctiveIdentifier||"optional",initDataTypes:e.initDataTypes,sessionTypes:["temporary"],label:e.label,gh:e.gh},u=!1;if(e.audioCapabilities){var o=e.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(e){return oc(t,n,i,e)}),u=!0,s.audioCapabilities.length&&(r=!0))}if(e.videoCapabilities){var h=e.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(e){return oc(t,n,i,e)}),u=!0,s.videoCapabilities.length&&(r=!0))}return u||(r=t(i,"video/mp4")),r?s:void 0}}function oc(t,n,i,e){return!!e.contentType&&(!(e.encryptionScheme&&!Os(n,e.encryptionScheme))&&(!e.robustness&&t(i,sc(e.contentType))))}function hc(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var e=i[n];if(e.contentType)return e.contentType}if(t.audioCapabilities)for(var r=0,s=t.audioCapabilities;r<s.length;r++){var u=s[r];if(u.contentType)return u.contentType}}function ac(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.encryptionScheme&&n.push({contentType:e.contentType,robustness:e.robustness})}return t.concat(n)}function cc(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(fc))||!(!t.videoCapabilities||!t.videoCapabilities.some(fc))}function fc(t){return!t.robustness}function vc(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.robustness?i.push(r):i.push(Rr({},r,{robustness:n}))}return i}var dc=function(){function t(){}return t.prototype.dr=function(t,n){var i,e,r,s,u,h,a,c;return Er.async(function(f){for(;;)switch(f.prev=f.next){case 0:for(n=n.filter(function(t){return!t.gh}),i=0,e=n;i<e.length;i++)(r=e[i]).audioCapabilities&&(r.audioCapabilities=ac(r.audioCapabilities)),r.videoCapabilities&&(r.videoCapabilities=ac(r.videoCapabilities));if("com.widevine.alpha"!==t||!n.some(cc)){f.next=14;break}return s=n.map(function(t){return i="SW_SECURE_CRYPTO",Rr({},n=t,{videoCapabilities:n.videoCapabilities?vc(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?vc(n.audioCapabilities,i):void 0});var n,i}),f.prev=4,f.next=7,Er.awrap(o.requestMediaKeySystemAccess(t,s));case 7:return u=f.sent,h=u.getConfiguration(),f.abrupt("return",new Ka(u,t,h));case 12:f.prev=12,f.t0=f.catch(4);case 14:return f.next=16,Er.awrap(o.requestMediaKeySystemAccess(t,n));case 16:return a=f.sent,c=a.getConfiguration(),f.abrupt("return",new Ka(a,t,c));case 19:case"end":return f.stop()}},null,null,[[4,12]],ze)},t.wh=function(){return ws()},t}(),lc=function(t){function n(n,i){var e;return(e=t.call(this)||this).Mo=!1,e.mh=void 0,e.yh=void 0,e.kh=void 0,e.ph=void 0,e.bh=void 0,e.Xo=function(){e.Mo=!0,e.mh.Is(void 0),e.bh&&(e.bh.removeEventListener("mskeyclose",e.Xo),e.bh.removeEventListener("mskeymessage",e.Ah),e.bh.removeEventListener("mskeyerror",e.Th),e.bh.removeEventListener("mskeyadded",e.Sh))},e.Ah=function(t){e.kh&&(e.kh.Is(void 0),e.kh=void 0),e.Fr(new hu(Yt(e),"license-request",To(t.message).buffer,t.destinationURL||void 0))},e.Th=function(){var t=e.bh&&e.bh.error;if(t){var n=new xo("Unknown CDM error",t.code,t.systemCode);if(e.kh)e.kh.Ns(n),e.kh=void 0;else if(e.yh)e.yh.Ns(n),e.yh=void 0;else switch(n.Ds){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:e.Eh("output-not-allowed");break;default:e.Eh("internal-error")}}},e.Sh=function(){e.kh&&(e.Eh("usable"),e.kh.Is(void 0),e.kh=void 0),e.yh&&(e.Eh("usable"),e.yh.Is(void 0),e.yh=void 0)},e.Rh=n,e.Ih=i,e.mh=new Ro,e.ph=new du,e}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),this.kh=new Ro,this.sh(bo(n),i),t.next=5,Er.awrap(this.kh.Ss);case 5:case"end":return t.stop()}},null,this,null,ze)},i.sh=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,e=n&&n.playready&&n.playready.Dh;return(i=n?this.Rh.createSession(this.Ih,t,e):this.Rh.createSession(this.Ih,t)).addEventListener("mskeyclose",this.Xo),i.addEventListener("mskeymessage",this.Ah),i.addEventListener("mskeyerror",this.Th),i.addEventListener("mskeyadded",this.Sh),this.bh=i,this.Eh("status-pending"),i},i.Yo=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},null,this,null,ze)},i.Zo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.yh=new Ro,this.Nh(),this.bh){i.next=4;break}return i.abrupt("return",ze.resolve());case 4:if(0!==(n=bo(t)).byteLength){i.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.bh.update(n),i.next=10,Er.awrap(this.yh.Ss);case 10:case"end":return i.stop()}},null,this,null,ze)},i.Go=function(){return!this.Mo&&this.bh&&(this.Mo=!0,this.bh.close()),this.mh.Ss},i.jo=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Nh(),t.abrupt("return");case 2:case"end":return t.stop()}},null,this,null,ze)},i.Nh=function(){if(this.Mo)throw new d("Already closing or closed.")},i.Eh=function(t){this.ph.ds(),this.ph.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"nh",get:function(){return this.bh&&this.bh.sessionId||""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.ph}}]),n}(iu),_c=function(){function t(t,n,i){this.Ih=void 0,this.Rh=t,this.eh=n,this.rh=i;var e=hc(i)||"video/mp4";this.Ih=sc(e)}var n=t.prototype;return n.sh=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new lc(this.Rh,this.Ih));case 1:case"end":return t.stop()}},null,this,null,ze)},n.uh=function(t){return ze.resolve(!1)},n.oh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.Rh):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.Rh),t.removeEventListener("loadedmetadata",i)}),ze.resolve()},n.hh=function(t){return ze.resolve()},t}(),gc=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new ce.MSMediaKeys(this.Wo);return ze.resolve(new _c(t,this.Wo,this.Ch))},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),wc=function(){function t(){}return t.prototype.dr=function(t,n){try{return ze.resolve(function(t,n){if(!mc())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=uc(yc,su,t,e);if(r)return new gc(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ze.reject(t)}},t.wh=function(){return mc()},t}();function mc(){return void 0!==ce.MSMediaKeys&&"function"==typeof ce.MSMediaKeys.isTypeSupported}function yc(t,n){return ce.MSMediaKeys.isTypeSupported(t,n)}var kc,pc,bc=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).mh=new Ro,r.xh=void 0,r.ph=new du,r.Oh=void 0,r.Ph=new Ro,r.Th=function(){var t=r.Oh&&r.Oh.error;if(t){var n=new xo("Unknown CDM error",t.code,t.systemCode);r.xh?(r.xh.Ns(n),r.xh=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.Eh("output-not-allowed"):r.Eh("internal-error"),r.Fr(new au)}},r.Ah=function(t){r.xh&&(r.xh.Is(void 0),r.xh=void 0),r.Fr(new hu(Yt(r),"license-request",To(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},r.Bh=n,r.Ih=i,r.Lh=e,r}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e=i&&i.fairplay&&i.fairplay.Mh;if(!e)throw new d("Expected FairPlay contentId to be defined but was "+e+".");var r=Ac(bo(n),e,this.Lh);return this.Oh=this.Bh.createSession(this.Ih,r),this.Oh.addEventListener("webkitkeymessage",this.Ah,!1),this.Oh.addEventListener("webkitkeyerror",this.Th,!1),this.Eh("usable"),this.Ph.Is(this.Oh),this.Ph=new Ro,ze.resolve()},i.Yo=function(t){return ze.resolve(!0)},i.Zo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=bo(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.xh=new Ro,i.t0=this.Oh,i.t0){i.next=9;break}return i.next=8,Er.awrap(this.Ph.Ss);case 8:i.t0=i.sent;case 9:return i.t0.update(n),i.next=13,Er.awrap(this.xh.Ss);case 13:case"end":return i.stop()}},null,this,null,ze)},i.Go=function(){var t=this.Oh;return t&&(t.removeEventListener("webkitkeymessage",this.Ah,!1),t.removeEventListener("webkitkeyerror",this.Th,!1),t.close()),this.Ph.Cr(),this.mh.Is(void 0),this.mh.Ss},i.jo=function(){return ze.resolve(void 0)},i.Eh=function(t){this.ph.ds(),this.ph.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"nh",get:function(){return this.Oh?this.Oh.sessionId:""}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.ph}}]),n}(iu);function Ac(t,n,i){var e=_o(t),r=2*e.length,s=2*n.length,u=new ArrayBuffer(4+r+4+s+4+i.byteLength),o=new DataView(u),h=new So;return Zu(o,h,r,!0),ho(o,h,e,!0),Zu(o,h,s,!0),ho(o,h,n,!0),Zu(o,h,i.byteLength,!0),Xu(o,h,i),new y(u)}n.ErrorCode=void 0,(kc=n.ErrorCode||(n.ErrorCode={}))[kc.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",kc[kc.LICENSE_ERROR=2e3]="LICENSE_ERROR",kc[kc.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",kc[kc.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",kc[kc.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",kc[kc.SOURCE_INVALID=3e3]="SOURCE_INVALID",kc[kc.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",kc[kc.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",kc[kc.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",kc[kc.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",kc[kc.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",kc[kc.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",kc[kc.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",kc[kc.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",kc[kc.MEDIA_ABORTED=5004]="MEDIA_ABORTED",kc[kc.NETWORK_ERROR=6e3]="NETWORK_ERROR",kc[kc.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",kc[kc.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",kc[kc.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",kc[kc.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",kc[kc.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",kc[kc.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",kc[kc.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",kc[kc.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",kc[kc.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",kc[kc.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",kc[kc.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",kc[kc.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",kc[kc.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",kc[kc.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",kc[kc.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",kc[kc.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",kc[kc.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",kc[kc.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",kc[kc.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",kc[kc.AD_ERROR=1e4]="AD_ERROR",kc[kc.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",kc[kc.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",n.ErrorCategory=void 0,(pc=n.ErrorCategory||(n.ErrorCategory={}))[pc.CONFIGURATION=1]="CONFIGURATION",pc[pc.LICENSE=2]="LICENSE",pc[pc.SOURCE=3]="SOURCE",pc[pc.MANIFEST=4]="MANIFEST",pc[pc.MEDIA=5]="MEDIA",pc[pc.NETWORK=6]="NETWORK",pc[pc.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",pc[pc.SUBTITLE=8]="SUBTITLE",pc[pc.VR=9]="VR",pc[pc.AD=10]="AD",pc[pc.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Tc=function(t){function i(n,i,e){var r;return(r=t.call(this,i,e)||this).code=void 0,r.code=n,r}return S(i,t),A(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(Zt),Sc=function(){function t(t,n,i){this.Ih=void 0,this.Lh=void 0,this.Bh=t,this.eh=n,this.rh=i;var e=hc(i)||"video/mp4";this.Ih=sc(e)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.Bh},i.sh=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new Tc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new bc(this.Bh,this.Ih,this.Lh));case 3:case"end":return t.stop()}},null,this,null,ze)},i.uh=function(t){return this.Lh=bo(t),ze.resolve(!0)},i.oh=function(t){return t.webkitSetMediaKeys(this.Bh),ze.resolve()},i.hh=function(t){return t.webkitSetMediaKeys(null),ze.resolve()},t}(),Ec=function(){function t(t,n){this.Wo=t,this.Ch=n}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){var t=new ce.WebKitMediaKeys(this.Wo);return ze.resolve(new Sc(t,this.Wo,this.Ch))},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),Rc=function(){function t(){}return t.prototype.dr=function(t,n){try{return ze.resolve(function(t,n){if(t!==$r)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Ic())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=uc(Nc,uu,t,e);if(r)return new Ec(t,r)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return ze.reject(t)}},t.wh=function(){return Ic()},t}();function Ic(){return void 0!==ce.WebKitMediaKeys&&"function"==typeof ce.WebKitMediaKeys.isTypeSupported}function Nc(t,n){return ce.WebKitMediaKeys.isTypeSupported(t,n)}var Dc,Cc=function(){function t(t){this.Uh=t}return t.prototype.dr=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.Uh;case 1:if(!(i<e.length)){s.next=14;break}return r=e[i],s.prev=3,s.next=6,Er.awrap(r.dr(t,n));case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(3);case 11:i++,s.next=1;break;case 14:throw new d("Unsupported key system configuration for "+t);case 15:case"end":return s.stop()}},null,this,[[3,9]],ze)},t}(),xc=function(t){function n(n){var i;return(i=t.call(this)||this).kh=void 0,i.xh=void 0,i.mh=void 0,i.Hs=!1,i.Fh=void 0,i.Hh=void 0,i.zh=void 0,i.Vh=void 0,i.Wh=void 0,i.Wo=n,i.mh=new Ro,i.Hh="",i.Wh=new Ro,i.zh=new du,i}S(n,t);var i=n.prototype;return i.Xh=function(){this.xh&&(this.Eh("usable"),this.xh.Is(void 0),this.xh=void 0)},i.qh=function(t){var n=new xo("Unknown CDM error",t.errorCode,t.systemCode);this.xh?(this.xh.Ns(n),this.xh=void 0):this.kh?(this.kh.Ns(n),this.kh=void 0):n.Ds===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Eh("output-restricted"):1===n.Cs?this.Eh("expired"):this.Eh("internal-error")},i.Gh=function(t){0!==t.message.byteLength&&(this.kh&&(this.kh.Is(void 0),this.kh=void 0),this.Fr(new hu(this,"license-request",Do(this.Wo,To(t.message).buffer),t.defaultURL||void 0)))},i.Qh=function(t){this.Vh||(this.Vh=t,this.Wh.Is(t))},i.Go=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Hs=!0,this.mh.Is(void 0);case 3:case"end":return t.stop()}},null,this,null,ze)},i.Qo=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.kh=new Ro,this.Fh=bo(n),t.t0=this.Vh,t.t0){t.next=8;break}return t.next=7,Er.awrap(this.Wh.Ss);case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Wo,this.Fh),t.next=12,Er.awrap(this.kh.Ss);case 12:case"end":return t.stop()}},null,this,null,ze)},i.Yo=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},null,this,null,ze)},i.jo=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},null,this,null,ze)},i.Zo=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfClosed(),this.xh=new Ro,n.t0=this.Vh,n.t0){n.next=7;break}return n.next=6,Er.awrap(this.Wh.Ss);case 6:n.t0=n.sent;case 7:return n.t0.webkitAddKey(this.Wo,bo(t),this.Fh,this.nh),n.next=11,Er.awrap(this.xh.Ss);case 11:case"end":return n.stop()}},null,this,null,ze)},i.throwIfClosed=function(){if(this.Hs)throw new d("Already closing or closed.")},i.Eh=function(t){this.zh.ds(),this.zh.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"th",get:function(){return this.zh}},{key:"nh",get:function(){return this.Hh},set:function(t){this.Hh=t}},{key:"$o",get:function(){return this.mh.Ss}},{key:"Ko",get:function(){return NaN}}]),n}(iu),Oc=function(){function t(t,n){var i=this;this.Vh=void 0,this.Yh=Nr(),this.jh=[],this.Sh=function(t){var n=i.Zh(t.sessionId);n&&n.Xh()},this.Jh=function(t){var n=i.Zh(t.sessionId);n&&n.qh(t)},this.$h=function(t){var n=i.Zh(t.sessionId);n&&n.Gh(t)},this.eh=t,this.rh=n}var n=t.prototype;return n.oh=function(t){return this.Vh=t,this.Vh.addEventListener("webkitkeyadded",this.Sh),this.Vh.addEventListener("webkitkeyerror",this.Jh),this.Vh.addEventListener("webkitkeymessage",this.$h),this.Yh.forEach(function(n,i){return n.Qh(t)}),this.jh.forEach(function(n){return n.Qh(t)}),ze.resolve()},n.hh=function(t){return t.removeEventListener("webkitkeyadded",this.Sh),t.removeEventListener("webkitkeyerror",this.Jh),t.removeEventListener("webkitkeymessage",this.$h),this.Vh=void 0,ze.resolve()},n.sh=function(t,n,i){var e;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new xc(this.eh),this.Vh&&e.Qh(this.Vh),this.jh.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this,null,ze)},n.uh=function(t){return ze.resolve(!1)},n.Zh=function(t){if(t){var n=this.Yh.get(t);return n||((n=this.jh.shift())?(n.nh=t,this.Yh.set(t,n),n):void 0)}},t}(),Pc=function(){function t(t,n){this.eh=t,this.Kh=n}var n=t.prototype;return n.vh=function(){return ze.resolve(new Oc(this.eh,this.Kh))},n.dh=function(){return this.Kh},t}(),Bc=function(){function t(){}return t.prototype.dr=function(t,n){try{return ze.resolve(Lc(t,n))}catch(t){return ze.reject(t)}},t.wh=function(){return ms()},t}();function Lc(t,n){if(!Bc.wh())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var e=n[i],r=uc(Mc,su,t,e);if(r)return new Pc(t,r)}throw new d("Unsupported key system configuration for "+t)}function Mc(t,n){var i=sr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Uc(){return Dc||(Dc=function(){var t=[];Rc.wh()&&t.push(new Rc);dc.wh()&&t.push(new dc);wc.wh()&&t.push(new wc);Bc.wh()&&t.push(new Bc);return new Cc(t)}()),Dc}var Fc=function(){function t(){this.ta=Nr()}var n=t.prototype;return n.ds=function(t){this.ta.delete(t)},n.na=function(){this.ta.clear()},n.cs=function(t){return this.ta.get(t)},n.ia=function(t,n){this.ta.set(t,n)},t}(),Hc=function(){function t(){}return t.ea=function(){return t.Rn||(t.Rn=zc.wh()?new zc:new Fc),t.Rn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t}();Hc.Rn=void 0;var zc=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var e=i.prototype;return e.ds=function(n){t.sessionStorage.removeItem(n)},e.na=function(){t.sessionStorage.clear()},e.cs=function(n){return t.sessionStorage[n]},e.ia=function(n,i){t.sessionStorage[n]=i},i}(Hc);var Vc=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var e,r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;if(r)return e=r,function(t,n){var i=new e;if(t)for(var r=0;r<t.length;r++){var s=t[r];i.append(s)}return i.getBlob(n&&n.type||"")}}();function Wc(t,n,i){var e=Vc([n],{type:"application/octet-stream"}),r=URL.createObjectURL(e),u=function(t,n){var i=t,e=i.indexOf("?");if(e>=0&&(i=i.substr(0,e)),i=i.substr(i.lastIndexOf("/")+1),n){var r=i.indexOf(".");r<0&&(r=i.length),i=i.substr(0,r)+n+i.substr(r)}return i}(t,i),o=s.createElement("a");o.href=r,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(r)}var Xc,qc;!function(t){t.ra="sa",t.ua="oa",t.ha="contentprotectionerror",t.aa="contentprotectionsuccess",t.ca="currentsourcechange",t.fa="destroy",t.va="durationchange",t.da="emptied",t.es="encrypted",t.la="ended",t._a="ga",t.wa="loadstart",t.ma="manifestupdate",t.ya="nosupportedrepresentationfound",t.ka="offline",t.pa="online",t.ba="pause",t.Aa="play",t.Ta="progress",t.Sa="ratechange",t.Ea="representationchange",t.Ra="resize",t.Ia="seeked",t.Na="seeking",t.Da="segmentnotfound",t.Ca="xa",t.Oa="Pa",t.Ba="sourcechange",t.La="timeupdate",t.Ma="volumechange",t.Ua="Fa",t.Ha="metricschange"}(Xc||(Xc={})),function(t){t.za="arraybuffer",t.Va="json",t.Wa="stream",t.On="text"}(qc||(qc={}));var Gc=function(){function t(n){var i=this;this.je=void 0,this.je={},n instanceof t?n.asList().forEach(function(t){var n=t[0],e=t[1];i.append(n,e)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,e=n;i=Qc(i),e=Yc(e);var r=i.toLowerCase();if(this.je.hasOwnProperty(r)){var s=this.je[r],u=s[1];s[1]=u?u+", "+e:e}else this.je[r]=[i,e]},n.delete=function(t){var n=Qc(t).toLowerCase();delete this.je[n]},n.get=function(t){var n=Qc(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},n.has=function(t){var n=Qc(t).toLowerCase();return this.je.hasOwnProperty(n)},n.set=function(t,n){var i=t,e=(i=Qc(i)).toLowerCase();this.je[e]=[i,Yc(n)]},n.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},n.Xa=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.qa=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Ga=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Qc(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Yc(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Zc(){}var Jc=void 0!==t?t:void 0!==r?r:"undefined"!=typeof global?global:void 0;function $c(t){return"object"==typeof t&&null!==t||"function"==typeof t}var Kc=Zc,tf=ze,nf=ze.prototype.then,ef=ze.resolve.bind(tf),rf=ze.reject.bind(tf);function sf(t){return new tf(t)}function uf(t){return ef(t)}function of(t){return rf(t)}function hf(t,n,i){return nf.call(t,n,i)}function af(t,n,i){hf(hf(t,n,i),void 0,Kc)}function cf(t,n){af(t,n)}function ff(t,n){af(t,void 0,n)}function vf(t,n,i){return hf(t,n,i)}function df(t){hf(t,void 0,Kc)}var lf=function(){var t=Jc&&Jc.queueMicrotask;if("function"==typeof t)return t;var n=uf(void 0);return function(t){return hf(n,t)}}();function _f(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function gf(t,n,i){try{return uf(_f(t,n,i))}catch(t){return of(t)}}var wf=function(){function t(){this.Qa=0,this.Ya=0,this.Bi={ja:[],Za:void 0},this.Ja=this.Bi,this.Qa=0,this.Ya=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.Ya},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var n=this.Ja,i=n;16383===n.ja.length&&(i={ja:[],Za:void 0}),n.ja.push(t),i!==n&&(this.Ja=i,n.Za=i),++this.Ya},t.prototype.shift=function(){var t=this.Bi,n=t,i=this.Qa,e=i+1,r=t.ja,s=r[i];return 16384===e&&(n=t.Za,e=0),--this.Ya,this.Qa=e,t!==n&&(this.Bi=n),r[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Qa,i=this.Bi,e=i.ja;!(n===e.length&&void 0===i.Za||n===e.length&&(n=0,0===(e=(i=i.Za).ja).length));)t(e[n]),++n},t.prototype.peek=function(){var t=this.Bi,n=this.Qa;return t.ja[n]},t}();function mf(t,n){t.$a=n,n.Ka=t,"readable"===n.Ii?bf(t):"closed"===n.Ii?function(t){bf(t),Sf(t)}(t):Af(t,n.tc)}function yf(t,n){return kl(t.$a,n)}function kf(t){"readable"===t.$a.Ii?Tf(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Af(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.$a.Ka=void 0,t.$a=void 0}function pf(t){return new d("Cannot "+t+" a stream using a released reader")}function bf(t){t.Uo=sf(function(n,i){t.nc=n,t.ic=i})}function Af(t,n){bf(t),Tf(t,n)}function Tf(t,n){void 0!==t.ic&&(df(t.Uo),t.ic(n),t.nc=void 0,t.ic=void 0)}function Sf(t){void 0!==t.nc&&(t.nc(void 0),t.nc=void 0,t.ic=void 0)}var Ef=jc("[[AbortSteps]]"),Rf=jc("[[ErrorSteps]]"),If=jc("[[CancelSteps]]"),Nf=jc("[[PullSteps]]"),Df=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Cf=_.trunc||function(t){return t<0?_.ceil(t):_.floor(t)};function xf(t,n){if(void 0!==t&&("object"!=typeof(i=t)&&"function"!=typeof i))throw new d(n+" is not an object.");var i}function Of(t,n){if("function"!=typeof t)throw new d(n+" is not a function.")}function Pf(t,n){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new d(n+" is not an object.")}function Bf(t,n,i){if(void 0===t)throw new d("Parameter "+n+" is required in '"+i+"'.")}function Lf(t,n,i){if(void 0===t)throw new d(n+" is required in '"+i+"'.")}function Mf(t){return Number(t)}function Uf(t){return 0===t?0:t}function Ff(t,n){var i=Number.MAX_SAFE_INTEGER,e=Number(t);if(e=Uf(e),!Df(e))throw new d(n+" is not a finite number");if((e=function(t){return Uf(Cf(t))}(e))<0||e>i)throw new d(n+" is outside the accepted range of 0 to "+i+", inclusive");return Df(e)&&0!==e?e:0}function Hf(t,n){if(!ml(t))throw new d(n+" is not a ReadableStream.")}function zf(t){return new Yf(t)}function Vf(t,n){t.Ka.ec.push(n)}function Wf(t,n,i){var e=t.Ka.ec.shift();i?e.rc():e.sc(n)}function Xf(t){return t.Ka.ec.length}function qf(t){var n=t.Ka;return void 0!==n&&!!jf(n)}var Gf,Qf,Yf=function(){function t(t){if(Bf(t,1,"ReadableStreamDefaultReader"),Hf(t,"First parameter"),yl(t))throw new d("This stream has already been locked for exclusive reading by another reader");mf(this,t),this.ec=new wf}return l.defineProperty(t.prototype,"closed",{get:function(){return jf(this)?this.Uo:of(Jf("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),jf(this)?void 0===this.$a?of(pf("cancel")):yf(this,t):of(Jf("cancel"))},t.prototype.read=function(){if(!jf(this))return of(Jf("read"));if(void 0===this.$a)return of(pf("read from"));var t,n,i=sf(function(i,e){t=i,n=e});return Zf(this,{sc:function(n){return t({value:n,done:!1})},rc:function(){return t({value:void 0,done:!0})},uc:function(t){return n(t)}}),i},t.prototype.releaseLock=function(){if(!jf(this))throw Jf("releaseLock");if(void 0!==this.$a){if(this.ec.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");kf(this)}},t}();function jf(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"ec")&&t instanceof Yf)}function Zf(t,n){var i=t.$a;i.oc=!0,"closed"===i.Ii?n.rc():"errored"===i.Ii?n.uc(i.tc):i.hc[Nf](n)}function Jf(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}l.defineProperties(Yf.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Yf.prototype,jc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof jc.asyncIterator&&((Gf={})[jc.asyncIterator]=function(){return this},Qf=Gf,l.defineProperty(Qf,jc.asyncIterator,{enumerable:!1}));var $f=function(){function t(t,n){this.ac=void 0,this.cc=!1,this.Ka=t,this.fc=n}return t.prototype.next=function(){var t=this,n=function(){return t.vc()};return this.ac=this.ac?vf(this.ac,n,n):n(),this.ac},t.prototype.return=function(t){var n=this,i=function(){return n.dc(t)};return this.ac?vf(this.ac,i,i):i()},t.prototype.vc=function(){var t=this;if(this.cc)return ze.resolve({value:void 0,done:!0});var n,i,e=this.Ka;if(void 0===e.$a)return of(pf("iterate"));var r=sf(function(t,e){n=t,i=e});return Zf(e,{sc:function(i){t.ac=void 0,lf(function(){return n({value:i,done:!1})})},rc:function(){t.ac=void 0,t.cc=!0,kf(e),n({value:void 0,done:!0})},uc:function(n){t.ac=void 0,t.cc=!0,kf(e),i(n)}}),r},t.prototype.dc=function(t){if(this.cc)return ze.resolve({value:t,done:!0});this.cc=!0;var n=this.Ka;if(void 0===n.$a)return of(pf("finish iterating"));if(!this.fc){var i=yf(n,t);return kf(n),vf(i,function(){return{value:t,done:!0}})}return kf(n),uf({value:t,done:!0})},t}(),Kf={next:function(){return tv(this)?this.lc.next():of(nv("next"))},return:function(t){return tv(this)?this.lc.return(t):of(nv("return"))}};function tv(t){if(!$c(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"lc"))return!1;try{return t.lc instanceof $f}catch(t){return!1}}function nv(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Qf&&l.setPrototypeOf(Kf,Qf);var iv=Number.isNaN||function(t){return t!=t};function ev(t){return t.slice()}function rv(t,n,i,e,r){new y(t).set(new y(i,e,r),n)}function sv(t){return t}function uv(t,n,i){if(t.slice)return t.slice(n,i);var e=i-n,r=new ArrayBuffer(e);return rv(r,0,t,n,e),r}function ov(t){var n=uv(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new y(n)}function hv(t){var n=t._c.shift();return t.gc-=n.size,t.gc<0&&(t.gc=0),n.value}function av(t,n,i){if("number"!=typeof(e=i)||iv(e)||e<0||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var e;t._c.push({value:n,size:i}),t.gc+=i}function cv(t){t._c=new wf,t.gc=0}var fv=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"view",{get:function(){if(!lv(this))throw Lv("view");return this.wc},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!lv(this))throw Lv("respond");if(Bf(t,1,"respond"),t=Ff(t,"First parameter"),void 0===this.mc)throw new d("This BYOB request has been invalidated");this.wc.buffer,Ov(this.mc,t)},t.prototype.respondWithNewView=function(t){if(!lv(this))throw Lv("respondWithNewView");if(Bf(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");if(void 0===this.mc)throw new d("This BYOB request has been invalidated");t.buffer,Pv(this.mc,t)},t}();l.defineProperties(fv.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(fv.prototype,jc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var vv=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!dv(this))throw Mv("byobRequest");return Cv(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!dv(this))throw Mv("desiredSize");return xv(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!dv(this))throw Mv("close");if(this.yc)throw new d("The stream has already been closed; do not close it again!");var t=this.kc.Ii;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");Iv(this)},t.prototype.enqueue=function(t){if(!dv(this))throw Mv("enqueue");if(Bf(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new d("chunk must be an array buffer view");if(0===t.byteLength)throw new d("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new d("chunk's buffer must have non-zero byteLength");if(this.yc)throw new d("stream is closed or draining");var n=this.kc.Ii;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");Nv(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!dv(this))throw Mv("error");Dv(this,t)},t.prototype[If]=function(t){gv(this),cv(this);var n=this.pc(t);return Rv(this),n},t.prototype[Nf]=function(t){var n=this.kc;if(this.gc>0){var i=this._c.shift();this.gc-=i.byteLength,bv(this);var e=new y(i.buffer,i.byteOffset,i.byteLength);t.sc(e)}else{var r=this.bc;if(void 0!==r){var s=void 0;try{s=new ArrayBuffer(r)}catch(n){return void t.uc(n)}var u={buffer:s,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:y,readerType:"default"};this.Ac.push(u)}Vf(n,t),_v(this)}},t}();function dv(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"kc")&&t instanceof vv)}function lv(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"mc")&&t instanceof fv)}function _v(t){(function(t){var n=t.kc;if("readable"!==n.Ii)return!1;if(t.yc)return!1;if(!t.Tc)return!1;if(qf(n)&&Xf(n)>0)return!0;if(zv(n)&&Hv(n)>0)return!0;if(xv(t)>0)return!0;return!1})(t)&&(t.Sc?t.Ec=!0:(t.Sc=!0,af(t.Rc(),function(){t.Sc=!1,t.Ec&&(t.Ec=!1,_v(t))},function(n){Dv(t,n)})))}function gv(t){Av(t),t.Ac=new wf}function wv(t,n){var i=!1;"closed"===t.Ii&&(i=!0);var e=mv(n);"default"===n.readerType?Wf(t,e,i):function(t,n,i){var e=t.Ka.Ic.shift();i?e.rc(n):e.sc(n)}(t,e,i)}function mv(t){var n=t.bytesFilled,i=t.elementSize;return new t.viewConstructor(t.buffer,t.byteOffset,n/i)}function yv(t,n,i,e){t._c.push({buffer:n,byteOffset:i,byteLength:e}),t.gc+=e}function kv(t,n){var i=n.elementSize,e=n.bytesFilled-n.bytesFilled%i,r=_.min(t.gc,n.byteLength-n.bytesFilled),s=n.bytesFilled+r,u=s-s%i,o=r,h=!1;u>e&&(o=u-n.bytesFilled,h=!0);for(var a=t._c;o>0;){var c=a.peek(),f=_.min(o,c.byteLength),v=n.byteOffset+n.bytesFilled;rv(n.buffer,v,c.buffer,c.byteOffset,f),c.byteLength===f?a.shift():(c.byteOffset+=f,c.byteLength-=f),t.gc-=f,pv(t,f,n),o-=f}return h}function pv(t,n,i){i.bytesFilled+=n}function bv(t){0===t.gc&&t.yc?(Rv(t),pl(t.kc)):_v(t)}function Av(t){null!==t.Nc&&(t.Nc.mc=void 0,t.Nc.wc=null,t.Nc=null)}function Tv(t){for(;t.Ac.length>0;){if(0===t.gc)return;var n=t.Ac.peek();kv(t,n)&&(Ev(t),wv(t.kc,n))}}function Sv(t,n){var i=t.Ac.peek();Av(t),"closed"===t.kc.Ii?function(t,n){var i=t.kc;if(zv(i))for(;Hv(i)>0;)wv(i,Ev(t))}(t):function(t,n,i){if(pv(0,n,i),!(i.bytesFilled<i.elementSize)){Ev(t);var e=i.bytesFilled%i.elementSize;if(e>0){var r=i.byteOffset+i.bytesFilled,s=uv(i.buffer,r-e,r);yv(t,s,0,s.byteLength)}i.bytesFilled-=e,wv(t.kc,i),Tv(t)}}(t,n,i),_v(t)}function Ev(t){return t.Ac.shift()}function Rv(t){t.Rc=void 0,t.pc=void 0}function Iv(t){var n=t.kc;if(!t.yc&&"readable"===n.Ii)if(t.gc>0)t.yc=!0;else{if(t.Ac.length>0)if(t.Ac.peek().bytesFilled>0){var i=new d("Insufficient bytes to fill elements in the given buffer");throw Dv(t,i),i}Rv(t),pl(n)}}function Nv(t,n){var i=t.kc;if(!t.yc&&"readable"===i.Ii){var e=n.buffer,r=n.byteOffset,s=n.byteLength,u=sv(e);if(t.Ac.length>0){var o=t.Ac.peek();o.buffer,0,o.buffer=sv(o.buffer)}if(Av(t),qf(i))if(0===Xf(i))yv(t,u,r,s);else t.Ac.length>0&&Ev(t),Wf(i,new y(u,r,s),!1);else zv(i)?(yv(t,u,r,s),Tv(t)):yv(t,u,r,s);_v(t)}}function Dv(t,n){var i=t.kc;"readable"===i.Ii&&(gv(t),cv(t),Rv(t),bl(i,n))}function Cv(t){if(null===t.Nc&&t.Ac.length>0){var n=t.Ac.peek(),i=new y(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),e=l.create(fv.prototype);!function(t,n,i){t.mc=n,t.wc=i}(e,t,i),t.Nc=e}return t.Nc}function xv(t){var n=t.kc.Ii;return"errored"===n?null:"closed"===n?0:t.Dc-t.gc}function Ov(t,n){var i=t.Ac.peek();if("closed"===t.kc.Ii){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===n)throw new d("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=sv(i.buffer),Sv(t,n)}function Pv(t,n){var i=t.Ac.peek();if("closed"===t.kc.Ii){if(0!==n.byteLength)throw new d("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===n.byteLength)throw new d("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var e=n.byteLength;i.buffer=sv(n.buffer),Sv(t,e)}function Bv(t,n,i,e,r,s,u){n.kc=t,n.Ec=!1,n.Sc=!1,n.Nc=null,n._c=n.gc=void 0,cv(n),n.yc=!1,n.Tc=!1,n.Dc=s,n.Rc=e,n.pc=r,n.bc=u,n.Ac=new wf,t.hc=n,af(uf(i()),function(){n.Tc=!0,_v(n)},function(t){Dv(n,t)})}function Lv(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Mv(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Uv(t){return new Vv(t)}function Fv(t,n){t.Ka.Ic.push(n)}function Hv(t){return t.Ka.Ic.length}function zv(t){var n=t.Ka;return void 0!==n&&!!Wv(n)}l.defineProperties(vv.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(vv.prototype,jc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Vv=function(){function t(t){if(Bf(t,1,"ReadableStreamBYOBReader"),Hf(t,"First parameter"),yl(t))throw new d("This stream has already been locked for exclusive reading by another reader");if(!dv(t.hc))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");mf(this,t),this.Ic=new wf}return l.defineProperty(t.prototype,"closed",{get:function(){return Wv(this)?this.Uo:of(qv("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Wv(this)?void 0===this.$a?of(pf("cancel")):yf(this,t):of(qv("cancel"))},t.prototype.read=function(t){if(!Wv(this))return of(qv("read"));if(!ArrayBuffer.isView(t))return of(new d("view must be an array buffer view"));if(0===t.byteLength)return of(new d("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return of(new d("view's buffer must have non-zero byteLength"));if(t.buffer,void 0===this.$a)return of(pf("read from"));var n,i,e=sf(function(t,e){n=t,i=e});return Xv(this,t,{sc:function(t){return n({value:t,done:!1})},rc:function(t){return n({value:t,done:!0})},uc:function(t){return i(t)}}),e},t.prototype.releaseLock=function(){if(!Wv(this))throw qv("releaseLock");if(void 0!==this.$a){if(this.Ic.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");kf(this)}},t}();function Wv(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Ic")&&t instanceof Vv)}function Xv(t,n,i){var e=t.$a;e.oc=!0,"errored"===e.Ii?i.uc(e.tc):function(t,n,i){var e=t.kc,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var s=n.constructor,u=sv(n.buffer),o={buffer:u,bufferByteLength:u.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,viewConstructor:s,readerType:"byob"};if(t.Ac.length>0)return t.Ac.push(o),void Fv(e,i);if("closed"!==e.Ii){if(t.gc>0){if(kv(t,o)){var h=mv(o);return bv(t),void i.sc(h)}if(t.yc){var a=new d("Insufficient bytes to fill elements in the given buffer");return Dv(t,a),void i.uc(a)}}t.Ac.push(o),Fv(e,i),_v(t)}else{var c=new s(o.buffer,o.byteOffset,0);i.rc(c)}}(e.hc,n,i)}function qv(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Gv(t,n){var i=t.highWaterMark;if(void 0===i)return n;if(iv(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Qv(t){var n=t.size;return n||function(){return 1}}function Yv(t,n){xf(t,n);var i=null==t?void 0:t.highWaterMark,e=null==t?void 0:t.size;return{highWaterMark:void 0===i?void 0:Mf(i),size:void 0===e?void 0:jv(e,n+" has member 'size' that")}}function jv(t,n){return Of(t,n),function(n){return Mf(t(n))}}function Zv(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function Jv(t,n,i){return Of(t,i),function(){return gf(t,n,[])}}function $v(t,n,i){return Of(t,i),function(i){return _f(t,n,[i])}}function Kv(t,n,i){return Of(t,i),function(i,e){return gf(t,n,[i,e])}}function td(t,n){if(!sd(t))throw new d(n+" is not a WritableStream.")}l.defineProperties(Vv.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Vv.prototype,jc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var nd="function"==typeof AbortController;var id=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Pf(t,"First parameter");var i=Yv(n,"Second parameter"),e=function(t,n){xf(t,n);var i=null==t?void 0:t.abort,e=null==t?void 0:t.close,r=null==t?void 0:t.start,s=null==t?void 0:t.type,u=null==t?void 0:t.write;return{abort:void 0===i?void 0:Zv(i,t,n+" has member 'abort' that"),close:void 0===e?void 0:Jv(e,t,n+" has member 'close' that"),start:void 0===r?void 0:$v(r,t,n+" has member 'start' that"),write:void 0===u?void 0:Kv(u,t,n+" has member 'write' that"),type:s}}(t,"First parameter");if(rd(this),void 0!==e.type)throw new RangeError("Invalid type is specified");var r=Qv(i);!function(t,n,i,e){var r=l.create(Ad.prototype),s=function(){},u=function(){return uf(void 0)},o=function(){return uf(void 0)},h=function(){return uf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)});void 0!==n.write&&(u=function(t){return n.write(t,r)});void 0!==n.close&&(o=function(){return n.close()});void 0!==n.abort&&(h=function(t){return n.abort(t)});Sd(t,r,s,u,o,h,i,e)}(this,e,Gv(i,1),r)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!sd(this))throw xd("locked");return ud(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),sd(this)?ud(this)?of(new d("Cannot abort a stream that already has a writer")):od(this,t):of(xd("abort"))},t.prototype.close=function(){return sd(this)?ud(this)?of(new d("Cannot close a stream that already has a writer")):vd(this)?of(new d("Cannot close an already-closing stream")):hd(this):of(xd("close"))},t.prototype.getWriter=function(){if(!sd(this))throw xd("getWriter");return ed(this)},t}();function ed(t){return new _d(t)}function rd(t){t.Ii="writable",t.tc=void 0,t.Xs=void 0,t.Cc=void 0,t.xc=new wf,t.Oc=void 0,t.Pc=void 0,t.Bc=void 0,t.Lc=void 0,t.Mc=!1}function sd(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Cc")&&t instanceof id)}function ud(t){return void 0!==t.Xs}function od(t,n){var i;if("closed"===t.Ii||"errored"===t.Ii)return uf(void 0);t.Cc.Uc=n,null===(i=t.Cc.Fc)||void 0===i||i.abort();var e=t.Ii;if("closed"===e||"errored"===e)return uf(void 0);if(void 0!==t.Lc)return t.Lc.Hc;var r=!1;"erroring"===e&&(r=!0,n=void 0);var s=sf(function(i,e){t.Lc={Hc:void 0,Es:i,Rs:e,zc:n,Vc:r}});return t.Lc.Hc=s,r||cd(t,n),s}function hd(t){var n=t.Ii;if("closed"===n||"errored"===n)return of(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,e=sf(function(n,i){var e={Es:n,Rs:i};t.Pc=e}),r=t.Xs;return void 0!==r&&t.Mc&&"writable"===n&&Xd(r),av(i=t.Cc,bd,0),Id(i),e}function ad(t,n){"writable"!==t.Ii?fd(t):cd(t,n)}function cd(t,n){var i=t.Cc;t.Ii="erroring",t.tc=n;var e=t.Xs;void 0!==e&&yd(e,n),!function(t){if(void 0===t.Oc&&void 0===t.Bc)return!1;return!0}(t)&&i.Tc&&fd(t)}function fd(t){t.Ii="errored",t.Cc[Rf]();var n=t.tc;if(t.xc.forEach(function(t){t.Rs(n)}),t.xc=new wf,void 0!==t.Lc){var i=t.Lc;if(t.Lc=void 0,i.Vc)return i.Rs(n),void dd(t);af(t.Cc[Ef](i.zc),function(){i.Es(),dd(t)},function(n){i.Rs(n),dd(t)})}else dd(t)}function vd(t){return void 0!==t.Pc||void 0!==t.Bc}function dd(t){void 0!==t.Pc&&(t.Pc.Rs(t.tc),t.Pc=void 0);var n=t.Xs;void 0!==n&&Ud(n,t.tc)}function ld(t,n){var i=t.Xs;void 0!==i&&n!==t.Mc&&(n?function(t){Hd(t)}(i):Xd(i)),t.Mc=n}l.defineProperties(id.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(id.prototype,jc.toStringTag,{value:"WritableStream",configurable:!0});var _d=function(){function t(t){if(Bf(t,1,"WritableStreamDefaultWriter"),td(t,"First parameter"),ud(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.Wc=t,t.Xs=this;var n,i=t.Ii;if("writable"===i)!vd(t)&&t.Mc?Hd(this):Vd(this),Ld(this);else if("erroring"===i)zd(this,t.tc),Ld(this);else if("closed"===i)Vd(this),Ld(n=this),Fd(n);else{var e=t.tc;zd(this,e),Md(this,e)}}return l.defineProperty(t.prototype,"closed",{get:function(){return gd(this)?this.Uo:of(Pd("closed"))},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!gd(this))throw Pd("desiredSize");if(void 0===this.Wc)throw Bd("desiredSize");return function(t){var n=t.Wc,i=n.Ii;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Rd(n.Cc)}(this)},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return gd(this)?this.Xc:of(Pd("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),gd(this)?void 0===this.Wc?of(Bd("abort")):function(t,n){return od(t.Wc,n)}(this,t):of(Pd("abort"))},t.prototype.close=function(){if(!gd(this))return of(Pd("close"));var t=this.Wc;return void 0===t?of(Bd("close")):vd(t)?of(new d("Cannot close an already-closing stream")):wd(this)},t.prototype.releaseLock=function(){if(!gd(this))throw Pd("releaseLock");void 0!==this.Wc&&kd(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),gd(this)?void 0===this.Wc?of(Bd("write to")):pd(this,t):of(Pd("write"))},t}();function gd(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Wc")&&t instanceof _d)}function wd(t){return hd(t.Wc)}function md(t,n){"pending"===t.qc?Ud(t,n):function(t,n){Md(t,n)}(t,n)}function yd(t,n){"pending"===t.Gc?Wd(t,n):function(t,n){zd(t,n)}(t,n)}function kd(t){var n=t.Wc,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");yd(t,i),md(t,i),n.Xs=void 0,t.Wc=void 0}function pd(t,n){var i=t.Wc,e=i.Cc,r=function(t,n){try{return t.Qc(n)}catch(n){return Nd(t,n),1}}(e,n);if(i!==t.Wc)return of(Bd("write to"));var s=i.Ii;if("errored"===s)return of(i.tc);if(vd(i)||"closed"===s)return of(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return of(i.tc);var u=function(t){return sf(function(n,i){var e={Es:n,Rs:i};t.xc.push(e)})}(i);return function(t,n,i){try{av(t,n,i)}catch(n){return void Nd(t,n)}var e=t.Yc;if(!vd(e)&&"writable"===e.Ii){var r=Dd(t);ld(e,r)}Id(t)}(e,n,r),u}l.defineProperties(_d.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(_d.prototype,jc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var bd={},Ad=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"abortReason",{get:function(){if(!Td(this))throw Od("abortReason");return this.Uc},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"signal",{get:function(){if(!Td(this))throw Od("signal");if(void 0===this.Fc)throw new d("WritableStreamDefaultController.prototype.signal is not supported");return this.Fc.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Td(this))throw Od("error");"writable"===this.Yc.Ii&&Cd(this,t)},t.prototype[Ef]=function(t){var n=this.jc(t);return Ed(this),n},t.prototype[Rf]=function(){cv(this)},t}();function Td(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"Yc")&&t instanceof Ad)}function Sd(t,n,i,e,r,s,u,o){n.Yc=t,t.Cc=n,n._c=void 0,n.gc=void 0,cv(n),n.Uc=void 0,n.Fc=function(){if(nd)return new AbortController}(),n.Tc=!1,n.Qc=o,n.Dc=u,n.Zc=e,n.Jc=r,n.jc=s;var h=Dd(n);ld(t,h),af(uf(i()),function(){n.Tc=!0,Id(n)},function(i){n.Tc=!0,ad(t,i)})}function Ed(t){t.Zc=void 0,t.Jc=void 0,t.jc=void 0,t.Qc=void 0}function Rd(t){return t.Dc-t.gc}function Id(t){var n=t.Yc;if(t.Tc&&void 0===n.Oc)if("erroring"!==n.Ii){if(0!==t._c.length){var i=t._c.peek().value;i===bd?function(t){var n=t.Yc;(function(t){t.Bc=t.Pc,t.Pc=void 0})(n),hv(t);var i=t.Jc();Ed(t),af(i,function(){!function(t){t.Bc.Es(void 0),t.Bc=void 0,"erroring"===t.Ii&&(t.tc=void 0,void 0!==t.Lc&&(t.Lc.Es(),t.Lc=void 0)),t.Ii="closed";var n=t.Xs;void 0!==n&&Fd(n)}(n)},function(t){!function(t,n){t.Bc.Rs(n),t.Bc=void 0,void 0!==t.Lc&&(t.Lc.Rs(n),t.Lc=void 0),ad(t,n)}(n,t)})}(t):function(t,n){var i=t.Yc;(function(t){t.Oc=t.xc.shift()})(i),af(t.Zc(n),function(){!function(t){t.Oc.Es(void 0),t.Oc=void 0}(i);var n=i.Ii;if(hv(t),!vd(i)&&"writable"===n){var e=Dd(t);ld(i,e)}Id(t)},function(n){"writable"===i.Ii&&Ed(t),function(t,n){t.Oc.Rs(n),t.Oc=void 0,ad(t,n)}(i,n)})}(t,i)}}else fd(n)}function Nd(t,n){"writable"===t.Yc.Ii&&Cd(t,n)}function Dd(t){return Rd(t)<=0}function Cd(t,n){var i=t.Yc;Ed(t),cd(i,n)}function xd(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Od(t){return new d("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Pd(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Bd(t){return new d("Cannot "+t+" a stream using a released writer")}function Ld(t){t.Uo=sf(function(n,i){t.nc=n,t.ic=i,t.qc="pending"})}function Md(t,n){Ld(t),Ud(t,n)}function Ud(t,n){void 0!==t.ic&&(df(t.Uo),t.ic(n),t.nc=void 0,t.ic=void 0,t.qc="rejected")}function Fd(t){void 0!==t.nc&&(t.nc(void 0),t.nc=void 0,t.ic=void 0,t.qc="resolved")}function Hd(t){t.Xc=sf(function(n,i){t.$c=n,t.Kc=i}),t.Gc="pending"}function zd(t,n){Hd(t),Wd(t,n)}function Vd(t){Hd(t),Xd(t)}function Wd(t,n){void 0!==t.Kc&&(df(t.Xc),t.Kc(n),t.$c=void 0,t.Kc=void 0,t.Gc="rejected")}function Xd(t){void 0!==t.$c&&(t.$c(void 0),t.$c=void 0,t.Kc=void 0,t.Gc="fulfilled")}l.defineProperties(Ad.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Ad.prototype,jc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var qd="undefined"!=typeof DOMException?DOMException:void 0;var Gd,Qd=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(qd)?qd:((Gd=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Gd.prototype,"constructor",{value:Gd,writable:!0,configurable:!0}),Gd);function Yd(t,n,i,e,r,s){var u=zf(t),o=ed(n);t.oc=!0;var h=!1,a=uf(void 0);return sf(function(c,f){var v,l,_,g;if(void 0!==s){if(v=function(){var i=new Qd("Aborted","AbortError"),s=[];e||s.push(function(){return"writable"===n.Ii?od(n,i):uf(void 0)}),r||s.push(function(){return"readable"===t.Ii?kl(t,i):uf(void 0)}),k(function(){return ze.all(s.map(function(t){return t()}))},!0,i)},s.aborted)return void v();s.addEventListener("abort",v)}if(y(t,u.Uo,function(t){e?p(!0,t):k(function(){return od(n,t)},!0,t)}),y(n,o.Uo,function(n){r?p(!0,n):k(function(){return kl(t,n)},!0,n)}),l=t,_=u.Uo,g=function(){i?p():k(function(){return function(t){var n=t.Wc,i=n.Ii;return vd(n)||"closed"===i?uf(void 0):"errored"===i?of(n.tc):wd(t)}(o)})},"closed"===l.Ii?g():cf(_,g),vd(n)||"closed"===n.Ii){var w=new d("the destination writable stream closed before all data could be piped to it");r?p(!0,w):k(function(){return kl(t,w)},!0,w)}function m(){var t=a;return hf(a,function(){return t!==a?m():void 0})}function y(t,n,i){"errored"===t.Ii?i(t.tc):ff(n,i)}function k(t,i,e){function r(){af(t(),function(){return b(i,e)},function(t){return b(!0,t)})}h||(h=!0,"writable"!==n.Ii||vd(n)?r():cf(m(),r))}function p(t,i){h||(h=!0,"writable"!==n.Ii||vd(n)?b(t,i):cf(m(),function(){return b(t,i)}))}function b(t,n){kd(o),kf(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}df(sf(function(t,n){!function i(e){e?t():hf(h?uf(!0):hf(o.Xc,function(){return sf(function(t,n){Zf(u,{sc:function(n){a=hf(pd(o,n),void 0,Zc),t(!1)},rc:function(){return t(!0)},uc:n})})}),i,n)}(!1)}))})}var jd=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Zd(this))throw ul("desiredSize");return el(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Zd(this))throw ul("close");if(!rl(this))throw new d("The stream is not in a state that permits close");tl(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Zd(this))throw ul("enqueue");if(!rl(this))throw new d("The stream is not in a state that permits enqueue");return nl(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Zd(this))throw ul("error");il(this,t)},t.prototype[If]=function(t){cv(this);var n=this.pc(t);return Kd(this),n},t.prototype[Nf]=function(t){var n=this.tf;if(this._c.length>0){var i=hv(this);this.yc&&0===this._c.length?(Kd(this),pl(n)):Jd(this),t.sc(i)}else Vf(n,t),Jd(this)},t}();function Zd(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"tf")&&t instanceof jd)}function Jd(t){$d(t)&&(t.Sc?t.Ec=!0:(t.Sc=!0,af(t.Rc(),function(){t.Sc=!1,t.Ec&&(t.Ec=!1,Jd(t))},function(n){il(t,n)})))}function $d(t){var n=t.tf;return!!rl(t)&&(!!t.Tc&&(!!(yl(n)&&Xf(n)>0)||el(t)>0))}function Kd(t){t.Rc=void 0,t.pc=void 0,t.Qc=void 0}function tl(t){if(rl(t)){var n=t.tf;t.yc=!0,0===t._c.length&&(Kd(t),pl(n))}}function nl(t,n){if(rl(t)){var i=t.tf;if(yl(i)&&Xf(i)>0)Wf(i,n,!1);else{var e=void 0;try{e=t.Qc(n)}catch(n){throw il(t,n),n}try{av(t,n,e)}catch(n){throw il(t,n),n}}Jd(t)}}function il(t,n){var i=t.tf;"readable"===i.Ii&&(cv(t),Kd(t),bl(i,n))}function el(t){var n=t.tf.Ii;return"errored"===n?null:"closed"===n?0:t.Dc-t.gc}function rl(t){var n=t.tf.Ii;return!t.yc&&"readable"===n}function sl(t,n,i,e,r,s,u){n.tf=t,n._c=void 0,n.gc=void 0,cv(n),n.Tc=!1,n.yc=!1,n.Ec=!1,n.Sc=!1,n.Qc=u,n.Dc=s,n.Rc=e,n.pc=r,t.hc=n,af(uf(i()),function(){n.Tc=!0,Jd(n)},function(t){il(n,t)})}function ul(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function ol(t,n){return dv(t.hc)?function(t){var n,i,e,r,s,u=zf(t),o=!1,h=!1,a=!1,c=!1,f=!1,v=sf(function(t){s=t});function d(t){ff(t.Uo,function(n){t===u&&(Dv(e.hc,n),Dv(r.hc,n),c&&f||s(void 0))})}function l(){Wv(u)&&(kf(u),d(u=zf(t)));var n={sc:function(n){lf(function(){h=!1,a=!1;var i=n,u=n;if(!c&&!f)try{u=ov(n)}catch(n){return Dv(e.hc,n),Dv(r.hc,n),void s(kl(t,n))}c||Nv(e.hc,i),f||Nv(r.hc,u),o=!1,h?g():a&&w()})},rc:function(){o=!1,c||Iv(e.hc),f||Iv(r.hc),e.hc.Ac.length>0&&Ov(e.hc,0),r.hc.Ac.length>0&&Ov(r.hc,0),c&&f||s(void 0)},uc:function(){o=!1}};Zf(u,n)}function _(n,i){jf(u)&&(kf(u),d(u=Uv(t)));var v=i?r:e,l=i?e:r,_={sc:function(n){lf(function(){h=!1,a=!1;var e=i?f:c,r=i?c:f;if(r)e||Pv(v.hc,n);else{var u=void 0;try{u=ov(n)}catch(n){return Dv(v.hc,n),Dv(l.hc,n),void s(kl(t,n))}e||Pv(v.hc,n),Nv(l.hc,u)}o=!1,h?g():a&&w()})},rc:function(t){o=!1;var n=i?f:c,e=i?c:f;n||Iv(v.hc),e||Iv(l.hc),void 0!==t&&(n||Pv(v.hc,t),!e&&l.hc.Ac.length>0&&Ov(l.hc,0)),n&&e||s(void 0)},uc:function(){o=!1}};Xv(u,n,_)}function g(){if(o)return h=!0,uf(void 0);o=!0;var t=Cv(e.hc);return null===t?l():_(t.wc,!1),uf(void 0)}function w(){if(o)return a=!0,uf(void 0);o=!0;var t=Cv(r.hc);return null===t?l():_(t.wc,!0),uf(void 0)}function m(){}return e=gl(m,g,function(e){if(c=!0,n=e,f){var r=ev([n,i]),u=kl(t,r);s(u)}return v}),r=gl(m,w,function(e){if(f=!0,i=e,c){var r=ev([n,i]),u=kl(t,r);s(u)}return v}),d(u),[e,r]}(t):function(t,n){var i,e,r,s,u,o=zf(t),h=!1,a=!1,c=!1,f=!1,v=sf(function(t){u=t});function d(){if(h)return a=!0,uf(void 0);h=!0;var t={sc:function(t){lf(function(){a=!1;var n=t,i=t;c||nl(r.hc,n),f||nl(s.hc,i),h=!1,a&&d()})},rc:function(){h=!1,c||tl(r.hc),f||tl(s.hc),c&&f||u(void 0)},uc:function(){h=!1}};return Zf(o,t),uf(void 0)}function l(){}return r=_l(l,d,function(n){if(c=!0,i=n,f){var r=ev([i,e]),s=kl(t,r);u(s)}return v}),s=_l(l,d,function(n){if(f=!0,e=n,c){var r=ev([i,e]),s=kl(t,r);u(s)}return v}),ff(o.Uo,function(t){il(r.hc,t),il(s.hc,t),c&&f||u(void 0)}),[r,s]}(t)}function hl(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function al(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function cl(t,n,i){return Of(t,i),function(i){return _f(t,n,[i])}}function fl(t,n){if("bytes"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function vl(t,n){if("byob"!==(t=""+t))throw new d(n+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function dl(t,n){xf(t,n);var i=null==t?void 0:t.preventAbort,e=null==t?void 0:t.preventCancel,r=null==t?void 0:t.preventClose,s=null==t?void 0:t.signal;return void 0!==s&&function(t,n){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}(t))throw new d(n+" is not an AbortSignal.")}(s,n+" has member 'signal' that"),{preventAbort:Boolean(i),preventCancel:Boolean(e),preventClose:Boolean(r),signal:s}}l.defineProperties(jd.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(jd.prototype,jc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var ll=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),void 0===t?t=null:Pf(t,"First parameter");var i=Yv(n,"Second parameter"),e=function(t,n){xf(t,n);var i=t,e=null==i?void 0:i.autoAllocateChunkSize,r=null==i?void 0:i.cancel,s=null==i?void 0:i.pull,u=null==i?void 0:i.start,o=null==i?void 0:i.type;return{autoAllocateChunkSize:void 0===e?void 0:Ff(e,n+" has member 'autoAllocateChunkSize' that"),cancel:void 0===r?void 0:hl(r,i,n+" has member 'cancel' that"),pull:void 0===s?void 0:al(s,i,n+" has member 'pull' that"),start:void 0===u?void 0:cl(u,i,n+" has member 'start' that"),type:void 0===o?void 0:fl(o,n+" has member 'type' that")}}(t,"First parameter");if(wl(this),"bytes"===e.type){if(void 0!==i.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,n,i){var e=l.create(vv.prototype),r=function(){},s=function(){return uf(void 0)},u=function(){return uf(void 0)};void 0!==n.start&&(r=function(){return n.start(e)}),void 0!==n.pull&&(s=function(){return n.pull(e)}),void 0!==n.cancel&&(u=function(t){return n.cancel(t)});var o=n.autoAllocateChunkSize;if(0===o)throw new d("autoAllocateChunkSize must be greater than 0");Bv(t,e,r,s,u,i,o)}(this,e,Gv(i,0))}else{var r=Qv(i);!function(t,n,i,e){var r=l.create(jd.prototype),s=function(){},u=function(){return uf(void 0)},o=function(){return uf(void 0)};void 0!==n.start&&(s=function(){return n.start(r)}),void 0!==n.pull&&(u=function(){return n.pull(r)}),void 0!==n.cancel&&(o=function(t){return n.cancel(t)}),sl(t,r,s,u,o,i,e)}(this,e,Gv(i,1),r)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!ml(this))throw Al("locked");return yl(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),ml(this)?yl(this)?of(new d("Cannot cancel a stream that already has a reader")):kl(this,t):of(Al("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!ml(this))throw Al("getReader");return void 0===function(t,n){xf(t,n);var i=null==t?void 0:t.mode;return{mode:void 0===i?void 0:vl(i,n+" has member 'mode' that")}}(t,"First parameter").mode?zf(this):Uv(this)},t.prototype.pipeThrough=function(t,n){if(void 0===n&&(n={}),!ml(this))throw Al("pipeThrough");Bf(t,1,"pipeThrough");var i=function(t,n){xf(t,n);var i=null==t?void 0:t.readable;Lf(i,"readable","ReadableWritablePair"),Hf(i,n+" has member 'readable' that");var e=null==t?void 0:t.writable;return Lf(e,"writable","ReadableWritablePair"),td(e,n+" has member 'writable' that"),{readable:i,writable:e}}(t,"First parameter"),e=dl(n,"Second parameter");if(yl(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ud(i.writable))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return df(Yd(this,i.writable,e.preventClose,e.preventAbort,e.preventCancel,e.signal)),i.readable},t.prototype.pipeTo=function(t,n){if(void 0===n&&(n={}),!ml(this))return of(Al("pipeTo"));if(void 0===t)return of("Parameter 1 is required in 'pipeTo'.");if(!sd(t))return of(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var i;try{i=dl(n,"Second parameter")}catch(t){return of(t)}return yl(this)?of(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ud(t)?of(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Yd(this,t,i.preventClose,i.preventAbort,i.preventCancel,i.signal)},t.prototype.tee=function(){if(!ml(this))throw Al("tee");return ev(ol(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!ml(this))throw Al("values");var n,i,e,r,s,u=function(t,n){xf(t,n);var i=null==t?void 0:t.preventCancel;return{preventCancel:Boolean(i)}}(t,"First parameter");return n=this,i=u.preventCancel,e=zf(n),r=new $f(e,i),(s=l.create(Kf)).lc=r,s},t}();function _l(t,n,i,e,r){void 0===e&&(e=1),void 0===r&&(r=function(){return 1});var s=l.create(ll.prototype);return wl(s),sl(s,l.create(jd.prototype),t,n,i,e,r),s}function gl(t,n,i){var e=l.create(ll.prototype);return wl(e),Bv(e,l.create(vv.prototype),t,n,i,0,void 0),e}function wl(t){t.Ii="readable",t.Ka=void 0,t.tc=void 0,t.oc=!1}function ml(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"hc")&&t instanceof ll)}function yl(t){return void 0!==t.Ka}function kl(t,n){if(t.oc=!0,"closed"===t.Ii)return uf(void 0);if("errored"===t.Ii)return of(t.tc);pl(t);var i=t.Ka;return void 0!==i&&Wv(i)&&(i.Ic.forEach(function(t){t.rc(void 0)}),i.Ic=new wf),vf(t.hc[If](n),Zc)}function pl(t){t.Ii="closed";var n=t.Ka;void 0!==n&&(Sf(n),jf(n)&&(n.ec.forEach(function(t){t.rc()}),n.ec=new wf))}function bl(t,n){t.Ii="errored",t.tc=n;var i=t.Ka;void 0!==i&&(Tf(i,n),jf(i)?(i.ec.forEach(function(t){t.uc(n)}),i.ec=new wf):(i.Ic.forEach(function(t){t.uc(n)}),i.Ic=new wf))}function Al(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Tl(t,n){xf(t,n);var i=null==t?void 0:t.highWaterMark;return Lf(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Mf(i)}}l.defineProperties(ll.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(ll.prototype,jc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof jc.asyncIterator&&l.defineProperty(ll.prototype,jc.asyncIterator,{value:ll.prototype.values,writable:!0,configurable:!0});var Sl=function(t){return t.byteLength};try{l.defineProperty(Sl,"name",{value:"size",configurable:!0})}catch(Gf){}var El=function(){function t(t){Bf(t,1,"ByteLengthQueuingStrategy"),t=Tl(t,"First parameter"),this.nf=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Il(this))throw Rl("highWaterMark");return this.nf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!Il(this))throw Rl("size");return Sl},enumerable:!1,configurable:!0}),t}();function Rl(t){return new d("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function Il(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"nf")&&t instanceof El)}l.defineProperties(El.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(El.prototype,jc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Nl=function(){return 1};try{l.defineProperty(Nl,"name",{value:"size",configurable:!0})}catch(Gf){}var Dl=function(){function t(t){Bf(t,1,"CountQueuingStrategy"),t=Tl(t,"First parameter"),this.if=t.highWaterMark}return l.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!xl(this))throw Cl("highWaterMark");return this.if},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"size",{get:function(){if(!xl(this))throw Cl("size");return Nl},enumerable:!1,configurable:!0}),t}();function Cl(t){return new d("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function xl(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"if")&&t instanceof Dl)}function Ol(t,n,i){return Of(t,i),function(i){return gf(t,n,[i])}}function Pl(t,n,i){return Of(t,i),function(i){return _f(t,n,[i])}}function Bl(t,n,i){return Of(t,i),function(i,e){return gf(t,n,[i,e])}}l.defineProperties(Dl.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Dl.prototype,jc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Ll=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===t&&(t=null);var e=Yv(n,"Second parameter"),r=Yv(i,"Third parameter"),s=function(t,n){xf(t,n);var i=null==t?void 0:t.flush,e=null==t?void 0:t.readableType,r=null==t?void 0:t.start,s=null==t?void 0:t.transform,u=null==t?void 0:t.writableType;return{flush:void 0===i?void 0:Ol(i,t,n+" has member 'flush' that"),readableType:e,start:void 0===r?void 0:Pl(r,t,n+" has member 'start' that"),transform:void 0===s?void 0:Bl(s,t,n+" has member 'transform' that"),writableType:u}}(t,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");var u,o=Gv(r,0),h=Qv(r),a=Gv(e,1),c=Qv(e);!function(t,n,i,e,r,s){function u(){return n}t.ef=function(t,n,i,e,r,s){void 0===r&&(r=1),void 0===s&&(s=function(){return 1});var u=l.create(id.prototype);return rd(u),Sd(u,l.create(Ad.prototype),t,n,i,e,r,s),u}(u,function(n){return function(t,n){var i=t.rf;if(t.Mc){var e=t.sf;return vf(e,function(){var e=t.ef,r=e.Ii;if("erroring"===r)throw e.tc;return ql(i,n)})}return ql(i,n)}(t,n)},function(){return function(t){var n=t.uf,i=t.rf,e=i.hf();return Wl(i),vf(e,function(){if("errored"===n.Ii)throw n.tc;tl(n.hc)},function(i){throw Ul(t,i),n.tc})}(t)},function(n){return function(t,n){return Ul(t,n),uf(void 0)}(t,n)},i,e),t.uf=_l(u,function(){return function(t){return Hl(t,!1),t.sf}(t)},function(n){return Fl(t,n),uf(void 0)},r,s),t.Mc=void 0,t.sf=void 0,t.af=void 0,Hl(t,!0),t.rf=void 0}(this,sf(function(t){u=t}),a,c,o,h),function(t,n){var i=l.create(zl.prototype),e=function(t){try{return Xl(i,t),uf(void 0)}catch(t){return of(t)}},r=function(){return uf(void 0)};void 0!==n.transform&&(e=function(t){return n.transform(t,i)});void 0!==n.flush&&(r=function(){return n.flush(i)});!function(t,n,i,e){n.cf=t,t.rf=n,n.ff=i,n.hf=e}(t,i,e,r)}(this,s),void 0!==s.start?u(s.start(this.rf)):u(void 0)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!Ml(this))throw Ql("readable");return this.uf},enumerable:!1,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!Ml(this))throw Ql("writable");return this.ef},enumerable:!1,configurable:!0}),t}();function Ml(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"rf")&&t instanceof Ll)}function Ul(t,n){il(t.uf.hc,n),Fl(t,n)}function Fl(t,n){Wl(t.rf),Nd(t.ef.Cc,n),t.Mc&&Hl(t,!1)}function Hl(t,n){void 0!==t.sf&&t.af(),t.sf=sf(function(n){t.af=n}),t.Mc=n}l.defineProperties(Ll.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(Ll.prototype,jc.toStringTag,{value:"TransformStream",configurable:!0});var zl=function(){function t(){throw new d("Illegal constructor")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Vl(this))throw Gl("desiredSize");return el(this.cf.uf.hc)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Vl(this))throw Gl("enqueue");Xl(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Vl(this))throw Gl("error");var n;n=t,Ul(this.cf,n)},t.prototype.terminate=function(){if(!Vl(this))throw Gl("terminate");!function(t){var n=t.cf;tl(n.uf.hc);var i=new d("TransformStream terminated");Fl(n,i)}(this)},t}();function Vl(t){return!!$c(t)&&(!!l.prototype.hasOwnProperty.call(t,"cf")&&t instanceof zl)}function Wl(t){t.ff=void 0,t.hf=void 0}function Xl(t,n){var i=t.cf,e=i.uf.hc;if(!rl(e))throw new d("Readable side is not in a state that permits enqueue");try{nl(e,n)}catch(t){throw Fl(i,t),i.uf.tc}(function(t){return!$d(t)})(e)!==i.Mc&&Hl(i,!0)}function ql(t,n){return vf(t.ff(n),void 0,function(n){throw Ul(t.cf,n),n})}function Gl(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Ql(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}l.defineProperties(zl.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof jc.toStringTag&&l.defineProperty(zl.prototype,jc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Yl,jl=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return S(n,t),A(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(Zt);function Zl(t){return n=[t],new ll({start:function(t){for(var i=0;i<n.length;i++){var e=n[i];t.enqueue(e)}t.close()}});var n}function Jl(t){return Zl(new y(t))}function $l(t,n){return function(t,n){var i=n,e=t.getReader(),r=new Ro,s=function(){u();var t=new Hs;e.cancel(t).catch(Z),r.Ns(t)},u=function(){i&&(i.Rr(s),i=void 0)};i&&(i.yr?s():i.Er(s));var o=[];return ze.resolve(e.read()).then(function t(n){return n.done?(u(),ze.resolve(o)):(o.push(n.value),ze.resolve(e.read()).then(t))}).then(function(t){u(),r.Is(t)},function(t){u(),r.Ns(t)}),r.Ss}(t,n).then(function(t){return Su(t).buffer})}function Kl(t,n){var i=n,e=new Ll,r=e.readable,s=e.writable,u=s.getWriter(),o=function(){i&&i.Cr()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(Z)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(Z)}),r}function t_(t){return _o(new y(t))}function n_(t){return go(t).buffer}!function(t){t[t.Wa=0]="Wa",t[t.vf=1]="vf"}(Yl||(Yl={}));var i_="content-type",e_="text/plain;charset=UTF-8",r_=function(){function t(){}var n=t.prototype;return n.df=function(t){return this.lf(t).then(JSON.parse)},n._f=function(t,n){switch(t){case qc.za:return this.gf(n);case qc.Va:return this.df(n);case qc.Wa:return this.wf();case qc.On:return this.lf(n);default:throw new d}},t}();function s_(t,n,i){if(t instanceof r_)return t;if(t instanceof ll)return function(t,n){return new o_({nr:Yl.Wa,wf:t,mf:u_(n)})}(t,i);var e=u_(i),r=ze.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{nr:qc.On,yf:t,mf:n||e_};if(t instanceof ArrayBuffer||Au(t))return{nr:qc.za,yf:l_(t),mf:n};if(X(t)||z(t))return{nr:qc.Va,yf:t,mf:n};throw new d("Unsupported BodyInit type")}return{nr:qc.On,yf:null,mf:n}}(t,e)});return new o_({nr:Yl.vf,Ss:r,kf:n})}function u_(t){return(t.get(i_)||"").toLowerCase()}var o_=function(t){function n(n){var i;return(i=t.call(this)||this).pf=!1,i.bf=void 0,i.Af=new Ro,i.Af.Ss.catch(Z),i.Tf(n),i}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Af.Ss},i.lf=function(t){return this.Ef(h_,t)},i.df=function(t){return this.Ef(c_,t)},i.gf=function(t){return this.Ef(v_,t)},i.wf=function(){return this.Rf((t=this.bf).nr===Yl.Wa?t.wf:Kl(t.Ss.then(d_).then(Jl),t.kf));var t},i.Ef=function(t,n){if(this.pf)return ze.reject(new d("Already used"));this.pf=!0;var i=t(this.bf,n);return this.Af.Is(i.then(Z)),i},i.Rf=function(t){if(this.pf)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.pf=!0;var n=new Ll,i=ze.resolve(t.pipeTo(n.writable));return this.Af.Is(i),n.readable},i.Tf=function(t){this.bf=t,t.nr===Yl.vf&&t.Ss.catch(Z)},i.If=function(){if(this.pf)throw new d("Already used");var t=function(t){if(t.nr===Yl.Wa){var n=t.wf.tee(),i=n[0],e=n[1];return[{nr:t.nr,wf:i,mf:t.mf},{nr:t.nr,wf:e,mf:t.mf}]}var r=t.kf.Or(),s=r[0],u=r[1];return[{nr:t.nr,Ss:t.Ss,kf:s},{nr:t.nr,Ss:t.Ss,kf:u}]}(this.bf),i=t[0],e=t[1];return this.Tf(i),new n(e)},A(n,[{key:"Nf",get:function(){return this.pf}}]),n}(r_);function h_(t,n){return t.nr===Yl.Wa?$l(t.wf,n).then(t_):(n&&t.kf.xr(n),Gs(t.Ss.then(a_),t.kf))}function a_(t){switch(t.nr){case qc.On:return ze.resolve(t.yf||"");case qc.za:return ze.resolve(t.yf).then(t_);case qc.Va:return ze.resolve(t.yf).then(JSON.stringify)}}function c_(t,n){return t.nr===Yl.Wa?h_(t,n).then(JSON.parse):(n&&t.kf.xr(n),Gs(t.Ss.then(f_),t.kf))}function f_(t){return t.nr===qc.Va?ze.resolve(t.yf):a_(t).then(JSON.parse)}function v_(t,n){return t.nr===Yl.Wa?$l(t.wf,n):(n&&t.kf.xr(n),Gs(t.Ss.then(d_),t.kf))}function d_(t){switch(t.nr){case qc.za:return ze.resolve(t.yf);case qc.On:case qc.Va:return a_(t).then(n_)}}function l_(t){return t instanceof ArrayBuffer?t:To(ko(t)).buffer}function __(t){return t.Df>=200&&t.Df<=299||304===t.Df}var g_,w_,m_,y_,k_=function(t){function n(n,i){var e,r,s,u,o,h;i?(r=i.Cf,s=i.xf,u=i.Df,o=i.Of,h=i.Pf):(r=[],s=qc.On,u=200,o="OK",h=!1);var a=n.Bf,c=new Gc(n.Cf||r),f=n.xf||s,v=n.Lf||(i&&i.Bf===a?i.Lf:a.Mf),d=i?i.Uf:null,l=s_(void 0!==n.ai?n.ai:d,n.kf||new Fs,c);return(e=t.call(this,l)||this).Cf=void 0,e.Bf=void 0,e.Lf=void 0,e.xf=void 0,e.Df=void 0,e.Of=void 0,e.Pf=void 0,e.Cf=c,e.Bf=a,e.Lf=v,e.xf=f,e.Df=void 0!==n.Df?n.Df:u,e.Of=void 0!==n.Of?String(n.Of):o,e.Pf=n.Pf||h,e}S(n,t);var i=n.prototype;return i.ai=function(t){return this._f(this.xf,t)},i.ks=function(){return new n({ai:this.If(),Bf:this.Bf},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Uf=void 0,i.Uf=n,i}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Uf.Sf()},i.lf=function(t){return this.Uf.lf(t)},i.df=function(t){return this.Uf.df(t)},i.gf=function(t){return this.Uf.gf(t)},i.wf=function(){return this.Uf.wf()},i.If=function(){return this.Uf.If()},A(n,[{key:"Nf",get:function(){return this.Uf.Nf}}]),n}(r_));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(g_||(g_={})),function(t){t.Ff="",t.Hf="manifest",t.zf="segment",t.Vf="content-protection"}(w_||(w_={})),function(t){t.Ff="",t.Wf="initialization-segment",t.Xf="fairplay-license",t.qf="fairplay-certificate",t.Gf="widevine-license",t.Qf="widevine-certificate",t.Yf="playready-license",t.jf="clearkey-license",t.Zf="aes128-key"}(m_||(m_={})),function(t){t.Ff="",t.Jf="audio",t.$f="video",t.On="text",t.Kf="image"}(y_||(y_={}));var p_=function(t,n){this.yf=void 0,this.Cf=void 0,this.tv=void 0,this.xf=void 0,this.nv=void 0,this.Pr=void 0,this.nr=void 0,this.ev=void 0,this.rv=void 0,this.Mf=void 0,this.sv=void 0,this.uv=void 0;var i,e,r,s,u,o,h,a,c,f,v,d=t.Mf;n?(i=n.yf,e=n.Cf,r=n.tv,s=n.xf,u=n.nv,o=n.Pr,h=n.nr,a=n.ev,c=n.rv,f=n.sv,v=n.uv):(i=null,e={},r=g_.GET,s=qc.On,u=0,h=w_.Ff,a=m_.Ff,c=y_.Ff,f=!1),this.Mf=d,this.yf=t.yf||i,this.Cf=new Gc(t.Cf||e),this.tv=t.tv||r,this.xf=t.xf||s,this.nv=void 0!==t.nv?Number(t.nv)||0:u,this.Pr=t.Pr||o||(new Fs).Pr,this.nr=t.nr||h,this.ev=t.ev||a,this.rv=t.rv||c,this.sv=void 0!==t.sv?Boolean(t.sv):f,this.uv=t.uv||v},b_=function(){function t(){}var n=t.prototype;return n.Bf=function(t){var n=function(t){return new k_({ai:null,Cf:{},Bf:t,Lf:t.Mf,xf:t.xf,Df:0,Of:Xc.ka})}(new p_(t));return ze.resolve(n)},n.ov=function(t){},n.hv=function(){},t}();var A_=function(){function t(t,n){void 0===n&&(n=!0),this.av=void 0,this.cv=void 0,this.av=t,this.cv=n}var n=t.prototype;return n.Bf=function(t){var n=this.fv(t);return this.av.Bf(n)},n.ov=function(t){return this.av.ov(this.vv(t))},n.fv=function(n){var i=new p_(n);if(!this.cv){var e=t.dv(i.Mf);i=new p_({Mf:e},i)}return i},n.vv=function(n){var i=n.Mf;return this.cv||(i=t.dv(i)),{Mf:i,yf:n.yf}},t.dv=function(t){return i.Ue&&os(t,"http://")?t.replace(":","s:"):t},n.hv=function(){this.av.hv()},A(t,null,[{key:"lv",get:function(){return t._v||(t._v=new t(new b_)),t._v}}]),t}();function T_(t,n){for(var i=0,e=l.keys(n);i<e.length;i++){var r=e[i];t.searchParams.set(r,n[r])}}function S_(t,n){var e=i.xe(t);return n&&!hs(e,"/")&&(e+="/"),e}A_._v=void 0;var E_,R_=/cache:(.+)?(?=&|$)/,I_="http://webcache.googleusercontent.com/search?q=cache:";function N_(t){if(!os(t,I_))return"";var n=i.Ce(t).search.match(R_);return n&&n.length>1?n[1]:""}!function(t){t.gv="HttpOpenError",t.wv="HttpResponseError",t.mv="HttpTimeoutError"}(E_||(E_={}));var D_=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).yv=void 0,r.yv=n,r}return S(n,t),A(n,[{key:"Bf",get:function(){return this.yv}}]),n}(Zt);var C_=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Mf+". Invalid URL.",i)||this}return S(n,t),A(n,[{key:"name",get:function(){return E_.gv}}]),n}(D_);var x_=function(t){function n(n,i,e){var r;return(r=t.call(this,n.Bf,null!=e?e:function(t){return"Error while loading "+t.Bf.Mf+", status code "+t.Df}(n),i)||this).kv=void 0,r.kv=n,r}return S(n,t),A(n,[{key:"name",get:function(){return E_.wv}},{key:"pv",get:function(){return this.kv}}]),n}(D_);var O_=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Mf+" timed out after "+t.nv+" seconds."}(n),i)||this}return S(n,t),A(n,[{key:"name",get:function(){return E_.mv}}]),n}(D_),P_=function(t,n){return(P_=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function B_(t,n){function i(){this.constructor=t}P_(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var L_="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var M_=function(){var t=L_.Blob;if(t)try{return new t,function(t,n){return new L_.Blob(t,n)}}catch(t){}var n,i=L_.BlobBuilder||L_.WebKitBlobBuilder||L_.MozBlobBuilder||L_.MSBlobBuilder;return i?(n=i,function(t,i){var e=new n;if(t)for(var r=0,s=t;r<s.length;r++){var u=s[r];e.append(u)}return e.getBlob(i&&i.type||"")}):null}(),U_="function"==typeof ll?ll:void 0;function F_(t){return t&&"function"==typeof t.getReader}function H_(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&F_(i)}catch(t){return!1}}var z_=function(){function t(t,n){this.Ka=t,this.bv=n}return t.prototype.pull=function(t){var n=this;return this.Ka.read().then(function(i){n.bv&&n.bv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Ka.cancel(t)},t}();function V_(t,n){return n.constructor===t?n:new t(new z_(n.getReader()),{highWaterMark:0})}var W_=function(){function t(t,n){this.Av=t,this.Tv=n}return t.prototype.pull=function(t){return this.Av().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.Tv&&this.Tv(t)},t}();function X_(t,n,i){return new t(new W_(n,i),{highWaterMark:0})}var q_={searchParams:"URLSearchParams"in L_,iterable:"Symbol"in L_&&"iterator"in Symbol,blob:"FileReader"in L_&&!!M_,formData:"FormData"in L_,arrayBuffer:"ArrayBuffer"in L_,stream:H_(U_),streamRequest:"Request"in L_&&"body"in L_.Request.prototype,streamResponse:"Response"in L_&&"body"in L_.Response.prototype,abort:"AbortController"in L_&&"Request"in L_&&"signal"in L_.Request.prototype,encoding:"TextEncoder"in L_&&"TextDecoder"in L_,url:"URL"in L_&&function(t){try{return new L_.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in L_&&/Firefox\//.test(L_.navigator.userAgent)};function G_(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function Q_(t){return"string"!=typeof t&&(t=String(t)),t}function Y_(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return q_.iterable&&(n[Symbol.iterator]=function(){return n}),n}var j_=function(){function t(t){var n=this;this.je={};var i,e=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(e):!function(t){return q_.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(e)}return t.prototype.append=function(t,n){t=G_(t),n=Q_(n);var i=t.toLowerCase();if(this.je.hasOwnProperty(i)){var e=this.je[i],r=e[1];e[1]=r?r+", "+n:n}else this.je[i]=[t,n]},t.prototype.delete=function(t){var n=G_(t).toLowerCase();delete this.je[n]},t.prototype.get=function(t){var n=G_(t).toLowerCase();return this.je.hasOwnProperty(n)?this.je[n][1]:null},t.prototype.has=function(t){var n=G_(t).toLowerCase();return this.je.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=G_(t)).toLowerCase();this.je[i]=[t,Q_(n)]},t.prototype.forEach=function(t,n){for(var i in this.je)this.je.hasOwnProperty(i)&&t.call(n,this.je[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Y_(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Y_(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Y_(t)},t.prototype.asList=function(){var t=[];for(var n in this.je)if(this.je.hasOwnProperty(n)){var i=this.je[n],e=i[0],r=i[1];t.push([e,r])}return t},t}();function Z_(){}q_.iterable&&(j_.prototype[Symbol.iterator]=j_.prototype.entries);var J_,$_,K_,tg=_.min,ng=String.fromCharCode,ig=16384;function eg(t){for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return function(t){for(var n=t.length,i=[],e=0;e<n;e+=ig){var r=tg(e+ig,n);i.push(ng.apply(null,t.slice(e,r)))}return i.join("")}(n)}function rg(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function sg(t,n){return t>>n&63|128}function ug(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(rg(t),n.push(t>>12&15|224),n.push(sg(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(sg(t,12)),n.push(sg(t,6))),n.push(63&t|128)):n.push(t)}function og(){if(K_>=$_)throw new v("Invalid byte index");var t=255&J_[K_];if(K_++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function hg(){var t,n;if(K_>$_)throw new v("Invalid byte index");if(K_===$_)return!1;if(t=255&J_[K_],K_++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|og())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|og()<<6|og())>=2048)return rg(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|og()<<12|og()<<6|og())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var ag=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function cg(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function fg(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function vg(t){return t&&DataView.prototype.isPrototypeOf(t)}var dg,lg=ArrayBuffer.isView||function(t){return t&&(ag.indexOf(l.prototype.toString.call(t))>-1||vg(t))};function _g(t){if(t.bodyUsed)return ze.reject(new d("Already used"));t.bodyUsed=!0}function gg(t){return new ze(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function wg(t){return q_.encoding?new L_.TextDecoder("utf-8").decode(new y(t)):eg(function(t){$_=(J_=t).length,K_=0;for(var n,i=[];!1!==(n=hg());)i.push(n);return i}(new y(t)))}function mg(t){return q_.encoding?(new L_.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,e=t;i<e.length;i++)ug(e[i],n);return n}(function(t){for(var n=[],i=0,e=t.length;i<e;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<e){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&r)<<10)+(1023&s)+65536):(n.push(r),i--)}else n.push(r)}return n}(t))).buffer}function yg(t){var n=t.getReader(),i=[],e=function(t){var r=t.done,s=t.value;return r?ze.resolve(i):(i.push(s),n.read().then(e))};return n.read().then(e)}function kg(t){return yg(t).then(function(t){return function(t){for(var n=0,i=0,e=t;i<e.length;i++)n+=(h=e[i]).byteLength;for(var r=new y(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];r.set(h,s),s+=h.byteLength}return r}(t).buffer})}function pg(t){return t.slice?t.slice(0):bg(new y(t))}function bg(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Ag(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),e=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(e),decodeURIComponent(r))}}),n}function Tg(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.Sv===dg.Ev){if(!n.Rv.tee)throw new v("could not clone ReadableStream body");var i=n.Rv.tee(),e=i[0],r=i[1];return n.body=e,n.Rv=e,n.Iv=e,r}return n.Sv===dg.za?pg(n.Rv):n.Sv===dg.vf?n.Rv.then(Tg):n.Iv}!function(t){t[t.On=0]="On",t[t.Nv=1]="Nv",t[t.Dv=2]="Dv",t[t.za=3]="za",t[t.Ev=4]="Ev",t[t.vf=5]="vf"}(dg||(dg={}));var Sg=function(){function t(n,i){this.bodyUsed=!1;var e,r,s,u=this;if(this.Iv=n||null,n)if("string"==typeof n)this.Sv=dg.On,this.Rv=n;else if((s=n)&&"function"==typeof s.then)this.Sv=dg.vf,this.Rv=ze.resolve(n).then(function(n){return new t(n,i)}),this.Rv.catch(Z_);else if(q_.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Sv=dg.Nv,this.Rv=n;else if(q_.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Sv=dg.Dv,this.Rv=n;else if(q_.searchParams&&cg(n))this.Sv=dg.On,this.Rv=n.toString();else if(q_.arrayBuffer&&(fg(n)||lg(n)))vg(n)&&(this.Iv=new y((r=n).buffer,r.byteOffset,r.byteLength)),this.Sv=dg.za,this.Rv=fg(e=n)?pg(e):bg(e);else{if(!q_.stream||!F_(n))throw new v("unsupported BodyInit type");n=V_(U_,n),this.Sv=dg.Ev,this.Rv=n,this.Iv=n}else this.Sv=dg.On,this.Rv="";this.Cv="",i.has("content-type")?this.Cv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Cv="text/plain;charset=UTF-8":u.Sv===dg.Nv&&u.Rv.type?this.Cv=u.Rv.type:q_.searchParams&&cg(n)&&(this.Cv="application/x-www-form-urlencoded;charset=UTF-8"),this.Cv&&i.set("content-type",this.Cv)),q_.stream&&(null==n?this.body=null:u.Sv===dg.Ev?this.body=u.Rv:this.body=X_(U_,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,e=_g(this);return e||(this.Sv===dg.Nv?(t=this.Rv,n=new FileReader,i=gg(n),n.readAsText(t),i):this.Sv===dg.za?ze.resolve(this.Rv).then(wg):this.Sv===dg.Ev?kg(this.Rv).then(wg):this.Sv===dg.vf?this.Rv.then(function(t){return t.text()}):this.Sv===dg.Dv?ze.reject(new v("could not read FormData body as text")):ze.resolve(this.Rv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();q_.blob&&(Sg.prototype.blob=function(){var t,n,i=_g(this);return i||(this.Sv===dg.Nv?ze.resolve(this.Rv):this.Sv===dg.za?ze.resolve(M_([this.Rv],{type:this.Cv})):this.Sv===dg.Ev?(t=this.Rv,n=this.Cv,yg(t).then(function(t){return M_(t,{type:n||""})})):this.Sv===dg.vf?this.Rv.then(function(t){return t.blob()}):this.Sv===dg.Dv?ze.reject(new v("could not read FormData body as Blob")):ze.resolve(M_([this.Rv],{type:this.Cv})))}),q_.arrayBuffer&&(Sg.prototype.arrayBuffer=function(){var t,n,i;return this.Sv===dg.za?_g(this)||ze.resolve(this.Rv):this.Sv===dg.Nv?_g(this)||(t=this.Rv,n=new FileReader,i=gg(n),n.readAsArrayBuffer(t),i):this.Sv===dg.Ev?kg(this.Rv):this.Sv===dg.vf?_g(this)||this.Rv.then(function(t){return t.arrayBuffer()}):this.Sv===dg.Dv?ze.reject(new v("could not read FormData body as ArrayBuffer")):ze.resolve(this.Rv).then(mg)}),q_.formData&&(Sg.prototype.formData=function(){return this.Sv===dg.Dv?_g(this)||ze.resolve(this.Rv):this.text().then(Ag)});var Eg=[301,302,303,307,308],Rg=function(t){function n(n,i){var e=this,r=new j_((i=i||{}).headers);return(e=t.call(this,n||null,r)||this).type="default",e.status=void 0===i.status?200:i.status,e.ok=e.status>=200&&e.status<300,e.statusText=void 0!==i.statusText?String(i.statusText):"",e.headers=r,e.url=i.url||"",e}return B_(n,t),n.prototype.clone=function(){return new n(Tg(this),{status:this.status,statusText:this.statusText,headers:new j_(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Eg.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Sg);var Ig,Ng=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function e(t,n){for(var i=0;i<n.length;i++){var e=n[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),l.defineProperty(t,e.key,e)}}function r(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var e=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(e){var r=l.getOwnPropertyDescriptor(e,n);return r.get?r.get.call(i):r.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],e=0,r=i.length;e<r;e++)if(i[e]===n)return void i.splice(e,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},e=this.listeners[t.type],r=0,s=e.length;r<s;r++)i(e[r]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,e,r;return i(this,n),e=this,(t=!(r=u(n).call(this))||"object"!=typeof r&&"function"!=typeof r?a(e):r).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),r(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return r(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(Ig=Ng)&&Ig.__esModule&&l.prototype.hasOwnProperty.call(Ig,"default")&&Ig.default,Ng.AbortSignal;var Dg=Ng.AbortController,Cg=L_.DOMException;try{new Cg}catch(t){(Cg=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Cg.prototype.constructor=Cg}var xg=Dg;function Og(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Pg(t,n,i){return new ze(function(e,r){if(n.signal.aborted)return t.catch(Z_),r(Bg());var s=function(){n.signal.removeEventListener("abort",s),r(Bg())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()})})}function Bg(){return new Cg("Aborted","AbortError")}var Lg,Mg="moz-chunked-arraybuffer";function Ug(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Lg||(Lg={}));var Fg=function(){function t(t,n){var i=this;this.xv=!1,this.yv=t,this.Ov=n,this.Pv=new p,this.Bv=new ze(function(t,n){i.Lv=t,i.Mv=n})}return t.prototype.send=function(){var t=this;return this.Uv().then(function(n){return t.Fv(n,t.Ov),t.Bv})},t.prototype.Uv=function(){var t=this.yv;return t.Sv===dg.Ev?t.arrayBuffer():ze.resolve(t.Iv)},t.prototype.Hv=function(t){this.yv.onprogress&&this.yv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.zv=function(t){this.Mv(t)},t.prototype.Vv=function(){this.zv(new d("Network request failed"))},t.prototype.Wv=function(){this.zv(new d("Network request failed"))},t.prototype.Xv=function(){this.zv(Bg())},t.prototype.Fv=function(t,n){var i=this,e=this.yv,r=this.Pv,s=function(){return i.qv()};if(e.signal.aborted)return this.Xv();r.onreadystatechange=function(){if(r.readyState>=Lg.HEADERS_RECEIVED&&!i.xv){var t=function(t){var n=new j_;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),e=i.shift().trim();if(e){var r=i.join(":").trim();n.append(e,r)}}),n}(r.getAllResponseHeaders()||""),n={status:r.status,statusText:r.statusText,headers:t,url:r.responseURL||t.get("X-Request-URL")};i.xv=!0,i.Gv(n)}},r.onprogress=function(t){return i.Hv(t)},r.onload=function(){return i.Qv()},r.onerror=function(){return i.Vv()},r.ontimeout=function(){return i.Wv()},r.onabort=function(){return i.Xv()},r.open(e.method,e.url,!0),r.withCredentials="include"===e.credentials,"responseType"in r&&n&&(r.responseType=n),e.headers.forEach(function(t,n){r.setRequestHeader(n,t)}),e.signal.addEventListener("abort",s),r.onloadend=function(){e.signal.removeEventListener("abort",s)},t?r.send(t):r.send()},t.prototype.qv=function(){this.Xv(),this.Pv.abort()},t}(),Hg=function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.Yv=void 0,e.jv=void 0,e}return B_(n,t),n.prototype.Gv=function(t){var n=this;this.Yv=new ze(function(t,i){n.jv=t,n.Zv=i}),this.Lv(new Rg(this.Yv,t))},n.prototype.Qv=function(){var t=this.Pv.response;if(null==t){var n=this.Ov;""===n||"text"===n?t=this.Pv.responseText:"document"===n?t=this.Pv.responseXML:"arraybuffer"===n?t=new ArrayBuffer(0):"blob"===n&&(t=M_([]))}this.jv(t)},n.prototype.zv=function(n){t.prototype.zv.call(this,n),this.Zv&&this.Zv(n)},n}(Fg),zg=function(t){function n(n){var i=t.call(this,n,Mg)||this;return i.Jv=void 0,i.$v=void 0,i.Kv=!1,i}return B_(n,t),n.prototype.Gv=function(t){var n=this;this.Jv=new U_({start:function(t){n.$v=t},cancel:function(){n.Kv=!0,n.qv()}}),this.Lv(new Rg(this.Jv,t))},n.prototype.Hv=function(n){this.Kv||this.$v.enqueue(new y(this.Pv.response)),t.prototype.Hv.call(this,n)},n.prototype.Qv=function(){this.$v.close()},n.prototype.zv=function(n){t.prototype.zv.call(this,n),this.$v&&!this.Kv&&(this.Kv=!0,this.$v.error(n))},n}(Fg),Vg=function(){var t=q_.firefox&&Ug(Mg);return Vg=function(){return t},t},Wg=function(){var t;return t=q_.arrayBuffer&&Ug("arraybuffer")?"arraybuffer":q_.blob&&Ug("blob")?"blob":"",Wg=function(){return t},t};function Xg(t){return(q_.stream&&Vg()?new zg(t):new Hg(t,Wg())).send()}var qg=L_.fetch,Gg=L_.Request;L_.Response;var Qg=L_.AbortController;var Yg=["http:","https:"];var jg=function(){try{if(q_.streamRequest){var t=new Gg("about:blank",{body:"",method:"POST"}).body;if(t&&H_(t.constructor))return t.constructor}}catch(t){}}();function Zg(t,n,i){var e;if(q_.stream){var r=void 0;if(q_.streamResponse){var s=t.body;r=s&&V_(U_,s)}else r=X_(U_,function(){return Pg(t.arrayBuffer(),n,!0)},function(){n.abort()});r&&i&&(r=function(t,n,i){var e=0;return function(t,n,i){return new t(new z_(n.getReader(),i),{highWaterMark:0})}(U_,t,function(t){var r=t.done,s=t.value;r?i=void 0===i?e:i:e+=s.byteLength,n(e,i)})}(r,i,Jg(t.headers))),e=r}else{var u=Pg(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return ze.resolve().then(function(){return n(0,i),t}).then(function(t){var e=t.byteLength;return n(e,i=void 0===i?e:i),t})}(u,i,Jg(t.headers))),e=u}return new Rg(e,t)}function Jg(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function $g(t){var n=new xg;return t.signal&&Og(n,t.signal),function(t,n){var i,e,r=t;if(i=r.Sv===dg.Ev?q_.streamRequest&&jg?ze.resolve(V_(jg,r.Rv)):Pg(t.arrayBuffer(),n,!1):Pg(ze.resolve(t.Iv),n,!1),q_.abort){var s=new Qg;Og(s,n.signal),e=s.signal}return i.then(function(n){return new Gg(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof j_?i:new j_(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:e});var i})}(t,n).then(function(i){return qg(i).then(function(i){return Zg(i,n,t.onprogress)})})}var Kg=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var tw=function(t){function n(i,e){var r,s,u,o,h,a,c,f,v,l=this,_=(e=e||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");r=i.url,s=i.credentials,e.headers||(u=new j_(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.Iv||(_=i.Iv,i.bodyUsed=!0)}else r=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!e.headers&&u||(u=new j_(e.headers)),e&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=r,l.headers=u,l.credentials=e.credentials||s,l.method=function(t){var n=t.toUpperCase();return Kg.indexOf(n)>-1?n:t}(e.method||o),l.mode=e.mode||h,l.signal=e.signal||f||(new xg).signal,l.referrer=void 0!==e.referrer?e.referrer:a,l.referrerPolicy=void 0!==e.referrerPolicy?e.referrerPolicy:c,l.onprogress=e.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return B_(n,t),n.prototype.clone=function(){return new n(this,{body:Tg(this)})},n}(Sg),nw="function"==typeof qg&&q_.stream&&q_.streamResponse&&q_.url;function iw(t,n){return new ze(function(i){var e=new tw(t,n);i((nw&&function(t){try{return Yg.indexOf(new L_.URL(t,L_.location.href).protocol)>=0}catch(t){return!1}}(e.url)?$g:Xg)(e))})}iw.polyfill=!0;var ew=function(){function t(t){this.pv=void 0,this.yv=void 0,this.Fc=new Fs,this.kv=void 0,this.td=!1,this.yv=t,this.Fc.xr(t.Pr),this.pv=this.nd()}var n=t.prototype;return n.nd=function(){var t,n,e,r,s,u,o,a,c=this;return Er.async(function(f){for(;;)switch(f.prev=f.next){case 0:(t=this.yv).nv&&h(function(){c.td=!0,c.Fc.Cr()},t.nv),f.prev=2,n=iw(t.Mf,{method:t.tv,headers:t.Cf.Xa(),body:t.yf,credentials:t.sv?"include":"same-origin",signal:uw(this.Fc.Pr),onprogress:t.uv}),f.next=9;break;case 6:throw f.prev=6,f.t0=f.catch(2),new C_(t,f.t0);case 9:return f.prev=9,f.next=12,Er.awrap(n);case 12:e=f.sent,f.next=20;break;case 15:throw f.prev=15,f.t1=f.catch(9),zs(r=this.ed(f.t1))&&this.Fc.Cr(),r;case 20:if(s=e.url||t.Mf,u=0===e.status&&"file:"===(v=s,i.Ce(v).protocol)?200:e.status,o=new rw(this,e,this.Fc),a=new k_({ai:o,Bf:t,xf:t.xf,Cf:new Gc(e.headers.asList()),Df:u,Of:e.statusText,Lf:s}),this.kv=a,!__(a)){f.next=29;break}return f.abrupt("return",a);case 29:throw new x_(a);case 30:case"end":return f.stop()}var v},null,this,[[2,6],[9,15]],ze)},n.ed=function(t){return zs(t)?this.td?new O_(this.yv):new Hs(t.message,t):this.kv?new x_(this.kv,t):new C_(this.yv,t)},t}(),rw=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rd=void 0,r.sd=void 0,r.Fc=void 0,r.Af=new Ro,r.rd=n,r.sd=i,r.Fc=e,r.Af.Ss.catch(Z),r}S(n,t);var i=n.prototype;return i.Sf=function(){return this.Af.Ss},i.lf=function(t){return this.Ef(this.sd.text(),t)},i.gf=function(t){return this.Ef(this.sd.arrayBuffer(),t)},i.wf=function(){var t=this.sd.body;return t?this.Rf(t):Kl(this.gf().then(Jl),this.Fc)},i.If=function(){var t=this.sd.clone(),i=this.Fc.Or(),e=i[0],r=i[1];return this.Fc=e,new n(this.rd,t,r)},i.Ef=function(t,n){var i=this;n&&this.Fc.xr(n);var e=ze.resolve(t).catch(function(t){throw i.rd.ed(t)});return e=Gs(e,this.Fc),this.Af.Is(e.then(Z)),e},i.Rf=function(t){var n=this,i=new Ll,e=ze.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var e=n.rd.ed(t);throw i.writable.abort(e).catch(Z),e});return e=Gs(e,this.Fc),this.Af.Is(e.then(Z)),i.readable},A(n,[{key:"Nf",get:function(){return this.sd.bodyUsed}}]),n}(r_),sw="abort";function uw(t){var n=new xg;if(t.yr)n.abort();else if(!t.kr){var i=function(){e(),n.abort()},e=function e(){n.signal.removeEventListener(sw,i),t.Rr(i),t.Nr(e)};n.signal.addEventListener(sw,i),t.Er(i),t.Ir(e)}return n.signal}function ow(t,n,i){return new ze(function(e,r){if(i&&i.yr)return r(new Hs);var s=function(t){o(),e(t)},u=function(){o(),r(new Hs)},o=function(){t.removeEventListener(n,s),i&&i.Rr(u)};t.addEventListener(n,s),i&&i.Er(u)})}var hw,aw,cw=function(){function t(){}var n=t.prototype;return n.Bf=function(t){return new ew(t).pv},n.ov=function(t){if(ve&&ve.sendBeacon)ve.sendBeacon(t.Mf,Vc([t.yf],{type:t.mf}));else{var n=t.mf?{"Content-type":t.mf}:void 0;Zs(this.Bf(new p_({tv:g_.POST,Mf:t.Mf,yf:t.yf,Cf:n})))}},n.hv=function(){},t}();hw=new(function(n){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(i=n.call.apply(n,[this].concat(r))||this).ud=void 0,i.od=function(){if(L.Yt)return!1;try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.hd=L.yn,i.fd=void 0,i}return S(i,n),A(i,[{key:"Te",get:function(){return this.ud||(this.ud=new ks(Uc())),this.ud}},{key:"vd",get:function(){return this.od}},{key:"dd",get:function(){return this.hd}},{key:"ld",get:function(){return!1}},{key:"_d",get:function(){return Hc.ea()}},{key:"gd",get:function(){return{wd:Wc}}},{key:"md",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"yd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"kd",get:function(){return this.fd||(this.fd=new A_(new cw)),this.fd}}]),i}(Ar)),i=hw,function(t){t.pd="bd",t.Ad="Td"}(aw||(aw={})),aw.pd,aw.Ad;var fw=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Sd=void 0,e}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),n}(ru);function vw(t){return Boolean(t&&t.Ed)}var dw,lw=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(fw),_w=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n}(ru),gw=function(t){function n(n){var i;return(i=t.call(this,aw.pd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new ww(this.Id.Ed)},n}(lw),ww=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return S(n,t),n}(_w),mw=function(t){function n(n){var i;return(i=t.call(this,aw.Ad)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new yw(this.Id.Ed)},n}(lw),yw=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return S(n,t),n}(_w);!function(t){t.Nd="Dd",t.Cd="xd",t.Od="Pd",t.Bd="Ld",t.Md="Ud",t.Fd="Hd",t.zd="Vd",t.Wd="Xd",t.qd="Zo",t.Gd="Qd",t.Yd="jd",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(dw||(dw={}));var kw=function(t){function n(){var n;return(n=t.call(this)||this).Zd=[],n.Sd=void 0,n}S(n,t);var i=n.prototype;return i.Jd=function(t){return this.Zd[t]},i.$d=function(t){return!(!t||Os(this.Zd,t))&&(this.Zd.push(t),this.Sd&&this.Sd.push(t.Ed),t.Hr(dw.Fd,this.Ur),this.Fr(new gw(t)),!0)},i.Kd=function(t){if(!t)return!1;var n=this.Zd.indexOf(t);return!(n<0)&&(xs(this.Zd,n),this.Sd&&xs(this.Sd,n),t.Xr(dw.Fd,this.Ur),this.Fr(new mw(t)),!0)},i.tl=function(t){return Os(this.Zd,t)},i.nl=function(){for(var t=this.Zd,n=t.length-1;n>=0;n-=1)this.Kd(t[n])},i.hv=function(){this.nl(),this.Wr()},A(n,[{key:"il",get:function(){return this.Zd}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"sl",get:function(){return this.Zd.length}}]),n}(iu),pw=function(t){function n(n){var i;return(i=t.call(this,dw.Fd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new bw(this.Id.Ed)},n}(lw),bw=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return S(n,t),n}(_w),Aw=function(t){function n(){var n;return(n=t.call(this)||this).ul=void 0,n.ol=function(t){var i=t.Id;n.$d(i)},n.hl=function(t){var i=t.Id;n.Kd(i)},n}S(n,t);var i=n.prototype;return i.al=function(t){t.Hr(aw.pd,this.ol),t.Hr(aw.Ad,this.hl)},i.cl=function(t){t.Xr(aw.pd,this.ol),t.Xr(aw.Ad,this.hl)},i.hv=function(){this.ul&&this.ul.hv(),t.prototype.hv.call(this)},A(n,[{key:"fl",get:function(){return this.ul},set:function(t){var n=this.ul;if(t!==n){if(n){this.cl(n);for(var i=0,e=n.il;i<e.length;i++){var r=e[i];t&&t.tl(r)||this.Kd(r)}}if(this.ul=t,t){for(var s=[],u=0,o=t.il;u<o.length;u++){var h=o[u];this.$d(h),this.vl(h)&&s.push(h)}this.al(t);for(var a=0;a<s.length;a++){var c=s[a];c.Fr(new pw(c))}}}}}]),n}(kw),Tw=l.freeze||J;function Sw(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Ew(t,n){for(var i=0,e=l.getOwnPropertyNames(n);i<e.length;i++){var r=e[i];l.defineProperty(t,r,l.getOwnPropertyDescriptor(n,r))}return t}function Rw(t){if(X(t)){var n={};for(var i in t)M.call(t,i)&&(n[i]=Rw(t[i]));return n}if(z(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)r in t&&(e[r]=Rw(t[r]));return e}return t}function Iw(t,n){return t===n||!(!t||!n)&&(!(!W(t)||!W(n))&&(V(t)?!!V(n)&&function(t,n){var i=t.length,e=n.length;if(i!==e)return!1;for(var r=0;r<i;r+=1)if(!Iw(t[r],n[r]))return!1;return!0}(t,n):!V(n)&&function(t,n){var i=l.keys(t),e=l.keys(n);if(!i||!e||i.length!==e.length)return!1;for(var r=0;r<i.length;r++){var s=i[r];if(!M.call(n,s)||!Iw(t[s],n[s]))return!1}return!0}(t,n)))}function Nw(t,n){return t.constructor===n.constructor}function Dw(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i],s=t[r];null!=s&&(n[r]=s)}return n}function Cw(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function xw(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Ow(t){var n=xw(t);if(m(n))throw new v("Expected a valid number.");return n}function Pw(t){return"string"==typeof t?t:""}function Bw(t,n){if(!V(t))return[];for(var i=0|t.length,e=new Array(i),r=0;r<i;r++)e[r]=n(t[r]);return e}function Lw(t,n){return V(t)?Bw(t,n):n(t)}var Mw=[aw.pd,aw.Ad,dw.Fd];function Uw(t){var n,i=t.il.map(function(t){return t.Ed});return i.item=function(n){var i=0|n,e=t.Jd(i);return e&&e.Ed||void 0},i.addEventListener=function(t,i){n.Hr(t,i)},i.removeEventListener=function(t,i){n.Xr(t,i)},n=new eu(i),t.Hr(Mw,function(t){return n.Fr(t.Ed)}),i}function Fw(){}function Hw(t){var n,i=[dw.qd,dw.Fd,dw.Gd,dw.Yd,dw.QUALITY_UNAVAILABLE],e={get activeQuality(){return t.dl&&t.dl.Ed},get enabled(){return t.ll},set enabled(n){t.ll=Cw(n)},get id(){return t._l},get uid(){return t.gl},get kind(){return t.wl},get label(){return t.ml},set label(n){t.ml=Pw(n)},get language(){return t.yl},get qualities(){return t.kl.Ed},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],e=0,r=t.kl.il;e<r.length;e++)for(var s=r[e],u=0;u<n.length;u++){var o=n[u];s.Ed===o&&i.push(s)}return i}(t,z(n)?n:[n]):[]).length>0?t.pl=i:t.pl=void 0},get targetQuality(){if(t.pl)return 1===t.pl.length?t.pl[0].Ed:t.pl.map(function(t){return t.Ed})},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(e),t.Hr(i,function(t){return n.Fr(t.Ed)}),l.defineProperty(e,"constructor",{value:Fw}),e}function zw(){}function Vw(t){var n=Uw(t);return l.defineProperty(n,"constructor",{value:zw}),n}var Ww,Xw,qw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Rd=function(){return Vw(this)},i.vl=function(t){return t.ll},n}(Aw);function Gw(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Ww.bl:case Ww.Al:case Ww.Tl:return n}}else if("number"==typeof t)switch(t){case 0:return Ww.bl;case 1:return Ww.Al;case 2:return Ww.Tl}return Ww.bl}function Qw(){}function Yw(t){var n,i=[dw.Fd,dw.qd,dw.Nd,dw.Cd,dw.Od,dw.Bd,dw.Md,dw.zd,dw.Wd],e=[Xw.Sl],r={get kind(){return t.wl},get label(){return t.ml},set label(n){t.ml=Pw(n)},get language(){return t.yl},get id(){return t._l},get uid(){return t.gl},get inBandMetadataTrackDispatchType(){return t.El},get mode(){return t.Rl},set mode(n){n!==Ww.Tl&&n!==Ww.Al&&n!==Ww.bl||t.Il(n)},get forced(){return Boolean(t.Nl)},get type(){return t.nr},get readyState(){return Jw(t.Dl)},get cues(){return t.Rl===Ww.bl?null:t.Cl.Ed},get activeCues(){return t.Rl===Ww.bl?null:t.xl.Ed},get src(){return t.Ol||""},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(t),t.Hr(i,function(t){return n.Fr(t.Ed)}),t.Hr(e,function(t){return n.Fr(t)}),l.defineProperty(r,"constructor",{value:Qw}),r}function jw(){}function Zw(t){var n=Uw(t);return l.defineProperty(n,"constructor",{value:jw}),n}function Jw(t){return t}!function(t){t.bl="disabled",t.Al="hidden",t.Tl="showing"}(Ww||(Ww={})),function(t){t.Sl="error"}(Xw||(Xw={}));var $w=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Rd=function(){return Zw(this)},i.vl=function(t){return t.Rl===Ww.Tl},n}(Aw),Kw=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Vr=function(n){t.prototype.Vr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},n}(iu),tm=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(Kw),nm=function(t){function n(){return t.call(this,Xc._a)||this}return S(n,t),n}(ru),im=function(t){function n(n){var i;return(i=t.call(this,Xc.ca)||this).currentSource=n,i}return S(n,t),n}(ru),em=function(){function t(){}return t.Pl=function(n,i){var e=t.Bl(n,i);return e?t.Ll(e):0},t.Ml=function(){return i.md||"default"},t.Ul=function(){return i.yd||"unknown"},t.Bl=function(n,e){var r,s=null==(r=i._d)?void 0:r.cs(e),u=s&&JSON.parse(s);if(u&&u[n])return t.Fl(u,n,e)},t.Ll=function(t){var n=t.availableBandwidth;return n||0},t.Fl=function(n,i,e){if(!t.Hl(n,i))return n[i];t.zl(n,i,e)},t.zl=function(t,n,e){var r;delete t[n],null==(r=i._d)||r.ia(e,JSON.stringify(t))},t.Hl=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var e=new Date(i),r=(new Date).getTime();return e.setMonth(e.getMonth()+1)<=r},t.Vl=function(t,n,i,e){var r;return Rr({},t,((r={})[n]={availableBandwidth:i,storedTimestamp:e},r))},t.Wl=function(n){var i=t.Ml();t.Xl(i,"theoplayer-stored-network-info",n,zt())},t.Xl=function(n,e,r,s){var u,o,h=null==(u=i._d)?void 0:u.cs(e),a=h?JSON.parse(h):void 0,c=t.Vl(a,n,r,s);null==(o=i._d)||o.ia(e,JSON.stringify(c))},t.ql=function(){var n=t.Ml();return t.Pl(n,"theoplayer-stored-network-info")},t}();var rm,sm,um,om,hm,am,cm="1ADD53F3";function fm(t){return{chromecast:function(t){return{appID:t&&t.appID?Pw(t.appID):cm}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return rm.AUTO;case"manual":return rm.MANUAL;case"disabled":return rm.DISABLED;default:return rm.MANUAL}}(t?t.strategy:void 0)}}function vm(t){var n,i=um.Gl;return(n=t)&&us(n,"mpd")&&(i=um.Ql),function(t){return!!t&&us(t,"m3u8")}(t)&&(i=um.Yl),i}function dm(t){return!!t&&os(t.toLowerCase(),um.Ql)}function lm(t){if(!t)return!1;var n=t.toLowerCase();return os(n,um.Yl)||os(n,um.jl)}function _m(t){return W(t)&&W(t.ssai)&&"google-dai"===t.ssai.integration}function gm(t){return W(t)&&q(t.integration)&&"verizon-media"===t.integration}function wm(t){if(q(t))return!t;if(gm(t))return!t.id;if(_m(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,e="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&e)}return!t.src}function mm(t){return Boolean(W(t)&&q(t.src))}function ym(t){return q(t)||mm(t)||_m(t)||gm(t)}function km(t){if(t){if(ym(t))return wm(t);for(var n=0;n<t.length;n++){if(!wm(t[n]))return!1}return!0}return!0}function pm(){return{crossOrigin:sm.Zl,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0,abr:void 0,lcevc:void 0}}function bm(){return Rr({},pm(),{src:void 0,type:um.Gl,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function Am(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:om.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return hm.NONE;case"midroll-and-postroll":default:return hm.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Cw(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return om.INSECURE;case"disabled":return om.DISABLED;case"enabled":default:return om.ENABLED}}(t.vpaidMode)),z(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(q)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Cw(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Tm(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];X(r)&&n.push(r)}return n}function Sm(t){return q(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(rm||(rm={})),function(t){t.Zl="",t.Jl="anonymous",t.$l="use-credentials"}(sm||(sm={})),function(t){t.Ql="application/dash+xml",t.Yl="application/vnd.apple.mpegurl",t.jl="application/x-mpegurl",t.Gl="video/mp4",t.Kl="application/vnd.theoplayer.hesp+json",t.t_="application/vnd.theo.hesp+json"}(um||(um={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(om||(om={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(hm||(hm={})),function(t){t[t.n_=0]="n_",t[t.i_=1]="i_",t[t.e_=2]="e_",t[t.r_=3]="r_",t[t.s_=4]="s_"}(am||(am={}));var Em,Rm=function(t){function n(n,i){var e;return void 0===i&&(i=am.n_),(e=t.call(this,Xc.da)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Im=function(t){function n(n){var i;return(i=t.call(this,Xc.ba)||this).currentTime=n,i}return S(n,t),n}(ru),Nm=function(t){function n(n){var i;return(i=t.call(this,Xc.Aa)||this).currentTime=n,i}return S(n,t),n}(ru);!function(t){t.u_="canplay",t.o_="canplaythrough",t.h_="loadeddata",t.a_="loadedmetadata",t.zd="readystatechange",t.c_="waiting",t.f_="playing"}(Em||(Em={}));var Dm,Cm,xm=[Em.u_,Em.o_,Em.h_,Em.a_,Em.zd,Em.c_,Em.f_],Om=function(t){function n(n,i){var e;return void 0===i&&(i=am.i_),(e=t.call(this,Em.a_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Pm=function(t){function n(n){var i;return(i=t.call(this,Xc.va)||this).duration=n,i}return S(n,t),n}(ru),Bm=function(t){function n(n,i){var e;return(e=t.call(this,Xc.Sa)||this).currentTime=n,e.playbackRate=i,e}return S(n,t),n}(ru),Lm=function(t){function n(n,i){var e;return(e=t.call(this,Xc.La)||this).currentTime=n,e.currentProgramDateTime=i,e}return S(n,t),n}(ru),Mm=function(t){function n(n){var i;return(i=t.call(this,Xc.la)||this).currentTime=n,i}return S(n,t),n}(ru),Um=function(t){function n(n,i){var e;return void 0===i&&(i=am.e_),(e=t.call(this,Em.h_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Fm=function(t){function n(n){var i;return(i=t.call(this,Xc.Na)||this).currentTime=n,i}return S(n,t),n}(ru),Hm=function(t){function n(n){var i;return(i=t.call(this,Xc.Ia)||this).currentTime=n,i}return S(n,t),n}(ru),zm=function(t){function n(n,i){var e;return(e=t.call(this,Xc.Ma)||this).currentTime=n,e.volume=i,e}return S(n,t),n}(ru),Vm=function(t){function n(n,i){var e;return void 0===i&&(i=am.r_),(e=t.call(this,Em.u_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Wm=function(t){function n(n,i){var e;return void 0===i&&(i=am.s_),(e=t.call(this,Em.o_)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),Xm=function(t){function n(n,i){var e;return(e=t.call(this,Em.zd)||this).currentTime=n,e.readyState=i,e}return S(n,t),n}(ru),qm=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).errorObject=n,i}return S(n,t),n.prototype.Rd=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fw);function Gm(t){switch(t){case Dm.ALL:case Dm.CONTENT:return t;default:return Dm.NONE}}function Qm(t){var n,e,r,s=Rw(t||{});return s.libraryLocation&&(s.libraryLocation=S_(s.libraryLocation,!0)),s.isEmbeddable=Boolean(s.isEmbeddable),s.cast=fm(s.cast),s.ads=Am(s.ads),s.analytics=Tm(s.analytics),s.mutedAutoplay=Gm(s.mutedAutoplay),s.allowNativeFullscreen=Boolean(s.allowNativeFullscreen),s.allowMixedContent=Boolean(s.allowMixedContent),s.persistVolume=Boolean(s.persistVolume),s.liveOffset=(n=s.liveOffset,Number(n)||void 0),s.hlsDateRange=(e=s.hlsDateRange,Boolean(e)),s.retainPlaybackRateOnSourceChange=Boolean(s.retainPlaybackRateOnSourceChange),s.license=q(r=s.license)?r:void 0,s.licenseUrl=function(t){if(!t)return;try{return S_(t)}catch(t){return void i.me("Invalid 'licenseUrl', falling back to default URL")}}(s.licenseUrl),s}function Ym(t){return{v_:t.v_,d_:t.d_,l_:t.l_,ts:t.ts,__:t.__,g_:t.g_,w_:t.w_,m_:t.m_,Dl:t.Dl,y_:t.y_,k_:t.k_,p_:t.p_,b_:t.b_}}function jm(t,n,i){if(n!==i){var e=n.v_,r=n.d_,s=n.g_,u=n.w_,o=n.m_,h=n.Dl,a=n.y_;n.p_,n.k_;var c=n.b_,f=i.v_,v=i.d_,d=i.l_,l=i.__,_=i.g_,g=i.w_,w=i.m_,y=i.Dl,k=i.y_;i.p_,i.k_;var p=i.b_;h!==am.n_&&t.Fr(new Rm(f,y)),g&&!u?t.Fr(new Im(f)):!g&&u&&t.Fr(new Nm(f)),y>=am.i_&&t.Fr(new Om(f,y)),v===r||m(v)&&m(r)||t.Fr(new Pm(v)),w!==o&&t.Fr(new Bm(f,w)),f!==e&&t.Fr(new Lm(f,void 0)),d&&t.Fr(new Mm(f)),y>=am.e_&&t.Fr(new Um(f,y)),k&&!a?t.Fr(new Fm(f)):!k&&a&&t.Fr(new Hm(f)),p===c&&_===s||t.Fr(new zm(f,p)),y>=am.r_&&t.Fr(new Vm(f,y)),y>=am.s_&&t.Fr(new Wm(f,y)),y!==h&&t.Fr(new Xm(f,y)),l&&t.Fr(new qm(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Dm||(Dm={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Cm||(Cm={}));var Zm=400,Jm=.25,$m={A_:.2,T_:.45,S_:.7,E_:3,R_:sy,I_:uy},Km={A_:.4,T_:.65,S_:1,E_:3,R_:sy,I_:uy},ty={A_:.4,T_:.7,S_:.9,E_:3,R_:sy,I_:uy},ny={A_:.4,T_:.65,S_:1,E_:3,R_:sy,I_:uy},iy={A_:.5,T_:1.125,S_:1.75,E_:2.55,R_:sy,I_:uy};function ey(){var t;return t=i.Pe.te?ny:i.Pe.re?Km:i.Pe.ee?"Android"===i.Be.Le?ty:$m:iy,i.Be.Me?function(t){if(i.Be.Me){var n=(Zm+250)/1e3,e=_.max(n,t.A_),r=_.max(e+Jm,t.T_),s=_.max(r+Jm,t.S_);return{A_:e,T_:r,S_:s,E_:_.max(s+Jm,t.E_),R_:sy,I_:uy}}return t}(t):t}var ry,sy=.92,uy=1.08;function oy(t){return{goLive:function(){return t.N_()},get isLive(){return t.D_},get currentServerLiveTime(){return t.C_},get currentLatency(){return t.x_},get latency(){return t.O_},set latency(n){if(!function(t){if(!W(t))return!1;var n=t,i=F(n.target)&&"number"==typeof n.target&&F(n.windowEnd)&&"number"==typeof n.windowEnd&&F(n.windowStart)&&"number"==typeof n.windowStart&&F(n.maxOffset)&&"number"==typeof n.maxOffset,e=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&e}(n))throw new v("Invalid latency configuration");t.O_=n},get manifest(){return t.P_},get metrics(){return t.B_},addEventListener:function(n,i){t.Hr(ay(n),i)},removeEventListener:function(n,i){t.Xr(ay(n),i)}}}!function(t){t[t.bl=0]="bl",t[t.L_=1]="L_",t[t.M_=2]="M_"}(ry||(ry={}));var hy=["analytic","golive","nogolive","bufferedchange"];function ay(t){var n=Lw(t,Pw);return(q(n)?[n]:n).filter(function(t){return Os(hy,t)})}var cy,fy=function(t){function n(){var n,i;return(n=t.call(this)||this).ul=void 0,n.Sd=void 0,n.U_={windowStart:(i=ey()).A_,windowEnd:i.S_,target:i.T_,maxOffset:i.E_},n.ul=void 0,n}S(n,t);var i=n.prototype;return i.al=function(t){t.Hr(hy,this.Ur)},i.cl=function(t){t.Xr(hy,this.Ur)},i.N_=function(){var t;null==(t=this.ul)||t.N_()},i.hv=function(){this.Wr(),this.ul&&this.cl(this.ul),this.ul=void 0},A(n,[{key:"fl",get:function(){return this.ul},set:function(t){var n=this.ul;t!==n&&(n&&this.cl(n),t&&this.al(t),this.ul=t,this.ul&&(this.ul.O_=this.U_))}},{key:"Ed",get:function(){return this.Sd||(this.Sd=oy(this)),this.Sd}},{key:"C_",get:function(){var t;return null==(t=this.ul)?void 0:t.C_}},{key:"x_",get:function(){var t;return null==(t=this.ul)?void 0:t.x_}},{key:"D_",get:function(){return!!this.ul&&this.ul.D_}},{key:"O_",get:function(){return this.ul?this.ul.O_:this.U_},set:function(t){this.ul&&(this.ul.O_=t),this.U_=t}},{key:"P_",get:function(){var t;return null==(t=this.ul)?void 0:t.P_}},{key:"B_",get:function(){var t;return null==(t=this.ul)?void 0:t.B_}}]),n}(iu),vy=function(t){function n(n){var i;return(i=t.call(this)||this).ul=void 0,i.F_=[],i.H_=!1,i.z_=new qw,i.V_=new qw,i.W_=new $w,i.X_=new fy,i.q_=!1,i.G_(n),n.Vr(i.Ur),i.ul=n,i.z_.fl=n.Q_,i.V_.fl=n.Y_,i.W_.fl=n.j_,i.X_.fl=n.Z_,i}S(n,t);var i=n.prototype;return i.J_=function(){this.ul.J_()},i.K_=function(){this.ul.K_()},i.tg=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Js(this.F_.map(function(t){return t.tg()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,ze)},i.ng=function(){return this.ul.ng()},i.ig=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),i.next=3,Er.awrap(this.ul.ig(t,n));case 3:case"end":return i.stop()}},null,this,null,ze)},i.eg=function(){return this.fl.eg()},i.rg=function(){this.fl.rg()},i.sg=function(){this.fl.sg()},i.ug=function(){if(!this.H_){for(var t=0,n=this.F_;t<n.length;t++){n[t].ug()}this.H_=!0}},i.og=function(t){this.ul.og(t)},i.hg=function(){this.ul.hg()},i.ag=function(){this.ul.ag()},i.cg=function(){this.ul.cg()},i.fg=function(){return this.ul.fg()},i.vg=function(){return this.ul.vg()},i.dg=function(){for(var t=[],n=0,i=this.F_;n<i.length;n++){var e=i[n];t.push.apply(t,e.dg())}return t},i.lg=function(t){for(var n=!1,i=0,e=this.F_;i<e.length;i++){n=e[i].lg(t)||n}return n},i.Fr=function(n){this.lg(n)||t.prototype.Fr.call(this,n)},i.G_=function(t){this.F_.push(t)},i._g=function(t){Cs(this.F_,t)},i.gg=function(t){if(t!==this.ul){var n=this.ul;n.hg(),n.Qr(this.Ur);var i=Ym(this),e=this.wg,r=this.vg();this.ul=t,this.z_.fl=t.Q_,this.V_.fl=t.Y_,this.W_.fl=t.j_,this.X_.fl=t.Z_,jm(this,i,this);var s=this.wg;s!==e&&this.Fr(new im(s)),this.vg()!==r&&this.Fr(new nm),t.Vr(this.Ur),t.og(n)}},i.mg=function(){},i.hv=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.Wr(),this.ul.hg(),t=0,n=this.F_;case 3:if(!(t<n.length)){e.next=10;break}return i=n[t],e.next=7,Er.awrap(i.hv());case 7:t++,e.next=3;break;case 10:this.z_.hv(),this.V_.hv(),this.W_.hv(),this.X_.hv();case 14:case"end":return e.stop()}},null,this,null,ze)},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Js(this.F_.map(function(t){return t.nl()})).then(Z));case 1:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"yg",get:function(){return this.ul.yg}},{key:"kg",get:function(){return this.ul.kg},set:function(t){this.ul.kg=t}},{key:"wg",get:function(){return this.ul.wg}},{key:"v_",get:function(){return this.ul.v_},set:function(t){this.ul.v_=t}},{key:"d_",get:function(){return this.ul.d_}},{key:"pg",get:function(){return this.ul.pg}},{key:"l_",get:function(){return this.ul.l_}},{key:"ts",get:function(){return this.ul.ts}},{key:"__",get:function(){return this.ul.__}},{key:"Z_",get:function(){return this.X_}},{key:"bg",get:function(){return this.ul.bg}},{key:"B_",get:function(){return function(t){for(var n=0,i=0,e=0,r=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.Ag,i+=h.Tg,e+=h.Sg,r+=h.Eg,s+=h.Rg,u.amountOfBufferedAudioSegments+=h.Ig.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.Ig.amountOfBufferedVideoSegments}return{Ag:n,Tg:i,Sg:e,Eg:r,Rg:s,Ig:u}}(this.F_.map(function(t){return t.B_}))}},{key:"g_",get:function(){return this.ul.g_},set:function(t){this.ul.g_=t}},{key:"Ng",get:function(){return this.ul.Ng}},{key:"w_",get:function(){return this.ul.w_}},{key:"m_",get:function(){return this.ul.m_},set:function(t){this.ul.m_=t}},{key:"Dg",get:function(){return this.ul.Dg}},{key:"Cg",get:function(){return this.ul.Cg},set:function(t){this.ul.Cg=t}},{key:"Dl",get:function(){return this.ul.Dl}},{key:"xg",get:function(){return this.ul.xg}},{key:"y_",get:function(){return this.ul.y_}},{key:"k_",get:function(){return this.ul.k_}},{key:"p_",get:function(){return this.ul.p_}},{key:"b_",get:function(){return this.ul.b_},set:function(t){this.ul.b_=t}},{key:"Og",get:function(){return this.ul.Og}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"fl",get:function(){return this.ul},set:function(t){this.gg(t)}}]),n}(tm),dy=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=r,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return S(n,t),A(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Tc);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(cy||(cy={}));var ly=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=e,s.systemCode=r,v.captureStackTrace&&v.captureStackTrace(Yt(s),s.constructor),s}return S(n,t),A(n,[{key:"name",get:function(){return"MediaError"}}]),n}(jt);function _y(t){Sw(t,"MEDIA_ERR_ABORTED",cy.ABORTED),Sw(t,"MEDIA_ERR_NETWORK",cy.NETWORK),Sw(t,"MEDIA_ERR_DECODE",cy.DECODE),Sw(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",cy.SRC_NOT_SUPPORTED),Sw(t,"MEDIA_ERR_ENCRYPTED",cy.ENCRYPTED)}function gy(t){var i,e;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new ly(cy.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new ly(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return cy.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return cy.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return cy.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return cy.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return cy.NETWORK;if(i===n.ErrorCategory.SOURCE)return cy.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return cy.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return cy.ENCRYPTED;if(i===n.ErrorCategory.AD)return cy.ADVERTISEMENT_ERROR;return cy.DECODE}(t.code),t.message,null==(e=t.cause)?void 0:e.message)}function wy(t){switch(t){case cy.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case cy.NETWORK:return n.ErrorCode.NETWORK_ERROR;case cy.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case cy.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case cy.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case cy.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case cy.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}_y(ly),_y(ly.prototype);var my,yy=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$d=function(n){return t.prototype.$d.call(this,n)},i.Rd=function(){return Vw(this)},n}(kw);!function(t){t.Jf="audio",t.$f="video",t.On="text",t.Kf="image",t.Ff="unknown"}(my||(my={}));var ky=function(){function t(){this.Bg=[],this.Sd=void 0}var n=t.prototype;return n.Lg=function(t){this.Bg.push(t),this.Sd&&this.Sd.push(t.Ed)},n.Jd=function(t){return this.Bg[t]},n.Mg=function(t){return z(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Os(t,n[i]))return!1;return!0}(this.Bg,t):Os(this.Bg,t)},A(t,[{key:"il",get:function(){return this.Bg}},{key:"sl",get:function(){return this.Bg.length}},{key:"Ed",get:function(){var t,n;return this.Sd||(this.Sd=((n=(t=this).il.map(function(t){return t.Ed})).item=function(n){var i=0|n,e=t.Jd(i);return e&&e.Ed||void 0},n)),this.Sd}}]),t}(),py=function(t){function n(n){var i;return(i=t.call(this,dw.qd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new by(this.Id.Ed)},n}(lw),by=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return S(n,t),n}(_w),Ay=0;function Ty(){return Ay++}var Sy=0;var Ey=0;function Ry(){return Ey++}var Iy=0;function Ny(){return Iy++}var Dy=0;var Cy=function(t){function n(n){var i;return(i=t.call(this)||this).nr=my.Jf,i.Ug=void 0,i.Bo=void 0,i.Fg=void 0,i.Hg=void 0,i.zg=!1,i.Bg=void 0,i.Sd=void 0,i.Ug=n,i.Hg=Ty(),i.Bo=Dy+++"",i.Fg=n.label,i.Bg=new ky,i.Vg(),i}S(n,t);var i=n.prototype;return i.Wg=function(t){this.ll=t},i.Vg=function(){this.ll=this.Xg},A(n,[{key:"dl",get:function(){}},{key:"ll",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Fr(new pw(this)))}},{key:"Xg",get:function(){return this.Ug.enabled},set:function(t){this.Ug.enabled=t}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Hw(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return this.Ug.kind}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Ug.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"qg",get:function(){return this.Ug}},{key:"kl",get:function(){return this.Bg}},{key:"pl",get:function(){},set:function(t){}}]),n}(iu),xy=0;var Oy,Py,By,Ly=function(t){function n(n){var i;return(i=t.call(this)||this).nr=my.$f,i.Ug=void 0,i.Bo=void 0,i.Hg=void 0,i.zg=!1,i.Bg=void 0,i.Fg=void 0,i.Sd=void 0,i.Ug=n,i.Hg=Ty(),i.Bo=xy+++"",i.Bg=new ky,i.Fg=n.label,i.Vg(),i}S(n,t);var i=n.prototype;return i.Vg=function(){this.ll=this.Xg},i.Wg=function(t){this.ll=t},A(n,[{key:"dl",get:function(){}},{key:"ll",get:function(){return this.zg},set:function(t){this.zg!==t&&(this.zg=t,this.Xg=t,this.Fr(new pw(this)))}},{key:"Xg",get:function(){return!!this.Ug.selected},set:function(t){this.Ug.selected=t}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Hw(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return"main"}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Ug.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"qg",get:function(){return this.Ug}},{key:"kl",get:function(){return this.Bg}},{key:"pl",get:function(){},set:function(t){}}]),n}(iu),My=function(t){function n(n){var i;return(i=t.call(this,Xc.ra)||this).bg=n,i}return S(n,t),n}(ru);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Oy||(Oy={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(Py||(Py={})),function(t){t.Gg="cue",t.Qg="region",t.Yg="stylesheet"}(By||(By={}));var Uy,Fy={"line-left":"start",center:"middle","line-right":"end"},Hy={start:"line-left",middle:"center",end:"line-right"};function zy(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Vy(t,n){if("auto"===t)switch(n){case"left":return 0;case"right":return 100;default:return 50}return e=50,r="number"==typeof(i=t)?i:w(i),m(r)?e:r;var i,e,r}!function(t){t.jg="Zg",t.Jg="$g",t.qd="Zo"}(Uy||(Uy={}));var Wy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).Kg=i,e}return S(n,t),n}(lw),Xy=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).cue=i,e}return S(n,t),n}(_w);function qy(t){var n,i=[Uy.jg,Uy.Jg,Uy.qd],e={get track(){return t.Id.Ed},get id(){return t._l},get uid(){return t.gl},get startTime(){return t.tw},get endTime(){return t.nw},get content(){return t.iw},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(e),t.Hr(i,function(t){return n.Fr(t.Ed)}),e}function Gy(){}function Qy(t){return Ew(qy(t),{get align(){return t.ew},get line(){return t.rw},get lineAlign(){return t.sw},get position(){return t.uw},get positionAlign(){return t.ow},get region(){return t.hw?t.hw.Ed:null},get size(){return t.ls},get snapToLines(){return t.aw},get text(){return t.iw},get vertical(){return t.cw}})}var Yy=function(t){function n(n){return t.call(this,Uy.qd,n)||this}return S(n,t),n.prototype.Rd=function(){return new jy(this.Kg.Ed)},n}(Wy),jy=function(t){function n(n){return t.call(this,"update",n)||this}return S(n,t),n}(Xy),Zy=.02;function Jy(t,n){return Lt(t.tw,n.tw,Zy)&&Lt(t.nw,n.nw,Zy)&&t._l===n._l}var $y=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Hg=void 0,u.Bo=void 0,u.fw=void 0,u.vw=void 0,u.Sd=void 0,u.dw=void 0,u.lw=!1,u._w=void 0,u.gw=void 0,u.ww=-1,u.Hg=Ny(),u.fw=n,u.vw=i,u._w=e,u.gw=Boolean(r),u.Bo=null!=s?s:"",u}S(n,t);var i=n.prototype;return i.Rd=function(){return qy(this)},i.mw=function(t){return this===t||Nw(this,t)&&Jy(this,t)},i.hv=function(){this.Wr()},A(n,[{key:"tw",get:function(){return this.fw},set:function(t){this.fw!==t&&(this.fw=t,this.Fr(new Yy(this)))}},{key:"nw",get:function(){return this.vw},set:function(t){this.vw!==t&&(this.vw=t,this.Fr(new Yy(this)))}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"yw",get:function(){return this.lw},set:function(t){this.lw=t}},{key:"Id",get:function(){return this.dw},set:function(t){this.dw=t}},{key:"iw",get:function(){return this._w},set:function(t){this._w!==t&&(this._w=t,this.Fr(new Yy(this)))}},{key:"kw",get:function(){return this.gw},set:function(t){this.gw=t}}]),n}(iu);function Ky(t,n){return t.iw===n.iw&&t.rw===n.rw&&t.sw===n.sw&&t.uw===n.uw&&t.ow===n.ow&&t.hw===n.hw&&t.aw===n.aw&&t.ls===n.ls&&t.ew===n.ew&&t.cw===n.cw}var tk=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,s)||this).rw="auto",u.sw="start",u.uw="auto",u.ow="auto",u.hw=void 0,u.aw=!0,u.ls=100,u.ew="center",u.cw="",u}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&Ky(this,n)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Qy(this)),this.Sd}},{key:"nr",get:function(){return By.Gg}}]),n}($y);function nk(t){var n=j(t.rw)?t.rw:w(t.rw);return m(n)||t.aw||!(n<0||n>100)?m(n)?t.aw?-1:100:n:100}function ik(t){return Vy(t.uw,t.ew)}function ek(t){return zy(t.ow,t.ew)}function rk(t){var n,i=ek(t),e=ik(t);switch(i){case"line-left":n=100-e;break;case"line-right":n=e;break;case"center":n=e<=50?2*e:2*(100-e)}return _.min(t.ls,n)}function sk(t){return{get id(){return t._l},get identifier(){return t._l},get lines(){return t.pw},get regionAnchorX(){return t.bw},get regionAnchorY(){return t.Aw},get scrollValue(){return t.Tw},get viewportAnchorX(){return t.Sw},get viewportAnchorY(){return t.Ew},get width(){return t.Rw}}}var uk=function(){function t(t,n,i,e,r,s,u,o){this.Sd=void 0,this._l=t,this.Rw=n,this.pw=i,this.bw=e,this.Aw=r,this.Sw=s,this.Ew=u,this.Tw=o}return A(t,[{key:"Ed",get:function(){return this.Sd||(this.Sd=sk(this)),this.Sd}},{key:"nr",get:function(){return By.Qg}}]),t}(),ok=function(){function t(){}var n=t.prototype;return n.Iw=function(t){return this.Nw()*t},n.Dw=function(t){return this.Cw(t)>0},n.xw=function(t){return this.Cw(t)>=0},n.Ow=function(t,n){return this.Bw(t).Pw(n)},n.mw=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.Mw=function(){return this.Uw()?this.Fw():this},n.Hw=function(t){return this.Lg(t.Fw())},n.Bw=function(t){return this.Hw(t).Mw()},t}();function hk(t,n){return t.zw()?n.zw()?ys.gr:ys.wr:n.zw()?ys.mr:t.Vw()?n.Vw()&&t.Uw()===n.Uw()?ys.gr:t.Uw()?ys.mr:ys.wr:n.Uw()?ys.wr:ys.mr}var ak=function(){function t(t,n){this.Ww=void 0,this.Xw=void 0,this.Ww=t,this.Xw=n}t.qw=function(n,i,e){return e?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Gw=function(n){return n.unsigned?new t(n,ct.UZERO):new t(n,n.isNegative()?ct.NEG_ONE:ct.ZERO)},t.Qw=function(n,i){if(m(n))return i?t.Yw:t.jw;if(i){if(n<0)return t.Yw;if(n>=3.402823669209385e38)return t.Zw}else{if(n<=-1.7014118346046923e38)return t.Jw;if(n+1>=1.7014118346046923e38)return t.$w}return n<0?t.Qw(-n,i).Fw():t.qw(ct.fromNumber(n%0x10000000000000000),ct.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Kw=function(){return this.Xw.unsigned},n.tm=function(){return this.Ww.isZero()&&this.Xw.isZero()},n.Uw=function(){return this.Xw.isNegative()},n.nm=function(){return this.Kw()?t.qw(this.Ww,this.Xw,!1):this},n.im=function(){return this.Kw()?this:t.qw(this.Ww,this.Xw,!0)},n.rm=function(){return this.Ww},n.Nw=function(){return this.Uw()?-this.Fw().Nw():0x10000000000000000*this.Xw.toNumber()+this.Ww.toUnsigned().toNumber()},n.sm=function(){return this.Ww.toInt()},n.mw=function(t){return(this.Kw()===t.Kw()||this.Xw.getHighBits()>>>31!=1||t.Xw.getHighBits()>>>31!=1)&&(this.Xw.toUnsigned().eq(t.Xw.toUnsigned())&&this.Ww.toUnsigned().eq(t.Ww.toUnsigned()))},n.Cw=function(t){if(this.mw(t))return ys.gr;var n=this.Uw(),i=t.Uw();if(n&&!i)return ys.mr;if(!n&&i)return ys.wr;if(!this.Kw())return this.Hw(t).Uw()?ys.mr:ys.wr;var e=this.im(),r=t.im(),s=r.Xw.comp(e.Xw);return s>0||0===s&&r.Ww.gt(e.Ww)?ys.mr:ys.wr},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.um=function(t){return this.Cw(t)>0},n.om=function(t){return this.Cw(t)>=0},n.hm=function(){return new t(this.Ww.not(),this.Xw.not())},n.am=function(n){return new t(this.Ww.and(n.Ww),this.Xw.and(n.Xw))},n.cm=function(n){return new t(this.Ww.or(n.Ww),this.Xw.or(n.Xw))},n.fm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shl(i),this.Xw.shl(i).or(this.Ww.shru(64-i)),this.Kw()):t.qw(ct.ZERO,this.Ww.shl(i-64),this.Kw())},n.vm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shru(i).or(this.Xw.shl(64-i)),this.Xw.shr(i),this.Kw()):t.qw(this.Xw.shr(i-64),this.Xw.isNegative()?ct.NEG_ONE:ct.ZERO,this.Kw())},n.dm=function(n){var i=127&n;return 0===i?this:i<64?t.qw(this.Ww.shru(i).or(this.Xw.shl(64-i)),this.Xw.shru(i),this.Kw()):64===i?t.qw(this.Xw,ct.ZERO,this.Kw()):t.qw(this.Xw.shru(i-64),ct.ZERO,this.Kw())},n.Lg=function(n){var i=this.Xw.high>>>16,e=65535&this.Xw.high,r=this.Xw.low>>>16,s=65535&this.Xw.low,u=this.Ww.high>>>16,o=65535&this.Ww.high,h=this.Ww.low>>>16,a=65535&this.Ww.low,c=n.Xw.high>>>16,f=65535&n.Xw.high,v=n.Xw.low>>>16,d=65535&n.Xw.low,l=n.Ww.high>>>16,_=65535&n.Ww.high,g=n.Ww.low>>>16,w=0,m=0,y=0,k=0,p=0,b=0,A=0,T=0;A+=(T+=a+(65535&n.Ww.low))>>>16,T&=65535,b+=(A+=h+g)>>>16,A&=65535,p+=(b+=o+_)>>>16,b&=65535,k+=(p+=u+l)>>>16,p&=65535,y+=(k+=s+d)>>>16,k&=65535,m+=(y+=r+v)>>>16,y&=65535,w+=(m+=e+f)>>>16,m&=65535,w+=i+c,w&=65535;var S=this.Kw(),E=ct.fromBits(y<<16|k,w<<16|m,S),R=ct.fromBits(A<<16|T,p<<16|b,S);return t.qw(R,E,S)},n.Hw=function(t){return this.Lg(t.Fw())},n.Fw=function(){return this.hm().Lg(t.lm)},n._m=function(n){if(this.tm()||n.tm())return this.Kw()?t.Yw:t.jw;if(this.Uw())return n.Uw()?this.Fw()._m(n.Fw()):this.Fw()._m(n).Fw();if(n.Uw())return this._m(n.Fw()).Fw();if(this.Xw.isZero()&&0===this.Ww.high&&n.Xw.isZero()&&0===n.Ww.high)return t.Gw(this.Ww.multiply(n.Ww));var i=ct.fromBits(4294967295,0,!0),e=this.Ww.and(i),r=this.Ww.shru(32),s=this.Xw.and(i),u=this.Xw.shru(32),o=n.Ww.and(i),h=n.Ww.shru(32),a=n.Xw.and(i),c=n.Xw.shru(32),f=ct.UZERO,v=ct.UZERO,d=ct.UZERO,l=ct.UZERO;f=f.add(e.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(r.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(e.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(r.mul(a)).add(e.mul(c)).and(i);var _=ct.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=ct.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.qw(_,g,this.Kw())},n.gm=function(n){var i,e,r=n;if(r.tm())throw new RangeError("division by zero");if(this.tm())return this.Kw()?[t.Yw,t.Yw]:[t.jw,t.jw];if(this.Kw()){if(r.Kw()||(r=r.im()),r.um(this))return[t.Yw,this];if(r.um(this.dm(1)))return[e=t.wm,i=this.Hw(r)];e=t.Yw}else{if(this.mw(t.Jw)){if(r.mw(t.lm)||r.mw(t.mm))return[t.Jw,t.jw];if(r.mw(t.Jw))return[t.lm,t.jw];var s=this.vm(1).ym(r).fm(1);return s.mw(t.jw)?e=r.Uw()?t.lm:t.mm:(i=this.Hw(r._m(s)),e=s.Lg(i.ym(r))),[e,i=this.Hw(r._m(e))]}if(r.mw(t.Jw))return this.Kw()?[t.Yw,this]:[t.jw,this];if(this.Uw()){if(r.Uw())return this.Fw().gm(r.Fw());var u=this.Fw().gm(r);return e=u[0],i=u[1],[e.Fw(),i.Fw()]}if(r.Uw()){var o=this.gm(r.Fw());return e=o[0],i=o[1],[e.Fw(),i.Fw()]}e=t.jw}for(i=this;i.om(r);){for(var h=_.max(1,_.floor(i.Nw()/r.Nw())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.Qw(h),v=f._m(r);v.Uw()||v.um(i);)h-=c,v=(f=t.Qw(h,this.Kw()))._m(r);f.tm()&&(f=t.lm),e=e.Lg(f),i=i.Hw(v)}return[e,i]},n.ym=function(t){return this.gm(t)[0]},n.km=function(t){return this.gm(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.tm())return"0";if(this.Uw()){if(this.mw(t.Jw)){var e=t.Qw(i),r=this.ym(e),s=r._m(e).Hw(this);return r.toString(i)+s.sm().toString(i)}return"-"+this.Fw().toString(i)}for(var u=t.Qw(_.pow(i,6),this.Kw()),o=this,h="";;){var a=o.ym(u),c=(o.Hw(a._m(u)).sm()>>>0).toString(i);if((o=a).tm())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();ak.jw=ak.Gw(ct.ZERO),ak.Yw=ak.Gw(ct.UZERO),ak.lm=ak.Gw(ct.ONE),ak.wm=ak.Gw(ct.UONE),ak.mm=ak.Gw(ct.NEG_ONE),ak.$w=ak.qw(ct.NEG_ONE,ct.MAX_VALUE,!1),ak.Zw=ak.qw(ct.MAX_UNSIGNED_VALUE,ct.MAX_UNSIGNED_VALUE,!0),ak.Jw=ak.qw(ct.ZERO,ct.MIN_VALUE,!1);var ck=function(){function t(t,n){void 0===n&&(n=1),this.pm=void 0,this.bm=void 0,this.pm=t,this.bm=n}t.Am=function(n){return new t(_.ceil(n.pm),n.bm)},t.Tm=function(n){return new t(_.floor(n.pm),n.bm)},t.Sm=function(t,n){return t.xw(n)?t:n},t.Em=function(t,n){return t.Pw(n)?t:n};var n=t.prototype;return n.Lg=function(n){return this.bm>=n.bm?new t(this.pm+n.Rm(this.bm).pm,this.bm):new t(this.Rm(n.bm).pm+n.pm,n.bm)},n.Dw=function(t){return t.Lw(this)},n.xw=function(t){return t.Pw(this)},n.Bw=function(n){return this.bm>=n.bm?new t(_.abs(this.pm-n.Rm(this.bm).pm),this.bm):n.Bw(this)},n.Ow=function(t,n){return this.Bw(t).Pw(n)},n.Cw=function(t){return i=t,(n=this).bm>=i.bm?Is(n.pm,i.Rm(n.bm).pm):Is(n.Rm(i.bm).pm,i.pm);var n,i},n.mw=function(t){return 0===this.Cw(t)},n.Lw=function(t){return this.Cw(t)<0},n.Pw=function(t){return this.Cw(t)<=0},n.Rm=function(n){return new t(this.pm*(n/this.bm),n)},n.Hw=function(n){return this.bm>=n.bm?new t(this.pm-n.Rm(this.bm).pm,this.bm):new t(this.Rm(n.bm).pm-n.pm,n.bm)},n.Im=function(n){return new t(this.pm*n,this.bm)},A(t,[{key:"Vw",get:function(){return!isFinite(this.pm)}},{key:"Nm",get:function(){return this.pm/this.bm}}]),t}();ck.Dm=new ck(1/6,1),ck.jw=new ck(0),ck.Cm=new ck(1/0),ck.xm=1e6;var fk=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.bm=void 0,e.qn=n.toSigned(),e.bm=i>>>0,e}S(n,t),n.Om=function(t,i){return void 0===i&&(i=1e6),n.Qw(t*i,i)},n.Qw=function(t,i){return m(t)?n.Pm:t===1/0?n.Bm:t===-1/0?n.Lm:new n(ct.fromNumber(t),i)},n.Gw=function(t,i){return new n(t,i)},n.Mm=function(t){return n.Om(t.Nm,1e6)},n.Um=function(t){return new n(ct.fromNumber(t.getTime()),1e3)},n.Sm=function(t,n){return t.xw(n)?t:n},n.Em=function(t,n){return t.Pw(n)?t:n},n.Fm=function(t,i,e){return n.Sm(i,n.Em(e,t))};var i=n.prototype;return i.Uw=function(){return this.qn.isNegative()},i.tm=function(){return 0!==this.bm&&this.qn.isZero()},i.Vw=function(){return 0===this.bm&&!this.qn.isZero()},i.zw=function(){return 0===this.bm&&this.qn.isZero()},i.Nw=function(){if(0===this.bm)return this.qn.isZero()?NaN:this.qn.isNegative()?-1/0:1/0;var t=this.qn.divide(this.bm),n=this.qn.subtract(t.multiply(this.bm));return t.toNumber()+n.toNumber()/this.bm},i.rm=function(){if(0===this.bm)throw new v("Failed to convert timestamp");return this.qn},i.Hm=function(){return new Date(0===this.bm?NaN:this.Rm(1e3).qn.toNumber())},i.zm=function(){return new ck(0===this.bm?this.Nw():this.qn.toNumber(),this.bm)},i.Rm=function(t,i){void 0===i&&(i=lk.Vm);var e=this.bm;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t.gm(n),r=e[0],s=e[1];if(s.tm())return r;if(i===lk.Vm)return s.Uw()?r.Hw(ak.lm):r;if(i===lk.Wm)return s.Uw()?r:r.Lg(ak.lm);var u=s._m(ak.Qw(2));return u.Uw()?u.Fw().Lw(n)?r:r.Hw(ak.lm):u.Lw(n)?r:r.Lg(ak.lm)}(ak.Gw(this.qn)._m(ak.Qw(t/r)),ak.Qw(e/r),i).rm(),t)},i.Cw=function(t){if(this===t)return ys.gr;if(0===this.bm||0===t.bm)return hk(this,t);if(this.tm())return t.tm()?ys.gr:t.Uw()?ys.wr:ys.mr;if(t.tm())return this.Uw()?ys.mr:ys.wr;var n=_.min(this.bm,t.bm),i=this.Rm(n,lk.Xm).qn,e=t.Rm(n,lk.Xm).qn;return i.compare(e)},i.Fw=function(){return 0===this.bm?vk(this):new n(this.qn.negate(),this.bm)},i.Lg=function(t){if(0===this.bm||0===t.bm)return dk(this,t);if(this.tm())return t;if(t.tm())return this;var i=_.max(this.bm,t.bm),e=this.Rm(i,lk.Xm),r=t.Rm(i,lk.Xm);return new n(e.qn.add(r.qn),i)},i._m=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw()||!isFinite(t)){if(this.tm()||0===t)return n.Pm;var i=this.Uw()?n.Lm:n.Bm;return t<0?i.Fw():i}return this.tm()?this:new n(0===t?ct.ZERO:this.qn.multiply(t),this.bm)},i.ym=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.Pm;if(!isFinite(t))return new n(ct.ZERO,this.bm);if(this.tm())return 0===t?n.Pm:new n(ct.ZERO,this.bm);if(0===t){var i=this.Uw()?n.Lm:n.Bm;return 1/t<0?i.Fw():i}return new n(this.qn.divide(t),this.bm)},i.qm=function(){return[this.qn.low,this.qn.high,this.bm]},n}(ok);function vk(t){return t.zw()?t:t.Uw()?fk.Bm:fk.Lm}function dk(t,n){return t.zw()||n.zw()?fk.Pm:t.Vw()&&n.Vw()?t.Uw()===n.Uw()?t:fk.Pm:t.Vw()?t:n}fk.jw=new fk(ct.ZERO,1e6),fk.Pm=new fk(ct.ZERO,0),fk.Bm=new fk(ct.ONE,0),fk.Lm=new fk(ct.NEG_ONE,0);var lk,_k=function(t){function n(n,i){var e;return(e=t.call(this)||this).qn=void 0,e.bm=void 0,e.qn=BigInt.asIntN(64,n),e.bm=i>>>0,e}S(n,t),n.Om=function(t,i){return void 0===i&&(i=1e6),n.Qw(t*i,i)},n.Qw=function(t,i){return m(t)?n.Pm:t===1/0?n.Bm:t===-1/0?n.Lm:new n(BigInt(_.floor(t)),i)},n.Gw=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Mm=function(t){return n.Om(t.Nm,1e6)},n.Um=function(t){return n.Qw(t.getTime(),1e3)},n.Sm=function(t,n){return t.xw(n)?t:n},n.Em=function(t,n){return t.Pw(n)?t:n},n.Fm=function(t,i,e){return n.Sm(i,n.Em(e,t))};var i=n.prototype;return i.Uw=function(){return this.qn<BigInt(0)},i.tm=function(){return 0!==this.bm&&this.qn===BigInt(0)},i.Vw=function(){return 0===this.bm&&this.qn!==BigInt(0)},i.zw=function(){return 0===this.bm&&this.qn===BigInt(0)},i.Nw=function(){if(0===this.bm)return this.qn===BigInt(0)?NaN:this.qn<BigInt(0)?-1/0:1/0;var t=this.qn/BigInt(this.bm),n=this.qn-t*BigInt(this.bm);return Number(t)+Number(n)/this.bm},i.rm=function(){if(0===this.bm)throw new v("Failed to convert timestamp");return this.Gm()},i.Gm=function(){var t=this.qn&BigInt(4294967295),n=this.qn>>BigInt(32)&BigInt(4294967295);return ct.fromBits(Number(t),Number(n))},i.Hm=function(){return new Date(0===this.bm?NaN:Number(this.Rm(1e3).qn))},i.zm=function(){return new ck(0===this.bm?this.Nw():Number(this.qn),this.bm)},i.Rm=function(t,i){void 0===i&&(i=lk.Vm);var e=this.bm;if(e===t)return this;if(0===e)return this;var r=Ht(e,t);return new n(function(t,n,i){var e=t/n,r=t-e*n;if(r===BigInt(0))return e;if(i===lk.Vm)return r<BigInt(0)?e-BigInt(1):e;if(i===lk.Wm)return r<BigInt(0)?e:e+BigInt(1);var s=r*BigInt(2);return s<BigInt(0)?-s<n?e:e-BigInt(1):s<n?e:e+BigInt(1)}(this.qn*BigInt(t/r),BigInt(e/r),i),t)},i.Cw=function(t){if(this===t)return ys.gr;if(0===this.bm||0===t.bm)return hk(this,t);if(this.tm())return t.tm()?ys.gr:t.Uw()?ys.wr:ys.mr;if(t.tm())return this.Uw()?ys.mr:ys.wr;var n=_.min(this.bm,t.bm),i=this.Rm(n,lk.Xm).qn,e=t.Rm(n,lk.Xm).qn;return i>e?ys.wr:i<e?ys.mr:ys.gr},i.Fw=function(){return 0===this.bm?gk(this):new n(-this.qn,this.bm)},i.Lg=function(t){if(0===this.bm||0===t.bm)return wk(this,t);if(this.tm())return t;if(t.tm())return this;var i=_.max(this.bm,t.bm),e=this.Rm(i,lk.Xm),r=t.Rm(i,lk.Xm);return new n(e.qn+r.qn,i)},i._m=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw()||!isFinite(t)){if(this.tm()||0===t)return n.Pm;var i=this.Uw()?n.Lm:n.Bm;return t<0?i.Fw():i}return this.tm()?this:new n(0===t?BigInt(0):this.qn*BigInt(t),this.bm)},i.ym=function(t){if(this.zw()||m(t))return n.Pm;if(this.Vw())return isFinite(t)?0===t?1/t<0?this.Fw():this:t<0?this.Fw():this:n.Pm;if(!isFinite(t))return new n(BigInt(0),this.bm);if(this.tm())return 0===t?n.Pm:new n(BigInt(0),this.bm);if(0===t){var i=this.Uw()?n.Lm:n.Bm;return 1/t<0?i.Fw():i}return new n(this.qn/BigInt(t),this.bm)},i.qm=function(){var t=this.Gm();return[t.low,t.high,this.bm]},A(n,null,[{key:"jw",get:function(){return n.Qm||(n.Qm=new n(BigInt(0),1e6)),n.Qm}},{key:"Pm",get:function(){return n.Ym||(n.Ym=new n(BigInt(0),0)),n.Ym}},{key:"Bm",get:function(){return n.jm||(n.jm=new n(BigInt(1),0)),n.jm}},{key:"Lm",get:function(){return n.Zm||(n.Zm=new n(BigInt(-1),0)),n.Zm}}]),n}(ok);function gk(t){return t.zw()?t:t.Uw()?_k.Bm:_k.Lm}function wk(t,n){return t.zw()||n.zw()?_k.Pm:t.Vw()&&n.Vw()?t.Uw()===n.Uw()?t:_k.Pm:t.Vw()?t:n}_k.Qm=void 0,_k.Ym=void 0,_k.jm=void 0,_k.Zm=void 0,function(t){t[t.Vm=0]="Vm",t[t.Wm=1]="Wm",t[t.Xm=2]="Xm"}(lk||(lk={}));var mk=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?_k:fk;function yk(t,n){return t.Cw(n)}function kk(t){return mk.Gw(ct.fromBits(t[0],t[1],!1),t[2])}var pk=9e4,bk=_.pow(2,33),Ak=mk.Qw(bk,pk),Tk=Ak.ym(2);function Sk(t){return null!=t&&!t.zw()}function Ek(t,n){return t.Vw()||n.Vw()?mk.Sm(t,n):Nk(t,n).Dw(mk.jw)?t:n}function Rk(t,n){var i=t.Hw(n);return i.Lw(mk.jw)&&(i=i.Lg(Ak)),i}function Ik(t,n){var i=t.Lg(n);return i.xw(Ak)&&(i=i.Hw(Ak)),i}function Nk(t,n){var i=t.Hw(n);return t.Vw()||n.Vw()?i:(i.xw(Tk)?i=i.Hw(Ak):i.Lw(Tk.Fw())&&(i=i.Lg(Ak)),i)}function Dk(t,n){if(t||n)return t?n?mk.Em(t,n):t:n}function Ck(t,n){if(t||n)return t?n?mk.Sm(t,n):t:n}var xk,Ok,Pk,Bk,Lk={Jm:0,$m:1/0,Km:0},Mk=6,Uk=["WEBVTT","WEBVTT ","WEBVTT\t","WEBVTT\n"],Fk=[" ","\t","\n","\f","\r"],Hk=/^\d*$/,zk=/.*[0-9]+.*/,Vk=/^[\d.-]+$/,Wk=/(^\.|\.$)/,Xk=/(\D\.|\.\D)/;function qk(t,n){void 0===n&&(n=Lk);var i={Cl:[],ty:[],ny:[]},e=Gk(t),r=new So;if(ip(e),Qk(e,function(t){return"\n"!==t},r),r.ps>=e.length)return i;(r.gs(1),"\n"!==e.charAt(r.ps))?Jk(Yk(e,r,!1,!0,i,n),i):r.gs(1);for(Qk(e,function(t){return"\n"===t},r);r.ps<e.length;){Jk(Yk(e,r,!1,!1,i,n),i),Qk(e,function(t){return"\n"===t},r)}return i}function Gk(t){var n=ss(t,"\0"," "),i=ss(n,"\r\n","\n");return ss(i,"\r","\n")}function Qk(t,n,i){for(var e=i.ps;i.ps<t.length&&n(t.charAt(i.ps));)i.gs(1);return t.substring(e,i.ps)}function Yk(t,n,e,r,s,u){for(var o,h=0,a=n.ps,c="",f=!1,v=!1,d=null,l=null,_=null;!f;)if(o=Qk(t,function(t){return"\n"!==t},n),h++,n.ps>=t.length?f=!0:n.gs(1),us(o,"--\x3e")){if(r||1!==h&&(2!==h||v)){n.ys(a);break}v=!0,a=n.ps,d=new tk(0,0,"",!1,c);try{$k(o,s.ty,d,u),c=""}catch(t){i.me(t),d=null}}else{if(""===o)break;r&&os(o,"X-TIMESTAMP-MAP")&&(s.iy=jk(o)),r||2!==h||e||(as("STYLE",c.replace(/ /g,""))?(l={nr:By.Yg},c=""):as("REGION",c.replace(/ /g,""))&&(_=new uk("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=o,a=n.ps}if(d)return d.iw=c,d;if(l);else if(_)return function(t,n){for(var i=t.split(/\s/),e=0;e<i.length;e++){var r=i[e];if(0!==r.length&&us(r,":")&&":"!==r.charAt(0)&&":"!==r.charAt(r.length-1)){var s=r.indexOf(":"),u=r.substring(0,s),o=r.substring(s+1,r.length);switch(u.toUpperCase()){case"ID":dp(o,n);break;case"WIDTH":gp(o,n);break;case"LINES":_p(o,n);break;case"REGIONANCHOR":var h=vp(o);h&&(n.bw=h[0],n.Aw=h[1]);break;case"VIEWPORTANCHOR":var a=vp(o);a&&(n.Sw=a[0],n.Ew=a[1]);break;case"SCROLL":lp(o,n)}}}}(c,_),_;return null}function jk(t){var n,i,e=t.split("=")[1].trim().split(","),r=Zk(e[0].trim(),"MPEGTS")?e[0]:e[1],s=Zk(e[0].trim(),"LOCAL")?e[0]:e[1];return{ey:(i=Number(r.split(/:(.*)/)[1].trim())||0,mk.Qw(i,pk)),sy:mk.Om(null!=(n=np(s.split(/:(.*)/)[1].trim(),new So))?n:0)}}function Zk(t,n){return os(t,n)}function Jk(t,n){t&&function(t){return t.nr===By.Gg}(t)?n.Cl.push(t):t&&function(t){return t.nr===By.Qg}(t)?n.ty.push(t):t&&function(t){return t.nr===By.Yg}(t)&&n.ny.push(t)}function $k(t,n,i,e){var r=new So;if(ep(t,r),i.tw=Kk(np(t,r),e),ep(t,r),"--\x3e"!==t.substring(r.ps,r.ps+3))throw v("Something went wrong with parsing a WebVTT Cue");r.gs(3),ep(t,r),i.nw=Kk(np(t,r),e),function(t,n,i){for(var e=t.split(/\s/),r=0;r<e.length;r++){var s=e[r];if(0!==s.length&&us(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":hp(h,n,i);break;case"VERTICAL":cp(h,n);break;case"D":fp(h,n);break;case"LINE":case"L":up(h,n);break;case"POSITION":case"T":op(h,n);break;case"SIZE":case"S":ap(h,n);break;case"ALIGN":case"A":sp(h,n)}}}}(t.substring(r.ps,t.length),i,n)}function Kk(t,n){return t+n.Jm}function tp(t){return/^[0-9]$/.test(t)}function np(t,n){var i,e,r,s=ss(t,",","."),u=!1;if(n.ps>=s.length||!tp(s.charAt(n.ps)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=Qk(s,tp,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n.ps>=s.length||":"!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var a=Qk(s,tp,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(a,10);if(u||n.ps<s.length&&":"===s.charAt(n.ps)){if(n.ps>=s.length||":"!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var f=Qk(s,tp,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,e=c,r=g(f,10)}else i=0,e=h,r=c;if(n.ps>=s.length||"."!==s.charAt(n.ps))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.gs(1);var d=Qk(s,tp,n),l=g(d,10);if(c>59||r>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*e+r+l/1e3}function ip(t){if(t.length<Mk)return!1;for(var n=0;n<Uk.length;n++){if(os(t,Uk[n]))return!0}return!1}function ep(t,n){for(;n.ps<t.length&&(i=t.charAt(n.ps),Os(Fk,i));)n.gs(1);var i}function rp(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!m(i)&&i>=0&&i<=100)return i}return null}function sp(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.ew=i;break;case"middle":n.ew="center"}}function up(t,n){var i,e,r=t.indexOf(",");if(r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e=""),zk.test(i)){var s,u;if(hs(i,"%")){var o=rp(i);if(null===o)return;s=o,u=!1}else{if(!Vk.test(i)||i.lastIndexOf("-")>0)return;var h=i.indexOf(".");if(h>=0&&(h!==i.lastIndexOf(".")||!Xk.test(i)||Wk.test(i)))return;if(s=w(i),m(s))return;u=!0}switch(n.rw=s,n.aw=u,e=e.toLowerCase()){case"start":case"center":case"end":n.sw=e;break;case"middle":n.sw="center"}}}function op(t,n){var i,e,r=t.indexOf(",");r>=0?(i=t.substring(0,r),e=t.substring(r+1,t.length)):(i=t,e="");var s=rp(i);if(null!==s)switch(n.uw=s,e=e.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.ow=e;break;case"start":n.ow="line-left";break;case"middle":n.ow="center";break;case"end":n.ow="line-right"}}function hp(t,n,i){var e,r,s,u=-1===(s=function(t,n,i){for(var e=t.length-1;e>=0;e-=1){var r=t[e];if(n.call(i,r,e,t))return e}return-1}(e=i,function(n){return n._l===t},r))?void 0:e[s];void 0!==u&&(n.hw=u)}function ap(t,n){var i=rp(t);null!==i&&(n.ls=i)}function cp(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.cw="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.cw="lr";break;default:n.cw=""}}function fp(t,n){"VERTICAL"===t.toUpperCase()?n.cw="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.cw="lr")}function vp(t){if(t.indexOf(",")>=0){var n=rp(t.substring(0,t.indexOf(","))),i=rp(t.substring(t.indexOf(",")+1,t.length));return[Bt(n||0,0,100),Bt(i||100,0,100)]}return null}function dp(t,n){n._l=t}function lp(t,n){"up"===t.toLowerCase()&&(n.Tw="up")}function _p(t,n){Hk.test(t)&&(n.pw=g(t))}function gp(t,n){var i=rp(t);null!==i&&(n.Rw=i)}!function(t){t.uy="moov",t.oy="mvhd",t.hy="trak",t.ay="tkhd",t.vy="mdia",t.ly="mdhd",t._y="hdlr",t.gy="minf",t.wy="stbl",t.my="stsd",t.yy="stsc",t.ky="mvex",t.py="trex",t.by="avc1",t.Ay="avcC",t.Ty="hev1",t.Sy="hvc1",t.Ey="hvcC",t.Ry="pasp",t.Iy="mp4a",t.Ny="esds",t.Dy="wvtt",t.Cy="vttC",t.xy="vlab",t.Oy="enca",t.Py="encv",t.By="moof",t.Ly="mfhd",t.My="traf",t.Uy="tfhd",t.Fy="trun",t.Hy="tfdt",t.zy="senc",t.Vy="mdat",t.Wy="pssh",t.Xy="emsg",t.qy="sidx",t.Gy="styp",t.Qy="ftyp",t.Yy="sinf",t.jy="frma"}(xk||(xk={})),function(t){t.$f="vide",t.Jf="soun",t.Zy="subt",t.Jy="hint",t.$y="meta",t.Ky="auxv"}(Ok||(Ok={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Pk||(Pk={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Bk||(Bk={}));var wp=function(){function t(t,n){this.ai=void 0,this.tk=void 0,this.ai=t,this.tk=n}var n=t.prototype;return n.nk=function(){return zu(this.ai,this.tk)},n.ik=function(){return Qu(this.ai,this.tk)},n.ek=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt16(n.ps,i);return n.gs(2),e}(this.ai,this.tk)},n.rk=function(){return ju(this.ai,this.tk)},n.sk=function(){return function(t,n,i){void 0===i&&(i=!1);var e=t.getInt32(n.ps,i);return n.gs(4),e}(this.ai,this.tk)},n.uk=function(){return Ju(this.ai,this.tk)},n.hk=function(t){return Wu(this.ai,this.tk,t)},n.ak=function(t){return function(t,n,i){for(var e=[],r=0;r<i;r++)e.push(ju(t,n));return e}(this.ai,this.tk,t)},n.ck=function(t){return to(this.ai,this.tk,t)},n.fk=function(){return lo(this.ai,this.tk)},n.vk=function(t){this.tk.gs(t)},n.ks=function(){return new t(this.ai,this.tk.ks())},t}();function mp(t,n){return t.nr===n}function yp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(mp(e,n))return e}}function kp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];mp(r,n)&&i.push(r)}return i}var pp=function(t){function n(n,i){var e;return(e=t.call(this)||this).dk=n,e.lk=i,e}return S(n,t),A(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(Zt),bp=function(){function t(){}return t._k=function(n){var i=n.ai,e=n.tk,r=t.gk(i,e,!1);if(!r.wk)throw new pp(e.ps,r.ti);return r.ti},t.gk=function(n,i,e){for(var r=[];i.ps<n.byteLength;){var s=t.mk(n,i,e);if(!s.wk)return{wk:!1,ti:r};r.push(s.yk)}return{wk:!0,ti:r}},t.kk=function(n,i){var e=t.mk(n,i,!1);if(!e.wk)throw new pp(i.ps);return e.yk},t.pk=function(n,i){for(var e=n.ai,r=n.tk;r.ps<e.byteLength;){var s=t.mk(e,r,!1);if(!s.wk)return;if(s.yk.nr===i)return s.yk}},t.mk=function(n,i,e){var r=i.ps,s=t.bk(n,i);if(!s.wk)return s;var u=s.Ak,o=u.ls;if(0===o){if(e)return i.ys(r),{wk:!1,Tk:1/0};o=n.byteLength-r}var h=r+o;if(h>n.byteLength){var a=h;return i.ys(r),{wk:!1,Tk:a}}var c={nr:u.nr,ps:r,ai:new wp(mo(n,r,h),new So(u.Sk))};return i.ys(h),{wk:!0,yk:c}},t.bk=function(t,n){var i=n.ps;if(!qu(t,n,8))return{wk:!1,Tk:n.ps+8};var e=ju(t,n),r=to(t,n,4);if(1===e){if(!qu(t,n,8)){var s=n.ps+8;return n.ys(i),{wk:!1,Tk:s}}e=Ju(t,n).toNumber()}if("uuid"===r){if(!qu(t,n,16)){var u=n.ps+16;return n.ys(i),{wk:!1,Tk:u}}r=to(t,n,16)}return{wk:!0,Ak:{nr:r,ls:e,Sk:n.ps-i}}},t.Ek=function(t,n,i){var e=t.ai,r=t.tk,s=wo(ko(e),r.ps,e.byteLength);return i&&(s=To(s)),r.gs(s.byteLength),{nr:n,ai:s}},t.Rk=function(n,i,e){var r=Ep(n.rk());return{nr:i,Ik:r.version,Nk:r.flags,ai:t.Ek(n,i,e).ai}},t}();function Ap(t,n){var i=Tp(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Tp(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.nr===n)return e.ai}}function Sp(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];r.nr===n&&i.push(r.ai)}return i}function Ep(t){return{version:t>>24,flags:new Uu(16777215&t)}}var Rp=function(){function t(){}return t.Dk=function(n){for(var i=[],e=bp._k(new wp(n,new So)),r=0;r<e.length;r++){var s=e[r],u=t.Ck(s);u&&i.push(u)}return i},t.xk=function(t){return bp.gk(t,new So,!1).ti.some(this.Ok)},t.Pk=function(n){return Sp(bp._k(new wp(n,new So)),xk.Wy).map(t.Bk)},t.Lk=function(n){return Sp(bp._k(n.ai),xk.Wy).map(t.Bk)},t.Ok=function(t){return t.nr===xk.Qy||t.nr===xk.Gy||t.nr===xk.uy||t.nr===xk.By||t.nr===xk.Vy||t.nr===xk.qy||t.nr===xk.Xy},t.Ck=function(n){switch(n.nr){case xk.uy:return t.Mk(n.ai);case xk.By:return t.Uk(n.ai,n.ps);case xk.Vy:return t.Fk(n.ai);case xk.qy:return t.Hk(n.ai);case xk.Xy:return t.zk(n.ai)}},t.Mk=function(n){var i=bp._k(n),e=Ap(i,xk.oy),r=Sp(i,xk.hy),s=Tp(i,xk.ky),u=t.Vk(e),o=r.map(t.Wk),h=s?t.Xk(s):void 0;return{nr:xk.uy,Ak:u,qk:o,Gk:h}},t.Vk=function(t){var n=Ep(t.rk()),i=n.version,e=n.flags,r=1===i?t.uk():t.rk(),s=1===i?t.uk():t.rk(),u=t.rk(),o=1===i?t.uk():t.rk(),h=t.rk(),a=t.ik()>>8;t.vk(2),t.vk(8);var c=t.ak(9);t.vk(24);var f=t.rk();return{nr:xk.oy,Ik:i,Nk:e,Qk:r,Yk:s,bm:u,d_:o,jk:h,b_:a,Zk:c,Jk:f}},t.Wk=function(n){var i=bp._k(n),e=Ap(i,xk.ay),r=Ap(i,xk.vy),s=t.$k(e),u=t.Kk(r);return{nr:xk.hy,Ak:s,tp:u}},t.$k=function(t){var n=Ep(t.rk()),i=n.version,e=n.flags,r=1===i?t.uk():t.rk(),s=1===i?t.uk():t.rk(),u=t.rk();t.vk(4);var o=1===i?t.uk():t.rk();t.vk(8);var h=t.ek(),a=t.ek(),c=t.ek()/_.pow(2,8);t.vk(2);var f=t.ak(9),v=t.rk()/_.pow(2,16),d=t.rk()/_.pow(2,16);return{nr:xk.ay,np:e.As(1),ip:e.As(2),ep:e.As(4),Qk:r,Yk:s,rp:u,d_:o,sp:h,op:a,b_:c,Zk:f,Rw:v,hp:d}},t.Kk=function(n){var i=bp._k(n),e=Ap(i,xk.ly),r=Ap(i,xk._y),s=Ap(i,xk.gy),u=t.ap(e),o=t.cp(r),h=t.fp(s);return{nr:xk.vy,Ak:u,vp:o,dp:h}},t.ap=function(t){var n=Ep(t.rk()),i=n.version,e=n.flags,r=1===i?t.uk():t.rk(),s=1===i?t.uk():t.rk(),u=t.rk(),o=1===i?t.uk():t.rk();return t.ik(),t.vk(2),{nr:xk.ly,Ik:i,Nk:e,Qk:r,Yk:s,bm:u,d_:o}},t.cp=function(t){var n=Ep(t.rk()),i=n.version,e=n.flags;t.vk(4);var r=t.ck(4);t.vk(12);var s=t.fk();return{nr:xk._y,Ik:i,Nk:e,lp:r,Vn:s}},t.fp=function(n){var i=Ap(bp._k(n),xk.wy),e=t._p(i);return{nr:xk.gy,gp:e}},t._p=function(n){var i=Ap(bp._k(n),xk.my),e=t.wp(i);return{nr:xk.wy,mp:e}},t.wp=function(n){var i=Ep(n.rk()),e=i.version,r=i.flags;n.rk();for(var s=[],u=bp._k(n),o=0;o<u.length;o++){var h=u[o],a=t.yp(h.ai,h.nr);a&&s.push(a)}return{nr:xk.my,Ik:e,Nk:r,kp:s}},t.yp=function(n,i){var e=t.pp(n,i);return e||((e=t.bp(n,i))||(i===xk.Dy?t.Ap(n):void 0))},t.pp=function(n,i){return i===xk.Iy?t.Tp(n):i===xk.Oy?t.Sp(n):void 0},t.bp=function(n,i){return i===xk.by?t.Ep(n):i===xk.Ty||i===xk.Sy?t.Rp(n,i):i===xk.Py?t.Ip(n):void 0},t.Np=function(t,n){return t.vk(6),{nr:n,Dp:t.ik()}},t.Cp=function(n,i){var e=t.Np(n,i);n.vk(8);var r=n.ik(),s=n.ik();return n.vk(2),n.vk(2),Rr({},e,{xp:r,Op:s,Pp:n.rk()>>>16})},t.Bp=function(n,i){var e=t.Np(n,i);n.vk(2),n.vk(2),n.vk(12);var r=n.ik(),s=n.ik(),u=n.rk(),o=n.rk();n.vk(4);var h=n.ik();n.vk(32);var a=n.ik();return n.vk(2),Rr({},e,{Rw:r,hp:s,Lp:u,Mp:o,Up:h,Fp:a})},t.Tp=function(n){var i=t.Cp(n,xk.Iy),e=Ap(bp._k(n),xk.Ny);return Rr({},i,{Hp:t.zp(e)})},t.Ap=function(n){var i=t.Np(n,xk.Dy),e=bp._k(n),r=Ap(e,xk.Cy),s=t.Vp(r),u=Tp(e,xk.xy);return Rr({},i,{Wp:s,Xp:u?t.qp(u):u})},t.Vp=function(t){return{nr:xk.Cy,rh:t.fk()}},t.qp=function(t){return{nr:xk.xy,ml:t.fk()}},t.zp=function(t){return bp.Rk(t,xk.Ny,!0)},t.Ep=function(n){var i=t.Bp(n,xk.by),e=bp._k(n),r=Ap(e,xk.Ay),s=Tp(e,xk.Ry);return Rr({},i,{Gp:t.Qp(r),Yp:s?t.jp(s):void 0})},t.Rp=function(n,i){var e=t.Bp(n,i),r=Ap(bp._k(n),xk.Ey);return Rr({},e,{Zp:t.Jp(r)})},t.Ip=function(n){var i=n.ks(),e=t.Bp(n,xk.Py),r=Ap(bp._k(n),xk.Yy),s=t.$p(r);return Rr({},e,{Kp:t.bp(i,s.ib.nb),eb:s})},t.Sp=function(n){var i=n.ks(),e=t.Cp(n,xk.Oy),r=Ap(bp._k(n),xk.Yy),s=t.$p(r);return Rr({},e,{Kp:t.pp(i,s.ib.nb),eb:s})},t.$p=function(n){var i=Ap(bp._k(n),xk.jy),e=t.sb(i);return{nr:xk.Yy,ib:e}},t.sb=function(t){var n=t.ck(4);return{nr:xk.jy,nb:n}},t.Qp=function(t){return bp.Ek(t,xk.Ay,!0)},t.Jp=function(t){return bp.Ek(t,xk.Ey,!0)},t.jp=function(t){var n=t.rk(),i=t.rk();return{nr:xk.Ry,ub:n,ob:i}},t.Xk=function(n){var i=Sp(bp._k(n),xk.py).map(t.hb);return{nr:xk.ky,qk:i}},t.hb=function(t){var n=Ep(t.rk()),i=n.version,e=n.flags,r=t.rk(),s=t.rk(),u=t.rk(),o=t.rk(),h=t.rk();return{nr:xk.py,Ik:i,Nk:e,rp:r,ab:s,cb:u,fb:o,vb:h}},t.Uk=function(n,i){var e=bp._k(n),r=Ap(e,xk.Ly),s=Sp(e,xk.My),u=t.lb(r),o=s.map(t._b);return{nr:xk.By,gb:i,Ak:u,qk:o}},t.lb=function(t){var n=Ep(t.rk()),i=n.version,e=n.flags,r=t.rk();return{nr:xk.Ly,Ik:i,Nk:e,wb:r}},t._b=function(n){var i=bp._k(n),e=Ap(i,xk.Uy),r=Sp(i,xk.Fy),s=Tp(i,xk.Hy),u=t.mb(e),o=r.map(function(n){return t.yb(n,u)}),h=s?t.kb(s):void 0;return{nr:xk.My,Ak:u,pb:o,bb:h}},t.mb=function(t){var n=Ep(t.rk()),i=n.version,e=n.flags,r=t.rk(),s=e.As(Pk.BASE_DATA_OFFSET_PRESENT)?t.uk():void 0,u=e.As(Pk.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.rk():void 0,o=e.As(Pk.DEFAULT_SAMPLE_DURATION_PRESENT)?t.rk():void 0,h=e.As(Pk.DEFAULT_SAMPLE_SIZE_PRESENT)?t.rk():void 0,a=e.As(Pk.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.rk():void 0;return{nr:xk.Uy,Ik:i,Nk:e,rp:r,Ab:s,Tb:u,cb:o,fb:h,vb:a}},t.yb=function(n,i){for(var e=Ep(n.rk()),r=e.version,s=e.flags,u=n.rk(),o=s.As(Bk.DATA_OFFSET_PRESENT)?n.sk():void 0,h=s.As(Bk.FIRST_SAMPLE_FLAGS_PRESENT)?n.rk():void 0,a=[],c=0;c<u;c++){var f=t.Sb(n,s,r,i);0===c&&void 0!==h&&(f.Nk=h),a.push(f)}return{nr:xk.Fy,Ik:r,Nk:s,Eb:u,gb:o,Rb:h,Ib:a}},t.Sb=function(t,n,i,e){return{d_:n.As(Bk.SAMPLE_DURATION_PRESENT)?t.rk():e.cb,ls:n.As(Bk.SAMPLE_SIZE_PRESENT)?t.rk():e.fb,Nk:n.As(Bk.SAMPLE_FLAGS_PRESENT)?t.rk():e.vb,Nb:n.As(Bk.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.rk():t.sk():void 0}},t.zk=function(t){var n=t.ai,i=t.tk,e=Ep(ju(n,i)),r=e.version,s=e.flags;if(1===r){var u=ju(n,i),o=Ju(n,i),h=ju(n,i),a=ju(n,i),c=Ku(n,i),f=Ku(n,i),v=Ao(ko(n),i.ps,n.byteLength);return i.gs(v.byteLength),{nr:xk.Xy,Ik:r,Nk:s,Db:c,qn:f,bm:u,Cb:o,xb:h,_l:a,Ob:v}}var d=Ku(n,i),l=Ku(n,i),_=ju(n,i),g=ju(n,i),w=ju(n,i),m=ju(n,i),y=Ao(ko(n),i.ps,n.byteLength);return i.gs(y.byteLength),{nr:xk.Xy,Nk:s,Ik:r,Db:d,qn:l,bm:_,Pb:g,xb:w,_l:m,Ob:y}},t.Fk=function(t){return bp.Ek(t,xk.Vy,!1)},t.Bk=function(n){var i=n.ai,e=n.tk,r=To(ko(i)).buffer,s=Ep(ju(i,e)),u=s.version,o=s.flags,h=t.Bb(i,e),a=[];if(u>0)for(var c=ju(i,e),f=0;f<c;f++){var v=Wu(i,e,16);a.push(v)}var d=ju(i,e),l=new y(r,e.ps,d);return e.gs(i.byteLength),{nr:xk.Wy,Ik:u,Nk:o,Lb:h,Mb:a,Ub:d,ai:l,Fb:r}},t.Bb=function(t,n){for(var i="",e=0;e<4;e++){var r=zu(t,n).toString(16);i+=1===r.length?"0"+r:r}i+="-";for(var s=0;s<2;s++){var u=zu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=zu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=zu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=zu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.Hk=function(t){var n,i,e=t.ai,r=t.tk,s=Ep(ju(e,r)),u=s.version,o=s.flags,h=ju(e,r),a=ju(e,r);0===u?(n=ct.fromBits(ju(e,r),0,!0),i=ct.fromBits(ju(e,r),0,!0)):(n=Ju(e,r),i=Ju(e,r)),r.gs(2);for(var c=Qu(e,r),f=[],v=0;v<c;v+=1){var d=ju(e,r),l=d>>31&1,_=2147483647&d,g=ju(e,r),w=ju(e,r),m=w>>31&1,y=w>>28&7,k=268435455&w;f.push({Hb:l,zb:_,d_:g,Vb:m,Wb:y,Xb:k})}return{nr:xk.qy,Ik:u,Nk:o,qb:h,bm:a,Gb:n,Qb:i,Yb:c,jb:f}},t.kb=function(t){var n,i=t.ai,e=t.tk,r=Ep(ju(i,e)),s=r.version,u=r.flags;return n=0===s?ct.fromBits(ju(i,e),0,!0):Ju(i,e),{nr:xk.Hy,Ik:s,Nk:u,bb:n}},t}();function Ip(t){return t&&"Kn"in t?t.Kn:t}var Np=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,n,i,e,r)||this).Zb=void 0,h.Jb=void 0,h.$b=void 0,h.Zb=s,h.Jb=u,h.$b=o||void 0,h}return S(n,t),n.prototype.mw=function(n){return this===n||!!Nw(this,n)&&(!!t.prototype.mw.call(this,n)&&(!!Iw(this.Kb,n.Kb)&&(!!Iw(this.ty,n.ty)&&(this.tA&&n.tA?!!this.tA.Fn(n.tA)&&(this.iw&&n.iw?this.iw.Fn(n.iw):this.iw===n.iw):this.tA===n.tA))))},A(n,[{key:"Kb",get:function(){return this.Zb}},{key:"ty",get:function(){return this.Jb}},{key:"tA",get:function(){return this.$b}},{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=Ew(qy(t=this),{get styles(){return t.Kb},get regions(){return t.ty},get metadata(){return Ip(t.tA)},get content(){return Ip(t.iw)}})),this.Sd}}]),n}($y),Dp=function(){function t(t,n,i){this.wc=void 0,this.nA=void 0,this.iA=void 0,this.nA=t,this.iA=n,Gt(i)?this.wc=function(t,n,i){for(var e=0,r=["begin","end","dur"];e<r.length;e++){var s=r[e];i.ei(s)}return i}(0,0,i):this.wc=i}return A(t,[{key:"eA",get:function(){return this.wc.Hn(!0)}},{key:"tw",get:function(){return this.nA}},{key:"nw",get:function(){return this.iA}}]),t}();var Cp="http://www.w3.org/XML/1998/namespace";function xp(t,n,i,e){var r=t.Jn(i,n);return 0===r.length&&(r=t.Yn(e+":"+n)),r}function Op(t,n){return function(t,n){var i=t.ti.slice(),e=[];for(;i.length>0;){var r=i.shift();n(r)?e.push(r):i.push.apply(i,r.ti)}return e}(t,function(t){return t.Zn===n})}function Pp(t,n){for(var i=t,e=0;e<n.length;e++){var r=n[e];i=i.replace(r+":","")}return i}function Bp(t,n){for(var i=t.oi,e={},r=0;r<i.length;r++)e[Pp(i[r].Vn,n)]=i[r].qn;return e}var Lp=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Mp=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Up="http://www.w3.org/ns/ttml";function Fp(t,n,e){return void 0===e&&(e=Lk),function(t,n,e){var r,s=[];try{r=i.Mn(t)}catch(t){return s}var u=r.ci;if("tt"!==u.zn)return s;var o=u&&u.Jn(Up,"head")[0],h=u&&u.Jn(Up,"body")[0],a=["ebutts","tts","xml"];if(!h||!o)return s;for(var c=function(t,n){for(var i={},e=t.Jn(Up,"styling")[0],r=e&&e.Jn(Up,"style")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii(Cp,"id");i[o]=Bp(u,n)}return i}(o,a),f=function(t,n){var i=Rw(t),e=Wp(n.ni("tts:extent"));if(!e)return i;for(var r=0,s=l.keys(i);r<s.length;r++){var u=s[r],o=Wp(i[u].extent);if(o){var h=zp(o[0],e[0]),a=zp(o[1],e[1]);i[u].extent=h+" "+a}var c=Wp(i[u].origin);if(c){var f=zp(c[0],e[0]),v=zp(c[1],e[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},e=t.Jn(Up,"layout")[0],r=e&&e.Jn(Up,"region")||[],s=0;s<r.length;s++){var u=r[s],o=u.ii(Cp,"id");if(o){i[o]=Bp(u,n);var h=Gp(u,n);for(var a in h)M.call(h,a)&&(i[o][a]=h[a])}}return i}(o,a),u),v=o.Jn(Up,"metadata")[0],d=function t(n,i,e,r){var s=i;var u;var o=e;var h=[];var a=[];if(Gt(n)){var c,f;s=null!=(c=qp(n.ni("begin"),r))?c:s,u=qp(n.ni("dur"),0),o=null!=(f=qp(n.ni("end"),r))?f:void 0!==u?s+u:o;for(var v=n.jn,d=0;d<v.length;d++)("body"===n.zn||"div"===n.zn)&&v[d].Cn>1||(h=h.concat(t(v[d],s,o,r)))}var l=function(t,n,i){var e=[];e.push(t,n);for(var r=0;r<i.length;r++){var s=i[r];e.push(s.tw,s.nw)}e.sort(Es);for(var u=e.length,o=0;o<u-1;o++)e[o+1]===e[o]&&(xs(e,o+1),o--,u=e.length);return e}(s,o,h);for(var _=0;_<l.length-1;_++){var g=Xp(l[_],l[_+1],h);if(g.length<=0&&Qp(n)){var w=n.Hn(!1);a.push(new Dp(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.Hn(!1);g.forEach(function(n){return t.$n(n.eA)}),a.push(new Dp(l[_],l[_+1],t))}()}return a}(h,e.Jm,e.$m,e.Km),_=0;_<d.length;_++){var g=d[_],w=Hp(f,g);s.push(new Np(g.tw,g.nw,g.eA,!1,c,w,v))}return s}(t,0,e)}function Hp(t,n){for(var i=function t(n){var i=[];var e;if(Gt(n)){(e=n.ni("region"))&&i.push(e);for(var r=n.jn,s=0;s<r.length;s++)i=i.concat(t(r[s]))}return i}(n.eA),e={},r=0;r<i.length;r++){var s=i[r];e[s]=t[s]}return e}function zp(t,n){var i=Vp(t),e=Vp(n);if(i&&e&&i===e){var r=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-e.length));return m(r)||m(s)?t:r/s*100+"%"}return t}function Vp(t){return hs(t,"px")?"px":hs(t,"em")?"em":hs(t,"c")?"c":hs(t,"%")?"%":void 0}function Wp(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Xp(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r].tw,u=i[r].nw;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&e.push(i[r])}return e}function qp(t,n){if(t){if(Lp.test(t)){var i=Lp.exec(t);if(!i)return;var e=Number(i[1])||0,r=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*e+60*r+s+(u?Number(u)*_.pow(.1,u.length):0)+n}if(Mp.test(t)){var o=Mp.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h+n}}}function Gp(t,n){for(var i={},e=t.Yn("style")||[],r=0;r<e.length;r++){var s=Bp(e[r],n);for(var u in s)M.call(s,u)&&(i[u]=s[u])}return i}function Qp(t){if(Gt(t)){var n=t.zn.toUpperCase(),i=Boolean(t.ni("smpte:backgroundImage"));return"BR"===n||i}return t.Cn===Wt.On}function Yp(t){var n=function(t){try{return i.Mn(t).ci}catch(t){}}(t);return"tt"===(null==n?void 0:n.zn)}var jp,Zp=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.$d=function(n){return t.prototype.$d.call(this,n)},i.Kd=function(n){var i=t.prototype.Kd.call(this,n);return i&&(n.Rl=Ww.bl),i},i.Rd=function(){return Zw(this)},n}(kw);!function(t){t.Zy="subtitles",t.rA="captions",t.sA="descriptions",t.uA="chapters",t.$y="metadata",t.oA="thumbnails"}(jp||(jp={}));var Jp=[jp.Zy,jp.rA,jp.sA,jp.uA,jp.$y,jp.oA];function $p(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Os(Jp,t)}(n)?n:n?jp.$y:jp.Zy}var Kp,tb=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=e,u.status=r,u}return S(n,t),n}(Tc);function nb(t){return t instanceof D_}function ib(t){return us(t,Kp.hA)}function eb(t){return t.some(rb)}function rb(t){return us(t,Kp.aA)||us(t,Kp.Dy)}function sb(t,n){return nc(t)&&eb(n)}function ub(t,n){return!!t&&(nc(t)?function(t){return t.some(ib)}(n)||eb(n):us(t,tc.APPLICATION_TTML_XML)||us(t,tc.TEXT_VTT)||us(t,tc.IMAGE_JPEG))}function ob(t,n){return t===jp.oA||t===jp.$y&&n===jp.oA}function hb(t,n,i,e){for(var r=0,s=t.Cl.il;r<s.length;r++){var u=s[r];if(u.tw>i)break;n<=u.nw&&e.push(u)}}function ab(t,n){return Ss(t.gl,n.gl)}function cb(t,i){var e=i,r=0;if(nb(t)&&t.name===E_.gv)e=t.Bf.Mf;else if(t instanceof x_){var s=t.pv;if(e=s.Lf,0===(r=s.Df))return new tb(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",e,r,t)}return new tb(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",e,r,t)}function fb(t,i,e,r){var s=function(t){switch(t){case Py.WEBVTT:return"WebVTT";case Py.SRT:return"SRT";case Py.TTML:return"TTML";default:return""}}(t);return new tb(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,e,r)}function vb(t){return ip(Gk(t))?Py.WEBVTT:Yp(t)?Py.TTML:Py.SRT}function db(t,n){for(var i=[],e=0,r=t.Cl.il;e<r.length;e++){var s=r[e];if(s.nw<=n)i.push(s);else if(s.tw>=n)break}for(var u=0;u<i.length;u++){var o=i[u];t.cA(o)}}!function(t){t.aA="vtt",t.Dy="wvtt",t.hA="stpp"}(Kp||(Kp={}));var lb=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).qk=new Zp,n.fA=function(t){var i=t.Id;n.vA(i)},n}S(n,t);var i=n.prototype;return i.$d=function(t){t.Hr(dw.Fd,this.fA),this.qk.$d(t),this.vA(t)},i.Kd=function(t){t.Xr(dw.Fd,this.fA),t.Rl=Ww.bl,this.qk.Kd(t)},i.dA=function(t){},i.lA=function(t){},i.vA=function(t){t.Rl!==Ww.bl?this.dA(t):this.lA(t)},i._A=function(){for(var t=0,n=this.qk.il;t<n.length;t++){var i=n[t];i.Xr(dw.Fd,this.fA),i.hv()}},i.gA=function(t){if(t>0)for(var n=0,i=this.qk.il;n<i.length;n++){db(i[n],t)}},i.nl=function(){return this._A(),this.qk.nl(),ze.resolve()},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Er.awrap(this.nl());case 3:this.qk.hv();case 4:case"end":return t.stop()}},null,this,null,ze)},n}(iu),_b=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).errorObject=n,i}return S(n,t),n.prototype.Rd=function(){return this},A(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(fw),gb=function(t){function n(n,i){var e;return(e=t.call(this)||this).wA=void 0,e.mA=void 0,e.yA=new Fs,e.wA=n,e.mA=i,e}S(n,t);var i=n.prototype;return i.kA=function(t){if(t.src){var n=t.kind||jp.Zy,i=this.wA.pA(n,t.id,t.label,t.srclang,t.default);return i.Ol=S_(t.src),this.$d(i),i}},i.bA=function(t,n){var i,e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:return t.Dl=Oy.LOADING,i=new p_({Mf:t.Ol,xf:qc.On,tv:g_.GET,Pr:n}),v.prev=2,v.next=5,Er.awrap(this.mA.Bf(i));case 5:return s=v.sent,r=s.Df,v.next=9,Er.awrap(s.lf());case 9:e=v.sent,v.next=18;break;case 12:return v.prev=12,v.t0=v.catch(2),Ws(v.t0),t.Dl=Oy.ERROR,t.Fr(new _b(cb(v.t0,t.Ol))),v.abrupt("return");case 18:for(v.prev=18,u=vb(e),t.nr=u,o=[],u===Py.WEBVTT||u===Py.SRT?(h=qk(e),o=h.Cl):u===Py.TTML&&(o=Fp(e)),a=0,c=o;a<c.length;a++)f=c[a],t.AA(f);v.next=32;break;case 26:return v.prev=26,v.t1=v.catch(18),Ws(v.t1),t.Dl=Oy.ERROR,t.Fr(new _b(fb(t.nr,t.Ol,r,v.t1))),v.abrupt("return");case 32:t.Dl=Oy.LOADED;case 33:case"end":return v.stop()}},null,this,[[2,12],[18,26]],ze)},i.dA=function(t){Os(this.qk.il,t)&&t.Dl===Oy.NONE&&this.bA(t,this.yA.Pr).catch(Xs)},i.Yo=function(){},i.nl=function(){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:for(this.yA.Cr(),this.yA=new Fs,n=0,i=this.qk.il;n<i.length;n++)e=i[n],this.wA.TA(e);return r.next=5,Er.awrap(t.prototype.nl.call(this));case 5:case"end":return r.stop()}},null,this,null,ze)},n}(lb);function wb(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n&&e.SA)return e}}function mb(t,n){yb(wb(t.il,n))}function yb(t){void 0!==t&&(t.Rl=Ww.Tl)}function kb(t,n){yb(wb(t.il,n)||function(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.wl===n)return e}}(t.il,n))}function pb(t){for(var n=0;n<Jp.length;n++){var i=Jp[n];i===jp.uA?kb(t,i):mb(t,i)}}var bb,Ab=function(t){function n(){return t.call(this,Xc.Ra)||this}return S(n,t),n}(ru);!function(t){t[t.EA=0]="EA",t[t.RA=1]="RA"}(bb||(bb={}));var Tb=t,Sb=Tb.MediaSource,Eb=Tb.WebKitMediaSource,Rb=Tb.TextTrack,Ib=s&&s.createElement("video");s&&s.documentElement.style;var Nb=L.Mt&&L._n&&L.gn<=26;L.Zt;var Db=!!k,Cb=!(!Sb&&!Eb),xb=!!Rb;s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||L.Qt,L.fn&&L.vn;var Ob=Ib&&Ib.canPlayType&&(""!==Ib.canPlayType("application/vnd.apple.mpegURL")||L.Ht&&!L.fn&&L.zt>=4),Pb=Ib&&Ib.canPlayType&&""!==Ib.canPlayType("video/mp4")&&!Nb,Bb=Cb&&!L.dn&&!L.hn&&!L.un&&((Sb||Eb).isTypeSupported?(Sb||Eb).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Ib&&Ib.canPlayType&&""!==Ib.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Lb=Cb&&!L.dn&&(Bb||((Sb||Eb).isTypeSupported?(Sb||Eb).isTypeSupported("audio/mpeg"):Ib&&Ib.canPlayType&&""!==Ib.canPlayType("audio/mpeg"))),Mb=Cb&&!(L.cn&&L.Mt)&&((Sb||Eb).isTypeSupported?(Sb||Eb).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Pb);L.dn||L.hn||L.un;var Ub=L.an,Fb=Ub&&!1,Hb=!L.dn,zb=L.hn&&L.Ut&&L.Ft<=6.1,Vb=Ib&&"onresize"in Ib;try{r&&r.top!==r.self}catch(t){!0}var Wb=.001,Xb=1e4,qb=3,Gb=function(t){function n(n){var i;return(i=t.call(this,Em.c_)||this).currentTime=n,i}return S(n,t),n}(ru),Qb=function(t){function n(n){var i;return(i=t.call(this,Em.f_)||this).currentTime=n,i}return S(n,t),n}(ru);Em.zd,Em.f_,Xc.Aa,Xc.ba;var Yb=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this)||this).IA=am.n_,e.NA=!0,e.DA=!1,e.CA=!1,e.xA=function(t){var n=e.OA.Dl;n!==e.IA&&e.Fr(new Xm(t.currentTime,n)),n===am.n_&&(e.DA=!1,e.CA=!1),e.PA(n),e.BA(n),e.LA(n),e.maybeDispatchCanPlayThroughEvent(n),e.MA(n),e.UA(n),e.IA=n},e.FA=function(){e.UA(e.IA),e.MA(e.IA),e.NA=e.OA.w_},e.HA=function(){e.NA=e.OA.w_},e.OA=n,e.zA=i,e.OA.Hr(Em.zd,e.xA),e.OA.Hr(Xc.Aa,e.FA),e.OA.Hr(Xc.ba,e.HA),e.zA&&e.OA.Hr(Em.f_,e.Ur),e}S(n,t);var i=n.prototype;return i.PA=function(t){!this.CA&&t>=am.i_&&(this.CA=!0,this.Fr(new Om(this.OA.v_,t)))},i.BA=function(t){!this.DA&&t>=am.e_&&(this.DA=!0,this.Fr(new Um(this.OA.v_,t)))},i.MA=function(t){this.zA||(t>=am.r_&&this.IA<am.r_&&!this.OA.w_||this.VA&&t>=am.r_)&&this.Fr(new Qb(this.OA.v_))},i.UA=function(t){!this.WA(t)||this.OA.l_||this.OA.ts||this.Fr(new Gb(this.OA.v_))},i.LA=function(t){this.IA<=am.e_&&t>=am.r_&&this.Fr(new Vm(this.OA.v_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===am.s_&&this.Fr(new Wm(this.OA.v_,t))},i.WA=function(t){var n=!this.OA.w_&&t<=am.e_,i=!this.NA&&this.IA<=am.e_;return n&&!i},i.nl=function(){this.IA=am.n_,this.NA=!0,this.DA=!1,this.CA=!1},i.hv=function(){this.Wr(),this.zA&&this.OA.Xr(Em.f_,this.Ur),this.OA.Xr(Xc.Aa,this.FA),this.OA.Xr(Xc.ba,this.HA),this.OA.Xr(Em.zd,this.xA)},A(n,[{key:"VA",get:function(){return!this.OA.w_&&this.NA}}]),n}(iu),jb="titanium",Zb="conax",Jb="ezdrm",$b="irdeto",Kb="vudrm",tA="verimatrix",nA="keyos",iA="drmtoday",eA="expressplay",rA="azure",sA="xstream",uA="vimond",oA="axinom",hA="uplynk",aA="comcast",cA="custom",fA=function(){function t(t,n,i,e,r){this.eh=void 0,this.XA=void 0,this.qA=void 0,this.GA=void 0,this.mA=void 0,this.QA=void 0,this.YA=void 0,this.eh=t,this.XA=n,this.qA=i,this.mA=e,this.YA=r,this.GA=this.jA(n)}var e=t.prototype;return e.ZA=function(){return this.QA},e.JA=function(t){this.QA=t},e.$A=function(){return this.GA.licenseAcquisitionURL||this.ZA()},e.KA=function(t){return ze.resolve()},e.tT=function(t,n){return ze.resolve(void 0)},e.nT=function(t,i,e,r){var s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(""!==(s=this.iT(t,i,e,r)).Mf){o.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return o.prev=3,o.next=6,Er.awrap(this.kd.Bf(s));case 6:return u=o.sent,o.next=9,Er.awrap(u._f(i));case 9:return o.abrupt("return",o.sent);case 12:return o.prev=12,o.t0=o.catch(3),Ws(o.t0),o.next=17,Er.awrap(this.eT(o.t0,s.Mf,r));case 17:return o.abrupt("return");case 18:case"end":return o.stop()}},null,this,[[3,12]],ze)},e.iT=function(t,n,i,e){var r=this.rT().Xa(),s=this.sv,u={Mf:this.sT(),xf:n,Cf:r,yf:t,sv:s,tv:g_.POST,nv:0,Pr:e,nr:w_.Vf,ev:i};return new p_(u)},e.uT=function(t,n){return ze.resolve(t)},e.oT=function(t,n,i,e){return ze.resolve(t)},e.rT=function(){return new Gc(this.GA.headers||{})},e.eT=function(t,i,e){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",t);case 1:case"end":return i.stop()}},null,null,null,ze)},e.sT=function(t,n){var e=n,r=this.GA.queryParameters;if(!e){var s=this.$A();if(!s)return"";e=s}if(r||t){var u=i.Ce(e);t&&T_(u,t),r&&T_(u,r),e=u.href}return e},e.hT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return ze.resolve(new y(vA(t,i)))}(t,this.GA)},e.aT=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Er.awrap(this.cT(t,i));case 2:return e=u.sent,u.next=5,Er.awrap(this.nT(e,this.YA,n,i));case 5:return r=u.sent,u.next=8,Er.awrap(this.hT(r));case 8:return s=u.sent,u.abrupt("return",s);case 10:case"end":return u.stop()}},null,this,null,ze)},e.hv=function(){},A(t,[{key:"kd",get:function(){return this.mA}},{key:"fT",get:function(){return!1}},{key:"vT",get:function(){var t=this.GA.certificate;if(t)return q(t)?yu(t):bo(t)}},{key:"dT",get:function(){return!1}},{key:"sv",get:function(){return Boolean(this.GA.useCredentials)}}]),t}();function vA(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function dA(t,n){var i=To(t).buffer,e=n.licenseRequestProcessor;return ze.resolve(vA(i,e))}var lA,_A,gA=function(t){function n(n,i,e,r){return t.call(this,ts,n,i,e,r)||this}S(n,t);var i=n.prototype;return i.jA=function(t){return t.widevine||{}},i.lT=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.vT){i.next=2;break}return i.abrupt("return",this.vT);case 2:return i.abrupt("return",this._T(new y(t),n));case 3:case"end":return i.stop()}},null,this,null,ze)},i._T=function(n,i){return t.prototype.aT.call(this,n,m_.Gf,i)},n}(fA);function wA(t,n){if(null==t)return{};var i,e,r={},s=l.keys(t);for(e=0;e<s.length;e++)i=s[e],n.indexOf(i)>=0||(r[i]=t[i]);return r}function mA(t){return F(t.token&&t.deviceId)}function yA(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&F(i.PreAuthorization)}function kA(t){var n=t;return mA(n)&&""!==n.token&&""!==n.deviceId&&!yA(n)}(_A=lA||(lA={})).gT=!1,_A.wT=!1,_A.mT=!1,_A.yT=!1,_A.LOG_ADS_DETAILS=!1,_A.LOG_CHROMECAST_DETAILS=!1,_A.LOG_CUSTOM_DRM=!1,_A.LOG_BUFFERING_VIDEO_MAIN=!1,_A.LOG_BUFFERING_VIDEO_SELECTION=!1,_A.LOG_BUFFERING_AUDIO_MAIN=!1,_A.LOG_BUFFERING_AUDIO_SELECTION=!1,_A.kT=!1,_A.pT=!1,_A.LOG_LCEVC_DETAILS=!1;var pA,bA=function(){function t(t,n,i){this.bT=t,this.Wo=n,this.AT=i}return t.prototype.TT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var e=t.onLicenseRequest;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var r=t.onLicenseResponse;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.AT.build(t))},A(t,[{key:"ST",get:function(){return this.bT}},{key:"eh",get:function(){return this.Wo}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(pA||(pA={}));var AA=function(){function t(){this.ET=[]}var e=t.prototype;return e.registerContentProtectionIntegration=function(t,e,r){switch(this.RT(t,e,r)){case pA.FAILED:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+e+".");case pA.OVERRIDDEN:var s=VA(e);i.me("Warning: Overwriting an earlier registered integration for "+t+" and "+s+".");break;case pA.SUCCEEDED:VA(e);0}},e.RT=function(t,n,i){var e=VA(n);if(!e)return pA.FAILED;for(var r=pA.SUCCEEDED,s=0,u=this.ET.slice();s<u.length;s++){var o=u[s];o.ST===t&&o.eh===e&&(r=pA.OVERRIDDEN,Cs(this.ET,o))}return this.ET.push(new bA(t,e,i)),r},e.IT=function(t,n){return void 0!==this.NT(t,n)},e.DT=function(t,n,i){var e=this.NT(t,n);if(!e)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return e.TT(i)},e.NT=function(t,n){for(var i=0,e=this.ET;i<e.length;i++){var r=e[i];if(r.ST===t&&(!n||r.eh===n))return r}},t}();AA.CT=new AA;var TA=["customdata"],SA={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function EA(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,e=t.keys,r=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||e||r||s||u||o||h||a||c)}function RA(t){return t&&void 0!==t.licenseAcquisitionURL}var IA,NA=RA,DA=RA;function CA(t){if(!t)return!0;if(BA(t))return!1;var n=t.fairplay,i=t.playready,e=t.widevine,r=t.clearkey,s=t.aes128;return EA(n)&&EA(i)&&EA(e)&&EA(r)&&EA(s)}function xA(t){var n=kA(t),i=function(t){var n,i=t;return yA(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!mA(i)}(t);return(!n||!i)&&(n||i)}function OA(t){return t.integration===$b}function PA(t){var n=t;if(!n)return!1;if(CA(n))return!1;var i=n.fairplay,e=n.playready,r=n.widevine,s=n.clearkey;if(BA(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(e&&!NA(e))return!1;if(r&&!DA(r))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(AA.CT.IT(n.integration))return!0;switch(n.integration){case jb:if(!function(t){return t.integration===jb&&(LA(t)||MA(t))}(t))return!1;break;case Kb:if(!UA(t))return!1;break;case tA:if(!function(t){return t.integration===tA}(t))return!1;break;case $b:if(!OA(t))return!1;break;case Zb:if(!xA(t))return!1;break;case Jb:if(!function(t){return t.integration===Jb}(t))return!1;break;case nA:if(!BA(t))return!1;break;case iA:if(!function(t){var n=t;return n.integration===iA&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case eA:if(!function(t){return t.integration===eA}(t))return!1;break;case sA:if(!FA(t))return!1;break;case uA:if(!function(t){return t.integration===uA}(t))return!1;break;case oA:if(!HA(t))return!1;break;case rA:if(!function(t){var n=t;return n.integration===rA&&void 0!==n.token}(t))return!1;break;case hA:if(!function(t){return t.integration===hA}(t))return!1;break;case aA:if(!function(t){var n=t;return n&&F(n.releasePid)&&F(n.accountId)&&F(n.token)}(t))return!1;break;case cA:return!0;default:return!1}}return!0}function BA(t){return t.integration===nA}function LA(t){return void 0!==t.authToken}function MA(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function UA(t){var n=t;return n.integration===Kb&&void 0!==n.token}function FA(t){var n=t;return n&&n.integration===sA&&q(n.ticketAcquisitionURL)&&q(n.streamId)}function HA(t){var n=t;return n.integration===oA&&void 0!==n.token}function zA(t,n){var i,e,r,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:SA[t],o=null!=(e=null==s?void 0:s.customdata)?e:n.customdata,h=o?{customData:o}:{},a=Rr({},null!=(r=null==s?void 0:s.headers)?r:{},h),c=null!=s?s:{};return c.customdata,Rr({},wA(c,TA),{licenseAcquisitionURL:u,headers:a})}function VA(t){switch(t.toLowerCase()){case"widevine":case Qr:return Qr;case"playready":case Xr:return Xr;case"fairplay":case Jr:return Jr}}function WA(t,i){switch(t){case Hr:return function(t){for(var n={},i=Rp.Pk(new DataView(t)),e=0;e<i.length;e++){var r=i[e];n[r.Lb]=r.Fb}return n}(i);case zr:case Vr:return function(t){var n;return(n={})[Zr]=t,n}(i);default:throw new Tc(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Je="Widevine",t.Ze="PlayreadyV2",t.xT="PlayreadyV2",t.OT="PlayreadyV3",t.Ke="Fairplay"}(IA||(IA={}));var XA={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function qA(t,n){var e,r,s,u,o=XA[n],h=t.accountName;return{CustomerName:t.customerName,AccountName:h,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(e=i.Oe)?void 0:e.Pe,OSVersion:null==(r=i.Oe)?void 0:r.He,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null==(s=i.Oe)?void 0:s.ze,DeviceModel:null==(u=i.Oe)?void 0:u.Ve}}}function GA(t,i){if(!t.accountName)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function QA(t,n,i){var e;if(LA(t))e={AuthToken:t.authToken,Payload:n};else{if(!MA(t))throw GA(t,i);e={LatensRegistration:qA(t,i),Payload:n}}return Nu(JSON.stringify(e))}function YA(t,i,e){var r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(r=t.pv){h.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,i);case 3:return s=r,h.prev=4,h.next=7,Er.awrap(s.df(e));case 7:u=h.sent,o=jA(u),h.next=14;break;case 11:h.prev=11,h.t0=h.catch(4),o="";case 14:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",t,s.Bf.Mf,s.Df,s.Of,o);case 15:case"end":return h.stop()}},null,null,[[4,11]],ze)}function jA(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var ZA=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e,qc.Va)||this).PT=void 0,r}S(e,t),e.BT=function(){return i.Pe.ie?"required":"optional"};var r=e.prototype;return r.eT=function(t,n,i){return YA(t,n,i)},r.KA=function(t){return this.PT?qs(this.PT.Ss,t):(this.PT=new Ro,ze.resolve())},r.cT=function(t,i){var e,r;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=this.XA){i.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return r=pu(t),i.abrupt("return",QA(e,r,IA.Je));case 5:case"end":return i.stop()}},null,this,null,ze)},r.hT=function(t){var i;if(!t.license)throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=yu(t.license),ze.resolve(i)},r.LT=function(t){return ze.resolve(new y(t))},r.lT=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return this.MT(),r.next=3,Er.awrap(this.cT(t,n));case 3:return i=r.sent,r.next=6,Er.awrap(this.nT(i,qc.za,m_.Qf,n));case 6:return e=r.sent,r.next=9,Er.awrap(this.LT(e));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,ze)},r._T=function(n,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(t.prototype._T.call(this,n,i));case 2:return e=r.sent,this.MT(),r.abrupt("return",e);case 5:case"end":return r.stop()}},null,this,null,ze)},r.MT=function(){this.PT||(this.PT=new Ro),this.PT.Is()},r.hv=function(){this.PT&&this.PT.Cr(),t.prototype.hv.call(this)},e}(gA),JA=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://widevine-proxy.drm.technology/proxy"),r}return S(i,t),i.prototype.cT=function(t,i){var e,r,s,u;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(dA(t,this.GA));case 2:if(e=i.sent,r=this.qA,o=new y(e),s=[].slice.call(o),u=this.UT){i.next=8;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return i.abrupt("return",JSON.stringify({token:u,drm_info:s,kid:r}));case 9:case"end":return i.stop()}var o},null,this,null,ze)},A(i,[{key:"UT",get:function(){if(UA(this.XA))return this.XA.token}}]),i}(gA);function $A(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Rr({},i,{SessionId:t.sessionId,Ticket:t.ticket})),Rr({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var KA=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return dA(t,this.GA)},i.sT=function(n,i){var e=n;return OA(this.XA)&&(e=$A(this.XA,e)),t.prototype.sT.call(this,e,i)},n}(gA),tT="Conax-Custom-Data";function nT(t,n,i){var e=t&&xA(t)&&t;if(e&&!i.has(tT)){var r=kA(e)?e.token:void 0,s=kA(e)?e.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:r,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(tT,u)}return i}var iT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://connect.conax.com:8094/license"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return dA(t,this.GA)},i.rT=function(){var n=t.prototype.rT.call(this);return nT(this.XA,"Widevine",n)},n}(gA);function eT(t){var n=ao(new y(t));return yu(JSON.parse(n).license)}function rT(t){return"string"==typeof t.token?t.token:Nu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function sT(t,n,i){var e;return e=i.token?"x-dt-auth-token":"dt-custom-data",t.set(e,n),t}var uT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e,qc.za)||this).JA("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),r}S(n,t);var i=n.prototype;return i.cT=function(t,n){return dA(t,this.GA)},i.hT=function(t){return ze.resolve(eT(t))},i.rT=function(){return sT(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return rT(this.XA)}}]),n}(gA),oT=function(t){function n(n,i,e){return t.call(this,n,i,e,qc.za)||this}S(n,t);var i=n.prototype;return i.cT=function(t,n){return dA(t,this.GA)},i.rT=function(){var n=t.prototype.rT.call(this),i=this.XA.token;return n.set("Authorization","Bearer "+i),n},n}(gA);function hT(t,i,e,r){var s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(FA(t)){v.next=2;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Gc).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(u=t.sessionId)&&s.append("XSSESSION",u),o=t.streamId,h=t.fairplay?"persistent"===t.fairplay.licenseType?"persistent":"non-persistent":t.widevine&&"persistent"===t.widevine.licenseType?"persistent":"non-persistent",a={drmType:i,licenseType:h,streamId:o},c={Mf:t.ticketAcquisitionURL,xf:qc.Va,Cf:s,tv:g_.POST,yf:JSON.stringify(a),Pr:r},v.next=13,Er.awrap(e.Bf(c));case 13:return f=v.sent,v.next=16,Er.awrap(f.df());case 16:return v.abrupt("return",v.sent);case 17:case"end":return v.stop()}},null,null,null,ze)}var aT=function(t){function n(n,i,e){return t.call(this,n,i,e,qc.Va)||this}S(n,t);var i=n.prototype;return i.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type","application/json"),n},i.cT=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return i=Iu(t.buffer),e=this.XA,u.next=4,Er.awrap(hT(e,"widevine_modular",this.kd,n));case 4:return r=u.sent,this.JA(r.licenseServerUrl),s=co(JSON.stringify({payload:i,ticket:r.ticket})),u.abrupt("return",dA(s,this.GA));case 8:case"end":return u.stop()}},null,this,null,ze)},i.hT=function(t){var n=t;return ze.resolve(yu(n.license))},n}(gA),cT=function(t){function i(n,i,e){return t.call(this,n,i,e,qc.za)||this}S(i,t);var e=i.prototype;return e.cT=function(t,n){return dA(t,this.GA)},e.rT=function(){if(!HA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},i}(gA);function fT(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var vT=function(t){function n(n,i,e){var r;return(r=t.call(this,Kr,n,i,e,qc.za)||this).FT=void 0,r}S(n,t);var e=n.prototype;return e.jA=function(t){return t.playready||{}},e.rT=function(){var n=new Gc(this.FT);return n.Ga(t.prototype.rT.call(this)),n},e.HT=function(t){return t.length>=1&&t[0].jn.length>0},e.tT=function(n){var i=this.XA.playready.customData;if(i){var e=fT(i),r=fT('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+pu(e)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return ze.resolve({playready:{Dh:r}})}return t.prototype.tT.call(this,n)},e.cT=function(t,n){var i;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(dA(t,this.GA));case 2:return i=n.sent,n.abrupt("return",this.zT(i));case 4:case"end":return n.stop()}},null,this,null,ze)},e.zT=function(t){var n,e,r,s,u,o,h,a,c,f,v,d,l,_,g,w;return Er.async(function(m){for(;;)switch(m.prev=m.next){case 0:u=null,o=new DataView(t),h=uo(o,new So,!0),m.prev=3,a=i.Mn(h),m.next=10;break;case 7:return m.prev=7,m.t0=m.catch(3),m.abrupt("return",u);case 10:for(c=null==(n=a.Yn("PlayReadyKeyMessage")[0])?void 0:n.Yn("LicenseAcquisition")[0],f=null!=(e=null==c?void 0:c.Yn("Challenge"))?e:[],this.HT(f)&&(u=Ru(f[0].hi)),v=new Gc,d=null!=(r=null==c?void 0:null==(s=c.Yn("HttpHeaders")[0])?void 0:s.Yn("HttpHeader"))?r:[],l=0;l<d.length;l++)_=d[l],g=_.Yn("name")[0].hi,w=_.Yn("value")[0].hi,v.append(g,w);return this.FT=v,m.abrupt("return",u);case 18:case"end":return m.stop()}},null,this,[[3,7]],ze)},e.lT=function(t,n){return ze.resolve(t)},e._T=function(n,i){return t.prototype.aT.call(this,n,m_.Yf,i)},n}(fA),dT=function(){function t(n){this.yo=void 0,this.VT=n,this.yo=t.WT(n)}return t.WT=function(t){return"3"===t.version?IA.OT:IA.xT},t.prototype.XT=function(){var t={};if(this.yo===IA.OT){var n={LatensRegistration:qA(this.VT,IA.OT)};t["X-TITANIUM-DRM-CDATA"]=Nu(JSON.stringify(n))}return t},A(t,[{key:"qT",get:function(){return this.yo}},{key:"gh",get:function(){return this.yo===IA.xT}}]),t}();var lT=function(t){function e(n,i,e){var r;return(r=t.call(this,n,i,e)||this).GT=void 0,r.GT=new dT(r.XA),r}S(e,t);var r=e.prototype;return r.tT=function(t){var i=this.XA;if(!this.XA)throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(MA(i)){var e={};return e.playready={Dh:_T(i,this.GT.qT)},ze.resolve(e)}return ze.reject(GA(i,IA.Ze))},r.rT=function(){var n=new Gc(this.GT.XT());return n.Ga(t.prototype.rT.call(this)),n},r.eT=function(t,e,r){var s,u,o,h,a,c,f,v;return Er.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=t.pv){d.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e);case 3:return d.prev=3,d.next=6,Er.awrap(s.gf(r));case 6:h=d.sent,a=ao(new y(h)),(c=i.Mn(a))&&(f=Op(c,"CustomData")).length>0&&(u=JSON.parse(f[0].hi),o=null==(v=u.DrmErr)?void 0:v.desc),d.next=14;break;case 12:d.prev=12,d.t0=d.catch(3);case 14:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",t,e,s.Df,s.Of,o);case 15:case"end":return d.stop()}},null,null,[[3,12]],ze)},r.HT=function(t){if(1!==t.length)throw new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},e}(vT);function _T(t,n){var i=qA(t,n),e=i.DeviceInfo.FormatVersion,r=Nu('<LatensRegistration formatversion="'+e+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+e+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=vo(("<TitaniumCustomData>"+r+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return vo('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+pu(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var gT,wT=function(t){function i(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://playready-license.drm.technology/rightsmanager.asmx"),r}S(i,t);var e=i.prototype;return e.HT=function(t){if(1!==t.length)throw new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},e.sT=function(n,i){var e=Rr({},n||{},{token:this.UT});return t.prototype.sT.call(this,e,i)},A(i,[{key:"UT",get:function(){if(UA(this.XA))return this.XA.token}}]),i}(vT),mT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),r}return S(n,t),n.prototype.sT=function(n,i){var e=n;return OA(this.XA)&&(e=$A(this.XA,e)),t.prototype.sT.call(this,e,i)},n}(vT),yT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),r}return S(n,t),n.prototype.rT=function(){var n=t.prototype.rT.call(this);return nT(this.XA,"PlayReady",n)},n}(vT),kT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).JA("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),r}S(n,t);var i=n.prototype;return i.hT=function(n){return(os(ao(new y(n)),"<?xml")?gT.QT:gT.df)===gT.df?ze.resolve(eT(n)):ze.resolve(t.prototype.hT.call(this,new y(n)))},i.rT=function(){return sT(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return rT(this.XA)}}]),n}(vT);!function(t){t[t.QT=0]="QT",t[t.df=1]="df"}(gT||(gT={}));var pT,bT=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).YT=void 0,r}S(n,t);var i=n.prototype;return i.rT=function(){var n=t.prototype.rT.call(this);return this.YT&&n.set("Ticket",this.YT),n.set("Content-Type","text/xml"),n},i.cT=function(n,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.XA,s.next=3,Er.awrap(hT(e,"playready",this.kd,i));case 3:return r=s.sent,this.JA(r.licenseServerUrl),this.YT=r.ticket,s.abrupt("return",t.prototype.cT.call(this,n,i));case 7:case"end":return s.stop()}},null,this,null,ze)},n}(vT),AT=function(t){function i(){return t.apply(this,arguments)||this}return S(i,t),i.prototype.rT=function(){if(!HA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},i}(vT);!function(t){t.Va="application/json",t.jT="application/x-www-form-urlencoded",t.ZT="application/octet-stream",t.On="text/plain;charset=UTF-8"}(pT||(pT={}));var TT=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n.eh,i,e,r,s)||this).JT="",u.$T=void 0,u.KT=void 0,u.KT=n.tS,u}S(n,t);var i=n.prototype;return i.nS=function(){return this.GA.certificateURL||this.$T},i.iS=function(t){this.$T=t},i.cT=function(t){return ze.resolve(this.eS(t,this.JT))},i.eS=function(t,n){return"spc="+encodeURIComponent(pu(t))+"&assetId="+encodeURIComponent(n)},i.jA=function(t){return t.fairplay||{}},i.rS=function(t){var n=t.indexOf("?");if(n>=0)return ze.resolve(t.substr(n+1));var i=t.split("/");return ze.resolve(i[i.length-1])},i.tT=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=null!=(n=this.KT)?n:_o(new y(t)),s.next=3,Er.awrap(this.rS(i));case 3:return e=s.sent,this.JT=e,(r={}).fairplay={Mh:e},s.abrupt("return",r);case 8:case"end":return s.stop()}},null,this,null,ze)},i.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type",this.sS),n},i.lT=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vT){t.next=2;break}return t.abrupt("return",this.vT);case 2:return t.next=4,Er.awrap(this.uS(n));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},null,this,null,ze)},i._T=function(n,i){return t.prototype.aT.call(this,n,m_.Xf,i)},i.oS=function(t){var n=this.nS(),i=this.rT(),e={Mf:n,xf:qc.za,Cf:i,tv:g_.GET,sv:!1,yf:null,nv:0,Pr:t,nr:w_.Vf,ev:m_.qf};return new p_(e)},i.uS=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=this.oS(t),r.next=3,Er.awrap(this.kd.Bf(n));case 3:return i=r.sent,r.next=6,Er.awrap(i.gf());case 6:return e=r.sent,r.abrupt("return",new y(e));case 8:case"end":return r.stop()}},null,this,null,ze)},i.hT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=yu(i)}else n=new y(t);return ze.resolve(n)},i.sT=function(n,i){var e=t.prototype.sT.call(this,n,i);return os(e,"skd:")&&(e=e.substr("skd:".length)),e},A(n,[{key:"dT",get:function(){return!0}},{key:"sS",get:function(){return pT.jT}}]),n}(fA),ST=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}S(n,t);var i=n.prototype;return i.rS=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return ze.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return ze.resolve(i)},i.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},i.hT=function(t){return ze.resolve(new y(t))},i.sT=function(n,i){var e=n||{};return e.p1=zt(),t.prototype.sT.call(this,e,i)},A(n,[{key:"sS",get:function(){return pT.ZT}}]),n}(TT),ET=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.za)||this).JA("https://fairplay-license.drm.technology/license"),s.iS("https://fairplay-license.drm.technology/certificate"),s}S(i,t);var e=i.prototype;return e.eS=function(t,n){var i={token:this.UT,contentId:n,payload:pu(t)};return JSON.stringify(i)},e.hT=function(t){return ze.resolve(new y(t))},e.rT=function(){var n=t.prototype.rT.call(this);return n.set("x-vudrm-token",this.UT),n},A(i,[{key:"sS",get:function(){return pT.Va}},{key:"UT",get:function(){if(!UA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.XA.token}}]),i}(TT),RT="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",IT="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",NT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}return S(i,t),i.prototype.hT=function(i){var e=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,RT)}if(!i)throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,IT);return i}(ao(new DataView(i)));return t.prototype.hT.call(this,e)},i}(TT);var DT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.Va)||this}S(i,t);var e=i.prototype;return e.cT=function(t){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.XA){r.next=3;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=pu(t),r.abrupt("return",QA(i,e,IA.Ke));case 5:case"end":return r.stop()}},null,this,null,ze)},e.hT=function(t){try{var i;if(q(t)){var e=t.trim();i=JSON.parse(e)}else i=t;if(i.license){var r=Ru(i.license);return ze.resolve(new y(r))}return ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},e.eT=function(t,n,i){return YA(t,n,i)},A(i,[{key:"sS",get:function(){return pT.Va}}]),i}(TT),CT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.za)||this).JA("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.iS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}S(n,t);var e=n.prototype;return e.nS=function(){var n=t.prototype.nS.call(this);if(!n)return n;var e=i.Ce(n),r=this.XA;return OA(r)&&T_(e,{accountId:r.accountId,applicationId:r.applicationId||""}),e.href},e.rS=function(n){return OA(this.XA)?ze.resolve(this.XA.contentId):t.prototype.rS.call(this,n)},e.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},e.hT=function(t){return ze.resolve(new y(t))},e.sT=function(n,i){var e=n;return OA(this.XA)&&(e=function(t,n){return Rr({},$A(t,n),{KeyId:t.keyId})}(this.XA,e)),t.prototype.sT.call(this,e,i)},A(n,[{key:"sS",get:function(){return pT.ZT}}]),n}(TT),xT=function(t){function i(i,e,r,s){var u;if(u=t.call(this,i,e,r,s,qc.On)||this,!xA(e))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.JA("https://connect.conax.com:8097/license"),u}S(i,t);var e=i.prototype;return e.rT=function(){var n=t.prototype.rT.call(this);return nT(this.XA,"FairPlay",n)},e.uS=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.nS(),i={Mf:n,xf:qc.za,Cf:{},tv:g_.GET,sv:!1,yf:null,nv:0,Pr:t,nr:w_.Vf,ev:m_.qf},s.next=4,Er.awrap(this.kd.Bf(i));case 4:return e=s.sent,s.next=7,Er.awrap(e.gf());case 7:return r=s.sent,s.abrupt("return",new y(r));case 9:case"end":return s.stop()}},null,this,null,ze)},e.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},e.rS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),ze.resolve(ao(yu(n)))):ze.resolve("unknown")},e.hT=function(t){try{var n=JSON.parse(t);return ze.resolve(new y(Ru(n.CkcMessage)))}catch(t){return ze.reject("CFLRW-66")}},i}(TT),OT=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.On)||this).JA(SA[Ur.Ke]),s}S(i,t);var e=i.prototype;return e.rS=function(t){return os(t,"skd://")?ze.resolve(t.substring("skd://".length,40)):ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},e.eS=function(t,n){return"spc="+pu(t)+"&assetId="+n},i}(TT),PT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.On)||this).JA("https://lic.drmtoday.com/license-server-fairplay/"),s}S(n,t);var i=n.prototype;return i.eS=function(t,n){var i="spc="+encodeURIComponent(pu(t))+"&"+encodeURI(n);return"persistent"===this.GA.licenseType?i+"&offline=true":i},i.rT=function(){return sT(t.prototype.rT.call(this),this.UT,this.XA)},A(n,[{key:"UT",get:function(){return rT(this.XA)}}]),n}(TT),BT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}S(n,t);var e=n.prototype;return e.rS=function(t){var n=t;return os(n,"skd:")&&(n="http:"+n.substring(4)),os(n,"http:")||os(n,"https:")?ze.resolve(i.Ce(n).hostname):ze.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},e.cT=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t);case 1:case"end":return n.stop()}},null,null,null,ze)},e.hT=function(t){return ze.resolve(new y(t))},A(n,[{key:"sS",get:function(){return pT.ZT}}]),n}(TT),LT=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,qc.On)||this}return S(n,t),n.prototype.rT=function(){var n=t.prototype.rT.call(this),i=this.XA.token;return n.set("Authorization","Bearer "+i),n},n}(TT),MT=function(t){function n(n,i,e,r){var s;if(s=t.call(this,n,i,e,r,qc.Va)||this,!FA(i))throw new v("Invalid Xstream DRM configuration");return s}S(n,t);var i=n.prototype;return i.uS=function(t){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this.nS(),i=this.rT(),e={Mf:n,xf:qc.Va,Cf:i,tv:g_.POST,Pr:t,nr:w_.Vf,ev:m_.qf},u.next=5,Er.awrap(this.kd.Bf(e));case 5:return r=u.sent,u.next=8,Er.awrap(r.df());case 8:return s=u.sent,u.abrupt("return",new y(yu(s.certificate)));case 10:case"end":return u.stop()}},null,this,null,ze)},i._T=function(t,n,i){var e,r,s,u,o,h,a;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return e=pu(t),r=this.XA,i.next=5,Er.awrap(hT(r,"fairplay",this.kd,n));case 5:return s=i.sent,u=co(JSON.stringify({spc:e,ticket:s.ticket})),o={Mf:this.$A(),xf:qc.Va,Cf:this.rT(),tv:g_.POST,yf:u,nv:0,Pr:n,nr:w_.Vf,ev:m_.Xf},i.next=10,Er.awrap(this.kd.Bf(o));case 10:return h=i.sent,i.next=13,Er.awrap(h.df());case 13:return a=i.sent,i.abrupt("return",yu(a.licence));case 15:case"end":return i.stop()}},null,this,null,ze)},A(n,[{key:"sS",get:function(){return pT.Va}}]),n}(TT),UT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.On)||this}S(i,t);var e=i.prototype;return e.eS=function(t,n){return pu(t)},e.hT=function(i){if(0===i.length)throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.hT.call(this,i)},e.rT=function(){var n=t.prototype.rT.call(this);return n.set("Content-Type","text/plain"),n},i}(TT),FT=function(t){function i(n,i,e,r){return t.call(this,n,i,e,r,qc.za)||this}S(i,t);var e=i.prototype;return e.eS=function(t,n){return t},e.hT=function(t){return ze.resolve(new y(t))},e.rT=function(){if(!HA(this.XA))throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rT.call(this);return i.set("X-AxDRM-Message",this.XA.token),i},A(i,[{key:"sS",get:function(){return pT.Va}}]),i}(TT),HT=function(t){function e(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.Va)||this).hS=void 0,s}S(e,t);var r=e.prototype;return r.eS=function(t,n){var i={spc:pu(t)};return JSON.stringify(i)},r.rS=function(t){var e=i.Ce(t);return this.hS=t,e.searchParams.has("b")?ze.resolve(e.searchParams.get("b")):ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.sT=function(n,i){var e=this.$A();return!e&&this.hS&&(e=this.hS),e&&(e=e.replace("skd://","https://")),t.prototype.sT.call(this,n,i||e)},r.hT=function(t){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=q(t)?JSON.parse(t.trim()):t).ckc){e.next=4;break}return e.abrupt("return",yu(i.ckc));case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return e.stop()}},null,null,[[0,6]],ze)},A(e,[{key:"sS",get:function(){return pT.On}}]),e}(TT),zT=function(){function t(t,n){this.aS=t,this.cS=n}var n=t.prototype;return n.fS=function(t){return this.aS(t)},n.vS=function(t,n){throw new d(n+" must be "+this.cS+". (Received: "+t+")")},t}();new zT(function(t){return!0},"any");var VT=new zT(j,"a number"),WT=new zT(q,"a string"),XT=new zT(G,"a boolean");new zT(Y,"a date"),new zT(H,"undefined"),new zT(W,"an object"),new zT(function(t){return null===t},"null"),new zT(function(t){return null==t},"null or undefined");var qT,GT=(qT={responseCode:VT,isException:XT,description:WT,title:WT,correlationId:WT},{fS:function(t){if(!W(t))return!1;for(var n=0,i=l.keys(qT);n<i.length;n++){var e=i[n];if(!qT[e].fS(t[e]))return!1}return!0},vS:function(t,n){if(!W(t))throw new d(n+" must be an object.");for(var i=0,e=l.keys(qT);i<e.length;i++){var r=e[i],s=qT[r];if(!s.fS(t[r]))return s.vS(t[r],n+"."+String(r))}throw new d}});function QT(t,n,i,e,r){var s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=YT(t,n,i,r),u.next=3,Er.awrap(jT(s,e));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,null,null,ze)}function YT(t,n,e,r){var s={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var e=i.Ce(t);return T_(e,n),e.toString()}(e,s)),o=new Gc({});o.append("Content-Type","application/json");var h=pu(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:h}};return{Mf:u,xf:qc.On,Cf:o,tv:g_.POST,yf:JSON.stringify(a),Pr:r,nr:w_.Vf,ev:m_.Xf}}function jT(t,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Er.awrap(i.Bf(t));case 2:return e=s.sent,s.next=5,Er.awrap(e.df());case 5:if(r=s.sent,!GT.fS(r)){s.next=8;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,r.description,void 0,t.Mf,r.responseCode);case 8:return s.abrupt("return",yu(r.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return s.stop()}},null,null,null,ze)}var ZT=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,qc.za)||this).dS=void 0,s.dS=i,s}S(n,t);var i=n.prototype;return i.rS=function(n){var i=n.replace("FairPlay",this.dS.releasePid);return t.prototype.rS.call(this,i)},i._T=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(QT(t,this.dS,this.$A(),this.kd,n));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},null,this,null,ze)},n}(TT),JT=function(t){function i(n,i,e){return t.call(this,is,n,i,e,qc.za)||this}S(i,t);var e=i.prototype;return e.jA=function(t){return t.clearkey||{}},e.cT=function(t,n){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",dA(t,this.GA));case 1:case"end":return n.stop()}},null,this,null,ze)},e.nT=function(i,e,r,s){var u,o;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.GA,!this.$A()){e.next=5;break}return e.abrupt("return",t.prototype.nT.call(this,i,this.YA,r,s));case 5:if(!u.keys||!u.keys.length){e.next=10;break}return o={keys:u.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},e.abrupt("return",co(JSON.stringify(o)).buffer);case 10:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return e.stop()}},null,this,null,ze)},e.lT=function(t,n){return ze.resolve(new y(0))},e._T=function(n,i){return t.prototype.aT.call(this,n,m_.jf,i)},i}(fA),$T=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.cT=function(t,n){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",dA(t,this.GA));case 1:case"end":return n.stop()}},null,this,null,ze)},n}(gA),KT={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function tS(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=aS(n),(r=t.onCertificateRequest)&&"function"==typeof r){u.next=5;break}return u.abrupt("return",ze.resolve(n));case 5:return u.next=8,Er.awrap(qs(ze.resolve(r.call(t,e)),i));case 8:if(!po(s=u.sent)){u.next=11;break}return u.abrupt("return",bo(s));case 11:return u.abrupt("return",hS(Rr({},KT,s)));case 12:case"end":return u.stop()}},null,null,null,ze)}function nS(t,n,i,e,r){var s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=t.onCertificateResponse,u=oS(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",ze.resolve(n));case 5:return h.next=8,Er.awrap(qs(ze.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",bo(o));case 10:case"end":return h.stop()}},null,null,null,ze)}function iS(t,n,i,e){var r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Er.awrap(rS(t,n,i,e));case 2:if(!((r=s.sent)instanceof ArrayBuffer)){s.next=5;break}return s.abrupt("return",r);case 5:return s.abrupt("return",hS(r));case 6:case"end":return s.stop()}},null,null,null,ze)}function eS(t,n,i,e,r,s){var u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return u=uS(i,r),h.next=3,Er.awrap(sS(t,new y(n),u,e,s));case 3:return o=h.sent,h.abrupt("return",bo(o).buffer);case 5:case"end":return h.stop()}},null,null,null,ze)}function rS(t,n,i,e){var r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(r=null==t?void 0:t.onLicenseRequest,s=uS(n,i),r&&"function"==typeof r){o.next=5;break}return o.abrupt("return",ze.resolve(s));case 5:return o.next=8,Er.awrap(qs(ze.resolve(r.call(t,s)),e));case 8:if(!po(u=o.sent)){o.next=11;break}return o.abrupt("return",bo(u).buffer);case 11:return o.abrupt("return",Rr({fairplaySkdUrl:void 0},KT,u));case 12:case"end":return o.stop()}},null,null,null,ze)}function sS(t,n,i,e,r){var s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(s=null==t?void 0:t.onLicenseResponse,u=oS(n,i,e),s&&"function"==typeof s){h.next=5;break}return h.abrupt("return",ze.resolve(n));case 5:return h.next=8,Er.awrap(qs(ze.resolve(s.call(t,u)),r));case 8:return o=h.sent,h.abrupt("return",bo(o));case 10:case"end":return h.stop()}},null,null,null,ze)}function uS(t,n){return Rr({},aS(t),{fairplaySkdUrl:n})}function oS(t,n,i){return{url:i.Lf,status:i.Df,statusText:i.Of,headers:i.Cf.Xa(),body:t,request:n}}function hS(t){return new p_({Mf:t.url,tv:t.method,Cf:t.headers,yf:t.body,sv:t.useCredentials})}function aS(t){var n;return{url:t.Mf,body:null!=(n=cS(t.yf))?n:null,headers:t.Cf.Xa(),method:t.tv,useCredentials:t.sv}}function cS(t){if(t)return"string"==typeof t?go(t):t instanceof ArrayBuffer?new y(t):Au(t)?ko(t):void 0}var fS,vS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e)||this).lS=void 0,s.lS=r,s}S(i,t);var e=i.prototype;return e.lT=function(t,n){return ze.resolve(t)},e._T=function(t,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Er.awrap(this.zT(To(t).buffer));case 2:return e=h.sent,r=this.iT(e,qc.za,m_.Yf,i),h.next=6,Er.awrap(iS(this.lS,r,void 0,i));case 6:if(!((s=h.sent)instanceof ArrayBuffer)){h.next=10;break}return h.abrupt("return",new y(s));case 10:if(""!==s.Mf){h.next=12;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return h.prev=12,h.next=15,Er.awrap(this.kd.Bf(s));case 15:return u=h.sent,h.next=18,Er.awrap(u.gf(i));case 18:return o=h.sent,h.t0=y,h.next=22,Er.awrap(eS(this.lS,o,r,u,void 0,i));case 22:return h.t1=h.sent,h.abrupt("return",new h.t0(h.t1));case 26:throw h.prev=26,h.t2=h.catch(12),Ws(h.t2),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",h.t2);case 30:case"end":return h.stop()}},null,this,[[12,26]],ze)},i}(vT),dS=function(t){function i(n,i,e,r){var s;return(s=t.call(this,n,i,e,qc.za)||this).lS=void 0,s.lS=r,s}S(i,t);var e=i.prototype;return e.lT=function(t,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.vT){h.next=2;break}return h.abrupt("return",this.vT);case 2:return e=this.iT(t,qc.za,m_.Qf,i),h.next=5,Er.awrap(tS(this.lS,e,i));case 5:if(!((r=h.sent)instanceof y)){h.next=9;break}return h.abrupt("return",r);case 9:if(""!==r.Mf){h.next=11;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return h.prev=11,h.next=14,Er.awrap(this.kd.Bf(r));case 14:return s=h.sent,h.next=17,Er.awrap(s.gf(i));case 17:u=h.sent,h.next=24;break;case 20:throw h.prev=20,h.t0=h.catch(11),Ws(h.t0),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",h.t0);case 24:return o=uS(e,void 0),h.next=27,Er.awrap(nS(this.lS,new y(u),o,s,i));case 27:return h.abrupt("return",h.sent);case 28:case"end":return h.stop()}},null,this,[[11,20]],ze)},e._T=function(t,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.iT(t,qc.za,m_.Gf,i),o.next=3,Er.awrap(iS(this.lS,e,void 0,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Mf){o.next=9;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Er.awrap(this.kd.Bf(r));case 12:return s=o.sent,o.next=15,Er.awrap(s.gf(i));case 15:u=o.sent,o.next=22;break;case 18:throw o.prev=18,o.t0=o.catch(9),Ws(o.t0),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",o.t0);case 22:return o.t1=y,o.next=25,Er.awrap(eS(this.lS,u,e,s,void 0,i));case 25:return o.t2=o.sent,o.abrupt("return",new o.t1(o.t2));case 27:case"end":return o.stop()}},null,this,[[9,18]],ze)},i}($T),lS=function(t){function i(n,i,e,r,s){var u;return(u=t.call(this,n,i,e,r,qc.za)||this).lS=void 0,u._S=void 0,u.lS=s,u}S(i,t);var e=i.prototype;return e.lT=function(t,i){var e,r,s,u,o;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.vT){t.next=2;break}return t.abrupt("return",this.vT);case 2:return e=this.oS(i),t.next=5,Er.awrap(tS(this.lS,e,i));case 5:if(r=t.sent,!Au(r)){t.next=8;break}return t.abrupt("return",r);case 8:return t.prev=8,t.next=11,Er.awrap(this.kd.Bf(r));case 11:return s=t.sent,t.next=14,Er.awrap(s.gf());case 14:return u=t.sent,o=uS(e,void 0),t.next=18,Er.awrap(nS(this.lS,new y(u),o,s,i));case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Ws(t.t0),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},null,this,[[8,21]],ze)},e._T=function(t,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e=this.iT(t,qc.za,m_.Xf,i),o.next=3,Er.awrap(iS(this.lS,e,this._S,i));case 3:if(!((r=o.sent)instanceof ArrayBuffer)){o.next=7;break}return o.abrupt("return",new y(r));case 7:if(""!==r.Mf){o.next=9;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return o.prev=9,o.next=12,Er.awrap(this.kd.Bf(r));case 12:return s=o.sent,o.next=15,Er.awrap(s.gf(i));case 15:return u=o.sent,o.t0=y,o.next=19,Er.awrap(eS(this.lS,u,e,s,this._S,i));case 19:return o.t1=o.sent,o.abrupt("return",new o.t0(o.t1));case 23:throw o.prev=23,o.t2=o.catch(9),Ws(o.t2),new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",o.t2);case 27:case"end":return o.stop()}},null,this,[[9,23]],ze)},e.rS=function(n){var i;return this._S=n,null!=(i=this.lS)&&i.extractFairplayContentId?ze.resolve(this.lS.extractFairplayContentId(n)):t.prototype.rS.call(this,n)},i}(TT),_S=function(){function t(){}var n=t.prototype;return n.gS=function(t,n,i,e){switch(t.eh.nr){case Ur.Je:return this.wS(n,i,e);case Ur.Ze:return this.mS(n,i,e);case Ur.Ke:return this.yS(t,n,i,e);case Ur.$e:default:return this.kS(n,i,e)}},n.wS=function(t,n,i){var e,r=(e=t).integration===cA&&q(e.customIntegrationId)?t.customIntegrationId:t.integration;if(r&&AA.CT.IT(r,Qr)){var s=AA.CT.DT(r,Qr,t);return new dS(t,n,i,s)}switch(r){case jb:return new ZA(t,n,i);case Kb:return new JA(t,n,i);case $b:return new KA(t,n,i);case Zb:return new iT(t,n,i);case iA:return new uT(t,n,i);case rA:return new oT(t,n,i);case sA:return new aT(t,n,i);case oA:return new cT(t,n,i);case nA:default:return new $T(t,n,i,qc.za)}},n.mS=function(t,n,i){var e=t.integration;if(e&&AA.CT.IT(e,Xr)){var r=AA.CT.DT(e,Xr,t);return new vS(t,n,i,r)}switch(e){case jb:return new lT(t,n,i);case Kb:return new wT(t,n,i);case $b:return new mT(t,n,i);case Zb:return new yT(t,n,i);case iA:return new kT(t,n,i);case sA:return new bT(t,n,i);case oA:return new AT(t,n,i);case nA:default:return new vT(t,n,i)}},n.yS=function(t,n,i,e){var r=n.integration;if(r&&AA.CT.IT(r,Jr)){var s=AA.CT.DT(r,Jr,n);return new lS(t,n,i,e,s)}switch(r){case Jb:return new ST(t,n,i,e);case Kb:return new ET(t,n,i,e);case tA:return new NT(t,n,i,e);case jb:return new DT(t,n,i,e);case $b:return new CT(t,n,i,e);case Zb:return new xT(t,n,i,e);case nA:return new OT(t,n,i,e);case iA:return new PT(t,n,i,e);case eA:return new BT(t,n,i,e);case rA:return new LT(t,n,i,e);case sA:return new MT(t,n,i,e);case uA:return new UT(t,n,i,e);case oA:return new FT(t,n,i,e);case hA:return new HT(t,n,i,e);case aA:return new ZT(t,n,i,e);default:return new TT(t,n,i,e,qc.On)}},n.kS=function(t,n,i){return new JT(t,n,i)},n.pS=function(t){return t.nr===Ur.Ze||t.nr===Ur.Je||t.nr===Ur.Ke||t.nr===Ur.$e},n.gh=function(t,n){var i;if(t.nr!==Ur.Ze)return!1;if(F(null==(i=n.playready)?void 0:i.customData))return!0;var e=n.integration;return(!e||!AA.CT.IT(e,Jr))&&(e===jb&&new dT(n).gh)},n.BT=function(t,n){if(t.nr===Ur.Je){var i=n.integration;if(!i||!AA.CT.IT(i,Jr))return i===jb?ZA.BT():void 0}},t}();!function(t){t[t.bS=0]="bS",t[t.AS=1]="AS",t[t.TS=2]="TS",t[t.SS=3]="SS",t[t.ES=4]="ES",t[t.RS=5]="RS",t[t.Yl=6]="Yl",t[t.IS=7]="IS",t[t.t_=8]="t_",t[t.NS=9]="NS",t[t.DS=10]="DS"}(fS||(fS={}));var gS=function(){function t(){}return t.prototype.CS=function(t){},A(t,[{key:"xS",get:function(){return 0}},{key:"OS",get:function(){return 0}}]),t}(),wS=function(){function t(t,n){void 0===n&&(n=new _S),this.mA=void 0,this.PS=void 0,this.VT=void 0,this.mA=t,this.PS=n}var n=t.prototype;return n.LS=function(t){this.VT=t},n.BT=function(t){var n=this.VT;if(void 0!==n)return this.PS.BT(t,n)},n.gh=function(t){var n=this.VT;return void 0!==n&&this.PS.gh(t,n)},n.MS=function(t){var n={eh:t.eh,US:t.US||[],tS:t.tS},i=this.PS.gS(n,this.VT||{},t.qA,this.mA);return new mS(i)},t}(),mS=function(){function t(t){this.FS=void 0,this.FS=t}var n=t.prototype;return n.KA=function(t){return this.FS.KA(t)},n.tT=function(t,n,i){return this.FS.tT(n,i)},n.dT=function(){return this.FS.dT||void 0!==this.FS.vT},n.lT=function(t,n){return this.FS.lT(t,n)},n._T=function(t,n,i){return n&&this.FS.JA(n),this.FS._T(t,i)},n.Sr=function(){this.FS.hv()},t}(),yS=function(t){function n(n){var i;(i=t.call(this)||this).HS=[],i.zS=function(t){i.$d(t.Id)},i.VS=function(t){var n=t.Id;i.WS(n)||i.Kd(n)};for(var e=0;e<n.length;e++){var r=n[e];i.XS(r)}return i}S(n,t);var i=n.prototype;return i.XS=function(t){this.HS.push(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.$d(e)}this.qS(t)},i.GS=function(t){Cs(this.HS,t),this.QS(t);for(var n=0,i=t.il;n<i.length;n++){var e=i[n];this.WS(e)||this.Kd(e)}},i.WS=function(t){for(var n=0,i=this.HS;n<i.length;n++){if(i[n].tl(t))return!0}return!1},i.qS=function(t){t.Hr(aw.pd,this.zS),t.Hr(aw.Ad,this.VS)},i.QS=function(t){t.Xr(aw.pd,this.zS),t.Xr(aw.Ad,this.VS)},i.hv=function(){for(;this.HS.length>0;)this.GS(this.HS[0]);t.prototype.hv.call(this)},i.Rd=function(){return Zw(this)},n}(kw);function kS(t){return{get enabled(){return t.ll},set enabled(n){t.ll=Cw(n)},get currentLatency(){return t.x_},get streamConfiguration(){if(void 0!==t.YS)return function(t){return{get minimumOffset(){return t.A_},get maximumOffset(){return t.S_},get targetOffset(){return t.T_},get forceSeekOffset(){return t.E_},get minimumPlaybackRate(){return t.R_},get maximumPlaybackRate(){return t.I_}}}(t.YS)},get configuration(){return function(t){return{get minimumOffset(){return t.A_},set minimumOffset(n){t.A_=xw(n)},get maximumOffset(){return t.S_},set maximumOffset(n){t.S_=xw(n)},get targetOffset(){return t.T_},set targetOffset(n){t.T_=xw(n)},get forceSeekOffset(){return t.E_},set forceSeekOffset(n){t.E_=xw(n)},get minimumPlaybackRate(){return t.R_},set minimumPlaybackRate(n){t.R_=xw(n)},get maximumPlaybackRate(){return t.I_},set maximumPlaybackRate(n){t.I_=xw(n)},update:function(n){t.Zo(function(t){var n={};void 0!==t.minimumOffset&&(n.A_=xw(t.minimumOffset));void 0!==t.maximumOffset&&(n.S_=xw(t.maximumOffset));void 0!==t.targetOffset&&(n.T_=xw(t.targetOffset));void 0!==t.forceSeekOffset&&(n.E_=xw(t.forceSeekOffset));void 0!==t.minimumPlaybackRate&&(n.R_=xw(t.minimumPlaybackRate));void 0!==t.maximumPlaybackRate&&(n.I_=xw(t.maximumPlaybackRate));return n}(n))}}}(t.rh)}}}var pS,bS=function(){function t(){this.Sd=void 0,this.jS=void 0,this.jS={E_:0,S_:0,I_:0,A_:0,R_:0,T_:0,Zo:Z}}return A(t,[{key:"Ed",get:function(){return null!=this.Sd||(this.Sd=kS(this)),this.Sd}},{key:"ll",get:function(){return!1},set:function(t){}},{key:"x_",get:function(){}},{key:"YS",get:function(){}},{key:"rh",get:function(){return this.jS}}]),t}();function AS(){return pS||(pS=ce&&ce.document&&ce.document.createElement("video")),pS}var TS=function(t){function n(n,i,e,r,s,u,o){var h;return void 0===u&&(u=new _S),void 0===o&&(o=Uc()),(h=t.call(this)||this).ZS=void 0,h.JS=void 0,h.$S=void 0,h.z_=void 0,h.V_=void 0,h.W_=void 0,h.KS=void 0,h.tE=void 0,h.nE=void 0,h.iE=void 0,h.eE=void 0,h.mA=void 0,h.hr=void 0,h.rE=void 0,h.sE=void 0,h.uE=new gS,h.oE=new bS,h.hE=function(t){var n=t.ts,i=n.code,e=new Tc(wy(i),"Something went wrong during native playback.",n),r=new ly(i,e.message,n.message);h.aE(e,r)},h.cE=function(){h.Fr(new Lm(h.v_,h.kg))},h.fE=function(t){h.w_||(h.sE=void 0),h.Fr(t)},h.vE=function(t){h.sE=void 0,h.Fr(t)},h.dE=function(){h.Fr(new My(h.bg))},h.lE=function(){h.p_>0&&h.k_>0&&h.Fr(new Ab)},h._E=function(t){h.z_.$d(new Cy(t.track))},h.gE=function(t){var n=ES(h.z_,t.track);n&&h.z_.Kd(n)},h.wE=function(){h.mE(h.z_)},h.yE=function(t){h.V_.$d(new Ly(t.track))},h.kE=function(t){var n=ES(h.V_,t.track);n&&h.V_.Kd(n)},h.pE=function(){h.mE(h.V_)},h.bE=function(t){h.Fr(t),h.aE(t.errorObject,gy(t.errorObject))},h.ZS=i,h.mA=e,h.hr=o,h.JS=h.ZS.AE(my.$f),h.nE=h.JS.TE.preload,h.iE=new Yb(h.JS,!0),h.iE.Hr(xm,h.Ur),h.rE=new wS(e,u),h.JS.SE=h.rE,h.EE(),h.z_=new yy,h.V_=new yy,h.RE(),h.eE=new gb(h.JS,h.mA),h.W_=new yS([h.JS.j_]),h.ag(),h}S(n,t);var i=n.prototype;return i.cg=function(){this.JS.cg()},i.ag=function(){this.JS.ag()},i.ig=function(t,n,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return Vs(i),e={nr:bb.EA,Ol:t.src,mf:t.type,IE:this.NE(t),Cg:this.nE,DE:t.crossOrigin,CE:n.metadata&&n.metadata.title},this.rE.LS(t.contentProtection),r.next=5,Er.awrap(this.JS.Yo(e));case 5:this.$S=r.sent,Vs(i),n.textTracks&&this.xE(n.textTracks),pb(this.j_);case 9:case"end":return r.stop()}},null,this,null,ze)},i.xE=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.JS.OE()&&L.Qt&&xb&&!ob(i.kind,i.label)&&this.PE(i)){var e,r=null!=(e=i.kind)?e:jp.Zy;this.JS.BE(i.src,r,i.label,i.srclang)}else{if(void 0===i.src)continue;this.eE.kA(i)}}},i.PE=function(t){return!t.format||"webvtt"===t.format},i.J_=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Er.awrap(this.JS.J_());case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.LE){t.next=12;break}return t.next=10,Er.awrap(this.JS.Yr(Xc.Ta));case 10:t.next=7;break;case 12:case"end":return t.stop()}},null,this,[[0,5]],ze)},i.K_=function(){this.JS.K_()},i.eg=function(){return void 0!==this.JS.TE.webkitShowPlaybackTargetPicker},i.rg=function(){this.JS.TE.webkitShowPlaybackTargetPicker&&this.JS.TE.webkitShowPlaybackTargetPicker()},i.sg=function(){this.JS.TE.webkitShowPlaybackTargetPicker&&this.JS.TE.webkitShowPlaybackTargetPicker()},i.fg=function(){return this.JS.TE},i.vg=function(){return this.JS.ME},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.KS=void 0,this.tE=void 0,this.$S=void 0,t.next=5,Er.awrap(this.eE.nl());case 5:return this.JS.UE(),t.next=8,Er.awrap(this.JS.nl());case 8:this.iE.nl(),this.Cg=this.nE,this.Q_.nl(),this.Y_.nl(),this.sE=void 0;case 13:case"end":return t.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.FE(),this.HE(),this.iE.hv(),this.JS.SE=void 0,t.next=9,Er.awrap(this.ZS.zE(this.JS));case 9:return this.z_.hv(),this.V_.hv(),this.W_.hv(),t.next=14,Er.awrap(this.eE.hv());case 14:case"end":return t.stop()}},null,this,null,ze)},i.EE=function(){this.JS.Hr(Xc.Aa,this.Ur),this.JS.Hr(Xc.ba,this.Ur),this.JS.Hr(Xc.La,this.cE),this.JS.Hr(Xc.Ta,this.Ur),this.JS.Hr(Xc.wa,this.Ur),this.JS.Hr(Xc.Na,this.Ur),this.JS.Hr(Xc.Ia,this.fE),this.JS.Hr(Xc.la,this.Ur),this.JS.Hr(Xc.Sa,this.Ur),this.JS.Hr(Xc.Ma,this.Ur),this.JS.Hr(Xc.va,this.Ur),this.JS.Hr(Xc.Ra,this.lE),this.JS.Hr(Em.f_,this.vE),this.JS.Hr(Xw.Sl,this.hE),this.JS.Hr(Xc.aa,this.Ur),this.JS.Hr(Xc.ha,this.bE),this.JS.TE.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dE)},i.FE=function(){this.JS.Xr(Xc.Aa,this.Ur),this.JS.Xr(Xc.ba,this.Ur),this.JS.Xr(Xc.La,this.cE),this.JS.Xr(Xc.Ta,this.Ur),this.JS.Xr(Xc.wa,this.Ur),this.JS.Xr(Xc.Na,this.Ur),this.JS.Xr(Xc.Ia,this.fE),this.JS.Xr(Xc.la,this.Ur),this.JS.Xr(Xc.Sa,this.Ur),this.JS.Xr(Xc.Ma,this.Ur),this.JS.Xr(Xc.va,this.Ur),this.JS.Xr(Xc.Ra,this.lE),this.JS.Xr(Em.f_,this.vE),this.JS.Xr(Xw.Sl,this.hE),this.JS.Xr(Xc.aa,this.Ur),this.JS.Xr(Xc.ha,this.bE),this.JS.TE.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.dE)},i.NE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:ns,VE:[{initDataTypes:[ns.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.RE=function(){var t=this.JS.TE.audioTracks,n=this.JS.TE.videoTracks;t&&(t.addEventListener("addtrack",this._E),t.addEventListener("removetrack",this.gE),t.addEventListener("change",this.wE)),n&&(n.addEventListener("addtrack",this.yE),n.addEventListener("removetrack",this.kE),n.addEventListener("change",this.pE))},i.HE=function(){var t=this.JS.TE.audioTracks,n=this.JS.TE.videoTracks;t&&(t.removeEventListener("addtrack",this._E),t.removeEventListener("removetrack",this.gE),t.removeEventListener("change",this.wE)),n&&(n.removeEventListener("addtrack",this.yE),n.removeEventListener("removetrack",this.kE),n.removeEventListener("change",this.pE))},i.mE=function(t){for(var n=0;n<t.sl;n++){t.Jd(n).Vg()}},i.mg=function(){this.JS.mg()},i.aE=function(t,n){this.KS||(this.KS=n,this.tE=t,this.Fr(new qm(t)))},A(n,[{key:"LE",get:function(){var t=this.JS.yg,n=this.v_;return t.WE(n,.01)}},{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.JS.yg.XE()}},{key:"kg",get:function(){return this.JS.kg},set:function(t){t&&this.JS.qE(t)}},{key:"v_",get:function(){return void 0!==this.sE?this.sE:this.JS.v_},set:function(t){this.bg&&(this.sE=t),this.JS.ys(t)}},{key:"d_",get:function(){return this.JS.d_}},{key:"l_",get:function(){return this.JS.l_}},{key:"ts",get:function(){return this.KS}},{key:"__",get:function(){return this.tE}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return this.JS.bg}},{key:"B_",get:function(){return Rr({},{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.JS.GE())}},{key:"g_",get:function(){return this.JS.g_},set:function(t){this.JS.g_=t}},{key:"Ng",get:function(){return!0}},{key:"w_",get:function(){return this.JS.w_}},{key:"m_",get:function(){return this.JS.m_},set:function(t){this.JS.m_=t}},{key:"Dg",get:function(){return this.JS.TE.played}},{key:"Cg",get:function(){return this.nE},set:function(t){this.nE=t,this.$S&&(this.$S.Cg=t)}},{key:"Dl",get:function(){return this.JS.Dl}},{key:"xg",get:function(){return this.JS.xg.XE()}},{key:"y_",get:function(){return this.JS.y_}},{key:"QE",get:function(){return this.JS.QE}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"k_",get:function(){return this.JS.k_}},{key:"p_",get:function(){return this.JS.p_}},{key:"b_",get:function(){return this.JS.b_},set:function(t){this.JS.b_=t}},{key:"Og",get:function(){return this.oE}},{key:"Pg",get:function(){return this.JS.Pg},set:function(t){this.JS.Pg=t}},{key:"YE",get:function(){return this.uE}}]),n}(Kw);var SS=function(){function t(){this.jE=fS.DS}var n=t.prototype;return n.TT=function(t,n,i,e,r,s){return new TS(t,n,i,e,r)},n.ZE=function(t,n){return function(t){return!t.type||!(!AS().canPlayType||!AS().canPlayType(t.type))}(t)},n.JE=function(){return!1},t}();function ES(t,n){for(var i=0,e=t.il;i<e.length;i++){var r=e[i];if(r.qg===n)return r}}var RS=function(){function t(){this.$E=new SS,this.KE=[]}t.tR=function(){return this.Rn};var n=t.prototype;return n.nR=function(t){this.KE.push(t)},n.TT=function(t,n,i,e,r,s){for(var u=this.$E.TT(t,n,i,e,r,s),o=0,h=this.KE;o<h.length;o++){u=(0,h[o])(u,i,e)}return u},n.ZE=function(t,n){return this.$E.ZE(t,n)},n.JE=function(){return!1},A(t,[{key:"jE",get:function(){return this.$E.jE}}]),t}();function IS(t,n){return Ss(t.jE,n.jE)}function NS(t){DS.Rn.iR(t)}RS.Rn=new RS;var DS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).eR=RS.tR(),n}S(n,t);var i=n.prototype;return i.rR=function(t){this.eR=t},i.sR=function(){return this.eR},i.uR=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=0;case 1:if(!(i<t.length)){h.next=11;break}return e=t[i],h.next=5,Er.awrap(this.oR(e,n));case 5:if(!(r=h.sent)){h.next=8;break}return h.abrupt("return",{hR:e,aR:r});case 8:i++,h.next=1;break;case 11:s=this.eR,u=0;case 13:if(!(u<t.length)){h.next=20;break}if(o=t[u],!s.ZE(o,n)){h.next=17;break}return h.abrupt("return",{hR:o,aR:s});case 17:u++,h.next=13;break;case 20:return h.abrupt("return",{hR:t[0],aR:s});case 21:case"end":return h.stop()}},null,this,null,ze)},n}(function(){function t(){this.cR=[]}var n=t.prototype;return n.iR=function(t){this.cR.push(t),this.cR.sort(IS)},n.oR=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.cR;case 1:if(!(i<e.length)){u.next=17;break}if(r=e[i],!Q(s=r.ZE(t,n))){u.next=10;break}return u.next=7,Er.awrap(s);case 7:u.t0=u.sent,u.next=11;break;case 10:u.t0=Boolean(s);case 11:if(!u.t0){u.next=14;break}return u.abrupt("return",r);case 14:i++,u.next=1;break;case 17:return u.abrupt("return",void 0);case 18:case"end":return u.stop()}},null,this,null,ze)},t}());DS.Rn=new DS;var CS,xS=function(){function t(t){this.fR=void 0,this.fR=ce&&ce.document&&ce.document.createElement("div"),tr(this.fR),t.appendChild(this.fR)}return t.prototype.hv=function(){Ze(this.fR)},t}();function OS(t){switch(t){case CS.vR:case"":return CS.vR;case CS.$y:return CS.$y;case CS.dR:default:return CS.dR}}!function(t){t.DS="",t.dR="none",t.$y="metadata",t.vR="auto"}(CS||(CS={}));var PS=[Xw.Sl,Xc.da,Xc.es,Xc.Ha,Xc.ra,Xc._a,Xc.ka,Xc.pa,Xc.Ca,Xc.Oa,Em.u_,Em.o_,Em.h_,Em.a_,Em.zd,Em.c_,Em.f_,Xc.ha,Xc.aa,Xc.va,Xc.la,Xc.wa,Xc.ma,Xc.Aa,Xc.Ta,Xc.ba,Xc.Sa,Xc.Ra,Xc.Na,Xc.Ia,Xc.La,Xc.Ma,Xc.Ea,Xc.ya,Xc.Da],BS=function(t){function n(n,i){var e;return(e=t.call(this)||this).lR=void 0,e._R=void 0,e.gR=void 0,e.wR=void 0,e.nE=CS.dR,e.mR=void 0,e.yR=!0,e.z_=new qw,e.V_=new qw,e.W_=new $w,e.X_=new fy,e.lR=n,e.gR=i,e.gR.Cg=e.Cg,e.kR(),e}S(n,t);var i=n.prototype;return i.K_=function(){this.gR.K_()},i.J_=function(){var t=this.gR.J_();Q(t)&&Zs(t)},i.tg=function(){return this.ig(void 0)},i.ug=function(){},i.lg=function(t){return!1},i.kR=function(){this.z_.fl=this.gR.Q_,this.V_.fl=this.gR.Y_,this.W_.fl=this.gR.j_,this.X_.fl=this.gR.Z_,this.gR.Hr(PS,this.Ur)},i.pR=function(){this.gR.Xr(PS,this.Ur),this.z_.fl=void 0,this.V_.fl=void 0,this.W_.fl=void 0,this.X_.fl=void 0},i.ng=function(){return this.mR},i.ig=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(Vs(n),this.mR=t,t){h.next=4;break}return h.abrupt("return");case 4:if(!km(i=t.sources.filter(Sm))){h.next=7;break}return h.abrupt("return");case 7:return h.next=9,Er.awrap(this.lR.uR(i,t));case 9:if(e=h.sent,Vs(n),r=e.hR,s=e.aR,u=this.vg(),o=Ym(this),this._R===s&&!this.ts){h.next=25;break}return this.pR(),h.next=19,Er.awrap(this.gR.hv());case 19:Vs(n),this._R=s,this.gR=this.bR(s),LS(this.gR,o),jm(this,o,this),this.kR();case 25:return this.gR.Cg=this.Cg,this.yR?this.gR.ag():this.gR.cg(),h.next=29,Er.awrap(this.gR.ig(r,t,n));case 29:Vs(n),this.AR(r),this.vg()!==u&&this.Fr(new nm);case 32:case"end":return h.stop()}},null,this,null,ze)},i.AR=function(t){this.wR!==t&&(this.wR=t,this.Fr(new im(t)))},i.eg=function(){return this.gR.eg()},i.rg=function(){this.gR.rg()},i.sg=function(){this.gR.sg()},i.vg=function(){return this.gR.vg()},i.mg=function(){this.gR.mg()},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mR=void 0,this.AR(void 0),t.next=4,Er.awrap(this.gR.nl());case 4:case"end":return t.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Er.awrap(this.nl());case 3:return t.next=5,Er.awrap(this.gR.hv());case 5:this.z_.hv(),this.V_.hv(),this.W_.hv(),this.X_.hv();case 9:case"end":return t.stop()}},null,this,null,ze)},i.ag=function(){this.yR=!0,this.gR.ag()},i.cg=function(){this.yR=!1,this.gR.cg()},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.gR.yg}},{key:"ts",get:function(){return this.gR.ts}},{key:"__",get:function(){return this.gR.__}},{key:"kg",get:function(){return this.gR.kg},set:function(t){this.gR.kg=t}},{key:"wg",get:function(){return this.wR}},{key:"v_",get:function(){return this.gR.v_},set:function(t){this.gR.v_=t}},{key:"d_",get:function(){return this.gR.d_}},{key:"l_",get:function(){return this.gR.l_}},{key:"Z_",get:function(){return this.X_}},{key:"bg",get:function(){return this.gR.bg}},{key:"B_",get:function(){return this.gR.B_}},{key:"g_",get:function(){return this.gR.g_},set:function(t){this.gR.g_=t}},{key:"Ng",get:function(){return this.gR.Ng}},{key:"w_",get:function(){return this.gR.w_}},{key:"m_",get:function(){return this.gR.m_},set:function(t){this.gR.m_=t}},{key:"Dg",get:function(){return this.gR.Dg}},{key:"Cg",get:function(){return this.nE},set:function(t){this.nE=t,this.gR&&(this.gR.Cg=this.nE)}},{key:"Dl",get:function(){return this.gR.Dl}},{key:"xg",get:function(){return this.gR.xg}},{key:"y_",get:function(){return this.gR.y_}},{key:"j_",get:function(){return this.W_}},{key:"k_",get:function(){return this.gR.k_}},{key:"Y_",get:function(){return this.V_}},{key:"p_",get:function(){return this.gR.p_}},{key:"b_",get:function(){return this.gR.b_},set:function(t){this.gR.b_=t}},{key:"Og",get:function(){return this.gR.Og}},{key:"YE",get:function(){return this.gR.YE}}]),n}(iu);function LS(t,n){t.g_!==n.g_&&(t.g_=n.g_),t.b_!==n.b_&&(t.b_=n.b_),t.m_!==n.m_&&(t.m_=n.m_)}var MS,US=function(t){function n(n,i){var e;return(e=t.call(this)||this).sl=void 0,e.SR=void 0,e.ER=void 0,e.sl=n.length>>1,e.SR=n,e.ER=i||function(t){for(var n=new Array(2*t),i=0,e=0;i<t;i+=1,e+=2)n[e]=!0,n[e+1]=!1;return n}(e.sl),e}S(n,t);var i=n.prototype;return i.RR=function(t){return this.SR[2*t]},i.IR=function(t){return this.ER[2*t]},i.NR=function(t){return this.SR[2*t+1]},i.DR=function(t){return this.ER[2*t+1]},A(n,[{key:"xR",get:function(){return this.SR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.mw=function(t,n){return 0===this.Cw(t,n)},n.um=function(t,n){return this.Cw(t,n)>0},n.om=function(t,n){return this.Cw(t,n)>=0},n.Lw=function(t,n){return this.Cw(t,n)<0},n.Pw=function(t,n){return this.Cw(t,n)<=0},n.Em=function(t,n){return this.Lw(t,n)?t:n},n.Sm=function(t,n){return this.um(t,n)?t:n},n.OR=function(t,n,i){return i?this.Pw(t,n):this.Lw(t,n)},n.XE=function(){var t=this;return{get length(){return t.sl},start:function(n){var i=0|n;return t.PR(i),t.LR(t.RR(i))},end:function(n){var i=0|n;return t.PR(i),t.LR(t.NR(i))}}},n.MR=function(){for(var t=new Array(2*this.sl),n=new Array(2*this.sl),i=0;i<this.sl;i++)t[2*i]=this.RR(i),t[2*i+1]=this.NR(i),n[2*i]=!0,n[2*i+1]=!0;return this.UR(t,n)},n.PR=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.sl)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.sl+")")},n.FR=function(t){if(0===this.sl)return this.HR();if(this.WE(t))return t;if(this.Pw(t,this.RR(0)))return this.RR(0);if(this.om(t,this.NR(this.sl-1)))return this.NR(this.sl-1);for(var n,i=this.zR(),e=0;e<this.sl;e++){var r=this.RR(e),s=this.Bw(r,t);this.Lw(s,i)&&(n=r,i=s);var u=this.NR(e),o=this.Bw(this.NR(e),t);this.Lw(o,i)&&(n=u,i=o)}return n},n.WR=function(t){for(var n=0,i=0,e=[],r=[];n<this.sl&&i<t.sl;){var s=this.RR(n),u=this.NR(n),o=this.IR(n),h=this.DR(n),a=t.RR(i),c=t.NR(i),f=t.IR(i),v=t.DR(i),d=this.Sm(s,a),l=this.Em(u,c),_=void 0;_=this.mw(s,a)?o&&f:this.mw(d,s)?o:f;var g=void 0;g=this.mw(u,c)?h&&v:this.mw(l,u)?h:v,(this.Lw(d,l)||_&&g&&this.mw(d,l))&&(e.push(d,l),r.push(_,g));var w=this.Cw(this.NR(n),t.NR(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.UR(e,r)},n.XR=function(){var t=this.qR(),n=t.sl;if(0===n)return this.UR([t.GR(),t.zR()],[!1,!1]);var i=[],e=[],r=t.RR(0);t.mw(r,t.GR())||(i.push(t.GR(),r),e.push(!1,!t.IR(0)));for(var s=0;s<n-1;s++)i.push(t.NR(s),t.RR(s+1)),e.push(!t.DR(s),!t.IR(s+1));var u=t.NR(n-1);return t.mw(u,t.zR())||(i.push(u,t.zR()),e.push(!t.DR(n-1),!1)),t.UR(i,e)},n.QR=function(t){for(var n=0,i=0,e=this.sl,r=t.sl,s=new Array(2*(e+r)),u=new Array(2*(e+r)),o=0;n<e&&i<r;){var h=this.RR(n),a=this.NR(n),c=t.RR(i),f=t.NR(i);this.Lw(h,c)||this.mw(h,c)&&this.Lw(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.IR(n),u[o+1]=this.DR(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.IR(i),u[o+1]=t.DR(i),i++),o+=2}for(;n<e;)s[o]=this.RR(n),s[o+1]=this.NR(n),u[o]=this.IR(n),u[o+1]=this.DR(n),n++,o+=2;for(;i<r;)s[o]=t.RR(i),s[o+1]=t.NR(i),u[o]=t.IR(i),u[o+1]=t.DR(i),i++,o+=2;return this.UR(s,u)},n.YR=function(t){void 0===t&&(t=this.HR());var n=this.sl;if(n<2)return this;for(var i=[],e=[],r=this.RR(0),s=this.NR(0),u=this.IR(0),o=this.DR(0),h=1;h<n;h++){var a=this.RR(h),c=this.NR(h),f=this.IR(h),v=this.DR(h);this.Lw(r,a)&&this.um(s,c)||(this.mw(r,a)&&(u=f=u||f),this.mw(s,c)&&(o=v=o||v),this.OR(a,this.Lg(s,t),o||f)?(s=c,o=v):(i.push(r,s),e.push(u,o),r=a,s=c,u=f,o=v))}return i.push(r,s),e.push(u,o),this.UR(i,e).qR()},n.qR=function(){for(var t=[],n=[],i=0;i<this.sl;i++){var e=this.RR(i),r=this.NR(i),s=this.IR(i),u=this.DR(i);this.mw(e,r)?(s||u)&&(t.push(e,r),n.push(!0,!0)):(t.push(e,r),n.push(s,u))}return this.UR(t,n)},n.jR=function(t){return this.sl?t.sl?this.QR(t).YR():this:t},n.ZR=function(t){var n=this.qR(),i=t.qR(),e=n.XR(),r=i.XR(),s=e.WR(i),u=r.WR(n);return s.jR(u)},n.gs=function(t){if(this.mw(t,this.HR()))return this;for(var n=[],i=[],e=0;e<this.sl;e++){var r=this.Lg(this.RR(e),t),s=this.Lg(this.NR(e),t);n.push(r,s),i.push(this.IR(e),this.DR(e))}return this.UR(n,i)},n.JR=function(t){return 0===this.sl||0===t.sl?this:this.qR().WR(t.qR().XR())},n.WE=function(t,n){return this.$R(t,n)>=0},n.KR=function(t,n,i,e,r){return this.tI(t,n,i,e,r)>=0},n.nI=function(t,n,i,e,r){return this.iI(t,n,i,e,r)>=0},n.eI=function(t){if(t.sl!==this.sl)return!1;for(var n=0;n<this.sl;n++)if(!this.mw(this.RR(n),t.RR(n))||!this.mw(this.NR(n),t.NR(n))||this.IR(n)!==t.IR(n)||this.DR(n)!==t.DR(n))return!1;return!0},n.rI=function(t){for(var n=[],i=[],e=0;e<this.sl;e++){var r=this.RR(e),s=this.NR(e),u=this.IR(e),o=this.DR(e);t(r,s,u,o)&&(n.push(r,s),i.push(u,o))}return this.UR(n,i)},n.iI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!0),void 0===r&&(r=this.HR());for(var s=this.Hw(t,r),u=this.Lg(n,r),o=0;o<this.sl;o+=1)if(this.OR(this.RR(o),u,!e||this.IR(o))&&this.OR(s,this.NR(o),!i||this.DR(o)))return o;return-1},n.tI=function(t,n,i,e,r){void 0===i&&(i=!0),void 0===e&&(e=!1),void 0===r&&(r=this.HR());for(var s=this.Lg(t,r),u=this.Hw(n,r),o=0;o<this.sl;o+=1)if(this.OR(this.RR(o),s,!i||this.IR(o))&&this.OR(u,this.NR(o),!e||this.DR(o)))return o;return-1},n.$R=function(t,n){return this.tI(t,t,!0,!0,n)},n.sI=function(t,n){void 0===n&&(n=this.HR());for(var i=this.Lg(t,n),e=this.sl-1;e>=0;e-=1)if(this.OR(this.RR(e),i,this.IR(e)))return e;return-1},n.uI=function(t,n){void 0===n&&(n=this.HR());for(var i=this.Hw(t,n),e=0;e<this.sl;e+=1)if(this.OR(i,this.NR(e),this.DR(e)))return e;return-1},n.oI=function(t){return this.PR(t),this.UR([this.RR(t),this.NR(t)],[this.IR(t),this.DR(t)])},n.hI=function(t,n){var i=this.$R(t,n);return i<0?void 0:this.oI(i)},A(t,[{key:"aI",get:function(){for(var t=this.HR(),n=0;n<this.sl;n++){var i=this.Hw(this.NR(n),this.RR(n));t=this.Lg(t,i)}return t}}]),t}()),FS=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Cw=function(t,n){return t<n?ys.mr:t===n?ys.gr:ys.wr},i.Lg=function(t,n){return t+n},i.Hw=function(t,n){return t-n},i.Bw=function(t,n){return _.abs(t-n)},i.HR=function(){return 0},i.zR=function(){return 1/0},i.GR=function(){return-1/0},n.cI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(t.start(e),t.end(e));return new n(i)},n.fI=function(t){for(var i=[],e=[],r=0;r<t.sl;r++)i.push(t.RR(r).Nm),i.push(t.NR(r).Nm),e.push(t.IR(r)),e.push(t.DR(r));return new n(i,e)},n.vI=function(t){return new n([t,t],[!0,!0])},i.UR=function(t,i){return new n(t,i)},i.LR=function(t){return t},n.dI=function(){return HS},n}(US),HS=new FS([]);!function(t){t.Fd="fullscreenchange",t.lI="fullscreensupportchange",t.Sl="fullscreenerror"}(MS||(MS={}));var zS=function(t){function n(){return t.call(this,MS.Sl)||this}return S(n,t),n}(ru),VS=new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Zg=function(){this.Fr(new zS)},i.$g=function(){},i.hv=function(){this.Wr()},A(n,[{key:"_I",get:function(){return!1}},{key:"gI",get:function(){return!1}}]),n}(iu)),WS=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZS=void 0,n.JS=void 0,n}S(n,t);var i=n.prototype;return i.fg=function(){var t;return null==(t=this.JS)?void 0:t.TE},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.prototype.hv.call(this));case 2:if(!this.JS){n.next=6;break}return n.next=5,Er.awrap(this.ZS.zE(this.JS));case 5:this.JS=void 0;case 6:case"end":return n.stop()}},null,this,null,ze)},A(n,[{key:"wI",set:function(t){this.ZS=t,this.JS=t.AE(my.$f)}}]),n}(function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).mI=0,n.yI=!1,n.kI=!0,n.pI=1,n.bI=!1,n.Bu=1,n.Q_=new yy,n.yg=FS.dI().XE(),n.d_=NaN,n.l_=!1,n.ts=void 0,n.__=void 0,n.Z_=void 0,n.bg=!1,n.Ng=!0,n.Dg=FS.dI().XE(),n.Cg=CS.dR,n.Dl=am.n_,n.xg=FS.dI().XE(),n.QE=void 0,n.j_=new Zp,n.k_=0,n.Y_=new yy,n.p_=0,n.Og=new bS,n.uE=new gS,n}S(n,t);var i=n.prototype;return i.ag=function(){},i.cg=function(){},i.J_=function(){this.kI&&(this.kI=!1,this.Fr(new Nm(this.v_)),this.Fr(new Gb(this.v_)))},i.K_=function(){this.kI||(this.kI=!0,this.Fr(new Lm(this.v_,this.kg)),this.Fr(new Im(this.v_)))},i.ig=function(t,n){return ze.resolve()},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.vg=function(){return VS},i.mg=function(){},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.mI=0,this.bI=!1,this.K_(),this.Fr(new Rm(this.mI));case 4:case"end":return t.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Wr(),this.Q_.hv(),this.j_.hv(),this.Y_.hv();case 4:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"kg",get:function(){},set:function(t){}},{key:"v_",get:function(){return this.mI},set:function(t){this.mI!==t&&(this.mI=t,this.bI=!0,this.Fr(new Fm(this.v_)))}},{key:"B_",get:function(){return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"g_",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.yI=t,this.Fr(new zm(this.v_,this.b_)))}},{key:"w_",get:function(){return this.kI}},{key:"m_",get:function(){return this.pI},set:function(t){this.pI!==t&&(this.pI=t,this.Fr(new Bm(this.v_,this.m_)))}},{key:"y_",get:function(){return this.bI}},{key:"b_",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.Fr(new zm(this.v_,this.b_)))}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"YE",get:function(){return this.uE}}]),n}(iu)),XS=function(t){function n(n,i,e,r,s,u){var o,h=new WS;return(o=t.call(this,DS.Rn,h)||this).Ch=void 0,o.AI=void 0,o.TI=void 0,o.SI=void 0,o.mA=void 0,o.EI=void 0,o.RI=void 0,o.TI=n,o.Ch=i,o.mA=e,o.EI=r,o.SI=u,o.AI=new oe(s,o.SI),o.AI.II(o.TI),h.wI=o.AI,o.RI=new xS(o.TI),o}S(n,t);var i=n.prototype;return i.ug=function(){t.prototype.ug.call(this),this.AI.NI()},i.og=function(t){var n,i,e,r;n=this,e=(i=t).b_,r=i.g_,n.b_=e,n.g_=r},i.hg=function(){},i.bR=function(t){return t.TT(this.TI,this.AI,this.mA,this.Ch,this.EI,this.SI)},i.fg=function(){return this.gR.fg()},i.dg=function(){return this.AI.DI.map(function(t){return t.TE})},i.Vr=function(n){t.prototype.Vr.call(this,n)},i.Qr=function(n){t.prototype.Qr.call(this,n)},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.prototype.hv.call(this));case 2:this.AI.hv(),this.RI.hv();case 4:case"end":return n.stop()}},null,this,null,ze)},A(n,[{key:"pg",get:function(){return this.TI}},{key:"Pg",get:function(){return this.gR.Pg},set:function(t){this.gR.Pg=t}}]),n}(BS),qS=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).TI=void 0,r.CI=void 0,r.xI=void 0,r.OI=void 0,r.BI=void 0,r.oE=new bS,r.TI=n,r.CI=i,r.OI=new yy,r.BI=new Zp,r.xI=e,r}S(n,t);var i=n.prototype;return i.lg=function(t){return!0},i.cg=function(){},i.J_=function(){throw this.Fr(new qm(this.xI)),this.CI},i.K_=function(){},i.ng=function(){},i.ig=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:throw Vs(n),this.Fr(new qm(this.xI)),this.CI;case 3:case"end":return t.stop()}},null,this,null,ze)},i.ag=function(){},i.tg=function(){return ze.resolve()},i.fg=function(){},i.vg=function(){return VS},i.dg=function(){return[]},i.ug=function(){},i.og=function(t){},i.hg=function(){},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.mg=function(){},i.nl=function(){return ze.resolve()},i.hv=function(){return this.Wr(),this.OI.hv(),this.BI.hv(),ze.resolve()},A(n,[{key:"Q_",get:function(){return this.OI}},{key:"yg",get:function(){return FS.dI().XE()}},{key:"kg",get:function(){return new Date(NaN)},set:function(t){}},{key:"wg",get:function(){}},{key:"v_",get:function(){return 0},set:function(t){}},{key:"d_",get:function(){return 0}},{key:"pg",get:function(){return this.TI}},{key:"l_",get:function(){return!0}},{key:"ts",get:function(){return this.CI}},{key:"__",get:function(){return this.xI}},{key:"Z_",get:function(){}},{key:"B_",get:function(){return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"g_",get:function(){return!1},set:function(t){}},{key:"Ng",get:function(){return!0}},{key:"w_",get:function(){return!0}},{key:"m_",get:function(){return 0},set:function(t){}},{key:"Dg",get:function(){return FS.dI().XE()}},{key:"Cg",get:function(){return CS.dR},set:function(t){}},{key:"Dl",get:function(){return am.n_}},{key:"xg",get:function(){return FS.dI().XE()}},{key:"y_",get:function(){return!1}},{key:"j_",get:function(){return this.BI}},{key:"k_",get:function(){return 0}},{key:"Y_",get:function(){return this.OI}},{key:"p_",get:function(){return 0}},{key:"b_",get:function(){return 1},set:function(t){}},{key:"Og",get:function(){return this.oE}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"bg",get:function(){return!1}}]),n}(tm);function GS(t){if(t&&W(t))return Rr({},t,{integration:QS(t.integration),fairplay:tE(t.fairplay),widevine:YS(t.widevine),playready:jS(t.playready),clearkey:nE(t.clearkey),aes128:iE(t.aes128),integrationParameters:eE(t.integrationParameters),preferredKeySystems:rE(t.preferredKeySystems)})}function QS(t){if(q(t))return t}function YS(t){if(t&&W(t))return{persistentState:ZS(t.persistentState),distinctiveIdentifier:ZS(t.distinctiveIdentifier),audioRobustness:JS(t.audioRobustness),videoRobustness:JS(t.videoRobustness),licenseAcquisitionURL:q(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:$S(t.licenseType),headers:t.headers,useCredentials:!!G(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:q(t.certificate)||po(t.certificate)?t.certificate:void 0,certificateRequestProcessor:KS(t.certificateRequestProcessor),certificateResponseProcessor:KS(t.certificateResponseProcessor),licenseRequestProcessor:KS(t.licenseRequestProcessor),licenseResponseProcessor:KS(t.licenseResponseProcessor)}}function jS(t){if(t){var n=YS(t);if(n)return Rr({},n,{customData:q(t.customData)?t.customData:void 0})}}function ZS(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function JS(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function $S(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function KS(t){if("function"==typeof t)return t}function tE(t){if(t){var n=YS(t);if(n)return Rr({},n,{certificateURL:q(t.certificateURL)?t.certificateURL:void 0})}}function nE(t){if(t){var n=YS(t);if(n)return Rr({},n,{keys:z(t.keys)?t.keys.map(function(t){return function(t){if(!t||!W(t))return;var n=t.id,i=t.value;if(!q(n)||!q(i))return;return{id:n,value:i}}(t)}).filter(F):void 0})}}function iE(t){if(W(t))return{useCredentials:G(t.useCredentials)?t.useCredentials:void 0}}function eE(t){if(W(t))return t}function rE(t){return t&&z(t)?t.map(function(t){return VA(t)}).filter(F):[Qr,Xr,Jr]}var sE,uE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return S(n,t),n}(ru),oE=function(t){function n(n,i){var e;return void 0===i&&(i=!1),(e=t.call(this,n)||this).LI=[],e.MI=void 0,e.UI=function(t){js(function(){e.Ur(t)})},e.MI=i?e.UI:e.Ur,e}S(n,t);var i=n.prototype;return i.FI=function(t){t.Vr(this.MI),this.LI.push(t)},i.HI=function(t){t.Qr(this.MI),Cs(this.LI,t)},i.hv=function(){this.Wr();for(var t=0,n=this.LI;t<n.length;t++){n[t].Qr(this.MI)}Ps(this.LI)},n}(Kw),hE=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(oE);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(sE||(sE={}));var aE,cE=function(t){function i(n){var i;return(i=t.call(this)||this).zI=void 0,i.VI=void 0,i.WI=!1,i.XI=!1,i.qI=void 0,i.GI=void 0,i.QI=void 0,i.Sd=void 0,i.YI=function(){return i.jI()},i.ZI=function(){return i.JI()},i.QI=n,i.zI=i.VI=i.qI=i.GI=sE.INLINE,i.QI.Hr(MS.Fd,i.YI),i.QI.Hr(MS.Sl,i.ZI),i.$I(),i}S(i,t);var e=i.prototype;return e.Rd=function(){return t=this,i={get currentMode(){return t.KI()},requestMode:function(n){var i=vE(n);i&&t.tN(i)},supportsMode:function(n){var i=vE(n);return!!i&&t.nN(i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},(n=new oE(i,!0)).FI(t),i;var t,n,i},e.tN=function(t){this.iN(t,t)},e.iN=function(t,n){this.VI!==n&&(this.WI=!0,this.zI=t,this.eN(n,this.VI),t!==sE.FULLSCREEN&&(this.qI=t),this.WI=!1,this.$I())},e.KI=function(){return this.XI?sE.FULLSCREEN:sE.INLINE},e.nN=function(t){switch(t){case sE.FULLSCREEN:return this.QI.gI;case sE.INLINE:return!0}return!1},e.$I=function(){if(!this.WI){var t=this.VI,n=this.KI();this.VI=n,n!==sE.FULLSCREEN&&(this.GI=n),t!==n&&this.Fr(new uE(n))}},e.eN=function(t,n){var i=t===sE.FULLSCREEN;this.XI=i,i!==this.QI._I&&(i?this.QI.Zg():this.QI.$g())},e.jI=function(){if(!this.WI){var t=this.QI._I;this.XI=t,t?this.iN(sE.FULLSCREEN,sE.FULLSCREEN):t||this.zI!==sE.FULLSCREEN?this.$I():this.iN(this.qI,this.GI)}},e.JI=function(){this.jI(),this.Fr(new qm(new Tc(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},e.hv=function(){this.QI.hv(),this.Wr()},A(i,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),i}(Kw),fE={v_:0,d_:NaN,l_:!1,ts:void 0,__:void 0,g_:!1,w_:!0,m_:1,Dl:am.n_,y_:!1,k_:0,p_:0,b_:1};function vE(t){switch(t){case sE.INLINE:case sE.FULLSCREEN:case sE.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(aE||(aE={}));var dE,lE,_E,gE,wE,mE,yE,kE,pE=function(){function t(){this.rN=[]}var n=t.prototype;return n.sN=function(t){var n=this.uN.filter(function(n){return n.oN(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.hN=function(t){this.rN.push(t)},A(t,[{key:"uN",get:function(){return this.rN}}]),t}();pE.Rn=new pE,function(t){t.f_="PLAYING",t.M_="PAUSED",t.aN="SEEK",t.cN="STALLED",t.fN="FAILED",t.vN="INITIAL_BUFFERING",t.dN="NO_ACCESS"}(dE||(dE={})),function(t){t.lN="HTTP_REQUEST_STATUS_CODE_1XX",t._N="HTTP_REQUEST_STATUS_CODE_2XX",t.gN="HTTP_REQUEST_STATUS_CODE_3XX",t.wN="HTTP_REQUEST_STATUS_CODE_4XX",t.mN="HTTP_REQUEST_STATUS_CODE_5XX",t.yN="BUFFER_LENGTH",t.kN="BYTES_RECEIVED",t.pN="SEGMENT_READ_BITRATE",t.bN="SEGMENT_PROFILE_BITRATE",t.AN="NUMBER_OF_FRAMES_DROPPED",t.TN="PLAYBACK_POSITION",t.SN="NUMBER_OF_FRAMES_DECODED",t.EN="PLAYBACK_DELTA_TO_ORIGIN",t.RN="STREAM_DELTA_TO_ORIGIN",t.IN="ORIGIN_TIMESTAMP"}(lE||(lE={})),function(t){t.NN="MANIFEST_URI",t.DN="ASSET_DURATION",t.CN="NUMBER_OF_CONTENT_PROFILES",t.xN="CDN",t.ON="CONTENT_TITLE",t.PN="SERVICE_NAME",t.BN="CONTENT_TYPE",t.LN="CONTENT_DESCRIPTION"}(_E||(_E={})),function(t){t.MN="shutdown_normal_shutdown"}(gE||(gE={})),function(t){t.UN="session/",t.FN="internalError/",t.HN="drmError/",t.zN="caError/",t.VN="networkError/"}(wE||(wE={})),function(t){t.WN="userAction",t.XN="endOfStreamReached"}(mE||(mE={})),function(t){t.PAUSE="qN",t.RESUME="GN"}(yE||(yE={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(kE||(kE={}));var bE,AE,TE,SE,EE,RE="agama";function IE(t){return function(t){switch(t){case bE.NONE:case bE.HORIZONTAL:case bE.VERTICAL:return!0;default:return!1}}(t)?t:bE.NONE}function NE(t){switch(t){case"":return bE.NONE;case"horizontal":return bE.HORIZONTAL;case"vertical":return bE.VERTICAL;default:throw new d}}function DE(t){if(!t||!q(t))return AE.vR;switch(t){case"always":return AE.QN;case"never":return AE.YN;default:return AE.vR}}function CE(t){if(!t||!q(t))return TE.vR;switch(t){case"playlist":return TE.jN;case"media":return TE.ZN;default:return TE.vR}}function xE(t,n){return t.length>0?t:n.length>0?n:void 0}function OE(t){if(null!==t)return t}function PE(t){var n,e={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:OE(t.streamActivityMonitorID),adTagParameters:W(t.adTagParameters)?t.adTagParameters:{},authToken:OE(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,s=t.contentSourceID;return r?s?Rr({},e,{availabilityType:"vod",videoID:r,contentSourceID:s}):void i.me("A VOD DAI configuration was provided without valid contentSourceID which is required."):void i.me("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Rr({},e,{availabilityType:"live",assetKey:u}):void i.me("A Live DAI configuration was provided without valid assetKey which is required.")}i.me("A DAI configuration was provided without a valid availabilityType which is required.")}function BE(t){if(!PA(t)||!t.integration)return t;switch(t.integration){case nA:return n=t,i=zA(Ur.Je,n),e=zA(Ur.Ze,n),r=n[Ur.Ke]&&zA(Ur.Ke,n),Rr({integration:"keyos",widevine:i,playready:e},r?{fairplay:r}:{});default:return t}var n,i,e,r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(bE||(bE={})),function(t){t.vR="auto",t.QN="always",t.YN="never"}(AE||(AE={})),function(t){t.vR="auto",t.jN="playlist",t.ZN="media"}(TE||(TE={})),function(t){t.VERIZON_MEDIA="verizon-media",t.MEDIATAILOR="mediatailor"}(SE||(SE={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(EE||(EE={}));var LE="https://content.uplynk.com";function ME(t){if(!t)return!0;var n,i,e=!(ym(n=t.sources)||V(n)&&ym(n[0]))||km(t.sources),r=!t.ads||(!(i=t.ads)||z(i)&&0===i.length),s=""!==t.poster&&!t.poster;return e&&r&&s}function UE(t){if(t&&t.sources)return function t(n){if(q(n))return n;if(mm(n))return n.src;if(V(n)&&n.length>0)return t(n[0]);return}(t.sources)}function FE(t,n,i){return gm(t)?function(t,n,i){var e=Rr({},pm(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:SE.VERIZON_MEDIA,id:"",prefix:LE,preplayParameters:{},playbackUrlParameters:{},assetType:EE.ASSET,contentProtected:!1,assetInfo:!0});e.id=(r=t.id,q(r)?r:V(r)&&q(r[0])?r:W(s=r)&&q(s.userId)&&(V(s.externalId)||q(s.externalId))?r:""),t.preplayParameters&&(e.preplayParameters=t.preplayParameters);var r,s;t.playbackUrlParameters&&(e.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(e.assetType=function(t){switch(t){case"channel":return EE.CHANNEL;case"event":return EE.EVENT;case"asset":default:return EE.ASSET}}(t.assetType));t.contentProtected&&(e.contentProtected=Cw(t.contentProtected));t.assetInfo?e.assetInfo=Cw(t.assetInfo):e.assetInfo="asset"===e.assetType;t.prefix&&(e.prefix=Pw(t.prefix)||LE);return e.ping=(u=e.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!G(o.adImpressions)&&o.adImpressions,a=!!G(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=G(o.linearAdData)?o.linearAdData:u!==EE.ASSET):u!==EE.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),e=zE(e=VE(e=HE(e,t),n,i),t,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var e=bm(),r=n&&(n.contentProtection||n.drm);if(q(t)){if(e.src=t,e.type=vm(t),r){var s=GS(r);e.contentProtection=BE(s)}}else if(mm(t)||_m(t)){e.src=t.src,e.type=t.type||vm(t.src),e.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===um.Kl||t.type===um.t_}(t)?t.hesp:void 0;void 0!==u&&(e.hesp=u);var o=W(c=t)&&q(c.integration)&&"mediatailor"===c.integration;o&&(e.integration=t.integration);var h=t.contentProtection||t.drm||r,a=GS(h);e.contentProtection=BE(a),t.ssai&&(e.ssai=function(t){switch(t.integration){case"google-dai":return PE(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}(t.ssai)),e=HE(e,t)}var c;return e=zE(e=VE(e,n,i),t,i)}(t,n,i)}function HE(t,n){var i;n.useCredentials?t.crossOrigin=sm.$l:n.crossOrigin&&(t.crossOrigin=function(t){switch(t){case sm.Jl:case sm.$l:return t;default:return sm.Zl}}(n.crossOrigin)),q(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Cw(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Cw(n.useNativePlayback)),n.dash&&(t.dash={useSeamlessPeriodSwitch:DE(null==(i=n.dash)?void 0:i.useSeamlessPeriodSwitch)}),n.hls&&(t.hls=function(t){return{discontinuityAlignment:CE(null==t?void 0:t.discontinuityAlignment)}}(n.hls)),n.lcevc&&(t.lcevc=Cw(n.lcevc));var e=void 0!==n.experimentalRendering?Cw(n.experimentalRendering):void 0;void 0!==e&&(t.experimentalRendering=e);var r=void 0!==n.nativeUiRendering?Cw(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function zE(t,n,i){return t.abr=function(t,n){var i=Bw(null==t?void 0:t.preferredAudioCodecs,Pw),e=Bw(null==t?void 0:t.preferredVideoCodecs,Pw),r=Bw(null==n?void 0:n.preferredAudioCodecs,Pw),s=Bw(null==n?void 0:n.preferredVideoCodecs,Pw),u=xE(i,r),o=xE(e,s);if(u||o)return{preferredAudioCodecs:u,preferredVideoCodecs:o}}(q(n)?void 0:n.abr,null==i?void 0:i.abr),t}function VE(t,n,i){var e,r=n&&n.timeServer;return i&&i.liveOffset&&!F(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!F(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===sm.Zl&&null!=n&&null!=(e=n.vr)&&e[360]&&(t.crossOrigin=sm.Jl),t.useCredentials=t.crossOrigin===sm.$l,q(r)&&!t.timeServer&&(t.timeServer=r),t}function WE(t){var n={src:""};if(t&&t.src){if(n.src=Pw(t.src),"default"in t&&(n.default=Cw(t.default)),n.kind=$p(t.kind),function(t){switch(t){case Py.DEFAULT:case Py.SRT:case Py.TTML:case Py.WEBVTT:case Py.EMSG:case Py.EVENT_STREAM:case Py.ID3:case Py.CEA608:case Py.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var e=t.label;"string"==typeof e&&""!==e&&(n.label=e)}}return n}function XE(t,n){if(X(t))try{return n.sN(t).JN(t)}catch(t){return}}function qE(t){return q(t.sources)&&""!==t.sources||W(t.sources)&&q(t.sources.src)}function GE(t){return t.integration===aE.SPOTX&&!m(t.id)}function QE(t){return"freewheel"===t.integration}function YE(t,n,i){if(void 0===i&&(i=pE.Rn),ME(t))return{sources:[bm()]};var e=Rw(t);if(e.sources=function(t,n,i){if(ym(t))return[FE(t,n,i)];if(V(t)&&ym(t[0])){for(var e=[],r=0;r<t.length;r++){var s=t[r];e.push(FE(s,n,i))}return e}return[bm()]}(e.sources,e,n),"contentProtection"in e&&delete e.contentProtection,"drm"in e&&delete e.drm,"ads"in e){var r=function(t,n){if(!V(t))return[];for(var i=[],e=0,r=t;e<r.length;e++){var s=r[e];(s=XE(s,n))&&(qE(s)||GE(s)||QE(s))&&i.push(s)}return i}(e.ads,i);0===r.length?delete e.ads:e.ads=r}var s,u,o,h=!km(e.sources),a=e.ads&&e.ads.length>0;if(h&&!a?delete e.ads:a&&!h&&(e.sources=[]),"textTracks"in e){var c=function(t){if(!V(t))return[];for(var n=[],i=0,e=t;i<e.length;i++){var r=e[i];""!==(r=WE(r)).src&&n.push(r)}return n}(e.textTracks);0===c.length?delete e.textTracks:e.textTracks=c}if("poster"in e&&(e.poster=Pw(e.poster)),"vr"in e&&(e.vr=(s=e.vr,(u=s||{}).stereoMode=IE(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?NE(u.stereoMode):bE.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in e||(null==n?void 0:n.analytics)){var f=Tm(e.analytics),v=n&&n.analytics||[];e.analytics=function(t,n){for(var i=Rw(t),e=function(e){var r=n[e],s=!t.some(function(t){return t.integration===r.integration});s&&r.integration!==RE&&i.push(r)},r=0;r<n.length;r++)e(r);return i}(f,v)}return"mutedAutoplay"in e&&(e.mutedAutoplay=Gm(e.mutedAutoplay)),"timeServer"in e&&delete e.timeServer,"playAdsAfterTime"in e&&(e.playAdsAfterTime=xw(e.playAdsAfterTime)),e.blockContentIfAdError=void 0!==(o=e.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),e}var jE=function(){function t(t){this.$N=t}return t.prototype.KN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.$N.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.$N.indexOf(t.charAt(n))<<18|this.$N.indexOf(t.charAt(n+1))<<12|(s=this.$N.indexOf(t.charAt(n+2)))<<6|(u=this.$N.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.tD=function(t,n){var i,e,r,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.$N.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)e=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,r=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.$N.charAt(e)+this.$N.charAt(r)+this.$N.charAt(s)+this.$N.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.sy=new t(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),t.nD=new t(t.sy.KN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function ZE(t){return"string"==typeof t}function JE(t){return"number"==typeof t}var $E={}.toString;var KE,tR=Array.isArray||function(t){return"[object Array]"===$E.call(t)};function nR(t,n){return tR(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(KE||(KE={}));var iR,eR=l.keys(KE).map(function(t){return KE[t]});function rR(t){return-1!==eR.indexOf(t)}function sR(t){try{var n=jE.nD.KN(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=ZE(t.key),e=ZE(t.customer_id),r=JE(t.generation_date),s=JE(t.expiration_date),u=nR(t.domains_page,ZE),o=nR(t.domains_source,ZE),h=nR(t.sdks,rR),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&e&&r&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function uR(){return iR||(iR={Mf:fe.href,iD:ce.parent&&ce.parent!==r,eD:aR()}),iR}var oR,hR=["http:","https:","ftp:","ws:","wss:"];function aR(){try{return ce.top.location.href}catch(t){return ce&&ce.document&&ce.document.referrer}}!function(t){t[t.rD=0]="rD",t[t.sD=1]="sD",t[t.uD=2]="uD"}(oR||(oR={}));var cR,fR=function(t,n,i,e,r,s,u,o){void 0===r&&(r=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.oD=t,this.hD=n,this.aD=i,this.cD=e,this.fD=r,this.vD=s,this.dD=u,this.lD=o};!function(t){t.sD="expired",t._D="invaliddomain",t.gD="invalidsource",t.Sl="error"}(cR||(cR={}));var vR=function(){function t(t,n,i){this.wD=void 0,this.mD=t,this.yD=n,this.gu=i,this.wD=mR(this.gu)}var n=t.prototype;return n.kD=function(t,n){var i=this;if(!ME(t)&&0!==n.aD.length&&!_R(n.aD)){var e=[];if(ym(t.sources)?e=[t.sources]:V(t.sources)&&(e=t.sources),!e.every(function(t){return i.pD(t,n)})){var r=cR.gD,s=kR.bD(r);throw new Tc(dR(r),s)}}},n.TD=function(n){return this.SD(n.dD)&&this.ED(n)?t.RD(n.cD)?oR.rD:oR.sD:oR.uD},n.SD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.ND(t)})},n.ND=function(t){return"ios"===function(t){switch(t){case KE.ANDROID:return e.g;case KE.ANDROIDTV:case KE.FIRETV:return e.R;case KE.IOS:return e.I;case KE.TVOS:return e.N;case KE.CHROMECAST:case KE.CHROMECASTCAF:return e.C;default:return e.l}}(t)},t.RD=function(t){var n=Number(new Date);return!!t&&n<=t},n.ED=function(t){return!(this.wD&&0!==t.hD.length&&!_R(t.hD))||!!(this.wD&&this.DD(t.hD)&&this.CD(t.hD))},n.DD=function(t){return gR(this.gu.Mf,t)},n.CD=function(t){if(!this.gu.iD)return!0;if(this.mD)return!0;var n=this.xD();return!!n&&gR(n,t)},n.xD=function(){if(this.gu.iD){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.gu.eD?this.gu.eD:void 0}},n.pD=function(n,i){return!!t.OD(n,i.aD)},t.OD=function(t,n){return gR(this.PD(t),n)},t.PD=function(t){return q(t)?t:mm(t)&&t.src||""},t}();function dR(t){switch(t){case cR._D:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case cR.gD:return n.ErrorCode.LICENSE_INVALID_SOURCE;case cR.sD:return n.ErrorCode.LICENSE_EXPIRED;case cR.Sl:return n.ErrorCode.LICENSE_ERROR}}function lR(t,n){var i=t,e=n;if(!i)return!1;if("*"===(e=e.trim()))return!0;if(e===(i=i.replace(/\.+$/,"")))return!0;var r="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+r+u+r+u+r+u+"\\)"),h=e.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+r+a(h[2])+r+a(h[3])+r+a(h[4])+"$");return null!==i.match(c)}return e="."+e,-1!==i.indexOf(e,i.length-e.length)}function _R(t){return t.some(function(t){return"*"===t})}function gR(t,n){var e=i.Ce(t);if(!wR(e))return!0;for(var r=0;r<n.length;r++){var s=n[r];if(lR(e.hostname,s))return!0;if(lR(N_(t),s))return!0}return!1}function wR(t){return-1!==hR.indexOf(t.protocol)}function mR(t){var n=i.Ce(t.Mf);return wR(n)&&!lR(n.hostname,"localhost")&&!function(t){return lR(t.hostname,"theoplayer.doubleclick.net")}(n)}var yR,kR=function(){function t(){}return t.bD=function(t){return t===cR._D?this.BD:t===cR.gD?this.LD:t===cR.sD?this.MD:this.UD},t}();function pR(t){var n=[t.wb,t.FD,t.HD];switch(t.FD){case yR.zD:n.push(t.Ol);break;case yR.VD:n.push(t.v_),n.push(t.ts);break;case yR.WD:n.push(t.ts)}return n}kR.UD="The license for this player is invalid.",kR.MD="The usage license for this video player has expired.",kR.BD="The current domain is incompatible with the license for this player.",kR.LD="The provided video source is incompatible with the license for this player.",function(t){t[t.zD=1]="zD",t[t.VD=4]="VD",t[t.WD=5]="WD"}(yR||(yR={}));for(var bR=new Array(256),AR=0;AR<256;AR+=1)bR[AR]=(AR<16?"0":"")+AR.toString(16);function TR(){var t=zt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,e=(4294967296*_.random()|0)+t&1130486254,r=(4294967296*_.random()|0)+t&1284287105;return bR[255&n]+bR[n>>>8&255]+bR[n>>>16&255]+bR[n>>>24&255]+"-"+bR[255&i]+bR[i>>>8&255]+"-"+bR[i>>>16&15|64]+bR[i>>>24&255]+"-"+bR[63&e|128]+bR[e>>>8&255]+"-"+bR[e>>>16&255]+bR[e>>>24&255]+bR[255&r]+bR[r>>>8&255]+bR[r>>>16&255]+bR[r>>>24&255]}var SR=function(){function t(t){this.$N=void 0,this.$N=t}var n=t.prototype;return n.KN=function(t){var n,i,e,r,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.$N.indexOf(t.charAt(n))<<18|this.$N.indexOf(t.charAt(n+1))<<12|(s=this.$N.indexOf(t.charAt(n+2)))<<6|(u=this.$N.indexOf(t.charAt(n+3))))>>>16&255,e=o>>>8&255,r=255&o,h[n/4]=String.fromCharCode(i,e,r),64===u&&(h[n/4]=String.fromCharCode(i,e)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.tD=function(t){var n,i,e,r,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.$N.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[u/3]=this.$N.charAt(i)+this.$N.charAt(e)+this.$N.charAt(r)+this.$N.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function ER(){return i.ce()}SR.sy=new SR(function(){var t,n,i,e,r=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)e=n.charAt(i),-1===r.indexOf(e)&&r.push(e);return r.join("")}()),SR.nD=new SR(SR.sy.KN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var RR,IR="theoplayer-session-id";function NR(){if(!RR){var t=Hc.cs(IR);t?RR=t:(RR=TR(),Hc.ia(IR,RR))}return RR}var DR=/[^\x00-\x7E]/g;function CR(t){return"\\u"+fs(t.charCodeAt(0).toString(16),4,"0")}var xR=0,OR=1,PR=6e4;function BR(t){var n,i,e,r,s,u=(n=function(t){return[t.XD,t.nh,t.oD,t.Ik,t.qD,t.GD,t.QD.map(pR)]}(t),i=[],e=n,r=function(t,n){if(W(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(e,r,s).replace(DR,CR));return SR.nD.tD(u)}var LR=function(){function t(t,n,i,e,r,s){var u=this;void 0===e&&(e=SR.sy),void 0===r&&(r=xR),void 0===s&&(s=OR),this.YD=[],this.jD=null,this.ZD=0,this.JD="unknown",this.Qu=0,this.$D=function(){ER()-u.ZD>PR&&u.zi()},this.KD=function(){u.zi(!0)},this.yo=t,this.mA=n,this.tC=i,this.nC=e,this.iC=r,this.eC=s,ae.rC(this.KD),c(this.$D,PR)}var n=t.prototype;return n.sC=function(){return Boolean(this.qD)},n.uC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.tC.oC());case 2:if(i.sent.lD){i.next=5;break}return i.abrupt("return");case 5:return n={FD:yR.zD,HD:zt(),Ol:t},i.next=8,Er.awrap(this.hC(n));case 8:case"end":return i.stop()}},null,this,null,ze)},n.aC=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i={FD:yR.VD,HD:zt(),v_:n,ts:t},e.next=3,Er.awrap(this.hC(i));case 3:case"end":return e.stop()}},null,this,null,ze)},n.cC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n={FD:yR.WD,HD:zt(),ts:t},i.next=3,Er.awrap(this.hC(n));case 3:case"end":return i.stop()}},null,this,null,ze)},n.hC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.tC.oC());case 2:if(n=i.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.nC.tD(n.oD)){i.next=6;break}if(t.FD===yR.WD){i.next=6;break}return i.abrupt("return");case 6:if(t.FD===yR.zD?this.fC():this.sC()||this.fC(),t.wb=this.Qu++,this.YD.push(t),(e=t.FD)!==yR.zD&&e!==yR.WD){i.next=14;break}return i.next=12,Er.awrap(this.zi());case 12:i.next=19;break;case 14:if(!(this.YD.length>this.iC)){i.next=19;break}return i.next=17,Er.awrap(this.vC());case 17:i.next=19;break;case 19:case"end":return i.stop()}var e},null,this,null,ze)},n.zi=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:void 0===t&&(t=!1);case 1:if(!(this.YD.length>0)){n.next=6;break}return n.next=4,Er.awrap(this.vC(t));case 4:n.next=1;break;case 6:case"end":return n.stop()}},null,this,null,ze)},n.dC=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.tC.oC());case 2:return n=i.sent,i.abrupt("return",{XD:zt(),nh:NR(),oD:this.nC.tD(n.oD)||"dev",Ik:this.yo,qD:this.jD,GD:this.JD,QD:t});case 4:case"end":return i.stop()}},null,this,null,ze)},n.vC=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=!1),n=this.YD.splice(0,this.eC),e.next=4,Er.awrap(this.dC(n));case 4:i=e.sent,t?this.ov(i):this.lC(i),this.ZD=ER();case 7:case"end":return e.stop()}},null,this,null,ze)},n.lC=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=BR(t),i=new p_({Mf:"https://license.theoplayer.com",yf:n,sv:!1,xf:qc.On,Cf:{"Content-Type":pT.jT},nv:4e3,tv:g_.POST}),r.prev=2,r.next=5,Er.awrap(this.mA.Bf(i));case 5:return e=r.sent,r.next=8,Er.awrap(e.gf());case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+n;case 13:case"end":return r.stop()}},null,this,[[2,10]],ze)},n.ov=function(t){var n=BR(t);this.mA.ov({Mf:"https://license.theoplayer.com",yf:n,mf:pT.jT})},n.fC=function(){this.sC()&&this.zi(),this.jD=TR(),this.Qu=0},n.hv=function(){ae._C(this.KD),this.zi()},A(t,[{key:"QD",get:function(){return this.YD}},{key:"qD",get:function(){return this.jD}}]),t}();var MR=L.hn||L.Qt&&L.ln<13;function UR(t,n,i){var e=t.getImageData(n,i,1,1).data;return 0===e[0]&&0===e[1]&&0===e[2]&&0===e[3]}var FR=function(){function t(t){this.aR=void 0,this.Sd=void 0,this.gC=void 0,this.aR=t}var n=t.prototype;return n.wC=function(t){if(!t||!t.drawImage)return!1;var n=this.aR.fg();if(!n)return!1;for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.drawImage.apply(t,[n].concat(e)),!0},n.mC=function(t,n,i,e,r,u){if(!t||!t.texImage2D)return!1;var o=this.aR,h=o.fg();if(!h)return!1;if(MR){this.gC||(this.gC=s.createElement("canvas"));var a=this.gC,c=a.getContext("2d"),f=o.p_,d=o.k_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var g=!1;f>0&&UR(c,f-1,0)&&(a.width=l,g=!0),d>0&&UR(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,e,r,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},A(t,[{key:"Ed",get:function(){return this.Sd||(this.Sd=(t=this,{drawImage:function(n){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return t.wC.apply(t,[n].concat(e))},texImage2D:function(n,i,e,r,s,u){return t.mC(n,i,e,r,s,u)}}));var t}}]),t}(),HR=function(t){function n(n,i){var e;return(e=t.call(this,"yC")||this).Rw=n,e.hp=i,e}return S(n,t),n.prototype.Rd=function(){return new zR(this.Rw,this.hp)},n}(fw),zR=function(t){function n(n,i){var e;return(e=t.call(this,"dimensionchange")||this).width=n,e.height=i,e}return S(n,t),n}(ru),VR=function(t,n){this.pg=void 0,this.kC=void 0,this.pg=t,this.kC=n},WR=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).pC=void 0,e.bC=0,e.AC=0,e.TC=function(t){if(t.length>0){var n=t[t.length-1].contentRect;e.AC=n.width,e.bC=n.height,e.kC(e.AC,e.bC)}},e.pC=new ce.ResizeObserver(e.TC),e.pC.observe(e.pg),e}return S(n,t),n.prototype.hv=function(){this.pC.disconnect()},A(n,[{key:"SC",get:function(){return this.bC}},{key:"EC",get:function(){return this.AC}}]),n}(VR),XR=0;function qR(t){var n=ER(),i=_.max(0,16-(n-XR)),e=h(function(){return t(n+i)},i);return XR=n+i,e}var GR,QR=a,YR=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,jR=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function ZR(){return GR||(GR=ce&&ce.document&&ce.document.createElement("span")),GR}YR&&jR||(YR=qR,jR=QR),YR=YR.bind(t),jR=jR.bind(t);var JR=["Webkit","Moz","O","ms"];!function(){var t=!1;try{if(void 0!==ce&&"function"==typeof ce.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});ce.addEventListener("testPassiveEventSupport",Z,n),ce.removeEventListener("testPassiveEventSupport",Z,n)}}catch(t){}}();var $R=Nr();function KR(t){return $R.has(t)||$R.set(t,function(t){var n=ZR();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),e=0;e<JR.length;e++){var r=JR[e],s=r+i;if(void 0!==n.style[s])return s}return t}(t)),$R.get(t)}function tI(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function nI(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[KR("transition")]="0s"}var iI=function(t){function n(n,i,e){var u;(u=t.call(this,n,i)||this).RC=void 0,u.IC=0,u.AC=NaN,u.bC=NaN,u.NC=void 0,u.DC=void 0,u.xC=void 0,u.OC=void 0,u.BC=void 0,u.nl=function(){u.DC.style.width=1e5+"px",u.DC.style.height=1e5+"px",u.NC.scrollLeft=1e5,u.NC.scrollTop=1e5,u.xC.scrollLeft=1e5,u.xC.scrollTop=1e5,0===u.xC.scrollTop&&YR(u.nl)},u.LC=function(){var t=u.EC,n=u.SC;u.kC(t,n),u.AC=t,u.bC=n,u.nl(),u.IC=0},u.MC=function(){if(!u.IC){var t=u.EC,n=u.SC;t===u.AC&&n===u.bC||(u.IC=YR(u.LC))}},u.UC=function(){u.BC||(u.BC=h(u.FC,66))},u.FC=function(){u.BC=void 0,u.HC()},u.HC=function(){u.MC()};var o=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");e||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.RC=c,u.NC=s.createElement("div"),u.DC=s.createElement("div"),u.xC=s.createElement("div"),u.OC=s.createElement("div"),tI(u.NC),tI(u.xC),nI(u.DC),nI(a=u.OC),a.style.width="200%",a.style.height="200%",c.appendChild(u.NC),c.appendChild(u.xC),u.NC.appendChild(u.DC),u.xC.appendChild(u.OC),n.appendChild(c),u.NC.addEventListener("scroll",u.MC),u.xC.addEventListener("scroll",u.MC),r&&r.addEventListener("resize",u.UC),u.MC(),u}return S(n,t),n.prototype.hv=function(){jR(this.IC),this.IC=0,this.NC.removeEventListener("scroll",this.MC),this.xC.removeEventListener("scroll",this.MC),Ze(this.RC),r&&r.removeEventListener("resize",this.UC)},A(n,[{key:"SC",get:function(){return this.pg.getBoundingClientRect().height||this.bC||0}},{key:"EC",get:function(){return this.pg.getBoundingClientRect().width||this.AC||0}}]),n}(VR),eI=function(t){function n(n){var i;return(i=t.call(this)||this).pg=void 0,i.pC=void 0,i.TC=function(t,n){i.Fr(new HR(t,n))},i.pg=n,i}S(n,t);var i=n.prototype;return i.oh=function(t){this.pC||("function"==typeof ce.ResizeObserver?this.pC=new WR(this.pg,this.TC):this.pC=new iI(this.pg,this.TC,t))},i.hv=function(){this.Wr(),this.pC&&(this.pC.hv(),this.pC=void 0)},A(n,[{key:"SC",get:function(){return this.pC?this.pC.SC:0}},{key:"EC",get:function(){return this.pC?this.pC.EC:0}}]),n}(iu),rI=function(t){function n(){return t.call(this,MS.Fd)||this}return S(n,t),n}(ru);var sI=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{zC:i[0],VC:i[1],WC:i[2],XC:i[3],qC:i[4],GC:i[5]}}}(),uI=function(t){function n(){return t.call(this,MS.lI)||this}return S(n,t),n}(ru),oI=function(t){function n(i){var e;return(e=t.call(this)||this).pg=void 0,e.gI=void 0,e._I=!1,e.QC=function(){return e.YI()},e.YC=function(){return e.ZI()},e.pg=i,e.gI=n.jC(i),s.addEventListener(sI.qC,e.QC),e.YI(),e}S(n,t),n.jC=function(t){return Boolean(sI&&s[sI.XC]&&sI.zC in t)};var i=n.prototype;return i.Zg=function(){var t=this.pg[sI.zC]();t&&t.then?t.then(this.QC,this.YC):(s.removeEventListener(sI.GC,this.YC),s.addEventListener(sI.GC,this.YC))},i.$g=function(){var t=s[sI.VC]();t&&t.then?t.then(this.QC,this.YC):(s.removeEventListener(sI.GC,this.YC),s.addEventListener(sI.GC,this.YC))},i.YI=function(){var t=this._I,n=this.pg===s[sI.WC];this._I=n,t!==n&&this.Fr(new rI)},i.ZI=function(){this.Fr(new zS)},i.hv=function(){this.Wr(),s.removeEventListener(sI.qC,this.QC),s.removeEventListener(sI.GC,this.YC)},n}(iu),hI=function(t){function n(i){var e;return(e=t.call(this)||this).pg=void 0,e.gI=void 0,e._I=!1,e.QC=function(){return e.YI()},e.pg=i,e.gI=n.jC(i),e.pg.addEventListener("webkitbeginfullscreen",e.QC),e.pg.addEventListener("webkitendfullscreen",e.QC),e.pg.addEventListener("webkitpresentationmodechanged",e.QC),e.YI(),e}S(n,t),n.jC=function(t){return L.Qt&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.Zg=function(){var t=this;this.pg.webkitSupportsPresentationMode&&this.pg.webkitSupportsPresentationMode("fullscreen")?L.Qt?requestAnimationFrame(function(){return t.pg.webkitSetPresentationMode("fullscreen")}):this.pg.webkitSetPresentationMode("fullscreen"):this.pg.webkitEnterFullscreen()},i.$g=function(){this.pg.webkitSupportsPresentationMode&&this.pg.webkitSupportsPresentationMode("inline")?this.pg.webkitSetPresentationMode("inline"):this.pg.webkitExitFullscreen()},i.YI=function(){var t,n=this._I;t=this.pg.webkitPresentationMode?"fullscreen"===this.pg.webkitPresentationMode:!!this.pg.webkitDisplayingFullscreen,this._I=t,n!==t&&this.Fr(new rI)},i.hv=function(){this.Wr(),this.pg.removeEventListener("webkitbeginfullscreen",this.QC),this.pg.removeEventListener("webkitendfullscreen",this.QC),this.pg.removeEventListener("webkitpresentationmodechanged",this.QC)},n}(iu),aI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ZC=[],n.JC=void 0,n.XI=!1,n.YI=function(){var t=n.XI,i=n.$C();t!==i&&(n.XI=i,n.Fr(new rI))},n}S(n,t);var i=n.prototype;return i.Zg=function(){this.JC?this.JC.Zg():this.Fr(new zS)},i.$g=function(){for(var t=0,n=this.ZC;t<n.length;t++){var i=n[t];i._I&&i.$g()}},i.KC=function(t){this.JC=t},i.tx=function(t){this.ZC.push(t),t.Hr(MS.Fd,this.YI),t.Hr(MS.Sl,this.Ur),this.YI()},i.nx=function(t){Cs(this.ZC,t),t.Xr(MS.Fd,this.YI),t.Xr(MS.Sl,this.Ur)},i.$C=function(){for(var t=0,n=this.ZC;t<n.length;t++){if(n[t]._I)return!0}return!1},i.nl=function(){this.JC=void 0,this.XI=!1;for(var t=this.ZC.slice(),n=0;n<t.length;n++){var i=t[n];this.nx(i),i.hv()}this.YI()},i.hv=function(){this.Wr(),this.nl()},A(n,[{key:"gI",get:function(){return!!this.JC&&this.JC.gI}},{key:"_I",get:function(){return this.XI}}]),n}(iu),cI=function(t){function n(n,i){var e;return(e=t.call(this)||this).aR=void 0,e.ix=void 0,e.ex=void 0,e.sx=!1,e.ux=function(){return e.Zo()},e.YI=function(t){e.sx||e.Fr(t)},e.aR=n,e.ix=i,e.ex=VS,e.ox(),e.aR.Hr(Xc._a,e.ux),e.Zo(),e}S(n,t);var i=n.prototype;return i.Zg=function(){this.ix&&this.ex.Zg()},i.$g=function(){this.ex.$g()},i.ox=function(){this.ex.Hr(MS.Fd,this.YI),this.ex.Hr(MS.Sl,this.Ur)},i.hx=function(){this.ex.Xr(MS.Fd,this.YI),this.ex.Xr(MS.Sl,this.Ur)},i.Zo=function(){var t=this.ex,n=this.aR.vg();if(t!==n){this.sx=!0;var i=this._I,e=this.gI;i&&this.$g(),this.hx(),this.ex=n,this.ox(),i&&!this._I&&this.gI?this.Zg():this.$g(),this.sx=!1,e!==this.gI&&this.Fr(new uI),i!==this._I&&this.Fr(new rI)}},i.hv=function(){this.Wr(),this.hx(),this.aR.Xr(Xc._a,this.ux)},A(n,[{key:"gI",get:function(){return!!this.ix&&this.ex.gI}},{key:"_I",get:function(){return this.ex._I}}]),n}(iu);function fI(t){var n;return{get url(){return t.Mf},get method(){return t.tv},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},get useCredentials(){return t.sv},get type(){return gI(t.nr)},get subType(){return mI(t.ev)},get mediaType(){return kI(t.rv)},get responseType(){return dI(t.xf)}}}function vI(t){switch(t.toLowerCase()){case"arraybuffer":return qc.za;case"json":return qc.Va;case"stream":return qc.Wa;case"text":default:return qc.On}}function dI(t){return t}function lI(t){switch(t.toUpperCase()){case"POST":return g_.POST;case"PUT":return g_.PUT;case"DELETE":return g_.DELETE;case"HEAD":return g_.HEAD;case"OPTIONS":return g_.OPTIONS;case"GET":default:return g_.GET}}function _I(t){switch(t.toLowerCase()){case"manifest":return w_.Hf;case"segment":return w_.zf;case"content-protection":return w_.Vf;default:return w_.Ff}}function gI(t){return t}function wI(t){switch(t.toLowerCase()){case"initialization-segment":return m_.Wf;case"fairplay-license":return m_.Xf;case"fairplay-certificate":return m_.qf;case"widevine-license":return m_.Gf;case"widevine-certificate":return m_.Qf;case"playready-license":return m_.Yf;case"clearkey-license":return m_.jf;case"aes128-key":return m_.Zf;default:return m_.Ff}}function mI(t){return t}function yI(t){switch(t.toLowerCase()){case"audio":return y_.Jf;case"video":return y_.$f;case"text":return y_.On;case"image":return y_.Kf;case"":default:return y_.Ff}}function kI(t){return t}var pI=function(){function t(t,n){this.ax=new Ro,this.vx=[],this.Sd=void 0,this.lx=!1,this.kv=void 0,this._x=0,this.gx=t,this.wx=n}var n=t.prototype;return n.wk=function(){this.lx=!0,this.ax.Is(null)},n.mx=function(){this.ax.Ns(new jl(this.vx))},n.yx=function(t){if(!this.kx)throw new d("Cannot respond more than once");if(!W(t))throw new d("Expected valid response");this.kv=this.bx(t),this.wk()},n.Ax=function(){try{var t=this.wx(this.Ed);t?this.Tx(t):this.Sx||this.Ex||this.wk()}catch(t){this.vx.push(t),this.mx()}},n.Tx=function(t){if(this.Ex)throw new v("Request has been redirected or a response already exists");if(Q(t))this.Rx(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new Ro;try{var i=t(function(t){t?n.Ns(t):n.Is(void 0)});Q(i)&&n.Is(i)}catch(t){n.Ns(t)}this.Rx(n.Ss)}},n.Rx=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this._x++,n.next=4,Er.awrap(t);case 4:this._x--,this.Sx||this.Ex||(this.vx.length?this.mx():this.wk()),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),this._x--,this.vx.push(n.t0),this.Sx||this.Ex||this.mx();case 13:case"end":return n.stop()}},null,this,[[0,8]],ze)},A(t,[{key:"Ix",get:function(){return this.ax.Ss}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Nx()),this.Sd}},{key:"Ex",get:function(){return this.lx}},{key:"kx",get:function(){return!this.lx}},{key:"Sx",get:function(){return this._x>0}},{key:"pv",get:function(){return this.kv}}]),t}(),bI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).Dx=void 0,r.Dx=e,r.Ax(),r}S(n,t),n.Cx=function(t,n,i){var e=void 0===t.body?i:t.body;return new k_({ai:e,Bf:n.Bf,xf:n.Bf.xf,Cf:t.headers,Df:t.status,Of:t.statusText,Lf:t.url,Pf:!0},n)};var i=n.prototype;return i.Nx=function(){return i=fI((t=this).Bf),{get closed(){return!t.kx},get request(){return i},get url(){return t.Mf},get status(){return t.Df},get statusText(){return t.Of},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},respondWith:function(n){return t.yx(n)},waitUntil:function(n){return t.Tx(n)}};var t,n,i},i.bx=function(t){return n.Cx(t,this.gx,this.Dx)},A(n,[{key:"yf",get:function(){return this.Dx}},{key:"Cf",get:function(){return this.gx.Cf}},{key:"Bf",get:function(){return this.gx.Bf}},{key:"pv",get:function(){return this.kv}},{key:"Df",get:function(){return this.gx.Df}},{key:"Of",get:function(){return this.gx.Of}},{key:"Mf",get:function(){return this.gx.Lf}}]),n}(pI),AI=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i)||this).xx=void 0,r.Ox=void 0,r.Ox=e,r.Ax(),r}S(n,t);var i=n.prototype;return i.Nx=function(){return t=this,{get url(){return t.Mf},get method(){return t.tv},get headers(){return n||(n=t.Cf.Xa()),n},get body(){return t.yf},get closed(){return!t.kx},get useCredentials(){return t.sv},get type(){return gI(t.nr)},get subType(){return mI(t.ev)},get mediaType(){return kI(t.rv)},get responseType(){return dI(t.xf)},redirect:function(n){return t.Px(n)},respondWith:function(n){return t.yx(n)},waitUntil:function(n){return t.Tx(n)}};var t,n},i.bx=function(t){var n=this.gx.yf,i=new k_({ai:n,Cf:{},Bf:this.gx,Lf:this.gx.Mf,xf:this.gx.xf,Df:200,Of:"OK"});return bI.Cx(t,i,n)},i.Px=function(t){if(!this.kx)throw new d("Cannot redirect, already redirected or has a response");var n;n=q(t)?{url:t}:t,this.xx=function(t,n){return new p_({Mf:void 0===t.url?n.Mf:t.url,tv:void 0!==t.method?lI(t.method):void 0,Cf:t.headers,yf:t.body,sv:t.useCredentials,nr:void 0!==t.type?_I(t.type):void 0,ev:void 0!==t.subType?wI(t.subType):void 0,rv:void 0!==t.mediaType?yI(t.mediaType):void 0,xf:void 0!==t.responseType?vI(t.responseType):void 0},n)}(n,this.gx),this.wk()},A(n,[{key:"yf",get:function(){return this.gx.yf}},{key:"kx",get:function(){return this.Ox&&!this.lx}},{key:"Cf",get:function(){return this.gx.Cf}},{key:"tv",get:function(){return this.gx.tv}},{key:"Bx",get:function(){return this.xx}},{key:"pv",get:function(){return this.kv}},{key:"xf",get:function(){return this.gx.xf}},{key:"nv",get:function(){return this.gx.nv}},{key:"Pr",get:function(){return this.gx.Pr}},{key:"nr",get:function(){return this.gx.nr}},{key:"ev",get:function(){return this.gx.ev}},{key:"rv",get:function(){return this.gx.rv}},{key:"Mf",get:function(){return this.gx.Mf}},{key:"sv",get:function(){return this.gx.sv}},{key:"uv",get:function(){return this.gx.uv}}]),n}(pI);var TI,SI=function(t){function n(n,i){var e;void 0===i&&(i=!0);var r=new EI(n);return(e=t.call(this,r,i)||this).Lx=void 0,e.Lx=r,e}S(n,t);var i=n.prototype;return i.Mx=function(t){this.Lx.Mx(t)},i.Ux=function(t){this.Lx.Ux(t)},i.Fx=function(t){this.Lx.Fx(t)},i.Hx=function(t){this.Lx.Hx(t)},i.zx=function(t){this.Lx.zx(t)},n}(A_),EI=function(){function t(t){this.av=void 0,this.Vx=[],this.Wx=[],this.av=t}var n=t.prototype;return n.Bf=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.Xx(t,t.Pr));case 3:n=i.sent,i.next=13;break;case 6:if(i.prev=6,i.t0=i.catch(0),!(i.t0 instanceof D_)){i.next=12;break}return i.next=11,Er.awrap(this.qx(i.t0,t.Pr));case 11:return i.abrupt("return",i.sent);case 12:throw i.t0;case 13:return i.next=15,Er.awrap(this.Gx(n,t.Pr));case 15:if(!__(n=i.sent)){i.next=20;break}return i.abrupt("return",n);case 20:throw new x_(n);case 21:case"end":return i.stop()}},null,this,[[0,6]],ze)},n.ov=function(t){return this.av.ov(t)},n.Xx=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:Vs(n),i=t,r=0,s=this.Vx.slice();case 3:if(!(r<s.length)){h.next=21;break}if(u=s[r],Vs(n),(o=new AI(i,u,!e)).Ex){h.next=17;break}return h.prev=8,h.next=11,Er.awrap(o.Ix);case 11:h.next=17;break;case 13:return h.prev=13,h.t0=h.catch(8),h.abrupt("continue",18);case 17:o.Bx&&!e?i=o.Bx:o.pv&&!e&&(e=o.pv);case 18:r++,h.next=3;break;case 21:if(!e){h.next=23;break}return h.abrupt("return",e);case 23:return h.abrupt("return",this.av.Bf(i));case 24:case"end":return h.stop()}},null,this,[[8,13]],ze)},n.qx=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=t instanceof x_?t.pv:new k_({ai:null,Bf:t.Bf,Df:0,Of:""}),r.next=3,Er.awrap(this.Gx(i,n));case 3:if((e=r.sent)!==i){r.next=8;break}throw t;case 8:if(!__(e)){r.next=12;break}return r.abrupt("return",e);case 12:throw new x_(e);case 13:case"end":return r.stop()}},null,this,null,ze)},n.Gx=function(t,n){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:i=t,e=0,r=this.Wx.slice();case 2:if(!(e<r.length)){h.next=23;break}return s=r[e],Vs(n),h.next=7,Er.awrap(ze.resolve(i.ks().ai(n)));case 7:if(u=h.sent,(o=new bI(i,s,u)).Ex){h.next=19;break}return h.prev=10,h.next=13,Er.awrap(o.Ix);case 13:h.next=19;break;case 15:return h.prev=15,h.t0=h.catch(10),h.abrupt("continue",20);case 19:i=o.pv||i;case 20:e++,h.next=2;break;case 23:return h.abrupt("return",i);case 24:case"end":return h.stop()}},null,this,[[10,15]],ze)},n.Mx=function(t){this.Vx.unshift(t)},n.Ux=function(t){this.Vx.push(t)},n.Fx=function(t){Cs(this.Vx,t)},n.Hx=function(t){this.Wx.unshift(t)},n.zx=function(t){Cs(this.Wx,t)},n.hv=function(){this.av.hv(),Ps(this.Vx),Ps(this.Wx)},t}(),RI=function(){function t(t){this.Sd=void 0,this.mA=t}var n=t.prototype;return n.Mx=function(t){this.mA.Mx(t)},n.Fx=function(t){this.mA.Fx(t)},n.Hx=function(t){this.mA.Hx(t)},n.zx=function(t){this.mA.zx(t)},A(t,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{addRequestInterceptor:function(n){t.Mx(n)},removeRequestInterceptor:function(n){t.Fx(n)},addResponseInterceptor:function(n){t.Hx(n)},removeResponseInterceptor:function(n){t.zx(n)}})),this.Sd}}]),t}(),II=function(t){function n(n,i,e){var r;return(r=t.call(this,i)||this).Sd=void 0,r.Qx=function(t){r.Fr(t)},r.Yx=function(t){r.Fr(t)},r.jx=n,r.mA=i,r.EI=e,r.jx.Hr(Xc.pa,r.Qx),r.jx.Hr(Xc.ka,r.Yx),r}S(n,t);var i=n.prototype;return i.Zx=function(t){this.EI.Zx(t)},i.Mx=function(t){this.mA.Mx(t)},i.Fx=function(t){this.mA.Fx(t)},i.Hx=function(t){this.mA.Hx(t)},i.zx=function(t){this.mA.zx(t)},i.hv=function(){this.Wr(),this.jx.Xr(Xc.pa,this.Qx),this.jx.Xr(Xc.ka,this.Yx)},A(n,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{get online(){return t.Ng},get estimator(){return n=t.Jx,{get bandwidth(){return n.xS},get roundTripTime(){return n.OS}};var n},setEstimator:function(n){t.Zx(function(t){if(t)return{get xS(){return Ow(t.bandwidth)},get OS(){return Ow(t.roundTripTime)},CS:function(n){return function(t){if(t)return{$x:function(n){t.markRequestStart(n)},Kx:function(n){t.markResponseStart(n)},tO:function(n,i){t.markResponseData(n,i)},nO:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(fI(n)))}}}(n))},addRequestInterceptor:function(n){t.Mx(n)},removeRequestInterceptor:function(n){t.Fx(n)},addResponseInterceptor:function(n){t.Hx(n)},removeResponseInterceptor:function(n){t.zx(n)},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}})),this.Sd}},{key:"Ng",get:function(){return this.jx.Ng}},{key:"Jx",get:function(){return this.EI.Jx}}]),n}(iu);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(TI||(TI={}));var NI=30,DI={type:TI.BANDWIDTH},CI=20,xI=60;function OI(t){var n,i,e,r=Rw(DI);return q(t)?r.type=PI(t):W(t)&&function(t){switch(t){case TI.PERFORMANCE:case TI.QUALITY:case TI.BANDWIDTH:return!0;default:return!1}}(t.type)&&(r.type=PI(t.type)),W(t)&&W(t.metadata)&&(r.metadata=(n=t.metadata,i={},e=xw(n.bitrate),m(e)||(i.bitrate=e),i)),r}function PI(t){switch(t){case"bandwidth":return TI.BANDWIDTH;case"performance":return TI.PERFORMANCE;case"quality":return TI.QUALITY}}var BI=function(t){function n(n){var i;return(i=t.call(this,"eO")||this).iO=n,i}return S(n,t),n}(ru),LI=function(t){function n(n){var i;return(i=t.call(this,"sO")||this).rO=n,i}return S(n,t),n}(ru),MI=function(t){function n(n){var i;return(i=t.call(this,"oO")||this).uO=n,i}return S(n,t),n}(ru),UI=function(t){function n(){for(var n,i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return(n=t.call.apply(t,[this].concat(r))||this).Sd=(i=Yt(n),{get strategy(){return{metadata:(t=i.rO).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.rO=OI(t)},get targetBuffer(){return i.iO},set targetBuffer(t){var n=xw(t);m(n)||(i.iO=n>xI?xI:n)},get bufferLookbackWindow(){return i.uO},set bufferLookbackWindow(t){var n=xw(t);m(n)||(i.uO=n<=0?NI:n)}}),n.hO=DI,n.aO=CI,n.cO=NI,n.fO=void 0,n.vO=void 0,n}S(n,t);var i=n.prototype;return i.dO=function(t){this.vO=t},i.Zx=function(t){this.fO=t},A(n,[{key:"lO",get:function(){switch(this.hO.type){case TI.PERFORMANCE:return 0;case TI.QUALITY:return 1/0;case TI.BANDWIDTH:return this.hO.metadata&&void 0!==this.hO.metadata.bitrate?this.hO.metadata.bitrate:8*em.ql();default:return 8*em.ql()}}},{key:"Ed",get:function(){return this.Sd}},{key:"rO",get:function(){return this.hO},set:function(t){this.hO=t,this.Fr(new LI(t))}},{key:"iO",get:function(){return this.aO},set:function(t){this.aO=t,this.Fr(new BI(t))}},{key:"uO",get:function(){return this.cO},set:function(t){this.cO=t,this.Fr(new MI(t))}},{key:"Jx",get:function(){var t;return null!=(t=this.fO)?t:this.vO.YE}}]),n}(iu),FI=function(t){function n(){return t.call(this,"Hd")||this}return S(n,t),n.prototype.Rd=function(){return new HI},n}(fw),HI=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(ru),zI=function(t){function n(n,i,e){var r;(r=t.call(this,e)||this)._O=void 0,r.YD=void 0,r.gO=function(t){vw(t)&&js(function(){r.Fr(t.Ed)})},r._O=n,r.YD=i;for(var s=0,u=r.YD;s<u.length;s++){var o=u[s];r._O.Hr(o,r.gO)}return r}return S(n,t),n.prototype.hv=function(){this.Wr();for(var t=0,n=this.YD;t<n.length;t++){var i=n[t];this._O.Xr(i,this.gO)}},n}(iu),VI=function(t){function n(n,i){var e;return(e=t.call(this,i)||this)._O=void 0,e.gO=function(t){vw(t)&&js(function(){e.Fr(t.Ed)})},e._O=n,e._O.Vr(e.gO),e}return S(n,t),n.prototype.hv=function(){this.Wr(),this._O.Qr(this.gO)},n}(Kw),WI=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n}(VI);var XI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).fw=0,n.vw=1/0,n.Sd=void 0,n}S(n,t);var i=n.prototype;return i.nl=function(){0===this.fw&&this.vw===1/0||(this.fw=0,this.vw=1/0,this.Fr(new FI))},i.wO=function(){return new FS([this.tw,this.nw],[!0,!0])},A(n,[{key:"tw",get:function(){return this.fw},set:function(t){if(this.nw<=t)throw new v("Start time of a clip should be smaller than the end time.");this.fw!==t&&(this.fw=t,this.Fr(new FI))}},{key:"nw",get:function(){return this.vw},set:function(t){if(t<=this.tw)throw new v("End time of a clip should be larger than the start time.");this.vw!==t&&(this.vw=t,this.Fr(new FI))}},{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get startTime(){return t.tw},set startTime(n){t.tw=n},get endTime(){return t.nw},set endTime(n){t.nw=n},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new VI(t=this,i),i)),this.Sd}}]),n}(Kw),qI=function(t){function n(n){var i;return(i=t.call(this)||this).mO=function(t){i.yO(t)||i.Fr(t)},i.kO=n,i.kO.Vr(i.mO),i}S(n,t);var i=n.prototype;return i.pO=function(){return this.kO.Q_},i.dg=function(){return this.kO.dg()},i.bO=function(){return this.kO.yg},i.AO=function(){return this.kO.wg},i.TO=function(){return this.kO.kg},i.SO=function(t){this.kO.kg=t},i.EO=function(){return this.kO.v_},i.RO=function(t){this.kO.v_=t},i.IO=function(){return this.kO.d_},i.DO=function(){return this.kO.pg},i.CO=function(){return this.kO.l_},i.xO=function(){return this.kO.ts},i.OO=function(){return this.kO.__},i.PO=function(){return this.kO.bg},i.BO=function(){return this.kO.g_},i.LO=function(t){this.kO.g_=t},i.MO=function(){return this.kO.Ng},i.UO=function(){return this.kO.w_},i.FO=function(){return this.kO.m_},i.HO=function(t){this.kO.m_=t},i.zO=function(){return this.kO.Dg},i.VO=function(){return this.kO.Cg},i.WO=function(t){this.kO.Cg=t},i.XO=function(){return this.kO.Dl},i.qO=function(){return this.kO.xg},i.GO=function(){return this.kO.y_},i.ng=function(){return this.kO.ng()},i.ig=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),i.next=3,Er.awrap(this.kO.ig(t,n));case 3:case"end":return i.stop()}},null,this,null,ze)},i.QO=function(){return this.kO.j_},i.YO=function(){return this.kO.k_},i.jO=function(){return this.kO.Y_},i.ZO=function(){return this.kO.p_},i.JO=function(){return this.kO.b_},i.$O=function(t){this.kO.b_=t},i.vg=function(){return this.kO.vg()},i.fg=function(){return this.kO.fg()},i.og=function(t){this.kO.og(t)},i.hg=function(){this.kO.hg()},i.cg=function(){this.kO.cg()},i.ug=function(){this.kO.ug()},i.K_=function(){this.kO.K_()},i.J_=function(){this.kO.J_()},i.ag=function(){this.kO.ag()},i.tg=function(){return this.kO.tg()},i.eg=function(){return this.kO.eg()},i.rg=function(){this.kO.rg()},i.sg=function(){this.kO.sg()},i.nl=function(){return this.kO.nl()},i.hv=function(){return this.kO.hv()},i.mg=function(){this.kO.mg()},i.lg=function(t){return this.kO.lg(t)},i.yO=function(t){return!1},A(n,[{key:"Q_",get:function(){return this.pO()}},{key:"yg",get:function(){return this.bO()}},{key:"kg",get:function(){return this.TO()},set:function(t){this.SO(t)}},{key:"wg",get:function(){return this.AO()}},{key:"v_",get:function(){return this.EO()},set:function(t){this.RO(t)}},{key:"d_",get:function(){return this.IO()}},{key:"pg",get:function(){return this.DO()}},{key:"l_",get:function(){return this.CO()}},{key:"ts",get:function(){return this.xO()}},{key:"__",get:function(){return this.OO()}},{key:"Z_",get:function(){return this.kO.Z_}},{key:"bg",get:function(){return this.PO()}},{key:"B_",get:function(){return this.kO.B_}},{key:"g_",get:function(){return this.BO()},set:function(t){this.LO(t)}},{key:"Ng",get:function(){return this.MO()}},{key:"w_",get:function(){return this.UO()}},{key:"m_",get:function(){return this.FO()},set:function(t){this.HO(t)}},{key:"Dg",get:function(){return this.zO()}},{key:"Cg",get:function(){return this.VO()},set:function(t){this.WO(t)}},{key:"Dl",get:function(){return this.XO()}},{key:"xg",get:function(){return this.qO()}},{key:"y_",get:function(){return this.GO()}},{key:"j_",get:function(){return this.QO()}},{key:"k_",get:function(){return this.YO()}},{key:"Y_",get:function(){return this.jO()}},{key:"p_",get:function(){return this.ZO()}},{key:"b_",get:function(){return this.JO()},set:function(t){this.$O(t)}},{key:"Og",get:function(){return this.kO.Og}},{key:"Pg",get:function(){return this.kO.Pg},set:function(t){this.kO.Pg=t}}]),n}(tm),GI=function(t){function n(i,e){var r;return(r=t.call(this,i)||this).KO=void 0,r.tP=!1,r.nP=void 0,r.iP=!1,r.eP=function(){r.rP(),r.sP()},r.cE=function(){r.uP(),r.sP(),r.oP&&r.v_>=r.KO.nw-n.hP&&!r.l_&&(r.nP=YR(r.cE))},r.aP=function(){r.iP=!0},r.cP=function(){r.iP&&(r.iP=!1,r.sP())},r.KO=e,r.KO.Hr("Hd",r.eP),r.kO.Hr("timeupdate",r.cE),r}S(n,t);var i=n.prototype;return i.RO=function(n){var i=this.KO.wO().FR(n);t.prototype.RO.call(this,i),this.sP()},i.CO=function(){return t.prototype.CO.call(this)||this.tP},i.qO=function(){return FS.cI(t.prototype.qO.call(this)).WR(this.KO.wO()).XE()},i.J_=function(){this.CO()?this.RO(this.fP.start(0)):this.rP(),t.prototype.J_.call(this),this.sP()},i.ig=function(n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Vs(i),this.tP=!1,this.KO.nl(),e.next=5,Er.awrap(t.prototype.ig.call(this,n,i));case 5:case"end":return e.stop()}},null,this,null,ze)},i.hv=function(){return this.KO.Xr("Hd",this.eP),this.kO.Xr("timeupdate",this.cE),this.uP(),t.prototype.hv.call(this)},i.yO=function(n){switch(n.type){case"seeking":return this.Fr(n),this.aP(),!0;case"seeked":case"emptied":return this.Fr(n),this.cP(),!0;case"ended":if(this.oP)return!0}return t.prototype.yO.call(this,n)},i.uP=function(){this.nP&&(jR(this.nP),this.nP=void 0)},i.sP=function(){var t=this.v_,i=this.oP&&t>=this.KO.nw-n.Dm;this.tP&&!i?(this.tP=!1,this.w_&&this.J_()):this.tP||!i||this.y_||this.iP||(this.tP=!0,this.Fr(new Mm(t)),this.K_())},i.rP=function(){if(this.d_!==1/0){var t=this.fP,i=FS.cI(t).FR(this.v_);Lt(this.v_,i,n.Dm)||this.RO(i)}},A(n,[{key:"fP",get:function(){return this.qO().length?this.qO():this.KO.wO().XE()}},{key:"oP",get:function(){return this.KO.nw<this.d_}}]),n}(qI);GI.hP=1,GI.Dm=.001;var QI=function(){function t(){this.vP=void 0,this.vP=!1}return A(t,[{key:"dP",get:function(){return this.vP},set:function(t){this.vP=t}}]),t}(),YI=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).vP=void 0,e.lP=!1,e._P=!1,e.vP=i,e}S(n,t);var i=n.prototype;return i.CO=function(){return!this.vP.dP&&t.prototype.CO.call(this)},i.K_=function(){this._P=!0,t.prototype.K_.call(this)},i.J_=function(){this._P=!1,t.prototype.J_.call(this)},i.yO=function(n){if(this.vP.dP)switch(n.type){case"ended":return this.v_=0,this._P||(this.y_?this.lP=!0:this.J_()),!0;case"seeked":this.lP&&(this.lP=!1,this.J_());break;case"pause":if(this.lP||t.prototype.CO.call(this))return!0}return t.prototype.yO.call(this,n)},n}(qI);var jI=function(){function t(t){var n;this.Sd=(n=this,{get currentBandwidthEstimate(){return n.Eg},get corruptedVideoFrames(){return n.Tg},get droppedVideoFrames(){return n.Ag},get totalBytesLoaded(){return n.Rg},get bufferedSegments(){return n.Ig}}),this.gR=t}return A(t,[{key:"Ed",get:function(){return this.Sd}},{key:"Tg",get:function(){return this.gR.gP.B_.Tg}},{key:"Eg",get:function(){return this.gR.gP.B_.Eg}},{key:"Ag",get:function(){return this.gR.gP.B_.Ag}},{key:"wP",get:function(){throw new v("Not implemented")}},{key:"mP",get:function(){throw new v("Not implemented")}},{key:"Rg",get:function(){return this.gR.gP.B_.Rg}},{key:"Sg",get:function(){return this.gR.gP.B_.Sg}},{key:"Ig",get:function(){return this.gR.gP.B_.Ig}}]),t}();function ZI(t){if(!t||!ir(t))return{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{Ag:n.droppedVideoFrames,Tg:n.corruptedVideoFrames||0,Sg:n.totalVideoFrames}}return{Ag:t.webkitDroppedFrameCount||0,Tg:0,Sg:t.webkitDecodedFrameCount||0}}var JI=function(t){function n(){return t.call(this,"yP")||this}return S(n,t),n.prototype.Rd=function(){return new $I},n}(fw),$I=function(t){function n(){return t.call(this,"castingchange")||this}return S(n,t),n}(ru);var KI=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).kP=[],n.Sd=void 0,n.pP=function(){return n.Fr(new JI)},n}S(n,t);var i=n.prototype;return i.bP=function(t){this.kP.push(t),t.Hr("statechange",this.pP)},i.hv=function(){var t=this;this.kP.forEach(function(n){n.Xr("statechange",t.pP)}),Ps(this.kP)},A(n,[{key:"AP",get:function(){return this.kP.some(function(t){return t.AP})}},{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get casting(){return t.AP},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new WI(t=this,i),i)),this.Sd}}]),n}(tm),tN=function(){function t(){}return t.TP=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i=new p_({Mf:t,xf:qc.On,tv:g_.GET}),s.next=4,Er.awrap(n.Bf(i));case 4:return e=s.sent,s.next=7,Er.awrap(e.ai());case 7:return r=s.sent,s.abrupt("return",r.trim());case 11:return s.prev=11,s.t0=s.catch(0),zs(s.t0),s.abrupt("return",void 0);case 15:case"end":return s.stop()}},null,null,[[0,11]],ze)},t.SP=function(t){try{var i=sR(t);return new fR(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Tc(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.EP=function(t){void 0===t&&(t=SR.sy),i.me("The baked-in license is used. Please update the configuration with your license.");var n=t.KN(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),e=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.KN(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.KN(n)}),s=Number(new Date(Number(t.KN("COD|aHpHa:p3Ceo3Co\"\""))));return new fR(n,e,r,s)},t.convertLicenseToDummyLicense=function(t){return new fR(t.oD,t.hD,t.aD,864e13,t.fD,Date.now(),t.dD,t.lD)},t}(),nN=function(){function t(){}return t.ea=function(){return t.Rn||(t.Rn=iN.wh()?new iN:new Fc),t.Rn},t.ds=function(n){t.ea().ds(n)},t.na=function(){t.ea().na()},t.cs=function(n){return t.ea().cs(n)},t.ia=function(n,i){t.ea().ia(n,i)},t.RP=function(n){var i=t.cs(n);if(void 0!==i)return w(i)},t.IP=function(n){return"true"===t.cs(n)},t}();nN.Rn=void 0;var iN=function(n){function i(){return n.apply(this,arguments)||this}S(i,n),i.wh=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var e=i.prototype;return e.ds=function(n){t.localStorage.removeItem(n)},e.na=function(){t.localStorage.clear()},e.cs=function(n){return t.localStorage[n]},e.ia=function(n,i){t.localStorage[n]=i},i}(nN),eN=_.floor(14399999*_.random()-72e5),rN=function(){function t(t,n,i,e,r,s){this.wD=void 0,this.mA=t,this.NP=n,this.DP=i,this.tC=e,this.CP=r,this.gu=s,this.wD=mR(s)}var i=t.prototype;return i.xP=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.OP(this.CP.license,this.CP.licenseUrl));case 2:t=n.sent,this.tC.PP(t);case 4:case"end":return n.stop()}},null,this,null,ze)},i.OP=function(t,i){var e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(e=i,t?r=tN.SP(t):e||(r=tN.EP()),e||(e="https://validate.theoplayer.com/1/"+r.oD),s=this.BP(),!r){v.next=14;break}if((u=this.NP.TD(r))!==oR.rD){v.next=14;break}if(!this.LP(r.cD)||!this.LP(null==s?void 0:s.cD)){v.next=13;break}return v.next=10,Er.awrap(this.MP(e));case 10:if(!(o=v.sent)){v.next=13;break}return v.abrupt("return",o);case 13:return v.abrupt("return",r);case 14:if(!s){v.next=25;break}if(this.NP.TD(s)!==oR.rD){v.next=24;break}if(!this.LP(null==s?void 0:s.cD)){v.next=23;break}return v.next=20,Er.awrap(this.MP(e));case 20:if(!(h=v.sent)){v.next=23;break}return v.abrupt("return",h);case 23:return v.abrupt("return",s);case 24:nN.ds("THEOplayer.license");case 25:return v.next=27,Er.awrap(tN.TP(e,this.mA));case 27:if(!(a=v.sent)){v.next=37;break}if(c=tN.SP(a),this.NP.TD(c)!==oR.rD){v.next=34;break}return nN.ia("THEOplayer.license",a),v.abrupt("return",c);case 34:nN.ds("THEOplayer.license"),v.next=39;break;case 37:if(this.wD||!r||u!==oR.sD||e!=="https://validate.theoplayer.com/1/"+r.oD){v.next=39;break}return v.abrupt("return",tN.convertLicenseToDummyLicense(r));case 39:if(!r&&!c){v.next=43;break}this.UP(null!=(f=r)?f:c,new Tc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),v.next=44;break;case 43:throw new Tc(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return v.stop()}},null,this,null,ze)},i.kD=function(t){var n,i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Er.awrap(this.tC.oC());case 2:if(n=h.sent,!this.LP(n.cD)){h.next=9;break}return e=null!=(i=this.CP.licenseUrl)?i:"https://validate.theoplayer.com/1/"+n.oD,h.next=7,Er.awrap(this.MP(e));case 7:(r=h.sent)&&(this.tC.PP(r),n=r);case 9:if(h.prev=9,(s=this.NP.TD(n))!==oR.uD){h.next=16;break}throw u=cR._D,new Tc(dR(u),kR.bD(u));case 16:if(s!==oR.sD){h.next=19;break}throw o=cR.sD,new Tc(dR(o),kR.bD(o));case 19:this.NP.kD(t,n),h.next=25;break;case 22:h.prev=22,h.t0=h.catch(9),this.FP(h.t0);case 25:case"end":return h.stop()}},null,this,[[9,22]],ze)},i.MP=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Er.awrap(tN.TP(t,this.mA));case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:if(i=tN.SP(n),this.NP.TD(i)!==oR.rD){e.next=11;break}return nN.ia("THEOplayer.license",n),e.abrupt("return",i);case 11:return e.abrupt("return",void 0);case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",void 0);case 17:case"end":return e.stop()}},null,this,[[0,14]],ze)},i.LP=function(t){return!t||Number(new Date)+2592e5+eN>=t},i.BP=function(){var t=nN.cs("THEOplayer.license");if(t)return tN.SP(t)},i.UP=function(t,n){this.tC.PP(t),this.FP(n)},i.FP=function(t){throw ot(t.message),this.DP.cC(t.message),t},t}(),sN=function(){function t(){this.HP=void 0,this.zP=new Ro}var n=t.prototype;return n.PP=function(t){this.HP=t,this.zP.Is()},n.oC=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HP){t.next=2;break}return t.abrupt("return",ze.resolve(this.HP));case 2:return t.next=4,Er.awrap(this.zP.Ss);case 4:return t.abrupt("return",this.HP);case 5:case"end":return t.stop()}},null,this,null,ze)},A(t,[{key:"VP",get:function(){return this.HP}}]),t}(),uN=function(t){function n(){return t.call(this,"Hd")||this}return S(n,t),n.prototype.Rd=function(){return new oN},n}(fw),oN=function(t){function n(){return t.call(this,"change")||this}return S(n,t),n}(ru);function hN(t){var n,i={get fontFamily(){return t.WP},set fontFamily(n){t.WP=n},get fontColor(){return t.XP},set fontColor(n){t.XP=n},get fontSize(){return t.qP},set fontSize(n){t.qP=n},get backgroundColor(){return t.GP},set backgroundColor(n){t.GP=n},get windowColor(){return t.QP},set windowColor(n){t.QP=n},get edgeStyle(){return t.YP},set edgeStyle(n){t.YP=n},addEventListener:function(t,i){var e=Lw(t,Pw);n.Hr(e,i)},removeEventListener:function(t,i){var e=Lw(t,Pw);n.Xr(e,i)}};return n=new eu(i),t.Hr(["Hd"],function(t){return n.Fr(t.Ed)}),i}var aN,cN,fN={WP:void 0,XP:void 0,qP:void 0,GP:void 0,QP:void 0,YP:void 0,jP:void 0},vN="THEOplayer.textTrackStyle.",dN=function(t){function n(){var i;return(i=t.call(this)||this).ZP=void 0,i.Sd=void 0,i.ZP=n.JP(),i}return S(n,t),n.prototype.Zo=function(t){this.ZP=Rr({},this.ZP,t),n.$P(this.ZP),this.Fr(new uN)},n.JP=function(){var t=Rr({},fN);return t.WP=nN.cs(vN+"fontFamily")||t.WP,t.XP=nN.cs(vN+"fontColor")||t.XP,t.qP=nN.cs(vN+"fontSize")||t.qP,t.GP=nN.cs(vN+"backgroundColor")||t.GP,t.QP=nN.cs(vN+"windowColor")||t.QP,t.YP=nN.cs(vN+"edgeStyle")||t.YP,t},n.$P=function(t){nN.ia(vN+"fontFamily",t.WP||""),nN.ia(vN+"fontColor",t.XP||""),nN.ia(vN+"fontSize",t.qP||""),nN.ia(vN+"backgroundColor",t.GP||""),nN.ia(vN+"windowColor",t.QP||""),nN.ia(vN+"edgeStyle",t.YP||"")},A(n,[{key:"KP",get:function(){return this.ZP}},{key:"WP",get:function(){return this.ZP.WP},set:function(t){this.Zo({WP:t})}},{key:"XP",get:function(){return this.ZP.XP},set:function(t){this.Zo({XP:t})}},{key:"qP",get:function(){return this.ZP.qP},set:function(t){this.Zo({qP:t})}},{key:"GP",get:function(){return this.ZP.GP},set:function(t){this.Zo({GP:t})}},{key:"QP",get:function(){return this.ZP.QP},set:function(t){this.Zo({QP:t})}},{key:"YP",get:function(){return this.ZP.YP},set:function(t){this.Zo({YP:t})}},{key:"jP",get:function(){return this.ZP.jP}},{key:"Ed",get:function(){return this.Sd||(this.Sd=hN(this)),this.Sd}}]),n}(iu),lN=function(t){function n(n,e){var r;(r=t.call(this)||this).tB=void 0,r.rh=void 0,r.gP=void 0,r.nB=void 0,r.kd=void 0,r.KO=void 0,r.vP=void 0,r.iB=void 0,r.eB=void 0,r.EI=void 0,r.NP=void 0,r.rB=void 0,r.sB=void 0,r.SI=void 0,r.uB=!1,r.H_=!1,r.Hg=void 0,r.oB=!1,r.hB=void 0,r.aB=void 0,r.cB=void 0,r.fB=void 0,r.vB=void 0,r.dB=function(t){if(!r.oB){r.oB=!0;var n=r.tB,i=gy(t);r.gP.fl=new qS(r.pg,i,t),Zs(n.hv())}},r.lB=function(t){r.Fr(t.Ed)},r._B=function(t){t.type!==Xc.pa&&t.type!==Xc.ka&&r.Fr(t)};var s=xw(e.uid);m(s)?r.Hg=Sy++:r.Hg=s,r.rh=e;var u=i.kd,o=new sN;r.nB=new LR("3.7.0",u,o),r.kd=new SI(u,e.allowMixedContent),r.EI=new UI,r.NP=new vR(e.isEmbeddable,"3.7.0",uR()),r.vB=new rN(u,r.NP,r.nB,o,e,uR()),r.vB.xP().catch(r.dB),r.rB=new eI(n),r.rB.Hr("yC",r.lB),r.SI=new dN,r.KO=new XI,r.vP=new QI;var h=new XS(n,e,r.kd,r.EI,r.rB,r.SI);r.EI.dO(h);var a=h;a=new GI(a,r.gB),a=new YI(a,r.dP),r.tB=a,r.gP=new vy(r.tB),r.gP.Vr(r._B),r.fB=new jI(Yt(r)),r.aB=new II(r.gP,r.kd,r.EI),r.iB=new FR(Yt(r)),r.sB=new cI(r.gP,e.allowNativeFullscreen),r.eB=new cE(r.sB),r.rB.oh();var c=new oe(r.rB,r.SI,1,[my.$f]);return r.hB=new he(c),r.cB=new KI,r}S(n,t);var e=n.prototype;return e.LO=function(t){this.gP.g_=t,t||this.w_||this.ug()},e.$O=function(t){this.gP.b_=t},e.wB=function(){jm(this,fE,this)},e.J_=function(){this.gP.J_()},e.K_=function(){this.gP.K_()},e.ig=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return this.vB.kD(t).catch(this.dB),i=_N(t),e.next=5,Er.awrap(this.gP.ig(i,n));case 5:case"end":return e.stop()}},null,this,null,ze)},e.ug=function(){this.H_||(this.gP.ug(),this.hB.ug(),this.H_=!0)},e._I=function(){return this.eB.KI()===sE.FULLSCREEN},e.ag=function(){this.gP.ag()},e.cg=function(){this.gP.cg()},e.fg=function(){return this.gP.fg()},e.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.gP.tg());case 2:return t.next=4,Er.awrap(this.gP.nl());case 4:case"end":return t.stop()}},null,this,null,ze)},e.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.cB.hv(),this.kd.hv(),this.aB.hv(),this.sB.hv(),this.eB.hv(),this.rB.hv(),this.nB.hv(),this.hB.hv(),t.next=11,Er.awrap(this.gP.hv());case 11:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"mB",get:function(){return this.EI}},{key:"q_",get:function(){return this.uB},set:function(t){this.uB=t,this.gP.q_=t}},{key:"yB",get:function(){return this.hB}},{key:"Q_",get:function(){return this.gP.Q_}},{key:"kB",get:function(){return this.cB}},{key:"pB",get:function(){return this.rB}},{key:"Z_",get:function(){return this.gP.Z_}},{key:"B_",get:function(){return this.fB}},{key:"bB",get:function(){return this.aB}},{key:"j_",get:function(){return this.gP.j_}},{key:"AB",get:function(){return this.SI}},{key:"Y_",get:function(){return this.gP.Y_}},{key:"yg",get:function(){return this.gP.yg}},{key:"gB",get:function(){return this.KO}},{key:"dP",get:function(){return this.vP}},{key:"v_",get:function(){return this.gP.v_},set:function(t){this.gP.v_=t}},{key:"kg",get:function(){return this.gP.kg},set:function(t){this.gP.kg=t}},{key:"wg",get:function(){return this.gP.wg}},{key:"d_",get:function(){return this.gP.d_}},{key:"pg",get:function(){return this.gP.pg}},{key:"l_",get:function(){return this.gP.l_}},{key:"ts",get:function(){return this.gP.ts}},{key:"__",get:function(){return this.gP.__}},{key:"g_",get:function(){return this.gP.g_},set:function(t){var n=Boolean(t);this.LO(n)}},{key:"w_",get:function(){return this.gP.w_}},{key:"m_",get:function(){return this.gP.m_},set:function(t){this.gP.m_=t}},{key:"Dg",get:function(){return this.gP.Dg}},{key:"Cg",get:function(){return this.gP.Cg},set:function(t){this.gP.Cg=OS(t)}},{key:"Dl",get:function(){return this.gP.Dl}},{key:"xg",get:function(){return this.gP.xg}},{key:"y_",get:function(){return this.gP.y_}},{key:"gl",get:function(){return this.Hg}},{key:"k_",get:function(){return this.gP.k_}},{key:"p_",get:function(){return this.gP.p_}},{key:"b_",get:function(){return this.gP.b_},set:function(t){var n=Bt(Number(t),0,1)||0;this.$O(n)}},{key:"Og",get:function(){return this.gP.Og}}]),n}(tm);function _N(t){t.sources;var n=t.sources.filter(function(t){return H(t.integration)});return t.sources=n,t}!function(t){t[t.TB=0]="TB",t[t.SB=1]="SB"}(aN||(aN={})),function(t){t[t.EB=0]="EB"}(cN||(cN={}));var gN={};function wN(t,n){(gN[n]||(gN[n]=[])).push(t)}function mN(t,n){var i=t;if(gN[n])for(var e=0,r=gN[n];e<r.length;e++){i=(0,r[e])(i)}return i}var yN=[];function kN(t){yN.push(t)}var pN=t.CustomEvent;var bN=function(){try{var t=new pN("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},AN=function(){function t(t,n){var i=this;this.gR=void 0,this.RB=void 0,this.IB=!1,this.NB=function(t){i.RB.aC(t.error,i.v_)},this.DB=function(){i.RB.uC(i.CB),i.gR.removeEventListener("playing",i.DB),i.IB=!1},this.xB=function(){i.IB||(i.gR.addEventListener("playing",i.DB),i.IB=!0)},this.RB=n,this.gR=t,this.gR.addEventListener("error",this.NB),this.gR.addEventListener("sourcechange",this.xB),this.xB()}return t.prototype.nl=function(){},A(t,[{key:"v_",get:function(){var t=this.gR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"CB",get:function(){return this.gR.src||""}}]),t}();kN(function(t){new AN(t.Ed,t.nB)});var TN="theoplayer-stored-volume",SN="theoplayer-stored-mutedstate";wN(function(t){return function(t){function n(n,i){var e;if(e=t.call(this,n,i)||this,i.persistVolume){var r=nN.RP(TN);(void 0===r||m(r))&&(r=1);var s=nN.IP(SN)||!1;e.b_=r,e.g_=s}return e}S(n,t);var i=n.prototype;return i.LO=function(n){this.rh.persistVolume&&nN.ia(SN,""+Boolean(n)),t.prototype.LO.call(this,n)},i.$O=function(n){this.rh.persistVolume&&nN.ia(TN,""+Number(n)),t.prototype.$O.call(this,n)},n}(t)},aN.SB);var EN=new(function(){function t(){this.OB=[],this.Sd=void 0}var n=t.prototype;return n.Jd=function(t){return this.OB[t]},n.PB=function(t){this.OB.push(t),this.Ed.push(t.Ed)},n.jo=function(t){var n=this.OB.indexOf(t);n<0||(xs(this.OB,n),this.Sd&&xs(this.Sd,n))},n.BB=function(t){for(var n=0,i=this.OB;n<i.length;n++){var e=i[n];if(e.gl===t)return e}},A(t,[{key:"sl",get:function(){return this.OB.length}},{key:"Ed",get:function(){return this.Sd||(this.Sd=function(t){for(var n=[],i=0;i<t.sl;i++)n[i]=t.Jd(i).Ed;return n.getPlayerByUID=function(n){var i=t.BB(n);return i&&i.Ed},n}(this)),this.Sd}}]),t}()),RN=function(){function t(t){var n=this;this.LB=[],this.MB=void 0,this.Fc=new Fs,this.UB=void 0,this.FB=function(){return 0===n.LB.length?n.UB?IN(n.UB,n.Fc.Pr).then(n.HB,n.HB):n.HB():n.LB.shift()().then(n.FB)},this.HB=function(){if(0!==n.LB.length)return n.FB();n.MB=void 0},this.UB=t}var n=t.prototype;return n.zB=function(t,n){var i=this;return new ze(function(e){var r=new Fs;r.xr(i.Fc.Pr),n&&r.xr(n);var s=function(){r.Sr()};i.LB.push(function(){var n=IN(t,r.Pr);return e(n),n.then(s,s)}),i.MB||(i.MB=i.FB())})},n.Cr=function(){return this.VB(!0)},n.hv=function(){return this.UB=void 0,this.VB(!1)},n.VB=function(t){var n=this.MB;return this.Fc.Cr(),t&&(this.Fc=new Fs),ze.resolve(n)},t}();function IN(t,n){return new ze(function(i){return i(t(n))})}var NN,DN=function(t){function n(n){var i;return(i=t.call(this,Xc.Ba)||this).source=n,i}return S(n,t),n}(ru),CN=function(t){function n(){var n;return(n=t.call(this)||this).mI=void 0,n.kI=void 0,n.bI=void 0,n.pI=void 0,n.mI=0,n.kI=!0,n.bI=!1,n.pI=1,n}S(n,t);var i=n.prototype;return i.J_=function(){this.kI&&(this.kI=!1,this.Fr(new Nm(this.v_)),this.Fr(new Gb(this.v_)))},i.K_=function(){this.kI||(this.kI=!0,this.Fr(new Lm(this.v_,this.kg)),this.Fr(new Im(this.v_)))},i.nl=function(){this.mI=0,this.bI=!1,this.pI=1,this.K_(),this.Fr(new Rm(this.mI))},i.hv=function(){this.Wr()},i.cg=function(){},i.ag=function(){},A(n,[{key:"kg",get:function(){},set:function(t){}},{key:"v_",get:function(){return this.mI},set:function(t){this.bI&&this.mI===t||(this.mI=t,this.bI=!0,this.Fr(new Fm(this.v_)))}},{key:"w_",get:function(){return this.kI}},{key:"m_",get:function(){return this.pI},set:function(t){this.pI!==t&&(this.pI=t,this.Fr(new Bm(this.v_,this.m_)))}},{key:"Dl",get:function(){return am.n_}},{key:"y_",get:function(){return this.bI}}]),n}(Kw),xN=function(t){function n(){return t.call(this,Xc.fa)||this}return S(n,t),n}(ru),ON={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},PN={visibility:"hidden"},BN={visibility:"visible"},LN=function(){function t(t){var n,i=this;this.fR=void 0,this.gR=void 0,this.WB=!1,this.XB=void 0,this.qB=void 0,this.GB=function(t){var n;i.WB=!1,i.XB=null==(n=t.source)?void 0:n.poster,i.Zo()},this.FA=function(){i.WB=!0,i.cg()},this.gR=t,this.kR(),this.fR=((n=ce&&ce.document&&ce.document.createElement("div")).className="theoplayer-poster",Ke(ON,n),n),t.pg.appendChild(this.fR)}var n=t.prototype;return n.Zo=function(){var t=this.gR.w_,n=this.WB;this.Mf?this.fR.style.backgroundImage='url("'+this.Mf.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.fR.style.backgroundImage="",t&&this.Mf&&!n?this.ag():this.cg()},n.ag=function(){Ke(PN,this.gR.pg),Ke(BN,this.fR)},n.cg=function(){Ke(PN,this.fR),Ke(BN,this.gR.pg)},n.kR=function(){this.gR.Hr("sourcechange",this.GB),this.gR.Hr("play",this.FA)},n.hv=function(){this.gR.Xr("sourcechange",this.GB),this.gR.Xr("play",this.FA),Ze(this.fR)},A(t,[{key:"Mf",get:function(){return void 0!==this.XB?this.XB:void 0!==this.qB?this.qB:void 0}},{key:"QB",set:function(t){this.qB=t,this.Zo()}}]),t}();function MN(t){return function(n){function i(i,e){var r;return(r=n.call(this,i)||this).gR=void 0,r.YB=void 0,r.jB=void 0,r.ZB=void 0,r.JB=void 0,r.$B=void 0,r.KB=void 0,r.tL=void 0,r.yR=void 0,r.mR=void 0,r.Sd=void 0,r.nL=function(t){t.type!==Xc.Sa&&r.tL.push(t)},r.YB=new t(i,e),r.jB=new CN,r.gR=r.YB,r.ZB=new LN(Yt(r)),r.$B=new RN,r.KB=!1,r.tL=[],r.yR=!0,r.mR=void 0,r.kR(),r}S(i,n);var e=i.prototype;return e.zB=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.$B.zB(t,n).catch(Xs));case 1:case"end":return i.stop()}},null,this,null,ze)},e.iL=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),this.YB.Vr(this.nL),i.next=4,Er.awrap(this.YB.ig(t,n));case 4:this.YB.Qr(this.nL);case 5:case"end":return i.stop()}},null,this,null,ze)},e.eL=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.ng())&&!ME(t)&&this.q_&&this.w_){e.next=3;break}return e.abrupt("return");case 3:return n=t.mutedAutoplay||this.rh.mutedAutoplay,e.next=6,Er.awrap(this.yB.rL());case 6:i=e.sent,e.t0=i,e.next="all"===e.t0?10:"muted"===e.t0?12:14;break;case 10:return this.sL(),e.abrupt("break",14);case 12:return(this.g_||n===Dm.ALL)&&(this.g_=!0,this.J_()),e.abrupt("break",14);case 14:case"end":return e.stop()}},null,this,null,ze)},e.ig=function(t){var n=this,i=this.mR;i&&!ME(i)&&this.Fr(new Rm(0,0)),this.nl(),this.mR=t,Zs(this.zB(function(i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Vs(i),e.prev=1,e.next=4,Er.awrap(n.iL(t,i));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),n.mR=void 0,e.t0;case 10:return e.next=12,Er.awrap(n.uL());case 12:case"end":return e.stop()}},null,null,[[1,6]],ze)}))},e.uL=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.oL(this.YB),this.Fr(new DN(this.ng())),t.next=4,Er.awrap(this.eL());case 4:case"end":return t.stop()}},null,this,null,ze)},e.RO=function(t){this.gR.v_=t},e.xO=function(){return this.YB.ts},e.OO=function(){return this.YB.__},e.J_=function(){this.gR.J_()},e.sL=function(){this.g_||this.ug(),this.J_()},e.ug=function(){this.YB.ug()},e.K_=function(){this.gR.K_()},e.tg=function(){this.ig(void 0)},e.ag=function(){this.yR=!0,this.gR.ag()},e.cg=function(){this.yR=!1,this.gR.cg()},e.wB=function(){this.YB.wB()},e.$O=function(t){this.YB.$O(t)},e.LO=function(t){this.YB.LO(t)},e.hL=function(t){this.JB=t,t.PB(this)},e._I=function(){return this.YB._I()},e.ng=function(){return this.mR},e.fg=function(){return this.YB.fg()},e.EO=function(){return this.YB.v_},e.IO=function(){return this.YB.d_},e.bO=function(){return this.YB.yg},e.zO=function(){return this.YB.Dg},e.qO=function(){return this.YB.xg},e.nl=function(){var t=this;this.mR=void 0,Ps(this.tL),this.jB.nl(),this.oL(this.jB),this.$B.Cr(),Zs(this.$B.zB(function(n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(n),i.next=3,Er.awrap(t.YB.nl());case 3:case"end":return i.stop()}},null,null,null,ze)}))},e.hv=function(){var t=this;this.Fr(new xN),this.ZB.hv(),this.pR(),this.nl(),Zs(this.zB(function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t.YB.hv());case 2:t.JB&&(t.JB.jo(t),t.JB=void 0),t.$B.hv();case 4:case"end":return n.stop()}},null,null,null,ze)})),this.Wr()},e.oL=function(t){if(this.gR!==t){var n=this.gR.w_,i=this.gR.v_,e=this.gR.m_,r=this.gR.y_;this.pR(),t===this.YB?((r||t.v_!==i)&&(t.v_=i),t.m_!==e&&(t.m_=e),n?t.K_():t.J_()):this.rh.retainPlaybackRateOnSourceChange?t.m_=e:1!==e&&this.Fr(new Bm(this.EO(),1)),this.gR=t,this.kR();for(var s=0,u=this.tL;s<u.length;s++){var o=u[s];this.Fr(o)}Ps(this.tL),this.yR?t.ag():t.cg()}},e.kR=function(){this.gR.Vr(this.Ur)},e.pR=function(){this.gR.Qr(this.Ur)},e.Rd=function(){return t=this,e=function(n){i=n;var e=YE(n,t.rh);t.ig(e)},r={get abr(){return t.mB.Ed},get audioTracks(){return t.Q_.Ed},get autoplay(){return t.q_},set autoplay(n){t.q_=Boolean(n)},get buffered(){return t.bO()},get canvas(){return t.iB.Ed},get clip(){return t.gB.Ed},get currentProgramDateTime(){var n;return null!=(n=t.kg)?n:null},set currentProgramDateTime(n){t.kg=null!=n?n:void 0},get currentTime(){return t.EO()},set currentTime(n){t.RO(Number(n))},get duration(){return t.IO()},get element(){return t.pg},get ended(){return t.l_},get error(){return t.xO()},get errorObject(){return t.OO()},get loop(){return t.dP.dP},set loop(n){t.dP.dP=Boolean(n)},get metrics(){return t.B_.Ed},get muted(){return t.g_},set muted(n){t.LO(n)},get network(){return t.bB.Ed},get paused(){return t.w_},get playbackRate(){return t.m_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.m_=i},get played(){return t.zO()},get poster(){return t.aL},set poster(n){t.aL=Pw(n)},get preload(){return t.Cg},set preload(n){t.Cg=n},get presentation(){return t.eB.Ed},get readyState(){return t.Dl},get seekable(){return t.qO()},get seeking(){return t.y_},get source(){return i},set source(t){e(t)},get src(){return UE(t.ng())},set src(t){e({sources:t})},get textTracks(){return t.j_.Ed},get textTrackStyle(){return t.AB.Ed},get uid(){return t.gl},get videoHeight(){return t.k_},get videoTracks(){return t.Y_.Ed},get videoWidth(){return t.p_},get volume(){return t.b_},set volume(n){t.$O(Number(n))},get latency(){return t.Og.Ed},destroy:function(){t.hv(),t=null,i=void 0},play:function(){t.sL()},pause:function(){t.K_()},stop:function(){i=void 0,t.tg()},prepareWithUserAction:function(){t.ug()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)},setSource:function(t){e(t)}},(n=new hE(r,!0)).FI(t),r;var t,n,i,e,r},A(i,[{key:"nB",get:function(){return this.YB.nB}},{key:"iB",get:function(){return this.YB.iB}},{key:"rh",get:function(){return this.YB.rh}},{key:"tB",get:function(){return this.YB.tB}},{key:"kd",get:function(){return this.YB.kd}},{key:"ME",get:function(){return this.YB.sB}},{key:"eB",get:function(){return this.YB.eB}},{key:"rB",get:function(){return this.YB.rB}},{key:"gP",get:function(){return this.YB.gP}},{key:"mB",get:function(){return this.YB.mB}},{key:"q_",get:function(){return this.YB.q_},set:function(t){this.YB.q_=t,this.eL()}},{key:"yB",get:function(){return this.YB.yB}},{key:"Q_",get:function(){return this.YB.Q_}},{key:"kB",get:function(){return this.YB.kB}},{key:"pB",get:function(){return this.YB.rB}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"Z_",get:function(){return this.YB.Z_}},{key:"B_",get:function(){return this.YB.B_}},{key:"bB",get:function(){return this.YB.bB}},{key:"j_",get:function(){return this.YB.j_}},{key:"AB",get:function(){return this.YB.AB}},{key:"Y_",get:function(){return this.YB.Y_}},{key:"gB",get:function(){return this.YB.gB}},{key:"dP",get:function(){return this.YB.dP}},{key:"kg",get:function(){return this.gR.kg},set:function(t){this.gR.kg=t}},{key:"wg",get:function(){return this.YB.wg}},{key:"pg",get:function(){return this.YB.pg}},{key:"l_",get:function(){return this.YB.l_}},{key:"g_",get:function(){return this.YB.g_},set:function(t){this.YB.g_=t}},{key:"w_",get:function(){return this.gR.w_}},{key:"aL",get:function(){return this.ZB.Mf||""},set:function(t){this.ZB.QB=t}},{key:"m_",get:function(){return this.YB.m_},set:function(t){this.gR.m_=t}},{key:"Cg",get:function(){return this.YB.Cg},set:function(t){this.YB.Cg=OS(t)}},{key:"Dl",get:function(){return this.gR.Dl}},{key:"y_",get:function(){return this.gR.y_}},{key:"gl",get:function(){return this.YB.gl}},{key:"k_",get:function(){return this.YB.k_}},{key:"p_",get:function(){return this.YB.p_}},{key:"b_",get:function(){return this.YB.b_},set:function(t){this.YB.b_=t}},{key:"Og",get:function(){return this.YB.Og}}]),i}(tm)}function UN(t,n){var i=Qm(n),e=new(NN||(NN=mN(NN=MN(lN),aN.TB),NN=mN(NN,aN.SB)),NN)(t,i),r=e.Ed;return e.wB(),e.hL(EN),l.defineProperty(r,"constructor",{value:UN}),r=Tw(r),function(t){for(var n=0;n<yN.length;n++)(0,yN[n])(t)}(e),r}js(function(){t.dispatchEvent&&t.dispatchEvent(bN("theoplayerready"))});var FN={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return pu(t)},n.decode=function(t){return yu(t)},t}())},HN=EN.Ed,zN=AA.CT.registerContentProtectionIntegration.bind(AA.CT);Xc.Aa,Xc.ba,Em.f_,Xc.La,Xc.Ta,Xc.wa,Xc.Na,Xc.Ia,Xc.la,Xc.Sa,Xc.Ma,Xc.va,Em.zd,Xc.Ra,Xw.Sl,nu.es,nu.ss,Xc.aa,Xc.ha,Xc.Ua;var VN,WN={cL:!1,fL:50},XN=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.XN="vL"}(VN||(VN={}));var qN,GN,QN,YN=function(t){function i(n,i,e,r){var s;(s=t.call(this)||this).Ch=void 0,s.JS=void 0,s.Vh=void 0,s.dL=!1,s.lL=new Ro,s._L=!1,s.$B=new RN,s.gL=void 0,s.hr=void 0,s.ih=void 0,s.wL=function(){s._L=!0},s.mL=function(){s.yL(!0)},s.Ch=n,s.JS=i,s.Vh=i.TE,s.gL=e,s.hr=r,s.Vh.addEventListener("loadedmetadata",s.wL);for(var u=0;u<XN.length;u++){var o=XN[u];s.Vh.addEventListener(o,s.mL)}return s}S(i,t);var e=i.prototype;return e.kL=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,Er.awrap(i.vh());case 5:return e=r.sent,r.next=8,Er.awrap(this.pL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,ze)},e.bL=function(t){var n=this.ih;return n?0!==t.IE.length&&t.IE.some(function(t){return t.eh.ir===n.eh}):0===t.IE.length||!this._L},e.AL=function(t){return this.gL.AL(t),this.Ch=t,ze.resolve()},e.Sr=function(){var t,n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:for(this.Wr(),this.Vh.removeEventListener("loadedmetadata",this.wL),t=0;t<XN.length;t++)n=XN[t],this.Vh.removeEventListener(n,this.mL);return i.next=5,Er.awrap(this.$B.hv());case 5:return i.next=7,Er.awrap(this.TL());case 7:return i.next=9,Er.awrap(this.gL.nl());case 9:return i.next=11,Er.awrap(this.pL(void 0));case 11:case"end":return i.stop()}},null,this,null,ze)},e.yL=function(t){t!==this.dL&&(this.dL=t,t?this.lL.Is(void 0):this.lL=new Ro)},e.pL=function(t){var n=this;return this.$B.zB(function(){return n.SL(t)})},e.SL=function(t){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||this.Vh.src){e.next=4;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(t||!this.Vh.src){e.next=6;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!t||this.dL){e.next=9;break}return e.next=9,Er.awrap(this.lL.Ss);case 9:if(!(i=this.ih)){e.next=14;break}return e.next=13,Er.awrap(i.hh(this.Vh));case 13:this.ih=void 0;case 14:if(!t){e.next=18;break}return e.next=17,Er.awrap(t.oh(this.Vh));case 17:this.ih=t;case 18:case"end":return e.stop()}},null,this,null,ze)},e.ig=function(t){var n=this;return this.$B.zB(function(){return n.EL(t)})},e.EL=function(t){this.yL(!1);var n=this.JS.m_;this.Vh.src=t,this.JS.m_=n},e.RL=function(t){var n=this;return this.$B.zB(function(){return n.IL(t)})},e.IL=function(t){this.EL(t),this.Vh.load()},e.TL=function(){var t=this;return this.$B.zB(function(){return t.NL()})},e.NL=function(){this.yL(!1),er(this.Vh)},A(i,[{key:"Q_",get:function(){throw new v("Not implemented")}},{key:"rh",get:function(){return this.Ch}},{key:"TE",get:function(){return this.Vh}},{key:"Y_",get:function(){throw new v("Not implemented")}}]),i}(iu),jN=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dO=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:t=this.rh,n.t0=t.DE,n.next=n.t0===sm.Jl?4:n.t0===sm.$l?4:(n.t0,sm.Zl,6);break;case 4:return this.Vh.setAttribute("crossorigin",t.DE),n.abrupt("break",8);case 6:return this.Vh.removeAttribute("crossorigin"),n.abrupt("break",8);case 8:return void 0!==t.Cg?this.Vh.preload=t.Cg:this.Vh.preload=CS.DS,void 0!==t.CE?this.Vh.title=t.CE:nr(this.Vh),n.next=12,Er.awrap(this.ig(t.Ol));case 12:this.gL.Yo(this,t);case 13:case"end":return n.stop()}},null,this,null,ze)},i.bL=function(t){return!1},i.AL=function(t){return ze.resolve(void 0)},i.Sr=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return nr(this.Vh),n.next=3,Er.awrap(t.prototype.Sr.call(this));case 3:case"end":return n.stop()}},null,this,null,ze)},n.DL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.mf))},A(n,[{key:"yg",get:function(){return FS.cI(this.Vh.buffered)}},{key:"d_",get:function(){return this.Vh.duration}},{key:"CL",get:function(){var t=this.d_;if(!isFinite(t))return!1;var n=this.yg;return 0!==n.sl&&t-n.NR(n.sl-1)<1/6}},{key:"Cg",get:function(){return this.Vh.preload},set:function(t){this.Vh.preload=t}},{key:"xg",get:function(){return FS.cI(this.Vh.seekable)}},{key:"xL",get:function(){return this.yg}},{key:"OL",get:function(){if(ir(this.Vh)&&(this.Vh.videoWidth>0||this.Vh.videoHeight>0))return this.yg}}]),n}(YN),ZN=function(t){function n(n){var i;return(i=t.call(this,Xc.Ta)||this).currentTime=n,i}return S(n,t),n}(ru),JN=function(t){function n(){return t.call(this,Xc.wa)||this}return S(n,t),n}(ru);!function(t){t.PL="BL"}(qN||(qN={})),qN.PL,function(t){t[t.LL=0]="LL",t[t.Wa=1]="Wa",t[t.ML=2]="ML"}(GN||(GN={})),function(t){t.UL="FL"}(QN||(QN={}));var $N=function(t){function n(n){var i;return(i=t.call(this,QN.UL)||this).HL=n,i}return S(n,t),n}(ru),KN=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zL=FS.dI(),n}S(n,t);var i=n.prototype;return i.VL=function(t,n){var i=new FS([t,n]);this.zL=this.zL.jR(i),this.Fr(new $N(i))},i.WL=function(t,n){this.zL=this.zL.JR(new FS([t,n]))},i.nl=function(){this.zL=FS.dI()},i.hv=function(){this.Wr()},A(n,[{key:"XL",get:function(){return this.zL}}]),n}(iu);function tD(t,n){return void 0===n&&(n=new Dl({highWaterMark:1/0})),new ll(new iD(t,n),{highWaterMark:0})}var nD,iD=function(){function t(t,n){var i=this,e=n.size,r=void 0===e?function(){return 1}:e,s=n.highWaterMark,u=void 0===s?1:s;this.Ka=void 0,this.qL=void 0,this.GL=void 0,this._c=[],this.gc=0,this.zP=void 0,this.QL=!1,this.YL=void 0,this.jL=function(t){return t.done?(i.ZL(),void i.zP.close()):(i._c.push(t.value),i.gc+=i.qL(t.value),i.QL&&i.ZL(),i.JL()?i.Ka.read().then(i.jL):void 0)},this.Vv=function(t){i.ZL(),i.zP.error(t)},this.Ka=t.getReader(),this.qL=r,this.GL=u}var n=t.prototype;return n.start=function(t){this.zP=t,this.JL()&&this.$L()},n.pull=function(){this._c.length>0?this.ZL():this.QL=!0,this.JL()&&this.$L()},n.cancel=function(t){return Ps(this._c),this.gc=0,this.QL=!1,this.Ka.cancel(t)},n.ZL=function(){if(0!==this._c.length){var t=this._c;this._c=[],this.gc=0,this.QL=!1,this.zP.enqueue(t)}},n.JL=function(){return!!this.QL||this.GL-this.gc>0},n.$L=function(){var t=this;if(!this.YL){var n=this.Ka.read().then(this.jL).catch(this.Vv);this.YL=n;var i=function(){t.YL===n&&(t.YL=void 0)};n.then(i,i)}},t}(),eD=function(){function t(){this.KL=[],this.ls=0}var n=t.prototype;return n.PB=function(t){this.KL.push(t),this.ls+=t.byteLength},n.tM=function(t){if(this.ls<=t)return this.nM();for(var n=this.KL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.slice(0,e);if(e<n.length&&i<t){var s=t-i;0,r.push(wo(n[e],0,s)),i+=s}return{KL:r,ls:i}},n.iM=function(t){var n=this.tM(t);return 1===n.KL.length?n.KL[0]:Eu(n.KL,n.ls)},n.nM=function(){return{KL:this.KL,ls:this.ls}},n.eM=function(t){if(this.ls<=t)return this.rM();for(var n=this.KL,i=0,e=0;e<n.length&&i+n[e].byteLength<=t;)i+=n[e].byteLength,e++;var r=n.splice(0,e);if(n.length>0&&i<t){var s=t-i;0,r.push(wo(n[0],0,s)),n[0]=wo(n[0],s),i+=s}return this.ls-=i,{KL:r,ls:i}},n.sM=function(t){var n=this.eM(t);return 1===n.KL.length?n.KL[0]:Eu(n.KL,n.ls)},n.rM=function(){var t=this.nM();return this.KL=[],this.ls=0,t},n.uM=function(){var t=1===this.KL.length?this.KL[0]:Eu(this.KL,this.ls);return this.KL=[],this.ls=0,t},t}();!function(t){t[t.oM=0]="oM",t[t.hM=1]="hM",t[t.aM=2]="aM"}(nD||(nD={}));var rD=function(t){function n(n){var i;return(i=t.call(this)||this).zP=void 0,i.cM=void 0,i.fM=void 0,i.vM=void 0,i.cM=n,i}S(n,t);var i=n.prototype;return i.start=function(t){this.zP=t},i.transform=function(t){this.dM(t)},i.flush=function(){this.lM()},i._M=function(t){return t===xk.uy||t===xk.By||t===xk.qy},i.gM=function(t){var n=this.wM(t);this.zP.enqueue(n)},i.mM=function(t){this.zP.enqueue(t)},i.wM=function(t){var n=ko(t.ai.ai);switch(t.nr){case"moov":return this.yM(n);case"sidx":return this.kM(n);case"moof":return this.pM(n)}return n},i.yM=function(t){for(var n=Ga(t),i=0;i<n.boxes.length;i++){var e=n.boxes[i];e instanceof va?n.boxes[i]=this.bM(e):e instanceof da?n.boxes[i]=this.AM(e):e instanceof ya&&this.TM(e)}for(var r=0,s=n.boxes;r<s.length;r++){var u=s[r];u instanceof aa&&this.SM(u)}return n.serialize().join()},i.bM=function(t){this.fM=t.timescale;var n=uD(ct.fromNumber(t.duration,!0),this.EM,this.cM);return 0!==n.getHighBits()?this.AM(function(t){return new da({creation:ct.fromNumber(t.creationTime,!0),modification:ct.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ct.fromNumber(t.duration,!0)},t.nextTrackId,{rate:t.rate,volume:t.volume,matrix:t.matrix},t.flags)}(t)):(t.timescale=this.cM,t.duration=n.toInt(),t)},i.AM=function(t){return this.fM=t.timescale,t.timescale=this.cM,t.duration=uD(t.duration,this.EM,this.cM),t},i.TM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof ga?t.boxes[n]=this.RM(i):i instanceof wa?t.boxes[n]=this.IM(i):i instanceof Xh?this.NM(i):i instanceof Bh&&this.DM(i)}},i.RM=function(t){var n=uD(ct.fromNumber(t.duration,!0),this.EM,this.cM);return 0!==n.getHighBits()?this.IM(function(t){return new wa({creation:ct.fromNumber(t.creationTime,!0),modification:ct.fromNumber(t.modificationTime,!0),duration:ct.fromNumber(t.duration,!0)},t.trackId,t.volume,t.width,t.height,{layer:t.layer,alternateGroup:t.alternateGroup,matrix:t.matrix})}(t)):(t.duration=n.toInt(),t)},i.IM=function(t){return t.duration=uD(t.duration,this.EM,this.cM),t},i.NM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Fh?t.boxes[n]=this.CM(i):i instanceof Hh&&(t.boxes[n]=this.xM(i))}},i.CM=function(t){this.vM=t.timescale;var n=uD(ct.fromNumber(t.duration,!0),this.OM,this.cM);return 0!==n.getHighBits()?this.xM(function(t){return new Hh({creation:ct.fromNumber(t.creationTime,!0),modification:ct.fromNumber(t.modificationTime,!0),scale:t.timescale,duration:ct.fromNumber(t.duration,!0)},t.language,t.flags)}(t)):(t.timescale=this.cM,t.duration=n.toInt(),t)},i.xM=function(t){return this.vM=t.timescale,t.timescale=this.cM,t.duration=uD(t.duration,this.OM,this.cM),t},i.DM=function(t){for(var n=0,i=t.boxes;n<i.length;n++){var e=i[n];e instanceof xh?this.PM(e):e instanceof Oh&&this.BM(e)}},i.PM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=sD(e.mediaTime,this.EM,this.cM),e.segmentDuration=sD(e.segmentDuration,this.EM,this.cM)}},i.BM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var e=i[n];e.mediaTime=uD(e.mediaTime,this.EM,this.cM),e.segmentDuration=uD(e.segmentDuration,this.EM,this.cM)}},i.SM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof oa?this.LM(i):i instanceof ra?t.boxes[n]=this.MM(i):i instanceof sa&&(t.boxes[n]=this.UM(i))}},i.LM=function(t){t.defaultSampleDuration=sD(t.defaultSampleDuration,this.OM,this.cM)},i.MM=function(t){var n=uD(ct.fromNumber(t.fragmentDuration,!0),this.EM,this.cM);return 0!==n.getHighBits()?this.UM(function(t){return new sa(ct.fromNumber(t.fragmentDuration,!0),t.flags)}(t)):(t.fragmentDuration=n.toInt(),t)},i.UM=function(t){return t.fragmentDuration=uD(t.fragmentDuration,this.EM,this.cM),t},i.kM=function(t){var n=Qa(t);return(n=n instanceof Ma?this.FM(n):this.HM(n)).serialize().join()},i.FM=function(t){var n=t.timescale,i=uD(ct.fromNumber(t.earliestPresentationTime,!0),n,this.cM);if(0!==i.getHighBits())return this.HM(function(t){return new Ua(t.referenceId,t.timescale,ct.fromNumber(t.earliestPresentationTime,!0),ct.fromNumber(t.firstOffset,!0),t.references,t.flags)}(t));t.timescale=this.cM,t.earliestPresentationTime=i.toInt();for(var e=0,r=t.references;e<r.length;e++){var s=r[e];s.subsegmentDuration=sD(s.subsegmentDuration,n,this.cM)}return t},i.HM=function(t){var n=t.timescale;t.timescale=this.cM,t.earliestPresentationTime=uD(t.earliestPresentationTime,n,this.cM);for(var i=0,e=t.references;i<e.length;i++){var r=e[i];r.subsegmentDuration=sD(r.subsegmentDuration,n,this.cM)}return t},i.pM=function(t){for(var n=Ya(t),i=n.getSize(),e=0,r=n.boxes;e<r.length;e++){var s=r[e];s instanceof Da&&this.zM(s)}var u=n.getSize();if(u!==i)for(var o=u-i,h=0,a=n.boxes;h<a.length;h++){var c=a[h];c instanceof Da&&this.VM(c,o)}return n.serialize().join()},i.zM=function(t){for(var n=0;n<t.boxes.length;n++){var i=t.boxes[n];i instanceof Ea?this.WM(i):i instanceof Aa?t.boxes[n]=this.XM(i):i instanceof Ta?t.boxes[n]=this.qM(i):i instanceof Ia&&this.GM(i)}},i.WM=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=sD(t.defaultSampleDuration,this.OM,this.cM))},i.XM=function(t){var n=uD(ct.fromNumber(t.baseMediaDecodeTime,!0),this.OM,this.cM);return 0!==n.getHighBits()?this.qM(function(t){return new Ta(ct.fromNumber(t.baseMediaDecodeTime,!0),t.flags)}(t)):(t.baseMediaDecodeTime=n.toInt(),t)},i.qM=function(t){return t.baseMediaDecodeTime=uD(t.baseMediaDecodeTime,this.OM,this.cM),t},i.GM=function(t){for(var n,i,e,r=0,s=0,u=0,o=t.samples;u<o.length;u++){var h=o[u];if(void 0!==h.duration){var a=sD(s+=h.duration,this.OM,this.cM);h.duration=a-r,r=a}void 0!==h.compositionTimeOffset&&(h.compositionTimeOffset=(n=h.compositionTimeOffset,i=this.OM,e=this.cM,ct.fromInt(n,!1).multiply(e).divide(i).toNumber()))}},i.VM=function(t,n){var i=Ns(t.boxes,oD);if(i&&i.flags.baseDataOffsetPresent)i.baseDataOffset=i.baseDataOffset.add(n);else for(var e=0,r=t.boxes;e<r.length;e++){var s=r[e];s instanceof Ia&&s.flags.dataOffsetPresent&&(s.dataOffset=s.dataOffset+n)}},A(n,[{key:"EM",get:function(){if(void 0===this.fM)throw new v("Expected to have found a movie header timescale.");return this.fM}},{key:"OM",get:function(){if(void 0===this.vM)throw new v("Expected to have found a media header timescale.");return this.vM}}]),n}(function(){var t=n.prototype;function n(){this._c=new eD,this.Ii=nD.oM,this.QM=0,this.YM=0,this.jM()}return t.ZM=function(t,n){},t.JM=function(){},t.dM=function(t){this._c.PB(t),this.$M(!1)},t.lM=function(){this.$M(!0)},t.KM=function(){return this.Ii!==nD.oM||0!==this._c.ls},t.$M=function(t){for(;0!==this._c.ls;){if(!t&&this.QM>this._c.ls)return;switch(this.Ii){case nD.oM:this.tU(t);break;case nD.hM:this.nU(t);break;case nD.aM:this.iU(t)}}},t.jM=function(){this.Ii=nD.oM,this.QM=8},t.tU=function(t){var n=yo(this._c.iM(this.QM)),i=new So,e=bp.bk(n,i);if(!e.wk)return this.QM=e.Tk,void(t&&this.QM>this._c.ls&&this.eU(this._c.ls));var r=e.Ak.nr,s=e.Ak.ls;0===s&&(s=1/0),this.ZM(r,s),this._M(r)?this.rU(s):this.eU(s)},t.rU=function(t){this.Ii=nD.hM,this.QM=t},t.nU=function(t){var n=yo(this._c.sM(this.QM)),i=new So,e=bp.mk(n,i,!t);if(!e.wk)throw new pp(i.ps);this.JM(),this.gM(e.yk),this.jM()},t.eU=function(t){this.Ii=nD.aM,this.QM=0,this.YM=t},t.iU=function(t){var n=this._c.eM(this.YM);this.YM-=n.ls;for(var i=0,e=n.KL;i<e.length;i++){var r=e[i];this.mM(r)}(0===this.YM||t&&this.YM===1/0)&&(this.JM(),this.jM())},n}());function sD(t,n,i){return ct.fromInt(t,!0).multiply(i).divide(n).toNumber()}function uD(t,n,i){return ak.Gw(t)._m(ak.Qw(i,!0)).ym(ak.Qw(n,!0)).rm()}function oD(t){return t instanceof Ea}var hD=1e5,aD=function(){function t(t){this.sU=void 0,this.sU=new rD(t)}return t.prototype.uU=function(t){return t.pipeThrough(new Ll(this.sU))},t}(),cD=20,fD=L.dn,vD=function(t){function n(n,e,r){var s;return(s=t.call(this)||this).oU=void 0,s.hU=void 0,s.aU=void 0,s.aO=cD,s.cO=NI,s.cU=!1,s.fU=!1,s.vU=void 0,s.dU=new Fs,s.lU=void 0,s._U=!1,s.gU=void 0,s.wU=function(){s.cU=!1},s.oU=e,s.hU=n,s.aU=r,s.aU.addEventListener("updateend",s.wU),i.Pe.oe&&(s.lU=new aD(hD)),s}S(n,t);var e=n.prototype;return e.mU=function(t,n,i){var e=this;switch(t.nr){case GN.LL:case GN.Wa:return this.yU(function(i){return e.kU(t,n,i)},i);case GN.ML:throw new v("Opaque segments are not supported on web.")}},e.pU=function(t,n){var i=this;switch(t.nr){case GN.LL:return this.yU(function(n){return i.bU(t,n)},n);case GN.Wa:throw new v("Streaming initialization segments are not supported on web.");case GN.ML:throw new v("Opaque initialization segments are not supported on web.")}},e.bU=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.AU(t,void 0,n));case 2:fD&&(this._U=!1,this.gU=t);case 3:case"end":return i.stop()}},null,this,null,ze)},e.kU=function(t,n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(fD&&this._U&&this.gU)){e.next=3;break}return e.next=3,Er.awrap(this.bU(this.gU,i));case 3:return e.prev=3,Vs(i),e.next=7,Er.awrap(this.AU(t,n,i));case 7:this.Fr(new ru(qN.PL));case 8:return e.prev=8,t.nr===GN.Wa&&t.ai.cancel(new Hs).catch(Z),e.finish(8);case 11:case"end":return e.stop()}},null,this,[[3,,8,11]],ze)},e.AU=function(t,n,e){var r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:Vs(e),n&&this.TU(n),u.t0=t.nr,u.next=u.t0===GN.LL?5:u.t0===GN.Wa?13:21;break;case 5:if(!i.Pe.oe){u.next=10;break}return r=this.lU.uU(Zl(t.ai)),u.next=9,Er.awrap(this.SU(r,e));case 9:return u.abrupt("return",u.sent);case 10:return u.next=12,Er.awrap(this.EU(t.ai));case 12:return u.abrupt("return",u.sent);case 13:if(!i.Pe.oe){u.next=18;break}return s=this.lU.uU(t.ai),u.next=17,Er.awrap(this.SU(s,e));case 17:return u.abrupt("return",u.sent);case 18:return u.next=20,Er.awrap(this.SU(t.ai,e));case 20:return u.abrupt("return",u.sent);case 21:case"end":return u.stop()}},null,this,null,ze)},e.SU=function(t,n){var i,e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=this.hU.yg,e=tD(t),r=e.getReader(),s=!1,c.prev=4;case 5:return c.next=8,Er.awrap(qs(r.read(),n));case 8:if(!(u=c.sent).done){c.next=12;break}return s=!1,c.abrupt("break",19);case 12:return Vs(n),o=Su(u.value),s=!0,c.next=17,Er.awrap(this.EU(o));case 17:c.next=5;break;case 19:c.next=36;break;case 21:if(c.prev=21,c.t0=c.catch(4),r.cancel(c.t0).catch(Z),!s){c.next=35;break}return c.next=27,Er.awrap(this.RU());case 27:h=this.hU.yg.WR(i.XR()),a=0;case 29:if(!(a<h.sl)){c.next=35;break}return c.next=32,Er.awrap(this.IU(h.RR(a),h.NR(a)));case 32:a++,c.next=29;break;case 35:throw c.t0;case 36:case"end":return c.stop()}},null,this,[[4,21]],ze)},e.NU=function(t,n){var i=this;return this.yU(function(){return i.DU(t,n)})},e.DU=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.aU.appendWindowStart===t&&this.aU.appendWindowEnd===n){i.next=6;break}return i.next=3,Er.awrap(this.RU());case 3:this.aU.appendWindowStart=0,this.aU.appendWindowEnd=n,this.aU.appendWindowStart=t;case 6:case"end":return i.stop()}},null,this,null,ze)},e.TU=function(t){this.aU.timestampOffset!==t.Km&&(this.aU.timestampOffset=t.Km)},e.EU=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.aU.appendBuffer(t),this.fU=!0,n.next=4,Er.awrap(this.CU());case 4:case"end":return n.stop()}},null,this,null,ze)},e.xU=function(t,n,i){var e=this;return this.yU(function(i){return e.IU(t,n,i)},i)},e.IU=function(t,n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return Vs(i),this.aU.remove(t,n),e.next=4,Er.awrap(this.CU());case 4:case"end":return e.stop()}},null,this,null,ze)},e.CU=function(){var t=this,n=this.hU.yg;return new ze(function(i,e){var r,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?(n.eI(t.hU.yg)||t.Fr(new ru(qN.PL)),i()):e(new v(r))},c=function(){t.aU.removeEventListener("update",u),t.aU.removeEventListener("error",o),t.aU.removeEventListener("abort",h),t.aU.removeEventListener("updateend",a)};t.aU.addEventListener("update",u),t.aU.addEventListener("error",o),t.aU.addEventListener("abort",h),t.aU.addEventListener("updateend",a)})},e.OU=function(){var t=this;return this.yU(function(){return t.RU()})},e.RU=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oU.Dl===ND.gv){t.next=2;break}return t.abrupt("return");case 2:fD&&(this._U=!0),this.aU.updating&&(this.cU=!0);try{this.aU.abort()}catch(t){0,this.cU=!1}if(!this.sx){t.next=8;break}return t.next=8,Er.awrap(this.CU().catch(Z));case 8:case"end":return t.stop()}},null,this,null,ze)},e.PU=function(){return"function"==typeof this.aU.changeType},e.BU=function(t){this.LU(),this.oU.Dl!==ND.MU&&this.aU.changeType(t)},e.UU=function(){this.oU.Dl!==ND.la||this.vU||this.sx||(this.aU.timestampOffset=this.aU.timestampOffset,this.oU.FU())},e.yU=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.LU(),(i=new Fs).xr(this.dU.Pr),n&&i.xr(n),e.prev=4,this.vU=t(i.Pr),e.next=8,Er.awrap(this.vU);case 8:if(this.oU.FU(),!this.sx){e.next=12;break}return e.next=12,Er.awrap(this.CU());case 12:return e.prev=12,this.vU=void 0,i.Sr(),e.finish(12);case 16:case"end":return e.stop()}},null,this,[[4,,12,16]],ze)},e.LU=function(){if(this.vU)throw new v("Internal error")},e.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Wr(),this.dU.Cr(),!this.vU){t.next=6;break}return t.next=5,Er.awrap(this.vU.catch(Z));case 5:this.vU=void 0;case 6:this.aU.removeEventListener("updateend",this.wU);case 7:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"iO",get:function(){return this.aO},set:function(t){this.aO=t}},{key:"uO",get:function(){return this.cO},set:function(t){this.cO=t}},{key:"sx",get:function(){return this.cU||this.aU.updating}}]),n}(iu),dD=function(){function t(t,n){this.HU=void 0,this.aU=void 0,this.zU=void 0,this.HU=n,this.aU=t}var n=t.prototype;return n.CL=function(){return!!this.zU&&this.yg.MR().WE(this.zU)},n.VU=function(){var t=this.yg;this.zU=t.sl>0?t.NR(t.sl-1):0,this.HU.WU()},n.UU=function(){this.zU=void 0},A(t,[{key:"yg",get:function(){if(this.HU.Dl===ND.MU)return FS.dI();var t=FS.cI(this.aU.buffered).WR(new FS([0,1/0])),n=this.zU;return void 0!==n&&t.sl>0&&t.NR(t.sl-1)===n&&(t=t.jR(FS.vI(n))),t}}]),t}();function lD(t){var n=t._h("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function _D(t,n){var i=gD(t)||wD(t),e=gD(n)||wD(n);return!i&&!e||t===n}function gD(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function wD(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function mD(t,n){if(t===n)return!0;var i=t.split("."),e=n.split("."),r=i[0];if(r!==e[0])return!1;if("mp4a"===r){var s=i[1],u=i[2],o=e[1],h=e[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}function yD(t,n,i,e,r,s){var u=new dD(r,t),o=new vD(u,t,r);return new kD(t,n,i,e,u,o,s)}var kD=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).oU=void 0,h.Ch=void 0,h.XU=void 0,h.JS=void 0,h.Ih=void 0,h.qU=void 0,h.hU=void 0,h.GU=void 0,h.QU=Nr(),h.oU=n,h.Ch=e,h.Ih=e.mf,h.XU=r,h.JS=i,h.hU=s,h.GU=u,h.qU=o,h.GU.Hr(qN.PL,h.Ur),h}S(n,t);var i=n.prototype;return i.CL=function(){return this.hU.CL()},i.VU=function(){this.hU.VU()},i.UU=function(){this.hU.UU(),this.GU.UU()},i.YU=function(t,n){this.qU.VL(t,n)},i.jU=function(t,n){this.qU.WL(t,n)},i.ZU=function(){return this.GU.OU()},i.mU=function(t,n,i){return this.GU.mU(t,n,i)},i.pU=function(t,n,i){return this.GU.pU(t,i)},i.NU=function(t,n){return this.GU.NU(t,n)},i.jo=function(t,n,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.jU(t,n),e=this.yg,s.next=4,Er.awrap(this.GU.xU(t,n,i));case 4:r=0!==e.sl&&0===this.yg.sl,(L.wn||L.sn)&&r&&this.JS.ys(this.JS.v_);case 6:case"end":return s.stop()}},null,this,null,ze)},i.bL=function(t){var n=t.mf;if(this.Ih===n)return!0;var i=this.QU.get(n);if(void 0!==i)return i;var e=this.JU(t);return this.QU.set(n,e),e},i.JU=function(t){var n=t.mf;if(!MediaSource.isTypeSupported(n))return!1;var i=ec(this.Ih),e=ec(n),r=lD(i),s=lD(e);if(this.GU.PU()){if(!function(t,n){return Ms(t,n,_D)}(r,s))return!1}else{if(i.nr!==e.nr)return!1;if(!function(t,n){return Ms(t,n,mD)}(r,s))return!1}return!0},i.AL=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:n=t.mf,this.Ih!==n&&(this.QU.clear(),this.GU.PU()&&this.GU.BU(n),this.Ih=n),this.Ch=t,this.oU.$U();case 4:case"end":return i.stop()}},null,this,null,ze)},i.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.QU.clear(),this.Wr(),this.qU.hv(),t.prev=3,this.GU.Xr(qN.PL,this.Ur),t.next=7,Er.awrap(this.GU.Sr());case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:case"end":return t.stop()}},null,this,[[3,9]],ze)},A(n,[{key:"yg",get:function(){return this.hU.yg}},{key:"rh",get:function(){return this.Ch}},{key:"mf",get:function(){return this.Ih}},{key:"KU",get:function(){return this.XU}},{key:"tF",get:function(){return this.qU.XL}},{key:"iO",get:function(){return this.GU.iO},set:function(t){this.GU.iO=t}},{key:"uO",get:function(){return this.GU.uO},set:function(t){this.GU.uO=t}},{key:"sx",get:function(){return this.GU.sx}}]),n}(iu),pD=function(){function t(t,n,i,e){void 0===i&&(i=!1),void 0===e&&(e=!1),this.nF=void 0,this.RR=t,this.NR=n,this.iF=i,this.eF=e,this.nF=ER()}return t.prototype.rF=function(){var t=this.RR,n=this.NR;if(this.iF||this.eF){var i=.001*(ER()-this.nF);this.iF&&(t+=i),this.eF&&(n+=i)}return t>=n?FS.dI():new FS([t,n])},t}(),bD=100,AD=1e3,TD=1e4,SD=.01,ED=[Xc.Aa,Xc.ba,Xc.Na,Xc.Ia,Xc.la,Xc.Sa,Em.zd,Xw.Sl],RD=function(){function t(t,n){var e=this;this.IA=am.n_,this.sF=!1,this.uF=[],this.oF=void 0,this.hF=0,this.aF=0,this.cF=0,this.fF=0,this.vF=0,this.dF=AD,this.lF=function(t){var n=e.JS.v_;t.HL.WE(n)&&e._F(n)},this.gF=$(function(){e.wF(Em.zd)},bD),this.mF=$(function(){e.wF(Xc.Ta)},bD),this.yF=function(){e.kF()?e.pF():e.bF()},this.AF=function(){var t=e.hF,n=e.cF,r=e.JS.v_,s=i.ce(),u=t!==r;if(u||!e.kF())return e.hF=r,e.cF=s,void(u&&(e.vF=0,e.dF=AD));if(n>0&&s>n+e.dF){var o=r+e.vF*SD,h=e.hU.yg;h.WE(o)||(o=e.TF(r,h)),e.hF=o,e.cF=s,e.vF++,e.dF=_.min(2*e.dF,TD),e.JS.ys(o)}},this.hU=t,this.JS=n,this.JS.Hr(Em.zd,this.gF),this.JS.Hr(Xc.Ta,this.mF),this.JS.Hr(ED,this.yF)}var n=t.prototype;return n.SF=function(t){this.uF.push(t),t.Hr(QN.UL,this.lF)},n.hv=function(){var t=this;this.bF(),this.IA=am.n_,this.JS.Xr(Em.zd,this.gF),this.JS.Xr(Xc.Ta,this.mF),this.JS.Xr(ED,this.yF),this.uF.forEach(function(n){return n.Xr(QN.UL,t.lF)}),void 0!==this.oF&&(i.In(this.oF),this.oF=void 0),this.sF=!0},n.wF=function(t){if(!this.sF){var n=this.JS.Dl;if(n<=am.e_){var i=this.JS.v_,e=this.hU.yg,r=e.$R(i),s=e.NR(r);-1!==r&&(t===Em.zd&&n<this.IA||t===Xc.Ta&&n===this.IA)&&s<i+.5&&(i=s),this._F(i)}t===Em.zd&&(this.IA=n)}},n._F=function(t){var n=this;if(this.JS.l_)return!1;var e=this.XL.MR().JR(this.hU.yg),r=e.$R(t);if(-1!==r&&!(_.abs(e.RR(r)-e.NR(r))<=.001)){if(i.dd){if(void 0!==this.oF)return!1;this.aF=this.JS.v_,this.oF=i.Nn(function(){n.aF===n.JS.v_&&n.JS.ys(e.NR(r)),n.oF=void 0},1500)}else this.JS.ys(e.NR(r));return!0}return!1},n.pF=function(){0===this.fF&&(this.fF=i.pe(this.AF,250))},n.bF=function(){0!==this.fF&&(i.be(this.fF),this.fF=0),this.JS.y_||(this.cF=0)},n.kF=function(){return!this.JS.w_&&!this.JS.y_&&0!==this.JS.m_&&!this.JS.l_&&!this.JS.ts&&this.JS.Dl>=am.r_},n.TF=function(t,n){var i=n.$R(t);return i>-1?n.NR(i):t},A(t,[{key:"XL",get:function(){return this.uF.reduce(function(t,n){return t.jR(n.XL)},FS.dI())}}]),t}();function ID(t){var n=[];if(t.EF&&n.push(t.EF.yg),t.RF&&n.push(t.RF.yg),0===n.length)return FS.dI();for(var i=0,e=0;e<n.length;e++){var r=n[e];r.sl>0&&(i=_.max(i,r.NR(r.sl-1)))}for(var s=t.CL,u=new FS([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.sl>0&&(h=h.jR(new FS([h.NR(h.sl-1),i],[!0,!0]))),u=u.WR(h)}return u}var ND,DD=L.un||L.hn;!function(t){t.MU="closed",t.gv="open",t.la="ended"}(ND||(ND={}));var CD=function(){function t(){}return t.prototype.IF=function(){return new MediaSource},t}(),xD=function(t){function n(n,i,e,r,s){var u;return void 0===s&&(s=new CD),(u=t.call(this,n,i,e,r)||this).NF=void 0,u.DF=void 0,u.CF=void 0,u.xF=new pD(0,1/0),u.$S=void 0,u.OF=void 0,u.PF=void 0,u.BF=!1,u.LF=function(){u.MF()},u.UF=function(){u.JS.UF()},u.NF=s,u.$S=u.NF.IF(),u.JS.Hr(Xc.Na,u.LF),u.PF=new RD(Yt(u),u.JS),u}S(n,t);var i=n.prototype;return i.FF=function(t){if(m(t)||t<0)throw new v("Invalid duration");this.HF()?this.zF(t):this.OF=t},i.zF=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.$S.setLiveSeekableRange){var e=_.pow(2,39);this.$S.setLiveSeekableRange(0,e)}this.$S.duration=i,this.OF=void 0},i.VF=function(t,n,i,e){this.xF=new pD(t,n,!!i,!!e)},i.dO=function(){var t,n,i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=this.Ch,n=Ns(t.WF,function(t){return os(t.mf,"audio")}),i=Ns(t.WF,function(t){return os(t.mf,"video")}),o.next=5,Er.awrap(this.XF());case 5:n&&(e=new KN,this.PF.SF(e),r=this.$S.addSourceBuffer(n.mf),this.DF=yD(this,this.JS,n,my.Jf,r,e),this.DF.Hr(qN.PL,this.UF)),i&&(s=new KN,this.PF.SF(s),u=this.$S.addSourceBuffer(i.mf),this.CF=yD(this,this.JS,i,my.$f,u,s),this.CF.Hr(qN.PL,this.UF)),this.gL.Yo(this,t);case 8:case"end":return o.stop()}},null,this,null,ze)},i.XF=function(){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=URL.createObjectURL(this.$S),i.next=3,Er.awrap(t.prototype.RL.call(this,n));case 3:if(this.Dl===ND.gv){i.next=6;break}return i.next=6,Er.awrap(ow(this.$S,"sourceopen"));case 6:case"end":return i.stop()}},null,this,null,ze)},i.HF=function(){if(this.Dl!==ND.gv)return!1;var t=this.DF&&this.DF.sx,n=this.CF&&this.CF.sx;return!(t||n)},i.VU=function(){this.BF=!0,this.DF&&this.DF.VU(),this.CF&&this.CF.VU(),this.BF=!1,this.MF()},i.UU=function(){this.DF&&this.DF.UU(),this.CF&&this.CF.UU()},i.bL=function(n){var i=Ns(n.WF,function(t){return os(t.mf,"audio")}),e=Ns(n.WF,function(t){return os(t.mf,"video")});if(this.DF){if(!i)return!1;if(!this.DF.bL(i))return!1}else if(i)return!1;if(this.CF){if(!e)return!1;if(!this.CF.bL(e))return!1}else if(e)return!1;return!!t.prototype.bL.call(this,n)},i.AL=function(n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=Ns(n.WF,function(t){return os(t.mf,"audio")}),e=Ns(n.WF,function(t){return os(t.mf,"video")}),r=[],this.DF&&r.push(this.DF.AL(i)),this.CF&&r.push(this.CF.AL(e)),s.next=7,Er.awrap(ze.all(r));case 7:return s.next=9,Er.awrap(t.prototype.AL.call(this,n));case 9:case"end":return s.stop()}},null,this,null,ze)},i.Sr=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.DF){n.next=4;break}return n.next=3,Er.awrap(this.DF.Sr());case 3:this.DF=void 0;case 4:if(!this.CF){n.next=8;break}return n.next=7,Er.awrap(this.CF.Sr());case 7:this.CF=void 0;case 8:return this.Vh.src&&URL.revokeObjectURL(this.Vh.src),this.JS.Xr(Xc.Na,this.LF),this.PF.hv(),n.next=13,Er.awrap(t.prototype.Sr.call(this));case 13:case"end":return n.stop()}},null,this,null,ze)},i.$U=function(){var t=this,n=this.Ch,i=n.WF.map(function(n){return os(n.mf,"audio")&&t.DF?t.DF.rh:os(n.mf,"video")&&t.CF?t.CF.rh:n});this.Ch=Rr({},n,{WF:i})},i.WU=function(){this.BF||this.MF()},i.MF=function(){this.qF&&this.HF()&&(this.$S.endOfStream(),this.OF=void 0,this.Fr(new ru(VN.XN)),this.JS.UF())},i.FU=function(){this.HF()&&(this.CL?this.MF():void 0!==this.OF&&this.zF(this.OF))},i._F=function(t){return this.PF._F(t)},n.DL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.WF;n<i.length;n++){var e=i[n];if(!MediaSource.isTypeSupported(e.mf))return!1}return!0},A(n,[{key:"EF",get:function(){return this.DF}},{key:"RF",get:function(){return this.CF}},{key:"d_",get:function(){if(this.OF)return this.OF;var t=this.$S.duration;return 9007199254740991===t?1/0:t}},{key:"yg",get:function(){return DD?ID(this):(t=this,n=FS.cI(this.Vh.buffered),(i=n).sl>0&&t.CL&&(i=i.jR(FS.vI(i.NR(i.sl-1)))),i);var t,n,i}},{key:"xL",get:function(){var t;return null==(t=this.DF)?void 0:t.yg}},{key:"OL",get:function(){var t;return null==(t=this.CF)?void 0:t.yg}},{key:"xg",get:function(){return this.xF.rF().WR(new FS([0,this.d_],[!0,!0]))}},{key:"CL",get:function(){return(!this.DF||this.DF.CL())&&(!this.CF||this.CF.CL())}},{key:"Dl",get:function(){return this.$S.readyState}},{key:"qF",get:function(){if(!this.CL)return!1;var t=this.yg;return 0!==t.sl&&t.RR(t.sl-1)<=this.JS.v_}}]),n}(YN),OD=[Xc.Ma,Xc.Sa,Xc.Na,Xc.Aa,Xc.ba],PD=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this)||this).mI=n,c.Au=i,c.GF=e,c.kI=r,c.bI=s,c.yI=u,c.pI=o,c.Bu=h,c.QF=a,c}S(n,t);var i=n.prototype;return i.K_=function(){this.kI||(this.kI=!0,this.Fr(new Im(this.v_)))},i.J_=function(){this.kI&&(this.kI=!1,this.Fr(new Nm(this.v_)))},i.Sr=function(){this.Wr()},A(n,[{key:"v_",get:function(){return this.mI},set:function(t){this.v_!==t&&(this.mI=t,this.bI=!0,this.Fr(new Fm(this.v_)))}},{key:"d_",get:function(){return this.Au}},{key:"l_",get:function(){return this.GF}},{key:"w_",get:function(){return this.kI}},{key:"Dl",get:function(){return this.QF}},{key:"y_",get:function(){return this.bI}},{key:"g_",get:function(){return this.yI},set:function(t){this.g_!==t&&(this.yI=t,this.Fr(new zm(this.v_,this.b_)))}},{key:"m_",get:function(){return this.pI},set:function(t){this.m_!==t&&(this.pI=t,this.Fr(new Bm(this.v_,this.m_)))}},{key:"b_",get:function(){return this.Bu},set:function(t){this.b_!==t&&(this.Bu=t,this.Fr(new zm(this.v_,this.b_)))}}]),n}(iu);var BD=function(t){function n(n){var i;return(i=t.call(this)||this).JS=void 0,i.IA=am.n_,i.YF=function(){i.jF()},i.JS=n,i}S(n,t);var i=n.prototype;return i.ZF=function(t){this.IA!==t&&(this.IA=t,this.Fr(new Xm(this.JS.v_,t)))},i.jF=function(){this.ZF(this.XO())},i.nl=function(){this.ZF(am.n_)},i.Sr=function(){this.Wr()},A(n,[{key:"Dl",get:function(){return this.XO()}}]),n}(iu),LD=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],MD=function(t){function n(n){var i;i=t.call(this,n)||this;for(var e=0;e<LD.length;e++){var r=LD[e];i.JS.TE.addEventListener(r,i.YF)}return i}S(n,t);var i=n.prototype;return i.XO=function(){var t=this.JS.TE.readyState;return t>am.e_&&this.JS.JF?am.e_:(this.JS.TE.seeking&&t>am.i_&&(t=am.i_),t)},i.Sr=function(){for(var n=0;n<LD.length;n++){var i=LD[n];this.JS.TE.removeEventListener(i,this.YF)}t.prototype.Sr.call(this)},n}(BD),UD=function(t){function n(n){var i;(i=t.call(this,n)||this).JS.Hr(Xc.Na,i.YF);for(var e=0;e<LD.length;e++){var r=LD[e];i.JS.TE.addEventListener(r,i.YF)}return i}S(n,t);var i=n.prototype;return i.XO=function(){if(this.JS.TE.readyState===am.n_)return am.n_;var t=this.KF(),n=t?t.NR-t.RR:0;if(!t)return am.i_;var i=this.JS.m_;return this.tH()||n>=3*i?am.s_:n>=3?am.r_:am.e_},i.KF=function(){var t=this.JS.v_,n=this.JS.yg.YR(.04),i=n.$R(t);if(!(i<0))return{RR:t,NR:n.NR(i)}},i.tH=function(){if(this.JS.l_)return!0;var t=this.JS.d_,n=this.KF();return!!n&&t-n.NR<=1/6},i.Sr=function(){this.JS.Xr(Xc.Na,this.YF);for(var n=0;n<LD.length;n++){var i=LD[n];this.JS.TE.removeEventListener(i,this.YF)}t.prototype.Sr.call(this)},n}(BD),FD=[Em.zd,Xc.Aa,Xc.ba,Xc.Na,Xc.Ia,Xc.la,Xw.Sl],HD=function(t){function n(n){var i;return(i=t.call(this,n)||this).Vh=void 0,i.nH=!1,i.iH=function(){i.nH=!0,i.Zo()},i.Vh=n.TE,i.Vh.addEventListener(Em.f_,i.iH),i}S(n,t);var i=n.prototype;return i.eH=function(){return this.nH&&t.prototype.eH.call(this)},i.Zo=function(){this.nH&&(this.Vh.paused||this.Vh.ended||this.Vh.error)&&(this.nH=!1),t.prototype.Zo.call(this)},i.nl=function(){t.prototype.nl.call(this),this.nH=!1},i.Sr=function(){this.Vh.removeEventListener(Em.f_,this.iH),t.prototype.Sr.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).OA=void 0,i.rH=!1,i.ux=function(){i.Zo()},i.OA=n,i.OA.Hr(FD,i.ux),i}S(n,t);var i=n.prototype;return i.sH=function(){return this.OA.Dl<am.r_},i.eH=function(){return!this.OA.y_&&!(this.OA.w_||this.OA.l_||this.OA.ts||this.sH())},i.Zo=function(){var t=this.rH;this.rH=this.eH(),!t&&this.rH&&this.Fr(new Qb(this.OA.v_))},i.nl=function(){this.rH=!1},i.Sr=function(){this.Wr(),this.OA.Xr(FD,this.ux)},n}(iu)),zD=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).ts=void 0,i.ts=n,i}return S(n,t),n}(ru);function VD(t,n,i,e,r,s,u){void 0===r&&(r=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=e(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(r&&a>s&&0===e(i(t[a-1]),n)))return a;h=a-1}}return~o}function WD(t,n){return t.tw<=n&&t.nw>n}function XD(t,n){return function(t,n){return Rs(t.tw,n.tw,Zy)}(t,n)||function(t,n){return Rs(t.nw,n.nw,Zy)}(t,n)}function qD(t,n){var i=VD(t,n,J,XD,!0);if(i<0)return i;for(;i<t.length&&XD(n,t[i])===ys.gr;i++)if(t[i].mw(n))return i;return-(i+1)}function GD(t){var n=t.Id;if(!n)return-1;if(t instanceof $y)return n.uH(t);var i=n.Cl;if(!i)return-1;var e=qD(i.il,t);return e>=0?e:-1}function QD(t,n){var i=function(t,n,i){for(var e=t.length,r=n.length,s=0,u=0,o=[],h=[];s<e&&u<r;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<e;)h.push(t[s]),s++;for(;u<r;)o.push(n[u]),u++;return{oH:o,hH:h}}(t,n,XD);return function(t,n){for(var i=n.length,e=0;e<i;e++)t[e]=n[e];t.length=i}(t,n),i}var YD=function(){function t(t){this.aH=void 0,this.Sd=void 0,this.aH=t}var n=t.prototype;return n.Rd=function(){return function(t){for(var n=[],i=0;i<t.sl;i++)n[i]=t.cs(i).Ed;return n.item=function(n){var i=0|n,e=t.cs(i);return e&&e.Ed||void 0},l.defineProperty(n,"constructor",{value:Gy}),n}(this)},n.Mg=function(t){for(var n=this.aH,i=n.length-1;i>=0;i-=1){var e=n[i];if(t.mw(e))return!0}return!1},n.cs=function(t){return this.aH[t]},A(t,[{key:"il",get:function(){return this.aH}},{key:"sl",get:function(){return this.aH.length}},{key:"Ed",get:function(){if(this.Sd){var t=this.aH;this.Sd.length=t.length;for(var n=0;n<t.length;n++)this.Sd[n]=t[n].Ed}else this.Sd=this.Rd();return this.Sd}}]),t}(),jD=function(t){function n(n,i){var e;return(e=t.call(this,dw.zd)||this).Id=n,e.Dl=i,e}return S(n,t),n.prototype.Rd=function(){return new ZD(this.Id.Ed,Jw(this.Dl))},n}(lw),ZD=function(t){function n(n,i){var e;return(e=t.call(this,"readystatechange")||this).track=n,e.readyState=i,e}return S(n,t),n}(_w),JD=function(t){function n(n){var i;return(i=t.call(this,dw.Wd)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new $D(this.Id.Ed)},n}(lw),$D=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return S(n,t),n}(_w),KD=function(t){function n(n){var i;return(i=t.call(this,dw.Nd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new tC(this.Kg.Ed)},n}(lw),tC=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return S(n,t),n}(_w),nC=function(t){function n(n){var i;return(i=t.call(this,dw.Cd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new iC(this.Kg.Ed)},n}(lw),iC=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return S(n,t),n}(_w),eC=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).Sd=void 0,a.Bo=void 0,a.Hg=Ty(),a.cH=!1,a.fH=void 0,a.vH=void 0,a.Fg=void 0,a.Tu=void 0,a.zI=Ww.bl,a.QF=Oy.NONE,a.dH=void 0,a.fi=void 0,a.lH=void 0,a.aH=[],a._H=[],a.gH=void 0,a.wH=void 0,a.mH=0,a.yH=0,a.Bo=i||"",a.fH=h||"",a.vH=n,a.Tu=r||"",a.cH=Boolean(s),a.lH=Boolean(o),a.fi=u||Py.DEFAULT,a.Fg=e||"",a.gH=new YD(a.aH),a.wH=new YD(a._H),a}S(n,t);var i=n.prototype;return i.kH=function(t){return Ns(this.gH.il,function(n){return n._l===t})},i.Rd=function(){return Yw(this)},i.iN=function(t){var n=Gw(t);n!==this.Rl&&(this.zI=n,n===Ww.bl&&(this._H.forEach(function(t){t.yw=!1}),Ps(this._H),this.yH=0),this.Fr(new pw(this)))},i.AA=function(t){if(t&&!t.Id){var n=qD(this.Cl.il,t);if(!(n>=0)){t.Id=this;var i=-(n+1);this.aH.splice(i,0,t),this.pH(i),t.ww=i,i<this.yH&&(this.yH=i),this.Fr(new KD(t))}}},i.cA=function(t){if(t&&t.Id===this){var n=this.uH(t);if(!(n<0)){t.yw=!1;var i=this._H,e=qD(i,t);e>=0&&xs(i,e),xs(this.aH,n),this.pH(n),t.ww=-1,this.yH>n&&--this.yH,this.Fr(new nC(t))}}},i.bH=function(t,n){var i=this._H,e=this.aH,r=this.yH,s=!1;n&&(r=0);for(var u=i.length-1;u>=0;u--){WD(i[u],t)||(s=!0,xs(i,u))}for(;r<e.length&&e[r].tw<=t;){var o=e[r];if(0===t)break;WD(o,t)&&!Os(i,o)&&(s=!0,i.push(o)),r++}s&&bs(i,XD),this.yH=r},i.uH=function(t){return(-1===t.ww||t.ww>=this.mH)&&this.AH(),t.ww},i.AH=function(){for(var t=this.aH,n=this.mH;n<t.length;n++)t[n].ww=n;this.mH=t.length},i.pH=function(t){t<this.mH&&(this.mH=t)},i.Il=function(t){this.Nl||(this.Rl=t)},i.hv=function(){this.Wr();for(var t=this.aH.slice(),n=0;n<t.length;n++){t[n].hv()}Ps(this.aH),Ps(this._H)},A(n,[{key:"xl",get:function(){return this.wH}},{key:"Cl",get:function(){return this.gH}},{key:"SA",get:function(){return this.cH},set:function(t){this.cH=t}},{key:"Nl",get:function(){return this.lH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"gl",get:function(){return this.Hg}},{key:"El",get:function(){return this.fH},set:function(t){this.fH=t}},{key:"wl",get:function(){return this.vH}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.Fg&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Tu}},{key:"Rl",get:function(){return this.zI},set:function(t){this.iN(t)}},{key:"Dl",get:function(){return this.QF},set:function(t){this.QF!==t&&(this.QF=t,this.Fr(new jD(this,this.QF)))}},{key:"Ol",get:function(){return this.dH},set:function(t){this.dH=t}},{key:"nr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Fr(new JD(this)))}}]),n}(iu),rC=function(t){function n(n,i){var e;return(e=t.call(this,Uy.jg,n)||this).pm=i,e}return S(n,t),n.prototype.Rd=function(){return new sC(this.Kg.Ed)},n}(Wy),sC=function(t){function n(n){return t.call(this,"enter",n)||this}return S(n,t),n}(Xy),uC=function(t){function n(n,i){var e;return(e=t.call(this,Uy.Jg,n)||this).pm=i,e}return S(n,t),n.prototype.Rd=function(){return new oC(this.Kg.Ed)},n}(Wy),oC=function(t){function n(n){return t.call(this,"exit",n)||this}return S(n,t),n}(Xy),hC=function(t){function n(n){var i;return(i=t.call(this,dw.Od)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new aC(this.Kg.Ed)},n}(lw),aC=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return S(n,t),n}(_w),cC=function(t){function n(n){var i;return(i=t.call(this,dw.Bd)||this).Kg=n,i}return S(n,t),n.prototype.Rd=function(){return new fC(this.Kg.Ed)},n}(lw),fC=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return S(n,t),n}(_w),vC=function(t){function n(n){var i;return(i=t.call(this)||this).TH=void 0,i._w=void 0,i.Hg=void 0,i.dw=void 0,i.Sd=void 0,i.lw=!1,i.SH=function(){i.yw=!0},i.EH=function(){i.yw=!1},i.Hg=Ny(),i.TH=n,i.TH.addEventListener("enter",i.SH),i.TH.addEventListener("exit",i.EH),i}S(n,t);var i=n.prototype;return i.Rd=function(){return qy(this)},i.mw=function(t){return this===t||Nw(this,t)&&Jy(this,t)},i.hv=function(){this.Wr(),this.TH.removeEventListener("enter",this.SH),this.TH.removeEventListener("exit",this.EH)},A(n,[{key:"gl",get:function(){return this.Hg}},{key:"tw",get:function(){return this.TH.startTime},set:function(t){this.TH.startTime=t}},{key:"nw",get:function(){return this.TH.endTime},set:function(t){this.TH.endTime=t}},{key:"iw",get:function(){return this._w},set:function(t){this._w=t}},{key:"kw",get:function(){return!!this.TH.pauseOnExit},set:function(t){this.TH.pauseOnExit=!!t}},{key:"Id",get:function(){return this.dw},set:function(t){this.dw=t}},{key:"_l",get:function(){return this.TH.id||""}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"yw",get:function(){return this.lw},set:function(t){this.yw!==t&&(this.lw=t,t?(this.Fr(new rC(this,this.tw)),this.dw&&this.dw.Fr(new hC(this))):(this.Fr(new uC(this,this.nw)),this.dw&&this.dw.Fr(new cC(this))))}}]),n}(Kw),dC=function(t){function n(n){var i;return(i=t.call(this,dw.Md)||this).Id=n,i}return S(n,t),n.prototype.Rd=function(){return new lC(this.Id.Ed)},n}(lw),lC=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return S(n,t),n}(_w);function _C(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new gC(t),t.THEOplayerVTTRegion=n),n}}var gC=function(){function t(t){this.RH=void 0,this.Sd=void 0,this.RH=t}return A(t,[{key:"IH",get:function(){return this.RH}},{key:"_l",get:function(){return this.RH.id||""}},{key:"Rw",get:function(){return+this.RH.width||0},set:function(t){this.RH.width=t||0}},{key:"pw",get:function(){return+this.RH.lines||0},set:function(t){this.RH.lines=t||0}},{key:"bw",get:function(){return+this.RH.regionAnchorX||0},set:function(t){this.RH.regionAnchorX=t||0}},{key:"Aw",get:function(){return+this.RH.regionAnchorY||0},set:function(t){this.RH.regionAnchorY=t||0}},{key:"Sw",get:function(){return+this.RH.viewportAnchorX||0},set:function(t){this.RH.viewportAnchorX=t||0}},{key:"Ew",get:function(){return+this.RH.viewportAnchorY||0},set:function(t){this.RH.viewportAnchorY=t||0}},{key:"Tw",get:function(){return this.RH.scroll||""}},{key:"Ed",get:function(){return this.Sd||(this.Sd=sk(this)),this.Sd}}]),t}();var wC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"iw",get:function(){return this.TH.text},set:function(t){this.TH.text=t}},{key:"cw",get:function(){return this.TH.vertical||""},set:function(t){this.TH.vertical=t||""}},{key:"aw",get:function(){return this.TH.snapToLines},set:function(t){this.TH.snapToLines=t}},{key:"rw",get:function(){return this.TH.line},set:function(t){this.TH.line=t}},{key:"ls",get:function(){return+this.TH.size},set:function(t){this.TH.size=Bt(t,0,100)}}]),n}(vC),mC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&Ky(this,n)},A(n,[{key:"hw",get:function(){return _C(this.TH.region)}},{key:"sw",get:function(){return this.TH.lineAlign||"start"},set:function(t){this.TH.lineAlign=t||"start"}},{key:"uw",get:function(){return this.TH.position},set:function(t){this.TH.position=t}},{key:"ow",get:function(){return this.TH.positionAlign||"auto"},set:function(t){this.TH.positionAlign=t||"auto"}},{key:"ew",get:function(){return this.TH.align||"center"},set:function(t){this.TH.align=t||"center"}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Qy(this)),this.Sd}}]),n}(wC),yC=function(t){function n(n){return t.call(this,n)||this}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&Ky(this,n)},A(n,[{key:"hw",get:function(){return _C(this.IH)}},{key:"IH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.TH.track,this.TH.regionId)}},{key:"sw",get:function(){return"middle"===(t=this.TH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.TH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"uw",get:function(){return this.TH.position},set:function(t){var n,i;this.TH.position=(n=t,i=this.ew,Vy(n,i))}},{key:"ow",get:function(){return t=this.TH.positionAlign||"middle",Hy[t];var t},set:function(t){var n,i;this.TH.positionAlign=(n=t||"center",i=this.ew,Fy[zy(n,i)])}},{key:"ew",get:function(){return"middle"===(t=this.TH.align||"middle")?"center":t;var t},set:function(t){var n;this.TH.align="center"===(n=t||"center")?"middle":n}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Qy(this)),this.Sd}}]),n}(wC);function kC(t,n){return t.iw===n.iw}function pC(t,n,i){for(var e=t[n].tw,r=n;r>=0&&t[r].tw===e;r--)t[r].nw=i}function bC(t){return qy(t)}var AC,TC,SC=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).NH=void 0,e.NH=i,e}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&kC(this,n)},A(n,[{key:"iw",get:function(){return this.NH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=bC(this)),this.Sd}}]),n}(vC);function EC(t){switch(t){case AC.ISO_8859_1:case AC.UTF16_BOM:case AC.UTF16:case AC.UTF8:return!0}return!1}function RC(t){switch(t){case AC.ISO_8859_1:return io;case AC.UTF16_BOM:return so;case AC.UTF16:return uo;case AC.UTF8:return lo}}function IC(t,n){var i=n.ps,e=t.byteLength,r=ko(t);return n.gs(e-i),Ao(r,i,e).buffer}function NC(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function DC(t,n,i){var e=zu(t,n);if(EC(e)){var r=RC(e);return{id:i,language:to(t,n,3),description:r(t,n),text:r(t,n)}}}function CC(t,n,i){var e=zu(t,n);if(EC(e)){var r=RC(e);return{id:i,mimeType:io(t,n),fileName:r(t,n),description:r(t,n),data:IC(t,n)}}}function xC(t,n,i){var e=zu(t,n);if(EC(e)){for(var r=RC(e),s=[];n.ps<t.byteLength;)s.push({involvement:r(t,n),involvee:r(t,n)});return{id:i,entries:s}}}function OC(t,n,i){var e=zu(t,n);if(EC(e)){for(var r=RC(e),s=to(t,n,3),u=zu(t,n),o=zu(t,n),h=r(t,n),a=!1,c=[];n.ps<t.byteLength;){var f=void 0;if(e===AC.UTF16_BOM){var v=ro(t,n);void 0===v?v=a:a=v,f=uo(t,n,v)}else f=r(t,n);if(!f||n.ps+4>t.byteLength)break;c.push({text:f,timestamp:ju(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function PC(t,n,i){return{id:i,ownerIdentifier:io(t,n),identifier:IC(t,n)}}function BC(t,n,i){var e=zu(t,n);if(EC(e)){var r=RC(e);return{id:i,language:to(t,n,3),description:r(t,n),text:r(t,n)}}}function LC(t,n,i){var e=zu(t,n);if(EC(e))return{id:i,text:RC(e)(t,n)}}function MC(t,n,i){return{id:i,url:io(t,n)}}function UC(t,n,i){var e=zu(t,n);if(EC(e)){var r=RC(e);return{id:i,description:r(t,n),text:r(t,n)}}}function FC(t,n,i){var e=zu(t,n);if(EC(e))return{id:i,description:RC(e)(t,n),url:io(t,n)}}function HC(t,n,i){switch(i){case"COM":return DC(t,n,i);case"GEO":return CC(t,n,i);case"IPL":return xC(t,n,i);case"PIC":return function(t,n,i){var e=zu(t,n);if(EC(e)){var r,s,u=RC(e),o=to(t,n,3),h=zu(t,n),a=u(t,n);return"--\x3e"===o?(r=o,s=io(t,n)):(r="image/"+o.toLowerCase(),s=IC(t,n)),{id:i,mimeType:r,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return OC(t,n,i);case"TXX":return UC(t,n,i);case"UFI":return PC(t,n,i);case"ULT":return BC(t,n,i);case"WXX":return FC(t,n,i);default:if("T"===i.charAt(0))return LC(t,n,i);if("W"===i.charAt(0))return MC(t,n,i)}}function zC(t,n,i){switch(i){case"APIC":return function(t,n,i){var e=zu(t,n);if(EC(e)){var r=RC(e),s=io(t,n);return{id:i,mimeType:s,pictureType:zu(t,n),description:r(t,n),data:"--\x3e"===s?io(t,n):IC(t,n)}}}(t,n,i);case"COMM":return DC(t,n,i);case"COMR":return function(t,n,i){var e=zu(t,n);if(EC(e)){var r,s,u=RC(e),o=io(t,n),h=to(t,n,8),a=io(t,n),c=zu(t,n),f=u(t,n),v=u(t,n);return n.ps<t.byteLength&&(r=io(t,n)||"image/",s=IC(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:r,sellerLogo:s}}}(t,n,i);case"GEOB":return CC(t,n,i);case"IPLS":return xC(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:io(t,n),data:IC(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:zu(t,n),position:ju(t,n)}}(t,n,i);case"SYLT":return OC(t,n,i);case"TXXX":return UC(t,n,i);case"UFID":return PC(t,n,i);case"USER":return function(t,n,i){var e=zu(t,n);if(EC(e)){var r=RC(e);return{id:i,language:to(t,n,3),text:r(t,n)}}}(t,n,i);case"USLT":return BC(t,n,i);case"WXXX":return FC(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return LC(t,n,i);default:var e=i.charAt(0);if("T"===e)return LC(t,n,i);if("W"===e)return MC(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(AC||(AC={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(TC||(TC={}));var VC=10;function WC(t,n){return(127&zu(t,n))<<21|(127&zu(t,n))<<14|(127&zu(t,n))<<7|127&zu(t,n)}function XC(t,n){switch(t){case TC.V24:return{DH:Hu(n,0),CH:Hu(n,1),xH:Hu(n,2),OH:Hu(n,3)};case TC.V23:return{DH:Hu(n,0),CH:Hu(n,1),xH:Hu(n,2)};case TC.V22:return{DH:Hu(n,0),PH:Hu(n,1)}}}function qC(t,n,i){switch(i.Ik){case TC.V23:i.Nk.CH&&function(t,n){var i=n.ps,e=ju(t,n)+4,r=32768&Qu(t,n);n.ys(i+e),r&&ju(t,n)}(t,n);break;case TC.V24:i.Nk.CH&&function(t,n){var i=n.ps,e=WC(t,n);n.ys(i+e)}(t,n)}}function GC(t,n){if(t.byteLength-n.ps<VC)return null;if(73!==zu(t,n)||68!==zu(t,n)||51!==zu(t,n))return null;var i=zu(t,n),e=zu(t,n);if(!function(t){switch(t){case TC.V22:case TC.V23:case TC.V24:return!0}return!1}(i))return null;var r=zu(t,n),s=WC(t,n);return{Ik:i,BH:e,Nk:XC(i,r),LH:s}}function QC(t,n,i){switch(i.Ik){case TC.V22:return function(t,n,i){return{_l:to(t,n,3),ls:Gu(t,n,3)}}(t,n);case TC.V23:return function(t,n,i){var e=to(t,n,4),r=ju(t,n);zu(t,n);var s=zu(t,n);return{_l:e,ls:r,Nk:{PH:Hu(s,0),MH:Hu(s,1),groupingIdentity:Hu(s,2)}}}(t,n);case TC.V24:return function(t,n,i){var e=to(t,n,4),r=WC(t,n);zu(t,n);var s=zu(t,n);return{_l:e,ls:r,Nk:{groupingIdentity:Hu(s,1),PH:Hu(s,4),MH:Hu(s,5),DH:Hu(s,6),UH:Hu(s,7)}}}(t,n)}}function YC(t){for(var n=new y(t.byteLength),i=0,e=0;e<t.byteLength;e++){var r=t.getUint8(e);255===r&&e++,n[i]=r,i++}return new DataView(n,0,i)}function jC(t,n){var i=n||new So,e=GC(t,i);return e?{Ak:e,FH:function(t,n,i){var e=[],r=n.ps,s=mo(t,r,r+i.LH),u=new So;switch(n.gs(i.LH),i.Ik){case TC.V22:case TC.V23:i.Nk.DH&&(s=YC(s))}qC(t,n,i);for(;u.ps<s.byteLength;)e.push(ZC(s,u,i));return e}(t,i,e)}:null}function ZC(t,n,i){var e,r,s=QC(t,n,i),u=n.ps,o=mo(t,u,u+s.ls);switch(n.gs(s.ls),i.Ik){case TC.V22:var h=s;e=HC(r=o,new So,h._l);break;case TC.V23:var a=s,c=new So;!function(t,n,i){var e,r,s,u=i.Nk;u.PH&&(e=ju(t,n)),u.MH&&(r=zu(t,n)),u.groupingIdentity&&(s=zu(t,n))}(o,c,a),e=zC(r=mo(o,c.ps,o.byteLength),new So,a._l);break;case TC.V24:var f=s,v=new So;f.Nk.DH&&(o=YC(o)),function(t,n,i){var e,r,s,u,o=i.Nk;o.groupingIdentity&&(e=zu(t,n)),o.PH&&(r=ju(t,n)),o.MH&&(s=zu(t,n)),o.UH&&(u=WC(t,n))}(o,v,f),e=zC(r=mo(o,v.ps,o.byteLength),new So,f._l)}if(!e){var d=To(ko(r));e=NC(s._l,d.buffer)}return e}function JC(t){return function(t,n,i){return LC(t,n,i)}(new DataView(t.data),new So,t.key)}function $C(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return JC(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return NC(t.key,t.data)}(t)}var KC="org.id3";var tx=function(t){function n(n,i,e){var r;return void 0===e&&(e=!0),(r=t.call(this)||this).Ug=void 0,r.HH=void 0,r.aH=[],r._H=[],r.gH=void 0,r.wH=void 0,r.Hg=void 0,r.Fg=void 0,r.zI=Ww.bl,r.QF=Oy.NONE,r.Sd=void 0,r.dH=void 0,r.fi=Py.DEFAULT,r.zH=void 0,r.VH=function(){r.WH(),r.Ug.removeEventListener("cuechange",r.VH)},r.XH=function(){r.Rl!==Ww.bl&&(r.qH(),r.bH(),r.aH.length&&r.GH(Oy.LOADING))},r.QH=function(){r.GH(Oy.LOADED)},r.YH=function(){r.GH(Oy.ERROR)},r.Ug=n,r.zH=e,r.Ug.addEventListener("cuechange",r.VH),r.Ug.addEventListener("cuechange",r.XH),r.HH=i,r.HH&&(r.dH=S_(r.HH.src),r.HH.addEventListener("load",r.QH),r.HH.addEventListener("error",r.YH)),r.Hg=Ty(),r.Fg=n.label||"",r.gH=new YD(r.aH),r.wH=new YD(r._H),r.Rl=r.jH,js(function(){r.XH(),r.GH(Oy.NONE)}),r}S(n,t);var i=n.prototype;return i.Rd=function(){return Yw(this)},i.WH=function(){var t=this.Rl;this.ZH||t!==Ww.Tl?this.jH=t:this.jH=Ww.Al},i.JH=function(){var t=this.Rl,n=this.jH;t!==n&&(this.ZH||t!==Ww.Tl||n!==Ww.Al)&&("metadata"===this.wl&&n===Ww.bl?this.Rl=t:this.Rl=n)},i.jF=function(t){this.QF!==t&&(this.QF=t,this.Fr(new jD(this,t)))},i.GH=function(t){var n=_.max(this.QF,this.$H,t);this.jF(n)},n.KH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.tz=function(t){var i=n.KH(t);if(i)return i;if(V(i=this.nz(t)))for(var e=0,r=i;e<r.length;e++){r[e].Id=this}else i.Id=this;return t.THEOplayerTextTrackCue=i,i},i.nz=function(t){return(n=t)&&n.type===KC&&n.value?(this.nr=Py.ID3,function(t){var n;try{n=$C(t.value)}catch(t){n=NC("")}return new SC(t,n)}(t)):function(t){return t&&t.data instanceof ArrayBuffer}(t)?(this.nr=Py.ID3,function(t){var n=[];try{var i=jC(new DataView(t.data));if(i)for(var e=0,r=i.FH;e<r.length;e++){var s=r[e];n.push(new SC(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.nr=Py.WEBVTT,function(t){return"regionId"in t}(t)?new yC(t):new mC(t)):new vC(t);var n},i.iz=function(t){var n=[];if(!t)return n;for(var i=t.length,e=0;e<i;e++){var r=this.tz(t[e]||t.item(e));if(V(r))for(var s=0;s<r.length;s++){var u=r[s];n.push(u)}else n.push(r)}return n},i.qH=function(){for(var t=this.iz(this.Ug.cues),n=QD(this.aH,t),i=0,e=n.hH;i<e.length;i++){var r=e[i];r.Xr(Uy.Jg,this.XH),r.Xr(Uy.jg,this.XH),this.Fr(new nC(r))}for(var s=0,u=n.oH;s<u.length;s++){var o=u[s];o.Hr(Uy.jg,this.XH),o.Hr(Uy.Jg,this.XH),this.Fr(new KD(o))}},i.bH=function(){for(var t=this.iz(this.Ug.activeCues),n=QD(this._H,t),i=0,e=n.hH;i<e.length;i++){e[i].yw=!1}for(var r=0,s=n.oH;r<s.length;r++){s[r].yw=!0}(n.oH.length||n.hH.length)&&this.Fr(new dC(this))},i.Il=function(t){this.Rl=t},i.hv=function(){this.Wr();for(var t=this.aH.slice(),n=0;n<t.length;n++){t[n].hv()}Ps(this.aH),Ps(this._H),this.Ug.removeEventListener("cuechange",this.XH),this.HH&&(this.Ug.removeEventListener("load",this.QH),this.Ug.removeEventListener("error",this.YH)),this.HH&&Ze(this.HH)},A(n,[{key:"xl",get:function(){return this.wH}},{key:"SA",get:function(){return this.HH?this.HH.default:void 0}},{key:"Cl",get:function(){return this.gH}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"_l",get:function(){return this.Ug.id||this.HH&&this.HH.id||""}},{key:"gl",get:function(){return this.Hg}},{key:"El",get:function(){return this.Ug.inBandMetadataTrackDispatchType||""}},{key:"wl",get:function(){return this.Ug.kind||jp.Zy}},{key:"ml",get:function(){return this.Fg},set:function(t){t!==this.ml&&(this.Fg=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.Ug.language||""}},{key:"Rl",get:function(){return this.zI},set:function(t){var n=this.Rl;this.zI=Gw(t),this.WH();var i=this.Rl;n!==i&&this.Fr(new pw(this)),i!==Ww.bl&&this.GH(Oy.LOADING)}},{key:"jH",get:function(){return Gw(this.Ug.mode)},set:function(t){this.Ug.mode=t}},{key:"qg",get:function(){return this.Ug}},{key:"Dl",get:function(){return this.QF}},{key:"$H",get:function(){return this.HH?+this.HH.readyState||Oy.NONE:Oy.LOADED}},{key:"Ol",get:function(){return this.dH}},{key:"nr",get:function(){return this.fi},set:function(t){this.fi!==t&&(this.fi=t,this.Fr(new JD(this)))}},{key:"ZH",get:function(){return this.zH},set:function(t){this.zH=t,this.WH()}}]),n}(iu);function nx(t){return t instanceof tx}function ix(t,n){return Es(t.pm,n.pm)||function(t,n){return t.Id===n.Id?Ss(GD(t),GD(n)):ab(t.Id,n.Id)}(t.Kg,n.Kg)||function(t,n){return t===n?ys.gr:t===Uy.jg?ys.mr:ys.wr}(t.type,n.type)}var ex=function(){function t(t,n){var i=this;this.gR=void 0,this.ez=void 0,this.W_=[],this.rz=0,this.sz=0,this.uz=[],this.oz=!1,this.hz=!1,this.az=void 0,this.cz=function(){i.rz=0,i.fz(),i.vz()},this.dz=function(){i.fz(),i.vz()},this.lz=function(){i.hz=!0,i.az=i.gR.v_,i._z()},this.gz=function(){i.fz(),i.vz()},this.wz=function(){i.mz(),i.fz(),i.vz()},this.yz=function(){i.kz()},this.pz=function(t){Cs(i.uz,t.Kg),i.kz()},this.ez=n,this.gR=t,t.Hr(Xc.La,this.dz),t.Hr(Xc.Aa,this.dz),t.Hr(Em.f_,this.dz),t.Hr(Xc.ba,this.dz),t.Hr(Xc.Na,this.lz),t.Hr(Xc.Ia,this.gz),this.kz()}var n=t.prototype;return n.nl=function(){Ps(this.uz);for(var t=0,n=this.W_.slice();t<n.length;t++){var i=n[t];this.Kd(i)}this._z(),this.rz=0,this.sz=0,this.oz=!1,this.hz=!1,this.az=void 0},n.$d=function(t){Os(this.W_,t)||(this.W_.push(t),t.Hr(dw.Nd,this.yz),t.Hr(dw.Cd,this.pz),t.Hr(dw.Fd,this.wz),t.Cl.sl&&this.kz(),this.mz())},n.Kd=function(t){if(Cs(this.W_,t)){if(t.Xr(dw.Nd,this.yz),t.Xr(dw.Cd,this.pz),t.Xr(dw.Fd,this.wz),t.Cl.sl){for(var n=0,i=t.Cl.il;n<i.length;n++){var e=i[n];Cs(this.uz,e)}this.kz()}this.mz()}},n.mz=function(){this.oz=this.W_.some(function(t){return t.Rl!==Ww.bl})},n.vz=function(){this.gR.y_||this.gR.w_?this._z():this.kz()},n.kz=function(){this.oz&&(this.rz||(this.rz=this.ez.Hi(this.cz)))},n._z=function(){this.rz&&(this.ez.bz(this.rz),this.rz=0)},n.fz=function(){var t;if(this.oz&&!this.gR.y_){var n=this.W_,i=this.sz,e=null!=(t=this.az)?t:this.gR.v_,r=e-i<-.1,s=this.hz||r;s&&e>i&&e-i<.1&&(s=!1),this.hz=!1,this.az=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.Rl!==Ww.bl){a.bH(e,s);for(var c=0,f=a.xl.il;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.uz;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.Rl!==Ww.bl&&hb(l,i-1/6,e,u)}}for(var g=u.length-1;g>=0;g--)Os(o,u[g])&&xs(u,g);var w=[];if(!s)for(var m=u.length-1;m>=0;m--){var y=u[m];y.tw>=i&&y.nw<=e&&(w.push(y),xs(u,m))}for(var k=[],p=[],b=0;b<w.length;b++){var A=w[b];A.yw||k.push(new rC(A,A.tw)),k.push(new uC(A,_.max(A.tw,A.nw)))}for(var T=0,S=u;T<S.length;T++){var E=S[T];E.yw&&(k.push(new uC(E,_.max(E.tw,E.nw))),E.yw=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.yw||(k.push(new rC(I,I.tw)),I.yw=!0)}k.sort(ix);for(var N=0;N<k.length;N++){var D=k[N],C=D.Kg;C.Fr(D);var x=C.Id;x&&(D.type===Uy.jg?x.Fr(new hC(C)):x.Fr(new cC(C)),Os(p,x)||p.push(x))}p.sort(ab);for(var O=0;O<p.length;O++){var P=p[O];P.Fr(new dC(P))}this.sz=e,this.uz=o}},n.hv=function(){this.nl(),this.gR.Xr(Xc.La,this.dz),this.gR.Xr(Xc.Aa,this.dz),this.gR.Xr(Em.f_,this.dz),this.gR.Xr(Xc.ba,this.dz),this.gR.Xr(Xc.Na,this.lz),this.gR.Xr(Xc.Ia,this.gz)},t}(),rx=function(){function t(){}var n=t.prototype;return n.Hi=function(t){return YR(t)},n.bz=function(t){jR(t)},t}(),sx=new rx,ux=function(t){function n(n,i){return void 0===i&&(i=sx),t.call(this,n,i)||this}return S(n,t),n}(ex),ox=function(t){function n(n,i,e){var r;return(r=t.call(this,n,1/0,i,!1,e)||this).Az=void 0,r}return S(n,t),n.prototype.mw=function(n){return this===n||Nw(this,n)&&t.prototype.mw.call(this,n)&&kC(this,n)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=bC(this)),this.Sd}}]),n}($y),hx=function(t){function n(n,i,e){return void 0===e&&(e=Py.DEFAULT),t.call(this,jp.$y,"",i||"","",!1,e,!1,n)||this}return S(n,t),n}(eC),ax=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).Az=void 0,e.nr=Py.ID3,e}S(n,t);var i=n.prototype;return i.AA=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].tw<t.tw)pC(n,i,t.tw);else{var e=n[0];if(e.tw>t.tw)t.nw=e.tw;else{var r=qD(n,t);if(!(r>=0)){var s=-(r+1),u=s-1;if(u>=0&&n[u].tw<t.tw&&pC(n,u,t.tw),s<n.length){var o=n[s];t.nw=o.tw}}}}}}(n,this.aH),t.prototype.AA.call(this,n)},i.Rd=function(){return Yw(this)},n}(hx);function cx(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,e=$C(t.value);return t.THEOplayerTextTrackCue=new ox(i,e),t.THEOplayerTextTrackCue}var fx=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Ug=void 0,i.XH=function(){i.Rl!==Ww.bl&&(i.qH(),i.GH(Oy.LOADED))},i.Ug=n,i.Ug.addEventListener("cuechange",i.XH),i.Rl=i.jH,js(function(){i.XH()}),i}S(n,t);var i=n.prototype;return i.iN=function(n){t.prototype.iN.call(this,n),this.jH=this.Rl},i.GH=function(t){this.Dl=_.max(this.Dl,t)},i.qH=function(){var t=this.Ug.cues;if(t){for(var n=function(t){for(var n=t.length,i=[],e=0;e<n;e++)i.push(cx(t[e]||t.item(e)));return bs(i,XD),i}(t),i=QD(this.Cl.il.slice(),n),e=0,r=i.hH;e<r.length;e++){var s=r[e];this.cA(s)}for(var u=0,o=i.oH;u<o.length;u++){var h=o[u];this.AA(h)}}},i.hv=function(){this.Ug.removeEventListener("cuechange",this.XH),t.prototype.hv.call(this)},A(n,[{key:"_l",get:function(){return this.Ug.id||""}},{key:"El",get:function(){return this.Ug.inBandMetadataTrackDispatchType||""}},{key:"yl",get:function(){return this.Ug.language||""}},{key:"jH",get:function(){return Gw(this.Ug.mode)},set:function(t){this.Ug.mode=t}},{key:"qg",get:function(){return this.Ug}}]),n}(ax),vx=function(t){function n(n){var i;return(i=t.call(this,0,n.iw)||this).Tz=void 0,i.Tz=n,i.nw=i.Tz.tw,i}return S(n,t),A(n,[{key:"_l",get:function(){return this.Tz._l}},{key:"kw",get:function(){return this.Tz.kw},set:function(t){this.Tz.kw=t}}]),n}(ox);function dx(t){return void 0===t.Az&&(t.Az=new vx(t)),t.Az}var lx=function(t){function n(n,i){var e;(e=t.call(this,n.El,n.ml)||this).Sz=void 0,e.Ez=void 0,e.Rz=void 0,e.Iz=function(t){e.Nz(t.Kg)},e.Dz=function(t){var n=t.Kg;if(void 0!==n.Az){var i=n.Az;n.Az=void 0,e.cA(i),i.hv()}},e.Cz=function(t){var n=dx(t.Kg);n.yw||e.xz(n),e.Oz(n)},e.Pz=function(t){var n=t.Kg,i=dx(n);e.Ez.v_<n.tw&&e.xz(i)},e.Bz=function(){var t=e.Rz,n=e.Rl;if(e.Rz=n,n===Ww.bl){for(var i=0,r=e._H;i<r.length;i++){r[i].yw=!1}Ps(e._H)}else if(t===Ww.bl)for(var s=e.Ez.v_,u=0,o=e.aH;u<o.length;u++){var h=o[u];s<h.nw&&e.xz(h)}},e.nr=Py.ID3,e.Ez=i,e.Sz=n,e.Rz=n.Rl,n.Hr(dw.Nd,e.Iz),n.Hr(dw.Cd,e.Dz),n.Hr(dw.Od,e.Cz),n.Hr(dw.Bd,e.Pz),n.Hr(dw.Fd,e.Bz);for(var r=0,s=e.Sz.Cl.il;r<s.length;r++){var u=s[r];e.Nz(u)}return e}S(n,t);var i=n.prototype;return i.xz=function(t){var n=qD(this._H,t);if(!(n>=0)){var i=-(n+1);this._H.splice(i,0,t),t.yw=!0,t.Fr(new rC(t,this.Ez.v_)),this.Fr(new hC(t)),this.Fr(new dC(this))}},i.Oz=function(t){var n=qD(this._H,t);n>=0&&xs(this._H,n),t.yw=!1,t.Fr(new uC(t,this.Ez.v_)),this.Fr(new cC(t)),this.Fr(new dC(this))},i.hv=function(){this.Sz.Xr(dw.Nd,this.Iz),this.Sz.Xr(dw.Cd,this.Dz),this.Sz.Xr(dw.Od,this.Cz),this.Sz.Xr(dw.Bd,this.Pz),this.Sz.Xr(dw.Fd,this.Bz),t.prototype.hv.call(this)},i.Nz=function(t){var n=dx(t);(this.AA(n),this.Rl!==Ww.bl)&&(this.Ez.v_<n.nw&&this.xz(n))},A(n,[{key:"wl",get:function(){return this.Sz.wl}},{key:"ml",get:function(){return this.Sz.ml},set:function(t){this.Sz.ml=t}},{key:"yl",get:function(){return this.Sz.yl}},{key:"_l",get:function(){return this.Sz._l}},{key:"gl",get:function(){return this.Sz.gl}},{key:"El",get:function(){return this.Sz.El}},{key:"Rl",get:function(){return this.Sz.Rl},set:function(t){this.Sz.Rl=t}},{key:"Dl",get:function(){return this.Sz.Dl}},{key:"Ol",get:function(){return this.Sz.Ol}}]),n}(hx),_x=function(t){function n(n){var i;return(i=t.call(this)||this).Ez=void 0,i.Ez=n,i}S(n,t);var i=n.prototype;return i.$d=function(n){if(n.nr===Py.ID3){var i=n;return i.Az||(i.Az=new lx(i,this.Ez)),t.prototype.$d.call(this,i.Az)}return t.prototype.$d.call(this,n)},i.Kd=function(n){if(n.nr===Py.ID3){var i=n;return!!i.Az&&t.prototype.Kd.call(this,i.Az)}return t.prototype.Kd.call(this,n)},n}($w),gx=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lz=Dr(),e.zS=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if((n=t.Id).nr){i.next=4;break}return i.next=4,Er.awrap(n.Yr(dw.Wd));case 4:if(n.nr===Py.ID3){i.next=6;break}return i.abrupt("return");case 6:if(0!==n.Cl.sl){i.next=11;break}return i.next=9,Er.awrap(n.Yr(dw.Nd));case 9:i.next=6;break;case 11:e.Mz(n);case 12:case"end":return i.stop()}},null,null,null,ze)},e.VS=function(t){var n=t.Id;if(n.nr===Py.ID3&&e.Lz.has(n.gl)){var i=e.Lz.get(n.gl);e.Kd(i),e.wA.TA(i),n.Xr(dw.Nd,e.Nz)}},e.Nz=function(t){wx(t.Kg)&&e.Uz(t.Kg)},e.wA=n,e.Fz=i,e.Hz(),e}S(n,t);var i=n.prototype;return i.Hz=function(){this.Fz.Hr(aw.pd,this.zS),this.Fz.Hr(aw.Ad,this.VS)},i.zz=function(){this.Fz.Xr(aw.pd,this.zS),this.Fz.Xr(aw.Ad,this.VS)},i.Mz=function(t){var n=t.Cl.il[0];if(wx(n)){var i=function(t){var n=t.match(mx);if(!n)return;return{Id:n[1],yl:n[2]}}(n.iw.description),e=i.Id,r=i.yl;if(!this.Vz(e,r)){var s=this.wA.pA(jp.Zy,t._l,e,r,!1,Py.TTML);this.$d(s),this.Lz.set(t.gl,s);for(var u=0,o=t.Cl.il;u<o.length;u++){var h=o[u];wx(h)&&this.Uz(h)}t.Hr(dw.Nd,this.Nz)}}},i.Vz=function(t,n){return!!Ns(this.qk.il,function(i){return i.ml===t&&i.yl===n})},i.Uz=function(t){if(t.Id)for(var n=this.Lz.get(t.Id.gl),i=Fp(t.iw.text,0,{Jm:0,$m:1/0,Km:t.nw}),e=0;e<i.length;e++){var r=i[e];n.AA(r)}},i.nl=function(){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:for(n=0,i=this.Fz.il;n<i.length;n++)i[n].Xr(dw.Nd,this.Nz);for(e=0,r=this.qk.il;e<r.length;e++)s=r[e],this.wA.TA(s);return this.Lz.clear(),u.next=5,Er.awrap(t.prototype.nl.call(this));case 5:case"end":return u.stop()}},null,this,null,ze)},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.zz(),n.next=3,Er.awrap(t.prototype.hv.call(this));case 3:case"end":return n.stop()}},null,this,null,ze)},n}(lb);function wx(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.iw)&&mx.test(n.description);var n}var mx=/^Track:(.+),Lang:(.+)$/;var yx=function(t){function n(n){var i;return(i=t.call(this,Xc.ha)||this).errorObject=void 0,i.errorObject=n,i}return S(n,t),A(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(ru),kx=function(t){function n(){return t.call(this,Xc.aa)||this}return S(n,t),n}(ru),px=function(t){function n(n){var i;return(i=t.call(this,"Fa")||this).Wz=n,i}return S(n,t),n}(ru),bx=new RN,Ax=function(t){function n(n){var i;return(i=t.call(this,"Go")||this).session=n,i}return S(n,t),n}(ru),Tx=function(t){function e(e,r,s){var u;return(u=t.call(this)||this).Xz=!1,u.qz=!1,u.Fc=new Fs,u.Vo=function(t){switch(t.$r){case"license-request":u.uT(t.Jr,t.Kr).catch(function(t){return u.Th(t)});break;default:u.Th(new dy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.$r))}},u.Gz=function(t){u.Qz.th.fs(function(t,n){switch(t){case"usable":i.Nn(function(){u.qz=!0,u.Fr(new kx)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.Fr(new px(n))}})},u.Yz=function(t){u.Th(new dy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},u.Qz=e,u.jz=r,u.Zz=s,e.Hr("Jr",u.Vo),e.Hr("Zr",u.Gz),e.Hr("ts",u.Yz),e.$o.then(function(){return u.Jz()}),u}S(e,t);var r=e.prototype;return r.Qo=function(){var t=this;return this.Xz=!0,bx.zB(function(n){return t.$z(n)},this.Fc.Pr)},r.$z=function(t){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,Vs(t),s.next=4,Er.awrap(this.jz.KA(t));case 4:return s.next=6,Er.awrap(this.jz.tT(this.Zz.er,this.Zz.os,t));case 6:return i=s.sent,s.next=9,Er.awrap(this.Qz.Qo(this.Zz.er,this.Zz.os,i));case 9:s.next=18;break;case 11:throw s.prev=11,s.t0=s.catch(0),Ws(s.t0),e=s.t0 instanceof xo?s.t0.Cs:void 0,r=new dy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",s.t0,void 0,void 0,void 0,void 0,e),this.Th(r),r;case 18:case"end":return s.stop()}},null,this,[[0,11]],ze)},r.uT=function(t,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!No(t)){s.next=7;break}return s.next=4,Er.awrap(this.jz.lT(new y(t),this.Fc.Pr));case 4:e=s.sent,s.next=10;break;case 7:return s.next=9,Er.awrap(this.jz._T(new y(t),i,this.Fc.Pr));case 9:e=s.sent;case 10:s.next=17;break;case 12:if(s.prev=12,s.t0=s.catch(0),!zs(s.t0)){s.next=16;break}return s.abrupt("return");case 16:throw s.t0;case 17:return s.prev=17,s.next=20,Er.awrap(this.Qz.Zo(e));case 20:s.next=26;break;case 22:throw s.prev=22,s.t1=s.catch(17),r=s.t1 instanceof xo?s.t1.Cs:void 0,new dy(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",s.t1,void 0,void 0,void 0,void 0,r);case 26:case"end":return s.stop()}},null,this,[[0,12],[17,22]],ze)},r.Th=function(t){var i=t instanceof dy?t:new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new yx(i)),this.Go()},r.Jz=function(){this.Qz.Xr("Jr",this.Vo),this.Qz.Xr("Zr",this.Gz),this.Qz.Xr("ts",this.Yz),this.qz=!1,this.Fc.Cr(),this.Fr(new Ax(this))},r.Go=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.Jz(),t.next=4,Er.awrap(this.Qz.Go().catch(Z));case 4:case"end":return t.stop()}},null,this,null,ze)},e}(iu),Sx=[Xc.aa,Xc.ha,Xc.Ua],Ex=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Wo=void 0,r.ih=void 0,r.Kz=void 0,r.tV=[],r.nV=void 0,r.iV=[],r.eV=function(t){t.session.Xr(Sx,r.Ur),t.session.Xr("Go",r.eV),Cs(r.tV,t.session)},r.Wo=n,r.ih=i,r.Kz=e,r}S(n,t);var i=n.prototype;return i.dT=function(){return this.Kz.dT()},i.rV=function(t){return this.nV||(this.nV=this.sV(t)),this.nV},i.sV=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return Vs(t),i.next=3,Er.awrap(this.Kz.lT(new y(Io()),t));case 3:if(n=i.sent,Vs(t),this.ih){i.next=7;break}throw new v("Invalid MediaKeys when setting ServerCertificate");case 7:return i.next=9,Er.awrap(this.ih.uh(n.buffer));case 9:case"end":return i.stop()}},null,this,null,ze)},i.uV=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ih){e.next=2;break}throw new v("Invalid MediaKeys when creating KeySession");case 2:return e.prev=2,this.iV.push(t),e.next=6,Er.awrap(this.ih.sh("temporary"));case 6:return n=e.sent,i=new Tx(n,this.Kz,t),this.tV.push(i),i.Hr(Sx,this.Ur),i.Hr("Go",this.eV),e.abrupt("return",i);case 12:return e.prev=12,Cs(this.iV,t),e.finish(12);case 15:case"end":return e.stop()}},null,this,[[2,,12,15]],ze)},i.oV=function(t){if(t.hV)return!1;for(var n=0,i=this.tV;n<i.length;n++){if(Rx(i[n].Zz,t))return!0}for(var e=0,r=this.iV;e<r.length;e++){if(Rx(r[e],t))return!0}return!1},i.hv=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ih=void 0,this.Wr(),t=this.tV.slice(),Ps(this.tV),n.next=6,Er.awrap(ze.all(t.map(function(t){return t.Go()})));case 6:this.Kz.Sr();case 7:case"end":return n.stop()}},null,this,null,ze)},A(n,[{key:"eh",get:function(){return this.Wo}}]),n}(iu);function Rx(t,n){return!t.hV&&t.er===n.er&&Tu(t.os,n.os)}var Ix=function(t){function e(n){var i;return(i=t.call(this)||this).JS=void 0,i.Fc=new Fs,i.$B=new RN,i.Ch=void 0,i.Kz=void 0,i.$S=void 0,i.Wo=void 0,i.aV=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(i.cV(t.er,t.os,i.Fc.Pr));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),zs(n.t0)||i.Th(n.t0);case 8:case"end":return n.stop()}},null,null,[[0,5]],ze)},i.JS=n,i.JS.Hr(nu.es,i.aV),i}S(e,t);var r=e.prototype;return r.Yo=function(t,n){this.$S=t,this.AL(n)},r.AL=function(t){this.Ch=t,this.fV(this.Fc.Pr).catch(Xs)},r.fV=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.Pe.Ki){n.next=5;break}return n.next=3,Er.awrap(this.vV(t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:if(!this.Ch||!this.Ch.dV){n.next=9;break}return n.next=8,Er.awrap(this.lV(t));case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},null,this,null,ze)},r.vV=function(t){var n,i,e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(null==(n=this.Ch)?void 0:n.IE){v.next=3;break}return v.abrupt("return",!1);case 3:i=!1,e=0,r=null!=(s=null==(u=this.Ch)?void 0:u.IE)?s:[];case 5:if(!(e<r.length)){v.next=27;break}o=r[e],h=0,a=null!=(c=o.US)?c:[];case 8:if(!(h<a.length)){v.next=22;break}return f=a[h],v.prev=10,v.next=13,Er.awrap(this.cV(o.eh.er,f,t));case 13:i=!0,v.next=19;break;case 16:v.prev=16,v.t0=v.catch(10),Ws(v.t0);case 19:h++,v.next=8;break;case 22:if(!i){v.next=24;break}return v.abrupt("return",!0);case 24:e++,v.next=5;break;case 27:return v.abrupt("return",!1);case 28:case"end":return v.stop()}},null,this,[[10,16]],ze)},r.cV=function(t,e,r){var s,u,o,h,a,c,f,v,d,l;return Er.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(Vs(r),e.byteLength){_.next=3;break}return _.abrupt("return");case 3:if(this.Ch&&this.Ch.IE.length){_.next=5;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(t===Hr||t===Vr||t===zr){_.next=8;break}return _.abrupt("return");case 8:s=WA(t,e),u=this.Ch.IE,h=0;case 11:if(!(h<u.length)){_.next=42;break}if(a=u[h],Vs(r),(c=s[a.eh.rr])&&a.eh.er===t){_.next=17;break}return _.abrupt("continue",39);case 17:return _.prev=17,_.next=20,Er.awrap(this._V(a,r));case 20:if(!(f=_.sent).dT()){_.next=24;break}return _.next=24,Er.awrap(f.rV());case 24:if(v=this.JS.bg,d={er:a.eh.er,os:c,hV:v},!this.gV(f,d)){_.next=32;break}return _.next=29,Er.awrap(f.uV(d));case 29:return l=_.sent,_.next=32,Er.awrap(l.Qo());case 32:return _.abrupt("return");case 35:_.prev=35,_.t0=_.catch(17),Ws(_.t0),o=_.t0;case 39:h++,_.next=11;break;case 42:return _.next=44,Er.awrap(i.Ae());case 44:if(!_.sent){_.next=48;break}throw new dy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new dy(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return _.stop()}},null,this,[[17,35]],ze)},r.lV=function(t){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=null==(n=this.Ch)?void 0:n.IE){u.next=3;break}return u.abrupt("return");case 3:e=0;case 4:if(!(e<i.length)){u.next=23;break}return r=i[e],Vs(t),u.prev=7,u.next=10,Er.awrap(this._V(r,t));case 10:if(!(s=u.sent).dT()){u.next=14;break}return u.next=14,Er.awrap(s.rV());case 14:return u.abrupt("return");case 17:u.prev=17,u.t0=u.catch(7),Ws(u.t0);case 20:e++,u.next=4;break;case 23:case"end":return u.stop()}},null,this,[[7,17]],ze)},r.gV=function(t,n){return i.Pe.$i||!t.oV(n)},r._V=function(t,n){var i=this;return this.$B.zB(function(n){return i.wV(t,n)},n)},r.wV=function(t,n){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(Vs(n),this.Ch&&this.Kz&&this.$S){o.next=3;break}throw new v("Not initialized");case 3:if(!this.Wo){o.next=7;break}if(this.Wo.eh===t.eh){o.next=6;break}throw new v("Internal key system error");case 6:return o.abrupt("return",this.Wo);case 7:return i=this.Kz,e=Rr({},t,{VE:t.VE.map(function(n){var e;return Rr({},n,{persistentState:null!=(e=n.persistentState)?e:i.BT(t.eh),gh:n.gh||i.gh(t.eh)})})}),o.next=11,Er.awrap(this.$S.kL(e.eh,e.VE));case 11:return r=o.sent,s=i.MS(e),(u=new Ex(e.eh,r,s)).Hr([Xc.aa,Xc.ha,Xc.Ua],this.Ur),this.Wo=u,o.abrupt("return",u);case 17:case"end":return o.stop()}},null,this,null,ze)},r.Th=function(t){var i=t instanceof dy?t:new dy(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Fr(new yx(i))},r.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$S=void 0,this.Ch=void 0,this.Fc.Cr(),this.Fc=new Fs,t.next=6,Er.awrap(this.mV());case 6:case"end":return t.stop()}},null,this,null,ze)},r.mV=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.$B.Cr());case 2:if(!(t=this.Wo)){n.next=8;break}return t.Xr(Xc.Ua,this.Ur),this.Wo=void 0,n.next=8,Er.awrap(t.hv());case 8:case"end":return n.stop()}},null,this,null,ze)},r.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),this.JS.Xr(nu.es,this.aV),t.next=4,Er.awrap(this.nl());case 4:return t.next=6,Er.awrap(this.$B.hv());case 6:case"end":return t.stop()}},null,this,null,ze)},A(e,[{key:"yV",get:function(){var t;return null==(t=this.Wo)?void 0:t.eh}},{key:"SE",get:function(){return this.Kz},set:function(t){this.Kz=t}}]),e}(iu),Nx=L.un||L.hn,Dx=L.En,Cx=.5,xx=5,Ox=L.dn,Px=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Vh=void 0,s.kV=void 0,s.KS=void 0,s.yR=!0,s.$S=void 0,s.pV=new RN,s.bV=void 0,s.AV=void 0,s.TV=void 0,s.gL=void 0,s.W_=void 0,s.SI=void 0,s.SV=[],s.EV=void 0,s.RV=void 0,s.IV=void 0,s.NV=void 0,s.DV=void 0,s.CV=void 0,s.xV=void 0,s.OV=NaN,s.PV=void 0,s.BV=void 0,s.bI=!1,s.LV=ze.resolve(),s.MV=new Fs,s.UV=[],s.FV=FS.dI(),s.HV=void 0,s.zV=1,s.VV=!1,s.WV=!1,s.XV=!1,s.qV=!1,s.hr=void 0,s.GV=!1,s.QV=!1,s.YV=!1,s.jV=!1,s.ZV=0,s.JV=function(t){var n=t.track,i=s.$V(n);s.KV(n,i)},s.tW=function(t){var n=Ux(s.EV,t.track);n&&s.EV.Kd(n)},s.nW=function(){for(var t=0;t<s.W_.sl;t++){var n=s.W_.Jd(t);n instanceof tx&&n.JH()}},s.iW=function(){s.EV.nl()},s.eW=function(){var t=s.$S,n=t.EF,i=t.RF;if(n&&i)if(t.CL)s.rW();else if(t.Dl!==ND.MU){var e=n.yg,r=i.yg;if(0!==e.sl&&0!==r.sl){var u=s.v_;if(u<e.RR(0)||u<r.RR(0))s.rW();else if(e.WE(u)!==r.WE(u)){if(t._F(u))return;s.sW()}else{if(s.rW(),!s.ZV&&s.TV.eH())e.ZR(r).nI(u,u+Cx)&&(s.ZV=YR(s.uW))}}else s.rW()}},s.uW=function(){s.ZV=0,s.eW()},s.oW=function(){if(!(s.y_||s.Dl>=am.r_)){0;var t=s.$S,n=t.EF,i=t.RF;if(n&&i){var e=s.v_,r=n.yg,u=i.yg;if(r.WE(e)&&u.WE(e))r.ZR(u).nI(e-xx,e)&&(s.YV?s.rW():s.hW())}}},s.aW=function(){s.Fr(new Nm(s.v_))},s.cW=function(){s.fW(new Hs),s.Fr(new Im(s.v_))},s.vW=function(){s.dW(),s.Fr(new Qb(s.v_))},s.lW=function(){s._W(s.m_)},s.gW=function(){s.Fr(new Pm(s.d_))},s.wW=function(){s.Fr(new ZN(s.v_))},s.mW=function(){s.Fr(new JN)},s.yW=function(){var t=s.v_,n=s.y_,i=s.Dl<am.r_&&!s.l_,e=void 0!==s.BV,r=e&&s.BV!==t;(n||!e||r&&!i)&&(s.Fr(new Lm(s.v_,void 0)),s.BV=t)},s.kW=function(){!s.VV&&s.l_&&(s.VV=!0,s.Fr(new Mm(s.v_)))},s.pW=function(){if(null!==s.Vh.error){var t,n=s.Vh.error;s.aE(new ly(null!=(t=n.code)?t:cy.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.bW=function(){s.WV&&(s.AW(),s.XV=!0)},s.TW=function(){s.Fr(new zm(s.v_,s.b_))},s.SW=function(){s.p_>0&&s.k_>0&&s.Fr(new Ab)},s.EW=function(t){s.Fr(new cu(t.initDataType,t.initData||new ArrayBuffer(0)))},s.RW=function(){s.Fr(new fu)},s.IW=function(t){var n=t.initData,i=n?To(n).buffer:new ArrayBuffer(0);s.Fr(new cu(Hr,i))},s.NW=function(t){if(t.initData){var n=Bx(t.initData);if(!n)return;s.Fr(new cu(Vr,n))}else s.Fr(new cu(Vr,new ArrayBuffer(0)))},s.DW=function(t){var n=t.initData,i=n?To(n).buffer:new ArrayBuffer(0);s.Fr(new cu(Hr,i))},s.xW=function(){s.dW()},s.OW=function(t){s.fW(t)},s.PW=function(t){s.Fr(t),t.type===Xc.ha&&s.aE(gy(t.errorObject))},s.Vh=n,s.hr=i,s.kV=e,s.SI=r,s.AV=new MD(Yt(s)),s.AV.Hr(Em.zd,s.Ur),s.TV=new HD(Yt(s)),s.TV.Hr(Em.f_,s.vW),s.gL=new Ix(Yt(s)),s.gL.Hr([Xc.aa,Xc.ha,Xc.Ua],s.PW),s.W_=new Zp,s.EV=new Zp,s.RV=new yS([s.W_,s.EV]),s.IV=new _x(Yt(s)),s.IV.fl=s.RV,s.NV=new gx(Yt(s),s.IV),s.DV=new yS([s.RV,s.NV.qk]),s.CV=new ux(Yt(s)),s.BW(),s.RE(),s}S(n,t);var e=n.prototype;return e.LW=function(){this.TE.ended||this.v_===this.d_||(this.VV=!1)},e.MW=function(){return void 0!==this.xV&&this.d_===this.xV},e._W=function(t){this.zV!==t&&(this.zV=t,this.Fr(new Bm(this.v_,t)))},e.GE=function(){return ZI(this.Vh)},e.J_=function(){var t=this.UW();return this.FW(),t},e.FW=function(){this.GV?this.QV&&(this.QV=!1,this.Fr(new Nm(this.v_))):this.HW()},e.HW=function(){if(this.bV)this.bV.J_();else{L.dn&&!L.Qt&&this.Vh.preload===CS.dR&&(this.Vh.preload=CS.$y);var t=this.m_,n=this.Vh.play();t!==this.TE.playbackRate&&(this.m_=t),Q(n)?n.then(this.xW,this.OW):this.TV.eH()&&this.dW()}},e.K_=function(){this.GV?this.QV||(this.QV=!0,this.Fr(new Im(this.v_))):this.zW()},e.zW=function(){this.bV?this.bV.K_():(this.Vh.pause(),this.TV.Zo()),this.VW(new Hs)},e.UW=function(){var t=new Ro;return this.UV.push(t),t.Ss},e.WW=function(){for(var t=0,n=this.UV;t<n.length;t++){n[t].Is(void 0)}Ps(this.UV)},e.VW=function(t){for(var n=0,i=this.UV;n<i.length;n++){i[n].Ns(t)}Ps(this.UV)},e.dW=function(){this.GV||this.bV||this.WW()},e.fW=function(t){this.GV||this.bV||this.VW(t)},e.ys=function(t,n){this.bV?this.bV.v_=t:(this.MV.Cr(),this.MV=new Fs,this.LV=this.XW(t,this.LV,this.MV.Pr).catch(Z))},e.qE=function(t){var n=this.QE;if(n&&!m(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ys(i)}},e.XW=function(t,n,i){var e,r,s,u,o,h,a,c,f=this;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,this.xV=t,this.OV=t,this.bI=!0,this.VV&&!this.MW()&&(this.VV=!1),this.Fr(new Fm(t)),v.next=8,Er.awrap(n.catch(Z));case 8:if(Vs(i),this.qV&&this.qW(),this.Dl!==am.n_){v.next=13;break}return v.next=13,Er.awrap(this.Yr(Em.zd,i));case 13:if(0!==this.Vh.seekable.length){v.next=19;break}return v.next=16,Er.awrap(ze.race([ow(this.Vh,"timeupdate",i),$s(100,i)]));case 16:Vs(i),v.next=13;break;case 19:e=this.GW(t),r=this.xg,s=!0,u=!1;case 23:if((r=this.xg).sl>0&&!r.WE(e)&&(e=r.FR(e),s=!0),Ox&&void 0!==(o=this.QW())&&e>o&&(e=o,s=!0),u){v.next=37;break}if(!(void 0!==(h=this.YW())&&e>h)){v.next=37;break}return u=!0,v.next=33,Er.awrap(this.jW(h,i));case 33:return v.next=35,Er.awrap(ow(this.Vh,"seeked",i));case 35:Vs(i),s=!0;case 37:if(!s){v.next=56;break}return s=!1,v.next=41,Er.awrap(this.jW(e,i));case 41:Vs(i),a=this.v_,r=this.xg,e=r.FR(e),c=1;case 46:if(!(_.abs(e-a)>=1/6)){v.next=56;break}return r=this.xg,e=Mx(e,r,c),v.next=51,Er.awrap(this.jW(e,i));case 51:Vs(i),a=this.v_,c++,v.next=46;break;case 56:if(this.Vh.seeking||this.Dl<am.e_){v.next=58;break}return v.abrupt("break",63);case 58:return v.next=60,Er.awrap(Qs(function(t){var n;return ze.race([ow(f.Vh,"seeked",t),f.Yr([Xc.Ta,Xc.va,Em.zd],t),null==(n=f.$S)?void 0:n.Yr(VN.XN,t)].filter(F))},i));case 60:Vs(i),v.next=23;break;case 63:this.ZW(),v.next=71;break;case 66:if(v.prev=66,v.t0=v.catch(0),!zs(v.t0)){v.next=70;break}return v.abrupt("return");case 70:0;case 71:case"end":return v.stop()}},null,this,[[0,66]],ze)},e.jW=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(Vs(n),i=this.xg,t=i.FR(t),!this.qV){s.next=18;break}e=!0;case 5:if(!(e||this.Dl<am.r_)){s.next=17;break}if((i=this.xg).WE(t)||(t=i.FR(t),e=!0),!e){s.next=13;break}return e=!1,this.xV=t,this.JW(this.v_),s.abrupt("continue",5);case 13:return s.next=15,Er.awrap(this.Yr([Em.zd,Xc.va],n));case 15:s.next=5;break;case 17:Vs(n);case 18:if(r=ow(this.Vh,"seeking",n),this.Vh.currentTime=t,this.xV=void 0,this.JW(this.v_),!this.Vh.seeking){s.next=25;break}return s.next=25,Er.awrap(r);case 25:case"end":return s.stop()}},null,this,null,ze)},e.GW=function(t){var n=this.yg;if(n&&!n.WE(t)){var i=n.$R(t,.05);if(i>-1){var e=n.RR(i);if(t<e)return e}}return t},e.QW=function(){if(this.$S&&this.$S.CL){var t=this.$S.xL,n=this.$S.OL,i=t&&n?t.WR(n):t||n;if(i&&0!==i.sl){var e=i.RR(i.sl-1),r=i.NR(i.sl-1);return _.max(e,r-.001)}}},e.YW=function(){if(this.$S&&this.$S.CL){var t=this.$S.OL;if(t&&0!==t.sl){var n=t.RR(t.sl-1),i=t.NR(t.sl-1)-.02;return i-=.001,_.max(n,i)}}},e.JW=function(t){this.OV!==t&&(this.OV=t,this.Fr(new Fm(t)))},e.ZW=function(){this.bI=!1,this.OV=NaN,this.qV&&this.$W(),this.Fr(new Hm(this.v_))},e.qW=function(){this.GV||(this.QV=this.w_,this.GV=!0,this.zW())},e.$W=function(){this.GV&&(this.GV=!1,this.QV||this.FW())},e.DL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===bb.EA&&jN.DL(i,this.Vh))return i;if(i.nr===bb.RA&&xD.DL(i))return i}},e.cg=function(){this.yR=!1,ir(this.Vh)&&(this.Vh.style.display="none")},e.ag=function(){this.yR=!0,ir(this.Vh)&&(this.Vh.style.display="block")},e.pA=function(t,n,i,e,r,s,u,o){var h=new eC(t,n,i,e,r,s,u,o);return this.W_.$d(h),this.CV.$d(h),h},e.OE=function(){return!0},e.BE=function(t,n,i,e){var r=s.createElement("track");r.src=S_(t),r.kind=n,r.label=null!=i?i:"",e&&(r.srclang=e),r.id=TR(),this.Vh.appendChild(r);var u=this.Vh.textTracks.getTrackById(r.id),o=new tx(u,r);return this.EV.$d(o),this.SV.push(o),o},e.TA=function(t){this.W_.Kd(t),this.CV.Kd(t)},e.UE=function(){for(var t=0,n=this.W_.il.slice();t<n.length;t++){n[t].hv()}this.W_.nl();for(var i=0,e=this.SV.slice();i<e.length;i++){var r=e[i];this.EV.Kd(r),r.hv()}Ps(this.SV)},e.RE=function(){var t=this.Vh.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.JV),t.addEventListener("removetrack",this.tW),t.addEventListener("change",this.nW)),this.Vh.addEventListener("emptied",this.iW)},e.HE=function(){var t=this.Vh.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.JV),t.removeEventListener("removetrack",this.tW),t.removeEventListener("change",this.nW)),this.Vh.removeEventListener("emptied",this.iW)},e.KV=function(t,n){if(L.dn){if(t.kind===jp.$y)return void this.KW(t);if(t.kind===jp.rA&&""===t.label&&""===t.language&&!Fx(t))return void this.tX(t,n)}Ux(this.EV,t)||this.EV.$d(new tx(t,n))},e.KW=function(t){t.mode=Ww.Al;var n=new fx(t);this.EV.$d(n),this.CV.$d(n)},e.tX=function(t,n){var i=this;t.addEventListener("cuechange",function e(){Fx(t)&&(t.removeEventListener("cuechange",e),i.EV.$d(new tx(t,n)))}),t.mode=Ww.Al},e.$V=function(t){for(var n=this.Vh.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},e.Yo=function(t){var n=this;return this.pV.zB(function(i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Vs(i),!n.$S){r.next=3;break}throw new v("Already loaded a media source");case 3:if(t.nr!==bb.EA){r.next=9;break}e=new jN(t,n,n.gL,n.hr),n.qV=!1,n.nX(new MD(n)),r.next=17;break;case 9:if(t.nr!==bb.RA){r.next=16;break}e=new xD(t,n,n.gL,n.hr),n.qV=Nx,n.nX(n.qV?new UD(n):new MD(n)),Dx&&(n.Hr(Xc.La,n.eW),n.Hr(Em.zd,n.oW)),r.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.$S=e,r.next=20,Er.awrap(e.dO());case 20:return r.abrupt("return",e);case 21:case"end":return r.stop()}},null,null,null,ze)})},e.sW=function(){if(!this.YV){var t=this.m_;this.YV=!0,this.m_=t,this.Vh.playbackRate=0,this.AV&&this.AV.jF()}},e.rW=function(){if(this.YV){var t=this.m_;this.YV=!1,this.m_=t,this.hW()}},e.hW=function(){this.Vh.currentTime=this.Vh.currentTime,this.AV&&this.AV.jF()},e.nX=function(t){var n=this.Dl;this.AV.Sr(),this.AV=t,this.AV.Hr(Em.zd,this.Ur);var i=this.Dl;n!==i&&this.Fr(new Xm(this.v_,i))},e.nl=function(){var t=this;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.bI=!1,this.FV=FS.dI(),this.MV.Cr(),this.xV=void 0,this.OV=NaN,this.PV=void 0,this.qV=!1,this.GV=!1,this.KS=void 0,this.VV=!1,this.BV=void 0,this.WV=!1,this.XV&&(this.BW(),this.XV=!1),this.VW(new Hs),this.nX(new MD(this)),this.TV.nl(),this.rW(),Dx&&(jR(this.ZV),this.ZV=0,this.Xr(Xc.La,this.eW),this.Xr(Em.zd,this.oW)),n.next=20,Er.awrap(this.pV.Cr());case 20:return n.next=22,Er.awrap(this.pV.zB(function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.$S){n.next=4;break}return n.next=3,Er.awrap(t.$S.Sr());case 3:t.$S=void 0;case 4:case"end":return n.stop()}},null,null,null,ze)}));case 22:case"end":return n.stop()}},null,this,null,ze)},e.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.XV=!1,this.AW(),this.HE(),t.next=5,Er.awrap(this.nl());case 5:return t.next=7,Er.awrap(this.pV.hv());case 7:return this.TV.Sr(),this.AV.Sr(),t.next=11,Er.awrap(this.gL.Sr());case 11:return this.UE(),this.W_.hv(),this.IV.hv(),this.EV.hv(),t.next=17,Er.awrap(this.NV.hv());case 17:this.RV.hv(),this.DV.hv(),this.Wr();case 20:case"end":return t.stop()}},null,this,null,ze)},e.BW=function(){this.TE.addEventListener("play",this.aW),this.TE.addEventListener("pause",this.cW),this.TE.addEventListener("timeupdate",this.yW),this.TE.addEventListener("progress",this.wW),this.TE.addEventListener("loadstart",this.mW),this.TE.addEventListener("ended",this.kW),this.TE.addEventListener("ratechange",this.lW),this.TE.addEventListener("volumechange",this.TW),this.TE.addEventListener("durationchange",this.gW),this.TE.addEventListener("resize",this.SW),this.TE.addEventListener("loadedmetadata",this.SW),this.TE.addEventListener("error",this.pW),this.TE.addEventListener("emptied",this.bW),ws()?(this.Vh.addEventListener("encrypted",this.EW),this.Vh.addEventListener("waitingforkey",this.RW)):void 0!==ce.WebKitMediaKeys&&"function"==typeof ce.WebKitMediaKeys.isTypeSupported?this.Vh.addEventListener("webkitneedkey",this.NW):ms()?this.Vh.addEventListener("webkitneedkey",this.DW):void 0!==ce.MSMediaKeys&&"function"==typeof ce.MSMediaKeys.isTypeSupported&&this.Vh.addEventListener("msneedkey",this.IW)},e.AW=function(){this.TE.removeEventListener("play",this.aW),this.TE.removeEventListener("pause",this.cW),this.TE.removeEventListener("timeupdate",this.yW),this.TE.removeEventListener("progress",this.wW),this.TE.removeEventListener("loadstart",this.mW),this.TE.removeEventListener("ended",this.kW),this.TE.removeEventListener("ratechange",this.lW),this.TE.removeEventListener("volumechange",this.TW),this.TE.removeEventListener("durationchange",this.gW),this.TE.removeEventListener("resize",this.SW),this.TE.removeEventListener("loadedmetadata",this.SW),this.TE.removeEventListener("error",this.pW),this.TE.removeEventListener("encrypted",this.EW),this.TE.removeEventListener("waitingforkey",this.RW),this.TE.removeEventListener("webkitneedkey",this.NW),this.TE.removeEventListener("webkitneedkey",this.DW),this.TE.removeEventListener("msneedkey",this.IW),this.TE.removeEventListener("emptied",this.bW)},e.iX=function(){var t;this.bV||(this.FV=this.Dg,this.bV=new PD((t=this).v_,t.d_,t.l_,t.w_,t.y_,t.g_,t.m_,t.b_,t.Dl),this.AW(),this.bV.Hr(OD,this.Ur))},e.eX=function(){if(this.bV){var t,n,i=this.bV;this.bV=void 0,this.AV.jF(),t=this,(n=i).d_===t.d_||m(n.d_)&&m(t.d_)||t.Fr(new Pm(t.d_)),t.g_=n.g_,t.b_=n.b_,t.m_=n.m_,n.w_?t.K_():t.J_().catch(Z),n.v_!==t.v_||n.Dl>am.n_&&t.Dl===am.n_?t.ys(n.v_):!n.y_&&t.y_?t.Fr(new Fm(t.v_)):n.y_&&!t.y_&&t.Dl>=am.e_&&t.Fr(new Hm(t.v_)),!n.l_&&t.l_&&t.Fr(new Mm(t.v_)),i.Sr(),this.BW()}},e.aE=function(t){this.KS=t,this.VW(this.KS),this.Fr(new zD(this.KS))},e.rX=function(){this.sX||(rP(this.Vh,i.Pe),this.jV=!0)},e.uX=function(t){t.appendChild(this.Vh)},e.UF=function(){Dx&&this.eW(),this.AV.jF()},e.mg=function(){this.gL.mV().catch(Z)},A(n,[{key:"JF",get:function(){return this.YV}},{key:"yg",get:function(){return this.$S?this.$S.yg:FS.dI()}},{key:"kg",get:function(){var t=this.QE;if(t&&!m(t.getTime())){var n=1e3*this.v_;return new Date(t.getTime()+n)}}},{key:"QE",get:function(){if(this.TE.getStartDate)return this.bI&&this.PV||(this.PV=this.TE.getStartDate()),this.PV}},{key:"v_",get:function(){return this.bV?this.bV.v_:void 0!==this.xV?this.xV:this.Vh.currentTime}},{key:"pB",get:function(){return this.kV}},{key:"d_",get:function(){return this.bV?this.bV.d_:this.$S?this.$S.d_:this.Vh.duration}},{key:"l_",get:function(){return this.y_?this.MW():this.bV?this.bV.l_:this.Vh.ended||this.VV}},{key:"ts",get:function(){return this.KS}},{key:"TE",get:function(){return this.Vh}},{key:"w_",get:function(){return this.GV?this.QV:this.bV?this.bV.w_:this.Vh.paused}},{key:"Dg",get:function(){return this.FV.jR(FS.cI(this.Vh.played))}},{key:"hp",get:function(){return this.Vh.offsetHeight*i.Pe.Zi}},{key:"Rw",get:function(){return this.Vh.offsetWidth*i.Pe.Zi}},{key:"ME",get:function(){return VS}},{key:"Dl",get:function(){return this.AV.Dl}},{key:"xg",get:function(){return this.$S?this.$S.xg:FS.dI()}},{key:"y_",get:function(){return this.bV?this.bV.y_:this.bI}},{key:"g_",get:function(){return this.bV?this.bV.g_:this.Vh.muted},set:function(t){this.bV?this.bV.g_=t:this.Vh.muted=t}},{key:"m_",get:function(){return this.bV?this.bV.m_:void 0!==this.HV?this.HV:this.Vh.playbackRate},set:function(t){this.bV?this.bV.m_=t:this.w_||this.YV?(this.HV=t,this._W(t)):(this.HV=void 0,this.Vh.playbackRate=t)}},{key:"oX",get:function(){return this.yR}},{key:"b_",get:function(){return this.bV?this.bV.b_:this.Vh.volume},set:function(t){this.bV?this.bV.b_=t:this.Vh.volume=t}},{key:"j_",get:function(){return this.DV}},{key:"AB",get:function(){return this.SI}},{key:"bg",get:function(){return!!this.Vh.webkitCurrentPlaybackTargetIsWireless}},{key:"sX",get:function(){return this.jV}},{key:"hX",get:function(){return Rr({},WN)}},{key:"SE",get:function(){return this.gL.SE},set:function(t){this.gL.SE=t}},{key:"yV",get:function(){return this.gL.yV}},{key:"Pg",get:function(){return this.WV},set:function(t){this.WV=t,this.XV&&!this.WV&&(this.XV=!1,this.BW())}}]),n}(iu);function Bx(t){try{var n=yo(t),i=new So;return co(fo(Wu(n,i,ju(n,i,!0)),!0))}catch(t){return}}var Lx=.01;function Mx(t,n,i){if(void 0===i&&(i=0),!n.sl)return 0;var e=n.FR(t),r=Lx*i;return e===n.RR(0)?e+=r:e===n.NR(n.sl-1)&&(e-=r),e}function Ux(t,n){for(var i=0,e=t.il;i<e.length;i++){var r=e[i];if(r.qg===n)return r}}function Fx(t){return!!t.cues&&t.cues.length>0}var Hx={WP:void 0,XP:void 0,qP:void 0,GP:void 0,QP:void 0,YP:void 0,jP:void 0},zx=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Sd=void 0,n}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=hN(this)),this.Sd}},{key:"WP",get:function(){}},{key:"XP",get:function(){}},{key:"qP",get:function(){}},{key:"GP",get:function(){}},{key:"QP",get:function(){}},{key:"YP",get:function(){}},{key:"jP",get:function(){}}]),n}(iu);new zx;var Vx=function(t){function n(n,i,e){return t.call(this,n,i,e,new zx)||this}return S(n,t),n.prototype.fg=function(){},A(n,[{key:"k_",get:function(){return 0}},{key:"p_",get:function(){return 0}}]),n}(Px),Wx="theoplayer-texttracks",Xx=function(){function t(t){void 0===t&&(t=5),this.aX=void 0;var n=ce.document.createElement("div");n.className=Wx,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.aX=n,this.ag()}var n=t.prototype;return n.cg=function(){this.aX.style.display="none"},n.ag=function(){this.aX.style.display="block"},n.uX=function(t){t.appendChild(this.aX)},n.hv=function(){Ze(this.aX)},A(t,[{key:"pg",get:function(){return this.aX}}]),t}();function qx(t,n){return t?Rr({},n,Dw({GP:t.GP,qP:t.qP,XP:t.XP,WP:t.WP,QP:t.QP,YP:t.YP,jP:t.jP})):n}function Gx(t){return t.qP&&hs(t.qP,"%")?Number(t.qP.replace("%",""))/100:t.qP&&hs(t.qP,"em")?Number(t.qP.replace("em","")):1}var Qx,Yx,jx=function(){function t(t,n,i,e,r){var s=this;this.cX=Dr(),this.fX=!0,this.vX=void 0,this.dX=Rr({},Hx),this.lX=[],this.dw=void 0,this.Vh=void 0,this.kV=void 0,this._X=void 0,this.gX=function(t){return s.AA(t.Kg)},this.wX=function(t){return s.removeCue(t.Kg)},this.mX=function(){return s.yX()},this.kX=function(t){return s.pX(t.Kg)},this.bX=function(t){return s.AX(t.Kg)},this.TX=function(t){return s.SX(t.Kg)},this.EX=function(t){s.RX(t.Rw,t.hp)},this.dw=t,this._X=this.vX=r,this.Vh=this.IX(i),this.kV=e,n.appendChild(this.Vh)}var n=t.prototype;return n.NX=function(t){var n=this.DX(t);if(!n)return!1;for(var i=0;i<n.length;i++){Ze(n[i])}return this.CX(t),!0},n.dO=function(){var t=this;this.xX(),this.dw.Cl.il.forEach(function(n){return t.AA(n)}),this.pB.Hr("yC",this.EX),this.RX(this.pB.EC,this.pB.SC)},n.OX=function(t){this.dX=t,this.vX=qx(this.dX,this._X),this.vX.WP&&(this.TE.style.fontFamily=this.vX.WP),this.vX.jP&&(this.TE.style.visibility=this.vX.jP),this.RX(this.pB.EC,this.pB.SC),this.PX(!0)},n.BX=function(){return this.vX},n.LX=function(t){return this.cX.has(t.gl)},n.xX=function(){this.dw.Hr(dw.Nd,this.gX),this.dw.Hr(dw.Cd,this.wX),this.dw.Hr(dw.Fd,this.mX)},n.MX=function(){this.dw.Xr(dw.Nd,this.gX),this.dw.Xr(dw.Cd,this.wX),this.dw.Xr(dw.Fd,this.mX)},n.UX=function(t){t.Hr(Uy.jg,this.kX),t.Hr(Uy.Jg,this.bX),t.Hr(Uy.qd,this.TX)},n.FX=function(t){t.Xr(Uy.jg,this.kX),t.Xr(Uy.Jg,this.bX),t.Xr(Uy.qd,this.TX)},n.AA=function(t){this.UX(t),t.yw&&this.pX(t)},n.removeCue=function(t){this.FX(t),this.AX(t)},n.yX=function(){this.dw.Rl===Ww.Tl?this.HX():this.zX()},n.HX=function(){if(this.fX){this.fX=!1;var t=this.pB.EC,n=this.pB.SC;this.RX(t,n),this.PX(!1)}},n.zX=function(){this.fX||(this.fX=!0,this.PX(!0))},n.pX=function(t){this.fX||t.yw&&!this.LX(t)&&this.PX(!1)},n.AX=function(t){this.LX(t)&&this.PX(!1)},n.SX=function(t){(t.yw||this.LX(t))&&this.PX(!0)},n.PX=function(t){var n=this.lX,i=this.fX?[]:this.dw.xl.il.slice();this.VX(i,n,t),this.lX=i},n.DX=function(t){var n;return null==(n=this.cX.get(t.gl))?void 0:n.WX},n.XX=function(t,n){this.cX.set(t.gl,{Kg:t,WX:n})},n.CX=function(t){this.cX.delete(t.gl)},n.qX=function(){return this.lX.slice()},n.hv=function(){var t=this;Ze(this.TE),this.cX.clear(),this.MX(),this.dw.Cl.il.forEach(function(n){return t.FX(n)}),this.pB.Xr("yC",this.EX)},A(t,[{key:"Id",get:function(){return this.dw}},{key:"TE",get:function(){return this.Vh}},{key:"pB",get:function(){return this.kV}},{key:"GX",get:function(){return this.vX}},{key:"QX",get:function(){return this.dX}}]),t}();function Zx(t){return Jx[t||"none"]}!function(t){t.YX='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.jX='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.ZX='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.JX='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(Qx||(Qx={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(Yx||(Yx={}));var Jx={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function $x(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var Kx=Cr({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),tO=Cr({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),nO={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=Kx.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){hs(t,"px")?t=g(t)/24+"em":hs(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;if("before"===t.toLowerCase())i="flex-start";else if("center"===t.toLowerCase())i="center";else{if("after"!==t.toLowerCase())return;i="flex-end"}n.style.alignItems=i},extent:function(t,n){var i,e,r=t.split(" ");r.length>=2?(i=r[0],e=r[1]):i=e="100%",n.style.height=e,n.style.width=i},origin:function(t,n){var i=t.split(" "),e=i[0],r=i[1];void 0===e&&void 0===r||(void 0!==e&&(n.style.left=e),void 0!==r&&(n.style.top=r))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=tO.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(hs(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},iO={XP:Yx.WHITE,WP:"Arial, Helvetica, Sans-Serif",qP:"100%",GP:Yx.TRANSPARENT,QP:Yx.TRANSPARENT,YP:"none",jP:"visible"},eO=function(t){function n(n,i,e,r){return t.call(this,n,i,e,r,iO)||this}S(n,t);var i=n.prototype;return i.IX=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",$e(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.RX=function(t,n){var i=_.min(t,n)/15;this.TE.style.fontSize=i+"px"},i.VX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.yw||this.NX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.$X(u)}},i.$X=function(t){var n=this.DX(t);n||(n=this.KX(t),this.XX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.TE.appendChild(r)}},i.KX=function(t){var n,i=[],e=t.Kb,r=t.ty,u=t.iw;if(0===l.keys(r).length){cO(n=s.createElement("div"));for(var o=rO(u,e,t.tA,void 0,this.TE),h=0;h<o.length;h++){var a=o[h];n.appendChild(a)}i.push(n)}else for(var c=0,f=l.keys(r);c<f.length;c++){var v=f[c],d=s.createElement("div");d.id=v;var _=rO(u,e,t.tA,d,this.TE);if(_){cO(d),oO(d,r[v],e,this.TE);for(var g=0;g<_.length;g++){var w=_[g];d.appendChild(w)}i.push(d)}i.push(d)}return i},i.OX=function(t){},n}(jx);function rO(t,n,i,e,r){var s,u;if(Gt(t)&&("SPAN"===(u=t).zn.toUpperCase()||"P"===u.zn.toUpperCase()||"BR"===u.zn.toUpperCase()||"DIV"===u.zn.toUpperCase()||"BODY"===u.zn.toUpperCase())){var o=function t(n){var i=n.ni("region");if("p"===n.zn.toLowerCase())return i;var e=[];for(var r=0,s=n.ti;r<s.length;r++){var u=s[r];e.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var e=!0,r=i+1;r<t.length;r++)if(t[i]===t[r]){e=!1;break}e&&n.push(t[i])}}(e);return 0===e.length?i:1===e.length?null!=(o=e[0])?o:i:void 0;var o}(t);if(!o||(null==e?void 0:e.id)===o){(s="BODY"===t.zn.toUpperCase()?e:sO(t))&&(function(t,n,i,e){var r=n.ni("style");aO(t,r,i,e),function(t,n,i){Array.prototype.slice.call(n.oi).forEach(function(n){var e=Pp(n.Vn,["ebutts","tts","xml"]);nO[e]&&nO[e](n.qn,t,i)})}(t,n,e)}(s,t,n,r),function(t,n,i){var e=null==n?void 0:n.ni("smpte:backgroundImage");if(e){e=e.replace("#","");var r=function t(n,i){if(n&&i(n))return n;var e=null;if(null!=n&&n.ti)for(var r=0,s=null==n?void 0:n.ti;r<s.length;r++){var u=s[r];if(e=t(u,i))break}return e}(i,function(t){return t.oi.some(function(t){return"id"===t.zn&&t.qn===e})});r&&hO(t,r,n,!0)}!function(t,n){var i=n.ti[0];if(!i||"metadata"!==i.zn.toLowerCase())return;var e=i.ti[0];hO(t,e,n)}(t,n)}(s,t,i));for(var h=[],a=t.jn,c=0;c<a.length;c++){var f=rO(a[c],n,i,e,r);f&&(h=h.concat(f))}if("BODY"!==t.zn.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l,_=d[v];null==(l=s)||l.appendChild(_)}return s?[s]:[]}return h}}else Qt(t)&&(s=sO(t));return s?[s]:[]}function sO(t){var n,i;if(Qt(t))$x(n=s.createElement("text"),t.ai);else if(Gt(t))switch(t.zn.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",uO(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),uO(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",uO(n,t)}return n}function uO(t,n){var i=n.ii(Cp,"id");i&&(t.id=i)}function oO(t,n,i,e){aO(t,n.style,i,e),l.keys(n).forEach(function(i){nO[i]&&nO[i](n[i],t)})}function hO(t,n,i,e){void 0===e&&(e=!1),e&&(t.style.width=t.style.height="100%");var r=s.createElement("img");r.src=function(t){var n=t&&t.jn.length>0?t.jn[0]:null;return n&&Qt(n)?"data:image/png;base64,"+n.ai:""}(n),r.id=t.id,r.style.height="100%",r.style.maxWidth="100%",function(t,n){$e(t.style,"flex");var i=n.ni("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var e=n.ni("smpte:backgroundImageHorizontal");if(e)switch(e.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(r)}function aO(t,n,i,e){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(r){var s=Pp(r,["ebutts","tts","xml"]);"style"===s.toLowerCase()?aO(t,i[n][r],i,e):nO[s]&&nO[s](i[n][r],t,e)})})}function cO(t){$e(t.style,"flex"),t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var fO,vO,dO=void 0;function lO(t,n){for(var i,e=fO.tq,r="",s=[],u=t.charAt(n.ps),o="",h={nr:vO.nq,Zn:"",iq:[]};n.ps<t.length+1;){switch(u=n.ps<t.length?t.charAt(n.ps):"EOF",e){case fO.tq:switch(u){case"&":var a=t.substring(n.ps).match(/&#?[0-9a-zA-Z]+;/);a?(r+=(i=a[0],dO||(dO=ce.document.createElement("textarea")),dO.innerHTML=i,dO.value),n.gs(a[0].length-1)):r+="&";break;case"<":if(r)return{nr:vO.rq,iw:r};e=fO.sq;break;case"EOF":return{nr:vO.rq,iw:r};default:r+=u}break;case fO.sq:switch(u){case"\t":case"\n":case"\f":case" ":e=fO.uq;break;case".":e=fO.oq;break;case"/":e=fO.hq;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=u,e=fO.aq;break;case">":return n.gs(1),h;case"EOF":return h;default:r=u,e=fO.cq}break;case fO.cq:switch(u){case"\t":case"\f":case" ":e=fO.uq;break;case"\n":o=u,e=fO.uq;break;case".":e=fO.oq;break;case">":return n.gs(1),{nr:vO.nq,Zn:r,iq:[]};case"EOF":return{nr:vO.nq,Zn:r,iq:[]};default:r+=u}break;case fO.oq:switch(u){case"\t":case"\f":case" ":s.push(o),o="",e=fO.uq;break;case"\n":s.push(o),o=u,e=fO.uq;break;case".":s.push(o),o="";break;case">":return n.gs(1),s.push(o),{nr:vO.nq,Zn:r,iq:s};case"EOF":return s.push(o),{nr:vO.nq,Zn:r,iq:s};default:o+=u}break;case fO.uq:switch(u){case"&":e=fO.fq;break;case">":n.gs(1);var c=o.trim();return c=c.replace(/\s/," "),{nr:vO.nq,Zn:r,iq:s,vq:c};default:o+=u}break;case fO.fq:for(var f="",v=n.ps;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",e=fO.uq;break;case fO.hq:switch(u){case">":return n.gs(1),{nr:vO.dq,Zn:r};case"EOF":return{nr:vO.dq,Zn:r};default:r+=u}break;case fO.aq:switch(u){case">":return n.gs(1),{nr:vO.lq,_q:r};case"EOF":return{nr:vO.lq,_q:r};default:r+=u}}n.gs(1)}return h}!function(t){t.tq="Data",t.sq="Tag",t.cq="StartTag",t.oq="StartTagClass",t.uq="StartTagAnnotation",t.fq="CharRefInAnnotation",t.hq="EndTag",t.aq="TimestampTag"}(fO||(fO={})),function(t){t.rq="string",t.nq="starttag",t.dq="endtag",t.lq="timestamp"}(vO||(vO={}));var _O,gO=function(){function t(t,n,i,e){this.gq=void 0,this.wq=void 0,this.Rw=void 0,this.hp=void 0,this.gq=t,this.wq=n,this.Rw=i,this.hp=e}var n=t.prototype;return n.mq=function(t){return this.gq<t.yq&&this.yq>t.gq&&this.wq<t.kq&&this.kq>t.wq},n.Mg=function(t){return this.gq<=t.gq&&t.yq<=this.yq&&this.wq<=t.wq&&t.kq<=this.kq},n.ks=function(){return new t(this.gq,this.wq,this.Rw,this.hp)},A(t,[{key:"yq",get:function(){return this.gq+this.Rw},set:function(t){this.gq=t-this.Rw}},{key:"kq",get:function(){return this.wq+this.hp},set:function(t){this.wq=t-this.hp}}]),t}(),wO={XP:Yx.WHITE,WP:"sans-serif",qP:"100%",GP:"rgba(0,0,0,0.8)",QP:Yx.TRANSPARENT,YP:"none",jP:"visible"},mO="theoplayer-webvtt-region-",yO="theoplayer-webvtt-styling-",kO="theoplayer-webvtt-voice-",pO=5.23,bO=1.14,AO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,wO)||this).pq=Nr(),s.bq=IO(3),s}S(n,t);var i=n.prototype;return i.IX=function(t){var n=s.createElement("div");n.className="theoplayer-webvtt-texttrack-"+t,tr(n),n.style.overflow="hidden",n.style.pointerEvents="none";var i=this.GX.WP;return i&&(n.style.fontFamily=i),n.style.whiteSpace="pre-line",n},i.dO=function(){this.TE.appendChild(this.bq),t.prototype.dO.call(this)},i.RX=function(t,n){var i=this,e=_.min(t/100,n/100),r=Gx(this.GX);this.pq.forEach(function(t){var n=t.hw,s=t.Aq;i.Tq(s,e,r,n)}),this.Tq(this.bq,e,r),this.Sq()},i.Sq=function(){var t=Gx(this.GX);this.bq.style.margin=t>=1.5?"0":1/t+"em"},i.VX=function(t,n,i){for(var e=this,r=this.TE,s=this.pB.SC/100,u=[],o=0;o<t.length;o++){var h=t[o];void 0!==h.hw&&(Os(u,h.hw)||u.push(h.hw))}this.pq.forEach(function(t,n){var r=t.hw,s=t.Aq;!i&&Os(u,r)||(Ze(s),e.pq.delete(n))});for(var a=0;a<n.length;a++){var c=n[a];!i&&c.yw||this.NX(c)}for(var f=[],v=0;v<u.length;v++){var d=u[v],l=void 0;this.pq.has(d._l)?l=this.pq.get(d._l).Aq:(l=NO(d,s),r.appendChild(l),this.pq.set(d._l,{hw:d,Aq:l})),f.push(xO(l.getBoundingClientRect()))}for(var _=xO(this.bq.getBoundingClientRect()),g=0;g<t.length;g++){var w=t[g],m=this.$X(w,f,_);void 0!==m&&f.push(m)}},i.$X=function(t,n,i){var e,r;t.hw?(r=this.pq.get(t.hw._l).Aq,"up"===t.hw.Tw&&r.children.length>=1&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s")):r=this.bq;var s=null==(e=this.DX(t))?void 0:e[0];if(s?r.appendChild(s):(s=this.Eq(t),r.appendChild(s),t.hw||(t.aw?function(t,n,i,e){var r=DO(t),s=r?i.hp:i.Rw,u=w(getComputedStyle(n).lineHeight);if(0===u)return;var o=xO(n.getBoundingClientRect()),h=_.round(nk(t));"rl"===t.cw&&(h=-(h+1));var a=u*h;"rl"===t.cw&&(a=a-o.Rw+u);h<0&&(a+=s,u=-u);r?o.wq+=a:o.gq+=a;var c=o.ks(),f=!1;for(;!i.Mg(o)||CO(o,e);)if(r)if(u<0&&o.wq<i.wq||u>0&&o.kq>i.kq){if(o.wq=c.wq,f)break;u=-u,f=!0}else o.wq+=u;else if(u<0&&o.gq<i.gq||u>0&&o.yq>i.yq){if(o.gq=c.gq,f)break;u=-u,f=!0}else o.gq+=u;r?n.style.top=(o.wq-i.wq)/i.hp*100+"%":n.style.left=(o.gq-i.gq)/i.Rw*100+"%"}(t,s,i,n):function(t,n){if("start"===t.sw)return;var i,e=n.getBoundingClientRect();if(0===e.width||0===e.height)return;i=DO(t)?"center"===t.sw?"translateY(-100%)":"translateY(-50%)":(t.sw,"translateX(-50%)");n.style[KR("transform")]=i}(t,s)),this.XX(t,[s])),!t.hw)return xO(s.getBoundingClientRect())},i.Eq=function(t){for(var n=new So,i=t.iw,e=this.Rq(t),r={Iq:void 0,pg:e},u=r,o="",h="",a=[r],c=[],f=[];n.ps<i.length;){var v=lO(i,n);if(v.nr===vO.rq){var d=s.createElement("span");$x(d,v.iw),TO(d,a),""!==o&&(d.lang=o),this.Nq(d,h),u.pg.appendChild(d)}else if(v.nr===vO.nq){var l=v.Zn.toLowerCase();switch(l){case"i":case"b":case"u":case"ruby":var _=s.createElement(l);u.pg.appendChild(_),u={Iq:v,pg:_},a.push(u);break;case"rt":var g;if("ruby"===(null==(g=u.Iq)?void 0:g.Zn.toLowerCase())){var w=s.createElement("rt");u.pg.appendChild(w),u={Iq:v,pg:w},a.push(u)}break;case"c":case"v":u={Iq:v,pg:u.pg},a.push(u);break;case"font":var m,y=null==(m=v.vq)?void 0:m.match(/(?:^| )color=["']([^"']+)/i);y&&(h=y[1],f.push(h),u={Iq:v,pg:u.pg},a.push(u));break;case"lang":var k;o=null!=(k=v.vq)?k:"",c.push(o)}}else if(v.nr===vO.dq){var p,b=v.Zn.toLowerCase(),A=null==(p=u.Iq)?void 0:p.Zn.toLowerCase();A===b?(a.pop(),u=a[a.length-1],"font"===b&&(f.pop(),h=f.length>0?f[f.length-1]:"")):"rt"===A&&"ruby"===b?(a.pop(),a.pop(),u=a[a.length-1]):"lang"===b&&(c.pop(),o=c.length>0?c[c.length-1]:"")}else if(v.nr===vO.lq){var T=v._q,S=new So;try{np(T,S)}catch(t){ot("ERROR collecting timestamp",t)}}}return e},i.Nq=function(t,n){var i=this.GX,e=this.QX;i.GP&&(t.style.background=i.GP);var r=e.XP||n||i.XP;r&&(t.style.color=r)},i.Tq=function(t,n,i,e){if(e){var r=SO(e,n);t.style.height=r*i+"px",t.style.left=EO(e)+"%",t.style.top=RO(e,n)+"px"}t.style.fontSize=pO*n*i+"px"},i.Rq=function(t){var n=s.createElement("div");n.style.position="absolute",n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.overflowWrap="break-word",n.style.width="auto",n.style.textAlign=t.ew,function(t,n){"rl"===n.cw?t.style.writingMode="vertical-rl":"lr"===n.cw?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=rk(n);DO(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,e,r=ek(n),s=ik(n),u=rk(n);if(DO(n)){switch(r){case"line-left":i=s;break;case"center":i=s-u/2;break;case"line-right":i=s-u}e=n.aw?0:nk(n)}else{switch(r){case"line-left":e=s;break;case"center":e=s-u/2;break;case"line-right":e=s-u}i=n.aw?0:nk(n)}t.style.left=i+"%",t.style.top=e+"%"}(n,t);var i=this.GX.QP;i&&(n.style.background=i);var e=this.GX.XP;return e&&(n.style.color=e),n.style.textShadow=Zx(this.GX.YP),n},n}(jx);function TO(t,n){for(var i=0;i<n.length;i++){var e=n[i];if(e.Iq){for(var r=0,s=e.Iq.iq;r<s.length;r++){var u=s[r];Je(t,yO+u)}"v"===e.Iq.Zn.toLowerCase()&&e.Iq.vq&&Je(t,kO+e.Iq.vq)}}}function SO(t,n){return t.pw*(pO*n)*bO}function EO(t){return t.Sw-t.bw*t.Rw/100}function RO(t,n){var i=t.Ew,e=t.Aw*SO(t,n)/100;return _.max(0,i-e)}function IO(t){var n=s.createElement("div");return n.className=mO+"default",tr(n),n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.width="auto",n.style.height="auto",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="1em",n.style.padding="0",n.style.boxSizing="border-box",n.style.fontSize=pO*t+"px",n.style.lineHeight=bO+"em",n}function NO(t,n){var i=IO(n);i.className=mO+t._l;var e=t.Rw,r=SO(t,n);return i.style.width=e+"%",i.style.height=r+"px",i.style.left=EO(t)+"%",i.style.right="",i.style.top=RO(t,n)+"px",i.style.bottom="",i.style.boxSizing="border-box",i}function DO(t){return""===t.cw}function CO(t,n){return n.some(function(n){return t.mq(n)})}function xO(t){return new gO(t.left,t.top,t.width,t.height)}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(_O||(_O={}));var OO={XP:Yx.WHITE,WP:Qx.ZX,qP:"100%",GP:Yx.BLACK,QP:"transparent",YP:"none",Dq:_O.FONT_REGULAR,jP:"visible"},PO=[{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.GREEN,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.GREEN,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.BLUE,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.BLUE,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.CYAN,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.CYAN,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.RED,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.RED,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.YELLOW,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.YELLOW,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.MAGENTA,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.MAGENTA,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.WHITE,Dq:_O.FONT_ITALICS,xq:0},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE_ITALICS,xq:0},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:0},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:0},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:4},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:4},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:8},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:8},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:12},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:12},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:16},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:16},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:20},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:20},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:24},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:24},{Cq:Yx.WHITE,Dq:_O.FONT_REGULAR,xq:28},{Cq:Yx.WHITE,Dq:_O.FONT_UNDERLINE,xq:28}],BO=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10];var LO=32,MO=function(){function t(t,n,i){this.Oq=void 0,this.Pq=t,this.Bq=n,this.vX=i}var n=t.prototype;return n.Lq=function(){return this.Oq=this.Mq(),this.Uq(),this.Fq(),this.Oq},n.Mq=function(){var t=s.createElement("div");t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.Hq/LO*this.Bq.zq*100+"%",t.style.height=1.2*this.Vq+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.Bq.Wq?"calc(1em - 1ch)":"";var n=this.vX.WP;n&&(t.style.fontFamily=n);var i=this.vX.QP;return i&&(t.style.backgroundColor=i),t},n.Uq=function(){if(this.Oq){var t=this.qq.Xq/15*100,n=this.qq.xq/LO*100,i=(LO-this.Gq.xq-1)/LO*100,e=(15-this.Gq.Xq-1)/15*100;this.Bq.Qq||(n=i=1,this.Oq.style.width="98%"),e<t?this.Oq.style.bottom=e*this.Bq.zq+"%":this.Oq.style.top=t*this.Bq.zq+"%",i<n?this.Oq.style.right=i+"%":this.Oq.style.left=n+"%"}},n.Fq=function(){for(var t=this.Pq.Yq.sort(UO),n=0;n<t.length;n++)this.jq(t[n-1],t[n]),this.Zq(t[n]);this.jq(t[t.length-1],void 0)},n.Zq=function(n){var i,e=qx(this.vX,n.Jq),r=t.$q(e);$x(r,n.Kq),null==(i=this.Oq)||i.appendChild(r)},t.$q=function(t){var n=s.createElement("span");n.style.display="inline-block",t.Dq!==_O.FONT_ITALICS&&t.Dq!==_O.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Dq!==_O.FONT_UNDERLINE&&t.Dq!==_O.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline");var i=t.XP;i&&(n.style.color=i);var e=t.GP;return e&&(n.style.backgroundColor=e),n.style.textShadow=Zx(t.YP),n.style.height="1.2em",n},n.jq=function(t,n){var i=t?t.tG.Xq:this.Pq.nG.Xq,e=n?n.nG.Xq:this.Pq.tG.Xq,r=t?t.tG.xq:this.Pq.nG.xq,s=n?n.nG.xq:this.Pq.tG.xq;i<e&&(!n||t&&t.nG.Xq!==n.nG.Xq?this.iG():this.eG(this.Pq.tG.xq-r),r=this.Pq.nG.xq),r<s&&(n?this.eG(s-r):this.iG())},n.iG=function(){var t,n=s.createElement("br");null==(t=this.Oq)||t.appendChild(n)},n.eG=function(t){var n;if(!(t<=0)){var i=s.createElement("span");i.style.display="inline-block",$x(i,cs(" ",t)),null==(n=this.Oq)||n.appendChild(i)}},A(t,[{key:"qq",get:function(){return this.Pq.nG}},{key:"Gq",get:function(){return this.Pq.tG}},{key:"Hq",get:function(){return this.Pq.tG.xq-this.Pq.nG.xq+1}},{key:"Vq",get:function(){return this.Pq.tG.Xq-this.Pq.nG.Xq+1}}]),t}();function UO(t,n){return function(t,n){if(t.Xq!==n.Xq)return t.Xq-n.Xq;return t.xq-n.xq}(t.nG,n.nG)}var FO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r,OO)||this).rG=void 0,s.sG=void 0,s}S(n,t);var i=n.prototype;return i.IX=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.GX.WP&&(n.style.fontFamily=this.GX.WP),n},i.RX=function(t,n){this.uG()},i.uG=function(){var t,n=Gx(this.GX);this.sG={zq:(t=100*n)/100,Wq:t<=100,Qq:t<=150};var i=this.oG/LO;this.rG=i*n,this.TE.style.fontSize=this.rG+"px"},i.VX=function(t,n,i){for(var e=0;e<n.length;e++){var r=n[e];!i&&r.yw||this.NX(r)}for(var s=0;s<t.length;s++){var u=t[s];this.$X(u)}},i.$X=function(t){this.sG&&this.sG.Qq?this.hG(80):this.hG(100),this.uG();var n=this.DX(t);n||(n=this.KX(t),this.XX(t,n));for(var i=0,e=n;i<e.length;i++){var r=e[i];this.TE.appendChild(r)}},i.KX=function(t){var n=this;return t.iw.map(function(t){return new MO(t,n.sG,n.GX).Lq()})},i.hG=function(t){var n=(100-t)/2;this.TE.style.left=n+"%",this.TE.style.width=t+"%"},A(n,[{key:"oG",get:function(){var t=this.TE.offsetWidth;return this.sG&&this.sG.Qq||(t*=.8),t}}]),n}(jx),HO=function(){function t(t,n,i,e,r){var s=this;this.aG=void 0,this.kV=void 0,this.W_=void 0,this.cG=void 0,this.fG=[],this.SI=void 0,this.vG=function(t){var n=t.Id;n.Hr(dw.zd,s.dG),n.Hr(dw.Wd,s.dG),n instanceof tx&&(n.ZH=s.ZH),s.lG(n)},this.dG=function(t){var n=t.Id;s.lG(n)},this._G=function(t){var n=t.Id;n.Xr(dw.zd,s.dG),n.Xr(dw.Wd,s.dG),s.gG(n)},this.wG=function(){for(var t=s.ZH,n=0,i=s.W_.il;n<i.length;n++){var e=i[n];e instanceof tx&&(e.ZH=t)}},this.mG=function(){for(var t=0,n=s.fG;t<n.length;t++){n[t].OX(s.SI)}},this.yG=function(){for(var t=0,n=s.fG;t<n.length;t++){var i=n[t];i.OX(Rr({},i.BX(),{jP:"hidden"}))}},this.kG=function(){for(var t=0,n=s.fG;t<n.length;t++){var i=n[t];i.OX(Rr({},i.BX(),{jP:"visible"}))}},this.aG=t,this.kV=n,this.W_=i,this.cG=r,this.SI=e,this.W_.Hr(aw.pd,this.vG),this.W_.Hr(aw.Ad,this._G),this.W_.Hr(dw.Fd,this.dG),this.cG.Hr(MS.Fd,this.wG),this.SI.Hr("Hd",this.mG),this.wG()}var n=t.prototype;return n.pG=function(t){for(var n=0,i=this.fG;n<i.length;n++){var e=i[n];if(e.Id===t)return e}},t.bG=function(t){switch(t.nr){case Py.TTML:case Py.SRT:case Py.WEBVTT:case Py.CEA608:return!0}return!1},n.AG=function(t){switch(t.nr){case Py.TTML:return new eO(t,this.aG,t.ml,this.kV);case Py.SRT:case Py.WEBVTT:return new AO(t,this.aG,t.ml,this.kV);case Py.CEA608:return new FO(t,this.aG,t.ml,this.kV)}},n.TG=function(t){var n=this.pG(t);n||(n=this.AG(t))&&(n.dO(),n.OX(this.SI),this.fG.push(n),t.Rl===Ww.Tl&&n.HX())},n.gG=function(t){for(var n=this.fG,i=n.length-1;i>=0;i-=1){var e=n[i];e.Id===t&&(e.hv(),xs(n,i))}},n.lG=function(n){var i;(i=n.wl)!==jp.Zy&&i!==jp.rA||!t.bG(n)||(n.Dl===Oy.ERROR?this.gG(n):this.TG(n))},n.nl=function(){for(var t=0,n=this.fG;t<n.length;t++){var i=n[t];i.Id.Xr(dw.zd,this.dG),i.Id.Xr(dw.Wd,this.dG),i.hv()}Ps(this.fG)},n.hv=function(){this.nl();for(var t=0,n=this.fG;t<n.length;t++){n[t].hv()}this.W_.Xr(aw.pd,this.vG),this.W_.Xr(aw.Ad,this._G),this.W_.Xr(dw.Fd,this.dG),this.cG.Xr(MS.Fd,this.wG),this.SI.Xr("Hd",this.mG)},A(t,[{key:"ZH",get:function(){return this.cG._I}}]),t}();function zO(t){var n=new aI,i=function(t){var n=[];return oI.jC(t)&&n.push(new oI(t)),hI.jC(t)&&n.push(new hI(t)),n}(t);if(i.length>0){for(var e=0;e<i.length;e++){var r=i[e];n.tx(r)}n.KC(i[0])}return n}var VO,WO=function(t){function n(n,i,e,r){var s;return(s=t.call(this,n,i,e,r)||this).SG=void 0,s.EG=void 0,s.RG=void 0,s.RG=zO(n),s.SG=new Xx,s.EG=new HO(s.SG.pg,s.pB,s.j_,s.AB,s.ME),s}S(n,t);var i=n.prototype;return i.fg=function(){return this.Vh},i.Sr=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.RG.hv(),this.SG.hv(),this.EG.hv(),n.next=5,Er.awrap(t.prototype.Sr.call(this));case 5:case"end":return n.stop()}},null,this,null,ze)},i.cg=function(){t.prototype.cg.call(this),this.SG.cg()},i.ag=function(){t.prototype.ag.call(this),this.SG.ag()},i.uX=function(n){t.prototype.uX.call(this,n),this.SG.uX(n)},A(n,[{key:"TE",get:function(){return this.Vh}},{key:"k_",get:function(){return this.Vh.videoHeight}},{key:"p_",get:function(){return this.Vh.videoWidth}},{key:"ME",get:function(){return this.RG}}]),n}(Px);!function(t){t.IG="HELLO",t.NG="HI_THERE",t.DG="INITIALIZE",t.CG="APPEND_INIT",t.xG="APPEND_DATA",t.OG="ACK",t.PG="REMOVE",t.BG="DESTROY_SESSION"}(VO||(VO={}));var XO=function(){function t(){this.Ei=void 0,this.Hh=void 0,this.$B=new RN}var n=t.prototype;return n.LG=function(t){var n=this;return this.$B.zB(function(t){var i,e,r,s,u,h;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(Vs(t),i=new MessageChannel,e=i.port1,r=i.port2,o.serviceWorker.controller){a.next=7;break}return a.next=7,Er.awrap(ow(o.serviceWorker,"install",t));case 7:if("activated"===o.serviceWorker.controller.state){a.next=10;break}return a.next=10,Er.awrap(ow(o.serviceWorker.controller,"activate",t));case 10:return s={kind:VO.IG,port:r},o.serviceWorker.controller.postMessage(s,[r]),e.start(),n.Ei=e,a.prev=15,a.next=18,Er.awrap(ow(e,"message",t));case 18:if(u=a.sent,(h=u.data).kind===VO.NG){a.next=23;break}throw new v("Could not set up message channel");case 23:n.Hh=h.sessionId,a.next=30;break;case 26:throw a.prev=26,a.t0=a.catch(15),zs(a.t0)&&n.MG(),a.t0;case 30:case"end":return a.stop()}},null,null,[[15,26]],ze)},t)},n.UG=function(t,n){var i=this;return this.Ei,this.$B.zB(function(){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Ei){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Ei.postMessage(t,n),r.next=7,Er.awrap(ow(i.Ei,"message"));case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},null,null,null,ze)})},n.FG=function(){var t=this;return this.$B.zB(function(){return t.MG()})},n.MG=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.Ei){var t={kind:VO.BG};this.Ei.postMessage(t),this.Ei.close(),this.Ei=void 0}},t}(),qO=function(){function t(){this.HG=ck.Cm}var n=t.prototype;return n.zG=function(t,n){var i=t.Hw(n);this.HG=i.Dw(this.VG)?this.HG:i},n.WG=function(t){this.HG=t},A(t,[{key:"VG",get:function(){return this.HG}}]),t}(),GO=function(t){function n(n,i){var e;return(e=t.call(this)||this).XG=void 0,e.qG=void 0,e.bu=void 0,e.$B=new RN,e.GG=!1,e.QG=!1,e.JD=n,e.YG=i,e}S(n,t);var i=n.prototype;return i.YU=function(t,n){},i.jU=function(t,n){},i.CL=function(){return this.QG},i.ZU=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,ze)},i.NU=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},null,null,null,ze)},i.mU=function(t,i,e){var r,s,u=this;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr===GN.LL){i.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return r=t.ai,s=function(){var t,i,e,s,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=Rp.Dk(new DataView(r.buffer)),(i=kp(t,xk.By)).length){c.next=4;break}throw new v("Moof boxes not found");case 4:return e=u.bu,s=n.jG(i,e),o=u.ZG(i,e),h=r.buffer,a={kind:VO.xG,mimeType:u.JD,segment:r,startPts:mk.Mm(s).qm(),totalDuration:mk.Mm(o).qm()},c.next=11,Er.awrap(u.YG.UG(a,[h]));case 11:void 0===u.XG&&(u.XG=s),void 0===u.qG&&(u.qG=s),u.qG=u.qG.Lg(o),u.Fr(new ru(qN.PL));case 15:case"end":return c.stop()}},null,null,null,ze)},i.abrupt("return",this.$B.zB(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.prev=1,u.GG=!0,n.next=5,Er.awrap(s());case 5:return n.prev=5,u.GG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ze)},e));case 5:case"end":return i.stop()}},null,this,null,ze)},i.pU=function(t,n,i){var e,r,s=this;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.nr===GN.LL){n.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return e=t.ai,r=function(){var t,n,i,r;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=Rp.Dk(new DataView(e.buffer)),n=yp(t,xk.uy)){u.next=4;break}throw new v("Moov Box not found");case 4:if(0!==n.qk.length){u.next=6;break}throw new v("Tracks not found");case 6:return s.bu=n.qk[0].tp.Ak.bm,i=e.buffer,r={kind:VO.CG,mimeType:s.JD,segment:e},u.next=11,Er.awrap(s.YG.UG(r,[i]));case 11:s.Fr(new ru(qN.PL));case 12:case"end":return u.stop()}},null,null,null,ze)},n.abrupt("return",this.$B.zB(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.prev=1,s.GG=!0,n.next=5,Er.awrap(r());case 5:return n.prev=5,s.GG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ze)},i));case 5:case"end":return n.stop()}},null,this,null,ze)},i.VU=function(){this.QG=!0},i.UU=function(){this.QG=!1},i.jo=function(t,n,i){var e,r=this;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){var t;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={kind:VO.PG,mimeType:r.JD,endTime:mk.Om(n).qm()},i.next=3,Er.awrap(r.YG.UG(t));case 3:r.XG=void 0,r.qG=void 0,r.Fr(new ru(qN.PL));case 6:case"end":return i.stop()}},null,null,null,ze)},t.abrupt("return",this.$B.zB(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.prev=1,r.GG=!0,n.next=5,Er.awrap(e());case 5:return n.prev=5,r.GG=!1,n.finish(5);case 8:case"end":return n.stop()}},null,null,[[1,,5,8]],ze)},i));case 2:case"end":return t.stop()}},null,this,null,ze)},i.bL=function(t){return this.JD===t.mf},i.AL=function(t){return this.JD=t.mf,ze.resolve()},n.jG=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.qk.length)throw new v("No tracks");if(!i.qk[0].bb)throw new v("No decode time");return new ck(i.qk[0].bb.bb.toNumber(),n)},i.ZG=function(t,n){var i=0;return t.forEach(function(t){t.qk.forEach(function(t){t.pb.forEach(function(t){t.Ib.forEach(function(t){var n;i+=null!=(n=t.d_)?n:0})})})}),new ck(i,n)},i.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Wr(),t.next=3,Er.awrap(this.$B.hv());case 3:case"end":return t.stop()}},null,this,null,ze)},A(n,[{key:"yg",get:function(){return void 0===this.XG||void 0===this.qG?FS.dI():new FS([this.XG.Nm,this.qG.Nm])}},{key:"rh",get:function(){return{mf:this.JD}}},{key:"KU",get:function(){return my.Ff}},{key:"GD",get:function(){return this.JD}},{key:"tF",get:function(){return FS.dI()}},{key:"iO",get:function(){return 30},set:function(t){}},{key:"uO",get:function(){return 30},set:function(t){}},{key:"sx",get:function(){return this.GG}},{key:"JG",get:function(){return this.XG}},{key:"nw",get:function(){return this.qG}}]),n}(iu),QO=function(){function t(t,n){this.Ch=void 0,this.DF=void 0,this.CF=void 0,this.Ch=t,this.CF=Ns(n,function(t){return Boolean(t.GD.match(/video/))}),this.DF=Ns(n,function(t){return Boolean(t.GD.match(/audio/))}),this.$G()}t.KG=function(n,i){for(var e=[],r=0;r<n.WF.length;r++){var s=n.WF[r].mf;e.push(new GO(s,i))}return new t(n,e)};var n=t.prototype;return n.$G=function(){},n.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(ze.all([this.DF,this.CF].filter(F).map(function(t){return t.Sr()})));case 2:case"end":return t.stop()}},null,this,null,ze)},n.FF=function(t){},n.VF=function(t,n,i,e){},n.VU=function(){var t,n;null==(t=this.DF)||t.VU(),null==(n=this.CF)||n.VU()},n.UU=function(){var t,n;null==(t=this.DF)||t.UU(),null==(n=this.CF)||n.UU()},n.bL=function(t){return t===this.Ch},n.AL=function(t){return this.Ch=t,ze.resolve()},A(t,[{key:"tQ",get:function(){return[this.DF,this.CF].filter(F)}},{key:"EF",get:function(){return this.DF}},{key:"yg",get:function(){return ID(this)}},{key:"rh",get:function(){return this.Ch}},{key:"d_",get:function(){return 0}},{key:"CL",get:function(){var t,n,i,e,r=null==(t=null==(n=this.DF)?void 0:n.CL())||t,s=null==(i=null==(e=this.CF)?void 0:e.CL())||i;return r&&s}},{key:"xg",get:function(){return new FS([0,1/0])}},{key:"RF",get:function(){return this.CF}},{key:"Y_",get:function(){throw new v("Not implemented")}}]),t}(),YO=ck.jw,jO=new ck(-1/0),ZO=ck.Cm,JO=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.Cw=function(t,n){return t.Lw(n)?ys.mr:t.mw(n)?ys.gr:ys.wr},i.Lg=function(t,n){return t.Lg(n)},i.Hw=function(t,n){return t.Hw(n)},i.Bw=function(t,n){return t.Bw(n)},i.HR=function(){return YO},i.zR=function(){return ZO},i.GR=function(){return jO},n.cI=function(t){for(var i=[],e=0;e<t.length;e++)i.push(new ck(t.start(e)),new ck(t.end(e)));return new n(i)},n.nQ=function(t){for(var i=[],e=[],r=0;r<t.sl;r++)i.push(new ck(t.RR(r))),i.push(new ck(t.NR(r))),e.push(t.IR(r)),e.push(t.DR(r));return new n(i,e)},n.vI=function(t){return new n([t,t],[!0,!0])},i.UR=function(t,i){return new n(t,i)},i.LR=function(t){return t.Nm},n.dI=function(){return $O},n}(US),$O=new JO([]),KO=function(t){function n(n){var i;return(i=t.call(this)||this).iQ=!0,i.YG=new XO,i.eQ=new qO,i.$S=void 0,i.AV=void 0,i.rQ=!0,i.sQ=new Ro,i.bI=!1,i.LV=ze.resolve(),i.MV=new Fs,i.uQ=!0,i.FV=FS.dI(),i.RG=void 0,i.oQ=void 0,i.jV=!1,i.rE=void 0,i.hQ=function(){i.w_||i.aQ.sl<=0||i.yg.sl<=0||i.eQ.zG(new ck(i.yg.NR(i.yg.sl-1)),i.aQ.NR(i.aQ.sl-1))},i.cQ=function(){i.Fr(new Mm(i.v_))},i.fQ=function(){i.Fr(new Lm(i.v_,i.kg))},i.vQ=function(){i.Fr(new Bm(i.v_,i.m_))},i.dQ=function(){i.Fr(new zm(i.v_,i.b_))},i.lQ=function(){i.Fr(new Pm(i.d_))},i._Q=function(){i.Fr(new Qb(i.v_))},i.gQ=function(){i.ys(i.v_)},i.wQ=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:i.uQ&&i.Fr(new Nm(i.v_)),i.rQ=!1,i.uQ=!0;case 3:case"end":return t.stop()}},null,null,null,ze)},i.mQ=function(){i.rQ=!0,i.Fr(new Im(i.v_))},i.oQ=n,i.AV=new MD(Yt(i)),i.oQ.setAttribute("id","player_video"),i.oQ.setAttribute("x-webkit-airplay","deny"),i.oQ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.oQ.playsInline=!0,i.oQ.style.width="100%",i.oQ.style.height="100%",i.yQ(),i.kQ(),i.RG=zO(i.oQ),i}S(n,t);var e=n.prototype;return e.yQ=function(){this.oQ.addEventListener("timeupdate",this.hQ),this.oQ.addEventListener("ended",this.cQ),this.oQ.addEventListener("timeupdate",this.fQ),this.oQ.addEventListener("ratechange",this.vQ),this.oQ.addEventListener("volumechange",this.dQ),this.oQ.addEventListener("durationchange",this.lQ),this.oQ.addEventListener("playing",this._Q),this.oQ.addEventListener("seeking",this.gQ),this.oQ.addEventListener("play",this.wQ),this.oQ.addEventListener("pause",this.mQ)},e.pQ=function(){this.oQ.removeEventListener("timeupdate",this.hQ),this.oQ.removeEventListener("ended",this.cQ),this.oQ.removeEventListener("timeupdate",this.fQ),this.oQ.removeEventListener("ratechange",this.vQ),this.oQ.removeEventListener("volumechange",this.dQ),this.oQ.removeEventListener("durationchange",this.lQ),this.oQ.removeEventListener("playing",this._Q),this.oQ.removeEventListener("seeking",this.gQ),this.oQ.removeEventListener("play",this.wQ),this.oQ.removeEventListener("pause",this.mQ)},e.kQ=function(){this.AV.Hr(Em.zd,this.Ur)},e.bQ=function(){this.AV.Xr(Em.zd,this.Ur)},e.ys=function(t,n){this.MV.Cr(),this.MV=new Fs,this.LV=this.XW(t,this.LV,this.MV.Pr).catch(Z)},e.XW=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.FV=this.Dg,r=null==(e=this.$S)?void 0:e.tQ){u.next=4;break}return u.abrupt("return");case 4:return s=_.max.apply(_,r.map(function(t){return t.JG?t.JG.Nm:1/0})),this.bI=!0,this.Fr(new Fm(t)),u.next=9,Er.awrap(n.catch(Z));case 9:if(Vs(i),u.prev=10,this.iQ||this.AQ(),this.oQ.load(),this.rQ){u.next=17;break}return this.uQ=!1,u.next=17,Er.awrap(qs(this.oQ.play(),i));case 17:if(!(this.Dl<am.e_)){u.next=22;break}return u.next=20,Er.awrap(this.AV.Yr(Em.zd,i));case 20:u.next=17;break;case 22:this.sQ.Is(),this.iQ=!1,this.bI=!1,this.Fr(new Hm(this.v_)),u.next=32;break;case 28:throw u.prev=28,u.t0=u.catch(10),this.sQ.Ns(u.t0),u.t0;case 32:return u.prev=32,this.TQ(),this.eQ.WG(new ck(s)),u.finish(32);case 36:case"end":return u.stop()}},null,this,[[10,28,32,36]],ze)},e.K_=function(){this.rQ=!0,this.oQ.pause()},e.J_=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.rQ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.oQ.src){t.next=9;break}return this.rX(),t.next=7,Er.awrap(this.sQ.Ss);case 7:t.next=11;break;case 9:return t.next=11,Er.awrap(this.oQ.play());case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.rQ=!0,t.t0;case 17:case"end":return t.stop()}},null,this,[[2,13]],ze)},e.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.YG&&this.YG.FG().catch(Z),this.MV.Cr(),this.pQ(),this.bQ(),this.AV.Sr(),this.Wr();case 6:case"end":return t.stop()}},null,this,null,ze)},e.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.YG&&this.YG.FG().catch(Z),this.MV.Cr(),this.oQ.removeAttribute("src"),this.oQ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.oQ.removeAttribute("x-airplay-deny"),this.oQ.load(),this.AV.nl(),this.FV=FS.dI();case 8:case"end":return t.stop()}},null,this,null,ze)},e.rX=function(){this.sX||(rP(this.oQ,i.Pe),this.jV=!0)},e.AQ=function(){var t,n=this.oQ.getClientRects();if(n.length>0){var i,e,r=(t=n[0]).width,s=this.oQ.videoWidth/this.oQ.videoHeight,u=t.height;r/u>s?(i=u*s,e=u):(e=r/s,i=r),this.oQ.style.width=i+"px",this.oQ.style.height=e+"px",this.oQ.style.marginLeft=(r-i)/2+"px",this.oQ.style.marginTop=(u-e)/2+"px",this.oQ.style.backgroundColor="black"}},e.TQ=function(){this.oQ.style.width="100%",this.oQ.style.height="100%",this.oQ.style.marginLeft="",this.oQ.style.marginTop="",this.oQ.style.backgroundColor=""},e.BE=function(t,n,i,e){},e.pA=function(t,n,i,e,r,s){},e.DL=function(t){},e.GE=function(){return ZI(this.oQ)},e.ag=function(){this.oQ.style.display="block"},e.cg=function(){this.oQ.style.display="none"},e.iX=function(){},e.Yo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.nr!==bb.EA){i.next=2;break}throw new v("Not yet implemented");case 2:return i.next=4,Er.awrap(this.YG.LG());case 4:return n={kind:VO.DG,mediaBufferConfigs:t.WF.map(function(t){return t.mf})},i.next=7,Er.awrap(this.YG.UG(n));case 7:return this.$S=QO.KG(t,this.YG),this.oQ.preload="none",this.oQ.src="https://theo.proxy/"+this.YG.Hh+"/master.m3u8",i.abrupt("return",this.$S);case 11:case"end":return i.stop()}},null,this,null,ze)},e.eX=function(){},e.TA=function(t){},e.UE=function(){},e.qE=function(t){},e.OE=function(){return!1},e.uX=function(t){t.appendChild(this.oQ)},e.fg=function(){return this.oQ},e.LW=function(){},e.mg=function(){},A(n,[{key:"TE",get:function(){return this.oQ}},{key:"JF",get:function(){return!1}},{key:"v_",get:function(){return this.oQ.currentTime+this.eQ.VG.Nm}},{key:"w_",get:function(){return this.oQ.paused}},{key:"b_",get:function(){return this.oQ.volume},set:function(t){this.oQ.volume=t}},{key:"m_",get:function(){return this.oQ.playbackRate},set:function(t){this.oQ.playbackRate=t}},{key:"SQ",get:function(){return this.oQ.defaultPlaybackRate}},{key:"yg",get:function(){var t,n;return null!=(t=null==(n=this.$S)?void 0:n.yg)?t:FS.dI()}},{key:"aQ",get:function(){return JO.cI(this.oQ.buffered)}},{key:"Dg",get:function(){var t=FS.fI(this.EQ);return this.FV.jR(t.gs(this.eQ.VG.Nm))}},{key:"EQ",get:function(){return JO.cI(this.oQ.played)}},{key:"y_",get:function(){return this.bI}},{key:"d_",get:function(){return this.oQ.duration}},{key:"g_",get:function(){return this.oQ.muted},set:function(t){this.oQ.muted=t}},{key:"Jq",get:function(){return this.oQ.style}},{key:"hX",get:function(){return Rr({},WN,{cL:!0,fL:300})}},{key:"Dl",get:function(){return this.AV.Dl}},{key:"k_",get:function(){return this.oQ.videoHeight}},{key:"p_",get:function(){return this.oQ.videoWidth}},{key:"l_",get:function(){return this.oQ.ended}},{key:"hp",get:function(){return 0}},{key:"Rw",get:function(){return 0}},{key:"bg",get:function(){return!1}},{key:"sX",get:function(){return this.jV}},{key:"kg",get:function(){}},{key:"pB",get:function(){}},{key:"ts",get:function(){}},{key:"ME",get:function(){return this.RG}},{key:"xg",get:function(){return this.$S?this.$S.xg:FS.dI()}},{key:"QE",get:function(){}},{key:"j_",get:function(){}},{key:"AB",get:function(){}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"oX",get:function(){return"block"===this.oQ.style.display}},{key:"SE",get:function(){return this.rE},set:function(t){this.rE=t}},{key:"yV",get:function(){}}]),n}(iu),tP=2,nP=[my.Jf,my.$f];function iP(t){var n=s.createElement(t);return ir(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),eP(n),n}function eP(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),er(t),t.pause(),t.playbackRate=1,t.preload=CS.vR,t.controls=!1,t.style.display="none",ir(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function rP(t,n){if(n.Xi){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var e=t.play();Q(e)&&Zs(e),t.pause()}}var sP;oe=(sP={RQ:function(){function t(t,n,i,e,r){void 0===i&&(i=tP),void 0===e&&(e=nP),void 0===r&&(r=Uc()),this.IQ=void 0,this.NQ=void 0,this.hr=void 0,this.DQ=void 0,this.kV=void 0,this.SI=void 0,this.CQ=void 0,this.IQ=i,this.NQ=[].concat(e),this.hr=r,this.kV=t,this.SI=n,this.DQ=Nr(),this.xQ()}var n=t.prototype;return n.II=function(t){for(var n=0,i=this.DI;n<i.length;n++){i[n].uX(t)}},n.AE=function(t){var n=Ns(this.DQ.get(t),function(t){return t.OQ});if(n)return n.OQ=!1,n.PQ},n.BQ=function(t){if(!this.CQ)throw new v("Error creating iOS Safari MediaController");return this.CQ},n.zE=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.TE,i=n.tagName.toLowerCase(),r.next=4,Er.awrap(t.nl());case 4:eP(n),(e=Ns(this.DQ.get(i)||[],function(n){return t===n.PQ}))&&(e.OQ=!0);case 7:case"end":return r.stop()}},null,this,null,ze)},n.NI=function(){for(var t=0,n=this.DI;t<n.length;t++){n[t].rX()}},n.hv=function(){for(var t=0,n=this.DI;t<n.length;t++){var i=n[t],e=i.TE;i.Sr(),eP(e),Ze(e)}},n.xQ=function(){for(var t=0,n=this.NQ;t<n.length;t++){var i=n[t],e=[];this.DQ.set(i,e);for(var r=0;r<this.IQ;r++){var s=iP(i),u=i===my.Jf?new Vx(s,this.hr,this.kV):new WO(s,this.hr,this.kV,this.SI);e.push({PQ:u,OQ:!0})}}if(L.dn&&L.Qt){var o=iP(my.$f);this.CQ=new KO(o)}},A(t,[{key:"DI",get:function(){for(var t=[],n=0,i=this.NQ;n<i.length;n++){var e=i[n],r=this.DQ.get(e).map(function(t){return t.PQ});t.push.apply(t,r)}return this.CQ&&t.push(this.CQ),t}}]),t}(),LQ:function(){function t(n){var i=this;this.MQ=new RN,this.UQ=function(){var n,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=i.AI.AE(my.$f),e=n.TE,s.next=4,Er.awrap(t.FQ(e));case 4:return r=s.sent,s.next=7,Er.awrap(i.AI.zE(n));case 7:return s.abrupt("return",r);case 8:case"end":return s.stop()}},null,null,null,ze)},this.AI=n}var n=t.prototype;return n.rL=function(){return this.MQ.zB(this.UQ)},n.ug=function(){this.AI.NI()},t.FQ=function(n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!L.sn&&!L.in){i.next=2;break}return i.abrupt("return","all");case 2:return n.src||(n.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),i.next=5,Er.awrap(t.HQ());case 5:return i.next=7,Er.awrap(t.zQ(n));case 7:if(!i.sent){i.next=9;break}return i.abrupt("return","all");case 9:return i.next=11,Er.awrap(t.VQ(n));case 11:if(!i.sent){i.next=13;break}return i.abrupt("return","muted");case 13:return i.abrupt("return","none");case 14:case"end":return i.stop()}},null,null,null,ze)},t.zQ=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.play(),e.prev=1,Q(n)){e.next=4;break}return e.abrupt("return",!L.Zt);case 4:return i=$s(100),e.next=7,Er.awrap(ze.race([n,i]));case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:return e.prev=13,t.pause(),e.finish(13);case 16:case"end":return e.stop()}},null,null,[[1,10,13,16]],ze)},t.VQ=function(n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.muted=!0,e.next=3,Er.awrap(t.zQ(n));case 3:return i=e.sent,n.muted=!1,e.abrupt("return",i);case 6:case"end":return e.stop()}},null,null,null,ze)},t.HQ=function(){return new ze(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.hv=function(){this.MQ.hv()},t}(),WQ:{rC:function(t){ce.addEventListener("beforeunload",t)},_C:function(t){ce.removeEventListener("beforeunload",t)}},XQ:r}).RQ,he=sP.LQ,ae=sP.WQ,ce=sP.XQ,fe=ce&&ce.location,ve=ce&&ce.navigator;var uP=[];function oP(){uP.shift()()}function hP(t){uP.push(t),h(oP,0)}var aP=function(){function t(t){this.qQ=void 0,this.GQ=void 0,this.QQ=void 0,this.QQ=t}var n=t.prototype;return n.YQ=function(t){return this.qQ=this.qQ||{},void 0===this.qQ[t]&&(this.qQ[t]=[]),this.qQ[t]},n.addEventListener=function(t,n){var i=this.YQ(t);-1===i.indexOf(n)&&i.push(n)},n.Vr=function(t){(this.GQ||(this.GQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.YQ(t);n?Cs(i,n):i.length=0},n.Qr=function(t){var n=this.GQ;n&&Cs(n,t)},n.Wr=function(){this.qQ=void 0},n.dispatchEvent=function(t,n){if(n)return hP(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.YQ(t.type).slice(),e=this.GQ&&this.GQ.slice(),r=0;r<i.length;r++){i[r].call(this.QQ||this,t)}if(e)for(var s=0;s<e.length;s++){e[s].call(this.QQ||this,t)}},n.jQ=function(t){return Boolean(this.qQ&&this.qQ[t]&&this.qQ[t].length)},n.ZQ=function(){return this.qQ?l.keys(this.qQ):[]},t}(),cP=function(){function t(){this.JQ=[]}var n=t.prototype;return n.KG=function(t,n){var i=this.JQ[t];return i?new i(n):null},n.hL=function(t,n){this.JQ[t]=n},t}();cP.Rn=new cP;var fP,vP=function(t){function n(n,i){var e,r=lP[n];return(e=t.call(this,r?r.Jr:"")||this).code=void 0,e.info=void 0,e.helpLink=void 0,e.helpLinkText=void 0,e.code=n,e.info=i,e.helpLink=r&&r.$Q,e.helpLinkText=r&&r.KQ,e}return S(n,t),A(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(Zt);!function(t){t.tY="LICENSE_INVALID",t.nY="MANIFEST_NOT_FOUND",t.iY="MANIFEST_CORS_ERROR",t.eY="INVALID_HLS_MANIFEST",t.rY="PLAYBACK_ISSUE",t.sY="AUDIO_ISSUE",t.uY="BROWSER_SUPPORT_ISSUE",t.oY="INVALID_KEY",t.hY="DECRYPTION_ERROR",t.aY="AD_BLOCK_DETECTED",t.cY="THEOPLAYER_NOT_INITIALIZED",t.Sl="ERROR",t.fY="MANIFEST_SEQUENCE_RESET_ERROR",t.vY="PLAYER_INCORRECTLY_CONFIGURED",t.dY="UNSUPPORTED"}(fP||(fP={}));for(var dP=[{Ds:fP.tY,Jr:"The license for this player is invalid. Please contact your service provider for additional information."},{Ds:fP.nY,Jr:"Could not load the manifest file."},{Ds:fP.iY,Jr:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",$Q:"https://www.theoplayer.com/documentation/cors.html",lY:!1},{Ds:fP.eY,Jr:"The source of the player is an invalid HLS manifest.",$Q:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ds:fP.rY,Jr:"There appears to be a playback issue."},{Ds:fP.sY,Jr:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ds:fP.uY,Jr:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ds:fP.oY,Jr:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ds:fP.hY,Jr:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ds:fP.aY,Jr:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ds:fP.cY,Jr:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ds:fP.Sl,Jr:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ds:fP.fY,Jr:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ds:fP.vY,Jr:"The player is incorrectly configured.",$Q:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ds:fP.dY,Jr:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],lP={},_P=0;_P<dP.length;_P++){var gP=dP[_P];lP[gP.Ds]=gP}function wP(t){return t._Y}var mP=function(){function t(){this.ja=[],this.gY={},this.wY=0}var n=t.prototype;return n.mY=function(t){var n=this.gY[t];return void 0===n?-1:n-this.wY},n.yY=function(t){return this.ja[t]},n.kY=function(t){return this.yY(this.mY(t))},n.pY=function(t){return!!this.yY(t)},n.bY=function(t){return!!this.kY(t)},n.AY=function(){return this.ja},n.Lg=function(t){var n,i=this.ja,e=i.length?i[i.length-1]:null;if(this.mY(t._Y)>=0)return!1;if(e&&t._Y>e._Y)n=i.length;else{var r=VD(this.ja,t._Y,wP,Ss);if(r>=0)return!1;n=-(r+1)}return this.TY(t,n),!0},n.jo=function(t){var n=this.ja,i=this.gY,e=this.mY(t._Y);return!(e<0)&&(n.splice(e,0,t),delete i[t._Y],this.SY(e),!0)},n.EY=function(t){var n=this.ja,i=this.gY;t=_.min(t,n.length);for(var e=0;e<t;e++)delete i[n[e]._Y];n.splice(0,t),this.wY+=t},n.TY=function(t,n){var i=this.ja;n>=i.length?i.push(t):i.splice(n,0,t),this.SY(n)},n.SY=function(t){for(var n=this.ja,i=this.gY,e=this.wY,r=n.length,s=t;s<r;s++)i[n[s]._Y]=s+e},A(t,[{key:"sl",get:function(){return this.ja.length}}]),t}(),yP=function(){function t(t,n,i){this.RY=void 0,this.IY=void 0,this.NY=void 0,this.RY=t,this.IY=n,this.NY=i}var n=t.prototype;return n.compute=function(){return this.RY.live?this.RY.DY?this.RY.CY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.NY&&(t+=this.xY()),this.OY()&&(t+=this.PY(t)),t},n.OY=function(){return void 0!==this.IY.BY.kY(this.RY.fragments[0]._Y)},n.PY=function(t){var n=this.RY.fragments[0];return this.IY.BY.kY(n._Y).LY-(n.LY+t)||0},n.xY=function(){var t=kP(this.RY),n=kP(this.NY.MY),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.NY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,e=1/0,r=0;r<t.length;r+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-r]||0;s+=_.abs(o-h)}s<e&&(i=r,e=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.MY.fragments.length?this.NY.UY(t.MY.fragments[0]._Y).LY:0},t}();function kP(t){for(var n=[],i=0,e=0,r=t.fragments;e<r.length;e++){var s=r[e];s.FY&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var pP=function(t){function n(n,i){var e,r=bP(i,n.d_,n.QE,n.HY);return(e=t.call(this,i,r,void 0,!1,n._l)||this).zY=void 0,e.VY=void 0,e.WY=void 0,e.Au=void 0,e.XY=void 0,e.qY=void 0,e.GY=void 0,e.QY=void 0,e.YY=void 0,e.jY=void 0,e.zY=n.ZY,e.VY=n.QE,e.WY=n.HY,e.Au=n.d_,e.XY=n.JY,e.qY=Boolean(n.$Y),e.GY=n.KY||{},e.QY=n.tj,e.YY=n.nj,e.jY=n.ij,e.ej(),e.rj(),e}S(n,t);var i=n.prototype;return i.Zo=function(t){var n=!1;void 0===this.zY&&void 0!==t.ZY&&(n=!0,this.zY=t.ZY),void 0===this.WY&&void 0!==t.HY&&(n=!0,this.WY=t.HY),void 0===this.Au&&void 0!==t.d_&&(n=!0,this.Au=t.d_),void 0===this.XY&&void 0!==t.JY&&(n=!0,this.XY=t.JY),!this.qY&&t.$Y&&(n=!0,this.qY=t.$Y),n=this.updateCustomAttributes(t,n),void 0===this.QY&&void 0!==t.tj&&(n=!0,this.QY=t.tj),void 0===this.YY&&void 0!==t.nj&&(n=!0,this.YY=t.nj),void 0===this.jY&&void 0!==t.ij&&(n=!0,this.jY=t.ij),this.ej(),this.rj(),this.sj(),n&&this.Fr(new Yy(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.KY)for(var e=0,r=l.keys(t.KY);e<r.length;e++){var s=r[e];void 0===this.GY[s]&&(i=!0,this.GY[s]=t.KY[s])}return i},i.ej=function(){this.Au&&!this.WY&&(this.WY=new Date(this.VY.getTime()+1e3*this.Au))},i.rj=function(){this.WY&&!this.Au&&(this.Au=Vt(this.WY.getTime()-this.VY.getTime()))},i.sj=function(){this.vw===1/0&&(this.WY||this.Au)&&(this.vw=bP(this.fw,this.Au,this.VY,this.WY))},A(n,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=Ew(qy(t=this),{get content(){return t.iw},get class(){return t.ZY},get startDate(){return t.QE},get endDate(){return t.HY},get duration(){return t.d_},get plannedDuration(){return t.JY},get endOnNext(){return t.$Y},get scte35Cmd(){return t.tj},get scte35Out(){return t.nj},get scte35In(){return t.ij},get customAttributes(){return t.KY}})),this.Sd}},{key:"ZY",get:function(){return this.zY}},{key:"QE",get:function(){return this.VY}},{key:"HY",get:function(){return this.WY}},{key:"d_",get:function(){return this.Au}},{key:"JY",get:function(){return this.XY}},{key:"$Y",get:function(){return this.qY}},{key:"tj",get:function(){return this.QY}},{key:"nj",get:function(){return this.YY}},{key:"ij",get:function(){return this.jY}},{key:"KY",get:function(){return this.GY}}]),n}($y);function bP(t,n,i,e){return F(n)?t+n:e?t+(Vt(e.getTime())-Vt(i.getTime())):1/0}var AP,TP,SP,EP,RP,IP=function(t){function n(){return t.call(this,void 0,void 0,Py.DATE_RANGE)||this}S(n,t);var i=n.prototype;return i.Zo=function(t,n){for(var i=this,e=function(t){for(var n=Nr(),i=[],e=0;e<t.length;e++){var r=t[e];if(n.has(r._l)){var s=n.get(r._l),u=Rr({},s,Dw(r),{KY:Rr({},s.KY,r.KY)});n.set(r._l,u)}else n.set(r._l,r),i.push(r._l)}return i.map(function(t){return n.get(t)})}(t),r=this.Cl.il,s=function(t){var n=r[t],s=Ns(e,function(t){return t._l===n._l});s?n.Zo(s):i.cA(n)},u=r.length-1;u>=0;u--)s(u);for(var o=0;o<e.length;o++){var h=e[o],a=h.QE;if(void 0!==a&&!this.kH(h._l)){var c=n(a);this.AA(new pP(h,c))}}},i.AA=function(n){this.uj(n),t.prototype.AA.call(this,n)},i.uj=function(t){var n=this.aH.filter(function(n){return n.ZY===t.ZY}).pop();n&&n.$Y&&n.Zo({_l:n._l,HY:t.QE})},n}(hx);function NP(t){return DP(t)?{Mf:t.oj,hj:[t.hj.RR,t.hj.NR],sv:!0}:{Mf:t.toString(),sv:!0}}function DP(t){return void 0!==t.hj}function CP(t){return t&&t.aj&&Sk(t.aj)||!1}function xP(t){if(!t)return mk.jw;if(!CP(t))return mk.Om(t.duration);var n=t.cj||mk.jw,i=t.fj||mk.jw,e=mk.Om(t.duration);return n.tm()||i.tm()?n.tm()?i.tm()?e.tm()?mk.jw:e:i:n:mk.Em(n,i)}function OP(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.SA)return i}return null}function PP(t){return OP(t)||function(t){return t.filter(function(t){return t.vj})}(t)[0]||t[0]}function BP(t,n){for(var i=0;i<n.length;i++){var e=n[i];Os(t,e)||t.push(e)}return t}function LP(t){switch(t){case EP.$f:case EP.dj:return my.$f;case EP.Jf:return my.Jf}}function MP(t){switch(t){case EP.$f:case EP.dj:return y_.$f;case EP.Jf:return y_.Jf;default:return y_.Ff}}!function(t){t.lj="alternative",t._j="main",t.gj="commentary",t.wj="",t.sA="descriptions",t.mj="main-desc",t.yj="translation"}(AP||(AP={})),function(t){t.lj="alternative",t._j="main",t.gj="commentary",t.wj="",t.rA="captions",t.kj="sign",t.Zy="subtitles"}(TP||(TP={})),function(t){t.$f="video",t.Jf="audio",t.pj="closedCaption",t.bj="variant"}(SP||(SP={})),function(t){t[t.Ff=-1]="Ff",t[t.Jf=0]="Jf",t[t.$f=1]="$f",t[t.dj=2]="dj"}(EP||(EP={})),function(t){t[t.Ff=-1]="Ff",t[t.Aj=1]="Aj",t[t.Tj=2]="Tj",t[t.Sj=3]="Sj",t[t.Ej=4]="Ej"}(RP||(RP={})),function(t){t.D_=function(t){return t>=RP.Tj},t.Rj=function(t){return t===RP.Tj||t===RP.Sj}}(RP||(RP={}));var UP=function(t){function n(){var n;return(n=t.call(this)||this).Ij=[],n.Nj=function(){return n.dispatchEvent("Dj")},n.Cj=function(){return n.dispatchEvent("xj")},n}S(n,t);var i=n.prototype;return i.Lg=function(t){this.Ij.push(t),t.addEventListener("xj",this.Cj),t.addEventListener("Oj",this.Nj),this.dispatchEvent("Pj"),t.disabled||this.dispatchEvent("Dj")},i.jo=function(t){var n=this.Ij.indexOf(t);n<0||(xs(this.Ij,n),t.removeEventListener("xj",this.Cj),t.removeEventListener("Oj",this.Nj),this.dispatchEvent("Pj"),t.disabled||this.dispatchEvent("Dj"))},i.ds=function(){for(var t=!!this.Bj.length,n=!!this.Lj.length,i=0,e=this.Ij;i<e.length;i++){e[i].removeEventListener("Oj",this.Nj)}this.Ij.length=0,t&&this.dispatchEvent("Pj"),n&&this.dispatchEvent("Dj")},i.hv=function(){this.Wr(),this.ds()},A(n,[{key:"Bj",get:function(){return this.Ij}},{key:"Lj",get:function(){return this.Ij.filter(function(t){return!t.disabled})}}]),n}(aP);function FP(t){if(!t)return null;for(var n={Mj:"",Uj:"",Fj:""},i=t.toLowerCase().split(","),e=0;e<i.length;e++){var r=i[e],s=r.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.Mj="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.Mj="mp4a.40.2":"mp4a.40.29"===s?n.Mj="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.Mj=s:"ec-3"===s?n.Mj=s:0===s.indexOf("avc")?n.Uj=r:n.Fj+=","+s}return n}var HP=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this)||this).Hj=void 0,h.cS=void 0,h.Bo=void 0,h.zj=new mP,h.Vj=NaN,h.Wj=void 0,h.Xj=void 0,h.Tu=void 0,h.qj=void 0,h.Gj=void 0,h.Qj=!0,h.Yj=!0,h.jj=!0,h.Zj=!1,h.Jj=null,h.$j=!1,h.Hj=n,h.cS=i,h.Bo=e||0===e?e:-1,h.Xj=r,h.qj=Boolean(s),h.Gj=Boolean(u),h.Tu=o,h}S(n,t);var i=n.prototype;return i.Kj=function(t,n){var i=ER(),e=new yP(t,this,n).compute(),r=this.tZ(t.fragments),s=r.oldFragments,u=r.newFragments;this.nZ(s,i),this.iZ(u,i,e),this.Wj!==t&&this.eZ(!0),this.Wj=t,this.dispatchEvent({type:"rZ",sZ:this}),this.dispatchEvent("renditionUpdated")},i.UY=function(t){return this.zj.kY(t)},i.uZ=function(){var t=this.Qj;this.Qj=this.Yj&&this.jj,t!==this.Qj&&this.dispatchEvent("xj")},i.eZ=function(t){this.Yj=t,this.uZ()},i.oZ=function(t){this.jj=t,this.uZ()},i.hZ=function(t){this.cS=t,this.dispatchEvent("renditionUpdated")},i.aZ=function(){null!==this.Jj&&a(this.Jj),this.dispatchEvent("Oj"),this.dispatchEvent("renditionUpdated")},i.cZ=function(t){this.$j=t,this.aZ()},i.fZ=function(){this.vZ(3e4)},i.vZ=function(t){var n=this;this.Zj=!0,this.aZ(),this.Jj=h(function(){n.Zj=!1,n.aZ()},t)},i.tZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],e=0,r=t;e<r.length;e++){var s=r[e];this.zj.bY(s._Y)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.nZ=function(t,n){for(var i=0;i<t.length;i++){var e=t[i],r=this.zj.kY(e._Y);r.dZ=BP(r.dZ,e.dZ),r.lZ=e.lZ||r.lZ,r._Z=n}},i.iZ=function(t,n,i){var e=this.gZ(t);!function(t,n){for(var i=0,e=t.length-1;e>=0;e--){var r=t[e];r.Qk=n-i,i+=1e3*r.duration}}(e,n),function(t,n){for(var i=0;i<t.length;i++){var e=t[i];e.LY+=n}}(e,i),this.wZ(e)},i.gZ=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i];e.sZ=this;var r=Rr({},e);n.push(r)}return n},i.wZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.zj.Lg(i),m(this.Vj)&&(this.Vj=i._Y)}},i.hv=function(){this.Wr(),null!==this.Jj&&a(this.Jj)},A(n,[{key:"disabled",get:function(){return this.Zj||this.$j},set:function(t){this.Zj=t,this.aZ()}},{key:"_l",get:function(){return this.Bo}},{key:"Ng",get:function(){return this.Qj}},{key:"uri",get:function(){return this.Xj||this.Wj&&this.Wj.uri},set:function(t){this.Xj=t,this.dispatchEvent("renditionUpdated")}},{key:"MY",get:function(){return this.Wj}},{key:"BY",get:function(){return this.zj}},{key:"mZ",get:function(){return this.Wj?this.Wj.live?this.Wj.duration<-60?RP.Sj:RP.Ej:RP.Aj:RP.Ff}},{key:"Vn",get:function(){return this.cS},set:function(t){this.hZ(t)}},{key:"yl",get:function(){return this.Tu}},{key:"SA",get:function(){return this.qj}},{key:"vj",get:function(){return this.Gj||this.qj}},{key:"yZ",get:function(){return this.Vj}},{key:"kZ",get:function(){return!!this.MY}},{key:"wf",get:function(){return this.Hj}}]),n}(aP),zP=function(t){function n(n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=AP._j),(w=t.call(this,n,i,e,s,u,o,d)||this).pZ=void 0,w.bZ=void 0,w.AZ=void 0,w.TZ=void 0,w.SZ=void 0,w.EZ=void 0,w.RZ=void 0,w.IZ=void 0,w.NZ=void 0,w.vH=void 0,w.DZ=void 0,w.CZ=void 0,w.xZ=void 0,w.OZ=void 0,w.PZ=void 0,w.BZ=void 0,w.LZ=null,w.MZ=void 0,w.pZ=Boolean(l),w.SZ=r,w.bZ=FP(h),w.AZ=g,w.RZ=a,w.IZ=c,w.EZ=f,w.TZ=v,w.vH=_,w}S(n,t),n.createFromPlaylistStream=function(t,i,e){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i._Y,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,e,t.UZ[0]?t.UZ[0].wl:AP._j)},n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,e,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&us(t.characteristics,"public.accessibility.describes-video")?AP.mj:AP._j;if(t.characteristics&&us(t.characteristics,"public.accessibility.describes-video"))return AP.sA;return AP.lj}(i),r)},n.createFromUri=function(t,i,e){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e)};var i=n.prototype;return i.FZ=function(t){this.bZ="string"==typeof t?FP(t):t,this.dispatchEvent("renditionUpdated")},i.HZ=function(t,n){return t?!n&&t.Mj&&t.Uj?EP.dj:t.Uj?EP.$f:t.Mj?EP.Jf:EP.Ff:EP.Ff},A(n,[{key:"zZ",set:function(t){this.pZ=t}},{key:"VZ",get:function(){return this.bZ}},{key:"bandwidth",get:function(){return this.TZ},set:function(t){this.TZ=t,this.dispatchEvent("renditionUpdated")}},{key:"wl",get:function(){return this.vH}},{key:"resolution",get:function(){return this.EZ},set:function(t){this.EZ=t,this.dispatchEvent("renditionUpdated")}},{key:"WZ",get:function(){return void 0!==this.AZ?this.AZ:this.HZ(this.bZ,this.pZ)}},{key:"_Y",get:function(){return this.RZ}},{key:"Mj",get:function(){return this.IZ}},{key:"XZ",get:function(){return this.SZ}},{key:"qZ",get:function(){return this.NZ},set:function(t){var n=this.NZ;this.NZ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(HP);var VP=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,n,i,e,r,s,u,o)||this).fi=void 0,c.GZ=null,c.QZ=void 0,c.YZ=function(){return c.jZ()},c.fi=h,c.QZ=new eC(a,String(e),c.Vn,c.yl,void 0,Py.WEBVTT),c.SA&&(c.QZ.Rl=Ww.Tl),c}S(n,t),n.createFromPlaylistMedia=function(t,i,e,r){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(us(t.characteristics,"public.accessibility.describes-music-and-sound"))return jp.rA;return jp.Zy}(i))};var i=n.prototype;return i.Kj=function(n){t.prototype.Kj.call(this,n),this.jZ()},i.hv=function(){t.prototype.hv.call(this),this.jb=null},i.hZ=function(n){t.prototype.hZ.call(this,n),this.QZ.ml=n},i.jZ=function(){this.GZ&&this.GZ.ZZ(this,this.BY)},A(n,[{key:"JZ",get:function(){return this.QZ}},{key:"jb",get:function(){return this.GZ},set:function(t){this.GZ&&this.GZ.removeEventListener("$Z",this.YZ),this.GZ=t,this.jZ(),this.GZ&&this.GZ.addEventListener("$Z",this.YZ)}},{key:"oj",get:function(){return this.uri}},{key:"nr",get:function(){return this.fi}}]),n}(HP),WP=function(t){function n(n,i){var e;(e=t.call(this)||this).Ch=void 0,e.KZ=void 0,e.tJ=["renditionUpdated","rZ","nJ"],e.iJ=null,e.eJ=null,e.rJ=null,e.sJ=null,e.uJ=new UP,e.oJ=new UP,e.hJ=new UP,e.W_={},e.aJ=void 0,e.cJ=void 0,e.fJ=null,e.Au=NaN,e.vJ=void 0,e.dJ=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.Ch=n,e.KZ=i;var r=Yt(e);return e.vJ=function(){r.zF(this)},e.dJ=function(t){r.lJ(this,t)},e}S(n,t);var i=n.prototype;return i._J=function(t,n){var i=new ax(n);return i.Rl=Ww.Al,this.W_[i._l]=i,this.dispatchEvent({type:"gJ",Id:i}),i},i.wJ=function(t,n,i){var e=new hx(i,"manifest");return e.Rl=Ww.Al,this.W_[e._l]=e,this.dispatchEvent({type:"gJ",Id:e}),e},i.mJ=function(t,n){if(t){var i=t.Cl,e=t.yJ,r=t&&this.W_[e];r||(r=new ax(t.El),this.W_[e]=r,r.Rl=Ww.Al,this.dispatchEvent({type:"gJ",Id:r}));for(var s=0;s<i.length;s++){var u=i[s];r.AA(u)}}},i.kJ=function(t){t&&(this.aJ||(this.aJ=new eC(jp.rA,void 0,"CC1","en",!0,Py.CEA608),this.W_.CC1=this.aJ,this.dispatchEvent({type:"gJ",Id:this.aJ})),this.aJ.AA(t))},i.pJ=function(t,n,i){var e=this.W_[t];if(e){var r=[];!function(t,n,i,e){for(var r=0,s=t.Cl.il;r<s.length;r++){var u=s[r];if(u.tw>=i)break;n<u.nw&&e.push(u)}}(e,n,i,r);for(var s=0;s<r.length;s++){var u=r[s];e.cA(u)}}},i.bJ=function(t,n){return this.AJ(t,n)},i.TJ=function(t){var n;return(n=this.SJ(t,this.uJ))?n:(n=this.SJ(t,this.oJ))?n:n=this.SJ(t,this.hJ)},i.hv=function(){this.Gr(this.uJ),this.uJ.hv(),this.Gr(this.oJ),this.oJ.hv(),this.Gr(this.hJ),this.hJ.hv(),this.W_={},this.aJ=void 0,this.cJ&&(this.cJ.hv(),this.cJ=void 0),this.fJ=null,this.Au=NaN,this.iJ=null,this.eJ=null,this.rJ=null,this.sJ=null,this.dispatchEvent("hv")},i.EJ=function(t){var n=zP.createFromUri(this,t.uri);this.Gr(this.oJ),this.oJ.Lg(n),n.addEventListener("renditionUpdated",this.vJ)},i.zF=function(t){var n=t.MY,i=t.mZ;if(m(this.Au)||RP.D_(i)){if(RP.Ff===i)return;if(!n)return;this.Au=n.duration,this.dispatchEvent("RJ")}m(this.Au)||RP.Aj!==i||t.removeEventListener("renditionUpdated",this.vJ)},i.IJ=function(t){var n=this;this.Gr(this.uJ),this.uJ.ds(),this.Gr(this.oJ),this.oJ.ds(),this.hJ.ds(),this.fJ=t;for(var i=t.streams.map(function(t){return zP.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.Mj&&!us(t.Mj,"mp4a")&&!us(t.Mj,"mp3"))return!1;if(t.Uj&&!us(t.Uj,"avc1"))return!1;return!0}(t.VZ)}),e=i.some(function(t){return t.VZ&&t.VZ.Mj}),r=i.some(function(t){return t.VZ&&t.VZ.Uj}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.VZ&&u.VZ.Mj),h=Boolean(u.VZ&&u.VZ.Uj);e&&!o||r&&!h||(this.oJ.Lg(u),u.addEventListener("renditionUpdated",this.vJ))}for(var a=function(t,i){var e=i[t];switch(e.type.toLowerCase()){case"subtitles":if(!n.KZ){var r=VP.createFromPlaylistMedia(n,e);n.hJ.Lg(r),n.dispatchEvent({type:"gJ",Id:r.JZ})}break;case"closed-captions":break;case"audio":var s=n.oJ.Bj.filter(function(t){return t.Mj===e["group-id"]});if(0===s.length)return"continue";e.uri&&s.forEach(function(t){return t.zZ=!0});var u=e.uri?EP.Jf:EP.dj,o=zP.createFromPlaylistMedia(n,e,!1,u);n.uJ.Lg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.NJ=PP(this.UZ.Lj)||null,this.dispatchEvent("DJ")},i.SJ=function(t,n){for(var i=0,e=n.Bj;i<e.length;i++){var r=e[i];if(r.uri===t)return r}return null},i.lJ=function(t,n){this.dispatchEvent(Rr({},n,{sZ:t}))},i.CJ=function(t){for(var n=0,i=t.Bj;n<i.length;n++)for(var e=i[n],r=0,s=this.tJ;r<s.length;r++){var u=s[r];e.addEventListener(u,this.dJ)}},i.Gr=function(t){for(var n=0,i=t.Bj;n<i.length;n++){i[n].hv()}},i.xJ=function(t,n){0!==t.length&&this.Ch.hlsDateRange&&(this.cJ||(this.cJ=new IP,this.dispatchEvent({type:"gJ",Id:this.cJ})),this.cJ.Zo(t,n))},i.OJ=function(t,n){if(this.eJ!==t){var i=this.eJ;this.eJ=t,this.dispatchEvent({type:"PJ",WZ:"Mj",sZ:this.eJ,BJ:i,LJ:n})}},i.AJ=function(t,n){if(this.rJ!==t){var i=this.rJ;this.rJ=t,t&&this.dispatchEvent({type:"PJ",WZ:"Uj",sZ:this.rJ,BJ:i,LJ:n})}},i.MJ=function(t){for(var n=0,i=t.Bj;n<i.length;n++){var e=i[n];if(e.mZ!==RP.Ff)return e.mZ}return null},A(n,[{key:"P_",get:function(){return this.iJ},set:function(t){t&&(0===t.streams.length?this.EJ(t):this.IJ(t),this.iJ=t,this.CJ(this.oJ),this.CJ(this.uJ),this.dispatchEvent("UJ"))}},{key:"FJ",get:function(){return this.fJ}},{key:"d_",get:function(){return this.Au}},{key:"j_",get:function(){var t=this,n=this.hJ.Bj.map(function(t){return t.JZ}),i=l.keys(this.W_).map(function(n){return t.W_[n]});return this.aJ&&i.push(this.aJ),this.cJ&&i.push(this.cJ),n.concat(i)}},{key:"NJ",get:function(){return this.eJ},set:function(t){this.OJ(t,!0)}},{key:"HJ",get:function(){return this.rJ},set:function(t){this.AJ(t,!1)}},{key:"UZ",get:function(){return this.uJ}},{key:"zJ",get:function(){return this.oJ}},{key:"VJ",get:function(){return this.hJ.Bj}},{key:"mZ",get:function(){var t;return null!==(t=this.eJ&&this.eJ.mZ)&&t!==RP.Ff?t:null!==(t=this.rJ&&this.rJ.mZ)&&t!==RP.Ff?t:null!==(t=this.MJ(this.uJ))?t:null!==(t=this.MJ(this.oJ))?t:RP.Ff}}]),n}(aP);var XP=function(t){function n(n,i,e){var r,s,u,o,h;return(r=t.call(this)||this).qk=[],r.WJ={},r.XJ=void 0,r.qJ=void 0,r.GJ=void 0,r.Ed=void 0,r.Ur=function(t){return r.dispatchEvent(t)},r.QJ=function(t){r.YJ(t)},r.jJ=function(t){r.handleRenditionUpdated(t)},r.ZJ=function(t){for(var n=0,i=r.qk;n<i.length;n++){i[n].JJ.ZJ(t)}},r.XJ=n,r.qJ=i,r.GJ=e,r.qJ&&r.qJ.addEventListener("PJ",r.QJ),r.GJ&&(r.GJ.addEventListener("renditionUpdated",r.jJ),r.GJ.addEventListener("$J",r.ZJ)),r.Ed=(s=Yt(r),u=new aP,o={get length(){return s.qk.length},enable:function(t){s.dA(s.KJ(t&&t.id)||t)},disable:function(t){s.lA(s.KJ(t&&t.id)||t)},item:function(t){return s.qk[t]&&s.qk[t].Ed},getTrackByID:function(t){var n=s.KJ(t);return n&&n.Ed},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),r}S(n,t);var i=n.prototype;return i.KJ=function(t){return this.WJ[t]},i.$d=function(t){for(var n=0,i=t.JJ.kl;n<i.length;n++){var e=i[n];e._l===this.t$()&&(e.yw=!0)}t.addEventListener("enabledtrack",this.Ur),t.addEventListener("disabledtrack",this.Ur),this.qk.push(t),this.WJ[t._l]=t,this.dispatchEvent({type:"addtrack",track:t.Ed})},i.dA=function(t){if(t){var n=this.WJ[t._l];if(n&&!n.ll){for(var i=this.qk.length-1;i>=0;i--)this.qk[i].hg();n.og()}}},i.lA=function(t){},A(n,[{key:"n$",get:function(){return this.t$()}}]),n}(aP);var qP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).i$=void 0,r.i$=NaN,r}S(n,t);var i=n.prototype;return i.t$=function(){return this.i$},i.YJ=function(t){t.e$?this.r$(t.s$):t.u$&&this.r$(t.u$)},i.r$=function(t){t&&(this.i$=t._l),this.qk.forEach(function(n){return n.o$(t)})},i.handleRenditionUpdated=function(t){if(t.sZ&&t.sZ.WZ===EP.Jf)for(var n=0,i=this.qk;n<i.length;n++){i[n].h$(t)}},i.dA=function(n){var i=n;if(!i){var e=this.qk.filter(function(t){return t.SA});e.length>0&&(i=e[0])}t.prototype.dA.call(this,i)},A(n,[{key:"nr",get:function(){return"audio"}}]),n}(XP),GP=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).a$=void 0,r.a$=NaN,r}S(n,t);var i=n.prototype;return i.t$=function(){return this.a$},i.YJ=function(t){(t.c$||t.s$)&&(t.s$&&(this.a$=t.s$._l),this.qk.forEach(function(n){return n.o$(t.s$)}))},i.handleRenditionUpdated=function(t){if(t.sZ&&(t.sZ.WZ===EP.$f||t.sZ.WZ===EP.dj))for(var n=0,i=this.qk;n<i.length;n++){i[n].h$(t)}},A(n,[{key:"nr",get:function(){return"video"}}]),n}(XP);function QP(t,n){for(var i,e=n-(i=t?V(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;e>0;)i="0"+i,e-=1;return i}function YP(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var jP=function(t){function n(n){var i,e,r,s;return(i=t.call(this)||this).sZ=void 0,i.yw=!1,i.f$=!0,i.Ed=void 0,i.sZ=n,i.yw=!1,i.Ed=(e=Yt(i),r=new aP,s={get bandwidth(){return e.sZ&&e.sZ.bandwidth},get averageBandwidth(){return e.sZ&&e.sZ.averageBandwidth},get codecs(){return e.VZ},get resolution(){return e.v$},get frameRate(){return YP(e.d$,2)},get id(){return e._l},get uri(){return e.sZ&&e.sZ.uri},get name(){return e.Vn},set name(t){e.Vn=t},get enabled(){return e.ll},set enabled(t){e.ll=Boolean(t)},addEventListener:function(t,n){r.addEventListener(t,n)},removeEventListener:function(t,n){r.removeEventListener(t,n)}},e.addEventListener("qualityupdated",function(t){return r.dispatchEvent(t,!0)}),s),i}S(n,t);var i=n.prototype;return i.l$=function(t){var n=!!t&&this._l===t._l;this.yw!==n&&(this.yw=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Ed}))},i.h$=function(t){return this.sZ._l===t.sZ._l&&(this.sZ=t.sZ,this.dispatchEvent({type:"qualityupdated",quality:this.Ed}),!0)},A(n,[{key:"ll",get:function(){return this.f$},set:function(t){this.f$=t,this.sZ.cZ(!t)}},{key:"wl",get:function(){return this.sZ.wl}},{key:"v$",get:function(){return this.sZ.resolution?{width:this.sZ.resolution.width,height:this.sZ.resolution.height}:{width:NaN,height:NaN}}},{key:"Vn",get:function(){return this.sZ.Vn},set:function(t){this.sZ.Vn=t,this.dispatchEvent({type:"qualityupdated",quality:this.Ed})}},{key:"_l",get:function(){return this.sZ._l}}]),n}(aP);var ZP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"VZ",get:function(){return this.sZ.VZ&&this.sZ.VZ.Uj||""}},{key:"d$",get:function(){return YP(Number(this.sZ.qZ),2)}}]),n}(jP),JP=function(t){function n(n){return t.call(this,n)||this}return S(n,t),A(n,[{key:"VZ",get:function(){return this.sZ.VZ&&this.sZ.VZ.Mj||""}},{key:"d$",get:function(){return YP(Number(this.sZ.MZ),2)}}]),n}(jP),$P=function(t){function n(n,i){var e,r,s,u,o;(e=t.call(this)||this).kl=void 0,e._$=null,e.g$={},e.GJ=void 0,e.Ed=void 0,e.Ur=function(t){return e.dispatchEvent(t)},e.kl=n,e.GJ=i;for(var h=e.kl.length-1;h>=0;h--){var a=e.kl[h];e.g$[a._l]=a}return e.kl.forEach(function(t){return t.addEventListener("activequalitychanged",e.Ur)}),e.Ed=(r=Yt(e),s=new aP,u={item:function(t){var n=r.Jd(t);return n&&n.Ed},getQualitiesByIDs:function(t){return r.w$(t).map(function(t){return t.Ed})},get length(){return r.kl.length},get activeQuality(){return r.dl&&r.dl.Ed},get targetQuality(){return r.pl?1===r.pl.length?r.pl[0].Ed:r.pl.map(function(t){return t.Ed}):null},set targetQuality(t){if(t){var n=z(t)?t:[t];r.pl=r.w$(n.map(function(t){return t.id}))}else r.pl=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},r.addEventListener("activequalitychanged",o),r.addEventListener("targetqualitychanged",o),u),e}S(n,t);var i=n.prototype;return i.m$=function(t){return!!t&&this.kl.some(function(n){return n._l===t._l})},i.y$=function(t,n){for(var i=0,e=this.kl;i<e.length;i++){e[i].l$(t)}},i.w$=function(t){var n=this;return t&&t.map(function(t){return n.g$[t]}).filter(function(t){return t})},i.k$=function(){for(var t=this.kl.length-1;t>=0;t--)this.kl[t].yw=!1},i.ZJ=function(t){var n=this.GJ.p$,i=this.w$(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Ed}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Jd=function(t){return this.kl[t]},A(n,[{key:"dl",get:function(){for(var t=0,n=this.kl;t<n.length;t++){var i=n[t];if(i.yw)return i}return null}},{key:"pl",get:function(){return this._$},set:function(t){this._$=this.b$(t)}}]),n}(aP);var KP=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.og=function(){this.GJ&&(this.GJ.i$=this.kl[0]._l)},i.hg=function(t){this.GJ&&(this.GJ.i$=null)},i.b$=function(t){},n}($P),tB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.og=function(){if(this.b$(this.pl),this.GJ){var t=this.GJ.XJ;if(!t)return;var n=Ns(t.A$.UZ.Bj,function(t){return!t.uri});this.GJ.i$=n?n._l:null}},i.y$=function(n,i){"video"===i&&t.prototype.y$.call(this,n,i)},i.hg=function(t){"video"===t&&this.k$()},i.b$=function(t){if(!this.GJ)return this.pl;var n=t?this.w$(t.map(function(t){return t._l})):null;if(n&&n.length>0){var i=n.map(function(t){return t._l});return this.GJ.p$=i,n}return t?this.pl:(this.GJ.p$=null,null)},n}($P),nB=function(t){function n(n,i){var e,r,s;return(e=t.call(this)||this).nr=void 0,e.JJ=void 0,e._l=void 0,e.zg=void 0,e.Vn=void 0,e.Ed=void 0,e.nr=n,e.JJ=i,e._l=i.Jd(0)._l,e.zg=e.JJ.kl.some(function(t){return t.yw}),e.Vn=i.Jd(0).sZ.Vn,e.Ed=(r=Yt(e),s=new aP,{get id(){return r._l},get enabled(){return r.ll},get qualities(){return r.JJ&&r.JJ.Ed},get language(){return r.yl},get default(){return r.SA},get name(){return r.Vn},set name(t){r.Vn=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),e}S(n,t);var i=n.prototype;return i.o$=function(t){var n=this.JJ.m$(t);this.Wg(n),this.JJ.y$(t,this.nr)},i.Wg=function(t){this.zg!==t&&(t?(this.zg=!0,this.dispatchEvent({type:"enabledtrack",track:this.Ed})):(this.zg=!1,this.dispatchEvent({type:"disabledtrack",track:this.Ed})))},i.og=function(){this.zg||this.JJ.og()},i.hg=function(){this.zg&&this.JJ.hg(this.nr)},i.h$=function(t){t.sZ._l===this._l&&(this.Vn=t.sZ.Vn);for(var n=0,i=this.JJ.kl;n<i.length;n++){i[n].h$(t)}},A(n,[{key:"ll",get:function(){return this.zg}},{key:"yl",get:function(){return this.T$()}},{key:"wl",get:function(){return this.S$()}},{key:"SA",get:function(){var t="video"===this.nr,n=this.JJ.kl&&this.JJ.kl[0].sZ.SA;return t||n}}]),n}(aP);var iB=function(t){function n(n){return t.call(this,"video",n)||this}S(n,t);var i=n.prototype;return i.S$=function(){return TP._j},i.T$=function(){return""},n}(nB),eB=function(t){function n(n){return t.call(this,"audio",n)||this}S(n,t);var i=n.prototype;return i.S$=function(){return this.JJ.kl[0].sZ.wl},i.T$=function(){return this.JJ.kl[0].sZ.yl||""},n}(nB),rB=function(){function t(t,n,i){var e=this;this.E$=void 0,this.R$=void 0,this.I$=void 0,this.N$=void 0,this.D$=function(){var t=e.E$;t.removeEventListener("C$",e.D$);var n=t.A$.zJ.Bj,i=t.A$.UZ.Bj,r=n.map(function(t){return new ZP(t)});if(r.length>0){var s=new tB(r,e.R$);e.N$.$d(new iB(s));var u=Ns(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new eB(s);u&&(h.Vn=u.Vn),e.I$.$d(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new JP(c),v=new KP([f],e.R$);e.I$.$d(new eB(v))}}},this.E$=t,this.R$=i,this.I$=new qP(t,n,i),this.N$=new GP(t,n,i),t&&(t.C$?this.D$():t.addEventListener("C$",this.D$))}return A(t,[{key:"Q_",get:function(){return this.I$}},{key:"Y_",get:function(){return this.N$}}]),t}(),sB=["loadedmetadata","durationchange","ts","lv","Ng","x$"],uB=["O$","PJ","P$","ts"],oB=function(t){function n(n,i,e,r,s,u,o){var h;(h=t.call(this)||this).B$=null,h.hR=void 0,h.L$=void 0,h.M$=void 0,h.U$=void 0,h.qJ=void 0,h.F$=void 0,h.XJ=void 0,h.Y_=void 0,h.Q_=void 0,h.H$=[],h.z$=[],h.V$=function(t){return h.dispatchEvent(t)},h.W$=function(t){return h.X$(t)},h.q$=function(t){return h.G$(t)},h.hR=n.src,h.L$=n.type,h.M$=i,h.U$=e,h.F$=r,h.XJ=s,h.qJ=u,h.XJ&&(h.XJ.addEventListener("Q$",h.V$),h.XJ.addEventListener("Y$",h.V$));var a=new rB(h.XJ,h.qJ,o);return h.Y_=a.Y_,h.Q_=a.Q_,h.aR=null,h.hR&&(h.qJ&&h.qJ.nl(),h.XJ&&(h.XJ.j$=h.hR)),h}S(n,t);var i=n.prototype;return i.Z$=function(t){this.qJ&&this.qJ.Yo(t),this.XJ&&this.XJ.J$(),this.aR&&this.K$()},i.tK=function(){this.qJ&&this.qJ.tK(),this.XJ&&this.XJ.nK()},i.iK=function(){if(this.XJ)for(var t=0;t<sB.length;t++){var n=sB[t];this.XJ.addEventListener(n,this.W$)}if(this.qJ)for(var i=0;i<uB.length;i++){var e=uB[i];this.qJ.addEventListener(e,this.q$)}},i.eK=function(){if(this.XJ)for(var t=0;t<sB.length;t++){var n=sB[t];this.XJ.removeEventListener(n,this.W$)}if(this.qJ)for(var i=0;i<uB.length;i++){var e=uB[i];this.qJ.removeEventListener(e,this.q$)}},i.K$=function(){if(this.XJ&&this.H$.length){var t=this.H$.slice();Ps(this.H$);for(var n=0;n<t.length;n++){var i=t[n];this.XJ.dispatchEvent(i)}}if(this.qJ&&this.z$.length){var e=this.z$.slice();Ps(this.z$);for(var r=0;r<e.length;r++){var s=e[r];this.qJ.dispatchEvent(s)}}},i.X$=function(t){this.H$.push(t)},i.G$=function(t){this.z$.push(t)},i.hv=function(){this.dispatchEvent("hv"),this.Wr(),this.qJ&&this.qJ.hv(),this.F$&&this.F$.hv(),this.XJ&&this.XJ.hv(),this.B$=null,Ps(this.H$),Ps(this.z$)},A(n,[{key:"aR",get:function(){return this.B$},set:function(t){this.eK(),this.B$=t,this.aR?this.dispatchEvent("oh"):this.iK()}}]),n}(aP),hB=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).E$=null,n.Ur=function(t){n.dispatchEvent(t,!0)},n}return S(n,t),A(n,[{key:"i$",get:function(){var t=this.E$&&this.E$.A$.NJ;return t?t._l:null},set:function(t){var n;this.E$&&(n=null===t?PP(this.E$.A$.UZ.Bj):this.E$.A$.UZ.Bj.filter(function(n){return t===n._l}).shift(),this.E$.A$.NJ=n||null)}},{key:"p$",get:function(){return this.E$&&this.E$.rK||null},set:function(t){this.E$&&(this.E$.sK(t),this.dispatchEvent("$J"))}},{key:"XJ",get:function(){return this.E$},set:function(t){this.E$&&(this.E$.A$.removeEventListener("UJ",this.Ur),this.E$.A$.removeEventListener("renditionUpdated",this.Ur),this.E$.A$.removeEventListener("DJ",this.Ur)),this.E$=t,this.E$&&(this.E$.A$.addEventListener("UJ",this.Ur),this.E$.A$.addEventListener("renditionUpdated",this.Ur),this.E$.A$.addEventListener("DJ",this.Ur))}}]),n}(aP),aB=function(){function t(){}var n=t.prototype;return n.uK=function(t){return ze.resolve(!1)},n.oK=function(t){return ze.reject(cB)},n.hK=function(t){return ze.reject(cB)},n.as=function(t){return ze.resolve(!1)},n.cs=function(t){return ze.resolve(void 0)},n.yY=function(t,n){return ze.resolve(void 0)},n.aK=function(t){return ze.resolve([])},n.cK=function(){return ze.resolve([])},n.fK=function(t){return ze.resolve([])},n.vK=function(t,n){return ze.resolve([])},n.jo=function(t){return ze.reject(cB)},n.dK=function(t){return ze.reject(cB)},n.lK=function(){return ze.reject(cB)},t}(),cB="Storage disabled",fB=function(){function t(){this._K=void 0,this.gK=void 0,this.wK=void 0,this.mK=void 0,this.yK=void 0,this._K=new aB,this.gK=new aB,this.wK=new aB,this.mK=new aB,this.yK=new aB}return t.KG=function(){return ze.resolve(new t)},t.prototype.kK=function(t){return ze.reject(vB)},t}(),vB="Storage disabled",dB=function(){function t(t){var n=this;this.Dr=new Ro,this.pK=void 0,this.Dr.Is(t),this.Dr.Ss.then(function(t){n.pK=t})}var n=t.prototype;return n.uK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.bK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.uK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.oK=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.bK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.oK(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.hK=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.bK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.hK(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.as=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.bK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.as(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.cs=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.bK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.cs(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.yY=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.bK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.yY(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.aK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.bK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.aK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.cK=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.pK,n.t0){n.next=5;break}return n.next=4,Er.awrap(this.bK);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.cK());case 7:case"end":return n.stop()}},null,this,null,ze)},n.fK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.bK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.fK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.vK=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.pK,e.t0){e.next=5;break}return e.next=4,Er.awrap(this.bK);case 4:e.t0=e.sent;case 5:return i=e.t0,e.abrupt("return",i.vK(t,n));case 7:case"end":return e.stop()}},null,this,null,ze)},n.jo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.bK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.jo(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.dK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.pK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.bK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.abrupt("return",n.dK(t));case 7:case"end":return i.stop()}},null,this,null,ze)},n.lK=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.pK,n.t0){n.next=5;break}return n.next=4,Er.awrap(this.bK);case 4:n.t0=n.sent;case 5:return t=n.t0,n.abrupt("return",t.lK());case 7:case"end":return n.stop()}},null,this,null,ze)},A(t,[{key:"bK",get:function(){return this.Dr.Ss}}]),t}(),lB=function(){function t(t){var n=this;this.Dr=new Ro,this.AK=void 0,this.gK=void 0,this._K=void 0,this.wK=void 0,this.mK=void 0,this.yK=void 0,this.Dr.Is(t);var i=this.Dr.Ss;i.then(function(t){n.AK=t}),this.gK=new dB(i.then(function(t){return t.gK})),this._K=new dB(i.then(function(t){return t._K})),this.wK=new dB(i.then(function(t){return t.wK})),this.mK=new dB(i.then(function(t){return t.mK})),this.yK=new dB(i.then(function(t){return t.yK}))}return t.prototype.kK=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this.AK,i.t0){i.next=5;break}return i.next=4,Er.awrap(this.TK);case 4:i.t0=i.sent;case 5:return n=i.t0,i.next=8,Er.awrap(n.kK(t));case 8:return i.abrupt("return",i.sent);case 9:case"end":return i.stop()}},null,this,null,ze)},A(t,[{key:"TK",get:function(){return this.Dr.Ss}}]),t}(),_B=function(){function t(){this.ou=[]}var n=t.prototype;return n.uK=function(t){return ze.resolve("temporary"===t)},n.oK=function(t){return this.SK(t.key),this.ou.push(t),ze.resolve()},n.hK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.SK(i.key)}for(var e=0;e<t.length;e++){var r=t[e];this.ou.push(r)}return ze.resolve()},n.as=function(t){return ze.resolve(Boolean(this.EK(t)))},n.cs=function(t){return ze.resolve(this.EK(t))},n.yY=function(t,n){return ze.resolve(this.RK(t,n))},n.aK=function(t){var n=this,i=t?t.map(function(t){return n.EK(t)}):this.ou;return ze.resolve(i.filter(F))},n.cK=function(){return ze.resolve([].concat(this.ou))},n.fK=function(t){return this.vK(t,"key")},n.vK=function(t,n){var i=this.ou.filter(function(i){return i[n]===t});return ze.resolve(i)},n.jo=function(t){return this.SK(t),ze.resolve()},n.dK=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.SK(i)}return ze.resolve()},n.lK=function(){return Ps(this.ou),ze.resolve()},n.EK=function(t){return this.RK(t,"key")},n.RK=function(t,n){for(var i=0,e=this.ou;i<e.length;i++){var r=e[i];if(r[n]===t)return r}},n.SK=function(t){var n=this.EK(t);n&&Cs(this.ou,n)},t}(),gB=function(){function t(){this._K=void 0,this.gK=void 0,this.wK=void 0,this.mK=void 0,this.yK=void 0,this._K=new _B,this.gK=new _B,this.wK=new _B,this.mK=new _B,this.yK=new _B}return t.KG=function(){return ze.resolve(new t)},t.prototype.kK=function(t){return t(this)},t}(),wB=function(){function t(t){this.IK=t}var n=t.prototype;return n.uK=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.IK;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Er.awrap(e.uK(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,ze)},n.oK=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.IK;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,Er.awrap(r.uK(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.oK(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,ze)},n.hK=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.IK;case 1:if(!(i<e.length)){s.next=10;break}return r=e[i],s.next=5,Er.awrap(r.uK(n));case 5:if(!s.sent){s.next=7;break}return s.abrupt("return",r.hK(t));case 7:i++,s.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+n);case 11:case"end":return s.stop()}},null,this,null,ze)},n.as=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.IK;case 1:if(!(n<i.length)){r.next=10;break}return e=i[n],r.next=5,Er.awrap(e.as(t));case 5:if(!r.sent){r.next=7;break}return r.abrupt("return",!0);case 7:n++,r.next=1;break;case 10:return r.abrupt("return",!1);case 11:case"end":return r.stop()}},null,this,null,ze)},n.cs=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=0,i=this.IK;case 1:if(!(n<i.length)){s.next=11;break}return e=i[n],s.next=5,Er.awrap(e.cs(t));case 5:if(!(r=s.sent)){s.next=8;break}return s.abrupt("return",r);case 8:n++,s.next=1;break;case 11:return s.abrupt("return",void 0);case 12:case"end":return s.stop()}},null,this,null,ze)},n.yY=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=0,e=this.IK;case 1:if(!(i<e.length)){u.next=11;break}return r=e[i],u.next=5,Er.awrap(r.yY(t,n));case 5:if(!(s=u.sent)){u.next=8;break}return u.abrupt("return",s);case 8:i++,u.next=1;break;case 11:return u.abrupt("return",void 0);case 12:case"end":return u.stop()}},null,this,null,ze)},n.aK=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.IK;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Er.awrap(r.aK(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,ze)},n.cK=function(){var t,n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:t=[],n=0,i=this.IK;case 2:if(!(n<i.length)){r.next=13;break}return e=i[n],r.t0=t.push,r.t1=t,r.next=8,Er.awrap(e.cK());case 8:r.t2=r.sent,r.t0.apply.call(r.t0,r.t1,r.t2);case 10:n++,r.next=2;break;case 13:return r.abrupt("return",t);case 14:case"end":return r.stop()}},null,this,null,ze)},n.fK=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:n=[],i=0,e=this.IK;case 2:if(!(i<e.length)){s.next=13;break}return r=e[i],s.t0=n.push,s.t1=n,s.next=8,Er.awrap(r.fK(t));case 8:s.t2=s.sent,s.t0.apply.call(s.t0,s.t1,s.t2);case 10:i++,s.next=2;break;case 13:return s.abrupt("return",n);case 14:case"end":return s.stop()}},null,this,null,ze)},n.vK=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],e=0,r=this.IK;case 2:if(!(e<r.length)){u.next=13;break}return s=r[e],u.t0=i.push,u.t1=i,u.next=8,Er.awrap(s.vK(t,n));case 8:u.t2=u.sent,u.t0.apply.call(u.t0,u.t1,u.t2);case 10:e++,u.next=2;break;case 13:return u.abrupt("return",i);case 14:case"end":return u.stop()}},null,this,null,ze)},n.jo=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.IK;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Er.awrap(e.jo(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,ze)},n.dK=function(t){var n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:n=0,i=this.IK;case 1:if(!(n<i.length)){r.next=8;break}return e=i[n],r.next=5,Er.awrap(e.dK(t));case 5:n++,r.next=1;break;case 8:case"end":return r.stop()}},null,this,null,ze)},n.lK=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=this.IK;case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,Er.awrap(i.lK());case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}},null,this,null,ze)},t}();function mB(t){return function(){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(ze.all(t.map(function(t){return t()})));case 2:return n=i.sent,i.abrupt("return",yB.KG(n));case 4:case"end":return i.stop()}},null,null,null,ze)}}var yB=function(){function t(t){this.NK=void 0,this.DK=void 0,this.CK=void 0,this.xK=void 0,this.PK=void 0,this.BK=void 0,this.NK=t,this.DK=new wB(t.map(function(t){return t.mK})),this.CK=new wB(t.map(function(t){return t.yK})),this.xK=new wB(t.map(function(t){return t.wK})),this.PK=new wB(t.map(function(t){return t._K})),this.BK=new wB(t.map(function(t){return t.gK}))}return t.KG=function(n){return ze.resolve(new t(n))},t.prototype.kK=function(n){var i=this;if(0===this.NK.length)return n(this);var e=[],r=0;return this.NK[r].kK(function s(u){return e.push(u),++r<i.NK.length?i.NK[r].kK(s):n(new t(e))})},A(t,[{key:"mK",get:function(){return this.DK}},{key:"yK",get:function(){return this.CK}},{key:"wK",get:function(){return this.xK}},{key:"_K",get:function(){return this.PK}},{key:"gK",get:function(){return this.BK}}]),t}(),kB=function(){function t(t){this.LK=void 0,this.MK=[],this.UK=!0,this.LK=t}var n=t.prototype;return n.KG=function(){return new lB(this.FK())},n.FK=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.UK){e.next=4;break}return e.next=3,Er.awrap(ze.resolve());case 3:this.UK=!1;case 4:t=0,n=this.MK;case 5:if(!(t<n.length)){e.next=18;break}return i=n[t],e.prev=7,e.next=10,Er.awrap(mB([gB.KG,i])());case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(7);case 15:t++,e.next=5;break;case 18:return e.next=20,Er.awrap(mB([gB.KG,this.LK])());case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}},null,this,[[7,13]],ze)},n.hL=function(t){if(!this.UK)throw new v("Registration overdue");this.MK.push(t)},t}(),pB=function(){function t(){}return t.hL=function(n){t.PS.hL(n)},A(t,null,[{key:"Rn",get:function(){return t.HK||(t.HK=t.PS.KG()),t.HK}}]),t}();function bB(t){return S_(t)}function AB(t,n){var i=S_(t);return n?""+i+n:""+i}function TB(t,n,i,e,r,s,u,o){var h=new Gc;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new p_({Mf:t,xf:i,Cf:h,sv:s,tv:g_.GET,nr:w_.zf,ev:e,rv:r,Pr:u,uv:o})}pB.PS=new kB(fB.KG),pB.HK=void 0;var SB=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this)||this).rp=void 0,a.oj=void 0,a.xf=void 0,a.ev=void 0,a.rv=void 0,a.zK=void 0,a.mA=void 0,a.VK=void 0,a.WK=void 0,a.kC=void 0,a.XK=void 0,a.pv=null,a.qK=void 0,a.kf=new Fs,a.GK=function(t,n){return a.uv(t,n)},a.rp=n,a.oj=i,a.xf=e,a.ev=r,a.rv=s,a.zK=u,a.kC=o,a.XK=new RB,a.mA=h,a.VK=pB.Rn._K,a.WK=pB.Rn.gK,a}S(n,t);var i=n.prototype;return i.RR=function(){return this.QK(this.kf.Pr)},i.QK=function(t){var n,i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return DP(n=this.oj)?(i=n.oj,e=[n.hj.RR,n.hj.NR]):(i=n,e=void 0),this.XK.YK(),h.prev=3,h.next=6,Er.awrap(this.jK(i,e));case 6:if(r=h.sent,Vs(t),r){h.next=12;break}return h.next=11,Er.awrap(this.ZK(i,e,t));case 11:r=h.sent;case 12:return h.next=14,Er.awrap(r.ai());case 14:s=h.sent,Vs(t),this.JK(s,r.Df),h.next=28;break;case 19:if(h.prev=19,h.t0=h.catch(3),!zs(h.t0)){h.next=25;break}return h.abrupt("return");case 25:o=h.t0 instanceof x_?h.t0.pv.Df:0,u=new v('Could not load fragment: "'+this.oj+'", HTTP status '+o);case 27:return h.abrupt("return",this.$K(u));case 28:case"end":return h.stop()}},null,this,[[3,19]],ze)},i.jK=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,i=AB(t,n),u.next=4,Er.awrap(this.VK.as(i));case 4:if(!u.sent){u.next=11;break}return u.next=7,Er.awrap(this.WK.cs(i));case 7:return e=u.sent,r=TB(t,n,this.xf,this.ev,this.rv,this.zK),s=e.data.buffer,u.abrupt("return",new k_({ai:s,Cf:{},Bf:r,Lf:t,xf:this.xf,Df:200,Of:""}));case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(0);case 16:return u.abrupt("return",null);case 17:case"end":return u.stop()}},null,this,[[0,13]],ze)},i.ZK=function(t,n,i){var e=TB(t,n,this.xf,this.ev,this.rv,this.zK,i,this.GK);return this.mA.Bf(e)},i.uv=function(t,n){var i={type:"x$",Bf:this,KK:t,n0:n=void 0===n?NaN:n};this.XK.i0(t,n),this.dispatchEvent(i)},i.JK=function(t,n){var i=this.xf===qc.za?t.byteLength:0;this.XK.e0(i),this.xf===qc.On?this.pv=t:this.pv=new y(t),this.qK=n,t=null,this.$K(),this.pv=null},i.Cr=function(t){return this.kf.Cr(),t||((t=new v('Aborted fragment load: "'+this.oj+'"')).aborted=!0),this.$K(t)},i.$K=function(t){this.XK.r0();var n={type:"tg",Bf:this};return this.dispatchEvent(n),this.kC(t||null,this)},n}(aP);function EB(){return ER()/1e3}var RB=function(t){function n(){var n;return(n=t.call(this)||this).s0=NaN,n.u0=NaN,n.o0=NaN,n.h0=NaN,n.a0=0,n.c0=NaN,n.s0=EB(),n}S(n,t);var i=n.prototype;return i.YK=function(){this.s0=EB(),this.dispatchEvent("Zo")},i.i0=function(t,n){this.o0=EB(),this.Q$||(this.u0=this.o0),this.a0=t,this.c0=n||this.c0||NaN,this.dispatchEvent("Zo")},i.e0=function(t){this.i0(t,t)},i.r0=function(){this.h0=EB(),this.dispatchEvent("Zo")},A(n,[{key:"Q$",get:function(){return!m(this.u0)}},{key:"f0",get:function(){return!m(this.h0)}},{key:"v0",get:function(){return(this.u0||EB())-this.s0}},{key:"d0",get:function(){return(this.h0||this.o0)-this.u0}},{key:"l0",get:function(){return(this.h0||this.o0)-this.s0}}]),n}(aP),IB=function(t){function n(n,i){var e;return(e=t.call(this)||this).zK=void 0,e._0=[],e.g0=null,e.w0=function(t){return e.m0(t)},e.mA=void 0,e.zK=!(!i||i.crossOrigin!==sm.$l),e.mA=n,e}S(n,t);var i=n.prototype;return i.Yo=function(t,n,i,e,r,s){var u=new SB(t,n,i,e,r,this.zK,s,this.mA);return u.addEventListener("tg",this.w0),this._0.push(u),this.y0(),u},i.k0=function(t,n,i,e,r){var s=this;return new ze(function(u,o){s.Yo(t,n,i,e,r,function(t,n){t?o(t):u(n.pv)})})},i.ds=function(t,n){var i=function(t){return!n||t.rp===n},e=this._0.filter(i);!t&&this.g0&&i(this.g0)&&e.push(this.g0);for(var r=0;r<e.length;r++){e[r].Cr()}return e},i.y0=function(){if(!this.g0){var t=this._0.shift();t&&(this.g0=t,t.RR())}},i.m0=function(t){var n=t.Bf,i=this._0.indexOf(n);-1!==i&&xs(this._0,i),this.g0===n&&(this.g0=null,this.y0())},n}(aP);function NB(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function DB(t){return{get length(){return t.length},start:function(n){return NB(t,n|=0),t.start(n)},end:function(n){return NB(t,n|=0),t.end(n)}}}function CB(t,n){return t.RR-n.RR}var xB=function(){function t(t){this.p0=void 0,this.p0=t}var n=t.prototype;return n.start=function(t){return this.p0[t].RR},n.end=function(t){return this.p0[t].NR},n.b0=function(){return this.p0},A(t,[{key:"length",get:function(){return this.p0.length}}]),t}(),OB=new xB([]),PB=new xB([{RR:-1/0,NR:1/0}]);function BB(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var e=[],r=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);r<=o&&s>=h||(s+n>=o?s=h:(e.push({RR:r,NR:s}),r=o,s=h))}return e.push({RR:r,NR:s}),new xB(e)}(function(t){var n=HB(t);return n.sort(CB),new xB(n)}(t),n)}function LB(t,n){for(var i=[],e=0,r=0;e<t.length&&r<n.length;){var s=_.max(t.start(e),n.start(r)),u=_.min(t.end(e),n.end(r));s<u&&i.push({RR:s,NR:u}),t.end(e)<n.end(r)?e+=1:r+=1}return new xB(i)}function MB(t){var n=t.length;if(!n)return PB;var i=[],e=t.start(0);e!==-1/0&&i.push({RR:-1/0,NR:e});for(var r=0;r<n-1;r+=1)i.push({RR:t.end(r),NR:t.start(r+1)});var s=t.end(n-1);return s!==1/0&&i.push({RR:s,NR:1/0}),new xB(i)}function UB(t,n){return-1!==FB(t,n)}function FB(t,n){return function(t,n,i,e){n+=e=+e||0,i-=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<=n&&i<=t.end(r))return r;return-1}(t,n,n)}function HB(t){if(t instanceof xB)return t.b0();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({RR:t.start(i),NR:t.end(i)});return n}function zB(t,n){return i=[t,n],r=(e=r=[]).concat.apply(e,i.map(HB)),BB(new xB(r));var i,e,r}var VB=.001;function WB(t,n,i){return i=+i||0,t.RR-i<=n.NR&&n.RR<=t.NR+i}function XB(t){var n={RR:NaN,NR:NaN,BY:t};return qB(n),n}function qB(t){var n=t.BY;n.length?(n.sort(CB),t.RR=n[0].RR,t.NR=n[n.length-1].NR):(t.RR=NaN,t.NR=NaN)}function GB(t){return void 0!==t.BY}function QB(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=_.max(s.RR,n),o=_.min(s.NR,i);if(u<o){var h=void 0;h=s.RR===u&&s.NR===o?s:{RR:u,NR:o,dp:s.dp},e.push(h)}}return e}function YB(t,n){var i=_.min(t.RR,n.RR),e=_.max(t.NR,n.NR),r=t.BY,s=n.BY,u=r.concat(s),o=r.length?r[r.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.dp===h.dp&&WB(o,h,VB)&&u.splice(r.length-1,2,function(t,n){var i=t.dp||n.dp;return{RR:_.min(t.RR,n.RR),NR:_.max(t.NR,n.NR),dp:i}}(o,h)),XB(u=QB(u,i,e))}var jB,ZB,JB,$B=function(){function t(t,n){this.p0=void 0,this.p0=function(t){for(var n=[],i=0;i<t.length;i+=1){var e=t[i],r=void 0;GB(e)?qB(r=e):r=XB([e]),r.BY.length&&r.RR<r.NR&&n.push(r)}return n}(t),n||this.A0()}var n=t.prototype;return n.start=function(t){return this.p0[t]&&this.p0[t].RR},n.end=function(t){return this.p0[t]&&this.p0[t].NR},n.BY=function(t){return this.p0[t]&&this.p0[t].BY},n.T0=function(t,n){return this.S0(t,t,n)},n.S0=function(t,n,i){t+=i=+i||0,n-=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<=t&&n<=this.end(e))return e;return-1},n.E0=function(t,n,i){t-=i=+i||0,n+=i;for(var e=0;e<this.length;e+=1)if(this.start(e)<n&&t<this.end(e))return e;return-1},n.R0=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.I0=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Mg=function(t){return-1!==this.T0(t)},n.KR=function(t,n,i){return-1!==this.S0(t,n,i)},n.nI=function(t,n,i){return-1!==this.E0(t,n,i)},n.WR=function(t){for(var n=[],i=0,e=0;i<this.length&&e<t.length;){var r=_.max(this.start(i),t.start(e)),s=_.min(this.end(i),t.end(e));if(r<s){var u=QB(this.BY(i),r,s);n.push(XB(u))}this.end(i)<t.end(e)?i+=1:e+=1}return this.KG(n,!0)},n.Hw=function(t){return this.length&&t.length?this.WR(MB(t)):this},n.jR=function(t){return this.length?t.length?this.KG(this.p0.concat(t.p0)):this:t},n.N0=function(t){for(var n=[],i=0,e=this.p0;i<e.length;i++)for(var r=0,s=e[i].BY;r<s.length;r++){var u=t(s[r]);u&&n.push(u)}return this.KG(n)},n.rI=function(t){return this.N0(function(n){return t(n)?n:null})},n.D0=function(){if(!this.length)return this;for(var t=this.p0.slice(),n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&this.C0(i,e)&&(t.splice(n,2,YB(i,e)),n-=1)}return this.KG(t,!0)},n.C0=function(t,n){var i=t.BY,e=n.BY,r=i.length?i[i.length-1]:null,s=e.length?e[0]:null;return r&&s&&this.x0(r,s)},n.A0=function(){var t=this.p0;t.sort(CB);for(var n=0;n<t.length-1;n+=1){var i=t[n],e=t[n+1];e&&WB(i,e,VB)&&(t.splice(n,2,YB(i,e)),n-=1)}},A(t,[{key:"length",get:function(){return this.p0.length}}]),t}(),KB=function(t){function n(n,i){return t.call(this,n,i)||this}S(n,t);var i=n.prototype;return i.KG=function(t,i){return new n(t,i)},i.x0=function(t,n){return n.dp.sZ===t.dp.sZ&&n.dp._Y===t.dp._Y+1},n}($B);function tL(t,n){for(var i=[],e=0;e<n.length;e++){var r=n[e],s=t.O0(r),u=t.P0(r,s);i.push({RR:s.Nw(),NR:u.Nw(),dp:r})}return new KB(i).D0()}function nL(t){return t.B0!==jB.L0}function iL(t){return 0===t.B0}function eL(t){return t.B0>=0}function rL(t,n){for(var i=[],e=0;e<n.length;e++)for(var r=!1,s=0,u=n.BY(e);s<u.length;s++){var o=u[s];if(!r){var h=o.dp;if(CP(h)&&nL(h)){if((r=eL(h))&&!iL(h)){var a=t.M0(h,h.U0).Nw();o={RR:_.max(o.RR,a),NR:o.NR,dp:h}}}else r=!0;0}r&&i.push(o)}return new KB(i)}(ZB=jB||(jB={})).L0=-1,ZB.F0=-2,function(t){t.H0="h.264",t.z0="mp3",t.V0="aac-lc",t.W0="he-aac"}(JB||(JB={}));var sL,uL,oL,hL,aL=function(){function t(){this.X0=0,this.p0=[],this.tA={}}var n=t.prototype;return n.q0=function(t){this.p0=this.p0.concat(t.p0),this.X0+=t.sl},n.G0=function(t,n,i){var e=this.X0,r=i-n;r>0&&(this.p0.push({Q0:n,Y0:i,j0:r,Z0:e,J0:t}),this.X0+=r)},n.cs=function(t){for(var n=0,i=this.p0;n<i.length;n++){var e=i[n];if(e.Z0<=t&&t<e.Z0+e.j0)return e.J0[t+e.Q0-e.Z0]}},n.$0=function(t,n){for(var i=n,e=0,r=this.p0;e<r.length;e++)for(var s=r[e],u=s.Y0,o=s.Q0;o<u;o+=1,i+=1)t[i]=s.J0[o];return i},n.K0=function(){for(var t=new y(this.X0),n=0,i=0,e=this.p0;i<e.length;i++)for(var r=e[i],s=r.Y0,u=r.Q0;u<s;u+=1,n+=1)t[n]=r.J0[u];return t},n.ks=function(n){for(var i=new t,e=0,r=this.p0;e<r.length;e++){var s=r[e];i.G0(s.J0,s.Q0,s.Y0)}return i.tA=n||Rr({},this.tA),i},A(t,[{key:"sl",get:function(){return this.X0},set:function(t){var n=this.p0,i=this.X0-t;if(!(t>=this.X0))if(this.X0=t,0!==t)for(var e=n.length-1;e>=0;e-=1){var r=n[e];if(i<=r.j0)return r.Y0-=i,r.j0-=i,void(n.length!==e+1&&(n.length=e+1));i-=r.j0}else n.length=0}},{key:"ai",get:function(){for(var t=new Array(this.X0),n=0,i=0,e=this.p0;i<e.length;i++)for(var r=e[i],s=r.Y0,u=r.Q0;u<s;u+=1,n+=1)t[n]=r.J0[u];return t}}]),t}();function cL(t,n){return{audio:t.audio?wL(t.audio,n):void 0,video:t.video?AL(t.video,n):void 0,n1:t.n1?(i=t.n1,{i1:i.i1,yJ:i.yJ,El:i.El,e1:i.e1,s1:i.s1,u1:i.u1,o1:i.o1.map(fL),Cl:[]}):void 0,h1:t.h1?t.h1.map(dL):t.h1,a1:t.a1.qm()};var i}function fL(t){return{Ak:t.Ak,tA:{c1:t.tA.c1,f1:t.tA.v1.qm()},FH:t.FH}}function vL(t){return{Ak:t.Ak,tA:{c1:t.tA.c1,v1:kk(t.tA.f1)},FH:t.FH}}function dL(t){return{v1:t.v1.qm(),wb:t.wb,d1:t.d1,l1:t.l1,nr:t.nr,WX:t.WX,_1:t._1,g1:t.g1}}function lL(t){return{v1:kk(t.v1),wb:t.wb,d1:t.d1,l1:t.l1,nr:t.nr,WX:t.WX,_1:t._1,g1:t.g1}}function _L(t){return{i1:t.i1,FH:[],w1:t.w1,m1:t.m1,duration:t.duration,b1:t.b1,A1:t.A1.qm(),T1:t.T1,S1:t.S1.qm(),E1:t.E1,R1:t.R1.qm(),I1:t.I1.qm(),N1:t.N1.qm(),D1:t.D1.qm(),C1:t.C1.qm(),O1:t.O1.qm(),P1:t.P1.qm()}}function gL(t){return{i1:t.i1,FH:[],w1:t.w1,m1:t.m1,duration:t.duration,b1:t.b1,A1:kk(t.A1),T1:t.T1,S1:kk(t.S1),E1:t.E1,R1:kk(t.R1),I1:kk(t.I1),N1:kk(t.N1),D1:kk(t.D1),C1:kk(t.C1),O1:kk(t.O1),P1:kk(t.P1)}}function wL(t,n){switch(t.w1){case JB.V0:case JB.W0:return function(t,n){return Rr({},yL(t),{w1:t.w1,FH:t.FH.map(function(t){return function(t,n){var i=(e=t.tA,Rr({},EL(e),{B1:e.B1,L1:e.L1,M1:e.M1}));var e;return pL(t.ks(i),n)}(t,n)}),LZ:t.LZ,U1:t.U1})}(t,n);case JB.z0:return function(t,n){return Rr({},yL(t),{w1:t.w1,FH:t.FH.map(function(t){return function(t,n){var i=(e=t.tA,Rr({},EL(e),{Ik:e.Ik,sp:e.sp,F1:e.F1,H1:e.H1,z1:e.z1}));var e;return pL(t.ks(i),n)}(t,n)})})}(t,n)}}function mL(t){switch(t.w1){case JB.V0:case JB.W0:return function(t){return Rr({},kL(t),{w1:t.w1,FH:t.FH.map(function(t){return function(t){var n=bL(t),i=(e=n.tA,Rr({},RL(e),{B1:e.B1,L1:e.L1,M1:e.M1}));var e;return n.ks(i)}(t)}),LZ:t.LZ,U1:t.U1})}(t);case JB.z0:return function(t){return Rr({},kL(t),{w1:t.w1,FH:t.FH.map(function(t){return function(t){var n=bL(t),i=(e=n.tA,Rr({},RL(e),{Ik:e.Ik,sp:e.sp,F1:e.F1,H1:e.H1,z1:e.z1}));var e;return n.ks(i)}(t)})})}(t)}}function yL(t){return Rr({},_L(t),{FH:[],w1:t.w1,V1:t.V1,W1:t.W1,X1:t.X1,q1:t.q1})}function kL(t){return Rr({},gL(t),{FH:[],w1:t.w1,V1:t.V1,W1:t.W1,X1:t.X1,q1:t.q1})}function pL(t,n){var i=t.K0();return n.push(i.buffer),{G1:i,Q1:t.sl,Y1:t.tA}}function bL(t){var n=new aL;return n.G0(t.G1,0,t.Q1),n.tA=t.Y1,n}function AL(t,n){return Rr({},_L(t),{w1:t.w1,FH:t.FH.map(function(t){return function(t,n){var i=(e=t.tA,Rr({},TL(e),{d_:e.d_,j1:e.j1.qm(),Z1:e.Z1,J1:e.J1,K1:e.K1&&e.K1.qm(),n2:e.n2&&e.n2.qm(),i2:e.i2,e2:e.e2,h1:e.h1,s2:e.s2}));var e;return pL(t.ks(i),n)}(t,n)}),u2:t.u2,o2:t.o2,Gp:t.Gp,width:t.width,height:t.height,h2:t.h2,a2:t.a2,c2:t.c2,DZ:t.DZ,CZ:t.CZ,ub:t.ub,ob:t.ob})}function TL(t){var n;return Rr({},{c1:(n=t).c1,f1:n.f1.qm()},{f2:t.f2.qm(),v2:t.v2.qm()})}function SL(t){var n;return Rr({},{c1:(n=t).c1,f1:kk(n.f1)},{f2:kk(t.f2),v2:kk(t.v2)})}function EL(t){return Rr({},TL(t))}function RL(t){return Rr({},SL(t))}!function(t){t.d2="l2",t._2="g2"}(sL||(sL={})),function(t){t.w2="m2",t.hY="b2"}(uL||(uL={})),function(t){t.A2="T2",t._2="g2"}(oL||(oL={})),function(t){t.S2="E2",t.R2="I2"}(hL||(hL={}));var IL=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).data=i,e}return S(n,t),n}(ru),NL=["message","messageerror","error"],DL=function(t){function n(n){var i;return(i=t.call(this,Xw.Sl)||this).error=n,i}return S(n,t),n}(ru),CL=function(t){function n(n){var i;return(i=t.call(this)||this).N2=void 0,i.D2=void 0,i.C2=[],i.O2=function(t){if(i.P2)t.B2();else{i.N2=t,i.N2.Hr(NL,i.Ur);for(var n=0,e=i.C2;n<e.length;n++){var r=e[n];t.L2(r.Jr,r.M2)}Ps(i.C2)}},i.U2=function(t){if(!i.P2){var n=t instanceof v?t:new v("Could not create Worker.");i.Fr(new DL(n)),i.B2()}},i.D2=new Fs,n(i.D2.Pr).then(i.O2,i.U2),i}S(n,t);var i=n.prototype;return i.L2=function(t,n){this.P2||(void 0!==this.N2?this.N2.L2(t,n):this.C2.push({Jr:t,M2:n}))},i.B2=function(){this.P2||(this.D2.Cr(),Ps(this.C2),void 0!==this.N2&&this.N2.B2())},A(n,[{key:"P2",get:function(){return this.D2.Pr.yr}}]),n}(iu);var xL=function(t){function n(n){var i;return(i=t.call(this)||this).N2=void 0,i.F2=function(t){i.Fr(new IL("message",t.data))},i.H2=function(t){i.Fr(new IL("messageerror",t.data))},i.pW=function(t){null==t.preventDefault||t.preventDefault();var n=t.error instanceof v?t.error:new v(t.message);i.Fr(new DL(n)),i.B2()},i.N2=new k(n),i.N2.addEventListener("message",i.F2),i.N2.addEventListener("messageerror",i.H2),i.N2.addEventListener("error",i.pW),i}S(n,t);var i=n.prototype;return i.L2=function(t,n){n?this.N2.postMessage(t,n):this.N2.postMessage(t)},i.B2=function(){this.Wr(),this.N2.removeEventListener("message",this.F2),this.N2.removeEventListener("messageerror",this.H2),this.N2.removeEventListener("error",this.pW),this.N2.terminate()},n}(iu),OL=0,PL="iframe.html",BL=function(n){function e(e,r){var u;(u=n.call(this)||this).Bo=void 0,u.z2=void 0,u.V2=void 0,u.W2=void 0,u.X2=function(){u.V2.removeEventListener("load",u.X2),u.V2.contentWindow.postMessage({type:"initialize",id:u.Bo,script:u.z2},"*")},u.q2=function(t){t.origin===u.W2&&t.data.id===u.Bo&&("initialized"===t.data.type||("error"===t.data.type?(u.Fr(new DL(new v(t.data.data.message))),u.B2()):u.Fr(new IL("message",t.data.data))))},u.Bo=OL++,u.z2=e;var o,h,a=i.Ce(PL,r);return u.V2=(o=a.href,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.W2=a.origin,u.V2.addEventListener("load",u.X2),t.addEventListener("message",u.q2),u}S(e,n);var r=e.prototype;return r.L2=function(t,n){n?this.V2.contentWindow.postMessage({type:"message",data:t},"*",n):this.V2.contentWindow.postMessage({type:"message",data:t},"*")},r.B2=function(){var n;this.V2.removeEventListener("load",this.X2),t.removeEventListener("message",this.q2),null==(n=this.V2.contentWindow)||n.postMessage({type:"terminate"},"*"),Ze(this.V2)},e}(iu);function LL(t,n){return t=i.xe(t,n),new CL(function(e){return function(t,n,e){var r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,r=new xL(t),v.next=4,Er.awrap(UL(r,e));case 4:return v.abrupt("return",r);case 7:v.prev=7,v.t0=v.catch(0),null==(s=r)||s.B2(),Ws(v.t0);case 11:if(!ML||!Vc){v.next=42;break}return v.prev=12,v.next=15,Er.awrap(i.kd.Bf({Mf:t,tv:g_.GET,xf:qc.On,Pr:e}));case 15:return o=v.sent,v.next=18,Er.awrap(o.lf(e));case 18:u=v.sent,v.next=25;break;case 21:throw v.prev=21,v.t1=v.catch(12),Ws(v.t1),FL(v.t1);case 25:return v.prev=25,a=Vc([u],{type:"application/javascript"}),h=URL.createObjectURL(a),r=new xL(h),v.next=31,Er.awrap(UL(r,e));case 31:return v.abrupt("return",r);case 34:v.prev=34,v.t2=v.catch(25),null==(c=r)||c.B2(),Ws(v.t2),ML=!1;case 39:return v.prev=39,h&&URL.revokeObjectURL(h),v.finish(39);case 42:return v.prev=42,r=new BL(t,n),v.next=46,Er.awrap(UL(r,e));case 46:return v.abrupt("return",r);case 49:throw v.prev=49,v.t3=v.catch(42),null==(f=r)||f.B2(),v.t3;case 53:case"end":return v.stop()}},null,null,[[0,7],[12,21],[25,34,39,42],[42,49]],ze)}(t,n,e)})}var ML=!0;function UL(t,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(t.Yr(["message","error"],i));case 2:if("error"!==(e=r.sent).type){r.next=5;break}throw FL(e.error);case 5:if(X(s=e.data)&&"3.7.0"===s.G2){r.next=7;break}throw new Tc(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check that the worker's version matches THEOplayer's version (3.7.0).");case 7:return r.abrupt("return",e);case 8:case"end":return r.stop()}var s},null,null,null,ze)}function FL(t){return new Tc(n.ErrorCode.CONFIGURATION_ERROR,"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation.",t)}function HL(t){var n=t.video,i=n&&n.FH;if(!n)return 0;if(!i)return NaN;for(var e=0;e<i.length;e+=1){if(i[e].tA.i2)return e}return NaN}function zL(t){var n=t.Q2.video,i=n&&n.FH;if(!n)return 0;if(!i)return NaN;for(var e=i.length-1;e>=0;e-=1){if(i[e].tA.i2)return e}return NaN}function VL(t){if(!t)return null;switch(t.w1){case JB.H0:return function(t){return t.Gp?"avc1."+(t.h2<16?"0":"")+((t.h2<<16)+(t.a2<<8)+t.c2).toString(16):null}(t);case JB.z0:return"mp4a.40.34";case JB.V0:return t.U1?"mp4a.40.5":"mp4a.40.2";case JB.W0:return"mp4a.40.5";default:return null}}function WL(t,n){var i=t.info,e=i.sZ,r=t.Q2,s=e.UY(t.info._Y-1),u=r.audio||void 0,o=r.video||void 0,h=u&&VL(u),a=o&&VL(o),c=(!u||h)&&(!o||a)?{Mj:h,Uj:a}:null,f=u&&!m(u.E1)?u.E1:null,v=o&&!m(o.E1)?o.E1:null,d=Dk(u&&u.I1,o&&o.I1),l=Dk(u&&u.N1,o&&o.N1),g=Ck(u&&u.O1,o&&o.O1),w=Ck(u&&u.P1,o&&o.P1),y=o&&o.A1.Lg(mk.Om(o.duration)),k=u&&u.A1.Lg(mk.Om(u.duration)),p=CP(s),b=p&&s.width||e.resolution&&e.resolution.width,A=p&&s.width||e.resolution&&e.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),Y2:i,duration:y&&k?mk.Em(y,k).Nw():(y||k||mk.jw).Nw(),j2:d,Z2:l,J2:g,K2:w,audio:{start:_.max(0,f||0),duration:u&&u.b1||0,w1:h,d$:u&&u.T1,j2:u&&u.I1,Z2:u&&u.N1,J2:u&&u.O1,K2:u&&u.P1},video:{start:_.max(0,v||0),duration:o&&o.b1||0,w1:a,d$:o&&o.T1,j2:o&&o.I1,Z2:o&&o.N1,J2:o&&o.O1,K2:o&&o.P1},pB:o?{width:o.width||b,height:o.height||A}:null,_Y:i._Y,size:n,quality:e,VZ:c,n3:i.n3,i3:i.i3}}function XL(t,n){var i,e,r,s,u={start:0,duration:0,w1:null,d$:null,j2:null,Z2:null,J2:null,K2:null};return"Mj"===n?(e=u,r=i=Rr({},u,t.video),s=t.pB):(e=i=Rr({},u,t.audio),r=u,s=null),{start:i.start,Y2:t.Y2,duration:i.duration,j2:i.j2,Z2:i.Z2,J2:i.J2,K2:i.K2,audio:e,video:r,pB:s,_Y:t._Y,size:t.size,quality:t.quality,VZ:t.VZ,n3:t.n3,i3:t.i3}}function qL(t,n){return t+"e3"+n._Y+"r3"+n.uri}var GL=function(t){function i(i){var e;return(e=t.call(this)||this).Ch=void 0,e.s3=Nr(),e.u3=void 0,e.o3=void 0,e.h3=function(t){var n=t.data,i=n.a3;if(e.s3.get(i))switch(n.c3){case uL.w2:0;var r=n.f3;e.v3(i,r);break;case uL.hY:var s=n.d3;e.l3(i,new vP(fP.rY,{code:s}));default:0}},e._3=function(t){var n,i,r,s,u=t.data,o=u.g3;if(e.s3.get(o))switch(u.w3){case hL.S2:0;var h=u.m3;e.y3(o,{audio:(n=h).audio?mL(n.audio):void 0,video:n.video?(r=n.video,s=gL(r),Rr({},s,{w1:r.w1,FH:r.FH.map(function(t){return function(t){var n,i=bL(t),e=Rr({},SL(n=i.tA),{d_:n.d_,j1:kk(n.j1),Z1:n.Z1,J1:n.J1,K1:n.K1&&kk(n.K1),n2:n.n2&&kk(n.n2),i2:n.i2,e2:n.e2,h1:n.h1,s2:n.s2});return i.ks(e)}(t)}),u2:r.u2,o2:r.o2,Gp:r.Gp,width:r.width,height:r.height,h2:r.h2,a2:r.a2,c2:r.c2,DZ:r.DZ,CZ:r.CZ,ub:r.ub,ob:r.ob})):void 0,n1:n.n1?(i=n.n1,{i1:i.i1,yJ:i.yJ,El:i.El,e1:i.e1,s1:i.s1,u1:i.u1,o1:i.o1.map(vL),Cl:[]}):void 0,h1:n.h1?n.h1.map(lL):n.h1,a1:kk(n.a1)});break;case hL.R2:var a=u.b3;e.l3(o,new vP(fP.rY,{code:a}));default:0}},e.A3=function(t){if(t.error instanceof Tc&&t.error.code===n.ErrorCode.CONFIGURATION_ERROR){var i={type:"ts",ts:new vP(fP.vY,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};ot(i.ts.info.code),e.dispatchEvent(i)}else 0},e.Ch=i,e.o3=e.T3(),e}S(i,t);var e=i.prototype;return e.Cr=function(t){var n=[];this.s3.forEach(function(i,e){t&&i.rp!==t||n.push(e)}),this.S3(n)},e.S3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.s3.delete(i)}if(t.length){if(this.u3){var e={E3:sL._2,R3:t};this.u3.L2(e)}if(this.o3){var r={I3:oL._2,N3:t};this.o3.L2(r)}}},e.l3=function(t,n){var i=this.s3.get(t);if(i){var e=i.kC;this.s3.delete(t),e(n)}},e.D3=function(t,n,i,e){this.u3||(this.u3=this.C3());var r={E3:sL.d2,x3:t,O3:n,P3:i,B3:e};this.u3.L2(r)},e.L3=function(t,n){this.o3||(this.o3=this.T3());var i={I3:oL.A2,M3:t,U3:n,F3:this.s3.get(t).H3};this.o3.L2(i)},e.v3=function(t,n){this.L3(t,n)},e.C3=function(){var t=LL("theoplayer.d.js",this.Ch.libraryLocation);return t.Hr("message",this.h3),t.Hr("error",this.A3),t},e.z3=function(t){var n=t.Q2.video,i=n&&n.FH&&n.FH[0];i&&i.tA.i2},e.y3=function(t,n){var i=this.s3.get(t),e=i.kC,r=i.V3,s={Q2:n,info:i.W3,metadata:null};this.z3(s),function(t){var n=t.info.sZ.UY(t.info._Y-1),i=t.Q2;t.info.i3=t.info.FY,n&&(i.audio||i.video?i.video&&!i.video.o2&&!i.video.u2&&i.video.T1&&n.qZ&&i.video.T1!==n.qZ?t.info.i3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.i3=!0):t.info.i3=!0)}(s),WL(s,r),function(t){var n=t.info,i=n.sZ,e=t.metadata,r=t.Q2;if(n.X3=mk.Om(e.duration),n.cj=r.audio&&r.audio.A1.Lg(mk.Om(r.audio.duration))||mk.jw,n.fj=r.video&&r.video.A1.Lg(mk.Om(r.video.duration))||mk.jw,n.q3=r.audio&&r.audio.A1||mk.jw,n.G3=r.video&&r.video.A1||mk.jw,n.Q3=e.audio.j2,n.Y3=e.audio.Z2,n.j3=e.video.j2,n.Z3=e.video.Z2,n.aj=e.j2,n.J3=e.Z2,n.K3=e.audio.J2,n.t4=e.audio.K2,n.n4=e.video.J2,n.i4=e.video.K2,n.J2=e.J2,n.K2=e.K2,r.video){var s=HL(t.Q2),u=r.video.FH&&r.video.FH[s];u?(n.B0=s,n.U0=u.tA.f2,n.e4=u.tA.v2):n.B0=jB.F0}else n.B0=jB.L0;n.qZ=r.video&&r.video.T1||0,n.width=r.video&&r.video.width||0,n.height=r.video&&r.video.height||0,i.dispatchEvent({type:"nJ",W3:t.info}),!i.resolution&&e.pB&&(i.resolution=e.pB),i.bandwidth||(i.bandwidth=8*e.size/e.duration),!e.VZ||i.VZ&&!i.VZ.Mj==!e.VZ.Mj&&!i.VZ.Uj==!e.VZ.Uj||i.FZ(e.VZ),r.audio&&void 0!==r.audio.LZ&&(i.LZ=r.audio.LZ),i.DZ=r.video&&r.video.DZ||i.DZ,i.CZ=r.video&&r.video.CZ||i.CZ,i.xZ=r.audio&&r.audio.i1||void 0,i.OZ=r.video&&r.video.i1||void 0,i.PZ=r.audio&&r.audio.w1||void 0,i.BZ=r.video&&r.video.w1||void 0,i.MZ=r.audio&&r.audio.T1||void 0,i.qZ=r.video&&r.video.T1||void 0}(s),this.s3.delete(t),e(null,s)},e.T3=function(){var t=LL("theoplayer.e.js",this.Ch.libraryLocation);return t.Hr("message",this._3),t.Hr("error",this.A3),t},e.r4=function(t,n,i,e){var r=this;t.getKey(e).then(function(t){var s=i;i=void 0,r.s3.has(n)&&r.D3(n,s,t,e.iv)}).catch(function(t){i=void 0,r.s3.has(n)&&r.l3(n,t)})},e.s4=function(t,n,i,e,r,s){var u=qL(t,e),o=e.sZ;this.s3.set(u,{rp:t,W3:e,H3:{u4:e.duration,VZ:o.VZ,DZ:o.DZ,CZ:o.CZ,xZ:o.xZ,OZ:o.OZ,PZ:o.PZ,BZ:o.BZ,LZ:!this.Ch.skipImplicitHEAACDetection&&o.LZ,o4:r},V3:i.length,kC:s}),e.key?this.r4(n,u,i,e.key):this.L3(u,i)},e.h4=function(t){var n=[];return this.s3.forEach(function(i){i.rp===t&&n.push(i.W3)}),n},e.a4=function(t,n){var i=qL(t,n);return this.s3.has(i)},e.hv=function(){this.Cr(),this.u3&&(this.u3.B2(),this.u3=void 0),this.o3&&(this.o3.B2(),this.o3=void 0)},i}(aP);function QL(t,n){return t+"c4"+n}function YL(t){return QL(t.sZ._l,t._Y)}function jL(t){return!(!t||!t.Q2)}var ZL=function(){function t(t,n,i){this.f4=void 0,this.jb=void 0,this.v4=[],this.d4=Nr(),this.l4=1,this._4=void 0,this.jb=t,this.f4=n,this._4=i}var n=t.prototype;return n.g4=function(t){var n=YL(t.info);if(this.d4.has(n))this.w4(t.info,t);else{this.v4.push(n),this.d4.set(n,t);for(var i=this.f4.m4+10;this.v4.length>8*this.y4&&this.b4>i*this.y4;){var e=this.d4.get(this.v4[0]),r=this._4.A4,s=null==e?void 0:e.info;if(s){var u=s.start,o=u+s.duration,h=new FS([u,o]),a=r,c=a+this.f4.m4;if(new FS([a,c]).WR(h).sl>0)break}this.d4.delete(this.v4.shift())}}},n.T4=function(t,n){var i=QL(t,n),e=this.d4.get(i),r=this.v4.indexOf(i);return!(!e||-1===r)&&(xs(this.v4,r),this.d4.delete(i),!0)},n.ds=function(){this.v4.length=0,this.d4.clear()},n.S4=function(){for(var t={},n=0,i=this.v4;n<i.length;n++){var e=i[n],r=this.d4.get(e);jL(r)&&(t[r.info.sZ._l]=(t[r.info.sZ._l]||0)+1)}return t},n.E4=function(t,n){var i=[],e=this.R4(t,n);if(!jL(e))return i;do{i.push(e),n+=1,e=this.R4(t,n)}while(jL(e));return i},n.I4=function(t,n){return!!this.R4(t,n)},n.N4=function(t,n){return jL(this.R4(t,n))},n.R4=function(t,n){return this.d4.get(QL(t,n))},n.w4=function(t,n){var i=YL(t),e=this.v4.indexOf(i);return-1!==e&&(xs(this.v4,e),this.v4.push(i),n&&this.d4.set(i,n),!0)},n.D4=function(){for(var t=[],n=0,i=this.v4;n<i.length;n++){var e=i[n],r=this.d4.get(e);t.push(r.info)}return t},n.C4=function(){for(var t=[],n=0,i=this.v4;n<i.length;n++){var e=i[n],r=this.d4.get(e);r&&jL(r)&&t.push(r.info)}return t},A(t,[{key:"b4",get:function(){for(var t=tL(this.jb,this.D4()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"y4",get:function(){return this.l4},set:function(t){t>0&&(this.l4=_.max(t,1))}}]),t}();var JL=L.dn?function(t,n){return Nk(t.f2,n.f2)}:function(t,n){return Nk(t.v2,n.v2)};function $L(t,n,i,e){if(!t)return i;if(!i)return t;if(t.w1===i.w1){var r,s,u=t.u2||i.u2;if(u)s=1/(r=t.S1.Lg(i.S1).ym(2)).Nw();else{if(t.T1!==i.T1)return;if(!t.S1.mw(i.S1))return;r=t.S1,s=t.T1}if(t.width===i.width&&t.height===i.height){var o,h=t.o2||i.o2||!t.S1.mw(i.S1);if(t.FH)if(i.FH)if(e)o=t.FH.concat(i.FH),KL(t.FH,i.FH,nM);else{!function(t,n,i){var e=t.length,r=mk.jw;t=ps(t,function(t,n){return JL(t.tA,n.tA).Cw(mk.jw)});for(var s=1;s<e;s+=1){var u=t[s-1].tA,o=t[s].tA,h=JL(o,u);h.Pw(mk.jw)&&(h=n),r=r.Lg(h),u.j1=h,u.d_=h.Nw()}if(e>0){var a=t[e-1].tA,c=mk.Sm(mk.Om(_.round(i-r.Nw())),n);a.j1=c,a.d_=c.Nw()}}(n.FH.concat(i.FH),r,n.duration+i.duration),o=t.FH.concat(i.FH),KL(t.FH,i.FH,nM)}else o=t.FH;else o=i.FH;return{w1:t.w1,h2:t.h2,c2:t.c2,a2:t.a2,T1:s,S1:r,u2:u,o2:h,width:t.width,height:t.height,DZ:t.DZ,CZ:t.CZ,Gp:t.Gp,duration:t.duration+i.duration,b1:t.b1+i.b1,A1:t.A1,E1:t.E1,R1:t.R1,I1:t.I1,N1:t.N1,D1:eM(i.D1,t.D1),C1:eM(i.C1,t.C1),O1:eM(i.O1,t.O1),P1:eM(i.P1,t.P1),FH:o,m1:t.m1||i.m1,ub:t.ub,ob:t.ob}}}}function KL(t,n,i){var e=n[0].tA.f1,r=t[t.length-1].tA.f1,s=e.Hw(r),u=Nk(e,r).Hw(s);if(!u.tm())for(var o=0;o<n.length;o++){i(n[o].tA,u)}}function tM(t,n){t.v2=t.v2.Lg(n),t.f2=t.f2.Lg(n),t.f1=t.f1.Lg(n)}function nM(t,n){tM(t,n),t.j1=t.j1.Lg(n),t.n2=iM(t.n2,n),t.K1=iM(t.K1,n)}function iM(t,n){if(t)return t.Lg(n)}function eM(t,n){return n.Lg(Nk(t,n))}function rM(t,n){var i={audio:void 0,video:void 0,a1:t.a1};if("video"===n){if(!t.audio)return i;i.audio={w1:t.audio.w1,T1:t.audio.T1,S1:t.audio.S1,duration:t.audio.duration,b1:t.audio.b1,A1:mk.jw,E1:t.audio.E1,R1:t.audio.R1,I1:t.audio.I1,N1:t.audio.N1,D1:t.audio.D1,C1:t.audio.C1,O1:t.audio.O1,P1:t.audio.P1,FH:t.audio.FH,q1:t.audio.q1,X1:t.audio.X1,m1:t.audio.m1,V1:t.audio.V1,W1:t.audio.W1}}if("audio"===n){if(!t.video)return i;i.video={w1:t.video.w1,h2:t.video.h2,c2:t.video.c2,a2:t.video.a2,T1:t.video.T1,S1:t.video.S1,u2:t.video.u2,o2:t.video.o2,width:t.video.width,height:t.video.height,DZ:t.video.DZ,CZ:t.video.CZ,ub:t.video.ub,ob:t.video.ob,Gp:t.video.Gp,duration:t.video.duration,b1:t.video.b1,A1:mk.jw,E1:t.video.E1,R1:t.video.R1,I1:t.video.I1,N1:t.video.N1,D1:t.video.D1,C1:t.video.C1,O1:t.video.O1,P1:t.video.P1,FH:t.video.FH,m1:t.video.m1}}return i}function sM(t,n,i,e){var r=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.w1===n.w1||!t.w1||!n.w1)&&t.T1===n.T1&&t.S1.mw(n.S1)&&t.X1===n.X1)return t.FH?n.FH?(i=t.FH.concat(n.FH),KL(t.FH,n.FH,tM)):i=t.FH:i=n.FH,{w1:t.w1,T1:t.T1,S1:t.S1,duration:t.duration+n.duration,b1:t.b1+n.b1,A1:t.A1,E1:t.E1,R1:t.R1,I1:t.I1,N1:t.N1,D1:eM(n.D1,t.D1),C1:eM(n.C1,t.C1),O1:eM(n.O1,t.O1),P1:eM(n.P1,t.P1),FH:i,X1:t.X1,q1:t.q1,m1:t.m1||n.m1,V1:t.V1,W1:t.W1}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||r){var s=$L(t.video?t.video:void 0,n.video,i.video,e);if(!t.video&&!i.video||s)return{audio:r,video:s,a1:t.a1}}}function uM(t){return rM(t,"audio")}function oM(t){return rM(t,"video")}var hM,aM,cM,fM=function(){function t(t){this.x4=void 0,this.zG=0,this.O4=0,this.x4=_.exp(_.log(.5)/t)}var n=t.prototype;return n.P4=function(t,n){var i=_.pow(this.x4,t),e=n*(1-i)+i*this.zG;m(e)||(this.zG=e,this.O4+=t)},n.B4=function(){var t=1-_.pow(this.x4,this.O4);return this.zG/t},t}(),vM=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.L4=void 0,this.M4=void 0,this.U4=0,this.F4=void 0,this.H4=5e5,this.L4=new fM(t),this.M4=new fM(n),this.F4=i}var n=t.prototype;return n.P4=function(t,n){var i=8e3*n/t,e=t/1e3;this.U4+=n,this.L4.P4(e,i),this.M4.P4(e,i)},n.B4=function(){return this.z4()?_.min(this.L4.B4(),this.M4.B4()):this.H4},n.z4=function(){return this.U4>=this.F4},t}(),dM=function(){function t(){this.L4=new fM(2),this.M4=new fM(5),this.V4=0,this.W4=1,this.H4=100}var n=t.prototype;return n.P4=function(t){this.V4+=1,this.L4.P4(1,t),this.M4.P4(1,t)},n.B4=function(){return this.z4()?_.min(this.L4.B4(),this.M4.B4()):this.H4},n.z4=function(){return this.V4>=this.W4},t}(),lM=function(){function t(t,n){var i=this;this.X4=void 0,this.Bf=void 0,this.XK=void 0,this.q4=!1,this.G4=0,this.Q4=0,this.Y4=function(){return i.j4()},this.X4=t,this.Bf=n,this.XK=n.XK,this.XK.addEventListener("Zo",this.Y4)}return t.prototype.j4=function(){var t=this.XK.a0,n=1e3*this.XK.d0,i=1e3*this.XK.v0;this.XK.Q$&&(this.q4||(this.X4.Z4(i),this.q4=!0),n>this.Q4&&(this.X4.J4(n-this.Q4,t-this.G4),this.G4=t,this.Q4=n))},t}(),_M=function(){function t(){this.K4=void 0,this.t6=void 0,this.K4=new vM,this.t6=new dM}var n=t.prototype;return n.n6=function(t){new lM(this,t)},n.J4=function(t,n){this.K4.P4(t,n)},n.Z4=function(t){this.t6.P4(t)},n.hv=function(){},A(t,[{key:"i6",get:function(){return this.t6.B4()/1e3}},{key:"e6",get:function(){return this.K4.B4()}}]),t}(),gM=function(){function t(){this.r6=Nr()}var n=t.prototype;return n.s6=function(t,n){var i,e,r=this.r6.get(t);return void 0!==r&&(i=r.oj,e=n,q(i)?i===e:function(t,n){return t.oj===n.oj&&t.hj.RR===n.hj.RR&&t.hj.NR===n.hj.NR}(i,e))},n.u6=function(t,n){if(this.s6(t,n))return this.r6.get(t).ai},n.o6=function(t,n,i){this.r6.set(t,{oj:n,ai:i})},n.ds=function(){this.r6.clear()},t}();!function(t){t[t.h6=0]="h6",t[t.a6=5]="a6",t[t.c6=13]="c6",t[t.f6=14]="f6",t[t.v6=15]="v6"}(hM||(hM={})),function(t){t[t.d6=0]="d6",t[t.l6=1]="l6",t[t._6=2]="_6",t[t.g6=11]="g6",t[t.w6=13]="w6",t[t.m6=14]="m6"}(aM||(aM={})),function(t){t[t.y6=0]="y6",t[t.k6=1]="k6",t[t.p6=2]="p6",t[t.b6=3]="b6",t[t.A6=4]="A6",t[t.T6=5]="T6",t[t.S6=6]="S6",t[t.E6=7]="E6"}(cM||(cM={}));var wM=5,mM=5,yM=.5;function kM(t){if(!t.Q2.video)return[];for(var n=[],i=0;i<t.Q2.video.FH.length;i++){var e=t.Q2.video.FH[i].tA;e.i2&&n.push({R6:i,I6:e.f2})}return n}var pM=mk.Om(.04),bM=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).f4=void 0,s.Ch=void 0,s.N6=void 0,s.mA=void 0,s.D6=void 0,s.C6=void 0,s.x6=void 0,s.O6=Nr(),s.P6=void 0,s.B6=Nr(),s.L6=1,s.Ch=n,s.N6=i,s.mA=e,s.D6=new gM,s.f4=r,s.C6=new IB(e,n),s.x6=new _M,s.P6=new GL(n),s.P6.addEventListener("ts",function(t){s.dispatchEvent(t)}),s}S(n,t);var i=n.prototype;return i.M6=function(t){this.P6.Cr(t),this.C6.ds(!1,t)},i.ds=function(t){this.M6(t),t?this.O6.get(t).ds():this.O6.forEach(function(t){return t.ds()})},i.hv=function(){this.Wr(),this.C6.ds(),this.O6.forEach(function(t){return t.ds()}),this.O6.clear(),this.P6.hv()},i.$d=function(t,n,i){if(!this.O6.has(t)){var e=new ZL(n,this.f4,i);e.y4=this.y4,this.O6.set(t,e)}},i.U6=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=String(n._l),!this.D6.s6(e,i)){u.next=3;break}return u.abrupt("return",this.D6.u6(e,i));case 3:return r=MP(n.WZ),u.t0=y,u.next=7,Er.awrap(this.C6.k0(t,i,qc.za,m_.Wf,r));case 7:return u.t1=u.sent,s=new u.t0(u.t1),this.D6.o6(e,i,s),u.abrupt("return",s);case 11:case"end":return u.stop()}},null,this,null,ze)},i.F6=function(t,n,i,e){var r=this.O6.get(t),s=r.R4(n.sZ._l,n._Y);if(r.N4(n.sZ._l,n._Y))r.w4(n),this.dispatchEvent({type:"H6",rp:t,z6:s});else{if(!s)return this.V6(t,n,i,e);r.w4(n),this.W6(t,n,i,s.X6)}return e&&e(),null},i.V6=function(t,n,i,e){var r=this,s=this.O6.get(t),u=function(t,n){return t+"q6"+n._Y+"r3"+n.uri}(t,n);if(this.B6.has(u))return null;this.B6.set(u,!0);var o=MP(n.sZ.WZ),h=this.C6.Yo(t,n.uri,qc.za,m_.Ff,o,function(o,a){return r.B6.delete(u),o?e&&e(o):(r.dispatchEvent({type:"G6",rp:t}),s.N4(n.sZ._l,n._Y)||s.g4({info:n,X6:h.pv}),r.F6(t,n,i),e&&e(o,a))});return this.x6.n6(h),h},i.W6=function(t,n,i,e){var r=this,s=this.O6.get(t);this.P6.a4(t,n)||(n&&n.key&&this.N6.getKey(n.key).catch(Z),this.P6.s4(t,this.N6,e,n,i,function(n,i){if(n)return r.dispatchEvent({type:"ts",ts:n});s.g4(i),r.dispatchEvent({type:"H6",rp:t,z6:i})}))},i.Q6=function(t,n,i){var e=i.length,r="Mj"===t?TM:SM;if(!AM(n,i))return null;if(e<=1)return i;for(var s=1;s<e;s+=1){var u=i[s],o=i[s-1];if(u.metadata.i3){if("Y6"===this.Ch.j6||r(u,o)){var h=i.splice(0,s);return AM(n,h)?h:this.Q6(t,n,i)}0}}return i},i.Z6=function(t,n,i,e){for(var r=this.O6.get(t).C4(),s=e.J6,u=function(t){var e=i[t],u=r.filter(function(t){return t.sZ===e}),o=tL(n,u),h=o.T0(s.Nw(),pM.Nw());if(h>=0&&mk.Om(o.end(h)).Hw(s).xw(pM))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.K6=function(t,n,i,e,r){if(!L.an)return!0;if(r.t5||this.Z6(t,n,i,r))return!0;var s=mk.Sm(e,r.n5);return r.J6.Hw(s).xw(mk.Om(2))},i.i5=function(t,n,i,e,r,s,u,o){var h=n.E4(r._l,s),a=this.Q6(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=e.O0(f.info),d=UM(t,e,f);if("Uj"!==t||function(t,n,i){return!!t&&t.dp.sZ===n&&i.xw(mk.Om(t.NR))&&i.Pw(mk.Om(t.NR).Lg(pM))}(i,r,d))return{BY:a,e5:mk.Em(v,d)};f.Q2.video&&(f=(a=CM(a,function(t,n,i,e){for(var r=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=kM(o),a=0;a<h.length;a++){var c=h[a];if(n.M0(o.info,c.I6).Dw(i.Hw(e)))return{r5:r,s5:s};r=u,s=c.R6}return{r5:r,s5:s}}(a,e,u,o)))[0]);if(d=UM(t,e,f),function(t){var n=t.Q2.video,i=n&&n.FH,e=i&&i[0],r=e&&e.tA.i2;if(!n)return!0;return!!r}(f))return{BY:a,e5:mk.Em(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=HL(t[n].Q2);if(!m(i))return{r5:n,s5:i}}return null}(a),_=mk.Sm(u,BM(t,e,r.UY(s)));if(f.info._Y===s){if(l&&(d=UM(t,e,(c=CM(a,l))[0]),_.Hw(d).xw(o)))return{BY:c,e5:mk.Em(v,d)};for(var g=s-1;n.N4(r._l,g);){var w=n.E4(r._l,g);if((f=(c=this.Q6(t,s,w))&&c[0]&&DM(c[0],zL(c[0])))&&(d=UM(t,e,f),_.Hw(d).xw(o)))return c[0]=f,{BY:c,e5:mk.Em(v,d)};g-=1}}return function(t){if(t.FY)return!1;var n=t.sZ;if(n.MY&&n.MY.live)return!1;if(!n.UY(t._Y-1))return!1;return!0}(a[0].info)?null:l?{BY:a=CM(a,l),e5:v}:null},i.u5=function(t,n,i,e,r,s,u,o,h,a,c){var f=s.o5(o,h,n),v=f&&f.dp;if(!v)return null;var d=v._Y;do{var l=d,_=o.UY(l),g=BM(n,s,_);if(!LM(n,s,_).Lw(h)||_.n3){if(g.Lg(pM).Dw(a))break;if(mk.Sm(mk.jw,h.Hw(g)).Lw(c)&&i.N4(o._l,l-1)&&i.N4(o._l,l))i.R4(o._l,l).metadata.i3||(l-=1);var w=this.h5(t,n,i,e,r,s,u,o,l,h,c);if(w&&(NM(w,h,a)||w.t5))return w}}while(i.N4(o._l,++d));return null},i.h5=function(t,n,i,e,r,s,u,o,h,a,c){var f=o.UY(h),v=this.i5(n,i,e,s,o,h,a,c),d=v&&v.BY,l=v&&v.e5,g=d&&d[d.length-1],w=g&&g.metadata.n3;if(!(d=function(t,n){if(!n||!n.length)return n;var i="Mj"===t?EM:RM;return n.map(i).filter(IM)}(n,d))||!d.length){if(w){var m=[],y=s.O0(g.info);return m.a5=y,m.c5=y,m.n5=y,m.f5=y,m.J6=y,m.t5=w,m}return null}var k=d="Uj"===n?function(t,n,i){var e=i[0].Q2.video;return i[0].info.FY?function(t,n,i,e){var r=Ds(e.FH,function(t){return t.tA.i2});if(r<0)return i;var s=e.FH[r].tA,u=n.M0(i[0].info,s.f2),o=FM(t,u);if(o.zw())return i;var h=u.Hw(o).Rm(pk,lk.Xm);if(h.Pw(mk.jw))return i;var a=VM(e.FH.slice(r),h);return i[0]=OM(i[0],a),i}(t,n,i,e):function(t,n,i,e){var r=e.S1._m(wM),s=e.FH[0].tA,u=n.M0(i[0].info,s.v2),o=HM(t,u,r);if(o.zw())return i;var h=u.Hw(o).Rm(pk,lk.Xm);if(h.Pw(mk.jw)||h.Dw(r))return i;var a=VM(e.FH,h);return i[0]=OM(i[0],a),i}(t,n,i,e)}(r,s,d):function(t,n,i){var e;if((null==(e=i[0].Q2.audio)?void 0:e.w1)===JB.z0)return i;var r=i[0].Q2.audio,s=r.FH[0].tA;return i[0].info.FY?function(t,n,i,e,r){var s=n.M0(i[0].info,r.f2),u=FM(t,s);if(u.zw())return i;var o=s.Hw(u).Nw(),h=_.floor(o/e.S1.Nw());if(h<=0)return i;var a=zM(e,h);return i[0]=xM(i[0],a),i}(t,n,i,r,s):function(t,n,i,e,r){var s=n.M0(i[0].info,r.v2),u=HM(t,s,e.S1._m(mM));if(u.zw())return i;var o=s.Hw(u).Nw(),h=_.round(o/e.S1.Nw());if(0===h||_.abs(h)>mM)return i;var a=zM(e,h);return i[0]=xM(i[0],a),i}(t,n,i,r,s)}(r,s,d),p=k[0];if(f._Y<p.info._Y&&(l=s.O0(f)),k.a5=l,k.c5=function(t,n,i){return n.M0(i.info,MM(t,i).Z2)}(n,s,p),k.n5=UM(n,s,p),k.f5=function(t,n,i){return n.M0(i.info,MM(t,i).K2)}(n,s,k[k.length-1]),k.J6=function(t,n,i){return n.M0(i.info,MM(t,i).J2)}(n,s,k[k.length-1]),k.t5=w,!this.K6(t,s,u,a,k))return null;var b=p.Q2.video;return!b||(b.DZ=b.DZ||o.DZ,b.CZ=b.CZ||o.CZ,b.DZ&&b.CZ)?k:null},i.v5=function(t,n,i,e,r,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.u5(t,n,i,e,r,s,u,v,o,h,a);d&&(c&&!d.n5.Lw(c.n5)||(c=d))}return c},i.d5=function(t,n,i,e,r,s,u,o,h){for(var a=mk.Om(u),c=mk.Om(o),f=mk.Om(h),v=this.O6.get(t),d=new xB([{RR:a.Nw(),NR:a.Lg(c).Nw()}]),l=r.WR(d),_=function(t){if(0===t.length)return null;var n=t.BY(t.length-1),i=n[n.length-1];if(!i.dp.l5)return null;return i}(r),g=LB(MB(l),d),w=0;w<g.length;w++){var m=mk.Om(g.start(w)),y=mk.Om(g.end(w)),k=WM(l,m,y),p=m.Lg(k).Rm(pk,lk.Xm),b=y.Rm(pk,lk.Xm);if(p.Lw(b)){if(_&&p.xw(mk.Om(_.NR)))continue;var A=this.v5(t,n,v,s,r,i,e,p,b,f);if(A)return A}}return null},i.C4=function(t){return this.O6.get(t).C4()},i.h4=function(t){return this.P6.h4(t)},A(n,[{key:"y4",get:function(){return this.L6},set:function(t){t>0&&(this.L6=t,this.O6.forEach(function(n){return n.y4=t}))}},{key:"i6",get:function(){return this.x6.i6}},{key:"e6",get:function(){return this.x6.e6}}]),n}(aP);function AM(t,n){for(var i=0;i<n.length;i++){if(n[i].info._Y===t)return!0}return!1}function TM(t,n){return t.metadata.audio.w1!==n.metadata.audio.w1||(t.metadata.audio.d$!==n.metadata.audio.d$||(!(!t.Q2.audio||!n.Q2.audio||t.Q2.audio.X1===n.Q2.audio.X1)||!Rk(t.metadata.audio.j2,t.metadata.audio.Z2).mw(Rk(n.metadata.audio.J2,n.metadata.audio.K2))))}function SM(t,n){return t.metadata.video.w1!==n.metadata.video.w1||(!(!t.metadata.pB||!n.metadata.pB||t.metadata.pB.height===n.metadata.pB.height&&t.metadata.pB.width===n.metadata.pB.width)||(!(!n.Q2.video||n.Q2.video.o2||t.metadata.video.d$===n.metadata.video.d$)||Rk(t.metadata.video.j2,t.metadata.video.Z2)!==Rk(n.metadata.video.J2,n.metadata.video.K2)))}function EM(t){return t.Q2.video&&(t={Q2:oM(t.Q2),info:t.info,metadata:XL(t.metadata,"Uj")}),t}function RM(t){return t.Q2.audio&&(t={Q2:uM(t.Q2),info:t.info,metadata:XL(t.metadata,"Mj")}),t}function IM(t){return Boolean(t&&(t.Q2.audio||t.Q2.video))}function NM(t,n,i){var e=mk.Sm(n,t.n5),r=mk.Em(i,t.J6),s=pM;return L.$t&&(e.Pw(t.n5)?s=s.Lg(t.n5).Hw(t.c5):r.xw(t.J6)&&(s=s.Lg(t.J6).Hw(t.f5))),r.Hw(e).xw(s)}function DM(t,n){return m(n)?null:0===n?t:OM(t,t.Q2.video.FH.slice(n))}function CM(t,n){return(t=t.slice(n.r5))[0]=DM(t[0],n.s5),t}function xM(t,n){var i={info:t.info,Q2:{audio:oM(t.Q2).audio,video:null,a1:t.Q2.a1},metadata:null},e=i.Q2.audio;e.FH=n;var r=n[0].tA;return e.R1=r.f1,e.E1=e.R1.Nw(),PM(e,i.Q2.a1,e.S1),WL(i,t.metadata.size),i.metadata=XL(i.metadata,"Uj"),i}function OM(t,n){var i={info:t.info,Q2:{audio:null,video:uM(t.Q2).video,a1:t.Q2.a1},metadata:null},e=i.Q2.video;e.FH=n;var r=n[0].tA;e.R1=r.f1,e.E1=e.R1.Nw();var s=n[n.length-1].tA.j1;return PM(e,i.Q2.a1,s),WL(i,t.metadata.size),i.metadata=XL(i.metadata,"Mj"),i}function PM(t,n,i){for(var e=mk.Bm,r=mk.Bm,s=mk.Lm,u=mk.Lm,o=0,h=t.FH;o<h.length;o++){var a=h[o].tA;e=mk.Em(a.v2,e),r=mk.Em(a.f2,r),s=mk.Sm(a.v2,s),u=mk.Sm(a.f2,u)}t.I1=r,t.N1=e,t.D1=u,t.C1=s,t.A1=mk.Sm(Nk(t.R1,n),mk.jw),t.O1=Ik(t.D1,i),t.P1=Ik(t.C1,i),t.b1=Rk(t.O1,t.I1).Nw(),t.duration=t.b1}function BM(t,n,i){if(CP(i)){var e="Mj"===t?i.Q3:i.j3;return Sk(e)||(e=i.aj),n.M0(i,e)}return i&&n.O0(i)}function LM(t,n,i){if(CP(i)){var e="Mj"===t?i.K3:i.n4;return Sk(e)||(e=i.aj),n.M0(i,e)}return i&&n.O0(i).Lg("Mj"===t?function(t){return CP(t)?t.cj||mk.jw:t&&mk.Om(t.duration)||mk.jw}(i):function(t){return CP(t)?t.fj||mk.jw:t&&mk.Om(t.duration)||mk.jw}(i))}function MM(t,n){return"Mj"===t?n.metadata.audio:n.metadata.video}function UM(t,n,i){return n.M0(i.info,MM(t,i).j2)}function FM(t,n){var i=t.R0(n.Nw());if(-1!==i){var e=mk.Om(t.end(i));if(n.Hw(e).Pw(mk.Om(yM)))return e}return mk.Pm}function HM(t,n,i){var e=t.T0(n.Nw(),i.Nw());if(-1!==e)for(var r=t.BY(e),s=r.length-1;s>=0;s--)for(var u=r[s],o=u.dp.BY.length-1;o>=0;o--){var h=u.dp.BY[o];if(n.Hw(mk.Om(h.NR)).Mw().Pw(i))return mk.Om(h.NR);if(n.Hw(mk.Om(h.RR)).Mw().Pw(i))return mk.Om(h.RR)}return mk.Pm}function zM(t,n){var i;if(n<0)i=t.FH.slice(-n);else{0;var e=new aL,r=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.U1,t.X1);e.G0(r,0,r.length),i=t.FH.slice();for(var s=0;s<n;s++){var u=i[0].tA,o=e.ks(Rr({},e.tA,{f1:u.f1.Hw(t.S1),c1:u.c1-t.S1.Nw(),v2:u.v2.Hw(t.S1),f2:u.f2.Hw(t.S1)}));i.unshift(o)}}return i}function VM(t,n){var i=t[0].tA,e=t.slice();return e[0]=t[0].ks(Rr({},i,{f1:mk.Sm(mk.jw,i.f1.Hw(n)),c1:_.max(i.c1-n.Nw(),0),v2:mk.Sm(mk.jw,i.v2.Hw(n)),J1:_.max(i.J1-n.Nw(),0),f2:mk.Sm(mk.jw,i.f2.Hw(n)),Z1:_.max(i.Z1-n.Nw(),0),j1:mk.Sm(mk.jw,i.j1.Lg(n)),d_:_.max(0,i.d_+n.Nw())})),e}function WM(t,n,i){for(var e=0;e<t.length-1;e++){var r=t.BY(e),s=t.BY(e+1);if(r.length&&s.length&&mk.Om(r[0].RR).Pw(n)&&mk.Om(s[s.length-1].NR).xw(i)&&s[0].dp.BY[0].bs.Y2.FY)return pM._m(5)}return t.Mg(n.Nw())?pM:mk.jw}function XM(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function qM(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function GM(t){return new tU(t.mf,t.ai)}var QM,YM,jM,ZM,JM,$M,KM={},tU=function(){function t(t,n){this.mf=void 0,this._5=void 0,this._5=n,this.mf=t}return t.prototype.g5=function(t){delete KM[t],qM(t)},A(t,[{key:"ai",get:function(){return this._5}},{key:"w5",get:function(){var t,n,i=(t=this._5,n=this.mf,Vc([t],{type:n})),e=XM(i);return KM[e]=i,e}}]),t}(),nU=function(){function t(t,n,i){this.oj=void 0,this.oj="data:"+t+";"+n+","+i}return t.prototype.g5=function(t){},A(t,[{key:"w5",get:function(){return this.oj}}]),t}();!function(t){t.z0="m5",t.Gl="y5",t.k5="p5",t.b5="A5",t.T5="S5"}(QM||(QM={})),function(t){t.E5="R5",t.I5="N5"}(YM||(YM={})),function(t){t.D5="audio/mp4",t.C5="audio/mpeg",t.x5="video/mp4"}(jM||(jM={})),function(t){t[t.O5=0]="O5",t[t.P5=1]="P5",t[t.Sl=2]="Sl",t[t.B5=3]="B5"}(ZM||(ZM={})),function(t){t.L5="M5",t.U5="F5"}(JM||(JM={})),function(t){t.H5="Y6",t.U5="z5"}($M||($M={}));var iU=function(){function t(t,n,i,e,r,s,u,o,h,a){this.V5=void 0,this.W5=void 0,this.rp=void 0,this.mf=void 0,this.z6=void 0,this.X5=void 0,this.Gb=void 0,this.q5=void 0,this.G5=void 0,this.kC=void 0,this.Q5=ZM.O5,this.W5=t,this.V5=n,this.rp=i,this.mf=e,this.z6=r,this.X5=s,this.Gb=u,this.q5=o,this.G5=h,this.kC=a}return t.Y5=function(t,n,i,e,r,s,u,o,h,a){switch(n){case JM.L5:return new eU(t,i,e,r,s,u,o,h,a);case JM.U5:return new rU(t,i,e,r,s,u,o,h,a)}},t}(),eU=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,JM.L5,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.j5=function(){return{Z5:"J5",K5:this.V5,t8:QM.T5,n8:YM.E5,i8:this.mf,e8:cL(this.z6,[]),r8:this.G5,s8:this.q5.qm(),u8:this.X5.qm(),o8:this.Gb.qm()}},n}(iU),rU=function(t){function n(n,i,e,r,s,u,o,h,a){return t.call(this,JM.U5,n,i,e,r,s,u,o,h,a)||this}return S(n,t),n.prototype.j5=function(){return{Z5:"J5",K5:this.V5,t8:this.mf===jM.C5?QM.z0:QM.Gl,n8:Fb?YM.I5:YM.E5,i8:this.mf,e8:cL(this.z6,[])}},n}(iU),sU=function(){function t(){this.h8=void 0,this.a8=void 0,this.h8=Nr(),this.a8=1}var n=t.prototype;return n.c8=function(){return(this.a8++).toString()},n.Y5=function(t,n,i,e,r,s,u,o,h){var a=this.c8(),c=iU.Y5(a,n,t,i,e,r,s,u,o,h);return this.f8(c),c},n.v8=function(t){return this.h8.get(t)},n.f8=function(t){this.h8.set(t.V5,t)},n.d8=function(t){this.h8.delete(t)},n.l8=function(t){this.v8(t).Q5=ZM.P5,this.d8(t)},n._8=function(t,n){var i=this.v8(t).kC;this.v8(t).Q5=ZM.Sl,this.d8(t),i(n)},n.g8=function(t,n){var i=this.v8(t).kC;this.v8(t).Q5=ZM.B5,this.d8(t),i(null,n)},n.ds=function(t){var n=[];this.h8.forEach(function(i,e){t&&i.rp!==t||n.push(e)});for(var i=0;i<n.length;i++){var e=n[i];this.l8(e)}},t}();var uU,oU=function(){function t(n){var i=this;this.h8=void 0,this.w8=void 0,this.Ch=void 0,this.m8=void 0,this.y8=function(t){var n=t.data.k8,e=t.data.p8,r=t.data.b8,s=t.data.A8,u=i.h8.v8(e);if(u&&u.Q5!==ZM.P5)switch(n){case"T8":i.S8(u,r);break;case"E8":i.h8._8(e,new vP(fP.rY,{code:s}));break;default:0}},this.R8=function(t){0},this.h8=new sU,this.Ch=n,this.m8=t.I8(n.j6),this.N8()}t.I8=function(t){switch(t){case $M.H5:return JM.L5;case $M.U5:return JM.U5}};var n=t.prototype;return n.J5=function(t,n,i,e,r,s,u){var o={metadata:null,Mj:null,Uj:null,ts:null};i&&i.length||u(new vP(fP.rY,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info._Y+1,f=h.info.sZ,v=h.metadata,d=v.audio.w1?v.audio:void 0,l=v.video.w1?v.video:void 0,_=a.metadata,g=_.audio.w1?_.audio:void 0,w=_.video.w1?_.video:void 0,y=e.Lg(Nk(v.Z2,v.j2)),k=e.Lg(Nk(v.j2,v.j2)),p=e.Lg(d?Nk(d.Z2,v.j2):mk.jw),b=e.Lg(d?Nk(d.j2,v.j2):mk.jw),A=e.Lg(l?Nk(l.Z2,v.j2):mk.jw),T=e.Lg(l?Nk(l.j2,v.j2):mk.jw),S=e.Lg(Nk(_.K2,v.j2)),E=e.Lg(Nk(_.J2,v.j2)),R=e.Lg(g?Nk(g.K2,v.j2):mk.jw),I=e.Lg(g?Nk(g.J2,v.j2):mk.jw),N=e.Lg(w?Nk(w.K2,v.j2):mk.jw),D=e.Lg(w?Nk(w.J2,v.j2):mk.jw);p=mk.Sm(mk.jw,p),A=mk.Sm(mk.jw,A);var C,x,O,P,B,L=RP.D_(n.mZ)?mk.Om(100079991719):mk.Om(n.d_),M=function(t){for(var n=t[0].Q2,i=n,e=1;e<t.length;e++){if(!(n=sM(i,t[e-1].Q2,t[e].Q2,t[e].info.i3)))return i;i=n}return i}(i);if(M.audio){x=(C=oM(M)).audio.duration;O=this.h8.Y5(t,this.m8,"mp3"===C.audio.w1?jM.C5:jM.D5,C,p,b,L,c,function(t,n){if(o.ts=o.ts||t,o.Mj=n,C=!0,P)return u(o.ts,o)}),this.D8(O),C=null}else C=!0;if(M.video){B=(P=uM(M)).video.duration;O=this.h8.Y5(t,this.m8,jM.x5,P,A,T,L,c,function(t,n){if(o.ts=o.ts||t,o.Uj=n,P=!0,C)return u(o.ts,o)}),this.D8(O),P=null}else P=!0;var U,F,H,z=i.map(function(t){return t.metadata}),V=mk.Om(x),W=mk.Om(B),X=h.Q2.audio&&h.Q2.video?mk.Em(h.Q2.audio.A1.Lg(V),h.Q2.video.A1.Lg(W)):h.Q2.audio?h.Q2.audio.A1.Lg(V):h.Q2.video?h.Q2.video.A1.Lg(W):mk.jw;if(X.tm()&&ut("Segment with no valid audio or video track detected",h.info.uri),M.video){var q=HL(M);if(m(q))ut("Segment without keyframes detected",h.info.uri),U=mk.Pm,F=mk.Pm,H=X._m(1.5);else{var G=M.video.FH[q].tA;U=e.Lg(Nk(G.v2,v.j2)),F=e.Lg(Nk(G.f2,v.j2)),H=mk.Om(G.Z1-h.metadata.start)}}else U=p,F=b,H=mk.jw;var Q=mk.Sm(H,mk.Sm(h.Q2.audio&&h.Q2.audio.A1||mk.jw,h.Q2.video&&h.Q2.video.A1||mk.jw));o.metadata={_Y:c,RR:e.Nw(),C8:y.Nw(),a5:k.Nw(),f5:S.Nw(),J6:E.Nw(),e4:U.Nw(),U0:F.Nw(),e5:mk.Em(e,r).Nw(),d_:X.Nw(),BY:z,ps:Q.Nw(),Mj:d&&{RR:b.Nw(),C8:p.Nw(),NR:I.Nw(),f5:R.Nw(),d_:x,w1:d.w1},Uj:l&&{RR:T.Nw(),C8:A.Nw(),NR:D.Nw(),f5:N.Nw(),d_:B,w1:l.w1,Rw:v.pB.width,hp:v.pB.height},VZ:v.VZ,i3:v.i3,sZ:f,n3:s},i=null,M=null},n.hv=function(){this.h8.ds(),this.w8&&(this.w8.B2(),this.w8=null)},n.Cr=function(t){this.h8.ds(t)},n.S8=function(t,n){switch(t.W5){case JM.L5:var i=n;this.h8.g8(t.V5,{initializer:GM(i.x8),m4s:GM(i.O8)});break;case JM.U5:var e=n;this.h8.g8(t.V5,(r=e,Fb?new nU(r.mf,"base64",r.ai):new tU(r.mf,r.ai)));break;default:0}var r},n.N8=function(){this.w8||(this.w8=LL("theoplayer.p.js",this.Ch.libraryLocation),this.w8.Hr("message",this.y8),this.w8.Hr("error",this.R8))},n.D8=function(t){this.w8||this.N8(),this.w8.L2(t.j5())},t}();function hU(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function aU(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function cU(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function fU(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,e=i.exec(t);null!==e;){var r=e[2],s=void 0;s=void 0!==e[6]?Eo(e[6]):void 0!==e[7]?{width:w(e[8]),height:w(e[10])}:void 0!==e[12]?w(e[12]):void 0!==e[14]?e[14]:void 0!==e[16]?e[16]:null,n[r.toLowerCase()]=s,e=i.exec(t)}return n}var vU,dU="x-";function lU(t,n,i,e){var r=t.split("@"),s=hU(n,i),u=g(r[0],10),o=r[1]?g(r[1],10):e;return{oj:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},hj:{RR:o,NR:o+u-1}}}function _U(t,n,i){var e,r,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new vP(fP.eY,{code:"HMP2670",uri:n});for(var b={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},A=1;A<p.length;A+=1){var T=p[A].trim();if(l.push(T+""),aU(T,"#EXT")){if(aU(T,"#EXTINF"))c=(c=w(cU(T)))||.5;else if(aU(T,"#EXT-X-BYTERANGE"))f=cU(T);else if(aU(T,"#EXT-X-KEY"))(s=fU(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=hU(s.uri,i);else if(aU(T,"#EXT-X-DISCONTINUITY")&&!aU(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(aU(T,"#EXT-X-STREAM-INF"))(r=fU(T))._Y=a++,(A+=1)<p.length&&(r.uri=hU(p[A].trim(),i),b.streams.push(r));else if(aU(T,"#EXT-X-MEDIA")&&!aU(T,"#EXT-X-MEDIA-"))(u=fU(T)).uri&&(u.uri=hU(u.uri,i)),b.media.push(u);else if(aU(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(cU(T));else if(aU(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))b.DY=!0,b.CY=g(cU(T),10);else if(aU(T,"#EXT-X-MEDIA-SEQUENCE"))h=g(cU(T),10),b.P8=!0,b.B8=h;else if(aU(T,"#EXT-X-TARGETDURATION"))b.targetDuration=g(cU(T),10),b.hasTargetDuration=!0;else if(aU(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))b.isEvent=!0;else if(aU(T,"#EXT-X-ENDLIST"))b.live=!1,b.hasEnd=!0;else if(aU(T,"#EXT-X-MAP")){var S=fU(T),E=S.uri,R=S.byterange;o=R?lU(R,E,i,0):hU(E,i)}else if(aU(T,"#EXT-X-VERSION"))b.version=g(cU(T),10);else if(aU(T,"#EXT-X-DATERANGE")){var I=gU(T);b.dateRanges.push(I)}}else if(aU(T,"#"));else if(0!==T.length){f?k=(e=lU(f,T,i,k)).hj.NR+1:e=hU(T,i);var N,D=s&&Rr({},s);s&&void 0===s.iv&&(N=h%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),b.fragments.push({start:0,duration:c,uri:e,_Y:h,FY:d,LY:v,key:D,lZ:m,dZ:l,n3:!1,L8:o}),h+=1,c=0,f=null,d=!1,m=null,l=[]}}return b.hasEnd&&b.fragments.length&&(b.fragments[b.fragments.length-1].n3=!0),b.isMasterPlaylist=0!==b.streams.length,b.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,e=0,r=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];r+=o.duration,i=_.min(i,o.duration),e=_.max(e,o.duration)}return{M8:i,U8:e,F8:n?t.fragments[n-1].duration:0,H8:r/n,z8:r}}(b),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var e=i[n];t.duration+=e.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(b),function(t){for(var n=0,i=0,e=t.fragments;i<e.length;i++){var r=e[i];r.start=n,n+=r.duration}}(b),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t._Y-n._Y})}(b),function(t,n){for(var i={},e=0;e<t.media.length;e+=1){var r=t.media[e];r.type===n&&r.uri&&(i[r["group-id"]]=(i[r["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||xs(t.media,s)}}(b,"VIDEO"),function(t){for(var n=0,i=0,e=t.streams;i<e.length;i++)e[i].id=n,n+=1;for(var r=0,s=t.media;r<s.length;r++)s[r].id=n,n+=1}(b),function(t){for(var n=function(n,i){var e=i[n];"video"in e&&(e.media=function(t,n){for(var i,e=t.length>>>0,r=arguments[1],s=0;s<e;s++)if(i=t[s],n.call(r,i,s,t))return i}(t.media,function(t){return t["group-id"]==e.video}))},i=0,e=t.streams;i<e.length;i++)n(i,e)}(b),b}function gU(t){var n=fU(t),i=function(t){for(var n={},i=0,e=l.keys(t);i<e.length;i++){var r=e[i];os(r,dU)&&(n[r.substr(dU.length)]=t[r])}return n}(n),e=n["start-date"]?new Date(n["start-date"]):void 0,r=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{_l:n.id,ZY:n.class,QE:e,HY:r,d_:n.duration,JY:n["planned-duration"],$Y:s,KY:i,tj:u,nj:o,ij:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(vU||(vU={}));(uU={})[vU.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",uU[vU.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",uU[vU.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",uU[vU.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",uU[vU.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",uU[vU.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",uU[vU.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var wU=function(){function t(){}return t.prototype.Dk=function(t,n,i){return _U(t,n,i)},t}(),mU=3,yU=function(){function t(t,n,i){void 0===i&&(i=mU),this.mA=t,this.V8=n,this.W8=i}var n=t.prototype;return n.X8=function(t,n,i){return this.q8(t,n,!0,i)},n.G8=function(t,n,i){return this.q8(t,n,!1,i)},n.q8=function(t,n,i,e){var r,s,u,o,h,a,c,f;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=100,u=0;case 2:if(!(u<this.W8)){i.next=31;break}if(!(u>0)){i.next=7;break}return i.next=6,Er.awrap($s(s,e));case 6:s<1e4&&(s=_.min(2*s,1e4));case 7:o=0;case 8:if(!(o<t.length)){i.next=28;break}return h=t[o],i.prev=10,a=new p_({Mf:h,xf:qc.On,Cf:n,sv:this.V8,tv:g_.GET,nr:w_.Hf,ev:m_.Ff,Pr:e}),i.next=14,Er.awrap(this.mA.Bf(a));case 14:return c=i.sent,i.next=17,Er.awrap(c.lf(e));case 17:return f=i.sent,i.abrupt("return",{Q8:f,Y8:h,Lf:c.Lf});case 22:i.prev=22,i.t0=i.catch(10),r=i.t0;case 25:o++,i.next=8;break;case 28:u++,i.next=2;break;case 31:throw r;case 32:case"end":return i.stop()}},null,this,[[10,22]],ze)},t}(),kU=function(){function t(t,n,i,e){this.j8=t,this.Z8=n,this.J8=i,this.K8=e}var n=t.prototype;return n.t9=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.j8.aK(t.map(bB)));case 2:return n=i.sent,i.abrupt("return",n.shift());case 4:case"end":return i.stop()}},null,this,null,ze)},n.n9=function(t,n){var i=AB(t,n);return this.Z8.as(i)},n.i9=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=AB(t,n),r.next=3,Er.awrap(this.J8.cs(e));case 3:if(r.t0=i=r.sent,null!=r.t0){r.next=8;break}r.t1=void 0,r.next=9;break;case 8:r.t1=i.data;case 9:return r.abrupt("return",r.t1);case 10:case"end":return r.stop()}},null,this,null,ze)},n.BP=function(t){return this.K8.cs(t)},t}(),pU=function(){function t(t){this.e9=void 0,this.e9=t}return t.prototype.r9=function(t,n,i,e){var r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:void 0===e&&(e=!1),s=0,u=this.e9;case 2:if(!(s<u.length)){h.next=17;break}return o=u[s],h.prev=4,h.next=7,Er.awrap(o.r9(t,n,i,e));case 7:return h.abrupt("return",h.sent);case 10:h.prev=10,h.t0=h.catch(4),Ws(h.t0),r=h.t0;case 14:s++,h.next=2;break;case 17:throw r;case 18:case"end":return h.stop()}},null,this,[[4,10]],ze)},t}(),bU=function(){function t(t){this.s9=t}return t.prototype.r9=function(t,n,i,e){var r;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.s9.t9(t));case 2:if(!(r=n.sent)){n.next=7;break}return n.abrupt("return",{Q8:r.data,Y8:r.locationURL,Lf:r.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return n.stop()}},null,this,null,ze)},t}(),AU=function(){function t(t){this.u9=t}return t.prototype.r9=function(t,n,i,e){return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===e&&(e=!1),!e){r.next=7;break}return r.next=4,Er.awrap(this.u9.X8(t,n,i));case 4:return r.abrupt("return",r.sent);case 7:return r.next=9,Er.awrap(this.u9.G8(t,n,i));case 9:return r.abrupt("return",r.sent);case 10:case"end":return r.stop()}},null,this,null,ze)},t}();function TU(t,n){return new pU([new bU(n),new AU(t)])}var SU=function(){function t(t,n,i){this.o9=t,this.h9=n,this.a9=i}var n=t.prototype;return n.r9=function(t,n,i,e){var r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return void 0===e&&(e=!1),s.next=3,Er.awrap(this.o9.r9(t,n,i,e));case 3:return r=s.sent,s.next=6,Er.awrap(this.c9(r));case 6:return s.abrupt("return",r);case 7:case"end":return s.stop()}},null,this,null,ze)},n.c9=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.h9.oK({key:bB(t.Y8),locationURL:S_(t.Y8),responseURL:S_(t.Lf),data:t.Q8,references:[this.a9._l]}));case 2:case"end":return n.stop()}},null,this,null,ze)},t}();function EU(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var RU=function(){function t(t,n,i){this.Ch=void 0,this.mA=void 0,this.o9=void 0,this.f9=void 0,this.f9=new wU,this.Ch=t,this.mA=i;var e=this.Ch&&this.Ch.crossOrigin===sm.$l,r=new yU(i,e,1);this.o9=TU(r,new kU(pB.Rn.wK,pB.Rn._K,pB.Rn.gK,pB.Rn.yK))}var n=t.prototype;return n.Yo=function(t,n,i){var e=this.nd(t,n);return i&&e.then(function(t){return i(null,t)},function(t){return i(t)}),e},n.nd=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Er.awrap(this.o9.r9([t],n));case 3:return i=r.sent,t=i.Lf,e=this.f9.Dk(i.Q8,t,EU(t)),r.abrupt("return",{P_:e,v9:i.Q8});case 10:if(r.prev=10,r.t0=r.catch(0),!(r.t0 instanceof C_)){r.next=16;break}throw new vP(fP.nY,{code:"MFL8600",uri:t});case 16:if(!(r.t0 instanceof x_)){r.next=24;break}if(0!==r.t0.pv.Df){r.next=21;break}throw new vP(fP.iY,{code:"MFL3900",uri:t,status:r.t0.pv.Df});case 21:throw new vP(fP.nY,{code:"MFL4100",uri:t,status:r.t0.pv.Df});case 22:r.next=25;break;case 24:throw new vP(fP.Sl,{error:r.t0,uri:t});case 25:case"end":return r.stop()}},null,this,[[0,10]],ze)},t}(),IU=function(t){function n(n,i){var e;return(e=t.call(this)||this).d9=void 0,e.l9=void 0,e._9=void 0,e.g9=void 0,e.w9=void 0,e.fJ=void 0,e.iJ=void 0,e.KS=void 0,e.d9=new RU(i||{},pB.Rn.wK,n),e}S(n,t);var i=n.prototype;return i.tg=function(){void 0!==this.g9&&(a(this.g9),this.g9=void 0),this._9&&this._9.Bf&&(this._9=void 0)},i.m9=function(t){if(this.iJ)for(var n=0,i=this.iJ.fragments;n<i.length;n++){var e=i[n];if(e.uri===t)return e}},n.y9=function(t,n,i,e){var r,s=t.targetDuration,u=t.metadata;return r=t.fragments.length&&u&&(!s||u.z8<3*s)?1e3*u.M8:s?1e3*s:1e4,i===n&&(r/=2),r=_.max(r-e,1e3)},i.k9=function(t){if(t.fragments.length>0)for(var n=this.m9(t.fragments[0].uri),i=n&&n._Y||0,e=0,r=t.fragments;e<r.length;e++){r[e]._Y+=i}},i.p9=function(t,i,e,r,s,u){var o=this;if(this._9&&e===this._9.Bf){var a=ER()-i;if(r){this._9=void 0,this.KS=r;var c={type:"ts",ts:r};return this.dispatchEvent(c),s&&s(r)}this._9=void 0;var f=u.P_,v=u.v9;f.P8||this.k9(f),t===this.l9&&(this.fJ=f),this.iJ=f;var d=n.y9(f,v,this.w9,a);f.live?f.isMasterPlaylist||(this.g9=h(function(){return o.nd(t)},d)):this.tg(),s&&s(r,u);var l={type:"b9",manifest:f,manifestText:v};this.dispatchEvent(l),this.w9=v}},i.nd=function(t,n){var i=this,e=ER(),r=t;a(this.g9),this.g9=void 0;var s=this.d9.Yo(r,{},function(r,u){return i.p9(t,e,s,r,n,u)});this._9={Bf:s,Mf:t}},i.RR=function(t,n){var i,e,r,s=this,u=!1;(r=t||(this.iJ?this.iJ.uri:this.l9))&&(this._9&&this._9.Mf===t?n&&(i=function(t){s.removeEventListener("ts",e),s.removeEventListener("b9",i);var r=t;n(null,{P_:r.manifest,v9:r.manifestText})},e=function(t){s.removeEventListener("ts",e),s.removeEventListener("b9",i),n(t.ts)},this.addEventListener("ts",e),this.addEventListener("b9",i)):(this.tg(),this.nd(r,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.A9=function(t){t&&(this.w9=void 0,this.fJ&&this.fJ.isMasterPlaylist?this.RR(t.uri):this.iJ&&!this.T9()&&this.RR(this.iJ.uri))},i.hv=function(){this.tg(),this.Wr()},i.T9=function(){return!!this._9||!!this.g9||!(!this.iJ||this.iJ.live)},A(n,[{key:"P_",get:function(){return this.iJ}},{key:"FJ",get:function(){return this.fJ}},{key:"j$",get:function(){return this.l9},set:function(t){this.tg(),this.w9=void 0,this.fJ=void 0,this.iJ=void 0,this.l9=t}}]),n}(aP),NU=function(t){function n(n,i){var e;return(e=t.call(this)||this).Ch=void 0,e.Zd=void 0,e.l9=void 0,e.S9=void 0,e.mA=void 0,e.Ch=i,e.Zd=Nr(),e.l9=null,e.S9=null,e.mA=n,e}S(n,t);var i=n.prototype;return i.RR=function(){var t=this,n=this.j$;if(n&&!this.S9){var i=new IU(this.mA,this.Ch);i.addEventListener("ts",function(i){var e=i.ts;t.dispatchEvent({type:"E9",ts:e}),t.Zd.has(n)&&t.dispatchEvent({type:"ts",ts:e,R9:n})}),i.addEventListener("b9",function n(e){i.removeEventListener("b9",n),i===t.S9&&t.dispatchEvent({type:"I9",P_:e.manifest})}),i.addEventListener("b9",function(i){t.Zd.has(n)&&t.dispatchEvent({type:n,P_:i.manifest})}),this.S9=i,i.RR(n)}},i.N9=function(t,n){this.D9(t),this.C9(n)},i.C9=function(t){var n,i=this;this.Zd.has(t)||(t===this.j$?(this.RR(),(n=this.S9).P_&&this.dispatchEvent({type:t,P_:n.P_},!0)):((n=new IU(this.mA,this.Ch)).addEventListener("ts",function(n){i.dispatchEvent({type:n.type,ts:n.ts,R9:t})}),n.addEventListener("b9",function(n){i.dispatchEvent({type:t,P_:n.manifest})})),this.Zd.set(t,n))},i.D9=function(t){if(this.Zd.has(t)){var n=this.Zd.get(t);n!==this.S9&&n.hv(),this.Zd.delete(t),this.removeEventListener(t)}},i.x9=function(t){if(this.Zd.has(t)){var n=this.Zd.get(t);n.T9()||n.RR(t)}},i.O9=function(){var t=this;this.Zd.forEach(function(n,i){return t.x9(i)})},i.nl=function(){this.Zd.forEach(function(t){return t.hv()}),this.Zd.clear(),this.S9&&(this.S9.hv(),this.S9=null),this.l9=null},A(n,[{key:"j$",get:function(){return this.S9&&this.S9.P_?this.S9.P_.uri:this.l9},set:function(t){this.nl(),this.l9=t}}]),n}(aP),DU=function(t){function n(){var n;return(n=t.call(this)||this).P9=NaN,n}S(n,t);var i=n.prototype;return i.B9=function(t,n){for(var i=t.length?_.min.apply(_,t):0,e=0;e<t.length;e++)t[e]-=i;for(var r=0;r<n.length;r++){n[r].ps=mk.Om(t[r]||0)}var s=t.length?_.max.apply(_,t):0;this.P9=s,this.dispatchEvent({type:"L9",M9:s})},i.U9=function(t,n){var i=[];if(n.length<2)return this.B9(i,n),!0;for(var e=n[0],r=0;r<n.length;r++){var s=n[r];if(!s.F9(t))return!1;i[r]=s.ps.Lg(s.H9(e,t)).Nw()}return this.B9(i,n),!0},i.z9=function(t,n){return this.U9(t.LY,n)},i.V9=function(t,n){if(n.length<2)return this.B9([],n),!0;var i=n[0].W9(t);if(m(i))return!1;for(var e=0;e<n.length;e++){if(n[e].W9(t)!==i)return!1}return this.U9(i,n)},i.nl=function(){this.P9=NaN},i.hv=function(){this.Wr()},A(n,[{key:"M9",get:function(){return this.P9}}]),n}(aP),CU=.001;function xU(t){return t.metadata.sZ._l+"X9"+t.metadata._Y+"q9"+t.metadata.RR+"G9"+t.metadata.d_}var OU=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.KG=function(t,i){return new n(t,i)},i.x0=function(t,n){return!1},n}($B);function PU(t,n){var i=new OU([n]);return t.Hw(i).jR(i)}function BU(t,n){var i=function(t,n){var i=t.a5,e=t.U0;if(!m(e)&&e===i)return!0;return!t.i3&&!!n&&n.dp.sZ===t.sZ&&i>=n.NR&&i<=n.NR+CU}(t,n);return i||!m(t.U0)?{RR:i?t.a5:t.U0,NR:t.J6,dp:t}:null}var LU=function(t){function n(n,i){var e;return(e=t.call(this)||this).Q9=void 0,e.jb=void 0,e.Y9=null,e.j9=function(){return e.Z9()},e.J9=[],e.yg=[],e.K9=new OU([]),e.t7=null,e.Q9=n,e.jb=i,e}S(n,t);var i=n.prototype;return i.n7=function(t){var n=t.metadata,i=n&&n.BY;if(!i||!i.length)return ze.resolve();for(var e=[],r=n.RR,s=0;s<i.length;s++){var u=i[s],o=r+u.duration;e.push({RR:r,d_:u.duration,NR:o,_Y:u._Y,bs:u}),r=o}var h={_l:xU(t),RR:t.metadata.RR,C8:n.C8,a5:n.a5,i7:i[0].Y2.lZ?new Date(i[0].Y2.lZ.getTime()):null,d_:t.metadata.d_,NR:t.metadata.RR+t.metadata.d_,f5:n.f5,J6:n.J6,e4:n.e4,U0:n.U0,BY:e,sZ:t.metadata.sZ,l5:t.metadata.n3,i3:n.i3};return this.J9.push(h),this.e7(this.Q9.n7(t),h)},i.e7=function(t,n){var i=this;return t.then(function(){if(Cs(i.J9,n)){i.yg.push(n);var t=i.t7,e=BU(n,t);e&&(i.K9=PU(i.K9,e)),i.t7=e}i.Z9(),i.r7(n)}).catch(function(){Cs(i.J9,n)})},i.r7=function(t){var n=t.BY[0],i=t.BY[t.BY.length-1],e=t.sZ,r=e.UY(n._Y-1),s=RP.D_(e.mZ);if(!r||s){var u=e.UY(n._Y),o=this.jb.O0(u).Nw(),h=t.C8,a=_.min(o,h);a<n.RR&&this.Q9.YU(a,n.RR)}for(var c=0,f=this.yg;c<f.length;c++){var v=f[c];if(v.sZ===t.sZ){var d=v.BY[0],l=v.BY[v.BY.length-1];l._Y+1===n._Y&&l.NR!==n.RR?this.Q9.YU(l.NR,n.RR):d._Y-1===i._Y&&i.NR!==d.RR&&this.Q9.YU(i.NR,d.RR)}}},i.ds=function(){this.J9.length=0,this.yg.length=0,this.K9=new OU([]),this.t7=null},i.Z9=function(){if(this.s7&&!this.s7.sx){var t=this.s7.yg||OB;t=function(t,n){for(var i=HB(t),e=0;e<i.length;e++){var r=i[e],s=n.R0(r.NR,CU);if(s>=0){var u=n.BY(s),o=u[u.length-1],h=o.dp.f5,a=o.dp.J6;h-CU<r.NR&&r.NR<a&&(r.NR=a)}}return new xB(i)}(t,this.K9),this.yg=this.yg.filter(function(n){return function(t,n,i,e){n-=e=+e||0,i+=e;for(var r=0;r<t.length;r+=1)if(t.start(r)<i&&n<t.end(r))return r;return-1}(t,n.RR,n.NR)>=0}),this.K9=this.K9.WR(t)}},i.hv=function(){this.Wr(),this.ds(),this.s7=null},i.u7=function(t){var n=this.o7(t);if(n)for(var i=0,e=n.BY;i<e.length;i++){var r=e[i];if(r.RR<=t&&r.NR>t)return r}return null},i.o7=function(t){for(var n=0,i=this.yg;n<i.length;n++){var e=i[n];if(e.RR<=t&&e.NR>t)return e}return null},i.h7=function(t){for(var n=0,i=this.yg;n<i.length;n++){var e=i[n];if(e.sZ._l===t.sZ._l)for(var r=0,s=e.BY;r<s.length;r++){if(s[r]._Y===t._Y)return!0}}return!1},i.a7=function(){return this.c7()[0]},i.c7=function(){for(var t=this.K9,n=this.t7,i=0,e=this.J9;i<e.length;i++){var r=BU(e[i],n);r&&(t=PU(t,r)),n=r}return[t,n]},A(n,[{key:"sl",get:function(){return this.J9.length+this.yg.length}},{key:"s7",get:function(){return this.Y9},set:function(t){this.Y9&&this.Y9.removeEventListener("updateend",this.j9),this.Y9=t,this.Y9&&(this.Y9.addEventListener("updateend",this.j9),this.Z9())}}]),n}(aP);function MU(t,n,i){!function(t,n,i){for(var e=i.o1,r=[],s=0;s<e.length;s++)for(var u=e[s],o=n.M0(t,u.tA.v1).Nw(),h=0,a=u.FH;h<a.length;h++){var c=a[h];r.push(new ox(o,c))}i.Cl=r}(t,n,i)}function UU(t,n){return t&&n?_.abs(t._Y-n._Y)<=1?mk.jw:mk.Qw(n.Qk-t.Qk,1e3):mk.jw}var FU=function(){function t(t,n,i,e,r){this.FY=void 0,this.r5=void 0,this.f7=void 0,this.v7=void 0,this.nr=void 0,this.R6=void 0,this.ps=mk.jw,this.d7=!1,this.l7=null,this.FY=t,this.r5=t.sZ.BY.mY(n._Y),this.R6=this.r5,this.f7=i,this.v7=e,this.nr=r||null}var n=t.prototype;return n._7=function(){if(this.l7)return this.l7;var t=this.g7();return(t.w7||t.ts)&&(this.l7=t),t},n.m7=function(){return{w7:!1,ts:!1,d7:this.d7,tw:mk.Pm}},n.w7=function(t){return t.zw()?{w7:!1,ts:!0,d7:this.d7,tw:mk.Pm}:{w7:!0,ts:!1,d7:this.d7,tw:t}},t}();function HU(t,n){switch(n){case"Mj":return Sk(t.Q3)?t.Q3:t.aj;case"Uj":return Sk(t.j3)?t.j3:t.aj;default:return t.aj}}var zU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.g7=function(){var t=this.FY,n=t.sZ,i=n.BY,e=i.yY(this.R6);if(t.Mg(e)){if(this.v7&&t.y7&&CP(e)){var r=HU(e,this.nr),s=t.k7(r,e.p7);return this.w7(s.Hw(this.ps))}if(this.f7&&e===t.b7){var u=t.nw.Hw(xP(e));return this.w7(u.Hw(this.ps))}this.R6+=1;var o=UU(e,i.yY(this.R6));return this.d7=this.d7||o.Dw(mk.jw),this.ps=this.ps.Lg(o).Lg(xP(e)),this.m7()}return this.w7(mk.Pm)},n}(FU),VU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.g7=function(){var t=this.FY,n=t.sZ,i=n.BY,e=i.yY(this.R6);if(t.Mg(e)){if(this.v7&&t.y7&&CP(e)){var r=HU(e,this.nr),s=t.k7(r,e.p7);return this.w7(s.Lg(this.ps))}if(this.f7&&e===t.A7){var u=t.tw;return this.w7(u.Lg(this.ps))}this.R6-=1;var o=i.yY(this.R6),h=UU(o,e);return this.d7=this.d7||h.Dw(mk.jw),this.ps=this.ps.Lg(h).Lg(xP(o)),this.m7()}return this.w7(mk.Pm)},n}(FU);var WU=function(){function t(t,n,i){this._Y=void 0,this.sZ=void 0,this.tw=mk.jw,this.nw=mk.jw,this.A7=null,this.b7=null,this.T7=!1,this.S7=mk.Pm,this.E7=mk.Pm,this.R7=!1,this.I7=void 0,this._Y=t,this.sZ=n,this.I7=i}var n=t.prototype;return n.Mg=function(t){return t&&t.LY===this._Y},n.k7=function(t,n){var i=t.Hw(this.S7).Lg(this.E7);if(void 0!==n){var e=i.Hw(n);if(e.Mw().Dw(Tk)){var r=_.round(e.Nw()/Ak.Nw());i=i.Hw(Ak._m(r))}}return i},n.N7=function(t,n){var i=this.D7(t);this.C7(n);var e=this.x7();return i||e||t===this.b7&&this.O7()},n.D7=function(t){if(this.y7&&yk(t.J3,this.S7)>=0)return!1;var n;if(n=this.y7?this.P7(t,!0,!1):this.B7(t,!0,!1),this.S7.zw())this.S7=t.J3;else{var i=Nk(t.J3,this.S7);this.S7=this.S7.Lg(i)}return this.E7=n,!0},n.C7=function(t){if(!t)return!1;if(this.I7)return!1;if(!this.L7())return!1;var n=this.sZ.BY,i=this.A7,e=n.kY(i._Y-1);if(CP(i)&&CP(e)){var r=function(t,n,i){var e=t.M0(n,n.J2);if(!Sk(i.Z3)||!Sk(i.j3))return e;var r,s=Sk(i.Q3),u=Rk(i.j3,i.Z3);if(s){var o=Ek(Rk(i.j3,i.Q3),mk.jw);r=Ek(Rk(u,o),mk.jw)}else r=u;return Rk(e,r)}(t,e,i);return this.R7=!0,this.M7(r)}return!1},n.M7=function(t){if(t.mw(this.tw))return!1;var n=t.Hw(this.tw);return this.tw=t,this.nw=this.nw.Lg(n),this.E7=this.E7.Lg(n),!0},n.x7=function(){if(this.I7)return!1;var t=this.b7;if(!t)return!1;var n,i=new VU(this,t,!1,!0);do{n=i._7()}while(!n.w7&&!n.ts&&!n.d7);if(n.w7&&!n.d7){var e=n.tw.Lg(xP(t));if(!e.mw(this.nw))return this.nw=e,!0}return!1},n.U7=function(t){var n=!1;return n=this.C7(t)||n,n=this.F7(t)||n},n.F7=function(t){if(!t)return!1;if(this.R7)return!1;var n=t.nw.Lg(UU(t.b7,this.A7));return this.M7(n)},n.H7=function(t){var n=!1;return(!this.A7||this.A7._Y>t._Y)&&(this.tw=this.tw.Hw(UU(t,this.A7)),this.A7=t,n=!0),(!this.b7||this.b7._Y<t._Y)&&(this.nw=this.nw.Lg(UU(this.b7,t)).Lg(xP(t)),this.b7=t,n=!0),n},n.z7=function(t){if(!this.y7||!t.y7)return mk.Pm;if(this.S7.Pw(t.S7)){var n=this.k7(t.S7,t.E7);return t.E7.Hw(n)}return t.k7(this.S7,this.E7).Hw(this.E7)},n.L7=function(){var t=this.A7;return!!t&&function(t,n){return n.LY===t&&n.FY}(this._Y,t)},n.O7=function(){var t=this.b7;if(!t)return!1;var n=this.sZ.BY.kY(t._Y+1);return function(t,n,i){return n.LY===t&&(!i||i.FY)}(this._Y,t,n)},n.V7=function(t,n){return this.P7(t,!0,!0,n)},n.B7=function(t,n,i){if(!this.Mg(t))return mk.Pm;var e,r=new VU(this,t,n,i);do{e=r._7()}while(!e.w7&&!e.ts);if(!e.w7)return mk.Pm;var s=e.tw;return s.Lw(this.tw)?this.tw:s},n.P7=function(t,n,i,e){if(!this.Mg(t))return mk.Pm;var r,s,u,o,h,a=new zU(this,t,n,i,e),c=new VU(this,t,n,i,e);do{r=a._7(),s=c._7()}while(!(r.w7||s.w7||r.ts&&s.ts));if(s.w7)u=s,o=r,h=a;else{if(!r.w7)return mk.Pm;u=r,o=s,h=c}if(u.tw.Lw(this.tw)){for(;!o.w7&&!o.ts;)o=h._7();return o.w7?mk.Sm(this.tw,o.tw):this.tw}if(u.d7){for(;!o.d7&&!o.w7&&!o.ts;)o=h._7();if(o.w7&&!o.d7&&this.tw.Pw(o.tw))return o.tw}return u.tw},n.M0=function(t,n){return this.Mg(t)&&this.y7?this.k7(n,t.p7):mk.Pm},n.c7=function(){0},A(t,[{key:"y7",get:function(){return!this.S7.zw()}}]),t}();function XU(t,n){return n.Lw(t.tw)?ys.wr:n.xw(t.nw)?ys.mr:ys.gr}var qU=function(){function t(){this.W7=new mP}var n=t.prototype;return n.kY=function(t){return this.W7.kY(t)},n.yY=function(t){return this.W7.yY(t)},n.X7=function(t){var n=this.W7.mY(t);return n<0?null:this.W7.yY(n-1)},n._7=function(t){var n=this.W7.mY(t);return n<0?null:this.W7.yY(n+1)},n.q7=function(){return this.W7.yY(0)},n.G7=function(){var t=this.W7.sl;return 0===t?null:this.W7.yY(t-1)},n.Q7=function(t){var n=this.W7,i=this.G7();if(i&&function(t,n){return t.tw.Pw(n)&&n.Lw(t.nw)}(i,t))return i;var e=VD(this.W7.AY(),t,J,XU);return n.yY(e)},n.Lg=function(t){var n=this.W7.Lg(t);if(n&&!this._7(t._Y)){t.T7=!0;var i=this.X7(t._Y);i&&(i.T7=!1)}return n},n.jo=function(t){var n=this.W7.jo(t);if(n&&t.T7){t.T7=!1;var i=this.X7(t._Y);i&&(i.T7=!0)}return n},n.EY=function(t){this.W7.EY(t)},n.c7=function(){},A(t,[{key:"sl",get:function(){return this.W7.sl}}]),t}();var GU=mk.Om(10),QU=function(){function t(t,n,i){this.sZ=void 0,this.Y7=!1,this.j7=!1,this.Z7=new qU,this.J7=mk.jw,this.K7=void 0,this.ttt=null,this.ntt=null,this.I7=void 0,this.sZ=t,this.K7=n.liveOffset,this.I7=i}var n=t.prototype;return n.itt=function(t){var n=this.sZ,i=t?t.fragments:null,e=n.BY;if(!t||!i||!i.length)return!1;this.Y7=!0;var r,s=!1;if(!this.Z7.sl){var u=e.kY(i[0]._Y).LY,o=new WU(u,n,this.I7);o.M7(this.ps),this.Z7.Lg(o),s=!0}if(this.ntt){var h=e.mY(this.ntt._Y);r=h<0?0:h+1}else r=0;for(var a=r,c=e.yY(a),f=null,v=!1;c;){var d=c.LY;if(f&&f._Y===d||(f&&v&&this.ett(f),f=this.Z7.kY(d),s=s||v,v=!1),!f){f=new WU(d,n,this.I7),this.Z7.Lg(f);var l=this.Z7.X7(d);f.U7(l||void 0)}v=f.H7(c)||v,c=e.yY(++a)}return f&&v&&this.ett(f),(s=s||v)&&this.rtt(),this.Z7.G7()&&this.ZZ(n.BY),this.ttt=e.kY(i[0]._Y),this.ntt=e.kY(i[i.length-1]._Y),s},n.N7=function(t){var n=this.Z7.kY(t.LY);if(!n)return!1;this.j7=!0;var i=this.Z7.X7(n._Y),e=n.N7(t,i);return e&&this.ett(n),e},n.ett=function(t){for(var n=t,i=this.Z7._7(t._Y),e=!0;e&&i;)e=i.U7(n),n=i,i=this.Z7._7(i._Y)},n.rtt=function(){for(var t=!1,n=this.Z7.q7(),i=n&&this.Z7._7(n._Y);n&&i;)n.nw.Dw(i.tw)&&(i.M7(n.nw),t=!0),n=i,i=this.Z7._7(n._Y);return t},n.stt=function(t){var n=this.Z7.G7(),i=t.Z7.G7();if(!this.I7){if(n&&this.utt(t,n._Y))return!0;if(i&&this.utt(t,i._Y))return!0}return this.ott?!(!n||!this.htt(t,n._Y))||(!(!i||!this.htt(t,i._Y))||(!(!n||!this.att(t,n._Y))||(!(!i||!this.att(t,i._Y))||this.ctt(t)))):this.ftt(t)},n.ftt=function(t){var n=this.Z7.q7(),i=t.Z7.q7();return!(!n||!i)&&(this.gs(i.tw.Hw(n.tw)),!0)},n.utt=function(t,n){var i=this.Z7.kY(n);if(!i||!i.y7)return!1;var e=t.Z7.kY(n);return!(!e||!e.y7)&&(this.gs(i.z7(e)),!0)},n.htt=function(t,n){var i=this.Z7.kY(n);if(!i||!i.L7())return!1;var e=t.Z7.kY(n);return!(!e||!e.L7())&&(this.gs(e.tw.Hw(i.tw)),!0)},n.att=function(t,n){var i=this.Z7.kY(n);if(!i)return!1;var e=this.dtt(i.b7._Y);if(!e)return!1;var r=t.Z7.kY(n);if(!r)return!1;var s=t.dtt(r.b7._Y);if(!s)return!1;var u=i.V7(i.b7),o=r.V7(r.b7),h=mk.Um(e).Hw(mk.Um(s)),a=u.Hw(o);return this.gs(h.Hw(a)),!0},n.ctt=function(t){if(!this.j7&&!t.j7)return!1;var n=this.Z7.G7(),i=t.Z7.G7();if(n&&n.b7&&i&&i.b7){var e=mk.Qw(n.b7.Qk-i.b7.Qk,1e3),r=n.nw.Hw(i.nw);return this.gs(e.Hw(r)),!0}return!1},n.ZZ=function(t){var n=this.Z7.G7();if(n)for(var i=n.nw,e=t.sl-1;e>=0;e--){var r=t.yY(e);if(i=i.Hw(mk.Om(r.duration)),void 0!==r.p7){0;break}r.p7=i}},n.W9=function(t){var n=this.Z7.Q7(t);return n?n._Y:NaN},n.O0=function(t,n){var i=this.Z7.kY(t.LY);return i?i.V7(t,n):mk.Pm},n.P0=function(t,n){var i=this.sZ.BY.kY(t._Y+1);if(i){var e=this.O0(i);return e}return n.Lg(function(t){if(!t)return mk.jw;if(!CP(t))return mk.Om(t.duration);var n=t.cj||mk.jw,i=t.fj||mk.jw,e=mk.Om(t.duration);return n.tm()||i.tm()?n.tm()?i.tm()?e.tm()?e:mk.jw:i:n:mk.Sm(n,i)}(t))},n.M0=function(t,n){var i=this.Z7.kY(t.LY);return i&&i.y7?i.M0(t,n):mk.Pm},n.o5=function(t,n){var i=this.sZ.BY;return i.sl?function(t,n,i,e,r){var s,u,o=t.sZ.BY,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.O0(o.yY(n),r)},c=i,f=a(c),v=e,d=a(v);if(n.Lw(f))return{dp:s=o.yY(c),ltt:f};if(n.xw(d)&&(s=o.yY(v)).n3)return{dp:s,ltt:d};for(;f.Pw(n)&&n.Pw(d);){var l=void 0,g=void 0,w=void 0;if(c===v?(l=c,g=f):(l=c+_.round(n.Hw(f).Nw()*(v-c)/d.Hw(f).Nw())||0,g=a(l)),g.Dw(n))d=a(v=l-1);else{if(s=o.yY(l),!(w=(u=l)===e?a(u).Lg(xP(o.yY(u))):a(u+1)).Pw(n))return s&&n.Pw(g.Lg(xP(s)))?{dp:s,ltt:g}:(s=o.yY(l+1))&&{dp:s,ltt:w};c=l+1,f=w}}if(d.Pw(n)){if((s=o.yY(v))&&n.Pw(d.Lg(xP(s))))return{dp:s,ltt:d};if(v<e&&(s=o.yY(v+1),d=a(v+1),s&&n.Lw(d)))return{dp:s,ltt:d}}return null}(this,t,0,i.sl-1,n):null},n.dtt=function(t){var n=this.sZ.BY,i=n.mY(t),e=n.yY(i),r=e,s=mk.jw;if(e.lZ)return e.lZ;for(var u=i-1;u>=0;u--){var o=n.yY(u);if(s=s.Lg(xP(o)).Lg(UU(o,r)),o.lZ)return new Date(o.lZ.getTime()+1e3*s.Nw());r=o}return null},n._tt=function(t){for(var n=this.sZ.BY,i=void 0,e=0;e<n.sl;e++){var r=n.yY(e);if(r.lZ){if(!(r.lZ.getTime()<=t.getTime())){i=i||r;break}i=r}}if(!i)return mk.Pm;var s=mk.Um(t).Hw(mk.Um(i.lZ));return this.O0(i).Lg(s)},n.gs=function(t){if(!t.mw(mk.jw))for(var n=this.Z7.sl,i=0;i<n;i++){var e=this.Z7.yY(i);e.M7(e.tw.Lg(t))}},n.F9=function(t){var n=this.Z7.kY(t);return n&&n.y7},n.H9=function(t,n){if(this===t)return mk.jw;var i=this.Z7.kY(n),e=t.Z7.kY(n);return i&&e?i.z7(e):mk.Pm},n.c7=function(){0},A(t,[{key:"ott",get:function(){var t=this.sZ.MY;return!!t&&t.live}},{key:"gtt",get:function(){var t=this.sZ.MY;return!!t&&t.isEvent}},{key:"wtt",get:function(){var t=this.ttt;return t?this.O0(t):mk.jw}},{key:"mtt",get:function(){var t=this.Z7.G7();return t?t.nw:mk.jw}},{key:"ytt",get:function(){if(!this.ott)return mk.jw;var t=this.mtt.Hw(this.ktt);return mk.Sm(this.wtt,t)}},{key:"ktt",get:function(){return this.K7&&mk.Om(this.K7)||this.ptt._m(3)}},{key:"btt",get:function(){return this.ott&&this.ntt?mk.Qw(ER()-this.ntt.Qk,1e3):mk.jw}},{key:"ptt",get:function(){var t=this.sZ.MY;return t&&t.targetDuration?mk.Om(t.targetDuration):GU}},{key:"ps",get:function(){return this.J7},set:function(t){var n=t.Hw(this.J7);this.J7=t,this.gs(n)}}]),t}(),YU=function(t){function n(n){var i;return(i=t.call(this)||this).Att=[],i.Ttt={},i.Stt=null,i.Ett=null,i.J7=mk.jw,i.I7=void 0,i.Rtt=void 0,i.Rtt=n,i}S(n,t);var i=n.prototype;return i.Itt=function(t){return t&&this.Ttt[t._l]||null},i.Ntt=function(t){var n=this.Itt(t);return n||((n=new QU(t,this.Rtt,!!this.I7)).ps=this.J7,this.Att.push(n),this.Ttt[t._l]=n),n},i.Dtt=function(t){var n;switch(null==(n=this.Rtt.hls)?void 0:n.discontinuityAlignment){case TE.jN:return!0;case TE.ZN:return!1;default:return t.isEvent||t.hasEnd}},i.itt=function(t,n){void 0===this.I7&&(this.I7=this.Dtt(n));var i=this.Itt(this.Stt),e=i?i.wtt:mk.jw,r=i?i.mtt:mk.jw,s=this.Ntt(t),u=s.Y7,o=s.itt(n);if(!u&&s.Y7&&(s.gs(this.Ctt(t)),o=!0),o=this.xtt(s)||o,this.Ott(s,e,r)){var h=new vP(fP.fY,{code:"MFU0166"});this.dispatchEvent({type:"ts",ts:h})}else this.Stt=t,o&&this.dispatchEvent("$Z")},i.N7=function(t,n){if(CP(n)){0;var i=this.Ntt(t),e=i.N7(n);e=this.xtt(i)||e,this.Ett=t,e&&this.dispatchEvent("$Z")}},i.xtt=function(t){var n=!1,i=!1,e=this.Itt(this.Ett);e&&(e===t?n=!0:i=(n=t.stt(e))||i);var r=this.Itt(this.Stt);return r&&r!==t&&(i=n?r.stt(t)||i:t.stt(r)||i),i},i.Ctt=function(t){var n=this.Itt(t),i=!n.ott,e=t.MY&&t.MY.isEvent;return i||e?mk.jw:n.ptt._m(3)},i.Ott=function(t,n,i){if(!t.ott)return!1;var e=t.wtt,r=t.mtt,s=mk.Em(r,i).Hw(mk.Sm(e,n)),u=mk.Sm(t.ptt._m(3),s.ym(2));return e.Lg(u).Lw(n)},i.ZZ=function(t,n){var i=this.Itt(t)||this.Itt(this.Stt);return i&&i.ZZ(n)},i.W9=function(t){var n=this.Stt&&this.Itt(this.Stt);return n?n.W9(t):NaN},i.Ptt=function(t,n){var i=t.UY(n);return this.O0(i)},i.O0=function(t){if(!t)return mk.Pm;var n=this.Itt(t.sZ)||this.Itt(this.Stt);return n?n.O0(t):mk.Pm},i.P0=function(t,n){if(!t)return mk.Pm;var i=this.Itt(t.sZ)||this.Itt(this.Stt);return i?i.P0(t,n):mk.Pm},i.M0=function(t,n){if(!t||!n)return mk.Pm;var i=this.Itt(t.sZ)||this.Itt(this.Stt);return i?i.M0(t,n):mk.Pm},i.o5=function(t,n,i){var e=this.Itt(t);if(!e)return null;var r=e.o5(n,i);return r?{dp:r.dp,ltt:r.ltt}:null},i.dtt=function(t,n){var i=this.Itt(t)||this.Itt(this.Stt);return i?i.dtt(n):null},i._tt=function(t,n){var i=this.Itt(t)||this.Itt(this.Stt);return i?i._tt(n):mk.Pm},i.F9=function(t){return void 0!==this.Btt(t)},i.H9=function(t,n){if(this===t)return mk.jw;var i=this.Btt(n),e=t.Btt(n);return i&&e?i.H9(e,n):mk.Pm},i.Btt=function(t){return Ns(this.Att,function(n){return n.F9(t)})},i.hv=function(){this.Wr(),this.Att.length=0,this.Ttt={},this.Stt=null,this.Ett=null,this.J7=mk.jw},i.c7=function(){0},A(n,[{key:"Ltt",get:function(){return this.wtt.Hw(this.ptt._m(3))}},{key:"ktt",get:function(){var t=this.Rtt.liveOffset;return mk.Om(t||3*this.ptt.Nw())}},{key:"ott",get:function(){var t=this.Itt(this.Stt);return!!t&&t.ott}},{key:"xg",get:function(){return this.Stt?new xB([{RR:this.wtt.Nw(),NR:this.mtt.Nw()}]):OB}},{key:"wtt",get:function(){if(!this.Stt)return mk.jw;var t=this.Itt(this.Stt);return t.gtt?t.wtt:t.wtt.Lg(t.btt)}},{key:"mtt",get:function(){if(!this.Stt)return mk.jw;var t=this.Itt(this.Stt);return t.mtt.Lg(t.btt)}},{key:"ytt",get:function(){if(!this.Stt)return mk.jw;var t=this.Itt(this.Stt);return t.ytt.Lg(t.btt)}},{key:"ptt",get:function(){return this.Stt?this.Itt(this.Stt).ptt:GU}},{key:"ps",get:function(){return this.J7},set:function(t){if(!this.J7.mw(t)){this.J7=t;for(var n=0,i=this.Att;n<i.length;n++){i[n].ps=t}this.dispatchEvent("$Z")}}}]),n}(aP),jU=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Ctt=function(t){return mk.jw},n}(YU),ZU=.25,JU=1/60;function $U(t,n){return Rs(t,n,JU)}var KU,tF=function(t,n,i){this.sZ=void 0,this.tw=void 0,this.d_=void 0,this.nw=void 0,this.dp=void 0,this.Mtt=NaN,this.Utt=NaN,this.Ftt=0,this.sZ=t.sZ,this.tw=n,this.nw=i,this.d_=i-n,this.dp=t},nF=function(t,n,i){this.sZ=void 0,this.tw=void 0,this.d_=void 0,this.nw=void 0,this.Mtt=NaN,this.Utt=NaN,this.Ftt=0,this.sZ=t,this.tw=n,this.nw=i,this.d_=i-n};function iF(t){return!(!t||!t.dp)}function eF(t,n,i){return e=n,r=i,s=t.tw,u=t.nw,$U(e,u)<=0&&$U(s,r)<=0;var e,r,s,u}function rF(t,n){return $U(t.tw,n)<=0?t.nw:t.tw}function sF(t,n,i){return(t-n)/i-ZU}function uF(t,n){return n.Hw(t).jR(t)}function oF(t,n){var i=_.min(JU,t.d_/2);return n.KR(t.tw,t.nw,i)}function hF(t,n){var i=n.T0(t);return-1===i?t:n.end(i)}function aF(t){return t.Utt<=t.Mtt}function cF(t,n){if(!aF(n))return!1;for(var i=0;i<t.length;i++){var e=t[i];if(e.Ftt+n.Utt>e.Mtt)return!1}return!0}function fF(t,n){for(var i=0;i<t.length;i++){t[i].Ftt+=n.Utt}n.Ftt=n.Utt,t.push(n)}!function(t){t[t.Htt=0]="Htt",t[t.ztt=1]="ztt",t[t.Vtt=2]="Vtt",t[t.B5=3]="B5"}(KU||(KU={}));var vF=function(){function t(t,n,i,e){this.rp=void 0,this.jb=void 0,this.Wtt=void 0,this.Xtt=void 0,this.qtt=void 0,this.WK=void 0,this.rp=t,this.jb=n,this.Wtt=i,this.Xtt=e,this.qtt=pB.Rn.wK,this.WK=pB.Rn.gK}var n=t.prototype;return n.Gtt=function(){return this.Wtt.Bj.reduce(function(t,n){return _.max(t,n.MY&&n.MY.targetDuration||0)},0)},n.Qtt=function(t,n){void 0===n&&(n=this.jb.O0(t).Nw());var i=this.jb.P0(t,mk.Om(n));return new tF(t,n,i.Nw())},n.Ytt=function(t,n){var i=t.BY.yY(n);return i&&this.Qtt(i)||null},n.jtt=function(t){var n=t.sZ,i=n.BY.mY(t._Y);return i>=0&&this.Ytt(n,i-1)||null},n.Ztt=function(t){var n=t.sZ,i=n.BY.mY(t._Y);return i>=0&&this.Ytt(n,i+1)||null},n.Jtt=function(t,n){var i=this.jb.o5(t,mk.Om(n));return i&&this.Qtt(i.dp,i.ltt.Nw())||null},n.$tt=function(t){var n=t.BY.sl-1;return n>=0&&this.Ytt(t,n)||null},n.Ktt=function(t,n,i){var e=t.MY&&t.MY.targetDuration||this.Gtt()||10,r=_.max(0,n-e),s=r+e;return i&&eF(i,r,s)&&(s=(r=i.nw)+e),new nF(t,r,s)},n.tnt=function(t,n,i){var e=this.Xtt.i6,r=.8*this.Xtt.e6,s=(n.bandwidth||0)*t.d_;return i&&i.Q$?((s=8*i.c0||s)-8*i.a0)/r:e+s/r},n.nnt=function(){for(var t=this.Xtt.C4(this.rp),n=this.Xtt.h4(this.rp),i=0;i<n.length;i++){var e=n[i];-1===t.indexOf(e)&&t.push(e)}return t},n.int=function(t,n){var i=n.filter(function(n){return n.sZ===t});return tL(this.jb,i).D0()},n.ent=function(t){return"audio"===this.rp&&t?[t]:this.Wtt.Bj},n.rnt=function(t){for(var n=new KB([]),i=new KB([]),e=this.nnt(),r={snt:{},unt:{},ont:{},hnt:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.int(u,e),h=rL(this.jb,o);r.snt[u._l]=o,r.unt[u._l]=h,r.ont[u._l]=n=uF(n,o),r.hnt[u._l]=i=uF(i,h)}return r},n.ant=function(t,n,i,e,r){for(var s,u,o,h,a=[],c=0;c<e.length;c++)for(var f=r[e[c]._l],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({RR:d,NR:l})}return 0===(s=LB(s=BB(new xB(a)),new xB([{RR:t,NR:n}]))).length||$U(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,$U(u,t)<=0&&$U(h,o)<=0)?NaN:s.end(0)},n.cnt=function(t,n,i){var e=null,r=i.snt[t._l],s=i.ont[t._l],u=i.hnt[t._l],o=s.T0(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new xB([{RR:h,NR:a}]),f=s.WR(c).Hw(u),v=0;v<f.length;v++){var d=f.start(v),l=f.BY(v)[0];if(l.dp.sZ===t){if(e=this.jtt(l.dp))return e}else{for(e=this.Jtt(t,d);e&&oF(e,r);)e=this.jtt(e.dp);if(e)return e}}var g=s.BY(o),w=g[g.length-1];if(w.dp.sZ===t&&(e=this.Ztt(w.dp)))return e}var m=this.$tt(t);if(!m||$U(m.nw,n)<=0){if(!m||!m.dp.n3)return e=this.Ktt(t,n,m);e=m}for(e||(e=this.Jtt(t,n));e&&oF(e,s);)e=this.Ztt(e.dp);return e},n.fnt=function(t,n){var i=this.$tt(t);return i&&i.dp.n3&&$U(i.nw,n)<=0?i:this.Jtt(t,n)},n.vnt=function(t,n,i,e,r,s,u,o){var h=t.sZ,a=u.ont[h._l],c=!oF(t,a),f=c?n:rF(t,e);t.Mtt=sF(f,e,s),t.Utt=this.tnt(t,h);var v=o&&this.Qtt(o);if(v&&!oF(v,a)){var d=rF(v,e);if(v.Mtt=sF(d,e,s),v.Utt=this.tnt(v,h,i&&i.XK),aF(v)&&(!c||function(t,n){var i=[];return!!cF(i,n)&&(fF(i,n),!(!iF(t)||!iF(n)||t.dp!==n.dp)||!!cF(i,t))}(t,v)))return v}if(c&&!aF(t))return null;var l=this.dnt(t,e,r,s,a);return l.length&&l[l.length-1]||null},n.dnt=function(t,n,i,e,r){for(var s=[],u=t.sZ,o=t;o&&n<o.nw&&i<=o.tw;){if(!oF(o,r)){if(m(o.Mtt)){var h=rF(o,n);o.Mtt=sF(h,n,e),o.Utt=this.tnt(o,u)}cF(s,o)&&fF(s,o)}o=iF(o)&&this.jtt(o.dp)}return s},n.lnt=function(t,n){return t.tw<n?{wl:KU.Vtt}:iF(t)?{wl:KU.Htt,dp:t.dp,tw:t.tw}:{wl:KU.ztt,sZ:t.sZ}},n.I4=function(t){if(DP(t.uri)){var n=t.uri,i=AB(n.oj,[n.hj.RR,n.hj.NR]);return this.WK.as(i)}var e=AB(t.uri);return this.WK.as(e)},n._nt=function(t){return this.qtt.as(t.uri)},n.gnt=function(t,n,i,e,r,s,u,o,h){var a,c,f,v,d,l,_,g,w,y,k,p,b;return Er.async(function(A){for(;;)switch(A.prev=A.next){case 0:if(a=this.ent(e),c=this.rnt(a),f=this.jb.Ltt.Nw(),v=this.ant(t,n,r,a,c.unt),_=null,w=!1,!m(v)){A.next=3;break}return A.abrupt("return",{wl:KU.B5});case 3:if(!(v<f)){A.next=5;break}return A.abrupt("return",{wl:KU.Vtt});case 5:y=o.length-1;case 6:if(!(y>=0)){A.next=27;break}if(d=o[y],l=hF(v,c.unt[d._l]),!(_=this.cnt(d,l,c))){A.next=24;break}if(k=!1,!iF(_)){A.next=18;break}return A.next=15,Er.awrap(this.I4(_.dp));case 15:k=A.sent,A.next=22;break;case 18:if(d.kZ){A.next=22;break}return A.next=21,Er.awrap(this._nt(d));case 21:k=A.sent;case 22:if(!k){A.next=24;break}return A.abrupt("return",this.lnt(_,f));case 24:y-=1,A.next=6;break;case 27:if(!(v<=t+ZU&&h.length)){A.next=33;break}if(d=h[0],l=hF(v,c.unt[d._l]),!(_=this.cnt(d,l,c))){A.next=33;break}return A.abrupt("return",this.lnt(_,f));case 33:p=h.length-1;case 34:if(!(p>=0)){A.next=48;break}if(d=h[p],l=hF(v,c.unt[d._l]),(_=this.cnt(d,l,c))?g=_:(w=!0,g=this.fnt(d,l)),!g){A.next=45;break}if(!(b=this.vnt(g,l,s,t,f,i,c,u))){A.next=45;break}return A.abrupt("return",this.lnt(b,f));case 45:p-=1,A.next=34;break;case 48:if(!w){A.next=50;break}return A.abrupt("return",{wl:KU.B5});case 50:if(!_){A.next=52;break}return A.abrupt("return",this.lnt(_,f));case 52:if(o.length){A.next=54;break}return A.abrupt("return",{wl:KU.B5});case 54:if(d=o[0],l=hF(v,c.unt[d._l]),!(_=this.cnt(d,l,c))){A.next=61;break}return A.abrupt("return",this.lnt(_,f));case 61:return A.abrupt("return",{wl:KU.B5});case 62:case"end":return A.stop()}},null,this,null,ze)},t}(),dF=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n)||this).wnt=i,o.mnt=e,o.wb=r,o.rp=s,o.rv=u,o}return S(n,t),n}(ru),lF=function(t){function n(n,i,e,r,s){return t.call(this,Xc.Ca,n,i,e,r,s)||this}return S(n,t),n}(dF),_F=function(t){function n(n,i,e,r,s,u,o){var h;return(h=t.call(this,Xc.Oa,n,i,e,r,s)||this).ynt=u,h.Rg=o,h}return S(n,t),n}(dF),gF=function(t){function n(n,i,e){return t.call(this,n,i,e,!1)||this}return S(n,t),n}($y),wF=function(){function t(t,n){this.Xq=t,this.xq=n}return t.prototype.mw=function(t){return this.Xq===t.Xq&&this.xq===t.xq},t}(),mF=function(){function t(t,n){this.knt="",this.ZP=t,this.pnt=n}var n=t.prototype;return n.bnt=function(t){this.knt+=t},n.Ant=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.bnt(i)}},A(t,[{key:"Kq",get:function(){return this.knt}},{key:"Yq",get:function(){return[this]}},{key:"Jq",get:function(){return this.ZP}},{key:"nG",get:function(){return this.pnt}},{key:"tG",get:function(){return new wF(this.nG.Xq,this.nG.xq+this.Kq.length-1)}}]),t}(),yF=function(){function t(){}var n=t.prototype;return n.Tnt=function(t){return t.qm(this)},n.Snt=function(t){var n,i,e=this,r=t.map(function(t,n){return t.qm(e,n)});return n=r,(i=[]).concat.apply(i,n)},n.Ent=function(t,n){return new kF(t,n).Rnt()},t}(),kF=function(){function t(t,n){this.Int=[],this.Nnt=null,this.Xq=t,this.Dnt=n}var n=t.prototype;return n.Rnt=function(){if(this.Cnt)return[];for(var t=0;t<this.Xq.length;t++)this.xnt(t);return this.Ont(),this.Int},n.Pnt=function(t){this.Nnt=new mF(OO,new wF(this.Dnt,t))},n.Ont=function(){this.Nnt&&(this.Int.push(this.Nnt),this.Nnt=null)},n.xnt=function(t){var n=this.Xq[t];pF(n)?this.Nnt&&this.Ont():(this.Nnt||this.Pnt(t),this.Nnt.bnt(n))},A(t,[{key:"Cnt",get:function(){return this.Xq.every(pF)}}]),t}();function pF(t){return null==t}var bF=function(){function t(){}return t.Bnt=function(t,n,i){if(!(n>=i)){var e=Bs(t,function(t,n){return new kF(t.map(function(t){return t?t.Lnt():null}),n).Rnt()});if(0!==e.length)return new gF(n,i,e)}},t}(),AF="black",TF="white",SF=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),EF=function(){function t(){this.Mnt=[],this.Unt=0,this.Fnt=void 0;for(var t=0;t<LO;t++)this.Mnt.push(null);this.Fnt=!1}var n=t.prototype;return n.Hnt=function(t){for(var n=0;n<LO;n++)t&&(this.Mnt[n]=t.Mnt[n])},n.mw=function(t){for(var n=0;n<LO;n++)if(this.Mnt[n]!==t.Mnt[n])return!1;return!0},n.znt=function(){for(var t=0;t<LO;t++)if(null!==this.Mnt[t])return!1;return!0},n.Vnt=function(t){this.Unt!==t&&(this.Unt=t),this.Unt<0?this.Unt=0:this.Unt>LO&&(this.Unt=LO-1)},n.Wnt=function(t){var n=this.Unt+t;this.Vnt(n)},n.Xnt=function(){this.Wnt(-1),this.Mnt[this.Unt]=null},n.bnt=function(t){t>=144&&this.Xnt();var n,i=SF[n=t]?String.fromCharCode(SF[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Unt>=LO||(32===Number(t)?(this.Mnt[this.Unt]=this.Fnt?"</i>":"<i>",this.Fnt=!this.Fnt):this.Mnt[this.Unt]=t,this.Wnt(1))},n.qnt=function(t){for(var n=t;n<LO;n++)this.Mnt[n]=null},n.ds=function(){this.qnt(0),this.Unt=0},n.Gnt=function(){this.qnt(this.Unt)},n.Qnt=function(t,n){for(var i=this.Mnt,e=null,r=0;r<LO;r++){var s=i[r];null===s?e=null:(e||(e={Ynt:r,jnt:t,Rw:0,hp:1,Mnt:[[]]},n.push(e)),e.Mnt[0].push(s),e.Rw++)}},n.qm=function(t,n){return t.Ent(this.Mnt,n)},t}();var RF,IF=function(){function t(t,n){this.Znt=void 0,this.Jnt=void 0,this.$nt=void 0,this.Knt=void 0,this.tit=void 0,this.nit=void 0,this.iit=void 0,this.eit=void 0,this.rit=void 0,this.Znt=new Array(NF+1);for(var i=0;i<=NF;i++)this.Znt[i]=new EF;this.Jnt=1,this.$nt=0,this.Knt=t,this.tit=n,this.nit=!1,this.iit=!1,this.eit=TF,this.rit=AF,this.nl()}var n=t.prototype;return n.sit=function(t,n){var i="CC"+(this.Knt<<1|this.tit+1);if(t>=n)return null;var e=(new yF).Snt(this.Znt.slice(1));return 0===e.length?null:{Kg:new gF(t,n,e),wf:i,uit:this.Knt<<1|this.tit+1}},n.nl=function(){this.oit(),this.Jnt=1},n.hit=function(){return this.Jnt},n.ait=function(t){this.Jnt=t},n.Vnt=function(t){this.Znt[this.Jnt].Vnt(t)},n.Wnt=function(t){this.Znt[this.Jnt].Wnt(t)},n.cit=function(){return this.$nt},n.fit=function(t){this.$nt=t},n.bnt=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case RF.vit:i=void 0!==CF[n]?CF[n]:String.fromCharCode(n);break;case RF.dit:i=xF[n];break;case RF.lit:this._it(),i=OF[n];break;case RF.git:this._it(),i=PF[n]}i&&this.Znt[this.Jnt].addParsedChar(i)}},n._it=function(){this.Znt[this.Jnt].Xnt()},n.wit=function(t,n,i){if(t>=n)for(var e=i-1;e>=0;e--)this.Znt[t+e]=this.Znt[n+e];else for(var r=0;r<i;r++)this.Znt[t+r]=this.Znt[n+r]},n.mit=function(t,n){for(var i=0;i<=n;i++)this.Znt[t+i]=new EF},n.oit=function(){this.mit(0,NF)},n.yit=function(){this.Jnt=this.$nt>0?this.$nt:0,this.oit()},n.kit=function(t){this.nit=t},n.pit=function(t){this.iit=t},n.Ait=function(t){this.eit=t},n.Tit=function(t){this.rit=t},t}(),NF=15;!function(t){t[t.vit=0]="vit",t[t.dit=1]="dit",t[t.lit=2]="lit",t[t.git=3]="git"}(RF||(RF={}));var DF,CF={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},xF={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},OF={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},PF={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},BF=function(){function t(t,n){this.fi=void 0,this.Sit=void 0,this.Eit=void 0,this.Rit=void 0,this.Iit=void 0,this.Nit=void 0,this.Dit=void 0,this.Cit=void 0,this.fi=DF.dR,this.Sit=new IF(t,n),this.Eit=new IF(t,n),this.Rit=new IF(t,n),this.Iit=this.Eit,this.Nit=0,this.Dit=void 0,this.Cit=!1}var n=t.prototype;return n.nl=function(){this.Cit=!0,this.Nit=0,this.fi=DF.dR,this.Iit=this.Eit,this.Dit=void 0,this.Eit.nl(),this.Rit.nl(),this.Sit.nl()},n.xit=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Oit=function(t,n){var i=this.xit(t,n),e=(30&n)>>1,r=TF,s=!1;e<7?r=FF[e]:7===e&&(s=!0);var u=1==(1&n);if(this.fi!==DF.On){var o=this.Iit;if(this.fi===DF.Pit&&i!==o.hit()){var h=1+o.hit()-o.cit(),a=1+i-o.cit();o.wit(a,h,o.cit()),o.mit(0,a-1),o.mit(i+1,NF-i)}o.ait(i);var c=BO[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=function(t,n){var i=n>95?n-96:n-64;return{Cq:PO[i].Cq,Dq:PO[i].Dq,xq:PO[i].xq,Xq:t}}(c,n);o.Vnt(f.xq),this.Iit.kit(u),this.Iit.pit(s),this.Iit.Ait(r),this.Iit.Tit(AF)}}},n.Bit=function(t,n){this.Iit.kit(!1),this.Iit.pit(!1),this.Iit.Ait(TF);var i=this.Lit(t,RF.vit," ".charCodeAt(0)),e=TF,r=!1,s=1==(1&n);return"white_italics"===(e=FF[(14&n)>>1])&&(e="white",r=!0),this.Iit.kit(s),this.Iit.pit(r),this.Iit.Ait(e),i},n.Lit=function(t,n,i){if(this.Iit.bnt(n,i),this.fi===DF.Mit||this.fi===DF.Pit){var e=this.Uit(this.Iit,this.Nit,t);return this.Nit=t,e}return null},n.Uit=function(t,n,i){return this.Cit?null:t.sit(n,i)},n.Fit=function(t,n){var i=AF;0==(7&t)&&(i=UF[(14&n)>>1]),this.Iit.Tit(i)},n.Hit=function(t){var n=LF,i=t.zit,e=t.I6,r=null;switch(i){case n.RCL:this.Vit();break;case n.BS:this.Wit();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:r=this.Xit(2,e);break;case n.RU3:r=this.Xit(3,e);break;case n.RU4:r=this.Xit(4,e);break;case n.FON:r=this.qit(e);break;case n.RDC:this.Git(e);break;case n.TR:this.Qit();break;case n.RTD:this.Yit();break;case n.EDM:r=this.jit(e);break;case n.CR:r=this.Zit(e);break;case n.ENM:this.Jit();break;case n.EOC:r=this.$it(e)}return r},n.Zit=function(t){var n=this.Iit;if(this.fi!==DF.Pit)return null;var i=this.Uit(n,this.Nit,t),e=n.hit()-n.cit()+1;return n.wit(e-1,e,n.cit()),n.mit(0,e-1),n.mit(n.hit(),NF-n.hit()),this.Nit=t,i},n.Xit=function(t,n){this.Iit=this.Eit;var i=this.Iit,e=null;return this.fi!==DF.Pit&&this.fi!==DF.On&&(e=this.Uit(i,this.Nit,n),this.Eit.yit(),this.Rit.yit(),this.Cit=!1,i.ait(NF)),this.fi=DF.Pit,i.fit(t),e},n.qit=function(t){return this.Lit(t,RF.vit," ".charCodeAt(0))},n.jit=function(t){var n=this.Eit,i=null;return this.fi!==DF.On&&(i=this.Uit(n,this.Nit,t)),n.oit(),this.Cit=!1,i},n.Git=function(t){this.fi=DF.Mit,this.Iit=this.Eit,this.Iit.fit(0),this.Nit=t},n.Jit=function(){this.Rit.oit()},n.$it=function(t){var n=null;this.fi!==DF.On&&(n=this.Uit(this.Eit,this.Nit,t));var i=this.Rit;return this.Rit=this.Eit,this.Eit=i,this.Vit(),this.Nit=t,n},n.Vit=function(){this.fi=DF.Kit,this.Iit=this.Rit,this.Iit.fit(0)},n.Wit=function(){this.Iit._it()},n.Qit=function(){this.Sit.nl(),this.Cit=!1,this.Yit()},n.Yit=function(){this.Iit=this.Sit,this.fi=DF.On},n.tet=function(t,n,i){return this.Iit.bnt(RF.vit,n),this.Lit(t,RF.vit,i)},n.net=function(t,n,i){var e=1&n?RF.git:RF.lit;return this.Lit(t,e,i)},n.iet=function(t){var n=t.eet,i=t.zit,e=t.I6;if(this.Dit===(n<<8|i))return this.Dit=void 0,null;if(this.Dit=n<<8|i,this.ret(n,i))this.Oit(n,i);else{if(this.uet(n,i))return this.Bit(e,i);if(this.oet(n,i))this.Fit(n,i);else{if(this.het(n,i))return this.Lit(e,RF.dit,i);if(this.aet(n,i))return this.net(e,n,i);if(this.cet(n,i))return this.Hit(t);this.isTabOffset(n)&&this.Iit.Wnt(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.cet=function(t,n){return 20==(246&t)&&32==(240&n)},n.ret=function(t,n){return 16==(240&t)&&64==(192&n)},n.uet=function(t,n){return 17==(247&t)&&32==(240&n)},n.oet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.het=function(t,n){return 17==(247&t)&&48==(240&n)},n.aet=function(t,n){return 18==(246&t)&&32==(224&n)},t.fet=function(t){return 16==(112&t)},t}(),LF={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.dR=0]="dR",t[t.Kit=1]="Kit",t[t.Mit=2]="Mit",t[t.Pit=3]="Pit",t[t.On=4]="On"}(DF||(DF={}));var MF,UF=["black","green","blue","cyan","red","yellow","magenta","black"],FF=["white","green","blue","cyan","red","yellow","magenta","white_italics"],HF=function(){function t(t,n,i,e,r){this.vet=void 0,this.nit=void 0,this.iit=void 0,this.rit=void 0,this.eit=void 0,this.vet=t,this.nit=n,this.iit=i,this.rit=e,this.eit=r}var n=t.prototype;return n.Lnt=function(){return this.vet},n.det=function(){return this.nit},n.let=function(){return this.iit},n._et=function(){return this.rit},n.wet=function(){return this.eit},t}(),zF=function(){function t(t){this.met=void 0,this.yR=void 0,this.yet=void 0,this.ket=void 0,this.pet=void 0,this.bet=void 0,this.Aet=void 0,this.Tet=void 0,this.Eet=void 0,this.Ret=void 0,this.fw=void 0,this.Jnt=void 0,this.Iet=void 0,this.iit=void 0,this.nit=void 0,this.eit=void 0,this.rit=void 0,this.met=t,this.yR=!1,this.yet=!1,this.ket=0,this.pet=0,this.bet=0,this.Aet=0,this.Tet=0,this.Eet=MF.Net,this.Ret=[],this.fw=0,this.Jnt=0,this.Iet=0,this.iit=!1,this.nit=!1,this.eit=TF,this.rit=AF,this.Det()}var n=t.prototype;return n.Cet=function(t,n,i,e,r,s,u){this.yR=t,this.pet=n,this.ket=i,this.bet=e,this.yet=r,this.Aet=s,this.Tet=u},n.Det=function(){this.Ret=[];for(var t=0;t<qF;t++)this.Ret.push(this.xet())},n.xet=function(){for(var t=[],n=0;n<XF;n++)t.push(null);return t},n.Oet=function(t){this.Pet()&&(this.Ret[this.Jnt][this.Iet]=new HF(t,this.nit,this.iit,this.rit,this.eit),this.Iet++)},n.Bet=function(){this.Pet()&&(this.Iet<=0&&this.Jnt<=0||(this.Iet<=0?(this.Iet=this.Tet-1,this.Jnt--):this.Iet--,this.Ret[this.Jnt][this.Iet]=null))},n.Pet=function(){var t=this.Jnt<this.Aet&&this.Jnt>=0,n=this.Iet<this.Tet&&this.Iet>=0;return t&&n},n.Let=function(){return this.yR},n.Met=function(t){for(var n=0,i=t;i<qF;i++,n++)this.Ret[n]=this.Ret[i];for(var e=0;e<t;e++,n++)this.Ret[n]=this.xet()},n.Uet=function(){if(this.Jnt+1>=this.Aet)return this.Met(1),void(this.Iet=0);this.Jnt++,this.Iet=0},n.Fet=function(){this.Ret[this.Jnt]=this.xet(),this.Iet=0},n.sit=function(t,n){if(this.fw>=t)return null;var i=bF.Bnt(this.Ret,this.fw,t);return i?(this.M7(t),{Kg:i,wf:"svc"+n,uit:n}):null},n.Het=function(t,n){this.Jnt=t,this.Iet=n},n.zet=function(t){this.rit=t},n.Vet=function(t){this.eit=t},n.Wet=function(t){this.nit=t},n.Xet=function(t){this.iit=t},n.qet=function(){this.Jnt=0,this.Iet=0,this.nit=!1,this.iit=!1,this.eit=TF,this.rit=AF},n.Get=function(t){this.Eet=t},n.Qet=function(){this.yR=!0},n.cg=function(){this.yR=!1},n.Yet=function(){this.yR=!this.yR},n.M7=function(t){this.fw=t},t}();!function(t){t[t.jet=0]="jet",t[t.Zet=1]="Zet",t[t.Net=2]="Net",t[t.Jet=3]="Jet"}(MF||(MF={}));var VF,WF,XF=42,qF=15,GF=function(){function t(t){this.$et=void 0,this.Ket=void 0,this.trt=void 0,this.$et=t,this.Ket=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.trt=void 0}var n=t.prototype;return n.nrt=function(t){var n=t.irt(),i=n.qn,e=n.I6;i===JF&&(i=i<<16|t.irt().qn);return i>=0&&i<=31?this.ert(i,e):i>=128&&i<=159?this.rrt(t,i,e):(i>=4096&&i<=4127?this.urt(t,255&i):i>=4224&&i<=4255?this.ort(t,255&i):i>=32&&i<=127?this.hrt(i):i>=160&&i<=255?this.art(i):i>=4128&&i<=4223?this.crt(255&i):i>=4256&&i<=4351&&this.frt(255&i),null)},n.hrt=function(t){this.trt&&(127!==t?this.trt.Oet(String.fromCharCode(t)):this.trt.Oet("\u266a"))},n.art=function(t){this.trt&&this.trt.Oet(String.fromCharCode(t))},n.crt=function(t){if(this.trt)if(void 0!==$F[t]){var n=$F[t];this.trt.Oet(n)}else this.trt.Oet("_")},n.frt=function(t){this.trt&&(160===t?this.trt.Oet("[CC]"):this.trt.Oet("_"))},n.ert=function(t,n){if(!this.trt)return null;var i=this.trt,e=null;switch(t){case QF:i.Bet();break;case jF:i.Let()&&(e=i.sit(n,this.$et)),i.Uet();break;case ZF:i.Let()&&(e=i.sit(n,this.$et)),i.Fet();break;case YF:i.Let()&&(e=i.sit(n,this.$et)),i.Det(),i.Het(0,0)}return e},n.rrt=function(t,n,i){if(n>=128&&n<=135){var e=7&n;this.vrt(e)}else{if(136===n){var r=t.irt().qn;return this.drt(r,i)}if(137===n){var s=t.irt().qn;this.lrt(s,i)}else{if(138===n){var u=t.irt().qn;return this._rt(u,i)}if(139===n){var o=t.irt().qn;return this.grt(o,i)}if(140===n){var h=t.irt().qn;return this.wrt(h,i)}if(143===n)return this.nl(i);if(144===n)this.mrt(t);else if(145===n)this.yrt(t);else if(146===n)this.Het(t);else if(151===n)this.krt(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Cet(t,a,i)}}}return null},n.urt=function(t,n){n>=8&&n<=15?t.vk(1):n>=16&&n<=23?t.vk(2):n>=24&&n<=31&&t.vk(3)},n.ort=function(t,n){n>=128&&n<=135?t.vk(4):n>=136&&n<=143&&t.vk(5)},n.vrt=function(t){this.Ket[t]&&(this.trt=this.Ket[t])},n.prt=Er.mark(function t(n){var i;return Er.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Ket[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.drt=function(t,n){for(var i=null,e=0,r=this.prt(t);e<r.length;e++){var s=r[e],u=this.Ket[s];u.Let()&&(i=u.sit(n,this.$et)),u.Det()}return i},n.lrt=function(t,n){for(var i=0,e=this.prt(t);i<e.length;i++){var r=e[i],s=this.Ket[r];s.Let()||s.M7(n),s.Qet()}},n._rt=function(t,n){for(var i=null,e=0,r=this.prt(t);e<r.length;e++){var s=r[e],u=this.Ket[s];u.Let()&&(i=u.sit(n,this.$et)),u.cg()}return i},n.grt=function(t,n){for(var i=null,e=0,r=this.prt(t);e<r.length;e++){var s=r[e],u=this.Ket[s];u.Let()?i=u.sit(n,this.$et):u.M7(n),u.Yet()}return i},n.wrt=function(t,n){for(var i=null,e=0,r=this.prt(t);e<r.length;e++){var s=r[e],u=this.Ket[s];u.Let()&&(i=u.sit(n,this.$et)),this.Ket[s]=void 0}return i},n.nl=function(t){var n=this.wrt(255,t);return this.ds(),n},n.ds=function(){this.trt=void 0,this.Ket=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.mrt=function(t){t.vk(1);var n=t.irt().qn;if(this.trt){var i=(128&n)>0,e=(64&n)>0;this.trt.Xet(i),this.trt.Wet(e)}},n.yrt=function(t){var n=t.irt().qn,i=t.irt().qn;if(t.vk(1),this.trt){var e=3&n,r=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.brt(s,r,e),c=this.brt(h,o,u);this.trt.Vet(a),this.trt.zet(c)}},n.Het=function(t){var n=t.irt().qn,i=t.irt().qn;if(this.trt){var e=15&n,r=63&i;this.trt.Het(e,r)}},n.krt=function(t){t.vk(1),t.vk(1);var n=t.irt().qn;if(t.vk(1),this.trt){var i=3&n;this.trt.Get(i)}},n.Cet=function(t,n,i){var e=void 0!==this.Ket[n];if(!e){var r=new zF(n);r.M7(i),this.Ket[n]=r}var s=t.irt().qn,u=t.irt().qn,o=t.irt().qn,h=t.irt().qn,a=t.irt().qn,c=t.irt().qn,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);e&&0===(7&c)||this.Ket[n].qet(),this.Ket[n].Cet(f,v,l,g,d,_,w),this.trt=this.Ket[n]},n.brt=function(t,n,i){var e={0:0,1:0,2:1,3:1};return KF[e[t]<<2|e[n]<<1|e[i]]},t}(),QF=8,YF=12,jF=13,ZF=14,JF=16,$F={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},KF=["black","blue","green","cyan","red","magenta","yellow","white"];!function(t){t[t.Art=0]="Art",t[t.Trt=1]="Trt",t[t.Srt=2]="Srt",t[t.Ert=3]="Ert",t[t.Rrt=4]="Rrt",t[t.Irt=5]="Irt"}(VF||(VF={})),function(t){t[t.Nrt=0]="Nrt",t[t.Drt=1]="Drt",t[t.Crt=2]="Crt",t[t.xrt=3]="xrt"}(WF||(WF={}));var tH=function(){function t(){this.Ort=void 0,this.Prt=void 0,this.Brt=void 0,this.Ort=[],this.Prt=null,this.Brt=0}var n=t.prototype;return n.Lrt=function(t){if(t.nr===WF.xrt){var n=63&t.qn;return this.Brt=2*n-1,void(this.Prt=[])}if(this.Prt&&(this.Brt>0&&(this.Prt.push(t),this.Brt--),0===this.Brt)){var i=new nH(this.Prt);this.Ort.push(i),this.Prt=null,this.Brt=0}},n.Mrt=function(){return this.Ort},n.Urt=function(){this.Ort=[]},n.ds=function(){this.Ort=[],this.Prt=[],this.Brt=0},t}(),nH=function(){function t(t){this.Frt=void 0,this.Hrt=void 0,this.Frt=0,this.Hrt=t}var i=t.prototype;return i.zrt=function(){return this.Frt<this.Hrt.length},i.Vrt=function(){return this.Frt},i.irt=function(){if(!this.zrt())throw new Tc(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Hrt[this.Frt++]},i.vk=function(t){if(this.Frt+t>this.Hrt.length)throw new Tc(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Frt+=t},t}(),iH=function(){function t(){this.Wrt=void 0,this.Xrt=void 0,this.qrt=void 0,this.Grt=void 0,this.Qrt=void 0,this.Yrt=void 0,this.jrt=void 0,this.Zrt=void 0,this.Jrt=!1,this.Wrt=[],this.Xrt=[],this.qrt=new tH,this.Grt=0,this.Qrt=Cr({CC1:new BF(0,0),CC2:new BF(0,1),CC3:new BF(1,0),CC4:new BF(1,1)}),this.Yrt=0,this.jrt=0,this.Zrt=Dr(),this.nl()}var i=t.prototype;return i.ds=function(){this.Grt=0,this.Wrt=[],this.Xrt=[],this.qrt.ds(),this.nl(),this.Zrt.forEach(function(t){t.ds()})},i.nl=function(){this.Yrt=0,this.jrt=0,this.Qrt.forEach(function(t){t.nl()})},i.T2=function(t,n){if(t.l1){var i=t._1,e=t.g1,r=t.nr;r===WF.Nrt||r===WF.Drt?this.Wrt.push({I6:n,nr:r,eet:i,zit:e,$rt:this.Wrt.length}):this.Jrt&&(this.Xrt.push({I6:n,nr:r,qn:i,$rt:this.Xrt.length}),this.Xrt.push({I6:n,nr:WF.Crt,qn:e,$rt:this.Xrt.length}))}},i.KN=function(){var t=[];ps(this.Wrt,function(t,n){return t.I6-n.I6||t.$rt-n.$rt}),ps(this.Xrt,function(t,n){return t.I6-n.I6||t.$rt-n.$rt});for(var n=0,i=this.Wrt;n<i.length;n++){var e=i[n],r=this.Krt(e);r&&t.push(r)}for(var s=0,u=this.Xrt;s<u.length;s++){var o=u[s];this.qrt.Lrt(o)}for(var h=this.qrt.Mrt(),a=0;a<h.length;a++){var c=h[a],f=this.tst(c);t.push.apply(t,f)}return this.qrt.Urt(),this.Wrt=[],this.Xrt=[],t},i.Krt=function(t){var n=t.nr;if(BF.fet(t.eet)){var i=t.eet>>3&1;0===n?this.Yrt=i:this.jrt=i}var e="CC"+(n<<1|(n?this.jrt:this.Yrt)+1),r=this.Qrt.get(e);return 255===t.eet&&255===t.zit||!t.eet&&!t.zit||!this.nst(t.eet)||!this.nst(t.zit)?(++this.Grt>=45&&this.nl(),null):(this.Grt=0,t.eet&=127,t.zit&=127,t.eet||t.zit?BF.fet(t.eet)?r.iet(t):r.tet(t.I6,t.eet,t.zit):null)},i.tst=function(t){var i=[];try{for(;t.zrt();){var e=t.irt().qn,r=(224&e)>>5,s=31&e;if(7===r&&0!==s)r=63&t.irt().qn;if(0!==r){if(!this.Zrt.has(r)){var u=new GF(r);this.Zrt.set(r,u)}for(var o=this.Zrt.get(r),h=t.Vrt();t.Vrt()-h<s;){var a=o.nrt(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Tc&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.nst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),eH=function(t){function n(n,i){var e;return(e=t.call(this,"ist")||this).uit=n,e.Kg=i,e}return S(n,t),n}(ru),rH=function(t){function n(){var n;return(n=t.call(this)||this).est=void 0,n.est=new iH,n}S(n,t);var i=n.prototype;return i.rst=function(t,n){this.est.T2(t,n)},i.KN=function(){for(var t=this.est.KN(),n=0;n<t.length;n++){var i=t[n];this.Fr(new eH(i.uit,i.Kg))}},i.nl=function(){this.est.ds()},i.hv=function(){this.Wr(),this.est.ds()},n}(iu),sH=mk.Om(.1),uH=function(t){function n(n){var i;return(i=t.call(this)||this).GZ=void 0,i.sst=[],i.GZ=n,i}S(n,t);var i=n.prototype;return i.ust=function(t,n,i){var e=this.ost(t),r=this.hst(e);this.ast(r,n,i),this.KN()},i.ost=function(t){if(0===t.length)return[];for(var n=t[0].z6,i=this.cst(t[0]),e=[],r=0;r<t.length;r++){var s=t[r];n!==s.z6&&(n=s.z6,i=this.cst(s)),e.push(Rr({},s,{fst:s.v1.Lg(i)}))}return e},i.cst=function(t){var n=this.GZ.M0(t.z6,t.v1),i=n.Hw(t.v1);return Nk(n,t.v1).Hw(i)},i.hst=function(t){var n,i,e,r,s,u=t.slice().sort(oH),o=this.sst;if(o.length)if(u.length){var h=1/u[0].z6.qZ,a=u[0].fst,c=o[0].fst,f=o[o.length-1].fst,v=(r=o[0].z6,s=u[0].z6,r.sZ===s.sZ);if(f.Hw(a).Lw(mk.Om(2.5*h))&&v)n=o.concat(u).sort(oH);else if(a.xw(c)){for(var d=0;d<o.length&&o[d].fst.Lw(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],e=u[w],i.v1.mw(e.v1)&&i.nr===e.nr&&i._1===e.g1?l=!0:_=!0;var m=l&&!_,y=l&&_;!l&&_?n=o.concat(u).sort(oH):m?n=o.slice(0,d).concat(u):(n=u,y&&this.nl())}else n=u,this.nl()}else n=o;else n=u;return n},i.ast=function(t,n,i){if(0!==t.length){for(var e=t[0],r=n.Hw(e.fst),s=Nk(n,e.fst).Hw(r),u=n.Lg(s),o=sH.Rm(u.bm),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.Hw(a.fst).Lw(o))return void(this.sst=t.slice(h));var c=this.GZ.M0(a.z6,a.v1);this.rst(a,c.Nw())}this.sst=[]}},A(n,[{key:"xp",get:function(){return 4}}]),n}(rH);function oH(t,n){return(t.z6===n.z6?yk(t.v1,n.v1):yk(t.fst,n.fst))||Ss(t.wb,n.wb)}var hH=function(t){function n(n,i,e,r,s,u,o,h,a,c){var f;return(f=t.call(this)||this).vst=!1,f.dst=!1,f.f4=void 0,f.A$=void 0,f.lst=void 0,f.Xtt=void 0,f._st=void 0,f.Q9=void 0,f.rh=void 0,f.jb=void 0,f.gst=void 0,f.wst=!1,f.mst=void 0,f.yst=void 0,f.kst=!1,f.pst=!1,f.bst=null,f.EI=void 0,f.eJ=void 0,f.Ast=void 0,f.Tst=null,f.nw=-1,f.Sst=null,f.Est=!1,f.Rst=!1,f.Ist=1/0,f.Nst=void 0,f.Dst=null,f.Cst=0,f.xst=void 0,f.Ur=function(t){f.dispatchEvent(t)},f.Ost=function(){!f.wst&&!f.kst&&f.Pst&&f.vst&&(f.kst=f.Bst("Mj",f.mst,function(){f.kst=!1}))},f.Lst=function(){!f.wst&&!f.pst&&f.Mst&&f.dst&&(f.pst=f.Bst("Uj",f.yst,function(){f.pst=!1}))},f.Ust=function(t){return f.Fst()},f.Hst=function(t){if(t.rp===f.rp){var n=t.z6,i=n.Q2;i.n1&&f.zst(i.n1,n.info),i.h1&&f.Vst(i.h1,n.info),f.Fst(f.f4.m4,!0)}},f.QJ=function(t){var n=t;f.Wst(n.WZ,n.sZ)},f.Xst=function(t){if(1===t.uit){if(f.Tst)for(var n=0;n<f.Tst.xp;n++){var i="CC"+(n+1);f.A$.pJ(i,t.Kg.tw,t.Kg.nw)}f.A$.kJ(t.Kg)}},f.EI=a,f.A$=i,f.lst=e,f.Xtt=r,f._st=s,f.Q9=u,f.rh=o,f.f4=c,f.jb=new YU(o),f.gst=f.qst(i),r.$d(n,f.jb,f.Q9),f.mst=new LU(u,f.jb),f.yst=new LU(u,f.jb),f.Tst=f.Gst(f.jb),f.xst=new vF(n,f.jb,f.gst,r),r.addEventListener("H6",f.Hst),f.jb.addEventListener("ts",f.Ur),i.addEventListener("PJ",f.QJ),f}S(n,t);var i=n.prototype;return i.Bst=function(t,n,i){var e=this,r=this.Q9.A4,s=5*this.Q9.m_,u=this.Qst(),o="audio"===this.rp?[this.Yst]:this.gst.Bj,h=n.c7(),a=h[0],c=h[1],f=this.Xtt.d5(this.rp,t,this.jb,o,a,c||void 0,r,s,u);return f&&!f.length&&f.t5?(this.Q9.jst("Mj"===t,"Uj"===t),!1):!(!f||!f.length)&&(this._st.J5(this.rp,this.A$,f,f.n5,f.a5,f.t5,function(t,r){if(i(),t)e.dispatchEvent({type:"ts",ts:t});else{var s=r;n.n7(s).then(function(){return e.dispatchEvent("x$")}).catch(function(t){0})}}),!0)},i.Zst=function(){this._st.Cr(this.rp),this.kst=!1,this.pst=!1},i.Jst=function(){var t=this.Q9.A4,n=this.mst.u7(t)||this.yst.u7(t);!n||this.bst&&this.bst._Y===n._Y||(this.Fst(this.f4.m4),this.bst=n,this.dispatchEvent({type:"$st",tA:this.bst.bs.Y2}))},i.Kst=function(){this.tut()},i.nut=function(){this.Kst()},i.iut=function(){this.Fst(this.f4.m4)},i.eut=function(t,n){this.mst.u7(t)||this.yst.u7(t)||(this.bst=null)},i.rut=function(t){var n=!1;this.mst.a7().Mg(t)||(this.Ost(),n=!0),this.yst.a7().Mg(t)||(this.Lst(),n=!0),n&&this.Fst(this.f4.m4,!0)},i.sut=function(){this.mst.ds()},i.uut=function(){this.yst.ds()},i.Qst=function(){return 0===this.mst.sl+this.yst.sl?0:"Y6"===this.rh.j6?0:1*this.Xtt.y4},i.tut=function(){this.Ost(),this.Lst()},i.m$=function(t){return-1!==this.gst.Bj.indexOf(t)},i.out=function(t){t&&this.m$(t)&&(this.jZ(t),this.xJ(t))},i.jZ=function(t){this.jb.itt(t,t.MY)},i.xJ=function(t){var n=this;if(t&&t.MY&&this.rh.hlsDateRange){this.A$.xJ(t.MY.dateRanges,function(i){return n.jb._tt(t,i).Nw()})}},i.hut=function(t){this.m$(t.sZ)&&this.jb.N7(t.sZ,t)},i.aut=function(t){var n,i,e,r=t,s=this.mst.u7(r)||this.yst.u7(r);if(s)i=s.bs.quality,e=s._Y,n=s.RR;else{var u=this.Yst;if(!u)return null;var o=this.jb.o5(u,mk.Om(r));if(!o)return null;i=u,e=o.dp._Y,n=o.ltt.Nw()}var h=this.jb.dtt(i,e);if(!h)return null;var a=r-n;return new Date(h.getTime()+1e3*a)},i._tt=function(t){var n=this.Yst;return this.jb._tt(n,t).Nw()},i.Fst=function(t,n){var i=this,e=this.cut(),r=this.Q9.A4;t&&(this.nw=r+t,n&&(this.Dst=null,this.Cst=0)),this.cut()||r>=this.nw?this.fut(e):this.Sst||this.Est||!this.ll||(this.vut(),this.dut(function(t){return i.lut(r,i.Q9.m_,t)}))},i._ut=function(t){t&&this.lst.removeEventListener(t.uri,this.Ust)},i.gut=function(t){t&&this.lst.addEventListener(t.uri,this.Ust)},i.cut=function(){return-1===this.nw},n.wut=function(t){return RP.D_(t.sZ.mZ)&&ER()-t.Qk>2e3*t.sZ.MY.metadata.z8},i.dut=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,this.Sst=new Fs,i=this.Sst,e.prev=3,e.next=6,Er.awrap(t(i.Pr));case 6:n=e.sent,Vs(i.Pr),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),Xs(e.t0);case 13:return e.prev=13,this.Sst===i&&(this.Sst=null),e.finish(13);case 16:n&&this.Fst();case 17:case"end":return e.stop()}},null,this,[[3,10,13,16]],ze)},i.vut=function(){this.Sst&&(this.Sst.Cr(),this.Sst=null)},i.mut=function(t,n){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,ze)},i.yut=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!lH.wut(t)){i.next=2;break}return i.abrupt("return",this.dispatchEvent("kut"));case 2:if(n=_.min(16e3,1e3*_.pow(2,this.Cst)),this.Cst+=1,this.vut(),!(this.Cst>2)){i.next=8;break}return t.sZ.oZ(!1),i.abrupt("return",t.sZ.fZ());case 8:this.dut(function(t){return $s(n,t).then(function(){return!0})});case 9:case"end":return i.stop()}},null,this,null,ze)},i.zst=function(t,n){var i,e;e=QP((i=t).i1,4),i.yJ="0000.0000.0000."+e,function(t){var n=QP(t.e1,4),i=QP(t.s1,3),e=QP(t.u1,2*t.s1);t.El=(n+i+e).toUpperCase()}(t),MU(n,this.jb,t),this.A$.mJ(t,this.jb)},i.Vst=function(t,n){for(var i=[],e=0;e<t.length;e++){var r=t[e];i.push(Rr({},r,{z6:n}))}this.Tst&&this.Tst.ust(i,n.n4,n.n3)},i.but=function(t){this.Nst&&this.Nst.z6===t&&this.Fst()},i.Aut=function(t,n){if(n){if(n.aborted)return;if(this.Dst===t)return this.yut(t)}else t.sZ.oZ(!0);return this.Fst()},i.Tut=function(t){var n=LP(t.sZ.WZ);n&&this.dispatchEvent(new lF(NP(t.uri),t.sZ.bandwidth||0,t._Y,t.sZ._Y,n))},i.Sut=function(t,n){var i=this.Nst&&this.Nst.Bf.qK||200,e=LP(t.sZ.WZ);e&&this.dispatchEvent(new _F(NP(t.uri),t.sZ.bandwidth||0,t._Y,t.sZ._Y,e,i,n&&n.XK.a0||0))},i.fut=function(t){this.nw=-1,t||this.dispatchEvent("Eut")},i.Rut=function(t){this.Rst=!0,this.fut(t),this.dispatchEvent("Y$")},i.lut=function(t,n,i){var e,r,s,u,o,h,a=this;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(Vs(i),e=this.Yst,r=this.cut(),this._ut(e||void 0),!(t>=this.nw)){c.next=7;break}return this.fut(r),c.abrupt("return",!1);case 7:return c.next=9,Er.awrap(this.xst.gnt(t,this.nw,n,e||void 0,this.Qst(),this.Nst&&this.Nst.Bf,this.Nst&&this.Nst.z6,this.Iut,this.Nut));case 9:if(s=c.sent,em.Wl(this.Xtt.e6/8),Vs(i),s.wl!==KU.Vtt){c.next=18;break}return this.vut(),this.dispatchEvent("kut"),c.abrupt("return",!1);case 18:if(s.wl!==KU.ztt){c.next=29;break}if(s.sZ!==e){c.next=24;break}return this.gut(e),c.abrupt("return",!1);case 24:return c.next=26,Er.awrap(this.mut(s.sZ,null));case 26:return c.abrupt("return",c.sent);case 27:c.next=33;break;case 29:if(s.wl!==KU.B5){c.next=33;break}return this.gut(e||void 0),!RP.D_(e.mZ)&&e.MY&&this.Rut(r),c.abrupt("return",!1);case 33:if(u=s.dp,!this.Nst||this.Nst.z6!==u){c.next=36;break}return c.abrupt("return",!1);case 36:if(u.sZ===e){c.next=40;break}return c.next=39,Er.awrap(this.mut(u.sZ,u));case 39:return c.abrupt("return",c.sent);case 40:if(this.Nst&&(this.Nst.Bf.Cr(),this.Nst=void 0),!(s.tw>this.Ist)){c.next=46;break}return this.Rut(r),c.abrupt("return",!1);case 46:if(!(s.tw>this.nw)){c.next=49;break}return this.fut(r),c.abrupt("return",!1);case 49:if(this.Rst=!1,this.Nst=void 0,u!==this.Dst&&(this.Cst=0),this.Dst=u,this.dispatchEvent("Q$"),this.Tut(u),!u.L8){c.next=59;break}return c.next=58,Er.awrap(this.Xtt.U6(this.rp,u.sZ,u.L8));case 58:o=c.sent;case 59:return(h=this.Xtt.F6(this.rp,u,o,function(t,n){a.vut(),a.Sut(u,n),a.Nst=void 0,i&&i.yr||a.Aut(u,t)}))&&(this.Nst={z6:u,Bf:h},h.addEventListener("x$",function(){i&&i.yr||a.but(u)})),c.abrupt("return",!1);case 62:case"end":return c.stop()}},null,this,null,ze)},i.Dut=function(t){this.Fst(t||this.f4.m4,!0)},i.Cut=function(){var t=this.cut();this.nw=-1,this.Nst&&this.Nst.Bf.Cr(),this.Nst=void 0,this._ut(),this.Rst=!1,this.Dst=null,this.Cst=0,this.vut(),this.fut(t),this.Tst=this.Gst(this.jb)},i.xut=function(){this.Est=!0,this._ut(),this.vut()},i.Out=function(){this.Est=!1,this.Fst()},i.Put=function(){this.wst=!0},i.But=function(){this.wst=!1,this.tut()},i.hv=function(){this.Wr(),this.Cut(),this.Zst(),this.Pst=null,this.Mst=null,this.mst.hv(),this.yst.hv(),this._st.Cr(this.rp),this.jb.hv(),this.A$.removeEventListener("PJ",this.QJ),this.Xtt.removeEventListener("H6",this.Hst),this.gst=null,this.Lut()},i.nl=function(){this.bst=null,this.eJ=void 0,this.Ast=void 0,this.Lut(),this.Tst=this.Gst(this.jb)},i.Gst=function(t){var n=new uH(t);return n.Hr("ist",this.Xst),n},i.Lut=function(){this.Tst&&(this.Tst.Xr("ist",this.Xst),this.Tst.hv(),this.Tst=null)},A(n,[{key:"v_",get:function(){return this.Q9.A4}},{key:"Mut",get:function(){return this.vst}},{key:"rp",get:function(){return this.Uut()}},{key:"kZ",get:function(){return this.Fut()}},{key:"Iut",get:function(){return this.Hut()}},{key:"Nut",get:function(){return this.zut()}},{key:"Pst",get:function(){return this.mst.s7},set:function(t){var n=this.mst.s7;n&&n.removeEventListener("updateend",this.Ost),this.mst.s7=t,t&&(t.addEventListener("updateend",this.Ost),this.Ost())}},{key:"Mst",get:function(){return this.yst.s7},set:function(t){var n=this.yst.s7;n&&n.removeEventListener("updateend",this.Lst),this.yst.s7=t,t&&(t.addEventListener("updateend",this.Lst),this.Lst())}},{key:"Eut",get:function(){return this.cut()}},{key:"Y$",get:function(){return this.Rst}},{key:"Vut",get:function(){return this.Ist},set:function(t){this.Ist=t}},{key:"Yst",get:function(){return this.Wut()}},{key:"Xut",get:function(){return this.qut()},set:function(t){this.Gut(t)}},{key:"ll",get:function(){return this.Qut()}},{key:"Ng",get:function(){return this.Yut()}}]),n}(aP);function aH(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function cH(t){for(var n=[],i=0;i<t.length;i++){for(var e=t[i],r=!1,s=0;s<n.length;s++){aH(e,n[s])&&(r=!0)}r||n.push(e)}return n}function fH(t){var n=t&&t.uri||"",i=n.indexOf("?"),e=n.indexOf("#"),r=n.length;-1!==e&&(r=e),-1!==i&&(r=i);var s=n.indexOf(".aac",r-4);return 0<=s&&s<r}var vH=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).A$=void 0,o.jb=void 0,o.Xtt=void 0,o.rh=void 0,o.jut=void 0,o.Zut=void 0,o.Jut=null,o.$ut=null,o.Kut=null,o.tot=null,o.iot=null,o.eot=null,o.rot=null,o.sot=!1,o.zg=!0,o.Qj=!0,o.uot=null,o.EI=void 0,o.oot=function(){o.uot&&o.uot.disabled&&o.hot(o.rh.initialRendition||"default"),o.aot(!0)},o.cot=function(){var t=o.A$.zJ.Lj.some(function(t){return t.Ng});o.fot(t)},o.vot=function(t){"variant"===t.rp&&(o.Xtt.removeEventListener("G6",o.vot),o.uot&&(o.uot=null,o.aot(!1)))},o.EI=u,o.A$=n,o.jb=i,o.Xtt=e,o.rh=r,o.jut=r.dot||[],o.Zut=new RU(r,pB.Rn.wK,s),o.Jut=null,o.Xtt.addEventListener("G6",o.vot),o.lot(),o._ot(),o.hot(r.initialRendition||"default"),o}S(n,t);var i=n.prototype;return i.got=function(t,n){var i=OP(t);if(i&&!i.disabled)return i;var e=this.wot(t,null);switch(e.length?"first"!==n&&(n="high"):e=t,n){case"first":return e.reduce(function(t,n){return t._Y<=n._Y?t:n});case"high":var r=cH(e);return r[r.length-1];case"low":default:return cH(t)[0]}},i.mot=function(t,n){var i=this.yot||this.uot&&[this.uot],e=i&&i.filter(function(n){return Os(t,n)});return e&&e.length>0?cH(e):cH(this.wot(t,n))},i.wot=function(t,n){var i=this.rh,e=this.jut,r=this.kot();return t.filter(function(t){for(var s=0;s<e.length;s++){if(!e[s].pot(t,n,r,i))return!1}return!0})},i.bot=function(t,n){var i=this.mot(t,n);return i.length?i[i.length-1]:t[0]},i.Aot=function(t,n){var i=this.yot;return i&&i.length>0?i.filter(function(n){return Os(t,n)}):t},i.Tot=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.tot,e=this.iot,!i||t!==this.eot||n!==this.rot){u.next=4;break}return u.abrupt("return",i);case 4:return r=new Fs,s=this.Sot(t,n,r.Pr),i&&e&&e.Cr(),this.tot=s,this.iot=r,this.rot=n,u.prev=10,u.next=13,Er.awrap(s);case 13:return u.abrupt("return",u.sent);case 14:return u.prev=14,s===this.tot&&(this.tot=null,this.iot=null,this.rot=null),u.finish(14);case 17:case"end":return u.stop()}},null,this,[[10,,14,17]],ze)},i.Sot=function(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return e=this.A$,r=this.jb,s=e.HJ,h.next=5,Er.awrap(this.Eot(t,i));case 5:if(h.sent){h.next=8;break}return h.abrupt("return",!1);case 8:if(!n){h.next=14;break}if(u=r.Ptt(s,n._Y),o=r.o5(t,u),RP.D_(s.mZ)||o){h.next=14;break}return t.disabled="isUnsynced",h.abrupt("return",!1);case 14:return h.abrupt("return",!0);case 15:case"end":return h.stop()}},null,this,null,ze)},i.Eot=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.$ut,e=this.Kut,!i||t!==this.eot){u.next=4;break}return u.abrupt("return",i);case 4:return(r=new Fs).xr(n),s=this.Rot(t,r.Pr),i&&e&&e.Cr(),this.$ut=s,this.Kut=r,this.eot=t,u.prev=11,u.next=14,Er.awrap(s);case 14:return u.abrupt("return",u.sent);case 15:return u.prev=15,s===this.$ut&&(this.$ut=null,this.Kut=null,this.eot=null),u.finish(15);case 18:case"end":return u.stop()}},null,this,[[11,,15,18]],ze)},i.Rot=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=this.A$,e=i.HJ,!this.ll||e!==t){u.next=4;break}return u.abrupt("return",!1);case 4:if(this.Iot(t)){u.next=8;break}r=t.MY,u.next=22;break;case 8:return u.prev=8,u.next=11,Er.awrap(this.Zut.Yo(t.uri,{}));case 11:s=u.sent,Vs(n),r=s.P_,u.next=21;break;case 16:return u.prev=16,u.t0=u.catch(8),t.eZ(!1),t.fZ(),u.abrupt("return",!1);case 21:t.Kj(r,e);case 22:if(!fH(r.fragments[0])){u.next=25;break}return t.disabled="isAAC",u.abrupt("return",!1);case 25:return u.abrupt("return",!0);case 26:case"end":return u.stop()}},null,this,[[8,16]],ze)},i.Iot=function(t){var n=t.MY;return!n||!!n.live&&(!t.BY.sl||t.BY.yY(t.BY.sl-1).Qk+1e3*n.targetDuration<ER())},i.Wg=function(t){t?this.zg||(this.zg=!0,this.dispatchEvent("ll")):this.zg&&(this.zg=!1)},i.fot=function(t){t&&!this.Qj?(this.Qj=!0,this.dispatchEvent("Ng")):!t&&this.Qj&&(this.Qj=!1,this.dispatchEvent("lv"))},i.aot=function(t){var n=this,i=this.A$,e=i.HJ,r=i.zJ.Lj,s=this.Aot(r,e),u=this.bot(s,e);u?this.Tot(u,null).then(function(e){e&&(i.bJ(u,t),n.Wg(!0))}):this.Wg(!1)},i.Not=function(){this.uot=null,this.aot(!0)},i._ot=function(){this.A$.zJ.addEventListener("xj",this.cot)},i.Dot=function(){this.A$.zJ.removeEventListener("xj",this.cot)},i.lot=function(){this.A$.zJ.addEventListener("Dj",this.oot)},i.Cot=function(){this.A$.zJ.removeEventListener("Dj",this.oot)},i.hot=function(t){var n=this.A$,i=n.zJ.Lj;if(Boolean(n.HJ&&!n.HJ.disabled))this.uot=null;else{if(i&&i.length){var e;switch(this.EI.rO.type){case TI.PERFORMANCE:e="low";break;case TI.QUALITY:e="high";break;case TI.BANDWIDTH:e=t}this.uot=this.got(i,e),this.sot=!0}var r=this.Aot(i,null),s=this.bot(r,null);s&&(n.HJ=s)}},i.kot=function(){return this.sot?{e6:this.Xtt.e6}:{e6:this.EI.lO}},i.Cr=function(){this.tot&&this.iot&&(this.iot.Cr(),this.tot=null,this.iot=null,this.rot=null),this.$ut&&this.Kut&&(this.Kut.Cr(),this.$ut=null,this.Kut=null,this.eot=null)},i.hv=function(){this.Xtt.removeEventListener("G6",this.vot),this.Cot(),this.Dot(),this.Cr(),this.Jut=null,this.uot=null},i.xot=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.A$,t){r.next=3;break}return r.abrupt("return",!1);case 3:return r.next=5,Er.awrap(this.Tot(t,n));case 5:return(e=r.sent)&&(i.HJ=t),r.abrupt("return",e);case 8:case"end":return r.stop()}},null,this,null,ze)},A(n,[{key:"ll",get:function(){return this.zg}},{key:"Ng",get:function(){return this.Qj}},{key:"Nut",get:function(){var t=this.A$,n=t.HJ,i=this.Aot(t.zJ.Lj,n);return this.mot(i,n)}},{key:"Iut",get:function(){return this.Aot(this.A$.zJ.Lj,this.A$.HJ)}},{key:"yot",get:function(){return this.Jut},set:function(t){this.Jut=t,this.Not()}}]),n}(aP),dH=function(){function t(t,n){this.Id=void 0,this.jb=void 0,this.Oot=-1,this.Id=t,this.jb=n}return t.prototype.Zo=function(t){for(var n=t.BY,i=n.mY(this.Oot),e=i<0?0:i+1;e<n.sl;e++){var r=n.yY(e);if(r._Y>this.Oot){var s=this.jb.O0(r),u=this.jb.P0(r,s),o=new $y(s.Nw(),u.Nw(),[].concat(r.dZ),!1,r._Y.toString());this.Id.AA(o),this.Oot=r._Y}}},t}(),lH=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,SP.bj,n,i,e,r,s,u,o,h,a)||this).Pot=void 0,c.Bot=null,c.Lot=null,c.Pot=new vH(n,c.jb,e,u,o,h),c.Pot.addEventListener("ll",c.Ur),c.Pot.addEventListener("Ng",c.Ur),c.Pot.addEventListener("lv",c.Ur),u.manifestMetadataTrack&&(c.Bot=n.wJ("",c.jb,""),c.Lot=new dH(c.Bot,c.jb)),c.vst=!c.A$.NJ||!c.A$.NJ.uri,c.dst=Boolean(c.A$.HJ),c}S(n,t);var i=n.prototype;return i.Wst=function(t,n){if("Mj"===t){var i=n?n.uri:void 0;this.vst=!i}},i.Uut=function(){return SP.bj},i.Fut=function(){return this.Yst&&this.Yst.kZ||!1},i.Wut=function(){return this.A$.HJ},i.Hut=function(){return this.Pot.Iut},i.zut=function(){return this.Pot.Nut},i.qut=function(){var t=this.Pot.yot;return t&&t.map(function(t){return t._l})},i.Gut=function(t){if(t&&t.length>0){var n=this.gst.Bj.filter(function(n){return-1!==t.indexOf(n._l)});if(!(n.length>0))return void 0;this.Pot.yot=n}else this.Pot.yot=null},i.Qut=function(){return this.Pot.ll},i.Yut=function(){return this.Pot.Ng},i.mut=function(n,i){return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er.awrap(this.Pot.xot(n,i));case 2:return e.abrupt("return",t.prototype.mut.call(this,n,i));case 3:case"end":return e.stop()}},null,this,null,ze)},i.Cut=function(){t.prototype.Cut.call(this),this.Pot.Cr()},i.jZ=function(n){t.prototype.jZ.call(this,n),this.Lot&&this.Lot.Zo(n)},i.hv=function(){t.prototype.hv.call(this),this.Pot.hv(),this.Pot.removeEventListener("Ng",this.Ur),this.Pot.removeEventListener("lv",this.Ur)},i.qst=function(t){return t.zJ},i.Mot=function(){var t=this.v_,n=this.Mut?this.mst.o7(t):void 0,i=n?n.sZ:void 0,e=this.yst.o7(t),r=e?e.sZ:void 0,s=this.eJ;this.eJ=i;var u=this.Ast;return this.Ast=r,!s&&i?{BJ:s,Uot:i}:!u&&r?{BJ:u,Uot:r}:u&&r&&u._l!==r._l?{BJ:u,Uot:r}:void 0},n}(hH),_H=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return(c=t.call(this,SP.Jf,n,i,e,r,s,u,o,h,a)||this).vst=!!c.A$.NJ&&!!c.A$.NJ.uri,c.dst=!1,c}S(n,t);var i=n.prototype;return i.Wst=function(t,n){if("Mj"===t){var i=n?n.uri:void 0;this.vst=!!i}},i.Uut=function(){return SP.Jf},i.Fut=function(){return this.Yst&&this.Yst.kZ||!1},i.Wut=function(){return this.A$.NJ},i.Hut=function(){var t=this.Wut();return t?[t]:[]},i.zut=function(){return this.Hut()},i.qst=function(t){return t.UZ},i.qut=function(){return null},i.Gut=function(t){},i.Qut=function(){return!0},i.Yut=function(){return!0},i.Mot=function(){var t=this.Mut?this.mst.o7(this.v_):void 0,n=t?t.sZ:void 0,i=this.eJ;return this.eJ=n||void 0,!i&&n?{BJ:i,Uot:n}:i&&n&&i._l!==n._l?{BJ:i,Uot:n}:void 0},n}(hH),gH=function(){function t(t,i,e,r,s,u){var o=this;this.Fot=!1,this.IY=void 0,this.Hot=void 0,this._4=void 0,this.zot=void 0,this.f4=void 0,this.Ps=FS.dI(),this.Vot=[],this.Wot=void 0,this.Xot=[],this.YZ=function(){return o.qot()},this.Got=function(t){t.P_.live||o.Hot.removeEventListener(o.IY.oj,o.Got),o.IY.Kj(t.P_)},this.Qot=function(){o.IY.JZ.Rl===Ww.bl?o.Fot&&o.Yot():o.Fot||o.jot()},this.Th=function(t){if(!zs(t)){var i=t instanceof tb?t:new tb(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.IY.oj,0,t);o.IY.JZ.Dl=Oy.ERROR,o.IY.JZ.Fr(new _b(i))}},this.IY=t,this.Hot=i,this._4=e,this.f4=u,this.zot=new IB(r,s),this.Wot=new Fs,t.JZ.Hr(dw.Fd,this.Qot),t.jb&&t.jb.addEventListener("$Z",this.YZ),this.Qot()}var i=t.prototype;return i.jot=function(){this.Fot||this.IY.JZ.Rl===Ww.bl||(this.Hot.removeEventListener(this.IY.oj,this.Got),this.Hot.addEventListener(this.IY.oj,this.Got),this.Hot.C9(this.IY.oj),this.Hot.x9(this.IY.oj),this.Fot=!0,this.Zot(this.Wot.Pr).catch(this.Th))},i.Zot=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return Vs(t),n.next=4,Er.awrap(this.Jot(t));case 4:n.next=0;break;case 6:case"end":return n.stop()}},null,this,null,ze)},i.Jot=function(t){var n,i,e,r,s,u,o,h,a,c,f,v,d,l,_,g;return Er.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(n=this._4.A4,i=this.f4.m4,e=new FS([n,n+i]),(r=e.WR(this.Ps.XR())).sl){w.next=9;break}return w.next=8,Er.awrap($s(1e3,t));case 8:return w.abrupt("return");case 9:if(s=r.RR(0),u=this.$ot(s)){w.next=15;break}return w.next=14,Er.awrap(ow(this.IY,"rZ",t));case 14:return w.abrupt("return");case 15:return o=u.dp,h=u.ltt.Nw(),a=h+o.duration,w.prev=18,w.next=21,Er.awrap(this.zot.k0("JZ",o.uri,qc.On,m_.Ff,y_.On));case 21:c=w.sent,w.next=30;break;case 24:return w.prev=24,w.t0=w.catch(18),Ws(w.t0),w.next=29,Er.awrap($s(1e3,t));case 29:return w.abrupt("return");case 30:w.prev=30,f=qk(c),w.next=37;break;case 34:throw w.prev=34,w.t1=w.catch(30),fb(Py.WEBVTT,o.uri.toString(),0,w.t1);case 37:for(v=f.iy||{ey:mk.jw,sy:mk.jw},d=this.IY.BY.kY(o._Y),this.Ps=this.Ps.jR(new FS([h,a])),this.Vot.push(o._Y),l=0,_=f.Cl;l<_.length;l++)g=_[l],this.Xot.push({z6:d,ltt:wH(mk.Om(g.tw),v.sy,v.ey),Kot:wH(mk.Om(g.nw),v.sy,v.ey),Kg:g});this.qot();case 43:case"end":return w.stop()}},null,this,[[18,24],[30,34]],ze)},i.qot=function(){var t=this.IY.jb;if(this.Xot.length&&t){for(var n=[],i=0,e=this.Xot;i<e.length;i++){var r=e[i],s=t.M0(r.z6,r.ltt);if(s.zw())n.push(r);else{var u=t.M0(r.z6,r.Kot),o=r.Kg;o.tw=s.Nw(),o.nw=u.Nw(),this.IY.JZ.AA(o)}}this.Xot=n,this.IY.JZ.bH(this._4.A4,!0)}},i.$ot=function(t){var n=this.IY.jb,i=this.IY.BY;if(n.ott)for(var e=n.mtt.Nw(),r=i.sl-1;r>=0;r-=1){var s=i.yY(r),u=e-s.duration;if(new FS([u,e]).WE(t,.5)){var o={dp:s,ltt:mk.Om(u)};return this.tht(i,o,r)}e=u}else for(var h=0,a=0;a<i.sl;a+=1){var c=i.yY(a),f=h+c.duration;if(new FS([h,f]).WE(t,.5)){var v={dp:c,ltt:mk.Om(h)};return this.tht(i,v,a)}h=f}},i.tht=function(t,n,i){var e=n.dp;if(-1===this.Vot.indexOf(e._Y))return n;for(var r=n.ltt.Nw()+e.duration,s=i+1;s<t.sl;s+=1){var u=t.yY(s);if(-1===this.Vot.indexOf(u._Y))return{dp:u,ltt:mk.Om(r)};r+=u.duration}},i.Yot=function(){this.Fot=!1,this.Hot.D9(this.IY.oj),this.Wot.Cr(),this.Wot=new Fs},i.nl=function(){this.Yot(),this.Ps=FS.dI(),this.Vot.length=0,this.IY.JZ.Xr(dw.Fd,this.Qot),this.IY.jb&&this.IY.jb.removeEventListener("$Z",this.YZ),this.Hot.removeEventListener(this.IY.oj,this.Got)},t}();function wH(t,n,i){return Ik(i,t.Hw(n))}var mH=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).rh=void 0,s.F$=void 0,s.Xtt=void 0,s._st=void 0,s.A$=void 0,s.lst=void 0,s.nht=void 0,s.iht=NaN,s.eht=!1,s.rht=1/0,s.sht=1/0,s.uht=null,s.oht=!0,s.hht=!0,s.Q9=null,s.mA=void 0,s.EI=void 0,s.aht=void 0,s.cht=void 0,s.fht=[],s.zF=function(){var t=s.A$.d_;m(t)||s.iht===t||(s.iht=t,s.dispatchEvent("durationchange"))},s.vht=function(){s.C$&&(s.A$.removeEventListener("renditionUpdated",s.vht),s.dispatchEvent("C$"))},s.dht=function(){s.Eut&&s.dispatchEvent("Eut")},s._ht=function(){s.Y$&&s.dispatchEvent("Y$")},s.Ur=function(t){s.dispatchEvent(t)},s.ght=function(t){var n=s.A$.TJ(t.R9);n?n instanceof zP&&(n.eZ(!1),n.fZ()):s.dispatchEvent(t)},s.wht=function(t){s.A$.P_||(t.ts.code===fP.nY?(s.uht||(s.uht=h(s.mht,Xb)),s.hht=!1,s.uZ()):s.dispatchEvent({type:"ts",ts:t.ts}))},s.yht=function(t){s.kht(),s.pht(t.P_),s.bht(),s.A$.removeEventListener("RJ",s.zF),s.A$.addEventListener("RJ",s.zF),s.zF(),s.eht||(s.eht=!0,s.dispatchEvent("loadedmetadata")),s.vht(),s.hht=!0,s.uZ()},s.mht=function(){s.kht();var t=s.j$;t&&(s.lst.nl(),s.lst.j$=t,s.lst.RR())},s.Aht=function(){s.lst.O9()},s.Tht=function(){s.Sht.forEach(function(t){return t.But()})},s.Eht=function(t){s.Rht.forEach(function(n){return n.out(t.sZ)})},s.Iht=function(t){s.Sht.forEach(function(n){return n.hut(t.W3)}),s.nht.z9(t.W3,s.Sht.map(function(t){return t.jb}))},s.uZ=function(){var t=s.oht,n=s.Yut();s.oht=n,n&&!t?s.dispatchEvent("Ng"):!n&&t&&s.dispatchEvent("lv")},s.EI=r,s.rh=n,s.F$=i,s.mA=e,s.Xtt=new bM(n,i,e,Yt(s)),s._st=new oU(n),s.A$=new WP(n),s.lst=new NU(e,n),s.nht=new DU,s.lst.addEventListener("ts",s.ght),s.lst.addEventListener("E9",s.wht),s.lst.addEventListener("I9",s.yht),s.Xtt.addEventListener("H6",s.Ur),s.Xtt.addEventListener("ts",s.Ur),s.A$.addEventListener("PJ",s.Ur),s.A$.addEventListener("rZ",s.Eht),s.A$.addEventListener("nJ",s.Iht),s.A$.addEventListener("LJ",s.Ur),s.nht.addEventListener("L9",s.Ur),s.nht.addEventListener("L9",s.Tht),s.addEventListener("Ng",s.Aht),s}S(n,t);var i=n.prototype;return i.Nht=function(t){t.Vut=this.Vut,t.addEventListener("$st",this.Ur),t.addEventListener("Dht",this.Ur),t.addEventListener("ts",this.Ur),t.addEventListener("kut",this.Ur),t.addEventListener("Q$",this.Ur),t.addEventListener("Eut",this.dht),t.addEventListener("Y$",this._ht),t.addEventListener("lv",this.uZ),t.addEventListener("Ng",this.uZ),t.addEventListener("ll",this.Ur),t.addEventListener("x$",this.Ur),t.addEventListener(Xc.Ca,this.Ur),t.addEventListener(Xc.Oa,this.Ur)},i.bht=function(){this.Cht();this.A$.zJ.Bj;var t=this.A$.UZ.Bj;this.aht=new lH(this.A$,this.lst,this.Xtt,this._st,this.Q9,this.rh,this.mA,this.EI,this),this.Nht(this.aht),t.length&&(this.cht=new _H(this.A$,this.lst,this.Xtt,this._st,this.Q9,this.rh,this.mA,this.EI,this),this.Nht(this.cht));for(var n=this.A$.VJ,i=this.aht.jb,e=0;e<n.length;e++){var r=n[e];r.jb=i,this.fht.push(new gH(r,this.lst,this.Q9,this.mA,this.rh,this))}},i.Cht=function(){this.aht&&(this.aht.hv(),this.aht=void 0),this.cht&&(this.cht.hv(),this.cht=void 0),this.fht.forEach(function(t){return t.nl()}),this.fht.length=0,this.nht.nl()},i.xht=function(t){this.Sht.forEach(function(n){return n.Dut(t)})},i.pht=function(t){this.A$.P_=t},i.Oht=function(){this.lst.RR()},i.Pht=function(t){this.nht.V9(t,this.Sht.map(function(t){return t.jb}))||this.Sht.forEach(function(t){t.Zst(),t.Put()})},i.Yot=function(){this.Xtt.M6(),this.Sht.forEach(function(t){return t.Cut()})},i.nK=function(){this.Xtt.M6(),this.Sht.forEach(function(t){return t.xut()})},i.J$=function(){this.Sht.forEach(function(t){return t.Out()})},i.hv=function(){this.Wr(),this.kht(),this.Cht(),this.Xtt.hv(),this._st.hv(),this.A$.hv(),this.lst.nl(),this.nht.hv()},i.Bht=function(t,n,i,e){var r=this.aht,s=this.cht;t&&(r.Cut(),this.Xtt.ds(r.rp),r.Dut(e)),n&&s&&(s.Cut(),this.Xtt.ds(s.rp),i&&s.Dut(e))},i.Lht=function(){if(!this.aht)return OB;var t=this.aht;return tL(t.jb,this.Xtt.C4(t.rp))},i.N9=function(t,n,i){var e=this,r=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.P_.live||e.lst.removeEventListener(s,t),i&&i.Kj(n.P_)};s&&(this.lst.removeEventListener(s,u),this.lst.addEventListener(s,u)),this.lst.N9(r,s),this.lst.x9(s)},i.kht=function(){null!==this.uht&&a(this.uht),this.uht=null},i.Yut=function(){return!!this.hht&&(!this.aht||this.aht.Ng)},i.sK=function(t){this.aht&&(this.aht.Xut=t)},i.nl=function(){this.Rht.forEach(function(t){return t.nl()}),this.fht.forEach(function(t){return t.nl()})},A(n,[{key:"Mht",get:function(){return this.aht}},{key:"Uht",get:function(){return this.cht}},{key:"Sht",get:function(){var t=[];return this.aht&&t.push(this.aht),this.cht&&this.cht.Mut&&t.push(this.cht),t}},{key:"Rht",get:function(){return[this.aht,this.cht].filter(F)}},{key:"m4",get:function(){return Bt(this.EI.iO*this.Xtt.y4,1,this.Fht)}},{key:"j$",get:function(){return this.lst.j$},set:function(t){this.iht=NaN,this.rht=1/0,this.eht=!1,this.oht=!0,this.hht=!0,this.A$.removeEventListener("renditionUpdated",this.vht),this.A$.removeEventListener("RJ",this.zF),this.kht(),this.Cht(),this.Xtt.ds(),this._st.Cr(),this.A$.hv(),this.A$.addEventListener("renditionUpdated",this.vht),this.lst.j$=t,this.uZ()}},{key:"d_",get:function(){return this.iht}},{key:"ott",get:function(){return this.A$&&RP.D_(this.A$.mZ)}},{key:"Ng",get:function(){return this.oht}},{key:"C$",get:function(){var t=this.Sht;return t.length>0&&t.every(function(t){return t.kZ})}},{key:"y4",get:function(){return this.Xtt.y4},set:function(t){t>0&&(this.Xtt.y4=t)}},{key:"Eut",get:function(){return this.Sht.every(function(t){return t.Eut})}},{key:"Y$",get:function(){return this.Sht.length>0&&this.Sht.every(function(t){return t.Y$})}},{key:"Fht",get:function(){return this.sht},set:function(t){this.sht=t}},{key:"Vut",get:function(){return this.rht},set:function(t){var n=this;this.rht=t,this.Rht.forEach(function(t){return t.Vut=n.rht})}},{key:"xg",get:function(){return this.C$?new xB([{RR:this.wtt,NR:this.mtt}]):OB}},{key:"wtt",get:function(){if(!this.C$)return 0;for(var t=-1/0,n=0,i=this.Sht;n<i.length;n++){var e=i[n];t=_.max(t,e.jb.wtt.Nw())}return t}},{key:"mtt",get:function(){if(!this.C$)return 0;for(var t=1/0,n=0,i=this.Sht;n<i.length;n++){var e=i[n];t=_.min(t,e.jb.mtt.Nw())}return t}},{key:"ytt",get:function(){if(!this.C$)return 0;for(var t=1/0,n=0,i=this.Sht;n<i.length;n++){var e=i[n];t=_.min(t,e.jb.ytt.Nw())}return _.max(t,this.wtt)}},{key:"rK",get:function(){return this.aht&&this.aht.Xut||void 0}}]),n}(aP),yH=function(t){function n(n,i){var e;return(e=t.call(this)||this).rh=void 0,e.iht=NaN,e.eht=!1,e.A$=void 0,e.jb=void 0,e.Hht=void 0,e.uht=null,e.oht=!0,e.Bot=null,e.Lot=null,e.Ur=function(t){e.dispatchEvent(t)},e.pht=function(t){if(e.A$.P_||(e.A$.P_=e.Hht.FJ||null),!e.A$.HJ){var n=e.A$.zJ.Bj[0];n&&(e.A$.HJ=n,e.Hht.A9(n),e.dispatchEvent({type:"zht",sZ:n}))}t.manifest.isMasterPlaylist||e.A$.HJ.Kj(t.manifest),void 0!==t.manifest.duration&&e.iht!==t.manifest.duration&&(e.iht=t.manifest.duration,e.dispatchEvent("durationchange")),e.eht||(e.eht=!0,e.dispatchEvent("loadedmetadata")),e.fot(!0),e.dispatchEvent({type:"b9",manifest:t.manifest})},e.wht=function(t){t.ts.code===fP.nY?(e.uht||(e.uht=h(e.mht,Xb)),e.fot(!1)):e.dispatchEvent({type:"ts",ts:t.ts})},e.mht=function(){e.kht();var t=e.j$;t&&e.Hht.RR(t)},e.kht=function(){a(e.uht),e.uht=null},e.Eht=function(t){var n=t.sZ;e.jb.itt(n,n.MY),e.rh.manifestMetadataTrack&&(e.Lot||(e.Bot=e.A$.wJ("",e.jb,""),e.Lot=new dH(e.Bot,e.jb)),e.Lot.Zo(n))},e.rh=n,e.A$=new WP(n,!0),e.jb=new jU(n),e.Hht=new IU(i,e.rh),e.jb.addEventListener("ts",e.Ur),e.Hht.addEventListener("b9",e.pht),e.Hht.addEventListener("ts",function(t){e.A$.P_?(e.uht||(e.uht=h(e.mht,Xb)),e.fot(!1)):e.wht(t)}),e.A$.addEventListener("rZ",e.Eht),e}S(n,t);var i=n.prototype;return i.Oht=function(){this.A$.P_||this.Hht.RR()},i.Lht=function(){return OB},i.fot=function(t){var n=this.oht;this.oht=t,t&&!n?this.dispatchEvent("Ng"):!t&&n&&this.dispatchEvent("lv")},i.hv=function(){this.Wr(),this.kht(),this.A$.hv(),this.Hht.hv(),this.Lot=null,this.jb.hv()},i.nK=function(){},i.J$=function(){},i.xht=function(t){},i.sK=function(t){},A(n,[{key:"j$",get:function(){return this.Hht.j$},set:function(t){this.iht=NaN,this.eht=!1,this.kht(),this.A$.hv(),this.Lot=null,this.Hht.j$=t,this.fot(!0)}},{key:"d_",get:function(){return this.iht}},{key:"ott",get:function(){return this.A$&&RP.D_(this.A$.mZ)}},{key:"Ng",get:function(){return this.oht}},{key:"Y$",get:function(){return!1}},{key:"Eut",get:function(){return!1}},{key:"rK",get:function(){return[]}}]),n}(aP),kH=1e3,pH="VEE3",bH=function(t){function n(n){var i;return(i=t.call(this,"Vht")||this).ptsOffset=n,i}return S(n,t),n}(ru),AH=function(t){function n(n){var i;return(i=t.call(this)||this).XJ=void 0,i.Wht=null,i.Xht=0,i.qht="start",i.Ght=1,i.Qht=!1,i.Yht=!1,i.jht=0,i.Zht=null,i.Jht=null,i.$ht=null,i.Kht=null,i.M9=0,i.tat=0,i.nat=new Fs,i.iat=new Ro,i.eat=void 0,i.rat={},i.sat=!1,i.uat=null,i.oat=NaN,i.Jst=function(){i.XJ.Sht.map(function(t){t.Jst()})},i.Mot=function(){for(var t,n,e,r=0,s=i.XJ.Rht;r<s.length;r++){var u=s[r],o=u.Mot();if(o){var h=o.Uot;h&&h.WZ!==EP.Jf&&(i.uat=h)}u.rp===SP.Jf?t=o:u.rp===SP.bj&&(n=o,e=u)}(t||n)&&i.dispatchEvent({type:"PJ",hat:t&&t.BJ,u$:t&&t.Uot,c$:n&&n.BJ,s$:n&&n.Uot,e$:!!e&&e.Mut})},i.Kst=function(){null!==i.Zht&&a(i.Zht),i.Zht=h(i.Kst,kH),i.XJ.Sht.forEach(function(t){return t.Kst()})},i.iut=function(){null!==i.Jht&&a(i.Jht),i.Qht&&(i.Jht=h(i.iut,kH),i.XJ.Sht.forEach(function(t){return t.iut()}))},i.nut=function(){i.XJ.Sht.forEach(function(t){return t.nut()})},i.aat=function(){if(i.XJ.ott&&i.m_>1){var t=i.XJ.ytt;i.fat>t&&(i.m_=1,i.fat>=t+1&&(i.fat="start"))}},i.vat=function(){i.Wht&&(0===i.Wht.dat()?i.fat="start":i.fat=i.lat(i.A4))},i._at=function(){i.jht=i.A4},i.gat=function(t){i.wat(),i.Wht.error&&(t.error.info.code===pH&&i.tat<qb?(i.tat+=1,i.mat()):i.dispatchEvent({type:"ts",error:t.error}))},i.yat=function(){i.tat=0},i.kat=function(){i.removeEventListener("pat",i.bat),i.Qht?i.bat():i.addEventListener("pat",i.bat)},i.bat=function(){var t=i.A4;i.XJ.removeEventListener("C$",i.kat),i.XJ.C$?i.XJ.Sht.forEach(function(n){return n.rut(t)}):(i.XJ.addEventListener("C$",i.kat),i.XJ.Oht())},i.Aat=function(){var t=i.A4;i.XJ.Rht.forEach(function(n){return n.eut(t,i.XJ.ott)})},i.Tat=function(){null!==i.Zht&&a(i.Zht),i.Zht=null,null!==i.Jht&&a(i.Jht),i.Jht=null},i.Sat=function(){i.Eat(),i.XJ.C$?i.Z$():(i.XJ.addEventListener("C$",i.Sat),i.XJ.Oht())},i.Eat=function(){i.XJ.removeEventListener("C$",i.Sat)},i.YJ=function(t){i.XJ.N9(t.WZ,t.BJ||void 0,t.sZ||void 0),t.LJ&&i.Rat(t.WZ,t.BJ,t.sZ)},i.Iat=function(t){var n=t.M9-i.M9;_.abs(n)>Wb&&(i.M9=t.M9,i.A4=i.A4+n)},i.Nat=function(t){var n=t.z6.metadata;n.VZ&&(i.rat[t.rp]=n.VZ,i.Dat())},i.Dat=function(){if(i.XJ.C$){var t=l.keys(i.rat).length===i.XJ.Sht.length;i.Wht&&!i.Wht.Cat&&!i.eat&&t&&i.xat(),i.Wht&&i.M9&&(i.Wht.M9=i.M9)}},i.Oat=function(){if(m(i.Pat))if(i.XJ.ott)i.Pat=0;else{var t=i.uat,n=t&&t.yZ,e=t&&F(n)&&!m(n)&&t.UY(n)||void 0;i.Pat=CP(e)?e.G3.Nw():NaN}i.O$&&(i.removeEventListener("PJ",i.Oat),i.XJ.removeEventListener("H6",i.Oat),i.dispatchEvent("O$",!0))},i.XJ=n,n.Q9=Yt(i),i}S(n,t);var i=n.prototype;return i.mat=function(){this.XJ.ott?this.fat="start":(this.jht+=.5,this.XJ.Sht.map(function(t){t.Zst(),t.sut(),t.uut()}),this.fat=this.jht),this.Dat(),this.Wht.play()},i.Bat=function(t){var n=this;this.$ht&&(this.XJ.removeEventListener("C$",this.$ht),this.$ht=null),this.XJ.C$?(this.Yht=!0,this.sat=!0,this.XJ.Pht(t),this.sat=!1):(this.$ht=function(){return n.Bat(t)},this.XJ.Oht())},i.Lat=function(t){this.Mat(),this.XJ.ott&&(t="none"),"auto"===t&&this.Sat()},i.Uat=function(t){var n=this;this.Mat(),"none"!==t&&(this.XJ.C$?this.Lat(t):(this.Kht=function(){return n.Lat(t)},this.XJ.addEventListener("C$",this.Kht),this.XJ.Oht()))},i.Mat=function(){this.Eat(),this.Kht&&(this.XJ.removeEventListener("C$",this.Kht),this.Kht=null)},i.Z$=function(){this.Yht?this.XJ.xht():(this.fat=this.qht,this.XJ.xht(22)),this.Qht||(this.Qht=!0,this.dispatchEvent("pat"))},i.Fat=function(){this.Wht&&(this.Wht.addEventListener("Hat",this.Aat),this.Wht.addEventListener("seeking",this.kat),this.Wht.addEventListener("error",this.gat),this.Wht.addEventListener("playing",this.yat)),this.XJ.addEventListener("PJ",this.YJ),this.XJ.addEventListener("kut",this.vat),this.XJ.addEventListener("C$",this.Dat),this.XJ.addEventListener("L9",this.Iat),this.XJ.addEventListener("ll",this.kat),this.iK()},i.zat=function(){this.Wht&&(this.Wht.removeEventListener("Hat",this.Aat),this.Wht.removeEventListener("seeking",this.kat),this.Wht.removeEventListener("error",this.gat),this.Wht.removeEventListener("playing",this.yat)),this.XJ.removeEventListener("PJ",this.YJ),this.XJ.removeEventListener("kut",this.vat),this.XJ.removeEventListener("C$",this.Dat),this.XJ.removeEventListener("L9",this.Iat),this.XJ.removeEventListener("ll",this.kat),this.eK()},i.iK=function(){this.Wht&&(this.Wht.addEventListener("loadstart",this.Sat),this.Wht.addEventListener("timeupdate",this.Jst),this.Wht.addEventListener("playing",this.Mot),this.Wht.addEventListener("timeupdate",this.Mot),this.Wht.addEventListener("timeupdate",this.iut),this.Wht.addEventListener("timeupdate",this.Kst),this.Wht.addEventListener("timeupdate",this._at),this.Wht.addEventListener("timeupdate",this.aat),this.Wht.addEventListener("ended",this.Tat)),this.XJ.addEventListener("H6",this.Nat),this.XJ.addEventListener("H6",this.nut)},i.eK=function(){null!==this.Zht&&a(this.Zht),null!==this.Jht&&a(this.Jht),this.Wht&&(this.Wht.removeEventListener("loadstart",this.Sat),this.Wht.removeEventListener("timeupdate",this.Jst),this.Wht.removeEventListener("playing",this.Mot),this.Wht.removeEventListener("timeupdate",this.Mot),this.Wht.removeEventListener("timeupdate",this.iut),this.Wht.removeEventListener("timeupdate",this.Kst),this.Wht.removeEventListener("timeupdate",this._at),this.Wht.removeEventListener("timeupdate",this.aat),this.Wht.removeEventListener("ended",this.Tat)),this.XJ.removeEventListener("H6",this.Nat),this.XJ.removeEventListener("H6",this.nut)},i.n7=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.iat.Ss);case 2:return n=this.Wht.n7(t),this.Wht.loading&&(this.Wht.loaded=!0,this.Wht.loading=!1),i.next=6,Er.awrap(n);case 6:case"end":return i.stop()}},null,this,null,ze)},i.YU=function(t,n){this.Vat.YU(t,n)},i.jst=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.iat.Ss);case 3:return i.next=5,Er.awrap(this.Wht.jst(t,n));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),zs(i.t0)||this.dispatchEvent({type:"ts",error:i.t0});case 10:case"end":return i.stop()}},null,this,[[0,7]],ze)},i.xat=function(){var t=this,n=this.iat,i=this.Wat(this.eat,this.nat.Pr);this.eat=i,i.then(function(){t.eat===i&&(t.eat=void 0,n.Is())},function(e){t.eat===i&&(t.eat=void 0,n.Ns(e))})},i.Wat=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(!t){u.next=3;break}return u.next=3,Er.awrap(t.catch(Z));case 3:return Vs(n),u.next=6,Er.awrap(this.Wht.xat(this.rat,this.XJ.d_,n));case 6:if(i=u.sent){u.next=9;break}return u.abrupt("return");case 9:for(e=0,r=this.XJ.Rht;e<r.length;e++)s=r[e],i.Mj&&(s.Pst=i.Mj),i.Uj&&(s.Mst=i.Uj);case 10:case"end":return u.stop()}},null,this,null,ze)},i.wat=function(){this.nat.Cr(),this.nat=new Fs,this.eat=void 0,this.iat=new Ro},i.lat=function(t){var n=this.xg;return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},i.aut=function(t){var n=this.XJ.Mht;return n?n.aut(t):null},i._tt=function(t){var n=this.XJ.Mht;return n?n._tt(t):NaN},i.Yo=function(t){var n=t||"none";this.zat(),this.Fat(),this.Uat(n)},i.tK=function(){this.Mat()},i.hv=function(){this.Wr(),this.rat={},this.Vat=null},i.nl=function(){this.wat(),this.Xat(),this.rat={},this.Xht=0,this.jht=0,this.qht="start",this.M9=0,this.Ght=1,this.Qht=!1,this.Yht=!1,this.uat=null,this.XJ.nl()},i.Rat=function(t,n,i){if(n){this.dispatchEvent("P$"),this.eK();var e=!1,r=!1,s=!1;if("Uj"===t){r=!0;var u=this.XJ.Mht;u&&u.Mut&&(e=!0)}else e=!0,s=!(!i||!i.uri);e&&this.Wht.LJ("audio"),r&&this.Wht.LJ("video"),this.XJ.Rht.forEach(function(t){t.Zst(),e&&t.sut(),r&&t.uut()}),this.XJ.Bht(r,e,s,22),this.XJ.Rht.forEach(function(t){return t.tut()}),this.iK()}},i.J_=function(){this.eK(),this.iK(),this.XJ.J$()},i.qat=function(t){var n=this.Pat||0;return this.qZ?t-n<0?0:_.round((t-n)*this.qZ-.5)||0:NaN},i.Gat=function(t){var n=this.Pat||0;return this.qZ?n+(t+.5)/this.qZ:NaN},i.Xat=function(){this.Pat=NaN,this.removeEventListener("PJ",this.Oat),this.addEventListener("PJ",this.Oat),this.XJ.removeEventListener("H6",this.Oat),this.XJ.addEventListener("H6",this.Oat)},A(n,[{key:"Vat",get:function(){return this.Wht},set:function(t){this.zat(),this.wat(),this.yat(),this.Wht=t,this.Dat()}},{key:"A4",get:function(){return this.Wht&&!this.sat?this.Wht.dat():this.Xht},set:function(t){t=this.lat(t),this.jht=this.Xht=t,this.Wht?this.Wht.Qat(t):(this.Aat(),this.kat())}},{key:"fat",get:function(){return this.Wht&&!this.sat?this.A4:this.qht},set:function(t){"start"===t&&(t=this.XJ.ott?1/0:0),t=this.lat(t),this.qht=t,this.jht=this.Xht=t,this.Bat(mk.Om(this.Xht)),this.A4=t}},{key:"nw",get:function(){return this.XJ.Vut},set:function(t){this.XJ.Vut=t}},{key:"m_",get:function(){return this.Wht?this.Wht.m_:this.Ght},set:function(t){var n=this.Ght;t>0&&(this.Ght=t,this.Wht&&(this.Wht.m_=t),this.XJ.y4=t,this.Ght!==n&&this.dispatchEvent("Yat"))}},{key:"xg",get:function(){var t=this.XJ.xg;if(!t.length||!this.XJ.ott)return t;var n=t.start(0),i=this.XJ.ytt;return i=_.max(this.A4,i),new xB([{RR:n,NR:i}])}},{key:"kg",get:function(){return this.aut(this.A4)}},{key:"qZ",get:function(){var t=this.uat;return t&&t.qZ||NaN}},{key:"Pat",get:function(){return this.oat},set:function(t){this.oat!==t&&(this.dispatchEvent(new bH(t)),this.oat=t)}},{key:"O$",get:function(){return Boolean(this.qZ)&&!m(this.Pat)}}]),n}(aP),TH=function(t){function n(n){var i;return(i=t.call(this)||this).jat=null,i.A$=void 0,i.Zat=[],i.Jat=function(t){return i.$at(t)},i.Kat=function(){return i.tct()},i.A$=n,i.Zat=[],i}S(n,t);var i=n.prototype;return i.pA=function(t){var n,i;"metadata"===t.kind&&(t.mode=Ww.Al,n=this.A$._J(t.id,t.inBandMetadataTrackDispatchType),i=this.nct.bind(this,n),this.Zat.push({ict:t,ect:i,JZ:n}),t.addEventListener("cuechange",i))},i.dO=function(){for(var t=this.jat.j_,n=t&&t.length,i=0;i<n;i+=1)this.pA(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Jat),t.addEventListener("change",this.Kat))},i.nct=function(t,n){for(var i=n.target.activeCues,e=i.length,r=e?i[0].startTime:0,s=0;s<e;s++){var u=$C(i[s].value),o=new ox(r,u);t.AA(o)}},i.tct=function(){for(var t=0,n=this.Zat;t<n.length;t++){var i=n[t].ict;i.mode!==Ww.Al&&(i.mode=Ww.Al)}},i.$at=function(t){this.pA(t.track)},i.rct=function(){for(var t=this.jat,n=t&&t.j_,i=0,e=this.Zat;i<e.length;i++){var r=e[i];r.ict.removeEventListener("cuechange",r.ect)}this.Zat.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Jat),n.removeEventListener("change",this.Kat))},i.hv=function(){this.rct(),this.jat=null,this.A$=null,this.Jat=null,this.Kat=null},i.nl=function(){this.rct(),this.jat&&this.dO()},n}(aP),SH=function(t){function n(n){var i;return(i=t.call(this)||this).XJ=void 0,i.sct=void 0,i.Wht=null,i.qht="start",i.Ght=1,i.lv=!1,i.uct=null,i.hct=null,i.act=NaN,i.cct=NaN,i.fct=null,i.vct=function(){i.Wht.removeEventListener("loadstart",i.vct),i.Wht.removeEventListener("play",i.vct),i.XJ.Oht()},i.Jst=function(){var t=i.XJ.A$.HJ;if(t&&(!i.uct||i.uct.RR>i.A4||i.uct.NR<i.A4)){var n=i.XJ.jb.o5(t,mk.Om(i.A4));if(!n)return void i.Wht.addEventListener("timeupdate",i.Jst);i.uct={RR:n.ltt.Nw(),NR:n.ltt.Lg(mk.Om(n.dp.duration)).Nw(),_Y:n.dp._Y,lZ:null},i.dispatchEvent({type:"$st",tA:n.dp})}},i.Mot=function(){var t=i.XJ.A$,n=t.zJ.Bj.length?t.zJ.Bj:t.UZ.Bj,e=i.Wht.p_,r=i.Wht.k_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===e&&n.height===r}),u=s&&s.length?s[0]:null;u!==i.hct&&(i.hct=u,i.dispatchEvent({type:"PJ",sZ:u}))},i.dct=function(t){i.dispatchEvent({type:"PJ",sZ:t.sZ})},i.lct=function(){if(i.Wht){var t=i.Wht.xg,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.cct&&(i.cct=n,i.act=ER())}},i._ct=function(){i.lv=!0},i.gct=function(){i.lv&&(i.lv=!1,i.wct())},i.XJ=n,i.sct=new TH(n.A$),n.addEventListener("lv",i._ct),n.addEventListener("Ng",i.gct),i}S(n,t);var i=n.prototype;return i.lat=function(t){var n=this.Wht.xg;return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},i.wct=function(){if(this.Wht){var t=this.Wht.currentTime,n=this.Wht.paused;this.Wht.load(),this.Wht.currentTime=t,n||this.Wht.play()}},i.mct=function(){this.Wht&&(this.Wht.addEventListener("loadstart",this.vct),this.Wht.addEventListener("play",this.vct),this.Wht.addEventListener("timeupdate",this.Jst),this.Wht.addEventListener("timeupdate",this.Mot),f(this.fct),this.fct=c(this.lct,250))},i.yct=function(){f(this.fct),this.Wht&&(this.Wht.removeEventListener("loadstart",this.vct),this.Wht.removeEventListener("play",this.vct),this.Wht.removeEventListener("timeupdate",this.Jst),this.Wht.removeEventListener("timeupdate",this.Mot))},i.Yo=function(t){t=t||"none",this.yct(),this.mct(),this.XJ.removeEventListener("zht",this.dct),this.XJ.addEventListener("zht",this.dct),"none"!==t&&this.vct()},i.hv=function(){this.Wr(),this.sct.hv(),this.Vat=null,this.XJ.removeEventListener("zht",this.dct)},i.nl=function(){this.qht="start",this.Ght=1,this.lv=!1,this.uct=null,this.hct=null,this.act=NaN,this.cct=NaN,f(this.fct),this.sct.nl()},i.J_=function(){},i.tK=function(){},i.Rat=function(){},i._tt=function(t){var n=this.XJ.A$.HJ;return this.XJ.jb._tt(n,t).Nw()},i.aut=function(t){var n,i,e=this.XJ.A$.HJ,r=this.XJ.jb,s=t,u=this.uct;if(u)u.lZ||(u.lZ=r.dtt(e,u._Y)),n=u.RR,i=u.lZ;else{var o=r.o5(e,mk.Om(s));if(!o)return null;n=o.ltt.Nw(),i=r.dtt(e,o.dp._Y)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.qat=function(t){return NaN},i.Gat=function(t){return NaN},A(n,[{key:"kct",get:function(){return null}},{key:"kg",get:function(){return this.aut(this.A4)}},{key:"Vat",get:function(){return this.Wht},set:function(t){this.yct(),this.Wht=t,this.Wht&&(this.sct.jat=this.Wht,this.sct.dO())}},{key:"fat",get:function(){return this.Wht?this.Wht.dat():this.qht},set:function(t){"start"===t&&(t=this.XJ.ott?1/0:0),t=this.lat(t),this.qht=t,this.Wht&&this.Wht.Qat(t)}},{key:"A4",get:function(){return this.fat},set:function(t){t=this.lat(t),this.fat=t}},{key:"nw",get:function(){return 1/0},set:function(t){}},{key:"m_",get:function(){return this.Wht?this.Wht.m_:this.Ght},set:function(t){t>0&&(this.Ght=t,this.Wht&&(this.Wht.m_=t))}},{key:"xg",get:function(){var t,n,i,e=this.Wht?this.Wht.xg:null,r=this.XJ.jb.xg;if(e&&e.length&&r.length)t=e.start(0),n=(i=this.cct||e.end(e.length-1))+this.XJ.jb.ktt.Nw(),isFinite(this.act)&&(i+=(ER()-this.act)/1e3);else{if(e&&e.length)return e;if(!r.length)return r;t=e.start(0),n=r.end(r.length-1),i=this.XJ.jb.ytt.Nw()}return i=_.min(n,i),i=_.max(this.A4,i),new xB([{RR:t,NR:i}])}},{key:"qZ",get:function(){return NaN}},{key:"Pat",get:function(){return NaN}},{key:"O$",get:function(){return!1}}]),n}(aP),EH=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r)||this).pct=new Fs,o.bct=void 0,o.mA=void 0,o.Act=function(){return o.Tct()},o.nr=Py.WEBVTT,o.Dl=Oy.NONE,o.Ol=S_(s),o.Hr(dw.Fd,o.Act),o.mA=u,o}S(n,t);var i=n.prototype;return i.Yo=function(){this.Ol&&!this.bct&&(this.bct=this.nd(this.pct.Pr),this.bct.catch(Xs))},i.nd=function(t){var n,i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.Ol,s.prev=1,this.Dl=Oy.LOADING,i=new p_({Mf:n,tv:g_.GET,xf:qc.On,Pr:t}),s.next=6,Er.awrap(this.mA.Bf(i));case 6:return e=s.sent,s.next=9,Er.awrap(e.ai());case 9:r=s.sent,this.e0(e,r),s.next=17;break;case 13:s.prev=13,s.t0=s.catch(1),Ws(s.t0),this.aE(cb(s.t0,this.Ol));case 17:case"end":return s.stop()}},null,this,[[1,13]],ze)},i.tK=function(){this.Dl!==Oy.LOADED&&(this.Dl=Oy.NONE,this.pct.Cr(),this.pct=new Fs,this.bct=void 0)},i.aE=function(t){this.Dl=Oy.ERROR,this.Fr(new qm(t))},i.hv=function(){this.tK(),this.pct.Sr(),t.prototype.hv.call(this)},i.Tct=function(){switch(this.Rl){case Ww.Tl:case Ww.Al:this.Yo();break;case Ww.bl:this.tK()}},i.e0=function(t,n){try{for(var i=qk(n).Cl,e=0;e<i.length;e++){var r=i[e];this.AA(r)}this.Dl=Oy.LOADED}catch(n){this.aE(fb(this.nr,this.Ol,t.Df,n))}},n}(eC);function RH(t){return $p(t.kind)}var IH=function(){function t(t,n,i,e){this.Sct=void 0,this.j_=void 0,this.Ect=void 0,this.mA=void 0,this.Sct=t,this.j_=i,this.Ect=n,this.mA=e,this.nl()}var n=t.prototype;return n.Rct=function(t){if(this.Ict(),t)if(this.Ect)for(var n=0;n<t.length;n++){var i=t[n];this.BE(i)}else for(var e=0;e<t.length;e++){var r=t[e];this.Nct(r)}},n.BE=function(t){var n=RH(t);if(ob(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.Sct.appendChild(i)}},n.Nct=function(t){var n=RH(t),i=new EH(n,t.id,t.label,t.srclang,t.src,this.mA);t.default&&(i.Rl=Ww.Tl),this.j_.$d(i)},n.Ict=function(){for(var t=this.j_.il,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Dct&&this.j_.Kd(i)}},n.Cct=function(){this.Ict()},n.nl=function(){this.Ict()},t}(),NH=function(){function t(t){this.M$=void 0,this.M$=t}var n=t.prototype;return n.Hr=function(t,n){this.M$.addEventListener(t,n)},n.Xr=function(t,n){this.M$.removeEventListener(t,n)},A(t,[{key:"v_",get:function(){return this.M$.currentTime}},{key:"w_",get:function(){return this.M$.paused}},{key:"y_",get:function(){return this.M$.seeking}}]),t}(),DH=function(t){function n(n,i){var e;(e=t.call(this)||this).xct=void 0,e.j_=void 0,e.Oct=void 0,e.Pct=void 0,e.Wht=void 0,e.Bct=!0,e.Lct=function(t){return e.Mct(t)},e.Uct=function(){return e.Fct()},e.Hct=function(){return e.zct()},e.Vct=function(){return e.Wct()},e.Jat=function(t){return e.$at(t.Id)},e.Xct=function(t){return e.qct(t.Id)},e.Gct=function(){return e.Qct()},e.xct=n,e.j_=i,e.xct.addEventListener("seeking",e.Gct),e.xct.addEventListener("seeked",e.Gct),e.Oct=new ux(new NH(n));for(var r=0,s=e.j_.il;r<s.length;r++){var u=s[r];e.$at(u)}return e.j_.Hr(aw.pd,e.Jat),e.j_.Hr(aw.Ad,e.Xct),e}S(n,t);var i=n.prototype;return i.Mct=function(t){this.j_.$d(t.Id)},i.Fct=function(){for(var t=this.j_.il,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Dct&&this.j_.Kd(i)}},i.zct=function(){var t=this.Vat,n=[],i=t&&t.j_;if(i)for(var e=0;e<i.length;e++){var r=i[e]||i.item(e);if("metadata"!==r.kind){var s=r.THEOplayerTextTrack;if(!s){var u=this.$V(r);s=new tx(r,u,this.ZH),r.THEOplayerTextTrack=s,this.j_.$d(s)}n.push(s)}}for(var o=0,h=this.j_.il;o<h.length;o++){var a=h[o];nx(a)&&-1===n.indexOf(a)&&this.j_.Kd(a)}},i.$V=function(t){for(var n=this.Vat.pg.getElementsByTagName("track"),i=0;i<n.length;i++){var e=n[i]||n.item(i);if(e.track===t)return e}},i.Wct=function(){for(var t=0,n=this.j_.il;t<n.length;t++){var i=n[t];nx(i)&&i.JH()}},i.Qct=function(){this.Yct()},i.$at=function(t){t instanceof eC&&this.Oct.$d(t)},i.qct=function(t){t instanceof eC&&this.Oct.Kd(t)},i.Yct=function(){var t=this.j_.il;if(t.length)for(var n=this.xct.seekable,i=n.length?n.start(0):0,e=0;e<t.length;e++){var r=t[e];if(r instanceof eC){for(var s=[],u=0,o=r.Cl.il;u<o.length;u++){var h=o[u];if(!(h.nw<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];r.cA(c)}}}},i.hv=function(){this.xct.removeEventListener("seeking",this.Gct),this.xct.removeEventListener("seeked",this.Gct);for(var t=0,n=this.j_.il;t<n.length;t++){var i=n[t];this.qct(i)}this.j_.Xr(aw.pd,this.Jat),this.j_.Xr(aw.Ad,this.Xct),this.Oct.hv(),this.A$=null,this.Vat=null},A(n,[{key:"A$",get:function(){return this.Pct},set:function(t){var n=this.Pct;if(n){for(var i=0,e=n.j_;i<e.length;i++){var r=e[i];this.j_.Kd(r)}n.removeEventListener("gJ",this.Lct),n.removeEventListener("hv",this.Uct)}if(this.Pct=t,t){for(var s=0,u=t.j_;s<u.length;s++){var o=u[s];this.j_.$d(o)}t.addEventListener("gJ",this.Lct),t.addEventListener("hv",this.Uct)}}},{key:"Vat",get:function(){return this.Wht},set:function(t){var n=this.Wht;n&&n.j_&&n.j_.removeEventListener&&(n.j_.removeEventListener("addtrack",this.Hct),n.j_.removeEventListener("removetrack",this.Hct),n.j_.removeEventListener("change",this.Vct)),this.Wht=t,t&&t.j_&&t.j_.addEventListener&&(t.j_.addEventListener("addtrack",this.Hct),t.j_.addEventListener("removetrack",this.Hct),t.j_.addEventListener("change",this.Vct)),this.zct(),this.Wct()}},{key:"ZH",get:function(){return this.Bct},set:function(t){if(this.Bct!==t){this.Bct=t;for(var n=0,i=this.j_.il;n<i.length;n++){var e=i[n];nx(e)&&(e.ZH=t)}}}}]),n}(aP),CH=function(){function t(t,n){this.sv=void 0,this.kd=void 0,this.jct=[],this.Zct=new Gc,this.Jct=Nr(),this.$ct=new Fs,this.sv=!(!t||t.crossOrigin!==sm.$l&&!t.Kct),this.kd=n}var n=t.prototype;return n.tft=function(t,n){var e,r,s,u,o,h,a,c,f;return Er.async(function(d){for(;;)switch(d.prev=d.next){case 0:for(e=i.Ce(t),r=0,s=this.jct;r<s.length;r++)null===(u=s[r]).qn||void 0===u.qn?e.searchParams.delete(u.nft):e.searchParams.set(u.nft,u.qn);return d.prev=2,o=new p_({Mf:e.href,xf:qc.za,Cf:this.Zct,sv:this.sv,tv:g_.GET,Pr:n,nr:w_.Vf,ev:m_.Zf}),d.next=6,Er.awrap(this.kd.Bf(o));case 6:return h=d.sent,d.next=9,Er.awrap(h.ai());case 9:return a=d.sent,c=new y(a),f=new y(16),16!==c.length&&ut("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",e.href),c.length>16&&(c=Ao(c,0,16)),f.set(c,16-c.length),d.abrupt("return",f);case 19:throw d.prev=19,d.t0=d.catch(2),Ws(d.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return d.stop()}},null,this,[[2,19]],ze)},n.getKey=function(t){var n=t.absoluteURI;if(!n)return ze.reject(new vP(fP.oY,{code:"CAD1603"}));var i=this.Jct.get(n);return i||(i=this.tft(n,this.$ct.Pr),this.Jct.set(n,i)),i},n.hv=function(){this.$ct.Cr(),this.Jct.clear()},n.ift=function(t,n){this.jct.push({nft:t,qn:n})},n.eft=function(t,n){this.Zct.append(t,n)},t}(),xH=function(t){this.xct=void 0,this.xct=t},OH=s.createElement("video");var PH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.pot=function(t){return!!function(t){return OH.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(xH);cP.Rn.hL("AvoidUnsupportedCodecsRule",PH);var BH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.pot=function(t,n,i,e){return!("z5"===e.j6)||t.bandwidth<2e6},n}(xH);cP.Rn.hL("AvoidHighBitrateStreamsRule",BH);var LH=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.rft=function(t){if(!t.resolution)return!0;var n=this.xct.element.getBoundingClientRect(),e=r.innerWidth||s.documentElement.clientWidth,u=r.innerHeight||s.documentElement.clientHeight,o=_.max(0,_.min(n.right,e)-_.max(0,n.left)),h=_.max(0,_.min(n.bottom,u)-_.max(0,n.top)),a=i.Pe.Zi;return t.resolution.width<=o*a&&t.resolution.height<=h*a},e.pot=function(t){return this.rft(t)},n}(xH);cP.Rn.hL("AvoidVideoResolutionGreaterThanDisplaySizeRule",LH);var MH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.pot=function(t,n,i){if(i.e6<=0)return!1;var e=i&&.8*i.e6;return!(e&&!m(e)&&t.bandwidth)||e>t.bandwidth*this.xct.playbackRate},n}(xH);cP.Rn.hL("DownloadMetricRule",MH);var UH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.pot=function(t){return!0},n}(xH);cP.Rn.hL("LimitVideoQualityToDisplaySizeRule",UH);var FH=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.pot=function(t,n){return!n||(n.WZ===EP.Ff||t.WZ===EP.Ff||(n.WZ===EP.dj||t.WZ===EP.dj||n.WZ===t.WZ))},n}(xH);function HH(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function zH(t,n){var i=n;for(var e in t)X(t[e])?(i[e]=i[e]||{},zH(t[e],i[e])):M.call(i,e)||(i[e]=t[e]);return i}function VH(t,n){var i=zH(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case sm.Jl:case sm.$l:break;default:n=sm.Zl}return t&&t.withCredentials&&(n=sm.$l),t&&t.vr&&t.vr[360]&&n===sm.Zl&&(n=sm.Jl),n}(i),i}function WH(t){Q(t)&&t.then(Z,Z)}cP.Rn.hL("OnlyAllowSameTrackTypeRenditionsRule",FH);var XH,qH=500,GH=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],QH=function(t){function n(n,i){var e;return(e=t.call(this)||this).sft=void 0,e.JS=void 0,e.uft=void 0,e.KS=void 0,e.loading=!1,e.loaded=!1,e.configuration={useNativeVideoPlayback:!0},e.Yz=function(){var t=e.JS.TE.error&&e.JS.TE.error.code;t&&e.aE(new vP(fP.rY,{code:"VEE"+t}))},e.oft=function(t){e.dispatchEvent({type:t.type,error:e.JS.TE.error})},e.hft=function(){a(e.uft),e.uft=void 0,e.JS.TE.removeEventListener("timeupdate",e.hft),e.JS.Xr(Em.f_,e.hft)},e.aft=function(){void 0!==e.uft&&e.hft(),e.uft=h(function(){e.JS.TE.currentTime+=.1,e.hft()},qH),e.JS.TE.addEventListener("timeupdate",e.hft),e.JS.Hr(Em.f_,e.hft)},e.cft=function(){switch(e.JS.TE.readyState){case am.e_:case am.r_:case am.s_:e.aft();break;case am.i_:case am.n_:}},e.sft=n,e.JS=i,e}S(n,t);var i=n.prototype;return i.setup=function(){this.lJ(),this.JS.TE.parentNode!==this.sft&&this.sft.appendChild(this.JS.TE),this.loaded=!1,this.JS.TE.preload="metadata",this.JS.TE.addEventListener("play",this.cft),this.JS.TE.addEventListener("loadeddata",this.cft),this.dispatchEvent("fft")},i.lJ=function(){for(var t=0;t<GH.length;t++){var n=GH[t];this.JS.TE.addEventListener(n,this.oft,!0)}this.JS.TE.addEventListener("error",this.Yz,!0),this.JS.Hr(Em.zd,this.oft),this.JS.Hr(Em.f_,this.oft)},i.vft=function(){for(var t=0;t<GH.length;t++){var n=GH[t];this.JS.TE.removeEventListener(n,this.oft,!0)}this.JS.TE.removeEventListener("error",this.Yz,!0),this.JS.Xr(Em.zd,this.oft),this.JS.Xr(Em.f_,this.oft)},i.aE=function(t){this.KS=t,this.dispatchEvent({type:"error",error:t})},i.n7=function(){return ze.resolve()},i.load=function(){this.JS.TE.load(),this.loaded=!0},i.unload=function(){return this.hft(),this.Wr(),this.vft(),this.JS.TE.removeEventListener("play",this.cft),this.JS.TE.removeEventListener("loadeddata",this.cft),er(this.JS.TE),this.JS.TE},i.play=function(){var t=this.m_;WH(this.JS.TE.play()),this.m_=t},i.pause=function(){this.JS.TE.pause()},i.tg=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Qat(0)}catch(t){}this.dispatchEvent("reset")},i.fg=function(){return this.JS.TE},i.dat=function(){return this.JS.TE.currentTime},i.Qat=function(t){this.JS.TE.currentTime=t},i.canPlayCodecs=function(t){return this.JS.TE.canPlayType('video/mp4; codecs="'+t+'"')},A(n,[{key:"Cat",get:function(){return!0}},{key:"pg",get:function(){return this.JS.TE}},{key:"yg",get:function(){return this.JS.TE.buffered}},{key:"b_",get:function(){return this.JS.TE.volume},set:function(t){this.JS.TE.volume=t}},{key:"duration",get:function(){return this.JS.TE.duration}},{key:"muted",get:function(){return this.JS.TE.muted},set:function(t){this.JS.TE.muted=t}},{key:"paused",get:function(){return this.JS.TE.paused}},{key:"played",get:function(){return this.JS.TE.played}},{key:"poster",get:function(){return this.JS.TE.poster},set:function(t){t?this.JS.TE.poster=t:this.JS.TE.removeAttribute("poster")}},{key:"controls",get:function(){return this.JS.TE.controls},set:function(t){t?this.JS.TE.controls=t:this.JS.TE.removeAttribute("controls")}},{key:"ended",get:function(){return this.JS.TE.ended}},{key:"seeking",get:function(){return this.JS.TE.seeking}},{key:"error",get:function(){return this.JS.TE.error}},{key:"width",get:function(){return this.JS.TE.offsetWidth}},{key:"height",get:function(){return this.JS.TE.offsetHeight}},{key:"src",get:function(){return this.JS.TE.src},set:function(t){this.JS.TE.src=t}},{key:"p_",get:function(){return this.JS.TE.videoWidth}},{key:"k_",get:function(){return this.JS.TE.videoHeight}},{key:"j_",get:function(){return this.JS.TE.textTracks}},{key:"ott",get:function(){return this.JS.TE.duration===1/0}},{key:"xg",get:function(){var t=this.JS.TE.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.dat()||0),new xB([{RR:n,NR:i}])}},{key:"m_",get:function(){return this.JS.TE.playbackRate},set:function(t){t>0&&(this.JS.TE.playbackRate=t)}},{key:"Dl",get:function(){return this.JS.Dl}},{key:"dft",get:function(){return void 0!==this.JS.TE.webkitSupportsPresentationMode&&this.JS.TE.webkitSupportsPresentationMode("picture-in-picture")}},{key:"lft",get:function(){return"picture-in-picture"===this.JS.TE.webkitPresentationMode}},{key:"_ft",get:function(){return this.JS.TE.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.JS.TE.webkitSetPresentationMode(t)}}]),n}(aP);!function(t){t[t.gft=0]="gft",t[t.wft=1]="wft",t[t.PG=2]="PG",t[t.mft=3]="mft",t[t.yft=4]="yft"}(XH||(XH={}));var YH=function(){function t(){this.kft=!1,this.pft=null,this.bft=null,this.Aft=null,this.zB=[],this.Tft=null}var n=t.prototype;return n.Sft=function(){if(!this.kft)return!1;for(var t=this.pft,n=this.bft,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Eft=function(t){switch(t.nr){case XH.gft:return this.Rft(t.ai,t.ltt,t.kC);case XH.wft:return this.Ift(t.Nft);case XH.PG:return this.Dft(t.Cft,t.xft);case XH.mft:return this.VB();case XH.yft:return this.Oft(t.kC)}},n.Rft=function(t,n,i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e=this.bft,m(n)||(e.timestampOffset=n),e.appendBuffer(t),r.next=6,Er.awrap(this.Pft());case 6:i(),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(0),i(r.t0),r.t0;case 13:case"end":return r.stop()}},null,this,[[0,9]],ze)},n.Ift=function(t){var n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=this.bft,i=n.buffered,!(i.length>0)){u.next=11;break}if(e=i.start(0),r=_.min(i.end(0),t),!((s=r-e)>.5||r<=t&&s>0)){u.next=11;break}return n.remove(e,r),u.next=11,Er.awrap(this.Pft());case 11:case"end":return u.stop()}},null,this,null,ze)},n.Dft=function(t,n){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=this.bft,e=i.buffered,!((r=e.length)>0)){o.next=12;break}if(s=_.max(e.start(0),t),u=_.min(e.end(r-1),n),!(u-s>0)){o.next=12;break}return i.remove(s,u),o.next=12,Er.awrap(this.Pft());case 12:case"end":return o.stop()}},null,this,null,ze)},n.VB=function(){var t,n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.pft,n=this.bft,t.open&&"open"===t.readyState){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,i=n.updating,n.abort(),!i){e.next=10;break}return e.next=10,Er.awrap(ow(n,"updateend"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4);case 15:case"end":return e.stop()}},null,this,[[4,12]],ze)},n.Oft=function(t){return ze.resolve(t())},n.Bft=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.MF(t)){n.next=5;break}return n.next=3,Er.awrap($s(100));case 3:n.next=0;break;case 5:case"end":return n.stop()}},null,this,null,ze)},n.MF=function(t){var n=this.pft;if(!n.open||"open"!==n.readyState||!this.Sft())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.Pft=function(){var t=this;return new ze(function(n,i){var e,r=t.bft,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?n():i(new v(e))},c=function(){r.removeEventListener("update",u),r.removeEventListener("error",o),r.removeEventListener("abort",h),r.removeEventListener("updateend",a)};r.addEventListener("update",u),r.addEventListener("error",o),r.addEventListener("abort",h),r.addEventListener("updateend",a)})},n.Lft=function(){var t=this;this.Aft||(0!==this.zB.length||this.Tft)&&this.Sft()&&(this.Aft=this.Mft().then(function(){t.Aft=null}))},n.Mft=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(!(this.zB.length>0)){n.next=9;break}if(this.Sft()){n.next=4;break}return n.abrupt("return");case 4:return t=this.zB.shift(),n.next=7,Er.awrap(this.Eft(t));case 7:n.next=1;break;case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=16,Er.awrap(this.Bft("decode").catch(Z));case 16:if(!this.Tft){n.next=26;break}return n.prev=17,n.next=20,Er.awrap(this.Bft(this.Tft.ts));case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(17);case 25:this.Tft=null;case 26:case"end":return n.stop()}},null,this,[[0,11],[17,22]],ze)},n.dO=function(t,n){this.kft||(this.kft=!0,this.pft=t,this.bft=n,this.Lft())},n.Lg=function(t,n,i){this.zB.push({nr:XH.gft,ai:t,ltt:n,kC:i}),this.Lft()},n.Uft=function(t,n){this.zB.push({nr:XH.PG,Cft:t,xft:n}),this.Lft()},n.Fft=function(t){this.zB.push({nr:XH.wft,Nft:t}),this.Lft()},n.Cr=function(){this.zB.push({nr:XH.mft}),this.Lft()},n.Hft=function(t){this.zB.push({nr:XH.yft,kC:t}),this.Lft()},n.jst=function(t){this.Tft={ts:t},this.Lft()},n.ds=function(){this.zB.length=0,this.Tft=null},t}();var jH=function(t){function n(n){var i;return(i=t.call(this)||this).pft=void 0,i.bft=null,i.zft=new YH,i.nw=NaN,i.Vft=null,i.Ur=function(t){return i.dispatchEvent(t)},i.Wft=function(){return i.M6()},i.pft=n,i.nl(),i}S(n,t);var i=n.prototype;return i.Xft=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.n7=function(t,n,i,e){var r=this;if(!this.bft||!n)return ze.resolve();var s=n.initializer.ai,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var e=0;e<i;e+=1)if(t[e]!==n[e])return!0;return!1}(this.Vft,s);if(e&&(L.dn||this.zft.Cr()),e)if(L.dn);else{var o=t&&t.RR,h=t&&t.RR+t.d_-.5;this.zft.Uft(o,h)}return u&&(this.zft.Lg(s,i,this.Xft.bind(this)),this.Vft=s),new ze(function(t,e){r.zft.Lg(n.m4s.ai,i,function(n){n?e(n):t()})})},i.VU=function(){var t=this;return new ze(function(n){t.zft.Hft(function(){var i=t.yg;i&&i.length&&(t.nw=i.end(i.length-1)),n()})})},i.qft=function(t){if(!this.bft){try{this.bft=this.pft.addSourceBuffer(t),this.bft.addEventListener("updatestart",this.Ur),this.bft.addEventListener("updateend",this.Ur)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.pft.addEventListener("sourceclose",this.Wft),this.zft.dO(this.pft,this.bft)}return!0},i.Sft=function(){for(var t=0;t<this.pft.sourceBuffers.length;t++)if(this.pft.sourceBuffers[t]===this.bft)return!0;return!1},i.jo=function(t){var n=this,i=this.yg;if(!(this.bft&&i&&i.length))return t&&t();this.bft.remove(0,i.end(i.length-1)),t&&this.bft.addEventListener("updateend",function i(e){n.bft.removeEventListener("updateend",i),t()})},i.nl=function(t){this.Vft=null,this.nw=NaN,this.M6(),this.jo(t)},i.Fft=function(t){this.bft&&this.zft.Fft(t)},i.jst=function(t){this.bft&&this.zft.jst(t)},i.M6=function(){this.zft.ds(),"open"===this.pft.readyState&&this.bft&&this.bft.updating&&this.bft.abort()},A(n,[{key:"yg",get:function(){return this.bft&&this.Sft()?new xB(HB(this.bft.buffered)):null}},{key:"sx",get:function(){return this.bft&&this.bft.updating}},{key:"l_",get:function(){var t=this.yg;return!t||!m(this.nw)&&UB(t,this.nw)}}]),n}(aP),ZH="mp4a.40.34";var JH=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Gft=!1,i.$I=function(){var t=i.Gft;i.Gft=i.sx,!t&&i.Gft?i.dispatchEvent("updatestart"):t&&!i.Gft&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new jH(n),i.videoTrackBuffer=new jH(n),i.audioTrackBuffer.addEventListener("updatestart",i.$I),i.videoTrackBuffer.addEventListener("updatestart",i.$I),i.audioTrackBuffer.addEventListener("updateend",i.$I),i.videoTrackBuffer.addEventListener("updateend",i.$I),i.nl(),i}S(n,t);var i=n.prototype;return i.n7=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(this.mediasource.open){i.next=2;break}return i.abrupt("return");case 2:return n=[],t.Mj&&n.push(this.audioTrackBuffer.n7(t.metadata.Mj,t.Mj,t.metadata.Mj&&t.metadata.Mj.w1===ZH?t.metadata.Mj.RR:NaN,t.metadata.i3)),t.Uj&&n.push(this.videoTrackBuffer.n7(t.metadata.Uj,t.Uj,NaN,t.metadata.i3)),i.next=7,Er.awrap(ze.all(n));case 7:this.l_&&(this.audioTrackBuffer.jst(),this.videoTrackBuffer.jst());case 8:case"end":return i.stop()}},null,this,null,ze)},i.jst=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return i=[],t&&i.push(this.audioTrackBuffer.VU()),n&&i.push(this.videoTrackBuffer.VU()),e.next=5,Er.awrap(ze.all(i));case 5:this.l_&&(this.audioTrackBuffer.jst(),this.videoTrackBuffer.jst());case 6:case"end":return e.stop()}},null,this,null,ze)},i.dO=function(t){var n,i={};for(var e in t)if(M.call(t,e)){var r=t[e];if(r.Uj){var s='video/mp4; codecs="'+r.Uj+'"';this.videoTrackBuffer.qft(s),i.Uj=this.videoTrackBuffer}if(r.Mj){var u=(n=r.Mj)!==ZH||Bb?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.qft(u),i.Mj=this.audioTrackBuffer}0}return i},i.nl=function(t){var n=!1,i=!1;this.Gft=!1,this.audioTrackBuffer.nl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.nl(function(){if(i=!0,n&&t)return t()})},i.Fft=function(t){this.audioTrackBuffer.Fft(t),this.videoTrackBuffer.Fft(t)},i.M6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.M6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.M6()},A(n,[{key:"yg",get:function(){var t=this.audioTrackBuffer.yg,n=this.videoTrackBuffer.yg;return t&&n?LB(t,n):t||n||OB}},{key:"xL",get:function(){return this.audioTrackBuffer.yg||OB}},{key:"OL",get:function(){return this.videoTrackBuffer.yg||OB}},{key:"sx",get:function(){return this.audioTrackBuffer.sx||this.videoTrackBuffer.sx}},{key:"l_",get:function(){return this.audioTrackBuffer.l_&&this.videoTrackBuffer.l_}}]),n}(aP),$H=1,KH=.05,tz=.01;function nz(t,n){for(var i=n.length,e=0;e<i;e+=1)if(n.start(e)>t)return e;return-1}function iz(t,n,i,e){var r=FB(n,t),s=t;if(!(!e&&r>=0&&t<n.end(r)-KH)){var u,o;do{if((u=nz(t,n))<0)return;t=(o=n.start(u)+tz)+KH}while(n.end(u)-o<KH);for(var h=o-s,a=LB(new xB([{RR:s,NR:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return e&&r>=0&&(h-=n.end(r)-s),h<$H?o:void 0}}var ez=100,rz=1e-4,sz=500,uz=Hb,oz=L.$t,hz=5,az=["resize","volumechange"],cz=function(n){function i(t,i){var e;return(e=n.call(this)||this).Qft=void 0,e.JS=void 0,e.Yft=!0,e.l_=!1,e.jft=!1,e.Zft=!1,e.Jft=null,e.ts=!1,e.pft=null,e.bft=null,e.$ft=null,e.kft=!1,e.Kft=0,e.tvt=FS.dI(),e.Ght=1,e.nvt=!1,e.JF=!1,e.y_=!1,e.ivt=new Fs,e.evt=!1,e.rvt=!1,e.svt=void 0,e.uvt=null,e.ovt=null,e.avt=am.n_,e.cvt=!1,e.configuration={},e.loading=!1,e.loaded=!1,e.fvt=function(){e.cvt=!1,e.vvt(),e.dvt(),e.lvt()},e._vt=function(){e.gvt(),e.lvt(),e.wvt()},e.vE=function(){e.mvt(),e.gvt(),e.eH()?e.dispatchEvent("playing"):e.cvt=!0},e.yvt=function(){e.cvt=!1,e.vvt(),e.tg()},e.LF=function(){e.kvt()},e.fE=function(){e.pvt(),e.wvt()},e.gF=function(){var t=e.avt,n=e.Dl;t!==n&&(e.avt=n,e.dispatchEvent(new Xm(e.dat(),n))),e.wvt()},e.dvt=function(){e.Kft&&(f(e.Kft),e.Kft=0,oz&&(e.JS.TE.removeEventListener("timeupdate",e.eW),e.removeEventListener(Em.zd,e.oW)))},e.bvt=function(){e.Kft||(e.Kft=c(e.Avt,sz)),oz&&(e.JS.TE.addEventListener("timeupdate",e.eW),e.addEventListener(Em.zd,e.oW),e.eW()),e.Avt()},e.Tvt=function(){var t=e.dat(),n=UB(e.Svt,t);e.JS.w_||e.y_&&!n||e.Evt()||e.bvt()},e.Avt=function(t){if(!(e.uvt||void 0===t&&e.rvt)){var n,i=e.dat(),r=e.yg;if(void 0===t){if(void 0===(n=iz(i,r,e.Svt,e.jft)))return}else{if(!UB(r,t))return;n=t}var s=function(){e.JS.TE.currentTime=n,e.Rvt(n),e.dvt(),e.rvt=!0};Mt(n,i)?e.uvt=h(function(){e.uvt=null,i=e.dat(),Mt(n,i)&&(n+=1e3*sz,s())},sz):s()}},e.XW=function(){var t=e.$ft;if(e.Ivt(),e.JS.TE.readyState===am.n_)return e.$ft=t,void e.JS.TE.addEventListener("loadedmetadata",e.XW);_.abs(e.JS.TE.currentTime-t)<rz?e.fE():(e.JS.TE.currentTime=t,e.rvt=!1,e.LF()),e.$ft=null,e.HO(e.Ght),e.JS.LW(),e.Nvt(t)&&e.tg()},e.Dvt=function(){if(!e.jft){var t=e.JS.TE,n=e.yg,i=t.currentTime;e.Cvt(n,i)&&(e.jft=!0,e.gvt(),i=t.currentTime,e.Cvt(n,i)?e.jft=!0:e.jft=!1,e.gF()),e.ovt=i}},e.mvt=function(){e.vvt(),e.Jft=c(e.Dvt,ez)},e.vvt=function(){e.jft=!1,f(e.Jft)},e.xvt=function(){e.jft&&(e.jft=!1,e.gF())},e.eW=function(){var t=e.bft;if(t)if(t.l_)e.rW();else{var n=t.xL,i=t.OL;if(0!==n.length&&0!==i.length){var r=e.dat();if(r<n.start(0)||r<i.start(0))e.rW();else UB(n,r)!==UB(i,r)?e.sW():e.rW()}else e.rW()}},e.oW=function(){if(!(e.y_||e.rvt||e.JS.TE.seeking||e.Dl>=am.r_)){var t=e.bft;if(t){var n=e.dat(),i=FS.cI(t.xL),r=FS.cI(t.OL);if(i.WE(n)&&r.WE(n))i.ZR(r).nI(n-hz,n)&&(e.JS.TE.currentTime=n,e.rvt=!0)}}},e.Ovt=function(){e.pft.open=!0,e.pft.removeEventListener("sourceopen",e.Ovt),e.pft.removeEventListener("webkitsourceopen",e.Ovt)},e.Yz=function(t){var n=e.JS.TE.error&&e.JS.TE.error.code;n&&e.aE(new vP(fP.rY,{code:"VEE"+n}))},e.Ur=function(t){e.dispatchEvent({type:t.type})},e.Pvt=function(){e.bft&&e.bft.l_&&e.dispatchEvent("durationchange")},e.Bvt=function(){e.removeEventListener("Lvt",e.Bvt),e.evt=!1,e.Mvt(e.Ght)},e.Qft=t,e.JS=i,e}S(i,n);var e=i.prototype;return e.Mvt=function(t){this.JF&&(t=0),this.JS.m_=t,0!==t||uz?this.nvt&&(this.nvt=!1,WH(this.JS.J_())):(this.nvt=!this.JS.w_||this.nvt,this.JS.K_()),this.lvt()},e.HO=function(t){this.Ght=t,this.evt||this.Mvt(t)},e.Uvt=function(t){var n=FB(this.Svt,t);return-1===n?null:this.Svt.end(n)},e.kvt=function(){this.rvt||this.y_||(this.y_=!0,this.dispatchEvent("seeking"))},e.pvt=function(){this.rvt=!1,this.Fvt(),this.y_&&(this.y_=!1,this.dispatchEvent("seeked")),this.Tvt()},e.gvt=function(){this.rvt||this.Tvt()},e.Fvt=function(){this.svt&&(a(this.svt),this.svt=void 0)},e.Rvt=function(t){var n=this;this.svt=h(function(){n.Avt(t+2)},750)},e.wvt=function(){this.cvt&&this.eH()&&(this.cvt=!1,this.dispatchEvent("playing"))},e.lvt=function(){var t=this.Yft,n=this.paused;this.Yft=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.YU=function(t,n){if(!(t+.001>n)){var i=new FS([t,n]);this.tvt=this.tvt.jR(i).JR(FS.cI(this.yg)),this.tvt.WE(this.dat())&&this.Tvt()}},e.Nvt=function(t){return t>=this.JS.TE.duration-(this.paused?0:.5)},e.Hvt=function(t){return m(this.JS.TE.duration)||(t=_.min(t,this.JS.TE.duration)),_.max(0,t)},e.Ivt=function(){this.$ft=null,this.JS.TE.removeEventListener("loadedmetadata",this.XW)},e.sH=function(){return this.Dl<am.r_},e.eH=function(){return!(this.paused||this.ended||this.error||this.sH())},e.Cvt=function(t,n){var i=function(t,n){for(var i=n.length,e=0;e<i;e+=1){if(n.start(e)>t)return e;if(t<n.end(e)-KH)return e}return-1}(n,t),e=i<0?0:t.end(i),r=i<0?0:t.start(i);if(this.ovt&&this.ovt===n){if(this.Nvt(n))return!1;if(r>n||e-n<1/6)return!0}return!1},e.sW=function(){this.JF||(this.JF=!0,this.Mvt(0),this.gF())},e.rW=function(){this.JF&&(this.JF=!1,this.HO(this.Ght),this.JS.TE.currentTime=this.JS.TE.currentTime,this.gF())},e.zvt=function(){var t=this.JS.TE;t.addEventListener("timeupdate",this.xvt),this.JS.Hr(Xc.ba,this.fvt),this.JS.Hr(Xc.Aa,this._vt),this.JS.Hr(Xc.la,this.yvt),t.addEventListener("seeking",this.LF),t.addEventListener("seeked",this.fE);for(var n=0;n<az.length;n++){var i=az[n];t.addEventListener(i,this.Ur)}t.addEventListener("error",this.Yz),t.addEventListener("durationchange",this.Pvt),this.JS.Hr(Xc.La,this.Ur),this.JS.Hr(Em.zd,this.gF),this.JS.Hr(Em.f_,this.vE)},e.Vvt=function(){var t=this.JS.TE;t.removeEventListener("timeupdate",this.xvt),this.JS.Xr(Xc.ba,this.fvt),this.JS.Xr(Xc.Aa,this._vt),this.JS.Xr(Xc.la,this.yvt),t.removeEventListener("seeking",this.LF),t.removeEventListener("seeked",this.fE);for(var n=0;n<az.length;n++){var i=az[n];t.removeEventListener(i,this.Ur)}t.removeEventListener("error",this.Yz),t.removeEventListener("durationchange",this.Pvt),this.JS.Xr(Xc.La,this.Ur),this.JS.Xr(Em.zd,this.gF),this.JS.Xr(Em.f_,this.vE)},e.Wvt=function(){var n=this.JS.TE,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Xvt(),this.pft=new i,this.pft.addEventListener("sourceopen",this.Ovt),this.pft.addEventListener("webkitsourceopen",this.Ovt),n.src=XM(this.pft),n.load()):this.aE(new vP(fP.uY,{code:"MVE2720"})):this.aE(new vP(fP.uY,{code:"MVE2650"}))},e.Xvt=function(){if(this.kft=!1,this.bft&&(this.bft.nl(),this.bft=null),this.pft){this.ivt.Cr();var t=this.JS.TE;t.src&&(qM(t.src),er(t)),this.pft=null}},e.setup=function(){this.Wvt(),this.zvt(),this.JS.TE.parentNode!==this.Qft&&this.Qft.appendChild(this.JS.TE)},e.aE=function(t){this.ts=t,this.dispatchEvent({type:"error",error:t})},e.Evt=function(){return this.bft&&this.bft.sx},e.qvt=function(t){var n=this.dat()-_.max(30,3*t.sZ.MY.targetDuration);this.dispatchEvent("Lvt"),this.bft&&!t.n3&&this.bft.Fft(n),this.Tvt()},e.n7=function(t){if(!this.pft.open||"closed"===this.pft.readyState)return ze.reject("Gvt");if(!this.bft)return ze.reject("Qvt");var n=this.Yvt(t);return this.Zft||(this.Zft=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.Yvt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.metadata,(i=[]).push(this.bft.n7(t)),n.n3&&i.push(this.jst(!!t.Mj,!!t.Uj)),t=null,e.next=7,Er.awrap(ze.all(i));case 7:this.qvt(n);case 8:case"end":return e.stop()}},null,this,null,ze)},e.jst=function(t,n){return this.pft.open&&"closed"!==this.pft.readyState?this.bft?this.bft.jst(t,n):ze.reject("Qvt"):ze.reject("Gvt")},e.play=function(){var t=this.JS.m_;this.l_=!1,0!==this.JS.m_||uz?(WH(this.JS.J_()),this.JS.LW(),this.JS.m_=t):this.nvt=!0,this.lvt()},e.pause=function(){0!==this.JS.m_||uz?this.JS.K_():this.nvt=!1,this.lvt()},e.tg=function(){this.l_||(this.l_=!0,this.JS.K_(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return f(this.Jft),this.Jft=null,this.dvt(),this.Ivt(),this.Xvt(),this.Vvt(),this.Wr(),this.JS.TE},e.reset=function(){f(this.Jft),this.Jft=null,this.dvt(),this.Ivt(),this.Yft=!0,this.l_=!1,this.jft=!1,this.Zft=!1,this.ts=!1,this.y_=!1,this.cvt=!1,this.rW(),this.Wvt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.fg=function(){return this.JS.TE},e.dat=function(){return null===this.$ft?this.JS.TE.currentTime:this.$ft},e.Qat=function(t){var n=this.Uvt(t);t=this.Hvt(t),this.jft=!1,this.JS.TE.error&&(this.Zft=!1,this.ts=!1,this.Wvt()),this.l_&&(this.l_=this.Nvt(t)),this.dvt(),null!==n&&(t=n),this.Ivt(),this.$ft=t,this.y_=!0,this.dispatchEvent("Hat"),this.dispatchEvent("seeking"),this.XW()},e.jvt=function(t){return this.pft.open?ze.resolve(null):ow(this.pft,"sourceopen",t)},e.Zvt=function(t,n,i){Vs(i),n>0&&(this.pft.duration=n),this.bft=new JH(this.pft);var e=this.bft.dO(t);return this.dispatchEvent("fft"),this.bft.addEventListener("updatestart",this.dvt),this.bft.addEventListener("updateend",this.Tvt),this.kft=!0,this.dispatchEvent("kft"),e},e.xat=function(t,n,i){var e=this;this.ivt.Cr();var r=new Fs;return r.xr(i),this.ivt=r,this.bft?ze.resolve(null):this.jvt(r.Pr).then(function(){return e.Zvt(t,n,i)})},e.LJ=function(t){L.dn&&(this.evt=!0,this.Mvt(0),this.removeEventListener("Lvt",this.Bvt),this.addEventListener("Lvt",this.Bvt),this.bft&&this.bft.M6(t))},e.canPlayCodecs=function(t){return this.JS.TE.canPlayType('video/mp4; codecs="'+t+'"')},A(i,[{key:"Svt",get:function(){return this.tvt.XE()}},{key:"Dl",get:function(){var t=this.JS.Dl;return t>am.e_&&(this.jft||this.JF)?am.e_:t}},{key:"pg",get:function(){return this.JS.TE}},{key:"yg",get:function(){return this.bft?this.bft.yg:this.JS.TE.buffered}},{key:"xL",get:function(){return this.bft?this.bft.xL:OB}},{key:"OL",get:function(){return this.bft?this.bft.OL:OB}},{key:"volume",get:function(){return this.JS.TE.volume},set:function(t){this.JS.TE.volume=t}},{key:"duration",get:function(){return this.JS.TE.duration}},{key:"muted",get:function(){return this.JS.TE.muted},set:function(t){this.JS.TE.muted=t}},{key:"paused",get:function(){return this.JS.w_&&!this.nvt}},{key:"played",get:function(){return this.JS.TE.played}},{key:"poster",get:function(){return this.JS.TE.poster},set:function(t){t?this.JS.TE.poster=t:this.JS.TE.removeAttribute("poster")}},{key:"controls",get:function(){return this.JS.TE.controls},set:function(t){t?this.JS.TE.controls=t:this.JS.TE.removeAttribute("controls")}},{key:"ended",get:function(){return this.l_}},{key:"seeking",get:function(){return this.y_}},{key:"error",get:function(){return this.ts||this.JS.TE.error}},{key:"width",get:function(){return this.JS.TE.offsetWidth||this.JS.TE.parentNode.offsetWidth}},{key:"height",get:function(){return this.JS.TE.offsetHeight||this.JS.TE.parentNode.offsetHeight}},{key:"m_",get:function(){return this.Ght},set:function(t){var n=this.Ght;t>0&&(this.HO(t),this.Ght!==n&&this.dispatchEvent("ratechange"))}},{key:"p_",get:function(){return this.JS.TE.videoWidth||0}},{key:"k_",get:function(){return this.JS.TE.videoHeight||0}},{key:"Cat",get:function(){return this.kft}}]),i}(aP),fz=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Jvt","LJ",Em.zd],vz=.04,dz=.25,lz=4,_z=.75,gz=1.5,wz=.25,mz=function(t){function n(){var n;return(n=t.call(this)||this).$vt=null,n.Kvt=null,n.yI=!1,n.Bu=1,n.pI=1,n.tdt=null,n.ndt=void 0,n.oft=function(t){n.dispatchEvent(t)},n.idt=function(t){n.Kvt||n.dispatchEvent(t)},n.edt=function(t){var i=t.error||n.Kvt.error;n.audioStream=null,n.tdt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.tdt})},n.rdt=function(){n.Kvt&&!n.Kvt.loaded||n.$vt&&!n.$vt.loaded||(n.Kvt&&(n.Kvt.removeEventListener("loaded",n.rdt),n.Kvt.play()),n.$vt&&(n.$vt.removeEventListener("loaded",n.rdt),n.$vt.play()))},n.sdt=function(){n.udt(),n.Kvt&&n.$vt&&(n.Kvt.addEventListener("timeupdate",n.odt),n.$vt.addEventListener("timeupdate",n.odt))},n.udt=function(){a(n.ndt),n.Kvt&&n.Kvt.removeEventListener("timeupdate",n.odt),n.$vt&&(n.$vt.m_=n.pI,n.$vt.removeEventListener("timeupdate",n.odt))},n.hdt=function(){n.Dl<am.r_&&n.udt()},n.odt=function(){if(a(n.ndt),n.Kvt&&n.$vt){var t=n.Kvt.m_,i=n.Kvt.dat()-n.$vt.dat(),e=_.max(lz,gz*t),r=_.min(dz,_z*t);if(_.abs(i)<vz)n.$vt.m_!==t&&(n.$vt.m_=t);else{var s=wz,u=t*(i/s+1);(u<r||u>e)&&(s=i/((u=i>0?e:r)/t-1)),n.$vt.m_=u,n.ndt=h(n.odt,1e3*s)}}else n.udt()},n.addEventListener("playing",n.sdt),n.addEventListener("ended",n.udt),n.addEventListener(Em.zd,n.hdt),n}S(n,t);var i=n.prototype;return i.CJ=function(t,n){n?(t.addEventListener("timeupdate",this.oft),t.addEventListener("error",this.edt)):(t.addEventListener("timeupdate",this.idt),t.addEventListener("error",this.oft));for(var i=0;i<fz.length;i++){var e=fz[i];t.addEventListener(e,this.oft)}},i.Gr=function(t){t.removeEventListener("timeupdate",this.oft),t.removeEventListener("timeupdate",this.idt),t.removeEventListener("timeupdate",this.odt),t.removeEventListener("error",this.oft),t.removeEventListener("error",this.edt),t.removeEventListener("loaded",this.rdt);for(var n=0;n<fz.length;n++){var i=fz[n];t.removeEventListener(i,this.oft)}},i.adt=function(t){this.Kvt&&this.Kvt.adt(t),this.$vt&&this.$vt.adt(t)},i.play=function(){if(this.Kvt&&!this.Kvt.loaded||this.$vt&&!this.$vt.loaded)return this.Kvt&&this.Kvt.addEventListener("loaded",this.rdt),void(this.$vt&&this.$vt.addEventListener("loaded",this.rdt));this.rdt()},i.pause=function(){this.Kvt&&(this.Kvt.removeEventListener("loaded",this.rdt),this.Kvt.pause()),this.$vt&&(this.$vt.removeEventListener("loaded",this.rdt),this.$vt.pause()),this.udt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Kvt&&this.Kvt.load(),-1!==t.indexOf("video")&&this.$vt&&this.$vt.load()):(this.Kvt&&this.Kvt.load(),this.$vt&&this.$vt.load())},i.hv=function(t){this.Wr(),this.tdt=null,t?(-1!==t.indexOf("audio")&&this.Kvt&&(this.Kvt.hv(),this.Kvt=null),-1!==t.indexOf("video")&&this.$vt&&(this.$vt.hv(),this.$vt=null)):(this.Kvt&&(this.Kvt.hv(),this.Kvt=null),this.$vt&&(this.$vt.hv(),this.$vt=null))},i.LJ=function(t){this.Kvt&&this.Kvt.pause(),this.$vt&&this.$vt.pause(),this.udt(),t&&-1===t.indexOf("audio")||!this.Kvt||this.Kvt.LJ(),t&&-1===t.indexOf("video")||!this.$vt||this.$vt.LJ()},i.n7=function(t){this.Kvt&&t.Mj&&this.Kvt.n7(t),this.$vt&&t.Uj&&this.$vt.n7(t)},i.cdt=function(t){return this.$vt?this.$vt.cdt(t):""},i.fdt=function(){return this.$vt?this.$vt.fdt():0},i.vdt=function(){return this.$vt?this.$vt.vdt():0},i.fg=function(){return this.$vt&&this.$vt.fg()},i.dat=function(){return this.Kvt?this.Kvt.dat():this.$vt?this.$vt.dat():NaN},i.Qat=function(t,n){this.Kvt&&this.Kvt.Qat(t,n),this.$vt&&this.$vt.Qat(t,n)},A(n,[{key:"yg",get:function(){return this.Kvt&&this.$vt?LB(this.Kvt.yg,this.$vt.yg):this.Kvt?this.Kvt.yg:this.$vt?this.$vt.yg:OB}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu!==t&&(this.Bu=t,this.Kvt&&(this.Kvt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Kvt&&this.Kvt.duration||this.$vt&&this.$vt.duration||NaN}},{key:"muted",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.yI=t,this.Kvt&&(this.Kvt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Kvt&&!this.$vt)&&(!(this.Kvt&&!this.Kvt.loaded)&&!(this.$vt&&!this.$vt.loaded))}},{key:"paused",get:function(){return!this.Kvt&&!this.$vt||(this.Kvt&&this.Kvt.paused||this.$vt&&this.$vt.paused||!1)}},{key:"ended",get:function(){return this.Kvt&&this.Kvt.ended||this.$vt&&this.$vt.ended||!1}},{key:"seeking",get:function(){return this.Kvt&&this.Kvt.seeking||this.$vt&&this.$vt.seeking||!1}},{key:"error",get:function(){return this.Kvt&&this.Kvt.error||this.$vt&&this.$vt.error}},{key:"warning",get:function(){return this.tdt||this.Kvt&&this.Kvt.warning||this.$vt&&this.$vt.warning}},{key:"audioStream",get:function(){return this.Kvt},set:function(t){this.Kvt&&(this.Gr(this.Kvt),this.Kvt.hv()),this.Kvt=t,this.Kvt&&(this.Kvt.volume=this.Bu,this.Kvt.muted=this.yI,this.Kvt.m_=this.pI,this.CJ(this.Kvt,!0))}},{key:"videoStream",get:function(){return this.$vt},set:function(t){this.$vt&&(this.Gr(this.$vt),this.$vt.hv()),this.$vt=t,this.$vt&&(this.$vt.m_=this.pI,this.CJ(this.$vt,!1))}},{key:"m_",get:function(){return this.pI},set:function(t){this.pI!==t&&(t<0||(this.pI=t,this.Kvt&&(this.Kvt.m_=t),this.$vt&&(this.$vt.m_=t),this.dispatchEvent("ratechange")))}},{key:"Dl",get:function(){return this.Kvt&&this.$vt?_.min(this.Kvt.Dl,this.$vt.Dl):this.Kvt?this.Kvt.Dl:this.$vt?this.$vt.Dl:am.n_}},{key:"p_",get:function(){return this.$vt?this.$vt.p_:0}},{key:"k_",get:function(){return this.$vt?this.$vt.k_:0}}]),n}(aP),yz=function(){function t(t,n,i,e){var r=this;this.ddt=void 0,this.ldt=void 0,this.d_=void 0,this.kC=void 0,this._dt=void 0,this.gdt=void 0,this.tw=void 0,this.Bf=0,this.nv=0,this.running=!1,this.wdt=function(t){return r.Zo(t)},this.ddt=t,this.ldt=n,this.d_=i,this.kC=e,this._dt=t.cs(),this.gdt=(n-this._dt)/(i||1)}var n=t.prototype;return n.mdt=function(){return this.ddt.ia(this.ldt),this.running=!1,this.ydt(),this.kC()},n.RR=function(){var t=this;this.running=!0,this.d_?this.kdt():hP(function(){t.running&&t.mdt()})},n.Zo=function(t){if(this.ydt(),this.running){void 0===this.tw&&(this.tw=t);var n=this._dt,i=this.gdt,e=this.ldt,r=this.ddt,s=n+_.max(0,t-this.tw)*i;if(n>=e&&s<=e||n<e&&s>=e)return this.mdt();if(r.ia(s))return this.mdt();this.kdt()}},n.kdt=function(){this.Bf=YR(this.wdt),this.nv=qR(this.wdt)},n.ydt=function(){jR(this.Bf),QR(this.nv)},t}();var kz=function(t){function n(n,i){var e;return(e=t.call(this)||this).pdt=void 0,e.fi=void 0,e.bdt=null,e.Adt=null,e.Tdt=NaN,e.Sdt=!1,e.Edt=!1,e.Rdt=1,e.Idt=void 0,e.Ndt=void 0,e.Ddt=function(t){e.Cdt(t)||e.dispatchEvent(t)},e.pdt=n,e.fi=i,e}S(n,t);var i=n.prototype;return i.pause=function(){this.pdt.pause()},i.play=function(){WH(this.pdt.play()),this.xdt()},i.Odt=function(t){if(!(this.Dl<am.r_))return this.M6(),this.Sdt=!0,this.Ddt({type:"canplay"}),t&&t();this.Idt=h(this.Ndt,100)},i.Yo=function(t){this.Edt=!0,this.Sdt=!1,this.pdt.removeEventListener("canplay",this.Ndt),this.Ndt=this.Odt.bind(this,t),this.pdt.addEventListener("canplay",this.Ndt),this.pdt.load(),this.Idt=h(this.Ndt,100)},i.M6=function(){this.Edt=!1,this.pdt.removeEventListener("canplay",this.Ndt),void 0!==this.Idt&&(a(this.Idt),this.Idt=void 0)},i.Pdt=function(t){if(this.pause(),this.M6(),null===t)return this.bdt=null,void(this.Sdt=!1);this.Sdt=!1,this.Adt&&this.Adt.g5(this.pdt.src),this.Adt=t[this.fi],this.pdt.src=this.Adt.w5,this.bdt=t},i.fg=function(){return this.pdt},i.Bdt=function(t){this.Tdt=_.max(t||0,0),this.pdt.currentTime=this.Tdt},i.Ldt=function(){return this.pdt.currentTime},i.Mdt=function(t){var n=this.bdt&&this.bdt.metadata,i=n&&n.RR,e=n&&n[this.fi].RR,r=n&&n[this.fi].d_;return!!this.KK&&(!(t<i)&&t<e+_.min(r,this.pdt.duration))},i.xdt=function(){this.Rdt!==this.pdt.playbackRate&&(this.pdt.playbackRate=this.Rdt,zb&&this.Rdt>0&&this.Dl!==am.n_&&(this.pdt.currentTime=this.pdt.currentTime))},i.Cdt=function(t){return!!(zb&&"seeked"===t.type&&_.abs(this.pdt.currentTime-this.Tdt)>.04)},i.addEventListener=function(n,i){this.jQ(n)||this.pdt.addEventListener(n,this.Ddt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.jQ(n)||this.pdt.removeEventListener(n,this.Ddt)},i.Wr=function(){for(var n=0,i=this.ZQ();n<i.length;n++){var e=i[n];this.pdt.removeEventListener(e,this.Ddt)}t.prototype.Wr.call(this)},i.unload=function(){this.Adt&&this.Adt.g5(this.pdt.src),this.Wr()},A(n,[{key:"volume",get:function(){return this.pdt.volume},set:function(t){this.pdt.volume=t}},{key:"muted",get:function(){return this.pdt.muted},set:function(t){this.pdt.muted=t}},{key:"style",get:function(){return this.pdt.style}},{key:"RR",get:function(){return this.bdt?this.bdt.metadata[this.fi].RR:NaN}},{key:"NR",get:function(){return this.bdt?this.RR+this.bdt.metadata[this.fi].d_:NaN}},{key:"Udt",get:function(){return this.bdt?this.RR+this.Fdt:NaN},set:function(t){this.bdt?this.Fdt=t-this.RR:this.Fdt=0}},{key:"Fdt",get:function(){return this.Ldt()},set:function(t){this.Bdt(t)}},{key:"Hdt",get:function(){return this.bdt},set:function(t){this.Pdt(t)}},{key:"l5",get:function(){return this.bdt&&this.bdt.metadata.n3}},{key:"KK",get:function(){return!(!this.Sdt||!this.bdt)}},{key:"zdt",get:function(){return!(!this.Edt||!this.bdt)}},{key:"m_",get:function(){return this.Rdt},set:function(t){t>=0&&this.Rdt!==t&&(this.Rdt=t,this.xdt())}},{key:"w_",get:function(){return this.pdt.paused}},{key:"l_",get:function(){return this.pdt.ended}},{key:"ts",get:function(){return this.pdt.error}},{key:"p_",get:function(){return this.pdt.videoWidth}},{key:"k_",get:function(){return this.pdt.videoHeight}},{key:"Dl",get:function(){return this.pdt.readyState}}]),n}(aP);function pz(t,n){return i=t.Hdt.metadata.sZ,e=n.Hdt.metadata.sZ,i.bandwidth&&e.bandwidth&&Es(i.bandwidth,e.bandwidth)||i.resolution&&e.resolution&&Es(i.resolution.width*i.resolution.height,e.resolution.width*e.resolution.height)||Ss(i._Y,e._Y)||Es(t.NR,n.NR);var i,e}function bz(t){return{RR:t.RR,NR:t.NR}}function Az(t,n){for(var i=0;i<t.length;i++){var e=t[i];if(e.RR<=n&&n<e.NR)return i}return-1}function Tz(t,n,i){return{RR:n?i.metadata.e5:i.metadata[t].RR,NR:i.metadata[t].RR+i.metadata[t].d_}}function Sz(t,n,i){return new xB([Tz(t,n,i)])}function Ez(t,n,i){for(var e=[],r=0;r<i.length;r++){var s=i[r];e.push(Tz(t,n,s))}return BB(new xB(e))}function Rz(t,n,i){if(!n)return!1;var e=n.metadata[t].RR,r=e+n.metadata[t].d_;return e<=i&&i<=r}function Iz(t,n){var i=FB(t,n);return i<0?n:t.end(i)}var Nz=function(){function t(t){this.nr=void 0,this.p0=[],this.Vdt=OB,this.Wdt=OB,this.nr=t}var n=t.prototype;return n.n7=function(t){var n,i;this.p0=function(t,n){for(var i=[],e=function(t,n,e){var r=i.length&&i[i.length-1];r&&r.Hdt===t?r.NR=e:i.push({Hdt:t,RR:n,NR:e})},r=0;r<t.length;r++){var s=t[r];if(s.NR<=n.RR)e(s.Hdt,s.RR,s.NR);else if(s.RR>=n.NR)n.RR<n.NR&&(e(n.Hdt,n.RR,n.NR),n.RR=n.NR),e(s.Hdt,s.RR,s.NR);else{var u=void 0,o=void 0;pz(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.RR,a=o.RR,c=_.min(o.NR,s.NR),f=_.min(u.NR,s.NR);h<a&&e(u.Hdt,h,a),a<c&&e(o.Hdt,a,c),c<f&&e(u.Hdt,c,f),n.RR=_.max(n.RR,s.NR)}}return n.RR<n.NR&&e(n.Hdt,n.RR,n.NR),i}(this.p0,function(t,n){var i=n.metadata[t].RR;return{Hdt:n,RR:i,NR:i+n.metadata[t].d_}}(this.nr,t)),this.Vdt=zB(this.Vdt,Sz(this.nr,!1,t)),this.Wdt=zB(this.Wdt,Sz(this.nr,!0,t)),this.Wdt=(n=this.Wdt,i=this.Vdt,LB(n,MB(i)))},n.Xdt=function(t){t=this.qdt(t);var n=Az(this.p0,t);return n>=0?this.p0[n].Hdt:null},n.Gdt=function(t,n,i,e){t=this.qdt(t);var r=this.p0,s=Az(r,t);if(s<0)return null;var u=r[s];if(!i||!Rz(this.nr,i,t))return e&&Rz(this.nr,e,t)?null:u.Hdt;if(i!==u.Hdt){if(e&&e===u.Hdt)return null;if(u.NR-t>n)return u.Hdt}for(var o=s+1;o<r.length;o++){var h=r[o];if(e&&e===h.Hdt)return null;if(h.NR-t>n)return h.Hdt;for(var a=[i],c=o+1;c<r.length;c++)a.push(r[c].Hdt);var f=Ez(this.nr,!1,a);a.push(h.Hdt);var v=Ez(this.nr,!1,a);if(Iz(f,t)<Iz(v,t))return h.Hdt}return null},n.Qdt=function(t,n){for(var i=this.p0,e=i.length-1;e>=0;e--){var r=i[e];(r.NR<=t||r.RR>=n)&&xs(i,e)}},n.nl=function(){this.p0.length=0,this.Vdt=OB,this.Wdt=OB},n.qdt=function(t){var n=iz(t,this.yg,this.Wdt,!1);return void 0===n?t:n},A(t,[{key:"yg",get:function(){var t=this.p0.map(bz);return BB(new xB(t))}}]),t}(),Dz=5,Cz=30,xz=function(t){function n(n,i){var e,r;(e=t.call(this)||this).Ydt=void 0,e.fi=void 0,e.jdt=void 0,e.Zdt=void 0,e.Jdt=void 0,e.Ch={Mj:{$dt:100,Kdt:100,tlt:100},Uj:{$dt:500,Kdt:100,tlt:200}},e.Bu=void 0,e.KS=null,e.tdt=null,e.nlt=null,e.ilt=void 0,e.elt=void 0,e.rlt=void 0,e.slt=void 0,e.ult=null,e.olt=void 0,e.hlt=void 0,e.clt=0,e.flt=null,e.vlt=!1,e.GG=!1,e.dlt=0,e.llt=0,e._lt=am.n_,e.Fft=function(){var t=e.dat();e.Jdt.Qdt(t-Dz,t+Cz)},e.glt={wlt:(r=Yt(e),{Yo:function(){r.rlt.addEventListener("ended",this.mlt),r.slt.addEventListener("ended",this.ylt)},hv:function(){r.rlt.removeEventListener("ended",this.mlt),r.slt.removeEventListener("ended",this.ylt)},klt:function(){},mlt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.rlt})},ylt:function(){r.pause(),r.dispatchEvent({type:"ended",origin:r.slt})}}),SA:{Vn:"SA",Yo:function(){},hv:function(){},klt:function(){}},plt:function(){var t=Yt(e),n=function n(){t.rlt.removeEventListener("play",n),t.rlt.removeEventListener("timeupdate",i),t.rlt.addEventListener("timeupdate",i)},i=function n(){var i,e;t.rlt.w_||(!t.seeking&&t.rlt.Hdt?(i=t.rlt,(e=t.slt).KK&&Oz(i,e)>=0&&t.blt(t.glt.Alt)):t.rlt.removeEventListener("timeupdate",n))};return{Vn:"plt",Yo:function(){t.glt.wlt.Yo.call(this),this.Tlt(),this.klt()},hv:function(){t.glt.wlt.hv.call(this),t.rlt.removeEventListener("play",n),t.rlt.removeEventListener("timeupdate",i)},klt:function(){t.rlt.Hdt?t.klt(t.slt,t.Slt):t.klt(t.rlt,t.Slt)},mlt:function(){var n=t.slt.Hdt;if(n&&n.metadata.i3)return t.slt.Mdt(t.rlt.Udt)&&(t.slt.Udt=t.rlt.Udt),t.Elt(),void t.rlt.play();t.glt.wlt.mlt.call(this)},ylt:function(){0},Tlt:function(){t.rlt.removeEventListener("play",n),t.rlt.w_?t.rlt.addEventListener("play",n):n.call(t.rlt)}}}(),Alt:function(){var t=Yt(e),n=function(){e.blt(e.glt.Rlt)};return{Vn:"Alt",Yo:function(){t.glt.wlt.Yo.call(this),t.slt.addEventListener("seeked",n);var i=Oz(t.rlt,t.slt),e=t.Ch[t.fi].$dt/1e3,r=_.min(i+e,t.slt.NR);try{t.slt.Fdt=r}catch(n){t.blt(t.glt.plt),t.Ilt(n.message)}},hv:function(){t.glt.wlt.hv.call(this),t.slt.removeEventListener("seeked",n)},klt:function(){},mlt:function(){t.glt.wlt.mlt.call(this)},ylt:function(){}}}(),Rlt:function(){var t,n=Yt(e),i=function(){s()},r=function(){s()},s=function(){jR(t),e.slt.Udt-e.rlt.Udt-1/60>0?t=YR(i):e.blt(e.glt.Nlt)};return{Vn:"Rlt",Yo:function(){n.glt.wlt.Yo.call(this),n.rlt.addEventListener("timeupdate",r),s()},hv:function(){n.glt.wlt.hv.call(this),jR(t),n.rlt.removeEventListener("timeupdate",r)},klt:function(){},mlt:function(){n.glt.wlt.mlt.call(this)},ylt:function(){n.glt.wlt.ylt.call(this)}}}(),Nlt:function(){var t,n=Yt(e),i=function(){var t=e.Dlt(e.slt),n=e.Ch[e.fi].Kdt/_.max(1,e.rlt.m_);return function(t,n,i,e){return new yz(t,n,i,e)}(t,t.Clt,n,function(){e.blt(e.glt.xlt),e.glt.xlt.Olt()})},r=function(){e.nlt.RR(),e.blt(e.glt.xlt)};return{Vn:"Nlt",Yo:function(){n.glt.wlt.Yo.call(this);var e=n.Ch[n.fi].tlt/_.max(1,n.rlt.m_);n.nlt=i(),t=h(r,e),n.slt.play()},hv:function(){n.glt.wlt.hv.call(this),a(t),t=0},klt:function(){},mlt:function(){n.glt.wlt.mlt.call(this)},ylt:function(){n.glt.wlt.ylt.call(this)}}}(),xlt:function(){var t=Yt(e);return{Vn:"xlt",Yo:function(){t.glt.wlt.Yo.call(this)},hv:function(){t.glt.wlt.hv.call(this),t.nlt&&t.nlt.mdt()},klt:function(){},mlt:function(){t.glt.wlt.mlt.call(this)},ylt:function(){t.glt.wlt.ylt.call(this)},Olt:function(){t.nlt=null,t.Elt()}}}()},e.Plt={Blt:function(){var t=Yt(e);return{Yo:function(){},hv:function(){},klt:function(){t.olt.klt()},Qat:function(n,i,e,r){t.clt=n,t.flt=r,t.blt(t.glt.SA);var s=t.rlt===t.ilt?i:e,u=t.slt===t.ilt?i:e;s&&t.rlt.Mdt(n)?t.Llt(t.Plt.Mlt):u&&t.slt.Mdt(n)?t.Llt(t.Plt.Ult):t.Llt(t.Plt.Flt)}}}(),Flt:function(){var t=Yt(e),n=function(){e.Slt(),e.slt.KK?(e.slt.Mdt(e.clt)||(e.Hlt('Could not seek to exact timestamp "'+e.clt+'", seeking instead to: "'+e.slt.RR+'"'),e.clt=e.slt.RR),e.Llt(e.Plt.Ult)):e.Llt(e.Plt.Blt)};return{Yo:function(){t.zlt(),t.rlt.Hdt=null,t.slt.Hdt=null,t.slt.style.display="none",t.Slt(),this.klt()},hv:function(){t.slt.M6(),t.slt.style.display=""},klt:function(){t.slt.Hdt||t.klt(t.slt,n)},Qat:function(n,i,e,r){t.Vlt(),t.hlt.Qat(n,i,e,r)}}}(),Mlt:function(){var t=Yt(e),n=function(){e.Llt(e.Plt.Blt),e.blt(e.glt.plt),e.jF(),e.flt&&(e.flt.call(t),e.flt=null)};return{Yo:function(){t.rlt.addEventListener("seeked",n);try{t.rlt.Udt=t.clt,t.jF()}catch(n){t.Ilt(n.message)}},hv:function(){t.rlt.removeEventListener("seeked",n)},klt:function(){},Qat:function(n,i,e,r){t.Vlt(),t.hlt.Qat(n,i,e,r)}}}(),Ult:function(){var t=Yt(e),n=function(){e.Llt(e.Plt.Blt),e.Elt(),e.flt&&(e.flt.call(t),e.flt=null)};return{Yo:function(){t.slt.style.display="none",t.slt.addEventListener("seeked",n);try{t.slt.Udt=t.clt,t.jF()}catch(n){t.Ilt(n.message)}},hv:function(){t.slt.style.display="",t.slt.removeEventListener("seeked",n)},klt:function(){},Qat:function(n,i,e,r){t.Vlt(),t.hlt.Qat(n,i,e,r)}}}()},e.Slt=function(){var t=e.GG;e.GG=e.ilt.zdt||e.elt.zdt,t&&!e.GG&&e.dispatchEvent("updateend"),e.Wlt(),e.jF(),e.Xlt()},e.jF=function(){var t=e.Dl;t!==e._lt&&(e._lt=t,e.dispatchEvent(Em.zd))},e.Ydt=n,e.fi=i,e.Jdt=new Nz(i),e.Bu="Uj"===i?0:1;var s=function(t){switch(t){case"Mj":return"audio";case"Uj":return"video"}}(i);return e.jdt=Pz(s),e.Zdt=Pz(s),n.appendChild(e.jdt),n.appendChild(e.Zdt),e.ilt=new kz(e.jdt,e.fi),e.elt=new kz(e.Zdt,e.fi),e.rlt=e.ilt,e.slt=e.elt,e.olt=e.glt.plt,e.hlt=e.Plt.Blt,e.olt.Yo(),e.hlt.Yo(),e.lJ(),e.al(),e}S(n,t);var i=n.prototype;return i.qlt=function(t){return t===this.ilt?this.elt:this.ilt},i.Hlt=function(t){this.tdt=t,this.dispatchEvent({type:"warning",warning:this.tdt})},i.Ilt=function(t){this.KS=t,this.dispatchEvent({type:"error",error:t})},i.Dlt=function(t){var n,i=this,e=this.qlt(t);return n="Uj"===this.fi?{cs:function(){if(i.ult!==t)return 0;var n=w(t.style.opacity);return m(n)?1:n},ia:function(n){n=Bt(n,0,1),e.style.opacity=""+(1-n),1===n&&(i.ult=t,t.style.zIndex="2",e.style.zIndex="1",e.style.opacity="1")},Clt:1,Glt:function(){if(n.cs()!==n.Clt)return n.ia(n.Clt)}}:{cs:function(){return t.volume},ia:function(i){var r;try{t.volume=i}catch(t){r=t}try{e.volume=n.Clt-i}catch(t){r=t}return r},Clt:this.Bu,Glt:function(){if(n.cs()!==n.Clt)return n.ia(n.Clt)}}},i.klt=function(t,n){var i=this.Jdt.Gdt(this.dat(),1,this.rlt.Hdt,this.slt.Hdt);return!!i&&(this.zlt(),t.Hdt=i,t.Yo(n),t.l5&&this.dispatchEvent("durationchange"),!0)},i.Qlt=function(){this.zlt(),this.Jdt.nl(),this.ilt.M6(),this.elt.M6(),this.Slt()},i.fg=function(){return this.rlt.fg()},i.dat=function(){return this.seeking?this.clt:this.rlt.Udt},i.Qat=function(t,n){var i=this,e=!n;this.dispatchEvent("seeking"),this.pause(),this.hlt.Qat(t,e,e,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Elt=function(){var t=this.rlt;this.blt(this.glt.SA),this.rlt=this.slt,this.slt=t,this.Dlt(this.rlt).Glt(),this.zlt(),this.slt.pause(),this.slt.Hdt=null,this.Slt(),this.blt(this.glt.plt)},i.lJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Ilt(new vP(fP.rY,{code:"VEE"+i.error})):t.Ilt(new vP(fP.rY,{code:"VEE"+n.ts.code}));n===t.rlt&&t.dispatchEvent({type:i.type,origin:n})},e=i.bind(null,this.ilt),r=i.bind(null,this.elt),s=0;s<n.length;s++){var u=n[s];this.ilt.addEventListener(u,e),this.elt.addEventListener(u,r)}this.ilt.addEventListener("error",e),this.elt.addEventListener("error",r);for(var o=0;o<LD.length;o++){var h=LD[o];this.ilt.addEventListener(h,this.jF),this.elt.addEventListener(h,this.jF)}},i.al=function(){this.addEventListener("seeking",this.Fft),this.addEventListener("timeupdate",this.Fft)},i.blt=function(t){var n;if(this.olt!==t){do{(n=this.olt).hv()}while(n!==this.olt);this.olt=t,t.Yo()}},i.Llt=function(t){var n;if(this.hlt!==t){do{(n=this.hlt).hv()}while(n!==this.hlt);this.hlt=t,t.Yo()}},i.Vlt=function(){this.flt=null,this.Llt(this.Plt.Blt)},i.load=function(){this.pause(),this.Vlt(),this.rlt.Hdt=null,this.slt.Hdt=null,this.blt(this.glt.plt)},i.hv=function(){this.Vlt(),this.blt(this.glt.SA),this.Qlt(),this.ilt.unload(),this.elt.unload(),this.Ydt.removeChild(this.jdt),this.Ydt.removeChild(this.Zdt),this.KS=null,this.tdt=null},i.LJ=function(){var t=this,n=this.dat();this.Qlt(),this.hlt.Qat(n,!1,!1,function(){t.dispatchEvent("LJ",!0)})},i.play=function(){this.Dlt(this.rlt).Glt(),this.rlt.KK&&this.rlt.play()},i.pause=function(){this.ilt.pause(),this.elt.pause()},i.adt=function(t){var n=this,i=function(){n.dispatchEvent("Jvt",!0)};this.pause(),this.rlt.l_?this.hlt.Qat(t,this.slt===this.ilt,this.slt===this.elt,i):this.slt.l_?this.hlt.Qat(t,!1,!1,i):this.slt.Mdt(t)?this.hlt.Qat(t,this.slt===this.ilt,this.slt===this.elt,i):i()},i.n7=function(t){this.zlt(),this.Jdt.n7(t),this.Slt(),this.hlt.klt()},i.cdt=function(t){return this.jdt.canPlayType('video/mp4; codecs="'+t+'"')},i.fdt=function(){return _.max(this.jdt.offsetWidth,this.Zdt.offsetWidth)},i.vdt=function(){return _.max(this.jdt.offsetHeight,this.Zdt.offsetHeight)},i.Wlt=function(){!this.vlt&&this.loaded&&(this.vlt=!0,this.dispatchEvent("loaded"))},i.Xlt=function(){if("Uj"===this.fi){var t=this.p_,n=this.k_;t>0&&n>0&&(this.dlt!==t||this.llt!==n)&&(this.dlt=t,this.llt=n,this.dispatchEvent("resize"))}},i.zlt=function(){var t=this.GG;this.GG=!0,t||this.dispatchEvent("updatestart")},A(n,[{key:"yg",get:function(){var t=[];return m(this.ilt.RR)||t.push({RR:this.ilt.RR,NR:this.ilt.NR}),m(this.elt.RR)||t.push({RR:this.elt.RR,NR:this.elt.NR}),zB(BB(new xB(t)),this.Jdt.yg)}},{key:"duration",get:function(){return this.rlt.l5?this.rlt.NR:this.slt.l5?this.slt.NR:NaN}},{key:"paused",get:function(){return this.rlt.w_}},{key:"ended",get:function(){return this.rlt.l_}},{key:"muted",get:function(){return this.rlt.muted&&this.slt.muted},set:function(t){this.rlt.muted=t,this.slt.muted=t}},{key:"volume",get:function(){return this.Bu},set:function(t){this.Bu=t,this.nlt&&this.nlt.mdt(),this.slt.volume=0,this.rlt.volume=this.Bu}},{key:"error",get:function(){return this.KS}},{key:"warning",get:function(){return this.tdt}},{key:"seeking",get:function(){return this.hlt!==this.Plt.Blt}},{key:"loaded",get:function(){return this.rlt.KK}},{key:"m_",get:function(){return this.rlt.m_},set:function(t){t>=0&&(this.rlt.m_=t,this.slt.m_=t)}},{key:"p_",get:function(){return this.rlt.p_}},{key:"k_",get:function(){return this.rlt.k_}},{key:"sx",get:function(){return this.GG}},{key:"Dl",get:function(){var t;if(this.hlt===this.Plt.Flt||this.hlt===this.Plt.Ult)t=am.i_;else{var n=this.rlt.Dl;if(n<=am.e_)t=n;else{var i=FS.cI(this.yg).MR(),e=this.duration,r=this.dat();m(e)||(r=_.min(r,e));var s=i.hI(r);if(s){var u=s.NR(0);t=u-r>=3*this.m_||!m(e)&&u>=e?am.s_:am.r_}else t=am.e_}}return t===am.n_&&this.vlt?am.i_:t}}]),n}(aP);function Oz(t,n){return t.Udt-n.RR}function Pz(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),tr(n),n.controls=!1,n}var Bz,Lz=function(){function t(t){var n=this;this.aR=void 0,this.Dg=void 0,this.Ylt=void 0,this.jlt=void 0,this.Zlt=void 0,this.Jlt=function(){(m(n.jlt)||n.Zlt)&&(n.jlt=n.EO()),n.Ylt=n.jlt,n.Zlt=!1},this.$lt=function(){var t=n.EO();n.Klt(t),n.jlt=t},this.t_t=function(){n.aR.Dl<=am.e_&&n.$lt()},this.n_t=function(){n.Klt(n.jlt),n.Zlt=!0},this.i_t=function(){n.jlt=n.EO()},this.aR=t,this.Dg=FS.dI(),this.Ylt=NaN,this.jlt=NaN,this.Zlt=!1,t.addEventListener("playing",this.Jlt),t.addEventListener("pause",this.$lt),t.addEventListener("seeking",this.n_t),t.addEventListener("timeupdate",this.i_t),t.addEventListener(Em.zd,this.t_t)}var n=t.prototype;return n.rF=function(){var t=this.Dg,n=this.Ylt;if(!m(n)){var i=this.EO();n<i&&(t=t.jR(new FS([n,i])))}return t.XE()},n.EO=function(){return this.aR.dat()},n.Klt=function(t){var n=this.Ylt;n<t&&(this.Dg=this.Dg.jR(new FS([n,t]))),this.Ylt=NaN},n.Hat=function(){var t=this.EO();this.Klt(t),this.Zlt=!0},n.nl=function(){this.Dg=FS.dI(),this.Ylt=NaN,this.jlt=NaN,this.Zlt=!1},n.Sr=function(){var t=this.aR;t.removeEventListener("playing",this.Jlt),t.removeEventListener("pause",this.$lt),t.removeEventListener("seeking",this.n_t),t.removeEventListener("timeupdate",this.i_t),t.removeEventListener(Em.zd,this.t_t),this.aR=null},t}(),Mz=function(t){function n(n,i){var e;return(e=t.call(this)||this).e_t=void 0,e.JS=void 0,e.Xz=!1,e.Au=NaN,e.r_t=void 0,e.Ii=void 0,e.Ydt=void 0,e.s_t=void 0,e.KS=void 0,e.configuration={},e.loading=!1,e.loaded=!1,e._lt=am.n_,e.u_t=function(){e.s_t.seeking||(e.s_t.removeEventListener("seeked",e.u_t),e.dispatchEvent("seeked"),e.o_t.paused?e.Ii=e.h_t:e.a_t(),e.jF())},e.c_t=function(){e.s_t.paused||(e.s_t.removeEventListener("playing",e.c_t),e.dispatchEvent("playing"))},e.f_t=function(t){e.Ii=e.v_t,e.KS=t,e.dispatchEvent({type:"error",error:e.KS})},e.d_t={paused:!0,play:function(){e.removeEventListener("kft",e.d_t.l_t),e.Xz?(e.Ii=e.__t,e.s_t.removeEventListener("playing",e.c_t),e.s_t.addEventListener("playing",e.c_t),e.s_t.play(),e.dispatchEvent("play")):e.addEventListener("kft",e.d_t.l_t)},l_t:function(){e.removeEventListener("kft",e.d_t.l_t),e.Ii.play()},stall:function(){},pause:function(){e.d_t.l_t&&e.removeEventListener("kft",e.d_t.l_t),e.s_t.pause(),e.dispatchEvent("pause"),e.Ii=e.h_t},load:function(t){},dat:function(){return e.Xz?e.s_t.dat():0},Qat:function(t,n){var i=UB(e.yg,t);n=n||!i,e.s_t.removeEventListener("seeked",e.u_t),e.s_t.addEventListener("seeked",e.u_t),e.o_t.seekTime=t,e.Ii=e.o_t,e.dispatchEvent("Hat"),e.s_t.Qat(t,n),e.dispatchEvent("seeking")},XO:function(){return e.s_t.Dl},LJ:function(t){e.o_t.seekTime=e.dat(),e.Ii=e.g_t,e.s_t.removeEventListener("LJ",e.g_t.w_t),e.s_t.addEventListener("LJ",e.g_t.w_t),e.s_t.LJ(t),e.jF()},forwardEvent:function(t){"pause"===t.type&&e.s_t.ended||e.dispatchEvent(t)}},e.h_t=Rr({},e.d_t,{pause:function(){e.removeEventListener("kft",e.d_t.l_t)},Qat:function(t){e.o_t.paused=!0,e.d_t.Qat(t)},LJ:function(t){e.o_t.paused=!0,e.d_t.LJ(t)}}),e.m_t=Rr({},e.h_t),e.y_t=Rr({},e.h_t,{load:function(t,n){e.removeEventListener("kft",e.y_t.k_t),n||e.dispatchEvent("loadstart"),e.Xz?e.s_t.load(t):(e.y_t.p_t=t,e.addEventListener("kft",e.y_t.k_t))},k_t:function(){e.removeEventListener("kft",e.y_t.k_t),e.Ii.load(e.y_t.p_t,!0)},p_t:null,dat:function(){return e.Xz?e.s_t.dat():e.y_t.b_t},Qat:function(t){e.removeEventListener("kft",e.y_t.A_t),e.Xz?(e.Ii=e.h_t,e.Ii.Qat(t)):(e.y_t.b_t=t,e.addEventListener("kft",e.y_t.A_t),e.dispatchEvent("seeking"))},A_t:function(){e.removeEventListener("kft",e.y_t.A_t),e.Ii.Qat(e.y_t.b_t)},b_t:0,LJ:function(t){}}),e.__t=Rr({},e.d_t,{Qat:function(t){e.o_t.paused=!1,e.d_t.Qat(t)},play:function(){},stall:function(){e.Ii=e.T_t,e.T_t.S_t=e.s_t.dat(),e.T_t.paused=!1,e.s_t.addEventListener("Jvt",e.T_t.E_t),e.s_t.adt(e.T_t.S_t),e.jF()},LJ:function(t){e.o_t.paused=!1,e.d_t.LJ(t)}}),e.T_t=Rr({},e.__t,{paused:!1,S_t:0,Qat:function(t){e.s_t.removeEventListener("Jvt",e.T_t.E_t),e.T_t.paused?e.Ii=e.h_t:e.Ii=e.__t,e.Ii.Qat(t),e.jF()},dat:function(){return e.T_t.S_t},XO:function(){return _.min(e.s_t.Dl,am.e_)},forwardEvent:function(){},play:function(){e.T_t.paused=!1,e.dispatchEvent("play")},pause:function(){e.T_t.paused=!0,e.dispatchEvent("pause")},stall:function(){},E_t:function(){e.s_t.seeking||(e.s_t.removeEventListener("Jvt",e.T_t.E_t),e.T_t.paused?e.Ii=e.h_t:e.d_t.play(),e.jF())}}),e.o_t=Rr({},e.d_t,{paused:!1,seekTime:0,dat:function(){return e.o_t.seekTime},play:function(){e.o_t.paused=!1},pause:function(){e.o_t.paused=!0,e.s_t.pause(),e.dispatchEvent("pause")}}),e.g_t=Rr({},e.o_t,{Qat:function(t){e.s_t.removeEventListener("LJ",e.g_t.w_t),e.o_t.paused?e.Ii=e.h_t:e.Ii=e.__t,e.Ii.Qat(t)},XO:function(){return _.min(e.s_t.Dl,am.e_)},forwardEvent:function(){},stall:function(){},w_t:function(){e.s_t.seeking||(e.s_t.removeEventListener("LJ",e.g_t.w_t),e.o_t.paused?e.Ii=e.h_t:e.d_t.play(),e.jF())}}),e.v_t=Rr({},e.d_t,{play:function(){},pause:function(){},load:function(){},dat:function(){return NaN},XO:function(){return am.n_},Qat:function(t){e.d_t.Qat(t,!0)},LJ:function(t){}}),e.Ur=function(t){e.dispatchEvent(t)},e.R_t=function(t){e.Ii.forwardEvent(t)},e.I_t=function(t){e.f_t(t.error)},e.N_t=function(t){if(t.origin&&t.origin.l5)return e.tg();e.Ii.stall()},e.Pvt=function(){var t=e.s_t.duration;t&&e.Au!==t&&(e.Au=t,e.dispatchEvent("durationchange"))},e.D_t=function(){e.s_t.loaded&&(e.loaded=!0)},e.jF=function(){var t=e.Dl;t!==e._lt&&(e._lt=t,e.dispatchEvent(Em.zd))},e.e_t=n,e.JS=i,e.r_t=new Lz(Yt(e)),e.s_t=new mz,e.Ii=e.y_t,e.Ydt=s.createElement("div"),e.Ydt.style.position="absolute",e.Ydt.style.width="100%",e.Ydt.style.height="100%",e.C_t(),e}S(n,t);var i=n.prototype;return i.a_t=function(){this.d_t.play()},i.C_t=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var e=t[i];this.s_t.addEventListener(e,this.Ur)}for(var r=0;r<n.length;r++){var s=n[r];this.s_t.addEventListener(s,this.R_t)}this.s_t.addEventListener("ended",this.N_t),this.s_t.addEventListener("error",this.I_t),this.s_t.addEventListener("durationchange",this.Pvt),this.s_t.addEventListener("loaded",this.D_t),this.s_t.addEventListener(Em.zd,this.jF)},i.setup=function(){this.JS.TE.parentNode===this.e_t?this.e_t.replaceChild(this.Ydt,this.JS.TE):(this.JS.TE.parentNode&&this.JS.TE.parentNode.removeChild(this.JS.TE),this.e_t.appendChild(this.Ydt))},i.play=function(){this.Ii.play()},i.pause=function(){this.Ii.pause()},i.x_t=function(t){this.s_t&&this.s_t.hv(t),this.Xz=!1},i.tg=function(){this.pause(),this.Ii=this.m_t,this.KS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Ii.load(t)},i.unload=function(){return this.s_t.hv(),this.r_t.Sr(),this.Ydt.parentNode===this.e_t?this.e_t.replaceChild(this.JS.TE,this.Ydt):(this.Ydt.parentNode&&this.Ydt.parentNode.removeChild(this.Ydt),this.e_t.appendChild(this.JS.TE)),this.Wr(),this.JS.TE},i.reset=function(t){this.Xz=!1,this.Ii=this.y_t,this.KS=void 0,this.Au=NaN,this._lt=am.n_,this.r_t.nl(),this.x_t(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.LJ=function(t){this.Ii.LJ(t)},i.n7=function(t){return this.s_t.n7(t),ze.resolve()},i.fg=function(){return this.s_t.fg()},i.dat=function(){return this.Ii.dat()},i.Qat=function(t){this.r_t.Hat(),this.Ii.Qat(t)},i.jst=function(t,n){return ze.resolve()},i.canPlayCodecs=function(t){return this.s_t.cdt('video/mp4; codecs="'+t+'"')},i.xat=function(t,n,i){var e={};for(var r in t)if(M.call(t,r)){var s=t[r];!this.s_t.videoStream&&s.Uj&&(this.s_t.videoStream=new xz(this.Ydt,"Uj"),e.Uj=this.s_t.videoStream),!this.s_t.audioStream&&s.Mj&&(this.s_t.audioStream=new xz(this.Ydt,"Mj"),e.Mj=this.s_t.audioStream,this.dispatchEvent("fft"))}return this.Xz=!0,this.dispatchEvent("kft"),ze.resolve(e)},A(n,[{key:"Cat",get:function(){return this.Xz}},{key:"pg",get:function(){return this.Ydt}},{key:"yg",get:function(){return this.s_t.yg}},{key:"volume",get:function(){return this.s_t.volume},set:function(t){this.s_t.volume=t}},{key:"duration",get:function(){return this.Au}},{key:"muted",get:function(){return this.s_t.muted},set:function(t){this.s_t.muted=t}},{key:"paused",get:function(){return this.Ii.paused&&this.s_t.paused}},{key:"played",get:function(){return this.r_t.rF()}},{key:"ended",get:function(){return this.Ii===this.m_t}},{key:"seeking",get:function(){return this.Ii===this.o_t}},{key:"error",get:function(){return this.KS||this.s_t.error}},{key:"warning",get:function(){return this.s_t.warning}},{key:"width",get:function(){return this.s_t.fdt()}},{key:"height",get:function(){return this.s_t.vdt()}},{key:"m_",get:function(){return this.s_t.m_},set:function(t){this.s_t.m_=t}},{key:"Dl",get:function(){return this.Ii.XO()}},{key:"p_",get:function(){return this.s_t.p_}},{key:"k_",get:function(){return this.s_t.k_}}]),n}(aP);!function(t){t.dY="unsupported",t.O_t="native",t.P_t="hls-native",t.B_t="hls-mse",t.L_t="hls-switching-video"}(Bz||(Bz={}));var Uz=function(){function t(){this.M_t={},this.U_t(Bz.O_t,QH),this.U_t(Bz.P_t,QH),this.U_t(Bz.B_t,cz),this.U_t(Bz.L_t,Mz)}return t.prototype.U_t=function(t,n){this.M_t[t]=n},t.U_t=function(n,i){t.HK.U_t(n,i)},t.F_t=function(n,i,e){var r=t.HK.M_t[n];return r?new r(i,e):void 0},t}();Uz.HK=new Uz;var Fz=function(t){function n(n){var i;return(i=t.call(this)||this).H_t=void 0,i.z_t=function(t){i.Fr(t)},i.H_t=n,i.V_t(),i}S(n,t);var i=n.prototype;return i.V_t=function(){this.H_t.Hr("yC",this.z_t)},i.W_t=function(){this.H_t.Xr("yC",this.z_t)},i.hv=function(){this.W_t()},A(n,[{key:"SC",get:function(){return this.H_t.SC}},{key:"EC",get:function(){return this.H_t.EC}},{key:"X_t",set:function(t){if(this.H_t!==t){var n=this.EC,i=this.SC;this.W_t(),this.H_t=t,this.V_t();var e=this.EC,r=this.SC;n===e&&i===r||this.Fr(new HR(e,r))}}}]),n}(iu);function Hz(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function zz(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function Vz(t,n){var i=t.type;return i?Db?zz(i)?!Mb||n.useSwitchOverMSE||L.dn&&n.vr&&n.vr[360]?!Ob||L.un||L.fn&&L.Ht?Pb?Bz.L_t:Bz.dY:Bz.P_t:Bz.B_t:Bz.O_t:Bz.dY:Bz.O_t}var Wz=function(t,n,i,e,r){var s,u,o,c,f,d,g=this,y=null,k=null,p=null,b=!0,A=null,T=null,S=!1,E=null,R=null,I=null,N=VS,D=VS,C=!0,x=null,O={c1:0,ldt:0},P=null,B=null,M=null,U=1,F=!1,H="none",z=!0,W=!0,X=!1,q=null,G=!0,Q=!1,Y=am.n_,j=!1,Z=!1,J=NaN,$=null,K=null,tt=L.Qt&&xb,nt=!1,it="",et=Bz.dY,rt=null,st=function(){var t=new vP(fP.dY,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});g.dispatchEvent({type:"unsupportedPlatform"}),Yt(t)},ut=function(){var t,e;return(t=i.audioOnly?(e=n.AE(my.Jf)).TE:(e=n.AE(my.$f)).TE).preload="none",tr(t),e},ot=function(t){return t===R?I:R},ht=function(){A.style.zIndex="1",T.style.zIndex="0",A.style.display=b?"":"none",T.style.display=b&&S?"":"none"},at=function(t){gt(t.XJ),_t(t.qJ),u&&(u.XJ=o),yt()},ct=function(t,n){mt(t.XJ,n),wt(t.qJ),u&&(u.XJ=o)},ft=function(){zt(),Rt(),g.dispatchEvent("timeupdate"),g.dispatchEvent("ended")},vt=function(){var t=function(t){if("error"===t.type)return Yt(t.error);g.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("fft",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===Bz.O_t&&(Q=!0,g.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,g.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Ht),k.addEventListener("seeked",zt),k.addEventListener("ended",ft),k.addEventListener(Em.zd,Kt),k.setup(),d.Vat=k,n(["timeupdate","playing","ratechange","resize"],t),et){case Bz.O_t:case Bz.P_t:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case Bz.B_t:n(["play","pause"],Tt)}k.addEventListener("warning",function(t){g.warning=t.warning,g.dispatchEvent(t)}),g.dispatchEvent("volumechange")},dt=function(t){y&&y.Cct(),k&&(y=new IH(t,tt,f,e))},lt=function(t){var n=Dt(t.sources),e=t.textTracks||[],r=VH(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(r.Kct=!0),{sources:[n],textTracks:e,configuration:r}},_t=function(t){wt(t)},gt=function(t){o&&(o.hv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener("durationchange",function(){J=o.d_,g.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("lv",kt),o.addEventListener("Ng",kt),o.A$.addEventListener("renditionUpdated",function(){Xt()}),d.A$=o.A$)},wt=function(t){var n;c&&(c.hv(),c=null),k&&(c=t)&&(n=c.fat,c.addEventListener("PJ",function(t){var n=g.videoWidth,i=g.videoHeight;$=t.sZ,g.dispatchEvent(t),Vb&&n===g.videoWidth&&i===g.videoHeight||g.dispatchEvent("resize")}),c.addEventListener("ts",function(t){Yt(t.error)}),c.addEventListener("Vht",function(t){g.dispatchEvent(t)}),c.Vat=k,m(n)||Ft(n))},mt=function(t,n){o&&(o.hv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){Q=!0,Kt()}),o.addEventListener(Xc.Ca,function(t){g.dispatchEvent(t)}),o.addEventListener(Xc.Oa,function(t){g.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.d_,g.dispatchEvent("durationchange")}),o.addEventListener("ts",function(t){Yt(t.ts)}),o.addEventListener("lv",kt),o.addEventListener("Ng",kt),o.addEventListener("x$",function(){g.dispatchEvent("progress")}),o.A$.addEventListener("renditionUpdated",function(){Xt()}),o.A$.addEventListener("renditionUpdated",function(t){var i,e=t.sZ.VZ&&t.sZ.VZ.Mj;e&&-1!==e.indexOf("mp4a.40.3")&&("Y6"!==n.j6||Lb||(i=P,hP(function(){n.useSwitchOverMSE=!0;var t=W;P=null,tn({sources:i,configuration:n}),t||Et()})))}),d.A$=o.A$)},yt=function(){k.addEventListener("play",function(){g.play({fromNative:!0})}),k.addEventListener("pause",function(){g.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){g.volume=k.volume,g.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Pt)},kt=function(){var t=G,n=!o||o.Ng;G=n,n&&!t?g.dispatchEvent(Xc.pa):!n&&t&&g.dispatchEvent(Xc.ka)},pt=function(){z=!1,W=!1,j=!0,k.configuration.useNativeVideoPlayback||k.loaded||St(),Xt()},bt=function t(){g.removeEventListener("initialized",t),g.removeEventListener("initialized",At),z&&(pt(),g.ended?Ft(0):qt(),k.play(),c&&c.J_())},At=function t(){g.removeEventListener("initialized",bt),g.removeEventListener("initialized",t),z&&(pt(),qt())},Tt=function(t){var n=W;W="pause"===t.type,n&&!W?g.play({fromNative:!0}):!n&&W&&g.pause({fromNative:!0})},St=function(){j=!0,k.configuration.useNativeVideoPlayback?(k.load(),O.ldt="start"):k.loading||(k.load(),k.loading=!0),Xt()},Et=function(t){if(t=t||{},W=!1,C&&(C=!1,n.NI()),O.q_t=!1,!g.initialized||!k){if(t.onlyWhenInitialized){var i=new vP(fP.cY,{code:"MGB6720"});throw Yt(i),i}return g.removeEventListener("initialized",bt),g.removeEventListener("initialized",At),g.addEventListener("initialized",t.fromNative?At:bt),g.dispatchEvent("play",!0),void g.dispatchEvent("waiting",!0)}if(z){if(X&&g.ended)return Rt(),void g.dispatchEvent("timeupdate",!0);g.dispatchEvent("play",!0),t.fromNative?At():bt()}},Rt=function(t){W=!0,(t=t||{}).fromNative||g.removeEventListener("initialized",bt),g.removeEventListener("initialized",At),!z&&k&&(z=!0,t.fromNative||k.pause(),g.dispatchEvent("pause",!0))},It=function(t){return{type:Hz(t)?"application/vnd.apple.mpegurl":"",src:t}},Nt=function(t){return"string"==typeof t},Dt=function(t){if(HH(t))return t.type?t:It(t.src);if(Nt(t))return It(t);if(V(t)&&Nt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(Hz(i))return It(i)}return It(t[0])}if(V(t)&&HH(t[0])){for(var e=0;e<t.length;e++){var r=t[e];if(zz(r.type)||!r.type&&Hz(r.src))return r.type?r:It(r.src)}return t[0]}return{type:null,src:null}},Ct=function(t){var n=(t=lt(t)).sources[0],i=t.configuration,s=Vz(n,i);!function(t,n){switch(t){case Bz.O_t:case Bz.P_t:n.j6=!1,n.G_t=!1;break;case Bz.B_t:n.j6="Y6",n.G_t=!0;break;case Bz.L_t:n.j6="z5",n.G_t=L.Mt}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case Bz.O_t:h=s=o=null;break;case Bz.P_t:h=null;var c=new yH(a,e);s=c,o=new SH(c);break;case Bz.B_t:case Bz.L_t:h=new CH(a,e);var f=new mH(a,h,e,r);s=f,o=new AH(f);break;default:return null}return new oB(n,t,i,h,s,o,u)}(s,n,t);return o?(o.qJ&&(o.qJ.m_=g.playbackRate),o):null},xt=function(t){tn({sources:t})},Ot=function(n,i){var e=E,r=e.TE,u=!1,o=!g.paused,h=et,a=g.playbackRate,c=g.Q_t;K&&(K.hv(),K=null),nn();var f=n&&n.U$||null;n&&n.L$,B=n&&n.hR||null,M=f&&f.configuration||null,et=n&&n.M$||Bz.dY,jt();var v={type:"Y_t",j_t:n,rh:M,Z_t:i};if(g.dispatchEvent(v),et!==Bz.dY){if(k){g.pause();var d=h===et||h===Bz.P_t&&et===Bz.O_t||h===Bz.O_t&&et===Bz.P_t,l=i&&!L.Qt;if(d&&!l)k.reset(),y.nl();else{if(l?(p=k,r=(e=ot(e)).TE):r=k.unload(),!(u=Uz.F_t(et,t,e)))return void st();k=u,vt(),dt(r)}zt(),Q=!1,Y=am.n_,j=!1,Z=!1,J=NaN,x=null,g.dispatchEvent("durationchange"),O.ldt=0,O.c1=0,O.q_t=!0,g.dispatchEvent("timeupdate")}else{if(!(u=Uz.F_t(et,t,e)))return void st();k=u,e.TE.removeAttribute("poster"),vt(),dt(e.TE)}switch(E=e,s.X_t=E.pB,A=k.pg,p?(T=p.pg,S=!0):(T=ot(e).TE,S=!1),ht(),M.crossOrigin){case sm.Jl:case sm.$l:E.TE.setAttribute("crossorigin",M.crossOrigin);break;default:E.TE.removeAttribute("crossorigin")}if(c!==g.Q_t&&g.dispatchEvent(Xc._a),Pt(),Lt(),!B)return P=null,void(g.initialized=!1);!function(t,n){switch(et){case Bz.O_t:case Bz.P_t:at(t);break;case Bz.B_t:case Bz.L_t:ct(t,n);break;default:return}t.aR=g,t.Z$(H)}(K=n,M),k.src=B,y.Rct(f&&f.textTracks),g.playbackRate=a,P=B;var _={type:"J_t",j_t:n,rh:M,Z_t:i};g.dispatchEvent(_),g.initialized=!0,g.dispatchEvent("initialized"),kt(),Ft("start"),k.configuration.useNativeVideoPlayback&&L.Qt&&o&&Qt()&&(g.play(),g.pause()),f&&g.dispatchEvent({type:"sourcechange",sourceDescription:f})}else st()},Pt=function(){var t=it;(it=g._ft)!==t&&g.dispatchEvent("$_t")},Lt=function(){d&&(d.ZH=tt&&nt)},Mt=function(){return k&&k.Cat?k.volume:U},Ut=function(){if(!Z)return"start"===x?0:x||0;if(!k||O.q_t)return O.ldt;if(c){var t=c.fat;return"start"===t?0:t}return k.dat()},Ft=function(t){if(!Z){var n=Ut();return x=t,void(n!==Ut()&&Ht())}if(x=null,"start"===t&&(t=g.live?1/0:0),t=w(t)||0,t=Jt(t),k){if(_.abs(O.ldt-t)<.001&&ER()-O.c1<50)return;Ht(),c?c.fat=t:k.Qat(t),k.seeking||zt(),O={ldt:t,c1:ER()}}},Ht=function(){X=!0,Wt(),rt=h(Vt,100)},zt=function(){X&&(X=!1,rt&&Vt(),g.dispatchEvent("seeked"))},Vt=function(){Wt(),g.dispatchEvent("seeking")},Wt=function(){rt&&(a(rt),rt=null)},Xt=function(){Z||(Z=!m(J)&&Zt().length>0&&(j||!g.live))&&g.dispatchEvent("Mdt")},qt=function t(){g.removeEventListener("Mdt",t),null!==x&&(Z?Ft(x):g.addEventListener("Mdt",t))},Gt=function(){return k&&k.Cat?k.muted:F},Qt=function(){return W},Yt=function(t){if(t&&t.code===fP.fY)return n=!W,xt(K.hR),void(n&&Et());var n;Qt()||Rt(),q=t,g.dispatchEvent({type:"error",error:q})},jt=function(){q=null},Zt=function(){return DB(c?c.xg:J>0?new xB([{RR:0,NR:J}]):OB)},Jt=function(t){var n=Zt();return n.length?Bt(t,n.start(0),n.end(n.length-1)):0},$t=function(){var t=k?k.Dl:am.n_;return Q&&(t=_.max(am.i_,t)),t},Kt=function(){var t=$t();t!==Y&&(Y=t,g.dispatchEvent(Em.zd))},tn=function(t){var n=Ct(t);Ot(n,!1)},nn=function(){if(p){var t=p.unload();p=null,S=!1,T=t||ot(E).TE,ht()}};g.initialized=!1,g.warning=null,g.play=Et,g.pause=Rt,g.load=function(){if(!g.initialized||!k){var t=new vP(fP.cY,{code:"MGB7330"});throw Yt(t),t}St(),Ft("start")},g.K_t=Ct,g.tgt=Ot,g.Sr=function(){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(g.kr=!0,g.Wr(),P&&xt(null),d&&(d.hv(),d=null),f&&(f.nl(),f=null),nn(),k&&(k.unload(),k=null),!R.TE){i.next=11;break}return i.next=10,Er.awrap(n.zE(R));case 10:R=null;case 11:if(!I.TE){i.next=15;break}return i.next=14,Er.awrap(n.zE(I));case 14:I=null;case 15:s.hv(),t=null;case 17:case"end":return i.stop()}},null,null,null,ze)},g.ig=tn,g.ag=function(){b=!0,ht()},g.cg=function(){b=!1,ht()},g.fg=function(){return k&&k.fg()},g.B_=function(){return Rr({},{Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?ZI(k.Vat):{Ag:0,Tg:0,Sg:0},{Eg:8*em.ql()})},l.defineProperty(g,"buffered",{get:function(){return DB(k?k.yg:OB)}}),l.defineProperty(g,"played",{get:function(){return k?DB(k.played):OB}}),l.defineProperty(g,"seekable",{get:Zt}),l.defineProperty(g,"live",{get:function(){return!(!o||!RP.D_(o.A$.mZ))}}),l.defineProperty(g,"volume",{get:Mt,set:function(t){(t=w(t))!==Mt()&&(k&&(k.volume=t),U=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"currentTime",{get:Ut,set:Ft}),l.defineProperty(g,"dimensions",{get:function(){return s}}),l.defineProperty(g,"currentProgramDateTime",{get:function(){return c?c.kg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!m(i.getTime())&&c&&(n=c._tt(t),m(n)||null===n||Ft(n))}}),l.defineProperty(g,"duration",{get:function(){return J}}),l.defineProperty(g,"muted",{get:Gt,set:function(t){t!==Gt()&&(F=t,k&&(k.muted=t),F=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"paused",{get:Qt,set:function(t){t?Rt():Et()}}),l.defineProperty(g,"preload",{get:function(){return H},set:function(t){H=OS((t||"none").toLowerCase())}}),l.defineProperty(g,"ended",{get:function(){return k&&k.ended||!1}}),l.defineProperty(g,"seeking",{get:function(){return X}}),l.defineProperty(g,"error",{get:function(){return q||k&&k.error}}),l.defineProperty(g,"element",{get:function(){return t}}),l.defineProperty(g,"Q_t",{get:function(){return M&&M.vr&&M.vr[360]?VS:E===R?N:D}}),l.defineProperty(g,"videoWidth",{get:function(){return k?k.p_:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(g,"videoHeight",{get:function(){return k?k.k_:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(g,"frameRate",{get:function(){return c&&c.qZ}}),l.defineProperty(g,"frameAccurateSeekEnabled",{get:function(){return!g.live&&k&&k.paused&&g.frameRate}}),l.defineProperty(g,"currentFrame",{get:function(){return c?c.qat(Ut()):NaN},set:function(t){g.frameAccurateSeekEnabled&&(t=w(t),Ft(c.Gat(t)))}}),l.defineProperty(g,"playbackRate",{get:function(){return c&&c.m_||k&&k.m_||1},set:function(t){(t=w(t))>0&&(c?c.m_=t:k&&(k.m_=t))}}),l.defineProperty(g,"videoTracks",{get:function(){return K&&K.Y_.Ed||null}}),l.defineProperty(g,"audioTracks",{get:function(){return K&&K.Q_.Ed||null}}),l.defineProperty(g,"j_",{get:function(){return f}}),l.defineProperty(g,"online",{get:function(){return G}}),l.defineProperty(g,"dft",{get:function(){return k&&k.dft}}),l.defineProperty(g,"lft",{get:function(){return k&&k.lft}}),l.defineProperty(g,"_ft",{get:function(){return k&&k._ft||"inline"},set:function(t){k&&(k._ft=t)}}),l.defineProperty(g,"ngt",{get:function(){return nt},set:function(t){nt=!!t,Lt()}}),l.defineProperty(g,"Dl",{get:$t}),function(){if(!t)throw new v("Invalid element.");var n;g.addEventListener(Xc.pa,function(){g.live&&Ft("start")}),g.addEventListener("playing",nn),f=new Zp,d=new DH(g,f),g.addEventListener("fullscreenchange",Lt),Lt(),i.allowManualQualitySwitch&&(u=new hB),n=function(t){if("string"==typeof t)try{return cP.Rn.KG(t,g)}catch(n){throw new v("Unknown rule: "+t)}return t},i.dot=function(t){var i,e=[];for(i=0;i<t.length;i+=1)e.push(n(t[i]));return e}(i.abrRules),g.addEventListener("durationchange",Xt),R=ut(),I=ut(),E=R,A=R.TE,T=I.TE,s=new Fz(E.pB),N=R.ME,D=I.ME,ht(),xt(null)}()};Wz.prototype=new aP,Wz.prototype.constructor=Wz;var Xz,qz=((Xz={useSwitchOverMSE:!1,ManifestParser:"igt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),Xz.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Ub&&Xz.abrRules.push("AvoidHighBitrateStreamsRule"),L.Zt&&Xz.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),Xz);var Gz=function(t){function n(n,i,e){var r;return(r=t.call(this,dw.Gd)||this).egt=n,r.rgt=i,r.sgt=e,r}return S(n,t),n.prototype.Rd=function(){return new Qz(this.egt&&this.egt.Ed)},n}(fw),Qz=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return S(n,t),n}(ru),Yz=function(t){function n(n,i){var e;return(e=t.call(this,dw.Yd)||this).kl=void 0,e.Id=void 0,e.kl=n||[],e.Id=i,e}return S(n,t),n.prototype.Rd=function(){return new jz(this.kl.map(function(t){return t.Ed}))},n}(fw),jz=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return S(n,t),n}(ru),Zz=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return S(n,t),n}(ru);function Jz(t){return{get bandwidth(){return t.xS},get codecs(){return t.VZ},get id(){return t._l},get uid(){return t.gl},get name(){return t.ml},get averageBandwidth(){return t.XZ},get label(){return t.ml},set label(n){t.ml=Pw(n)},get height(){return t.hp},get width(){return t.Rw},get frameRate(){return t.d$},get firstFrame(){return t.ugt},get available(){return t.OQ},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function $z(t){return{get bandwidth(){return t.xS},get codecs(){return t.VZ},get id(){return t._l},get uid(){return t.gl},get name(){return t.ml},get averageBandwidth(){return t.XZ},get label(){return t.ml},set label(n){if(!q(n))throw new v("Unexpected - The provided label is not a string");t.ml=n},get audioSamplingRate(){return t.ogt},get available(){return t.OQ},addEventListener:function(n,i){t.Hr(n,i)},removeEventListener:function(n,i){t.Xr(n,i)}}}function Kz(t){return{xS:t.xS,ae:t.VZ,hp:tV(t)?t.hp:0,nr:tV(t)?my.$f:my.Jf,Rw:tV(t)?t.Rw:0}}function tV(t){var n=t;return void 0!==n.hp&&void 0!==n.Rw}var nV=function(t){function n(n,i){var e;(e=t.call(this)||this).hgt=void 0,e.agt=void 0,e.Hg=void 0,e.Bg=void 0,e.Sd=void 0,e.cgt=void 0,e._$=void 0,e.fgt=function(){return e.vgt()},e.dgt=function(){return e.lgt()},e._gt=function(){return e.Fr(new py(Yt(e)))},e.Hg=Ty(),e.hgt=n,e.agt=i,e.Bg=new ky;for(var r=e.hgt.qualities,s=0;s<r.length;s++){var u=r.item(s),o=e.ggt(u);o.Hr("update",e._gt),e.Bg.Lg(o)}return e.hgt.qualities.addEventListener("activequalitychanged",e.fgt),e.hgt.qualities.addEventListener("targetqualitychanged",e.dgt),e.vgt(),e.lgt(),e}S(n,t);var e=n.prototype;return e.wgt=function(t){t!==this.cgt&&(this.cgt=t,t&&this.Fr(new Gz(t)))},e.mgt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Os(n,t[i]))return!1;return!0}(t,n)},e.ygt=function(t){for(var n=0,i=this.Bg.il;n<i.length;n++){var e=i[n];if(e.kgt===t)return e}},e.pgt=function(t){for(var n=[],i=0,e=this.Bg.il;i<e.length;i++){var r=e[i];Os(t,r.kgt)&&n.push(r)}return n},e.vgt=function(){var t=this.ll?this.hgt.qualities.activeQuality:void 0,n=t&&this.ygt(t)||void 0;this.wgt(n)},e.lgt=function(){var t=this.hgt.qualities.targetQuality;t?z(t)?this.pl=this.pgt(t)||void 0:this.pl=this.pgt([t])||void 0:this.pl=void 0},e.Wg=function(t){this.ll=t},e.hv=function(){this.hgt.qualities.removeEventListener("activequalitychanged",this.fgt),this.hgt.qualities.removeEventListener("targetqualitychanged",this.dgt);for(var t=0,n=this.Bg.il;t<n.length;t++){var i=n[t];i.Xr("update",this._gt),i.hv()}},A(n,[{key:"dl",get:function(){return this.cgt}},{key:"ll",get:function(){return this.hgt.enabled},set:function(t){t?this.agt.enable(this.hgt):this.agt.disable(this.hgt)}},{key:"Ed",get:function(){return this.Sd||(this.Sd=Hw(this)),this.Sd}},{key:"_l",get:function(){return this.hgt.id+""}},{key:"gl",get:function(){return this.Hg}},{key:"wl",get:function(){return this.hgt.kind}},{key:"ml",get:function(){var t;return null!=(t=this.hgt.name)?t:""},set:function(t){t!==this.ml&&(this.hgt.name=t,this.Fr(new py(this)))}},{key:"yl",get:function(){return this.hgt.language}},{key:"Rl",get:function(){return this.ll?"enabled":"disabled"}},{key:"kl",get:function(){return this.Bg}},{key:"pl",get:function(){return this._$},set:function(t){var n=this._$,e=void 0!==this.dl?Kz(this.dl):void 0,r=t?t.filter(function(t){return i.Pe.Qi(e,Kz(t))}):void 0;r&&0===r.length||this.mgt(r,n)||(this._$=r,this.hgt.qualities.targetQuality=r?r.map(function(t){return t.kgt}):null,this.Fr(new Yz(r,this)))}}]),n}(iu),iV=function(t){function n(n){var i,e,r;return(r=t.call(this)||this).kgt=void 0,r.Sd=void 0,r.$I=function(){return r.Zo()},r._l=void 0,r.gl=void 0,r.xS=void 0,r.XZ=void 0,r.VZ=void 0,r.oj=void 0,r.kgt=n,r.kgt.addEventListener("qualityupdated",r.$I),r._l=String(n.id),r.gl=null!=(i=n.uid)?i:Ry(),r.xS=null!=(e=n.bandwidth)?e:NaN,r.XZ=n.averageBandwidth,r.VZ=n.codecs,r.oj=n.uri,r}S(n,t);var i=n.prototype;return i.Zo=function(){this.bgt()&&this.Fr(new Zz(this.Ed))},i.bgt=function(){var t,n,i=this.kgt,e=null!=(t=i.uid)?t:this.gl,r=null!=(n=i.bandwidth)?n:NaN,s=i.codecs,u=i.uri,o=this.gl!==e||!Ft(this.xS,r)||this.VZ!==s||this.oj!==u;return this.gl=e,this.xS=r,this.VZ=s,this.oj=u,o},i.hv=function(){this.kgt.removeEventListener("qualityupdated",this.$I)},i.lA=function(){},A(n,[{key:"ml",get:function(){return this.kgt.name||""},set:function(t){this.ml!==t&&(this.kgt.name=t,this.Fr(new Zz(this.Ed)))}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"OQ",get:function(){return!0}}]),n}(iu),eV=function(t){function n(n){var i;return(i=t.call(this,n)||this).ogt=void 0,i.Sd=void 0,i.ogt=NaN,i}return S(n,t),n.prototype.Rd=function(){return $z(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),n}(iV),rV=function(t){function n(n,i){var e;return void 0===i&&(i=0),(e=t.call(this,n)||this).d$=void 0,e.Rw=void 0,e.hp=void 0,e.Agt=void 0,e.Sd=void 0,e.d$=n.frameRate,e.Rw=n.resolution?n.resolution.width:NaN,e.hp=n.resolution?n.resolution.height:NaN,e.Agt=i,e}S(n,t);var i=n.prototype;return i.bgt=function(){var n=t.prototype.bgt.call(this),i=this.kgt,e=i.frameRate,r=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Ft(this.d$,e)||!Ft(this.Rw,r)||!Ft(this.hp,s),this.d$=e,this.Rw=r,this.hp=s,n},i.Rd=function(){return Jz(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}},{key:"ugt",get:function(){return this.Agt},set:function(t){this.Agt!==t&&(this.Agt=t,this.Fr(new Zz(this.Ed)))}}]),n}(iV),sV=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.ggt=function(t){return new eV(t)},n}(nV),uV=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Tgt=void 0,n}S(n,t);var i=n.prototype;return i.ggt=function(t){return new rV(t,this.Tgt)},i.Sgt=function(t){this.Tgt=t;for(var n=0,i=this.kl.il;n<i.length;n++){var e=i[n];void 0!==e.ugt&&(e.ugt=t)}},n}(nV),oV=function(t){function n(){return t.call(this,Xc.pa)||this}return S(n,t),n}(ru),hV=function(t){function n(){return t.call(this,Xc.ka)||this}return S(n,t),n}(ru),aV=function(){function t(t,n){this.W_=void 0,this.CV=void 0,this.W_=new Zp,this.CV=new ex(t,n)}var n=t.prototype;return n.pA=function(t,n,i,e,r,s,u){var o=new eC(t,n,i,e,r,s,u);return this.W_.$d(o),this.CV.$d(o),o},n.TA=function(t){this.W_.Kd(t),this.CV.Kd(t),t.hv()},n.nl=function(){for(var t=0,n=this.W_.il.slice();t<n.length;t++){n[t].hv()}this.W_.nl(),this.CV.nl()},n.hv=function(){this.nl(),this.W_.hv(),this.CV.hv()},A(t,[{key:"j_",get:function(){return this.W_}}]),t}();function cV(t,n){for(var i=0;i<t.sl;i++){var e=t.Jd(i);if(e.hgt===n)return e}}var fV=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this)||this).AI=void 0,o.aG=void 0,o.Egt=void 0,o.Rgt=void 0,o.Igt=void 0,o.z_=void 0,o.V_=void 0,o.IV=void 0,o.NV=void 0,o.W_=void 0,o.wA=void 0,o.SG=void 0,o.EG=void 0,o.Ngt=void 0,o.KS=void 0,o.tE=void 0,o.Dgt=NaN,o.Cgt=0,o.uE=new gS,o.oE=new bS,o.xgt=function(){o.Fr(new Nm(o.v_))},o.Ogt=function(){o.Fr(new Im(o.v_))},o.Pgt=function(){o.Fr(new Fm(o.v_))},o.Bgt=function(){o.Fr(new Hm(o.v_))},o.Lgt=function(){o.Fr(new Bm(o.v_,o.m_))},o.Mgt=function(){o.Fr(new zm(o.v_,o.b_))},o.Ugt=function(){o.Fr(new ZN(o.v_))},o.Fgt=function(){o.Fr(new Mm(o.v_))},o.Hgt=function(){o.Fr(new JN)},o.zgt=function(){o.Fr(new oV)},o.Vgt=function(){o.Fr(new hV)},o.Wgt=function(){o.Xgt(),o.Igt.nl(),o.qgt(),o.HE()},o.xB=function(){o.qgt(),o.HE(),o.RE()},o.Xgt=function(){var t=o.Dgt,n=o.d_;o.Dgt=n,t===n||m(t)&&m(n)||o.Fr(new Pm(n))},o.Ggt=function(t){var n=t.error||o.Egt.error;if(n){var i,e=cy.DECODE;n.code===fP.rY&&os(n.info.code,"VEE")&&(e=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.KS=new ly(e,n.message,i),o.Fr(new qm(function(t){return new Tc(wy(t.code),t.message,t)}(o.KS)))}},o.cE=function(){o.Fr(new Lm(o.v_,o.kg))},o.Qgt=function(){o.p_>0&&o.k_>0&&o.Fr(new Ab)},o.Ygt=function(){o.Fr(new nm)},o.jgt=function(t){o.V_.il.forEach(function(n){return n.Sgt(t.ptsOffset)})},o.Zgt=function(t){o.Cgt+=t.Rg,o.Fr(t)},o.Jgt=function(t){return o.$gt(t.track)},o.Kgt=function(t){return o.twt(t.track)},o.nwt=function(t){var n=cV(o.z_,t.track);n&&n.Fr(new pw(n))},o.iwt=function(t){var n=cV(o.V_,t.track);n&&n.Fr(new pw(n))},o.aG=n,o.AI=i,r=function(t){var n,i={};return i=zH(t,i),(i=zH(qz,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!L.Vt&&i.allowManualQualitySwitch,i.libraryLocation=S_(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return M.call(n,t)?n[t]:t}),i}(r),o.Egt=new Wz(o.aG,o.AI,r,e,s),o.ewt(),o.Rgt=new vV(o.Egt),o.Igt=new Yb(o.Rgt,!0),o.Igt.Hr(xm,o.Ur),o.z_=new yy,o.V_=new yy,o.wA=new aV(Yt(o),new rx),o.IV=new _x(Yt(o)),o.IV.fl=o.Egt.j_,o.NV=new gx(o.wA,o.IV),o.W_=new yS([o.Egt.j_,o.NV.qk]),o.SG=new Xx,o.SG.uX(n),o.EG=new HO(o.SG.pg,o.Egt.dimensions,o.j_,u,o.Egt.Q_t),o.RE(),o}S(n,t);var i=n.prototype;return i.cg=function(){this.Egt.cg(),this.SG.cg()},i.ag=function(){this.Egt.ag(),this.SG.ag()},i.ig=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:this.Ngt=t,this.Egt.ig({sources:{src:t.src,type:um.Yl,contentProtection:t.contentProtection},textTracks:n.textTracks,configuration:Rr({},n,{crossOrigin:t.crossOrigin,withCredentials:t.useCredentials,liveOffset:t.liveOffset,hlsDateRange:t.hlsDateRange,hls:t.hls})});case 2:case"end":return i.stop()}},null,this,null,ze)},i.J_=function(){this.Egt.play()},i.K_=function(){this.Egt.pause()},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ngt=void 0,this.KS=void 0,this.tE=void 0,this.Cgt=0,this.Egt.ig({sources:null}),this.Igt.nl(),this.wA.nl(),this.qgt();case 8:case"end":return t.stop()}},null,this,null,ze)},i.eg=function(){return!1},i.rg=function(){},i.sg=function(){},i.fg=function(){return this.Egt.fg()||void 0},i.vg=function(){return this.Egt.Q_t},i.mg=function(){},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.Igt.hv(),this.Rgt.hv(),this.rwt(),t.next=8,Er.awrap(this.Egt.Sr());case 8:return this.z_.hv(),this.V_.hv(),this.IV.hv(),t.next=13,Er.awrap(this.NV.hv());case 13:this.wA.hv(),this.W_.hv(),this.EG.hv(),this.SG.hv();case 17:case"end":return t.stop()}},null,this,null,ze)},i.ewt=function(){this.Egt.addEventListener("Y_t",this.Wgt),this.Egt.addEventListener("J_t",this.xB),this.Egt.addEventListener("durationchange",this.Xgt),this.Egt.addEventListener("error",this.Ggt),this.Egt.addEventListener("timeupdate",this.cE),this.Egt.addEventListener("resize",this.Qgt),this.Egt.addEventListener(Xc._a,this.Ygt),this.Egt.addEventListener("Vht",this.jgt),this.Egt.addEventListener(Xc.Oa,this.Zgt),this.Egt.addEventListener("play",this.xgt),this.Egt.addEventListener("pause",this.Ogt),this.Egt.addEventListener("seeking",this.Pgt),this.Egt.addEventListener("seeked",this.Bgt),this.Egt.addEventListener("ratechange",this.Lgt),this.Egt.addEventListener("volumechange",this.Mgt),this.Egt.addEventListener("progress",this.Ugt),this.Egt.addEventListener("ended",this.Fgt),this.Egt.addEventListener("loadstart",this.Hgt),this.Egt.addEventListener(Xc.pa,this.zgt),this.Egt.addEventListener(Xc.ka,this.Vgt),this.Egt.addEventListener(Xc.Ca,this.Ur)},i.rwt=function(){this.Egt.removeEventListener("Y_t",this.Wgt),this.Egt.removeEventListener("J_t",this.xB),this.Egt.removeEventListener("durationchange",this.Xgt),this.Egt.removeEventListener("error",this.Ggt),this.Egt.removeEventListener("timeupdate",this.cE),this.Egt.removeEventListener("resize",this.Qgt),this.Egt.removeEventListener(Xc._a,this.Ygt),this.Egt.removeEventListener("play",this.xgt),this.Egt.removeEventListener("pause",this.Ogt),this.Egt.removeEventListener("seeking",this.Pgt),this.Egt.removeEventListener("seeked",this.Bgt),this.Egt.removeEventListener("ratechange",this.Lgt),this.Egt.removeEventListener("volumechange",this.Mgt),this.Egt.removeEventListener("progress",this.Ugt),this.Egt.removeEventListener("ended",this.Fgt),this.Egt.removeEventListener("loadstart",this.Hgt),this.Egt.removeEventListener(Xc.pa,this.zgt),this.Egt.removeEventListener(Xc.ka,this.Vgt),this.Egt.removeEventListener(Xc.Ca,this.Ur),this.Egt.removeEventListener(Xc.Oa,this.Zgt)},i.RE=function(){var t=this.Egt.audioTracks,n=this.Egt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.$gt(t.item(i));t.addEventListener("addtrack",this.Jgt),t.addEventListener("enabledtrack",this.nwt),t.addEventListener("disabledtrack",this.nwt)}if(n){for(var e=0;e<n.length;e++)this.twt(n.item(e));n.addEventListener("addtrack",this.Kgt),n.addEventListener("enabledtrack",this.iwt),n.addEventListener("disabledtrack",this.iwt)}},i.HE=function(){var t=this.Egt.audioTracks,n=this.Egt.videoTracks;t&&(t.removeEventListener("addtrack",this.Jgt),t.removeEventListener("enabledtrack",this.nwt),t.removeEventListener("disabledtrack",this.nwt)),n&&(n.removeEventListener("addtrack",this.Kgt),n.removeEventListener("enabledtrack",this.iwt),n.removeEventListener("disabledtrack",this.iwt))},i.qgt=function(){for(var t=0,n=this.z_.il;t<n.length;t++){n[t].hv()}for(var i=0,e=this.V_.il;i<e.length;i++){e[i].hv()}this.z_.nl(),this.V_.nl()},i.$gt=function(t){cV(this.z_,t)||this.z_.$d(new sV(t,this.Egt.audioTracks))},i.twt=function(t){cV(this.V_,t)||this.V_.$d(new uV(t,this.Egt.videoTracks))},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.Egt.buffered}},{key:"kg",get:function(){var t;return null!=(t=this.Egt.currentProgramDateTime)?t:void 0},set:function(t){this.Egt.currentProgramDateTime=null!=t?t:null}},{key:"v_",get:function(){var t=this.Egt.currentTime;return t===1/0&&m(this.Egt.duration)&&(t=0),t},set:function(t){this.Egt.currentTime=t}},{key:"d_",get:function(){var t=this.Egt.duration;return t<0?1/0:t}},{key:"l_",get:function(){return this.Egt.ended}},{key:"ts",get:function(){return this.KS}},{key:"__",get:function(){return this.tE}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return!1}},{key:"B_",get:function(){return Rr({},this.Egt.B_(),{Rg:this.Cgt})}},{key:"g_",get:function(){return this.Egt.muted},set:function(t){this.Egt.muted=t}},{key:"Ng",get:function(){return this.Egt.online}},{key:"w_",get:function(){return this.Egt.paused}},{key:"m_",get:function(){return this.Egt.playbackRate},set:function(t){this.Egt.playbackRate=t}},{key:"Dg",get:function(){return this.Egt.played}},{key:"Cg",get:function(){return this.Egt.preload||CS.dR},set:function(t){this.Egt.preload=t}},{key:"Dl",get:function(){return this.Egt.Dl}},{key:"xg",get:function(){return this.Egt.seekable}},{key:"y_",get:function(){return this.Egt.seeking}},{key:"QE",get:function(){}},{key:"j_",get:function(){return this.W_}},{key:"Y_",get:function(){return this.V_}},{key:"k_",get:function(){return this.Egt.videoHeight}},{key:"p_",get:function(){return this.Egt.videoWidth}},{key:"b_",get:function(){return this.Egt.volume},set:function(t){this.Egt.volume=t}},{key:"Og",get:function(){return this.oE}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"YE",get:function(){return this.uE}}]),n}(Kw),vV=function(t){function n(n){var i;return(i=t.call(this)||this).Egt=void 0,i.swt=function(){i.Fr(new Xm(i.v_,i.Dl))},i.uwt=function(){i.Fr(new Qb(i.v_))},i.xgt=function(){i.Fr(new Nm(i.v_))},i.Ogt=function(){i.Fr(new Im(i.v_))},i.Egt=n,i.Egt.addEventListener(Em.zd,i.swt),i.Egt.addEventListener(Em.f_,i.uwt),i.Egt.addEventListener(Xc.Aa,i.xgt),i.Egt.addEventListener(Xc.ba,i.Ogt),i}return S(n,t),n.prototype.hv=function(){this.Wr(),this.Egt.removeEventListener(Em.zd,this.swt),this.Egt.removeEventListener(Em.f_,this.uwt),this.Egt.removeEventListener(Xc.Aa,this.xgt),this.Egt.removeEventListener(Xc.ba,this.Ogt)},A(n,[{key:"v_",get:function(){var t=this.Egt.currentTime;return t===1/0&&m(this.Egt.duration)&&(t=0),t}},{key:"l_",get:function(){return this.Egt.ended}},{key:"ts",get:function(){return this.Egt.error||void 0}},{key:"w_",get:function(){return this.Egt.paused}},{key:"Dl",get:function(){return this.Egt.Dl}}]),n}(iu);function dV(t,n,i,e,r){var s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:void 0===i&&(i=3),void 0===e&&(e=1e3),void 0===r&&(r=1/0),s=0;case 4:return o.prev=5,o.next=8,Er.awrap(t(n));case 8:return o.abrupt("return",o.sent);case 11:if(o.prev=11,o.t0=o.catch(5),Ws(o.t0),!(s<i)){o.next=20;break}return u=_.min(e*_.pow(2,s),r),s++,o.next=19,Er.awrap($s(u,n));case 19:return o.abrupt("continue",4);case 20:throw o.t0;case 21:o.next=4;break;case 23:case"end":return o.stop()}},null,null,[[5,11]],ze)}NS(new(function(){function t(){this.jE=fS.Yl}var n=t.prototype;return n.TT=function(t,n,i,e,r,s){return new fV(t,n,i,e,r,s)},n.ZE=function(n,i){if((L.Qt||L.An)&&!i.manifestMetadataTrack)return!1;if(!lm(n.type))return!1;if(n.useNativePlayback)return!1;var e=n.contentProtection;return!(e&&!CA(e)&&!t.owt(e))&&!!function(t){return Vz(t,{})!==Bz.dY}(n)},t.owt=function(t){return!!t.aes128},n.JE=function(){return!0},t}()));var lV,_V=function(t){function n(){return t.call(this,"hwt")||this}return S(n,t),n}(ru),gV=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).awt=void 0,r.cwt=void 0,r.fwt=void 0,r.Ngt=void 0,r.vwt=void 0,r.mA=void 0,r.Xz=void 0,r.dwt=void 0,r.lwt=function(){r.Fr(new _V)},r.Ngt=n,r.vwt=Rr({},i,{crossOrigin:r.Ngt.crossOrigin,withCredentials:r.Ngt.useCredentials,liveOffset:r.Ngt.liveOffset,hlsDateRange:r.Ngt.hlsDateRange}),r.mA=e,r.cwt=[],r.Xz=!1,r}S(n,t);var i=n.prototype;return i._wt=function(){if(this.fwt)return this.fwt.P_},i.RR=function(t){var n=this;Zs(dV(function(){return n.Z$()},t))},i.Z$=function(){var t,n,i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Er.awrap(this.gwt());case 2:if((t=u.sent).isMasterPlaylist)for(this.awt=t,n=0,i=t.streams;n<i.length;n++)e=i[n],r=new IU(this.mA,this.vwt),this.cwt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:r});else s=new IU(this.mA,this.vwt),this.cwt.push({stream:{uri:t.uri},updater:s});this.dwt&&(this.wwt(this.dwt.width,this.dwt.height),this.dwt=void 0),this.Xz=!0;case 6:case"end":return u.stop()}},null,this,null,ze)},i.mwt=function(t,n){this.Xz?this.wwt(t,n):this.dwt={width:t,height:n}},i.wwt=function(t,n){this.ywt();var i=this.kwt(t,n);i&&(this.fwt=i.updater,this.fwt.addEventListener("b9",this.lwt),i.updater.RR(i.stream.uri))},i.ywt=function(){this.fwt&&(this.fwt.tg(),this.fwt.removeEventListener("b9",this.lwt),this.fwt=void 0)},i.kwt=function(t,n){return 1===this.cwt.length?this.cwt[0]:Ns(this.cwt,function(i){return i.stream.width===t&&i.stream.height===n})},i.gwt=function(){var t,n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t=new RU(this.vwt,pB.Rn.wK,this.mA),i.next=3,Er.awrap(t.Yo(this.Ngt.src,{}));case 3:return n=i.sent,i.abrupt("return",n.P_);case 5:case"end":return i.stop()}},null,this,null,ze)},i.hv=function(){this.ywt();for(var t=0,n=this.cwt;t<n.length;t++){n[t].updater.hv()}Ps(this.cwt)},n}(iu),wV=function(t){function n(n,i,e){var r;return(r=t.call(this,n)||this).pwt=void 0,r.bwt=void 0,r.CP=void 0,r.Awt=!1,r.cJ=void 0,r.CV=void 0,r.handleManifestUpdate=function(){var t=r.pwt._wt();if(t){var n=r.QE;if(n){var i=n.getTime(),e=r.cJ;e||(e=new IP,r.cJ=e),e.Zo(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!r.Awt&&e.Cl.sl>0&&(r.j_.$d(e),r.CV.$d(e),r.Awt=!0)}}},r.Qgt=function(){r.pwt&&r.pwt.mwt(r.p_,r.k_)},r.bwt=i,r.CP=e,r.CV=new ux(Yt(r)),r.Hr(Xc.Ra,r.Qgt),r}S(n,t);var i=n.prototype;return i.ig=function(n,i,e){return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(t.prototype.ig.call(this,n,i,e));case 2:n.hlsDateRange&&this.Twt(n,i,e);case 3:case"end":return r.stop()}},null,this,null,ze)},i.Twt=function(t,n,i){this.pwt&&(this.pwt.Xr("hwt",this.handleManifestUpdate),this.pwt.hv()),this.pwt=new gV(t,n,this.bwt),this.pwt.Hr("hwt",this.handleManifestUpdate),this.pwt.RR(i)},i.nl=function(){return this.cJ&&(this.j_.Kd(this.cJ),this.CV.Kd(this.cJ),this.cJ.hv(),this.cJ=void 0,this.Awt=!1),this.CV.nl(),t.prototype.nl.call(this)},i.hv=function(){return this.Xr(Xc.Ra,this.Qgt),this.pwt&&(this.pwt.Xr("hwt",this.handleManifestUpdate),this.pwt.hv()),this.CV.hv(),t.prototype.hv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).Swt=void 0,i.Swt=n;for(var e=0;e<PS.length;e++){var r=PS[e];i.Swt.Hr(r,i.Ur)}return i}S(n,t);var i=n.prototype;return i.eg=function(){return this.Swt.eg()},i.vg=function(){return this.Swt.vg()},i.fg=function(){return this.Swt.fg()},i.cg=function(){return this.Swt.cg()},i.mg=function(){return this.Swt.mg()},i.K_=function(){return this.Swt.K_()},i.J_=function(){return this.Swt.J_()},i.nl=function(){return this.Swt.nl()},i.ig=function(t,n,i){return this.Swt.ig(t,n,i)},i.ag=function(){return this.Swt.ag()},i.rg=function(){return this.Swt.rg()},i.sg=function(){return this.Swt.sg()},i.hv=function(){this.Wr();for(var t=0;t<PS.length;t++){var n=PS[t];this.Swt.Xr(n,this.Ur)}return this.Swt.hv()},A(n,[{key:"Q_",get:function(){return this.Swt.Q_}},{key:"yg",get:function(){return this.Swt.yg}},{key:"kg",get:function(){return this.Swt.kg},set:function(t){this.Swt.kg=t}},{key:"v_",get:function(){return this.Swt.v_},set:function(t){this.Swt.v_=t}},{key:"d_",get:function(){return this.Swt.d_}},{key:"l_",get:function(){return this.Swt.l_}},{key:"__",get:function(){return this.Swt.__}},{key:"Z_",get:function(){return this.Swt.Z_}},{key:"ts",get:function(){return this.Swt.ts}},{key:"bg",get:function(){return this.Swt.bg}},{key:"B_",get:function(){return this.Swt.B_}},{key:"g_",get:function(){return this.Swt.g_},set:function(t){this.Swt.g_=t}},{key:"Ng",get:function(){return this.Swt.Ng}},{key:"w_",get:function(){return this.Swt.w_}},{key:"m_",get:function(){return this.Swt.m_},set:function(t){this.Swt.m_=t}},{key:"Dg",get:function(){return this.Swt.Dg}},{key:"Cg",get:function(){return this.Swt.Cg},set:function(t){this.Swt.Cg=t}},{key:"Dl",get:function(){return this.Swt.Dl}},{key:"xg",get:function(){return this.Swt.xg}},{key:"y_",get:function(){return this.Swt.y_}},{key:"QE",get:function(){return this.Swt.QE}},{key:"j_",get:function(){return this.Swt.j_}},{key:"k_",get:function(){return this.Swt.k_}},{key:"Y_",get:function(){return this.Swt.Y_}},{key:"p_",get:function(){return this.Swt.p_}},{key:"b_",get:function(){return this.Swt.b_},set:function(t){this.Swt.b_=t}},{key:"Og",get:function(){return this.Swt.Og}},{key:"Pg",get:function(){return this.Swt.Pg},set:function(t){this.Swt.Pg=t}},{key:"YE",get:function(){return this.Swt.YE}}]),n}(Kw));lV=function(t,n,i){return new wV(t,n,i)},RS.tR().nR(lV);var mV=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},yV=function(){function t(){this.internalDict={}}var n=t.prototype;return n.register=function(t){this.internalDict[t.uid]=t},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),kV={exports:{}};!function(t,n){function i(t,n){var i=[],e=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+e.slice(0,i.indexOf(n)).join(".")+"]"}),function(r,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?e.splice(u,1/0,r):e.push(r),~i.indexOf(s)&&(s=n.call(this,r,s))}else i.push(s);return null==t?s:t.call(this,r,s)}}(t.exports=function(t,n,e,r){return JSON.stringify(t,i(n,r),e)}).getSerialize=i}(kV,kV.exports);var pV=kV.exports;function bV(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function AV(t){return JSON.stringify(t,kV.exports.getSerialize(bV))}var TV={},SV={};!function(t){l.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=r&&t<=55295||t===i||t===e||t===n||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(SV);var EV={};!function(t){l.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");var n=9,i=10,e=13,r=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}t.S_LIST=[r,i,e,n],t.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},t.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},t.isS=function(t){return t===r||t===i||t===e||t===n},t.isNameStartChar=s,t.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(EV);var RV={};!function(t){function n(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=n,t.isNCNameChar=function(t){return n(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}(RV),l.defineProperty(TV,"__esModule",{value:!0});var IV=SV.isS,NV=SV.isChar,DV=SV.isNameStartChar,CV=SV.isNameChar,xV=SV.S_LIST,OV=SV.NAME_RE,PV=EV.isChar,BV=RV.isNCNameStartChar,LV=RV.isNCNameChar,MV=RV.NC_NAME_RE;const UV="http://www.w3.org/XML/1998/namespace",FV="http://www.w3.org/2000/xmlns/",HV={__proto__:null,xml:UV,xmlns:FV},zV={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},VV=-1,WV=-2,XV=0,qV=1,GV=2,QV=3,YV=4,jV=5,ZV=6,JV=7,$V=8,KV=9,tW=10,nW=11,iW=12,eW=13,rW=14,sW=15,uW=16,oW=17,hW=18,aW=19,cW=20,fW=21,vW=22,dW=23,lW=24,_W=25,gW=26,wW=27,mW=28,yW=29,kW=30,pW=31,bW=32,AW=33,TW=34,SW=35,EW=36,RW=37,IW=38,NW=39,DW=40,CW=41,xW=42,OW=43,PW=44,BW=9,LW=10,MW=13,UW=32,FW=33,HW=38,zW=45,VW=47,WW=59,XW=60,qW=61,GW=62,QW=63,YW=91,jW=93,ZW=133,JW=8232,$W=t=>34===t||39===t,KW=[34,39],tX=[...KW,YW,GW],nX=[...KW,XW,jW],iX=[qW,QW,...xV],eX=[...xV,GW,HW,XW];function rX(t,n,i){switch(n){case"xml":i!==UV&&t.fail(`xml prefix must be bound to ${UV}.`);break;case"xmlns":i!==FV&&t.fail(`xmlns prefix must be bound to ${FV}.`)}switch(i){case FV:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${FV}.`);break;case UV:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const sX=t=>MV.test(t),uX=t=>OV.test(t),oX=0,hX=1,aX=2;TV.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const cX={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};var fX=TV.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=BV,this.nameCheck=LV,this.isName=sX,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},HV);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))rX(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=DV,this.nameCheck=CV,this.isName=uX,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.Hs}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=oX,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?eW:XV,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.Hs=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(zV),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[cX[t]]=n}off(t){this[cX[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const e=t.charCodeAt(i-1);!n&&(e===MW||e>=55296&&e<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:r}=this;for(this.chunk=t,this.i=0;this.i<i;)r[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return VV;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=UW||i===BW)return i;switch(i){case LW:return this.line++,this.column=0,this.positionAtNewLine=this.position,LW;case MW:return t.charCodeAt(n+1)===LW&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,WV;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return VV;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==JW||i===BW)return i;switch(i){case LW:return this.line++,this.column=0,this.positionAtNewLine=this.position,LW;case MW:{const i=t.charCodeAt(n+1);i!==LW&&i!==ZW||(this.i=n+2)}case ZW:case JW:return this.line++,this.column=0,this.positionAtNewLine=this.position,WV;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const e=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,e>1114111&&this.fail("disallowed character."),e}getCodeNorm(){const t=this.getCode();return t===WV?LW:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const e=this.getCode(),r=e===WV,s=r?LW:e;if(s===VV||t.includes(s))return this.text+=i.slice(n,this.prevI),s;r&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let e=this.getCode();switch(e){case WV:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,e=LW;break;case VV:return this.text+=i.slice(n),!1}if(e===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===VV)return this.name+=t.slice(n),VV;if(!CV(i))return this.name+=t.slice(n,this.prevI),i===WV?LW:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===VV||!IV(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=NV,this.getCode=this.getCode10):(this.isChar=PV,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=qV}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case XW:if(this.state=sW,0!==this.text.length)throw new v("no-empty text at start");break;case VV:break;default:this.unget(),this.state=eW,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(tX);switch(n){case GW:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=eW,this.doctype=!0;break;case VV:break;default:this.text+=String.fromCodePoint(n),n===YW?this.state=YV:$W(n)&&(this.state=QV,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=GV)}sDTD(){const t=this.captureTo(nX);t!==VV&&(this.text+=String.fromCodePoint(t),t===jW?this.state=GV:t===XW?this.state=ZV:$W(t)&&(this.state=jV,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=YV,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case FW:this.state=JV,this.openWakaBang="";break;case QW:this.state=nW;break;default:this.state=YV}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?$V:YV,this.openWakaBang="")}sDTDComment(){this.captureToChar(zW)&&(this.text+="-",this.state=KV)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===zW?tW:$V}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===GW?this.state=YV:(this.fail("malformed comment."),this.state=$V)}sDTDPI(){this.captureToChar(QW)&&(this.text+="?",this.state=iW)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===GW&&(this.state=YV)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case WV:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case WW:{const{entityReturnState:i}=this,e=this.entity+n.slice(t,this.prevI);let r;this.state=i,""===e?(this.fail("empty entity name."),r="&;"):(r=this.parseEntity(e),this.entity=""),i===eW&&void 0===this.textHandler||(this.text+=r);break t}case VV:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(DV(t))this.state=TW,this.unget(),this.xmlDeclPossible=!1;else switch(t){case VW:this.state=OW,this.xmlDeclPossible=!1;break;case FW:this.state=uW,this.openWakaBang="",this.xmlDeclPossible=!1;break;case QW:this.state=dW;break;default:this.fail("disallowed character in tag name"),this.state=eW,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=cW,this.openWakaBang="";break;case"--":this.state=oW,this.openWakaBang="";break;case"DOCTYPE":this.state=GV,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(zW)&&(this.state=hW)}sCommentEnding(){var t;const n=this.getCodeNorm();n===zW?(this.state=aW,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=oW)}sCommentEnded(){const t=this.getCodeNorm();t!==GW?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=oW):this.state=eW}sCData(){this.captureToChar(jW)&&(this.state=fW)}sCDataEnding(){const t=this.getCodeNorm();t===jW?this.state=vW:(this.text+=`]${String.fromCodePoint(t)}`,this.state=cW)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case GW:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=eW;break;case jW:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=cW}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=lW):t===QW||IV(t)?(this.fail("processing instruction without a target."),this.state=t===QW?gW:_W):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=lW)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const i=this.getCodeNorm();if(i===VV)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(i)){this.piTarget+=t.slice(n,this.prevI);const e=i===QW;e||IV(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?AW:wW):this.state=e?gW:_W:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===QW?this.state=gW:IV(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(QW)&&(this.state=gW)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===GW){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=eW}else n===QW?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=_W);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==QW?t!==VV&&(this.state=mW,this.name=String.fromCodePoint(t)):this.state=AW}sXMLDeclName(){const t=this.captureTo(iX);if(t===QW)return this.state=AW,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(IV(t)||t===qW){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===qW?kW:yW}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===QW)return this.state=AW,void this.fail("XML declaration is incomplete.");IV(t)||(t!==qW&&this.fail("value required."),this.state=kW)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===QW)return this.state=AW,void this.fail("XML declaration is incomplete.");IV(t)||($W(t)?this.q=t:(this.fail("value must be quoted."),this.q=UW),this.state=pW)}sXMLDeclValue(){const t=this.captureTo([this.q,QW]);if(t===QW)return this.state=AW,this.text="",void this.fail("XML declaration is incomplete.");if(t===VV)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=bW}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==QW?(IV(t)||(this.fail("whitespace required."),this.unget()),this.state=wW):this.state=AW}sXMLDeclEnding(){var t;this.getCodeNorm()===GW?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=eW):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===VV)return;const i=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case GW:this.openTag();break;case VW:this.state=SW;break;default:IV(n)||this.fail("disallowed character in tag name."),this.state=EW}}sOpenTagSlash(){this.getCode()===GW?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=EW)}sAttrib(){const t=this.skipSpaces();t!==VV&&(DV(t)?(this.unget(),this.state=RW):t===GW?this.openTag():t===VW?this.state=SW:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===qW?this.state=NW:IV(t)?this.state=IW:t===GW?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==VV&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case VV:return;case qW:this.state=NW;break;default:this.fail("attribute without value."),this.text="",this.name="",t===GW?this.openTag():DV(t)?(this.unget(),this.state=RW):(this.fail("disallowed character in attribute name."),this.state=EW)}}sAttribValue(){const t=this.getCodeNorm();$W(t)?(this.q=t,this.state=DW):IV(t)||(this.fail("unquoted attribute value."),this.state=xW,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=CW);case HW:return this.text+=n.slice(i,this.prevI),this.state=rW,void(this.entityReturnState=DW);case LW:case WV:case BW:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case XW:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case VV:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();IV(t)?this.state=EW:t===GW?this.openTag():t===VW?this.state=SW:DV(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=RW):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(eX);switch(t){case HW:this.state=rW,this.entityReturnState=xW;break;case XW:this.fail("disallowed character.");break;case VV:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===GW?this.openTag():this.state=EW}}sCloseTag(){const t=this.captureNameChars();t===GW?this.closeTag():IV(t)?this.state=PW:t!==VV&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case GW:this.closeTag();break;case VV:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:e}=this;t:for(;;)switch(this.getCode()){case XW:if(this.state=sW,void 0!==e){const{text:n}=this,r=i.slice(t,this.prevI);0!==n.length?(e(n+r),this.text=""):0!==r.length&&e(r)}n=oX;break t;case HW:this.state=rW,this.entityReturnState=eW,void 0!==e&&(this.text+=i.slice(t,this.prevI)),n=oX;break t;case jW:switch(n){case oX:n=hX;break;case hX:n=aX;break;case aX:break;default:throw new v("impossible state")}break;case GW:n===aX&&this.fail('the string "]]>" is disallowed in char data.'),n=oX;break;case WV:void 0!==e&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=oX;break;case VV:void 0!==e&&(this.text+=i.slice(t));break t;default:n=oX}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:i}=this;let e=!1;t:for(;;){const r=this.getCode();switch(r){case XW:if(this.state=sW,void 0!==i){const{text:e}=this,r=n.slice(t,this.prevI);0!==e.length?(i(e+r),this.text=""):0!==r.length&&i(r)}break t;case HW:this.state=rW,this.entityReturnState=eW,void 0!==i&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case WV:void 0!==i&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case VV:void 0!==i&&(this.text+=n.slice(t));break t;default:IV(r)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:e,local:r}=this.qname(t),s={name:t,prefix:e,local:r,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===e){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[r]=t,rX(this,r,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,rX(this,"",t)}}pushAttribPlain(t,n){var i;const e={name:t,value:n};this.attribList.push(e),null===(i=this.attributeHandler)||void 0===i||i.call(this,e)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==XV&&this.state!==eW&&this.fail("unexpected end.");const{text:e}=this;return 0!==e.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,e),this.text=""),this.Hs=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let e=this.topNS[t];if(void 0!==e)return e;const{tags:r}=this;for(let n=r.length-1;n>=0;n--)if(void 0!==(e=r[n].ns[t]))return e;return void 0!==(e=this.ns[t])?e:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),e=t.slice(0,n);return(""===e||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:e,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:e}=this.qname(i.name);i.prefix=n,i.local=e;const r=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===r&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:e}=i,r=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?FV:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),r.has(o)&&this.fail(`duplicate attribute: ${o}.`),r.add(o),t.uri=u,e[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:e}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=e;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=eW,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:e}=this,r=this.tag;r.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,r),null===(n=this.closeTagHandler)||void 0===n||n.call(this,r),null===(this.tag=null!==(i=e[e.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=eW,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=eW,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let e=t.length;for(;e-- >0;){const e=this.tag=t.pop();if(this.topNS=e.ns,null==i||i(e),e.name===n)break;this.fail("unexpected close tag.")}0===e?this.closedRoot=!0:e<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}},vX=function(){function t(){}return t.prototype.Mn=function(t){var n=new fX({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new yX,e=[i];function r(t){e[e.length-1].$n(t)}return n.on("text",function(t){e.length>1&&r(new wX(t))}),n.on("cdata",function(t){r(new mX(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new _X({zn:n,Wn:""===i?void 0:i,Ewt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,g=new dX({zn:v,qn:_,Wn:""===d?void 0:d,Ewt:""===f?void 0:f});u.Rwt(g)}r(u),e.push(u)}),n.on("closetag",function(){e.pop()}),n.on("error",function(t){throw new Jt(t)}),n.write(t).close(),i},t}(),dX=function(){function t(t){this.Iwt=void 0,this.Nwt=void 0,this.Dwt=void 0,this.Di=void 0,this.Iwt=t.zn,this.Di=t.qn,this.Nwt=t.Wn,this.Dwt=t.Ewt}var n=t.prototype;return n.Fn=function(t){return this===t||!!pX(this,t)&&(this.Iwt===t.Iwt&&this.Nwt===t.Nwt&&this.Dwt===t.Dwt&&this.Di===t.Di)},n.Hn=function(){return new t({zn:this.zn,qn:this.qn,Wn:this.Wn,Ewt:this.Xn})},A(t,[{key:"Cn",get:function(){return Wt.Pn}},{key:"zn",get:function(){return this.Iwt}},{key:"Vn",get:function(){return void 0===this.Dwt?this.Iwt:this.Dwt+":"+this.Iwt}},{key:"Wn",get:function(){return this.Nwt}},{key:"Xn",get:function(){return this.Dwt}},{key:"qn",get:function(){return this.Di}}]),t}(),lX=function(){function t(){this.Qn=[]}var n=t.prototype;return n.Yn=function(t){return this.Qn.filter(function(n){return kX(n)&&n.Zn===t})},n.Jn=function(t,n){return this.Qn.filter(function(i){return kX(i)&&i.zn===n&&i.Wn===t})},n.$n=function(t){this.Qn.push(t)},A(t,[{key:"jn",get:function(){return this.Qn}},{key:"ti",get:function(){return this.Qn.filter(kX)}}]),t}(),_X=function(t){function n(n){var i;return(i=t.call(this)||this).Iwt=void 0,i.Nwt=void 0,i.Dwt=void 0,i.Cwt=[],i.Iwt=n.zn,i.Nwt=n.Wn,i.Dwt=n.Ewt,i}S(n,t);var i=n.prototype;return i.xwt=function(t){for(var n=0,i=this.jn;n<i.length;n++){var e=i[n];kX(e)?e.xwt(t):t.push(e.ai)}},i.ii=function(t,n){for(var i=0,e=this.Cwt;i<e.length;i++){var r=e[i];if(r.zn===n&&r.Wn===t)return r.qn}},i.ni=function(t){for(var n=0,i=this.Cwt;n<i.length;n++){var e=i[n];if(e.Vn===t)return e.qn}},i.Rwt=function(t){this.Cwt.push(t)},i.ei=function(t){for(var n=0;n<this.Cwt.length;n++)if(this.Cwt[n].Vn===t)return void this.Cwt.splice(n,1)},i.ri=function(t,n){for(var i=0;i<this.Cwt.length;i++)if(this.Cwt[i].zn===n&&this.Cwt[i].Wn===t)return void this.Cwt.splice(i,1)},i.si=function(t,n){this.ei(t),this.Rwt(new dX({zn:t,qn:n}))},i.ui=function(t,n,i){this.ei(n);var e=n.split(":");this.Rwt(new dX({zn:e[e.length-1],qn:i,Wn:t,Ewt:e.length>1?e[0]:void 0}))},i.Hn=function(t){var i=new n({zn:this.zn,Wn:this.Wn,Ewt:this.Xn});return this.oi.forEach(function(t){return i.Rwt(t.Hn())}),t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!pX(this,t)&&(this.Iwt===t.Iwt&&this.Dwt===t.Dwt&&this.Nwt===t.Nwt&&(bX(this.oi,t.oi)&&bX(this.jn,t.jn)))},A(n,[{key:"Cn",get:function(){return Wt.xn}},{key:"oi",get:function(){return this.Cwt}},{key:"zn",get:function(){return this.Iwt}},{key:"Wn",get:function(){return this.Nwt}},{key:"Xn",get:function(){return this.Dwt}},{key:"Zn",get:function(){return void 0===this.Dwt?this.Iwt:this.Dwt+":"+this.Iwt}},{key:"hi",get:function(){var t=[];return this.xwt(t),t.join("")}}]),n}(lX),gX=function(){function t(t){this.di=void 0,this.di=t}return A(t,[{key:"ai",get:function(){return this.di}}]),t}(),wX=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!pX(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return Wt.On}}]),n}(gX),mX=function(t){function n(n){return t.call(this,n)||this}S(n,t);var i=n.prototype;return i.Hn=function(){return new n(this.ai)},i.Fn=function(t){return this===t||!!pX(this,t)&&this.ai===t.ai},A(n,[{key:"Cn",get:function(){return Wt.Bn}}]),n}(gX),yX=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.Hn=function(t){var i=new n;return t&&this.jn.forEach(function(n){return i.$n(n.Hn(t))}),i},i.Fn=function(t){return this===t||!!pX(this,t)&&bX(this.jn,t.jn)},A(n,[{key:"Cn",get:function(){return Wt.Ln}},{key:"ci",get:function(){return this.ti[0]}}]),n}(lX);function kX(t){return Gt(t)}function pX(t,n){return t.Cn===n.Cn}function bX(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Fn(n[i]))return!1;return!0}var AX,TX=["adBreak"],SX=["adBreak"];function EX(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Rr({},t,{adBreak:Rr({},t.adBreak,{ads:t.adBreak.ads.map(function(t){return t.adBreak,wA(t,TX)})})})}function RX(t){return void 0===t.ads?t:Rr({},t,{ads:t.ads.map(function(t){return t.adBreak,wA(t,SX)})})}function IX(t){return"string"==typeof t.date?new Date(t.date):t.date}function NX(t){var n;return t.cue.track?(n=CX(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=CX(t.cue,""),n}function DX(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i&&l.keys(i).length){if(n.includes(i))return"[Circular ~]";n.push(i);var e=l.entries(i);return l.fromEntries(e.map(function(i){var e=i[0],r=i[1],s=t(r);return"object"==typeof r&&null!==r&&"[Circular ~]"!==s&&n.pop(r),[e,s]}))}return i}(t)}function CX(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var e=0;e<i.length;e++){var r=i.item(e);return"image"===r.nodeName||"smpte:image"===r.nodeName?r:t(r)}}(t.content).innerHTML;for(var e=t.content,r={};e.firstChild&&e.firstChild.outerHTML;){(new vX).Mn(e.firstChild.outerHTML).ci.oi.forEach(function(t){r[t.zn]=t.qn}),e=e.firstChild}i.ttmlAttributes=r;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=xX(o);s[u]={type:AX.Owt,value:h}}else PX(o)?s[u]={type:AX.Pwt,value:o}:s[u]={type:AX.rq,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=xX(t.scte35Cmd),i.scte35Out=xX(t.scte35Out),i.scte35In=xX(t.scte35In),i.customAttributes=s}var a}(),i}function xX(t){if(void 0!==t)return pu(t)}function OX(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var e=0;e<t.cues.length;e++){var r=t.cues[e];i.push(CX(r,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(CX(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function PX(t){return"number"==typeof t}!function(t){t.rq="daterange-ca-type_string",t.Pwt="daterange-ca-type_number",t.Owt="daterange-ca-type_arraybuffer"}(AX||(AX={}));var BX={cue:function(t){var n={};switch(n.date=IX(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=NX(t)}return n},textTrack:function(t){var n={};switch(n.date=IX(t),n.type=t.type,t.type){case"addcue":var i=t.cue;FX().register(i);var e=UX()[HX()].eventListeners;t.cue.addEventListener("enter",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){e.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){e.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=NX(t);break;case"cuechange":for(var r=[],s=0;s<t.track.activeCues.length;s++){var u=t.track.activeCues[s];r.push(CX(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n,i={track:OX(t.track),date:IX(t),type:t.type},e=null==(n=t.track)?void 0:n.cues,r=FX();if(e)switch(t.type){case"addtrack":e.forEach(r.register);break;case"removetrack":e.forEach(function(t){return r.remove(t.uid)})}return i},default:function(t){var n={};switch(n.date=IX(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case Xc.Ma:n.currentTime=t.currentTime,n.volume=t.volume;break;case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Rr({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=OX(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=RX(t.ad);break;case"adloaded":case"adimpression":n.ad=EX(t.ad);break;case"aderror":t.Bwt&&(n.Bwt=t.Bwt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=EX(t.ad)}return DX(n)},minimizeCueHelper:function(t){var n={};return n.date=IX(t),n.type=t.type,n.cue=NX(t),n.track={uid:t.cue.track.uid},n},adReplacer:EX,adBreakReplacer:RX,removeCircularReferences:DX},LX=function(){this.stringify=AV,this.minimize=BX};function MX(){return ce.self}function UX(){return MX().THEOplayerBridge}function FX(){return MX().THEOCueMirrorMap}function HX(){return MX().THEOplayerGlobalID}function zX(){var t=MX();if(t.THEOplayerBridge){var n=new mV;t.THEOplayerBridge=Ew(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new mV;t.THEOplayerUtils||(t.THEOplayerUtils=new LX),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new yV)}zX();var VX,WX=function(t){function n(n,i){var e;return(e=t.call(this,n)||this).type=n,e.detail=i,e}return S(n,t),n}(ru),XX=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new WX(t,n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(tm),qX=function(t){function n(n,i){var e;return(e=t.call(this)||this).Lwt=void 0,e.Mwt=void 0,e.Uwt=function(t){e.Lwt.UG("THEOplayerABRSetTargetBuffer",t.iO),e.Fr(t)},e.Fwt=function(t){e.Lwt.UG("THEOplayerABRSetStrategy",t.rO),e.Fr(t)},e.Lwt=n,e.Mwt=i,e.Mwt.Hr("eO",e.Uwt),e.Mwt.Hr("sO",e.Fwt),e}return S(n,t),A(n,[{key:"lO",get:function(){var t;switch(this.rO.type){case TI.PERFORMANCE:return 1;case TI.QUALITY:return 0;case TI.BANDWIDTH:return null!=(t=this.rO.metadata)&&t.bitrate&&!m(this.rO.metadata.bitrate)?this.rO.metadata.bitrate:0;default:return 0}}},{key:"Ed",get:function(){return this.Mwt.Ed}},{key:"rO",get:function(){return this.Mwt.rO},set:function(t){this.Mwt.rO=t}},{key:"iO",get:function(){return this.Mwt.iO},set:function(t){this.Mwt.iO=t}},{key:"uO",get:function(){return this.Mwt.uO},set:function(t){this.Mwt.uO=t}}]),n}(iu),GX=function(){function t(t,n,i){this.Ch=void 0,this.hr=void 0,this.Vh=void 0,this.ih=void 0,this.Ch=t,this.hr=i,this.Vh=n}var n=t.prototype;return n.TA=function(t){throw new v("Not implemented yet.")},n.kL=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.hr.dr(t.ir,n));case 2:return i=r.sent,r.next=5,Er.awrap(i.vh());case 5:return e=r.sent,r.next=8,Er.awrap(this.pL(e));case 8:return r.abrupt("return",e);case 9:case"end":return r.stop()}},null,this,null,ze)},n.bL=function(t){return!1},n.AL=function(t){return ze.resolve(void 0)},n.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.pL(void 0));case 2:case"end":return t.stop()}},null,this,null,ze)},n.pL=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return n=this.SL(t),i.next=3,Er.awrap(n);case 3:case"end":return i.stop()}},null,this,null,ze)},n.SL=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(n=this.ih)){i.next=5;break}return i.next=4,Er.awrap(n.hh(this.Vh));case 4:this.ih=void 0;case 5:if(!t){i.next=9;break}return i.next=8,Er.awrap(t.oh(this.Vh));case 8:this.ih=t;case 9:case"end":return i.stop()}},null,this,null,ze)},n.pA=function(t,n,i){throw new v("Not implemented yet.")},A(t,[{key:"rh",get:function(){return this.Ch}},{key:"Cg",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"xg",get:function(){return new FS([0,1/0])}},{key:"j_",get:function(){throw new v("Not implemented yet.")}},{key:"Hwt",get:function(){throw new v("Not implemented yet")}},{key:"Y_",get:function(){throw new v("Not implemented yet.")}},{key:"zwt",get:function(){throw new v("Not implemented yet")}},{key:"Vwt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.Wwt="webkitneedkey",t.Xwt="webkitkeymessage",t.qwt="webkitkeyerror"}(VX||(VX={}));var QX=function(t){function n(n,i){var e;return(e=t.call(this,VX.Wwt)||this).initData=n,e.sessionId=i,e}return S(n,t),n}(ru),YX=function(t){function n(n,i){var e;return(e=t.call(this,VX.Xwt)||this).message=n,e.destinationURL=i,e}return S(n,t),n}(ru),jX=function(t){function n(){return t.call(this,VX.qwt)||this}return S(n,t),n}(ru),ZX=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).mh=new Ro,u.xh=void 0,u.ph=new du,u.Ph=new Ro,u.Gwt=function(t){u.xh?(u.xh.Ns(void 0),u.xh=void 0):u.Eh("internal-error"),u.Fr(new au)},u.Qwt=function(t){u.xh&&(u.xh.Is(void 0),u.xh=void 0),u.Fr(new hu(Yt(u),"license-request",To(t.message).buffer,t.destinationURL||void 0))},u.Ih=n,u.Wo=i,u.Ywt=e,u.Hh=r,u.Lh=s,u}S(n,t);var i=n.prototype;return i.Qo=function(t,n,i){var e;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i&&i.fairplay&&i.fairplay.Mh){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,Er.awrap(this.jwt(bo(n),e));case 5:this.Eh("usable"),this.Ph.Is(),this.Ph=new Ro;case 8:case"end":return t.stop()}},null,this,null,ze)},i.Yo=function(t){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},null,null,null,ze)},i.Zo=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==(n=bo(t)).byteLength){i.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.xh=new Ro,this.Ywt.Zo(this.Hh,n),i.next=7,Er.awrap(this.xh.Ss);case 7:case"end":return i.stop()}},null,this,null,ze)},i.Go=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.Ph);case 2:return this.Ywt.Xr(VX.Xwt,this.Qwt),this.Ywt.Xr(VX.qwt,this.Gwt),this.Ph.Cr(),this.mh.Is(void 0),t.abrupt("return",this.mh.Ss);case 7:case"end":return t.stop()}},null,this,null,ze)},i.jo=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},null,null,null,ze)},i.jwt=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:i=Ac(t,n,this.Lh),this.Ywt.Hr(VX.Xwt,this.Qwt),this.Ywt.Hr(VX.qwt,this.Gwt),this.Ywt.uV(this.Hh,i);case 4:case"end":return e.stop()}},null,this,null,ze)},i.Eh=function(t){this.ph.ds(),this.ph.vs(vu,t),this.Fr(new ou(this))},A(n,[{key:"nh",get:function(){return this.Hh}},{key:"Ko",get:function(){return NaN}},{key:"$o",get:function(){return this.mh.Ss}},{key:"th",get:function(){return this.ph}}]),n}(iu),JX=function(){function t(t,n,i){this.Zwt=void 0,this.Hh=void 0,this.Lh=void 0,this.Ywt=void 0,this.Wo=void 0,this.Ch=void 0,this.Ih=void 0,this.Ywt=t,this.Wo=n,this.Ch=i;var e=hc(i)||"video/mp4";this.Ih=sc(e)}var i=t.prototype;return i.sh=function(t){var i;return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Lh){t.next=2;break}throw new Tc(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return i=new ZX(this.Ih,this.Wo,this.Ywt,this.Hh,this.Lh),this.Zwt=i,t.abrupt("return",i);case 5:case"end":return t.stop()}},null,this,null,ze)},i.uh=function(t){return this.Lh=bo(t),ze.resolve(!0)},i.oh=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(this);case 1:case"end":return n.stop()}},null,this,null,ze)},i.hh=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:t.webkitSetMediaKeys(null);case 1:case"end":return n.stop()}},null,null,null,ze)},i.createSession=function(){throw new v("Whoops.")},A(t,[{key:"eh",get:function(){return this.Wo}},{key:"rh",get:function(){return this.Ch}},{key:"sessionId",set:function(t){this.Hh=t}}]),t}(),$X=function(){function t(t,n,i){this.Jwt=t,this.Wo=n,this.Ch=i}var n=t.prototype;return n.dh=function(){return this.Ch},n.vh=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new JX(this.Jwt,this.Wo,this.Ch));case 1:case"end":return t.stop()}},null,this,null,ze)},A(t,[{key:"eh",get:function(){return this.Wo}}]),t}(),KX=function(){function t(t){this.Jwt=void 0,this.Jwt=t}return t.prototype.dr=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0;case 1:if(!(i<n.length)){s.next=9;break}if(e=n[i],!(r=uc(tq,uu,t,e))){s.next=6;break}return s.abrupt("return",new $X(this.Jwt,t,r));case 6:i++,s.next=1;break;case 9:throw new d("Unsupported key system configuration for "+t);case 10:case"end":return s.stop()}},null,this,null,ze)},t}();function tq(t,n){return t===$r}var nq,iq=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.gV=function(t,n){return!0},n}(Ix),eq=function(t){function n(n,i,e){var r;return void 0===e&&(e=new KX(i)),(r=t.call(this)||this).$S=void 0,r.hr=void 0,r.gL=void 0,r.pV=new RN,r.$wt=void 0,r.Jwt=void 0,r.Kwt=!1,r.Hh=void 0,r.Bh=null,r.tmt={Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},r.nmt=function(t){"boolean"==typeof t.detail.casting&&(r.Kwt=t.detail.casting,r.Fr(new My(r.Kwt)))},r.imt=function(t){r.Hh=t.sessionId,r.Bh&&(r.Bh.sessionId=r.Hh);var n=t.initData;if(n){var i=Bx(n);if(!i)return;r.Fr(new cu(Vr,i))}else r.Fr(new cu(Vr,new ArrayBuffer(0)))},r.$wt=n,r.Jwt=i,r.Jwt.Hr(VX.Wwt,r.imt),r.hr=e,r.gL=new iq(Yt(r)),r.emt(),r}S(n,t);var i=n.prototype;return i.DL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.nr===bb.EA)return i}},i.Sr=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.rmt(),this.Jwt.Xr(VX.Wwt,this.imt),t.next=7,Er.awrap(this.gL.Sr());case 7:case"end":return t.stop()}},null,this,null,ze)},i.cg=function(){throw new v("Not implemented yet")},i.pA=function(t,n,i,e,r,s,u,o){throw new v("Not implemented yet")},i.OE=function(){return!1},i.BE=function(t,n,i,e){throw new v("Not implemented yet")},i.TA=function(t){throw new v("Not implemented yet")},i.UE=function(){throw new v("Not implemented yet")},i.Yo=function(t){var n=this;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",this.pV.zB(function(i){var e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.nr!==bb.EA){r.next=8;break}return Vs(i),e=new GX(t,n,n.hr),n.$S=e,n.gL.Yo(e,t),r.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return r.stop()}},null,null,null,ze)}));case 1:case"end":return i.stop()}},null,this,null,ze)},i.K_=function(){throw new v("Not implemented yet")},i.J_=function(){throw new v("Not implemented yet")},i.nl=function(){var t=this;return this.pV.Cr(),this.pV.zB(function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.$S){n.next=4;break}return n.next=3,Er.awrap(t.$S.Sr());case 3:t.$S=void 0;case 4:return n.next=6,Er.awrap(t.gL.nl());case 6:case"end":return n.stop()}},null,null,null,ze)})},i.ys=function(t,n){throw new v("Not implemented yet")},i.qE=function(t){throw new v("Not implemented yet")},i.ag=function(){throw new v("Not implemented yet")},i.GE=function(){return this.tmt},i.emt=function(){this.$wt.addEventListener("airPlayIsCasting",this.nmt)},i.rmt=function(){this.$wt.removeEventListener("airPlayIsCasting",this.nmt)},i.webkitSetMediaKeys=function(t){this.Bh=t||null,this.Bh&&(this.Bh.sessionId=this.Hh)},i.rX=function(){},i.iX=function(){throw new v("Not implemented yet")},i.eX=function(){throw new v("Not implemented yet")},A(n,[{key:"kg",get:function(){throw new v("Not implemented yet")}},{key:"yg",get:function(){throw new v("Not implemented yet")}},{key:"v_",get:function(){throw new v("Not implemented yet")}},{key:"pB",get:function(){throw new v("Not implemented yet")}},{key:"d_",get:function(){throw new v("Not implemented yet")}},{key:"l_",get:function(){throw new v("Not implemented yet")}},{key:"ts",get:function(){throw new v("Not implemented yet")}},{key:"hp",get:function(){throw new v("Not implemented yet")}},{key:"bg",get:function(){return this.Kwt}},{key:"g_",get:function(){throw new v("Not implemented yet")}},{key:"w_",get:function(){throw new v("Not implemented yet")}},{key:"m_",get:function(){throw new v("Not implemented yet")}},{key:"Dg",get:function(){throw new v("Not implemented yet")}},{key:"Dl",get:function(){throw new v("Not implemented yet")}},{key:"xg",get:function(){throw new v("Not implemented yet")}},{key:"y_",get:function(){throw new v("Not implemented yet")}},{key:"oX",get:function(){throw new v("Not implemented yet")}},{key:"b_",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"Rw",get:function(){throw new v("Not implemented yet")}},{key:"ME",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.Bh}},{key:"hX",get:function(){return WN}},{key:"j_",get:function(){throw new v("Not implemented yet")}},{key:"AB",get:function(){throw new v("Not implemented yet")}},{key:"QE",get:function(){throw new v("Not implemented yet")}},{key:"sX",get:function(){return!0}},{key:"SE",get:function(){return this.gL.SE},set:function(t){this.gL.SE=t}},{key:"yV",get:function(){return this.gL.yV}}]),n}(Kw),rq=function(t){function n(n){var i;return(i=t.call(this,Xc.Ha)||this).tmt=n,i}return S(n,t),n}(ru);function sq(t){switch(t.type){case nq.rq:return t.value;case nq.Pwt:return xw(t.value);case nq.Owt:return yu(t.value);default:return}}function uq(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.rq="daterange-ca-type_string",t.Pwt="daterange-ca-type_number",t.Owt="daterange-ca-type_arraybuffer"}(nq||(nq={}));var oq=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,r,i,e)||this).cS=void 0,u.smt=void 0,u.cS=n,u.smt=s,u}return S(n,t),A(n,[{key:"name",get:function(){return this.cS}},{key:"timestamp",get:function(){return this.smt}}]),n}(Tc),hq=function(t){function n(n,i,e,r,s,u,o,h){var a;return(a=t.call(this,n,i,e,r,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return S(n,t),n}(oq),aq=function(t){function n(n,i,e,r,s){var u;(u=t.call(this)||this).mI=0,u.GF=!1,u.KS=void 0,u.tE=void 0,u.umt=void 0,u.kI=!0,u.pI=1,u.z_=void 0,u.V_=void 0,u.EV=void 0,u.IV=void 0,u.NV=void 0,u.W_=void 0,u.wA=void 0,u.Au=void 0,u.omt=FS.dI(),u.xF=FS.dI(),u.yI=!1,u.FV=FS.dI(),u.bI=void 0,u.hmt=void 0,u.amt=void 0,u.QF=am.n_,u.IA=am.n_,u.$wt=void 0,u.CV=void 0,u.eE=void 0,u.Lwt=void 0,u.Ngt=void 0,u.EI=void 0,u.JS=void 0,u.rE=void 0,u.Jwt=void 0,u.tmt={Ag:0,Tg:0,Sg:0,Eg:0,Rg:0,Ig:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.$S=void 0,u.cmt=void 0,u.uE=new gS,u.oE=new bS,u.setCurrentTime=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.xg.length){n.next=4;break}return u.mI=t,n.next=4,Er.awrap(u.$wt.Yr("seekablechange"));case 4:u.mI=u.updateCurrentTime(t),u.Lwt.UG("THEOplayerSetCurrentTime",u.mI),u.bI=!0,u.Fr(new Fm(u.mI));case 8:case"end":return n.stop()}},null,null,null,ze)},u.fmt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.omt=new FS(i),u.Fr(new ZN(u.v_))}},u.vmt=function(t){u.QF=t.detail.readyState,u.Fr(new Vm(+t.detail.currentTime,u.Dl)),u.dmt()},u.lmt=function(t){u.QF=t.detail.readyState,u.Fr(new Wm(+t.detail.currentTime,u.Dl)),u.dmt()},u._mt=function(t){if(t.detail){var n=+t.detail.duration;u.Au=n,u.Fr(new Pm(u.d_))}},u.Fgt=function(t){t.detail&&(u.GF=!0,u.Fr(new Mm(+t.detail.currentTime)))},u.hE=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);uq(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.tE=new hq(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.KS=gy(u.tE),u.Fr(new qm(u.tE))):uq(i)&&(u.tE=new oq(i.name,i.message,void 0,i.code,i.timestamp),u.KS=gy(u.tE),u.Fr(new qm(u.tE)))}},u.Hgt=function(t){u.Fr(new JN)},u.gmt=function(t){u.QF=t.detail.readyState,u.Fr(new Um(+t.detail.currentTime,u.Dl)),u.dmt()},u.wmt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(u.xg.length){n.next=3;break}return n.next=3,Er.awrap(u.$wt.Yr("seekablechange"));case 3:u.QF=t.detail.readyState,u.Fr(new Om(+t.detail.currentTime,u.Dl)),u.dmt();case 6:case"end":return n.stop()}},null,null,null,ze)},u.xgt=function(t){t.detail&&u.kI&&(u.kI=!1,u.Fr(new Nm(+t.detail.currentTime)))},u.Ogt=function(t){t.detail&&(u.kI||(u.kI=!0,u.Fr(new Im(+t.detail.currentTime))))},u.mmt=function(t){if(t.detail){for(var n=t.detail.played,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.FV=new FS(i)}},u.uwt=function(t){t.detail&&u.Fr(new Qb(+t.detail.currentTime))},u.Lgt=function(t){t.detail&&(u.pI=t.detail.playbackRate,u.Fr(new Bm(+t.detail.currentTime,u.pI)))},u.ymt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],e=0;e<n.length;e++){var r=n[e];i.push(r.start,r.end)}u.xF=new FS(i)}},u.Bgt=function(t){t.detail&&(u.mI=+t.detail.currentTime,u.bI=!1,u.Fr(new Lm(u.mI,u.umt)),u.Fr(new Hm(u.mI)))},u.Pgt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.Au&&(u.GF=!1),u.bI=!0,u.Fr(new Fm(n))}},u.kmt=function(t){t.detail&&(t.detail.currentDate&&(u.umt=new Date(1e3*t.detail.currentDate)),u.mI=+t.detail.currentTime,u.Fr(new Lm(u.mI,u.umt)))},u.pmt=function(t){u.hmt=t.detail.height,u.amt=t.detail.width},u.bmt=function(t){t.detail&&u.Fr(new Gb(+t.detail.currentTime))},u.Jgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Q_.$d(new Cy(n))},u.Amt=function(t){for(var n,i,e=t.detail.lang,r=t.detail.label,s=0;s<u.z_.sl;s++){var o=u.Q_.Jd(s);o.yl==e&&o.ml==r?i=u.z_.Jd(s):1==o.ll&&(n=u.z_.Jd(s))}i&&n&&(i.ll=!0,n.ll=!1)},u.Kgt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Y_.$d(new Ly(n))},u.vG=function(t){var n,i=t.detail.kind,e=t.detail.type;i===jp.$y&&e===Py.ID3?(n=new ax("",t.detail.label)).Rl=Ww.Al:i===jp.$y&&e===Py.DATE_RANGE?(n=new IP,u.cmt=n):n=new eC(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,e),u.EV.$d(n),u.CV.$d(n)},u.Tmt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e=i[n],r=e.Id3FrameId,s={id:r,text:e.Id3FrameText};"TXXX"!==r&&"TXX"!==r||(s.description=e.Id3FrameDescription);var o=new ox(xw(e.startTime),s,e.uid),h=u.Smt();h&&h.AA(o)}},u.Emt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var e,r=i[n],s=new tk(xw(r.startTime),xw(r.endTime),r.content,!1),o=null!=(e=u.Rmt(jp.Zy))?e:u.Rmt(jp.rA);o&&(o.nr=Py.WEBVTT,o.AA(s))}},u.PW=function(t){t.type===Xc.ha&&(u.KS=gy(t.errorObject)),u.Ur(t)},u.Imt=function(t){t.detail&&(u.tmt.Tg=t.detail.corruptedVideoFrames,u.tmt.Ag=t.detail.droppedVideoFrames,u.Fr(new rq(u.B_)))},u.Nmt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={_l:t.id};if(void 0!==t.startDate&&(n.QE=new Date(t.startDate)),void 0!==t.endDate&&(n.HY=new Date(t.endDate)),void 0!==t.customAttributes){var e={};for(var r in t.customAttributes){var s=sq(t.customAttributes[r]);void 0!==s&&(e[r]=s)}n.KY=e}void 0!==t.scte35Cmd&&(n.tj=yu(t.scte35Cmd)),void 0!==t.scte35In&&(n.ij=yu(t.scte35In)),void 0!==t.scte35Out&&(n.nj=yu(t.scte35Out)),void 0!==t.startTime&&(n.tw=t.startTime),n.ZY=t.class,n.d_=xw(t.duration),n.JY=xw(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.tw?t.tw:(new Date).getTime(),e=new pP(t,i);u.cmt.AA(e),u.cmt.Zo(n,i)})};var o=r.uid;u.Lwt=u.getSdkBridge(o),u.$wt=new XX,UX()[o].sdkEventBus=u.$wt,u.z_=new yy,u.V_=new yy;var h=u.Dmt(e);return u.wA=new aV(Yt(u),new rx),u.CV=new ux(Yt(u)),u.eE=new gb(u.wA,h),u.EV=new Zp,u.IV=new _x(Yt(u)),u.IV.fl=u.EV,u.NV=new gx(u.wA,u.IV),u.W_=new yS([u.EV,u.eE.qk,u.NV.qk]),u.Jwt=u.getFairPlayControllerBridge(u.Lwt),u.JS=new eq(u.$wt,u.Jwt),u.rE=new wS(h),u.JS.SE=u.rE,u.observeMediaElement(),u.RE(),u.EI=new qX(u.Lwt,s),u.EI.Hr("eO",function(){u.Lwt.UG("THEOplayerSetPreferredForwardBufferDuration",u.EI.iO)}),u}S(n,t);var i=n.prototype;return i.vg=function(){return VS},i.ag=function(){this.Lwt.UG("THEOplayerShow",{})},i.cg=function(){this.Lwt.UG("THEOplayerHide",{})},i.Cmt=function(){var t=this;this.Lwt.UG("THEOplayerSetInitialPreferredPeakBitRate",this.EI.lO);this.Hr("playing",function n(){t.Lwt.UG("THEOplayerSetInitialPreferredPeakBitRate",0),t.Xr("playing",n)})},i.ig=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this.Ngt=t,i=Rr({},n,{sources:{src:t.src,type:um.Yl,contentProtection:t.contentProtection,ssai:t.ssai,crossOrigin:t.crossOrigin,hlsDateRange:t.hlsDateRange,isAdvertisement:t.isAdvertisement}}),this.Lwt.UG("THEOplayerSourceChange",i),e={nr:bb.EA,Ol:t.src,mf:t.type,IE:this.NE(t),DE:t.crossOrigin,CE:n.metadata&&n.metadata.title},this.rE.LS(t.contentProtection),s.next=7,Er.awrap(this.JS.Yo(e));case 7:this.$S=s.sent,n.textTracks&&(r=n.textTracks.filter(function(t){return t.format!==Py.WEBVTT})).length>0&&this.xE(r),pb(this.j_),this.Cmt();case 11:case"end":return s.stop()}},null,this,null,ze)},i.NE=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{eh:ns,VE:[{initDataTypes:[ns.er],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.J_=function(){this.kI=!1,this.Fr(new Nm(this.v_)),this.Lwt.UG("THEOplayerPlay",{})},i.K_=function(){this.kI=!0,this.Fr(new Im(this.v_)),this.Lwt.UG("THEOplayerPause",{})},i.fg=function(){},i.nl=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mI=0,this.GF=!1,this.KS=void 0,this.tE=void 0,this.kI=!0,this.pI=1,this.Au=void 0,this.xF=FS.dI(),this.omt=FS.dI(),this.hmt=void 0,this.amt=void 0,this.QF=am.n_,this.IA=am.n_,this.z_.nl(),this.V_.nl(),this.EV.nl(),this.W_.nl(),t.next=19,Er.awrap(this.NV.nl());case 19:return this.IV.nl(),t.next=22,Er.awrap(this.eE.nl());case 22:return this.wA.nl(),this.CV.nl(),this.Ngt=void 0,t.next=27,Er.awrap(this.JS.nl());case 27:case"end":return t.stop()}},null,this,null,ze)},i.rg=function(){this.Lwt.UG("THEOplayerShowAirPlayPicker",{})},i.sg=function(){this.Lwt.UG("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.B_.Tg=t.Tg,this.B_.Ag=t.Ag},i.hv=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.nl());case 2:return this.Wr(),this.unobserveMediaElement(),this.HE(),this.JS.SE=void 0,t.next=8,Er.awrap(this.JS.Sr());case 8:return this.z_.hv(),this.V_.hv(),this.EV.hv(),this.W_.hv(),this.IV.hv(),t.next=15,Er.awrap(this.NV.hv());case 15:return t.next=17,Er.awrap(this.eE.hv());case 17:this.wA.hv(),this.CV.hv();case 19:case"end":return t.stop()}},null,this,null,ze)},i.xE=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.eE.kA(i)}},i.dmt=function(){var t=this.IA,n=this.QF;t!==n&&(this.IA=n,this.Fr(new Xm(this.v_,n)))},i.observeMediaElement=function(){this.JS.Hr(Xc.ra,this.Ur),this.JS.Hr([Xc.aa,Xc.ha],this.PW),this.$wt.addEventListener("play",this.xgt),this.$wt.addEventListener("pause",this.Ogt),this.$wt.addEventListener("seeking",this.Pgt),this.$wt.addEventListener("seeked",this.Bgt),this.$wt.addEventListener("ratechange",this.Lgt),this.$wt.addEventListener("durationchange",this._mt),this.$wt.addEventListener("timeupdate",this.kmt),this.$wt.addEventListener("waiting",this.bmt),this.$wt.addEventListener("playing",this.uwt),this.$wt.addEventListener("ended",this.Fgt),this.$wt.addEventListener("loadedmetadata",this.wmt),this.$wt.addEventListener("loadeddata",this.gmt),this.$wt.addEventListener("loadstart",this.Hgt),this.$wt.addEventListener("canplay",this.vmt),this.$wt.addEventListener("canplaythrough",this.lmt),this.$wt.addEventListener("error",this.hE),this.$wt.addEventListener("seekablechange",this.ymt),this.$wt.addEventListener("videosizechange",this.pmt),this.$wt.addEventListener("bufferedchange",this.fmt),this.$wt.addEventListener("playedchange",this.mmt),this.$wt.addEventListener("metricschange",this.Imt),this.$wt.addEventListener("addDateRangeCues",this.Nmt)},i.unobserveMediaElement=function(){this.JS.Xr(Xc.ra,this.Ur),this.JS.Xr([Xc.aa,Xc.ha],this.PW),this.$wt.removeEventListener("play",this.xgt),this.$wt.removeEventListener("pause",this.Ogt),this.$wt.removeEventListener("seeking",this.Pgt),this.$wt.removeEventListener("seeked",this.Bgt),this.$wt.removeEventListener("ratechange",this.Lgt),this.$wt.removeEventListener("durationchange",this._mt),this.$wt.removeEventListener("timeupdate",this.kmt),this.$wt.removeEventListener("waiting",this.bmt),this.$wt.removeEventListener("playing",this.uwt),this.$wt.removeEventListener("ended",this.Fgt),this.$wt.removeEventListener("loadedmetadata",this.wmt),this.$wt.removeEventListener("loadeddata",this.gmt),this.$wt.removeEventListener("loadstart",this.Hgt),this.$wt.removeEventListener("canplay",this.vmt),this.$wt.removeEventListener("canplaythrough",this.lmt),this.$wt.removeEventListener("error",this.hE),this.$wt.removeEventListener("seekablechange",this.ymt),this.$wt.removeEventListener("videosizechange",this.pmt),this.$wt.removeEventListener("bufferedchange",this.fmt),this.$wt.removeEventListener("playedchange",this.mmt),this.$wt.removeEventListener("metricschange",this.Imt),this.$wt.removeEventListener("addDateRangeCues",this.Nmt)},i.updateCurrentTime=function(t){var n=this.xg.start(0),i=this.xg.end(0);return _.min(_.max(t,n),i)},i.Smt=function(){for(var t=0,n=this.W_.il;t<n.length;t++){var i=n[t];if(i.wl===jp.$y&&i.nr===Py.ID3)return i}},i.Rmt=function(t){for(var n=0,i=this.W_.il;n<i.length;n++){var e=i[n],r=e.Rl===Ww.Tl,s=e.wl===t;if(r&&s)return e}},i.RE=function(){this.$wt.addEventListener("addaudiotrack",this.Jgt),this.$wt.addEventListener("enableaudiotrack",this.Amt),this.$wt.addEventListener("addvideotrack",this.Kgt),this.$wt.addEventListener("addtexttrack",this.vG),this.$wt.addEventListener("addtexttrackid3cues",this.Tmt),this.$wt.addEventListener("addtexttrackcues",this.Emt)},i.HE=function(){this.$wt.removeEventListener("addaudiotrack",this.Jgt),this.$wt.removeEventListener("enableaudiotrack",this.Amt),this.$wt.removeEventListener("addvideotrack",this.Kgt),this.$wt.removeEventListener("addtexttrack",this.vG),this.$wt.removeEventListener("addtexttrackid3cues",this.Tmt),this.$wt.removeEventListener("addtexttrackcues",this.Emt)},i.mg=function(){},A(n,[{key:"Q_",get:function(){return this.z_}},{key:"yg",get:function(){return this.omt.XE()}},{key:"kg",get:function(){return this.umt?this.umt:null},set:function(t){this.Lwt.UG("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.umt=t}},{key:"v_",get:function(){return this.mI},set:function(t){this.setCurrentTime(t)}},{key:"d_",get:function(){return this.Au}},{key:"l_",get:function(){return this.GF}},{key:"ts",get:function(){return this.KS}},{key:"__",get:function(){return this.tE}},{key:"Z_",get:function(){}},{key:"bg",get:function(){return this.JS.bg}},{key:"B_",get:function(){return this.tmt}},{key:"g_",get:function(){return this.yI},set:function(t){this.yI!==t&&(this.Lwt.UG("THEOplayerSetMuted",t),this.yI=t,this.Fr(new zm(this.v_,t?0:1)))}},{key:"w_",get:function(){return this.kI}},{key:"m_",get:function(){return this.pI},set:function(t){this.Lwt.UG("THEOplayerSetPlaybackRate",t),this.pI=t}},{key:"Dg",get:function(){return this.FV.XE()}},{key:"Cg",get:function(){return CS.dR},set:function(t){}},{key:"Dl",get:function(){return this.QF}},{key:"xg",get:function(){return this.xF.XE()}},{key:"y_",get:function(){return this.bI}},{key:"QE",get:function(){}},{key:"j_",get:function(){return this.W_}},{key:"k_",get:function(){return this.hmt}},{key:"p_",get:function(){return this.amt}},{key:"b_",get:function(){return 1},set:function(t){}},{key:"Og",get:function(){return this.oE}},{key:"Y_",get:function(){return this.V_}},{key:"YE",get:function(){return this.uE}},{key:"Pg",get:function(){return!1},set:function(t){}},{key:"Ng",get:function(){return!0}}]),n}(Kw),cq=function(){function t(){this.jE=fS.IS}var n=t.prototype;return n.ZE=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(dm(n.type))return!1;var e=n.contentProtection;if(e&&!CA(e)){if(!PA(e))return!1;if(!t.owt(e))return!1}return!0},t.owt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.JE=function(){return!1},t}(),fq=function(){function t(){this.xmt=r.webkit}return t.prototype.UG=function(t,n){this.xmt.messageHandlers[t]&&this.xmt.messageHandlers[t].postMessage(n)},t}(),vq=function(t){function n(n){var i;return(i=t.call(this)||this).Lwt=void 0,i.$wt=void 0,i.Omt=function(t){var n=yu(t.detail.initData),e=t.detail.sessionId;i.Fr(new QX(n,e))},i.Pmt=function(t){var n=new y(Ru(t.detail.message)),e=t.detail.destinationURL;i.Fr(new YX(n,e))},i.Bmt=function(t){i.Fr(new jX)},i.Lwt=n,i.$wt=new XX,UX().fairplayController={sdkEventBus:i.$wt},i.CJ(),i}S(n,t);var i=n.prototype;return i.CJ=function(){this.$wt.addEventListener(VX.Wwt,this.Omt),this.$wt.addEventListener(VX.Xwt,this.Pmt),this.$wt.addEventListener(VX.qwt,this.Bmt)},i.uV=function(t,n){var i={playerId:HX(),data:Iu(n.buffer),sessionId:t};this.Lwt.UG("THEOplayerCreateKeySession",i)},i.Zo=function(t,n){var i={playerId:HX(),data:Iu(n.buffer),sessionId:t};this.Lwt.UG("THEOplayerUpdateKey",i)},n}(Kw),dq=function(t){var n=this;this.$wt=void 0,this.Lmt=void 0,this.Mmt=function(){n.Lmt.kG()},this.Umt=function(){n.Lmt.yG()},this.$wt=new XX,this.Lmt=t,this.$wt.addEventListener("showTracks",this.Mmt),this.$wt.addEventListener("hideTracks",this.Umt),UX().texttracks={sdkEventBus:this.$wt}},lq=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this,n,i,e,r,s)||this).SG=void 0,o.EG=void 0,o.Fmt=void 0;var h=i.AE(my.$f);return o.SG=new Xx,o.SG.uX(n),o.EG=new HO(o.SG.pg,h.pB,o.j_,u,h.ME),o.Fmt=new dq(o.EG),i.zE(h),ce.document.querySelector(".vjs-tech")?ce.document.querySelector(".player-div").classList.add("theo-ios-sdk"):ce.document.querySelector(".player-div").style.background="transparent",o}S(n,t);var i=n.prototype;return i.ag=function(){t.prototype.ag.call(this),this.SG.ag()},i.cg=function(){t.prototype.cg.call(this),this.SG.cg()},i.eg=function(){return!0},i.getSdkBridge=function(){return new fq},i.getFairPlayControllerBridge=function(){return gq},i.Dmt=function(t){return t},i.hv=function(){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return ce.document.querySelector(".vjs-tech")?ce.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):ce.document.querySelector(".player-div").style.background="#000000",n.next=3,Er.awrap(t.prototype.hv.call(this));case 3:this.EG.hv(),this.SG.hv();case 5:case"end":return n.stop()}},null,this,null,ze)},n}(aq);NS(new(function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.TT=function(t,n,i,e,r,s){return new lq(t,n,i,e,r,s)},i.ZE=function(n,i){if(n.type){var e=sr();if(!(e&&e.canPlayType&&e.canPlayType(n.type)))return!1}return t.prototype.ZE.call(this,n,i)},n}(cq)));var _q,gq=new vq(new fq),wq=function(t){function n(){return t.call(this,"Hmt")||this}return S(n,t),n.prototype.Rd=function(){return new mq},n}(fw),mq=function(t){function n(){return t.call(this,"statechange")||this}return S(n,t),n}(ru);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(_q||(_q={}));var yq=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).zmt=new Kw,n.Ur=function(t){n.Fr(t)},n}S(n,t);var i=n.prototype;return i.Rd=function(){return n=function(t){var n=t.Vmt.map(function(t){return t.Ed});return n.item=function(n){n|=0;var i=t.Jd(n);return i&&i.Ed||void 0},n}(t=this),i=new VI(t,n),n.addEventListener=function(t,n){i.Hr(t,n)},n.removeEventListener=function(t,n){i.Xr(t,n)},n;var t,n,i},i.Hr=function(t,n){this.zmt.Hr(t,n)},i.Vr=function(t){this.zmt.Vr(t)},i.Wr=function(){this.zmt.Wr()},i.Fr=function(t){this.zmt.Fr(t)},i.Xr=function(t,n){this.zmt.Xr(t,n)},i.Gr=function(t){this.zmt.Gr(t)},i.Qr=function(t){this.zmt.Qr(t)},i.Yr=function(t,n){return this.zmt.Yr(t,n)},n}(function(){function t(){this.hs=[],this.Sd=void 0}var n=t.prototype;return n.Jd=function(t){return this.hs[t]},n.Lg=function(t){this.hs.push(t),this.Sd&&this.Sd.push(t.Ed),this.Wmt(t)},n.Xmt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Lg(i)}},n.qmt=function(t,n){n>=0&&n<=this.hs.length&&(this.hs.splice(n,0,t),this.Sd&&this.Sd.splice(n,0,t.Ed),this.Wmt(t))},n.Mg=function(t){return Os(this.hs,t)},n.jo=function(t){this.Gmt(this.hs.indexOf(t))},n.Gmt=function(t){if(t>=0&&t<this.hs.length){var n=this.hs[t];xs(this.hs,t),this.Sd&&xs(this.Sd,t),this.Qmt(n)}},n.ds=function(){var t=this.hs.slice();Ps(this.hs),this.Sd&&Ps(this.Sd);for(var n=0;n<t.length;n++){var i=t[n];this.Qmt(i)}},A(t,[{key:"Vmt",get:function(){return this.hs}},{key:"sl",get:function(){return this.hs.length}},{key:"Ed",get:function(){return this.Sd||(this.Sd=this.Rd()),this.Sd}}]),t}());var kq,pq=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return S(n,t),n}(ru),bq=function(t){function n(n){var i;return(i=t.call(this,"jmt")||this).Ymt=n,i}return S(n,t),n.prototype.Rd=function(){return new pq(this.Ymt.Ed)},n}(fw),Aq=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return S(n,t),n}(ru),Tq=function(t){function n(n){var i;return(i=t.call(this,"Zmt")||this).task=n,i}return S(n,t),n.prototype.Rd=function(){return new Aq(this.task.Ed)},n}(fw),Sq=function(t){function n(){return t.call(this)||this}S(n,t);var i=n.prototype;return i.Wmt=function(t){this.Fr(new bq(t))},i.Qmt=function(t){this.Fr(new Tq(t))},n}(yq);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(kq||(kq={}));var Eq=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).Jmt=kq.UNINITIALISED,r.LB=new Sq,r.h9=void 0,r.$mt=void 0,r.Kmt=void 0,r.Kmt=i,r.$mt=e,r.h9=n,r.ug(),r}S(n,t);var i=n.prototype;return i.ug=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.tyt());case 2:this.nyt(kq.INITIALISED);case 3:case"end":return t.stop()}},null,this,null,ze)},i.tyt=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Er.awrap(this.iyt());case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},null,this,[[0,5]],ze)},i.iyt=function(){var t,n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.h9.cK());case 2:for(t=r.sent,n=0;n<t.length;n++)i=t[n],e=this.Kmt.eyt(i.id,i.sourceDescription,i.parameters,this.$mt),this.ryt(e),this.LB.Lg(e);case 4:case"end":return r.stop()}},null,this,null,ze)},i.nyt=function(t){this.Jmt=t,this.Fr(new wq)},i.eyt=function(t,n,i){void 0===i&&(i="persistent");var e=this.Kmt.syt(t,n,i);return this.uyt(e,i),this.LB.Lg(e),this.ryt(e),e},i.uyt=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(this.oyt(t,n));case 3:i.next=8;break;case 5:throw i.prev=5,i.t0=i.catch(0),v("Unable to persist task - "+i.t0);case 8:case"end":return i.stop()}},null,this,[[0,5]],ze)},i.oyt=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.h9.oK({key:t._l,id:t._l,sourceDescription:t.hR,parameters:t.lh},n));case 2:case"end":return i.stop()}},null,this,null,ze)},i.ryt=function(t){var n=this;t.Hr("Hmt",function(){t.Df===_q.EVICTED&&n.LB.jo(t)})},A(n,[{key:"Df",get:function(){return this.Jmt}},{key:"hyt",get:function(){return this.LB}}]),n}(iu);function Rq(t,n){return function(t,n){var i=t.Rw&&n.Rw,e=t.hp&&n.hp;return i||e?i&&e?t.Rw*t.hp-n.Rw*n.hp:i?t.Rw-n.Rw:e?t.hp-n.hp:(t.Rw||1)*(t.hp||1)-(n.Rw||1)*(n.hp||1):0}(t,n)||function(t,n){return t.xS-n.xS}(t,n)}var Iq=function(t){function n(){return t.call(this,"progress")||this}return S(n,t),n}(ru),Nq=function(t){function n(){return t.call(this,"x$")||this}return S(n,t),n.prototype.Rd=function(){return new Iq},n}(fw),Dq=function(){function t(t,n,i){if(this.ayt=void 0,this.cyt=t,this.Bg=n,this.fyt=i,0===this.Bg.size)this.ayt=FS.dI();else{var e=new FS([-1/0,1/0]);this.Bg.forEach(function(t){e=e.WR(t.timeRanges)}),this.ayt=e}}return t.prototype.mw=function(t){return!!Iw(this.Bg,t.Bg)&&(!!Ft(this.cyt,t.cyt)&&(!!Ft(this.aI,t.aI)&&(!!Ft(this.vyt,t.vyt)&&this.dyt.eI(t.dyt))))},t.lyt=function(){return xq},A(t,[{key:"aI",get:function(){return this.fyt}},{key:"_yt",get:function(){return this.cyt}},{key:"vyt",get:function(){return this.dyt.aI}},{key:"gyt",get:function(){var t=0,n=0;return this.Bg.forEach(function(i){t+=i.timeRanges.aI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"dyt",get:function(){return this.ayt}}]),t}(),Cq=Nr(),xq=new Dq(0,Cq,NaN);function Oq(t,n){if(q(t)){if(us(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var Pq,Bq=function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),A(n,[{key:"name",get:function(){return"wyt"}}]),n}(Zt);function Lq(t,n,i,e){var r=[],s=Ns(i,function(t){return t.myt===Fr});if(void 0!==s){var u=s.qn?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.qn.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.myt!==Fr)for(var a=0,c=rs(h.myt);a<c.length;a++){var f=c[a];r.push({eh:f,US:h.yyt?[h.yyt]:[],tS:void 0})}}if(r.length)return{XA:t,kyt:{pyt:u,qA:s.qA},byt:r,Ayt:n===my.Jf?e.slice():[],Tyt:n===my.$f?e.slice():[],dV:!1}}}}function Mq(t,n){var i;if(!t)return n;if(!n)return t;var e=[],r=Nr();return Uq(e,r,t.byt),Uq(e,r,n.byt),{XA:t.XA,kyt:{pyt:t.kyt.pyt,qA:null!=(i=t.kyt.qA)?i:n.kyt.qA},byt:e,Ayt:Fq(t.Ayt,n.Ayt,Os),Tyt:Fq(t.Tyt,n.Tyt,Os),dV:t.dV||n.dV||!1}}function Uq(t,n,i){for(var e=0;e<i.length;e++){var r=i[e],s=r.eh.sr,u=void 0;n.has(s)?(u=n.get(s)).US=Fq(u.US,r.US,Hq):(u=Rr({},r),t.push(u),n.set(s,u))}}function Fq(t,n,i){for(var e=t.slice(),r=0;r<n.length;r++){var s=n[r];i(e,s)||e.push(s)}return e}function Hq(t,n){for(var i=0;i<t.length;i++){if(Tu(t[i],n))return!0}return!1}function zq(t,n){var i,e=t.Syt;if(e){for(var r=t.GD,s=[],u=0,o=t.VZ;u<o.length;u++){var h=o[u];s.push(r+'; codecs="'+h+'"')}i=Lq(n||{},t.nr,e,s)}for(var a=0,c=t.Eyt;a<c.length;a++){i=Mq(i,Vq(c[a],n))}return i}function Vq(t,n){return Lq(n||{},t.nr,t.Syt||[],[t.mf])}function Wq(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Ryt;r<s.length;r++)u=s[r],e.push(Xq(u,n,i));return h.next=4,Er.awrap(ze.all(e));case 4:return o=h.sent,h.abrupt("return",{d_:t.Nyt.Iyt(),Dyt:[t.Cyt],Ryt:o});case 6:case"end":return h.stop()}},null,null,null,ze)}function Xq(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.xyt;r<s.length;r++)u=s[r],e.push(qq(u,n,i));return h.next=4,Er.awrap(ze.all(e));case 4:return o=h.sent,h.abrupt("return",{Oyt:o});case 6:case"end":return h.stop()}},null,null,null,ze)}function qq(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:for(e=[],r=0,s=t.Pyt;r<s.length;r++)Gq(u=s[r])||e.push(jq(u,n,i));return h.next=4,Er.awrap(ze.all(e));case 4:return o=h.sent,h.abrupt("return",{qk:o,nr:t.nr});case 6:case"end":return h.stop()}},null,null,null,ze)}function Gq(t){return t.Eyt.every(Yq)}!function(t){t[t.Ql=0]="Ql",t[t.Yl=1]="Yl"}(Pq||(Pq={}));var Qq=1;function Yq(t){return t.Byt!==Qq&&Boolean(t.Byt)}function jq(t,n,i){var e,r,s,u,o,h,a,c,f;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:for(e=[],r=0,s=t.Eyt;r<s.length;r++)Yq(u=s[r])||e.push(Jq(u,i));return v.next=4,Er.awrap(ze.all(e));case 4:return o=v.sent,h=t.VZ[0],a=t.Syt,c=a?Zq(h,a):void 0,f=zq(t,n),v.abrupt("return",{kl:o,yl:t.Lyt,nr:t.nr,IE:c,Myt:f});case 10:case"end":return v.stop()}},null,null,null,ze)}function Zq(t,n){for(var i=[],e=function(t){return t?us(t,"avc")?tc.VIDEO_H264:us(t,"hev")||us(t,"hvc")||us(t,"hvt")||us(t,"lhv")||us(t,"lhe")||us(t,"lht")?tc.VIDEO_H265:us(t,"mp4")?tc.VIDEO_MP4:us(t,"mpeg2")?tc.VIDEO_MPEG2:us(t,"mpeg")?tc.VIDEO_MPEG:tc.VIDEO_UNKNOWN:tc.VIDEO_UNKNOWN}(t),r=0;r<n.length;r++){var s=n[r],u=s.myt.split(":").pop(),o=s.yyt;i.push({mimeType:e,uuid:u,data:o})}return{type:Pq.Ql,schemeType:Hr,schemeDatas:i}}function Jq(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Er.awrap($q(t,n));case 2:r=u.sent,s={_l:tG(t),jb:r,x8:t.L8,xS:t.xS,ae:t.ae,hp:t.hp,nr:t.nr,Rw:t.Rw},u.t0=t.nr,u.next=u.t0===my.On?7:u.t0===my.$f?8:u.t0===my.Jf?10:12;break;case 7:return u.abrupt("break",13);case 8:return s.d$=null!=(i=null==(e=t.d$)?void 0:e.Nw())?i:NaN,u.abrupt("break",13);case 10:return s.audioSamplingRate=t.ogt,u.abrupt("break",13);case 12:0;case 13:return u.abrupt("return",s);case 14:case"end":return u.stop()}},null,null,null,ze)}function $q(t,n){var i,e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=t.Uyt,r=e.Fyt(),s=r;case 4:if(!s){c.next=16;break}if(!t.Hyt(s)){c.next=12;break}return c.next=8,Er.awrap(t.zyt(s,n,(new Fs).Pr));case 8:for(u=c.sent,o=0;o<u.sl;o++)i.push(Kq(u.Vyt(o),t));c.next=13;break;case 12:i.push(Kq(s,t));case 13:s=e.Gdt(s),c.next=4;break;case 16:return h=e.Wyt(),a=h.nw-r.tw,c.abrupt("return",{d_:a,gK:i});case 19:case"end":return c.stop()}},null,null,null,ze)}function Kq(t,n){return{tw:t.tw,d_:t.d_,Xyt:n.qyt(t)}}function tG(t){return t.Gyt.RR+"-"+(""+t._l)}function nG(t,n){return function(t,n){var i={};for(var e in t){var r=t[e];for(var s in i[e]={},r){var u=[];i[e][s]=[];for(var o=r[s],h=0;h<o.length;h++){var a=o[h],c=iG(a,e,n);u.push(c)}i[e][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var e=t[i];n[e["group-id"]]||(n[e["group-id"]]={nr:e.type,tp:[]}),n[e["group-id"]].tp.push(e)}return n}(t),i={};for(var e in n)for(var r=n[e],s=0,u=r.tp;s<u.length;s++){var o=u[s];i[r.nr]||(i[r.nr]={}),i[r.nr][o.name]||(i[r.nr][o.name]=[]),i[r.nr][o.name].push(o)}return i}(t),n)}function iG(t,n,i){for(var e=t["group-id"],r={sZ:t,zJ:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===e&&r.zJ.push(u)}return r}var eG,rG="und";function sG(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(n.r9([t],{}));case 2:return i=r.sent,e=new wU,r.abrupt("return",e.Dk(i.Q8,i.Lf,EU(i.Lf)));case 5:case"end":return r.stop()}},null,null,null,ze)}function uG(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.isMasterPlaylist){i.next=4;break}return i.abrupt("return",oG(t,n));case 4:return i.abrupt("return",(r=void 0,r=gG(e=t),{d_:e.duration,Dyt:[e.uri],Ryt:[{Oyt:[{nr:my.Ff,qk:[{nr:my.Ff,yl:rG,kl:[{_l:e.uri,jb:r,xS:0,ae:"",hp:0,nr:my.Ff,Rw:0}]}]}]}]}));case 5:case"end":return i.stop()}var e,r},null,null,null,ze)}function oG(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return i=nG(t.media,t.streams),s.next=3,Er.awrap(cG(i,n));case 3:return e=s.sent,s.next=6,Er.awrap(aG(t.streams,n));case 6:return r=s.sent,e.push(r),s.abrupt("return",{d_:hG(e),Dyt:[t.uri],Ryt:[{Oyt:e}]});case 9:case"end":return s.stop()}},null,null,null,ze)}function hG(t){for(var n=-1/0,i=0;i<t.length;i++)for(var e=0,r=t[i].qk;e<r.length;e++){var s=r[e];n=_.max.apply(_,[n].concat(s.kl.map(function(t){return t.jb.d_})))}return n}function aG(t,n){var i,e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:i=[],e=0;case 2:if(!(e<t.length)){c.next=15;break}return h=t[e],c.next=6,Er.awrap(_G(h.uri,n));case 6:(a=c.sent).xS=h.bandwidth,a.ae=h.codecs,a.hp=null!=(r=null==(s=h.resolution)?void 0:s.height)?r:0,a.Rw=null!=(u=null==(o=h.resolution)?void 0:o.width)?u:0,i.push(a);case 12:e++,c.next=2;break;case 15:return c.abrupt("return",{nr:my.Ff,qk:[{yl:rG,nr:my.Ff,kl:i}]});case 16:case"end":return c.stop()}},null,null,null,ze)}function cG(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:i=[],u.t0=Er.keys(t);case 2:if((u.t1=u.t0()).done){u.next=11;break}return e=u.t1.value,r=t[e],u.next=7,Er.awrap(fG(r,e,n));case 7:s=u.sent,i.push(s),u.next=2;break;case 11:return u.abrupt("return",i);case 12:case"end":return u.stop()}},null,null,null,ze)}function fG(t,n,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=[],o.t0=Er.keys(t);case 2:if((o.t1=o.t0()).done){o.next=11;break}return r=o.t1.value,s=t[r],o.next=7,Er.awrap(vG(s,i));case 7:u=o.sent,e.push(u),o.next=2;break;case 11:return o.abrupt("return",{nr:dG(n),qk:e});case 12:case"end":return o.stop()}},null,null,null,ze)}function vG(t,n){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:i=[],e=t[0].sZ,r=0;case 3:if(!(r<t.length)){o.next=12;break}return s=t[r],o.next=7,Er.awrap(lG(s,n));case 7:u=o.sent,i.push(u);case 9:r++,o.next=3;break;case 12:return o.abrupt("return",{yl:e.language||rG,nr:dG(e.type),kl:i});case 13:case"end":return o.stop()}},null,null,null,ze)}function dG(t){switch(t.toUpperCase()){case"AUDIO":return my.Jf;case"VIDEO":return my.$f;case"SUBTITLES":case"CLOSED-CAPTIONS":return my.On;default:return my.Ff}}function lG(t,n){var i,e,r;return _G((e=(i=t).sZ.uri,r=i.zJ.map(function(t){return t.uri}),e||(r.length?r[0]:void 0)),n)}function _G(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=7;break}return r.next=3,Er.awrap(sG(t,n));case 3:e=r.sent,i=gG(e),r.next=8;break;case 7:i={d_:0,gK:[]};case 8:return r.abrupt("return",{_l:t||"default",Qyt:t,jb:i,xS:0,ae:"",hp:0,nr:my.Ff,Rw:0});case 9:case"end":return r.stop()}},null,null,null,ze)}function gG(t){for(var n=[],i=0,e=t.fragments;i<e.length;i++){var r=e[i];n.push(wG(r))}return{d_:t.duration,gK:n}}function wG(t){return{tw:t.start,d_:t.duration,Xyt:mG(t.uri)}}function mG(t){return DP(t)?{Mf:t.oj,hj:[t.hj.RR,t.hj.NR],sv:!1}:{Mf:t.toString(),sv:!1}}!function(t){t.EA="static",t.RA="dynamic"}(eG||(eG={}));var yG,kG=31536e3,pG=2592e3,bG=86400,AG=3600,TG=60,SG=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,EG=function(){function t(t){this.Yyt=void 0;var n=t.match(SG);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,e=Number(n[2])||0,r=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Yyt=i*kG+e*pG+r*bG+s*AG+u*TG+o}var n=t.prototype;return n.Iyt=function(){return this.Yyt},n.jyt=function(){return 1e3*this.Yyt},A(t,[{key:"c1",get:function(){return mk.Om(this.Yyt,1e3)}}]),t}();!function(t){t.Zyt="progressive",t.Jyt="interlaced",t.Ff="unknown"}(yG||(yG={}));var RG=function(){function t(t,n){this.$yt=t,this.Kyt=n}return t.prototype.Nw=function(){return this.$yt/this.Kyt},t}(),IG=/^(?:true|false)$/i,NG=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function DG(t){if(void 0!==t)return new EG(t)}function CG(t){if(void 0!==t){var n=t.match(NG);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],e=n[2],r=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(e),g=Number(r)-1,w=Number(s),y=Number(u),k=Number(o),p=Number(h),b=Number("0."+(a||"")),A=_.round(1e3*b);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,y,k,p,A));if(m(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function xG(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[PG(n[1]),PG(n[2])]}}function OG(t){if(void 0!==t){if(!m(Number(t)))try{return ct.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function PG(t){if(void 0!==t){var n=Number(t);if(!m(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function BG(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),e=Number(n[1]||1);if(!m(i)&&!m(e))return new RG(i,e);throw new v("The given value could not be parsed as a valid frame rate")}}function LG(t){if(void 0!==t){if(IG.test(t))return"true"===t.toLowerCase();if(!m(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function MG(t){return{Mf:t.hi,tkt:LG(t.ni("availabilityTimeComplete")),nkt:PG(t.ni("availabilityTimeOffset"))}}function UG(t){return t.map(MG)}function FG(t){var n,i,e,r,s,u,o=ZG(t),h=(i="default_KID",e="urn:mpeg:cenc:2013",r="cenc",void 0===(s=(n=t).ii(e,i))&&(s=n.ni(r+":"+i)),s),a=xp(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Ru(a.hi)),!u){var c=xp(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=yu(t.hi),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),e=n.length,r=12+i.length+4+e,s=new ArrayBuffer(r),u=new y(s),o=new DataView(s),h=new So;Zu(o,h,r),Zu(o,h,1886614376),Zu(o,h,0),Xu(o,h,i),Zu(o,h,e),Xu(o,h,n),0;return u.buffer}(c))}return{qA:h,yyt:u,myt:o.myt,qn:o.qn}}function HG(t){return{ikt:t.ni("sourceURL"),hj:xG(t.ni("range"))}}function zG(t,n){var i=t.ni("d"),e=t.ni("t"),r=PG(t.ni("r"));n.push({d_:i,tw:e,ekt:r})}function VG(t){return{R6:t.ni("index"),rkt:xG(t.ni("indexRange")),tp:t.ni("media"),skt:xG(t.ni("mediaRange"))}}function WG(t){var n,i;return Rr({},GG(t),{ukt:(n=t.Yn("SegmentURL"),(i=n.map(VG)).length>0?i:void 0),okt:t.ni("xlink:href"),hkt:t.ni("xlink:actuate")})}function XG(t){var n=t.map(WG);return n.length>0?n:void 0}function qG(t){var n=LG(t.ni("availabilityTimeComplete")),i=PG(t.ni("availabilityTimeOffset")),e=xG(t.ni("indexRange")),r=LG(t.ni("indexRangeExact")),s=t.Yn("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one Initialization element.");var u=1===s.length?HG(s[0]):void 0,o=OG(t.ni("presentationTimeOffset")),h=t.Yn("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one RepresentationIndex element.");return{tkt:n,nkt:i,rkt:e,akt:r,ckt:u,fkt:o,vkt:1===h.length?HG(h[0]):void 0,dkt:DG(t.ni("timeShiftBufferDepth")),bm:PG(t.ni("timescale"))}}function GG(t){var n=qG(t),i=t.Yn("BitstreamSwitching"),e=i.length>0?HG(i[0]):void 0,r=PG(t.ni("duration")),s=t.Yn("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.Zn+" element can not have more than one SegmentTimeline element.");return Rr({},n,{lkt:e,d_:r,Uyt:1===s.length?function(t){for(var n=[],i=t.Yn("S"),e=0;e<i.length;e++)zG(i[e],n);return n}(s[0]):void 0,_kt:PG(t.ni("startNumber")),gkt:PG(t.ni("endNumber"))})}function QG(t){return Rr({},GG(t),{wkt:t.ni("bitstreamSwitching"),mkt:t.ni("index"),ykt:t.ni("initialization"),kkt:t.ni("media")})}function YG(t){return{ogt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(PG)):1===n.length?n.map(PG)[0]:void 0}}(t.ni("audioSamplingRate")),VZ:t.ni("codecs"),pkt:LG(t.ni("codingDependency")),Syt:function(t){if(0!==t.length)return t.map(FG)}(t.Yn("ContentProtection")),bkt:t.Yn("EssentialProperty").map(JG),d$:BG(t.ni("frameRate")),hp:PG(t.ni("height")),Byt:PG(t.ni("maxPlayoutRate")),Akt:PG(t.ni("maximumSAPPeriod")),GD:t.ni("mimeType"),Tkt:t.ni("profiles"),Skt:t.ni("sar"),Ekt:function(t){switch(t){case yG.Zyt:case yG.Jyt:case yG.Ff:return t;default:return}}(t.ni("scanType")),Rkt:t.ni("segmentProfiles"),Ikt:PG(t.ni("startWithSAP")),Rw:PG(t.ni("width"))}}function jG(t){var n=YG(t),i=PG(t.ni("bandwidth")),e=UG(t.Yn("BaseURL")),r=t.ni("dependencyId"),s=t.ni("id"),u=t.ni("mediaStreamStructureId"),o=PG(t.ni("qualityRanking")),h=t.Yn("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?qG(h[0]):void 0,c=XG(t.Yn("SegmentList")),f=t.Yn("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return Rr({},n,{xS:i,Nkt:e,Dkt:r,_l:s,Ckt:u,xkt:o,Okt:a,Pkt:c,Bkt:1===f.length?QG(f[0]):void 0})}function ZG(t){return{myt:t.ni("schemeIdUri"),qn:t.ni("value")}}function JG(t){return ZG(t)}function $G(t){return ZG(t)}function KG(t){return ZG(t)}function tQ(t){var n,i=YG(t),e=function(t){return t.map(KG)}(t.Yn("Accessibility")),r=UG(t.Yn("BaseURL")),s=LG(t.ni("bitstreamSwitching")),u=t.ni("contentType"),o=PG(t.ni("group")),h=PG(t.ni("id")),a=(null==(n=t.Yn("Label")[0])?void 0:n.hi)||"",c=t.ni("lang"),f=PG(t.ni("maxBandwidth")),d=BG(t.ni("maxFrameRate")),l=PG(t.ni("maxHeight")),_=PG(t.ni("maxWidth")),g=PG(t.ni("minBandwidth")),w=BG(t.ni("minFrameRate")),m=PG(t.ni("minHeight")),y=PG(t.ni("minWidth")),k=t.ni("par"),p=t.Yn("Representation").map(jG);if(0===p.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var b=function(t){return t.map($G)}(t.Yn("Role")),A=LG(t.ni("segmentAlignment"))||!1,T=t.Yn("SegmentBase");if(T.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var S=1===T.length?qG(T[0]):void 0,E=XG(t.Yn("SegmentList")),R=t.Yn("SegmentTemplate");if(R.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var I,N=1===R.length?QG(R[0]):void 0,D=PG(t.ni("selectionPriority")),C=D||1,x=LG(t.ni("subsegmentAlignment"))||!1;try{I=PG(t.ni("subsegmentStartsWithSAP"))}catch(t){}return Rr({},i,{Lkt:e,Nkt:r,lkt:s,mf:u,Mkt:o,_l:h,ml:a,yl:c,Ukt:f,Fkt:d,Hkt:l,zkt:_,Vkt:g,Wkt:w,Xkt:m,qkt:y,Gkt:k,Eyt:p,Qkt:b,Ykt:A,Okt:S,Pkt:E,Bkt:N,jE:C,jkt:x,Zkt:I,Jkt:t.ni("xlink:actuate")||"onRequest",$kt:t.ni("xlink:href")})}function nQ(t){var n=OG(t.ni("presentationTime"))||ct.ZERO,i=OG(t.ni("duration")),e=PG(t.ni("id")),r=function(t){for(var n=t.oi,i={},e=0;e<n.length;e++)i[n[e].Vn]=n[e].qn;return i}(t),s=t.hi;return{Cb:n,d_:i,_l:e,oi:r,ai:""!==s.trim()?s:t.ni("messageData")||""}}function iQ(t){return{$kt:t.ni("xlink:href"),Jkt:t.ni("xlink:actuate"),myt:t.ni("schemeIdUri"),qn:t.ni("value"),bm:PG(t.ni("timescale")),fkt:OG(t.ni("presentationTimeOffset")),QD:t.Yn("Event").map(nQ)}}function eQ(t,n){var i=t.Yn("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var e=1===i.length?ZG(i[0]):void 0,r=t.Yn("AdaptationSet").map(tQ),s=UG(t.Yn("BaseURL")),u=LG(t.ni("bitstreamSwitching")),o=DG(t.ni("duration")),h=t.Yn("EventStream").map(iQ),a=t.ni("id"),c=n&&DG(n.ni("start")),f=t.Yn("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?qG(f[0]):void 0,l=XG(t.Yn("SegmentBase")),_=t.Yn("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?QG(_[0]):void 0,w=DG(t.ni("start"));t.Yn("Subset");var m=t.ni("xlink:href");return{Pyt:r,Kkt:e,Nkt:s,lkt:u,d_:o,tpt:h,_l:a,npt:c,Okt:d,Pkt:l,Bkt:g,RR:w,Jkt:t.ni("xlink:actuate"),$kt:m}}function rQ(t){var n=t.ni("schemeIdUri");if(n)return{myt:n,qn:t.ni("value")}}function sQ(t,n){var i=CG(t.ni("availabilityEndTime")),e=CG(t.ni("availabilityStartTime")),r=UG(t.Yn("BaseURL")),s=t.ni("id"),u=t.Yn("Location").map(function(t){return""+t.hi}),o=DG(t.ni("maxSegmentDuration")),h=DG(t.ni("maxSubsegmentDuration")),a=DG(t.ni("mediaPresentationDuration"));t.Yn("Metrics");var c=DG(t.ni("minBufferTime"));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=DG(t.ni("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(eQ(t[i],t[i+1]));return n}(t.Yn("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.ni("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{ipt:i,ept:e,Nkt:r,_l:s,rpt:u,spt:n,upt:o,hpt:h,Nyt:a,apt:c,cpt:f,Ryt:d,Tkt:l,fpt:CG(t.ni("publishTime")),vpt:DG(t.ni("suggestedPresentationDelay")),dkt:DG(t.ni("timeShiftBufferDepth")),nr:function(t){switch(t){case eG.EA:case eG.RA:return t;default:return}}(t.ni("type")),dpt:function(t){for(var n=[],i=0;i<t.length;i++){var e=rQ(t[i]);e&&n.push(e)}return n}(t.Yn("UTCTiming"))}}var uQ,oQ=function(){function t(){}return t.prototype.Twt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return sQ(t,n)}(i.Mn(t).ci,n)},t}(),hQ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).gl=void 0,u.Fg=void 0,u.lpt=void 0,u._l=n,u.xS=i,u.VZ=e,u.oj=s,u.gl=Ry(),u.Fg=r||"",u.lpt=!0,u}return S(n,t),n.prototype.lA=function(){this.lpt=!1,this.Fr(new Zz(this.Ed))},A(n,[{key:"ml",get:function(){return this.Fg},set:function(t){this.Fg!==t&&(this.Fg=t,this.Fr(new Zz(this.Ed)))}},{key:"XZ",get:function(){}},{key:"OQ",get:function(){return this.lpt}}]),n}(iu),aQ=function(t){function n(n,i,e,r,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,e,r,s)||this).Sd=void 0,c.d$=u,c.Rw=o,c.hp=h,c.ugt=a,c}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=Jz(this)),this.Sd}}]),n}(hQ),cQ=function(t){function n(n,i,e,r,s,u){var o;return(o=t.call(this,n,i,e,r,s)||this).Sd=void 0,o.ogt=u,o}return S(n,t),A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=$z(this)),this.Sd}}]),n}(hQ);!function(t){t._pt="gpt",t.wpt="mpt"}(uQ||(uQ={}));var fQ=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).ypt=function(t){n.Fr(t)},n}return S(n,t),A(n,[{key:"kpt",get:function(){var t=this.ppt();return null==t?void 0:t.RR}},{key:"bpt",get:function(){var t=this.ppt();return null==t?void 0:t.NR}}]),n}(iu);function vQ(t){return j(t.Apt)}var dQ=function(t){function n(n,i){var e;if((e=t.call(this)||this).Tpt=void 0,e.Sd=void 0,e.Spt=void 0,e.Ept=void 0,e.Rpt=void 0,e.Tpt=n,e.Spt=i,e.Spt.Hr(uQ._pt,e.ypt),e.nr===my.$f){var r,s,u=null!=(r=null==(s=e.d$)?void 0:s.Nw())?r:NaN;e.Ept=new aQ(e._l,e.xS,e.ae,"","",u,e.Rw,e.hp)}else e.nr===my.Jf?e.Ept=new cQ(e._l,e.xS,e.ae,"","",e.ogt):e.Ept=void 0;return e}S(n,t);var i=n.prototype;return i.qyt=function(t){var n=vQ(t)?this.Spt.Ipt(t):this.Spt.qyt(t);return{Mf:n.Mf,hj:n.hj,sv:this.Npt.sv}},i.Dpt=function(){return this.Spt.Dpt()},i.ppt=function(){return this.Spt.ppt()},i.Cpt=function(){return this.Spt.Cpt()},i.Hyt=function(t){return this.Spt.Hyt(t)},i.zyt=function(t,n,i){return this.Spt.zyt(t,this.Npt.sv,n,i)},i.xpt=function(t){return vQ(t)?this.Uyt.Opt(t):this.Uyt.xpt(t)},i.l5=function(t){return vQ(t)?this.Uyt.Ppt(t):this.Uyt.l5(t)},i.hv=function(){this.Spt.Xr(uQ._pt,this.ypt)},A(n,[{key:"Bpt",get:function(){return this.Tpt}},{key:"ogt",get:function(){var t;return null!=(t=this.Spt.ai.ogt)?t:this.Bpt.ogt}},{key:"xS",get:function(){return this.Spt.ai.xS||0}},{key:"VZ",get:function(){var t=this.Spt.ai;return t.VZ?[t.VZ]:this.Bpt.VZ}},{key:"Lpt",get:function(){var t=this.Spt.ai;return t.VZ?[t.VZ]:[]}},{key:"ae",get:function(){return this.Spt.ai.VZ||this.Bpt.ae}},{key:"pkt",get:function(){return this.Spt.ai.pkt||this.Bpt.pkt}},{key:"Syt",get:function(){return this.Spt.ai.Syt||this.Bpt.Syt}},{key:"mf",get:function(){return this.GD+'; codecs="'+this.ae+'"'}},{key:"bkt",get:function(){var t=this.Spt.ai;return t.bkt.length?t.bkt:this.Bpt.bkt}},{key:"Ed",get:function(){return this.Sd||(this.Sd=(t=this,{get id(){return t._l},get type(){return t.nr},get bandwidth(){return t.xS},get width(){return t.Rw},get height(){return t.hp},get frameRate(){var n,i;return null!=(n=null==(i=t.d$)?void 0:i.Nw())?n:NaN},get audioSamplingRate(){return t.ogt}}));var t}},{key:"d$",get:function(){var t;return null!=(t=this.Spt.ai.d$)?t:this.Bpt.d$}},{key:"hp",get:function(){return this.Spt.ai.hp||this.Bpt.hp}},{key:"_l",get:function(){return this.Spt.ai._l||""}},{key:"o4",get:function(){return this.Rpt},set:function(t){this.Rpt=t}},{key:"L8",get:function(){var t=this.Spt.Mpt();if(t)return{Mf:t.Mf,hj:t.hj,sv:this.Npt.sv}}},{key:"Byt",get:function(){return this.Spt.ai.Byt||this.Bpt.Byt||1}},{key:"Akt",get:function(){return this.Spt.ai.Akt||this.Bpt.Akt}},{key:"Npt",get:function(){return this.Gyt.Npt}},{key:"GD",get:function(){return this.Spt.ai.GD||this.Bpt.GD}},{key:"Gyt",get:function(){return this.Bpt.Gyt}},{key:"Tkt",get:function(){return this.Spt.ai.Tkt||this.Bpt.Tkt}},{key:"egt",get:function(){return this.Ept}},{key:"Skt",get:function(){return this.Spt.ai.Skt||this.Bpt.Skt}},{key:"Ekt",get:function(){return this.Spt.ai.Ekt||this.Bpt.Ekt}},{key:"Upt",get:function(){return this.Spt.Upt}},{key:"Rkt",get:function(){return this.Spt.ai.Rkt||this.Bpt.Rkt}},{key:"Uyt",get:function(){return this.Spt.Uyt}},{key:"Ikt",get:function(){return this.Spt.ai.Ikt||this.Bpt.Ikt}},{key:"nr",get:function(){var t=this.GD.split("/")[0];return"application"===t||"text"===t||sb(this.GD,this.VZ)?my.On:"video"===t?my.$f:"audio"===t?my.Jf:"image"===t?my.Kf:my.Ff}},{key:"Rw",get:function(){return this.Spt.ai.Rw||this.Bpt.Rw}}]),n}(fQ),lQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).Fpt=[],e.Spt=void 0,e.Hpt=void 0,e.zpt=[],e.Hpt=n,e.Spt=i,e.Spt.Hr(uQ._pt,e.ypt),e}S(n,t);var i=n.prototype;return i.Zo=function(t,n){var i,e=this;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==this.zpt.length){r.next=6;break}return this.zpt=[],i=this.Spt.Eyt.map(function(i){return e.Vpt(i,t,n)}),r.next=5,Er.awrap(ze.all(i));case 5:this.zpt=r.sent.filter(F);case 6:this.Wpt();case 7:case"end":return r.stop()}},null,this,null,ze)},i.Vpt=function(t,n,i){var e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=new dQ(this,t),s.next=3,Er.awrap(n(e));case 3:if(r=s.sent,Vs(i),r){s.next=7;break}return s.abrupt("return",void 0);case 7:return s.abrupt("return",e);case 8:case"end":return s.stop()}},null,this,null,ze)},i.Wpt=function(){if(!this.zpt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.ppt=function(){return this.Spt.ppt()},i.Cpt=function(){return this.Spt.Cpt()},i.hv=function(){this.Spt.Xr(uQ._pt,this.ypt);for(var t=0,n=this.zpt;t<n.length;t++){n[t].hv()}Ps(this.zpt)},A(n,[{key:"Lkt",get:function(){return this.Spt.ai.Lkt}},{key:"ogt",get:function(){var t;return null!=(t=this.Spt.ai.ogt)?t:-1}},{key:"VZ",get:function(){if(this.Spt.ai.VZ)return[this.Spt.ai.VZ];for(var t=[],n=0,i=this.Eyt;n<i.length;n++){var e=i[n];e.Lpt.length&&-1===t.indexOf(e.ae)&&t.push(e.ae)}return t}},{key:"ae",get:function(){return this.VZ.join()}},{key:"pkt",get:function(){return this.Spt.ai.pkt}},{key:"Syt",get:function(){return this.Spt.ai.Syt}},{key:"mf",get:function(){return this.GD+'; codecs="'+this.ae+'"'}},{key:"bkt",get:function(){return this.Fpt}},{key:"d$",get:function(){return this.Spt.ai.d$}},{key:"Mkt",get:function(){return this.Spt.ai.Mkt}},{key:"hp",get:function(){return this.Spt.ai.hp||0}},{key:"_l",get:function(){return this.Spt.ai._l}},{key:"ml",get:function(){return this.Spt.ai.ml||""}},{key:"Byt",get:function(){return this.Spt.ai.Byt}},{key:"Akt",get:function(){return this.Spt.ai.Akt}},{key:"Npt",get:function(){return this.Gyt.Npt}},{key:"GD",get:function(){return this.Spt.ai.GD||this.zpt[0].GD}},{key:"Gyt",get:function(){return this.Hpt}},{key:"Tkt",get:function(){return this.Spt.ai.Tkt}},{key:"Eyt",get:function(){return this.zpt}},{key:"Qkt",get:function(){return this.Spt.ai.Qkt||[]}},{key:"Skt",get:function(){return this.Spt.ai.Skt}},{key:"Ekt",get:function(){return this.Spt.ai.Ekt}},{key:"Rkt",get:function(){return this.Spt.ai.Rkt}},{key:"jE",get:function(){return this.Spt.ai.jE}},{key:"Ikt",get:function(){return this.Spt.ai.Ikt}},{key:"nr",get:function(){var t=(this.Spt.ai.mf||this.GD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||sb(this.GD,this.VZ)?my.On:"video"===t?my.$f:"audio"===t?my.Jf:"image"===t?my.Kf:my.Ff}},{key:"Rw",get:function(){return this.Spt.ai.Rw||0}},{key:"Lyt",get:function(){return this.Spt.ai.yl||""}},{key:"Xpt",get:function(){return this.kpt}},{key:"qpt",get:function(){var t=this.Xpt,n=this.bpt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.Npt.Gpt);return _.max(t,i)}}}]),n}(fQ);function _Q(t,n){for(var e=[],r=0;r<n.length;r++)for(var s=n[r],u=0;u<t.length;u++){var o=t[u];e.push(i.Ce(o,s))}return e}var gQ=function(){function t(t,n){this.Hpt=void 0,this.Qpt=void 0,this.bu=void 0,this.Ypt=void 0,this.jpt=void 0,this.Hpt=t,this.Qpt=n,this.bu=n.bm,this.Ypt=n.nkt,this.jpt=n.fkt}var n=t.prototype;return n.Zpt=function(t){var n=t-this.Hpt.RR;if(!(n<0||n>=this.Hpt.d_)){var i=this.Jpt();return void 0!==i&&Lt(i,n,1e-5)?this.Fyt():this.$pt(n)}},n.Kpt=function(t){var n=t-this.Hpt.RR;if(!(n<0))return this.tbt(_.min(n,this.Hpt.d_))},n.Fyt=function(){return this.nbt(0)},n.Wyt=function(){var t=this.Hpt.d_;if(isFinite(t))return this.tbt(t)},n.Dpt=function(t){if(this.Hpt.ibt.nr===eG.RA){var n=this.ebt(t);if(!n)return;return{rbt:t,sbt:this.ubt(t),obt:n}}var i=this.Fyt();if(i)return{rbt:t,sbt:i,obt:this.Wyt()}},n.Cpt=function(t,n){if(n){var i=this.hbt(n.sbt),e=this.Gdt(n.obt);if(e){var r=this.abt(e);(!i||r.getTime()<i.getTime())&&(i=r)}return i}var s=this.Fyt();if(s){var u=this.abt(s);if(t.getTime()<u.getTime())return u}var o=this.Hpt.ibt.ept;return t.getTime()<o.getTime()?o:void 0},n.ebt=function(t){var n=(t.getTime()-this.Hpt.ibt.ept.getTime())/1e3-this.Hpt.RR+this.Ypt,i=this.tbt(Bt(n,0,this.Hpt.d_));if(i&&(i=this.cbt(i,t))){for(var e=this.Gdt(i);e&&this.fbt(e,t);)i=e,e=this.Gdt(i);return i}},n.ubt=function(t){var n,i=this.Qpt.dkt;if(i){var e=(t.getTime()-this.Hpt.ibt.ept.getTime())/1e3-this.Hpt.RR-i.Iyt();(n=this.tbt(Bt(e,0,this.Hpt.d_)))||(n=this.Fyt())}else n=this.Fyt();if(n&&(n=this.cbt(n,t))){for(var r=this.vbt(n);r&&this.fbt(r,t);)n=r,r=this.vbt(n);return n}},n.cbt=function(t,n){for(var i=t;i&&this.abt(i).getTime()>n.getTime();)i=this.vbt(i);if(i){var e=this.hbt(i);if(e&&e.getTime()<=n.getTime()){var r=this.vbt(i);for(r&&this.fbt(r,n)&&(i=r);i;){if(this.abt(i).getTime()>n.getTime())return;if(this.fbt(i,n))break;i=this.Gdt(i)}if(!i)return}return i}},n.fbt=function(t,n){if(this.abt(t).getTime()>n.getTime())return!1;var i=this.hbt(t);return!(i&&n.getTime()>=i.getTime())},n.dbt=function(t,n){if(this.lbt(t).getTime()>n.getTime())return!1;var i=this.hbt(t);return!(i&&n.getTime()>=i.getTime())},n._bt=function(t,n,i){var e=qt(n,this.bu)+this.Hpt.RR;return{R6:t,gbt:n,tw:e,d_:i,nw:e+i}},n.lbt=function(t){return this.Hpt.ibt.nr===eG.RA?new Date(this.Hpt.ibt.ept.getTime()+1e3*(t.tw+t.d_)):this.Hpt.ibt.ept},n.abt=function(t){var n=this.lbt(t);return this.Hpt.ibt.nr===eG.RA?new Date(n.getTime()-1e3*this.Ypt):n},n.hbt=function(t){var n=1/0;if(this.Hpt.ibt.nr===eG.RA){var i=this.Qpt.dkt;i&&(n=this.lbt(t).getTime()+1e3*t.d_+i.jyt())}var e=this.Hpt.ibt.ipt;return e&&(n=_.min(n,e.getTime())),n===1/0?void 0:new Date(n)},n.wbt=function(t,n){return t.R6+n},n.Hyt=function(t){return!1},n.zyt=function(t,n,i,e,r){var s=this.mbt(t);if(!s)return ze.reject(new v("Invalid segment"));var u=this.ybt(s.R6);return u?ze.resolve(u):this.kbt(s.R6,n,i,e,r)},n.ybt=function(t){},n.kbt=function(t,n,i,e,r){return ze.reject(new v("Not supported"))},n.vbt=function(t){var n=this.mbt(t);if(n)return this.nbt(n.R6-1)},n.Gdt=function(t){var n=this.mbt(t);if(n)return this.nbt(n.R6+1)},n.mbt=function(t){var n=this.nbt(t.R6);if(n&&n.tw===t.tw)return n;var i=this.Zpt(t.tw);return i&&i.tw===t.tw?i:void 0},n.pbt=function(t){var n=this.bbt(t);if(n&&this.Hyt(n.R6)){var i=this.ybt(n.R6);if(i)return i.pbt(t)}},n.bbt=function(t){return this.nbt(t.Abt)},n.xpt=function(t){var n=this.mbt(t);return!!n&&0===n.R6},n.Opt=function(t){var n=this.pbt(t);return!!n&&0===n.Apt},n.l5=function(t){var n=this.mbt(t);if(!n)return!1;var i=this.Wyt();return!!i&&n.R6===i.R6},n.Ppt=function(t){var n=this.pbt(t);if(!n)return!1;var i=this.Wyt();if(!i||n.Abt!==i.R6)return!1;var e=this.ybt(n.Abt);return n.Apt+1===e.sl},A(t,[{key:"Km",get:function(){return this.Hpt.RR-qt(this.jpt,this.bu)}},{key:"fkt",get:function(){return qt(this.jpt,this.bu)}}]),t}(),wQ=function(t){function n(n,i){var e;(e=t.call(this,i,n)||this).Tbt=void 0,e.Sbt=void 0;var r=n.Ebt,s=n.d_;if(void 0===r||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return e.Sbt=r,e.Tbt=s,e}S(n,t);var i=n.prototype;return i.nbt=function(t){if(!(t<0)){var n=this.Sbt.multiply(t),i=qt(n,this.bu),e=this.Hpt.d_;if(!(i>=e)){var r=this.Rbt();if(void 0!==r){if(t>r)return;if(t===r)return this._bt(t,n,e-i)}return isFinite(e)&&i+this.Tbt>e?this._bt(t,n,e-i):this._bt(t,n,this.Tbt)}}},i.Jpt=function(){return 0},i.$pt=function(t){var n=_.floor(t/this.Tbt),i=this.Rbt();return void 0!==i&&n>=i?this.nbt(i):this.nbt(n)},i.tbt=function(t){if(t>=this.Hpt.d_){var n=_.ceil(this.Hpt.d_/this.Tbt)-1,i=this.Rbt();return void 0!==i&&n>=i?this.nbt(i):this.nbt(n)}return this.$pt(t)},i.Rbt=function(){var t,n=this.Qpt.gkt;if(void 0!==n)return n-(null!=(t=this.Qpt._kt)?t:1);if(isFinite(this.Hpt.d_)){var i=this.Qpt.Ibt;if(void 0!==i&&i>0)return i-1}},i.Nbt=function(){if(isFinite(this.Hpt.d_))return this.Wyt()},i.Dbt=function(t,n){return this.Sbt.multiply(t.R6+(n-1))},i.Zo=function(){},n}(gQ);function mQ(t,n){var i=t.length;if(0===i)return-1;for(var e=0,r=i-1,s=t[e].tw,u=t[r].nw;e<=r&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=e+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(r-e)),h=t[o],a=h.tw,c=o+1<i?t[o+1].tw:h.nw;if(c.lessThanOrEqual(n))e=o+1,s=c;else{if(!n.lessThan(a))return o;r=o-1,u=a}}return-1}var yQ=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).Cbt=[],e.xbt=void 0,e.Obt=ct.ZERO,e.Zo(),e}S(n,t);var i=n.prototype;return i.nbt=function(t){if(!(t<0))return t<this.Cbt.length?this.Cbt[t].Hdt:this.Pbt(t-this.Cbt.length)},i.Jpt=function(){if(this.Cbt.length>0)return qt(this.Cbt[0].tw,this.bu)},i.$pt=function(t){if(this.xbt&&qt(this.xbt.tw,this.bu)<=t){var n=qt(this.xbt.tw,this.bu),i=qt(this.xbt.d_,this.bu),e=_.floor((t-n)/i);return this.Pbt(e)}if(this.Cbt.length>0&&Lt(t,qt(this.Cbt[0].tw,this.bu),1e-5))return this.Cbt[0].Hdt;var r=mQ(this.Cbt,ct.fromNumber(t*this.bu));return r<0?void 0:this.Cbt[r].Hdt},i.tbt=function(t){if(!this.xbt&&this.Cbt.length>0){var n=this.Cbt[this.Cbt.length-1];if(i=t,e=qt(n.nw,this.bu),Rs(i,e,1e-5)>=0)return n.Hdt}var i,e,r=this.Jpt();return r&&t<r?this.Cbt[0].Hdt:this.$pt(t)},i.Nbt=function(){return isFinite(this.Hpt.d_)?this.Wyt():this.nbt(this.Cbt.length-1)},i.Dbt=function(t){return this.Bbt(t)},i.Pbt=function(t){if(this.xbt){var n=this.xbt.tw,i=this.xbt.d_,e=n.add(i.multiply(t)),r=qt(e,this.bu),s=this.Hpt.d_;if(!(r>=s)){var u=this.Cbt.length+t,o=_.min(qt(i,this.bu),r+s);return this._bt(u,e,o)}}},i.Bbt=function(t){return t.gbt.add(this.jpt)},i.Zo=function(){var t=this.Qpt.ai.Uyt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Lbt(t)},i.Lbt=function(t){var n=this.jpt;this.Mbt(t,n);var i=this.Ubt(t);this.Fbt(t,n,i.Hbt,i.Abt)},i.Mbt=function(t,n){var i=this.Cbt;if(0===t.length)Ps(i);else{for(var e=t[0],r=e.tw?ct.fromString(e.tw,!1).subtract(n):ct.ZERO,s=0;s<i.length&&i[s].tw.lessThan(r);)s++;s>0&&i.splice(0,s)}},i.Ubt=function(t){for(var n=this.Cbt,i=this.Obt,e=0,r=0;e<t.length&&r<n.length;){var s=t[e].ekt||0;if(s<0)break;var u=r+s;if(u>=n.length)break;if(n[u].tw.greaterThanOrEqual(i))break;if(n[r].Hdt.R6===r)r=u+1;else for(;r<=u;)n[r].Hdt.R6=r,r++;0,e++}return{Hbt:e,Abt:r}},i.Fbt=function(t,n,i,e){for(var r,s=this.Cbt,u=i,o=e;u<t.length;){var h=t[u],a=ct.fromString(h.d_,!1),c=h.ekt||0,f=void 0;if(h.tw){if(f=ct.fromString(h.tw,!1).subtract(n),o>0){var v=s[o-1];v.nw.greaterThan(f)&&(v.d_=f.subtract(v.tw),v.nw=v.tw.add(v.d_))}}else f=o>0?s[o-1].nw:ct.ZERO;if(c<0){if(u+1===t.length){r={tw:f,d_:a};break}for(var d=ct.fromString(t[u+1].tw,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.zbt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.zbt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Obt=s[s.length-1].tw),this.xbt=r},i.zbt=function(t,n,i,e,r){if(n<t.length){var s=t[n];0,s.d_.equals(e)?s.Hdt.R6=n:t[n]={tw:i,d_:e,nw:r,Hdt:this._bt(n,i,qt(e,this.bu))}}else t.push({tw:i,d_:e,nw:r,Hdt:this._bt(n,i,qt(e,this.bu))})},n}(gQ),kQ=function(){function t(t,n,i){this.Gyt=void 0,this.Vbt=void 0,this.di=void 0,this.Wbt=void 0,this.Xbt=void 0,this.Gyt=t,this.Vbt=n,this.di=i}var n=t.prototype;return n.qbt=function(){if(this.Xbt=this.Gbt(),this.Xbt)return this.Xbt;if(this.Vbt)return this.Vbt.Uyt;throw new v("Missing media segment information.")},n.Mpt=function(t){var n=this.ckt;if(n)return{Mf:(void 0!==n.ikt?i.Ce(n.ikt,t.Nkt[0]):t.Nkt[0]).href,hj:n.hj};var e=this.rkt;return e?{Mf:t.Nkt[0].href,hj:[0,e[0]-1]}:void 0},n.Zo=function(t){this.di=t,this.Xbt&&this.Xbt.Zo()},A(t,[{key:"ai",get:function(){return this.di}},{key:"nkt",get:function(){return this.di&&void 0!==this.di.nkt?this.di.nkt:this.Vbt?this.Vbt.nkt:0}},{key:"fkt",get:function(){return this.di&&void 0!==this.di.fkt?this.di.fkt:this.Vbt?this.Vbt.fkt:ct.ZERO}},{key:"dkt",get:function(){return this.di&&void 0!==this.di.dkt?this.di.dkt:this.Vbt?this.Vbt.dkt:this.Gyt.ibt.dkt}},{key:"bm",get:function(){return this.di&&void 0!==this.di.bm?this.di.bm:this.Vbt&&this.Vbt.bm?this.Vbt.bm:1}},{key:"rkt",get:function(){return this.di&&void 0!==this.di.rkt?this.di.rkt:this.Vbt?this.Vbt.rkt:void 0}},{key:"ckt",get:function(){return this.di&&void 0!==this.di.ckt?this.di.ckt:this.Vbt?this.Vbt.ckt:void 0}},{key:"Uyt",get:function(){return this.Wbt||(this.Wbt=this.qbt()),this.Wbt}}]),t}(),pQ=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Gbt=function(){return this.di.Uyt?new yQ(this,this.Gyt):void 0!==this.di.d_?new wQ(this,this.Gyt):void 0},A(n,[{key:"d_",get:function(){return void 0!==this.di.d_?this.di.d_/this.bm:this.Vbt&&this.Vbt instanceof n?this.Vbt.d_:void 0}},{key:"Ebt",get:function(){return void 0!==this.di.d_?ct.fromNumber(this.di.d_):this.Vbt&&this.Vbt instanceof n?this.Vbt.Ebt:void 0}},{key:"_kt",get:function(){return void 0!==this.di._kt?this.di._kt:this.Vbt&&this.Vbt instanceof n?this.Vbt._kt:void 0}},{key:"gkt",get:function(){return void 0!==this.di.gkt?this.di.gkt:this.Vbt&&this.Vbt instanceof n?this.Vbt.gkt:void 0}}]),n}(kQ),bQ=function(){function t(t){this.Qbt=void 0,this.Qbt=t}return t.prototype.Is=function(t){return this.Qbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,e,r){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===e)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,r);return void 0===u?n:u=fs(u,Number(e),"0")})},t}();var AQ=function(t){function n(n,i,e){var r;return(r=t.call(this,n,i,e)||this).Ybt=void 0,r.jbt=void 0,r.Ybt=e.ykt?new bQ(e.ykt):void 0,r.jbt=e.kkt?new bQ(e.kkt):void 0,r}S(n,t);var e=n.prototype;return e.Mpt=function(n){var e=this.ykt;if(!e)return t.prototype.Mpt.call(this,n);var r=e.Is({Bandwidth:n.ai.xS,RepresentationID:n.ai._l});return{Mf:i.xe(r,n.Nkt[0])}},e.qyt=function(t,n){var e,r=null!=(e=n.Upt._kt)?e:1,s=this.kkt.Is({Bandwidth:n.ai.xS,Number:n.Uyt.wbt(t,r),RepresentationID:n.ai._l,Time:n.Uyt.Dbt(t,r)});return{Mf:i.xe(s,n.Nkt[0])}},e.Ipt=function(t,n){},A(n,[{key:"ykt",get:function(){return this.Ybt?this.Ybt:this.Vbt&&this.Vbt instanceof n?this.Vbt.ykt:void 0}},{key:"kkt",get:function(){return this.jbt?this.jbt:this.Vbt&&this.Vbt instanceof n?this.Vbt.kkt:void 0}},{key:"Ibt",get:function(){}}]),n}(pQ),TQ=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var e=n.prototype;return e.qyt=function(t,n){var e=this.di.ukt[t.R6],r=n.Nkt[0];return{Mf:(e.tp?i.Ce(e.tp,r):r).href,hj:e.skt}},e.Ipt=function(t,n){},A(n,[{key:"Ibt",get:function(){return void 0!==this.di.ukt?this.di.ukt.length:this.Vbt&&this.Vbt instanceof pQ?this.Vbt.Ibt:void 0}}]),n}(pQ),SQ=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this)||this).Abt=void 0,u.Zbt=void 0,u.bm=void 0,u.Jbt=void 0,u.fkt=void 0,u.$bt=void 0,u.Abt=n,u.Zbt=i,u.bm=e.bm,u.Jbt=r,u.fkt=s,u.$bt=u.Kbt(e),u}S(n,t);var i=n.prototype;return i.Vyt=function(t){if(t>=0&&t<this.sl)return this.tAt(this.$bt[t])},i.nAt=function(t){var n=this.iAt(t);if(this.$bt.length>0){var i=this.$bt[0];if(n<=qt(i.tw,this.bm))return this.tAt(i)}var e=mQ(this.$bt,ct.fromNumber(n*this.bm));if(!(e<0))return this.tAt(this.$bt[e])},i.eAt=function(t){var n=this.iAt(t);if(this.$bt.length>0){var i=this.$bt[this.$bt.length-1];if(n>=qt(i.nw,this.bm))return this.tAt(i)}return this.nAt(t)},i.tAt=function(t){var n=qt(t.tw,this.bm)-this.fkt,i=n+this.Jbt,e=qt(t.d_,this.bm);return{Abt:this.Abt,Apt:t.R6,tw:i,gbt:ct.fromNumber(n*this.bm),d_:e,nw:i+e,rAt:[this.Zbt+t.Zbt,this.Zbt+t.sAt]}},i.Kbt=function(t){for(var n=[],i=t.Gb,e=t.Qb.toNumber(),r=0,s=0,u=t.jb;s<u.length;s++){var o=u[s],h=o.zb,a=ct.fromNumber(o.d_),c=i.add(a);0===o.Hb&&n.push({R6:r++,tw:i,d_:a,nw:c,Zbt:e,sAt:e+h-1}),e+=h,i=c}return n},i.iAt=function(t){return t-this.Jbt+this.fkt},A(n,[{key:"sl",get:function(){return this.$bt.length}}]),n}(function(){function t(){}return t.prototype.pbt=function(t){var n=this.Vyt(t.Apt);if(n&&n.tw===t.tw)return n;var i=this.nAt(t.tw);return i&&i.tw===t.tw?i:void 0},t}()),EQ=function(t){function n(n,i){var e;return(e=t.call(this,i,n)||this).uAt=void 0,e.bdt=void 0,e.oAt=void 0,e.uAt=n.rkt,e.bdt=e._bt(0,ct.ZERO,e.Hpt.d_),e}S(n,t);var i=n.prototype;return i.nbt=function(t){if(0===t)return this.bdt},i.Jpt=function(){return 0},i.$pt=function(t){return this.bdt},i.tbt=function(t){return this.$pt(t)},i.Nbt=function(){return this.bdt},i.Dbt=function(t,n){return ct.ZERO},i.Dpt=function(t){var n=this.hAt(t);return n&&{rbt:t,sbt:n,obt:n}},i.hAt=function(t){var n=this.bdt;return this.fbt(n,t)?n:void 0},i.ebt=function(t){return this.hAt(t)},i.ubt=function(t){return this.hAt(t)},i.Zo=function(){},i.Hyt=function(t){return 0===t&&void 0!==this.uAt},i.ybt=function(t){return this.oAt},i.kbt=function(t,n,i,e,r){var s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return s=n.Nkt[0].href,u=this.uAt,h.next=4,Er.awrap(e.aAt(s,u,i,r));case 4:return o=h.sent,this.oAt=this.cAt(t,o),h.abrupt("return",this.oAt);case 7:case"end":return h.stop()}},null,this,null,ze)},i.cAt=function(t,n){var i=this.uAt,e=bp.kk(new DataView(n),new So);if(e.nr!==xk.qy)throw new v("Invalid segment index");var r=Rp.Hk(e.ai),s=i[1]+1;return new SQ(t,s,r,this.Hpt.RR,qt(this.jpt,this.bu))},n}(gQ),RQ=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.qyt=function(t,n){return{Mf:n.Nkt[0].href}},i.Ipt=function(t,n){return{Mf:n.Nkt[0].href,hj:t.rAt}},i.Gbt=function(){return new EQ(this,this.Gyt)},A(n,[{key:"_kt",get:function(){}}]),n}(kQ),IQ=function(t){function n(){return t.call(this,uQ._pt)||this}return S(n,t),n}(ru);var NQ=function(t){function n(n,i,e){var r;return(r=t.call(this)||this).rd=void 0,r.di=void 0,r.fAt=void 0,r.Qpt=void 0,r.vAt=1/0,r.dAt=void 0,r.rd=i,r.lAt(n,e),r}S(n,t);var i=n.prototype;return i._At=function(){return this.Qpt||this.rd&&this.rd._At()},i.gAt=function(t){var n=this.Gyt,i=this.rd&&this.rd._At();this.di.Bkt?this.Qpt=new AQ(n,i,this.di.Bkt):this.di.Pkt?this.Qpt=new TQ(n,i,this.di.Pkt[0]):this.di.Okt?this.Qpt=new RQ(n,i,this.di.Okt):t&&!i&&(this.Qpt=new RQ(n,i,void 0))},i.lAt=function(t,n){this.di=t,this.fAt=t.Nkt&&t.Nkt.length>0?_Q(t.Nkt.map(function(t){return t.Mf}),n):n.slice(),this.Qpt&&(t.Bkt?this.Qpt.Zo(t.Bkt):t.Pkt?this.Qpt.Zo(t.Pkt[0]):t.Okt&&this.Qpt.Zo(t.Okt))},i.ppt=function(){var t;return null==(t=this.dAt)?void 0:t.wAt},i.Cpt=function(){var t;return null==(t=this.dAt)?void 0:t.mAt},i.yAt=function(t){var n=this.vAt,i=this.Gyt.d_,e=this.dAt,r=this.kAt(t);e&&Lt(i,n,1e-5)&&OQ(e,r)||(this.vAt=i,this.dAt=r,this.Fr(new IQ))},i.Sr=function(){this.Wr()},A(n,[{key:"ai",get:function(){return this.di}},{key:"Nkt",get:function(){return this.fAt}}]),n}(iu);function DQ(t){for(var n,i=0;i<t.length;i++){var e=t[i].ppt();if(e){n=e.RR;break}}if(void 0!==n){for(var r,s=t.length-1;s>=0;s--){var u=t[s].ppt();if(u){r=u.NR;break}}if(void 0!==r)return{RR:n,NR:r}}}function CQ(t){if(0!==t.length){for(var n=0,i=1/0,e=0;e<t.length;e++){var r=t[e].ppt();if(!r)return;if((n=_.max(n,r.RR))>=(i=_.min(i,r.NR)))return}return{RR:n,NR:i}}}function xQ(t){for(var n,i=0;i<t.length;i++){var e=t[i].Cpt();e&&(!n||e.getTime()<n.getTime())&&(n=e)}return n}function OQ(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.mAt,n.mAt)&&function(t,n){return t&&n?Lt(t.RR,n.RR,1e-5)&&Lt(t.NR,n.NR,1e-5):t===n}(t.wAt,n.wAt)}var PQ=function(t){function n(n,i,e){var r;(r=t.call(this)||this).Hpt=void 0,r.Bo=void 0,r.pAt=void 0,r.Hpt=n,r.Bo=i,r.pAt=e.slice();for(var s=0;s<e.length;s++){e[s].Hr(uQ._pt,r.ypt)}return r}S(n,t);var i=n.prototype;return i.ppt=function(){return CQ(this.pAt)},i.Cpt=function(){for(var t,n=0,i=this.pAt;n<i.length;n++){var e=i[n].Cpt();e&&(!t||e.getTime()<t.getTime())&&(t=e)}return t},i.hv=function(){this.Wr();for(var t=0,n=this.pAt;t<n.length;t++){n[t].Xr(uQ._pt,this.ypt)}},A(n,[{key:"Pyt",get:function(){return this.pAt}},{key:"VZ",get:function(){return this.Pyt.reduce(function(t,n){for(var i=0,e=n.VZ;i<e.length;i++){var r=e[i];Os(t,r)||t.push(r)}return t},[])}},{key:"ae",get:function(){return this.VZ.length>0?this.VZ[0]:""}},{key:"nr",get:function(){return this.pAt[0].nr}},{key:"_l",get:function(){return this.Bo}},{key:"Npt",get:function(){return this.Hpt.Npt}},{key:"GD",get:function(){return this.pAt[0].GD}},{key:"Gyt",get:function(){return this.Hpt}},{key:"Eyt",get:function(){return Bs(this.Pyt,function(t){return t.Eyt})}}]),n}(fQ),BQ=function(t){function n(){return t.call(this,uQ.wpt)||this}return S(n,t),n}(ru);function LQ(t){for(var n=[],i=function(i){var e=t[i],r=void 0,s=e.Mkt;void 0===s||(r=Ns(n,function(t){return t._l===s})),r||(r={_l:s,Pyt:[]},n.push(r)),r.Pyt.push(e)},e=0;e<t.length;e++)i(e);return n}var MQ,UQ=function(t){function n(n,i){var e;return(e=t.call(this)||this).Spt=void 0,e.pAt=[],e.bAt=[],e.AAt=void 0,e.TAt=!1,e.AAt=n,e.Spt=i,e.Spt.Hr(uQ._pt,e.ypt),e}S(n,t);var i=n.prototype;return i.SAt=function(t,n){if(0!==this.bAt.length){for(var i=t,e=0,r=this.bAt;e<r.length;e++){var s=r[e],u=s.nr;if(u===my.Jf||u===my.$f){var o=s.bpt;if(void 0===o)return;i=n(i,o)}}return i}},i.EAt=function(){this.TAt||(this.TAt=!0,this.Fr(new BQ),this.hv())},i.Zo=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==this.pAt.length){i.next=7;break}return i.next=3,Er.awrap(this.RAt(this.Spt.Pyt,t,n));case 3:this.IAt(this.pAt),Vs(n),i.next=9;break;case 7:return i.next=9,Er.awrap(this.NAt(t,n));case 9:case"end":return i.stop()}},null,this,null,ze)},i.RAt=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:e=0;case 1:if(!(e<t.length)){u.next=17;break}return r=t[e],s=new lQ(this,r),u.prev=4,u.next=7,Er.awrap(s.Zo(n,i));case 7:this.pAt.push(s),u.next=14;break;case 10:u.prev=10,u.t0=u.catch(4),Ws(u.t0);case 14:e++,u.next=1;break;case 17:case"end":return u.stop()}},null,this,[[4,10]],ze)},i.IAt=function(t){for(var n=LQ(t),i=0;i<n.length;i++){var e=n[i],r=new PQ(this,e._l,e.Pyt);this.bAt.push(r)}},i.NAt=function(t,n){var i,e,r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:i=0,e=this.pAt;case 1:if(!(i<e.length)){s.next=8;break}return r=e[i],s.next=5,Er.awrap(r.Zo(t,n));case 5:i++,s.next=1;break;case 8:case"end":return s.stop()}},null,this,null,ze)},i.ppt=function(){return this.Spt.ppt()},i.Cpt=function(){return this.Spt.Cpt()},i.hv=function(){this.Wr(),this.Spt.Xr(uQ._pt,this.ypt);for(var t=0,n=this.bAt;t<n.length;t++){n[t].hv()}for(var i=0,e=this.pAt;i<e.length;i++){e[i].hv()}Ps(this.pAt),Ps(this.bAt)},A(n,[{key:"Pyt",get:function(){return this.pAt}},{key:"xyt",get:function(){return this.bAt}},{key:"Kkt",get:function(){return this.Spt.ai.Kkt}},{key:"d_",get:function(){return this.Spt.d_}},{key:"NR",get:function(){return this.RR+this.d_}},{key:"tpt",get:function(){return this.Spt.ai.tpt||[]}},{key:"_l",get:function(){return this.Spt._l}},{key:"mpt",get:function(){return this.TAt}},{key:"Npt",get:function(){return this.AAt}},{key:"DAt",get:function(){return this.AAt.CAt(this)}},{key:"Gyt",get:function(){return this}},{key:"xAt",get:function(){return this.AAt.OAt(this)}},{key:"PAt",get:function(){return this.SAt(1/0,_.min)}},{key:"BAt",get:function(){return this.SAt(0,_.max)}},{key:"RR",get:function(){return this.Spt.RR}},{key:"sv",get:function(){return this.Npt.sv}}]),n}(fQ),FQ=function(t){function n(){return t.call(this,Xc.ma)||this}return S(n,t),n}(ru);!function(t){t.LAt="MAt"}(MQ||(MQ={}));var HQ=function(t){function n(){return t.call(this,MQ.LAt)||this}return S(n,t),n}(ru),zQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Nkt)||this).Tpt=void 0,e.UAt=void 0,e.Tpt=i,e.gAt(!0),e}S(n,t);var i=n.prototype;return i.Hyt=function(t){return!!nc(this.GD)&&this.Uyt.Hyt(t.R6)},i.zyt=function(t,n,i,e){return this.Uyt.zyt(t,this,n,i,e)},i.Mpt=function(){return this.Upt.Mpt(this)},i.qyt=function(t){return this.Upt.qyt(t,this)},i.Ipt=function(t){return this.Upt.Ipt(t,this)},i.Dpt=function(){return this.UAt},i.kAt=function(t){var n=this.Uyt,i=n.Dpt(t),e=i&&function(t,n){var i,e=t.sbt,r=t.obt,s=t.rbt,u=e.tw,o=n.lbt(r);if(o.getTime()<=s.getTime())i=r.nw;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(r.d_-h,0);i=r.tw+a}return{RR:u,NR:i}}(i,n),r=this.Uyt.Cpt(t,i);return this.UAt=i,{rbt:t,wAt:e,mAt:r}},i.Zo=function(t){this.lAt(t,this.Tpt.Nkt)},A(n,[{key:"Bpt",get:function(){return this.Tpt}},{key:"Gyt",get:function(){return this.Tpt.Gyt}},{key:"ibt",get:function(){return this.Tpt.ibt}},{key:"GD",get:function(){return this.di.GD||this.Tpt.GD}},{key:"Upt",get:function(){return this._At()}},{key:"Uyt",get:function(){return this.Upt.Uyt}}]),n}(NQ),VQ=function(t){function n(n,i){var e;return(e=t.call(this,n,i,i.Nkt)||this).Hpt=void 0,e.zpt=void 0,e.Hpt=i,e.gAt(!1),e.zpt=n.Eyt.map(function(t){return new zQ(t,Yt(e))}),e}S(n,t);var i=n.prototype;return i.Zo=function(t){this.lAt(t,this.Hpt.Nkt);var n=t.Eyt||[];if(this.zpt.length!==n.length)throw new v("Expected "+this.zpt.length+' representations in adaptation set "'+t._l+'", found '+n.length);for(var i=0;i<n.length;i++)this.zpt[i].Zo(n[i])},i.yAt=function(n){for(var i=0,e=this.zpt;i<e.length;i++){e[i].yAt(n)}t.prototype.yAt.call(this,n)},i.kAt=function(t){return{rbt:t,wAt:CQ(this.zpt),mAt:xQ(this.zpt)}},i.Sr=function(){for(var n=0,i=this.zpt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},A(n,[{key:"Eyt",get:function(){return this.zpt}},{key:"Gyt",get:function(){return this.Hpt}},{key:"ibt",get:function(){return this.Hpt.ibt}},{key:"Mkt",get:function(){return this.di.Mkt}},{key:"GD",get:function(){var t;return this.di.GD||(null==(t=this.zpt[0])?void 0:t.ai.GD)||""}}]),n}(NQ),WQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this,i,void 0,n.Nkt)||this).FAt=void 0,s.nA=void 0,s.Au=void 0,s.pAt=void 0,s.bAt=[],s.FAt=n,s.nA=e,s.Au=r,s.gAt(!1),s.pAt=(i.Pyt||[]).map(function(t){return new VQ(t,Yt(s))}),s.bAt=LQ(s.pAt),s}S(n,t);var i=n.prototype;return i.Zo=function(t,n){this.lAt(t,this.FAt.Nkt),this.Au=n;var i=t.Pyt||[];if(this.pAt.length!==i.length)throw new v("Expected "+this.pAt.length+' adaptation sets in period "'+t._l+'", found '+i.length);for(var e=0;e<i.length;e++)this.pAt[e].Zo(i[e])},i.yAt=function(n){for(var i=0,e=this.pAt;i<e.length;i++){e[i].yAt(n)}t.prototype.yAt.call(this,n)},i.kAt=function(t){return{rbt:t,wAt:CQ(this.pAt),mAt:xQ(this.pAt)}},i.Sr=function(){for(var n=0,i=this.pAt;n<i.length;n++){i[n].Sr()}t.prototype.Sr.call(this)},A(n,[{key:"Pyt",get:function(){return this.pAt}},{key:"xyt",get:function(){return this.bAt}},{key:"Gyt",get:function(){return this}},{key:"ibt",get:function(){return this.FAt}},{key:"_l",get:function(){return this.di._l}},{key:"RR",get:function(){return this.nA}},{key:"d_",get:function(){return this.Au}}]),n}(NQ),XQ=new Date("2000-01-01"),qQ=function(t){function n(n,i,e,r){var s;if((s=t.call(this)||this).di=void 0,s.HAt=void 0,s.zAt=void 0,s.sz=void 0,s.VAt=void 0,s.dAt=void 0,s.fAt=void 0,s.WAt=void 0,s.XAt=void 0,s.qAt=void 0,s.GAt=[],s.HAt=i,s.Zo(n,e,r),n.nr===eG.RA){var u=s.Nbt();u&&u.ipt&&u.ipt.getTime()<XQ.getTime()&&(s.qAt=new Date(s.fpt.getTime()-1e3*(u.Hdt.tw+u.Hdt.d_)),s.yAt(r))}return s}S(n,t);var e=n.prototype;return e.ppt=function(){var t;return null==(t=this.dAt)?void 0:t.wAt},e.Cpt=function(){var t;return null==(t=this.dAt)?void 0:t.mAt},e.Zo=function(t,n,e,r){var s;this.di=t,this.zAt=n,this.VAt=null!=r?r:e,this.sz=e;var u,o=[(u=n,i.Ce(".",u))];this.fAt=t.Nkt&&t.Nkt.length>0?_Q(t.Nkt.map(function(t){return t.Mf}),o):o,this.WAt=t.rpt&&t.rpt.length>0?_Q(t.rpt,this.fAt):[];var h=this.WAt.map(function(t){return t.href}),a=n.href;Os(h,a)||(this.WAt.push(n),h.push(a));var c=this.HAt.href;Os(h,c)||(this.WAt.push(this.HAt),h.push(c)),this.XAt=null==(s=t.Nyt)?void 0:s.Iyt();var f=t.nr===eG.RA,v=function(t,n,i){for(var e=[],r=0;r<t.length;r++){var s=t[r],u=void 0;if(s.RR)u=s.RR.Iyt();else if(r>0&&t[r-1].d_){var o=e[r-1],h=t[r-1].d_.Iyt();u=o+h}else{if(0!==r||n)break;u=0}e.push(u)}for(var a=[],c=0;c<e.length-1;c++)a.push({ai:t[c],RR:e[c],d_:e[c+1]-e[c]});if(e.length>0){var f=e.length-1,v=t[f],d=e[f],l=1/0;n||(l=v.d_?v.d_.Iyt():i-d),a.push({ai:v,RR:d,d_:l})}return a}(t.Ryt,f,this.XAt);this.QAt(v),this.yAt(e)},e.QAt=function(t){var n=this.GAt;if(0!==t.length){for(var i=t[0].ai._l,e=0;e<n.length&&n[e]._l!==i;)e++;for(var r=n.splice(0,e),s=0;s<r.length;s++){r[s].Sr()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Zo(o.ai,o.d_)}else n.push(new WQ(this,o.ai,o.RR,o.d_))}}else Ps(n)},e.yAt=function(t){for(var n=0,i=this.GAt;n<i.length;n++){i[n].yAt(t)}var e=this.dAt,r=this.kAt(t);e&&OQ(e,r)||(this.dAt=r,this.Fr(new IQ))},e.kAt=function(t){return{rbt:t,wAt:DQ(this.GAt),mAt:xQ(this.GAt)}},e.Nbt=function(){if(0!==this.GAt.length){var t=this.GAt[this.GAt.length-1];if(!isFinite(t.d_)&&0!==t.Pyt.length){var n=t.Pyt[0];if(0!==n.Eyt.length){var i=n.Eyt[0].Uyt,e=i.Nbt();if(e)return{Hdt:e,ipt:i.hbt(e)}}}}},e.Sr=function(){this.Wr();for(var t=0,n=this.GAt;t<n.length;t++){n[t].Sr()}},A(n,[{key:"ai",get:function(){return this.di}},{key:"nr",get:function(){return this.di.nr||eG.EA}},{key:"ept",get:function(){return this.qAt||this.di.ept||this.fpt}},{key:"ipt",get:function(){return this.di.ipt}},{key:"Nyt",get:function(){return this.XAt}},{key:"Nkt",get:function(){return this.fAt}},{key:"rpt",get:function(){return this.WAt}},{key:"Ryt",get:function(){return this.GAt}},{key:"fpt",get:function(){return this.di.fpt||this.sz}},{key:"dkt",get:function(){return this.di.dkt}},{key:"YAt",get:function(){return this.VAt}},{key:"jAt",get:function(){return this.sz}}]),n}(iu);var GQ=function(){function t(t,n,i){this.ZAt=0,this.mA=t,this.JAt=n,this.$At=i}var n=t.prototype;return n.dO=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.KAt(t,this.mA,this.JAt,this.$At).catch(Xs));case 2:case"end":return n.stop()}},null,this,null,ze)},n.tTt=function(){return new Date(zt()+this.ZAt)},n.KAt=function(t,n,i,e){var r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=4;break}return o.next=3,Er.awrap(this.nTt(n,e,i));case 3:r=o.sent;case 4:if(void 0!==r){o.next=17;break}Vs(i),s=0;case 7:if(!(s<t.length)){o.next=17;break}return u=t[s],o.next=11,Er.awrap(this.iTt(n,u,i));case 11:if(void 0===(r=o.sent)){o.next=14;break}return o.abrupt("break",17);case 14:s++,o.next=7;break;case 17:this.ZAt=void 0===r?0:r-zt();case 18:case"end":return o.stop()}},null,this,null,ze)},n.iTt=function(t,n,i){var e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:e=n.myt,o.t0=e,o.next="urn:mpeg:dash:utc:http-xsdate:2012"===o.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===o.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===o.t0?4:"urn:mpeg:dash:utc:direct:2012"===o.t0?10:"urn:mpeg:dash:utc:direct:2014"===o.t0?10:16;break;case 4:if(!(r=n.qn)){o.next=9;break}return o.next=8,Er.awrap(this.nTt(t,r,i));case 8:return o.abrupt("return",o.sent);case 9:return o.abrupt("break",17);case 10:if(!(s=n.qn)){o.next=15;break}if(u=new Date(s).getTime(),m(u)){o.next=15;break}return o.abrupt("return",u);case 15:return o.abrupt("break",17);case 16:return o.abrupt("return");case 17:case"end":return o.stop()}},null,this,null,ze)},n.nTt=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Er.awrap(t.Bf({Mf:n,tv:g_.GET,xf:qc.On,Pr:i}));case 3:return e=u.sent,u.next=6,Er.awrap(e.lf());case 6:if(r=u.sent,s=new Date(r).getTime(),m(s)){u.next=10;break}return u.abrupt("return",s);case 10:u.next=16;break;case 12:u.prev=12,u.t0=u.catch(0),Ws(u.t0);case 16:case"end":return u.stop()}},null,null,[[0,12]],ze)},t}(),QQ=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).eTt=void 0,s.Spt=void 0,s.rTt=void 0,s.Qj=!0,s.GAt=[],s.sTt=void 0,s.uTt=void 0,s.oTt=void 0,s.mA=void 0,s.hTt=void 0,s.sTt=n,s.rTt=n.Ol,s.uTt=i,s.mA=e,s.eTt=r,s.hTt=new GQ(s.mA,s.eTt,s.sTt.aTt),s}S(n,t);var e=n.prototype;return e.fot=function(t){var n=this.Ng;this.Qj=t,n!==this.Ng&&this.Fr(new HQ)},e.Zo=function(t,n,e){var r,s,u,o,h,a,c,f,v,d,l,_,g;return Er.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(s=[],u=[],o=t.spt?i.Ce(t.spt,this.rTt):this.rTt,void 0!==this.Spt){w.next=10;break}return w.next=6,Er.awrap(this.hTt.dO(t.dpt));case 6:this.Spt=new qQ(t,this.rTt,o,this.tTt()),this.Spt.Hr(uQ._pt,this.Ur),w.next=11;break;case 10:this.Spt.Zo(t,o,this.tTt(),n);case 11:if(0===(h=this.Spt.Ryt).length)a=this.GAt.slice(),Ps(this.GAt);else{for(c=h[0]._l,f=0;f<this.GAt.length&&this.GAt[f]._l!==c;)f++;for(a=this.GAt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.GAt.length?l=this.GAt[v]:(l=new UQ(this,d),s.push(l)),u.push(l.Zo(this.uTt,e))}return w.next=15,Er.awrap(ze.all(u));case 15:for((r=this.GAt).push.apply(r,s),_=0,g=a;_<g.length;_++)g[_].EAt();this.Fr(new FQ);case 18:case"end":return w.stop()}},null,this,null,ze)},e.tTt=function(){return this.hTt.tTt()},e.OAt=function(t){var n=this.GAt.indexOf(t);if(n>0)return this.GAt[n-1]},e.CAt=function(t){var n=this.GAt.indexOf(t);if(n>=0&&n+1<this.GAt.length)return this.GAt[n+1]},e.ppt=function(){return this.Spt?this.Spt.ppt():void 0},e.Cpt=function(){return this.Spt&&this.Spt.Cpt()},e.yAt=function(t){this.Spt&&this.Spt.yAt(t)},e.hv=function(){this.Wr(),this.oTt=void 0,this.fot(!1);for(var t=0,n=this.GAt;t<n.length;t++){n[t].hv()}Ps(this.GAt),this.Spt&&this.Spt.Sr()},A(n,[{key:"ipt",get:function(){return this.Spt&&this.Spt.ipt}},{key:"ept",get:function(){return this.Spt&&this.Spt.ept}},{key:"_l",get:function(){return this.Spt&&this.Spt.ai._l}},{key:"YAt",get:function(){var t;return null==(t=this.Spt)?void 0:t.YAt}},{key:"cTt",get:function(){var t;return null==(t=this.Spt)?void 0:t.jAt}},{key:"rpt",get:function(){return this.Spt?this.Spt.rpt.map(function(t){return t.href}):[this.Cyt]}},{key:"Cyt",get:function(){return this.rTt.href}},{key:"upt",get:function(){return this.Spt&&this.Spt.ai.upt}},{key:"hpt",get:function(){return this.Spt&&this.Spt.ai.hpt}},{key:"Nyt",get:function(){return this.Spt&&this.Spt.ai.Nyt}},{key:"apt",get:function(){return this.Spt&&this.Spt.ai.apt}},{key:"cpt",get:function(){var t,n,i=(null==(t=this.Spt)?void 0:null==(n=t.ai.cpt)?void 0:n.jyt())||0;return _.max(i,jQ)}},{key:"Ng",get:function(){return this.Qj}},{key:"Ryt",get:function(){return this.GAt}},{key:"fTt",get:function(){return this.nr===eG.RA?this.Gpt:this.vTt}},{key:"dTt",get:function(){var t=this.fTt;if(void 0!==t)for(var n=0,i=this.Ryt;n<i.length;n++){var e=i[n];if(e.RR<=t&&e.NR>t)return e}}},{key:"Tkt",get:function(){return this.Spt&&this.Spt.ai.Tkt}},{key:"fpt",get:function(){return this.Spt&&this.Spt.fpt}},{key:"PAt",get:function(){for(var t=this.GAt.length-1;t>=0;t-=1){var n=this.GAt[t].PAt;if(n)return n}}},{key:"Gpt",get:function(){var t=this.PAt;if(void 0!==t){var n=t-this.lTt;return _.max(n,this.vTt)}}},{key:"vTt",get:function(){for(var t=0,n=this.GAt;t<n.length;t++){var i=n[t].kpt;if(void 0!==i)return i}}},{key:"sv",get:function(){return Boolean(this.sTt.sv)}},{key:"lTt",get:function(){var t=this.Spt&&this.Spt.ai.vpt;return t?t.Iyt():this.nr===eG.RA?this.ktt:0}},{key:"ktt",get:function(){return this.sTt.ktt?this.sTt.ktt:1.5*this.apt.Iyt()}},{key:"dkt",get:function(){return this.Spt&&this.Spt.dkt}},{key:"nr",get:function(){return this.Spt?this.Spt.nr:void 0}}]),n}(iu),YQ=function(){function t(t,n,i,e){this.AAt=void 0,this.AAt=new QQ(t,n,i,e)}return A(t,[{key:"Npt",get:function(){return this.AAt}}]),t}(),jQ=1e3,ZQ=_.pow(2,31)-1,JQ=function(){function t(t,n,i,e){var r=this;this.o9=void 0,this.Spt=void 0,this._Tt=void 0,this.gTt=void 0,this.wTt=void 0,this.mTt=new Fs,this.yTt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=r.Spt.Npt.tTt(),e.next=4,Er.awrap(r.kTt(r.Spt.Npt.rpt,t));case 4:return i=e.sent,e.next=7,Er.awrap(r.Spt.Npt.Zo(i,n,t));case 7:e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),nb(e.t0)&&r.Spt.Npt.fot(!1),e.t0;case 13:case"end":return e.stop()}},null,null,[[0,9]],ze)},this.o9=e,this.Spt=new YQ(t,n,i,this.mTt.Pr)}var n=t.prototype;return n.nd=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Spt.Npt.Fr(new JN),n.prev=1,n.next=4,Er.awrap(dV(this.yTt,t));case 4:this.Spt.Npt.fot(!0),n.next=13;break;case 7:throw n.prev=7,n.t0=n.catch(1),Ws(n.t0),this.gTt=void 0,this.Spt.Npt.fot(!1),new v("The provided MPEG-DASH document could not be loaded - "+n.t0.message);case 13:this._Tt=this.pTt(this.mTt.Pr);case 14:case"end":return n.stop()}},null,this,[[1,7]],ze)},n.pTt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0;case 1:if(this.Spt.Npt.nr!==eG.RA){n.next=6;break}return n.next=4,Er.awrap(qs(this.bTt,t));case 4:n.next=1;break;case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},null,this,[[0,8]],ze)},n.ATt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(Vs(t),!((n=this.TTt())>0)){e.next=6;break}return i=_.min(n,ZQ),e.next=6,Er.awrap($s(i,t));case 6:return e.prev=6,e.next=9,Er.awrap(dV(this.yTt,t,1/0,jQ,3e4));case 9:this.Spt.Npt.fot(!0);case 10:return e.prev=10,this.wTt=void 0,e.finish(10);case 13:case"end":return e.stop()}},null,this,[[6,,10,13]],ze)},n.TTt=function(){var t=this.Spt.Npt.tTt().getTime()-this.Spt.Npt.YAt.getTime();return this.Spt.Npt.cpt-t},n.STt=function(t){var n=this.Spt.Npt.Cpt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.Spt.Npt.yAt(t);var e=this.Spt.Npt.Cpt();return e?e.getTime()-t.getTime():NaN},n.ETt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return this.wTt||(this.wTt=this.ATt(t)),(n=new Fs).xr(t),i.prev=3,i.next=6,Er.awrap(ze.race([this.wTt,this.RTt(n.Pr)].filter(F)));case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),Xs(i.t0);case 11:return i.prev=11,n.Cr(),i.finish(11);case 14:case"end":return i.stop()}},null,this,[[3,8,11,14]],ze)},n.RTt=function(t){var n=this.Spt.Npt.tTt(),i=this.STt(n);if(!m(i))return this.ITt(i,t)},n.ITt=function(t,n){var i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er.awrap($s(t,n));case 2:i=this.Spt.Npt.tTt(),this.Spt.Npt.yAt(i);case 4:case"end":return e.stop()}},null,this,null,ze)},n.kTt=function(t,n){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.o9.r9(t,{},n,!1));case 2:return i=r.sent,e=new oQ,r.abrupt("return",e.Twt(i.Q8,i.Lf));case 5:case"end":return r.stop()}},null,this,null,ze)},n.hv=function(){return this.mTt.Cr(),this._Tt=void 0,this.gTt=void 0,this.wTt=void 0,this.Spt.Npt.hv(),ze.resolve()},A(t,[{key:"NTt",get:function(){return this.Spt}},{key:"KK",get:function(){return this.gTt||(this.gTt=this.nd(this.mTt.Pr),Zs(this.gTt)),this.gTt}},{key:"bTt",get:function(){return this.Spt.Npt.cTt&&this.Spt.Npt.nr===eG.RA?this.ETt(this.mTt.Pr):this.KK}}]),t}(),$Q=function(){function t(t,n,i){this.o9=t,this.DTt=n,this.CTt=i}var n=t.prototype;return n.xTt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t.src){i.next=2;break}throw new v("Invalid typed source");case 2:if(!lm(n=t.type)){i.next=9;break}return i.next=6,Er.awrap(this.OTt(t));case 6:return i.abrupt("return",i.sent);case 9:if(!dm(n)){i.next=15;break}return i.next=12,Er.awrap(this.PTt(t));case 12:return i.abrupt("return",i.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return i.stop()}},null,this,null,ze)},n.OTt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Er.awrap(sG(t.src,this.o9));case 3:return n=i.sent,i.next=6,Er.awrap(uG(n,this.o9));case 6:return i.abrupt("return",i.sent);case 9:throw i.prev=9,i.t0=i.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return i.stop()}},null,this,[[0,9]],ze)},n.PTt=function(t){var n;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new JQ({Ol:i.Ce(t.src),ktt:t.liveOffset,aTt:t.timeServer,sv:t.useCredentials},this.CTt,A_.lv,this.o9),e.next=4,Er.awrap(n.KK);case 4:return e.next=6,Er.awrap(Wq(n.NTt.Npt,t.contentProtection,this.DTt));case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return e.stop()}},null,this,[[0,9]],ze)},t}();var KQ=function(){function t(t){this.BTt=void 0,this.LTt=[],this.MTt=0,this.BTt=t}var n=t.prototype;return n.UTt=function(){var t=new Ro;return this.LTt.push(t),this.FTt(),t.Ss},n.HTt=function(t,n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(t);case 2:this.MTt-=1,this.FTt(),0===this.LTt.length&&0===this.MTt&&n.Is(!0);case 5:case"end":return i.stop()}},null,this,null,ze)},n.FTt=function(){this.LTt.length>0&&this.MTt<this.BTt&&(this.LTt.shift().Is(),this.MTt+=1)},t}();function tY(t,n){for(var i=0,e=0,r=t.jb.gK.map(function(t){return t.d_});e<r.length;e++){if((i+=r[e])>=n)return i}return i}var nY=function(t){function n(n,e,r,s,u,o,h,a){var c,f,v,d,l;void 0===a&&(v=L.sn||L.in,d=void 0!==f&&void 0!==f.preferredAudioCodecs&&f.preferredAudioCodecs.some(function(t){return"ec-3"===t}),l=v&&!d,a=function(t){var n,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=t.mf,MediaSource.isTypeSupported(e)||ub(t.GD,t.VZ)){u.next=3;break}return u.abrupt("return",!1);case 3:if(!l||-1===(null==(n=t.ae)?void 0:n.indexOf("ec-3"))){u.next=5;break}return u.abrupt("return",!1);case 5:if(!t.Syt){u.next=13;break}return r=t.Syt,s=Bs(r,function(t){return rs(t.myt)}).filter(F),u.next=10,Er.awrap(Ls(s,function(t){return i.Ne(t,e)}));case 10:if(u.sent){u.next=13;break}return u.abrupt("return",!1);case 13:return u.abrupt("return",!0);case 14:case"end":return u.stop()}},null,null,null,ze)}),(c=t.call(this)||this).a9=void 0,c.zTt=void 0,c.VTt=new Ro,c.WTt=void 0,c.iJ=void 0,c.XTt=Dq.lyt(),c.fyt=void 0,c.qTt=void 0,c.H_=void 0,c.GTt=void 0,c.AK=void 0,c.o9=void 0,c.QTt=void 0,c.DTt=void 0,c.CTt=void 0,c.$mt=void 0,c.a9=n,c.AK=e,c.o9=r,c.GTt=s,c.QTt=u,c.DTt=o,c.CTt=a,c.$mt=h,c.qTt=-1;var _=c.a9.hR.sources[0];return c.WTt=_,c.H_=c.ug(),c.zTt=new KQ(c.a9.lh.parallelTasksThreshold),c}S(n,t);var e=n.prototype;return e.ug=function(){var t,n,i,e,r,s,u,o,h,a,c,f,v,d,l,g,w,m,y,k,p,b,A,T,S,E,R,I=this;return Er.async(function(N){for(;;)switch(N.prev=N.next){case 0:return t=new $Q(this.o9,this.DTt,this.CTt),N.next=3,Er.awrap(t.xTt(this.WTt));case 3:return this.iJ=N.sent,n=this.a9.lh.amount,i=this.iJ.d_,e=Oq(n,i),this.fyt=e,s=bB(this.iJ.Dyt[0]),N.next=11,Er.awrap(this.AK._K.vK(s,"manifestURL"));case 11:for(u=N.sent.filter(function(t){return Os(t.references,I.a9._l)}),o=[],h=this.a9.lh.bandwidth,a=0,c=this.iJ.Ryt;a<c.length;a++)for(f=c[a],v=0,d=f.Oyt;v<d.length;v++)for(l=d[v],g=0,w=eY(l.qk);g<w.length;g++)for(m=w[g],y=0,k=rY(m.kl,h);y<k.length;y++)p=k[y],o.push(p);if(this.qTt=_.ceil(o.map(function(t){return t.xS*tY(t,e)/8}).reduce(function(t,n){return t+n},0)),b=Nr(),u&&0!==u.length){for(A=u.reduce(function(t,n){return t+n.byteSize},0),T=function(t){var n=u[t],i=n.qualityId,e=new FS(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.jR(e).YR(5e-4);else{var r,s=Ns(o,function(t){return t._l===i}),h=_.min(I.fyt,null!=(r=null==s?void 0:s.jb.d_)?r:1/0);b.set(i,{timeRanges:e,totalQualityDurationToCache:h})}},S=0;S<u.length;S++)T(S);r=new Dq(A,b,this.fyt)}else{for(E=0;E<o.length;E++)R=o[E],b.set(R._l,{timeRanges:FS.dI(),totalQualityDurationToCache:_.min(R.jb.d_,this.fyt)});r=new Dq(0,b,this.fyt)}this.YTt=r;case 19:case"end":return N.stop()}},null,this,null,ze)},e.jTt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.H_);case 2:return n.next=4,Er.awrap(this.ZTt(this.iJ,t));case 4:return n.next=6,Er.awrap(this.VTt.Ss);case 6:case"end":return n.stop()}},null,this,null,ze)},e.ZTt=function(t,n){var i,e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(t.Dyt){u.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return u.next=4,Er.awrap(this.JTt());case 4:for(i=[],e=0,r=t.Ryt;e<r.length;e++)s=r[e],i.push(this.$Tt(s,t.Dyt[0],n));return u.abrupt("return",ze.all(i));case 7:case"end":return u.stop()}},null,this,null,ze)},e.JTt=function(){var t,n,i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Er.awrap(this.GTt.cK());case 2:t=r.sent,n=0;case 4:if(!(n<t.length)){r.next=25;break}return i=t[n],r.next=8,Er.awrap(this.AK.wK.cs(i.key));case 8:if(!(e=r.sent)){r.next=14;break}return r.next=12,Er.awrap(iY(e,this.a9._l,this.AK.wK,this.$mt));case 12:r.next=22;break;case 14:return r.prev=14,r.next=17,Er.awrap(this.AK.wK.oK(i,this.$mt));case 17:r.next=22;break;case 19:throw r.prev=19,r.t0=r.catch(14),new Bq("Unable to store manifest with url: "+i.locationURL,r.t0);case 22:n++,r.next=4;break;case 25:return r.next=27,Er.awrap(this.GTt.lK());case 27:case"end":return r.stop()}},null,this,[[14,19]],ze)},e.$Tt=function(t,n,i){var e,r,s,u,o,h,a;return Er.async(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],r=0,s=t.Oyt;r<s.length;r++)for(u=s[r],o=eY(u.qk),h=0;h<o.length;h++)a=o[h],e.push(this.KTt(a,n,i));return c.abrupt("return",ze.all(e));case 3:case"end":return c.stop()}},null,this,null,ze)},e.KTt=function(t,n,i){var e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:if(e=this.a9.lh.bandwidth,r=rY(t.kl,e),t.nr!==my.$f||!t.Myt||!t.Myt.XA.widevine||"persistent"!==t.Myt.XA.widevine.licenseType){h.next=6;break}return h.next=5,Er.awrap(this.tSt(t.Myt));case 5:Vs(i);case 6:for(s=[],u=0;u<r.length;u++)o=r[u],s.push(this.nSt(o,n,i));return h.abrupt("return",ze.all(s));case 9:case"end":return h.stop()}},null,this,null,ze)},e.nSt=function(t,n,i){var e,r,s,u,o,h;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(Vs(i),!t.x8){a.next=7;break}return e={tw:0,d_:0,Xyt:t.x8},a.next=5,Er.awrap(this.zTt.UTt());case 5:Vs(i),Zs(this.zTt.HTt(this.iSt(e,t,n),this.VTt));case 7:r=t.jb.gK[0].tw,s=r+this.fyt,u=0,o=t.jb.gK;case 10:if(!(u<o.length)){a.next=22;break}if(!((h=o[u]).tw>=s)){a.next=14;break}return a.abrupt("break",22);case 14:return a.next=16,Er.awrap(this.eSt(i));case 16:return a.next=18,Er.awrap(this.zTt.UTt());case 18:Zs(this.zTt.HTt(this.iSt(h,t,n),this.VTt));case 19:u++,a.next=10;break;case 22:case"end":return a.stop()}},null,this,null,ze)},e.eSt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(null==t||!t.yr){n.next=4;break}return n.next=3,Er.awrap(this.VTt.Ss);case 3:throw new Hs;case 4:case"end":return n.stop()}},null,this,null,ze)},e.rSt=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.awrap(this.H_);case 2:return t.abrupt("return",this.iJ);case 3:case"end":return t.stop()}},null,this,null,ze)},e.tSt=function(t){return ze.resolve()},e.sSt=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:return ut("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},null,null,null,ze)},e.iSt=function(t,n,i){var e,r,s,u,o,h,a,c=this;return Er.async(function(f){for(;;)switch(f.prev=f.next){case 0:return e=this.AK._K,r=AB(t.Xyt.Mf,t.Xyt.hj),f.next=4,Er.awrap(e.cs(r));case 4:if(!(s=f.sent)){f.next=11;break}return f.next=8,Er.awrap(iY(s,this.a9._l,e,this.$mt));case 8:this.uSt(s,!1),f.next=24;break;case 11:return f.prev=11,f.next=14,Er.awrap(this.oSt(t.Xyt));case 14:return u=f.sent,o=this.hSt(t,n,i,u),h=o.segmentMetadataEntry,a=o.segmentEntry,f.next=18,Er.awrap(this.AK.kK(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t._K.oK(h,c.$mt));case 2:return n.next=4,Er.awrap(t.gK.oK(a,c.$mt));case 4:case"end":return n.stop()}},null,null,null,ze)}));case 18:this.uSt(h,!0),f.next=24;break;case 21:throw f.prev=21,f.t0=f.catch(11),new Bq("Unable to store segment with url: "+t.Xyt.Mf,f.t0);case 24:case"end":return f.stop()}},null,this,[[11,21]],ze)},e.oSt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.QTt.aSt(t,!1));case 2:return n=i.sent,i.next=5,Er.awrap(this.cSt(n));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},null,this,null,ze)},e.cSt=function(t){var n;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(t.gf());case 2:return n=i.sent,i.abrupt("return",{buffer:n});case 4:case"end":return i.stop()}},null,null,null,ze)},e.hSt=function(t,n,i,e){var r=AB(t.Xyt.Mf,t.Xyt.hj),s=t.tw,u=t.d_,o=this.fSt(e);return{segmentMetadataEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:bB(i),qualityId:n._l,byteSize:o,startsAndEnds:new FS([s,s+u]).xR,references:[this.a9._l]},segmentEntry:{key:r,segmentURLsegmentByteRange:r,manifestURL:bB(i),data:e}}},e.fSt=function(t){return t.buffer.byteLength},e.uSt=function(t,n){var i=t.qualityId,e=this.XTt,r=e.Bg;r.get(i).timeRanges=r.get(i).timeRanges.jR(new FS(t.startsAndEnds)).YR(5e-4),this.YTt=new Dq(n?e._yt+t.byteSize:e._yt,r,this.fyt)},A(n,[{key:"vSt",get:function(){return this.qTt}},{key:"YTt",get:function(){return this.XTt},set:function(t){this.XTt.mw(t)||(this.XTt=t,t.mw(Dq.lyt())||this.Fr(new Nq))}}]),n}(iu);function iY(t,n,i,e){return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Os(t.references,n)){r.next=4;break}return t.references.push(n),r.next=4,Er.awrap(i.oK(t,e));case 4:case"end":return r.stop()}},null,null,null,ze)}function eY(t){return t.length?[t[0]]:[]}function rY(t,n){if(!t.length)return[];var i=[].concat(t).sort(Rq),e=i.filter(function(t){return t.xS<=n});return e.length>0?[e.pop()]:[i.shift()]}var sY=function(){function t(t){this.mA=void 0,this.$B=new RN,this.mA=t}var n=t.prototype;return n.Bf=function(t){var n=this,i=new Ro;return this.$B.zB(function(e){return n.dSt(i,t,e)},t.Pr).catch(Z),i.Ss},n.ov=function(t){return this.mA.ov(t)},n.dSt=function(t,n,i){var e,r,s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return Vs(i),e=new p_({Mf:n.Mf,Pr:i},n),r=this.mA.Bf(e),t.Is(r),u.next=6,Er.awrap(r);case 6:return s=u.sent,u.next=9,Er.awrap(s.Sf());case 9:case"end":return u.stop()}},null,this,null,ze)},n.hv=function(){this.$B.hv()},t}(),uY=function(){function t(t,n){this.mA=void 0,this.lSt=void 0,this._St=void 0,this.mA=t,this.lSt=new sY(t),this._St=n}var n=t.prototype;return n.aSt=function(t,n,i){return this.Bst(t,n,!0,!1,void 0,i)},n.gSt=function(t,n,i,e){return this.Bst(t,n,!1,!1,i,e)},n.wSt=function(t,n,i,e){return this.Bst(t,n,!1,!0,i,e)},n.Bst=function(n,i,e,r,s,u){var o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return Vs(u),h.next=3,Er.awrap(this.mSt(n,e,r,s,u));case 3:if(o=h.sent,!i){h.next=8;break}return h.abrupt("return",t.ySt(o));case 8:return h.abrupt("return",this.kSt(o));case 9:case"end":return h.stop()}},null,this,null,ze)},n.kSt=function(t){return t},t.ySt=function(t){return t},n.mSt=function(t,n,i,e,r){var s=new p_({Mf:t.Mf,xf:qc.za,Cf:t.hj?{Range:"bytes="+t.hj[0]+"-"+t.hj[1]}:void 0,sv:t.sv,tv:g_.GET,nr:w_.zf,ev:i?m_.Wf:m_.Ff,rv:this._St,nv:e,Pr:r});return n?this.lSt.Bf(s):this.mA.Bf(s)},t}(),oY=function(){function t(t){this.mA=void 0,this.mA=t}return t.prototype.aAt=function(t,n,i,e){var r;return Er.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Er.awrap(this.mA.Bf({Mf:t,xf:qc.za,Cf:{Range:"bytes="+n[0]+"-"+n[1]},sv:i,tv:g_.GET,nr:w_.Ff,Pr:e}));case 2:return r=s.sent,s.next=5,Er.awrap(r.gf());case 5:return s.abrupt("return",s.sent);case 6:case"end":return s.stop()}},null,this,null,ze)},t}(),hY=function(t){function n(n,i,e){var r;return(r=t.call(this,i,e)||this).Hdt=void 0,r.Hdt=n,r}return S(n,t),n}(Zt),aY=function(){function t(t){this.s9=void 0,this.s9=t}return t.prototype.aAt=function(t,n,i,e){var r,s;return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(this.s9.i9(t,n));case 2:if(!(r=i.sent)){i.next=5;break}return i.abrupt("return",r.buffer);case 5:return i.next=7,Er.awrap(this.s9.i9(t));case 7:if(!(s=i.sent)){i.next=10;break}return i.abrupt("return",Ao(new y(s.buffer),n[0],n[1]));case 10:throw new hY({Mf:t,hj:n,sv:!1});case 11:case"end":return i.stop()}},null,this,null,ze)},t}(),cY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new FS([0,0]).xR,references:[]},fY={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},vY=function(t){function n(n,i,e,r,s){var u;return(u=t.call(this,n)||this).pSt=void 0,u.bSt=void 0,u.AK=void 0,u.$mt=void 0,u.pSt=new oY(i),u.AK=e,u.bSt=r,u.$mt=s,u}S(n,t);var i=n.prototype;return i.aAt=function(n,i,e,r){var s;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,Er.awrap(t.prototype.aAt.call(this,n,i,e,r));case 3:return u.abrupt("return",u.sent);case 6:u.prev=6,u.t0=u.catch(0),Ws(u.t0);case 9:return u.next=11,Er.awrap(this.pSt.aAt(n,i,e,r));case 11:return s=u.sent,u.next=14,Er.awrap(this.ASt(n,i,s));case 14:return u.abrupt("return",s);case 15:case"end":return u.stop()}},null,this,[[0,6]],ze)},i.ASt=function(t,i,e){var r,s,u,o,h,a,c,f=this;return Er.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(void 0!==this.bSt){v.next=2;break}return v.abrupt("return");case 2:return r=this.AK._K,s=AB(t,i),v.next=6,Er.awrap(r.cs(s));case 6:if(!(u=v.sent)){v.next=12;break}return v.next=10,Er.awrap(iY(u,this.bSt,r,this.$mt));case 10:v.next=22;break;case 12:return v.prev=12,o={buffer:e},h=n.hSt(s,o,this.bSt),a=h.segmentMetadataEntry,c=h.segmentEntry,v.next=17,Er.awrap(this.AK.kK(function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(t._K.oK(a,f.$mt));case 2:return n.next=4,Er.awrap(t.gK.oK(c,f.$mt));case 4:case"end":return n.stop()}},null,null,null,ze)}));case 17:v.next=22;break;case 19:throw v.prev=19,v.t0=v.catch(12),new Bq("Unable to store segment with url: "+t,v.t0);case 22:case"end":return v.stop()}},null,this,[[12,19]],ze)},n.hSt=function(t,n,i){return{segmentMetadataEntry:Rr({},cY,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:Rr({},fY,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(aY);var dY=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.TSt=function(t,n,i,e,r,s,u){return new nY(t,n,i,e,r,s,u)},n}(function(){function t(t){this.mA=t}return t.prototype.KG=function(t,n,i){void 0===i&&(i="persistent");var e=Boolean(t.hR.sources[0].useCredentials),r=new uY(this.mA,y_.Ff),s=new yU(this.mA,e),u=new kU(n.wK,n._K,n.gK,n.yK),o=function(t,n,i,e,r){return new vY(n,t,i,e,r)}(this.mA,u,n,t._l,i),h=new _B,a=new SU(TU(s,u),h,t);return this.TSt(t,n,a,h,r,o,i)},t}());function lY(t){var n,i={get id(){return t._l},get status(){return t.Df},get source(){return t.hR},get parameters(){return t.lh},get duration(){return t.d_},get cached(){return t.SSt.XE()},get secondsCached(){return t.ESt},get percentageCached(){return t.RSt},get bytes(){return t.ISt},get bytesCached(){return t.NSt},get license(){return t.oC.Ed},start:function(){t.RR()},pause:function(){t.K_()},remove:function(){t.jo()},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}};return n=new zI(t,["x$","Hmt"],i),i}var _Y=function(){function t(t,n,i){this.a9=t,this.AK=n,this.iJ=i}var n=t.prototype;return n.DSt=function(){var t=this;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.AK.kK(function(n){return Er.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Er.awrap(t.CSt(n));case 2:return i.next=4,Er.awrap(t.xSt(n));case 4:return i.next=6,Er.awrap(t.OSt(n));case 6:return i.next=8,Er.awrap(t.PSt(n));case 8:case"end":return i.stop()}},null,null,null,ze)}));case 2:case"end":return n.stop()}},null,this,null,ze)},n.CSt=function(t){var n,i;return Er.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.mK,i=this.a9._l,e.next=4,Er.awrap(n.jo(i));case 4:case"end":return e.stop()}},null,this,null,ze)},n.xSt=function(t){var n,i,e,r,s,u,o,h=this;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t._K,i=t.gK,mm(e=this.a9.hR.sources[0])){a.next=5;break}return a.abrupt("return");case 5:return r=bB(e.src),a.next=8,Er.awrap(n.vK(r,"manifestURL"));case 8:s=a.sent.filter(function(t){return Os(t.references,h.a9._l)}),u=0;case 10:if(!(u<s.length)){a.next=25;break}if(Cs((o=s[u]).references,this.a9._l),0!==o.references.length){a.next=20;break}return a.next=16,Er.awrap(n.jo(o.key));case 16:return a.next=18,Er.awrap(i.jo(o.key));case 18:a.next=22;break;case 20:return a.next=22,Er.awrap(n.oK(o));case 22:u++,a.next=10;break;case 25:case"end":return a.stop()}},null,this,null,ze)},n.OSt=function(t){var n,i,e,r,s,u=this;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.wK,i=this.BSt(),o.next=4,Er.awrap(n.aK(i));case 4:e=o.sent.filter(function(t){return Os(t.references,u.a9._l)}),r=0;case 6:if(!(r<e.length)){o.next=19;break}if(Cs((s=e[r]).references,this.a9._l),0!==s.references.length){o.next=14;break}return o.next=12,Er.awrap(n.jo(s.key));case 12:o.next=16;break;case 14:return o.next=16,Er.awrap(n.oK(s));case 16:r++,o.next=6;break;case 19:case"end":return o.stop()}},null,this,null,ze)},n.BSt=function(){if(!this.iJ)return[];var t=this.a9.hR.sources[0];if(!mm(t))return[];var n=bB(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,e=t.Ryt;i<e.length;i++)for(var r=0,s=e[i].Oyt;r<s.length;r++)for(var u=0,o=s[r].qk;u<o.length;u++)for(var h=0,a=o[u].kl;h<a.length;h++){var c=a[h];c.Qyt&&n.push(c.Qyt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.iJ).map(function(t){return{src:t}}).map(function(t){return bB(t.src)});return[n].concat(i)},n.PSt=function(t){var n,i,e,r,s=this;return Er.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=t.yK,u.next=3,Er.awrap(n.cK());case 3:i=u.sent.filter(function(t){return Os(t.references,s.a9._l)}),e=0;case 5:if(!(e<i.length)){u.next=19;break}if(Cs((r=i[e]).references,this.a9._l),0!==r.references.length){u.next=14;break}return u.next=11,Er.awrap(n.jo(r.key));case 11:this.LSt(r),u.next=16;break;case 14:return u.next=16,Er.awrap(n.oK(r));case 16:e++,u.next=5;break;case 19:case"end":return u.stop()}},null,this,null,ze)},n.LSt=function(t){},t}(),gY=new(function(){function t(){}return t.prototype.KG=function(t,n,i){return new _Y(t,n,i)},t}());var wY=function(){function t(t,n){this.Sd=void 0,this.rd=t,this.MSt=n}var n=t.prototype;return n.w4=function(t){this.USt(t)},n.USt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(this.MSt.sSt(t));case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),this.rd.nyt(_q.ERROR);case 9:case"end":return n.stop()}},null,this,[[0,5]],ze)},A(t,[{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{renew:function(n){t.w4(n)}})),this.Sd}}]),t}(),mY=function(t){function n(n,i,e,r,s,u){var o;(o=t.call(this)||this).Bo=void 0,o.Jmt=void 0,o.Sd=void 0,o.Ngt=void 0,o.FSt=void 0,o.AK=void 0,o.MSt=void 0,o.HSt=new Fs,o.zSt=void 0,o.evictOnLoading=function(){o.Xr("Hmt",o.evictOnLoading),o.VSt()},o.Bo=n,o.Ngt=i,o.FSt=e,o.AK=r,o.MSt=s.KG(Yt(o),o.AK,u),o.zSt=new wY(Yt(o),o.MSt),o.Jmt=1===o.MSt.YTt.gyt?_q.DONE:_q.IDLE,o.MSt.Hr("x$",function(t){o.Ur(t),1===o.RSt&&o.nyt(_q.DONE)});var a=new Date,c=o.FSt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.VSt()},c),o}S(n,t);var i=n.prototype;return i.nyt=function(t){this.Jmt!==t&&(this.Jmt=t,this.Fr(new wq))},i.RR=function(){this.Jmt===_q.EVICTED||this.Jmt===_q.DONE||this.WSt()},i.WSt=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,this.nyt(_q.LOADING),t=new Fs,this.HSt=t,n.next=6,Er.awrap(this.MSt.jTt(t.Pr));case 6:this.nyt(_q.DONE),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),zs(n.t0)?this.nyt(_q.IDLE):this.nyt(_q.ERROR);case 12:return n.prev=12,this.HSt.Sr(),n.finish(12);case 15:case"end":return n.stop()}},null,this,[[0,9,12,15]],ze)},i.K_=function(){this.HSt.Cr()},i.jo=function(){this.Df===_q.LOADING?(this.Hr("Hmt",this.evictOnLoading),this.K_()):this.VSt()},i.VSt=function(){var t;return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Er.awrap(this.MSt.rSt());case 3:return t=n.sent,n.next=6,Er.awrap(gY.KG(this,this.AK,t).DSt());case 6:this.MSt.YTt=Dq.lyt(),this.nyt(_q.EVICTED),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),this.nyt(_q.ERROR);case 14:case"end":return n.stop()}},null,this,[[0,10]],ze)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=lY(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"oC",get:function(){return this.zSt}},{key:"Df",get:function(){return this.Jmt}},{key:"hR",get:function(){return this.Ngt}},{key:"lh",get:function(){return this.FSt}},{key:"d_",get:function(){return this.MSt.YTt.aI}},{key:"SSt",get:function(){return this.MSt.YTt.dyt}},{key:"ESt",get:function(){return this.MSt.YTt.vyt}},{key:"RSt",get:function(){return this.MSt.YTt.gyt}},{key:"ISt",get:function(){return this.MSt.vSt}},{key:"NSt",get:function(){return this.MSt.YTt._yt}}]),n}(Kw);var yY=function(){function t(t,n){this.AK=t,this.XSt=n}var n=t.prototype;return n.syt=function(t,n,i){var e=TR();return this.eyt(e,t,n,i)},n.eyt=function(t,n,i,e){return new mY(t,n,i,this.AK,this.XSt,e)},t}(),kY=30,pY=5;function bY(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(q(t)&&!us(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,q(i)&&us(i,"%")){var n=w(t);if(m(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!q(t)&&m(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+kY),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(Y(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var e=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(m(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(e),{amount:n,expirationDate:i,bandwidth:e,parallelTasksThreshold:function(t){if(!t)return pY;if(m(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var AY,TY,SY,EY,RY,IY,NY=function(t){function n(n,i){var e;return(e=t.call(this)||this).Sd=void 0,e.qSt=n,e.aB=i,e.qSt.Hr("Hmt",e.Ur),e}return S(n,t),n.prototype.GSt=function(t,n,i){var e,r;if(!t)throw new v("Unexpected - The source description is undefined");if(e=YE(t),r=bY(n),ME(e))throw new v("Invalid source description");return this.qSt.eyt(e,r).Ed},A(n,[{key:"Ed",get:function(){var t,n,i;return this.Sd||(this.Sd=(i={get status(){return t.Df},get tasks(){return t.hyt},get network(){return t.bB.Ed},createTask:function(n,i){return t.GSt(n,i)},addEventListener:function(t,i){n.Hr(t,i)},removeEventListener:function(t,i){n.Xr(t,i)}},n=new VI(t=this,i),i)),this.Sd}},{key:"Df",get:function(){return this.qSt.Df}},{key:"hyt",get:function(){return this.qSt.hyt.Ed}},{key:"bB",get:function(){return this.aB}}]),n}(Kw);(AY=new SI(i.kd,!1),TY=pB.Rn,SY=new dY(AY),EY=new yY(TY,SY),RY=new RI(AY),IY=new Eq(TY.mK,EY,"persistent"),new NY(IY,RY)).Ed;var DY=function(t){function n(n,i,e,r){var s;return(s=t.call(this)||this).Bo=void 0,s.Jmt=void 0,s.Sd=void 0,s.Ngt=void 0,s.FSt=void 0,s.Au=0,s.QSt=FS.dI(),s.YSt=0,s.jSt=0,s.qSt=void 0,s.Bo=n,s.Jmt=_q.IDLE,s.Ngt=i,s.FSt=e,s.qSt=r,s}S(n,t);var i=n.prototype;return i.RR=function(){this.qSt.startCachingTask(this)},i.jo=function(){this.qSt.removeCachingTask(this)},A(n,[{key:"Ed",get:function(){return this.Sd||(this.Sd=lY(this)),this.Sd}},{key:"_l",get:function(){return this.Bo}},{key:"Df",get:function(){return this.Jmt},set:function(t){this.Jmt!==t&&(this.Jmt=t,this.Fr(new wq))}},{key:"hR",get:function(){return this.Ngt}},{key:"lh",get:function(){return this.FSt}},{key:"d_",get:function(){return this.Au},set:function(t){this.Au=t}},{key:"SSt",get:function(){return this.QSt},set:function(t){this.QSt=t}},{key:"ESt",get:function(){return this.YSt},set:function(t){this.YSt=t}},{key:"RSt",get:function(){return this.jSt},set:function(t){this.jSt=t,this.Fr(new Nq)}}]),n}(tm),CY=30;function xY(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+CY),n&&((i=n)&&!(Y(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var OY=function(t){function n(){var n;return(n=t.call(this)||this).Jmt=kq.UNINITIALISED,n.LB=new Sq,n.Lwt=void 0,n.$wt=void 0,n.ZSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Df=_q.EVICTED,i.RSt=0,i.ESt=0,i.d_=0,i.SSt=FS.dI(),n.LB.jo(i))}},n.JSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var e=t.detail.status;e&&(i.Df=e);var r=t.detail.percentage;r&&(i.RSt=r);var s=t.detail.duration;s&&(i.d_=s);var u=t.detail.seconds;u&&(i.ESt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.SSt=new FS(h)}}}},n.$St=function(t){if(t.detail){var i=YE(JSON.parse(t.detail.source));if(!n.KSt(i)){var e={},r=t.detail.expirationDate;r&&(e={expirationDate:new Date(r)});var s=t.detail.uuid;n.eyt(i,xY(e),s)}}},n.tEt=function(t){if(t.detail){var i={},e=t.detail.expirationDate;e&&(i={expirationDate:new Date(e)});var r=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.eyt(YE(r),xY(i),s);u.Df=t.detail.status,u.RSt=t.detail.percentage,u.d_=t.detail.duration,u.ESt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.SSt=new FS(h)}},n.nEt=function(t){t.detail&&n.nyt(t.detail.status)},n.Lwt=new fq,n.$wt=new XX,UX().cache={sdkEventBus:n.$wt},n.CJ(),n}S(n,t);var i=n.prototype;return i.nyt=function(t){this.Jmt!==t&&(this.Jmt=t,this.Fr(new wq))},i.eyt=function(t,n,i){void 0===i&&(i=void 0);var e=new DY(i||TR(),t,n,this);return this.LB.Lg(e),i||this.Lwt.UG("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:e._l}),e},i.findTaskWithId=function(t){for(var n=0,i=this.LB.Vmt;n<i.length;n++){var e=i[n];if(e._l===t)return e}},i.KSt=function(t){for(var n=BY(t.sources),i=0,e=this.LB.Vmt;i<e.length;i++){if(BY(e[i].hR.sources).src===n.src)return!0}return!1},i.CJ=function(){this.$wt.addEventListener("deleteTask",this.ZSt),this.$wt.addEventListener("updateValues",this.JSt),this.$wt.addEventListener("newTask",this.$St),this.$wt.addEventListener("restoreTask",this.tEt),this.$wt.addEventListener("setCacheStatus",this.nEt)},i.startCachingTask=function(t){this.Lwt.UG("THEOplayerCacheStartCachingTask",{id:t._l})},i.removeCachingTask=function(t){this.Lwt.UG("THEOplayerCacheRemoveCachingTask",{id:t._l})},A(n,[{key:"Df",get:function(){return this.Jmt}},{key:"hyt",get:function(){return this.LB}}]),n}(iu),PY=function(t){function n(n){var i;return(i=t.call(this,n)||this).iEt=n,i.iEt.Hr("Hmt",i.Ur),i}return S(n,t),n.prototype.GSt=function(t,n){var i,e;if(!t)throw new v("Unexpected - The source description is undefined");if(i=YE(t),e=xY(n),ME(i))throw new v("Invalid source description");if(!BY(i.sources))throw new v("The provided sources can't be cached");return this.iEt.eyt(i,e).Ed},n}(NY);function BY(t){for(var n=0;n<t.length;n++){var i=t[n];if(lm(i.type))return i}}var LY,MY,UY=function(){var t=new OY;return new PY(t)}().Ed;!function(t){t.eEt="any",t.rEt="natural",t.sEt="landscape",t.uEt="portrait",t.oEt="portrait-primary",t.hEt="portrait-secondary",t.aEt="landscape-primary",t.cEt="landscape-secondary"}(LY||(LY={})),function(t){t.oEt="portrait-primary",t.hEt="portrait-secondary",t.aEt="landscape-primary",t.cEt="landscape-secondary"}(MY||(MY={}));var FY,HY,zY=function(t){function n(){for(var n,i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return(n=t.call.apply(t,[this].concat(e))||this).Lwt=new fq,n.fEt=LY.rEt,n.vEt=MY.oEt,n.dEt=MY.oEt,n.lEt=MY.oEt,n}S(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,e){n.fEt=t,n.Lwt.UG("THEOplayerOrientationLock",t),n._Et(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.fEt=LY.rEt,t.Lwt.UG("THEOplayerOrientationUnlock"),t.type=t.dEt,t._Et(),n()})},i._Et=function(){var t=this.lEt,n=this.type;t!==n&&(this.lEt=n,this.Fr(new ru("change")))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n.gEt=function(t){switch(t){case LY.oEt:return[MY.oEt];case LY.hEt:return[MY.hEt];case LY.uEt:return[MY.oEt,MY.hEt];case LY.aEt:return[MY.aEt];case LY.cEt:return[MY.cEt];case LY.sEt:return[MY.aEt,MY.cEt];case LY.rEt:return[MY.oEt,MY.aEt,MY.cEt];case LY.eEt:return[MY.oEt,MY.hEt,MY.aEt,MY.cEt]}},n.wEt=function(t,i){return n.gEt(i).indexOf(t)>=0},A(n,[{key:"type",get:function(){return this.vEt},set:function(t){this.dEt=t,n.wEt(t,this.fEt)?(this.vEt=t,this._Et()):(t===MY.aEt&&this.fEt===LY.cEt&&(this.vEt=MY.cEt,this._Et()),t===MY.cEt&&this.fEt===LY.aEt&&(this.vEt=MY.aEt,this._Et()))}},{key:"angle",get:function(){switch(this.type){case MY.aEt:return-90;case MY.cEt:return 90;case MY.oEt:return 0;case MY.hEt:return 180;default:return 0}}}]),n}(tm);zY.Rn=new zY,r.screen.orientation=zY.Rn,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.mEt="unavailable",t.yEt="available",t.kEt="presenting"}(FY||(FY={})),wN(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return S(n,t),n.prototype.ig=function(n){t.prototype.ig.call(this,n);var i=this.Ed;this.Ed.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===FY.kEt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(LY.cEt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},aN.SB),function(t){t.pd="addtrack",t.Ad="removetrack",t.Fd="change",t.qd="update"}(HY||(HY={}));var VY=function(t,n,i){this.type=HY.Fd,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},WY=function(t,n){this.type=HY.pd,this.mediaType=t,this.mediaTrack=n},XY=function(t,n){this.type=HY.Ad,this.mediaType=t,this.mediaTrack=n},qY=function(t,n){this.type=HY.qd,this.mediaType=t,this.mediaTrack=n},GY=function(){function t(t,n,i){var e=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.pEt=function(t){var n=new VY(e.type,t.track,e.mediaTracks);e.messageDispatcher.bEt(n)},this.AEt=function(t){var n=new WY(e.type,t.track);e.messageDispatcher.bEt(n),t.track.addEventListener("update",e.TEt)},this.SEt=function(t){var n=new XY(e.type,t.track);e.messageDispatcher.bEt(n)},this.TEt=function(t){var n=new qY(e.type,t.track);e.messageDispatcher.bEt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.CJ()}return t.prototype.CJ=function(){this.mediaTracks.addEventListener("change",this.pEt),this.mediaTracks.addEventListener("addtrack",this.AEt),this.mediaTracks.addEventListener("removetrack",this.SEt)},t}(),QY=function(){function t(){this.EEt=void 0,this.EEt=new fq}return t.prototype.bEt=function(t){this.EEt.UG(t.type,AV(t))},t}();kN(function(t){if(t.Ed.audioTracks){var n=new QY;new GY("audio",t.Ed.audioTracks,n)}if(t.Ed.videoTracks){var i=new QY;new GY("video",t.Ed.videoTracks,i)}});var YY,jY="nativePromiseCallback",ZY=function(t){function n(n){var i;return(i=t.call(this,jY)||this).detail=n,i}return S(n,t),n}(ru);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(YY||(YY={}));var JY=function(t){function n(){return t.apply(this,arguments)||this}S(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Fr(new ZY(n))},i.addEventListener=function(t,n){this.Hr(t,n)},i.removeEventListener=function(t,n){this.Xr(t,n)},n}(XX),$Y=function(){function t(){var t=this;this.EEt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case YY.RESOLVE:i.Is(n.detail.data);break;case YY.REJECT:i.Ns(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new JY;UX().nativePromise={sdkEventBus:n},n.addEventListener(jY,this.handleNativePromiseEvent)}return t.prototype.REt=function(n){var i;t.messageIdTracker+=1;var e=t.messageIdTracker.toString(),r=Rr({},n,{promiseId:e}),s=new Ro;return this.promisesMap[e]=s,null==(i=this.EEt)||i.UG(n.type,pV(r)),s.Ss},t}();$Y.messageIdTracker=-1;var KY,tj=function(t){function n(){var n;return(n=t.call(this)||this).EEt=new fq,n}return S(n,t),n}($Y),nj=function(){function n(t){this.playerID=t}return n.prototype.UG=function(n,i){if(t.THEOplayerBridge[this.playerID].postMessageToSwift&&"function"==typeof t.THEOplayerBridge[this.playerID].postMessageToSwift){var e={body:i,name:n};t.THEOplayerBridge[this.playerID].postMessageToSwift(e)}},n}(),ij=function(t){function n(n){var i;return(i=t.call(this)||this).EEt=new nj(n),i}return S(n,t),n}($Y);!function(t){t.pd="TextTrackListAddTrack",t.Ad="TextTrackListRemoveTrack",t.Fd="TextTrackListChange"}(KY||(KY={}));var ej,rj=function(t){this.type=KY.pd,this.textTrack=t},sj=function(t){this.type=KY.Ad,this.textTrack=t},uj=function(t){this.type=KY.Fd,this.textTrack=t};!function(t){t.Nd="TextTrackAddCue",t.Cd="TextTrackRemoveCue",t.Od="TextTrackEnterCue",t.Bd="TextTrackExitCue",t.Md="TextTrackCueChange"}(ej||(ej={}));var oj,hj=function(t,n){this.type=ej.Nd,this.textTrackCue=t,this.textTrackUid=n},aj=function(t,n){this.type=ej.Cd,this.textTrackCue=t,this.textTrackUid=n},cj=function(t,n){this.type=ej.Od,this.textTrackCue=t,this.textTrackUid=n},fj=function(t,n){this.type=ej.Bd,this.textTrackCue=t,this.textTrackUid=n},vj=function(t){this.type=ej.Md,this.textTrackUid=t};!function(t){t.jg="TextTrackCueEnter",t.Jg="TextTrackCueExit",t.qd="TextTrackCueUpdate"}(oj||(oj={}));var dj=function(t){this.type=oj.jg,this.textTrackCue=t},lj=function(t){this.type=oj.Jg,this.textTrackCue=t},_j=function(t){this.type=oj.qd,this.textTrackCue=t},gj=function(){function t(t){var n=this;this.messageDispatcher=void 0,this.IEt=function(t){var i=wj(t.cue),e=new dj(i);n.messageDispatcher.REt(e).then()},this.NEt=function(t){var i=wj(t.cue),e=new lj(i);n.messageDispatcher.REt(e).then()},this.DEt=function(t){var i=wj(t.cue),e=new _j(i);n.messageDispatcher.REt(e).then()},this.messageDispatcher=t}var n=t.prototype;return n.CJ=function(t){t.addEventListener("enter",this.IEt),t.addEventListener("exit",this.NEt),t.addEventListener("update",this.DEt)},n.Gr=function(t){t.removeEventListener("enter",this.IEt),t.removeEventListener("exit",this.NEt),t.removeEventListener("update",this.DEt)},t}();function wj(t){var n=CX(t,t.track.type);return n.track=t.track,n}var mj=function(){function t(t,n){var i=this;this.messageDispatcher=void 0,this.textTrackCueBridge=void 0,this.CEt=function(t){var n,e=wj(t.cue),r=new hj(e,t.cue.track.uid);i.messageDispatcher.REt(r).then(),null==(n=i.textTrackCueBridge)||n.CJ(t.cue)},this.xEt=function(t){var n,e=wj(t.cue),r=new aj(e,t.cue.track.uid);i.messageDispatcher.REt(r).then(),null==(n=i.textTrackCueBridge)||n.Gr(t.cue)},this.IEt=function(t){var n=wj(t.cue),e=new cj(n,t.cue.track.uid);i.messageDispatcher.REt(e).then()},this.NEt=function(t){var n=wj(t.cue),e=new fj(n,t.cue.track.uid);i.messageDispatcher.REt(e).then()},this.OEt=function(t){var n=new vj(t.track.uid);i.messageDispatcher.REt(n).then()},this.messageDispatcher=t;var e=this.initMessageDispatcher(n);e&&(this.textTrackCueBridge=new gj(e))}var n=t.prototype;return n.CJ=function(t){t.addEventListener("addcue",this.CEt),t.addEventListener("removecue",this.xEt),t.addEventListener("entercue",this.IEt),t.addEventListener("exitcue",this.NEt),t.addEventListener("cuechange",this.OEt)},n.Gr=function(t){t.removeEventListener("addcue",this.CEt),t.removeEventListener("removecue",this.xEt),t.removeEventListener("entercue",this.IEt),t.removeEventListener("exitcue",this.NEt),t.removeEventListener("cuechange",this.OEt)},n.initMessageDispatcher=function(t){return L.An?new tj:L.Tn&&void 0!==t?new ij(t):void 0},t}(),yj=function(){function t(t,n,i){var e=this;this.textTracks=void 0,this.messageDispatcher=void 0,this.textTrackBridge=void 0,this.sdkEventBus=void 0,this.AEt=function(t){var n,i=new rj(t.track);e.messageDispatcher.REt(i).then(),null==(n=e.textTrackBridge)||n.CJ(t.track)},this.SEt=function(t){var n,i=new sj(t.track);e.messageDispatcher.REt(i).then(),null==(n=e.textTrackBridge)||n.Gr(t.track)},this.PEt=function(t){var n=new uj(t.track);e.messageDispatcher.REt(n).then()},this.BEt=function(t){var n=t.detail.uid,i=t.detail.mode;e.textTracks.filter(function(t){return t.uid===n})[0].mode=i},this.textTracks=t,this.messageDispatcher=n;var r=this.LEt(i);r&&(this.textTrackBridge=new mj(r,i)),this.CJ(),this.sdkEventBus=new XX,UX().textTrackList={sdkEventBus:this.sdkEventBus},this.sdkEventBus.addEventListener("changetrackmode",this.BEt)}var n=t.prototype;return n.CJ=function(){this.textTracks.addEventListener("addtrack",this.AEt),this.textTracks.addEventListener("removetrack",this.SEt),this.textTracks.addEventListener("change",this.PEt)},n.LEt=function(t){return L.An?new tj:L.Tn&&void 0!==t?new ij(t):void 0},t}();kN(function(t){if(t.Ed.textTracks){var n=new tj;new yj(t.Ed.textTracks,n)}});var kj,pj,bj=function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case kj.MEt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Fr(new Aj(i));break;default:0}},n}(XX),Aj=function(t){function n(n){var i;return(i=t.call(this,kj.MEt)||this).detail=n,i}return S(n,t),n}(ru);!function(t){t.MEt="registerContentProtectionIntegration"}(kj||(kj={})),function(t){t.UEt="certifiateRequest",t.FEt="certifiateResponse",t.HEt="licenseRequest",t.zEt="licenseResponse",t.VEt="extractFairplayContentId",t.WEt="buildContentProtection",t.XEt="registerContentProtectionCallback"}(pj||(pj={}));var Tj,Sj=function(t,n){this.type=pj.XEt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(Tj||(Tj={}));var Ej=function(t,n){this.type=pj.WEt,this.value=t,this.integrationId=n},Rj=function(t,n){this.type=pj.UEt,this.value=t,this.integrationId=n},Ij=function(t,n){this.type=pj.FEt,this.value=t,this.integrationId=n},Nj=function(t,n){this.type=pj.VEt,this.value=t,this.integrationId=n},Dj=function(t,n){this.type=pj.HEt,this.value=t,this.integrationId=n},Cj=function(t,n){this.type=pj.zEt,this.value=t,this.integrationId=n},xj=function(){function t(t,n){this.qEt=void 0,this.ST=void 0,this.qEt=t,this.ST=n}var i=t.prototype;return i.onCertificateRequest=function(t){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t),e=new Rj(i,this.ST),h.prev=2,h.next=5,Er.awrap(this.qEt.REt(e));case 5:if(!(r=h.sent)){h.next=16;break}if(s=JSON.parse(r),!this.GEt(s)){h.next=13;break}return u=Rr({},s),h.abrupt("return",u);case 13:if(!this.QEt(s)){h.next=16;break}return o=new y(s),h.abrupt("return",o);case 16:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw h.prev=19,h.t0=h.catch(2),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,h.t0);case 22:case"end":return h.stop()}},null,this,[[2,19]],ze)},i.onCertificateResponse=function(t){var i,e,r,s,u;return Er.async(function(o){for(;;)switch(o.prev=o.next){case 0:return i=this.toCertificateRequestDTO(t.request),e={request:i,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},r=new Ij(e,this.ST),o.next=5,Er.awrap(this.qEt.REt(r));case 5:if(!(s=o.sent)){o.next=11;break}return u=JSON.parse(s),o.abrupt("return",new y(u));case 11:throw new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return o.stop()}},null,this,null,ze)},i.onLicenseRequest=function(t){var i,e,r,s,u,o,h;return Er.async(function(a){for(;;)switch(a.prev=a.next){case 0:return i=this.toCertificateRequestDTO(t),e={url:i.url,method:i.method,headers:i.headers,body:i.body?Array.from(i.body):null,useCredentials:i.useCredentials,fairplaySkdUrl:t.fairplaySkdUrl},r=new Dj(e,this.ST),a.prev=3,a.next=6,Er.awrap(this.qEt.REt(r));case 6:if(!(s=a.sent)){a.next=17;break}if(u=JSON.parse(s),!this.GEt(u)){a.next=14;break}return o={url:u.url,method:u.method,headers:u.headers,body:u.body?new y(u.body):null,useCredentials:u.useCredentials,fairplaySkdUrl:u.fairplaySkdUrl},a.abrupt("return",o);case 14:if(!this.QEt(u)){a.next=17;break}return h=new y(u),a.abrupt("return",h);case 17:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw a.prev=20,a.t0=a.catch(3),new dy(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,a.t0);case 23:case"end":return a.stop()}},null,this,[[3,20]],ze)},i.onLicenseResponse=function(t){var i,e,r,s,u,o;return Er.async(function(h){for(;;)switch(h.prev=h.next){case 0:return i=this.toCertificateRequestDTO(t.request),e=Rr({},i,{fairplaySkdUrl:t.request.fairplaySkdUrl}),r={request:e,url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,body:Array.from(t.body)},s=new Cj(r,this.ST),h.next=6,Er.awrap(this.qEt.REt(s));case 6:if(!(u=h.sent)){h.next=12;break}return o=JSON.parse(u),h.abrupt("return",new y(o));case 12:throw new dy(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return h.stop()}},null,this,null,ze)},i.extractFairplayContentId=function(t){var i,e;return Er.async(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new Nj(t,this.ST),r.next=3,Er.awrap(this.qEt.REt(i));case 3:if(!(e=r.sent)){r.next=6;break}return r.abrupt("return",e);case 6:return r.abrupt("return",ze.reject(new dy(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return r.stop()}},null,this,null,ze)},i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.GEt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.QEt=function(t){return!!new y(t)},t}(),Oj=function(){function t(t){this.qEt=void 0,this.qEt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new xj(this.qEt,t.integration),i=new Ej({drmConfiguration:t},t.integration);return this.qEt.REt(i),n},t}(),Pj=function(t){function n(){var n;return(n=t.call(this)||this).qEt=new tj,n}return S(n,t),A(n,[{key:"messageDispatcher",get:function(){return this.qEt}}]),n}(function(){var t=this;this.$wt=void 0,this.YEt=function(n){var i=new Oj(t.messageDispatcher),e=n.detail,r=e.integrationId,s=e.keySystem,u={state:AA.CT.RT(r,s,i)};t.messageDispatcher.REt(new Sj(u,r))},this.$wt=new bj,UX().contentProtectionIntegration={sdkEventBus:this.$wt},this.$wt.addEventListener(kj.MEt,this.YEt)});kN(function(t){new Pj});var Bj=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return S(n,t),n}(ru);var Lj,Mj=function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).jEt=function(){},e.ZEt(),e}S(n,t);var e=n.prototype;return e.JEt=function(){this.gR&&this.gR.Xr(Xc.ra,this.handleAirplayChangedEvent),this.gR=this.jx,this.gR.Hr(Xc.ra,this.handleAirplayChangedEvent)},e.$Et=function(){return Er.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gR){t.next=2;break}return t.abrupt("return");case 2:this.KEt(kE.CONNECTED);case 3:case"end":return t.stop()}},null,this,null,ze)},e.tRt=function(){this.KEt(kE.AVAILABLE)},e.rg=function(){i.Pe.Ji&&(this.nRt.ug(),this.iRt.Cr(),this.iRt=new Fs,Zs(this.eRt(this.iRt.Pr)))},n}(function(t){function n(n,i){var e;return(e=t.call(this)||this).Sd=void 0,e.nRt=void 0,e.gR=void 0,e.jx=void 0,e.Ii=kE.UNAVAILABLE,e.iRt=new Fs,e.jEt=void 0,e.handleAirplayChangedEvent=function(){e.gR&&e.gR.bg?e.$Et():e.WX===kE.CONNECTED&&e.tRt()},e.nRt=n,e.jx=i,e}S(n,t);var e=n.prototype;return e.ZEt=function(){this.JEt(),this.nRt.Hr("sourcechange",this.jEt),i.Pe.Ji&&this.KEt(kE.AVAILABLE)},e.preloadPlayer=function(t){if(Vs(t),this.gR.Dl<am.i_){var n=this.gR.Yr("loadedmetadata",t);return this.gR.Cg=CS.$y,n}return ze.resolve()},e.KEt=function(t){t!==this.Ii&&(this.Ii=t,this.Fr(new Bj(this.Ii)))},e.eRt=function(t){return Er.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Er.awrap(this.preloadPlayer(t));case 2:this.jx.rg();case 3:case"end":return n.stop()}},null,this,null,ze)},e.sg=function(){i.Pe.Ji&&this.gR.sg()},e.hv=function(){this.Wr(),this.nRt.Xr("sourcechange",this.jEt),this.iRt.Cr()},A(n,[{key:"AP",get:function(){return this.WX===kE.CONNECTED}},{key:"WX",get:function(){return this.Ii}},{key:"Ed",get:function(){var t;return this.Sd||(this.Sd=(t=this,{get casting(){return t.AP},get state(){return t.WX},start:function(){t.rg()},stop:function(){t.sg()},addEventListener:function(n,i){var e=Lw(n,Pw);t.Hr(e,i)},removeEventListener:function(n,i){var e=Lw(n,Pw);t.Xr(e,i)}})),this.Sd}}]),n}(iu));wN(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return S(n,t),n.prototype.Rd=function(){var n=this.kB.Ed;return Ew(t.prototype.Rd.call(this),{get cast(){return n}})},n}(t)},aN.TB),wN(function(t){return function(t){function n(n,i){var e;return(e=t.call(this,n,i)||this).rRt=void 0,e.rRt=new Mj(Yt(e),e.gP),e.kB.bP(e.rRt),e.Hr("currentsourcechange",function(){e.rRt.JEt()}),e}S(n,t);var i=n.prototype;return i.Rd=function(){var n=this,i=t.prototype.Rd.call(this);return Ew(i.cast,{get airplay(){return n.rRt.Ed}}),i},i.hv=function(){this.rRt.hv(),t.prototype.hv.call(this)},n}(t)},aN.TB),function(t){t.sRt="airplaystatechange"}(Lj||(Lj={}));var Uj=function(t){this.type=Lj.sRt,this.state=t},Fj=function(t){function n(n){var i;return(i=t.call(this)||this).uRt=void 0,i.oRt=function(t){var n=new Uj(t.state);i.bEt(n)},i.uRt=n,i.CJ(n),i}return S(n,t),n.prototype.CJ=function(t){t.addEventListener("statechange",this.oRt)},n}(QY);kN(function(t){var n;null!=(n=t.Ed.cast)&&n.airplay&&new Fj(t.Ed.cast.airplay)}),n.ChromelessPlayer=UN,n.Player=UN,n.cache=UY,n.createGlobals=zX,n.features=["hls","airplay"],n.getCueMirrorMap=FX,n.getGlobalId=HX,n.getSdkEventBridge=UX,n.playerSuiteVersion="2022.3.1",n.players=HN,n.registerContentProtectionIntegration=zN,n.utils=FN,n.version="3.7.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
