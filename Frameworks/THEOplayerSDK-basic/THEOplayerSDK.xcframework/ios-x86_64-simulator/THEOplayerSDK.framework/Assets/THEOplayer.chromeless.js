/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.2.2 (2.86.1)
 Created: 2021-07-12T16:42:56.372Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r=t.window,e=t.document,u=t.location,s=t.navigator,o=t.setTimeout,a=t.clearTimeout,c=t.setInterval,h=t.clearInterval,f=t.Error,v=t.TypeError,d=(t.SyntaxError,t.Object),l=t.Math,_=t.parseInt,g=t.parseFloat,w=t.isNaN,y=t.Uint8Array,m=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest),p="undefined"!=typeof globalThis?globalThis:void 0!==r?r:"undefined"!=typeof global?global:void 0!==t?t:{};function A(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new f("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var b,T=A(function(n,u){n.exports=function t(n,r,e){function u(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof i&&i;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new f("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var v=r[o]={exports:{}};n[o][0].call(v.exports,function(t){var i=n[o][1][t];return u(i||t)},v,v.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new f}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function a(){this.g=!1,this.R=!1,this.I=new u(16),this.N=new u(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function c(t,n,i){this.I.push(t,n,i),this.H()}function h(t,n,i){this.N.push(t,n,i),this.H()}function v(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}a.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},a.prototype.hasCustomScheduler=function(){return this.g},a.prototype.enableTrampoline=function(){this.M=!0},a.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.M=!1)},a.prototype.haveItemsQueued=function(){return this.R||this.B},a.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof f?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},a.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==o)o(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(a.prototype.invokeLater=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){o(function(){t.call(n,i)},100)})},a.prototype.invoke=function(t,n,i){this.M?h.call(this,t,n,i):this.F(function(){t.call(n,i)})},a.prototype.settlePromises=function(t){this.M?v.call(this,t):this.F(function(){t.j()})}):(a.prototype.invokeLater=c,a.prototype.invoke=h,a.prototype.settlePromises=v),a.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},a.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},a.prototype.Y=function(){this.R=!1},n.exports=a,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.Z(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(u,u,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},a=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var c=i(u),h=new t(n);h.it(this,1);var f=this.ut();if(h.st(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:c};f.J(n,s,void 0,h,v),c.J(o,a,void 0,h,v),h.ot(c)}else h.nt(f);return h},t.prototype.st=function(t){void 0!==t?(this.K=2097152|this.K,this.at=t):this.K=-2097153&this.K},t.prototype.ct=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=d.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=l.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,a=n.ht;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),a.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Dt=function(){this.Ct=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.et());r===o&&(this.Pt(r.e),a.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Dt(),a.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Dt())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(a){var c=o.et();t:for(var h=0;h<t.length;++h){var v=t[h];if(v===f||null!=v&&v.prototype instanceof f){if(a instanceof v)return e(s).call(c,a)}else if("function"==typeof v){var d=e(v).call(c,a);if(d===u)return d;if(d)return e(s).call(c,a)}else if(i.isObject(a)){for(var l=r(v),_=0;_<l.length;++_){var g=l[_];if(v[g]!=a[g])continue t}return e(s).call(c,a)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,u=t.prototype.Ht,s=t.Vt,o=t.prototype.Vt,a=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=u,t.Vt=s,t.prototype.Vt=o,t.prototype.Ut=a,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,u,s,a=n.Xt,c=n.ht,h=t("./errors").Warning,l=t("./util"),g=t("./es5"),w=l.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==l.env("BLUEBIRD_DEBUG")),E=!(0==l.env("BLUEBIRD_WARNINGS")||!T&&!l.env("BLUEBIRD_WARNINGS")),S=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.ut();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;o(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",u,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=a();u="function"==typeof t?null===n?t:l.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=a();r="function"==typeof t?null===n?t:l.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new f("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),c.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),c.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!l.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,g.defineProperty(i,"promise",{value:n.promise}),g.defineProperty(i,"reason",{value:n.reason}),!l.global.dispatchEvent(i)}}var t=e.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,n){var i=e.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!l.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=l.isNode?function(){return process.emit.apply(process,arguments)}:l.global?function(t){var n="on"+t.toLowerCase(),i=l.global[n];return!!i&&(i.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,n){return{promise:n}}var O={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:C},x=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){c.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){c.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new v("onCancel must be a function, got: "+l.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?l.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Ct}function U(t){this.Ct=t}function F(){this.kt=void 0,this.Ct=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.ct()&&this.st(t.at)}n.config=function(t){if("longStackTraces"in(t=d(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,l.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(c.haveItemsQueued())throw new f("cannot enable cancellation after promises are in use");n.prototype.un=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.sn=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.an=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.an=P)),n},n.prototype.an=P,n.prototype.sn=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.un=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.ct()&&this.st(t.at)};function X(){var t=this.at;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.cn),void 0!==i)i.attachExtraTrace(t);else if(!t.hn){var r=Q(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"hn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,u=new h(t);if(i)r.Pt(u);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(u);else{var s=Q(u);u.stack=s.message+"\n"+s.stack.join("\n")}x("warning",u)||Y(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),u=e&&K(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(l.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof s?s(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){c.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():l.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:_(n[2],10)}}function it(t){this.cn=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}l.inherits(it,f),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.cn;for(var r=(t=this.Nt=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].cn=void 0,n[o-1].Nt=1),n[r].cn=void 0,n[r].Nt=1;var a=r>0?n[r-1]:this;o<t-1?(a.cn=n[o+1],a.cn.uncycle(),a.Nt=a.cn.Nt+1):(a.cn=void 0,a.Nt=1);for(var c=a.Nt+1,h=r-2;h>=0;--h)n[h].Nt=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.hn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.cn;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var a=r[o];if(n[e]!==a)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),l.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),l.notEnumerableProp(t,"hn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof f.stackTraceLimit&&"function"==typeof f.captureStackTrace){f.stackTraceLimit+=6,p=t,A=n;var i=f.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){f.stackTraceLimit+=6,i(t,n),f.stackTraceLimit-=6}}var r,e=new f;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new f).stack};try{throw new f}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof f.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){f.stackTraceLimit+=6;try{throw new f}catch(n){t.stack=n.stack}f.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},l.isNode&&process.stderr.isTTY?s=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:l.isNode||"string"!=typeof(new f).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var u="",s="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),a=j(o),c=a.length-1;c>=0;--c){var h=a[c];if(!m.test(h)){var f=h.match(k);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(a.length>0)for(var v=a[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(s="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,a=0;a<e.length;++a){var c=nt(e[a]);if(c){i=c.fileName,s=c.line;break}}for(var a=0;a<u.length;++a){var c=nt(u[a]);if(c){r=c.fileName,o=c.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),a=o.inherits,c=o.notEnumerableProp;function h(t,n){function i(r){if(!(this instanceof i))return new i(r);c(this,"message","string"==typeof r?r:n),c(this,"name",t),f.captureStackTrace?f.captureStackTrace(this,this.constructor):f.call(this)}return a(i,f),i}var d=h("Warning","warning"),l=h("CancellationError","cancellation error"),_=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{r=v,e=RangeError}catch(t){r=h("TypeError","type error"),e=h("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof f?(c(this,"message",t.message),c(this,"stack",t.stack)):f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},a(k,f);var p=f.vn;p||(p=s({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),u.defineProperty(f,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:f,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:d.freeze,defineProperty:d.defineProperty,getDescriptor:d.getOwnPropertyDescriptor,keys:d.keys,names:d.getOwnPropertyNames,getPrototypeOf:d.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=d.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return d(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function a(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.ut().Zt())}function d(t){if(!h(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(a===r)return a;if(void 0!==a){e.jt();var v=i(a,e);if(v instanceof n){if(null!=this.cancelPromise){if(v.Ot()){var l=new u("late cancellation observer");return e.Pt(l),s.e=l,s}v.isPending()&&v.rn(new c(this))}return v.J(f,d,void 0,this,void 0)}}}return e.isRejected()?(h(this),s.e=t,s):(h(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new a(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var a=arguments[r];if(!e.isObject(a))return n.reject(new v("tapCatch statement predicate: expecting an object but got "+e.classString(a)));u[s++]=a}u.length=s;var c=arguments[r];return this.dn(o(u,c,this),1,void 0,l)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),a=o.TypeError,c=t("./util"),h=c.errorObj,v=c.tryCatch,l=[];function _(t,i,e,u){if(s.cancellation()){var o=new n(r),a=this.ln=new n(r);this._n=o.lastly(function(){return a}),o.nn(),o.ot(this)}else{var c=this._n=new n(r);c.nn()}this.gn=u,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(l):l,this.pn=null,this.An=!1}c.inherits(_,u),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,s.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=v(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=v(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=v(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=v(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Dn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===h)return this.Tn(),this.An?i.cancel():i.Cn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var u=e(r,this._n);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Ft();var s=v(i[u])(t);if(r.Ht(),s===h){r.Ft();var o=n.reject(h.e);return r.Ht(),o}var a=e(s,r);if(a instanceof n)return a}return null}(u,this.kn,this._n))){var s=(u=u.ut()).K;0==(50397184&s)?(this.pn=u,u.On(this,null)):0!=(33554432&s)?n.ht.invoke(this.In,this,u.xn()):0!=(16777216&s)?n.ht.invoke(this.Nn,this,u.Pn()):this.Sn()}else this.Nn(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=d(n).yieldHandler,r=_,e=(new f).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.mn=n,u.In(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));l.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Dn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Xt,a=t("./util"),c=a.tryCatch,h=a.errorObj,f=n.ht;function d(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:a.domainBind(e,n),this.Ln=r===u?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new v("options argument must be an object but it is "+a.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new v("'concurrency' must be a number but it is "+a.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new d(t,i,s,u).promise()}a.inherits(d,i),d.prototype.Hn=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype.In=function(t,i){var r=this.Vn,u=this.length(),o=this.Ln,a=this.Mn;if(i<0){if(r[i=-1*i-1]=t,a>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(a>=1&&this.Un>=a)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=c(v).call(d,t,i,u),_=f.Ht();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===h)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.ut()).K;if(0==(50397184&w))return a>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=u&&(null!==o?this.qn(r,o):this.zn(r),!0)},d.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},d.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.zn(r)},d.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),s=r.Ht();return u.checkForgottenReturns(e,s,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,a=new n(i);if(a.nn(),a.Ft(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];r=s.isArray(c)?o(t).apply(h,c):o(t).call(h,c)}else r=o(t)();var f=a.Ht();return u.checkForgottenReturns(r,f,"Promise.try",a),a.Gn(r),a},n.prototype.Gn=function(t){t===s.errorObj?this.Cn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof f&&o.getPrototypeOf(t)===f.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];a.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=c(e(i));t.Pt(u),t.Z(u)}else if(n){var s=[].slice.call(arguments,1);t.En(s)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ht,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.et(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.et(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function a(t,n){if(!t){var i=new f(t+"");i.cause=t,t=i}var s=e(n).call(this.et(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&d(n).spread&&(i=s),this.J(i,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new l("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.ut())},e=function(t){return N.reject(new l(t))};function u(){}var s,o={},a=t("./util");s=a.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},a.notEnumerableProp(N,"Xt",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"ht",{value:f});var v=t("./errors"),l=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,u),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=a.errorObj,I=a.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new l("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new l("expecting a function but got "+a.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.an("promiseCreated",this)}function D(t){this.promise.nt(t)}function C(t){this.promise.Cn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!a.isObject(s))return e("Catch statement predicate: expecting an object but got "+a.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new l("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(i+=", "+a.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+a.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!d(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Cn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Cn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+a.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(g),c=this.ut(),h=c.K;u||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&h)?this.et():c===this?void 0:this.at),this.an("promiseChained",this,o));var v=s();if(0!=(50397184&h)){var d,l,w=c.ii;0!=(33554432&h)?(l=c.Qn,d=t):0!=(16777216&h)?(l=c.jn,d=n,c.tn()):(w=c.ri,l=new _("late cancellation observer"),c.Pt(l),d=n),f.invoke(w,c,{handler:null===v?d:"function"==typeof d&&a.domainBind(v,d),promise:o,receiver:r,value:l})}else c.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.ui=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.an("promiseFulfilled",this)},N.prototype.si=function(){this.K=16777216|this.K,this.an("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.an("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.ai=function(){return(4194304&this.K)>0},N.prototype.ci=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.an("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.hi=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.ct()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.hi(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),u=t.hi(n);void 0===u&&(u=o),this.ei(i,r,e,u,null)},N.prototype.ei=function(t,n,i,r,e){var u=this.Nt();if(u>=65531&&(u=0,this.ui(0)),0===u)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:a.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:a.domainBind(e,n))}return this.ui(u+1),u},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Cn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.ut();if(e!==this){var u=e.K;if(0==(50397184&u)){var s=this.Nt();s>0&&e.li(this);for(var o=1;o<s;++o)e._i(this,o);this.oi(),this.ui(0),this.gi(e)}else if(0!=(33554432&u))this.En(e.xn());else if(0!=(16777216&u))this.Z(e.Pn());else{var a=new _("late cancellation observer");e.Pt(a),this.Z(a)}}else this.Z(i())}},N.prototype.Cn=function(t,n,i){var r=a.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+a.classString(t);this.ft(u,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.sn(t,function(t){n.nt(t)},function(t){n.Cn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Cn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var u;r.Ft(),n===w?i&&"number"==typeof i.length?u=I(t).apply(this.et(),i):(u=R).e=new l("cannot .spread() a non-array: "+a.classString(i)):u=I(t).call(n,i);var s=r.Ht();0==(65536&(e=r.K))&&(u===y?r.Z(i):u===R?r.Cn(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r.nt(u)))}},N.prototype.ut=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var s=t instanceof N,o=this.K,a=0!=(134217728&o);0!=(65536&o)?(s&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof u?i.Sn(t):s||t instanceof k?t.St():i.cancel()):"function"==typeof n?s?(a&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof u?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):s&&(a&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.hi(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.si(),this.jn=t,this.ai())return f.fatalError(t,a.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),u=this.hi(i);this.ki(i),this.yi(e,r,u,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),u=this.hi(i);this.ki(i),this.yi(e,r,u,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.ui(0)}this.un()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:D,reject:C}},a.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,u,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),a.toFastProperties(N),a.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(h.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,u){var o=r(this.Vn,this._n);if(o instanceof n){var a=(o=o.ut()).K;if(this.Vn=o,0==(50397184&a))return this._n.ti(),o.J(t,this.Z,void 0,this,u);if(0==(33554432&a))return 0!=(16777216&a)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=s.asArray(o)))0!==o.length?this.Ti(o):-5===u?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var c=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this._n.Cn(c,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,u=!1,s=null,o=0;o<i;++o){var a=r(t[o],e);a instanceof n?(a=a.ut(),s=a.K):s=null,u?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a.On(this,o),this.Vn[o]=a):u=0!=(33554432&s)?this.In(a.xn(),o):0!=(16777216&s)?this.Nn(a.Pn(),o):this.Sn(o):u=this.In(a,o)}u||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Cn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,a=e.canEvaluate,c=t("./errors").TypeError,h={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function l(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,h);return!!r&&_(r)}function w(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var a=u[o],h=t[a],f=r===v||v(a);"function"!=typeof h||_(h)||g(t,a,n)||!r(a,h,t,f)||s.push(a,h)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=a?void 0:function(t,a,c,h,f,v){var d=function(){return this}(),l=t;function _(){var e=a;a===r&&(e=this);var c=new n(i);c.nn();var h="string"==typeof l&&this!==d?this[l]:t,f=u(c,v);try{h.apply(e,s(arguments,f))}catch(t){c.Cn(o(t),!0,!0)}return c.Kn()||c.ti(),c}return"string"==typeof l&&(t=h),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),a=w(t,n,o,i),c=0,h=a.length;c<h;c+=2){var f=a[c],v=a[c+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=d(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,l),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=d(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),a=0;a<o.length;++a){var h=t[o[a]];"constructor"!==o[a]&&e.isClass(h)&&(k(h.prototype,r,u,s,i),k(h,r,u,s,i))}return k(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,a=t("./es5");"function"==typeof Map&&(u=Map);var c=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=c(t),i=!0;else{var r=a.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.J(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.it(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,i),h.prototype._init=function(){},h.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.Vn);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.Vn[s+e]]=this.Vn[s]}return this.zn(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Di=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Ci(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Di(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Ci(r);var u=this.Ii-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Ci=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var a=r(t);if(a instanceof n)return s(a);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var c=new n(i);void 0!==o&&c.it(o,3);for(var h=c.En,f=c.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(h,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Xt,a=t("./util"),c=a.tryCatch;function h(t,i,r,e){this.constructor$(t);var s=o();this.xi=null===s?i:a.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===u?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var u=new h(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,u=c(r.xi);e.Ft(),(i=void 0!==r.Li?u.call(e.et(),t,this.index,this.length):u.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return s.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}a.inherits(h,i),h.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==u&&this.Li.push(t)},h.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},h.prototype._init=function(){},h.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.zn=function(t){this._n.nt(t),this.Vn=null},h.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},h.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,u,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var u,s,a,c,h,v=t("./util"),d=v.getNativePromise();if(v.isNode&&"undefined"==typeof MutationObserver){var l=p.setImmediate,_=process.nextTick;u=v.isRecentNode?function(t){l.call(p,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();u=function(t){g.then(t)}}else u="undefined"!=typeof MutationObserver&&(void 0===r||!r.navigator||!r.navigator.standalone&&!r.cordova)&&"classList"in e.documentElement?(s=e.createElement("div"),a={attributes:!0},c=!1,h=e.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),c=!1}).observe(h,a),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,a),c||(c=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==o?function(t){o(t,0)}:function(){throw new f("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=u},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},s.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},s.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,a={};function c(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function h(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(c,i),c.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},c.prototype.init=function(){this.Wi=!0,this._init()},c.prototype.setUnwrap=function(){this.Xi=!0},c.prototype.howMany=function(){return this.Vi},c.prototype.setHowMany=function(t){this.Vi=t},c.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},c.prototype.Nn=function(t){return this.Qi(t),this.Yi()},c.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(a),this.Yi())},c.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new s,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==a&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},c.prototype.ji=function(){return this.Wn},c.prototype.Zi=function(){return this.Vn.length-this.length()},c.prototype.Qi=function(t){this.Vn.push(t)},c.prototype.Gi=function(t){this.Vn[this.Wn++]=t},c.prototype.qi=function(){return this.length()-this.Zi()},c.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new u(n)},c.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.l=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.ut(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new v("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new v("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},s=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.ut().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.ut().K)},t.prototype.isPending=function(){return s.call(this.ut())},t.prototype.isRejected=function(){return u.call(this.ut())},t.prototype.isFulfilled=function(){return e.call(this.ut())},t.prototype.isResolved=function(){return o.call(this.ut())},t.prototype.value=function(){return i.call(this.ut())},t.prototype.reason=function(){var t=this.ut();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(a===e){o&&o.Ft();var c=n.reject(a.e);return o&&o.Ht(),c}if("function"==typeof a){if(function(t){try{return s.call(t,"Yn")}catch(t){return!1}}(t)){var c=new n(i);return t.J(c.En,c.Z,void 0,c,null),c}return function(t,u,s){var o=new n(i),a=o;s&&s.Ft(),o.nn(),s&&s.Ht();var c=!0,h=r.tryCatch(u).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Cn(t,c,!0),o=null)});return c=!1,o&&h===e&&(o.Cn(h.e,!0,!0),o=null),a}(t,a,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){a(this.handle)};var c=function(t){return h(+this).thenReturn(t)},h=n.delay=function(t,e){var u,a;return void 0!==e?(u=n.resolve(e).J(c,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.ot(e)):(u=new n(i),a=o(function(){u.En()},+t),r.cancellation()&&u.ot(new s(a)),u.nn()),u.ti(),u};function v(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return h(t,this)},n.prototype.timeout=function(t,n){var i,a,c=new s(o(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof f?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,a)},t=+t));return r.cancellation()?(a=this.then(),(i=a.J(v,d,void 0,c,void 0)).ot(c)):i=this.J(v,d,void 0,c,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var a=t("./util"),c=t("./errors").TypeError,h=t("./util").inherits,f=a.errorObj,v=a.tryCatch,d={};function l(t){o(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.En();var a=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(a instanceof n&&a.$i()){try{a=r(a.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(a instanceof n)return a.J(u,l,null,null,null)}u()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+a.classString(u));var o=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,o=!1):(e=arguments,t--);for(var c=new m(t),h=0;h<t;++h){var d=e[h];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:c,index:h},void 0))}c[h]=d}for(var k=new Array(c.length),h=0;h<k.length;++h)k[h]=n.resolve(c[h]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),u=v(u);var r=o?u.apply(void 0,t):u(t),e=A.Ht();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(c,t)});return c.promise=A,A.ot(c),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new c}}},{"./errors":12,"./util":36}],36:[function(n,i,e){var u,o=n("./es5"),a=void 0===s,c={e:{}},h=void 0!==t?t:void 0!==r?r:void 0!==p?p:void 0!==this?this:null;function v(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function l(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(l(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,d.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(o.isES5){var i=d.getOwnPropertyNames;return function(t){for(var r=[],e=d.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var s=0;s<u.length;++s){var a=u[s];if(!e[a]){e[a]=!0;var c=d.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof f||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function A(t){return k(t)&&o.propertyIsWritable(t,"stack")}var b="stack"in new f?function(t){return A(t)?t:new f(m(t))}:function(t){if(A(t))return t;try{throw new f(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,D={isClass:function(t){try{if("function"==typeof t){var n=o.names(t.prototype),i=o.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&o.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!o.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=d.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:E,notEnumerableProp:_,isPrimitive:l,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:a,errorObj:c,tryCatch:function(t){return u=t,v},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return l(t)?new f(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:A,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof f.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=o.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{o.defineProperty(n,u,o.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};D.isRecentNode=D.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),D.isNode&&D.toFastProperties(process);try{throw new f}catch(t){D.lastLineError=t}i.exports=D},{"./es5":13}]},{},[4])(4),null!=r?r.P=r.Promise:null!=t&&(t.P=t.Promise)});var E,S=function(){},R=function(t){return t};function I(t,n,i){var r;return function(){for(var e=arguments.length,u=new Array(e),s=0;s<e;s++)u[s]=arguments[s];var o=this,a=i&&!r;void 0!==r&&b.ur(r),r=b.sr(function(){r=void 0,i||t.apply(o,u)},n),a&&t.apply(o,u)}}(E=T)&&E.config({warnings:!1,longStackTraces:!1});var N,D,C,O,x,P;E&&(O=E.setScheduler(S),N=O,x={ar:function(t){D=t,N(C)},cr:C=function(){var t=D;t&&(D=void 0,t())}},E.setScheduler(x.ar));function B(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function L(t,n,i){return n&&B(t.prototype,n),i&&B(t,i),t}function M(t,n){t.prototype=d.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}!function(t){t.hr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(P||(P={}));var U=s?s.userAgent:"",F=U.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),H=U.match(/Android ([0-9\.]+)/i),V=U.match(/Windows NT ([0-9\.]+)/i),X=U.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),W=U.match(/Firefox\/([0-9\.]+)/i),q=U.match(/OPR\/(\d+\.\d+)/i),z=U.match(/Tizen ([0-9\.]+)/i),G=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch||s&&s.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(U)||/(macintosh|mac(?=_powerpc)\s)/i.test(U),this.pr=/Windows NT/i.test(U),this.Ar=V?g(V[1]):0,this.Tr=/Android/i.test(U),this.Er=H?g(H[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(U),this.Rr=/iPhone/i.test(U),this.Ir=/iPad/i.test(U),this.Nr=this.kr&&this.mr&&!this.Ir,this.Dr=/iPod/i.test(U),this.Cr=/Mobile Safari/i.test(U),this.Or=(this.Rr||this.Ir||this.Nr||this.Dr)&&!this.Sr,this.xr=this.Sr||this.Or||this.Tr||this.Cr,this.Pr=/CriOS/i.test(U),this.Br=Boolean(t.chrome&&/google/i.test(s.vendor))||this.Pr,this.Lr=F?_(F[1],10):0,this.Mr=/SMART-TV.*Tizen/i.test(U),this.Ur=z?g(z[1]):0,this.Fr=/webos|web0s/i.test(U),this.Hr=/Edge\/\d+/i.test(U),this.Vr=/Trident/i.test(U),this.Xr=this.Vr&&!t.ActiveXObject&&"ActiveXObject"in t,this.Wr=/Vivaldi/i.test(U),this.qr=/Firefox/i.test(U)&&!/Seamonkey/i.test(U),this.zr=W?g(W[1]):0,this.Gr=/Safari/i.test(U)&&!/Chrome/i.test(U)&&!this.Sr&&!this.Mr,this.jr=X?g(X[2]):0,this.Qr=Boolean(q),this.Yr=q?g(q[1]):0,this.Zr="ios"===P._r,this.Jr="ios"===P.dr,this.$r=this.Jr||this.Zr,this.Kr="ios"===P.gr,this.te="ios"===P.wr,this.ie="ios"===P.yr}return L(n,[{key:"re",get:function(){return this.mr}},{key:"ee",get:function(){return this.kr}},{key:"ue",get:function(){return this.pr}},{key:"se",get:function(){return this.Ar}},{key:"oe",get:function(){return this.Tr}},{key:"ae",get:function(){return this.Er}},{key:"ce",get:function(){return this.Sr}},{key:"he",get:function(){return this.Rr}},{key:"fe",get:function(){return this.Ir}},{key:"ve",get:function(){return this.Nr}},{key:"de",get:function(){return this.Dr}},{key:"_e",get:function(){return this.Or}},{key:"we",get:function(){return this.Cr}},{key:"ye",get:function(){return this.xr}},{key:"me",get:function(){return this.Pr}},{key:"ke",get:function(){return this.Br}},{key:"pe",get:function(){return this.Lr}},{key:"Ae",get:function(){return this.Mr}},{key:"be",get:function(){return this.Ur}},{key:"Te",get:function(){return this.Fr}},{key:"Ee",get:function(){return this.Hr}},{key:"Se",get:function(){return this.Vr}},{key:"Re",get:function(){return this.Xr}},{key:"Ie",get:function(){return this.Wr}},{key:"Ne",get:function(){return this.qr}},{key:"De",get:function(){return this.zr}},{key:"Ce",get:function(){return this.Gr}},{key:"Oe",get:function(){return this.jr}},{key:"xe",get:function(){return this.Qr}},{key:"Pe",get:function(){return this.Yr}},{key:"Be",get:function(){return this.Zr}},{key:"Le",get:function(){return this.Jr}},{key:"Me",get:function(){return this.$r}},{key:"Ue",get:function(){return this.Kr}},{key:"Fe",get:function(){return this.te}},{key:"He",get:function(){return this.ie}}]),n}();G.Ve=new G;var j=G.Ve,Q={}.hasOwnProperty,Y={}.toString;function Z(t){return null!=t}var J=Array.isArray||function(t){return"[object Array]"===Y.call(t)};function $(t){return K(t)&&Q.call(t,"length")&&ut(t.length)}function K(t){return"object"==typeof t&&null!==t}function tt(t){return K(t)&&t.constructor&&t.constructor===d}function nt(t){return"string"==typeof t}function it(t){return"boolean"==typeof t}function rt(t){return Boolean(t)&&"function"==typeof t.then}function et(t){return"[object Date]"===Y.call(t)}function ut(t){return"number"==typeof t}var st=!(j.Se&&!j.Re),ot=t.console;function at(t){if(K(t))try{return JSON.stringify(t)}catch(t){}return t}function ct(t){return t.map(at).join(" ")}function ht(t){var n=ot&&ot[t];return n?n.bind&&st?n.bind(ot):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];ot[t](ct(i))}:void 0}var ft,vt=ht("log")||S,dt=ht("warn")||vt.bind(void 0,"WARNING:"),lt=ht("error")||vt.bind(void 0,"ERROR:"),_t=(ft=ot&&ot.assert)?ft.bind&&st?ft.bind(ot):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];ot.assert(t,ct(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];lt.apply(void 0,["Assertion failed:"].concat(i))}},gt=yt,wt=null;try{wt=new WebAssembly.Instance(new WebAssembly.Module(new y([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function yt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function mt(t){return!0===(t&&t.Xe)}yt.prototype.Xe,d.defineProperty(yt.prototype,"Xe",{value:!0}),yt.isLong=mt;var kt={},pt={};function At(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=pt[t])?r:(i=Tt(t,(0|t)<0?-1:0,!0),e&&(pt[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=kt[t])?r:(i=Tt(t,t<0?-1:0,!1),e&&(kt[t]=i),i)}function bt(t,n){if(w(t))return n?xt:Ot;if(n){if(t<0)return xt;if(t>=Nt)return Ut}else{if(t<=-Dt)return Ft;if(t+1>=Dt)return Mt}return t<0?bt(-t,n).neg():Tt(t%It|0,t/It|0,n)}function Tt(t,n,i){return new yt(t,n,i)}yt.fromInt=At,yt.fromNumber=bt,yt.fromBits=Tt;var Et=l.pow;function St(t,n,i){if(0===t.length)throw f("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ot;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw f("interior hyphen");if(0===r)return St(t.substring(1),n,i).neg();for(var e=bt(Et(i,8)),u=Ot,s=0;s<t.length;s+=8){var o=l.min(8,t.length-s),a=_(t.substring(s,s+o),i);if(o<8){var c=bt(Et(i,o));u=u.mul(c).add(bt(a))}else u=(u=u.mul(e)).add(bt(a))}return u.unsigned=n,u}function Rt(t,n){return"number"==typeof t?bt(t,n):"string"==typeof t?St(t,n):Tt(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}yt.fromString=St,yt.fromValue=Rt;var It=4294967296,Nt=It*It,Dt=Nt/2,Ct=At(1<<24),Ot=At(0);yt.ZERO=Ot;var xt=At(0,!0);yt.UZERO=xt;var Pt=At(1);yt.ONE=Pt;var Bt=At(1,!0);yt.UONE=Bt;var Lt=At(-1);yt.NEG_ONE=Lt;var Mt=Tt(-1,2147483647,!1);yt.MAX_VALUE=Mt;var Ut=Tt(-1,-1,!0);yt.MAX_UNSIGNED_VALUE=Ut;var Ft=Tt(0,-2147483648,!1);yt.MIN_VALUE=Ft;var Ht=yt.prototype;Ht.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ht.toNumber=function(){return this.unsigned?(this.high>>>0)*It+(this.low>>>0):this.high*It+(this.low>>>0)},Ht.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ft)){var n=bt(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=bt(Et(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Ht.getHighBits=function(){return this.high},Ht.getHighBitsUnsigned=function(){return this.high>>>0},Ht.getLowBits=function(){return this.low},Ht.getLowBitsUnsigned=function(){return this.low>>>0},Ht.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ft)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Ht.isZero=function(){return 0===this.high&&0===this.low},Ht.eqz=Ht.isZero,Ht.isNegative=function(){return!this.unsigned&&this.high<0},Ht.isPositive=function(){return this.unsigned||this.high>=0},Ht.isOdd=function(){return 1==(1&this.low)},Ht.isEven=function(){return 0==(1&this.low)},Ht.equals=function(t){return mt(t)||(t=Rt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Ht.eq=Ht.equals,Ht.notEquals=function(t){return!this.eq(t)},Ht.neq=Ht.notEquals,Ht.ne=Ht.notEquals,Ht.lessThan=function(t){return this.comp(t)<0},Ht.lt=Ht.lessThan,Ht.lessThanOrEqual=function(t){return this.comp(t)<=0},Ht.lte=Ht.lessThanOrEqual,Ht.le=Ht.lessThanOrEqual,Ht.greaterThan=function(t){return this.comp(t)>0},Ht.gt=Ht.greaterThan,Ht.greaterThanOrEqual=function(t){return this.comp(t)>=0},Ht.gte=Ht.greaterThanOrEqual,Ht.ge=Ht.greaterThanOrEqual,Ht.compare=function(t){if(mt(t)||(t=Rt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ht.comp=Ht.compare,Ht.negate=function(){return!this.unsigned&&this.eq(Ft)?Ft:this.not().add(Pt)},Ht.neg=Ht.negate,Ht.add=function(t){mt(t)||(t=Rt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,Tt((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Ht.subtract=function(t){return mt(t)||(t=Rt(t)),this.add(t.neg())},Ht.sub=Ht.subtract,Ht.multiply=function(t){if(this.isZero())return Ot;if(mt(t)||(t=Rt(t)),wt)return Tt(wt.mul(this.low,this.high,t.low,t.high),wt.get_high(),this.unsigned);if(t.isZero())return Ot;if(this.eq(Ft))return t.isOdd()?Ft:Ot;if(t.eq(Ft))return this.isOdd()?Ft:Ot;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Ct)&&t.lt(Ct))return bt(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,Tt((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Ht.mul=Ht.multiply,Ht.divide=function(t){if(mt(t)||(t=Rt(t)),t.isZero())throw f("division by zero");var n,i,r;if(wt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Tt((this.unsigned?wt.div_u:wt.div_s)(this.low,this.high,t.low,t.high),wt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?xt:Ot;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return xt;if(t.gt(this.shru(1)))return Bt;r=xt}else{if(this.eq(Ft))return t.eq(Pt)||t.eq(Lt)?Ft:t.eq(Ft)?Pt:(n=this.shr(1).div(t).shl(1)).eq(Ot)?t.isNegative()?Pt:Lt:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ft))return this.unsigned?xt:Ot;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ot}for(i=this;i.gte(t);){n=l.max(1,l.floor(i.toNumber()/t.toNumber()));for(var e=l.ceil(l.log(n)/l.LN2),u=e<=48?1:Et(2,e-48),s=bt(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=bt(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Pt),r=r.add(s),i=i.sub(o)}return r},Ht.div=Ht.divide,Ht.modulo=function(t){return mt(t)||(t=Rt(t)),wt?Tt((this.unsigned?wt.rem_u:wt.rem_s)(this.low,this.high,t.low,t.high),wt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ht.mod=Ht.modulo,Ht.rem=Ht.modulo,Ht.not=function(){return Tt(~this.low,~this.high,this.unsigned)},Ht.and=function(t){return mt(t)||(t=Rt(t)),Tt(this.low&t.low,this.high&t.high,this.unsigned)},Ht.or=function(t){return mt(t)||(t=Rt(t)),Tt(this.low|t.low,this.high|t.high,this.unsigned)},Ht.xor=function(t){return mt(t)||(t=Rt(t)),Tt(this.low^t.low,this.high^t.high,this.unsigned)},Ht.shiftLeft=function(t){return mt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Tt(0,this.low<<t-32,this.unsigned)},Ht.shl=Ht.shiftLeft,Ht.shiftRight=function(t){return mt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Tt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Tt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Ht.shr=Ht.shiftRight,Ht.shiftRightUnsigned=function(t){if(mt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?Tt(this.low>>>t|n<<32-t,n>>>t,this.unsigned):Tt(32===t?n:n>>>t-32,0,this.unsigned)},Ht.shru=Ht.shiftRightUnsigned,Ht.shr_u=Ht.shiftRightUnsigned,Ht.toSigned=function(){return this.unsigned?Tt(this.low,this.high,!1):this},Ht.toUnsigned=function(){return this.unsigned?this:Tt(this.low,this.high,!0)},Ht.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ht.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ht.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},yt.fromBytes=function(t,n,i){return i?yt.fromBytesLE(t,n):yt.fromBytesBE(t,n)},yt.fromBytesLE=function(t,n){return new yt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},yt.fromBytesBE=function(t,n){return new yt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Vt=gt,Xt=l.pow(2,-52);function Wt(t,n,i){return l.min(l.max(t,n),i)}function qt(t,n,i){return t===n||l.abs(t-n)<=i}function zt(t,n){if(t===n)return!0;var i=l.abs(t-n);return i<Xt||i<l.max(l.abs(t),l.abs(n))*Xt}function Gt(t){return t!=t}function jt(t,n){return t===n||Gt(t)&&Gt(n)}function Qt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Yt(){return Date.now()||(new Date).getTime()}function Zt(t){return t/1e3}var Jt,$t=Vt.fromNumber(9007199254740991);function Kt(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual($t))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function tn(t){return t.We===Jt.qe}function nn(t){return t.We===Jt.ze}function rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.qe=1]="qe",t[t.Ge=2]="Ge",t[t.ze=3]="ze",t[t.je=4]="je",t[t.Qe=9]="Qe"}(Jt||(Jt={}));var en=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];f.apply(this,n)};(en.prototype=d.create(f.prototype)).constructor=en;var un=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,f.captureStackTrace&&f.captureStackTrace(rn(r),r.constructor),r}return M(n,t),L(n,[{key:"name",get:function(){return"BaseError"}}]),n}(en),sn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return M(n,t),n}(un),on=function(){function t(){}return t.prototype.Ye=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new sn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new sn;return new ln(n)},t}(),an=function(){function t(t){this.Ze=t}var n=t.prototype;return n.Je=function(t){return this.Ze.isEqualNode(t.Ze)},n.$e=function(n){return new t(this.Ze.cloneNode(n))},L(t,[{key:"We",get:function(){return Jt.Ge}},{key:"Ke",get:function(){var t;return null!==(t=this.Ze.localName)&&void 0!==t?t:wn(this.Ze.nodeName)}},{key:"tu",get:function(){return this.Ze.nodeName}},{key:"nu",get:function(){var t;return null!==(t=this.Ze.namespaceURI)&&void 0!==t?t:void 0}},{key:"iu",get:function(){var t;return null!==(t=this.Ze.prefix)&&void 0!==t?t:void 0}},{key:"ru",get:function(){return this.Ze.nodeValue}}]),t}(),cn=function(){function t(t){this.eu=void 0,this.uu=t}var n=t.prototype;return n.su=function(t){return this.ou.filter(function(n){return _n(n)&&n.au===t})},n.cu=function(t,n){return this.ou.filter(function(i){return _n(i)&&i.Ke===n&&i.nu===t})},n.hu=function(t){this.uu.appendChild(t.fu),this.eu&&this.eu.push(t)},n.Je=function(t){return this.uu.isEqualNode(t.fu)},L(t,[{key:"ou",get:function(){return void 0===this.eu&&(this.eu=function(t){for(var n=[],i=0;i<t.length;i++){var r=gn(t.item(i));r&&n.push(r)}return n}(this.uu.childNodes)),this.eu}},{key:"vu",get:function(){return this.ou.filter(_n)}},{key:"fu",get:function(){return this.uu}}]),t}(),hn=function(t){function n(n){return t.call(this,n)||this}M(n,t);var i=n.prototype;return i.du=function(t){if(this.uu.hasAttribute(t))return this.uu.getAttribute(t)},i.lu=function(t,n){if(this.uu.hasAttributeNS(t,n))return this.uu.getAttributeNS(t,n)},i._u=function(t){this.uu.removeAttribute(t)},i.gu=function(t,n){this.uu.removeAttributeNS(t,n)},i.wu=function(t,n){this.uu.setAttribute(t,n)},i.yu=function(t,n,i){this.uu.setAttributeNS(t,n,i)},i.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.qe}},{key:"Ke",get:function(){var t;return null!==(t=this.uu.localName)&&void 0!==t?t:wn(this.uu.nodeName)}},{key:"nu",get:function(){var t;return null!==(t=this.uu.namespaceURI)&&void 0!==t?t:void 0}},{key:"iu",get:function(){var t;return null!==(t=this.uu.prefix)&&void 0!==t?t:void 0}},{key:"au",get:function(){return this.uu.nodeName}},{key:"mu",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new an(t.item(i)));return n}(this.uu.attributes)}},{key:"ku",get:function(){return this.uu.textContent}}]),n}(cn),fn=function(){function t(t){this.uu=t}return t.prototype.Je=function(t){return this.pu===t.pu},L(t,[{key:"pu",get:function(){return this.uu.nodeValue}},{key:"fu",get:function(){return this.uu}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.ze}}]),n}(fn),dn=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.je}}]),n}(fn),ln=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.$e=function(t){return new n(this.uu.cloneNode(t))},L(n,[{key:"We",get:function(){return Jt.Qe}},{key:"Au",get:function(){return new hn(this.uu.documentElement)}}]),n}(cn);function _n(t){return tn(t)}function gn(t){switch(t.nodeType){case Jt.qe:return new hn(t);case Jt.ze:return new vn(t);case Jt.je:return new dn(t)}}function wn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function yn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function mn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){kn(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&kn(i,null,t.length,t),t}function kn(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}var pn=/[a-zA-Z]/,An=/[0-9]/,bn=/[0-9a-fA-F]/,Tn=/^0x/i,En=/^[0-9]+$/,Sn=/^[0-9a-fA-F]+$/,Rn=/^[0-7]+$/,In=d.prototype.toString,Nn=Array.isArray||function(t){return"[object Array]"===In.call(t)},Dn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Cn(t){return Nn(t)?t:Array.from(t)}function On(t){return t>=65&&t<=90}function xn(t){return On(t)||function(t){return t>=97&&t<=122}(t)}function Pn(t){return t>=48&&t<=57}function Bn(t){return Pn(t)||xn(t)}function Ln(t){return Pn(t)||t>=65&&t<=70||t>=97&&t<=102}function Mn(t){return On(t)?t+32:t}function Un(t){return Pn(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Fn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Hn=l.min,Vn=String.fromCharCode,Xn=16384;function Wn(t){for(var n=t.length,i=[],r=0;r<n;r+=Xn){var e=Hn(r+Xn,n);i.push(Vn.apply(null,t.slice(r,e)))}return i.join("")}var qn=/[^\0-\x7E]/,zn=/[\x2E\u3002\uFF0E\uFF61]/g,Gn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},jn=l.floor,Qn=String.fromCharCode;function Yn(t){throw new RangeError(Gn[t])}function Zn(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var Jn,$n,Kn,ti=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ni=function(t,n,i){var r=0;for(t=i?jn(t/700):t>>1,t+=jn(t/n);t>455;r+=36)t=jn(t/35);return jn(r+36*t/(t+38))},ii=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(zn,".")).split("."),n).join(".");return r+e}(t,function(t){return qn.test(t)?"xn--"+function(t){for(var n=[],i=(t=Zn(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push(Qn(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>jn((2147483647-e)/_)&&Yn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Yn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=u?1:k>=u+26?26:k-u;if(m<p)break;var A=m-p,b=36-p;n.push(Qn(ti(p+A%b,0))),m=jn(A/b)}n.push(Qn(ti(m,0))),u=ni(e,_,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t})};function ri(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Wn(n)}function ei(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function ui(t,n){return t>>n&63|128}function si(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ei(t),n.push(t>>12&15|224),n.push(ui(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(ui(t,12)),n.push(ui(t,6))),n.push(63&t|128)):n.push(t)}function oi(t){for(var n=[],i=0;i<t.length;i++){si(t[i],n)}return n}function ai(){if(Kn>=$n)throw new f("Invalid byte index");var t=255&Jn[Kn];if(Kn++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function ci(){var t,n;if(Kn>$n)throw new f("Invalid byte index");if(Kn===$n)return!1;if(t=255&Jn[Kn],Kn++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ai())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ai()<<6|ai())>=2048)return ei(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ai()<<12|ai()<<6|ai())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}function hi(t){return[37,Fn(t>>4),Fn(15&t)]}function fi(t){return function(t){return t>=0&&t<=31}(t)||t>126}function vi(t){return fi(t)||32===t||34===t||60===t||62===t||96===t}function di(t){return vi(t)||35===t||63===t||123===t||125===t}function li(t){return di(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function _i(t){return t<33||t>126||34===t||35===t||60===t||62===t}function gi(t){return _i(t)||39===t}function wi(t,n){if(!n(t))return[t];for(var i=oi([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,hi(u))}return r}function yi(t,n){for(var i=[],r=0,e=Zn(t);r<e.length;r++){var u=e[r];i.push.apply(i,wi(u,n))}return ri(i)}function mi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Ln(t[r+1])&&Ln(t[r+2])){var u=Un(t[r+1])<<4|Un(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(oi(t))}function ki(t){return ri(function(t){Jn=t.slice(),$n=Jn.length,Kn=0;for(var n,i=[];!1!==(n=ci());)i.push(n);return i}(mi(Zn(t))))}function pi(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new v;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new v("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<u&&bn.test(t[c]);)h=h<<4|_(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new v;if(c-=f,o>6)throw new v;for(var d=0;c<u;){var l=null;if(d>0){if(!("."===t[c]&&d<4))throw new v;c+=1}if(!An.test(t[c]))throw new v;for(;c<u&&An.test(t[c]);){var g=_(t[c],10);if(null===l)l=g;else{if(0===l)throw new v;if((l=10*l+g)>255)throw new v}c+=1}s[o]=s[o]<<8|l,2!==(d+=1)&&4!==d||(o+=1)}if(4!==d)throw new v;break}if(":"===t[c]){if((c+=1)===u)throw new v}else if(c<u)throw new v;s[o]=h,o+=1}else{if(null!==a)throw new v("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var w=o-a;for(o=7;0!==o&&w>0;)r=a+w-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new v;return s}function Ai(t){var n=10,i=En;return Tn.test(t)?(t=t.slice(2),n=16,i=Sn):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Rn),""===t?0:i.test(t)?_(t,n):void 0}var bi={bu:4},Ti=/[\0\t\n\r #%/:?@\[\\\]]/,Ei=/[\0\t\n\r #/:?@\[\\\]]/;function Si(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new v("Invalid IPv6 address");return{bu:2,Tu:pi(t.slice(1,-1))}}if(!n)return function(t){if(Ei.test(t))throw new v("Invalid code point in opaque host");var n=yi(t,fi);return""===n?bi:{bu:3,nr:n}}(t);var i=function(t){return function(t){return ii(t.toLowerCase())}(t)}(ki(t));if(Ti.test(i))throw new v("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ai(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new v;if(i[i.length-1]>=l.pow(256,5-i.length))throw new v;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*l.pow(256,3-a);return o}}(i);return void 0!==r?{bu:1,Tu:r}:""===i?bi:{bu:0,Eu:i}}function Ri(t){switch(t.bu){case 0:return t.Eu;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Tu);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Tu)+"]";case 3:return t.nr;case 4:return""}}var Ii=/\+/g;function Ni(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Ii," "),o=o.replace(Ii," ");var a=ki(s),c=ki(o);i.push([a,c])}}return i}function Di(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Ci(oi(Zn(r[0])))+"="+Ci(oi(Zn(r[1])))}return n}function Ci(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Bn(n)?i.push(e):i.push.apply(i,hi(e))}return Wn(i)}var Oi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function xi(t){var n=""+t,i=Oi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Bi(u))if(Li(u)||e===i-1)r.push(Pi);else{var s=t.charCodeAt(e+1);Li(s)?(r.push(u,s),e++):r.push(Pi)}else r.push(u)}return t.slice(0,n)+Wn(r)}(n,i.index):n}var Pi=65533,Bi=function(t){return 55296==(63488&t)},Li=function(t){return 0!=(1024&t)};function Mi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Ui(t){t.Su.length=0}function Fi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Su,Ni(n))}function Hi(t){if(t.Ru){var n=Di(t.Su);""===n&&(n=null),t.Ru.Ru.Iu=n}}var Vi=function(){function t(t){if(void 0===t&&(t=void 0),this.Ru=null,null==t)this.Su=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof Vi&&Nn(u.Su)&&(!Dn||u[Symbol.iterator]===Xi))this.Su=t.Su.slice();else if(function(t){return null!=t&&(!!Nn(t)||!!Dn&&"function"==typeof t[Symbol.iterator])}(t)){this.Su=[];for(var n=0,i=Cn(t);n<i.length;n++){var r=Cn(i[n]);if(2!==r.length)throw new v("Invalid name-value pair");this.Su.push([xi(r[0]),xi(r[1])])}}else for(var e in this.Su=[],t)d.prototype.hasOwnProperty.call(t,e)&&this.Su.push([xi(e),xi(t[e])]);else(t=xi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Su=Ni(t);var u}var n=t.prototype;return n.append=function(t,n){t=xi(t),n=xi(n),this.Su.push([t,n]),Hi(this)},n.delete=function(t){t=xi(t);for(var n=this.Su,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Hi(this)},n.get=function(t){t=xi(t);for(var n=this.Su,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=xi(t);for(var n=this.Su,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=xi(t);for(var n=this.Su,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=xi(t),n=xi(n);for(var i=this.Su,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Hi(this)},n.sort=function(){mn(this.Su,Mi),Hi(this)},n.toString=function(){return Di(this.Su)},n.entries=function(){return new Gi(this.Su,Wi)},n.keys=function(){return new Gi(this.Su,qi)},n.values=function(){return new Gi(this.Su,zi)},n.forEach=function(t){var n=this;this.Su.forEach(function(i){return t(i[1],i[0],n)})},t}(),Xi=Vi.prototype.entries;Dn&&(Vi.prototype[Symbol.iterator]=Xi);var Wi=function(t){return[t[0],t[1]]},qi=function(t){return t[0]},zi=function(t){return t[1]},Gi=function(){function t(t,n){this.Nu=0,this.Su=t,this.Du=n}return t.prototype.next=function(){return this.Nu<this.Su.length?{done:!1,value:this.Du(this.Su[this.Nu++])}:{done:!0,value:void 0}},t}(),ji="null";var Qi=d.create(null);Qi.ftp=21,Qi.file=0,Qi.gopher=70,Qi.http=80,Qi.https=443,Qi.ws=80,Qi.wss=443;var Yi=/^(?:\.|%2e)$/i,Zi=/^(?:\.|%2e){2}$/i;function Ji(t){return Yi.test(t)}function $i(t){return Zi.test(t)}function Ki(t){return void 0!==Qi[t]}function tr(t){return Ki(t.Cu)}function nr(t){return""!==t.Ou||""!==t.xu}function ir(t){var n=t.length;if(!(n>=2))return!1;if(!er(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function rr(t){return 2===t.length&&pn.test(t[0])&&(":"===t[1]||"|"===t[1])}function er(t){return 2===t.length&&rr(Wn(t))}function ur(t){return rr(t)&&":"===t[1]}function sr(t){var n=t.Pu;0!==n.length&&("file"===t.Cu&&1===n.length&&ur(n[0])||n.pop())}function or(t){return null===t.Bu||bi===t.Bu||t.Lu||"file"===t.Cu}var ar=-1,cr=/\t|\n|\r/g,hr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function fr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new dr,t=t.replace(hr,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=Zn(t=t.replace(cr,"")),h=c.length,f=0;f<=h;){var d=f<h?c[f]:ar;switch(e){case 0:if(!xn(d)){if(null===r){u.length=0,e=2;continue}throw new v("Invalid scheme")}u.push(Mn(d)),e=1;break;case 1:if(Bn(d)||43===d||45===d||46===d)u.push(Mn(d));else{if(58!==d){if(null===r){u.length=0,e=2,f=0;continue}throw new v("Invalid scheme")}var l=ri(u);if(null!==r){if(Ki(i.Cu)&&!Ki(l))return;if(!Ki(i.Cu)&&Ki(l))return;if((nr(i)||null!==i.Mu)&&"file"===l)return;if("file"===i.Cu&&(i.Bu===bi||null===i.Bu))return}if(i.Cu=l,null!==r)return void(tr(i)&&i.Mu===Qi[i.Cu]&&(i.Mu=null));u.length=0,"file"===i.Cu?e=13:tr(i)&&n&&n.Cu===i.Cu?e=3:tr(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.Lu=!0,i.Pu.push(""),e=18)}break;case 2:if(!n||n.Lu&&35!==d)throw new v("Invalid scheme");n.Lu&&35===d?(i.Cu=n.Cu,i.Pu=n.Pu.slice(),i.Iu=n.Iu,i.Uu="",i.Lu=!0,e=20):"file"!==n.Cu?(e=5,f-=1):(e=13,f-=1);break;case 3:47===d&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===d?e=9:(e=17,f-=1);break;case 5:i.Cu=n.Cu,ar===d?(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Iu=n.Iu):47===d?e=6:63===d?(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Iu="",e=19):35===d?(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Iu=n.Iu,i.Uu="",e=20):92===d&&tr(i)?e=6:(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,i.Pu=n.Pu.slice(),i.Pu.pop(),e=17,f-=1);break;case 6:!tr(i)||47!==d&&92!==d?47===d?e=9:(i.Ou=n.Ou,i.xu=n.xu,i.Bu=n.Bu,i.Mu=n.Mu,e=17,f-=1):e=8;break;case 7:if(47!==d||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==d&&92!==d&&(e=9,f-=1);break;case 9:if(64===d){s&&u.unshift(37,52,48),s=!0;for(var g=0;g<u.length;g++){var w=u[g];if(58!==w||a){var y=ri(wi(w,li));a?i.xu+=y:i.Ou+=y}else a=!0}u.length=0}else if(ar===d||47===d||63===d||35===d||tr(i)&&92===d){if(s&&0===u.length)throw new v("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(d);break;case 10:case 11:if(null!==r&&"file"===i.Cu)f-=1,e=15;else if(58!==d||o)if(ar===d||47===d||63===d||35===d||tr(i)&&92===d){if(f-=1,tr(i)&&0===u.length)throw new v("Invalid host");if(null!==r&&0===u.length&&(nr(i)||null!==i.Mu))return;var m=Si(ri(u),tr(i));if(i.Bu=m,u.length=0,e=16,null!==r)return}else 91===d?o=!0:93===d&&(o=!1),u.push(d);else{if(0===u.length)throw new v("Invalid host");var k=Si(ri(u),tr(i));if(i.Bu=k,u.length=0,e=12,11===r)return}break;case 12:if(Pn(d))u.push(d);else{if(!(ar===d||47===d||63===d||35===d||tr(i)&&92===d||null!==r))throw new v("Invalid port");if(0!==u.length){var p=_(ri(u),10);if(p>65535)throw new v("Invalid port");i.Mu=p===Qi[i.Cu]?null:p,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Cu="file",47===d||92===d?e=14:n&&"file"===n.Cu?ar===d?(i.Bu=n.Bu,i.Pu=n.Pu.slice(),i.Iu=n.Iu):63===d?(i.Bu=n.Bu,i.Pu=n.Pu.slice(),i.Iu="",e=19):35===d?(i.Bu=n.Bu,i.Pu=n.Pu.slice(),i.Iu=n.Iu,i.Uu="",e=20):(ir(c.slice(f))||(i.Bu=n.Bu,i.Pu=n.Pu.slice(),sr(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===d||92===d?e=15:(n&&"file"===n.Cu&&!ir(c.slice(f))&&(ur(n.Pu[0])?i.Pu.push(n.Pu[0]):i.Bu=n.Bu),e=17,f-=1);break;case 15:if(ar===d||47===d||92===d||63===d||35===d)if(f-=1,null===r&&er(u))e=17;else if(0===u.length){if(i.Bu=bi,null!==r)return;e=16}else{var A=Si(ri(u),tr(i));if(0===A.bu&&"localhost"===A.Eu&&(A=bi),i.Bu=A,null!==r)return;u.length=0,e=16}else u.push(d);break;case 16:tr(i)?(e=17,47!==d&&92!==d&&(f-=1)):null===r&&63===d?(i.Iu="",e=19):null===r&&35===d?(i.Uu="",e=20):ar!==d&&(e=17,47!==d&&(f-=1));break;case 17:if(ar===d||47===d||tr(i)&&92===d||null===r&&(63===d||35===d)){var b=ri(u);if($i(b)?(sr(i),47===d||tr(i)&&92===d||i.Pu.push("")):!Ji(b)||47===d||tr(i)&&92===d?Ji(b)||("file"===i.Cu&&0===i.Pu.length&&er(u)&&(bi!==i.Bu&&null!==i.Bu&&(i.Bu=bi),u[1]=58,b=ri(u)),i.Pu.push(b)):i.Pu.push(""),u.length=0,"file"===i.Cu&&(ar===d||63===d||35===d))for(;i.Pu.length>1&&""===i.Pu[0];)i.Pu.shift();63===d?(i.Iu="",e=19):35===d&&(i.Uu="",e=20)}else u.push.apply(u,wi(d,di));break;case 18:63===d?(i.Iu="",e=19):35===d?(i.Uu="",e=20):ar!==d&&(i.Pu[0]+=ri(wi(d,fi)));break;case 19:null===r&&35===d?(i.Uu="",e=20):ar!==d&&(i.Iu+=ri(wi(d,tr(i)?gi:_i)));break;case 20:ar===d||0===d||(i.Uu+=ri(wi(d,vi)))}f++}return i}function vr(t,n,i,r){try{fr(t,n,i,r)}catch(t){}}var dr=function(){this.Cu="",this.Ou="",this.xu="",this.Bu=null,this.Mu=null,this.Pu=[],this.Iu=null,this.Uu=null,this.Lu=!1};function lr(t){switch(t.Cu){case"blob":var n;try{n=fr(t.Pu[0],null)}catch(t){return ji}return lr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Cu,r=t.Bu,e=t.Mu,i+"://"+Ri(r)+(null===e?"":":"+e);case"file":default:return ji}var i,r,e}var _r=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof _r&&"object"==typeof i.Ru)e=n.Ru;else try{e=fr(String(n),null)}catch(t){throw new v("Invalid base URL: "+t.message)}try{r=fr(String(t),e)}catch(t){throw new v("Invalid URL: "+t.message)}var u=r.Iu;this.Ru=r,this.Iu=function(t){var n=new Vi;return null!==t&&Fi(n,t),n}(u),this.Iu.Ru=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Cu+":";if(null!==t.Bu?(i+="//",nr(t)&&(i+=t.Ou,""!==t.xu&&(i+=":"+t.xu),i+="@"),i+=Ri(t.Bu),null!==t.Mu&&(i+=":"+t.Mu)):null===t.Bu&&"file"===t.Cu&&(i+="//"),t.Lu)i+=t.Pu[0];else for(var r=0,e=t.Pu;r<e.length;r++)i+="/"+e[r];return null!==t.Iu&&(i+="?"+t.Iu),n||null===t.Uu||(i+="#"+t.Uu),i}(this.Ru)},set:function(t){var n;try{n=fr(String(t),null)}catch(t){throw new v("Invalid URL: "+t.message)}this.Ru=n,Ui(this.Iu);var i=this.Ru.Iu;null!==i&&Fi(this.Iu,i)}},{key:"origin",get:function(){return lr(this.Ru)}},{key:"protocol",get:function(){return this.Ru.Cu+":"},set:function(t){vr(t+":",null,this.Ru,0)}},{key:"username",get:function(){return this.Ru.Ou},set:function(t){or(this.Ru)||(this.Ru.Ou=yi(t,li))}},{key:"password",get:function(){return this.Ru.xu},set:function(t){or(this.Ru)||(this.Ru.xu=yi(t,li))}},{key:"host",get:function(){var t=this.Ru,n=t.Bu;if(null===n)return"";var i=t.Mu,r=Ri(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ru.Lu||vr(t,null,this.Ru,10)}},{key:"hostname",get:function(){var t=this.Ru.Bu;return null===t?"":Ri(t)},set:function(t){this.Ru.Lu||vr(t,null,this.Ru,11)}},{key:"port",get:function(){var t=this.Ru.Mu;return null===t?"":""+t},set:function(t){or(this.Ru)||(""===t?this.Ru.Mu=null:vr(t,null,this.Ru,12))}},{key:"pathname",get:function(){var t=this.Ru.Pu;return this.Ru.Lu?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ru.Lu||(this.Ru.Pu.length=0,vr(t,null,this.Ru,16))}},{key:"search",get:function(){var t=this.Ru.Iu;return null===t||""===t?"":"?"+t},set:function(t){t=xi(t);var n=this.Ru;if(""===t)return n.Iu=null,void Ui(this.Iu);"?"===t[0]&&(t=t.slice(1)),n.Iu="",vr(t,null,n,19),Fi(this.Iu,t)}},{key:"searchParams",get:function(){return this.Iu}},{key:"hash",get:function(){var t=this.Ru.Uu;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ru.Uu="",vr(t,null,this.Ru,20)):this.Ru.Uu=null}}])&&yn(n.prototype,i),r&&yn(n,r),t}();function gr(t,n,i){return t.split(n).join(i)}function wr(t,n){return null!=t&&-1!==t.indexOf(n)}function yr(t,n){return null!=t&&t.substr(0,n.length)===n}function mr(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function kr(t,n){return t.toUpperCase()===n.toUpperCase()}function pr(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function Ar(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=pr(r,e/r.length)),r.slice(0,e)+t)}function br(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Er(n)}var Tr=16384;function Er(t){var n=t.length;if(n<=Tr)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Tr)i.push(String.fromCharCode.apply(String,t.slice(r,r+Tr)));return i.join("")}function Sr(t,n){for(var i=0,r=d.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Rr(t,n){var i=b.Fu(t);return n&&!mr(i,"/")&&(i+="/"),i}var Ir,Nr,Dr,Cr,Or,xr,Pr,Br=/cache:(.+)?(?=&|$)/,Lr="http://webcache.googleusercontent.com/search?q=cache:";function Mr(t){if(!yr(t,Lr))return"";var n=b.Hu(t).search.match(Br);return n&&n.length>1?n[1]:""}function Ur(t){return b.Hu(t).hostname}function Fr(t){return t.document&&t.document.baseURI||t.location.href||""}function Hr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Vr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Xr(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function Wr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function qr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function zr(t){t.removeAttribute("title")}function Gr(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function jr(t){t.src&&(t.removeAttribute("src"),t.load())}function Qr(){return void 0!==e?e.createElement("video"):void 0}function Yr(){return Pr||(Pr=Qr()),Pr}var Zr=!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)||!(!s||!s.msMaxTouchPoints),Jr=Yr(),$r=!(!Jr||!Jr.webkitShowPlaybackTargetPicker),Kr=function(){function t(){this.Vu=void 0,this.Xu=!1,this.re=Zr,this.ye=!1,this.Wu=!0}var n=t.prototype;return n.qu=function(){return 0},n.zu=function(t,n){return!0},n.Gu=function(t){return t>=1/6*2},L(t,[{key:"ju",get:function(){return void 0===this.Vu&&(this.Vu=this.qu()),this.Vu}},{key:"Qu",get:function(){return r.devicePixelRatio||1}},{key:"Yu",get:function(){return $r}},{key:"Zu",get:function(){return!1}},{key:"Ju",get:function(){return!0}},{key:"$u",get:function(){return j.Ce}},{key:"Ku",get:function(){return!0}}]),t}(),te=function(){var t=Qr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(j.ve)return!1;var t=Qr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var ne=function(t){function n(n){var i;return(i=t.call(this)||this).ts=n,i.ts&&(i.Xu=i.ts.Xu,i.re=i.ts.re,i.Wu=te&&i.ts.Wu),i}M(n,t);var i=n.prototype;return i.qu=function(){return this.ts?this.ts.ju:t.prototype.qu.call(this)},i.zu=function(n,i){return this.ts?this.ts.zu(n,i):t.prototype.zu.call(this,n,i)},i.Gu=function(n){return this.ts?this.ts.Gu(n):t.prototype.Gu.call(this,n)},n}(Kr),ie=function(t){function n(n){var i;return(i=t.call(this,n)||this).Xu=!0,i.ye=!0,i}return M(n,t),n}(ne),re=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.qu=function(){return Cr.MediaSource?t.prototype.qu.call(this):1},n}(ie),ee=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.zu=function(n,i){return!(i.rs>1920)&&t.prototype.zu.call(this,n,i)},L(n,[{key:"Zu",get:function(){return j.be<3}},{key:"Ju",get:function(){return j.be>=3}}]),n}(ne),ue=function(t){function n(){return t.call(this)||this}return M(n,t),n}(Kr),se=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.zu=function(t,n){if(t&&t.es&&n&&n.es){var i=oe(t.es,"mp4a.40.2")&&oe(n.es,"mp4a.40.5"),r=oe(t.es,"mp4a.40.5")&&oe(n.es,"mp4a.40.2"),e=oe(t.es,"mp4a.40.2")&&oe(n.es,"mp4a.40.34"),u=oe(t.es,"mp4a.40.34")&&oe(n.es,"mp4a.40.2"),s=oe(t.es,"mp4a.40.5")&&oe(n.es,"mp4a.40.34"),o=oe(t.es,"mp4a.40.34")&&oe(n.es,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(ue);function oe(t,n){return t.indexOf(n)>-1}var ae=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Gu=function(t){return t>=2},n}(ue),ce=function(t){function n(){var n;return(n=t.call(this)||this).Xu=j.Oe>=11,n.Wu=j.Ce&&!(j._e&&j.Oe<10),n}return M(n,t),n}(ue),he=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),L(n,[{key:"Ku",get:function(){return!1}}]),n}(ne),fe=function(){function n(){var n;this.us=new on,this.ss=new ve,this.os=(n=function(){if(j.Ne)return new se;if(j.Ee||j.Se)return new ae;if(j.Ce)return new ce;return new ue}(),j._e?new re(n):j.ye?new ie(n):j.Ae?new ee(n):j.Te?new he(n):new ne(n)),this.as=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.cs=function(){return t.performance.now()}:this.cs=Yt}var i=n.prototype;return i.hs=function(){vt.apply(void 0,arguments)},i.fs=function(){dt.apply(void 0,arguments)},i.vs=function(){lt.apply(void 0,arguments)},i.ds=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];_t.apply(void 0,[t].concat(i))},i.sr=function(t,n){return o(t,n)},i.ls=function(t,n){return c(t,n)},i.ur=function(t){a(t)},i._s=function(t){h(t)},i.Ye=function(t){return this.us.Ye(t)},i.gs=function(){return this.ys.gs()},i.ks=function(){return this.ys.ks()},i.ps=function(){return this.ys.ps()},i.As=function(){return this.ys.As()},i.bs=function(){return this.ys.bs()},i.Ts=function(t,n){return this.ys.Ts(t,n)},i.Es=function(t){return this.ys.Es(t)},i.Hu=function(t,n){return void 0===n&&(n=Fr(Cr)),new _r(t,n)},i.Fu=function(n,i){if(void 0===i&&(i=Fr(Cr)),this.as){var r=nt(i)?i:i.toString();return new t.URL(n,r).href}return this.Hu(n,i).href},L(n,[{key:"Ss",get:function(){return this.ss}},{key:"Rs",get:function(){return this.os}},{key:"Is",get:function(){return{Ns:s&&s.userAgent.match(/Android /i)?"Android":"other",Ds:Boolean(s&&s.userAgent.match(/Android 8.0.0/i))}}},{key:"Cs",get:function(){return t&&t.location&&"https:"===t.location.protocol}}]),n}(),ve=function(){function t(){}return L(t,[{key:"Os",get:function(){return s.oscpu}},{key:"Rs",get:function(){return s.platform}},{key:"xs",get:function(){return s.vendor}},{key:"Ps",get:function(){return s.vendorSub}}]),t}();var de=A(function(t){!function(t){var n,i=d.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,u=d.create(e.prototype),s=new C(r||[]);return u.Bs=function(t,n,i){var r=h;return function(e,u){if(r===_)throw new f("Generator is already running");if(r===g){if("throw"===e)throw u;return x()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===y)continue;return o}}if("next"===i.method)i.sent=i.Ls=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var a=c(t,n,i);if("normal"===a.type){if(r=i.done?g:l,a.arg===y)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(r=g,i.method="throw",i.arg=a.arg)}}}(t,i,s),u}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",l="suspendedYield",_="executing",g="completed",y={};function m(){}function k(){}function p(){}var A={};A[u]=function(){return this};var b=d.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=p.prototype=m.prototype=d.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Bs(n,t)}})}function R(t){var n;this.Bs=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=c(t[i],t,e);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&r.call(h,"Ms")?Promise.resolve(h.Ms).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(h).then(function(t){a.value=t,u(a)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new v("The iterator does not provide a 'throw' method")}return y}var e=c(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,y;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,y):u:(i.method="throw",i.arg=new v("iterator result is not an object"),i.delegate=null,y)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!w(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return d.setPrototypeOf?d.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=d.create(E),t},t.awrap=function(t){return{Ms:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(a(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Ls=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!w(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!c)throw new f("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,y):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new f("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),y}}}(t.exports)});function le(){return(le=d.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)d.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function _e(){var t=d.create(null);return t.Us=void 0,delete t.Us,t}function ge(){return new ke}function we(t){var n=ge();for(var i in t)Q.call(t,i)&&n.set(i,t[i]);return n}var ye,me="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,ke=me||(ye=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=d.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=_e(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=_e(),this.size=0},n.keys=function(){return new ye(this.data,function(t,n){return n})},n.values=function(){return new ye(this.data,function(t,n){return t[n]})},n.entries=function(){return new ye(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var pe,Ae=me||(pe=function(){function t(t,n){this.Fs=t,this.Hs=n}var n=t.prototype;return n.next=function(){var t=this.Fs.next();return t.done?t:{value:this.Hs(t.value),done:!1}},t}(),function(){function t(){this.Vs=ge()}var n=t.prototype;return n.get=function(t){return this.Vs.get(""+t)},n.set=function(t,n){return this.Vs.set(""+t,n),this},n.has=function(t){return this.Vs.has(""+t)},n.delete=function(t){return this.Vs.delete(""+t)},n.clear=function(){this.Vs.clear()},n.keys=function(){return new pe(this.Vs.keys(),function(t){return Number(t)})},n.values=function(){return this.Vs.values()},n.entries=function(){return new pe(this.Vs.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Vs.forEach(function(n,i){t(n,Number(i))})},L(t,[{key:"size",get:function(){return this.Vs.size}}]),t}());var be,Te="urn:mpeg:dash:mp4protection:2011",Ee="cenc",Se="sinf",Re="skd",Ie="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Ne="com.microsoft.playready",De="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",Ce="urn:uuid:"+De,Oe="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",xe="urn:uuid:"+Oe,Pe="com.apple.fps.1_0";!function(t){t.Xs="playready",t.Ws="widevine",t.qs="fairplay",t.zs="clearkey",t.Gs="aes128"}(be||(be={}));var Be={js:be.Xs,Qs:Ne,Ys:"cenc",Zs:"9a04f079-9840-4286-ab92-e65be0885f95",Js:Ie,$s:"PlayReady"},Le={js:be.Ws,Qs:"com.widevine.alpha",Ys:"cenc",Zs:De,Js:Ce,$s:"Widevine"},Me={js:be.qs,Qs:Pe,Ys:"skd",Zs:Oe,Js:xe,$s:"FairPlay"},Ue=(be.qs,{js:be.zs,Qs:"org.w3.clearkey",Ys:"cenc",Zs:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",Js:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",$s:"ClearKey"}),Fe=[Be,Le,Me,Ue];function He(t){return Fe.filter(function(n){return n.Js===t.toLowerCase()})}var Ve=j.ke&&j.pe>=42||j.Ne&&j.De>=38||j.Ee||j.Re||j.xe&&j.Pe>=29;function Xe(t,n){return wr(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[le({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[le({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function We(){return void 0!==s&&"function"==typeof s.requestMediaKeySystemAccess}function qe(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var ze=function(){function t(t){this.Ks=ge(),this.to=void 0,this.io=t}var n=t.prototype;return n.bs=function(){return this.Es(Le)},n.ks=function(){return this.Es(Ue)},n.As=function(){return this.Es(Be)},n.ps=function(){return this.Es(Me)},n.Es=function(t){var n=t.Js,i=this.Ks.get(n);if(i)return i;var r=this.Ts(t,'video/mp4; codecs="avc1.42000a"');return this.Ks.set(n,r),r},n.Ts=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.io.ro(n.Qs,[Xe(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.io.ro(n.Qs,[Xe(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.gs=function(){return this.to||(this.to=this.eo()),this.to},n.eo=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==Or.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Ve){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.ks();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Ge(t,n){var i=je(t,n);return i!==t&&Qe(i,void 0,t.length,t),t}function je(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){Qe(i,n,u,e);var s=i;i=e,e=s}return i}function Qe(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}function Ye(t,n,i){var r=Ze(t,n,i);return-1===r?void 0:t[r]}function Ze(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Je(t,n){var i=t.indexOf(n);return-1!==i&&($e(t,i),!0)}function $e(t,n){t.splice(n,1)}function Ke(t,n){return-1!==t.indexOf(n)}function tu(t,n){for(var i=0;i<n.length;i++){if(!Ke(t,n[i]))return!1}return!0}function nu(t){t.length=0}function iu(t){var n;return(n=[]).concat.apply(n,t)}function ru(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}var eu=function(){function t(){this.uo=!1,this.so=!1,this.oo=[],this.ao=[]}var n=t.prototype;return n.co=function(){if(!this.uo&&!this.so){this.uo=!0;for(var t=0,n=this.oo.slice();t<n.length;t++){(0,n[t])()}this.ho()}},n.ho=function(){if(!this.so){this.so=!0;for(var t=0,n=this.ao.slice();t<n.length;t++){(0,n[t])()}nu(this.oo),nu(this.ao)}},n.fo=function(t){this.so||this.oo.push(t)},n.vo=function(t){this.so||Je(this.oo,t)},n.do=function(t){this.so||this.ao.push(t)},n.lo=function(t){this.so||Je(this.ao,t)},t}(),uu=function(){function t(){this._o=new eu}var n=t.prototype;return n.wo=function(){this._o.co()},n.ho=function(){this._o.ho()},n.yo=function(t){var n=this._o;if(!n.uo)if(t.uo)n.co();else if(!n.so&&!t.so){var i=function(){r(),n.co()},r=function r(){t.vo(i),t.lo(r),n.vo(i),n.lo(r)};t.fo(i),t.do(r),n.fo(i),n.do(r)}},n.mo=function(){var n=new t,i=new t,r=n.ko,e=i.ko,u=this._o,s=function(){r.uo&&e.so||e.uo&&r.so?u.co():r.so&&e.so&&u.ho()};r.fo(s),e.fo(s),r.do(s),e.do(s),n.yo(u),i.yo(u);return u.do(function(){r.vo(s),e.vo(s),r.lo(s),e.lo(s)}),[n,i]},L(t,[{key:"ko",get:function(){return this._o}}]),t}(),su=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return M(n,t),L(n,[{key:"name",get:function(){return"AbortError"}}]),n}(un);function ou(t){return t instanceof f&&"AbortError"===t.name}function au(t){if(t&&t.uo)throw new su}function cu(t){if(ou(t))throw t}function hu(t){if(!ou(t))throw t}function fu(t,n){return n?new T(function(i,r){if(n.uo)return t.catch(S),r(new su);var e=function t(){n.vo(t),r(new su)};n.fo(e),t.then(function(t){n.vo(e),i(t)},function(t){n.vo(e),r(t)})}):t}function vu(t,n){return t.then(function(t){return n.ho(),t},function(t){throw n.ho(),t})}function du(t,n){var i=new uu;return n&&i.yo(n),t(i.ko).then(function(t){return i.wo(),t},function(t){throw i.wo(),t})}var lu=T.resolve();function _u(t){lu.then(t)}function gu(t){t.then(S,S)}function wu(t){return yu.apply(this,arguments)}function yu(){return(yu=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,T.all(n.map(function(t){return t.catch(S)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function mu(t,n){return new T(function(i,r){if(void 0!==n&&n.uo)r(new su);else{var e=b.sr(function(){void 0!==n&&n.vo(u),i()},t),u=function(){b.ur(e),r(new su)};void 0!==n&&n.fo(u)}})}function ku(t,n){var i=new uu;return T.race([t,mu(n,i.ko).then(function(){throw new f("Timeout")})]).then(function(t){return i.wo(),t},function(t){throw i.wo(),t})}function pu(t){return t&&"function"!=typeof t?t.slice():t}function Au(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var bu,Tu=function(){function t(t){var n=this;this.po=_e(),this.Ao=void 0,this.bo=function(t){n.To(t)},this.Eo=t||this}var n=t.prototype;return n.So=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ro(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Ro(r,n)}},n.Ro=function(t,n){var i=this.po[t];i?"function"==typeof i?this.po[t]=[i,n]:i.push(n):this.po[t]=n},n.Io=function(t){if("function"==typeof t){var n=this.Ao;n?"function"==typeof n?this.Ao=[n,t]:n.push(t):this.Ao=t}},n.No=function(){this.po=_e(),this.Ao=void 0},n.To=function(t){var n=pu(this.po[t.type]),i=pu(this.Ao);Au(this.Eo,t,n),Au(this.Eo,t,i)},n.Do=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Co(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Co(r,n)}},n.Co=function(t,n){var i=this.po[t];i&&("function"==typeof i?i===n&&(this.po[t]=void 0):Je(i,n))},n.Oo=function(t){if("string"==typeof t)this.po[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.po[i]=void 0}},n.xo=function(t){var n=this.Ao;n&&("function"==typeof n?n===t&&(this.Ao=void 0):Je(n,t))},n.Po=function(t,n){var i=this;return new T(function(r,e){if(n&&n.uo)return e(new su);var u=function(t){o(),r(t)},s=function(){o(),e(new su)},o=function(){i.Do(t,u),n&&n.vo(s)};i.So(t,u),n&&n.fo(s)})},t}(),Eu=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.To=function(n){var i=this;_u(function(){t.prototype.To.call(i,n)})},n}(Tu),Su=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ru=["cenc"],Iu=["cbcs","cbcs-1-9"],Nu=function(t){function n(n){var i;return(i=t.call(this,"Lo")||this).Bo=n,i}return M(n,t),n}(Su),Du=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Mo")||this).Bo=n,u.Uo=i,u.Mo=r,u.Fo=e,u}return M(n,t),n}(Su),Cu=function(t){function n(){return t.call(this,"Ho")||this}return M(n,t),n}(Su);!function(t){t.Vo="Xo",t.Wo="qo"}(bu||(bu={}));var Ou=function(t){function n(n,i){var r;return(r=t.call(this,bu.Vo)||this).Ys=n,r.zo=i,r}return M(n,t),n}(Su),xu=function(t){function n(){return t.call(this,bu.Wo)||this}return M(n,t),n}(Su),Pu=new y([0]).buffer,Bu=function(){function t(){this.Go=[]}var n=t.prototype;return n.jo=function(t){for(var n=0,i=this.Go;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.Qo=function(t){for(var n=0,i=this.Go;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Yo=function(t,n){this.Go.forEach(function(n){return t(n[1],n[0])},n)},n.Zo=function(t,n){this.Go.push([t,n])},n.Jo=function(){nu(this.Go)},L(t,[{key:"$o",get:function(){return this.Go.length}}]),t}(),Lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Mu=16383,Uu=/[\t\n\f\r ]/g;function Fu(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Hu()}function Hu(){throw new f("Invalid base64 input")}function Vu(t){var n=t;Uu.test(n)&&(n=n.replace(Uu,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Hu();for(var e,u=0===r?0:4-r,s=new y(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=Fu(n.charCodeAt(a))<<18|Fu(n.charCodeAt(a+1))<<12|Fu(n.charCodeAt(a+2))<<6|Fu(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=Fu(n.charCodeAt(a))<<2|Fu(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=Fu(n.charCodeAt(a))<<10|Fu(n.charCodeAt(a+1))<<4|Fu(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function Xu(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],Lu[r>>2]+Lu[(3&r)<<4|e>>4]+Lu[(15&e)<<2|u>>6]+Lu[63&u]));return s.join("")}function Wu(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=Mu)r.push(Xu(t,u,l.min(e,u+Mu)));if(1===i){var s=t[n-1];r.push(Lu[s>>2]+Lu[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(Lu[o>>2]+Lu[(3&o)<<4|a>>4]+Lu[(15&a)<<2]+"=")}return r.join("")}var qu=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],zu=ArrayBuffer.isView||function(t){return t&&Ke(qu,Y.call(t))};function Gu(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new y(t),new y(n))}function ju(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return function(t,n){for(var i=new y(n),r=0,e=0;e<t.length;e++){var u=t[e];i.set(u,r),r+=u.byteLength}return i}(t,n)}function Qu(t){return Vu(t).buffer}function Yu(t){return Wu(new y(t))}function Zu(t){return Wu(Cs(t))}var Ju=function(){function t(t){void 0===t&&(t=0),this.Ko=t}var n=t.prototype;return n.ta=function(t){this.Ko+=t},n.na=function(t){this.Ko=t},n.ia=function(){return new t(this.ra)},L(t,[{key:"ra",get:function(){return this.Ko}}]),t}();function $u(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ku(t,n){return t>>n&63|128}function ts(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($u(t),n.push(t>>12&15|224),n.push(Ku(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ku(t,12)),n.push(Ku(t,6))),n.push(63&t|128)):n.push(t)}function ns(t,n){if(n.ra>=t.length)throw new f("Invalid byte index");var i=255&t[n.ra];if(n.ta(1),128==(192&i))return 63&i;throw new f("Invalid continuation byte")}function is(t,n){var i=n.ra;if(i>t.length)throw new f("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.ta(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|ns(t,n);if(e>=128)return e;throw new f("Invalid continuation byte")}if(224==(240&r)){var u=(15&r)<<12|ns(t,n)<<6|ns(t,n);if(u>=2048)return $u(u),u;throw new f("Invalid continuation byte")}if(240==(248&r)){var s=(7&r)<<18|ns(t,n)<<12|ns(t,n)<<6|ns(t,n);if(s>=65536&&s<=1114111)return s}throw new f("Invalid UTF-8 detected")}var rs=65279;var es=[128,64,32,16,8,4,2,1],us=function(){function t(t){this.ea=t}return t.prototype.ua=function(t){return ss(this.ea,t)},t}();function ss(t,n){return(t&n)===n}function os(t,n){return ss(t,es[n])}function as(t,n){var i=t.getUint8(n.ra);return n.ta(1),i}function cs(t,n,i){t.setUint8(n.ra,i),n.ta(1)}function hs(t,n,i){var r=Ms(Hs(t),n.ra,n.ra+i);return n.ta(r.byteLength),r}function fs(t,n,i){Hs(t).set(Hs(i),n.ra),n.ta(i.byteLength)}function vs(t,n,i){return n.ra+i<=t.byteLength}function ds(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=as(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+as(t,n);return r}(t,n,i)}function ls(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.ra,i);return n.ta(2),r}function _s(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.ra,i,r),n.ta(2)}function gs(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.ra,i);return n.ta(4),r}function ws(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.ra,i,r),n.ta(4)}function ys(t,n,i){void 0===i&&(i=!1);var r=gs(t,n,i),e=gs(t,n,i),u=i?e:r,s=i?r:e;return Vt.fromBits(s,u,!0)}function ms(t,n){var i=as(t,n);if(i)return String.fromCharCode(i)}function ks(t,n){return bs(t,n)}function ps(t,n,i){for(var r="",e=0;e<i;e++)r+=ms(t,n);return r}function As(t,n){var i,r=as(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&as(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&as(t,n))+(63&as(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&as(t,n))+64*(63&as(t,n))+(63&as(t,n))),i}function bs(t,n){return Ts(t,n,!0)}function Ts(t,n,i){for(var r=[];n.ra<t.byteLength;){var e=as(t,n);if(i&&!e)break;r.push(e)}return Er(r)}function Es(t,n){if(n.ra+2<=t.byteLength){var i=t.getUint8(n.ra),r=t.getUint8(n.ra+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Ss(t,n){var i=Es(t,n);return void 0!==i&&n.ta(2),Rs(t,n,!0===i)}function Rs(t,n,i){return void 0===i&&(i=!1),Is(t,n,i,!0)}function Is(t,n,i,r){for(var e=[];n.ra+2<=t.byteLength;){var u=ls(t,n,i);if(r&&!u)break;e.push(u)}return Er(e)}function Ns(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){_s(t,n,i.charCodeAt(u),r)}}function Ds(t){return Ts(Fs(t),new zs,!1)}function Cs(t){var n=new y(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)cs(t,n,i.charCodeAt(e))}(Fs(n),new zs,t),n}function Os(t,n){return void 0===n&&(n=!1),Is(Fs(t),new zs,n,!1)}function xs(t,n){void 0===n&&(n=!1);var i=new y(2*t.length);return Ns(Fs(i),new zs,t,n),i}function Ps(t,n){return function(t,n,i){var r=[];(function(t,n){return n.ra+3<=t.byteLength&&239===t.getUint8(n.ra)&&187===t.getUint8(n.ra+1)&&191===t.getUint8(n.ra+2)})(t,n)&&n.ta(3);for(;n.ra<t.byteLength;){var e=As(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return br(r)}(t,n,!0)}function Bs(t){return br(function(t,n){var i,r=[],e=new zs;if(!n){if(!1===(i=is(t,e)))return r;i===rs||r.push(i)}for(;!1!==(i=is(t,e));)r.push(i);return r}(Hs(t)))}function Ls(t){return new y(function(t){for(var n=[],i=0;i<t.length;i++)ts(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Ms(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new y(t.buffer,t.byteOffset+n,i-n)}function Us(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Fs(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hs(t){return new y(t.buffer,t.byteOffset,t.byteLength)}function Vs(t){return t instanceof ArrayBuffer||zu(t)}function Xs(t){return t instanceof ArrayBuffer?new y(t):Hs(t)}function Ws(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):qs(Ms(t,n,i))}function qs(t){if(t.slice)return t.slice(0);var n=new y(t.byteLength);return n.set(t,0),n}var zs=function(){function t(t){void 0===t&&(t=0),this.Ko=t}var n=t.prototype;return n.ta=function(t){this.Ko+=t},n.na=function(t){this.Ko=t},n.ia=function(){return new t(this.ra)},n.sa=function(){return new Ju(this.ra<<3)},L(t,[{key:"ra",get:function(){return this.Ko}}]),t}();function Gs(t){var n=t,i=0,r=0;yr(n,"0x")&&(n=n.substring(2));var e=new y(l.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=_(n[0],16));i<n.length;i+=2)e[r++]=_(n.substr(i,2),16);return e}var js=function(){function t(){var t=this;this.oa=new T(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.aa=function(t){this.zn&&(this.zn(t),this.ho())},n.ca=function(t){this.Z&&(this.Z(t),this.ho())},n.wo=function(){this.oa.catch(S),this.ca(new su)},n.ho=function(){this.zn=void 0,this.Z=void 0},t}();function Qs(){return new y([8,4]).buffer}function Ys(t){return Gu(t,Qs())}function Zs(t,n){return t===Ne?function(t){if(t.byteLength<2*Js.length)return t;if(Os(new DataView(t,0,2*Js.length),!0)===Js)return t;return n=t,xs('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Yu(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Js="<PlayReady";var $s=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).ha=i,u.fa=r,u}return M(n,t),n}(un),Ks=function(t){function n(n,i){var r;(r=t.call(this)||this).va=n,r.da=i,r.la=!1,r._a=function(){r.ga()},r.wa=function(t){r.To(new Du(rn(r),t.messageType,Zs(r.da,t.message)))},r.ya=function(){r.la=!0,r.ma.$o>0&&(r.ma.Jo(),r.To(new Nu(rn(r)))),r.va.removeEventListener("keystatuseschange",r._a),r.va.removeEventListener("message",r.wa)},r.va.addEventListener("keystatuseschange",r._a),r.va.addEventListener("message",r.wa),r.ma=new Bu;var e=[];return r.va.closed&&e.push(T.resolve(r.va.closed)),r.ka=new js,e.push(r.ka.oa),r.pa=T.race(e).then(r.ya),r.ga(),r}M(n,t);var i=n.prototype;return i.Aa=function(){if(this.la)return this.pa;var t=[];return t.push(T.resolve(this.va.close())),t.push(mu(1e3)),this.ka.aa(T.race(t).catch(to)),this.la=!0,this.pa},i.ba=function(t,n,i){return T.resolve(this.va.generateRequest(t,n)).catch(to)},i.Ta=function(t){return T.resolve(this.va.load(t)).catch(to)},i.Ea=function(){return T.resolve(this.va.remove()).catch(to)},i.Sa=function(t){return T.resolve(this.va.update(t)).catch(to)},i.ga=function(){var t=this;this.ma.Jo(),this.va.keyStatuses.forEach(function(n,i){t.Ra(i,n)}),this.To(new Nu(this))},i.Ra=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Xs(t);if(this.da===Ne&&16===r.byteLength){var e=Fs(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.da===Ne&&"status-pending"===n&&(n="usable"),this.ma.Zo(r,n)},L(n,[{key:"Ia",get:function(){return this.pa}},{key:"Na",get:function(){return this.va.expiration}},{key:"Da",get:function(){return this.ma}},{key:"Ca",get:function(){return this.va.sessionId}}]),n}(Tu);function to(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|_(i[1],16))}throw new $s(t.message,void 0,n,t)}var no=function(){function t(t,n){this.Oa=t,this.da=n}var n=t.prototype;return n.xa=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Ks(this.Oa.createSession(n),this.da));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Pa=function(t){return T.resolve(this.Oa.setServerCertificate(t))},n.Ba=function(t){return T.resolve(t.setMediaKeys(this.Oa))},n.La=function(t){return T.resolve(t.setMediaKeys(null))},t}(),io=function(){function t(t,n,i){this.Ma=t,this.da=n,this.Ua=i}var n=t.prototype;return n.Fa=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ma.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new no(n,this.da));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Ha=function(){return this.Ua},L(t,[{key:"Va",get:function(){return this.Ma.keySystem}}]),t}(),ro=function(){function t(){}return t.prototype.ro=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=i.filter(function(t){return!t.Xa}),t.next=3,s.requestMediaKeySystemAccess(n,i);case 3:return r=t.sent,e=r.getConfiguration(),t.abrupt("return",new io(r,n,e));case 6:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.Wa=function(){return We()},t}(),eo=function(t){function n(n,i){var r;return(r=t.call(this)||this).qa=n,r.za=i,r.la=!1,r.Ga=void 0,r.ja=void 0,r.Qa=void 0,r.ya=function(){r.la=!0,r.Ya.aa(void 0),r.Qa&&(r.Qa.removeEventListener("mskeyclose",r.ya),r.Qa.removeEventListener("mskeymessage",r.Za),r.Qa.removeEventListener("mskeyerror",r.Ja),r.Qa.removeEventListener("mskeyadded",r.$a))},r.Za=function(t){r.ja&&(r.ja.aa(void 0),r.ja=void 0),r.To(new Du(rn(r),"license-request",qs(t.message).buffer,t.destinationURL||void 0))},r.Ja=function(){var t=r.Qa&&r.Qa.error;if(t){var n=new $s("Unknown CDM error",t.code,t.systemCode);if(r.ja)r.ja.ca(n),r.ja=void 0;else if(r.Ga)r.Ga.ca(n),r.Ga=void 0;else switch(n.ha){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.Ka("output-not-allowed");break;default:r.Ka("internal-error")}}},r.$a=function(){r.ja&&(r.Ka("usable"),r.ja.aa(void 0),r.ja=void 0),r.Ga&&(r.Ka("usable"),r.Ga.aa(void 0),r.Ga=void 0)},r.Ya=new js,r.tc=new Bu,r}M(n,t);var i=n.prototype;return i.ba=function(){var t=T.coroutine(de.mark(function t(n,i,r){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),this.ja=new js,this.xa(Xs(i),r),t.next=5,this.ja.oa;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xa=function(t,n){if(!t)throw new v("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.ic;return(i=n?this.qa.createSession(this.za,t,r):this.qa.createSession(this.za,t)).addEventListener("mskeyclose",this.ya),i.addEventListener("mskeymessage",this.Za),i.addEventListener("mskeyerror",this.Ja),i.addEventListener("mskeyadded",this.$a),this.Qa=i,this.Ka("status-pending"),i},i.Ta=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Sa=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ga=new js,this.nc(),this.Qa){t.next=4;break}return t.abrupt("return",T.resolve());case 4:if(0!==(i=Xs(n)).byteLength){t.next=7;break}throw new v("Cannot call update with an empty response.");case 7:return this.Qa.update(i),t.next=10,this.Ga.oa;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Aa=function(){return!this.la&&this.Qa&&(this.la=!0,this.Qa.close()),this.Ya.oa},i.Ea=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.nc(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nc=function(){if(this.la)throw new v("Already closing or closed.")},i.Ka=function(t){this.tc.Jo(),this.tc.Zo(Pu,t),this.To(new Nu(this))},L(n,[{key:"Ca",get:function(){return this.Qa&&this.Qa.sessionId||""}},{key:"Na",get:function(){return NaN}},{key:"Ia",get:function(){return this.Ya.oa}},{key:"Da",get:function(){return this.tc}}]),n}(Tu),uo=function(){function t(t,n){this.qa=t,this.za=n}var n=t.prototype;return n.xa=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new eo(this.qa,this.za));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Pa=function(t){return T.resolve(!1)},n.Ba=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.qa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.qa),t.removeEventListener("loadedmetadata",i)}),T.resolve()},n.La=function(t){return T.resolve()},t}(),so={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function oo(t){return wr(t,so.APPLICATION_MP4)||wr(t,so.VIDEO_MP4)||wr(t,so.AUDIO_MP4)}var ao=function(){function t(t,n){this.js=t,this.rc=n}return t.prototype.ec=function(t){for(var n=0,i=this.rc;n<i.length;n++){var r=i[n],e=r[0],u=r[1];if(e.toLowerCase()===t.toLowerCase())return u}},t}();function co(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new ao(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),u=[],s=0,o=!1,a=0;a<e.length;a++){var c=e[a];if(o||";"!==c)'"'===c&&(o=!o);else{var h=ho(e.substr(s,a));h&&u.push(h),s=a+1}}if(s!==e.length){var f=ho(e.substr(s));f&&u.push(f)}return new ao(r,u)}function ho(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function fo(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function vo(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var u={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,Xa:r.Xa},s=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(u.audioCapabilities=o.filter(function(r){return lo(t,n,i,r)}),s=!0,u.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var a=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});a.length&&(u.videoCapabilities=a.filter(function(r){return lo(t,n,i,r)}),s=!0,u.videoCapabilities.length&&(e=!0))}return s||(e=t(i,"video/mp4")),e?u:void 0}}function lo(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ke(n,r.encryptionScheme))&&(!r.robustness&&t(i,fo(r.contentType))))}function _o(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}var go=function(){function t(t,n){this.da=t,this.uc=n;var i=_o(n)||"video/mp4";this.za=fo(i)}var n=t.prototype;return n.Ha=function(){return this.uc},n.Fa=function(){return T.resolve(new uo(new Cr.MSMediaKeys(this.da),this.za))},L(t,[{key:"Va",get:function(){return this.da}}]),t}(),wo=function(){function t(){}return t.prototype.ro=function(t,n){try{return T.resolve(function(t,n){if(!yo())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=vo(mo,Ru,t,r);if(e)return new go(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Wa=function(){return yo()},t}();function yo(){return void 0!==Cr.MSMediaKeys&&"function"==typeof Cr.MSMediaKeys.isTypeSupported}function mo(t,n){return Cr.MSMediaKeys.isTypeSupported(t,n)}var ko,po,Ao=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).sc=n,e.za=i,e.oc=r,e.Ya=new js,e.ac=void 0,e.tc=new Bu,e.cc=void 0,e.hc=new js,e.Ja=function(){var t=e.cc&&e.cc.error;if(t){var n=new $s("Unknown CDM error",t.code,t.systemCode);e.ac?(e.ac.ca(n),e.ac=void 0):n.ha===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.Ka("output-not-allowed"):e.Ka("internal-error"),e.To(new Cu)}},e.Za=function(t){e.ac&&(e.ac.aa(void 0),e.ac=void 0),e.To(new Du(rn(e),"license-request",qs(t.message).buffer,t.destinationURL||void 0))},e}M(n,t);var i=n.prototype;return i.ba=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.fc;if(!r)throw new v("Expected FairPlay contentId to be defined but was "+r+".");var e=bo(Xs(n),r,this.oc);return this.cc=this.sc.createSession(this.za,e),this.cc.addEventListener("webkitkeymessage",this.Za,!1),this.cc.addEventListener("webkitkeyerror",this.Ja,!1),this.Ka("usable"),this.hc.aa(this.cc),this.hc=new js,T.resolve()},i.Ta=function(t){return T.resolve(!0)},i.Sa=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Xs(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:if(this.ac=new js,t.t0=this.cc,t.t0){t.next=9;break}return t.next=8,this.hc.oa;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ac.oa;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Aa=function(){var t=this.cc;return t&&(t.removeEventListener("webkitkeymessage",this.Za,!1),t.removeEventListener("webkitkeyerror",this.Ja,!1),t.close()),this.hc.wo(),this.Ya.aa(void 0),this.Ya.oa},i.Ea=function(){return T.resolve(void 0)},i.Ka=function(t){this.tc.Jo(),this.tc.Zo(Pu,t),this.To(new Nu(this))},L(n,[{key:"Ca",get:function(){return this.cc?this.cc.sessionId:""}},{key:"Na",get:function(){return NaN}},{key:"Ia",get:function(){return this.Ya.oa}},{key:"Da",get:function(){return this.tc}}]),n}(Tu);function bo(t,n,i){var r=Bs(t),e=2*r.length,u=2*n.length,s=new ArrayBuffer(4+e+4+u+4+i.byteLength),o=new DataView(s),a=new zs;return ws(o,a,e,!0),Ns(o,a,r,!0),ws(o,a,u,!0),Ns(o,a,n,!0),ws(o,a,i.byteLength,!0),fs(o,a,i),new y(s)}(ko=n.ErrorCode||(n.ErrorCode={}))[ko.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",ko[ko.LICENSE_ERROR=2e3]="LICENSE_ERROR",ko[ko.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",ko[ko.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",ko[ko.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",ko[ko.SOURCE_INVALID=3e3]="SOURCE_INVALID",ko[ko.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",ko[ko.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",ko[ko.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",ko[ko.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",ko[ko.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",ko[ko.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",ko[ko.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",ko[ko.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",ko[ko.MEDIA_ABORTED=5004]="MEDIA_ABORTED",ko[ko.NETWORK_ERROR=6e3]="NETWORK_ERROR",ko[ko.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",ko[ko.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",ko[ko.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",ko[ko.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",ko[ko.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",ko[ko.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",ko[ko.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",ko[ko.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",ko[ko.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",ko[ko.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",ko[ko.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",ko[ko.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",ko[ko.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",ko[ko.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",ko[ko.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",ko[ko.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",ko[ko.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",ko[ko.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",ko[ko.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",ko[ko.AD_ERROR=1e4]="AD_ERROR",ko[ko.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",ko[ko.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(po=n.ErrorCategory||(n.ErrorCategory={}))[po.CONFIGURATION=1]="CONFIGURATION",po[po.LICENSE=2]="LICENSE",po[po.SOURCE=3]="SOURCE",po[po.MANIFEST=4]="MANIFEST",po[po.MEDIA=5]="MEDIA",po[po.NETWORK=6]="NETWORK",po[po.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",po[po.SUBTITLE=8]="SUBTITLE",po[po.VR=9]="VR",po[po.AD=10]="AD",po[po.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var i=l.floor(n/1e3);if(i in t)return i;throw new v("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={}));var To=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return M(i,t),L(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(un),Eo=function(){function t(t,n){this.sc=t,this.za=n,this.oc=void 0}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.sc},i.xa=function(){var t=T.coroutine(de.mark(function t(i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oc){t.next=2;break}throw new To(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new Ao(this.sc,this.za,this.oc));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Pa=function(t){return this.oc=Xs(t),T.resolve(!0)},i.Ba=function(t){return t.webkitSetMediaKeys(this.sc),T.resolve()},i.La=function(t){return t.webkitSetMediaKeys(null),T.resolve()},t}(),So=function(){function t(t,n){this.da=t,this.uc=n;var i=_o(n)||"video/mp4";this.za=fo(i)}var n=t.prototype;return n.Ha=function(){return this.uc},n.Fa=function(){return T.resolve(new Eo(new Cr.WebKitMediaKeys(this.da),this.za))},L(t,[{key:"Va",get:function(){return this.da}}]),t}(),Ro=function(){function t(){}return t.prototype.ro=function(t,n){try{return T.resolve(function(t,n){if(t!==Pe)throw new v(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Io())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=vo(No,Iu,t,r);if(e)return new So(t,e)}throw new v("Unsupported key system configuration for "+t)}(t,n))}catch(t){return T.reject(t)}},t.Wa=function(){return Io()},t}();function Io(){return void 0!==Cr.WebKitMediaKeys&&"function"==typeof Cr.WebKitMediaKeys.isTypeSupported}function No(t,n){return Cr.WebKitMediaKeys.isTypeSupported(t,n)}var Do,Co=function(){function t(t){this.vc=t}return t.prototype.ro=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.vc;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.ro(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new v("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Oo=function(t){function n(n){var i;return(i=t.call(this)||this).da=n,i.ja=void 0,i.ac=void 0,i.dc=!1,i.lc=void 0,i._c=void 0,i.Ya=new js,i.gc="",i.wc=new js,i.yc=new Bu,i}M(n,t);var i=n.prototype;return i.mc=function(){this.ac&&(this.Ka("usable"),this.ac.aa(void 0),this.ac=void 0)},i.kc=function(t){var n=new $s("Unknown CDM error",t.errorCode,t.systemCode);this.ac?(this.ac.ca(n),this.ac=void 0):this.ja?(this.ja.ca(n),this.ja=void 0):n.ha===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.Ka("output-restricted"):1===n.fa?this.Ka("expired"):this.Ka("internal-error")},i.pc=function(t){0!==t.message.byteLength&&(this.ja&&(this.ja.aa(void 0),this.ja=void 0),this.To(new Du(this,"license-request",Zs(this.da,qs(t.message).buffer),t.defaultURL||void 0)))},i.Ac=function(t){this._c||(this._c=t,this.wc.aa(t))},i.Aa=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.dc=!0,this.Ya.aa(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ba=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ja=new js,this.lc=Xs(i),t.t0=this._c,t.t0){t.next=8;break}return t.next=7,this.wc.oa;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.da,this.lc),t.next=12,this.ja.oa;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ta=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ea=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Sa=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ac=new js,t.t0=this._c,t.t0){t.next=7;break}return t.next=6,this.wc.oa;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.da,Xs(n),this.lc,this.Ca),t.next=11,this.ac.oa;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.dc)throw new v("Already closing or closed.")},i.Ka=function(t){this.yc.Jo(),this.yc.Zo(Pu,t),this.To(new Nu(this))},L(n,[{key:"Da",get:function(){return this.yc}},{key:"Ca",get:function(){return this.gc},set:function(t){this.gc=t}},{key:"Ia",get:function(){return this.Ya.oa}},{key:"Na",get:function(){return NaN}}]),n}(Tu),xo=function(){function t(t){var n=this;this.da=t,this._c=void 0,this.bc=ge(),this.Tc=[],this.$a=function(t){var i=n.Ec(t.sessionId);i&&i.mc()},this.Sc=function(t){var i=n.Ec(t.sessionId);i&&i.kc(t)},this.Rc=function(t){var i=n.Ec(t.sessionId);i&&i.pc(t)}}var n=t.prototype;return n.Ba=function(t){return this._c=t,this._c.addEventListener("webkitkeyadded",this.$a),this._c.addEventListener("webkitkeyerror",this.Sc),this._c.addEventListener("webkitkeymessage",this.Rc),this.bc.forEach(function(n,i){return n.Ac(t)}),this.Tc.forEach(function(n){return n.Ac(t)}),T.resolve()},n.La=function(t){return t.removeEventListener("webkitkeyadded",this.$a),t.removeEventListener("webkitkeyerror",this.Sc),t.removeEventListener("webkitkeymessage",this.Rc),this._c=void 0,T.resolve()},n.xa=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Oo(this.da),this._c&&e.Ac(this._c),this.Tc.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Pa=function(t){return T.resolve(!1)},n.Ec=function(t){if(t){var n=this.bc.get(t);return n||((n=this.Tc.shift())?(n.Ca=t,this.bc.set(t,n),n):void 0)}},t}(),Po=function(){function t(t,n){this.Va=t,this.Ic=n}var n=t.prototype;return n.Fa=function(){return T.resolve(new xo(this.Va))},n.Ha=function(){return this.Ic},t}(),Bo=function(){function t(){}return t.prototype.ro=function(t,n){try{return T.resolve(Lo(t,n))}catch(t){return T.reject(t)}},t.Wa=function(){return qe()},t}();function Lo(t,n){if(!Bo.Wa())throw new v("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=vo(Mo,Ru,t,r);if(e)return new Po(t,e)}throw new v("Unsupported key system configuration for "+t)}function Mo(t,n){var i=Yr();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Uo(){return Do||(Do=function(){var t=[];Ro.Wa()&&t.push(new Ro);ro.Wa()&&t.push(new ro);wo.Wa()&&t.push(new wo);Bo.Wa()&&t.push(new Bo);return new Co(t)}()),Do}var Fo=function(){function t(){this.Nc=ge()}var n=t.prototype;return n.Jo=function(t){this.Nc.delete(t)},n.Dc=function(){this.Nc.clear()},n.Qo=function(t){return this.Nc.get(t)},n.Cc=function(t,n){this.Nc.set(t,n)},t}(),Ho=function(){function t(){}return t.Oc=function(){return t.Ve||(t.Ve=Vo.Wa()?new Vo:new Fo),t.Ve},t.Jo=function(n){t.Oc().Jo(n)},t.Dc=function(){t.Oc().Dc()},t.Qo=function(n){return t.Oc().Qo(n)},t.Cc=function(n,i){t.Oc().Cc(n,i)},t}();Ho.Ve=void 0;var Vo=function(n){function i(){return n.apply(this,arguments)||this}M(i,n),i.Wa=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Jo=function(n){t.sessionStorage.removeItem(n)},r.Dc=function(){t.sessionStorage.clear()},r.Qo=function(n){return t.sessionStorage[n]},r.Cc=function(n,i){t.sessionStorage[n]=i},i}(Ho);var Xo=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}();function Wo(t,n,i){var r=Xo([n],{type:"application/octet-stream"}),u=URL.createObjectURL(r),s=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=e.createElement("a");o.href=u,o.download=s,e.body.appendChild(o),o.click(),e.body.removeChild(o),URL.revokeObjectURL(u)}var qo,zo;!function(t){t.xc="Pc",t.Bc="Lc",t.Mc="contentprotectionerror",t.Uc="contentprotectionsuccess",t.Fc="currentsourcechange",t.Hc="destroy",t.Vc="durationchange",t.Xc="emptied",t.Vo="encrypted",t.Wc="ended",t.qc="zc",t.Gc="loadstart",t.jc="manifestupdate",t.Qc="nosupportedrepresentationfound",t.Yc="offline",t.Zc="online",t.Jc="pause",t.$c="play",t.Kc="progress",t.th="ratechange",t.nh="representationchange",t.ih="resize",t.rh="seeked",t.eh="seeking",t.uh="segmentnotfound",t.sh="oh",t.ah="hh",t.fh="sourcechange",t.vh="timeupdate",t.dh="volumechange",t.lh="_h",t.gh="metricschange"}(qo||(qo={})),function(t){t.wh="arraybuffer",t.yh="json",t.mh="stream",t.ze="text"}(zo||(zo={}));var Go=function(){function t(n){var i=this;this.Vs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=jo(i),r=Qo(r);var e=i.toLowerCase();if(this.Vs.hasOwnProperty(e)){var u=this.Vs[e],s=u[1];u[1]=s?s+", "+r:r}else this.Vs[e]=[i,r]},n.delete=function(t){var n=jo(t).toLowerCase();delete this.Vs[n]},n.get=function(t){var n=jo(t).toLowerCase();return this.Vs.hasOwnProperty(n)?this.Vs[n][1]:null},n.has=function(t){var n=jo(t).toLowerCase();return this.Vs.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=jo(i)).toLowerCase();this.Vs[r]=[i,Qo(n)]},n.forEach=function(t,n){for(var i in this.Vs)this.Vs.hasOwnProperty(i)&&t.call(n,this.Vs[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Vs)if(this.Vs.hasOwnProperty(n)){var i=this.Vs[n],r=i[0],e=i[1];t.push([r,e])}return t},n.kh=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.ph=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Ah=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function jo(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new v("Invalid character in header field name");return n}function Qo(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function Zo(){}var Jo=Number.isNaN||function(t){return t!=t},$o=Zo;function Ko(t){return"object"==typeof t&&null!==t||"function"==typeof t}function ta(t){return t.slice()}function na(t){return!1!==function(t){if("number"!=typeof t)return!1;if(Jo(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function ia(t,n,i){if("function"!=typeof t)throw new v("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function ra(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new v(e+" is not a method");switch(i){case 0:return function(){return ua(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ua(e,t,i)}}}return function(){return la(void 0)}}function ea(t,n,i){var r=t[n];if(void 0!==r)return ia(r,t,i)}function ua(t,n,i){try{return la(ia(t,n,i))}catch(t){return _a(t)}}function sa(t){return t}function oa(t){if(t=Number(t),Jo(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function aa(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new v("size property of a queuing strategy must be a function");return function(n){return t(n)}}var ca=T,ha=T.prototype.then,fa=T.resolve.bind(ca),va=T.reject.bind(ca);function da(t){return new ca(t)}function la(t){return fa(t)}function _a(t){return va(t)}function ga(t,n,i){return ha.call(t,n,i)}function wa(t,n,i){ga(ga(t,n,i),void 0,$o)}function ya(t,n){wa(t,n)}function ma(t,n){wa(t,void 0,n)}function ka(t,n,i){return ga(t,n,i)}function pa(t){ga(t,void 0,$o)}var Aa=function(){function t(){this.bh=0,this.Th=0,this.Ni={Eh:[],Sh:void 0},this.Rh=this.Ni,this.bh=0,this.Th=0}return d.defineProperty(t.prototype,"length",{get:function(){return this.Th},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Rh,i=n;16383===n.Eh.length&&(i={Eh:[],Sh:void 0}),n.Eh.push(t),i!==n&&(this.Rh=i,n.Sh=i),++this.Th},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.bh,r=i+1,e=t.Eh,u=e[i];return 16384===r&&(n=t.Sh,r=0),--this.Th,this.bh=r,t!==n&&(this.Ni=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.bh,i=this.Ni,r=i.Eh;!(n===r.length&&void 0===i.Sh||n===r.length&&(n=0,0===(r=(i=i.Sh).Eh).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.bh;return t.Eh[n]},t}();function ba(t,n,i){var r=null;!0===i&&(r=d.prototype);var e=d.create(r);return e.value=t,e.done=n,e}function Ta(t,n){t.Ih=!0,t.Nh=n,n.Dh=t,"readable"===n.Ch?Ia(t):"closed"===n.Ch?function(t){Ia(t),Ca(t)}(t):Na(t,n.Oh)}function Ea(t,n){return Bh(t.Nh,n)}function Sa(t){"readable"===t.Nh.Ch?Da(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Na(t,n)}(t,new v("Reader was released and can no longer be used to monitor the stream's closedness")),t.Nh.Dh=void 0,t.Nh=void 0}function Ra(t){return new v("Cannot "+t+" a stream using a released reader")}function Ia(t){t.pa=da(function(n,i){t.xh=n,t.Ph=i})}function Na(t,n){Ia(t),Da(t,n)}function Da(t,n){pa(t.pa),t.Ph(n),t.xh=void 0,t.Ph=void 0}function Ca(t){t.xh(void 0),t.xh=void 0,t.Ph=void 0}var Oa=Yo("[[CancelSteps]]"),xa=Yo("[[PullSteps]]");function Pa(t,n){void 0===n&&(n=!1);var i=new Va(t);return i.Ih=n,i}function Ba(t){return da(function(n,i){var r={zn:n,Z:i};t.Dh.Bh.push(r)})}function La(t,n,i){var r=t.Dh;r.Bh.shift().zn(ba(n,i,r.Ih))}function Ma(t){return t.Dh.Bh.length}function Ua(t){var n=t.Dh;return void 0!==n&&!!Xa(n)}var Fa,Ha,Va=function(){function t(t){if(!1===xh(t))throw new v("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Ph(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ta(this,t),this.Bh=new Aa}return d.defineProperty(t.prototype,"closed",{get:function(){return Xa(this)?this.pa:_a(qa("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Xa(this)?void 0===this.Nh?_a(Ra("cancel")):Ea(this,t):_a(qa("cancel"))},t.prototype.read=function(){return Xa(this)?void 0===this.Nh?_a(Ra("read from")):Wa(this):_a(qa("read"))},t.prototype.releaseLock=function(){if(!Xa(this))throw qa("releaseLock");if(void 0!==this.Nh){if(this.Bh.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Sa(this)}},t}();function Xa(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Bh")}function Wa(t){var n=t.Nh;return n.Lh=!0,"closed"===n.Ch?la(ba(void 0,!0,t.Ih)):"errored"===n.Ch?_a(n.Oh):n.Mh[xa]()}function qa(t){return new v("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Yo.asyncIterator&&((Fa={})[Yo.asyncIterator]=function(){return this},Ha=Fa,d.defineProperty(Ha,Yo.asyncIterator,{enumerable:!1}));var za={next:function(){if(!1===Ga(this))return _a(ja("next"));var t=this.Uh;return void 0===t.Nh?_a(Ra("iterate")):ka(Wa(t),function(n){var i=n.done;return i&&Sa(t),ba(n.value,i,!0)})},return:function(t){if(!1===Ga(this))return _a(ja("next"));var n=this.Uh;if(void 0===n.Nh)return _a(Ra("finish iterating"));if(n.Bh.length>0)return _a(new v("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Fh){var i=Ea(n,t);return Sa(n),ka(i,function(){return ba(t,!0,!0)})}return Sa(n),la(ba(t,!0,!0))}};function Ga(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Uh")}function ja(t){return new v("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function Qa(t){var n=t.Fn.shift();return t.Hh-=n.size,t.Hh<0&&(t.Hh=0),n.value}function Ya(t,n,i){if(!na(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.Hh+=i}function Za(t){t.Fn=new Aa,t.Hh=0}void 0!==Ha&&d.setPrototypeOf(za,Ha),d.defineProperty(za,"next",{enumerable:!1}),d.defineProperty(za,"return",{enumerable:!1});var Ja=Yo("[[AbortSteps]]"),$a=Yo("[[ErrorSteps]]"),Ka=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),nc(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=aa(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(mc.prototype);var u=ra(n,"write",1,[e]),s=ra(n,"close",0,[]),o=ra(n,"abort",1,[]);kc(t,e,function(){return ea(n,"start",[e])},u,s,o,i,r)}(this,t,r=oa(r),e)}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===ic(this))throw Rc("locked");return rc(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ic(this)?_a(Rc("abort")):!0===rc(this)?_a(new v("Cannot abort a stream that already has a writer")):ec(this,t)},t.prototype.close=function(){return!1===ic(this)?_a(Rc("close")):!0===rc(this)?_a(new v("Cannot close a stream that already has a writer")):!0===cc(this)?_a(new v("Cannot close an already-closing stream")):uc(this)},t.prototype.getWriter=function(){if(!1===ic(this))throw Rc("getWriter");return tc(this)},t}();function tc(t){return new vc(t)}function nc(t){t.Ch="writable",t.Oh=void 0,t.Vh=void 0,t.Xh=void 0,t.Wh=new Aa,t.qh=void 0,t.zh=void 0,t.Gh=void 0,t.jh=void 0,t.Qh=!1}function ic(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Xh")}function rc(t){return void 0!==t.Vh}function ec(t,n){var i=t.Ch;if("closed"===i||"errored"===i)return la(void 0);if(void 0!==t.jh)return t.jh._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=da(function(i,e){t.jh={_n:void 0,zn:i,Z:e,Pn:n,Yh:r}});return t.jh._n=e,!1===r&&oc(t,n),e}function uc(t){var n=t.Ch;if("closed"===n||"errored"===n)return _a(new v("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=da(function(n,i){var r={zn:n,Z:i};t.zh=r}),e=t.Vh;return void 0!==e&&!0===t.Qh&&"writable"===n&&Uc(e),Ya(i=t.Xh,"close",0),bc(i),r}function sc(t,n){"writable"!==t.Ch?ac(t):oc(t,n)}function oc(t,n){var i=t.Xh;t.Ch="erroring",t.Oh=n;var r=t.Vh;void 0!==r&&gc(r,n),!1===function(t){if(void 0===t.qh&&void 0===t.Gh)return!1;return!0}(t)&&!0===i.Zh&&ac(t)}function ac(t){t.Ch="errored",t.Xh[$a]();var n=t.Oh;if(t.Wh.forEach(function(t){t.Z(n)}),t.Wh=new Aa,void 0!==t.jh){var i=t.jh;if(t.jh=void 0,!0===i.Yh)return i.Z(n),void hc(t);wa(t.Xh[Ja](i.Pn),function(){i.zn(),hc(t)},function(n){i.Z(n),hc(t)})}else hc(t)}function cc(t){return void 0!==t.zh||void 0!==t.Gh}function hc(t){void 0!==t.zh&&(t.zh.Z(t.Oh),t.zh=void 0);var n=t.Vh;void 0!==n&&Oc(n,t.Oh)}function fc(t,n){var i=t.Vh;void 0!==i&&n!==t.Qh&&(!0===n?function(t){Pc(t)}(i):Uc(i)),t.Qh=n}var vc=function(){function t(t){if(!1===ic(t))throw new v("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===rc(t))throw new v("This stream has already been locked for exclusive writing by another writer");this.Jh=t,t.Vh=this;var n,i=t.Ch;if("writable"===i)!1===cc(t)&&!0===t.Qh?Pc(this):Lc(this),Dc(this);else if("erroring"===i)Bc(this,t.Oh),Dc(this);else if("closed"===i)Lc(this),Dc(n=this),xc(n);else{var r=t.Oh;Bc(this,r),Cc(this,r)}}return d.defineProperty(t.prototype,"closed",{get:function(){return!1===dc(this)?_a(Ic("closed")):this.pa},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===dc(this))throw Ic("desiredSize");if(void 0===this.Jh)throw Nc("desiredSize");return function(t){var n=t.Jh,i=n.Ch;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Ac(n.Xh)}(this)},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"ready",{get:function(){return!1===dc(this)?_a(Ic("ready")):this.$h},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===dc(this)?_a(Ic("abort")):void 0===this.Jh?_a(Nc("abort")):function(t,n){return ec(t.Jh,n)}(this,t)},t.prototype.close=function(){if(!1===dc(this))return _a(Ic("close"));var t=this.Jh;return void 0===t?_a(Nc("close")):!0===cc(t)?_a(new v("Cannot close an already-closing stream")):lc(this)},t.prototype.releaseLock=function(){if(!1===dc(this))throw Ic("releaseLock");void 0!==this.Jh&&wc(this)},t.prototype.write=function(t){return!1===dc(this)?_a(Ic("write")):void 0===this.Jh?_a(Nc("write to")):yc(this,t)},t}();function dc(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Jh")}function lc(t){return uc(t.Jh)}function _c(t,n){"pending"===t.Kh?Oc(t,n):function(t,n){Cc(t,n)}(t,n)}function gc(t,n){"pending"===t.tf?Mc(t,n):function(t,n){Bc(t,n)}(t,n)}function wc(t){var n=t.Jh,i=new v("Writer was released and can no longer be used to monitor the stream's closedness");gc(t,i),_c(t,i),n.Vh=void 0,t.Jh=void 0}function yc(t,n){var i=t.Jh,r=i.Xh,e=function(t,n){try{return t.nf(n)}catch(n){return Tc(t,n),1}}(r,n);if(i!==t.Jh)return _a(Nc("write to"));var u=i.Ch;if("errored"===u)return _a(i.Oh);if(!0===cc(i)||"closed"===u)return _a(new v("The stream is closing or closed and cannot be written to"));if("erroring"===u)return _a(i.Oh);var s=function(t){return da(function(n,i){var r={zn:n,Z:i};t.Wh.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{Ya(t,r,i)}catch(n){return void Tc(t,n)}var e=t.if;if(!1===cc(e)&&"writable"===e.Ch){var u=Ec(t);fc(e,u)}bc(t)}(r,n,e),s}var mc=function(){function t(){throw new v("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!Ko(t))return!1;if(!d.prototype.hasOwnProperty.call(t,"if"))return!1;return!0}(this))throw new v("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.if.Ch&&Sc(this,t)},t.prototype[Ja]=function(t){var n=this.rf(t);return pc(this),n},t.prototype[$a]=function(){Za(this)},t}();function kc(t,n,i,r,e,u,s,o){n.if=t,t.Xh=n,n.Fn=void 0,n.Hh=void 0,Za(n),n.Zh=!1,n.nf=o,n.ef=s,n.uf=r,n.sf=e,n.rf=u;var a=Ec(n);fc(t,a),wa(la(i()),function(){n.Zh=!0,bc(n)},function(i){n.Zh=!0,sc(t,i)})}function pc(t){t.uf=void 0,t.sf=void 0,t.rf=void 0,t.nf=void 0}function Ac(t){return t.ef-t.Hh}function bc(t){var n=t.if;if(!1!==t.Zh&&void 0===n.qh)if("erroring"!==n.Ch){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.if;(function(t){t.Gh=t.zh,t.zh=void 0})(n),Qa(t);var i=t.sf();pc(t),wa(i,function(){!function(t){t.Gh.zn(void 0),t.Gh=void 0,"erroring"===t.Ch&&(t.Oh=void 0,void 0!==t.jh&&(t.jh.zn(),t.jh=void 0)),t.Ch="closed";var n=t.Vh;void 0!==n&&xc(n)}(n)},function(t){!function(t,n){t.Gh.Z(n),t.Gh=void 0,void 0!==t.jh&&(t.jh.Z(n),t.jh=void 0),sc(t,n)}(n,t)})}(t):function(t,n){var i=t.if;(function(t){t.qh=t.Wh.shift()})(i),wa(t.uf(n),function(){!function(t){t.qh.zn(void 0),t.qh=void 0}(i);var n=i.Ch;if(Qa(t),!1===cc(i)&&"writable"===n){var r=Ec(t);fc(i,r)}bc(t)},function(n){"writable"===i.Ch&&pc(t),function(t,n){t.qh.Z(n),t.qh=void 0,sc(t,n)}(i,n)})}(t,i.chunk)}}else ac(n)}function Tc(t,n){"writable"===t.if.Ch&&Sc(t,n)}function Ec(t){return Ac(t)<=0}function Sc(t,n){var i=t.if;pc(t),oc(i,n)}function Rc(t){return new v("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Ic(t){return new v("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Nc(t){return new v("Cannot "+t+" a stream using a released writer")}function Dc(t){t.pa=da(function(n,i){t.xh=n,t.Ph=i,t.Kh="pending"})}function Cc(t,n){Dc(t),Oc(t,n)}function Oc(t,n){pa(t.pa),t.Ph(n),t.xh=void 0,t.Ph=void 0,t.Kh="rejected"}function xc(t){t.xh(void 0),t.xh=void 0,t.Ph=void 0,t.Kh="resolved"}function Pc(t){t.$h=da(function(n,i){t.af=n,t.cf=i}),t.tf="pending"}function Bc(t,n){Pc(t),Mc(t,n)}function Lc(t){Pc(t),Uc(t)}function Mc(t,n){pa(t.$h),t.cf(n),t.af=void 0,t.cf=void 0,t.tf="rejected"}function Uc(t){t.af(void 0),t.af=void 0,t.cf=void 0,t.tf="fulfilled"}function Fc(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Hc="undefined"!=typeof DOMException?DOMException:void 0;var Vc,Xc=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Hc)?Hc:((Vc=function(t,n){this.message=t||"",this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),d.defineProperty(Vc.prototype,"constructor",{value:Vc,writable:!0,configurable:!0}),Vc);function Wc(t,n,i,r,e,u){var s=Pa(t),o=tc(n);t.Lh=!0;var a=!1,c=la(void 0);return da(function(h,f){var d,l,_,g;if(void 0!==u){if(d=function(){var i=new Xc("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.Ch?ec(n,i):la(void 0)}),!1===e&&u.push(function(){return"readable"===t.Ch?Bh(t,i):la(void 0)}),k(function(){return T.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void d();u.addEventListener("abort",d)}if(m(t,s.pa,function(t){!1===r?k(function(){return ec(n,t)},!0,t):p(!0,t)}),m(n,o.pa,function(n){!1===e?k(function(){return Bh(t,n)},!0,n):p(!0,n)}),l=t,_=s.pa,g=function(){!1===i?k(function(){return function(t){var n=t.Jh,i=n.Ch;return!0===cc(n)||"closed"===i?la(void 0):"errored"===i?_a(n.Oh):lc(t)}(o)}):p()},"closed"===l.Ch?g():ya(_,g),!0===cc(n)||"closed"===n.Ch){var w=new v("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Bh(t,w)},!0,w):p(!0,w)}function y(){var t=c;return ga(c,function(){return t!==c?y():void 0})}function m(t,n,i){"errored"===t.Ch?i(t.Oh):ma(n,i)}function k(t,i,r){function e(){wa(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.Ch&&!1===cc(n)?ya(y(),e):e())}function p(t,i){!0!==a&&(a=!0,"writable"===n.Ch&&!1===cc(n)?ya(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){wc(o),Sa(s),void 0!==u&&u.removeEventListener("abort",d),t?f(n):h(void 0)}pa(da(function(t,n){!function i(r){r?t():ga(!0===a?la(!0):ga(o.$h,function(){return ga(Wa(s),function(t){return!0===t.done||(c=ga(yc(o,t.value),void 0,Zo),!1)})}),i,n)}(!1)}))})}var qc=function(){function t(){throw new v}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===zc(this))throw nh("desiredSize");return $c(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===zc(this))throw nh("close");if(!1===Kc(this))throw new v("The stream is not in a state that permits close");Yc(this)},t.prototype.enqueue=function(t){if(!1===zc(this))throw nh("enqueue");if(!1===Kc(this))throw new v("The stream is not in a state that permits enqueue");return Zc(this,t)},t.prototype.error=function(t){if(!1===zc(this))throw nh("error");Jc(this,t)},t.prototype[Oa]=function(t){Za(this);var n=this.hf(t);return Qc(this),n},t.prototype[xa]=function(){var t=this.ff;if(this.Fn.length>0){var n=Qa(this);return!0===this.vf&&0===this.Fn.length?(Qc(this),Lh(t)):Gc(this),la(ba(n,!1,t.Dh.Ih))}var i=Ba(t);return Gc(this),i},t}();function zc(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"ff")}function Gc(t){!1!==jc(t)&&(!0!==t.df?(t.df=!0,wa(t.lf(),function(){t.df=!1,!0===t._f&&(t._f=!1,Gc(t))},function(n){Jc(t,n)})):t._f=!0)}function jc(t){var n=t.ff;return!1!==Kc(t)&&(!1!==t.Zh&&(!0===Ph(n)&&Ma(n)>0||$c(t)>0))}function Qc(t){t.lf=void 0,t.hf=void 0,t.nf=void 0}function Yc(t){var n=t.ff;t.vf=!0,0===t.Fn.length&&(Qc(t),Lh(n))}function Zc(t,n){var i=t.ff;if(!0===Ph(i)&&Ma(i)>0)La(i,n,!1);else{var r=void 0;try{r=t.nf(n)}catch(n){throw Jc(t,n),n}try{Ya(t,n,r)}catch(n){throw Jc(t,n),n}}Gc(t)}function Jc(t,n){var i=t.ff;"readable"===i.Ch&&(Za(t),Qc(t),Mh(i,n))}function $c(t){var n=t.ff.Ch;return"errored"===n?null:"closed"===n?0:t.ef-t.Hh}function Kc(t){var n=t.ff.Ch;return!1===t.vf&&"readable"===n}function th(t,n,i,r,e,u,s){n.ff=t,n.Fn=void 0,n.Hh=void 0,Za(n),n.Zh=!1,n.vf=!1,n._f=!1,n.df=!1,n.nf=s,n.ef=u,n.lf=r,n.hf=e,t.Mh=n,wa(la(i()),function(){n.Zh=!0,Gc(n)},function(t){Jc(n,t)})}function nh(t){return new v("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var ih=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&l.floor(t)===t},rh=function(){function t(){throw new v("ReadableStreamBYOBRequest cannot be used directly")}return d.defineProperty(t.prototype,"view",{get:function(){if(!1===sh(this))throw Ah("view");return this.gf},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===sh(this))throw Ah("respond");if(void 0===this.wf)throw new v("This BYOB request has been invalidated");this.gf.buffer,function(t,n){if(!1===na(n=Number(n)))throw new RangeError("bytesWritten must be a finite");gh(t,n)}(this.wf,t)},t.prototype.respondWithNewView=function(t){if(!1===sh(this))throw Ah("respond");if(void 0===this.wf)throw new v("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new v("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.yf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,gh(t,n.byteLength)}(this.wf,t)},t}(),eh=function(){function t(){throw new v("ReadableByteStreamController constructor cannot be used directly")}return d.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===uh(this))throw bh("byobRequest");if(void 0===this.mf&&this.yf.length>0){var t=this.yf.peek(),n=new y(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=d.create(rh.prototype);!function(t,n,i){t.wf=n,t.gf=i}(i,this,n),this.mf=i}return this.mf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===uh(this))throw bh("desiredSize");return kh(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===uh(this))throw bh("close");if(!0===this.vf)throw new v("The stream has already been closed; do not close it again!");var t=this.kf.Ch;if("readable"!==t)throw new v("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.kf;if(t.Hh>0)return void(t.vf=!0);if(t.yf.length>0){var i=t.yf.peek();if(i.bytesFilled>0){var r=new v("Insufficient bytes to fill elements in the given buffer");throw mh(t,r),r}}yh(t),Lh(n)}(this)},t.prototype.enqueue=function(t){if(!1===uh(this))throw bh("enqueue");if(!0===this.vf)throw new v("stream is closed or draining");var n=this.kf.Ch;if("readable"!==n)throw new v("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new v("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.kf,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=sa(r);if(!0===Ua(i))if(0===Ma(i))hh(t,s,e,u);else{var o=new y(s,e,u);La(i,o,!1)}else!0===Sh(i)?(hh(t,s,e,u),_h(t)):hh(t,s,e,u);oh(t)}(this,t)},t.prototype.error=function(t){if(!1===uh(this))throw bh("error");mh(this,t)},t.prototype[Oa]=function(t){this.yf.length>0&&(this.yf.peek().bytesFilled=0);Za(this);var n=this.hf(t);return yh(this),n},t.prototype[xa]=function(){var t=this.kf;if(this.Hh>0){var n=this.Fn.shift();this.Hh-=n.byteLength,dh(this);var i=void 0;try{i=new y(n.buffer,n.byteOffset,n.byteLength)}catch(t){return _a(t)}return la(ba(i,!1,t.Dh.Ih))}var r=this.pf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return _a(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:y,readerType:"default"};this.yf.push(u)}var s=Ba(t);return oh(this),s},t}();function uh(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"kf")}function sh(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"wf")}function oh(t){!1!==function(t){var n=t.kf;if("readable"!==n.Ch)return!1;if(!0===t.vf)return!1;if(!1===t.Zh)return!1;if(!0===Ua(n)&&Ma(n)>0)return!0;if(!0===Sh(n)&&Eh(n)>0)return!0;if(kh(t)>0)return!0;return!1}(t)&&(!0!==t.df?(t.df=!0,wa(t.lf(),function(){t.df=!1,!0===t._f&&(t._f=!1,oh(t))},function(n){mh(t,n)})):t._f=!0)}function ah(t,n){var i=!1;"closed"===t.Ch&&(i=!0);var r=ch(n);"default"===n.readerType?La(t,r,i):function(t,n,i){var r=t.Dh;r.Af.shift().zn(ba(n,i,r.Ih))}(t,r,i)}function ch(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function hh(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.Hh+=r}function fh(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=l.min(t.Hh,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,d,_=t.Fn;o>0;){var g=_.peek(),w=l.min(o,g.byteLength),m=n.byteOffset+n.bytesFilled;c=n.buffer,h=m,f=g.buffer,v=g.byteOffset,d=w,new y(c).set(new y(f,v,d),h),g.byteLength===w?_.shift():(g.byteOffset+=w,g.byteLength-=w),t.Hh-=w,vh(t,w,n),o-=w}return a}function vh(t,n,i){lh(t),i.bytesFilled+=n}function dh(t){0===t.Hh&&!0===t.vf?(yh(t),Lh(t.kf)):oh(t)}function lh(t){void 0!==t.mf&&(t.mf.wf=void 0,t.mf.gf=void 0,t.mf=void 0)}function _h(t){for(;t.yf.length>0;){if(0===t.Hh)return;var n=t.yf.peek();!0===fh(t,n)&&(wh(t),ah(t.kf,n))}}function gh(t,n){var i=t.yf.peek();if("closed"===t.kf.Ch){if(0!==n)throw new v("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=sa(n.buffer);var i=t.kf;if(!0===Sh(i))for(;Eh(i)>0;)ah(i,wh(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(vh(t,n,i),!(i.bytesFilled<i.elementSize)){wh(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);hh(t,u,0,u.byteLength)}i.buffer=sa(i.buffer),i.bytesFilled-=r,ah(t.kf,i),_h(t)}}(t,n,i);oh(t)}function wh(t){var n=t.yf.shift();return lh(t),n}function yh(t){t.lf=void 0,t.hf=void 0}function mh(t,n){var i=t.kf;"readable"===i.Ch&&(!function(t){lh(t),t.yf=new Aa}(t),Za(t),yh(t),Mh(i,n))}function kh(t){var n=t.kf.Ch;return"errored"===n?null:"closed"===n?0:t.ef-t.Hh}function ph(t,n,i){var r=d.create(eh.prototype);var e=ra(n,"pull",0,[r]),u=ra(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===ih(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.kf=t,n._f=!1,n.df=!1,n.mf=void 0,n.Fn=n.Hh=void 0,Za(n),n.vf=!1,n.Zh=!1,n.ef=oa(u),n.lf=r,n.hf=e,n.pf=s,n.yf=new Aa,t.Mh=n,wa(la(i()),function(){n.Zh=!0,oh(n)},function(t){mh(n,t)})}(t,r,function(){return ea(n,"start",[r])},e,u,i,s)}function Ah(t){return new v("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function bh(t){return new v("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Th(t){return da(function(n,i){var r={zn:n,Z:i};t.Dh.Af.push(r)})}function Eh(t){return t.Dh.Af.length}function Sh(t){var n=t.Dh;return void 0!==n&&!!Ih(n)}var Rh=function(){function t(t){if(!xh(t))throw new v("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===uh(t.Mh))throw new v("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Ph(t))throw new v("This stream has already been locked for exclusive reading by another reader");Ta(this,t),this.Af=new Aa}return d.defineProperty(t.prototype,"closed",{get:function(){return Ih(this)?this.pa:_a(Nh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Ih(this)?void 0===this.Nh?_a(Ra("cancel")):Ea(this,t):_a(Nh("cancel"))},t.prototype.read=function(t){return Ih(this)?void 0===this.Nh?_a(Ra("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?_a(new v("view must have non-zero byteLength")):function(t,n){var i=t.Nh;if(i.Lh=!0,"errored"===i.Ch)return _a(i.Oh);return function(t,n){var i=t.kf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:sa(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.yf.length>0)return t.yf.push(u),Th(i);if("closed"===i.Ch)return la(ba(new e(u.buffer,u.byteOffset,0),!0,i.Dh.Ih));if(t.Hh>0){if(!0===fh(t,u)){var s=ch(u);return dh(t),la(ba(s,!1,i.Dh.Ih))}if(!0===t.vf){var o=new v("Insufficient bytes to fill elements in the given buffer");return mh(t,o),_a(o)}}t.yf.push(u);var a=Th(i);return oh(t),a}(i.Mh,n)}(this,t)):_a(new v("view must be an array buffer view")):_a(Nh("read"))},t.prototype.releaseLock=function(){if(!Ih(this))throw Nh("releaseLock");if(void 0!==this.Nh){if(this.Af.length>0)throw new v("Tried to release a reader lock when that reader has pending read() calls un-settled");Sa(this)}},t}();function Ih(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Af")}function Nh(t){return new v("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Dh=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Oh(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),ph(this,t,r=oa(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=aa(i);void 0===r&&(r=1),function(t,n,i,r){var e=d.create(qc.prototype),u=ra(n,"pull",0,[e]),s=ra(n,"cancel",1,[]);th(t,e,function(){return ea(n,"start",[e])},u,s,i,r)}(this,t,r=oa(r),u)}}return d.defineProperty(t.prototype,"locked",{get:function(){if(!1===xh(this))throw Uh("locked");return Ph(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===xh(this)?_a(Uh("cancel")):!0===Ph(this)?_a(new v("Cannot cancel a stream that already has a reader")):Bh(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===xh(this))throw Uh("getReader");if(void 0===n)return Pa(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Rh(t);return i.Ih=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===xh(this))throw Uh("pipeThrough");if(!1===ic(i))throw new v("writable argument to pipeThrough must be a WritableStream");if(!1===xh(r))throw new v("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!Fc(a))throw new v("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Ph(this))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===rc(i))throw new v("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return pa(Wc(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===xh(this)?_a(Uh("pipeTo")):!1===ic(t)?_a(new v("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||Fc(s)?!0===Ph(this)?_a(new v("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===rc(t)?_a(new v("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Wc(this,t,r,e,u,s):_a(new v("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===xh(this))throw Uh("tee");var t=function(t,n){var i,r,e,u,s,o=Pa(t),a=!1,c=!1,h=!1,f=da(function(t){s=t});function v(){return!0===a?la(void 0):(a=!0,pa(ka(Wa(o),function(t){if(a=!1,!0===t.done)return!1===c&&Yc(e.Mh),void(!1===h&&Yc(u.Mh));var n=t.value,i=n,r=n;!1===c&&Zc(e.Mh,i),!1===h&&Zc(u.Mh,r)})),la(void 0))}function d(){}return e=Ch(d,v,function(n){if(c=!0,i=n,!0===h){var e=ta([i,r]),u=Bh(t,e);s(u)}return f}),u=Ch(d,v,function(n){if(h=!0,r=n,!0===c){var e=ta([i,r]),u=Bh(t,e);s(u)}return f}),ma(o.pa,function(t){Jc(e.Mh,t),Jc(u.Mh,t)}),[e,u]}(this);return ta(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===xh(this))throw Uh("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Pa(t),r=d.create(za);return r.Uh=i,r.Fh=Boolean(n),r}(this,i)},t}();function Ch(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=d.create(Dh.prototype);return Oh(u),th(u,d.create(qc.prototype),t,n,i,r,e),u}function Oh(t){t.Ch="readable",t.Dh=void 0,t.Oh=void 0,t.Lh=!1}function xh(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Mh")}function Ph(t){return void 0!==t.Dh}function Bh(t,n){return t.Lh=!0,"closed"===t.Ch?la(void 0):"errored"===t.Ch?_a(t.Oh):(Lh(t),ka(t.Mh[Oa](n),Zo))}function Lh(t){t.Ch="closed";var n=t.Dh;void 0!==n&&(Xa(n)&&(n.Bh.forEach(function(t){t.zn(ba(void 0,!0,n.Ih))}),n.Bh=new Aa),Ca(n))}function Mh(t,n){t.Ch="errored",t.Oh=n;var i=t.Dh;void 0!==i&&(Xa(i)?(i.Bh.forEach(function(t){t.Z(n)}),i.Bh=new Aa):(i.Af.forEach(function(t){t.Z(n)}),i.Af=new Aa),Da(i,n))}function Uh(t){return new v("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Yo.asyncIterator&&d.defineProperty(Dh.prototype,Yo.asyncIterator,{value:Dh.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Fh=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Hh=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=aa(r);if(void 0===e&&(e=1),e=oa(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=aa(u);void 0===s&&(s=0),s=oa(s),function(t,n,i,r,e,u){function s(){return n}t.bf=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=d.create(Ka.prototype);return nc(s),kc(s,d.create(mc.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.Tf;if(!0===t.Qh){var r=t.Ef;return ka(r,function(){var r=t.bf,e=r.Ch;if("erroring"===e)throw r.Oh;return Yh(i,n)})}return Yh(i,n)}(t,n)},function(){return function(t){var n=t.Sf,i=t.Tf,r=i.Rf();return jh(i),ka(r,function(){if("errored"===n.Ch)throw n.Oh;var t=n.Mh;!0===Kc(t)&&Yc(t)},function(i){throw Xh(t,i),n.Oh})}(t)},function(n){return function(t,n){return Xh(t,n),la(void 0)}(t,n)},i,r),t.Sf=Ch(s,function(){return function(t){return qh(t,!1),t.Ef}(t)},function(n){return Wh(t,n),la(void 0)},e,u),t.Qh=void 0,t.Ef=void 0,t.If=void 0,qh(t,!0),t.Tf=void 0}(this,da(function(t){a=t}),e,o,s,c),function(t,n){var i=d.create(zh.prototype),r=function(t){try{return Qh(i,t),la(void 0)}catch(t){return _a(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new v("transform is not a method");r=function(t){return ua(e,n,[t,i])}}var u=ra(n,"flush",0,[i]);!function(t,n,i,r){n.Nf=t,t.Tf=n,n.Df=i,n.Rf=r}(t,i,r,u)}(this,t);var h=ea(t,"start",[this.Tf]);a(h)}return d.defineProperty(t.prototype,"readable",{get:function(){if(!1===Vh(this))throw Jh("readable");return this.Sf},enumerable:!0,configurable:!0}),d.defineProperty(t.prototype,"writable",{get:function(){if(!1===Vh(this))throw Jh("writable");return this.bf},enumerable:!0,configurable:!0}),t}();function Vh(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Tf")}function Xh(t,n){Jc(t.Sf.Mh,n),Wh(t,n)}function Wh(t,n){jh(t.Tf),Tc(t.bf.Xh,n),!0===t.Qh&&qh(t,!1)}function qh(t,n){void 0!==t.Ef&&t.If(),t.Ef=da(function(n){t.If=n}),t.Qh=n}var zh=function(){function t(){throw new v("TransformStreamDefaultController instances cannot be created directly")}return d.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Gh(this))throw Zh("desiredSize");return $c(this.Nf.Sf.Mh)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Gh(this))throw Zh("enqueue");Qh(this,t)},t.prototype.error=function(t){if(!1===Gh(this))throw Zh("error");var n;n=t,Xh(this.Nf,n)},t.prototype.terminate=function(){if(!1===Gh(this))throw Zh("terminate");!function(t){var n=t.Nf,i=n.Sf.Mh;!0===Kc(i)&&Yc(i);var r=new v("TransformStream terminated");Wh(n,r)}(this)},t}();function Gh(t){return!!Ko(t)&&!!d.prototype.hasOwnProperty.call(t,"Nf")}function jh(t){t.Df=void 0,t.Rf=void 0}function Qh(t,n){var i=t.Nf,r=i.Sf.Mh;if(!1===Kc(r))throw new v("Readable side is not in a state that permits enqueue");try{Zc(r,n)}catch(t){throw Wh(i,t),i.Sf.Oh}(function(t){return!0!==jc(t)})(r)!==i.Qh&&qh(i,!0)}function Yh(t,n){return ka(t.Df(n),void 0,function(n){throw Xh(t.Nf,n),n})}function Zh(t){return new v("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Jh(t){return new v("TransformStream.prototype."+t+" can only be used on a TransformStream")}var $h,Kh=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return M(n,t),L(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(un);function tf(t){return n=[t],new Dh({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function nf(t){return tf(new y(t))}function rf(t,n){return function(t,n){var i=n,r=t.getReader(),e=new js,u=function(){s();var t=new su;r.cancel(t).catch(S),e.ca(t)},s=function(){i&&(i.vo(u),i=void 0)};i&&(i.uo?u():i.fo(u));var o=[];return T.resolve(r.read()).then(function t(n){return n.done?(s(),T.resolve(o)):(o.push(n.value),T.resolve(r.read()).then(t))}).then(function(t){s(),e.aa(t)},function(t){s(),e.ca(t)}),e.oa}(t,n).then(function(t){return ju(t).buffer})}function ef(t,n){var i=n,r=new Hh,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.wo()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(S)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(S)}),e}function uf(t){var n=new Hh,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=J(t)?t[0]===t[1]||ou(t[0])&&ou(t[1])?t[0]:new Kh(t):t,r.abort(n).catch(S)}),i.tee()}function sf(t){return Bs(new y(t))}function of(t){return Ls(t).buffer}!function(t){t[t.mh=0]="mh",t[t.Cf=1]="Cf"}($h||($h={}));var af="content-type",cf="text/plain;charset=UTF-8",hf=function(){function t(){}var n=t.prototype;return n.Of=function(t){return this.xf(t).then(JSON.parse)},n.Pf=function(t,n){switch(t){case zo.wh:return this.Bf(n);case zo.yh:return this.Of(n);case zo.mh:return this.Lf();case zo.ze:return this.xf(n);default:throw new v}},t}();function ff(t,n,i){if(t instanceof hf)return t;if(t instanceof Dh)return function(t,n){return new df({js:$h.mh,Lf:t,Mf:vf(n)})}(t,i);var r=vf(i),e=T.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{js:zo.ze,Uf:t,Mf:n||cf};if(t instanceof ArrayBuffer||zu(t))return{js:zo.wh,Uf:kf(t),Mf:n};if(tt(t)||J(t))return{js:zo.yh,Uf:t,Mf:n};throw new v("Unsupported BodyInit type")}return{js:zo.ze,Uf:null,Mf:n}}(t,r)});return new df({js:$h.Cf,oa:e,Ff:n})}function vf(t){return(t.get(af)||"").toLowerCase()}var df=function(t){function n(n){var i;return(i=t.call(this)||this).Hf=!1,i.Vf=new js,i.Vf.oa.catch(S),i.Xf(n),i}M(n,t);var i=n.prototype;return i.Wf=function(){return this.Vf.oa},i.xf=function(t){return this.qf(lf,t)},i.Of=function(t){return this.qf(gf,t)},i.Bf=function(t){return this.qf(yf,t)},i.Lf=function(){return this.zf((t=this.Gf).js===$h.mh?t.Lf:ef(t.oa.then(mf).then(nf),t.Ff));var t},i.qf=function(t,n){if(this.Hf)return T.reject(new v("Already used"));this.Hf=!0;var i=t(this.Gf,n);return this.Vf.aa(i.then(S)),i},i.zf=function(t){if(this.Hf)throw new v("Already used");if(t.locked)throw new v("Body stream is locked");this.Hf=!0;var n=new Hh,i=T.resolve(t.pipeTo(n.writable));return this.Vf.aa(i),n.readable},i.Xf=function(t){this.Gf=t,t.js===$h.Cf&&t.oa.catch(S)},i.jf=function(){if(this.Hf)throw new v("Already used");var t=function(t){if(t.js===$h.mh){var n=t.Lf.tee(),i=n[0],r=n[1];return[{js:t.js,Lf:i,Mf:t.Mf},{js:t.js,Lf:r,Mf:t.Mf}]}var e=t.Ff.mo(),u=e[0],s=e[1];return[{js:t.js,oa:t.oa,Ff:u},{js:t.js,oa:t.oa,Ff:s}]}(this.Gf),i=t[0],r=t[1];return this.Xf(i),new n(r)},L(n,[{key:"Qf",get:function(){return this.Hf}}]),n}(hf);function lf(t,n){return t.js===$h.mh?rf(t.Lf,n).then(sf):(n&&t.Ff.yo(n),vu(t.oa.then(_f),t.Ff))}function _f(t){switch(t.js){case zo.ze:return T.resolve(t.Uf||"");case zo.wh:return T.resolve(t.Uf).then(sf);case zo.yh:return T.resolve(t.Uf).then(JSON.stringify)}}function gf(t,n){return t.js===$h.mh?lf(t,n).then(JSON.parse):(n&&t.Ff.yo(n),vu(t.oa.then(wf),t.Ff))}function wf(t){return t.js===zo.yh?T.resolve(t.Uf):_f(t).then(JSON.parse)}function yf(t,n){return t.js===$h.mh?rf(t.Lf,n):(n&&t.Ff.yo(n),vu(t.oa.then(mf),t.Ff))}function mf(t){switch(t.js){case zo.wh:return T.resolve(t.Uf);case zo.ze:case zo.yh:return _f(t).then(of)}}function kf(t){return t instanceof ArrayBuffer?t:qs(Hs(t)).buffer}function pf(t){return t.Yf>=200&&t.Yf<=299||304===t.Yf}var Af,bf,Tf,Ef,Sf=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.Zf,u=i.Jf,s=i.Yf,o=i.$f,a=i.Kf):(e=[],u=zo.ze,s=200,o="OK",a=!1);var c=n.tv,h=new Go(n.Zf||e),f=n.Jf||u,v=n.nv||(i&&i.tv===c?i.nv:c.rv),d=i?i.ev:null,l=ff(void 0!==n.pu?n.pu:d,n.Ff||new uu,h);return(r=t.call(this,l)||this).Zf=h,r.tv=c,r.nv=v,r.Jf=f,r.Yf=void 0!==n.Yf?n.Yf:s,r.$f=void 0!==n.$f?String(n.$f):o,r.Kf=n.Kf||a,r}M(n,t);var i=n.prototype;return i.pu=function(t){return this.Pf(this.Jf,t)},i.ia=function(){return new n({pu:this.jf(),tv:this.tv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).ev=n,i}M(n,t);var i=n.prototype;return i.Wf=function(){return this.ev.Wf()},i.xf=function(t){return this.ev.xf(t)},i.Of=function(t){return this.ev.Of(t)},i.Bf=function(t){return this.ev.Bf(t)},i.Lf=function(){return this.ev.Lf()},i.jf=function(){return this.ev.jf()},L(n,[{key:"Qf",get:function(){return this.ev.Qf}}]),n}(hf));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Af||(Af={})),function(t){t.uv="",t.sv="manifest",t.ov="segment",t.av="content-protection"}(bf||(bf={})),function(t){t.uv="",t.cv="initialization-segment",t.hv="fairplay-license",t.fv="fairplay-certificate",t.vv="widevine-license",t.dv="widevine-certificate",t.lv="playready-license",t._v="clearkey-license",t.gv="aes128-key"}(Tf||(Tf={})),function(t){t.uv="",t.wv="audio",t.yv="video",t.ze="text",t.mv="image"}(Ef||(Ef={}));var Rf=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d=t.rv;n?(i=n.Uf,r=n.Zf,e=n.kv,u=n.Jf,s=n.pv,o=n.ko,a=n.js,c=n.Av,h=n.bv,f=n.Tv,v=n.Ev):(i=null,r={},e=Af.GET,u=zo.ze,s=0,a=bf.uv,c=Tf.uv,h=Ef.uv,f=!1),this.rv=d,this.Uf=t.Uf||i,this.Zf=new Go(t.Zf||r),this.kv=t.kv||e,this.Jf=t.Jf||u,this.pv=void 0!==t.pv?Number(t.pv)||0:s,this.ko=t.ko||o||(new uu).ko,this.js=t.js||a,this.Av=t.Av||c,this.bv=t.bv||h,this.Tv=void 0!==t.Tv?Boolean(t.Tv):f,this.Ev=t.Ev||v},If=function(){function t(){}var n=t.prototype;return n.tv=function(t){var n=function(t){return new Sf({pu:null,Zf:{},tv:t,nv:t.rv,Jf:t.Jf,Yf:0,$f:qo.Yc})}(new Rf(t));return T.resolve(n)},n.Sv=function(t){},n.Rv=function(){},t}();var Nf,Df=function(){function t(t,n){void 0===n&&(n=!0),this.Iv=t,this.Nv=n}var n=t.prototype;return n.tv=function(t){var n=this.Dv(t);return this.Iv.tv(n)},n.Sv=function(t){return this.Iv.Sv(this.Cv(t))},n.Dv=function(n){var i=new Rf(n);if(!this.Nv){var r=t.Ov(i.rv);i=new Rf({rv:r},i)}return i},n.Cv=function(n){var i=n.rv;return this.Nv||(i=t.Ov(i)),{rv:i,Uf:n.Uf}},t.Ov=function(t){return b.Cs&&yr(t,"http://")?t.replace(":","s:"):t},n.Rv=function(){this.Iv.Rv()},L(t,null,[{key:"xv",get:function(){return t.Pv||(t.Pv=new t(new If)),t.Pv}}]),t}();Df.Pv=void 0,function(t){t.Bv="HttpOpenError",t.Lv="HttpResponseError",t.Mv="HttpTimeoutError"}(Nf||(Nf={}));var Cf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Uv=n,e}return M(n,t),L(n,[{key:"tv",get:function(){return this.Uv}}]),n}(un);var Of=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.rv+". Invalid URL.",i)||this}return M(n,t),L(n,[{key:"name",get:function(){return Nf.Bv}}]),n}(Cf);var xf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.tv,null!=r?r:function(t){return"Error while loading "+t.tv.rv+", status code "+t.Yf}(n),i)||this).Fv=n,e}return M(n,t),L(n,[{key:"name",get:function(){return Nf.Lv}},{key:"Hv",get:function(){return this.Fv}}]),n}(Cf);var Pf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.rv+" timed out after "+t.pv+" seconds."}(n),i)||this}return M(n,t),L(n,[{key:"name",get:function(){return Nf.Mv}}]),n}(Cf),Bf=function(t,n){return(Bf=d.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function Lf(t,n){function i(){this.constructor=t}Bf(t,n),t.prototype=null===n?d.create(n):(i.prototype=n.prototype,new i)}var Mf="object"==typeof r?r:"object"==typeof t?t:"object"==typeof global?global:null;var Uf=function(){var t=Mf.Blob;if(t)try{return new t,function(t,n){return new Mf.Blob(t,n)}}catch(t){}var n,i=Mf.BlobBuilder||Mf.WebKitBlobBuilder||Mf.MozBlobBuilder||Mf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),Ff="function"==typeof Dh?Dh:void 0;function Hf(t){return t&&"function"==typeof t.getReader}function Vf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Hf(i)}catch(t){return!1}}var Xf=function(){function t(t,n){this.Dh=t,this.Vv=n}return t.prototype.pull=function(t){var n=this;return this.Dh.read().then(function(i){n.Vv&&n.Vv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Dh.cancel(t)},t}();function Wf(t,n){return n.constructor===t?n:new t(new Xf(n.getReader()),{highWaterMark:0})}var qf=function(){function t(t,n){this.Xv=t,this.St=n}return t.prototype.pull=function(t){return this.Xv().then(function(n){t.enqueue(new y(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function zf(t,n,i){return new t(new qf(n,i),{highWaterMark:0})}var Gf={searchParams:"URLSearchParams"in Mf,iterable:"Symbol"in Mf&&"iterator"in Symbol,blob:"FileReader"in Mf&&!!Uf,formData:"FormData"in Mf,arrayBuffer:"ArrayBuffer"in Mf,stream:Vf(Ff),streamRequest:"Request"in Mf&&"body"in Mf.Request.prototype,streamResponse:"Response"in Mf&&"body"in Mf.Response.prototype,abort:"AbortController"in Mf&&"Request"in Mf&&"signal"in Mf.Request.prototype,encoding:"TextEncoder"in Mf&&"TextDecoder"in Mf,url:"URL"in Mf&&function(t){try{return new Mf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Mf&&/Firefox\//.test(Mf.navigator.userAgent)};function jf(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new v("Invalid character in header field name");return t}function Qf(t){return"string"!=typeof t&&(t=String(t)),t}function Yf(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return Gf.iterable&&(n[Symbol.iterator]=function(){return n}),n}var Zf=function(){function t(n){var i,r=this;this.Vs={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):(i=n,Gf.iterable&&i&&i[Symbol.iterator]?Array.from(n).forEach(function(t){r.append(t[0],t[1])}):n&&d.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])}))}return t.prototype.append=function(t,n){t=jf(t),n=Qf(n);var i=t.toLowerCase();if(this.Vs.hasOwnProperty(i)){var r=this.Vs[i],e=r[1];r[1]=e?e+", "+n:n}else this.Vs[i]=[t,n]},t.prototype.delete=function(t){var n=jf(t).toLowerCase();delete this.Vs[n]},t.prototype.get=function(t){var n=jf(t).toLowerCase();return this.Vs.hasOwnProperty(n)?this.Vs[n][1]:null},t.prototype.has=function(t){var n=jf(t).toLowerCase();return this.Vs.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=jf(t)).toLowerCase();this.Vs[i]=[t,Qf(n)]},t.prototype.forEach=function(t,n){for(var i in this.Vs)this.Vs.hasOwnProperty(i)&&t.call(n,this.Vs[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),Yf(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),Yf(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),Yf(t)},t.prototype.asList=function(){var t=[];for(var n in this.Vs)if(this.Vs.hasOwnProperty(n)){var i=this.Vs[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function Jf(){}Gf.iterable&&(Zf.prototype[Symbol.iterator]=Zf.prototype.entries);var $f,Kf,tv,nv=l.min,iv=String.fromCharCode,rv=16384;function ev(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=rv){var e=nv(r+rv,n);i.push(iv.apply(null,t.slice(r,e)))}return i.join("")}(n)}function uv(t){if(t>=55296&&t<=57343)throw new f("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function sv(t,n){return t>>n&63|128}function ov(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(uv(t),n.push(t>>12&15|224),n.push(sv(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(sv(t,12)),n.push(sv(t,6))),n.push(63&t|128)):n.push(t)}function av(){if(tv>=Kf)throw new f("Invalid byte index");var t=255&$f[tv];if(tv++,128==(192&t))return 63&t;throw new f("Invalid continuation byte")}function cv(){var t,n;if(tv>Kf)throw new f("Invalid byte index");if(tv===Kf)return!1;if(t=255&$f[tv],tv++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|av())>=128)return n;throw new f("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|av()<<6|av())>=2048)return uv(n),n;throw new f("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|av()<<12|av()<<6|av())>=65536&&n<=1114111)return n;throw new f("Invalid UTF-8 detected")}var hv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function fv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function vv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function dv(t){return t&&DataView.prototype.isPrototypeOf(t)}var lv,_v=ArrayBuffer.isView||function(t){return t&&(hv.indexOf(d.prototype.toString.call(t))>-1||dv(t))};function gv(t){if(t.bodyUsed)return T.reject(new v("Already used"));t.bodyUsed=!0}function wv(t){return new T(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function yv(t){return Gf.encoding?new Mf.TextDecoder("utf-8").decode(new y(t)):ev(function(t){Kf=($f=t).length,tv=0;for(var n,i=[];!1!==(n=cv());)i.push(n);return i}(new y(t)))}function mv(t){return Gf.encoding?(new Mf.TextEncoder).encode(t).buffer:new y(function(t){for(var n=[],i=0,r=t;i<r.length;i++)ov(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function kv(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?T.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function pv(t){return kv(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new y(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer})}function Av(t){return t.slice?t.slice(0):bv(new y(t))}function bv(t){if(t.slice)return t.slice(0).buffer;var n=new y(t.byteLength);return n.set(new y(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Tv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Ev(t){var n=t;if(n.bodyUsed)throw new v("Already used");if(n.Wv===lv.qv){if(!n.zv.tee)throw new f("could not clone ReadableStream body");var i=n.zv.tee(),r=i[0],e=i[1];return n.body=r,n.zv=r,n.Gv=r,e}return n.Wv===lv.wh?Av(n.zv):n.Wv===lv.Cf?n.zv.then(Ev):n.Gv}!function(t){t[t.ze=0]="ze",t[t.jv=1]="jv",t[t.Qv=2]="Qv",t[t.wh=3]="wh",t[t.qv=4]="qv",t[t.Cf=5]="Cf"}(lv||(lv={}));var Sv=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.Gv=n||null,n)if("string"==typeof n)this.Wv=lv.ze,this.zv=n;else if((u=n)&&"function"==typeof u.then)this.Wv=lv.Cf,this.zv=T.resolve(n).then(function(n){return new t(n,i)}),this.zv.catch(Jf);else if(Gf.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.Wv=lv.jv,this.zv=n;else if(Gf.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.Wv=lv.Qv,this.zv=n;else if(Gf.searchParams&&fv(n))this.Wv=lv.ze,this.zv=n.toString();else if(Gf.arrayBuffer&&(vv(n)||_v(n)))dv(n)&&(this.Gv=new y((e=n).buffer,e.byteOffset,e.byteLength)),this.Wv=lv.wh,this.zv=vv(r=n)?Av(r):bv(r);else{if(!Gf.stream||!Hf(n))throw new f("unsupported BodyInit type");n=Wf(Ff,n),this.Wv=lv.qv,this.zv=n,this.Gv=n}else this.Wv=lv.ze,this.zv="";this.Yv="",i.has("content-type")?this.Yv=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.Yv="text/plain;charset=UTF-8":s.Wv===lv.jv&&s.zv.type?this.Yv=s.zv.type:Gf.searchParams&&fv(n)&&(this.Yv="application/x-www-form-urlencoded;charset=UTF-8"),this.Yv&&i.set("content-type",this.Yv)),Gf.stream&&(null==n?this.body=null:s.Wv===lv.qv?this.body=s.zv:this.body=zf(Ff,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=gv(this);return r||(this.Wv===lv.jv?(t=this.zv,n=new FileReader,i=wv(n),n.readAsText(t),i):this.Wv===lv.wh?T.resolve(this.zv).then(yv):this.Wv===lv.qv?pv(this.zv).then(yv):this.Wv===lv.Cf?this.zv.then(function(t){return t.text()}):this.Wv===lv.Qv?T.reject(new f("could not read FormData body as text")):T.resolve(this.zv))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();Gf.blob&&(Sv.prototype.blob=function(){var t,n,i=gv(this);return i||(this.Wv===lv.jv?T.resolve(this.zv):this.Wv===lv.wh?T.resolve(Uf([this.zv],{type:this.Yv})):this.Wv===lv.qv?(t=this.zv,n=this.Yv,kv(t).then(function(t){return Uf(t,{type:n||""})})):this.Wv===lv.Cf?this.zv.then(function(t){return t.blob()}):this.Wv===lv.Qv?T.reject(new f("could not read FormData body as Blob")):T.resolve(Uf([this.zv],{type:this.Yv})))}),Gf.arrayBuffer&&(Sv.prototype.arrayBuffer=function(){var t,n,i;return this.Wv===lv.wh?gv(this)||T.resolve(this.zv):this.Wv===lv.jv?gv(this)||(t=this.zv,n=new FileReader,i=wv(n),n.readAsArrayBuffer(t),i):this.Wv===lv.qv?pv(this.zv):this.Wv===lv.Cf?gv(this)||this.zv.then(function(t){return t.arrayBuffer()}):this.Wv===lv.Qv?T.reject(new f("could not read FormData body as ArrayBuffer")):T.resolve(this.zv).then(mv)}),Gf.formData&&(Sv.prototype.formData=function(){return this.Wv===lv.Qv?gv(this)||T.resolve(this.zv):this.text().then(Tv)});var Rv=[301,302,303,307,308],Iv=function(t){function n(n,i){var r=this,e=new Zf((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return Lf(n,t),n.prototype.clone=function(){return new n(Ev(this),{status:this.status,statusText:this.statusText,headers:new Zf(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Rv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Sv);var Nv,Dv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new v("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),d.defineProperty(t,r.key,r)}}function u(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function s(t){return(s=d.setPrototypeOf?d.getPrototypeOf:function(t){return t.__proto__||d.getPrototypeOf(t)})(t)}function a(t,n){return(a=d.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!d.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(r){var e=d.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}d.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),d.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return u(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){o(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),l=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?c(r):e).listeners||f.call(c(t)),d.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),d.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new v("Super expression must either be null or a function");t.prototype=d.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(n,f),u(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),d.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return u(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==e?e.createEvent?(t=e.createEvent("Event")).initEvent("abort",!1,!1):(t=e.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=l,n.AbortController=_,n.default=_});(Nv=Dv)&&Nv.__esModule&&d.prototype.hasOwnProperty.call(Nv,"default")&&Nv.default;Dv.AbortSignal;var Cv=Dv.AbortController,Ov=Mf.DOMException;try{new Ov}catch(t){(Ov=function(t,n){f.call(this,t),this.name=n||"Error",f.captureStackTrace&&f.captureStackTrace(this,this.constructor)}).prototype=d.create(f.prototype),Ov.prototype.constructor=Ov}var xv=Cv;function Pv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function Bv(t,n,i){return new T(function(r,e){if(n.signal.aborted)return t.catch(Jf),e(Lv());var u=function(){n.signal.removeEventListener("abort",u),e(Lv())};n.signal.addEventListener("abort",u),t.then(function(t){n.signal.removeEventListener("abort",u),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",u),e(t),i&&n.abort()})})}function Lv(){return new Ov("Aborted","AbortError")}var Mv,Uv="moz-chunked-arraybuffer";function Fv(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Mv||(Mv={}));var Hv=function(){function t(t,n){var i=this;this.Zv=!1,this.Uv=t,this.Jv=n,this.$v=new k,this.Kv=new T(function(t,n){i.td=t,i.nd=n})}return t.prototype.send=function(){var t=this;return this.rd().then(function(n){return t.ed(n,t.Jv),t.Kv})},t.prototype.rd=function(){var t=this.Uv;return t.Wv===lv.qv?t.arrayBuffer():T.resolve(t.Gv)},t.prototype.ud=function(t){this.Uv.onprogress&&this.Uv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.sd=function(t){this.nd(t)},t.prototype.od=function(){this.sd(new v("Network request failed"))},t.prototype.hd=function(){this.sd(new v("Network request failed"))},t.prototype.fd=function(){this.sd(Lv())},t.prototype.ed=function(t,n){var i=this,r=this.Uv,e=this.$v,u=function(){return i.vd()};if(r.signal.aborted)return this.fd();e.onreadystatechange=function(){if(e.readyState>=Mv.HEADERS_RECEIVED&&!i.Zv){var t=function(t){var n=new Zf;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.Zv=!0,i.dd(n)}},e.onprogress=function(t){return i.ud(t)},e.onload=function(){return i.ld()},e.onerror=function(){return i.od()},e.ontimeout=function(){return i.hd()},e.onabort=function(){return i.fd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.asList().forEach(function(t){var n=t[0],i=t[1];e.setRequestHeader(n,i)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.vd=function(){this.$v.abort()},t}(),Vv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r._d=void 0,r.gd=void 0,r}return Lf(n,t),n.prototype.dd=function(t){var n=this;this._d=new T(function(t,i){n.gd=t,n.wd=i}),this.td(new Iv(this._d,t))},n.prototype.ld=function(){var t=this.$v.response||this.$v.responseText;this.gd(t)},n.prototype.sd=function(n){t.prototype.sd.call(this,n),this.wd&&this.wd(n)},n}(Hv),Xv=function(t){function n(n){var i=t.call(this,n,Uv)||this;return i.yd=void 0,i.md=void 0,i.kd=!1,i}return Lf(n,t),n.prototype.dd=function(t){var n=this;this.yd=new Ff({start:function(t){n.md=t},cancel:function(){n.kd=!0,n.vd()}}),this.td(new Iv(this.yd,t))},n.prototype.ud=function(n){this.kd||this.md.enqueue(new y(this.$v.response)),t.prototype.ud.call(this,n)},n.prototype.ld=function(){this.md.close()},n.prototype.sd=function(n){t.prototype.sd.call(this,n),this.md&&!this.kd&&(this.kd=!0,this.md.error(n))},n}(Hv),Wv=function(){var t=Gf.firefox&&Fv(Uv);return Wv=function(){return t},t},qv=function(){var t;return t=Gf.arrayBuffer&&Fv("arraybuffer")?"arraybuffer":Gf.blob&&Fv("blob")?"blob":"",qv=function(){return t},t};function zv(t){return(Gf.stream&&Wv()?new Xv(t):new Vv(t,qv())).send()}var Gv=Mf.fetch,jv=Mf.Request,Qv=(Mf.Response,Mf.AbortController);var Yv=["http:","https:"];var Zv=function(){try{if(Gf.streamRequest){var t=new jv("about:blank",{body:"",method:"POST"}).body;if(t&&Vf(t.constructor))return t.constructor}}catch(t){}}();function Jv(t,n,i){var r;if(Gf.stream){var e=void 0;if(Gf.streamResponse){var u=t.body;e=u&&Wf(Ff,u)}else e=zf(Ff,function(){return Bv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Xf(n.getReader(),i),{highWaterMark:0})}(Ff,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,$v(t.headers))),r=e}else{var s=Bv(t.arrayBuffer(),n,!0);i&&(s=function(t,n,i){return T.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,$v(t.headers))),r=s}return new Iv(r,t)}function $v(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function Kv(t){var n=new xv;return t.signal&&Pv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.Wv===lv.qv?Gf.streamRequest&&Zv?T.resolve(Wf(Zv,e.zv)):Bv(t.arrayBuffer(),n,!1):Bv(T.resolve(t.Gv),n,!1),Gf.abort){var u=new Qv;Pv(u,n.signal),r=u.signal}return i.then(function(n){return new jv(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof Zf?i:new Zf(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(Gv).then(function(i){return Jv(i,n,t.onprogress)})}var td=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var nd=function(t){function n(i,r){var e,u,s,o,a,c,h,f,d,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new v("Already used");e=i.url,u=i.credentials,r.headers||(s=new Zf(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,d=i.onprogress,_||null==i.Gv||(_=i.Gv,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",f=null,d=null;if(!r.headers&&s||(s=new Zf(r.headers)),r&&(c="about:client",h=""),(l=t.call(this,_,s)||this).url=e,l.headers=s,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return td.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||a,l.signal=r.signal||f||(new xv).signal,l.referrer=void 0!==r.referrer?r.referrer:c,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,l.onprogress=r.onprogress||d,("GET"===l.method||"HEAD"===l.method)&&_)throw new v("Body not allowed for GET or HEAD requests");return l}return Lf(n,t),n.prototype.clone=function(){return new n(this,{body:Ev(this)})},n}(Sv),id="function"==typeof Gv&&Gf.stream&&Gf.streamResponse&&Gf.url;function rd(t,n){return new T(function(i){var r=new nd(t,n);i((id&&function(t){try{return Yv.indexOf(new Mf.URL(t,Mf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?Kv:zv)(r))})}rd.polyfill=!0;var ed=function(){function t(t){this.pd=new uu,this.Fv=void 0,this.Ad=!1,this.Uv=t,this.pd.yo(t.ko),this.Hv=this.bd()}var n=t.prototype;return n.bd=function(){var t=T.coroutine(de.mark(function t(){var n,i,r,e,u,s,a,c,h=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.Uv).pv&&o(function(){h.Ad=!0,h.pd.wo()},n.pv),t.prev=2,i=rd(n.rv,{method:n.kv,headers:n.Zf.kh(),body:n.Uf,credentials:n.Tv?"include":"same-origin",signal:od(this.pd.ko),onprogress:n.Ev}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Of(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),ou(e=this.Td(t.t1))&&this.pd.wo(),e;case 20:if(u=r.url||n.rv,s=0===r.status&&"file:"===(f=u,b.Hu(f).protocol)?200:r.status,a=new ud(this,r,this.pd),c=new Sf({pu:a,tv:n,Jf:n.Jf,Zf:new Go(r.headers.asList()),Yf:s,$f:r.statusText,nv:u}),this.Fv=c,!pf(c)){t.next=29;break}return t.abrupt("return",c);case 29:throw new xf(c);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.Td=function(t){return ou(t)?this.Ad?new Pf(this.Uv):new su(t.message,t):this.Fv?new xf(this.Fv,t):new Of(this.Uv,t)},t}(),ud=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Vf=new js,e.cn=n,e.Ed=i,e.pd=r,e.Vf.oa.catch(S),e}M(n,t);var i=n.prototype;return i.Wf=function(){return this.Vf.oa},i.xf=function(t){return this.qf(this.Ed.text(),t)},i.Bf=function(t){return this.qf(this.Ed.arrayBuffer(),t)},i.Lf=function(){var t=this.Ed.body;return t?this.zf(t):ef(this.Bf().then(nf),this.pd)},i.jf=function(){var t=this.Ed.clone(),i=this.pd.mo(),r=i[0],e=i[1];return this.pd=r,new n(this.cn,t,e)},i.qf=function(t,n){var i=this;n&&this.pd.yo(n);var r=T.resolve(t).catch(function(t){throw i.cn.Td(t)});return r=vu(r,this.pd),this.Vf.aa(r.then(S)),r},i.zf=function(t){var n=this,i=new Hh,r=T.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.cn.Td(t);throw i.writable.abort(r).catch(S),r});return r=vu(r,this.pd),this.Vf.aa(r.then(S)),i.readable},L(n,[{key:"Qf",get:function(){return this.Ed.bodyUsed}}]),n}(hf),sd="abort";function od(t){var n=new xv;if(t.uo)n.abort();else if(!t.so){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(sd,i),t.vo(i),t.vo(r)};n.signal.addEventListener(sd,i),t.fo(i),t.do(r)}return n.signal}function ad(t,n,i){return new T(function(r,e){if(i&&i.uo)return e(new su);var u=function(t){o(),r(t)},s=function(){o(),e(new su)},o=function(){t.removeEventListener(n,u),i&&i.vo(s)};t.addEventListener(n,u),i&&i.fo(s)})}var cd,hd,fd=function(){function t(){}var n=t.prototype;return n.tv=function(t){return new ed(t).Hv},n.Sv=function(t){if(xr&&xr.sendBeacon)xr.sendBeacon(t.rv,Xo([t.Uf],{type:t.Mf}));else{var n=t.Mf?{"Content-type":t.Mf}:void 0;gu(this.tv(new Rf({kv:Af.POST,rv:t.rv,Uf:t.Uf,Zf:n})))}},n.Rv=function(){},t}();cd=new(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Sd=void 0,n.Rd=function(){if(j.Te||j.Ae){var t=j.pe;if(void 0===t||Number(t)<42)return!1}return!0}(),n.Id=void 0,n}return M(n,t),L(n,[{key:"ys",get:function(){return this.Sd||(this.Sd=new ze(Uo())),this.Sd}},{key:"Nd",get:function(){return this.Rd}},{key:"Dd",get:function(){return!1}},{key:"Cd",get:function(){return Ho.Oc()}},{key:"Od",get:function(){return{xd:Wo}}},{key:"Pd",get:function(){return s.connection&&s.connection.effectiveType||"default"}},{key:"Bd",get:function(){return s.connection&&s.connection.type||"unknown"}},{key:"Ld",get:function(){return this.Id||(this.Id=new Df(new fd)),this.Id}}]),n}(fe)),b=cd,function(t){t.Md="Ud",t.Fd="Hd"}(hd||(hd={}));hd.Md,hd.Fd;var vd=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Vd=void 0,r}return M(n,t),L(n,[{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}}]),n}(Su);var dd,ld=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n}(vd),_d=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n}(Su),gd=function(t){function n(n){var i;return(i=t.call(this,hd.Md)||this).qd=n,i}return M(n,t),n.prototype.Wd=function(){return new wd(this.qd.Xd)},n}(ld),wd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return M(n,t),n}(_d),yd=function(t){function n(n){var i;return(i=t.call(this,hd.Fd)||this).qd=n,i}return M(n,t),n.prototype.Wd=function(){return new md(this.qd.Xd)},n}(ld),md=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return M(n,t),n}(_d);!function(t){t.zd="Gd",t.jd="Qd",t.Yd="Zd",t.Jd="$d",t.Kd="tl",t.nl="il",t.ul="sl",t.ol="al",t.cl="Sa",t.hl="fl",t.vl="dl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(dd||(dd={}));var kd=function(t){function n(){var n;return(n=t.call(this)||this).ll=[],n.Vd=void 0,n}M(n,t);var i=n.prototype;return i._l=function(t){return this.ll[t]},i.gl=function(t){return!(!t||Ke(this.ll,t))&&(this.ll.push(t),this.Vd&&this.Vd.push(t.Xd),t.So(dd.nl,this.bo),this.To(new gd(t)),!0)},i.wl=function(t){if(!t)return!1;var n=this.ll.indexOf(t);return!(n<0)&&($e(this.ll,n),this.Vd&&$e(this.Vd,n),t.Do(dd.nl,this.bo),this.To(new yd(t)),!0)},i.yl=function(t){return Ke(this.ll,t)},i.ml=function(){for(var t=this.ll,n=t.length-1;n>=0;n-=1)this.wl(t[n])},i.Rv=function(){this.ml(),this.No()},L(n,[{key:"kl",get:function(){return this.ll}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}},{key:"pl",get:function(){return this.ll.length}}]),n}(Tu),pd=function(t){function n(n){var i;return(i=t.call(this,dd.nl)||this).qd=n,i}return M(n,t),n.prototype.Wd=function(){return new Ad(this.qd.Xd)},n}(ld),Ad=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return M(n,t),n}(_d),bd=function(t){function n(){var n;return(n=t.call(this)||this).Al=void 0,n.bl=function(t){var i=t.qd;n.gl(i)},n.Tl=function(t){var i=t.qd;n.wl(i)},n}M(n,t);var i=n.prototype;return i.El=function(t){t.So(hd.Md,this.bl),t.So(hd.Fd,this.Tl)},i.Sl=function(t){t.Do(hd.Md,this.bl),t.Do(hd.Fd,this.Tl)},i.Rv=function(){this.Al&&this.Al.Rv(),t.prototype.Rv.call(this)},L(n,[{key:"Rl",get:function(){return this.Al},set:function(t){var n=this.Al;if(t!==n){if(n){this.Sl(n);for(var i=0,r=n.kl;i<r.length;i++){var e=r[i];t&&t.yl(e)||this.wl(e)}}if(this.Al=t,t){for(var u=[],s=0,o=t.kl;s<o.length;s++){var a=o[s];this.gl(a),this.Il(a)&&u.push(a)}this.El(t);for(var c=0;c<u.length;c++){var h=u[c];h.To(new pd(h))}}}}}]),n}(kd),Td=d.freeze||R;function Ed(t,n,i){d.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Sd(t,n){for(var i=0,r=d.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];d.defineProperty(t,e,d.getOwnPropertyDescriptor(n,e))}return t}function Rd(t){if(tt(t)){var n={};for(var i in t)Q.call(t,i)&&(n[i]=Rd(t[i]));return n}if(J(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Rd(t[e]));return r}return t}function Id(t,n){return t===n||!(!t||!n)&&(!(!K(t)||!K(n))&&($(t)?!!$(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Id(t[e],n[e]))return!1;return!0}(t,n):!$(n)&&function(t,n){var i=d.keys(t),r=d.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!Q.call(n,u)||!Id(t[u],n[u]))return!1}return!0}(t,n)))}function Nd(t,n){return t.constructor===n.constructor}function Dd(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Cd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Od(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function xd(t){var n=Od(t);if(w(n))throw new f("Expected a valid number.");return n}function Pd(t){return"string"==typeof t?t:""}function Bd(t,n){return $(t)?function(t,n){if(!$(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Ld=[hd.Md,hd.Fd,dd.nl];function Md(t){var n,i=t.kl.map(function(t){return t.Xd});return i.item=function(n){var i=0|n,r=t._l(i);return r&&r.Xd||void 0},i.addEventListener=function(t,i){n.So(t,i)},i.removeEventListener=function(t,i){n.Do(t,i)},n=new Eu(i),t.So(Ld,function(t){return n.To(t.Xd)}),i}function Ud(){}function Fd(t){var n,i=[dd.cl,dd.nl,dd.hl,dd.vl,dd.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Nl&&t.Nl.Xd},get enabled(){return t.Dl},set enabled(n){t.Dl=Cd(n)},get id(){return t.Cl},get uid(){return t.Ol},get kind(){return t.xl},get label(){return t.Pl},set label(n){t.Pl=Pd(n)},get language(){return t.Bl},get qualities(){return t.Ll.Xd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.Ll.kl;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.Xd===o&&i.push(u)}return i}(t,J(n)?n:[n]):[]).length>0?t.Ml=i:t.Ml=void 0},get targetQuality(){if(t.Ml)return 1===t.Ml.length?t.Ml[0].Xd:t.Ml.map(function(t){return t.Xd})},addEventListener:function(t,i){var r=Bd(t,Pd);n.So(r,i)},removeEventListener:function(t,i){var r=Bd(t,Pd);n.Do(r,i)}};return n=new Eu(r),t.So(i,function(t){return n.To(t.Xd)}),d.defineProperty(r,"constructor",{value:Ud}),r}function Hd(){}function Vd(t){var n=Md(t);return d.defineProperty(n,"constructor",{value:Hd}),n}var Xd,Wd,qd=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Wd=function(){return Vd(this)},i.Il=function(t){return t.Dl},n}(bd);function zd(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case Xd.Ul:case Xd.Fl:case Xd.Hl:return n}}else if("number"==typeof t)switch(t){case 0:return Xd.Ul;case 1:return Xd.Fl;case 2:return Xd.Hl}return Xd.Ul}function Gd(){}function jd(t){var n,i=[dd.nl,dd.cl,dd.zd,dd.jd,dd.Yd,dd.Jd,dd.Kd,dd.ul,dd.ol],r=[Wd.Vl],e={get kind(){return t.xl},get label(){return t.Pl},set label(n){t.Pl=Pd(n)},get language(){return t.Bl},get id(){return t.Cl},get uid(){return t.Ol},get inBandMetadataTrackDispatchType(){return t.Xl},get mode(){return t.Wl},set mode(n){n!==Xd.Hl&&n!==Xd.Fl&&n!==Xd.Ul||(t.Wl=n)},get type(){return t.js},get readyState(){return Zd(t.ql)},get cues(){return t.Wl===Xd.Ul?null:t.zl.Xd},get activeCues(){return t.Wl===Xd.Ul?null:t.Gl.Xd},get src(){return t.jl||""},addEventListener:function(t,i){var r=Bd(t,Pd);n.So(r,i)},removeEventListener:function(t,i){var r=Bd(t,Pd);n.Do(r,i)}};return n=new Eu(t),t.So(i,function(t){return n.To(t.Xd)}),t.So(r,function(t){return n.To(t)}),d.defineProperty(e,"constructor",{value:Gd}),e}function Qd(){}function Yd(t){var n=Md(t);return d.defineProperty(n,"constructor",{value:Qd}),n}function Zd(t){return t}!function(t){t.Ul="disabled",t.Fl="hidden",t.Hl="showing"}(Xd||(Xd={})),function(t){t.Vl="error"}(Wd||(Wd={}));var Jd=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Wd=function(){return Yd(this)},i.Il=function(t){return t.Wl===Xd.Hl},n}(bd),$d=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Io=function(n){t.prototype.Io.call(this,n)},i.xo=function(n){t.prototype.xo.call(this,n)},n}(Tu),Kd=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n}($d),tl=function(t){function n(){return t.call(this,qo.qc)||this}return M(n,t),n}(Su),nl=function(t){function n(n){var i;return(i=t.call(this,qo.Fc)||this).currentSource=n,i}return M(n,t),n}(Su),il=function(){function t(){}return t.Ql=function(n,i){var r=t.Yl(n,i);return r?t.Zl(r):0},t.Jl=function(){return b.Pd||"default"},t.$l=function(){return b.Bd||"unknown"},t.Yl=function(n,i){var r,e=null===(r=b.Cd)||void 0===r?void 0:r.Qo(i),u=e&&JSON.parse(e);if(u&&u[n])return t.Kl(u,n,i)},t.Zl=function(t){var n=t.availableBandwidth;return n||0},t.Kl=function(n,i,r){if(!t.t_(n,i))return n[i];t.n_(n,i,r)},t.n_=function(t,n,i){var r;delete t[n],null===(r=b.Cd)||void 0===r||r.Cc(i,JSON.stringify(t))},t.t_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.i_=function(t,n,i,r){var e;return le(le({},t),((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.r_=function(n){var i=t.Jl();t.e_(i,"theoplayer-stored-network-info",n,Yt())},t.e_=function(n,i,r,e){var u,s,o=null===(u=b.Cd)||void 0===u?void 0:u.Qo(i),a=o?JSON.parse(o):void 0,c=t.i_(a,n,r,e);null===(s=b.Cd)||void 0===s||s.Cc(i,JSON.stringify(c))},t.u_=function(){var n=t.Jl();return t.Ql(n,"theoplayer-stored-network-info")},t}();var rl,el,ul,sl,ol,al,cl="1ADD53F3";function hl(t){return{chromecast:function(t){return{appID:t&&t.appID?Pd(t.appID):cl}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return rl.AUTO;case"manual":return rl.MANUAL;case"disabled":return rl.DISABLED;default:return rl.MANUAL}}(t?t.strategy:void 0)}}function fl(t){var n,i=ul.s_;return(n=t)&&wr(n,"mpd")&&(i=ul.o_),function(t){return!!t&&wr(t,"m3u8")}(t)&&(i=ul.a_),i}function vl(t){switch(t){case el.c_:case el.h_:return t;default:return el.f_}}function dl(t){return!!t&&yr(t.toLowerCase(),ul.o_)}function ll(t){if(!t)return!1;var n=t.toLowerCase();return yr(n,ul.a_)||yr(n,ul.v_)}function _l(t){return K(t)&&K(t.ssai)&&"google-dai"===t.ssai.integration}function gl(t){return K(t)&&nt(t.integration)&&"verizon-media"===t.integration}function wl(t){if(nt(t))return!t;if(gl(t))return!t.id;if(_l(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function yl(t){return Boolean(K(t)&&nt(t.src))}function ml(t){return nt(t)||yl(t)||_l(t)||gl(t)}function kl(t){if(t){if(ml(t))return wl(t);for(var n=0;n<t.length;n++){if(!wl(t[n]))return!1}return!0}return!0}function pl(){return{crossOrigin:el.f_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Al(){return le(le({},pl()),{src:void 0,type:ul.s_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function bl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:sl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ol.NONE;case"midroll-and-postroll":default:return ol.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Cd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return sl.INSECURE;case"disabled":return sl.DISABLED;case"enabled":default:return sl.ENABLED}}(t.vpaidMode)),J(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(nt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Cd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Tl(t){if(!$(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];tt(r)&&n.push(r)}return n}function El(t){return nt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(rl||(rl={})),function(t){t.f_="",t.c_="anonymous",t.h_="use-credentials"}(el||(el={})),function(t){t.o_="application/dash+xml",t.a_="application/vnd.apple.mpegurl",t.v_="application/x-mpegurl",t.s_="video/mp4",t.d_="application/vnd.theoplayer.hesp+json",t.l_="application/vnd.theo.hesp+json"}(ul||(ul={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(sl||(sl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ol||(ol={})),function(t){t[t.__=0]="__",t[t.g_=1]="g_",t[t.w_=2]="w_",t[t.y_=3]="y_",t[t.m_=4]="m_"}(al||(al={}));var Sl,Rl=function(t){function n(n,i){var r;return void 0===i&&(i=al.__),(r=t.call(this,qo.Xc)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Su),Il=function(t){function n(n){var i;return(i=t.call(this,qo.Jc)||this).currentTime=n,i}return M(n,t),n}(Su),Nl=function(t){function n(n){var i;return(i=t.call(this,qo.$c)||this).currentTime=n,i}return M(n,t),n}(Su);!function(t){t.k_="canplay",t.p_="canplaythrough",t.A_="loadeddata",t.b_="loadedmetadata",t.ul="readystatechange",t.T_="waiting",t.E_="playing"}(Sl||(Sl={}));var Dl,Cl=[Sl.k_,Sl.p_,Sl.A_,Sl.b_,Sl.ul,Sl.T_,Sl.E_],Ol=function(t){function n(n,i){var r;return void 0===i&&(i=al.g_),(r=t.call(this,Sl.b_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Su),xl=function(t){function n(n){var i;return(i=t.call(this,qo.Vc)||this).duration=n,i}return M(n,t),n}(Su),Pl=function(t){function n(n,i){var r;return(r=t.call(this,qo.th)||this).currentTime=n,r.playbackRate=i,r}return M(n,t),n}(Su),Bl=function(t){function n(n,i){var r;return(r=t.call(this,qo.vh)||this).currentTime=n,r.currentProgramDateTime=i,r}return M(n,t),n}(Su),Ll=function(t){function n(n){var i;return(i=t.call(this,qo.Wc)||this).currentTime=n,i}return M(n,t),n}(Su),Ml=function(t){function n(n,i){var r;return void 0===i&&(i=al.w_),(r=t.call(this,Sl.A_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Su),Ul=function(t){function n(n){var i;return(i=t.call(this,qo.eh)||this).currentTime=n,i}return M(n,t),n}(Su),Fl=function(t){function n(n){var i;return(i=t.call(this,qo.rh)||this).currentTime=n,i}return M(n,t),n}(Su),Hl=function(t){function n(n,i){var r;return(r=t.call(this,qo.dh)||this).currentTime=n,r.volume=i,r}return M(n,t),n}(Su),Vl=function(t){function n(n,i){var r;return void 0===i&&(i=al.y_),(r=t.call(this,Sl.k_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Su),Xl=function(t){function n(n,i){var r;return void 0===i&&(i=al.m_),(r=t.call(this,Sl.p_)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Su),Wl=function(t){function n(n,i){var r;return(r=t.call(this,Sl.ul)||this).currentTime=n,r.readyState=i,r}return M(n,t),n}(Su),ql=function(t){function n(n){var i;return(i=t.call(this,Wd.Vl)||this).errorObject=n,i}return M(n,t),n.prototype.Wd=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(vd);function zl(t){switch(t){case Dl.ALL:case Dl.CONTENT:return t;default:return Dl.NONE}}function Gl(t){var n,i,r,e=Rd(t||{});return e.libraryLocation&&(e.libraryLocation=Rr(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=hl(e.cast),e.ads=bl(e.ads),e.analytics=Tl(e.analytics),e.mutedAutoplay=zl(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=nt(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Rr(t)}catch(t){return void b.fs("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function jl(t){return{S_:t.S_,R_:t.R_,I_:t.I_,Ho:t.Ho,N_:t.N_,D_:t.D_,C_:t.C_,O_:t.O_,ql:t.ql,x_:t.x_,P_:t.P_,B_:t.B_,L_:t.L_}}function Ql(t,n){var i=n.L_,r=n.D_;t.L_=i,t.D_=r}function Yl(t,n,i){if(n!==i){var r=n.S_,e=n.R_,u=n.D_,s=n.C_,o=n.O_,a=n.ql,c=n.x_,h=(n.B_,n.P_,n.L_),f=i.S_,v=i.R_,d=i.I_,l=i.N_,_=i.D_,g=i.C_,y=i.O_,m=i.ql,k=i.x_,p=(i.B_,i.P_,i.L_);a!==al.__&&t.To(new Rl(f,m)),g&&!s?t.To(new Il(f)):!g&&s&&t.To(new Nl(f)),m>=al.g_&&t.To(new Ol(f,m)),v===e||w(v)&&w(e)||t.To(new xl(v)),y!==o&&t.To(new Pl(f,y)),f!==r&&t.To(new Bl(f,void 0)),d&&t.To(new Ll(f)),m>=al.w_&&t.To(new Ml(f,m)),k&&!c?t.To(new Ul(f)):!k&&c&&t.To(new Fl(f)),p===h&&_===u||t.To(new Hl(f,p)),m>=al.y_&&t.To(new Vl(f,m)),m>=al.m_&&t.To(new Xl(f,m)),m!==a&&t.To(new Wl(f,m)),l&&t.To(new ql(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Dl||(Dl={}));var Zl=["analytic","golive","nogolive","bufferedchange","disablevideo","enablevideo","nativeseeking","nativeseeked"];function Jl(t){var n=Bd(t,Pd);return(nt(n)?[n]:n).filter(function(t){return n=t,-1!==Zl.indexOf(n);var n})}var $l=400,Kl={windowStart:.4,target:.4+.2,windowEnd:.8,maxOffset:3,targetAbrOffset:1},t_=n_(.5,Kl);function n_(t,n){var i=l.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd),targetAbrOffset:i*n.targetAbrOffset}}function i_(){var t;return t="Android"===b.Is.Ns?t_:Kl,b.Is.Ds?function(t){var n=t;b.Is.Ds&&(n=n_(($l+250)/1e3,n));return n}(t):t}var r_,e_=function(t){function n(){var n;return(n=t.call(this)||this).Al=void 0,n.Vd=void 0,n.M_=i_(),n.Al=void 0,n}M(n,t);var i=n.prototype;return i.El=function(t){t.So(Zl,this.bo)},i.Sl=function(t){t.Do(Zl,this.bo)},i.U_=function(){return this.Al?this.Al.U_():T.resolve()},i.Rv=function(){this.No(),this.Al&&this.Sl(this.Al),this.Al=void 0},L(n,[{key:"Rl",get:function(){return this.Al},set:function(t){var n=this.Al;t!==n&&(n&&this.Sl(n),t&&this.El(t),this.Al=t,this.Al&&(this.Al.F_=this.M_))}},{key:"Xd",get:function(){var t;return this.Vd||(this.Vd=(t=this,{goLive:function(){return t.U_()},get isLive(){return t.H_},get currentServerLiveTime(){return t.V_},get currentLatency(){return t.X_},get latency(){return t.F_},set latency(n){t.F_=n},get manifest(){return t.W_},get metrics(){return t.q_},addEventListener:function(n,i){t.So(Jl(n),i)},removeEventListener:function(n,i){t.Do(Jl(n),i)}})),this.Vd}},{key:"V_",get:function(){var t;return null===(t=this.Al)||void 0===t?void 0:t.V_}},{key:"X_",get:function(){var t;return null===(t=this.Al)||void 0===t?void 0:t.X_}},{key:"H_",get:function(){return!!this.Al&&this.Al.H_}},{key:"F_",get:function(){return this.M_},set:function(t){this.Al&&(this.Al.F_=t),this.M_=t}},{key:"W_",get:function(){var t;return null===(t=this.Al)||void 0===t?void 0:t.W_}},{key:"q_",get:function(){var t;return null===(t=this.Al)||void 0===t?void 0:t.q_}}]),n}(Tu),u_=function(t){function n(n){var i;return(i=t.call(this)||this).z_=[],i.G_=!1,i.j_=new qd,i.Q_=new qd,i.Y_=new Jd,i.Z_=new e_,i.J_=!1,i.K_(n),n.Io(i.bo),i.Al=n,i.j_.Rl=n.tg,i.Q_.Rl=n.ng,i.Y_.Rl=n.ig,i.Z_.Rl=n.rg,i}M(n,t);var i=n.prototype;return i.eg=function(){this.Al.eg()},i.ug=function(){this.Al.ug()},i.sg=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wu(this.z_.map(function(t){return t.sg()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.og=function(){return this.Al.og()},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(i),t.next=3,this.Al.ag(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cg=function(){return this.Rl.cg()},i.hg=function(){this.Rl.hg()},i.fg=function(){this.Rl.fg()},i.vg=function(){if(!this.G_){for(var t=0,n=this.z_;t<n.length;t++){n[t].vg()}this.G_=!0}},i.dg=function(t){this.Al.dg(t)},i.lg=function(){this.Al.lg()},i._g=function(){this.Al._g()},i.gg=function(){this.Al.gg()},i.wg=function(){return this.Al.wg()},i.yg=function(){return this.Al.yg()},i.mg=function(){for(var t=[],n=0,i=this.z_;n<i.length;n++){var r=i[n];t.push.apply(t,r.mg())}return t},i.kg=function(t){for(var n=!1,i=0,r=this.z_;i<r.length;i++){n=r[i].kg(t)||n}return n},i.To=function(n){this.kg(n)||t.prototype.To.call(this,n)},i.K_=function(t){this.z_.push(t)},i.pg=function(t){Je(this.z_,t)},i.Ag=function(t){if(t!==this.Al){var n=this.Al;n.lg(),n.xo(this.bo);var i=jl(this),r=this.bg,e=this.yg();this.Al=t,this.j_.Rl=t.tg,this.Q_.Rl=t.ng,this.Y_.Rl=t.ig,this.Z_.Rl=t.rg,Yl(this,i,this);var u=this.bg;u!==r&&this.To(new nl(u)),this.yg()!==e&&this.To(new tl),t.Io(this.bo),t.dg(n)}},i.Tg=function(){},i.Rv=function(){var t=T.coroutine(de.mark(function t(){var n,i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.No(),this.Al.lg(),n=0,i=this.z_;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Rv();case 7:n++,t.next=3;break;case 10:this.j_.Rv(),this.Q_.Rv(),this.Y_.Rv(),this.Z_.Rv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wu(this.z_.map(function(t){return t.ml()})).then(S));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"tg",get:function(){return this.j_}},{key:"ig",get:function(){return this.Y_}},{key:"ng",get:function(){return this.Q_}},{key:"Eg",get:function(){return this.Al.Eg}},{key:"Sg",get:function(){return this.Al.Sg},set:function(t){this.Al.Sg=t}},{key:"bg",get:function(){return this.Al.bg}},{key:"S_",get:function(){return this.Al.S_},set:function(t){this.Al.S_=t}},{key:"R_",get:function(){return this.Al.R_}},{key:"Rg",get:function(){return this.Al.Rg}},{key:"I_",get:function(){return this.Al.I_}},{key:"Ho",get:function(){return this.Al.Ho}},{key:"N_",get:function(){return this.Al.N_}},{key:"rg",get:function(){return this.Z_}},{key:"Ig",get:function(){return this.Al.Ig}},{key:"q_",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Ng,i+=a.Dg,r+=a.Cg,e+=a.Og,u+=a.xg,s.amountOfBufferedAudioSegments+=a.Pg.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.Pg.amountOfBufferedVideoSegments}return{Ng:n,Dg:i,Cg:r,Og:e,xg:u,Pg:s}}(this.z_.map(function(t){return t.q_}))}},{key:"D_",get:function(){return this.Al.D_},set:function(t){this.Al.D_=t}},{key:"Bg",get:function(){return this.Al.Bg}},{key:"C_",get:function(){return this.Al.C_}},{key:"O_",get:function(){return this.Al.O_},set:function(t){this.Al.O_=t}},{key:"Lg",get:function(){return this.Al.Lg}},{key:"Mg",get:function(){return this.Al.Mg},set:function(t){this.Al.Mg=t}},{key:"ql",get:function(){return this.Al.ql}},{key:"Ug",get:function(){return this.Al.Ug}},{key:"x_",get:function(){return this.Al.x_}},{key:"P_",get:function(){return this.Al.P_}},{key:"B_",get:function(){return this.Al.B_}},{key:"L_",get:function(){return this.Al.L_},set:function(t){this.Al.L_=t}},{key:"Rl",get:function(){return this.Al},set:function(t){this.Ag(t)}}]),n}(Kd),s_=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return M(n,t),L(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(To);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(r_||(r_={}));var o_=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,f.captureStackTrace&&f.captureStackTrace(rn(u),u.constructor),u}return M(n,t),L(n,[{key:"name",get:function(){return"MediaError"}}]),n}(en);function a_(t){Ed(t,"MEDIA_ERR_ABORTED",r_.ABORTED),Ed(t,"MEDIA_ERR_NETWORK",r_.NETWORK),Ed(t,"MEDIA_ERR_DECODE",r_.DECODE),Ed(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",r_.SRC_NOT_SUPPORTED),Ed(t,"MEDIA_ERR_ENCRYPTED",r_.ENCRYPTED)}function c_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new o_(r_.ENCRYPTED,t.message,null===(i=t.cause)||void 0===i?void 0:i.message,t.systemCode):new o_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return r_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return r_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return r_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return r_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return r_.NETWORK;if(i===n.ErrorCategory.SOURCE)return r_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return r_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return r_.ENCRYPTED;if(i===n.ErrorCategory.AD)return r_.ADVERTISEMENT_ERROR;return r_.DECODE}(t.code),t.message,null===(r=t.cause)||void 0===r?void 0:r.message)}function h_(t){switch(t){case r_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case r_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case r_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case r_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case r_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case r_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case r_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}a_(o_),a_(o_.prototype);var f_,v_=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.gl=function(n){return t.prototype.gl.call(this,n)},i.Wd=function(){return Vd(this)},n}(kd);!function(t){t.wv="audio",t.yv="video",t.ze="text",t.mv="image",t.uv="unknown"}(f_||(f_={}));var d_=function(){function t(){this.Fg=[],this.Vd=void 0}var n=t.prototype;return n.Hg=function(t){this.Fg.push(t),this.Vd&&this.Vd.push(t.Xd)},n._l=function(t){return this.Fg[t]},n.Vg=function(t){return J(t)?tu(this.Fg,t):Ke(this.Fg,t)},L(t,[{key:"kl",get:function(){return this.Fg}},{key:"pl",get:function(){return this.Fg.length}},{key:"Xd",get:function(){var t,n;return this.Vd||(this.Vd=((n=(t=this).kl.map(function(t){return t.Xd})).item=function(n){var i=0|n,r=t._l(i);return r&&r.Xd||void 0},n)),this.Vd}}]),t}(),l_=function(t){function n(n){var i;return(i=t.call(this,dd.cl)||this).qd=n,i}return M(n,t),n.prototype.Wd=function(){return new __(this.qd.Xd)},n}(ld),__=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return M(n,t),n}(_d),g_=0;function w_(){return g_++}var y_=0;var m_=0;var k_=0;var p_=function(t){function n(n){var i;return(i=t.call(this)||this).js=f_.wv,i.Xg=!1,i.Vd=void 0,i.Wg=n,i.qg=w_(),i.zg=k_+++"",i.Gg=n.label,i.Fg=new d_,i.jg(),i}M(n,t);var i=n.prototype;return i.Qg=function(t){this.Dl=t},i.jg=function(){this.Dl=this.Yg},L(n,[{key:"Nl",get:function(){}},{key:"Dl",get:function(){return this.Xg},set:function(t){this.Xg!==t&&(this.Xg=t,this.Yg=t,this.To(new pd(this)))}},{key:"Yg",get:function(){return!!this.Wg.enabled},set:function(t){this.Wg.enabled=t}},{key:"Xd",get:function(){return this.Vd||(this.Vd=Fd(this)),this.Vd}},{key:"Cl",get:function(){return this.zg}},{key:"Ol",get:function(){return this.qg}},{key:"xl",get:function(){return this.Wg.kind}},{key:"Pl",get:function(){return this.Gg},set:function(t){t!==this.Gg&&(this.Gg=t,this.To(new l_(this)))}},{key:"Bl",get:function(){return this.Wg.language}},{key:"Wl",get:function(){return this.Dl?"enabled":"disabled"}},{key:"Zg",get:function(){return this.Wg}},{key:"Ll",get:function(){return this.Fg}},{key:"Ml",get:function(){},set:function(t){}}]),n}(Tu),A_=0;var b_,T_,E_,S_=function(t){function n(n){var i;return(i=t.call(this)||this).js=f_.yv,i.Xg=!1,i.Vd=void 0,i.Wg=n,i.qg=w_(),i.zg=A_+++"",i.Fg=new d_,i.Gg=n.label,i.jg(),i}M(n,t);var i=n.prototype;return i.jg=function(){this.Dl=this.Yg},i.Qg=function(t){this.Dl=t},L(n,[{key:"Nl",get:function(){}},{key:"Dl",get:function(){return this.Xg},set:function(t){this.Xg!==t&&(this.Xg=t,this.Yg=t,this.To(new pd(this)))}},{key:"Yg",get:function(){return!!this.Wg.selected},set:function(t){this.Wg.selected=t}},{key:"Xd",get:function(){return this.Vd||(this.Vd=Fd(this)),this.Vd}},{key:"Cl",get:function(){return this.zg}},{key:"Ol",get:function(){return this.qg}},{key:"xl",get:function(){return"main"}},{key:"Pl",get:function(){return this.Gg},set:function(t){t!==this.Gg&&(this.Gg=t,this.To(new l_(this)))}},{key:"Bl",get:function(){return this.Wg.language}},{key:"Wl",get:function(){return this.Dl?"enabled":"disabled"}},{key:"Zg",get:function(){return this.Wg}},{key:"Ll",get:function(){return this.Fg}},{key:"Ml",get:function(){},set:function(t){}}]),n}(Tu),R_=function(t){function n(n){var i;return(i=t.call(this,qo.xc)||this).Ig=n,i}return M(n,t),n}(Su);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(b_||(b_={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(T_||(T_={})),function(t){t.Jg="cue",t.$g="region",t.Kg="stylesheet"}(E_||(E_={}));var I_,N_,D_={"line-left":"start",center:"middle","line-right":"end"},C_={start:"line-left",middle:"center",end:"line-right"};function O_(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function x_(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:g(i),w(e)?r:e;var i,r,e}!function(t){t.tw="nw",t.iw="rw",t.cl="Sa"}(I_||(I_={})),function(t){t.tw="enter",t.iw="exit",t.cl="update"}(N_||(N_={}));var P_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).ew=i,r}return M(n,t),n}(ld),B_=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return M(n,t),n}(_d);function L_(t){var n,i=[I_.tw,I_.iw,I_.cl],r={get track(){return t.qd.Xd},get id(){return t.Cl},get startTime(){return t.uw},get endTime(){return t.sw},get content(){return t.ow},addEventListener:function(t,i){var r=Bd(t,Pd);n.So(r,i)},removeEventListener:function(t,i){var r=Bd(t,Pd);n.Do(r,i)}};return n=new Eu(r),t.So(i,function(t){return n.To(t.Xd)}),r}function M_(){}function U_(t){return Sd(L_(t),{get align(){return t.aw},get line(){return t.cw},get lineAlign(){return t.hw},get position(){return t.fw},get positionAlign(){return t.vw},get region(){return t.dw?t.dw.Xd:null},get size(){return t.$o},get snapToLines(){return t.lw},get text(){return t.ow},get vertical(){return t._w}})}var F_=.02;function H_(t,n){return qt(t.uw,n.uw,F_)&&qt(t.sw,n.sw,F_)&&t.Cl===n.Cl}var V_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Vd=void 0,s.gw=void 0,s.ww=!1,s.yw="",s.mw=-1,s.kw=n,s.pw=i,s.Aw=r,s.bw=Boolean(e),s.zg=u||(m_++).toString(),s}M(n,t);var i=n.prototype;return i.Wd=function(){return L_(this)},i.Tw=function(t){return this===t||Nd(this,t)&&H_(this,t)},i.Rv=function(){this.No()},L(n,[{key:"uw",get:function(){return this.kw},set:function(t){this.kw=t}},{key:"sw",get:function(){return this.pw},set:function(t){this.pw=t}},{key:"Cl",get:function(){return this.zg},set:function(t){this.zg=t}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}},{key:"Ew",get:function(){return this.ww},set:function(t){this.ww=t}},{key:"qd",get:function(){return this.gw},set:function(t){this.gw=t}},{key:"ow",get:function(){return this.Aw},set:function(t){this.Aw=t}},{key:"Sw",get:function(){return this.yw},set:function(t){this.yw=t}},{key:"Rw",get:function(){return this.bw},set:function(t){this.bw=t}}]),n}(Tu);function X_(t,n){return t.ow===n.ow&&t.cw===n.cw&&t.hw===n.hw&&t.fw===n.fw&&t.vw===n.vw&&t.dw===n.dw&&t.lw===n.lw&&t.$o===n.$o&&t.aw===n.aw&&t._w===n._w}var W_=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,u)||this).cw="auto",s.hw="start",s.fw="auto",s.vw="auto",s.dw=void 0,s.lw=!0,s.$o=100,s.aw="center",s._w="",s}return M(n,t),n.prototype.Tw=function(n){return this===n||Nd(this,n)&&t.prototype.Tw.call(this,n)&&X_(this,n)},L(n,[{key:"Xd",get:function(){return this.Vd||(this.Vd=U_(this)),this.Vd}},{key:"js",get:function(){return E_.Jg}}]),n}(V_);function q_(t){var n="number"==typeof t.cw?t.cw:g(t.cw);return w(n)||t.lw||!(n<0||n>100)?w(n)?t.lw?-1:100:n:100}function z_(t){return x_(t.fw,t.aw)}function G_(t){return O_(t.vw,t.aw)}function j_(t){var n=100,i=G_(t),r=z_(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.$o<n?t.$o:n}function Q_(t){return{get id(){return t.Cl},get identifier(){return t.Cl},get lines(){return t.Iw},get regionAnchorX(){return t.Nw},get regionAnchorY(){return t.Dw},get scrollValue(){return t.Cw},get viewportAnchorX(){return t.Ow},get viewportAnchorY(){return t.xw},get width(){return t.rs}}}var Y_,Z_=function(){function t(t,n,i,r,e,u,s,o){this.Cl=t,this.rs=n,this.Iw=i,this.Nw=r,this.Dw=e,this.Ow=u,this.xw=s,this.Cw=o}return L(t,[{key:"Xd",get:function(){return this.Vd||(this.Vd=Q_(this)),this.Vd}},{key:"js",get:function(){return E_.$g}}]),t}();!function(t){t[t.Pw=0]="Pw",t[t.Bw=1]="Bw",t[t.Lw=-1]="Lw"}(Y_||(Y_={}));var J_=function(t,n){return(0|t)-(0|n)},$_=function(t,n){return t===n?Y_.Pw:t<n?Y_.Lw:t>n?Y_.Bw:w(t)?w(n)?Y_.Pw:Y_.Bw:Y_.Lw};function K_(t,n,i){return qt(t,n,i)?Y_.Pw:$_(t,n)}var tg=function(t,n){return zt(t,n)?Y_.Pw:$_(t,n)};var ng=function(){function t(){}var n=t.prototype;return n.Mw=function(t){return this.Uw()*t},n.Fw=function(t){return this.Hw(t)>0},n.Vw=function(t){return this.Hw(t)>=0},n.Xw=function(t,n){return this.qw(t).Ww(n)},n.Tw=function(t){return 0===this.Hw(t)},n.zw=function(t){return this.Hw(t)<0},n.Ww=function(t){return this.Hw(t)<=0},n.Gw=function(){return this.jw()?this.Qw():this},n.Yw=function(t){return this.Hg(t.Qw())},n.qw=function(t){return this.Yw(t).Gw()},t}();function ig(t,n){return t.Zw()?n.Zw()?Y_.Pw:Y_.Bw:n.Zw()?Y_.Lw:t.Jw()?n.Jw()&&t.jw()===n.jw()?Y_.Pw:t.jw()?Y_.Lw:Y_.Bw:n.jw()?Y_.Bw:Y_.Lw}var rg=function(){function t(t,n){this.$w=t,this.Kw=n}t.ty=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.ny=function(n){return n.unsigned?new t(n,Vt.UZERO):new t(n,n.isNegative()?Vt.NEG_ONE:Vt.ZERO)},t.iy=function(n,i){if(w(n))return i?t.ey:t.uy;if(i){if(n<0)return t.ey;if(n>=3.402823669209385e38)return t.sy}else{if(n<=-1.7014118346046923e38)return t.oy;if(n+1>=1.7014118346046923e38)return t.ay}return n<0?t.iy(-n,i).Qw():t.ty(Vt.fromNumber(n%0x10000000000000000),Vt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.hy=function(){return this.Kw.unsigned},n.vy=function(){return this.$w.isZero()&&this.Kw.isZero()},n.jw=function(){return this.Kw.isNegative()},n.ly=function(){return this.hy()?t.ty(this.$w,this.Kw,!1):this},n._y=function(){return this.hy()?this:t.ty(this.$w,this.Kw,!0)},n.gy=function(){return this.$w},n.Uw=function(){return this.jw()?-this.Qw().Uw():0x10000000000000000*this.Kw.toNumber()+this.$w.toUnsigned().toNumber()},n.wy=function(){return this.$w.toInt()},n.Tw=function(t){return(this.hy()===t.hy()||this.Kw.getHighBits()>>>31!=1||t.Kw.getHighBits()>>>31!=1)&&(this.Kw.toUnsigned().eq(t.Kw.toUnsigned())&&this.$w.toUnsigned().eq(t.$w.toUnsigned()))},n.Hw=function(t){if(this.Tw(t))return Y_.Pw;var n=this.jw(),i=t.jw();if(n&&!i)return Y_.Lw;if(!n&&i)return Y_.Bw;if(!this.hy())return this.Yw(t).jw()?Y_.Lw:Y_.Bw;var r=this._y(),e=t._y(),u=e.Kw.comp(r.Kw);return u>0||0===u&&e.$w.gt(r.$w)?Y_.Lw:Y_.Bw},n.zw=function(t){return this.Hw(t)<0},n.Ww=function(t){return this.Hw(t)<=0},n.yy=function(t){return this.Hw(t)>0},n.my=function(t){return this.Hw(t)>=0},n.ky=function(){return new t(this.$w.not(),this.Kw.not())},n.py=function(n){return new t(this.$w.and(n.$w),this.Kw.and(n.Kw))},n.Ay=function(n){return new t(this.$w.or(n.$w),this.Kw.or(n.Kw))},n.by=function(n){var i=127&n;return 0===i?this:i<64?t.ty(this.$w.shl(i),this.Kw.shl(i).or(this.$w.shru(64-i)),this.hy()):t.ty(Vt.ZERO,this.$w.shl(i-64),this.hy())},n.Ty=function(n){var i=127&n;return 0===i?this:i<64?t.ty(this.$w.shru(i).or(this.Kw.shl(64-i)),this.Kw.shr(i),this.hy()):t.ty(this.Kw.shr(i-64),this.Kw.isNegative()?Vt.NEG_ONE:Vt.ZERO,this.hy())},n.Ey=function(n){var i=127&n;return 0===i?this:i<64?t.ty(this.$w.shru(i).or(this.Kw.shl(64-i)),this.Kw.shru(i),this.hy()):64===i?t.ty(this.Kw,Vt.ZERO,this.hy()):t.ty(this.Kw.shru(i-64),Vt.ZERO,this.hy())},n.Hg=function(n){var i=this.Kw.high>>>16,r=65535&this.Kw.high,e=this.Kw.low>>>16,u=65535&this.Kw.low,s=this.$w.high>>>16,o=65535&this.$w.high,a=this.$w.low>>>16,c=65535&this.$w.low,h=n.Kw.high>>>16,f=65535&n.Kw.high,v=n.Kw.low>>>16,d=65535&n.Kw.low,l=n.$w.high>>>16,_=65535&n.$w.high,g=n.$w.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=c+(65535&n.$w.low))>>>16,T&=65535,A+=(b+=a+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=s+l)>>>16,p&=65535,m+=(k+=u+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+h,w&=65535;var E=this.hy(),S=Vt.fromBits(m<<16|k,w<<16|y,E),R=Vt.fromBits(b<<16|T,p<<16|A,E);return t.ty(R,S,E)},n.Yw=function(t){return this.Hg(t.Qw())},n.Qw=function(){return this.ky().Hg(t.Sy)},n.Ry=function(n){if(this.vy()||n.vy())return this.hy()?t.ey:t.uy;if(this.jw())return n.jw()?this.Qw().Ry(n.Qw()):this.Qw().Ry(n).Qw();if(n.jw())return this.Ry(n.Qw()).Qw();if(this.Kw.isZero()&&0===this.$w.high&&n.Kw.isZero()&&0===n.$w.high)return t.ny(this.$w.multiply(n.$w));var i=Vt.fromBits(4294967295,0,!0),r=this.$w.and(i),e=this.$w.shru(32),u=this.Kw.and(i),s=this.Kw.shru(32),o=n.$w.and(i),a=n.$w.shru(32),c=n.Kw.and(i),h=n.Kw.shru(32),f=Vt.UZERO,v=Vt.UZERO,d=Vt.UZERO,l=Vt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var _=Vt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Vt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.ty(_,g,this.hy())},n.Iy=function(n){var i,r,e=n;if(e.vy())throw new RangeError("division by zero");if(this.vy())return this.hy()?[t.ey,t.ey]:[t.uy,t.uy];if(this.hy()){if(e.hy()||(e=e._y()),e.yy(this))return[t.ey,this];if(e.yy(this.Ey(1)))return[r=t.Ny,i=this.Yw(e)];r=t.ey}else{if(this.Tw(t.oy)){if(e.Tw(t.Sy)||e.Tw(t.Dy))return[t.oy,t.uy];if(e.Tw(t.oy))return[t.Sy,t.uy];var u=this.Ty(1).Cy(e).by(1);return u.Tw(t.uy)?r=e.jw()?t.Sy:t.Dy:(i=this.Yw(e.Ry(u)),r=u.Hg(i.Cy(e))),[r,i=this.Yw(e.Ry(r))]}if(e.Tw(t.oy))return this.hy()?[t.ey,this]:[t.uy,this];if(this.jw()){if(e.jw())return this.Qw().Iy(e.Qw());var s=this.Qw().Iy(e);return r=s[0],i=s[1],[r.Qw(),i.Qw()]}if(e.jw()){var o=this.Iy(e.Qw());return r=o[0],i=o[1],[r.Qw(),i.Qw()]}r=t.uy}for(i=this;i.my(e);){for(var a=l.max(1,l.floor(i.Uw()/e.Uw())),c=l.ceil(l.log(a)/l.LN2),h=c<=48?1:l.pow(2,c-48),f=t.iy(a),v=f.Ry(e);v.jw()||v.yy(i);)a-=h,v=(f=t.iy(a,this.hy())).Ry(e);f.vy()&&(f=t.Sy),r=r.Hg(f),i=i.Yw(v)}return[r,i]},n.Cy=function(t){return this.Iy(t)[0]},n.Oy=function(t){return this.Iy(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.vy())return"0";if(this.jw()){if(this.Tw(t.oy)){var r=t.iy(i),e=this.Cy(r),u=e.Ry(r).Yw(this);return e.toString(i)+u.wy().toString(i)}return"-"+this.Qw().toString(i)}for(var s=t.iy(l.pow(i,6),this.hy()),o=this,a="";;){var c=o.Cy(s),h=(o.Yw(c.Ry(s)).wy()>>>0).toString(i);if((o=c).vy())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();rg.uy=rg.ny(Vt.ZERO),rg.ey=rg.ny(Vt.UZERO),rg.Sy=rg.ny(Vt.ONE),rg.Ny=rg.ny(Vt.UONE),rg.Dy=rg.ny(Vt.NEG_ONE),rg.ay=rg.ty(Vt.NEG_ONE,Vt.MAX_VALUE,!1),rg.sy=rg.ty(Vt.MAX_UNSIGNED_VALUE,Vt.MAX_UNSIGNED_VALUE,!0),rg.oy=rg.ty(Vt.ZERO,Vt.MIN_VALUE,!1);var eg=function(){function t(t,n){void 0===n&&(n=1),this.xy=t,this.Py=n}t.By=function(n){return new t(l.ceil(n.xy),n.Py)},t.Ly=function(n){return new t(l.floor(n.xy),n.Py)},t.My=function(t,n){return t.Vw(n)?t:n},t.Uy=function(t,n){return t.Ww(n)?t:n};var n=t.prototype;return n.Hg=function(n){return this.Py>=n.Py?new t(this.xy+n.Fy(this.Py).xy,this.Py):new t(this.Fy(n.Py).xy+n.xy,n.Py)},n.Fw=function(t){return t.zw(this)},n.Vw=function(t){return t.Ww(this)},n.qw=function(n){return this.Py>=n.Py?new t(l.abs(this.xy-n.Fy(this.Py).xy),this.Py):n.qw(this)},n.Xw=function(t,n){return this.qw(t).Ww(n)},n.Hw=function(t){return i=t,(n=this).Py>=i.Py?tg(n.xy,i.Fy(n.Py).xy):tg(n.Fy(i.Py).xy,i.xy);var n,i},n.Tw=function(t){return 0===this.Hw(t)},n.zw=function(t){return this.Hw(t)<0},n.Ww=function(t){return this.Hw(t)<=0},n.Fy=function(n){return new t(this.xy*(n/this.Py),n)},n.Yw=function(n){return this.Py>=n.Py?new t(this.xy-n.Fy(this.Py).xy,this.Py):new t(this.Fy(n.Py).xy-n.xy,n.Py)},n.Hy=function(n){return new t(this.xy*n,this.Py)},L(t,[{key:"Jw",get:function(){return!isFinite(this.xy)}},{key:"Vy",get:function(){return this.xy/this.Py}}]),t}();eg.Xy=new eg(1/6,1),eg.uy=new eg(0),eg.Wy=new eg(1/0),eg.qy=1e6;var ug=function(t){function n(n,i){var r;return(r=t.call(this)||this).ru=n.toSigned(),r.Py=i>>>0,r}M(n,t),n.zy=function(t,i){return void 0===i&&(i=1e6),n.iy(t*i,i)},n.iy=function(t,i){return w(t)?n.Gy:t===1/0?n.jy:t===-1/0?n.Qy:new n(Vt.fromNumber(t),i)},n.ny=function(t,i){return new n(t,i)},n.Yy=function(t){return n.zy(t.Vy,1e6)},n.Zy=function(t){return new n(Vt.fromNumber(t.getTime()),1e3)},n.My=function(t,n){return t.Vw(n)?t:n},n.Uy=function(t,n){return t.Ww(n)?t:n},n.Jy=function(t,i,r){return n.My(i,n.Uy(r,t))};var i=n.prototype;return i.jw=function(){return this.ru.isNegative()},i.vy=function(){return 0!==this.Py&&this.ru.isZero()},i.Jw=function(){return 0===this.Py&&!this.ru.isZero()},i.Zw=function(){return 0===this.Py&&this.ru.isZero()},i.Uw=function(){if(0===this.Py)return this.ru.isZero()?NaN:this.ru.isNegative()?-1/0:1/0;var t=this.ru.divide(this.Py),n=this.ru.subtract(t.multiply(this.Py));return t.toNumber()+n.toNumber()/this.Py},i.gy=function(){if(0===this.Py)throw new f("Failed to convert timestamp");return this.ru},i.$y=function(){return new Date(0===this.Py?NaN:this.Fy(1e3).ru.toNumber())},i.Ky=function(){return new eg(0===this.Py?this.Uw():this.ru.toNumber(),this.Py)},i.Fy=function(t,i){void 0===i&&(i=ag.tm);var r=this.Py;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t.Iy(n),e=r[0],u=r[1];if(u.vy())return e;if(i===ag.tm)return u.jw()?e.Yw(rg.Sy):e;if(i===ag.nm)return u.jw()?e:e.Hg(rg.Sy);var s=u.Ry(rg.iy(2));return s.jw()?s.Qw().zw(n)?e:e.Yw(rg.Sy):s.zw(n)?e:e.Hg(rg.Sy)}(rg.ny(this.ru).Ry(rg.iy(t/e)),rg.iy(r/e),i).gy(),t)},i.Hw=function(t){if(this===t)return Y_.Pw;if(0===this.Py||0===t.Py)return ig(this,t);if(this.vy())return t.vy()?Y_.Pw:t.jw()?Y_.Bw:Y_.Lw;if(t.vy())return this.jw()?Y_.Lw:Y_.Bw;var n=l.min(this.Py,t.Py),i=this.Fy(n,ag.im).ru,r=t.Fy(n,ag.im).ru;return i.compare(r)},i.Qw=function(){return 0===this.Py?sg(this):new n(this.ru.negate(),this.Py)},i.Hg=function(t){if(0===this.Py||0===t.Py)return og(this,t);if(this.vy())return t;if(t.vy())return this;var i=l.max(this.Py,t.Py),r=this.Fy(i,ag.im),e=t.Fy(i,ag.im);return new n(r.ru.add(e.ru),i)},i.Ry=function(t){if(this.Zw()||w(t))return n.Gy;if(this.Jw()||!isFinite(t)){if(this.vy()||0===t)return n.Gy;var i=this.jw()?n.Qy:n.jy;return t<0?i.Qw():i}return this.vy()?this:new n(0===t?Vt.ZERO:this.ru.multiply(t),this.Py)},i.Cy=function(t){if(this.Zw()||w(t))return n.Gy;if(this.Jw())return isFinite(t)?0===t?1/t<0?this.Qw():this:t<0?this.Qw():this:n.Gy;if(!isFinite(t))return new n(Vt.ZERO,this.Py);if(this.vy())return 0===t?n.Gy:new n(Vt.ZERO,this.Py);if(0===t){var i=this.jw()?n.Qy:n.jy;return 1/t<0?i.Qw():i}return new n(this.ru.divide(t),this.Py)},i.rm=function(){return[this.ru.low,this.ru.high,this.Py]},n}(ng);function sg(t){return t.Zw()?t:t.jw()?ug.jy:ug.Qy}function og(t,n){return t.Zw()||n.Zw()?ug.Gy:t.Jw()&&n.Jw()?t.jw()===n.jw()?t:ug.Gy:t.Jw()?t:n}ug.uy=new ug(Vt.ZERO,1e6),ug.Gy=new ug(Vt.ZERO,0),ug.jy=new ug(Vt.ONE,0),ug.Qy=new ug(Vt.NEG_ONE,0);var ag,cg=function(t){function n(n,i){var r;return(r=t.call(this)||this).ru=BigInt.asIntN(64,n),r.Py=i>>>0,r}M(n,t),n.zy=function(t,i){return void 0===i&&(i=1e6),n.iy(t*i,i)},n.iy=function(t,i){return w(t)?n.Gy:t===1/0?n.jy:t===-1/0?n.Qy:new n(BigInt(l.floor(t)),i)},n.ny=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Yy=function(t){return n.zy(t.Vy,1e6)},n.Zy=function(t){return n.iy(t.getTime(),1e3)},n.My=function(t,n){return t.Vw(n)?t:n},n.Uy=function(t,n){return t.Ww(n)?t:n},n.Jy=function(t,i,r){return n.My(i,n.Uy(r,t))};var i=n.prototype;return i.jw=function(){return this.ru<BigInt(0)},i.vy=function(){return 0!==this.Py&&this.ru===BigInt(0)},i.Jw=function(){return 0===this.Py&&this.ru!==BigInt(0)},i.Zw=function(){return 0===this.Py&&this.ru===BigInt(0)},i.Uw=function(){if(0===this.Py)return this.ru===BigInt(0)?NaN:this.ru<BigInt(0)?-1/0:1/0;var t=this.ru/BigInt(this.Py),n=this.ru-t*BigInt(this.Py);return Number(t)+Number(n)/this.Py},i.gy=function(){if(0===this.Py)throw new f("Failed to convert timestamp");return this.um()},i.um=function(){var t=this.ru&BigInt(4294967295),n=this.ru>>BigInt(32)&BigInt(4294967295);return Vt.fromBits(Number(t),Number(n))},i.$y=function(){return new Date(0===this.Py?NaN:Number(this.Fy(1e3).ru))},i.Ky=function(){return new eg(0===this.Py?this.Uw():Number(this.ru),this.Py)},i.Fy=function(t,i){void 0===i&&(i=ag.tm);var r=this.Py;if(r===t)return this;if(0===r)return this;var e=Qt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===ag.tm)return e<BigInt(0)?r-BigInt(1):r;if(i===ag.nm)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.ru*BigInt(t/e),BigInt(r/e),i),t)},i.Hw=function(t){if(this===t)return Y_.Pw;if(0===this.Py||0===t.Py)return ig(this,t);if(this.vy())return t.vy()?Y_.Pw:t.jw()?Y_.Bw:Y_.Lw;if(t.vy())return this.jw()?Y_.Lw:Y_.Bw;var n=l.min(this.Py,t.Py),i=this.Fy(n,ag.im).ru,r=t.Fy(n,ag.im).ru;return i>r?Y_.Bw:i<r?Y_.Lw:Y_.Pw},i.Qw=function(){return 0===this.Py?hg(this):new n(-this.ru,this.Py)},i.Hg=function(t){if(0===this.Py||0===t.Py)return fg(this,t);if(this.vy())return t;if(t.vy())return this;var i=l.max(this.Py,t.Py),r=this.Fy(i,ag.im),e=t.Fy(i,ag.im);return new n(r.ru+e.ru,i)},i.Ry=function(t){if(this.Zw()||w(t))return n.Gy;if(this.Jw()||!isFinite(t)){if(this.vy()||0===t)return n.Gy;var i=this.jw()?n.Qy:n.jy;return t<0?i.Qw():i}return this.vy()?this:new n(0===t?BigInt(0):this.ru*BigInt(t),this.Py)},i.Cy=function(t){if(this.Zw()||w(t))return n.Gy;if(this.Jw())return isFinite(t)?0===t?1/t<0?this.Qw():this:t<0?this.Qw():this:n.Gy;if(!isFinite(t))return new n(BigInt(0),this.Py);if(this.vy())return 0===t?n.Gy:new n(BigInt(0),this.Py);if(0===t){var i=this.jw()?n.Qy:n.jy;return 1/t<0?i.Qw():i}return new n(this.ru/BigInt(t),this.Py)},i.rm=function(){var t=this.um();return[t.low,t.high,this.Py]},L(n,null,[{key:"uy",get:function(){return n.sm||(n.sm=new n(BigInt(0),1e6)),n.sm}},{key:"Gy",get:function(){return n.om||(n.om=new n(BigInt(0),0)),n.om}},{key:"jy",get:function(){return n.am||(n.am=new n(BigInt(1),0)),n.am}},{key:"Qy",get:function(){return n.cm||(n.cm=new n(BigInt(-1),0)),n.cm}}]),n}(ng);function hg(t){return t.Zw()?t:t.jw()?cg.jy:cg.Qy}function fg(t,n){return t.Zw()||n.Zw()?cg.Gy:t.Jw()&&n.Jw()?t.jw()===n.jw()?t:cg.Gy:t.Jw()?t:n}cg.sm=void 0,cg.om=void 0,cg.am=void 0,cg.cm=void 0,function(t){t[t.tm=0]="tm",t[t.nm=1]="nm",t[t.im=2]="im"}(ag||(ag={}));var vg=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?cg:ug;function dg(t,n){return t.Hw(n)}function lg(t){return vg.ny(Vt.fromBits(t[0],t[1],!1),t[2])}var _g=9e4,gg=l.pow(2,33),wg=vg.iy(gg,_g),yg=wg.Cy(2);function mg(t){return null!=t&&!t.Zw()}function kg(t,n){return t.Jw()||n.Jw()?vg.My(t,n):bg(t,n).Fw(vg.uy)?t:n}function pg(t,n){var i=t.Yw(n);return i.zw(vg.uy)&&(i=i.Hg(wg)),i}function Ag(t,n){var i=t.Hg(n);return i.Vw(wg)&&(i=i.Yw(wg)),i}function bg(t,n){var i=t.Yw(n);return t.Jw()||n.Jw()?i:(i.Vw(yg)?i=i.Yw(wg):i.zw(yg.Qw())&&(i=i.Hg(wg)),i)}function Tg(t,n){if(t||n)return t?n?vg.Uy(t,n):t:n}function Eg(t,n){if(t||n)return t?n?vg.My(t,n):t:n}var Sg,Rg,Ig,Ng,Dg={hm:0,fm:1/0,vm:0},Cg=6,Og=["WEBVTT ","WEBVTT\t","WEBVTT\n"],xg=[" ","\t","\n","\f","\r"],Pg=/^\d*$/,Bg=/.*[0-9]+.*/,Lg=/^[\d.-]+$/,Mg=/(^\.|\.$)/,Ug=/(\D\.|\.\D)/;function Fg(t,n){void 0===n&&(n=Dg);var i={zl:[],dm:[],lm:[]},r=Hg(t),e=new zs;if(Zg(r),Vg(r,function(t){return"\n"!==t},e),e.ra>=r.length)return i;(e.ta(1),"\n"!==r.charAt(e.ra))?zg(Xg(r,e,!1,!0,i,n),i):e.ta(1);for(Vg(r,function(t){return"\n"===t},e);e.ra<r.length;){zg(Xg(r,e,!1,!1,i,n),i),Vg(r,function(t){return"\n"===t},e)}return i}function Hg(t){var n=gr(t,"\0"," "),i=gr(n,"\r\n","\n");return gr(i,"\r","\n")}function Vg(t,n,i){for(var r=i.ra;i.ra<t.length&&n(t.charAt(i.ra));)i.ta(1);return t.substring(r,i.ra)}function Xg(t,n,i,r,e,u){for(var s,o=0,a=n.ra,c="",h=!1,f=!1,v=null,d=null,l=null;!h;)if(s=Vg(t,function(t){return"\n"!==t},n),o++,n.ra>=t.length?h=!0:n.ta(1),wr(s,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.na(a);break}f=!0,a=n.ra,v=new W_(0,0,"",!1,c);try{Gg(s,e.dm,v,u),c=""}catch(t){b.fs(t),v=null}}else{if(""===s)break;r&&yr(s,"X-TIMESTAMP-MAP")&&(e._m=Wg(s)),r||2!==o||i||(kr("STYLE",c.replace(/ /g,""))?(d={js:E_.Kg},c=""):kr("REGION",c.replace(/ /g,""))&&(l=new Z_("",100,3,0,100,0,100,""),c="")),c&&(c+="\n"),c+=s,a=n.ra}if(v)return v.ow=c,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&wr(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":ow(o,n);break;case"WIDTH":hw(o,n);break;case"LINES":cw(o,n);break;case"REGIONANCHOR":var a=sw(o);a&&(n.Nw=a[0],n.Dw=a[1]);break;case"VIEWPORTANCHOR":var c=sw(o);c&&(n.Ow=c[0],n.xw=c[1]);break;case"SCROLL":aw(o,n)}}}}(c,l),l;return null}function Wg(t){var n,i,r=t.split("=")[1].trim().split(","),e=qg(r[0].trim(),"MPEGTS")?r[0]:r[1],u=qg(r[0].trim(),"LOCAL")?r[0]:r[1];return{gm:(i=Number(e.split(/:(.*)/)[1].trim())||0,vg.iy(i,_g)),wm:vg.zy(null!==(n=Yg(u.split(/:(.*)/)[1].trim(),new zs))&&void 0!==n?n:0)}}function qg(t,n){return yr(t,n)}function zg(t,n){t&&function(t){return t.js===E_.Jg}(t)?n.zl.push(t):t&&function(t){return t.js===E_.$g}(t)?n.dm.push(t):t&&function(t){return t.js===E_.Kg}(t)&&n.lm.push(t)}function Gg(t,n,i,r){var e=new zs;if(Jg(t,e),i.uw=jg(Yg(t,e),r),Jg(t,e),"--\x3e"!==t.substring(e.ra,e.ra+3))throw f("Something went wrong with parsing a WebVTT Cue");e.ta(3),Jg(t,e),i.sw=jg(Yg(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&wr(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":iw(a,n,i);break;case"VERTICAL":ew(a,n);break;case"D":uw(a,n);break;case"LINE":case"L":tw(a,n);break;case"POSITION":case"T":nw(a,n);break;case"SIZE":case"S":rw(a,n);break;case"ALIGN":case"A":Kg(a,n)}}}}(t.substring(e.ra,t.length),i,n)}function jg(t,n){return t+n.hm}function Qg(t){return/^[0-9]$/.test(t)}function Yg(t,n){var i,r,e,u=gr(t,",","."),s=!1;if(n.ra>=u.length||!Qg(u.charAt(n.ra)))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var o=Vg(u,Qg,n),a=_(o,10);if((o.length>2||a>59)&&(s=!0),n.ra>=u.length||":"!==u.charAt(n.ra))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ta(1);var c=Vg(u,Qg,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");var h=_(c,10);if(s||n.ra<u.length&&":"===u.charAt(n.ra)){if(n.ra>=u.length||":"!==u.charAt(n.ra))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ta(1);var v=Vg(u,Qg,n);if(2!==c.length)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");i=a,r=h,e=_(v,10)}else i=0,r=a,e=h;if(n.ra>=u.length||"."!==u.charAt(n.ra))throw new f("Something went wrong with parsing a WebVTT Cue timestamp");n.ta(1);var d=Vg(u,Qg,n),l=_(d,10);if(h>59||e>59)throw new f("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function Zg(t){if(t.length<Cg)return!1;for(var n=0;n<Og.length;n++){if(yr(t,Og[n]))return!0}return!1}function Jg(t,n){for(;n.ra<t.length&&(i=t.charAt(n.ra),Ke(xg,i));)n.ta(1);var i}function $g(t){var n=t.lastIndexOf("%");if(n>-1){var i=g(t.substring(0,n));if(!w(i)&&i>=0&&i<=100)return i}return null}function Kg(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.aw=i;break;case"middle":n.aw="center"}}function tw(t,n){var i=t,r="";if(wr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Bg.test(i)){var e;if(mr(i,"%")){var u=$g(i);if(null===u)return;e=u}else{if(!Lg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!Ug.test(t)||Mg.test(t))return;if(e=g(t),w(e))return}switch(n.cw=e,n.lw=mr(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.hw=r;break;case"middle":n.hw="center"}}}function nw(t,n){var i=t,r="";wr(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=$g(i);if(null!==e)switch(n.fw=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.vw=r;break;case"start":n.vw="line-left";break;case"middle":n.vw="center";break;case"end":n.vw="line-right"}}function iw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Cl===t)return void(n.dw=i[r])}function rw(t,n){var i=$g(t);null!==i&&(n.$o=i)}function ew(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n._w="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n._w="lr";break;default:n._w=""}}function uw(t,n){"VERTICAL"===t.toUpperCase()?n._w="rl":"VERTICAL-LR"===t.toUpperCase()&&(n._w="lr")}function sw(t){if(t.indexOf(",")>=0){var n=$g(t.substring(0,t.indexOf(","))),i=$g(t.substring(t.indexOf(",")+1,t.length));return[Wt(n||0,0,100),Wt(i||100,0,100)]}return null}function ow(t,n){n.Cl=t}function aw(t,n){"up"===t.toLowerCase()&&(n.Cw="up")}function cw(t,n){Pg.test(t)&&(n.Iw=_(t))}function hw(t,n){var i=$g(t);null!==i&&(n.rs=i)}!function(t){t.ym="moov",t.mm="mvhd",t.km="trak",t.pm="tkhd",t.Am="mdia",t.bm="mdhd",t.Tm="hdlr",t.Em="minf",t.Sm="stbl",t.Rm="stsd",t.Im="stsc",t.Nm="mvex",t.Dm="trex",t.Cm="avc1",t.Om="avcC",t.xm="hev1",t.Pm="hvc1",t.Bm="hvcC",t.Lm="pasp",t.Mm="mp4a",t.Um="esds",t.Fm="wvtt",t.Hm="vttC",t.Vm="vlab",t.Xm="enca",t.Wm="encv",t.qm="moof",t.zm="mfhd",t.Gm="traf",t.jm="tfhd",t.Qm="trun",t.Ym="tfdt",t.Zm="mdat",t.Jm="pssh",t.$m="emsg",t.Km="sidx",t.tk="styp",t.nk="ftyp",t.ik="sinf",t.rk="frma"}(Sg||(Sg={})),function(t){t.yv="vide",t.wv="soun",t.ek="hint",t.uk="meta",t.sk="auxv"}(Rg||(Rg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Ig||(Ig={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Ng||(Ng={}));var fw=function(){function t(t,n){this.pu=t,this.ak=n}var n=t.prototype;return n.ck=function(){return as(this.pu,this.ak)},n.hk=function(){return ls(this.pu,this.ak)},n.fk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.ra,i);return n.ta(2),r}(this.pu,this.ak)},n.vk=function(){return gs(this.pu,this.ak)},n.dk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.ra,i);return n.ta(4),r}(this.pu,this.ak)},n.lk=function(){return ys(this.pu,this.ak)},n._k=function(t){return hs(this.pu,this.ak,t)},n.gk=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(gs(t,n));return r}(this.pu,this.ak,t)},n.wk=function(t){return ps(this.pu,this.ak,t)},n.yk=function(){return Ps(this.pu,this.ak)},n.mk=function(t){this.ak.ta(t)},n.ia=function(){return new t(this.pu,this.ak.ia())},t}();function vw(t,n){return t.js===n}function dw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(vw(r,n))return r}}function lw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];vw(e,n)&&i.push(e)}return i}var _w=function(t){function n(n,i){var r;return(r=t.call(this)||this).kk=n,r.pk=i,r}return M(n,t),L(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(un),gw=function(){function t(){}return t.Ak=function(n){var i=n.pu,r=n.ak,e=t.bk(i,r,!1);if(!e.Tk)throw new _w(r.ra,e.vu);return e.vu},t.bk=function(n,i,r){for(var e=[];i.ra<n.byteLength;){var u=t.Ek(n,i,r);if(!u.Tk)return{Tk:!1,vu:e};e.push(u.Sk)}return{Tk:!0,vu:e}},t.Rk=function(n,i){var r=t.Ek(n,i,!1);if(!r.Tk)throw new _w(i.ra);return r.Sk},t.Ik=function(n,i){for(var r=n.pu,e=n.ak;e.ra<r.byteLength;){var u=t.Ek(r,e,!1);if(!u.Tk)return;if(u.Sk.js===i)return u.Sk}},t.Ek=function(n,i,r){var e=i.ra,u=t.Nk(n,i);if(!u.Tk)return u;var s=u.Dk,o=s.$o;if(0===o){if(r)return i.na(e),{Tk:!1,Ck:1/0};o=n.byteLength-e}var a=e+o;if(a>n.byteLength){var c=a;return i.na(e),{Tk:!1,Ck:c}}var h={js:s.js,ra:e,pu:new fw(Us(n,e,a),new zs(s.Ok))};return i.na(a),{Tk:!0,Sk:h}},t.Nk=function(t,n){var i=n.ra;if(!vs(t,n,8))return{Tk:!1,Ck:n.ra+8};var r=gs(t,n),e=ps(t,n,4);if(1===r){if(!vs(t,n,8)){var u=n.ra+8;return n.na(i),{Tk:!1,Ck:u}}r=ys(t,n).toNumber()}if("uuid"===e){if(!vs(t,n,16)){var s=n.ra+16;return n.na(i),{Tk:!1,Ck:s}}e=ps(t,n,16)}return{Tk:!0,Dk:{js:e,$o:r,Ok:n.ra-i}}},t.xk=function(t,n,i){var r=t.pu,e=t.ak,u=Ms(Hs(r),e.ra,r.byteLength);return i&&(u=qs(u)),e.ta(u.byteLength),{js:n,pu:u}},t.Pk=function(n,i,r){var e=kw(n.vk());return{js:i,Bk:e.version,Lk:e.flags,pu:t.xk(n,i,r).pu}},t}();function ww(t,n){var i=yw(t,n);if(!i)throw new f("Missing "+n+" atom");return i}function yw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.js===n)return r.pu}}function mw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.js===n&&i.push(e.pu)}return i}function kw(t){return{version:t>>24,flags:new us(16777215&t)}}var pw=function(){function t(){}return t.Mk=function(n){for(var i=[],r=gw.Ak(new fw(n,new zs)),e=0;e<r.length;e++){var u=r[e],s=t.Uk(u);s&&i.push(s)}return i},t.Fk=function(t){return gw.bk(t,new zs,!1).vu.some(function(t){return t.js===Sg.qm||t.js===Sg.tk})},t.Hk=function(n){return mw(gw.Ak(new fw(n,new zs)),Sg.Jm).map(t.Vk)},t.Uk=function(n){switch(n.js){case Sg.ym:return t.Xk(n.pu);case Sg.qm:return t.Wk(n.pu,n.ra);case Sg.Zm:return t.qk(n.pu);case Sg.Km:return t.zk(n.pu);case Sg.$m:return t.Gk(n.pu)}},t.Xk=function(n){var i=gw.Ak(n),r=ww(i,Sg.mm),e=mw(i,Sg.km),u=yw(i,Sg.Nm),s=t.jk(r),o=e.map(t.Qk),a=u?t.Yk(u):void 0;return{js:Sg.ym,Dk:s,Zk:o,Jk:a}},t.jk=function(t){var n=kw(t.vk()),i=n.version,r=n.flags,e=1===i?t.lk():t.vk(),u=1===i?t.lk():t.vk(),s=t.vk(),o=1===i?t.lk():t.vk(),a=t.vk(),c=t.hk()>>8;t.mk(2),t.mk(8);var h=t.gk(9);t.mk(24);var f=t.vk();return{js:Sg.mm,Bk:i,Lk:r,$k:e,Kk:u,Py:s,R_:o,tp:a,L_:c,np:h,ip:f}},t.Qk=function(n){var i=gw.Ak(n),r=ww(i,Sg.pm),e=ww(i,Sg.Am),u=t.rp(r),s=t.ep(e);return{js:Sg.km,Dk:u,sp:s}},t.rp=function(t){var n=kw(t.vk()),i=n.version,r=n.flags,e=1===i?t.lk():t.vk(),u=1===i?t.lk():t.vk(),s=t.vk();t.mk(4);var o=1===i?t.lk():t.vk();t.mk(8);var a=t.fk(),c=t.fk(),h=t.fk()/l.pow(2,8);t.mk(2);var f=t.gk(9),v=t.vk()/l.pow(2,16),d=t.vk()/l.pow(2,16);return{js:Sg.pm,op:r.ua(1),ap:r.ua(2),cp:r.ua(4),$k:e,Kk:u,hp:s,R_:o,fp:a,vp:c,L_:h,np:f,rs:v,dp:d}},t.ep=function(n){var i=gw.Ak(n),r=ww(i,Sg.bm),e=ww(i,Sg.Tm),u=ww(i,Sg.Em),s=t.lp(r),o=t._p(e),a=t.gp(u);return{js:Sg.Am,Dk:s,wp:o,yp:a}},t.lp=function(t){var n=kw(t.vk()),i=n.version,r=n.flags,e=1===i?t.lk():t.vk(),u=1===i?t.lk():t.vk(),s=t.vk(),o=1===i?t.lk():t.vk();t.hk();return t.mk(2),{js:Sg.bm,Bk:i,Lk:r,$k:e,Kk:u,Py:s,R_:o}},t._p=function(t){var n=kw(t.vk()),i=n.version,r=n.flags;t.mk(4);var e=t.wk(4);t.mk(12);var u=t.yk();return{js:Sg.Tm,Bk:i,Lk:r,mp:e,tu:u}},t.gp=function(n){var i=ww(gw.Ak(n),Sg.Sm),r=t.kp(i);return{js:Sg.Em,pp:r}},t.kp=function(n){var i=ww(gw.Ak(n),Sg.Rm),r=t.Ap(i);return{js:Sg.Sm,bp:r}},t.Ap=function(n){for(var i=kw(n.vk()),r=i.version,e=i.flags,u=(n.vk(),[]),s=gw.Ak(n),o=0;o<s.length;o++){var a=s[o],c=t.Tp(a.pu,a.js);c&&u.push(c)}return{js:Sg.Rm,Bk:r,Lk:e,Ep:u}},t.Tp=function(n,i){var r=t.Sp(n,i);return r||((r=t.Rp(n,i))||(i===Sg.Fm?t.Ip(n):void 0))},t.Sp=function(n,i){return i===Sg.Mm?t.Np(n):i===Sg.Xm?t.Dp(n):void 0},t.Rp=function(n,i){return i===Sg.Cm?t.Cp(n):i===Sg.xm||i===Sg.Pm?t.Op(n,i):i===Sg.Wm?t.xp(n):void 0},t.Pp=function(t,n){return t.mk(6),{js:n,Bp:t.hk()}},t.Lp=function(n,i){var r=t.Pp(n,i);n.mk(8);var e=n.hk(),u=n.hk();n.mk(2),n.mk(2);var s=n.vk()>>>16;return le(le({},r),{Mp:e,Up:u,Fp:s})},t.Hp=function(n,i){var r=t.Pp(n,i);n.mk(2),n.mk(2),n.mk(12);var e=n.hk(),u=n.hk(),s=n.vk(),o=n.vk();n.mk(4);var a=n.hk();n.mk(32);var c=n.hk();return n.mk(2),le(le({},r),{rs:e,dp:u,Vp:s,Xp:o,Wp:a,qp:c})},t.Np=function(n){var i=t.Lp(n,Sg.Mm),r=ww(gw.Ak(n),Sg.Um),e=t.zp(r);return le(le({},i),{Gp:e})},t.Ip=function(n){var i=t.Pp(n,Sg.Fm),r=gw.Ak(n),e=ww(r,Sg.Hm),u=t.jp(e),s=yw(r,Sg.Vm),o=s?t.Qp(s):s;return le(le({},i),{Yp:u,Zp:o})},t.jp=function(t){return{js:Sg.Hm,Jp:t.yk()}},t.Qp=function(t){return{js:Sg.Vm,Pl:t.yk()}},t.zp=function(t){return gw.Pk(t,Sg.Um,!0)},t.Cp=function(n){var i=t.Hp(n,Sg.Cm),r=gw.Ak(n),e=ww(r,Sg.Om),u=yw(r,Sg.Lm),s=t.$p(e),o=u?t.Kp(u):void 0;return le(le({},i),{tA:s,nA:o})},t.Op=function(n,i){var r=t.Hp(n,i),e=ww(gw.Ak(n),Sg.Bm),u=t.iA(e);return le(le({},r),{rA:u})},t.xp=function(n){var i=n.ia(),r=t.Hp(n,Sg.Wm),e=ww(gw.Ak(n),Sg.ik),u=t.eA(e),s=t.Rp(i,u.sA.uA);return le(le({},r),{oA:s,aA:u})},t.Dp=function(n){var i=n.ia(),r=t.Lp(n,Sg.Xm),e=ww(gw.Ak(n),Sg.ik),u=t.eA(e),s=t.Sp(i,u.sA.uA);return le(le({},r),{oA:s,aA:u})},t.eA=function(n){var i=ww(gw.Ak(n),Sg.rk),r=t.cA(i);return{js:Sg.ik,sA:r}},t.cA=function(t){var n=t.wk(4);return{js:Sg.rk,uA:n}},t.$p=function(t){return gw.xk(t,Sg.Om,!0)},t.iA=function(t){return gw.xk(t,Sg.Bm,!0)},t.Kp=function(t){var n=t.vk(),i=t.vk();return{js:Sg.Lm,hA:n,fA:i}},t.Yk=function(n){var i=mw(gw.Ak(n),Sg.Dm).map(t.vA);return{js:Sg.Nm,Zk:i}},t.vA=function(t){var n=kw(t.vk()),i=n.version,r=n.flags,e=t.vk(),u=t.vk(),s=t.vk(),o=t.vk(),a=t.vk();return{js:Sg.Dm,Bk:i,Lk:r,hp:e,dA:u,lA:s,_A:o,gA:a}},t.Wk=function(n,i){var r=gw.Ak(n),e=ww(r,Sg.zm),u=mw(r,Sg.Gm),s=t.wA(e),o=u.map(t.yA);return{js:Sg.qm,mA:i,Dk:s,Zk:o}},t.wA=function(t){var n=kw(t.vk()),i=n.version,r=n.flags,e=t.vk();return{js:Sg.zm,Bk:i,Lk:r,kA:e}},t.yA=function(n){var i=gw.Ak(n),r=ww(i,Sg.jm),e=mw(i,Sg.Qm),u=yw(i,Sg.Ym),s=t.pA(r),o=e.map(function(n){return t.AA(n,s)}),a=u?t.bA(u):void 0;return{js:Sg.Gm,Dk:s,TA:o,EA:a}},t.pA=function(t){var n=kw(t.vk()),i=n.version,r=n.flags,e=t.vk(),u=r.ua(Ig.BASE_DATA_OFFSET_PRESENT)?t.lk():void 0,s=r.ua(Ig.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.vk():void 0,o=r.ua(Ig.DEFAULT_SAMPLE_DURATION_PRESENT)?t.vk():void 0,a=r.ua(Ig.DEFAULT_SAMPLE_SIZE_PRESENT)?t.vk():void 0,c=r.ua(Ig.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.vk():void 0;return{js:Sg.jm,Bk:i,Lk:r,hp:e,SA:u,RA:s,lA:o,_A:a,gA:c}},t.AA=function(n,i){for(var r=kw(n.vk()),e=r.version,u=r.flags,s=n.vk(),o=u.ua(Ng.DATA_OFFSET_PRESENT)?n.dk():void 0,a=u.ua(Ng.FIRST_SAMPLE_FLAGS_PRESENT)?n.vk():void 0,c=[],h=0;h<s;h++){var f=t.IA(n,u,e,i);0===h&&void 0!==a&&(f.Lk=a),c.push(f)}return{js:Sg.Qm,Bk:e,Lk:u,NA:s,mA:o,DA:a,CA:c}},t.IA=function(t,n,i,r){return{R_:n.ua(Ng.SAMPLE_DURATION_PRESENT)?t.vk():r.lA,$o:n.ua(Ng.SAMPLE_SIZE_PRESENT)?t.vk():r._A,Lk:n.ua(Ng.SAMPLE_FLAGS_PRESENT)?t.vk():r.gA,OA:n.ua(Ng.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.vk():t.dk():void 0}},t.Gk=function(t){var n=t.pu,i=t.ak,r=kw(gs(n,i)),e=r.version,u=r.flags;if(1===e){var s=gs(n,i),o=ys(n,i),a=gs(n,i),c=gs(n,i),h=ks(n,i),f=ks(n,i),v=Ws(Hs(n),i.ra,n.byteLength);return i.ta(v.byteLength),{js:Sg.$m,Bk:e,Lk:u,xA:h,ru:f,Py:s,PA:o,BA:a,Cl:c,LA:v}}var d=ks(n,i),l=ks(n,i),_=gs(n,i),g=gs(n,i),w=gs(n,i),y=gs(n,i),m=Ws(Hs(n),i.ra,n.byteLength);return i.ta(m.byteLength),{js:Sg.$m,Lk:u,Bk:e,xA:d,ru:l,Py:_,MA:g,BA:w,Cl:y,LA:m}},t.qk=function(t){return gw.xk(t,Sg.Zm,!1)},t.Vk=function(n){var i=n.pu,r=n.ak,e=qs(Hs(i)).buffer,u=kw(gs(i,r)),s=u.version,o=u.flags,a=t.UA(i,r),c=[];if(s>0)for(var h=gs(i,r),f=0;f<h;f++){var v=hs(i,r,16);c.push(v)}var d=gs(i,r),l=new y(e,r.ra,d);return r.ta(i.byteLength),{js:Sg.Jm,Bk:s,Lk:o,FA:a,HA:c,VA:d,pu:l,XA:e}},t.UA=function(t,n){for(var i="",r=0;r<4;r++){var e=as(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=as(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=as(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=as(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=as(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.zk=function(t){var n,i,r=t.pu,e=t.ak,u=kw(gs(r,e)),s=u.version,o=u.flags,a=gs(r,e),c=gs(r,e);0===s?(n=Vt.fromBits(gs(r,e),0,!0),i=Vt.fromBits(gs(r,e),0,!0)):(n=ys(r,e),i=ys(r,e)),e.ta(2);for(var h=ls(r,e),f=[],v=0;v<h;v+=1){var d=gs(r,e),l=d>>31&1,_=2147483647&d,g=gs(r,e),w=gs(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({WA:l,qA:_,R_:g,zA:y,GA:m,jA:k})}return{js:Sg.Km,Bk:s,Lk:o,QA:a,Py:c,YA:n,ZA:i,JA:h,$A:f}},t.bA=function(t){var n,i=t.pu,r=t.ak,e=kw(gs(i,r)),u=e.version,s=e.flags;return n=0===u?Vt.fromBits(gs(i,r),0,!0):ys(i,r),{js:Sg.Ym,Bk:u,Lk:s,EA:n}},t}();function Aw(t){return t&&"fu"in t?t.fu:t}var bw=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e)||this).KA=u,a.nb=s,a.ib=o||void 0,a}return M(n,t),n.prototype.Tw=function(n){return this===n||!!Nd(this,n)&&(!!t.prototype.Tw.call(this,n)&&(!!Id(this.rb,n.rb)&&(!!Id(this.dm,n.dm)&&(this.eb&&n.eb?!!this.eb.Je(n.eb)&&(this.ow&&n.ow?this.ow.Je(n.ow):this.ow===n.ow):this.eb===n.eb))))},L(n,[{key:"rb",get:function(){return this.KA}},{key:"dm",get:function(){return this.nb}},{key:"eb",get:function(){return this.ib}},{key:"Xd",get:function(){var t;return this.Vd||(this.Vd=Sd(L_(t=this),{get styles(){return t.rb},get regions(){return t.dm},get metadata(){return Aw(t.eb)},get content(){return Aw(t.ow)}})),this.Vd}}]),n}(V_),Tw=function(){function t(t,n,i){this.ub=t,this.sb=n,tn(i)?this.gf=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var u=e[r];i._u(u)}return i}(0,0,i):this.gf=i}return L(t,[{key:"ob",get:function(){return this.gf.$e(!0)}},{key:"uw",get:function(){return this.ub}},{key:"sw",get:function(){return this.sb}}]),t}();var Ew="http://www.w3.org/XML/1998/namespace";function Sw(t,n,i,r){var e=t.cu(i,n);return 0===e.length&&(e=t.su(r+":"+n)),e}function Rw(t,n){return function(t,n){var i=t.vu.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.vu)}return r}(t,function(t){return t.au===n})}function Iw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Nw(t,n){for(var i=t.mu,r={},e=0;e<i.length;e++)r[Iw(i[e].tu,n)]=i[e].ru;return r}var Dw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Cw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Ow="http://www.w3.org/ns/ttml";function xw(t,n,i){return void 0===i&&(i=Dg),function(t,n,i){var r=[],e=b.Ye(t);if(!e)return r;var u=e.Au;if("tt"!==u.Ke)return r;var s=u&&u.cu(Ow,"head")[0],o=u&&u.cu(Ow,"body")[0],a=["ebutts","tts","xml"];if(!o||!s)return r;for(var c=function(t,n){for(var i={},r=t.cu(Ow,"styling")[0],e=r&&r.cu(Ow,"style")||[],u=0;u<e.length;u++){var s=e[u],o=s.lu(Ew,"id");i[o]=Nw(s,n)}return i}(s,a),h=function(t,n){var i=Rd(t),r=Mw(n.du("tts:extent"));if(!r)return i;for(var e=0,u=d.keys(i);e<u.length;e++){var s=u[e],o=Mw(i[s].extent);if(o){var a=Bw(o[0],r[0]),c=Bw(o[1],r[1]);i[s].extent=a+" "+c}var h=Mw(i[s].origin);if(h){var f=Bw(h[0],r[0]),v=Bw(h[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.cu(Ow,"layout")[0],e=r&&r.cu(Ow,"region")||[],u=0;u<e.length;u++){var s=e[u],o=s.lu(Ew,"id");if(o){i[o]=Nw(s,n);var a=Hw(s,n);for(var c in a)Q.call(a,c)&&(i[o][c]=a[c])}}return i}(s,a),u),f=s.cu(Ow,"metadata")[0],v=function t(n,i,r,e){var u,s;var o=i;var a;var c=r;var h=[];var f=[];if(tn(n)){o=null!==(u=Fw(n.du("begin"),e))&&void 0!==u?u:o,a=Fw(n.du("dur"),0),c=null!==(s=Fw(n.du("end"),e))&&void 0!==s?s:void 0!==a?o+a:c;for(var v=n.ou,d=0;d<v.length;d++)("body"===n.Ke||"div"===n.Ke)&&v[d].We>1||(h=h.concat(t(v[d],o,c,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.uw,u.sw)}r.sort($_);for(var s=r.length,o=0;o<s-1;o++)r[o+1]===r[o]&&($e(r,o+1),o--,s=r.length);return r}(o,c,h);for(var _=0;_<l.length-1;_++){var g=Uw(l[_],l[_+1],h);if(g.length<=0&&Vw(n)){var w=n.$e(!1);f.push(new Tw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.$e(!1);g.forEach(function(n){return t.hu(n.ob)}),f.push(new Tw(l[_],l[_+1],t))}()}return f}(o,i.hm,i.fm,i.vm),l=0;l<v.length;l++){var _=v[l],g=Pw(h,_);r.push(new bw(_.uw,_.sw,_.ob,!1,c,g,f))}return r}(t,0,i)}function Pw(t,n){for(var i=function t(n){var i=[];var r;if(tn(n)){(r=n.du("region"))&&i.push(r);for(var e=n.ou,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.ob),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Bw(t,n){var i=Lw(t),r=Lw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return w(e)||w(u)?t:e/u*100+"%"}return t}function Lw(t){return mr(t,"px")?"px":mr(t,"em")?"em":mr(t,"c")?"c":mr(t,"%")?"%":void 0}function Mw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Uw(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].uw,s=i[e].sw;(u>=t&&s<=n||u<n&&s>=n||u<t&&s>t)&&r.push(i[e])}return r}function Fw(t,n){if(t){if(Dw.test(t)){var i=Dw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6];return 3600*r+60*e+u+(s?Number(s)*l.pow(.1,s.length):0)-n}if(Cw.test(t)){var o=Cw.exec(t);if(!o)return;var a,c=Number(o[1]);switch(o[4]){case"h":a=3600*c;break;case"m":a=60*c;break;case"s":a=c;break;case"ms":a=.001*c;break;case"f":case"t":default:a=NaN}return a-n}}}function Hw(t,n){for(var i={},r=t.su("style")||[],e=0;e<r.length;e++){var u=Nw(r[e],n);for(var s in u)Q.call(u,s)&&(i[s]=u[s])}return i}function Vw(t){if(tn(t)){var n=t.Ke.toUpperCase(),i=Boolean(t.du("smpte:backgroundImage"));return"BR"===n||i}return t.We===Jt.ze}function Xw(t){var n=function(t){var n=b.Ye(t);if(n)return n.Au}(t);return"tt"===(null==n?void 0:n.Ke)}var Ww,qw=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.gl=function(n){return t.prototype.gl.call(this,n)},i.wl=function(n){var i=t.prototype.wl.call(this,n);return i&&(n.Wl=Xd.Ul),i},i.Wd=function(){return Yd(this)},n}(kd),zw=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Zk=new qw,n.ab=function(t){t.qd.Wl!==Xd.Ul?n.cb(t.qd):n.hb(t.qd)},n}M(n,t);var i=n.prototype;return i.gl=function(t){t.So(dd.nl,this.ab),this.Zk.gl(t)},i.wl=function(t){t.Do(dd.nl,this.ab),t.Wl=Xd.Ul,this.Zk.wl(t)},i.cb=function(t){},i.hb=function(t){},i.fb=function(){for(var t=0,n=this.Zk.kl;t<n.length;t++){var i=n[t];i.Do(dd.nl,this.ab),i.Rv()}},i.ml=function(){return this.fb(),this.Zk.ml(),T.resolve()},i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.No(),t.next=3,this.ml();case 3:this.Zk.Rv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Tu);!function(t){t.vb="subtitles",t.lb="captions",t._b="descriptions",t.gb="chapters",t.uk="metadata",t.wb="thumbnails"}(Ww||(Ww={}));var Gw=[Ww.vb,Ww.lb,Ww._b,Ww.gb,Ww.uk,Ww.wb];function jw(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ke(Gw,t)}(n)?n:n?Ww.uk:Ww.vb}var Qw,Yw=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return M(n,t),n}(To);function Zw(t){return t instanceof Cf}function Jw(t){return wr(t,Qw.yb)}function $w(t){return t.some(Kw)}function Kw(t){return wr(t,Qw.mb)||wr(t,Qw.Fm)}function ty(t,n){return oo(t)&&$w(n)}function ny(t,n){return!!t&&(oo(t)?function(t){return t.some(Jw)}(n)||$w(n):wr(t,so.APPLICATION_TTML_XML)||wr(t,so.TEXT_VTT)||wr(t,so.IMAGE_JPEG))}function iy(t,n){return t===Ww.wb||t===Ww.uk&&n===Ww.wb}function ry(t,n,i,r){for(var e=0,u=t.zl.kl;e<u.length;e++){var s=u[e];if(s.uw>i)break;n<=s.sw&&r.push(s)}}function ey(t,n){return J_(t.Ol,n.Ol)}function uy(t,i){var r=i,e=0;if(Zw(t)&&t.name===Nf.Bv)r=t.tv.rv;else if(t instanceof xf){var u=t.Hv;if(r=u.nv,0===(e=u.Yf))return new Yw(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Yw(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function sy(t){switch(t){case T_.WEBVTT:return"WebVTT";case T_.SRT:return"SRT";case T_.TTML:return"TTML";default:return""}}function oy(t){return Zg(Hg(t))?T_.WEBVTT:Xw(t)?T_.TTML:T_.SRT}!function(t){t.mb="vtt",t.Fm="wvtt",t.yb="stpp"}(Qw||(Qw={}));var ay=function(t){function n(n){var i;return(i=t.call(this,Wd.Vl)||this).errorObject=n,i}return M(n,t),n.prototype.Wd=function(){return this},L(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(vd),cy=function(t){function i(n,i){var r;return(r=t.call(this)||this).kb=new uu,r.pb=n,r.Ab=i,r}M(i,t);var r=i.prototype;return r.bb=function(t){if(t.src){var n=t.kind||Ww.vb,i=this.pb.Tb(n,t.label,t.srclang,t.default);return i.jl=Rr(t.src),this.gl(i),i}},r.Eb=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o,a,c,h,f,v,d,l;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.ql=b_.LOADING,e=new Rf({rv:i.jl,Jf:zo.ze,kv:Af.GET,ko:r}),t.prev=2,t.next=5,this.Ab.tv(e);case 5:return o=t.sent,s=o.Yf,t.next=9,o.xf();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),cu(t.t0),i.ql=b_.ERROR,i.To(new ay(uy(t.t0,i.jl))),t.abrupt("return");case 18:for(t.prev=18,a=oy(u),i.js=a,c=[],a===T_.WEBVTT||a===T_.SRT?(h=Fg(u),c=h.zl):a===T_.TTML&&(c=xw(u)),f=0,v=c;f<v.length;f++)d=v[f],i.Sb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),cu(t.t1),i.ql=b_.ERROR,l=sy(i.js),i.To(new ay(new Yw(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.jl,s,t.t1))),t.abrupt("return");case 33:i.ql=b_.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.cb=function(t){Ke(this.Zk.kl,t)&&t.ql===b_.NONE&&this.Eb(t,this.kb.ko).catch(hu)},r.Ta=function(){},r.ml=function(){var n=T.coroutine(de.mark(function n(){var i,r,e;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.kb.wo(),this.kb=new uu,i=0,r=this.Zk.kl;i<r.length;i++)e=r[i],this.pb.Rb(e);return n.next=5,t.prototype.ml.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(zw);function hy(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.xl===n&&r.Ib)return r}}function fy(t,n){vy(hy(t.kl,n))}function vy(t){void 0!==t&&(t.Wl=Xd.Hl)}function dy(t,n){vy(hy(t.kl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.xl===n)return r}}(t.kl,n))}function ly(t){for(var n=0;n<Gw.length;n++){var i=Gw[n];i===Ww.gb?dy(t,i):fy(t,i)}}var _y=function(t){function n(){return t.call(this,qo.ih)||this}return M(n,t),n}(Su),gy=function(){function t(t){var n=this;this.Nb=[],this.Db=void 0,this.pd=new uu,this.Dn=function(){return 0===n.Nb.length?n.Cb?wy(n.Cb,n.pd.ko).then(n.Ob,n.Ob):n.Ob():n.Nb.shift()().then(n.Dn)},this.Ob=function(){if(0!==n.Nb.length)return n.Dn();n.Db=void 0},this.Cb=t}var n=t.prototype;return n.xb=function(t,n){var i=this;return new T(function(r){var e=new uu;e.yo(i.pd.ko),n&&e.yo(n);var u=function(){e.ho()};i.Nb.push(function(){var n=wy(t,e.ko);return r(n),n.then(u,u)}),i.Db||(i.Db=i.Dn())})},n.wo=function(){return this.Pb(!0)},n.Rv=function(){return this.Cb=void 0,this.Pb(!1)},n.Pb=function(t){var n=this.Db;return this.pd.wo(),t&&(this.pd=new uu),T.resolve(n)},t}();function wy(t,n){return new T(function(i){return i(t(n))})}var yy=function(t){function n(n){var i;return(i=t.call(this,qo.Mc)||this).errorObject=n,i}return M(n,t),L(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Su);function my(t,n){var i={};for(var r in t)d.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof d.getOwnPropertySymbols){var e=0;for(r=d.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&d.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}var ky,py="titanium",Ay="conax",by="ezdrm",Ty="irdeto",Ey="vudrm",Sy="verimatrix",Ry="keyos",Iy="drmtoday",Ny="expressplay",Dy="azure",Cy="xstream",Oy="vimond",xy="axinom",Py="uplynk",By="comcast",Ly="custom";function My(t){return Z(t.token&&t.deviceId)}function Uy(t){var n,i=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==i&&Z(i.PreAuthorization)}function Fy(t){var n=t;return My(n)&&""!==n.token&&""!==n.deviceId&&!Uy(n)}!function(t){t.Bb=!1,t.Lb=!1,t.Mb=!1,t.Ub=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.Fb=!1}(ky||(ky={}));var Hy,Vy=function(){function t(t,n,i){this.Hb=t,this.da=n,this.Vb=i}return t.prototype.Xb=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new v("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new v("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new v("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new v("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new v("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Vb.build(t))},L(t,[{key:"Wb",get:function(){return this.Hb}},{key:"Va",get:function(){return this.da}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Hy||(Hy={}));var Xy=function(){function t(){this.qb=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.zb(t,i,r)){case Hy.FAILED:throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Hy.OVERRIDDEN:var e=um(i);b.fs("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Hy.SUCCEEDED:um(i);0}},i.zb=function(t,n,i){var r=um(n);if(!r)return Hy.FAILED;for(var e=Hy.SUCCEEDED,u=0,s=this.qb.slice();u<s.length;u++){var o=s[u];o.Wb===t&&o.Va===r&&(e=Hy.OVERRIDDEN,Je(this.qb,o))}return this.qb.push(new Vy(t,r,i)),e},i.Gb=function(t,n){return void 0!==this.jb(t,n)},i.Qb=function(t,n,i){var r=this.jb(t,n);if(!r)throw f("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.Xb(i)},i.jb=function(t,n){for(var i=0,r=this.qb;i<r.length;i++){var e=r[i];if(e.Wb===t&&(!n||e.Va===n))return e}},t}();Xy.Yb=new Xy;var Wy={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function qy(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,a=t.certificateResponseProcessor,c=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||a||c||h)}function zy(t){return t&&void 0!==t.licenseAcquisitionURL}var Gy=zy,jy=zy;function Qy(t){if(!t)return!0;if($y(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return qy(n)&&qy(i)&&qy(r)&&qy(e)&&qy(u)}function Yy(t){var n=Fy(t),i=function(t){var n,i=t;return Uy(i)&&""!==(null===(n=i.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!My(i)}(t);return(!n||!i)&&(n||i)}function Zy(t){return t.integration===Ty}function Jy(t){var n=t;if(!n)return!1;if(Qy(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if($y(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Gy(r))return!1;if(e&&!jy(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Xy.Yb.Gb(n.integration))return!0;switch(n.integration){case py:if(!function(t){return t.integration===py&&(Ky(t)||tm(t))}(t))return!1;break;case Ey:if(!nm(t))return!1;break;case Sy:if(!function(t){return t.integration===Sy}(t))return!1;break;case Ty:if(!Zy(t))return!1;break;case Ay:if(!Yy(t))return!1;break;case by:if(!function(t){return t.integration===by}(t))return!1;break;case Ry:if(!$y(t))return!1;break;case Iy:if(!function(t){var n=t;return n.integration===Iy&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case Ny:if(!function(t){return t.integration===Ny}(t))return!1;break;case Cy:if(!im(t))return!1;break;case Oy:if(!function(t){return t.integration===Oy}(t))return!1;break;case xy:if(!rm(t))return!1;break;case Dy:if(!function(t){var n=t;return n.integration===Dy&&void 0!==n.token}(t))return!1;break;case Py:if(!function(t){return t.integration===Py}(t))return!1;break;case By:if(!function(t){var n=t;return n&&Z(n.releasePid)&&Z(n.accountId)&&Z(n.token)}(t))return!1;break;case Ly:return!0;default:return!1}}return!0}function $y(t){return t.integration===Ry}function Ky(t){return void 0!==t.authToken}function tm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function nm(t){var n=t;return n.integration===Ey&&void 0!==n.token}function im(t){var n=t;return n&&n.integration===Cy&&nt(n.ticketAcquisitionURL)&&nt(n.streamId)}function rm(t){var n=t;return n.integration===xy&&void 0!==n.token}function em(t,n){var i,r,e,u=n[t],s=null!==(i=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==i?i:Wy[t],o=null!==(r=null==u?void 0:u.customdata)&&void 0!==r?r:n.customdata,a=o?{customData:o}:{},c=le(le({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),a),h=null!=u?u:{};h.customdata;return le(le({},my(h,["customdata"])),{licenseAcquisitionURL:s,headers:c})}function um(t){switch(t.toLowerCase()){case"widevine":case Ce:return Ce;case"playready":case Ie:return Ie;case"fairplay":case xe:return xe}}function sm(t,i){switch(t){case Ee:return function(t){for(var n={},i=pw.Hk(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.FA]=e.XA}return n}(i);case Se:case Re:return function(t){var n;return(n={})[Oe]=t,n}(i);default:throw new To(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}var om=function(t){function n(n){var i;return(i=t.call(this)||this).Zb=void 0,i.pd=new uu,i.Jb=n,i}M(n,t);var i=n.prototype;return i.$b=function(t){t&&(this.Zb=t,this.Kb(this.pd.ko).catch(hu))},i.Kb=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Zb,!b.Rs.Ju){t.next=6;break}return t.next=4,this.tT(n);case 4:if(!t.sent){t.next=6;break}return t.abrupt("return");case 6:if(!i.nT){t.next=10;break}return t.next=9,this.iT(n);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.tT=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o,a,c;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.Zb,r=!1,e=0,u=i.rT;case 3:if(!(e<u.length)){t.next=25;break}s=u[e],o=0,a=s.eT;case 6:if(!(o<a.length)){t.next=20;break}return c=a[o],t.prev=8,t.next=11,this.uT(s.Va.Ys,c,n);case 11:r=!0,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(8),cu(t.t0);case 17:o++,t.next=6;break;case 20:if(!r){t.next=22;break}return t.abrupt("return",!0);case 22:e++,t.next=3;break;case 25:return t.abrupt("return",!1);case 26:case"end":return t.stop()}},t,this,[[8,14]])}));return function(n){return t.apply(this,arguments)}}(),i.sT=function(t,n){return this.uT(t,n,this.pd.ko)},i.ml=function(){return this.Zb=void 0,this.pd.wo(),this.pd=new uu,this.oT()},i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.No(),t.next=3,this.ml();case 3:this.pd.ho();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.aT=function(t,n){if(!this.Zb)return!1;var i=sm(t,n);return Boolean(i[De])},L(n,[{key:"Va",get:function(){return this.cT()}}]),n}(Tu),am=function(t){function n(){return t.call(this,qo.Uc)||this}return M(n,t),n}(Su),cm=function(t){function n(n){var i;return(i=t.call(this,"_h")||this).hT=n,i}return M(n,t),n}(Su),hm=new gy,fm=function(t){function i(i,r,e){var u;return(u=t.call(this)||this).fT=i,u.vT=r,u.dT=e,u.Wi=!1,u.lT=!1,u.pd=new uu,u.wa=function(t){switch(t.Uo){case"license-request":u._T(t.Mo,t.Fo).catch(function(t){return u.Ja(t)});break;default:u.Ja(new s_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Uo))}},u.gT=function(t){u.fT.Da.Yo(function(t,n){switch(t){case"usable":b.sr(function(){u.lT=!0,u.To(new am)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":u.To(new cm(n))}})},u.wT=function(t){u.Ja(new s_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.So("Mo",u.wa),i.So("Lo",u.gT),i.So("Ho",u.wT),u.Ia=i.Ia.then(function(){return u.yT()}),u}M(i,t);var r=i.prototype;return r.ba=function(){var t=this;return this.Wi=!0,hm.xb(function(n){return t.mT(n)},this.pd.ko)},r.mT=function(){var t=T.coroutine(de.mark(function t(i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,au(i),t.next=4,this.vT.kT(this.dT.zo);case 4:return r=t.sent,t.next=7,this.fT.ba(this.dT.Ys,this.dT.zo,r);case 7:if(!this.vT.pT){t.next=10;break}return t.next=10,this.vT.Po("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),cu(t.t0),e=t.t0 instanceof $s?t.t0.fa:void 0,u=new s_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.Ja(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),r._T=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.vT.AT(r),t.prev=1,!Ys(i)){t.next=8;break}return t.next=5,this.vT.bT(new y(i),this.pd.ko);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.vT.TT(new y(i),this.pd.ko);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!ou(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.fT.Sa(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof $s?t.t1.fa:void 0,new s_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.Ja=function(t){var i=t instanceof s_?t:new s_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.To(new yy(i)),this.Aa()},r.yT=function(){this.fT.Do("Mo",this.wa),this.fT.Do("Lo",this.gT),this.fT.Do("Ho",this.wT),this.lT=!1,this.pd.wo()},r.Aa=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.No(),this.yT(),t.next=4,this.fT.Aa().catch(S);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(Tu),vm=[qo.Uc,qo.Mc,qo.lh],dm=function(t){function n(n,i,r){var e;(e=t.call(this)||this).ET=[],e.ST=[],e.Oa=n,e.Jb=r,e.RT=i;var u=i.IT;return u&&gu(n.Pa(u)),e}M(n,t);var i=n.prototype;return i.NT=function(){return this.DT||(this.DT=this.CT()),this.DT},i.CT=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RT.bT(new y(Qs()));case 2:return n=t.sent,t.next=5,this.Oa.Pa(n.buffer);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.OT=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.ST.push(n),t.next=4,this.Oa.xa("temporary");case 4:return i=t.sent,r=new fm(i,this.RT,n),this.ET.push(r),r.So(vm,this.bo),r.Ia.then(function(){return e.xT(r)}),t.abrupt("return",r);case 10:return t.prev=10,Je(this.ST,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.PT=function(t){if(t.BT)return!1;for(var n=0,i=this.ET;n<i.length;n++){if(lm(i[n].dT,t))return!0}for(var r=0,e=this.ST;r<e.length;r++){if(lm(e[r],t))return!0}return!1},i.xT=function(t){t.Do(vm,this.bo),Je(this.ET,t)},i.Rv=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.No(),n=this.ET.slice(),this.ET.length=0,t.next=5,T.all(n.map(function(t){return t.Aa()}));case 5:this.RT.Rv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"LT",get:function(){return this.RT.LT}},{key:"Va",get:function(){return this.RT.Va}},{key:"MT",get:function(){return this.RT.MT}},{key:"UT",get:function(){return this.RT.UT}},{key:"FT",get:function(){return this.RT.FT}}]),n}(Tu);function lm(t,n){return!t.BT&&t.Ys===n.Ys&&Gu(t.zo,n.zo)}var _m=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return M(n,t),n}(Su),gm=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).HT=void 0,s.Va=n,s.LT=i,s.UT=r,s.Ab=e,s.VT=u,s.MT=s.XT(i),s}M(i,t);var r=i.prototype;return r.WT=function(){return this.HT},r.AT=function(t){this.HT=t},r.qT=function(){return this.MT.licenseAcquisitionURL||this.WT()},r.kT=function(t){return T.resolve(void 0)},r.zT=function(){var t=T.coroutine(de.mark(function t(i,r,e,u){var s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.GT(i,r,e,u)).rv){t.next=3;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.Ld.tv(s);case 6:return o=t.sent,t.next=9,o.Pf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),cu(t.t0),t.next=17,this.jT(t.t0,s.rv,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.GT=function(t,n,i,r){var e=this.QT().kh(),u=this.Tv,s={rv:this.YT(),Jf:n,Zf:e,Uf:t,Tv:u,kv:Af.POST,pv:0,ko:r,js:bf.av,Av:i};return new Rf(s)},r._T=function(t,n){return T.resolve(t)},r.ZT=function(t,n,i,r){return T.resolve(t)},r.QT=function(){return new Go(this.MT.headers||{})},r.jT=function(){var t=T.coroutine(de.mark(function t(i,r,e){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.YT=function(t,n){var i=n,r=this.MT.queryParameters;if(!i){var e=this.qT();if(!e)return"";i=e}if(r||t){var u=b.Hu(i);t&&Sr(u,t),r&&Sr(u,r),i=u.href}return i},r.JT=function(t){return function(t,n){var i=n.licenseResponseProcessor;return T.resolve(new y(wm(t,i)))}(t,this.MT)},r.$T=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KT(n,r);case 2:return e=t.sent,t.next=5,this.zT(e,this.VT,i,r);case 5:return u=t.sent,t.next=8,this.JT(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),r.Rv=function(){this.No()},L(i,[{key:"Ld",get:function(){return this.Ab}},{key:"pT",get:function(){return!1}},{key:"IT",get:function(){var t=this.MT.certificate;if(t)return nt(t)?Vu(t):Xs(t)}},{key:"tE",get:function(){return"optional"}},{key:"Xa",get:function(){return!1}},{key:"FT",get:function(){return!1}},{key:"Tv",get:function(){return Boolean(this.MT.useCredentials)}}]),i}(Tu);function wm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function ym(t,n){var i=qs(t).buffer,r=n.licenseRequestProcessor;return T.resolve(wm(i,r))}var mm,km=function(t){function n(n,i,r,e){return t.call(this,Le,n,i,r,e)||this}M(n,t);var i=n.prototype;return i.XT=function(t){return t.widevine||{}},i.bT=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IT){t.next=2;break}return t.abrupt("return",this.IT);case 2:return t.abrupt("return",this.TT(new y(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TT=function(n,i){return t.prototype.$T.call(this,n,Tf.vv,i)},n}(gm);!function(t){t.Ws="Widevine",t.Xs="PlayreadyV2",t.nE="PlayreadyV2",t.iE="PlayreadyV3",t.qs="Fairplay"}(mm||(mm={}));var pm={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function Am(t,n){var i,r,e,u,s=pm[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(i=b.Ss)||void 0===i?void 0:i.Rs,OSVersion:null===(r=b.Ss)||void 0===r?void 0:r.Os,DRMProvider:s.DRMProvider,DRMVersion:s.DRMVersion,DRMType:s.DRMType,DeviceVendor:null===(e=b.Ss)||void 0===e?void 0:e.xs,DeviceModel:null===(u=b.Ss)||void 0===u?void 0:u.Ps}}}function bm(t,i){if(!t.accountName)throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function Tm(t,n,i){var r;if(Ky(t))r={AuthToken:t.authToken,Payload:n};else{if(!tm(t))throw bm(t,i);r={LatensRegistration:Am(t,i),Payload:n}}return Zu(JSON.stringify(r))}function Em(t,n,i){return Sm.apply(this,arguments)}function Sm(){return(Sm=T.coroutine(de.mark(function t(i,r,e){var u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.Hv){t.next=3;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.Of(e);case 7:o=t.sent,a=Rm(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a="";case 14:throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.tv.rv,s.Yf,s.$f,a);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function Rm(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var Im=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,zo.yh)||this).rE=!0,e}M(i,t);var r=i.prototype;return r.jT=function(t,n,i){return Em(t,n,i)},r.KT=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.LT){t.next=3;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=Wu(i),t.abrupt("return",Tm(e,u,mm.Ws));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.JT=function(t){var i;if(!t.license)throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Vu(t.license),T.resolve(i)},r.eE=function(t){return T.resolve(new y(t))},r.bT=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uE(),t.next=3,this.KT(n,i);case 3:return r=t.sent,t.next=6,this.zT(r,zo.wh,Tf.dv,i);case 6:return e=t.sent,t.next=9,this.eE(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.TT=function(){var n=T.coroutine(de.mark(function n(i,r){var e;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.TT.call(this,i,r);case 2:return e=n.sent,this.uE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.uE=function(){this.To(new _m),this.rE=!1},L(i,[{key:"pT",get:function(){return this.rE}},{key:"tE",get:function(){return b.Rs.Ku?"required":"optional"}}]),i}(km),Nm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,zo.wh)||this).AT("https://widevine-proxy.drm.technology/proxy"),e}return M(i,t),i.prototype.KT=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ym(i,this.MT);case 2:if(e=t.sent,u=this.UT,r=new y(e),s=[].slice.call(r),o=this.sE){t.next=8;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(i,[{key:"sE",get:function(){if(nm(this.LT))return this.LT.token}}]),i}(km);function Dm(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=le(le({},i),{SessionId:t.sessionId,Ticket:t.ticket})),le(le({},i),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Cm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,zo.wh)||this).AT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}M(n,t);var i=n.prototype;return i.KT=function(t,n){return ym(t,this.MT)},i.YT=function(n,i){var r=n;return Zy(this.LT)&&(r=Dm(this.LT,r)),t.prototype.YT.call(this,r,i)},n}(km),Om="Conax-Custom-Data";function xm(t,n,i){var r=t&&Yy(t)&&t;if(r&&!i.has(Om)){var e=Fy(r)?r.token:void 0,u=Fy(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Om,s)}return i}var Pm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,zo.wh)||this).AT("https://connect.conax.com:8094/license"),e}M(n,t);var i=n.prototype;return i.KT=function(t,n){return ym(t,this.MT)},i.QT=function(){var n=t.prototype.QT.call(this);return xm(this.LT,"Widevine",n)},n}(km);function Bm(t){var n=Ds(new y(t));return Vu(JSON.parse(n).license)}function Lm(t){return"string"==typeof t.token?t.token:Zu(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function Mm(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var Um=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,zo.wh)||this).AT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}M(n,t);var i=n.prototype;return i.KT=function(t,n){return ym(t,this.MT)},i.JT=function(t){return T.resolve(Bm(t))},i.QT=function(){return Mm(t.prototype.QT.call(this),this.sE,this.LT)},L(n,[{key:"sE",get:function(){return Lm(this.LT)}}]),n}(km),Fm=function(t){function n(n,i,r){return t.call(this,n,i,r,zo.wh)||this}M(n,t);var i=n.prototype;return i.KT=function(t,n){return ym(t,this.MT)},i.QT=function(){var n=t.prototype.QT.call(this),i=this.LT.token;return n.set("Authorization","Bearer "+i),n},n}(km);function Hm(t,n,i,r){return Vm.apply(this,arguments)}function Vm(){return(Vm=T.coroutine(de.mark(function t(i,r,e,u){var s,o,a,c,h,f,v;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(im(i)){t.next=2;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new Go).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),a=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:r,licenseType:c,streamId:a},f={rv:i.ticketAcquisitionURL,Jf:zo.yh,Zf:s,kv:Af.POST,Uf:JSON.stringify(h),ko:u},t.next=13,e.tv(f);case 13:return v=t.sent,t.next=16,v.Of();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Xm=function(t){function n(n,i,r){return t.call(this,n,i,r,zo.yh)||this}M(n,t);var i=n.prototype;return i.QT=function(){var n=t.prototype.QT.call(this);return n.set("Content-Type","application/json"),n},i.KT=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Yu(n.buffer),e=this.LT,t.next=4,Hm(e,"widevine_modular",this.Ld,i);case 4:return u=t.sent,this.AT(u.licenseServerUrl),s=Cs(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",ym(s,this.MT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.JT=function(t){var n=t;return T.resolve(Vu(n.license))},n}(km),Wm=function(t){function i(n,i,r){return t.call(this,n,i,r,zo.wh)||this}M(i,t);var r=i.prototype;return r.KT=function(t,n){return ym(t,this.MT)},r.QT=function(){if(!rm(this.LT))throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.QT.call(this);return i.set("X-AxDRM-Message",this.LT.token),i},i}(km);function qm(t){for(var n=new y(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var zm=function(t){function n(n,i,r){var e;return(e=t.call(this,Be,n,i,r,zo.wh)||this).oE=void 0,e}M(n,t);var i=n.prototype;return i.XT=function(t){return t.playready||{}},i.QT=function(){var n=new Go(this.oE);return n.Ah(t.prototype.QT.call(this)),n},i.aE=function(t){return t.length>=1&&t[0].ou.length>0},i.kT=function(n){var i=this.LT.playready.customData;if(i){var r=qm(i),e=qm('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Wu(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return T.resolve({playready:{ic:e}})}return t.prototype.kT.call(this,n)},i.KT=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ym(n,this.MT);case 2:return r=t.sent,t.abrupt("return",this.cE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cE=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v,d,l,_,g,w;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=null,o=new DataView(n),a=Rs(o,new zs,!0),t.prev=3,c=b.Ye(a),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",s);case 10:for(h=null===(i=c.su("PlayReadyKeyMessage")[0])||void 0===i?void 0:i.su("LicenseAcquisition")[0],f=null!==(r=null==h?void 0:h.su("Challenge"))&&void 0!==r?r:[],this.aE(f)&&(s=Qu(f[0].ku)),v=new Go,d=null!==(u=null===(e=null==h?void 0:h.su("HttpHeaders")[0])||void 0===e?void 0:e.su("HttpHeader"))&&void 0!==u?u:[],l=0;l<d.length;l++)_=d[l],g=_.su("name")[0].ku,w=_.su("value")[0].ku,v.append(g,w);return this.oE=v,t.abrupt("return",s);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.bT=function(t,n){return T.resolve(t)},i.TT=function(n,i){return t.prototype.$T.call(this,n,Tf.lv,i)},L(n,[{key:"Xa",get:function(){return Boolean(this.LT.playready.customData)}}]),n}(gm),Gm=function(){function t(n){this.hE=n,this.fE=t.vE(n)}return t.vE=function(t){return"3"===t.version?mm.iE:mm.nE},t.prototype.dE=function(){var t={};if(this.fE===mm.iE){var n={LatensRegistration:Am(this.hE,mm.iE)};t["X-TITANIUM-DRM-CDATA"]=Zu(JSON.stringify(n))}return t},L(t,[{key:"lE",get:function(){return this.fE}},{key:"Xa",get:function(){return this.fE===mm.nE}}]),t}();var jm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this)._E=new Gm(e.LT),e}M(i,t);var r=i.prototype;return r.kT=function(t){var i=this.LT;if(!this.LT)throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(tm(i)){var r={};return r.playready={ic:Qm(i,this._E.lE)},T.resolve(r)}return T.reject(bm(i,mm.Xs))},r.QT=function(){var n=new Go(this._E.dE());return n.Ah(t.prototype.QT.call(this)),n},r.jT=function(){var t=T.coroutine(de.mark(function t(i,r,e){var u,s,o,a,c,h,f,v;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.Hv){t.next=3;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.Bf(e);case 6:c=t.sent,h=Ds(new y(c)),(f=b.Ye(h))&&(v=Rw(f,"CustomData")).length>0&&(o=JSON.parse(v[0].ku),a=null===(u=o.DrmErr)||void 0===u?void 0:u.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s.Yf,s.$f,a);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.aE=function(t){if(1!==t.length)throw new s_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},L(i,[{key:"Xa",get:function(){return this._E.Xa}}]),i}(zm);function Qm(t,n){var i=Am(t,n),r=i.DeviceInfo.FormatVersion,e=Zu('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=xs(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return xs('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Wu(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Ym,Zm=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AT("https://playready-license.drm.technology/rightsmanager.asmx"),e}M(i,t);var r=i.prototype;return r.aE=function(t){if(1!==t.length)throw new s_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.YT=function(n,i){var r=le(le({},n||{}),{token:this.sE});return t.prototype.YT.call(this,r,i)},L(i,[{key:"sE",get:function(){if(nm(this.LT))return this.LT.token}}]),i}(zm),Jm=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return M(n,t),n.prototype.YT=function(n,i){var r=n;return Zy(this.LT)&&(r=Dm(this.LT,r)),t.prototype.YT.call(this,r,i)},n}(zm),$m=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return M(n,t),n.prototype.QT=function(){var n=t.prototype.QT.call(this);return xm(this.LT,"PlayReady",n)},n}(zm),Km=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).AT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}M(n,t);var i=n.prototype;return i.JT=function(n){return(yr(Ds(new y(n)),"<?xml")?Ym.gE:Ym.Of)===Ym.Of?T.resolve(Bm(n)):T.resolve(t.prototype.JT.call(this,new y(n)))},i.QT=function(){return Mm(t.prototype.QT.call(this),this.sE,this.LT)},L(n,[{key:"sE",get:function(){return Lm(this.LT)}}]),n}(zm);!function(t){t[t.gE=0]="gE",t[t.Of=1]="Of"}(Ym||(Ym={}));var tk,nk=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}M(n,t);var i=n.prototype;return i.QT=function(){var n=t.prototype.QT.call(this);return this.wE&&n.set("Ticket",this.wE),n.set("Content-Type","text/xml"),n},i.KT=function(){var n=T.coroutine(de.mark(function n(i,r){var e,u;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.LT,n.next=3,Hm(e,"playready",this.Ld,r);case 3:return u=n.sent,this.AT(u.licenseServerUrl),this.wE=u.ticket,n.abrupt("return",t.prototype.KT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(zm),ik=function(t){function i(){return t.apply(this,arguments)||this}return M(i,t),i.prototype.QT=function(){if(!rm(this.LT))throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.QT.call(this);return i.set("X-AxDRM-Message",this.LT.token),i},i}(zm);!function(t){t.yh="application/json",t.yE="application/x-www-form-urlencoded",t.mE="application/octet-stream",t.ze="text/plain;charset=UTF-8"}(tk||(tk={}));var rk=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n.Va,i,r,e,u)||this).kE="",s.pE=void 0,s.AE=n.fc,s}M(n,t);var i=n.prototype;return i.bE=function(){return this.MT.certificateURL||this.pE},i.TE=function(t){this.pE=t},i.KT=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.EE(n,this.kE));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.EE=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent(Wu(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.XT=function(t){return t.fairplay||{}},i.SE=function(t){var n=t.indexOf("?");if(n>=0)return T.resolve(t.substr(n+1));var i=t.split("/");return T.resolve(i[i.length-1])},i.kT=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!==(i=this.AE)&&void 0!==i?i:Bs(new y(n)),t.next=3,this.SE(r);case 3:return e=t.sent,this.kE=e,(u={}).fairplay={fc:e},t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.QT=function(){var n=t.prototype.QT.call(this);return n.set("Content-Type",this.RE),n},i.bT=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IT){t.next=2;break}return t.abrupt("return",this.IT);case 2:return t.next=4,this.IE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TT=function(n,i){return t.prototype.$T.call(this,n,Tf.hv,i)},i.NE=function(t){var n=this.bE(),i=this.QT(),r={rv:n,Jf:zo.wh,Zf:i,kv:Af.GET,Tv:!1,Uf:null,pv:0,ko:t,js:bf.av,Av:Tf.fv};return new Rf(r)},i.IE=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.NE(n),t.next=3,this.Ld.tv(i);case 3:return r=t.sent,t.next=6,r.Bf();case 6:return e=t.sent,t.abrupt("return",new y(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.JT=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Vu(i)}else n=new y(t);return T.resolve(n)},i.YT=function(n,i){var r=t.prototype.YT.call(this,n,i);return yr(r,"skd:")&&(r=r.substr("skd:".length)),r},L(n,[{key:"FT",get:function(){return!0}},{key:"RE",get:function(){return tk.yE}}]),n}(gm),ek=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,zo.wh)||this}M(n,t);var i=n.prototype;return i.SE=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.KT=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.JT=function(t){return T.resolve(new y(t))},i.YT=function(n,i){var r=n||{};return r.p1=Yt(),t.prototype.YT.call(this,r,i)},L(n,[{key:"RE",get:function(){return tk.mE}}]),n}(rk),uk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,zo.wh)||this).AT("https://fairplay-license.drm.technology/license"),u.TE("https://fairplay-license.drm.technology/certificate"),u}M(i,t);var r=i.prototype;return r.EE=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.sE,contentId:i,payload:Wu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.JT=function(t){return T.resolve(new y(t))},r.QT=function(){var n=t.prototype.QT.call(this);return n.set("x-vudrm-token",this.sE),n},L(i,[{key:"RE",get:function(){return tk.yh}},{key:"sE",get:function(){if(!nm(this.LT))throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.LT.token}}]),i}(rk),sk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",ok="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",ak=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.wh)||this}return M(i,t),i.prototype.JT=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,sk)}if(!i)throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,ok);return i}(Ds(new DataView(i)));return t.prototype.JT.call(this,r)},i}(rk);var ck=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.yh)||this}M(i,t);var r=i.prototype;return r.KT=function(){var t=T.coroutine(de.mark(function t(i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.LT){t.next=3;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Wu(i),t.abrupt("return",Tm(r,e,mm.qs));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.JT=function(t){try{var i;if(nt(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Qu(i.license);return T.resolve(new y(e))}return T.reject(new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return T.reject(new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.jT=function(t,n,i){return Em(t,n,i)},L(i,[{key:"RE",get:function(){return tk.yh}}]),i}(rk),hk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,zo.wh)||this).AT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),u.TE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),u}M(n,t);var i=n.prototype;return i.bE=function(){var n=t.prototype.bE.call(this);if(!n)return n;var i=b.Hu(n),r=this.LT;return Zy(r)&&Sr(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.SE=function(){var n=T.coroutine(de.mark(function n(i){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Zy(this.LT)){n.next=2;break}return n.abrupt("return",this.LT.contentId);case 2:return n.abrupt("return",t.prototype.SE.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.KT=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.JT=function(t){return T.resolve(new y(t))},i.YT=function(n,i){var r=n;return Zy(this.LT)&&(r=function(t,n){return le(le({},Dm(t,n)),{KeyId:t.keyId})}(this.LT,r)),t.prototype.YT.call(this,r,i)},L(n,[{key:"RE",get:function(){return tk.mE}}]),n}(rk),fk=function(t){function i(i,r,e,u){var s;if(s=t.call(this,i,r,e,u,zo.ze)||this,!Yy(r))throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return s.AT("https://connect.conax.com:8097/license"),s}M(i,t);var r=i.prototype;return r.QT=function(){var n=t.prototype.QT.call(this);return xm(this.LT,"FairPlay",n)},r.IE=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.bE(),r={rv:i,Jf:zo.wh,Zf:{},kv:Af.GET,Tv:!1,Uf:null,pv:0,ko:n,js:bf.av,Av:Tf.fv},t.next=4,this.Ld.tv(r);case 4:return e=t.sent,t.next=7,e.Bf();case 7:return u=t.sent,t.abrupt("return",new y(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.KT=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.SE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),T.resolve(Ds(Vu(n)))):T.resolve("unknown")},r.JT=function(t){try{var n=JSON.parse(t);return T.resolve(new y(Qu(n.CkcMessage)))}catch(t){return T.reject("CFLRW-66")}},i}(rk),vk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,zo.ze)||this).AT(Wy[be.qs]),u}M(i,t);var r=i.prototype;return r.SE=function(t){return 0===t.indexOf("skd://")?T.resolve(t.substring("skd://".length,40)):T.reject(new s_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.EE=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+Wu(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(rk),dk=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,zo.ze)||this).AT("https://lic.drmtoday.com/license-server-fairplay/"),u}M(n,t);var i=n.prototype;return i.EE=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent(Wu(n))+"&"+encodeURI(i),"persistent"!==this.MT.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.QT=function(){return Mm(t.prototype.QT.call(this),this.sE,this.LT)},L(n,[{key:"sE",get:function(){return Lm(this.LT)}}]),n}(rk),lk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,zo.wh)||this}M(n,t);var i=n.prototype;return i.SE=function(t){var n=t;return yr(n,"skd:")&&(n="http:"+n.substring(4)),yr(n,"http:")||yr(n,"https:")?T.resolve(b.Hu(n).hostname):T.reject(new f("Could not parse ExpressPlay FairPlay content ID."))},i.KT=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.JT=function(t){return T.resolve(new y(t))},L(n,[{key:"RE",get:function(){return tk.mE}}]),n}(rk),_k=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,zo.ze)||this}return M(n,t),n.prototype.QT=function(){var n=t.prototype.QT.call(this),i=this.LT.token;return n.set("Authorization","Bearer "+i),n},n}(rk),gk=function(t){function n(n,i,r,e){var u;if(u=t.call(this,n,i,r,e,zo.yh)||this,!im(i))throw new f("Invalid Xstream DRM configuration");return u}M(n,t);var i=n.prototype;return i.IE=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.bE(),r=this.QT(),e={rv:i,Jf:zo.yh,Zf:r,kv:Af.POST,ko:n,js:bf.av,Av:Tf.fv},t.next=5,this.Ld.tv(e);case 5:return u=t.sent,t.next=8,u.Of();case 8:return s=t.sent,t.abrupt("return",new y(Vu(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.TT=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=zo.ze),e=Wu(n),u=this.LT,t.next=5,Hm(u,"fairplay",this.Ld,i);case 5:return s=t.sent,o=Cs(JSON.stringify({spc:e,ticket:s.ticket})),a={rv:this.qT(),Jf:zo.yh,Zf:this.QT(),kv:Af.POST,Uf:o,pv:0,ko:i,js:bf.av,Av:Tf.hv},t.next=10,this.Ld.tv(a);case 10:return c=t.sent,t.next=13,c.Of();case 13:return h=t.sent,t.abrupt("return",Vu(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"RE",get:function(){return tk.yh}}]),n}(rk),wk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.ze)||this}M(i,t);var r=i.prototype;return r.EE=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Wu(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.JT=function(i){if(0===i.length)throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.JT.call(this,i)},r.QT=function(){var n=t.prototype.QT.call(this);return n.set("Content-Type","text/plain"),n},i}(rk),yk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,zo.wh)||this}M(i,t);var r=i.prototype;return r.EE=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.JT=function(t){return T.resolve(new y(t))},r.QT=function(){if(!rm(this.LT))throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.QT.call(this);return i.set("X-AxDRM-Message",this.LT.token),i},L(i,[{key:"RE",get:function(){return tk.yh}}]),i}(rk),mk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,zo.yh)||this).DE=void 0,u}M(i,t);var r=i.prototype;return r.EE=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:Wu(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.SE=function(t){var i=b.Hu(t);return this.DE=t,i.searchParams.has("b")?T.resolve(i.searchParams.get("b")):T.reject(new s_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.YT=function(n,i){var r=this.qT();return!r&&this.DE&&(r=this.DE),r&&(r=r.replace("skd://","https://")),t.prototype.YT.call(this,n,i||r)},r.JT=function(){var t=T.coroutine(de.mark(function t(i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=nt(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Vu(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),L(i,[{key:"RE",get:function(){return tk.ze}}]),i}(rk),kk=function(){function t(t,n){this.CE=t,this.OE=n}var n=t.prototype;return n.xE=function(t){return this.CE(t)},n.PE=function(t,n){throw new v(n+" must be "+this.OE+". (Received: "+t+")")},t}(),pk=new kk(ut,"a number"),Ak=new kk(nt,"a string"),bk=new kk(it,"a boolean");var Tk,Ek=(Tk={responseCode:pk,isException:bk,description:Ak,title:Ak,correlationId:Ak},{xE:function(t){if(!K(t))return!1;for(var n=0,i=d.keys(Tk);n<i.length;n++){var r=i[n];if(!Tk[r].xE(t[r]))return!1}return!0},PE:function(t,n){if(!K(t))throw new v(n+" must be an object.");for(var i=0,r=d.keys(Tk);i<r.length;i++){var e=r[i],u=Tk[e];if(!u.xE(t[e]))return u.PE(t[e],n+"."+e)}throw new v}});function Sk(t,n,i,r,e){return Rk.apply(this,arguments)}function Rk(){return(Rk=T.coroutine(de.mark(function t(n,i,r,e,u){var s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Ik(n,i,r,u),t.next=3,Nk(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ik(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},u=decodeURIComponent(function(t,n){var i=b.Hu(t);return Sr(i,n),i.toString()}(i,e)),s=new Go({});s.append("Content-Type","application/json");var o=Wu(t),a={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{rv:u,Jf:zo.ze,Zf:s,kv:Af.POST,Uf:JSON.stringify(a),ko:r,js:bf.av,Av:Tf.hv}}function Nk(t,n){return Dk.apply(this,arguments)}function Dk(){return(Dk=T.coroutine(de.mark(function t(i,r){var e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.tv(i);case 2:return e=t.sent,t.next=5,e.Of();case 5:if(u=t.sent,!Ek.xE(u)){t.next=8;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.rv,u.responseCode);case 8:return t.abrupt("return",Vu(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var Ck=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,zo.wh)||this).BE=i,u}M(n,t);var i=n.prototype;return i.SE=function(n){var i=n.replace("FairPlay",this.BE.releasePid);return t.prototype.SE.call(this,i)},i.TT=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sk(n,this.BE,this.qT(),this.Ld,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(rk),Ok=function(t){function i(n,i,r){return t.call(this,Ue,n,i,r,zo.wh)||this}M(i,t);var r=i.prototype;return r.XT=function(t){return t.clearkey||{}},r.KT=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ym(n,this.MT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.zT=function(){var i=T.coroutine(de.mark(function i(r,e,u,s){var o,a;return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.MT,!this.qT()){i.next=5;break}return i.abrupt("return",t.prototype.zT.call(this,r,this.VT,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return a={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Cs(JSON.stringify(a)).buffer);case 10:throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.bT=function(t,n){return T.resolve(new y(0))},r.TT=function(n,i){return t.prototype.$T.call(this,n,Tf._v,i)},i}(gm),xk=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.KT=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ym(n,this.MT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(km),Pk={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Bk(t,n,i){return Lk.apply(this,arguments)}function Lk(){return(Lk=T.coroutine(de.mark(function t(n,i,r){var e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Zk(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,fu(T.resolve(u.call(n,e)),r);case 8:if(!Vs(s=t.sent)){t.next=11;break}return t.abrupt("return",Xs(s));case 11:return t.abrupt("return",Yk(le(le({},Pk),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Mk(t,n,i,r,e){return Uk.apply(this,arguments)}function Uk(){return(Uk=T.coroutine(de.mark(function t(n,i,r,e,u){var s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=Qk(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,fu(T.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Xs(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Fk(t,n,i,r){return Hk.apply(this,arguments)}function Hk(){return(Hk=T.coroutine(de.mark(function t(n,i,r,e){var u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wk(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",Yk(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Vk(t,n,i,r,e,u){return Xk.apply(this,arguments)}function Xk(){return(Xk=T.coroutine(de.mark(function t(n,i,r,e,u,s){var o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=jk(r,u),t.next=3,zk(n,new y(i),o,e,s);case 3:return a=t.sent,t.abrupt("return",Xs(a).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Wk(t,n,i,r){return qk.apply(this,arguments)}function qk(){return(qk=T.coroutine(de.mark(function t(n,i,r,e){var u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=jk(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",T.resolve(s));case 5:return t.next=8,fu(T.resolve(u.call(n,s)),e);case 8:if(!Vs(o=t.sent)){t.next=11;break}return t.abrupt("return",Xs(o).buffer);case 11:return t.abrupt("return",le(le({fairplaySkdUrl:void 0},Pk),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zk(t,n,i,r,e){return Gk.apply(this,arguments)}function Gk(){return(Gk=T.coroutine(de.mark(function t(n,i,r,e,u){var s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=Qk(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",T.resolve(i));case 5:return t.next=8,fu(T.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",Xs(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function jk(t,n){return le(le({},Zk(t)),{fairplaySkdUrl:n})}function Qk(t,n,i){return{url:i.nv,status:i.Yf,statusText:i.$f,headers:i.Zf.kh(),body:t,request:n}}function Yk(t){return new Rf({rv:t.url,kv:t.method,Zf:t.headers,Uf:t.body,Tv:t.useCredentials})}function Zk(t){var n;return{url:t.rv,body:null!==(n=Jk(t.Uf))&&void 0!==n?n:null,headers:t.Zf.kh(),method:t.kv,useCredentials:t.Tv}}function Jk(t){if(t)return"string"==typeof t?Cs(t):t instanceof ArrayBuffer?new y(t):zu(t)?Hs(t):void 0}var $k=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).LE=e,u}M(i,t);var r=i.prototype;return r.bT=function(t,n){return T.resolve(t)},r.TT=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cE(qs(i).buffer);case 2:return e=t.sent,u=this.GT(e,zo.wh,Tf.lv,r),t.next=6,Fk(this.LE,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new y(s));case 10:if(""!==s.rv){t.next=12;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.Ld.tv(s);case 15:return o=t.sent,t.next=18,o.Bf(r);case 18:return a=t.sent,t.t0=y,t.next=22,Vk(this.LE,a,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),cu(t.t2),new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(zm),Kk=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,zo.wh)||this).LE=e,u}M(i,t);var r=i.prototype;return r.bT=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IT){t.next=2;break}return t.abrupt("return",this.IT);case 2:return e=this.GT(i,zo.wh,Tf.dv,r),t.next=5,Bk(this.LE,e,r);case 5:if(!((u=t.sent)instanceof y)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.rv){t.next=11;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.Ld.tv(u);case 14:return s=t.sent,t.next=17,s.Bf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),cu(t.t0),new s_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return a=jk(e,void 0),t.next=27,Mk(this.LE,new y(o),a,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.TT=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.GT(i,zo.wh,Tf.vv,r),t.next=3,Fk(this.LE,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(u));case 7:if(""!==u.rv){t.next=9;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Ld.tv(u);case 12:return s=t.sent,t.next=15,s.Bf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),cu(t.t0),new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=y,t.next=25,Vk(this.LE,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(xk),tp=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e,zo.wh)||this).LE=u,s}M(i,t);var r=i.prototype;return r.bT=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.IT){t.next=2;break}return t.abrupt("return",this.IT);case 2:return e=this.NE(r),t.next=5,Bk(this.LE,e,r);case 5:if(u=t.sent,!zu(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.Ld.tv(u);case 11:return s=t.sent,t.next=14,s.Bf();case 14:return o=t.sent,a=jk(e,void 0),t.next=18,Mk(this.LE,new y(o),a,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),cu(t.t0),new s_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.TT=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.GT(i,zo.wh,Tf.hv,r),t.next=3,Fk(this.LE,e,this.ME,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new y(u));case 7:if(""!==u.rv){t.next=9;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.Ld.tv(u);case 12:return s=t.sent,t.next=15,s.Bf(r);case 15:return o=t.sent,t.t0=y,t.next=19,Vk(this.LE,o,e,s,this.ME,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),cu(t.t2),new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.SE=function(){var n=T.coroutine(de.mark(function n(i){var r;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.ME=i,!(null===(r=this.LE)||void 0===r?void 0:r.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",T.resolve(this.LE.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.SE.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(rk),np=function(){function t(){}var n=t.prototype;return n.UE=function(t,n){return new dm(t,n,this)},n.FE=function(t,n,i,r){switch(t.Va.js){case be.Ws:return this.HE(n,i,r);case be.Xs:return this.VE(n,i,r);case be.qs:return this.XE(t,n,i,r);case be.zs:default:return this.WE(n,i,r)}},n.HE=function(t,n,i){var r,e=(r=t).integration===Ly&&nt(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Xy.Yb.Gb(e,Ce)){var u=Xy.Yb.Qb(e,Ce,t);return new Kk(t,n,i,u)}switch(e){case py:return new Im(t,n,i);case Ey:return new Nm(t,n,i);case Ty:return new Cm(t,n,i);case Ay:return new Pm(t,n,i);case Iy:return new Um(t,n,i);case Dy:return new Fm(t,n,i);case Cy:return new Xm(t,n,i);case xy:return new Wm(t,n,i);case Ry:default:return new xk(t,n,i,zo.wh)}},n.VE=function(t,n,i){var r=t.integration;if(r&&Xy.Yb.Gb(r,Ie)){var e=Xy.Yb.Qb(r,Ie,t);return new $k(t,n,i,e)}switch(r){case py:return new jm(t,n,i);case Ey:return new Zm(t,n,i);case Ty:return new Jm(t,n,i);case Ay:return new $m(t,n,i);case Iy:return new Km(t,n,i);case Cy:return new nk(t,n,i);case xy:return new ik(t,n,i);case Ry:default:return new zm(t,n,i)}},n.XE=function(t,n,i,r){var e=n.integration;if(e&&Xy.Yb.Gb(e,xe)){var u=Xy.Yb.Qb(e,xe,n);return new tp(t,n,i,r,u)}switch(e){case by:return new ek(t,n,i,r);case Ey:return new uk(t,n,i,r);case Sy:return new ak(t,n,i,r);case py:return new ck(t,n,i,r);case Ty:return new hk(t,n,i,r);case Ay:return new fk(t,n,i,r);case Ry:return new vk(t,n,i,r);case Iy:return new dk(t,n,i,r);case Ny:return new lk(t,n,i,r);case Dy:return new _k(t,n,i,r);case Cy:return new gk(t,n,i,r);case Oy:return new wk(t,n,i,r);case xy:return new yk(t,n,i,r);case Py:return new mk(t,n,i,r);case By:return new Ck(t,n,i,r);default:return new rk(t,n,i,r,zo.ze)}},n.WE=function(t,n,i){return new Ok(t,n,i)},n.qE=function(t){return t.js===be.Xs||t.js===be.Ws||t.js===be.qs||t.js===be.zs},t}();function ip(t,n){switch(n){case be.Ws:return t.widevine;case be.Xs:return t.playready;case be.qs:return t.fairplay;default:return}}var rp,ep=function(t){function i(n,i,r){var e;return void 0===r&&(r=new np),(e=t.call(this,r)||this).zE=void 0,e.da=void 0,e.GE=new gy,e.jE=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sT(n.Ys,n.zo);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),ou(t.t0)||e.Ja(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),e.QE=function(t){e.To(t)},e.YE=function(t){e.To(t),e.To(new ql(t.errorObject))},e.ZE=n,e.Ab=i,e.ZE.So(bu.Vo,e.jE),e}M(i,t);var r=i.prototype;return r.cT=function(){var t;return null===(t=this.da)||void 0===t?void 0:t.Va},r.Ba=function(t){if(this.zE)throw new f("Invalid state");this.zE=t},r.$b=function(n){if(!this.zE)throw new f("Invalid state");t.prototype.$b.call(this,n)},r.uT=function(){var t=T.coroutine(de.mark(function t(i,r,e){var u,s,o,a,c,h,f,v,d,l,_;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Zb&&this.Zb.rT.length){t.next=5;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(u=this.Zb,i===Ee||i===Re||i===Se){t.next=9;break}return t.abrupt("return");case 9:s=sm(i,r),a=0,c=u.rT;case 11:if(!(a<c.length)){t.next=42;break}if(h=c[a],au(e),(f=s[h.Va.Zs])&&h.Va.Ys===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.JE(h.Va,e);case 20:if(!(v=t.sent).FT){t.next=24;break}return t.next=24,v.NT();case 24:if(d=this.ZE.Ig,l={Ys:h.Va.Ys,zo:f,BT:d},!this.$E(v,l)){t.next=32;break}return t.next=29,v.OT(l);case 29:return _=t.sent,t.next=32,_.ba();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),cu(t.t0),o=t.t0;case 39:a++,t.next=11;break;case 42:return t.next=44,b.gs();case 44:if(!t.sent){t.next=48;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new s_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.$E=function(t,n){return b.Rs.Zu||!t.PT(n)},r.iT=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Zb){t.next=3;break}return t.abrupt("return");case 3:r=0,e=i.rT;case 4:if(!(r<e.length)){t.next=23;break}return u=e[r],au(n),t.prev=7,t.next=10,this.JE(u.Va,n);case 10:if(!(s=t.sent).FT){t.next=14;break}return t.next=14,s.NT();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),cu(t.t0);case 20:r++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.JE=function(t,n){var i=this;return this.GE.xb(function(n){return i.KE(t,n)},n)},r.KE=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),this.Zb){t.next=3;break}throw new f("Not initialized");case 3:if(!this.da){t.next=7;break}if(this.da.Va===n){t.next=6;break}throw new f("Internal key system error");case 6:return t.abrupt("return",this.da);case 7:if(this.Jb.qE(n)){t.next=9;break}throw new f("Unsupported "+n.$s+" key system");case 9:if(r=this.tS(n)){t.next=12;break}throw new f("Missing configuration for "+n.$s+" key system");case 12:return e=this.Zb,u=this.Jb.FE(r,e.LT,e.nS.UT,this.Ab),t.next=16,this.Fa(n,r,u,i);case 16:return s=t.sent,(o=this.Jb.UE(s,u)).So(qo.Uc,this.QE),o.So(qo.Mc,this.YE),o.So(qo.lh,this.bo),this.da=o,t.abrupt("return",o);case 23:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.Fa=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v,d;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.Zb,s=n.Ys,o=ip(u.LT,i.Va.js),a=(null==o?void 0:o.persistentState)||r.tE,c=(null==o?void 0:o.distinctiveIdentifier)||void 0,h=Boolean(null==o?void 0:o.audioRobustness)||Boolean(null==o?void 0:o.videoRobustness),f=i.Va.js===be.Ws,t.prev=7,au(e),v=up(u,s,a,c,r.Xa,u.nS.iS,(null==o?void 0:o.audioRobustness)||(f?"SW_SECURE_CRYPTO":void 0),(null==o?void 0:o.videoRobustness)||(f?"SW_SECURE_CRYPTO":void 0)),t.next=12,this.zE.rS(n,[v]);case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(7),cu(t.t0),au(e),f){t.next=21;break}throw t.t0;case 21:if(!h){t.next=23;break}throw t.t0;case 23:return d=up(u,s,a,c,r.Xa,u.nS.iS,void 0,void 0),t.next=26,this.zE.rS(n,[d]);case 26:return t.abrupt("return",t.sent);case 27:case"end":return t.stop()}},t,this,[[7,15]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),r.tS=function(t){if(this.Zb)for(var n=0,i=this.Zb.rT;n<i.length;n++){var r=i[n];if(r.Va===t)return r}},r.Ja=function(t){var i=t instanceof s_?t:new s_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.YE(new yy(i))},r.eS=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.GE.wo();case 2:if(!(n=this.da)){t.next=8;break}return n.Do(qo.lh,this.bo),this.da=void 0,t.next=8,n.Rv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.oT=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zE=void 0,t.next=3,this.eS();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Rv=function(){var n=T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.ZE.Do(bu.Vo,this.jE),n.next=3,t.prototype.Rv.call(this);case 3:return n.next=5,this.GE.Rv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(om);function up(t,n,i,r,e,u,s,o){return{initDataTypes:[n],audioCapabilities:sp(t.uS,u,s),videoCapabilities:sp(t.sS,u,o),persistentState:i,distinctiveIdentifier:r,Xa:e}}function sp(t,n,i){if(0!==t.length){var r=t.map(function(t){return{contentType:t,encryptionScheme:n,robustness:i}});return n&&(r=r.concat(t.map(function(t){return{contentType:t,robustness:i}}))),r}}!function(t){t[t.oS=0]="oS",t[t.aS=1]="aS"}(rp||(rp={}));var op=t,ap=op.MediaSource,cp=op.WebKitMediaSource,hp=op.TextTrack,fp=e&&e.createElement("video"),vp=(e&&e.documentElement.style,j.ee&&j.xe&&j.Pe<=26),dp=(j.ye,!!m),lp=!(!ap&&!cp),_p=!!hp,gp=(e&&(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)||j._e,j.Ne&&j.De,fp&&fp.canPlayType&&(""!==fp.canPlayType("application/vnd.apple.mpegURL")||j.oe&&!j.Ne&&j.ae>=4)),wp=fp&&fp.canPlayType&&""!==fp.canPlayType("video/mp4")&&!vp,yp=lp&&!j.Ce&&!j.Se&&!j.Ee&&((ap||cp).isTypeSupported?(ap||cp).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):fp&&fp.canPlayType&&""!==fp.canPlayType('audio/mp4; codecs="mp4a.40.34"')),mp=lp&&!j.Ce&&(yp||((ap||cp).isTypeSupported?(ap||cp).isTypeSupported("audio/mpeg"):fp&&fp.canPlayType&&""!==fp.canPlayType("audio/mpeg"))),kp=lp&&!(j.Ie&&j.ee)&&((ap||cp).isTypeSupported?(ap||cp).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):wp),pp=(j.Ce||j.Se||j.Ee,j.Re),Ap=pp&&!1,bp=!j.Ce,Tp=j.Se&&j.ue&&j.se<=6.1,Ep=fp&&"onresize"in fp;try{r&&r.top!==r.self}catch(t){!0}var Sp,Rp=.001,Ip=1e4,Np=3,Dp=function(t){function n(n){var i;return(i=t.call(this,Sl.T_)||this).currentTime=n,i}return M(n,t),n}(Su),Cp=function(t){function n(n){var i;return(i=t.call(this,Sl.E_)||this).currentTime=n,i}return M(n,t),n}(Su),Op=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).cS=n,r.hS=i,r.fS=al.__,r.vS=!0,r.dS=!1,r.lS=!1,r._S=function(t){var n=t.readyState;n!==r.fS&&r.To(t),n===al.__&&(r.dS=!1,r.lS=!1),r.gS(n),r.wS(n),r.yS(n),r.maybeDispatchCanPlayThroughEvent(n),r.mS(n),r.kS(n),r.fS=n},r.pS=function(){r.kS(r.fS),r.mS(r.fS),r.vS=r.cS.C_},r.AS=function(){r.vS=r.cS.C_},r.cS.So(Sl.ul,r._S),r.cS.So(qo.$c,r.pS),r.cS.So(qo.Jc,r.AS),r.hS&&r.cS.So(Sl.E_,r.bo),r}M(n,t);var i=n.prototype;return i.gS=function(t){!this.lS&&t>=al.g_&&(this.lS=!0,this.To(new Ol(this.cS.S_,t)))},i.wS=function(t){!this.dS&&t>=al.w_&&(this.dS=!0,this.To(new Ml(this.cS.S_,t)))},i.mS=function(t){this.hS||(t>=al.y_&&this.fS<al.y_&&!this.cS.C_||this.bS&&t>=al.y_)&&this.To(new Cp(this.cS.S_))},i.kS=function(t){!this.TS(t)||this.cS.I_||this.cS.Ho||this.To(new Dp(this.cS.S_))},i.yS=function(t){this.fS<=al.w_&&t>=al.y_&&this.To(new Vl(this.cS.S_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===al.m_&&this.To(new Xl(this.cS.S_,t))},i.TS=function(t){var n=!this.cS.C_&&t<=al.w_,i=!this.vS&&this.fS<=al.w_;return n&&!i},i.ml=function(){this.fS=al.__,this.vS=!0,this.dS=!1,this.lS=!1},i.Rv=function(){this.No(),this.hS&&this.cS.Do(Sl.E_,this.bo),this.cS.Do(qo.$c,this.pS),this.cS.Do(qo.Jc,this.AS),this.cS.Do(Sl.ul,this._S)},L(n,[{key:"bS",get:function(){return!this.cS.C_&&this.vS}}]),n}(Tu);!function(t){t.ES="nokey",t.SS="keyexpired",t.RS="sessionnotopened",t.IS="insufficientoutputprotection",t.NS="insufficientsecurity",t.DS="frametoolarge",t.CS="loststate",t.OS="resourcebusy",t.xS="unsupportedoperation"}(Sp||(Sp={}));var xp,Pp,Bp=[Sp.xS,Sp.OS,Sp.CS,Sp.DS,Sp.NS,Sp.IS,Sp.RS,Sp.SS,Sp.ES],Lp=[qo.Uc,qo.Mc,Wd.Vl];[].concat(vm,[Wd.Vl],Bp);!function(t){t.yv="video",t.wv="audio"}(xp||(xp={})),function(t){t[t.PS=0]="PS",t[t.BS=1]="BS",t[t.LS=2]="LS",t[t.MS=3]="MS",t[t.a_=4]="a_",t[t.US=5]="US",t[t.l_=6]="l_",t[t.FS=7]="FS",t[t.HS=8]="HS"}(Pp||(Pp={}));var Mp,Up=function(){function t(){}return t.prototype.VS=function(t){},L(t,[{key:"XS",get:function(){return 0}},{key:"WS",get:function(){return 0}}]),t}();function Fp(){return Mp||(Mp=Cr&&Cr.document&&Cr.document.createElement("video")),Mp}var Hp=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new np),void 0===o&&(o=Uo()),(a=t.call(this)||this).zE=void 0,a.qS=void 0,a.zS=void 0,a.GS=void 0,a.jS=new Up,a.QS=function(t){var n=t.Ho,i=n.code,r=new To(h_(i),"Something went wrong during native playback.",n);a.qS=new o_(i,r.message,n.message),a.zS=r,a.To(new ql(r))},a.YS=function(){a.To(new Bl(a.S_,a.Sg))},a.ZS=function(t){a.C_||(a.GS=void 0),a.To(t)},a.JS=function(t){a.GS=void 0,a.To(t)},a.$S=function(){a.To(new R_(a.Ig))},a.KS=function(){a.B_>0&&a.P_>0&&a.To(new _y)},a.tR=function(t){a.j_.gl(new p_(t.track))},a.nR=function(t){var n=Wp(a.j_,t.track);n&&a.j_.wl(n)},a.iR=function(){a.rR(a.j_)},a.eR=function(t){a.Q_.gl(new S_(t.track))},a.uR=function(t){var n=Wp(a.Q_,t.track);n&&a.Q_.wl(n)},a.sR=function(){a.rR(a.Q_)},a.oR=function(t){t.type===qo.Mc&&(a.qS=c_(t.errorObject),a.zS=t.errorObject),a.bo(t)},a.aR=i,a.Ab=r,a.io=o,a.ZE=a.aR.cR(f_.yv),a.hR=a.ZE.fR.preload,a.Jb=s,a.vR=new Op(a.ZE,!0),a.vR.So(Cl,a.bo),a.dR=new ep(a.ZE,a.Ab,a.Jb),a.dR.So(Lp,a.oR),a.lR(),a.j_=new v_,a.Q_=new v_,a._R(),a.gR=new cy(a.ZE,a.Ab),a.Y_=new Jd,a._g(),a}M(n,t);var i=n.prototype;return i.gg=function(){this.ZE.gg()},i._g=function(){this.ZE._g()},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),e={js:rp.oS,jl:n.src,Mf:n.type,wR:[],Mg:this.hR,yR:n.crossOrigin,mR:i.metadata&&i.metadata.title},t.next=4,this.ZE.Ta(e);case 4:return this.zE=t.sent,au(r),t.next=8,this.dR.ml();case 8:this.dR.Ba(this.zE),this.dR.$b(this.kR(n)),this.Y_.Rl=this.ZE.ig,i.textTracks&&this.pR(i.textTracks),ly(this.ig);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.pR=function(t){for(var n,i=0;i<t.length;i++){var r=t[i];if(this.ZE.AR()&&j._e&&_p&&!iy(r.kind,r.label)&&this.bR(r)){var e=null!==(n=r.kind)&&void 0!==n?n:Ww.vb;this.ZE.TR(r.src,e,r.label,r.srclang)}else{if(void 0===r.src)continue;this.gR.bb(r)}}},i.bR=function(t){return!t.format||"webvtt"===t.format},i.eg=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ZE.eg();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.ER){t.next=12;break}return t.next=10,this.ZE.Po(qo.Kc);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.ug=function(){this.ZE.ug()},i.cg=function(){return void 0!==this.ZE.fR.webkitShowPlaybackTargetPicker},i.hg=function(){this.ZE.fR.webkitShowPlaybackTargetPicker&&this.ZE.fR.webkitShowPlaybackTargetPicker()},i.fg=function(){this.ZE.fR.webkitShowPlaybackTargetPicker&&this.ZE.fR.webkitShowPlaybackTargetPicker()},i.wg=function(){return this.ZE.fR},i.yg=function(){return this.ZE.SR},i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.qS=void 0,this.zS=void 0,this.zE&&(this.zE=void 0),t.next=5,this.gR.ml();case 5:return this.Y_.ml(),this.ZE.RR(),t.next=9,this.ZE.ml();case 9:return this.vR.ml(),t.next=12,this.dR.ml();case 12:this.Mg=this.hR,this.tg.ml(),this.ng.ml(),this.GS=void 0;case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ml();case 2:return this.No(),this.IR(),this.NR(),t.next=7,this.dR.Rv();case 7:return this.vR.Rv(),t.next=10,this.aR.DR(this.ZE);case 10:return this.j_.Rv(),this.Q_.Rv(),this.Y_.Rv(),t.next=15,this.gR.Rv();case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.lR=function(){this.ZE.So(qo.$c,this.bo),this.ZE.So(qo.Jc,this.bo),this.ZE.So(qo.vh,this.YS),this.ZE.So(qo.Kc,this.bo),this.ZE.So(qo.Gc,this.bo),this.ZE.So(qo.eh,this.bo),this.ZE.So(qo.rh,this.ZS),this.ZE.So(qo.Wc,this.bo),this.ZE.So(qo.th,this.bo),this.ZE.So(qo.dh,this.bo),this.ZE.So(qo.Vc,this.bo),this.ZE.So(qo.ih,this.KS),this.ZE.So(Sl.E_,this.JS),this.ZE.So(Wd.Vl,this.QS),this.ZE.fR.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.$S)},i.IR=function(){this.ZE.Do(qo.$c,this.bo),this.ZE.Do(qo.Jc,this.bo),this.ZE.Do(qo.vh,this.YS),this.ZE.Do(qo.Kc,this.bo),this.ZE.Do(qo.Gc,this.bo),this.ZE.Do(qo.eh,this.bo),this.ZE.Do(qo.rh,this.ZS),this.ZE.Do(qo.Wc,this.bo),this.ZE.Do(qo.th,this.bo),this.ZE.Do(qo.dh,this.bo),this.ZE.Do(qo.Vc,this.bo),this.ZE.Do(qo.ih,this.KS),this.ZE.Do(Sl.E_,this.JS),this.ZE.Do(Wd.Vl,this.QS),this.ZE.fR.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.$S)},i.kR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{LT:t.contentProtection||{},nS:{iS:"cbcs"},rT:[{Va:Me,eT:[],fc:void 0}],uS:[],sS:["video/mp4"]}}},i._R=function(){var t=this.ZE.fR.audioTracks,n=this.ZE.fR.videoTracks;t&&(t.addEventListener("addtrack",this.tR),t.addEventListener("removetrack",this.nR),t.addEventListener("change",this.iR)),n&&(n.addEventListener("addtrack",this.eR),n.addEventListener("removetrack",this.uR),n.addEventListener("change",this.sR))},i.NR=function(){var t=this.ZE.fR.audioTracks,n=this.ZE.fR.videoTracks;t&&(t.removeEventListener("addtrack",this.tR),t.removeEventListener("removetrack",this.nR),t.removeEventListener("change",this.iR)),n&&(n.removeEventListener("addtrack",this.eR),n.removeEventListener("removetrack",this.uR),n.removeEventListener("change",this.sR))},i.rR=function(t){for(var n=0;n<t.pl;n++){t._l(n).jg()}},i.Tg=function(){this.dR.eS().then(S)},L(n,[{key:"ER",get:function(){var t=this.ZE.Eg,n=this.S_;return t.CR(n,.01)}},{key:"tg",get:function(){return this.j_}},{key:"Eg",get:function(){return this.ZE.Eg.OR()}},{key:"Sg",get:function(){return this.ZE.Sg},set:function(t){t&&this.ZE.xR(t)}},{key:"S_",get:function(){return void 0!==this.GS?this.GS:this.ZE.S_},set:function(t){this.Ig&&(this.GS=t),this.ZE.na(t)}},{key:"R_",get:function(){return this.ZE.R_}},{key:"I_",get:function(){return this.ZE.I_}},{key:"Ho",get:function(){return this.qS}},{key:"N_",get:function(){return this.zS}},{key:"rg",get:function(){}},{key:"Ig",get:function(){return this.ZE.Ig}},{key:"q_",get:function(){return le(le({},{Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.ZE.PR())}},{key:"D_",get:function(){return this.ZE.D_},set:function(t){this.ZE.D_=t}},{key:"Bg",get:function(){return!0}},{key:"C_",get:function(){return this.ZE.C_}},{key:"O_",get:function(){return this.ZE.O_},set:function(t){this.ZE.O_=t}},{key:"Lg",get:function(){return this.ZE.fR.played}},{key:"Mg",get:function(){return this.hR},set:function(t){this.hR=t,this.zE&&(this.zE.Mg=t)}},{key:"ql",get:function(){return this.ZE.ql}},{key:"Ug",get:function(){return this.ZE.Ug.OR()}},{key:"x_",get:function(){return this.ZE.x_}},{key:"LR",get:function(){return this.ZE.LR}},{key:"ig",get:function(){return this.Y_}},{key:"ng",get:function(){return this.Q_}},{key:"P_",get:function(){return this.ZE.P_}},{key:"B_",get:function(){return this.ZE.B_}},{key:"L_",get:function(){return this.ZE.L_},set:function(t){this.ZE.L_=t}},{key:"MR",get:function(){return this.jS}}]),n}($d);function Vp(t){return!t.type||!(!Fp().canPlayType||!Fp().canPlayType(t.type))}var Xp=function(){function t(){this.UR=Pp.HS}var n=t.prototype;return n.Xb=function(t,n,i,r,e,u){return new Hp(t,n,i,r,e)},n.FR=function(t,n){return Vp(t)},n.HR=function(){return!1},t}();function Wp(t,n){for(var i=0,r=t.kl;i<r.length;i++){var e=r[i];if(e.Zg===n)return e}}var qp=function(){function t(){this.XR=new Xp,this.WR=[]}t.qR=function(){return this.Ve};var n=t.prototype;return n.zR=function(t){this.WR.push(t)},n.Xb=function(t,n,i,r,e,u){for(var s=this.XR.Xb(t,n,i,r,e,u),o=0,a=this.WR;o<a.length;o++){s=(0,a[o])(s,i,r)}return s},n.FR=function(t,n){return this.XR.FR(t,n)},n.HR=function(){return!1},L(t,[{key:"UR",get:function(){return this.XR.UR}}]),t}();function zp(t,n){return J_(t.UR,n.UR)}function Gp(t){jp.Ve.GR(t)}qp.Ve=new qp;var jp=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jR=qp.qR(),n}M(n,t);var i=n.prototype;return i.QR=function(t){this.jR=t},i.YR=function(){return this.jR},i.ZR=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.JR(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{$R:e,KR:u});case 8:r++,t.next=1;break;case 11:s=this.jR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(a=n[o],!s.FR(a,i)){t.next=17;break}return t.abrupt("return",{$R:a,KR:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{$R:n[0],KR:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.tI=[]}var n=t.prototype;return n.GR=function(t){this.tI.push(t),this.tI.sort(zp)},n.JR=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.tI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!rt(s=u.FR(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());jp.Ve=new jp;var Qp,Yp=function(){function t(t){this.nI=Cr&&Cr.document&&Cr.document.createElement("div"),qr(this.nI),t.appendChild(this.nI)}return t.prototype.Rv=function(){Hr(this.nI)},t}();function Zp(t){switch(t){case Qp.iI:case"":return Qp.iI;case Qp.uk:return Qp.uk;case Qp.rI:default:return Qp.rI}}!function(t){t.HS="",t.rI="none",t.uk="metadata",t.iI="auto"}(Qp||(Qp={}));var Jp=[Wd.Vl,qo.Xc,qo.Vo,qo.gh,qo.xc,qo.qc,qo.Yc,qo.Zc,qo.sh,qo.ah,Sl.k_,Sl.p_,Sl.A_,Sl.b_,Sl.ul,Sl.T_,Sl.E_,qo.Mc,qo.Uc,qo.Vc,qo.Wc,qo.Gc,qo.jc,qo.$c,qo.Kc,qo.Jc,qo.th,qo.ih,qo.eh,qo.rh,qo.vh,qo.dh,qo.nh,qo.Qc,qo.uh],$p=function(t){function n(n,i){var r;return(r=t.call(this)||this).eI=void 0,r.uI=void 0,r.hR=Qp.rI,r.sI=void 0,r.oI=!0,r.j_=new qd,r.Q_=new qd,r.Y_=new Jd,r.Z_=new e_,r.aI=n,r.cI=i,r.cI.Mg=r.Mg,r.hI(),r}M(n,t);var i=n.prototype;return i.ug=function(){this.cI.ug()},i.eg=function(){this.cI.eg()},i.sg=function(){return this.ag(void 0)},i.vg=function(){},i.kg=function(t){return!1},i.hI=function(){this.j_.Rl=this.cI.tg,this.Q_.Rl=this.cI.ng,this.Y_.Rl=this.cI.ig,this.Z_.Rl=this.cI.rg,this.cI.So(Jp,this.bo)},i.fI=function(){this.cI.Do(Jp,this.bo),this.j_.Rl=void 0,this.Q_.Rl=void 0,this.Y_.Rl=void 0,this.Z_.Rl=void 0},i.og=function(){return this.sI},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),this.sI=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!kl(r=n.sources.filter(El))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.aI.ZR(r,n);case 9:if(e=t.sent,au(i),u=e.$R,s=e.KR,o=this.yg(),a=jl(this),this.eI===s&&!this.Ho){t.next=25;break}return this.fI(),t.next=19,this.cI.Rv();case 19:au(i),this.eI=s,this.cI=this.vI(s),Kp(this.cI,a),Yl(this,a,this),this.hI();case 25:return this.cI.Mg=this.Mg,this.oI?this.cI._g():this.cI.gg(),t.next=29,this.cI.ag(u,n,i);case 29:au(i),this.dI(u),this.yg()!==o&&this.To(new tl);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.dI=function(t){this.uI!==t&&(this.uI=t,this.To(new nl(t)))},i.cg=function(){return this.cI.cg()},i.hg=function(){this.cI.hg()},i.fg=function(){this.cI.fg()},i.yg=function(){return this.cI.yg()},i.Tg=function(){this.cI.Tg()},i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.sI=void 0,this.dI(void 0),t.next=4,this.cI.ml();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.No(),t.next=3,this.ml();case 3:return t.next=5,this.cI.Rv();case 5:this.j_.Rv(),this.Q_.Rv(),this.Y_.Rv(),this.Z_.Rv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._g=function(){this.oI=!0,this.cI._g()},i.gg=function(){this.oI=!1,this.cI.gg()},L(n,[{key:"tg",get:function(){return this.j_}},{key:"Eg",get:function(){return this.cI.Eg}},{key:"Ho",get:function(){return this.cI.Ho}},{key:"N_",get:function(){return this.cI.N_}},{key:"Sg",get:function(){return this.cI.Sg},set:function(t){this.cI.Sg=t}},{key:"bg",get:function(){return this.uI}},{key:"S_",get:function(){return this.cI.S_},set:function(t){this.cI.S_=t}},{key:"R_",get:function(){return this.cI.R_}},{key:"I_",get:function(){return this.cI.I_}},{key:"rg",get:function(){return this.Z_}},{key:"Ig",get:function(){return this.cI.Ig}},{key:"q_",get:function(){return this.cI.q_}},{key:"D_",get:function(){return this.cI.D_},set:function(t){this.cI.D_=t}},{key:"Bg",get:function(){return this.cI.Bg}},{key:"C_",get:function(){return this.cI.C_}},{key:"O_",get:function(){return this.cI.O_},set:function(t){this.cI.O_=t}},{key:"Lg",get:function(){return this.cI.Lg}},{key:"Mg",get:function(){return this.hR},set:function(t){this.hR=t,this.cI&&(this.cI.Mg=this.hR)}},{key:"ql",get:function(){return this.cI.ql}},{key:"Ug",get:function(){return this.cI.Ug}},{key:"x_",get:function(){return this.cI.x_}},{key:"ig",get:function(){return this.Y_}},{key:"P_",get:function(){return this.cI.P_}},{key:"ng",get:function(){return this.Q_}},{key:"B_",get:function(){return this.cI.B_}},{key:"L_",get:function(){return this.cI.L_},set:function(t){this.cI.L_=t}},{key:"MR",get:function(){return this.cI.MR}}]),n}(Tu);function Kp(t,n){t.D_!==n.D_&&(t.D_=n.D_),t.L_!==n.L_&&(t.L_=n.L_),t.O_!==n.O_&&(t.O_=n.O_)}var tA,nA=function(t){function n(n,i){var r;return(r=t.call(this)||this).pl=n.length>>1,r.lI=n,r._I=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.pl),r}M(n,t);var i=n.prototype;return i.gI=function(t){return this.lI[2*t]},i.wI=function(t){return this._I[2*t]},i.yI=function(t){return this.lI[2*t+1]},i.mI=function(t){return this._I[2*t+1]},L(n,[{key:"kI",get:function(){return this.lI.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.Tw=function(t,n){return 0===this.Hw(t,n)},n.yy=function(t,n){return this.Hw(t,n)>0},n.my=function(t,n){return this.Hw(t,n)>=0},n.zw=function(t,n){return this.Hw(t,n)<0},n.Ww=function(t,n){return this.Hw(t,n)<=0},n.Uy=function(t,n){return this.zw(t,n)?t:n},n.My=function(t,n){return this.yy(t,n)?t:n},n.pI=function(t,n,i){return i?this.Ww(t,n):this.zw(t,n)},n.OR=function(){var t=this;return{get length(){return t.pl},start:function(n){var i=0|n;return t.AI(i),t.bI(t.gI(i))},end:function(n){var i=0|n;return t.AI(i),t.bI(t.yI(i))}}},n.TI=function(){for(var t=new Array(2*this.pl),n=new Array(2*this.pl),i=0;i<this.pl;i++)t[2*i]=this.gI(i),t[2*i+1]=this.yI(i),n[2*i]=!0,n[2*i+1]=!0;return this.EI(t,n)},n.AI=function(t){if(t<0)throw new f("The index provided ("+t+") must be non-negative");if(t>=this.pl)throw new f("The index provided ("+t+") is greater than the maximum bound ("+this.pl+")")},n.SI=function(t){if(0===this.pl)return this.RI();if(this.CR(t))return t;if(this.Ww(t,this.gI(0)))return this.gI(0);if(this.my(t,this.yI(this.pl-1)))return this.yI(this.pl-1);for(var n,i=this.II(),r=0;r<this.pl;r++){var e=this.gI(r),u=this.qw(e,t);this.zw(u,i)&&(n=e,i=u);var s=this.yI(r),o=this.qw(this.yI(r),t);this.zw(o,i)&&(n=s,i=o)}return n},n.NI=function(t){for(var n=0,i=0,r=[],e=[];n<this.pl&&i<t.pl;){var u=this.gI(n),s=this.yI(n),o=this.wI(n),a=this.mI(n),c=t.gI(i),h=t.yI(i),f=t.wI(i),v=t.mI(i),d=this.My(u,c),l=this.Uy(s,h),_=void 0;_=this.Tw(u,c)?o&&f:this.Tw(d,u)?o:f;var g=void 0;g=this.Tw(s,h)?a&&v:this.Tw(l,s)?a:v,(this.zw(d,l)||_&&g&&this.Tw(d,l))&&(r.push(d,l),e.push(_,g));var w=this.Hw(this.yI(n),t.yI(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.EI(r,e)},n.DI=function(){var t=this.CI(),n=t.pl;if(0===n)return this.EI([t.OI(),t.II()],[!1,!1]);var i=[],r=[],e=t.gI(0);t.Tw(e,t.OI())||(i.push(t.OI(),e),r.push(!1,!t.wI(0)));for(var u=0;u<n-1;u++)i.push(t.yI(u),t.gI(u+1)),r.push(!t.mI(u),!t.wI(u+1));var s=t.yI(n-1);return t.Tw(s,t.II())||(i.push(s,t.II()),r.push(!t.mI(n-1),!1)),t.EI(i,r)},n.xI=function(t){for(var n=0,i=0,r=this.pl,e=t.pl,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var a=this.gI(n),c=this.yI(n),h=t.gI(i),f=t.yI(i);this.zw(a,h)||this.Tw(a,h)&&this.zw(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.wI(n),s[o+1]=this.mI(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.wI(i),s[o+1]=t.mI(i),i++),o+=2}for(;n<r;)u[o]=this.gI(n),u[o+1]=this.yI(n),s[o]=this.wI(n),s[o+1]=this.mI(n),n++,o+=2;for(;i<e;)u[o]=t.gI(i),u[o+1]=t.yI(i),s[o]=t.wI(i),s[o+1]=t.mI(i),i++,o+=2;return this.EI(u,s)},n.BI=function(t){void 0===t&&(t=this.RI());var n=this.pl;if(n<2)return this;for(var i=[],r=[],e=this.gI(0),u=this.yI(0),s=this.wI(0),o=this.mI(0),a=1;a<n;a++){var c=this.gI(a),h=this.yI(a),f=this.wI(a),v=this.mI(a);this.zw(e,c)&&this.yy(u,h)||(this.Tw(e,c)&&(s=f=s||f),this.Tw(u,h)&&(o=v=o||v),this.pI(c,this.Hg(u,t),o||f)?(u=h,o=v):(i.push(e,u),r.push(s,o),e=c,u=h,s=f,o=v))}return i.push(e,u),r.push(s,o),this.EI(i,r).CI()},n.CI=function(){for(var t=[],n=[],i=0;i<this.pl;i++){var r=this.gI(i),e=this.yI(i),u=this.wI(i),s=this.mI(i);this.Tw(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.EI(t,n)},n.LI=function(t){return this.pl?t.pl?this.xI(t).BI():this:t},n.MI=function(t){var n=this.CI(),i=t.CI(),r=n.DI(),e=i.DI(),u=r.NI(i),s=e.NI(n);return u.LI(s)},n.ta=function(t){if(this.Tw(t,this.RI()))return this;for(var n=[],i=[],r=0;r<this.pl;r++){var e=this.Hg(this.gI(r),t),u=this.Hg(this.yI(r),t);n.push(e,u),i.push(this.wI(r),this.mI(r))}return this.EI(n,i)},n.UI=function(t){return this.CI().NI(t.CI().DI())},n.CR=function(t,n){return this.FI(t,n)>=0},n.HI=function(t,n,i,r,e){return this.VI(t,n,i,r,e)>=0},n.XI=function(t,n,i,r,e){return this.WI(t,n,i,r,e)>=0},n.qI=function(t){if(t.pl!==this.pl)return!1;for(var n=0;n<this.pl;n++)if(!this.Tw(this.gI(n),t.gI(n))||!this.Tw(this.yI(n),t.yI(n))||this.wI(n)!==t.wI(n)||this.mI(n)!==t.mI(n))return!1;return!0},n.zI=function(t){for(var n=[],i=[],r=0;r<this.pl;r++)t(this.gI(r),this.yI(r))&&(n.push(this.gI(r),this.yI(r)),i.push(this.wI(r),this.mI(r)));return this.EI(n,i)},n.WI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.RI());for(var u=this.Yw(t,e),s=this.Hg(n,e),o=0;o<this.pl;o+=1)if(this.pI(this.gI(o),s,!r||this.wI(o))&&this.pI(u,this.yI(o),!i||this.mI(o)))return o;return-1},n.VI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.RI());for(var u=this.Hg(t,e),s=this.Yw(n,e),o=0;o<this.pl;o+=1)if(this.pI(this.gI(o),u,!i||this.wI(o))&&this.pI(s,this.yI(o),!r||this.mI(o)))return o;return-1},n.FI=function(t,n){return this.VI(t,t,!0,!0,n)},n.GI=function(t,n){void 0===n&&(n=this.RI());for(var i=this.Hg(t,n),r=this.pl-1;r>=0;r-=1)if(this.pI(this.gI(r),i,this.wI(r)))return r;return-1},n.jI=function(t,n){void 0===n&&(n=this.RI());for(var i=this.Yw(t,n),r=0;r<this.pl;r+=1)if(this.pI(i,this.yI(r),this.mI(r)))return r;return-1},n.QI=function(t){return this.AI(t),this.EI([this.gI(t),this.yI(t)],[this.wI(t),this.mI(t)])},n.YI=function(t,n){var i=this.FI(t,n);return i<0?void 0:this.QI(i)},L(t,[{key:"ZI",get:function(){for(var t=this.RI(),n=0;n<this.pl;n++){var i=this.Yw(this.yI(n),this.gI(n));t=this.Hg(t,i)}return t}}]),t}()),iA=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.Hw=function(t,n){return t<n?Y_.Lw:t===n?Y_.Pw:Y_.Bw},i.Hg=function(t,n){return t+n},i.Yw=function(t,n){return t-n},i.qw=function(t,n){return l.abs(t-n)},i.RI=function(){return 0},i.II=function(){return 1/0},i.OI=function(){return-1/0},n.JI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.$I=function(t){for(var i=[],r=[],e=0;e<t.pl;e++)i.push(t.gI(e).Vy),i.push(t.yI(e).Vy),r.push(t.wI(e)),r.push(t.mI(e));return new n(i,r)},n.KI=function(t){return new n([t,t],[!0,!0])},i.EI=function(t,i){return new n(t,i)},i.bI=function(t){return t},n.tN=function(){return rA},n}(nA),rA=new iA([]);!function(t){t.nl="fullscreenchange",t.nN="fullscreensupportchange",t.Vl="fullscreenerror"}(tA||(tA={}));var eA=function(t){function n(){return t.call(this,tA.Vl)||this}return M(n,t),n}(Su),uA=new(function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.nw=function(){this.To(new eA)},i.rw=function(){},i.Rv=function(){this.No()},L(n,[{key:"iN",get:function(){return!1}},{key:"rN",get:function(){return!1}}]),n}(Tu)),sA=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.wg=function(){},n}(function(t){function n(){var n;return(n=t.apply(this,arguments)||this).eN=0,n.uN=!1,n.sN=!0,n.oN=1,n.aN=!1,n.cN=1,n.tg=new v_,n.Eg=iA.tN().OR(),n.R_=NaN,n.I_=!1,n.Ho=void 0,n.N_=void 0,n.rg=void 0,n.Ig=!1,n.Bg=!0,n.Lg=iA.tN().OR(),n.Mg=Qp.rI,n.ql=al.__,n.Ug=iA.tN().OR(),n.LR=void 0,n.ig=new qw,n.P_=0,n.ng=new v_,n.B_=0,n.jS=new Up,n}M(n,t);var i=n.prototype;return i._g=function(){},i.gg=function(){},i.eg=function(){this.sN&&(this.sN=!1,this.To(new Nl(this.S_)),this.To(new Dp(this.S_)))},i.ug=function(){this.sN||(this.sN=!0,this.To(new Bl(this.S_,this.Sg)),this.To(new Il(this.S_)))},i.ag=function(t,n){return T.resolve()},i.cg=function(){return!1},i.hg=function(){},i.fg=function(){},i.yg=function(){return uA},i.Tg=function(){},i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.eN=0,this.aN=!1,this.ug(),this.To(new Rl(this.eN));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.No(),this.tg.Rv(),this.ig.Rv(),this.ng.Rv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Sg",get:function(){},set:function(t){}},{key:"S_",get:function(){return this.eN},set:function(t){this.eN!==t&&(this.eN=t,this.aN=!0,this.To(new Ul(this.S_)))}},{key:"q_",get:function(){return{Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"D_",get:function(){return this.uN},set:function(t){this.uN!==t&&(this.uN=t,this.To(new Hl(this.S_,this.L_)))}},{key:"C_",get:function(){return this.sN}},{key:"O_",get:function(){return this.oN},set:function(t){this.oN!==t&&(this.oN=t,this.To(new Pl(this.S_,this.O_)))}},{key:"x_",get:function(){return this.aN}},{key:"L_",get:function(){return this.cN},set:function(t){this.cN!==t&&(this.cN=t,this.To(new Hl(this.S_,this.L_)))}},{key:"MR",get:function(){return this.jS}}]),n}(Tu)),oA=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,jp.Ve,new sA)||this).hN=n,o.uc=i,o.Ab=r,o.fN=e,o.vN=s,o.dN=new Ir(u,o.vN),o.dN.lN(o.hN),o._N=new Yp(o.hN),o}M(n,t);var i=n.prototype;return i.vg=function(){t.prototype.vg.call(this),this.dN.gN()},i.dg=function(t){Ql(this,t)},i.lg=function(){},i.vI=function(t){return t.Xb(this.hN,this.dN,this.Ab,this.uc,this.fN,this.vN)},i.wg=function(){return this.cI.wg()},i.mg=function(){return this.dN.wN.map(function(t){return t.fR})},i.Io=function(n){t.prototype.Io.call(this,n)},i.xo=function(n){t.prototype.xo.call(this,n)},i.Rv=function(){var n=T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Rv.call(this);case 2:this.dN.Rv(),this._N.Rv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),L(n,[{key:"Rg",get:function(){return this.hN}}]),n}($p),aA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).hN=n,e.yN=i,e.mN=new v_,e.kN=new qw,e.pN=r,e}M(n,t);var i=n.prototype;return i.kg=function(t){return!0},i.gg=function(){},i.eg=function(){throw this.To(new ql(this.pN)),this.yN},i.ug=function(){},i.og=function(){},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw au(i),this.To(new ql(this.pN)),this.yN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i._g=function(){},i.sg=function(){return T.resolve()},i.wg=function(){},i.yg=function(){return uA},i.mg=function(){return[]},i.vg=function(){},i.dg=function(t){},i.lg=function(){},i.cg=function(){return!1},i.hg=function(){},i.fg=function(){},i.Tg=function(){},i.ml=function(){return T.resolve()},i.Rv=function(){return this.No(),this.mN.Rv(),this.kN.Rv(),T.resolve()},L(n,[{key:"tg",get:function(){return this.mN}},{key:"Eg",get:function(){return iA.tN().OR()}},{key:"Sg",get:function(){return new Date(NaN)},set:function(t){}},{key:"bg",get:function(){}},{key:"S_",get:function(){return 0},set:function(t){}},{key:"R_",get:function(){return 0}},{key:"Rg",get:function(){return this.hN}},{key:"I_",get:function(){return!0}},{key:"Ho",get:function(){return this.yN}},{key:"N_",get:function(){return this.pN}},{key:"rg",get:function(){}},{key:"q_",get:function(){return{Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"D_",get:function(){return!1},set:function(t){}},{key:"Bg",get:function(){return!0}},{key:"C_",get:function(){return!0}},{key:"O_",get:function(){return 0},set:function(t){}},{key:"Lg",get:function(){return iA.tN().OR()}},{key:"Mg",get:function(){return Qp.rI},set:function(t){}},{key:"ql",get:function(){return al.__}},{key:"Ug",get:function(){return iA.tN().OR()}},{key:"x_",get:function(){return!1}},{key:"ig",get:function(){return this.kN}},{key:"P_",get:function(){return 0}},{key:"ng",get:function(){return this.mN}},{key:"B_",get:function(){return 0}},{key:"L_",get:function(){return 1},set:function(t){}},{key:"Ig",get:function(){return!1}}]),n}(Kd);function cA(t){if(t&&K(t))return le(le({},t),{integration:hA(t.integration),fairplay:wA(t.fairplay),widevine:fA(t.widevine),playready:vA(t.playready),clearkey:yA(t.clearkey),aes128:mA(t.aes128),integrationParameters:kA(t.integrationParameters),preferredKeySystems:pA(t.preferredKeySystems)})}function hA(t){if(nt(t))return t}function fA(t){if(t&&K(t))return{persistentState:dA(t.persistentState),distinctiveIdentifier:dA(t.distinctiveIdentifier),audioRobustness:lA(t.audioRobustness),videoRobustness:lA(t.videoRobustness),licenseAcquisitionURL:nt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:_A(t.licenseType),headers:t.headers,useCredentials:!!it(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:nt(t.certificate)||Vs(t.certificate)?t.certificate:void 0,certificateRequestProcessor:gA(t.certificateRequestProcessor),certificateResponseProcessor:gA(t.certificateResponseProcessor),licenseRequestProcessor:gA(t.licenseRequestProcessor),licenseResponseProcessor:gA(t.licenseResponseProcessor)}}function vA(t){if(t){var n=fA(t);if(n){var i=nt(t.customData)?t.customData:void 0;return le(le({},n),{customData:i})}}}function dA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function lA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function _A(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function gA(t){if("function"==typeof t)return t}function wA(t){if(t){var n=fA(t);if(n){var i=nt(t.certificateURL)?t.certificateURL:void 0;return le(le({},n),{certificateURL:i})}}}function yA(t){if(t){var n=fA(t);if(n){var i=J(t.keys)?t.keys.map(function(t){return function(t){if(!t||!K(t))return;var n=t.id,i=t.value;if(!nt(n)||!nt(i))return;return{id:n,value:i}}(t)}).filter(Z):void 0;return le(le({},n),{keys:i})}}}function mA(t){if(K(t))return{useCredentials:it(t.useCredentials)?t.useCredentials:void 0}}function kA(t){if(K(t))return t}function pA(t){return t&&J(t)?t.map(function(t){return um(t)}).filter(Z):[Ce,Ie,xe]}var AA,bA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return M(n,t),n}(Su),TA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).AN=[],r.bN=function(t){_u(function(){r.bo(t)})},r.TN=i?r.bN:r.bo,r}M(n,t);var i=n.prototype;return i.EN=function(t){t.Io(this.TN),this.AN.push(t)},i.SN=function(t){t.xo(this.TN),Je(this.AN,t)},i.Rv=function(){this.No();for(var t=0,n=this.AN;t<n.length;t++){n[t].xo(this.TN)}nu(this.AN)},n}($d),EA=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n}(TA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(AA||(AA={}));var SA,RA=function(t){function i(n){var i;return(i=t.call(this)||this).RN=!1,i.IN=!1,i.Vd=void 0,i.NN=function(){return i.DN()},i.CN=function(){return i.ON()},i.xN=n,i.PN=i.BN=i.LN=i.MN=AA.INLINE,i.xN.So(tA.nl,i.NN),i.xN.So(tA.Vl,i.CN),i.UN(),i}M(i,t);var r=i.prototype;return r.Wd=function(){return t=this,i={get currentMode(){return t.FN()},requestMode:function(n){var i=NA(n);i&&t.HN(i)},supportsMode:function(n){var i=NA(n);return!!i&&t.VN(i)},addEventListener:function(t,i){n.So(t,i)},removeEventListener:function(t,i){n.Do(t,i)}},(n=new TA(i,!0)).EN(t),i;var t,n,i},r.HN=function(t){this.XN(t,t)},r.XN=function(t,n){this.BN!==n&&(this.RN=!0,this.PN=t,this.WN(n,this.BN),t!==AA.FULLSCREEN&&(this.LN=t),this.RN=!1,this.UN())},r.FN=function(){return this.IN?AA.FULLSCREEN:AA.INLINE},r.VN=function(t){switch(t){case AA.FULLSCREEN:return this.xN.rN;case AA.INLINE:return!0}return!1},r.UN=function(){if(!this.RN){var t=this.BN,n=this.FN();this.BN=n,n!==AA.FULLSCREEN&&(this.MN=n),t!==n&&this.To(new bA(n))}},r.WN=function(t,n){var i=t===AA.FULLSCREEN;this.IN=i,i!==this.xN.iN&&(i?this.xN.nw():this.xN.rw())},r.DN=function(){if(!this.RN){var t=this.xN.iN;this.IN=t,t?this.XN(AA.FULLSCREEN,AA.FULLSCREEN):t||this.PN!==AA.FULLSCREEN?this.UN():this.XN(this.LN,this.MN)}},r.ON=function(){this.DN(),this.To(new ql(new To(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Rv=function(){this.xN.Rv(),this.No()},L(i,[{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}}]),i}($d),IA={S_:0,R_:NaN,I_:!1,Ho:void 0,N_:void 0,D_:!1,C_:!0,O_:1,ql:al.__,x_:!1,P_:0,B_:0,L_:1};function NA(t){switch(t){case AA.INLINE:case AA.FULLSCREEN:case AA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(SA||(SA={}));var DA,CA,OA,xA,PA,BA,LA,MA,UA=function(){function t(){this.qN=[]}var n=t.prototype;return n.zN=function(t){var n=this.GN.filter(function(n){return n.jN(t)});if(n.length>1)0;else if(0===n.length)throw f("Unknown ad integration: "+t.integration);return n[0]||null},n.QN=function(t){this.qN.push(t)},L(t,[{key:"GN",get:function(){return this.qN}}]),t}();UA.Ve=new UA,function(t){t.E_="PLAYING",t.YN="PAUSED",t.ZN="SEEK",t.JN="STALLED",t.$N="FAILED",t.KN="INITIAL_BUFFERING",t.tD="NO_ACCESS"}(DA||(DA={})),function(t){t.nD="HTTP_REQUEST_STATUS_CODE_1XX",t.iD="HTTP_REQUEST_STATUS_CODE_2XX",t.rD="HTTP_REQUEST_STATUS_CODE_3XX",t.eD="HTTP_REQUEST_STATUS_CODE_4XX",t.uD="HTTP_REQUEST_STATUS_CODE_5XX",t.sD="BUFFER_LENGTH",t.oD="BYTES_RECEIVED",t.aD="SEGMENT_READ_BITRATE",t.cD="SEGMENT_PROFILE_BITRATE",t.hD="NUMBER_OF_FRAMES_DROPPED",t.fD="PLAYBACK_POSITION",t.vD="NUMBER_OF_FRAMES_DECODED",t.dD="PLAYBACK_DELTA_TO_ORIGIN",t.lD="STREAM_DELTA_TO_ORIGIN",t._D="ORIGIN_TIMESTAMP"}(CA||(CA={})),function(t){t.gD="MANIFEST_URI",t.wD="ASSET_DURATION",t.yD="NUMBER_OF_CONTENT_PROFILES",t.mD="CDN",t.kD="CONTENT_TITLE",t.pD="SERVICE_NAME",t.bD="CONTENT_TYPE",t.TD="CONTENT_DESCRIPTION"}(OA||(OA={})),function(t){t.ED="shutdown_normal_shutdown"}(xA||(xA={})),function(t){t.SD="session/",t.RD="internalError/",t.ND="drmError/",t.DD="caError/",t.CD="networkError/"}(PA||(PA={})),function(t){t.OD="userAction",t.xD="endOfStreamReached"}(BA||(BA={})),function(t){t.PAUSE="PD",t.RESUME="BD"}(LA||(LA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(MA||(MA={}));var FA,HA,VA,XA,WA,qA="agama";function zA(t){return function(t){switch(t){case FA.NONE:case FA.HORIZONTAL:case FA.VERTICAL:return!0;default:return!1}}(t)?t:FA.NONE}function GA(t){switch(t){case"":return FA.NONE;case"horizontal":return FA.HORIZONTAL;case"vertical":return FA.VERTICAL;default:throw new v}}function jA(t){return{useSeamlessPeriodSwitch:QA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function QA(t){if(!t||!nt(t))return HA.iI;switch(t){case"always":return HA.LD;case"never":return HA.MD;default:return HA.iI}}function YA(t){return{discontinuityAlignment:ZA(null==t?void 0:t.discontinuityAlignment)}}function ZA(t){if(!t||!nt(t))return VA.iI;switch(t){case"playlist":return VA.UD;case"media":return VA.FD;default:return VA.iI}}function JA(t,n,i){var r=function(t,n){var i=el.f_;t.useCredentials?i=el.h_:t.crossOrigin&&(i=vl(t.crossOrigin));i===el.f_&&n&&n.vr&&n.vr[360]&&(i=el.c_);return{useCredentials:i===el.h_,crossOrigin:i}}(t,n),e=r.useCredentials,u=r.crossOrigin,s=t.liveOffset;Z(s)||(s=i&&Z(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;Z(o)||(o=n&&Z(n.timeServer)?n.timeServer:void 0);var a=Boolean(t.hlsDateRange);return Z(t.hlsDateRange)||(a=!(!i||!Z(i.hlsDateRange))&&Boolean(i.hlsDateRange)),{crossOrigin:u,useCredentials:e,liveOffset:s,timeServer:o,hlsDateRange:a,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:Z(t.dash)?jA(t.dash):void 0,hls:Z(t.hls)?YA(t.hls):void 0}}function $A(t){if(null!==t)return t}function KA(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:$A(t.streamActivityMonitorID),adTagParameters:K(t.adTagParameters)?t.adTagParameters:{},authToken:$A(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?le(le({},i),{availabilityType:"vod",videoID:r,contentSourceID:e}):void b.fs("A VOD DAI configuration was provided without valid contentSourceID which is required."):void b.fs("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?le(le({},i),{availabilityType:"live",assetKey:u}):void b.fs("A Live DAI configuration was provided without valid assetKey which is required.")}b.fs("A DAI configuration was provided without a valid availabilityType which is required.")}function tb(t){switch(t.integration){case"google-dai":return KA(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!==(n=t.streamType)&&void 0!==n?n:void 0}}(t);default:return{integration:t.integration}}}function nb(t,n,i){var r=JA(t,n,i),e=$A(t.src),u=t.type;u||(u=t.src?fl(t.src):void 0);var s=function(t,n){var i;i=Z(t.contentProtection)?t.contentProtection:Z(t.drm)?t.drm:Z(n)&&Z(n.contentProtection)?n.contentProtection:Z(n)&&Z(n.drm)?n.drm:void 0;return ib(i)}(t,n),o=Z(t.ssai)?tb(t.ssai):void 0;return le(le({},r),{src:e,type:u,contentProtection:s,ssai:o,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function ib(t){if(!Jy(t)||!t.integration)return t;switch(t.integration){case Ry:return n=t,i=em(be.Ws,n),r=em(be.Xs,n),e=n[be.qs]&&em(be.qs,n),le({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function rb(t){if(!t)return!0;var n,i,r=!(ml(n=t.sources)||$(n)&&ml(n[0]))||kl(t.sources),e=!t.ads||(!(i=t.ads)||J(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function eb(t){if(t&&t.sources)return function t(n){if(nt(n))return n;if(yl(n))return n.src;if($(n)&&n.length>0)return t(n[0]);return}(t.sources)}function ub(t,n,i){return gl(t)?function(t,n,i){var r=le(le({},pl()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:XA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:WA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,nt(e)?e:$(e)&&nt(e[0])?e:K(u=e)&&nt(u.userId)&&($(u.externalId)||nt(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return WA.CHANNEL;case"event":return WA.EVENT;case"asset":default:return WA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Cd(t.contentProtected));t.assetInfo?r.assetInfo=Cd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!it(o.adImpressions)&&o.adImpressions,c=!!it(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=it(o.linearAdData)?o.linearAdData:s!==WA.ASSET):s!==WA.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),r=ob(r=sb(r,t),n,i);var s,o,a,c,h}(t,n,i):function(t,n,i){var r=Al(),e=n&&(n.contentProtection||n.drm);if(nt(t)){if(r.src=t,r.type=fl(t),e){var u=cA(e);r.contentProtection=ib(u)}}else if(yl(t)||_l(t)){r.src=t.src,r.type=t.type||fl(t.src),r.isAdvertisement=t.isAdvertisement;var s=function(t){return t.type===ul.d_||t.type===ul.l_}(t)?t.hesp:void 0;void 0!==s&&(r.hesp=s);var o=t.contentProtection||t.drm||e,a=cA(o);r.contentProtection=ib(a),t.ssai&&(r.ssai=tb(t.ssai)),r=sb(r,t)}return r=ob(r,n,i)}(t,n,i)}function sb(t,n){n.useCredentials?t.crossOrigin=el.h_:n.crossOrigin&&(t.crossOrigin=vl(n.crossOrigin)),nt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Cd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Cd(n.useNativePlayback)),n.dash&&(t.dash=jA(n.dash)),n.hls&&(t.hls=YA(n.hls));var i=void 0!==n.experimentalRendering?Cd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Cd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function ob(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!Z(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!Z(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===el.f_&&(null===(r=null==n?void 0:n.vr)||void 0===r?void 0:r[360])&&(t.crossOrigin=el.c_),t.useCredentials=t.crossOrigin===el.h_,nt(e)&&!t.timeServer&&(t.timeServer=e),t}function ab(t){var n={src:""};if(t&&t.src){if(n.src=Pd(t.src),"default"in t&&(n.default=Cd(t.default)),n.kind=jw(t.kind),function(t){switch(t){case T_.DEFAULT:case T_.SRT:case T_.TTML:case T_.WEBVTT:case T_.EMSG:case T_.EVENT_STREAM:case T_.ID3:case T_.CEA608:case T_.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function cb(t,n){if(tt(t))try{return n.zN(t).HD(t)}catch(t){return}}function hb(t){return nt(t.sources)&&""!==t.sources||K(t.sources)&&nt(t.sources.src)}function fb(t){return t.integration===SA.SPOTX&&!w(t.id)}function vb(t){return"freewheel"===t.integration}function db(t,n,i){if(void 0===i&&(i=UA.Ve),rb(t))return{sources:[Al()]};var r=Rd(t);if(r.sources=function(t,n,i){if(ml(t))return[ub(t,n,i)];if($(t)&&ml(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(ub(u,n,i))}return r}return[Al()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!$(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=cb(e,n))&&(hb(e)||fb(e)||vb(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s,o,a=!kl(r.sources),c=r.ads&&r.ads.length>0;if(a&&!c?delete r.ads:c&&!a&&(r.sources=[]),"textTracks"in r){var h=function(t){if(!$(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=ab(r)).src&&n.push(r)}return n}(r.textTracks);0===h.length?delete r.textTracks:r.textTracks=h}if("poster"in r&&(r.poster=Pd(r.poster)),"vr"in r&&(r.vr=(u=r.vr,(s=u||{}).stereoMode=zA(s.stereoMode),{360:Boolean(s[360]),stereoMode:s.stereoMode?GA(s.stereoMode):FA.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Tl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Rd(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==qA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=zl(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(FA||(FA={})),function(t){t.iI="auto",t.LD="always",t.MD="never"}(HA||(HA={})),function(t){t.iI="auto",t.UD="playlist",t.FD="media"}(VA||(VA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(XA||(XA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(WA||(WA={}));var lb=function(){function t(t){this.VD=t}return t.prototype.XD=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.VD.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.VD.indexOf(t.charAt(n))<<18|this.VD.indexOf(t.charAt(n+1))<<12|(u=this.VD.indexOf(t.charAt(n+2)))<<6|(s=this.VD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.WD=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.VD.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.VD.charAt(r)+this.VD.charAt(e)+this.VD.charAt(u)+this.VD.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.wm=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.qD=new t(t.wm.XD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function _b(t){return"string"==typeof t}function gb(t){return"number"==typeof t}var wb={}.toString;var yb,mb=Array.isArray||function(t){return"[object Array]"===wb.call(t)};function kb(t,n){return mb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(yb||(yb={}));var pb,Ab=d.keys(yb).map(function(t){return yb[t]});function bb(t){return-1!==Ab.indexOf(t)}function Tb(t){try{var n=lb.qD.XD(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=_b(t.key),r=_b(t.customer_id),e=gb(t.generation_date),u=gb(t.expiration_date),s=kb(t.domains_page,_b),o=kb(t.domains_source,_b),a=kb(t.sdks,bb),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&r&&e&&u&&s&&o&&a&&c))return!1;return!0}(i))throw new f("The provided license could not be decoded correctly.");return i}catch(t){throw new f("The provided license could not be decoded correctly.")}}function Eb(){return pb||(pb={rv:Or.href,zD:Cr.parent&&Cr.parent!==r,GD:Ib()}),pb}var Sb,Rb=["http:","https:","ftp:","ws:","wss:"];function Ib(){try{return Cr.top.location.href}catch(t){return Cr&&Cr.document&&Cr.document.referrer}}!function(t){t[t.jD=0]="jD",t[t.QD=1]="QD",t[t.YD=2]="YD"}(Sb||(Sb={}));var Nb,Db=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.ZD=t,this.JD=n,this.$D=i,this.KD=r,this.tC=e,this.nC=u,this.iC=s,this.rC=o};!function(t){t.QD="expired",t.eC="invaliddomain",t.uC="invalidsource",t.Vl="error"}(Nb||(Nb={}));var Cb=function(){function t(t,n,i){this.sC=t,this.oC=n,this.aC=i,this.cC=Mb(this.aC)}var n=t.prototype;return n.hC=function(t,n){var i=this;if(!rb(t)&&0!==n.$D.length&&!Pb(n.$D)){var r=[];if(ml(t.sources)?r=[t.sources]:$(t.sources)&&(r=t.sources),!r.every(function(t){return i.fC(t,n)})){var e=Nb.uC,u=Fb.vC(e);throw new To(Ob(e),u)}}},n.dC=function(n){return this.lC(n.iC)&&this._C(n)?t.gC(n.KD)?Sb.jD:Sb.QD:Sb.YD},n.lC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.wC(t)})},n.wC=function(t){return"ios"===function(t){switch(t){case yb.ANDROID:return P.dr;case yb.ANDROIDTV:case yb.FIRETV:return P._r;case yb.IOS:return P.gr;case yb.TVOS:return P.wr;case yb.CHROMECAST:case yb.CHROMECASTCAF:return P.yr;default:return P.hr}}(t)},t.gC=function(t){var n=Number(new Date);return!!t&&n<=t},n._C=function(t){return!(this.cC&&0!==t.JD.length&&!Pb(t.JD))||!!(this.cC&&this.yC(t.JD)&&this.mC(t.JD))},n.yC=function(t){return Bb(this.aC.rv,t)},n.mC=function(t){if(!this.aC.zD)return!0;if(this.sC)return!0;var n=this.kC();return!!n&&Bb(n,t)},n.kC=function(){if(this.aC.zD){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.aC.GD?this.aC.GD:void 0}},n.fC=function(n,i){return!!t.pC(n,i.$D)},t.pC=function(t,n){return Bb(this.AC(t),n)},t.AC=function(t){return nt(t)?t:yl(t)&&t.src||""},t}();function Ob(t){switch(t){case Nb.eC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Nb.uC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Nb.QD:return n.ErrorCode.LICENSE_EXPIRED;case Nb.Vl:return n.ErrorCode.LICENSE_ERROR}}function xb(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",u="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",s="(\\*|"+u+")",o=new RegExp("ip-range\\("+s+e+s+e+s+e+s+"\\)"),a=r.match(o),c=function(t){return"*"===t?"("+u+")":t};if(null!==a&&5===a.length){var h=new RegExp("^"+a[1]+e+c(a[2])+e+c(a[3])+e+c(a[4])+"$");return null!==i.match(h)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function Pb(t){return t.some(function(t){return"*"===t})}function Bb(t,n){var i=b.Hu(t);if(!Lb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(xb(i.hostname,e))return!0;if(xb(Mr(t),e))return!0}return!1}function Lb(t){return-1!==Rb.indexOf(t.protocol)}function Mb(t){var n=b.Hu(t.rv);return Lb(n)&&!xb(n.hostname,"localhost")&&!function(t){return xb(t.hostname,"theoplayer.doubleclick.net")}(n)}var Ub,Fb=function(){function t(){}return t.vC=function(t){return t===Nb.eC?this.bC:t===Nb.uC?this.TC:t===Nb.QD?this.EC:this.SC},t}();function Hb(t){var n=[t.kA,t.RC,t.IC];switch(t.RC){case Ub.NC:n.push(t.jl);break;case Ub.DC:n.push(t.S_),n.push(t.Ho);break;case Ub.OC:n.push(t.Ho)}return n}Fb.SC="The license for this player is invalid.",Fb.EC="The usage license for this video player has expired.",Fb.bC="The current domain is incompatible with the license for this player.",Fb.TC="The provided video source is incompatible with the license for this player.",function(t){t[t.NC=1]="NC",t[t.DC=4]="DC",t[t.OC=5]="OC"}(Ub||(Ub={}));for(var Vb=new Array(256),Xb=0;Xb<256;Xb+=1)Vb[Xb]=(Xb<16?"0":"")+Xb.toString(16);function Wb(){var t=Yt(),n=(4294967296*l.random()|0)+t&3029421624,i=(4294967296*l.random()|0)+t&3595553209,r=(4294967296*l.random()|0)+t&1130486254,e=(4294967296*l.random()|0)+t&1284287105;return Vb[255&n]+Vb[n>>>8&255]+Vb[n>>>16&255]+Vb[n>>>24&255]+"-"+Vb[255&i]+Vb[i>>>8&255]+"-"+Vb[i>>>16&15|64]+Vb[i>>>24&255]+"-"+Vb[63&r|128]+Vb[r>>>8&255]+"-"+Vb[r>>>16&255]+Vb[r>>>24&255]+Vb[255&e]+Vb[e>>>8&255]+Vb[e>>>16&255]+Vb[e>>>24&255]}var qb=function(){function t(t){this.VD=t}var n=t.prototype;return n.XD=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.VD.indexOf(t.charAt(n))<<18|this.VD.indexOf(t.charAt(n+1))<<12|(u=this.VD.indexOf(t.charAt(n+2)))<<6|(s=this.VD.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.WD=function(t){var n,i,r,e,u,s,o,a=[],c="";if((s=t.length%3)>0)for(;s++<3;)c+=this.VD.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,a[s/3]=this.VD.charAt(i)+this.VD.charAt(r)+this.VD.charAt(e)+this.VD.charAt(u);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();function zb(){return b.cs()}qb.wm=new qb(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),qb.qD=new qb(qb.wm.XD("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var Gb,jb="theoplayer-session-id";function Qb(){if(!Gb){var t=Ho.Qo(jb);t?Gb=t:(Gb=Wb(),Ho.Cc(jb,Gb))}return Gb}var Yb=/[^\x00-\x7E]/g;function Zb(t){return"\\u"+Ar(t.charCodeAt(0).toString(16),4,"0")}var Jb=0,$b=1,Kb=6e4;function tT(t){var n,i,r,e,u,s=(n=function(t){return[t.xC,t.Ca,t.ZD,t.Bk,t.BC,t.LC,t.MC.map(Hb)]}(t),i=[],r=n,e=function(t,n){if(K(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Yb,Zb));return qb.qD.WD(s)}var nT=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=qb.wm),void 0===e&&(e=Jb),void 0===u&&(u=$b),this.fE=t,this.Ab=n,this.UC=i,this.FC=r,this.HC=e,this.VC=u,this.XC=[],this.WC=null,this.qC=0,this.zC="unknown",this.GC=0,this.jC=function(){zb()-s.qC>Kb&&s.cr()},this.QC=function(){s.cr(!0)},Dr.YC(this.QC),c(this.jC,Kb)}var n=t.prototype;return n.ZC=function(){return Boolean(this.BC)},n.JC=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.UC.$C();case 2:if(t.sent.rC){t.next=5;break}return t.abrupt("return");case 5:return i={RC:Ub.NC,IC:Yt(),jl:n},t.next=8,this.KC(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tO=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={RC:Ub.DC,IC:Yt(),S_:i,Ho:n},t.next=3,this.KC(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nO=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={RC:Ub.OC,IC:Yt(),Ho:n},t.next=3,this.KC(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.KC=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.UC.$C();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.FC.WD(i.ZD)){t.next=6;break}if(n.RC===Ub.OC){t.next=6;break}return t.abrupt("return");case 6:if(n.RC===Ub.NC?this.iO():this.ZC()||this.iO(),n.kA=this.GC++,this.XC.push(n),(r=n.RC)!==Ub.NC&&r!==Ub.OC){t.next=14;break}return t.next=12,this.cr();case 12:t.next=19;break;case 14:if(!(this.XC.length>this.HC)){t.next=19;break}return t.next=17,this.rO();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.cr=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.XC.length>0)){t.next=6;break}return t.next=4,this.rO(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.eO=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.UC.$C();case 2:return i=t.sent,t.abrupt("return",{xC:Yt(),Ca:Qb(),ZD:this.FC.WD(i.ZD)||"dev",Bk:this.fE,BC:this.WC,LC:this.zC,MC:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rO=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.XC.splice(0,this.VC),t.next=4,this.eO(i);case 4:r=t.sent,n?this.Sv(r):this.uO(r),this.qC=zb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.uO=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=tT(n),r=new Rf({rv:"https://license.theoplayer.com",Uf:i,Tv:!1,Jf:zo.ze,Zf:{"Content-Type":tk.yE},pv:4e3,kv:Af.POST}),t.prev=2,t.next=5,this.Ab.tv(r);case 5:return e=t.sent,t.next=8,e.Bf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Sv=function(t){var n=tT(t);this.Ab.Sv({rv:"https://license.theoplayer.com",Uf:n,Mf:tk.yE})},n.iO=function(){this.ZC()&&this.cr(),this.WC=Wb(),this.GC=0},n.Rv=function(){Dr.sO(this.QC),this.cr()},L(t,[{key:"MC",get:function(){return this.XC}},{key:"BC",get:function(){return this.WC}}]),t}();var iT=!j._e&&!j.Se;function rT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var eT=function(){function t(t){this.Vd=void 0,this.oO=void 0,this.KR=t}var n=t.prototype;return n.aO=function(t){if(!t||!t.drawImage)return!1;var n=this.KR.wg();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.cO=function(t,n,i,r,u,s){if(!t||!t.texImage2D)return!1;var o=this.KR,a=o.wg();if(!a)return!1;if(!iT){this.oO||(this.oO=e.createElement("canvas"));var c=this.oO,h=c.getContext("2d"),v=o.B_,d=o.P_,l=c.width,_=c.height;h.clearRect(0,0,c.width,c.height),l===v&&_===d||(c.width=v,c.height=d),h.drawImage(a,0,0,v,d);var g=!1;v>0&&rT(h,v-1,0)&&(c.width=l,g=!0),d>0&&rT(h,0,d-1)&&(c.height=_,g=!0),g&&h.drawImage(a,0,0,v,d),a=c}try{t.texImage2D(n,i,r,u,s,a)}catch(t){throw new f("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},L(t,[{key:"Xd",get:function(){return this.Vd||(this.Vd=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.aO.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.cO(n,i,r,e,u,s)}}));var t}}]),t}(),uT=function(t){function n(n,i){var r;return(r=t.call(this,"hO")||this).rs=n,r.dp=i,r}return M(n,t),n.prototype.Wd=function(){return new sT(this.rs,this.dp)},n}(vd),sT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return M(n,t),n}(Su),oT=function(t,n){this.Rg=t,this.fO=n},aT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).vO=0,r.dO=0,r.lO=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.dO=n.width,r.vO=n.height,r.fO(r.dO,r.vO)}},r._O=new Cr.ResizeObserver(r.lO),r._O.observe(r.Rg),r}return M(n,t),n.prototype.Rv=function(){this._O.disconnect()},L(n,[{key:"gO",get:function(){return this.vO}},{key:"wO",get:function(){return this.dO}}]),n}(oT),cT=0;function hT(t){var n=zb(),i=l.max(0,16-(n-cT)),r=o(function(){return t(n+i)},i);return cT=n+i,r}var fT,vT=a,dT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,lT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function _T(){return fT||(fT=Cr&&Cr.document&&Cr.document.createElement("span")),fT}dT&&lT||(dT=hT,lT=vT),dT=dT.bind(t),lT=lT.bind(t);var gT=["Webkit","Moz","O","ms"],wT=(function(){var t=!1;try{if(void 0!==Cr&&"function"==typeof Cr.addEventListener){var n=d.defineProperty({},"passive",{get:function(){t=!0}});Cr.addEventListener("testPassiveEventSupport",S,n),Cr.removeEventListener("testPassiveEventSupport",S,n)}}catch(t){}}(),ge());function yT(t){return wT.has(t)||wT.set(t,function(t){var n=_T();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<gT.length;r++){var e=gT[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),wT.get(t)}function mT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function kT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[yT("transition")]="0s"}var pT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).yO=void 0,e.mO=0,e.dO=NaN,e.vO=NaN,e.kO=void 0,e.ml=function(){e.pO.style.width=1e5+"px",e.pO.style.height=1e5+"px",e.AO.scrollLeft=1e5,e.AO.scrollTop=1e5,e.bO.scrollLeft=1e5,e.bO.scrollTop=1e5,0===e.bO.scrollTop&&dT(e.ml)},e.TO=function(){var t=e.wO,n=e.gO;e.fO(t,n),e.dO=t,e.vO=n,e.ml(),e.mO=0},e.EO=function(){if(!e.mO){var t=e.wO,n=e.gO;t===e.dO&&n===e.vO||(e.mO=dT(e.TO))}},e.SO=function(){e.kO||(e.kO=o(e.RO,66))},e.RO=function(){e.kO=void 0,e.IO()},e.IO=function(){e.EO()},e.Ba(r),e}M(n,t);var i=n.prototype;return i.NO=function(){var t,n=this.Rg,i=e.createElement("div");return this.AO=e.createElement("div"),this.pO=e.createElement("div"),this.bO=e.createElement("div"),this.DO=e.createElement("div"),mT(this.AO),mT(this.bO),kT(this.pO),kT(t=this.DO),t.style.width="200%",t.style.height="200%",i.appendChild(this.AO),i.appendChild(this.bO),this.AO.appendChild(this.pO),this.bO.appendChild(this.DO),n&&n.appendChild(i),this.EO(),this.AO.addEventListener("scroll",this.EO),this.bO.addEventListener("scroll",this.EO),i},i.Ba=function(t){var n=this.Rg,i=function(t,n){return r.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.yO=this.NO(),r&&r.addEventListener("resize",this.SO)},i.Rv=function(){this.yO&&(lT(this.mO),this.mO=0,this.AO.removeEventListener("scroll",this.EO),this.bO.removeEventListener("scroll",this.EO),Hr(this.yO),this.yO=void 0,r&&r.removeEventListener("resize",this.SO))},L(n,[{key:"gO",get:function(){return this.Rg&&this.Rg.getBoundingClientRect().height||this.vO||0}},{key:"wO",get:function(){return this.Rg&&this.Rg.getBoundingClientRect().width||this.dO||0}}]),n}(oT),AT=function(t){function n(n){var i;return(i=t.call(this)||this)._O=void 0,i.lO=function(t,n){i.To(new uT(t,n))},i.Rg=n,i}M(n,t);var i=n.prototype;return i.Ba=function(t){this._O||("function"==typeof Cr.ResizeObserver?this._O=new aT(this.Rg,this.lO):this._O=new pT(this.Rg,this.lO,t))},i.Rv=function(){this.No(),this._O&&(this._O.Rv(),this._O=void 0)},L(n,[{key:"gO",get:function(){return this._O?this._O.gO:0}},{key:"wO",get:function(){return this._O?this._O.wO:0}}]),n}(Tu),bT=function(t){function n(){return t.call(this,tA.nl)||this}return M(n,t),n}(Su);var TT=function(){if(e)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in e)return{CO:i[0],OO:i[1],xO:i[2],PO:i[3],BO:i[4],LO:i[5]}}}(),ET=function(t){function n(){return t.call(this,tA.nN)||this}return M(n,t),n}(Su),ST=function(t){function n(i){var r;return(r=t.call(this)||this).iN=!1,r.MO=function(){return r.NN()},r.UO=function(){return r.CN()},r.Rg=i,r.rN=n.FO(i),e.addEventListener(TT.BO,r.MO),r.NN(),r}M(n,t),n.FO=function(t){return Boolean(TT&&e[TT.PO]&&TT.CO in t)};var i=n.prototype;return i.nw=function(){var t=this.Rg[TT.CO]();t&&t.then?t.then(this.MO,this.UO):(e.removeEventListener(TT.LO,this.UO),e.addEventListener(TT.LO,this.UO))},i.rw=function(){var t=e[TT.OO]();t&&t.then?t.then(this.MO,this.UO):(e.removeEventListener(TT.LO,this.UO),e.addEventListener(TT.LO,this.UO))},i.NN=function(){var t=this.iN,n=this.Rg===e[TT.xO];this.iN=n,t!==n&&this.To(new bT)},i.CN=function(){this.To(new eA)},i.Rv=function(){this.No(),e.removeEventListener(TT.BO,this.MO),e.removeEventListener(TT.LO,this.UO)},n}(Tu),RT=function(t){function n(i){var r;return(r=t.call(this)||this).iN=!1,r.MO=function(){return r.NN()},r.Rg=i,r.rN=n.FO(i),r.Rg.addEventListener("webkitbeginfullscreen",r.MO),r.Rg.addEventListener("webkitendfullscreen",r.MO),r.Rg.addEventListener("webkitpresentationmodechanged",r.MO),r.NN(),r}M(n,t),n.FO=function(t){return j._e&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.nw=function(){var t=this;this.Rg.webkitSupportsPresentationMode&&this.Rg.webkitSupportsPresentationMode("fullscreen")?j._e?requestAnimationFrame(function(){return t.Rg.webkitSetPresentationMode("fullscreen")}):this.Rg.webkitSetPresentationMode("fullscreen"):this.Rg.webkitEnterFullscreen()},i.rw=function(){this.Rg.webkitSupportsPresentationMode&&this.Rg.webkitSupportsPresentationMode("inline")?this.Rg.webkitSetPresentationMode("inline"):this.Rg.webkitExitFullscreen()},i.NN=function(){var t,n=this.iN;t=this.Rg.webkitPresentationMode?"fullscreen"===this.Rg.webkitPresentationMode:!!this.Rg.webkitDisplayingFullscreen,this.iN=t,n!==t&&this.To(new bT)},i.Rv=function(){this.No(),this.Rg.removeEventListener("webkitbeginfullscreen",this.MO),this.Rg.removeEventListener("webkitendfullscreen",this.MO),this.Rg.removeEventListener("webkitpresentationmodechanged",this.MO)},n}(Tu),IT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).HO=[],n.VO=void 0,n.IN=!1,n.NN=function(){var t=n.IN,i=n.XO();t!==i&&(n.IN=i,n.To(new bT))},n}M(n,t);var i=n.prototype;return i.nw=function(){this.VO?this.VO.nw():this.To(new eA)},i.rw=function(){for(var t=0,n=this.HO;t<n.length;t++){var i=n[t];i.iN&&i.rw()}},i.WO=function(t){this.VO=t},i.qO=function(t){this.HO.push(t),t.So(tA.nl,this.NN),t.So(tA.Vl,this.bo),this.NN()},i.zO=function(t){Je(this.HO,t),t.Do(tA.nl,this.NN),t.Do(tA.Vl,this.bo)},i.XO=function(){for(var t=0,n=this.HO;t<n.length;t++){if(n[t].iN)return!0}return!1},i.ml=function(){this.VO=void 0,this.IN=!1;for(var t=this.HO.slice(),n=0;n<t.length;n++){var i=t[n];this.zO(i),i.Rv()}this.NN()},i.Rv=function(){this.No(),this.ml()},L(n,[{key:"rN",get:function(){return!!this.VO&&this.VO.rN}},{key:"iN",get:function(){return this.IN}}]),n}(Tu),NT=function(t){function n(n,i){var r;return(r=t.call(this)||this).GO=!1,r.jO=function(){return r.Sa()},r.NN=function(t){r.GO||r.To(t)},r.KR=n,r.QO=i,r.YO=uA,r.ZO(),r.KR.So(qo.qc,r.jO),r.Sa(),r}M(n,t);var i=n.prototype;return i.nw=function(){this.QO&&this.YO.nw()},i.rw=function(){this.YO.rw()},i.ZO=function(){this.YO.So(tA.nl,this.NN),this.YO.So(tA.Vl,this.bo)},i.JO=function(){this.YO.Do(tA.nl,this.NN),this.YO.Do(tA.Vl,this.bo)},i.Sa=function(){var t=this.YO,n=this.KR.yg();if(t!==n){this.GO=!0;var i=this.iN,r=this.rN;i&&this.rw(),this.JO(),this.YO=n,this.ZO(),i&&!this.iN&&this.rN?this.nw():this.rw(),this.GO=!1,r!==this.rN&&this.To(new ET),i!==this.iN&&this.To(new bT)}},i.Rv=function(){this.No(),this.JO(),this.KR.Do(qo.qc,this.jO)},L(n,[{key:"rN",get:function(){return!!this.QO&&this.YO.rN}},{key:"iN",get:function(){return this.YO.iN}}]),n}(Tu);function DT(t){var n;return{get url(){return t.rv},get method(){return t.kv},get headers(){return n||(n=t.Zf.kh()),n},get body(){return t.Uf},get useCredentials(){return t.Tv},get type(){return BT(t.js)},get subType(){return MT(t.Av)},get mediaType(){return FT(t.bv)},get responseType(){return OT(t.Jf)}}}function CT(t){switch(t.toLowerCase()){case"arraybuffer":return zo.wh;case"json":return zo.yh;case"stream":return zo.mh;case"text":default:return zo.ze}}function OT(t){return t}function xT(t){switch(t.toUpperCase()){case"POST":return Af.POST;case"PUT":return Af.PUT;case"DELETE":return Af.DELETE;case"HEAD":return Af.HEAD;case"OPTIONS":return Af.OPTIONS;case"GET":default:return Af.GET}}function PT(t){switch(t.toLowerCase()){case"manifest":return bf.sv;case"segment":return bf.ov;case"content-protection":return bf.av;default:return bf.uv}}function BT(t){return t}function LT(t){switch(t.toLowerCase()){case"initialization-segment":return Tf.cv;case"fairplay-license":return Tf.hv;case"fairplay-certificate":return Tf.fv;case"widevine-license":return Tf.vv;case"widevine-certificate":return Tf.dv;case"playready-license":return Tf.lv;case"clearkey-license":return Tf._v;case"aes128-key":return Tf.gv;default:return Tf.uv}}function MT(t){return t}function UT(t){switch(t.toLowerCase()){case"audio":return Ef.wv;case"video":return Ef.yv;case"text":return Ef.ze;case"image":return Ef.mv;case"":default:return Ef.uv}}function FT(t){return t}var HT=function(){function t(t,n){this.$O=t,this.KO=n,this.tx=new js,this.nx=[],this.Vd=void 0,this.ix=!1,this.Fv=void 0,this.ex=0}var n=t.prototype;return n.Tk=function(){this.ix=!0,this.tx.aa(null)},n.ux=function(){this.tx.ca(this.nx)},n.sx=function(t){if(!this.ox)throw new v("Cannot respond more than once");if(!K(t))throw new v("Expected valid response");this.Fv=this.ax(t),this.Tk()},n.hx=function(){try{var t=this.KO(this.Xd);t?this.vx(t):this.lx||this._x||this.Tk()}catch(t){this.ux()}},n.vx=function(t){if(this._x)throw new f("Request has been redirected or a response already exists");if(rt(t))this.gx(t);else{if("function"!=typeof t)throw new v("Expected promise or function");var n=new js;try{var i=t(function(t){t?n.ca(t):n.aa(void 0)});rt(i)&&n.aa(i)}catch(t){n.ca(t)}this.gx(n.oa)}},n.gx=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.ex++,t.next=4,n;case 4:this.ex--,this.lx||this._x||(this.nx.length?this.ux():this.Tk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.ex--,this.nx.push(t.t0),this.lx||this._x||this.ux();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"wx",get:function(){return this.tx.oa}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.yx()),this.Vd}},{key:"_x",get:function(){return this.ix}},{key:"ox",get:function(){return!this.ix}},{key:"lx",get:function(){return this.ex>0}},{key:"Hv",get:function(){return this.Fv}}]),t}(),VT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).mx=r,e.hx(),e}M(n,t),n.kx=function(t,n,i){var r=void 0===t.body?i:t.body;return new Sf({pu:r,tv:n.tv,Jf:n.tv.Jf,Zf:t.headers,Yf:t.status,$f:t.statusText,nv:t.url,Kf:!0},n)};var i=n.prototype;return i.yx=function(){return i=DT((t=this).tv),{get closed(){return!t.ox},get request(){return i},get url(){return t.rv},get status(){return t.Yf},get statusText(){return t.$f},get headers(){return n||(n=t.Zf.kh()),n},get body(){return t.Uf},respondWith:function(n){return t.sx(n)},waitUntil:function(n){return t.vx(n)}};var t,n,i},i.ax=function(t){return n.kx(t,this.$O,this.mx)},L(n,[{key:"Uf",get:function(){return this.mx}},{key:"Zf",get:function(){return this.$O.Zf}},{key:"tv",get:function(){return this.$O.tv}},{key:"Hv",get:function(){return this.Fv}},{key:"Yf",get:function(){return this.$O.Yf}},{key:"$f",get:function(){return this.$O.$f}},{key:"rv",get:function(){return this.$O.nv}}]),n}(HT),XT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).Ax=void 0,e.bx=r,e.hx(),e}M(n,t);var i=n.prototype;return i.yx=function(){return t=this,{get url(){return t.rv},get method(){return t.kv},get headers(){return n||(n=t.Zf.kh()),n},get body(){return t.Uf},get closed(){return!t.ox},get useCredentials(){return t.Tv},get type(){return BT(t.js)},get subType(){return MT(t.Av)},get mediaType(){return FT(t.bv)},get responseType(){return OT(t.Jf)},redirect:function(n){return t.Tx(n)},respondWith:function(n){return t.sx(n)},waitUntil:function(n){return t.vx(n)}};var t,n},i.ax=function(t){var n=this.$O.Uf,i=new Sf({pu:n,Zf:{},tv:this.$O,nv:this.$O.rv,Jf:this.$O.Jf,Yf:200,$f:"OK"});return VT.kx(t,i,n)},i.Tx=function(t){if(!this.ox)throw new v("Cannot redirect, already redirected or has a response");var n;n=nt(t)?{url:t}:t,this.Ax=function(t,n){return new Rf({rv:void 0===t.url?n.rv:t.url,kv:void 0!==t.method?xT(t.method):void 0,Zf:t.headers,Uf:t.body,Tv:t.useCredentials,js:void 0!==t.type?PT(t.type):void 0,Av:void 0!==t.subType?LT(t.subType):void 0,bv:void 0!==t.mediaType?UT(t.mediaType):void 0,Jf:void 0!==t.responseType?CT(t.responseType):void 0},n)}(n,this.$O),this.Tk()},L(n,[{key:"Uf",get:function(){return this.$O.Uf}},{key:"ox",get:function(){return this.bx&&!this.ix}},{key:"Zf",get:function(){return this.$O.Zf}},{key:"kv",get:function(){return this.$O.kv}},{key:"Ex",get:function(){return this.Ax}},{key:"Hv",get:function(){return this.Fv}},{key:"Jf",get:function(){return this.$O.Jf}},{key:"pv",get:function(){return this.$O.pv}},{key:"ko",get:function(){return this.$O.ko}},{key:"js",get:function(){return this.$O.js}},{key:"Av",get:function(){return this.$O.Av}},{key:"bv",get:function(){return this.$O.bv}},{key:"rv",get:function(){return this.$O.rv}},{key:"Tv",get:function(){return this.$O.Tv}},{key:"Ev",get:function(){return this.$O.Ev}}]),n}(HT);var WT,qT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new zT(n);return(r=t.call(this,e,i)||this).Sx=e,r}M(n,t);var i=n.prototype;return i.Rx=function(t){this.Sx.Rx(t)},i.Ix=function(t){this.Sx.Ix(t)},i.Nx=function(t){this.Sx.Nx(t)},i.Dx=function(t){this.Sx.Dx(t)},i.Cx=function(t){this.Sx.Cx(t)},n}(Df),zT=function(){function t(t){this.Ox=[],this.xx=[],this.Iv=t}var n=t.prototype;return n.tv=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Px(n,n.ko);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Cf)){t.next=12;break}return t.next=11,this.Bx(t.t0,n.ko);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.Lx(i,n.ko);case 15:if(!pf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new xf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Sv=function(t){return this.Iv.Sv(t)},n.Px=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:au(i),r=n,u=0,s=this.Ox.slice();case 3:if(!(u<s.length)){t.next=21;break}if(o=s[u],au(i),(a=new XT(r,o,!e))._x){t.next=17;break}return t.prev=8,t.next=11,a.wx;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:a.Ex&&!e?r=a.Ex:a.Hv&&!e&&(e=a.Hv);case 18:u++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Iv.tv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Bx=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof xf?n.Hv:new Sf({pu:null,tv:n.tv,Yf:0,$f:""}),t.next=3,this.Lx(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!pf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new xf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Lx=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,u=this.xx.slice();case 2:if(!(e<u.length)){t.next=23;break}return s=u[e],au(i),t.next=7,T.resolve(r.ia().pu(i));case 7:if(o=t.sent,(a=new VT(r,s,o))._x){t.next=19;break}return t.prev=10,t.next=13,a.wx;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=a.Hv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.Rx=function(t){this.Ox.unshift(t)},n.Ix=function(t){this.Ox.push(t)},n.Nx=function(t){Je(this.Ox,t)},n.Dx=function(t){this.xx.unshift(t)},n.Cx=function(t){Je(this.xx,t)},n.Rv=function(){this.Iv.Rv(),nu(this.Ox),nu(this.xx)},t}(),GT=function(){function t(t){this.Ab=t}var n=t.prototype;return n.Rx=function(t){this.Ab.Rx(t)},n.Nx=function(t){this.Ab.Nx(t)},n.Dx=function(t){this.Ab.Dx(t)},n.Cx=function(t){this.Ab.Cx(t)},L(t,[{key:"Xd",get:function(){var t;return this.Vd||(this.Vd=(t=this,{addRequestInterceptor:function(n){t.Rx(n)},removeRequestInterceptor:function(n){t.Nx(n)},addResponseInterceptor:function(n){t.Dx(n)},removeResponseInterceptor:function(n){t.Cx(n)}})),this.Vd}}]),t}(),jT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).Mx=n,e.Ab=i,e.fN=r,e.Mx.So(qo.Zc,e.bo),e.Mx.So(qo.Yc,e.bo),e}M(n,t);var i=n.prototype;return i.Ux=function(t){this.fN.Ux(t)},i.Rx=function(t){this.Ab.Rx(t)},i.Nx=function(t){this.Ab.Nx(t)},i.Dx=function(t){this.Ab.Dx(t)},i.Cx=function(t){this.Ab.Cx(t)},i.Rv=function(){this.No(),this.Mx.Do(qo.Zc,this.bo),this.Mx.Do(qo.Yc,this.bo)},L(n,[{key:"Xd",get:function(){var t;return this.Vd||(this.Vd=(t=this,{get online(){return t.Bg},get estimator(){return n=t.Fx,{get bandwidth(){return n.XS},get roundTripTime(){return n.WS}};var n},setEstimator:function(n){t.Ux(function(t){if(t)return{get XS(){return xd(t.bandwidth)},get WS(){return xd(t.roundTripTime)},VS:function(n){return function(t){if(t)return{Hx:function(n){t.markRequestStart(n)},Vx:function(n){t.markResponseStart(n)},Xx:function(n,i){t.markResponseData(n,i)},Wx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(DT(n)))}}}(n))},addRequestInterceptor:function(n){t.Rx(n)},removeRequestInterceptor:function(n){t.Nx(n)},addResponseInterceptor:function(n){t.Dx(n)},removeResponseInterceptor:function(n){t.Cx(n)},addEventListener:function(n,i){t.So(n,i)},removeEventListener:function(n,i){t.Do(n,i)}})),this.Vd}},{key:"Bg",get:function(){return this.Mx.Bg}},{key:"Fx",get:function(){return this.fN.Fx}}]),n}($d);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(WT||(WT={}));var QT=30,YT=1,ZT=5;function JT(t,n,i,r,e,u){var s=[],o=t-l.max(u,YT),a=t+e;if(n&&i){var c=Wt(i,YT,ZT),h=n-c;o=l.min(o,h);var f=n+i+c;a=l.max(a,f)}return 0!==o&&r.XI(0,o)&&s.push([0,o]),r.XI(a,1/0)&&s.push([a,1/0]),s}var $T={type:WT.BANDWIDTH},KT=20,tE=60;function nE(t){var n,i,r,e=Rd($T);return nt(t)?e.type=iE(t):K(t)&&function(t){switch(t){case WT.PERFORMANCE:case WT.QUALITY:case WT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=iE(t.type)),K(t)&&K(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Od(n.bitrate),w(r)||(i.bitrate=r),i)),e}function iE(t){switch(t){case"bandwidth":return WT.BANDWIDTH;case"performance":return WT.PERFORMANCE;case"quality":return WT.QUALITY}}var rE=function(t){function n(n){var i;return(i=t.call(this,"zx")||this).qx=n,i}return M(n,t),n}(Su),eE=function(t){function n(n){var i;return(i=t.call(this,"jx")||this).Gx=n,i}return M(n,t),n}(Su),uE=function(t){function n(n){var i;return(i=t.call(this,"Yx")||this).Qx=n,i}return M(n,t),n}(Su),sE=function(t){function n(){var n,i;return(n=t.apply(this,arguments)||this).Vd=(i=rn(n),{get strategy(){return{metadata:(t=i.Gx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.Gx=nE(t)},get targetBuffer(){return i.qx},set targetBuffer(t){var n=Od(t);w(n)||(i.qx=n>tE?tE:n)},get bufferLookbackWindow(){return i.Qx},set bufferLookbackWindow(t){var n=Od(t);w(n)||(i.Qx=n<=0?QT:n)}}),n.Zx=$T,n.Jx=KT,n.$x=QT,n.Kx=void 0,n}M(n,t);var i=n.prototype;return i.$b=function(t){this.tP=t},i.Ux=function(t){this.Kx=t},L(n,[{key:"nP",get:function(){switch(this.Zx.type){case WT.PERFORMANCE:return 0;case WT.QUALITY:return 1/0;case WT.BANDWIDTH:return this.Zx.metadata&&void 0!==this.Zx.metadata.bitrate?this.Zx.metadata.bitrate:8*il.u_();default:return 8*il.u_()}}},{key:"Xd",get:function(){return this.Vd}},{key:"Gx",get:function(){return this.Zx},set:function(t){this.Zx=t,this.To(new eE(t))}},{key:"qx",get:function(){return this.Jx},set:function(t){this.Jx=t,this.To(new rE(t))}},{key:"Qx",get:function(){return this.$x},set:function(t){this.$x=t,this.To(new uE(t))}},{key:"Fx",get:function(){var t;return null!==(t=this.Kx)&&void 0!==t?t:this.tP.MR}}]),n}(Tu),oE=function(t){function n(){return t.call(this,"il")||this}return M(n,t),n.prototype.Wd=function(){return new aE},n}(vd),aE=function(t){function n(){return t.call(this,"change")||this}return M(n,t),n}(Su),cE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).iP=function(t){var n;n=t,Boolean(n&&n.Xd)&&_u(function(){r.To(t.Xd)})},r.rP=n,r.rP.Io(r.iP),r}return M(n,t),n.prototype.Rv=function(){this.No(),this.rP.xo(this.iP)},n}($d),hE=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n}(cE);var fE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).kw=0,n.pw=1/0,n}M(n,t);var i=n.prototype;return i.ml=function(){0===this.kw&&this.pw===1/0||(this.kw=0,this.pw=1/0,this.To(new oE))},i.eP=function(){return new iA([this.uw,this.sw],[!0,!0])},L(n,[{key:"uw",get:function(){return this.kw},set:function(t){if(this.sw<=t)throw new f("Start time of a clip should be smaller than the end time.");this.kw!==t&&(this.kw=t,this.To(new oE))}},{key:"sw",get:function(){return this.pw},set:function(t){if(t<=this.uw)throw new f("End time of a clip should be larger than the start time.");this.pw!==t&&(this.pw=t,this.To(new oE))}},{key:"Xd",get:function(){var t,n,i;return this.Vd||(this.Vd=(i={get startTime(){return t.uw},set startTime(n){t.uw=n},get endTime(){return t.sw},set endTime(n){t.sw=n},addEventListener:function(t,i){n.So(t,i)},removeEventListener:function(t,i){n.Do(t,i)}},n=new cE(t=this,i),i)),this.Vd}}]),n}($d),vE=function(t){function n(n){var i;return(i=t.call(this)||this).uP=n,i.sP=function(t){i.oP(t)||i.To(t)},i.uP.Io(i.sP),i}M(n,t);var i=n.prototype;return i.aP=function(){return this.uP.tg},i.mg=function(){return this.uP.mg()},i.cP=function(){return this.uP.Eg},i.hP=function(){return this.uP.bg},i.fP=function(){return this.uP.Sg},i.vP=function(t){this.uP.Sg=t},i.dP=function(){return this.uP.S_},i.lP=function(t){this.uP.S_=t},i._P=function(){return this.uP.R_},i.gP=function(){return this.uP.Rg},i.wP=function(){return this.uP.I_},i.yP=function(){return this.uP.Ho},i.mP=function(){return this.uP.N_},i.kP=function(){return this.uP.Ig},i.pP=function(){return this.uP.D_},i.AP=function(t){this.uP.D_=t},i.bP=function(){return this.uP.Bg},i.TP=function(){return this.uP.C_},i.EP=function(){return this.uP.O_},i.SP=function(t){this.uP.O_=t},i.RP=function(){return this.uP.Lg},i.IP=function(){return this.uP.Mg},i.NP=function(t){this.uP.Mg=t},i.DP=function(){return this.uP.ql},i.CP=function(){return this.uP.Ug},i.OP=function(){return this.uP.x_},i.og=function(){return this.uP.og()},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(i),t.next=3,this.uP.ag(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xP=function(){return this.uP.ig},i.PP=function(){return this.uP.P_},i.BP=function(){return this.uP.ng},i.LP=function(){return this.uP.B_},i.MP=function(){return this.uP.L_},i.UP=function(t){this.uP.L_=t},i.yg=function(){return this.uP.yg()},i.wg=function(){return this.uP.wg()},i.dg=function(t){this.uP.dg(t)},i.lg=function(){this.uP.lg()},i.gg=function(){this.uP.gg()},i.vg=function(){this.uP.vg()},i.ug=function(){this.uP.ug()},i.eg=function(){this.uP.eg()},i._g=function(){this.uP._g()},i.sg=function(){return this.uP.sg()},i.cg=function(){return this.uP.cg()},i.hg=function(){this.uP.hg()},i.fg=function(){this.uP.fg()},i.ml=function(){return this.uP.ml()},i.Rv=function(){return this.uP.Rv()},i.Tg=function(){this.uP.Tg()},i.kg=function(t){return this.uP.kg(t)},i.oP=function(t){return!1},L(n,[{key:"tg",get:function(){return this.aP()}},{key:"Eg",get:function(){return this.cP()}},{key:"Sg",get:function(){return this.fP()},set:function(t){this.vP(t)}},{key:"bg",get:function(){return this.hP()}},{key:"S_",get:function(){return this.dP()},set:function(t){this.lP(t)}},{key:"R_",get:function(){return this._P()}},{key:"Rg",get:function(){return this.gP()}},{key:"I_",get:function(){return this.wP()}},{key:"Ho",get:function(){return this.yP()}},{key:"N_",get:function(){return this.mP()}},{key:"rg",get:function(){return this.uP.rg}},{key:"Ig",get:function(){return this.kP()}},{key:"q_",get:function(){return this.uP.q_}},{key:"D_",get:function(){return this.pP()},set:function(t){this.AP(t)}},{key:"Bg",get:function(){return this.bP()}},{key:"C_",get:function(){return this.TP()}},{key:"O_",get:function(){return this.EP()},set:function(t){this.SP(t)}},{key:"Lg",get:function(){return this.RP()}},{key:"Mg",get:function(){return this.IP()},set:function(t){this.NP(t)}},{key:"ql",get:function(){return this.DP()}},{key:"Ug",get:function(){return this.CP()}},{key:"x_",get:function(){return this.OP()}},{key:"ig",get:function(){return this.xP()}},{key:"P_",get:function(){return this.PP()}},{key:"ng",get:function(){return this.BP()}},{key:"B_",get:function(){return this.LP()}},{key:"L_",get:function(){return this.MP()},set:function(t){this.UP(t)}}]),n}(Kd),dE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).FP=!1,e.HP=void 0,e.VP=!1,e.XP=function(){e.WP(),e.qP()},e.YS=function(){e.zP(),e.qP(),e.GP&&e.S_>=e.jP.sw-n.QP&&!e.I_&&(e.HP=dT(e.YS))},e.YP=function(){e.VP=!0},e.ZP=function(){e.VP&&(e.VP=!1,e.qP())},e.jP=r,e.jP.So("il",e.XP),e.uP.So("timeupdate",e.YS),e}M(n,t);var i=n.prototype;return i.lP=function(n){var i=this.jP.eP().SI(n);t.prototype.lP.call(this,i),this.qP()},i.wP=function(){return t.prototype.wP.call(this)||this.FP},i.CP=function(){return iA.JI(t.prototype.CP.call(this)).NI(this.jP.eP()).OR()},i.eg=function(){this.wP()?this.lP(this.JP.start(0)):this.WP(),t.prototype.eg.call(this),this.qP()},i.ag=function(){var n=T.coroutine(de.mark(function n(i,r){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return au(r),this.FP=!1,this.jP.ml(),n.next=5,t.prototype.ag.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Rv=function(){return this.jP.Do("il",this.XP),this.uP.Do("timeupdate",this.YS),this.zP(),t.prototype.Rv.call(this)},i.oP=function(n){switch(n.type){case"seeking":return this.To(n),this.YP(),!0;case"seeked":case"emptied":return this.To(n),this.ZP(),!0;case"ended":if(this.GP)return!0}return t.prototype.oP.call(this,n)},i.zP=function(){this.HP&&(lT(this.HP),this.HP=void 0)},i.qP=function(){var t=this.S_,i=this.GP&&t>=this.jP.sw-n.Xy;this.FP&&!i?(this.FP=!1,this.C_&&this.eg()):this.FP||!i||this.x_||this.VP||(this.FP=!0,this.To(new Ll(t)),this.ug())},i.WP=function(){if(this.R_!==1/0){var t=this.JP,i=iA.JI(t).SI(this.S_);qt(this.S_,i,n.Xy)||this.lP(i)}},L(n,[{key:"JP",get:function(){return this.CP().length?this.CP():this.jP.eP().OR()}},{key:"GP",get:function(){return this.jP.sw<this.R_}}]),n}(vE);dE.QP=1,dE.Xy=.001;var lE=function(){function t(){this.$P=!1}return L(t,[{key:"KP",get:function(){return this.$P},set:function(t){this.$P=t}}]),t}(),_E=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).tB=!1,r.nB=!1,r.$P=i,r}M(n,t);var i=n.prototype;return i.wP=function(){return!this.$P.KP&&t.prototype.wP.call(this)},i.ug=function(){this.nB=!0,t.prototype.ug.call(this)},i.eg=function(){this.nB=!1,t.prototype.eg.call(this)},i.oP=function(n){if(this.$P.KP)switch(n.type){case"ended":return this.S_=0,this.nB||(this.x_?this.tB=!0:this.eg()),!0;case"seeked":this.tB&&(this.tB=!1,this.eg());break;case"pause":if(this.tB||t.prototype.wP.call(this))return!0}return t.prototype.oP.call(this,n)},n}(vE);var gE=function(){function t(t){var n;this.cI=t,this.Vd=(n=this,{get currentBandwidthEstimate(){return n.Og},get corruptedVideoFrames(){return n.Dg},get droppedVideoFrames(){return n.Ng},get totalBytesLoaded(){return n.xg},get bufferedSegments(){return n.Pg}})}return L(t,[{key:"Xd",get:function(){return this.Vd}},{key:"Dg",get:function(){return this.cI.iB.q_.Dg}},{key:"Og",get:function(){return this.cI.iB.q_.Og}},{key:"Ng",get:function(){return this.cI.iB.q_.Ng}},{key:"rB",get:function(){throw new f("Not implemented")}},{key:"eB",get:function(){throw new f("Not implemented")}},{key:"xg",get:function(){return this.cI.iB.q_.xg}},{key:"Cg",get:function(){return this.cI.iB.q_.Cg}},{key:"Pg",get:function(){return this.cI.iB.q_.Pg}}]),t}();function wE(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function yE(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function mE(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function kE(t){return t&&Gr(t)?{Ng:wE(t),Dg:yE(t),Cg:mE(t)}:{Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}var pE=function(t){function n(){return t.call(this,"uB")||this}return M(n,t),n.prototype.Wd=function(){return new AE},n}(vd),AE=function(t){function n(){return t.call(this,"castingchange")||this}return M(n,t),n}(Su);var bE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sB=[],n.Vd=void 0,n.oB=function(){return n.To(new pE)},n}M(n,t);var i=n.prototype;return i.aB=function(t){this.sB.push(t),t.So("statechange",this.oB)},i.Rv=function(){var t=this;this.sB.forEach(function(n){n.Do("statechange",t.oB)}),nu(this.sB)},L(n,[{key:"cB",get:function(){return this.sB.some(function(t){return t.cB})}},{key:"Xd",get:function(){var t,n,i;return this.Vd||(this.Vd=(i={get casting(){return t.cB},addEventListener:function(t,i){n.So(t,i)},removeEventListener:function(t,i){n.Do(t,i)}},n=new hE(t=this,i),i)),this.Vd}}]),n}(Kd),TE=function(){function t(){}return t.hB=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Rf({rv:n,Jf:zo.ze,kv:Af.GET}),t.next=4,i.tv(r);case 4:return e=t.sent,t.next=7,e.pu();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),ou(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.fB=function(t){try{var i=Tb(t);return new Db(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new To(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.vB=function(t){void 0===t&&(t=qb.wm),b.fs("The baked-in license is used. Please update the configuration with your license.");var n=t.XD(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.XD(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.XD(n)}),e=Number(new Date(Number(t.XD("COD|aHpHa:p3Ceo3Co\"\""))));return new Db(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Db(t.ZD,t.JD,t.$D,864e13,t.tC,Date.now(),t.iC,t.rC)},t}(),EE=function(){function t(){}return t.Oc=function(){return t.Ve||(t.Ve=SE.Wa()?new SE:new Fo),t.Ve},t.Jo=function(n){t.Oc().Jo(n)},t.Dc=function(){t.Oc().Dc()},t.Qo=function(n){return t.Oc().Qo(n)},t.Cc=function(n,i){t.Oc().Cc(n,i)},t.dB=function(n){var i=t.Qo(n);if(void 0!==i)return g(i)},t.lB=function(n){return"true"===t.Qo(n)},t}();EE.Ve=void 0;var SE=function(n){function i(){return n.apply(this,arguments)||this}M(i,n),i.Wa=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Jo=function(n){t.localStorage.removeItem(n)},r.Dc=function(){t.localStorage.clear()},r.Qo=function(n){return t.localStorage[n]},r.Cc=function(n,i){t.localStorage[n]=i},i}(EE),RE=l.floor(14399999*l.random()-72e5),IE=function(){function t(t,n,i,r,e,u){this.Ab=t,this._B=n,this.gB=i,this.UC=r,this.wB=e,this.aC=u,this.cC=Mb(u)}var i=t.prototype;return i.yB=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mB(this.wB.license,this.wB.licenseUrl);case 2:n=t.sent,this.UC.kB(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mB=function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o,a,c,h,f;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?u=TE.fB(i):e||(u=TE.vB()),e||(e="https://validate.theoplayer.com/1/"+u.ZD),s=this.pB(),!u){t.next=14;break}if((o=this._B.dC(u))!==Sb.jD){t.next=14;break}if(!this.AB(u.KD)||!this.AB(null==s?void 0:s.KD)){t.next=13;break}return t.next=10,this.bB(e);case 10:if(!(a=t.sent)){t.next=13;break}return t.abrupt("return",a);case 13:return t.abrupt("return",u);case 14:if(!s){t.next=25;break}if(this._B.dC(s)!==Sb.jD){t.next=24;break}if(!this.AB(null==s?void 0:s.KD)){t.next=23;break}return t.next=20,this.bB(e);case 20:if(!(c=t.sent)){t.next=23;break}return t.abrupt("return",c);case 23:return t.abrupt("return",s);case 24:EE.Jo("THEOplayer.license");case 25:return t.next=27,TE.hB(e,this.Ab);case 27:if(!(h=t.sent)){t.next=37;break}if(f=TE.fB(h),this._B.dC(f)!==Sb.jD){t.next=34;break}return EE.Cc("THEOplayer.license",h),t.abrupt("return",f);case 34:EE.Jo("THEOplayer.license"),t.next=39;break;case 37:if(this.cC||!u||o!==Sb.QD||e!=="https://validate.theoplayer.com/1/"+u.ZD){t.next=39;break}return t.abrupt("return",TE.convertLicenseToDummyLicense(u));case 39:if(!u&&!f){t.next=43;break}this.TB(null!=u?u:f,new To(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new To(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hC=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.UC.$C();case 2:if(r=t.sent,!this.AB(r.KD)){t.next=9;break}return e=null!==(i=this.wB.licenseUrl)&&void 0!==i?i:"https://validate.theoplayer.com/1/"+r.ZD,t.next=7,this.bB(e);case 7:(u=t.sent)&&(this.UC.kB(u),r=u);case 9:if(t.prev=9,(s=this._B.dC(r))!==Sb.YD){t.next=16;break}throw o=Nb.eC,new To(Ob(o),Fb.vC(o));case 16:if(s!==Sb.QD){t.next=19;break}throw a=Nb.QD,new To(Ob(a),Fb.vC(a));case 19:this._B.hC(n,r),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.EB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.bB=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,TE.hB(n,this.Ab);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=TE.fB(i),this._B.dC(r)!==Sb.jD){t.next=11;break}return EE.Cc("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.AB=function(t){return!t||Number(new Date)+2592e5+RE>=t},i.pB=function(){var t=EE.Qo("THEOplayer.license");if(t)return TE.fB(t)},i.TB=function(t,n){this.UC.kB(t),this.EB(n)},i.EB=function(t){throw lt(t.message),this.gB.nO(t.message),t},t}(),NE=function(){function t(){this.SB=new js}var n=t.prototype;return n.kB=function(t){this.RB=t,this.SB.aa()},n.$C=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.RB){t.next=2;break}return t.abrupt("return",T.resolve(this.RB));case 2:return t.next=4,this.SB.oa;case 4:return t.abrupt("return",this.RB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"IB",get:function(){return this.RB}}]),t}(),DE=function(t){function n(){return t.call(this,"il")||this}return M(n,t),n.prototype.Wd=function(){return new CE},n}(vd),CE=function(t){function n(){return t.call(this,"change")||this}return M(n,t),n}(Su);var OE,xE,PE={NB:void 0,DB:void 0,CB:void 0,OB:void 0,xB:void 0,PB:void 0},BE="THEOplayer.textTrackStyle.",LE=function(t){function n(){var i;return(i=t.call(this)||this).Vd=void 0,i.BB=n.LB(),i}return M(n,t),n.prototype.Sa=function(t){this.BB=le(le({},this.BB),t),n.MB(this.BB),this.To(new DE)},n.LB=function(){var t=le({},PE);return t.NB=EE.Qo(BE+"fontFamily")||t.NB,t.DB=EE.Qo(BE+"fontColor")||t.DB,t.CB=EE.Qo(BE+"fontSize")||t.CB,t.OB=EE.Qo(BE+"backgroundColor")||t.OB,t.xB=EE.Qo(BE+"windowColor")||t.xB,t.PB=EE.Qo(BE+"edgeStyle")||t.PB,t},n.MB=function(t){EE.Cc(BE+"fontFamily",t.NB||""),EE.Cc(BE+"fontColor",t.DB||""),EE.Cc(BE+"fontSize",t.CB||""),EE.Cc(BE+"backgroundColor",t.OB||""),EE.Cc(BE+"windowColor",t.xB||""),EE.Cc(BE+"edgeStyle",t.PB||"")},L(n,[{key:"UB",get:function(){return this.BB}},{key:"NB",get:function(){return this.BB.NB},set:function(t){this.Sa({NB:t})}},{key:"DB",get:function(){return this.BB.DB},set:function(t){this.Sa({DB:t})}},{key:"CB",get:function(){return this.BB.CB},set:function(t){this.Sa({CB:t})}},{key:"OB",get:function(){return this.BB.OB},set:function(t){this.Sa({OB:t})}},{key:"xB",get:function(){return this.BB.xB},set:function(t){this.Sa({xB:t})}},{key:"PB",get:function(){return this.BB.PB},set:function(t){this.Sa({PB:t})}},{key:"Xd",get:function(){var t,n,i;return this.Vd||(this.Vd=(t=this,i={get fontFamily(){return t.NB},set fontFamily(n){t.NB=n},get fontColor(){return t.DB},set fontColor(n){t.DB=n},get fontSize(){return t.CB},set fontSize(n){t.CB=n},get backgroundColor(){return t.OB},set backgroundColor(n){t.OB=n},get windowColor(){return t.xB},set windowColor(n){t.xB=n},get edgeStyle(){return t.PB},set edgeStyle(n){t.PB=n},addEventListener:function(t,i){var r=Bd(t,Pd);n.So(r,i)},removeEventListener:function(t,i){var r=Bd(t,Pd);n.Do(r,i)}},n=new Eu(i),t.So(["il"],function(t){return n.To(t.Xd)}),i)),this.Vd}}]),n}(Tu),ME=function(t){function n(n,i){var r;(r=t.call(this)||this).FB=!1,r.G_=!1,r.HB=!1,r.VB=function(t){if(!r.HB){r.HB=!0;var n=r.XB,i=c_(t);r.iB.Rl=new aA(r.Rg,i,t),gu(n.Rv())}},r.WB=function(t){r.To(t.Xd)},r.qB=function(t){t.type!==qo.Zc&&t.type!==qo.Yc&&r.To(t)};var e=Od(i.uid);w(e)?r.qg=y_++:r.qg=e,r.Jp=i;var u=b.Ld,s=new NE;r.zB=new nT("2.86.1",u,s),r.Ld=new qT(u,i.allowMixedContent),r.fN=new sE,r._B=new Cb(i.isEmbeddable,"2.86.1",Eb()),r.GB=new IE(u,r._B,r.zB,s,i,Eb()),r.GB.yB().catch(r.VB),r.jB=new AT(n),r.jB.So("hO",r.WB),r.vN=new LE,r.jP=new fE,r.$P=new lE;var o=new oA(n,i,r.Ld,r.fN,r.jB,r.vN);r.fN.$b(o);var a=o;a=new dE(a,r.QB),a=new _E(a,r.KP),r.XB=a,r.iB=new u_(r.XB),r.iB.Io(r.qB),r.YB=new gE(rn(r)),r.ZB=new jT(r.iB,r.Ld,r.fN),r.JB=new eT(rn(r)),r.$B=new NT(r.iB,i.allowNativeFullscreen),r.KB=new RA(r.$B),r.jB.Ba();var c=new Ir(r.jB,r.vN,1,[f_.yv]);return r.tL=new Nr(c),r.nL=new bE,r}M(n,t);var i=n.prototype;return i.AP=function(t){this.iB.D_=t,t||this.C_||this.vg()},i.UP=function(t){this.iB.L_=t},i.iL=function(){Yl(this,IA,this)},i.eg=function(){this.iB.eg()},i.ug=function(){this.iB.ug()},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.GB.hC(n).catch(this.VB),r=UE(n),t.next=5,this.iB.ag(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.vg=function(){this.G_||(this.iB.vg(),this.tL.vg(),this.G_=!0)},i.iN=function(){return this.KB.FN()===AA.FULLSCREEN},i._g=function(){this.iB._g()},i.gg=function(){this.iB.gg()},i.wg=function(){return this.iB.wg()},i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iB.sg();case 2:return t.next=4,this.iB.ml();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.No(),this.nL.Rv(),this.Ld.Rv(),this.ZB.Rv(),this.$B.Rv(),this.KB.Rv(),this.jB.Rv(),this.zB.Rv(),this.tL.Rv(),t.next=11,this.iB.Rv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"rL",get:function(){return this.fN}},{key:"J_",get:function(){return this.FB},set:function(t){this.FB=t,this.iB.J_=t}},{key:"eL",get:function(){return this.tL}},{key:"tg",get:function(){return this.iB.tg}},{key:"uL",get:function(){return this.nL}},{key:"sL",get:function(){return this.jB}},{key:"rg",get:function(){return this.iB.rg}},{key:"q_",get:function(){return this.YB}},{key:"oL",get:function(){return this.ZB}},{key:"ig",get:function(){return this.iB.ig}},{key:"aL",get:function(){return this.vN}},{key:"ng",get:function(){return this.iB.ng}},{key:"Eg",get:function(){return this.iB.Eg}},{key:"QB",get:function(){return this.jP}},{key:"KP",get:function(){return this.$P}},{key:"S_",get:function(){return this.iB.S_},set:function(t){this.iB.S_=t}},{key:"Sg",get:function(){return this.iB.Sg},set:function(t){this.iB.Sg=t}},{key:"bg",get:function(){return this.iB.bg}},{key:"R_",get:function(){return this.iB.R_}},{key:"Rg",get:function(){return this.iB.Rg}},{key:"I_",get:function(){return this.iB.I_}},{key:"Ho",get:function(){return this.iB.Ho}},{key:"N_",get:function(){return this.iB.N_}},{key:"D_",get:function(){return this.iB.D_},set:function(t){var n=Boolean(t);this.AP(n)}},{key:"C_",get:function(){return this.iB.C_}},{key:"O_",get:function(){return this.iB.O_},set:function(t){this.iB.O_=t}},{key:"Lg",get:function(){return this.iB.Lg}},{key:"Mg",get:function(){return this.iB.Mg},set:function(t){this.iB.Mg=Zp(t)}},{key:"ql",get:function(){return this.iB.ql}},{key:"Ug",get:function(){return this.iB.Ug}},{key:"x_",get:function(){return this.iB.x_}},{key:"Ol",get:function(){return this.qg}},{key:"P_",get:function(){return this.iB.P_}},{key:"B_",get:function(){return this.iB.B_}},{key:"L_",get:function(){return this.iB.L_},set:function(t){var n=Wt(Number(t),0,1)||0;this.UP(n)}}]),n}(Kd);function UE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.cL=0]="cL",t[t.hL=1]="hL"}(OE||(OE={})),function(t){t[t.fL=0]="fL"}(xE||(xE={}));var FE={};function HE(t,n){(FE[n]||(FE[n]=[])).push(t)}function VE(t,n){var i=t;if(FE[n])for(var r=0,e=FE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var XE=[];function WE(t){XE.push(t)}var qE=t.CustomEvent;var zE=function(){try{var t=new qE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=e.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i},GE=function(){function t(t,n){var i=this;this.vL=!1,this.dL=function(t){i.lL.tO(t.error,i.S_)},this._L=function(){i.lL.JC(i.gL),i.cI.removeEventListener("playing",i._L),i.vL=!1},this.wL=function(){i.vL||(i.cI.addEventListener("playing",i._L),i.vL=!0)},this.lL=n,this.cI=t,this.cI.addEventListener("error",this.dL),this.cI.addEventListener("sourcechange",this.wL),this.wL()}return t.prototype.ml=function(){},L(t,[{key:"S_",get:function(){var t=this.cI.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"gL",get:function(){return this.cI.src||""}}]),t}();WE(function(t){new GE(t.Xd,t.zB)});var jE="theoplayer-stored-volume",QE="theoplayer-stored-mutedstate";HE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=EE.dB(jE);(void 0===e||w(e))&&(e=1);var u=EE.lB(QE)||!1;r.L_=e,r.D_=u}return r}M(n,t);var i=n.prototype;return i.AP=function(n){this.Jp.persistVolume&&EE.Cc(QE,n),t.prototype.AP.call(this,n)},i.UP=function(n){this.Jp.persistVolume&&EE.Cc(jE,n),t.prototype.UP.call(this,n)},n}(t)},OE.hL);var YE=new(function(){function t(){this.yL=[],this.Vd=void 0}var n=t.prototype;return n._l=function(t){return this.yL[t]},n.mL=function(t){this.yL.push(t),this.Xd.push(t.Xd)},n.Ea=function(t){var n=this.yL.indexOf(t);n<0||($e(this.yL,n),this.Vd&&$e(this.Vd,n))},n.kL=function(t){for(var n=0,i=this.yL;n<i.length;n++){var r=i[n];if(r.Ol===t)return r}},L(t,[{key:"pl",get:function(){return this.yL.length}},{key:"Xd",get:function(){return this.Vd||(this.Vd=function(t){for(var n=[],i=0;i<t.pl;i++)n[i]=t._l(i).Xd;return n.getPlayerByUID=function(n){var i=t.kL(n);return i&&i.Xd},n}(this)),this.Vd}}]),t}());var ZE,JE=function(t){function n(n){var i;return(i=t.call(this,qo.fh)||this).source=n,i}return M(n,t),n}(Su),$E=function(t){function n(){var n;return(n=t.call(this)||this).eN=0,n.sN=!0,n.aN=!1,n.oN=1,n}M(n,t);var i=n.prototype;return i.eg=function(){this.sN&&(this.sN=!1,this.To(new Nl(this.S_)),this.To(new Dp(this.S_)))},i.ug=function(){this.sN||(this.sN=!0,this.To(new Bl(this.S_,this.Sg)),this.To(new Il(this.S_)))},i.ml=function(){this.eN=0,this.aN=!1,this.oN=1,this.ug(),this.To(new Rl(this.eN))},i.Rv=function(){this.No()},i.gg=function(){},i._g=function(){},L(n,[{key:"Sg",get:function(){},set:function(t){}},{key:"S_",get:function(){return this.eN},set:function(t){this.aN&&this.eN===t||(this.eN=t,this.aN=!0,this.To(new Ul(this.S_)))}},{key:"C_",get:function(){return this.sN}},{key:"O_",get:function(){return this.oN},set:function(t){this.oN!==t&&(this.oN=t,this.To(new Pl(this.S_,this.O_)))}},{key:"ql",get:function(){return al.__}},{key:"x_",get:function(){return this.aN}}]),n}($d),KE=function(t){function n(){return t.call(this,qo.Hc)||this}return M(n,t),n}(Su),tS={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},nS={visibility:"hidden"},iS={visibility:"visible"},rS=function(){function t(t){var n,i=this;this.pL=!1,this.AL=function(t){i.pL=!1,i.bL=t.source&&t.source.poster,i.Sa()},this.pS=function(){i.pL=!0,i.gg()},this.cI=t,this.hI(),this.nI=((n=Cr&&Cr.document&&Cr.document.createElement("div")).className="theoplayer-poster",Wr(tS,n),n),t.Rg.appendChild(this.nI)}var n=t.prototype;return n.Sa=function(){var t=this.cI.C_,n=this.pL;this.rv?this.nI.style.backgroundImage='url("'+this.rv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.nI.style.backgroundImage="",t&&this.rv&&!n?this._g():this.gg()},n._g=function(){Wr(nS,this.cI.Rg),Wr(iS,this.nI)},n.gg=function(){Wr(nS,this.nI),Wr(iS,this.cI.Rg)},n.hI=function(){this.cI.So("sourcechange",this.AL),this.cI.So("play",this.pS)},n.Rv=function(){this.cI.Do("sourcechange",this.AL),this.cI.Do("play",this.pS),Hr(this.nI)},L(t,[{key:"rv",get:function(){return void 0!==this.bL?this.bL:void 0!==this.TL?this.TL:void 0}},{key:"EL",set:function(t){this.TL=t,this.Sa()}}]),t}();function eS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).SL=function(t){t.type!==qo.th&&e.RL.push(t)},e.IL=new t(i,r),e.NL=new $E,e.cI=e.IL,e.DL=new rS(rn(e)),e.GE=new gy,e.CL=!1,e.RL=[],e.oI=!0,e.sI=void 0,e.hI(),e}M(i,n);var r=i.prototype;return r.xb=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.GE.xb(n,i).catch(hu));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.OL=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(i),this.IL.Io(this.SL),t.next=4,this.IL.ag(n,i);case 4:this.IL.xo(this.SL);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.xL=function(){var t=T.coroutine(de.mark(function t(){var n,i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.og())&&!rb(n)&&this.J_&&this.C_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Jp.mutedAutoplay,t.next=6,this.eL.PL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.BL(),t.abrupt("break",14);case 12:return(this.D_||i===Dl.ALL)&&(this.D_=!0,this.eg()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.ag=function(t){var n=this,i=this.sI;i&&!rb(i)&&this.To(new Rl(0,0)),this.ml(),this.sI=t,gu(this.xb(function(){var i=T.coroutine(de.mark(function i(r){return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return au(r),i.prev=1,i.next=4,n.OL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.sI=void 0,i.t0;case 10:return i.next=12,n.LL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.LL=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.ML(this.IL),this.To(new JE(this.og())),t.next=4,this.xL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.lP=function(t){this.cI.S_=t},r.yP=function(){return this.IL.Ho},r.mP=function(){return this.IL.N_},r.eg=function(){this.cI.eg()},r.BL=function(){this.D_||this.vg(),this.eg()},r.vg=function(){this.IL.vg()},r.ug=function(){this.cI.ug()},r.sg=function(){this.ag(void 0)},r._g=function(){this.oI=!0,this.cI._g()},r.gg=function(){this.oI=!1,this.cI.gg()},r.iL=function(){this.IL.iL()},r.UP=function(t){this.IL.UP(t)},r.AP=function(t){this.IL.AP(t)},r.UL=function(t){this.FL=t,t.mL(this)},r.iN=function(){return this.IL.iN()},r.og=function(){return this.sI},r.wg=function(){return this.IL.wg()},r.dP=function(){return this.IL.S_},r._P=function(){return this.IL.R_},r.cP=function(){return this.IL.Eg},r.RP=function(){return this.IL.Lg},r.CP=function(){return this.IL.Ug},r.ml=function(){var t=this;this.sI=void 0,nu(this.RL),this.NL.ml(),this.ML(this.NL),this.GE.wo(),gu(this.GE.xb(function(){var n=T.coroutine(de.mark(function n(i){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return au(i),n.next=3,t.IL.ml();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Rv=function(){var t=this;this.To(new KE),this.DL.Rv(),this.fI(),this.ml(),gu(this.xb(T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.IL.Rv();case 2:t.FL&&(t.FL.Ea(t),t.FL=void 0),t.GE.Rv();case 4:case"end":return n.stop()}},n)})))),this.No()},r.ML=function(t){if(this.cI!==t){var n=this.cI.C_,i=this.cI.S_,r=this.cI.O_,e=this.cI.x_;this.fI(),t===this.IL?((e||t.S_!==i)&&(t.S_=i),t.O_!==r&&(t.O_=r),n?t.ug():t.eg()):this.Jp.retainPlaybackRateOnSourceChange?t.O_=r:1!==r&&this.To(new Pl(this.dP(),1)),this.cI=t,this.hI();for(var u=0,s=this.RL;u<s.length;u++){var o=s[u];this.To(o)}nu(this.RL),this.oI?t._g():t.gg()}},r.hI=function(){this.cI.Io(this.bo)},r.fI=function(){this.cI.xo(this.bo)},r.Wd=function(){return t=this,r=function(n){i=n;var r=db(n,t.Jp);t.ag(r)},e={get abr(){return t.rL.Xd},get audioTracks(){return t.tg.Xd},get autoplay(){return t.J_},set autoplay(n){t.J_=Boolean(n)},get buffered(){return t.cP()},get canvas(){return t.JB.Xd},get clip(){return t.QB.Xd},get currentProgramDateTime(){var n;return null!==(n=t.Sg)&&void 0!==n?n:null},set currentProgramDateTime(n){t.Sg=null!=n?n:void 0},get currentTime(){return t.dP()},set currentTime(n){t.lP(Number(n))},get duration(){return t._P()},get element(){return t.Rg},get ended(){return t.I_},get error(){return t.yP()},get errorObject(){return t.mP()},get loop(){return t.KP.KP},set loop(n){t.KP.KP=Boolean(n)},get metrics(){return t.q_.Xd},get muted(){return t.D_},set muted(n){t.AP(n)},get network(){return t.oL.Xd},get paused(){return t.C_},get playbackRate(){return t.O_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.O_=i},get played(){return t.RP()},get poster(){return t.HL},set poster(n){t.HL=Pd(n)},get preload(){return t.Mg},set preload(n){t.Mg=n},get presentation(){return t.KB.Xd},get readyState(){return t.ql},get seekable(){return t.CP()},get seeking(){return t.x_},get source(){return i},set source(t){r(t)},get src(){return eb(t.og())},set src(t){r({sources:t})},get textTracks(){return t.ig.Xd},get textTrackStyle(){return t.aL.Xd},get uid(){return t.Ol},get videoHeight(){return t.P_},get videoTracks(){return t.ng.Xd},get videoWidth(){return t.B_},get volume(){return t.L_},set volume(n){t.UP(Number(n))},destroy:function(){t.Rv(),t=null,i=void 0},play:function(){t.BL()},pause:function(){t.ug()},stop:function(){i=void 0,t.sg()},prepareWithUserAction:function(){t.vg()},addEventListener:function(t,i){n.So(t,i)},removeEventListener:function(t,i){n.Do(t,i)},setSource:function(t){r(t)}},(n=new EA(e,!0)).EN(t),e;var t,n,i,r,e},L(i,[{key:"zB",get:function(){return this.IL.zB}},{key:"JB",get:function(){return this.IL.JB}},{key:"Jp",get:function(){return this.IL.Jp}},{key:"XB",get:function(){return this.IL.XB}},{key:"Ld",get:function(){return this.IL.Ld}},{key:"SR",get:function(){return this.IL.$B}},{key:"KB",get:function(){return this.IL.KB}},{key:"jB",get:function(){return this.IL.jB}},{key:"iB",get:function(){return this.IL.iB}},{key:"rL",get:function(){return this.IL.rL}},{key:"J_",get:function(){return this.IL.J_},set:function(t){this.IL.J_=t,this.xL()}},{key:"eL",get:function(){return this.IL.eL}},{key:"tg",get:function(){return this.IL.tg}},{key:"uL",get:function(){return this.IL.uL}},{key:"sL",get:function(){return this.IL.jB}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}},{key:"rg",get:function(){return this.IL.rg}},{key:"q_",get:function(){return this.IL.q_}},{key:"oL",get:function(){return this.IL.oL}},{key:"ig",get:function(){return this.IL.ig}},{key:"aL",get:function(){return this.IL.aL}},{key:"ng",get:function(){return this.IL.ng}},{key:"QB",get:function(){return this.IL.QB}},{key:"KP",get:function(){return this.IL.KP}},{key:"Sg",get:function(){return this.cI.Sg},set:function(t){this.cI.Sg=t}},{key:"bg",get:function(){return this.IL.bg}},{key:"Rg",get:function(){return this.IL.Rg}},{key:"I_",get:function(){return this.IL.I_}},{key:"D_",get:function(){return this.IL.D_},set:function(t){this.IL.D_=t}},{key:"C_",get:function(){return this.cI.C_}},{key:"HL",get:function(){return this.DL.rv||""},set:function(t){this.DL.EL=t}},{key:"O_",get:function(){return this.IL.O_},set:function(t){this.cI.O_=t}},{key:"Mg",get:function(){return this.IL.Mg},set:function(t){this.IL.Mg=Zp(t)}},{key:"ql",get:function(){return this.cI.ql}},{key:"x_",get:function(){return this.cI.x_}},{key:"Ol",get:function(){return this.IL.Ol}},{key:"P_",get:function(){return this.IL.P_}},{key:"B_",get:function(){return this.IL.B_}},{key:"L_",get:function(){return this.IL.L_},set:function(t){this.IL.L_=t}}]),i}(Kd)}function uS(t,n){var i=Gl(n),r=new(ZE||(ZE=VE(ZE=eS(ME),OE.cL),ZE=VE(ZE,OE.hL)),ZE)(t,i),e=r.Xd;return r.iL(),r.UL(YE),d.defineProperty(e,"constructor",{value:uS}),e=Td(e),function(t){for(var n=0;n<XE.length;n++)(0,XE[n])(t)}(r),e}_u(function(){t.dispatchEvent&&t.dispatchEvent(zE("theoplayerready"))});var sS,oS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Wu(t)},n.decode=function(t){return Vu(t)},t}())},aS=YE.Xd,cS=Xy.Yb.registerContentProtectionIntegration.bind(Xy.Yb),hS=(qo.$c,qo.Jc,Sl.E_,qo.vh,qo.Kc,qo.Gc,qo.eh,qo.rh,qo.Wc,qo.th,qo.dh,qo.Vc,Sl.ul,qo.ih,Wd.Vl,bu.Vo,bu.Wo,{VL:!1,XL:50}),fS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.xD="WL"}(sS||(sS={}));var vS,dS=function(t){function i(n,i,r){var e;(e=t.call(this)||this).qL=!1,e.zL=new js,e.GE=new gy,e.Oa=void 0,e.GL=function(){e.jL(!0)},e.uc=n,e.ZE=i,e._c=i.fR,e.io=r;for(var u=0;u<fS.length;u++){var s=fS[u];e._c.addEventListener(s,e.GL)}return e}M(i,t);var r=i.prototype;return r.rS=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.io.ro(n.Qs,i);case 2:return r=t.sent,t.next=5,r.Fa();case 5:return e=t.sent,t.next=8,this.QL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ho=function(){var t=T.coroutine(de.mark(function t(){var n,i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.No(),n=0;n<fS.length;n++)i=fS[n],this._c.removeEventListener(i,this.GL);return t.next=4,this.GE.Rv();case 4:return t.next=6,this.YL();case 6:return t.next=8,this.QL(void 0);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.jL=function(t){t!==this.qL&&(this.qL=t,t?this.zL.aa(void 0):this.zL=new js)},r.QL=function(t){var n=this;return this.GE.xb(function(){return n.ZL(t)})},r.ZL=function(){var t=T.coroutine(de.mark(function t(i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this._c.src){t.next=4;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this._c.src){t.next=6;break}throw new s_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.qL){t.next=9;break}return t.next=9,this.zL.oa;case 9:if(!(r=this.Oa)){t.next=14;break}return t.next=13,r.La(this._c);case 13:this.Oa=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Ba(this._c);case 17:this.Oa=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ag=function(t){var n=this;return this.GE.xb(function(){return n.JL(t)})},r.JL=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.jL(!1),i=this.ZE.O_,this._c.src=n,this.ZE.O_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Ta=function(){var t=this;return this.GE.xb(function(){return t.bd()})},r.bd=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this._c.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.YL=function(){var t=this;return this.GE.xb(function(){return t.$L()})},r.$L=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.jL(!1),jr(this._c);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(i,[{key:"tg",get:function(){throw new f("Not implemented")}},{key:"Jp",get:function(){return this.uc}},{key:"fR",get:function(){return this._c}},{key:"ng",get:function(){throw new f("Not implemented")}}]),i}(Tu),lS=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.$b=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Jp,t.t0=n.yR,t.next=t.t0===el.c_?4:t.t0===el.h_?4:(t.t0,el.f_,6);break;case 4:return this._c.setAttribute("crossorigin",n.yR),t.abrupt("break",8);case 6:return this._c.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.Mg?this._c.preload=n.Mg:this._c.preload=Qp.HS,void 0!==n.mR?this._c.title=n.mR:zr(this._c),t.next=12,this.ag(n.jl);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ho=function(){var n=T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return zr(this._c),n.next=3,t.prototype.ho.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.KL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Mf))},L(n,[{key:"Eg",get:function(){return iA.JI(this._c.buffered)}},{key:"R_",get:function(){return this._c.duration}},{key:"tM",get:function(){var t=this.R_;if(!isFinite(t))return!1;var n=this.Eg;return 0!==n.pl&&t-n.yI(n.pl-1)<1/6}},{key:"Mg",get:function(){return this._c.preload},set:function(t){this._c.preload=t}},{key:"Ug",get:function(){return iA.JI(this._c.seekable)}},{key:"nM",get:function(){return this.Eg}},{key:"iM",get:function(){if(Gr(this._c)&&(this._c.videoWidth>0||this._c.videoHeight>0))return this.Eg}}]),n}(dS),_S=function(t){function n(n){var i;return(i=t.call(this,qo.Kc)||this).currentTime=n,i}return M(n,t),n}(Su),gS=function(t){function n(){return t.call(this,qo.Gc)||this}return M(n,t),n}(Su);!function(t){t.rM="eM"}(vS||(vS={}));var wS,yS;vS.rM;!function(t){t[t.uM=0]="uM",t[t.mh=1]="mh",t[t.sM=2]="sM"}(wS||(wS={})),function(t){t.oM="aM"}(yS||(yS={}));var mS=function(t){function n(n){var i;return(i=t.call(this,yS.oM)||this).cM=n,i}return M(n,t),n}(Su),kS=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).hM=iA.tN(),n}M(n,t);var i=n.prototype;return i.fM=function(t,n){var i=new iA([t,n]);this.hM=this.hM.LI(i),this.To(new mS(i))},i.vM=function(t,n){this.hM=this.hM.UI(new iA([t,n]))},i.ml=function(){this.hM=iA.tN()},i.Rv=function(){this.No()},L(n,[{key:"dM",get:function(){return this.hM}}]),n}(Tu),pS=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.lM=function(t,n,i){return T.reject(new f("Invalid state"))},i._M=function(){return T.reject(new f("Invalid state"))},i.gM=function(t,n){return T.reject(new f("Invalid state"))},i.tM=function(){return!1},i.wM=function(){},i.yM=function(t,n){},i.mM=function(t,n){},i.Ea=function(t,n,i){return T.resolve()},i.kM=function(t,n){return T.reject(new f("Invalid state"))},i.pM=function(t){},i.AM=function(t){},i.bM=function(t){return!1},i.TM=function(t){return T.reject(new f("Invalid state"))},i.Rv=function(){return T.resolve()},L(n,[{key:"Eg",get:function(){return iA.tN()}},{key:"EM",get:function(){return!1}},{key:"SM",get:function(){return iA.tN()}},{key:"RM",get:function(){return!1}},{key:"GO",get:function(){return!1}}]),n}(Tu),AS=function(){function t(t,n){this.IM=void 0,this.NM=n,this.DM=t}var n=t.prototype;return n.tM=function(){return!!this.IM&&this.Eg.TI().CR(this.IM)},n.wM=function(){var t=this.Eg;this.IM=t.pl>0?t.yI(t.pl-1):0,this.NM.CM()},L(t,[{key:"Eg",get:function(){if(this.NM.ql===HS.OM)return iA.tN();var t=iA.JI(this.DM.buffered).NI(new iA([0,1/0])),n=this.IM;return void 0!==n&&t.pl>0&&t.yI(t.pl-1)===n&&(t=t.LI(iA.KI(n))),t}}]),t}(),bS="QuotaExceededError";function TS(t){return t&&t.name===bS}function ES(t,n){return void 0===n&&(n=new Fh({highWaterMark:1/0})),new Dh(new SS(t,n),{highWaterMark:0})}var SS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Fn=[],this.Hh=0,this.SB=void 0,this.xM=!1,this.PM=void 0,this.BM=function(t){return t.done?(i.Xn(),void i.SB.close()):(i.Fn.push(t.value),i.Hh+=i.LM(t.value),i.xM&&i.Xn(),i.MM()?i.Dh.read().then(i.BM):void 0)},this.od=function(t){i.Xn(),i.SB.error(t)},this.Dh=t.getReader(),this.LM=e,this.UM=s}var n=t.prototype;return n.start=function(t){this.SB=t,this.MM()&&this.FM()},n.pull=function(){this.Fn.length>0?this.Xn():this.xM=!0,this.MM()&&this.FM()},n.cancel=function(t){return nu(this.Fn),this.Hh=0,this.xM=!1,this.Dh.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.Hh=0,this.xM=!1,this.SB.enqueue(t)}},n.MM=function(){return!!this.xM||this.UM-this.Hh>0},n.FM=function(){var t=this;if(!this.PM){var n=this.Dh.read().then(this.BM).catch(this.od);this.PM=n;var i=function(){t.PM===n&&(t.PM=void 0)};n.then(i,i)}},t}(),RS=20,IS=j.Ce,NS=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Jx=RS,u.$x=QT,u.HM=!1,u.VM=!1,u.XM=void 0,u.WM=new uu,u.qM=!1,u.zM=void 0,u.GM=function(){u.HM=!1},u.ZE=n,u.jM=r,u.QM=i,u.DM=e,u.DM.addEventListener("updateend",u.GM),u}M(n,t);var i=n.prototype;return i.lM=function(t,n,i){var r=this;switch(t.js){case wS.uM:case wS.mh:return this.YM(function(i){return r.ZM(t,n,i)},i);case wS.sM:throw new f("Opaque segments are not supported on web.")}},i.gM=function(t,n){var i=this;switch(t.js){case wS.uM:return this.YM(function(n){return i.JM(t,n)},n);case wS.mh:throw new f("Streaming initialization segments are not supported on web.");case wS.sM:throw new f("Opaque initialization segments are not supported on web.")}},i.JM=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$M(n.pu,void 0,i);case 2:IS&&(this.qM=!1,this.zM=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ZM=function(){var t=T.coroutine(de.mark(function t(n,i,r){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(IS&&this.qM&&this.zM)){t.next=3;break}return t.next=3,this.JM(this.zM,r);case 3:return t.prev=3,au(r),t.next=7,this.$M(n.pu,i,r);case 7:this.To(new Su(vS.rM));case 8:return t.prev=8,n.js===wS.mh&&n.pu.cancel(new su).catch(S),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$M=function(t,n,i){return this.KM(t,n,i)},i.KM=function(){var t=T.coroutine(de.mark(function t(n,i,r){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),t.next=3,this.tU(this.ZE.S_,null==i?void 0:i.nU,null==i?void 0:i.R_);case 3:if(au(r),!(n instanceof Dh)){t.next=9;break}return t.next=7,this.iU(n,i,r);case 7:t.next=11;break;case 9:return t.next=11,this.rU(n,i,r);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.iU=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,u=uf(n),n=u[0],e=u[1],t.prev=5,t.next=8,this.eU(n,i,r);case 8:return e.cancel(new su).catch(S),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!TS(t.t0)){t.next=21;break}return t.next=17,this.tU(this.ZE.S_,i?i.nU:void 0,i?i.R_:void 0,r);case 17:if(!t.sent){t.next=21;break}return n=e,t.abrupt("continue",0);case 21:throw e.cancel(t.t0).catch(S),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eU=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h,f;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.QM.Eg,u=ES(n),s=u.getReader(),o=!1,t.prev=4,i&&this.uU(i);case 6:return t.next=9,fu(s.read(),r);case 9:if(!(a=t.sent).done){t.next=13;break}return o=!1,t.abrupt("break",20);case 13:return au(r),c=ju(a.value),o=!0,t.next=18,this.sU(c);case 18:t.next=6;break;case 20:t.next=37;break;case 22:if(t.prev=22,t.t0=t.catch(4),s.cancel(t.t0).catch(S),!o){t.next=36;break}return t.next=28,this.oU();case 28:h=this.QM.Eg.NI(e.DI()),f=0;case 30:if(!(f<h.pl)){t.next=36;break}return t.next=33,this.aU(h.gI(f),h.yI(f));case 33:f++,t.next=30;break;case 36:throw t.t0;case 37:case"end":return t.stop()}},t,this,[[4,22]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rU=function(){var t=T.coroutine(de.mark(function t(n,i,r){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,au(r),i&&this.uU(i),t.next=6,this.sU(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!TS(t.t0)){t.next=17;break}return t.next=14,this.tU(this.ZE.S_,i?i.nU:void 0,i?i.R_:void 0,r);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.kM=function(t,n){var i=this;return this.YM(function(){return i.cU(t,n)})},i.cU=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.DM.appendWindowStart===n&&this.DM.appendWindowEnd===i){t.next=6;break}return t.next=3,this.oU();case 3:this.DM.appendWindowStart=0,this.DM.appendWindowEnd=i,this.DM.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.uU=function(t){this.DM.timestampOffset!==t.vm&&(this.DM.timestampOffset=t.vm)},i.sU=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DM.appendBuffer(n),this.VM=!0,t.next=4,this.hU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.tU=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u,s,o,a,c;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=JT(n,i,r,this.QM.Eg,this.Jx,this.$x),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],a=o[0],c=o[1],t.next=6,this.aU(a,c,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.fU=function(t,n,i){var r=this;return this.YM(function(i){return r.aU(t,n,i)},i)},i.aU=function(){var t=T.coroutine(de.mark(function t(n,i,r){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),this.DM.remove(n,i),t.next=4,this.hU();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.hU=function(){var t=this,n=this.QM.Eg;return new T(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.qI(t.QM.Eg)||t.To(new Su(vS.rM)),i()):r(new f(e))},h=function(){t.DM.removeEventListener("update",s),t.DM.removeEventListener("error",o),t.DM.removeEventListener("abort",a),t.DM.removeEventListener("updateend",c)};t.DM.addEventListener("update",s),t.DM.addEventListener("error",o),t.DM.addEventListener("abort",a),t.DM.addEventListener("updateend",c)})},i.vU=function(){var t=this;return this.YM(function(){return t.oU()})},i.oU=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jM.ql===HS.Bv){t.next=2;break}return t.abrupt("return");case 2:IS&&(this.qM=!0),this.DM.updating&&(this.HM=!0);try{this.DM.abort()}catch(t){0,this.HM=!1}if(!this.GO){t.next=8;break}return t.next=8,this.hU().catch(S);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bM=function(t){return!!MediaSource.isTypeSupported(t)&&"function"==typeof this.DM.changeType},i.TM=function(t){var n=this;return this.YM(function(){return n.dU(t)})},i.dU=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jM.ql===HS.Bv){t.next=2;break}return t.abrupt("return");case 2:this.DM.changeType&&this.DM.changeType(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.YM=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.XM){t.next=2;break}throw new f("Internal error");case 2:return(r=new uu).yo(this.WM.ko),i&&r.yo(i),t.prev=5,this.XM=n(r.ko),t.next=9,this.XM;case 9:if(this.jM.lU(),!this.GO){t.next=13;break}return t.next=13,this.hU();case 13:return t.prev=13,this.XM=void 0,r.ho(),t.finish(13);case 17:case"end":return t.stop()}},t,this,[[5,,13,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.ho=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.No(),this.WM.wo(),!this.XM){t.next=6;break}return t.next=5,this.XM.catch(S);case 5:this.XM=void 0;case 6:this.DM.removeEventListener("updateend",this.GM);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"RM",get:function(){return this.VM}},{key:"qx",get:function(){return this.Jx},set:function(t){this.Jx=t}},{key:"Qx",set:function(t){this.$x=t}},{key:"GO",get:function(){return this.HM||this.DM.updating}}]),n}(Tu);function DS(t,n,i,r,e){var u=new AS(t,n),s=new NS(r,u,n,t);return new CS(u,s,e)}var CS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).QM=n,e._U=i,e.gU=r,e._U.So(vS.rM,e.bo),e}M(n,t);var i=n.prototype;return i.tM=function(){return this.QM.tM()},i.wM=function(){this.QM.wM()},i.yM=function(t,n){this.gU.fM(t,n)},i.mM=function(t,n){this.gU.vM(t,n)},i._M=function(){return this._U.vU()},i.lM=function(t,n,i){return this._U.lM(t,n,i)},i.gM=function(t,n){return this._U.gM(t,n)},i.Ea=function(t,n,i){return this.mM(t,n),this._U.fU(t,n,i)},i.kM=function(t,n){return this._U.kM(t,n)},i.pM=function(t){this._U.qx=t},i.AM=function(t){this._U.Qx=t},i.bM=function(t){return this._U.bM(t)},i.TM=function(t){return this._U.TM(t)},i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._U.Do(vS.rM,this.bo),t.next=3,this._U.ho();case 3:this.gU.Rv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Eg",get:function(){return this.QM.Eg}},{key:"EM",get:function(){return!0}},{key:"SM",get:function(){return this.gU.dM}},{key:"RM",get:function(){return this._U.RM}},{key:"GO",get:function(){return this._U.GO}}]),n}(Tu),OS=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).DM=void 0,s.jM=n,s.uc=r,s.za=r.Mf,s.wU=e,s.ZE=i,s.Ch=new pS,s.Ch.So(vS.rM,s.bo),s.Jx=RS,s.$x=QT,s.gU=u,s}M(n,t);var i=n.prototype;return i.tM=function(){return this.Ch.tM()},i.wM=function(){return this.Ch.wM()},i.yM=function(t,n){this.Ch.yM(t,n)},i.mM=function(t,n){this.Ch.mM(t,n)},i._M=function(){return this.Ch._M()},i.lM=function(t,n,i){return this.Ch.lM(t,n,i)},i.gM=function(t,n){return this.Ch.gM(t,n)},i.kM=function(t,n){return this.Ch.kM(t,n)},i.Ea=function(){var t=T.coroutine(de.mark(function t(n,i,r){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ch.Ea(n,i,r);case 2:(j.He||j.Te)&&this.ZE.na(this.ZE.S_);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Qg=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.EM!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.cb(i);case 5:t.next=9;break;case 7:return t.next=9,this.hb(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.cb=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,au(n),xS(this.DM,!0),t.next=5,this.yU(this.DM);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),au(n),t.next=12,this.jM.mU(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.hb=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.DM,t.prev=1,au(n),t.next=5,this.ml();case 5:xS(i,!1),this.DM=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),au(n),t.next=14,this.jM.kU(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.Ch).Do(vS.rM,this.bo),t.next=4,i.Rv();case 4:this.Ch=n,this.Ch.pM(this.Jx),this.Ch.AM(this.$x),this.Ch.So(vS.rM,this.bo);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.yU=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DM=n,t.next=3,this.setState(DS(n,this.jM,this.wU,this.ZE,this.gU));case 3:this.To(new Su("Dl"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pU=function(t){var n=t.Mf;if(this.za!==n){if(!MediaSource.isTypeSupported(n))return!1;if(!this.Ch.bM(n)){if(this.wU!==f_.yv)return!1;var i=co(this.za),r=co(n);if(i.js!==r.js)return!1;if(!function(t,n){var i=t.ec("codecs"),r=n.ec("codecs");if(i&&r){var e=i.split(".",1)[0],u=i.split(".",1)[0];return e===u}return!i&&!r}(i,r))return!1}}return!0},i.AU=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Mf,this.za===i){t.next=6;break}if(!this.Ch.bM(i)){t.next=5;break}return t.next=5,this.Ch.TM(i);case 5:this.za=i;case 6:this.uc=n,this.jM.bU();case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gU.ml(),this.DM=void 0,t.next=4,this.setState(new pS);case 4:this.To(new Su("TU"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ho=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.No(),t.next=4,this.ml();case 4:this.Ch.Do(vS.rM,this.bo),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Eg",get:function(){return this.Ch.Eg}},{key:"Jp",get:function(){return this.uc}},{key:"Mf",get:function(){return this.za}},{key:"SM",get:function(){return this.Ch.SM}},{key:"RM",get:function(){return this.Ch.RM}},{key:"qx",get:function(){return this.Jx},set:function(t){this.Jx=t,this.Ch.pM(t)}},{key:"Qx",set:function(t){this.$x=t,this.Ch.AM(t)}},{key:"GO",get:function(){return this.Ch.GO}},{key:"EM",get:function(){return this.Ch.EM}}]),n}(Tu);function xS(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new f("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var PS=100,BS=1e3,LS=1e4,MS=.01,US=[qo.$c,qo.Jc,qo.eh,qo.rh,qo.Wc,qo.th,Sl.ul,Wd.Vl],FS=function(){function t(t,n){var i=this;this.QM=t,this.ZE=n,this.fS=al.__,this.EU=!1,this.SU=[],this.RU=0,this.IU=0,this.NU=0,this.DU=0,this.CU=BS,this.OU=function(t){var n=i.ZE.S_;t.cM.CR(n)&&i.xU(n)},this.PU=I(function(){i.BU(Sl.ul)},PS),this.LU=I(function(){i.BU(qo.Kc)},PS),this.MU=function(){i.UU()?i.FU():i.HU()},this.VU=function(){var t=i.RU,n=i.IU,r=i.ZE.S_,e=b.cs(),u=t!==r;if(u||!i.UU())return i.RU=r,i.IU=e,void(u&&(i.DU=0,i.CU=BS));if(n>0&&e>n+i.CU){var s=r+i.DU*MS;i.QM.Eg.CR(s)&&(i.RU=s,i.IU=e,i.DU++,i.CU=l.max(2*i.CU,LS),i.ZE.na(s))}},this.ZE.So(Sl.ul,this.PU),this.ZE.So(qo.Kc,this.LU),this.ZE.So(US,this.MU)}var n=t.prototype;return n.XU=function(t){this.SU.push(t),t.So(yS.oM,this.OU)},n.Rv=function(){var t=this;this.HU(),this.fS=al.__,this.ZE.Do(Sl.ul,this.PU),this.ZE.Do(qo.Kc,this.LU),this.ZE.Do(US,this.MU),this.SU.forEach(function(n){return n.Do(yS.oM,t.OU)}),this.EU=!0},n.BU=function(t){if(!this.EU){var n=this.ZE.ql;if(n<=al.w_){var i=this.ZE.S_,r=this.QM.Eg,e=r.FI(i),u=r.yI(e);-1!==e&&(t===Sl.ul&&n<this.fS||t===qo.Kc&&n===this.fS)&&u<i+.5&&(i=u),this.xU(i)}t===Sl.ul&&(this.fS=n)}},n.xU=function(t){if(!this.ZE.I_){var n=this.dM.UI(this.QM.Eg).TI(),i=n.FI(t);if(-1!==i)l.abs(n.gI(i)-n.yI(i))<=.001||this.ZE.na(n.yI(i))}},n.FU=function(){0===this.NU&&(this.NU=b.ls(this.VU,250))},n.HU=function(){0!==this.NU&&(b._s(this.NU),this.NU=0),this.IU=0},n.UU=function(){return!this.ZE.C_&&!this.ZE.x_&&0!==this.ZE.O_&&!this.ZE.I_&&!this.ZE.Ho&&this.ZE.ql>=al.y_},L(t,[{key:"dM",get:function(){return this.SU.reduce(function(t,n){return t.LI(n.dM)},iA.tN())}}]),t}();var HS,VS=j.Ee||j.Se,XS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.ub=t,this.sb=n,this.WU=i,this.qU=r,this.zU=zb()}return t.prototype.GU=function(){var t=this.ub,n=this.sb;if(this.WU||this.qU){var i=.001*(zb()-this.zU);this.WU&&(t+=i),this.qU&&(n+=i)}return t>=n?iA.tN():new iA([t,n])},L(t,[{key:"jU",get:function(){return this.WU}},{key:"QU",get:function(){return this.qU}}]),t}();!function(t){t.OM="closed",t.Bv="open",t.Wc="ended"}(HS||(HS={}));var WS=function(){function t(){}return t.prototype.YU=function(){return new MediaSource},t}(),qS=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new WS),(u=t.call(this,n,i,r)||this).ZU=void 0,u.JU=void 0,u.$U=new XS(0,1/0),u.KU=void 0,u.tF=!1,u.nF=function(){u.iF()},u.rF=function(){u.ZE.rF()},u.eF=e,u.zE=u.eF.YU(),u.ZE.So(qo.eh,u.nF),u.uF=new FS(rn(u),u.ZE),u}M(n,t);var i=n.prototype;return i.sF=function(t){if(w(t)||t<0)throw new f("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.zE.setLiveSeekableRange){var r=l.pow(2,39);this.zE.setLiveSeekableRange(0,r)}this.oF()?this.zE.duration=i:this.KU=i},i.aF=function(t,n,i,r){this.$U=new XS(t,n,!!i,!!r)},i.$b=function(){var t=T.coroutine(de.mark(function t(){var n,i,r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ye(this.uc.cF,function(t){return yr(t.Mf,"audio")}),i=Ye(this.uc.cF,function(t){return yr(t.Mf,"video")}),n&&(r=new kS,this.uF.XU(r),this.ZU=new OS(this,this.ZE,n,f_.wv,r),this.ZU.So(vS.rM,this.rF)),i&&(e=new kS,this.uF.XU(e),this.JU=new OS(this,this.ZE,i,f_.yv,e),this.JU.So(vS.rM,this.rF)),t.next=6,this.hF();case 6:if(!this.ZU){t.next=12;break}return t.next=9,this.fF(this.ZU.Mf);case 9:return u=t.sent,t.next=12,this.ZU.yU(u);case 12:if(!this.JU){t.next=18;break}return t.next=15,this.fF(this.JU.Mf);case 15:return s=t.sent,t.next=18,this.JU.yU(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hF=function(){var n=T.coroutine(de.mark(function n(){var i;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.zE),n.next=3,t.prototype.ag.call(this,i);case 3:return n.next=5,t.prototype.Ta.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.fF=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ql===HS.Bv){t.next=3;break}return t.next=3,ad(this.zE,"sourceopen");case 3:if(!(this.ZU&&this.ZU.RM||this.JU&&this.JU.RM)){t.next=6;break}throw new f("vF");case 6:return t.abrupt("return",this.zE.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oF=function(){if(this.ql!==HS.Bv)return!1;var t=this.ZU&&this.ZU.GO,n=this.JU&&this.JU.GO;return!(t||n)},i.wM=function(){this.tF=!0,this.ZU&&this.ZU.wM(),this.JU&&this.JU.wM(),this.tF=!1,this.iF()},i.pU=function(t){var n=Ye(t.cF,function(t){return yr(t.Mf,"audio")}),i=Ye(t.cF,function(t){return yr(t.Mf,"video")});if(this.ZU){if(!n)return!1;if(!this.ZU.pU(n))return!1}else if(n)return!1;if(this.JU){if(!i)return!1;if(!this.JU.pU(i))return!1}else if(i)return!1;return!0},i.AU=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Ye(n.cF,function(t){return yr(t.Mf,"audio")}),r=Ye(n.cF,function(t){return yr(t.Mf,"video")}),e=[],this.ZU&&e.push(this.ZU.AU(i)),this.JU&&e.push(this.JU.AU(r)),t.next=7,T.all(e);case 7:this.uc=n;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ho=function(){var n=T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.ZU){n.next=4;break}return n.next=3,this.ZU.ho();case 3:this.ZU=void 0;case 4:if(!this.JU){n.next=8;break}return n.next=7,this.JU.ho();case 7:this.JU=void 0;case 8:return this._c.src&&URL.revokeObjectURL(this._c.src),this.ZE.Do(qo.eh,this.nF),this.uF.Rv(),n.next=13,t.prototype.ho.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.bU=function(){var t=this,n=this.uc,i=n.cF.map(function(n){return yr(n.Mf,"audio")&&t.ZU?t.ZU.Jp:yr(n.Mf,"video")&&t.JU?t.JU.Jp:n});this.uc=le(le({},n),{cF:i})},i.CM=function(){this.tF||this.iF()},i.iF=function(){this.dF&&this.oF()&&(this.zE.endOfStream(),this.KU=void 0,this.To(new Su(sS.xD)))},i.mU=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.fF(n.Mf);case 3:return i=t.sent,t.next=6,n.yU(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.lF).push(n),t.next=14,this._F(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.kU=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!j.Ne){t.next=3;break}throw new f("Not supported in Firefox");case 3:this.zE.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.lF.filter(function(t){return t!==n}),t.next=11,this._F(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i._F=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.ZE.gF(),i=0,r=this.lF;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.ml();case 7:i++,t.next=2;break;case 10:return this.zE=this.eF.YU(),t.next=13,this.hF();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.fF(s.Mf);case 18:return o=t.sent,t.next=21,s.yU(o);case 21:u++,t.next=14;break;case 24:this.ZE.wF();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lU=function(){this.oF()&&(this.tM?this.iF():void 0!==this.KU&&(this.zE.duration=this.KU,this.KU=void 0))},n.KL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.cF;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.Mf))return!1}return!0},L(n,[{key:"yF",get:function(){return this.ZU}},{key:"mF",get:function(){return this.JU}},{key:"lF",get:function(){var t=[];return this.ZU&&this.ZU.EM&&t.push(this.ZU),this.JU&&this.JU.EM&&t.push(this.JU),t}},{key:"R_",get:function(){if(this.KU)return this.KU;var t=this.zE.duration;return 9007199254740991===t?1/0:t}},{key:"Eg",get:function(){return VS?function(t){var n=[];if(t.yF&&t.yF.EM&&n.push(t.yF.Eg),t.mF&&t.mF.EM&&n.push(t.mF.Eg),0===n.length)return iA.tN();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.pl>0&&(i=l.max(i,e.yI(e.pl-1)))}for(var u=t.tM,s=new iA([0,i],[!0,u]),o=0;o<n.length;o++){var a=n[o];u&&a.pl>0&&(a=a.LI(new iA([a.yI(a.pl-1),i],[!0,!0]))),s=s.NI(a)}return s}(this):iA.JI(this._c.buffered)}},{key:"nM",get:function(){if(this.ZU&&this.ZU.EM)return this.ZU.Eg}},{key:"iM",get:function(){if(this.JU&&this.JU.EM)return this.JU.Eg}},{key:"Ug",get:function(){return this.$U.GU().NI(new iA([0,this.R_],[!0,!0]))}},{key:"tM",get:function(){return(!this.ZU||!this.ZU.EM||this.ZU.tM())&&(!this.JU||!this.JU.EM||this.JU.tM())}},{key:"ql",get:function(){return this.zE.readyState}},{key:"dF",get:function(){if(!this.tM)return!1;var t=this.Eg;return 0!==t.pl&&t.gI(t.pl-1)<=this.ZE.S_}}]),n}(dS),zS=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).eN=n,c.kF=i,c.pF=r,c.sN=e,c.aN=u,c.uN=s,c.oN=o,c.cN=a,c}M(n,t);var i=n.prototype;return i.ug=function(){this.sN||(this.sN=!0,this.To(new Il(this.S_)))},i.eg=function(){this.sN&&(this.sN=!1,this.To(new Nl(this.S_)))},L(n,[{key:"S_",get:function(){return this.eN},set:function(t){this.S_!==t&&(this.eN=t,this.aN=!0,this.To(new Ul(this.S_)))}},{key:"R_",get:function(){return this.kF}},{key:"I_",get:function(){return this.pF}},{key:"C_",get:function(){return this.sN}},{key:"x_",get:function(){return this.aN}},{key:"D_",get:function(){return this.uN},set:function(t){this.D_!==t&&(this.uN=t,this.To(new Hl(this.S_,this.L_)))}},{key:"O_",get:function(){return this.oN},set:function(t){this.O_!==t&&(this.oN=t,this.To(new Pl(this.S_,this.O_)))}},{key:"L_",get:function(){return this.cN},set:function(t){this.L_!==t&&(this.cN=t,this.To(new Hl(this.S_,this.L_)))}}]),n}(Tu),GS=function(t){function n(n){var i;return(i=t.call(this)||this).fS=al.__,i.AF=function(){i.bF()},i.ZE=n,i}M(n,t);var i=n.prototype;return i.TF=function(t){this.fS!==t&&(this.fS=t,this.To(new Wl(this.ZE.S_,t)))},i.bF=function(){this.TF(this.DP())},i.ml=function(){this.TF(al.__)},i.ho=function(){this.No()},L(n,[{key:"ql",get:function(){return this.DP()}}]),n}(Tu),jS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],QS=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<jS.length;r++){var e=jS[r];i.ZE.fR.addEventListener(e,i.AF)}return i}M(n,t);var i=n.prototype;return i.DP=function(){var t=this.ZE.fR.readyState;return t>al.w_&&this.ZE.EF?al.w_:(this.ZE.fR.seeking&&t>al.g_&&(t=al.g_),t)},i.ho=function(){for(var n=0;n<jS.length;n++){var i=jS[n];this.ZE.fR.removeEventListener(i,this.AF)}t.prototype.ho.call(this)},n}(GS),YS=function(t){function n(n){var i;(i=t.call(this,n)||this).ZE.So(qo.eh,i.AF);for(var r=0;r<jS.length;r++){var e=jS[r];i.ZE.fR.addEventListener(e,i.AF)}return i}M(n,t);var i=n.prototype;return i.DP=function(){if(this.ZE.fR.readyState===al.__)return al.__;var t=this.SF(),n=t?t.yI-t.gI:0;if(!t)return al.g_;var i=this.ZE.O_;return this.RF()||n>=3*i?al.m_:n>=3?al.y_:al.w_},i.SF=function(){var t=this.ZE.S_,n=this.ZE.Eg.BI(.04),i=n.FI(t);if(!(i<0))return{gI:t,yI:n.yI(i)}},i.RF=function(){if(this.ZE.I_)return!0;var t=this.ZE.R_,n=this.SF();return!!n&&t-n.yI<=1/6},i.ho=function(){this.ZE.Do(qo.eh,this.AF);for(var n=0;n<jS.length;n++){var i=jS[n];this.ZE.fR.removeEventListener(i,this.AF)}t.prototype.ho.call(this)},n}(GS),ZS=[Sl.ul,qo.$c,qo.Jc,qo.eh,qo.rh,qo.Wc,Wd.Vl],JS=function(t){function n(n){var i;return(i=t.call(this,n)||this).IF=!1,i.NF=function(){i.IF=!0,i.Sa()},i._c=n.fR,i._c.addEventListener(Sl.E_,i.NF),i}M(n,t);var i=n.prototype;return i.DF=function(){return this.IF&&t.prototype.DF.call(this)},i.Sa=function(){this.IF&&(this._c.paused||this._c.ended||this._c.error)&&(this.IF=!1),t.prototype.Sa.call(this)},i.ml=function(){t.prototype.ml.call(this),this.IF=!1},i.ho=function(){this._c.removeEventListener(Sl.E_,this.NF),t.prototype.ho.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).CF=!1,i.jO=function(){i.Sa()},i.cS=n,i.cS.So(ZS,i.jO),i}M(n,t);var i=n.prototype;return i.OF=function(){return this.cS.ql<al.y_},i.DF=function(){return!this.cS.x_&&!(this.cS.C_||this.cS.I_||this.cS.Ho||this.OF())},i.Sa=function(){var t=this.CF;this.CF=this.DF(),!t&&this.CF&&this.To(new Cp(this.cS.S_))},i.ml=function(){this.CF=!1},i.ho=function(){this.No(),this.cS.Do(ZS,this.jO)},n}(Tu)),$S=function(t){function n(n){var i;return(i=t.call(this,Wd.Vl)||this).Ho=n,i}return M(n,t),n}(Su);function KS(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}function tR(t,n){return t.uw<=n&&t.sw>n}function nR(t,n){return function(t,n){return K_(t.uw,n.uw,F_)}(t,n)||function(t,n){return K_(t.sw,n.sw,F_)}(t,n)}function iR(t,n){var i=KS(t,n,R,nR,!0);if(i<0)return i;for(;i<t.length&&nR(n,t[i])===Y_.Pw;i++)if(t[i].Tw(n))return i;return-(i+1)}function rR(t){var n=t.qd;if(!n)return-1;if(t instanceof V_)return n.xF(t);var i=n.zl;if(!i)return-1;var r=iR(i.kl,t);return r>=0?r:-1}function eR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{PF:o,BF:a}}(t,n,nR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var uR=function(){function t(t){this.Vd=void 0,this.LF=t}var n=t.prototype;return n.Wd=function(){return function(t){for(var n=[],i=0;i<t.pl;i++)n[i]=t.Qo(i).Xd;return n.item=function(n){var i=0|n,r=t.Qo(i);return r&&r.Xd||void 0},d.defineProperty(n,"constructor",{value:M_}),n}(this)},n.Vg=function(t){for(var n=this.LF,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.Tw(r))return!0}return!1},n.Qo=function(t){return this.LF[t]},L(t,[{key:"kl",get:function(){return this.LF}},{key:"pl",get:function(){return this.LF.length}},{key:"Xd",get:function(){if(this.Vd){var t=this.LF;this.Vd.length=t.length;for(var n=0;n<t.length;n++)this.Vd[n]=t[n].Xd}else this.Vd=this.Wd();return this.Vd}}]),t}(),sR=function(t){function n(n,i){var r;return(r=t.call(this,dd.ul)||this).qd=n,r.ql=i,r}return M(n,t),n.prototype.Wd=function(){return new oR(this.qd.Xd,Zd(this.ql))},n}(ld),oR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return M(n,t),n}(_d),aR=function(t){function n(n){var i;return(i=t.call(this,dd.ol)||this).qd=n,i}return M(n,t),n.prototype.Wd=function(){return new cR(this.qd.Xd)},n}(ld),cR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return M(n,t),n}(_d),hR=function(t){function n(n){var i;return(i=t.call(this,dd.zd)||this).ew=n,i}return M(n,t),n.prototype.Wd=function(){return new fR(this.ew.Xd)},n}(ld),fR=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return M(n,t),n}(_d),vR=function(t){function n(n){var i;return(i=t.call(this,dd.jd)||this).ew=n,i}return M(n,t),n.prototype.Wd=function(){return new dR(this.ew.Xd)},n}(ld),dR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return M(n,t),n}(_d),lR=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).zg=String(_R++),o.qg=w_(),o.MF=!1,o.PN=Xd.Ul,o.UF=b_.NONE,o.FF=void 0,o.LF=[],o.HF=[],o.VF=0,o.XF=0,o.WF=s||"",o.qF=n,o.zF=r||"",o.MF=Boolean(e),o.bu=u||T_.DEFAULT,o.Gg=i||"",o.GF=new uR(o.LF),o.jF=new uR(o.HF),o}M(n,t);var i=n.prototype;return i.QF=function(t){return Ye(this.GF.kl,function(n){return n.Cl===t})},i.Wd=function(){return jd(this)},i.XN=function(t){var n=zd(t);n!==this.Wl&&(this.PN=n,n===Xd.Ul&&(this.HF.forEach(function(t){t.Ew=!1}),nu(this.HF),this.XF=0))},i.Sb=function(t){if(t&&!t.qd){var n=iR(this.zl.kl,t);if(!(n>=0)){t.qd=this;var i=-(n+1);this.LF.splice(i,0,t),this.YF(i),t.mw=i,i<this.XF&&(this.XF=i),this.To(new hR(t))}}},i.ZF=function(t){if(t&&t.qd===this){var n=this.xF(t);if(!(n<0)){t.Ew=!1;var i=this.HF,r=iR(i,t);r>=0&&$e(i,r),$e(this.LF,n),this.YF(n),t.mw=-1,this.XF>n&&--this.XF,this.To(new vR(t))}}},i.JF=function(t,n){var i=this.HF,r=this.LF,e=this.XF,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){tR(i[s],t)||(u=!0,$e(i,s))}for(;e<r.length&&r[e].uw<=t;){var o=r[e];tR(o,t)&&!Ke(i,o)&&(u=!0,i.push(o)),e++}u&&Ge(i,nR),this.XF=e},i.xF=function(t){return(-1===t.mw||t.mw>=this.VF)&&this.KF(),t.mw},i.KF=function(){for(var t=this.LF,n=this.VF;n<t.length;n++)t[n].mw=n;this.VF=t.length},i.YF=function(t){t<this.VF&&(this.VF=t)},i.Rv=function(){this.No();for(var t=this.LF.slice(),n=0;n<t.length;n++){t[n].Rv()}nu(this.LF),nu(this.HF)},L(n,[{key:"Gl",get:function(){return this.jF}},{key:"zl",get:function(){return this.GF}},{key:"Ib",get:function(){return this.MF},set:function(t){this.MF=t}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}},{key:"Cl",get:function(){return this.zg}},{key:"Ol",get:function(){return this.qg}},{key:"Xl",get:function(){return this.WF},set:function(t){this.WF=t}},{key:"xl",get:function(){return this.qF}},{key:"Pl",get:function(){return this.Gg},set:function(t){t!==this.Gg&&(this.Gg=t,this.To(new l_(this)))}},{key:"Bl",get:function(){return this.zF}},{key:"Wl",get:function(){return this.PN},set:function(t){this.XN(t),this.To(new pd(this))}},{key:"ql",get:function(){return this.UF},set:function(t){this.UF!==t&&(this.UF=t,this.To(new sR(this,this.UF)))}},{key:"jl",get:function(){return this.FF},set:function(t){this.FF=t}},{key:"js",get:function(){return this.bu},set:function(t){this.bu!==t&&(this.bu=t,this.To(new aR(this)))}}]),n}(Tu),_R=0;var gR=function(t){function n(n){var i;(i=t.call(this)||this).tH=[],i.nH=function(t){i.gl(t.qd)},i.iH=function(t){var n=t.qd;i.rH(n)||i.wl(n)};for(var r=0;r<n.length;r++){var e=n[r];i.eH(e)}return i}M(n,t);var i=n.prototype;return i.eH=function(t){this.tH.push(t);for(var n=0,i=t.kl;n<i.length;n++){var r=i[n];this.gl(r)}this.uH(t)},i.sH=function(t){Je(this.tH,t),this.oH(t);for(var n=0,i=t.kl;n<i.length;n++){var r=i[n];this.rH(r)||this.wl(r)}},i.rH=function(t){for(var n=0,i=this.tH;n<i.length;n++){if(i[n].yl(t))return!0}return!1},i.uH=function(t){t.So(hd.Md,this.nH),t.So(hd.Fd,this.iH)},i.oH=function(t){t.Do(hd.Md,this.nH),t.Do(hd.Fd,this.iH)},i.Rv=function(){for(;this.tH.length>0;)this.sH(this.tH[0]);t.prototype.Rv.call(this)},i.Wd=function(){return Yd(this)},n}(kd),wR=function(t){function n(n,i){var r;return(r=t.call(this,I_.tw,n)||this).xy=i,r}return M(n,t),n.prototype.Wd=function(){return new yR(this.ew.Xd)},n}(P_),yR=function(t){function n(n){return t.call(this,N_.tw,n)||this}return M(n,t),n}(B_),mR=function(t){function n(n,i){var r;return(r=t.call(this,I_.iw,n)||this).xy=i,r}return M(n,t),n.prototype.Wd=function(){return new kR(this.ew.Xd)},n}(P_),kR=function(t){function n(n){return t.call(this,N_.iw,n)||this}return M(n,t),n}(B_),pR=function(t){function n(n){var i;return(i=t.call(this,dd.Yd)||this).ew=n,i}return M(n,t),n.prototype.Wd=function(){return new AR(this.ew.Xd)},n}(ld),AR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return M(n,t),n}(_d),bR=function(t){function n(n){var i;return(i=t.call(this,dd.Jd)||this).ew=n,i}return M(n,t),n.prototype.Wd=function(){return new TR(this.ew.Xd)},n}(ld),TR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return M(n,t),n}(_d),ER=function(t){function n(n){var i;return(i=t.call(this)||this).gw=void 0,i.Vd=void 0,i.ww=!1,i.yw="",i.aH=function(){i.Ew=!0},i.cH=function(){i.Ew=!1},i.hH=n,i.hH.addEventListener("enter",i.aH),i.hH.addEventListener("exit",i.cH),i}M(n,t);var i=n.prototype;return i.Wd=function(){return L_(this)},i.Tw=function(t){return this===t||Nd(this,t)&&H_(this,t)},i.Rv=function(){this.No(),this.hH.removeEventListener("enter",this.aH),this.hH.removeEventListener("exit",this.cH)},L(n,[{key:"uw",get:function(){return this.hH.startTime},set:function(t){this.hH.startTime=t}},{key:"sw",get:function(){return this.hH.endTime},set:function(t){this.hH.endTime=t}},{key:"ow",get:function(){return this.hH.text},set:function(t){this.hH.text=t+""}},{key:"Rw",get:function(){return!!this.hH.pauseOnExit},set:function(t){this.hH.pauseOnExit=!!t}},{key:"qd",get:function(){return this.gw},set:function(t){this.gw=t}},{key:"Cl",get:function(){return this.hH.id||""},set:function(t){this.hH.id=t||""}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}},{key:"Sw",get:function(){return this.yw},set:function(t){this.yw=t}},{key:"Ew",get:function(){return this.ww},set:function(t){this.Ew!==t&&(this.ww=t,t?(this.To(new wR(this,this.uw)),this.gw&&this.gw.To(new pR(this))):(this.To(new mR(this,this.sw)),this.gw&&this.gw.To(new bR(this))))}}]),n}($d),SR=function(t){function n(n){var i;return(i=t.call(this,dd.Kd)||this).qd=n,i}return M(n,t),n.prototype.Wd=function(){return new RR(this.qd.Xd)},n}(ld),RR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return M(n,t),n}(_d);function IR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new NR(t),t.THEOplayerVTTRegion=n),n}}var NR=function(){function t(t){this.Vd=void 0,this.fH=t}return L(t,[{key:"vH",get:function(){return this.fH}},{key:"Cl",get:function(){return this.fH.id||""}},{key:"rs",get:function(){return+this.fH.width||0},set:function(t){this.fH.width=t||0}},{key:"Iw",get:function(){return+this.fH.lines||0},set:function(t){this.fH.lines=t||0}},{key:"Nw",get:function(){return+this.fH.regionAnchorX||0},set:function(t){this.fH.regionAnchorX=t||0}},{key:"Dw",get:function(){return+this.fH.regionAnchorY||0},set:function(t){this.fH.regionAnchorY=t||0}},{key:"Ow",get:function(){return+this.fH.viewportAnchorX||0},set:function(t){this.fH.viewportAnchorX=t||0}},{key:"xw",get:function(){return+this.fH.viewportAnchorY||0},set:function(t){this.fH.viewportAnchorY=t||0}},{key:"Cw",get:function(){return this.fH.scroll||""}},{key:"Xd",get:function(){return this.Vd||(this.Vd=Q_(this)),this.Vd}}]),t}(),DR=function(t){function n(n){return t.call(this,n)||this}return M(n,t),L(n,[{key:"_w",get:function(){return this.hH.vertical||""},set:function(t){this.hH.vertical=t||""}},{key:"lw",get:function(){return!!this.hH.snapToLines},set:function(t){this.hH.snapToLines=!!t}},{key:"cw",get:function(){return this.hH.line},set:function(t){this.hH.line=t}},{key:"$o",get:function(){return+this.hH.size},set:function(t){this.hH.size=Wt(t,0,100)}}]),n}(ER),CR=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.Tw=function(n){return this===n||Nd(this,n)&&t.prototype.Tw.call(this,n)&&X_(this,n)},L(n,[{key:"dw",get:function(){return IR(this.hH.region)}},{key:"hw",get:function(){return this.hH.lineAlign||"start"},set:function(t){this.hH.lineAlign=t||"start"}},{key:"fw",get:function(){return this.hH.position},set:function(t){this.hH.position=t}},{key:"vw",get:function(){return this.hH.positionAlign||"auto"},set:function(t){this.hH.positionAlign=t||"auto"}},{key:"aw",get:function(){return this.hH.align||"center"},set:function(t){this.hH.align=t||"center"}},{key:"Xd",get:function(){return this.Vd||(this.Vd=U_(this)),this.Vd}}]),n}(DR),OR=function(t){function n(n){return t.call(this,n)||this}return M(n,t),n.prototype.Tw=function(n){return this===n||Nd(this,n)&&t.prototype.Tw.call(this,n)&&X_(this,n)},L(n,[{key:"dw",get:function(){return IR(this.vH)}},{key:"vH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.hH.track,this.hH.regionId)}},{key:"hw",get:function(){return"middle"===(t=this.hH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.hH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"fw",get:function(){return this.hH.position},set:function(t){var n,i;this.hH.position=(n=t,i=this.aw,x_(n,i))}},{key:"vw",get:function(){return t=this.hH.positionAlign||"middle",C_[t];var t},set:function(t){var n,i;this.hH.positionAlign=(n=t||"center",i=this.aw,D_[O_(n,i)])}},{key:"aw",get:function(){return"middle"===(t=this.hH.align||"middle")?"center":t;var t},set:function(t){var n;this.hH.align="center"===(n=t||"center")?"middle":n}},{key:"Xd",get:function(){return this.Vd||(this.Vd=U_(this)),this.Vd}}]),n}(DR);function xR(t,n){return t.ow===n.ow}function PR(t,n,i){for(var r=t[n].uw,e=n;e>=0&&t[e].uw===r;e--)t[e].sw=i}function BR(t){return L_(t)}var LR,MR,UR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).dH=i,r}return M(n,t),n.prototype.Tw=function(n){return this===n||Nd(this,n)&&t.prototype.Tw.call(this,n)&&xR(this,n)},L(n,[{key:"ow",get:function(){return this.dH}},{key:"Xd",get:function(){return this.Vd||(this.Vd=BR(this)),this.Vd}}]),n}(ER);function FR(t){switch(t){case LR.ISO_8859_1:case LR.UTF16_BOM:case LR.UTF16:case LR.UTF8:return!0}return!1}function HR(t){switch(t){case LR.ISO_8859_1:return bs;case LR.UTF16_BOM:return Ss;case LR.UTF16:return Rs;case LR.UTF8:return Ps}}function VR(t,n){var i=n.ra,r=t.byteLength,e=Hs(t);return n.ta(r-i),Ws(e,i,r).buffer}function XR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function WR(t,n,i){var r=as(t,n);if(FR(r)){var e=HR(r);return{id:i,language:ps(t,n,3),description:e(t,n),text:e(t,n)}}}function qR(t,n,i){var r=as(t,n);if(FR(r)){var e=HR(r);return{id:i,mimeType:bs(t,n),fileName:e(t,n),description:e(t,n),data:VR(t,n)}}}function zR(t,n,i){var r=as(t,n);if(FR(r)){for(var e=HR(r),u=[];n.ra<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function GR(t,n,i){var r=as(t,n);if(FR(r)){for(var e=HR(r),u=ps(t,n,3),s=as(t,n),o=as(t,n),a=e(t,n),c=!1,h=[];n.ra<t.byteLength;){var f=void 0;if(r===LR.UTF16_BOM){var v=Es(t,n);void 0===v?v=c:c=v,f=Rs(t,n,v)}else f=e(t,n);if(!f||n.ra+4>t.byteLength)break;h.push({text:f,timestamp:gs(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function jR(t,n,i){return{id:i,ownerIdentifier:bs(t,n),identifier:VR(t,n)}}function QR(t,n,i){var r=as(t,n);if(FR(r)){var e=HR(r);return{id:i,language:ps(t,n,3),description:e(t,n),text:e(t,n)}}}function YR(t,n,i){var r=as(t,n);if(FR(r))return{id:i,text:HR(r)(t,n)}}function ZR(t,n,i){return{id:i,url:bs(t,n)}}function JR(t,n,i){var r=as(t,n);if(FR(r)){var e=HR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function $R(t,n,i){var r=as(t,n);if(FR(r))return{id:i,description:HR(r)(t,n),url:bs(t,n)}}function KR(t,n,i){switch(i){case"COM":return WR(t,n,i);case"GEO":return qR(t,n,i);case"IPL":return zR(t,n,i);case"PIC":return function(t,n,i){var r=as(t,n);if(FR(r)){var e,u,s=HR(r),o=ps(t,n,3),a=as(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=bs(t,n)):(e="image/"+o.toLowerCase(),u=VR(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return GR(t,n,i);case"TXX":return JR(t,n,i);case"UFI":return jR(t,n,i);case"ULT":return QR(t,n,i);case"WXX":return $R(t,n,i);default:if("T"===i.charAt(0))return YR(t,n,i);if("W"===i.charAt(0))return ZR(t,n,i)}}function tI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=as(t,n);if(FR(r)){var e=HR(r),u=bs(t,n);return{id:i,mimeType:u,pictureType:as(t,n),description:e(t,n),data:"--\x3e"===u?bs(t,n):VR(t,n)}}}(t,n,i);case"COMM":return WR(t,n,i);case"COMR":return function(t,n,i){var r=as(t,n);if(FR(r)){var e,u,s=HR(r),o=bs(t,n),a=ps(t,n,8),c=bs(t,n),h=as(t,n),f=s(t,n),v=s(t,n);return n.ra<t.byteLength&&(e=bs(t,n)||"image/",u=VR(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return qR(t,n,i);case"IPLS":return zR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:bs(t,n),data:VR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:as(t,n),position:gs(t,n)}}(t,n,i);case"SYLT":return GR(t,n,i);case"TXXX":return JR(t,n,i);case"UFID":return jR(t,n,i);case"USER":return function(t,n,i){var r=as(t,n);if(FR(r)){var e=HR(r);return{id:i,language:ps(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return QR(t,n,i);case"WXXX":return $R(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return YR(t,n,i);default:var r=i.charAt(0);if("T"===r)return YR(t,n,i);if("W"===r)return ZR(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(LR||(LR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(MR||(MR={}));var nI=10;function iI(t,n){return(127&as(t,n))<<21|(127&as(t,n))<<14|(127&as(t,n))<<7|127&as(t,n)}function rI(t,n){switch(t){case MR.V24:return{lH:os(n,0),_H:os(n,1),gH:os(n,2),wH:os(n,3)};case MR.V23:return{lH:os(n,0),_H:os(n,1),gH:os(n,2)};case MR.V22:return{lH:os(n,0),yH:os(n,1)}}}function eI(t,n,i){switch(i.Bk){case MR.V23:i.Lk._H&&function(t,n){var i=n.ra,r=gs(t,n)+4,e=32768&ls(t,n);n.na(i+r),e&&gs(t,n)}(t,n);break;case MR.V24:i.Lk._H&&function(t,n){var i=n.ra,r=iI(t,n);n.na(i+r)}(t,n)}}function uI(t,n){if(t.byteLength-n.ra<nI)return null;if(73!==as(t,n)||68!==as(t,n)||51!==as(t,n))return null;var i=as(t,n),r=as(t,n);if(!function(t){switch(t){case MR.V22:case MR.V23:case MR.V24:return!0}return!1}(i))return null;var e=as(t,n),u=iI(t,n);return{Bk:i,mH:r,Lk:rI(i,e),kH:u}}function sI(t,n,i){switch(i.Bk){case MR.V22:return function(t,n,i){return{Cl:ps(t,n,3),$o:ds(t,n,3)}}(t,n);case MR.V23:return function(t,n,i){var r=ps(t,n,4),e=gs(t,n);as(t,n);var u=as(t,n);return{Cl:r,$o:e,Lk:{yH:os(u,0),pH:os(u,1),groupingIdentity:os(u,2)}}}(t,n);case MR.V24:return function(t,n,i){var r=ps(t,n,4),e=iI(t,n);as(t,n);var u=as(t,n);return{Cl:r,$o:e,Lk:{groupingIdentity:os(u,1),yH:os(u,4),pH:os(u,5),lH:os(u,6),AH:os(u,7)}}}(t,n)}}function oI(t){for(var n=new y(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function aI(t,n){var i=n||new zs,r=uI(t,i);return r?{Dk:r,bH:function(t,n,i){var r=[],e=n.ra,u=Us(t,e,e+i.kH),s=new zs;switch(n.ta(i.kH),i.Bk){case MR.V22:case MR.V23:i.Lk.lH&&(u=oI(u))}eI(t,n,i);for(;s.ra<u.byteLength;)r.push(cI(u,s,i));return r}(t,i,r)}:null}function cI(t,n,i){var r,e,u=sI(t,n,i),s=n.ra,o=Us(t,s,s+u.$o);switch(n.ta(u.$o),i.Bk){case MR.V22:var a=u;r=KR(e=o,new zs,a.Cl);break;case MR.V23:var c=u,h=new zs;!function(t,n,i){var r,e,u,s=i.Lk;s.yH&&(r=gs(t,n)),s.pH&&(e=as(t,n)),s.groupingIdentity&&(u=as(t,n))}(o,h,c),r=tI(e=Us(o,h.ra,o.byteLength),new zs,c.Cl);break;case MR.V24:var f=u,v=new zs;f.Lk.lH&&(o=oI(o)),function(t,n,i){var r,e,u,s,o=i.Lk;o.groupingIdentity&&(r=as(t,n)),o.yH&&(e=gs(t,n)),o.pH&&(u=as(t,n)),o.AH&&(s=iI(t,n))}(o,v,f),r=tI(e=Us(o,v.ra,o.byteLength),new zs,f.Cl)}if(!r){var d=qs(Hs(e));r=XR(u.Cl,d.buffer)}return r}function hI(t){return function(t,n,i){return YR(t,n,i)}(new DataView(t.data),new zs,t.key)}function fI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return hI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return XR(t.key,t.data)}(t)}var vI="org.id3";var dI=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).LF=[],e.HF=[],e.PN=Xd.Ul,e.UF=b_.NONE,e.FF=void 0,e.bu=T_.DEFAULT,e.TH=function(){e.EH(),e.Wg.removeEventListener("cuechange",e.TH)},e.SH=function(){e.Wl!==Xd.Ul&&(e.RH(),e.JF(),e.LF.length&&e.IH(b_.LOADING))},e.NH=function(){e.IH(b_.LOADED)},e.DH=function(){e.IH(b_.ERROR)},e.Wg=n,e.CH=r,e.Wg.addEventListener("cuechange",e.TH),e.Wg.addEventListener("cuechange",e.SH),e.OH=i,e.OH&&(e.FF=Rr(e.OH.src),e.OH.addEventListener("load",e.NH),e.OH.addEventListener("error",e.DH)),e.qg=w_(),e.Gg=n.label||"",e.GF=new uR(e.LF),e.jF=new uR(e.HF),e.Wl=e.xH,_u(function(){e.SH(),e.IH(b_.NONE)}),e}M(n,t);var i=n.prototype;return i.Wd=function(){return jd(this)},i.EH=function(){var t=this.Wl;this.PH||t!==Xd.Hl?this.xH=t:this.xH=Xd.Fl},i.BH=function(){var t=this.Wl,n=this.xH;t!==n&&(this.PH||t!==Xd.Hl||n!==Xd.Fl)&&("metadata"===this.xl&&n===Xd.Ul?this.Wl=t:this.Wl=n)},i.bF=function(t){this.UF!==t&&(this.UF=t,this.To(new sR(this,t)))},i.IH=function(t){var n=l.max(this.UF,this.LH,t);this.bF(n)},i.MH=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.UH=function(t){var n=this.MH(t);if(n)return n;if($(n=this.FH(t)))for(var i=0,r=n;i<r.length;i++){r[i].qd=this}else n.qd=this;return t.THEOplayerTextTrackCue=n,n},i.FH=function(t){return(n=t)&&n.type===vI&&n.value?(this.js=T_.ID3,function(t){var n;try{n=fI(t.value)}catch(t){n=XR("")}return new UR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.js=T_.ID3,function(t){var n=[];try{var i=aI(new DataView(t.data));if(i)for(var r=0,e=i.bH;r<e.length;r++){var u=e[r];n.push(new UR(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.js=T_.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new OR(t):new CR(t)):new ER(t);var n},i.HH=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.UH(t[r]||t.item(r));if($(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.RH=function(){for(var t=this.HH(this.Wg.cues),n=eR(this.LF,t),i=0,r=n.BF;i<r.length;i++){var e=r[i];this.To(new vR(e))}for(var u=0,s=n.PF;u<s.length;u++){var o=s[u];this.To(new hR(o))}},i.JF=function(){for(var t=this.HH(this.Wg.activeCues),n=eR(this.HF,t),i=0,r=n.BF;i<r.length;i++){r[i].Ew=!1}for(var e=0,u=n.PF;e<u.length;e++){u[e].Ew=!0}(n.PF.length||n.BF.length)&&this.To(new SR(this))},i.Rv=function(){this.No();for(var t=this.LF.slice(),n=0;n<t.length;n++){t[n].Rv()}nu(this.LF),nu(this.HF),this.Wg.removeEventListener("cuechange",this.SH),this.OH&&(this.Wg.removeEventListener("load",this.NH),this.Wg.removeEventListener("error",this.DH)),this.OH&&Hr(this.OH)},L(n,[{key:"Gl",get:function(){return this.jF}},{key:"Ib",get:function(){return this.OH?this.OH.default:void 0}},{key:"zl",get:function(){return this.GF}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}},{key:"Cl",get:function(){return this.Wg.id||this.OH&&this.OH.id||""}},{key:"Ol",get:function(){return this.qg}},{key:"Xl",get:function(){return this.Wg.inBandMetadataTrackDispatchType||""}},{key:"xl",get:function(){return this.Wg.kind||Ww.vb}},{key:"Pl",get:function(){return this.Gg},set:function(t){t!==this.Pl&&(this.Gg=t,this.To(new l_(this)))}},{key:"Bl",get:function(){return this.Wg.language||""}},{key:"Wl",get:function(){return this.PN},set:function(t){var n=this.Wl;this.PN=zd(t),this.EH();var i=this.Wl;n!==i&&this.To(new pd(this)),i!==Xd.Ul&&this.IH(b_.LOADING)}},{key:"xH",get:function(){return zd(this.Wg.mode)},set:function(t){this.Wg.mode=t}},{key:"Zg",get:function(){return this.Wg}},{key:"ql",get:function(){return this.UF}},{key:"LH",get:function(){return this.OH?+this.OH.readyState||b_.NONE:b_.LOADED}},{key:"jl",get:function(){return this.FF}},{key:"js",get:function(){return this.bu},set:function(t){this.bu!==t&&(this.bu=t,this.To(new aR(this)))}},{key:"PH",get:function(){return this.CH},set:function(t){this.CH=t,this.EH()}}]),n}(Tu);function lI(t){return t instanceof dI}function _I(t,n){return $_(t.xy,n.xy)||function(t,n){return t.qd===n.qd?J_(rR(t),rR(n)):ey(t.qd,n.qd)}(t.ew,n.ew)||function(t,n){return t===n?Y_.Pw:t===I_.tw?Y_.Lw:Y_.Bw}(t.type,n.type)}var gI=function(){function t(t,n){var i=this;this.Y_=[],this.VH=0,this.XH=0,this.WH=[],this.qH=!1,this.zH=!1,this.GH=void 0,this.jH=function(){i.VH=0,i.QH(),i.YH()},this.ZH=function(){i.QH(),i.YH()},this.JH=function(){i.zH=!0,i.GH=i.cI.S_,i.$H()},this.KH=function(){i.QH(),i.YH()},this.tV=function(){i.nV(),i.QH(),i.YH()},this.iV=function(){i.rV()},this.eV=function(t){Je(i.WH,t.ew),i.rV()},this.uV=n,this.cI=t,t.So(qo.vh,this.ZH),t.So(qo.$c,this.ZH),t.So(Sl.E_,this.ZH),t.So(qo.Jc,this.ZH),t.So(qo.eh,this.JH),t.So(qo.rh,this.KH),this.rV()}var n=t.prototype;return n.ml=function(){nu(this.WH);for(var t=0,n=this.Y_.slice();t<n.length;t++){var i=n[t];this.wl(i)}this.$H(),this.VH=0,this.XH=0,this.qH=!1,this.zH=!1,this.GH=void 0},n.gl=function(t){Ke(this.Y_,t)||(this.Y_.push(t),t.So(dd.zd,this.iV),t.So(dd.jd,this.eV),t.So(dd.nl,this.tV),t.zl.pl&&this.rV(),this.nV())},n.wl=function(t){if(Je(this.Y_,t)){if(t.Do(dd.zd,this.iV),t.Do(dd.jd,this.eV),t.Do(dd.nl,this.tV),t.zl.pl){for(var n=0,i=t.zl.kl;n<i.length;n++){var r=i[n];Je(this.WH,r)}this.rV()}this.nV()}},n.nV=function(){this.qH=this.Y_.some(function(t){return t.Wl!==Xd.Ul})},n.YH=function(){this.cI.x_||this.cI.C_?this.$H():this.rV()},n.rV=function(){this.qH&&(this.VH||(this.VH=this.uV.ar(this.jH)))},n.$H=function(){this.VH&&(this.uV.sV(this.VH),this.VH=0)},n.QH=function(){var t;if(this.qH&&!this.cI.x_){var n=this.Y_,i=this.XH,r=null!==(t=this.GH)&&void 0!==t?t:this.cI.S_,e=r-i<-.1,u=this.zH||e;u&&r>i&&r-i<.1&&(u=!1),this.zH=!1,this.GH=void 0;for(var s,o=[],a=0;a<n.length;a++){var c=n[a];if(c.Wl!==Xd.Ul){c.JF(r,u);for(var h=0,f=c.Gl.kl;h<f.length;h++){var v=f[h];o.push(v)}}}if(u)s=this.WH;else{s=[];for(var d=0;d<n.length;d++){var _=n[d];_.Wl!==Xd.Ul&&ry(_,i-1/6,r,s)}}for(var g=s.length-1;g>=0;g--)Ke(o,s[g])&&$e(s,g);var w=[];if(!u)for(var y=s.length-1;y>=0;y--){var m=s[y];m.uw>=i&&m.sw<=r&&(w.push(m),$e(s,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.Ew||k.push(new wR(b,b.uw)),k.push(new mR(b,l.max(b.uw,b.sw)))}for(var T=0,E=s;T<E.length;T++){var S=E[T];S.Ew&&(k.push(new mR(S,l.max(S.uw,S.sw))),S.Ew=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.Ew||(k.push(new wR(I,I.uw)),I.Ew=!0)}k.sort(_I);for(var N=0;N<k.length;N++){var D=k[N],C=D.ew;C.To(D);var O=C.qd;O&&(D.type===I_.tw?O.To(new pR(C)):O.To(new bR(C)),Ke(p,O)||p.push(O))}p.sort(ey);for(var x=0;x<p.length;x++){var P=p[x];P.To(new SR(P))}this.XH=r,this.WH=o}},n.Rv=function(){this.ml(),this.cI.Do(qo.vh,this.ZH),this.cI.Do(qo.$c,this.ZH),this.cI.Do(Sl.E_,this.ZH),this.cI.Do(qo.Jc,this.ZH),this.cI.Do(qo.eh,this.JH),this.cI.Do(qo.rh,this.KH)},t}(),wI=function(){function t(){}var n=t.prototype;return n.ar=function(t){return dT(t)},n.sV=function(t){lT(t)},t}(),yI=new wI,mI=function(t){function n(n,i){return void 0===i&&(i=yI),t.call(this,n,i)||this}return M(n,t),n}(gI),kI=function(t){function n(n,i){return t.call(this,n,1/0,i,!1)||this}return M(n,t),n.prototype.Tw=function(n){return this===n||Nd(this,n)&&t.prototype.Tw.call(this,n)&&xR(this,n)},L(n,[{key:"Xd",get:function(){return this.Vd||(this.Vd=BR(this)),this.Vd}}]),n}(V_),pI=function(t){function n(n,i,r){return void 0===r&&(r=T_.DEFAULT),t.call(this,Ww.uk,i||"","",!1,r,n)||this}return M(n,t),n}(lR),AI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).js=T_.ID3,r}M(n,t);var i=n.prototype;return i.Sb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].uw<t.uw)PR(n,i,t.uw);else{var r=n[0];if(r.uw>t.uw)t.sw=r.uw;else{var e=iR(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].uw<t.uw&&PR(n,s,t.uw),u<n.length){var o=n[u];t.sw=o.uw}}}}}}(n,this.LF),t.prototype.Sb.call(this,n)},i.Wd=function(){return jd(this)},n}(pI);function bI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=fI(t.value);return t.THEOplayerTextTrackCue=new kI(i,r),t.THEOplayerTextTrackCue}var TI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).SH=function(){i.Wl!==Xd.Ul&&(i.RH(),i.IH(b_.LOADED))},i.Wg=n,i.Wg.addEventListener("cuechange",i.SH),i.Wl=i.xH,_u(function(){i.SH()}),i}M(n,t);var i=n.prototype;return i.XN=function(n){t.prototype.XN.call(this,n),this.xH=this.Wl},i.IH=function(t){this.ql=l.max(this.ql,t)},i.RH=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(bI(t[r]||t.item(r)));return Ge(i,nR),i}(this.Wg.cues),n=eR(this.zl.kl.slice(),t),i=0,r=n.BF;i<r.length;i++){var e=r[i];this.ZF(e)}for(var u=0,s=n.PF;u<s.length;u++){var o=s[u];this.Sb(o)}},i.Rv=function(){this.Wg.removeEventListener("cuechange",this.SH),t.prototype.Rv.call(this)},L(n,[{key:"Cl",get:function(){return this.Wg.id||""}},{key:"Xl",get:function(){return this.Wg.inBandMetadataTrackDispatchType||""}},{key:"Bl",get:function(){return this.Wg.language||""}},{key:"xH",get:function(){return zd(this.Wg.mode)},set:function(t){this.Wg.mode=t}},{key:"Zg",get:function(){return this.Wg}}]),n}(AI),EI=function(t){function n(n){var i;return(i=t.call(this,0,n.ow)||this).oV=n,i.sw=i.oV.uw,i}return M(n,t),L(n,[{key:"Cl",get:function(){return this.oV.Cl},set:function(t){this.oV.Cl=t}},{key:"Rw",get:function(){return this.oV.Rw},set:function(t){this.oV.Rw=t}},{key:"Sw",get:function(){return this.oV.Sw},set:function(t){this.oV.Sw=t}}]),n}(kI);function SI(t){return void 0===t.aV&&(t.aV=new EI(t)),t.aV}var RI=function(t){function n(n,i){var r;(r=t.call(this,n.Xl,n.Pl)||this).js=T_.ID3,r.cV=function(t){r.hV(t.ew)},r.fV=function(t){var n=t.ew;if(void 0!==n.aV){var i=n.aV;n.aV=void 0,r.ZF(i),i.Rv()}},r.vV=function(t){var n=SI(t.ew);n.Ew||r.dV(n),r.lV(n)},r._V=function(t){var n=t.ew,i=SI(n);r.gV.S_<n.uw&&r.dV(i)},r.wV=function(){var t=r.yV,n=r.Wl;if(r.yV=n,n===Xd.Ul)r.HF.forEach(function(t){return t.Ew=!1}),nu(r.HF);else if(t===Xd.Ul)for(var i=r.gV.S_,e=0,u=r.LF;e<u.length;e++){var s=u[e];i<s.sw&&r.dV(s)}},r.gV=i,r.mV=n,r.yV=n.Wl,n.So(dd.zd,r.cV),n.So(dd.jd,r.fV),n.So(dd.Yd,r.vV),n.So(dd.Jd,r._V),n.So(dd.nl,r.wV);for(var e=0,u=r.mV.zl.kl;e<u.length;e++){var s=u[e];r.hV(s)}return r}M(n,t);var i=n.prototype;return i.dV=function(t){var n=iR(this.HF,t);if(!(n>=0)){var i=-(n+1);this.HF.splice(i,0,t),t.Ew=!0,t.To(new wR(t,this.gV.S_)),this.To(new pR(t)),this.To(new SR(this))}},i.lV=function(t){var n=iR(this.HF,t);n>=0&&$e(this.HF,n),t.Ew=!1,t.To(new mR(t,this.gV.S_)),this.To(new bR(t)),this.To(new SR(this))},i.Rv=function(){this.mV.Do(dd.zd,this.cV),this.mV.Do(dd.jd,this.fV),this.mV.Do(dd.Yd,this.vV),this.mV.Do(dd.Jd,this._V),this.mV.Do(dd.nl,this.wV),t.prototype.Rv.call(this)},i.hV=function(t){var n=SI(t);(this.Sb(n),this.Wl!==Xd.Ul)&&(this.gV.S_<n.sw&&this.dV(n))},L(n,[{key:"xl",get:function(){return this.mV.xl}},{key:"Pl",get:function(){return this.mV.Pl},set:function(t){this.mV.Pl=t}},{key:"Bl",get:function(){return this.mV.Bl}},{key:"Cl",get:function(){return this.mV.Cl}},{key:"Ol",get:function(){return this.mV.Ol}},{key:"Xl",get:function(){return this.mV.Xl}},{key:"Wl",get:function(){return this.mV.Wl},set:function(t){this.mV.Wl=t}},{key:"ql",get:function(){return this.mV.ql}},{key:"jl",get:function(){return this.mV.jl}}]),n}(pI),II=function(t){function n(n){var i;return(i=t.call(this)||this).gV=n,i}M(n,t);var i=n.prototype;return i.gl=function(n){if(n.js===T_.ID3){var i=n;return i.aV||(i.aV=new RI(i,this.gV)),t.prototype.gl.call(this,i.aV)}return t.prototype.gl.call(this,n)},i.wl=function(n){if(n.js===T_.ID3){var i=n;return!!i.aV&&t.prototype.wl.call(this,i.aV)}return t.prototype.wl.call(this,n)},n}(Jd),NI=function(t){function n(n,i){var r;return(r=t.call(this)||this).pb=n,r.kV=i,r.pV=new Ae,r.nH=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.qd).js){t.next=4;break}return t.next=4,i.Po(dd.ol);case 4:if(i.js===T_.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.zl.pl){t.next=11;break}return t.next=9,i.Po(dd.zd);case 9:t.next=6;break;case 11:r.AV(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.iH=function(t){var n=t.qd;if(n.js===T_.ID3&&r.pV.has(n.Ol)){var i=r.pV.get(n.Ol);r.wl(i),r.pb.Rb(i),n.Do(dd.zd,r.hV)}},r.hV=function(t){DI(t.ew)&&r.bV(t.ew)},r.TV(),r}M(n,t);var i=n.prototype;return i.TV=function(){this.kV.So(hd.Md,this.nH),this.kV.So(hd.Fd,this.iH)},i.EV=function(){this.kV.Do(hd.Md,this.nH),this.kV.Do(hd.Fd,this.iH)},i.AV=function(t){var n=t.zl.kl[0];if(DI(n)){var i=function(t){var n=t.match(CI);if(!n)return;return{qd:n[1],Bl:n[2]}}(n.ow.description),r=i.qd,e=i.Bl;if(!this.SV(r,e)){var u=this.pb.Tb(Ww.vb,r,e,!1,T_.TTML);this.gl(u),this.pV.set(t.Ol,u);for(var s=0,o=t.zl.kl;s<o.length;s++){var a=o[s];DI(a)&&this.bV(a)}t.So(dd.zd,this.hV)}}},i.SV=function(t,n){return!!Ye(this.Zk.kl,function(i){return i.Pl===t&&i.Bl===n})},i.bV=function(t){if(t.qd)for(var n=this.pV.get(t.qd.Ol),i=xw(t.ow.text,0,{hm:0,fm:1/0,vm:-t.sw}),r=0;r<i.length;r++){var e=i[r];n.Sb(e)}},i.ml=function(){var n=T.coroutine(de.mark(function n(){var i,r,e,u,s;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.kV.kl;i<r.length;i++)r[i].Do(dd.zd,this.hV);for(e=0,u=this.Zk.kl;e<u.length;e++)s=u[e],this.pb.Rb(s);return this.pV.clear(),n.next=5,t.prototype.ml.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Rv=function(){var n=T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.EV(),n.next=3,t.prototype.Rv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(zw);function DI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.ow)&&CI.test(n.description);var n}var CI=/^Track:(.+),Lang:(.+)$/;var OI=j.Ee||j.Se,xI=j.ke,PI=.5,BI=5,LI=j.Ce,MI=[qo.dh,qo.th,qo.eh,qo.$c,qo.Jc],UI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).qS=void 0,e.oI=!0,e.zE=void 0,e.RV=new gy,e.IV=void 0,e.NV=void 0,e.DV=void 0,e.CV=void 0,e.aN=!1,e.OV=T.resolve(),e.xV=new uu,e.PV=[],e.BV=iA.tN(),e.LV=void 0,e.MV=1,e.UV=!1,e.FV=!1,e.HV=!1,e.VV=!1,e.XV=!1,e.WV=!1,e.qV=0,e.zV=function(t){var n=t.track,i=e.GV(n);e.jV(n,i)},e.QV=function(t){var n=function(t,n){for(var i=0,r=t.kl;i<r.length;i++){var e=r[i];if(e.Zg===n)return e}return}(e.YV,t.track);n&&e.YV.wl(n)},e.ZV=function(){for(var t=0;t<e.Y_.pl;t++){var n=e.Y_._l(t);n instanceof dI&&n.BH()}},e.JV=function(){for(var t=e.YV.kl,n=0;n<t.length;n++){var i=t[n];e.YV.wl(i)}},e.$V=function(){var t=e.zE,n=t.yF,i=t.mF;if(n&&i)if(t.tM)e.KV();else if(t.ql!==HS.OM){var r=n.Eg,u=i.Eg;if(0!==r.pl&&0!==u.pl){var s=e.S_;if(s<r.gI(0)||s<u.gI(0))e.KV();else if(r.CR(s)!==u.CR(s))e.tX();else if(e.KV(),!e.qV&&e.nX.DF())r.MI(u).XI(s,s+PI)&&(e.qV=dT(e.iX))}else e.KV()}},e.iX=function(){e.qV=0,e.$V()},e.rX=function(){if(!(e.x_||e.ql>=al.y_)){0;var t=e.zE,n=t.yF,i=t.mF;if(n&&i){var r=e.S_,u=n.Eg,s=i.Eg;if(u.CR(r)&&s.CR(r))u.MI(s).XI(r-BI,r)&&e.na(r)}}},e.eX=function(){e.To(new Nl(e.S_))},e.uX=function(){e.sX(new su),e.To(new Il(e.S_))},e.oX=function(){e.aX(),e.To(new Cp(e.S_))},e.cX=function(){e.hX(e.O_)},e.fX=function(){e.To(new xl(e.R_))},e.vX=function(){e.To(new _S(e.S_))},e.dX=function(){e.To(new gS)},e.lX=function(){var t=e.S_,n=e.x_,i=e.ql<al.y_&&!e.I_,r=void 0!==e.CV,u=r&&e.CV!==t;(n||!r||u&&!i)&&(e.To(new Bl(e.S_,void 0)),e.CV=t)},e._X=function(){!e.UV&&e.I_&&(e.UV=!0,e.To(new Ll(e.S_)))},e.gX=function(){var t;if(null!==e._c.error){var n=e._c.error;e.qS=new o_(null!==(t=n.code)&&void 0!==t?t:r_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),e.wX(e.qS),e.To(new $S(e.qS))}else e.qS=void 0},e.yX=function(){e.To(new Hl(e.S_,e.L_))},e.mX=function(){e.B_>0&&e.P_>0&&e.To(new _y)},e.kX=function(t){e.To(new Ou(t.initDataType,t.initData||new ArrayBuffer(0)))},e.pX=function(){e.To(new xu)},e.AX=function(t){var n=t.initData,i=n?qs(n).buffer:new ArrayBuffer(0);e.To(new Ou(Ee,i))},e.bX=function(t){if(t.initData){var n=FI(t.initData);if(!n)return;e.To(new Ou(Re,n))}else e.To(new Ou(Re,new ArrayBuffer(0)))},e.TX=function(t){var n=t.initData,i=n?qs(n).buffer:new ArrayBuffer(0);e.To(new Ou(Ee,i))},e.EX=function(){e.aX()},e.SX=function(t){e.sX(t)},e._c=n,e.io=i,e.RX=r,e.IX=new QS(rn(e)),e.IX.So(Sl.ul,e.bo),e.nX=new JS(rn(e)),e.nX.So(Sl.E_,e.oX),e.Y_=new qw,e.NX=new qw,e.YV=new qw,e.DX=new gR([e.Y_,e.NX,e.YV]),e.CX=new II(rn(e)),e.CX.Rl=e.DX,e.OX=new NI(rn(e),e.CX),e.xX=new gR([e.DX,e.OX.Zk]),e.PX=new mI(rn(e)),e.BX(),e._R(),e}M(n,t);var i=n.prototype;return i.LX=function(){this.fR.ended||this.S_===this.R_||(this.UV=!1)},i.MX=function(){return void 0!==this.NV&&this.R_===this.NV},i.hX=function(t){this.MV!==t&&(this.MV=t,this.To(new Pl(this.S_,t)))},i.PR=function(){return kE(this._c)},i.eg=function(){var t=this.UX();return this.FX(),t},i.FX=function(){this.HV?this.VV&&(this.VV=!1,this.To(new Nl(this.S_))):this.HX()},i.HX=function(){if(this.IV)this.IV.eg();else{j.Ce&&!j._e&&this._c.preload===Qp.rI&&(this._c.preload=Qp.uk);var t=this.O_,n=this._c.play();t!==this.fR.playbackRate&&(this.O_=t),rt(n)?n.then(this.EX,this.SX):this.nX.DF()&&this.aX()}},i.ug=function(){this.HV?this.VV||(this.VV=!0,this.To(new Il(this.S_))):this.VX()},i.VX=function(){this.IV?this.IV.ug():(this._c.pause(),this.nX.Sa()),this.wX(new su)},i.UX=function(){var t=new js;return this.PV.push(t),t.oa},i.XX=function(){for(var t=0,n=this.PV;t<n.length;t++){n[t].aa(void 0)}nu(this.PV)},i.wX=function(t){for(var n=0,i=this.PV;n<i.length;n++){i[n].ca(t)}nu(this.PV)},i.aX=function(){this.HV||this.IV||this.XX()},i.sX=function(t){this.HV||this.IV||this.wX(t)},i.na=function(t,n){this.IV?this.IV.S_=t:(this.xV.wo(),this.xV=new uu,this.OV=this.WX(t,this.OV,this.xV.ko).catch(S))},i.xR=function(t){if(this._c.getStartDate){var n=this._c.getStartDate();if(n&&!w(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.na(i)}}},i.WX=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.NV=n,this.aN=!0,this.UV&&!this.MX()&&(this.UV=!1),this.To(new Ul(n)),t.next=7,i.catch(S);case 7:if(au(r),this.FV&&this.qX(),this.ql!==al.__){t.next=12;break}return t.next=12,this.Po(Sl.ul,r);case 12:if(0!==this._c.seekable.length){t.next=18;break}return t.next=15,T.race([ad(this._c,"timeupdate",r),mu(100,r)]);case 15:au(r),t.next=12;break;case 18:e=this.zX(n),u=this.Ug,s=!0,o=!1;case 22:if((u=this.Ug).pl>0&&!u.CR(e)&&(e=u.SI(e),s=!0),LI&&void 0!==(a=this.GX())&&e>a&&(e=a,s=!0),o){t.next=36;break}if(!(void 0!==(c=this.jX())&&e>c)){t.next=36;break}return o=!0,t.next=32,this.QX(c,r);case 32:return t.next=34,ad(this._c,"seeked",r);case 34:au(r),s=!0;case 36:if(!s){t.next=55;break}return s=!1,t.next=40,this.QX(e,r);case 40:au(r),h=this.S_,u=this.Ug,e=u.SI(e),f=1;case 45:if(!(l.abs(e-h)>=1/6)){t.next=55;break}return u=this.Ug,e=VI(e,u,f),t.next=50,this.QX(e,r);case 50:au(r),h=this.S_,f++,t.next=45;break;case 55:if(this._c.seeking||this.ql<al.w_){t.next=57;break}return t.abrupt("break",62);case 57:return t.next=59,du(function(t){var n;return T.race([ad(v._c,"seeked",t),v.Po([qo.Kc,qo.Vc,Sl.ul],t),null===(n=v.zE)||void 0===n?void 0:n.Po(sS.xD,t)].filter(Z))},r);case 59:au(r),t.next=22;break;case 62:this.YX(),t.next=70;break;case 65:if(t.prev=65,t.t0=t.catch(0),!ou(t.t0)){t.next=69;break}return t.abrupt("return");case 69:0;case 70:case"end":return t.stop()}},t,this,[[0,65]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.QX=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),r=this.Ug,n=r.SI(n),!this.FV){t.next=18;break}e=!0;case 5:if(!(e||this.ql<al.y_)){t.next=17;break}if((r=this.Ug).CR(n)||(n=r.SI(n),e=!0),!e){t.next=13;break}return e=!1,this.NV=n,this.To(new Ul(this.S_)),t.abrupt("continue",5);case 13:return t.next=15,this.Po([Sl.ul,qo.Vc],i);case 15:t.next=5;break;case 17:au(i);case 18:if(u=ad(this._c,"seeking",i),this._c.currentTime=n,this.NV=void 0,this.To(new Ul(this.S_)),!this._c.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.zX=function(t){var n=this.Eg;if(n&&!n.CR(t)){var i=n.FI(t,.05);if(i>-1){var r=n.gI(i);if(t<r)return r}}return t},i.GX=function(){if(this.zE&&this.zE.tM){var t=this.zE.nM,n=this.zE.iM,i=t&&n?t.NI(n):t||n;if(i&&0!==i.pl){var r=i.gI(i.pl-1),e=i.yI(i.pl-1);return l.max(r,e-.001)}}},i.jX=function(){if(this.zE&&this.zE.tM){var t=this.zE.iM;if(t&&0!==t.pl){var n=t.gI(t.pl-1),i=t.yI(t.pl-1)-.02;return i-=.001,l.max(n,i)}}},i.YX=function(){this.aN=!1,this.FV&&this.ZX(),this.To(new Fl(this.S_))},i.qX=function(){this.HV||(this.VV=this.C_,this.HV=!0,this.VX())},i.ZX=function(){this.HV&&(this.HV=!1,this.VV||this.FX())},i.KL=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=12;break}if((r=n[i]).js!==rp.oS||!lS.KL(r,this._c)){t.next=7;break}return t.abrupt("return",r);case 7:if(r.js!==rp.aS||!qS.KL(r)){t.next=9;break}return t.abrupt("return",r);case 9:i++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gg=function(){this.oI=!1,Gr(this._c)&&(this._c.style.display="none")},i._g=function(){this.oI=!0,Gr(this._c)&&(this._c.style.display="block")},i.Tb=function(t,n,i,r,e,u){var s=new lR(t,n,i,r,e,u);return this.Y_.gl(s),this.PX.gl(s),s},i.AR=function(){return!0},i.TR=function(t,n,i,r){var u=e.createElement("track");u.src=Rr(t),u.kind=n,u.label=null!=i?i:"",r&&(u.srclang=r),u.id=Wb(),this._c.appendChild(u);var s=this._c.textTracks.getTrackById(u.id),o=new dI(s,u);return this.NX.gl(o),o},i.Rb=function(t){this.Y_.wl(t),this.PX.wl(t)},i.RR=function(){this.Y_.ml(),this.NX.kl.forEach(function(t){return t.Rv()}),this.NX.ml()},i._R=function(){var t=this._c.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.zV),t.addEventListener("removetrack",this.QV),t.addEventListener("change",this.ZV)),this._c.addEventListener("emptied",this.JV)},i.NR=function(){var t=this._c.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.zV),t.removeEventListener("removetrack",this.QV),t.removeEventListener("change",this.ZV)),this._c.removeEventListener("emptied",this.JV)},i.jV=function(t,n){if(j.Ce){if(t.kind===Ww.uk)return void this.JX(t);if(t.kind===Ww.lb&&!XI(t))return void this.$X(t,n)}this.NX.kl.map(function(t){return t.Cl}).indexOf(t.id)<0&&this.YV.gl(new dI(t,n))},i.JX=function(t){t.mode=Xd.Fl;var n=new TI(t);this.YV.gl(n),this.PX.gl(n)},i.$X=function(t,n){var i=this;t.addEventListener("cuechange",function r(){XI(t)&&(t.removeEventListener("cuechange",r),i.YV.gl(new dI(t,n)))}),t.mode=Xd.Fl},i.GV=function(t){for(var n=this._c.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Ta=function(t){var n=this;return this.RV.xb(function(){var i=T.coroutine(de.mark(function i(r){var e;return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(au(r),!n.zE){i.next=3;break}throw new f("Already loaded a media source");case 3:if(t.js!==rp.oS){i.next=9;break}e=new lS(t,n,n.io),n.FV=!1,n.KX(new QS(n)),i.next=17;break;case 9:if(t.js!==rp.aS){i.next=16;break}e=new qS(t,n,n.io),n.FV=OI,n.KX(n.FV?new YS(n):new QS(n)),xI&&(n.So(qo.vh,n.$V),n.So(Sl.ul,n.rX)),i.next=17;break;case 16:throw new f("Unsupported configuration");case 17:return n.zE=e,i.next=20,e.$b();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.tX=function(){if(!this.XV){var t=this.O_;this.XV=!0,this.O_=t,this._c.playbackRate=0,this.IX&&this.IX.bF()}},i.KV=function(){if(this.XV){var t=this.O_;this.XV=!1,this.O_=t,this._c.currentTime=this._c.currentTime,this.IX&&this.IX.bF()}},i.KX=function(t){var n=this.ql;this.IX.ho(),this.IX=t,this.IX.So(Sl.ul,this.bo);var i=this.ql;n!==i&&this.To(new Wl(this.S_,i))},i.ml=function(){var t=T.coroutine(de.mark(function t(){var n=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aN=!1,this.BV=iA.tN(),this.xV.wo(),this.NV=void 0,this.DV=void 0,this.FV=!1,this.HV=!1,this.qS=void 0,this.UV=!1,this.CV=void 0,this.wX(new su),this.KX(new QS(this)),this.nX.ml(),this.KV(),xI&&(lT(this.qV),this.qV=0,this.Do(qo.vh,this.$V),this.Do(Sl.ul,this.rX)),t.next=17,this.RV.wo();case 17:return t.next=19,this.RV.xb(T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.zE){t.next=4;break}return t.next=3,n.zE.ho();case 3:n.zE=void 0;case 4:case"end":return t.stop()}},t)})));case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ho=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tW(),this.NR(),t.next=4,this.ml();case 4:return t.next=6,this.RV.Rv();case 6:return this.nX.ho(),this.IX.ho(),this.RR(),this.Y_.Rv(),this.CX.Rv(),this.YV.Rv(),this.NX.Rv(),t.next=15,this.OX.Rv();case 15:this.DX.Rv(),this.xX.Rv(),this.No();case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.BX=function(){this.fR.addEventListener("play",this.eX),this.fR.addEventListener("pause",this.uX),this.fR.addEventListener("timeupdate",this.lX),this.fR.addEventListener("progress",this.vX),this.fR.addEventListener("loadstart",this.dX),this.fR.addEventListener("ended",this._X),this.fR.addEventListener("ratechange",this.cX),this.fR.addEventListener("volumechange",this.yX),this.fR.addEventListener("durationchange",this.fX),this.fR.addEventListener("resize",this.mX),this.fR.addEventListener("loadedmetadata",this.mX),this.fR.addEventListener("error",this.gX),We()?(this._c.addEventListener("encrypted",this.kX),this._c.addEventListener("waitingforkey",this.pX)):void 0!==Cr.WebKitMediaKeys&&"function"==typeof Cr.WebKitMediaKeys.isTypeSupported?this._c.addEventListener("webkitneedkey",this.bX):qe()?this._c.addEventListener("webkitneedkey",this.TX):void 0!==Cr.MSMediaKeys&&"function"==typeof Cr.MSMediaKeys.isTypeSupported&&this._c.addEventListener("msneedkey",this.AX)},i.tW=function(){this.fR.removeEventListener("play",this.eX),this.fR.removeEventListener("pause",this.uX),this.fR.removeEventListener("timeupdate",this.lX),this.fR.removeEventListener("progress",this.vX),this.fR.removeEventListener("loadstart",this.dX),this.fR.removeEventListener("ended",this._X),this.fR.removeEventListener("ratechange",this.cX),this.fR.removeEventListener("volumechange",this.yX),this.fR.removeEventListener("durationchange",this.fX),this.fR.removeEventListener("resize",this.mX),this.fR.removeEventListener("loadedmetadata",this.mX),this.fR.removeEventListener("error",this.gX),this.fR.removeEventListener("encrypted",this.kX),this.fR.removeEventListener("waitingforkey",this.pX),this.fR.removeEventListener("webkitneedkey",this.bX),this.fR.removeEventListener("webkitneedkey",this.TX),this.fR.removeEventListener("msneedkey",this.AX)},i.gF=function(){this.IV||(this.BV=this.Lg,this.IV=new zS(this.S_,this.R_,this.I_,this.C_,this.x_,this.D_,this.O_,this.L_),this.tW(),this.IV.So(MI,this.bo))},i.wF=function(){if(this.IV){var t=this.IV;this.IV=void 0,t.R_===this.R_||w(t.R_)&&w(this.R_)||this.To(new xl(this.R_)),this.O_=t.O_,t.C_?this.ug():this.FX(),t.S_!==this.S_?this.na(t.S_):!t.x_&&this.x_?this.To(new Ul(this.S_)):t.x_&&!this.x_&&this.To(new Fl(this.S_)),!t.I_&&this.I_&&this.To(new Ll(this.S_)),t.Do(MI,this.bo),this.BX()}},i.nW=function(){this.iW||(ND(this._c,b.Rs),this.WV=!0)},i.rW=function(t){t.appendChild(this._c)},i.rF=function(){xI&&this.$V(),this.IX.bF()},L(n,[{key:"EF",get:function(){return this.XV}},{key:"Eg",get:function(){return this.zE?this.zE.Eg:iA.tN()}},{key:"Sg",get:function(){var t=this.LR;if(t&&!w(t.getTime())){var n=1e3*this.S_;return new Date(t.getTime()+n)}}},{key:"LR",get:function(){if(this.fR.getStartDate)return this.aN&&this.DV||(this.DV=this.fR.getStartDate()),this.DV}},{key:"S_",get:function(){return this.IV?this.IV.S_:void 0!==this.NV?this.NV:this._c.currentTime}},{key:"sL",get:function(){return this.RX}},{key:"R_",get:function(){return this.IV?this.IV.R_:this.zE?this.zE.R_:this._c.duration}},{key:"I_",get:function(){return this.x_?this.MX():this.IV?this.IV.I_:this._c.ended||this.UV}},{key:"Ho",get:function(){return this.qS}},{key:"fR",get:function(){return this._c}},{key:"C_",get:function(){return this.HV?this.VV:this.IV?this.IV.C_:this._c.paused}},{key:"Lg",get:function(){return this.BV.LI(iA.JI(this._c.played))}},{key:"dp",get:function(){return this._c.offsetHeight*b.Rs.Qu}},{key:"rs",get:function(){return this._c.offsetWidth*b.Rs.Qu}},{key:"SR",get:function(){return uA}},{key:"ql",get:function(){return this.IX.ql}},{key:"Ug",get:function(){return this.zE?this.zE.Ug:iA.tN()}},{key:"x_",get:function(){return this.IV?this.IV.x_:this.aN}},{key:"D_",get:function(){return this.IV?this.IV.D_:this._c.muted},set:function(t){this.IV?this.IV.D_=t:this._c.muted=t}},{key:"O_",get:function(){return this.IV?this.IV.O_:void 0!==this.LV?this.LV:this._c.playbackRate},set:function(t){this.IV?this.IV.O_=t:this.C_||this.XV?(this.LV=t,this.hX(t)):(this.LV=void 0,this._c.playbackRate=t)}},{key:"eW",get:function(){return this.oI}},{key:"L_",get:function(){return this.IV?this.IV.L_:this._c.volume},set:function(t){this.IV?this.IV.L_=t:this._c.volume=t}},{key:"ig",get:function(){return this.xX}},{key:"Ig",get:function(){return!!this._c.webkitCurrentPlaybackTargetIsWireless}},{key:"iW",get:function(){return this.WV}},{key:"uW",get:function(){return le({},hS)}}]),n}(Tu);function FI(t){try{var n=Fs(t),i=new zs;return Cs(Os(hs(n,i,gs(n,i,!0)),!0))}catch(t){return}}var HI=.01;function VI(t,n,i){if(void 0===i&&(i=0),!n.pl)return 0;var r=n.SI(t),e=HI*i;return r===n.gI(0)?r+=e:r===n.yI(n.pl-1)&&(r-=e),r}function XI(t){return!!t.cues&&t.cues.length>0}var WI=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.wg=function(){},L(n,[{key:"P_",get:function(){return 0}},{key:"B_",get:function(){return 0}}]),n}(UI),qI="theoplayer-texttracks",zI=function(){function t(t){void 0===t&&(t=5);var n=Cr.document.createElement("div");n.className=qI,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.sW=n,this._g()}var n=t.prototype;return n.gg=function(){this.sW.style.display="none"},n._g=function(){Xr(this.sW.style,"flex","-ms-flexbox")},n.rW=function(t){t.appendChild(this.sW)},n.Rv=function(){Hr(this.sW)},L(t,[{key:"Rg",get:function(){return this.sW}}]),t}();function GI(t,n){return t?le(le({},n),Dd(t)):n}function jI(t){return t.CB&&wr(t.CB,"%")?Number(t.CB.replace("%",""))/100:t.CB&&wr(t.CB,"em")?Number(t.CB.replace("em","")):1}var QI,YI,ZI=function(){function t(t,n,i,r,e){var u=this;this.oW=ge(),this.aW=!0,this.cW=function(t){return u.oW.has(t.Sw)},this.hW=function(t){return!u.cW(t)},this.fW=function(t){return u.Sb(t.ew)},this.vW=function(t){return u.removeCue(t.ew)},this.dW=function(){return u.lW()},this._W=function(t){return u.gW(t.ew)},this.wW=function(t){return u.yW(t.ew)},this.mW=function(t){u.kW(t.rs,t.dp)},this.gw=t,this.pW=this.AW=e,this._c=this.bW(i),this.RX=r,n.appendChild(this._c),this.TW(),this.gw.zl.kl.forEach(function(t){return u.Sb(t)}),this.sL.So("hO",this.mW),this.kW(this.sL.wO,this.sL.gO)}var n=t.prototype;return n.EW=function(t){this.AW=GI(t,this.pW),this.AW.NB&&(this.fR.style.fontFamily=this.AW.NB),this.AW.SW&&(this.fR.style.visibility=this.AW.SW),this.kW(this.sL.wO,this.sL.gO),this.RW()},n.IW=function(){return this.AW},n.TW=function(){this.gw.So(dd.zd,this.fW),this.gw.So(dd.jd,this.vW),this.gw.So(dd.nl,this.dW)},n.NW=function(){var t=this;this.gw.Do(dd.zd,this.fW),this.gw.Do(dd.jd,this.vW),this.gw.Do(dd.nl,this.dW),this.gw.zl.kl.forEach(function(n){return t.DW(n)})},n.OW=function(t){t.So(I_.tw,this._W),t.So(I_.iw,this.wW)},n.DW=function(t){t.Do(I_.tw,this._W),t.Do(I_.iw,this.wW)},n.Sb=function(t){t.Sw||(t.Sw=this.xW),this.OW(t),t.Ew&&this.gW(t)},n.removeCue=function(t){this.DW(t),this.yW(t)},n.lW=function(){this.gw.Wl===Xd.Hl?this.PW():this.BW()},n.PW=function(){var t=this,n=this.sL.wO,i=this.sL.gO,r=new uT(n,i);this.mW(r),this.aW=!1,this.LW.forEach(function(n){return t.gW(n)})},n.gW=function(t){this.aW||this.hW(t)&&(this.MW(t),this.oW.set(t.Sw,t))},n.MW=function(t){var n=this._c,i=this.UW(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.Sw,n.appendChild(e)}},n.BW=function(){var t=this;this.aW=!0,this.oW.forEach(function(n){return t.yW(n)})},n.yW=function(t){this.cW(t)&&(this.FW(t),this.oW.delete(t.Sw))},n.FW=function(t){for(var n=this._c,i=n.getElementsByClassName(t.Sw);i.length;)n.removeChild(i[0])},n.RW=function(){for(var t=0,n=this.HW;t<n.length;t++){var i=n[t];this.FW(i),this.MW(i)}},n.Rv=function(){Hr(this.fR),this.NW(),this.sL.Do("hO",this.mW)},L(t,[{key:"qd",get:function(){return this.gw}},{key:"fR",get:function(){return this._c}},{key:"sL",get:function(){return this.RX}},{key:"VW",get:function(){return this.AW}},{key:"HW",get:function(){return this.gw.Gl.kl.filter(this.cW)}},{key:"LW",get:function(){return this.gw.Gl.kl.filter(this.hW)}}]),t}();function JI(t){return $I[t||"none"]}!function(t){t.XW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.WW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.qW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.zW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(QI||(QI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(YI||(YI={}));var $I={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function KI(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var tN=we({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),nN=we({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),iN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=tN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){mr(t,"px")?t=_(t)/24+"em":mr(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(n.style.position="absolute",void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=nN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(mr(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},rN=0,eN={DB:YI.WHITE,NB:"Arial, Helvetica, Sans-Serif",CB:"100%",OB:YI.TRANSPARENT,xB:YI.TRANSPARENT,PB:"none"},uN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,eN)||this}M(n,t);var i=n.prototype;return i.bW=function(t){var n=e.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.kW=function(t,n){var i=n/15;this.fR.style.fontSize=i+"px"},i.UW=function(t){if(t.qd&&t.qd.js!==T_.TTML)return[];var n,i=[],r=t,u=r.rb,s=r.dm,o=r.ow;if(0===d.keys(s).length){Vr(n=e.createElement("div"),r.Sw),vN(n);for(var a=sN(o,u,r.eb,void 0,this.fR),c=0;c<a.length;c++){var h=a[c];n.appendChild(h)}i.push(n)}else for(var f=0,v=d.keys(s);f<v.length;f++){var l=v[f],_=e.createElement("div");_.id=l,Vr(_,r.Sw);var g=sN(o,u,r.eb,_,this.fR);if(g){vN(_),cN(_,s[l],u,this.fR);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.EW=function(t){},L(n,[{key:"xW",get:function(){return"theoplayer-ttmlcue-"+rN++}}]),n}(ZI);function sN(t,n,i,r,e){var u,s;if(tn(t)&&("SPAN"===(s=t).Ke.toUpperCase()||"P"===s.Ke.toUpperCase()||"BR"===s.Ke.toUpperCase()||"DIV"===s.Ke.toUpperCase()||"BODY"===s.Ke.toUpperCase())){var o=function t(n){var i;var r=n.du("region");if("p"===n.Ke.toLowerCase())return r;var e=[];for(var u=0,s=n.vu;u<s.length;u++){var o=s[u];e.push(t(o))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(e);return 0===e.length?r:1===e.length?null!==(i=e[0])&&void 0!==i?i:r:void 0}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.du("style");fN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.mu).forEach(function(n){var r=Iw(n.tu,["ebutts","tts","xml"]);iN[r]&&iN[r](n.ru,t,i)})}(t,n,r)})(u="BODY"===t.Ke.toUpperCase()?r:oN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.du("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null==n?void 0:n.vu)for(var e=0,u=null==n?void 0:n.vu;e<u.length;e++){var s=u[e];if(r=t(s,i))break}return r}(i,function(t){return t.mu.some(function(t){return"id"===t.Ke&&t.ru===r})});e&&hN(t,e,n,!0)}!function(t,n){var i=n.vu[0];if(!i||"metadata"!==i.Ke.toLowerCase())return;var r=i.vu[0];hN(t,r,n)}(t,n)}(u,t,i);for(var a=[],c=t.ou,h=0;h<c.length;h++){var f=sN(c[h],n,i,r,e);f&&(a=a.concat(f))}if("BODY"!==t.Ke.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return a}}else nn(t)&&(u=oN(t));if(u)return[u]}function oN(t){var n,i;if(nn(t))KI(n=e.createElement("text"),t.pu);else if(tn(t))switch(t.Ke.toUpperCase()){case"BR":n=e.createElement("br");break;case"SPAN":n=e.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",aN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=e.createElement("p")),aN(n,t);break;case"DIV":aN(n=e.createElement("div"),t)}return n}function aN(t,n){var i=n.lu(Ew,"id");i&&(t.id=i)}function cN(t,n,i,r){fN(t,n.style,i,r),d.keys(n).forEach(function(i){iN[i]&&iN[i](n[i],t)})}function hN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var u=e.createElement("img");u.src=function(t){var n=t&&t.ou.length>0?t.ou[0]:null;return n&&nn(n)?"data:image/png;base64,"+n.pu:""}(n),u.id=t.id,u.style.height="100%",u.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.du("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.du("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(u)}function fN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&d.keys(i[n]).forEach(function(e){var u=Iw(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?fN(t,i[n][e],i,r):iN[u]&&iN[u](i[n][e],t,r)})})}function vN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var dN,lN,_N=void 0;function gN(t,n){for(var i,r=dN.GW,e="",u=[],s=t.charAt(n.ra),o="",a={js:lN.jW,au:"",QW:[]};n.ra<t.length+1;){switch(s=n.ra<t.length?t.charAt(n.ra):"EOF",r){case dN.GW:switch(s){case"&":var c=t.substr(n.ra).match(/&#?[0-9a-zA-Z]+;/);c?(e+=(i=c[0],_N||(_N=Cr.document.createElement("textarea")),_N.innerHTML=i,_N.value),n.ta(c[0].length-1)):e+="&";break;case"<":if(e)return{js:lN.YW,ow:e};r=dN.ZW;break;case"EOF":return{js:lN.YW,ow:e};default:e+=s}break;case dN.ZW:switch(s){case"\t":case"\n":case"\f":case" ":r=dN.JW;break;case".":r=dN.$W;break;case"/":r=dN.KW;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=dN.tq;break;case">":return n.ta(1),a;case"EOF":return a;default:e=s,r=dN.nq}break;case dN.nq:switch(s){case"\t":case"\f":case" ":r=dN.JW;break;case"\n":o=s,r=dN.JW;break;case".":r=dN.$W;break;case">":return n.ta(1),{js:lN.jW,au:e,QW:[]};case"EOF":return{js:lN.jW,au:e,QW:[]};default:e+=s}break;case dN.$W:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=dN.JW;break;case"\n":u.push(o),o=s,r=dN.JW;break;case".":u.push(o),o="";break;case">":return n.ta(1),u.push(o),{js:lN.jW,au:e,QW:u};case"EOF":return u.push(o),{js:lN.jW,au:e,QW:u};default:o+=s}break;case dN.JW:switch(s){case"&":r=dN.iq;break;case">":n.ta(1);var h=o.trim();return h=h.replace(/\s/," "),{js:lN.jW,au:e,QW:u,rq:h};default:o+=s}break;case dN.iq:for(var f="",v=n.ra;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=dN.JW;break;case dN.KW:switch(s){case">":return n.ta(1),{js:lN.uq,au:e};case"EOF":return{js:lN.uq,au:e};default:e+=s}break;case dN.tq:switch(s){case">":return n.ta(1),{js:lN.sq,oq:e};case"EOF":return{js:lN.sq,oq:e};default:e+=s}}n.ta(1)}}!function(t){t.GW="Data",t.ZW="Tag",t.nq="StartTag",t.$W="StartTagClass",t.JW="StartTagAnnotation",t.iq="CharRefInAnnotation",t.KW="EndTag",t.tq="TimestampTag"}(dN||(dN={})),function(t){t.YW="string",t.jW="starttag",t.uq="endtag",t.sq="timestamp"}(lN||(lN={}));var wN,yN,mN={DB:YI.WHITE,NB:"sans-serif",CB:"100%",OB:"rgba(0,0,0,0.8)",xB:YI.TRANSPARENT,PB:"none"},kN="theoplayer-webvtt-region-",pN="theoplayer-webvtt-styling-",AN="theoplayer-webvtt-voice-",bN=5.23,TN=1.14,EN=0,SN=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,mN)||this).aq={},u.cq=CN(3),u}M(n,t);var i=n.prototype;return i.bW=function(t){var n=e.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,qr(n),Xr(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.VW.NB,n.style.whiteSpace="pre-line",n},i.kW=function(t,n){for(var i=n/100,r=t/100,e=l.min(i,r),u=jI(this.VW),s=0,o=d.keys(this.hq);s<o.length;s++){var a=o[s],c=this.hq[a].fq;this.vq(c,e,u,this.hq[a].dw)}this.vq(this.dq,e,u),this.lq()},i.lq=function(){var t=jI(this.VW);this.dq.style.padding=t>=1.5?"0":1/t+"em"},i.MW=function(t){var n=this.fR,i=this.sL.gO/100,r=this.dq;t.dw&&(this.hq[t.dw.Cl]||(this.hq[t.dw.Cl]={dw:t.dw,fq:ON(t.dw,i)}),r=this.hq[t.dw.Cl].fq),n.querySelector("."+r.className)||n.appendChild(r);var e=this.UW(t);r.children.length>=1&&t.dw&&"up"===t.dw.Cw&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.Sw,r.appendChild(s)}},i.UW=function(t){var n=[];return t&&n.push(this._q(t)),n},i._q=function(t){for(var n=new zs,i=t.ow,r=this.gq(t),u=r,s="",o=[],a={};n.ra<i.length;){var c=gN(i,n);if(c.js===lN.YW){var h=this.wq(c.ow);RN(h,a),u.appendChild(h)}else if(c.js===lN.jW){switch(a[c.au.toLowerCase()]||(a[c.au.toLowerCase()]=[]),a[c.au.toLowerCase()].push(c),c.au.toLowerCase()){case"c":break;case"i":var f=e.createElement("i");u.appendChild(f),u=f;break;case"b":var v=e.createElement("b");u.appendChild(v),u=v;break;case"u":var d=e.createElement("u");u.appendChild(d),u=d;break;case"ruby":var l=e.createElement("ruby");u.appendChild(l),u=l;break;case"rt":if("ruby"===s){var _=e.createElement("rt");u.appendChild(_)}break;case"v":break;case"lang":o.push(c.rq)}s=c.au||""}else if(c.js===lN.uq){a[c.au.toLowerCase()]&&a[c.au.toLowerCase()].pop(),(!c.au||"C"!==c.au.toUpperCase()&&"V"!==c.au.toUpperCase())&&("LANG"===c.au.toUpperCase()?o.pop():"RUBY"===c.au.toUpperCase()&&"RUBY"===u.tagName?u=u.parentNode.parentNode:u.tagName&&u.tagName.toUpperCase()===c.au.toUpperCase()&&(u=u.parentNode)),s=c.au||""}else if(c.js===lN.sq){var g=c.oq,w=new zs;try{Yg(g,w)}catch(t){lt("ERROR collecting timestamp",t)}}}return r},i.wq=function(t){var n=e.createElement("span");return KI(n,t),n.style.background=this.VW.OB,n},i.vq=function(t,n,i,r){if(r){var e=IN(r,n);t.style.height=e*i+"px",t.style.left=NN(r)+"%",t.style.top=DN(r,n)+"px"}t.style.fontSize=bN*n*i+"px"},i.gq=function(t){var n=e.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.aw,function(t,n){"rl"===n._w?t.style.writingMode="vertical-rl":"lr"===n._w?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=j_(n);xN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=G_(n),u=z_(n),s=j_(n);xN(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.lw?0:q_(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.lw?0:q_(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.VW.xB,n.style.color=this.VW.DB,n.style.textShadow=JI(this.VW.PB),n},i.FW=function(t){for(var n=t.Sw,i=this.fR,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,a=d.keys(this.hq);o<a.length;o++){var c=a[o];if(wr(r[e].className,kN+c)){delete this.hq[c];break}}i.removeChild(r[e])}}},L(n,[{key:"hq",get:function(){return this.aq||(this.aq={}),this.aq}},{key:"dq",get:function(){return this.cq||(this.cq=CN(3)),this.cq}},{key:"xW",get:function(){return"theoplayer-webvtt-cue-"+EN++}}]),n}(ZI);function RN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.QW)for(var u=0,s=e.QW;u<s.length;u++){var o=s[u];Vr(t,pN+o)}}if(n.v)for(var a=0,c=n.v;a<c.length;a++){var h=c[a];h.rq&&Vr(t,AN+h.rq)}}function IN(t,n){return t.Iw*(bN*n)*TN}function NN(t){return t.Ow-t.Nw*t.rs/100}function DN(t,n){var i=t.xw,r=t.Dw*IN(t,n)/100;return l.max(0,i-r)}function CN(t){var n=e.createElement("div");return n.className=kN+"default",qr(n),Xr(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=bN*t+"px",n.style.lineHeight=TN+"em",n}function ON(t,n){var i=CN(n);i.className=kN+t.Cl;var r=t.rs,e=IN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=NN(t)+"%",i.style.top=DN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function xN(t){return""===t._w}!function(t){t[t.yq=0]="yq",t[t.mq=1]="mq",t[t.kq=2]="kq",t[t.pq=3]="pq",t[t.Aq=4]="Aq",t[t.bq=5]="bq"}(wN||(wN={})),function(t){t[t.Tq=0]="Tq",t[t.Eq=1]="Eq",t[t.Sq=2]="Sq",t[t.Rq=3]="Rq"}(yN||(yN={}));var PN=15,BN=32,LN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),MN=function(){function t(){this.Iq=[],this.Nq=0;for(var t=0;t<BN;t++)this.Iq.push(null);this.Dq=!1}var n=t.prototype;return n.Cq=function(t){for(var n=0;n<BN;n++)t&&(this.Iq[n]=t.Iq[n])},n.Tw=function(t){for(var n=0;n<BN;n++)if(this.Iq[n]!==t.Iq[n])return!1;return!0},n.Oq=function(){for(var t=0;t<BN;t++)if(null!==this.Iq[t])return!1;return!0},n.xq=function(t){this.Nq!==t&&(this.Nq=t),this.Nq<0?this.Nq=0:this.Nq>BN&&(this.Nq=BN-1)},n.Pq=function(t){var n=this.Nq+t;this.xq(n)},n.Bq=function(){this.Pq(-1),this.Iq[this.Nq]=null},n.Lq=function(t){t>=144&&this.Bq();var n,i=LN[n=t]?String.fromCharCode(LN[n]):String.fromCharCode(n);this.Nq>=BN||(32===Number(i)?(this.Iq[this.Nq]=this.Dq?"</i>":"<i>",this.Dq=!this.Dq):this.Iq[this.Nq]=i,this.Pq(1))},n.Mq=function(t){for(var n=t;n<BN;n++)this.Iq[n]=null},n.Jo=function(){this.Mq(0),this.Nq=0},n.Uq=function(){this.Mq(this.Nq)},n.Fq=function(t,n){for(var i=this.Iq,r=null,e=0;e<BN;e++){var u=i[e];null===u?r=null:(r||(r={Hq:e,Vq:t,rs:0,dp:1,Iq:[[]]},n.push(r)),r.Iq[0].push(u),r.rs++)}},n.rm=function(t,n){return t.Xq(this.Iq,n)},t}();var UN=function(){function t(){this.Wq=null,this.qq=[];for(var t=0;t<PN;t++)this.qq.push(new MN);this.zq=PN-1,this.ml()}var n=t.prototype;return n.Cq=function(t){for(var n=0;n<PN;n++)this.qq[n].Cq(t.qq[n])},n.Tw=function(t){for(var n=!0,i=0;i<PN;i++)if(!this.qq[i].Tw(t.qq[i])){n=!1;break}return n},n.Oq=function(){for(var t=!0,n=0;n<PN;n++)if(!this.qq[n].Oq()){t=!1;break}return t},n.ml=function(){for(var t=0;t<PN;t++)this.qq[t].Jo();this.zq=PN-1},n.Lq=function(t){this.qq[this.zq].Lq(t)},n.Gq=function(){this.qq[this.zq].Bq()},n.Uq=function(){this.qq[this.zq].Uq()},n.jq=function(){if(null!==this.Wq){var t=this.zq+1-this.Wq,n=this.qq[t];n&&($e(this.qq,t),n.Jo(),this.qq.splice(this.zq,0,n))}},n.Pq=function(t){this.qq[this.zq].Pq(t)},n.Qq=function(t){this.Wq=t},n.Yq=function(t){var n=t.Zq;this.Wq&&n<this.Wq-1&&(n=this.Wq-1),this.zq=n;var i=this.qq[this.zq];null!==t.Jq&&i.xq(t.Jq)},n.$q=function(){for(var t=this.qq,n=[],i=0;i<t.length;i++){t[i].Fq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];HN(u,o)&&(u=FN(u,o),$e(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(VN)},n.rm=function(t){return t.Kq(this.qq)},t}();function FN(t,n){for(var i=l.min(t.Hq,n.Hq),r=l.min(t.Vq,n.Vq),e=l.max(t.Hq+t.rs,n.Hq+n.rs)-i,u=l.max(t.Vq+t.dp,n.Vq+n.dp)-r,s=new Array(u),o=0;o<u;o++){var a=new Array(e),c=t.Iq[o+r-t.Vq];if(c)for(var h=0;h<c.length;h++)c[h]&&(a[h-i+t.Hq]=c[h]);var f=n.Iq[o+r-n.Vq];if(f)for(var v=0;v<f.length;v++)f[v]&&(a[v-i+n.Hq]=f[v]);s[o]=a}return{Hq:i,Vq:r,rs:e,dp:u,Iq:s}}function HN(t,n){return t.Hq<=n.Hq+n.rs&&n.Hq<=t.Hq+t.rs&&t.Vq<=n.Vq+n.dp&&n.Vq<=t.Vq+t.dp}function VN(t){for(var n=new Array(t.dp),i=t.Iq,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var a=e[o];a?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(a)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var c=n.join("\n");return{Hq:t.Hq,Vq:t.Vq,rs:t.rs,dp:t.dp,ow:c}}var XN=function(){function t(t,n){this.Zq=t,this.Jq=n}return t.prototype.Tw=function(t){return this.Zq===t.Zq&&this.Jq===t.Jq},t}(),WN=function(){function t(t){this.tz=t,this.nz=this.iz(),this.rz=this.ez()}var n=t.prototype;return n.iz=function(){for(var t=new XN(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.uz;n<i.length;n++){var r=i[n],e=l.min(t.Zq,r.sz.Zq),u=l.min(t.Jq,r.sz.Jq);t=new XN(e,u)}return t},n.ez=function(){for(var t=new XN(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.uz;n<i.length;n++){var r=i[n],e=l.max(t.Zq,r.oz.Zq),u=l.max(t.Jq,r.oz.Jq);t=new XN(e,u)}return t},L(t,[{key:"sz",get:function(){return this.nz}},{key:"oz",get:function(){return this.rz}},{key:"uz",get:function(){return iu(this.tz.map(function(t){return t.uz}))}}]),t}(),qN=function(){function t(t,n){this.BB=t,this.nz=n,this.az=""}var n=t.prototype;return n.Lq=function(t){this.az+=t},n.cz=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Lq(i)}},L(t,[{key:"hz",get:function(){return this.az}},{key:"uz",get:function(){return[this]}},{key:"fz",get:function(){return this.BB}},{key:"sz",get:function(){return this.nz}},{key:"oz",get:function(){return new XN(this.sz.Zq,this.sz.Jq+this.hz.length-1)}}]),t}(),zN=function(){function t(){}var n=t.prototype;return n.vz=function(t){return t.rm(this)},n.Kq=function(t){var n=this;return iu(t.map(function(t,i){return t.rm(n,i)}))},n.Xq=function(t,n){return new GN(t,n).dz()},t}(),GN=function(){function t(t,n){this.Zq=t,this.lz=n,this._z=[],this.gz=null}var n=t.prototype;return n.dz=function(){if(this.wz)return[];for(var t=0;t<this.Zq.length;t++)this.yz(t);return this.mz(),this._z},n.kz=function(t){this.gz=new qN(tD,new XN(this.lz,t))},n.mz=function(){this.gz&&(this._z.push(this.gz),this.gz=null)},n.yz=function(t){var n=this.Zq[t];jN(n)?this.gz&&this.mz():(this.gz||this.kz(t),this.gz.Lq(n))},L(t,[{key:"wz",get:function(){return this.Zq.every(jN)}}]),t}();function jN(t){return null==t}var QN,YN=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return M(n,t),n}(V_),ZN=function(t){function n(n){var i;return(i=t.call(this,"pz")||this).cue=n,i}return M(n,t),n}(Su);!function(t){t[t.rI=0]="rI",t[t.Az=1]="Az",t[t.bz=2]="bz",t[t.Tz=3]="Tz",t[t.ze=4]="ze"}(QN||(QN={}));var JN,$N=function(t){function n(){var n;return(n=t.call(this)||this).xy=vg.uy,n.uw=vg.uy,n.Wl=QN.rI,n.Ez=new UN,n.Sz=new UN,n.Rz=new UN,n.Iz=n.Ez,n}M(n,t);var i=n.prototype;return i.Lq=function(t){this.Iz.Lq(t),this.Wl!==QN.Az&&this.Wl!==QN.bz||this.Nz()},i.XN=function(t){t!==this.Wl&&(this.Wl=t,this.Wl===QN.Tz?this.Iz=this.Sz:(this.Iz=this.Ez,this.Iz.ml()),this.Wl!==QN.bz&&(this.Ez.Qq(null),this.Sz.Qq(null)))},i.Yq=function(t){this.Iz.Yq(t)},i.Dz=function(){this.XN(QN.Tz)},i.Cz=function(){this.Wl!==QN.ze&&(this.Iz.Gq(),this.Iz===this.Ez&&this.Nz())},i.Oz=function(){},i.xz=function(){},i.Pz=function(){this.Iz.Uq(),this.Nz()},i.Bz=function(t){this.Iz=this.Ez,this.XN(QN.bz),this.Iz.Qq(t)},i.Lz=function(){},i.Mz=function(){this.XN(QN.Az)},i.Uz=function(){this.XN(QN.ze)},i.Fz=function(){this.XN(QN.ze)},i.Hz=function(){this.Ez.ml(),this.Nz()},i.Vz=function(){this.Iz.jq(),this.Nz()},i.Xz=function(){this.Sz.ml()},i.Wz=function(){if(this.Wl===QN.Tz){var t=this.Ez;this.Ez=this.Sz,this.Sz=t,this.Iz=this.Sz}this.Nz()},i.qz=function(t){this.Iz.Pq(t)},i.Nz=function(){if(null!==this.xy){if((!this.uw||this.uw.vy())&&!this.Ez.Oq())this.uw=this.xy;else if(!this.Ez.Tw(this.Rz)){var t=this.zz();if(this.xy.Fw(this.uw)){var n=new YN(this.uw.Uw(),this.xy.Uw(),t);this.To(new ZN(n))}this.uw=this.Ez.Oq()?null:this.xy}this.Rz.Cq(this.Ez)}},i.zz=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return l.abs(t.oz.Jq-n.sz.Jq)<=1||l.abs(n.oz.Jq-t.sz.Jq)<=1||l.abs(t.oz.Zq-n.sz.Zq)<=1||l.abs(n.oz.Zq-t.sz.Zq)<=1}(o=r,a=s)||function(t,n){return KN(t.sz.Zq,t.oz.Zq,n.sz.Zq,n.oz.Zq)&&KN(t.sz.Jq,t.oz.Jq,n.sz.Jq,n.oz.Jq)}(o,a))&&(r=new WN([].concat(r.uz,s.uz)),Je(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,a;return n}((new zN).vz(this.Rz))},i.ml=function(){this.xy=vg.uy,this.uw=vg.uy,this.Ez.ml(),this.Ez.Qq(null),this.Sz.ml(),this.Sz.Qq(null),this.Rz.ml(),this.Rz.Qq(null),this.Iz=this.Ez,this.Wl=QN.rI},n}(Tu);function KN(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(JN||(JN={}));var tD={DB:YI.WHITE,NB:QI.qW,CB:"100%",OB:YI.BLACK,xB:"transparent",PB:"none",Gz:JN.FONT_REGULAR,SW:"visible"},nD=[{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.GREEN,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.GREEN,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.BLUE,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.BLUE,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.CYAN,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.CYAN,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.RED,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.RED,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.YELLOW,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.YELLOW,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.MAGENTA,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.MAGENTA,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.WHITE,Gz:JN.FONT_ITALICS,Jq:0},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE_ITALICS,Jq:0},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:0},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:0},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:4},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:4},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:8},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:8},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:12},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:12},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:16},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:16},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:20},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:20},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:24},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:24},{jz:YI.WHITE,Gz:JN.FONT_REGULAR,Jq:28},{jz:YI.WHITE,Gz:JN.FONT_UNDERLINE,Jq:28}],iD=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],rD=function(t){function n(){var n;(n=t.call(this)||this).Qz=null,n.Yz=null,n.Zz=0;var i=new $N;return n.Jz=[i,new $N],i.So("pz",n.bo),n}M(n,t);var i=n.prototype;return i.ml=function(){for(var t=0,n=this.Jz;t<n.length;t++){n[t].ml()}},i.$z=function(t,n){if(n.js===yN.Tq&&n.Kz){n.tG&&(this.Zz=0),this.Jz[this.Zz].xy=t;var i=127&n.nG,r=127&n.iG;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.rG(),r>=48&&r<=63&&this.eG(i,r);break;case 18:case 19:r>=32&&r<=63&&this.eG(i,r);break;case 20:case 21:r>=32&&r<=47&&this.uG(i,r);break;case 23:r>=33&&r<=35&&this.uG(i,r),r>=46&&r<=47&&this.rG()}16===i&&r>=64&&r<=95?this.sG(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.sG(i,r),i>=32&&this.eG(i,r)}}},i.uG=function(t,n){var i=null;if(t===this.Qz&&n===this.Yz)return this.Qz=null,this.Yz=null,!0;i=20===t||23===t?0:1;var r=this.Jz[i];return 20===t||28===t?32===n?r.Dz():33===n?r.Cz():34===n?r.Oz():35===n?r.xz():36===n?r.Pz():37===n?r.Bz(2):38===n?r.Bz(3):39===n?r.Bz(4):40===n?r.Lz():41===n?r.Mz():42===n?r.Uz():43===n?r.Fz():44===n?r.Hz():45===n?r.Vz():46===n?r.Xz():47===n&&r.Wz():r.qz(n-32),this.Qz=t,this.Yz=n,this.Zz=i,!0},i.sG=function(t,i){t===this.Qz&&i===this.Yz&&(this.Qz=null,this.Yz=null);var r=t<=23?0:1,e=iD[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.oG(e,i);this.Jz[r].Yq(u),this.Qz=t,this.Yz=i,this.Zz=r}},n.oG=function(t,n){var i=n>95?n-96:n-64;return{jz:nD[i].jz,Gz:nD[i].Gz,Jq:nD[i].Jq,Zq:t}},i.eG=function(t,n){var i=t>=25?t-8:t,r=this.Jz[this.Zz],e=!1;switch(i){case 17:r.Lq(n+80),e=!0;break;case 18:r.Lq(n+112),e=!0;break;case 19:r.Lq(n+144),e=!0;break;default:t>=32&&(r.Lq(t),n>=32&&r.Lq(n),e=!0)}e&&(this.Qz=null,this.Yz=null)},i.rG=function(){this.Jz[this.Zz].Iz.Pq(1)},i.Rv=function(){this.No()},L(n,[{key:"Mp",get:function(){return this.Jz.length}}]),n}(Tu),eD=function(){function t(t,n,i){this.aG=t,this.cG=n,this.AW=i}var n=t.prototype;return n.hG=function(){return this.fG=this.vG(),this.dG(),this.lG(),this.fG},n.vG=function(){var t=e.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this._G/BN*this.cG.gG*100+"%",t.style.height=1.2*this.wG+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.cG.yG?"calc(1em - 1ch)":"",t.style.fontFamily=this.AW.NB,t.style.backgroundColor=this.AW.xB,t},n.dG=function(){var t=this.mG.Zq/PN*100,n=this.mG.Jq/BN*100,i=(BN-this.kG.Jq-1)/BN*100,r=(PN-this.kG.Zq-1)/PN*100;this.cG.pG||(n=i=1,this.fG.style.width="98%"),r<t?this.fG.style.bottom=r*this.cG.gG+"%":this.fG.style.top=t*this.cG.gG+"%",i<n?this.fG.style.right=i+"%":this.fG.style.left=n+"%"},n.lG=function(){for(var t=this.aG.uz.sort(uD),n=0;n<t.length;n++)this.AG(t[n-1],t[n]),this.bG(t[n]);this.AG(t[t.length-1],null)},n.bG=function(n){var i=GI(this.AW,n.fz),r=t.TG(i);KI(r,n.hz),this.fG.appendChild(r)},t.TG=function(t){var n=e.createElement("span");return n.style.display="inline-block",t.Gz!==JN.FONT_ITALICS&&t.Gz!==JN.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.Gz!==JN.FONT_UNDERLINE&&t.Gz!==JN.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.DB,n.style.backgroundColor=t.OB,n.style.textShadow=JI(t.PB),n.style.height="1.2em",n},n.AG=function(t,n){var i=t?t.oz.Zq:this.aG.sz.Zq,r=n?n.sz.Zq:this.aG.oz.Zq,e=t?t.oz.Jq:this.aG.sz.Jq,u=n?n.sz.Jq:this.aG.oz.Jq;i<r&&(!n||t&&t.sz.Zq!==n.sz.Zq?this.EG():this.SG(this.aG.oz.Jq-e),e=this.aG.sz.Jq),e<u&&(n?this.SG(u-e):this.EG())},n.EG=function(){var t=e.createElement("br");this.fG.appendChild(t)},n.SG=function(t){if(!(t<=0)){var n=e.createElement("span");n.style.display="inline-block",KI(n,pr(" ",t)),this.fG.appendChild(n)}},L(t,[{key:"mG",get:function(){return this.aG.sz}},{key:"kG",get:function(){return this.aG.oz}},{key:"_G",get:function(){return this.aG.oz.Jq-this.aG.sz.Jq+1}},{key:"wG",get:function(){return this.aG.oz.Zq-this.aG.sz.Zq+1}}]),t}();function uD(t,n){return function(t,n){if(t.Zq!==n.Zq)return t.Zq-n.Zq;return t.Jq-n.Jq}(t.sz,n.sz)}var sD=0;var oD=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,tD)||this}M(n,t);var i=n.prototype;return i.bW=function(t){var n=e.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.VW.NB&&(n.style.fontFamily=this.VW.NB),n},i.kW=function(t,n){this.RG()},i.RG=function(){var t,n=jI(this.VW);this.IG={gG:(t=100*n)/100,yG:t<=100,pG:t<=150};var i=this.NG/BN;this.DG=i*n,this.fR.style.fontSize=this.DG+"px"},i.UW=function(t){var n=this;return this.IG&&this.IG.pG?this.CG(80):this.CG(100),this.RG(),t.ow.map(function(t){return new eD(t,n.IG,n.VW).hG()})},i.CG=function(t){var n=(100-t)/2;this.fR.style.left=n+"%",this.fR.style.width=t+"%"},L(n,[{key:"NG",get:function(){var t=this.fR.offsetWidth;return this.IG&&this.IG.pG||(t*=.8),t}},{key:"xW",get:function(){return"theoplayer-cea608-texttrack-"+sD++}}]),n}(ZI),aD=function(){function t(t,n,i,r,e){var u=this;this.OG=[],this.xG=function(t){var n=t.qd;n.So(dd.ul,u.PG),n.So(dd.ol,u.PG),n instanceof dI&&(n.PH=u.PH),u.BG(n)},this.PG=function(t){var n=t.qd;u.BG(n)},this.LG=function(t){var n=t.qd;n.Do(dd.ul,u.PG),n.Do(dd.ol,u.PG),u.MG(n)},this.UG=function(){for(var t=u.PH,n=0,i=u.Y_.kl;n<i.length;n++){var r=i[n];r instanceof dI&&(r.PH=t)}},this.FG=function(){for(var t=0,n=u.OG;t<n.length;t++){n[t].EW(u.vN)}},this.HG=function(){for(var t=0,n=u.OG;t<n.length;t++){var i=n[t];i.EW(le(le({},i.IW()),{SW:"hidden"}))}},this.VG=function(){for(var t=0,n=u.OG;t<n.length;t++){var i=n[t];i.EW(le(le({},i.IW()),{SW:"visible"}))}},this.XG=t,this.RX=n,this.Y_=i,this.WG=e,this.vN=r,this.Y_.So(hd.Md,this.xG),this.Y_.So(hd.Fd,this.LG),this.Y_.So("il",this.PG),this.WG.So(tA.nl,this.UG),this.vN.So("il",this.FG),this.UG()}var n=t.prototype;return n.qG=function(t){for(var n=0,i=this.OG;n<i.length;n++){var r=i[n];if(r.qd===t)return r}},n.zG=function(t){switch(t.js){case T_.TTML:case T_.SRT:case T_.WEBVTT:case T_.CEA608:return!0}return!1},n.GG=function(t){switch(t.js){case T_.TTML:return new uN(t,this.XG,t.Pl,this.RX);case T_.SRT:case T_.WEBVTT:return new SN(t,this.XG,t.Pl,this.RX);case T_.CEA608:return new oD(t,this.XG,t.Pl,this.RX)}},n.jG=function(t){var n=this.qG(t);n||((n=this.GG(t)).EW(this.vN),this.OG.push(n),t.Wl===Xd.Hl&&n.PW())},n.MG=function(t){for(var n=this.OG,i=n.length-1;i>=0;i-=1){var r=n[i];r.qd===t&&(r.Rv(),$e(n,i))}},n.BG=function(t){var n;(n=t.xl)!==Ww.vb&&n!==Ww.lb||!this.zG(t)||(t.ql===b_.ERROR?this.MG(t):this.jG(t))},n.ml=function(){for(var t=0,n=this.OG;t<n.length;t++){var i=n[t];i.qd.Do(dd.ul,this.PG),i.qd.Do(dd.ol,this.PG),i.Rv()}nu(this.OG)},n.Rv=function(){this.ml();for(var t=0,n=this.OG;t<n.length;t++){n[t].Rv()}this.Y_.Do(hd.Md,this.xG),this.Y_.Do(hd.Fd,this.LG),this.Y_.Do("il",this.PG),this.WG.Do(tA.nl,this.UG),this.vN.Do("il",this.FG)},L(t,[{key:"PH",get:function(){return this.WG.iN}}]),t}();function cD(t){var n=new IT,i=function(t){var n=[];return ST.FO(t)&&n.push(new ST(t)),RT.FO(t)&&n.push(new RT(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.qO(e)}n.WO(i[0])}return n}var hD,fD=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).QG=cD(n),u.vN=e,u.YG=new zI,u.ZG=new aD(u.YG.Rg,u.sL,u.ig,u.vN,u.SR),u}M(n,t);var i=n.prototype;return i.wg=function(){return this._c},i.ho=function(){var n=T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.QG.Rv(),this.YG.Rv(),this.ZG.Rv(),n.next=5,t.prototype.ho.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.gg=function(){t.prototype.gg.call(this),this.YG.gg()},i._g=function(){t.prototype._g.call(this),this.YG._g()},i.rW=function(n){t.prototype.rW.call(this,n),this.YG.rW(n)},L(n,[{key:"fR",get:function(){return this._c}},{key:"P_",get:function(){return this._c.videoHeight}},{key:"B_",get:function(){return this._c.videoWidth}},{key:"SR",get:function(){return this.QG}}]),n}(UI),vD=function(t){function n(){return t.call(this,"nativeseeking")||this}return M(n,t),n}(Su),dD=function(t){function n(){return t.call(this,"nativeseeked")||this}return M(n,t),n}(Su);!function(t){t.JG="HELLO",t.$G="HI_THERE",t.KG="INITIALIZE",t.tj="APPEND_INIT",t.nj="APPEND_DATA",t.ij="ACK",t.rj="REMOVE",t.ej="DESTROY_SESSION"}(hD||(hD={}));var lD=function(){function t(){this.GE=new gy}var n=t.prototype;return n.uj=function(t){var n=this;return this.GE.xb(function(){var t=T.coroutine(de.mark(function t(i){var r,e,u,o,a,c;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),r=new MessageChannel,e=r.port1,u=r.port2,s.serviceWorker.controller){t.next=7;break}return t.next=7,ad(s.serviceWorker,"install",i);case 7:if("activated"===s.serviceWorker.controller.state){t.next=10;break}return t.next=10,ad(s.serviceWorker.controller,"activate",i);case 10:return o={kind:hD.JG,port:u},s.serviceWorker.controller.postMessage(o,[u]),e.start(),n.Mu=e,t.prev=15,t.next=18,ad(e,"message",i);case 18:if(a=t.sent,(c=a.data).kind===hD.$G){t.next=23;break}throw new f("Could not set up message channel");case 23:n.gc=c.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),ou(t.t0)&&n.sj(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n.oj=function(t,n){var i=this;return this.Mu,this.GE.xb(T.coroutine(de.mark(function r(){var e;return de.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.Mu){r.next=2;break}throw new f("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.Mu.postMessage(t,n),r.next=7,ad(i.Mu,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.aj=function(){var t=this;return this.GE.xb(function(){return t.sj()})},n.sj=function(){if(s.serviceWorker.controller&&"activated"===s.serviceWorker.controller.state&&this.Mu){var t={kind:hD.ej};this.Mu.postMessage(t),this.Mu.close(),this.Mu=void 0}},t}(),_D=function(){function t(){this.cj=eg.Wy}var n=t.prototype;return n.hj=function(t,n){var i=t.Yw(n);this.cj=i.Fw(this.fj)?this.cj:i},n.vj=function(t){this.cj=t},L(t,[{key:"fj",get:function(){return this.cj}}]),t}(),gD=function(){function t(){this.Db=T.resolve()}return t.prototype.dj=function(t){var n=this.Db.then(t);return this.Db=n.then(S,S),n},t}(),wD=function(t){function n(n,i){var r;return(r=t.call(this)||this).zC=n,r.lj=i,r._j=void 0,r.gj=void 0,r.wj=!0,r.GE=new gD,r.yj=new uu,r.mj=!1,r.kj=!1,r}M(n,t);var i=n.prototype;return i.Qg=function(t,n){if(this.EM!==t){this.wj=t;var i=new Su(t?"Dl":"TU");this.To(i)}return T.resolve()},i.yM=function(t,n){},i.mM=function(t,n){},i.tM=function(){return this.kj},i.wo=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.yj.wo(),this.yj=new uu;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._M=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.kM=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.lM=function(){var t=T.coroutine(de.mark(function t(i,r,e){var u,s,o,a=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.js===wS.uM){t.next=2;break}throw new f("Streaming or opaque segments are not supported yet.");case 2:return u=i.pu,s=this.pj(e),o=function(){var t=T.coroutine(de.mark(function t(){var i,r,e,o,c,h,v;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(s.ko),i=pw.Mk(new DataView(u.buffer)),(r=lw(i,Sg.qm)).length){t.next=5;break}throw new f("Moof boxes not found");case 5:return e=a.Aj,o=n.bj(r,e),c=a.Tj(r,e),h=u.buffer,v={kind:hD.nj,mimeType:a.zC,segment:u,startPts:vg.Yy(o).rm(),totalDuration:vg.Yy(c).rm()},t.next=12,a.lj.oj(v,[h]);case 12:void 0===a._j&&(a._j=o),void 0===a.gj&&(a.gj=o),a.gj=a.gj.Hg(c),a.To(new Su(vS.rM));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.GE.dj(T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.mj=!0,t.next=4,o();case 4:return t.prev=4,s.ho(),a.mj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.gM=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.js===wS.uM){t.next=2;break}throw new f("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.pu,e=this.pj(i),u=function(){var t=T.coroutine(de.mark(function t(){var n,i,u,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(e.ko),n=pw.Mk(new DataView(r.buffer)),i=dw(n,Sg.ym)){t.next=5;break}throw new f("Moov Box not found");case 5:if(0!==i.Zk.length){t.next=7;break}throw new f("Tracks not found");case 7:return s.Aj=i.Zk[0].sp.Dk.Py,u=r.buffer,o={kind:hD.tj,mimeType:s.zC,segment:r},t.next=12,s.lj.oj(o,[u]);case 12:s.To(new Su(vS.rM));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.GE.dj(T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.mj=!0,t.next=4,u();case 4:return t.prev=4,e.ho(),s.mj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.wM=function(){this.kj=!0},i.Ea=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.pj(r),u=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(e.ko),n={kind:hD.rj,mimeType:s.zC,endTime:vg.zy(i).rm()},t.next=4,s.lj.oj(n);case 4:s._j=void 0,s.gj=void 0,s.To(new Su(vS.rM));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.GE.dj(T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.mj=!0,t.next=4,u();case 4:return t.prev=4,e.ho(),s.mj=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.pU=function(t){return!1},i.AU=function(t){return T.resolve()},n.bj=function(t,n){if(0===t.length)throw new f("Initial Moof box not found");var i=t[0];if(0===i.Zk.length)throw new f("No tracks");if(!i.Zk[0].EA)throw new f("No decode time");return new eg(i.Zk[0].EA.EA.toNumber(),n)},i.pj=function(t){var n=new uu;return n.yo(this.yj.ko),t&&n.yo(t),n},i.Tj=function(t,n){var i=0;return t.forEach(function(t){t.Zk.forEach(function(t){t.TA.forEach(function(t){t.CA.forEach(function(t){var n;i+=null!==(n=t.R_)&&void 0!==n?n:0})})})}),new eg(i,n)},L(n,[{key:"Eg",get:function(){return void 0===this._j||void 0===this.gj?iA.tN():new iA([this._j.Vy,this.gj.Vy])}},{key:"Jp",get:function(){return{Mf:this.zC}}},{key:"LC",get:function(){return this.zC}},{key:"SM",get:function(){return iA.tN()}},{key:"qx",get:function(){return 30},set:function(t){}},{key:"Qx",get:function(){return 30},set:function(t){}},{key:"EM",get:function(){return this.wj}},{key:"GO",get:function(){return this.mj}},{key:"Ej",get:function(){return this._j}},{key:"sw",get:function(){return this.gj}}]),n}(Tu),yD=function(){function t(t,n){this.uc=t,this.JU=Ye(n,function(t){return Boolean(t.LC.match(/video/))}),this.ZU=Ye(n,function(t){return Boolean(t.LC.match(/audio/))}),this.Sj()}t.Rj=function(n,i){for(var r=[],e=0;e<n.cF.length;e++){var u=n.cF[e].Mf;r.push(new wD(u,i))}return new t(n,r)};var n=t.prototype;return n.Sj=function(){},n.rS=function(t,n){return T.resolve(void 0)},n.ho=function(){var t=T.coroutine(de.mark(function t(){var n,i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.ZU,this.JU].filter(Z);n<i.length;n++)(r=i[n]).No(),r._M().catch(S);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.sF=function(t){},n.aF=function(t,n,i,r){},n.wM=function(){var t,n;null===(t=this.ZU)||void 0===t||t.wM(),null===(n=this.JU)||void 0===n||n.wM()},n.pU=function(t){return!1},n.AU=function(t){return T.resolve()},L(t,[{key:"Ij",get:function(){return[this.ZU,this.JU].filter(Z).filter(function(t){return t.EM})}},{key:"yF",get:function(){return this.ZU}},{key:"Jp",get:function(){return this.uc}},{key:"R_",get:function(){return 0}},{key:"tM",get:function(){var t,n,i,r,e=null===(n=null===(t=this.ZU)||void 0===t?void 0:t.tM())||void 0===n||n,u=null===(r=null===(i=this.JU)||void 0===i?void 0:i.tM())||void 0===r||r;return e&&u}},{key:"Ug",get:function(){return new iA([0,1/0])}},{key:"mF",get:function(){return this.JU}},{key:"ng",get:function(){throw new f("Not implemented")}}]),t}(),mD=eg.uy,kD=new eg(-1/0),pD=eg.Wy,AD=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.Hw=function(t,n){return t.zw(n)?Y_.Lw:t.Tw(n)?Y_.Pw:Y_.Bw},i.Hg=function(t,n){return t.Hg(n)},i.Yw=function(t,n){return t.Yw(n)},i.qw=function(t,n){return t.qw(n)},i.RI=function(){return mD},i.II=function(){return pD},i.OI=function(){return kD},n.JI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new eg(t.start(r)),new eg(t.end(r)));return new n(i)},n.Nj=function(t){for(var i=[],r=[],e=0;e<t.pl;e++)i.push(new eg(t.gI(e))),i.push(new eg(t.yI(e))),r.push(t.wI(e)),r.push(t.mI(e));return new n(i,r)},n.KI=function(t){return new n([t,t],[!0,!0])},i.EI=function(t,i){return new n(t,i)},i.bI=function(t){return t.Vy},n.tN=function(){return bD},n}(nA),bD=new AD([]),TD=function(t){function n(n){var i;return(i=t.call(this)||this).Dj=!0,i.lj=new lD,i.Cj=new _D,i.Oj=!0,i.xj=new T(function(t,n){i.Pj=t,i.Bj=n}),i.aN=!1,i.OV=T.resolve(),i.xV=new uu,i.Lj=!0,i.BV=iA.tN(),i.WV=!1,i.Mj=function(){i.C_||i.Uj.pl<=0||i.Eg.pl<=0||i.Cj.hj(new eg(i.Eg.yI(i.Eg.pl-1)),i.Uj.yI(i.Uj.pl-1))},i.Fj=function(){i.To(new Ll(i.S_))},i.Hj=function(){i.To(new Bl(i.S_,i.Sg))},i.Vj=function(){i.To(new Pl(i.S_,i.O_))},i.Xj=function(){i.To(new Hl(i.S_,i.L_))},i.Wj=function(){i.To(new xl(i.R_))},i.qj=function(){i.To(new Cp(i.S_))},i.zj=function(){i.To(new vD)},i.Gj=function(){i.To(new dD)},i.jj=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.Lj&&i.To(new Nl(i.S_)),i.Oj=!1,i.Lj=!0;case 3:case"end":return t.stop()}},t)})),i.Qj=function(){i.Oj=!0,i.To(new Il(i.S_))},i.Yj=n,i.IX=new QS(rn(i)),i.Yj.setAttribute("id","player_video"),i.Yj.playsInline=!0,i.Yj.style.width="100%",i.Yj.style.height="100%",i.Zj(),i.Jj(),i.QG=cD(i.Yj),i}M(n,t);var i=n.prototype;return i.Zj=function(){this.Yj.addEventListener("timeupdate",this.Mj),this.Yj.addEventListener("ended",this.Fj),this.Yj.addEventListener("timeupdate",this.Hj),this.Yj.addEventListener("ratechange",this.Vj),this.Yj.addEventListener("volumechange",this.Xj),this.Yj.addEventListener("durationchange",this.Wj),this.Yj.addEventListener("playing",this.qj),this.Yj.addEventListener("seeking",this.zj),this.Yj.addEventListener("seeked",this.Gj),this.Yj.addEventListener("play",this.jj),this.Yj.addEventListener("pause",this.Qj)},i.$j=function(){this.Yj.removeEventListener("timeupdate",this.Mj),this.Yj.removeEventListener("ended",this.Fj),this.Yj.removeEventListener("timeupdate",this.Hj),this.Yj.removeEventListener("ratechange",this.Vj),this.Yj.removeEventListener("volumechange",this.Xj),this.Yj.removeEventListener("durationchange",this.Wj),this.Yj.removeEventListener("playing",this.qj),this.Yj.removeEventListener("seeking",this.zj),this.Yj.removeEventListener("seeked",this.Gj),this.Yj.removeEventListener("play",this.jj),this.Yj.removeEventListener("pause",this.Qj)},i.Jj=function(){this.IX.So(Sl.ul,this.bo)},i.Kj=function(){this.IX.Do(Sl.ul,this.bo)},i.na=function(t,n){this.xV.wo(),this.xV=new uu,this.OV=this.WX(t,this.OV,this.xV.ko).catch(S)},i.WX=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.BV=this.Lg,u=null===(e=this.zE)||void 0===e?void 0:e.Ij){t.next=4;break}return t.abrupt("return");case 4:return s=l.max.apply(l,u.map(function(t){return t.Ej?t.Ej.Vy:1/0})),this.aN=!0,this.To(new Ul(n)),t.next=9,i.catch(S);case 9:if(au(r),t.prev=10,this.Dj||this.tQ(),this.Yj.load(),this.Oj){t.next=17;break}return this.Lj=!1,t.next=17,fu(this.Yj.play(),r);case 17:if(!(this.ql<al.w_)){t.next=22;break}return t.next=20,this.IX.Po(Sl.ul,r);case 20:t.next=17;break;case 22:this.Pj(),this.Dj=!1,this.aN=!1,this.To(new Fl(this.S_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.Bj(),t.t0;case 32:return t.prev=32,this.nQ(),this.Cj.vj(new eg(s)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.ug=function(){this.Oj=!0,this.Yj.pause()},i.eg=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Oj){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.Yj.src){t.next=9;break}return this.nW(),t.next=7,this.xj;case 7:t.next=11;break;case 9:return t.next=11,this.Yj.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.Oj=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.ho=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.lj&&this.lj.aj().catch(S),this.xV.wo(),this.$j(),this.Kj(),this.IX.ho(),this.No();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.lj&&this.lj.aj().catch(S),this.xV.wo(),this.Yj.removeAttribute("src"),this.Yj.load(),this.IX.ml(),this.BV=iA.tN();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.nW=function(){this.iW||(ND(this.Yj,b.Rs),this.WV=!0)},i.tQ=function(){var t,n=this.Yj.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,u=this.Yj.videoWidth/this.Yj.videoHeight,s=t.height;e/s>u?(i=s*u,r=s):(r=e/u,i=e),this.Yj.style.width=i+"px",this.Yj.style.height=r+"px",this.Yj.style.marginLeft=(e-i)/2+"px",this.Yj.style.marginTop=(s-r)/2+"px",this.Yj.style.backgroundColor="black"}},i.nQ=function(){this.Yj.style.width="100%",this.Yj.style.height="100%",this.Yj.style.marginLeft="",this.Yj.style.marginTop="",this.Yj.style.backgroundColor=""},i.TR=function(t,n,i,r){},i.Tb=function(t,n,i,r,e){},i.KL=function(t){return T.resolve(void 0)},i.PR=function(){var t=this.iQ();return{Dg:0,Ng:t.droppedVideoFrames,Cg:t.totalVideoFrames}},i.iQ=function(){var t={droppedVideoFrames:0,totalVideoFrames:0};return void 0!==this.Yj.webkitDroppedFrameCount?t.droppedVideoFrames=this.Yj.webkitDroppedFrameCount:t.droppedVideoFrames="function"==typeof this.Yj.getVideoPlaybackQuality?this.Yj.getVideoPlaybackQuality().droppedVideoFrames:0,void 0!==this.Yj.webkitTotalFrameCount?t.totalVideoFrames=this.Yj.webkitTotalFrameCount:t.totalVideoFrames="function"==typeof this.Yj.getVideoPlaybackQuality?this.Yj.getVideoPlaybackQuality().totalVideoFrames:0,t},i._g=function(){this.Yj.style.display="block"},i.gg=function(){this.Yj.style.display="none"},i.gF=function(){},i.Ta=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.js!==rp.oS){t.next=2;break}throw new f("Not yet implemented");case 2:return t.next=4,this.lj.uj();case 4:return i={kind:hD.KG,mediaBufferConfigs:n.cF.map(function(t){return t.Mf})},t.next=7,this.lj.oj(i);case 7:return this.zE=yD.Rj(n,this.lj),this.Yj.preload="none",this.Yj.src="https://theo.proxy/"+this.lj.gc+"/master.m3u8",t.abrupt("return",this.zE);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wF=function(){},i.Rb=function(t){},i.RR=function(){},i.xR=function(t){},i.AR=function(){return!1},i.rW=function(t){t.appendChild(this.Yj)},i.wg=function(){return this.Yj},i.LX=function(){},L(n,[{key:"fR",get:function(){return this.Yj}},{key:"EF",get:function(){return!1}},{key:"S_",get:function(){return this.Yj.currentTime+this.Cj.fj.Vy}},{key:"C_",get:function(){return this.Yj.paused}},{key:"L_",get:function(){return this.Yj.volume},set:function(t){this.Yj.volume=t}},{key:"O_",get:function(){return this.Yj.playbackRate},set:function(t){this.Yj.playbackRate=t}},{key:"rQ",get:function(){return this.Yj.defaultPlaybackRate}},{key:"Eg",get:function(){var t,n,i=null!==(n=null===(t=this.zE)||void 0===t?void 0:t.Ij)&&void 0!==n?n:[];return 0===i.length?iA.tN():i.reduce(function(t,n){return t.NI(n.Eg)},new iA([0,1/0]))}},{key:"Uj",get:function(){return AD.JI(this.Yj.buffered)}},{key:"Lg",get:function(){var t=iA.$I(this.eQ);return this.BV.LI(t.ta(this.Cj.fj.Vy))}},{key:"eQ",get:function(){return AD.JI(this.Yj.played)}},{key:"x_",get:function(){return this.aN}},{key:"R_",get:function(){return this.Yj.duration}},{key:"D_",get:function(){return this.Yj.muted},set:function(t){this.Yj.muted=t}},{key:"fz",get:function(){return this.Yj.style}},{key:"uW",get:function(){return le(le({},hS),{VL:!0,XL:300})}},{key:"ql",get:function(){return this.IX.ql}},{key:"P_",get:function(){return this.Yj.videoHeight}},{key:"B_",get:function(){return this.Yj.videoWidth}},{key:"I_",get:function(){return this.Yj.ended}},{key:"dp",get:function(){return 0}},{key:"rs",get:function(){return 0}},{key:"Ig",get:function(){return!1}},{key:"iW",get:function(){return this.WV}},{key:"Sg",get:function(){}},{key:"sL",get:function(){}},{key:"Ho",get:function(){}},{key:"SR",get:function(){return this.QG}},{key:"Ug",get:function(){return this.zE?this.zE.Ug:iA.tN()}},{key:"LR",get:function(){}},{key:"ig",get:function(){}},{key:"eW",get:function(){return"block"===this.Yj.style.display}}]),n}(Tu),ED=2,SD=[f_.wv,f_.yv];function RD(t){var n=e.createElement(t);return Gr(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),ID(n),n}function ID(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),jr(t),t.pause(),t.playbackRate=1,t.preload=Qp.iI,t.controls=!1,t.style.display="none",Gr(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function ND(t,n){if(n.Wu){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();rt(r)&&gu(r),t.pause()}}var DD;Ir=(DD={uQ:function(){function t(t,n,i,r,e){void 0===i&&(i=ED),void 0===r&&(r=SD),void 0===e&&(e=Uo()),this.sQ=i,this.oQ=[].concat(r),this.io=e,this.RX=t,this.vN=n,this.aQ=ge(),this.cQ()}var n=t.prototype;return n.lN=function(t){for(var n=0,i=this.wN;n<i.length;n++){i[n].rW(t)}},n.cR=function(t){var n=Ye(this.aQ.get(t),function(t){return t.hQ});if(n)return n.hQ=!1,n.fQ},n.vQ=function(t){if(!this.dQ)throw new f("Error creating iOS Safari MediaController");return this.dQ},n.DR=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.fR,r=i.tagName.toLowerCase(),t.next=4,n.ml();case 4:ID(i),(e=Ye(this.aQ.get(r)||[],function(t){return n===t.fQ}))&&(e.hQ=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.gN=function(){for(var t=0,n=this.wN;t<n.length;t++){n[t].nW()}},n.Rv=function(){for(var t=0,n=this.wN;t<n.length;t++){var i=n[t],r=i.fR;i.ho(),ID(r),Hr(r)}},n.cQ=function(){for(var t=0,n=this.oQ;t<n.length;t++){var i=n[t],r=[];this.aQ.set(i,r);for(var e=0;e<this.sQ;e++){var u=RD(i),s=i===f_.wv?new WI(u,this.io,this.RX):new fD(u,this.io,this.RX,this.vN);r.push({fQ:s,hQ:!0})}}if(j.Ce&&j._e){var o=RD(f_.yv);this.dQ=new TD(o)}},L(t,[{key:"wN",get:function(){for(var t=[],n=0,i=this.oQ;n<i.length;n++){var r=i[n],e=this.aQ.get(r).map(function(t){return t.fQ});t.push.apply(t,e)}return this.dQ&&t.push(this.dQ),t}}]),t}(),lQ:function(){function t(n){var i=this;this.dN=n,this._Q=new gy,this.gQ=T.coroutine(de.mark(function n(){var r,e,u;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.dN.cR(f_.yv),e=r.fR,n.next=4,t.wQ(e);case 4:return u=n.sent,n.next=7,i.dN.DR(r);case 7:return n.abrupt("return",u);case 8:case"end":return n.stop()}},n)}))}var n=t.prototype;return n.PL=function(){return this._Q.xb(this.gQ)},n.vg=function(){this.dN.gN()},t.wQ=function(){var n=T.coroutine(de.mark(function n(i){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=3,t.yQ();case 3:return n.next=5,t.mQ(i);case 5:if(!n.sent){n.next=7;break}return n.abrupt("return","all");case 7:return n.next=9,t.kQ(i);case 9:if(!n.sent){n.next=11;break}return n.abrupt("return","muted");case 11:return n.abrupt("return","none");case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.mQ=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,rt(i)){t.next=4;break}return t.abrupt("return",!j.ye);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.kQ=function(){var n=T.coroutine(de.mark(function n(i){var r;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.mQ(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.yQ=function(){return new T(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else o(t,0)})},n.Rv=function(){this._Q.Rv()},t}(),pQ:{YC:function(t){Cr.addEventListener("beforeunload",t)},sO:function(t){Cr.removeEventListener("beforeunload",t)}},AQ:r}).uQ,Nr=DD.lQ,Dr=DD.pQ,Cr=DD.AQ,Or=Cr&&Cr.location,xr=Cr&&Cr.navigator;var CD=[];function OD(){CD.shift()()}function xD(t){CD.push(t),o(OD,0)}var PD=function(){function t(t){this.bQ=t}var n=t.prototype;return n.TQ=function(t){return this.EQ=this.EQ||{},void 0===this.EQ[t]&&(this.EQ[t]=[]),this.EQ[t]},n.addEventListener=function(t,n){var i=this.TQ(t);-1===i.indexOf(n)&&i.push(n)},n.Io=function(t){(this.SQ||(this.SQ=[])).push(t)},n.removeEventListener=function(t,n){var i=this.TQ(t);n?Je(i,n):i.length=0},n.xo=function(t){var n=this.SQ;n&&Je(n,t)},n.No=function(){this.EQ=void 0},n.dispatchEvent=function(t,n){if(n)return xD(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.TQ(t.type).slice(),r=this.SQ&&this.SQ.slice(),e=0;e<i.length;e++){i[e].call(this.bQ||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.bQ||this,t)}},n.RQ=function(t){return Boolean(this.EQ&&this.EQ[t]&&this.EQ[t].length)},n.IQ=function(){return this.EQ?d.keys(this.EQ):[]},t}(),BD=function(){function t(){this.NQ=[]}var n=t.prototype;return n.Rj=function(t,n){var i=this.NQ[t];return i?new i(n):null},n.UL=function(t,n){this.NQ[t]=n},t}();BD.Ve=new BD;var LD,MD=function(t){function n(n,i){var r,e=FD[n];return(r=t.call(this,e?e.Mo:"")||this).code=n,r.info=i,r.helpLink=e&&e.DQ,r.helpLinkText=e&&e.CQ,r}return M(n,t),L(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(un);!function(t){t.OQ="LICENSE_INVALID",t.xQ="MANIFEST_NOT_FOUND",t.PQ="MANIFEST_CORS_ERROR",t.BQ="INVALID_HLS_MANIFEST",t.LQ="PLAYBACK_ISSUE",t.MQ="AUDIO_ISSUE",t.UQ="BROWSER_SUPPORT_ISSUE",t.FQ="INVALID_KEY",t.HQ="DECRYPTION_ERROR",t.VQ="AD_BLOCK_DETECTED",t.XQ="THEOPLAYER_NOT_INITIALIZED",t.Vl="ERROR",t.WQ="MANIFEST_SEQUENCE_RESET_ERROR",t.qQ="PLAYER_INCORRECTLY_CONFIGURED",t.zQ="UNSUPPORTED"}(LD||(LD={}));for(var UD=[{ha:LD.OQ,Mo:"The license for this player is invalid. Please contact your service provider for additional information."},{ha:LD.xQ,Mo:"Could not load the manifest file."},{ha:LD.PQ,Mo:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",DQ:"https://www.theoplayer.com/documentation/cors.html",GQ:!1},{ha:LD.BQ,Mo:"The source of the player is an invalid HLS manifest.",DQ:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{ha:LD.LQ,Mo:"There appears to be a playback issue."},{ha:LD.MQ,Mo:"There is an audio issue. Please contact your service provider with the code below for additional information."},{ha:LD.UQ,Mo:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{ha:LD.FQ,Mo:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{ha:LD.HQ,Mo:"There is a decryption error. Please contact your service provider with the code below for additional information."},{ha:LD.VQ,Mo:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{ha:LD.XQ,Mo:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{ha:LD.Vl,Mo:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{ha:LD.WQ,Mo:"The video stream has been reset. THEOplayer will attempt to reload the source."},{ha:LD.qQ,Mo:"The player is incorrectly configured.",DQ:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{ha:LD.zQ,Mo:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],FD={},HD=0;HD<UD.length;HD++){var VD=UD[HD];FD[VD.ha]=VD}function XD(t){return t.jQ}var WD=function(){function t(){this.Eh=[],this.QQ={},this.YQ=0}var n=t.prototype;return n.ZQ=function(t){var n=this.QQ[t];return void 0===n?-1:n-this.YQ},n.JQ=function(t){return this.Eh[t]},n.$Q=function(t){return this.JQ(this.ZQ(t))},n.KQ=function(t){return!!this.JQ(t)},n.tY=function(t){return!!this.$Q(t)},n.nY=function(){return this.Eh},n.Hg=function(t){var n,i=this.Eh,r=i.length?i[i.length-1]:null;if(this.ZQ(t.jQ)>=0)return!1;if(r&&t.jQ>r.jQ)n=i.length;else{var e=KS(this.Eh,t.jQ,XD,J_);if(e>=0)return!1;n=-(e+1)}return this.iY(t,n),!0},n.Ea=function(t){var n=this.Eh,i=this.QQ,r=this.ZQ(t.jQ);return!(r<0)&&(n.splice(r,0,t),delete i[t.jQ],this.rY(r),!0)},n.eY=function(t){var n=this.Eh,i=this.QQ;t=l.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].jQ];n.splice(0,t),this.YQ+=t},n.iY=function(t,n){var i=this.Eh;n>=i.length?i.push(t):i.splice(n,0,t),this.rY(n)},n.rY=function(t){for(var n=this.Eh,i=this.QQ,r=this.YQ,e=n.length,u=t;u<e;u++)i[n[u].jQ]=u+r},L(t,[{key:"pl",get:function(){return this.Eh.length}}]),t}(),qD=function(){function t(t,n,i){this.uY=t,this.sY=n,this.oY=i}var n=t.prototype;return n.compute=function(){return this.uY.live?this.uY.aY?this.uY.cY:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.oY&&(t+=this.hY()),this.fY()&&(t+=this.vY(t)),t},n.fY=function(){return void 0!==this.sY.dY.$Q(this.uY.fragments[0].jQ)},n.vY=function(t){var n=this.uY.fragments[0];return this.sY.dY.$Q(n.jQ).lY-(n.lY+t)||0},n.hY=function(){var t=zD(this.uY),n=zD(this.oY._Y),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.oY)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,a=n[s-e]||0;u+=l.abs(o-a)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t._Y.fragments.length?this.oY.gY(t._Y.fragments[0].jQ).lY:0},t}();function zD(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.wY&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var GD=function(t){function n(n){return t.call(this,I_.cl,n)||this}return M(n,t),n.prototype.Wd=function(){return new jD(this.ew.Xd)},n}(P_),jD=function(t){function n(n){return t.call(this,N_.cl,n)||this}return M(n,t),n}(B_),QD=function(t){function n(n,i){var r,e=YD(i,n.R_,n.LR,n.yY);return(r=t.call(this,i,e,void 0,!1,n.Cl)||this).mY=n.kY,r.pY=n.LR,r.AY=n.yY,r.kF=n.R_,r.bY=n.TY,r.EY=Boolean(n.SY),r.RY=n.IY||{},r.NY=n.DY,r.CY=n.OY,r.xY=n.PY,r.BY(),r.LY(),r}M(n,t);var i=n.prototype;return i.Sa=function(t){var n=!1;void 0===this.mY&&void 0!==t.kY&&(n=!0,this.mY=t.kY),void 0===this.AY&&void 0!==t.yY&&(n=!0,this.AY=t.yY),void 0===this.kF&&void 0!==t.R_&&(n=!0,this.kF=t.R_),void 0===this.bY&&void 0!==t.TY&&(n=!0,this.bY=t.TY),!this.EY&&t.SY&&(n=!0,this.EY=t.SY),n=this.updateCustomAttributes(t,n),void 0===this.NY&&void 0!==t.DY&&(n=!0,this.NY=t.DY),void 0===this.CY&&void 0!==t.OY&&(n=!0,this.CY=t.OY),void 0===this.xY&&void 0!==t.PY&&(n=!0,this.xY=t.PY),this.BY(),this.LY(),this.MY(),n&&this.To(new GD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.IY)for(var r=0,e=d.keys(t.IY);r<e.length;r++){var u=e[r];void 0===this.RY[u]&&(i=!0,this.RY[u]=t.IY[u])}return i},i.BY=function(){this.kF&&!this.AY&&(this.AY=new Date(this.pY.getTime()+1e3*this.kF))},i.LY=function(){this.AY&&!this.kF&&(this.kF=Zt(this.AY.getTime()-this.pY.getTime()))},i.MY=function(){this.pw===1/0&&(this.AY||this.kF)&&(this.pw=YD(this.kw,this.kF,this.pY,this.AY))},L(n,[{key:"Xd",get:function(){var t;return this.Vd||(this.Vd=Sd(L_(t=this),{get content(){return t.ow},get class(){return t.kY},get startDate(){return t.LR},get endDate(){return t.yY},get duration(){return t.R_},get plannedDuration(){return t.TY},get endOnNext(){return t.SY},get scte35Cmd(){return t.DY},get scte35Out(){return t.OY},get scte35In(){return t.PY},get customAttributes(){return t.IY}})),this.Vd}},{key:"kY",get:function(){return this.mY}},{key:"LR",get:function(){return this.pY}},{key:"yY",get:function(){return this.AY}},{key:"R_",get:function(){return this.kF}},{key:"TY",get:function(){return this.bY}},{key:"SY",get:function(){return this.EY}},{key:"DY",get:function(){return this.NY}},{key:"OY",get:function(){return this.CY}},{key:"PY",get:function(){return this.xY}},{key:"IY",get:function(){return this.RY}}]),n}(V_);function YD(t,n,i,r){return Z(n)?t+n:r?t+(Zt(r.getTime())-Zt(i.getTime())):1/0}var ZD,JD,$D,KD,tC,nC=function(t){function n(){return t.call(this,void 0,void 0,T_.DATE_RANGE)||this}M(n,t);var i=n.prototype;return i.Sa=function(t,n){var i=this;t=function(t){for(var n=ge(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Cl)){var u=n.get(e.Cl),s=le(le(le({},u),Dd(e)),{IY:le(le({},u.IY),e.IY)});n.set(e.Cl,s)}else n.set(e.Cl,e),i.push(e.Cl)}return i.map(function(t){return n.get(t)})}(t);for(var r=this.zl.kl,e=function(n){var e=r[n],u=Ye(t,function(t){return t.Cl===e.Cl});u?e.Sa(u):i.ZF(e)},u=r.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var a=o[s],c=a.LR;if(void 0!==c&&!this.QF(a.Cl)){var h=n(c);this.Sb(new QD(a,h))}}},i.Sb=function(n){this.UY(n),t.prototype.Sb.call(this,n)},i.UY=function(t){var n=this.LF.filter(function(n){return n.kY===t.kY}).pop();n&&n.SY&&n.Sa({Cl:n.Cl,yY:t.LR})},n}(pI);function iC(t){return rC(t)?{rv:t.FY,HY:[t.HY.gI,t.HY.yI],Tv:!0}:{rv:t.toString(),Tv:!0}}function rC(t){return void 0!==t.HY}function eC(t){return t&&t.VY&&mg(t.VY)||!1}function uC(t){if(!t)return vg.uy;if(!eC(t))return vg.zy(t.duration);var n=t.XY||vg.uy,i=t.WY||vg.uy,r=vg.zy(t.duration);return n.vy()||i.vy()?n.vy()?i.vy()?r.vy()?vg.uy:r:i:n:vg.Uy(n,i)}function sC(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Ib)return i}return null}function oC(t){return sC(t)||function(t){return t.filter(function(t){return t.qY})}(t)[0]||t[0]}function aC(t,n){for(var i=0;i<n.length;i++){var r=n[i];Ke(t,r)||t.push(r)}return t}function cC(t){switch(t){case KD.yv:case KD.zY:return f_.yv;case KD.wv:return f_.wv}}!function(t){t.GY="alternative",t.jY="main",t.QY="commentary",t.YY="",t._b="descriptions",t.ZY="main-desc",t.JY="translation"}(ZD||(ZD={})),function(t){t.GY="alternative",t.jY="main",t.QY="commentary",t.YY="",t.lb="captions",t.$Y="sign",t.vb="subtitles"}(JD||(JD={})),function(t){t.yv="video",t.wv="audio",t.KY="closedCaption",t.tZ="variant"}($D||($D={})),function(t){t[t.uv=-1]="uv",t[t.wv=0]="wv",t[t.yv=1]="yv",t[t.zY=2]="zY"}(KD||(KD={})),function(t){t[t.uv=-1]="uv",t[t.nZ=1]="nZ",t[t.iZ=2]="iZ",t[t.rZ=3]="rZ",t[t.eZ=4]="eZ"}(tC||(tC={})),function(t){t.H_=function(n){return n>=t.iZ},t.uZ=function(n){return n===t.iZ||n===t.rZ}}(tC||(tC={}));var hC=function(t){function n(){var n;return(n=t.call(this)||this).sZ=[],n.oZ=function(){return n.dispatchEvent("aZ")},n.cZ=function(){return n.dispatchEvent("hZ")},n}M(n,t);var i=n.prototype;return i.Hg=function(t){this.sZ.push(t),t.addEventListener("hZ",this.cZ),t.addEventListener("fZ",this.oZ),this.dispatchEvent("vZ"),t.disabled||this.dispatchEvent("aZ")},i.Ea=function(t){var n=this.sZ.indexOf(t);n<0||($e(this.sZ,n),t.removeEventListener("hZ",this.cZ),t.removeEventListener("fZ",this.oZ),this.dispatchEvent("vZ"),t.disabled||this.dispatchEvent("aZ"))},i.Jo=function(){for(var t=!!this.dZ.length,n=!!this.lZ.length,i=0,r=this.sZ;i<r.length;i++){r[i].removeEventListener("fZ",this.oZ)}this.sZ.length=0,t&&this.dispatchEvent("vZ"),n&&this.dispatchEvent("aZ")},i.Rv=function(){this.No(),this.Jo()},L(n,[{key:"dZ",get:function(){return this.sZ}},{key:"lZ",get:function(){return this.sZ.filter(function(t){return!t.disabled})}}]),n}(PD);function fC(t){if(!t)return null;for(var n={_Z:"",gZ:"",wZ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n._Z="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n._Z="mp4a.40.2":"mp4a.40.29"===u?n._Z="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n._Z=u:"ec-3"===u?n._Z=u:0===u.indexOf("avc")?n.gZ=e:n.wZ+=","+u}return n}var vC=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this)||this).yZ=new WD,a.mZ=NaN,a.kZ=void 0,a.zF=void 0,a.pZ=!0,a.AZ=!0,a.bZ=!0,a.TZ=!1,a.EZ=null,a.SZ=!1,a.RZ=n,a.OE=i,a.zg=r||0===r?r:-1,a.IZ=e,a.NZ=Boolean(u),a.DZ=Boolean(s),a.zF=o,a}M(n,t);var i=n.prototype;return i.CZ=function(t,n){var i=zb(),r=new qD(t,this,n).compute(),e=this.OZ(t.fragments),u=e.oldFragments,s=e.newFragments;this.xZ(u,i),this.PZ(s,i,r),this.kZ!==t&&this.BZ(!0),this.kZ=t,this.dispatchEvent({type:"LZ",MZ:this}),this.dispatchEvent("renditionUpdated")},i.gY=function(t){return this.yZ.$Q(t)},i.UZ=function(){var t=this.pZ;this.pZ=this.AZ&&this.bZ,t!==this.pZ&&this.dispatchEvent("hZ")},i.BZ=function(t){this.AZ=t,this.UZ()},i.FZ=function(t){this.bZ=t,this.UZ()},i.HZ=function(t){this.OE=t,this.dispatchEvent("renditionUpdated")},i.VZ=function(){null!==this.EZ&&a(this.EZ),this.dispatchEvent("fZ"),this.dispatchEvent("renditionUpdated")},i.XZ=function(t){this.SZ=t,this.VZ()},i.WZ=function(){this.qZ(3e4)},i.qZ=function(t){var n=this;this.TZ=!0,this.VZ(),this.EZ=o(function(){n.TZ=!1,n.VZ()},t)},i.OZ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.yZ.tY(u.jQ)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.xZ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.yZ.$Q(r.jQ);e.zZ=aC(e.zZ,r.zZ),e.GZ=r.GZ||e.GZ,e.jZ=n}},i.PZ=function(t,n,i){var r=this.QZ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.$k=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.lY+=n}}(r,i),this.YZ(r)},i.QZ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.MZ=this;var e=le({},r);n.push(e)}return n},i.YZ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.yZ.Hg(i),w(this.mZ)&&(this.mZ=i.jQ)}},i.Rv=function(){this.No(),null!==this.EZ&&a(this.EZ)},L(n,[{key:"disabled",get:function(){return this.TZ||this.SZ},set:function(t){this.TZ=t,this.VZ()}},{key:"Cl",get:function(){return this.zg}},{key:"Bg",get:function(){return this.pZ}},{key:"uri",get:function(){return this.IZ||this.kZ&&this.kZ.uri},set:function(t){this.IZ=t,this.dispatchEvent("renditionUpdated")}},{key:"_Y",get:function(){return this.kZ}},{key:"dY",get:function(){return this.yZ}},{key:"ZZ",get:function(){return this.kZ?this.kZ.live?this.kZ.duration<-60?tC.rZ:tC.eZ:tC.nZ:tC.uv}},{key:"tu",get:function(){return this.OE},set:function(t){this.HZ(t)}},{key:"Bl",get:function(){return this.zF}},{key:"Ib",get:function(){return this.NZ}},{key:"qY",get:function(){return this.DZ||this.NZ}},{key:"JZ",get:function(){return this.mZ}},{key:"$Z",get:function(){return!!this._Y}},{key:"Lf",get:function(){return this.RZ}}]),n}(PD),dC=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,g){var w;return void 0===_&&(_=ZD.jY),(w=t.call(this,n,i,r,u,s,o,d)||this).KZ=void 0,w.tJ=void 0,w.nJ=void 0,w.iJ=void 0,w.rJ=void 0,w.eJ=void 0,w.uJ=void 0,w.sJ=void 0,w.oJ=void 0,w.aJ=null,w.cJ=void 0,w.hJ=Boolean(l),w.fJ=e,w.vJ=fC(a),w.dJ=g,w.lJ=c,w.tJ=h,w._J=f,w.KZ=v,w.qF=_,w}M(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.jQ,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.gJ[0]?t.gJ[0].xl:ZD.jY)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&wr(t.characteristics,"public.accessibility.describes-video")?ZD.ZY:ZD.jY;if(t.characteristics&&wr(t.characteristics,"public.accessibility.describes-video"))return ZD._b;return ZD.GY}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.wJ=function(t){this.vJ="string"==typeof t?fC(t):t,this.dispatchEvent("renditionUpdated")},i.yJ=function(t,n){return t?!n&&t._Z&&t.gZ?KD.zY:t.gZ?KD.yv:t._Z?KD.wv:KD.uv:KD.uv},L(n,[{key:"mJ",set:function(t){this.hJ=t}},{key:"kJ",get:function(){return this.vJ}},{key:"bandwidth",get:function(){return this.KZ},set:function(t){this.KZ=t,this.dispatchEvent("renditionUpdated")}},{key:"xl",get:function(){return this.qF}},{key:"resolution",get:function(){return this._J},set:function(t){this._J=t,this.dispatchEvent("renditionUpdated")}},{key:"pJ",get:function(){return void 0!==this.dJ?this.dJ:this.yJ(this.vJ,this.hJ)}},{key:"jQ",get:function(){return this.lJ}},{key:"_Z",get:function(){return this.tJ}},{key:"AJ",get:function(){return this.fJ}},{key:"bJ",get:function(){return this.nJ},set:function(t){var n=this.nJ;this.nJ=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(vC);var lC=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,n,i,r,e,u,s,o)||this).TJ=null,h.EJ=function(){return h.SJ()},h.bu=a,h.RJ=new lR(c,h.tu,h.Bl,void 0,T_.WEBVTT),h.Ib&&(h.RJ.Wl=Xd.Hl),h}M(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(wr(t.characteristics,"public.accessibility.describes-music-and-sound"))return Ww.lb;return Ww.vb}(i))};var i=n.prototype;return i.CZ=function(n){t.prototype.CZ.call(this,n),this.SJ()},i.Rv=function(){t.prototype.Rv.call(this),this.$A=null},i.HZ=function(n){t.prototype.HZ.call(this,n),this.RJ.Pl=n},i.SJ=function(){this.TJ&&this.TJ.IJ(this,this.dY)},L(n,[{key:"NJ",get:function(){return this.RJ}},{key:"$A",get:function(){return this.TJ},set:function(t){this.TJ&&this.TJ.removeEventListener("DJ",this.EJ),this.TJ=t,this.SJ(),this.TJ&&this.TJ.addEventListener("DJ",this.EJ)}},{key:"FY",get:function(){return this.uri}},{key:"js",get:function(){return this.bu}}]),n}(vC),_C=function(t){function n(n,i){var r;(r=t.call(this)||this).CJ=["renditionUpdated","LZ","OJ"],r.xJ=null,r.PJ=null,r.BJ=null,r.LJ=null,r.MJ=new hC,r.UJ=new hC,r.FJ=new hC,r.Y_={},r.HJ=null,r.kF=NaN,r.bo=function(t){return r.dispatchEvent(t)},r.uc=n,r.VJ=i;var e=rn(r);return r.XJ=function(){e.WJ(this)},r.qJ=function(t){e.zJ(this,t)},r}M(n,t);var i=n.prototype;return i.GJ=function(t,n){var i=new AI(n);return i.Wl=Xd.Fl,this.Y_[i.Cl]=i,this.dispatchEvent({type:"jJ",qd:i}),i},i.QJ=function(t,n,i){var r=new pI(i,"manifest");return r.Wl=Xd.Fl,this.Y_[r.Cl]=r,this.dispatchEvent({type:"jJ",qd:r}),r},i.YJ=function(t,n){if(t){var i=t.zl,r=t.ZJ,e=t&&this.Y_[r];e||(e=new AI(t.Xl),this.Y_[r]=e,e.Wl=Xd.Fl,this.dispatchEvent({type:"jJ",qd:e}));for(var u=0;u<i.length;u++){var s=i[u];e.Sb(s)}}},i.JJ=function(t){t&&(this.$J||(this.$J=new lR(Ww.lb,"CC1","en",!0,T_.CEA608),this.Y_.CC1=this.$J,this.dispatchEvent({type:"jJ",qd:this.$J})),this.$J.Sb(t))},i.KJ=function(t,n,i){var r=this.Y_[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t.zl.kl;e<u.length;e++){var s=u[e];if(s.uw>=i)break;n<s.sw&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.ZF(s)}}},i.t$=function(t,n){return this.n$(t,n)},i.i$=function(t){var n;return(n=this.r$(t,this.MJ))?n:(n=this.r$(t,this.UJ))?n:n=this.r$(t,this.FJ)},i.Rv=function(){this.Oo(this.MJ),this.MJ.Rv(),this.Oo(this.UJ),this.UJ.Rv(),this.Oo(this.FJ),this.FJ.Rv(),this.Y_={},this.$J=void 0,this.e$&&(this.e$.Rv(),this.e$=void 0),this.HJ=null,this.kF=NaN,this.xJ=null,this.PJ=null,this.BJ=null,this.LJ=null,this.dispatchEvent("Rv")},i.u$=function(t){var n=dC.createFromUri(this,t.uri);this.Oo(this.UJ),this.UJ.Hg(n),n.addEventListener("renditionUpdated",this.XJ)},i.WJ=function(t){var n=t._Y,i=t.ZZ;if(w(this.kF)||tC.H_(i)){if(tC.uv===i)return;if(!n)return;this.kF=n.duration,this.dispatchEvent("s$")}w(this.kF)||tC.nZ!==i||t.removeEventListener("renditionUpdated",this.XJ)},i.o$=function(t){var n=this;this.Oo(this.MJ),this.MJ.Jo(),this.Oo(this.UJ),this.UJ.Jo(),this.FJ.Jo(),this.HJ=t;for(var i=t.streams.map(function(t){return dC.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t._Z&&!wr(t._Z,"mp4a")&&!wr(t._Z,"mp3"))return!1;if(t.gZ&&!wr(t.gZ,"avc1"))return!1;return!0}(t.kJ)}),r=i.some(function(t){return t.kJ&&t.kJ._Z}),e=i.some(function(t){return t.kJ&&t.kJ.gZ}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.kJ&&s.kJ._Z),a=Boolean(s.kJ&&s.kJ.gZ);r&&!o||e&&!a||(this.UJ.Hg(s),s.addEventListener("renditionUpdated",this.XJ))}for(var c=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.VJ){var e=lC.createFromPlaylistMedia(n,r);n.FJ.Hg(e),n.dispatchEvent({type:"jJ",qd:e.NJ})}break;case"closed-captions":break;case"audio":var u=n.UJ.dZ.filter(function(t){return t._Z===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.mJ=!0});var s=r.uri?KD.wv:KD.zY,o=dC.createFromPlaylistMedia(n,r,!1,s);n.MJ.Hg(o)}},h=0,f=t.media;h<f.length;h++)c(h,f);this.a$=oC(this.gJ.lZ)||null,this.dispatchEvent("c$")},i.r$=function(t,n){for(var i=0,r=n.dZ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.zJ=function(t,n){this.dispatchEvent(le(le({},n),{MZ:t}))},i.h$=function(t){for(var n=0,i=t.dZ;n<i.length;n++)for(var r=i[n],e=0,u=this.CJ;e<u.length;e++){var s=u[e];r.addEventListener(s,this.qJ)}},i.Oo=function(t){for(var n=0,i=t.dZ;n<i.length;n++){i[n].Rv()}},i.f$=function(t,n){0!==t.length&&this.uc.hlsDateRange&&(this.e$||(this.e$=new nC,this.dispatchEvent({type:"jJ",qd:this.e$})),this.e$.Sa(t,n))},i.v$=function(t,n){if(this.PJ!==t){var i=this.PJ;this.PJ=t,this.dispatchEvent({type:"d$",pJ:"_Z",MZ:this.PJ,l$:i,_$:n})}},i.n$=function(t,n){if(this.BJ!==t){var i=this.BJ;this.BJ=t,t&&this.dispatchEvent({type:"d$",pJ:"gZ",MZ:this.BJ,l$:i,_$:n})}},i.g$=function(t){for(var n=0,i=t.dZ;n<i.length;n++){var r=i[n];if(r.ZZ!==tC.uv)return r.ZZ}return null},L(n,[{key:"W_",get:function(){return this.xJ},set:function(t){t&&(0===t.streams.length?this.u$(t):this.o$(t),this.xJ=t,this.h$(this.UJ),this.h$(this.MJ),this.dispatchEvent("w$"))}},{key:"y$",get:function(){return this.HJ}},{key:"R_",get:function(){return this.kF}},{key:"ig",get:function(){var t=this,n=this.FJ.dZ.map(function(t){return t.NJ}),i=d.keys(this.Y_).map(function(n){return t.Y_[n]});return this.$J&&i.push(this.$J),this.e$&&i.push(this.e$),n.concat(i)}},{key:"a$",get:function(){return this.PJ},set:function(t){this.v$(t,!0)}},{key:"m$",get:function(){return this.BJ},set:function(t){this.n$(t,!1)}},{key:"gJ",get:function(){return this.MJ}},{key:"k$",get:function(){return this.UJ}},{key:"p$",get:function(){return this.FJ.dZ}},{key:"ZZ",get:function(){var t;return null!==(t=this.PJ&&this.PJ.ZZ)&&t!==tC.uv?t:null!==(t=this.BJ&&this.BJ.ZZ)&&t!==tC.uv?t:null!==(t=this.g$(this.MJ))?t:null!==(t=this.g$(this.UJ))?t:tC.uv}}]),n}(PD);var gC=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this)||this).Zk=[],e.A$={},e.bo=function(t){return e.dispatchEvent(t)},e.b$=function(t){e.T$(t)},e.E$=function(t){e.handleRenditionUpdated(t)},e.S$=function(t){for(var n=0,i=e.Zk;n<i.length;n++){i[n].R$.S$(t)}},e.I$=n,e.N$=i,e.D$=r,e.N$&&e.N$.addEventListener("d$",e.b$),e.D$&&(e.D$.addEventListener("renditionUpdated",e.E$),e.D$.addEventListener("C$",e.S$)),e.Xd=(u=rn(e),s=new PD,o={get length(){return u.Zk.length},enable:function(t){u.cb(u.O$(t&&t.id)||t)},disable:function(t){u.hb(u.O$(t&&t.id)||t)},item:function(t){return u.Zk[t]&&u.Zk[t].Xd},getTrackByID:function(t){var n=u.O$(t);return n&&n.Xd},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},a=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",a),u.addEventListener("enabledtrack",a),u.addEventListener("disabledtrack",a),o),e}M(n,t);var i=n.prototype;return i.O$=function(t){return this.A$[t]},i.gl=function(t){for(var n=0,i=t.R$.Ll;n<i.length;n++){var r=i[n];r.Cl===this.x$()&&(r.Ew=!0)}t.addEventListener("enabledtrack",this.bo),t.addEventListener("disabledtrack",this.bo),this.Zk.push(t),this.A$[t.Cl]=t,this.dispatchEvent({type:"addtrack",track:t.Xd})},i.cb=function(t){if(t){var n=this.A$[t.Cl];if(n&&!n.Dl){for(var i=this.Zk.length-1;i>=0;i--)this.Zk[i].lg();n.dg()}}},i.hb=function(t){},L(n,[{key:"P$",get:function(){return this.x$()}}]),n}(PD);var wC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).B$=NaN,e}M(n,t);var i=n.prototype;return i.x$=function(){return this.B$},i.T$=function(t){t.L$?this.M$(t.U$):t.F$&&this.M$(t.F$)},i.M$=function(t){t&&(this.B$=t.Cl),this.Zk.forEach(function(n){return n.H$(t)})},i.handleRenditionUpdated=function(t){if(t.MZ&&t.MZ.pJ===KD.wv)for(var n=0,i=this.Zk;n<i.length;n++){i[n].V$(t)}},i.cb=function(n){var i=n;if(!i){var r=this.Zk.filter(function(t){return t.Ib});r.length>0&&(i=r[0])}t.prototype.cb.call(this,i)},L(n,[{key:"js",get:function(){return"audio"}}]),n}(gC),yC=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).X$=NaN,e}M(n,t);var i=n.prototype;return i.x$=function(){return this.X$},i.T$=function(t){(t.W$||t.U$)&&(t.U$&&(this.X$=t.U$.Cl),this.Zk.forEach(function(n){return n.H$(t.U$)}))},i.handleRenditionUpdated=function(t){if(t.MZ&&(t.MZ.pJ===KD.yv||t.MZ.pJ===KD.zY))for(var n=0,i=this.Zk;n<i.length;n++){i[n].V$(t)}},L(n,[{key:"js",get:function(){return"video"}}]),n}(gC);function mC(t,n){for(var i,r=n-(i=t?$(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function kC(t,n){return void 0===n&&(n=0),g(t.toFixed(n))}var pC=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).Ew=!1,i.q$=!0,i.MZ=n,i.Ew=!1,i.Xd=(r=rn(i),e=new PD,u={get bandwidth(){return r.MZ&&r.MZ.bandwidth},get averageBandwidth(){return r.MZ&&r.MZ.averageBandwidth},get codecs(){return r.kJ},get resolution(){return r.z$},get frameRate(){return kC(r.G$,2)},get id(){return r.Cl},get uri(){return r.MZ&&r.MZ.uri},get name(){return r.tu},set name(t){r.tu=t},get enabled(){return r.Dl},set enabled(t){r.Dl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}M(n,t);var i=n.prototype;return i.j$=function(t){var n=!!t&&this.Cl===t.Cl;this.Ew!==n&&(this.Ew=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Xd}))},i.V$=function(t){return this.MZ.Cl===t.MZ.Cl&&(this.MZ=t.MZ,this.dispatchEvent({type:"qualityupdated",quality:this.Xd}),!0)},L(n,[{key:"Dl",get:function(){return this.q$},set:function(t){this.q$=t,this.MZ.XZ(!t)}},{key:"xl",get:function(){return this.MZ.xl}},{key:"z$",get:function(){return this.MZ.resolution?{width:this.MZ.resolution.width,height:this.MZ.resolution.height}:{width:NaN,height:NaN}}},{key:"tu",get:function(){return this.MZ.tu},set:function(t){this.MZ.tu=t,this.dispatchEvent({type:"qualityupdated",quality:this.Xd})}},{key:"Cl",get:function(){return this.MZ.Cl}}]),n}(PD);var AC=function(t){function n(n){return t.call(this,n)||this}return M(n,t),L(n,[{key:"kJ",get:function(){return this.MZ.kJ&&this.MZ.kJ.gZ||""}},{key:"G$",get:function(){return kC(Number(this.MZ.bJ),2)}}]),n}(pC),bC=function(t){function n(n){return t.call(this,n)||this}return M(n,t),L(n,[{key:"kJ",get:function(){return this.MZ.kJ&&this.MZ.kJ._Z||""}},{key:"G$",get:function(){return kC(Number(this.MZ.cJ),2)}}]),n}(pC),TC=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).Q$=null,r.Y$={},r.bo=function(t){return r.dispatchEvent(t)},r.Ll=n,r.D$=i;for(var a=r.Ll.length-1;a>=0;a--){var c=r.Ll[a];r.Y$[c.Cl]=c}return r.Ll.forEach(function(t){return t.addEventListener("activequalitychanged",r.bo)}),r.Xd=(e=rn(r),u=new PD,s={item:function(t){var n=e._l(t);return n&&n.Xd},getQualitiesByIDs:function(t){return e.Z$(t).map(function(t){return t.Xd})},get length(){return e.Ll.length},get activeQuality(){return e.Nl&&e.Nl.Xd},get targetQuality(){return e.Ml?1===e.Ml.length?e.Ml[0].Xd:e.Ml.map(function(t){return t.Xd}):null},set targetQuality(t){if(t){var n=J(t)?t:[t];e.Ml=e.Z$(n.map(function(t){return t.id}))}else e.Ml=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}M(n,t);var i=n.prototype;return i.J$=function(t){return!!t&&this.Ll.some(function(n){return n.Cl===t.Cl})},i.K$=function(t,n){for(var i=0,r=this.Ll;i<r.length;i++){r[i].j$(t)}},i.Z$=function(t){var n=this;return t&&t.map(function(t){return n.Y$[t]}).filter(function(t){return t})},i.tK=function(){for(var t=this.Ll.length-1;t>=0;t--)this.Ll[t].Ew=!1},i.S$=function(t){var n=this.D$.nK,i=this.Z$(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Xd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i._l=function(t){return this.Ll[t]},L(n,[{key:"Nl",get:function(){for(var t=0,n=this.Ll;t<n.length;t++){var i=n[t];if(i.Ew)return i}return null}},{key:"Ml",get:function(){return this.Q$},set:function(t){this.Q$=this.iK(t)}}]),n}(PD);var EC=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.dg=function(){this.D$&&(this.D$.B$=this.Ll[0].Cl)},i.lg=function(t){this.D$&&(this.D$.B$=null)},i.iK=function(t){},n}(TC),SC=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.dg=function(){if(this.iK(this.Ml),this.D$){var t=this.D$.I$;if(!t)return;var n=Ye(t.rK.gJ.dZ,function(t){return!t.uri});this.D$.B$=n?n.Cl:null}},i.K$=function(n,i){"video"===i&&t.prototype.K$.call(this,n,i)},i.lg=function(t){"video"===t&&this.tK()},i.iK=function(t){if(!this.D$)return this.Ml;var n=t?this.Z$(t.map(function(t){return t.Cl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Cl});return this.D$.nK=i,n}return t?this.Ml:(this.D$.nK=null,null)},n}(TC),RC=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).js=n,r.R$=i,r.Cl=i._l(0).Cl,r.Xg=r.R$.Ll.some(function(t){return t.Ew}),r.tu=i._l(0).MZ.tu,r.Xd=(e=rn(r),u=new PD,{get id(){return e.Cl},get enabled(){return e.Dl},get qualities(){return e.R$&&e.R$.Xd},get language(){return e.Bl},get default(){return e.Ib},get name(){return e.tu},set name(t){e.tu=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}M(n,t);var i=n.prototype;return i.H$=function(t){var n=this.R$.J$(t);this.Qg(n),this.R$.K$(t,this.js)},i.Qg=function(t){this.Xg!==t&&(t?(this.Xg=!0,this.dispatchEvent({type:"enabledtrack",track:this.Xd})):(this.Xg=!1,this.dispatchEvent({type:"disabledtrack",track:this.Xd})))},i.dg=function(){this.Xg||this.R$.dg()},i.lg=function(){this.Xg&&this.R$.lg(this.js)},i.V$=function(t){t.MZ.Cl===this.Cl&&(this.tu=t.MZ.tu);for(var n=0,i=this.R$.Ll;n<i.length;n++){i[n].V$(t)}},L(n,[{key:"Dl",get:function(){return this.Xg}},{key:"Bl",get:function(){return this.eK()}},{key:"xl",get:function(){return this.uK()}},{key:"Ib",get:function(){var t="video"===this.js,n=this.R$.Ll&&this.R$.Ll[0].MZ.Ib;return t||n}}]),n}(PD);var IC=function(t){function n(n){return t.call(this,"video",n)||this}M(n,t);var i=n.prototype;return i.uK=function(){return JD.jY},i.eK=function(){return""},n}(RC),NC=function(t){function n(n){return t.call(this,"audio",n)||this}M(n,t);var i=n.prototype;return i.uK=function(){return this.R$.Ll[0].MZ.xl},i.eK=function(){return this.R$.Ll[0].MZ.Bl||""},n}(RC),DC=function(){function t(t,n,i){var r=this;this.sK=function(){var t=r.oK;t.removeEventListener("aK",r.sK);var n=t.rK.k$.dZ,i=t.rK.gJ.dZ,e=n.map(function(t){return new AC(t)});if(e.length>0){var u=new SC(e,r.cK);r.hK.gl(new IC(u));var s=Ye(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var a=new NC(u);s&&(a.tu=s.tu),r.fK.gl(a)}}for(var c=0;c<i.length;c++){var h=i[c];if(h.uri){var f=new bC(h),v=new EC([f],r.cK);r.fK.gl(new NC(v))}}},this.oK=t,this.cK=i,this.fK=new wC(t,n,i),this.hK=new yC(t,n,i),t&&(t.aK?this.sK():t.addEventListener("aK",this.sK))}return L(t,[{key:"tg",get:function(){return this.fK}},{key:"ng",get:function(){return this.hK}}]),t}(),CC=["loadedmetadata","durationchange","Ho","xv","Bg","vK"],OC=["dK","d$","lK","Ho"],xC=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this)._K=null,a.gK=[],a.wK=[],a.yK=function(t){return a.dispatchEvent(t)},a.mK=function(t){return a.kK(t)},a.pK=function(t){return a.AK(t)},a.$R=n.src,a.bK=n.type,a.TK=i,a.EK=r,a.SK=e,a.I$=u,a.N$=s,a.I$&&(a.I$.addEventListener("RK",a.yK),a.I$.addEventListener("IK",a.yK));var c=new DC(a.I$,a.N$,o);return a.ng=c.ng,a.tg=c.tg,a.KR=null,a.$R&&(a.N$&&a.N$.ml(),a.I$&&(a.I$.NK=a.$R)),a}M(n,t);var i=n.prototype;return i.DK=function(t){this.N$&&this.N$.Ta(t),this.I$&&this.I$.CK(),this.KR&&this.xK()},i.PK=function(){this.N$&&this.N$.PK(),this.I$&&this.I$.BK()},i.LK=function(){if(this.I$)for(var t=0;t<CC.length;t++){var n=CC[t];this.I$.addEventListener(n,this.mK)}if(this.N$)for(var i=0;i<OC.length;i++){var r=OC[i];this.N$.addEventListener(r,this.pK)}},i.MK=function(){if(this.I$)for(var t=0;t<CC.length;t++){var n=CC[t];this.I$.removeEventListener(n,this.mK)}if(this.N$)for(var i=0;i<OC.length;i++){var r=OC[i];this.N$.removeEventListener(r,this.pK)}},i.xK=function(){if(this.I$&&this.gK.length){var t=this.gK.slice();nu(this.gK);for(var n=0;n<t.length;n++){var i=t[n];this.I$.dispatchEvent(i)}}if(this.N$&&this.wK.length){var r=this.wK.slice();nu(this.wK);for(var e=0;e<r.length;e++){var u=r[e];this.N$.dispatchEvent(u)}}},i.kK=function(t){this.gK.push(t)},i.AK=function(t){this.wK.push(t)},i.Rv=function(){this.dispatchEvent("Rv"),this.No(),this.N$&&this.N$.Rv(),this.SK&&this.SK.Rv(),this.I$&&this.I$.Rv(),this._K=null,nu(this.gK),nu(this.wK)},L(n,[{key:"KR",get:function(){return this._K},set:function(t){this.MK(),this._K=t,this.KR?this.dispatchEvent("Ba"):this.LK()}}]),n}(PD),PC=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).oK=null,n.bo=function(t){n.dispatchEvent(t,!0)},n}return M(n,t),L(n,[{key:"B$",get:function(){var t=this.oK&&this.oK.rK.a$;return t?t.Cl:null},set:function(t){var n;this.oK&&(n=null===t?oC(this.oK.rK.gJ.dZ):this.oK.rK.gJ.dZ.filter(function(n){return t===n.Cl}).shift(),this.oK.rK.a$=n||null)}},{key:"nK",get:function(){return this.oK&&this.oK.UK||null},set:function(t){this.oK&&(this.oK.FK(t),this.dispatchEvent("C$"))}},{key:"I$",get:function(){return this.oK},set:function(t){this.oK&&(this.oK.rK.removeEventListener("w$",this.bo),this.oK.rK.removeEventListener("renditionUpdated",this.bo),this.oK.rK.removeEventListener("c$",this.bo)),this.oK=t,this.oK&&(this.oK.rK.addEventListener("w$",this.bo),this.oK.rK.addEventListener("renditionUpdated",this.bo),this.oK.rK.addEventListener("c$",this.bo))}}]),n}(PD),BC=function(){function t(){}var n=t.prototype;return n.HK=function(t){return T.resolve(!1)},n.VK=function(t){return T.reject(LC)},n.XK=function(t){return T.reject(LC)},n.jo=function(t){return T.resolve(!1)},n.Qo=function(t,n){return T.resolve(void 0)},n.WK=function(t){return T.resolve([])},n.qK=function(){return T.resolve([])},n.zK=function(t,n){return T.resolve([])},n.Ea=function(t){return T.reject(LC)},n.GK=function(t){return T.reject(LC)},n.jK=function(){return T.reject(LC)},t}(),LC="Storage disabled",MC=function(){function t(){this.QK=new BC,this.YK=new BC,this.ZK=new BC,this.JK=new BC,this.$K=new BC}return t.Rj=function(){return T.resolve(new t)},t.prototype.KK=function(t){return T.reject(UC)},t}(),UC="Storage disabled",FC=function(){function t(t){var n=this;this._o=new js,this.n0=void 0,this._o.aa(t),this._o.oa.then(function(t){n.n0=t})}var n=t.prototype;return n.HK=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.HK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VK=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.VK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.XK=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.XK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.jo=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.jo(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qo=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.Qo(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.WK=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.WK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qK=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.qK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.zK=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.zK(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ea=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Ea(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.GK(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.n0,t.t0){t.next=5;break}return t.next=4,this.i0;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.jK());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"i0",get:function(){return this._o.oa}}]),t}(),HC=function(){function t(t){var n=this;this._o=new js,this.r0=void 0,this._o.aa(t);var i=this._o.oa;i.then(function(t){n.r0=t}),this.YK=new FC(i.then(function(t){return t.YK})),this.QK=new FC(i.then(function(t){return t.QK})),this.ZK=new FC(i.then(function(t){return t.ZK})),this.JK=new FC(i.then(function(t){return t.JK})),this.$K=new FC(i.then(function(t){return t.$K}))}return t.prototype.KK=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.r0,t.t0){t.next=5;break}return t.next=4,this.e0;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.KK(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"e0",get:function(){return this._o.oa}}]),t}();function VC(t){return void 0!==t}var XC=function(){function t(){this.u0=[]}var n=t.prototype;return n.HK=function(t){return T.resolve("temporary"===t)},n.VK=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ea(n.key);case 2:this.u0.push(n);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.XK=function(){var t=T.coroutine(de.mark(function t(n){var i,r=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.map(function(t){return r.VK(t)}),t.next=3,T.all(i);case 3:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.jo=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",T.resolve(Boolean(this.s0(n))));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qo=function(t,n){return T.resolve(this.s0(t,n))},n.WK=function(t){var n=this,i=t?t.map(function(t){return n.s0(t)}):this.u0;return T.resolve(i.filter(VC))},n.qK=function(){return T.resolve([].concat(this.u0))},n.zK=function(t,n){var i=n||"key",r=this.u0.filter(function(n){return n[i]===t});return T.resolve(r)},n.Ea=function(t){var n=this.s0(t);return n&&Je(this.u0,n),T.resolve()},n.GK=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}return r=n[i],t.next=5,this.Ea(r);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){return nu(this.u0),T.resolve()},n.s0=function(t,n){n=n||"key";for(var i=0,r=this.u0;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),WC=function(){function t(){this.QK=new XC,this.YK=new XC,this.ZK=new XC,this.JK=new XC,this.$K=new XC}return t.Rj=function(){return T.resolve(new t)},t.prototype.KK=function(t){return t(this)},t}(),qC=function(){function t(t){this.o0=t}var n=t.prototype;return n.HK=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.o0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.HK(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.VK=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.o0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.HK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.VK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.XK=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.o0;case 1:if(!(r<e.length)){t.next=10;break}return u=e[r],t.next=5,u.HK(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",u.XK(n));case 7:r++,t.next=1;break;case 10:throw new f("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.jo=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.o0;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.jo(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qo=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.o0;case 1:if(!(r<e.length)){t.next=11;break}return u=e[r],t.next=5,u.Qo(n,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.WK=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.o0;case 2:if(!(r<e.length)){t.next=13;break}return u=e[r],t.t0=i.push,t.t1=i,t.next=8,u.WK(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qK=function(){var t=T.coroutine(de.mark(function t(){var n,i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.o0;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.qK();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.zK=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,u=this.o0;case 2:if(!(e<u.length)){t.next=13;break}return s=u[e],t.t0=r.push,t.t1=r,t.next=8,s.zK(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ea=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.o0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Ea(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GK=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.o0;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.GK(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.jK=function(){var t=T.coroutine(de.mark(function t(){var n,i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.o0;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.jK();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function zC(t){return T.coroutine(de.mark(function n(){var i;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",GC.Rj(i));case 4:case"end":return n.stop()}},n)}))}var GC=function(){function t(t){this.a0=t,this.c0=new qC(t.map(function(t){return t.JK})),this.h0=new qC(t.map(function(t){return t.$K})),this.f0=new qC(t.map(function(t){return t.ZK})),this.v0=new qC(t.map(function(t){return t.QK})),this.d0=new qC(t.map(function(t){return t.YK}))}return t.Rj=function(n){return T.resolve(new t(n))},t.prototype.KK=function(n){var i=this;if(0===this.a0.length)return n(this);var r=[],e=0;return this.a0[e].KK(function u(s){return r.push(s),++e<i.a0.length?i.a0[e].KK(u):n(new t(r))})},L(t,[{key:"JK",get:function(){return this.c0}},{key:"$K",get:function(){return this.h0}},{key:"ZK",get:function(){return this.f0}},{key:"QK",get:function(){return this.v0}},{key:"YK",get:function(){return this.d0}}]),t}(),jC=function(){function t(t){this.l0=[],this._0=!0,this.g0=t}var n=t.prototype;return n.Rj=function(){return new HC(this.w0())},n.w0=function(){var t=T.coroutine(de.mark(function t(){var n,i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._0){t.next=4;break}return t.next=3,T.resolve();case 3:this._0=!1;case 4:n=0,i=this.l0;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,zC([WC.Rj,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,zC([WC.Rj,this.g0])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.UL=function(t){if(!this._0)throw new f("Registration overdue");this.l0.push(t)},t}(),QC=function(){function t(){}return t.UL=function(n){t.y0.UL(n)},L(t,null,[{key:"Ve",get:function(){return t.m0||(t.m0=t.y0.Rj()),t.m0}}]),t}();function YC(t){return Rr(t)}function ZC(t,n){var i=Rr(t);return n?""+i+n:""+i}function JC(t,n,i,r,e,u){var s=new Go;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new Rf({rv:t,Jf:i,Zf:s,Tv:r,kv:Af.GET,js:bf.ov,ko:e,Ev:u})}QC.y0=new jC(MC.Rj),QC.m0=void 0;var $C=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Hv=null,o.Ff=new uu,o.k0=function(t,n){return o.Ev(t,n)},o.hp=n,o.FY=i,o.Jf=r,o.p0=e,o.fO=u,o.A0=new tO,o.Ab=s,o.b0=QC.Ve.QK,o.T0=QC.Ve.YK,o}M(n,t);var i=n.prototype;return i.gI=function(){return this.E0(this.Ff.ko)},i.E0=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return rC(i=this.FY)?(r=i.FY,e=[i.HY.gI,i.HY.yI]):(r=i,e=void 0),this.A0.S0(),t.prev=3,t.next=6,this.R0(r,e);case 6:if(u=t.sent,au(n),u){t.next=12;break}return t.next=11,this.I0(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.pu();case 14:s=t.sent,au(n),this.N0(s,u.Yf),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!ou(t.t0)){t.next=25;break}return t.abrupt("return");case 25:a=t.t0 instanceof xf?t.t0.Hv.Yf:0,o=new f('Could not load fragment: "'+this.FY+'", HTTP status '+a);case 27:return t.abrupt("return",this.D0(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.R0=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=ZC(n,i),t.next=4,this.b0.jo(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.T0.Qo(r);case 7:return e=t.sent,u=JC(n,i,this.Jf,this.p0),s=e.data.buffer,t.abrupt("return",new Sf({pu:s,Zf:{},tv:u,nv:n,Jf:this.Jf,Yf:200,$f:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.I0=function(t,n,i){var r=JC(t,n,this.Jf,this.p0,i,this.k0);return this.Ab.tv(r)},i.Ev=function(t,n){var i={type:"vK",tv:this,C0:t,O0:n=void 0===n?NaN:n};this.A0.x0(t,n),this.dispatchEvent(i)},i.N0=function(t,n){var i=this.Jf===zo.wh?t.byteLength:0;this.A0.P0(i),this.Jf===zo.ze?this.Hv=t:this.Hv=new y(t),this.B0=n,t=null,this.D0(),this.Hv=null},i.wo=function(t){return this.Ff.wo(),t||((t=new f('Aborted fragment load: "'+this.FY+'"')).aborted=!0),this.D0(t)},i.D0=function(t){this.A0.L0();var n={type:"sg",tv:this};return this.dispatchEvent(n),this.fO(t||null,this)},n}(PD);function KC(){return zb()/1e3}var tO=function(t){function n(){var n;return(n=t.call(this)||this).M0=NaN,n.U0=NaN,n.F0=NaN,n.H0=NaN,n.V0=0,n.X0=NaN,n.M0=KC(),n}M(n,t);var i=n.prototype;return i.S0=function(){this.M0=KC(),this.dispatchEvent("Sa")},i.x0=function(t,n){this.F0=KC(),this.RK||(this.U0=this.F0),this.V0=t,this.X0=n||this.X0||NaN,this.dispatchEvent("Sa")},i.P0=function(t){this.x0(t,t)},i.L0=function(){this.H0=KC(),this.dispatchEvent("Sa")},L(n,[{key:"RK",get:function(){return!w(this.U0)}},{key:"W0",get:function(){return!w(this.H0)}},{key:"F_",get:function(){return(this.U0||KC())-this.M0}},{key:"q0",get:function(){return(this.H0||this.F0)-this.U0}},{key:"z0",get:function(){return(this.H0||this.F0)-this.M0}}]),n}(PD),nO=function(t){function n(n,i){var r;return(r=t.call(this)||this).G0=[],r.j0=null,r.Q0=function(t){return r.Y0(t)},r.p0=!(!i||i.crossOrigin!==el.h_),r.Ab=n,r}M(n,t);var i=n.prototype;return i.Ta=function(t,n,i,r){var e=new $C(t,n,i,this.p0,r,this.Ab);return e.addEventListener("sg",this.Q0),this.G0.push(e),this.Z0(),e},i.Jo=function(t,n){var i=function(t){return!n||t.hp===n},r=this.G0.filter(i);!t&&this.j0&&i(this.j0)&&r.push(this.j0);for(var e=0;e<r.length;e++){r[e].wo()}return r},i.Z0=function(){if(!this.j0){var t=this.G0.shift();t&&(this.j0=t,t.gI())}},i.Y0=function(t){var n=t.tv,i=this.G0.indexOf(n);-1!==i&&$e(this.G0,i),this.j0===n&&(this.j0=null,this.Z0())},n}(PD);function iO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function rO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function eO(t,n){return Xo([t],{type:n})}var uO="iframe.html",sO=0,oO=m&&(m.bind&&m.bind(m)||m),aO=function(t){function n(n){var i;return(i=t.call(this)||this).J0=void 0,i.$0=[],i.K0=!1,i.bo=function(t){return i.dispatchEvent(t)},n&&i.Ba(n),i}M(n,t);var i=n.prototype;return i.postMessage=function(t){this.K0||(this.J0?this.J0.postMessage(t):this.$0.push(t))},i.Ba=function(t){if(this.K0)t.terminate();else{this.J0=t,this.J0.addEventListener("message",this.bo,!1),this.J0.addEventListener("error",this.bo,!1);for(var n=0,i=this.$0;n<i.length;n++){var r=i[n];this.J0.postMessage(r)}this.$0.length=0}},i.terminate=function(){this.No(),this.K0=!0,this.$0.length=0,this.J0&&(this.J0.removeEventListener("message",this.bo,!1),this.J0.removeEventListener("error",this.bo,!1),this.J0.terminate(),this.J0=void 0)},n}(PD);var cO=function(n){function i(i,r,u){var s,o,a;return(s=n.call(this)||this).n1=function(){return s.i1()},s.e1=function(t){return s.u1(t)},s.Cl=i,s.s1=r,s.o1=(o=u+uO,(a=e.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,e.body.appendChild(a),a),s.a1=s.o1.contentWindow,s.c1=Ur(u),s.o1.addEventListener("load",s.n1),t.addEventListener("message",s.e1),s}M(i,n);var r=i.prototype;return r.i1=function(){this.o1.removeEventListener("load",this.n1),this.a1.postMessage({type:"initialize",id:this.Cl,script:this.s1},"*")},r.u1=function(t){Ur(t.origin)===this.c1&&t.data.id===this.Cl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.a1.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.o1.removeEventListener("load",this.n1),t.removeEventListener("message",this.e1),this.a1.postMessage({type:"terminate"},"*"),this.o1.parentNode.removeChild(this.o1)},i}(PD);function hO(){return(hO=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.Ld,t.prev=1,e=new Rf({rv:n,kv:Af.GET,Jf:zo.ze}),t.next=5,r.tv(e);case 5:return u=t.sent,t.next=8,u.pu();case 8:s=t.sent,i(void 0,s),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new f("PLAYER_INCORRECTLY_CONFIGURED"),a=t.t0 instanceof xf?t.t0.Hv.Yf:-1,i({ha:a,Ho:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function fO(t,n){function i(i){return e(),tt(r=i.data)&&"2.86.1"===r.h1?n(void 0,t):n(new f("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function vO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new oO(t)}catch(t){return n({message:t.message})}return fO(i,n)}var dO=!0;function lO(t,n){var i=sO++,r=t+n,u=new aO;function s(){!function(t,n,i,r){var u;function s(){a(),fO(u,r)}function o(t){t.preventDefault&&t.preventDefault(),a(),u.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function a(){u.removeEventListener("initialized",s),u.removeEventListener("error",o)}if(!e)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(u=new cO(t,n,i)).addEventListener("initialized",s),u.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?u.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(u.Ba(n),i&&u.dispatchEvent(i))}return vO(r,function(t,n,i){t?function(t,n){hO.apply(this,arguments)}(r,function(t,n){t?t.ha>=400?o(t.Ho):s():n&&function(t,n){if(!dO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});vO(iO(eO(t,"application/javascript")),function(t,i,r){return t&&(dO=!1),n(t,i,r)})}(n,function(t,n,i){t?s():o(t,n,i)})}):o(t,n,i)}),u}function _O(t,n){if(n<0)throw new f("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new f("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function gO(t){return{get length(){return t.length},start:function(n){return _O(t,n|=0),t.start(n)},end:function(n){return _O(t,n|=0),t.end(n)}}}function wO(t,n){return t.gI-n.gI}var yO=function(){function t(t){this.f1=t}var n=t.prototype;return n.start=function(t){return this.f1[t].gI},n.end=function(t){return this.f1[t].yI},n.v1=function(){return this.f1},L(t,[{key:"length",get:function(){return this.f1.length}}]),t}(),mO=new yO([]),kO=new yO([{gI:-1/0,yI:1/0}]);function pO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),a=t.end(s);e<=o&&u>=a||(u+n>=o?u=a:(r.push({gI:e,yI:u}),e=o,u=a))}return r.push({gI:e,yI:u}),new yO(r)}(function(t){var n=SO(t);return n.sort(wO),new yO(n)}(t),n)}function AO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=l.max(t.start(r),n.start(e)),s=l.min(t.end(r),n.end(e));u<s&&i.push({gI:u,yI:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new yO(i)}function bO(t){var n=t.length;if(!n)return kO;var i=[],r=t.start(0);r!==-1/0&&i.push({gI:-1/0,yI:r});for(var e=0;e<n-1;e+=1)i.push({gI:t.end(e),yI:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({gI:u,yI:1/0}),new yO(i)}function TO(t,n){return-1!==EO(t,n)}function EO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function SO(t){if(t instanceof yO)return t.v1();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({gI:t.start(i),yI:t.end(i)});return n}function RO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(SO)),pO(new yO(e));var i,r,e}var IO=.001;function NO(t,n,i){return i=+i||0,t.gI-i<=n.yI&&n.gI<=t.yI+i}function DO(t){var n={gI:NaN,yI:NaN,dY:t};return CO(n),n}function CO(t){var n=t.dY;n.length?(n.sort(wO),t.gI=n[0].gI,t.yI=n[n.length-1].yI):(t.gI=NaN,t.yI=NaN)}function OO(t){return void 0!==t.dY}function xO(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=l.max(u.gI,n),o=l.min(u.yI,i);if(s<o){var a=void 0;a=u.gI===s&&u.yI===o?u:{gI:s,yI:o,yp:u.yp},r.push(a)}}return r}function PO(t,n){var i=l.min(t.gI,n.gI),r=l.max(t.yI,n.yI),e=t.dY,u=n.dY,s=e.concat(u),o=e.length?e[e.length-1]:null,a=u.length?u[0]:null;return o&&a&&o.yp===a.yp&&NO(o,a,IO)&&s.splice(e.length-1,2,function(t,n){var i=t.yp||n.yp;return{gI:l.min(t.gI,n.gI),yI:l.max(t.yI,n.yI),yp:i}}(o,a)),DO(s=xO(s,i,r))}var BO,LO,MO=function(){function t(t,n){this.f1=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;OO(r)?CO(e=r):e=DO([r]),e.dY.length&&e.gI<e.yI&&n.push(e)}return n}(t),n||this.d1()}var n=t.prototype;return n.start=function(t){return this.f1[t]&&this.f1[t].gI},n.end=function(t){return this.f1[t]&&this.f1[t].yI},n.dY=function(t){return this.f1[t]&&this.f1[t].dY},n.l1=function(t,n){return this._1(t,t,n)},n._1=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.g1=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.w1=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.m1=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Vg=function(t){return-1!==this.l1(t)},n.HI=function(t,n,i){return-1!==this._1(t,n,i)},n.XI=function(t,n,i){return-1!==this.g1(t,n,i)},n.NI=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=l.max(this.start(i),t.start(r)),u=l.min(this.end(i),t.end(r));if(e<u){var s=xO(this.dY(i),e,u);n.push(DO(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.Rj(n,!0)},n.Yw=function(t){return this.length&&t.length?this.NI(bO(t)):this},n.LI=function(t){return this.length?t.length?this.Rj(this.f1.concat(t.f1)):this:t},n.A1=function(t){for(var n=[],i=0,r=this.f1;i<r.length;i++)for(var e=0,u=r[i].dY;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.Rj(n)},n.zI=function(t){return this.A1(function(n){return t(n)?n:null})},n.b1=function(){if(!this.length)return this;for(var t=this.f1.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.T1(i,r)&&(t.splice(n,2,PO(i,r)),n-=1)}return this.Rj(t,!0)},n.T1=function(t,n){var i=t.dY,r=n.dY,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.E1(e,u)},n.d1=function(){var t=this.f1;t.sort(wO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&NO(i,r,IO)&&(t.splice(n,2,PO(i,r)),n-=1)}},L(t,[{key:"length",get:function(){return this.f1.length}}]),t}(),UO=function(t){function n(n,i){return t.call(this,n,i)||this}M(n,t);var i=n.prototype;return i.Rj=function(t,i){return new n(t,i)},i.E1=function(t,n){return n.yp.MZ===t.yp.MZ&&n.yp.jQ===t.yp.jQ+1},n}(MO);function FO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.S1(e),s=t.R1(e,u);i.push({gI:u.Uw(),yI:s.Uw(),yp:e})}return new UO(i).b1()}function HO(t){return t.I1!==BO.N1}function VO(t){return 0===t.I1}function XO(t){return t.I1>=0}function WO(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.dY(r);u<s.length;u++){var o=s[u];if(!e){var a=o.yp;if(eC(a)&&HO(a)){if((e=XO(a))&&!VO(a)){var c=t.D1(a,a.C1).Uw();o={gI:l.max(o.gI,c),yI:o.yI,yp:a}}}else e=!0;0}e&&i.push(o)}return new UO(i)}!function(t){t.N1=-1,t.O1=-2}(BO||(BO={})),function(t){t.P1="h.264",t.B1="mp3",t.L1="aac-lc",t.M1="he-aac"}(LO||(LO={}));var qO,zO,GO,jO,QO=function(){function t(){this.U1=0,this.f1=[],this.eb={}}var n=t.prototype;return n.F1=function(t){this.f1=this.f1.concat(t.f1),this.U1+=t.pl},n.H1=function(t,n,i){var r=this.U1,e=i-n;e>0&&(this.f1.push({V1:n,X1:i,W1:e,q1:r,z1:t}),this.U1+=e)},n.Qo=function(t){for(var n=0,i=this.f1;n<i.length;n++){var r=i[n];if(r.q1<=t&&t<r.q1+r.W1)return r.z1[t+r.V1-r.q1]}},n.G1=function(t,n){for(var i=n,r=0,e=this.f1;r<e.length;r++)for(var u=e[r],s=u.X1,o=u.V1;o<s;o+=1,i+=1)t[i]=u.z1[o];return i},n.j1=function(){for(var t=new y(this.U1),n=0,i=0,r=this.f1;i<r.length;i++)for(var e=r[i],u=e.X1,s=e.V1;s<u;s+=1,n+=1)t[n]=e.z1[s];return t},n.ia=function(n){for(var i=new t,r=0,e=this.f1;r<e.length;r++){var u=e[r];i.H1(u.z1,u.V1,u.X1)}return i.eb=n||le({},this.eb),i},L(t,[{key:"pl",get:function(){return this.U1},set:function(t){var n=this.f1,i=this.U1-t;if(!(t>=this.U1))if(this.U1=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.W1)return e.X1-=i,e.W1-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.W1}else n.length=0}},{key:"pu",get:function(){for(var t=new Array(this.U1),n=0,i=0,r=this.f1;i<r.length;i++)for(var e=r[i],u=e.X1,s=e.V1;s<u;s+=1,n+=1)t[n]=e.z1[s];return t}}]),t}();function YO(t,n){return{audio:t.audio?ix(t.audio,n):void 0,video:t.video?ax(t.video,n):void 0,Q1:t.Q1?(i=t.Q1,{Y1:i.Y1,ZJ:i.ZJ,Xl:i.Xl,Z1:i.Z1,J1:i.J1,K1:i.K1,n2:i.n2.map(ZO),zl:[]}):void 0,i2:t.i2?t.i2.map($O):t.i2,e2:t.e2.rm()};var i}function ZO(t){return{Dk:t.Dk,eb:{u2:t.eb.u2,s2:t.eb.o2.rm()},bH:t.bH}}function JO(t){return{Dk:t.Dk,eb:{u2:t.eb.u2,o2:lg(t.eb.s2)},bH:t.bH}}function $O(t){return{o2:t.o2.rm(),kA:t.kA,tG:t.tG,Kz:t.Kz,js:t.js,a2:t.a2,nG:t.nG,iG:t.iG}}function KO(t){return{o2:lg(t.o2),kA:t.kA,tG:t.tG,Kz:t.Kz,js:t.js,a2:t.a2,nG:t.nG,iG:t.iG}}function tx(t){return{Y1:t.Y1,bH:[],c2:t.c2,h2:t.h2,duration:t.duration,f2:t.f2,v2:t.v2.rm(),d2:t.d2,l2:t.l2.rm(),_2:t._2,g2:t.g2.rm(),w2:t.w2.rm(),m2:t.m2.rm(),A2:t.A2.rm(),b2:t.b2.rm(),T2:t.T2.rm(),E2:t.E2.rm()}}function nx(t){return{Y1:t.Y1,bH:[],c2:t.c2,h2:t.h2,duration:t.duration,f2:t.f2,v2:lg(t.v2),d2:t.d2,l2:lg(t.l2),_2:t._2,g2:lg(t.g2),w2:lg(t.w2),m2:lg(t.m2),A2:lg(t.A2),b2:lg(t.b2),T2:lg(t.T2),E2:lg(t.E2)}}function ix(t,n){switch(t.c2){case LO.L1:case LO.M1:return function(t,n){return le(le({},ex(t)),{c2:t.c2,bH:t.bH.map(function(t){return function(t,n){var i=(r=t.eb,le(le({},fx(r)),{S2:r.S2,R2:r.R2,I2:r.I2}));var r;return sx(t.ia(i),n)}(t,n)}),aJ:t.aJ,N2:t.N2})}(t,n);case LO.B1:return function(t,n){return le(le({},ex(t)),{c2:t.c2,bH:t.bH.map(function(t){return function(t,n){var i=(r=t.eb,le(le({},fx(r)),{Bk:r.Bk,fp:r.fp,D2:r.D2,C2:r.C2,O2:r.O2}));var r;return sx(t.ia(i),n)}(t,n)})})}(t,n)}}function rx(t){switch(t.c2){case LO.L1:case LO.M1:return function(t){return le(le({},ux(t)),{c2:t.c2,bH:t.bH.map(function(t){return function(t){var n=ox(t),i=(r=n.eb,le(le({},vx(r)),{S2:r.S2,R2:r.R2,I2:r.I2}));var r;return n.ia(i)}(t)}),aJ:t.aJ,N2:t.N2})}(t);case LO.B1:return function(t){return le(le({},ux(t)),{c2:t.c2,bH:t.bH.map(function(t){return function(t){var n=ox(t),i=(r=n.eb,le(le({},vx(r)),{Bk:r.Bk,fp:r.fp,D2:r.D2,C2:r.C2,O2:r.O2}));var r;return n.ia(i)}(t)})})}(t)}}function ex(t){return le(le({},tx(t)),{bH:[],c2:t.c2,P2:t.P2,B2:t.B2,L2:t.L2,M2:t.M2})}function ux(t){return le(le({},nx(t)),{bH:[],c2:t.c2,P2:t.P2,B2:t.B2,L2:t.L2,M2:t.M2})}function sx(t,n){var i=t.j1();return n.push(i.buffer),{U2:i,F2:t.pl,H2:t.eb}}function ox(t){var n=new QO;return n.H1(t.U2,0,t.F2),n.eb=t.H2,n}function ax(t,n){return le(le({},tx(t)),{c2:t.c2,bH:t.bH.map(function(t){return function(t,n){var i=(r=t.eb,le(le({},cx(r)),{R_:r.R_,V2:r.V2.rm(),X2:r.X2,W2:r.W2,q2:r.q2&&r.q2.rm(),z2:r.z2&&r.z2.rm(),G2:r.G2,j2:r.j2,i2:r.i2,Q2:r.Q2}));var r;return sx(t.ia(i),n)}(t,n)}),Y2:t.Y2,Z2:t.Z2,tA:t.tA,width:t.width,height:t.height,J2:t.J2,K2:t.K2,t3:t.t3,iJ:t.iJ,rJ:t.rJ,hA:t.hA,fA:t.fA})}function cx(t){var n;return le(le({},{u2:(n=t).u2,s2:n.s2.rm()}),{n3:t.n3.rm(),i3:t.i3.rm()})}function hx(t){var n;return le(le({},{u2:(n=t).u2,s2:lg(n.s2)}),{n3:lg(t.n3),i3:lg(t.i3)})}function fx(t){return le({},cx(t))}function vx(t){return le({},hx(t))}function dx(t){var n=t.video,i=n&&n.bH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].eb.G2)return r}return NaN}function lx(t){var n=t.r3.video,i=n&&n.bH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].eb.G2)return r}return NaN}function _x(t){if(!t)return null;switch(t.c2){case LO.P1:return function(t){return t.tA?"avc1."+(t.J2<16?"0":"")+((t.J2<<16)+(t.K2<<8)+t.t3).toString(16):null}(t);case LO.B1:return"mp4a.40.34";case LO.L1:return t.N2?"mp4a.40.5":"mp4a.40.2";case LO.M1:return"mp4a.40.5";default:return null}}function gx(t,n){var i=t.info,r=i.MZ,e=t.r3,u=r.gY(t.info.jQ-1),s=e.audio||void 0,o=e.video||void 0,a=s&&_x(s),c=o&&_x(o),h=(!s||a)&&(!o||c)?{_Z:a,gZ:c}:null,f=s&&!w(s._2)?s._2:null,v=o&&!w(o._2)?o._2:null,d=Tg(s&&s.w2,o&&o.w2),_=Tg(s&&s.m2,o&&o.m2),g=Eg(s&&s.T2,o&&o.T2),y=Eg(s&&s.E2,o&&o.E2),m=o&&o.v2.Hg(vg.zy(o.duration)),k=s&&s.v2.Hg(vg.zy(s.duration)),p=eC(u),A=p&&u.width||r.resolution&&r.resolution.width,b=p&&u.width||r.resolution&&r.resolution.height;t.metadata={start:l.max(null===f?v||0:null===v?f:l.min(f,v),0),e3:i,duration:m&&k?vg.Uy(m,k).Uw():(m||k||vg.uy).Uw(),u3:d,s3:_,o3:g,a3:y,audio:{start:l.max(0,f||0),duration:s&&s.f2||0,c2:a,G$:s&&s.d2,u3:s&&s.w2,s3:s&&s.m2,o3:s&&s.T2,a3:s&&s.E2},video:{start:l.max(0,v||0),duration:o&&o.f2||0,c2:c,G$:o&&o.d2,u3:o&&o.w2,s3:o&&o.m2,o3:o&&o.T2,a3:o&&o.E2},sL:o?{width:o.width||A,height:o.height||b}:null,jQ:i.jQ,size:n,quality:r,kJ:h,c3:i.c3,h3:i.h3}}function wx(t,n){var i,r,e,u,s={start:0,duration:0,c2:null,G$:null,u3:null,s3:null,o3:null,a3:null};return"_Z"===n?(r=s,e=i=le(le({},s),t.video),u=t.sL):(r=i=le(le({},s),t.audio),e=s,u=null),{start:i.start,e3:t.e3,duration:i.duration,u3:i.u3,s3:i.s3,o3:i.o3,a3:i.a3,audio:r,video:e,sL:u,jQ:t.jQ,size:t.size,quality:t.quality,kJ:t.kJ,c3:t.c3,h3:t.h3}}function yx(t,n){return t+"f3"+n.jQ+"v3"+n.uri}!function(t){t.d3="l3",t._3="g3"}(qO||(qO={})),function(t){t.w3="y3",t.HQ="m3"}(zO||(zO={})),function(t){t.A3="b3",t._3="g3"}(GO||(GO={})),function(t){t.T3="E3",t.S3="R3"}(jO||(jO={}));var mx=function(t){function n(n){var i;return(i=t.call(this)||this).I3=ge(),i.N3=void 0,i.D3=void 0,i.C3=function(t){var n=t.data,r=n.O3;if(i.I3.get(r))switch(n.x3){case zO.w3:0;var e=n.P3;i.B3(r,e);break;case zO.HQ:var u=n.L3;i.M3(r,new MD(LD.LQ,{code:u}));default:0}},i.U3=function(t){var n,r,e,u,s=t.data,o=s.F3;if(i.I3.get(o))switch(s.H3){case jO.T3:0;var a=s.V3;i.X3(o,{audio:(n=a).audio?rx(n.audio):void 0,video:n.video?(e=n.video,u=nx(e),le(le({},u),{c2:e.c2,bH:e.bH.map(function(t){return function(t){var n,i=ox(t),r=le(le({},hx(n=i.eb)),{R_:n.R_,V2:lg(n.V2),X2:n.X2,W2:n.W2,q2:n.q2&&lg(n.q2),z2:n.z2&&lg(n.z2),G2:n.G2,j2:n.j2,i2:n.i2,Q2:n.Q2});return i.ia(r)}(t)}),Y2:e.Y2,Z2:e.Z2,tA:e.tA,width:e.width,height:e.height,J2:e.J2,K2:e.K2,t3:e.t3,iJ:e.iJ,rJ:e.rJ,hA:e.hA,fA:e.fA})):void 0,Q1:n.Q1?(r=n.Q1,{Y1:r.Y1,ZJ:r.ZJ,Xl:r.Xl,Z1:r.Z1,J1:r.J1,K1:r.K1,n2:r.n2.map(JO),zl:[]}):void 0,i2:n.i2?n.i2.map(KO):n.i2,e2:lg(n.e2)});break;case jO.S3:var c=s.W3;i.M3(o,new MD(LD.LQ,{code:c}));default:0}},i.q3=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Ho",Ho:new MD(LD.qQ,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};lt(n.Ho.info.code),i.dispatchEvent(n)}else 0},i.uc=n,i.D3=i.z3(),i}M(n,t);var i=n.prototype;return i.wo=function(t){var n=[];this.I3.forEach(function(i,r){t&&i.hp!==t||n.push(r)}),this.G3(n)},i.G3=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.I3.delete(i)}if(t.length){if(this.N3){var r={j3:qO._3,Q3:t};this.N3.postMessage(r)}if(this.D3){var e={Y3:GO._3,Z3:t};this.D3.postMessage(e)}}},i.M3=function(t,n){var i=this.I3.get(t);if(i){var r=i.fO;this.I3.delete(t),r(n)}},i.J3=function(t,n,i,r){this.N3||(this.N3=this.K3());var e={j3:qO.d3,t4:t,n4:n,i4:i,r4:r};this.N3.postMessage(e)},i.e4=function(t,n){this.D3||(this.D3=this.z3());var i={Y3:GO.A3,u4:t,s4:n,o4:this.I3.get(t).a4};this.D3.postMessage(i)},i.B3=function(t,n){this.e4(t,n)},i.K3=function(){var t=lO(this.uc.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.C3),t.addEventListener("error",this.q3),t},i.c4=function(t){var n=t.r3.video,i=n&&n.bH&&n.bH[0];i&&i.eb.G2},i.X3=function(t,n){var i=this.I3.get(t),r=i.fO,e=i.h4,u={r3:n,info:i.f4,metadata:null};this.c4(u),function(t){var n=t.info.MZ.gY(t.info.jQ-1),i=t.r3;t.info.h3=t.info.wY,n&&(i.audio||i.video?i.video&&!i.video.Z2&&!i.video.Y2&&i.video.d2&&n.bJ&&i.video.d2!==n.bJ?t.info.h3=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.h3=!0):t.info.h3=!0)}(u),gx(u,e),function(t){var n=t.info,i=n.MZ,r=t.metadata,e=t.r3;if(n.v4=vg.zy(r.duration),n.XY=e.audio&&e.audio.v2.Hg(vg.zy(e.audio.duration))||vg.uy,n.WY=e.video&&e.video.v2.Hg(vg.zy(e.video.duration))||vg.uy,n.d4=e.audio&&e.audio.v2||vg.uy,n.l4=e.video&&e.video.v2||vg.uy,n._4=r.audio.u3,n.g4=r.audio.s3,n.w4=r.video.u3,n.y4=r.video.s3,n.VY=r.u3,n.m4=r.s3,n.A4=r.audio.o3,n.b4=r.audio.a3,n.T4=r.video.o3,n.E4=r.video.a3,n.o3=r.o3,n.a3=r.a3,e.video){var u=dx(t.r3),s=e.video.bH&&e.video.bH[u];s?(n.I1=u,n.C1=s.eb.n3,n.S4=s.eb.i3):n.I1=BO.O1}else n.I1=BO.N1;n.bJ=e.video&&e.video.d2||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"OJ",f4:t.info}),!i.resolution&&r.sL&&(i.resolution=r.sL),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.kJ||i.kJ&&!i.kJ._Z==!r.kJ._Z&&!i.kJ.gZ==!r.kJ.gZ||i.wJ(r.kJ),e.audio&&void 0!==e.audio.aJ&&(i.aJ=e.audio.aJ),i.iJ=e.video&&e.video.iJ||i.iJ,i.rJ=e.video&&e.video.rJ||i.rJ,i.eJ=e.audio&&e.audio.Y1||void 0,i.uJ=e.video&&e.video.Y1||void 0,i.sJ=e.audio&&e.audio.c2||void 0,i.oJ=e.video&&e.video.c2||void 0,i.cJ=e.audio&&e.audio.d2||void 0,i.bJ=e.video&&e.video.d2||void 0}(u),this.I3.delete(t),r(null,u)},i.z3=function(){var t=lO(this.uc.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.U3),t.addEventListener("error",this.q3),t},i.R4=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e.I3.has(n)&&e.J3(n,u,t,r.iv)}).catch(function(t){i=void 0,e.I3.has(n)&&e.M3(n,t)})},i.I4=function(t,n,i,r,e,u){var s=yx(t,r),o=r.MZ;this.I3.set(s,{hp:t,f4:r,a4:{N4:r.duration,kJ:o.kJ,iJ:o.iJ,rJ:o.rJ,eJ:o.eJ,uJ:o.uJ,sJ:o.sJ,oJ:o.oJ,aJ:!this.uc.skipImplicitHEAACDetection&&o.aJ,D4:e},h4:i.length,fO:u}),r.key?this.R4(n,s,i,r.key):this.e4(s,i)},i.C4=function(t){var n=[];return this.I3.forEach(function(i){i.hp===t&&n.push(i.f4)}),n},i.O4=function(t,n){var i=yx(t,n);return this.I3.has(i)},i.Rv=function(){this.wo(),this.N3&&(this.N3.terminate(),this.N3=void 0),this.D3&&(this.D3.terminate(),this.D3=void 0)},n}(PD);function kx(t,n){return t+"x4"+n}function px(t){return kx(t.MZ.Cl,t.jQ)}function Ax(t){return!(!t||!t.r3)}var bx=function(){function t(t,n,i){this.P4=[],this.B4=ge(),this.L4=1,this.$A=t,this.M4=n,this.U4=i}var n=t.prototype;return n.F4=function(t){var n=px(t.info);if(this.B4.has(n))this.H4(t.info,t);else{this.P4.push(n),this.B4.set(n,t);for(var i=this.M4.V4+10;this.P4.length>8*this.X4&&this.W4>i*this.X4;){var r=this.B4.get(this.P4[0]),e=this.U4.q4,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,a=new iA([s,o]),c=e,h=c+this.M4.V4;if(new iA([c,h]).NI(a).pl>0)break}this.B4.delete(this.P4.shift())}}},n.z4=function(t,n){var i=kx(t,n),r=this.B4.get(i),e=this.P4.indexOf(i);return!(!r||-1===e)&&($e(this.P4,e),this.B4.delete(i),!0)},n.Jo=function(){this.P4.length=0,this.B4.clear()},n.G4=function(){for(var t={},n=0,i=this.P4;n<i.length;n++){var r=i[n],e=this.B4.get(r);Ax(e)&&(t[e.info.MZ.Cl]=(t[e.info.MZ.Cl]||0)+1)}return t},n.j4=function(t,n){var i=[],r=this.Q4(t,n);if(!Ax(r))return i;do{i.push(r),n+=1,r=this.Q4(t,n)}while(Ax(r));return i},n.Y4=function(t,n){return!!this.Q4(t,n)},n.Z4=function(t,n){return Ax(this.Q4(t,n))},n.Q4=function(t,n){return this.B4.get(kx(t,n))},n.H4=function(t,n){var i=px(t),r=this.P4.indexOf(i);return-1!==r&&($e(this.P4,r),this.P4.push(i),n&&this.B4.set(i,n),!0)},n.J4=function(){for(var t=[],n=0,i=this.P4;n<i.length;n++){var r=i[n],e=this.B4.get(r);t.push(e.info)}return t},n.K4=function(){for(var t=[],n=0,i=this.P4;n<i.length;n++){var r=i[n],e=this.B4.get(r);e&&Ax(e)&&t.push(e.info)}return t},L(t,[{key:"W4",get:function(){for(var t=FO(this.$A,this.J4()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"X4",get:function(){return this.L4},set:function(t){t>0&&(this.L4=l.max(t,1))}}]),t}();var Tx=j.Ce?function(t,n){return bg(t.n3,n.n3)}:function(t,n){return bg(t.i3,n.i3)};function Ex(t,n,i){var r,e=t.length,u=vg.uy;r=function(t,n){return Tx(t.eb,n.eb).Hw(vg.uy)},t=je(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].eb,a=t[s].eb,c=Tx(a,o);c.Ww(vg.uy)&&(c=n),u=u.Hg(c),o.V2=c,o.R_=c.Uw()}if(e>0){var h=t[e-1].eb,f=vg.My(vg.zy(l.round(i-u.Uw())),n);h.V2=f,h.R_=f.Uw()}}function Sx(t,n,i){var r=n[0].eb.s2,e=t[t.length-1].eb.s2,u=r.Yw(e),s=bg(r,e).Yw(u);if(!s.vy())for(var o=0;o<n.length;o++){i(n[o].eb,s)}}function Rx(t,n){t.i3=t.i3.Hg(n),t.n3=t.n3.Hg(n),t.s2=t.s2.Hg(n)}function Ix(t,n){Rx(t,n),t.V2=t.V2.Hg(n),t.z2=Nx(t.z2,n),t.q2=Nx(t.q2,n)}function Nx(t,n){if(t)return t.Hg(n)}function Dx(t,n){return n.Hg(bg(t,n))}function Cx(t,n){var i={audio:void 0,video:void 0,e2:t.e2};if("video"===n){if(!t.audio)return i;i.audio={c2:t.audio.c2,d2:t.audio.d2,l2:t.audio.l2,duration:t.audio.duration,f2:t.audio.f2,v2:vg.uy,_2:t.audio._2,g2:t.audio.g2,w2:t.audio.w2,m2:t.audio.m2,A2:t.audio.A2,b2:t.audio.b2,T2:t.audio.T2,E2:t.audio.E2,bH:t.audio.bH,M2:t.audio.M2,L2:t.audio.L2,h2:t.audio.h2,P2:t.audio.P2,B2:t.audio.B2}}if("audio"===n){if(!t.video)return i;i.video={c2:t.video.c2,J2:t.video.J2,t3:t.video.t3,K2:t.video.K2,d2:t.video.d2,l2:t.video.l2,Y2:t.video.Y2,Z2:t.video.Z2,width:t.video.width,height:t.video.height,iJ:t.video.iJ,rJ:t.video.rJ,hA:t.video.hA,fA:t.video.fA,tA:t.video.tA,duration:t.video.duration,f2:t.video.f2,v2:vg.uy,_2:t.video._2,g2:t.video.g2,w2:t.video.w2,m2:t.video.m2,A2:t.video.A2,b2:t.video.b2,T2:t.video.T2,E2:t.video.E2,bH:t.video.bH,h2:t.video.h2}}return i}function Ox(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.c2===n.c2||!t.c2||!n.c2)&&t.d2===n.d2&&t.l2.Tw(n.l2)&&t.L2===n.L2)return t.bH?n.bH?(i=t.bH.concat(n.bH),Sx(t.bH,n.bH,Rx)):i=t.bH:i=n.bH,{c2:t.c2,d2:t.d2,l2:t.l2,duration:t.duration+n.duration,f2:t.f2+n.f2,v2:t.v2,_2:t._2,g2:t.g2,w2:t.w2,m2:t.m2,A2:Dx(n.A2,t.A2),b2:Dx(n.b2,t.b2),T2:Dx(n.T2,t.T2),E2:Dx(n.E2,t.E2),bH:i,L2:t.L2,M2:t.M2,h2:t.h2||n.h2,P2:t.P2,B2:t.B2}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.c2===i.c2){var e,u,s=t.Y2||i.Y2;if(s)u=1/(e=t.l2.Hg(i.l2).Cy(2)).Uw();else{if(t.d2!==i.d2)return;if(!t.l2.Tw(i.l2))return;e=t.l2,u=t.d2}if(t.width===i.width&&t.height===i.height){var o,a=t.Z2||i.Z2||!t.l2.Tw(i.l2);return t.bH?i.bH?r?(o=t.bH.concat(i.bH),Sx(t.bH,i.bH,Ix)):(Ex(n.bH.concat(i.bH),e,n.duration+i.duration),o=t.bH.concat(i.bH),Sx(t.bH,i.bH,Ix)):o=t.bH:o=i.bH,{c2:t.c2,J2:t.J2,t3:t.t3,K2:t.K2,d2:u,l2:e,Y2:s,Z2:a,width:t.width,height:t.height,iJ:t.iJ,rJ:t.rJ,tA:t.tA,duration:t.duration+i.duration,f2:t.f2+i.f2,v2:t.v2,_2:t._2,g2:t.g2,w2:t.w2,m2:t.m2,A2:Dx(i.A2,t.A2),b2:Dx(i.b2,t.b2),T2:Dx(i.T2,t.T2),E2:Dx(i.E2,t.E2),bH:o,h2:t.h2||i.h2,hA:t.hA,fA:t.fA}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,e2:t.e2}}}function xx(t){return Cx(t,"audio")}function Px(t){return Cx(t,"video")}var Bx,Lx,Mx,Ux=function(){function t(t){this.hj=0,this.t5=0,this.n5=l.exp(l.log(.5)/t)}var n=t.prototype;return n.i5=function(t,n){var i=l.pow(this.n5,t),r=n*(1-i)+i*this.hj;w(r)||(this.hj=r,this.t5+=t)},n.r5=function(){var t=1-l.pow(this.n5,this.t5);return this.hj/t},t}(),Fx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.e5=0,this.u5=5e5,this.s5=new Ux(t),this.o5=new Ux(n),this.a5=i}var n=t.prototype;return n.i5=function(t,n){var i=8e3*n/t,r=t/1e3;this.e5+=n,this.s5.i5(r,i),this.o5.i5(r,i)},n.r5=function(){return this.c5()?l.min(this.s5.r5(),this.o5.r5()):this.u5},n.c5=function(){return this.e5>=this.a5},t}(),Hx=function(){function t(){this.s5=new Ux(2),this.o5=new Ux(5),this.h5=0,this.f5=1,this.u5=100}var n=t.prototype;return n.i5=function(t){this.h5+=1,this.s5.i5(1,t),this.o5.i5(1,t)},n.r5=function(){return this.c5()?l.min(this.s5.r5(),this.o5.r5()):this.u5},n.c5=function(){return this.h5>=this.f5},t}(),Vx=function(){function t(t,n){var i=this;this.v5=!1,this.d5=0,this.l5=0,this._5=function(){return i.g5()},this.w5=t,this.tv=n,this.A0=n.A0,this.A0.addEventListener("Sa",this._5)}return t.prototype.g5=function(){var t=this.A0.V0,n=1e3*this.A0.q0,i=1e3*this.A0.F_;this.A0.RK&&(this.v5||(this.w5.y5(i),this.v5=!0),n>this.l5&&(this.w5.m5(n-this.l5,t-this.d5),this.d5=t,this.l5=n))},t}(),Xx=function(){function t(){this.k5=new Fx,this.p5=new Hx}var n=t.prototype;return n.A5=function(t){new Vx(this,t)},n.m5=function(t,n){this.k5.i5(t,n)},n.y5=function(t){this.p5.i5(t)},n.Rv=function(){},L(t,[{key:"b5",get:function(){return this.p5.r5()/1e3}},{key:"T5",get:function(){return this.k5.r5()}}]),t}(),Wx=function(){function t(){this.E5=ge()}var n=t.prototype;return n.S5=function(t,n){var i,r,e=this.E5.get(t);return Boolean(e&&(i=e.FY,r=n,nt(i)?i===r:function(t,n){return t.FY===n.FY&&t.HY.gI===n.HY.gI&&t.HY.yI===n.HY.yI}(i,r)))},n.R5=function(t,n){if(this.S5(t,n))return this.E5.get(t).pu},n.I5=function(t,n,i){this.E5.set(t,{FY:n,pu:i})},n.Jo=function(){this.E5.clear()},t}();!function(t){t[t.N5=0]="N5",t[t.D5=5]="D5",t[t.C5=13]="C5",t[t.O5=14]="O5",t[t.x5=15]="x5"}(Bx||(Bx={})),function(t){t[t.P5=0]="P5",t[t.B5=1]="B5",t[t.L5=2]="L5",t[t.M5=11]="M5",t[t.U5=13]="U5",t[t.F5=14]="F5"}(Lx||(Lx={})),function(t){t[t.H5=0]="H5",t[t.V5=1]="V5",t[t.X5=2]="X5",t[t.W5=3]="W5",t[t.q5=4]="q5",t[t.z5=5]="z5",t[t.G5=6]="G5",t[t.j5=7]="j5"}(Mx||(Mx={}));var qx=5,zx=5,Gx=.5;function jx(t){if(!t.r3.video)return[];for(var n=[],i=0;i<t.r3.video.bH.length;i++){var r=t.r3.video.bH[i].eb;r.G2&&n.push({Q5:i,Y5:r.n3})}return n}var Qx=vg.zy(.04),Yx=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Z5=ge(),u.J5=ge(),u.K5=1,u.uc=n,u.t6=i,u.Ab=r,u.n6=new Wx,u.M4=e,u.i6=new nO(r,n),u.r6=new Xx,u.e6=new mx(n),u.e6.addEventListener("Ho",function(t){u.dispatchEvent(t)}),u}M(n,t);var i=n.prototype;return i.u6=function(t){this.e6.wo(t),this.i6.Jo(!1,t)},i.Jo=function(t){this.u6(t),t?this.Z5.get(t).Jo():this.Z5.forEach(function(t){return t.Jo()})},i.Rv=function(){this.No(),this.i6.Jo(),this.Z5.forEach(function(t){return t.Jo()}),this.Z5.clear(),this.e6.Rv()},i.gl=function(t,n,i){if(!this.Z5.has(t)){var r=new bx(n,this.M4,i);r.X4=this.X4,this.Z5.set(t,r)}},i.s6=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.n6.S5(i,r)){t.next=2;break}return t.abrupt("return",this.n6.R5(i,r));case 2:return t.next=4,this.o6(n,r);case 4:return e=t.sent,this.n6.I5(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.o6=function(t,n){var i=this;return new T(function(r,e){i.i6.Ta(t,n,zo.wh,function(t,n){t&&e(t),r(new y(n.Hv))})})},i.a6=function(t,n,i,r){var e=this.Z5.get(t),u=e.Q4(n.MZ.Cl,n.jQ);if(e.Z4(n.MZ.Cl,n.jQ))e.H4(n),this.dispatchEvent({type:"c6",hp:t,h6:u});else{if(!u)return this.f6(t,n,i,r);e.H4(n),this.v6(t,n,i,u.d6)}return r&&r(),null},i.f6=function(t,n,i,r){var e=this,u=this.Z5.get(t),s=function(t,n){return t+"l6"+n.jQ+"v3"+n.uri}(t,n);if(this.J5.has(s))return null;this.J5.set(s,!0);var o=this.i6.Ta(t,n.uri,zo.wh,function(a,c){return e.J5.delete(s),a?r&&r(a):(e.dispatchEvent({type:"_6",hp:t}),u.Z4(n.MZ.Cl,n.jQ)||u.F4({info:n,d6:o.Hv}),e.a6(t,n,i),r&&r(a,c))});return this.r6.A5(o),o},i.v6=function(t,n,i,r){var e=this,u=this.Z5.get(t);this.e6.O4(t,n)||(n&&n.key&&this.t6.getKey(n.key).catch(S),this.e6.I4(t,this.t6,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Ho",Ho:n});u.F4(i),e.dispatchEvent({type:"c6",hp:t,h6:i})}))},i.g6=function(t,n,i){var r=i.length,e="_Z"===t?Jx:$x;if(!Zx(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.h3){if("w6"===this.uc.y6||e(s,o)){var a=i.splice(0,u);return Zx(n,a)?a:this.g6(t,n,i)}0}}return i},i.m6=function(t,n,i,r){for(var e=this.Z5.get(t).K4(),u=r.k6,s=function(t){var r=i[t],s=e.filter(function(t){return t.MZ===r}),o=FO(n,s),a=o.l1(u.Uw(),Qx.Uw());if(a>=0&&vg.zy(o.end(a)).Yw(u).Vw(Qx))return{v:!0}},o=0;o<i.length;o++){var a=s(o);if("object"==typeof a)return a.v}return!1},i.p6=function(t,n,i,r,e){if(!j.Re)return!0;if(e.A6||this.m6(t,n,i,e))return!0;var u=vg.My(r,e.b6);return e.k6.Yw(u).Vw(vg.zy(2))},i.T6=function(t,n,i,r,e,u,s,o){var a=n.j4(e.Cl,u),c=this.g6(t,u,a);if(!c||0===c.length)return null;var h,f=c[0],v=r.S1(f.info),d=fP(t,r,f);if("gZ"!==t||function(t,n,i){return!!t&&t.yp.MZ===n&&i.Vw(vg.zy(t.yI))&&i.Ww(vg.zy(t.yI).Hg(Qx))}(i,e,d))return{dY:c,E6:vg.Uy(v,d)};f.r3.video&&(f=(c=eP(c,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],a=jx(o),c=0;c<a.length;c++){var h=a[c];if(n.D1(o.info,h.Y5).Fw(i.Yw(r)))return{S6:e,R6:u};e=s,u=h.Q5}return{S6:e,R6:u}}(c,r,s,o)))[0]);if(d=fP(t,r,f),function(t){var n=t.r3.video,i=n&&n.bH,r=i&&i[0],e=r&&r.eb.G2;if(!n)return!0;return!!e}(f))return{dY:c,E6:vg.Uy(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=dx(t[n].r3);if(!w(i))return{S6:n,R6:i}}return null}(c),_=vg.My(s,aP(t,r,e.gY(u)));if(f.info.jQ===u){if(l&&(d=fP(t,r,(h=eP(c,l))[0]),_.Yw(d).Vw(o)))return{dY:h,E6:vg.Uy(v,d)};for(var g=u-1;n.Z4(e.Cl,g);){var y=n.j4(e.Cl,g);if((f=(h=this.g6(t,u,y))&&h[0]&&rP(h[0],lx(h[0])))&&(d=fP(t,r,f),_.Yw(d).Vw(o)))return h[0]=f,{dY:h,E6:vg.Uy(v,d)};g-=1}}return function(t){if(t.wY)return!1;var n=t.MZ;if(n._Y&&n._Y.live)return!1;if(!n.gY(t.jQ-1))return!1;return!0}(c[0].info)?null:l?{dY:c=eP(c,l),E6:v}:null},i.I6=function(t,n,i,r,e,u,s,o,a,c,h){var f=u.N6(o,a,n),v=f&&f.yp;if(!v)return null;var d=v.jQ;do{var l=d,_=o.gY(l),g=aP(n,u,_);if(!cP(n,u,_).zw(a)||_.c3){if(g.Hg(Qx).Fw(c))break;if(vg.My(vg.uy,a.Yw(g)).zw(h)&&i.Z4(o.Cl,l-1)&&i.Z4(o.Cl,l))i.Q4(o.Cl,l).metadata.h3||(l-=1);var w=this.D6(t,n,i,r,e,u,s,o,l,a,h);if(w&&(iP(w,a,c)||w.A6))return w}}while(i.Z4(o.Cl,++d));return null},i.D6=function(t,n,i,r,e,u,s,o,a,c,h){var f=o.gY(a),v=this.T6(n,i,r,u,o,a,c,h),d=v&&v.dY,_=v&&v.E6,g=d&&d[d.length-1],w=g&&g.metadata.c3;if(!(d=function(t,n){if(!n||!n.length)return n;var i="_Z"===t?Kx:tP;return n.map(i).filter(nP)}(n,d))||!d.length){if(w){var y=[],m=u.S1(g.info);return y.nU=m,y.C6=m,y.b6=m,y.O6=m,y.k6=m,y.A6=w,y}return null}var k=d="gZ"===n?function(t,n,i){var r=i[0].r3.video;return i[0].info.wY?function(t,n,i,r){var e=Ze(r.bH,function(t){return t.eb.G2});if(e<0)return i;var u=r.bH[e].eb,s=n.D1(i[0].info,u.n3),o=vP(t,s);if(o.Zw())return i;var a=s.Yw(o).Fy(_g,ag.im);if(a.Ww(vg.uy))return i;var c=_P(r.bH.slice(e),a);return i[0]=sP(i[0],c),i}(t,n,i,r):function(t,n,i,r){var e=r.l2.Ry(qx),u=r.bH[0].eb,s=n.D1(i[0].info,u.i3),o=dP(t,s,e);if(o.Zw())return i;var a=s.Yw(o).Fy(_g,ag.im);if(a.Ww(vg.uy)||a.Fw(e))return i;var c=_P(r.bH,a);return i[0]=sP(i[0],c),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if((null===(r=i[0].r3.audio)||void 0===r?void 0:r.c2)===LO.B1)return i;var e=i[0].r3.audio,u=e.bH[0].eb;return i[0].info.wY?function(t,n,i,r,e){var u=n.D1(i[0].info,e.n3),s=vP(t,u);if(s.Zw())return i;var o=u.Yw(s).Uw(),a=l.floor(o/r.l2.Uw());if(a<=0)return i;var c=lP(r,a);return i[0]=uP(i[0],c),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.D1(i[0].info,e.i3),s=dP(t,u,r.l2.Ry(zx));if(s.Zw())return i;var o=u.Yw(s).Uw(),a=l.round(o/r.l2.Uw());if(0===a||l.abs(a)>zx)return i;var c=lP(r,a);return i[0]=uP(i[0],c),i}(t,n,i,e,u)}(e,u,d),p=k[0];if(f.jQ<p.info.jQ&&(_=u.S1(f)),k.nU=_,k.C6=function(t,n,i){return n.D1(i.info,hP(t,i).s3)}(n,u,p),k.b6=fP(n,u,p),k.O6=function(t,n,i){return n.D1(i.info,hP(t,i).a3)}(n,u,k[k.length-1]),k.k6=function(t,n,i){return n.D1(i.info,hP(t,i).o3)}(n,u,k[k.length-1]),k.A6=w,!this.p6(t,u,s,c,k))return null;var A=p.r3.video;return!A||(A.iJ=A.iJ||o.iJ,A.rJ=A.rJ||o.rJ,A.iJ&&A.rJ)?k:null},i.x6=function(t,n,i,r,e,u,s,o,a,c){for(var h=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.I6(t,n,i,r,e,u,s,v,o,a,c);d&&(h&&!d.b6.zw(h.b6)||(h=d))}return h},i.P6=function(t,n,i,r,e,u,s,o,a){for(var c=vg.zy(s),h=vg.zy(o),f=vg.zy(a),v=this.Z5.get(t),d=new yO([{gI:c.Uw(),yI:c.Hg(h).Uw()}]),l=e.NI(d),_=function(t){if(0===t.length)return null;var n=t.dY(t.length-1),i=n[n.length-1];if(!i.yp.B6)return null;return i}(e),g=AO(bO(l),d),w=0;w<g.length;w++){var y=vg.zy(g.start(w)),m=vg.zy(g.end(w)),k=gP(l,y,m),p=y.Hg(k).Fy(_g,ag.im),A=m.Fy(_g,ag.im);if(p.zw(A)){if(_&&p.Vw(vg.zy(_.yI)))continue;var b=this.x6(t,n,v,u,e,i,r,p,A,f);if(b)return b}}return null},i.K4=function(t){return this.Z5.get(t).K4()},i.C4=function(t){return this.e6.C4(t)},L(n,[{key:"X4",get:function(){return this.K5},set:function(t){t>0&&(this.K5=t,this.Z5.forEach(function(n){return n.X4=t}))}},{key:"b5",get:function(){return this.r6.b5}},{key:"T5",get:function(){return this.r6.T5}}]),n}(PD);function Zx(t,n){for(var i=0;i<n.length;i++){if(n[i].info.jQ===t)return!0}return!1}function Jx(t,n){return t.metadata.audio.c2!==n.metadata.audio.c2||(t.metadata.audio.G$!==n.metadata.audio.G$||(!(!t.r3.audio||!n.r3.audio||t.r3.audio.L2===n.r3.audio.L2)||!pg(t.metadata.audio.u3,t.metadata.audio.s3).Tw(pg(n.metadata.audio.o3,n.metadata.audio.a3))))}function $x(t,n){return t.metadata.video.c2!==n.metadata.video.c2||(!(!t.metadata.sL||!n.metadata.sL||t.metadata.sL.height===n.metadata.sL.height&&t.metadata.sL.width===n.metadata.sL.width)||(!(!n.r3.video||n.r3.video.Z2||t.metadata.video.G$===n.metadata.video.G$)||pg(t.metadata.video.u3,t.metadata.video.s3)!==pg(n.metadata.video.o3,n.metadata.video.a3)))}function Kx(t){return t.r3.video&&(t={r3:Px(t.r3),info:t.info,metadata:wx(t.metadata,"gZ")}),t}function tP(t){return t.r3.audio&&(t={r3:xx(t.r3),info:t.info,metadata:wx(t.metadata,"_Z")}),t}function nP(t){return Boolean(t&&(t.r3.audio||t.r3.video))}function iP(t,n,i){var r=vg.My(n,t.b6),e=vg.Uy(i,t.k6),u=Qx;return j.ke&&(r.Ww(t.b6)?u=u.Hg(t.b6).Yw(t.C6):e.Vw(t.k6)&&(u=u.Hg(t.k6).Yw(t.O6))),e.Yw(r).Vw(u)}function rP(t,n){return w(n)?null:0===n?t:sP(t,t.r3.video.bH.slice(n))}function eP(t,n){return(t=t.slice(n.S6))[0]=rP(t[0],n.R6),t}function uP(t,n){var i={info:t.info,r3:{audio:Px(t.r3).audio,video:null,e2:t.r3.e2},metadata:null},r=i.r3.audio;r.bH=n;var e=n[0].eb;return r.g2=e.s2,r._2=r.g2.Uw(),oP(r,i.r3.e2,r.l2),gx(i,t.metadata.size),i.metadata=wx(i.metadata,"gZ"),i}function sP(t,n){var i={info:t.info,r3:{audio:null,video:xx(t.r3).video,e2:t.r3.e2},metadata:null},r=i.r3.video;r.bH=n;var e=n[0].eb;r.g2=e.s2,r._2=r.g2.Uw();var u=n[n.length-1].eb.V2;return oP(r,i.r3.e2,u),gx(i,t.metadata.size),i.metadata=wx(i.metadata,"_Z"),i}function oP(t,n,i){for(var r=vg.jy,e=vg.jy,u=vg.Qy,s=vg.Qy,o=0,a=t.bH;o<a.length;o++){var c=a[o].eb;r=vg.Uy(c.i3,r),e=vg.Uy(c.n3,e),u=vg.My(c.i3,u),s=vg.My(c.n3,s)}t.w2=e,t.m2=r,t.A2=s,t.b2=u,t.v2=vg.My(bg(t.g2,n),vg.uy),t.T2=Ag(t.A2,i),t.E2=Ag(t.b2,i),t.f2=pg(t.T2,t.w2).Uw(),t.duration=t.f2}function aP(t,n,i){if(eC(i)){var r="_Z"===t?i._4:i.w4;return mg(r)||(r=i.VY),n.D1(i,r)}return i&&n.S1(i)}function cP(t,n,i){if(eC(i)){var r="_Z"===t?i.A4:i.T4;return mg(r)||(r=i.VY),n.D1(i,r)}return i&&n.S1(i).Hg("_Z"===t?function(t){return eC(t)?t.XY||vg.uy:t&&vg.zy(t.duration)||vg.uy}(i):function(t){return eC(t)?t.WY||vg.uy:t&&vg.zy(t.duration)||vg.uy}(i))}function hP(t,n){return"_Z"===t?n.metadata.audio:n.metadata.video}function fP(t,n,i){return n.D1(i.info,hP(t,i).u3)}function vP(t,n){var i=t.w1(n.Uw());if(-1!==i){var r=vg.zy(t.end(i));if(n.Yw(r).Ww(vg.zy(Gx)))return r}return vg.Gy}function dP(t,n,i){var r=t.l1(n.Uw(),i.Uw());if(-1!==r)for(var e=t.dY(r),u=e.length-1;u>=0;u--)for(var s=e[u],o=s.yp.dY.length-1;o>=0;o--){var a=s.yp.dY[o];if(n.Yw(vg.zy(a.yI)).Gw().Ww(i))return vg.zy(a.yI);if(n.Yw(vg.zy(a.gI)).Gw().Ww(i))return vg.zy(a.gI)}return vg.Gy}function lP(t,n){var i;if(n<0)i=t.bH.slice(-n);else{0;var r=new QO,e=function(t,n){if(t)switch(n){case 1:return new y([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new y([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new y([0,200,0,128,35,128]);case 2:return new y([33,0,73,144,2,25,0,35,128]);case 3:return new y([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new y([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new y([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.N2,t.L2);r.H1(e,0,e.length),i=t.bH.slice();for(var u=0;u<n;u++){var s=i[0].eb,o=r.ia(le(le({},r.eb),{s2:pg(s.s2,t.l2),u2:s.u2-t.l2.Uw(),i3:pg(s.i3,t.l2),n3:pg(s.n3,t.l2)}));i.unshift(o)}}return i}function _P(t,n){var i=t[0].eb,r=t.slice();return r[0]=t[0].ia(le(le({},i),{s2:pg(i.s2,n),u2:i.u2-n.Uw(),i3:pg(i.i3,n),W2:i.W2-n.Uw(),n3:pg(i.n3,n),X2:i.X2-n.Uw(),V2:vg.My(vg.uy,i.V2.Hg(n)),R_:l.max(0,i.R_+n.Uw())})),r}function gP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.dY(r),u=t.dY(r+1);if(e.length&&u.length&&vg.zy(e[0].gI).Ww(n)&&vg.zy(u[u.length-1].yI).Vw(i)&&u[0].yp.dY[0].ea.e3.wY)return Qx.Ry(5)}return t.Vg(n.Uw())?Qx:vg.uy}function wP(t){return new TP(t.Mf,t.pu)}var yP,mP,kP,pP,AP,bP,TP=function(){function t(t,n){this.L6=n,this.Mf=t}return t.prototype.M6=function(t){rO(t)},L(t,[{key:"pu",get:function(){return this.L6}},{key:"U6",get:function(){return iO(eO(this.L6,this.Mf))}}]),t}(),EP=function(){function t(t,n,i){this.FY="data:"+t+";"+n+","+i}return t.prototype.M6=function(t){},L(t,[{key:"U6",get:function(){return this.FY}}]),t}();!function(t){t.B1="F6",t.s_="H6",t.V6="X6",t.W6="q6",t.z6="G6"}(yP||(yP={})),function(t){t.j6="Q6",t.Y6="Z6"}(mP||(mP={})),function(t){t.J6="audio/mp4",t.K6="audio/mpeg",t.t9="video/mp4"}(kP||(kP={})),function(t){t[t.n9=0]="n9",t[t.i9=1]="i9",t[t.Vl=2]="Vl",t[t.r9=3]="r9"}(pP||(pP={})),function(t){t.e9="u9",t.s9="o9"}(AP||(AP={})),function(t){t.a9="w6",t.s9="c9"}(bP||(bP={}));var SP=function(){function t(t,n,i,r,e,u,s,o,a,c){this.h9=pP.n9,this.f9=t,this.v9=n,this.hp=i,this.Mf=r,this.h6=e,this.d9=u,this.YA=s,this.l9=o,this._9=a,this.fO=c}return t.g9=function(t,n,i,r,e,u,s,o,a,c){switch(n){case AP.e9:return new RP(t,i,r,e,u,s,o,a,c);case AP.s9:return new IP(t,i,r,e,u,s,o,a,c)}},t}(),RP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,AP.e9,n,i,r,e,u,s,o,a,c)||this}return M(n,t),n.prototype.w9=function(){return{y9:"m9",k9:this.v9,p9:yP.z6,A9:mP.j6,b9:this.Mf,T9:YO(this.h6,[]),E9:this._9,S9:this.l9.rm(),R9:this.d9.rm(),I9:this.YA.rm()}},n}(SP),IP=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,AP.s9,n,i,r,e,u,s,o,a,c)||this}return M(n,t),n.prototype.w9=function(){return{y9:"m9",k9:this.v9,p9:this.Mf===kP.K6?yP.B1:yP.s_,A9:Ap?mP.Y6:mP.j6,b9:this.Mf,T9:YO(this.h6,[])}},n}(SP),NP=function(){function t(){this.N9=ge(),this.D9=1}var n=t.prototype;return n.C9=function(){return(this.D9++).toString()},n.g9=function(t,n,i,r,e,u,s,o,a){var c=this.C9(),h=SP.g9(c,n,t,i,r,e,u,s,o,a);return this.O9(h),h},n.x9=function(t){return this.N9.get(t)},n.O9=function(t){this.N9.set(t.v9,t)},n.P9=function(t){this.N9.delete(t)},n.B9=function(t){this.x9(t).h9=pP.i9,this.P9(t)},n.L9=function(t,n){var i=this.x9(t).fO;this.x9(t).h9=pP.Vl,this.P9(t),i(n)},n.M9=function(t,n){var i=this.x9(t).fO;this.x9(t).h9=pP.r9,this.P9(t),i(null,n)},n.Jo=function(t){var n=[];this.N9.forEach(function(i,r){t&&i.hp!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.B9(r)}},t}();var DP,CP=function(){function t(n){var i=this;this.U9=function(t){var n=t.data.F9,r=t.data.H9,e=t.data.V9,u=t.data.X9,s=i.N9.x9(r);if(s&&s.h9!==pP.i9)switch(n){case"W9":i.q9(s,e);break;case"z9":i.N9.L9(r,new MD(LD.LQ,{code:u}));break;default:0}},this.G9=function(t){0},this.N9=new NP,this.uc=n,this.j9=t.Q9(n.y6),this.Y9()}t.Q9=function(t){switch(t){case bP.a9:return AP.e9;case bP.s9:return AP.s9}};var n=t.prototype;return n.m9=function(t,n,i,r,e,u,s){var o={metadata:null,_Z:null,gZ:null,Ho:null};i&&i.length||s(new MD(LD.LQ,{code:"SP154"}));var a=i[0],c=i[i.length-1],h=a.info.jQ+1,f=a.info.MZ,v=a.metadata,d=v.audio.c2?v.audio:void 0,l=v.video.c2?v.video:void 0,_=c.metadata,g=_.audio.c2?_.audio:void 0,y=_.video.c2?_.video:void 0,m=r.Hg(bg(v.s3,v.u3)),k=r.Hg(bg(v.u3,v.u3)),p=r.Hg(d?bg(d.s3,v.u3):vg.uy),A=r.Hg(d?bg(d.u3,v.u3):vg.uy),b=r.Hg(l?bg(l.s3,v.u3):vg.uy),T=r.Hg(l?bg(l.u3,v.u3):vg.uy),E=r.Hg(bg(_.a3,v.u3)),S=r.Hg(bg(_.o3,v.u3)),R=r.Hg(g?bg(g.a3,v.u3):vg.uy),I=r.Hg(g?bg(g.o3,v.u3):vg.uy),N=r.Hg(y?bg(y.a3,v.u3):vg.uy),D=r.Hg(y?bg(y.o3,v.u3):vg.uy);p=vg.My(vg.uy,p),b=vg.My(vg.uy,b);var C,O,x,P,B,L=tC.H_(n.ZZ)?vg.zy(100079991719):vg.zy(n.R_),M=function(t){for(var n=t[0].r3,i=n,r=1;r<t.length;r++){if(!(n=Ox(i,t[r-1].r3,t[r].r3,t[r].info.h3)))return i;i=n}return i}(i);if(M.audio){O=(C=Px(M)).audio.duration;x=this.N9.g9(t,this.j9,"mp3"===C.audio.c2?kP.K6:kP.J6,C,p,A,L,h,function(t,n){if(o.Ho=o.Ho||t,o._Z=n,C=!0,P)return s(o.Ho,o)}),this.Z9(x),C=null}else C=!0;if(M.video){B=(P=xx(M)).video.duration;x=this.N9.g9(t,this.j9,kP.t9,P,b,T,L,h,function(t,n){if(o.Ho=o.Ho||t,o.gZ=n,P=!0,C)return s(o.Ho,o)}),this.Z9(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=vg.zy(O),W=vg.zy(B),q=a.r3.audio&&a.r3.video?vg.Uy(a.r3.audio.v2.Hg(X),a.r3.video.v2.Hg(W)):a.r3.audio?a.r3.audio.v2.Hg(X):a.r3.video?a.r3.video.v2.Hg(W):vg.uy;if(q.vy()&&dt("Segment with no valid audio or video track detected",a.info.uri),M.video){var z=dx(M);if(w(z))dt("Segment without keyframes detected",a.info.uri),U=vg.Gy,F=vg.Gy,H=q.Ry(1.5);else{var G=M.video.bH[z].eb;U=r.Hg(bg(G.i3,v.u3)),F=r.Hg(bg(G.n3,v.u3)),H=vg.zy(G.X2-a.metadata.start)}}else U=p,F=A,H=vg.uy;var j=vg.My(H,vg.My(a.r3.audio&&a.r3.audio.v2||vg.uy,a.r3.video&&a.r3.video.v2||vg.uy));o.metadata={jQ:h,gI:r.Uw(),J9:m.Uw(),nU:k.Uw(),O6:E.Uw(),k6:S.Uw(),S4:U.Uw(),C1:F.Uw(),E6:vg.Uy(r,e).Uw(),R_:q.Uw(),dY:V,ra:j.Uw(),_Z:d&&{gI:A.Uw(),J9:p.Uw(),yI:I.Uw(),O6:R.Uw(),R_:O,c2:d.c2},gZ:l&&{gI:T.Uw(),J9:b.Uw(),yI:D.Uw(),O6:N.Uw(),R_:B,c2:l.c2,rs:v.sL.width,dp:v.sL.height},kJ:v.kJ,h3:v.h3,MZ:f,c3:u},i=null,M=null},n.Rv=function(){this.N9.Jo(),this.K9&&(this.K9.terminate(),this.K9=null)},n.wo=function(t){this.N9.Jo(t)},n.q9=function(t,n){switch(t.f9){case AP.e9:var i=n;this.N9.M9(t.v9,{initializer:wP(i.t8),m4s:wP(i.n8)});break;case AP.s9:var r=n;this.N9.M9(t.v9,(e=r,Ap?new EP(e.Mf,"base64",e.pu):new TP(e.Mf,e.pu)));break;default:0}var e},n.Y9=function(){this.K9||(this.K9=lO(this.uc.libraryLocation,"theoplayer.p.js"),this.K9.addEventListener("message",this.U9),this.K9.addEventListener("error",this.G9))},n.Z9=function(t){this.K9||this.Y9(),this.K9.postMessage(t.w9())},t}();function OP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function xP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function PP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function BP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?Gs(r[6]):void 0!==r[7]?{width:g(r[8]),height:g(r[10])}:void 0!==r[12]?g(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var LP,MP="x-";function UP(t,n,i,r){var e=t.split("@"),u=OP(n,i),s=_(e[0],10),o=e[1]?_(e[1],10):r;return{FY:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},HY:{gI:o,yI:o+s-1}}}function FP(t,n,i){var r,e,u,s,o,a=0,c=0,h=0,f=null,v=0,d=!1,w=[],m=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new MD(LD.BQ,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(w.push(T+""),xP(T,"#EXT")){if(xP(T,"#EXTINF"))h=(h=g(PP(T)))||.5;else if(xP(T,"#EXT-X-BYTERANGE"))f=PP(T);else if(xP(T,"#EXT-X-KEY"))(u=BP(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=OP(u.uri,i);else if(xP(T,"#EXT-X-DISCONTINUITY")&&!xP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(xP(T,"#EXT-X-STREAM-INF"))(e=BP(T)).jQ=c++,(b+=1)<p.length&&(e.uri=OP(p[b].trim(),i),A.streams.push(e));else if(xP(T,"#EXT-X-MEDIA")&&!xP(T,"#EXT-X-MEDIA-"))(s=BP(T)).uri&&(s.uri=OP(s.uri,i)),A.media.push(s);else if(xP(T,"#EXT-X-PROGRAM-DATE-TIME"))m=new Date(PP(T));else if(xP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.aY=!0,A.cY=_(PP(T),10);else if(xP(T,"#EXT-X-MEDIA-SEQUENCE"))a=_(PP(T),10),A.i8=!0,A.r8=a;else if(xP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=_(PP(T),10),A.hasTargetDuration=!0;else if(xP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(xP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(xP(T,"#EXT-X-MAP")){var E=BP(T),S=E.uri,R=E.byterange;o=R?UP(R,S,i,0):OP(S,i)}else if(xP(T,"#EXT-X-VERSION"))A.version=_(PP(T),10);else if(xP(T,"#EXT-X-DATERANGE")){var I=HP(T);A.dateRanges.push(I)}}else if(xP(T,"#"));else if(0!==T.length){f?k=(r=UP(f,T,i,k)).HY.yI+1:r=OP(T,i);var N,D=u&&le({},u);u&&void 0===u.iv&&(N=a%4294967295,D.iv=new y([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:h,uri:r,jQ:a,wY:d,lY:v,key:D,GZ:m,zZ:w,c3:!1,e8:o}),a+=1,h=0,f=null,d=!1,m=null,w=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].c3=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=l.min(i,o.duration),r=l.max(r,o.duration)}return{u8:i,s8:r,o8:n?t.fragments[n-1].duration:0,a8:e/n,c8:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.jQ-n.jQ})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||$e(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function HP(t){var n=BP(t),i=function(t){for(var n={},i=0,r=d.keys(t);i<r.length;i++){var e=r[i];yr(e,MP)&&(n[e.substr(MP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Cl:n.id,kY:n.class,LR:r,yY:e,R_:n.duration,TY:n["planned-duration"],SY:u,IY:i,DY:s,OY:o,PY:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(LP||(LP={}));(DP={})[LP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",DP[LP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",DP[LP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",DP[LP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",DP[LP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",DP[LP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",DP[LP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var VP=function(){function t(){}return t.prototype.Mk=function(t,n,i){return FP(t,n,i)},t}(),XP=3,WP=function(){function t(t,n,i){void 0===i&&(i=XP),this.Ab=t,this.h8=n,this.f8=i}var n=t.prototype;return n.v8=function(t,n,i){return this.d8(t,n,!0,i)},n.l8=function(t,n,i){return this.d8(t,n,!1,i)},n.d8=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this.f8)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,mu(s,e);case 6:s<1e4&&(s=l.min(2*s,1e4));case 7:a=0;case 8:if(!(a<n.length)){t.next=28;break}return c=n[a],t.prev=10,h=new Rf({rv:c,Jf:zo.ze,Zf:i,Tv:this.h8,kv:Af.GET,js:bf.sv,Av:Tf.uv,ko:e}),t.next=14,this.Ab.tv(h);case 14:return f=t.sent,t.next=17,f.xf(e);case 17:return v=t.sent,t.abrupt("return",{_8:v,g8:c,nv:f.nv});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:a++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),qP=function(){function t(t,n,i,r){this.w8=t,this.y8=n,this.m8=i,this.k8=r}var n=t.prototype;return n.p8=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.w8.WK(n.map(YC));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.A8=function(t,n){var i=ZC(t,n);return this.y8.jo(i)},n.b8=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=ZC(n,i),t.next=3,this.m8.Qo(e);case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=r.data;case 12:return t.abrupt("return",t.t2);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.pB=function(t){return this.k8.Qo(t)},t}(),zP=function(){function t(t){this.T8=t}return t.prototype.E8=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),s=0,o=this.T8;case 2:if(!(s<o.length)){t.next=17;break}return a=o[s],t.prev=4,t.next=7,a.E8(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),cu(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),GP=function(){function t(t){this.S8=t}return t.prototype.E8=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.S8.p8(n);case 2:if(!(u=t.sent)){t.next=7;break}return t.abrupt("return",{_8:u.data,g8:u.locationURL,nv:u.responseURL});case 7:throw new f("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),jP=function(){function t(t){this.R8=t}return t.prototype.E8=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.R8.v8(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.R8.l8(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function QP(t,n){return new zP([new GP(n),new jP(t)])}var YP=function(){function t(t,n,i){this.I8=t,this.N8=n,this.D8=i}var n=t.prototype;return n.E8=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.I8.E8(n,i,r,e);case 3:return u=t.sent,t.next=6,this.C8(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.C8=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.N8.VK({key:YC(n.g8),locationURL:Rr(n.g8),responseURL:Rr(n.nv),data:n._8,references:[this.D8.Cl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function ZP(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var JP=function(){function t(t,n,i){this.O8=new VP,this.uc=t,this.Ab=i;var r=this.uc&&this.uc.crossOrigin===el.h_,e=new WP(i,r,1);this.I8=QP(e,new qP(QC.Ve.ZK,QC.Ve.QK,QC.Ve.YK,QC.Ve.$K))}var n=t.prototype;return n.Ta=function(t,n,i){var r=this.bd(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.bd=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.I8.E8([n],i);case 3:return r=t.sent,n=r.nv,e=this.O8.Mk(r._8,n,ZP(n)),t.abrupt("return",{W_:e,x8:r._8});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Of)){t.next=16;break}throw new MD(LD.xQ,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof xf)){t.next=24;break}if(0!==t.t0.Hv.Yf){t.next=21;break}throw new MD(LD.PQ,{code:"MFL3900",uri:n,status:t.t0.Hv.Yf});case 21:throw new MD(LD.xQ,{code:"MFL4100",uri:n,status:t.t0.Hv.Yf});case 22:t.next=25;break;case 24:throw new MD(LD.Vl,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),$P=function(t){function n(n,i){var r;return(r=t.call(this)||this).P8=new JP(i||{},QC.Ve.ZK,n),r}M(n,t);var i=n.prototype;return i.sg=function(){void 0!==this.B8&&(a(this.B8),this.B8=void 0),this.L8&&this.L8.tv&&(this.L8=void 0)},i.M8=function(t){if(this.xJ)for(var n=0,i=this.xJ.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.U8=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.c8<3*u)?1e3*s.u8:u?1e3*u:1e4,i===n&&(e/=2),e=l.max(e-r,1e3)},i.F8=function(t){if(t.fragments.length>0)for(var n=this.M8(t.fragments[0].uri),i=n&&n.jQ||0,r=0,e=t.fragments;r<e.length;r++){e[r].jQ+=i}},i.H8=function(t,i,r,e,u,s){var a=this;if(this.L8&&r===this.L8.tv){var c=zb()-i;if(e){this.L8=void 0,this.qS=e;var h={type:"Ho",Ho:e};return this.dispatchEvent(h),u&&u(e)}this.L8=void 0;var f=s.W_,v=s.x8;f.i8||this.F8(f),t===this.V8&&(this.HJ=f),this.xJ=f;var d=n.U8(f,v,this.X8,c);f.live?f.isMasterPlaylist||(this.B8=o(function(){return a.bd(t)},d)):this.sg(),u&&u(e,s);var l={type:"W8",manifest:f,manifestText:v};this.dispatchEvent(l),this.X8=v}},i.bd=function(t,n){var i=this,r=zb(),e=t;a(this.B8),this.B8=void 0;var u=this.P8.Ta(e,{},function(e,s){return i.H8(t,r,u,e,n,s)});this.L8={tv:u,rv:t}},i.gI=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.xJ?this.xJ.uri:this.V8))&&(this.L8&&this.L8.rv===t?n&&(i=function(t){u.removeEventListener("Ho",r),u.removeEventListener("W8",i);var e=t;n(null,{W_:e.manifest,x8:e.manifestText})},r=function(t){u.removeEventListener("Ho",r),u.removeEventListener("W8",i),n(t.Ho)},this.addEventListener("Ho",r),this.addEventListener("W8",i)):(this.sg(),this.bd(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.q8=function(t){t&&(this.X8=void 0,this.HJ&&this.HJ.isMasterPlaylist?this.gI(t.uri):this.xJ&&!this.z8()&&this.gI(this.xJ.uri))},i.Rv=function(){this.sg(),this.No()},i.z8=function(){return!!this.L8||!!this.B8||!(!this.xJ||this.xJ.live)},L(n,[{key:"W_",get:function(){return this.xJ}},{key:"y$",get:function(){return this.HJ}},{key:"NK",get:function(){return this.V8},set:function(t){this.sg(),this.X8=void 0,this.HJ=void 0,this.xJ=void 0,this.V8=t}}]),n}(PD),KP=function(t){function n(n,i){var r;return(r=t.call(this)||this).uc=i,r.ll=ge(),r.V8=null,r.G8=null,r.Ab=n,r}M(n,t);var i=n.prototype;return i.gI=function(){var t=this,n=this.NK;if(n&&!this.G8){var i=new $P(this.Ab,this.uc);i.addEventListener("Ho",function(i){var r=i.Ho;t.dispatchEvent({type:"j8",Ho:r}),t.ll.has(n)&&t.dispatchEvent({type:"Ho",Ho:r,Q8:n})}),i.addEventListener("W8",function n(r){i.removeEventListener("W8",n),i===t.G8&&t.dispatchEvent({type:"Y8",W_:r.manifest})}),i.addEventListener("W8",function(i){t.ll.has(n)&&t.dispatchEvent({type:n,W_:i.manifest})}),this.G8=i,i.gI(n)}},i.Z8=function(t,n){this.J8(t),this.K8(n)},i.K8=function(t){var n,i=this;this.ll.has(t)||(t===this.NK?(this.gI(),(n=this.G8).W_&&this.dispatchEvent({type:t,W_:n.W_},!0)):((n=new $P(this.Ab,this.uc)).addEventListener("Ho",function(n){i.dispatchEvent({type:n.type,Ho:n.Ho,Q8:t})}),n.addEventListener("W8",function(n){i.dispatchEvent({type:t,W_:n.manifest})})),this.ll.set(t,n))},i.J8=function(t){if(this.ll.has(t)){var n=this.ll.get(t);n!==this.G8&&n.Rv(),this.ll.delete(t),this.removeEventListener(t)}},i.t7=function(t){if(this.ll.has(t)){var n=this.ll.get(t);n.z8()||n.gI(t)}},i.n7=function(){var t=this;this.ll.forEach(function(n,i){return t.t7(i)})},i.ml=function(){this.ll.forEach(function(t){return t.Rv()}),this.ll.clear(),this.G8&&(this.G8.Rv(),this.G8=null),this.V8=null},L(n,[{key:"NK",get:function(){return this.G8&&this.G8.W_?this.G8.W_.uri:this.V8},set:function(t){this.ml(),this.V8=t}}]),n}(PD),tB=function(t){function n(){var n;return(n=t.call(this)||this).i7=NaN,n}M(n,t);var i=n.prototype;return i.r7=function(t,n){for(var i=t.length?l.min.apply(l,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].ra=vg.zy(t[e]||0)}var u=t.length?l.max.apply(l,t):0;this.i7=u,this.dispatchEvent({type:"e7",u7:u})},i.s7=function(t,n){var i=[];if(n.length<2)return this.r7(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.o7(t))return!1;i[e]=u.ra.Hg(u.a7(r,t)).Uw()}return this.r7(i,n),!0},i.c7=function(t,n){return this.s7(t.lY,n)},i.h7=function(t,n){if(n.length<2)return this.r7([],n),!0;var i=n[0].f7(t);if(w(i))return!1;for(var r=0;r<n.length;r++){if(n[r].f7(t)!==i)return!1}return this.s7(i,n)},i.ml=function(){this.i7=NaN},i.Rv=function(){this.No()},L(n,[{key:"u7",get:function(){return this.i7}}]),n}(PD),nB=.001;function iB(t){return t.metadata.MZ.Cl+"v7"+t.metadata.jQ+"d7"+t.metadata.gI+"l7"+t.metadata.R_}var rB=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Rj=function(t,i){return new n(t,i)},i.E1=function(t,n){return!1},n}(MO);function eB(t,n){var i=new rB([n]);return t.Yw(i).LI(i)}function uB(t,n){var i=function(t,n){var i=t.nU,r=t.C1;if(!w(r)&&r===i)return!0;return!t.h3&&!!n&&n.yp.MZ===t.MZ&&i>=n.yI&&i<=n.yI+nB}(t,n);return i||!w(t.C1)?{gI:i?t.nU:t.C1,yI:t.k6,yp:t}:null}var sB=function(t){function n(n,i){var r;return(r=t.call(this)||this)._7=null,r.g7=function(){return r.w7()},r.y7=[],r.Eg=[],r.m7=new rB([]),r.k7=null,r.p7=n,r.$A=i,r}M(n,t);var i=n.prototype;return i.A7=function(t){var n=t.metadata,i=n&&n.dY;if(!i||!i.length)return T.resolve();for(var r=[],e=n.gI,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({gI:e,R_:s.duration,yI:o,jQ:s.jQ,ea:s}),e=o}var a={Cl:iB(t),gI:t.metadata.gI,J9:n.J9,nU:n.nU,b7:i[0].e3.GZ?new Date(i[0].e3.GZ.getTime()):null,R_:t.metadata.R_,yI:t.metadata.gI+t.metadata.R_,O6:n.O6,k6:n.k6,S4:n.S4,C1:n.C1,dY:r,MZ:t.metadata.MZ,B6:t.metadata.c3,h3:n.h3};return this.y7.push(a),this.T7(this.p7.A7(t),a)},i.T7=function(t,n){var i=this;return t.then(function(){if(Je(i.y7,n)){i.Eg.push(n);var t=i.k7,r=uB(n,t);r&&(i.m7=eB(i.m7,r)),i.k7=r}i.w7(),i.E7(n)}).catch(function(){Je(i.y7,n)})},i.E7=function(t){var n=t.dY[0],i=t.dY[t.dY.length-1],r=t.MZ,e=r.gY(n.jQ-1),u=tC.H_(r.ZZ);if(!e||u){var s=r.gY(n.jQ),o=this.$A.S1(s).Uw(),a=t.J9,c=l.min(o,a);c<n.gI&&this.p7.yM(c,n.gI)}for(var h=0,f=this.Eg;h<f.length;h++){var v=f[h];if(v.MZ===t.MZ){var d=v.dY[0],_=v.dY[v.dY.length-1];_.jQ+1===n.jQ&&_.yI!==n.gI?this.p7.yM(_.yI,n.gI):d.jQ-1===i.jQ&&i.yI!==d.gI&&this.p7.yM(i.yI,d.gI)}}},i.Jo=function(){this.y7.length=0,this.Eg.length=0,this.m7=new rB([]),this.k7=null},i.w7=function(){if(this.S7&&!this.S7.GO){var t=this.S7.Eg||mO;t=function(t,n){for(var i=SO(t),r=0;r<i.length;r++){var e=i[r],u=n.w1(e.yI,nB);if(u>=0){var s=n.dY(u),o=s[s.length-1],a=o.yp.O6,c=o.yp.k6;a-nB<e.yI&&e.yI<c&&(e.yI=c)}}return new yO(i)}(t,this.m7),this.Eg=this.Eg.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.gI,n.yI)>=0}),this.m7=this.m7.NI(t)}},i.Rv=function(){this.No(),this.Jo(),this.S7=null},i.R7=function(t){var n=this.I7(t);if(n)for(var i=0,r=n.dY;i<r.length;i++){var e=r[i];if(e.gI<=t&&e.yI>t)return e}return null},i.I7=function(t){for(var n=0,i=this.Eg;n<i.length;n++){var r=i[n];if(r.gI<=t&&r.yI>t)return r}return null},i.N7=function(t){for(var n=0,i=this.Eg;n<i.length;n++){var r=i[n];if(r.MZ.Cl===t.MZ.Cl)for(var e=0,u=r.dY;e<u.length;e++){if(u[e].jQ===t.jQ)return!0}}return!1},i.D7=function(){return this.C7()[0]},i.C7=function(){for(var t=this.m7,n=this.k7,i=0,r=this.y7;i<r.length;i++){var e=uB(r[i],n);e&&(t=eB(t,e)),n=e}return[t,n]},L(n,[{key:"pl",get:function(){return this.y7.length+this.Eg.length}},{key:"S7",get:function(){return this._7},set:function(t){this._7&&this._7.removeEventListener("updateend",this.g7),this._7=t,this._7&&(this._7.addEventListener("updateend",this.g7),this.w7())}}]),n}(PD);function oB(t,n,i){!function(t,n,i){for(var r=i.n2,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.D1(t,s.eb.o2).Uw(),a=0,c=s.bH;a<c.length;a++){var h=c[a];e.push(new kI(o,h))}i.zl=e}(t,n,i)}function aB(t,n){return t&&n?l.abs(t.jQ-n.jQ)<=1?vg.uy:vg.iy(n.$k-t.$k,1e3):vg.uy}var cB=function(){function t(t,n,i,r,e){this.ra=vg.uy,this.O7=!1,this.x7=null,this.wY=t,this.S6=t.MZ.dY.ZQ(n.jQ),this.Q5=this.S6,this.P7=i,this.B7=r,this.js=e||null}var n=t.prototype;return n.L7=function(){if(this.x7)return this.x7;var t=this.M7();return(t.U7||t.Ho)&&(this.x7=t),t},n.F7=function(){return{U7:!1,Ho:!1,O7:this.O7,uw:vg.Gy}},n.U7=function(t){return t.Zw()?{U7:!1,Ho:!0,O7:this.O7,uw:vg.Gy}:{U7:!0,Ho:!1,O7:this.O7,uw:t}},t}();function hB(t,n){switch(n){case"_Z":return mg(t._4)?t._4:t.VY;case"gZ":return mg(t.w4)?t.w4:t.VY;default:return t.VY}}var fB=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.M7=function(){var t=this.wY,n=t.MZ,i=n.dY,r=i.JQ(this.Q5);if(t.Vg(r)){if(this.B7&&t.H7&&eC(r)){var e=hB(r,this.js),u=t.V7(e,r.X7);return this.U7(u.Yw(this.ra))}if(this.P7&&r===t.W7){var s=t.sw.Yw(uC(r));return this.U7(s.Yw(this.ra))}this.Q5+=1;var o=aB(r,i.JQ(this.Q5));return this.O7=this.O7||o.Fw(vg.uy),this.ra=this.ra.Hg(o).Hg(uC(r)),this.F7()}return this.U7(vg.Gy)},n}(cB),vB=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.M7=function(){var t=this.wY,n=t.MZ,i=n.dY,r=i.JQ(this.Q5);if(t.Vg(r)){if(this.B7&&t.H7&&eC(r)){var e=hB(r,this.js),u=t.V7(e,r.X7);return this.U7(u.Hg(this.ra))}if(this.P7&&r===t.q7){var s=t.uw;return this.U7(s.Hg(this.ra))}this.Q5-=1;var o=i.JQ(this.Q5),a=aB(o,r);return this.O7=this.O7||a.Fw(vg.uy),this.ra=this.ra.Hg(a).Hg(uC(o)),this.F7()}return this.U7(vg.Gy)},n}(cB);var dB=function(){function t(t,n,i){this.uw=vg.uy,this.sw=vg.uy,this.q7=null,this.W7=null,this.z7=!1,this.G7=vg.Gy,this.j7=vg.Gy,this.Q7=!1,this.jQ=t,this.MZ=n,this.Y7=i}var n=t.prototype;return n.Vg=function(t){return t&&t.lY===this.jQ},n.V7=function(t,n){var i=t.Yw(this.G7).Hg(this.j7);if(void 0!==n){var r=i.Yw(n);if(r.Gw().Fw(yg)){var e=l.round(r.Uw()/wg.Uw());i=i.Yw(wg.Ry(e))}}return i},n.Z7=function(t,n){return this.J7(t),this.K7(n),this.ttt()||t===this.W7&&this.ntt()},n.J7=function(t){if(this.H7&&dg(t.m4,this.G7)>=0)return!1;var n;if(n=this.H7?this.itt(t,!0,!1):this.rtt(t,!0,!1),this.G7.Zw())this.G7=t.m4;else{var i=bg(t.m4,this.G7);this.G7=this.G7.Hg(i)}return this.j7=n,!0},n.K7=function(t){if(!t)return!1;if(this.Y7)return!1;if(!this.ett())return!1;var n=this.MZ.dY,i=this.q7,r=n.$Q(i.jQ-1);if(eC(i)&&eC(r)){var e=function(t,n,i){var r=t.D1(n,n.o3);if(!mg(i.y4)||!mg(i.w4))return r;var e,u=mg(i._4),s=pg(i.w4,i.y4);if(u){var o=kg(pg(i.w4,i._4),vg.uy);e=kg(pg(s,o),vg.uy)}else e=s;return pg(r,e)}(t,r,i);return this.Q7=!0,this.utt(e)}return!1},n.utt=function(t){if(t.Tw(this.uw))return!1;var n=t.Yw(this.uw);return this.uw=t,this.sw=this.sw.Hg(n),this.j7=this.j7.Hg(n),!0},n.ttt=function(){if(this.Y7)return!1;var t=this.W7;if(!t)return!1;var n,i=new vB(this,t,!1,!0);do{n=i.L7()}while(!n.U7&&!n.Ho&&!n.O7);if(n.U7&&!n.O7){var r=n.uw.Hg(uC(t));if(!r.Tw(this.sw))return this.sw=r,!0}return!1},n.stt=function(t){var n=!1;return n=this.K7(t)||n,n=this.ott(t)||n},n.ott=function(t){if(!t)return!1;if(this.Q7)return!1;var n=t.sw.Hg(aB(t.W7,this.q7));return this.utt(n)},n.att=function(t){var n=!1;return(!this.q7||this.q7.jQ>t.jQ)&&(this.uw=this.uw.Yw(aB(t,this.q7)),this.q7=t,n=!0),(!this.W7||this.W7.jQ<t.jQ)&&(this.sw=this.sw.Hg(aB(this.W7,t)).Hg(uC(t)),this.W7=t,n=!0),n},n.ctt=function(t){if(!this.H7||!t.H7)return vg.Gy;if(this.G7.Ww(t.G7)){var n=this.V7(t.G7,t.j7);return t.j7.Yw(n)}return t.V7(this.G7,this.j7).Yw(this.j7)},n.ett=function(){var t=this.q7;return!!t&&function(t,n){return n.lY===t&&n.wY}(this.jQ,t)},n.ntt=function(){var t=this.W7;if(!t)return!1;var n=this.MZ.dY.$Q(t.jQ+1);return function(t,n,i){return n.lY===t&&(!i||i.wY)}(this.jQ,t,n)},n.htt=function(t,n){return this.itt(t,!0,!0,n)},n.rtt=function(t,n,i){if(!this.Vg(t))return vg.Gy;var r,e=new vB(this,t,n,i);do{r=e.L7()}while(!r.U7&&!r.Ho);if(!r.U7)return vg.Gy;var u=r.uw;return u.zw(this.uw)?this.uw:u},n.itt=function(t,n,i,r){if(!this.Vg(t))return vg.Gy;var e,u,s,o,a,c=new fB(this,t,n,i,r),h=new vB(this,t,n,i,r);do{e=c.L7(),u=h.L7()}while(!(e.U7||u.U7||e.Ho&&u.Ho));if(u.U7)s=u,o=e,a=c;else{if(!e.U7)return vg.Gy;s=e,o=u,a=h}if(s.uw.zw(this.uw)){for(;!o.U7&&!o.Ho;)o=a.L7();return o.U7?vg.My(this.uw,o.uw):this.uw}if(s.O7){for(;!o.O7&&!o.U7&&!o.Ho;)o=a.L7();if(o.U7&&!o.O7&&this.uw.Ww(o.uw))return o.uw}return s.uw},n.D1=function(t,n){return this.Vg(t)&&this.H7?this.V7(n,t.X7):vg.Gy},n.C7=function(){0},L(t,[{key:"H7",get:function(){return!this.G7.Zw()}}]),t}();function lB(t,n){return n.zw(t.uw)?Y_.Bw:n.Vw(t.sw)?Y_.Lw:Y_.Pw}var _B=function(){function t(){this.ftt=new WD}var n=t.prototype;return n.$Q=function(t){return this.ftt.$Q(t)},n.JQ=function(t){return this.ftt.JQ(t)},n.dtt=function(t){var n=this.ftt.ZQ(t);return n<0?null:this.ftt.JQ(n-1)},n.L7=function(t){var n=this.ftt.ZQ(t);return n<0?null:this.ftt.JQ(n+1)},n.ltt=function(){return this.ftt.JQ(0)},n._tt=function(){var t=this.ftt.pl;return 0===t?null:this.ftt.JQ(t-1)},n.gtt=function(t){var n=this.ftt,i=this._tt();if(i&&function(t,n){return t.uw.Ww(n)&&n.zw(t.sw)}(i,t))return i;var r=KS(this.ftt.nY(),t,R,lB);return n.JQ(r)},n.Hg=function(t){var n=this.ftt.Hg(t);if(n&&!this.L7(t.jQ)){t.z7=!0;var i=this.dtt(t.jQ);i&&(i.z7=!1)}return n},n.Ea=function(t){var n=this.ftt.Ea(t);if(n&&t.z7){t.z7=!1;var i=this.dtt(t.jQ);i&&(i.z7=!0)}return n},n.eY=function(t){this.ftt.eY(t)},n.C7=function(){},L(t,[{key:"pl",get:function(){return this.ftt.pl}}]),t}();var gB=vg.zy(10),wB=function(){function t(t,n,i){this.wtt=!1,this.ytt=!1,this.mtt=new _B,this.ktt=vg.uy,this.ptt=void 0,this.Att=null,this.btt=null,this.MZ=t,this.ptt=n.liveOffset,this.Y7=i}var n=t.prototype;return n.Ttt=function(t){var n=this.MZ,i=t?t.fragments:null,r=n.dY;if(!t||!i||!i.length)return!1;this.wtt=!0;var e,u=!1;if(!this.mtt.pl){var s=r.$Q(i[0].jQ).lY,o=new dB(s,n,this.Y7);o.utt(this.ra),this.mtt.Hg(o),u=!0}if(this.btt){var a=r.ZQ(this.btt.jQ);e=a<0?0:a+1}else e=0;for(var c=e,h=r.JQ(c),f=null,v=!1;h;){var d=h.lY;if(f&&f.jQ===d||(f&&v&&this.Ett(f),f=this.mtt.$Q(d),u=u||v,v=!1),!f){f=new dB(d,n,this.Y7),this.mtt.Hg(f);var l=this.mtt.dtt(d);f.stt(l||void 0)}v=f.att(h)||v,h=r.JQ(++c)}return f&&v&&this.Ett(f),(u=u||v)&&this.Stt(),this.mtt._tt()&&this.IJ(n.dY),this.Att=r.$Q(i[0].jQ),this.btt=r.$Q(i[i.length-1].jQ),u},n.Z7=function(t){var n=this.mtt.$Q(t.lY);if(!n)return!1;this.ytt=!0;var i=this.mtt.dtt(n.jQ),r=n.Z7(t,i);return r&&this.Ett(n),r},n.Ett=function(t){for(var n=t,i=this.mtt.L7(t.jQ),r=!0;r&&i;)r=i.stt(n),n=i,i=this.mtt.L7(i.jQ)},n.Stt=function(){for(var t=!1,n=this.mtt.ltt(),i=n&&this.mtt.L7(n.jQ);n&&i;)n.sw.Fw(i.uw)&&(i.utt(n.sw),t=!0),n=i,i=this.mtt.L7(n.jQ);return t},n.Rtt=function(t){var n=this.mtt._tt(),i=t.mtt._tt();if(!this.Y7){if(n&&this.Itt(t,n.jQ))return!0;if(i&&this.Itt(t,i.jQ))return!0}return this.Ntt?!(!n||!this.Dtt(t,n.jQ))||(!(!i||!this.Dtt(t,i.jQ))||(!(!n||!this.Ctt(t,n.jQ))||(!(!i||!this.Ctt(t,i.jQ))||this.Ott(t)))):this.xtt(t)},n.xtt=function(t){var n=this.mtt.ltt(),i=t.mtt.ltt();return!(!n||!i)&&(this.ta(i.uw.Yw(n.uw)),!0)},n.Itt=function(t,n){var i=this.mtt.$Q(n);if(!i||!i.H7)return!1;var r=t.mtt.$Q(n);return!(!r||!r.H7)&&(this.ta(i.ctt(r)),!0)},n.Dtt=function(t,n){var i=this.mtt.$Q(n);if(!i||!i.ett())return!1;var r=t.mtt.$Q(n);return!(!r||!r.ett())&&(this.ta(r.uw.Yw(i.uw)),!0)},n.Ctt=function(t,n){var i=this.mtt.$Q(n);if(!i)return!1;var r=this.Ptt(i.W7.jQ);if(!r)return!1;var e=t.mtt.$Q(n);if(!e)return!1;var u=t.Ptt(e.W7.jQ);if(!u)return!1;var s=i.htt(i.W7),o=e.htt(e.W7),a=vg.Zy(r).Yw(vg.Zy(u)),c=s.Yw(o);return this.ta(a.Yw(c)),!0},n.Ott=function(t){if(!this.ytt&&!t.ytt)return!1;var n=this.mtt._tt(),i=t.mtt._tt();if(n&&n.W7&&i&&i.W7){var r=vg.iy(n.W7.$k-i.W7.$k,1e3),e=n.sw.Yw(i.sw);return this.ta(r.Yw(e)),!0}return!1},n.IJ=function(t){var n=this.mtt._tt();if(n)for(var i=n.sw,r=t.pl-1;r>=0;r--){var e=t.JQ(r);if(i=i.Yw(vg.zy(e.duration)),void 0!==e.X7){0;break}e.X7=i}},n.f7=function(t){var n=this.mtt.gtt(t);return n?n.jQ:NaN},n.S1=function(t,n){var i=this.mtt.$Q(t.lY);return i?i.htt(t,n):vg.Gy},n.R1=function(t,n){var i=this.MZ.dY.$Q(t.jQ+1);if(i){var r=this.S1(i);return r}return n.Hg(function(t){if(!t)return vg.uy;if(!eC(t))return vg.zy(t.duration);var n=t.XY||vg.uy,i=t.WY||vg.uy,r=vg.zy(t.duration);return n.vy()||i.vy()?n.vy()?i.vy()?r.vy()?r:vg.uy:i:n:vg.My(n,i)}(t))},n.D1=function(t,n){var i=this.mtt.$Q(t.lY);return i&&i.H7?i.D1(t,n):vg.Gy},n.N6=function(t,n){var i=this.MZ.dY;return i.pl?function(t,n,i,r,e){var u,s,o=t.MZ.dY,a={},c=function(n){var i=a[n];return void 0!==i?i:a[n]=t.S1(o.JQ(n),e)},h=i,f=c(h),v=r,d=c(v);if(n.zw(f))return{yp:u=o.JQ(h),Btt:f};if(n.Vw(d)&&(u=o.JQ(v)).c3)return{yp:u,Btt:d};for(;f.Ww(n)&&n.Ww(d);){var _=void 0,g=void 0,w=void 0;if(h===v?(_=h,g=f):(_=h+l.round(n.Yw(f).Uw()*(v-h)/d.Yw(f).Uw())||0,g=c(_)),g.Fw(n))d=c(v=_-1);else{if(u=o.JQ(_),!(w=(s=_)===r?c(s).Hg(uC(o.JQ(s))):c(s+1)).Ww(n))return u&&n.Ww(g.Hg(uC(u)))?{yp:u,Btt:g}:(u=o.JQ(_+1))&&{yp:u,Btt:w};h=_+1,f=w}}if(d.Ww(n)){if((u=o.JQ(v))&&n.Ww(d.Hg(uC(u))))return{yp:u,Btt:d};if(v<r&&(u=o.JQ(v+1),d=c(v+1),u&&n.zw(d)))return{yp:u,Btt:d}}return null}(this,t,0,i.pl-1,n):null},n.Ptt=function(t){var n=this.MZ.dY,i=n.ZQ(t),r=n.JQ(i),e=r,u=vg.uy;if(r.GZ)return r.GZ;for(var s=i-1;s>=0;s--){var o=n.JQ(s);if(u=u.Hg(uC(o)).Hg(aB(o,e)),o.GZ)return new Date(o.GZ.getTime()+1e3*u.Uw());e=o}return null},n.Ltt=function(t){for(var n=this.MZ.dY,i=void 0,r=0;r<n.pl;r++){var e=n.JQ(r);if(e.GZ){if(!(e.GZ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return vg.Gy;var u=vg.Zy(t).Yw(vg.Zy(i.GZ));return this.S1(i).Hg(u)},n.ta=function(t){if(!t.Tw(vg.uy))for(var n=this.mtt.pl,i=0;i<n;i++){var r=this.mtt.JQ(i);r.utt(r.uw.Hg(t))}},n.o7=function(t){var n=this.mtt.$Q(t);return n&&n.H7},n.a7=function(t,n){if(this===t)return vg.uy;var i=this.mtt.$Q(n),r=t.mtt.$Q(n);return i&&r?i.ctt(r):vg.Gy},n.C7=function(){0},L(t,[{key:"Ntt",get:function(){var t=this.MZ._Y;return!!t&&t.live}},{key:"Mtt",get:function(){var t=this.MZ._Y;return!!t&&t.isEvent}},{key:"Utt",get:function(){var t=this.Att;return t?this.S1(t):vg.uy}},{key:"Ftt",get:function(){var t=this.mtt._tt();return t?t.sw:vg.uy}},{key:"Htt",get:function(){if(!this.Ntt)return vg.uy;var t=this.Ftt.Yw(this.Vtt);return vg.My(this.Utt,t)}},{key:"Vtt",get:function(){return this.ptt&&vg.zy(this.ptt)||this.Xtt.Ry(3)}},{key:"Wtt",get:function(){return this.Ntt&&this.btt?vg.iy(zb()-this.btt.$k,1e3):vg.uy}},{key:"Xtt",get:function(){var t=this.MZ._Y;return t&&t.targetDuration?vg.zy(t.targetDuration):gB}},{key:"ra",get:function(){return this.ktt},set:function(t){var n=t.Yw(this.ktt);this.ktt=t,this.ta(n)}}]),t}(),yB=function(t){function n(n){var i;return(i=t.call(this)||this).qtt=[],i.ztt={},i.Gtt=null,i.jtt=null,i.ktt=vg.uy,i.Y7=void 0,i.Qtt=n,i}M(n,t);var i=n.prototype;return i.Ytt=function(t){return t&&this.ztt[t.Cl]||null},i.Ztt=function(t){var n=this.Ytt(t);return n||((n=new wB(t,this.Qtt,!!this.Y7)).ra=this.ktt,this.qtt.push(n),this.ztt[t.Cl]=n),n},i.Jtt=function(t){var n;switch(null===(n=this.Qtt.hls)||void 0===n?void 0:n.discontinuityAlignment){case VA.UD:return!0;case VA.FD:return!1;default:return t.isEvent||t.hasEnd}},i.Ttt=function(t,n){void 0===this.Y7&&(this.Y7=this.Jtt(n));var i=this.Ytt(this.Gtt),r=i?i.Utt:vg.uy,e=i?i.Ftt:vg.uy,u=this.Ztt(t),s=u.wtt,o=u.Ttt(n);if(!s&&u.wtt&&(u.ta(this.$tt(t)),o=!0),o=this.Ktt(u)||o,this.tnt(u,r,e)){var a=new MD(LD.WQ,{code:"MFU0166"});this.dispatchEvent({type:"Ho",Ho:a})}else this.Gtt=t,o&&this.dispatchEvent("DJ")},i.Z7=function(t,n){if(eC(n)){0;var i=this.Ztt(t),r=i.Z7(n);r=this.Ktt(i)||r,this.jtt=t,r&&this.dispatchEvent("DJ")}},i.Ktt=function(t){var n=!1,i=!1,r=this.Ytt(this.jtt);r&&(r===t?n=!0:i=(n=t.Rtt(r))||i);var e=this.Ytt(this.Gtt);return e&&e!==t&&(i=n?e.Rtt(t)||i:t.Rtt(e)||i),i},i.$tt=function(t){var n=this.Ytt(t),i=!n.Ntt,r=t._Y&&t._Y.isEvent;return i||r?vg.uy:n.Xtt.Ry(3)},i.tnt=function(t,n,i){if(!t.Ntt)return!1;var r=t.Utt,e=t.Ftt,u=vg.Uy(e,i).Yw(vg.My(r,n)),s=vg.My(t.Xtt.Ry(3),u.Cy(2));return r.Hg(s).zw(n)},i.IJ=function(t,n){var i=this.Ytt(t)||this.Ytt(this.Gtt);return i&&i.IJ(n)},i.f7=function(t){var n=this.Gtt&&this.Ytt(this.Gtt);return n?n.f7(t):NaN},i.nnt=function(t,n){var i=t.gY(n);return this.S1(i)},i.S1=function(t){if(!t)return vg.Gy;var n=this.Ytt(t.MZ)||this.Ytt(this.Gtt);return n?n.S1(t):vg.Gy},i.R1=function(t,n){if(!t)return vg.Gy;var i=this.Ytt(t.MZ)||this.Ytt(this.Gtt);return i?i.R1(t,n):vg.Gy},i.D1=function(t,n){if(!t||!n)return vg.Gy;var i=this.Ytt(t.MZ)||this.Ytt(this.Gtt);return i?i.D1(t,n):vg.Gy},i.N6=function(t,n,i){var r=this.Ytt(t);if(!r)return null;var e=r.N6(n,i);return e?{yp:e.yp,Btt:e.Btt}:null},i.Ptt=function(t,n){var i=this.Ytt(t)||this.Ytt(this.Gtt);return i?i.Ptt(n):null},i.Ltt=function(t,n){var i=this.Ytt(t)||this.Ytt(this.Gtt);return i?i.Ltt(n):vg.Gy},i.o7=function(t){return void 0!==this.int(t)},i.a7=function(t,n){if(this===t)return vg.uy;var i=this.int(n),r=t.int(n);return i&&r?i.a7(r,n):vg.Gy},i.int=function(t){return Ye(this.qtt,function(n){return n.o7(t)})},i.Rv=function(){this.No(),this.qtt.length=0,this.ztt={},this.Gtt=null,this.jtt=null,this.ktt=vg.uy},i.C7=function(){0},L(n,[{key:"rnt",get:function(){return this.Utt.Yw(this.Xtt.Ry(3))}},{key:"Vtt",get:function(){var t=this.Qtt.liveOffset;return vg.zy(t||3*this.Xtt.Uw())}},{key:"Ntt",get:function(){var t=this.Ytt(this.Gtt);return!!t&&t.Ntt}},{key:"Ug",get:function(){return this.Gtt?new yO([{gI:this.Utt.Uw(),yI:this.Ftt.Uw()}]):mO}},{key:"Utt",get:function(){if(!this.Gtt)return vg.uy;var t=this.Ytt(this.Gtt);return t.Mtt?t.Utt:t.Utt.Hg(t.Wtt)}},{key:"Ftt",get:function(){if(!this.Gtt)return vg.uy;var t=this.Ytt(this.Gtt);return t.Ftt.Hg(t.Wtt)}},{key:"Htt",get:function(){if(!this.Gtt)return vg.uy;var t=this.Ytt(this.Gtt);return t.Htt.Hg(t.Wtt)}},{key:"Xtt",get:function(){return this.Gtt?this.Ytt(this.Gtt).Xtt:gB}},{key:"ra",get:function(){return this.ktt},set:function(t){if(!this.ktt.Tw(t)){this.ktt=t;for(var n=0,i=this.qtt;n<i.length;n++){i[n].ra=t}this.dispatchEvent("DJ")}}}]),n}(PD),mB=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.$tt=function(t){return vg.uy},n}(yB),kB=.25,pB=1/60;function AB(t,n){return K_(t,n,pB)}var bB,TB=function(t,n,i){this.ent=NaN,this.unt=NaN,this.snt=0,this.MZ=t.MZ,this.uw=n,this.sw=i,this.R_=i-n,this.yp=t},EB=function(t,n,i){this.ent=NaN,this.unt=NaN,this.snt=0,this.MZ=t,this.uw=n,this.sw=i,this.R_=i-n};function SB(t){return!(!t||!t.yp)}function RB(t,n,i){return r=n,e=i,u=t.uw,s=t.sw,AB(r,s)<=0&&AB(u,e)<=0;var r,e,u,s}function IB(t,n){return AB(t.uw,n)<=0?t.sw:t.uw}function NB(t,n,i){return(t-n)/i-kB}function DB(t,n){return n.Yw(t).LI(t)}function CB(t,n){var i=l.min(pB,t.R_/2);return n.HI(t.uw,t.sw,i)}function OB(t,n){var i=n.l1(t);return-1===i?t:n.end(i)}function xB(t){return t.unt<=t.ent}function PB(t,n){if(!xB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.snt+n.unt>r.ent)return!1}return!0}function BB(t,n){for(var i=0;i<t.length;i++){t[i].snt+=n.unt}n.snt=n.unt,t.push(n)}!function(t){t[t.ont=0]="ont",t[t.ant=1]="ant",t[t.cnt=2]="cnt",t[t.r9=3]="r9"}(bB||(bB={}));var LB=function(){function t(t,n,i,r){this.hp=t,this.$A=n,this.hnt=i,this.fnt=r,this.vnt=QC.Ve.ZK,this.T0=QC.Ve.YK}var n=t.prototype;return n.dnt=function(){return this.hnt.dZ.reduce(function(t,n){return l.max(t,n._Y&&n._Y.targetDuration||0)},0)},n.lnt=function(t,n){void 0===n&&(n=this.$A.S1(t).Uw());var i=this.$A.R1(t,vg.zy(n));return new TB(t,n,i.Uw())},n._nt=function(t,n){var i=t.dY.JQ(n);return i&&this.lnt(i)||null},n.gnt=function(t){var n=t.MZ,i=n.dY.ZQ(t.jQ);return i>=0&&this._nt(n,i-1)||null},n.wnt=function(t){var n=t.MZ,i=n.dY.ZQ(t.jQ);return i>=0&&this._nt(n,i+1)||null},n.ynt=function(t,n){var i=this.$A.N6(t,vg.zy(n));return i&&this.lnt(i.yp,i.Btt.Uw())||null},n.mnt=function(t){var n=t.dY.pl-1;return n>=0&&this._nt(t,n)||null},n.knt=function(t,n,i){var r=t._Y&&t._Y.targetDuration||this.dnt()||10,e=l.max(0,n-r),u=e+r;return i&&RB(i,e,u)&&(u=(e=i.sw)+r),new EB(t,e,u)},n.pnt=function(t,n,i){var r=this.fnt.b5,e=.8*this.fnt.T5,u=(n.bandwidth||0)*t.R_;return i&&i.RK?((u=8*i.X0||u)-8*i.V0)/e:r+u/e},n.Ant=function(){for(var t=this.fnt.K4(this.hp),n=this.fnt.C4(this.hp),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.bnt=function(t,n){var i=n.filter(function(n){return n.MZ===t});return FO(this.$A,i).b1()},n.Tnt=function(t){return"audio"===this.hp&&t?[t]:this.hnt.dZ},n.Ent=function(t){for(var n=new UO([]),i=new UO([]),r=this.Ant(),e={Snt:{},Rnt:{},Int:{},Nnt:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this.bnt(s,r),a=WO(this.$A,o);e.Snt[s.Cl]=o,e.Rnt[s.Cl]=a,e.Int[s.Cl]=n=DB(n,o),e.Nnt[s.Cl]=i=DB(i,a)}return e},n.Dnt=function(t,n,i,r,e){for(var u,s,o,a,c=[],h=0;h<r.length;h++)for(var f=e[r[h].Cl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({gI:d,yI:l})}return 0===(u=AO(u=pO(new yO(c)),new yO([{gI:t,yI:n}]))).length||AB(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),a=n,AB(s,t)<=0&&AB(a,o)<=0)?NaN:u.end(0)},n.Cnt=function(t,n,i){var r=null,e=i.Snt[t.Cl],u=i.Int[t.Cl],s=i.Nnt[t.Cl],o=u.l1(n);if(-1!==o){for(var a=l.max(n,u.start(o)),c=u.end(o),h=new yO([{gI:a,yI:c}]),f=u.NI(h).Yw(s),v=0;v<f.length;v++){var d=f.start(v),_=f.dY(v)[0];if(_.yp.MZ===t){if(r=this.gnt(_.yp))return r}else{for(r=this.ynt(t,d);r&&CB(r,e);)r=this.gnt(r.yp);if(r)return r}}var g=u.dY(o),w=g[g.length-1];if(w.yp.MZ===t&&(r=this.wnt(w.yp)))return r}var y=this.mnt(t);if(!y||AB(y.sw,n)<=0){if(!y||!y.yp.c3)return r=this.knt(t,n,y);r=y}for(r||(r=this.ynt(t,n));r&&CB(r,u);)r=this.wnt(r.yp);return r},n.Ont=function(t,n){var i=this.mnt(t);return i&&i.yp.c3&&AB(i.sw,n)<=0?i:this.ynt(t,n)},n.xnt=function(t,n,i,r,e,u,s,o){var a=t.MZ,c=s.Int[a.Cl],h=!CB(t,c),f=h?n:IB(t,r);t.ent=NB(f,r,u),t.unt=this.pnt(t,a);var v=o&&this.lnt(o);if(v&&!CB(v,c)){var d=IB(v,r);if(v.ent=NB(d,r,u),v.unt=this.pnt(v,a,i&&i.A0),xB(v)&&(!h||function(t,n){var i=[];return!!PB(i,n)&&(BB(i,n),!(!SB(t)||!SB(n)||t.yp!==n.yp)||!!PB(i,t))}(t,v)))return v}if(h&&!xB(t))return null;var l=this.Pnt(t,r,e,u,c);return l.length&&l[l.length-1]||null},n.Pnt=function(t,n,i,r,e){for(var u=[],s=t.MZ,o=t;o&&n<o.sw&&i<=o.uw;){if(!CB(o,e)){if(w(o.ent)){var a=IB(o,n);o.ent=NB(a,n,r),o.unt=this.pnt(o,s)}PB(u,o)&&BB(u,o)}o=SB(o)&&this.gnt(o.yp)}return u},n.Bnt=function(t,n){return t.uw<n?{xl:bB.cnt}:SB(t)?{xl:bB.ont,yp:t.yp,uw:t.uw}:{xl:bB.ant,MZ:t.MZ}},n.Y4=function(t){if(rC(t.uri)){var n=t.uri,i=ZC(n.FY,[n.HY.gI,n.HY.yI]);return this.T0.jo(i)}var r=ZC(t.uri);return this.T0.jo(r)},n.Lnt=function(t){return this.vnt.jo(t.uri)},n.Mnt=function(){var t=T.coroutine(de.mark(function t(n,i,r,e,u,s,o,a,c){var h,f,v,d,l,_,g,y,m,k,p,A,b;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.Tnt(e),f=this.Ent(h),v=this.$A.rnt.Uw(),d=this.Dnt(n,i,u,h,f.Rnt),g=null,m=!1,!w(d)){t.next=3;break}return t.abrupt("return",{xl:bB.r9});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{xl:bB.cnt});case 5:k=a.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=a[k],_=OB(d,f.Rnt[l.Cl]),!(g=this.Cnt(l,_,f))){t.next=24;break}if(p=!1,!SB(g)){t.next=18;break}return t.next=15,this.Y4(g.yp);case 15:p=t.sent,t.next=22;break;case 18:if(l.$Z){t.next=22;break}return t.next=21,this.Lnt(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.Bnt(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+kB&&c.length)){t.next=33;break}if(l=c[0],_=OB(d,f.Rnt[l.Cl]),!(g=this.Cnt(l,_,f))){t.next=33;break}return t.abrupt("return",this.Bnt(g,v));case 33:A=c.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=c[A],_=OB(d,f.Rnt[l.Cl]),(g=this.Cnt(l,_,f))?y=g:(m=!0,y=this.Ont(l,_)),!y){t.next=45;break}if(!(b=this.xnt(y,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.Bnt(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{xl:bB.r9});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.Bnt(g,v));case 52:if(a.length){t.next=54;break}return t.abrupt("return",{xl:bB.r9});case 54:if(l=a[0],_=OB(d,f.Rnt[l.Cl]),!(g=this.Cnt(l,_,f))){t.next=61;break}return t.abrupt("return",this.Bnt(g,v));case 61:return t.abrupt("return",{xl:bB.r9});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,a,c){return t.apply(this,arguments)}}(),t}(),MB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).Unt=i,o.Fnt=r,o.kA=e,o.hp=u,o.bv=s,o}return M(n,t),n}(Su),UB=function(t){function n(n,i,r,e,u){return t.call(this,qo.sh,n,i,r,e,u)||this}return M(n,t),n}(MB),FB=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,qo.ah,n,i,r,e,u)||this).Hnt=s,a.xg=o,a}return M(n,t),n}(MB),HB=vg.zy(.1),VB=function(t){function n(n){var i;return(i=t.call(this)||this).Vnt=[],i.TJ=n,i}M(n,t);var i=n.prototype;return i.Xnt=function(t,n,i){var r=this.Wnt(t),e=this.qnt(r);this.znt(e,n,i)},i.Wnt=function(t){if(0===t.length)return[];for(var n=t[0].h6,i=this.Gnt(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.h6&&(n=u.h6,i=this.Gnt(u)),r.push(le(le({},u),{jnt:u.o2.Hg(i)}))}return r},i.Gnt=function(t){var n=this.TJ.D1(t.h6,t.o2),i=n.Yw(t.o2);return bg(n,t.o2).Yw(i)},i.qnt=function(t){var n,i,r,e,u,s=t.slice().sort(XB),o=this.Vnt;if(o.length)if(s.length){var a=1/s[0].h6.bJ,c=s[0].jnt,h=o[0].jnt,f=o[o.length-1].jnt,v=(e=o[0].h6,u=s[0].h6,e.MZ===u.MZ);if(f.Yw(c).zw(vg.zy(2.5*a))&&v)n=o.concat(s).sort(XB);else if(c.Vw(h)){for(var d=0;d<o.length&&o[d].jnt.zw(c);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<s.length;g++,w++)i=o[g],r=s[w],i.o2.Tw(r.o2)&&i.js===r.js&&i.nG===r.iG?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(XB):y?n=o.slice(0,d).concat(s):(n=s,m&&this.ml())}else n=s,this.ml()}else n=o;else n=s;return n},i.znt=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Yw(r.jnt),u=bg(n,r.jnt).Yw(e),s=n.Hg(u),o=HB.Fy(s.Py),a=0;a<t.length;a+=1){var c=t[a];if(!i&&s.Yw(c.jnt).zw(o))return void(this.Vnt=t.slice(a));var h=this.TJ.D1(c.h6,c.o2);this.$z(h,c)}this.Vnt=[]}},n}(rD);function XB(t,n){return(t.h6===n.h6?dg(t.o2,n.o2):dg(t.jnt,n.jnt))||J_(t.kA,n.kA)}var WB=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).Qnt=!1,f.Ynt=!1,f.Znt=!1,f.Jnt=!1,f.$nt=!1,f.Knt=null,f.PJ=void 0,f.tit=void 0,f.nit=null,f.sw=-1,f.iit=null,f.rit=!1,f.eit=!1,f.uit=1/0,f.sit=void 0,f.oit=null,f.ait=0,f.bo=function(t){f.dispatchEvent(t)},f.cit=function(){!f.Znt&&!f.Jnt&&f.hit&&f.Qnt&&(f.Jnt=f.fit("_Z",f.vit,function(){f.Jnt=!1}))},f.dit=function(){!f.Znt&&!f.$nt&&f.lit&&f.Ynt&&(f.$nt=f.fit("gZ",f._it,function(){f.$nt=!1}))},f.git=function(t){return f.wit()},f.yit=function(t){if(t.hp===f.hp){var n=t.h6,i=n.r3;i.Q1&&f.mit(i.Q1,n.info),i.i2&&f.kit(i.i2,n.info),f.wit(f.M4.V4,!0)}},f.b$=function(t){var n=t;f.pit(n.pJ,n.MZ)},f.Ait=function(t){if(f.nit)for(var n=0;n<f.nit.Mp;n++){var i="CC"+(n+1);f.rK.KJ(i,t.cue.uw,t.cue.sw)}f.rK.JJ(t.cue)},f.fN=c,f.rK=i,f.bit=r,f.fnt=e,f.Tit=u,f.p7=s,f.Jp=o,f.M4=h,f.$A=new yB(o),f.Eit=f.Sit(i),e.gl(n,f.$A,f.p7),f.vit=new sB(s,f.$A),f._it=new sB(s,f.$A),f.nit=f.Rit(f.$A),f.Iit=new LB(n,f.$A,f.Eit,e),e.addEventListener("c6",f.yit),f.$A.addEventListener("Ho",f.bo),i.addEventListener("d$",f.b$),f}M(n,t);var i=n.prototype;return i.fit=function(t,n,i){var r=this,e=this.p7.q4,u=5*this.p7.O_,s=this.Nit(),o="audio"===this.hp?[this.Dit]:this.Eit.dZ,a=n.C7(),c=a[0],h=a[1],f=this.fnt.P6(this.hp,t,this.$A,o,c,h||void 0,e,u,s);return f&&!f.length&&f.A6?(this.p7.Cit("_Z"===t,"gZ"===t),!1):!(!f||!f.length)&&(this.Tit.m9(this.hp,this.rK,f,f.b6,f.nU,f.A6,function(t,e){if(i(),t)r.dispatchEvent({type:"Ho",Ho:t});else{var u=e;n.A7(u).then(function(){return r.dispatchEvent("vK")}).catch(function(t){0})}}),!0)},i.Oit=function(){this.Tit.wo(this.hp),this.Jnt=!1,this.$nt=!1},i.xit=function(){var t=this.p7.q4,n=this.vit.R7(t)||this._it.R7(t);!n||this.Knt&&this.Knt.jQ===n.jQ||(this.wit(this.M4.V4),this.Knt=n,this.dispatchEvent({type:"Pit",eb:this.Knt.ea.e3}))},i.Bit=function(){this.Lit()},i.Mit=function(){this.Bit()},i.Uit=function(){this.wit(this.M4.V4)},i.Fit=function(t,n){this.vit.R7(t)||this._it.R7(t)||(this.Knt=null)},i.Hit=function(t){var n=!1;this.vit.D7().Vg(t)||(this.cit(),n=!0),this._it.D7().Vg(t)||(this.dit(),n=!0),n&&this.wit(this.M4.V4,!0)},i.Vit=function(){this.vit.Jo()},i.Xit=function(){this._it.Jo()},i.Nit=function(){return 0===this.vit.pl+this._it.pl?0:"w6"===this.Jp.y6?0:1*this.fnt.X4},i.Lit=function(){this.cit(),this.dit()},i.J$=function(t){return-1!==this.Eit.dZ.indexOf(t)},i.Wit=function(t){t&&this.J$(t)&&(this.SJ(t),this.f$(t))},i.SJ=function(t){this.$A.Ttt(t,t._Y)},i.f$=function(t){var n=this;if(t&&t._Y&&this.Jp.hlsDateRange){this.rK.f$(t._Y.dateRanges,function(i){return n.$A.Ltt(t,i).Uw()})}},i.qit=function(t){this.J$(t.MZ)&&this.$A.Z7(t.MZ,t)},i.zit=function(t){var n,i,r,e=t,u=this.vit.R7(e)||this._it.R7(e);if(u)i=u.ea.quality,r=u.jQ,n=u.gI;else{var s=this.Dit;if(!s)return null;var o=this.$A.N6(s,vg.zy(e));if(!o)return null;i=s,r=o.yp.jQ,n=o.Btt.Uw()}var a=this.$A.Ptt(i,r);if(!a)return null;var c=e-n;return new Date(a.getTime()+1e3*c)},i.Ltt=function(t){var n=this.Dit;return this.$A.Ltt(n,t).Uw()},i.wit=function(t,n){var i=this,r=this.Git(),e=this.p7.q4;t&&(this.sw=e+t,n&&(this.oit=null,this.ait=0)),this.Git()||e>=this.sw?this.jit(r):this.iit||this.rit||!this.Dl||(this.Qit(),this.Yit(function(t){return i.Zit(e,i.p7.O_,t)}))},i.Jit=function(t){t&&this.bit.removeEventListener(t.uri,this.git)},i.$it=function(t){t&&this.bit.addEventListener(t.uri,this.git)},i.Git=function(){return-1===this.sw},n.Kit=function(t){return tC.H_(t.MZ.ZZ)&&zb()-t.$k>2e3*t.MZ._Y.metadata.c8},i.Yit=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.iit=new uu,r=this.iit,t.prev=3,t.next=6,n(r.ko);case 6:i=t.sent,au(r.ko),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),hu(t.t0);case 13:return t.prev=13,this.iit===r&&(this.iit=null),t.finish(13);case 16:i&&this.wit();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Qit=function(){this.iit&&(this.iit.wo(),this.iit=null)},i.trt=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.nrt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!YB.Kit(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("irt"));case 2:if(i=l.min(16e3,1e3*l.pow(2,this.ait)),this.ait+=1,this.Qit(),!(this.ait>2)){t.next=8;break}return n.MZ.FZ(!1),t.abrupt("return",n.MZ.WZ());case 8:this.Yit(function(t){return mu(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mit=function(t,n){var i,r;r=mC((i=t).Y1,4),i.ZJ="0000.0000.0000."+r,function(t){var n=mC(t.Z1,4),i=mC(t.J1,3),r=mC(t.K1,2*t.J1);t.Xl=(n+i+r).toUpperCase()}(t),oB(n,this.$A,t),this.rK.YJ(t,this.$A)},i.kit=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(le(le({},e),{h6:n}))}this.nit&&this.nit.Xnt(i,n.T4,n.c3)},i.rrt=function(t){this.sit&&this.sit.h6===t&&this.wit()},i.ert=function(t,n){if(n){if(n.aborted)return;if(this.oit===t)return this.nrt(t)}else t.MZ.FZ(!0);return this.wit()},i.urt=function(t){var n=cC(t.MZ.pJ);n&&this.dispatchEvent(new UB(iC(t.uri),t.MZ.bandwidth||0,t.jQ,t.MZ.jQ,n))},i.ort=function(t,n){var i=this.sit&&this.sit.tv.B0||200,r=cC(t.MZ.pJ);r&&this.dispatchEvent(new FB(iC(t.uri),t.MZ.bandwidth||0,t.jQ,t.MZ.jQ,r,i,n&&n.A0.V0||0))},i.jit=function(t){this.sw=-1,t||this.dispatchEvent("art")},i.crt=function(t){this.eit=!0,this.jit(t),this.dispatchEvent("IK")},i.Zit=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(r),e=this.Dit,u=this.Git(),this.Jit(e||void 0),!(n>=this.sw)){t.next=7;break}return this.jit(u),t.abrupt("return",!1);case 7:return t.next=9,this.Iit.Mnt(n,this.sw,i,e||void 0,this.Nit(),this.sit&&this.sit.tv,this.sit&&this.sit.h6,this.hrt,this.frt);case 9:if(s=t.sent,il.r_(this.fnt.T5/8),au(r),s.xl!==bB.cnt){t.next=18;break}return this.Qit(),this.dispatchEvent("irt"),t.abrupt("return",!1);case 18:if(s.xl!==bB.ant){t.next=29;break}if(s.MZ!==e){t.next=24;break}return this.$it(e),t.abrupt("return",!1);case 24:return t.next=26,this.trt(s.MZ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.xl!==bB.r9){t.next=33;break}return this.$it(e||void 0),!tC.H_(e.ZZ)&&e._Y&&this.crt(u),t.abrupt("return",!1);case 33:if(o=s.yp,!this.sit||this.sit.h6!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.MZ===e){t.next=40;break}return t.next=39,this.trt(o.MZ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.sit&&(this.sit.tv.wo(),this.sit=void 0),!(s.uw>this.uit)){t.next=46;break}return this.crt(u),t.abrupt("return",!1);case 46:if(!(s.uw>this.sw)){t.next=49;break}return this.jit(u),t.abrupt("return",!1);case 49:if(this.eit=!1,this.sit=void 0,o!==this.oit&&(this.ait=0),this.oit=o,this.dispatchEvent("RK"),this.urt(o),!o.e8){t.next=59;break}return t.next=58,this.fnt.s6(this.hp,String(o.MZ.Cl),o.e8);case 58:a=t.sent;case 59:return(c=this.fnt.a6(this.hp,o,a,function(t,n){h.Qit(),h.ort(o,n),h.sit=void 0,r&&r.uo||h.ert(o,t)}))&&(this.sit={h6:o,tv:c},c.addEventListener("vK",function(){r&&r.uo||h.rrt(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.vrt=function(t){this.wit(t||this.M4.V4,!0)},i.drt=function(){var t=this.Git();this.sw=-1,this.sit&&this.sit.tv.wo(),this.sit=void 0,this.Jit(),this.eit=!1,this.oit=null,this.ait=0,this.Qit(),this.jit(t),this.nit=this.Rit(this.$A)},i.lrt=function(){this.rit=!0,this.Jit(),this.Qit()},i._rt=function(){this.rit=!1,this.wit()},i.grt=function(){this.Znt=!0},i.wrt=function(){this.Znt=!1,this.Lit()},i.Rv=function(){this.No(),this.drt(),this.Oit(),this.hit=null,this.lit=null,this.vit.Rv(),this._it.Rv(),this.Tit.wo(this.hp),this.$A.Rv(),this.rK.removeEventListener("d$",this.b$),this.fnt.removeEventListener("c6",this.yit),this.Eit=null,this.yrt()},i.ml=function(){this.Knt=null,this.PJ=void 0,this.tit=void 0,this.yrt(),this.nit=this.Rit(this.$A)},i.Rit=function(t){var n=new VB(t);return n.So("pz",this.Ait),n},i.yrt=function(){this.nit&&(this.nit.Do("pz",this.Ait),this.nit.Rv(),this.nit=null)},L(n,[{key:"S_",get:function(){return this.p7.q4}},{key:"mrt",get:function(){return this.Qnt}},{key:"hp",get:function(){return this.krt()}},{key:"$Z",get:function(){return this.prt()}},{key:"hrt",get:function(){return this.Art()}},{key:"frt",get:function(){return this.brt()}},{key:"hit",get:function(){return this.vit.S7},set:function(t){var n=this.vit.S7;n&&n.removeEventListener("updateend",this.cit),this.vit.S7=t,t&&(t.addEventListener("updateend",this.cit),this.cit())}},{key:"lit",get:function(){return this._it.S7},set:function(t){var n=this._it.S7;n&&n.removeEventListener("updateend",this.dit),this._it.S7=t,t&&(t.addEventListener("updateend",this.dit),this.dit())}},{key:"art",get:function(){return this.Git()}},{key:"IK",get:function(){return this.eit}},{key:"Trt",get:function(){return this.uit},set:function(t){this.uit=t}},{key:"Dit",get:function(){return this.Ert()}},{key:"Srt",get:function(){return this.Rrt()},set:function(t){this.Irt(t)}},{key:"Dl",get:function(){return this.EM()}},{key:"Bg",get:function(){return this.Nrt()}}]),n}(PD);function qB(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function zB(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){qB(r,n[u])&&(e=!0)}e||n.push(r)}return n}function GB(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var jB=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Drt=null,o.Crt=null,o.Ort=null,o.xrt=null,o.Prt=null,o.Brt=null,o.Lrt=null,o.Mrt=!1,o.Xg=!0,o.pZ=!0,o.Urt=null,o.Frt=function(){o.Urt&&o.Urt.disabled&&o.Hrt(o.Jp.initialRendition||"default"),o.Vrt(!0)},o.Xrt=function(){var t=o.rK.k$.lZ.some(function(t){return t.Bg});o.Wrt(t)},o.qrt=function(t){"variant"===t.hp&&(o.fnt.removeEventListener("_6",o.qrt),o.Urt&&(o.Urt=null,o.Vrt(!1)))},o.fN=s,o.rK=n,o.$A=i,o.fnt=r,o.Jp=e,o.zrt=e.Grt||[],o.jrt=new JP(e,QC.Ve.ZK,u),o.Drt=null,o.fnt.addEventListener("_6",o.qrt),o.Qrt(),o.Yrt(),o.Hrt(e.initialRendition||"default"),o}M(n,t);var i=n.prototype;return i.Zrt=function(t,n){var i=sC(t);if(i&&!i.disabled)return i;var r=this.Jrt(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.jQ<=n.jQ?t:n});case"high":var e=zB(r);return e[e.length-1];case"low":default:return zB(t)[0]}},i.$rt=function(t,n){var i=this.Krt||this.Urt&&[this.Urt],r=i&&i.filter(function(n){return Ke(t,n)});return r&&r.length>0?zB(r):zB(this.Jrt(t,n))},i.Jrt=function(t,n){var i=this.Jp,r=this.zrt,e=this.tet();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].net(t,n,e,i))return!1}return!0})},i.iet=function(t,n){var i=this.$rt(t,n);return i.length?i[i.length-1]:t[0]},i.ret=function(t,n){var i=this.Krt;return i&&i.length>0?i.filter(function(n){return Ke(t,n)}):t},i.eet=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.xrt,e=this.Prt,!r||n!==this.Brt||i!==this.Lrt){t.next=4;break}return t.abrupt("return",r);case 4:return u=new uu,s=this.uet(n,i,u.ko),r&&e&&e.wo(),this.xrt=s,this.Prt=u,this.Lrt=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.xrt&&(this.xrt=null,this.Prt=null,this.Lrt=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.uet=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.rK,u=this.$A,s=e.m$,t.next=5,this.oet(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.nnt(s,i.jQ),a=u.N6(n,o),tC.H_(s.ZZ)||a){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.oet=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Crt,e=this.Ort,!r||n!==this.Brt){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new uu).yo(i),s=this.aet(n,u.ko),r&&e&&e.wo(),this.Crt=s,this.Ort=u,this.Brt=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.Crt&&(this.Crt=null,this.Ort=null,this.Brt=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.aet=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.rK,e=r.m$,!this.Dl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.cet(n)){t.next=8;break}u=n._Y,t.next=22;break;case 8:return t.prev=8,t.next=11,this.jrt.Ta(n.uri,{});case 11:s=t.sent,au(i),u=s.W_,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.BZ(!1),n.WZ(),t.abrupt("return",!1);case 21:n.CZ(u,e);case 22:if(!GB(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.cet=function(t){var n=t._Y;return!n||!!n.live&&(!t.dY.pl||t.dY.JQ(t.dY.pl-1).$k+1e3*n.targetDuration<zb())},i.Qg=function(t){t?this.Xg||(this.Xg=!0,this.dispatchEvent("Dl")):this.Xg&&(this.Xg=!1)},i.Wrt=function(t){t&&!this.pZ?(this.pZ=!0,this.dispatchEvent("Bg")):!t&&this.pZ&&(this.pZ=!1,this.dispatchEvent("xv"))},i.Vrt=function(t){var n=this,i=this.rK,r=i.m$,e=i.k$.lZ,u=this.ret(e,r),s=this.iet(u,r);s?this.eet(s,null).then(function(r){r&&(i.t$(s,t),n.Qg(!0))}):this.Qg(!1)},i.het=function(){this.Urt=null,this.Vrt(!0)},i.Yrt=function(){this.rK.k$.addEventListener("hZ",this.Xrt)},i.fet=function(){this.rK.k$.removeEventListener("hZ",this.Xrt)},i.Qrt=function(){this.rK.k$.addEventListener("aZ",this.Frt)},i.vet=function(){this.rK.k$.removeEventListener("aZ",this.Frt)},i.Hrt=function(t){var n=this.rK,i=n.k$.lZ;if(Boolean(n.m$&&!n.m$.disabled))this.Urt=null;else{if(i&&i.length){var r;switch(this.fN.Gx.type){case WT.PERFORMANCE:r="low";break;case WT.QUALITY:r="high";break;case WT.BANDWIDTH:r=t}this.Urt=this.Zrt(i,r),this.Mrt=!0}var e=this.ret(i,null),u=this.iet(e,null);u&&(n.m$=u)}},i.tet=function(){return this.Mrt?{T5:this.fnt.T5}:{T5:this.fN.nP}},i.wo=function(){this.xrt&&this.Prt&&(this.Prt.wo(),this.xrt=null,this.Prt=null,this.Lrt=null),this.Crt&&this.Ort&&(this.Ort.wo(),this.Crt=null,this.Ort=null,this.Brt=null)},i.Rv=function(){this.fnt.removeEventListener("_6",this.qrt),this.vet(),this.fet(),this.wo(),this.Drt=null,this.Urt=null},i.det=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.rK,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.eet(n,i);case 5:return(e=t.sent)&&(r.m$=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),L(n,[{key:"Dl",get:function(){return this.Xg}},{key:"Bg",get:function(){return this.pZ}},{key:"frt",get:function(){var t=this.rK,n=t.m$,i=this.ret(t.k$.lZ,n);return this.$rt(i,n)}},{key:"hrt",get:function(){return this.ret(this.rK.k$.lZ,this.rK.m$)}},{key:"Krt",get:function(){return this.Drt},set:function(t){this.Drt=t,this.het()}}]),n}(PD),QB=function(){function t(t,n){this.let=-1,this.qd=t,this.$A=n}return t.prototype.Sa=function(t){for(var n=t.dY,i=n.ZQ(this.let),r=i<0?0:i+1;r<n.pl;r++){var e=n.JQ(r);if(e.jQ>this.let){var u=this.$A.S1(e),s=this.$A.R1(e,u),o=new V_(u.Uw(),s.Uw(),[].concat(e.zZ),!1);o.Cl=""+e.jQ,this.qd.Sb(o),this.let=e.jQ}}},t}(),YB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,$D.tZ,n,i,r,e,u,s,o,a,c)||this)._et=null,h.wet=null,h.yet=new jB(n,h.$A,r,s,o,a),h.yet.addEventListener("Dl",h.bo),h.yet.addEventListener("Bg",h.bo),h.yet.addEventListener("xv",h.bo),s.manifestMetadataTrack&&(h._et=n.QJ("",h.$A,""),h.wet=new QB(h._et,h.$A)),h.Qnt=!h.rK.a$||!h.rK.a$.uri,h.Ynt=Boolean(h.rK.m$),h}M(n,t);var i=n.prototype;return i.pit=function(t,n){if("_Z"===t){var i=n?n.uri:void 0;this.Qnt=!i}},i.krt=function(){return $D.tZ},i.prt=function(){return this.Dit&&this.Dit.$Z||!1},i.Ert=function(){return this.rK.m$},i.Art=function(){return this.yet.hrt},i.brt=function(){return this.yet.frt},i.Rrt=function(){var t=this.yet.Krt;return t&&t.map(function(t){return t.Cl})},i.Irt=function(t){if(t&&t.length>0){var n=this.Eit.dZ.filter(function(n){return-1!==t.indexOf(n.Cl)});if(!(n.length>0))return void 0;this.yet.Krt=n}else this.yet.Krt=null},i.EM=function(){return this.yet.Dl},i.Nrt=function(){return this.yet.Bg},i.trt=function(){var n=T.coroutine(de.mark(function n(i,r){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.yet.det(i,r);case 2:return n.abrupt("return",t.prototype.trt.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.drt=function(){t.prototype.drt.call(this),this.yet.wo()},i.SJ=function(n){t.prototype.SJ.call(this,n),this.wet&&this.wet.Sa(n)},i.Rv=function(){t.prototype.Rv.call(this),this.yet.Rv(),this.yet.removeEventListener("Bg",this.bo),this.yet.removeEventListener("xv",this.bo)},i.Sit=function(t){return t.k$},i.met=function(){var t=this.S_,n=this.mrt?this.vit.I7(t):void 0,i=n?n.MZ:void 0,r=this._it.I7(t),e=r?r.MZ:void 0,u=this.PJ;this.PJ=i;var s=this.tit;return this.tit=e,!u&&i?{l$:u,ket:i}:!s&&e?{l$:s,ket:e}:s&&e&&s.Cl!==e.Cl?{l$:s,ket:e}:void 0},n}(WB),ZB=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,$D.wv,n,i,r,e,u,s,o,a,c)||this).Qnt=!!h.rK.a$&&!!h.rK.a$.uri,h.Ynt=!1,h}M(n,t);var i=n.prototype;return i.pit=function(t,n){if("_Z"===t){var i=n?n.uri:void 0;this.Qnt=!!i}},i.krt=function(){return $D.wv},i.prt=function(){return this.Dit&&this.Dit.$Z||!1},i.Ert=function(){return this.rK.a$},i.Art=function(){var t=this.Ert();return t?[t]:[]},i.brt=function(){return this.Art()},i.Sit=function(t){return t.gJ},i.Rrt=function(){return null},i.Irt=function(t){},i.EM=function(){return!0},i.Nrt=function(){return!0},i.met=function(){var t=this.mrt?this.vit.I7(this.S_):void 0,n=t?t.MZ:void 0,i=this.PJ;return this.PJ=n||void 0,!i&&n?{l$:i,ket:n}:i&&n&&i.Cl!==n.Cl?{l$:i,ket:n}:void 0},n}(WB),JB=function(){function t(t,n,i,r,e,u){var s=this;this.pet=!1,this.Aet=iA.tN(),this.bet=[],this.Tet=[],this.EJ=function(){return s.Eet()},this.Ret=function(t){t.W_.live||s.Iet.removeEventListener(s.sY.FY,s.Ret),s.sY.CZ(t.W_)},this.Net=function(){s.sY.NJ.Wl===Xd.Ul?s.pet&&s.Det():s.pet||s.Cet()},this.sY=t,this.Iet=n,this.U4=i,this.M4=u,this.Oet=new nO(r,e),this.xet=new uu,t.NJ.So(dd.nl,this.Net),t.$A&&t.$A.addEventListener("DJ",this.EJ),this.Net()}var n=t.prototype;return n.Cet=function(){this.pet||this.sY.NJ.Wl===Xd.Ul||(this.Iet.removeEventListener(this.sY.FY,this.Ret),this.Iet.addEventListener(this.sY.FY,this.Ret),this.Iet.K8(this.sY.FY),this.Iet.t7(this.sY.FY),this.pet=!0,gu(this.Pet(this.xet.ko)))},n.Pet=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.U4.q4,r=this.M4.V4,e=new iA([i,i+r]),(u=e.NI(this.Aet.DI())).pl){t.next=16;break}return t.prev=6,t.next=9,mu(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),hu(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.Pet(n));case 16:if(s=u.gI(0),o=this.Bet(s)){t.next=30;break}return a=this.sY,t.prev=20,t.next=23,ad(a,"LZ",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),hu(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.Pet(n));case 30:c=o.yp,h=o.Btt.Uw(),f=h+c.duration,this.Oet.Ta("NJ",c.uri,zo.ze,function(){var t=T.coroutine(de.mark(function t(i,r){var e,u,s,o,a,d;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw mu(1e3,n).then(function(){return v.Pet(n)}),i;case 3:for(v.Aet=v.Aet.LI(new iA([h,f])),v.bet.push(c.jQ),e=Fg(r.Hv),u=e._m||{gm:vg.uy,wm:vg.uy},s=v.sY.dY.$Q(c.jQ),o=0,a=e.zl;o<a.length;o++)d=a[o],v.Tet.push({h6:s,Btt:$B(vg.zy(d.uw),u.wm,u.gm),Let:$B(vg.zy(d.sw),u.wm,u.gm),ew:d});return v.Eet(),t.next=12,v.Pet(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n.Eet=function(){var t=this.sY.$A;if(this.Tet.length&&t){for(var n=[],i=0,r=this.Tet;i<r.length;i++){var e=r[i],u=t.D1(e.h6,e.Btt);if(u.Zw())n.push(e);else{var s=t.D1(e.h6,e.Let),o=new W_(u.Uw(),s.Uw(),e.ew.ow,!1,e.ew.Cl);this.sY.NJ.Sb(o)}}this.Tet=n,this.sY.NJ.JF(this.U4.q4,!0)}},n.Bet=function(t){var n=this.sY.$A,i=this.sY.dY;if(n.Ntt)for(var r=n.Ftt.Uw(),e=i.pl-1;e>=0;e-=1){var u=i.JQ(e),s=r-u.duration;if(new iA([s,r]).CR(t,.5)){var o={yp:u,Btt:vg.zy(s)};return this.Met(i,o,e)}r=s}else for(var a=0,c=0;c<i.pl;c+=1){var h=i.JQ(c),f=a+h.duration;if(new iA([a,f]).CR(t,.5)){var v={yp:h,Btt:vg.zy(a)};return this.Met(i,v,c)}a=f}},n.Met=function(t,n,i){var r=n.yp;if(-1===this.bet.indexOf(r.jQ))return n;for(var e=n.Btt.Uw()+r.duration,u=i+1;u<t.pl;u+=1){var s=t.JQ(u);if(-1===this.bet.indexOf(s.jQ))return{yp:s,Btt:vg.zy(e)};e+=s.duration}},n.Det=function(){this.pet=!1,this.Iet.J8(this.sY.FY),this.xet.wo(),this.xet=new uu},n.ml=function(){this.Det(),this.Aet=iA.tN(),this.bet.length=0,this.sY.NJ.Do(dd.nl,this.Net),this.sY.$A&&this.sY.$A.removeEventListener("DJ",this.EJ),this.Iet.removeEventListener(this.sY.FY,this.Ret)},t}();function $B(t,n,i){return Ag(i,t.Yw(n))}var KB=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Uet=NaN,u.Fet=!1,u.Het=1/0,u.Vet=1/0,u.Xet=null,u.Wet=!0,u.qet=!0,u.p7=null,u.zet=void 0,u.Get=void 0,u.jet=[],u.WJ=function(){var t=u.rK.R_;w(t)||u.Uet===t||(u.Uet=t,u.dispatchEvent("durationchange"))},u.Qet=function(){u.aK&&(u.rK.removeEventListener("renditionUpdated",u.Qet),u.dispatchEvent("aK"))},u.Yet=function(){u.art&&u.dispatchEvent("art")},u.Zet=function(){u.IK&&u.dispatchEvent("IK")},u.bo=function(t){u.dispatchEvent(t)},u.Jet=function(t){var n=u.rK.i$(t.Q8);n?n instanceof dC&&(n.BZ(!1),n.WZ()):u.dispatchEvent(t)},u.$et=function(t){u.rK.W_||(t.Ho.code===LD.xQ?(u.Xet||(u.Xet=o(u.Ket,Ip)),u.qet=!1,u.UZ()):u.dispatchEvent({type:"Ho",Ho:t.Ho}))},u.tut=function(t){u.nut(),u.iut(t.W_),u.rut(),u.rK.removeEventListener("s$",u.WJ),u.rK.addEventListener("s$",u.WJ),u.WJ(),u.Fet||(u.Fet=!0,u.dispatchEvent("loadedmetadata")),u.Qet(),u.qet=!0,u.UZ()},u.Ket=function(){u.nut();var t=u.NK;t&&(u.bit.ml(),u.bit.NK=t,u.bit.gI())},u.eut=function(){u.bit.n7()},u.uut=function(){u.sut.forEach(function(t){return t.wrt()})},u.out=function(t){u.aut.forEach(function(n){return n.Wit(t.MZ)})},u.cut=function(t){u.sut.forEach(function(n){return n.qit(t.f4)}),u.hut.c7(t.f4,u.sut.map(function(t){return t.$A}))},u.UZ=function(){var t=u.Wet,n=u.Nrt();u.Wet=n,n&&!t?u.dispatchEvent("Bg"):!n&&t&&u.dispatchEvent("xv")},u.fN=e,u.Jp=n,u.SK=i,u.Ab=r,u.fnt=new Yx(n,i,r,rn(u)),u.Tit=new CP(n),u.rK=new _C(n),u.bit=new KP(r,n),u.hut=new tB,u.bit.addEventListener("Ho",u.Jet),u.bit.addEventListener("j8",u.$et),u.bit.addEventListener("Y8",u.tut),u.fnt.addEventListener("c6",u.bo),u.fnt.addEventListener("Ho",u.bo),u.rK.addEventListener("d$",u.bo),u.rK.addEventListener("LZ",u.out),u.rK.addEventListener("OJ",u.cut),u.rK.addEventListener("_$",u.bo),u.hut.addEventListener("e7",u.bo),u.hut.addEventListener("e7",u.uut),u.addEventListener("Bg",u.eut),u}M(n,t);var i=n.prototype;return i.fut=function(t){t.Trt=this.Trt,t.addEventListener("Pit",this.bo),t.addEventListener("vut",this.bo),t.addEventListener("Ho",this.bo),t.addEventListener("irt",this.bo),t.addEventListener("RK",this.bo),t.addEventListener("art",this.Yet),t.addEventListener("IK",this.Zet),t.addEventListener("xv",this.UZ),t.addEventListener("Bg",this.UZ),t.addEventListener("Dl",this.bo),t.addEventListener("vK",this.bo),t.addEventListener(qo.sh,this.bo),t.addEventListener(qo.ah,this.bo)},i.rut=function(){this.dut();this.rK.k$.dZ;var t=this.rK.gJ.dZ;this.zet=new YB(this.rK,this.bit,this.fnt,this.Tit,this.p7,this.Jp,this.Ab,this.fN,this),this.fut(this.zet),t.length&&(this.Get=new ZB(this.rK,this.bit,this.fnt,this.Tit,this.p7,this.Jp,this.Ab,this.fN,this),this.fut(this.Get));for(var n=this.rK.p$,i=this.zet.$A,r=0;r<n.length;r++){var e=n[r];e.$A=i,this.jet.push(new JB(e,this.bit,this.p7,this.Ab,this.Jp,this))}},i.dut=function(){this.zet&&(this.zet.Rv(),this.zet=void 0),this.Get&&(this.Get.Rv(),this.Get=void 0),this.jet.forEach(function(t){return t.ml()}),this.jet.length=0,this.hut.ml()},i.lut=function(t){this.sut.forEach(function(n){return n.vrt(t)})},i.iut=function(t){this.rK.W_=t},i._ut=function(){this.bit.gI()},i.gut=function(t){this.hut.h7(t,this.sut.map(function(t){return t.$A}))||this.sut.forEach(function(t){t.Oit(),t.grt()})},i.Det=function(){this.fnt.u6(),this.sut.forEach(function(t){return t.drt()})},i.BK=function(){this.fnt.u6(),this.sut.forEach(function(t){return t.lrt()})},i.CK=function(){this.sut.forEach(function(t){return t._rt()})},i.Rv=function(){this.No(),this.nut(),this.dut(),this.fnt.Rv(),this.Tit.Rv(),this.rK.Rv(),this.bit.ml(),this.hut.Rv()},i.wut=function(t,n,i,r){var e=this.zet,u=this.Get;t&&(e.drt(),this.fnt.Jo(e.hp),e.vrt(r)),n&&u&&(u.drt(),this.fnt.Jo(u.hp),i&&u.vrt(r))},i.yut=function(){if(!this.zet)return mO;var t=this.zet;return FO(t.$A,this.fnt.K4(t.hp))},i.Z8=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.W_.live||r.bit.removeEventListener(u,t),i&&i.CZ(n.W_)};u&&(this.bit.removeEventListener(u,s),this.bit.addEventListener(u,s)),this.bit.Z8(e,u),this.bit.t7(u)},i.nut=function(){null!==this.Xet&&a(this.Xet),this.Xet=null},i.Nrt=function(){return!!this.qet&&(!this.zet||this.zet.Bg)},i.FK=function(t){this.zet&&(this.zet.Srt=t)},i.ml=function(){this.aut.forEach(function(t){return t.ml()}),this.jet.forEach(function(t){return t.ml()})},L(n,[{key:"mut",get:function(){return this.zet}},{key:"kut",get:function(){return this.Get}},{key:"sut",get:function(){var t=[];return this.zet&&t.push(this.zet),this.Get&&this.Get.mrt&&t.push(this.Get),t}},{key:"aut",get:function(){return[this.zet,this.Get].filter(Z)}},{key:"V4",get:function(){return Wt(this.fN.qx*this.fnt.X4,1,this.Aut)}},{key:"NK",get:function(){return this.bit.NK},set:function(t){this.Uet=NaN,this.Het=1/0,this.Fet=!1,this.Wet=!0,this.qet=!0,this.rK.removeEventListener("renditionUpdated",this.Qet),this.rK.removeEventListener("s$",this.WJ),this.nut(),this.dut(),this.fnt.Jo(),this.Tit.wo(),this.rK.Rv(),this.rK.addEventListener("renditionUpdated",this.Qet),this.bit.NK=t,this.UZ()}},{key:"R_",get:function(){return this.Uet}},{key:"Ntt",get:function(){return this.rK&&tC.H_(this.rK.ZZ)}},{key:"Bg",get:function(){return this.Wet}},{key:"aK",get:function(){var t=this.sut;return t.length>0&&t.every(function(t){return t.$Z})}},{key:"X4",get:function(){return this.fnt.X4},set:function(t){t>0&&(this.fnt.X4=t)}},{key:"art",get:function(){return this.sut.every(function(t){return t.art})}},{key:"IK",get:function(){return this.sut.length>0&&this.sut.every(function(t){return t.IK})}},{key:"Aut",get:function(){return this.Vet},set:function(t){this.Vet=t}},{key:"Trt",get:function(){return this.Het},set:function(t){var n=this;this.Het=t,this.aut.forEach(function(t){return t.Trt=n.Het})}},{key:"Ug",get:function(){return this.aK?new yO([{gI:this.Utt,yI:this.Ftt}]):mO}},{key:"Utt",get:function(){if(!this.aK)return 0;for(var t=-1/0,n=0,i=this.sut;n<i.length;n++){var r=i[n];t=l.max(t,r.$A.Utt.Uw())}return t}},{key:"Ftt",get:function(){if(!this.aK)return 0;for(var t=1/0,n=0,i=this.sut;n<i.length;n++){var r=i[n];t=l.min(t,r.$A.Ftt.Uw())}return t}},{key:"Htt",get:function(){if(!this.aK)return 0;for(var t=1/0,n=0,i=this.sut;n<i.length;n++){var r=i[n];t=l.min(t,r.$A.Htt.Uw())}return l.max(t,this.Utt)}},{key:"UK",get:function(){return this.zet&&this.zet.Srt||void 0}}]),n}(PD),tL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Uet=NaN,r.Fet=!1,r.Xet=null,r.Wet=!0,r._et=null,r.wet=null,r.bo=function(t){r.dispatchEvent(t)},r.iut=function(t){if(r.rK.W_||(r.rK.W_=r.but.y$||null),!r.rK.m$){var n=r.rK.k$.dZ[0];n&&(r.rK.m$=n,r.but.q8(n),r.dispatchEvent({type:"Tut",MZ:n}))}t.manifest.isMasterPlaylist||r.rK.m$.CZ(t.manifest),void 0!==t.manifest.duration&&r.Uet!==t.manifest.duration&&(r.Uet=t.manifest.duration,r.dispatchEvent("durationchange")),r.Fet||(r.Fet=!0,r.dispatchEvent("loadedmetadata")),r.Wrt(!0),r.dispatchEvent({type:"W8",manifest:t.manifest})},r.$et=function(t){t.Ho.code===LD.xQ?(r.Xet||(r.Xet=o(r.Ket,Ip)),r.Wrt(!1)):r.dispatchEvent({type:"Ho",Ho:t.Ho})},r.Ket=function(){r.nut();var t=r.NK;t&&r.but.gI(t)},r.nut=function(){a(r.Xet),r.Xet=null},r.out=function(t){var n=t.MZ;r.$A.Ttt(n,n._Y),r.Jp.manifestMetadataTrack&&(r.wet||(r._et=r.rK.QJ("",r.$A,""),r.wet=new QB(r._et,r.$A)),r.wet.Sa(n))},r.Jp=n,r.rK=new _C(n,!0),r.$A=new mB(n),r.but=new $P(i,r.Jp),r.$A.addEventListener("Ho",r.bo),r.but.addEventListener("W8",r.iut),r.but.addEventListener("Ho",function(t){r.rK.W_?(r.Xet||(r.Xet=o(r.Ket,Ip)),r.Wrt(!1)):r.$et(t)}),r.rK.addEventListener("LZ",r.out),r}M(n,t);var i=n.prototype;return i._ut=function(){this.rK.W_||this.but.gI()},i.yut=function(){return mO},i.Wrt=function(t){var n=this.Wet;this.Wet=t,t&&!n?this.dispatchEvent("Bg"):!t&&n&&this.dispatchEvent("xv")},i.Rv=function(){this.No(),this.nut(),this.rK.Rv(),this.but.Rv(),this.wet=null,this.$A.Rv()},i.BK=function(){},i.CK=function(){},i.lut=function(t){},i.FK=function(t){},L(n,[{key:"NK",get:function(){return this.but.NK},set:function(t){this.Uet=NaN,this.Fet=!1,this.nut(),this.rK.Rv(),this.wet=null,this.but.NK=t,this.Wrt(!0)}},{key:"R_",get:function(){return this.Uet}},{key:"Ntt",get:function(){return this.rK&&tC.H_(this.rK.ZZ)}},{key:"Bg",get:function(){return this.Wet}},{key:"IK",get:function(){return!1}},{key:"art",get:function(){return!1}},{key:"UK",get:function(){return[]}}]),n}(PD),nL=1e3,iL="VEE3",rL=function(t){function n(n){var i;return(i=t.call(this,"Eut")||this).ptsOffset=n,i}return M(n,t),n}(Su),eL=function(t){function n(n){var i;return(i=t.call(this)||this).Sut=null,i.Rut=0,i.Iut="start",i.Nut=1,i.Dut=!1,i.Cut=!1,i.Out=0,i.xut=null,i.Put=null,i.But=null,i.Lut=null,i.u7=0,i.Mut=0,i.Uut=new uu,i.Fut=new js,i.Hut=void 0,i.Vut={},i.Xut=!1,i.Wut=null,i.qut=NaN,i.xit=function(){i.I$.sut.map(function(t){t.xit()})},i.met=function(){for(var t,n,r,e=0,u=i.I$.aut;e<u.length;e++){var s=u[e],o=s.met();if(o){var a=o.ket;a&&a.pJ!==KD.wv&&(i.Wut=a)}s.hp===$D.wv?t=o:s.hp===$D.tZ&&(n=o,r=s)}(t||n)&&i.dispatchEvent({type:"d$",zut:t&&t.l$,F$:t&&t.ket,W$:n&&n.l$,U$:n&&n.ket,L$:!!r&&r.mrt})},i.Bit=function(){null!==i.xut&&a(i.xut),i.xut=o(i.Bit,nL),i.I$.sut.forEach(function(t){return t.Bit()})},i.Uit=function(){null!==i.Put&&a(i.Put),i.Dut&&(i.Put=o(i.Uit,nL),i.I$.sut.forEach(function(t){return t.Uit()}))},i.Mit=function(){i.I$.sut.forEach(function(t){return t.Mit()})},i.Gut=function(){if(i.I$.Ntt&&i.O_>1){var t=i.I$.Htt;i.jut>t&&(i.O_=1,i.jut>=t+1&&(i.jut="start"))}},i.Qut=function(){i.Sut&&(0===i.Sut.Yut()?i.jut="start":i.jut=i.Zut(i.q4))},i.Jut=function(){i.Out=i.q4},i.$ut=function(t){i.Kut(),i.Sut.error&&(t.error.info.code===iL&&i.Mut<Np?(i.Mut+=1,i.tst()):i.dispatchEvent({type:"Ho",error:t.error}))},i.nst=function(){i.Mut=0},i.ist=function(){i.removeEventListener("rst",i.est),i.Dut?i.est():i.addEventListener("rst",i.est)},i.est=function(){var t=i.q4;i.I$.removeEventListener("aK",i.ist),i.I$.aK?i.I$.sut.forEach(function(n){return n.Hit(t)}):(i.I$.addEventListener("aK",i.ist),i.I$._ut())},i.ust=function(){var t=i.q4;i.I$.aut.forEach(function(n){return n.Fit(t,i.I$.Ntt)})},i.sst=function(){null!==i.xut&&a(i.xut),i.xut=null,null!==i.Put&&a(i.Put),i.Put=null},i.ost=function(){i.ast(),i.I$.aK?i.DK():(i.I$.addEventListener("aK",i.ost),i.I$._ut())},i.ast=function(){i.I$.removeEventListener("aK",i.ost)},i.T$=function(t){i.I$.Z8(t.pJ,t.l$||void 0,t.MZ||void 0),t._$&&i.cst(t.pJ,t.l$,t.MZ)},i.hst=function(t){var n=t.u7-i.u7;l.abs(n)>Rp&&(i.u7=t.u7,i.q4=i.q4+n)},i.fst=function(t){var n=t.h6.metadata;n.kJ&&(i.Vut[t.hp]=n.kJ,i.vst())},i.vst=function(){if(i.I$.aK){var t=d.keys(i.Vut).length===i.I$.sut.length;i.Sut&&!i.Sut.dst&&!i.Hut&&t&&i.lst(),i.Sut&&i.u7&&(i.Sut.u7=i.u7)}},i._st=function(){if(w(i.gst))if(i.I$.Ntt)i.gst=0;else{var t=i.Wut,n=t&&t.JZ,r=t&&Z(n)&&!w(n)&&t.gY(n)||void 0;i.gst=eC(r)?r.l4.Uw():NaN}i.dK&&(i.removeEventListener("d$",i._st),i.I$.removeEventListener("c6",i._st),i.dispatchEvent("dK",!0))},i.I$=n,n.p7=rn(i),i}M(n,t);var i=n.prototype;return i.tst=function(){this.I$.Ntt?this.jut="start":(this.Out+=.5,this.I$.sut.map(function(t){t.Oit(),t.Vit(),t.Xit()}),this.jut=this.Out),this.vst(),this.Sut.play()},i.wst=function(t){var n=this;this.But&&(this.I$.removeEventListener("aK",this.But),this.But=null),this.I$.aK?(this.Cut=!0,this.Xut=!0,this.I$.gut(t),this.Xut=!1):(this.But=function(){return n.wst(t)},this.I$._ut())},i.yst=function(t){this.mst(),this.I$.Ntt&&(t="none"),"auto"===t&&this.ost()},i.kst=function(t){var n=this;this.mst(),"none"!==t&&(this.I$.aK?this.yst(t):(this.Lut=function(){return n.yst(t)},this.I$.addEventListener("aK",this.Lut),this.I$._ut()))},i.mst=function(){this.ast(),this.Lut&&(this.I$.removeEventListener("aK",this.Lut),this.Lut=null)},i.DK=function(){this.Cut?this.I$.lut():(this.jut=this.Iut,this.I$.lut(22)),this.Dut||(this.Dut=!0,this.dispatchEvent("rst"))},i.pst=function(){this.Sut&&(this.Sut.addEventListener("Ast",this.ust),this.Sut.addEventListener("seeking",this.ist),this.Sut.addEventListener("error",this.$ut),this.Sut.addEventListener("playing",this.nst)),this.I$.addEventListener("d$",this.T$),this.I$.addEventListener("irt",this.Qut),this.I$.addEventListener("aK",this.vst),this.I$.addEventListener("e7",this.hst),this.I$.addEventListener("Dl",this.ist),this.LK()},i.bst=function(){this.Sut&&(this.Sut.removeEventListener("Ast",this.ust),this.Sut.removeEventListener("seeking",this.ist),this.Sut.removeEventListener("error",this.$ut),this.Sut.removeEventListener("playing",this.nst)),this.I$.removeEventListener("d$",this.T$),this.I$.removeEventListener("irt",this.Qut),this.I$.removeEventListener("aK",this.vst),this.I$.removeEventListener("e7",this.hst),this.I$.removeEventListener("Dl",this.ist),this.MK()},i.LK=function(){this.Sut&&(this.Sut.addEventListener("loadstart",this.ost),this.Sut.addEventListener("timeupdate",this.xit),this.Sut.addEventListener("playing",this.met),this.Sut.addEventListener("timeupdate",this.met),this.Sut.addEventListener("timeupdate",this.Uit),this.Sut.addEventListener("timeupdate",this.Bit),this.Sut.addEventListener("timeupdate",this.Jut),this.Sut.addEventListener("timeupdate",this.Gut),this.Sut.addEventListener("ended",this.sst)),this.I$.addEventListener("c6",this.fst),this.I$.addEventListener("c6",this.Mit)},i.MK=function(){null!==this.xut&&a(this.xut),null!==this.Put&&a(this.Put),this.Sut&&(this.Sut.removeEventListener("loadstart",this.ost),this.Sut.removeEventListener("timeupdate",this.xit),this.Sut.removeEventListener("playing",this.met),this.Sut.removeEventListener("timeupdate",this.met),this.Sut.removeEventListener("timeupdate",this.Uit),this.Sut.removeEventListener("timeupdate",this.Bit),this.Sut.removeEventListener("timeupdate",this.Jut),this.Sut.removeEventListener("timeupdate",this.Gut),this.Sut.removeEventListener("ended",this.sst)),this.I$.removeEventListener("c6",this.fst),this.I$.removeEventListener("c6",this.Mit)},i.A7=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Fut.oa;case 2:return i=this.Sut.A7(n),this.Sut.loading&&(this.Sut.loaded=!0,this.Sut.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.yM=function(t,n){this.Tst.yM(t,n)},i.Cit=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Fut.oa;case 3:return t.next=5,this.Sut.Cit(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),ou(t.t0)||this.dispatchEvent({type:"Ho",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.lst=function(){var t=this,n=this.Fut,i=this.Est(this.Hut,this.Uut.ko);this.Hut=i,i.then(function(){t.Hut===i&&(t.Hut=void 0,n.aa())},function(r){t.Hut===i&&(t.Hut=void 0,n.ca(r))})},i.Est=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(S);case 3:return au(i),t.next=6,this.Sut.lst(this.Vut,this.I$.R_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,u=this.I$.aut;e<u.length;e++)s=u[e],r._Z&&(s.hit=r._Z),r.gZ&&(s.lit=r.gZ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Kut=function(){this.Uut.wo(),this.Uut=new uu,this.Hut=void 0,this.Fut=new js},i.Zut=function(t){var n=this.Ug;return n.length?Wt(t,n.start(0),n.end(n.length-1)):0},i.zit=function(t){var n=this.I$.mut;return n?n.zit(t):null},i.Ltt=function(t){var n=this.I$.mut;return n?n.Ltt(t):NaN},i.Ta=function(t){var n=t||"none";this.bst(),this.pst(),this.kst(n)},i.PK=function(){this.mst()},i.Rv=function(){this.No(),this.Vut={},this.Tst=null},i.ml=function(){this.Kut(),this.Sst(),this.Vut={},this.Rut=0,this.Out=0,this.Iut="start",this.u7=0,this.Nut=1,this.Dut=!1,this.Cut=!1,this.Wut=null,this.I$.ml()},i.cst=function(t,n,i){if(n){this.dispatchEvent("lK"),this.MK();var r=!1,e=!1,u=!1;if("gZ"===t){e=!0;var s=this.I$.mut;s&&s.mrt&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.Sut._$("audio"),e&&this.Sut._$("video"),this.I$.aut.forEach(function(t){t.Oit(),r&&t.Vit(),e&&t.Xit()}),this.I$.wut(e,r,u,22),this.I$.aut.forEach(function(t){return t.Lit()}),this.LK()}},i.ug=function(){this.MK(),this.I$.Ntt&&this.I$.Det()},i.eg=function(){this.MK(),this.LK(),this.I$.CK()},i.Rst=function(t){var n=this.gst||0;return this.bJ?t-n<0?0:l.round((t-n)*this.bJ-.5)||0:NaN},i.Ist=function(t){var n=this.gst||0;return this.bJ?n+(t+.5)/this.bJ:NaN},i.Sst=function(){this.gst=NaN,this.removeEventListener("d$",this._st),this.addEventListener("d$",this._st),this.I$.removeEventListener("c6",this._st),this.I$.addEventListener("c6",this._st)},L(n,[{key:"Tst",get:function(){return this.Sut},set:function(t){this.bst(),this.Kut(),this.nst(),this.Sut=t,this.vst()}},{key:"q4",get:function(){return this.Sut&&!this.Xut?this.Sut.Yut():this.Rut},set:function(t){t=this.Zut(t),this.Out=this.Rut=t,this.Sut?this.Sut.Nst(t):(this.ust(),this.ist())}},{key:"jut",get:function(){return this.Sut&&!this.Xut?this.q4:this.Iut},set:function(t){"start"===t&&(t=this.I$.Ntt?1/0:0),t=this.Zut(t),this.Iut=t,this.Out=this.Rut=t,this.wst(vg.zy(this.Rut)),this.q4=t}},{key:"sw",get:function(){return this.I$.Trt},set:function(t){this.I$.Trt=t}},{key:"O_",get:function(){return this.Sut?this.Sut.O_:this.Nut},set:function(t){var n=this.Nut;t>0&&(this.Nut=t,this.Sut&&(this.Sut.O_=t),this.I$.X4=t,this.Nut!==n&&this.dispatchEvent("Dst"))}},{key:"Ug",get:function(){var t=this.I$.Ug;if(!t.length||!this.I$.Ntt)return t;var n=t.start(0),i=this.I$.Htt;return i=l.max(this.q4,i),new yO([{gI:n,yI:i}])}},{key:"Sg",get:function(){return this.zit(this.q4)}},{key:"bJ",get:function(){var t=this.Wut;return t&&t.bJ||NaN}},{key:"gst",get:function(){return this.qut},set:function(t){this.qut!==t&&(this.dispatchEvent(new rL(t)),this.qut=t)}},{key:"dK",get:function(){return Boolean(this.bJ)&&!w(this.gst)}}]),n}(PD),uL=function(t){function n(n){var i;return(i=t.call(this)||this).Cst=null,i.Ost=[],i.xst=function(t){return i.Pst(t)},i.Bst=function(){return i.Lst()},i.rK=n,i.Ost=[],i}M(n,t);var i=n.prototype;return i.Tb=function(t){var n,i;"metadata"===t.kind&&(t.mode=Xd.Fl,n=this.rK.GJ(t.id,t.inBandMetadataTrackDispatchType),i=this.Mst.bind(this,n),this.Ost.push({Ust:t,Fst:i,NJ:n}),t.addEventListener("cuechange",i))},i.$b=function(){for(var t=this.Cst.ig,n=t&&t.length,i=0;i<n;i+=1)this.Tb(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.xst),t.addEventListener("change",this.Bst))},i.Mst=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=fI(i[u].value),o=new kI(e,s);t.Sb(o)}},i.Lst=function(){for(var t=0,n=this.Ost;t<n.length;t++){var i=n[t].Ust;i.mode!==Xd.Fl&&(i.mode=Xd.Fl)}},i.Pst=function(t){this.Tb(t.track)},i.Hst=function(){for(var t=this.Cst,n=t&&t.ig,i=0,r=this.Ost;i<r.length;i++){var e=r[i];e.Ust.removeEventListener("cuechange",e.Fst)}this.Ost.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.xst),n.removeEventListener("change",this.Bst))},i.Rv=function(){this.Hst(),this.Cst=null,this.rK=null,this.xst=null,this.Bst=null},i.ml=function(){this.Hst(),this.Cst&&this.$b()},n}(PD),sL=function(t){function n(n){var i;return(i=t.call(this)||this).Sut=null,i.Iut="start",i.Nut=1,i.xv=!1,i.Vst=null,i.Xst=null,i.Wst=NaN,i.qst=NaN,i.zst=null,i.Gst=function(){i.Sut.removeEventListener("loadstart",i.Gst),i.Sut.removeEventListener("play",i.Gst),i.I$._ut()},i.xit=function(){var t=i.I$.rK.m$;if(t&&(!i.Vst||i.Vst.gI>i.q4||i.Vst.yI<i.q4)){var n=i.I$.$A.N6(t,vg.zy(i.q4));if(!n)return void i.Sut.addEventListener("timeupdate",i.xit);i.Vst={gI:n.Btt.Uw(),yI:n.Btt.Hg(vg.zy(n.yp.duration)).Uw(),jQ:n.yp.jQ,GZ:null},i.dispatchEvent({type:"Pit",eb:n.yp})}},i.met=function(){var t=i.I$.rK,n=t.k$.dZ.length?t.k$.dZ:t.gJ.dZ,r=i.Sut.B_,e=i.Sut.P_,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.Xst&&(i.Xst=s,i.dispatchEvent({type:"d$",MZ:s}))},i.jst=function(t){i.dispatchEvent({type:"d$",MZ:t.MZ})},i.Qst=function(){if(i.Sut){var t=i.Sut.Ug,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.qst&&(i.qst=n,i.Wst=zb())}},i.Yst=function(){i.xv=!0},i.Zst=function(){i.xv&&(i.xv=!1,i.Jst())},i.I$=n,i.$st=new uL(n.rK),n.addEventListener("xv",i.Yst),n.addEventListener("Bg",i.Zst),i}M(n,t);var i=n.prototype;return i.Zut=function(t){var n=this.Sut.Ug;return n.length?Wt(t,n.start(0),n.end(n.length-1)):0},i.Jst=function(){if(this.Sut){var t=this.Sut.currentTime,n=this.Sut.paused;this.Sut.load(),this.Sut.currentTime=t,n||this.Sut.play()}},i.Kst=function(){this.Sut&&(this.Sut.addEventListener("loadstart",this.Gst),this.Sut.addEventListener("play",this.Gst),this.Sut.addEventListener("timeupdate",this.xit),this.Sut.addEventListener("timeupdate",this.met),h(this.zst),this.zst=c(this.Qst,250))},i.tot=function(){h(this.zst),this.Sut&&(this.Sut.removeEventListener("loadstart",this.Gst),this.Sut.removeEventListener("play",this.Gst),this.Sut.removeEventListener("timeupdate",this.xit),this.Sut.removeEventListener("timeupdate",this.met))},i.Ta=function(t){t=t||"none",this.tot(),this.Kst(),this.I$.removeEventListener("Tut",this.jst),this.I$.addEventListener("Tut",this.jst),"none"!==t&&this.Gst()},i.Rv=function(){this.No(),this.$st.Rv(),this.Tst=null,this.I$.removeEventListener("Tut",this.jst)},i.ml=function(){this.Iut="start",this.Nut=1,this.xv=!1,this.Vst=null,this.Xst=null,this.Wst=NaN,this.qst=NaN,h(this.zst),this.$st.ml()},i.eg=function(){},i.ug=function(){},i.PK=function(){},i.cst=function(){},i.Ltt=function(t){var n=this.I$.rK.m$;return this.I$.$A.Ltt(n,t).Uw()},i.zit=function(t){var n,i,r=this.I$.rK.m$,e=this.I$.$A,u=t,s=this.Vst;if(s)s.GZ||(s.GZ=e.Ptt(r,s.jQ)),n=s.gI,i=s.GZ;else{var o=e.N6(r,vg.zy(u));if(!o)return null;n=o.Btt.Uw(),i=e.Ptt(r,o.yp.jQ)}if(!i)return null;var a=u-n;return new Date(i.getTime()+1e3*a)},i.Rst=function(t){return NaN},i.Ist=function(t){return NaN},L(n,[{key:"iot",get:function(){return null}},{key:"Sg",get:function(){return this.zit(this.q4)}},{key:"Tst",get:function(){return this.Sut},set:function(t){this.tot(),this.Sut=t,this.Sut&&(this.$st.Cst=this.Sut,this.$st.$b())}},{key:"jut",get:function(){return this.Sut?this.Sut.Yut():this.Iut},set:function(t){"start"===t&&(t=this.I$.Ntt?1/0:0),t=this.Zut(t),this.Iut=t,this.Sut&&this.Sut.Nst(t)}},{key:"q4",get:function(){return this.jut},set:function(t){t=this.Zut(t),this.jut=t}},{key:"sw",get:function(){return 1/0},set:function(t){}},{key:"O_",get:function(){return this.Sut?this.Sut.O_:this.Nut},set:function(t){t>0&&(this.Nut=t,this.Sut&&(this.Sut.O_=t))}},{key:"Ug",get:function(){var t,n,i,r=this.Sut?this.Sut.Ug:null,e=this.I$.$A.Ug;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.qst||r.end(r.length-1))+this.I$.$A.Vtt.Uw(),isFinite(this.Wst)&&(i+=(zb()-this.Wst)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.I$.$A.Htt.Uw()}return i=l.min(n,i),i=l.max(this.q4,i),new yO([{gI:t,yI:i}])}},{key:"bJ",get:function(){return NaN}},{key:"gst",get:function(){return NaN}},{key:"dK",get:function(){return!1}}]),n}(PD),oL=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r)||this).rot=new uu,s.eot=void 0,s.uot=function(){return s.sot()},s.js=T_.WEBVTT,s.ql=b_.NONE,s.jl=Rr(e),s.So(dd.nl,s.uot),s.Ab=u,s}M(i,t);var r=i.prototype;return r.Ta=function(){this.jl&&!this.eot&&(this.eot=this.bd(this.rot.ko),this.eot.catch(hu))},r.bd=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.jl,t.prev=1,this.ql=b_.LOADING,r=new Rf({rv:i,kv:Af.GET,Jf:zo.ze,ko:n}),t.next=6,this.Ab.tv(r);case 6:return e=t.sent,t.next=9,e.pu();case 9:u=t.sent,this.P0(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),cu(t.t0),this.oot(uy(t.t0,this.jl));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.PK=function(){this.ql!==b_.LOADED&&(this.ql=b_.NONE,this.rot.wo(),this.rot=new uu,this.eot=void 0)},r.oot=function(t){this.ql=b_.ERROR,this.To(new ql(t))},r.Rv=function(){this.PK(),this.rot.ho(),t.prototype.Rv.call(this)},r.sot=function(){switch(this.Wl){case Xd.Hl:case Xd.Fl:this.Ta();break;case Xd.Ul:this.PK()}},r.P0=function(t,i){try{for(var r=Fg(i).zl,e=0;e<r.length;e++){var u=r[e];this.Sb(u)}this.ql=b_.LOADED}catch(i){this.oot(new Yw(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+sy(this.js)+" subtitle file.",this.jl,t.Yf,i))}},i}(lR);function aL(t){return jw(t.kind)}var cL=function(){function t(t,n,i,r){this.aot=t,this.ig=i,this.cot=n,this.Ab=r,this.ml()}var n=t.prototype;return n.hot=function(t){if(this.fot(),t)if(this.cot)for(var n=0;n<t.length;n++){var i=t[n];this.TR(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.vot(e)}},n.TR=function(t){var n=aL(t);if(iy(n,t.label||""));else{var i=e.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.aot.appendChild(i)}},n.vot=function(t){var n=aL(t),i=new oL(n,t.label,t.srclang,t.src,this.Ab);t.default&&(i.Wl=Xd.Hl),this.ig.gl(i)},n.fot=function(){for(var t=this.ig.kl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.dot&&this.ig.wl(i)}},n.lot=function(){this.fot()},n.ml=function(){this.fot()},t}(),hL=function(){function t(t){this.TK=t}var n=t.prototype;return n.So=function(t,n){this.TK.addEventListener(t,n)},n.Do=function(t,n){this.TK.removeEventListener(t,n)},L(t,[{key:"S_",get:function(){return this.TK.currentTime}},{key:"C_",get:function(){return this.TK.paused}},{key:"x_",get:function(){return this.TK.seeking}}]),t}(),fL=function(t){function n(n,i){var r;(r=t.call(this)||this)._ot=!0,r.got=function(t){return r.wot(t)},r.yot=function(){return r.mot()},r.kot=function(){return r.pot()},r.Aot=function(){return r.bot()},r.xst=function(t){return r.Pst(t.qd)},r.Tot=function(t){return r.Eot(t.qd)},r.Sot=function(){return r.Rot()},r.Iot=n,r.ig=i,r.Iot.addEventListener("seeking",r.Sot),r.Iot.addEventListener("seeked",r.Sot),r.Not=new mI(new hL(n));for(var e=0,u=r.ig.kl;e<u.length;e++){var s=u[e];r.Pst(s)}return r.ig.So(hd.Md,r.xst),r.ig.So(hd.Fd,r.Tot),r}M(n,t);var i=n.prototype;return i.wot=function(t){this.ig.gl(t.qd)},i.mot=function(){for(var t=this.ig.kl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.dot&&this.ig.wl(i)}},i.pot=function(){var t=this.Tst,n=[],i=t&&t.ig;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.GV(e);u=new dI(e,s,this.PH),e.THEOplayerTextTrack=u,this.ig.gl(u)}n.push(u)}}for(var o=0,a=this.ig.kl;o<a.length;o++){var c=a[o];lI(c)&&-1===n.indexOf(c)&&this.ig.wl(c)}},i.GV=function(t){for(var n=this.Tst.Rg.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.bot=function(){for(var t=0,n=this.ig.kl;t<n.length;t++){var i=n[t];lI(i)&&i.BH()}},i.Rot=function(){this.Dot()},i.Pst=function(t){t instanceof lR&&this.Not.gl(t)},i.Eot=function(t){t instanceof lR&&this.Not.wl(t)},i.Dot=function(){var t=this.ig.kl;if(t.length)for(var n=this.Iot.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof lR){for(var u=[],s=0,o=e.zl.kl;s<o.length;s++){var a=o[s];if(!(a.sw<i))break;u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.ZF(h)}}}},i.Rv=function(){this.Iot.removeEventListener("seeking",this.Sot),this.Iot.removeEventListener("seeked",this.Sot);for(var t=0,n=this.ig.kl;t<n.length;t++){var i=n[t];this.Eot(i)}this.ig.Do(hd.Md,this.xst),this.ig.Do(hd.Fd,this.Tot),this.Not.Rv(),this.rK=null,this.Tst=null},L(n,[{key:"rK",get:function(){return this.Cot},set:function(t){var n=this.Cot;if(n){for(var i=0,r=n.ig;i<r.length;i++){var e=r[i];this.ig.wl(e)}n.removeEventListener("jJ",this.got),n.removeEventListener("Rv",this.yot)}if(this.Cot=t,t){for(var u=0,s=t.ig;u<s.length;u++){var o=s[u];this.ig.gl(o)}t.addEventListener("jJ",this.got),t.addEventListener("Rv",this.yot)}}},{key:"Tst",get:function(){return this.Sut},set:function(t){var n=this.Sut;n&&n.ig&&n.ig.removeEventListener&&(n.ig.removeEventListener("addtrack",this.kot),n.ig.removeEventListener("removetrack",this.kot),n.ig.removeEventListener("change",this.Aot)),this.Sut=t,t&&t.ig&&t.ig.addEventListener&&(t.ig.addEventListener("addtrack",this.kot),t.ig.addEventListener("removetrack",this.kot),t.ig.addEventListener("change",this.Aot)),this.pot(),this.bot()}},{key:"PH",get:function(){return this._ot},set:function(t){if(this._ot!==t){this._ot=t;for(var n=0,i=this.ig.kl;n<i.length;n++){var r=i[n];lI(r)&&(r.PH=t)}}}}]),n}(PD),vL=function(){function t(t,n){this.Oot=[],this.xot=new Go,this.Pot=ge(),this.Bot=new uu,this.Tv=!(!t||t.crossOrigin!==el.h_&&!t.Lot),this.Ld=n}var n=t.prototype;return n.Mot=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o,a,c,h,v;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.Hu(n),e=0,u=this.Oot;e<u.length;e++)null===(s=u[e]).ru||void 0===s.ru?r.searchParams.delete(s.Uot):r.searchParams.set(s.Uot,s.ru);return t.prev=2,o=new Rf({rv:r.href,Jf:zo.wh,Zf:this.xot,Tv:this.Tv,kv:Af.GET,ko:i,js:bf.av,Av:Tf.gv}),t.next=6,this.Ld.tv(o);case 6:return a=t.sent,t.next=9,a.pu();case 9:return c=t.sent,h=new y(c),v=new y(16),16!==h.length&&dt("AES-128 decryption key length must be 16 bytes, but was "+h.length+" bytes. URL: ",r.href),h.length>16&&(h=Ws(h,0,16)),v.set(h,16-h.length),t.abrupt("return",v);case 19:throw t.prev=19,t.t0=t.catch(2),cu(t.t0),new f('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return T.reject(new MD(LD.FQ,{code:"CAD1603"}));var i=this.Pot.get(n);return i||(i=this.Mot(n,this.Bot.ko),this.Pot.set(n,i)),i},n.Rv=function(){this.Bot.wo(),this.Pot.clear()},n.Fot=function(t,n){this.Oot.push({Uot:t,ru:n})},n.Hot=function(t,n){this.xot.append(t,n)},t}(),dL=function(t){this.Iot=t},lL=e.createElement("video");var _L=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.net=function(t){return!!function(t){return lL.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(dL);BD.Ve.UL("AvoidUnsupportedCodecsRule",_L);var gL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.net=function(t,n,i,r){return!("c9"===r.y6)||t.bandwidth<2e6},n}(dL);BD.Ve.UL("AvoidHighBitrateStreamsRule",gL);var wL=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Vot=function(t){if(!t.resolution)return!0;var n=this.Iot.element.getBoundingClientRect(),i=r.innerWidth||e.documentElement.clientWidth,u=r.innerHeight||e.documentElement.clientHeight,s=l.max(0,l.min(n.right,i)-l.max(0,n.left)),o=l.max(0,l.min(n.bottom,u)-l.max(0,n.top)),a=b.Rs.Qu;return t.resolution.width<=s*a&&t.resolution.height<=o*a},i.net=function(t){return this.Vot(t)},n}(dL);BD.Ve.UL("AvoidVideoResolutionGreaterThanDisplaySizeRule",wL);var yL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.net=function(t,n,i){if(i.T5<=0)return!1;var r=i&&.8*i.T5;return!(r&&!w(r)&&t.bandwidth)||r>t.bandwidth*this.Iot.playbackRate},n}(dL);BD.Ve.UL("DownloadMetricRule",yL);var mL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.net=function(t){return!0},n}(dL);BD.Ve.UL("LimitVideoQualityToDisplaySizeRule",mL);var kL=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.net=function(t,n){return!n||(n.pJ===KD.uv||t.pJ===KD.uv||(n.pJ===KD.zY||t.pJ===KD.zY||n.pJ===t.pJ))},n}(dL);function pL(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function AL(t,n){var i=n;for(var r in t)tt(t[r])?(i[r]=i[r]||{},AL(t[r],i[r])):Q.call(i,r)||(i[r]=t[r]);return i}function bL(t,n){var i=AL(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case el.c_:case el.h_:break;default:n=el.f_}return t&&t.withCredentials&&(n=el.h_),t&&t.vr&&t.vr[360]&&n===el.f_&&(n=el.c_),n}(i),i}function TL(t){rt(t)&&t.then(S,S)}BD.Ve.UL("OnlyAllowSameTrackTypeRenditionsRule",kL);var EL,SL=500,RL=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],IL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Xot=void 0,r.qS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.wT=function(){var t=r.ZE.fR.error&&r.ZE.fR.error.code;t&&r.oot(new MD(LD.LQ,{code:"VEE"+t}))},r.Wot=function(t){r.dispatchEvent({type:t.type,error:r.ZE.fR.error})},r.qot=function(){a(r.Xot),r.Xot=void 0,r.ZE.fR.removeEventListener("timeupdate",r.qot),r.ZE.Do(Sl.E_,r.qot)},r.zot=function(){void 0!==r.Xot&&r.qot(),r.Xot=o(function(){r.ZE.fR.currentTime+=.1,r.qot()},SL),r.ZE.fR.addEventListener("timeupdate",r.qot),r.ZE.So(Sl.E_,r.qot)},r.Got=function(){switch(r.ZE.fR.readyState){case al.w_:case al.y_:case al.m_:r.zot();break;case al.g_:case al.__:}},r.jot=n,r.ZE=i,r}M(n,t);var i=n.prototype;return i.setup=function(){this.zJ(),this.ZE.fR.parentNode!==this.jot&&this.jot.appendChild(this.ZE.fR),this.loaded=!1,this.ZE.fR.preload="metadata",this.ZE.fR.addEventListener("play",this.Got),this.ZE.fR.addEventListener("loadeddata",this.Got),this.dispatchEvent("Qot")},i.zJ=function(){for(var t=0;t<RL.length;t++){var n=RL[t];this.ZE.fR.addEventListener(n,this.Wot,!0)}this.ZE.fR.addEventListener("error",this.wT,!0),this.ZE.So(Sl.ul,this.Wot),this.ZE.So(Sl.E_,this.Wot)},i.Yot=function(){for(var t=0;t<RL.length;t++){var n=RL[t];this.ZE.fR.removeEventListener(n,this.Wot,!0)}this.ZE.fR.removeEventListener("error",this.wT,!0),this.ZE.Do(Sl.ul,this.Wot),this.ZE.Do(Sl.E_,this.Wot)},i.oot=function(t){this.qS=t,this.dispatchEvent({type:"error",error:t})},i.A7=function(){return T.resolve()},i.load=function(){this.ZE.fR.load(),this.loaded=!0},i.unload=function(){return this.qot(),this.No(),this.Yot(),this.ZE.fR.removeEventListener("play",this.Got),this.ZE.fR.removeEventListener("loadeddata",this.Got),jr(this.ZE.fR),this.ZE.fR},i.play=function(){var t=this.O_;TL(this.ZE.fR.play()),this.O_=t},i.pause=function(){this.ZE.fR.pause()},i.sg=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Nst(0)}catch(t){}this.dispatchEvent("reset")},i.wg=function(){return this.ZE.fR},i.Yut=function(){return this.ZE.fR.currentTime},i.Nst=function(t){this.ZE.fR.currentTime=t},i.canPlayCodecs=function(t){return this.ZE.fR.canPlayType('video/mp4; codecs="'+t+'"')},L(n,[{key:"dst",get:function(){return!0}},{key:"Rg",get:function(){return this.ZE.fR}},{key:"Eg",get:function(){return this.ZE.fR.buffered}},{key:"L_",get:function(){return this.ZE.fR.volume},set:function(t){this.ZE.fR.volume=t}},{key:"duration",get:function(){return this.ZE.fR.duration}},{key:"muted",get:function(){return this.ZE.fR.muted},set:function(t){this.ZE.fR.muted=t}},{key:"paused",get:function(){return this.ZE.fR.paused}},{key:"played",get:function(){return this.ZE.fR.played}},{key:"poster",get:function(){return this.ZE.fR.poster},set:function(t){t?this.ZE.fR.poster=t:this.ZE.fR.removeAttribute("poster")}},{key:"controls",get:function(){return this.ZE.fR.controls},set:function(t){t?this.ZE.fR.controls=t:this.ZE.fR.removeAttribute("controls")}},{key:"ended",get:function(){return this.ZE.fR.ended}},{key:"seeking",get:function(){return this.ZE.fR.seeking}},{key:"error",get:function(){return this.ZE.fR.error}},{key:"width",get:function(){return this.ZE.fR.offsetWidth}},{key:"height",get:function(){return this.ZE.fR.offsetHeight}},{key:"src",get:function(){return this.ZE.fR.src},set:function(t){this.ZE.fR.src=t}},{key:"B_",get:function(){return this.ZE.fR.videoWidth}},{key:"P_",get:function(){return this.ZE.fR.videoHeight}},{key:"ig",get:function(){return this.ZE.fR.textTracks}},{key:"Ntt",get:function(){return this.ZE.fR.duration===1/0}},{key:"Ug",get:function(){var t=this.ZE.fR.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Yut()||0),new yO([{gI:n,yI:i}])}},{key:"O_",get:function(){return this.ZE.fR.playbackRate},set:function(t){t>0&&(this.ZE.fR.playbackRate=t)}},{key:"ql",get:function(){return this.ZE.ql}},{key:"Zot",get:function(){return void 0!==this.ZE.fR.webkitSupportsPresentationMode&&this.ZE.fR.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Jot",get:function(){return"picture-in-picture"===this.ZE.fR.webkitPresentationMode}},{key:"$ot",get:function(){return this.ZE.fR.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.ZE.fR.webkitSetPresentationMode(t)}}]),n}(PD);!function(t){t[t.Kot=0]="Kot",t[t.tat=1]="tat",t[t.rj=2]="rj",t[t.nat=3]="nat",t[t.iat=4]="iat"}(EL||(EL={}));var NL=function(){function t(){this.rat=!1,this.eat=null,this.uat=null,this.sat=null,this.xb=[],this.oat=null}var n=t.prototype;return n.aat=function(){if(!this.rat)return!1;for(var t=this.eat,n=this.uat,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.hat=function(t){switch(t.js){case EL.Kot:return this.fat(t.pu,t.Btt,t.fO);case EL.tat:return this.vat(t.dat);case EL.rj:return this.lat(t._at,t.gat);case EL.nat:return this.Pb();case EL.iat:return this.wat(t.fO)}},n.fat=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.uat,w(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.yat();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.vat=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.uat,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=l.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this.yat();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.lat=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.eat,r=this.uat,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=l.max(e.start(0),n),o=l.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this.yat();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Pb=function(){var t=T.coroutine(de.mark(function t(){var n,i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.eat,i=this.uat,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,ad(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.wat=function(t){return T.resolve(t())},n.mat=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.iF(n)){t.next=5;break}return t.next=3,mu(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.iF=function(t){var n=this.eat;if(!n.open||"open"!==n.readyState||!this.aat())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.yat=function(){var t=this;return new T(function(n,i){var r,e=t.uat,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){h(),u&&!r?n():i(new f(r))},h=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",a),e.removeEventListener("updateend",c)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",a),e.addEventListener("updateend",c)})},n.kat=function(){var t=this;this.sat||(0!==this.xb.length||this.oat)&&this.aat()&&(this.sat=this.pat().then(function(){t.sat=null}))},n.pat=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.xb.length>0)){t.next=9;break}if(this.aat()){t.next=4;break}return t.abrupt("return");case 4:return n=this.xb.shift(),t.next=7,this.hat(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.mat("decode").catch(S);case 16:if(!this.oat){t.next=26;break}return t.prev=17,t.next=20,this.mat(this.oat.Ho);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.oat=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.$b=function(t,n){this.rat||(this.rat=!0,this.eat=t,this.uat=n,this.kat())},n.Hg=function(t,n,i){this.xb.push({js:EL.Kot,pu:t,Btt:n,fO:i}),this.kat()},n.Aat=function(t,n){this.xb.push({js:EL.rj,_at:t,gat:n}),this.kat()},n.bat=function(t){this.xb.push({js:EL.tat,dat:t}),this.kat()},n.wo=function(){this.xb.push({js:EL.nat}),this.kat()},n.Tat=function(t){this.xb.push({js:EL.iat,fO:t}),this.kat()},n.Cit=function(t){this.oat={Ho:t},this.kat()},n.Jo=function(){this.xb.length=0,this.oat=null},t}();var DL=function(t){function n(n){var i;return(i=t.call(this)||this).uat=null,i.Eat=new NL,i.sw=NaN,i.Sat=null,i.bo=function(t){return i.dispatchEvent(t)},i.Rat=function(){return i.u6()},i.eat=n,i.ml(),i}M(n,t);var i=n.prototype;return i.Iat=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.A7=function(t,n,i,r){var e=this;if(!this.uat||!n)return T.resolve();var u=n.initializer.pu,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Sat,u);if(r&&(j.Ce||this.Eat.wo()),r)if(j.Ce);else{var o=t&&t.gI,a=t&&t.gI+t.R_-.5;this.Eat.Aat(o,a)}return s&&(this.Eat.Hg(u,i,this.Iat.bind(this)),this.Sat=u),new T(function(t,r){e.Eat.Hg(n.m4s.pu,i,function(n){n?r(n):t()})})},i.wM=function(){var t=this;return new T(function(n){t.Eat.Tat(function(){var i=t.Eg;i&&i.length&&(t.sw=i.end(i.length-1)),n()})})},i.fF=function(t){if(!this.uat){try{this.uat=this.eat.addSourceBuffer(t),this.uat.addEventListener("updatestart",this.bo),this.uat.addEventListener("updateend",this.bo)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.eat.addEventListener("sourceclose",this.Rat),this.Eat.$b(this.eat,this.uat)}return!0},i.aat=function(){for(var t=0;t<this.eat.sourceBuffers.length;t++)if(this.eat.sourceBuffers[t]===this.uat)return!0;return!1},i.Ea=function(t){var n=this,i=this.Eg;if(!(this.uat&&i&&i.length))return t&&t();this.uat.remove(0,i.end(i.length-1)),t&&this.uat.addEventListener("updateend",function i(r){n.uat.removeEventListener("updateend",i),t()})},i.ml=function(t){this.Sat=null,this.sw=NaN,this.u6(),this.Ea(t)},i.bat=function(t){this.uat&&this.Eat.bat(t)},i.Cit=function(t){this.uat&&this.Eat.Cit(t)},i.u6=function(){this.Eat.Jo(),"open"===this.eat.readyState&&this.uat&&this.uat.updating&&this.uat.abort()},L(n,[{key:"Eg",get:function(){return this.uat&&this.aat()?new yO(SO(this.uat.buffered)):null}},{key:"GO",get:function(){return this.uat&&this.uat.updating}},{key:"I_",get:function(){var t=this.Eg;return!t||!w(this.sw)&&TO(t,this.sw)}}]),n}(PD),CL="mp4a.40.34";var OL=function(t){function n(n){var i;return(i=t.call(this)||this).Nat=!1,i.UN=function(){var t=i.Nat;i.Nat=i.GO,!t&&i.Nat?i.dispatchEvent("updatestart"):t&&!i.Nat&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new DL(n),i.videoTrackBuffer=new DL(n),i.audioTrackBuffer.addEventListener("updatestart",i.UN),i.videoTrackBuffer.addEventListener("updatestart",i.UN),i.audioTrackBuffer.addEventListener("updateend",i.UN),i.videoTrackBuffer.addEventListener("updateend",i.UN),i.ml(),i}M(n,t);var i=n.prototype;return i.A7=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n._Z&&i.push(this.audioTrackBuffer.A7(n.metadata._Z,n._Z,n.metadata._Z&&n.metadata._Z.c2===CL?n.metadata._Z.gI:NaN,n.metadata.h3)),n.gZ&&i.push(this.videoTrackBuffer.A7(n.metadata.gZ,n.gZ,NaN,n.metadata.h3)),t.next=7,T.all(i);case 7:this.I_&&(this.audioTrackBuffer.Cit(),this.videoTrackBuffer.Cit());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Cit=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.wM()),i&&r.push(this.videoTrackBuffer.wM()),t.next=5,T.all(r);case 5:this.I_&&(this.audioTrackBuffer.Cit(),this.videoTrackBuffer.Cit());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$b=function(t){var n,i={};for(var r in t)if(Q.call(t,r)){var e=t[r];if(e.gZ){var u='video/mp4; codecs="'+e.gZ+'"';this.videoTrackBuffer.fF(u),i.gZ=this.videoTrackBuffer}if(e._Z){var s=(n=e._Z)!==CL||yp?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.fF(s),i._Z=this.audioTrackBuffer}0}return i},i.ml=function(t){var n=!1,i=!1;this.Nat=!1,this.audioTrackBuffer.ml(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.ml(function(){if(i=!0,n&&t)return t()})},i.bat=function(t){this.audioTrackBuffer.bat(t),this.videoTrackBuffer.bat(t)},i.u6=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.u6(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.u6()},L(n,[{key:"Eg",get:function(){var t=this.audioTrackBuffer.Eg,n=this.videoTrackBuffer.Eg;return t&&n?AO(t,n):t||n||mO}},{key:"nM",get:function(){return this.audioTrackBuffer.Eg||mO}},{key:"iM",get:function(){return this.videoTrackBuffer.Eg||mO}},{key:"GO",get:function(){return this.audioTrackBuffer.GO||this.videoTrackBuffer.GO}},{key:"I_",get:function(){return this.audioTrackBuffer.I_&&this.videoTrackBuffer.I_}}]),n}(PD),xL=1,PL=.05,BL=.01;function LL(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function ML(t,n,i,r){var e=EO(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-PL)){var s,o;do{if((s=LL(t,n))<0)return;t=(o=n.start(s)+BL)+PL}while(n.end(s)-o<PL);for(var a=o-u,c=AO(new yO([{gI:u,yI:o}]),i),h=0;h<c.length;h++)a-=c.end(h)-c.start(h);return r&&e>=0&&(a-=n.end(e)-u),a<xL?o:void 0}}var UL=100,FL=1e-4,HL=500,VL=bp,XL=j.ke,WL=5,qL=["resize","volumechange"],zL=function(n){function i(t,i){var r;return(r=n.call(this)||this).Dat=!0,r.I_=!1,r.Cat=!1,r.Oat=!1,r.xat=null,r.Ho=!1,r.eat=null,r.uat=null,r.Pat=null,r.rat=!1,r.Bat=0,r.Lat=iA.tN(),r.Nut=1,r.Mat=!1,r.EF=!1,r.x_=!1,r.Uat=new uu,r.Fat=!1,r.Hat=!1,r.Vat=void 0,r.Xat=null,r.Wat=null,r.qat=al.__,r.zat=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Gat=function(){r.zat=!1,r.jat(),r.Qat(),r.Yat()},r.Zat=function(){r.Jat(),r.Yat(),r.$at()},r.JS=function(){r.Kat(),r.Jat(),r.DF()?r.dispatchEvent("playing"):r.zat=!0},r.tct=function(){r.zat=!1,r.jat(),r.sg()},r.nF=function(){r.nct()},r.ZS=function(){r.ict(),r.$at()},r.PU=function(){var t=r.qat,n=r.ql;t!==n&&(r.qat=n,r.dispatchEvent(new Wl(r.Yut(),n))),r.$at()},r.Qat=function(){r.Bat&&(h(r.Bat),r.Bat=0,XL&&(r.ZE.fR.removeEventListener("timeupdate",r.$V),r.removeEventListener(Sl.ul,r.rX)))},r.rct=function(){r.Bat||(r.Bat=c(r.ect,HL)),XL&&(r.ZE.fR.addEventListener("timeupdate",r.$V),r.addEventListener(Sl.ul,r.rX),r.$V()),r.ect()},r.uct=function(){var t=r.Yut(),n=TO(r.sct,t);r.ZE.C_||r.x_&&!n||r.act()||r.rct()},r.ect=function(t){if(!(r.Xat||void 0===t&&r.Hat)){var n,i=r.Yut(),e=r.Eg;if(void 0===t){if(void 0===(n=ML(i,e,r.sct,r.Cat)))return}else{if(!TO(e,t))return;n=t}var u=function(){r.ZE.fR.currentTime=n,r.cct(n),r.Qat(),r.Hat=!0};zt(n,i)?r.Xat=o(function(){r.Xat=null,i=r.Yut(),zt(n,i)&&(n+=1e3*HL,u())},HL):u()}},r.WX=function(){var t=r.Pat;if(r.hct(),r.ZE.fR.readyState===al.__)return r.Pat=t,void r.ZE.fR.addEventListener("loadedmetadata",r.WX);l.abs(r.ZE.fR.currentTime-t)<FL?r.ZS():(r.ZE.fR.currentTime=t,r.Hat=!1,r.nF()),r.Pat=null,r.SP(r.Nut),r.ZE.LX(),r.fct(t)&&r.sg()},r.vct=function(){if(!r.Cat){var t=r.ZE.fR,n=r.Eg,i=t.currentTime;r.dct(n,i)&&(r.Cat=!0,r.Jat(),i=t.currentTime,r.dct(n,i)?r.Cat=!0:r.Cat=!1,r.PU()),r.Wat=i}},r.Kat=function(){r.jat(),r.xat=c(r.vct,UL)},r.jat=function(){r.Cat=!1,h(r.xat)},r.lct=function(){r.Cat&&(r.Cat=!1,r.PU())},r.$V=function(){var t=r.uat;if(t)if(t.I_)r.KV();else{var n=t.nM,i=t.iM;if(0!==n.length&&0!==i.length){var e=r.Yut();if(e<n.start(0)||e<i.start(0))r.KV();else TO(n,e)!==TO(i,e)?r.tX():r.KV()}else r.KV()}},r.rX=function(){if(!(r.x_||r.Hat||r.ZE.fR.seeking||r.ql>=al.y_)){var t=r.uat;if(t){var n=r.Yut(),i=iA.JI(t.nM),e=iA.JI(t.iM);if(i.CR(n)&&e.CR(n))i.MI(e).XI(n-WL,n)&&(r.ZE.fR.currentTime=n,r.Hat=!0)}}},r._ct=function(){r.eat.open=!0,r.eat.removeEventListener("sourceopen",r._ct),r.eat.removeEventListener("webkitsourceopen",r._ct)},r.wT=function(t){var n=r.ZE.fR.error&&r.ZE.fR.error.code;n&&r.oot(new MD(LD.LQ,{code:"VEE"+n}))},r.bo=function(t){r.dispatchEvent({type:t.type})},r.gct=function(){r.uat&&r.uat.I_&&r.dispatchEvent("durationchange")},r.wct=function(){r.removeEventListener("yct",r.wct),r.Fat=!1,r.mct(r.Nut)},r.kct=t,r.ZE=i,r}M(i,n);var e=i.prototype;return e.mct=function(t){this.EF&&(t=0),this.ZE.O_=t,0!==t||VL?this.Mat&&(this.Mat=!1,TL(this.ZE.eg())):(this.Mat=!this.ZE.C_||this.Mat,this.ZE.ug()),this.Yat()},e.SP=function(t){this.Nut=t,this.Fat||this.mct(t)},e.pct=function(t){var n=EO(this.sct,t);return-1===n?null:this.sct.end(n)},e.nct=function(){this.Hat||this.x_||(this.x_=!0,this.dispatchEvent("seeking"))},e.ict=function(){this.Hat=!1,this.Act(),this.x_&&(this.x_=!1,this.dispatchEvent("seeked")),this.uct()},e.Jat=function(){this.Hat||this.uct()},e.Act=function(){this.Vat&&(a(this.Vat),this.Vat=void 0)},e.cct=function(t){var n=this;this.Vat=o(function(){n.ect(t+2)},750)},e.$at=function(){this.zat&&this.DF()&&(this.zat=!1,this.dispatchEvent("playing"))},e.Yat=function(){var t=this.Dat,n=this.paused;this.Dat=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},e.yM=function(t,n){if(!(t+.001>n)){var i=new iA([t,n]);this.Lat=this.Lat.LI(i).UI(iA.JI(this.Eg)),this.Lat.CR(this.Yut())&&this.uct()}},e.fct=function(t){return t>=this.ZE.fR.duration-(this.paused?0:.5)},e.bct=function(t){return w(this.ZE.fR.duration)||(t=l.min(t,this.ZE.fR.duration)),l.max(0,t)},e.hct=function(){this.Pat=null,this.ZE.fR.removeEventListener("loadedmetadata",this.WX)},e.OF=function(){return this.ql<al.y_},e.DF=function(){return!(this.paused||this.ended||this.error||this.OF())},e.dct=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-PL)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Wat&&this.Wat===n){if(this.fct(n))return!1;if(e>n||r-n<1/6)return!0}return!1},e.tX=function(){this.EF||(this.EF=!0,this.mct(0),this.PU())},e.KV=function(){this.EF&&(this.EF=!1,this.SP(this.Nut),this.ZE.fR.currentTime=this.ZE.fR.currentTime,this.PU())},e.Tct=function(){var t=this.ZE.fR;t.addEventListener("timeupdate",this.lct),this.ZE.So(qo.Jc,this.Gat),this.ZE.So(qo.$c,this.Zat),this.ZE.So(qo.Wc,this.tct),t.addEventListener("seeking",this.nF),t.addEventListener("seeked",this.ZS);for(var n=0;n<qL.length;n++){var i=qL[n];t.addEventListener(i,this.bo)}t.addEventListener("error",this.wT),t.addEventListener("durationchange",this.gct),this.ZE.So(qo.vh,this.bo),this.ZE.So(Sl.ul,this.PU),this.ZE.So(Sl.E_,this.JS)},e.Ect=function(){var t=this.ZE.fR;t.removeEventListener("timeupdate",this.lct),this.ZE.Do(qo.Jc,this.Gat),this.ZE.Do(qo.$c,this.Zat),this.ZE.Do(qo.Wc,this.tct),t.removeEventListener("seeking",this.nF),t.removeEventListener("seeked",this.ZS);for(var n=0;n<qL.length;n++){var i=qL[n];t.removeEventListener(i,this.bo)}t.removeEventListener("error",this.wT),t.removeEventListener("durationchange",this.gct),this.ZE.Do(qo.vh,this.bo),this.ZE.Do(Sl.ul,this.PU),this.ZE.Do(Sl.E_,this.JS)},e.Sct=function(){var n=this.ZE.fR,i=r.MediaSource||r.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Rct(),this.eat=new i,this.eat.addEventListener("sourceopen",this._ct),this.eat.addEventListener("webkitsourceopen",this._ct),n.src=iO(this.eat),n.load()):this.oot(new MD(LD.UQ,{code:"MVE2720"})):this.oot(new MD(LD.UQ,{code:"MVE2650"}))},e.Rct=function(){if(this.rat=!1,this.uat&&(this.uat.ml(),this.uat=null),this.eat){this.Uat.wo();var t=this.ZE.fR;t.src&&(rO(t.src),jr(t)),this.eat=null}},e.setup=function(){this.Sct(),this.Tct(),this.ZE.fR.parentNode!==this.kct&&this.kct.appendChild(this.ZE.fR)},e.oot=function(t){this.Ho=t,this.dispatchEvent({type:"error",error:t})},e.act=function(){return this.uat&&this.uat.GO},e.Ict=function(t){var n=this.Yut()-l.max(30,3*t.MZ._Y.targetDuration);this.dispatchEvent("yct"),this.uat&&!t.c3&&this.uat.bat(n),this.uct()},e.A7=function(t){if(!this.eat.open||"closed"===this.eat.readyState)return T.reject("Nct");if(!this.uat)return T.reject("Dct");var n=this.Cct(t);return this.Oat||(this.Oat=!0,this.dispatchEvent({type:"canplay"},!0)),n},e.Cct=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.uat.A7(n)),i.c3&&r.push(this.Cit(!!n._Z,!!n.gZ)),n=null,t.next=7,T.all(r);case 7:this.Ict(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),e.Cit=function(t,n){return this.eat.open&&"closed"!==this.eat.readyState?this.uat?this.uat.Cit(t,n):T.reject("Dct"):T.reject("Nct")},e.play=function(){var t=this.ZE.O_;this.I_=!1,0!==this.ZE.O_||VL?(TL(this.ZE.eg()),this.ZE.LX(),this.ZE.O_=t):this.Mat=!0,this.Yat()},e.pause=function(){0!==this.ZE.O_||VL?this.ZE.ug():this.Mat=!1,this.Yat()},e.sg=function(){this.I_||(this.I_=!0,this.ZE.ug(),this.dispatchEvent("ended"))},e.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},e.unload=function(){return h(this.xat),this.xat=null,this.Qat(),this.hct(),this.Rct(),this.Ect(),this.No(),this.ZE.fR},e.reset=function(){h(this.xat),this.xat=null,this.Qat(),this.hct(),this.Dat=!0,this.I_=!1,this.Cat=!1,this.Oat=!1,this.Ho=!1,this.x_=!1,this.zat=!1,this.KV(),this.Sct(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},e.wg=function(){return this.ZE.fR},e.Yut=function(){return null===this.Pat?this.ZE.fR.currentTime:this.Pat},e.Nst=function(t){var n=this.pct(t);t=this.bct(t),this.Cat=!1,this.ZE.fR.error&&(this.Oat=!1,this.Ho=!1,this.Sct()),this.I_&&(this.I_=this.fct(t)),this.Qat(),null!==n&&(t=n),this.hct(),this.Pat=t,this.x_=!0,this.dispatchEvent("Ast"),this.dispatchEvent("seeking"),this.WX()},e.Oct=function(t){return this.eat.open?T.resolve(null):ad(this.eat,"sourceopen",t)},e.xct=function(t,n,i){au(i),n>0&&(this.eat.duration=n),this.uat=new OL(this.eat);var r=this.uat.$b(t);return this.dispatchEvent("Qot"),this.uat.addEventListener("updatestart",this.Qat),this.uat.addEventListener("updateend",this.uct),this.rat=!0,this.dispatchEvent("rat"),r},e.lst=function(t,n,i){var r=this;this.Uat.wo();var e=new uu;return e.yo(i),this.Uat=e,this.uat?T.resolve(null):this.Oct(e.ko).then(function(){return r.xct(t,n,i)})},e._$=function(t){j.Ce&&(this.Fat=!0,this.mct(0),this.removeEventListener("yct",this.wct),this.addEventListener("yct",this.wct),this.uat&&this.uat.u6(t))},e.canPlayCodecs=function(t){return this.ZE.fR.canPlayType('video/mp4; codecs="'+t+'"')},L(i,[{key:"sct",get:function(){return this.Lat.OR()}},{key:"ql",get:function(){var t=this.ZE.ql;return t>al.w_&&(this.Cat||this.EF)?al.w_:t}},{key:"Rg",get:function(){return this.ZE.fR}},{key:"Eg",get:function(){return this.uat?this.uat.Eg:this.ZE.fR.buffered}},{key:"nM",get:function(){return this.uat?this.uat.nM:mO}},{key:"iM",get:function(){return this.uat?this.uat.iM:mO}},{key:"volume",get:function(){return this.ZE.fR.volume},set:function(t){this.ZE.fR.volume=t}},{key:"duration",get:function(){return this.ZE.fR.duration}},{key:"muted",get:function(){return this.ZE.fR.muted},set:function(t){this.ZE.fR.muted=t}},{key:"paused",get:function(){return this.ZE.C_&&!this.Mat}},{key:"played",get:function(){return this.ZE.fR.played}},{key:"poster",get:function(){return this.ZE.fR.poster},set:function(t){t?this.ZE.fR.poster=t:this.ZE.fR.removeAttribute("poster")}},{key:"controls",get:function(){return this.ZE.fR.controls},set:function(t){t?this.ZE.fR.controls=t:this.ZE.fR.removeAttribute("controls")}},{key:"ended",get:function(){return this.I_}},{key:"seeking",get:function(){return this.x_}},{key:"error",get:function(){return this.Ho||this.ZE.fR.error}},{key:"width",get:function(){return this.ZE.fR.offsetWidth||this.ZE.fR.parentNode.offsetWidth}},{key:"height",get:function(){return this.ZE.fR.offsetHeight||this.ZE.fR.parentNode.offsetHeight}},{key:"O_",get:function(){return this.Nut},set:function(t){var n=this.Nut;t>0&&(this.SP(t),this.Nut!==n&&this.dispatchEvent("ratechange"))}},{key:"B_",get:function(){return this.ZE.fR.videoWidth||0}},{key:"P_",get:function(){return this.ZE.fR.videoHeight||0}},{key:"dst",get:function(){return this.rat}}]),i}(PD),GL=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Pct","_$",Sl.ul],jL=.04,QL=.25,YL=4,ZL=.75,JL=1.5,$L=.25,KL=function(t){function n(){var n;return(n=t.call(this)||this).Bct=null,n.Lct=null,n.uN=!1,n.cN=1,n.oN=1,n.Mct=null,n.Uct=void 0,n.Wot=function(t){n.dispatchEvent(t)},n.Fct=function(t){n.Lct||n.dispatchEvent(t)},n.Hct=function(t){var i=t.error||n.Lct.error;n.audioStream=null,n.Mct=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Mct})},n.Vct=function(){n.Lct&&!n.Lct.loaded||n.Bct&&!n.Bct.loaded||(n.Lct&&(n.Lct.removeEventListener("loaded",n.Vct),n.Lct.play()),n.Bct&&(n.Bct.removeEventListener("loaded",n.Vct),n.Bct.play()))},n.Xct=function(){n.Wct(),n.Lct&&n.Bct&&(n.Lct.addEventListener("timeupdate",n.qct),n.Bct.addEventListener("timeupdate",n.qct))},n.Wct=function(){a(n.Uct),n.Lct&&n.Lct.removeEventListener("timeupdate",n.qct),n.Bct&&(n.Bct.O_=n.oN,n.Bct.removeEventListener("timeupdate",n.qct))},n.zct=function(){n.ql<al.y_&&n.Wct()},n.qct=function(){if(a(n.Uct),n.Lct&&n.Bct){var t=n.Lct.O_,i=n.Lct.Yut()-n.Bct.Yut(),r=l.max(YL,JL*t),e=l.min(QL,ZL*t);if(l.abs(i)<jL)n.Bct.O_!==t&&(n.Bct.O_=t);else{var u=$L,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.Bct.O_=s,n.Uct=o(n.qct,1e3*u)}}else n.Wct()},n.addEventListener("playing",n.Xct),n.addEventListener("ended",n.Wct),n.addEventListener(Sl.ul,n.zct),n}M(n,t);var i=n.prototype;return i.h$=function(t,n){n?(t.addEventListener("timeupdate",this.Wot),t.addEventListener("error",this.Hct)):(t.addEventListener("timeupdate",this.Fct),t.addEventListener("error",this.Wot));for(var i=0;i<GL.length;i++){var r=GL[i];t.addEventListener(r,this.Wot)}},i.Oo=function(t){t.removeEventListener("timeupdate",this.Wot),t.removeEventListener("timeupdate",this.Fct),t.removeEventListener("timeupdate",this.qct),t.removeEventListener("error",this.Wot),t.removeEventListener("error",this.Hct),t.removeEventListener("loaded",this.Vct);for(var n=0;n<GL.length;n++){var i=GL[n];t.removeEventListener(i,this.Wot)}},i.Gct=function(t){this.Lct&&this.Lct.Gct(t),this.Bct&&this.Bct.Gct(t)},i.play=function(){if(this.Lct&&!this.Lct.loaded||this.Bct&&!this.Bct.loaded)return this.Lct&&this.Lct.addEventListener("loaded",this.Vct),void(this.Bct&&this.Bct.addEventListener("loaded",this.Vct));this.Vct()},i.pause=function(){this.Lct&&(this.Lct.removeEventListener("loaded",this.Vct),this.Lct.pause()),this.Bct&&(this.Bct.removeEventListener("loaded",this.Vct),this.Bct.pause()),this.Wct()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Lct&&this.Lct.load(),-1!==t.indexOf("video")&&this.Bct&&this.Bct.load()):(this.Lct&&this.Lct.load(),this.Bct&&this.Bct.load())},i.Rv=function(t){this.No(),this.Mct=null,t?(-1!==t.indexOf("audio")&&this.Lct&&(this.Lct.Rv(),this.Lct=null),-1!==t.indexOf("video")&&this.Bct&&(this.Bct.Rv(),this.Bct=null)):(this.Lct&&(this.Lct.Rv(),this.Lct=null),this.Bct&&(this.Bct.Rv(),this.Bct=null))},i._$=function(t){this.Lct&&this.Lct.pause(),this.Bct&&this.Bct.pause(),this.Wct(),t&&-1===t.indexOf("audio")||!this.Lct||this.Lct._$(),t&&-1===t.indexOf("video")||!this.Bct||this.Bct._$()},i.A7=function(t){this.Lct&&t._Z&&this.Lct.A7(t),this.Bct&&t.gZ&&this.Bct.A7(t)},i.jct=function(t){return this.Bct?this.Bct.jct(t):""},i.Qct=function(){return this.Bct?this.Bct.Qct():0},i.Yct=function(){return this.Bct?this.Bct.Yct():0},i.wg=function(){return this.Bct&&this.Bct.wg()},i.Yut=function(){return this.Lct?this.Lct.Yut():this.Bct?this.Bct.Yut():NaN},i.Nst=function(t,n){this.Lct&&this.Lct.Nst(t,n),this.Bct&&this.Bct.Nst(t,n)},L(n,[{key:"Eg",get:function(){return this.Lct&&this.Bct?AO(this.Lct.Eg,this.Bct.Eg):this.Lct?this.Lct.Eg:this.Bct?this.Bct.Eg:mO}},{key:"volume",get:function(){return this.cN},set:function(t){this.cN!==t&&(this.cN=t,this.Lct&&(this.Lct.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Lct&&this.Lct.duration||this.Bct&&this.Bct.duration||NaN}},{key:"muted",get:function(){return this.uN},set:function(t){this.uN!==t&&(this.uN=t,this.Lct&&(this.Lct.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Lct&&!this.Bct)&&(!(this.Lct&&!this.Lct.loaded)&&!(this.Bct&&!this.Bct.loaded))}},{key:"paused",get:function(){return!this.Lct&&!this.Bct||(this.Lct&&this.Lct.paused||this.Bct&&this.Bct.paused||!1)}},{key:"ended",get:function(){return this.Lct&&this.Lct.ended||this.Bct&&this.Bct.ended||!1}},{key:"seeking",get:function(){return this.Lct&&this.Lct.seeking||this.Bct&&this.Bct.seeking||!1}},{key:"error",get:function(){return this.Lct&&this.Lct.error||this.Bct&&this.Bct.error}},{key:"warning",get:function(){return this.Mct||this.Lct&&this.Lct.warning||this.Bct&&this.Bct.warning}},{key:"audioStream",get:function(){return this.Lct},set:function(t){this.Lct&&(this.Oo(this.Lct),this.Lct.Rv()),this.Lct=t,this.Lct&&(this.Lct.volume=this.cN,this.Lct.muted=this.uN,this.Lct.O_=this.oN,this.h$(this.Lct,!0))}},{key:"videoStream",get:function(){return this.Bct},set:function(t){this.Bct&&(this.Oo(this.Bct),this.Bct.Rv()),this.Bct=t,this.Bct&&(this.Bct.O_=this.oN,this.h$(this.Bct,!1))}},{key:"O_",get:function(){return this.oN},set:function(t){this.oN!==t&&(t<0||(this.oN=t,this.Lct&&(this.Lct.O_=t),this.Bct&&(this.Bct.O_=t),this.dispatchEvent("ratechange")))}},{key:"ql",get:function(){return this.Lct&&this.Bct?l.min(this.Lct.ql,this.Bct.ql):this.Lct?this.Lct.ql:this.Bct?this.Bct.ql:al.__}},{key:"B_",get:function(){return this.Bct?this.Bct.B_:0}},{key:"P_",get:function(){return this.Bct?this.Bct.P_:0}}]),n}(PD),tM=function(){function t(t,n,i,r){var e=this;this.uw=void 0,this.tv=0,this.pv=0,this.running=!1,this.Zct=function(t){return e.Sa(t)},this.Jct=t,this.$ct=n,this.R_=i,this.fO=r,this.Kct=t.Qo(),this.tht=(n-this.Kct)/(i||1)}var n=t.prototype;return n.nht=function(){return this.Jct.Cc(this.$ct),this.running=!1,this.iht(),this.fO()},n.gI=function(){var t=this;this.running=!0,this.R_?this.rht():xD(function(){t.running&&t.nht()})},n.Sa=function(t){if(this.iht(),this.running){void 0===this.uw&&(this.uw=t);var n=this.Kct,i=this.tht,r=this.$ct,e=this.Jct,u=n+l.max(0,t-this.uw)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.nht();if(e.Cc(u))return this.nht();this.rht()}},n.rht=function(){this.tv=dT(this.Zct),this.pv=hT(this.Zct)},n.iht=function(){lT(this.tv),vT(this.pv)},t}();var nM=function(t){function n(n,i){var r;return(r=t.call(this)||this).eht=null,r.uht=null,r.sht=NaN,r.oht=!1,r.aht=!1,r.cht=1,r.hht=void 0,r.fht=void 0,r.vht=function(t){r.dht(t)||r.dispatchEvent(t)},r._ht=n,r.bu=i,r}M(n,t);var i=n.prototype;return i.pause=function(){this._ht.pause()},i.play=function(){TL(this._ht.play()),this.ght()},i.wht=function(t){if(!(this.ql<al.y_))return this.u6(),this.oht=!0,this.vht({type:"canplay"}),t&&t();this.hht=o(this.fht,100)},i.Ta=function(t){this.aht=!0,this.oht=!1,this._ht.removeEventListener("canplay",this.fht),this.fht=this.wht.bind(this,t),this._ht.addEventListener("canplay",this.fht),this._ht.load(),this.hht=o(this.fht,100)},i.u6=function(){this.aht=!1,this._ht.removeEventListener("canplay",this.fht),void 0!==this.hht&&(a(this.hht),this.hht=void 0)},i.yht=function(t){if(this.pause(),this.u6(),null===t)return this.eht=null,void(this.oht=!1);this.oht=!1,this.uht&&this.uht.M6(this._ht.src),this.uht=t[this.bu],this._ht.src=this.uht.U6,this.eht=t},i.wg=function(){return this._ht},i.mht=function(t){this.sht=l.max(t||0,0),this._ht.currentTime=this.sht},i.kht=function(){return this._ht.currentTime},i.pht=function(t){var n=this.eht&&this.eht.metadata,i=n&&n.gI,r=n&&n[this.bu].gI,e=n&&n[this.bu].R_;return!!this.C0&&(!(t<i)&&t<r+l.min(e,this._ht.duration))},i.ght=function(){this.cht!==this._ht.playbackRate&&(this._ht.playbackRate=this.cht,Tp&&this.cht>0&&this.ql!==al.__&&(this._ht.currentTime=this._ht.currentTime))},i.dht=function(t){return!!(Tp&&"seeked"===t.type&&l.abs(this._ht.currentTime-this.sht)>.04)},i.addEventListener=function(n,i){this.RQ(n)||this._ht.addEventListener(n,this.vht),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.RQ(n)||this._ht.removeEventListener(n,this.vht)},i.No=function(){for(var n=0,i=this.IQ();n<i.length;n++){var r=i[n];this._ht.removeEventListener(r,this.vht)}t.prototype.No.call(this)},i.unload=function(){this.uht&&this.uht.M6(this._ht.src),this.No()},L(n,[{key:"volume",get:function(){return this._ht.volume},set:function(t){this._ht.volume=t}},{key:"muted",get:function(){return this._ht.muted},set:function(t){this._ht.muted=t}},{key:"style",get:function(){return this._ht.style}},{key:"gI",get:function(){return this.eht?this.eht.metadata[this.bu].gI:NaN}},{key:"yI",get:function(){return this.eht?this.gI+this.eht.metadata[this.bu].R_:NaN}},{key:"Aht",get:function(){return this.eht?this.gI+this.bht:NaN},set:function(t){this.eht?this.bht=t-this.gI:this.bht=0}},{key:"bht",get:function(){return this.kht()},set:function(t){this.mht(t)}},{key:"Tht",get:function(){return this.eht},set:function(t){this.yht(t)}},{key:"B6",get:function(){return this.eht&&this.eht.metadata.c3}},{key:"C0",get:function(){return!(!this.oht||!this.eht)}},{key:"Eht",get:function(){return!(!this.aht||!this.eht)}},{key:"O_",get:function(){return this.cht},set:function(t){t>=0&&this.cht!==t&&(this.cht=t,this.ght())}},{key:"C_",get:function(){return this._ht.paused}},{key:"I_",get:function(){return this._ht.ended}},{key:"Ho",get:function(){return this._ht.error}},{key:"B_",get:function(){return this._ht.videoWidth}},{key:"P_",get:function(){return this._ht.videoHeight}},{key:"ql",get:function(){return this._ht.readyState}}]),n}(PD);function iM(t,n){return i=t.Tht.metadata.MZ,r=n.Tht.metadata.MZ,i.bandwidth&&r.bandwidth&&$_(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&$_(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||J_(i.jQ,r.jQ)||$_(t.yI,n.yI);var i,r}function rM(t){return{gI:t.gI,yI:t.yI}}function eM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.gI<=n&&n<r.yI)return i}return-1}function uM(t,n,i){return{gI:n?i.metadata.E6:i.metadata[t].gI,yI:i.metadata[t].gI+i.metadata[t].R_}}function sM(t,n,i){return new yO([uM(t,n,i)])}function oM(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(uM(t,n,u))}return pO(new yO(r))}function aM(t,n,i){if(!n)return!1;var r=n.metadata[t].gI,e=r+n.metadata[t].R_;return r<=i&&i<=e}function cM(t,n){var i=EO(t,n);return i<0?n:t.end(i)}var hM=function(){function t(t){this.f1=[],this.Sht=mO,this.Rht=mO,this.js=t}var n=t.prototype;return n.A7=function(t){var n,i;this.f1=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.Tht===t?e.yI=r:i.push({Tht:t,gI:n,yI:r})},e=0;e<t.length;e++){var u=t[e];if(u.yI<=n.gI)r(u.Tht,u.gI,u.yI);else if(u.gI>=n.yI)n.gI<n.yI&&(r(n.Tht,n.gI,n.yI),n.gI=n.yI),r(u.Tht,u.gI,u.yI);else{var s=void 0,o=void 0;iM(n,u)>=0?(s=u,o=n):(s=n,o=u);var a=s.gI,c=o.gI,h=l.min(o.yI,u.yI),f=l.min(s.yI,u.yI);a<c&&r(s.Tht,a,c),c<h&&r(o.Tht,c,h),h<f&&r(s.Tht,h,f),n.gI=l.max(n.gI,u.yI)}}return n.gI<n.yI&&r(n.Tht,n.gI,n.yI),i}(this.f1,function(t,n){var i=n.metadata[t].gI;return{Tht:n,gI:i,yI:i+n.metadata[t].R_}}(this.js,t)),this.Sht=RO(this.Sht,sM(this.js,!1,t)),this.Rht=RO(this.Rht,sM(this.js,!0,t)),this.Rht=(n=this.Rht,i=this.Sht,AO(n,bO(i)))},n.Iht=function(t){t=this.Nht(t);var n=eM(this.f1,t);return n>=0?this.f1[n].Tht:null},n.Dht=function(t,n,i,r){t=this.Nht(t);var e=this.f1,u=eM(e,t);if(u<0)return null;var s=e[u];if(!i||!aM(this.js,i,t))return r&&aM(this.js,r,t)?null:s.Tht;if(i!==s.Tht){if(r&&r===s.Tht)return null;if(s.yI-t>n)return s.Tht}for(var o=u+1;o<e.length;o++){var a=e[o];if(r&&r===a.Tht)return null;if(a.yI-t>n)return a.Tht;for(var c=[i],h=o+1;h<e.length;h++)c.push(e[h].Tht);var f=oM(this.js,!1,c);c.push(a.Tht);var v=oM(this.js,!1,c);if(cM(f,t)<cM(v,t))return a.Tht}return null},n.Cht=function(t,n){for(var i=this.f1,r=i.length-1;r>=0;r--){var e=i[r];(e.yI<=t||e.gI>=n)&&$e(i,r)}},n.ml=function(){this.f1.length=0,this.Sht=mO,this.Rht=mO},n.Nht=function(t){var n=ML(t,this.Eg,this.Rht,!1);return void 0===n?t:n},L(t,[{key:"Eg",get:function(){var t=this.f1.map(rM);return pO(new yO(t))}}]),t}(),fM=5,vM=30,dM=function(t){function n(n,i){var r,e;(r=t.call(this)||this).uc={_Z:{Oht:100,xht:100,Pht:100},gZ:{Oht:500,xht:100,Pht:200}},r.qS=null,r.Mct=null,r.Bht=null,r.Lht=null,r.Mht=0,r.Uht=null,r.Fht=!1,r.mj=!1,r.Hht=0,r.Vht=0,r.Xht=al.__,r.bat=function(){var t=r.Yut();r.Wht.Cht(t-fM,t+vM)},r.qht={zht:(e=rn(r),{Ta:function(){e.Ght.addEventListener("ended",this.jht),e.Qht.addEventListener("ended",this.Yht)},Rv:function(){e.Ght.removeEventListener("ended",this.jht),e.Qht.removeEventListener("ended",this.Yht)},Zht:function(){},jht:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Ght})},Yht:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Qht})}}),Ib:{tu:"Ib",Ta:function(){},Rv:function(){},Zht:function(){}},Jht:function(){var t=rn(r),n=function n(){t.Ght.removeEventListener("play",n),t.Ght.removeEventListener("timeupdate",i),t.Ght.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Ght.C_||(!t.seeking&&t.Ght.Tht?(i=t.Ght,(r=t.Qht).C0&&lM(i,r)>=0&&t.$ht(t.qht.Kht)):t.Ght.removeEventListener("timeupdate",n))};return{tu:"Jht",Ta:function(){t.qht.zht.Ta.call(this),this.tft(),this.Zht()},Rv:function(){t.qht.zht.Rv.call(this),t.Ght.removeEventListener("play",n),t.Ght.removeEventListener("timeupdate",i)},Zht:function(){t.Ght.Tht?t.Zht(t.Qht,t.nft):t.Zht(t.Ght,t.nft)},jht:function(){var n=t.Qht.Tht;if(n&&n.metadata.h3)return t.Qht.pht(t.Ght.Aht)&&(t.Qht.Aht=t.Ght.Aht),t.ift(),void t.Ght.play();t.qht.zht.jht.call(this)},Yht:function(){0},tft:function(){t.Ght.removeEventListener("play",n),t.Ght.C_?t.Ght.addEventListener("play",n):n.call(t.Ght)}}}(),Kht:function(){var t=rn(r),n=function(){r.$ht(r.qht.rft)};return{tu:"Kht",Ta:function(){t.qht.zht.Ta.call(this),t.Qht.addEventListener("seeked",n);var i=lM(t.Ght,t.Qht),r=t.uc[t.bu].Oht/1e3,e=l.min(i+r,t.Qht.yI);try{t.Qht.bht=e}catch(n){t.$ht(t.qht.Jht),t.eft(n.message)}},Rv:function(){t.qht.zht.Rv.call(this),t.Qht.removeEventListener("seeked",n)},Zht:function(){},jht:function(){t.qht.zht.jht.call(this)},Yht:function(){}}}(),rft:function(){var t,n=rn(r),i=function(){u()},e=function(){u()},u=function(){lT(t),r.Qht.Aht-r.Ght.Aht-1/60>0?t=dT(i):r.$ht(r.qht.uft)};return{tu:"rft",Ta:function(){n.qht.zht.Ta.call(this),n.Ght.addEventListener("timeupdate",e),u()},Rv:function(){n.qht.zht.Rv.call(this),lT(t),n.Ght.removeEventListener("timeupdate",e)},Zht:function(){},jht:function(){n.qht.zht.jht.call(this)},Yht:function(){n.qht.zht.Yht.call(this)}}}(),uft:function(){var t,n=rn(r),i=function(){var t=r.sft(r.Qht),n=r.uc[r.bu].xht/l.max(1,r.Ght.O_);return function(t,n,i,r){return new tM(t,n,i,r)}(t,t.oft,n,function(){r.$ht(r.qht.aft),r.qht.aft.cft()})},e=function(){r.Bht.gI(),r.$ht(r.qht.aft)};return{tu:"uft",Ta:function(){n.qht.zht.Ta.call(this);var r=n.uc[n.bu].Pht/l.max(1,n.Ght.O_);n.Bht=i(),t=o(e,r),n.Qht.play()},Rv:function(){n.qht.zht.Rv.call(this),a(t),t=0},Zht:function(){},jht:function(){n.qht.zht.jht.call(this)},Yht:function(){n.qht.zht.Yht.call(this)}}}(),aft:function(){var t=rn(r);return{tu:"aft",Ta:function(){t.qht.zht.Ta.call(this)},Rv:function(){t.qht.zht.Rv.call(this),t.Bht&&t.Bht.nht()},Zht:function(){},jht:function(){t.qht.zht.jht.call(this)},Yht:function(){t.qht.zht.Yht.call(this)},cft:function(){t.Bht=null,t.ift()}}}()},r.hft={fft:function(){var t=rn(r);return{Ta:function(){},Rv:function(){},Zht:function(){t.vft.Zht()},Nst:function(n,i,r,e){t.Mht=n,t.Uht=e,t.$ht(t.qht.Ib);var u=t.Ght===t.dft?i:r,s=t.Qht===t.dft?i:r;u&&t.Ght.pht(n)?t.lft(t.hft._ft):s&&t.Qht.pht(n)?t.lft(t.hft.gft):t.lft(t.hft.wft)}}}(),wft:function(){var t=rn(r),n=function(){r.nft(),r.Qht.C0?(r.Qht.pht(r.Mht)||(r.yft('Could not seek to exact timestamp "'+r.Mht+'", seeking instead to: "'+r.Qht.gI+'"'),r.Mht=r.Qht.gI),r.lft(r.hft.gft)):r.lft(r.hft.fft)};return{Ta:function(){t.mft(),t.Ght.Tht=null,t.Qht.Tht=null,t.Qht.style.display="none",t.nft(),this.Zht()},Rv:function(){t.Qht.u6(),t.Qht.style.display=""},Zht:function(){t.Qht.Tht||t.Zht(t.Qht,n)},Nst:function(n,i,r,e){t.kft(),t.pft.Nst(n,i,r,e)}}}(),_ft:function(){var t=rn(r),n=function(){r.lft(r.hft.fft),r.$ht(r.qht.Jht),r.bF(),r.Uht&&(r.Uht.call(t),r.Uht=null)};return{Ta:function(){t.Ght.addEventListener("seeked",n);try{t.Ght.Aht=t.Mht,t.bF()}catch(n){t.eft(n.message)}},Rv:function(){t.Ght.removeEventListener("seeked",n)},Zht:function(){},Nst:function(n,i,r,e){t.kft(),t.pft.Nst(n,i,r,e)}}}(),gft:function(){var t=rn(r),n=function(){r.lft(r.hft.fft),r.ift(),r.Uht&&(r.Uht.call(t),r.Uht=null)};return{Ta:function(){t.Qht.style.display="none",t.Qht.addEventListener("seeked",n);try{t.Qht.Aht=t.Mht,t.bF()}catch(n){t.eft(n.message)}},Rv:function(){t.Qht.style.display="",t.Qht.removeEventListener("seeked",n)},Zht:function(){},Nst:function(n,i,r,e){t.kft(),t.pft.Nst(n,i,r,e)}}}()},r.nft=function(){var t=r.mj;r.mj=r.dft.Eht||r.Aft.Eht,t&&!r.mj&&r.dispatchEvent("updateend"),r.bft(),r.bF(),r.Tft()},r.bF=function(){var t=r.ql;t!==r.Xht&&(r.Xht=t,r.dispatchEvent(Sl.ul))},r.Eft=n,r.bu=i,r.Wht=new hM(i),r.cN="gZ"===i?0:1;var u=function(t){switch(t){case"_Z":return"audio";case"gZ":return"video"}}(i);return r.Sft=_M(u),r.Rft=_M(u),n.appendChild(r.Sft),n.appendChild(r.Rft),r.dft=new nM(r.Sft,r.bu),r.Aft=new nM(r.Rft,r.bu),r.Ght=r.dft,r.Qht=r.Aft,r.vft=r.qht.Jht,r.pft=r.hft.fft,r.vft.Ta(),r.pft.Ta(),r.zJ(),r.El(),r}M(n,t);var i=n.prototype;return i.Ift=function(t){return t===this.dft?this.Aft:this.dft},i.yft=function(t){this.Mct=t,this.dispatchEvent({type:"warning",warning:this.Mct})},i.eft=function(t){this.qS=t,this.dispatchEvent({type:"error",error:t})},i.sft=function(t){var n,i=this,r=this.Ift(t);return n="gZ"===this.bu?{Qo:function(){if(i.Lht!==t)return 0;var n=g(t.style.opacity);return w(n)?1:n},Cc:function(n){n=Wt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.Lht=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},oft:1,Nft:function(){if(n.Qo()!==n.oft)return n.Cc(n.oft)}}:{Qo:function(){return t.volume},Cc:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.oft-i}catch(t){e=t}return e},oft:this.cN,Nft:function(){if(n.Qo()!==n.oft)return n.Cc(n.oft)}}},i.Zht=function(t,n){var i=this.Wht.Dht(this.Yut(),1,this.Ght.Tht,this.Qht.Tht);return!!i&&(this.mft(),t.Tht=i,t.Ta(n),t.B6&&this.dispatchEvent("durationchange"),!0)},i.Dft=function(){this.mft(),this.Wht.ml(),this.dft.u6(),this.Aft.u6(),this.nft()},i.wg=function(){return this.Ght.wg()},i.Yut=function(){return this.seeking?this.Mht:this.Ght.Aht},i.Nst=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.pft.Nst(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.ift=function(){var t=this.Ght;this.$ht(this.qht.Ib),this.Ght=this.Qht,this.Qht=t,this.sft(this.Ght).Nft(),this.mft(),this.Qht.pause(),this.Qht.Tht=null,this.nft(),this.$ht(this.qht.Jht)},i.zJ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.eft(new MD(LD.LQ,{code:"VEE"+i.error})):t.eft(new MD(LD.LQ,{code:"VEE"+n.Ho.code}));n===t.Ght&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.dft),e=i.bind(null,this.Aft),u=0;u<n.length;u++){var s=n[u];this.dft.addEventListener(s,r),this.Aft.addEventListener(s,e)}this.dft.addEventListener("error",r),this.Aft.addEventListener("error",e);for(var o=0;o<jS.length;o++){var a=jS[o];this.dft.addEventListener(a,this.bF),this.Aft.addEventListener(a,this.bF)}},i.El=function(){this.addEventListener("seeking",this.bat),this.addEventListener("timeupdate",this.bat)},i.$ht=function(t){var n;if(this.vft!==t){do{(n=this.vft).Rv()}while(n!==this.vft);this.vft=t,t.Ta()}},i.lft=function(t){var n;if(this.pft!==t){do{(n=this.pft).Rv()}while(n!==this.pft);this.pft=t,t.Ta()}},i.kft=function(){this.Uht=null,this.lft(this.hft.fft)},i.load=function(){this.pause(),this.kft(),this.Ght.Tht=null,this.Qht.Tht=null,this.$ht(this.qht.Jht)},i.Rv=function(){this.kft(),this.$ht(this.qht.Ib),this.Dft(),this.dft.unload(),this.Aft.unload(),this.Eft.removeChild(this.Sft),this.Eft.removeChild(this.Rft),this.qS=null,this.Mct=null},i._$=function(){var t=this,n=this.Yut();this.Dft(),this.pft.Nst(n,!1,!1,function(){t.dispatchEvent("_$",!0)})},i.play=function(){this.sft(this.Ght).Nft(),this.Ght.C0&&this.Ght.play()},i.pause=function(){this.dft.pause(),this.Aft.pause()},i.Gct=function(t){var n=this,i=function(){n.dispatchEvent("Pct",!0)};this.pause(),this.Ght.I_?this.pft.Nst(t,this.Qht===this.dft,this.Qht===this.Aft,i):this.Qht.I_?this.pft.Nst(t,!1,!1,i):this.Qht.pht(t)?this.pft.Nst(t,this.Qht===this.dft,this.Qht===this.Aft,i):i()},i.A7=function(t){this.mft(),this.Wht.A7(t),this.nft(),this.pft.Zht()},i.jct=function(t){return this.Sft.canPlayType('video/mp4; codecs="'+t+'"')},i.Qct=function(){return l.max(this.Sft.offsetWidth,this.Rft.offsetWidth)},i.Yct=function(){return l.max(this.Sft.offsetHeight,this.Rft.offsetHeight)},i.bft=function(){!this.Fht&&this.loaded&&(this.Fht=!0,this.dispatchEvent("loaded"))},i.Tft=function(){if("gZ"===this.bu){var t=this.B_,n=this.P_;t>0&&n>0&&(this.Hht!==t||this.Vht!==n)&&(this.Hht=t,this.Vht=n,this.dispatchEvent("resize"))}},i.mft=function(){var t=this.mj;this.mj=!0,t||this.dispatchEvent("updatestart")},L(n,[{key:"Eg",get:function(){var t=[];return w(this.dft.gI)||t.push({gI:this.dft.gI,yI:this.dft.yI}),w(this.Aft.gI)||t.push({gI:this.Aft.gI,yI:this.Aft.yI}),RO(pO(new yO(t)),this.Wht.Eg)}},{key:"duration",get:function(){return this.Ght.B6?this.Ght.yI:this.Qht.B6?this.Qht.yI:NaN}},{key:"paused",get:function(){return this.Ght.C_}},{key:"ended",get:function(){return this.Ght.I_}},{key:"muted",get:function(){return this.Ght.muted&&this.Qht.muted},set:function(t){this.Ght.muted=t,this.Qht.muted=t}},{key:"volume",get:function(){return this.cN},set:function(t){this.cN=t,this.Bht&&this.Bht.nht(),this.Qht.volume=0,this.Ght.volume=this.cN}},{key:"error",get:function(){return this.qS}},{key:"warning",get:function(){return this.Mct}},{key:"seeking",get:function(){return this.pft!==this.hft.fft}},{key:"loaded",get:function(){return this.Ght.C0}},{key:"O_",get:function(){return this.Ght.O_},set:function(t){t>=0&&(this.Ght.O_=t,this.Qht.O_=t)}},{key:"B_",get:function(){return this.Ght.B_}},{key:"P_",get:function(){return this.Ght.P_}},{key:"GO",get:function(){return this.mj}},{key:"ql",get:function(){var t;if(this.pft===this.hft.wft||this.pft===this.hft.gft)t=al.g_;else{var n=this.Ght.ql;if(n<=al.w_)t=n;else{var i=iA.JI(this.Eg).TI(),r=this.duration,e=this.Yut();w(r)||(e=l.min(e,r));var u=i.YI(e);if(u){var s=u.yI(0);t=s-e>=3*this.O_||!w(r)&&s>=r?al.m_:al.y_}else t=al.w_}}return t===al.__&&this.Fht?al.g_:t}}]),n}(PD);function lM(t,n){return t.Aht-n.gI}function _M(t){var n=e.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),qr(n),n.controls=!1,n}var gM,wM=function(){function t(t){var n=this;this.Cft=function(){(w(n.Oft)||n.xft)&&(n.Oft=n.dP()),n.Pft=n.Oft,n.xft=!1},this.Bft=function(){var t=n.dP();n.Lft(t),n.Oft=t},this.Mft=function(){n.KR.ql<=al.w_&&n.Bft()},this.Uft=function(){n.Lft(n.Oft),n.xft=!0},this.Fft=function(){n.Oft=n.dP()},this.KR=t,this.Lg=iA.tN(),this.Pft=NaN,this.Oft=NaN,this.xft=!1,t.addEventListener("playing",this.Cft),t.addEventListener("pause",this.Bft),t.addEventListener("seeking",this.Uft),t.addEventListener("timeupdate",this.Fft),t.addEventListener(Sl.ul,this.Mft)}var n=t.prototype;return n.GU=function(){var t=this.Lg,n=this.Pft;if(!w(n)){var i=this.dP();n<i&&(t=t.LI(new iA([n,i])))}return t.OR()},n.dP=function(){return this.KR.Yut()},n.Lft=function(t){var n=this.Pft;n<t&&(this.Lg=this.Lg.LI(new iA([n,t]))),this.Pft=NaN},n.Ast=function(){var t=this.dP();this.Lft(t),this.xft=!0},n.ml=function(){this.Lg=iA.tN(),this.Pft=NaN,this.Oft=NaN,this.xft=!1},n.ho=function(){var t=this.KR;t.removeEventListener("playing",this.Cft),t.removeEventListener("pause",this.Bft),t.removeEventListener("seeking",this.Uft),t.removeEventListener("timeupdate",this.Fft),t.removeEventListener(Sl.ul,this.Mft),this.KR=null},t}(),yM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wi=!1,r.kF=NaN,r.qS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Xht=al.__,r.Hft=function(){r.Vft.seeking||(r.Vft.removeEventListener("seeked",r.Hft),r.dispatchEvent("seeked"),r.Xft.paused?r.Ch=r.Wft:r.qft(),r.bF())},r.zft=function(){r.Vft.paused||(r.Vft.removeEventListener("playing",r.zft),r.dispatchEvent("playing"))},r.Gft=function(t){r.Ch=r.jft,r.qS=t,r.dispatchEvent({type:"error",error:r.qS})},r.Qft={paused:!0,play:function(){r.removeEventListener("rat",r.Qft.Yft),r.Wi?(r.Ch=r.Zft,r.Vft.removeEventListener("playing",r.zft),r.Vft.addEventListener("playing",r.zft),r.Vft.play(),r.dispatchEvent("play")):r.addEventListener("rat",r.Qft.Yft)},Yft:function(){r.removeEventListener("rat",r.Qft.Yft),r.Ch.play()},stall:function(){},pause:function(){r.Qft.Yft&&r.removeEventListener("rat",r.Qft.Yft),r.Vft.pause(),r.dispatchEvent("pause"),r.Ch=r.Wft},load:function(t){},Yut:function(){return r.Wi?r.Vft.Yut():0},Nst:function(t,n){var i=TO(r.Eg,t);n=n||!i,r.Vft.removeEventListener("seeked",r.Hft),r.Vft.addEventListener("seeked",r.Hft),r.Xft.seekTime=t,r.Ch=r.Xft,r.dispatchEvent("Ast"),r.Vft.Nst(t,n),r.dispatchEvent("seeking")},DP:function(){return r.Vft.ql},_$:function(t){r.Xft.seekTime=r.Yut(),r.Ch=r.Jft,r.Vft.removeEventListener("_$",r.Jft.$ft),r.Vft.addEventListener("_$",r.Jft.$ft),r.Vft._$(t),r.bF()},forwardEvent:function(t){"pause"===t.type&&r.Vft.ended||r.dispatchEvent(t)}},r.Wft=le(le({},r.Qft),{pause:function(){r.removeEventListener("rat",r.Qft.Yft)},Nst:function(t){r.Xft.paused=!0,r.Qft.Nst(t)},_$:function(t){r.Xft.paused=!0,r.Qft._$(t)}}),r.Kft=le({},r.Wft),r.tvt=le(le({},r.Wft),{load:function(t,n){r.removeEventListener("rat",r.tvt.nvt),n||r.dispatchEvent("loadstart"),r.Wi?r.Vft.load(t):(r.tvt.ivt=t,r.addEventListener("rat",r.tvt.nvt))},nvt:function(){r.removeEventListener("rat",r.tvt.nvt),r.Ch.load(r.tvt.ivt,!0)},ivt:null,Yut:function(){return r.Wi?r.Vft.Yut():r.tvt.rvt},Nst:function(t){r.removeEventListener("rat",r.tvt.evt),r.Wi?(r.Ch=r.Wft,r.Ch.Nst(t)):(r.tvt.rvt=t,r.addEventListener("rat",r.tvt.evt),r.dispatchEvent("seeking"))},evt:function(){r.removeEventListener("rat",r.tvt.evt),r.Ch.Nst(r.tvt.rvt)},rvt:0,_$:function(t){}}),r.Zft=le(le({},r.Qft),{Nst:function(t){r.Xft.paused=!1,r.Qft.Nst(t)},play:function(){},stall:function(){r.Ch=r.uvt,r.uvt.svt=r.Vft.Yut(),r.uvt.paused=!1,r.Vft.addEventListener("Pct",r.uvt.ovt),r.Vft.Gct(r.uvt.svt),r.bF()},_$:function(t){r.Xft.paused=!1,r.Qft._$(t)}}),r.uvt=le(le({},r.Zft),{paused:!1,svt:0,Nst:function(t){r.Vft.removeEventListener("Pct",r.uvt.ovt),r.uvt.paused?r.Ch=r.Wft:r.Ch=r.Zft,r.Ch.Nst(t),r.bF()},Yut:function(){return r.uvt.svt},DP:function(){return l.min(r.Vft.ql,al.w_)},forwardEvent:function(){},play:function(){r.uvt.paused=!1,r.dispatchEvent("play")},pause:function(){r.uvt.paused=!0,r.dispatchEvent("pause")},stall:function(){},ovt:function(){r.Vft.seeking||(r.Vft.removeEventListener("Pct",r.uvt.ovt),r.uvt.paused?r.Ch=r.Wft:r.Qft.play(),r.bF())}}),r.Xft=le(le({},r.Qft),{paused:!1,seekTime:0,Yut:function(){return r.Xft.seekTime},play:function(){r.Xft.paused=!1},pause:function(){r.Xft.paused=!0,r.Vft.pause(),r.dispatchEvent("pause")}}),r.Jft=le(le({},r.Xft),{Nst:function(t){r.Vft.removeEventListener("_$",r.Jft.$ft),r.Xft.paused?r.Ch=r.Wft:r.Ch=r.Zft,r.Ch.Nst(t)},DP:function(){return l.min(r.Vft.ql,al.w_)},forwardEvent:function(){},stall:function(){},$ft:function(){r.Vft.seeking||(r.Vft.removeEventListener("_$",r.Jft.$ft),r.Xft.paused?r.Ch=r.Wft:r.Qft.play(),r.bF())}}),r.jft=le(le({},r.Qft),{play:function(){},pause:function(){},load:function(){},Yut:function(){return NaN},DP:function(){return al.__},Nst:function(t){r.Qft.Nst(t,!0)},_$:function(t){}}),r.bo=function(t){r.dispatchEvent(t)},r.avt=function(t){r.Ch.forwardEvent(t)},r.cvt=function(t){r.Gft(t.error)},r.fvt=function(t){if(t.origin&&t.origin.B6)return r.sg();r.Ch.stall()},r.gct=function(){var t=r.Vft.duration;t&&r.kF!==t&&(r.kF=t,r.dispatchEvent("durationchange"))},r.vvt=function(){r.Vft.loaded&&(r.loaded=!0)},r.bF=function(){var t=r.ql;t!==r.Xht&&(r.Xht=t,r.dispatchEvent(Sl.ul))},r.dvt=n,r.ZE=i,r.lvt=new wM(rn(r)),r.Vft=new KL,r.Ch=r.tvt,r.Eft=e.createElement("div"),r.Eft.style.position="absolute",r.Eft.style.width="100%",r.Eft.style.height="100%",r._vt(),r}M(n,t);var i=n.prototype;return i.qft=function(){this.Qft.play()},i._vt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Vft.addEventListener(r,this.bo)}for(var e=0;e<n.length;e++){var u=n[e];this.Vft.addEventListener(u,this.avt)}this.Vft.addEventListener("ended",this.fvt),this.Vft.addEventListener("error",this.cvt),this.Vft.addEventListener("durationchange",this.gct),this.Vft.addEventListener("loaded",this.vvt),this.Vft.addEventListener(Sl.ul,this.bF)},i.setup=function(){this.ZE.fR.parentNode===this.dvt?this.dvt.replaceChild(this.Eft,this.ZE.fR):(this.ZE.fR.parentNode&&this.ZE.fR.parentNode.removeChild(this.ZE.fR),this.dvt.appendChild(this.Eft))},i.play=function(){this.Ch.play()},i.pause=function(){this.Ch.pause()},i.gvt=function(t){this.Vft&&this.Vft.Rv(t),this.Wi=!1},i.sg=function(){this.pause(),this.Ch=this.Kft,this.qS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Ch.load(t)},i.unload=function(){return this.Vft.Rv(),this.lvt.ho(),this.Eft.parentNode===this.dvt?this.dvt.replaceChild(this.ZE.fR,this.Eft):(this.Eft.parentNode&&this.Eft.parentNode.removeChild(this.Eft),this.dvt.appendChild(this.ZE.fR)),this.No(),this.ZE.fR},i.reset=function(t){this.Wi=!1,this.Ch=this.tvt,this.qS=void 0,this.kF=NaN,this.Xht=al.__,this.lvt.ml(),this.gvt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i._$=function(t){this.Ch._$(t)},i.A7=function(t){return this.Vft.A7(t),T.resolve()},i.wg=function(){return this.Vft.wg()},i.Yut=function(){return this.Ch.Yut()},i.Nst=function(t){this.lvt.Ast(),this.Ch.Nst(t)},i.Cit=function(t,n){return T.resolve()},i.canPlayCodecs=function(t){return this.Vft.jct('video/mp4; codecs="'+t+'"')},i.lst=function(t,n,i){var r={};for(var e in t)if(Q.call(t,e)){var u=t[e];!this.Vft.videoStream&&u.gZ&&(this.Vft.videoStream=new dM(this.Eft,"gZ"),r.gZ=this.Vft.videoStream),!this.Vft.audioStream&&u._Z&&(this.Vft.audioStream=new dM(this.Eft,"_Z"),r._Z=this.Vft.audioStream,this.dispatchEvent("Qot"))}return this.Wi=!0,this.dispatchEvent("rat"),T.resolve(r)},L(n,[{key:"dst",get:function(){return this.Wi}},{key:"Rg",get:function(){return this.Eft}},{key:"Eg",get:function(){return this.Vft.Eg}},{key:"volume",get:function(){return this.Vft.volume},set:function(t){this.Vft.volume=t}},{key:"duration",get:function(){return this.kF}},{key:"muted",get:function(){return this.Vft.muted},set:function(t){this.Vft.muted=t}},{key:"paused",get:function(){return this.Ch.paused&&this.Vft.paused}},{key:"played",get:function(){return this.lvt.GU()}},{key:"ended",get:function(){return this.Ch===this.Kft}},{key:"seeking",get:function(){return this.Ch===this.Xft}},{key:"error",get:function(){return this.qS||this.Vft.error}},{key:"warning",get:function(){return this.Vft.warning}},{key:"width",get:function(){return this.Vft.Qct()}},{key:"height",get:function(){return this.Vft.Yct()}},{key:"O_",get:function(){return this.Vft.O_},set:function(t){this.Vft.O_=t}},{key:"ql",get:function(){return this.Ch.DP()}},{key:"B_",get:function(){return this.Vft.B_}},{key:"P_",get:function(){return this.Vft.P_}}]),n}(PD);!function(t){t.zQ="unsupported",t.wvt="native",t.yvt="hls-native",t.mvt="hls-mse",t.kvt="hls-switching-video"}(gM||(gM={}));var mM=function(){function t(){this.pvt={},this.Avt(gM.wvt,IL),this.Avt(gM.yvt,IL),this.Avt(gM.mvt,zL),this.Avt(gM.kvt,yM)}return t.prototype.Avt=function(t,n){this.pvt[t]=n},t.Avt=function(n,i){t.m0.Avt(n,i)},t.bvt=function(n,i,r){var e=t.m0.pvt[n];return e?new e(i,r):void 0},t}();mM.m0=new mM;var kM=function(t){function n(n){var i;return(i=t.call(this)||this).Tvt=function(t){i.To(t)},i.Evt=n,i.Svt(),i}M(n,t);var i=n.prototype;return i.Svt=function(){this.Evt.So("hO",this.Tvt)},i.Rvt=function(){this.Evt.Do("hO",this.Tvt)},i.Rv=function(){this.Rvt()},L(n,[{key:"gO",get:function(){return this.Evt.gO}},{key:"wO",get:function(){return this.Evt.wO}},{key:"Ivt",set:function(t){var n=this.Evt;n.gO===t.gO&&n.wO===t.wO||(this.Rvt(),this.Evt=t,this.Svt(),this.To(new uT(t.wO,t.gO)))}}]),n}(Tu);function pM(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function AM(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function bM(t,n){var i=t.type;return i?dp?AM(i)?!kp||n.useSwitchOverMSE||j.Ce&&n.vr&&n.vr[360]?!gp||j.Ee||j.Ne&&j.oe?wp?gM.kvt:gM.zQ:gM.yvt:gM.mvt:gM.wvt:gM.zQ:gM.wvt}var TM=function(t,n,i,r,e){var u,s,c,h,v,_,y=this,m=null,k=null,p=null,A=!0,b=null,E=null,S=!1,R=null,I=null,N=null,D=uA,C=uA,O=!0,x=null,P={u2:0,$ct:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,Q=al.__,Y=!1,Z=!1,J=NaN,K=null,tt=null,nt=j._e&&_p,it=!1,rt="",et=gM.zQ,ut=null,st=function(){var i=T.coroutine(de.mark(function i(){return de.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(y.so=!0,y.No(),B&&Pt(null),_&&(_.Rv(),_=null),v&&(v.ml(),v=null),en(),k&&(k.unload(),k=null),!I.fR){i.next=11;break}return i.next=10,n.DR(I);case 10:I=null;case 11:if(!N.fR){i.next=15;break}return i.next=14,n.DR(N);case 14:N=null;case 15:u.Rv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new MD(LD.zQ,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});y.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},at=function(){var t,r;return(t=i.audioOnly?(r=n.cR(f_.wv)).fR:(r=n.cR(f_.yv)).fR).preload="none",qr(t),r},ct=function(t){return t===I?N:I},ht=function(){b.style.zIndex="1",E.style.zIndex="0",b.style.display=A?"":"none",E.style.display=A&&S?"":"none"},ft=function(t){yt(t.I$),wt(t.N$),s&&(s.I$=c),pt()},vt=function(t,n){kt(t.I$,n),mt(t.N$),s&&(s.I$=c)},dt=function(){Xt(),Nt(),y.dispatchEvent("timeupdate"),y.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);y.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("Qot",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===gM.wvt&&(G=!0,y.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,y.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(Sl.ul,nn),k.setup(),_.Tst=k,n(["timeupdate","playing","ratechange","resize"],t),et){case gM.wvt:case gM.yvt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case gM.mvt:n(["play","pause"],St)}k.addEventListener("warning",function(t){y.warning=t.warning,y.dispatchEvent(t)}),y.dispatchEvent("volumechange")},_t=function(t){m&&m.lot(),k&&(m=new cL(t,nt,v,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=bL(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Lot=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){c&&(c.Rv(),c=null,y.initialized=!1),(c=t)&&(y.dispatchEvent("loadstart",!0),c.addEventListener("loadedmetadata",function(){G=!0,nn()}),c.addEventListener("durationchange",function(){J=c.R_,y.dispatchEvent("durationchange")}),c.addEventListener("Ho",function(t){Zt(t.Ho)}),c.addEventListener("xv",At),c.addEventListener("Bg",At),c.rK.addEventListener("renditionUpdated",function(){Gt()}),_.rK=c.rK)},mt=function(t){var n;h&&(h.Rv(),h=null),k&&(h=t)&&(n=h.jut,h.addEventListener("d$",function(t){var n=y.videoWidth,i=y.videoHeight;K=t.MZ,y.dispatchEvent(t),Ep&&n===y.videoWidth&&i===y.videoHeight||y.dispatchEvent("resize")}),h.addEventListener("Ho",function(t){Zt(t.error)}),h.addEventListener("Eut",function(t){y.dispatchEvent(t)}),h.Tst=k,w(n)||Ht(n))},kt=function(t,n){c&&(c.Rv(),c=null,y.initialized=!1),(c=t)&&(y.dispatchEvent("loadstart",!0),c.addEventListener("loadedmetadata",function(){G=!0,nn()}),c.addEventListener(qo.sh,function(t){y.dispatchEvent(t)}),c.addEventListener(qo.ah,function(t){y.dispatchEvent(t)}),c.addEventListener("durationchange",function(){J=c.R_,y.dispatchEvent("durationchange")}),c.addEventListener("Ho",function(t){Zt(t.Ho)}),c.addEventListener("xv",At),c.addEventListener("Bg",At),c.addEventListener("vK",function(){y.dispatchEvent("progress")}),c.rK.addEventListener("renditionUpdated",function(){Gt()}),c.rK.addEventListener("renditionUpdated",function(t){var i,r=t.MZ.kJ&&t.MZ.kJ._Z;r&&-1!==r.indexOf("mp4a.40.3")&&("w6"!==n.y6||mp||(i=B,xD(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),_.rK=c.rK)},pt=function(){k.addEventListener("play",function(){y.play({fromNative:!0})}),k.addEventListener("pause",function(){y.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){y.volume=k.volume,y.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!c||c.Bg;z=n,n&&!t?y.dispatchEvent(qo.Zc):!n&&t&&y.dispatchEvent(qo.Yc)},bt=function(){V=!1,X=!1,Y=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){y.removeEventListener("initialized",t),y.removeEventListener("initialized",Et),V&&(bt(),y.ended?Ht(0):jt(),k.play(),h&&h.eg())},Et=function t(){y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?y.play({fromNative:!0}):!n&&X&&y.pause({fromNative:!0})},Rt=function(){Y=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.$ct="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.gN()),P.Nvt=!1,!y.initialized||!k){if(t.onlyWhenInitialized){var i=new MD(LD.XQ,{code:"MGB6720"});throw Zt(i),i}return y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),y.addEventListener("initialized",t.fromNative?Et:Tt),y.dispatchEvent("play",!0),void y.dispatchEvent("waiting",!0)}if(V){if(W&&y.ended)return Nt(),void y.dispatchEvent("timeupdate",!0);y.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||y.removeEventListener("initialized",Tt),y.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),h&&h.ug()),y.dispatchEvent("pause",!0))},Dt=function(t){return{type:pM(t)?"application/vnd.apple.mpegurl":"",src:t}},Ct=function(t){return"string"==typeof t},Ot=function(t){if(pL(t))return t.type?t:Dt(t.src);if(Ct(t))return Dt(t);if($(t)&&Ct(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(pM(i))return Dt(i)}return Dt(t[0])}if($(t)&&pL(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(AM(e.type)||!e.type&&pM(e.src))return e.type?e:Dt(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,u=bM(n,i);!function(t,n){switch(t){case gM.wvt:case gM.yvt:n.y6=!1,n.Dvt=!1;break;case gM.mvt:n.y6="w6",n.Dvt=!0;break;case gM.kvt:n.y6="c9",n.Dvt=j.ee}}(u,i);var o=function(t,n,i){var u,o,a,c=i.configuration;switch(t){case gM.wvt:a=u=o=null;break;case gM.yvt:a=null;var h=new tL(c,r);u=h,o=new sL(h);break;case gM.mvt:case gM.kvt:a=new vL(c,r);var f=new KB(c,a,r,e);u=f,o=new eL(f);break;default:return null}return new xC(n,t,i,a,u,o,s)}(u,n,t);return o?(o.N$&&(o.N$.O_=y.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.fR,s=!1,o=!y.paused,a=et,c=y.playbackRate,h=y.Cvt;tt&&(tt.Rv(),tt=null),en();var f=n&&n.EK||null;n&&n.bK||null,L=n&&n.$R||null,M=f&&f.configuration||null,et=n&&n.TK||gM.zQ,Jt();var v={type:"Ovt",xvt:n,Jp:M,Pvt:i};if(y.dispatchEvent(v),et!==gM.zQ){if(k){y.pause();var d=a===et||a===gM.yvt&&et===gM.wvt||a===gM.wvt&&et===gM.yvt,l=i&&!j._e;if(d&&!l)k.reset(),m.ml();else{if(l?(p=k,e=(r=ct(r)).fR):e=k.unload(),!(s=mM.bvt(et,t,r)))return void ot();k=s,lt(),_t(e)}Xt(),G=!1,Q=al.__,Y=!1,Z=!1,J=NaN,x=null,y.dispatchEvent("durationchange"),P.$ct=0,P.u2=0,P.Nvt=!0,y.dispatchEvent("timeupdate")}else{if(!(s=mM.bvt(et,t,r)))return void ot();k=s,r.fR.removeAttribute("poster"),lt(),_t(r.fR)}switch(R=r,u.Ivt=R.sL,b=k.Rg,p?(E=p.Rg,S=!0):(E=ct(r).fR,S=!1),ht(),M.crossOrigin){case el.c_:case el.h_:R.fR.setAttribute("crossorigin",M.crossOrigin);break;default:R.fR.removeAttribute("crossorigin")}if(h!==y.Cvt&&y.dispatchEvent(qo.qc),Lt(),Mt(),!L)return B=null,void(y.initialized=!1);!function(t,n){switch(et){case gM.wvt:case gM.yvt:ft(t);break;case gM.mvt:case gM.kvt:vt(t,n);break;default:return}t.KR=y,t.DK(H)}(tt=n,M),k.src=L,m.hot(f&&f.textTracks),y.playbackRate=c,B=L;var _={type:"Bvt",xvt:n,Jp:M,Pvt:i};y.dispatchEvent(_),y.initialized=!0,y.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&j._e&&o&&Yt()&&(y.play(),y.pause()),f&&y.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=y.$ot)!==t&&y.dispatchEvent("Lvt")},Mt=function(){_&&(_.PH=nt&&it)},Ut=function(){return k&&k.dst?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.Nvt)return P.$ct;if(h){var t=h.jut;return"start"===t?0:t}return k.Yut()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=y.live?1/0:0),t=g(t)||0,t=Kt(t),k){if(l.abs(P.$ct-t)<.001&&zb()-P.u2<50)return;Vt(),h?h.jut=t:k.Nst(t),k.seeking||Xt(),P={$ct:t,u2:zb()}}},Vt=function(){W=!0,zt(),ut=o(qt,100)},Xt=function(){W&&(W=!1,ut&&qt(),y.dispatchEvent("seeked"))},qt=function(){zt(),y.dispatchEvent("seeking")},zt=function(){ut&&(a(ut),ut=null)},Gt=function(){Z||(Z=!w(J)&&$t().length>0&&(Y||!y.live))&&y.dispatchEvent("pht")},jt=function t(){y.removeEventListener("pht",t),null!==x&&(Z?Ht(x):y.addEventListener("pht",t))},Qt=function(){return k&&k.dst?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===LD.WQ)return n=!X,Pt(tt.$R),void(n&&It());var n;Yt()||Nt(),q=t,y.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return gO(h?h.Ug:J>0?new yO([{gI:0,yI:J}]):mO)},Kt=function(t){var n=$t();return n.length?Wt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.ql:al.__;return G&&(t=l.max(al.g_,t)),t},nn=function(){var t=tn();t!==Q&&(Q=t,y.dispatchEvent(Sl.ul))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,E=t||ct(R).fR,ht()}};y.initialized=!1,y.warning=null,y.play=It,y.pause=Nt,y.load=function(){if(!y.initialized||!k){var t=new MD(LD.XQ,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},y.Mvt=xt,y.Uvt=Bt,y.ho=st,y.ag=rn,y._g=function(){A=!0,ht()},y.gg=function(){A=!1,ht()},y.wg=function(){return k&&k.wg()},y.q_=function(){var t=k?kE(k.Tst):{Ng:0,Dg:0,Cg:0};return le(le(le({},{Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),t),{Og:8*il.u_()})},d.defineProperty(y,"buffered",{get:function(){return gO(k?k.Eg:mO)}}),d.defineProperty(y,"played",{get:function(){return k?gO(k.played):mO}}),d.defineProperty(y,"seekable",{get:$t}),d.defineProperty(y,"live",{get:function(){return!(!c||!tC.H_(c.rK.ZZ))}}),d.defineProperty(y,"volume",{get:Ut,set:function(t){(t=g(t))!==Ut()&&(k&&(k.volume=t),U=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"currentTime",{get:Ft,set:Ht}),d.defineProperty(y,"dimensions",{get:function(){return u}}),d.defineProperty(y,"currentProgramDateTime",{get:function(){return h?h.Sg:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!w(i.getTime())&&h&&(n=h.Ltt(t),w(n)||null===n||Ht(n))}}),d.defineProperty(y,"duration",{get:function(){return J}}),d.defineProperty(y,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,y.dispatchEvent("volumechange"))}}),d.defineProperty(y,"paused",{get:Yt,set:function(t){t?Nt():It()}}),d.defineProperty(y,"preload",{get:function(){return H},set:function(t){H=Zp((t||"none").toLowerCase())}}),d.defineProperty(y,"ended",{get:function(){return k&&k.ended||!1}}),d.defineProperty(y,"seeking",{get:function(){return W}}),d.defineProperty(y,"error",{get:function(){return q||k&&k.error}}),d.defineProperty(y,"element",{get:function(){return t}}),d.defineProperty(y,"Cvt",{get:function(){return M&&M.vr&&M.vr[360]?uA:R===I?D:C}}),d.defineProperty(y,"videoWidth",{get:function(){return k?k.B_:K&&K.resolution?K.resolution.width:0}}),d.defineProperty(y,"videoHeight",{get:function(){return k?k.P_:K&&K.resolution?K.resolution.height:0}}),d.defineProperty(y,"frameRate",{get:function(){return h&&h.bJ}}),d.defineProperty(y,"frameAccurateSeekEnabled",{get:function(){return!y.live&&k&&k.paused&&y.frameRate}}),d.defineProperty(y,"currentFrame",{get:function(){return h?h.Rst(Ft()):NaN},set:function(t){y.frameAccurateSeekEnabled&&(t=g(t),Ht(h.Ist(t)))}}),d.defineProperty(y,"playbackRate",{get:function(){return h&&h.O_||k&&k.O_||1},set:function(t){(t=g(t))>0&&(h?h.O_=t:k&&(k.O_=t))}}),d.defineProperty(y,"videoTracks",{get:function(){return tt&&tt.ng.Xd||null}}),d.defineProperty(y,"audioTracks",{get:function(){return tt&&tt.tg.Xd||null}}),d.defineProperty(y,"ig",{get:function(){return v}}),d.defineProperty(y,"online",{get:function(){return z}}),d.defineProperty(y,"Zot",{get:function(){return k&&k.Zot}}),d.defineProperty(y,"Jot",{get:function(){return k&&k.Jot}}),d.defineProperty(y,"$ot",{get:function(){return k&&k.$ot||"inline"},set:function(t){k&&(k.$ot=t)}}),d.defineProperty(y,"Fvt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),d.defineProperty(y,"ql",{get:tn}),function(){if(!t)throw new f("Invalid element.");var n;y.addEventListener(qo.Zc,function(){y.live&&Ht("start")}),y.addEventListener("playing",en),v=new qw,_=new fL(y,v),y.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(s=new PC),n=function(t){if("string"==typeof t)try{return BD.Ve.Rj(t,y)}catch(n){throw new f("Unknown rule: "+t)}return t},i.Grt=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),y.addEventListener("durationchange",Gt),I=at(),N=at(),R=I,b=I.fR,E=N.fR,u=new kM(R.sL),D=I.SR,C=N.SR,ht(),Pt(null)}()};TM.prototype=new PD,TM.prototype.constructor=TM;var EM,SM=((EM={useSwitchOverMSE:!1,ManifestParser:"Hvt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),EM.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),pp&&EM.abrRules.push("AvoidHighBitrateStreamsRule"),j.ye&&EM.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),EM);var RM=function(t){function n(n,i,r){var e;return(e=t.call(this,dd.hl)||this).Vvt=n,e.Xvt=i,e.Wvt=r,e}return M(n,t),n.prototype.Wd=function(){return new IM(this.Vvt&&this.Vvt.Xd)},n}(vd),IM=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return M(n,t),n}(Su),NM=function(t){function n(n,i){var r;return(r=t.call(this,dd.vl)||this).Ll=n||[],r.qd=i,r}return M(n,t),n.prototype.Wd=function(){return new DM(this.Ll.map(function(t){return t.Xd}))},n}(vd),DM=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return M(n,t),n}(Su),CM=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return M(n,t),n}(Su);function OM(t){return{get bandwidth(){return t.XS},get codecs(){return t.kJ},get id(){return t.Cl},get name(){return t.Pl},get averageBandwidth(){return t.XS},get label(){return t.Pl},set label(n){t.Pl=Pd(n)},get height(){return t.dp},get width(){return t.rs},get frameRate(){return t.G$},get firstFrame(){return t.qvt},get available(){return t.hQ},addEventListener:function(n,i){t.So(n,i)},removeEventListener:function(n,i){t.Do(n,i)}}}function xM(t){return{get bandwidth(){return t.XS},get codecs(){return t.kJ},get id(){return t.Cl},get name(){return t.Pl},get averageBandwidth(){return t.XS},get label(){return t.Pl},set label(n){if(!nt(n))throw new f("Unexpected - The provided label is not a string");t.Pl=n},get audioSamplingRate(){return t.zvt},get available(){return t.hQ},addEventListener:function(n,i){t.So(n,i)},removeEventListener:function(n,i){t.Do(n,i)}}}var PM=function(t){function n(n,i){var r;(r=t.call(this)||this).Vd=void 0,r.Gvt=void 0,r.Q$=void 0,r.jvt=function(){return r.Qvt()},r.Yvt=function(){return r.Zvt()},r.Jvt=function(){return r.To(new l_(rn(r)))},r.qg=w_(),r.$vt=n,r.Kvt=i,r.Fg=new d_;for(var e=r.$vt.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.tdt(s);o.So("update",r.Jvt),r.Fg.Hg(o)}return r.$vt.qualities.addEventListener("activequalitychanged",r.jvt),r.$vt.qualities.addEventListener("targetqualitychanged",r.Yvt),r.Qvt(),r.Zvt(),r}M(n,t);var i=n.prototype;return i.ndt=function(t){t!==this.Gvt&&(this.Gvt=t,t&&this.To(new RM(t)))},i.idt=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&tu(i,r));var i,r},i.rdt=function(t){for(var n=0,i=this.Fg.kl;n<i.length;n++){var r=i[n];if(r.edt===t)return r}},i.udt=function(t){for(var n=[],i=0,r=this.Fg.kl;i<r.length;i++){var e=r[i];Ke(t,e.edt)&&n.push(e)}return n},i.Qvt=function(){var t=this.Dl?this.$vt.qualities.activeQuality:void 0,n=t&&this.rdt(t)||void 0;this.ndt(n)},i.Zvt=function(){var t=this.$vt.qualities.targetQuality;t?J(t)?this.Ml=this.udt(t)||void 0:this.Ml=this.udt([t])||void 0:this.Ml=void 0},i.Qg=function(t){this.Dl=t},i.Rv=function(){this.$vt.qualities.removeEventListener("activequalitychanged",this.jvt),this.$vt.qualities.removeEventListener("targetqualitychanged",this.Yvt);for(var t=0,n=this.Fg.kl;t<n.length;t++){var i=n[t];i.Do("update",this.Jvt),i.Rv()}},L(n,[{key:"Nl",get:function(){return this.Gvt}},{key:"Dl",get:function(){return this.$vt.enabled},set:function(t){t?this.Kvt.enable(this.$vt):this.Kvt.disable(this.$vt)}},{key:"Xd",get:function(){return this.Vd||(this.Vd=Fd(this)),this.Vd}},{key:"Cl",get:function(){return this.$vt.id+""}},{key:"Ol",get:function(){return this.qg}},{key:"xl",get:function(){return this.$vt.kind}},{key:"Pl",get:function(){var t;return null!==(t=this.$vt.name)&&void 0!==t?t:""},set:function(t){t!==this.Pl&&(this.$vt.name=t,this.To(new l_(this)))}},{key:"Bl",get:function(){return this.$vt.language}},{key:"Wl",get:function(){return this.Dl?"enabled":"disabled"}},{key:"Ll",get:function(){return this.Fg}},{key:"Ml",get:function(){return this.Q$},set:function(t){var n=this,i=this.Q$,r=t?t.filter(function(t){return b.Rs.zu(n.Nl,t)}):void 0;r&&0===r.length||this.idt(r,i)||(this.Q$=r,this.$vt.qualities.targetQuality=r?r.map(function(t){return t.edt}):null,this.To(new NM(r,this)))}}]),n}(Tu),BM=function(t){function n(n){var i,r;return(i=t.call(this)||this).Vd=void 0,i.UN=function(){return i.Sa()},i.edt=n,i.edt.addEventListener("qualityupdated",i.UN),i.Cl=n.id,i.XS=null!==(r=n.bandwidth)&&void 0!==r?r:NaN,i.kJ=n.codecs,i.FY=n.uri,i}M(n,t);var i=n.prototype;return i.Sa=function(){this.sdt()&&this.To(new CM(this.Xd))},i.sdt=function(){var t,n=this.edt,i=n.id,r=null!==(t=n.bandwidth)&&void 0!==t?t:NaN,e=n.codecs,u=n.uri,s=this.Cl!==i||!jt(this.XS,r)||this.kJ!==e||this.FY!==u;return this.Cl=i,this.XS=r,this.kJ=e,this.FY=u,s},i.Rv=function(){this.edt.removeEventListener("qualityupdated",this.UN)},i.hb=function(){},L(n,[{key:"Pl",get:function(){return this.edt.name||""},set:function(t){this.Pl!==t&&(this.edt.name=t,this.To(new CM(this.Xd)))}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}},{key:"hQ",get:function(){return!0}}]),n}(Tu),LM=function(t){function n(n){var i;return(i=t.call(this,n)||this).zvt=NaN,i}return M(n,t),n.prototype.Wd=function(){return xM(this)},n}(BM),MM=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).G$=n.frameRate,r.rs=n.resolution?n.resolution.width:NaN,r.dp=n.resolution?n.resolution.height:NaN,r.odt=i,r}M(n,t);var i=n.prototype;return i.sdt=function(){var n=t.prototype.sdt.call(this),i=this.edt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!jt(this.G$,r)||!jt(this.rs,e)||!jt(this.dp,u),this.G$=r,this.rs=e,this.dp=u,n},i.Wd=function(){return OM(this)},L(n,[{key:"qvt",get:function(){return this.odt},set:function(t){this.odt!==t&&(this.odt=t,this.To(new CM(this.Xd)))}}]),n}(BM),UM=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.tdt=function(t){return new LM(t)},n}(PM),FM=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.tdt=function(t){return new MM(t,this.adt)},i.cdt=function(t){this.adt=t;for(var n=0,i=this.Ll.kl;n<i.length;n++){var r=i[n];void 0!==r.qvt&&(r.qvt=t)}},n}(PM),HM=function(t){function n(){return t.call(this,qo.Zc)||this}return M(n,t),n}(Su),VM=function(t){function n(){return t.call(this,qo.Yc)||this}return M(n,t),n}(Su),XM=function(){function t(t,n){this.Y_=new qw,this.PX=new gI(t,n)}var n=t.prototype;return n.Tb=function(t,n,i,r,e){var u=new lR(t,n,i,r,e);return this.Y_.gl(u),this.PX.gl(u),u},n.Rb=function(t){this.Y_.wl(t),this.PX.wl(t)},n.ml=function(){this.Y_.ml(),this.PX.ml()},n.Rv=function(){this.Y_.Rv(),this.PX.Rv()},L(t,[{key:"ig",get:function(){return this.Y_}}]),t}();function WM(t,n){for(var i=0;i<t.pl;i++){var r=t._l(i);if(r.$vt===n)return r}}var qM=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).hdt=void 0,o.qS=void 0,o.zS=void 0,o.fdt=NaN,o.vdt=0,o.jS=new Up,o.ddt=function(){o.To(new Nl(o.S_))},o.ldt=function(){o.To(new Il(o.S_))},o._dt=function(){o.To(new Ul(o.S_))},o.gdt=function(){o.To(new Fl(o.S_))},o.wdt=function(){o.To(new Pl(o.S_,o.O_))},o.ydt=function(){o.To(new Hl(o.S_,o.L_))},o.mdt=function(){o.To(new _S(o.S_))},o.kdt=function(){o.To(new Ll(o.S_))},o.pdt=function(){o.To(new gS)},o.Adt=function(){o.To(new HM)},o.bdt=function(){o.To(new VM)},o.Tdt=function(){o.Edt(),o.Sdt.ml(),o.Rdt(),o.NR()},o.wL=function(){o.Rdt(),o.NR(),o._R()},o.Edt=function(){var t=o.fdt,n=o.R_;o.fdt=n,t===n||w(t)&&w(n)||o.To(new xl(n))},o.Idt=function(t){var n=t.error||o.Ndt.error;if(n){var i,r=r_.DECODE;n.code===LD.LQ&&yr(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.qS=new o_(r,n.message,i),o.To(new ql(function(t){return new To(h_(t.code),t.message,t)}(o.qS)))}},o.YS=function(){o.To(new Bl(o.S_,o.Sg))},o.Ddt=function(){o.B_>0&&o.P_>0&&o.To(new _y)},o.Cdt=function(){o.To(new tl)},o.Odt=function(t){o.Q_.kl.forEach(function(n){return n.cdt(t.ptsOffset)})},o.xdt=function(t){o.vdt+=t.xg,o.To(t)},o.Pdt=function(t){return o.Bdt(t.track)},o.Ldt=function(t){return o.Mdt(t.track)},o.Udt=function(t){var n=WM(o.j_,t.track);n&&n.To(new pd(n))},o.Fdt=function(t){var n=WM(o.Q_,t.track);n&&n.To(new pd(n))},o.XG=n,o.dN=i,e=function(t){var n,i={};return i=AL(t,i),(i=AL(SM,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!j.ce&&i.allowManualQualitySwitch,i.libraryLocation=Rr(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Q.call(n,t)?n[t]:t}),i}(e),o.Ndt=new TM(o.XG,o.dN,e,r,u),o.Hdt(),o.Vdt=new zM(o.Ndt),o.Sdt=new Op(o.Vdt,!0),o.Sdt.So(Cl,o.bo),o.j_=new v_,o.Q_=new v_,o.pb=new XM(rn(o),new wI),o.CX=new II(rn(o)),o.CX.Rl=o.Ndt.ig,o.OX=new NI(o.pb,o.CX),o.Y_=new gR([o.Ndt.ig,o.OX.Zk]),o.YG=new zI,o.YG.rW(n),o.ZG=new aD(o.YG.Rg,o.Ndt.dimensions,o.ig,s,o.Ndt.Cvt),o._R(),o}M(n,t);var i=n.prototype;return i.gg=function(){this.Ndt.gg(),this.YG.gg()},i._g=function(){this.Ndt._g(),this.YG._g()},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.hdt=n,this.Ndt.ag({sources:{src:n.src,type:ul.a_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:le(le({},i),{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eg=function(){this.Ndt.play()},i.ug=function(){this.Ndt.pause()},i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.hdt=void 0,this.qS=void 0,this.zS=void 0,this.vdt=0,this.Ndt.ag({sources:null}),this.Sdt.ml(),this.pb.ml(),this.Rdt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.cg=function(){return!1},i.hg=function(){},i.fg=function(){},i.wg=function(){return this.Ndt.wg()||void 0},i.yg=function(){return this.Ndt.Cvt},i.Tg=function(){},i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ml();case 2:return this.No(),this.Sdt.Rv(),this.Vdt.Rv(),this.Xdt(),t.next=8,this.Ndt.ho();case 8:return this.j_.Rv(),this.Q_.Rv(),this.CX.Rv(),t.next=13,this.OX.Rv();case 13:this.pb.Rv(),this.Y_.Rv(),this.ZG.Rv(),this.YG.Rv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hdt=function(){this.Ndt.addEventListener("Ovt",this.Tdt),this.Ndt.addEventListener("Bvt",this.wL),this.Ndt.addEventListener("durationchange",this.Edt),this.Ndt.addEventListener("error",this.Idt),this.Ndt.addEventListener("timeupdate",this.YS),this.Ndt.addEventListener("resize",this.Ddt),this.Ndt.addEventListener(qo.qc,this.Cdt),this.Ndt.addEventListener("Eut",this.Odt),this.Ndt.addEventListener(qo.ah,this.xdt),this.Ndt.addEventListener("play",this.ddt),this.Ndt.addEventListener("pause",this.ldt),this.Ndt.addEventListener("seeking",this._dt),this.Ndt.addEventListener("seeked",this.gdt),this.Ndt.addEventListener("ratechange",this.wdt),this.Ndt.addEventListener("volumechange",this.ydt),this.Ndt.addEventListener("progress",this.mdt),this.Ndt.addEventListener("ended",this.kdt),this.Ndt.addEventListener("loadstart",this.pdt),this.Ndt.addEventListener(qo.Zc,this.Adt),this.Ndt.addEventListener(qo.Yc,this.bdt),this.Ndt.addEventListener(qo.sh,this.bo)},i.Xdt=function(){this.Ndt.removeEventListener("Ovt",this.Tdt),this.Ndt.removeEventListener("Bvt",this.wL),this.Ndt.removeEventListener("durationchange",this.Edt),this.Ndt.removeEventListener("error",this.Idt),this.Ndt.removeEventListener("timeupdate",this.YS),this.Ndt.removeEventListener("resize",this.Ddt),this.Ndt.removeEventListener(qo.qc,this.Cdt),this.Ndt.removeEventListener("play",this.ddt),this.Ndt.removeEventListener("pause",this.ldt),this.Ndt.removeEventListener("seeking",this._dt),this.Ndt.removeEventListener("seeked",this.gdt),this.Ndt.removeEventListener("ratechange",this.wdt),this.Ndt.removeEventListener("volumechange",this.ydt),this.Ndt.removeEventListener("progress",this.mdt),this.Ndt.removeEventListener("ended",this.kdt),this.Ndt.removeEventListener("loadstart",this.pdt),this.Ndt.removeEventListener(qo.Zc,this.Adt),this.Ndt.removeEventListener(qo.Yc,this.bdt),this.Ndt.removeEventListener(qo.sh,this.bo),this.Ndt.removeEventListener(qo.ah,this.xdt)},i._R=function(){var t=this.Ndt.audioTracks,n=this.Ndt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Bdt(t.item(i));t.addEventListener("addtrack",this.Pdt),t.addEventListener("enabledtrack",this.Udt),t.addEventListener("disabledtrack",this.Udt)}if(n){for(var r=0;r<n.length;r++)this.Mdt(n.item(r));n.addEventListener("addtrack",this.Ldt),n.addEventListener("enabledtrack",this.Fdt),n.addEventListener("disabledtrack",this.Fdt)}},i.NR=function(){var t=this.Ndt.audioTracks,n=this.Ndt.videoTracks;t&&(t.removeEventListener("addtrack",this.Pdt),t.removeEventListener("enabledtrack",this.Udt),t.removeEventListener("disabledtrack",this.Udt)),n&&(n.removeEventListener("addtrack",this.Ldt),n.removeEventListener("enabledtrack",this.Fdt),n.removeEventListener("disabledtrack",this.Fdt))},i.Rdt=function(){for(var t=0,n=this.j_.kl;t<n.length;t++){n[t].Rv()}for(var i=0,r=this.Q_.kl;i<r.length;i++){r[i].Rv()}this.j_.ml(),this.Q_.ml()},i.Bdt=function(t){WM(this.j_,t)||this.j_.gl(new UM(t,this.Ndt.audioTracks))},i.Mdt=function(t){WM(this.Q_,t)||this.Q_.gl(new FM(t,this.Ndt.videoTracks))},L(n,[{key:"tg",get:function(){return this.j_}},{key:"Eg",get:function(){return this.Ndt.buffered}},{key:"Sg",get:function(){var t;return null!==(t=this.Ndt.currentProgramDateTime)&&void 0!==t?t:void 0},set:function(t){this.Ndt.currentProgramDateTime=null!=t?t:null}},{key:"S_",get:function(){var t=this.Ndt.currentTime;return t===1/0&&w(this.Ndt.duration)&&(t=0),t},set:function(t){this.Ndt.currentTime=t}},{key:"R_",get:function(){var t=this.Ndt.duration;return t<0?1/0:t}},{key:"I_",get:function(){return this.Ndt.ended}},{key:"Ho",get:function(){return this.qS}},{key:"N_",get:function(){return this.zS}},{key:"rg",get:function(){}},{key:"Ig",get:function(){return!1}},{key:"q_",get:function(){return le(le({},this.Ndt.q_()),{xg:this.vdt})}},{key:"D_",get:function(){return this.Ndt.muted},set:function(t){this.Ndt.muted=t}},{key:"Bg",get:function(){return this.Ndt.online}},{key:"C_",get:function(){return this.Ndt.paused}},{key:"O_",get:function(){return this.Ndt.playbackRate},set:function(t){this.Ndt.playbackRate=t}},{key:"Lg",get:function(){return this.Ndt.played}},{key:"Mg",get:function(){return this.Ndt.preload||Qp.rI},set:function(t){this.Ndt.preload=t}},{key:"ql",get:function(){return this.Ndt.ql}},{key:"Ug",get:function(){return this.Ndt.seekable}},{key:"x_",get:function(){return this.Ndt.seeking}},{key:"LR",get:function(){}},{key:"ig",get:function(){return this.Y_}},{key:"ng",get:function(){return this.Q_}},{key:"P_",get:function(){return this.Ndt.videoHeight}},{key:"B_",get:function(){return this.Ndt.videoWidth}},{key:"L_",get:function(){return this.Ndt.volume},set:function(t){this.Ndt.volume=t}},{key:"MR",get:function(){return this.jS}}]),n}($d),zM=function(t){function n(n){var i;return(i=t.call(this)||this).Wdt=function(){i.To(new Wl(i.S_,i.Ndt.ql))},i.qdt=function(){i.To(new Cp(i.S_))},i.ddt=function(){i.To(new Nl(i.S_))},i.ldt=function(){i.To(new Il(i.S_))},i.Ndt=n,i.Ndt.addEventListener(Sl.ul,i.Wdt),i.Ndt.addEventListener(Sl.E_,i.qdt),i.Ndt.addEventListener(qo.$c,i.ddt),i.Ndt.addEventListener(qo.Jc,i.ldt),i}return M(n,t),n.prototype.Rv=function(){this.No(),this.Ndt.removeEventListener(Sl.ul,this.Wdt),this.Ndt.removeEventListener(Sl.E_,this.qdt),this.Ndt.removeEventListener(qo.$c,this.ddt),this.Ndt.removeEventListener(qo.Jc,this.ldt)},L(n,[{key:"S_",get:function(){var t=this.Ndt.currentTime;return t===1/0&&w(this.Ndt.duration)&&(t=0),t}},{key:"I_",get:function(){return this.Ndt.ended}},{key:"Ho",get:function(){return this.Ndt.error||void 0}},{key:"C_",get:function(){return this.Ndt.paused}}]),n}(Tu);function GM(t,n){return jM.apply(this,arguments)}function jM(){return(jM=T.coroutine(de.mark(function t(n,i,r,e,u){var s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),cu(t.t0),!(s<r)){t.next=20;break}return o=l.min(e*l.pow(2,s),u),s++,t.next=19,mu(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}Gp(new(function(){function t(){this.UR=Pp.a_}var n=t.prototype;return n.Xb=function(t,n,i,r,e,u){return new qM(t,n,i,r,e,u)},n.FR=function(n,i){if((j._e||j.Ue)&&!i.manifestMetadataTrack)return!1;if(!ll(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Qy(r)&&!t.zdt(r))&&!!function(t){return bM(t,{})!==gM.zQ}(n)},t.zdt=function(t){return!!t.aes128},n.HR=function(){return!0},t}()));var QM,YM=function(t){function n(){return t.call(this,"Gdt")||this}return M(n,t),n}(Su),ZM=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jdt=function(){e.To(new YM)},e.hdt=n,e.Qdt=le(le({},i),{crossOrigin:e.hdt.crossOrigin,withCredentials:e.hdt.useCredentials,liveOffset:e.hdt.liveOffset,hlsDateRange:e.hdt.hlsDateRange}),e.Ab=r,e.Ydt=[],e.Wi=!1,e}M(n,t);var i=n.prototype;return i.Zdt=function(){if(this.Jdt)return this.Jdt.W_},i.gI=function(t){var n=this;gu(GM(function(){return n.DK()},t))},i.DK=function(){var t=T.coroutine(de.mark(function t(){var n,i,r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$dt();case 2:if((n=t.sent).isMasterPlaylist)for(this.Kdt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new $P(this.Ab,this.Qdt),this.Ydt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new $P(this.Ab,this.Qdt),this.Ydt.push({stream:{uri:n.uri},updater:s});this.tlt&&(this.nlt(this.tlt.width,this.tlt.height),this.tlt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ilt=function(t,n){this.Wi?this.nlt(t,n):this.tlt={width:t,height:n}},i.nlt=function(t,n){this.rlt();var i=this.elt(t,n);i&&(this.Jdt=i.updater,this.Jdt.addEventListener("W8",this.jdt),i.updater.gI(i.stream.uri))},i.rlt=function(){this.Jdt&&(this.Jdt.sg(),this.Jdt.removeEventListener("W8",this.jdt),this.Jdt=void 0)},i.elt=function(t,n){return 1===this.Ydt.length?this.Ydt[0]:Ye(this.Ydt,function(i){return i.stream.width===t&&i.stream.height===n})},i.$dt=function(){var t=T.coroutine(de.mark(function t(){var n,i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new JP(this.Qdt,QC.Ve.ZK,this.Ab),t.next=3,n.Ta(this.hdt.src,{});case 3:return i=t.sent,t.abrupt("return",i.W_);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Rv=function(){this.rlt();for(var t=0,n=this.Ydt;t<n.length;t++){n[t].updater.Rv()}nu(this.Ydt)},n}(Tu),JM=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).ult=void 0,e.slt=!1,e.e$=void 0,e.handleManifestUpdate=function(){var t=e.ult.Zdt();if(t){var n=e.LR;if(n){var i=n.getTime(),r=e.e$;r||(r=new nC,e.e$=r),r.Sa(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.slt&&r.zl.pl>0&&(e.ig.gl(r),e.PX.gl(r),e.slt=!0)}}},e.Ddt=function(){e.ult&&e.ult.ilt(e.B_,e.P_)},e.olt=i,e.wB=r,e.PX=new mI(rn(e)),e.So(qo.ih,e.Ddt),e}M(n,t);var i=n.prototype;return i.ag=function(){var n=T.coroutine(de.mark(function n(i,r,e){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.ag.call(this,i,r,e);case 2:i.hlsDateRange&&this.clt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.clt=function(t,n,i){this.ult&&(this.ult.Do("Gdt",this.handleManifestUpdate),this.ult.Rv()),this.ult=new ZM(t,n,this.olt),this.ult.So("Gdt",this.handleManifestUpdate),this.ult.gI(i)},i.ml=function(){return this.e$&&(this.ig.wl(this.e$),this.PX.wl(this.e$),this.e$.Rv(),this.e$=void 0,this.slt=!1),this.PX.ml(),t.prototype.ml.call(this)},i.Rv=function(){return this.Do(qo.ih,this.Ddt),this.ult&&(this.ult.Do("Gdt",this.handleManifestUpdate),this.ult.Rv()),this.PX.Rv(),t.prototype.Rv.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).hlt=n,i.hlt.Io(i.bo),i}M(n,t);var i=n.prototype;return i.cg=function(){return this.hlt.cg()},i.yg=function(){return this.hlt.yg()},i.wg=function(){return this.hlt.wg()},i.gg=function(){return this.hlt.gg()},i.Tg=function(){return this.hlt.Tg()},i.ug=function(){return this.hlt.ug()},i.eg=function(){return this.hlt.eg()},i.ml=function(){return this.hlt.ml()},i.ag=function(t,n,i){return this.hlt.ag(t,n,i)},i._g=function(){return this.hlt._g()},i.hg=function(){return this.hlt.hg()},i.fg=function(){return this.hlt.fg()},i.Rv=function(){return this.No(),this.hlt.Rv()},L(n,[{key:"tg",get:function(){return this.hlt.tg}},{key:"Eg",get:function(){return this.hlt.Eg}},{key:"Sg",get:function(){return this.hlt.Sg},set:function(t){this.hlt.Sg=t}},{key:"S_",get:function(){return this.hlt.S_},set:function(t){this.hlt.S_=t}},{key:"R_",get:function(){return this.hlt.R_}},{key:"I_",get:function(){return this.hlt.I_}},{key:"N_",get:function(){return this.hlt.N_}},{key:"rg",get:function(){return this.hlt.rg}},{key:"Ho",get:function(){return this.hlt.Ho}},{key:"Ig",get:function(){return this.hlt.Ig}},{key:"q_",get:function(){return this.hlt.q_}},{key:"D_",get:function(){return this.hlt.D_},set:function(t){this.hlt.D_=t}},{key:"Bg",get:function(){return this.hlt.Bg}},{key:"C_",get:function(){return this.hlt.C_}},{key:"O_",get:function(){return this.hlt.O_},set:function(t){this.hlt.O_=t}},{key:"Lg",get:function(){return this.hlt.Lg}},{key:"Mg",get:function(){return this.hlt.Mg},set:function(t){this.hlt.Mg=t}},{key:"ql",get:function(){return this.hlt.ql}},{key:"Ug",get:function(){return this.hlt.Ug}},{key:"x_",get:function(){return this.hlt.x_}},{key:"LR",get:function(){return this.hlt.LR}},{key:"ig",get:function(){return this.hlt.ig}},{key:"P_",get:function(){return this.hlt.P_}},{key:"ng",get:function(){return this.hlt.ng}},{key:"B_",get:function(){return this.hlt.B_}},{key:"L_",get:function(){return this.hlt.L_},set:function(t){this.hlt.L_=t}},{key:"MR",get:function(){return this.hlt.MR}}]),n}($d));QM=function(t,n,i){return new JM(t,n,i)},qp.qR().zR(QM);var $M=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return M(n,t),n}(Su);var KM=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Vd=void 0,u.Ch=MA.UNAVAILABLE,u.flt=new uu,u.handleAirplayChangedEvent=function(){u.cI&&u.cI.Ig?u.vlt():u.a2===MA.CONNECTED&&u.dlt()},u.handleAirplayPlayerTimeUpdate=function(t){u.llt=t.currentTime,u._lt=u.Mx.Sg},u.glt=n,u.Mx=i,u.wlt=e,u.wlt.gg(),u.Mx.K_(e),u.ylt(),b.Rs.Yu&&u.mlt(MA.AVAILABLE),u}M(n,t);var i=n.prototype;return i.ylt=function(){this.cI&&this.cI.Do(qo.xc,this.handleAirplayChangedEvent),this.klt?this.cI=this.Mx:this.cI=this.wlt,this.cI.So(qo.xc,this.handleAirplayChangedEvent)},i.vlt=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cI){t.next=2;break}return t.abrupt("return");case 2:if(this.klt){t.next=24;break}return this.llt=this.Mx.S_,this._lt=this.Mx.Sg,this.wlt.So("timeupdate",this.handleAirplayPlayerTimeUpdate),this.plt=this.Mx.Rl,this.Mx.Rl=this.wlt,this.plt.ug(),this.plt.gg(),this.wlt._g(),this.wlt.D_=this.plt.D_,this.wlt.O_=this.plt.O_,this.wlt.L_=this.plt.L_,n=this.wlt.Po("seeked"),this.wlt.S_=this.plt.S_,t.next=18,n;case 18:this.wlt.eg(),this.wlt.D_=this.plt.D_,this.wlt.O_=this.plt.O_,this.wlt.L_=this.plt.L_,t.next=28;break;case 24:if(this.cI.C_){t.next=27;break}return t.next=27,this.cI.Po(qo.Jc,this.flt.ko);case 27:this.cI.eg();case 28:this.mlt(MA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.dlt=function(){this.plt?(this.wlt.Do("timeupdate",this.handleAirplayPlayerTimeUpdate),this.plt.D_=this.wlt.D_,this.plt.O_=this.wlt.O_,this.plt.L_=this.wlt.L_,j.Ce&&!j._e&&this.Mx.R_===1/0?this._lt?this.plt.Sg=this._lt:this.plt.S_=1/0:this.plt.S_=this.llt,this._lt=void 0,this.llt=void 0,this.plt._g(),this.wlt.gg(),this.wlt.C_||this.plt.eg(),this.Mx.Rl=this.plt,this.wlt.ml(),this.plt=void 0):this.cI&&(this.cI.S_=this.cI.S_+1e-4);this.mlt(MA.AVAILABLE)},i.preloadPlayer=function(t){if(au(t),this.cI.ql<al.g_){var n=this.cI.Po("loadedmetadata",t);return this.cI.Mg=Qp.uk,n}return T.resolve()},i.mlt=function(t){t!==this.Ch&&(this.Ch=t,this.To(new $M(this.Ch)))},i.hg=function(){b.Rs.Yu&&(this.glt.vg(),this.flt.wo(),this.flt=new uu,this.klt?gu(this.Alt(this.flt.ko)):gu(this.blt(this.flt.ko)))},i.Alt=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.Mx.hg();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.blt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wlt.ml();case 3:return t.next=5,this.wlt.ag(this.Mx.og(),n);case 5:return i=this.wlt.Po("playing",n),this.wlt.eg(),t.next=9,ku(i,3e3);case 9:this.wlt.ug(),au(n),this.wlt.hg(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!ou(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.fg=function(){b.Rs.Yu&&this.cI.fg()},i.Rv=function(){var t;this.No(),this.Mx.pg(this.wlt),this.flt.wo(),null===(t=this.wlt)||void 0===t||t.Rv()},L(n,[{key:"cB",get:function(){return this.a2===MA.CONNECTED}},{key:"klt",get:function(){return this.Mx.cg()}},{key:"a2",get:function(){return this.Ch}},{key:"Xd",get:function(){var t;return this.Vd||(this.Vd=(t=this,{get casting(){return t.cB},get state(){return t.a2},start:function(){t.hg()},stop:function(){t.fg()},addEventListener:function(n,i){n=Bd(n,Pd),t.So(n,i)},removeEventListener:function(n,i){n=Bd(n,Pd),t.Do(n,i)}})),this.Vd}}]),n}($d);HE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Wd=function(){var n=this.uL.Xd;return Sd(t.prototype.Wd.call(this),{get cast(){return n}})},n}(t)},OE.cL);var tU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).uI=void 0,o.hdt=void 0,o.j_=new qd,o.Q_=new qd,o.Y_=new Jd,o.nI=n,o.Tlt=new Ir(u,s,1,[f_.yv]),o.Tlt.lN(n),o.Elt=new Hp(n,o.Tlt,i,r,e),o.Elt.Io(o.bo),o.j_.Rl=o.Elt.tg,o.Q_.Rl=o.Elt.ng,o.Y_.Rl=o.Elt.ig,o}M(n,t);var i=n.prototype;return i.cg=function(){return this.Elt.cg()},i.hg=function(){this.Elt.hg()},i.fg=function(){this.Elt.fg()},i.eg=function(){gu(this.Elt.eg())},i.ug=function(){this.Elt.ug()},i.sg=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.og=function(){return this.hdt},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(i),this.hdt=n,!kl(n.sources)){t.next=6;break}r=nb({src:""}),t.next=16;break;case 6:e=n.sources.filter(El),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!Vp(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new f("Unsupported source.");case 18:return t.next=20,this.Elt.ag(r,n,i);case 20:this.dI(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.dI=function(t){this.uI!==t&&(this.uI=t,this.To(new nl(t)))},i.wg=function(){},i.Slt=function(){},i.mg=function(){return[]},i.vg=function(){this.Tlt.gN()},i.dg=function(t){Ql(this,t)},i.lg=function(){},i.kg=function(t){return!1},i.Tg=function(){},i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.uI=void 0,this.hdt=void 0,t.next=4,this.Elt.ml();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._g=function(){this.Elt._g()},i.gg=function(){this.Elt.gg()},i.yg=function(){return this.Elt.yg()},i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.No(),this.Tlt.Rv(),t.next=4,this.Elt.Rv();case 4:this.j_.Rv(),this.Q_.Rv(),this.Y_.Rv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"tg",get:function(){return this.Elt.tg}},{key:"Eg",get:function(){return this.Elt.Eg}},{key:"bg",get:function(){return this.uI}},{key:"S_",get:function(){return this.Elt.S_},set:function(t){this.Elt.S_=t}},{key:"Sg",get:function(){return this.Elt.Sg}},{key:"R_",get:function(){return this.Elt.R_}},{key:"Rg",get:function(){return this.nI}},{key:"I_",get:function(){return this.Elt.I_}},{key:"Ho",get:function(){return this.Elt.Ho}},{key:"Ig",get:function(){return this.Elt.Ig}},{key:"q_",get:function(){return{Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"D_",get:function(){return this.Elt.D_},set:function(t){this.Elt.D_=t}},{key:"Bg",get:function(){return this.Elt.Bg}},{key:"C_",get:function(){return this.Elt.C_}},{key:"O_",get:function(){return this.Elt.O_},set:function(t){this.Elt.O_=t}},{key:"Lg",get:function(){return this.Elt.Lg}},{key:"Mg",get:function(){return this.Elt.Mg},set:function(t){this.Elt.Mg=t}},{key:"ql",get:function(){return this.Elt.ql}},{key:"Ug",get:function(){return this.Elt.Ug}},{key:"x_",get:function(){return this.Elt.x_}},{key:"ig",get:function(){return this.Elt.ig}},{key:"P_",get:function(){return this.Elt.P_}},{key:"B_",get:function(){return this.Elt.B_}},{key:"ng",get:function(){return this.Elt.ng}},{key:"L_",get:function(){return this.Elt.L_},set:function(t){this.Elt.L_=t}}]),n}($d);HE(function(t){return function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=new tU(r.iB.Rg,r.Ld,r.Jp,r.rL,r.jB,r.aL);return r.Rlt=new KM(rn(r),r.iB,r.Ld,e),r.uL.aB(r.Rlt),r.So("currentsourcechange",function(){r.Rlt.ylt()}),r}M(n,t);var i=n.prototype;return i.Wd=function(){var n=this,i=t.prototype.Wd.call(this);return Sd(i.cast,{get airplay(){return n.Rlt.Xd}}),i},i.Rv=function(){this.Rlt.Rv(),t.prototype.Rv.call(this)},n}(t)},OE.cL);var nU=function(){},iU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),rU=A(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function eU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function uU(t){return JSON.stringify(t,rU.getSerialize(eU))}var sU,oU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=u&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),aU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,u=32;function s(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[u,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===u||t===r||t===e||t===i},n.isNameStartChar=s,n.isNameChar=function(t){return s(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),cU=A(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}d.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),hU=A(function(t,n){d.defineProperty(n,"__esModule",{value:!0});var i=oU.isS,r=oU.isChar,e=oU.isNameStartChar,u=oU.isNameChar,s=oU.S_LIST,o=oU.NAME_RE,a=aU.isChar,c=cU.isNCNameStartChar,h=cU.isNCNameChar,v=cU.NC_NAME_RE;const l="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:l,xmlns:g},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,D=9,C=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,ut=38,st=39,ot=40,at=41,ct=42,ht=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Dt=[34,39],Ct=[...Dt,Et,bt],Ot=[...Dt,pt,St],xt=[At,Tt,...s],Pt=[...s,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==l&&t.fail(`xml prefix must be bound to ${l}.`);break;case"xmlns":i!==g&&t.fail(`xmlns prefix must be bound to ${g}.`)}switch(i){case g:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${g}.`);break;case l:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>v.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=c,this.nameCheck=h,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=d.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of d.keys(n))Bt(t,i,n[i])}(this,t),d.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=u,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.dc}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new f("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.dc=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=d.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new f(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,u=e?dt:r;if(u===m||t.includes(u))return this.text+=i.slice(n,this.prevI),u;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!u(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=a,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new f("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Ct);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?C:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ht,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:d.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=d.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=st:i(t)?this.state=ut:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=st;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=ct,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=at);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=ct;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new f("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const u=this.getCode();switch(u){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(u)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),u={name:t,prefix:r,local:e,value:n};if(this.attribList.push(u),null===(i=this.attributeHandler)||void 0===i||i.call(this,u),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.dc=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:u}=t;let s,o;""===i?(s="xmlns"===n?g:"",o=n):(void 0===(s=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),s=i),o=`{${s}}${u}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=s,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=_(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=_(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),fU=function(){function t(){}return t.prototype.Ye=function(t){var n=new hU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new yU,r=[i];function e(t){r[r.length-1].hu(t)}return n.on("text",function(t){r.length>1&&e(new gU(t))}),n.on("cdata",function(t){e(new wU(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,u=t.prefix,s=new lU({Ke:n,nu:""===i?void 0:i,Ilt:""===u?void 0:u}),o=t.attributes,a=0,c=d.keys(o);a<c.length;a++){var h=o[c[a]],f=h.prefix,v=h.local,l=h.uri,_=h.value,g=new vU({Ke:v,ru:_,nu:""===l?void 0:l,Ilt:""===f?void 0:f});s.Nlt(g)}e(s),r.push(s)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new sn(t)}),n.write(t).close(),i},t}(),vU=function(){function t(t){this.Dlt=t.Ke,this.xn=t.ru,this.Clt=t.nu,this.Olt=t.Ilt}var n=t.prototype;return n.Je=function(t){return this===t||!!kU(this,t)&&(this.Dlt===t.Dlt&&this.Clt===t.Clt&&this.Olt===t.Olt&&this.xn===t.xn)},n.$e=function(){return new t({Ke:this.Ke,ru:this.ru,nu:this.nu,Ilt:this.iu})},L(t,[{key:"We",get:function(){return Jt.Ge}},{key:"Ke",get:function(){return this.Dlt}},{key:"tu",get:function(){return void 0===this.Olt?this.Dlt:this.Olt+":"+this.Dlt}},{key:"nu",get:function(){return this.Clt}},{key:"iu",get:function(){return this.Olt}},{key:"ru",get:function(){return this.xn}}]),t}(),dU=function(){function t(){this.eu=[]}var n=t.prototype;return n.su=function(t){return this.eu.filter(function(n){return mU(n)&&n.au===t})},n.cu=function(t,n){return this.eu.filter(function(i){return mU(i)&&i.Ke===n&&i.nu===t})},n.hu=function(t){this.eu.push(t)},L(t,[{key:"ou",get:function(){return this.eu}},{key:"vu",get:function(){return this.eu.filter(mU)}}]),t}(),lU=function(t){function n(n){var i;return(i=t.call(this)||this).xlt=[],i.Dlt=n.Ke,i.Clt=n.nu,i.Olt=n.Ilt,i}M(n,t);var i=n.prototype;return i.Plt=function(t){for(var n=0,i=this.ou;n<i.length;n++){var r=i[n];mU(r)?r.Plt(t):t.push(r.pu)}},i.lu=function(t,n){for(var i=0,r=this.xlt;i<r.length;i++){var e=r[i];if(e.Ke===n&&e.nu===t)return e.ru}},i.du=function(t){for(var n=0,i=this.xlt;n<i.length;n++){var r=i[n];if(r.tu===t)return r.ru}},i.Nlt=function(t){this.xlt.push(t)},i._u=function(t){for(var n=0;n<this.xlt.length;n++)if(this.xlt[n].tu===t)return void this.xlt.splice(n,1)},i.gu=function(t,n){for(var i=0;i<this.xlt.length;i++)if(this.xlt[i].Ke===n&&this.xlt[i].nu===t)return void this.xlt.splice(i,1)},i.wu=function(t,n){this._u(t),this.Nlt(new vU({Ke:t,ru:n}))},i.yu=function(t,n,i){this._u(n);var r=n.split(":");this.Nlt(new vU({Ke:r[r.length-1],ru:i,nu:t,Ilt:r.length>1?r[0]:void 0}))},i.$e=function(t){var i=new n({Ke:this.Ke,nu:this.nu,Ilt:this.iu});return this.mu.forEach(function(t){return i.Nlt(t.$e())}),t&&this.ou.forEach(function(n){return i.hu(n.$e(t))}),i},i.Je=function(t){return this===t||!!kU(this,t)&&(this.Dlt===t.Dlt&&this.Olt===t.Olt&&this.Clt===t.Clt&&(pU(this.mu,t.mu)&&pU(this.ou,t.ou)))},L(n,[{key:"We",get:function(){return Jt.qe}},{key:"mu",get:function(){return this.xlt}},{key:"Ke",get:function(){return this.Dlt}},{key:"nu",get:function(){return this.Clt}},{key:"iu",get:function(){return this.Olt}},{key:"au",get:function(){return void 0===this.Olt?this.Dlt:this.Olt+":"+this.Dlt}},{key:"ku",get:function(){var t=[];return this.Plt(t),t.join("")}}]),n}(dU),_U=function(){function t(t){this.nr=t}return L(t,[{key:"pu",get:function(){return this.nr}}]),t}(),gU=function(t){function n(n){return t.call(this,n)||this}M(n,t);var i=n.prototype;return i.$e=function(){return new n(this.pu)},i.Je=function(t){return this===t||!!kU(this,t)&&this.pu===t.pu},L(n,[{key:"We",get:function(){return Jt.ze}}]),n}(_U),wU=function(t){function n(n){return t.call(this,n)||this}M(n,t);var i=n.prototype;return i.$e=function(){return new n(this.pu)},i.Je=function(t){return this===t||!!kU(this,t)&&this.pu===t.pu},L(n,[{key:"We",get:function(){return Jt.je}}]),n}(_U),yU=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.$e=function(t){var i=new n;return t&&this.ou.forEach(function(n){return i.hu(n.$e(t))}),i},i.Je=function(t){return this===t||!!kU(this,t)&&pU(this.ou,t.ou)},L(n,[{key:"We",get:function(){return Jt.Qe}},{key:"Au",get:function(){return this.vu[0]}}]),n}(dU);function mU(t){return tn(t)}function kU(t,n){return t.We===n.We}function pU(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].Je(n[i]))return!1;return!0}function AU(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:le(le({},t),{adBreak:le(le({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return my(t,["adBreak"])})})})}function bU(t){return void 0===t.ads?t:le(le({},t),{ads:t.ads.map(function(t){t.adBreak;return my(t,["adBreak"])})})}function TU(t){return"string"==typeof t.date?new Date(t.date):t.date}function EU(t){var n;return t.cue.track?(n=RU(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=RU(t.cue,""),n}function SU(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=d.entries(i);return d.fromEntries(r.map(function(i){var r=i[0],e=i[1],u=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==u&&n.pop(e),[r,u]}))}return i}(t)}function RU(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new fU).Ye(r.firstChild.outerHTML).Au.mu.forEach(function(t){e[t.Ke]=t.ru}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var u={};for(var s in t.customAttributes){var o=t.customAttributes[s];if("object"==typeof(c=o)&&null!==c){var a=IU(o);u[s]={type:sU.Blt,value:a}}else DU(o)?u[s]={type:sU.Llt,value:o}:u[s]={type:sU.YW,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=IU(t.scte35Cmd),i.scte35Out=IU(t.scte35Out),i.scte35In=IU(t.scte35In),i.customAttributes=u}var c}(),i}function IU(t){if(void 0!==t)return Wu(t)}function NU(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(RU(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(RU(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function DU(t){return"number"==typeof t}!function(t){t.YW="daterange-ca-type_string",t.Llt="daterange-ca-type_number",t.Blt="daterange-ca-type_arraybuffer"}(sU||(sU={}));var CU={cue:function(t){var n={};switch(n.date=TU(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=EU(t)}return n},textTrack:function(t){var n={};switch(n.date=TU(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=BU().register(t.cue));var i=PU()[LU()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=EU(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(RU(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=TU(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=BU().register(t)}),n.track=NU(t.track);case"removetrack":case"change":n.track=NU(t.track)}return n},default:function(t){var n={};switch(n.date=TU(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=le({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=NU(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=bU(t.ad);break;case"adloaded":case"adimpression":n.ad=AU(t.ad);break;case"aderror":t.Mlt&&(n.Mlt=t.Mlt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=AU(t.ad)}return SU(n)},minimizeCueHelper:function(t){var n={};return n.date=TU(t),n.type=t.type,n.cue=EU(t),n.track={uid:t.cue.track.uid},n},adReplacer:AU,adBreakReplacer:bU,removeCircularReferences:SU},OU=function(){this.stringify=uU,this.minimize=CU};function xU(){return Cr.self}function PU(){return xU().THEOplayerBridge}function BU(){return xU().THEOCueMirrorMap}function LU(){return xU().THEOplayerGlobalID}function MU(){var t=xU();if(t.THEOplayerBridge){var n=new nU;t.THEOplayerBridge=Sd(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new nU;t.THEOplayerUtils||(t.THEOplayerUtils=new OU),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new iU)}MU();var UU,FU=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return M(n,t),n}(Su),HU=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.To(new FU(t,n))},i.addEventListener=function(t,n){this.So(t,n)},i.removeEventListener=function(t,n){this.Do(t,n)},n}(Kd),VU=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ult=function(t){r.Flt.oj("THEOplayerABRSetTargetBuffer",t.qx),r.To(t)},r.Hlt=function(t){r.Flt.oj("THEOplayerABRSetStrategy",t.Gx),r.To(t)},r.Flt=n,r.Vlt=i,r.Vlt.So("zx",r.Ult),r.Vlt.So("jx",r.Hlt),r}return M(n,t),L(n,[{key:"nP",get:function(){var t;switch(this.Gx.type){case WT.PERFORMANCE:return 1;case WT.QUALITY:return 0;case WT.BANDWIDTH:return(null===(t=this.Gx.metadata)||void 0===t?void 0:t.bitrate)&&!w(this.Gx.metadata.bitrate)?this.Gx.metadata.bitrate:0;default:return 0}}},{key:"Xd",get:function(){return this.Vlt.Xd}},{key:"Gx",get:function(){return this.Vlt.Gx},set:function(t){this.Vlt.Gx=t}},{key:"qx",get:function(){return this.Vlt.qx},set:function(t){this.Vlt.qx=t}},{key:"Qx",get:function(){return this.Vlt.Qx},set:function(t){this.Vlt.Qx=t}}]),n}(Tu),XU=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.$E=function(t,n,i,r){return!0},n}(ep),WU=function(){function t(t,n,i){this.Oa=void 0,this.uc=t,this.io=i,this._c=n}var n=t.prototype;return n.Rb=function(t){throw new f("Not implemented yet.")},n.rS=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.io.ro(n.Qs,i);case 2:return r=t.sent,t.next=5,r.Fa();case 5:return e=t.sent,t.next=8,this.QL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ho=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.QL=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.ZL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ZL=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Oa)){t.next=5;break}return t.next=4,i.La(this._c);case 4:this.Oa=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Ba(this._c);case 8:this.Oa=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Tb=function(t,n,i){throw new f("Not implemented yet.")},L(t,[{key:"Jp",get:function(){return this.uc}},{key:"Mg",get:function(){throw new f("Not implemented yet.")},set:function(t){throw new f("Not implemented yet.")}},{key:"Ug",get:function(){return new iA([0,1/0])}},{key:"ig",get:function(){throw new f("Not implemented yet.")}},{key:"Xlt",get:function(){throw new f("Not implemented yet")}},{key:"ng",get:function(){throw new f("Not implemented yet.")}},{key:"Wlt",get:function(){throw new f("Not implemented yet")}},{key:"qlt",get:function(){throw new f("Not implemented yet")}}]),t}();!function(t){t.zlt="webkitneedkey",t.Glt="webkitkeymessage",t.jlt="webkitkeyerror"}(UU||(UU={}));var qU=function(t){function n(n,i){var r;return(r=t.call(this,UU.zlt)||this).initData=n,r.sessionId=i,r}return M(n,t),n}(Su),zU=function(t){function n(n,i){var r;return(r=t.call(this,UU.Glt)||this).message=n,r.destinationURL=i,r}return M(n,t),n}(Su),GU=function(t){function n(){return t.call(this,UU.jlt)||this}return M(n,t),n}(Su),jU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).za=n,s.da=i,s.Qlt=r,s.gc=e,s.oc=u,s.Ya=new js,s.ac=void 0,s.tc=new Bu,s.hc=new js,s.Ylt=function(t){s.ac?(s.ac.ca(void 0),s.ac=void 0):s.Ka("internal-error"),s.To(new Cu)},s.Zlt=function(t){s.ac&&(s.ac.aa(void 0),s.ac=void 0),s.To(new Du(rn(s),"license-request",qs(t.message).buffer,t.destinationURL||void 0))},s}M(n,t);var i=n.prototype;return i.ba=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.fc){t.next=3;break}throw new v("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Jlt(Xs(i),e);case 5:this.Ka("usable"),this.hc.aa(),this.hc=new js;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Ta=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Sa=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Xs(n)).byteLength){t.next=3;break}throw new v("Cannot call update with an empty response.");case 3:return this.ac=new js,this.Qlt.Sa(this.gc,i),t.next=7,this.ac.oa;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Aa=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hc;case 2:return this.Qlt.Do(UU.Glt,this.Zlt),this.Qlt.Do(UU.jlt,this.Ylt),this.hc.wo(),this.Ya.aa(void 0),t.abrupt("return",this.Ya.oa);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ea=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Jlt=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=bo(n,i,this.oc),this.Qlt.So(UU.Glt,this.Zlt),this.Qlt.So(UU.jlt,this.Ylt),this.Qlt.OT(this.gc,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ka=function(t){this.tc.Jo(),this.tc.Zo(Pu,t),this.To(new Nu(this))},L(n,[{key:"Ca",get:function(){return this.gc}},{key:"Na",get:function(){return NaN}},{key:"Ia",get:function(){return this.Ya.oa}},{key:"Da",get:function(){return this.tc}}]),n}(Tu),QU=function(){function t(t,n,i){this.da=n,this.za=i,this.$lt=void 0,this.gc=void 0,this.oc=void 0,this.Qlt=t}var i=t.prototype;return i.xa=function(){var t=T.coroutine(de.mark(function t(i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oc){t.next=2;break}throw new To(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new jU(this.za,this.da,this.Qlt,this.gc,this.oc),this.$lt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Pa=function(t){return this.oc=Xs(t),T.resolve(!0)},i.Ba=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.La=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new f("Whoops.")},L(t,[{key:"keySystem",get:function(){return this.da}},{key:"sessionId",set:function(t){this.gc=t}}]),t}(),YU=function(){function t(t,n,i){this.Klt=t,this.da=n,this.uc=i;var r=_o(i)||"video/mp4";this.za=fo(r)}var n=t.prototype;return n.Ha=function(){return this.uc},n.Fa=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new QU(this.Klt,this.da,this.za));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),L(t,[{key:"Va",get:function(){return this.da}}]),t}(),ZU=function(){function t(t){this.Klt=t}return t.prototype.ro=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=vo(JU,Iu,n,e))){t.next=6;break}return t.abrupt("return",new YU(this.Klt,n,u));case 6:r++,t.next=1;break;case 9:throw new v("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function JU(t,n){return t===Pe}var $U,KU=function(t){function n(n,i,r){var e;return void 0===r&&(r=new ZU(i)),(e=t.call(this)||this).zE=void 0,e.RV=new gy,e.t_t=!1,e.sc=null,e.n_t={Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.i_t=function(t){"boolean"==typeof t.detail.casting&&(e.t_t=t.detail.casting,e.To(new R_(e.t_t)))},e.r_t=function(t){e.gc=t.sessionId,e.sc&&(e.sc.sessionId=e.gc);var n=t.initData;if(n){var i=FI(n);if(!i)return;e.To(new Ou(Re,i))}else e.To(new Ou(Re,new ArrayBuffer(0)))},e.e_t=n,e.Klt=i,e.Klt.So(UU.zlt,e.r_t),e.io=r,e.u_t(),e}M(n,t);var i=n.prototype;return i.KL=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if((r=n[i]).js!==rp.oS){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ho=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ml();case 2:this.No(),this.s_t(),this.Klt.Do(UU.zlt,this.r_t);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.gg=function(){throw new f("Not implemented yet")},i.Tb=function(t,n,i,r,e,u){throw new f("Not implemented yet")},i.AR=function(){return!1},i.TR=function(t,n,i,r){throw new f("Not implemented yet")},i.Rb=function(t){throw new f("Not implemented yet")},i.RR=function(){throw new f("Not implemented yet")},i.Ta=function(){var t=T.coroutine(de.mark(function t(n){var i=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.RV.xb(function(){var t=T.coroutine(de.mark(function t(r){var e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.js!==rp.oS){t.next=7;break}return au(r),e=new WU(n,i,i.io),i.zE=e,t.abrupt("return",e);case 7:throw new f("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ug=function(){throw new f("Not implemented yet")},i.eg=function(){throw new f("Not implemented yet")},i.ml=function(){var t=this;return this.RV.wo(),this.RV.xb(T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.zE){n.next=4;break}return n.next=3,t.zE.ho();case 3:t.zE=void 0;case 4:case"end":return n.stop()}},n)})))},i.na=function(t,n){throw new f("Not implemented yet")},i.xR=function(t){throw new f("Not implemented yet")},i._g=function(){throw new f("Not implemented yet")},i.PR=function(){return this.n_t},i.u_t=function(){this.e_t.addEventListener("airPlayIsCasting",this.i_t)},i.s_t=function(){this.e_t.removeEventListener("airPlayIsCasting",this.i_t)},i.webkitSetMediaKeys=function(t){this.sc=t||null,this.sc&&(this.sc.sessionId=this.gc)},i.nW=function(){},i.gF=function(){throw new f("Not implemented yet")},i.wF=function(){throw new f("Not implemented yet")},i.rW=function(t){},L(n,[{key:"Sg",get:function(){throw new f("Not implemented yet")}},{key:"fR",get:function(){throw new f("The mediaElement_ property is deprecated")}},{key:"Eg",get:function(){throw new f("Not implemented yet")}},{key:"S_",get:function(){throw new f("Not implemented yet")}},{key:"sL",get:function(){throw new f("Not implemented yet")}},{key:"R_",get:function(){throw new f("Not implemented yet")}},{key:"I_",get:function(){throw new f("Not implemented yet")}},{key:"Ho",get:function(){throw new f("Not implemented yet")}},{key:"dp",get:function(){throw new f("Not implemented yet")}},{key:"Ig",get:function(){return this.t_t}},{key:"D_",get:function(){throw new f("Not implemented yet")}},{key:"C_",get:function(){throw new f("Not implemented yet")}},{key:"O_",get:function(){throw new f("Not implemented yet")}},{key:"Lg",get:function(){throw new f("Not implemented yet")}},{key:"ql",get:function(){throw new f("Not implemented yet")}},{key:"Ug",get:function(){throw new f("Not implemented yet")}},{key:"x_",get:function(){throw new f("Not implemented yet")}},{key:"eW",get:function(){throw new f("Not implemented yet")}},{key:"L_",get:function(){throw new f("Not implemented yet")},set:function(t){throw new f("Not implemented yet")}},{key:"rs",get:function(){throw new f("Not implemented yet")}},{key:"SR",get:function(){throw new f("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.sc}},{key:"uW",get:function(){return hS}},{key:"ig",get:function(){throw new f("Not implemented yet")}},{key:"LR",get:function(){throw new f("Not implemented yet")}},{key:"iW",get:function(){return!0}}]),n}($d),tF=function(t){function n(n){var i;return(i=t.call(this,qo.gh)||this).n_t=n,i}return M(n,t),n}(Su);function nF(t){switch(t.type){case $U.YW:return t.value;case $U.Llt:return Od(t.value);case $U.Blt:return Vu(t.value);default:return}}function iF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.YW="daterange-ca-type_string",t.Llt="daterange-ca-type_number",t.Blt="daterange-ca-type_arraybuffer"}($U||($U={}));var rF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).OE=n,s.o_t=u,s}return M(n,t),L(n,[{key:"name",get:function(){return this.OE}},{key:"timestamp",get:function(){return this.o_t}}]),n}(To),eF=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return M(n,t),n}(rF),uF=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).eN=0,s.pF=!1,s.qS=void 0,s.zS=void 0,s.sN=!0,s.oN=1,s.a_t=iA.tN(),s.$U=iA.tN(),s.uN=!1,s.BV=iA.tN(),s.UF=al.__,s.fS=al.__,s.n_t={Ng:0,Dg:0,Cg:0,Og:0,xg:0,Pg:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.zE=void 0,s.jS=new Up,s.setCurrentTime=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Ug.length){t.next=4;break}return s.eN=n,t.next=4,s.e_t.Po("seekablechange");case 4:s.eN=s.updateCurrentTime(n),s.Flt.oj("THEOplayerSetCurrentTime",s.eN),s.aN=!0,s.To(new Ul(s.eN));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.c_t=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.a_t=new iA(i),s.To(new _S(s.S_))}},s.h_t=function(t){s.UF=t.detail.readyState,s.To(new Vl(+t.detail.currentTime,s.ql)),s.f_t()},s.v_t=function(t){s.UF=t.detail.readyState,s.To(new Xl(+t.detail.currentTime,s.ql)),s.f_t()},s.d_t=function(t){if(t.detail){var n=+t.detail.duration;s.kF=n,s.To(new xl(s.R_))}},s.kdt=function(t){t.detail&&(s.pF=!0,s.To(new Ll(+t.detail.currentTime)))},s.QS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);iF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.zS=new eF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.qS=c_(s.zS),s.To(new ql(s.zS))):iF(i)&&(s.zS=new rF(i.name,i.message,void 0,i.code,i.timestamp),s.qS=c_(s.zS),s.To(new ql(s.zS)))}},s.pdt=function(t){s.To(new gS)},s.l_t=function(t){s.UF=t.detail.readyState,s.To(new Ml(+t.detail.currentTime,s.ql)),s.f_t()},s.__t=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.Ug.length){t.next=3;break}return t.next=3,s.e_t.Po("seekablechange");case 3:s.UF=n.detail.readyState,s.To(new Ol(+n.detail.currentTime,s.ql)),s.f_t();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.ddt=function(t){t.detail&&s.To(new Nl(+t.detail.currentTime))},s.ldt=function(t){t.detail&&(s.sN||(s.sN=!0,s.To(new Il(+t.detail.currentTime))))},s.g_t=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.BV=new iA(i).BI(.05)}},s.qdt=function(t){t.detail&&s.To(new Cp(+t.detail.currentTime))},s.wdt=function(t){t.detail&&(s.oN=t.detail.playbackRate,s.To(new Pl(+t.detail.currentTime,s.oN)))},s.w_t=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.$U=new iA(i)}},s.gdt=function(t){t.detail&&(s.eN=+t.detail.currentTime,s.aN=!1,s.To(new Bl(s.eN,s.y_t)),s.To(new Fl(s.eN)))},s._dt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.kF&&(s.pF=!1),s.aN=!0,s.To(new Ul(n))}},s.m_t=function(t){t.detail&&(t.detail.currentDate&&(s.y_t=new Date(1e3*t.detail.currentDate)),s.eN=+t.detail.currentTime,s.To(new Bl(s.eN,s.y_t)))},s.k_t=function(t){s.p_t=t.detail.height,s.A_t=t.detail.width},s.b_t=function(t){t.detail&&s.To(new Dp(+t.detail.currentTime))},s.Pdt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.tg.gl(new p_(n))},s.T_t=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.j_.pl;u++){var o=s.tg._l(u);o.Bl==r&&o.Pl==e?i=s.j_._l(u):1==o.Dl&&(n=s.j_._l(u))}i&&n&&(i.Dl=!0,n.Dl=!1)},s.Ldt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.ng.gl(new S_(n))},s.xG=function(t){var n,i=t.detail.kind,r=t.detail.type;i===Ww.uk&&r===T_.ID3?(n=new AI("",t.detail.label)).Wl=Xd.Fl:i===Ww.uk&&r===T_.DATE_RANGE?(n=new nC,s.E_t=n):n=new lR(i,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.YV.gl(n),s.PX.gl(n)},s.S_t=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new kI(Od(r.startTime),u);o.Cl=r.uid;var a=s.R_t();a&&a.Sb(o)}},s.I_t=function(t){for(var n,i=0,r=t.detail;i<r.length;i++){var e=r[i],u=new W_(Od(e.startTime),Od(e.endTime),e.content,!1," "),o=null!==(n=s.N_t(Ww.vb))&&void 0!==n?n:s.N_t(Ww.lb);o&&(o.js=T_.WEBVTT,o.Sb(u))}},s.oR=function(t){t.type===qo.Mc&&(s.qS=c_(t.errorObject)),s.bo(t)},s.D_t=function(t){t.detail&&(s.n_t.Dg=t.detail.corruptedVideoFrames,s.n_t.Ng=t.detail.droppedVideoFrames,s.To(new tF(s.q_)))},s.C_t=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Cl:t.id};if(void 0!==t.startDate&&(n.LR=new Date(t.startDate)),void 0!==t.endDate&&(n.yY=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=nF(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.IY=r}void 0!==t.scte35Cmd&&(n.DY=Vu(t.scte35Cmd)),void 0!==t.scte35In&&(n.PY=Vu(t.scte35In)),void 0!==t.scte35Out&&(n.OY=Vu(t.scte35Out)),void 0!==t.startTime&&(n.uw=t.startTime),n.kY=t.class,n.R_=Od(t.duration),n.TY=Od(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.uw?t.uw:(new Date).getTime(),r=new QD(t,i);s.E_t.Sb(r),s.E_t.Sa(n,i)})};var o=e.uid;s.Flt=s.getSdkBridge(o),s.e_t=new HU,PU()[o].sdkEventBus=s.e_t,s.j_=new v_,s.Q_=new v_;var a=s.O_t(r);return s.pb=new XM(rn(s),new wI),s.PX=new mI(rn(s)),s.gR=new cy(s.pb,a),s.YV=new qw,s.CX=new II(rn(s)),s.CX.Rl=s.YV,s.OX=new NI(s.pb,s.CX),s.Y_=new gR([s.YV,s.gR.Zk,s.OX.Zk]),s.Klt=s.getFairPlayControllerBridge(s.Flt),s.ZE=new KU(s.e_t,s.Klt),s.dR=new XU(s.ZE,a),s.dR.So(Lp,s.oR),s.observeMediaElement(),s._R(),s.fN=new VU(s.Flt,u),s.fN.So("zx",function(){s.Flt.oj("THEOplayerSetPreferredForwardBufferDuration",s.fN.qx)}),s}M(n,t);var i=n.prototype;return i.yg=function(){return uA},i._g=function(){this.Flt.oj("THEOplayerShow",{})},i.gg=function(){this.Flt.oj("THEOplayerHide",{})},i.x_t=function(){var t=this;this.Flt.oj("THEOplayerSetInitialPreferredPeakBitRate",this.fN.nP);this.So("playing",function n(){t.Flt.oj("THEOplayerSetInitialPreferredPeakBitRate",0),t.Do("playing",n)})},i.ag=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hdt=n,r=le(le({},i),{sources:{src:n.src,type:ul.a_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Flt.oj("THEOplayerSourceChange",r),e={js:rp.oS,jl:n.src,Mf:n.type,wR:[],yR:n.crossOrigin,mR:i.metadata&&i.metadata.title},t.next=6,this.ZE.Ta(e);case 6:this.zE=t.sent,this.dR.Ba(this.zE),this.dR.$b(this.kR(n)),i.textTracks&&(u=i.textTracks.filter(function(t){return t.format!==T_.WEBVTT})).length>0&&this.pR(u),ly(this.ig),this.x_t();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kR=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{LT:t.contentProtection||{},nS:{iS:"cbcs"},rT:[{Va:Me,eT:[],fc:void 0}],uS:[],sS:["video/mp4"]}}},i.eg=function(){this.sN=!1,this.To(new Nl(this.S_)),this.Flt.oj("THEOplayerPlay",{})},i.ug=function(){this.sN=!0,this.To(new Il(this.S_)),this.Flt.oj("THEOplayerPause",{})},i.wg=function(){},i.ml=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eN=0,this.pF=!1,this.qS=void 0,this.zS=void 0,this.sN=!0,this.oN=1,this.kF=void 0,this.$U=iA.tN(),this.a_t=iA.tN(),this.p_t=void 0,this.A_t=void 0,this.UF=al.__,this.fS=al.__,this.j_.ml(),this.Q_.ml(),this.YV.ml(),this.Y_.ml(),t.next=19,this.OX.ml();case 19:return this.CX.ml(),t.next=22,this.gR.ml();case 22:return this.pb.ml(),this.PX.ml(),this.hdt=void 0,t.next=27,this.ZE.ml();case 27:return t.next=29,this.dR.ml();case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.hg=function(){this.Flt.oj("THEOplayerShowAirPlayPicker",{})},i.fg=function(){this.Flt.oj("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.q_.Dg=t.Dg,this.q_.Ng=t.Ng},i.Rv=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ml();case 2:return this.No(),this.unobserveMediaElement(),this.NR(),t.next=7,this.dR.Rv();case 7:return t.next=9,this.ZE.ho();case 9:return this.j_.Rv(),this.Q_.Rv(),this.YV.Rv(),this.Y_.Rv(),this.CX.Rv(),t.next=16,this.OX.Rv();case 16:return t.next=18,this.gR.Rv();case 18:this.pb.Rv(),this.PX.Rv();case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.pR=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.gR.bb(i)}},i.f_t=function(){var t=this.fS,n=this.UF;t!==n&&(this.fS=n,this.To(new Wl(this.S_,n)))},i.observeMediaElement=function(){this.ZE.So(qo.xc,this.bo),this.e_t.addEventListener("play",this.ddt),this.e_t.addEventListener("pause",this.ldt),this.e_t.addEventListener("seeking",this._dt),this.e_t.addEventListener("seeked",this.gdt),this.e_t.addEventListener("ratechange",this.wdt),this.e_t.addEventListener("durationchange",this.d_t),this.e_t.addEventListener("timeupdate",this.m_t),this.e_t.addEventListener("waiting",this.b_t),this.e_t.addEventListener("playing",this.qdt),this.e_t.addEventListener("ended",this.kdt),this.e_t.addEventListener("loadedmetadata",this.__t),this.e_t.addEventListener("loadeddata",this.l_t),this.e_t.addEventListener("loadstart",this.pdt),this.e_t.addEventListener("canplay",this.h_t),this.e_t.addEventListener("canplaythrough",this.v_t),this.e_t.addEventListener("error",this.QS),this.e_t.addEventListener("seekablechange",this.w_t),this.e_t.addEventListener("videosizechange",this.k_t),this.e_t.addEventListener("bufferedchange",this.c_t),this.e_t.addEventListener("playedchange",this.g_t),this.e_t.addEventListener("metricschange",this.D_t),this.e_t.addEventListener("addDateRangeCues",this.C_t)},i.unobserveMediaElement=function(){this.ZE.Do(qo.xc,this.bo),this.e_t.removeEventListener("play",this.ddt),this.e_t.removeEventListener("pause",this.ldt),this.e_t.removeEventListener("seeking",this._dt),this.e_t.removeEventListener("seeked",this.gdt),this.e_t.removeEventListener("ratechange",this.wdt),this.e_t.removeEventListener("durationchange",this.d_t),this.e_t.removeEventListener("timeupdate",this.m_t),this.e_t.removeEventListener("waiting",this.b_t),this.e_t.removeEventListener("playing",this.qdt),this.e_t.removeEventListener("ended",this.kdt),this.e_t.removeEventListener("loadedmetadata",this.__t),this.e_t.removeEventListener("loadeddata",this.l_t),this.e_t.removeEventListener("loadstart",this.pdt),this.e_t.removeEventListener("canplay",this.h_t),this.e_t.removeEventListener("canplaythrough",this.v_t),this.e_t.removeEventListener("error",this.QS),this.e_t.removeEventListener("seekablechange",this.w_t),this.e_t.removeEventListener("videosizechange",this.k_t),this.e_t.removeEventListener("bufferedchange",this.c_t),this.e_t.removeEventListener("playedchange",this.g_t),this.e_t.removeEventListener("metricschange",this.D_t),this.e_t.removeEventListener("addDateRangeCues",this.C_t)},i.updateCurrentTime=function(t){var n=this.Ug.start(0),i=this.Ug.end(0);return l.min(l.max(t,n),i)},i.R_t=function(){for(var t=0,n=this.Y_.kl;t<n.length;t++){var i=n[t];if(i.xl===Ww.uk&&i.js===T_.ID3)return i}},i.N_t=function(t){for(var n=0,i=this.Y_.kl;n<i.length;n++){var r=i[n],e=r.Wl===Xd.Hl,u=r.xl===t;if(e&&u)return r}},i._R=function(){this.e_t.addEventListener("addaudiotrack",this.Pdt),this.e_t.addEventListener("enableaudiotrack",this.T_t),this.e_t.addEventListener("addvideotrack",this.Ldt),this.e_t.addEventListener("addtexttrack",this.xG),this.e_t.addEventListener("addtexttrackid3cues",this.S_t),this.e_t.addEventListener("addtexttrackcues",this.I_t)},i.NR=function(){this.e_t.removeEventListener("addaudiotrack",this.Pdt),this.e_t.removeEventListener("enableaudiotrack",this.T_t),this.e_t.removeEventListener("addvideotrack",this.Ldt),this.e_t.removeEventListener("addtexttrack",this.xG),this.e_t.removeEventListener("addtexttrackid3cues",this.S_t),this.e_t.removeEventListener("addtexttrackcues",this.P_t)},i.Tg=function(){},L(n,[{key:"tg",get:function(){return this.j_}},{key:"Eg",get:function(){return this.a_t.OR()}},{key:"Sg",get:function(){return this.y_t?this.y_t:null},set:function(t){this.Flt.oj("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.y_t=t}},{key:"S_",get:function(){return this.eN},set:function(t){this.setCurrentTime(t)}},{key:"R_",get:function(){return this.kF}},{key:"I_",get:function(){return this.pF}},{key:"Ho",get:function(){return this.qS}},{key:"N_",get:function(){return this.zS}},{key:"rg",get:function(){}},{key:"Ig",get:function(){return this.ZE.Ig}},{key:"q_",get:function(){return this.n_t}},{key:"D_",get:function(){return this.uN},set:function(t){this.uN!==t&&(this.Flt.oj("THEOplayerSetMuted",t),this.uN=t,this.To(new Hl(this.S_,t?0:1)))}},{key:"C_",get:function(){return this.sN}},{key:"O_",get:function(){return this.oN},set:function(t){this.Flt.oj("THEOplayerSetPlaybackRate",t),this.oN=t}},{key:"Lg",get:function(){return this.BV.OR()}},{key:"Mg",get:function(){return Qp.rI},set:function(t){}},{key:"ql",get:function(){return this.UF}},{key:"Ug",get:function(){return this.$U.OR()}},{key:"x_",get:function(){return this.aN}},{key:"LR",get:function(){}},{key:"ig",get:function(){return this.Y_}},{key:"P_",get:function(){return this.p_t}},{key:"B_",get:function(){return this.A_t}},{key:"L_",get:function(){return 1},set:function(t){}},{key:"ng",get:function(){return this.Q_}},{key:"MR",get:function(){return this.jS}},{key:"Bg",get:function(){return!0}}]),n}($d),sF=function(){function t(){this.UR=Pp.US}var n=t.prototype;return n.FR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360])return!1;if(dl(n.type))return!1;var r=n.contentProtection;if(r&&!Qy(r)){if(!Jy(r))return!1;if(!t.zdt(r))return!1}return!0},t.zdt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.HR=function(){return!1},t}(),oF=function(){function t(){this.B_t=r.webkit}return t.prototype.oj=function(t,n){this.B_t.messageHandlers[t]&&this.B_t.messageHandlers[t].postMessage(n)},t}(),aF=function(t){function n(n){var i;return(i=t.call(this)||this).L_t=function(t){var n=Vu(t.detail.initData),r=t.detail.sessionId;i.To(new qU(n,r))},i.M_t=function(t){var n=new y(Qu(t.detail.message)),r=t.detail.destinationURL;i.To(new zU(n,r))},i.U_t=function(t){i.To(new GU)},i.Flt=n,i.e_t=new HU,PU().fairplayController={sdkEventBus:i.e_t},i.h$(),i}M(n,t);var i=n.prototype;return i.h$=function(){this.e_t.addEventListener(UU.zlt,this.L_t),this.e_t.addEventListener(UU.Glt,this.M_t),this.e_t.addEventListener(UU.jlt,this.U_t)},i.OT=function(t,n){var i={playerId:LU(),data:Yu(n.buffer),sessionId:t};this.Flt.oj("THEOplayerCreateKeySession",i)},i.Sa=function(t,n){var i={playerId:LU(),data:Yu(n.buffer),sessionId:t};this.Flt.oj("THEOplayerUpdateKey",i)},n}($d),cF=function(t){var n=this;this.F_t=function(){n.H_t.VG()},this.V_t=function(){n.H_t.HG()},this.e_t=new HU,this.H_t=t,this.e_t.addEventListener("showTracks",this.F_t),this.e_t.addEventListener("hideTracks",this.V_t),PU().texttracks={sdkEventBus:this.e_t}},hF=function(t){function n(n,i,r,e,u,s){var o;o=t.call(this,n,i,r,e,u)||this;var a=i.cR(f_.yv);return o.YG=new zI,o.YG.rW(n),o.ZG=new aD(o.YG.Rg,a.sL,o.ig,s,a.SR),o.X_t=new cF(o.ZG),i.DR(a),Cr.document.querySelector(".vjs-tech")?Cr.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Cr.document.querySelector(".player-div").style.background="transparent",o}M(n,t);var i=n.prototype;return i._g=function(){t.prototype._g.call(this),this.YG._g()},i.gg=function(){t.prototype.gg.call(this),this.YG.gg()},i.cg=function(){return!0},i.getSdkBridge=function(){return new oF},i.getFairPlayControllerBridge=function(){return vF},i.O_t=function(t){return t},i.Rv=function(){var n=T.coroutine(de.mark(function n(){return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Cr.document.querySelector(".vjs-tech")?Cr.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Cr.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Rv.call(this);case 3:this.ZG.Rv(),this.YG.Rv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(uF);Gp(new(function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Xb=function(t,n,i,r,e,u){return new hF(t,n,i,r,e,u)},i.FR=function(n,i){if(n.type){var r=Yr();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.FR.call(this,n,i)},n}(sF)));var fF,vF=new aF(new oF),dF=function(t){function n(){return t.call(this,"W_t")||this}return M(n,t),n.prototype.Wd=function(){return new lF},n}(vd),lF=function(t){function n(){return t.call(this,"statechange")||this}return M(n,t),n}(Su);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(fF||(fF={}));var _F=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).q_t=new $d,n.bo=function(t){n.To(t)},n}M(n,t);var i=n.prototype;return i.Wd=function(){return n=gF(t=this),i=new cE(t,n),n.addEventListener=function(t,n){i.So(t,n)},n.removeEventListener=function(t,n){i.Do(t,n)},n;var t,n,i},i.So=function(t,n){this.q_t.So(t,n)},i.Io=function(t){this.q_t.Io(t)},i.No=function(){this.q_t.No()},i.To=function(t){this.q_t.To(t)},i.Do=function(t,n){this.q_t.Do(t,n)},i.Oo=function(t){this.q_t.Oo(t)},i.xo=function(t){this.q_t.xo(t)},i.Po=function(t,n){return this.q_t.Po(t,n)},n}(function(){function t(){this.Go=[],this.Vd=void 0}var n=t.prototype;return n.Wd=function(){return gF(this)},n._l=function(t){return this.Go[t]},n.Hg=function(t){this.Go.push(t),this.Vd&&this.Vd.push(t.Xd),this.z_t(t)},n.G_t=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hg(i)}},n.j_t=function(t,n){n>=0&&n<=this.Go.length&&(this.Go.splice(n,0,t),this.Vd&&this.Vd.splice(n,0,t.Xd),this.z_t(t))},n.Vg=function(t){return Ke(this.Go,t)},n.Ea=function(t){this.Q_t(this.Go.indexOf(t))},n.Q_t=function(t){if(t>=0&&t<this.Go.length){var n=this.Go[t];$e(this.Go,t),this.Vd&&$e(this.Vd,t),this.Y_t(n)}},n.Jo=function(){var t=this.Go.slice();nu(this.Go),this.Vd&&nu(this.Vd);for(var n=0;n<t.length;n++){var i=t[n];this.Y_t(i)}},L(t,[{key:"Z_t",get:function(){return this.Go}},{key:"pl",get:function(){return this.Go.length}},{key:"Xd",get:function(){return this.Vd||(this.Vd=this.Wd()),this.Vd}}]),t}());function gF(t){var n=t.Z_t.map(function(t){return t.Xd});return n.item=function(n){n|=0;var i=t._l(n);return i&&i.Xd||void 0},n}var wF,yF=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return M(n,t),n}(Su),mF=function(t){function n(n){var i;return(i=t.call(this,"$_t")||this).J_t=n,i}return M(n,t),n.prototype.Wd=function(){return new yF(this.J_t.Xd)},n}(vd),kF=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return M(n,t),n}(Su),pF=function(t){function n(n){var i;return(i=t.call(this,"K_t")||this).task=n,i}return M(n,t),n.prototype.Wd=function(){return new kF(this.task.Xd)},n}(vd),AF=function(t){function n(){return t.call(this)||this}M(n,t);var i=n.prototype;return i.z_t=function(t){this.To(new mF(t))},i.Y_t=function(t){this.To(new pF(t))},n}(_F);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(wF||(wF={}));var bF=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).tgt=wF.UNINITIALISED,e.Nb=new AF,e.ngt=i,e.igt=r,e.N8=n,e.vg(),e}M(n,t);var i=n.prototype;return i.vg=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rgt();case 2:this.egt(wF.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rgt=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ugt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.ugt=function(){var t=T.coroutine(de.mark(function t(){var n,i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.N8.qK();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.ngt.sgt(r.id,r.sourceDescription,r.parameters,this.igt),this.ogt(e),this.Nb.Hg(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.egt=function(t){this.tgt=t,this.To(new dF)},i.sgt=function(t,n,i){void 0===i&&(i="persistent");var r=this.ngt.agt(t,n,i);return this.cgt(r,i),this.Nb.Hg(r),this.ogt(r),r},i.cgt=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hgt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),f("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.hgt=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.N8.VK({key:n.Cl,id:n.Cl,sourceDescription:n.$R,parameters:n.rc},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ogt=function(t){var n=this;t.So("W_t",function(){t.Yf===fF.EVICTED&&n.Nb.Ea(t)})},L(n,[{key:"Yf",get:function(){return this.tgt}},{key:"fgt",get:function(){return this.Nb}}]),n}(Tu);function TF(t,n){return function(t,n){var i=t.rs&&n.rs,r=t.dp&&n.dp;return i||r?i&&r?t.rs*t.dp-n.rs*n.dp:i?t.rs-n.rs:r?t.dp-n.dp:(t.rs||1)*(t.dp||1)-(n.rs||1)*(n.dp||1):0}(t,n)||function(t,n){return t.XS-n.XS}(t,n)}var EF=function(t){function n(){return t.call(this,"progress")||this}return M(n,t),n}(Su),SF=function(t){function n(){return t.call(this,"vK")||this}return M(n,t),n.prototype.Wd=function(){return new EF},n}(vd),RF=function(){function t(t,n,i){if(this.vgt=t,this.Fg=n,this.dgt=i,0===this.Fg.size)this.lgt=iA.tN();else{var r=new iA([-1/0,1/0]);this.Fg.forEach(function(t){r=r.NI(t.timeRanges)}),this.lgt=r}}return t.prototype.Tw=function(t){return!!Id(this.Fg,t.Fg)&&(!!jt(this.vgt,t.vgt)&&(!!jt(this.ZI,t.ZI)&&(!!jt(this._gt,t._gt)&&this.ggt.qI(t.ggt))))},t.wgt=function(){return NF},L(t,[{key:"ZI",get:function(){return this.dgt}},{key:"ygt",get:function(){return this.vgt}},{key:"_gt",get:function(){return this.ggt.ZI}},{key:"mgt",get:function(){var t=0,n=0;return this.Fg.forEach(function(i){t+=i.timeRanges.ZI,n+=i.totalQualityDurationToCache}),0===n?0:l.min(1,t/n)}},{key:"ggt",get:function(){return this.lgt}}]),t}(),IF=ge(),NF=new RF(0,IF,NaN);function DF(t,n){if(nt(t)){if(wr(t,"%"))return g(t)/100*n;throw new f("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var CF,OF=function(t){function n(n,i){return t.call(this,n,i)||this}return M(n,t),L(n,[{key:"name",get:function(){return"kgt"}}]),n}(un);function xF(t,n,i,r){var e=[],u=Ye(i,function(t){return t.pgt===Te});if(void 0!==u){var s=u.ru?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(u.ru.toLowerCase()):"cenc";if(void 0!==s){for(var o=0;o<i.length;o++){var a=i[o];if(a.pgt!==Te)for(var c=0,h=He(a.pgt);c<h.length;c++){var f=h[c];e.push({Va:f,eT:a.Agt?[a.Agt]:[],fc:void 0})}}if(e.length)return{LT:t,nS:{iS:s,UT:u.UT},rT:e,uS:n===f_.wv?r.slice():[],sS:n===f_.yv?r.slice():[],nT:!1}}}}function PF(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=ge();return BF(r,e,t.rT),BF(r,e,n.rT),{LT:t.LT,nS:{iS:t.nS.iS,UT:null!==(i=t.nS.UT)&&void 0!==i?i:n.nS.iS},rT:r,uS:LF(t.uS,n.uS,Ke),sS:LF(t.sS,n.sS,Ke),nT:t.nT||n.nT||!1}}function BF(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.Va.Js,s=void 0;n.has(u)?(s=n.get(u)).eT=LF(s.eT,e.eT,MF):(s=le({},e),t.push(s),n.set(u,s))}}function LF(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function MF(t,n){for(var i=0;i<t.length;i++){if(Gu(t[i],n))return!0}return!1}function UF(t,n){var i,r=t.bgt;if(r){for(var e=t.LC,u=[],s=0,o=t.kJ;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=xF(n||{},t.js,r,u)}for(var c=0,h=t.Tgt;c<h.length;c++){i=PF(i,FF(h[c],n))}return i}function FF(t,n){return xF(n||{},t.js,t.bgt||[],[t.Mf])}function HF(t,n,i){return VF.apply(this,arguments)}function VF(){return(VF=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Egt;u<s.length;u++)o=s[u],e.push(XF(o,i,r));return t.next=4,T.all(e);case 4:return a=t.sent,t.abrupt("return",{R_:n.Rgt.Sgt(),Igt:[n.Ngt],Egt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function XF(t,n,i){return WF.apply(this,arguments)}function WF(){return(WF=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Dgt;u<s.length;u++)o=s[u],e.push(qF(o,i,r));return t.next=4,T.all(e);case 4:return a=t.sent,t.abrupt("return",{Cgt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function qF(t,n,i){return zF.apply(this,arguments)}function zF(){return(zF=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Ogt;u<s.length;u++)GF(o=s[u])||e.push(ZF(o,i,r));return t.next=4,T.all(e);case 4:return a=t.sent,t.abrupt("return",{Zk:a,js:n.js});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function GF(t){return t.Tgt.every(YF)}!function(t){t[t.o_=0]="o_",t[t.a_=1]="a_"}(CF||(CF={}));var jF,QF=1;function YF(t){return t.xgt!==QF&&Boolean(t.xgt)}function ZF(t,n,i){return JF.apply(this,arguments)}function JF(){return(JF=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Tgt;u<s.length;u++)YF(o=s[u])||e.push(KF(o,r));return t.next=4,T.all(e);case 4:return a=t.sent,c=n.kJ[0],h=n.bgt,f=h?$F(c,h):void 0,v=UF(n,i),t.abrupt("return",{Ll:a,Bl:n.Pgt,js:n.js,wR:f,Bgt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $F(t,n){for(var i=[],r=function(t){return t?wr(t,"avc")?so.VIDEO_H264:wr(t,"hev")||wr(t,"hvc")||wr(t,"hvt")||wr(t,"lhv")||wr(t,"lhe")||wr(t,"lht")?so.VIDEO_H265:wr(t,"mp4")?so.VIDEO_MP4:wr(t,"mpeg2")?so.VIDEO_MPEG2:wr(t,"mpeg")?so.VIDEO_MPEG:so.VIDEO_UNKNOWN:so.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.pgt.split(":").pop(),o=u.Agt;i.push({mimeType:r,uuid:s,data:o})}return{type:CF.o_,schemeType:Ee,schemeDatas:i}}function KF(t,n){return tH.apply(this,arguments)}function tH(){return(tH=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nH(n,i);case 2:u=t.sent,s={Cl:eH(n),$A:u,t8:n.e8,XS:n.XS,es:n.es,dp:n.dp,js:n.js,rs:n.rs},t.t0=n.js,t.next=t.t0===f_.ze?7:t.t0===f_.yv?8:t.t0===f_.wv?10:12;break;case 7:return t.abrupt("break",13);case 8:return s.G$=null!==(e=null===(r=n.G$)||void 0===r?void 0:r.Uw())&&void 0!==e?e:NaN,t.abrupt("break",13);case 10:return s.audioSamplingRate=n.zvt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",s);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function nH(t,n){return iH.apply(this,arguments)}function iH(){return(iH=T.coroutine(de.mark(function t(n,i){var r,e,u,s,o,a,c,h;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Lgt,u=e.Mgt(),s=u;case 4:if(!s){t.next=16;break}if(!e.Ugt(s.Q5)){t.next=12;break}return t.next=8,n.Fgt(s,i,(new uu).ko);case 8:for(o=t.sent,a=0;a<o.pl;a++)r.push(rH(o.Hgt(a),n));t.next=13;break;case 12:r.push(rH(s,n));case 13:s=e.Dht(s),t.next=4;break;case 16:return c=e.Vgt(),h=c.sw-u.uw,t.abrupt("return",{R_:h,YK:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rH(t,n){return{uw:t.uw,R_:t.R_,Xgt:n.Wgt(t)}}function eH(t){return t.qgt.gI+"-"+(""+t.Cl)}function uH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],a=0;a<o.length;a++){var c=o[a],h=sH(c,r,n);s.push(h)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={js:r.type,sp:[]}),n[r["group-id"]].sp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.sp;u<s.length;u++){var o=s[u];i[e.js]||(i[e.js]={}),i[e.js][o.name]||(i[e.js][o.name]=[]),i[e.js][o.name].push(o)}return i}(t),n)}function sH(t,n,i){for(var r=t["group-id"],e={MZ:t,k$:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e.k$.push(s)}return e}function oH(t,n){return aH.apply(this,arguments)}function aH(){return(aH=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.E8([n],{});case 2:return r=t.sent,e=new VP,t.abrupt("return",e.Mk(r._8,r.nv,ZP(r.nv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cH(t,n){return hH.apply(this,arguments)}function hH(){return(hH=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",fH(n,i));case 4:return t.abrupt("return",(e=void 0,e=EH(r=n),{R_:r.duration,Igt:[r.uri],Egt:[{Cgt:[{Zk:[{Ll:[{Cl:r.uri,$A:e,XS:0,es:"",dp:0,js:null,rs:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function fH(t,n){return vH.apply(this,arguments)}function vH(){return(vH=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=uH(n.media,n.streams),t.next=3,gH(r,i);case 3:return e=t.sent,t.next=6,lH(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{R_:dH(e),Igt:[n.uri],Egt:[{Cgt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dH(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].Zk;r<e.length;r++){var u=e[r];n=l.max.apply(l,[n].concat(u.Ll.map(function(t){return t.$A.R_})))}return n}function lH(t,n){return _H.apply(this,arguments)}function _H(){return(_H=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,bH(u.uri,i);case 6:(s=t.sent).XS=u.bandwidth,s.es=u.codecs,s.dp=u.resolution&&u.resolution.height,s.rs=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{Zk:[{Ll:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gH(t,n){return wH.apply(this,arguments)}function wH(){return(wH=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=de.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,yH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function yH(t,n){return mH.apply(this,arguments)}function mH(){return(mH=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=de.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,kH(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{Zk:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kH(t,n){return pH.apply(this,arguments)}function pH(){return(pH=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,AH(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{Ll:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function AH(t,n){var i,r,e;return bH((r=(i=t).MZ.uri,e=i.k$.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function bH(t,n){return TH.apply(this,arguments)}function TH(){return(TH=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oH(n,i);case 2:return r=t.sent,e=EH(r),t.abrupt("return",{Cl:n,zgt:n,$A:e,XS:0,es:"",dp:0,js:null,rs:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function EH(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(SH(e))}return{R_:t.duration,YK:n}}function SH(t){return{uw:t.start,R_:t.duration,Xgt:RH(t.uri)}}function RH(t){return rC(t)?{rv:t.FY,HY:[t.HY.gI,t.HY.yI],Tv:!1}:{rv:t.toString(),Tv:!1}}!function(t){t.oS="static",t.aS="dynamic"}(jF||(jF={}));var IH,NH=31536e3,DH=2592e3,CH=86400,OH=3600,xH=60,PH=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,BH=function(){function t(t){var n=t.match(PH);if(!n)throw new f("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,u=Number(n[4])||0,s=Number(n[5])||0,o=Number(n[6])||0;this.Ggt=i*NH+r*DH+e*CH+u*OH+s*xH+o}var n=t.prototype;return n.Sgt=function(){return this.Ggt},n.jgt=function(){return 1e3*this.Ggt},L(t,[{key:"u2",get:function(){return vg.zy(this.Ggt,1e3)}}]),t}();!function(t){t.Qgt="progressive",t.Ygt="interlaced",t.uv="unknown"}(IH||(IH={}));var LH=function(){function t(t,n){this.Zgt=t,this.Jgt=n}return t.prototype.Uw=function(){return this.Zgt/this.Jgt},t}(),MH=/^(?:true|false)$/i,UH=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function FH(t){if(void 0!==t)return new BH(t)}function HH(t){if(void 0!==t){var n=t.match(UH);if(!n)throw new f("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],a=n[7],c=n[8],h=n[9],v=n[10],d=n[11],_=("-"===i?-1:1)*Number(r),g=Number(e)-1,y=Number(u),m=Number(s),k=Number(o),p=Number(a),A=Number("0."+(c||"")),b=l.round(1e3*A);if(h)k-=("-"===h?-1:1)*(60*Number(v)+Number(d));var T=new Date(Date.UTC(_,g,y,m,k,p,b));if(w(T.getTime()))throw new f("The given value could not be parsed as a valid Date");return T}}function VH(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[WH(n[1]),WH(n[2])]}}function XH(t){if(void 0!==t){if(!w(Number(t)))try{return Vt.fromString(t,!0)}catch(t){}throw new f("The given value could not be parsed as a valid unsigned long")}}function WH(t){if(void 0!==t){var n=Number(t);if(!w(n))return n;throw new f("The given value could not be parsed as a valid Number")}}function qH(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!w(i)&&!w(r))return new LH(i,r);throw new f("The given value could not be parsed as a valid frame rate")}}function zH(t){if(void 0!==t){if(MH.test(t))return"true"===t.toLowerCase();if(!w(_(t)))return Boolean(_(t));throw new f("The given value could not be parsed as a valid Boolean.")}}function GH(t){return{rv:t.ku,$gt:zH(t.du("availabilityTimeComplete")),Kgt:WH(t.du("availabilityTimeOffset"))}}function jH(t){return t.map(GH)}function QH(t){var n,i,r,e,u,s,o=uV(t),a=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).lu(r,i))&&(u=n.du(e+":"+i)),u),c=Sw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==c&&(s=Qu(c.ku)),!s){var h=Sw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==h&&(s=function(t){var n=Vu(t.ku),i=new y([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new y(u),o=new DataView(u),a=new zs;ws(o,a,e),ws(o,a,1886614376),ws(o,a,0),fs(o,a,i),ws(o,a,r),fs(o,a,n),0;return s.buffer}(h))}return{UT:a,Agt:s,pgt:o.pgt,ru:o.ru}}function YH(t){return{twt:t.du("sourceURL"),HY:VH(t.du("range"))}}function ZH(t,n){var i=t.du("d"),r=t.du("t"),e=WH(t.du("r"));n.push({R_:i,uw:r,nwt:e})}function JH(t){return{Q5:t.du("index"),iwt:VH(t.du("indexRange")),sp:t.du("media"),rwt:VH(t.du("mediaRange"))}}function $H(t){var n,i,r=nV(t),e=(n=t.su("SegmentURL"),(i=n.map(JH)).length>0?i:void 0),u=t.du("xlink:href"),s=t.du("xlink:actuate");return le(le({},r),{ewt:e,uwt:u,swt:s})}function KH(t){var n=t.map($H);return n.length>0?n:void 0}function tV(t){var n=zH(t.du("availabilityTimeComplete")),i=WH(t.du("availabilityTimeOffset")),r=VH(t.du("indexRange")),e=zH(t.du("indexRangeExact")),u=t.su("Initialization");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.au+" element can not have more than one Initialization element.");var s=1===u.length?YH(u[0]):void 0,o=XH(t.du("presentationTimeOffset")),a=t.su("RepresentationIndex");if(a.length>1)throw new f("The provided MPEG-DASH document's "+t.au+" element can not have more than one RepresentationIndex element.");return{$gt:n,Kgt:i,iwt:r,owt:e,awt:s,cwt:o,hwt:1===a.length?YH(a[0]):void 0,fwt:FH(t.du("timeShiftBufferDepth")),Py:WH(t.du("timescale"))}}function nV(t){var n=tV(t),i=t.su("BitstreamSwitching"),r=i.length>0?YH(i[0]):void 0,e=WH(t.du("duration")),u=t.su("SegmentTimeline");if(u.length>1)throw new f("The provided MPEG-DASH document's "+t.au+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.su("S"),r=0;r<i.length;r++)ZH(i[r],n);return n}(u[0]):void 0,o=WH(t.du("startNumber")),a=WH(t.du("endNumber"));return le(le({},n),{vwt:r,R_:e,Lgt:s,dwt:o,lwt:a})}function iV(t){var n=nV(t),i=t.du("bitstreamSwitching"),r=t.du("index"),e=t.du("initialization"),u=t.du("media");return le(le({},n),{_wt:i,gwt:r,wwt:e,ywt:u})}function rV(t){return{zvt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(WH)):1===n.length?n.map(WH)[0]:void 0}}(t.du("audioSamplingRate")),kJ:t.du("codecs"),mwt:zH(t.du("codingDependency")),bgt:function(t){if(0!==t.length)return t.map(QH)}(t.su("ContentProtection")),kwt:t.su("EssentialProperty").map(sV),G$:qH(t.du("frameRate")),dp:WH(t.du("height")),xgt:WH(t.du("maxPlayoutRate")),pwt:WH(t.du("maximumSAPPeriod")),LC:t.du("mimeType"),Awt:t.du("profiles"),bwt:t.du("sar"),Twt:function(t){switch(t){case IH.Qgt:case IH.Ygt:case IH.uv:return t;default:return}}(t.du("scanType")),Ewt:t.du("segmentProfiles"),Swt:WH(t.du("startWithSAP")),rs:WH(t.du("width"))}}function eV(t){var n=rV(t),i=WH(t.du("bandwidth")),r=jH(t.su("BaseURL")),e=t.du("dependencyId"),u=t.du("id"),s=t.du("mediaStreamStructureId"),o=WH(t.du("qualityRanking")),a=t.su("SegmentBase");if(a.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?tV(a[0]):void 0,h=KH(t.su("SegmentList")),v=t.su("SegmentTemplate");if(v.length>1)throw new f("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");var d=1===v.length?iV(v[0]):void 0;return le(le({},n),{XS:i,Rwt:r,Iwt:e,Cl:u,Nwt:s,Dwt:o,Cwt:c,Owt:h,xwt:d})}function uV(t){return{pgt:t.du("schemeIdUri"),ru:t.du("value")}}function sV(t){return uV(t)}function oV(t){return uV(t)}function aV(t){return uV(t)}function cV(t){var n=rV(t),i=function(t){return t.map(aV)}(t.su("Accessibility")),r=jH(t.su("BaseURL")),e=zH(t.du("bitstreamSwitching")),u=t.du("contentType"),s=WH(t.du("group")),o=WH(t.du("id")),a=t.du("lang"),c=WH(t.du("maxBandwidth")),h=qH(t.du("maxFrameRate")),v=WH(t.du("maxHeight")),d=WH(t.du("maxWidth")),l=WH(t.du("minBandwidth")),_=qH(t.du("minFrameRate")),g=WH(t.du("minHeight")),w=WH(t.du("minWidth")),y=t.du("par"),m=t.su("Representation").map(eV);if(0===m.length)throw new f("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map(oV)}(t.su("Role")),p=zH(t.du("segmentAlignment"))||!1,A=t.su("SegmentBase");if(A.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?tV(A[0]):void 0,T=KH(t.su("SegmentList")),E=t.su("SegmentTemplate");if(E.length>1)throw new f("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?iV(E[0]):void 0,R=WH(t.du("selectionPriority")),I=R||1,N=zH(t.du("subsegmentAlignment"))||!1,D=WH(t.du("subsegmentStartsWithSAP")),C=t.du("xlink:actuate")||"onRequest",O=t.du("xlink:href");return le(le({},n),{Pwt:i,Rwt:r,vwt:e,Mf:u,Bwt:s,Cl:o,Bl:a,Lwt:c,Mwt:h,Uwt:v,Fwt:d,Hwt:l,Vwt:_,Xwt:g,Wwt:w,qwt:y,Tgt:m,zwt:k,Gwt:p,Cwt:b,Owt:T,xwt:S,UR:I,jwt:N,Qwt:D,Ywt:C,Zwt:O})}function hV(t){var n=XH(t.du("presentationTime"))||Vt.ZERO,i=XH(t.du("duration")),r=WH(t.du("id")),e=function(t){for(var n=t.mu,i={},r=0;r<n.length;r++)i[n[r].tu]=n[r].ru;return i}(t),u=t.ku;return{PA:n,R_:i,Cl:r,mu:e,pu:""!==u.trim()?u:t.du("messageData")||""}}function fV(t){return{Zwt:t.du("xlink:href"),Ywt:t.du("xlink:actuate"),pgt:t.du("schemeIdUri"),ru:t.du("value"),Py:WH(t.du("timescale")),cwt:XH(t.du("presentationTimeOffset")),MC:t.su("Event").map(hV)}}function vV(t,n){var i=t.su("AssetIdentifier");if(i.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?uV(i[0]):void 0,e=t.su("AdaptationSet").map(cV),u=jH(t.su("BaseURL")),s=zH(t.du("bitstreamSwitching")),o=FH(t.du("duration")),a=t.su("EventStream").map(fV),c=t.du("id"),h=n&&FH(n.du("start")),v=t.su("SegmentBase");if(v.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===v.length?tV(v[0]):void 0,l=KH(t.su("SegmentBase")),_=t.su("SegmentTemplate");if(_.length>1)throw new f("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?iV(_[0]):void 0,w=FH(t.du("start")),y=(t.su("Subset"),t.du("xlink:href"));return{Ogt:e,Jwt:r,Rwt:u,vwt:s,R_:o,$wt:a,Cl:c,Kwt:h,Cwt:d,Owt:l,xwt:g,gI:w,Ywt:t.du("xlink:actuate"),Zwt:y}}function dV(t){var n=t.du("schemeIdUri");if(n)return{pgt:n,ru:t.du("value")}}function lV(t,n){var i=HH(t.du("availabilityEndTime")),r=HH(t.du("availabilityStartTime")),e=jH(t.su("BaseURL")),u=t.du("id"),s=t.su("Location").map(function(t){return""+t.ku}),o=FH(t.du("maxSegmentDuration")),a=FH(t.du("maxSubsegmentDuration")),c=FH(t.du("mediaPresentationDuration")),h=(t.su("Metrics"),FH(t.du("minBufferTime")));if(!h)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var v=FH(t.du("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(vV(t[i],t[i+1]));return n}(t.su("Period"));if(!d.length)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.du("profiles");if(!l)throw new f("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{tyt:i,nyt:r,Rwt:e,Cl:u,iyt:s,ryt:n,eyt:o,uyt:a,Rgt:c,syt:h,oyt:v,Egt:d,Awt:l,ayt:HH(t.du("publishTime")),cyt:FH(t.du("suggestedPresentationDelay")),fwt:FH(t.du("timeShiftBufferDepth")),js:function(t){switch(t){case jF.oS:case jF.aS:return t;default:return}}(t.du("type")),hyt:function(t){for(var n=[],i=0;i<t.length;i++){var r=dV(t[i]);r&&n.push(r)}return n}(t.su("UTCTiming"))}}var _V,gV=function(){function t(){}return t.prototype.clt=function(t,n){return function(t,n){if(!t)throw new f("The provided MPEG-DASH document does not contain a valid MPD root element.");return lV(t,n)}(b.Ye(t).Au,n)},t}(),wV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Cl=n,s.XS=i,s.kJ=r,s.FY=u,s.Gg=e||"",s.fyt=!0,s}return M(n,t),n.prototype.hb=function(){this.fyt=!1,this.To(new CM(this.Xd))},L(n,[{key:"Pl",get:function(){return this.Gg},set:function(t){this.Gg!==t&&(this.Gg=t,this.To(new CM(this.Xd)))}},{key:"hQ",get:function(){return this.fyt}}]),n}(Tu),yV=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).G$=s,h.rs=o,h.dp=a,h.qvt=c,h.Vd=void 0,h}return M(n,t),L(n,[{key:"Xd",get:function(){return this.Vd||(this.Vd=OM(this)),this.Vd}}]),n}(wV),mV=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).zvt=s,o.Vd=void 0,o}return M(n,t),L(n,[{key:"Xd",get:function(){return this.Vd||(this.Vd=xM(this)),this.Vd}}]),n}(wV);!function(t){t.vyt="dyt",t.lyt="_yt"}(_V||(_V={}));var kV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).gyt=function(t){n.To(t)},n}return M(n,t),L(n,[{key:"wyt",get:function(){var t=this.yyt();return null==t?void 0:t.gI}},{key:"myt",get:function(){var t=this.yyt();return null==t?void 0:t.yI}}]),n}(Tu);function pV(t){return ut(t.kyt)}var AV=function(t){function n(n,i){var r,e,u;if((r=t.call(this)||this).Vd=void 0,r.pyt=void 0,r.Ayt=n,r.byt=i,r.byt.So(_V.vyt,r.gyt),r.js===f_.yv){var s=null!==(u=null===(e=r.G$)||void 0===e?void 0:e.Uw())&&void 0!==u?u:NaN;r.Tyt=new yV(bV++,r.XS,r.es,"","",s,r.rs,r.dp)}else r.js===f_.wv?r.Tyt=new mV(bV++,r.XS,r.es,"","",r.zvt):r.Tyt=void 0;return r}M(n,t);var i=n.prototype;return i.Wgt=function(t){var n=pV(t)?this.byt.Eyt(t):this.byt.Wgt(t);return{rv:n.rv,HY:n.HY,Tv:this.Syt.Tv}},i.Ryt=function(){return this.byt.Ryt()},i.yyt=function(){return this.byt.yyt()},i.Iyt=function(){return this.byt.Iyt()},i.Fgt=function(t,n,i){return this.byt.Lgt.Fgt(t,this.byt,this.Syt.Tv,n,i)},i.Nyt=function(t){return pV(t)?this.Lgt.Dyt(t):this.Lgt.Nyt(t)},i.B6=function(t){return pV(t)?this.Lgt.Cyt(t):this.Lgt.B6(t)},i.Rv=function(){this.byt.Do(_V.vyt,this.gyt)},L(n,[{key:"Oyt",get:function(){return this.Ayt}},{key:"zvt",get:function(){var t;return null!==(t=this.byt.pu.zvt)&&void 0!==t?t:this.Oyt.zvt}},{key:"XS",get:function(){return this.byt.pu.XS||0}},{key:"kJ",get:function(){var t=this.byt.pu;return t.kJ?[t.kJ]:this.Oyt.kJ}},{key:"xyt",get:function(){var t=this.byt.pu;return t.kJ?[t.kJ]:[]}},{key:"es",get:function(){return this.byt.pu.kJ||this.Oyt.es}},{key:"mwt",get:function(){return this.byt.pu.mwt||this.Oyt.mwt}},{key:"bgt",get:function(){return this.byt.pu.bgt||this.Oyt.bgt}},{key:"Mf",get:function(){return this.LC+'; codecs="'+this.es+'"'}},{key:"kwt",get:function(){var t=this.byt.pu;return t.kwt.length?t.kwt:this.Oyt.kwt}},{key:"Xd",get:function(){return this.Vd||(this.Vd=(t=this,{get id(){return t.Cl},get type(){return t.js},get bandwidth(){return t.XS},get width(){return t.rs},get height(){return t.dp},get frameRate(){var n,i;return null!==(i=null===(n=t.G$)||void 0===n?void 0:n.Uw())&&void 0!==i?i:NaN},get audioSamplingRate(){return t.zvt}}));var t}},{key:"G$",get:function(){var t;return null!==(t=this.byt.pu.G$)&&void 0!==t?t:this.Oyt.G$}},{key:"dp",get:function(){return this.byt.pu.dp||this.Oyt.dp}},{key:"Cl",get:function(){return this.byt.pu.Cl||""}},{key:"D4",get:function(){return this.pyt},set:function(t){this.pyt=t}},{key:"e8",get:function(){var t=this.byt.Pyt();if(t)return{rv:t.rv,HY:t.HY,Tv:this.Syt.Tv}}},{key:"xgt",get:function(){return this.byt.pu.xgt||this.Oyt.xgt||1}},{key:"pwt",get:function(){return this.byt.pu.pwt||this.Oyt.pwt}},{key:"Syt",get:function(){return this.qgt.Syt}},{key:"LC",get:function(){return this.byt.pu.LC||this.Oyt.LC}},{key:"qgt",get:function(){return this.Oyt.qgt}},{key:"Awt",get:function(){return this.byt.pu.Awt||this.Oyt.Awt}},{key:"Vvt",get:function(){return this.Tyt}},{key:"bwt",get:function(){return this.byt.pu.bwt||this.Oyt.bwt}},{key:"Twt",get:function(){return this.byt.pu.Twt||this.Oyt.Twt}},{key:"Byt",get:function(){return this.byt.Byt}},{key:"Ewt",get:function(){return this.byt.pu.Ewt||this.Oyt.Ewt}},{key:"Lgt",get:function(){return this.byt.Lgt}},{key:"Swt",get:function(){return this.byt.pu.Swt||this.Oyt.Swt}},{key:"js",get:function(){var t=this.LC.split("/")[0];return"application"===t||"text"===t||ty(this.LC,this.kJ)?f_.ze:"video"===t?f_.yv:"audio"===t?f_.wv:"image"===t?f_.mv:f_.uv}},{key:"rs",get:function(){return this.byt.pu.rs||this.Oyt.rs}}]),n}(kV),bV=0,TV=function(t){function n(n,i){var r;return(r=t.call(this)||this).Lyt=[],r.Myt=[],r.Uyt=n,r.byt=i,r.byt.So(_V.vyt,r.gyt),r}M(n,t);var i=n.prototype;return i.Sa=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.Myt.length){t.next=6;break}return this.Myt=[],r=this.byt.Tgt.map(function(t){return e.Fyt(t,n,i)}),t.next=5,T.all(r);case 5:this.Myt=t.sent.filter(Z);case 6:this.Hyt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Fyt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new AV(this,n),t.next=3,i(e);case 3:if(u=t.sent,au(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Hyt=function(){if(!this.Myt.length)throw new f("Detected an AdaptationSet without any supported Representations.")},i.yyt=function(){return this.byt.yyt()},i.Iyt=function(){return this.byt.Iyt()},i.Rv=function(){this.byt.Do(_V.vyt,this.gyt);for(var t=0,n=this.Myt;t<n.length;t++){n[t].Rv()}nu(this.Myt)},L(n,[{key:"Pwt",get:function(){return this.byt.pu.Pwt}},{key:"zvt",get:function(){var t;return null!==(t=this.byt.pu.zvt)&&void 0!==t?t:-1}},{key:"kJ",get:function(){if(this.byt.pu.kJ)return[this.byt.pu.kJ];for(var t=[],n=0,i=this.Tgt;n<i.length;n++){var r=i[n];r.xyt.length&&-1===t.indexOf(r.es)&&t.push(r.es)}return t}},{key:"es",get:function(){return this.kJ.join()}},{key:"mwt",get:function(){return this.byt.pu.mwt}},{key:"bgt",get:function(){return this.byt.pu.bgt}},{key:"Mf",get:function(){return this.LC+'; codecs="'+this.es+'"'}},{key:"kwt",get:function(){return this.Lyt}},{key:"G$",get:function(){return this.byt.pu.G$}},{key:"Bwt",get:function(){return this.byt.pu.Bwt}},{key:"dp",get:function(){return this.byt.pu.dp||0}},{key:"Cl",get:function(){return this.byt.pu.Cl}},{key:"xgt",get:function(){return this.byt.pu.xgt}},{key:"pwt",get:function(){return this.byt.pu.pwt}},{key:"Syt",get:function(){return this.qgt.Syt}},{key:"LC",get:function(){return this.byt.pu.LC||this.Myt[0].LC}},{key:"qgt",get:function(){return this.Uyt}},{key:"Awt",get:function(){return this.byt.pu.Awt}},{key:"Tgt",get:function(){return this.Myt}},{key:"zwt",get:function(){return this.byt.pu.zwt||[]}},{key:"bwt",get:function(){return this.byt.pu.bwt}},{key:"Twt",get:function(){return this.byt.pu.Twt}},{key:"Ewt",get:function(){return this.byt.pu.Ewt}},{key:"UR",get:function(){return this.byt.pu.UR}},{key:"Swt",get:function(){return this.byt.pu.Swt}},{key:"js",get:function(){var t=(this.byt.pu.Mf||this.LC).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||ty(this.LC,this.kJ)?f_.ze:"video"===t?f_.yv:"audio"===t?f_.wv:"image"===t?f_.mv:f_.uv}},{key:"rs",get:function(){return this.byt.pu.rs||0}},{key:"Pgt",get:function(){return this.byt.pu.Bl||""}},{key:"Vyt",get:function(){return this.wyt}},{key:"Xyt",get:function(){var t=this.Vyt,n=this.myt;if(void 0!==t&&void 0!==n){var i=l.min(n,this.Syt.Wyt);return l.max(t,i)}}}]),n}(kV);function EV(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],u=0;u<t.length;u++){var s=t[u];i.push(b.Hu(s,e))}return i}var SV=function(){function t(t,n){this.Uyt=t,this.qyt=n,this.Aj=n.Py,this.zyt=n.Kgt,this.Gyt=n.cwt}var n=t.prototype;return n.jyt=function(t){var n=t-this.Uyt.gI;if(!(n<0||n>=this.Uyt.R_)){var i=this.Qyt();return void 0!==i&&qt(i,n,1e-5)?this.Mgt():this.Yyt(n)}},n.Zyt=function(t){var n=t-this.Uyt.gI;if(!(n<0))return this.Jyt(l.min(n,this.Uyt.R_))},n.Mgt=function(){return this.$yt(0)},n.Vgt=function(){var t=this.Uyt.R_;if(isFinite(t))return this.Jyt(t)},n.Ryt=function(t){if(this.Uyt.Kyt.js===jF.aS){var n=this.tmt(t);if(!n)return;return{nmt:t,imt:this.rmt(t),emt:n}}var i=this.Mgt();if(i)return{nmt:t,imt:i,emt:this.Vgt()}},n.Iyt=function(t,n){if(n){var i=this.umt(n.imt),r=this.Dht(n.emt);if(r){var e=this.smt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var u=this.Mgt();if(u){var s=this.smt(u);if(t.getTime()<s.getTime())return s}var o=this.Uyt.Kyt.nyt;return t.getTime()<o.getTime()?o:void 0},n.tmt=function(t){var n=(t.getTime()-this.Uyt.Kyt.nyt.getTime())/1e3-this.Uyt.gI+this.zyt,i=this.Jyt(Wt(n,0,this.Uyt.R_));if(i&&(i=this.omt(i,t))){for(var r=this.Dht(i);r&&this.amt(r,t);)i=r,r=this.Dht(i);return i}},n.rmt=function(t){var n,i=this.qyt.fwt;if(i){var r=(t.getTime()-this.Uyt.Kyt.nyt.getTime())/1e3-this.Uyt.gI-i.Sgt();(n=this.Jyt(Wt(r,0,this.Uyt.R_)))||(n=this.Mgt())}else n=this.Mgt();if(n&&(n=this.omt(n,t))){for(var e=this.cmt(n);e&&this.amt(e,t);)n=e,e=this.cmt(n);return n}},n.omt=function(t,n){for(var i=t;i&&this.smt(i).getTime()>n.getTime();)i=this.cmt(i);if(i){var r=this.umt(i);if(r&&r.getTime()<=n.getTime()){var e=this.cmt(i);for(e&&this.amt(e,n)&&(i=e);i;){if(this.smt(i).getTime()>n.getTime())return;if(this.amt(i,n))break;i=this.Dht(i)}if(!i)return}return i}},n.amt=function(t,n){if(this.smt(t).getTime()>n.getTime())return!1;var i=this.umt(t);return!(i&&n.getTime()>=i.getTime())},n.hmt=function(t,n){if(this.fmt(t).getTime()>n.getTime())return!1;var i=this.umt(t);return!(i&&n.getTime()>=i.getTime())},n.vmt=function(t,n,i){var r=Kt(n,this.Aj)+this.Uyt.gI;return{Q5:t,dmt:n,uw:r,R_:i,sw:r+i}},n.fmt=function(t){return this.Uyt.Kyt.js===jF.aS?new Date(this.Uyt.Kyt.nyt.getTime()+1e3*(t.uw+t.R_)):this.Uyt.Kyt.nyt},n.smt=function(t){var n=this.fmt(t);return this.Uyt.Kyt.js===jF.aS?new Date(n.getTime()-1e3*this.zyt):n},n.umt=function(t){var n=1/0;if(this.Uyt.Kyt.js===jF.aS){var i=this.qyt.fwt;i&&(n=this.fmt(t).getTime()+1e3*t.R_+i.jgt())}var r=this.Uyt.Kyt.tyt;return r&&(n=l.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.lmt=function(t,n){return t.Q5+n},n.Ugt=function(t){return!1},n.Fgt=function(t,n,i,r,e){var u=this._mt(t);if(!u)return T.reject(new f("Invalid segment"));var s=this.gmt(u.Q5);return s?T.resolve(s):this.wmt(u.Q5,n,i,r,e)},n.gmt=function(t){},n.wmt=function(t,n,i,r,e){return T.reject(new f("Not supported"))},n.cmt=function(t){var n=this._mt(t);if(n)return this.$yt(n.Q5-1)},n.Dht=function(t){var n=this._mt(t);if(n)return this.$yt(n.Q5+1)},n._mt=function(t){var n=this.$yt(t.Q5);if(n&&n.uw===t.uw)return n;var i=this.jyt(t.uw);return i&&i.uw===t.uw?i:void 0},n.ymt=function(t){var n=this.mmt(t);if(n&&this.Ugt(n.Q5)){var i=this.gmt(n.Q5);if(i)return i.ymt(t)}},n.mmt=function(t){return this.$yt(t.kmt)},n.Nyt=function(t){var n=this._mt(t);return!!n&&0===n.Q5},n.Dyt=function(t){var n=this.ymt(t);return!!n&&0===n.kyt},n.B6=function(t){var n=this._mt(t);if(!n)return!1;var i=this.Vgt();return!!i&&n.Q5===i.Q5},n.Cyt=function(t){var n=this.ymt(t);if(!n)return!1;var i=this.Vgt();if(!i||n.kmt!==i.Q5)return!1;var r=this.gmt(n.kmt);return n.kyt+1===r.pl},L(t,[{key:"vm",get:function(){return Kt(this.Gyt,this.Aj)-this.Uyt.gI}}]),t}(),RV=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.pmt,u=n.R_;if(void 0===e||void 0===u)throw new f("MultipleSegmentBase does not have a segment duration specified.");return r.Amt=e,r.bmt=u,r}M(n,t);var i=n.prototype;return i.$yt=function(t){if(!(t<0)){var n=this.Amt.multiply(t),i=Kt(n,this.Aj),r=this.Uyt.R_;if(!(i>=r)){var e=this.Tmt();if(void 0!==e){if(t>e)return;if(t===e)return this.vmt(t,n,r-i)}return isFinite(r)&&i+this.bmt>r?this.vmt(t,n,r-i):this.vmt(t,n,this.bmt)}}},i.Qyt=function(){return 0},i.Yyt=function(t){var n=l.floor(t/this.bmt),i=this.Tmt();return void 0!==i&&n>=i?this.$yt(i):this.$yt(n)},i.Jyt=function(t){if(t>=this.Uyt.R_){var n=l.ceil(this.Uyt.R_/this.bmt)-1,i=this.Tmt();return void 0!==i&&n>=i?this.$yt(i):this.$yt(n)}return this.Yyt(t)},i.Tmt=function(){var t,n=this.qyt.lwt;if(void 0!==n)return n-(null!==(t=this.qyt.dwt)&&void 0!==t?t:1);if(isFinite(this.Uyt.R_)){var i=this.qyt.Emt;if(void 0!==i&&i>0)return i-1}},i.Smt=function(){if(isFinite(this.Uyt.R_))return this.Vgt()},i.Rmt=function(t,n){return this.Amt.multiply(t.Q5+(n-1))},i.Sa=function(){},n}(SV);function IV(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].uw,s=t[e].sw;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+l.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),a=t[o],c=a.uw,h=o+1<i?t[o+1].uw:a.sw;if(h.lessThanOrEqual(n))r=o+1,u=h;else{if(!n.lessThan(c))return o;e=o-1,s=c}}return-1}var NV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Imt=[],r.Nmt=void 0,r.Dmt=Vt.ZERO,r.Sa(),r}M(n,t);var i=n.prototype;return i.$yt=function(t){if(!(t<0))return t<this.Imt.length?this.Imt[t].Tht:this.Cmt(t-this.Imt.length)},i.Qyt=function(){if(this.Imt.length>0)return Kt(this.Imt[0].uw,this.Aj)},i.Yyt=function(t){if(this.Nmt&&Kt(this.Nmt.uw,this.Aj)<=t){var n=Kt(this.Nmt.uw,this.Aj),i=Kt(this.Nmt.R_,this.Aj),r=l.floor((t-n)/i);return this.Cmt(r)}if(this.Imt.length>0&&qt(t,Kt(this.Imt[0].uw,this.Aj),1e-5))return this.Imt[0].Tht;var e=IV(this.Imt,Vt.fromNumber(t*this.Aj));return e<0?void 0:this.Imt[e].Tht},i.Jyt=function(t){if(!this.Nmt&&this.Imt.length>0){var n=this.Imt[this.Imt.length-1];if(t>=Kt(n.sw,this.Aj))return n.Tht}var i=this.Qyt();return i&&t<i?this.Imt[0].Tht:this.Yyt(t)},i.Smt=function(){return isFinite(this.Uyt.R_)?this.Vgt():this.$yt(this.Imt.length-1)},i.Rmt=function(t){return this.Omt(t)},i.Cmt=function(t){if(this.Nmt){var n=this.Nmt.uw,i=this.Nmt.R_,r=n.add(i.multiply(t)),e=Kt(r,this.Aj),u=this.Uyt.R_;if(!(e>=u)){var s=this.Imt.length+t,o=l.min(Kt(i,this.Aj),e+u);return this.vmt(s,r,o)}}},i.Omt=function(t){return t.dmt.add(this.Gyt)},i.Sa=function(){var t=this.qyt.pu.Lgt;if(!t)throw new f("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.xmt(t)},i.xmt=function(t){var n=this.Gyt;this.Pmt(t,n);var i=this.Bmt(t);this.Lmt(t,n,i.Mmt,i.kmt)},i.Pmt=function(t,n){var i=this.Imt;if(0===t.length)nu(i);else{for(var r=t[0],e=r.uw?Vt.fromString(r.uw,!1).subtract(n):Vt.ZERO,u=0;u<i.length&&i[u].uw.lessThan(e);)u++;u>0&&i.splice(0,u)}},i.Bmt=function(t){for(var n=this.Imt,i=this.Dmt,r=0,e=0;r<t.length&&e<n.length;){var u=t[r].nwt||0;if(u<0)break;var s=e+u;if(s>=n.length)break;if(n[s].uw.greaterThanOrEqual(i))break;if(n[e].Tht.Q5===e)e=s+1;else for(;e<=s;)n[e].Tht.Q5=e,e++;0,r++}return{Mmt:r,kmt:e}},i.Lmt=function(t,n,i,r){for(var e,u=this.Imt,s=i,o=r;s<t.length;){var a=t[s],c=Vt.fromString(a.R_,!1),h=a.nwt||0,f=void 0;if(a.uw){if(f=Vt.fromString(a.uw,!1).subtract(n),o>0){var v=u[o-1];v.sw.greaterThan(f)&&(v.R_=f.subtract(v.uw),v.sw=v.uw.add(v.R_))}}else f=o>0?u[o-1].sw:Vt.ZERO;if(h<0){if(s+1===t.length){e={uw:f,R_:c};break}for(var d=Vt.fromString(t[s+1].uw,!1).subtract(n);f.lessThan(d);){var l=f.add(c);this.Umt(u,o,f,c,l),f=l,o++}}else for(var _=o+h;o<=_;){var g=f.add(c);this.Umt(u,o,f,c,g),f=g,o++}s++}o<u.length&&u.splice(o),u.length>0&&(this.Dmt=u[u.length-1].uw),this.Nmt=e},i.Umt=function(t,n,i,r,e){if(n<t.length){var u=t[n];0,u.R_.equals(r)?u.Tht.Q5=n:t[n]={uw:i,R_:r,sw:e,Tht:this.vmt(n,i,Kt(r,this.Aj))}}else t.push({uw:i,R_:r,sw:e,Tht:this.vmt(n,i,Kt(r,this.Aj))})},n}(SV),DV=function(){function t(t,n,i){this.Fmt=void 0,this.Hmt=void 0,this.qgt=t,this.Vmt=n,this.nr=i}var n=t.prototype;return n.Xmt=function(){if(this.Hmt=this.Wmt(),this.Hmt)return this.Hmt;if(this.Vmt)return this.Vmt.Lgt;throw new f("Missing media segment information.")},n.Pyt=function(t){var n=this.awt;if(n)return{rv:(void 0!==n.twt?b.Hu(n.twt,t.Rwt[0]):t.Rwt[0]).href,HY:n.HY};var i=this.iwt;return i?{rv:t.Rwt[0].href,HY:[0,i[0]-1]}:void 0},n.Sa=function(t){this.nr=t,this.Hmt&&this.Hmt.Sa()},L(t,[{key:"pu",get:function(){return this.nr}},{key:"Kgt",get:function(){return this.nr&&void 0!==this.nr.Kgt?this.nr.Kgt:this.Vmt?this.Vmt.Kgt:0}},{key:"cwt",get:function(){return this.nr&&void 0!==this.nr.cwt?this.nr.cwt:this.Vmt?this.Vmt.cwt:Vt.ZERO}},{key:"fwt",get:function(){return this.nr&&void 0!==this.nr.fwt?this.nr.fwt:this.Vmt?this.Vmt.fwt:this.qgt.Kyt.fwt}},{key:"Py",get:function(){return this.nr&&void 0!==this.nr.Py?this.nr.Py:this.Vmt&&this.Vmt.Py?this.Vmt.Py:1}},{key:"iwt",get:function(){return this.nr&&void 0!==this.nr.iwt?this.nr.iwt:this.Vmt?this.Vmt.iwt:void 0}},{key:"awt",get:function(){return this.nr&&void 0!==this.nr.awt?this.nr.awt:this.Vmt?this.Vmt.awt:void 0}},{key:"Lgt",get:function(){return this.Fmt||(this.Fmt=this.Xmt()),this.Fmt}}]),t}(),CV=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.Wmt=function(){return this.nr.Lgt?new NV(this,this.qgt):void 0!==this.nr.R_?new RV(this,this.qgt):void 0},L(n,[{key:"R_",get:function(){return void 0!==this.nr.R_?this.nr.R_/this.Py:this.Vmt&&this.Vmt instanceof n?this.Vmt.R_:void 0}},{key:"pmt",get:function(){return void 0!==this.nr.R_?Vt.fromNumber(this.nr.R_):this.Vmt&&this.Vmt instanceof n?this.Vmt.pmt:void 0}},{key:"dwt",get:function(){return void 0!==this.nr.dwt?this.nr.dwt:this.Vmt&&this.Vmt instanceof n?this.Vmt.dwt:void 0}},{key:"lwt",get:function(){return void 0!==this.nr.lwt?this.nr.lwt:this.Vmt&&this.Vmt instanceof n?this.Vmt.lwt:void 0}}]),n}(DV),OV=function(){function t(t){this.qmt=t}return t.prototype.aa=function(t){return this.qmt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var u=t[i];if(void 0===u)return n;if(void 0===r)return u.toString();var s=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(u,e);return void 0===s?n:s=Ar(s,Number(r),"0")})},t}();var xV=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).zmt=r.wwt?new OV(r.wwt):void 0,e.Gmt=r.ywt?new OV(r.ywt):void 0,e}M(n,t);var i=n.prototype;return i.Pyt=function(n){var i=this.wwt;if(!i)return t.prototype.Pyt.call(this,n);var r=i.aa({Bandwidth:n.pu.XS,RepresentationID:n.pu.Cl});return{rv:b.Fu(r,n.Rwt[0])}},i.Wgt=function(t,n){var i,r=null!==(i=n.Byt.dwt)&&void 0!==i?i:1,e=this.ywt.aa({Bandwidth:n.pu.XS,Number:n.Lgt.lmt(t,r),RepresentationID:n.pu.Cl,Time:n.Lgt.Rmt(t,r)});return{rv:b.Fu(e,n.Rwt[0])}},i.Eyt=function(t,n){},L(n,[{key:"wwt",get:function(){return this.zmt?this.zmt:this.Vmt&&this.Vmt instanceof n?this.Vmt.wwt:void 0}},{key:"ywt",get:function(){return this.Gmt?this.Gmt:this.Vmt&&this.Vmt instanceof n?this.Vmt.ywt:void 0}},{key:"Emt",get:function(){}}]),n}(CV),PV=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Wgt=function(t,n){var i=this.nr.ewt[t.Q5],r=n.Rwt[0];return{rv:(i.sp?b.Hu(i.sp,r):r).href,HY:i.rwt}},i.Eyt=function(t,n){},L(n,[{key:"Emt",get:function(){return void 0!==this.nr.ewt?this.nr.ewt.length:this.Vmt&&this.Vmt instanceof CV?this.Vmt.Emt:void 0}}]),n}(CV),BV=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).kmt=n,s.jmt=i,s.Py=r.Py,s.Qmt=e,s.cwt=u,s.Ymt=s.Zmt(r),s}M(n,t);var i=n.prototype;return i.Hgt=function(t){if(t>=0&&t<this.pl)return this.Jmt(this.Ymt[t])},i.$mt=function(t){var n=this.Kmt(t);if(this.Ymt.length>0){var i=this.Ymt[0];if(n<=Kt(i.uw,this.Py))return this.Jmt(i)}var r=IV(this.Ymt,Vt.fromNumber(n*this.Py));if(!(r<0))return this.Jmt(this.Ymt[r])},i.tkt=function(t){var n=this.Kmt(t);if(this.Ymt.length>0){var i=this.Ymt[this.Ymt.length-1];if(n>=Kt(i.sw,this.Py))return this.Jmt(i)}return this.$mt(t)},i.Jmt=function(t){var n=Kt(t.uw,this.Py)-this.cwt,i=n+this.Qmt,r=Kt(t.R_,this.Py);return{kmt:this.kmt,kyt:t.Q5,uw:i,dmt:Vt.fromNumber(n*this.Py),R_:r,sw:i+r,nkt:[this.jmt+t.jmt,this.jmt+t.ikt]}},i.Zmt=function(t){for(var n=[],i=t.YA,r=t.ZA.toNumber(),e=0,u=0,s=t.$A;u<s.length;u++){var o=s[u],a=o.qA,c=Vt.fromNumber(o.R_),h=i.add(c);0===o.WA&&n.push({Q5:e++,uw:i,R_:c,sw:h,jmt:r,ikt:r+a-1}),r+=a,i=h}return n},i.Kmt=function(t){return t-this.Qmt+this.cwt},L(n,[{key:"pl",get:function(){return this.Ymt.length}}]),n}(function(){function t(){}return t.prototype.ymt=function(t){var n=this.Hgt(t.kyt);if(n&&n.uw===t.uw)return n;var i=this.$mt(t.uw);return i&&i.uw===t.uw?i:void 0},t}()),LV=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).rkt=void 0,r.ekt=n.iwt,r.eht=r.vmt(0,Vt.ZERO,r.Uyt.R_),r}M(n,t);var i=n.prototype;return i.$yt=function(t){if(0===t)return this.eht},i.Qyt=function(){return 0},i.Yyt=function(t){return this.eht},i.Jyt=function(t){return this.Yyt(t)},i.Smt=function(){return this.eht},i.Rmt=function(t,n){return Vt.ZERO},i.Ryt=function(t){var n=this.ukt(t);return n&&{nmt:t,imt:n,emt:n}},i.ukt=function(t){var n=this.eht;return this.amt(n,t)?n:void 0},i.tmt=function(t){return this.ukt(t)},i.rmt=function(t){return this.ukt(t)},i.Sa=function(){},i.Ugt=function(t){return 0===t&&void 0!==this.ekt},i.gmt=function(t){return this.rkt},i.wmt=function(){var t=T.coroutine(de.mark(function t(n,i,r,e,u){var s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.Rwt[0].href,o=this.ekt,t.next=4,e.skt(s,o,r,u);case 4:return a=t.sent,this.rkt=this.okt(n,a),t.abrupt("return",this.rkt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.okt=function(t,n){var i=this.ekt,r=gw.Rk(new DataView(n),new zs);if(r.js!==Sg.Km)throw new f("Invalid segment index");var e=pw.zk(r.pu),u=i[1]+1;return new BV(t,u,e,this.Uyt.gI,Kt(this.Gyt,this.Aj))},n}(SV),MV=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.Wgt=function(t,n){return{rv:n.Rwt[0].href}},i.Eyt=function(t,n){return{rv:n.Rwt[0].href,HY:t.nkt}},i.Wmt=function(){return new LV(this,this.qgt)},L(n,[{key:"dwt",get:function(){}}]),n}(DV),UV=function(t){function n(){return t.call(this,_V.vyt)||this}return M(n,t),n}(Su);var FV=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).qyt=void 0,e.akt=1/0,e.ckt=void 0,e.cn=i,e.hkt(n,r),e}M(n,t);var i=n.prototype;return i.fkt=function(){return this.qyt||this.cn&&this.cn.fkt()},i.vkt=function(t){var n=this.qgt,i=this.cn&&this.cn.fkt();this.nr.xwt?this.qyt=new xV(n,i,this.nr.xwt):this.nr.Owt?this.qyt=new PV(n,i,this.nr.Owt[0]):this.nr.Cwt?this.qyt=new MV(n,i,this.nr.Cwt):t&&!i&&(this.qyt=new MV(n,i,void 0))},i.hkt=function(t,n){this.nr=t,this.dkt=t.Rwt&&t.Rwt.length>0?EV(t.Rwt.map(function(t){return t.rv}),n):n.slice(),this.qyt&&(t.xwt?this.qyt.Sa(t.xwt):t.Owt?this.qyt.Sa(t.Owt[0]):t.Cwt&&this.qyt.Sa(t.Cwt))},i.yyt=function(){var t;return null===(t=this.ckt)||void 0===t?void 0:t.lkt},i.Iyt=function(){var t;return null===(t=this.ckt)||void 0===t?void 0:t._kt},i.gkt=function(t){var n=this.akt,i=this.qgt.R_,r=this.ckt,e=this.wkt(t);r&&qt(i,n,1e-5)&&WV(r,e)||(this.akt=i,this.ckt=e,this.To(new UV))},i.ho=function(){this.No()},L(n,[{key:"pu",get:function(){return this.nr}},{key:"Rwt",get:function(){return this.dkt}}]),n}(Tu);function HV(t){for(var n,i=0;i<t.length;i++){var r=t[i].yyt();if(r){n=r.gI;break}}if(void 0!==n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].yyt();if(s){e=s.yI;break}}if(void 0!==e)return{gI:n,yI:e}}}function VV(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].yyt();if(!e)return;if((n=l.max(n,e.gI))>=(i=l.min(i,e.yI)))return}return{gI:n,yI:i}}}function XV(t){for(var n,i=0;i<t.length;i++){var r=t[i].Iyt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function WV(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t._kt,n._kt)&&function(t,n){return t&&n?qt(t.gI,n.gI,1e-5)&&qt(t.yI,n.yI,1e-5):t===n}(t.lkt,n.lkt)}var qV=function(t){function n(n,i,r){var e;(e=t.call(this)||this).Uyt=n,e.zg=i,e.ykt=r.slice();for(var u=0;u<r.length;u++){r[u].So(_V.vyt,e.gyt)}return e}M(n,t);var i=n.prototype;return i.yyt=function(){return VV(this.ykt)},i.Iyt=function(){for(var t,n=0,i=this.ykt;n<i.length;n++){var r=i[n].Iyt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Rv=function(){this.No();for(var t=0,n=this.ykt;t<n.length;t++){n[t].Do(_V.vyt,this.gyt)}},L(n,[{key:"Ogt",get:function(){return this.ykt}},{key:"kJ",get:function(){return this.Ogt.reduce(function(t,n){for(var i=0,r=n.kJ;i<r.length;i++){var e=r[i];Ke(t,e)||t.push(e)}return t},[])}},{key:"es",get:function(){return this.kJ.length>0?this.kJ[0]:""}},{key:"js",get:function(){return this.ykt[0].js}},{key:"Cl",get:function(){return this.zg}},{key:"Syt",get:function(){return this.Uyt.Syt}},{key:"LC",get:function(){return this.ykt[0].LC}},{key:"qgt",get:function(){return this.Uyt}},{key:"Tgt",get:function(){return ru(this.Ogt,function(t){return t.Tgt})}}]),n}(kV),zV=function(t){function n(){return t.call(this,_V.lyt)||this}return M(n,t),n}(Su);function GV(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.Bwt;void 0===u||(e=Ye(n,function(t){return t.Cl===u})),e||(e={Cl:u,Ogt:[]},n.push(e)),e.Ogt.push(r)},r=0;r<t.length;r++)i(r);return n}var jV,QV=function(t){function n(n,i){var r;return(r=t.call(this)||this).ykt=[],r.mkt=[],r.kkt=!1,r.pkt=n,r.byt=i,r.byt.So(_V.vyt,r.gyt),r}M(n,t);var i=n.prototype;return i.Akt=function(t,n){if(0!==this.mkt.length){for(var i=t,r=0,e=this.mkt;r<e.length;r++){var u=e[r],s=u.js;if(s===f_.wv||s===f_.yv){var o=u.myt;if(void 0===o)return;i=n(i,o)}}return i}},i.bkt=function(){this.kkt||(this.kkt=!0,this.To(new zV),this.Rv())},i.Sa=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.ykt.length){t.next=7;break}return t.next=3,this.Tkt(this.byt.Ogt,n,i);case 3:this.Ekt(this.ykt),au(i),t.next=9;break;case 7:return t.next=9,this.Skt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Tkt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new TV(this,u),t.prev=4,t.next=7,s.Sa(i,r);case 7:this.ykt.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),cu(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Ekt=function(t){for(var n=GV(t),i=0;i<n.length;i++){var r=n[i],e=new qV(this,r.Cl,r.Ogt);this.mkt.push(e)}},i.Skt=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.ykt;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u.Sa(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.yyt=function(){return this.byt.yyt()},i.Iyt=function(){return this.byt.Iyt()},i.Rv=function(){this.No(),this.byt.Do(_V.vyt,this.gyt);for(var t=0,n=this.mkt;t<n.length;t++){n[t].Rv()}for(var i=0,r=this.ykt;i<r.length;i++){r[i].Rv()}nu(this.ykt),nu(this.mkt)},L(n,[{key:"Ogt",get:function(){return this.ykt}},{key:"Dgt",get:function(){return this.mkt}},{key:"Jwt",get:function(){return this.byt.pu.Jwt}},{key:"R_",get:function(){return this.byt.R_}},{key:"yI",get:function(){return this.gI+this.R_}},{key:"$wt",get:function(){return this.byt.pu.$wt||[]}},{key:"Cl",get:function(){return this.byt.Cl}},{key:"_yt",get:function(){return this.kkt}},{key:"Syt",get:function(){return this.pkt}},{key:"Rkt",get:function(){return this.pkt.Ikt(this)}},{key:"qgt",get:function(){return this}},{key:"Nkt",get:function(){return this.pkt.Dkt(this)}},{key:"Ckt",get:function(){return this.Akt(1/0,l.min)}},{key:"Okt",get:function(){return this.Akt(0,l.max)}},{key:"gI",get:function(){return this.byt.gI}},{key:"Tv",get:function(){return this.Syt.Tv}}]),n}(kV),YV=function(t){function n(){return t.call(this,qo.jc)||this}return M(n,t),n}(Su);!function(t){t.xkt="Pkt"}(jV||(jV={}));var ZV=function(t){function n(){return t.call(this,jV.xkt)||this}return M(n,t),n}(Su),JV=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Rwt)||this).Bkt=void 0,r.Ayt=i,r.vkt(!0),r}M(n,t);var i=n.prototype;return i.Pyt=function(){return this.Byt.Pyt(this)},i.Wgt=function(t){return this.Byt.Wgt(t,this)},i.Eyt=function(t){return this.Byt.Eyt(t,this)},i.Ryt=function(){return this.Bkt},i.wkt=function(t){var n=this.Lgt,i=n.Ryt(t),r=i&&function(t,n){var i,r=t.imt,e=t.emt,u=t.nmt,s=r.uw,o=n.fmt(e);if(o.getTime()<=u.getTime())i=e.sw;else{var a=(o.getTime()-u.getTime())/1e3,c=l.max(e.R_-a,0);i=e.uw+c}return{gI:s,yI:i}}(i,n),e=this.Lgt.Iyt(t,i);return this.Bkt=i,{nmt:t,lkt:r,_kt:e}},i.Sa=function(t){this.hkt(t,this.Ayt.Rwt)},L(n,[{key:"Oyt",get:function(){return this.Ayt}},{key:"qgt",get:function(){return this.Ayt.qgt}},{key:"Kyt",get:function(){return this.Ayt.Kyt}},{key:"Byt",get:function(){return this.fkt()}},{key:"Lgt",get:function(){return this.Byt.Lgt}}]),n}(FV),$V=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.Rwt)||this).Uyt=i,r.vkt(!1),r.Myt=n.Tgt.map(function(t){return new JV(t,rn(r))}),r}M(n,t);var i=n.prototype;return i.Sa=function(t){this.hkt(t,this.Uyt.Rwt);var n=t.Tgt||[];if(this.Myt.length!==n.length)throw new f("Expected "+this.Myt.length+' representations in adaptation set "'+t.Cl+'", found '+n.length);for(var i=0;i<n.length;i++)this.Myt[i].Sa(n[i])},i.gkt=function(n){for(var i=0,r=this.Myt;i<r.length;i++){r[i].gkt(n)}t.prototype.gkt.call(this,n)},i.wkt=function(t){return{nmt:t,lkt:VV(this.Myt),_kt:XV(this.Myt)}},i.ho=function(){for(var n=0,i=this.Myt;n<i.length;n++){i[n].ho()}t.prototype.ho.call(this)},L(n,[{key:"Tgt",get:function(){return this.Myt}},{key:"qgt",get:function(){return this.Uyt}},{key:"Kyt",get:function(){return this.Uyt.Kyt}},{key:"Bwt",get:function(){return this.nr.Bwt}}]),n}(FV),KV=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.Rwt)||this).mkt=[],u.Lkt=n,u.ub=r,u.kF=e,u.vkt(!1),u.ykt=(i.Ogt||[]).map(function(t){return new $V(t,rn(u))}),u.mkt=GV(u.ykt),u}M(n,t);var i=n.prototype;return i.Sa=function(t,n){this.hkt(t,this.Lkt.Rwt),this.kF=n;var i=t.Ogt||[];if(this.ykt.length!==i.length)throw new f("Expected "+this.ykt.length+' adaptation sets in period "'+t.Cl+'", found '+i.length);for(var r=0;r<i.length;r++)this.ykt[r].Sa(i[r])},i.gkt=function(n){for(var i=0,r=this.ykt;i<r.length;i++){r[i].gkt(n)}t.prototype.gkt.call(this,n)},i.wkt=function(t){return{nmt:t,lkt:VV(this.ykt),_kt:XV(this.ykt)}},i.ho=function(){for(var n=0,i=this.ykt;n<i.length;n++){i[n].ho()}t.prototype.ho.call(this)},L(n,[{key:"Ogt",get:function(){return this.ykt}},{key:"Dgt",get:function(){return this.mkt}},{key:"qgt",get:function(){return this}},{key:"Kyt",get:function(){return this.Lkt}},{key:"Cl",get:function(){return this.nr.Cl}},{key:"gI",get:function(){return this.ub}},{key:"R_",get:function(){return this.kF}}]),n}(FV),tX=new Date("2000-01-01"),nX=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).ckt=void 0,u.Mkt=void 0,u.Ukt=void 0,u.Fkt=[],u.Hkt=i,u.Sa(n,r,e),n.js===jF.aS){var s=u.Smt();s&&s.tyt&&s.tyt.getTime()<tX.getTime()&&(u.Ukt=new Date(u.ayt.getTime()-1e3*(s.Tht.uw+s.Tht.R_)),u.gkt(e))}return u}M(n,t);var i=n.prototype;return i.yyt=function(){var t;return null===(t=this.ckt)||void 0===t?void 0:t.lkt},i.Iyt=function(){var t;return null===(t=this.ckt)||void 0===t?void 0:t._kt},i.Sa=function(t,n,i,r){var e;this.nr=t,this.Vkt=n,this.Xkt=null!=r?r:i,this.XH=i;var u,s=[(u=n,b.Hu(".",u))];this.dkt=t.Rwt&&t.Rwt.length>0?EV(t.Rwt.map(function(t){return t.rv}),s):s,this.Wkt=t.iyt&&t.iyt.length>0?EV(t.iyt,this.dkt):[];var o=this.Wkt.map(function(t){return t.href}),a=n.href;Ke(o,a)||(this.Wkt.push(n),o.push(a));var c=this.Hkt.href;Ke(o,c)||(this.Wkt.push(this.Hkt),o.push(c)),this.Mkt=null===(e=t.Rgt)||void 0===e?void 0:e.Sgt();var h=t.js===jF.aS,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.gI)s=u.gI.Sgt();else if(e>0&&t[e-1].R_){var o=r[e-1],a=t[e-1].R_.Sgt();s=o+a}else{if(0!==e||n)break;s=0}r.push(s)}for(var c=[],h=0;h<r.length-1;h++)c.push({pu:t[h],gI:r[h],R_:r[h+1]-r[h]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.R_?v.R_.Sgt():i-d),c.push({pu:v,gI:d,R_:l})}return c}(t.Egt,h,this.Mkt);this.qkt(f),this.gkt(i)},i.qkt=function(t){var n=this.Fkt;if(0!==t.length){for(var i=t[0].pu.Cl,r=0;r<n.length&&n[r].Cl!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].ho()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var a=n[s];0,a.Sa(o.pu,o.R_)}else n.push(new KV(this,o.pu,o.gI,o.R_))}}else nu(n)},i.gkt=function(t){for(var n=0,i=this.Fkt;n<i.length;n++){i[n].gkt(t)}var r=this.ckt,e=this.wkt(t);r&&WV(r,e)||(this.ckt=e,this.To(new UV))},i.wkt=function(t){return{nmt:t,lkt:HV(this.Fkt),_kt:XV(this.Fkt)}},i.Smt=function(){if(0!==this.Fkt.length){var t=this.Fkt[this.Fkt.length-1];if(!isFinite(t.R_)&&0!==t.Ogt.length){var n=t.Ogt[0];if(0!==n.Tgt.length){var i=n.Tgt[0].Lgt,r=i.Smt();if(r)return{Tht:r,tyt:i.umt(r)}}}}},i.ho=function(){this.No();for(var t=0,n=this.Fkt;t<n.length;t++){n[t].ho()}},L(n,[{key:"pu",get:function(){return this.nr}},{key:"js",get:function(){return this.nr.js||jF.oS}},{key:"nyt",get:function(){return this.Ukt||this.nr.nyt||this.ayt}},{key:"tyt",get:function(){return this.nr.tyt}},{key:"Rgt",get:function(){return this.Mkt}},{key:"Rwt",get:function(){return this.dkt}},{key:"iyt",get:function(){return this.Wkt}},{key:"Egt",get:function(){return this.Fkt}},{key:"ayt",get:function(){return this.nr.ayt||this.XH}},{key:"fwt",get:function(){return this.nr.fwt}},{key:"zkt",get:function(){return this.Xkt}},{key:"Gkt",get:function(){return this.XH}}]),n}(Tu);var iX=function(){function t(t,n,i){this.Ab=t,this.jkt=n,this.Qkt=i,this.Ykt=0}var n=t.prototype;return n.$b=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Zkt(n,this.Ab,this.jkt,this.Qkt).catch(hu);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Jkt=function(){return new Date(Yt()+this.Ykt)},n.Zkt=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.$kt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}au(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.Kkt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.Ykt=void 0===u?0:u-Yt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.Kkt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.pgt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.ru)){t.next=9;break}return t.next=8,this.$kt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.ru)){t.next=15;break}if(o=new Date(s).getTime(),w(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.$kt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.tv({rv:i,kv:Af.GET,Jf:zo.ze,ko:r});case 3:return e=t.sent,t.next=6,e.xf();case 6:if(u=t.sent,s=new Date(u).getTime(),w(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),cu(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),rX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).byt=void 0,u.pZ=!0,u.Fkt=[],u.tpt=void 0,u.npt=n,u.ipt=n.jl,u.rpt=i,u.Ab=r,u.ept=e,u.upt=new iX(u.Ab,u.ept,u.npt.spt),u}M(n,t);var i=n.prototype;return i.Wrt=function(t){var n=this.Bg;this.pZ=t,n!==this.Bg&&this.To(new ZV)},i.Sa=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v,d,l,_,g;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=[],s=[],o=n.ryt?b.Hu(n.ryt,this.ipt):this.ipt,void 0!==this.byt){t.next=10;break}return t.next=6,this.upt.$b(n.hyt);case 6:this.byt=new nX(n,this.ipt,o,this.Jkt()),this.byt.So(_V.vyt,this.bo),t.next=11;break;case 10:this.byt.Sa(n,o,this.Jkt(),i);case 11:if(0===(a=this.byt.Egt).length)c=this.Fkt.slice(),nu(this.Fkt);else{for(h=a[0].Cl,f=0;f<this.Fkt.length&&this.Fkt[f].Cl!==h;)f++;for(c=this.Fkt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<this.Fkt.length?l=this.Fkt[v]:(l=new QV(this,d),u.push(l)),s.push(l.Sa(this.rpt,r))}return t.next=15,T.all(s);case 15:for((e=this.Fkt).push.apply(e,u),_=0,g=c;_<g.length;_++)g[_].bkt();this.To(new YV);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Jkt=function(){return this.upt.Jkt()},i.Dkt=function(t){var n=this.Fkt.indexOf(t);if(n>0)return this.Fkt[n-1]},i.Ikt=function(t){var n=this.Fkt.indexOf(t);if(n>=0&&n+1<this.Fkt.length)return this.Fkt[n+1]},i.yyt=function(){return this.byt?this.byt.yyt():void 0},i.Iyt=function(){return this.byt&&this.byt.Iyt()},i.gkt=function(t){this.byt&&this.byt.gkt(t)},i.Rv=function(){this.No(),this.tpt=void 0,this.Wrt(!1);for(var t=0,n=this.Fkt;t<n.length;t++){n[t].Rv()}nu(this.Fkt),this.byt&&this.byt.ho()},L(n,[{key:"tyt",get:function(){return this.byt&&this.byt.tyt}},{key:"nyt",get:function(){return this.byt&&this.byt.nyt}},{key:"Cl",get:function(){return this.byt&&this.byt.pu.Cl}},{key:"zkt",get:function(){var t;return null===(t=this.byt)||void 0===t?void 0:t.zkt}},{key:"apt",get:function(){var t;return null===(t=this.byt)||void 0===t?void 0:t.Gkt}},{key:"iyt",get:function(){return this.byt?this.byt.iyt.map(function(t){return t.href}):[this.Ngt]}},{key:"Ngt",get:function(){return this.ipt.href}},{key:"eyt",get:function(){return this.byt&&this.byt.pu.eyt}},{key:"uyt",get:function(){return this.byt&&this.byt.pu.uyt}},{key:"Rgt",get:function(){return this.byt&&this.byt.pu.Rgt}},{key:"syt",get:function(){return this.byt&&this.byt.pu.syt}},{key:"oyt",get:function(){var t,n,i=(null===(n=null===(t=this.byt)||void 0===t?void 0:t.pu.oyt)||void 0===n?void 0:n.jgt())||0;return l.max(i,uX)}},{key:"Bg",get:function(){return this.pZ}},{key:"Egt",get:function(){return this.Fkt}},{key:"cpt",get:function(){return this.js===jF.aS?this.Wyt:this.hpt}},{key:"fpt",get:function(){var t=this.cpt;if(void 0!==t)for(var n=0,i=this.Egt;n<i.length;n++){var r=i[n];if(r.gI<=t&&r.yI>t)return r}}},{key:"Awt",get:function(){return this.byt&&this.byt.pu.Awt}},{key:"ayt",get:function(){return this.byt&&this.byt.ayt}},{key:"Ckt",get:function(){for(var t=this.Fkt.length-1;t>=0;t-=1){var n=this.Fkt[t].Ckt;if(n)return n}}},{key:"Wyt",get:function(){var t=this.Ckt;if(void 0!==t){var n=t-this.vpt;return l.max(n,this.hpt)}}},{key:"hpt",get:function(){for(var t=0,n=this.Fkt;t<n.length;t++){var i=n[t].wyt;if(void 0!==i)return i}}},{key:"Tv",get:function(){return Boolean(this.npt.Tv)}},{key:"vpt",get:function(){var t=this.byt&&this.byt.pu.cyt;return t?t.Sgt():this.js===jF.aS?this.Vtt:0}},{key:"Vtt",get:function(){return this.npt.Vtt?this.npt.Vtt:1.5*this.syt.Sgt()}},{key:"fwt",get:function(){return this.byt&&this.byt.fwt}},{key:"js",get:function(){return this.byt?this.byt.js:void 0}}]),n}(Tu),eX=function(){function t(t,n,i,r){this.pkt=new rX(t,n,i,r)}return L(t,[{key:"Syt",get:function(){return this.pkt}}]),t}(),uX=1e3,sX=l.pow(2,31)-1,oX=function(){function t(t,n,i,r){var e=this;this.dpt=new uu,this.lpt=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.byt.Syt.Jkt(),t.next=4,e._pt(e.byt.Syt.iyt,n);case 4:return r=t.sent,t.next=7,e.byt.Syt.Sa(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),Zw(t.t0)&&e.byt.Syt.Wrt(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.I8=r,this.byt=new eX(t,n,i,this.dpt.ko)}var n=t.prototype;return n.bd=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.byt.Syt.To(new gS),t.prev=1,t.next=4,GM(this.lpt,n);case 4:this.byt.Syt.Wrt(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),cu(t.t0),this.gpt=void 0,this.byt.Syt.Wrt(!1),new f("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.wpt=this.ypt(this.dpt.ko);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.ypt=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.byt.Syt.js!==jF.aS){t.next=6;break}return t.next=4,fu(this.mpt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.kpt=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(n),!((i=this.ppt())>0)){t.next=6;break}return r=l.min(i,sX),t.next=6,mu(r,n);case 6:return t.prev=6,t.next=9,GM(this.lpt,n,1/0,uX,3e4);case 9:this.byt.Syt.Wrt(!0);case 10:return t.prev=10,this.Apt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.ppt=function(){var t=this.byt.Syt.Jkt().getTime()-this.byt.Syt.zkt.getTime();return this.byt.Syt.oyt-t},n.bpt=function(t){var n=this.byt.Syt.Iyt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.byt.Syt.gkt(t);var r=this.byt.Syt.Iyt();return r?r.getTime()-t.getTime():NaN},n.Tpt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Apt||(this.Apt=this.kpt(n)),(i=new uu).yo(n),t.prev=3,t.next=6,T.race([this.Apt,this.Ept(i.ko)].filter(Z));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),hu(t.t0);case 11:return t.prev=11,i.wo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.Ept=function(t){var n=this.byt.Syt.Jkt(),i=this.bpt(n);if(!w(i))return this.Spt(i,t)},n.Spt=function(){var t=T.coroutine(de.mark(function t(n,i){var r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mu(n,i);case 2:r=this.byt.Syt.Jkt(),this.byt.Syt.gkt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n._pt=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.I8.E8(n,{},i,!1);case 2:return r=t.sent,e=new gV,t.abrupt("return",e.clt(r._8,r.nv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Rv=function(){return this.dpt.wo(),this.wpt=void 0,this.gpt=void 0,this.Apt=void 0,this.byt.Syt.Rv(),T.resolve()},L(t,[{key:"Rpt",get:function(){return this.byt}},{key:"C0",get:function(){return this.gpt||(this.gpt=this.bd(this.dpt.ko),gu(this.gpt)),this.gpt}},{key:"mpt",get:function(){return this.byt.Syt.apt&&this.byt.Syt.js===jF.aS?this.Tpt(this.dpt.ko):this.C0}}]),t}(),aX=function(){function t(t,n,i){this.I8=t,this.Ipt=n,this.Npt=i}var n=t.prototype;return n.Dpt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new f("Invalid typed source");case 2:if(!ll(i=n.type)){t.next=9;break}return t.next=6,this.Cpt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!dl(i)){t.next=15;break}return t.next=12,this.Opt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new f("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Cpt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,oH(n.src,this.I8);case 3:return i=t.sent,t.next=6,cH(i,this.I8);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.Opt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new oX({jl:b.Hu(n.src),Vtt:n.liveOffset,spt:n.timeServer,Tv:n.useCredentials},this.Npt,Df.xv,this.I8),t.next=4,i.C0;case 4:return t.next=6,HF(i.Rpt.Syt,n.contentProtection,this.Ipt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new f("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),cX=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.Mf,MediaSource.isTypeSupported(i)||ny(n.LC,n.kJ)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.bgt){t.next=17;break}r=n.bgt,e=ru(r,function(t){return He(t.pgt)}).filter(Z),u=0;case 7:if(!(u<e.length)){t.next=16;break}return s=e[u],t.next=11,b.Ts(s,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:u++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),hX=function(){function t(t){this.xpt=[],this.Ppt=0,this.Bpt=t}var n=t.prototype;return n.Lpt=function(){var t=new js;return this.xpt.push(t),this.Mpt(),t.oa},n.Upt=function(){var t=T.coroutine(de.mark(function t(n,i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.Ppt-=1,this.Mpt(),0===this.xpt.length&&0===this.Ppt&&i.aa(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Mpt=function(){this.xpt.length>0&&this.Ppt<this.Bpt&&(this.xpt.shift().aa(),this.Ppt+=1)},t}();function fX(t,n){for(var i=0,r=0,e=t.$A.YK.map(function(t){return t.R_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var vX=function(t){function n(n,i,r,e,u,s,o,a){var c;void 0===a&&(a=cX),(c=t.call(this)||this).Fpt=new js,c.Hpt=RF.wgt(),c.D8=n,c.r0=i,c.I8=r,c.Vpt=e,c.Xpt=u,c.Ipt=s,c.Npt=a,c.igt=o,c.Wpt=-1;var h=c.D8.$R.sources[0];return c.qpt=h,c.G_=c.vg(),c.zpt=new hX(c.D8.rc.parallelTasksThreshold),c}M(n,t);var i=n.prototype;return i.vg=function(){var t=T.coroutine(de.mark(function t(){var n,i,r,e,u,s,o,a,c,h,f,v,d,_,g,w,y,m,k,p,A,b,T,E,S,R,I,N,D=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new aX(this.I8,this.Ipt,this.Npt),t.next=3,i.Dpt(this.qpt);case 3:return this.xJ=t.sent,r=this.D8.rc.amount,e=this.xJ.R_,u=DF(r,e),this.dgt=u,o=YC(this.xJ.Igt[0]),t.next=11,this.r0.QK.zK(o,"manifestURL");case 11:for(a=t.sent.filter(function(t){return Ke(t.references,D.D8.Cl)}),c=[],h=this.D8.rc.bandwidth,f=0,v=this.xJ.Egt;f<v.length;f++)for(d=v[f],_=0,g=d.Cgt;_<g.length;_++)for(w=g[_],y=0,m=_X(w.Zk);y<m.length;y++)for(k=m[y],p=0,A=gX(k.Ll,h);p<A.length;p++)b=A[p],c.push(b);if(this.Wpt=l.ceil(c.map(function(t){return t.XS*fX(t,u)/8}).reduce(function(t,n){return t+n},0)),T=ge(),a&&0!==a.length){for(E=a.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var i=a[t],r=i.qualityId,e=new iA(i.startsAndEnds);if(T.has(r))T.get(r).timeRanges=T.get(r).timeRanges.LI(e).BI(5e-4);else{var u=Ye(c,function(t){return t.Cl===r}),s=l.min(D.dgt,null!==(n=null==u?void 0:u.$A.R_)&&void 0!==n?n:1/0);T.set(r,{timeRanges:e,totalQualityDurationToCache:s})}},R=0;R<a.length;R++)S(R);s=new RF(E,T,this.dgt)}else{for(I=0;I<c.length;I++)N=c[I],T.set(N.Cl,{timeRanges:iA.tN(),totalQualityDurationToCache:l.min(N.$A.R_,this.dgt)});s=new RF(0,T,this.dgt)}this.Gpt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jpt=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.G_;case 2:return t.next=4,this.Qpt(this.xJ,n);case 4:return t.next=6,this.Fpt.oa;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Qpt=function(){var t=T.coroutine(de.mark(function t(n,i){var r,e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Igt){t.next=2;break}throw new f("Unexpected - manifest is missing locations");case 2:return t.next=4,this.Ypt();case 4:for(r=[],e=0,u=n.Egt;e<u.length;e++)s=u[e],r.push(this.Zpt(s,n.Igt[0],i));return t.abrupt("return",T.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Ypt=function(){var t=T.coroutine(de.mark(function t(){var n,i,r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vpt.qK();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.r0.ZK.Qo(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,dX(e,this.D8.Cl,this.r0.ZK,this.igt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.r0.ZK.VK(r,this.igt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new OF("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.Vpt.jK();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.Zpt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Cgt;u<s.length;u++)for(o=s[u],a=_X(o.Zk),c=0;c<a.length;c++)h=a[c],e.push(this.Jpt(h,i,r));return t.abrupt("return",T.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Jpt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.D8.rc.bandwidth,u=gX(n.Ll,e),n.js!==f_.yv||!n.Bgt||!n.Bgt.LT.widevine||"persistent"!==n.Bgt.LT.widevine.licenseType){t.next=6;break}return t.next=5,this.$pt(n.Bgt);case 5:au(r);case 6:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(this.Kpt(a,i,r));return t.abrupt("return",T.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Kpt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(au(r),!n.t8){t.next=7;break}return e={uw:0,R_:0,Xgt:n.t8},t.next=5,this.zpt.Lpt();case 5:au(r),gu(this.zpt.Upt(this.tAt(e,n,i),this.Fpt));case 7:u=n.$A.YK[0].uw,s=u+this.dgt,o=0,a=n.$A.YK;case 10:if(!(o<a.length)){t.next=22;break}if(!((c=a[o]).uw>=s)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.zpt.Lpt();case 16:return t.next=18,this.nAt(r);case 18:gu(this.zpt.Upt(this.tAt(c,n,i),this.Fpt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.nAt=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==n?void 0:n.uo)){t.next=4;break}return t.next=3,this.Fpt.oa;case 3:throw new su;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.iAt=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.G_;case 2:return t.abrupt("return",this.xJ);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$pt=function(t){return T.resolve()},i.rAt=function(){var t=T.coroutine(de.mark(function t(){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return dt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.tAt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s,o,a,c,h,f=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.r0.QK,u=ZC(n.Xgt.rv,n.Xgt.HY),t.next=4,e.Qo(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,dX(s,this.D8.Cl,e,this.igt);case 8:this.eAt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.uAt(n.Xgt);case 14:return o=t.sent,a=this.sAt(n,i,r,o),c=a.segmentMetadataEntry,h=a.segmentEntry,t.next=18,this.r0.KK(function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.QK.VK(c,f.igt);case 2:return t.next=4,n.YK.VK(h,f.igt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.eAt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new OF("Unable to store segment with url: "+n.Xgt.rv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.uAt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Xpt.oAt(n,!1);case 2:return i=t.sent,t.next=5,this.aAt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.aAt=function(){var t=T.coroutine(de.mark(function t(n){var i;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Bf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.sAt=function(t,n,i,r){var e=ZC(t.Xgt.rv,t.Xgt.HY),u=t.uw,s=t.R_,o=this.cAt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:YC(i),qualityId:n.Cl,byteSize:o,startsAndEnds:new iA([u,u+s]).kI,references:[this.D8.Cl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:YC(i),data:r}}},i.cAt=function(t){return t.buffer.byteLength},i.eAt=function(t,n){var i=t.qualityId,r=this.Hpt,e=r.Fg;e.get(i).timeRanges=e.get(i).timeRanges.LI(new iA(t.startsAndEnds)).BI(5e-4),this.Gpt=new RF(n?r.ygt+t.byteSize:r.ygt,e,this.dgt)},L(n,[{key:"hAt",get:function(){return this.Wpt}},{key:"Gpt",get:function(){return this.Hpt},set:function(t){this.Hpt.Tw(t)||(this.Hpt=t,t.Tw(RF.wgt())||this.To(new SF))}}]),n}(Tu);function dX(t,n,i,r){return lX.apply(this,arguments)}function lX(){return(lX=T.coroutine(de.mark(function t(n,i,r,e){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ke(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.VK(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _X(t){return t.length?[t[0]]:[]}function gX(t,n){if(!t.length)return[];var i=[].concat(t).sort(TF),r=i.filter(function(t){return t.XS<=n});return r.length>0?[r.pop()]:[i.shift()]}var wX=function(){function t(t){this.GE=new gy,this.Ab=t}var n=t.prototype;return n.tv=function(t){var n=this,i=new js;return this.GE.xb(function(r){return n.fAt(i,t,r)},t.ko).catch(S),i.oa},n.Sv=function(t){return this.Ab.Sv(t)},n.fAt=function(){var t=T.coroutine(de.mark(function t(n,i,r){var e,u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return au(r),e=new Rf({rv:i.rv,ko:r},i),u=this.Ab.tv(e),n.aa(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.Wf();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Rv=function(){this.GE.Rv()},t}(),yX=function(){function t(t){this.Ab=t,this.vAt=new wX(this.Ab)}var n=t.prototype;return n.oAt=function(t,n,i){return this.fit(t,n,!0,!1,void 0,i)},n.dAt=function(t,n,i,r){return this.fit(t,n,!1,!1,i,r)},n.lAt=function(t,n,i,r){return this.fit(t,n,!1,!0,i,r)},n.fit=function(){var n=T.coroutine(de.mark(function n(i,r,e,u,s,o){var a;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return au(o),n.next=3,this._At(i,e,u,s,o);case 3:if(a=n.sent,!r){n.next=8;break}return n.abrupt("return",t.gAt(a));case 8:return n.abrupt("return",this.wAt(a));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,u,s){return n.apply(this,arguments)}}(),n.wAt=function(t){return t},t.gAt=function(t){return t},n._At=function(t,n,i,r,e){var u=new Rf({rv:t.rv,Jf:zo.wh,Zf:t.HY?{Range:"bytes="+t.HY[0]+"-"+t.HY[1]}:void 0,Tv:t.Tv,kv:Af.GET,js:bf.ov,Av:i?Tf.cv:Tf.uv,bv:this.yAt,pv:r,ko:e});return n?this.vAt.tv(u):this.Ab.tv(u)},L(t,[{key:"yAt",get:function(){return Ef.uv}}]),t}(),mX=function(){function t(t){this.Ab=t}return t.prototype.skt=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ab.tv({rv:n,Jf:zo.wh,Zf:{Range:"bytes="+i[0]+"-"+i[1]},Tv:r,kv:Af.GET,js:bf.uv,ko:e});case 2:return u=t.sent,t.next=5,u.Bf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),kX=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Tht=n,e}return M(n,t),n}(un),pX=function(){function t(t){this.S8=t}return t.prototype.skt=function(){var t=T.coroutine(de.mark(function t(n,i,r,e){var u,s;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.S8.b8(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.S8.b8(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",Ws(new y(s.buffer),i[0],i[1]));case 10:throw new kX({rv:n,HY:i,Tv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),AX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new iA([0,0]).kI,references:[]},bX={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},TX=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n)||this).mAt=new mX(i),s.r0=r,s.kAt=e,s.igt=u,s}M(n,t);var i=n.prototype;return i.skt=function(){var n=T.coroutine(de.mark(function n(i,r,e,u){var s;return de.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.skt.call(this,i,r,e,u);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),cu(n.t0);case 9:return n.next=11,this.mAt.skt(i,r,e,u);case 11:return s=n.sent,n.next=14,this.pAt(i,r,s);case 14:return n.abrupt("return",s);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.pAt=function(){var t=T.coroutine(de.mark(function t(i,r,e){var u,s,o,a,c,h,f,v=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.kAt){t.next=2;break}return t.abrupt("return");case 2:return u=this.r0.QK,s=ZC(i,r),t.next=6,u.Qo(s);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,dX(o,this.kAt,u);case 10:t.next=22;break;case 12:return t.prev=12,a={buffer:e},c=n.sAt(s,a,this.kAt),h=c.segmentMetadataEntry,f=c.segmentEntry,t.next=17,this.r0.KK(function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.QK.VK(h,v.igt);case 2:return t.next=4,n.YK.VK(f,v.igt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new OF("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.sAt=function(t,n,i){return{segmentMetadataEntry:le(le({},AX),{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:le(le({},bX),{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(pX);var EX=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.AAt=function(t,n,i,r,e,u,s){return new vX(t,n,i,r,e,u,s)},n}(function(){function t(t){this.Ab=t}return t.prototype.Rj=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.$R.sources[0].useCredentials),e=new yX(this.Ab),u=new WP(this.Ab,r),s=new qP(n.ZK,n.QK,n.YK,n.$K),o=function(t,n,i,r,e){return new TX(n,t,i,r,e)}(this.Ab,s,n,t.Cl,i),a=new XC,c=new YP(QP(u,s),a,t);return this.AAt(t,n,c,a,e,o,i)},t}());function SX(t){var n,i={get id(){return t.Cl},get status(){return t.Yf},get source(){return t.$R},get parameters(){return t.rc},get duration(){return t.R_},get cached(){return t.bAt.OR()},get secondsCached(){return t.TAt},get percentageCached(){return t.EAt},get bytes(){return t.SAt},get bytesCached(){return t.RAt},get license(){return t.$C.Xd},start:function(){t.gI()},pause:function(){t.ug()},remove:function(){t.Ea()},addEventListener:function(t,i){n.So(t,i)},removeEventListener:function(t,i){n.Do(t,i)}};return n=new cE(t,i),i}var RX=function(){function t(t,n,i){this.D8=t,this.r0=n,this.xJ=i}var n=t.prototype;return n.IAt=function(){var t=T.coroutine(de.mark(function t(){var n=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.r0.KK(function(){var t=T.coroutine(de.mark(function t(i){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.NAt(i);case 2:return t.next=4,n.DAt(i);case 4:return t.next=6,n.CAt(i);case 6:return t.next=8,n.OAt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.NAt=function(){var t=T.coroutine(de.mark(function t(n){var i,r;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.JK,r=this.D8.Cl,t.next=4,i.Ea(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.DAt=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o,a=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.QK,r=n.YK,e=YC(this.D8.$R.sources[0].src),t.next=5,i.zK(e,"manifestURL");case 5:u=t.sent.filter(function(t){return Ke(t.references,a.D8.Cl)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if(Je((o=u[s]).references,this.D8.Cl),0!==o.references.length){t.next=17;break}return t.next=13,i.Ea(o.key);case 13:return t.next=15,r.Ea(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.VK(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.CAt=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s,o=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.ZK,r=this.xAt(),t.next=4,i.WK(r);case 4:e=t.sent.filter(function(t){return Ke(t.references,o.D8.Cl)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if(Je((s=e[u]).references,this.D8.Cl),0!==s.references.length){t.next=14;break}return t.next=12,i.Ea(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.VK(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.xAt=function(){if(!this.xJ)return[];var t=YC(this.D8.$R.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.Egt;i<r.length;i++)for(var e=0,u=r[i].Cgt;e<u.length;e++)for(var s=0,o=u[e].Zk;s<o.length;s++)for(var a=0,c=o[s].Ll;a<c.length;a++){var h=c[a];h.zgt&&n.push(h.zgt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.xJ).map(function(t){return{src:t}}).map(function(t){return YC(t.src)});return[t].concat(n)},n.OAt=function(){var t=T.coroutine(de.mark(function t(n){var i,r,e,u,s=this;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.$K,t.next=3,i.qK();case 3:r=t.sent.filter(function(t){return Ke(t.references,s.D8.Cl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Je((u=r[e]).references,this.D8.Cl),0!==u.references.length){t.next=14;break}return t.next=11,i.Ea(u.key);case 11:this.PAt(u),t.next=16;break;case 14:return t.next=16,i.VK(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.PAt=function(t){},t}(),IX=new(function(){function t(){}return t.prototype.Rj=function(t,n,i){return new RX(t,n,i)},t}());var NX=function(){function t(t,n){this.cn=t,this.BAt=n}var n=t.prototype;return n.H4=function(t){this.LAt(t)},n.LAt=function(){var t=T.coroutine(de.mark(function t(n){return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.BAt.rAt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.cn.egt(fF.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),L(t,[{key:"Xd",get:function(){var t;return this.Vd||(this.Vd=(t=this,{renew:function(n){t.H4(n)}})),this.Vd}}]),t}(),DX=function(t){function n(n,i,r,e,u,s){var a;(a=t.call(this)||this).MAt=new uu,a.evictOnLoading=function(){a.Do("W_t",a.evictOnLoading),a.UAt()},a.zg=n,a.hdt=i,a.FAt=r,a.r0=e,a.BAt=u.Rj(rn(a),a.r0,s),a.HAt=new NX(rn(a),a.BAt),a.tgt=1===a.BAt.Gpt.mgt?fF.DONE:fF.IDLE,a.BAt.So("vK",function(t){a.bo(t),1===a.EAt&&a.egt(fF.DONE)});var c=new Date,h=a.FAt.expirationDate.getTime()-c.getTime();return h<2147483647&&o(function(){return a.UAt()},h),a}M(n,t);var i=n.prototype;return i.egt=function(t){this.tgt!==t&&(this.tgt=t,this.To(new dF))},i.gI=function(){this.tgt===fF.EVICTED||this.tgt===fF.DONE||this.VAt()},i.VAt=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.egt(fF.LOADING),n=new uu,this.MAt=n,t.next=6,this.BAt.jpt(n.ko);case 6:this.egt(fF.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),ou(t.t0)?this.egt(fF.IDLE):this.egt(fF.ERROR);case 12:return t.prev=12,this.MAt.ho(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.ug=function(){this.MAt.wo()},i.Ea=function(){this.Yf===fF.LOADING?(this.So("W_t",this.evictOnLoading),this.ug()):this.UAt()},i.UAt=function(){var t=T.coroutine(de.mark(function t(){var n;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.BAt.iAt();case 3:return n=t.sent,t.next=6,IX.Rj(this,this.r0,n).IAt();case 6:this.BAt.Gpt=RF.wgt(),this.egt(fF.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.egt(fF.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),L(n,[{key:"Xd",get:function(){return this.Vd||(this.Vd=SX(this)),this.Vd}},{key:"Cl",get:function(){return this.zg}},{key:"$C",get:function(){return this.HAt}},{key:"Yf",get:function(){return this.tgt}},{key:"$R",get:function(){return this.hdt}},{key:"rc",get:function(){return this.FAt}},{key:"R_",get:function(){return this.BAt.Gpt.ZI}},{key:"bAt",get:function(){return this.BAt.Gpt.ggt}},{key:"TAt",get:function(){return this.BAt.Gpt._gt}},{key:"EAt",get:function(){return this.BAt.Gpt.mgt}},{key:"SAt",get:function(){return this.BAt.hAt}},{key:"RAt",get:function(){return this.BAt.Gpt.ygt}}]),n}($d);var CX=function(){function t(t,n){this.r0=t,this.XAt=n}var n=t.prototype;return n.agt=function(t,n,i){var r=Wb();return this.sgt(r,t,n,i)},n.sgt=function(t,n,i,r){return new DX(t,n,i,this.r0,this.XAt,r)},t}(),OX=30,xX=5;function PX(t){if(!t)throw new f("Unexpected - The cache parameters are undefined");var n=function(t){if(nt(t)&&!wr(t,"%"))return _(t);return t}(t.amount);!function(t){if(i=t,nt(i)&&wr(i,"%")){var n=g(t);if(w(n)||n<0||n>100)throw new f("The amount as percentage must be between 0 and 100 percent.")}var i;if(!nt(t)&&w(t))throw new f("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+OX),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(et(n)&&n>new Date)))throw new f("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(w(t)||t<0)throw new f("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return xX;if(w(t))throw new f("The amount must be a number");return t}(t.numberOfParallelTasks)}}var BX=function(t){function n(n,i){var r;return(r=t.call(this)||this).WAt=n,r.ZB=i,r.WAt.So("W_t",r.bo),r}return M(n,t),n.prototype.qAt=function(t,n,i){var r,e;if(!t)throw new f("Unexpected - The source description is undefined");if(r=db(t),e=PX(n),rb(r))throw new f("Invalid source description");return this.WAt.sgt(r,e).Xd},L(n,[{key:"Xd",get:function(){var t,n,i;return this.Vd||(this.Vd=(i={get status(){return t.Yf},get tasks(){return t.fgt},get network(){return t.oL.Xd},createTask:function(n,i){return t.qAt(n,i)},addEventListener:function(t,i){n.So(t,i)},removeEventListener:function(t,i){n.Do(t,i)}},n=new cE(t=this,i),i)),this.Vd}},{key:"Yf",get:function(){return this.WAt.Yf}},{key:"fgt",get:function(){return this.WAt.fgt.Xd}},{key:"oL",get:function(){return this.ZB}}]),n}($d);(LX=new qT(b.Ld,!1),MX=QC.Ve,UX=new EX(LX),FX=new CX(MX,UX),HX=new GT(LX),VX=new bF(MX.JK,FX,"persistent"),new BX(VX,HX)).Xd;var LX,MX,UX,FX,HX,VX,XX=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).kF=0,u.zAt=iA.tN(),u.GAt=0,u.jAt=0,u.zg=n,u.tgt=fF.IDLE,u.hdt=i,u.FAt=r,u.WAt=e,u}M(n,t);var i=n.prototype;return i.gI=function(){this.WAt.startCachingTask(this)},i.Ea=function(){this.WAt.removeCachingTask(this)},L(n,[{key:"Xd",get:function(){return this.Vd||(this.Vd=SX(this)),this.Vd}},{key:"Cl",get:function(){return this.zg}},{key:"Yf",get:function(){return this.tgt},set:function(t){this.tgt!==t&&(this.tgt=t,this.To(new dF))}},{key:"$R",get:function(){return this.hdt}},{key:"rc",get:function(){return this.FAt}},{key:"R_",get:function(){return this.kF},set:function(t){this.kF=t}},{key:"bAt",get:function(){return this.zAt},set:function(t){this.zAt=t}},{key:"TAt",get:function(){return this.GAt},set:function(t){this.GAt=t}},{key:"EAt",get:function(){return this.jAt},set:function(t){this.jAt=t,this.To(new SF)}}]),n}(Kd),WX=30;function qX(t){var n,i;if(!t)throw new f("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+WX),n&&((i=n)&&!(et(i)&&i>new Date)))throw new f("Invalid expiration date for the cache parameters");return{expirationDate:n}}var zX=function(t){function n(){var n;return(n=t.call(this)||this).tgt=wF.UNINITIALISED,n.Nb=new AF,n.QAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.Yf=fF.EVICTED,i.EAt=0,i.TAt=0,i.R_=0,i.bAt=iA.tN(),n.Nb.Ea(i))}},n.YAt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.Yf=r);var e=t.detail.percentage;e&&(i.EAt=e);var u=t.detail.duration;u&&(i.R_=u);var s=t.detail.seconds;s&&(i.TAt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.bAt=new iA(a)}}}},n.ZAt=function(t){if(t.detail){var i=db(JSON.parse(t.detail.source));if(!n.JAt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n.sgt(i,qX(r),u)}}},n.$At=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n.sgt(db(e),qX(i),u);s.Yf=t.detail.status,s.EAt=t.detail.percentage,s.R_=t.detail.duration,s.TAt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}s.bAt=new iA(a)}},n.KAt=function(t){t.detail&&n.egt(t.detail.status)},n.Flt=new oF,n.e_t=new HU,PU().cache={sdkEventBus:n.e_t},n.h$(),n}M(n,t);var i=n.prototype;return i.egt=function(t){this.tgt!==t&&(this.tgt=t,this.To(new dF))},i.sgt=function(t,n,i){void 0===i&&(i=void 0);var r=new XX(i||Wb(),t,n,this);return this.Nb.Hg(r),i||this.Flt.oj("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Cl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.Nb.Z_t;n<i.length;n++){var r=i[n];if(r.Cl===t)return r}},i.JAt=function(t){for(var n=jX(t.sources),i=0,r=this.Nb.Z_t;i<r.length;i++){if(jX(r[i].$R.sources).src===n.src)return!0}return!1},i.h$=function(){this.e_t.addEventListener("deleteTask",this.QAt),this.e_t.addEventListener("updateValues",this.YAt),this.e_t.addEventListener("newTask",this.ZAt),this.e_t.addEventListener("restoreTask",this.$At),this.e_t.addEventListener("setCacheStatus",this.KAt)},i.startCachingTask=function(t){this.Flt.oj("THEOplayerCacheStartCachingTask",{id:t.Cl})},i.removeCachingTask=function(t){this.Flt.oj("THEOplayerCacheRemoveCachingTask",{id:t.Cl})},L(n,[{key:"Yf",get:function(){return this.tgt}},{key:"fgt",get:function(){return this.Nb}}]),n}(Tu),GX=function(t){function n(n){var i;return(i=t.call(this,n)||this).tbt=n,i.tbt.So("W_t",i.bo),i}return M(n,t),n.prototype.qAt=function(t,n){var i,r;if(!t)throw new f("Unexpected - The source description is undefined");if(i=db(t),r=qX(n),rb(i))throw new f("Invalid source description");if(!jX(i.sources))throw new f("The provided sources can't be cached");return this.tbt.sgt(i,r).Xd},n}(BX);function jX(t){for(var n=0;n<t.length;n++){var i=t[n];if(ll(i.type))return i}}var QX,YX,ZX=function(){var t=new zX;return new GX(t)}().Xd;!function(t){t.nbt="any",t.ibt="natural",t.rbt="landscape",t.ebt="portrait",t.ubt="portrait-primary",t.sbt="portrait-secondary",t.obt="landscape-primary",t.abt="landscape-secondary"}(QX||(QX={})),function(t){t.ubt="portrait-primary",t.sbt="portrait-secondary",t.obt="landscape-primary",t.abt="landscape-secondary"}(YX||(YX={}));var JX,$X,KX=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Flt=new oF,n.cbt=QX.ibt,n.hbt=YX.ubt,n.fbt=YX.ubt,n.vbt=YX.ubt,n}M(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new r.Promise(function(i,r){n.cbt=t,n.Flt.oj("THEOplayerOrientationLock",t),n.dbt(),i()})},i.unlock=function(){var t=this;return new r.Promise(function(n,i){t.cbt=QX.ibt,t.Flt.oj("THEOplayerOrientationUnlock"),t.type=t.fbt,t.dbt(),n()})},i.dbt=function(){var t=this.vbt,n=this.type;t!==n&&(this.vbt=n,this.To(new Su("change")))},i.addEventListener=function(t,n){this.So(t,n)},i.removeEventListener=function(t,n){this.Do(t,n)},n.lbt=function(t){switch(t){case QX.ubt:return[YX.ubt];case QX.sbt:return[YX.sbt];case QX.ebt:return[YX.ubt,YX.sbt];case QX.obt:return[YX.obt];case QX.abt:return[YX.abt];case QX.rbt:return[YX.obt,YX.abt];case QX.ibt:return[YX.ubt,YX.obt,YX.abt];case QX.nbt:return[YX.ubt,YX.sbt,YX.obt,YX.abt]}},n._bt=function(t,i){return n.lbt(i).indexOf(t)>=0},L(n,[{key:"type",get:function(){return this.hbt},set:function(t){this.fbt=t,n._bt(t,this.cbt)?(this.hbt=t,this.dbt()):(t===YX.obt&&this.cbt===QX.abt&&(this.hbt=YX.abt,this.dbt()),t===YX.abt&&this.cbt===QX.obt&&(this.hbt=YX.obt,this.dbt()))}},{key:"angle",get:function(){switch(this.type){case YX.obt:return-90;case YX.abt:return 90;case YX.ubt:return 0;case YX.sbt:return 180;default:return 0}}}]),n}(Kd);KX.Ve=new KX,r.screen.orientation=KX.Ve,s&&-1===s.userAgent.indexOf("OS 9")&&d.defineProperty(r,"orientation",{get:function(){return r.screen.orientation.angle}}),r.screen.orientation.addEventListener("change",function(){r.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.gbt="unavailable",t.wbt="available",t.ybt="presenting"}(JX||(JX={})),HE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return M(n,t),n.prototype.ag=function(n){t.prototype.ag.call(this,n);var i=this.Xd;this.Xd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===JX.ybt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(QX.abt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},OE.hL),function(t){t.Md="addtrack",t.Fd="removetrack",t.nl="change",t.cl="update"}($X||($X={}));var tW=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=$X.nl},nW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=$X.Md},iW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=$X.Fd},rW=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=$X.cl},eW=function(){function t(t,n,i){var r=this;this.mbt=function(t){var n=new tW(r.type,t.track,r.mediaTracks);r.messageDispatcher.kbt(n)},this.pbt=function(t){var n=new nW(r.type,t.track);r.messageDispatcher.kbt(n),t.track.addEventListener("update",r.Abt)},this.bbt=function(t){var n=new iW(r.type,t.track);r.messageDispatcher.kbt(n)},this.Abt=function(t){var n=new rW(r.type,t.track);r.messageDispatcher.kbt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.h$()}return t.prototype.h$=function(){this.mediaTracks.addEventListener("change",this.mbt),this.mediaTracks.addEventListener("addtrack",this.pbt),this.mediaTracks.addEventListener("removetrack",this.bbt)},t}(),uW=function(){function t(){this.Tbt=new oF}return t.prototype.kbt=function(t){this.Tbt.oj(t.type,uU(t))},t}();WE(function(t){if(t.Xd.audioTracks){var n=new uW;new eW("audio",t.Xd.audioTracks,n)}if(t.Xd.videoTracks){var i=new uW;new eW("video",t.Xd.videoTracks,i)}});var sW,oW,aW=function(t){function n(){return t.apply(this,arguments)||this}return M(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case sW.Ebt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.To(new cW(i));break;default:0}},n}(HU),cW=function(t){function n(n){var i;return(i=t.call(this,sW.Ebt)||this).detail=n,i}return M(n,t),n}(Su);!function(t){t.Ebt="registerContentProtectionIntegration"}(sW||(sW={})),function(t){t.Sbt="certifiateRequest",t.Rbt="certifiateResponse",t.Ibt="licenseRequest",t.Nbt="licenseResponse",t.Dbt="extractFairplayContentId",t.Cbt="buildContentProtection",t.Obt="registerContentProtectionCallback"}(oW||(oW={}));var hW,fW,vW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.Obt};!function(t){t.VOD="vod",t.LIVE="live"}(hW||(hW={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(fW||(fW={}));var dW,lW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.Cbt},_W=function(t,n){this.value=t,this.integrationId=n,this.type=oW.Sbt},gW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.Rbt},wW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.Dbt},yW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.Ibt},mW=function(t,n){this.value=t,this.integrationId=n,this.type=oW.Nbt},kW=function(){function t(t,n){this.xbt=t,this.Wb=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=T.coroutine(de.mark(function t(i){var r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new _W(r,this.Wb),t.prev=2,t.next=5,this.xbt.Pbt(e);case 5:if(!(u=t.sent)){t.next=16;break}if(s=JSON.parse(u),!this.Bbt(s)){t.next=13;break}return o=le({},s),t.abrupt("return",o);case 13:if(!this.Lbt(s)){t.next=16;break}return a=new y(s),t.abrupt("return",a);case 16:throw new s_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new s_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=T.coroutine(de.mark(function t(i){var r,e,u,s,o;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new gW(e,this.Wb),t.next=5,this.xbt.Pbt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new y(o));case 11:throw new s_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=T.coroutine(de.mark(function t(i){var r,e,u,s,o,a,c;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new yW(e,this.Wb),t.prev=3,t.next=6,this.xbt.Pbt(u);case 6:if(!(s=t.sent)){t.next=17;break}if(o=JSON.parse(s),!this.Bbt(o)){t.next=14;break}return a={url:o.url,method:o.method,headers:o.headers,body:o.body?new y(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",a);case 14:if(!this.Lbt(o)){t.next=17;break}return c=new y(o),t.abrupt("return",c);case 17:throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new s_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=T.coroutine(de.mark(function t(i){var r,e,u,s,o,a;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=le(le({},r),{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new mW(u,this.Wb),t.next=6,this.xbt.Pbt(s);case 6:if(!(o=t.sent)){t.next=12;break}return a=JSON.parse(o),t.abrupt("return",new y(a));case 12:throw new s_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=T.coroutine(de.mark(function t(i){var r,e;return de.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new wW(i,this.Wb),t.next=3,this.xbt.Pbt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",T.reject(new s_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.Bbt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.Lbt=function(t){return!!new y(t)},t}(),pW=function(){function t(t){this.xbt=t}return t.prototype.build=function(t){if(!t.integration)throw new f("integrationId is undefined");var n=new kW(this.xbt,t.integration),i=new lW({drmConfiguration:t},t.integration);return this.xbt.Pbt(i),n},t}(),AW=function(){var t=this;this.Mbt=function(n){var i=new pW(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:Xy.Yb.zb(e,u,i)};t.messageDispatcher.Pbt(new vW(s,e))},this.e_t=new aW,PU().contentProtectionIntegration={sdkEventBus:this.e_t},this.e_t.addEventListener(sW.Ebt,this.Mbt)},bW="nativePromiseCallback",TW=function(t){function n(n){var i;return(i=t.call(this,bW)||this).detail=n,i}return M(n,t),n}(Su);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(dW||(dW={}));var EW=function(t){function n(){return t.apply(this,arguments)||this}M(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.To(new TW(n))},i.addEventListener=function(t,n){this.So(t,n)},i.removeEventListener=function(t,n){this.Do(t,n)},n}(HU),SW=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new f("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case dW.RESOLVE:i.aa(n.detail.data);break;case dW.REJECT:i.ca(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new EW;PU().nativePromise={sdkEventBus:n},n.addEventListener(bW,this.handleNativePromiseEvent)}return t.prototype.Pbt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=le(le({},n),{promiseId:r}),u=new js;return this.promisesMap[r]=u,null===(i=this.Tbt)||void 0===i||i.oj(n.type,rU(e)),u.oa},t}();SW.messageIdTracker=-1;var RW,IW=function(t){function n(){var n;return(n=t.call(this)||this).Tbt=new oF,n}return M(n,t),n}(SW),NW=function(t){function n(){var n;return(n=t.call(this)||this).xbt=new IW,n}return M(n,t),L(n,[{key:"messageDispatcher",get:function(){return this.xbt}}]),n}(AW);WE(function(t){new NW}),function(t){t.Ubt="airplaystatechange"}(RW||(RW={}));var DW=function(t){this.state=t,this.type=RW.Ubt},CW=function(t){function n(n){var i;return(i=t.call(this)||this).Fbt=function(t){var n=new DW(t.state);i.kbt(n)},i.Hbt=n,i.h$(n),i}return M(n,t),n.prototype.h$=function(t){t.addEventListener("statechange",this.Fbt)},n}(uW);WE(function(t){var n;(null===(n=t.Xd.cast)||void 0===n?void 0:n.airplay)&&new CW(t.Xd.cast.airplay)}),n.ChromelessPlayer=uS,n.Player=uS,n.cache=ZX,n.createGlobals=MU,n.features=["hls","airplay"],n.getCueMirrorMap=BU,n.getGlobalId=LU,n.getSdkEventBridge=PU,n.playerSuiteVersion="2021.2.2",n.players=aS,n.registerContentProtectionIntegration=cS,n.utils=oS,n.version="2.86.1",d.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
