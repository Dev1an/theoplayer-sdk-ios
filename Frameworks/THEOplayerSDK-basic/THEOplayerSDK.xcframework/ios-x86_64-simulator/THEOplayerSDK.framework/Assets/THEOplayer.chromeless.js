/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0),
 shaka-player (Apache 2.0 - Copyright 2016 Google LLC)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2021.4.0 (2.90.1)
 Created: 2021-10-29T14:05:03.048Z
 */
!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports,require("@opentelly/mp4-tools")):"function"==typeof define&&define.amd?define(["exports","@opentelly/mp4-tools"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={},n.mp4Tools)}(this,function(n,i){"use strict";var r,e=t.window,s=t.document,u=t.location,o=t.navigator,h=t.setTimeout,a=t.clearTimeout,c=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,y=t.isNaN,m=t.Uint8Array,k=t.Worker,p=(t.WorkerGlobalScope,t.XMLHttpRequest),A="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function b(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var T,E=b(function(n,i){n.exports=function t(n,i,e){function s(o,h){if(!i[o]){if(!n[o]){var a="function"==typeof r&&r;if(!h&&a)return a(o,!0);if(u)return u(o,!0);var c=new v("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return s(i||t)},f,f.exports,t,n,i,e)}return i[o].exports}for(var u="function"==typeof r&&r,o=0;o<e.length;o++)s(e[o]);return s}({1:[function(t,n,i){n.exports=function(t){var n=t.l;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),s=t("./queue"),u=t("./util");function o(){this.g=!1,this.R=!1,this.I=new s(16),this.N=new s(16),this.B=!1,this.M=!0;var t=this;this.drainQueues=function(){t.U()},this.F=e}function a(t,n,i){this.I.push(t,n,i),this.H()}function c(t,n,i){this.N.push(t,n,i),this.H()}function f(t){this.N.G(t),this.H()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.j();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.F;return this.F=t,this.g=!0,n},o.prototype.hasCustomScheduler=function(){return this.g},o.prototype.enableTrampoline=function(){this.M=!0},o.prototype.disableTrampolineIfNecessary=function(){u.hasDevTools&&(this.M=!1)},o.prototype.haveItemsQueued=function(){return this.R||this.B},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==h)h(function(){t(n)},0);else try{this.F(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},u.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.M?a.call(this,t,n,i):this.F(function(){h(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.M?c.call(this,t,n,i):this.F(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.M?f.call(this,t):this.F(function(){t.j()})}):(o.prototype.invokeLater=a,o.prototype.invoke=c,o.prototype.settlePromises=f),o.prototype.U=function(){d(this.N),this.Y(),this.B=!0,d(this.I)},o.prototype.H=function(){this.R||(this.R=!0,this.F(this.drainQueues))},o.prototype.Y=function(){this.R=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,s=function(t,n){this.Z(n)},u=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.J(s,s,null,this,t)},o=function(t,n){0==(50397184&this.K)&&this.nt(n.target)},h=function(t,n){n.promiseRejectionQueued||this.Z(t)};t.prototype.bind=function(s){e||(e=!0,t.prototype.it=r.propagateFromFunction(),t.prototype.et=r.boundValueFunction());var a=i(s),c=new t(n);c.it(this,1);var f=this.st();if(c.ut(a),a instanceof t){var v={promiseRejectionQueued:!1,promise:c,target:f,bindingPromise:a};f.J(n,u,void 0,c,v),a.J(o,h,void 0,c,v),c.ot(a)}else c.nt(f);return c},t.prototype.ut=function(t){void 0!==t?(this.K=2097152|this.K,this.ht=t):this.K=-2097153&this.K},t.prototype.at=function(){return 2097152==(2097152&this.K)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),s=r(null);e[" size"]=s[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var s="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(s)}return e}(t,r);return e.apply(t,this)}function s(t){return t[this]}function u(t){var n=+this;return n<0&&(n=_.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.J(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=u;else if(r){var e=(void 0)();n=null!==e?e:s}else n=s;return this.J(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=s.tryCatch,o=s.errorObj,h=n.ct;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.ft("cancellation is disabled");for(var t=this,n=t;t.vt();){if(!t.dt(n)){n._t()?n.wt().cancel():n.yt();break}var i=t.kt;if(null==i||!i.vt()){t._t()?t.wt().cancel():t.yt();break}t._t()&&t.wt().cancel(),t.pt(),n=t,t=i}},n.prototype.At=function(){this.bt--},n.prototype.Tt=function(){return void 0===this.bt||this.bt<=0},n.prototype.dt=function(t){return t===this?(this.bt=0,this.Et(),!0):(this.At(),!!this.Tt()&&(this.Et(),!0))},n.prototype.yt=function(){this.Tt()&&this.St()},n.prototype.St=function(){this.vt()&&(this.Rt(),h.invoke(this.It,this,void 0))},n.prototype.It=function(){this.Nt()>0&&this.j()},n.prototype.Ct=function(){this.Dt=void 0},n.prototype.vt=function(){return this.isPending()&&!this.Ot()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.xt=function(t,n){if(s.isArray(t))for(var i=0;i<t.length;++i)this.xt(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=u(t).call(this.et());r===o&&(this.Pt(r.e),h.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.Et=function(){var t=this.Bt();this.Ct(),h.invoke(this.xt,this,t)},n.prototype.Lt=function(){this.vt()&&(this.xt(this.Bt(),!0),this.Ct())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,s=i.errorObj;return function(t,u,o){return function(h){var a=o.et();t:for(var c=0;c<t.length;++c){var f=t[c];if(f===v||null!=f&&f.prototype instanceof v){if(h instanceof f)return e(u).call(a,h)}else if("function"==typeof f){var d=e(f).call(a,h);if(d===s)return d;if(d)return e(u).call(a,h)}else if(i.isObject(h)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=h[g])continue t}return e(u).call(a,h)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.Mt=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.Ut=function(){},t.prototype.Ft=function(){},t.prototype.Ht=function(){return null},t.Vt=t.prototype.Vt=function(){},r.prototype.Ft=function(){void 0!==this.Mt&&(this.Mt.Ut=null,i.push(this.Mt))},r.prototype.Ht=function(){if(void 0!==this.Mt){var t=i.pop(),n=t.Ut;return t.Ut=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ft,s=t.prototype.Ht,u=t.Vt,o=t.prototype.Vt,h=t.prototype.Ut;r.deactivateLongStackTraces=function(){t.prototype.Ft=i,t.prototype.Ht=s,t.Vt=u,t.prototype.Vt=o,t.prototype.Ut=h,n=!1},n=!0,t.prototype.Ft=r.prototype.Ft,t.prototype.Ht=r.prototype.Ht,t.Vt=t.prototype.Vt=e,t.prototype.Ut=function(){var t=this.Vt();t&&null==t.Ut&&(t.Ut=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,u,o=n.Xt,a=n.ct,c=t("./errors").Warning,f=t("./util"),_=t("./es5"),w=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,k=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.st();t.K=-1048577&t.K|524288},n.prototype.Wt=function(){if(0==(524288&this.K)){this.qt();var t=this;h(function(){t.zt()},1)}},n.prototype.Gt=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.jt=function(){this.K=268435456|this.K},n.prototype.Qt=function(){return 0!=(268435456&this.K)},n.prototype.zt=function(){if(this.Yt()){var t=this.Zt();this.Jt(),Z("unhandledRejection",e,t,this)}},n.prototype.Jt=function(){this.K=262144|this.K},n.prototype.$t=function(){this.K=-262145&this.K},n.prototype.Kt=function(){return(262144&this.K)>0},n.prototype.qt=function(){this.K=1048576|this.K},n.prototype.tn=function(){this.K=-1048577&this.K,this.Kt()&&(this.$t(),this.Gt())},n.prototype.Yt=function(){return(1048576&this.K)>0},n.prototype.ft=function(t,n,i){return G(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&$()){var t=n.prototype.nn,r=n.prototype.Pt,e=n.prototype.in;et.longStackTraces=!0,I=function(){if(a.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.nn=t,n.prototype.Pt=r,n.prototype.in=e,i.deactivateLongStackTraces(),a.enableTrampoline(),et.longStackTraces=!1},n.prototype.nn=W,n.prototype.Pt=q,n.prototype.in=z,i.activateLongStackTraces(),a.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&$()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=s.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),C=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(t,n){return{promise:n}}var O={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:D},x=function(t){var n=!1;try{n=C.apply(null,arguments)}catch(t){a.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){a.throwLater(t),i=!0}return i||n};function P(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+f.toString(t));r.rn(t)})}catch(t){return t}}function L(t){if(!this.vt())return this;var n=this.Bt();void 0!==n?f.isArray(n)?n.push(t):this.ot([n,t]):this.ot(t)}function M(){return this.Dt}function U(t){this.Dt=t}function F(){this.kt=void 0,this.Dt=void 0}function H(t,n){if(0!=(1&n)){this.kt=t;var i=t.bt;void 0===i&&(i=0),t.bt=i+1}0!=(2&n)&&t.at()&&this.ut(t.ht)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(a.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.sn=F,n.prototype.it=H,n.prototype.Bt=M,n.prototype.ot=U,n.prototype.rn=L,n.prototype.un=B,V=H,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.hn=x):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.hn=P)),n},n.prototype.hn=P,n.prototype.un=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.Bt=function(){},n.prototype.ot=function(t){},n.prototype.rn=function(t){},n.prototype.nn=function(){},n.prototype.Pt=function(){},n.prototype.in=function(){},n.prototype.sn=function(){},n.prototype.it=function(t,n){};var V=function(t,n){0!=(2&n)&&t.at()&&this.ut(t.ht)};function X(){var t=this.ht;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.Mt=new it(this.Vt())}function q(t,n){if(w(t)){var i=this.Mt;if(void 0!==i&&n&&(i=i.an),void 0!==i)i.attachExtraTrace(t);else if(!t.cn){var r=Q(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"cn",!0)}}}function z(){this.Mt=void 0}function G(t,i,r){if(et.warnings){var e,s=new c(t);if(i)r.Pt(s);else if(et.longStackTraces&&(e=n.Vt()))e.attachExtraTrace(s);else{var u=Q(s);s.stack=u.message+"\n"+u.stack.join("\n")}x("warning",s)||Y(s,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||p.test(r),s=e&&K(r);e&&!s&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Q(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||p.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Y(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof u?u(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){a.throwLater(t)}"unhandledRejection"===t?x(t,i,r)||e||Y(i,"Unhandled rejection "):x(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function $(){return"function"==typeof rt}var K=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:g(n[2],10)}}function it(t){this.an=t,this.fn=0;var n=this.Nt=1+(void 0===t?0:t.Nt);rt(this,it),n>32&&this.uncycle()}f.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.Nt;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.an;for(var r=(t=this.Nt=r)-1;r>=0;--r){var s=n[r].stack;void 0===i[s]&&(i[s]=r)}for(var r=0;r<t;++r){var u=n[r].stack,o=i[u];if(void 0!==o&&o!==r){o>0&&(n[o-1].an=void 0,n[o-1].Nt=1),n[r].an=void 0,n[r].Nt=1;var h=r>0?n[r-1]:this;o<t-1?(h.an=n[o+1],h.an.uncycle(),h.Nt=h.an.Nt+1):(h.an=void 0,h.Nt=1);for(var a=h.Nt+1,c=r-2;c>=0;--c)n[c].Nt=a,a++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.cn){this.uncycle();for(var n=Q(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.an;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,s=n[e],u=-1,o=r.length-1;o>=0;--o)if(r[o]===s){u=o;break}for(var o=u;o>=0;--o){var h=r[o];if(n[e]!==h)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"cn",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,p=t,A=n;var i=v.captureStackTrace;return K=function(t){return y.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,A=n,b=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(p=t,A=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(u=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?u=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new v).stack||(u=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return V},boundValueFunction:function(){return X},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Qt())return;if(0==(65535&r.K))return;i&&(i+=" ");var s="",u="";if(n.Mt){for(var o=n.Mt.stack.split("\n"),h=j(o),a=h.length-1;a>=0;--a){var c=h[a];if(!m.test(c)){var f=c.match(k);f&&(s="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(h.length>0)for(var v=h[0],a=0;a<o.length;++a)if(o[a]===v){a>0&&(u="\n"+o[a-1]);break}}var d="a promise was created in a "+i+"handler "+s+"but was not returned from it, see http://goo.gl/rRqMUw"+u;r.ft(d,!0,n)}},setBounds:function(t,n){if($()){for(var i,r,e=(t.stack||"").split("\n"),s=(n.stack||"").split("\n"),u=-1,o=-1,h=0;h<e.length;++h){var a=nt(e[h]);if(a){i=a.fileName,u=a.line;break}}for(var h=0;h<s.length;++h){var a=nt(s[h]);if(a){r=a.fileName,o=a.line;break}}u<0||o<0||!i||!r||i!==r||u>=o||(K=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&u<=n.line&&n.line<=o)})}},warn:G,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),G(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:C}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.J(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.J(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.J(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.J(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).J(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).J(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,s=t("./es5"),u=s.freeze,o=t("./util"),h=o.inherits,a=o.notEnumerableProp;function c(t,n){function i(r){if(!(this instanceof i))return new i(r);a(this,"message","string"==typeof r?r:n),a(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return h(i,v),i}var f=c("Warning","warning"),l=c("CancellationError","cancellation error"),_=c("TimeoutError","timeout error"),g=c("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=c("TypeError","type error"),e=c("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);s.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function k(t){if(!(this instanceof k))return new k(t);a(this,"name","OperationalError"),a(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(a(this,"message",t.message),a(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),s=0;s<e.length;++s)e[s]=t+e[s];r=e.join("\n"),n+=r+"\n"}return m--,n},h(k,v);var p=v.vn;p||(p=u({CancellationError:l,TimeoutError:_,OperationalError:k,RejectionError:k,AggregateError:g}),s.defineProperty(v,"vn",{value:p,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:p.CancellationError,OperationalError:p.OperationalError,TimeoutError:p.TimeoutError,AggregateError:p.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,s={}.toString,u={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===s.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return u}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.CancellationError,u=e.errorObj,o=t("./catch_filter")(r);function h(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function a(t){this.finallyHandler=t}function c(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Z(n):t.cancelPromise.St(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.st().Zt())}function v(t){if(!c(this,t))return u.e=t,u}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?o.call(e.et()):o.call(e.et(),t);if(h===r)return h;if(void 0!==h){e.jt();var d=i(h,e);if(d instanceof n){if(null!=this.cancelPromise){if(d.Ot()){var l=new s("late cancellation observer");return e.Pt(l),u.e=l,u}d.isPending()&&d.rn(new a(this))}return d.J(f,v,void 0,this,void 0)}}}return e.isRejected()?(c(this),u.e=t,u):(c(this),t)}return h.prototype.isFinallyHandler=function(){return 0===this.type},a.prototype._resultCancelled=function(){c(this.finallyHandler)},n.prototype.dn=function(t,n,i,r){return"function"!=typeof t?this.then():this.J(i,r,void 0,new h(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.dn(t,0,l,l)},n.prototype.tap=function(t){return this.dn(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.dn(t,1,void 0,l);var r,s=new Array(i-1),u=0;for(r=0;r<i-1;++r){var h=arguments[r];if(!e.isObject(h))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(h)));s[u++]=h}s.length=u;var a=arguments[r];return this.dn(o(s,a,this),1,void 0,l)},h}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./errors"),h=o.TypeError,a=t("./util"),c=a.errorObj,f=a.tryCatch,d=[];function _(t,i,e,s){if(u.cancellation()){var o=new n(r),h=this.ln=new n(r);this._n=o.lastly(function(){return h}),o.nn(),o.ot(this)}else{var a=this._n=new n(r);a.nn()}this.gn=s,this.wn=t,this.yn=i,this.mn=void 0,this.kn="function"==typeof e?[e].concat(d):d,this.pn=null,this.An=!1}a.inherits(_,s),_.prototype.bn=function(){return null===this._n},_.prototype.Tn=function(){this._n=this.mn=null,u.cancellation()&&null!==this.ln&&(this.ln.En(),this.ln=null)},_.prototype.Sn=function(){if(!this.bn()){var t,i=void 0!==this.mn.return;if(i)this._n.Ft(),t=f(this.mn.return).call(this.mn,void 0),this._n.Ht();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this._n.Pt(r),this._n.Ft(),t=f(this.mn.throw).call(this.mn,r),this._n.Ht()}this.An=!0,this.pn=null,this.Rn(t)}},_.prototype.In=function(t){this.pn=null,this._n.Ft();var n=f(this.mn.next).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype.Nn=function(t){this.pn=null,this._n.Pt(t),this._n.Ft();var n=f(this.mn.throw).call(this.mn,t);this._n.Ht(),this.Rn(n)},_.prototype._resultCancelled=function(){if(this.pn instanceof n){var t=this.pn;this.pn=null,t.cancel()}},_.prototype.promise=function(){return this._n},_.prototype.Cn=function(){this.mn=this.wn.call(this.yn),this.yn=this.wn=void 0,this.In(void 0)},_.prototype.Rn=function(t){var i=this._n;if(t===c)return this.Tn(),this.An?i.cancel():i.Dn(t.e,!1);var r=t.value;if(!0===t.done)return this.Tn(),this.An?i.cancel():i.nt(r);var s=e(r,this._n);if(s instanceof n||null!==(s=function(t,i,r){for(var s=0;s<i.length;++s){r.Ft();var u=f(i[s])(t);if(r.Ht(),u===c){r.Ft();var o=n.reject(c.e);return r.Ht(),o}var h=e(u,r);if(h instanceof n)return h}return null}(s,this.kn,this._n))){var u=(s=s.st()).K;0==(50397184&u)?(this.pn=s,s.On(this,null)):0!=(33554432&u)?n.ct.invoke(this.In,this,s.xn()):0!=(16777216&u)?n.ct.invoke(this.Nn,this,s.Pn()):this.Sn()}else this.Nn(new h("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.gn.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new h("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=_,e=(new v).stack;return function(){var n=t.apply(this,arguments),s=new r(void 0,void 0,i,e),u=s.promise();return s.mn=n,s.In(void 0),u}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new h("expecting a function but got "+a.classString(t));d.push(t)},n.spawn=function(t){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r.Cn(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch,c=h.errorObj,f=n.ct;function v(t,n,i,r){this.constructor$(t),this._n.nn();var e=o();this.Bn=null===e?n:h.domainBind(e,n),this.Ln=r===s?new Array(this.length()):null,this.Mn=i,this.Un=0,this.Fn=[],f.invoke(this.Hn,this,void 0)}function l(t,i,e,s){if("function"!=typeof i)return r("expecting a function but got "+h.classString(i));var u=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+h.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+h.classString(e.concurrency)));u=e.concurrency}return u="number"==typeof u&&isFinite(u)&&u>=1?u:0,new v(t,i,u,s).promise()}h.inherits(v,i),v.prototype.Hn=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.In=function(t,i){var r=this.Vn,s=this.length(),o=this.Ln,h=this.Mn;if(i<0){if(r[i=-1*i-1]=t,h>=1&&(this.Un--,this.Xn(),this.bn()))return!0}else{if(h>=1&&this.Un>=h)return r[i]=t,this.Fn.push(i),!1;null!==o&&(o[i]=t);var f=this._n,v=this.Bn,d=f.et();f.Ft();var l=a(v).call(d,t,i,s),_=f.Ht();if(u.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===c)return this.Z(l.e),!0;var g=e(l,this._n);if(g instanceof n){var w=(g=g.st()).K;if(0==(50397184&w))return h>=1&&this.Un++,r[i]=g,g.On(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Z(g.Pn()),!0):(this.St(),!0);l=g.xn()}r[i]=l}var y=++this.Wn;return y>=s&&(null!==o?this.qn(r,o):this.zn(r),!0)},v.prototype.Xn=function(){for(var t=this.Fn,n=this.Mn,i=this.Vn;t.length>0&&this.Un<n;){if(this.bn())return;var r=t.pop();this.In(i[r],r)}},v.prototype.qn=function(t,n){for(var i=n.length,r=new Array(i),e=0,s=0;s<i;++s)t[s]&&(r[e++]=n[s]);r.length=e,this.zn(r)},v.prototype.preservedValues=function(){return this.Ln},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util"),o=u.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+u.classString(t));return function(){var r=new n(i);r.nn(),r.Ft();var e=o(t).apply(this,arguments),u=r.Ht();return s.checkForgottenReturns(e,u,"Promise.method",r),r.Gn(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+u.classString(t));var r,h=new n(i);if(h.nn(),h.Ft(),arguments.length>1){s.deprecated("calling Promise.try with more than 1 argument");var a=arguments[1],c=arguments[2];r=u.isArray(a)?o(t).apply(c,a):o(t).call(c,a)}else r=o(t)();var f=h.Ht();return s.checkForgottenReturns(r,f,"Promise.try",h),h.Gn(r),h},n.prototype.Gn=function(t){t===u.errorObj?this.Dn(t.e,!1):this.nt(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,s=t("./errors"),u=s.OperationalError,o=t("./es5"),h=/^(?:name|message|stack|cause)$/;function a(t){var n;if(function(t){return t instanceof v&&o.getPrototypeOf(t)===v.prototype}(t)){(n=new u(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var s=i[e];h.test(s)||(n[s]=t[s])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var s=a(e(i));t.Pt(s),t.Z(s)}else if(n){var u=[].slice.call(arguments,1);t.En(u)}else t.En(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.ct,e=i.tryCatch,s=i.errorObj;function u(t,n){if(!i.isArray(t))return o.call(this,t,n);var u=e(n).apply(this.et(),[null].concat(t));u===s&&r.throwLater(u.e)}function o(t,n){var i=this.et(),u=void 0===t?e(n).call(i,null):e(n).call(i,null,t);u===s&&r.throwLater(u.e)}function h(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var u=e(n).call(this.et(),t);u===s&&r.throwLater(u.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&l(n).spread&&(i=u),this.J(i,h,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.st())},e=function(t){return N.reject(new d(t))};function s(){}var u,o={},h=t("./util");u=h.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},h.notEnumerableProp(N,"Xt",u);var a=t("./es5"),c=t("./async"),f=new c;a.defineProperty(N,"ct",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),k=t("./promise_array")(N,g,m,e,s),p=t("./context")(N),A=p.create,b=t("./debuggability")(N,p),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=h.errorObj,I=h.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+h.classString(n))}(this,t),this.K=0,this.jn=void 0,this.Qn=void 0,this.Yn=void 0,this.Zn=void 0,this.Jn(t),this.Ut(),this.hn("promiseCreated",this)}function C(t){this.promise.nt(t)}function D(t){this.promise.Dn(t,!1)}function O(t){var n=new N(g);n.jn=t,n.Qn=t,n.Yn=t,n.Zn=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),s=0;for(i=0;i<n-1;++i){var u=arguments[i];if(!h.isObject(u))return e("Catch statement predicate: expecting an object but got "+h.classString(u));r[s++]=u}if(r.length=s,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+h.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.J(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+h.classString(t);arguments.length>1&&(i+=", "+h.classString(n)),this.ft(i)}return this.J(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.J(t,n,void 0,void 0,void 0);i.$n()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+h.classString(t)):this.all().J(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.ft(".all() was passed arguments but it does not take any"),new k(this).promise()},N.prototype.error=function(t){return this.caught(h.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.nn();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.Dn(r.e,!0),n.Kn()||n.ti(),n},N.all=function(t){return new k(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).nn(),n.ni(),n.Qn=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.nn(),n.Dn(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+h.classString(t));return f.setScheduler(t)},N.prototype.J=function(t,n,i,r,e){var s=void 0!==e,o=s?e:new N(g),a=this.st(),c=a.K;s||(o.it(this,3),o.nn(),void 0===r&&0!=(2097152&this.K)&&(r=0!=(50397184&c)?this.et():a===this?void 0:this.ht),this.hn("promiseChained",this,o));var v=u();if(0!=(50397184&c)){var d,l,w=a.ii;0!=(33554432&c)?(l=a.Qn,d=t):0!=(16777216&c)?(l=a.jn,d=n,a.tn()):(w=a.ri,l=new _("late cancellation observer"),a.Pt(l),d=n),f.invoke(w,a,{handler:null===v?d:"function"==typeof d&&h.domainBind(v,d),promise:o,receiver:r,value:l})}else a.ei(t,n,o,r,v);return o},N.prototype.Nt=function(){return 65535&this.K},N.prototype.Kn=function(){return 0!=(117506048&this.K)},N.prototype._t=function(){return 67108864==(67108864&this.K)},N.prototype.si=function(t){this.K=-65536&this.K|65535&t},N.prototype.ni=function(){this.K=33554432|this.K,this.hn("promiseFulfilled",this)},N.prototype.ui=function(){this.K=16777216|this.K,this.hn("promiseRejected",this)},N.prototype.oi=function(){this.K=67108864|this.K,this.hn("promiseResolved",this)},N.prototype.$n=function(){this.K=4194304|this.K},N.prototype.hi=function(){return(4194304&this.K)>0},N.prototype.ai=function(){this.K=-65537&this.K},N.prototype.Rt=function(){this.K=65536|this.K,this.hn("promiseCancelled",this)},N.prototype.pt=function(){this.K=8388608|this.K},N.prototype.ti=function(){f.hasCustomScheduler()||(this.K=134217728|this.K)},N.prototype.ci=function(t){var n=0===t?this.Zn:this[4*t-4+3];if(n!==o)return void 0===n&&this.at()?this.et():n},N.prototype.fi=function(t){return this[4*t-4+2]},N.prototype.vi=function(t){return this[4*t-4+0]},N.prototype.di=function(t){return this[4*t-4+1]},N.prototype.et=function(){},N.prototype.li=function(t){t.K;var n=t.jn,i=t.Qn,r=t.Yn,e=t.ci(0);void 0===e&&(e=o),this.ei(n,i,r,e,null)},N.prototype._i=function(t,n){var i=t.vi(n),r=t.di(n),e=t.fi(n),s=t.ci(n);void 0===s&&(s=o),this.ei(i,r,e,s,null)},N.prototype.ei=function(t,n,i,r,e){var s=this.Nt();if(s>=65531&&(s=0,this.si(0)),0===s)this.Yn=i,this.Zn=r,"function"==typeof t&&(this.jn=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this.Qn=null===e?n:h.domainBind(e,n));else{var u=4*s-4;this[u+2]=i,this[u+3]=r,"function"==typeof t&&(this[u+0]=null===e?t:h.domainBind(e,t)),"function"==typeof n&&(this[u+1]=null===e?n:h.domainBind(e,n))}return this.si(s+1),s},N.prototype.On=function(t,n){this.ei(void 0,void 0,n,t,null)},N.prototype.nt=function(t,n){if(0==(117506048&this.K)){if(t===this)return this.Dn(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.En(t);n&&this.it(r,2);var e=r.st();if(e!==this){var s=e.K;if(0==(50397184&s)){var u=this.Nt();u>0&&e.li(this);for(var o=1;o<u;++o)e._i(this,o);this.oi(),this.si(0),this.gi(e)}else if(0!=(33554432&s))this.En(e.xn());else if(0!=(16777216&s))this.Z(e.Pn());else{var h=new _("late cancellation observer");e.Pt(h),this.Z(h)}}else this.Z(i())}},N.prototype.Dn=function(t,n,i){var r=h.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var s="a promise was rejected with a non-error: "+h.classString(t);this.ft(s,!0)}this.Pt(r,!!n&&e),this.Z(t)},N.prototype.Jn=function(t){if(t!==g){var n=this;this.nn(),this.Ft();var i=!0,r=this.un(t,function(t){n.nt(t)},function(t){n.Dn(t,i)});i=!1,this.Ht(),void 0!==r&&n.Dn(r,!0)}},N.prototype.wi=function(t,n,i,r){var e=r.K;if(0==(65536&e)){var s;r.Ft(),n===w?i&&"number"==typeof i.length?s=I(t).apply(this.et(),i):(s=R).e=new d("cannot .spread() a non-array: "+h.classString(i)):s=I(t).call(n,i);var u=r.Ht();0==(65536&(e=r.K))&&(s===y?r.Z(i):s===R?r.Dn(s.e,!1):(b.checkForgottenReturns(s,u,"",r,this),r.nt(s)))}},N.prototype.st=function(){for(var t=this;t._t();)t=t.wt();return t},N.prototype.wt=function(){return this.Qn},N.prototype.gi=function(t){this.Qn=t},N.prototype.yi=function(t,n,i,e){var u=t instanceof N,o=this.K,h=0!=(134217728&o);0!=(65536&o)?(u&&t.Lt(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Z(R.e)):n===r?t.En(r.call(i)):i instanceof s?i.Sn(t):u||t instanceof k?t.St():i.cancel()):"function"==typeof n?u?(h&&t.ti(),this.wi(n,i,e,t)):n.call(i,e,t):i instanceof s?i.bn()||(0!=(33554432&o)?i.In(e,t):i.Nn(e,t)):u&&(h&&t.ti(),0!=(33554432&o)?t.En(e):t.Z(e))},N.prototype.ri=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.wi(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Z(e)},N.prototype.ii=function(t){this.yi(t.promise,t.handler,t.receiver,t.value)},N.prototype.mi=function(t,n,i){var r=this.Yn,e=this.ci(0);this.Yn=void 0,this.Zn=void 0,this.yi(r,t,e,n)},N.prototype.ki=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.En=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.Pt(r),this.Z(r)}this.ni(),this.Qn=t,(65535&n)>0&&(0!=(134217728&n)?this.j():f.settlePromises(this),this.in())}},N.prototype.Z=function(t){var n=this.K;if(!((117506048&n)>>>16)){if(this.ui(),this.jn=t,this.hi())return f.fatalError(t,h.isNode);(65535&n)>0?f.settlePromises(this):this.Wt()}},N.prototype.pi=function(t,n){for(var i=1;i<t;i++){var r=this.vi(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.Ai=function(t,n){for(var i=1;i<t;i++){var r=this.di(i),e=this.fi(i),s=this.ci(i);this.ki(i),this.yi(e,r,s,n)}},N.prototype.j=function(){var t=this.K,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.jn;this.mi(this.Qn,i,t),this.Ai(n,i)}else{var r=this.Qn;this.mi(this.jn,r,t),this.pi(n,r)}this.si(0)}this.sn()},N.prototype.Zt=function(){var t=this.K;return 0!=(33554432&t)?this.Qn:0!=(16777216&t)?this.jn:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&a.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:C,reject:D}},h.notEnumerableProp(N,"bi",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,k,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,k,m,g,f,u),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,s,b),t("./map.js")(N,k,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,k,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,k,e,m,g,b),t("./settle.js")(N,k,b),t("./some.js")(N,k,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),h.toFastProperties(N),h.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(c.firstLineError,h.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,s){var u=t("./util");function o(t){var r=this._n=new n(i);t instanceof n&&r.it(t,3),r.ot(this),this.Vn=t,this.Nt=0,this.Wn=0,this._init(void 0,-2)}return u.isArray,u.inherits(o,s),o.prototype.length=function(){return this.Nt},o.prototype.promise=function(){return this._n},o.prototype._init=function t(i,s){var o=r(this.Vn,this._n);if(o instanceof n){var h=(o=o.st()).K;if(this.Vn=o,0==(50397184&h))return this._n.ti(),o.J(t,this.Z,void 0,this,s);if(0==(33554432&h))return 0!=(16777216&h)?this.Z(o.Pn()):this.St();o=o.xn()}if(null!==(o=u.asArray(o)))0!==o.length?this.Ti(o):-5===s?this.Ei():this.zn(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(s));else{var a=e("expecting an array or an iterable object but got "+u.classString(o)).reason();this._n.Dn(a,!1)}},o.prototype.Ti=function(t){var i=this.getActualLength(t.length);this.Nt=i,this.Vn=this.shouldCopyValues()?new Array(i):this.Vn;for(var e=this._n,s=!1,u=null,o=0;o<i;++o){var h=r(t[o],e);h instanceof n?(h=h.st(),u=h.K):u=null,s?null!==u&&h.suppressUnhandledRejections():null!==u?0==(50397184&u)?(h.On(this,o),this.Vn[o]=h):s=0!=(33554432&u)?this.In(h.xn(),o):0!=(16777216&u)?this.Nn(h.Pn(),o):this.Sn(o):s=this.In(h,o)}s||e.ti()},o.prototype.bn=function(){return null===this.Vn},o.prototype.zn=function(t){this.Vn=null,this._n.En(t)},o.prototype.St=function(){!this.bn()&&this._n.vt()&&(this.Vn=null,this._n.St())},o.prototype.Z=function(t){this.Vn=null,this._n.Dn(t,!1)},o.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},o.prototype.Sn=function(){return this.St(),!0},o.prototype.Nn=function(t){return this.Wn++,this.Z(t),!0},o.prototype._resultCancelled=function(){if(!this.bn()){var t=this.Vn;if(this.St(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),s=t("./nodeback"),u=e.withAppended,o=e.maybeWrapAsError,h=e.canEvaluate,a=t("./errors").TypeError,c={Si:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","Si"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function _(t){try{return!0===t.Si}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,c);return!!r&&_(r)}function w(t,n,i,r){for(var s=e.inheritedDataKeys(t),u=[],o=0;o<s.length;++o){var h=s[o],c=t[h],f=r===v||v(h);"function"!=typeof c||_(c)||g(t,h,n)||!r(h,c,t,f)||u.push(h,c)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var s=e.replace(i,""),u=0;u<t.length;u+=2)if(t[u]===s)throw new a("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(u,n,i),u}var y=function(t){return t.replace(/([$])/,"\\$")},m=h?void 0:function(t,h,a,c,f,v){var d=function(){return this}(),l=t;function _(){var e=h;h===r&&(e=this);var a=new n(i);a.nn();var c="string"==typeof l&&this!==d?this[l]:t,f=s(a,v);try{c.apply(e,u(arguments,f))}catch(t){a.Dn(o(t),!0,!0)}return a.Kn()||a.ti(),a}return"string"==typeof l&&(t=c),e.notEnumerableProp(_,"Si",!0),_};function k(t,n,i,s,u){for(var o=new RegExp(y(n)+"$"),h=w(t,n,o,i),a=0,c=h.length;a<c;a+=2){var f=h[a],v=h[a+1],d=f+n;if(s===m)t[d]=m(f,r,f,v,n,u);else{var l=s(v,function(){return m(f,r,f,v,n,u)});e.notEnumerableProp(l,"Si",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new a("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=l(n)).context?r:n.context,s=!!n.multiArgs,u=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,s);return e.copyDescriptors(t,u,d),u},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new a("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var s=n.filter;"function"!=typeof s&&(s=v);var u=n.promisifier;if("function"!=typeof u&&(u=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),h=0;h<o.length;++h){var c=t[o[h]];"constructor"!==o[h]&&e.isClass(c)&&(k(c.prototype,r,s,u,i),k(c,r,s,u,i))}return k(t,r,s,u,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var s,u=t("./util"),o=u.isObject,h=t("./es5");"function"==typeof Map&&(s=Map);var a=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function c(t){var n,i=!1;if(void 0!==s&&t instanceof s)n=a(t),i=!0;else{var r=h.keys(t),e=r.length;n=new Array(2*e);for(var u=0;u<e;++u){var o=r[u];n[u]=t[o],n[u+e]=o}}this.constructor$(n),this.Ri=i,this._init$(void 0,i?-6:-3)}function f(t){var i,s=r(t);return o(s)?(i=s instanceof n?s.J(n.props,void 0,void 0,void 0,void 0):new c(s).promise(),s instanceof n&&i.it(s,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}u.inherits(c,i),c.prototype._init=function(){},c.prototype.In=function(t,n){this.Vn[n]=t;var i=++this.Wn;if(i>=this.Nt){var r;if(this.Ri)r=function(t){for(var n=new s,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],u=t[r];n.set(e,u)}return n}(this.Vn);else{r={};for(var e=this.length(),u=0,o=this.length();u<o;++u)r[this.Vn[u+e]]=this.Vn[u]}return this.zn(r),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.Ii=t,this.Nt=0,this.Ni=0}r.prototype.Ci=function(t){return this.Ii<t},r.prototype.G=function(t){var n=this.length();this.Di(n+1);var i=this.Ni+n&this.Ii-1;this[i]=t,this.Nt=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.Ci(r))return this.G(t),this.G(n),void this.G(i);var e=this.Ni+r-3;this.Di(r);var s=this.Ii-1;this[e+0&s]=t,this[e+1&s]=n,this[e+2&s]=i,this.Nt=r},r.prototype.shift=function(){var t=this.Ni,n=this[t];return this[t]=void 0,this.Ni=t+1&this.Ii-1,this.Nt--,n},r.prototype.length=function(){return this.Nt},r.prototype.Di=function(t){this.Ii<t&&this.Oi(this.Ii<<1)},r.prototype.Oi=function(t){var n=this.Ii;this.Ii=t;var i=this.Ni,r=this.Nt,e=i+r&n-1;!function(t,n,i,r,e){for(var s=0;s<e;++s)i[s+r]=t[s+n],t[s+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var s=t("./util"),u=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var h=r(t);if(h instanceof n)return u(h);if(null===(t=s.asArray(t)))return e("expecting an array or an iterable object but got "+s.classString(t));var a=new n(i);void 0!==o&&a.it(o,3);for(var c=a.En,f=a.Z,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).J(c,f,void 0,a,null)}return a}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=n.Xt,h=t("./util"),a=h.tryCatch;function c(t,i,r,e){this.constructor$(t);var u=o();this.xi=null===u?i:h.domainBind(u,i),void 0!==r&&(r=n.resolve(r)).rn(this),this.Pi=r,this.Bi=null,this.Li=e===s?Array(this.Nt):0===e?null:void 0,this._n.nn(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.zn(t):n.Z(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+h.classString(n));var s=new c(t,n,i,e);return s.promise()}function d(t){this.accum=t,this.array.Mi(t);var i=e(this.value,this.array._n);return i instanceof n?(this.array.Bi=i,i.J(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r._n,s=a(r.xi);e.Ft(),(i=void 0!==r.Li?s.call(e.et(),t,this.index,this.length):s.call(e.et(),this.accum,t,this.index,this.length))instanceof n&&(r.Bi=i);var o=e.Ht();return u.checkForgottenReturns(i,o,void 0!==r.Li?"Promise.each":"Promise.reduce",e),i}h.inherits(c,i),c.prototype.Mi=function(t){void 0!==this.Li&&null!==this.Li&&t!==s&&this.Li.push(t)},c.prototype.Ui=function(t){return null!==this.Li&&this.Li.push(t),this.Li},c.prototype._init=function(){},c.prototype.Ei=function(){this.zn(void 0!==this.Li?this.Li:this.Pi)},c.prototype.shouldCopyValues=function(){return!1},c.prototype.zn=function(t){this._n.nt(t),this.Vn=null},c.prototype._resultCancelled=function(t){if(t===this.Pi)return this.St();this.bn()||(this._resultCancelled$(),this.Bi instanceof n&&this.Bi.cancel(),this.Pi instanceof n&&this.Pi.cancel())},c.prototype.Ti=function(t){var i,r;this.Vn=t;var e=t.length;if(void 0!==this.Pi?(i=this.Pi,r=0):(i=n.resolve(t[0]),r=1),this.Bi=i,!i.isRejected())for(;r<e;++r){var s={accum:null,value:t[r],index:r,length:e,array:this};i=i.J(d,void 0,void 0,s,void 0)}void 0!==this.Li&&(i=i.J(this.Ui,void 0,void 0,this,void 0)),i.J(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,u,o,a,c,f=t("./util"),d=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=A.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(A,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in s.documentElement?(u=s.createElement("div"),o={attributes:!0},a=!1,c=s.createElement("div"),new MutationObserver(function(){u.classList.toggle("foo"),a=!1}).observe(c,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(u,o),a||(a=!0,c.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==h?function(t){h(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,s=t("./util");function u(t){this.constructor$(t)}s.inherits(u,i),u.prototype.Fi=function(t,n){this.Vn[t]=n;var i=++this.Wn;return i>=this.Nt&&(this.zn(this.Vn),!0)},u.prototype.In=function(t,n){var i=new e;return i.K=33554432,i.Hi=t,this.Fi(n,i)},u.prototype.Nn=function(t,n){var i=new e;return i.K=16777216,i.Hi=t,this.Fi(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new u(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=t("./errors").RangeError,u=t("./errors").AggregateError,o=e.isArray,h={};function a(t){this.constructor$(t),this.Vi=0,this.Xi=!1,this.Wi=!1}function c(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new a(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(a,i),a.prototype._init=function(){if(this.Wi)if(0!==this.Vi){this._init$(void 0,-5);var t=o(this.Vn);!this.bn()&&t&&this.Vi>this.qi()&&this.Z(this.zi(this.length()))}else this.zn([])},a.prototype.init=function(){this.Wi=!0,this._init()},a.prototype.setUnwrap=function(){this.Xi=!0},a.prototype.howMany=function(){return this.Vi},a.prototype.setHowMany=function(t){this.Vi=t},a.prototype.In=function(t){return this.Gi(t),this.ji()===this.howMany()&&(this.Vn.length=this.howMany(),1===this.howMany()&&this.Xi?this.zn(this.Vn[0]):this.zn(this.Vn),!0)},a.prototype.Nn=function(t){return this.Qi(t),this.Yi()},a.prototype.Sn=function(){return this.Vn instanceof n||null==this.Vn?this.St():(this.Qi(h),this.Yi())},a.prototype.Yi=function(){if(this.howMany()>this.qi()){for(var t=new u,n=this.length();n<this.Vn.length;++n)this.Vn[n]!==h&&t.push(this.Vn[n]);return t.length>0?this.Z(t):this.St(),!0}return!1},a.prototype.ji=function(){return this.Wn},a.prototype.Zi=function(){return this.Vn.length-this.length()},a.prototype.Qi=function(t){this.Vn.push(t)},a.prototype.Gi=function(t){this.Vn[this.Wn++]=t},a.prototype.qi=function(){return this.length()-this.Zi()},a.prototype.zi=function(t){var n="Input array must contain at least "+this.Vi+" items but contains only "+t+" items";return new s(n)},a.prototype.Ei=function(){this.Z(this.zi(0))},n.some=function(t,n){return c(t,n)},n.prototype.some=function(t){return c(this,t)},n.l=a}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.st(),this.K=t.K,this.Hi=t.Kn()?t.Zt():void 0):(this.K=0,this.Hi=void 0)}n.prototype.Zt=function(){return this.Hi};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Zt()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.K)},s=n.prototype.isRejected=function(){return 0!=(16777216&this.K)},u=n.prototype.isPending=function(){return 0==(50397184&this.K)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.K)};n.prototype.isCancelled=function(){return 0!=(8454144&this.K)},t.prototype.Ji=function(){return 65536==(65536&this.K)},t.prototype.Ot=function(){return this.st().Ji()},t.prototype.isCancelled=function(){return 0!=(8454144&this.st().K)},t.prototype.isPending=function(){return u.call(this.st())},t.prototype.isRejected=function(){return s.call(this.st())},t.prototype.isFulfilled=function(){return e.call(this.st())},t.prototype.isResolved=function(){return o.call(this.st())},t.prototype.value=function(){return i.call(this.st())},t.prototype.reason=function(){var t=this.st();return t.tn(),r.call(t)},t.prototype.xn=function(){return this.Zt()},t.prototype.Pn=function(){return this.tn(),this.Zt()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,s=r.isObject,u={}.hasOwnProperty;return function(t,o){if(s(t)){if(t instanceof n)return t;var h=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(h===e){o&&o.Ft();var a=n.reject(h.e);return o&&o.Ht(),a}if("function"==typeof h){if(function(t){try{return u.call(t,"Yn")}catch(t){return!1}}(t)){var a=new n(i);return t.J(a.En,a.Z,void 0,a,null),a}return function(t,s,u){var o=new n(i),h=o;u&&u.Ft(),o.nn(),u&&u.Ht();var a=!0,c=r.tryCatch(s).call(t,function(t){o&&(o.nt(t),o=null)},function(t){o&&(o.Dn(t,a,!0),o=null)});return a=!1,o&&c===e&&(o.Dn(c.e,!0,!0),o=null),h}(t,h,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),s=n.TimeoutError;function u(t){this.handle=t}u.prototype._resultCancelled=function(){a(this.handle)};var o=function(t){return c(+this).thenReturn(t)},c=n.delay=function(t,e){var s,a;return void 0!==e?(s=n.resolve(e).J(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&s.ot(e)):(s=new n(i),a=h(function(){s.En()},+t),r.cancellation()&&s.ot(new u(a)),s.nn()),s.ti(),s};function f(t){return a(this.handle),t}function d(t){throw a(this.handle),t}n.prototype.delay=function(t){return c(t,this)},n.prototype.timeout=function(t,n){var i,o,a=new u(h(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new s("operation timed out"):new s(n),e.markAsOriginatingFromRejection(r),t.Pt(r),t.Z(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.J(f,d,void 0,a,void 0)).ot(a)):i=this.J(f,d,void 0,a,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,s,u){var o=t("./util"),a=t("./errors").TypeError,c=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){h(function(){throw t},0)}function _(t,i){var e=0,u=t.length,o=new n(s);return function s(){if(e>=u)return o.En();var h=function(t){var n=r(t);return n!==t&&"function"==typeof t.$i&&"function"==typeof t.Ki&&t.$i()&&n.tr(t.Ki()),n}(t[e++]);if(h instanceof n&&h.$i()){try{h=r(h.Ki().tryDispose(i),t.promise)}catch(t){return l(t)}if(h instanceof n)return h.J(s,l,null,null,null)}s()}(),o}function g(t,n,i){this.nr=t,this._n=n,this.ir=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].tr(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.nr},g.prototype.promise=function(){return this._n},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.ir;void 0!==i&&i.Ft();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.Ht(),this._n.rr(),this.nr=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,s=arguments[t-1];if("function"!=typeof s)return i("expecting a function but got "+o.classString(s));var h=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,h=!1):(e=arguments,t--);for(var a=new m(t),c=0;c<t;++c){var d=e[c];if(g.isDisposer(d)){var l=d;(d=d.promise()).tr(l)}else{var w=r(d);w instanceof n&&(d=w.J(y,null,null,{resources:a,index:c},void 0))}a[c]=d}for(var k=new Array(a.length),c=0;c<k.length;++c)k[c]=n.resolve(a[c]).reflect();var p=n.all(k).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void p.cancel();t[n]=i.value()}A.Ft(),s=v(s);var r=h?s.apply(void 0,t):s(t),e=A.Ht();return u.checkForgottenReturns(r,e,"Promise.using",A),r}),A=p.lastly(function(){var t=new n.PromiseInspection(p);return _(a,t)});return a.promise=A,A.ot(a),A},n.prototype.tr=function(t){this.K=131072|this.K,this.er=t},n.prototype.$i=function(){return(131072&this.K)>0},n.prototype.Ki=function(){return this.er},n.prototype.rr=function(){this.K=-131073&this.K,this.er=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new a}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var s,u=n("./es5"),h=void 0===o,a={e:{}},c=void 0!==t?t:void 0!==e?e:void 0!==A?A:void 0!==this?this:null;function f(){try{var t=s;return s=null,t.apply(this,arguments)}catch(t){return a.e=t,a}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return u.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(u.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var s;try{s=i(t)}catch(t){return r}for(var o=0;o<s.length;++o){var h=s[o];if(!e[h]){e[h]=!0;var a=l.getOwnPropertyDescriptor(t,h);null!=a&&null==a.get&&null==a.set&&r.push(h)}}t=u.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var s in i)if(r.call(i,s))e.push(s);else{for(var u=0;u<t.length;++u)if(r.call(t[u],s))continue t;e.push(s)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function k(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function p(t){return k(t)&&u.propertyIsWritable(t,"stack")}var b="stack"in new v?function(t){return p(t)?t:new v(m(t))}:function(t){if(p(t))return t;try{throw new v(m(t))}catch(t){return t}};function T(t){return{}.toString.call(t)}var E=function(t){return u.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};E=function(t){return u.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?S(t):null}}var R,I="undefined"!=typeof process&&"[object process]"===T(process).toLowerCase(),N="undefined"!=typeof process&&void 0!==process.env,C={isClass:function(t){try{if("function"==typeof t){var n=u.names(t.prototype),i=u.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&u.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!u.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:u.isArray,asArray:E,notEnumerableProp:_,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:k,canEvaluate:h,errorObj:a,tryCatch:function(t){return s=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:p,ensureErrorObject:b,originatesFromRejection:function(t){return null!=t&&(t instanceof v.vn.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:T,copyDescriptors:function(t,n,i){for(var r=u.names(t),e=0;e<r.length;++e){var s=r[e];if(i(s))try{u.defineProperty(n,s,u.getDescriptor(t,s))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:I,hasEnvVariables:N,env:function(t){return N?process.env[t]:void 0},global:c,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};C.isRecentNode=C.isNode&&(process.versions&&process.versions.node?R=process.versions.node.split(".").map(Number):process.version&&(R=process.version.split(".").map(Number)),0===R[0]&&R[1]>10||R[0]>0),C.isNode&&C.toFastProperties(process);try{throw new v}catch(t){C.lastLineError=t}i.exports=C},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});var S,R=function(){},I=function(t){return t};function N(t,n,i){var r;return function(){for(var e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];var o=this,h=i&&!r;void 0!==r&&T.sr(r),r=T.ur(function(){r=void 0,i||t.apply(o,s)},n),h&&t.apply(o,s)}}(S=E)&&S.config({warnings:!1,longStackTraces:!1});var C,D,O,x,P,B;S&&(x=S.setScheduler(R),C=x,P={hr:function(t){D=t,C(O)},ar:O=function(){var t=D;t&&(D=void 0,t())}},S.setScheduler(P.hr));function L(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function M(t,n,i){return n&&L(t.prototype,n),i&&L(t,i),t}function U(t,n){return(U=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function F(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,U(t,n)}!function(t){t.cr="web",t.dr="android",t._r="android-tv",t.gr="ios",t.wr="tvos",t.yr="chromecast"}(B||(B={}));var H=o?o.userAgent:"",V=H.match(/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i),X=H.match(/Android ([0-9\.]+)/i),W=H.match(/Windows NT ([0-9\.]+)/i),q=H.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),z=H.match(/Firefox\/([0-9\.]+)/i),G=H.match(/OPR\/(\d+\.\d+)/i),j=H.match(/Tizen ([0-9\.]+)/i),Q=function(){function n(){this.mr=Boolean("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.kr=/(mac\sos\sx)\s?([\w\s\.]+\w)*/i.test(H)||/(macintosh|mac(?=_powerpc)\s)/i.test(H),this.pr=/Windows NT/i.test(H),this.Ar=W?w(W[1]):0,this.Tr=/Android/i.test(H),this.Er=X?w(X[1]):0,this.Sr=/windows phone (8|8\.1)/i.test(H),this.Rr=/iPhone/i.test(H),this.Ir=/iPad/i.test(H),this.Nr=this.kr&&this.mr&&!this.Ir,this.Cr=/iPod/i.test(H),this.Dr=/Mobile Safari/i.test(H),this.Or=(this.Rr||this.Ir||this.Nr||this.Cr)&&!this.Sr,this.xr=this.Sr||this.Or||this.Tr||this.Dr,this.Pr=/CriOS/i.test(H),this.Br=Boolean(t.chrome&&/google/i.test(o.vendor))||this.Pr,this.Lr=Boolean(t.chrome||/Chrome/i.test(H)||/CriOS/i.test(H)),this.Mr=V?g(V[1],10):0,this.Ur=/SMART-TV.*Tizen/i.test(H),this.Fr=j?w(j[1]):0,this.Hr=/webos|web0s/i.test(H),this.Vr=/Edge\/\d+/i.test(H),this.Xr=/Trident/i.test(H),this.Wr=this.Xr&&!t.ActiveXObject&&"ActiveXObject"in t,this.qr=/Vivaldi/i.test(H),this.zr=/Firefox/i.test(H)&&!/Seamonkey/i.test(H),this.Gr=z?w(z[1]):0,this.jr=/Safari/i.test(H)&&!/Chrome/i.test(H)&&!this.Sr&&!this.Ur,this.Qr=q?w(q[2]):0,this.Yr=Boolean(G),this.Zr=G?w(G[1]):0,this.Jr=/CrKey/.test(H),this.$r=/\b(tv|smart-tv|smarttv|appletv|crkey|googletv|hbbtv|pov_tv|roku|viera|nettv|philipstv)\b/i.test(H),this.Kr="ios"===B._r,this.te="ios"===B.dr,this.ie=this.te||this.Kr,this.re="ios"===B.gr,this.ee="ios"===B.wr,this.se="ios"===B.yr}return M(n,[{key:"ue",get:function(){return this.mr}},{key:"oe",get:function(){return this.kr}},{key:"he",get:function(){return this.pr}},{key:"ae",get:function(){return this.Ar}},{key:"ce",get:function(){return this.Tr}},{key:"fe",get:function(){return this.Er}},{key:"ve",get:function(){return this.Sr}},{key:"de",get:function(){return this.Rr}},{key:"_e",get:function(){return this.Ir}},{key:"we",get:function(){return this.Nr}},{key:"ye",get:function(){return this.Cr}},{key:"me",get:function(){return this.Or}},{key:"ke",get:function(){return this.Dr}},{key:"pe",get:function(){return this.xr}},{key:"Ae",get:function(){return this.Pr}},{key:"be",get:function(){return this.Br}},{key:"Te",get:function(){return this.Mr}},{key:"Ee",get:function(){return this.Ur}},{key:"Se",get:function(){return this.Fr}},{key:"Re",get:function(){return this.Hr}},{key:"Ie",get:function(){return this.Vr}},{key:"Ne",get:function(){return this.Xr}},{key:"Ce",get:function(){return this.Wr}},{key:"De",get:function(){return this.qr}},{key:"Oe",get:function(){return this.zr}},{key:"xe",get:function(){return this.Gr}},{key:"Pe",get:function(){return this.jr}},{key:"Be",get:function(){return this.Qr}},{key:"Le",get:function(){return this.Yr}},{key:"Me",get:function(){return this.Zr}},{key:"Ue",get:function(){return this.Jr}},{key:"Fe",get:function(){return this.$r}},{key:"He",get:function(){return this.Kr}},{key:"Ve",get:function(){return this.te}},{key:"Xe",get:function(){return this.ie}},{key:"We",get:function(){return this.re}},{key:"qe",get:function(){return this.ee}},{key:"ze",get:function(){return this.se}},{key:"Ge",get:function(){return this.Lr}}]),n}();Q.je=new Q;var Y=Q.je,Z={}.hasOwnProperty,J={}.toString;function $(t){return null!=t}var K=Array.isArray||function(t){return"[object Array]"===J.call(t)};function tt(t){return nt(t)&&Z.call(t,"length")&&ot(t.length)}function nt(t){return"object"==typeof t&&null!==t}function it(t){return nt(t)&&t.constructor&&t.constructor===l}function rt(t){return"string"==typeof t}function et(t){return"boolean"==typeof t}function st(t){return Boolean(t)&&"function"==typeof t.then}function ut(t){return"[object Date]"===J.call(t)}function ot(t){return"number"==typeof t}var ht=!(Y.Ne&&!Y.Ce),at=t.console;function ct(t){if(nt(t))try{return JSON.stringify(t)}catch(t){}return t}function ft(t){return t.map(ct).join(" ")}function vt(t){var n=at&&at[t];return n?n.bind&&ht?n.bind(at):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];at[t](ft(i))}:void 0}var dt,lt=vt("log")||R,_t=vt("warn")||lt.bind(void 0,"WARNING:"),gt=vt("error")||lt.bind(void 0,"ERROR:"),wt=(dt=at&&at.assert)?dt.bind&&ht?dt.bind(at):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];at.assert(t,ft(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];gt.apply(void 0,["Assertion failed:"].concat(i))}},yt=kt,mt=null;try{mt=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function kt(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function pt(t){return!0===(t&&t.Qe)}kt.prototype.Qe,l.defineProperty(kt.prototype,"Qe",{value:!0}),kt.isLong=pt;var At={},bt={};function Tt(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=bt[t])?r:(i=St(t,(0|t)<0?-1:0,!0),e&&(bt[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=At[t])?r:(i=St(t,t<0?-1:0,!1),e&&(At[t]=i),i)}function Et(t,n){if(y(t))return n?Bt:Pt;if(n){if(t<0)return Bt;if(t>=Dt)return Ht}else{if(t<=-Ot)return Vt;if(t+1>=Ot)return Ft}return t<0?Et(-t,n).neg():St(t%Ct|0,t/Ct|0,n)}function St(t,n,i){return new kt(t,n,i)}kt.fromInt=Tt,kt.fromNumber=Et,kt.fromBits=St;var Rt=_.pow;function It(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Pt;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return It(t.substring(1),n,i).neg();for(var e=Et(Rt(i,8)),s=Pt,u=0;u<t.length;u+=8){var o=_.min(8,t.length-u),h=g(t.substring(u,u+o),i);if(o<8){var a=Et(Rt(i,o));s=s.mul(a).add(Et(h))}else s=(s=s.mul(e)).add(Et(h))}return s.unsigned=n,s}function Nt(t,n){return"number"==typeof t?Et(t,n):"string"==typeof t?It(t,n):St(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}kt.fromString=It,kt.fromValue=Nt;var Ct=4294967296,Dt=Ct*Ct,Ot=Dt/2,xt=Tt(1<<24),Pt=Tt(0);kt.ZERO=Pt;var Bt=Tt(0,!0);kt.UZERO=Bt;var Lt=Tt(1);kt.ONE=Lt;var Mt=Tt(1,!0);kt.UONE=Mt;var Ut=Tt(-1);kt.NEG_ONE=Ut;var Ft=St(-1,2147483647,!1);kt.MAX_VALUE=Ft;var Ht=St(-1,-1,!0);kt.MAX_UNSIGNED_VALUE=Ht;var Vt=St(0,-2147483648,!1);kt.MIN_VALUE=Vt;var Xt=kt.prototype;Xt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Xt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ct+(this.low>>>0):this.high*Ct+(this.low>>>0)},Xt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Vt)){var n=Et(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=Et(Rt(t,6),this.unsigned),s=this,u="";;){var o=s.div(e),h=(s.sub(o.mul(e)).toInt()>>>0).toString(t);if((s=o).isZero())return h+u;for(;h.length<6;)h="0"+h;u=""+h+u}},Xt.getHighBits=function(){return this.high},Xt.getHighBitsUnsigned=function(){return this.high>>>0},Xt.getLowBits=function(){return this.low},Xt.getLowBitsUnsigned=function(){return this.low>>>0},Xt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Vt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Xt.isZero=function(){return 0===this.high&&0===this.low},Xt.eqz=Xt.isZero,Xt.isNegative=function(){return!this.unsigned&&this.high<0},Xt.isPositive=function(){return this.unsigned||this.high>=0},Xt.isOdd=function(){return 1==(1&this.low)},Xt.isEven=function(){return 0==(1&this.low)},Xt.equals=function(t){return pt(t)||(t=Nt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Xt.eq=Xt.equals,Xt.notEquals=function(t){return!this.eq(t)},Xt.neq=Xt.notEquals,Xt.ne=Xt.notEquals,Xt.lessThan=function(t){return this.comp(t)<0},Xt.lt=Xt.lessThan,Xt.lessThanOrEqual=function(t){return this.comp(t)<=0},Xt.lte=Xt.lessThanOrEqual,Xt.le=Xt.lessThanOrEqual,Xt.greaterThan=function(t){return this.comp(t)>0},Xt.gt=Xt.greaterThan,Xt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Xt.gte=Xt.greaterThanOrEqual,Xt.ge=Xt.greaterThanOrEqual,Xt.compare=function(t){if(pt(t)||(t=Nt(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Xt.comp=Xt.compare,Xt.negate=function(){return!this.unsigned&&this.eq(Vt)?Vt:this.not().add(Lt)},Xt.neg=Xt.negate,Xt.add=function(t){pt(t)||(t=Nt(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=0,a=0,c=0,f=0;return c+=(f+=e+(65535&t.low))>>>16,a+=(c+=r+o)>>>16,h+=(a+=i+u)>>>16,h+=n+s,St((c&=65535)<<16|(f&=65535),(h&=65535)<<16|(a&=65535),this.unsigned)},Xt.subtract=function(t){return pt(t)||(t=Nt(t)),this.add(t.neg())},Xt.sub=Xt.subtract,Xt.multiply=function(t){if(this.isZero())return Pt;if(pt(t)||(t=Nt(t)),mt)return St(mt.mul(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned);if(t.isZero())return Pt;if(this.eq(Vt))return t.isOdd()?Vt:Pt;if(t.eq(Vt))return this.isOdd()?Vt:Pt;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(xt)&&t.lt(xt))return Et(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,s=t.high>>>16,u=65535&t.high,o=t.low>>>16,h=65535&t.low,a=0,c=0,f=0,v=0;return f+=(v+=e*h)>>>16,c+=(f+=r*h)>>>16,f&=65535,c+=(f+=e*o)>>>16,a+=(c+=i*h)>>>16,c&=65535,a+=(c+=r*o)>>>16,c&=65535,a+=(c+=e*u)>>>16,a+=n*h+i*o+r*u+e*s,St((f&=65535)<<16|(v&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Xt.mul=Xt.multiply,Xt.divide=function(t){if(pt(t)||(t=Nt(t)),t.isZero())throw v("division by zero");var n,i,r;if(mt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?St((this.unsigned?mt.div_u:mt.div_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Bt:Pt;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Bt;if(t.gt(this.shru(1)))return Mt;r=Bt}else{if(this.eq(Vt))return t.eq(Lt)||t.eq(Ut)?Vt:t.eq(Vt)?Lt:(n=this.shr(1).div(t).shl(1)).eq(Pt)?t.isNegative()?Lt:Ut:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Vt))return this.unsigned?Bt:Pt;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Pt}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var e=_.ceil(_.log(n)/_.LN2),s=e<=48?1:Rt(2,e-48),u=Et(n),o=u.mul(t);o.isNegative()||o.gt(i);)o=(u=Et(n-=s,this.unsigned)).mul(t);u.isZero()&&(u=Lt),r=r.add(u),i=i.sub(o)}return r},Xt.div=Xt.divide,Xt.modulo=function(t){return pt(t)||(t=Nt(t)),mt?St((this.unsigned?mt.rem_u:mt.rem_s)(this.low,this.high,t.low,t.high),mt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Xt.mod=Xt.modulo,Xt.rem=Xt.modulo,Xt.not=function(){return St(~this.low,~this.high,this.unsigned)},Xt.and=function(t){return pt(t)||(t=Nt(t)),St(this.low&t.low,this.high&t.high,this.unsigned)},Xt.or=function(t){return pt(t)||(t=Nt(t)),St(this.low|t.low,this.high|t.high,this.unsigned)},Xt.xor=function(t){return pt(t)||(t=Nt(t)),St(this.low^t.low,this.high^t.high,this.unsigned)},Xt.shiftLeft=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?St(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):St(0,this.low<<t-32,this.unsigned)},Xt.shl=Xt.shiftLeft,Xt.shiftRight=function(t){return pt(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?St(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):St(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Xt.shr=Xt.shiftRight,Xt.shiftRightUnsigned=function(t){if(pt(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?St(this.low>>>t|n<<32-t,n>>>t,this.unsigned):St(32===t?n:n>>>t-32,0,this.unsigned)},Xt.shru=Xt.shiftRightUnsigned,Xt.shr_u=Xt.shiftRightUnsigned,Xt.toSigned=function(){return this.unsigned?St(this.low,this.high,!1):this},Xt.toUnsigned=function(){return this.unsigned?this:St(this.low,this.high,!0)},Xt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Xt.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Xt.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},kt.fromBytes=function(t,n,i){return i?kt.fromBytesLE(t,n):kt.fromBytesBE(t,n)},kt.fromBytesLE=function(t,n){return new kt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},kt.fromBytesBE=function(t,n){return new kt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Wt=yt,qt=_.pow(2,-52);function zt(t,n,i){return _.min(_.max(t,n),i)}function Gt(t,n,i){return t===n||_.abs(t-n)<=i}function jt(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<qt||i<_.max(_.abs(t),_.abs(n))*qt}function Qt(t){return t!=t}function Yt(t,n){return t===n||Qt(t)&&Qt(n)}function Zt(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}function Jt(){return Date.now()||(new Date).getTime()}function $t(t){return t/1e3}var Kt,tn=Wt.fromNumber(9007199254740991);function nn(t,n){if(0===n)return t.isZero()?NaN:t.isNegative()?-1/0:1/0;if(t.lessThanOrEqual(tn))return t.toNumber()/n;var i=t.divide(n),r=t.subtract(i.multiply(n));return i.toNumber()+r.toNumber()/n}function rn(t){return t.Ye===Kt.Ze}function en(t){return t.Ye===Kt.Je}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}!function(t){t[t.Ze=1]="Ze",t[t.$e=2]="$e",t[t.Je=3]="Je",t[t.Ke=4]="Ke",t[t.ts=9]="ts"}(Kt||(Kt={}));var un=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(un.prototype=l.create(v.prototype)).constructor=un;var on=function(t){function n(n,i){var r;return(r=t.call(this)||this).cause=void 0,r.message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(sn(r),r.constructor),r}return F(n,t),M(n,[{key:"name",get:function(){return"BaseError"}}]),n}(un),hn=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return F(n,t),n}(on),an=function(){function t(){}return t.prototype.rs=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new hn(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new hn;return new gn(n)},t}(),cn=function(){function t(t){this.es=void 0,this.es=t}var n=t.prototype;return n.ss=function(t){return this.es.isEqualNode(t.es)},n.us=function(n){return new t(this.es.cloneNode(n))},M(t,[{key:"Ye",get:function(){return Kt.$e}},{key:"os",get:function(){var t;return null!=(t=this.es.localName)?t:mn(this.es.nodeName)}},{key:"hs",get:function(){return this.es.nodeName}},{key:"as",get:function(){var t;return null!=(t=this.es.namespaceURI)?t:void 0}},{key:"cs",get:function(){var t;return null!=(t=this.es.prefix)?t:void 0}},{key:"fs",get:function(){return this.es.nodeValue}}]),t}(),fn=function(){function t(t){this.vs=void 0,this.ds=void 0,this.vs=t}var n=t.prototype;return n.ls=function(t){return this._s.filter(function(n){return wn(n)&&n.gs===t})},n.ys=function(t,n){return this._s.filter(function(i){return wn(i)&&i.os===n&&i.as===t})},n.ks=function(t){this.vs.appendChild(t.ps),this.ds&&this.ds.push(t)},n.ss=function(t){return this.vs.isEqualNode(t.ps)},M(t,[{key:"_s",get:function(){return void 0===this.ds&&(this.ds=function(t){for(var n=[],i=0;i<t.length;i++){var r=yn(t.item(i));r&&n.push(r)}return n}(this.vs.childNodes)),this.ds}},{key:"As",get:function(){return this._s.filter(wn)}},{key:"ps",get:function(){return this.vs}}]),t}(),vn=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.bs=function(t){if(this.vs.hasAttribute(t))return this.vs.getAttribute(t)},i.Ts=function(t,n){if(this.vs.hasAttributeNS(t,n))return this.vs.getAttributeNS(t,n)},i.Es=function(t){this.vs.removeAttribute(t)},i.Ss=function(t,n){this.vs.removeAttributeNS(t,n)},i.Rs=function(t,n){this.vs.setAttribute(t,n)},i.Is=function(t,n,i){this.vs.setAttributeNS(t,n,i)},i.us=function(t){return new n(this.vs.cloneNode(t))},M(n,[{key:"Ye",get:function(){return Kt.Ze}},{key:"os",get:function(){var t;return null!=(t=this.vs.localName)?t:mn(this.vs.nodeName)}},{key:"as",get:function(){var t;return null!=(t=this.vs.namespaceURI)?t:void 0}},{key:"cs",get:function(){var t;return null!=(t=this.vs.prefix)?t:void 0}},{key:"gs",get:function(){return this.vs.nodeName}},{key:"Ns",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new cn(t.item(i)));return n}(this.vs.attributes)}},{key:"Cs",get:function(){return this.vs.textContent}}]),n}(fn),dn=function(){function t(t){this.vs=void 0,this.vs=t}return t.prototype.ss=function(t){return this.Ds===t.Ds},M(t,[{key:"Ds",get:function(){return this.vs.nodeValue}},{key:"ps",get:function(){return this.vs}}]),t}(),ln=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},M(n,[{key:"Ye",get:function(){return Kt.Je}}]),n}(dn),_n=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},M(n,[{key:"Ye",get:function(){return Kt.Ke}}]),n}(dn),gn=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.us=function(t){return new n(this.vs.cloneNode(t))},M(n,[{key:"Ye",get:function(){return Kt.ts}},{key:"Os",get:function(){return new vn(this.vs.documentElement)}}]),n}(fn);function wn(t){return rn(t)}function yn(t){switch(t.nodeType){case Kt.Ze:return new vn(t);case Kt.Je:return new ln(t);case Kt.Ke:return new _n(t)}}function mn(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}function kn(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function pn(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){An(t,n,e,r);var s=t;t=r,r=s}return t}(t,n);return i!==t&&An(i,null,t.length,t),t}function An(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(e=0;e<a;e+=f)for(u=(s=e+i)+i,s>a&&(s=a),u>a&&(u=a),o=e,h=s;;)if(o<s&&h<u)n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<s)r[c++]=t[o++];else{if(!(h<u))break;r[c++]=t[h++]}}var bn=/[a-zA-Z]/,Tn=/[0-9]/,En=/[0-9a-fA-F]/,Sn=/^0x/i,Rn=/^[0-9]+$/,In=/^[0-9a-fA-F]+$/,Nn=/^[0-7]+$/,Cn=l.prototype.toString,Dn=Array.isArray||function(t){return"[object Array]"===Cn.call(t)},On="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function xn(t){return Dn(t)?t:Array.from(t)}function Pn(t){return t>=65&&t<=90}function Bn(t){return Pn(t)||function(t){return t>=97&&t<=122}(t)}function Ln(t){return t>=48&&t<=57}function Mn(t){return Ln(t)||Bn(t)}function Un(t){return Ln(t)||t>=65&&t<=70||t>=97&&t<=102}function Fn(t){return Pn(t)?t+32:t}function Hn(t){return Ln(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Vn(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Xn=_.min,Wn=String.fromCharCode,qn=16384;function zn(t){for(var n=t.length,i=[],r=0;r<n;r+=qn){var e=Xn(r+qn,n);i.push(Wn.apply(null,t.slice(r,e)))}return i.join("")}var Gn=/[^\0-\x7E]/,jn=/[\x2E\u3002\uFF0E\uFF61]/g,Qn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Yn=_.floor,Zn=String.fromCharCode;function Jn(t){throw new RangeError(Qn[t])}function $n(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}var Kn,ti,ni,ii=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},ri=function(t,n,i){var r=0;for(t=i?Yn(t/700):t>>1,t+=Yn(t/n);t>455;r+=36)t=Yn(t/35);return Yn(r+36*t/(t+38))},ei=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(jn,".")).split("."),n).join(".");return r+e}(t,function(t){return Gn.test(t)?"xn--"+function(t){for(var n=[],i=(t=$n(t)).length,r=128,e=0,s=72,u=0,o=t;u<o.length;u++){var h=o[u];h<128&&n.push(Zn(h))}var a=n.length,c=a;for(a&&n.push("-");c<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=c+1;f-r>Yn((2147483647-e)/_)&&Jn("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&Jn("overflow"),y==r){for(var m=e,k=36;;k+=36){var p=k<=s?1:k>=s+26?26:k-s;if(m<p)break;var A=m-p,b=36-p;n.push(Zn(ii(p+A%b,0))),m=Yn(A/b)}n.push(Zn(ii(m,0))),s=ri(e,_,c==a),e=0,++c}}++e,++r}return n.join("")}(t):t})};function si(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return zn(n)}function ui(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function oi(t,n){return t>>n&63|128}function hi(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(ui(t),n.push(t>>12&15|224),n.push(oi(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(oi(t,12)),n.push(oi(t,6))),n.push(63&t|128)):n.push(t)}function ai(t){for(var n=[],i=0;i<t.length;i++){hi(t[i],n)}return n}function ci(){if(ni>=ti)throw new v("Invalid byte index");var t=255&Kn[ni];if(ni++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function fi(){var t,n;if(ni>ti)throw new v("Invalid byte index");if(ni===ti)return!1;if(t=255&Kn[ni],ni++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|ci())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|ci()<<6|ci())>=2048)return ui(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|ci()<<12|ci()<<6|ci())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function vi(t){return[37,Vn(t>>4),Vn(15&t)]}function di(t){return function(t){return t>=0&&t<=31}(t)||t>126}function li(t){return di(t)||32===t||34===t||60===t||62===t||96===t}function _i(t){return li(t)||35===t||63===t||123===t||125===t}function gi(t){return _i(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function wi(t){return t<33||t>126||34===t||35===t||60===t||62===t}function yi(t){return wi(t)||39===t}function mi(t,n){if(!n(t))return[t];for(var i=ai([t]),r=[],e=0;e<i.length;e++){var s=i[e];r.push.apply(r,vi(s))}return r}function ki(t,n){for(var i=[],r=0,e=$n(t);r<e.length;r++){var s=e[r];i.push.apply(i,mi(s,n))}return si(i)}function pi(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&Un(t[r+1])&&Un(t[r+2])){var s=Hn(t[r+1])<<4|Hn(t[r+2]);n.push(s),r+=2}else n.push(e)}return n}(ai(t))}function Ai(t){return si(function(t){Kn=t.slice(),ti=Kn.length,ni=0;for(var n,i=[];!1!==(n=fi());)i.push(n);return i}(pi($n(t))))}function bi(t){var n,i,r,e,s=t.length,u=[0,0,0,0,0,0,0,0],o=0,h=null,a=0;if(a<s&&":"===t[a]){if(!(a+1<s&&":"===t[a+1]))throw new d;a+=2,h=o+=1}for(;a<s;){if(8===o)throw new d("Too many groups");if(":"!==t[a]){for(var c=0,f=0;f<4&&a<s&&En.test(t[a]);)c=c<<4|g(t[a],16),a+=1,f+=1;if("."===t[a]){if(0===f)throw new d;if(a-=f,o>6)throw new d;for(var v=0;a<s;){var l=null;if(v>0){if(!("."===t[a]&&v<4))throw new d;a+=1}if(!Tn.test(t[a]))throw new d;for(;a<s&&Tn.test(t[a]);){var _=g(t[a],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}a+=1}u[o]=u[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[a]){if((a+=1)===s)throw new d}else if(a<s)throw new d;u[o]=c,o+=1}else{if(null!==h)throw new d("Too many :: groups");a+=1,h=o+=1}}if(null!==h){var w=o-h;for(o=7;0!==o&&w>0;)r=h+w-1,e=void 0,e=(n=u)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new d;return u}function Ti(t){var n=10,i=Rn;return Sn.test(t)?(t=t.slice(2),n=16,i=In):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Nn),""===t?0:i.test(t)?g(t,n):void 0}var Ei={xs:4},Si=/[\0\t\n\r #%/:?@\[\\\]]/,Ri=/[\0\t\n\r #/:?@\[\\\]]/;function Ii(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{xs:2,Ps:bi(t.slice(1,-1))}}if(!n)return function(t){if(Ri.test(t))throw new d("Invalid code point in opaque host");var n=ki(t,di);return""===n?Ei:{xs:3,nr:n}}(t);var i=function(t){return function(t){return ei(t.toLowerCase())}(t)}(Ai(t));if(Si.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var s=Ti(e);if(void 0===s)return;i.push(s)}for(var u=0;u<i.length-1;u++)if(i[u]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),h=0;h<i.length;h++)o+=i[h]*_.pow(256,3-h);return o}}(i);return void 0!==r?{xs:1,Ps:r}:""===i?Ei:{xs:0,Bs:i}}function Ni(t){switch(t.xs){case 0:return t.Bs;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.Ps);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,s=0;s<8;s++)0===t[s]?(0===e&&(r=s),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.Ps)+"]";case 3:return t.nr;case 4:return""}}var Ci=/\+/g;function Di(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var s=e.indexOf("="),u=void 0,o=void 0;-1!==s?(u=e.slice(0,s),o=e.slice(s+1)):(u=e,o=""),u=u.replace(Ci," "),o=o.replace(Ci," ");var h=Ai(u),a=Ai(o);i.push([h,a])}}return i}function Oi(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=xi(ai($n(r[0])))+"="+xi(ai($n(r[1])))}return n}function xi(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Mn(n)?i.push(e):i.push.apply(i,vi(e))}return zn(i)}var Pi=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Bi(t){var n=""+t,i=Pi.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var s=t.charCodeAt(e);if(Mi(s))if(Ui(s)||e===i-1)r.push(Li);else{var u=t.charCodeAt(e+1);Ui(u)?(r.push(s,u),e++):r.push(Li)}else r.push(s)}return t.slice(0,n)+zn(r)}(n,i.index):n}var Li=65533,Mi=function(t){return 55296==(63488&t)},Ui=function(t){return 0!=(1024&t)};function Fi(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Hi(t){t.Ls.length=0}function Vi(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Ls,Di(n))}function Xi(t){if(t.Ms){var n=Oi(t.Ls);""===n&&(n=null),t.Ms.Ms.Us=n}}var Wi=function(){function t(t){if(void 0===t&&(t=void 0),this.Ms=null,null==t)this.Ls=[];else if("object"==typeof t||"function"==typeof t)if((s=t)instanceof Wi&&Dn(s.Ls)&&(!On||s[Symbol.iterator]===qi))this.Ls=t.Ls.slice();else if(function(t){return null!=t&&(!!Dn(t)||!!On&&"function"==typeof t[Symbol.iterator])}(t)){this.Ls=[];for(var n=0,i=xn(t);n<i.length;n++){var r=xn(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.Ls.push([Bi(r[0]),Bi(r[1])])}}else for(var e in this.Ls=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.Ls.push([Bi(e),Bi(t[e])]);else(t=Bi(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Ls=Di(t);var s}var n=t.prototype;return n.append=function(t,n){t=Bi(t),n=Bi(n),this.Ls.push([t,n]),Xi(this)},n.delete=function(t){t=Bi(t);for(var n=this.Ls,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Xi(this)},n.get=function(t){t=Bi(t);for(var n=this.Ls,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Bi(t);for(var n=this.Ls,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Bi(t);for(var n=this.Ls,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Bi(t),n=Bi(n);for(var i=this.Ls,r=!1,e=0;e<i.length;){var s=i[e];s[0]===t?r?i.splice(e,1):(s[1]=n,r=!0,e++):e++}r||i.push([t,n]),Xi(this)},n.sort=function(){pn(this.Ls,Fi),Xi(this)},n.toString=function(){return Oi(this.Ls)},n.entries=function(){return new Qi(this.Ls,zi)},n.keys=function(){return new Qi(this.Ls,Gi)},n.values=function(){return new Qi(this.Ls,ji)},n.forEach=function(t){var n=this;this.Ls.forEach(function(i){return t(i[1],i[0],n)})},t}(),qi=Wi.prototype.entries;On&&(Wi.prototype[Symbol.iterator]=qi);var zi=function(t){return[t[0],t[1]]},Gi=function(t){return t[0]},ji=function(t){return t[1]},Qi=function(){function t(t,n){this.Fs=0,this.Ls=t,this.Hs=n}return t.prototype.next=function(){return this.Fs<this.Ls.length?{done:!1,value:this.Hs(this.Ls[this.Fs++])}:{done:!0,value:void 0}},t}(),Yi="null";var Zi=l.create(null);Zi.ftp=21,Zi.file=0,Zi.gopher=70,Zi.http=80,Zi.https=443,Zi.ws=80,Zi.wss=443;var Ji=/^(?:\.|%2e)$/i,$i=/^(?:\.|%2e){2}$/i;function Ki(t){return Ji.test(t)}function tr(t){return $i.test(t)}function nr(t){return void 0!==Zi[t]}function ir(t){return nr(t.Vs)}function rr(t){return""!==t.Xs||""!==t.Ws}function er(t){var n=t.length;if(!(n>=2))return!1;if(!ur(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function sr(t){return 2===t.length&&bn.test(t[0])&&(":"===t[1]||"|"===t[1])}function ur(t){return 2===t.length&&sr(zn(t))}function or(t){return sr(t)&&":"===t[1]}function hr(t){var n=t.qs;0!==n.length&&("file"===t.Vs&&1===n.length&&or(n[0])||n.pop())}function ar(t){return null===t.zs||Ei===t.zs||t.Gs||"file"===t.Vs}var cr=-1,fr=/\t|\n|\r/g,vr=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function dr(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new _r,t=t.replace(vr,""));var e=null!==r?r:0;n=n||null;for(var s=[],u=!1,o=!1,h=!1,a=$n(t=t.replace(fr,"")),c=a.length,f=0;f<=c;){var v=f<c?a[f]:cr;switch(e){case 0:if(!Bn(v)){if(null===r){s.length=0,e=2;continue}throw new d("Invalid scheme")}s.push(Fn(v)),e=1;break;case 1:if(Mn(v)||43===v||45===v||46===v)s.push(Fn(v));else{if(58!==v){if(null===r){s.length=0,e=2,f=0;continue}throw new d("Invalid scheme")}var l=si(s);if(null!==r){if(nr(i.Vs)&&!nr(l))return;if(!nr(i.Vs)&&nr(l))return;if((rr(i)||null!==i.js)&&"file"===l)return;if("file"===i.Vs&&(i.zs===Ei||null===i.zs))return}if(i.Vs=l,null!==r)return void(ir(i)&&i.js===Zi[i.Vs]&&(i.js=null));s.length=0,"file"===i.Vs?e=13:ir(i)&&n&&n.Vs===i.Vs?e=3:ir(i)?e=7:47===a[f+1]?(e=4,f+=1):(i.Gs=!0,i.qs.push(""),e=18)}break;case 2:if(!n||n.Gs&&35!==v)throw new d("Invalid scheme");n.Gs&&35===v?(i.Vs=n.Vs,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",i.Gs=!0,e=20):"file"!==n.Vs?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===a[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.Vs=n.Vs,cr===v?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us=n.Us):47===v?e=6:63===v?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us="",e=19):35===v?(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",e=20):92===v&&ir(i)?e=6:(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,i.qs=n.qs.slice(),i.qs.pop(),e=17,f-=1);break;case 6:!ir(i)||47!==v&&92!==v?47===v?e=9:(i.Xs=n.Xs,i.Ws=n.Ws,i.zs=n.zs,i.js=n.js,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==a[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){u&&s.unshift(37,52,48),u=!0;for(var _=0;_<s.length;_++){var w=s[_];if(58!==w||h){var y=si(mi(w,gi));h?i.Ws+=y:i.Xs+=y}else h=!0}s.length=0}else if(cr===v||47===v||63===v||35===v||ir(i)&&92===v){if(u&&0===s.length)throw new d("Invalid host");f-=s.length+1,s.length=0,e=10}else s.push(v);break;case 10:case 11:if(null!==r&&"file"===i.Vs)f-=1,e=15;else if(58!==v||o)if(cr===v||47===v||63===v||35===v||ir(i)&&92===v){if(f-=1,ir(i)&&0===s.length)throw new d("Invalid host");if(null!==r&&0===s.length&&(rr(i)||null!==i.js))return;var m=Ii(si(s),ir(i));if(i.zs=m,s.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),s.push(v);else{if(0===s.length)throw new d("Invalid host");var k=Ii(si(s),ir(i));if(i.zs=k,s.length=0,e=12,11===r)return}break;case 12:if(Ln(v))s.push(v);else{if(!(cr===v||47===v||63===v||35===v||ir(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==s.length){var p=g(si(s),10);if(p>65535)throw new d("Invalid port");i.js=p===Zi[i.Vs]?null:p,s.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.Vs="file",47===v||92===v?e=14:n&&"file"===n.Vs?cr===v?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us=n.Us):63===v?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us="",e=19):35===v?(i.zs=n.zs,i.qs=n.qs.slice(),i.Us=n.Us,i.Qs="",e=20):(er(a.slice(f))||(i.zs=n.zs,i.qs=n.qs.slice(),hr(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.Vs&&!er(a.slice(f))&&(or(n.qs[0])?i.qs.push(n.qs[0]):i.zs=n.zs),e=17,f-=1);break;case 15:if(cr===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&ur(s))e=17;else if(0===s.length){if(i.zs=Ei,null!==r)return;e=16}else{var A=Ii(si(s),ir(i));if(0===A.xs&&"localhost"===A.Bs&&(A=Ei),i.zs=A,null!==r)return;s.length=0,e=16}else s.push(v);break;case 16:ir(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Us="",e=19):null===r&&35===v?(i.Qs="",e=20):cr!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(cr===v||47===v||ir(i)&&92===v||null===r&&(63===v||35===v)){var b=si(s);if(tr(b)?(hr(i),47===v||ir(i)&&92===v||i.qs.push("")):!Ki(b)||47===v||ir(i)&&92===v?Ki(b)||("file"===i.Vs&&0===i.qs.length&&ur(s)&&(Ei!==i.zs&&null!==i.zs&&(i.zs=Ei),s[1]=58,b=si(s)),i.qs.push(b)):i.qs.push(""),s.length=0,"file"===i.Vs&&(cr===v||63===v||35===v))for(;i.qs.length>1&&""===i.qs[0];)i.qs.shift();63===v?(i.Us="",e=19):35===v&&(i.Qs="",e=20)}else s.push.apply(s,mi(v,_i));break;case 18:63===v?(i.Us="",e=19):35===v?(i.Qs="",e=20):cr!==v&&(i.qs[0]+=si(mi(v,di)));break;case 19:null===r&&35===v?(i.Qs="",e=20):cr!==v&&(i.Us+=si(mi(v,ir(i)?yi:wi)));break;case 20:cr===v||0===v||(i.Qs+=si(mi(v,li)))}f++}return i}function lr(t,n,i,r){try{dr(t,n,i,r)}catch(t){}}var _r=function(){this.Vs="",this.Xs="",this.Ws="",this.zs=null,this.js=null,this.qs=[],this.Us=null,this.Qs=null,this.Gs=!1};function gr(t){switch(t.Vs){case"blob":var n;try{n=dr(t.qs[0],null)}catch(t){return Yi}return gr(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.Vs,r=t.zs,e=t.js,i+"://"+Ni(r)+(null===e?"":":"+e);case"file":default:return Yi}var i,r,e}var wr,yr,mr,kr,pr,Ar,br,Tr=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof Tr&&"object"==typeof i.Ms)e=n.Ms;else try{e=dr(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=dr(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var s=r.Us;this.Ms=r,this.Us=function(t){var n=new Wi;return null!==t&&Vi(n,t),n}(s),this.Us.Ms=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.Vs+":";if(null!==t.zs?(i+="//",rr(t)&&(i+=t.Xs,""!==t.Ws&&(i+=":"+t.Ws),i+="@"),i+=Ni(t.zs),null!==t.js&&(i+=":"+t.js)):null===t.zs&&"file"===t.Vs&&(i+="//"),t.Gs)i+=t.qs[0];else for(var r=0,e=t.qs;r<e.length;r++)i+="/"+e[r];return null!==t.Us&&(i+="?"+t.Us),n||null===t.Qs||(i+="#"+t.Qs),i}(this.Ms)},set:function(t){var n;try{n=dr(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Ms=n,Hi(this.Us);var i=this.Ms.Us;null!==i&&Vi(this.Us,i)}},{key:"origin",get:function(){return gr(this.Ms)}},{key:"protocol",get:function(){return this.Ms.Vs+":"},set:function(t){lr(t+":",null,this.Ms,0)}},{key:"username",get:function(){return this.Ms.Xs},set:function(t){ar(this.Ms)||(this.Ms.Xs=ki(t,gi))}},{key:"password",get:function(){return this.Ms.Ws},set:function(t){ar(this.Ms)||(this.Ms.Ws=ki(t,gi))}},{key:"host",get:function(){var t=this.Ms,n=t.zs;if(null===n)return"";var i=t.js,r=Ni(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Ms.Gs||lr(t,null,this.Ms,10)}},{key:"hostname",get:function(){var t=this.Ms.zs;return null===t?"":Ni(t)},set:function(t){this.Ms.Gs||lr(t,null,this.Ms,11)}},{key:"port",get:function(){var t=this.Ms.js;return null===t?"":""+t},set:function(t){ar(this.Ms)||(""===t?this.Ms.js=null:lr(t,null,this.Ms,12))}},{key:"pathname",get:function(){var t=this.Ms.qs;return this.Ms.Gs?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Ms.Gs||(this.Ms.qs.length=0,lr(t,null,this.Ms,16))}},{key:"search",get:function(){var t=this.Ms.Us;return null===t||""===t?"":"?"+t},set:function(t){t=Bi(t);var n=this.Ms;if(""===t)return n.Us=null,void Hi(this.Us);"?"===t[0]&&(t=t.slice(1)),n.Us="",lr(t,null,n,19),Vi(this.Us,t)}},{key:"searchParams",get:function(){return this.Us}},{key:"hash",get:function(){var t=this.Ms.Qs;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Ms.Qs="",lr(t,null,this.Ms,20)):this.Ms.Qs=null}}])&&kn(n.prototype,i),r&&kn(n,r),t}();function Er(t){return t.document&&t.document.baseURI||t.location.href||""}function Sr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Rr(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function Ir(t,n){Y.Ee&&Y.Se<3?function(t,n){var i=n;switch(n){case"flex":i="-webkit-flex";break;case"inline-flex":i="-webkit-inline-flex"}t.display=i}(t,n):function(t,n){if(t.display=n,t.display!==n){var i=n;switch(n){case"flex":i="-ms-flexbox";break;case"inline-flex":i="-ms-inline-flexbox"}t.display=i}}(t,n)}function Nr(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function Cr(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function Dr(t){t.removeAttribute("title")}function Or(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function xr(t){t.src&&(t.removeAttribute("src"),t.load())}function Pr(){return void 0!==s?s.createElement("video"):void 0}function Br(){return br||(br=Pr()),br}var Lr=!!("ontouchstart"in t||t.DocumentTouch&&s instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),Mr=Br(),Ur=!(!Mr||!Mr.webkitShowPlaybackTargetPicker),Fr=function(){function t(){this.Ys=void 0,this.Zs=!1,this.ue=Lr,this.pe=!1,this.Js=!0,this.$s=!0}var n=t.prototype;return n.Ks=function(){return 0},n.tu=function(t,n){return!0},n.nu=function(t){return t>=1/6*2},M(t,[{key:"iu",get:function(){return void 0===this.Ys&&(this.Ys=this.Ks()),this.Ys}},{key:"ru",get:function(){return e.devicePixelRatio||1}},{key:"eu",get:function(){return Ur}},{key:"su",get:function(){return!1}},{key:"uu",get:function(){return!0}},{key:"ou",get:function(){return Y.Pe}},{key:"hu",get:function(){return!0}}]),t}(),Hr=function(){var t=Pr();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(Y.we)return!1;var t=Pr();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var Vr=function(t){function n(n){var i;return(i=t.call(this)||this).au=void 0,i.au=n,i.au&&(i.Zs=i.au.Zs,i.ue=i.au.ue,i.Js=Hr&&i.au.Js),i}F(n,t);var i=n.prototype;return i.Ks=function(){return this.au?this.au.iu:t.prototype.Ks.call(this)},i.tu=function(n,i){return this.au?this.au.tu(n,i):t.prototype.tu.call(this,n,i)},i.nu=function(n){return this.au?this.au.nu(n):t.prototype.nu.call(this,n)},n}(Fr),Xr=function(t){function n(n){var i;return(i=t.call(this,n)||this).Zs=!0,i.pe=!0,i}return F(n,t),n}(Vr),Wr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Ks=function(){return kr.MediaSource?t.prototype.Ks.call(this):1},n}(Xr),qr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.tu=function(n,i){return!(i.cu>1920)&&t.prototype.tu.call(this,n,i)},M(n,[{key:"su",get:function(){return Y.Se<3}},{key:"uu",get:function(){return Y.Se>=3}}]),n}(Vr),zr=function(t){function n(){return t.call(this)||this}return F(n,t),n}(Fr),Gr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.tu=function(t,n){if(t&&t.fu&&n&&n.fu){var i=jr(t.fu,"mp4a.40.2")&&jr(n.fu,"mp4a.40.5"),r=jr(t.fu,"mp4a.40.5")&&jr(n.fu,"mp4a.40.2"),e=jr(t.fu,"mp4a.40.2")&&jr(n.fu,"mp4a.40.34"),s=jr(t.fu,"mp4a.40.34")&&jr(n.fu,"mp4a.40.2"),u=jr(t.fu,"mp4a.40.5")&&jr(n.fu,"mp4a.40.34"),o=jr(t.fu,"mp4a.40.34")&&jr(n.fu,"mp4a.40.5");return!(i||r||e||s||u||o)}return!0},n}(zr);function jr(t,n){return t.indexOf(n)>-1}var Qr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.nu=function(t){return t>=2},n}(zr),Yr=function(t){function n(){var n;return(n=t.call(this)||this).Zs=Y.Be>=11,n.Js=Y.Pe&&!(Y.me&&Y.Be<10),n}return F(n,t),n}(zr),Zr=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),M(n,[{key:"hu",get:function(){return!1}}]),n}(Vr),Jr=function(){function n(){var n;this.vu=void 0,this.du=new an,this.lu=new $r,this._u=(n=function(){if(Y.Oe)return new Gr;if(Y.Ie||Y.Ne)return new Qr;if(Y.Pe)return new Yr;return new zr}(),Y.me?new Wr(n):Y.pe?new Xr(n):Y.Ee?new qr(n):Y.Re?new Zr(n):new Vr(n)),this.gu=function(){if(t.URL)try{var n=new t.URL("b","http://a");return n.pathname="c d","http://a/c%20d"===n.href}catch(t){}return!1}(),t.performance&&t.performance.now?this.vu=function(){return t.performance.now()}:this.vu=Jt}var i=n.prototype;return i.wu=function(){lt.apply(void 0,arguments)},i.yu=function(){_t.apply(void 0,arguments)},i.mu=function(){gt.apply(void 0,arguments)},i.ku=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];wt.apply(void 0,[t].concat(i))},i.ur=function(t,n){return h(t,n)},i.pu=function(t,n){return c(t,n)},i.sr=function(t){a(t)},i.Au=function(t){f(t)},i.rs=function(t){return this.du.rs(t)},i.bu=function(){return this.Tu.bu()},i.Eu=function(){return this.Tu.Eu()},i.Su=function(){return this.Tu.Su()},i.Ru=function(){return this.Tu.Ru()},i.Iu=function(){return this.Tu.Iu()},i.Nu=function(t,n){return this.Tu.Nu(t,n)},i.Cu=function(t){return this.Tu.Cu(t)},i.Du=function(t,n){var i;return void 0===n&&(n=Er(kr)),i="object"!=typeof n||n instanceof Tr?n:n.href,new Tr(t,i)},i.Ou=function(n,i){if(void 0===i&&(i=Er(kr)),this.gu){var r=rt(i)?i:i.toString();return new t.URL(n,r).href}return this.Du(n,i).href},M(n,[{key:"xu",get:function(){return this.lu}},{key:"Pu",get:function(){return this._u}},{key:"Bu",get:function(){return{Lu:o&&o.userAgent.match(/Android /i)?"Android":"other",Mu:Boolean(o&&o.userAgent.match(/Android 8.0.0/i))}}},{key:"Uu",get:function(){return t&&t.location&&"https:"===t.location.protocol}},{key:"Fu",get:function(){return"languages"in o?o.languages.slice():[o.language]}}]),n}(),$r=function(){function t(){}return M(t,[{key:"Hu",get:function(){return o.oscpu}},{key:"Pu",get:function(){return o.platform}},{key:"Vu",get:function(){return o.vendor}},{key:"Xu",get:function(){return o.vendorSub}}]),t}();var Kr=b(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},s=e.iterator||"@@iterator",u=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function h(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,s=l.create(e.prototype),u=new D(r||[]);return s.Wu=function(t,n,i){var r=c;return function(e,s){if(r===_)throw new v("Generator is already running");if(r===g){if("throw"===e)throw s;return x()}for(i.method=e,i.arg=s;;){var u=i.delegate;if(u){var o=I(u,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.qu=i.arg;else if("throw"===i.method){if(r===c)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var h=a(t,n,i);if("normal"===h.type){if(r=i.done?g:f,h.arg===w)continue;return{value:h.arg,done:i.done}}"throw"===h.type&&(r=g,i.method="throw",i.arg=h.arg)}}}(t,i,u),s}function a(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=h;var c="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function m(){}function k(){}function p(){}var A={};A[s]=function(){return this};var b=l.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,s)&&(A=T);var E=p.prototype=m.prototype=l.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.Wu(n,t)}})}function R(t){var n;this.Wu=function(i,e){function s(){return new Promise(function(n,s){!function n(i,e,s,u){var o=a(t[i],t,e);if("throw"!==o.type){var h=o.arg,c=h.value;return c&&"object"==typeof c&&r.call(c,"zu")?Promise.resolve(c.zu).then(function(t){n("next",t,s,u)},function(t){n("throw",t,s,u)}):Promise.resolve(c).then(function(t){h.value=t,s(h)},function(t){return n("throw",t,s,u)})}u(o.arg)}(i,e,n,s)})}return n=n?n.then(s,s):s()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var e=a(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var s=e.arg;return s?s.done?(i[t.resultName]=s.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):s:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function C(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[s];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var e=-1,u=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return u.next=u}}return{next:x}}function x(){return{value:n,done:!0}}k.prototype=E.constructor=p,p.constructor=k,p[o]=k.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===k||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,p):(t.__proto__=p,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(E),t},t.awrap=function(t){return{zu:t}},S(R.prototype),R.prototype[u]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var s=new R(h(n,i,r,e));return t.isGeneratorFunction(i)?s:s.next().then(function(t){return t.done?t.value:s.next()})},S(E),E[o]="Generator",E[s]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.qu=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s],o=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var h=r.call(u,"catchLoc"),a=r.call(u,"finallyLoc");if(h&&a){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(h){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!a)throw new v("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var s=e;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=n&&n<=s.finallyLoc&&(s=null);var u=s?s.completion:{};return u.type=t,u.arg=n,s?(this.method="next",this.next=s.finallyLoc,w):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;C(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)});function te(){return(te=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function ne(){var t=l.create(null);return t.Gu=void 0,delete t.Gu,t}function ie(){return new oe}function re(){return new ae}function ee(t){var n=ie();for(var i in t)Z.call(t,i)&&n.set(i,t[i]);return n}var se,ue="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,oe=ue||(se=function(){function t(t,n){this.data=void 0,this.keys=void 0,this.index=0,this.selector=void 0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=ne(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=ne(),this.size=0},n.keys=function(){return new se(this.data,function(t,n){return n})},n.values=function(){return new se(this.data,function(t,n){return t[n]})},n.entries=function(){return new se(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var he,ae=ue||(he=function(){function t(t,n){this.ju=void 0,this.Qu=void 0,this.ju=t,this.Qu=n}var n=t.prototype;return n.next=function(){var t=this.ju.next();return t.done?t:{value:this.Qu(t.value),done:!1}},t}(),function(){function t(){this.Yu=ie()}var n=t.prototype;return n.get=function(t){return this.Yu.get(""+t)},n.set=function(t,n){return this.Yu.set(""+t,n),this},n.has=function(t){return this.Yu.has(""+t)},n.delete=function(t){return this.Yu.delete(""+t)},n.clear=function(){this.Yu.clear()},n.keys=function(){return new he(this.Yu.keys(),function(t){return Number(t)})},n.values=function(){return this.Yu.values()},n.entries=function(){return new he(this.Yu.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Yu.forEach(function(n,i){t(n,Number(i))})},M(t,[{key:"size",get:function(){return this.Yu.size}}]),t}());var ce,fe="urn:mpeg:dash:mp4protection:2011",ve="cenc",de="sinf",le="skd",_e="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",ge="com.microsoft.playready",we="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",ye="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",me="urn:uuid:"+ye,ke="com.apple.fps.1_0";!function(t){t.Zu="playready",t.Ju="widevine",t.$u="fairplay",t.Ku="clearkey",t.to="aes128"}(ce||(ce={}));var pe={io:ce.Zu,ro:ge,eo:"cenc",so:"9a04f079-9840-4286-ab92-e65be0885f95",uo:_e,oo:"PlayReady"},Ae={io:ce.Ju,ro:"com.widevine.alpha",eo:"cenc",so:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",uo:we,oo:"Widevine"},be={io:ce.$u,ro:ke,eo:"skd",so:ye,uo:me,oo:"FairPlay"},Te=(ce.$u,{io:ce.Ku,ro:"org.w3.clearkey",eo:"cenc",so:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",uo:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",oo:"ClearKey"}),Ee=[pe,Ae,be,Te];function Se(t){return Ee.filter(function(n){return n.uo===t.toLowerCase()})}function Re(t,n,i){return t.split(n).join(i)}function Ie(t,n){return null!=t&&-1!==t.indexOf(n)}function Ne(t,n){return null!=t&&t.substr(0,n.length)===n}function Ce(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function De(t,n){return t.toUpperCase()===n.toUpperCase()}function Oe(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function xe(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=Oe(r,e/r.length)),r.slice(0,e)+t)}function Pe(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Le(n)}var Be=16384;function Le(t){var n=t.length;if(n<=Be)return String.fromCharCode.apply(String,t);for(var i=[],r=0;r<n;r+=Be)i.push(String.fromCharCode.apply(String,t.slice(r,r+Be)));return i.join("")}var Me=Y.be&&Y.Te>=42||Y.Oe&&Y.xe>=38||Y.Ie||Y.Ce||Y.Le&&Y.Me>=29;function Ue(t,n){return Ie(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[te({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function Fe(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function He(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var Ve=function(){function t(t){this.ho=void 0,this.ao=ie(),this.co=void 0,this.ho=t}var n=t.prototype;return n.Iu=function(){return this.Cu(Ae)},n.Eu=function(){return this.Cu(Te)},n.Ru=function(){return this.Cu(pe)},n.Su=function(){return this.Cu(be)},n.Cu=function(t){var n=t.uo,i=this.ao.get(n);if(i)return i;var r=this.Nu(t,'video/mp4; codecs="avc1.42000a"');return this.ao.set(n,r),r},n.Nu=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ho.fo(n.ro,[Ue(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.ho.fo(n.ro,[Ue(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.bu=function(){return this.co||(this.co=this.vo()),this.co},n.vo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==pr.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(Me){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.Eu();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function Xe(t,n){return qe(t.slice(),n)}function We(t,n){var i=qe(t,n);return i!==t&&ze(i,void 0,t.length,t),t}function qe(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),s=1;s<r;s*=2){ze(i,n,s,e);var u=i;i=e,e=u}return i}function ze(t,n,i,r){var e,s,u,o,h,a=t.length,c=0,f=2*i;for(s=0;s<a;s+=f)for(e=(u=s+i)+i,u>a&&(u=a),e>a&&(e=a),o=s,h=u;;)if(o<u&&h<e)n&&n(t[o],t[h])<=0?r[c++]=t[o++]:r[c++]=t[h++];else if(o<u)r[c++]=t[o++];else{if(!(h<e))break;r[c++]=t[h++]}}function Ge(t,n,i){var r=je(t,n,i);return-1===r?void 0:t[r]}function je(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function Qe(t,n){var i=t.indexOf(n);return-1!==i&&(Ye(t,i),!0)}function Ye(t,n){t.splice(n,1)}function Ze(t,n){return-1!==t.indexOf(n)}function Je(t){t.length=0}function $e(t){var n;return(n=[]).concat.apply(n,t)}function Ke(t,n){for(var i=[],r=0;r<t.length;r++)i.push.apply(i,n(t[r],r));return i}function ts(t,n){return ns.apply(this,arguments)}function ns(){return(ns=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=10;break}return e=n[r],t.next=5,i(e);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:r++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}function is(t,n,i){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!i(t[r],n[r]))return!1;return!0}var rs=function(){function t(){this.do=!1,this.lo=!1,this._o=[],this.wo=[]}var n=t.prototype;return n.yo=function(){if(!this.do&&!this.lo){this.do=!0;for(var t=0,n=this._o.slice();t<n.length;t++){(0,n[t])()}this.mo()}},n.mo=function(){if(!this.lo){this.lo=!0;for(var t=0,n=this.wo.slice();t<n.length;t++){(0,n[t])()}Je(this._o),Je(this.wo)}},n.ko=function(t){this.lo||this._o.push(t)},n.po=function(t){this.lo||Qe(this._o,t)},n.Ao=function(t){this.lo||this.wo.push(t)},n.bo=function(t){this.lo||Qe(this.wo,t)},t}(),es=function(){function t(){this.To=new rs}var n=t.prototype;return n.Eo=function(){this.To.yo()},n.mo=function(){this.To.mo()},n.So=function(t){var n=this.To;if(!n.do)if(t.do)n.yo();else if(!n.lo&&!t.lo){var i=function(){r(),n.yo()},r=function r(){t.po(i),t.bo(r),n.po(i),n.bo(r)};t.ko(i),t.Ao(r),n.ko(i),n.Ao(r)}},n.Ro=function(){var n=new t,i=new t,r=n.Io,e=i.Io,s=this.To,u=function(){r.do&&e.lo||e.do&&r.lo?s.yo():r.lo&&e.lo&&s.mo()};r.ko(u),e.ko(u),r.Ao(u),e.Ao(u),n.So(s),i.So(s);return s.Ao(function(){r.po(u),e.po(u),r.bo(u),e.bo(u)}),[n,i]},M(t,[{key:"Io",get:function(){return this.To}}]),t}(),ss=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"AbortError"}}]),n}(on);function us(t){return t instanceof v&&"AbortError"===t.name}function os(t){if(t&&t.do)throw new ss}function hs(t){if(us(t))throw t}function as(t){if(!us(t))throw t}function cs(t,n){return n?new E(function(i,r){if(n.do)return t.catch(R),r(new ss);var e=function t(){n.po(t),r(new ss)};n.ko(e),t.then(function(t){n.po(e),i(t)},function(t){n.po(e),r(t)})}):t}function fs(t,n){return t.then(function(t){return n.mo(),t},function(t){throw n.mo(),t})}function vs(t,n){var i=new es;return n&&i.So(n),t(i.Io).then(function(t){return i.Eo(),t},function(t){throw i.Eo(),t})}var ds=E.resolve();function ls(t){ds.then(t)}function _s(t){t.then(R,R)}function gs(t){return ws.apply(this,arguments)}function ws(){return(ws=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,E.all(n.map(function(t){return t.catch(R)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ys(t,n){return new E(function(i,r){if(void 0!==n&&n.do)r(new ss);else{var e=T.ur(function(){void 0!==n&&n.po(s),i()},t),s=function(){T.sr(e),r(new ss)};void 0!==n&&n.ko(s)}})}function ms(t,n){var i=new es;return E.race([t,ys(n,i.Io).then(function(){throw new v("Timeout")})]).then(function(t){return i.Eo(),t},function(t){throw i.Eo(),t})}function ks(t){return t&&"function"!=typeof t?t.slice():t}function ps(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var As,bs=function(){function t(t){var n=this;this.No=ne(),this.Co=void 0,this.Do=void 0,this.Oo=function(t){n.xo(t)},this.Do=t||this}var n=t.prototype;return n.Po=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Bo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Bo(r,n)}},n.Bo=function(t,n){var i=this.No[t];i?"function"==typeof i?this.No[t]=[i,n]:i.push(n):this.No[t]=n},n.Lo=function(t){if("function"==typeof t){var n=this.Co;n?"function"==typeof n?this.Co=[n,t]:n.push(t):this.Co=t}},n.Mo=function(){this.No=ne(),this.Co=void 0},n.xo=function(t){var n=ks(this.No[t.type]),i=ks(this.Co);ps(this.Do,t,n),ps(this.Do,t,i)},n.Uo=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Fo(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Fo(r,n)}},n.Fo=function(t,n){var i=this.No[t];i&&("function"==typeof i?i===n&&(this.No[t]=void 0):Qe(i,n))},n.Ho=function(t){if("string"==typeof t)this.No[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.No[i]=void 0}},n.Vo=function(t){var n=this.Co;n&&("function"==typeof n?n===t&&(this.Co=void 0):Qe(n,t))},n.Xo=function(t,n){var i=this;return new E(function(r,e){if(n&&n.do)return e(new ss);var s=function(t){o(),r(t)},u=function(){o(),e(new ss)},o=function(){i.Uo(t,s),n&&n.po(u)};i.Po(t,s),n&&n.ko(u)})},t}(),Ts=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.xo=function(n){var i=this;ls(function(){t.prototype.xo.call(i,n)})},n}(bs),Es=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Ss=["cenc"],Rs=["cbcs","cbcs-1-9"],Is=function(t){function n(n){var i;return(i=t.call(this,"qo")||this).Wo=n,i}return F(n,t),n}(Es),Ns=function(t){function n(n,i,r,e){var s;return(s=t.call(this,"zo")||this).Wo=n,s.Go=i,s.zo=r,s.jo=e,s}return F(n,t),n}(Es),Cs=function(t){function n(){return t.call(this,"Qo")||this}return F(n,t),n}(Es);!function(t){t.Yo="Zo",t.Jo="$o"}(As||(As={}));var Ds=function(t){function n(n,i){var r;return(r=t.call(this,As.Yo)||this).eo=n,r.Ko=i,r}return F(n,t),n}(Es),Os=function(t){function n(){return t.call(this,As.Jo)||this}return F(n,t),n}(Es),xs=new m([0]).buffer,Ps=function(){function t(){this.th=void 0,this.th=[]}var n=t.prototype;return n.nh=function(t){for(var n=0,i=this.th;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.ih=function(t){for(var n=0,i=this.th;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.rh=function(t,n){this.th.forEach(function(n){return t(n[1],n[0])},n)},n.eh=function(t,n){this.th.push([t,n])},n.sh=function(){Je(this.th)},M(t,[{key:"uh",get:function(){return this.th.length}}]),t}(),Bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ls=16383,Ms=/[\t\n\f\r ]/g;function Us(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Fs()}function Fs(){throw new v("Invalid base64 input")}function Hs(t){var n=t;Ms.test(n)&&(n=n.replace(Ms,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Fs();for(var e,s=0===r?0:4-r,u=new m(function(t,n){return 3*(t+n)/4-n}(i,s)),o=s>0?i-4:i,h=0,a=0;h<o;h+=4)e=Us(n.charCodeAt(h))<<18|Us(n.charCodeAt(h+1))<<12|Us(n.charCodeAt(h+2))<<6|Us(n.charCodeAt(h+3)),u[a++]=e>>16&255,u[a++]=e>>8&255,u[a++]=255&e;return 2===s?(e=Us(n.charCodeAt(h))<<2|Us(n.charCodeAt(h+1))>>4,u[a++]=255&e):1===s&&(e=Us(n.charCodeAt(h))<<10|Us(n.charCodeAt(h+1))<<4|Us(n.charCodeAt(h+2))>>2,u[a++]=e>>8&255,u[a++]=255&e),u}function Vs(t,n,i){for(var r,e,s,u=[],o=n;o<i;o+=3)u.push((r=t[o],e=t[o+1],s=t[o+2],Bs[r>>2]+Bs[(3&r)<<4|e>>4]+Bs[(15&e)<<2|s>>6]+Bs[63&s]));return u.join("")}function Xs(t){for(var n=t.length,i=n%3,r=[],e=n-i,s=0;s<e;s+=Ls)r.push(Vs(t,s,_.min(e,s+Ls)));if(1===i){var u=t[n-1];r.push(Bs[u>>2]+Bs[(3&u)<<4]+"==")}else if(2===i){var o=t[n-2],h=t[n-1];r.push(Bs[o>>2]+Bs[(3&o)<<4|h>>4]+Bs[(15&h)<<2]+"=")}return r.join("")}var Ws=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],qs=ArrayBuffer.isView||function(t){return t&&Ze(Ws,J.call(t))};function zs(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new m(t),new m(n))}function Gs(t){var n=t.reduce(function(t,n){return t+n.byteLength},0);return js(t,n)}function js(t,n){for(var i=new m(n),r=0,e=0;e<t.length;e++){var s=t[e];i.set(s,r),r+=s.byteLength}return i}function Qs(t){return Hs(t).buffer}function Ys(t){return Xs(new m(t))}function Zs(t){return Xs(Du(t))}var Js=function(){function t(t){void 0===t&&(t=0),this.oh=t}var n=t.prototype;return n.hh=function(t){this.oh+=t},n.ah=function(t){this.oh=t},n.fh=function(){return new t(this.vh)},M(t,[{key:"vh",get:function(){return this.oh}}]),t}();function $s(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function Ks(t,n){return t>>n&63|128}function tu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?($s(t),n.push(t>>12&15|224),n.push(Ks(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(Ks(t,12)),n.push(Ks(t,6))),n.push(63&t|128)):n.push(t)}function nu(t,n){if(n.vh>=t.length)throw new v("Invalid byte index");var i=255&t[n.vh];if(n.hh(1),128==(192&i))return 63&i;throw new v("Invalid continuation byte")}function iu(t,n){var i=n.vh;if(i>t.length)throw new v("Invalid byte index");if(i===t.length)return!1;var r=255&t[i];if(n.hh(1),0==(128&r))return r;if(192==(224&r)){var e=(31&r)<<6|nu(t,n);if(e>=128)return e;throw new v("Invalid continuation byte")}if(224==(240&r)){var s=(15&r)<<12|nu(t,n)<<6|nu(t,n);if(s>=2048)return $s(s),s;throw new v("Invalid continuation byte")}if(240==(248&r)){var u=(7&r)<<18|nu(t,n)<<12|nu(t,n)<<6|nu(t,n);if(u>=65536&&u<=1114111)return u}throw new v("Invalid UTF-8 detected")}var ru=65279;var eu=[128,64,32,16,8,4,2,1],su=function(){function t(t){this.dh=t}return t.prototype.lh=function(t){return uu(this.dh,t)},t}();function uu(t,n){return(t&n)===n}function ou(t,n){return uu(t,eu[n])}function hu(t,n){var i=t.getUint8(n.vh);return n.hh(1),i}function au(t,n,i){t.setUint8(n.vh,i),n.hh(1)}function cu(t,n,i){var r=Mu(Hu(t),n.vh,n.vh+i);return n.hh(r.byteLength),r}function fu(t,n,i){Hu(t).set(Hu(i),n.vh),n.hh(i.byteLength)}function vu(t,n,i){return n.vh+i<=t.byteLength}function du(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,s=0;s<i;s++)r+=hu(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+hu(t,n);return r}(t,n,i)}function lu(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.vh,i);return n.hh(2),r}function _u(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.vh,i,r),n.hh(2)}function gu(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.vh,i);return n.hh(4),r}function wu(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.vh,i,r),n.hh(4)}function yu(t,n,i){void 0===i&&(i=!1);var r=gu(t,n,i),e=gu(t,n,i),s=i?e:r,u=i?r:e;return Wt.fromBits(u,s,!0)}function mu(t,n){var i=hu(t,n);if(i)return String.fromCharCode(i)}function ku(t,n){return bu(t,n)}function pu(t,n,i){for(var r="",e=0;e<i;e++)r+=mu(t,n);return r}function Au(t,n){var i,r=hu(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&hu(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&hu(t,n))+(63&hu(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&hu(t,n))+64*(63&hu(t,n))+(63&hu(t,n))),i}function bu(t,n){return Tu(t,n,!0)}function Tu(t,n,i){for(var r=[];n.vh<t.byteLength;){var e=hu(t,n);if(i&&!e)break;r.push(e)}return Le(r)}function Eu(t,n){if(n.vh+2<=t.byteLength){var i=t.getUint8(n.vh),r=t.getUint8(n.vh+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function Su(t,n){var i=Eu(t,n);return void 0!==i&&n.hh(2),Ru(t,n,!0===i)}function Ru(t,n,i){return void 0===i&&(i=!1),Iu(t,n,i,!0)}function Iu(t,n,i,r){for(var e=[];n.vh+2<=t.byteLength;){var s=lu(t,n,i);if(r&&!s)break;e.push(s)}return Le(e)}function Nu(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,s=0;s<e;s+=1){_u(t,n,i.charCodeAt(s),r)}}function Cu(t){return Tu(Fu(t),new zu,!1)}function Du(t){var n=new m(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)au(t,n,i.charCodeAt(e))}(Fu(n),new zu,t),n}function Ou(t,n){return void 0===n&&(n=!1),Iu(Fu(t),new zu,n,!1)}function xu(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return Nu(Fu(i),new zu,t,n),i}function Pu(t,n){return function(t,n,i){var r=[];(function(t,n){return n.vh+3<=t.byteLength&&239===t.getUint8(n.vh)&&187===t.getUint8(n.vh+1)&&191===t.getUint8(n.vh+2)})(t,n)&&n.hh(3);for(;n.vh<t.byteLength;){var e=Au(t,n);if(void 0===e)break;if(i&&0===e)break;r.push(e)}return Pe(r)}(t,n,!0)}function Bu(t){return Pe(function(t,n){var i,r=[],e=new zu;if(!n){if(!1===(i=iu(t,e)))return r;i===ru||r.push(i)}for(;!1!==(i=iu(t,e));)r.push(i);return r}(Hu(t)))}function Lu(t){return new m(function(t){for(var n=[],i=0;i<t.length;i++)tu(t[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t)))}function Mu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function Uu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function Fu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hu(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function Vu(t){return t instanceof ArrayBuffer||qs(t)}function Xu(t){return t instanceof ArrayBuffer?new m(t):Hu(t)}function Wu(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):qu(Mu(t,n,i))}function qu(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}var zu=function(){function t(t){void 0===t&&(t=0),this.oh=t}var n=t.prototype;return n.hh=function(t){this.oh+=t},n.ah=function(t){this.oh=t},n.fh=function(){return new t(this.vh)},n._h=function(){return new Js(this.vh<<3)},M(t,[{key:"vh",get:function(){return this.oh}}]),t}();function Gu(t){var n=t,i=0,r=0;Ne(n,"0x")&&(n=n.substring(2));var e=new m(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=g(n[0],16));i<n.length;i+=2)e[r++]=g(n.substr(i,2),16);return e}var ju=function(){function t(){var t=this;this.gh=void 0,this.zn=void 0,this.Z=void 0,this.gh=new E(function(n,i){t.zn=n,t.Z=i})}var n=t.prototype;return n.wh=function(t){this.zn&&(this.zn(t),this.mo())},n.yh=function(t){this.Z&&(this.Z(t),this.mo())},n.Eo=function(){this.gh.catch(R),this.yh(new ss)},n.mo=function(){this.zn=void 0,this.Z=void 0},t}();function Qu(){return new m([8,4]).buffer}function Yu(t){return zs(t,Qu())}function Zu(t,n){return t===ge?function(t){if(t.byteLength<2*Ju.length)return t;if(Ou(new DataView(t,0,2*Ju.length),!0)===Ju)return t;return n=t,xu('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+Ys(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Ju="<PlayReady";var $u=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,e)||this).mh=void 0,s.kh=void 0,s.mh=i,s.kh=r,s}return F(n,t),n}(on),Ku=function(t){function n(n,i){var r;(r=t.call(this)||this).ph=void 0,r.Ah=!1,r.bh=void 0,r.Th=void 0,r.Eh=function(){r.Sh()},r.Rh=function(t){r.xo(new Ns(sn(r),t.messageType,Zu(r.Ih,t.message)))},r.Nh=function(){r.Ah=!0,r.ph.uh>0&&(r.ph.sh(),r.xo(new Is(sn(r)))),r.Ch.removeEventListener("keystatuseschange",r.Eh),r.Ch.removeEventListener("message",r.Rh)},r.Ch=n,r.Ih=i,r.Ch.addEventListener("keystatuseschange",r.Eh),r.Ch.addEventListener("message",r.Rh),r.ph=new Ps;var e=[];return r.Ch.closed&&e.push(E.resolve(r.Ch.closed)),r.Th=new ju,e.push(r.Th.gh),r.bh=E.race(e).then(r.Nh,r.Nh),r.Sh(),r}F(n,t);var i=n.prototype;return i.Dh=function(){if(this.Ah)return this.bh;var t=[];return t.push(E.resolve(this.Ch.close())),t.push(ys(1e3)),this.Th.wh(E.race(t).catch(to)),this.Ah=!0,this.bh},i.Oh=function(t,n,i){return E.resolve(this.Ch.generateRequest(t,n)).catch(to)},i.xh=function(t){return E.resolve(this.Ch.load(t)).catch(to)},i.Ph=function(){return E.resolve(this.Ch.remove()).catch(to)},i.Bh=function(t){return E.resolve(this.Ch.update(t)).catch(to)},i.Sh=function(){var t=this;this.ph.sh(),this.Ch.keyStatuses.forEach(function(n,i){t.Lh(i,n)}),this.xo(new Is(this))},i.Lh=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=Xu(t);if(this.Ih===ge&&16===r.byteLength){var e=Fu(r),s=e.getUint32(0,!0),u=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,s,!1),e.setUint16(4,u,!1),e.setUint16(6,o,!1)}this.Ih===ge&&"status-pending"===n&&(n="usable"),this.ph.eh(r,n)},M(n,[{key:"Mh",get:function(){return this.bh}},{key:"Uh",get:function(){return this.Ch.expiration}},{key:"Fh",get:function(){return this.ph}},{key:"Hh",get:function(){return this.Ch.sessionId}}]),n}(bs);function to(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new $u(t.message,void 0,n,t)}var no=function(){function t(t,n,i){this.Vh=t,this.Xh=n,this.Wh=i}var n=t.prototype;return n.qh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Ku(this.Vh.createSession(n),this.Xh));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zh=function(t){return E.resolve(this.Vh.setServerCertificate(t))},n.Gh=function(t){return E.resolve(t.setMediaKeys(this.Vh))},n.jh=function(t){return E.resolve(t.setMediaKeys(null))},t}(),io=function(){function t(t,n,i){this.Qh=t,this.Ih=n,this.Yh=i}var n=t.prototype;return n.Zh=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Qh.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new no(n,this.Ih,this.Yh));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Jh=function(){return this.Yh},M(t,[{key:"Xh",get:function(){return this.Qh.keySystem}}]),t}(),ro={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function eo(t){return Ie(t,ro.APPLICATION_MP4)||Ie(t,ro.VIDEO_MP4)||Ie(t,ro.AUDIO_MP4)}var so=function(){function t(t,n){this.io=void 0,this.$h=void 0,this.io=t,this.$h=n}return t.prototype.Kh=function(t){for(var n=0,i=this.$h;n<i.length;n++){var r=i[n],e=r[0],s=r[1];if(e.toLowerCase()===t.toLowerCase())return s}},t}();function uo(t){var n=t.trim(),i=n.indexOf(";");if(i<0)return new so(n,[]);for(var r=n.substr(0,i).trim(),e=n.substr(i+1).trim(),s=[],u=0,o=!1,h=0;h<e.length;h++){var a=e[h];if(o||";"!==a)'"'===a&&(o=!o);else{var c=oo(e.substr(u,h));c&&s.push(c),u=h+1}}if(u!==e.length){var f=oo(e.substr(u));f&&s.push(f)}return new so(r,s)}function oo(t){var n=t.indexOf("=");if(!(n<0)){var i=t.substr(0,n).trim(),r=t.substr(n+1).trim();return'"'===r[0]&&(r=r.substring(1,r.length-1)),[i,r]}}function ho(t){var n=t.trim(),i=n.indexOf(";");return i<0?n:n.substr(0,i).trim()}function ao(t,n,i,r){var e=!1;if(!(r.persistentState&&"optional"!==r.persistentState||r.distinctiveIdentifier&&"optional"!==r.distinctiveIdentifier)){var s={audioCapabilities:[],videoCapabilities:[],persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label,ta:r.ta},u=!1;if(r.audioCapabilities){var o=r.audioCapabilities.filter(function(t){return Boolean(t.contentType)});o.length&&(s.audioCapabilities=o.filter(function(r){return co(t,n,i,r)}),u=!0,s.audioCapabilities.length&&(e=!0))}if(r.videoCapabilities){var h=r.videoCapabilities.filter(function(t){return Boolean(t.contentType)});h.length&&(s.videoCapabilities=h.filter(function(r){return co(t,n,i,r)}),u=!0,s.videoCapabilities.length&&(e=!0))}return u||(e=t(i,"video/mp4")),e?s:void 0}}function co(t,n,i,r){return!!r.contentType&&(!(r.encryptionScheme&&!Ze(n,r.encryptionScheme))&&(!r.robustness&&t(i,ho(r.contentType))))}function fo(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,s=t.audioCapabilities;e<s.length;e++){var u=s[e];if(u.contentType)return u.contentType}}function vo(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.encryptionScheme&&n.push({contentType:r.contentType,robustness:r.robustness})}return t.concat(n)}function lo(t){return!(!t.audioCapabilities||!t.audioCapabilities.some(_o))||!(!t.videoCapabilities||!t.videoCapabilities.some(_o))}function _o(t){return!t.robustness}function go(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.robustness?i.push(e):i.push(te({},e,{robustness:n}))}return i}var wo=function(){function t(){}return t.prototype.fo=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,h,a,c,f;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(i=i.filter(function(t){return!t.ta}),r=0,e=i;r<e.length;r++)(s=e[r]).audioCapabilities&&(s.audioCapabilities=vo(s.audioCapabilities)),s.videoCapabilities&&(s.videoCapabilities=vo(s.videoCapabilities));if("com.widevine.alpha"!==n||!i.some(lo)){t.next=14;break}return u=i.map(function(t){return i="SW_SECURE_CRYPTO",te({},n=t,{videoCapabilities:n.videoCapabilities?go(n.videoCapabilities,i):void 0,audioCapabilities:n.audioCapabilities?go(n.audioCapabilities,i):void 0});var n,i}),t.prev=4,t.next=7,o.requestMediaKeySystemAccess(n,u);case 7:return h=t.sent,a=h.getConfiguration(),t.abrupt("return",new io(h,n,a));case 12:t.prev=12,t.t0=t.catch(4);case 14:return t.next=16,o.requestMediaKeySystemAccess(n,i);case 16:return c=t.sent,f=c.getConfiguration(),t.abrupt("return",new io(c,n,f));case 19:case"end":return t.stop()}},t,null,[[4,12]])}));return function(n,i){return t.apply(this,arguments)}}(),t.na=function(){return Fe()},t}(),yo=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ah=!1,r.ia=void 0,r.ra=void 0,r.ea=void 0,r.sa=void 0,r.ua=void 0,r.Nh=function(){r.Ah=!0,r.ia.wh(void 0),r.ua&&(r.ua.removeEventListener("mskeyclose",r.Nh),r.ua.removeEventListener("mskeymessage",r.oa),r.ua.removeEventListener("mskeyerror",r.ha),r.ua.removeEventListener("mskeyadded",r.aa))},r.oa=function(t){r.ea&&(r.ea.wh(void 0),r.ea=void 0),r.xo(new Ns(sn(r),"license-request",qu(t.message).buffer,t.destinationURL||void 0))},r.ha=function(){var t=r.ua&&r.ua.error;if(t){var n=new $u("Unknown CDM error",t.code,t.systemCode);if(r.ea)r.ea.yh(n),r.ea=void 0;else if(r.ra)r.ra.yh(n),r.ra=void 0;else switch(n.mh){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.ca("output-not-allowed");break;default:r.ca("internal-error")}}},r.aa=function(){r.ea&&(r.ca("usable"),r.ea.wh(void 0),r.ea=void 0),r.ra&&(r.ca("usable"),r.ra.wh(void 0),r.ra=void 0)},r.fa=n,r.va=i,r.ia=new ju,r.sa=new Ps,r}F(n,t);var i=n.prototype;return i.Oh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.da(),this.ea=new ju,this.qh(Xu(i),r),t.next=5,this.ea.gh;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.qh=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.la;return(i=n?this.fa.createSession(this.va,t,r):this.fa.createSession(this.va,t)).addEventListener("mskeyclose",this.Nh),i.addEventListener("mskeymessage",this.oa),i.addEventListener("mskeyerror",this.ha),i.addEventListener("mskeyadded",this.aa),this.ua=i,this.ca("status-pending"),i},i.xh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.da(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ra=new ju,this.da(),this.ua){t.next=4;break}return t.abrupt("return",E.resolve());case 4:if(0!==(i=Xu(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.ua.update(i),t.next=10,this.ra.gh;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dh=function(){return!this.Ah&&this.ua&&(this.Ah=!0,this.ua.close()),this.ia.gh},i.Ph=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.da(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.da=function(){if(this.Ah)throw new d("Already closing or closed.")},i.ca=function(t){this.sa.sh(),this.sa.eh(xs,t),this.xo(new Is(this))},M(n,[{key:"Hh",get:function(){return this.ua&&this.ua.sessionId||""}},{key:"Uh",get:function(){return NaN}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Fh",get:function(){return this.sa}}]),n}(bs),mo=function(){function t(t,n,i){this.va=void 0,this.fa=t,this.Xh=n,this.Wh=i;var r=fo(i)||"video/mp4";this.va=ho(r)}var n=t.prototype;return n.qh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new yo(this.fa,this.va));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zh=function(t){return E.resolve(!1)},n.Gh=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.fa):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.fa),t.removeEventListener("loadedmetadata",i)}),E.resolve()},n.jh=function(t){return E.resolve()},t}(),ko=function(){function t(t,n){this.Ih=t,this._a=n}var n=t.prototype;return n.Jh=function(){return this._a},n.Zh=function(){var t=new kr.MSMediaKeys(this.Ih);return E.resolve(new mo(t,this.Ih,this._a))},M(t,[{key:"Xh",get:function(){return this.Ih}}]),t}(),po=function(){function t(){}return t.prototype.fo=function(t,n){try{return E.resolve(function(t,n){if(!Ao())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ao(bo,Ss,t,r);if(e)return new ko(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.na=function(){return Ao()},t}();function Ao(){return void 0!==kr.MSMediaKeys&&"function"==typeof kr.MSMediaKeys.isTypeSupported}function bo(t,n){return kr.MSMediaKeys.isTypeSupported(t,n)}var To,Eo,So=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).ia=new ju,e.ga=void 0,e.sa=new Ps,e.wa=void 0,e.ya=new ju,e.ha=function(){var t=e.wa&&e.wa.error;if(t){var n=new $u("Unknown CDM error",t.code,t.systemCode);e.ga?(e.ga.yh(n),e.ga=void 0):n.mh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?e.ca("output-not-allowed"):e.ca("internal-error"),e.xo(new Cs)}},e.oa=function(t){e.ga&&(e.ga.wh(void 0),e.ga=void 0),e.xo(new Ns(sn(e),"license-request",qu(t.message).buffer,"this is a test string"===t.destinationURL?void 0:t.destinationURL))},e.ma=n,e.va=i,e.ka=r,e}F(n,t);var i=n.prototype;return i.Oh=function(t,n,i){var r=i&&i.fairplay&&i.fairplay.pa;if(!r)throw new d("Expected FairPlay contentId to be defined but was "+r+".");var e=Ro(Xu(n),r,this.ka);return this.wa=this.ma.createSession(this.va,e),this.wa.addEventListener("webkitkeymessage",this.oa,!1),this.wa.addEventListener("webkitkeyerror",this.ha,!1),this.ca("usable"),this.ya.wh(this.wa),this.ya=new ju,E.resolve()},i.xh=function(t){return E.resolve(!0)},i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Xu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.ga=new ju,t.t0=this.wa,t.t0){t.next=9;break}return t.next=8,this.ya.gh;case 8:t.t0=t.sent;case 9:return t.t0.update(i),t.next=13,this.ga.gh;case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dh=function(){var t=this.wa;return t&&(t.removeEventListener("webkitkeymessage",this.oa,!1),t.removeEventListener("webkitkeyerror",this.ha,!1),t.close()),this.ya.Eo(),this.ia.wh(void 0),this.ia.gh},i.Ph=function(){return E.resolve(void 0)},i.ca=function(t){this.sa.sh(),this.sa.eh(xs,t),this.xo(new Is(this))},M(n,[{key:"Hh",get:function(){return this.wa?this.wa.sessionId:""}},{key:"Uh",get:function(){return NaN}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Fh",get:function(){return this.sa}}]),n}(bs);function Ro(t,n,i){var r=Bu(t),e=2*r.length,s=2*n.length,u=new ArrayBuffer(4+e+4+s+4+i.byteLength),o=new DataView(u),h=new zu;return wu(o,h,e,!0),Nu(o,h,r,!0),wu(o,h,s,!0),Nu(o,h,n,!0),wu(o,h,i.byteLength,!0),fu(o,h,i),new m(u)}(To=n.ErrorCode||(n.ErrorCode={}))[To.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",To[To.LICENSE_ERROR=2e3]="LICENSE_ERROR",To[To.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",To[To.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",To[To.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",To[To.SOURCE_INVALID=3e3]="SOURCE_INVALID",To[To.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",To[To.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",To[To.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",To[To.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",To[To.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",To[To.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",To[To.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",To[To.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",To[To.MEDIA_ABORTED=5004]="MEDIA_ABORTED",To[To.NETWORK_ERROR=6e3]="NETWORK_ERROR",To[To.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",To[To.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",To[To.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",To[To.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",To[To.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",To[To.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",To[To.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",To[To.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",To[To.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",To[To.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",To[To.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",To[To.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",To[To.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",To[To.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",To[To.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",To[To.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",To[To.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",To[To.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",To[To.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",To[To.AD_ERROR=1e4]="AD_ERROR",To[To.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",To[To.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(Eo=n.ErrorCategory||(n.ErrorCategory={}))[Eo.CONFIGURATION=1]="CONFIGURATION",Eo[Eo.LICENSE=2]="LICENSE",Eo[Eo.SOURCE=3]="SOURCE",Eo[Eo.MANIFEST=4]="MANIFEST",Eo[Eo.MEDIA=5]="MEDIA",Eo[Eo.NETWORK=6]="NETWORK",Eo[Eo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",Eo[Eo.SUBTITLE=8]="SUBTITLE",Eo[Eo.VR=9]="VR",Eo[Eo.AD=10]="AD",Eo[Eo.FULLSCREEN=11]="FULLSCREEN",function(t){(n.ErrorCategory||(n.ErrorCategory={})).fromCode=function(t){var i=_.floor(t/1e3);if(i in n.ErrorCategory)return i;throw new d("Invalid error code: "+t)}}();var Io=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=void 0,e.code=n,e}return F(i,t),M(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(on),No=function(){function t(t,n,i){this.va=void 0,this.ka=void 0,this.ma=t,this.Xh=n,this.Wh=i;var r=fo(i)||"video/mp4";this.va=ho(r)}var i=t.prototype;return i.getInternalMediaKeys=function(){return this.ma},i.qh=function(){var t=E.coroutine(Kr.mark(function t(i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ka){t.next=2;break}throw new Io(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return t.abrupt("return",new So(this.ma,this.va,this.ka));case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zh=function(t){return this.ka=Xu(t),E.resolve(!0)},i.Gh=function(t){return t.webkitSetMediaKeys(this.ma),E.resolve()},i.jh=function(t){return t.webkitSetMediaKeys(null),E.resolve()},t}(),Co=function(){function t(t,n){this.Ih=t,this._a=n}var n=t.prototype;return n.Jh=function(){return this._a},n.Zh=function(){var t=new kr.WebKitMediaKeys(this.Ih);return E.resolve(new No(t,this.Ih,this._a))},M(t,[{key:"Xh",get:function(){return this.Ih}}]),t}(),Do=function(){function t(){}return t.prototype.fo=function(t,n){try{return E.resolve(function(t,n){if(t!==ke)throw new d(t+" is not supported with webkit-prefixed Encrypted Media Extensions.");if(!Oo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ao(xo,Rs,t,r);if(e)return new Co(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return E.reject(t)}},t.na=function(){return Oo()},t}();function Oo(){return void 0!==kr.WebKitMediaKeys&&"function"==typeof kr.WebKitMediaKeys.isTypeSupported}function xo(t,n){return kr.WebKitMediaKeys.isTypeSupported(t,n)}var Po,Bo=function(){function t(t){this.Aa=t}return t.prototype.fo=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.Aa;case 1:if(!(r<e.length)){t.next=14;break}return s=e[r],t.prev=3,t.next=6,s.fo(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),Lo=function(t){function n(n){var i;return(i=t.call(this)||this).ea=void 0,i.ga=void 0,i.ia=void 0,i.ba=!1,i.Ta=void 0,i.Ea=void 0,i.Sa=void 0,i.Ra=void 0,i.Ia=void 0,i.Ih=n,i.ia=new ju,i.Ea="",i.Ia=new ju,i.Sa=new Ps,i}F(n,t);var i=n.prototype;return i.Na=function(){this.ga&&(this.ca("usable"),this.ga.wh(void 0),this.ga=void 0)},i.Ca=function(t){var n=new $u("Unknown CDM error",t.errorCode,t.systemCode);this.ga?(this.ga.yh(n),this.ga=void 0):this.ea?(this.ea.yh(n),this.ea=void 0):n.mh===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.ca("output-restricted"):1===n.kh?this.ca("expired"):this.ca("internal-error")},i.Da=function(t){0!==t.message.byteLength&&(this.ea&&(this.ea.wh(void 0),this.ea=void 0),this.xo(new Ns(this,"license-request",Zu(this.Ih,qu(t.message).buffer),t.defaultURL||void 0)))},i.Oa=function(t){this.Ra||(this.Ra=t,this.Ia.wh(t))},i.Dh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.ba=!0,this.ia.wh(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Oh=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ea=new ju,this.Ta=Xu(i),t.t0=this.Ra,t.t0){t.next=8;break}return t.next=7,this.Ia.gh;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Ih,this.Ta),t.next=12,this.ea.gh;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.xh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Ph=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ga=new ju,t.t0=this.Ra,t.t0){t.next=7;break}return t.next=6,this.Ia.gh;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Ih,Xu(n),this.Ta,this.Hh),t.next=11,this.ga.gh;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.ba)throw new d("Already closing or closed.")},i.ca=function(t){this.Sa.sh(),this.Sa.eh(xs,t),this.xo(new Is(this))},M(n,[{key:"Fh",get:function(){return this.Sa}},{key:"Hh",get:function(){return this.Ea},set:function(t){this.Ea=t}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Uh",get:function(){return NaN}}]),n}(bs),Mo=function(){function t(t,n){var i=this;this.Ra=void 0,this.xa=ie(),this.Pa=[],this.aa=function(t){var n=i.Ba(t.sessionId);n&&n.Na()},this.La=function(t){var n=i.Ba(t.sessionId);n&&n.Ca(t)},this.Ma=function(t){var n=i.Ba(t.sessionId);n&&n.Da(t)},this.Xh=t,this.Wh=n}var n=t.prototype;return n.Gh=function(t){return this.Ra=t,this.Ra.addEventListener("webkitkeyadded",this.aa),this.Ra.addEventListener("webkitkeyerror",this.La),this.Ra.addEventListener("webkitkeymessage",this.Ma),this.xa.forEach(function(n,i){return n.Oa(t)}),this.Pa.forEach(function(n){return n.Oa(t)}),E.resolve()},n.jh=function(t){return t.removeEventListener("webkitkeyadded",this.aa),t.removeEventListener("webkitkeyerror",this.La),t.removeEventListener("webkitkeymessage",this.Ma),this.Ra=void 0,E.resolve()},n.qh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Lo(this.Xh),this.Ra&&e.Oa(this.Ra),this.Pa.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.zh=function(t){return E.resolve(!1)},n.Ba=function(t){if(t){var n=this.xa.get(t);return n||((n=this.Pa.shift())?(n.Hh=t,this.xa.set(t,n),n):void 0)}},t}(),Uo=function(){function t(t,n){this.Xh=t,this.Ua=n}var n=t.prototype;return n.Zh=function(){return E.resolve(new Mo(this.Xh,this.Ua))},n.Jh=function(){return this.Ua},t}(),Fo=function(){function t(){}return t.prototype.fo=function(t,n){try{return E.resolve(Ho(t,n))}catch(t){return E.reject(t)}},t.na=function(){return He()},t}();function Ho(t,n){if(!Fo.na())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=ao(Vo,Ss,t,r);if(e)return new Uo(t,e)}throw new d("Unsupported key system configuration for "+t)}function Vo(t,n){var i=Br();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Xo(){return Po||(Po=function(){var t=[];Do.na()&&t.push(new Do);wo.na()&&t.push(new wo);po.na()&&t.push(new po);Fo.na()&&t.push(new Fo);return new Bo(t)}()),Po}var Wo=function(){function t(){this.Fa=ie()}var n=t.prototype;return n.sh=function(t){this.Fa.delete(t)},n.Ha=function(){this.Fa.clear()},n.ih=function(t){return this.Fa.get(t)},n.Va=function(t,n){this.Fa.set(t,n)},t}(),qo=function(){function t(){}return t.Xa=function(){return t.je||(t.je=zo.na()?new zo:new Wo),t.je},t.sh=function(n){t.Xa().sh(n)},t.Ha=function(){t.Xa().Ha()},t.ih=function(n){return t.Xa().ih(n)},t.Va=function(n,i){t.Xa().Va(n,i)},t}();qo.je=void 0;var zo=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.na=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.sh=function(n){t.sessionStorage.removeItem(n)},r.Ha=function(){t.sessionStorage.clear()},r.ih=function(n){return t.sessionStorage[n]},r.Va=function(n,i){t.sessionStorage[n]=i},i}(qo);var Go=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var s=t[e];i.append(s)}return i.getBlob(n&&n.type||"")}):null}();function jo(t,n,i){var r=Go([n],{type:"application/octet-stream"}),e=URL.createObjectURL(r),u=function(t,n){var i=t,r=i.indexOf("?");if(r>=0&&(i=i.substr(0,r)),i=i.substr(i.lastIndexOf("/")+1),n){var e=i.indexOf(".");e<0&&(e=i.length),i=i.substr(0,e)+n+i.substr(e)}return i}(t,i),o=s.createElement("a");o.href=e,o.download=u,s.body.appendChild(o),o.click(),s.body.removeChild(o),URL.revokeObjectURL(e)}var Qo,Yo;!function(t){t.Wa="qa",t.za="Ga",t.ja="contentprotectionerror",t.Qa="contentprotectionsuccess",t.Ya="currentsourcechange",t.Za="destroy",t.Ja="durationchange",t.$a="emptied",t.Yo="encrypted",t.Ka="ended",t.tc="nc",t.ic="loadstart",t.rc="manifestupdate",t.ec="nosupportedrepresentationfound",t.sc="offline",t.uc="online",t.oc="pause",t.hc="play",t.ac="progress",t.cc="ratechange",t.fc="representationchange",t.vc="resize",t.dc="seeked",t.lc="seeking",t._c="segmentnotfound",t.gc="wc",t.yc="mc",t.kc="sourcechange",t.pc="timeupdate",t.Ac="volumechange",t.bc="Tc",t.Ec="metricschange"}(Qo||(Qo={})),function(t){t.Sc="arraybuffer",t.Rc="json",t.Ic="stream",t.Je="text"}(Yo||(Yo={}));var Zo=function(){function t(n){var i=this;this.Yu=void 0,this.Yu={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Jo(i),r=$o(r);var e=i.toLowerCase();if(this.Yu.hasOwnProperty(e)){var s=this.Yu[e],u=s[1];s[1]=u?u+", "+r:r}else this.Yu[e]=[i,r]},n.delete=function(t){var n=Jo(t).toLowerCase();delete this.Yu[n]},n.get=function(t){var n=Jo(t).toLowerCase();return this.Yu.hasOwnProperty(n)?this.Yu[n][1]:null},n.has=function(t){var n=Jo(t).toLowerCase();return this.Yu.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Jo(i)).toLowerCase();this.Yu[r]=[i,$o(n)]},n.forEach=function(t,n){for(var i in this.Yu)this.Yu.hasOwnProperty(i)&&t.call(n,this.Yu[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Yu)if(this.Yu.hasOwnProperty(n)){var i=this.Yu[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Nc=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Cc=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.Dc=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Jo(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function $o(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function th(){}var nh=Number.isNaN||function(t){return t!=t},ih=th;function rh(t){return"object"==typeof t&&null!==t||"function"==typeof t}function eh(t){return t.slice()}function sh(t){return!1!==function(t){if("number"!=typeof t)return!1;if(nh(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function uh(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function oh(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return ah(e,t,r)};case 1:return function(n){var i=[n].concat(r);return ah(e,t,i)}}}return function(){return yh(void 0)}}function hh(t,n,i){var r=t[n];if(void 0!==r)return uh(r,t,i)}function ah(t,n,i){try{return yh(uh(t,n,i))}catch(t){return mh(t)}}function ch(t){return t}function fh(t){if(t=Number(t),nh(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function vh(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var dh=E,lh=E.prototype.then,_h=E.resolve.bind(dh),gh=E.reject.bind(dh);function wh(t){return new dh(t)}function yh(t){return _h(t)}function mh(t){return gh(t)}function kh(t,n,i){return lh.call(t,n,i)}function ph(t,n,i){kh(kh(t,n,i),void 0,ih)}function Ah(t,n){ph(t,n)}function bh(t,n){ph(t,void 0,n)}function Th(t,n,i){return kh(t,n,i)}function Eh(t){kh(t,void 0,ih)}var Sh=function(){function t(){this.Oc=0,this.xc=0,this.Ni={Pc:[],Bc:void 0},this.Lc=this.Ni,this.Oc=0,this.xc=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.xc},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.Lc,i=n;16383===n.Pc.length&&(i={Pc:[],Bc:void 0}),n.Pc.push(t),i!==n&&(this.Lc=i,n.Bc=i),++this.xc},t.prototype.shift=function(){var t=this.Ni,n=t,i=this.Oc,r=i+1,e=t.Pc,s=e[i];return 16384===r&&(n=t.Bc,r=0),--this.xc,this.Oc=r,t!==n&&(this.Ni=n),e[i]=void 0,s},t.prototype.forEach=function(t){for(var n=this.Oc,i=this.Ni,r=i.Pc;!(n===r.length&&void 0===i.Bc||n===r.length&&(n=0,0===(r=(i=i.Bc).Pc).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.Ni,n=this.Oc;return t.Pc[n]},t}();function Rh(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function Ih(t,n){t.Mc=!0,t.Uc=n,n.Fc=t,"readable"===n.Hc?Oh(t):"closed"===n.Hc?function(t){Oh(t),Bh(t)}(t):xh(t,n.Vc)}function Nh(t,n){return Fc(t.Uc,n)}function Ch(t){"readable"===t.Uc.Hc?Ph(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){xh(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.Uc.Fc=void 0,t.Uc=void 0}function Dh(t){return new d("Cannot "+t+" a stream using a released reader")}function Oh(t){t.bh=wh(function(n,i){t.Xc=n,t.Wc=i})}function xh(t,n){Oh(t),Ph(t,n)}function Ph(t,n){Eh(t.bh),t.Wc(n),t.Xc=void 0,t.Wc=void 0}function Bh(t){t.Xc(void 0),t.Xc=void 0,t.Wc=void 0}var Lh=Ko("[[CancelSteps]]"),Mh=Ko("[[PullSteps]]");function Uh(t,n){void 0===n&&(n=!1);var i=new zh(t);return i.Mc=n,i}function Fh(t){return wh(function(n,i){var r={zn:n,Z:i};t.Fc.qc.push(r)})}function Hh(t,n,i){var r=t.Fc;r.qc.shift().zn(Rh(n,i,r.Mc))}function Vh(t){return t.Fc.qc.length}function Xh(t){var n=t.Fc;return void 0!==n&&!!Gh(n)}var Wh,qh,zh=function(){function t(t){if(!1===Mc(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Uc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ih(this,t),this.qc=new Sh}return l.defineProperty(t.prototype,"closed",{get:function(){return Gh(this)?this.bh:mh(Qh("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Gh(this)?void 0===this.Uc?mh(Dh("cancel")):Nh(this,t):mh(Qh("cancel"))},t.prototype.read=function(){return Gh(this)?void 0===this.Uc?mh(Dh("read from")):jh(this):mh(Qh("read"))},t.prototype.releaseLock=function(){if(!Gh(this))throw Qh("releaseLock");if(void 0!==this.Uc){if(this.qc.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ch(this)}},t}();function Gh(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"qc")}function jh(t){var n=t.Uc;return n.zc=!0,"closed"===n.Hc?yh(Rh(void 0,!0,t.Mc)):"errored"===n.Hc?mh(n.Vc):n.Gc[Mh]()}function Qh(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof Ko.asyncIterator&&((Wh={})[Ko.asyncIterator]=function(){return this},qh=Wh,l.defineProperty(qh,Ko.asyncIterator,{enumerable:!1}));var Yh={next:function(){if(!1===Zh(this))return mh(Jh("next"));var t=this.jc;return void 0===t.Uc?mh(Dh("iterate")):Th(jh(t),function(n){var i=n.done;return i&&Ch(t),Rh(n.value,i,!0)})},return:function(t){if(!1===Zh(this))return mh(Jh("next"));var n=this.jc;if(void 0===n.Uc)return mh(Dh("finish iterating"));if(n.qc.length>0)return mh(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.Qc){var i=Nh(n,t);return Ch(n),Th(i,function(){return Rh(t,!0,!0)})}return Ch(n),yh(Rh(t,!0,!0))}};function Zh(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"jc")}function Jh(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function $h(t){var n=t.Fn.shift();return t.Yc-=n.size,t.Yc<0&&(t.Yc=0),n.value}function Kh(t,n,i){if(!sh(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Fn.push({value:n,size:i}),t.Yc+=i}function ta(t){t.Fn=new Sh,t.Yc=0}void 0!==qh&&l.setPrototypeOf(Yh,qh),l.defineProperty(Yh,"next",{enumerable:!1}),l.defineProperty(Yh,"return",{enumerable:!1});var na=Ko("[[AbortSteps]]"),ia=Ko("[[ErrorSteps]]"),ra=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),sa(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=vh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(ba.prototype);var s=oh(n,"write",1,[e]),u=oh(n,"close",0,[]),o=oh(n,"abort",1,[]);Ta(t,e,function(){return hh(n,"start",[e])},s,u,o,i,r)}(this,t,r=fh(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===ua(this))throw Da("locked");return oa(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===ua(this)?mh(Da("abort")):!0===oa(this)?mh(new d("Cannot abort a stream that already has a writer")):ha(this,t)},t.prototype.close=function(){return!1===ua(this)?mh(Da("close")):!0===oa(this)?mh(new d("Cannot close a stream that already has a writer")):!0===da(this)?mh(new d("Cannot close an already-closing stream")):aa(this)},t.prototype.getWriter=function(){if(!1===ua(this))throw Da("getWriter");return ea(this)},t}();function ea(t){return new ga(t)}function sa(t){t.Hc="writable",t.Vc=void 0,t.Zc=void 0,t.Jc=void 0,t.$c=new Sh,t.Kc=void 0,t.tf=void 0,t.nf=void 0,t.if=void 0,t.rf=!1}function ua(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Jc")}function oa(t){return void 0!==t.Zc}function ha(t,n){var i=t.Hc;if("closed"===i||"errored"===i)return yh(void 0);if(void 0!==t.if)return t.if._n;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=wh(function(i,e){t.if={_n:void 0,zn:i,Z:e,Pn:n,ef:r}});return t.if._n=e,!1===r&&fa(t,n),e}function aa(t){var n=t.Hc;if("closed"===n||"errored"===n)return mh(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=wh(function(n,i){var r={zn:n,Z:i};t.tf=r}),e=t.Zc;return void 0!==e&&!0===t.rf&&"writable"===n&&Xa(e),Kh(i=t.Jc,"close",0),Ra(i),r}function ca(t,n){"writable"!==t.Hc?va(t):fa(t,n)}function fa(t,n){var i=t.Jc;t.Hc="erroring",t.Vc=n;var r=t.Zc;void 0!==r&&ka(r,n),!1===function(t){if(void 0===t.Kc&&void 0===t.nf)return!1;return!0}(t)&&!0===i.sf&&va(t)}function va(t){t.Hc="errored",t.Jc[ia]();var n=t.Vc;if(t.$c.forEach(function(t){t.Z(n)}),t.$c=new Sh,void 0!==t.if){var i=t.if;if(t.if=void 0,!0===i.ef)return i.Z(n),void la(t);ph(t.Jc[na](i.Pn),function(){i.zn(),la(t)},function(n){i.Z(n),la(t)})}else la(t)}function da(t){return void 0!==t.tf||void 0!==t.nf}function la(t){void 0!==t.tf&&(t.tf.Z(t.Vc),t.tf=void 0);var n=t.Zc;void 0!==n&&La(n,t.Vc)}function _a(t,n){var i=t.Zc;void 0!==i&&n!==t.rf&&(!0===n?function(t){Ua(t)}(i):Xa(i)),t.rf=n}var ga=function(){function t(t){if(!1===ua(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===oa(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.uf=t,t.Zc=this;var n,i=t.Hc;if("writable"===i)!1===da(t)&&!0===t.rf?Ua(this):Ha(this),Pa(this);else if("erroring"===i)Fa(this,t.Vc),Pa(this);else if("closed"===i)Ha(this),Pa(n=this),Ma(n);else{var r=t.Vc;Fa(this,r),Ba(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===wa(this)?mh(Oa("closed")):this.bh},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===wa(this))throw Oa("desiredSize");if(void 0===this.uf)throw xa("desiredSize");return function(t){var n=t.uf,i=n.Hc;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Sa(n.Jc)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===wa(this)?mh(Oa("ready")):this.hf},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===wa(this)?mh(Oa("abort")):void 0===this.uf?mh(xa("abort")):function(t,n){return ha(t.uf,n)}(this,t)},t.prototype.close=function(){if(!1===wa(this))return mh(Oa("close"));var t=this.uf;return void 0===t?mh(xa("close")):!0===da(t)?mh(new d("Cannot close an already-closing stream")):ya(this)},t.prototype.releaseLock=function(){if(!1===wa(this))throw Oa("releaseLock");void 0!==this.uf&&pa(this)},t.prototype.write=function(t){return!1===wa(this)?mh(Oa("write")):void 0===this.uf?mh(xa("write to")):Aa(this,t)},t}();function wa(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"uf")}function ya(t){return aa(t.uf)}function ma(t,n){"pending"===t.af?La(t,n):function(t,n){Ba(t,n)}(t,n)}function ka(t,n){"pending"===t.cf?Va(t,n):function(t,n){Fa(t,n)}(t,n)}function pa(t){var n=t.uf,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");ka(t,i),ma(t,i),n.Zc=void 0,t.uf=void 0}function Aa(t,n){var i=t.uf,r=i.Jc,e=function(t,n){try{return t.ff(n)}catch(n){return Ia(t,n),1}}(r,n);if(i!==t.uf)return mh(xa("write to"));var s=i.Hc;if("errored"===s)return mh(i.Vc);if(!0===da(i)||"closed"===s)return mh(new d("The stream is closing or closed and cannot be written to"));if("erroring"===s)return mh(i.Vc);var u=function(t){return wh(function(n,i){var r={zn:n,Z:i};t.$c.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{Kh(t,r,i)}catch(n){return void Ia(t,n)}var e=t.vf;if(!1===da(e)&&"writable"===e.Hc){var s=Na(t);_a(e,s)}Ra(t)}(r,n,e),u}var ba=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!rh(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"vf"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.vf.Hc&&Ca(this,t)},t.prototype[na]=function(t){var n=this.df(t);return Ea(this),n},t.prototype[ia]=function(){ta(this)},t}();function Ta(t,n,i,r,e,s,u,o){n.vf=t,t.Jc=n,n.Fn=void 0,n.Yc=void 0,ta(n),n.sf=!1,n.ff=o,n.lf=u,n._f=r,n.gf=e,n.df=s;var h=Na(n);_a(t,h),ph(yh(i()),function(){n.sf=!0,Ra(n)},function(i){n.sf=!0,ca(t,i)})}function Ea(t){t._f=void 0,t.gf=void 0,t.df=void 0,t.ff=void 0}function Sa(t){return t.lf-t.Yc}function Ra(t){var n=t.vf;if(!1!==t.sf&&void 0===n.Kc)if("erroring"!==n.Hc){if(0!==t.Fn.length){var i=t.Fn.peek().value;"close"===i?function(t){var n=t.vf;(function(t){t.nf=t.tf,t.tf=void 0})(n),$h(t);var i=t.gf();Ea(t),ph(i,function(){!function(t){t.nf.zn(void 0),t.nf=void 0,"erroring"===t.Hc&&(t.Vc=void 0,void 0!==t.if&&(t.if.zn(),t.if=void 0)),t.Hc="closed";var n=t.Zc;void 0!==n&&Ma(n)}(n)},function(t){!function(t,n){t.nf.Z(n),t.nf=void 0,void 0!==t.if&&(t.if.Z(n),t.if=void 0),ca(t,n)}(n,t)})}(t):function(t,n){var i=t.vf;(function(t){t.Kc=t.$c.shift()})(i),ph(t._f(n),function(){!function(t){t.Kc.zn(void 0),t.Kc=void 0}(i);var n=i.Hc;if($h(t),!1===da(i)&&"writable"===n){var r=Na(t);_a(i,r)}Ra(t)},function(n){"writable"===i.Hc&&Ea(t),function(t,n){t.Kc.Z(n),t.Kc=void 0,ca(t,n)}(i,n)})}(t,i.chunk)}}else va(n)}function Ia(t,n){"writable"===t.vf.Hc&&Ca(t,n)}function Na(t){return Sa(t)<=0}function Ca(t,n){var i=t.vf;Ea(t),fa(i,n)}function Da(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Oa(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function xa(t){return new d("Cannot "+t+" a stream using a released writer")}function Pa(t){t.bh=wh(function(n,i){t.Xc=n,t.Wc=i,t.af="pending"})}function Ba(t,n){Pa(t),La(t,n)}function La(t,n){Eh(t.bh),t.Wc(n),t.Xc=void 0,t.Wc=void 0,t.af="rejected"}function Ma(t){t.Xc(void 0),t.Xc=void 0,t.Wc=void 0,t.af="resolved"}function Ua(t){t.hf=wh(function(n,i){t.wf=n,t.yf=i}),t.cf="pending"}function Fa(t,n){Ua(t),Va(t,n)}function Ha(t){Ua(t),Xa(t)}function Va(t,n){Eh(t.hf),t.yf(n),t.wf=void 0,t.yf=void 0,t.cf="rejected"}function Xa(t){t.wf(void 0),t.wf=void 0,t.yf=void 0,t.cf="fulfilled"}function Wa(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var qa="undefined"!=typeof DOMException?DOMException:void 0;var za,Ga=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(qa)?qa:((za=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(za.prototype,"constructor",{value:za,writable:!0,configurable:!0}),za);function ja(t,n,i,r,e,s){var u=Uh(t),o=ea(n);t.zc=!0;var h=!1,a=yh(void 0);return wh(function(c,f){var v,l,_,g;if(void 0!==s){if(v=function(){var i=new Ga("Aborted","AbortError"),s=[];!1===r&&s.push(function(){return"writable"===n.Hc?ha(n,i):yh(void 0)}),!1===e&&s.push(function(){return"readable"===t.Hc?Fc(t,i):yh(void 0)}),k(function(){return E.all(s.map(function(t){return t()}))},!0,i)},!0===s.aborted)return void v();s.addEventListener("abort",v)}if(m(t,u.bh,function(t){!1===r?k(function(){return ha(n,t)},!0,t):p(!0,t)}),m(n,o.bh,function(n){!1===e?k(function(){return Fc(t,n)},!0,n):p(!0,n)}),l=t,_=u.bh,g=function(){!1===i?k(function(){return function(t){var n=t.uf,i=n.Hc;return!0===da(n)||"closed"===i?yh(void 0):"errored"===i?mh(n.Vc):ya(t)}(o)}):p()},"closed"===l.Hc?g():Ah(_,g),!0===da(n)||"closed"===n.Hc){var w=new d("the destination writable stream closed before all data could be piped to it");!1===e?k(function(){return Fc(t,w)},!0,w):p(!0,w)}function y(){var t=a;return kh(a,function(){return t!==a?y():void 0})}function m(t,n,i){"errored"===t.Hc?i(t.Vc):bh(n,i)}function k(t,i,r){function e(){ph(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==h&&(h=!0,"writable"===n.Hc&&!1===da(n)?Ah(y(),e):e())}function p(t,i){!0!==h&&(h=!0,"writable"===n.Hc&&!1===da(n)?Ah(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){pa(o),Ch(u),void 0!==s&&s.removeEventListener("abort",v),t?f(n):c(void 0)}Eh(wh(function(t,n){!function i(r){r?t():kh(!0===h?yh(!0):kh(o.hf,function(){return kh(jh(u),function(t){return!0===t.done||(a=kh(Aa(o,t.value),void 0,th),!1)})}),i,n)}(!1)}))})}var Qa=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Ya(this))throw sc("desiredSize");return ic(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===Ya(this))throw sc("close");if(!1===rc(this))throw new d("The stream is not in a state that permits close");Ka(this)},t.prototype.enqueue=function(t){if(!1===Ya(this))throw sc("enqueue");if(!1===rc(this))throw new d("The stream is not in a state that permits enqueue");return tc(this,t)},t.prototype.error=function(t){if(!1===Ya(this))throw sc("error");nc(this,t)},t.prototype[Lh]=function(t){ta(this);var n=this.mf(t);return $a(this),n},t.prototype[Mh]=function(){var t=this.kf;if(this.Fn.length>0){var n=$h(this);return!0===this.pf&&0===this.Fn.length?($a(this),Hc(t)):Za(this),yh(Rh(n,!1,t.Fc.Mc))}var i=Fh(t);return Za(this),i},t}();function Ya(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"kf")}function Za(t){!1!==Ja(t)&&(!0!==t.Af?(t.Af=!0,ph(t.bf(),function(){t.Af=!1,!0===t.Tf&&(t.Tf=!1,Za(t))},function(n){nc(t,n)})):t.Tf=!0)}function Ja(t){var n=t.kf;return!1!==rc(t)&&(!1!==t.sf&&(!0===Uc(n)&&Vh(n)>0||ic(t)>0))}function $a(t){t.bf=void 0,t.mf=void 0,t.ff=void 0}function Ka(t){var n=t.kf;t.pf=!0,0===t.Fn.length&&($a(t),Hc(n))}function tc(t,n){var i=t.kf;if(!0===Uc(i)&&Vh(i)>0)Hh(i,n,!1);else{var r=void 0;try{r=t.ff(n)}catch(n){throw nc(t,n),n}try{Kh(t,n,r)}catch(n){throw nc(t,n),n}}Za(t)}function nc(t,n){var i=t.kf;"readable"===i.Hc&&(ta(t),$a(t),Vc(i,n))}function ic(t){var n=t.kf.Hc;return"errored"===n?null:"closed"===n?0:t.lf-t.Yc}function rc(t){var n=t.kf.Hc;return!1===t.pf&&"readable"===n}function ec(t,n,i,r,e,s,u){n.kf=t,n.Fn=void 0,n.Yc=void 0,ta(n),n.sf=!1,n.pf=!1,n.Tf=!1,n.Af=!1,n.ff=u,n.lf=s,n.bf=r,n.mf=e,t.Gc=n,ph(yh(i()),function(){n.sf=!0,Za(n)},function(t){nc(n,t)})}function sc(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var uc=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&_.floor(t)===t},oc=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===cc(this))throw Sc("view");return this.Ef},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===cc(this))throw Sc("respond");if(void 0===this.Sf)throw new d("This BYOB request has been invalidated");this.Ef.buffer,function(t,n){if(!1===sh(n=Number(n)))throw new RangeError("bytesWritten must be a finite");kc(t,n)}(this.Sf,t)},t.prototype.respondWithNewView=function(t){if(!1===cc(this))throw Sc("respond");if(void 0===this.Sf)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.Rf.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,kc(t,n.byteLength)}(this.Sf,t)},t}(),hc=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===ac(this))throw Rc("byobRequest");if(void 0===this.If&&this.Rf.length>0){var t=this.Rf.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(oc.prototype);!function(t,n,i){t.Sf=n,t.Ef=i}(i,this,n),this.If=i}return this.If},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===ac(this))throw Rc("desiredSize");return Tc(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===ac(this))throw Rc("close");if(!0===this.pf)throw new d("The stream has already been closed; do not close it again!");var t=this.Nf.Hc;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.Nf;if(t.Yc>0)return void(t.pf=!0);if(t.Rf.length>0){var i=t.Rf.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw bc(t,r),r}}Ac(t),Hc(n)}(this)},t.prototype.enqueue=function(t){if(!1===ac(this))throw Rc("enqueue");if(!0===this.pf)throw new d("stream is closed or draining");var n=this.Nf.Hc;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.Nf,r=n.buffer,e=n.byteOffset,s=n.byteLength,u=ch(r);if(!0===Xh(i))if(0===Vh(i))lc(t,u,e,s);else{var o=new m(u,e,s);Hh(i,o,!1)}else!0===Cc(i)?(lc(t,u,e,s),mc(t)):lc(t,u,e,s);fc(t)}(this,t)},t.prototype.error=function(t){if(!1===ac(this))throw Rc("error");bc(this,t)},t.prototype[Lh]=function(t){this.Rf.length>0&&(this.Rf.peek().bytesFilled=0);ta(this);var n=this.mf(t);return Ac(this),n},t.prototype[Mh]=function(){var t=this.Nf;if(this.Yc>0){var n=this.Fn.shift();this.Yc-=n.byteLength,wc(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return mh(t)}return yh(Rh(i,!1,t.Fc.Mc))}var r=this.Cf;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return mh(t)}var s={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.Rf.push(s)}var u=Fh(t);return fc(this),u},t}();function ac(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Nf")}function cc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Sf")}function fc(t){!1!==function(t){var n=t.Nf;if("readable"!==n.Hc)return!1;if(!0===t.pf)return!1;if(!1===t.sf)return!1;if(!0===Xh(n)&&Vh(n)>0)return!0;if(!0===Cc(n)&&Nc(n)>0)return!0;if(Tc(t)>0)return!0;return!1}(t)&&(!0!==t.Af?(t.Af=!0,ph(t.bf(),function(){t.Af=!1,!0===t.Tf&&(t.Tf=!1,fc(t))},function(n){bc(t,n)})):t.Tf=!0)}function vc(t,n){var i=!1;"closed"===t.Hc&&(i=!0);var r=dc(n);"default"===n.readerType?Hh(t,r,i):function(t,n,i){var r=t.Fc;r.Df.shift().zn(Rh(n,i,r.Mc))}(t,r,i)}function dc(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function lc(t,n,i,r){t.Fn.push({buffer:n,byteOffset:i,byteLength:r}),t.Yc+=r}function _c(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=_.min(t.Yc,n.byteLength-n.bytesFilled),s=n.bytesFilled+e,u=s-s%i,o=e,h=!1;u>r&&(o=u-n.bytesFilled,h=!0);for(var a,c,f,v,d,l=t.Fn;o>0;){var g=l.peek(),w=_.min(o,g.byteLength),y=n.byteOffset+n.bytesFilled;a=n.buffer,c=y,f=g.buffer,v=g.byteOffset,d=w,new m(a).set(new m(f,v,d),c),g.byteLength===w?l.shift():(g.byteOffset+=w,g.byteLength-=w),t.Yc-=w,gc(t,w,n),o-=w}return h}function gc(t,n,i){yc(t),i.bytesFilled+=n}function wc(t){0===t.Yc&&!0===t.pf?(Ac(t),Hc(t.Nf)):fc(t)}function yc(t){void 0!==t.If&&(t.If.Sf=void 0,t.If.Ef=void 0,t.If=void 0)}function mc(t){for(;t.Rf.length>0;){if(0===t.Yc)return;var n=t.Rf.peek();!0===_c(t,n)&&(pc(t),vc(t.Nf,n))}}function kc(t,n){var i=t.Rf.peek();if("closed"===t.Nf.Hc){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=ch(n.buffer);var i=t.Nf;if(!0===Cc(i))for(;Nc(i)>0;)vc(i,pc(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(gc(t,n,i),!(i.bytesFilled<i.elementSize)){pc(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,s=i.buffer.slice(e-r,e);lc(t,s,0,s.byteLength)}i.buffer=ch(i.buffer),i.bytesFilled-=r,vc(t.Nf,i),mc(t)}}(t,n,i);fc(t)}function pc(t){var n=t.Rf.shift();return yc(t),n}function Ac(t){t.bf=void 0,t.mf=void 0}function bc(t,n){var i=t.Nf;"readable"===i.Hc&&(!function(t){yc(t),t.Rf=new Sh}(t),ta(t),Ac(t),Vc(i,n))}function Tc(t){var n=t.Nf.Hc;return"errored"===n?null:"closed"===n?0:t.lf-t.Yc}function Ec(t,n,i){var r=l.create(hc.prototype);var e=oh(n,"pull",0,[r]),s=oh(n,"cancel",1,[]),u=n.autoAllocateChunkSize;if(void 0!==u&&(u=Number(u),!1===uc(u)||u<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,s,u){n.Nf=t,n.Tf=!1,n.Af=!1,n.If=void 0,n.Fn=n.Yc=void 0,ta(n),n.pf=!1,n.sf=!1,n.lf=fh(s),n.bf=r,n.mf=e,n.Cf=u,n.Rf=new Sh,t.Gc=n,ph(yh(i()),function(){n.sf=!0,fc(n)},function(t){bc(n,t)})}(t,r,function(){return hh(n,"start",[r])},e,s,i,u)}function Sc(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Rc(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function Ic(t){return wh(function(n,i){var r={zn:n,Z:i};t.Fc.Df.push(r)})}function Nc(t){return t.Fc.Df.length}function Cc(t){var n=t.Fc;return void 0!==n&&!!Oc(n)}var Dc=function(){function t(t){if(!Mc(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===ac(t.Gc))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Uc(t))throw new d("This stream has already been locked for exclusive reading by another reader");Ih(this,t),this.Df=new Sh}return l.defineProperty(t.prototype,"closed",{get:function(){return Oc(this)?this.bh:mh(xc("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Oc(this)?void 0===this.Uc?mh(Dh("cancel")):Nh(this,t):mh(xc("cancel"))},t.prototype.read=function(t){return Oc(this)?void 0===this.Uc?mh(Dh("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?mh(new d("view must have non-zero byteLength")):function(t,n){var i=t.Uc;if(i.zc=!0,"errored"===i.Hc)return mh(i.Vc);return function(t,n){var i=t.Nf,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,s={buffer:ch(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.Rf.length>0)return t.Rf.push(s),Ic(i);if("closed"===i.Hc)return yh(Rh(new e(s.buffer,s.byteOffset,0),!0,i.Fc.Mc));if(t.Yc>0){if(!0===_c(t,s)){var u=dc(s);return wc(t),yh(Rh(u,!1,i.Fc.Mc))}if(!0===t.pf){var o=new d("Insufficient bytes to fill elements in the given buffer");return bc(t,o),mh(o)}}t.Rf.push(s);var h=Ic(i);return fc(t),h}(i.Gc,n)}(this,t)):mh(new d("view must be an array buffer view")):mh(xc("read"))},t.prototype.releaseLock=function(){if(!Oc(this))throw xc("releaseLock");if(void 0!==this.Uc){if(this.Df.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Ch(this)}},t}();function Oc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Df")}function xc(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Pc=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),Lc(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Ec(this,t,r=fh(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var s=vh(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Qa.prototype),s=oh(n,"pull",0,[e]),u=oh(n,"cancel",1,[]);ec(t,e,function(){return hh(n,"start",[e])},s,u,i,r)}(this,t,r=fh(r),s)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Mc(this))throw Xc("locked");return Uc(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Mc(this)?mh(Xc("cancel")):!0===Uc(this)?mh(new d("Cannot cancel a stream that already has a reader")):Fc(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Mc(this))throw Xc("getReader");if(void 0===n)return Uh(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Dc(t);return i.Mc=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,s=e.preventClose,u=e.preventAbort,o=e.preventCancel,h=e.signal;if(!1===Mc(this))throw Xc("pipeThrough");if(!1===ua(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Mc(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(s=Boolean(s),u=Boolean(u),o=Boolean(o),void 0!==h&&!Wa(h))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Uc(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===oa(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Eh(ja(this,i,s,u,o,h)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,s=i.preventCancel,u=i.signal;return!1===Mc(this)?mh(Xc("pipeTo")):!1===ua(t)?mh(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),s=Boolean(s),void 0===u||Wa(u)?!0===Uc(this)?mh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===oa(t)?mh(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ja(this,t,r,e,s,u):mh(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Mc(this))throw Xc("tee");var t=function(t,n){var i,r,e,s,u,o=Uh(t),h=!1,a=!1,c=!1,f=wh(function(t){u=t});function v(){return!0===h?yh(void 0):(h=!0,Eh(Th(jh(o),function(t){if(h=!1,!0===t.done)return!1===a&&Ka(e.Gc),void(!1===c&&Ka(s.Gc));var n=t.value,i=n,r=n;!1===a&&tc(e.Gc,i),!1===c&&tc(s.Gc,r)})),yh(void 0))}function d(){}return e=Bc(d,v,function(n){if(a=!0,i=n,!0===c){var e=eh([i,r]),s=Fc(t,e);u(s)}return f}),s=Bc(d,v,function(n){if(c=!0,r=n,!0===a){var e=eh([i,r]),s=Fc(t,e);u(s)}return f}),bh(o.bh,function(t){nc(e.Gc,t),nc(s.Gc,t)}),[e,s]}(this);return eh(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Mc(this))throw Xc("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Uh(t),r=l.create(Yh);return r.jc=i,r.Qc=Boolean(n),r}(this,i)},t}();function Bc(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var s=l.create(Pc.prototype);return Lc(s),ec(s,l.create(Qa.prototype),t,n,i,r,e),s}function Lc(t){t.Hc="readable",t.Fc=void 0,t.Vc=void 0,t.zc=!1}function Mc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Gc")}function Uc(t){return void 0!==t.Fc}function Fc(t,n){return t.zc=!0,"closed"===t.Hc?yh(void 0):"errored"===t.Hc?mh(t.Vc):(Hc(t),Th(t.Gc[Lh](n),th))}function Hc(t){t.Hc="closed";var n=t.Fc;void 0!==n&&(Gh(n)&&(n.qc.forEach(function(t){t.zn(Rh(void 0,!0,n.Mc))}),n.qc=new Sh),Bh(n))}function Vc(t,n){t.Hc="errored",t.Vc=n;var i=t.Fc;void 0!==i&&(Gh(i)?(i.qc.forEach(function(t){t.Z(n)}),i.qc=new Sh):(i.Df.forEach(function(t){t.Z(n)}),i.Df=new Sh),Ph(i,n))}function Xc(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof Ko.asyncIterator&&l.defineProperty(Pc.prototype,Ko.asyncIterator,{value:Pc.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Wc=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),qc=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,s=i.size,u=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=vh(r);if(void 0===e&&(e=1),e=fh(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var h,a=vh(s);void 0===u&&(u=0),u=fh(u),function(t,n,i,r,e,s){function u(){return n}t.Of=function(t,n,i,r,e,s){void 0===e&&(e=1),void 0===s&&(s=function(){return 1});var u=l.create(ra.prototype);return sa(u),Ta(u,l.create(ba.prototype),t,n,i,r,e,s),u}(u,function(n){return function(t,n){var i=t.xf;if(!0===t.rf){var r=t.Pf;return Th(r,function(){var r=t.Of,e=r.Hc;if("erroring"===e)throw r.Vc;return Kc(i,n)})}return Kc(i,n)}(t,n)},function(){return function(t){var n=t.Bf,i=t.xf,r=i.Lf();return Jc(i),Th(r,function(){if("errored"===n.Hc)throw n.Vc;var t=n.Gc;!0===rc(t)&&Ka(t)},function(i){throw Gc(t,i),n.Vc})}(t)},function(n){return function(t,n){return Gc(t,n),yh(void 0)}(t,n)},i,r),t.Bf=Bc(u,function(){return function(t){return Qc(t,!1),t.Pf}(t)},function(n){return jc(t,n),yh(void 0)},e,s),t.rf=void 0,t.Pf=void 0,t.Mf=void 0,Qc(t,!0),t.xf=void 0}(this,wh(function(t){h=t}),e,o,u,a),function(t,n){var i=l.create(Yc.prototype),r=function(t){try{return $c(i,t),yh(void 0)}catch(t){return mh(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return ah(e,n,[t,i])}}var s=oh(n,"flush",0,[i]);!function(t,n,i,r){n.Uf=t,t.xf=n,n.Ff=i,n.Lf=r}(t,i,r,s)}(this,t);var c=hh(t,"start",[this.xf]);h(c)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===zc(this))throw nf("readable");return this.Bf},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===zc(this))throw nf("writable");return this.Of},enumerable:!0,configurable:!0}),t}();function zc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"xf")}function Gc(t,n){nc(t.Bf.Gc,n),jc(t,n)}function jc(t,n){Jc(t.xf),Ia(t.Of.Jc,n),!0===t.rf&&Qc(t,!1)}function Qc(t,n){void 0!==t.Pf&&t.Mf(),t.Pf=wh(function(n){t.Mf=n}),t.rf=n}var Yc=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===Zc(this))throw tf("desiredSize");return ic(this.Uf.Bf.Gc)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===Zc(this))throw tf("enqueue");$c(this,t)},t.prototype.error=function(t){if(!1===Zc(this))throw tf("error");var n;n=t,Gc(this.Uf,n)},t.prototype.terminate=function(){if(!1===Zc(this))throw tf("terminate");!function(t){var n=t.Uf,i=n.Bf.Gc;!0===rc(i)&&Ka(i);var r=new d("TransformStream terminated");jc(n,r)}(this)},t}();function Zc(t){return!!rh(t)&&!!l.prototype.hasOwnProperty.call(t,"Uf")}function Jc(t){t.Ff=void 0,t.Lf=void 0}function $c(t,n){var i=t.Uf,r=i.Bf.Gc;if(!1===rc(r))throw new d("Readable side is not in a state that permits enqueue");try{tc(r,n)}catch(t){throw jc(i,t),i.Bf.Vc}(function(t){return!0!==Ja(t)})(r)!==i.rf&&Qc(i,!0)}function Kc(t,n){return Th(t.Ff(n),void 0,function(n){throw Gc(t.Uf,n),n})}function tf(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function nf(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var rf,ef=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return F(n,t),M(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(on);function sf(t){return n=[t],new Pc({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function uf(t){return sf(new m(t))}function of(t,n){return function(t,n){var i=n,r=t.getReader(),e=new ju,s=function(){u();var t=new ss;r.cancel(t).catch(R),e.yh(t)},u=function(){i&&(i.po(s),i=void 0)};i&&(i.do?s():i.ko(s));var o=[];return E.resolve(r.read()).then(function t(n){return n.done?(u(),E.resolve(o)):(o.push(n.value),E.resolve(r.read()).then(t))}).then(function(t){u(),e.wh(t)},function(t){u(),e.yh(t)}),e.gh}(t,n).then(function(t){return Gs(t).buffer})}function hf(t,n){var i=n,r=new qc,e=r.readable,s=r.writable,u=s.getWriter(),o=function(){i&&i.Eo()};return u.closed.then(o,o),t.then(function(t){return i=void 0,u.releaseLock(),t.pipeTo(s).catch(R)},function(t){return i=void 0,u.releaseLock(),s.abort(t).catch(R)}),e}function af(t){return Bu(new m(t))}function cf(t){return Lu(t).buffer}!function(t){t[t.Ic=0]="Ic",t[t.Hf=1]="Hf"}(rf||(rf={}));var ff="content-type",vf="text/plain;charset=UTF-8",df=function(){function t(){}var n=t.prototype;return n.Vf=function(t){return this.Xf(t).then(JSON.parse)},n.Wf=function(t,n){switch(t){case Yo.Sc:return this.qf(n);case Yo.Rc:return this.Vf(n);case Yo.Ic:return this.zf();case Yo.Je:return this.Xf(n);default:throw new d}},t}();function lf(t,n,i){if(t instanceof df)return t;if(t instanceof Pc)return function(t,n){return new gf({io:rf.Ic,zf:t,Gf:_f(n)})}(t,i);var r=_f(i),e=E.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{io:Yo.Je,jf:t,Gf:n||vf};if(t instanceof ArrayBuffer||qs(t))return{io:Yo.Sc,jf:bf(t),Gf:n};if(it(t)||K(t))return{io:Yo.Rc,jf:t,Gf:n};throw new d("Unsupported BodyInit type")}return{io:Yo.Je,jf:null,Gf:n}}(t,r)});return new gf({io:rf.Hf,gh:e,Qf:n})}function _f(t){return(t.get(ff)||"").toLowerCase()}var gf=function(t){function n(n){var i;return(i=t.call(this)||this).Yf=!1,i.Zf=void 0,i.Jf=new ju,i.Jf.gh.catch(R),i.$f(n),i}F(n,t);var i=n.prototype;return i.Kf=function(){return this.Jf.gh},i.Xf=function(t){return this.tv(wf,t)},i.Vf=function(t){return this.tv(mf,t)},i.qf=function(t){return this.tv(pf,t)},i.zf=function(){return this.nv((t=this.Zf).io===rf.Ic?t.zf:hf(t.gh.then(Af).then(uf),t.Qf));var t},i.tv=function(t,n){if(this.Yf)return E.reject(new d("Already used"));this.Yf=!0;var i=t(this.Zf,n);return this.Jf.wh(i.then(R)),i},i.nv=function(t){if(this.Yf)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.Yf=!0;var n=new qc,i=E.resolve(t.pipeTo(n.writable));return this.Jf.wh(i),n.readable},i.$f=function(t){this.Zf=t,t.io===rf.Hf&&t.gh.catch(R)},i.rv=function(){if(this.Yf)throw new d("Already used");var t=function(t){if(t.io===rf.Ic){var n=t.zf.tee(),i=n[0],r=n[1];return[{io:t.io,zf:i,Gf:t.Gf},{io:t.io,zf:r,Gf:t.Gf}]}var e=t.Qf.Ro(),s=e[0],u=e[1];return[{io:t.io,gh:t.gh,Qf:s},{io:t.io,gh:t.gh,Qf:u}]}(this.Zf),i=t[0],r=t[1];return this.$f(i),new n(r)},M(n,[{key:"ev",get:function(){return this.Yf}}]),n}(df);function wf(t,n){return t.io===rf.Ic?of(t.zf,n).then(af):(n&&t.Qf.So(n),fs(t.gh.then(yf),t.Qf))}function yf(t){switch(t.io){case Yo.Je:return E.resolve(t.jf||"");case Yo.Sc:return E.resolve(t.jf).then(af);case Yo.Rc:return E.resolve(t.jf).then(JSON.stringify)}}function mf(t,n){return t.io===rf.Ic?wf(t,n).then(JSON.parse):(n&&t.Qf.So(n),fs(t.gh.then(kf),t.Qf))}function kf(t){return t.io===Yo.Rc?E.resolve(t.jf):yf(t).then(JSON.parse)}function pf(t,n){return t.io===rf.Ic?of(t.zf,n):(n&&t.Qf.So(n),fs(t.gh.then(Af),t.Qf))}function Af(t){switch(t.io){case Yo.Sc:return E.resolve(t.jf);case Yo.Je:case Yo.Rc:return yf(t).then(cf)}}function bf(t){return t instanceof ArrayBuffer?t:qu(Hu(t)).buffer}function Tf(t){return t.sv>=200&&t.sv<=299||304===t.sv}var Ef,Sf,Rf,If,Nf=function(t){function n(n,i){var r,e,s,u,o,h;i?(e=i.uv,s=i.ov,u=i.sv,o=i.hv,h=i.av):(e=[],s=Yo.Je,u=200,o="OK",h=!1);var a=n.cv,c=new Zo(n.uv||e),f=n.ov||s,v=n.fv||(i&&i.cv===a?i.fv:a.vv),d=i?i.dv:null,l=lf(void 0!==n.Ds?n.Ds:d,n.Qf||new es,c);return(r=t.call(this,l)||this).uv=void 0,r.cv=void 0,r.fv=void 0,r.ov=void 0,r.sv=void 0,r.hv=void 0,r.av=void 0,r.uv=c,r.cv=a,r.fv=v,r.ov=f,r.sv=void 0!==n.sv?n.sv:u,r.hv=void 0!==n.hv?String(n.hv):o,r.av=n.av||h,r}F(n,t);var i=n.prototype;return i.Ds=function(t){return this.Wf(this.ov,t)},i.fh=function(){return new n({Ds:this.rv(),cv:this.cv},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).dv=void 0,i.dv=n,i}F(n,t);var i=n.prototype;return i.Kf=function(){return this.dv.Kf()},i.Xf=function(t){return this.dv.Xf(t)},i.Vf=function(t){return this.dv.Vf(t)},i.qf=function(t){return this.dv.qf(t)},i.zf=function(){return this.dv.zf()},i.rv=function(){return this.dv.rv()},M(n,[{key:"ev",get:function(){return this.dv.ev}}]),n}(df));!function(t){t.DELETE="DELETE",t.GET="GET",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.POST="POST",t.PUT="PUT"}(Ef||(Ef={})),function(t){t.lv="",t._v="manifest",t.gv="segment",t.wv="content-protection"}(Sf||(Sf={})),function(t){t.lv="",t.yv="initialization-segment",t.mv="fairplay-license",t.kv="fairplay-certificate",t.pv="widevine-license",t.Av="widevine-certificate",t.bv="playready-license",t.Tv="clearkey-license",t.Ev="aes128-key"}(Rf||(Rf={})),function(t){t.lv="",t.Sv="audio",t.Rv="video",t.Je="text",t.Iv="image"}(If||(If={}));var Cf=function(t,n){this.jf=void 0,this.uv=void 0,this.Nv=void 0,this.ov=void 0,this.Cv=void 0,this.Io=void 0,this.io=void 0,this.Dv=void 0,this.Ov=void 0,this.vv=void 0,this.xv=void 0,this.Pv=void 0;var i,r,e,s,u,o,h,a,c,f,v,d=t.vv;n?(i=n.jf,r=n.uv,e=n.Nv,s=n.ov,u=n.Cv,o=n.Io,h=n.io,a=n.Dv,c=n.Ov,f=n.xv,v=n.Pv):(i=null,r={},e=Ef.GET,s=Yo.Je,u=0,h=Sf.lv,a=Rf.lv,c=If.lv,f=!1),this.vv=d,this.jf=t.jf||i,this.uv=new Zo(t.uv||r),this.Nv=t.Nv||e,this.ov=t.ov||s,this.Cv=void 0!==t.Cv?Number(t.Cv)||0:u,this.Io=t.Io||o||(new es).Io,this.io=t.io||h,this.Dv=t.Dv||a,this.Ov=t.Ov||c,this.xv=void 0!==t.xv?Boolean(t.xv):f,this.Pv=t.Pv||v},Df=function(){function t(){}var n=t.prototype;return n.cv=function(t){var n=function(t){return new Nf({Ds:null,uv:{},cv:t,fv:t.vv,ov:t.ov,sv:0,hv:Qo.sc})}(new Cf(t));return E.resolve(n)},n.Bv=function(t){},n.Lv=function(){},t}();var Of=function(){function t(t,n){void 0===n&&(n=!0),this.Mv=void 0,this.Uv=void 0,this.Mv=t,this.Uv=n}var n=t.prototype;return n.cv=function(t){var n=this.Fv(t);return this.Mv.cv(n)},n.Bv=function(t){return this.Mv.Bv(this.Hv(t))},n.Fv=function(n){var i=new Cf(n);if(!this.Uv){var r=t.Vv(i.vv);i=new Cf({vv:r},i)}return i},n.Hv=function(n){var i=n.vv;return this.Uv||(i=t.Vv(i)),{vv:i,jf:n.jf}},t.Vv=function(t){return T.Uu&&Ne(t,"http://")?t.replace(":","s:"):t},n.Lv=function(){this.Mv.Lv()},M(t,null,[{key:"Xv",get:function(){return t.Wv||(t.Wv=new t(new Df)),t.Wv}}]),t}();function xf(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function Pf(t,n){var i=T.Ou(t);return n&&!Ce(i,"/")&&(i+="/"),i}Of.Wv=void 0;var Bf,Lf=/cache:(.+)?(?=&|$)/,Mf="http://webcache.googleusercontent.com/search?q=cache:";function Uf(t){if(!Ne(t,Mf))return"";var n=T.Du(t).search.match(Lf);return n&&n.length>1?n[1]:""}function Ff(t){return T.Du(t).hostname}!function(t){t.qv="HttpOpenError",t.zv="HttpResponseError",t.Gv="HttpTimeoutError"}(Bf||(Bf={}));var Hf=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).jv=void 0,e.jv=n,e}return F(n,t),M(n,[{key:"cv",get:function(){return this.jv}}]),n}(on);var Vf=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.vv+". Invalid URL.",i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Bf.qv}}]),n}(Hf);var Xf=function(t){function n(n,i,r){var e;return(e=t.call(this,n.cv,null!=r?r:function(t){return"Error while loading "+t.cv.vv+", status code "+t.sv}(n),i)||this).Qv=void 0,e.Qv=n,e}return F(n,t),M(n,[{key:"name",get:function(){return Bf.zv}},{key:"Yv",get:function(){return this.Qv}}]),n}(Hf);var Wf=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.vv+" timed out after "+t.Cv+" seconds."}(n),i)||this}return F(n,t),M(n,[{key:"name",get:function(){return Bf.Gv}}]),n}(Hf),qf=function(t,n){return(qf=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function zf(t,n){function i(){this.constructor=t}qf(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var Gf="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var jf=function(){var t=Gf.Blob;if(t)try{return new t,function(t,n){return new Gf.Blob(t,n)}}catch(t){}var n,i=Gf.BlobBuilder||Gf.WebKitBlobBuilder||Gf.MozBlobBuilder||Gf.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,s=t;e<s.length;e++){var u=s[e];r.append(u)}return r.getBlob(i&&i.type||"")}):null}(),Qf="function"==typeof Pc?Pc:void 0;function Yf(t){return t&&"function"==typeof t.getReader}function Zf(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&Yf(i)}catch(t){return!1}}var Jf=function(){function t(t,n){this.Fc=t,this.Zv=n}return t.prototype.pull=function(t){var n=this;return this.Fc.read().then(function(i){n.Zv&&n.Zv(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.Fc.cancel(t)},t}();function $f(t,n){return n.constructor===t?n:new t(new Jf(n.getReader()),{highWaterMark:0})}var Kf=function(){function t(t,n){this.Jv=t,this.St=n}return t.prototype.pull=function(t){return this.Jv().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.St&&this.St(t)},t}();function tv(t,n,i){return new t(new Kf(n,i),{highWaterMark:0})}var nv={searchParams:"URLSearchParams"in Gf,iterable:"Symbol"in Gf&&"iterator"in Symbol,blob:"FileReader"in Gf&&!!jf,formData:"FormData"in Gf,arrayBuffer:"ArrayBuffer"in Gf,stream:Zf(Qf),streamRequest:"Request"in Gf&&"body"in Gf.Request.prototype,streamResponse:"Response"in Gf&&"body"in Gf.Response.prototype,abort:"AbortController"in Gf&&"Request"in Gf&&"signal"in Gf.Request.prototype,encoding:"TextEncoder"in Gf&&"TextDecoder"in Gf,url:"URL"in Gf&&function(t){try{return new Gf.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in Gf&&/Firefox\//.test(Gf.navigator.userAgent)};function iv(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function rv(t){return"string"!=typeof t&&(t=String(t)),t}function ev(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return nv.iterable&&(n[Symbol.iterator]=function(){return n}),n}var sv=function(){function t(t){var n=this;this.Yu={};var i,r=function(t,i){Array.isArray(t)&&2===t.length?n.append(t[0],t[1]):n.append(i,t)};(i=t)&&"function"==typeof i.forEach?t.forEach(r):!function(t){return nv.iterable&&t&&t[Symbol.iterator]}(t)?t&&l.getOwnPropertyNames(t).forEach(function(i){n.append(i,t[i])}):Array.from(t).forEach(r)}return t.prototype.append=function(t,n){t=iv(t),n=rv(n);var i=t.toLowerCase();if(this.Yu.hasOwnProperty(i)){var r=this.Yu[i],e=r[1];r[1]=e?e+", "+n:n}else this.Yu[i]=[t,n]},t.prototype.delete=function(t){var n=iv(t).toLowerCase();delete this.Yu[n]},t.prototype.get=function(t){var n=iv(t).toLowerCase();return this.Yu.hasOwnProperty(n)?this.Yu[n][1]:null},t.prototype.has=function(t){var n=iv(t).toLowerCase();return this.Yu.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=iv(t)).toLowerCase();this.Yu[i]=[t,rv(n)]},t.prototype.forEach=function(t,n){for(var i in this.Yu)this.Yu.hasOwnProperty(i)&&t.call(n,this.Yu[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),ev(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),ev(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),ev(t)},t.prototype.asList=function(){var t=[];for(var n in this.Yu)if(this.Yu.hasOwnProperty(n)){var i=this.Yu[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function uv(){}nv.iterable&&(sv.prototype[Symbol.iterator]=sv.prototype.entries);var ov,hv,av,cv=_.min,fv=String.fromCharCode,vv=16384;function dv(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=vv){var e=cv(r+vv,n);i.push(fv.apply(null,t.slice(r,e)))}return i.join("")}(n)}function lv(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function _v(t,n){return t>>n&63|128}function gv(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(lv(t),n.push(t>>12&15|224),n.push(_v(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(_v(t,12)),n.push(_v(t,6))),n.push(63&t|128)):n.push(t)}function wv(){if(av>=hv)throw new v("Invalid byte index");var t=255&ov[av];if(av++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function yv(){var t,n;if(av>hv)throw new v("Invalid byte index");if(av===hv)return!1;if(t=255&ov[av],av++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|wv())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|wv()<<6|wv())>=2048)return lv(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|wv()<<12|wv()<<6|wv())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var mv=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function kv(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function pv(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function Av(t){return t&&DataView.prototype.isPrototypeOf(t)}var bv,Tv=ArrayBuffer.isView||function(t){return t&&(mv.indexOf(l.prototype.toString.call(t))>-1||Av(t))};function Ev(t){if(t.bodyUsed)return E.reject(new d("Already used"));t.bodyUsed=!0}function Sv(t){return new E(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function Rv(t){return nv.encoding?new Gf.TextDecoder("utf-8").decode(new m(t)):dv(function(t){hv=(ov=t).length,av=0;for(var n,i=[];!1!==(n=yv());)i.push(n);return i}(new m(t)))}function Iv(t){return nv.encoding?(new Gf.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,r=t;i<r.length;i++)gv(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var s=t.charCodeAt(i++);56320==(64512&s)?n.push(((1023&e)<<10)+(1023&s)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Nv(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,s=t.value;return e?E.resolve(i):(i.push(s),n.read().then(r))};return n.read().then(r)}function Cv(t){return Nv(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(h=r[i]).byteLength;for(var e=new m(n),s=0,u=0,o=t;u<o.length;u++){var h=o[u];e.set(h,s),s+=h.byteLength}return e}(t).buffer})}function Dv(t){return t.slice?t.slice(0):Ov(new m(t))}function Ov(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function xv(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Pv(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.$v===bv.Kv){if(!n.td.tee)throw new v("could not clone ReadableStream body");var i=n.td.tee(),r=i[0],e=i[1];return n.body=r,n.td=r,n.nd=r,e}return n.$v===bv.Sc?Dv(n.td):n.$v===bv.Hf?n.td.then(Pv):n.nd}!function(t){t[t.Je=0]="Je",t[t.rd=1]="rd",t[t.ed=2]="ed",t[t.Sc=3]="Sc",t[t.Kv=4]="Kv",t[t.Hf=5]="Hf"}(bv||(bv={}));var Bv=function(){function t(n,i){this.bodyUsed=!1;var r,e,s,u=this;if(this.nd=n||null,n)if("string"==typeof n)this.$v=bv.Je,this.td=n;else if((s=n)&&"function"==typeof s.then)this.$v=bv.Hf,this.td=E.resolve(n).then(function(n){return new t(n,i)}),this.td.catch(uv);else if(nv.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.$v=bv.rd,this.td=n;else if(nv.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.$v=bv.ed,this.td=n;else if(nv.searchParams&&kv(n))this.$v=bv.Je,this.td=n.toString();else if(nv.arrayBuffer&&(pv(n)||Tv(n)))Av(n)&&(this.nd=new m((e=n).buffer,e.byteOffset,e.byteLength)),this.$v=bv.Sc,this.td=pv(r=n)?Dv(r):Ov(r);else{if(!nv.stream||!Yf(n))throw new v("unsupported BodyInit type");n=$f(Qf,n),this.$v=bv.Kv,this.td=n,this.nd=n}else this.$v=bv.Je,this.td="";this.sd="",i.has("content-type")?this.sd=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.sd="text/plain;charset=UTF-8":u.$v===bv.rd&&u.td.type?this.sd=u.td.type:nv.searchParams&&kv(n)&&(this.sd="application/x-www-form-urlencoded;charset=UTF-8"),this.sd&&i.set("content-type",this.sd)),nv.stream&&(null==n?this.body=null:u.$v===bv.Kv?this.body=u.td:this.body=tv(Qf,function(){return u.arrayBuffer()},function(){u.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=Ev(this);return r||(this.$v===bv.rd?(t=this.td,n=new FileReader,i=Sv(n),n.readAsText(t),i):this.$v===bv.Sc?E.resolve(this.td).then(Rv):this.$v===bv.Kv?Cv(this.td).then(Rv):this.$v===bv.Hf?this.td.then(function(t){return t.text()}):this.$v===bv.ed?E.reject(new v("could not read FormData body as text")):E.resolve(this.td))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();nv.blob&&(Bv.prototype.blob=function(){var t,n,i=Ev(this);return i||(this.$v===bv.rd?E.resolve(this.td):this.$v===bv.Sc?E.resolve(jf([this.td],{type:this.sd})):this.$v===bv.Kv?(t=this.td,n=this.sd,Nv(t).then(function(t){return jf(t,{type:n||""})})):this.$v===bv.Hf?this.td.then(function(t){return t.blob()}):this.$v===bv.ed?E.reject(new v("could not read FormData body as Blob")):E.resolve(jf([this.td],{type:this.sd})))}),nv.arrayBuffer&&(Bv.prototype.arrayBuffer=function(){var t,n,i;return this.$v===bv.Sc?Ev(this)||E.resolve(this.td):this.$v===bv.rd?Ev(this)||(t=this.td,n=new FileReader,i=Sv(n),n.readAsArrayBuffer(t),i):this.$v===bv.Kv?Cv(this.td):this.$v===bv.Hf?Ev(this)||this.td.then(function(t){return t.arrayBuffer()}):this.$v===bv.ed?E.reject(new v("could not read FormData body as ArrayBuffer")):E.resolve(this.td).then(Iv)}),nv.formData&&(Bv.prototype.formData=function(){return this.$v===bv.ed?Ev(this)||E.resolve(this.td):this.text().then(xv)});var Lv=[301,302,303,307,308],Mv=function(t){function n(n,i){var r=this,e=new sv((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return zf(n,t),n.prototype.clone=function(){return new n(Pv(this),{status:this.status,statusText:this.statusText,headers:new sv(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Lv.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Bv);var Uv,Fv=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function u(t){return(u=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,n,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=u(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){h(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,s=r.length;e<s;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=u(n).call(this))||"object"!=typeof e&&"function"!=typeof e?a(r):e).listeners||f.call(a(t)),l.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(u(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==s?s.createEvent?(t=s.createEvent("Event")).initEvent("abort",!1,!1):(t=s.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(Uv=Fv)&&Uv.__esModule&&l.prototype.hasOwnProperty.call(Uv,"default")&&Uv.default;Fv.AbortSignal;var Hv=Fv.AbortController,Vv=Gf.DOMException;try{new Vv}catch(t){(Vv=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Vv.prototype.constructor=Vv}var Xv=Hv;function Wv(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}function qv(t,n,i){return new E(function(r,e){if(n.signal.aborted)return t.catch(uv),e(zv());var s=function(){n.signal.removeEventListener("abort",s),e(zv())};n.signal.addEventListener("abort",s),t.then(function(t){n.signal.removeEventListener("abort",s),r(t),i&&n.abort()},function(t){n.signal.removeEventListener("abort",s),e(t),i&&n.abort()})})}function zv(){return new Vv("Aborted","AbortError")}var Gv,jv="moz-chunked-arraybuffer";function Qv(t){try{var n=new p;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Gv||(Gv={}));var Yv=function(){function t(t,n){var i=this;this.ud=!1,this.jv=t,this.od=n,this.hd=new p,this.fd=new E(function(t,n){i.vd=t,i.dd=n})}return t.prototype.send=function(){var t=this;return this.ld().then(function(n){return t._d(n,t.od),t.fd})},t.prototype.ld=function(){var t=this.jv;return t.$v===bv.Kv?t.arrayBuffer():E.resolve(t.nd)},t.prototype.gd=function(t){this.jv.onprogress&&this.jv.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.wd=function(t){this.dd(t)},t.prototype.yd=function(){this.wd(new d("Network request failed"))},t.prototype.md=function(){this.wd(new d("Network request failed"))},t.prototype.kd=function(){this.wd(zv())},t.prototype._d=function(t,n){var i=this,r=this.jv,e=this.hd,s=function(){return i.pd()};if(r.signal.aborted)return this.kd();e.onreadystatechange=function(){if(e.readyState>=Gv.HEADERS_RECEIVED&&!i.ud){var t=function(t){var n=new sv;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.ud=!0,i.Ad(n)}},e.onprogress=function(t){return i.gd(t)},e.onload=function(){return i.bd()},e.onerror=function(){return i.yd()},e.ontimeout=function(){return i.md()},e.onabort=function(){return i.kd()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.forEach(function(t,n){e.setRequestHeader(n,t)}),r.signal.addEventListener("abort",s),e.onloadend=function(){r.signal.removeEventListener("abort",s)},t?e.send(t):e.send()},t.prototype.pd=function(){this.kd(),this.hd.abort()},t}(),Zv=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.Td=void 0,r.Ed=void 0,r}return zf(n,t),n.prototype.Ad=function(t){var n=this;this.Td=new E(function(t,i){n.Ed=t,n.Sd=i}),this.vd(new Mv(this.Td,t))},n.prototype.bd=function(){var t=this.hd.response||this.hd.responseText;this.Ed(t)},n.prototype.wd=function(n){t.prototype.wd.call(this,n),this.Sd&&this.Sd(n)},n}(Yv),Jv=function(t){function n(n){var i=t.call(this,n,jv)||this;return i.Rd=void 0,i.Id=void 0,i.Nd=!1,i}return zf(n,t),n.prototype.Ad=function(t){var n=this;this.Rd=new Qf({start:function(t){n.Id=t},cancel:function(){n.Nd=!0,n.pd()}}),this.vd(new Mv(this.Rd,t))},n.prototype.gd=function(n){this.Nd||this.Id.enqueue(new m(this.hd.response)),t.prototype.gd.call(this,n)},n.prototype.bd=function(){this.Id.close()},n.prototype.wd=function(n){t.prototype.wd.call(this,n),this.Id&&!this.Nd&&(this.Nd=!0,this.Id.error(n))},n}(Yv),$v=function(){var t=nv.firefox&&Qv(jv);return $v=function(){return t},t},Kv=function(){var t;return t=nv.arrayBuffer&&Qv("arraybuffer")?"arraybuffer":nv.blob&&Qv("blob")?"blob":"",Kv=function(){return t},t};function td(t){return(nv.stream&&$v()?new Jv(t):new Zv(t,Kv())).send()}var nd=Gf.fetch,id=Gf.Request,rd=(Gf.Response,Gf.AbortController);var ed=["http:","https:"];var sd=function(){try{if(nv.streamRequest){var t=new id("about:blank",{body:"",method:"POST"}).body;if(t&&Zf(t.constructor))return t.constructor}}catch(t){}}();function ud(t,n,i){var r;if(nv.stream){var e=void 0;if(nv.streamResponse){var s=t.body;e=s&&$f(Qf,s)}else e=tv(Qf,function(){return qv(t.arrayBuffer(),n,!0)},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new Jf(n.getReader(),i),{highWaterMark:0})}(Qf,t,function(t){var e=t.done,s=t.value;e?i=void 0===i?r:i:r+=s.byteLength,n(r,i)})}(e,i,od(t.headers))),r=e}else{var u=qv(t.arrayBuffer(),n,!0);i&&(u=function(t,n,i){return E.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(u,i,od(t.headers))),r=u}return new Mv(r,t)}function od(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function hd(t){var n=new Xv;return t.signal&&Wv(n,t.signal),function(t,n){var i,r,e=t;if(i=e.$v===bv.Kv?nv.streamRequest&&sd?E.resolve($f(sd,e.td)):qv(t.arrayBuffer(),n,!1):qv(E.resolve(t.nd),n,!1),nv.abort){var s=new rd;Wv(s,n.signal),r=s.signal}return i.then(function(n){return new id(t.url,{body:n||void 0,credentials:t.credentials,headers:(i=t.headers,(i instanceof sv?i:new sv(i)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:r});var i})}(t,n).then(function(i){return nd(i).then(function(i){return ud(i,n,t.onprogress)})})}var ad=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var cd=function(t){function n(i,r){var e,s,u,o,h,a,c,f,v,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,s=i.credentials,r.headers||(u=new sv(i.headers)),o=i.method,h=i.mode,a=i.referrer,c=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.nd||(_=i.nd,i.bodyUsed=!0)}else e=String(i),s="same-origin",o="GET",h="cors",a="about:client",c="",f=null,v=null;if(!r.headers&&u||(u=new sv(r.headers)),r&&(a="about:client",c=""),(l=t.call(this,_,u)||this).url=e,l.headers=u,l.credentials=r.credentials||s,l.method=function(t){var n=t.toUpperCase();return ad.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||h,l.signal=r.signal||f||(new Xv).signal,l.referrer=void 0!==r.referrer?r.referrer:a,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:c,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return zf(n,t),n.prototype.clone=function(){return new n(this,{body:Pv(this)})},n}(Bv),fd="function"==typeof nd&&nv.stream&&nv.streamResponse&&nv.url;function vd(t,n){return new E(function(i){var r=new cd(t,n);i((fd&&function(t){try{return ed.indexOf(new Gf.URL(t,Gf.location.href).protocol)>=0}catch(t){return!1}}(r.url)?hd:td)(r))})}vd.polyfill=!0;var dd=function(){function t(t){this.Yv=void 0,this.jv=void 0,this.Cd=new es,this.Qv=void 0,this.Dd=!1,this.jv=t,this.Cd.So(t.Io),this.Yv=this.Od()}var n=t.prototype;return n.Od=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u,o,a,c=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.jv).Cv&&h(function(){c.Dd=!0,c.Cd.Eo()},n.Cv),t.prev=2,i=vd(n.vv,{method:n.Nv,headers:n.uv.Nc(),body:n.jf,credentials:n.xv?"include":"same-origin",signal:gd(this.Cd.Io),onprogress:n.Pv}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Vf(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:r=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),us(e=this.xd(t.t1))&&this.Cd.Eo(),e;case 20:if(s=r.url||n.vv,u=0===r.status&&"file:"===(f=s,T.Du(f).protocol)?200:r.status,o=new ld(this,r,this.Cd),a=new Nf({Ds:o,cv:n,ov:n.ov,uv:new Zo(r.headers.asList()),sv:u,hv:r.statusText,fv:s}),this.Qv=a,!Tf(a)){t.next=29;break}return t.abrupt("return",a);case 29:throw new Xf(a);case 30:case"end":return t.stop()}var f},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.xd=function(t){return us(t)?this.Dd?new Wf(this.jv):new ss(t.message,t):this.Qv?new Xf(this.Qv,t):new Vf(this.jv,t)},t}(),ld=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.Pd=void 0,e.Cd=void 0,e.Jf=new ju,e.an=n,e.Pd=i,e.Cd=r,e.Jf.gh.catch(R),e}F(n,t);var i=n.prototype;return i.Kf=function(){return this.Jf.gh},i.Xf=function(t){return this.tv(this.Pd.text(),t)},i.qf=function(t){return this.tv(this.Pd.arrayBuffer(),t)},i.zf=function(){var t=this.Pd.body;return t?this.nv(t):hf(this.qf().then(uf),this.Cd)},i.rv=function(){var t=this.Pd.clone(),i=this.Cd.Ro(),r=i[0],e=i[1];return this.Cd=r,new n(this.an,t,e)},i.tv=function(t,n){var i=this;n&&this.Cd.So(n);var r=E.resolve(t).catch(function(t){throw i.an.xd(t)});return r=fs(r,this.Cd),this.Jf.wh(r.then(R)),r},i.nv=function(t){var n=this,i=new qc,r=E.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.an.xd(t);throw i.writable.abort(r).catch(R),r});return r=fs(r,this.Cd),this.Jf.wh(r.then(R)),i.readable},M(n,[{key:"ev",get:function(){return this.Pd.bodyUsed}}]),n}(df),_d="abort";function gd(t){var n=new Xv;if(t.do)n.abort();else if(!t.lo){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(_d,i),t.po(i),t.bo(r)};n.signal.addEventListener(_d,i),t.ko(i),t.Ao(r)}return n.signal}function wd(t,n,i){return new E(function(r,e){if(i&&i.do)return e(new ss);var s=function(t){o(),r(t)},u=function(){o(),e(new ss)},o=function(){t.removeEventListener(n,s),i&&i.po(u)};t.addEventListener(n,s),i&&i.ko(u)})}var yd,md,kd=function(){function t(){}var n=t.prototype;return n.cv=function(t){return new dd(t).Yv},n.Bv=function(t){if(Ar&&Ar.sendBeacon)Ar.sendBeacon(t.vv,Go([t.jf],{type:t.Gf}));else{var n=t.Gf?{"Content-type":t.Gf}:void 0;_s(this.cv(new Cf({Nv:Ef.POST,vv:t.vv,jf:t.jf,uv:n})))}},n.Lv=function(){},t}();yd=new(function(n){function i(){for(var i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(i=n.call.apply(n,[this].concat(e))||this).Bd=void 0,i.Ld=function(){try{return"body"in t.Response.prototype}catch(t){return!1}}(),i.Md=!function(t){if(Y.Re||Y.Ee){var n=Y.Te;if(void 0===n||Number(n)<t)return!1}return!0}(56),i.Ud=void 0,i}return F(i,n),M(i,[{key:"Tu",get:function(){return this.Bd||(this.Bd=new Ve(Xo())),this.Bd}},{key:"Fd",get:function(){return this.Ld}},{key:"Hd",get:function(){return this.Md}},{key:"Vd",get:function(){return!1}},{key:"Xd",get:function(){return qo.Xa()}},{key:"Wd",get:function(){return{qd:jo}}},{key:"zd",get:function(){return o.connection&&o.connection.effectiveType||"default"}},{key:"Gd",get:function(){return o.connection&&o.connection.type||"unknown"}},{key:"jd",get:function(){return this.Ud||(this.Ud=new Of(new kd)),this.Ud}}]),i}(Jr)),T=yd,function(t){t.Qd="Yd",t.Zd="Jd"}(md||(md={}));md.Qd,md.Zd;var pd=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).$d=void 0,r}return F(n,t),M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}}]),n}(Es);function Ad(t){return Boolean(t&&t.Kd)}var bd,Td=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(pd),Ed=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n}(Es),Sd=function(t){function n(n){var i;return(i=t.call(this,md.Qd)||this).nl=n,i}return F(n,t),n.prototype.tl=function(){return new Rd(this.nl.Kd)},n}(Td),Rd=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return F(n,t),n}(Ed),Id=function(t){function n(n){var i;return(i=t.call(this,md.Zd)||this).nl=n,i}return F(n,t),n.prototype.tl=function(){return new Nd(this.nl.Kd)},n}(Td),Nd=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return F(n,t),n}(Ed);!function(t){t.il="sl",t.ul="ol",t.hl="al",t.cl="fl",t.vl="dl",t.ll="_l",t.gl="wl",t.yl="ml",t.kl="Bh",t.pl="Al",t.bl="Tl",t.QUALITY_UNAVAILABLE="qualityunavailable",t.NO_QUALITY="noquality"}(bd||(bd={}));var Cd=function(t){function n(){var n;return(n=t.call(this)||this).El=[],n.$d=void 0,n}F(n,t);var i=n.prototype;return i.Sl=function(t){return this.El[t]},i.Rl=function(t){return!(!t||Ze(this.El,t))&&(this.El.push(t),this.$d&&this.$d.push(t.Kd),t.Po(bd.ll,this.Oo),this.xo(new Sd(t)),!0)},i.Il=function(t){if(!t)return!1;var n=this.El.indexOf(t);return!(n<0)&&(Ye(this.El,n),this.$d&&Ye(this.$d,n),t.Uo(bd.ll,this.Oo),this.xo(new Id(t)),!0)},i.Nl=function(t){return Ze(this.El,t)},i.Cl=function(){for(var t=this.El,n=t.length-1;n>=0;n-=1)this.Il(t[n])},i.Lv=function(){this.Cl(),this.Mo()},M(n,[{key:"Dl",get:function(){return this.El}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Ol",get:function(){return this.El.length}}]),n}(bs),Dd=function(t){function n(n){var i;return(i=t.call(this,bd.ll)||this).nl=n,i}return F(n,t),n.prototype.tl=function(){return new Od(this.nl.Kd)},n}(Td),Od=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return F(n,t),n}(Ed),xd=function(t){function n(){var n;return(n=t.call(this)||this).xl=void 0,n.Pl=function(t){var i=t.nl;n.Rl(i)},n.Bl=function(t){var i=t.nl;n.Il(i)},n}F(n,t);var i=n.prototype;return i.Ll=function(t){t.Po(md.Qd,this.Pl),t.Po(md.Zd,this.Bl)},i.Ml=function(t){t.Uo(md.Qd,this.Pl),t.Uo(md.Zd,this.Bl)},i.Lv=function(){this.xl&&this.xl.Lv(),t.prototype.Lv.call(this)},M(n,[{key:"Ul",get:function(){return this.xl},set:function(t){var n=this.xl;if(t!==n){if(n){this.Ml(n);for(var i=0,r=n.Dl;i<r.length;i++){var e=r[i];t&&t.Nl(e)||this.Il(e)}}if(this.xl=t,t){for(var s=[],u=0,o=t.Dl;u<o.length;u++){var h=o[u];this.Rl(h),this.Fl(h)&&s.push(h)}this.Ll(t);for(var a=0;a<s.length;a++){var c=s[a];c.xo(new Dd(c))}}}}}]),n}(Cd),Pd=l.freeze||I;function Bd(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function Ld(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function Md(t){if(it(t)){var n={};for(var i in t)Z.call(t,i)&&(n[i]=Md(t[i]));return n}if(K(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=Md(t[e]));return r}return t}function Ud(t,n){return t===n||!(!t||!n)&&(!(!nt(t)||!nt(n))&&(tt(t)?!!tt(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Ud(t[e],n[e]))return!1;return!0}(t,n):!tt(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var s=i[e];if(!Z.call(n,s)||!Ud(t[s],n[s]))return!1}return!0}(t,n)))}function Fd(t,n){return t.constructor===n.constructor}function Hd(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],s=t[e];null!=s&&(n[e]=s)}return n}function Vd(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Xd(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function Wd(t){var n=Xd(t);if(y(n))throw new v("Expected a valid number.");return n}function qd(t){return"string"==typeof t?t:""}function zd(t,n){return tt(t)?function(t,n){if(!tt(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}var Gd=[md.Qd,md.Zd,bd.ll];function jd(t){var n,i=t.Dl.map(function(t){return t.Kd});return i.item=function(n){var i=0|n,r=t.Sl(i);return r&&r.Kd||void 0},i.addEventListener=function(t,i){n.Po(t,i)},i.removeEventListener=function(t,i){n.Uo(t,i)},n=new Ts(i),t.Po(Gd,function(t){return n.xo(t.Kd)}),i}function Qd(){}function Yd(t){var n,i=[bd.kl,bd.ll,bd.pl,bd.bl,bd.QUALITY_UNAVAILABLE],r={get activeQuality(){return t.Hl&&t.Hl.Kd},get enabled(){return t.Vl},set enabled(n){t.Vl=Vd(n)},get id(){return t.Xl},get uid(){return t.Wl},get kind(){return t.ql},get label(){return t.zl},set label(n){t.zl=qd(n)},get language(){return t.Gl},get qualities(){return t.jl.Kd},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.jl.Dl;r<e.length;r++)for(var s=e[r],u=0;u<n.length;u++){var o=n[u];s.Kd===o&&i.push(s)}return i}(t,K(n)?n:[n]):[]).length>0?t.Ql=i:t.Ql=void 0},get targetQuality(){if(t.Ql)return 1===t.Ql.length?t.Ql[0].Kd:t.Ql.map(function(t){return t.Kd})},addEventListener:function(t,i){var r=zd(t,qd);n.Po(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Uo(r,i)}};return n=new Ts(r),t.Po(i,function(t){return n.xo(t.Kd)}),l.defineProperty(r,"constructor",{value:Qd}),r}function Zd(){}function Jd(t){var n=jd(t);return l.defineProperty(n,"constructor",{value:Zd}),n}var $d,Kd,tl=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.tl=function(){return Jd(this)},i.Fl=function(t){return t.Vl},n}(xd);function nl(t){if("string"==typeof t){var n=t.toLowerCase();switch(n){case $d.Yl:case $d.Zl:case $d.Jl:return n}}else if("number"==typeof t)switch(t){case 0:return $d.Yl;case 1:return $d.Zl;case 2:return $d.Jl}return $d.Yl}function il(){}function rl(t){var n,i=[bd.ll,bd.kl,bd.il,bd.ul,bd.hl,bd.cl,bd.vl,bd.gl,bd.yl],r=[Kd.$l],e={get kind(){return t.ql},get label(){return t.zl},set label(n){t.zl=qd(n)},get language(){return t.Gl},get id(){return t.Xl},get uid(){return t.Wl},get inBandMetadataTrackDispatchType(){return t.Kl},get mode(){return t.t_},set mode(n){n!==$d.Jl&&n!==$d.Zl&&n!==$d.Yl||(t.t_=n)},get type(){return t.io},get readyState(){return ul(t.n_)},get cues(){return t.t_===$d.Yl?null:t.i_.Kd},get activeCues(){return t.t_===$d.Yl?null:t.r_.Kd},get src(){return t.e_||""},addEventListener:function(t,i){var r=zd(t,qd);n.Po(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Uo(r,i)}};return n=new Ts(t),t.Po(i,function(t){return n.xo(t.Kd)}),t.Po(r,function(t){return n.xo(t)}),l.defineProperty(e,"constructor",{value:il}),e}function el(){}function sl(t){var n=jd(t);return l.defineProperty(n,"constructor",{value:el}),n}function ul(t){return t}!function(t){t.Yl="disabled",t.Zl="hidden",t.Jl="showing"}($d||($d={})),function(t){t.$l="error"}(Kd||(Kd={}));var ol=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.tl=function(){return sl(this)},i.Fl=function(t){return t.t_===$d.Jl},n}(xd),hl=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Lo=function(n){t.prototype.Lo.call(this,n)},i.Vo=function(n){t.prototype.Vo.call(this,n)},n}(bs),al=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(hl),cl=function(t){function n(){return t.call(this,Qo.tc)||this}return F(n,t),n}(Es),fl=function(t){function n(n){var i;return(i=t.call(this,Qo.Ya)||this).currentSource=n,i}return F(n,t),n}(Es),vl=function(){function t(){}return t.s_=function(n,i){var r=t.u_(n,i);return r?t.o_(r):0},t.h_=function(){return T.zd||"default"},t.a_=function(){return T.Gd||"unknown"},t.u_=function(n,i){var r,e=null==(r=T.Xd)?void 0:r.ih(i),s=e&&JSON.parse(e);if(s&&s[n])return t.c_(s,n,i)},t.o_=function(t){var n=t.availableBandwidth;return n||0},t.c_=function(n,i,r){if(!t.f_(n,i))return n[i];t.v_(n,i,r)},t.v_=function(t,n,i){var r;delete t[n],null==(r=T.Xd)||r.Va(i,JSON.stringify(t))},t.f_=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.d_=function(t,n,i,r){var e;return te({},t,((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.l_=function(n){var i=t.h_();t.__(i,"theoplayer-stored-network-info",n,Jt())},t.__=function(n,i,r,e){var s,u,o=null==(s=T.Xd)?void 0:s.ih(i),h=o?JSON.parse(o):void 0,a=t.d_(h,n,r,e);null==(u=T.Xd)||u.Va(i,JSON.stringify(a))},t.g_=function(){var n=t.h_();return t.s_(n,"theoplayer-stored-network-info")},t}();var dl,ll,_l,gl,wl,yl,ml="1ADD53F3";function kl(t){return{chromecast:function(t){return{appID:t&&t.appID?qd(t.appID):ml}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return dl.AUTO;case"manual":return dl.MANUAL;case"disabled":return dl.DISABLED;default:return dl.MANUAL}}(t?t.strategy:void 0)}}function pl(t){var n,i=_l.w_;return(n=t)&&Ie(n,"mpd")&&(i=_l.y_),function(t){return!!t&&Ie(t,"m3u8")}(t)&&(i=_l.m_),i}function Al(t){switch(t){case ll.k_:case ll.p_:return t;default:return ll.A_}}function bl(t){return!!t&&Ne(t.toLowerCase(),_l.y_)}function Tl(t){if(!t)return!1;var n=t.toLowerCase();return Ne(n,_l.m_)||Ne(n,_l.b_)}function El(t){return nt(t)&&nt(t.ssai)&&"google-dai"===t.ssai.integration}function Sl(t){return nt(t)&&rt(t.integration)&&"verizon-media"===t.integration}function Rl(t){if(rt(t))return!t;if(Sl(t))return!t.id;if(El(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return Boolean(i&&r)}return!t.src}function Il(t){return Boolean(nt(t)&&rt(t.src))}function Nl(t){return rt(t)||Il(t)||El(t)||Sl(t)}function Cl(t){if(t){if(Nl(t))return Rl(t);for(var n=0;n<t.length;n++){if(!Rl(t[n]))return!1}return!0}return!0}function Dl(){return{crossOrigin:ll.A_,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:void 0,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1,dash:void 0,hls:void 0}}function Ol(){return te({},Dl(),{src:void 0,type:_l.w_,contentProtection:void 0,ssai:void 0,integrationData:void 0,isAdvertisement:void 0})}function xl(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:gl.ENABLED,googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return wl.NONE;case"midroll-and-postroll":default:return wl.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Vd(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return gl.INSECURE;case"disabled":return gl.DISABLED;case"enabled":default:return gl.ENABLED}}(t.vpaidMode)),K(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(rt)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Vd(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function Pl(t){if(!tt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];it(e)&&n.push(e)}return n}function Bl(t){return rt(t.src)}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(dl||(dl={})),function(t){t.A_="",t.k_="anonymous",t.p_="use-credentials"}(ll||(ll={})),function(t){t.y_="application/dash+xml",t.m_="application/vnd.apple.mpegurl",t.b_="application/x-mpegurl",t.w_="video/mp4",t.T_="application/vnd.theoplayer.hesp+json",t.E_="application/vnd.theo.hesp+json"}(_l||(_l={})),function(t){t.ENABLED="enabled",t.INSECURE="insecure",t.DISABLED="disabled"}(gl||(gl={})),function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(wl||(wl={})),function(t){t[t.S_=0]="S_",t[t.R_=1]="R_",t[t.I_=2]="I_",t[t.N_=3]="N_",t[t.C_=4]="C_"}(yl||(yl={}));var Ll,Ml=function(t){function n(n,i){var r;return void 0===i&&(i=yl.S_),(r=t.call(this,Qo.$a)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),Ul=function(t){function n(n){var i;return(i=t.call(this,Qo.oc)||this).currentTime=n,i}return F(n,t),n}(Es),Fl=function(t){function n(n){var i;return(i=t.call(this,Qo.hc)||this).currentTime=n,i}return F(n,t),n}(Es);!function(t){t.D_="canplay",t.O_="canplaythrough",t.x_="loadeddata",t.P_="loadedmetadata",t.gl="readystatechange",t.B_="waiting",t.L_="playing"}(Ll||(Ll={}));var Hl,Vl,Xl=[Ll.D_,Ll.O_,Ll.x_,Ll.P_,Ll.gl,Ll.B_,Ll.L_],Wl=function(t){function n(n,i){var r;return void 0===i&&(i=yl.R_),(r=t.call(this,Ll.P_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),ql=function(t){function n(n){var i;return(i=t.call(this,Qo.Ja)||this).duration=n,i}return F(n,t),n}(Es),zl=function(t){function n(n,i){var r;return(r=t.call(this,Qo.cc)||this).currentTime=n,r.playbackRate=i,r}return F(n,t),n}(Es),Gl=function(t){function n(n,i){var r;return(r=t.call(this,Qo.pc)||this).currentTime=n,r.currentProgramDateTime=i,r}return F(n,t),n}(Es),jl=function(t){function n(n){var i;return(i=t.call(this,Qo.Ka)||this).currentTime=n,i}return F(n,t),n}(Es),Ql=function(t){function n(n,i){var r;return void 0===i&&(i=yl.I_),(r=t.call(this,Ll.x_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),Yl=function(t){function n(n){var i;return(i=t.call(this,Qo.lc)||this).currentTime=n,i}return F(n,t),n}(Es),Zl=function(t){function n(n){var i;return(i=t.call(this,Qo.dc)||this).currentTime=n,i}return F(n,t),n}(Es),Jl=function(t){function n(n,i){var r;return(r=t.call(this,Qo.Ac)||this).currentTime=n,r.volume=i,r}return F(n,t),n}(Es),$l=function(t){function n(n,i){var r;return void 0===i&&(i=yl.N_),(r=t.call(this,Ll.D_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),Kl=function(t){function n(n,i){var r;return void 0===i&&(i=yl.C_),(r=t.call(this,Ll.O_)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),t_=function(t){function n(n,i){var r;return(r=t.call(this,Ll.gl)||this).currentTime=n,r.readyState=i,r}return F(n,t),n}(Es),n_=function(t){function n(n){var i;return(i=t.call(this,Kd.$l)||this).errorObject=n,i}return F(n,t),n.prototype.tl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(pd);function i_(t){switch(t){case Hl.ALL:case Hl.CONTENT:return t;default:return Hl.NONE}}function r_(t){var n,i,r,e=Md(t||{});return e.libraryLocation&&(e.libraryLocation=Pf(e.libraryLocation)),e.isEmbeddable=Boolean(e.isEmbeddable),e.cast=kl(e.cast),e.ads=xl(e.ads),e.analytics=Pl(e.analytics),e.mutedAutoplay=i_(e.mutedAutoplay),e.allowNativeFullscreen=Boolean(e.allowNativeFullscreen),e.allowMixedContent=Boolean(e.allowMixedContent),e.persistVolume=Boolean(e.persistVolume),e.liveOffset=(n=e.liveOffset,Number(n)||void 0),e.hlsDateRange=(i=e.hlsDateRange,Boolean(i)),e.retainPlaybackRateOnSourceChange=Boolean(e.retainPlaybackRateOnSourceChange),e.license=rt(r=e.license)?r:void 0,e.licenseUrl=function(t){if(!t)return;try{return Pf(t)}catch(t){return void T.yu("Invalid 'licenseUrl', falling back to default URL")}}(e.licenseUrl),e}function e_(t){return{M_:t.M_,U_:t.U_,F_:t.F_,Qo:t.Qo,H_:t.H_,V_:t.V_,X_:t.X_,W_:t.W_,n_:t.n_,q_:t.q_,z_:t.z_,G_:t.G_,j_:t.j_}}function s_(t,n){var i=n.j_,r=n.V_;t.j_=i,t.V_=r}function u_(t,n,i){if(n!==i){var r=n.M_,e=n.U_,s=n.V_,u=n.X_,o=n.W_,h=n.n_,a=n.q_,c=(n.G_,n.z_,n.j_),f=i.M_,v=i.U_,d=i.F_,l=i.H_,_=i.V_,g=i.X_,w=i.W_,m=i.n_,k=i.q_,p=(i.G_,i.z_,i.j_);h!==yl.S_&&t.xo(new Ml(f,m)),g&&!u?t.xo(new Ul(f)):!g&&u&&t.xo(new Fl(f)),m>=yl.R_&&t.xo(new Wl(f,m)),v===e||y(v)&&y(e)||t.xo(new ql(v)),w!==o&&t.xo(new zl(f,w)),f!==r&&t.xo(new Gl(f,void 0)),d&&t.xo(new jl(f)),m>=yl.I_&&t.xo(new Ql(f,m)),k&&!a?t.xo(new Yl(f)):!k&&a&&t.xo(new Zl(f)),p===c&&_===s||t.xo(new Jl(f,p)),m>=yl.N_&&t.xo(new $l(f,m)),m>=yl.C_&&t.xo(new Kl(f,m)),m!==h&&t.xo(new t_(f,m)),l&&t.xo(new n_(l))}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(Hl||(Hl={})),function(t){t.LIVE_OFFSET="liveoffset",t.TRACK_BYTES_DOWNLOADED="trackbytesdownloaded",t.ESTIMATED_TRACK_NETWORK_BANDWIDTH="estimatedtracknetworkbandwidth",t.ESTIMATED_TRACK_MEDIA_DATA_BANDWIDTH="estimatedtrackmediadatabandwidth",t.SEGMENT_RECEIVE_INTERVAL="segmentreceiveinterval"}(Vl||(Vl={}));var o_,h_=400,a_={windowStart:.2,target:.45,windowEnd:.7,maxOffset:1.5},c_=f_(.5,a_);function f_(t,n){var i=_.max(1,t/n.windowStart);return{windowStart:i*n.windowStart,target:i*n.target,windowEnd:i*n.windowEnd,maxOffset:n.maxOffset+(i*n.windowEnd-n.windowEnd)}}function v_(){var t;return t="Android"===T.Bu.Lu?c_:a_,T.Bu.Mu?function(t){var n=t;T.Bu.Mu&&(n=f_((h_+250)/1e3,n));return n}(t):t}!function(t){t[t.Q_=0]="Q_",t[t.Y_=1]="Y_",t[t.Z_=-1]="Z_"}(o_||(o_={}));var d_=function(t,n){return(0|t)-(0|n)},l_=function(t,n){return t===n?o_.Q_:t<n?o_.Z_:t>n?o_.Y_:y(t)?y(n)?o_.Q_:o_.Y_:o_.Z_};function __(t,n,i){return Gt(t,n,i)?o_.Q_:l_(t,n)}var g_=function(t,n){return jt(t,n)?o_.Q_:l_(t,n)};var w_=function(){function t(){}var n=t.prototype;return n.J_=function(t){return this.K_()*t},n.tg=function(t){return this.ng(t)>0},n.ig=function(t){return this.ng(t)>=0},n.rg=function(t,n){return this.sg(t).eg(n)},n.ug=function(t){return 0===this.ng(t)},n.og=function(t){return this.ng(t)<0},n.eg=function(t){return this.ng(t)<=0},n.hg=function(){return this.ag()?this.cg():this},n.fg=function(t){return this.vg(t.cg())},n.sg=function(t){return this.fg(t).hg()},t}();function y_(t,n){return t.dg()?n.dg()?o_.Q_:o_.Y_:n.dg()?o_.Z_:t.lg()?n.lg()&&t.ag()===n.ag()?o_.Q_:t.ag()?o_.Z_:o_.Y_:n.ag()?o_.Y_:o_.Z_}var m_=function(){function t(t,n){this._g=void 0,this.gg=void 0,this._g=t,this.gg=n}t.wg=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.yg=function(n){return n.unsigned?new t(n,Wt.UZERO):new t(n,n.isNegative()?Wt.NEG_ONE:Wt.ZERO)},t.mg=function(n,i){if(y(n))return i?t.kg:t.pg;if(i){if(n<0)return t.kg;if(n>=3.402823669209385e38)return t.Ag}else{if(n<=-1.7014118346046923e38)return t.bg;if(n+1>=1.7014118346046923e38)return t.Tg}return n<0?t.mg(-n,i).cg():t.wg(Wt.fromNumber(n%0x10000000000000000),Wt.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Eg=function(){return this.gg.unsigned},n.Sg=function(){return this._g.isZero()&&this.gg.isZero()},n.ag=function(){return this.gg.isNegative()},n.Rg=function(){return this.Eg()?t.wg(this._g,this.gg,!1):this},n.Ig=function(){return this.Eg()?this:t.wg(this._g,this.gg,!0)},n.Ng=function(){return this._g},n.K_=function(){return this.ag()?-this.cg().K_():0x10000000000000000*this.gg.toNumber()+this._g.toUnsigned().toNumber()},n.Cg=function(){return this._g.toInt()},n.ug=function(t){return(this.Eg()===t.Eg()||this.gg.getHighBits()>>>31!=1||t.gg.getHighBits()>>>31!=1)&&(this.gg.toUnsigned().eq(t.gg.toUnsigned())&&this._g.toUnsigned().eq(t._g.toUnsigned()))},n.ng=function(t){if(this.ug(t))return o_.Q_;var n=this.ag(),i=t.ag();if(n&&!i)return o_.Z_;if(!n&&i)return o_.Y_;if(!this.Eg())return this.fg(t).ag()?o_.Z_:o_.Y_;var r=this.Ig(),e=t.Ig(),s=e.gg.comp(r.gg);return s>0||0===s&&e._g.gt(r._g)?o_.Z_:o_.Y_},n.og=function(t){return this.ng(t)<0},n.eg=function(t){return this.ng(t)<=0},n.Dg=function(t){return this.ng(t)>0},n.Og=function(t){return this.ng(t)>=0},n.xg=function(){return new t(this._g.not(),this.gg.not())},n.Pg=function(n){return new t(this._g.and(n._g),this.gg.and(n.gg))},n.Bg=function(n){return new t(this._g.or(n._g),this.gg.or(n.gg))},n.Lg=function(n){var i=127&n;return 0===i?this:i<64?t.wg(this._g.shl(i),this.gg.shl(i).or(this._g.shru(64-i)),this.Eg()):t.wg(Wt.ZERO,this._g.shl(i-64),this.Eg())},n.Mg=function(n){var i=127&n;return 0===i?this:i<64?t.wg(this._g.shru(i).or(this.gg.shl(64-i)),this.gg.shr(i),this.Eg()):t.wg(this.gg.shr(i-64),this.gg.isNegative()?Wt.NEG_ONE:Wt.ZERO,this.Eg())},n.Ug=function(n){var i=127&n;return 0===i?this:i<64?t.wg(this._g.shru(i).or(this.gg.shl(64-i)),this.gg.shru(i),this.Eg()):64===i?t.wg(this.gg,Wt.ZERO,this.Eg()):t.wg(this.gg.shru(i-64),Wt.ZERO,this.Eg())},n.vg=function(n){var i=this.gg.high>>>16,r=65535&this.gg.high,e=this.gg.low>>>16,s=65535&this.gg.low,u=this._g.high>>>16,o=65535&this._g.high,h=this._g.low>>>16,a=65535&this._g.low,c=n.gg.high>>>16,f=65535&n.gg.high,v=n.gg.low>>>16,d=65535&n.gg.low,l=n._g.high>>>16,_=65535&n._g.high,g=n._g.low>>>16,w=0,y=0,m=0,k=0,p=0,A=0,b=0,T=0;b+=(T+=a+(65535&n._g.low))>>>16,T&=65535,A+=(b+=h+g)>>>16,b&=65535,p+=(A+=o+_)>>>16,A&=65535,k+=(p+=u+l)>>>16,p&=65535,m+=(k+=s+d)>>>16,k&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+c,w&=65535;var E=this.Eg(),S=Wt.fromBits(m<<16|k,w<<16|y,E),R=Wt.fromBits(b<<16|T,p<<16|A,E);return t.wg(R,S,E)},n.fg=function(t){return this.vg(t.cg())},n.cg=function(){return this.xg().vg(t.Fg)},n.Hg=function(n){if(this.Sg()||n.Sg())return this.Eg()?t.kg:t.pg;if(this.ag())return n.ag()?this.cg().Hg(n.cg()):this.cg().Hg(n).cg();if(n.ag())return this.Hg(n.cg()).cg();if(this.gg.isZero()&&0===this._g.high&&n.gg.isZero()&&0===n._g.high)return t.yg(this._g.multiply(n._g));var i=Wt.fromBits(4294967295,0,!0),r=this._g.and(i),e=this._g.shru(32),s=this.gg.and(i),u=this.gg.shru(32),o=n._g.and(i),h=n._g.shru(32),a=n.gg.and(i),c=n.gg.shru(32),f=Wt.UZERO,v=Wt.UZERO,d=Wt.UZERO,l=Wt.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(h)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(s.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(h)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(a)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(u.mul(o)).add(s.mul(h)).add(e.mul(a)).add(r.mul(c)).and(i);var _=Wt.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Wt.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.wg(_,g,this.Eg())},n.Vg=function(n){var i,r,e=n;if(e.Sg())throw new RangeError("division by zero");if(this.Sg())return this.Eg()?[t.kg,t.kg]:[t.pg,t.pg];if(this.Eg()){if(e.Eg()||(e=e.Ig()),e.Dg(this))return[t.kg,this];if(e.Dg(this.Ug(1)))return[r=t.Xg,i=this.fg(e)];r=t.kg}else{if(this.ug(t.bg)){if(e.ug(t.Fg)||e.ug(t.Wg))return[t.bg,t.pg];if(e.ug(t.bg))return[t.Fg,t.pg];var s=this.Mg(1).qg(e).Lg(1);return s.ug(t.pg)?r=e.ag()?t.Fg:t.Wg:(i=this.fg(e.Hg(s)),r=s.vg(i.qg(e))),[r,i=this.fg(e.Hg(r))]}if(e.ug(t.bg))return this.Eg()?[t.kg,this]:[t.pg,this];if(this.ag()){if(e.ag())return this.cg().Vg(e.cg());var u=this.cg().Vg(e);return r=u[0],i=u[1],[r.cg(),i.cg()]}if(e.ag()){var o=this.Vg(e.cg());return r=o[0],i=o[1],[r.cg(),i.cg()]}r=t.pg}for(i=this;i.Og(e);){for(var h=_.max(1,_.floor(i.K_()/e.K_())),a=_.ceil(_.log(h)/_.LN2),c=a<=48?1:_.pow(2,a-48),f=t.mg(h),v=f.Hg(e);v.ag()||v.Dg(i);)h-=c,v=(f=t.mg(h,this.Eg())).Hg(e);f.Sg()&&(f=t.Fg),r=r.vg(f),i=i.fg(v)}return[r,i]},n.qg=function(t){return this.Vg(t)[0]},n.zg=function(t){return this.Vg(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Sg())return"0";if(this.ag()){if(this.ug(t.bg)){var r=t.mg(i),e=this.qg(r),s=e.Hg(r).fg(this);return e.toString(i)+s.Cg().toString(i)}return"-"+this.cg().toString(i)}for(var u=t.mg(_.pow(i,6),this.Eg()),o=this,h="";;){var a=o.qg(u),c=(o.fg(a.Hg(u)).Cg()>>>0).toString(i);if((o=a).Sg())return c+h;for(;c.length<6;)c="0"+c;h=String(c)+h}},t}();m_.pg=m_.yg(Wt.ZERO),m_.kg=m_.yg(Wt.UZERO),m_.Fg=m_.yg(Wt.ONE),m_.Xg=m_.yg(Wt.UONE),m_.Wg=m_.yg(Wt.NEG_ONE),m_.Tg=m_.wg(Wt.NEG_ONE,Wt.MAX_VALUE,!1),m_.Ag=m_.wg(Wt.MAX_UNSIGNED_VALUE,Wt.MAX_UNSIGNED_VALUE,!0),m_.bg=m_.wg(Wt.ZERO,Wt.MIN_VALUE,!1);var k_=function(){function t(t,n){void 0===n&&(n=1),this.Gg=void 0,this.jg=void 0,this.Gg=t,this.jg=n}t.Qg=function(n){return new t(_.ceil(n.Gg),n.jg)},t.Yg=function(n){return new t(_.floor(n.Gg),n.jg)},t.Zg=function(t,n){return t.ig(n)?t:n},t.Jg=function(t,n){return t.eg(n)?t:n};var n=t.prototype;return n.vg=function(n){return this.jg>=n.jg?new t(this.Gg+n.$g(this.jg).Gg,this.jg):new t(this.$g(n.jg).Gg+n.Gg,n.jg)},n.tg=function(t){return t.og(this)},n.ig=function(t){return t.eg(this)},n.sg=function(n){return this.jg>=n.jg?new t(_.abs(this.Gg-n.$g(this.jg).Gg),this.jg):n.sg(this)},n.rg=function(t,n){return this.sg(t).eg(n)},n.ng=function(t){return i=t,(n=this).jg>=i.jg?g_(n.Gg,i.$g(n.jg).Gg):g_(n.$g(i.jg).Gg,i.Gg);var n,i},n.ug=function(t){return 0===this.ng(t)},n.og=function(t){return this.ng(t)<0},n.eg=function(t){return this.ng(t)<=0},n.$g=function(n){return new t(this.Gg*(n/this.jg),n)},n.fg=function(n){return this.jg>=n.jg?new t(this.Gg-n.$g(this.jg).Gg,this.jg):new t(this.$g(n.jg).Gg-n.Gg,n.jg)},n.Kg=function(n){return new t(this.Gg*n,this.jg)},M(t,[{key:"lg",get:function(){return!isFinite(this.Gg)}},{key:"tw",get:function(){return this.Gg/this.jg}}]),t}();k_.nw=new k_(1/6,1),k_.pg=new k_(0),k_.iw=new k_(1/0),k_.rw=1e6;var p_=function(t){function n(n,i){var r;return(r=t.call(this)||this).fs=void 0,r.jg=void 0,r.fs=n.toSigned(),r.jg=i>>>0,r}F(n,t),n.ew=function(t,i){return void 0===i&&(i=1e6),n.mg(t*i,i)},n.mg=function(t,i){return y(t)?n.sw:t===1/0?n.uw:t===-1/0?n.ow:new n(Wt.fromNumber(t),i)},n.yg=function(t,i){return new n(t,i)},n.hw=function(t){return n.ew(t.tw,1e6)},n.aw=function(t){return new n(Wt.fromNumber(t.getTime()),1e3)},n.Zg=function(t,n){return t.ig(n)?t:n},n.Jg=function(t,n){return t.eg(n)?t:n},n.cw=function(t,i,r){return n.Zg(i,n.Jg(r,t))};var i=n.prototype;return i.ag=function(){return this.fs.isNegative()},i.Sg=function(){return 0!==this.jg&&this.fs.isZero()},i.lg=function(){return 0===this.jg&&!this.fs.isZero()},i.dg=function(){return 0===this.jg&&this.fs.isZero()},i.K_=function(){if(0===this.jg)return this.fs.isZero()?NaN:this.fs.isNegative()?-1/0:1/0;var t=this.fs.divide(this.jg),n=this.fs.subtract(t.multiply(this.jg));return t.toNumber()+n.toNumber()/this.jg},i.Ng=function(){if(0===this.jg)throw new v("Failed to convert timestamp");return this.fs},i.fw=function(){return new Date(0===this.jg?NaN:this.$g(1e3).fs.toNumber())},i.vw=function(){return new k_(0===this.jg?this.K_():this.fs.toNumber(),this.jg)},i.$g=function(t,i){void 0===i&&(i=T_.dw);var r=this.jg;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t.Vg(n),e=r[0],s=r[1];if(s.Sg())return e;if(i===T_.dw)return s.ag()?e.fg(m_.Fg):e;if(i===T_.lw)return s.ag()?e:e.vg(m_.Fg);var u=s.Hg(m_.mg(2));return u.ag()?u.cg().og(n)?e:e.fg(m_.Fg):u.og(n)?e:e.vg(m_.Fg)}(m_.yg(this.fs).Hg(m_.mg(t/e)),m_.mg(r/e),i).Ng(),t)},i.ng=function(t){if(this===t)return o_.Q_;if(0===this.jg||0===t.jg)return y_(this,t);if(this.Sg())return t.Sg()?o_.Q_:t.ag()?o_.Y_:o_.Z_;if(t.Sg())return this.ag()?o_.Z_:o_.Y_;var n=_.min(this.jg,t.jg),i=this.$g(n,T_._w).fs,r=t.$g(n,T_._w).fs;return i.compare(r)},i.cg=function(){return 0===this.jg?A_(this):new n(this.fs.negate(),this.jg)},i.vg=function(t){if(0===this.jg||0===t.jg)return b_(this,t);if(this.Sg())return t;if(t.Sg())return this;var i=_.max(this.jg,t.jg),r=this.$g(i,T_._w),e=t.$g(i,T_._w);return new n(r.fs.add(e.fs),i)},i.Hg=function(t){if(this.dg()||y(t))return n.sw;if(this.lg()||!isFinite(t)){if(this.Sg()||0===t)return n.sw;var i=this.ag()?n.ow:n.uw;return t<0?i.cg():i}return this.Sg()?this:new n(0===t?Wt.ZERO:this.fs.multiply(t),this.jg)},i.qg=function(t){if(this.dg()||y(t))return n.sw;if(this.lg())return isFinite(t)?0===t?1/t<0?this.cg():this:t<0?this.cg():this:n.sw;if(!isFinite(t))return new n(Wt.ZERO,this.jg);if(this.Sg())return 0===t?n.sw:new n(Wt.ZERO,this.jg);if(0===t){var i=this.ag()?n.ow:n.uw;return 1/t<0?i.cg():i}return new n(this.fs.divide(t),this.jg)},i.gw=function(){return[this.fs.low,this.fs.high,this.jg]},n}(w_);function A_(t){return t.dg()?t:t.ag()?p_.uw:p_.ow}function b_(t,n){return t.dg()||n.dg()?p_.sw:t.lg()&&n.lg()?t.ag()===n.ag()?t:p_.sw:t.lg()?t:n}p_.pg=new p_(Wt.ZERO,1e6),p_.sw=new p_(Wt.ZERO,0),p_.uw=new p_(Wt.ONE,0),p_.ow=new p_(Wt.NEG_ONE,0);var T_,E_=function(t){function n(n,i){var r;return(r=t.call(this)||this).fs=void 0,r.jg=void 0,r.fs=BigInt.asIntN(64,n),r.jg=i>>>0,r}F(n,t),n.ew=function(t,i){return void 0===i&&(i=1e6),n.mg(t*i,i)},n.mg=function(t,i){return y(t)?n.sw:t===1/0?n.uw:t===-1/0?n.ow:new n(BigInt(_.floor(t)),i)},n.yg=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.hw=function(t){return n.ew(t.tw,1e6)},n.aw=function(t){return n.mg(t.getTime(),1e3)},n.Zg=function(t,n){return t.ig(n)?t:n},n.Jg=function(t,n){return t.eg(n)?t:n},n.cw=function(t,i,r){return n.Zg(i,n.Jg(r,t))};var i=n.prototype;return i.ag=function(){return this.fs<BigInt(0)},i.Sg=function(){return 0!==this.jg&&this.fs===BigInt(0)},i.lg=function(){return 0===this.jg&&this.fs!==BigInt(0)},i.dg=function(){return 0===this.jg&&this.fs===BigInt(0)},i.K_=function(){if(0===this.jg)return this.fs===BigInt(0)?NaN:this.fs<BigInt(0)?-1/0:1/0;var t=this.fs/BigInt(this.jg),n=this.fs-t*BigInt(this.jg);return Number(t)+Number(n)/this.jg},i.Ng=function(){if(0===this.jg)throw new v("Failed to convert timestamp");return this.ww()},i.ww=function(){var t=this.fs&BigInt(4294967295),n=this.fs>>BigInt(32)&BigInt(4294967295);return Wt.fromBits(Number(t),Number(n))},i.fw=function(){return new Date(0===this.jg?NaN:Number(this.$g(1e3).fs))},i.vw=function(){return new k_(0===this.jg?this.K_():Number(this.fs),this.jg)},i.$g=function(t,i){void 0===i&&(i=T_.dw);var r=this.jg;if(r===t)return this;if(0===r)return this;var e=Zt(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(i===T_.dw)return e<BigInt(0)?r-BigInt(1):r;if(i===T_.lw)return e<BigInt(0)?r:r+BigInt(1);var s=e*BigInt(2);return s<BigInt(0)?-s<n?r:r-BigInt(1):s<n?r:r+BigInt(1)}(this.fs*BigInt(t/e),BigInt(r/e),i),t)},i.ng=function(t){if(this===t)return o_.Q_;if(0===this.jg||0===t.jg)return y_(this,t);if(this.Sg())return t.Sg()?o_.Q_:t.ag()?o_.Y_:o_.Z_;if(t.Sg())return this.ag()?o_.Z_:o_.Y_;var n=_.min(this.jg,t.jg),i=this.$g(n,T_._w).fs,r=t.$g(n,T_._w).fs;return i>r?o_.Y_:i<r?o_.Z_:o_.Q_},i.cg=function(){return 0===this.jg?S_(this):new n(-this.fs,this.jg)},i.vg=function(t){if(0===this.jg||0===t.jg)return R_(this,t);if(this.Sg())return t;if(t.Sg())return this;var i=_.max(this.jg,t.jg),r=this.$g(i,T_._w),e=t.$g(i,T_._w);return new n(r.fs+e.fs,i)},i.Hg=function(t){if(this.dg()||y(t))return n.sw;if(this.lg()||!isFinite(t)){if(this.Sg()||0===t)return n.sw;var i=this.ag()?n.ow:n.uw;return t<0?i.cg():i}return this.Sg()?this:new n(0===t?BigInt(0):this.fs*BigInt(t),this.jg)},i.qg=function(t){if(this.dg()||y(t))return n.sw;if(this.lg())return isFinite(t)?0===t?1/t<0?this.cg():this:t<0?this.cg():this:n.sw;if(!isFinite(t))return new n(BigInt(0),this.jg);if(this.Sg())return 0===t?n.sw:new n(BigInt(0),this.jg);if(0===t){var i=this.ag()?n.ow:n.uw;return 1/t<0?i.cg():i}return new n(this.fs/BigInt(t),this.jg)},i.gw=function(){var t=this.ww();return[t.low,t.high,this.jg]},M(n,null,[{key:"pg",get:function(){return n.yw||(n.yw=new n(BigInt(0),1e6)),n.yw}},{key:"sw",get:function(){return n.mw||(n.mw=new n(BigInt(0),0)),n.mw}},{key:"uw",get:function(){return n.kw||(n.kw=new n(BigInt(1),0)),n.kw}},{key:"ow",get:function(){return n.pw||(n.pw=new n(BigInt(-1),0)),n.pw}}]),n}(w_);function S_(t){return t.dg()?t:t.ag()?E_.uw:E_.ow}function R_(t,n){return t.dg()||n.dg()?E_.sw:t.lg()&&n.lg()?t.ag()===n.ag()?t:E_.sw:t.lg()?t:n}E_.yw=void 0,E_.mw=void 0,E_.kw=void 0,E_.pw=void 0,function(t){t[t.dw=0]="dw",t[t.lw=1]="lw",t[t._w=2]="_w"}(T_||(T_={}));var I_,N_=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?E_:p_;function C_(t,n){return t.ng(n)}function D_(t){return N_.yg(Wt.fromBits(t[0],t[1],!1),t[2])}function O_(t){return{goLive:function(){return t.Aw()},get isLive(){return t.bw},get currentServerLiveTime(){return t.Tw},get currentLatency(){return t.Ew},get latency(){return t.Sw},set latency(n){if(!function(t){if(!nt(t))return!1;var n=t,i=$(n.target)&&"number"==typeof n.target&&$(n.windowEnd)&&"number"==typeof n.windowEnd&&$(n.windowStart)&&"number"==typeof n.windowStart&&$(n.maxOffset)&&"number"==typeof n.maxOffset,r=n.windowStart>=0&&n.windowStart<=n.target&&n.target<=n.windowEnd&&n.maxOffset>=n.windowEnd;return i&&r}(n))throw new v("Invalid latency configuration");t.Sw=n},get manifest(){return t.Rw},get metrics(){return t.Iw},addEventListener:function(n,i){t.Po(P_(n),i)},removeEventListener:function(n,i){t.Uo(P_(n),i)}}}!function(t){t[t.Yl=0]="Yl",t[t.Nw=1]="Nw",t[t.Cw=2]="Cw"}(I_||(I_={}));var x_=["analytic","golive","nogolive","bufferedchange"];function P_(t){var n=zd(t,qd);return(rt(n)?[n]:n).filter(function(t){return n=t,-1!==x_.indexOf(n);var n})}var B_,L_=function(t){function n(){var n;return(n=t.call(this)||this).xl=void 0,n.$d=void 0,n.Dw=v_(),n.xl=void 0,n}F(n,t);var i=n.prototype;return i.Ll=function(t){t.Po(x_,this.Oo)},i.Ml=function(t){t.Uo(x_,this.Oo)},i.Aw=function(){var t;null==(t=this.xl)||t.Aw()},i.Lv=function(){this.Mo(),this.xl&&this.Ml(this.xl),this.xl=void 0},M(n,[{key:"Ul",get:function(){return this.xl},set:function(t){var n=this.xl;t!==n&&(n&&this.Ml(n),t&&this.Ll(t),this.xl=t,this.xl&&(this.xl.Sw=this.Dw))}},{key:"Kd",get:function(){return this.$d||(this.$d=O_(this)),this.$d}},{key:"Tw",get:function(){var t;return null==(t=this.xl)?void 0:t.Tw}},{key:"Ew",get:function(){var t;return null==(t=this.xl)?void 0:t.Ew}},{key:"bw",get:function(){return!!this.xl&&this.xl.bw}},{key:"Sw",get:function(){return this.Dw},set:function(t){this.xl&&(this.xl.Sw=t),this.Dw=t}},{key:"Rw",get:function(){var t;return null==(t=this.xl)?void 0:t.Rw}},{key:"Iw",get:function(){var t;return null==(t=this.xl)?void 0:t.Iw}}]),n}(bs),M_=function(t){function n(n){var i;return(i=t.call(this)||this).xl=void 0,i.Ow=[],i.xw=!1,i.Pw=new tl,i.Bw=new tl,i.Lw=new ol,i.Mw=new L_,i.Uw=!1,i.Fw(n),n.Lo(i.Oo),i.xl=n,i.Pw.Ul=n.Hw,i.Bw.Ul=n.Vw,i.Lw.Ul=n.Xw,i.Mw.Ul=n.Ww,i}F(n,t);var i=n.prototype;return i.qw=function(){this.xl.qw()},i.zw=function(){this.xl.zw()},i.Gw=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gs(this.Ow.map(function(t){return t.Gw()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jw=function(){return this.xl.jw()},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(i),t.next=3,this.xl.Qw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Yw=function(){return this.Ul.Yw()},i.Zw=function(){this.Ul.Zw()},i.Jw=function(){this.Ul.Jw()},i.$w=function(){if(!this.xw){for(var t=0,n=this.Ow;t<n.length;t++){n[t].$w()}this.xw=!0}},i.Kw=function(t){this.xl.Kw(t)},i.ty=function(){this.xl.ty()},i.ny=function(){this.xl.ny()},i.iy=function(){this.xl.iy()},i.ey=function(){return this.xl.ey()},i.sy=function(){return this.xl.sy()},i.uy=function(){for(var t=[],n=0,i=this.Ow;n<i.length;n++){var r=i[n];t.push.apply(t,r.uy())}return t},i.oy=function(t){for(var n=!1,i=0,r=this.Ow;i<r.length;i++){n=r[i].oy(t)||n}return n},i.xo=function(n){this.oy(n)||t.prototype.xo.call(this,n)},i.Fw=function(t){this.Ow.push(t)},i.hy=function(t){Qe(this.Ow,t)},i.ay=function(t){if(t!==this.xl){var n=this.xl;n.ty(),n.Vo(this.Oo);var i=e_(this),r=this.vy,e=this.sy();this.xl=t,this.Pw.Ul=t.Hw,this.Bw.Ul=t.Vw,this.Lw.Ul=t.Xw,this.Mw.Ul=t.Ww,u_(this,i,this);var s=this.vy;s!==r&&this.xo(new fl(s)),this.sy()!==e&&this.xo(new cl),t.Lo(this.Oo),t.Kw(n)}},i.ly=function(){},i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Mo(),this.xl.ty(),n=0,i=this.Ow;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Lv();case 7:n++,t.next=3;break;case 10:this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv(),this.Mw.Lv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",gs(this.Ow.map(function(t){return t.Cl()})).then(R));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Hw",get:function(){return this.Pw}},{key:"Xw",get:function(){return this.Lw}},{key:"Vw",get:function(){return this.Bw}},{key:"_y",get:function(){return this.xl._y}},{key:"gy",get:function(){return this.xl.gy},set:function(t){this.xl.gy=t}},{key:"vy",get:function(){return this.xl.vy}},{key:"M_",get:function(){return this.xl.M_},set:function(t){this.xl.M_=t}},{key:"U_",get:function(){return this.xl.U_}},{key:"wy",get:function(){return this.xl.wy}},{key:"F_",get:function(){return this.xl.F_}},{key:"Qo",get:function(){return this.xl.Qo}},{key:"H_",get:function(){return this.xl.H_}},{key:"Ww",get:function(){return this.Mw}},{key:"yy",get:function(){return this.xl.yy}},{key:"Iw",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,s=0,u={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var h=t[o];n+=h.my,i+=h.ky,r+=h.py,e+=h.Ay,s+=h.by,u.amountOfBufferedAudioSegments+=h.Ty.amountOfBufferedAudioSegments,u.amountOfBufferedVideoSegments+=h.Ty.amountOfBufferedVideoSegments}return{my:n,ky:i,py:r,Ay:e,by:s,Ty:u}}(this.Ow.map(function(t){return t.Iw}))}},{key:"V_",get:function(){return this.xl.V_},set:function(t){this.xl.V_=t}},{key:"Ey",get:function(){return this.xl.Ey}},{key:"X_",get:function(){return this.xl.X_}},{key:"W_",get:function(){return this.xl.W_},set:function(t){this.xl.W_=t}},{key:"Sy",get:function(){return this.xl.Sy}},{key:"Ry",get:function(){return this.xl.Ry},set:function(t){this.xl.Ry=t}},{key:"n_",get:function(){return this.xl.n_}},{key:"Iy",get:function(){return this.xl.Iy}},{key:"q_",get:function(){return this.xl.q_}},{key:"z_",get:function(){return this.xl.z_}},{key:"G_",get:function(){return this.xl.G_}},{key:"j_",get:function(){return this.xl.j_},set:function(t){this.xl.j_=t}},{key:"Ul",get:function(){return this.xl},set:function(t){this.ay(t)}}]),n}(al),U_=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r)||this).url=void 0,a.status=void 0,a.statusText=void 0,a.response=void 0,a.systemCode=void 0,a.url=e,a.status=s,a.statusText=u,a.response=o,a.systemCode=h,a}return F(n,t),M(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Io);!function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(B_||(B_={}));var F_=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i)||this).code=void 0,s.message=void 0,s.cause=void 0,s.systemCode=void 0,s.code=n,s.message=null!=i?i:"Unknown error",s.cause=r,s.systemCode=e,v.captureStackTrace&&v.captureStackTrace(sn(s),s.constructor),s}return F(n,t),M(n,[{key:"name",get:function(){return"MediaError"}}]),n}(un);function H_(t){Bd(t,"MEDIA_ERR_ABORTED",B_.ABORTED),Bd(t,"MEDIA_ERR_NETWORK",B_.NETWORK),Bd(t,"MEDIA_ERR_DECODE",B_.DECODE),Bd(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",B_.SRC_NOT_SUPPORTED),Bd(t,"MEDIA_ERR_ENCRYPTED",B_.ENCRYPTED)}function V_(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new F_(B_.ENCRYPTED,t.message,null==(i=t.cause)?void 0:i.message,t.systemCode):new F_(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return B_.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return B_.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return B_.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return B_.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return B_.NETWORK;if(i===n.ErrorCategory.SOURCE)return B_.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return B_.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return B_.ENCRYPTED;if(i===n.ErrorCategory.AD)return B_.ADVERTISEMENT_ERROR;return B_.DECODE}(t.code),t.message,null==(r=t.cause)?void 0:r.message)}function X_(t){switch(t){case B_.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case B_.NETWORK:return n.ErrorCode.NETWORK_ERROR;case B_.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case B_.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case B_.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case B_.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case B_.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}H_(F_),H_(F_.prototype);var W_,q_=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Rl=function(n){return t.prototype.Rl.call(this,n)},i.tl=function(){return Jd(this)},n}(Cd);!function(t){t.Sv="audio",t.Rv="video",t.Je="text",t.Iv="image",t.lv="unknown"}(W_||(W_={}));var z_=function(){function t(){this.Ny=[],this.$d=void 0}var n=t.prototype;return n.vg=function(t){this.Ny.push(t),this.$d&&this.$d.push(t.Kd)},n.Sl=function(t){return this.Ny[t]},n.Cy=function(t){return K(t)?function(t,n){for(var i=0;i<n.length;i++)if(!Ze(t,n[i]))return!1;return!0}(this.Ny,t):Ze(this.Ny,t)},M(t,[{key:"Dl",get:function(){return this.Ny}},{key:"Ol",get:function(){return this.Ny.length}},{key:"Kd",get:function(){var t,n;return this.$d||(this.$d=((n=(t=this).Dl.map(function(t){return t.Kd})).item=function(n){var i=0|n,r=t.Sl(i);return r&&r.Kd||void 0},n)),this.$d}}]),t}(),G_=function(t){function n(n){var i;return(i=t.call(this,bd.kl)||this).nl=n,i}return F(n,t),n.prototype.tl=function(){return new j_(this.nl.Kd)},n}(Td),j_=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return F(n,t),n}(Ed),Q_=0;function Y_(){return Q_++}var Z_=0;var J_=0;function $_(){return J_++}var K_=0;var tg=function(t){function n(n){var i;return(i=t.call(this)||this).io=W_.Sv,i.Dy=void 0,i.Oy=void 0,i.xy=void 0,i.Py=void 0,i.By=!1,i.Ny=void 0,i.$d=void 0,i.Dy=n,i.Py=Y_(),i.Oy=K_+++"",i.xy=n.label,i.Ny=new z_,i.Ly(),i}F(n,t);var i=n.prototype;return i.My=function(t){this.Vl=t},i.Ly=function(){this.Vl=this.Uy},M(n,[{key:"Hl",get:function(){}},{key:"Vl",get:function(){return this.By},set:function(t){this.By!==t&&(this.By=t,this.Uy=t,this.xo(new Dd(this)))}},{key:"Uy",get:function(){return!!this.Dy.enabled},set:function(t){this.Dy.enabled=t}},{key:"Kd",get:function(){return this.$d||(this.$d=Yd(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"ql",get:function(){return this.Dy.kind}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.xo(new G_(this)))}},{key:"Gl",get:function(){return this.Dy.language}},{key:"t_",get:function(){return this.Vl?"enabled":"disabled"}},{key:"Fy",get:function(){return this.Dy}},{key:"jl",get:function(){return this.Ny}},{key:"Ql",get:function(){},set:function(t){}}]),n}(bs),ng=0;var ig,rg,eg,sg=function(t){function n(n){var i;return(i=t.call(this)||this).io=W_.Rv,i.Dy=void 0,i.Oy=void 0,i.Py=void 0,i.By=!1,i.Ny=void 0,i.xy=void 0,i.$d=void 0,i.Dy=n,i.Py=Y_(),i.Oy=ng+++"",i.Ny=new z_,i.xy=n.label,i.Ly(),i}F(n,t);var i=n.prototype;return i.Ly=function(){this.Vl=this.Uy},i.My=function(t){this.Vl=t},M(n,[{key:"Hl",get:function(){}},{key:"Vl",get:function(){return this.By},set:function(t){this.By!==t&&(this.By=t,this.Uy=t,this.xo(new Dd(this)))}},{key:"Uy",get:function(){return!!this.Dy.selected},set:function(t){this.Dy.selected=t}},{key:"Kd",get:function(){return this.$d||(this.$d=Yd(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"ql",get:function(){return"main"}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.xo(new G_(this)))}},{key:"Gl",get:function(){return this.Dy.language}},{key:"t_",get:function(){return this.Vl?"enabled":"disabled"}},{key:"Fy",get:function(){return this.Dy}},{key:"jl",get:function(){return this.Ny}},{key:"Ql",get:function(){},set:function(t){}}]),n}(bs),ug=function(t){function n(n){var i;return(i=t.call(this,Qo.Wa)||this).yy=n,i}return F(n,t),n}(Es);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(ig||(ig={})),function(t){t.DEFAULT="",t.SRT="srt",t.TTML="ttml",t.WEBVTT="webvtt",t.EMSG="emsg",t.EVENT_STREAM="eventstream",t.ID3="id3",t.CEA608="cea608",t.DATE_RANGE="daterange"}(rg||(rg={})),function(t){t.Hy="cue",t.Vy="region",t.Xy="stylesheet"}(eg||(eg={}));var og,hg,ag={"line-left":"start",center:"middle","line-right":"end"},cg={start:"line-left",middle:"center",end:"line-right"};function fg(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function vg(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:w(i),y(e)?r:e;var i,r,e}!function(t){t.Wy="qy",t.zy="Gy",t.kl="Bh"}(og||(og={})),function(t){t.Wy="enter",t.zy="exit",t.kl="update"}(hg||(hg={}));var dg=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).jy=i,r}return F(n,t),n}(Td),lg=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return F(n,t),n}(Ed);function _g(t){var n,i=[og.Wy,og.zy,og.kl],r={get track(){return t.nl.Kd},get id(){return t.Xl},get uid(){return t.Wl},get startTime(){return t.Qy},get endTime(){return t.Yy},get content(){return t.Zy},addEventListener:function(t,i){var r=zd(t,qd);n.Po(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Uo(r,i)}};return n=new Ts(r),t.Po(i,function(t){return n.xo(t.Kd)}),r}function gg(){}function wg(t){return Ld(_g(t),{get align(){return t.Jy},get line(){return t.$y},get lineAlign(){return t.Ky},get position(){return t.tm},get positionAlign(){return t.nm},get region(){return t.im?t.im.Kd:null},get size(){return t.uh},get snapToLines(){return t.rm},get text(){return t.Zy},get vertical(){return t.sm}})}var yg=.02;function mg(t,n){return Gt(t.Qy,n.Qy,yg)&&Gt(t.Yy,n.Yy,yg)&&t.Xl===n.Xl}var kg=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Py=void 0,u.Oy=void 0,u.um=void 0,u.om=void 0,u.$d=void 0,u.hm=void 0,u.am=!1,u.cm=void 0,u.fm=void 0,u.vm="",u.dm=-1,u.Py=$_(),u.um=n,u.om=i,u.cm=r,u.fm=Boolean(e),u.Oy=null!=s?s:"",u}F(n,t);var i=n.prototype;return i.tl=function(){return _g(this)},i.ug=function(t){return this===t||Fd(this,t)&&mg(this,t)},i.Lv=function(){this.Mo()},M(n,[{key:"Qy",get:function(){return this.um},set:function(t){this.um=t}},{key:"Yy",get:function(){return this.om},set:function(t){this.om=t}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"lm",get:function(){return this.am},set:function(t){this.am=t}},{key:"nl",get:function(){return this.hm},set:function(t){this.hm=t}},{key:"Zy",get:function(){return this.cm},set:function(t){this.cm=t}},{key:"_m",get:function(){return this.vm},set:function(t){this.vm=t}},{key:"gm",get:function(){return this.fm},set:function(t){this.fm=t}}]),n}(bs);function pg(t,n){return t.Zy===n.Zy&&t.$y===n.$y&&t.Ky===n.Ky&&t.tm===n.tm&&t.nm===n.nm&&t.im===n.im&&t.rm===n.rm&&t.uh===n.uh&&t.Jy===n.Jy&&t.sm===n.sm}var Ag=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,s)||this).$y="auto",u.Ky="start",u.tm="auto",u.nm="auto",u.im=void 0,u.rm=!0,u.uh=100,u.Jy="center",u.sm="",u}return F(n,t),n.prototype.ug=function(n){return this===n||Fd(this,n)&&t.prototype.ug.call(this,n)&&pg(this,n)},M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=wg(this)),this.$d}},{key:"io",get:function(){return eg.Hy}}]),n}(kg);function bg(t){var n="number"==typeof t.$y?t.$y:w(t.$y);return y(n)||t.rm||!(n<0||n>100)?y(n)?t.rm?-1:100:n:100}function Tg(t){return vg(t.tm,t.Jy)}function Eg(t){return fg(t.nm,t.Jy)}function Sg(t){var n=100,i=Eg(t),r=Tg(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.uh<n?t.uh:n}function Rg(t){return{get id(){return t.Xl},get identifier(){return t.Xl},get lines(){return t.wm},get regionAnchorX(){return t.ym},get regionAnchorY(){return t.mm},get scrollValue(){return t.km},get viewportAnchorX(){return t.pm},get viewportAnchorY(){return t.Am},get width(){return t.cu}}}var Ig=function(){function t(t,n,i,r,e,s,u,o){this.$d=void 0,this.Xl=t,this.cu=n,this.wm=i,this.ym=r,this.mm=e,this.pm=s,this.Am=u,this.km=o}return M(t,[{key:"Kd",get:function(){return this.$d||(this.$d=Rg(this)),this.$d}},{key:"io",get:function(){return eg.Vy}}]),t}(),Ng=9e4,Cg=_.pow(2,33),Dg=N_.mg(Cg,Ng),Og=Dg.qg(2);function xg(t){return null!=t&&!t.dg()}function Pg(t,n){return t.lg()||n.lg()?N_.Zg(t,n):Mg(t,n).tg(N_.pg)?t:n}function Bg(t,n){var i=t.fg(n);return i.og(N_.pg)&&(i=i.vg(Dg)),i}function Lg(t,n){var i=t.vg(n);return i.ig(Dg)&&(i=i.fg(Dg)),i}function Mg(t,n){var i=t.fg(n);return t.lg()||n.lg()?i:(i.ig(Og)?i=i.fg(Dg):i.og(Og.cg())&&(i=i.vg(Dg)),i)}function Ug(t,n){if(t||n)return t?n?N_.Jg(t,n):t:n}function Fg(t,n){if(t||n)return t?n?N_.Zg(t,n):t:n}var Hg,Vg,Xg,Wg,qg={bm:0,Tm:1/0,Em:0},zg=6,Gg=["WEBVTT ","WEBVTT\t","WEBVTT\n"],jg=[" ","\t","\n","\f","\r"],Qg=/^\d*$/,Yg=/.*[0-9]+.*/,Zg=/^[\d.-]+$/,Jg=/(^\.|\.$)/,$g=/(\D\.|\.\D)/;function Kg(t,n){void 0===n&&(n=qg);var i={i_:[],Sm:[],Rm:[]},r=tw(t),e=new zu;if(cw(r),nw(r,function(t){return"\n"!==t},e),e.vh>=r.length)return i;(e.hh(1),"\n"!==r.charAt(e.vh))?sw(iw(r,e,!1,!0,i,n),i):e.hh(1);for(nw(r,function(t){return"\n"===t},e);e.vh<r.length;){sw(iw(r,e,!1,!1,i,n),i),nw(r,function(t){return"\n"===t},e)}return i}function tw(t){var n=Re(t,"\0"," "),i=Re(n,"\r\n","\n");return Re(i,"\r","\n")}function nw(t,n,i){for(var r=i.vh;i.vh<t.length&&n(t.charAt(i.vh));)i.hh(1);return t.substring(r,i.vh)}function iw(t,n,i,r,e,s){for(var u,o=0,h=n.vh,a="",c=!1,f=!1,v=null,d=null,l=null;!c;)if(u=nw(t,function(t){return"\n"!==t},n),o++,n.vh>=t.length?c=!0:n.hh(1),Ie(u,"--\x3e")){if(r||1!==o&&(2!==o||f)){n.ah(h);break}f=!0,h=n.vh,v=new Ag(0,0,"",!1,a);try{uw(u,e.Sm,v,s),a=""}catch(t){T.yu(t),v=null}}else{if(""===u)break;r&&Ne(u,"X-TIMESTAMP-MAP")&&(e.Im=rw(u)),r||2!==o||i||(De("STYLE",a.replace(/ /g,""))?(d={io:eg.Xy},a=""):De("REGION",a.replace(/ /g,""))&&(l=new Ig("",100,3,0,100,0,100,""),a="")),a&&(a+="\n"),a+=u,h=n.vh}if(v)return v.Zy=a,v;if(d);else if(l)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&Ie(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var s=e.indexOf(":"),u=e.substring(0,s),o=e.substring(s+1,e.length);switch(u.toUpperCase()){case"ID":pw(o,n);break;case"WIDTH":Tw(o,n);break;case"LINES":bw(o,n);break;case"REGIONANCHOR":var h=kw(o);h&&(n.ym=h[0],n.mm=h[1]);break;case"VIEWPORTANCHOR":var a=kw(o);a&&(n.pm=a[0],n.Am=a[1]);break;case"SCROLL":Aw(o,n)}}}}(a,l),l;return null}function rw(t){var n,i,r=t.split("=")[1].trim().split(","),e=ew(r[0].trim(),"MPEGTS")?r[0]:r[1],s=ew(r[0].trim(),"LOCAL")?r[0]:r[1];return{Nm:(i=Number(e.split(/:(.*)/)[1].trim())||0,N_.mg(i,Ng)),Cm:N_.ew(null!=(n=aw(s.split(/:(.*)/)[1].trim(),new zu))?n:0)}}function ew(t,n){return Ne(t,n)}function sw(t,n){t&&function(t){return t.io===eg.Hy}(t)?n.i_.push(t):t&&function(t){return t.io===eg.Vy}(t)?n.Sm.push(t):t&&function(t){return t.io===eg.Xy}(t)&&n.Rm.push(t)}function uw(t,n,i,r){var e=new zu;if(fw(t,e),i.Qy=ow(aw(t,e),r),fw(t,e),"--\x3e"!==t.substring(e.vh,e.vh+3))throw v("Something went wrong with parsing a WebVTT Cue");e.hh(3),fw(t,e),i.Yy=ow(aw(t,e),r),function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var s=r[e];if(0!==s.length&&Ie(s,":")&&":"!==s.charAt(0)&&":"!==s.charAt(s.length-1)){var u=s.indexOf(":"),o=s.substring(0,u),h=s.substring(u+1,s.length);switch(o.toUpperCase()){case"REGION":gw(h,n,i);break;case"VERTICAL":yw(h,n);break;case"D":mw(h,n);break;case"LINE":case"L":lw(h,n);break;case"POSITION":case"T":_w(h,n);break;case"SIZE":case"S":ww(h,n);break;case"ALIGN":case"A":dw(h,n)}}}}(t.substring(e.vh,t.length),i,n)}function ow(t,n){return t+n.bm}function hw(t){return/^[0-9]$/.test(t)}function aw(t,n){var i,r,e,s=Re(t,",","."),u=!1;if(n.vh>=s.length||!hw(s.charAt(n.vh)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var o=nw(s,hw,n),h=g(o,10);if((o.length>2||h>59)&&(u=!0),n.vh>=s.length||":"!==s.charAt(n.vh))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.hh(1);var a=nw(s,hw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var c=g(a,10);if(u||n.vh<s.length&&":"===s.charAt(n.vh)){if(n.vh>=s.length||":"!==s.charAt(n.vh))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.hh(1);var f=nw(s,hw,n);if(2!==a.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=h,r=c,e=g(f,10)}else i=0,r=h,e=c;if(n.vh>=s.length||"."!==s.charAt(n.vh))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.hh(1);var d=nw(s,hw,n),l=g(d,10);if(c>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");return 60*i*60+60*r+e+l/1e3}function cw(t){if(t.length<zg)return!1;for(var n=0;n<Gg.length;n++){if(Ne(t,Gg[n]))return!0}return!1}function fw(t,n){for(;n.vh<t.length&&(i=t.charAt(n.vh),Ze(jg,i));)n.hh(1);var i}function vw(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function dw(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.Jy=i;break;case"middle":n.Jy="center"}}function lw(t,n){var i=t,r="";if(Ie(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),Yg.test(i)){var e;if(Ce(i,"%")){var s=vw(i);if(null===s)return;e=s}else{if(!Zg.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!$g.test(t)||Jg.test(t))return;if(e=w(t),y(e))return}switch(n.$y=e,n.rm=Ce(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.Ky=r;break;case"middle":n.Ky="center"}}}function _w(t,n){var i=t,r="";Ie(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=vw(i);if(null!==e)switch(n.tm=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.nm=r;break;case"start":n.nm="line-left";break;case"middle":n.nm="center";break;case"end":n.nm="line-right"}}function gw(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].Xl===t)return void(n.im=i[r])}function ww(t,n){var i=vw(t);null!==i&&(n.uh=i)}function yw(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.sm="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.sm="lr";break;default:n.sm=""}}function mw(t,n){"VERTICAL"===t.toUpperCase()?n.sm="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.sm="lr")}function kw(t){if(t.indexOf(",")>=0){var n=vw(t.substring(0,t.indexOf(","))),i=vw(t.substring(t.indexOf(",")+1,t.length));return[zt(n||0,0,100),zt(i||100,0,100)]}return null}function pw(t,n){n.Xl=t}function Aw(t,n){"up"===t.toLowerCase()&&(n.km="up")}function bw(t,n){Qg.test(t)&&(n.wm=g(t))}function Tw(t,n){var i=vw(t);null!==i&&(n.cu=i)}!function(t){t.Dm="moov",t.Om="mvhd",t.xm="trak",t.Pm="tkhd",t.Bm="mdia",t.Lm="mdhd",t.Mm="hdlr",t.Um="minf",t.Fm="stbl",t.Hm="stsd",t.Vm="stsc",t.Xm="mvex",t.Wm="trex",t.qm="avc1",t.zm="avcC",t.Gm="hev1",t.jm="hvc1",t.Qm="hvcC",t.Ym="pasp",t.Zm="mp4a",t.Jm="esds",t.$m="wvtt",t.Km="vttC",t.tk="vlab",t.nk="enca",t.ik="encv",t.rk="moof",t.ek="mfhd",t.sk="traf",t.uk="tfhd",t.hk="trun",t.ak="tfdt",t.ck="mdat",t.fk="pssh",t.vk="emsg",t.dk="sidx",t.lk="styp",t._k="ftyp",t.gk="sinf",t.wk="frma"}(Hg||(Hg={})),function(t){t.Rv="vide",t.Sv="soun",t.yk="subt",t.mk="hint",t.kk="meta",t.pk="auxv"}(Vg||(Vg={})),function(t){t[t.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",t[t.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",t[t.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",t[t.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",t[t.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT",t[t.DURATION_IS_EMPTY=32]="DURATION_IS_EMPTY",t[t.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF"}(Xg||(Xg={})),function(t){t[t.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",t[t.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",t[t.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",t[t.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",t[t.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT=2048]="SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT"}(Wg||(Wg={}));var Ew=function(){function t(t,n){this.Ds=void 0,this.Ak=void 0,this.Ds=t,this.Ak=n}var n=t.prototype;return n.bk=function(){return hu(this.Ds,this.Ak)},n.Tk=function(){return lu(this.Ds,this.Ak)},n.Ek=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.vh,i);return n.hh(2),r}(this.Ds,this.Ak)},n.Sk=function(){return gu(this.Ds,this.Ak)},n.Rk=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.vh,i);return n.hh(4),r}(this.Ds,this.Ak)},n.Ik=function(){return yu(this.Ds,this.Ak)},n.Nk=function(t){return cu(this.Ds,this.Ak,t)},n.Ck=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(gu(t,n));return r}(this.Ds,this.Ak,t)},n.Dk=function(t){return pu(this.Ds,this.Ak,t)},n.Ok=function(){return Pu(this.Ds,this.Ak)},n.xk=function(t){this.Ak.hh(t)},n.fh=function(){return new t(this.Ds,this.Ak.fh())},t}();function Sw(t,n){return t.io===n}function Rw(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(Sw(r,n))return r}}function Iw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];Sw(e,n)&&i.push(e)}return i}var Nw=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pk=n,r.Bk=i,r}return F(n,t),M(n,[{key:"name",get:function(){return"DataIncompleteError"}}]),n}(on),Cw=function(){function t(){}return t.Lk=function(n){var i=n.Ds,r=n.Ak,e=t.Mk(i,r,!1);if(!e.Uk)throw new Nw(r.vh,e.As);return e.As},t.Mk=function(n,i,r){for(var e=[];i.vh<n.byteLength;){var s=t.Fk(n,i,r);if(!s.Uk)return{Uk:!1,As:e};e.push(s.Hk)}return{Uk:!0,As:e}},t.Vk=function(n,i){var r=t.Fk(n,i,!1);if(!r.Uk)throw new Nw(i.vh);return r.Hk},t.Xk=function(n,i){for(var r=n.Ds,e=n.Ak;e.vh<r.byteLength;){var s=t.Fk(r,e,!1);if(!s.Uk)return;if(s.Hk.io===i)return s.Hk}},t.Fk=function(n,i,r){var e=i.vh,s=t.Wk(n,i);if(!s.Uk)return s;var u=s.qk,o=u.uh;if(0===o){if(r)return i.ah(e),{Uk:!1,zk:1/0};o=n.byteLength-e}var h=e+o;if(h>n.byteLength){var a=h;return i.ah(e),{Uk:!1,zk:a}}var c={io:u.io,vh:e,Ds:new Ew(Uu(n,e,h),new zu(u.Gk))};return i.ah(h),{Uk:!0,Hk:c}},t.Wk=function(t,n){var i=n.vh;if(!vu(t,n,8))return{Uk:!1,zk:n.vh+8};var r=gu(t,n),e=pu(t,n,4);if(1===r){if(!vu(t,n,8)){var s=n.vh+8;return n.ah(i),{Uk:!1,zk:s}}r=yu(t,n).toNumber()}if("uuid"===e){if(!vu(t,n,16)){var u=n.vh+16;return n.ah(i),{Uk:!1,zk:u}}e=pu(t,n,16)}return{Uk:!0,qk:{io:e,uh:r,Gk:n.vh-i}}},t.jk=function(t,n,i){var r=t.Ds,e=t.Ak,s=Mu(Hu(r),e.vh,r.byteLength);return i&&(s=qu(s)),e.hh(s.byteLength),{io:n,Ds:s}},t.Qk=function(n,i,r){var e=Pw(n.Sk());return{io:i,Yk:e.version,Zk:e.flags,Ds:t.jk(n,i,r).Ds}},t}();function Dw(t,n){var i=Ow(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function Ow(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.io===n)return r.Ds}}function xw(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.io===n&&i.push(e.Ds)}return i}function Pw(t){return{version:t>>24,flags:new su(16777215&t)}}var Bw=function(){function t(){}return t.Jk=function(n){for(var i=[],r=Cw.Lk(new Ew(n,new zu)),e=0;e<r.length;e++){var s=r[e],u=t.$k(s);u&&i.push(u)}return i},t.Kk=function(t){return Cw.Mk(t,new zu,!1).As.some(function(t){return t.io===Hg.rk||t.io===Hg.lk})},t.tp=function(n){return xw(Cw.Lk(new Ew(n,new zu)),Hg.fk).map(t.np)},t.ip=function(n){return xw(Cw.Lk(n.Ds),Hg.fk).map(t.np)},t.$k=function(n){switch(n.io){case Hg.Dm:return t.rp(n.Ds);case Hg.rk:return t.ep(n.Ds,n.vh);case Hg.ck:return t.sp(n.Ds);case Hg.dk:return t.op(n.Ds);case Hg.vk:return t.hp(n.Ds)}},t.rp=function(n){var i=Cw.Lk(n),r=Dw(i,Hg.Om),e=xw(i,Hg.xm),s=Ow(i,Hg.Xm),u=t.ap(r),o=e.map(t.cp),h=s?t.fp(s):void 0;return{io:Hg.Dm,qk:u,vp:o,dp:h}},t.ap=function(t){var n=Pw(t.Sk()),i=n.version,r=n.flags,e=1===i?t.Ik():t.Sk(),s=1===i?t.Ik():t.Sk(),u=t.Sk(),o=1===i?t.Ik():t.Sk(),h=t.Sk(),a=t.Tk()>>8;t.xk(2),t.xk(8);var c=t.Ck(9);t.xk(24);var f=t.Sk();return{io:Hg.Om,Yk:i,Zk:r,lp:e,_p:s,jg:u,U_:o,gp:h,j_:a,wp:c,yp:f}},t.cp=function(n){var i=Cw.Lk(n),r=Dw(i,Hg.Pm),e=Dw(i,Hg.Bm),s=t.mp(r),u=t.kp(e);return{io:Hg.xm,qk:s,pp:u}},t.mp=function(t){var n=Pw(t.Sk()),i=n.version,r=n.flags,e=1===i?t.Ik():t.Sk(),s=1===i?t.Ik():t.Sk(),u=t.Sk();t.xk(4);var o=1===i?t.Ik():t.Sk();t.xk(8);var h=t.Ek(),a=t.Ek(),c=t.Ek()/_.pow(2,8);t.xk(2);var f=t.Ck(9),v=t.Sk()/_.pow(2,16),d=t.Sk()/_.pow(2,16);return{io:Hg.Pm,Ap:r.lh(1),bp:r.lh(2),Tp:r.lh(4),lp:e,_p:s,Ep:u,U_:o,Sp:h,Rp:a,j_:c,wp:f,cu:v,Ip:d}},t.kp=function(n){var i=Cw.Lk(n),r=Dw(i,Hg.Lm),e=Dw(i,Hg.Mm),s=Dw(i,Hg.Um),u=t.Np(r),o=t.Cp(e),h=t.Dp(s);return{io:Hg.Bm,qk:u,Op:o,xp:h}},t.Np=function(t){var n=Pw(t.Sk()),i=n.version,r=n.flags,e=1===i?t.Ik():t.Sk(),s=1===i?t.Ik():t.Sk(),u=t.Sk(),o=1===i?t.Ik():t.Sk();t.Tk();return t.xk(2),{io:Hg.Lm,Yk:i,Zk:r,lp:e,_p:s,jg:u,U_:o}},t.Cp=function(t){var n=Pw(t.Sk()),i=n.version,r=n.flags;t.xk(4);var e=t.Dk(4);t.xk(12);var s=t.Ok();return{io:Hg.Mm,Yk:i,Zk:r,Pp:e,hs:s}},t.Dp=function(n){var i=Dw(Cw.Lk(n),Hg.Fm),r=t.Bp(i);return{io:Hg.Um,Lp:r}},t.Bp=function(n){var i=Dw(Cw.Lk(n),Hg.Hm),r=t.Mp(i);return{io:Hg.Fm,Up:r}},t.Mp=function(n){for(var i=Pw(n.Sk()),r=i.version,e=i.flags,s=(n.Sk(),[]),u=Cw.Lk(n),o=0;o<u.length;o++){var h=u[o],a=t.Fp(h.Ds,h.io);a&&s.push(a)}return{io:Hg.Hm,Yk:r,Zk:e,Hp:s}},t.Fp=function(n,i){var r=t.Vp(n,i);return r||((r=t.Xp(n,i))||(i===Hg.$m?t.Wp(n):void 0))},t.Vp=function(n,i){return i===Hg.Zm?t.qp(n):i===Hg.nk?t.zp(n):void 0},t.Xp=function(n,i){return i===Hg.qm?t.Gp(n):i===Hg.Gm||i===Hg.jm?t.jp(n,i):i===Hg.ik?t.Qp(n):void 0},t.Yp=function(t,n){return t.xk(6),{io:n,Zp:t.Tk()}},t.Jp=function(n,i){var r=t.Yp(n,i);n.xk(8);var e=n.Tk(),s=n.Tk();return n.xk(2),n.xk(2),te({},r,{$p:e,Kp:s,tA:n.Sk()>>>16})},t.nA=function(n,i){var r=t.Yp(n,i);n.xk(2),n.xk(2),n.xk(12);var e=n.Tk(),s=n.Tk(),u=n.Sk(),o=n.Sk();n.xk(4);var h=n.Tk();n.xk(32);var a=n.Tk();return n.xk(2),te({},r,{cu:e,Ip:s,iA:u,rA:o,eA:h,sA:a})},t.qp=function(n){var i=t.Jp(n,Hg.Zm),r=Dw(Cw.Lk(n),Hg.Jm);return te({},i,{uA:t.oA(r)})},t.Wp=function(n){var i=t.Yp(n,Hg.$m),r=Cw.Lk(n),e=Dw(r,Hg.Km),s=t.hA(e),u=Ow(r,Hg.tk);return te({},i,{aA:s,cA:u?t.fA(u):u})},t.hA=function(t){return{io:Hg.Km,Wh:t.Ok()}},t.fA=function(t){return{io:Hg.tk,zl:t.Ok()}},t.oA=function(t){return Cw.Qk(t,Hg.Jm,!0)},t.Gp=function(n){var i=t.nA(n,Hg.qm),r=Cw.Lk(n),e=Dw(r,Hg.zm),s=Ow(r,Hg.Ym);return te({},i,{vA:t.dA(e),lA:s?t._A(s):void 0})},t.jp=function(n,i){var r=t.nA(n,i),e=Dw(Cw.Lk(n),Hg.Qm);return te({},r,{gA:t.wA(e)})},t.Qp=function(n){var i=n.fh(),r=t.nA(n,Hg.ik),e=Dw(Cw.Lk(n),Hg.gk),s=t.yA(e);return te({},r,{mA:t.Xp(i,s.pA.kA),AA:s})},t.zp=function(n){var i=n.fh(),r=t.Jp(n,Hg.nk),e=Dw(Cw.Lk(n),Hg.gk),s=t.yA(e);return te({},r,{mA:t.Vp(i,s.pA.kA),AA:s})},t.yA=function(n){var i=Dw(Cw.Lk(n),Hg.wk),r=t.bA(i);return{io:Hg.gk,pA:r}},t.bA=function(t){var n=t.Dk(4);return{io:Hg.wk,kA:n}},t.dA=function(t){return Cw.jk(t,Hg.zm,!0)},t.wA=function(t){return Cw.jk(t,Hg.Qm,!0)},t._A=function(t){var n=t.Sk(),i=t.Sk();return{io:Hg.Ym,TA:n,EA:i}},t.fp=function(n){var i=xw(Cw.Lk(n),Hg.Wm).map(t.SA);return{io:Hg.Xm,vp:i}},t.SA=function(t){var n=Pw(t.Sk()),i=n.version,r=n.flags,e=t.Sk(),s=t.Sk(),u=t.Sk(),o=t.Sk(),h=t.Sk();return{io:Hg.Wm,Yk:i,Zk:r,Ep:e,RA:s,IA:u,NA:o,CA:h}},t.ep=function(n,i){var r=Cw.Lk(n),e=Dw(r,Hg.ek),s=xw(r,Hg.sk),u=t.DA(e),o=s.map(t.OA);return{io:Hg.rk,xA:i,qk:u,vp:o}},t.DA=function(t){var n=Pw(t.Sk()),i=n.version,r=n.flags,e=t.Sk();return{io:Hg.ek,Yk:i,Zk:r,PA:e}},t.OA=function(n){var i=Cw.Lk(n),r=Dw(i,Hg.uk),e=xw(i,Hg.hk),s=Ow(i,Hg.ak),u=t.BA(r),o=e.map(function(n){return t.LA(n,u)}),h=s?t.MA(s):void 0;return{io:Hg.sk,qk:u,UA:o,FA:h}},t.BA=function(t){var n=Pw(t.Sk()),i=n.version,r=n.flags,e=t.Sk(),s=r.lh(Xg.BASE_DATA_OFFSET_PRESENT)?t.Ik():void 0,u=r.lh(Xg.SAMPLE_DESCRIPTION_INDEX_PRESENT)?t.Sk():void 0,o=r.lh(Xg.DEFAULT_SAMPLE_DURATION_PRESENT)?t.Sk():void 0,h=r.lh(Xg.DEFAULT_SAMPLE_SIZE_PRESENT)?t.Sk():void 0,a=r.lh(Xg.DEFAULT_SAMPLE_FLAGS_PRESENT)?t.Sk():void 0;return{io:Hg.uk,Yk:i,Zk:r,Ep:e,HA:s,VA:u,IA:o,NA:h,CA:a}},t.LA=function(n,i){for(var r=Pw(n.Sk()),e=r.version,s=r.flags,u=n.Sk(),o=s.lh(Wg.DATA_OFFSET_PRESENT)?n.Rk():void 0,h=s.lh(Wg.FIRST_SAMPLE_FLAGS_PRESENT)?n.Sk():void 0,a=[],c=0;c<u;c++){var f=t.XA(n,s,e,i);0===c&&void 0!==h&&(f.Zk=h),a.push(f)}return{io:Hg.hk,Yk:e,Zk:s,WA:u,xA:o,qA:h,zA:a}},t.XA=function(t,n,i,r){return{U_:n.lh(Wg.SAMPLE_DURATION_PRESENT)?t.Sk():r.IA,uh:n.lh(Wg.SAMPLE_SIZE_PRESENT)?t.Sk():r.NA,Zk:n.lh(Wg.SAMPLE_FLAGS_PRESENT)?t.Sk():r.CA,GA:n.lh(Wg.SAMPLE_COMPOSITION_TIME_OFFSET_PRESENT)?0===i?t.Sk():t.Rk():void 0}},t.hp=function(t){var n=t.Ds,i=t.Ak,r=Pw(gu(n,i)),e=r.version,s=r.flags;if(1===e){var u=gu(n,i),o=yu(n,i),h=gu(n,i),a=gu(n,i),c=ku(n,i),f=ku(n,i),v=Wu(Hu(n),i.vh,n.byteLength);return i.hh(v.byteLength),{io:Hg.vk,Yk:e,Zk:s,jA:c,fs:f,jg:u,QA:o,YA:h,Xl:a,ZA:v}}var d=ku(n,i),l=ku(n,i),_=gu(n,i),g=gu(n,i),w=gu(n,i),y=gu(n,i),m=Wu(Hu(n),i.vh,n.byteLength);return i.hh(m.byteLength),{io:Hg.vk,Zk:s,Yk:e,jA:d,fs:l,jg:_,JA:g,YA:w,Xl:y,ZA:m}},t.sp=function(t){return Cw.jk(t,Hg.ck,!1)},t.np=function(n){var i=n.Ds,r=n.Ak,e=qu(Hu(i)).buffer,s=Pw(gu(i,r)),u=s.version,o=s.flags,h=t.$A(i,r),a=[];if(u>0)for(var c=gu(i,r),f=0;f<c;f++){var v=cu(i,r,16);a.push(v)}var d=gu(i,r),l=new m(e,r.vh,d);return r.hh(i.byteLength),{io:Hg.fk,Yk:u,Zk:o,KA:h,nb:a,ib:d,Ds:l,rb:e}},t.$A=function(t,n){for(var i="",r=0;r<4;r++){var e=hu(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var s=0;s<2;s++){var u=hu(t,n).toString(16);i+=1===u.length?"0"+u:u}i+="-";for(var o=0;o<2;o++){var h=hu(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var a=0;a<2;a++){var c=hu(t,n).toString(16);i+=1===c.length?"0"+c:c}i+="-";for(var f=0;f<6;f++){var v=hu(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.op=function(t){var n,i,r=t.Ds,e=t.Ak,s=Pw(gu(r,e)),u=s.version,o=s.flags,h=gu(r,e),a=gu(r,e);0===u?(n=Wt.fromBits(gu(r,e),0,!0),i=Wt.fromBits(gu(r,e),0,!0)):(n=yu(r,e),i=yu(r,e)),e.hh(2);for(var c=lu(r,e),f=[],v=0;v<c;v+=1){var d=gu(r,e),l=d>>31&1,_=2147483647&d,g=gu(r,e),w=gu(r,e),y=w>>31&1,m=w>>28&7,k=268435455&w;f.push({eb:l,sb:_,U_:g,ub:y,ob:m,hb:k})}return{io:Hg.dk,Yk:u,Zk:o,ab:h,jg:a,cb:n,fb:i,vb:c,lb:f}},t.MA=function(t){var n,i=t.Ds,r=t.Ak,e=Pw(gu(i,r)),s=e.version,u=e.flags;return n=0===s?Wt.fromBits(gu(i,r),0,!0):yu(i,r),{io:Hg.ak,Yk:s,Zk:u,FA:n}},t}();function Lw(t){return t&&"ps"in t?t.ps:t}var Mw=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,n,i,r,e)||this)._b=void 0,h.gb=void 0,h.wb=void 0,h._b=s,h.gb=u,h.wb=o||void 0,h}return F(n,t),n.prototype.ug=function(n){return this===n||!!Fd(this,n)&&(!!t.prototype.ug.call(this,n)&&(!!Ud(this.yb,n.yb)&&(!!Ud(this.Sm,n.Sm)&&(this.mb&&n.mb?!!this.mb.ss(n.mb)&&(this.Zy&&n.Zy?this.Zy.ss(n.Zy):this.Zy===n.Zy):this.mb===n.mb))))},M(n,[{key:"yb",get:function(){return this._b}},{key:"Sm",get:function(){return this.gb}},{key:"mb",get:function(){return this.wb}},{key:"Kd",get:function(){var t;return this.$d||(this.$d=Ld(_g(t=this),{get styles(){return t.yb},get regions(){return t.Sm},get metadata(){return Lw(t.mb)},get content(){return Lw(t.Zy)}})),this.$d}}]),n}(kg),Uw=function(){function t(t,n,i){this.Ef=void 0,this.kb=void 0,this.pb=void 0,this.kb=t,this.pb=n,rn(i)?this.Ef=function(t,n,i){for(var r=0,e=["begin","end","dur"];r<e.length;r++){var s=e[r];i.Es(s)}return i}(0,0,i):this.Ef=i}return M(t,[{key:"Ab",get:function(){return this.Ef.us(!0)}},{key:"Qy",get:function(){return this.kb}},{key:"Yy",get:function(){return this.pb}}]),t}();var Fw="http://www.w3.org/XML/1998/namespace";function Hw(t,n,i,r){var e=t.ys(i,n);return 0===e.length&&(e=t.ls(r+":"+n)),e}function Vw(t,n){return function(t,n){var i=t.As.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e.As)}return r}(t,function(t){return t.gs===n})}function Xw(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Ww(t,n){for(var i=t.Ns,r={},e=0;e<i.length;e++)r[Xw(i[e].hs,n)]=i[e].fs;return r}var qw=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,zw=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/,Gw="http://www.w3.org/ns/ttml";function jw(t,n,i){return void 0===i&&(i=qg),function(t,n,i){var r,e=[];try{r=T.rs(t)}catch(t){return e}var s=r.Os;if("tt"!==s.os)return e;var u=s&&s.ys(Gw,"head")[0],o=s&&s.ys(Gw,"body")[0],h=["ebutts","tts","xml"];if(!o||!u)return e;for(var a=function(t,n){for(var i={},r=t.ys(Gw,"styling")[0],e=r&&r.ys(Gw,"style")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ts(Fw,"id");i[o]=Ww(u,n)}return i}(u,h),c=function(t,n){var i=Md(t),r=Jw(n.bs("tts:extent"));if(!r)return i;for(var e=0,s=l.keys(i);e<s.length;e++){var u=s[e],o=Jw(i[u].extent);if(o){var h=Yw(o[0],r[0]),a=Yw(o[1],r[1]);i[u].extent=h+" "+a}var c=Jw(i[u].origin);if(c){var f=Yw(c[0],r[0]),v=Yw(c[1],r[1]);i[u].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=t.ys(Gw,"layout")[0],e=r&&r.ys(Gw,"region")||[],s=0;s<e.length;s++){var u=e[s],o=u.Ts(Fw,"id");if(o){i[o]=Ww(u,n);var h=ty(u,n);for(var a in h)Z.call(h,a)&&(i[o][a]=h[a])}}return i}(u,h),s),f=u.ys(Gw,"metadata")[0],v=function t(n,i,r,e){var s=i;var u;var o=r;var h=[];var a=[];if(rn(n)){var c,f;s=null!=(c=Kw(n.bs("begin"),e))?c:s,u=Kw(n.bs("dur"),0),o=null!=(f=Kw(n.bs("end"),e))?f:void 0!==u?s+u:o;for(var v=n._s,d=0;d<v.length;d++)("body"===n.os||"div"===n.os)&&v[d].Ye>1||(h=h.concat(t(v[d],s,o,e)))}var l=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var s=i[e];r.push(s.Qy,s.Yy)}r.sort(l_);for(var u=r.length,o=0;o<u-1;o++)r[o+1]===r[o]&&(Ye(r,o+1),o--,u=r.length);return r}(s,o,h);for(var _=0;_<l.length-1;_++){var g=$w(l[_],l[_+1],h);if(g.length<=0&&ny(n)){var w=n.us(!1);a.push(new Uw(l[_],l[_+1],w))}else g.length>0&&function(){var t=n.us(!1);g.forEach(function(n){return t.ks(n.Ab)}),a.push(new Uw(l[_],l[_+1],t))}()}return a}(o,i.bm,i.Tm,i.Em),d=0;d<v.length;d++){var _=v[d],g=Qw(c,_);e.push(new Mw(_.Qy,_.Yy,_.Ab,!1,a,g,f))}return e}(t,0,i)}function Qw(t,n){for(var i=function t(n){var i=[];var r;if(rn(n)){(r=n.bs("region"))&&i.push(r);for(var e=n._s,s=0;s<e.length;s++)i=i.concat(t(e[s]))}return i}(n.Ab),r={},e=0;e<i.length;e++){var s=i[e];r[s]=t[s]}return r}function Yw(t,n){var i=Zw(t),r=Zw(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),s=Number(n.slice(0,-r.length));return y(e)||y(s)?t:e/s*100+"%"}return t}function Zw(t){return Ce(t,"px")?"px":Ce(t,"em")?"em":Ce(t,"c")?"c":Ce(t,"%")?"%":void 0}function Jw(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function $w(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e].Qy,u=i[e].Yy;(s>=t&&u<=n||s<n&&u>=n||s<t&&u>t)&&r.push(i[e])}return r}function Kw(t,n){if(t){if(qw.test(t)){var i=qw.exec(t);if(!i)return;var r=Number(i[1])||0,e=Number(i[2])||0,s=Number(i[3])||0,u=i[6];return 3600*r+60*e+s+(u?Number(u)*_.pow(.1,u.length):0)-n}if(zw.test(t)){var o=zw.exec(t);if(!o)return;var h,a=Number(o[1]);switch(o[4]){case"h":h=3600*a;break;case"m":h=60*a;break;case"s":h=a;break;case"ms":h=.001*a;break;case"f":case"t":default:h=NaN}return h-n}}}function ty(t,n){for(var i={},r=t.ls("style")||[],e=0;e<r.length;e++){var s=Ww(r[e],n);for(var u in s)Z.call(s,u)&&(i[u]=s[u])}return i}function ny(t){if(rn(t)){var n=t.os.toUpperCase(),i=Boolean(t.bs("smpte:backgroundImage"));return"BR"===n||i}return t.Ye===Kt.Je}function iy(t){var n=function(t){try{return T.rs(t).Os}catch(t){}}(t);return"tt"===(null==n?void 0:n.os)}var ry,ey=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Rl=function(n){return t.prototype.Rl.call(this,n)},i.Il=function(n){var i=t.prototype.Il.call(this,n);return i&&(n.t_=$d.Yl),i},i.tl=function(){return sl(this)},n}(Cd),sy=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).vp=new ey,n.bb=function(t){var i=t.nl;n.Tb(i)},n}F(n,t);var i=n.prototype;return i.Rl=function(t){t.Po(bd.ll,this.bb),this.vp.Rl(t),this.Tb(t)},i.Il=function(t){t.Uo(bd.ll,this.bb),t.t_=$d.Yl,this.vp.Il(t)},i.Eb=function(t){},i.Sb=function(t){},i.Tb=function(t){t.t_!==$d.Yl?this.Eb(t):this.Sb(t)},i.Rb=function(){for(var t=0,n=this.vp.Dl;t<n.length;t++){var i=n[t];i.Uo(bd.ll,this.bb),i.Lv()}},i.Cl=function(){return this.Rb(),this.vp.Cl(),E.resolve()},i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),t.next=3,this.Cl();case 3:this.vp.Lv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(bs);!function(t){t.yk="subtitles",t.Ib="captions",t.Nb="descriptions",t.Cb="chapters",t.kk="metadata",t.Db="thumbnails"}(ry||(ry={}));var uy=[ry.yk,ry.Ib,ry.Nb,ry.Cb,ry.kk,ry.Db];function oy(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Ze(uy,t)}(n)?n:n?ry.kk:ry.yk}var hy,ay=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n,i,s)||this).url=void 0,u.status=void 0,u.url=r,u.status=e,u}return F(n,t),n}(Io);function cy(t){return t instanceof Hf}function fy(t){return Ie(t,hy.Ob)}function vy(t){return t.some(dy)}function dy(t){return Ie(t,hy.xb)||Ie(t,hy.$m)}function ly(t,n){return eo(t)&&vy(n)}function _y(t,n){return!!t&&(eo(t)?function(t){return t.some(fy)}(n)||vy(n):Ie(t,ro.APPLICATION_TTML_XML)||Ie(t,ro.TEXT_VTT)||Ie(t,ro.IMAGE_JPEG))}function gy(t,n){return t===ry.Db||t===ry.kk&&n===ry.Db}function wy(t,n,i,r){for(var e=0,s=t.i_.Dl;e<s.length;e++){var u=s[e];if(u.Qy>i)break;n<=u.Yy&&r.push(u)}}function yy(t,n){return d_(t.Wl,n.Wl)}function my(t,i){var r=i,e=0;if(cy(t)&&t.name===Bf.qv)r=t.cv.vv;else if(t instanceof Xf){var s=t.Yv;if(r=s.fv,0===(e=s.sv))return new ay(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new ay(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function ky(t,i,r,e){var s=function(t){switch(t){case rg.WEBVTT:return"WebVTT";case rg.SRT:return"SRT";case rg.TTML:return"TTML";default:return""}}(t);return new ay(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+(s?s+" ":"")+"subtitle file.",i,r,e)}function py(t){return cw(tw(t))?rg.WEBVTT:iy(t)?rg.TTML:rg.SRT}!function(t){t.xb="vtt",t.$m="wvtt",t.Ob="stpp"}(hy||(hy={}));var Ay=function(t){function n(n){var i;return(i=t.call(this,Kd.$l)||this).errorObject=n,i}return F(n,t),n.prototype.tl=function(){return this},M(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(pd),by=function(t){function n(n,i){var r;return(r=t.call(this)||this).Pb=void 0,r.Bb=void 0,r.Lb=new es,r.Pb=n,r.Bb=i,r}F(n,t);var i=n.prototype;return i.Mb=function(t){if(t.src){var n=t.kind||ry.yk,i=this.Pb.Ub(n,t.id,t.label,t.srclang,t.default);return i.e_=Pf(t.src),this.Rl(i),i}},i.Fb=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.n_=ig.LOADING,r=new Cf({vv:n.e_,ov:Yo.Je,Nv:Ef.GET,Io:i}),t.prev=2,t.next=5,this.Bb.cv(r);case 5:return u=t.sent,s=u.sv,t.next=9,u.Xf();case 9:e=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),hs(t.t0),n.n_=ig.ERROR,n.xo(new Ay(my(t.t0,n.e_))),t.abrupt("return");case 18:for(t.prev=18,o=py(e),n.io=o,h=[],o===rg.WEBVTT||o===rg.SRT?(a=Kg(e),h=a.i_):o===rg.TTML&&(h=jw(e)),c=0,f=h;c<f.length;c++)v=f[c],n.Hb(v);t.next=32;break;case 26:return t.prev=26,t.t1=t.catch(18),hs(t.t1),n.n_=ig.ERROR,n.xo(new Ay(ky(n.io,n.e_,s,t.t1))),t.abrupt("return");case 32:n.n_=ig.LOADED;case 33:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Eb=function(t){Ze(this.vp.Dl,t)&&t.n_===ig.NONE&&this.Fb(t,this.Lb.Io).catch(as)},i.xh=function(){},i.Cl=function(){var n=E.coroutine(Kr.mark(function n(){var i,r,e;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(this.Lb.Eo(),this.Lb=new es,i=0,r=this.vp.Dl;i<r.length;i++)e=r[i],this.Pb.Vb(e);return n.next=5,t.prototype.Cl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(sy);function Ty(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ql===n&&r.Xb)return r}}function Ey(t,n){Sy(Ty(t.Dl,n))}function Sy(t){void 0!==t&&(t.t_=$d.Jl)}function Ry(t,n){Sy(Ty(t.Dl,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ql===n)return r}}(t.Dl,n))}function Iy(t){for(var n=0;n<uy.length;n++){var i=uy[n];i===ry.Cb?Ry(t,i):Ey(t,i)}}var Ny,Cy=function(t){function n(){return t.call(this,Qo.vc)||this}return F(n,t),n}(Es);!function(t){t[t.Wb=0]="Wb",t[t.qb=1]="qb"}(Ny||(Ny={}));var Dy=t,Oy=Dy.MediaSource,xy=Dy.WebKitMediaSource,Py=Dy.TextTrack,By=s&&s.createElement("video"),Ly=(s&&s.documentElement.style,Y.oe&&Y.Le&&Y.Me<=26),My=(Y.pe,!!k),Uy=!(!Oy&&!xy),Fy=!!Py,Hy=(s&&(s.fullscreenEnabled||s.webkitFullscreenEnabled||s.mozFullScreenEnabled||s.msFullscreenEnabled)||Y.me,Y.Oe&&Y.xe,By&&By.canPlayType&&(""!==By.canPlayType("application/vnd.apple.mpegURL")||Y.ce&&!Y.Oe&&Y.fe>=4)),Vy=By&&By.canPlayType&&""!==By.canPlayType("video/mp4")&&!Ly,Xy=Uy&&!Y.Pe&&!Y.Ne&&!Y.Ie&&((Oy||xy).isTypeSupported?(Oy||xy).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):By&&By.canPlayType&&""!==By.canPlayType('audio/mp4; codecs="mp4a.40.34"')),Wy=Uy&&!Y.Pe&&(Xy||((Oy||xy).isTypeSupported?(Oy||xy).isTypeSupported("audio/mpeg"):By&&By.canPlayType&&""!==By.canPlayType("audio/mpeg"))),qy=Uy&&!(Y.De&&Y.oe)&&((Oy||xy).isTypeSupported?(Oy||xy).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Vy),zy=(Y.Pe||Y.Ne||Y.Ie,Y.Ce),Gy=zy&&!1,jy=!Y.Pe,Qy=Y.Ne&&Y.he&&Y.ae<=6.1,Yy=By&&"onresize"in By;try{e&&e.top!==e.self}catch(t){!0}var Zy=.001,Jy=1e4,$y=3,Ky=function(t){function n(n){var i;return(i=t.call(this,Ll.B_)||this).currentTime=n,i}return F(n,t),n}(Es),tm=function(t){function n(n){var i;return(i=t.call(this,Ll.L_)||this).currentTime=n,i}return F(n,t),n}(Es),nm=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).zb=yl.S_,r.Gb=!0,r.jb=!1,r.Qb=!1,r.Yb=function(t){var n=t.readyState;n!==r.zb&&r.xo(t),n===yl.S_&&(r.jb=!1,r.Qb=!1),r.Zb(n),r.Jb(n),r.$b(n),r.maybeDispatchCanPlayThroughEvent(n),r.Kb(n),r.tT(n),r.zb=n},r.nT=function(){r.tT(r.zb),r.Kb(r.zb),r.Gb=r.iT.X_},r.rT=function(){r.Gb=r.iT.X_},r.iT=n,r.eT=i,r.iT.Po(Ll.gl,r.Yb),r.iT.Po(Qo.hc,r.nT),r.iT.Po(Qo.oc,r.rT),r.eT&&r.iT.Po(Ll.L_,r.Oo),r}F(n,t);var i=n.prototype;return i.Zb=function(t){!this.Qb&&t>=yl.R_&&(this.Qb=!0,this.xo(new Wl(this.iT.M_,t)))},i.Jb=function(t){!this.jb&&t>=yl.I_&&(this.jb=!0,this.xo(new Ql(this.iT.M_,t)))},i.Kb=function(t){this.eT||(t>=yl.N_&&this.zb<yl.N_&&!this.iT.X_||this.sT&&t>=yl.N_)&&this.xo(new tm(this.iT.M_))},i.tT=function(t){!this.uT(t)||this.iT.F_||this.iT.Qo||this.xo(new Ky(this.iT.M_))},i.$b=function(t){this.zb<=yl.I_&&t>=yl.N_&&this.xo(new $l(this.iT.M_,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===yl.C_&&this.xo(new Kl(this.iT.M_,t))},i.uT=function(t){var n=!this.iT.X_&&t<=yl.I_,i=!this.Gb&&this.zb<=yl.I_;return n&&!i},i.Cl=function(){this.zb=yl.S_,this.Gb=!0,this.jb=!1,this.Qb=!1},i.Lv=function(){this.Mo(),this.eT&&this.iT.Uo(Ll.L_,this.Oo),this.iT.Uo(Qo.hc,this.nT),this.iT.Uo(Qo.oc,this.rT),this.iT.Uo(Ll.gl,this.Yb)},M(n,[{key:"sT",get:function(){return!this.iT.X_&&this.Gb}}]),n}(bs),im="titanium",rm="conax",em="ezdrm",sm="irdeto",um="vudrm",om="verimatrix",hm="keyos",am="drmtoday",cm="expressplay",fm="azure",vm="xstream",dm="vimond",lm="axinom",_m="uplynk",gm="comcast",wm="custom",ym=function(){function t(t,n,i,r,e){this.Xh=void 0,this.oT=void 0,this.hT=void 0,this.aT=void 0,this.Bb=void 0,this.cT=void 0,this.fT=void 0,this.Xh=t,this.oT=n,this.hT=i,this.Bb=r,this.fT=e,this.aT=this.vT(n)}var i=t.prototype;return i.dT=function(){return this.cT},i.lT=function(t){this.cT=t},i._T=function(){return this.aT.licenseAcquisitionURL||this.dT()},i.gT=function(t){return E.resolve()},i.wT=function(t,n){return E.resolve(void 0)},i.yT=function(){var t=E.coroutine(Kr.mark(function t(i,r,e,s){var u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(u=this.mT(i,r,e,s)).vv){t.next=3;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.jd.cv(u);case 6:return o=t.sent,t.next=9,o.Wf(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),hs(t.t0),t.next=17,this.kT(t.t0,u.vv,s);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.mT=function(t,n,i,r){var e=this.pT().Nc(),s=this.xv,u={vv:this.AT(),ov:n,uv:e,jf:t,xv:s,Nv:Ef.POST,Cv:0,Io:r,io:Sf.wv,Dv:i};return new Cf(u)},i.bT=function(t,n){return E.resolve(t)},i.TT=function(t,n,i,r){return E.resolve(t)},i.pT=function(){return new Zo(this.aT.headers||{})},i.kT=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.AT=function(t,n){var i=n,r=this.aT.queryParameters;if(!i){var e=this._T();if(!e)return"";i=e}if(r||t){var s=T.Du(i);t&&xf(s,t),r&&xf(s,r),i=s.href}return i},i.ET=function(t){return function(t,n){var i=n.licenseResponseProcessor;return E.resolve(new m(mm(t,i)))}(t,this.aT)},i.ST=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.RT(n,r);case 2:return e=t.sent,t.next=5,this.yT(e,this.fT,i,r);case 5:return s=t.sent,t.next=8,this.ET(s);case 8:return u=t.sent,t.abrupt("return",u);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Lv=function(){},M(t,[{key:"jd",get:function(){return this.Bb}},{key:"IT",get:function(){return!1}},{key:"NT",get:function(){var t=this.aT.certificate;if(t)return rt(t)?Hs(t):Xu(t)}},{key:"CT",get:function(){return!1}},{key:"xv",get:function(){return Boolean(this.aT.useCredentials)}}]),t}();function mm(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function km(t,n){var i=qu(t).buffer,r=n.licenseRequestProcessor;return E.resolve(mm(i,r))}var pm,Am,bm=function(t){function n(n,i,r,e){return t.call(this,Ae,n,i,r,e)||this}F(n,t);var i=n.prototype;return i.vT=function(t){return t.widevine||{}},i.DT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return t.abrupt("return",this.OT(new m(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.OT=function(n,i){return t.prototype.ST.call(this,n,Rf.pv,i)},n}(ym);function Tm(t,n){if(null==t)return{};var i,r,e={},s=l.keys(t);for(r=0;r<s.length;r++)i=s[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}function Em(t){return $(t.token&&t.deviceId)}function Sm(t){var n,i=null==(n=t.fairplay)?void 0:n.headers;return void 0!==i&&$(i.PreAuthorization)}function Rm(t){var n=t;return Em(n)&&""!==n.token&&""!==n.deviceId&&!Sm(n)}(Am=pm||(pm={})).xT=!1,Am.PT=!1,Am.BT=!1,Am.LT=!1,Am.LOG_ADS_DETAILS=!1,Am.LOG_CHROMECAST_DETAILS=!1,Am.LOG_CUSTOM_DRM=!1,Am.LOG_BUFFERING_VIDEO_MAIN=!1,Am.LOG_BUFFERING_VIDEO_SELECTION=!1,Am.LOG_BUFFERING_AUDIO_MAIN=!1,Am.LOG_BUFFERING_AUDIO_SELECTION=!1,Am.MT=!1,Am.UT=!1;var Im,Nm=function(){function t(t,n,i){this.FT=t,this.Ih=n,this.HT=i}return t.prototype.VT=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var s=t.extractFairplayContentId;if(void 0!==s&&"function"!=typeof s)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.HT.build(t))},M(t,[{key:"XT",get:function(){return this.FT}},{key:"Xh",get:function(){return this.Ih}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(Im||(Im={}));var Cm=function(){function t(){this.WT=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,r){switch(this.qT(t,i,r)){case Im.FAILED:throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case Im.OVERRIDDEN:var e=Ym(i);T.yu("Warning: Overwriting an earlier registered integration for "+t+" and "+e+".");break;case Im.SUCCEEDED:Ym(i);0}},i.qT=function(t,n,i){var r=Ym(n);if(!r)return Im.FAILED;for(var e=Im.SUCCEEDED,s=0,u=this.WT.slice();s<u.length;s++){var o=u[s];o.XT===t&&o.Xh===r&&(e=Im.OVERRIDDEN,Qe(this.WT,o))}return this.WT.push(new Nm(t,r,i)),e},i.zT=function(t,n){return void 0!==this.GT(t,n)},i.jT=function(t,n,i){var r=this.GT(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.VT(i)},i.GT=function(t,n){for(var i=0,r=this.WT;i<r.length;i++){var e=r[i];if(e.XT===t&&(!n||e.Xh===n))return e}},t}();Cm.QT=new Cm;var Dm=["customdata"],Om={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function xm(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,s=t.useCredentials,u=t.queryParameters,o=t.certificateRequestProcessor,h=t.certificateResponseProcessor,a=t.licenseRequestProcessor,c=t.licenseResponseProcessor;return!(n||i||r||e||s||u||o||h||a||c)}function Pm(t){return t&&void 0!==t.licenseAcquisitionURL}var Bm,Lm=Pm,Mm=Pm;function Um(t){if(!t)return!0;if(Xm(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,s=t.aes128;return xm(n)&&xm(i)&&xm(r)&&xm(e)&&xm(s)}function Fm(t){var n=Rm(t),i=function(t){var n,i=t;return Sm(i)&&""!==(null==(n=i.fairplay)?void 0:n.headers.PreAuthorization)&&!Em(i)}(t);return(!n||!i)&&(n||i)}function Hm(t){return t.integration===sm}function Vm(t){var n=t;if(!n)return!1;if(Um(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,s=n.clearkey;if(Xm(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Lm(r))return!1;if(e&&!Mm(e))return!1;if(s&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(s))return!1;if(n.integration){if(Cm.QT.zT(n.integration))return!0;switch(n.integration){case im:if(!function(t){return t.integration===im&&(Wm(t)||qm(t))}(t))return!1;break;case um:if(!zm(t))return!1;break;case om:if(!function(t){return t.integration===om}(t))return!1;break;case sm:if(!Hm(t))return!1;break;case rm:if(!Fm(t))return!1;break;case em:if(!function(t){return t.integration===em}(t))return!1;break;case hm:if(!Xm(t))return!1;break;case am:if(!function(t){var n=t;return n.integration===am&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case cm:if(!function(t){return t.integration===cm}(t))return!1;break;case vm:if(!Gm(t))return!1;break;case dm:if(!function(t){return t.integration===dm}(t))return!1;break;case lm:if(!jm(t))return!1;break;case fm:if(!function(t){var n=t;return n.integration===fm&&void 0!==n.token}(t))return!1;break;case _m:if(!function(t){return t.integration===_m}(t))return!1;break;case gm:if(!function(t){var n=t;return n&&$(n.releasePid)&&$(n.accountId)&&$(n.token)}(t))return!1;break;case wm:return!0;default:return!1}}return!0}function Xm(t){return t.integration===hm}function Wm(t){return void 0!==t.authToken}function qm(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function zm(t){var n=t;return n.integration===um&&void 0!==n.token}function Gm(t){var n=t;return n&&n.integration===vm&&rt(n.ticketAcquisitionURL)&&rt(n.streamId)}function jm(t){var n=t;return n.integration===lm&&void 0!==n.token}function Qm(t,n){var i,r,e,s=n[t],u=null!=(i=null==s?void 0:s.licenseAcquisitionURL)?i:Om[t],o=null!=(r=null==s?void 0:s.customdata)?r:n.customdata,h=o?{customData:o}:{},a=te({},null!=(e=null==s?void 0:s.headers)?e:{},h),c=null!=s?s:{};c.customdata;return te({},Tm(c,Dm),{licenseAcquisitionURL:u,headers:a})}function Ym(t){switch(t.toLowerCase()){case"widevine":case we:return we;case"playready":case _e:return _e;case"fairplay":case me:return me}}function Zm(t,i){switch(t){case ve:return function(t){for(var n={},i=Bw.tp(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.KA]=e.rb}return n}(i);case de:case le:return function(t){var n;return(n={})[ye]=t,n}(i);default:throw new Io(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unsupported initDataType "+t)}}!function(t){t.Ju="Widevine",t.Zu="PlayreadyV2",t.YT="PlayreadyV2",t.ZT="PlayreadyV3",t.$u="Fairplay"}(Bm||(Bm={}));var Jm={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function $m(t,n){var i,r,e,s,u=Jm[n],o=t.accountName;return{CustomerName:t.customerName,AccountName:o,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null==(i=T.xu)?void 0:i.Pu,OSVersion:null==(r=T.xu)?void 0:r.Hu,DRMProvider:u.DRMProvider,DRMVersion:u.DRMVersion,DRMType:u.DRMType,DeviceVendor:null==(e=T.xu)?void 0:e.Vu,DeviceModel:null==(s=T.xu)?void 0:s.Xu}}}function Km(t,i){if(!t.accountName)throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function tk(t,n,i){var r;if(Wm(t))r={AuthToken:t.authToken,Payload:n};else{if(!qm(t))throw Km(t,i);r={LatensRegistration:$m(t,i),Payload:n}}return Zs(JSON.stringify(r))}function nk(t,n,i){return ik.apply(this,arguments)}function ik(){return(ik=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.Yv){t.next=3;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return u=s,t.prev=4,t.next=7,u.Vf(e);case 7:o=t.sent,h=rk(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h="";case 14:throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,u.cv.vv,u.sv,u.hv,h);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function rk(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var ek=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Rc)||this).JT=void 0,e}F(i,t),i.$T=function(){return T.Pu.hu?"required":"optional"};var r=i.prototype;return r.kT=function(t,n,i){return nk(t,n,i)},r.gT=function(t){return this.JT?cs(this.JT.gh,t):(this.JT=new ju,E.resolve())},r.RT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.oT){t.next=3;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return s=Xs(i),t.abrupt("return",tk(e,s,Bm.Ju));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ET=function(t){var i;if(!t.license)throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Hs(t.license),E.resolve(i)},r.KT=function(t){return E.resolve(new m(t))},r.DT=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tE(),t.next=3,this.RT(n,i);case 3:return r=t.sent,t.next=6,this.yT(r,Yo.Sc,Rf.Av,i);case 6:return e=t.sent,t.next=9,this.KT(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.OT=function(){var n=E.coroutine(Kr.mark(function n(i,r){var e;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.OT.call(this,i,r);case 2:return e=n.sent,this.tE(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.tE=function(){this.JT||(this.JT=new ju),this.JT.wh()},r.Lv=function(){this.JT&&this.JT.Eo(),t.prototype.Lv.call(this)},i}(bm),sk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Sc)||this).lT("https://widevine-proxy.drm.technology/proxy"),e}return F(i,t),i.prototype.RT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,km(i,this.aT);case 2:if(e=t.sent,s=this.hT,r=new m(e),u=[].slice.call(r),o=this.nE){t.next=8;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:u,kid:s}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(i,[{key:"nE",get:function(){if(zm(this.oT))return this.oT.token}}]),i}(bm);function uk(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=te({},i,{SessionId:t.sessionId,Ticket:t.ticket})),te({},i,{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var ok=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Sc)||this).lT("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}F(n,t);var i=n.prototype;return i.RT=function(t,n){return km(t,this.aT)},i.AT=function(n,i){var r=n;return Hm(this.oT)&&(r=uk(this.oT,r)),t.prototype.AT.call(this,r,i)},n}(bm),hk="Conax-Custom-Data";function ak(t,n,i){var r=t&&Fm(t)&&t;if(r&&!i.has(hk)){var e=Rm(r)?r.token:void 0,s=Rm(r)?r.deviceId:void 0,u=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:s}});i.set(hk,u)}return i}var ck=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Sc)||this).lT("https://connect.conax.com:8094/license"),e}F(n,t);var i=n.prototype;return i.RT=function(t,n){return km(t,this.aT)},i.pT=function(){var n=t.prototype.pT.call(this);return ak(this.oT,"Widevine",n)},n}(bm);function fk(t){var n=Cu(new m(t));return Hs(JSON.parse(n).license)}function vk(t){return"string"==typeof t.token?t.token:Zs(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function dk(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var lk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Yo.Sc)||this).lT("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}F(n,t);var i=n.prototype;return i.RT=function(t,n){return km(t,this.aT)},i.ET=function(t){return E.resolve(fk(t))},i.pT=function(){return dk(t.prototype.pT.call(this),this.nE,this.oT)},M(n,[{key:"nE",get:function(){return vk(this.oT)}}]),n}(bm),_k=function(t){function n(n,i,r){return t.call(this,n,i,r,Yo.Sc)||this}F(n,t);var i=n.prototype;return i.RT=function(t,n){return km(t,this.aT)},i.pT=function(){var n=t.prototype.pT.call(this),i=this.oT.token;return n.set("Authorization","Bearer "+i),n},n}(bm);function gk(t,n,i,r){return wk.apply(this,arguments)}function wk(){return(wk=E.coroutine(Kr.mark(function t(i,r,e,s){var u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Gm(i)){t.next=2;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(u=new Zo).append("Cache-Control","no-cache"),u.append("Content-Type","application/json"),(o=i.sessionId)&&u.append("XSSESSION",o),h=i.streamId,a=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",c={drmType:r,licenseType:a,streamId:h},f={vv:i.ticketAcquisitionURL,ov:Yo.Rc,uv:u,Nv:Ef.POST,jf:JSON.stringify(c),Io:s},t.next=13,e.cv(f);case 13:return v=t.sent,t.next=16,v.Vf();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var yk=function(t){function n(n,i,r){return t.call(this,n,i,r,Yo.Rc)||this}F(n,t);var i=n.prototype;return i.pT=function(){var n=t.prototype.pT.call(this);return n.set("Content-Type","application/json"),n},i.RT=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ys(n.buffer),e=this.oT,t.next=4,gk(e,"widevine_modular",this.jd,i);case 4:return s=t.sent,this.lT(s.licenseServerUrl),u=Du(JSON.stringify({payload:r,ticket:s.ticket})),t.abrupt("return",km(u,this.aT));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ET=function(t){var n=t;return E.resolve(Hs(n.license))},n}(bm),mk=function(t){function i(n,i,r){return t.call(this,n,i,r,Yo.Sc)||this}F(i,t);var r=i.prototype;return r.RT=function(t,n){return km(t,this.aT)},r.pT=function(){if(!jm(this.oT))throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pT.call(this);return i.set("X-AxDRM-Message",this.oT.token),i},i}(bm);function kk(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var pk=function(t){function n(n,i,r){var e;return(e=t.call(this,pe,n,i,r,Yo.Sc)||this).iE=void 0,e}F(n,t);var i=n.prototype;return i.vT=function(t){return t.playready||{}},i.pT=function(){var n=new Zo(this.iE);return n.Dc(t.prototype.pT.call(this)),n},i.rE=function(t){return t.length>=1&&t[0]._s.length>0},i.wT=function(n){var i=this.oT.playready.customData;if(i){var r=kk(i),e=kk('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+Xs(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return E.resolve({playready:{la:e}})}return t.prototype.wT.call(this,n)},i.RT=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,km(n,this.aT);case 2:return r=t.sent,t.abrupt("return",this.eE(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.eE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=null,o=new DataView(n),h=Ru(o,new zu,!0),t.prev=3,a=T.rs(h),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",u);case 10:for(c=null==(i=a.ls("PlayReadyKeyMessage")[0])?void 0:i.ls("LicenseAcquisition")[0],f=null!=(r=null==c?void 0:c.ls("Challenge"))?r:[],this.rE(f)&&(u=Qs(f[0].Cs)),v=new Zo,d=null!=(e=null==c?void 0:null==(s=c.ls("HttpHeaders")[0])?void 0:s.ls("HttpHeader"))?e:[],l=0;l<d.length;l++)_=d[l],g=_.ls("name")[0].Cs,w=_.ls("value")[0].Cs,v.append(g,w);return this.iE=v,t.abrupt("return",u);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.DT=function(t,n){return E.resolve(t)},i.OT=function(n,i){return t.prototype.ST.call(this,n,Rf.bv,i)},n}(ym),Ak=function(){function t(n){this.sE=void 0,this.uE=n,this.sE=t.oE(n)}return t.oE=function(t){return"3"===t.version?Bm.ZT:Bm.YT},t.prototype.hE=function(){var t={};if(this.sE===Bm.ZT){var n={LatensRegistration:$m(this.uE,Bm.ZT)};t["X-TITANIUM-DRM-CDATA"]=Zs(JSON.stringify(n))}return t},M(t,[{key:"aE",get:function(){return this.sE}},{key:"ta",get:function(){return this.sE===Bm.YT}}]),t}();var bk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).cE=void 0,e.cE=new Ak(e.oT),e}F(i,t);var r=i.prototype;return r.wT=function(t){var i=this.oT;if(!this.oT)throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(qm(i)){var r={};return r.playready={la:Tk(i,this.cE.aE)},E.resolve(r)}return E.reject(Km(i,Bm.Zu))},r.pT=function(){var n=new Zo(this.cE.hE());return n.Dc(t.prototype.pT.call(this)),n},r.kT=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.Yv){t.next=3;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r);case 3:return t.prev=3,t.next=6,s.qf(e);case 6:h=t.sent,a=Cu(new m(h)),(c=T.rs(a))&&(f=Vw(c,"CustomData")).length>0&&(u=JSON.parse(f[0].Cs),o=null==(v=u.DrmErr)?void 0:v.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,r,s.sv,s.hv,o);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.rE=function(t){if(1!==t.length)throw new U_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},i}(pk);function Tk(t,n){var i=$m(t,n),r=i.DeviceInfo.FormatVersion,e=Zs('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),s=xu(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return xu('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+Xs(s)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var Ek,Sk=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://playready-license.drm.technology/rightsmanager.asmx"),e}F(i,t);var r=i.prototype;return r.rE=function(t){if(1!==t.length)throw new U_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.AT=function(n,i){var r=te({},n||{},{token:this.nE});return t.prototype.AT.call(this,r,i)},M(i,[{key:"nE",get:function(){if(zm(this.oT))return this.oT.token}}]),i}(pk),Rk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return F(n,t),n.prototype.AT=function(n,i){var r=n;return Hm(this.oT)&&(r=uk(this.oT,r)),t.prototype.AT.call(this,r,i)},n}(pk),Ik=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return F(n,t),n.prototype.pT=function(){var n=t.prototype.pT.call(this);return ak(this.oT,"PlayReady",n)},n}(pk),Nk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).lT("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}F(n,t);var i=n.prototype;return i.ET=function(n){return(Ne(Cu(new m(n)),"<?xml")?Ek.fE:Ek.Vf)===Ek.Vf?E.resolve(fk(n)):E.resolve(t.prototype.ET.call(this,new m(n)))},i.pT=function(){return dk(t.prototype.pT.call(this),this.nE,this.oT)},M(n,[{key:"nE",get:function(){return vk(this.oT)}}]),n}(pk);!function(t){t[t.fE=0]="fE",t[t.Vf=1]="Vf"}(Ek||(Ek={}));var Ck,Dk=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).vE=void 0,e}F(n,t);var i=n.prototype;return i.pT=function(){var n=t.prototype.pT.call(this);return this.vE&&n.set("Ticket",this.vE),n.set("Content-Type","text/xml"),n},i.RT=function(){var n=E.coroutine(Kr.mark(function n(i,r){var e,s;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.oT,n.next=3,gk(e,"playready",this.jd,r);case 3:return s=n.sent,this.lT(s.licenseServerUrl),this.vE=s.ticket,n.abrupt("return",t.prototype.RT.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(pk),Ok=function(t){function i(){return t.apply(this,arguments)||this}return F(i,t),i.prototype.pT=function(){if(!jm(this.oT))throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pT.call(this);return i.set("X-AxDRM-Message",this.oT.token),i},i}(pk);!function(t){t.Rc="application/json",t.dE="application/x-www-form-urlencoded",t.lE="application/octet-stream",t.Je="text/plain;charset=UTF-8"}(Ck||(Ck={}));var xk=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n.Xh,i,r,e,s)||this)._E="",u.gE=void 0,u.wE=void 0,u.wE=n.yE,u}F(n,t);var i=n.prototype;return i.mE=function(){return this.aT.certificateURL||this.gE},i.kE=function(t){this.gE=t},i.RT=function(t){return E.resolve(this.pE(t,this._E))},i.pE=function(t,n){return"spc="+encodeURIComponent(Xs(t))+"&assetId="+encodeURIComponent(n)},i.vT=function(t){return t.fairplay||{}},i.AE=function(t){var n=t.indexOf("?");if(n>=0)return E.resolve(t.substr(n+1));var i=t.split("/");return E.resolve(i[i.length-1])},i.wT=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=null!=(i=this.wE)?i:Bu(new m(n)),t.next=3,this.AE(r);case 3:return e=t.sent,this._E=e,(s={}).fairplay={pa:e},t.abrupt("return",s);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.pT=function(){var n=t.prototype.pT.call(this);return n.set("Content-Type",this.bE),n},i.DT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return t.next=4,this.TE(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.OT=function(n,i){return t.prototype.ST.call(this,n,Rf.mv,i)},i.EE=function(t){var n=this.mE(),i=this.pT(),r={vv:n,ov:Yo.Sc,uv:i,Nv:Ef.GET,xv:!1,jf:null,Cv:0,Io:t,io:Sf.wv,Dv:Rf.kv};return new Cf(r)},i.TE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.EE(n),t.next=3,this.jd.cv(i);case 3:return r=t.sent,t.next=6,r.qf();case 6:return e=t.sent,t.abrupt("return",new m(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Hs(i)}else n=new m(t);return E.resolve(n)},i.AT=function(n,i){var r=t.prototype.AT.call(this,n,i);return Ne(r,"skd:")&&(r=r.substr("skd:".length)),r},M(n,[{key:"CT",get:function(){return!0}},{key:"bE",get:function(){return Ck.dE}}]),n}(ym),Pk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Yo.Sc)||this}F(n,t);var i=n.prototype;return i.AE=function(t){var n=t.split("://",1);if("skd"!==n[0].slice(-3).toLowerCase())return E.resolve("");var i=(n=t.split(";",2)).length>1?n[1]:"";return E.resolve(i)},i.RT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){return E.resolve(new m(t))},i.AT=function(n,i){var r=n||{};return r.p1=Jt(),t.prototype.AT.call(this,r,i)},M(n,[{key:"bE",get:function(){return Ck.lE}}]),n}(xk),Bk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Sc)||this).lT("https://fairplay-license.drm.technology/license"),s.kE("https://fairplay-license.drm.technology/certificate"),s}F(i,t);var r=i.prototype;return r.pE=function(t,n){var i={token:this.nE,contentId:n,payload:Xs(t)};return JSON.stringify(i)},r.ET=function(t){return E.resolve(new m(t))},r.pT=function(){var n=t.prototype.pT.call(this);return n.set("x-vudrm-token",this.nE),n},M(i,[{key:"bE",get:function(){return Ck.Rc}},{key:"nE",get:function(){if(!zm(this.oT))throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.oT.token}}]),i}(xk),Lk="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",Mk="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Uk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.Sc)||this}return F(i,t),i.prototype.ET=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Lk)}if(!i)throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,Mk);return i}(Cu(new DataView(i)));return t.prototype.ET.call(this,r)},i}(xk);var Fk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.Rc)||this}F(i,t);var r=i.prototype;return r.RT=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.oT){t.next=3;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=Xs(i),t.abrupt("return",tk(r,e,Bm.$u));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.ET=function(t){try{var i;if(rt(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=Qs(i.license);return E.resolve(new m(e))}return E.reject(new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return E.reject(new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.kT=function(t,n,i){return nk(t,n,i)},M(i,[{key:"bE",get:function(){return Ck.Rc}}]),i}(xk),Hk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Sc)||this).lT("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),s.kE("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),s}F(n,t);var i=n.prototype;return i.mE=function(){var n=t.prototype.mE.call(this);if(!n)return n;var i=T.Du(n),r=this.oT;return Hm(r)&&xf(i,{accountId:r.accountId,applicationId:r.applicationId||""}),i.href},i.AE=function(n){return Hm(this.oT)?E.resolve(this.oT.contentId):t.prototype.AE.call(this,n)},i.RT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){return E.resolve(new m(t))},i.AT=function(n,i){var r=n;return Hm(this.oT)&&(r=function(t,n){return te({},uk(t,n),{KeyId:t.keyId})}(this.oT,r)),t.prototype.AT.call(this,r,i)},M(n,[{key:"bE",get:function(){return Ck.lE}}]),n}(xk),Vk=function(t){function i(i,r,e,s){var u;if(u=t.call(this,i,r,e,s,Yo.Je)||this,!Fm(r))throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.lT("https://connect.conax.com:8097/license"),u}F(i,t);var r=i.prototype;return r.pT=function(){var n=t.prototype.pT.call(this);return ak(this.oT,"FairPlay",n)},r.TE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mE(),r={vv:i,ov:Yo.Sc,uv:{},Nv:Ef.GET,xv:!1,jf:null,Cv:0,Io:n,io:Sf.wv,Dv:Rf.kv},t.next=4,this.jd.cv(r);case 4:return e=t.sent,t.next=7,e.qf();case 7:return s=t.sent,t.abrupt("return",new m(s));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.RT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.AE=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),E.resolve(Cu(Hs(n)))):E.resolve("unknown")},r.ET=function(t){try{var n=JSON.parse(t);return E.resolve(new m(Qs(n.CkcMessage)))}catch(t){return E.reject("CFLRW-66")}},i}(xk),Xk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Je)||this).lT(Om[ce.$u]),s}F(i,t);var r=i.prototype;return r.AE=function(t){return Ne(t,"skd://")?E.resolve(t.substring("skd://".length,40)):E.reject(new U_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.pE=function(t,n){return"spc="+Xs(t)+"&assetId="+n},i}(xk),Wk=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Je)||this).lT("https://lic.drmtoday.com/license-server-fairplay/"),s}F(n,t);var i=n.prototype;return i.pE=function(t,n){var i="spc="+encodeURIComponent(Xs(t))+"&"+encodeURI(n);return"persistent"===this.aT.licenseType?i+"&offline=true":i},i.pT=function(){return dk(t.prototype.pT.call(this),this.nE,this.oT)},M(n,[{key:"nE",get:function(){return vk(this.oT)}}]),n}(xk),qk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Yo.Sc)||this}F(n,t);var i=n.prototype;return i.AE=function(t){var n=t;return Ne(n,"skd:")&&(n="http:"+n.substring(4)),Ne(n,"http:")||Ne(n,"https:")?E.resolve(T.Du(n).hostname):E.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.RT=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(t){return E.resolve(new m(t))},M(n,[{key:"bE",get:function(){return Ck.lE}}]),n}(xk),zk=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,Yo.Je)||this}return F(n,t),n.prototype.pT=function(){var n=t.prototype.pT.call(this),i=this.oT.token;return n.set("Authorization","Bearer "+i),n},n}(xk),Gk=function(t){function n(n,i,r,e){var s;if(s=t.call(this,n,i,r,e,Yo.Rc)||this,!Gm(i))throw new v("Invalid Xstream DRM configuration");return s}F(n,t);var i=n.prototype;return i.TE=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mE(),r=this.pT(),e={vv:i,ov:Yo.Rc,uv:r,Nv:Ef.POST,Io:n,io:Sf.wv,Dv:Rf.kv},t.next=5,this.jd.cv(e);case 5:return s=t.sent,t.next=8,s.Vf();case 8:return u=t.sent,t.abrupt("return",new m(Hs(u.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.OT=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Yo.Je),e=Xs(n),s=this.oT,t.next=5,gk(s,"fairplay",this.jd,i);case 5:return u=t.sent,o=Du(JSON.stringify({spc:e,ticket:u.ticket})),h={vv:this._T(),ov:Yo.Rc,uv:this.pT(),Nv:Ef.POST,jf:o,Cv:0,Io:i,io:Sf.wv,Dv:Rf.mv},t.next=10,this.jd.cv(h);case 10:return a=t.sent,t.next=13,a.Vf();case 13:return c=t.sent,t.abrupt("return",Hs(c.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"bE",get:function(){return Ck.Rc}}]),n}(xk),jk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.Je)||this}F(i,t);var r=i.prototype;return r.pE=function(t,n){return Xs(t)},r.ET=function(i){if(0===i.length)throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.ET.call(this,i)},r.pT=function(){var n=t.prototype.pT.call(this);return n.set("Content-Type","text/plain"),n},i}(xk),Qk=function(t){function i(n,i,r,e){return t.call(this,n,i,r,e,Yo.Sc)||this}F(i,t);var r=i.prototype;return r.pE=function(t,n){return t},r.ET=function(t){return E.resolve(new m(t))},r.pT=function(){if(!jm(this.oT))throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.pT.call(this);return i.set("X-AxDRM-Message",this.oT.token),i},M(i,[{key:"bE",get:function(){return Ck.Rc}}]),i}(xk),Yk=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Rc)||this).SE=void 0,s}F(i,t);var r=i.prototype;return r.pE=function(t,n){var i={spc:Xs(t)};return JSON.stringify(i)},r.AE=function(t){var i=T.Du(t);return this.SE=t,i.searchParams.has("b")?E.resolve(i.searchParams.get("b")):E.reject(new U_(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},r.AT=function(n,i){var r=this._T();return!r&&this.SE&&(r=this.SE),r&&(r=r.replace("skd://","https://")),t.prototype.AT.call(this,n,i||r)},r.ET=function(){var t=E.coroutine(Kr.mark(function t(i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=rt(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Hs(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),M(i,[{key:"bE",get:function(){return Ck.Je}}]),i}(xk),Zk=function(){function t(t,n){this.RE=t,this.IE=n}var n=t.prototype;return n.NE=function(t){return this.RE(t)},n.CE=function(t,n){throw new d(n+" must be "+this.IE+". (Received: "+t+")")},t}(),Jk=new Zk(ot,"a number"),$k=new Zk(rt,"a string"),Kk=new Zk(et,"a boolean");var tp,np=(tp={responseCode:Jk,isException:Kk,description:$k,title:$k,correlationId:$k},{NE:function(t){if(!nt(t))return!1;for(var n=0,i=l.keys(tp);n<i.length;n++){var r=i[n];if(!tp[r].NE(t[r]))return!1}return!0},CE:function(t,n){if(!nt(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(tp);i<r.length;i++){var e=r[i],s=tp[e];if(!s.NE(t[e]))return s.CE(t[e],n+"."+e)}throw new d}});function ip(t,n,i,r,e){return rp.apply(this,arguments)}function rp(){return(rp=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=ep(n,i,r,s),t.next=3,sp(u,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ep(t,n,i,r){var e={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=T.Du(t);return xf(i,n),i.toString()}(i,e)),u=new Zo({});u.append("Content-Type","application/json");var o=Xs(t),h={getFairplayLicense:{releasePid:n.releasePid,spcMessage:o}};return{vv:s,ov:Yo.Je,uv:u,Nv:Ef.POST,jf:JSON.stringify(h),Io:r,io:Sf.wv,Dv:Rf.mv}}function sp(t,n){return up.apply(this,arguments)}function up(){return(up=E.coroutine(Kr.mark(function t(i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.cv(i);case 2:return e=t.sent,t.next=5,e.Vf();case 5:if(s=t.sent,!np.NE(s)){t.next=8;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,s.description,void 0,i.vv,s.responseCode);case 8:return t.abrupt("return",Hs(s.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var op=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,Yo.Sc)||this).DE=void 0,s.DE=i,s}F(n,t);var i=n.prototype;return i.AE=function(n){var i=n.replace("FairPlay",this.DE.releasePid);return t.prototype.AE.call(this,i)},i.OT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ip(n,this.DE,this._T(),this.jd,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(xk),hp=function(t){function i(n,i,r){return t.call(this,Te,n,i,r,Yo.Sc)||this}F(i,t);var r=i.prototype;return r.vT=function(t){return t.clearkey||{}},r.RT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",km(n,this.aT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.yT=function(){var i=E.coroutine(Kr.mark(function i(r,e,s,u){var o,h;return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.aT,!this._T()){i.next=5;break}return i.abrupt("return",t.prototype.yT.call(this,r,this.fT,s,u));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return h={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",Du(JSON.stringify(h)).buffer);case 10:throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.DT=function(t,n){return E.resolve(new m(0))},r.OT=function(n,i){return t.prototype.ST.call(this,n,Rf.Tv,i)},i}(ym),ap=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.RT=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",km(n,this.aT));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(bm),cp={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function fp(t,n,i){return vp.apply(this,arguments)}function vp(){return(vp=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=Sp(i),(s=n.onCertificateRequest)&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,cs(E.resolve(s.call(n,e)),r);case 8:if(!Vu(u=t.sent)){t.next=11;break}return t.abrupt("return",Xu(u));case 11:return t.abrupt("return",Ep(te({},cp,u)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function dp(t,n,i,r,e){return lp.apply(this,arguments)}function lp(){return(lp=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=n.onCertificateResponse,o=Tp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,cs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Xu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function _p(t,n,i,r){return gp.apply(this,arguments)}function gp(){return(gp=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,mp(n,i,r,e);case 2:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",s);case 5:return t.abrupt("return",Ep(s));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wp(t,n,i,r,e,s){return yp.apply(this,arguments)}function yp(){return(yp=E.coroutine(Kr.mark(function t(n,i,r,e,s,u){var o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=bp(r,s),t.next=3,pp(n,new m(i),o,e,u);case 3:return h=t.sent,t.abrupt("return",Xu(h).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function mp(t,n,i,r){return kp.apply(this,arguments)}function kp(){return(kp=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseRequest,u=bp(i,r),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",E.resolve(u));case 5:return t.next=8,cs(E.resolve(s.call(n,u)),e);case 8:if(!Vu(o=t.sent)){t.next=11;break}return t.abrupt("return",Xu(o).buffer);case 11:return t.abrupt("return",te({fairplaySkdUrl:void 0},cp,o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pp(t,n,i,r,e){return Ap.apply(this,arguments)}function Ap(){return(Ap=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseResponse,o=Tp(i,r,e),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",E.resolve(i));case 5:return t.next=8,cs(E.resolve(u.call(n,o)),s);case 8:return h=t.sent,t.abrupt("return",Xu(h));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function bp(t,n){return te({},Sp(t),{fairplaySkdUrl:n})}function Tp(t,n,i){return{url:i.fv,status:i.sv,statusText:i.hv,headers:i.uv.Nc(),body:t,request:n}}function Ep(t){return new Cf({vv:t.url,Nv:t.method,uv:t.headers,jf:t.body,xv:t.useCredentials})}function Sp(t){var n;return{url:t.vv,body:null!=(n=Rp(t.jf))?n:null,headers:t.uv.Nc(),method:t.Nv,useCredentials:t.xv}}function Rp(t){if(t)return"string"==typeof t?Du(t):t instanceof ArrayBuffer?new m(t):qs(t)?Hu(t):void 0}var Ip,Np=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r)||this).OE=void 0,s.OE=e,s}F(i,t);var r=i.prototype;return r.DT=function(t,n){return E.resolve(t)},r.OT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eE(qu(i).buffer);case 2:return e=t.sent,s=this.mT(e,Yo.Sc,Rf.bv,r),t.next=6,_p(this.OE,s,void 0,r);case 6:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new m(u));case 10:if(""!==u.vv){t.next=12;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.jd.cv(u);case 15:return o=t.sent,t.next=18,o.qf(r);case 18:return h=t.sent,t.t0=m,t.next=22,wp(this.OE,h,s,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),hs(t.t2),new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(pk),Cp=function(t){function i(n,i,r,e){var s;return(s=t.call(this,n,i,r,Yo.Sc)||this).OE=void 0,s.OE=e,s}F(i,t);var r=i.prototype;return r.DT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return e=this.mT(i,Yo.Sc,Rf.Av,r),t.next=5,fp(this.OE,e,r);case 5:if(!((s=t.sent)instanceof m)){t.next=9;break}return t.abrupt("return",s);case 9:if(""!==s.vv){t.next=11;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.jd.cv(s);case 14:return u=t.sent,t.next=17,u.qf(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),hs(t.t0),new U_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return h=bp(e,void 0),t.next=27,dp(this.OE,new m(o),h,u,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.OT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mT(i,Yo.Sc,Rf.pv,r),t.next=3,_p(this.OE,e,void 0,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s.vv){t.next=9;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jd.cv(s);case 12:return u=t.sent,t.next=15,u.qf(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),hs(t.t0),new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=m,t.next=25,wp(this.OE,o,e,u,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(ap),Dp=function(t){function i(n,i,r,e,s){var u;return(u=t.call(this,n,i,r,e,Yo.Sc)||this).OE=void 0,u.xE=void 0,u.OE=s,u}F(i,t);var r=i.prototype;return r.DT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.NT){t.next=2;break}return t.abrupt("return",this.NT);case 2:return e=this.EE(r),t.next=5,fp(this.OE,e,r);case 5:if(s=t.sent,!qs(s)){t.next=8;break}return t.abrupt("return",s);case 8:return t.prev=8,t.next=11,this.jd.cv(s);case 11:return u=t.sent,t.next=14,u.qf();case 14:return o=t.sent,h=bp(e,void 0),t.next=18,dp(this.OE,new m(o),h,u,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),hs(t.t0),new U_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.OT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.mT(i,Yo.Sc,Rf.mv,r),t.next=3,_p(this.OE,e,this.xE,r);case 3:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(s));case 7:if(""!==s.vv){t.next=9;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.jd.cv(s);case 12:return u=t.sent,t.next=15,u.qf(r);case 15:return o=t.sent,t.t0=m,t.next=19,wp(this.OE,o,e,u,this.xE,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),hs(t.t2),new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.AE=function(n){var i;return this.xE=n,null!=(i=this.OE)&&i.extractFairplayContentId?E.resolve(this.OE.extractFairplayContentId(n)):t.prototype.AE.call(this,n)},i}(xk),Op=function(){function t(){}var n=t.prototype;return n.PE=function(t,n,i,r){switch(t.Xh.io){case ce.Ju:return this.BE(n,i,r);case ce.Zu:return this.LE(n,i,r);case ce.$u:return this.ME(t,n,i,r);case ce.Ku:default:return this.UE(n,i,r)}},n.BE=function(t,n,i){var r,e=(r=t).integration===wm&&rt(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Cm.QT.zT(e,we)){var s=Cm.QT.jT(e,we,t);return new Cp(t,n,i,s)}switch(e){case im:return new ek(t,n,i);case um:return new sk(t,n,i);case sm:return new ok(t,n,i);case rm:return new ck(t,n,i);case am:return new lk(t,n,i);case fm:return new _k(t,n,i);case vm:return new yk(t,n,i);case lm:return new mk(t,n,i);case hm:default:return new ap(t,n,i,Yo.Sc)}},n.LE=function(t,n,i){var r=t.integration;if(r&&Cm.QT.zT(r,_e)){var e=Cm.QT.jT(r,_e,t);return new Np(t,n,i,e)}switch(r){case im:return new bk(t,n,i);case um:return new Sk(t,n,i);case sm:return new Rk(t,n,i);case rm:return new Ik(t,n,i);case am:return new Nk(t,n,i);case vm:return new Dk(t,n,i);case lm:return new Ok(t,n,i);case hm:default:return new pk(t,n,i)}},n.ME=function(t,n,i,r){var e=n.integration;if(e&&Cm.QT.zT(e,me)){var s=Cm.QT.jT(e,me,n);return new Dp(t,n,i,r,s)}switch(e){case em:return new Pk(t,n,i,r);case um:return new Bk(t,n,i,r);case om:return new Uk(t,n,i,r);case im:return new Fk(t,n,i,r);case sm:return new Hk(t,n,i,r);case rm:return new Vk(t,n,i,r);case hm:return new Xk(t,n,i,r);case am:return new Wk(t,n,i,r);case cm:return new qk(t,n,i,r);case fm:return new zk(t,n,i,r);case vm:return new Gk(t,n,i,r);case dm:return new jk(t,n,i,r);case lm:return new Qk(t,n,i,r);case _m:return new Yk(t,n,i,r);case gm:return new op(t,n,i,r);default:return new xk(t,n,i,r,Yo.Je)}},n.UE=function(t,n,i){return new hp(t,n,i)},n.FE=function(t){return t.io===ce.Zu||t.io===ce.Ju||t.io===ce.$u||t.io===ce.Ku},n.ta=function(t,n){var i;if(t.io!==ce.Zu)return!1;if($(null==(i=n.playready)?void 0:i.customData))return!0;var r=n.integration;return(!r||!Cm.QT.zT(r,me))&&(r===im&&new Ak(n).ta)},n.$T=function(t,n){if(t.io===ce.Ju){var i=n.integration;if(!i||!Cm.QT.zT(i,me))return i===im?ek.$T():void 0}},t}();!function(t){t[t.HE=0]="HE",t[t.VE=1]="VE",t[t.XE=2]="XE",t[t.WE=3]="WE",t[t.m_=4]="m_",t[t.qE=5]="qE",t[t.E_=6]="E_",t[t.zE=7]="zE",t[t.GE=8]="GE"}(Ip||(Ip={}));var xp,Pp=function(){function t(){}return t.prototype.jE=function(t){},M(t,[{key:"QE",get:function(){return 0}},{key:"YE",get:function(){return 0}}]),t}(),Bp=function(){function t(t,n){void 0===n&&(n=new Op),this.Bb=void 0,this.ZE=void 0,this.uE=void 0,this.Bb=t,this.ZE=n}var n=t.prototype;return n.JE=function(t){this.uE=t},n.$T=function(t){var n=this.uE;if(void 0!==n)return this.ZE.$T(t,n)},n.ta=function(t){var n=this.uE;return void 0!==n&&this.ZE.ta(t,n)},n.$E=function(t){var n={Xh:t.Xh,KE:t.KE||[],yE:t.yE},i=this.ZE.PE(n,this.uE||{},t.hT,this.Bb);return new Lp(i)},t}(),Lp=function(){function t(t){this.tS=void 0,this.tS=t}var n=t.prototype;return n.gT=function(t){return this.tS.gT(t)},n.wT=function(t,n,i){return this.tS.wT(n,i)},n.CT=function(){return this.tS.CT||void 0!==this.tS.NT},n.DT=function(t,n){return this.tS.DT(t,n)},n.OT=function(t,n,i){return n&&this.tS.lT(n),this.tS.OT(t,i)},n.mo=function(){this.tS.Lv()},t}(),Mp=function(t){function n(n){var i;(i=t.call(this)||this).nS=[],i.iS=function(t){i.Rl(t.nl)},i.rS=function(t){var n=t.nl;i.eS(n)||i.Il(n)};for(var r=0;r<n.length;r++){var e=n[r];i.sS(e)}return i}F(n,t);var i=n.prototype;return i.sS=function(t){this.nS.push(t);for(var n=0,i=t.Dl;n<i.length;n++){var r=i[n];this.Rl(r)}this.uS(t)},i.oS=function(t){Qe(this.nS,t),this.hS(t);for(var n=0,i=t.Dl;n<i.length;n++){var r=i[n];this.eS(r)||this.Il(r)}},i.eS=function(t){for(var n=0,i=this.nS;n<i.length;n++){if(i[n].Nl(t))return!0}return!1},i.uS=function(t){t.Po(md.Qd,this.iS),t.Po(md.Zd,this.rS)},i.hS=function(t){t.Uo(md.Qd,this.iS),t.Uo(md.Zd,this.rS)},i.Lv=function(){for(;this.nS.length>0;)this.oS(this.nS[0]);t.prototype.Lv.call(this)},i.tl=function(){return sl(this)},n}(Cd);function Up(){return xp||(xp=kr&&kr.document&&kr.document.createElement("video")),xp}var Fp=function(t){function n(n,i,r,e,s,u,o){var h;return void 0===u&&(u=new Op),void 0===o&&(o=Xo()),(h=t.call(this)||this).aS=void 0,h.cS=void 0,h.fS=void 0,h.Pw=void 0,h.Bw=void 0,h.Lw=void 0,h.vS=void 0,h.dS=void 0,h.lS=void 0,h._S=void 0,h.gS=void 0,h.Bb=void 0,h.ho=void 0,h.wS=void 0,h.yS=void 0,h.mS=new Pp,h.kS=function(t){var n=t.Qo,i=n.code,r=new Io(X_(i),"Something went wrong during native playback.",n),e=new F_(i,r.message,n.message);h.pS(r,e)},h.AS=function(){h.xo(new Gl(h.M_,h.gy))},h.bS=function(t){h.X_||(h.yS=void 0),h.xo(t)},h.TS=function(t){h.yS=void 0,h.xo(t)},h.ES=function(){h.xo(new ug(h.yy))},h.SS=function(){h.G_>0&&h.z_>0&&h.xo(new Cy)},h.RS=function(t){h.Pw.Rl(new tg(t.track))},h.IS=function(t){var n=Xp(h.Pw,t.track);n&&h.Pw.Il(n)},h.NS=function(){h.CS(h.Pw)},h.DS=function(t){h.Bw.Rl(new sg(t.track))},h.OS=function(t){var n=Xp(h.Bw,t.track);n&&h.Bw.Il(n)},h.xS=function(){h.CS(h.Bw)},h.PS=function(t){h.xo(t),h.pS(t.errorObject,V_(t.errorObject))},h.aS=i,h.Bb=r,h.ho=o,h.cS=h.aS.LS(W_.Rv),h.lS=h.cS.MS.preload,h._S=new nm(h.cS,!0),h._S.Po(Xl,h.Oo),h.wS=new Bp(r,u),h.cS.US=h.wS,h.FS(),h.Pw=new q_,h.Bw=new q_,h.HS(),h.gS=new by(h.cS,h.Bb),h.Lw=new Mp([h.cS.Xw]),h.ny(),h}F(n,t);var i=n.prototype;return i.iy=function(){this.cS.iy()},i.ny=function(){this.cS.ny()},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(r),e={io:Ny.Wb,e_:n.src,Gf:n.type,VS:this.XS(n),Ry:this.lS,WS:n.crossOrigin,qS:i.metadata&&i.metadata.title},this.wS.JE(n.contentProtection),t.next=5,this.cS.xh(e);case 5:this.fS=t.sent,os(r),i.textTracks&&this.zS(i.textTracks),Iy(this.Xw);case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zS=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(this.cS.GS()&&Y.me&&Fy&&!gy(i.kind,i.label)&&this.jS(i)){var r,e=null!=(r=i.kind)?r:ry.yk;this.cS.QS(i.src,e,i.label,i.srclang)}else{if(void 0===i.src)continue;this.gS.Mb(i)}}},i.jS=function(t){return!t.format||"webvtt"===t.format},i.qw=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cS.qw();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.YS){t.next=12;break}return t.next=10,this.cS.Xo(Qo.ac);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.zw=function(){this.cS.zw()},i.Yw=function(){return void 0!==this.cS.MS.webkitShowPlaybackTargetPicker},i.Zw=function(){this.cS.MS.webkitShowPlaybackTargetPicker&&this.cS.MS.webkitShowPlaybackTargetPicker()},i.Jw=function(){this.cS.MS.webkitShowPlaybackTargetPicker&&this.cS.MS.webkitShowPlaybackTargetPicker()},i.ey=function(){return this.cS.MS},i.sy=function(){return this.cS.ZS},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vS=void 0,this.dS=void 0,this.fS=void 0,t.next=5,this.gS.Cl();case 5:return this.cS.JS(),t.next=8,this.cS.Cl();case 8:this._S.Cl(),this.Ry=this.lS,this.Hw.Cl(),this.Vw.Cl(),this.yS=void 0;case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.$S(),this.KS(),this._S.Lv(),this.cS.US=void 0,t.next=9,this.aS.tR(this.cS);case 9:return this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv(),t.next=14,this.gS.Lv();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.FS=function(){this.cS.Po(Qo.hc,this.Oo),this.cS.Po(Qo.oc,this.Oo),this.cS.Po(Qo.pc,this.AS),this.cS.Po(Qo.ac,this.Oo),this.cS.Po(Qo.ic,this.Oo),this.cS.Po(Qo.lc,this.Oo),this.cS.Po(Qo.dc,this.bS),this.cS.Po(Qo.Ka,this.Oo),this.cS.Po(Qo.cc,this.Oo),this.cS.Po(Qo.Ac,this.Oo),this.cS.Po(Qo.Ja,this.Oo),this.cS.Po(Qo.vc,this.SS),this.cS.Po(Ll.L_,this.TS),this.cS.Po(Kd.$l,this.kS),this.cS.Po(Qo.Qa,this.Oo),this.cS.Po(Qo.ja,this.PS),this.cS.MS.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ES)},i.$S=function(){this.cS.Uo(Qo.hc,this.Oo),this.cS.Uo(Qo.oc,this.Oo),this.cS.Uo(Qo.pc,this.AS),this.cS.Uo(Qo.ac,this.Oo),this.cS.Uo(Qo.ic,this.Oo),this.cS.Uo(Qo.lc,this.Oo),this.cS.Uo(Qo.dc,this.bS),this.cS.Uo(Qo.Ka,this.Oo),this.cS.Uo(Qo.cc,this.Oo),this.cS.Uo(Qo.Ac,this.Oo),this.cS.Uo(Qo.Ja,this.Oo),this.cS.Uo(Qo.vc,this.SS),this.cS.Uo(Ll.L_,this.TS),this.cS.Uo(Kd.$l,this.kS),this.cS.Uo(Qo.Qa,this.Oo),this.cS.Uo(Qo.ja,this.PS),this.cS.MS.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.ES)},i.XS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Xh:be,nR:[{initDataTypes:[be.eo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.HS=function(){var t=this.cS.MS.audioTracks,n=this.cS.MS.videoTracks;t&&(t.addEventListener("addtrack",this.RS),t.addEventListener("removetrack",this.IS),t.addEventListener("change",this.NS)),n&&(n.addEventListener("addtrack",this.DS),n.addEventListener("removetrack",this.OS),n.addEventListener("change",this.xS))},i.KS=function(){var t=this.cS.MS.audioTracks,n=this.cS.MS.videoTracks;t&&(t.removeEventListener("addtrack",this.RS),t.removeEventListener("removetrack",this.IS),t.removeEventListener("change",this.NS)),n&&(n.removeEventListener("addtrack",this.DS),n.removeEventListener("removetrack",this.OS),n.removeEventListener("change",this.xS))},i.CS=function(t){for(var n=0;n<t.Ol;n++){t.Sl(n).Ly()}},i.ly=function(){this.cS.ly()},i.pS=function(t,n){this.vS||(this.vS=n,this.dS=t,this.xo(new n_(t)))},M(n,[{key:"YS",get:function(){var t=this.cS._y,n=this.M_;return t.iR(n,.01)}},{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.cS._y.rR()}},{key:"gy",get:function(){return this.cS.gy},set:function(t){t&&this.cS.eR(t)}},{key:"M_",get:function(){return void 0!==this.yS?this.yS:this.cS.M_},set:function(t){this.yy&&(this.yS=t),this.cS.ah(t)}},{key:"U_",get:function(){return this.cS.U_}},{key:"F_",get:function(){return this.cS.F_}},{key:"Qo",get:function(){return this.vS}},{key:"H_",get:function(){return this.dS}},{key:"Ww",get:function(){}},{key:"yy",get:function(){return this.cS.yy}},{key:"Iw",get:function(){return te({},{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},this.cS.sR())}},{key:"V_",get:function(){return this.cS.V_},set:function(t){this.cS.V_=t}},{key:"Ey",get:function(){return!0}},{key:"X_",get:function(){return this.cS.X_}},{key:"W_",get:function(){return this.cS.W_},set:function(t){this.cS.W_=t}},{key:"Sy",get:function(){return this.cS.MS.played}},{key:"Ry",get:function(){return this.lS},set:function(t){this.lS=t,this.fS&&(this.fS.Ry=t)}},{key:"n_",get:function(){return this.cS.n_}},{key:"Iy",get:function(){return this.cS.Iy.rR()}},{key:"q_",get:function(){return this.cS.q_}},{key:"uR",get:function(){return this.cS.uR}},{key:"Xw",get:function(){return this.Lw}},{key:"Vw",get:function(){return this.Bw}},{key:"z_",get:function(){return this.cS.z_}},{key:"G_",get:function(){return this.cS.G_}},{key:"j_",get:function(){return this.cS.j_},set:function(t){this.cS.j_=t}},{key:"oR",get:function(){return this.mS}}]),n}(hl);function Hp(t){return!t.type||!(!Up().canPlayType||!Up().canPlayType(t.type))}var Vp=function(){function t(){this.hR=Ip.GE}var n=t.prototype;return n.VT=function(t,n,i,r,e,s){return new Fp(t,n,i,r,e)},n.aR=function(t,n){return Hp(t)},n.cR=function(){return!1},t}();function Xp(t,n){for(var i=0,r=t.Dl;i<r.length;i++){var e=r[i];if(e.Fy===n)return e}}var Wp=function(){function t(){this.fR=new Vp,this.vR=[]}t.dR=function(){return this.je};var n=t.prototype;return n.lR=function(t){this.vR.push(t)},n.VT=function(t,n,i,r,e,s){for(var u=this.fR.VT(t,n,i,r,e,s),o=0,h=this.vR;o<h.length;o++){u=(0,h[o])(u,i,r)}return u},n.aR=function(t,n){return this.fR.aR(t,n)},n.cR=function(){return!1},M(t,[{key:"hR",get:function(){return this.fR.hR}}]),t}();function qp(t,n){return d_(t.hR,n.hR)}function zp(t){Gp.je._R(t)}Wp.je=new Wp;var Gp=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).gR=Wp.dR(),n}F(n,t);var i=n.prototype;return i.wR=function(t){this.gR=t},i.yR=function(){return this.gR},i.mR=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.kR(e,i);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",{pR:e,AR:s});case 8:r++,t.next=1;break;case 11:u=this.gR,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(h=n[o],!u.aR(h,i)){t.next=17;break}return t.abrupt("return",{pR:h,AR:u});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{pR:n[0],AR:u});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(function(){function t(){this.bR=[]}var n=t.prototype;return n._R=function(t){this.bR.push(t),this.bR.sort(qp)},n.kR=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.bR;case 1:if(!(r<e.length)){t.next=17;break}if(s=e[r],!st(u=s.aR(n,i))){t.next=10;break}return t.next=7,u;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(u);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",s);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}());Gp.je=new Gp;var jp,Qp=function(){function t(t){this.ER=void 0,this.ER=kr&&kr.document&&kr.document.createElement("div"),Cr(this.ER),t.appendChild(this.ER)}return t.prototype.Lv=function(){Sr(this.ER)},t}();function Yp(t){switch(t){case jp.SR:case"":return jp.SR;case jp.kk:return jp.kk;case jp.RR:default:return jp.RR}}!function(t){t.GE="",t.RR="none",t.kk="metadata",t.SR="auto"}(jp||(jp={}));var Zp=[Kd.$l,Qo.$a,Qo.Yo,Qo.Ec,Qo.Wa,Qo.tc,Qo.sc,Qo.uc,Qo.gc,Qo.yc,Ll.D_,Ll.O_,Ll.x_,Ll.P_,Ll.gl,Ll.B_,Ll.L_,Qo.ja,Qo.Qa,Qo.Ja,Qo.Ka,Qo.ic,Qo.rc,Qo.hc,Qo.ac,Qo.oc,Qo.cc,Qo.vc,Qo.lc,Qo.dc,Qo.pc,Qo.Ac,Qo.fc,Qo.ec,Qo._c],Jp=function(t){function n(n,i){var r;return(r=t.call(this)||this).IR=void 0,r.NR=void 0,r.DR=void 0,r.OR=void 0,r.lS=jp.RR,r.xR=void 0,r.PR=!0,r.Pw=new tl,r.Bw=new tl,r.Lw=new ol,r.Mw=new L_,r.IR=n,r.DR=i,r.DR.Ry=r.Ry,r.LR(),r}F(n,t);var i=n.prototype;return i.zw=function(){this.DR.zw()},i.qw=function(){var t=this.DR.qw();st(t)&&_s(t)},i.Gw=function(){return this.Qw(void 0)},i.$w=function(){},i.oy=function(t){return!1},i.LR=function(){this.Pw.Ul=this.DR.Hw,this.Bw.Ul=this.DR.Vw,this.Lw.Ul=this.DR.Xw,this.Mw.Ul=this.DR.Ww,this.DR.Po(Zp,this.Oo)},i.MR=function(){this.DR.Uo(Zp,this.Oo),this.Pw.Ul=void 0,this.Bw.Ul=void 0,this.Lw.Ul=void 0,this.Mw.Ul=void 0},i.jw=function(){return this.xR},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),this.xR=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!Cl(r=n.sources.filter(Bl))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.IR.mR(r,n);case 9:if(e=t.sent,os(i),s=e.pR,u=e.AR,o=this.sy(),h=e_(this),this.NR===u&&!this.Qo){t.next=25;break}return this.MR(),t.next=19,this.DR.Lv();case 19:os(i),this.NR=u,this.DR=this.UR(u),$p(this.DR,h),u_(this,h,this),this.LR();case 25:return this.DR.Ry=this.Ry,this.PR?this.DR.ny():this.DR.iy(),t.next=29,this.DR.Qw(s,n,i);case 29:os(i),this.FR(s),this.sy()!==o&&this.xo(new cl);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FR=function(t){this.OR!==t&&(this.OR=t,this.xo(new fl(t)))},i.Yw=function(){return this.DR.Yw()},i.Zw=function(){this.DR.Zw()},i.Jw=function(){this.DR.Jw()},i.sy=function(){return this.DR.sy()},i.ly=function(){this.DR.ly()},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.xR=void 0,this.FR(void 0),t.next=4,this.DR.Cl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),t.next=3,this.Cl();case 3:return t.next=5,this.DR.Lv();case 5:this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv(),this.Mw.Lv();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ny=function(){this.PR=!0,this.DR.ny()},i.iy=function(){this.PR=!1,this.DR.iy()},M(n,[{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.DR._y}},{key:"Qo",get:function(){return this.DR.Qo}},{key:"H_",get:function(){return this.DR.H_}},{key:"gy",get:function(){return this.DR.gy},set:function(t){this.DR.gy=t}},{key:"vy",get:function(){return this.OR}},{key:"M_",get:function(){return this.DR.M_},set:function(t){this.DR.M_=t}},{key:"U_",get:function(){return this.DR.U_}},{key:"F_",get:function(){return this.DR.F_}},{key:"Ww",get:function(){return this.Mw}},{key:"yy",get:function(){return this.DR.yy}},{key:"Iw",get:function(){return this.DR.Iw}},{key:"V_",get:function(){return this.DR.V_},set:function(t){this.DR.V_=t}},{key:"Ey",get:function(){return this.DR.Ey}},{key:"X_",get:function(){return this.DR.X_}},{key:"W_",get:function(){return this.DR.W_},set:function(t){this.DR.W_=t}},{key:"Sy",get:function(){return this.DR.Sy}},{key:"Ry",get:function(){return this.lS},set:function(t){this.lS=t,this.DR&&(this.DR.Ry=this.lS)}},{key:"n_",get:function(){return this.DR.n_}},{key:"Iy",get:function(){return this.DR.Iy}},{key:"q_",get:function(){return this.DR.q_}},{key:"Xw",get:function(){return this.Lw}},{key:"z_",get:function(){return this.DR.z_}},{key:"Vw",get:function(){return this.Bw}},{key:"G_",get:function(){return this.DR.G_}},{key:"j_",get:function(){return this.DR.j_},set:function(t){this.DR.j_=t}},{key:"oR",get:function(){return this.DR.oR}}]),n}(bs);function $p(t,n){t.V_!==n.V_&&(t.V_=n.V_),t.j_!==n.j_&&(t.j_=n.j_),t.W_!==n.W_&&(t.W_=n.W_)}var Kp,tA=function(t){function n(n,i){var r;return(r=t.call(this)||this).Ol=void 0,r.HR=void 0,r.XR=void 0,r.Ol=n.length>>1,r.HR=n,r.XR=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.Ol),r}F(n,t);var i=n.prototype;return i.WR=function(t){return this.HR[2*t]},i.qR=function(t){return this.XR[2*t]},i.zR=function(t){return this.HR[2*t+1]},i.GR=function(t){return this.XR[2*t+1]},M(n,[{key:"jR",get:function(){return this.HR.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.ug=function(t,n){return 0===this.ng(t,n)},n.Dg=function(t,n){return this.ng(t,n)>0},n.Og=function(t,n){return this.ng(t,n)>=0},n.og=function(t,n){return this.ng(t,n)<0},n.eg=function(t,n){return this.ng(t,n)<=0},n.Jg=function(t,n){return this.og(t,n)?t:n},n.Zg=function(t,n){return this.Dg(t,n)?t:n},n.QR=function(t,n,i){return i?this.eg(t,n):this.og(t,n)},n.rR=function(){var t=this;return{get length(){return t.Ol},start:function(n){var i=0|n;return t.YR(i),t.ZR(t.WR(i))},end:function(n){var i=0|n;return t.YR(i),t.ZR(t.zR(i))}}},n.JR=function(){for(var t=new Array(2*this.Ol),n=new Array(2*this.Ol),i=0;i<this.Ol;i++)t[2*i]=this.WR(i),t[2*i+1]=this.zR(i),n[2*i]=!0,n[2*i+1]=!0;return this.$R(t,n)},n.YR=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.Ol)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.Ol+")")},n.KR=function(t){if(0===this.Ol)return this.tI();if(this.iR(t))return t;if(this.eg(t,this.WR(0)))return this.WR(0);if(this.Og(t,this.zR(this.Ol-1)))return this.zR(this.Ol-1);for(var n,i=this.nI(),r=0;r<this.Ol;r++){var e=this.WR(r),s=this.sg(e,t);this.og(s,i)&&(n=e,i=s);var u=this.zR(r),o=this.sg(this.zR(r),t);this.og(o,i)&&(n=u,i=o)}return n},n.iI=function(t){for(var n=0,i=0,r=[],e=[];n<this.Ol&&i<t.Ol;){var s=this.WR(n),u=this.zR(n),o=this.qR(n),h=this.GR(n),a=t.WR(i),c=t.zR(i),f=t.qR(i),v=t.GR(i),d=this.Zg(s,a),l=this.Jg(u,c),_=void 0;_=this.ug(s,a)?o&&f:this.ug(d,s)?o:f;var g=void 0;g=this.ug(u,c)?h&&v:this.ug(l,u)?h:v,(this.og(d,l)||_&&g&&this.ug(d,l))&&(r.push(d,l),e.push(_,g));var w=this.ng(this.zR(n),t.zR(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.$R(r,e)},n.rI=function(){var t=this.eI(),n=t.Ol;if(0===n)return this.$R([t.sI(),t.nI()],[!1,!1]);var i=[],r=[],e=t.WR(0);t.ug(e,t.sI())||(i.push(t.sI(),e),r.push(!1,!t.qR(0)));for(var s=0;s<n-1;s++)i.push(t.zR(s),t.WR(s+1)),r.push(!t.GR(s),!t.qR(s+1));var u=t.zR(n-1);return t.ug(u,t.nI())||(i.push(u,t.nI()),r.push(!t.GR(n-1),!1)),t.$R(i,r)},n.uI=function(t){for(var n=0,i=0,r=this.Ol,e=t.Ol,s=new Array(2*(r+e)),u=new Array(2*(r+e)),o=0;n<r&&i<e;){var h=this.WR(n),a=this.zR(n),c=t.WR(i),f=t.zR(i);this.og(h,c)||this.ug(h,c)&&this.og(a,f)?(s[o]=h,s[o+1]=a,u[o]=this.qR(n),u[o+1]=this.GR(n),n++):(s[o]=c,s[o+1]=f,u[o]=t.qR(i),u[o+1]=t.GR(i),i++),o+=2}for(;n<r;)s[o]=this.WR(n),s[o+1]=this.zR(n),u[o]=this.qR(n),u[o+1]=this.GR(n),n++,o+=2;for(;i<e;)s[o]=t.WR(i),s[o+1]=t.zR(i),u[o]=t.qR(i),u[o+1]=t.GR(i),i++,o+=2;return this.$R(s,u)},n.oI=function(t){void 0===t&&(t=this.tI());var n=this.Ol;if(n<2)return this;for(var i=[],r=[],e=this.WR(0),s=this.zR(0),u=this.qR(0),o=this.GR(0),h=1;h<n;h++){var a=this.WR(h),c=this.zR(h),f=this.qR(h),v=this.GR(h);this.og(e,a)&&this.Dg(s,c)||(this.ug(e,a)&&(u=f=u||f),this.ug(s,c)&&(o=v=o||v),this.QR(a,this.vg(s,t),o||f)?(s=c,o=v):(i.push(e,s),r.push(u,o),e=a,s=c,u=f,o=v))}return i.push(e,s),r.push(u,o),this.$R(i,r).eI()},n.eI=function(){for(var t=[],n=[],i=0;i<this.Ol;i++){var r=this.WR(i),e=this.zR(i),s=this.qR(i),u=this.GR(i);this.ug(r,e)?(s||u)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(s,u))}return this.$R(t,n)},n.hI=function(t){return this.Ol?t.Ol?this.uI(t).oI():this:t},n.aI=function(t){var n=this.eI(),i=t.eI(),r=n.rI(),e=i.rI(),s=r.iI(i),u=e.iI(n);return s.hI(u)},n.hh=function(t){if(this.ug(t,this.tI()))return this;for(var n=[],i=[],r=0;r<this.Ol;r++){var e=this.vg(this.WR(r),t),s=this.vg(this.zR(r),t);n.push(e,s),i.push(this.qR(r),this.GR(r))}return this.$R(n,i)},n.cI=function(t){return 0===this.Ol||0===t.Ol?this:this.eI().iI(t.eI().rI())},n.iR=function(t,n){return this.fI(t,n)>=0},n.vI=function(t,n,i,r,e){return this.dI(t,n,i,r,e)>=0},n.lI=function(t,n,i,r,e){return this._I(t,n,i,r,e)>=0},n.gI=function(t){if(t.Ol!==this.Ol)return!1;for(var n=0;n<this.Ol;n++)if(!this.ug(this.WR(n),t.WR(n))||!this.ug(this.zR(n),t.zR(n))||this.qR(n)!==t.qR(n)||this.GR(n)!==t.GR(n))return!1;return!0},n.wI=function(t){for(var n=[],i=[],r=0;r<this.Ol;r++){var e=this.WR(r),s=this.zR(r),u=this.qR(r),o=this.GR(r);t(e,s,u,o)&&(n.push(e,s),i.push(u,o))}return this.$R(n,i)},n._I=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!0),void 0===e&&(e=this.tI());for(var s=this.fg(t,e),u=this.vg(n,e),o=0;o<this.Ol;o+=1)if(this.QR(this.WR(o),u,!r||this.qR(o))&&this.QR(s,this.zR(o),!i||this.GR(o)))return o;return-1},n.dI=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.tI());for(var s=this.vg(t,e),u=this.fg(n,e),o=0;o<this.Ol;o+=1)if(this.QR(this.WR(o),s,!i||this.qR(o))&&this.QR(u,this.zR(o),!r||this.GR(o)))return o;return-1},n.fI=function(t,n){return this.dI(t,t,!0,!0,n)},n.yI=function(t,n){void 0===n&&(n=this.tI());for(var i=this.vg(t,n),r=this.Ol-1;r>=0;r-=1)if(this.QR(this.WR(r),i,this.qR(r)))return r;return-1},n.mI=function(t,n){void 0===n&&(n=this.tI());for(var i=this.fg(t,n),r=0;r<this.Ol;r+=1)if(this.QR(i,this.zR(r),this.GR(r)))return r;return-1},n.kI=function(t){return this.YR(t),this.$R([this.WR(t),this.zR(t)],[this.qR(t),this.GR(t)])},n.pI=function(t,n){var i=this.fI(t,n);return i<0?void 0:this.kI(i)},M(t,[{key:"AI",get:function(){for(var t=this.tI(),n=0;n<this.Ol;n++){var i=this.fg(this.zR(n),this.WR(n));t=this.vg(t,i)}return t}}]),t}()),nA=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.ng=function(t,n){return t<n?o_.Z_:t===n?o_.Q_:o_.Y_},i.vg=function(t,n){return t+n},i.fg=function(t,n){return t-n},i.sg=function(t,n){return _.abs(t-n)},i.tI=function(){return 0},i.nI=function(){return 1/0},i.sI=function(){return-1/0},n.bI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.TI=function(t){for(var i=[],r=[],e=0;e<t.Ol;e++)i.push(t.WR(e).tw),i.push(t.zR(e).tw),r.push(t.qR(e)),r.push(t.GR(e));return new n(i,r)},n.EI=function(t){return new n([t,t],[!0,!0])},i.$R=function(t,i){return new n(t,i)},i.ZR=function(t){return t},n.SI=function(){return iA},n}(tA),iA=new nA([]);!function(t){t.ll="fullscreenchange",t.RI="fullscreensupportchange",t.$l="fullscreenerror"}(Kp||(Kp={}));var rA=function(t){function n(){return t.call(this,Kp.$l)||this}return F(n,t),n}(Es),eA=new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.qy=function(){this.xo(new rA)},i.Gy=function(){},i.Lv=function(){this.Mo()},M(n,[{key:"II",get:function(){return!1}},{key:"NI",get:function(){return!1}}]),n}(bs)),sA=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).aS=void 0,n.cS=void 0,n}F(n,t);var i=n.prototype;return i.ey=function(){var t;return null==(t=this.cS)?void 0:t.MS},i.Lv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Lv.call(this);case 2:if(!this.cS){n.next=6;break}return n.next=5,this.aS.tR(this.cS);case 5:this.cS=void 0;case 6:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"CI",set:function(t){this.aS=t,this.cS=t.LS(W_.Rv)}}]),n}(function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).DI=0,n.OI=!1,n.xI=!0,n.BI=1,n.LI=!1,n.MI=1,n.Hw=new q_,n._y=nA.SI().rR(),n.U_=NaN,n.F_=!1,n.Qo=void 0,n.H_=void 0,n.Ww=void 0,n.yy=!1,n.Ey=!0,n.Sy=nA.SI().rR(),n.Ry=jp.RR,n.n_=yl.S_,n.Iy=nA.SI().rR(),n.uR=void 0,n.Xw=new ey,n.z_=0,n.Vw=new q_,n.G_=0,n.mS=new Pp,n}F(n,t);var i=n.prototype;return i.ny=function(){},i.iy=function(){},i.qw=function(){this.xI&&(this.xI=!1,this.xo(new Fl(this.M_)),this.xo(new Ky(this.M_)))},i.zw=function(){this.xI||(this.xI=!0,this.xo(new Gl(this.M_,this.gy)),this.xo(new Ul(this.M_)))},i.Qw=function(t,n){return E.resolve()},i.Yw=function(){return!1},i.Zw=function(){},i.Jw=function(){},i.sy=function(){return eA},i.ly=function(){},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.DI=0,this.LI=!1,this.zw(),this.xo(new Ml(this.DI));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Mo(),this.Hw.Lv(),this.Xw.Lv(),this.Vw.Lv();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"gy",get:function(){},set:function(t){}},{key:"M_",get:function(){return this.DI},set:function(t){this.DI!==t&&(this.DI=t,this.LI=!0,this.xo(new Yl(this.M_)))}},{key:"Iw",get:function(){return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"V_",get:function(){return this.OI},set:function(t){this.OI!==t&&(this.OI=t,this.xo(new Jl(this.M_,this.j_)))}},{key:"X_",get:function(){return this.xI}},{key:"W_",get:function(){return this.BI},set:function(t){this.BI!==t&&(this.BI=t,this.xo(new zl(this.M_,this.W_)))}},{key:"q_",get:function(){return this.LI}},{key:"j_",get:function(){return this.MI},set:function(t){this.MI!==t&&(this.MI=t,this.xo(new Jl(this.M_,this.j_)))}},{key:"oR",get:function(){return this.mS}}]),n}(bs)),uA=function(t){function n(n,i,r,e,s,u){var o,h=new sA;return(o=t.call(this,Gp.je,h)||this)._a=void 0,o.UI=void 0,o.FI=void 0,o.HI=void 0,o.Bb=void 0,o.VI=void 0,o.XI=void 0,o.FI=n,o._a=i,o.Bb=r,o.VI=e,o.HI=u,o.UI=new wr(s,o.HI),o.UI.WI(o.FI),h.CI=o.UI,o.XI=new Qp(o.FI),o}F(n,t);var i=n.prototype;return i.$w=function(){t.prototype.$w.call(this),this.UI.qI()},i.Kw=function(t){s_(this,t)},i.ty=function(){},i.UR=function(t){return t.VT(this.FI,this.UI,this.Bb,this._a,this.VI,this.HI)},i.ey=function(){return this.DR.ey()},i.uy=function(){return this.UI.zI.map(function(t){return t.MS})},i.Lo=function(n){t.prototype.Lo.call(this,n)},i.Vo=function(n){t.prototype.Vo.call(this,n)},i.Lv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Lv.call(this);case 2:this.UI.Lv(),this.XI.Lv();case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),M(n,[{key:"wy",get:function(){return this.FI}}]),n}(Jp),oA=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).FI=void 0,e.GI=void 0,e.jI=void 0,e.QI=void 0,e.YI=void 0,e.FI=n,e.GI=i,e.QI=new q_,e.YI=new ey,e.jI=r,e}F(n,t);var i=n.prototype;return i.oy=function(t){return!0},i.iy=function(){},i.qw=function(){throw this.xo(new n_(this.jI)),this.GI},i.zw=function(){},i.jw=function(){},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw os(i),this.xo(new n_(this.jI)),this.GI;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ny=function(){},i.Gw=function(){return E.resolve()},i.ey=function(){},i.sy=function(){return eA},i.uy=function(){return[]},i.$w=function(){},i.Kw=function(t){},i.ty=function(){},i.Yw=function(){return!1},i.Zw=function(){},i.Jw=function(){},i.ly=function(){},i.Cl=function(){return E.resolve()},i.Lv=function(){return this.Mo(),this.QI.Lv(),this.YI.Lv(),E.resolve()},M(n,[{key:"Hw",get:function(){return this.QI}},{key:"_y",get:function(){return nA.SI().rR()}},{key:"gy",get:function(){return new Date(NaN)},set:function(t){}},{key:"vy",get:function(){}},{key:"M_",get:function(){return 0},set:function(t){}},{key:"U_",get:function(){return 0}},{key:"wy",get:function(){return this.FI}},{key:"F_",get:function(){return!0}},{key:"Qo",get:function(){return this.GI}},{key:"H_",get:function(){return this.jI}},{key:"Ww",get:function(){}},{key:"Iw",get:function(){return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"V_",get:function(){return!1},set:function(t){}},{key:"Ey",get:function(){return!0}},{key:"X_",get:function(){return!0}},{key:"W_",get:function(){return 0},set:function(t){}},{key:"Sy",get:function(){return nA.SI().rR()}},{key:"Ry",get:function(){return jp.RR},set:function(t){}},{key:"n_",get:function(){return yl.S_}},{key:"Iy",get:function(){return nA.SI().rR()}},{key:"q_",get:function(){return!1}},{key:"Xw",get:function(){return this.YI}},{key:"z_",get:function(){return 0}},{key:"Vw",get:function(){return this.QI}},{key:"G_",get:function(){return 0}},{key:"j_",get:function(){return 1},set:function(t){}},{key:"yy",get:function(){return!1}}]),n}(al);function hA(t){if(t&&nt(t))return te({},t,{integration:aA(t.integration),fairplay:gA(t.fairplay),widevine:cA(t.widevine),playready:fA(t.playready),clearkey:wA(t.clearkey),aes128:yA(t.aes128),integrationParameters:mA(t.integrationParameters),preferredKeySystems:kA(t.preferredKeySystems)})}function aA(t){if(rt(t))return t}function cA(t){if(t&&nt(t))return{persistentState:vA(t.persistentState),distinctiveIdentifier:vA(t.distinctiveIdentifier),audioRobustness:dA(t.audioRobustness),videoRobustness:dA(t.videoRobustness),licenseAcquisitionURL:rt(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:lA(t.licenseType),headers:t.headers,useCredentials:!!et(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:rt(t.certificate)||Vu(t.certificate)?t.certificate:void 0,certificateRequestProcessor:_A(t.certificateRequestProcessor),certificateResponseProcessor:_A(t.certificateResponseProcessor),licenseRequestProcessor:_A(t.licenseRequestProcessor),licenseResponseProcessor:_A(t.licenseResponseProcessor)}}function fA(t){if(t){var n=cA(t);if(n)return te({},n,{customData:rt(t.customData)?t.customData:void 0})}}function vA(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function dA(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function lA(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function _A(t){if("function"==typeof t)return t}function gA(t){if(t){var n=cA(t);if(n)return te({},n,{certificateURL:rt(t.certificateURL)?t.certificateURL:void 0})}}function wA(t){if(t){var n=cA(t);if(n)return te({},n,{keys:K(t.keys)?t.keys.map(function(t){return function(t){if(!t||!nt(t))return;var n=t.id,i=t.value;if(!rt(n)||!rt(i))return;return{id:n,value:i}}(t)}).filter($):void 0})}}function yA(t){if(nt(t))return{useCredentials:et(t.useCredentials)?t.useCredentials:void 0}}function mA(t){if(nt(t))return t}function kA(t){return t&&K(t)?t.map(function(t){return Ym(t)}).filter($):[we,_e,me]}var pA,AA=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return F(n,t),n}(Es),bA=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).ZI=[],r.JI=void 0,r.$I=function(t){ls(function(){r.Oo(t)})},r.JI=i?r.$I:r.Oo,r}F(n,t);var i=n.prototype;return i.KI=function(t){t.Lo(this.JI),this.ZI.push(t)},i.tN=function(t){t.Vo(this.JI),Qe(this.ZI,t)},i.Lv=function(){this.Mo();for(var t=0,n=this.ZI;t<n.length;t++){n[t].Vo(this.JI)}Je(this.ZI)},n}(hl),TA=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(bA);!function(t){t.INLINE="inline",t.FULLSCREEN="fullscreen",t.PICTURE_IN_PICTURE="picture-in-picture"}(pA||(pA={}));var EA,SA=function(t){function i(n){var i;return(i=t.call(this)||this).nN=void 0,i.iN=void 0,i.rN=!1,i.eN=!1,i.sN=void 0,i.uN=void 0,i.oN=void 0,i.$d=void 0,i.hN=function(){return i.aN()},i.cN=function(){return i.fN()},i.oN=n,i.nN=i.iN=i.sN=i.uN=pA.INLINE,i.oN.Po(Kp.ll,i.hN),i.oN.Po(Kp.$l,i.cN),i.vN(),i}F(i,t);var r=i.prototype;return r.tl=function(){return t=this,i={get currentMode(){return t.dN()},requestMode:function(n){var i=IA(n);i&&t.lN(i)},supportsMode:function(n){var i=IA(n);return!!i&&t._N(i)},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},(n=new bA(i,!0)).KI(t),i;var t,n,i},r.lN=function(t){this.gN(t,t)},r.gN=function(t,n){this.iN!==n&&(this.rN=!0,this.nN=t,this.wN(n,this.iN),t!==pA.FULLSCREEN&&(this.sN=t),this.rN=!1,this.vN())},r.dN=function(){return this.eN?pA.FULLSCREEN:pA.INLINE},r._N=function(t){switch(t){case pA.FULLSCREEN:return this.oN.NI;case pA.INLINE:return!0}return!1},r.vN=function(){if(!this.rN){var t=this.iN,n=this.dN();this.iN=n,n!==pA.FULLSCREEN&&(this.uN=n),t!==n&&this.xo(new AA(n))}},r.wN=function(t,n){var i=t===pA.FULLSCREEN;this.eN=i,i!==this.oN.II&&(i?this.oN.qy():this.oN.Gy())},r.aN=function(){if(!this.rN){var t=this.oN.II;this.eN=t,t?this.gN(pA.FULLSCREEN,pA.FULLSCREEN):t||this.nN!==pA.FULLSCREEN?this.vN():this.gN(this.sN,this.uN)}},r.fN=function(){this.aN(),this.xo(new n_(new Io(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Lv=function(){this.oN.Lv(),this.Mo()},M(i,[{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}}]),i}(hl),RA={M_:0,U_:NaN,F_:!1,Qo:void 0,H_:void 0,V_:!1,X_:!0,W_:1,n_:yl.S_,q_:!1,z_:0,G_:0,j_:1};function IA(t){switch(t){case pA.INLINE:case pA.FULLSCREEN:case pA.PICTURE_IN_PICTURE:return t;default:return}}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(EA||(EA={}));var NA,CA,DA,OA,xA,PA,BA,LA,MA=function(){function t(){this.yN=[]}var n=t.prototype;return n.mN=function(t){var n=this.kN.filter(function(n){return n.pN(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.AN=function(t){this.yN.push(t)},M(t,[{key:"kN",get:function(){return this.yN}}]),t}();MA.je=new MA,function(t){t.L_="PLAYING",t.Cw="PAUSED",t.bN="SEEK",t.TN="STALLED",t.EN="FAILED",t.SN="INITIAL_BUFFERING",t.RN="NO_ACCESS"}(NA||(NA={})),function(t){t.IN="HTTP_REQUEST_STATUS_CODE_1XX",t.NN="HTTP_REQUEST_STATUS_CODE_2XX",t.CN="HTTP_REQUEST_STATUS_CODE_3XX",t.DN="HTTP_REQUEST_STATUS_CODE_4XX",t.ON="HTTP_REQUEST_STATUS_CODE_5XX",t.xN="BUFFER_LENGTH",t.PN="BYTES_RECEIVED",t.BN="SEGMENT_READ_BITRATE",t.LN="SEGMENT_PROFILE_BITRATE",t.MN="NUMBER_OF_FRAMES_DROPPED",t.UN="PLAYBACK_POSITION",t.FN="NUMBER_OF_FRAMES_DECODED",t.HN="PLAYBACK_DELTA_TO_ORIGIN",t.VN="STREAM_DELTA_TO_ORIGIN",t.XN="ORIGIN_TIMESTAMP"}(CA||(CA={})),function(t){t.WN="MANIFEST_URI",t.qN="ASSET_DURATION",t.zN="NUMBER_OF_CONTENT_PROFILES",t.GN="CDN",t.jN="CONTENT_TITLE",t.QN="SERVICE_NAME",t.YN="CONTENT_TYPE",t.ZN="CONTENT_DESCRIPTION"}(DA||(DA={})),function(t){t.JN="shutdown_normal_shutdown"}(OA||(OA={})),function(t){t.$N="session/",t.KN="internalError/",t.tC="drmError/",t.nC="caError/",t.iC="networkError/"}(xA||(xA={})),function(t){t.rC="userAction",t.eC="endOfStreamReached"}(PA||(PA={})),function(t){t.PAUSE="sC",t.RESUME="uC"}(BA||(BA={})),function(t){t.UNAVAILABLE="unavailable",t.AVAILABLE="available",t.CONNECTING="connecting",t.CONNECTED="connected"}(LA||(LA={}));var UA,FA,HA,VA,XA,WA="agama";function qA(t){return function(t){switch(t){case UA.NONE:case UA.HORIZONTAL:case UA.VERTICAL:return!0;default:return!1}}(t)?t:UA.NONE}function zA(t){switch(t){case"":return UA.NONE;case"horizontal":return UA.HORIZONTAL;case"vertical":return UA.VERTICAL;default:throw new d}}function GA(t){return{useSeamlessPeriodSwitch:jA(null==t?void 0:t.useSeamlessPeriodSwitch)}}function jA(t){if(!t||!rt(t))return FA.SR;switch(t){case"always":return FA.oC;case"never":return FA.hC;default:return FA.SR}}function QA(t){return{discontinuityAlignment:YA(null==t?void 0:t.discontinuityAlignment)}}function YA(t){if(!t||!rt(t))return HA.SR;switch(t){case"playlist":return HA.aC;case"media":return HA.cC;default:return HA.SR}}function ZA(t,n,i){var r=function(t,n){var i=ll.A_;t.useCredentials?i=ll.p_:t.crossOrigin&&(i=Al(t.crossOrigin));i===ll.A_&&n&&n.vr&&n.vr[360]&&(i=ll.k_);return{useCredentials:i===ll.p_,crossOrigin:i}}(t,n),e=r.useCredentials,s=r.crossOrigin,u=t.liveOffset;$(u)||(u=i&&$(i.liveOffset)?i.liveOffset:void 0);var o=t.timeServer;$(o)||(o=n&&$(n.timeServer)?n.timeServer:void 0);var h=t.hlsDateRange;return $(h)||(h=i&&$(i.hlsDateRange)?Boolean(i.hlsDateRange):void 0),{crossOrigin:s,useCredentials:e,liveOffset:u,timeServer:o,hlsDateRange:h,experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback),dash:$(t.dash)?GA(t.dash):void 0,hls:$(t.hls)?QA(t.hls):void 0}}function JA(t){if(null!==t)return t}function $A(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:JA(t.streamActivityMonitorID),adTagParameters:nt(t.adTagParameters)?t.adTagParameters:{},authToken:JA(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?te({},i,{availabilityType:"vod",videoID:r,contentSourceID:e}):void T.yu("A VOD DAI configuration was provided without valid contentSourceID which is required."):void T.yu("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var s=t.assetKey;return s?te({},i,{availabilityType:"live",assetKey:s}):void T.yu("A Live DAI configuration was provided without valid assetKey which is required.")}T.yu("A DAI configuration was provided without a valid availabilityType which is required.")}function KA(t){switch(t.integration){case"google-dai":return $A(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){var n;return{integration:t.integration,streamType:null!=(n=t.streamType)?n:void 0}}(t);default:return{integration:t.integration}}}function tb(t,n,i){var r=ZA(t,n,i),e=JA(t.src),s=t.type;return s||(s=t.src?pl(t.src):void 0),te({},r,{src:e,type:s,contentProtection:function(t,n){var i;i=$(t.contentProtection)?t.contentProtection:$(t.drm)?t.drm:$(n)&&$(n.contentProtection)?n.contentProtection:$(n)&&$(n.drm)?n.drm:void 0;return nb(i)}(t,n),ssai:$(t.ssai)?KA(t.ssai):void 0,integrationData:void 0,isAdvertisement:Boolean(t.isAdvertisement)})}function nb(t){if(!Vm(t)||!t.integration)return t;switch(t.integration){case hm:return n=t,i=Qm(ce.Ju,n),r=Qm(ce.Zu,n),e=n[ce.$u]&&Qm(ce.$u,n),te({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}function ib(t){if(!t)return!0;var n,i,r=!(Nl(n=t.sources)||tt(n)&&Nl(n[0]))||Cl(t.sources),e=!t.ads||(!(i=t.ads)||K(i)&&0===i.length),s=""!==t.poster&&!t.poster;return r&&e&&s}function rb(t){if(t&&t.sources)return function t(n){if(rt(n))return n;if(Il(n))return n.src;if(tt(n)&&n.length>0)return t(n[0]);return}(t.sources)}function eb(t,n,i){return Sl(t)?function(t,n,i){var r=te({},Dl(),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:VA.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:XA.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,rt(e)?e:tt(e)&&rt(e[0])?e:nt(s=e)&&rt(s.userId)&&(tt(s.externalId)||rt(s.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,s;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return XA.CHANNEL;case"event":return XA.EVENT;case"asset":default:return XA.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Vd(t.contentProtected));t.assetInfo?r.assetInfo=Vd(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(u=r.assetType,o=t.ping,h=!1,a=!1,c=!1,o?(h=!!et(o.adImpressions)&&o.adImpressions,a=!!et(o.freeWheelVideoViews)&&o.freeWheelVideoViews,c=et(o.linearAdData)?o.linearAdData:u!==XA.ASSET):u!==XA.ASSET&&(c=!0),{adImpressions:h,freeWheelVideoViews:a,linearAdData:c}),r=ub(r=sb(r,t),n,i);var u,o,h,a,c}(t,n,i):function(t,n,i){var r=Ol(),e=n&&(n.contentProtection||n.drm);if(rt(t)){if(r.src=t,r.type=pl(t),e){var s=hA(e);r.contentProtection=nb(s)}}else if(Il(t)||El(t)){r.src=t.src,r.type=t.type||pl(t.src),r.isAdvertisement=t.isAdvertisement;var u=function(t){return t.type===_l.T_||t.type===_l.E_}(t)?t.hesp:void 0;void 0!==u&&(r.hesp=u);var o=t.contentProtection||t.drm||e,h=hA(o);r.contentProtection=nb(h),t.ssai&&(r.ssai=KA(t.ssai)),r=sb(r,t)}return r=ub(r,n,i)}(t,n,i)}function sb(t,n){n.useCredentials?t.crossOrigin=ll.p_:n.crossOrigin&&(t.crossOrigin=Al(n.crossOrigin)),rt(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Vd(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Vd(n.useNativePlayback)),n.dash&&(t.dash=GA(n.dash)),n.hls&&(t.hls=QA(n.hls));var i=void 0!==n.experimentalRendering?Vd(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Vd(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function ub(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!$(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!$(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===ll.A_&&null!=n&&null!=(r=n.vr)&&r[360]&&(t.crossOrigin=ll.k_),t.useCredentials=t.crossOrigin===ll.p_,rt(e)&&!t.timeServer&&(t.timeServer=e),t}function ob(t){var n={src:""};if(t&&t.src){if(n.src=qd(t.src),"default"in t&&(n.default=Vd(t.default)),n.kind=oy(t.kind),function(t){switch(t){case rg.DEFAULT:case rg.SRT:case rg.TTML:case rg.WEBVTT:case rg.EMSG:case rg.EVENT_STREAM:case rg.ID3:case rg.CEA608:case rg.DATE_RANGE:return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function hb(t,n){if(it(t))try{return n.mN(t).fC(t)}catch(t){return}}function ab(t){return rt(t.sources)&&""!==t.sources||nt(t.sources)&&rt(t.sources.src)}function cb(t){return t.integration===EA.SPOTX&&!y(t.id)}function fb(t){return"freewheel"===t.integration}function vb(t,n,i){if(void 0===i&&(i=MA.je),ib(t))return{sources:[Ol()]};var r=Md(t);if(r.sources=function(t,n,i){if(Nl(t))return[eb(t,n,i)];if(tt(t)&&Nl(t[0])){for(var r=[],e=0;e<t.length;e++){var s=t[e];r.push(eb(s,n,i))}return r}return[Ol()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!tt(t))return[];for(var i=[],r=0,e=t;r<e.length;r++){var s=e[r];(s=hb(s,n))&&(ab(s)||cb(s)||fb(s))&&i.push(s)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var s,u,o,h=!Cl(r.sources),a=r.ads&&r.ads.length>0;if(h&&!a?delete r.ads:a&&!h&&(r.sources=[]),"textTracks"in r){var c=function(t){if(!tt(t))return[];for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];""!==(e=ob(e)).src&&n.push(e)}return n}(r.textTracks);0===c.length?delete r.textTracks:r.textTracks=c}if("poster"in r&&(r.poster=qd(r.poster)),"vr"in r&&(r.vr=(s=r.vr,(u=s||{}).stereoMode=qA(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?zA(u.stereoMode):UA.NONE,nativeVR:Boolean(u.nativeVR)})),"analytics"in r||(null==n?void 0:n.analytics)){var f=Pl(r.analytics),v=n&&n.analytics||[];r.analytics=function(t,n){for(var i=Md(t),r=function(r){var e=n[r],s=!t.some(function(t){return t.integration===e.integration});s&&e.integration!==WA&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(f,v)}return"mutedAutoplay"in r&&(r.mutedAutoplay=i_(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=void 0!==(o=r.blockContentIfAdError)&&"boolean"==typeof o&&Boolean(o),r}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(UA||(UA={})),function(t){t.SR="auto",t.oC="always",t.hC="never"}(FA||(FA={})),function(t){t.SR="auto",t.aC="playlist",t.cC="media"}(HA||(HA={})),function(t){t.VERIZON_MEDIA="verizon-media"}(VA||(VA={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(XA||(XA={}));var db=function(){function t(t){this.vC=t}return t.prototype.dC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";var a=t.length%4;if(a>0)for(;a++<4;)t+=this.vC.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.vC.indexOf(t.charAt(n))<<18|this.vC.indexOf(t.charAt(n+1))<<12|(s=this.vC.indexOf(t.charAt(n+2)))<<6|(u=this.vC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},t.prototype.lC=function(t,n){var i,r,e,s,u,o,h,a=[],c="";if((o=t.length%3)>0)for(;o++<3;)c+=this.vC.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,s=i>>6&63,u=63&i,a[o/3]=this.vC.charAt(r)+this.vC.charAt(e)+this.vC.charAt(s)+this.vC.charAt(u);return h=(h=a.join("")).slice(0,h.length-c.length),n||(h+=c),h},t.Cm=new t(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t._C=new t(t.Cm.dC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function lb(t){return"string"==typeof t}function _b(t){return"number"==typeof t}var gb={}.toString;var wb,yb=Array.isArray||function(t){return"[object Array]"===gb.call(t)};function mb(t,n){return yb(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(wb||(wb={}));var kb,pb=l.keys(wb).map(function(t){return wb[t]});function Ab(t){return-1!==pb.indexOf(t)}function bb(t){try{var n=db._C.dC(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=lb(t.key),r=lb(t.customer_id),e=_b(t.generation_date),s=_b(t.expiration_date),u=mb(t.domains_page,lb),o=mb(t.domains_source,lb),h=mb(t.sdks,Ab),a=(c=t.send_impression,"boolean"==typeof c);var c;var f;if(!(n&&i&&r&&e&&s&&u&&o&&h&&a))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function Tb(){return kb||(kb={vv:pr.href,gC:kr.parent&&kr.parent!==e,wC:Rb()}),kb}var Eb,Sb=["http:","https:","ftp:","ws:","wss:"];function Rb(){try{return kr.top.location.href}catch(t){return kr&&kr.document&&kr.document.referrer}}!function(t){t[t.yC=0]="yC",t[t.mC=1]="mC",t[t.kC=2]="kC"}(Eb||(Eb={}));var Ib,Nb=function(t,n,i,r,e,s,u,o){void 0===e&&(e=""),void 0===s&&(s=Date.now()),void 0===u&&(u=[]),void 0===o&&(o=!0),this.pC=t,this.AC=n,this.bC=i,this.TC=r,this.EC=e,this.SC=s,this.RC=u,this.IC=o};!function(t){t.mC="expired",t.NC="invaliddomain",t.DC="invalidsource",t.$l="error"}(Ib||(Ib={}));var Cb=function(){function t(t,n,i){this.OC=void 0,this.xC=t,this.BC=n,this.LC=i,this.OC=Lb(this.LC)}var n=t.prototype;return n.MC=function(t,n){var i=this;if(!ib(t)&&0!==n.bC.length&&!xb(n.bC)){var r=[];if(Nl(t.sources)?r=[t.sources]:tt(t.sources)&&(r=t.sources),!r.every(function(t){return i.UC(t,n)})){var e=Ib.DC,s=Ub.FC(e);throw new Io(Db(e),s)}}},n.HC=function(n){return this.VC(n.RC)&&this.XC(n)?t.WC(n.TC)?Eb.yC:Eb.mC:Eb.kC},n.VC=function(t){var n=this;return 0===t.length||t.some(function(t){return n.qC(t)})},n.qC=function(t){return"ios"===function(t){switch(t){case wb.ANDROID:return B.dr;case wb.ANDROIDTV:case wb.FIRETV:return B._r;case wb.IOS:return B.gr;case wb.TVOS:return B.wr;case wb.CHROMECAST:case wb.CHROMECASTCAF:return B.yr;default:return B.cr}}(t)},t.WC=function(t){var n=Number(new Date);return!!t&&n<=t},n.XC=function(t){return!(this.OC&&0!==t.AC.length&&!xb(t.AC))||!!(this.OC&&this.zC(t.AC)&&this.GC(t.AC))},n.zC=function(t){return Pb(this.LC.vv,t)},n.GC=function(t){if(!this.LC.gC)return!0;if(this.xC)return!0;var n=this.jC();return!!n&&Pb(n,t)},n.jC=function(){if(this.LC.gC){var t=u.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.LC.wC?this.LC.wC:void 0}},n.UC=function(n,i){return!!t.QC(n,i.bC)},t.QC=function(t,n){return Pb(this.YC(t),n)},t.YC=function(t){return rt(t)?t:Il(t)&&t.src||""},t}();function Db(t){switch(t){case Ib.NC:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case Ib.DC:return n.ErrorCode.LICENSE_INVALID_SOURCE;case Ib.mC:return n.ErrorCode.LICENSE_EXPIRED;case Ib.$l:return n.ErrorCode.LICENSE_ERROR}}function Ob(t,n){var i=t,r=n;if(!i)return!1;if("*"===(r=r.trim()))return!0;if(r===(i=i.replace(/\.+$/,"")))return!0;var e="\\.",s="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",u="(\\*|"+s+")",o=new RegExp("ip-range\\("+u+e+u+e+u+e+u+"\\)"),h=r.match(o),a=function(t){return"*"===t?"("+s+")":t};if(null!==h&&5===h.length){var c=new RegExp("^"+h[1]+e+a(h[2])+e+a(h[3])+e+a(h[4])+"$");return null!==i.match(c)}return r="."+r,-1!==i.indexOf(r,i.length-r.length)}function xb(t){return t.some(function(t){return"*"===t})}function Pb(t,n){var i=T.Du(t);if(!Bb(i))return!0;for(var r=0;r<n.length;r++){var e=n[r];if(Ob(i.hostname,e))return!0;if(Ob(Uf(t),e))return!0}return!1}function Bb(t){return-1!==Sb.indexOf(t.protocol)}function Lb(t){var n=T.Du(t.vv);return Bb(n)&&!Ob(n.hostname,"localhost")&&!function(t){return Ob(t.hostname,"theoplayer.doubleclick.net")}(n)}var Mb,Ub=function(){function t(){}return t.FC=function(t){return t===Ib.NC?this.ZC:t===Ib.DC?this.JC:t===Ib.mC?this.$C:this.KC},t}();function Fb(t){var n=[t.PA,t.tD,t.nD];switch(t.tD){case Mb.iD:n.push(t.e_);break;case Mb.rD:n.push(t.M_),n.push(t.Qo);break;case Mb.eD:n.push(t.Qo)}return n}Ub.KC="The license for this player is invalid.",Ub.$C="The usage license for this video player has expired.",Ub.ZC="The current domain is incompatible with the license for this player.",Ub.JC="The provided video source is incompatible with the license for this player.",function(t){t[t.iD=1]="iD",t[t.rD=4]="rD",t[t.eD=5]="eD"}(Mb||(Mb={}));for(var Hb=new Array(256),Vb=0;Vb<256;Vb+=1)Hb[Vb]=(Vb<16?"0":"")+Vb.toString(16);function Xb(){var t=Jt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,r=(4294967296*_.random()|0)+t&1130486254,e=(4294967296*_.random()|0)+t&1284287105;return Hb[255&n]+Hb[n>>>8&255]+Hb[n>>>16&255]+Hb[n>>>24&255]+"-"+Hb[255&i]+Hb[i>>>8&255]+"-"+Hb[i>>>16&15|64]+Hb[i>>>24&255]+"-"+Hb[63&r|128]+Hb[r>>>8&255]+"-"+Hb[r>>>16&255]+Hb[r>>>24&255]+Hb[255&e]+Hb[e>>>8&255]+Hb[e>>>16&255]+Hb[e>>>24&255]}var Wb=function(){function t(t){this.vC=void 0,this.vC=t}var n=t.prototype;return n.dC=function(t){var n,i,r,e,s,u,o,h=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.vC.indexOf(t.charAt(n))<<18|this.vC.indexOf(t.charAt(n+1))<<12|(s=this.vC.indexOf(t.charAt(n+2)))<<6|(u=this.vC.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,h[n/4]=String.fromCharCode(i,r,e),64===u&&(h[n/4]=String.fromCharCode(i,r)),64===s&&(h[n/4]=String.fromCharCode(i));return h.join("")},n.lC=function(t){var n,i,r,e,s,u,o,h=[],a="";if((u=t.length%3)>0)for(;u++<3;)a+=this.vC.charAt(64),t+="\0";for(u=0;u<t.length;u+=3)i=(n=t.charCodeAt(u)<<16|t.charCodeAt(u+1)<<8|t.charCodeAt(u+2))>>18&63,r=n>>12&63,e=n>>6&63,s=63&n,h[u/3]=this.vC.charAt(i)+this.vC.charAt(r)+this.vC.charAt(e)+this.vC.charAt(s);return(o=h.join("")).slice(0,o.length-a.length)+a},t}();function qb(){return T.vu()}Wb.Cm=new Wb(function(){var t,n,i,r,e=[],s=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<s.length;t+=1)for(n=s[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),Wb._C=new Wb(Wb.Cm.dC("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var zb,Gb="theoplayer-session-id";function jb(){if(!zb){var t=qo.ih(Gb);t?zb=t:(zb=Xb(),qo.Va(Gb,zb))}return zb}var Qb=/[^\x00-\x7E]/g;function Yb(t){return"\\u"+xe(t.charCodeAt(0).toString(16),4,"0")}var Zb=0,Jb=1,$b=6e4;function Kb(t){var n,i,r,e,s,u=(n=function(t){return[t.sD,t.Hh,t.pC,t.Yk,t.uD,t.oD,t.hD.map(Fb)]}(t),i=[],r=n,e=function(t,n){if(nt(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,s).replace(Qb,Yb));return Wb._C.lC(u)}var tT=function(){function t(t,n,i,r,e,s){var u=this;void 0===r&&(r=Wb.Cm),void 0===e&&(e=Zb),void 0===s&&(s=Jb),this.aD=[],this.cD=null,this.fD=0,this.vD="unknown",this.dD=0,this.lD=function(){qb()-u.fD>$b&&u.ar()},this._D=function(){u.ar(!0)},this.sE=t,this.Bb=n,this.gD=i,this.wD=r,this.yD=e,this.mD=s,mr.kD(this._D),c(this.lD,$b)}var n=t.prototype;return n.pD=function(){return Boolean(this.uD)},n.bD=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gD.TD();case 2:if(t.sent.IC){t.next=5;break}return t.abrupt("return");case 5:return i={tD:Mb.iD,nD:Jt(),e_:n},t.next=8,this.ED(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.SD=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={tD:Mb.rD,nD:Jt(),M_:i,Qo:n},t.next=3,this.ED(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.RD=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={tD:Mb.eD,nD:Jt(),Qo:n},t.next=3,this.ED(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ED=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gD.TD();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.wD.lC(i.pC)){t.next=6;break}if(n.tD===Mb.eD){t.next=6;break}return t.abrupt("return");case 6:if(n.tD===Mb.iD?this.ND():this.pD()||this.ND(),n.PA=this.dD++,this.aD.push(n),(r=n.tD)!==Mb.iD&&r!==Mb.eD){t.next=14;break}return t.next=12,this.ar();case 12:t.next=19;break;case 14:if(!(this.aD.length>this.yD)){t.next=19;break}return t.next=17,this.CD();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ar=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.aD.length>0)){t.next=6;break}return t.next=4,this.CD(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.DD=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gD.TD();case 2:return i=t.sent,t.abrupt("return",{sD:Jt(),Hh:jb(),pC:this.wD.lC(i.pC)||"dev",Yk:this.sE,uD:this.cD,oD:this.vD,hD:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.CD=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.aD.splice(0,this.mD),t.next=4,this.DD(i);case 4:r=t.sent,n?this.Bv(r):this.OD(r),this.fD=qb();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.OD=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Kb(n),r=new Cf({vv:"https://license.theoplayer.com",jf:i,xv:!1,ov:Yo.Je,uv:{"Content-Type":Ck.dE},Cv:4e3,Nv:Ef.POST}),t.prev=2,t.next=5,this.Bb.cv(r);case 5:return e=t.sent,t.next=8,e.qf();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.Bv=function(t){var n=Kb(t);this.Bb.Bv({vv:"https://license.theoplayer.com",jf:n,Gf:Ck.dE})},n.ND=function(){this.pD()&&this.ar(),this.cD=Xb(),this.dD=0},n.Lv=function(){mr.xD(this._D),this.ar()},M(t,[{key:"hD",get:function(){return this.aD}},{key:"uD",get:function(){return this.cD}}]),t}();var nT=!Y.me&&!Y.Ne;function iT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var rT=function(){function t(t){this.AR=void 0,this.$d=void 0,this.PD=void 0,this.AR=t}var n=t.prototype;return n.BD=function(t){if(!t||!t.drawImage)return!1;var n=this.AR.ey();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.LD=function(t,n,i,r,e,u){if(!t||!t.texImage2D)return!1;var o=this.AR,h=o.ey();if(!h)return!1;if(!nT){this.PD||(this.PD=s.createElement("canvas"));var a=this.PD,c=a.getContext("2d"),f=o.G_,d=o.z_,l=a.width,_=a.height;c.clearRect(0,0,a.width,a.height),l===f&&_===d||(a.width=f,a.height=d),c.drawImage(h,0,0,f,d);var g=!1;f>0&&iT(c,f-1,0)&&(a.width=l,g=!0),d>0&&iT(c,0,d-1)&&(a.height=_,g=!0),g&&c.drawImage(h,0,0,f,d),h=a}try{t.texImage2D(n,i,r,e,u,h)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},M(t,[{key:"Kd",get:function(){return this.$d||(this.$d=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.BD.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,s,u){return t.LD(n,i,r,e,s,u)}}));var t}}]),t}(),eT=function(t){function n(n,i){var r;return(r=t.call(this,"MD")||this).cu=n,r.Ip=i,r}return F(n,t),n.prototype.tl=function(){return new sT(this.cu,this.Ip)},n}(pd),sT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return F(n,t),n}(Es),uT=function(t,n){this.wy=void 0,this.UD=void 0,this.wy=t,this.UD=n},oT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).FD=void 0,r.HD=0,r.VD=0,r.XD=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.VD=n.width,r.HD=n.height,r.UD(r.VD,r.HD)}},r.FD=new kr.ResizeObserver(r.XD),r.FD.observe(r.wy),r}return F(n,t),n.prototype.Lv=function(){this.FD.disconnect()},M(n,[{key:"WD",get:function(){return this.HD}},{key:"qD",get:function(){return this.VD}}]),n}(uT),hT=0;function aT(t){var n=qb(),i=_.max(0,16-(n-hT)),r=h(function(){return t(n+i)},i);return hT=n+i,r}var cT,fT=a,vT=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,dT=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;function lT(){return cT||(cT=kr&&kr.document&&kr.document.createElement("span")),cT}vT&&dT||(vT=aT,dT=fT),vT=vT.bind(t),dT=dT.bind(t);var _T=["Webkit","Moz","O","ms"],gT=(function(){var t=!1;try{if(void 0!==kr&&"function"==typeof kr.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});kr.addEventListener("testPassiveEventSupport",R,n),kr.removeEventListener("testPassiveEventSupport",R,n)}}catch(t){}}(),ie());function wT(t){return gT.has(t)||gT.set(t,function(t){var n=lT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<_T.length;r++){var e=_T[r],s=e+i;if(void 0!==n.style[s])return s}return t}(t)),gT.get(t)}function yT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function mT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[wT("transition")]="0s"}var kT=function(t){function n(n,i,r){var u;(u=t.call(this,n,i)||this).zD=void 0,u.GD=0,u.VD=NaN,u.HD=NaN,u.jD=void 0,u.QD=void 0,u.YD=void 0,u.ZD=void 0,u.JD=void 0,u.Cl=function(){u.QD.style.width=1e5+"px",u.QD.style.height=1e5+"px",u.jD.scrollLeft=1e5,u.jD.scrollTop=1e5,u.YD.scrollLeft=1e5,u.YD.scrollTop=1e5,0===u.YD.scrollTop&&vT(u.Cl)},u.$D=function(){var t=u.qD,n=u.WD;u.UD(t,n),u.VD=t,u.HD=n,u.Cl(),u.GD=0},u.KD=function(){if(!u.GD){var t=u.qD,n=u.WD;t===u.VD&&n===u.HD||(u.GD=vT(u.$D))}},u.tO=function(){u.JD||(u.JD=h(u.nO,66))},u.nO=function(){u.JD=void 0,u.iO()},u.iO=function(){u.KD()};var o=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");r||"static"!==o||(n.style.position="relative");var a,c=s.createElement("div");return u.zD=c,u.jD=s.createElement("div"),u.QD=s.createElement("div"),u.YD=s.createElement("div"),u.ZD=s.createElement("div"),yT(u.jD),yT(u.YD),mT(u.QD),mT(a=u.ZD),a.style.width="200%",a.style.height="200%",c.appendChild(u.jD),c.appendChild(u.YD),u.jD.appendChild(u.QD),u.YD.appendChild(u.ZD),n.appendChild(c),u.jD.addEventListener("scroll",u.KD),u.YD.addEventListener("scroll",u.KD),e&&e.addEventListener("resize",u.tO),u.KD(),u}return F(n,t),n.prototype.Lv=function(){dT(this.GD),this.GD=0,this.jD.removeEventListener("scroll",this.KD),this.YD.removeEventListener("scroll",this.KD),Sr(this.zD),e&&e.removeEventListener("resize",this.tO)},M(n,[{key:"WD",get:function(){return this.wy.getBoundingClientRect().height||this.HD||0}},{key:"qD",get:function(){return this.wy.getBoundingClientRect().width||this.VD||0}}]),n}(uT),pT=function(t){function n(n){var i;return(i=t.call(this)||this).wy=void 0,i.FD=void 0,i.XD=function(t,n){i.xo(new eT(t,n))},i.wy=n,i}F(n,t);var i=n.prototype;return i.Gh=function(t){this.FD||("function"==typeof kr.ResizeObserver?this.FD=new oT(this.wy,this.XD):this.FD=new kT(this.wy,this.XD,t))},i.Lv=function(){this.Mo(),this.FD&&(this.FD.Lv(),this.FD=void 0)},M(n,[{key:"WD",get:function(){return this.FD?this.FD.WD:0}},{key:"qD",get:function(){return this.FD?this.FD.qD:0}}]),n}(bs),AT=function(t){function n(){return t.call(this,Kp.ll)||this}return F(n,t),n}(Es);var bT=function(){if(s)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in s)return{rO:i[0],eO:i[1],sO:i[2],uO:i[3],oO:i[4],hO:i[5]}}}(),TT=function(t){function n(){return t.call(this,Kp.RI)||this}return F(n,t),n}(Es),ET=function(t){function n(i){var r;return(r=t.call(this)||this).wy=void 0,r.NI=void 0,r.II=!1,r.aO=function(){return r.hN()},r.cO=function(){return r.cN()},r.wy=i,r.NI=n.fO(i),s.addEventListener(bT.oO,r.aO),r.hN(),r}F(n,t),n.fO=function(t){return Boolean(bT&&s[bT.uO]&&bT.rO in t)};var i=n.prototype;return i.qy=function(){var t=this.wy[bT.rO]();t&&t.then?t.then(this.aO,this.cO):(s.removeEventListener(bT.hO,this.cO),s.addEventListener(bT.hO,this.cO))},i.Gy=function(){var t=s[bT.eO]();t&&t.then?t.then(this.aO,this.cO):(s.removeEventListener(bT.hO,this.cO),s.addEventListener(bT.hO,this.cO))},i.hN=function(){var t=this.II,n=this.wy===s[bT.sO];this.II=n,t!==n&&this.xo(new AT)},i.cN=function(){this.xo(new rA)},i.Lv=function(){this.Mo(),s.removeEventListener(bT.oO,this.aO),s.removeEventListener(bT.hO,this.cO)},n}(bs),ST=function(t){function n(i){var r;return(r=t.call(this)||this).wy=void 0,r.NI=void 0,r.II=!1,r.aO=function(){return r.hN()},r.wy=i,r.NI=n.fO(i),r.wy.addEventListener("webkitbeginfullscreen",r.aO),r.wy.addEventListener("webkitendfullscreen",r.aO),r.wy.addEventListener("webkitpresentationmodechanged",r.aO),r.hN(),r}F(n,t),n.fO=function(t){return Y.me&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.qy=function(){var t=this;this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("fullscreen")?Y.me?requestAnimationFrame(function(){return t.wy.webkitSetPresentationMode("fullscreen")}):this.wy.webkitSetPresentationMode("fullscreen"):this.wy.webkitEnterFullscreen()},i.Gy=function(){this.wy.webkitSupportsPresentationMode&&this.wy.webkitSupportsPresentationMode("inline")?this.wy.webkitSetPresentationMode("inline"):this.wy.webkitExitFullscreen()},i.hN=function(){var t,n=this.II;t=this.wy.webkitPresentationMode?"fullscreen"===this.wy.webkitPresentationMode:!!this.wy.webkitDisplayingFullscreen,this.II=t,n!==t&&this.xo(new AT)},i.Lv=function(){this.Mo(),this.wy.removeEventListener("webkitbeginfullscreen",this.aO),this.wy.removeEventListener("webkitendfullscreen",this.aO),this.wy.removeEventListener("webkitpresentationmodechanged",this.aO)},n}(bs),RT=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).vO=[],n.dO=void 0,n.eN=!1,n.hN=function(){var t=n.eN,i=n.lO();t!==i&&(n.eN=i,n.xo(new AT))},n}F(n,t);var i=n.prototype;return i.qy=function(){this.dO?this.dO.qy():this.xo(new rA)},i.Gy=function(){for(var t=0,n=this.vO;t<n.length;t++){var i=n[t];i.II&&i.Gy()}},i._O=function(t){this.dO=t},i.gO=function(t){this.vO.push(t),t.Po(Kp.ll,this.hN),t.Po(Kp.$l,this.Oo),this.hN()},i.wO=function(t){Qe(this.vO,t),t.Uo(Kp.ll,this.hN),t.Uo(Kp.$l,this.Oo)},i.lO=function(){for(var t=0,n=this.vO;t<n.length;t++){if(n[t].II)return!0}return!1},i.Cl=function(){this.dO=void 0,this.eN=!1;for(var t=this.vO.slice(),n=0;n<t.length;n++){var i=t[n];this.wO(i),i.Lv()}this.hN()},i.Lv=function(){this.Mo(),this.Cl()},M(n,[{key:"NI",get:function(){return!!this.dO&&this.dO.NI}},{key:"II",get:function(){return this.eN}}]),n}(bs),IT=function(t){function n(n,i){var r;return(r=t.call(this)||this).AR=void 0,r.yO=void 0,r.mO=void 0,r.kO=!1,r.pO=function(){return r.Bh()},r.hN=function(t){r.kO||r.xo(t)},r.AR=n,r.yO=i,r.mO=eA,r.AO(),r.AR.Po(Qo.tc,r.pO),r.Bh(),r}F(n,t);var i=n.prototype;return i.qy=function(){this.yO&&this.mO.qy()},i.Gy=function(){this.mO.Gy()},i.AO=function(){this.mO.Po(Kp.ll,this.hN),this.mO.Po(Kp.$l,this.Oo)},i.bO=function(){this.mO.Uo(Kp.ll,this.hN),this.mO.Uo(Kp.$l,this.Oo)},i.Bh=function(){var t=this.mO,n=this.AR.sy();if(t!==n){this.kO=!0;var i=this.II,r=this.NI;i&&this.Gy(),this.bO(),this.mO=n,this.AO(),i&&!this.II&&this.NI?this.qy():this.Gy(),this.kO=!1,r!==this.NI&&this.xo(new TT),i!==this.II&&this.xo(new AT)}},i.Lv=function(){this.Mo(),this.bO(),this.AR.Uo(Qo.tc,this.pO)},M(n,[{key:"NI",get:function(){return!!this.yO&&this.mO.NI}},{key:"II",get:function(){return this.mO.II}}]),n}(bs);function NT(t){var n;return{get url(){return t.vv},get method(){return t.Nv},get headers(){return n||(n=t.uv.Nc()),n},get body(){return t.jf},get useCredentials(){return t.xv},get type(){return PT(t.io)},get subType(){return LT(t.Dv)},get mediaType(){return UT(t.Ov)},get responseType(){return DT(t.ov)}}}function CT(t){switch(t.toLowerCase()){case"arraybuffer":return Yo.Sc;case"json":return Yo.Rc;case"stream":return Yo.Ic;case"text":default:return Yo.Je}}function DT(t){return t}function OT(t){switch(t.toUpperCase()){case"POST":return Ef.POST;case"PUT":return Ef.PUT;case"DELETE":return Ef.DELETE;case"HEAD":return Ef.HEAD;case"OPTIONS":return Ef.OPTIONS;case"GET":default:return Ef.GET}}function xT(t){switch(t.toLowerCase()){case"manifest":return Sf._v;case"segment":return Sf.gv;case"content-protection":return Sf.wv;default:return Sf.lv}}function PT(t){return t}function BT(t){switch(t.toLowerCase()){case"initialization-segment":return Rf.yv;case"fairplay-license":return Rf.mv;case"fairplay-certificate":return Rf.kv;case"widevine-license":return Rf.pv;case"widevine-certificate":return Rf.Av;case"playready-license":return Rf.bv;case"clearkey-license":return Rf.Tv;case"aes128-key":return Rf.Ev;default:return Rf.lv}}function LT(t){return t}function MT(t){switch(t.toLowerCase()){case"audio":return If.Sv;case"video":return If.Rv;case"text":return If.Je;case"image":return If.Iv;case"":default:return If.lv}}function UT(t){return t}var FT=function(){function t(t,n){this.TO=new ju,this.EO=[],this.$d=void 0,this.SO=!1,this.Qv=void 0,this.RO=0,this.IO=t,this.NO=n}var n=t.prototype;return n.Uk=function(){this.SO=!0,this.TO.wh(null)},n.CO=function(){this.TO.yh(new ef(this.EO))},n.DO=function(t){if(!this.OO)throw new d("Cannot respond more than once");if(!nt(t))throw new d("Expected valid response");this.Qv=this.xO(t),this.Uk()},n.PO=function(){try{var t=this.NO(this.Kd);t?this.BO(t):this.LO||this.MO||this.Uk()}catch(t){this.EO.push(t),this.CO()}},n.BO=function(t){if(this.MO)throw new v("Request has been redirected or a response already exists");if(st(t))this.UO(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new ju;try{var i=t(function(t){t?n.yh(t):n.wh(void 0)});st(i)&&n.wh(i)}catch(t){n.yh(t)}this.UO(n.gh)}},n.UO=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.RO++,t.next=4,n;case 4:this.RO--,this.LO||this.MO||(this.EO.length?this.CO():this.Uk()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.RO--,this.EO.push(t.t0),this.LO||this.MO||this.CO();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"FO",get:function(){return this.TO.gh}},{key:"Kd",get:function(){return this.$d||(this.$d=this.HO()),this.$d}},{key:"MO",get:function(){return this.SO}},{key:"OO",get:function(){return!this.SO}},{key:"LO",get:function(){return this.RO>0}},{key:"Yv",get:function(){return this.Qv}}]),t}(),HT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).VO=void 0,e.VO=r,e.PO(),e}F(n,t),n.XO=function(t,n,i){var r=void 0===t.body?i:t.body;return new Nf({Ds:r,cv:n.cv,ov:n.cv.ov,uv:t.headers,sv:t.status,hv:t.statusText,fv:t.url,av:!0},n)};var i=n.prototype;return i.HO=function(){return i=NT((t=this).cv),{get closed(){return!t.OO},get request(){return i},get url(){return t.vv},get status(){return t.sv},get statusText(){return t.hv},get headers(){return n||(n=t.uv.Nc()),n},get body(){return t.jf},respondWith:function(n){return t.DO(n)},waitUntil:function(n){return t.BO(n)}};var t,n,i},i.xO=function(t){return n.XO(t,this.IO,this.VO)},M(n,[{key:"jf",get:function(){return this.VO}},{key:"uv",get:function(){return this.IO.uv}},{key:"cv",get:function(){return this.IO.cv}},{key:"Yv",get:function(){return this.Qv}},{key:"sv",get:function(){return this.IO.sv}},{key:"hv",get:function(){return this.IO.hv}},{key:"vv",get:function(){return this.IO.fv}}]),n}(FT),VT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).WO=void 0,e.qO=void 0,e.qO=r,e.PO(),e}F(n,t);var i=n.prototype;return i.HO=function(){return t=this,{get url(){return t.vv},get method(){return t.Nv},get headers(){return n||(n=t.uv.Nc()),n},get body(){return t.jf},get closed(){return!t.OO},get useCredentials(){return t.xv},get type(){return PT(t.io)},get subType(){return LT(t.Dv)},get mediaType(){return UT(t.Ov)},get responseType(){return DT(t.ov)},redirect:function(n){return t.zO(n)},respondWith:function(n){return t.DO(n)},waitUntil:function(n){return t.BO(n)}};var t,n},i.xO=function(t){var n=this.IO.jf,i=new Nf({Ds:n,uv:{},cv:this.IO,fv:this.IO.vv,ov:this.IO.ov,sv:200,hv:"OK"});return HT.XO(t,i,n)},i.zO=function(t){if(!this.OO)throw new d("Cannot redirect, already redirected or has a response");var n;n=rt(t)?{url:t}:t,this.WO=function(t,n){return new Cf({vv:void 0===t.url?n.vv:t.url,Nv:void 0!==t.method?OT(t.method):void 0,uv:t.headers,jf:t.body,xv:t.useCredentials,io:void 0!==t.type?xT(t.type):void 0,Dv:void 0!==t.subType?BT(t.subType):void 0,Ov:void 0!==t.mediaType?MT(t.mediaType):void 0,ov:void 0!==t.responseType?CT(t.responseType):void 0},n)}(n,this.IO),this.Uk()},M(n,[{key:"jf",get:function(){return this.IO.jf}},{key:"OO",get:function(){return this.qO&&!this.SO}},{key:"uv",get:function(){return this.IO.uv}},{key:"Nv",get:function(){return this.IO.Nv}},{key:"GO",get:function(){return this.WO}},{key:"Yv",get:function(){return this.Qv}},{key:"ov",get:function(){return this.IO.ov}},{key:"Cv",get:function(){return this.IO.Cv}},{key:"Io",get:function(){return this.IO.Io}},{key:"io",get:function(){return this.IO.io}},{key:"Dv",get:function(){return this.IO.Dv}},{key:"Ov",get:function(){return this.IO.Ov}},{key:"vv",get:function(){return this.IO.vv}},{key:"xv",get:function(){return this.IO.xv}},{key:"Pv",get:function(){return this.IO.Pv}}]),n}(FT);var XT,WT=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new qT(n);return(r=t.call(this,e,i)||this).jO=void 0,r.jO=e,r}F(n,t);var i=n.prototype;return i.QO=function(t){this.jO.QO(t)},i.YO=function(t){this.jO.YO(t)},i.ZO=function(t){this.jO.ZO(t)},i.JO=function(t){this.jO.JO(t)},i.$O=function(t){this.jO.$O(t)},n}(Of),qT=function(){function t(t){this.Mv=void 0,this.KO=[],this.tx=[],this.Mv=t}var n=t.prototype;return n.cv=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.nx(n,n.Io);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Hf)){t.next=12;break}return t.next=11,this.ix(t.t0,n.Io);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.ex(i,n.Io);case 15:if(!Tf(i=t.sent)){t.next=20;break}return t.abrupt("return",i);case 20:throw new Xf(i);case 21:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.Bv=function(t){return this.Mv.Bv(t)},n.nx=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:os(i),r=n,s=0,u=this.KO.slice();case 3:if(!(s<u.length)){t.next=21;break}if(o=u[s],os(i),(h=new VT(r,o,!e)).MO){t.next=17;break}return t.prev=8,t.next=11,h.FO;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:h.GO&&!e?r=h.GO:h.Yv&&!e&&(e=h.Yv);case 18:s++,t.next=3;break;case 21:if(!e){t.next=23;break}return t.abrupt("return",e);case 23:return t.abrupt("return",this.Mv.cv(r));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.ix=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n instanceof Xf?n.Yv:new Nf({Ds:null,cv:n.cv,sv:0,hv:""}),t.next=3,this.ex(r,i);case 3:if((e=t.sent)!==r){t.next=8;break}throw n;case 8:if(!Tf(e)){t.next=12;break}return t.abrupt("return",e);case 12:throw new Xf(e);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ex=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=n,e=0,s=this.tx.slice();case 2:if(!(e<s.length)){t.next=23;break}return u=s[e],os(i),t.next=7,E.resolve(r.fh().Ds(i));case 7:if(o=t.sent,(h=new HT(r,u,o)).MO){t.next=19;break}return t.prev=10,t.next=13,h.FO;case 13:t.next=19;break;case 15:return t.prev=15,t.t0=t.catch(10),t.abrupt("continue",20);case 19:r=h.Yv||r;case 20:e++,t.next=2;break;case 23:return t.abrupt("return",r);case 24:case"end":return t.stop()}},t,this,[[10,15]])}));return function(n,i){return t.apply(this,arguments)}}(),n.QO=function(t){this.KO.unshift(t)},n.YO=function(t){this.KO.push(t)},n.ZO=function(t){Qe(this.KO,t)},n.JO=function(t){this.tx.unshift(t)},n.$O=function(t){Qe(this.tx,t)},n.Lv=function(){this.Mv.Lv(),Je(this.KO),Je(this.tx)},t}(),zT=function(){function t(t){this.$d=void 0,this.Bb=t}var n=t.prototype;return n.QO=function(t){this.Bb.QO(t)},n.ZO=function(t){this.Bb.ZO(t)},n.JO=function(t){this.Bb.JO(t)},n.$O=function(t){this.Bb.$O(t)},M(t,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{addRequestInterceptor:function(n){t.QO(n)},removeRequestInterceptor:function(n){t.ZO(n)},addResponseInterceptor:function(n){t.JO(n)},removeResponseInterceptor:function(n){t.$O(n)}})),this.$d}}]),t}(),GT=function(t){function n(n,i,r){var e;return(e=t.call(this,i)||this).$d=void 0,e.sx=function(t){e.xo(t)},e.ux=function(t){e.xo(t)},e.ox=n,e.Bb=i,e.VI=r,e.ox.Po(Qo.uc,e.sx),e.ox.Po(Qo.sc,e.ux),e}F(n,t);var i=n.prototype;return i.hx=function(t){this.VI.hx(t)},i.QO=function(t){this.Bb.QO(t)},i.ZO=function(t){this.Bb.ZO(t)},i.JO=function(t){this.Bb.JO(t)},i.$O=function(t){this.Bb.$O(t)},i.Lv=function(){this.Mo(),this.ox.Uo(Qo.uc,this.sx),this.ox.Uo(Qo.sc,this.ux)},M(n,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{get online(){return t.Ey},get estimator(){return n=t.ax,{get bandwidth(){return n.QE},get roundTripTime(){return n.YE}};var n},setEstimator:function(n){t.hx(function(t){if(t)return{get QE(){return Wd(t.bandwidth)},get YE(){return Wd(t.roundTripTime)},jE:function(n){return function(t){if(t)return{vx:function(n){t.markRequestStart(n)},lx:function(n){t.markResponseStart(n)},_x:function(n,i){t.markResponseData(n,i)},gx:function(n){t.markResponseEnd(n)}}}(t.createMeasurer(NT(n)))}}}(n))},addRequestInterceptor:function(n){t.QO(n)},removeRequestInterceptor:function(n){t.ZO(n)},addResponseInterceptor:function(n){t.JO(n)},removeResponseInterceptor:function(n){t.$O(n)},addEventListener:function(n,i){t.Po(n,i)},removeEventListener:function(n,i){t.Uo(n,i)}})),this.$d}},{key:"Ey",get:function(){return this.ox.Ey}},{key:"ax",get:function(){return this.VI.ax}}]),n}(bs);!function(t){t.PERFORMANCE="performance",t.QUALITY="quality",t.BANDWIDTH="bandwidth"}(XT||(XT={}));var jT=30,QT={type:XT.BANDWIDTH},YT=20,ZT=60;function JT(t){var n,i,r,e=Md(QT);return rt(t)?e.type=$T(t):nt(t)&&function(t){switch(t){case XT.PERFORMANCE:case XT.QUALITY:case XT.BANDWIDTH:return!0;default:return!1}}(t.type)&&(e.type=$T(t.type)),nt(t)&&nt(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Xd(n.bitrate),y(r)||(i.bitrate=r),i)),e}function $T(t){switch(t){case"bandwidth":return XT.BANDWIDTH;case"performance":return XT.PERFORMANCE;case"quality":return XT.QUALITY}}var KT=function(t){function n(n){var i;return(i=t.call(this,"yx")||this).wx=n,i}return F(n,t),n}(Es),tE=function(t){function n(n){var i;return(i=t.call(this,"kx")||this).mx=n,i}return F(n,t),n}(Es),nE=function(t){function n(n){var i;return(i=t.call(this,"bx")||this).Ax=n,i}return F(n,t),n}(Es),iE=function(t){function n(){for(var n,i,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this).$d=(i=sn(n),{get strategy(){return{metadata:(t=i.mx).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.mx=JT(t)},get targetBuffer(){return i.wx},set targetBuffer(t){var n=Xd(t);y(n)||(i.wx=n>ZT?ZT:n)},get bufferLookbackWindow(){return i.Ax},set bufferLookbackWindow(t){var n=Xd(t);y(n)||(i.Ax=n<=0?jT:n)}}),n.Tx=QT,n.Ex=YT,n.Sx=jT,n.Rx=void 0,n.Ix=void 0,n}F(n,t);var i=n.prototype;return i.Nx=function(t){this.Ix=t},i.hx=function(t){this.Rx=t},M(n,[{key:"Cx",get:function(){switch(this.Tx.type){case XT.PERFORMANCE:return 0;case XT.QUALITY:return 1/0;case XT.BANDWIDTH:return this.Tx.metadata&&void 0!==this.Tx.metadata.bitrate?this.Tx.metadata.bitrate:8*vl.g_();default:return 8*vl.g_()}}},{key:"Kd",get:function(){return this.$d}},{key:"mx",get:function(){return this.Tx},set:function(t){this.Tx=t,this.xo(new tE(t))}},{key:"wx",get:function(){return this.Ex},set:function(t){this.Ex=t,this.xo(new KT(t))}},{key:"Ax",get:function(){return this.Sx},set:function(t){this.Sx=t,this.xo(new nE(t))}},{key:"ax",get:function(){var t;return null!=(t=this.Rx)?t:this.Ix.oR}}]),n}(bs),rE=function(t){function n(){return t.call(this,"_l")||this}return F(n,t),n.prototype.tl=function(){return new eE},n}(pd),eE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Es),sE=function(t){function n(n,i,r){var e;(e=t.call(this,r)||this).Dx=void 0,e.aD=void 0,e.Ox=function(t){Ad(t)&&ls(function(){e.xo(t.Kd)})},e.Dx=n,e.aD=i;for(var s=0,u=e.aD;s<u.length;s++){var o=u[s];e.Dx.Po(o,e.Ox)}return e}return F(n,t),n.prototype.Lv=function(){this.Mo();for(var t=0,n=this.aD;t<n.length;t++){var i=n[t];this.Dx.Uo(i,this.Ox)}},n}(bs),uE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Dx=void 0,r.Ox=function(t){Ad(t)&&ls(function(){r.xo(t.Kd)})},r.Dx=n,r.Dx.Lo(r.Ox),r}return F(n,t),n.prototype.Lv=function(){this.Mo(),this.Dx.Vo(this.Ox)},n}(hl),oE=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n}(uE);var hE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).um=0,n.om=1/0,n.$d=void 0,n}F(n,t);var i=n.prototype;return i.Cl=function(){0===this.um&&this.om===1/0||(this.um=0,this.om=1/0,this.xo(new rE))},i.xx=function(){return new nA([this.Qy,this.Yy],[!0,!0])},M(n,[{key:"Qy",get:function(){return this.um},set:function(t){if(this.Yy<=t)throw new v("Start time of a clip should be smaller than the end time.");this.um!==t&&(this.um=t,this.xo(new rE))}},{key:"Yy",get:function(){return this.om},set:function(t){if(t<=this.Qy)throw new v("End time of a clip should be larger than the start time.");this.om!==t&&(this.om=t,this.xo(new rE))}},{key:"Kd",get:function(){var t,n,i;return this.$d||(this.$d=(i={get startTime(){return t.Qy},set startTime(n){t.Qy=n},get endTime(){return t.Yy},set endTime(n){t.Yy=n},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},n=new uE(t=this,i),i)),this.$d}}]),n}(hl),aE=function(t){function n(n){var i;return(i=t.call(this)||this).Px=function(t){i.Bx(t)||i.xo(t)},i.Lx=n,i.Lx.Lo(i.Px),i}F(n,t);var i=n.prototype;return i.Mx=function(){return this.Lx.Hw},i.uy=function(){return this.Lx.uy()},i.Ux=function(){return this.Lx._y},i.Fx=function(){return this.Lx.vy},i.Hx=function(){return this.Lx.gy},i.Vx=function(t){this.Lx.gy=t},i.Xx=function(){return this.Lx.M_},i.Wx=function(t){this.Lx.M_=t},i.qx=function(){return this.Lx.U_},i.zx=function(){return this.Lx.wy},i.Gx=function(){return this.Lx.F_},i.jx=function(){return this.Lx.Qo},i.Qx=function(){return this.Lx.H_},i.Yx=function(){return this.Lx.yy},i.Zx=function(){return this.Lx.V_},i.Jx=function(t){this.Lx.V_=t},i.$x=function(){return this.Lx.Ey},i.Kx=function(){return this.Lx.X_},i.tP=function(){return this.Lx.W_},i.nP=function(t){this.Lx.W_=t},i.iP=function(){return this.Lx.Sy},i.rP=function(){return this.Lx.Ry},i.eP=function(t){this.Lx.Ry=t},i.sP=function(){return this.Lx.n_},i.uP=function(){return this.Lx.Iy},i.oP=function(){return this.Lx.q_},i.jw=function(){return this.Lx.jw()},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(i),t.next=3,this.Lx.Qw(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.hP=function(){return this.Lx.Xw},i.aP=function(){return this.Lx.z_},i.cP=function(){return this.Lx.Vw},i.fP=function(){return this.Lx.G_},i.vP=function(){return this.Lx.j_},i.dP=function(t){this.Lx.j_=t},i.sy=function(){return this.Lx.sy()},i.ey=function(){return this.Lx.ey()},i.Kw=function(t){this.Lx.Kw(t)},i.ty=function(){this.Lx.ty()},i.iy=function(){this.Lx.iy()},i.$w=function(){this.Lx.$w()},i.zw=function(){this.Lx.zw()},i.qw=function(){this.Lx.qw()},i.ny=function(){this.Lx.ny()},i.Gw=function(){return this.Lx.Gw()},i.Yw=function(){return this.Lx.Yw()},i.Zw=function(){this.Lx.Zw()},i.Jw=function(){this.Lx.Jw()},i.Cl=function(){return this.Lx.Cl()},i.Lv=function(){return this.Lx.Lv()},i.ly=function(){this.Lx.ly()},i.oy=function(t){return this.Lx.oy(t)},i.Bx=function(t){return!1},M(n,[{key:"Hw",get:function(){return this.Mx()}},{key:"_y",get:function(){return this.Ux()}},{key:"gy",get:function(){return this.Hx()},set:function(t){this.Vx(t)}},{key:"vy",get:function(){return this.Fx()}},{key:"M_",get:function(){return this.Xx()},set:function(t){this.Wx(t)}},{key:"U_",get:function(){return this.qx()}},{key:"wy",get:function(){return this.zx()}},{key:"F_",get:function(){return this.Gx()}},{key:"Qo",get:function(){return this.jx()}},{key:"H_",get:function(){return this.Qx()}},{key:"Ww",get:function(){return this.Lx.Ww}},{key:"yy",get:function(){return this.Yx()}},{key:"Iw",get:function(){return this.Lx.Iw}},{key:"V_",get:function(){return this.Zx()},set:function(t){this.Jx(t)}},{key:"Ey",get:function(){return this.$x()}},{key:"X_",get:function(){return this.Kx()}},{key:"W_",get:function(){return this.tP()},set:function(t){this.nP(t)}},{key:"Sy",get:function(){return this.iP()}},{key:"Ry",get:function(){return this.rP()},set:function(t){this.eP(t)}},{key:"n_",get:function(){return this.sP()}},{key:"Iy",get:function(){return this.uP()}},{key:"q_",get:function(){return this.oP()}},{key:"Xw",get:function(){return this.hP()}},{key:"z_",get:function(){return this.aP()}},{key:"Vw",get:function(){return this.cP()}},{key:"G_",get:function(){return this.fP()}},{key:"j_",get:function(){return this.vP()},set:function(t){this.dP(t)}}]),n}(al),cE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).lP=void 0,e._P=!1,e.gP=void 0,e.wP=!1,e.yP=function(){e.mP(),e.kP()},e.AS=function(){e.pP(),e.kP(),e.AP&&e.M_>=e.lP.Yy-n.bP&&!e.F_&&(e.gP=vT(e.AS))},e.TP=function(){e.wP=!0},e.EP=function(){e.wP&&(e.wP=!1,e.kP())},e.lP=r,e.lP.Po("_l",e.yP),e.Lx.Po("timeupdate",e.AS),e}F(n,t);var i=n.prototype;return i.Wx=function(n){var i=this.lP.xx().KR(n);t.prototype.Wx.call(this,i),this.kP()},i.Gx=function(){return t.prototype.Gx.call(this)||this._P},i.uP=function(){return nA.bI(t.prototype.uP.call(this)).iI(this.lP.xx()).rR()},i.qw=function(){this.Gx()?this.Wx(this.SP.start(0)):this.mP(),t.prototype.qw.call(this),this.kP()},i.Qw=function(){var n=E.coroutine(Kr.mark(function n(i,r){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return os(r),this._P=!1,this.lP.Cl(),n.next=5,t.prototype.Qw.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.Lv=function(){return this.lP.Uo("_l",this.yP),this.Lx.Uo("timeupdate",this.AS),this.pP(),t.prototype.Lv.call(this)},i.Bx=function(n){switch(n.type){case"seeking":return this.xo(n),this.TP(),!0;case"seeked":case"emptied":return this.xo(n),this.EP(),!0;case"ended":if(this.AP)return!0}return t.prototype.Bx.call(this,n)},i.pP=function(){this.gP&&(dT(this.gP),this.gP=void 0)},i.kP=function(){var t=this.M_,i=this.AP&&t>=this.lP.Yy-n.nw;this._P&&!i?(this._P=!1,this.X_&&this.qw()):this._P||!i||this.q_||this.wP||(this._P=!0,this.xo(new jl(t)),this.zw())},i.mP=function(){if(this.U_!==1/0){var t=this.SP,i=nA.bI(t).KR(this.M_);Gt(this.M_,i,n.nw)||this.Wx(i)}},M(n,[{key:"SP",get:function(){return this.uP().length?this.uP():this.lP.xx().rR()}},{key:"AP",get:function(){return this.lP.Yy<this.U_}}]),n}(aE);cE.bP=1,cE.nw=.001;var fE=function(){function t(){this.RP=void 0,this.RP=!1}return M(t,[{key:"IP",get:function(){return this.RP},set:function(t){this.RP=t}}]),t}(),vE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).RP=void 0,r.NP=!1,r.CP=!1,r.RP=i,r}F(n,t);var i=n.prototype;return i.Gx=function(){return!this.RP.IP&&t.prototype.Gx.call(this)},i.zw=function(){this.CP=!0,t.prototype.zw.call(this)},i.qw=function(){this.CP=!1,t.prototype.qw.call(this)},i.Bx=function(n){if(this.RP.IP)switch(n.type){case"ended":return this.M_=0,this.CP||(this.q_?this.NP=!0:this.qw()),!0;case"seeked":this.NP&&(this.NP=!1,this.qw());break;case"pause":if(this.NP||t.prototype.Gx.call(this))return!0}return t.prototype.Bx.call(this,n)},n}(aE);var dE=function(){function t(t){var n;this.$d=(n=this,{get currentBandwidthEstimate(){return n.Ay},get corruptedVideoFrames(){return n.ky},get droppedVideoFrames(){return n.my},get totalBytesLoaded(){return n.by},get bufferedSegments(){return n.Ty}}),this.DR=t}return M(t,[{key:"Kd",get:function(){return this.$d}},{key:"ky",get:function(){return this.DR.DP.Iw.ky}},{key:"Ay",get:function(){return this.DR.DP.Iw.Ay}},{key:"my",get:function(){return this.DR.DP.Iw.my}},{key:"OP",get:function(){throw new v("Not implemented")}},{key:"xP",get:function(){throw new v("Not implemented")}},{key:"by",get:function(){return this.DR.DP.Iw.by}},{key:"py",get:function(){return this.DR.DP.Iw.py}},{key:"Ty",get:function(){return this.DR.DP.Iw.Ty}}]),t}();function lE(t){if(!t||!Or(t))return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}};if("function"==typeof t.getVideoPlaybackQuality){var n=t.getVideoPlaybackQuality();return{my:n.droppedVideoFrames,ky:n.corruptedVideoFrames||0,py:n.totalVideoFrames}}return{my:t.webkitDroppedFrameCount||0,ky:0,py:t.webkitDecodedFrameCount||0}}var _E=function(t){function n(){return t.call(this,"PP")||this}return F(n,t),n.prototype.tl=function(){return new gE},n}(pd),gE=function(t){function n(){return t.call(this,"castingchange")||this}return F(n,t),n}(Es);var wE=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).BP=[],n.$d=void 0,n.LP=function(){return n.xo(new _E)},n}F(n,t);var i=n.prototype;return i.MP=function(t){this.BP.push(t),t.Po("statechange",this.LP)},i.Lv=function(){var t=this;this.BP.forEach(function(n){n.Uo("statechange",t.LP)}),Je(this.BP)},M(n,[{key:"UP",get:function(){return this.BP.some(function(t){return t.UP})}},{key:"Kd",get:function(){var t,n,i;return this.$d||(this.$d=(i={get casting(){return t.UP},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},n=new oE(t=this,i),i)),this.$d}}]),n}(al),yE=function(){function t(){}return t.FP=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Cf({vv:n,ov:Yo.Je,Nv:Ef.GET}),t.next=4,i.cv(r);case 4:return e=t.sent,t.next=7,e.Ds();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),us(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.HP=function(t){try{var i=bb(t);return new Nb(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Io(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.VP=function(t){void 0===t&&(t=Wb.Cm),T.yu("The baked-in license is used. Please update the configuration with your license.");var n=t.dC(".$hsF|b9_Ess*r[1F|C-*]'8iOn3C:o3COo5"),i=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.dC(n)}),r=["F$(:_L50F|aY",".$hsF|b9_Ess*rS:F]Y\""].map(function(n){return t.dC(n)}),e=Number(new Date(Number(t.dC("COD|aHpHa:p3Ceo3Co\"\""))));return new Nb(n,i,r,e)},t.convertLicenseToDummyLicense=function(t){return new Nb(t.pC,t.AC,t.bC,864e13,t.EC,Date.now(),t.RC,t.IC)},t}(),mE=function(){function t(){}return t.Xa=function(){return t.je||(t.je=kE.na()?new kE:new Wo),t.je},t.sh=function(n){t.Xa().sh(n)},t.Ha=function(){t.Xa().Ha()},t.ih=function(n){return t.Xa().ih(n)},t.Va=function(n,i){t.Xa().Va(n,i)},t.XP=function(n){var i=t.ih(n);if(void 0!==i)return w(i)},t.WP=function(n){return"true"===t.ih(n)},t}();mE.je=void 0;var kE=function(n){function i(){return n.apply(this,arguments)||this}F(i,n),i.na=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.sh=function(n){t.localStorage.removeItem(n)},r.Ha=function(){t.localStorage.clear()},r.ih=function(n){return t.localStorage[n]},r.Va=function(n,i){t.localStorage[n]=i},i}(mE),pE=_.floor(14399999*_.random()-72e5),AE=function(){function t(t,n,i,r,e,s){this.OC=void 0,this.Bb=t,this.qP=n,this.zP=i,this.gD=r,this.GP=e,this.LC=s,this.OC=Lb(s)}var i=t.prototype;return i.jP=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.QP(this.GP.license,this.GP.licenseUrl);case 2:n=t.sent,this.gD.YP(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.QP=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r,i?s=yE.HP(i):e||(s=yE.VP()),e||(e="https://validate.theoplayer.com/1/"+s.pC),u=this.ZP(),!s){t.next=14;break}if((o=this.qP.HC(s))!==Eb.yC){t.next=14;break}if(!this.JP(s.TC)||!this.JP(null==u?void 0:u.TC)){t.next=13;break}return t.next=10,this.$P(e);case 10:if(!(h=t.sent)){t.next=13;break}return t.abrupt("return",h);case 13:return t.abrupt("return",s);case 14:if(!u){t.next=25;break}if(this.qP.HC(u)!==Eb.yC){t.next=24;break}if(!this.JP(null==u?void 0:u.TC)){t.next=23;break}return t.next=20,this.$P(e);case 20:if(!(a=t.sent)){t.next=23;break}return t.abrupt("return",a);case 23:return t.abrupt("return",u);case 24:mE.sh("THEOplayer.license");case 25:return t.next=27,yE.FP(e,this.Bb);case 27:if(!(c=t.sent)){t.next=37;break}if(f=yE.HP(c),this.qP.HC(f)!==Eb.yC){t.next=34;break}return mE.Va("THEOplayer.license",c),t.abrupt("return",f);case 34:mE.sh("THEOplayer.license"),t.next=39;break;case 37:if(this.OC||!s||o!==Eb.mC||e!=="https://validate.theoplayer.com/1/"+s.pC){t.next=39;break}return t.abrupt("return",yE.convertLicenseToDummyLicense(s));case 39:if(!s&&!f){t.next=43;break}this.KP(null!=(v=s)?v:f,new Io(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=44;break;case 43:throw new Io(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 44:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.MC=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gD.TD();case 2:if(i=t.sent,!this.JP(i.TC)){t.next=9;break}return e=null!=(r=this.GP.licenseUrl)?r:"https://validate.theoplayer.com/1/"+i.pC,t.next=7,this.$P(e);case 7:(s=t.sent)&&(this.gD.YP(s),i=s);case 9:if(t.prev=9,(u=this.qP.HC(i))!==Eb.kC){t.next=16;break}throw o=Ib.NC,new Io(Db(o),Ub.FC(o));case 16:if(u!==Eb.mC){t.next=19;break}throw h=Ib.mC,new Io(Db(h),Ub.FC(h));case 19:this.qP.MC(n,i),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(9),this.tB(t.t0);case 25:case"end":return t.stop()}},t,this,[[9,22]])}));return function(n){return t.apply(this,arguments)}}(),i.$P=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,yE.FP(n,this.Bb);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=yE.HP(i),this.qP.HC(r)!==Eb.yC){t.next=11;break}return mE.Va("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.JP=function(t){return!t||Number(new Date)+2592e5+pE>=t},i.ZP=function(){var t=mE.ih("THEOplayer.license");if(t)return yE.HP(t)},i.KP=function(t,n){this.gD.YP(t),this.tB(n)},i.tB=function(t){throw gt(t.message),this.zP.RD(t.message),t},t}(),bE=function(){function t(){this.nB=void 0,this.iB=new ju}var n=t.prototype;return n.YP=function(t){this.nB=t,this.iB.wh()},n.TD=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.nB){t.next=2;break}return t.abrupt("return",E.resolve(this.nB));case 2:return t.next=4,this.iB.gh;case 4:return t.abrupt("return",this.nB);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"rB",get:function(){return this.nB}}]),t}(),TE=function(t){function n(){return t.call(this,"_l")||this}return F(n,t),n.prototype.tl=function(){return new EE},n}(pd),EE=function(t){function n(){return t.call(this,"change")||this}return F(n,t),n}(Es);function SE(t){var n,i={get fontFamily(){return t.eB},set fontFamily(n){t.eB=n},get fontColor(){return t.sB},set fontColor(n){t.sB=n},get fontSize(){return t.uB},set fontSize(n){t.uB=n},get backgroundColor(){return t.oB},set backgroundColor(n){t.oB=n},get windowColor(){return t.hB},set windowColor(n){t.hB=n},get edgeStyle(){return t.aB},set edgeStyle(n){t.aB=n},addEventListener:function(t,i){var r=zd(t,qd);n.Po(r,i)},removeEventListener:function(t,i){var r=zd(t,qd);n.Uo(r,i)}};return n=new Ts(i),t.Po(["_l"],function(t){return n.xo(t.Kd)}),i}var RE,IE,NE={eB:void 0,sB:void 0,uB:void 0,oB:void 0,hB:void 0,aB:void 0,cB:void 0},CE="THEOplayer.textTrackStyle.",DE=function(t){function n(){var i;return(i=t.call(this)||this).fB=void 0,i.$d=void 0,i.fB=n.vB(),i}return F(n,t),n.prototype.Bh=function(t){this.fB=te({},this.fB,t),n.dB(this.fB),this.xo(new TE)},n.vB=function(){var t=te({},NE);return t.eB=mE.ih(CE+"fontFamily")||t.eB,t.sB=mE.ih(CE+"fontColor")||t.sB,t.uB=mE.ih(CE+"fontSize")||t.uB,t.oB=mE.ih(CE+"backgroundColor")||t.oB,t.hB=mE.ih(CE+"windowColor")||t.hB,t.aB=mE.ih(CE+"edgeStyle")||t.aB,t},n.dB=function(t){mE.Va(CE+"fontFamily",t.eB||""),mE.Va(CE+"fontColor",t.sB||""),mE.Va(CE+"fontSize",t.uB||""),mE.Va(CE+"backgroundColor",t.oB||""),mE.Va(CE+"windowColor",t.hB||""),mE.Va(CE+"edgeStyle",t.aB||"")},M(n,[{key:"lB",get:function(){return this.fB}},{key:"eB",get:function(){return this.fB.eB},set:function(t){this.Bh({eB:t})}},{key:"sB",get:function(){return this.fB.sB},set:function(t){this.Bh({sB:t})}},{key:"uB",get:function(){return this.fB.uB},set:function(t){this.Bh({uB:t})}},{key:"oB",get:function(){return this.fB.oB},set:function(t){this.Bh({oB:t})}},{key:"hB",get:function(){return this.fB.hB},set:function(t){this.Bh({hB:t})}},{key:"aB",get:function(){return this.fB.aB},set:function(t){this.Bh({aB:t})}},{key:"cB",get:function(){return this.fB.cB}},{key:"Kd",get:function(){return this.$d||(this.$d=SE(this)),this.$d}}]),n}(bs),OE=function(t){function n(n,i){var r;(r=t.call(this)||this)._B=void 0,r.Wh=void 0,r.DP=void 0,r.gB=void 0,r.jd=void 0,r.lP=void 0,r.RP=void 0,r.wB=void 0,r.yB=void 0,r.VI=void 0,r.qP=void 0,r.mB=void 0,r.kB=void 0,r.HI=void 0,r.pB=!1,r.xw=!1,r.Py=void 0,r.AB=!1,r.bB=void 0,r.TB=void 0,r.EB=void 0,r.SB=void 0,r.RB=void 0,r.IB=function(t){if(!r.AB){r.AB=!0;var n=r._B,i=V_(t);r.DP.Ul=new oA(r.wy,i,t),_s(n.Lv())}},r.NB=function(t){r.xo(t.Kd)},r.CB=function(t){t.type!==Qo.uc&&t.type!==Qo.sc&&r.xo(t)};var e=Xd(i.uid);y(e)?r.Py=Z_++:r.Py=e,r.Wh=i;var s=T.jd,u=new bE;r.gB=new tT("2.90.1",s,u),r.jd=new WT(s,i.allowMixedContent),r.VI=new iE,r.qP=new Cb(i.isEmbeddable,"2.90.1",Tb()),r.RB=new AE(s,r.qP,r.gB,u,i,Tb()),r.RB.jP().catch(r.IB),r.mB=new pT(n),r.mB.Po("MD",r.NB),r.HI=new DE,r.lP=new hE,r.RP=new fE;var o=new uA(n,i,r.jd,r.VI,r.mB,r.HI);r.VI.Nx(o);var h=o;h=new cE(h,r.DB),h=new vE(h,r.IP),r._B=h,r.DP=new M_(r._B),r.DP.Lo(r.CB),r.SB=new dE(sn(r)),r.TB=new GT(r.DP,r.jd,r.VI),r.wB=new rT(sn(r)),r.kB=new IT(r.DP,i.allowNativeFullscreen),r.yB=new SA(r.kB),r.mB.Gh();var a=new wr(r.mB,r.HI,1,[W_.Rv]);return r.bB=new yr(a),r.EB=new wE,r}F(n,t);var i=n.prototype;return i.Jx=function(t){this.DP.V_=t,t||this.X_||this.$w()},i.dP=function(t){this.DP.j_=t},i.OB=function(){u_(this,RA,this)},i.qw=function(){this.DP.qw()},i.zw=function(){this.DP.zw()},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.RB.MC(n).catch(this.IB),r=xE(n),t.next=5,this.DP.Qw(r,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$w=function(){this.xw||(this.DP.$w(),this.bB.$w(),this.xw=!0)},i.II=function(){return this.yB.dN()===pA.FULLSCREEN},i.ny=function(){this.DP.ny()},i.iy=function(){this.DP.iy()},i.ey=function(){return this.DP.ey()},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.DP.Gw();case 2:return t.next=4,this.DP.Cl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.EB.Lv(),this.jd.Lv(),this.TB.Lv(),this.kB.Lv(),this.yB.Lv(),this.mB.Lv(),this.gB.Lv(),this.bB.Lv(),t.next=11,this.DP.Lv();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"xB",get:function(){return this.VI}},{key:"Uw",get:function(){return this.pB},set:function(t){this.pB=t,this.DP.Uw=t}},{key:"PB",get:function(){return this.bB}},{key:"Hw",get:function(){return this.DP.Hw}},{key:"BB",get:function(){return this.EB}},{key:"LB",get:function(){return this.mB}},{key:"Ww",get:function(){return this.DP.Ww}},{key:"Iw",get:function(){return this.SB}},{key:"MB",get:function(){return this.TB}},{key:"Xw",get:function(){return this.DP.Xw}},{key:"UB",get:function(){return this.HI}},{key:"Vw",get:function(){return this.DP.Vw}},{key:"_y",get:function(){return this.DP._y}},{key:"DB",get:function(){return this.lP}},{key:"IP",get:function(){return this.RP}},{key:"M_",get:function(){return this.DP.M_},set:function(t){this.DP.M_=t}},{key:"gy",get:function(){return this.DP.gy},set:function(t){this.DP.gy=t}},{key:"vy",get:function(){return this.DP.vy}},{key:"U_",get:function(){return this.DP.U_}},{key:"wy",get:function(){return this.DP.wy}},{key:"F_",get:function(){return this.DP.F_}},{key:"Qo",get:function(){return this.DP.Qo}},{key:"H_",get:function(){return this.DP.H_}},{key:"V_",get:function(){return this.DP.V_},set:function(t){var n=Boolean(t);this.Jx(n)}},{key:"X_",get:function(){return this.DP.X_}},{key:"W_",get:function(){return this.DP.W_},set:function(t){this.DP.W_=t}},{key:"Sy",get:function(){return this.DP.Sy}},{key:"Ry",get:function(){return this.DP.Ry},set:function(t){this.DP.Ry=Yp(t)}},{key:"n_",get:function(){return this.DP.n_}},{key:"Iy",get:function(){return this.DP.Iy}},{key:"q_",get:function(){return this.DP.q_}},{key:"Wl",get:function(){return this.Py}},{key:"z_",get:function(){return this.DP.z_}},{key:"G_",get:function(){return this.DP.G_}},{key:"j_",get:function(){return this.DP.j_},set:function(t){var n=zt(Number(t),0,1)||0;this.dP(n)}}]),n}(al);function xE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.FB=0]="FB",t[t.HB=1]="HB"}(RE||(RE={})),function(t){t[t.VB=0]="VB"}(IE||(IE={}));var PE={};function BE(t,n){(PE[n]||(PE[n]=[])).push(t)}function LE(t,n){var i=t;if(PE[n])for(var r=0,e=PE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var ME=[];function UE(t){ME.push(t)}var FE=t.CustomEvent;var HE=function(){try{var t=new FE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=s.createEvent("CustomEvent");return i.initCustomEvent(t,(null==n?void 0:n.bubbles)||!1,(null==n?void 0:n.cancelable)||!1,null==n?void 0:n.detail),i},VE=function(){function t(t,n){var i=this;this.DR=void 0,this.XB=void 0,this.WB=!1,this.qB=function(t){i.XB.SD(t.error,i.M_)},this.zB=function(){i.XB.bD(i.GB),i.DR.removeEventListener("playing",i.zB),i.WB=!1},this.jB=function(){i.WB||(i.DR.addEventListener("playing",i.zB),i.WB=!0)},this.XB=n,this.DR=t,this.DR.addEventListener("error",this.qB),this.DR.addEventListener("sourcechange",this.jB),this.jB()}return t.prototype.Cl=function(){},M(t,[{key:"M_",get:function(){var t=this.DR.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"GB",get:function(){return this.DR.src||""}}]),t}();UE(function(t){new VE(t.Kd,t.gB)});var XE="theoplayer-stored-volume",WE="theoplayer-stored-mutedstate";BE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=mE.XP(XE);(void 0===e||y(e))&&(e=1);var s=mE.WP(WE)||!1;r.j_=e,r.V_=s}return r}F(n,t);var i=n.prototype;return i.Jx=function(n){this.Wh.persistVolume&&mE.Va(WE,""+Boolean(n)),t.prototype.Jx.call(this,n)},i.dP=function(n){this.Wh.persistVolume&&mE.Va(XE,""+Number(n)),t.prototype.dP.call(this,n)},n}(t)},RE.HB);var qE=new(function(){function t(){this.QB=[],this.$d=void 0}var n=t.prototype;return n.Sl=function(t){return this.QB[t]},n.YB=function(t){this.QB.push(t),this.Kd.push(t.Kd)},n.Ph=function(t){var n=this.QB.indexOf(t);n<0||(Ye(this.QB,n),this.$d&&Ye(this.$d,n))},n.ZB=function(t){for(var n=0,i=this.QB;n<i.length;n++){var r=i[n];if(r.Wl===t)return r}},M(t,[{key:"Ol",get:function(){return this.QB.length}},{key:"Kd",get:function(){return this.$d||(this.$d=function(t){for(var n=[],i=0;i<t.Ol;i++)n[i]=t.Sl(i).Kd;return n.getPlayerByUID=function(n){var i=t.ZB(n);return i&&i.Kd},n}(this)),this.$d}}]),t}()),zE=function(){function t(t){var n=this;this.JB=[],this.$B=void 0,this.Cd=new es,this.KB=void 0,this.Cn=function(){return 0===n.JB.length?n.KB?GE(n.KB,n.Cd.Io).then(n.tL,n.tL):n.tL():n.JB.shift()().then(n.Cn)},this.tL=function(){if(0!==n.JB.length)return n.Cn();n.$B=void 0},this.KB=t}var n=t.prototype;return n.nL=function(t,n){var i=this;return new E(function(r){var e=new es;e.So(i.Cd.Io),n&&e.So(n);var s=function(){e.mo()};i.JB.push(function(){var n=GE(t,e.Io);return r(n),n.then(s,s)}),i.$B||(i.$B=i.Cn())})},n.Eo=function(){return this.iL(!0)},n.Lv=function(){return this.KB=void 0,this.iL(!1)},n.iL=function(t){var n=this.$B;return this.Cd.Eo(),t&&(this.Cd=new es),E.resolve(n)},t}();function GE(t,n){return new E(function(i){return i(t(n))})}var jE,QE=function(t){function n(n){var i;return(i=t.call(this,Qo.kc)||this).source=n,i}return F(n,t),n}(Es),YE=function(t){function n(){var n;return(n=t.call(this)||this).DI=void 0,n.xI=void 0,n.LI=void 0,n.BI=void 0,n.DI=0,n.xI=!0,n.LI=!1,n.BI=1,n}F(n,t);var i=n.prototype;return i.qw=function(){this.xI&&(this.xI=!1,this.xo(new Fl(this.M_)),this.xo(new Ky(this.M_)))},i.zw=function(){this.xI||(this.xI=!0,this.xo(new Gl(this.M_,this.gy)),this.xo(new Ul(this.M_)))},i.Cl=function(){this.DI=0,this.LI=!1,this.BI=1,this.zw(),this.xo(new Ml(this.DI))},i.Lv=function(){this.Mo()},i.iy=function(){},i.ny=function(){},M(n,[{key:"gy",get:function(){},set:function(t){}},{key:"M_",get:function(){return this.DI},set:function(t){this.LI&&this.DI===t||(this.DI=t,this.LI=!0,this.xo(new Yl(this.M_)))}},{key:"X_",get:function(){return this.xI}},{key:"W_",get:function(){return this.BI},set:function(t){this.BI!==t&&(this.BI=t,this.xo(new zl(this.M_,this.W_)))}},{key:"n_",get:function(){return yl.S_}},{key:"q_",get:function(){return this.LI}}]),n}(hl),ZE=function(t){function n(){return t.call(this,Qo.Za)||this}return F(n,t),n}(Es),JE={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},$E={visibility:"hidden"},KE={visibility:"visible"},tS=function(){function t(t){var n,i=this;this.ER=void 0,this.DR=void 0,this.rL=!1,this.eL=void 0,this.sL=void 0,this.uL=function(t){var n;i.rL=!1,i.eL=null==(n=t.source)?void 0:n.poster,i.Bh()},this.nT=function(){i.rL=!0,i.iy()},this.DR=t,this.LR(),this.ER=((n=kr&&kr.document&&kr.document.createElement("div")).className="theoplayer-poster",Nr(JE,n),n),t.wy.appendChild(this.ER)}var n=t.prototype;return n.Bh=function(){var t=this.DR.X_,n=this.rL;this.vv?this.ER.style.backgroundImage='url("'+this.vv.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.ER.style.backgroundImage="",t&&this.vv&&!n?this.ny():this.iy()},n.ny=function(){Nr($E,this.DR.wy),Nr(KE,this.ER)},n.iy=function(){Nr($E,this.ER),Nr(KE,this.DR.wy)},n.LR=function(){this.DR.Po("sourcechange",this.uL),this.DR.Po("play",this.nT)},n.Lv=function(){this.DR.Uo("sourcechange",this.uL),this.DR.Uo("play",this.nT),Sr(this.ER)},M(t,[{key:"vv",get:function(){return void 0!==this.eL?this.eL:void 0!==this.sL?this.sL:void 0}},{key:"oL",set:function(t){this.sL=t,this.Bh()}}]),t}();function nS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).DR=void 0,e.hL=void 0,e.aL=void 0,e.cL=void 0,e.fL=void 0,e.vL=void 0,e.dL=void 0,e.lL=void 0,e.PR=void 0,e.xR=void 0,e.$d=void 0,e._L=function(t){t.type!==Qo.cc&&e.lL.push(t)},e.hL=new t(i,r),e.aL=new YE,e.DR=e.hL,e.cL=new tS(sn(e)),e.vL=new zE,e.dL=!1,e.lL=[],e.PR=!0,e.xR=void 0,e.LR(),e}F(i,n);var r=i.prototype;return r.nL=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.vL.nL(n,i).catch(as));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.gL=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(i),this.hL.Lo(this._L),t.next=4,this.hL.Qw(n,i);case 4:this.hL.Vo(this._L);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.wL=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.jw())&&!ib(n)&&this.Uw&&this.X_){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Wh.mutedAutoplay,t.next=6,this.PB.yL();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.mL(),t.abrupt("break",14);case 12:return(this.V_||i===Hl.ALL)&&(this.V_=!0,this.qw()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Qw=function(t){var n=this,i=this.xR;i&&!ib(i)&&this.xo(new Ml(0,0)),this.Cl(),this.xR=t,_s(this.nL(function(){var i=E.coroutine(Kr.mark(function i(r){return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return os(r),i.prev=1,i.next=4,n.gL(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.xR=void 0,i.t0;case 10:return i.next=12,n.kL();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.kL=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.pL(this.hL),this.xo(new QE(this.jw())),t.next=4,this.wL();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.Wx=function(t){this.DR.M_=t},r.jx=function(){return this.hL.Qo},r.Qx=function(){return this.hL.H_},r.qw=function(){this.DR.qw()},r.mL=function(){this.V_||this.$w(),this.qw()},r.$w=function(){this.hL.$w()},r.zw=function(){this.DR.zw()},r.Gw=function(){this.Qw(void 0)},r.ny=function(){this.PR=!0,this.DR.ny()},r.iy=function(){this.PR=!1,this.DR.iy()},r.OB=function(){this.hL.OB()},r.dP=function(t){this.hL.dP(t)},r.Jx=function(t){this.hL.Jx(t)},r.AL=function(t){this.fL=t,t.YB(this)},r.II=function(){return this.hL.II()},r.jw=function(){return this.xR},r.ey=function(){return this.hL.ey()},r.Xx=function(){return this.hL.M_},r.qx=function(){return this.hL.U_},r.Ux=function(){return this.hL._y},r.iP=function(){return this.hL.Sy},r.uP=function(){return this.hL.Iy},r.Cl=function(){var t=this;this.xR=void 0,Je(this.lL),this.aL.Cl(),this.pL(this.aL),this.vL.Eo(),_s(this.vL.nL(function(){var n=E.coroutine(Kr.mark(function n(i){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return os(i),n.next=3,t.hL.Cl();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Lv=function(){var t=this;this.xo(new ZE),this.cL.Lv(),this.MR(),this.Cl(),_s(this.nL(E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.hL.Lv();case 2:t.fL&&(t.fL.Ph(t),t.fL=void 0),t.vL.Lv();case 4:case"end":return n.stop()}},n)})))),this.Mo()},r.pL=function(t){if(this.DR!==t){var n=this.DR.X_,i=this.DR.M_,r=this.DR.W_,e=this.DR.q_;this.MR(),t===this.hL?((e||t.M_!==i)&&(t.M_=i),t.W_!==r&&(t.W_=r),n?t.zw():t.qw()):this.Wh.retainPlaybackRateOnSourceChange?t.W_=r:1!==r&&this.xo(new zl(this.Xx(),1)),this.DR=t,this.LR();for(var s=0,u=this.lL;s<u.length;s++){var o=u[s];this.xo(o)}Je(this.lL),this.PR?t.ny():t.iy()}},r.LR=function(){this.DR.Lo(this.Oo)},r.MR=function(){this.DR.Vo(this.Oo)},r.tl=function(){return t=this,r=function(n){i=n;var r=vb(n,t.Wh);t.Qw(r)},e={get abr(){return t.xB.Kd},get audioTracks(){return t.Hw.Kd},get autoplay(){return t.Uw},set autoplay(n){t.Uw=Boolean(n)},get buffered(){return t.Ux()},get canvas(){return t.wB.Kd},get clip(){return t.DB.Kd},get currentProgramDateTime(){var n;return null!=(n=t.gy)?n:null},set currentProgramDateTime(n){t.gy=null!=n?n:void 0},get currentTime(){return t.Xx()},set currentTime(n){t.Wx(Number(n))},get duration(){return t.qx()},get element(){return t.wy},get ended(){return t.F_},get error(){return t.jx()},get errorObject(){return t.Qx()},get loop(){return t.IP.IP},set loop(n){t.IP.IP=Boolean(n)},get metrics(){return t.Iw.Kd},get muted(){return t.V_},set muted(n){t.Jx(n)},get network(){return t.MB.Kd},get paused(){return t.X_},get playbackRate(){return t.W_},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.W_=i},get played(){return t.iP()},get poster(){return t.bL},set poster(n){t.bL=qd(n)},get preload(){return t.Ry},set preload(n){t.Ry=n},get presentation(){return t.yB.Kd},get readyState(){return t.n_},get seekable(){return t.uP()},get seeking(){return t.q_},get source(){return i},set source(t){r(t)},get src(){return rb(t.jw())},set src(t){r({sources:t})},get textTracks(){return t.Xw.Kd},get textTrackStyle(){return t.UB.Kd},get uid(){return t.Wl},get videoHeight(){return t.z_},get videoTracks(){return t.Vw.Kd},get videoWidth(){return t.G_},get volume(){return t.j_},set volume(n){t.dP(Number(n))},destroy:function(){t.Lv(),t=null,i=void 0},play:function(){t.mL()},pause:function(){t.zw()},stop:function(){i=void 0,t.Gw()},prepareWithUserAction:function(){t.$w()},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)},setSource:function(t){r(t)}},(n=new TA(e,!0)).KI(t),e;var t,n,i,r,e},M(i,[{key:"gB",get:function(){return this.hL.gB}},{key:"wB",get:function(){return this.hL.wB}},{key:"Wh",get:function(){return this.hL.Wh}},{key:"_B",get:function(){return this.hL._B}},{key:"jd",get:function(){return this.hL.jd}},{key:"ZS",get:function(){return this.hL.kB}},{key:"yB",get:function(){return this.hL.yB}},{key:"mB",get:function(){return this.hL.mB}},{key:"DP",get:function(){return this.hL.DP}},{key:"xB",get:function(){return this.hL.xB}},{key:"Uw",get:function(){return this.hL.Uw},set:function(t){this.hL.Uw=t,this.wL()}},{key:"PB",get:function(){return this.hL.PB}},{key:"Hw",get:function(){return this.hL.Hw}},{key:"BB",get:function(){return this.hL.BB}},{key:"LB",get:function(){return this.hL.mB}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Ww",get:function(){return this.hL.Ww}},{key:"Iw",get:function(){return this.hL.Iw}},{key:"MB",get:function(){return this.hL.MB}},{key:"Xw",get:function(){return this.hL.Xw}},{key:"UB",get:function(){return this.hL.UB}},{key:"Vw",get:function(){return this.hL.Vw}},{key:"DB",get:function(){return this.hL.DB}},{key:"IP",get:function(){return this.hL.IP}},{key:"gy",get:function(){return this.DR.gy},set:function(t){this.DR.gy=t}},{key:"vy",get:function(){return this.hL.vy}},{key:"wy",get:function(){return this.hL.wy}},{key:"F_",get:function(){return this.hL.F_}},{key:"V_",get:function(){return this.hL.V_},set:function(t){this.hL.V_=t}},{key:"X_",get:function(){return this.DR.X_}},{key:"bL",get:function(){return this.cL.vv||""},set:function(t){this.cL.oL=t}},{key:"W_",get:function(){return this.hL.W_},set:function(t){this.DR.W_=t}},{key:"Ry",get:function(){return this.hL.Ry},set:function(t){this.hL.Ry=Yp(t)}},{key:"n_",get:function(){return this.DR.n_}},{key:"q_",get:function(){return this.DR.q_}},{key:"Wl",get:function(){return this.hL.Wl}},{key:"z_",get:function(){return this.hL.z_}},{key:"G_",get:function(){return this.hL.G_}},{key:"j_",get:function(){return this.hL.j_},set:function(t){this.hL.j_=t}}]),i}(al)}function iS(t,n){var i=r_(n),r=new(jE||(jE=LE(jE=nS(OE),RE.FB),jE=LE(jE,RE.HB)),jE)(t,i),e=r.Kd;return r.OB(),r.AL(qE),l.defineProperty(e,"constructor",{value:iS}),e=Pd(e),function(t){for(var n=0;n<ME.length;n++)(0,ME[n])(t)}(r),e}ls(function(){t.dispatchEvent&&t.dispatchEvent(HE("theoplayerready"))});var rS,eS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return Xs(t)},n.decode=function(t){return Hs(t)},t}())},sS=qE.Kd,uS=Cm.QT.registerContentProtectionIntegration.bind(Cm.QT),oS=(Qo.hc,Qo.oc,Ll.L_,Qo.pc,Qo.ac,Qo.ic,Qo.lc,Qo.dc,Qo.Ka,Qo.cc,Qo.Ac,Qo.Ja,Ll.gl,Qo.vc,Kd.$l,As.Yo,As.Jo,Qo.Qa,Qo.ja,Qo.bc,{TL:!1,EL:50}),hS=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"];!function(t){t.eC="SL"}(rS||(rS={}));var aS,cS=function(t){function i(n,i,r,e){var s;(s=t.call(this)||this)._a=void 0,s.cS=void 0,s.Ra=void 0,s.RL=!1,s.IL=new ju,s.NL=!1,s.vL=new zE,s.CL=void 0,s.ho=void 0,s.Vh=void 0,s.DL=function(){s.NL=!0},s.OL=function(){s.xL(!0)},s._a=n,s.cS=i,s.Ra=i.MS,s.CL=r,s.ho=e,s.Ra.addEventListener("loadedmetadata",s.DL);for(var u=0;u<hS.length;u++){var o=hS[u];s.Ra.addEventListener(o,s.OL)}return s}F(i,t);var r=i.prototype;return r.PL=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ho.fo(n.ro,i);case 2:return r=t.sent,t.next=5,r.Zh();case 5:return e=t.sent,t.next=8,this.BL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.LL=function(t){var n=this.Vh;return n?0!==t.VS.length&&t.VS.some(function(t){return t.Xh.ro===n.Xh}):0===t.VS.length||!this.NL},r.ML=function(t){return this.CL.ML(t),this._a=t,E.resolve()},r.mo=function(){var t=E.coroutine(Kr.mark(function t(){var n,i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(this.Mo(),this.Ra.removeEventListener("loadedmetadata",this.DL),n=0;n<hS.length;n++)i=hS[n],this.Ra.removeEventListener(i,this.OL);return t.next=5,this.vL.Lv();case 5:return t.next=7,this.UL();case 7:return t.next=9,this.CL.Cl();case 9:return t.next=11,this.BL(void 0);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.xL=function(t){t!==this.RL&&(this.RL=t,t?this.IL.wh(void 0):this.IL=new ju)},r.BL=function(t){var n=this;return this.vL.nL(function(){return n.FL(t)})},r.FL=function(){var t=E.coroutine(Kr.mark(function t(i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Ra.src){t.next=4;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Ra.src){t.next=6;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.RL){t.next=9;break}return t.next=9,this.IL.gh;case 9:if(!(r=this.Vh)){t.next=14;break}return t.next=13,r.jh(this.Ra);case 13:this.Vh=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Gh(this.Ra);case 17:this.Vh=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.Qw=function(t){var n=this;return this.vL.nL(function(){return n.HL(t)})},r.HL=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xL(!1),i=this.cS.W_,this.Ra.src=n,this.cS.W_=i;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.xh=function(){var t=this;return this.vL.nL(function(){return t.Od()})},r.Od=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Ra.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.UL=function(){var t=this;return this.vL.nL(function(){return t.VL()})},r.VL=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.xL(!1),xr(this.Ra);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"Hw",get:function(){throw new v("Not implemented")}},{key:"Wh",get:function(){return this._a}},{key:"MS",get:function(){return this.Ra}},{key:"Vw",get:function(){throw new v("Not implemented")}}]),i}(bs),fS=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Nx=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Wh,t.t0=n.WS,t.next=t.t0===ll.k_?4:t.t0===ll.p_?4:(t.t0,ll.A_,6);break;case 4:return this.Ra.setAttribute("crossorigin",n.WS),t.abrupt("break",8);case 6:return this.Ra.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.Ry?this.Ra.preload=n.Ry:this.Ra.preload=jp.GE,void 0!==n.qS?this.Ra.title=n.qS:Dr(this.Ra),t.next=12,this.Qw(n.e_);case 12:this.CL.xh(this,n);case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.LL=function(t){return!1},i.ML=function(t){return E.resolve(void 0)},i.mo=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Dr(this.Ra),n.next=3,t.prototype.mo.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n.XL=function(t,n){return!!n.canPlayType&&Boolean(n.canPlayType(t.Gf))},M(n,[{key:"_y",get:function(){return nA.bI(this.Ra.buffered)}},{key:"U_",get:function(){return this.Ra.duration}},{key:"WL",get:function(){var t=this.U_;if(!isFinite(t))return!1;var n=this._y;return 0!==n.Ol&&t-n.zR(n.Ol-1)<1/6}},{key:"Ry",get:function(){return this.Ra.preload},set:function(t){this.Ra.preload=t}},{key:"Iy",get:function(){return nA.bI(this.Ra.seekable)}},{key:"qL",get:function(){return this._y}},{key:"zL",get:function(){if(Or(this.Ra)&&(this.Ra.videoWidth>0||this.Ra.videoHeight>0))return this._y}}]),n}(cS),vS=function(t){function n(n){var i;return(i=t.call(this,Qo.ac)||this).currentTime=n,i}return F(n,t),n}(Es),dS=function(t){function n(){return t.call(this,Qo.ic)||this}return F(n,t),n}(Es);!function(t){t.GL="jL"}(aS||(aS={}));var lS,_S;aS.GL;!function(t){t[t.QL=0]="QL",t[t.Ic=1]="Ic",t[t.YL=2]="YL"}(lS||(lS={})),function(t){t.ZL="JL"}(_S||(_S={}));var gS=function(t){function n(n){var i;return(i=t.call(this,_S.ZL)||this).$L=n,i}return F(n,t),n}(Es),wS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).KL=nA.SI(),n}F(n,t);var i=n.prototype;return i.tM=function(t,n){var i=new nA([t,n]);this.KL=this.KL.hI(i),this.xo(new gS(i))},i.nM=function(t,n){this.KL=this.KL.cI(new nA([t,n]))},i.Cl=function(){this.KL=nA.SI()},i.Lv=function(){this.Mo()},M(n,[{key:"iM",get:function(){return this.KL}}]),n}(bs);function yS(t,n){return void 0===n&&(n=new Wc({highWaterMark:1/0})),new Pc(new kS(t,n),{highWaterMark:0})}var mS,kS=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,s=n.highWaterMark,u=void 0===s?1:s;this.Fc=void 0,this.rM=void 0,this.eM=void 0,this.Fn=[],this.Yc=0,this.iB=void 0,this.sM=!1,this.uM=void 0,this.oM=function(t){return t.done?(i.Xn(),void i.iB.close()):(i.Fn.push(t.value),i.Yc+=i.rM(t.value),i.sM&&i.Xn(),i.hM()?i.Fc.read().then(i.oM):void 0)},this.yd=function(t){i.Xn(),i.iB.error(t)},this.Fc=t.getReader(),this.rM=e,this.eM=u}var n=t.prototype;return n.start=function(t){this.iB=t,this.hM()&&this.aM()},n.pull=function(){this.Fn.length>0?this.Xn():this.sM=!0,this.hM()&&this.aM()},n.cancel=function(t){return Je(this.Fn),this.Yc=0,this.sM=!1,this.Fc.cancel(t)},n.Xn=function(){if(0!==this.Fn.length){var t=this.Fn;this.Fn=[],this.Yc=0,this.sM=!1,this.iB.enqueue(t)}},n.hM=function(){return!!this.sM||this.eM-this.Yc>0},n.aM=function(){var t=this;if(!this.uM){var n=this.Fc.read().then(this.oM).catch(this.yd);this.uM=n;var i=function(){t.uM===n&&(t.uM=void 0)};n.then(i,i)}},t}(),pS=function(){function t(){this.cM=[],this.uh=0}var n=t.prototype;return n.YB=function(t){this.cM.push(t),this.uh+=t.byteLength},n.fM=function(t){if(this.uh<=t)return this.vM();for(var n=this.cM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.slice(0,r);if(r<n.length&&i<t){var s=t-i;0,e.push(Mu(n[r],0,s)),i+=s}return{cM:e,uh:i}},n.dM=function(t){var n=this.fM(t);return 1===n.cM.length?n.cM[0]:js(n.cM,n.uh)},n.vM=function(){return{cM:this.cM,uh:this.uh}},n.lM=function(t){if(this.uh<=t)return this._M();for(var n=this.cM,i=0,r=0;r<n.length&&i+n[r].byteLength<=t;)i+=n[r].byteLength,r++;var e=n.splice(0,r);if(n.length>0&&i<t){var s=t-i;0,e.push(Mu(n[0],0,s)),n[0]=Mu(n[0],s),i+=s}return this.uh-=i,{cM:e,uh:i}},n.gM=function(t){var n=this.lM(t);return 1===n.cM.length?n.cM[0]:js(n.cM,n.uh)},n._M=function(){var t=this.vM();return this.cM=[],this.uh=0,t},n.wM=function(){var t=1===this.cM.length?this.cM[0]:js(this.cM,this.uh);return this.cM=[],this.uh=0,t},t}();!function(t){t[t.yM=0]="yM",t[t.mM=1]="mM",t[t.kM=2]="kM"}(mS||(mS={}));var AS=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).iB=void 0,n.pM=1e5,n.AM=void 0,n.bM=void 0,n}F(n,t);var r=n.prototype;return r.start=function(t){this.iB=t},r.transform=function(t){this.TM(t)},r.flush=function(){this.EM()},r.SM=function(t){return t===Hg.Dm||t===Hg.rk||t===Hg.dk},r.RM=function(t){var n=this.IM(t);this.iB.enqueue(n)},r.NM=function(t){this.iB.enqueue(t)},r.IM=function(t){var n=Hu(t.Ds.Ds);switch(t.io){case"moov":return this.CM(n);case"sidx":return this.DM(n);case"moof":return this.OM(n)}return n},r.CM=function(t){for(var n=i.extractIsobmffMovieBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.MovieHeaderBoxV0?this.xM(s):s instanceof i.MovieHeaderBoxV1?this.PM(s):s instanceof i.TrackBox&&this.BM(s)}for(var u=0,o=n.boxes;u<o.length;u++){var h=o[u];h instanceof i.MovieExtendsBox&&this.LM(h)}return n.serialize().join()},r.xM=function(t){this.AM=t.timescale,t.timescale=this.pM,t.duration=t.duration/this.MM*this.pM},r.PM=function(t){this.AM=t.timescale,t.timescale=this.pM,t.duration=Wt.fromNumber(t.duration.toNumber()/this.MM*this.pM)},r.BM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackHeaderBoxV0?this.UM(e):e instanceof i.TrackHeaderBoxV1?this.FM(e):e instanceof i.MediaBox?this.HM(e):e instanceof i.EditBox&&this.VM(e)}},r.UM=function(t){t.duration=t.duration/this.MM*this.pM},r.FM=function(t){t.duration=Wt.fromNumber(t.duration.toNumber()/this.MM*this.pM)},r.HM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.MediaHeaderBoxV0?this.XM(e):e instanceof i.MediaHeaderBoxV1&&this.WM(e)}},r.XM=function(t){this.bM=t.timescale,t.timescale=this.pM,t.duration=t.duration/this.qM*this.pM},r.WM=function(t){this.bM=t.timescale,t.timescale=this.pM,t.duration=Wt.fromNumber(t.duration.toNumber()/this.qM*this.pM)},r.VM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.EditListBoxV0?this.zM(e):e instanceof i.EditListBoxV1&&this.GM(e)}},r.zM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=r.mediaTime/this.MM*this.pM,r.segmentDuration=r.segmentDuration/this.MM*this.pM}},r.GM=function(t){for(var n=0,i=t.entries;n<i.length;n++){var r=i[n];r.mediaTime=Wt.fromNumber(r.mediaTime.toNumber()/this.MM*this.pM),r.segmentDuration=Wt.fromNumber(r.segmentDuration.toNumber()/this.MM*this.pM)}},r.LM=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackExtendsBox?this.jM(e):e instanceof i.MovieExtendsHeaderBoxV0?this.QM(e):e instanceof i.MovieExtendsHeaderBoxV1&&this.YM(e)}},r.jM=function(t){t.defaultSampleDuration=t.defaultSampleDuration/this.qM*this.pM},r.QM=function(t){t.fragmentDuration=t.fragmentDuration/this.MM*this.pM},r.YM=function(t){t.fragmentDuration=Wt.fromNumber(t.fragmentDuration.toNumber()/this.MM*this.pM)},r.DM=function(t){var n=i.extractIsobmffSegmentIndexBox(t);return n instanceof i.SegmentIndexBoxV0?this.ZM(n):this.JM(n),n.serialize().join()},r.ZM=function(t){var n=t.timescale;t.timescale=this.pM,t.earliestPresentationTime=t.earliestPresentationTime/n*this.pM;for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.pM}},r.JM=function(t){var n=t.timescale;t.timescale=this.pM,t.earliestPresentationTime=Wt.fromNumber(t.earliestPresentationTime.toNumber()/n*this.pM);for(var i=0,r=t.references;i<r.length;i++){var e=r[i];e.subsegmentDuration=e.subsegmentDuration/n*this.pM}},r.OM=function(t){for(var n=i.extractIsobmffMovieFragmentBox(t),r=0,e=n.boxes;r<e.length;r++){var s=e[r];s instanceof i.TrackFragmentBox&&this.$M(s)}return n.serialize().join()},r.$M=function(t){for(var n=0,r=t.boxes;n<r.length;n++){var e=r[n];e instanceof i.TrackFragmentHeaderBox?this.KM(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV0?this.tU(e):e instanceof i.TrackFragmentBaseMediaDecodeTimeBoxV1?this.nU(e):e instanceof i.TrackRunBox&&this.iU(e)}},r.KM=function(t){void 0!==t.defaultSampleDuration&&(t.defaultSampleDuration=t.defaultSampleDuration/this.qM*this.pM)},r.tU=function(t){t.baseMediaDecodeTime=t.baseMediaDecodeTime/this.qM*this.pM},r.nU=function(t){t.baseMediaDecodeTime=Wt.fromNumber(t.baseMediaDecodeTime.toNumber()/this.qM*this.pM)},r.iU=function(t){for(var n=0,i=0,r=0,e=t.samples;r<e.length;r++){var s=e[r];if(void 0!==s.duration){var u=(i+=s.duration)/this.qM*this.pM;s.duration=u-n,n=u}void 0!==s.compositionTimeOffset&&(s.compositionTimeOffset=s.compositionTimeOffset/this.qM*this.pM)}},M(n,[{key:"MM",get:function(){if(void 0===this.AM)throw new v("Expected to have found a movie header timescale.");return this.AM}},{key:"qM",get:function(){if(void 0===this.bM)throw new v("Expected to have found a media header timescale.");return this.bM}}]),n}(function(){var t=n.prototype;function n(){this.Fn=new pS,this.Hc=mS.yM,this.rU=0,this.eU=0,this.sU()}return t.uU=function(t,n){},t.oU=function(){},t.TM=function(t){this.Fn.YB(t),this.hU(!1)},t.EM=function(){this.hU(!0)},t.aU=function(){return this.Hc!==mS.yM||0!==this.Fn.uh},t.hU=function(t){for(;0!==this.Fn.uh;){if(!t&&this.rU>this.Fn.uh)return;switch(this.Hc){case mS.yM:this.cU(t);break;case mS.mM:this.fU(t);break;case mS.kM:this.vU(t)}}},t.sU=function(){this.Hc=mS.yM,this.rU=8},t.cU=function(t){var n=Fu(this.Fn.dM(this.rU)),i=new zu,r=Cw.Wk(n,i);if(!r.Uk)return this.rU=r.zk,void(t&&this.rU>this.Fn.uh&&this.dU(this.Fn.uh));var e=r.qk.io,s=r.qk.uh;0===s&&(s=1/0),this.uU(e,s),this.SM(e)?this.lU(s):this.dU(s)},t.lU=function(t){this.Hc=mS.mM,this.rU=t},t.fU=function(t){var n=Fu(this.Fn.gM(this.rU)),i=new zu,r=Cw.Fk(n,i,!t);if(!r.Uk)throw new Nw(i.vh);this.oU(),this.RM(r.Hk),this.sU()},t.dU=function(t){this.Hc=mS.kM,this.rU=0,this.eU=t},t.vU=function(t){var n=this.Fn.lM(this.eU);this.eU-=n.uh;for(var i=0,r=n.cM;i<r.length;i++){var e=r[i];this.NM(e)}(0===this.eU||t&&this.eU===1/0)&&(this.oU(),this.sU())},n}()),bS=function(){function t(){this._U=void 0,this._U=new AS}return t.prototype.gU=function(t){return t.pipeThrough(new qc(this._U))},t}(),TS=20,ES=Y.Ee&&Y.Se<3,SS=Y.Pe,RS=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).wU=void 0,e.yU=void 0,e.mU=void 0,e.Ex=TS,e.Sx=jT,e.kU=!1,e.pU=!1,e.AU=void 0,e.bU=new es,e.TU=void 0,e.EU=!1,e.SU=void 0,e.RU=function(){e.kU=!1},e.wU=i,e.yU=n,e.mU=r,e.mU.addEventListener("updateend",e.RU),ES&&(e.TU=new bS),e}F(n,t);var i=n.prototype;return i.IU=function(t,n,i){var r=this;switch(t.io){case lS.QL:case lS.Ic:return this.NU(function(i){return r.CU(t,n,i)},i);case lS.YL:throw new v("Opaque segments are not supported on web.")}},i.DU=function(t,n){var i=this;switch(t.io){case lS.QL:return this.NU(function(n){return i.OU(t,n)},n);case lS.Ic:throw new v("Streaming initialization segments are not supported on web.");case lS.YL:throw new v("Opaque initialization segments are not supported on web.")}},i.OU=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xU(n,void 0,i);case 2:SS&&(this.EU=!1,this.SU=n);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.CU=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(SS&&this.EU&&this.SU)){t.next=3;break}return t.next=3,this.OU(this.SU,r);case 3:return t.prev=3,os(r),t.next=7,this.xU(n,i,r);case 7:this.xo(new Es(aS.GL));case 8:return t.prev=8,n.io===lS.Ic&&n.Ds.cancel(new ss).catch(R),t.finish(8);case 11:case"end":return t.stop()}},t,this,[[3,,8,11]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xU=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:os(r),i&&this.PU(i),t.t0=n.io,t.next=t.t0===lS.QL?5:t.t0===lS.Ic?13:21;break;case 5:if(!ES){t.next=10;break}return e=this.TU.gU(sf(n.Ds)),t.next=9,this.BU(e,r);case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,this.LU(n.Ds);case 12:return t.abrupt("return",t.sent);case 13:if(!ES){t.next=18;break}return s=this.TU.gU(n.Ds),t.next=17,this.BU(s,r);case 17:return t.abrupt("return",t.sent);case 18:return t.next=20,this.BU(n.Ds,r);case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.BU=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=this.yU._y,e=yS(n),s=e.getReader(),u=!1,t.prev=4;case 5:return t.next=8,cs(s.read(),i);case 8:if(!(o=t.sent).done){t.next=12;break}return u=!1,t.abrupt("break",19);case 12:return os(i),h=Gs(o.value),u=!0,t.next=17,this.LU(h);case 17:t.next=5;break;case 19:t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(4),s.cancel(t.t0).catch(R),!u){t.next=35;break}return t.next=27,this.MU();case 27:a=this.yU._y.iI(r.rI()),c=0;case 29:if(!(c<a.Ol)){t.next=35;break}return t.next=32,this.UU(a.WR(c),a.zR(c));case 32:c++,t.next=29;break;case 35:throw t.t0;case 36:case"end":return t.stop()}},t,this,[[4,21]])}));return function(n,i){return t.apply(this,arguments)}}(),i.FU=function(t,n){var i=this;return this.NU(function(){return i.HU(t,n)})},i.HU=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mU.appendWindowStart===n&&this.mU.appendWindowEnd===i){t.next=6;break}return t.next=3,this.MU();case 3:this.mU.appendWindowStart=0,this.mU.appendWindowEnd=i,this.mU.appendWindowStart=n;case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.PU=function(t){this.mU.timestampOffset!==t.Em&&(this.mU.timestampOffset=t.Em)},i.LU=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mU.appendBuffer(n),this.pU=!0,t.next=4,this.VU();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.XU=function(t,n,i){var r=this;return this.NU(function(i){return r.UU(t,n,i)},i)},i.UU=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(r),this.mU.remove(n,i),t.next=4,this.VU();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.VU=function(){var t=this,n=this.yU._y;return new E(function(i,r){var e,s=!1,u=function(){s=!0},o=function(){s=!1,e="error"},h=function(){s=!1,e="aborted"},a=function(){c(),s&&!e?(n.gI(t.yU._y)||t.xo(new Es(aS.GL)),i()):r(new v(e))},c=function(){t.mU.removeEventListener("update",u),t.mU.removeEventListener("error",o),t.mU.removeEventListener("abort",h),t.mU.removeEventListener("updateend",a)};t.mU.addEventListener("update",u),t.mU.addEventListener("error",o),t.mU.addEventListener("abort",h),t.mU.addEventListener("updateend",a)})},i.WU=function(){var t=this;return this.NU(function(){return t.MU()})},i.MU=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.wU.n_===WS.qv){t.next=2;break}return t.abrupt("return");case 2:SS&&(this.EU=!0),this.mU.updating&&(this.kU=!0);try{this.mU.abort()}catch(t){0,this.kU=!1}if(!this.kO){t.next=8;break}return t.next=8,this.VU().catch(R);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qU=function(){return"function"==typeof this.mU.changeType},i.zU=function(t){this.GU(),this.wU.n_!==WS.jU&&this.mU.changeType(t)},i.QU=function(){this.wU.n_!==WS.Ka||this.AU||this.kO||(this.mU.timestampOffset=this.mU.timestampOffset,this.wU.YU())},i.NU=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GU(),(r=new es).So(this.bU.Io),i&&r.So(i),t.prev=4,this.AU=n(r.Io),t.next=8,this.AU;case 8:if(this.wU.YU(),!this.kO){t.next=12;break}return t.next=12,this.VU();case 12:return t.prev=12,this.AU=void 0,r.mo(),t.finish(12);case 16:case"end":return t.stop()}},t,this,[[4,,12,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.GU=function(){if(this.AU)throw new v("Internal error")},i.mo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Mo(),this.bU.Eo(),!this.AU){t.next=6;break}return t.next=5,this.AU.catch(R);case 5:this.AU=void 0;case 6:this.mU.removeEventListener("updateend",this.RU);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"wx",get:function(){return this.Ex},set:function(t){this.Ex=t}},{key:"Ax",set:function(t){this.Sx=t}},{key:"kO",get:function(){return this.kU||this.mU.updating}}]),n}(bs),IS=function(){function t(t,n){this.ZU=void 0,this.mU=void 0,this.JU=void 0,this.ZU=n,this.mU=t}var n=t.prototype;return n.WL=function(){return!!this.JU&&this._y.JR().iR(this.JU)},n.$U=function(){var t=this._y;this.JU=t.Ol>0?t.zR(t.Ol-1):0,this.ZU.KU()},n.QU=function(){this.JU=void 0},M(t,[{key:"_y",get:function(){if(this.ZU.n_===WS.jU)return nA.SI();var t=nA.bI(this.mU.buffered).iI(new nA([0,1/0])),n=this.JU;return void 0!==n&&t.Ol>0&&t.zR(t.Ol-1)===n&&(t=t.hI(nA.EI(n))),t}}]),t}();function NS(t,n,i,r,e,s){var u=new IS(e,t),o=new RS(u,t,e);return new CS(t,n,i,r,u,o,s)}var CS=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).wU=void 0,h._a=void 0,h.tF=void 0,h.cS=void 0,h.va=void 0,h.nF=void 0,h.yU=void 0,h.iF=void 0,h.wU=n,h._a=r,h.va=r.Gf,h.tF=e,h.cS=i,h.yU=s,h.iF=u,h.nF=o,h.iF.Po(aS.GL,h.Oo),h}F(n,t);var i=n.prototype;return i.WL=function(){return this.yU.WL()},i.$U=function(){this.yU.$U()},i.QU=function(){this.yU.QU(),this.iF.QU()},i.rF=function(t,n){this.nF.tM(t,n)},i.eF=function(t,n){this.nF.nM(t,n)},i.sF=function(){return this.iF.WU()},i.IU=function(t,n,i){return this.iF.IU(t,n,i)},i.DU=function(t,n){return this.iF.DU(t,n)},i.FU=function(t,n){return this.iF.FU(t,n)},i.Ph=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.eF(n,i),e=this._y,t.next=4,this.iF.XU(n,i,r);case 4:s=0!==e.Ol&&0===this._y.Ol,(Y.Ue||Y.Re)&&s&&this.cS.ah(this.cS.M_);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.LL=function(t){var n=t.Gf;if(this.va===n)return!0;if(!MediaSource.isTypeSupported(n))return!1;var i=uo(this.va),r=uo(n),e=DS(i),s=DS(r);if(this.iF.qU()){if(!function(t,n){return is(t,n,OS)}(e,s))return!1}else{if(i.io!==r.io)return!1;if(!function(t,n){return is(t,n,BS)}(e,s))return!1}return!0},i.ML=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=n.Gf,this.va!==i&&(this.iF.qU()&&this.iF.zU(i),this.va=i),this._a=n,this.wU.uF();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.mo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.nF.Lv(),t.prev=2,this.iF.Uo(aS.GL,this.Oo),t.next=6,this.iF.mo();case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"_y",get:function(){return this.yU._y}},{key:"Wh",get:function(){return this._a}},{key:"Gf",get:function(){return this.va}},{key:"oF",get:function(){return this.nF.iM}},{key:"wx",get:function(){return this.iF.wx},set:function(t){this.iF.wx=t}},{key:"Ax",get:function(){return this.iF.Ax},set:function(t){this.iF.Ax=t}},{key:"kO",get:function(){return this.iF.kO}}]),n}(bs);function DS(t){var n=t.Kh("codecs");return n?n.split(",").map(function(t){return t.trim()}):[]}function OS(t,n){var i=xS(t)||PS(t),r=xS(n)||PS(n);return!i&&!r||t===n}function xS(t){return/^(ac-3|dac3|ec-3|dec3|ec\+3|ac-4|dac4)/.test(t)}function PS(t){return/^(dvav|dva1|dvhe|dvh1)/.test(t)}function BS(t,n){if(t===n)return!0;var i=t.split("."),r=n.split("."),e=i[0];if(e!==r[0])return!1;if("mp4a"===e){var s=i[1],u=i[2],o=r[1],h=r[2];if(s!==o)return!1;if(Number(u)!==Number(h))return!1}return!0}var LS=100,MS=1e3,US=1e4,FS=.01,HS=[Qo.hc,Qo.oc,Qo.lc,Qo.dc,Qo.Ka,Qo.cc,Ll.gl,Kd.$l],VS=function(){function t(t,n){var i=this;this.zb=yl.S_,this.hF=!1,this.aF=[],this.cF=void 0,this.fF=0,this.vF=0,this.dF=0,this.lF=0,this._F=0,this.gF=MS,this.wF=function(t){var n=i.cS.M_;t.$L.iR(n)&&i.yF(n)},this.mF=N(function(){i.kF(Ll.gl)},LS),this.pF=N(function(){i.kF(Qo.ac)},LS),this.AF=function(){i.bF()?i.TF():i.EF()},this.SF=function(){var t=i.fF,n=i.dF,r=i.cS.M_,e=T.vu(),s=t!==r;if(s||!i.bF())return i.fF=r,i.dF=e,void(s&&(i._F=0,i.gF=MS));if(n>0&&e>n+i.gF){var u=r+i._F*FS,o=i.yU._y;o.iR(u)||(u=i.RF(r,o)),i.fF=u,i.dF=e,i._F++,i.gF=_.min(2*i.gF,US),i.cS.ah(u)}},this.yU=t,this.cS=n,this.cS.Po(Ll.gl,this.mF),this.cS.Po(Qo.ac,this.pF),this.cS.Po(HS,this.AF)}var n=t.prototype;return n.IF=function(t){this.aF.push(t),t.Po(_S.ZL,this.wF)},n.Lv=function(){var t=this;this.EF(),this.zb=yl.S_,this.cS.Uo(Ll.gl,this.mF),this.cS.Uo(Qo.ac,this.pF),this.cS.Uo(HS,this.AF),this.aF.forEach(function(n){return n.Uo(_S.ZL,t.wF)}),void 0!==this.cF&&(T.sr(this.cF),this.cF=void 0),this.hF=!0},n.kF=function(t){if(!this.hF){var n=this.cS.n_;if(n<=yl.I_){var i=this.cS.M_,r=this.yU._y,e=r.fI(i),s=r.zR(e);-1!==e&&(t===Ll.gl&&n<this.zb||t===Qo.ac&&n===this.zb)&&s<i+.5&&(i=s),this.yF(i)}t===Ll.gl&&(this.zb=n)}},n.yF=function(t){var n=this;if(!this.cS.F_){var i=this.iM.cI(this.yU._y).JR(),r=i.fI(t);if(-1!==r)if(!(_.abs(i.WR(r)-i.zR(r))<=.001))if(T.Hd){if(void 0!==this.cF)return;this.vF=this.cS.M_,this.cF=T.ur(function(){n.vF===n.cS.M_&&n.cS.ah(i.zR(r)),n.cF=void 0},1500)}else this.cS.ah(i.zR(r))}},n.TF=function(){0===this.lF&&(this.lF=T.pu(this.SF,250))},n.EF=function(){0!==this.lF&&(T.Au(this.lF),this.lF=0),this.cS.q_||(this.dF=0)},n.bF=function(){return!this.cS.X_&&!this.cS.q_&&0!==this.cS.W_&&!this.cS.F_&&!this.cS.Qo&&this.cS.n_>=yl.N_},n.RF=function(t,n){var i=n.fI(t);return i>-1?n.zR(i):t},M(t,[{key:"iM",get:function(){return this.aF.reduce(function(t,n){return t.hI(n.iM)},nA.SI())}}]),t}();function XS(t){var n=[];if(t.NF&&n.push(t.NF._y),t.CF&&n.push(t.CF._y),0===n.length)return nA.SI();for(var i=0,r=0;r<n.length;r++){var e=n[r];e.Ol>0&&(i=_.max(i,e.zR(e.Ol-1)))}for(var s=t.WL,u=new nA([0,i],[!0,s]),o=0;o<n.length;o++){var h=n[o];s&&h.Ol>0&&(h=h.hI(new nA([h.zR(h.Ol-1),i],[!0,!0]))),u=u.iI(h)}return u}var WS,qS=Y.Ie||Y.Ne,zS=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.DF=void 0,this.kb=t,this.pb=n,this.OF=i,this.xF=r,this.DF=qb()}return t.prototype.PF=function(){var t=this.kb,n=this.pb;if(this.OF||this.xF){var i=.001*(qb()-this.DF);this.OF&&(t+=i),this.xF&&(n+=i)}return t>=n?nA.SI():new nA([t,n])},M(t,[{key:"BF",get:function(){return this.OF}},{key:"LF",get:function(){return this.xF}}]),t}();!function(t){t.jU="closed",t.qv="open",t.Ka="ended"}(WS||(WS={}));var GS=function(){function t(){}return t.prototype.MF=function(){return new MediaSource},t}(),jS=function(t){function n(n,i,r,e,s){var u;return void 0===s&&(s=new GS),(u=t.call(this,n,i,r,e)||this).UF=void 0,u.FF=void 0,u.HF=void 0,u.VF=new zS(0,1/0),u.fS=void 0,u.XF=void 0,u.WF=void 0,u.qF=!1,u.zF=function(){u.GF()},u.jF=function(){u.cS.jF()},u.UF=s,u.fS=u.UF.MF(),u.cS.Po(Qo.lc,u.zF),u.WF=new VS(sn(u),u.cS),u}F(n,t);var i=n.prototype;return i.QF=function(t){if(y(t)||t<0)throw new v("Invalid duration");this.YF()?this.ZF(t):this.XF=t},i.ZF=function(t){var n=t===1/0,i=n?9007199254740991:t;if(n&&this.fS.setLiveSeekableRange){var r=_.pow(2,39);this.fS.setLiveSeekableRange(0,r)}this.fS.duration=i,this.XF=void 0},i.JF=function(t,n,i,r){this.VF=new zS(t,n,!!i,!!r)},i.Nx=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this._a,i=Ge(n.KF,function(t){return Ne(t.Gf,"audio")}),r=Ge(n.KF,function(t){return Ne(t.Gf,"video")}),t.next=5,this.tH();case 5:i&&(e=new wS,this.WF.IF(e),s=this.fS.addSourceBuffer(i.Gf),this.FF=NS(this,this.cS,i,W_.Sv,s,e),this.FF.Po(aS.GL,this.jF)),r&&(u=new wS,this.WF.IF(u),o=this.fS.addSourceBuffer(r.Gf),this.HF=NS(this,this.cS,r,W_.Rv,o,u),this.HF.Po(aS.GL,this.jF)),this.CL.xh(this,n);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.tH=function(){var n=E.coroutine(Kr.mark(function n(){var i;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.fS),n.next=3,t.prototype.Qw.call(this,i);case 3:return n.next=5,t.prototype.xh.call(this);case 5:if(this.n_===WS.qv){n.next=8;break}return n.next=8,wd(this.fS,"sourceopen");case 8:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.YF=function(){if(this.n_!==WS.qv)return!1;var t=this.FF&&this.FF.kO,n=this.HF&&this.HF.kO;return!(t||n)},i.$U=function(){this.qF=!0,this.FF&&this.FF.$U(),this.HF&&this.HF.$U(),this.qF=!1,this.GF()},i.QU=function(){this.FF&&this.FF.QU(),this.HF&&this.HF.QU()},i.LL=function(n){var i=Ge(n.KF,function(t){return Ne(t.Gf,"audio")}),r=Ge(n.KF,function(t){return Ne(t.Gf,"video")});if(this.FF){if(!i)return!1;if(!this.FF.LL(i))return!1}else if(i)return!1;if(this.HF){if(!r)return!1;if(!this.HF.LL(r))return!1}else if(r)return!1;return!!t.prototype.LL.call(this,n)},i.ML=function(){var n=E.coroutine(Kr.mark(function n(i){var r,e,s;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=Ge(i.KF,function(t){return Ne(t.Gf,"audio")}),e=Ge(i.KF,function(t){return Ne(t.Gf,"video")}),s=[],this.FF&&s.push(this.FF.ML(r)),this.HF&&s.push(this.HF.ML(e)),n.next=7,E.all(s);case 7:return n.next=9,t.prototype.ML.call(this,i);case 9:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.mo=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.FF){n.next=4;break}return n.next=3,this.FF.mo();case 3:this.FF=void 0;case 4:if(!this.HF){n.next=8;break}return n.next=7,this.HF.mo();case 7:this.HF=void 0;case 8:return this.Ra.src&&URL.revokeObjectURL(this.Ra.src),this.cS.Uo(Qo.lc,this.zF),this.WF.Lv(),n.next=13,t.prototype.mo.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.uF=function(){var t=this,n=this._a,i=n.KF.map(function(n){return Ne(n.Gf,"audio")&&t.FF?t.FF.Wh:Ne(n.Gf,"video")&&t.HF?t.HF.Wh:n});this._a=te({},n,{KF:i})},i.KU=function(){this.qF||this.GF()},i.GF=function(){this.nH&&this.YF()&&(this.fS.endOfStream(),this.XF=void 0,this.xo(new Es(rS.eC)),this.cS.jF())},i.YU=function(){this.YF()&&(this.WL?this.GF():void 0!==this.XF&&this.ZF(this.XF))},n.XL=function(t){if("undefined"==typeof MediaSource)return!1;if("function"!=typeof MediaSource.isTypeSupported)return!1;for(var n=0,i=t.KF;n<i.length;n++){var r=i[n];if(!MediaSource.isTypeSupported(r.Gf))return!1}return!0},M(n,[{key:"NF",get:function(){return this.FF}},{key:"CF",get:function(){return this.HF}},{key:"U_",get:function(){if(this.XF)return this.XF;var t=this.fS.duration;return 9007199254740991===t?1/0:t}},{key:"_y",get:function(){return qS?XS(this):(t=this,n=nA.bI(this.Ra.buffered),(i=n).Ol>0&&t.WL&&(i=i.hI(nA.EI(i.zR(i.Ol-1)))),i);var t,n,i}},{key:"qL",get:function(){var t;return null==(t=this.FF)?void 0:t._y}},{key:"zL",get:function(){var t;return null==(t=this.HF)?void 0:t._y}},{key:"Iy",get:function(){return this.VF.PF().iI(new nA([0,this.U_],[!0,!0]))}},{key:"WL",get:function(){return(!this.FF||this.FF.WL())&&(!this.HF||this.HF.WL())}},{key:"n_",get:function(){return this.fS.readyState}},{key:"nH",get:function(){if(!this.WL)return!1;var t=this._y;return 0!==t.Ol&&t.WR(t.Ol-1)<=this.cS.M_}}]),n}(cS),QS=[Qo.Ac,Qo.cc,Qo.lc,Qo.hc,Qo.oc],YS=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).DI=n,a.iH=i,a.rH=r,a.xI=e,a.LI=s,a.OI=u,a.BI=o,a.MI=h,a}F(n,t);var i=n.prototype;return i.zw=function(){this.xI||(this.xI=!0,this.xo(new Ul(this.M_)))},i.qw=function(){this.xI&&(this.xI=!1,this.xo(new Fl(this.M_)))},M(n,[{key:"M_",get:function(){return this.DI},set:function(t){this.M_!==t&&(this.DI=t,this.LI=!0,this.xo(new Yl(this.M_)))}},{key:"U_",get:function(){return this.iH}},{key:"F_",get:function(){return this.rH}},{key:"X_",get:function(){return this.xI}},{key:"q_",get:function(){return this.LI}},{key:"V_",get:function(){return this.OI},set:function(t){this.V_!==t&&(this.OI=t,this.xo(new Jl(this.M_,this.j_)))}},{key:"W_",get:function(){return this.BI},set:function(t){this.W_!==t&&(this.BI=t,this.xo(new zl(this.M_,this.W_)))}},{key:"j_",get:function(){return this.MI},set:function(t){this.j_!==t&&(this.MI=t,this.xo(new Jl(this.M_,this.j_)))}}]),n}(bs);var ZS=function(t){function n(n){var i;return(i=t.call(this)||this).cS=void 0,i.zb=yl.S_,i.eH=function(){i.sH()},i.cS=n,i}F(n,t);var i=n.prototype;return i.uH=function(t){this.zb!==t&&(this.zb=t,this.xo(new t_(this.cS.M_,t)))},i.sH=function(){this.uH(this.sP())},i.Cl=function(){this.uH(yl.S_)},i.mo=function(){this.Mo()},M(n,[{key:"n_",get:function(){return this.sP()}}]),n}(bs),JS=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],$S=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<JS.length;r++){var e=JS[r];i.cS.MS.addEventListener(e,i.eH)}return i}F(n,t);var i=n.prototype;return i.sP=function(){var t=this.cS.MS.readyState;return t>yl.I_&&this.cS.oH?yl.I_:(this.cS.MS.seeking&&t>yl.R_&&(t=yl.R_),t)},i.mo=function(){for(var n=0;n<JS.length;n++){var i=JS[n];this.cS.MS.removeEventListener(i,this.eH)}t.prototype.mo.call(this)},n}(ZS),KS=function(t){function n(n){var i;(i=t.call(this,n)||this).cS.Po(Qo.lc,i.eH);for(var r=0;r<JS.length;r++){var e=JS[r];i.cS.MS.addEventListener(e,i.eH)}return i}F(n,t);var i=n.prototype;return i.sP=function(){if(this.cS.MS.readyState===yl.S_)return yl.S_;var t=this.hH(),n=t?t.zR-t.WR:0;if(!t)return yl.R_;var i=this.cS.W_;return this.aH()||n>=3*i?yl.C_:n>=3?yl.N_:yl.I_},i.hH=function(){var t=this.cS.M_,n=this.cS._y.oI(.04),i=n.fI(t);if(!(i<0))return{WR:t,zR:n.zR(i)}},i.aH=function(){if(this.cS.F_)return!0;var t=this.cS.U_,n=this.hH();return!!n&&t-n.zR<=1/6},i.mo=function(){this.cS.Uo(Qo.lc,this.eH);for(var n=0;n<JS.length;n++){var i=JS[n];this.cS.MS.removeEventListener(i,this.eH)}t.prototype.mo.call(this)},n}(ZS),tR=[Ll.gl,Qo.hc,Qo.oc,Qo.lc,Qo.dc,Qo.Ka,Kd.$l],nR=function(t){function n(n){var i;return(i=t.call(this,n)||this).Ra=void 0,i.cH=!1,i.fH=function(){i.cH=!0,i.Bh()},i.Ra=n.MS,i.Ra.addEventListener(Ll.L_,i.fH),i}F(n,t);var i=n.prototype;return i.vH=function(){return this.cH&&t.prototype.vH.call(this)},i.Bh=function(){this.cH&&(this.Ra.paused||this.Ra.ended||this.Ra.error)&&(this.cH=!1),t.prototype.Bh.call(this)},i.Cl=function(){t.prototype.Cl.call(this),this.cH=!1},i.mo=function(){this.Ra.removeEventListener(Ll.L_,this.fH),t.prototype.mo.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).iT=void 0,i.dH=!1,i.pO=function(){i.Bh()},i.iT=n,i.iT.Po(tR,i.pO),i}F(n,t);var i=n.prototype;return i.lH=function(){return this.iT.n_<yl.N_},i.vH=function(){return!this.iT.q_&&!(this.iT.X_||this.iT.F_||this.iT.Qo||this.lH())},i.Bh=function(){var t=this.dH;this.dH=this.vH(),!t&&this.dH&&this.xo(new tm(this.iT.M_))},i.Cl=function(){this.dH=!1},i.mo=function(){this.Mo(),this.iT.Uo(tR,this.pO)},n}(bs)),iR=function(t){function n(n){var i;return(i=t.call(this,Kd.$l)||this).Qo=void 0,i.Qo=n,i}return F(n,t),n}(Es);function rR(t,n,i,r,e,s,u){void 0===e&&(e=!1),void 0===s&&(s=0),void 0===u&&(u=t.length);for(var o=s,h=u-1;o<=h;){var a=o+(h-o>>1),c=r(i(t[a]),n);if(c<0)o=a+1;else if(c>0)h=a-1;else{if(!(e&&a>s&&0===r(i(t[a-1]),n)))return a;h=a-1}}return~o}function eR(t,n){return t.Qy<=n&&t.Yy>n}function sR(t,n){return function(t,n){return __(t.Qy,n.Qy,yg)}(t,n)||function(t,n){return __(t.Yy,n.Yy,yg)}(t,n)}function uR(t,n){var i=rR(t,n,I,sR,!0);if(i<0)return i;for(;i<t.length&&sR(n,t[i])===o_.Q_;i++)if(t[i].ug(n))return i;return-(i+1)}function oR(t){var n=t.nl;if(!n)return-1;if(t instanceof kg)return n._H(t);var i=n.i_;if(!i)return-1;var r=uR(i.Dl,t);return r>=0?r:-1}function hR(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,s=0,u=0,o=[],h=[];s<r&&u<e;){var a=t[s],c=n[u];a===c?(s++,u++):i(c,a)<=0?(o.push(c),u++):(h.push(a),s++)}for(;s<r;)h.push(t[s]),s++;for(;u<e;)o.push(n[u]),u++;return{gH:o,wH:h}}(t,n,sR);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var aR=function(){function t(t){this.yH=void 0,this.$d=void 0,this.yH=t}var n=t.prototype;return n.tl=function(){return function(t){for(var n=[],i=0;i<t.Ol;i++)n[i]=t.ih(i).Kd;return n.item=function(n){var i=0|n,r=t.ih(i);return r&&r.Kd||void 0},l.defineProperty(n,"constructor",{value:gg}),n}(this)},n.Cy=function(t){for(var n=this.yH,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.ug(r))return!0}return!1},n.ih=function(t){return this.yH[t]},M(t,[{key:"Dl",get:function(){return this.yH}},{key:"Ol",get:function(){return this.yH.length}},{key:"Kd",get:function(){if(this.$d){var t=this.yH;this.$d.length=t.length;for(var n=0;n<t.length;n++)this.$d[n]=t[n].Kd}else this.$d=this.tl();return this.$d}}]),t}(),cR=function(t){function n(n,i){var r;return(r=t.call(this,bd.gl)||this).nl=n,r.n_=i,r}return F(n,t),n.prototype.tl=function(){return new fR(this.nl.Kd,ul(this.n_))},n}(Td),fR=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return F(n,t),n}(Ed),vR=function(t){function n(n){var i;return(i=t.call(this,bd.yl)||this).nl=n,i}return F(n,t),n.prototype.tl=function(){return new dR(this.nl.Kd)},n}(Td),dR=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return F(n,t),n}(Ed),lR=function(t){function n(n){var i;return(i=t.call(this,bd.il)||this).jy=n,i}return F(n,t),n.prototype.tl=function(){return new _R(this.jy.Kd)},n}(Td),_R=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return F(n,t),n}(Ed),gR=function(t){function n(n){var i;return(i=t.call(this,bd.ul)||this).jy=n,i}return F(n,t),n.prototype.tl=function(){return new wR(this.jy.Kd)},n}(Td),wR=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return F(n,t),n}(Ed),yR=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).$d=void 0,h.Oy=void 0,h.Py=Y_(),h.mH=!1,h.kH=void 0,h.pH=void 0,h.xy=void 0,h.AH=void 0,h.nN=$d.Yl,h.bH=ig.NONE,h.TH=void 0,h.xs=void 0,h.yH=[],h.EH=[],h.SH=void 0,h.RH=void 0,h.IH=0,h.NH=0,h.Oy=i||"",h.kH=o||"",h.pH=n,h.AH=e||"",h.mH=Boolean(s),h.xs=u||rg.DEFAULT,h.xy=r||"",h.SH=new aR(h.yH),h.RH=new aR(h.EH),h}F(n,t);var i=n.prototype;return i.CH=function(t){return Ge(this.SH.Dl,function(n){return n.Xl===t})},i.tl=function(){return rl(this)},i.gN=function(t){var n=nl(t);n!==this.t_&&(this.nN=n,n===$d.Yl&&(this.EH.forEach(function(t){t.lm=!1}),Je(this.EH),this.NH=0))},i.Hb=function(t){if(t&&!t.nl){var n=uR(this.i_.Dl,t);if(!(n>=0)){t.nl=this;var i=-(n+1);this.yH.splice(i,0,t),this.DH(i),t.dm=i,i<this.NH&&(this.NH=i),this.xo(new lR(t))}}},i.OH=function(t){if(t&&t.nl===this){var n=this._H(t);if(!(n<0)){t.lm=!1;var i=this.EH,r=uR(i,t);r>=0&&Ye(i,r),Ye(this.yH,n),this.DH(n),t.dm=-1,this.NH>n&&--this.NH,this.xo(new gR(t))}}},i.xH=function(t,n){var i=this.EH,r=this.yH,e=this.NH,s=!1;n&&(e=0);for(var u=i.length-1;u>=0;u--){eR(i[u],t)||(s=!0,Ye(i,u))}for(;e<r.length&&r[e].Qy<=t;){var o=r[e];if(0===t)break;eR(o,t)&&!Ze(i,o)&&(s=!0,i.push(o)),e++}s&&We(i,sR),this.NH=e},i._H=function(t){return(-1===t.dm||t.dm>=this.IH)&&this.PH(),t.dm},i.PH=function(){for(var t=this.yH,n=this.IH;n<t.length;n++)t[n].dm=n;this.IH=t.length},i.DH=function(t){t<this.IH&&(this.IH=t)},i.Lv=function(){this.Mo();for(var t=this.yH.slice(),n=0;n<t.length;n++){t[n].Lv()}Je(this.yH),Je(this.EH)},M(n,[{key:"r_",get:function(){return this.RH}},{key:"i_",get:function(){return this.SH}},{key:"Xb",get:function(){return this.mH},set:function(t){this.mH=t}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"Wl",get:function(){return this.Py}},{key:"Kl",get:function(){return this.kH},set:function(t){this.kH=t}},{key:"ql",get:function(){return this.pH}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.xy&&(this.xy=t,this.xo(new G_(this)))}},{key:"Gl",get:function(){return this.AH}},{key:"t_",get:function(){return this.nN},set:function(t){this.gN(t),this.xo(new Dd(this))}},{key:"n_",get:function(){return this.bH},set:function(t){this.bH!==t&&(this.bH=t,this.xo(new cR(this,this.bH)))}},{key:"e_",get:function(){return this.TH},set:function(t){this.TH=t}},{key:"io",get:function(){return this.xs},set:function(t){this.xs!==t&&(this.xs=t,this.xo(new vR(this)))}}]),n}(bs),mR=function(t){function n(n,i){var r;return(r=t.call(this,og.Wy,n)||this).Gg=i,r}return F(n,t),n.prototype.tl=function(){return new kR(this.jy.Kd)},n}(dg),kR=function(t){function n(n){return t.call(this,hg.Wy,n)||this}return F(n,t),n}(lg),pR=function(t){function n(n,i){var r;return(r=t.call(this,og.zy,n)||this).Gg=i,r}return F(n,t),n.prototype.tl=function(){return new AR(this.jy.Kd)},n}(dg),AR=function(t){function n(n){return t.call(this,hg.zy,n)||this}return F(n,t),n}(lg),bR=function(t){function n(n){var i;return(i=t.call(this,bd.hl)||this).jy=n,i}return F(n,t),n.prototype.tl=function(){return new TR(this.jy.Kd)},n}(Td),TR=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return F(n,t),n}(Ed),ER=function(t){function n(n){var i;return(i=t.call(this,bd.cl)||this).jy=n,i}return F(n,t),n.prototype.tl=function(){return new SR(this.jy.Kd)},n}(Td),SR=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return F(n,t),n}(Ed),RR=function(t){function n(n){var i;return(i=t.call(this)||this).BH=void 0,i.Py=void 0,i.hm=void 0,i.$d=void 0,i.am=!1,i.vm="",i.LH=function(){i.lm=!0},i.MH=function(){i.lm=!1},i.Py=$_(),i.BH=n,i.BH.addEventListener("enter",i.LH),i.BH.addEventListener("exit",i.MH),i}F(n,t);var i=n.prototype;return i.tl=function(){return _g(this)},i.ug=function(t){return this===t||Fd(this,t)&&mg(this,t)},i.Lv=function(){this.Mo(),this.BH.removeEventListener("enter",this.LH),this.BH.removeEventListener("exit",this.MH)},M(n,[{key:"Wl",get:function(){return this.Py}},{key:"Qy",get:function(){return this.BH.startTime},set:function(t){this.BH.startTime=t}},{key:"Yy",get:function(){return this.BH.endTime},set:function(t){this.BH.endTime=t}},{key:"Zy",get:function(){return this.BH.text},set:function(t){this.BH.text=t+""}},{key:"gm",get:function(){return!!this.BH.pauseOnExit},set:function(t){this.BH.pauseOnExit=!!t}},{key:"nl",get:function(){return this.hm},set:function(t){this.hm=t}},{key:"Xl",get:function(){return this.BH.id||""}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"_m",get:function(){return this.vm},set:function(t){this.vm=t}},{key:"lm",get:function(){return this.am},set:function(t){this.lm!==t&&(this.am=t,t?(this.xo(new mR(this,this.Qy)),this.hm&&this.hm.xo(new bR(this))):(this.xo(new pR(this,this.Yy)),this.hm&&this.hm.xo(new ER(this))))}}]),n}(hl),IR=function(t){function n(n){var i;return(i=t.call(this,bd.vl)||this).nl=n,i}return F(n,t),n.prototype.tl=function(){return new NR(this.nl.Kd)},n}(Td),NR=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return F(n,t),n}(Ed);function CR(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new DR(t),t.THEOplayerVTTRegion=n),n}}var DR=function(){function t(t){this.UH=void 0,this.$d=void 0,this.UH=t}return M(t,[{key:"FH",get:function(){return this.UH}},{key:"Xl",get:function(){return this.UH.id||""}},{key:"cu",get:function(){return+this.UH.width||0},set:function(t){this.UH.width=t||0}},{key:"wm",get:function(){return+this.UH.lines||0},set:function(t){this.UH.lines=t||0}},{key:"ym",get:function(){return+this.UH.regionAnchorX||0},set:function(t){this.UH.regionAnchorX=t||0}},{key:"mm",get:function(){return+this.UH.regionAnchorY||0},set:function(t){this.UH.regionAnchorY=t||0}},{key:"pm",get:function(){return+this.UH.viewportAnchorX||0},set:function(t){this.UH.viewportAnchorX=t||0}},{key:"Am",get:function(){return+this.UH.viewportAnchorY||0},set:function(t){this.UH.viewportAnchorY=t||0}},{key:"km",get:function(){return this.UH.scroll||""}},{key:"Kd",get:function(){return this.$d||(this.$d=Rg(this)),this.$d}}]),t}(),OR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"sm",get:function(){return this.BH.vertical||""},set:function(t){this.BH.vertical=t||""}},{key:"rm",get:function(){return!!this.BH.snapToLines},set:function(t){this.BH.snapToLines=!!t}},{key:"$y",get:function(){return this.BH.line},set:function(t){this.BH.line=t}},{key:"uh",get:function(){return+this.BH.size},set:function(t){this.BH.size=zt(t,0,100)}}]),n}(RR),xR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.ug=function(n){return this===n||Fd(this,n)&&t.prototype.ug.call(this,n)&&pg(this,n)},M(n,[{key:"im",get:function(){return CR(this.BH.region)}},{key:"Ky",get:function(){return this.BH.lineAlign||"start"},set:function(t){this.BH.lineAlign=t||"start"}},{key:"tm",get:function(){return this.BH.position},set:function(t){this.BH.position=t}},{key:"nm",get:function(){return this.BH.positionAlign||"auto"},set:function(t){this.BH.positionAlign=t||"auto"}},{key:"Jy",get:function(){return this.BH.align||"center"},set:function(t){this.BH.align=t||"center"}},{key:"Kd",get:function(){return this.$d||(this.$d=wg(this)),this.$d}}]),n}(OR),PR=function(t){function n(n){return t.call(this,n)||this}return F(n,t),n.prototype.ug=function(n){return this===n||Fd(this,n)&&t.prototype.ug.call(this,n)&&pg(this,n)},M(n,[{key:"im",get:function(){return CR(this.FH)}},{key:"FH",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.BH.track,this.BH.regionId)}},{key:"Ky",get:function(){return"middle"===(t=this.BH.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.BH.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"tm",get:function(){return this.BH.position},set:function(t){var n,i;this.BH.position=(n=t,i=this.Jy,vg(n,i))}},{key:"nm",get:function(){return t=this.BH.positionAlign||"middle",cg[t];var t},set:function(t){var n,i;this.BH.positionAlign=(n=t||"center",i=this.Jy,ag[fg(n,i)])}},{key:"Jy",get:function(){return"middle"===(t=this.BH.align||"middle")?"center":t;var t},set:function(t){var n;this.BH.align="center"===(n=t||"center")?"middle":n}},{key:"Kd",get:function(){return this.$d||(this.$d=wg(this)),this.$d}}]),n}(OR);function BR(t,n){return t.Zy===n.Zy}function LR(t,n,i){for(var r=t[n].Qy,e=n;e>=0&&t[e].Qy===r;e--)t[e].Yy=i}function MR(t){return _g(t)}var UR,FR,HR=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).HH=void 0,r.HH=i,r}return F(n,t),n.prototype.ug=function(n){return this===n||Fd(this,n)&&t.prototype.ug.call(this,n)&&BR(this,n)},M(n,[{key:"Zy",get:function(){return this.HH}},{key:"Kd",get:function(){return this.$d||(this.$d=MR(this)),this.$d}}]),n}(RR);function VR(t){switch(t){case UR.ISO_8859_1:case UR.UTF16_BOM:case UR.UTF16:case UR.UTF8:return!0}return!1}function XR(t){switch(t){case UR.ISO_8859_1:return bu;case UR.UTF16_BOM:return Su;case UR.UTF16:return Ru;case UR.UTF8:return Pu}}function WR(t,n){var i=n.vh,r=t.byteLength,e=Hu(t);return n.hh(r-i),Wu(e,i,r).buffer}function qR(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function zR(t,n,i){var r=hu(t,n);if(VR(r)){var e=XR(r);return{id:i,language:pu(t,n,3),description:e(t,n),text:e(t,n)}}}function GR(t,n,i){var r=hu(t,n);if(VR(r)){var e=XR(r);return{id:i,mimeType:bu(t,n),fileName:e(t,n),description:e(t,n),data:WR(t,n)}}}function jR(t,n,i){var r=hu(t,n);if(VR(r)){for(var e=XR(r),s=[];n.vh<t.byteLength;)s.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:s}}}function QR(t,n,i){var r=hu(t,n);if(VR(r)){for(var e=XR(r),s=pu(t,n,3),u=hu(t,n),o=hu(t,n),h=e(t,n),a=!1,c=[];n.vh<t.byteLength;){var f=void 0;if(r===UR.UTF16_BOM){var v=Eu(t,n);void 0===v?v=a:a=v,f=Ru(t,n,v)}else f=e(t,n);if(!f||n.vh+4>t.byteLength)break;c.push({text:f,timestamp:gu(t,n)})}return{id:i,language:s,format:u,contentType:o,description:h,entries:c}}}function YR(t,n,i){return{id:i,ownerIdentifier:bu(t,n),identifier:WR(t,n)}}function ZR(t,n,i){var r=hu(t,n);if(VR(r)){var e=XR(r);return{id:i,language:pu(t,n,3),description:e(t,n),text:e(t,n)}}}function JR(t,n,i){var r=hu(t,n);if(VR(r))return{id:i,text:XR(r)(t,n)}}function $R(t,n,i){return{id:i,url:bu(t,n)}}function KR(t,n,i){var r=hu(t,n);if(VR(r)){var e=XR(r);return{id:i,description:e(t,n),text:e(t,n)}}}function tI(t,n,i){var r=hu(t,n);if(VR(r))return{id:i,description:XR(r)(t,n),url:bu(t,n)}}function nI(t,n,i){switch(i){case"COM":return zR(t,n,i);case"GEO":return GR(t,n,i);case"IPL":return jR(t,n,i);case"PIC":return function(t,n,i){var r=hu(t,n);if(VR(r)){var e,s,u=XR(r),o=pu(t,n,3),h=hu(t,n),a=u(t,n);return"--\x3e"===o?(e=o,s=bu(t,n)):(e="image/"+o.toLowerCase(),s=WR(t,n)),{id:i,mimeType:e,pictureType:h,description:a,data:s}}}(t,n,i);case"SLT":return QR(t,n,i);case"TXX":return KR(t,n,i);case"UFI":return YR(t,n,i);case"ULT":return ZR(t,n,i);case"WXX":return tI(t,n,i);default:if("T"===i.charAt(0))return JR(t,n,i);if("W"===i.charAt(0))return $R(t,n,i)}}function iI(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=hu(t,n);if(VR(r)){var e=XR(r),s=bu(t,n);return{id:i,mimeType:s,pictureType:hu(t,n),description:e(t,n),data:"--\x3e"===s?bu(t,n):WR(t,n)}}}(t,n,i);case"COMM":return zR(t,n,i);case"COMR":return function(t,n,i){var r=hu(t,n);if(VR(r)){var e,s,u=XR(r),o=bu(t,n),h=pu(t,n,8),a=bu(t,n),c=hu(t,n),f=u(t,n),v=u(t,n);return n.vh<t.byteLength&&(e=bu(t,n)||"image/",s=WR(t,n)),{id:i,price:o,validUntil:h,contactURL:a,receivedAs:c,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:s}}}(t,n,i);case"GEOB":return GR(t,n,i);case"IPLS":return jR(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:bu(t,n),data:WR(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:hu(t,n),position:gu(t,n)}}(t,n,i);case"SYLT":return QR(t,n,i);case"TXXX":return KR(t,n,i);case"UFID":return YR(t,n,i);case"USER":return function(t,n,i){var r=hu(t,n);if(VR(r)){var e=XR(r);return{id:i,language:pu(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return ZR(t,n,i);case"WXXX":return tI(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return JR(t,n,i);default:var r=i.charAt(0);if("T"===r)return JR(t,n,i);if("W"===r)return $R(t,n,i)}}!function(t){t[t.ISO_8859_1=0]="ISO_8859_1",t[t.UTF16_BOM=1]="UTF16_BOM",t[t.UTF16=2]="UTF16",t[t.UTF8=3]="UTF8"}(UR||(UR={})),function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(FR||(FR={}));var rI=10;function eI(t,n){return(127&hu(t,n))<<21|(127&hu(t,n))<<14|(127&hu(t,n))<<7|127&hu(t,n)}function sI(t,n){switch(t){case FR.V24:return{VH:ou(n,0),XH:ou(n,1),WH:ou(n,2),qH:ou(n,3)};case FR.V23:return{VH:ou(n,0),XH:ou(n,1),WH:ou(n,2)};case FR.V22:return{VH:ou(n,0),zH:ou(n,1)}}}function uI(t,n,i){switch(i.Yk){case FR.V23:i.Zk.XH&&function(t,n){var i=n.vh,r=gu(t,n)+4,e=32768&lu(t,n);n.ah(i+r),e&&gu(t,n)}(t,n);break;case FR.V24:i.Zk.XH&&function(t,n){var i=n.vh,r=eI(t,n);n.ah(i+r)}(t,n)}}function oI(t,n){if(t.byteLength-n.vh<rI)return null;if(73!==hu(t,n)||68!==hu(t,n)||51!==hu(t,n))return null;var i=hu(t,n),r=hu(t,n);if(!function(t){switch(t){case FR.V22:case FR.V23:case FR.V24:return!0}return!1}(i))return null;var e=hu(t,n),s=eI(t,n);return{Yk:i,GH:r,Zk:sI(i,e),jH:s}}function hI(t,n,i){switch(i.Yk){case FR.V22:return function(t,n,i){return{Xl:pu(t,n,3),uh:du(t,n,3)}}(t,n);case FR.V23:return function(t,n,i){var r=pu(t,n,4),e=gu(t,n);hu(t,n);var s=hu(t,n);return{Xl:r,uh:e,Zk:{zH:ou(s,0),QH:ou(s,1),groupingIdentity:ou(s,2)}}}(t,n);case FR.V24:return function(t,n,i){var r=pu(t,n,4),e=eI(t,n);hu(t,n);var s=hu(t,n);return{Xl:r,uh:e,Zk:{groupingIdentity:ou(s,1),zH:ou(s,4),QH:ou(s,5),VH:ou(s,6),YH:ou(s,7)}}}(t,n)}}function aI(t){for(var n=new m(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function cI(t,n){var i=n||new zu,r=oI(t,i);return r?{qk:r,ZH:function(t,n,i){var r=[],e=n.vh,s=Uu(t,e,e+i.jH),u=new zu;switch(n.hh(i.jH),i.Yk){case FR.V22:case FR.V23:i.Zk.VH&&(s=aI(s))}uI(t,n,i);for(;u.vh<s.byteLength;)r.push(fI(s,u,i));return r}(t,i,r)}:null}function fI(t,n,i){var r,e,s=hI(t,n,i),u=n.vh,o=Uu(t,u,u+s.uh);switch(n.hh(s.uh),i.Yk){case FR.V22:var h=s;r=nI(e=o,new zu,h.Xl);break;case FR.V23:var a=s,c=new zu;!function(t,n,i){var r,e,s,u=i.Zk;u.zH&&(r=gu(t,n)),u.QH&&(e=hu(t,n)),u.groupingIdentity&&(s=hu(t,n))}(o,c,a),r=iI(e=Uu(o,c.vh,o.byteLength),new zu,a.Xl);break;case FR.V24:var f=s,v=new zu;f.Zk.VH&&(o=aI(o)),function(t,n,i){var r,e,s,u,o=i.Zk;o.groupingIdentity&&(r=hu(t,n)),o.zH&&(e=gu(t,n)),o.QH&&(s=hu(t,n)),o.YH&&(u=eI(t,n))}(o,v,f),r=iI(e=Uu(o,v.vh,o.byteLength),new zu,f.Xl)}if(!r){var d=qu(Hu(e));r=qR(s.Xl,d.buffer)}return r}function vI(t){return function(t,n,i){return JR(t,n,i)}(new DataView(t.data),new zu,t.key)}function dI(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return vI(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return qR(t.key,t.data)}(t)}var lI="org.id3";var _I=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).Dy=void 0,e.JH=void 0,e.yH=[],e.EH=[],e.SH=void 0,e.RH=void 0,e.Py=void 0,e.xy=void 0,e.nN=$d.Yl,e.bH=ig.NONE,e.$d=void 0,e.TH=void 0,e.xs=rg.DEFAULT,e.$H=void 0,e.KH=function(){e.tV(),e.Dy.removeEventListener("cuechange",e.KH)},e.nV=function(){e.t_!==$d.Yl&&(e.iV(),e.xH(),e.yH.length&&e.rV(ig.LOADING))},e.eV=function(){e.rV(ig.LOADED)},e.sV=function(){e.rV(ig.ERROR)},e.Dy=n,e.$H=r,e.Dy.addEventListener("cuechange",e.KH),e.Dy.addEventListener("cuechange",e.nV),e.JH=i,e.JH&&(e.TH=Pf(e.JH.src),e.JH.addEventListener("load",e.eV),e.JH.addEventListener("error",e.sV)),e.Py=Y_(),e.xy=n.label||"",e.SH=new aR(e.yH),e.RH=new aR(e.EH),e.t_=e.uV,ls(function(){e.nV(),e.rV(ig.NONE)}),e}F(n,t);var i=n.prototype;return i.tl=function(){return rl(this)},i.tV=function(){var t=this.t_;this.oV||t!==$d.Jl?this.uV=t:this.uV=$d.Zl},i.hV=function(){var t=this.t_,n=this.uV;t!==n&&(this.oV||t!==$d.Jl||n!==$d.Zl)&&("metadata"===this.ql&&n===$d.Yl?this.t_=t:this.t_=n)},i.sH=function(t){this.bH!==t&&(this.bH=t,this.xo(new cR(this,t)))},i.rV=function(t){var n=_.max(this.bH,this.aV,t);this.sH(n)},i.cV=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.fV=function(t){var n=this.cV(t);if(n)return n;if(tt(n=this.vV(t)))for(var i=0,r=n;i<r.length;i++){r[i].nl=this}else n.nl=this;return t.THEOplayerTextTrackCue=n,n},i.vV=function(t){return(n=t)&&n.type===lI&&n.value?(this.io=rg.ID3,function(t){var n;try{n=dI(t.value)}catch(t){n=qR("")}return new HR(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.io=rg.ID3,function(t){var n=[];try{var i=cI(new DataView(t.data));if(i)for(var r=0,e=i.ZH;r<e.length;r++){var s=e[r];n.push(new HR(t,s))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.io=rg.WEBVTT,function(t){return function(t){return"regionId"in t}(t)}(t)?new PR(t):new xR(t)):new RR(t);var n},i.dV=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.fV(t[r]||t.item(r));if(tt(e))for(var s=0;s<e.length;s++){var u=e[s];n.push(u)}else n.push(e)}return n},i.iV=function(){for(var t=this.dV(this.Dy.cues),n=hR(this.yH,t),i=0,r=n.wH;i<r.length;i++){var e=r[i];this.xo(new gR(e))}for(var s=0,u=n.gH;s<u.length;s++){var o=u[s];this.xo(new lR(o))}},i.xH=function(){for(var t=this.dV(this.Dy.activeCues),n=hR(this.EH,t),i=0,r=n.wH;i<r.length;i++){r[i].lm=!1}for(var e=0,s=n.gH;e<s.length;e++){s[e].lm=!0}(n.gH.length||n.wH.length)&&this.xo(new IR(this))},i.Lv=function(){this.Mo();for(var t=this.yH.slice(),n=0;n<t.length;n++){t[n].Lv()}Je(this.yH),Je(this.EH),this.Dy.removeEventListener("cuechange",this.nV),this.JH&&(this.Dy.removeEventListener("load",this.eV),this.Dy.removeEventListener("error",this.sV)),this.JH&&Sr(this.JH)},M(n,[{key:"r_",get:function(){return this.RH}},{key:"Xb",get:function(){return this.JH?this.JH.default:void 0}},{key:"i_",get:function(){return this.SH}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"Xl",get:function(){return this.Dy.id||this.JH&&this.JH.id||""}},{key:"Wl",get:function(){return this.Py}},{key:"Kl",get:function(){return this.Dy.inBandMetadataTrackDispatchType||""}},{key:"ql",get:function(){return this.Dy.kind||ry.yk}},{key:"zl",get:function(){return this.xy},set:function(t){t!==this.zl&&(this.xy=t,this.xo(new G_(this)))}},{key:"Gl",get:function(){return this.Dy.language||""}},{key:"t_",get:function(){return this.nN},set:function(t){var n=this.t_;this.nN=nl(t),this.tV();var i=this.t_;n!==i&&this.xo(new Dd(this)),i!==$d.Yl&&this.rV(ig.LOADING)}},{key:"uV",get:function(){return nl(this.Dy.mode)},set:function(t){this.Dy.mode=t}},{key:"Fy",get:function(){return this.Dy}},{key:"n_",get:function(){return this.bH}},{key:"aV",get:function(){return this.JH?+this.JH.readyState||ig.NONE:ig.LOADED}},{key:"e_",get:function(){return this.TH}},{key:"io",get:function(){return this.xs},set:function(t){this.xs!==t&&(this.xs=t,this.xo(new vR(this)))}},{key:"oV",get:function(){return this.$H},set:function(t){this.$H=t,this.tV()}}]),n}(bs);function gI(t){return t instanceof _I}function wI(t,n){return l_(t.Gg,n.Gg)||function(t,n){return t.nl===n.nl?d_(oR(t),oR(n)):yy(t.nl,n.nl)}(t.jy,n.jy)||function(t,n){return t===n?o_.Q_:t===og.Wy?o_.Z_:o_.Y_}(t.type,n.type)}var yI=function(){function t(t,n){var i=this;this.DR=void 0,this.lV=void 0,this.Lw=[],this._V=0,this.gV=0,this.wV=[],this.yV=!1,this.mV=!1,this.kV=void 0,this.pV=function(){i._V=0,i.AV(),i.bV()},this.TV=function(){i.AV(),i.bV()},this.EV=function(){i.mV=!0,i.kV=i.DR.M_,i.SV()},this.RV=function(){i.AV(),i.bV()},this.IV=function(){i.NV(),i.AV(),i.bV()},this.CV=function(){i.DV()},this.OV=function(t){Qe(i.wV,t.jy),i.DV()},this.lV=n,this.DR=t,t.Po(Qo.pc,this.TV),t.Po(Qo.hc,this.TV),t.Po(Ll.L_,this.TV),t.Po(Qo.oc,this.TV),t.Po(Qo.lc,this.EV),t.Po(Qo.dc,this.RV),this.DV()}var n=t.prototype;return n.Cl=function(){Je(this.wV);for(var t=0,n=this.Lw.slice();t<n.length;t++){var i=n[t];this.Il(i)}this.SV(),this._V=0,this.gV=0,this.yV=!1,this.mV=!1,this.kV=void 0},n.Rl=function(t){Ze(this.Lw,t)||(this.Lw.push(t),t.Po(bd.il,this.CV),t.Po(bd.ul,this.OV),t.Po(bd.ll,this.IV),t.i_.Ol&&this.DV(),this.NV())},n.Il=function(t){if(Qe(this.Lw,t)){if(t.Uo(bd.il,this.CV),t.Uo(bd.ul,this.OV),t.Uo(bd.ll,this.IV),t.i_.Ol){for(var n=0,i=t.i_.Dl;n<i.length;n++){var r=i[n];Qe(this.wV,r)}this.DV()}this.NV()}},n.NV=function(){this.yV=this.Lw.some(function(t){return t.t_!==$d.Yl})},n.bV=function(){this.DR.q_||this.DR.X_?this.SV():this.DV()},n.DV=function(){this.yV&&(this._V||(this._V=this.lV.hr(this.pV)))},n.SV=function(){this._V&&(this.lV.xV(this._V),this._V=0)},n.AV=function(){var t;if(this.yV&&!this.DR.q_){var n=this.Lw,i=this.gV,r=null!=(t=this.kV)?t:this.DR.M_,e=r-i<-.1,s=this.mV||e;s&&r>i&&r-i<.1&&(s=!1),this.mV=!1,this.kV=void 0;for(var u,o=[],h=0;h<n.length;h++){var a=n[h];if(a.t_!==$d.Yl){a.xH(r,s);for(var c=0,f=a.r_.Dl;c<f.length;c++){var v=f[c];o.push(v)}}}if(s)u=this.wV;else{u=[];for(var d=0;d<n.length;d++){var l=n[d];l.t_!==$d.Yl&&wy(l,i-1/6,r,u)}}for(var g=u.length-1;g>=0;g--)Ze(o,u[g])&&Ye(u,g);var w=[];if(!s)for(var y=u.length-1;y>=0;y--){var m=u[y];m.Qy>=i&&m.Yy<=r&&(w.push(m),Ye(u,y))}for(var k=[],p=[],A=0;A<w.length;A++){var b=w[A];b.lm||k.push(new mR(b,b.Qy)),k.push(new pR(b,_.max(b.Qy,b.Yy)))}for(var T=0,E=u;T<E.length;T++){var S=E[T];S.lm&&(k.push(new pR(S,_.max(S.Qy,S.Yy))),S.lm=!1)}for(var R=0;R<o.length;R++){var I=o[R];I.lm||(k.push(new mR(I,I.Qy)),I.lm=!0)}k.sort(wI);for(var N=0;N<k.length;N++){var C=k[N],D=C.jy;D.xo(C);var O=D.nl;O&&(C.type===og.Wy?O.xo(new bR(D)):O.xo(new ER(D)),Ze(p,O)||p.push(O))}p.sort(yy);for(var x=0;x<p.length;x++){var P=p[x];P.xo(new IR(P))}this.gV=r,this.wV=o}},n.Lv=function(){this.Cl(),this.DR.Uo(Qo.pc,this.TV),this.DR.Uo(Qo.hc,this.TV),this.DR.Uo(Ll.L_,this.TV),this.DR.Uo(Qo.oc,this.TV),this.DR.Uo(Qo.lc,this.EV),this.DR.Uo(Qo.dc,this.RV)},t}(),mI=function(){function t(){}var n=t.prototype;return n.hr=function(t){return vT(t)},n.xV=function(t){dT(t)},t}(),kI=new mI,pI=function(t){function n(n,i){return void 0===i&&(i=kI),t.call(this,n,i)||this}return F(n,t),n}(yI),AI=function(t){function n(n,i,r){var e;return(e=t.call(this,n,1/0,i,!1,r)||this).PV=void 0,e}return F(n,t),n.prototype.ug=function(n){return this===n||Fd(this,n)&&t.prototype.ug.call(this,n)&&BR(this,n)},M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=MR(this)),this.$d}}]),n}(kg),bI=function(t){function n(n,i,r){return void 0===r&&(r=rg.DEFAULT),t.call(this,ry.kk,"",i||"","",!1,r,n)||this}return F(n,t),n}(yR),TI=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).io=rg.ID3,r.PV=void 0,r}F(n,t);var i=n.prototype;return i.Hb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].Qy<t.Qy)LR(n,i,t.Qy);else{var r=n[0];if(r.Qy>t.Qy)t.Yy=r.Qy;else{var e=uR(n,t);if(!(e>=0)){var s=-(e+1),u=s-1;if(u>=0&&n[u].Qy<t.Qy&&LR(n,u,t.Qy),s<n.length){var o=n[s];t.Yy=o.Qy}}}}}}(n,this.yH),t.prototype.Hb.call(this,n)},i.tl=function(){return rl(this)},n}(bI);function EI(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=dI(t.value);return t.THEOplayerTextTrackCue=new AI(i,r),t.THEOplayerTextTrackCue}var SI=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).Dy=void 0,i.nV=function(){i.t_!==$d.Yl&&(i.iV(),i.rV(ig.LOADED))},i.Dy=n,i.Dy.addEventListener("cuechange",i.nV),i.t_=i.uV,ls(function(){i.nV()}),i}F(n,t);var i=n.prototype;return i.gN=function(n){t.prototype.gN.call(this,n),this.uV=this.t_},i.rV=function(t){this.n_=_.max(this.n_,t)},i.iV=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(EI(t[r]||t.item(r)));return We(i,sR),i}(this.Dy.cues),n=hR(this.i_.Dl.slice(),t),i=0,r=n.wH;i<r.length;i++){var e=r[i];this.OH(e)}for(var s=0,u=n.gH;s<u.length;s++){var o=u[s];this.Hb(o)}},i.Lv=function(){this.Dy.removeEventListener("cuechange",this.nV),t.prototype.Lv.call(this)},M(n,[{key:"Xl",get:function(){return this.Dy.id||""}},{key:"Kl",get:function(){return this.Dy.inBandMetadataTrackDispatchType||""}},{key:"Gl",get:function(){return this.Dy.language||""}},{key:"uV",get:function(){return nl(this.Dy.mode)},set:function(t){this.Dy.mode=t}},{key:"Fy",get:function(){return this.Dy}}]),n}(TI),RI=function(t){function n(n){var i;return(i=t.call(this,0,n.Zy)||this).BV=void 0,i.BV=n,i.Yy=i.BV.Qy,i}return F(n,t),M(n,[{key:"Xl",get:function(){return this.BV.Xl}},{key:"gm",get:function(){return this.BV.gm},set:function(t){this.BV.gm=t}},{key:"_m",get:function(){return this.BV._m},set:function(t){this.BV._m=t}}]),n}(AI);function II(t){return void 0===t.PV&&(t.PV=new RI(t)),t.PV}var NI=function(t){function n(n,i){var r;(r=t.call(this,n.Kl,n.zl)||this).LV=void 0,r.MV=void 0,r.UV=void 0,r.io=rg.ID3,r.FV=function(t){r.HV(t.jy)},r.VV=function(t){var n=t.jy;if(void 0!==n.PV){var i=n.PV;n.PV=void 0,r.OH(i),i.Lv()}},r.XV=function(t){var n=II(t.jy);n.lm||r.WV(n),r.qV(n)},r.zV=function(t){var n=t.jy,i=II(n);r.MV.M_<n.Qy&&r.WV(i)},r.GV=function(){var t=r.UV,n=r.t_;if(r.UV=n,n===$d.Yl)r.EH.forEach(function(t){return t.lm=!1}),Je(r.EH);else if(t===$d.Yl)for(var i=r.MV.M_,e=0,s=r.yH;e<s.length;e++){var u=s[e];i<u.Yy&&r.WV(u)}},r.MV=i,r.LV=n,r.UV=n.t_,n.Po(bd.il,r.FV),n.Po(bd.ul,r.VV),n.Po(bd.hl,r.XV),n.Po(bd.cl,r.zV),n.Po(bd.ll,r.GV);for(var e=0,s=r.LV.i_.Dl;e<s.length;e++){var u=s[e];r.HV(u)}return r}F(n,t);var i=n.prototype;return i.WV=function(t){var n=uR(this.EH,t);if(!(n>=0)){var i=-(n+1);this.EH.splice(i,0,t),t.lm=!0,t.xo(new mR(t,this.MV.M_)),this.xo(new bR(t)),this.xo(new IR(this))}},i.qV=function(t){var n=uR(this.EH,t);n>=0&&Ye(this.EH,n),t.lm=!1,t.xo(new pR(t,this.MV.M_)),this.xo(new ER(t)),this.xo(new IR(this))},i.Lv=function(){this.LV.Uo(bd.il,this.FV),this.LV.Uo(bd.ul,this.VV),this.LV.Uo(bd.hl,this.XV),this.LV.Uo(bd.cl,this.zV),this.LV.Uo(bd.ll,this.GV),t.prototype.Lv.call(this)},i.HV=function(t){var n=II(t);(this.Hb(n),this.t_!==$d.Yl)&&(this.MV.M_<n.Yy&&this.WV(n))},M(n,[{key:"ql",get:function(){return this.LV.ql}},{key:"zl",get:function(){return this.LV.zl},set:function(t){this.LV.zl=t}},{key:"Gl",get:function(){return this.LV.Gl}},{key:"Xl",get:function(){return this.LV.Xl}},{key:"Wl",get:function(){return this.LV.Wl}},{key:"Kl",get:function(){return this.LV.Kl}},{key:"t_",get:function(){return this.LV.t_},set:function(t){this.LV.t_=t}},{key:"n_",get:function(){return this.LV.n_}},{key:"e_",get:function(){return this.LV.e_}}]),n}(bI),CI=function(t){function n(n){var i;return(i=t.call(this)||this).MV=void 0,i.MV=n,i}F(n,t);var i=n.prototype;return i.Rl=function(n){if(n.io===rg.ID3){var i=n;return i.PV||(i.PV=new NI(i,this.MV)),t.prototype.Rl.call(this,i.PV)}return t.prototype.Rl.call(this,n)},i.Il=function(n){if(n.io===rg.ID3){var i=n;return!!i.PV&&t.prototype.Il.call(this,i.PV)}return t.prototype.Il.call(this,n)},n}(ol),DI=function(t){function n(n,i){var r;return(r=t.call(this)||this).jV=re(),r.iS=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.nl).io){t.next=4;break}return t.next=4,i.Xo(bd.yl);case 4:if(i.io===rg.ID3){t.next=6;break}return t.abrupt("return");case 6:if(0!==i.i_.Ol){t.next=11;break}return t.next=9,i.Xo(bd.il);case 9:t.next=6;break;case 11:r.QV(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.rS=function(t){var n=t.nl;if(n.io===rg.ID3&&r.jV.has(n.Wl)){var i=r.jV.get(n.Wl);r.Il(i),r.Pb.Vb(i),n.Uo(bd.il,r.HV)}},r.HV=function(t){OI(t.jy)&&r.YV(t.jy)},r.Pb=n,r.ZV=i,r.JV(),r}F(n,t);var i=n.prototype;return i.JV=function(){this.ZV.Po(md.Qd,this.iS),this.ZV.Po(md.Zd,this.rS)},i.$V=function(){this.ZV.Uo(md.Qd,this.iS),this.ZV.Uo(md.Zd,this.rS)},i.QV=function(t){var n=t.i_.Dl[0];if(OI(n)){var i=function(t){var n=t.match(xI);if(!n)return;return{nl:n[1],Gl:n[2]}}(n.Zy.description),r=i.nl,e=i.Gl;if(!this.KV(r,e)){var s=this.Pb.Ub(ry.yk,t.Xl,r,e,!1,rg.TTML);this.Rl(s),this.jV.set(t.Wl,s);for(var u=0,o=t.i_.Dl;u<o.length;u++){var h=o[u];OI(h)&&this.YV(h)}t.Po(bd.il,this.HV)}}},i.KV=function(t,n){return!!Ge(this.vp.Dl,function(i){return i.zl===t&&i.Gl===n})},i.YV=function(t){if(t.nl)for(var n=this.jV.get(t.nl.Wl),i=jw(t.Zy.text,0,{bm:0,Tm:1/0,Em:-t.Yy}),r=0;r<i.length;r++){var e=i[r];n.Hb(e)}},i.Cl=function(){var n=E.coroutine(Kr.mark(function n(){var i,r,e,s,u;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.ZV.Dl;i<r.length;i++)r[i].Uo(bd.il,this.HV);for(e=0,s=this.vp.Dl;e<s.length;e++)u=s[e],this.Pb.Vb(u);return this.jV.clear(),n.next=5,t.prototype.Cl.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Lv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.$V(),n.next=3,t.prototype.Lv.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(sy);function OI(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Zy)&&xI.test(n.description);var n}var xI=/^Track:(.+),Lang:(.+)$/;var PI=function(t){function n(n){var i;return(i=t.call(this,Qo.ja)||this).errorObject=void 0,i.errorObject=n,i}return F(n,t),M(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Es),BI=function(t){function n(){return t.call(this,Qo.Qa)||this}return F(n,t),n}(Es),LI=function(t){function n(n){var i;return(i=t.call(this,"Tc")||this).tX=n,i}return F(n,t),n}(Es),MI=new zE,UI=function(t){function i(i,r,e){var s;return(s=t.call(this)||this).Mh=void 0,s.Wi=!1,s.nX=!1,s.Cd=new es,s.Rh=function(t){switch(t.Go){case"license-request":s.bT(t.zo,t.jo).catch(function(t){return s.ha(t)});break;default:s.ha(new U_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Go))}},s.iX=function(t){s.rX.Fh.rh(function(t,n){switch(t){case"usable":T.ur(function(){s.nX=!0,s.xo(new BI)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":s.xo(new LI(n))}})},s.eX=function(t){s.ha(new U_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},s.rX=i,s.sX=r,s.uX=e,i.Po("zo",s.Rh),i.Po("qo",s.iX),i.Po("Qo",s.eX),s.Mh=i.Mh.then(function(){return s.oX()}),s}F(i,t);var r=i.prototype;return r.Oh=function(){var t=this;return this.Wi=!0,MI.nL(function(n){return t.hX(n)},this.Cd.Io)},r.hX=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,os(i),t.next=4,this.sX.gT(i);case 4:return t.next=6,this.sX.wT(this.uX.eo,this.uX.Ko,i);case 6:return r=t.sent,t.next=9,this.rX.Oh(this.uX.eo,this.uX.Ko,r);case 9:t.next=18;break;case 11:throw t.prev=11,t.t0=t.catch(0),hs(t.t0),e=t.t0 instanceof $u?t.t0.kh:void 0,s=new U_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.ha(s),s;case 18:case"end":return t.stop()}},t,this,[[0,11]])}));return function(n){return t.apply(this,arguments)}}(),r.bT=function(){var t=E.coroutine(Kr.mark(function t(i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!Yu(i)){t.next=7;break}return t.next=4,this.sX.DT(new m(i),this.Cd.Io);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,this.sX.OT(new m(i),r,this.Cd.Io);case 9:e=t.sent;case 10:t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!us(t.t0)){t.next=16;break}return t.abrupt("return");case 16:throw t.t0;case 17:return t.prev=17,t.next=20,this.rX.Bh(e);case 20:t.next=26;break;case 22:throw t.prev=22,t.t1=t.catch(17),s=t.t1 instanceof $u?t.t1.kh:void 0,new U_(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,s);case 26:case"end":return t.stop()}},t,this,[[0,12],[17,22]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ha=function(t){var i=t instanceof U_?t:new U_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.xo(new PI(i)),this.Dh()},r.oX=function(){this.rX.Uo("zo",this.Rh),this.rX.Uo("qo",this.iX),this.rX.Uo("Qo",this.eX),this.nX=!1,this.Cd.Eo()},r.Dh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.oX(),t.next=4,this.rX.Dh().catch(R);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i}(bs),FI=[Qo.Qa,Qo.ja,Qo.bc],HI=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).Ih=void 0,e.Vh=void 0,e.aX=void 0,e.cX=[],e.fX=void 0,e.vX=[],e.Ih=n,e.Vh=i,e.aX=r,e}F(n,t);var i=n.prototype;return i.CT=function(){return this.aX.CT()},i.dX=function(t){return this.fX||(this.fX=this.lX(t)),this.fX},i.lX=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(n),t.next=3,this.aX.DT(new m(Qu()),n);case 3:return i=t.sent,os(n),t.next=7,this.Vh.zh(i.buffer);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i._X=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.vX.push(n),t.next=4,this.Vh.qh("temporary");case 4:return i=t.sent,r=new UI(i,this.aX,n),this.cX.push(r),r.Po(FI,this.Oo),r.Mh.then(function(){return e.gX(r)}),t.abrupt("return",r);case 10:return t.prev=10,Qe(this.vX,n),t.finish(10);case 13:case"end":return t.stop()}},t,this,[[0,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),i.wX=function(t){if(t.yX)return!1;for(var n=0,i=this.cX;n<i.length;n++){if(VI(i[n].uX,t))return!0}for(var r=0,e=this.vX;r<e.length;r++){if(VI(e[r],t))return!0}return!1},i.gX=function(t){t.Uo(FI,this.Oo),Qe(this.cX,t)},i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),n=this.cX.slice(),Je(this.cX),t.next=5,E.all(n.map(function(t){return t.Dh()}));case 5:this.aX.mo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Xh",get:function(){return this.Ih}}]),n}(bs);function VI(t,n){return!t.yX&&t.eo===n.eo&&zs(t.Ko,n.Ko)}var XI=function(t){function i(n){var i;return(i=t.call(this)||this).cS=void 0,i.Cd=new es,i.vL=new zE,i._a=void 0,i.aX=void 0,i.fS=void 0,i.Ih=void 0,i.mX=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.kX(n.eo,n.Ko,i.Cd.Io);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),us(t.t0)||i.ha(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.cS=n,i.cS.Po(As.Yo,i.mX),i}F(i,t);var r=i.prototype;return r.xh=function(t,n){this.fS=t,this.ML(n)},r.ML=function(t){this._a=t,this.pX(this.Cd.Io).catch(as)},r.pX=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!T.Pu.uu){t.next=5;break}return t.next=3,this.AX(n);case 3:if(!t.sent){t.next=5;break}return t.abrupt("return");case 5:if(!this._a||!this._a.bX){t.next=9;break}return t.next=8,this.TX(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.AX=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(i=this._a)?void 0:i.VS){t.next=3;break}return t.abrupt("return",!1);case 3:r=!1,e=0,s=null!=(u=null==(o=this._a)?void 0:o.VS)?u:[];case 5:if(!(e<s.length)){t.next=27;break}h=s[e],a=0,c=null!=(f=h.KE)?f:[];case 8:if(!(a<c.length)){t.next=22;break}return v=c[a],t.prev=10,t.next=13,this.kX(h.Xh.eo,v,n);case 13:r=!0,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),hs(t.t0);case 19:a++,t.next=8;break;case 22:if(!r){t.next=24;break}return t.abrupt("return",!0);case 24:e++,t.next=5;break;case 27:return t.abrupt("return",!1);case 28:case"end":return t.stop()}},t,this,[[10,16]])}));return function(n){return t.apply(this,arguments)}}(),r.kX=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h,a,c,f,v,d,l;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(e),r.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this._a&&this._a.VS.length){t.next=5;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(i===ve||i===le||i===de){t.next=8;break}return t.abrupt("return");case 8:s=Zm(i,r),u=this._a.VS,h=0;case 11:if(!(h<u.length)){t.next=42;break}if(a=u[h],os(e),(c=s[a.Xh.so])&&a.Xh.eo===i){t.next=17;break}return t.abrupt("continue",39);case 17:return t.prev=17,t.next=20,this.EX(a,e);case 20:if(!(f=t.sent).CT()){t.next=24;break}return t.next=24,f.dX();case 24:if(v=this.cS.yy,d={eo:a.Xh.eo,Ko:c,yX:v},!this.SX(f,d)){t.next=32;break}return t.next=29,f._X(d);case 29:return l=t.sent,t.next=32,l.Oh();case 32:return t.abrupt("return");case 35:t.prev=35,t.t0=t.catch(17),hs(t.t0),o=t.t0;case 39:h++,t.next=11;break;case 42:return t.next=44,T.bu();case 44:if(!t.sent){t.next=48;break}throw new U_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",o);case 48:throw new U_(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",o);case 49:case"end":return t.stop()}},t,this,[[17,35]])}));return function(n,i,r){return t.apply(this,arguments)}}(),r.TX=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(i=this._a)?void 0:i.VS){t.next=3;break}return t.abrupt("return");case 3:e=0;case 4:if(!(e<r.length)){t.next=23;break}return s=r[e],os(n),t.prev=7,t.next=10,this.EX(s,n);case 10:if(!(u=t.sent).CT()){t.next=14;break}return t.next=14,u.dX();case 14:return t.abrupt("return");case 17:t.prev=17,t.t0=t.catch(7),hs(t.t0);case 20:e++,t.next=4;break;case 23:case"end":return t.stop()}},t,this,[[7,17]])}));return function(n){return t.apply(this,arguments)}}(),r.SX=function(t,n){return T.Pu.su||!t.wX(n)},r.EX=function(t,n){var i=this;return this.vL.nL(function(n){return i.RX(t,n)},n)},r.RX=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),this._a&&this.aX&&this.fS){t.next=3;break}throw new v("Not initialized");case 3:if(!this.Ih){t.next=7;break}if(this.Ih.Xh===n.Xh){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.Ih);case 7:return r=this.aX,e=te({},n,{nR:n.nR.map(function(t){var i;return te({},t,{persistentState:null!=(i=t.persistentState)?i:r.$T(n.Xh),ta:t.ta||r.ta(n.Xh)})})}),t.next=11,this.fS.PL(e.Xh,e.nR);case 11:return s=t.sent,u=r.$E(e),(o=new HI(e.Xh,s,u)).Po([Qo.Qa,Qo.ja,Qo.bc],this.Oo),this.Ih=o,t.abrupt("return",o);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ha=function(t){var i=t instanceof U_?t:new U_(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.xo(new PI(i))},r.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.fS=void 0,this._a=void 0,this.Cd.Eo(),this.Cd=new es,t.next=6,this.IX();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.IX=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vL.Eo();case 2:if(!(n=this.Ih)){t.next=8;break}return n.Uo(Qo.bc,this.Oo),this.Ih=void 0,t.next=8,n.Lv();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.mo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.cS.Uo(As.Yo,this.mX),t.next=4,this.Cl();case 4:return t.next=6,this.vL.Lv();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(i,[{key:"NX",get:function(){var t;return null==(t=this.Ih)?void 0:t.Xh}},{key:"US",get:function(){return this.aX},set:function(t){this.aX=t}}]),i}(bs),WI=Y.Ie||Y.Ne,qI=Y.Ge,zI=.5,GI=5,jI=Y.Pe,QI=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Ra=void 0,s.CX=void 0,s.vS=void 0,s.PR=!0,s.fS=void 0,s.DX=new zE,s.OX=void 0,s.xX=void 0,s.PX=void 0,s.CL=void 0,s.Lw=void 0,s.HI=void 0,s.BX=[],s.LX=void 0,s.MX=void 0,s.UX=void 0,s.FX=void 0,s.HX=void 0,s.VX=void 0,s.XX=void 0,s.WX=NaN,s.qX=void 0,s.zX=void 0,s.LI=!1,s.GX=E.resolve(),s.jX=new es,s.QX=[],s.YX=nA.SI(),s.ZX=void 0,s.JX=1,s.$X=!1,s.KX=!1,s.ho=void 0,s.tW=!1,s.nW=!1,s.iW=!1,s.rW=!1,s.eW=0,s.sW=function(t){var n=t.track,i=s.uW(n);s.oW(n,i)},s.hW=function(t){var n=$I(s.LX,t.track);n&&s.LX.Il(n)},s.aW=function(){for(var t=0;t<s.Lw.Ol;t++){var n=s.Lw.Sl(t);n instanceof _I&&n.hV()}},s.cW=function(){s.LX.Cl()},s.fW=function(){var t=s.fS,n=t.NF,i=t.CF;if(n&&i)if(t.WL)s.vW();else if(t.n_!==WS.jU){var r=n._y,e=i._y;if(0!==r.Ol&&0!==e.Ol){var u=s.M_;if(u<r.WR(0)||u<e.WR(0))s.vW();else if(r.iR(u)!==e.iR(u))s.dW();else if(s.vW(),!s.eW&&s.PX.vH())r.aI(e).lI(u,u+zI)&&(s.eW=vT(s.lW))}else s.vW()}},s.lW=function(){s.eW=0,s.fW()},s._W=function(){if(!(s.q_||s.n_>=yl.N_)){0;var t=s.fS,n=t.NF,i=t.CF;if(n&&i){var r=s.M_,e=n._y,u=i._y;if(e.iR(r)&&u.iR(r))e.aI(u).lI(r-GI,r)&&s.ah(r)}}},s.gW=function(){s.xo(new Fl(s.M_))},s.wW=function(){s.yW(new ss),s.xo(new Ul(s.M_))},s.mW=function(){s.kW(),s.xo(new tm(s.M_))},s.pW=function(){s.AW(s.W_)},s.bW=function(){s.$X&&!s.MS.ended&&(s.$X=!1),s.xo(new ql(s.U_))},s.TW=function(){s.xo(new vS(s.M_))},s.EW=function(){s.xo(new dS)},s.SW=function(){var t=s.M_,n=s.q_,i=s.n_<yl.N_&&!s.F_,r=void 0!==s.zX,e=r&&s.zX!==t;(n||!r||e&&!i)&&(s.xo(new Gl(s.M_,void 0)),s.zX=t)},s.RW=function(){!s.$X&&s.F_&&(s.$X=!0,s.xo(new jl(s.M_)))},s.IW=function(){if(null!==s.Ra.error){var t,n=s.Ra.error;s.pS(new F_(null!=(t=n.code)?t:B_.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode))}},s.NW=function(){s.xo(new Jl(s.M_,s.j_))},s.DW=function(){s.G_>0&&s.z_>0&&s.xo(new Cy)},s.OW=function(t){s.xo(new Ds(t.initDataType,t.initData||new ArrayBuffer(0)))},s.xW=function(){s.xo(new Os)},s.PW=function(t){var n=t.initData,i=n?qu(n).buffer:new ArrayBuffer(0);s.xo(new Ds(ve,i))},s.BW=function(t){if(t.initData){var n=YI(t.initData);if(!n)return;s.xo(new Ds(le,n))}else s.xo(new Ds(le,new ArrayBuffer(0)))},s.LW=function(t){var n=t.initData,i=n?qu(n).buffer:new ArrayBuffer(0);s.xo(new Ds(ve,i))},s.MW=function(){s.kW()},s.UW=function(t){s.yW(t)},s.FW=function(t){s.xo(t),t.type===Qo.ja&&s.pS(V_(t.errorObject))},s.Ra=n,s.ho=i,s.CX=r,s.HI=e,s.xX=new $S(sn(s)),s.xX.Po(Ll.gl,s.Oo),s.PX=new nR(sn(s)),s.PX.Po(Ll.L_,s.mW),s.CL=new XI(sn(s)),s.CL.Po([Qo.Qa,Qo.ja,Qo.bc],s.FW),s.Lw=new ey,s.LX=new ey,s.MX=new Mp([s.Lw,s.LX]),s.UX=new CI(sn(s)),s.UX.Ul=s.MX,s.FX=new DI(sn(s),s.UX),s.HX=new Mp([s.MX,s.FX.vp]),s.VX=new pI(sn(s)),s.HW(),s.HS(),s}F(n,t);var i=n.prototype;return i.VW=function(){this.MS.ended||this.M_===this.U_||(this.$X=!1)},i.XW=function(){return void 0!==this.XX&&this.U_===this.XX},i.AW=function(t){this.JX!==t&&(this.JX=t,this.xo(new zl(this.M_,t)))},i.sR=function(){return lE(this.Ra)},i.qw=function(){var t=this.WW();return this.qW(),t},i.qW=function(){this.tW?this.nW&&(this.nW=!1,this.xo(new Fl(this.M_))):this.zW()},i.zW=function(){if(this.OX)this.OX.qw();else{Y.Pe&&!Y.me&&this.Ra.preload===jp.RR&&(this.Ra.preload=jp.kk);var t=this.W_,n=this.Ra.play();t!==this.MS.playbackRate&&(this.W_=t),st(n)?n.then(this.MW,this.UW):this.PX.vH()&&this.kW()}},i.zw=function(){this.tW?this.nW||(this.nW=!0,this.xo(new Ul(this.M_))):this.GW()},i.GW=function(){this.OX?this.OX.zw():(this.Ra.pause(),this.PX.Bh()),this.jW(new ss)},i.WW=function(){var t=new ju;return this.QX.push(t),t.gh},i.QW=function(){for(var t=0,n=this.QX;t<n.length;t++){n[t].wh(void 0)}Je(this.QX)},i.jW=function(t){for(var n=0,i=this.QX;n<i.length;n++){i[n].yh(t)}Je(this.QX)},i.kW=function(){this.tW||this.OX||this.QW()},i.yW=function(t){this.tW||this.OX||this.jW(t)},i.ah=function(t,n){this.OX?this.OX.M_=t:(this.jX.Eo(),this.jX=new es,this.GX=this.YW(t,this.GX,this.jX.Io).catch(R))},i.eR=function(t){var n=this.uR;if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ah(i)}},i.YW=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.XX=n,this.WX=n,this.LI=!0,this.$X&&!this.XW()&&(this.$X=!1),this.xo(new Yl(n)),t.next=8,i.catch(R);case 8:if(os(r),this.KX&&this.ZW(),this.n_!==yl.S_){t.next=13;break}return t.next=13,this.Xo(Ll.gl,r);case 13:if(0!==this.Ra.seekable.length){t.next=19;break}return t.next=16,E.race([wd(this.Ra,"timeupdate",r),ys(100,r)]);case 16:os(r),t.next=13;break;case 19:e=this.JW(n),s=this.Iy,u=!0,o=!1;case 23:if((s=this.Iy).Ol>0&&!s.iR(e)&&(e=s.KR(e),u=!0),jI&&void 0!==(h=this.$W())&&e>h&&(e=h,u=!0),o){t.next=37;break}if(!(void 0!==(a=this.KW())&&e>a)){t.next=37;break}return o=!0,t.next=33,this.tq(a,r);case 33:return t.next=35,wd(this.Ra,"seeked",r);case 35:os(r),u=!0;case 37:if(!u){t.next=56;break}return u=!1,t.next=41,this.tq(e,r);case 41:os(r),c=this.M_,s=this.Iy,e=s.KR(e),f=1;case 46:if(!(_.abs(e-c)>=1/6)){t.next=56;break}return s=this.Iy,e=JI(e,s,f),t.next=51,this.tq(e,r);case 51:os(r),c=this.M_,f++,t.next=46;break;case 56:if(this.Ra.seeking||this.n_<yl.I_){t.next=58;break}return t.abrupt("break",63);case 58:return t.next=60,vs(function(t){var n;return E.race([wd(v.Ra,"seeked",t),v.Xo([Qo.ac,Qo.Ja,Ll.gl],t),null==(n=v.fS)?void 0:n.Xo(rS.eC,t)].filter($))},r);case 60:os(r),t.next=23;break;case 63:this.nq(),t.next=71;break;case 66:if(t.prev=66,t.t0=t.catch(0),!us(t.t0)){t.next=70;break}return t.abrupt("return");case 70:0;case 71:case"end":return t.stop()}},t,this,[[0,66]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.tq=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),r=this.Iy,n=r.KR(n),!this.KX){t.next=18;break}e=!0;case 5:if(!(e||this.n_<yl.N_)){t.next=17;break}if((r=this.Iy).iR(n)||(n=r.KR(n),e=!0),!e){t.next=13;break}return e=!1,this.XX=n,this.iq(this.M_),t.abrupt("continue",5);case 13:return t.next=15,this.Xo([Ll.gl,Qo.Ja],i);case 15:t.next=5;break;case 17:os(i);case 18:if(s=wd(this.Ra,"seeking",i),this.Ra.currentTime=n,this.XX=void 0,this.iq(this.M_),!this.Ra.seeking){t.next=25;break}return t.next=25,s;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.JW=function(t){var n=this._y;if(n&&!n.iR(t)){var i=n.fI(t,.05);if(i>-1){var r=n.WR(i);if(t<r)return r}}return t},i.$W=function(){if(this.fS&&this.fS.WL){var t=this.fS.qL,n=this.fS.zL,i=t&&n?t.iI(n):t||n;if(i&&0!==i.Ol){var r=i.WR(i.Ol-1),e=i.zR(i.Ol-1);return _.max(r,e-.001)}}},i.KW=function(){if(this.fS&&this.fS.WL){var t=this.fS.zL;if(t&&0!==t.Ol){var n=t.WR(t.Ol-1),i=t.zR(t.Ol-1)-.02;return i-=.001,_.max(n,i)}}},i.iq=function(t){this.WX!==t&&(this.WX=t,this.xo(new Yl(t)))},i.nq=function(){this.LI=!1,this.WX=NaN,this.KX&&this.rq(),this.xo(new Zl(this.M_))},i.ZW=function(){this.tW||(this.nW=this.X_,this.tW=!0,this.GW())},i.rq=function(){this.tW&&(this.tW=!1,this.nW||this.qW())},i.XL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.io===Ny.Wb&&fS.XL(i,this.Ra))return i;if(i.io===Ny.qb&&jS.XL(i))return i}},i.iy=function(){this.PR=!1,Or(this.Ra)&&(this.Ra.style.display="none")},i.ny=function(){this.PR=!0,Or(this.Ra)&&(this.Ra.style.display="block")},i.Ub=function(t,n,i,r,e,s,u){var o=new yR(t,n,i,r,e,s,u);return this.Lw.Rl(o),this.VX.Rl(o),o},i.GS=function(){return!0},i.QS=function(t,n,i,r){var e=s.createElement("track");e.src=Pf(t),e.kind=n,e.label=null!=i?i:"",r&&(e.srclang=r),e.id=Xb(),this.Ra.appendChild(e);var u=this.Ra.textTracks.getTrackById(e.id),o=new _I(u,e);return this.LX.Rl(o),this.BX.push(o),o},i.Vb=function(t){this.Lw.Il(t),this.VX.Il(t)},i.JS=function(){for(var t=0,n=this.Lw.Dl.slice();t<n.length;t++){n[t].Lv()}this.Lw.Cl();for(var i=0,r=this.BX.slice();i<r.length;i++){var e=r[i];this.LX.Il(e),e.Lv()}Je(this.BX)},i.HS=function(){var t=this.Ra.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.sW),t.addEventListener("removetrack",this.hW),t.addEventListener("change",this.aW)),this.Ra.addEventListener("emptied",this.cW)},i.KS=function(){var t=this.Ra.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.sW),t.removeEventListener("removetrack",this.hW),t.removeEventListener("change",this.aW)),this.Ra.removeEventListener("emptied",this.cW)},i.oW=function(t,n){if(Y.Pe){if(t.kind===ry.kk)return void this.sq(t);if(t.kind===ry.Ib&&""===t.label&&""===t.language&&!KI(t))return void this.uq(t,n)}$I(this.LX,t)||this.LX.Rl(new _I(t,n))},i.sq=function(t){t.mode=$d.Zl;var n=new SI(t);this.LX.Rl(n),this.VX.Rl(n)},i.uq=function(t,n){var i=this;t.addEventListener("cuechange",function r(){KI(t)&&(t.removeEventListener("cuechange",r),i.LX.Rl(new _I(t,n)))}),t.mode=$d.Zl},i.uW=function(t){for(var n=this.Ra.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.xh=function(t){var n=this;return this.DX.nL(function(){var i=E.coroutine(Kr.mark(function i(r){var e;return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(os(r),!n.fS){i.next=3;break}throw new v("Already loaded a media source");case 3:if(t.io!==Ny.Wb){i.next=9;break}e=new fS(t,n,n.CL,n.ho),n.KX=!1,n.oq(new $S(n)),i.next=17;break;case 9:if(t.io!==Ny.qb){i.next=16;break}e=new jS(t,n,n.CL,n.ho),n.KX=WI,n.oq(n.KX?new KS(n):new $S(n)),qI&&(n.Po(Qo.pc,n.fW),n.Po(Ll.gl,n._W)),i.next=17;break;case 16:throw new v("Unsupported configuration");case 17:return n.fS=e,i.next=20,e.Nx();case 20:return i.abrupt("return",e);case 21:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.dW=function(){if(!this.iW){var t=this.W_;this.iW=!0,this.W_=t,this.Ra.playbackRate=0,this.xX&&this.xX.sH()}},i.vW=function(){if(this.iW){var t=this.W_;this.iW=!1,this.W_=t,this.Ra.currentTime=this.Ra.currentTime,this.xX&&this.xX.sH()}},i.oq=function(t){var n=this.n_;this.xX.mo(),this.xX=t,this.xX.Po(Ll.gl,this.Oo);var i=this.n_;n!==i&&this.xo(new t_(this.M_,i))},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){var n=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.LI=!1,this.YX=nA.SI(),this.jX.Eo(),this.XX=void 0,this.WX=NaN,this.qX=void 0,this.KX=!1,this.tW=!1,this.vS=void 0,this.$X=!1,this.zX=void 0,this.jW(new ss),this.oq(new $S(this)),this.PX.Cl(),this.vW(),qI&&(dT(this.eW),this.eW=0,this.Uo(Qo.pc,this.fW),this.Uo(Ll.gl,this._W)),t.next=18,this.DX.Eo();case 18:return t.next=20,this.DX.nL(E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.fS){t.next=4;break}return t.next=3,n.fS.mo();case 3:n.fS=void 0;case 4:case"end":return t.stop()}},t)})));case 20:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hq(),this.KS(),t.next=4,this.Cl();case 4:return t.next=6,this.DX.Lv();case 6:return this.PX.mo(),this.xX.mo(),t.next=10,this.CL.mo();case 10:return this.JS(),this.Lw.Lv(),this.UX.Lv(),this.LX.Lv(),t.next=16,this.FX.Lv();case 16:this.MX.Lv(),this.HX.Lv(),this.Mo();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.HW=function(){this.MS.addEventListener("play",this.gW),this.MS.addEventListener("pause",this.wW),this.MS.addEventListener("timeupdate",this.SW),this.MS.addEventListener("progress",this.TW),this.MS.addEventListener("loadstart",this.EW),this.MS.addEventListener("ended",this.RW),this.MS.addEventListener("ratechange",this.pW),this.MS.addEventListener("volumechange",this.NW),this.MS.addEventListener("durationchange",this.bW),this.MS.addEventListener("resize",this.DW),this.MS.addEventListener("loadedmetadata",this.DW),this.MS.addEventListener("error",this.IW),Fe()?(this.Ra.addEventListener("encrypted",this.OW),this.Ra.addEventListener("waitingforkey",this.xW)):void 0!==kr.WebKitMediaKeys&&"function"==typeof kr.WebKitMediaKeys.isTypeSupported?this.Ra.addEventListener("webkitneedkey",this.BW):He()?this.Ra.addEventListener("webkitneedkey",this.LW):void 0!==kr.MSMediaKeys&&"function"==typeof kr.MSMediaKeys.isTypeSupported&&this.Ra.addEventListener("msneedkey",this.PW)},i.hq=function(){this.MS.removeEventListener("play",this.gW),this.MS.removeEventListener("pause",this.wW),this.MS.removeEventListener("timeupdate",this.SW),this.MS.removeEventListener("progress",this.TW),this.MS.removeEventListener("loadstart",this.EW),this.MS.removeEventListener("ended",this.RW),this.MS.removeEventListener("ratechange",this.pW),this.MS.removeEventListener("volumechange",this.NW),this.MS.removeEventListener("durationchange",this.bW),this.MS.removeEventListener("resize",this.DW),this.MS.removeEventListener("loadedmetadata",this.DW),this.MS.removeEventListener("error",this.IW),this.MS.removeEventListener("encrypted",this.OW),this.MS.removeEventListener("waitingforkey",this.xW),this.MS.removeEventListener("webkitneedkey",this.BW),this.MS.removeEventListener("webkitneedkey",this.LW),this.MS.removeEventListener("msneedkey",this.PW)},i.aq=function(){var t;this.OX||(this.YX=this.Sy,this.OX=new YS((t=this).M_,t.U_,t.F_,t.X_,t.q_,t.V_,t.W_,t.j_),this.hq(),this.OX.Po(QS,this.Oo))},i.cq=function(){if(this.OX){var t,n,i=this.OX;this.OX=void 0,t=this,(n=i).U_===t.U_||y(n.U_)&&y(t.U_)||t.xo(new ql(t.U_)),t.V_=n.V_,t.j_=n.j_,t.W_=n.W_,n.X_?t.zw():t.qw().catch(R),n.M_!==t.M_?t.ah(n.M_):!n.q_&&t.q_?t.xo(new Yl(t.M_)):n.q_&&!t.q_&&t.xo(new Zl(t.M_)),!n.F_&&t.F_&&t.xo(new jl(t.M_)),i.Uo(QS,this.Oo),this.HW()}},i.pS=function(t){this.vS=t,this.jW(this.vS),this.xo(new iR(this.vS))},i.fq=function(){this.vq||(FC(this.Ra,T.Pu),this.rW=!0)},i.dq=function(t){t.appendChild(this.Ra)},i.jF=function(){qI&&this.fW(),this.xX.sH()},i.ly=function(){this.CL.IX().catch(R)},M(n,[{key:"oH",get:function(){return this.iW}},{key:"_y",get:function(){return this.fS?this.fS._y:nA.SI()}},{key:"gy",get:function(){var t=this.uR;if(t&&!y(t.getTime())){var n=1e3*this.M_;return new Date(t.getTime()+n)}}},{key:"uR",get:function(){if(this.MS.getStartDate)return this.LI&&this.qX||(this.qX=this.MS.getStartDate()),this.qX}},{key:"M_",get:function(){return this.OX?this.OX.M_:void 0!==this.XX?this.XX:this.Ra.currentTime}},{key:"LB",get:function(){return this.CX}},{key:"U_",get:function(){return this.OX?this.OX.U_:this.fS?this.fS.U_:this.Ra.duration}},{key:"F_",get:function(){return this.q_?this.XW():this.OX?this.OX.F_:this.Ra.ended||this.$X}},{key:"Qo",get:function(){return this.vS}},{key:"MS",get:function(){return this.Ra}},{key:"X_",get:function(){return this.tW?this.nW:this.OX?this.OX.X_:this.Ra.paused}},{key:"Sy",get:function(){return this.YX.hI(nA.bI(this.Ra.played))}},{key:"Ip",get:function(){return this.Ra.offsetHeight*T.Pu.ru}},{key:"cu",get:function(){return this.Ra.offsetWidth*T.Pu.ru}},{key:"ZS",get:function(){return eA}},{key:"n_",get:function(){return this.xX.n_}},{key:"Iy",get:function(){return this.fS?this.fS.Iy:nA.SI()}},{key:"q_",get:function(){return this.OX?this.OX.q_:this.LI}},{key:"V_",get:function(){return this.OX?this.OX.V_:this.Ra.muted},set:function(t){this.OX?this.OX.V_=t:this.Ra.muted=t}},{key:"W_",get:function(){return this.OX?this.OX.W_:void 0!==this.ZX?this.ZX:this.Ra.playbackRate},set:function(t){this.OX?this.OX.W_=t:this.X_||this.iW?(this.ZX=t,this.AW(t)):(this.ZX=void 0,this.Ra.playbackRate=t)}},{key:"lq",get:function(){return this.PR}},{key:"j_",get:function(){return this.OX?this.OX.j_:this.Ra.volume},set:function(t){this.OX?this.OX.j_=t:this.Ra.volume=t}},{key:"Xw",get:function(){return this.HX}},{key:"UB",get:function(){return this.HI}},{key:"yy",get:function(){return!!this.Ra.webkitCurrentPlaybackTargetIsWireless}},{key:"vq",get:function(){return this.rW}},{key:"_q",get:function(){return te({},oS)}},{key:"US",get:function(){return this.CL.US},set:function(t){this.CL.US=t}},{key:"NX",get:function(){return this.CL.NX}}]),n}(bs);function YI(t){try{var n=Fu(t),i=new zu;return Du(Ou(cu(n,i,gu(n,i,!0)),!0))}catch(t){return}}var ZI=.01;function JI(t,n,i){if(void 0===i&&(i=0),!n.Ol)return 0;var r=n.KR(t),e=ZI*i;return r===n.WR(0)?r+=e:r===n.zR(n.Ol-1)&&(r-=e),r}function $I(t,n){for(var i=0,r=t.Dl;i<r.length;i++){var e=r[i];if(e.Fy===n)return e}}function KI(t){return!!t.cues&&t.cues.length>0}var tN=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).$d=void 0,n}return F(n,t),M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=SE(this)),this.$d}},{key:"eB",get:function(){}},{key:"sB",get:function(){}},{key:"uB",get:function(){}},{key:"oB",get:function(){}},{key:"hB",get:function(){}},{key:"aB",get:function(){}},{key:"cB",get:function(){}}]),n}(bs),nN=(new tN,function(t){function n(n,i,r){return t.call(this,n,i,r,new tN)||this}return F(n,t),n.prototype.ey=function(){},M(n,[{key:"z_",get:function(){return 0}},{key:"G_",get:function(){return 0}}]),n}(QI)),iN="theoplayer-texttracks",rN=function(){function t(t){void 0===t&&(t=5),this.gq=void 0;var n=kr.document.createElement("div");n.className=iN,n.style.position="absolute",n.style.display="none",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="10%",n.style.bottom="80%",n.style.bottom="10%",n.style.left="0",n.style.width="100%",n.style.lineHeight="1.3em",n.style.zIndex=""+t,this.gq=n,this.ny()}var n=t.prototype;return n.iy=function(){this.gq.style.display="none"},n.ny=function(){Ir(this.gq.style,"flex")},n.dq=function(t){t.appendChild(this.gq)},n.Lv=function(){Sr(this.gq)},M(t,[{key:"wy",get:function(){return this.gq}}]),t}();function eN(t,n){return t?te({},n,Hd({oB:t.oB,uB:t.uB,sB:t.sB,eB:t.eB,hB:t.hB,aB:t.aB,cB:t.cB})):n}function sN(t){return t.uB&&Ie(t.uB,"%")?Number(t.uB.replace("%",""))/100:t.uB&&Ie(t.uB,"em")?Number(t.uB.replace("em","")):1}var uN,oN,hN=function(){function t(t,n,i,r,e){var s=this;this.wq=ie(),this.yq=!0,this.mq=void 0,this.hm=void 0,this.Ra=void 0,this.CX=void 0,this.kq=void 0,this.pq=function(t){return s.wq.has(t._m)},this.Aq=function(t){return!s.pq(t)},this.bq=function(t){return s.Hb(t.jy)},this.Tq=function(t){return s.removeCue(t.jy)},this.Eq=function(){return s.Sq()},this.Rq=function(t){return s.Iq(t.jy)},this.Nq=function(t){return s.Cq(t.jy)},this.Dq=function(t){s.Oq(t.cu,t.Ip)},this.hm=t,this.kq=this.mq=e,this.Ra=this.xq(i),this.CX=r,n.appendChild(this.Ra),this.Pq(),this.hm.i_.Dl.forEach(function(t){return s.Hb(t)}),this.LB.Po("MD",this.Dq),this.Oq(this.LB.qD,this.LB.WD)}var n=t.prototype;return n.Bq=function(t){this.mq=eN(t,this.kq),this.mq.eB&&(this.MS.style.fontFamily=this.mq.eB),this.mq.cB&&(this.MS.style.visibility=this.mq.cB),this.Oq(this.LB.qD,this.LB.WD),this.Lq()},n.Mq=function(){return this.mq},n.Pq=function(){this.hm.Po(bd.il,this.bq),this.hm.Po(bd.ul,this.Tq),this.hm.Po(bd.ll,this.Eq)},n.Uq=function(){var t=this;this.hm.Uo(bd.il,this.bq),this.hm.Uo(bd.ul,this.Tq),this.hm.Uo(bd.ll,this.Eq),this.hm.i_.Dl.forEach(function(n){return t.Fq(n)})},n.Hq=function(t){t.Po(og.Wy,this.Rq),t.Po(og.zy,this.Nq)},n.Fq=function(t){t.Uo(og.Wy,this.Rq),t.Uo(og.zy,this.Nq)},n.Hb=function(t){t._m||(t._m=this.Vq),this.Hq(t),t.lm&&this.Iq(t)},n.removeCue=function(t){this.Fq(t),this.Cq(t)},n.Sq=function(){this.hm.t_===$d.Jl?this.Xq():this.Wq()},n.Xq=function(){var t=this,n=this.LB.qD,i=this.LB.WD,r=new eT(n,i);this.Dq(r),this.yq=!1,this.qq.forEach(function(n){return t.Iq(n)})},n.Iq=function(t){this.yq||this.Aq(t)&&(this.zq(t),this.wq.set(t._m,t))},n.zq=function(t){var n=this.Ra,i=this.Gq(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t._m,n.appendChild(e)}},n.Wq=function(){var t=this;this.yq=!0,this.wq.forEach(function(n){return t.Cq(n)})},n.Cq=function(t){this.pq(t)&&(this.jq(t),this.wq.delete(t._m))},n.jq=function(t){for(var n=this.Ra,i=n.getElementsByClassName(t._m);i.length;)n.removeChild(i[0])},n.Lq=function(){for(var t=0,n=this.Qq;t<n.length;t++){var i=n[t];this.jq(i),this.zq(i)}},n.Lv=function(){Sr(this.MS),this.Uq(),this.LB.Uo("MD",this.Dq)},M(t,[{key:"nl",get:function(){return this.hm}},{key:"MS",get:function(){return this.Ra}},{key:"LB",get:function(){return this.CX}},{key:"Yq",get:function(){return this.mq}},{key:"Qq",get:function(){return this.hm.r_.Dl.filter(this.pq)}},{key:"qq",get:function(){return this.hm.r_.Dl.filter(this.Aq)}}]),t}();function aN(t){return cN[t||"none"]}!function(t){t.Zq='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.Jq='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.$q='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.Kq='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(uN||(uN={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(oN||(oN={}));var cN={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};function fN(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var vN=ee({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),dN=ee({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),lN={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=vN.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){Ce(t,"px")?t=g(t)/24+"em":Ce(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" "),r=i[0],e=i[1];void 0===r&&void 0===e||(void 0!==r&&(n.style.left=r),void 0!==e&&(n.style.top=e))},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=dN.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(Ce(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},_N=0,gN={sB:oN.WHITE,eB:"Arial, Helvetica, Sans-Serif",uB:"100%",oB:oN.TRANSPARENT,hB:oN.TRANSPARENT,aB:"none",cB:"visible"},wN=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,gN)||this}F(n,t);var i=n.prototype;return i.xq=function(t){var n=s.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.Oq=function(t,n){var i=_.min(t,n)/15;this.MS.style.fontSize=i+"px"},i.Gq=function(t){if(t.nl&&t.nl.io!==rg.TTML)return[];var n,i=[],r=t,e=r.yb,u=r.Sm,o=r.Zy;if(0===l.keys(u).length){Rr(n=s.createElement("div"),r._m),TN(n);for(var h=yN(o,e,r.mb,void 0,this.MS),a=0;a<h.length;a++){var c=h[a];n.appendChild(c)}i.push(n)}else for(var f=0,v=l.keys(u);f<v.length;f++){var d=v[f],_=s.createElement("div");_.id=d,Rr(_,r._m);var g=yN(o,e,r.mb,_,this.MS);if(g){TN(_),pN(_,u[d],e,this.MS);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.Bq=function(t){},M(n,[{key:"Vq",get:function(){return"theoplayer-ttmlcue-"+_N++}}]),n}(hN);function yN(t,n,i,r,e){var s,u;if(rn(t)&&("SPAN"===(u=t).os.toUpperCase()||"P"===u.os.toUpperCase()||"BR"===u.os.toUpperCase()||"DIV"===u.os.toUpperCase()||"BODY"===u.os.toUpperCase())){var o=function t(n){var i=n.bs("region");if("p"===n.os.toLowerCase())return i;var r=[];for(var e=0,s=n.As;e<s.length;e++){var u=s[e];r.push(t(u))}!function(t){for(var n=[],i=0;i<t.length;i++){for(var r=!0,e=i+1;e<t.length;e++)if(t[i]===t[e]){r=!1;break}r&&n.push(t[i])}}(r);return 0===r.length?i:1===r.length?null!=(o=r[0])?o:i:void 0;var o}(t);if(!o||r.id===o){(function(t,n,i,r){var e=n.bs("style");bN(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.Ns).forEach(function(n){var r=Xw(n.hs,["ebutts","tts","xml"]);lN[r]&&lN[r](n.fs,t,i)})}(t,n,r)})(s="BODY"===t.os.toUpperCase()?r:mN(t),t,n,e),function(t,n,i){var r=null==n?void 0:n.bs("smpte:backgroundImage");if(r){r=r.replace("#","");var e=function t(n,i){if(n&&i(n))return n;var r=null;if(null!=n&&n.As)for(var e=0,s=null==n?void 0:n.As;e<s.length;e++){var u=s[e];if(r=t(u,i))break}return r}(i,function(t){return t.Ns.some(function(t){return"id"===t.os&&t.fs===r})});e&&AN(t,e,n,!0)}!function(t,n){var i=n.As[0];if(!i||"metadata"!==i.os.toLowerCase())return;var r=i.As[0];AN(t,r,n)}(t,n)}(s,t,i);for(var h=[],a=t._s,c=0;c<a.length;c++){var f=yN(a[c],n,i,r,e);f&&(h=h.concat(f))}if("BODY"!==t.os.toUpperCase()){for(var v=0,d=h;v<d.length;v++){var l=d[v];s.appendChild(l)}return[s]}return h}}else en(t)&&(s=mN(t));if(s)return[s]}function mN(t){var n,i;if(en(t))fN(n=s.createElement("text"),t.Ds);else if(rn(t))switch(t.os.toUpperCase()){case"BR":n=s.createElement("br");break;case"SPAN":n=s.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",kN(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=s.createElement("p")),kN(n,t);break;case"DIV":(n=s.createElement("div")).style.position="absolute",kN(n,t)}return n}function kN(t,n){var i=n.Ts(Fw,"id");i&&(t.id=i)}function pN(t,n,i,r){bN(t,n.style,i,r),l.keys(n).forEach(function(i){lN[i]&&lN[i](n[i],t)})}function AN(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e=s.createElement("img");e.src=function(t){var n=t&&t._s.length>0?t._s[0]:null;return n&&en(n)?"data:image/png;base64,"+n.Ds:""}(n),e.id=t.id,e.style.height="100%",e.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=n.bs("smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=n.bs("smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(e)}function bN(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(e){var s=Xw(e,["ebutts","tts","xml"]);"style"===s.toLowerCase()?bN(t,i[n][e],i,r):lN[s]&&lN[s](i[n][e],t,r)})})}function TN(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var EN,SN,RN=void 0;function IN(t,n){for(var i,r=EN.tz,e="",s=[],u=t.charAt(n.vh),o="",h={io:SN.nz,gs:"",iz:[]};n.vh<t.length+1;){switch(u=n.vh<t.length?t.charAt(n.vh):"EOF",r){case EN.tz:switch(u){case"&":var a=t.substr(n.vh).match(/&#?[0-9a-zA-Z]+;/);a?(e+=(i=a[0],RN||(RN=kr.document.createElement("textarea")),RN.innerHTML=i,RN.value),n.hh(a[0].length-1)):e+="&";break;case"<":if(e)return{io:SN.rz,Zy:e};r=EN.ez;break;case"EOF":return{io:SN.rz,Zy:e};default:e+=u}break;case EN.ez:switch(u){case"\t":case"\n":case"\f":case" ":r=EN.sz;break;case".":r=EN.uz;break;case"/":r=EN.oz;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=u,r=EN.hz;break;case">":return n.hh(1),h;case"EOF":return h;default:e=u,r=EN.az}break;case EN.az:switch(u){case"\t":case"\f":case" ":r=EN.sz;break;case"\n":o=u,r=EN.sz;break;case".":r=EN.uz;break;case">":return n.hh(1),{io:SN.nz,gs:e,iz:[]};case"EOF":return{io:SN.nz,gs:e,iz:[]};default:e+=u}break;case EN.uz:switch(u){case"\t":case"\f":case" ":s.push(o),o="",r=EN.sz;break;case"\n":s.push(o),o=u,r=EN.sz;break;case".":s.push(o),o="";break;case">":return n.hh(1),s.push(o),{io:SN.nz,gs:e,iz:s};case"EOF":return s.push(o),{io:SN.nz,gs:e,iz:s};default:o+=u}break;case EN.sz:switch(u){case"&":r=EN.cz;break;case">":n.hh(1);var c=o.trim();return c=c.replace(/\s/," "),{io:SN.nz,gs:e,iz:s,fz:c};default:o+=u}break;case EN.cz:for(var f="",v=n.vh;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=EN.sz;break;case EN.oz:switch(u){case">":return n.hh(1),{io:SN.vz,gs:e};case"EOF":return{io:SN.vz,gs:e};default:e+=u}break;case EN.hz:switch(u){case">":return n.hh(1),{io:SN.dz,lz:e};case"EOF":return{io:SN.dz,lz:e};default:e+=u}}n.hh(1)}}!function(t){t.tz="Data",t.ez="Tag",t.az="StartTag",t.uz="StartTagClass",t.sz="StartTagAnnotation",t.cz="CharRefInAnnotation",t.oz="EndTag",t.hz="TimestampTag"}(EN||(EN={})),function(t){t.rz="string",t.nz="starttag",t.vz="endtag",t.dz="timestamp"}(SN||(SN={}));var NN,CN,DN={sB:oN.WHITE,eB:"sans-serif",uB:"100%",oB:"rgba(0,0,0,0.8)",hB:oN.TRANSPARENT,aB:"none",cB:"visible"},ON="theoplayer-webvtt-region-",xN="theoplayer-webvtt-styling-",PN="theoplayer-webvtt-voice-",BN=5.23,LN=1.14,MN=0,UN=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,DN)||this)._z={},s.gz=WN(3),s}F(n,t);var i=n.prototype;return i.xq=function(t){var n=s.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,Cr(n),Ir(n.style,"flex"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.Yq.eB,n.style.whiteSpace="pre-line",n},i.Oq=function(t,n){for(var i=n/100,r=t/100,e=_.min(i,r),s=sN(this.Yq),u=0,o=l.keys(this.wz);u<o.length;u++){var h=o[u],a=this.wz[h].yz;this.mz(a,e,s,this.wz[h].im)}this.mz(this.kz,e,s),this.pz()},i.pz=function(){var t=sN(this.Yq);this.kz.style.padding=t>=1.5?"0":1/t+"em"},i.zq=function(t){var n=this.MS,i=this.LB.WD/100,r=this.kz;t.im&&(this.wz[t.im.Xl]||(this.wz[t.im.Xl]={im:t.im,yz:qN(t.im,i)}),r=this.wz[t.im.Xl].yz),n.querySelector("."+r.className)||n.appendChild(r);var e=this.Gq(t);r.children.length>=1&&t.im&&"up"===t.im.km&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var s=0;s<e.length;s++){var u=e[s];u.className=t._m,r.appendChild(u)}},i.Gq=function(t){var n=[];return t&&n.push(this.Az(t)),n},i.Az=function(t){for(var n=new zu,i=t.Zy,r=this.bz(t),e=r,u="",o=[],h={};n.vh<i.length;){var a=IN(i,n);if(a.io===SN.rz){var c=this.Tz(a.Zy);FN(c,h),e.appendChild(c)}else if(a.io===SN.nz){switch(h[a.gs.toLowerCase()]||(h[a.gs.toLowerCase()]=[]),h[a.gs.toLowerCase()].push(a),a.gs.toLowerCase()){case"c":break;case"i":var f=s.createElement("i");e.appendChild(f),e=f;break;case"b":var v=s.createElement("b");e.appendChild(v),e=v;break;case"u":var d=s.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=s.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===u){var _=s.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(a.fz)}u=a.gs||""}else if(a.io===SN.vz){h[a.gs.toLowerCase()]&&h[a.gs.toLowerCase()].pop(),(!a.gs||"C"!==a.gs.toUpperCase()&&"V"!==a.gs.toUpperCase())&&("LANG"===a.gs.toUpperCase()?o.pop():"RUBY"===a.gs.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===a.gs.toUpperCase()&&(e=e.parentNode)),u=a.gs||""}else if(a.io===SN.dz){var g=a.lz,w=new zu;try{aw(g,w)}catch(t){gt("ERROR collecting timestamp",t)}}}return r},i.Tz=function(t){var n=s.createElement("span");return fN(n,t),n.style.background=this.Yq.oB,n.style.color=this.Yq.sB,n},i.mz=function(t,n,i,r){if(r){var e=HN(r,n);t.style.height=e*i+"px",t.style.left=VN(r)+"%",t.style.top=XN(r,n)+"px"}t.style.fontSize=BN*n*i+"px"},i.bz=function(t){var n=s.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.Jy,function(t,n){"rl"===n.sm?t.style.writingMode="vertical-rl":"lr"===n.sm?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Sg(n);zN(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=Eg(n),s=Tg(n),u=Sg(n);zN(n)?("line-left"===e?i=s:"center"===e?i=s-u/2:"line-right"===e&&(i=s-u),r=n.rm?0:bg(n)):("line-left"===e?r=s:"center"===e?r=s-u/2:"line-right"===e&&(r=s-u),i=n.rm?0:bg(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.Yq.hB,n.style.color=this.Yq.sB,n.style.textShadow=aN(this.Yq.aB),n},i.jq=function(t){for(var n=t._m,i=this.MS,r=i.children,e=0;e<r.length;e++){for(var s=r[e].getElementsByClassName(n),u=0;u<s.length;u++)r[e].removeChild(s[u]);if(0===r[e].childNodes.length){for(var o=0,h=l.keys(this.wz);o<h.length;o++){var a=h[o];if(Ie(r[e].className,ON+a)){delete this.wz[a];break}}i.removeChild(r[e])}}},M(n,[{key:"wz",get:function(){return this._z||(this._z={}),this._z}},{key:"kz",get:function(){return this.gz||(this.gz=WN(3)),this.gz}},{key:"Vq",get:function(){return"theoplayer-webvtt-cue-"+MN++}}]),n}(hN);function FN(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.iz)for(var s=0,u=e.iz;s<u.length;s++){var o=u[s];Rr(t,xN+o)}}if(n.v)for(var h=0,a=n.v;h<a.length;h++){var c=a[h];c.fz&&Rr(t,PN+c.fz)}}function HN(t,n){return t.wm*(BN*n)*LN}function VN(t){return t.pm-t.ym*t.cu/100}function XN(t,n){var i=t.Am,r=t.mm*HN(t,n)/100;return _.max(0,i-r)}function WN(t){var n=s.createElement("div");return n.className=ON+"default",Cr(n),Ir(n.style,"inline-flex"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=BN*t+"px",n.style.lineHeight=LN+"em",n}function qN(t,n){var i=WN(n);i.className=ON+t.Xl;var r=t.cu,e=HN(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=VN(t)+"%",i.style.top=XN(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function zN(t){return""===t.sm}!function(t){t[t.Ez=0]="Ez",t[t.Sz=1]="Sz",t[t.Rz=2]="Rz",t[t.Iz=3]="Iz",t[t.Nz=4]="Nz",t[t.Cz=5]="Cz"}(NN||(NN={})),function(t){t[t.Dz=0]="Dz",t[t.Oz=1]="Oz",t[t.xz=2]="xz",t[t.Pz=3]="Pz"}(CN||(CN={}));var GN=15,jN=32,QN=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),YN=function(){function t(){this.Bz=[],this.Lz=0,this.Mz=void 0;for(var t=0;t<jN;t++)this.Bz.push(null);this.Mz=!1}var n=t.prototype;return n.Uz=function(t){for(var n=0;n<jN;n++)t&&(this.Bz[n]=t.Bz[n])},n.ug=function(t){for(var n=0;n<jN;n++)if(this.Bz[n]!==t.Bz[n])return!1;return!0},n.Fz=function(){for(var t=0;t<jN;t++)if(null!==this.Bz[t])return!1;return!0},n.Hz=function(t){this.Lz!==t&&(this.Lz=t),this.Lz<0?this.Lz=0:this.Lz>jN&&(this.Lz=jN-1)},n.Vz=function(t){var n=this.Lz+t;this.Hz(n)},n.Xz=function(){this.Vz(-1),this.Bz[this.Lz]=null},n.Wz=function(t){t>=144&&this.Xz();var n,i=QN[n=t]?String.fromCharCode(QN[n]):String.fromCharCode(n);this.addParsedChar(i)},n.addParsedChar=function(t){this.Lz>=jN||(32===Number(t)?(this.Bz[this.Lz]=this.Mz?"</i>":"<i>",this.Mz=!this.Mz):this.Bz[this.Lz]=t,this.Vz(1))},n.qz=function(t){for(var n=t;n<jN;n++)this.Bz[n]=null},n.sh=function(){this.qz(0),this.Lz=0},n.zz=function(){this.qz(this.Lz)},n.Gz=function(t,n){for(var i=this.Bz,r=null,e=0;e<jN;e++){var s=i[e];null===s?r=null:(r||(r={jz:e,Qz:t,cu:0,Ip:1,Bz:[[]]},n.push(r)),r.Bz[0].push(s),r.cu++)}},n.gw=function(t,n){return t.Yz(this.Bz,n)},t}();var ZN=function(){function t(){this.Zz=void 0,this.Jz=void 0,this.$z=null,this.Zz=[];for(var t=0;t<GN;t++)this.Zz.push(new YN);this.Jz=GN-1,this.Cl()}var n=t.prototype;return n.Uz=function(t){for(var n=0;n<GN;n++)this.Zz[n].Uz(t.Zz[n])},n.ug=function(t){for(var n=!0,i=0;i<GN;i++)if(!this.Zz[i].ug(t.Zz[i])){n=!1;break}return n},n.Fz=function(){for(var t=!0,n=0;n<GN;n++)if(!this.Zz[n].Fz()){t=!1;break}return t},n.Cl=function(){for(var t=0;t<GN;t++)this.Zz[t].sh();this.Jz=GN-1},n.Wz=function(t){this.Zz[this.Jz].Wz(t)},n.Kz=function(){this.Zz[this.Jz].Xz()},n.zz=function(){this.Zz[this.Jz].zz()},n.tG=function(){if(null!==this.$z){var t=this.Jz+1-this.$z,n=this.Zz[t];n&&(Ye(this.Zz,t),n.sh(),this.Zz.splice(this.Jz,0,n))}},n.Vz=function(t){this.Zz[this.Jz].Vz(t)},n.nG=function(t){this.$z=t},n.iG=function(t){var n=t.rG;this.$z&&n<this.$z-1&&(n=this.$z-1),this.Jz=n;var i=this.Zz[this.Jz];null!==t.eG&&i.Hz(t.eG)},n.sG=function(){for(var t=this.Zz,n=[],i=0;i<t.length;i++){t[i].Gz(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,s=n[r],u=n.length-1;u>r;){var o=n[u];$N(s,o)&&(s=JN(s,o),Ye(n,u),e=!0),u--}e&&(n[r]=s,r--)}return n.map(KN)},n.gw=function(t){return t.uG(this.Zz)},t}();function JN(t,n){for(var i=_.min(t.jz,n.jz),r=_.min(t.Qz,n.Qz),e=_.max(t.jz+t.cu,n.jz+n.cu)-i,s=_.max(t.Qz+t.Ip,n.Qz+n.Ip)-r,u=new Array(s),o=0;o<s;o++){var h=new Array(e),a=t.Bz[o+r-t.Qz];if(a)for(var c=0;c<a.length;c++)a[c]&&(h[c-i+t.jz]=a[c]);var f=n.Bz[o+r-n.Qz];if(f)for(var v=0;v<f.length;v++)f[v]&&(h[v-i+n.jz]=f[v]);u[o]=h}return{jz:i,Qz:r,cu:e,Ip:s,Bz:u}}function $N(t,n){return t.jz<=n.jz+n.cu&&n.jz<=t.jz+t.cu&&t.Qz<=n.Qz+n.Ip&&n.Qz<=t.Qz+t.Ip}function KN(t){for(var n=new Array(t.Ip),i=t.Bz,r=0;r<i.length;r++){for(var e=i[r],s=[],u=!1,o=0;o<e.length;o++){var h=e[o];h?(u||(u=!0,s.push("<c.theoplayer-text-track-fragment>")),s.push(h)):(u&&(u=!1,s.push("</c>")),s.push(" "))}u&&(u=!1,s.push("</c>")),n[r]=s.join("")}var a=n.join("\n");return{jz:t.jz,Qz:t.Qz,cu:t.cu,Ip:t.Ip,Zy:a}}var tC=function(){function t(t,n){this.rG=t,this.eG=n}return t.prototype.ug=function(t){return this.rG===t.rG&&this.eG===t.eG},t}(),nC=function(){function t(t){this.oG=void 0,this.hG=void 0,this.aG=t,this.oG=this.cG(),this.hG=this.fG()}var n=t.prototype;return n.cG=function(){for(var t=new tC(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.vG;n<i.length;n++){var r=i[n],e=_.min(t.rG,r.dG.rG),s=_.min(t.eG,r.dG.eG);t=new tC(e,s)}return t},n.fG=function(){for(var t=new tC(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.vG;n<i.length;n++){var r=i[n],e=_.max(t.rG,r.lG.rG),s=_.max(t.eG,r.lG.eG);t=new tC(e,s)}return t},M(t,[{key:"dG",get:function(){return this.oG}},{key:"lG",get:function(){return this.hG}},{key:"vG",get:function(){return $e(this.aG.map(function(t){return t.vG}))}}]),t}(),iC=function(){function t(t,n){this._G="",this.fB=t,this.oG=n}var n=t.prototype;return n.Wz=function(t){this._G+=t},n.gG=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Wz(i)}},M(t,[{key:"wG",get:function(){return this._G}},{key:"vG",get:function(){return[this]}},{key:"yG",get:function(){return this.fB}},{key:"dG",get:function(){return this.oG}},{key:"lG",get:function(){return new tC(this.dG.rG,this.dG.eG+this.wG.length-1)}}]),t}(),rC=function(){function t(){}var n=t.prototype;return n.mG=function(t){return t.gw(this)},n.uG=function(t){var n=this;return $e(t.map(function(t,i){return t.gw(n,i)}))},n.Yz=function(t,n){return new eC(t,n).kG()},t}(),eC=function(){function t(t,n){this.pG=[],this.AG=null,this.rG=t,this.bG=n}var n=t.prototype;return n.kG=function(){if(this.TG)return[];for(var t=0;t<this.rG.length;t++)this.EG(t);return this.SG(),this.pG},n.RG=function(t){this.AG=new iC(vC,new tC(this.bG,t))},n.SG=function(){this.AG&&(this.pG.push(this.AG),this.AG=null)},n.EG=function(t){var n=this.rG[t];sC(n)?this.AG&&this.SG():(this.AG||this.RG(t),this.AG.Wz(n))},M(t,[{key:"TG",get:function(){return this.rG.every(sC)}}]),t}();function sC(t){return null==t}var uC,oC=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return F(n,t),n}(kg),hC=function(t){function n(n,i){var r;return(r=t.call(this,"NG")||this).IG=n,r.jy=i,r}return F(n,t),n}(Es);!function(t){t[t.RR=0]="RR",t[t.CG=1]="CG",t[t.DG=2]="DG",t[t.OG=3]="OG",t[t.Je=4]="Je"}(uC||(uC={}));var aC,cC=function(t){function n(){var n;return(n=t.call(this)||this).Gg=0,n.Qy=0,n.xG=void 0,n.PG=void 0,n.BG=void 0,n.LG=void 0,n.t_=uC.RR,n.xG=new ZN,n.PG=new ZN,n.BG=new ZN,n.LG=n.xG,n}F(n,t);var i=n.prototype;return i.Wz=function(t){this.LG.Wz(t),this.t_!==uC.CG&&this.t_!==uC.DG||this.MG()},i.gN=function(t){t!==this.t_&&(this.t_=t,this.t_===uC.OG?this.LG=this.PG:(this.LG=this.xG,this.LG.Cl()),this.t_!==uC.DG&&(this.xG.nG(null),this.PG.nG(null)))},i.iG=function(t){this.LG.iG(t)},i.UG=function(){this.gN(uC.OG)},i.FG=function(){this.t_!==uC.Je&&(this.LG.Kz(),this.LG===this.xG&&this.MG())},i.HG=function(){},i.VG=function(){},i.XG=function(){this.LG.zz(),this.MG()},i.WG=function(t){this.LG=this.xG,this.gN(uC.DG),this.LG.nG(t)},i.qG=function(){},i.zG=function(){this.gN(uC.CG)},i.GG=function(){this.gN(uC.Je)},i.jG=function(){this.gN(uC.Je)},i.QG=function(){this.xG.Cl(),this.MG()},i.YG=function(){this.LG.tG(),this.MG()},i.ZG=function(){this.PG.Cl()},i.JG=function(){if(this.t_===uC.OG){var t=this.xG;this.xG=this.PG,this.PG=t,this.LG=this.PG}this.MG()},i.$G=function(t){this.LG.Vz(t)},i.MG=function(){if(null!==this.Gg){if((null===this.Qy||0===this.Qy)&&!this.xG.Fz())this.Qy=this.Gg;else if(!this.xG.ug(this.BG)){var t=this.KG();if(this.Gg>this.Qy){var n=new oC(this.Qy,this.Gg,t);this.xo(new hC(1,n))}this.Qy=this.xG.Fz()?null:this.Gg}this.BG.Uz(this.xG)}},i.KG=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var s=0;s<i.length;s++){var u=i[s];(function(t,n){return _.abs(t.lG.eG-n.dG.eG)<=1||_.abs(n.lG.eG-t.dG.eG)<=1||_.abs(t.lG.rG-n.dG.rG)<=1||_.abs(n.lG.rG-t.dG.rG)<=1}(o=r,h=u)||function(t,n){return fC(t.dG.rG,t.lG.rG,n.dG.rG,n.lG.rG)&&fC(t.dG.eG,t.lG.eG,n.dG.eG,n.lG.eG)}(o,h))&&(r=new nC([].concat(r.vG,u.vG)),Qe(i,u),e=!0)}}while(e&&i.length>0);n.push(r)}var o,h;return n}((new rC).mG(this.BG))},i.Cl=function(){this.Gg=0,this.Qy=0,this.xG.Cl(),this.xG.nG(null),this.PG.Cl(),this.PG.nG(null),this.BG.Cl(),this.BG.nG(null),this.LG=this.xG,this.t_=uC.RR},n}(bs);function fC(t,n,i,r){return n>=i&&r>=t}!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(aC||(aC={}));var vC={sB:oN.WHITE,eB:uN.$q,uB:"100%",oB:oN.BLACK,hB:"transparent",aB:"none",tj:aC.FONT_REGULAR,cB:"visible"},dC=[{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:0},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.GREEN,tj:aC.FONT_REGULAR,eG:0},{nj:oN.GREEN,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.BLUE,tj:aC.FONT_REGULAR,eG:0},{nj:oN.BLUE,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.CYAN,tj:aC.FONT_REGULAR,eG:0},{nj:oN.CYAN,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.RED,tj:aC.FONT_REGULAR,eG:0},{nj:oN.RED,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.YELLOW,tj:aC.FONT_REGULAR,eG:0},{nj:oN.YELLOW,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.MAGENTA,tj:aC.FONT_REGULAR,eG:0},{nj:oN.MAGENTA,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.WHITE,tj:aC.FONT_ITALICS,eG:0},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE_ITALICS,eG:0},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:0},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:0},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:4},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:4},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:8},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:8},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:12},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:12},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:16},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:16},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:20},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:20},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:24},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:24},{nj:oN.WHITE,tj:aC.FONT_REGULAR,eG:28},{nj:oN.WHITE,tj:aC.FONT_UNDERLINE,eG:28}],lC=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],_C=function(t){function n(){var n;(n=t.call(this)||this).ij=void 0,n.rj=null,n.ej=null,n.sj=0;var i=new cC;return n.ij=[i,new cC],i.Po("NG",n.Oo),n}F(n,t);var i=n.prototype;return i.Cl=function(){for(var t=0,n=this.ij;t<n.length;t++){n[t].Cl()}},i.uj=function(t,n){if(n.io===CN.Dz&&n.oj){n.hj&&(this.sj=0),this.ij[this.sj].Gg=t;var i=127&n.aj,r=127&n.cj;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.fj(),r>=48&&r<=63&&this.vj(i,r);break;case 18:case 19:r>=32&&r<=63&&this.vj(i,r);break;case 20:case 21:r>=32&&r<=47&&this.dj(i,r);break;case 23:r>=33&&r<=35&&this.dj(i,r),r>=46&&r<=47&&this.fj()}16===i&&r>=64&&r<=95?this.lj(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.lj(i,r),i>=32&&this.vj(i,r)}}},i.dj=function(t,n){var i=null;if(t===this.rj&&n===this.ej)return this.rj=null,this.ej=null,!0;i=20===t||23===t?0:1;var r=this.ij[i];return 20===t||28===t?32===n?r.UG():33===n?r.FG():34===n?r.HG():35===n?r.VG():36===n?r.XG():37===n?r.WG(2):38===n?r.WG(3):39===n?r.WG(4):40===n?r.qG():41===n?r.zG():42===n?r.GG():43===n?r.jG():44===n?r.QG():45===n?r.YG():46===n?r.ZG():47===n&&r.JG():r.$G(n-32),this.rj=t,this.ej=n,this.sj=i,!0},i.lj=function(t,i){t===this.rj&&i===this.ej&&(this.rj=null,this.ej=null);var r=t<=23?0:1,e=lC[t<<1&14|i>>5&1]-1;if(!(e<0)){var s=n._j(e,i);this.ij[r].iG(s),this.rj=t,this.ej=i,this.sj=r}},n._j=function(t,n){var i=n>95?n-96:n-64;return{nj:dC[i].nj,tj:dC[i].tj,eG:dC[i].eG,rG:t}},i.vj=function(t,n){var i=t>=25?t-8:t,r=this.ij[this.sj],e=!1;switch(i){case 17:r.Wz(n+80),e=!0;break;case 18:r.Wz(n+112),e=!0;break;case 19:r.Wz(n+144),e=!0;break;default:t>=32&&(r.Wz(t),n>=32&&r.Wz(n),e=!0)}e&&(this.rj=null,this.ej=null)},i.fj=function(){this.ij[this.sj].LG.Vz(1)},i.Lv=function(){this.Mo()},M(n,[{key:"$p",get:function(){return this.ij.length}}]),n}(bs),gC=function(){function t(t,n,i){this.gj=void 0,this.wj=t,this.yj=n,this.mq=i}var n=t.prototype;return n.mj=function(){return this.gj=this.kj(),this.pj(),this.Aj(),this.gj},n.kj=function(){var t=s.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.bj/jN*this.yj.Tj*100+"%",t.style.height=1.2*this.Ej+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.yj.Sj?"calc(1em - 1ch)":"",t.style.fontFamily=this.mq.eB,t.style.backgroundColor=this.mq.hB,t},n.pj=function(){var t=this.Rj.rG/GN*100,n=this.Rj.eG/jN*100,i=(jN-this.Ij.eG-1)/jN*100,r=(GN-this.Ij.rG-1)/GN*100;this.yj.Nj||(n=i=1,this.gj.style.width="98%"),r<t?this.gj.style.bottom=r*this.yj.Tj+"%":this.gj.style.top=t*this.yj.Tj+"%",i<n?this.gj.style.right=i+"%":this.gj.style.left=n+"%"},n.Aj=function(){for(var t=this.wj.vG.sort(wC),n=0;n<t.length;n++)this.Cj(t[n-1],t[n]),this.Dj(t[n]);this.Cj(t[t.length-1],null)},n.Dj=function(n){var i=eN(this.mq,n.yG),r=t.Oj(i);fN(r,n.wG),this.gj.appendChild(r)},t.Oj=function(t){var n=s.createElement("span");return n.style.display="inline-block",t.tj!==aC.FONT_ITALICS&&t.tj!==aC.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.tj!==aC.FONT_UNDERLINE&&t.tj!==aC.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.sB,n.style.backgroundColor=t.oB,n.style.textShadow=aN(t.aB),n.style.height="1.2em",n},n.Cj=function(t,n){var i=t?t.lG.rG:this.wj.dG.rG,r=n?n.dG.rG:this.wj.lG.rG,e=t?t.lG.eG:this.wj.dG.eG,s=n?n.dG.eG:this.wj.lG.eG;i<r&&(!n||t&&t.dG.rG!==n.dG.rG?this.xj():this.Pj(this.wj.lG.eG-e),e=this.wj.dG.eG),e<s&&(n?this.Pj(s-e):this.xj())},n.xj=function(){var t=s.createElement("br");this.gj.appendChild(t)},n.Pj=function(t){if(!(t<=0)){var n=s.createElement("span");n.style.display="inline-block",fN(n,Oe(" ",t)),this.gj.appendChild(n)}},M(t,[{key:"Rj",get:function(){return this.wj.dG}},{key:"Ij",get:function(){return this.wj.lG}},{key:"bj",get:function(){return this.wj.lG.eG-this.wj.dG.eG+1}},{key:"Ej",get:function(){return this.wj.lG.rG-this.wj.dG.rG+1}}]),t}();function wC(t,n){return function(t,n){if(t.rG!==n.rG)return t.rG-n.rG;return t.eG-n.eG}(t.dG,n.dG)}var yC=0;var mC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e,vC)||this).Bj=void 0,s.Lj=void 0,s}F(n,t);var i=n.prototype;return i.xq=function(t){var n=s.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.Yq.eB&&(n.style.fontFamily=this.Yq.eB),n},i.Oq=function(t,n){this.Mj()},i.Mj=function(){var t,n=sN(this.Yq);this.Lj={Tj:(t=100*n)/100,Sj:t<=100,Nj:t<=150};var i=this.Uj/jN;this.Bj=i*n,this.MS.style.fontSize=this.Bj+"px"},i.Gq=function(t){var n=this;return this.Lj&&this.Lj.Nj?this.Fj(80):this.Fj(100),this.Mj(),t.Zy.map(function(t){return new gC(t,n.Lj,n.Yq).mj()})},i.Fj=function(t){var n=(100-t)/2;this.MS.style.left=n+"%",this.MS.style.width=t+"%"},M(n,[{key:"Uj",get:function(){var t=this.MS.offsetWidth;return this.Lj&&this.Lj.Nj||(t*=.8),t}},{key:"Vq",get:function(){return"theoplayer-cea608-texttrack-"+yC++}}]),n}(hN),kC=function(){function t(t,n,i,r,e){var s=this;this.Hj=void 0,this.CX=void 0,this.Lw=void 0,this.Vj=void 0,this.Xj=[],this.HI=void 0,this.Wj=function(t){var n=t.nl;n.Po(bd.gl,s.qj),n.Po(bd.yl,s.qj),n instanceof _I&&(n.oV=s.oV),s.zj(n)},this.qj=function(t){var n=t.nl;s.zj(n)},this.Gj=function(t){var n=t.nl;n.Uo(bd.gl,s.qj),n.Uo(bd.yl,s.qj),s.jj(n)},this.Qj=function(){for(var t=s.oV,n=0,i=s.Lw.Dl;n<i.length;n++){var r=i[n];r instanceof _I&&(r.oV=t)}},this.Yj=function(){for(var t=0,n=s.Xj;t<n.length;t++){n[t].Bq(s.HI)}},this.Zj=function(){for(var t=0,n=s.Xj;t<n.length;t++){var i=n[t];i.Bq(te({},i.Mq(),{cB:"hidden"}))}},this.Jj=function(){for(var t=0,n=s.Xj;t<n.length;t++){var i=n[t];i.Bq(te({},i.Mq(),{cB:"visible"}))}},this.Hj=t,this.CX=n,this.Lw=i,this.Vj=e,this.HI=r,this.Lw.Po(md.Qd,this.Wj),this.Lw.Po(md.Zd,this.Gj),this.Lw.Po("_l",this.qj),this.Vj.Po(Kp.ll,this.Qj),this.HI.Po("_l",this.Yj),this.Qj()}var n=t.prototype;return n.$j=function(t){for(var n=0,i=this.Xj;n<i.length;n++){var r=i[n];if(r.nl===t)return r}},n.Kj=function(t){switch(t.io){case rg.TTML:case rg.SRT:case rg.WEBVTT:case rg.CEA608:return!0}return!1},n.tQ=function(t){switch(t.io){case rg.TTML:return new wN(t,this.Hj,t.zl,this.CX);case rg.SRT:case rg.WEBVTT:return new UN(t,this.Hj,t.zl,this.CX);case rg.CEA608:return new mC(t,this.Hj,t.zl,this.CX)}},n.nQ=function(t){var n=this.$j(t);n||((n=this.tQ(t)).Bq(this.HI),this.Xj.push(n),t.t_===$d.Jl&&n.Xq())},n.jj=function(t){for(var n=this.Xj,i=n.length-1;i>=0;i-=1){var r=n[i];r.nl===t&&(r.Lv(),Ye(n,i))}},n.zj=function(t){var n;(n=t.ql)!==ry.yk&&n!==ry.Ib||!this.Kj(t)||(t.n_===ig.ERROR?this.jj(t):this.nQ(t))},n.Cl=function(){for(var t=0,n=this.Xj;t<n.length;t++){var i=n[t];i.nl.Uo(bd.gl,this.qj),i.nl.Uo(bd.yl,this.qj),i.Lv()}Je(this.Xj)},n.Lv=function(){this.Cl();for(var t=0,n=this.Xj;t<n.length;t++){n[t].Lv()}this.Lw.Uo(md.Qd,this.Wj),this.Lw.Uo(md.Zd,this.Gj),this.Lw.Uo("_l",this.qj),this.Vj.Uo(Kp.ll,this.Qj),this.HI.Uo("_l",this.Yj)},M(t,[{key:"oV",get:function(){return this.Vj.II}}]),t}();function pC(t){var n=new RT,i=function(t){var n=[];return ET.fO(t)&&n.push(new ET(t)),ST.fO(t)&&n.push(new ST(t)),n}(t);if(i.length>0){for(var r=0;r<i.length;r++){var e=i[r];n.gO(e)}n._O(i[0])}return n}var AC,bC=function(t){function n(n,i,r,e){var s;return(s=t.call(this,n,i,r,e)||this).iQ=void 0,s.rQ=void 0,s.eQ=void 0,s.eQ=pC(n),s.iQ=new rN,s.rQ=new kC(s.iQ.wy,s.LB,s.Xw,s.UB,s.ZS),s}F(n,t);var i=n.prototype;return i.ey=function(){return this.Ra},i.mo=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.eQ.Lv(),this.iQ.Lv(),this.rQ.Lv(),n.next=5,t.prototype.mo.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.iy=function(){t.prototype.iy.call(this),this.iQ.iy()},i.ny=function(){t.prototype.ny.call(this),this.iQ.ny()},i.dq=function(n){t.prototype.dq.call(this,n),this.iQ.dq(n)},M(n,[{key:"MS",get:function(){return this.Ra}},{key:"z_",get:function(){return this.Ra.videoHeight}},{key:"G_",get:function(){return this.Ra.videoWidth}},{key:"ZS",get:function(){return this.eQ}}]),n}(QI);!function(t){t.sQ="HELLO",t.uQ="HI_THERE",t.oQ="INITIALIZE",t.hQ="APPEND_INIT",t.aQ="APPEND_DATA",t.cQ="ACK",t.fQ="REMOVE",t.vQ="DESTROY_SESSION"}(AC||(AC={}));var TC=function(){function t(){this.js=void 0,this.Ea=void 0,this.vL=new zE}var n=t.prototype;return n.dQ=function(t){var n=this;return this.vL.nL(function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,h,a;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),r=new MessageChannel,e=r.port1,s=r.port2,o.serviceWorker.controller){t.next=7;break}return t.next=7,wd(o.serviceWorker,"install",i);case 7:if("activated"===o.serviceWorker.controller.state){t.next=10;break}return t.next=10,wd(o.serviceWorker.controller,"activate",i);case 10:return u={kind:AC.sQ,port:s},o.serviceWorker.controller.postMessage(u,[s]),e.start(),n.js=e,t.prev=15,t.next=18,wd(e,"message",i);case 18:if(h=t.sent,(a=h.data).kind===AC.uQ){t.next=23;break}throw new v("Could not set up message channel");case 23:n.Ea=a.sessionId,t.next=30;break;case 26:throw t.prev=26,t.t0=t.catch(15),us(t.t0)&&n.lQ(),t.t0;case 30:case"end":return t.stop()}},t,null,[[15,26]])}));return function(n){return t.apply(this,arguments)}}(),t)},n._Q=function(t,n){var i=this;return this.js,this.vL.nL(E.coroutine(Kr.mark(function r(){var e;return Kr.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i.js){r.next=2;break}throw new v("MessageSession not set up yet or already closed.");case 2:return n||(n=[]),i.js.postMessage(t,n),r.next=7,wd(i.js,"message");case 7:return e=r.sent,r.abrupt("return",e.data);case 10:case"end":return r.stop()}},r)})))},n.gQ=function(){var t=this;return this.vL.nL(function(){return t.lQ()})},n.lQ=function(){if(o.serviceWorker.controller&&"activated"===o.serviceWorker.controller.state&&this.js){var t={kind:AC.vQ};this.js.postMessage(t),this.js.close(),this.js=void 0}},t}(),EC=function(){function t(){this.wQ=k_.iw}var n=t.prototype;return n.yQ=function(t,n){var i=t.fg(n);this.wQ=i.tg(this.mQ)?this.wQ:i},n.kQ=function(t){this.wQ=t},M(t,[{key:"mQ",get:function(){return this.wQ}}]),t}(),SC=function(){function t(){this.$B=E.resolve()}return t.prototype.pQ=function(t){var n=this.$B.then(t);return this.$B=n.then(R,R),n},t}(),RC=function(t){function n(n,i){var r;return(r=t.call(this)||this).AQ=void 0,r.bQ=void 0,r.TQ=void 0,r.vL=new SC,r.EQ=new es,r.SQ=!1,r.RQ=!1,r.vD=n,r.IQ=i,r}F(n,t);var i=n.prototype;return i.rF=function(t,n){},i.eF=function(t,n){},i.WL=function(){return this.RQ},i.Eo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.EQ.Eo(),this.EQ=new es;case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.sF=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.FU=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.IU=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.io===lS.QL){t.next=2;break}throw new v("Streaming or opaque segments are not supported yet.");case 2:return s=i.Ds,u=this.NQ(e),o=function(){var t=E.coroutine(Kr.mark(function t(){var i,r,e,o,a,c,f;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(u.Io),i=Bw.Jk(new DataView(s.buffer)),(r=Iw(i,Hg.rk)).length){t.next=5;break}throw new v("Moof boxes not found");case 5:return e=h.TQ,o=n.CQ(r,e),a=h.DQ(r,e),c=s.buffer,f={kind:AC.aQ,mimeType:h.vD,segment:s,startPts:N_.hw(o).gw(),totalDuration:N_.hw(a).gw()},t.next=12,h.IQ._Q(f,[c]);case 12:void 0===h.AQ&&(h.AQ=o),void 0===h.bQ&&(h.bQ=o),h.bQ=h.bQ.vg(a),h.xo(new Es(aS.GL));case 16:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.vL.pQ(E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,h.SQ=!0,t.next=4,o();case 4:return t.prev=4,u.mo(),h.SQ=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.DU=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.io===lS.QL){t.next=2;break}throw new v("Streaming or opaque initialization segments are not supported yet.");case 2:return r=n.Ds,e=this.NQ(i),s=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,s,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(e.Io),n=Bw.Jk(new DataView(r.buffer)),i=Rw(n,Hg.Dm)){t.next=5;break}throw new v("Moov Box not found");case 5:if(0!==i.vp.length){t.next=7;break}throw new v("Tracks not found");case 7:return u.TQ=i.vp[0].pp.qk.jg,s=r.buffer,o={kind:AC.hQ,mimeType:u.vD,segment:r},t.next=12,u.IQ._Q(o,[s]);case 12:u.xo(new Es(aS.GL));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.vL.pQ(E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.SQ=!0,t.next=4,s();case 4:return t.prev=4,e.mo(),u.SQ=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.$U=function(){this.RQ=!0},i.QU=function(){this.RQ=!1},i.Ph=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.NQ(r),s=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(e.Io),n={kind:AC.fQ,mimeType:u.vD,endTime:N_.ew(i).gw()},t.next=4,u.IQ._Q(n);case 4:u.AQ=void 0,u.bQ=void 0,u.xo(new Es(aS.GL));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.abrupt("return",this.vL.pQ(E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u.SQ=!0,t.next=4,s();case 4:return t.prev=4,e.mo(),u.SQ=!1,t.finish(4);case 8:case"end":return t.stop()}},t,null,[[0,,4,8]])}))));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.LL=function(t){return this.vD===t.Gf},i.ML=function(t){return this.vD=t.Gf,E.resolve()},n.CQ=function(t,n){if(0===t.length)throw new v("Initial Moof box not found");var i=t[0];if(0===i.vp.length)throw new v("No tracks");if(!i.vp[0].FA)throw new v("No decode time");return new k_(i.vp[0].FA.FA.toNumber(),n)},i.NQ=function(t){var n=new es;return n.So(this.EQ.Io),t&&n.So(t),n},i.DQ=function(t,n){var i=0;return t.forEach(function(t){t.vp.forEach(function(t){t.UA.forEach(function(t){t.zA.forEach(function(t){var n;i+=null!=(n=t.U_)?n:0})})})}),new k_(i,n)},M(n,[{key:"_y",get:function(){return void 0===this.AQ||void 0===this.bQ?nA.SI():new nA([this.AQ.tw,this.bQ.tw])}},{key:"Wh",get:function(){return{Gf:this.vD}}},{key:"oD",get:function(){return this.vD}},{key:"oF",get:function(){return nA.SI()}},{key:"wx",get:function(){return 30},set:function(t){}},{key:"Ax",get:function(){return 30},set:function(t){}},{key:"kO",get:function(){return this.SQ}},{key:"OQ",get:function(){return this.AQ}},{key:"Yy",get:function(){return this.bQ}}]),n}(bs),IC=function(){function t(t,n){this._a=void 0,this.FF=void 0,this.HF=void 0,this._a=t,this.HF=Ge(n,function(t){return Boolean(t.oD.match(/video/))}),this.FF=Ge(n,function(t){return Boolean(t.oD.match(/audio/))}),this.xQ()}t.PQ=function(n,i){for(var r=[],e=0;e<n.KF.length;e++){var s=n.KF[e].Gf;r.push(new RC(s,i))}return new t(n,r)};var n=t.prototype;return n.xQ=function(){},n.mo=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0,i=[this.FF,this.HF].filter($);n<i.length;n++)(r=i[n]).Mo(),r.sF().catch(R);case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.QF=function(t){},n.JF=function(t,n,i,r){},n.$U=function(){var t,n;null==(t=this.FF)||t.$U(),null==(n=this.HF)||n.$U()},n.QU=function(){var t,n;null==(t=this.FF)||t.QU(),null==(n=this.HF)||n.QU()},n.LL=function(t){return t===this._a},n.ML=function(t){return this._a=t,E.resolve()},M(t,[{key:"BQ",get:function(){return[this.FF,this.HF].filter($)}},{key:"NF",get:function(){return this.FF}},{key:"_y",get:function(){return XS(this)}},{key:"Wh",get:function(){return this._a}},{key:"U_",get:function(){return 0}},{key:"WL",get:function(){var t,n,i,r,e=null==(t=null==(n=this.FF)?void 0:n.WL())||t,s=null==(i=null==(r=this.HF)?void 0:r.WL())||i;return e&&s}},{key:"Iy",get:function(){return new nA([0,1/0])}},{key:"CF",get:function(){return this.HF}},{key:"Vw",get:function(){throw new v("Not implemented")}}]),t}(),NC=k_.pg,CC=new k_(-1/0),DC=k_.iw,OC=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.ng=function(t,n){return t.og(n)?o_.Z_:t.ug(n)?o_.Q_:o_.Y_},i.vg=function(t,n){return t.vg(n)},i.fg=function(t,n){return t.fg(n)},i.sg=function(t,n){return t.sg(n)},i.tI=function(){return NC},i.nI=function(){return DC},i.sI=function(){return CC},n.bI=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new k_(t.start(r)),new k_(t.end(r)));return new n(i)},n.LQ=function(t){for(var i=[],r=[],e=0;e<t.Ol;e++)i.push(new k_(t.WR(e))),i.push(new k_(t.zR(e))),r.push(t.qR(e)),r.push(t.GR(e));return new n(i,r)},n.EI=function(t){return new n([t,t],[!0,!0])},i.$R=function(t,i){return new n(t,i)},i.ZR=function(t){return t.tw},n.SI=function(){return xC},n}(tA),xC=new OC([]),PC=function(t){function n(n){var i;return(i=t.call(this)||this).MQ=!0,i.IQ=new TC,i.UQ=new EC,i.fS=void 0,i.xX=void 0,i.FQ=!0,i.HQ=new ju,i.LI=!1,i.GX=E.resolve(),i.jX=new es,i.VQ=!0,i.YX=nA.SI(),i.eQ=void 0,i.XQ=void 0,i.rW=!1,i.wS=void 0,i.WQ=function(){i.X_||i.qQ.Ol<=0||i._y.Ol<=0||i.UQ.yQ(new k_(i._y.zR(i._y.Ol-1)),i.qQ.zR(i.qQ.Ol-1))},i.zQ=function(){i.xo(new jl(i.M_))},i.GQ=function(){i.xo(new Gl(i.M_,i.gy))},i.jQ=function(){i.xo(new zl(i.M_,i.W_))},i.QQ=function(){i.xo(new Jl(i.M_,i.j_))},i.YQ=function(){i.xo(new ql(i.U_))},i.ZQ=function(){i.xo(new tm(i.M_))},i.JQ=function(){i.ah(i.M_)},i.$Q=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.VQ&&i.xo(new Fl(i.M_)),i.FQ=!1,i.VQ=!0;case 3:case"end":return t.stop()}},t)})),i.KQ=function(){i.FQ=!0,i.xo(new Ul(i.M_))},i.XQ=n,i.xX=new $S(sn(i)),i.XQ.setAttribute("id","player_video"),i.XQ.setAttribute("x-webkit-airplay","deny"),i.XQ.setAttribute("x-webkit-wirelessvideoplaybackdisabled",""),i.XQ.playsInline=!0,i.XQ.style.width="100%",i.XQ.style.height="100%",i.tY(),i.nY(),i.eQ=pC(i.XQ),i}F(n,t);var i=n.prototype;return i.tY=function(){this.XQ.addEventListener("timeupdate",this.WQ),this.XQ.addEventListener("ended",this.zQ),this.XQ.addEventListener("timeupdate",this.GQ),this.XQ.addEventListener("ratechange",this.jQ),this.XQ.addEventListener("volumechange",this.QQ),this.XQ.addEventListener("durationchange",this.YQ),this.XQ.addEventListener("playing",this.ZQ),this.XQ.addEventListener("seeking",this.JQ),this.XQ.addEventListener("play",this.$Q),this.XQ.addEventListener("pause",this.KQ)},i.iY=function(){this.XQ.removeEventListener("timeupdate",this.WQ),this.XQ.removeEventListener("ended",this.zQ),this.XQ.removeEventListener("timeupdate",this.GQ),this.XQ.removeEventListener("ratechange",this.jQ),this.XQ.removeEventListener("volumechange",this.QQ),this.XQ.removeEventListener("durationchange",this.YQ),this.XQ.removeEventListener("playing",this.ZQ),this.XQ.removeEventListener("seeking",this.JQ),this.XQ.removeEventListener("play",this.$Q),this.XQ.removeEventListener("pause",this.KQ)},i.nY=function(){this.xX.Po(Ll.gl,this.Oo)},i.rY=function(){this.xX.Uo(Ll.gl,this.Oo)},i.ah=function(t,n){this.jX.Eo(),this.jX=new es,this.GX=this.YW(t,this.GX,this.jX.Io).catch(R)},i.YW=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.YX=this.Sy,s=null==(e=this.fS)?void 0:e.BQ){t.next=4;break}return t.abrupt("return");case 4:return u=_.max.apply(_,s.map(function(t){return t.OQ?t.OQ.tw:1/0})),this.LI=!0,this.xo(new Yl(n)),t.next=9,i.catch(R);case 9:if(os(r),t.prev=10,this.MQ||this.eY(),this.XQ.load(),this.FQ){t.next=17;break}return this.VQ=!1,t.next=17,cs(this.XQ.play(),r);case 17:if(!(this.n_<yl.I_)){t.next=22;break}return t.next=20,this.xX.Xo(Ll.gl,r);case 20:t.next=17;break;case 22:this.HQ.wh(),this.MQ=!1,this.LI=!1,this.xo(new Zl(this.M_)),t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(10),this.HQ.yh(t.t0),t.t0;case 32:return t.prev=32,this.sY(),this.UQ.kQ(new k_(u)),t.finish(32);case 36:case"end":return t.stop()}},t,this,[[10,28,32,36]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.zw=function(){this.FQ=!0,this.XQ.pause()},i.qw=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.FQ){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,this.XQ.src){t.next=9;break}return this.fq(),t.next=7,this.HQ.gh;case 7:t.next=11;break;case 9:return t.next=11,this.XQ.play();case 11:t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),this.FQ=!0,t.t0;case 17:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),i.mo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.IQ&&this.IQ.gQ().catch(R),this.jX.Eo(),this.iY(),this.rY(),this.xX.mo(),this.Mo();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.IQ&&this.IQ.gQ().catch(R),this.jX.Eo(),this.XQ.removeAttribute("src"),this.XQ.removeAttribute("x-webkit-wirelessvideoplaybackdisabled"),this.XQ.removeAttribute("x-airplay-deny"),this.XQ.load(),this.xX.Cl(),this.YX=nA.SI();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.fq=function(){this.vq||(FC(this.XQ,T.Pu),this.rW=!0)},i.eY=function(){var t,n=this.XQ.getClientRects();if(n.length>0){var i,r,e=(t=n[0]).width,s=this.XQ.videoWidth/this.XQ.videoHeight,u=t.height;e/u>s?(i=u*s,r=u):(r=e/s,i=e),this.XQ.style.width=i+"px",this.XQ.style.height=r+"px",this.XQ.style.marginLeft=(e-i)/2+"px",this.XQ.style.marginTop=(u-r)/2+"px",this.XQ.style.backgroundColor="black"}},i.sY=function(){this.XQ.style.width="100%",this.XQ.style.height="100%",this.XQ.style.marginLeft="",this.XQ.style.marginTop="",this.XQ.style.backgroundColor=""},i.QS=function(t,n,i,r){},i.Ub=function(t,n,i,r,e,s){},i.XL=function(t){},i.sR=function(){return lE(this.XQ)},i.ny=function(){this.XQ.style.display="block"},i.iy=function(){this.XQ.style.display="none"},i.aq=function(){},i.xh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.io!==Ny.Wb){t.next=2;break}throw new v("Not yet implemented");case 2:return t.next=4,this.IQ.dQ();case 4:return i={kind:AC.oQ,mediaBufferConfigs:n.KF.map(function(t){return t.Gf})},t.next=7,this.IQ._Q(i);case 7:return this.fS=IC.PQ(n,this.IQ),this.XQ.preload="none",this.XQ.src="https://theo.proxy/"+this.IQ.Ea+"/master.m3u8",t.abrupt("return",this.fS);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.cq=function(){},i.Vb=function(t){},i.JS=function(){},i.eR=function(t){},i.GS=function(){return!1},i.dq=function(t){t.appendChild(this.XQ)},i.ey=function(){return this.XQ},i.VW=function(){},i.ly=function(){},M(n,[{key:"MS",get:function(){return this.XQ}},{key:"oH",get:function(){return!1}},{key:"M_",get:function(){return this.XQ.currentTime+this.UQ.mQ.tw}},{key:"X_",get:function(){return this.XQ.paused}},{key:"j_",get:function(){return this.XQ.volume},set:function(t){this.XQ.volume=t}},{key:"W_",get:function(){return this.XQ.playbackRate},set:function(t){this.XQ.playbackRate=t}},{key:"uY",get:function(){return this.XQ.defaultPlaybackRate}},{key:"_y",get:function(){var t,n;return null!=(t=null==(n=this.fS)?void 0:n._y)?t:nA.SI()}},{key:"qQ",get:function(){return OC.bI(this.XQ.buffered)}},{key:"Sy",get:function(){var t=nA.TI(this.oY);return this.YX.hI(t.hh(this.UQ.mQ.tw))}},{key:"oY",get:function(){return OC.bI(this.XQ.played)}},{key:"q_",get:function(){return this.LI}},{key:"U_",get:function(){return this.XQ.duration}},{key:"V_",get:function(){return this.XQ.muted},set:function(t){this.XQ.muted=t}},{key:"yG",get:function(){return this.XQ.style}},{key:"_q",get:function(){return te({},oS,{TL:!0,EL:300})}},{key:"n_",get:function(){return this.xX.n_}},{key:"z_",get:function(){return this.XQ.videoHeight}},{key:"G_",get:function(){return this.XQ.videoWidth}},{key:"F_",get:function(){return this.XQ.ended}},{key:"Ip",get:function(){return 0}},{key:"cu",get:function(){return 0}},{key:"yy",get:function(){return!1}},{key:"vq",get:function(){return this.rW}},{key:"gy",get:function(){}},{key:"LB",get:function(){}},{key:"Qo",get:function(){}},{key:"ZS",get:function(){return this.eQ}},{key:"Iy",get:function(){return this.fS?this.fS.Iy:nA.SI()}},{key:"uR",get:function(){}},{key:"Xw",get:function(){}},{key:"UB",get:function(){}},{key:"lq",get:function(){return"block"===this.XQ.style.display}},{key:"US",get:function(){return this.wS},set:function(t){this.wS=t}},{key:"NX",get:function(){}}]),n}(bs),BC=2,LC=[W_.Sv,W_.Rv];function MC(t){var n=s.createElement(t);return Or(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),UC(n),n}function UC(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),xr(t),t.pause(),t.playbackRate=1,t.preload=jp.SR,t.controls=!1,t.style.display="none",Or(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function FC(t,n){if(n.Js){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();st(r)&&_s(r),t.pause()}}var HC;wr=(HC={hY:function(){function t(t,n,i,r,e){void 0===i&&(i=BC),void 0===r&&(r=LC),void 0===e&&(e=Xo()),this.aY=void 0,this.cY=void 0,this.ho=void 0,this.fY=void 0,this.CX=void 0,this.HI=void 0,this.vY=void 0,this.aY=i,this.cY=[].concat(r),this.ho=e,this.CX=t,this.HI=n,this.fY=ie(),this.dY()}var n=t.prototype;return n.WI=function(t){for(var n=0,i=this.zI;n<i.length;n++){i[n].dq(t)}},n.LS=function(t){var n=Ge(this.fY.get(t),function(t){return t.lY});if(n)return n.lY=!1,n._Y},n.gY=function(t){if(!this.vY)throw new v("Error creating iOS Safari MediaController");return this.vY},n.tR=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.MS,r=i.tagName.toLowerCase(),t.next=4,n.Cl();case 4:UC(i),(e=Ge(this.fY.get(r)||[],function(t){return n===t._Y}))&&(e.lY=!0);case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qI=function(){for(var t=0,n=this.zI;t<n.length;t++){n[t].fq()}},n.Lv=function(){for(var t=0,n=this.zI;t<n.length;t++){var i=n[t],r=i.MS;i.mo(),UC(r),Sr(r)}},n.dY=function(){for(var t=0,n=this.cY;t<n.length;t++){var i=n[t],r=[];this.fY.set(i,r);for(var e=0;e<this.aY;e++){var s=MC(i),u=i===W_.Sv?new nN(s,this.ho,this.CX):new bC(s,this.ho,this.CX,this.HI);r.push({_Y:u,lY:!0})}}if(Y.Pe&&Y.me){var o=MC(W_.Rv);this.vY=new PC(o)}},M(t,[{key:"zI",get:function(){for(var t=[],n=0,i=this.cY;n<i.length;n++){var r=i[n],e=this.fY.get(r).map(function(t){return t._Y});t.push.apply(t,e)}return this.vY&&t.push(this.vY),t}}]),t}(),wY:function(){function t(n){var i=this;this.yY=new zE,this.mY=E.coroutine(Kr.mark(function n(){var r,e,s;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.UI.LS(W_.Rv),e=r.MS,n.next=4,t.kY(e);case 4:return s=n.sent,n.next=7,i.UI.tR(r);case 7:return n.abrupt("return",s);case 8:case"end":return n.stop()}},n)})),this.UI=n}var n=t.prototype;return n.yL=function(){return this.yY.nL(this.mY)},n.$w=function(){this.UI.qI()},t.kY=function(){var n=E.coroutine(Kr.mark(function n(i){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!Y.Re&&!Y.Ee){n.next=2;break}return n.abrupt("return","all");case 2:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=5,t.pY();case 5:return n.next=7,t.AY(i);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return","all");case 9:return n.next=11,t.bY(i);case 11:if(!n.sent){n.next=13;break}return n.abrupt("return","muted");case 13:return n.abrupt("return","none");case 14:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.AY=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,st(i)){t.next=4;break}return t.abrupt("return",!Y.pe);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.bY=function(){var n=E.coroutine(Kr.mark(function n(i){var r;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.AY(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.pY=function(){return new E(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else h(t,0)})},n.Lv=function(){this.yY.Lv()},t}(),TY:{kD:function(t){kr.addEventListener("beforeunload",t)},xD:function(t){kr.removeEventListener("beforeunload",t)}},EY:e}).hY,yr=HC.wY,mr=HC.TY,kr=HC.EY,pr=kr&&kr.location,Ar=kr&&kr.navigator;var VC=[];function XC(){VC.shift()()}function WC(t){VC.push(t),h(XC,0)}var qC=function(){function t(t){this.SY=void 0,this.RY=void 0,this.IY=void 0,this.IY=t}var n=t.prototype;return n.NY=function(t){return this.SY=this.SY||{},void 0===this.SY[t]&&(this.SY[t]=[]),this.SY[t]},n.addEventListener=function(t,n){var i=this.NY(t);-1===i.indexOf(n)&&i.push(n)},n.Lo=function(t){(this.RY||(this.RY=[])).push(t)},n.removeEventListener=function(t,n){var i=this.NY(t);n?Qe(i,n):i.length=0},n.Vo=function(t){var n=this.RY;n&&Qe(n,t)},n.Mo=function(){this.SY=void 0},n.dispatchEvent=function(t,n){if(n)return WC(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.NY(t.type).slice(),r=this.RY&&this.RY.slice(),e=0;e<i.length;e++){i[e].call(this.IY||this,t)}if(r)for(var s=0;s<r.length;s++){r[s].call(this.IY||this,t)}},n.CY=function(t){return Boolean(this.SY&&this.SY[t]&&this.SY[t].length)},n.DY=function(){return this.SY?l.keys(this.SY):[]},t}(),zC=function(){function t(){this.OY=[]}var n=t.prototype;return n.PQ=function(t,n){var i=this.OY[t];return i?new i(n):null},n.AL=function(t,n){this.OY[t]=n},t}();zC.je=new zC;var GC,jC=function(t){function n(n,i){var r,e=YC[n];return(r=t.call(this,e?e.zo:"")||this).code=void 0,r.info=void 0,r.helpLink=void 0,r.helpLinkText=void 0,r.code=n,r.info=i,r.helpLink=e&&e.xY,r.helpLinkText=e&&e.PY,r}return F(n,t),M(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(on);!function(t){t.BY="LICENSE_INVALID",t.LY="MANIFEST_NOT_FOUND",t.MY="MANIFEST_CORS_ERROR",t.UY="INVALID_HLS_MANIFEST",t.FY="PLAYBACK_ISSUE",t.HY="AUDIO_ISSUE",t.VY="BROWSER_SUPPORT_ISSUE",t.XY="INVALID_KEY",t.WY="DECRYPTION_ERROR",t.qY="AD_BLOCK_DETECTED",t.zY="THEOPLAYER_NOT_INITIALIZED",t.$l="ERROR",t.GY="MANIFEST_SEQUENCE_RESET_ERROR",t.jY="PLAYER_INCORRECTLY_CONFIGURED",t.QY="UNSUPPORTED"}(GC||(GC={}));for(var QC=[{mh:GC.BY,zo:"The license for this player is invalid. Please contact your service provider for additional information."},{mh:GC.LY,zo:"Could not load the manifest file."},{mh:GC.MY,zo:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",xY:"https://www.theoplayer.com/documentation/cors.html",YY:!1},{mh:GC.UY,zo:"The source of the player is an invalid HLS manifest.",xY:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{mh:GC.FY,zo:"There appears to be a playback issue."},{mh:GC.HY,zo:"There is an audio issue. Please contact your service provider with the code below for additional information."},{mh:GC.VY,zo:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{mh:GC.XY,zo:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{mh:GC.WY,zo:"There is a decryption error. Please contact your service provider with the code below for additional information."},{mh:GC.qY,zo:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{mh:GC.zY,zo:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{mh:GC.$l,zo:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{mh:GC.GY,zo:"The video stream has been reset. THEOplayer will attempt to reload the source."},{mh:GC.jY,zo:"The player is incorrectly configured.",xY:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{mh:GC.QY,zo:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],YC={},ZC=0;ZC<QC.length;ZC++){var JC=QC[ZC];YC[JC.mh]=JC}function $C(t){return t.ZY}var KC=function(){function t(){this.Pc=[],this.JY={},this.$Y=0}var n=t.prototype;return n.KY=function(t){var n=this.JY[t];return void 0===n?-1:n-this.$Y},n.tZ=function(t){return this.Pc[t]},n.nZ=function(t){return this.tZ(this.KY(t))},n.iZ=function(t){return!!this.tZ(t)},n.rZ=function(t){return!!this.nZ(t)},n.eZ=function(){return this.Pc},n.vg=function(t){var n,i=this.Pc,r=i.length?i[i.length-1]:null;if(this.KY(t.ZY)>=0)return!1;if(r&&t.ZY>r.ZY)n=i.length;else{var e=rR(this.Pc,t.ZY,$C,d_);if(e>=0)return!1;n=-(e+1)}return this.sZ(t,n),!0},n.Ph=function(t){var n=this.Pc,i=this.JY,r=this.KY(t.ZY);return!(r<0)&&(n.splice(r,0,t),delete i[t.ZY],this.uZ(r),!0)},n.oZ=function(t){var n=this.Pc,i=this.JY;t=_.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].ZY];n.splice(0,t),this.$Y+=t},n.sZ=function(t,n){var i=this.Pc;n>=i.length?i.push(t):i.splice(n,0,t),this.uZ(n)},n.uZ=function(t){for(var n=this.Pc,i=this.JY,r=this.$Y,e=n.length,s=t;s<e;s++)i[n[s].ZY]=s+r},M(t,[{key:"Ol",get:function(){return this.Pc.length}}]),t}(),tD=function(){function t(t,n,i){this.hZ=void 0,this.aZ=void 0,this.cZ=void 0,this.hZ=t,this.aZ=n,this.cZ=i}var n=t.prototype;return n.compute=function(){return this.hZ.live?this.hZ.fZ?this.hZ.vZ:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.cZ&&(t+=this.dZ()),this.lZ()&&(t+=this._Z(t)),t},n.lZ=function(){return void 0!==this.aZ.gZ.nZ(this.hZ.fragments[0].ZY)},n._Z=function(t){var n=this.hZ.fragments[0];return this.aZ.gZ.nZ(n.ZY).wZ-(n.wZ+t)||0},n.dZ=function(){var t=nD(this.hZ),n=nD(this.cZ.yZ),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.cZ)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var s=0,u=0;u<n.length+t.length;u+=1){var o=t[u]||0,h=n[u-e]||0;s+=_.abs(o-h)}s<r&&(i=e,r=s)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.yZ.fragments.length?this.cZ.mZ(t.yZ.fragments[0].ZY).wZ:0},t}();function nD(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var s=e[r];s.kZ&&(n.push(i),i=0),i+=s.duration}return n.push(i),n}var iD=function(t){function n(n){return t.call(this,og.kl,n)||this}return F(n,t),n.prototype.tl=function(){return new rD(this.jy.Kd)},n}(dg),rD=function(t){function n(n){return t.call(this,hg.kl,n)||this}return F(n,t),n}(lg),eD=function(t){function n(n,i){var r,e=sD(i,n.U_,n.uR,n.pZ);return(r=t.call(this,i,e,void 0,!1,n.Xl)||this).AZ=void 0,r.bZ=void 0,r.TZ=void 0,r.iH=void 0,r.EZ=void 0,r.SZ=void 0,r.RZ=void 0,r.IZ=void 0,r.NZ=void 0,r.CZ=void 0,r.AZ=n.DZ,r.bZ=n.uR,r.TZ=n.pZ,r.iH=n.U_,r.EZ=n.OZ,r.SZ=Boolean(n.xZ),r.RZ=n.PZ||{},r.IZ=n.BZ,r.NZ=n.LZ,r.CZ=n.MZ,r.UZ(),r.FZ(),r}F(n,t);var i=n.prototype;return i.Bh=function(t){var n=!1;void 0===this.AZ&&void 0!==t.DZ&&(n=!0,this.AZ=t.DZ),void 0===this.TZ&&void 0!==t.pZ&&(n=!0,this.TZ=t.pZ),void 0===this.iH&&void 0!==t.U_&&(n=!0,this.iH=t.U_),void 0===this.EZ&&void 0!==t.OZ&&(n=!0,this.EZ=t.OZ),!this.SZ&&t.xZ&&(n=!0,this.SZ=t.xZ),n=this.updateCustomAttributes(t,n),void 0===this.IZ&&void 0!==t.BZ&&(n=!0,this.IZ=t.BZ),void 0===this.NZ&&void 0!==t.LZ&&(n=!0,this.NZ=t.LZ),void 0===this.CZ&&void 0!==t.MZ&&(n=!0,this.CZ=t.MZ),this.UZ(),this.FZ(),this.HZ(),n&&this.xo(new iD(this))},i.updateCustomAttributes=function(t,n){var i=n;if(t.PZ)for(var r=0,e=l.keys(t.PZ);r<e.length;r++){var s=e[r];void 0===this.RZ[s]&&(i=!0,this.RZ[s]=t.PZ[s])}return i},i.UZ=function(){this.iH&&!this.TZ&&(this.TZ=new Date(this.bZ.getTime()+1e3*this.iH))},i.FZ=function(){this.TZ&&!this.iH&&(this.iH=$t(this.TZ.getTime()-this.bZ.getTime()))},i.HZ=function(){this.om===1/0&&(this.TZ||this.iH)&&(this.om=sD(this.um,this.iH,this.bZ,this.TZ))},M(n,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=Ld(_g(t=this),{get content(){return t.Zy},get class(){return t.DZ},get startDate(){return t.uR},get endDate(){return t.pZ},get duration(){return t.U_},get plannedDuration(){return t.OZ},get endOnNext(){return t.xZ},get scte35Cmd(){return t.BZ},get scte35Out(){return t.LZ},get scte35In(){return t.MZ},get customAttributes(){return t.PZ}})),this.$d}},{key:"DZ",get:function(){return this.AZ}},{key:"uR",get:function(){return this.bZ}},{key:"pZ",get:function(){return this.TZ}},{key:"U_",get:function(){return this.iH}},{key:"OZ",get:function(){return this.EZ}},{key:"xZ",get:function(){return this.SZ}},{key:"BZ",get:function(){return this.IZ}},{key:"LZ",get:function(){return this.NZ}},{key:"MZ",get:function(){return this.CZ}},{key:"PZ",get:function(){return this.RZ}}]),n}(kg);function sD(t,n,i,r){return $(n)?t+n:r?t+($t(r.getTime())-$t(i.getTime())):1/0}var uD,oD,hD,aD,cD,fD=function(t){function n(){return t.call(this,void 0,void 0,rg.DATE_RANGE)||this}F(n,t);var i=n.prototype;return i.Bh=function(t,n){for(var i=this,r=function(t){for(var n=ie(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.Xl)){var s=n.get(e.Xl),u=te({},s,Hd(e),{PZ:te({},s.PZ,e.PZ)});n.set(e.Xl,u)}else n.set(e.Xl,e),i.push(e.Xl)}return i.map(function(t){return n.get(t)})}(t),e=this.i_.Dl,s=function(t){var n=e[t],s=Ge(r,function(t){return t.Xl===n.Xl});s?n.Bh(s):i.OH(n)},u=e.length-1;u>=0;u--)s(u);for(var o=0;o<r.length;o++){var h=r[o],a=h.uR;if(void 0!==a&&!this.CH(h.Xl)){var c=n(a);this.Hb(new eD(h,c))}}},i.Hb=function(n){this.VZ(n),t.prototype.Hb.call(this,n)},i.VZ=function(t){var n=this.yH.filter(function(n){return n.DZ===t.DZ}).pop();n&&n.xZ&&n.Bh({Xl:n.Xl,pZ:t.uR})},n}(bI);function vD(t){return dD(t)?{vv:t.XZ,WZ:[t.WZ.WR,t.WZ.zR],xv:!0}:{vv:t.toString(),xv:!0}}function dD(t){return void 0!==t.WZ}function lD(t){return t&&t.qZ&&xg(t.qZ)||!1}function _D(t){if(!t)return N_.pg;if(!lD(t))return N_.ew(t.duration);var n=t.zZ||N_.pg,i=t.GZ||N_.pg,r=N_.ew(t.duration);return n.Sg()||i.Sg()?n.Sg()?i.Sg()?r.Sg()?N_.pg:r:i:n:N_.Jg(n,i)}function gD(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Xb)return i}return null}function wD(t){return gD(t)||function(t){return t.filter(function(t){return t.jZ})}(t)[0]||t[0]}function yD(t,n){for(var i=0;i<n.length;i++){var r=n[i];Ze(t,r)||t.push(r)}return t}function mD(t){switch(t){case aD.Rv:case aD.QZ:return W_.Rv;case aD.Sv:return W_.Sv}}function kD(t){switch(t){case aD.Rv:case aD.QZ:return If.Rv;case aD.Sv:return If.Sv;default:return If.lv}}!function(t){t.YZ="alternative",t.ZZ="main",t.JZ="commentary",t.$Z="",t.Nb="descriptions",t.KZ="main-desc",t.tJ="translation"}(uD||(uD={})),function(t){t.YZ="alternative",t.ZZ="main",t.JZ="commentary",t.$Z="",t.Ib="captions",t.nJ="sign",t.yk="subtitles"}(oD||(oD={})),function(t){t.Rv="video",t.Sv="audio",t.iJ="closedCaption",t.rJ="variant"}(hD||(hD={})),function(t){t[t.lv=-1]="lv",t[t.Sv=0]="Sv",t[t.Rv=1]="Rv",t[t.QZ=2]="QZ"}(aD||(aD={})),function(t){t[t.lv=-1]="lv",t[t.eJ=1]="eJ",t[t.sJ=2]="sJ",t[t.uJ=3]="uJ",t[t.oJ=4]="oJ"}(cD||(cD={})),function(t){t.bw=function(t){return t>=cD.sJ},t.hJ=function(t){return t===cD.sJ||t===cD.uJ}}(cD||(cD={}));var pD=function(t){function n(){var n;return(n=t.call(this)||this).aJ=[],n.cJ=function(){return n.dispatchEvent("fJ")},n.vJ=function(){return n.dispatchEvent("dJ")},n}F(n,t);var i=n.prototype;return i.vg=function(t){this.aJ.push(t),t.addEventListener("dJ",this.vJ),t.addEventListener("lJ",this.cJ),this.dispatchEvent("_J"),t.disabled||this.dispatchEvent("fJ")},i.Ph=function(t){var n=this.aJ.indexOf(t);n<0||(Ye(this.aJ,n),t.removeEventListener("dJ",this.vJ),t.removeEventListener("lJ",this.cJ),this.dispatchEvent("_J"),t.disabled||this.dispatchEvent("fJ"))},i.sh=function(){for(var t=!!this.gJ.length,n=!!this.wJ.length,i=0,r=this.aJ;i<r.length;i++){r[i].removeEventListener("lJ",this.cJ)}this.aJ.length=0,t&&this.dispatchEvent("_J"),n&&this.dispatchEvent("fJ")},i.Lv=function(){this.Mo(),this.sh()},M(n,[{key:"gJ",get:function(){return this.aJ}},{key:"wJ",get:function(){return this.aJ.filter(function(t){return!t.disabled})}}]),n}(qC);function AD(t){if(!t)return null;for(var n={yJ:"",mJ:"",kJ:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],s=e.trim();"mp4a.40.5"===s||"mp4a.40.05"===s?n.yJ="mp4a.40.5":"mp4a.40.2"===s||"mp4a.40.02"===s?n.yJ="mp4a.40.2":"mp4a.40.29"===s?n.yJ="mp4a.40.29":0===s.indexOf("mp4a.40.3")?n.yJ=s:"ec-3"===s?n.yJ=s:0===s.indexOf("avc")?n.mJ=e:n.kJ+=","+s}return n}var bD=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this)||this).pJ=void 0,h.IE=void 0,h.Oy=void 0,h.AJ=new KC,h.bJ=NaN,h.TJ=void 0,h.EJ=void 0,h.AH=void 0,h.SJ=void 0,h.RJ=void 0,h.IJ=!0,h.NJ=!0,h.CJ=!0,h.DJ=!1,h.OJ=null,h.xJ=!1,h.pJ=n,h.IE=i,h.Oy=r||0===r?r:-1,h.EJ=e,h.SJ=Boolean(s),h.RJ=Boolean(u),h.AH=o,h}F(n,t);var i=n.prototype;return i.PJ=function(t,n){var i=qb(),r=new tD(t,this,n).compute(),e=this.BJ(t.fragments),s=e.oldFragments,u=e.newFragments;this.LJ(s,i),this.MJ(u,i,r),this.TJ!==t&&this.UJ(!0),this.TJ=t,this.dispatchEvent({type:"FJ",HJ:this}),this.dispatchEvent("renditionUpdated")},i.mZ=function(t){return this.AJ.nZ(t)},i.VJ=function(){var t=this.IJ;this.IJ=this.NJ&&this.CJ,t!==this.IJ&&this.dispatchEvent("dJ")},i.UJ=function(t){this.NJ=t,this.VJ()},i.XJ=function(t){this.CJ=t,this.VJ()},i.WJ=function(t){this.IE=t,this.dispatchEvent("renditionUpdated")},i.qJ=function(){null!==this.OJ&&a(this.OJ),this.dispatchEvent("lJ"),this.dispatchEvent("renditionUpdated")},i.zJ=function(t){this.xJ=t,this.qJ()},i.GJ=function(){this.jJ(3e4)},i.jJ=function(t){var n=this;this.DJ=!0,this.qJ(),this.OJ=h(function(){n.DJ=!1,n.qJ()},t)},i.BJ=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var s=e[r];this.AJ.rZ(s.ZY)?n.push(s):i.push(s)}return{oldFragments:n,newFragments:i}},i.LJ=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.AJ.nZ(r.ZY);e.QJ=yD(e.QJ,r.QJ),e.YJ=r.YJ||e.YJ,e.ZJ=n}},i.MJ=function(t,n,i){var r=this.JJ(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.lp=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.wZ+=n}}(r,i),this.$J(r)},i.JJ=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.HJ=this;var e=te({},r);n.push(e)}return n},i.$J=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.AJ.vg(i),y(this.bJ)&&(this.bJ=i.ZY)}},i.Lv=function(){this.Mo(),null!==this.OJ&&a(this.OJ)},M(n,[{key:"disabled",get:function(){return this.DJ||this.xJ},set:function(t){this.DJ=t,this.qJ()}},{key:"Xl",get:function(){return this.Oy}},{key:"Ey",get:function(){return this.IJ}},{key:"uri",get:function(){return this.EJ||this.TJ&&this.TJ.uri},set:function(t){this.EJ=t,this.dispatchEvent("renditionUpdated")}},{key:"yZ",get:function(){return this.TJ}},{key:"gZ",get:function(){return this.AJ}},{key:"KJ",get:function(){return this.TJ?this.TJ.live?this.TJ.duration<-60?cD.uJ:cD.oJ:cD.eJ:cD.lv}},{key:"hs",get:function(){return this.IE},set:function(t){this.WJ(t)}},{key:"Gl",get:function(){return this.AH}},{key:"Xb",get:function(){return this.SJ}},{key:"jZ",get:function(){return this.RJ||this.SJ}},{key:"t$",get:function(){return this.bJ}},{key:"n$",get:function(){return!!this.yZ}},{key:"zf",get:function(){return this.pJ}}]),n}(qC),TD=function(t){function n(n,i,r,e,s,u,o,h,a,c,f,v,d,l,_,g){var w;return void 0===_&&(_=uD.ZZ),(w=t.call(this,n,i,r,s,u,o,d)||this).i$=void 0,w.r$=void 0,w.e$=void 0,w.s$=void 0,w.u$=void 0,w.o$=void 0,w.h$=void 0,w.a$=void 0,w.c$=void 0,w.pH=void 0,w.f$=void 0,w.v$=void 0,w.d$=void 0,w.l$=void 0,w._$=void 0,w.g$=void 0,w.w$=null,w.y$=void 0,w.i$=Boolean(l),w.u$=e,w.r$=AD(h),w.e$=g,w.h$=a,w.a$=c,w.o$=f,w.s$=v,w.pH=_,w}F(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.ZY,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.m$[0]?t.m$[0].ql:uD.ZZ)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&Ie(t.characteristics,"public.accessibility.describes-video")?uD.KZ:uD.ZZ;if(t.characteristics&&Ie(t.characteristics,"public.accessibility.describes-video"))return uD.Nb;return uD.YZ}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.k$=function(t){this.r$="string"==typeof t?AD(t):t,this.dispatchEvent("renditionUpdated")},i.p$=function(t,n){return t?!n&&t.yJ&&t.mJ?aD.QZ:t.mJ?aD.Rv:t.yJ?aD.Sv:aD.lv:aD.lv},M(n,[{key:"A$",set:function(t){this.i$=t}},{key:"b$",get:function(){return this.r$}},{key:"bandwidth",get:function(){return this.s$},set:function(t){this.s$=t,this.dispatchEvent("renditionUpdated")}},{key:"ql",get:function(){return this.pH}},{key:"resolution",get:function(){return this.o$},set:function(t){this.o$=t,this.dispatchEvent("renditionUpdated")}},{key:"T$",get:function(){return void 0!==this.e$?this.e$:this.p$(this.r$,this.i$)}},{key:"ZY",get:function(){return this.h$}},{key:"yJ",get:function(){return this.a$}},{key:"E$",get:function(){return this.u$}},{key:"S$",get:function(){return this.c$},set:function(t){var n=this.c$;this.c$=t,n!==t&&this.dispatchEvent("renditionUpdated")}}]),n}(bD);var ED=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,n,i,r,e,s,u,o)||this).xs=void 0,c.R$=null,c.I$=void 0,c.N$=function(){return c.C$()},c.xs=h,c.I$=new yR(a,String(r),c.hs,c.Gl,void 0,rg.WEBVTT),c.Xb&&(c.I$.t_=$d.Jl),c}F(n,t),n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id||0===i.id?i.id:-1,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),!!i.autoselect&&"yes"===i.autoselect.toLowerCase(),i.language,i.type,function(t){if(Ie(t.characteristics,"public.accessibility.describes-music-and-sound"))return ry.Ib;return ry.yk}(i))};var i=n.prototype;return i.PJ=function(n){t.prototype.PJ.call(this,n),this.C$()},i.Lv=function(){t.prototype.Lv.call(this),this.lb=null},i.WJ=function(n){t.prototype.WJ.call(this,n),this.I$.zl=n},i.C$=function(){this.R$&&this.R$.D$(this,this.gZ)},M(n,[{key:"O$",get:function(){return this.I$}},{key:"lb",get:function(){return this.R$},set:function(t){this.R$&&this.R$.removeEventListener("x$",this.N$),this.R$=t,this.C$(),this.R$&&this.R$.addEventListener("x$",this.N$)}},{key:"XZ",get:function(){return this.uri}},{key:"io",get:function(){return this.xs}}]),n}(bD),SD=function(t){function n(n,i){var r;(r=t.call(this)||this)._a=void 0,r.P$=void 0,r.B$=["renditionUpdated","FJ","L$"],r.M$=null,r.U$=null,r.F$=null,r.H$=null,r.V$=new pD,r.X$=new pD,r.W$=new pD,r.Lw={},r.q$=void 0,r.z$=void 0,r.G$=null,r.iH=NaN,r.j$=void 0,r.Q$=void 0,r.Oo=function(t){return r.dispatchEvent(t)},r._a=n,r.P$=i;var e=sn(r);return r.j$=function(){e.ZF(this)},r.Q$=function(t){e.Y$(this,t)},r}F(n,t);var i=n.prototype;return i.Z$=function(t,n){var i=new TI(n);return i.t_=$d.Zl,this.Lw[i.Xl]=i,this.dispatchEvent({type:"J$",nl:i}),i},i.K$=function(t,n,i){var r=new bI(i,"manifest");return r.t_=$d.Zl,this.Lw[r.Xl]=r,this.dispatchEvent({type:"J$",nl:r}),r},i.tK=function(t,n){if(t){var i=t.i_,r=t.nK,e=t&&this.Lw[r];e||(e=new TI(t.Kl),this.Lw[r]=e,e.t_=$d.Zl,this.dispatchEvent({type:"J$",nl:e}));for(var s=0;s<i.length;s++){var u=i[s];e.Hb(u)}}},i.iK=function(t){t&&(this.q$||(this.q$=new yR(ry.Ib,void 0,"CC1","en",!0,rg.CEA608),this.Lw.CC1=this.q$,this.dispatchEvent({type:"J$",nl:this.q$})),this.q$.Hb(t))},i.rK=function(t,n,i){var r=this.Lw[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,s=t.i_.Dl;e<s.length;e++){var u=s[e];if(u.Qy>=i)break;n<u.Yy&&r.push(u)}}(r,n,i,e);for(var s=0;s<e.length;s++){var u=e[s];r.OH(u)}}},i.eK=function(t,n){return this.sK(t,n)},i.uK=function(t){var n;return(n=this.oK(t,this.V$))?n:(n=this.oK(t,this.X$))?n:n=this.oK(t,this.W$)},i.Lv=function(){this.Ho(this.V$),this.V$.Lv(),this.Ho(this.X$),this.X$.Lv(),this.Ho(this.W$),this.W$.Lv(),this.Lw={},this.q$=void 0,this.z$&&(this.z$.Lv(),this.z$=void 0),this.G$=null,this.iH=NaN,this.M$=null,this.U$=null,this.F$=null,this.H$=null,this.dispatchEvent("Lv")},i.hK=function(t){var n=TD.createFromUri(this,t.uri);this.Ho(this.X$),this.X$.vg(n),n.addEventListener("renditionUpdated",this.j$)},i.ZF=function(t){var n=t.yZ,i=t.KJ;if(y(this.iH)||cD.bw(i)){if(cD.lv===i)return;if(!n)return;this.iH=n.duration,this.dispatchEvent("aK")}y(this.iH)||cD.eJ!==i||t.removeEventListener("renditionUpdated",this.j$)},i.cK=function(t){var n=this;this.Ho(this.V$),this.V$.sh(),this.Ho(this.X$),this.X$.sh(),this.W$.sh(),this.G$=t;for(var i=t.streams.map(function(t){return TD.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.yJ&&!Ie(t.yJ,"mp4a")&&!Ie(t.yJ,"mp3"))return!1;if(t.mJ&&!Ie(t.mJ,"avc1"))return!1;return!0}(t.b$)}),r=i.some(function(t){return t.b$&&t.b$.yJ}),e=i.some(function(t){return t.b$&&t.b$.mJ}),s=0;s<i.length;s++){var u=i[s],o=Boolean(u.b$&&u.b$.yJ),h=Boolean(u.b$&&u.b$.mJ);r&&!o||e&&!h||(this.X$.vg(u),u.addEventListener("renditionUpdated",this.j$))}for(var a=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.P$){var e=ED.createFromPlaylistMedia(n,r);n.W$.vg(e),n.dispatchEvent({type:"J$",nl:e.O$})}break;case"closed-captions":break;case"audio":var s=n.X$.gJ.filter(function(t){return t.yJ===r["group-id"]});if(0===s.length)return"continue";r.uri&&s.forEach(function(t){return t.A$=!0});var u=r.uri?aD.Sv:aD.QZ,o=TD.createFromPlaylistMedia(n,r,!1,u);n.V$.vg(o)}},c=0,f=t.media;c<f.length;c++)a(c,f);this.fK=wD(this.m$.wJ)||null,this.dispatchEvent("vK")},i.oK=function(t,n){for(var i=0,r=n.gJ;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.Y$=function(t,n){this.dispatchEvent(te({},n,{HJ:t}))},i.dK=function(t){for(var n=0,i=t.gJ;n<i.length;n++)for(var r=i[n],e=0,s=this.B$;e<s.length;e++){var u=s[e];r.addEventListener(u,this.Q$)}},i.Ho=function(t){for(var n=0,i=t.gJ;n<i.length;n++){i[n].Lv()}},i.lK=function(t,n){0!==t.length&&this._a.hlsDateRange&&(this.z$||(this.z$=new fD,this.dispatchEvent({type:"J$",nl:this.z$})),this.z$.Bh(t,n))},i._K=function(t,n){if(this.U$!==t){var i=this.U$;this.U$=t,this.dispatchEvent({type:"gK",T$:"yJ",HJ:this.U$,wK:i,yK:n})}},i.sK=function(t,n){if(this.F$!==t){var i=this.F$;this.F$=t,t&&this.dispatchEvent({type:"gK",T$:"mJ",HJ:this.F$,wK:i,yK:n})}},i.mK=function(t){for(var n=0,i=t.gJ;n<i.length;n++){var r=i[n];if(r.KJ!==cD.lv)return r.KJ}return null},M(n,[{key:"Rw",get:function(){return this.M$},set:function(t){t&&(0===t.streams.length?this.hK(t):this.cK(t),this.M$=t,this.dK(this.X$),this.dK(this.V$),this.dispatchEvent("kK"))}},{key:"pK",get:function(){return this.G$}},{key:"U_",get:function(){return this.iH}},{key:"Xw",get:function(){var t=this,n=this.W$.gJ.map(function(t){return t.O$}),i=l.keys(this.Lw).map(function(n){return t.Lw[n]});return this.q$&&i.push(this.q$),this.z$&&i.push(this.z$),n.concat(i)}},{key:"fK",get:function(){return this.U$},set:function(t){this._K(t,!0)}},{key:"AK",get:function(){return this.F$},set:function(t){this.sK(t,!1)}},{key:"m$",get:function(){return this.V$}},{key:"bK",get:function(){return this.X$}},{key:"TK",get:function(){return this.W$.gJ}},{key:"KJ",get:function(){var t;return null!==(t=this.U$&&this.U$.KJ)&&t!==cD.lv?t:null!==(t=this.F$&&this.F$.KJ)&&t!==cD.lv?t:null!==(t=this.mK(this.V$))?t:null!==(t=this.mK(this.X$))?t:cD.lv}}]),n}(qC);var RD=function(t){function n(n,i,r){var e,s,u,o,h;return(e=t.call(this)||this).vp=[],e.EK={},e.SK=void 0,e.RK=void 0,e.IK=void 0,e.Kd=void 0,e.Oo=function(t){return e.dispatchEvent(t)},e.NK=function(t){e.CK(t)},e.DK=function(t){e.handleRenditionUpdated(t)},e.xK=function(t){for(var n=0,i=e.vp;n<i.length;n++){i[n].PK.xK(t)}},e.SK=n,e.RK=i,e.IK=r,e.RK&&e.RK.addEventListener("gK",e.NK),e.IK&&(e.IK.addEventListener("renditionUpdated",e.DK),e.IK.addEventListener("BK",e.xK)),e.Kd=(s=sn(e),u=new qC,o={get length(){return s.vp.length},enable:function(t){s.Eb(s.LK(t&&t.id)||t)},disable:function(t){s.Sb(s.LK(t&&t.id)||t)},item:function(t){return s.vp[t]&&s.vp[t].Kd},getTrackByID:function(t){var n=s.LK(t);return n&&n.Kd},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},h=function(t){return u.dispatchEvent(t,!0)},s.addEventListener("addtrack",h),s.addEventListener("enabledtrack",h),s.addEventListener("disabledtrack",h),o),e}F(n,t);var i=n.prototype;return i.LK=function(t){return this.EK[t]},i.Rl=function(t){for(var n=0,i=t.PK.jl;n<i.length;n++){var r=i[n];r.Xl===this.MK()&&(r.lm=!0)}t.addEventListener("enabledtrack",this.Oo),t.addEventListener("disabledtrack",this.Oo),this.vp.push(t),this.EK[t.Xl]=t,this.dispatchEvent({type:"addtrack",track:t.Kd})},i.Eb=function(t){if(t){var n=this.EK[t.Xl];if(n&&!n.Vl){for(var i=this.vp.length-1;i>=0;i--)this.vp[i].ty();n.Kw()}}},i.Sb=function(t){},M(n,[{key:"UK",get:function(){return this.MK()}}]),n}(qC);var ID=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).FK=void 0,e.FK=NaN,e}F(n,t);var i=n.prototype;return i.MK=function(){return this.FK},i.CK=function(t){t.HK?this.VK(t.XK):t.WK&&this.VK(t.WK)},i.VK=function(t){t&&(this.FK=t.Xl),this.vp.forEach(function(n){return n.qK(t)})},i.handleRenditionUpdated=function(t){if(t.HJ&&t.HJ.T$===aD.Sv)for(var n=0,i=this.vp;n<i.length;n++){i[n].zK(t)}},i.Eb=function(n){var i=n;if(!i){var r=this.vp.filter(function(t){return t.Xb});r.length>0&&(i=r[0])}t.prototype.Eb.call(this,i)},M(n,[{key:"io",get:function(){return"audio"}}]),n}(RD),ND=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).GK=void 0,e.GK=NaN,e}F(n,t);var i=n.prototype;return i.MK=function(){return this.GK},i.CK=function(t){(t.jK||t.XK)&&(t.XK&&(this.GK=t.XK.Xl),this.vp.forEach(function(n){return n.qK(t.XK)}))},i.handleRenditionUpdated=function(t){if(t.HJ&&(t.HJ.T$===aD.Rv||t.HJ.T$===aD.QZ))for(var n=0,i=this.vp;n<i.length;n++){i[n].zK(t)}},M(n,[{key:"io",get:function(){return"video"}}]),n}(RD);function CD(t,n){for(var i,r=n-(i=t?tt(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function DD(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}var OD=function(t){function n(n){var i,r,e,s;return(i=t.call(this)||this).HJ=void 0,i.lm=!1,i.QK=!0,i.Kd=void 0,i.HJ=n,i.lm=!1,i.Kd=(r=sn(i),e=new qC,s={get bandwidth(){return r.HJ&&r.HJ.bandwidth},get averageBandwidth(){return r.HJ&&r.HJ.averageBandwidth},get codecs(){return r.b$},get resolution(){return r.YK},get frameRate(){return DD(r.ZK,2)},get id(){return r.Xl},get uri(){return r.HJ&&r.HJ.uri},get name(){return r.hs},set name(t){r.hs=t},get enabled(){return r.Vl},set enabled(t){r.Vl=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),s),i}F(n,t);var i=n.prototype;return i.JK=function(t){var n=!!t&&this.Xl===t.Xl;this.lm!==n&&(this.lm=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Kd}))},i.zK=function(t){return this.HJ.Xl===t.HJ.Xl&&(this.HJ=t.HJ,this.dispatchEvent({type:"qualityupdated",quality:this.Kd}),!0)},M(n,[{key:"Vl",get:function(){return this.QK},set:function(t){this.QK=t,this.HJ.zJ(!t)}},{key:"ql",get:function(){return this.HJ.ql}},{key:"YK",get:function(){return this.HJ.resolution?{width:this.HJ.resolution.width,height:this.HJ.resolution.height}:{width:NaN,height:NaN}}},{key:"hs",get:function(){return this.HJ.hs},set:function(t){this.HJ.hs=t,this.dispatchEvent({type:"qualityupdated",quality:this.Kd})}},{key:"Xl",get:function(){return this.HJ.Xl}}]),n}(qC);var xD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"b$",get:function(){return this.HJ.b$&&this.HJ.b$.mJ||""}},{key:"ZK",get:function(){return DD(Number(this.HJ.S$),2)}}]),n}(OD),PD=function(t){function n(n){return t.call(this,n)||this}return F(n,t),M(n,[{key:"b$",get:function(){return this.HJ.b$&&this.HJ.b$.yJ||""}},{key:"ZK",get:function(){return DD(Number(this.HJ.y$),2)}}]),n}(OD),BD=function(t){function n(n,i){var r,e,s,u,o;(r=t.call(this)||this).jl=void 0,r.$K=null,r.KK={},r.IK=void 0,r.Kd=void 0,r.Oo=function(t){return r.dispatchEvent(t)},r.jl=n,r.IK=i;for(var h=r.jl.length-1;h>=0;h--){var a=r.jl[h];r.KK[a.Xl]=a}return r.jl.forEach(function(t){return t.addEventListener("activequalitychanged",r.Oo)}),r.Kd=(e=sn(r),s=new qC,u={item:function(t){var n=e.Sl(t);return n&&n.Kd},getQualitiesByIDs:function(t){return e.n0(t).map(function(t){return t.Kd})},get length(){return e.jl.length},get activeQuality(){return e.Hl&&e.Hl.Kd},get targetQuality(){return e.Ql?1===e.Ql.length?e.Ql[0].Kd:e.Ql.map(function(t){return t.Kd}):null},set targetQuality(t){if(t){var n=K(t)?t:[t];e.Ql=e.n0(n.map(function(t){return t.id}))}else e.Ql=null},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},o=function(t){return s.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),u),r}F(n,t);var i=n.prototype;return i.i0=function(t){return!!t&&this.jl.some(function(n){return n.Xl===t.Xl})},i.r0=function(t,n){for(var i=0,r=this.jl;i<r.length;i++){r[i].JK(t)}},i.n0=function(t){var n=this;return t&&t.map(function(t){return n.KK[t]}).filter(function(t){return t})},i.e0=function(){for(var t=this.jl.length-1;t>=0;t--)this.jl[t].lm=!1},i.xK=function(t){var n=this.IK.s0,i=this.n0(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Kd}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Sl=function(t){return this.jl[t]},M(n,[{key:"Hl",get:function(){for(var t=0,n=this.jl;t<n.length;t++){var i=n[t];if(i.lm)return i}return null}},{key:"Ql",get:function(){return this.$K},set:function(t){this.$K=this.u0(t)}}]),n}(qC);var LD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Kw=function(){this.IK&&(this.IK.FK=this.jl[0].Xl)},i.ty=function(t){this.IK&&(this.IK.FK=null)},i.u0=function(t){},n}(BD),MD=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.Kw=function(){if(this.u0(this.Ql),this.IK){var t=this.IK.SK;if(!t)return;var n=Ge(t.o0.m$.gJ,function(t){return!t.uri});this.IK.FK=n?n.Xl:null}},i.r0=function(n,i){"video"===i&&t.prototype.r0.call(this,n,i)},i.ty=function(t){"video"===t&&this.e0()},i.u0=function(t){if(!this.IK)return this.Ql;var n=t?this.n0(t.map(function(t){return t.Xl})):null;if(n&&n.length>0){var i=n.map(function(t){return t.Xl});return this.IK.s0=i,n}return t?this.Ql:(this.IK.s0=null,null)},n}(BD),UD=function(t){function n(n,i){var r,e,s;return(r=t.call(this)||this).io=void 0,r.PK=void 0,r.Xl=void 0,r.By=void 0,r.hs=void 0,r.Kd=void 0,r.io=n,r.PK=i,r.Xl=i.Sl(0).Xl,r.By=r.PK.jl.some(function(t){return t.lm}),r.hs=i.Sl(0).HJ.hs,r.Kd=(e=sn(r),s=new qC,{get id(){return e.Xl},get enabled(){return e.Vl},get qualities(){return e.PK&&e.PK.Kd},get language(){return e.Gl},get default(){return e.Xb},get name(){return e.hs},set name(t){e.hs=t},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}}),r}F(n,t);var i=n.prototype;return i.qK=function(t){var n=this.PK.i0(t);this.My(n),this.PK.r0(t,this.io)},i.My=function(t){this.By!==t&&(t?(this.By=!0,this.dispatchEvent({type:"enabledtrack",track:this.Kd})):(this.By=!1,this.dispatchEvent({type:"disabledtrack",track:this.Kd})))},i.Kw=function(){this.By||this.PK.Kw()},i.ty=function(){this.By&&this.PK.ty(this.io)},i.zK=function(t){t.HJ.Xl===this.Xl&&(this.hs=t.HJ.hs);for(var n=0,i=this.PK.jl;n<i.length;n++){i[n].zK(t)}},M(n,[{key:"Vl",get:function(){return this.By}},{key:"Gl",get:function(){return this.h0()}},{key:"ql",get:function(){return this.a0()}},{key:"Xb",get:function(){var t="video"===this.io,n=this.PK.jl&&this.PK.jl[0].HJ.Xb;return t||n}}]),n}(qC);var FD=function(t){function n(n){return t.call(this,"video",n)||this}F(n,t);var i=n.prototype;return i.a0=function(){return oD.ZZ},i.h0=function(){return""},n}(UD),HD=function(t){function n(n){return t.call(this,"audio",n)||this}F(n,t);var i=n.prototype;return i.a0=function(){return this.PK.jl[0].HJ.ql},i.h0=function(){return this.PK.jl[0].HJ.Gl||""},n}(UD),VD=function(){function t(t,n,i){var r=this;this.c0=void 0,this.f0=void 0,this.v0=void 0,this.d0=void 0,this.l0=function(){var t=r.c0;t.removeEventListener("_0",r.l0);var n=t.o0.bK.gJ,i=t.o0.m$.gJ,e=n.map(function(t){return new xD(t)});if(e.length>0){var s=new MD(e,r.f0);r.d0.Rl(new FD(s));var u=Ge(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(u)||o)){var h=new HD(s);u&&(h.hs=u.hs),r.v0.Rl(h)}}for(var a=0;a<i.length;a++){var c=i[a];if(c.uri){var f=new PD(c),v=new LD([f],r.f0);r.v0.Rl(new HD(v))}}},this.c0=t,this.f0=i,this.v0=new ID(t,n,i),this.d0=new ND(t,n,i),t&&(t._0?this.l0():t.addEventListener("_0",this.l0))}return M(t,[{key:"Hw",get:function(){return this.v0}},{key:"Vw",get:function(){return this.d0}}]),t}(),XD=["loadedmetadata","durationchange","Qo","Xv","Ey","g0"],WD=["w0","gK","y0","Qo"],qD=function(t){function n(n,i,r,e,s,u,o){var h;(h=t.call(this)||this).m0=null,h.pR=void 0,h.k0=void 0,h.p0=void 0,h.A0=void 0,h.RK=void 0,h.b0=void 0,h.SK=void 0,h.Vw=void 0,h.Hw=void 0,h.T0=[],h.E0=[],h.S0=function(t){return h.dispatchEvent(t)},h.R0=function(t){return h.I0(t)},h.N0=function(t){return h.C0(t)},h.pR=n.src,h.k0=n.type,h.p0=i,h.A0=r,h.b0=e,h.SK=s,h.RK=u,h.SK&&(h.SK.addEventListener("D0",h.S0),h.SK.addEventListener("O0",h.S0));var a=new VD(h.SK,h.RK,o);return h.Vw=a.Vw,h.Hw=a.Hw,h.AR=null,h.pR&&(h.RK&&h.RK.Cl(),h.SK&&(h.SK.x0=h.pR)),h}F(n,t);var i=n.prototype;return i.P0=function(t){this.RK&&this.RK.xh(t),this.SK&&this.SK.B0(),this.AR&&this.L0()},i.M0=function(){this.RK&&this.RK.M0(),this.SK&&this.SK.U0()},i.F0=function(){if(this.SK)for(var t=0;t<XD.length;t++){var n=XD[t];this.SK.addEventListener(n,this.R0)}if(this.RK)for(var i=0;i<WD.length;i++){var r=WD[i];this.RK.addEventListener(r,this.N0)}},i.H0=function(){if(this.SK)for(var t=0;t<XD.length;t++){var n=XD[t];this.SK.removeEventListener(n,this.R0)}if(this.RK)for(var i=0;i<WD.length;i++){var r=WD[i];this.RK.removeEventListener(r,this.N0)}},i.L0=function(){if(this.SK&&this.T0.length){var t=this.T0.slice();Je(this.T0);for(var n=0;n<t.length;n++){var i=t[n];this.SK.dispatchEvent(i)}}if(this.RK&&this.E0.length){var r=this.E0.slice();Je(this.E0);for(var e=0;e<r.length;e++){var s=r[e];this.RK.dispatchEvent(s)}}},i.I0=function(t){this.T0.push(t)},i.C0=function(t){this.E0.push(t)},i.Lv=function(){this.dispatchEvent("Lv"),this.Mo(),this.RK&&this.RK.Lv(),this.b0&&this.b0.Lv(),this.SK&&this.SK.Lv(),this.m0=null,Je(this.T0),Je(this.E0)},M(n,[{key:"AR",get:function(){return this.m0},set:function(t){this.H0(),this.m0=t,this.AR?this.dispatchEvent("Gh"):this.F0()}}]),n}(qC),zD=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).c0=null,n.Oo=function(t){n.dispatchEvent(t,!0)},n}return F(n,t),M(n,[{key:"FK",get:function(){var t=this.c0&&this.c0.o0.fK;return t?t.Xl:null},set:function(t){var n;this.c0&&(n=null===t?wD(this.c0.o0.m$.gJ):this.c0.o0.m$.gJ.filter(function(n){return t===n.Xl}).shift(),this.c0.o0.fK=n||null)}},{key:"s0",get:function(){return this.c0&&this.c0.V0||null},set:function(t){this.c0&&(this.c0.X0(t),this.dispatchEvent("BK"))}},{key:"SK",get:function(){return this.c0},set:function(t){this.c0&&(this.c0.o0.removeEventListener("kK",this.Oo),this.c0.o0.removeEventListener("renditionUpdated",this.Oo),this.c0.o0.removeEventListener("vK",this.Oo)),this.c0=t,this.c0&&(this.c0.o0.addEventListener("kK",this.Oo),this.c0.o0.addEventListener("renditionUpdated",this.Oo),this.c0.o0.addEventListener("vK",this.Oo))}}]),n}(qC),GD=function(){function t(){}var n=t.prototype;return n.W0=function(t){return E.resolve(!1)},n.q0=function(t){return E.reject(jD)},n.z0=function(t){return E.reject(jD)},n.nh=function(t){return E.resolve(!1)},n.ih=function(t){return E.resolve(void 0)},n.tZ=function(t,n){return E.resolve(void 0)},n.G0=function(t){return E.resolve([])},n.j0=function(){return E.resolve([])},n.Q0=function(t){return E.resolve([])},n.Y0=function(t,n){return E.resolve([])},n.Ph=function(t){return E.reject(jD)},n.Z0=function(t){return E.reject(jD)},n.J0=function(){return E.reject(jD)},t}(),jD="Storage disabled",QD=function(){function t(){this.$0=void 0,this.K0=void 0,this.n1=void 0,this.i1=void 0,this.e1=void 0,this.$0=new GD,this.K0=new GD,this.n1=new GD,this.i1=new GD,this.e1=new GD}return t.PQ=function(){return E.resolve(new t)},t.prototype.s1=function(t){return E.reject(YD)},t}(),YD="Storage disabled",ZD=function(){function t(t){var n=this;this.To=new ju,this.u1=void 0,this.To.wh(t),this.To.gh.then(function(t){n.u1=t})}var n=t.prototype;return n.W0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.W0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.q0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.q0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.z0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.z0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.nh(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ih=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.ih(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tZ=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.tZ(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.G0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.G0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.j0=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.j0());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Q0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Q0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Y0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.Y0(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ph=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Ph(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Z0=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Z0(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.J0=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.u1,t.t0){t.next=5;break}return t.next=4,this.o1;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.J0());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"o1",get:function(){return this.To.gh}}]),t}(),JD=function(){function t(t){var n=this;this.To=new ju,this.h1=void 0,this.K0=void 0,this.$0=void 0,this.n1=void 0,this.i1=void 0,this.e1=void 0,this.To.wh(t);var i=this.To.gh;i.then(function(t){n.h1=t}),this.K0=new ZD(i.then(function(t){return t.K0})),this.$0=new ZD(i.then(function(t){return t.$0})),this.n1=new ZD(i.then(function(t){return t.n1})),this.i1=new ZD(i.then(function(t){return t.i1})),this.e1=new ZD(i.then(function(t){return t.e1}))}return t.prototype.s1=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.h1,t.t0){t.next=5;break}return t.next=4,this.a1;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.s1(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"a1",get:function(){return this.To.gh}}]),t}(),$D=function(){function t(){this.c1=[]}var n=t.prototype;return n.W0=function(t){return E.resolve("temporary"===t)},n.q0=function(t){return this.f1(t.key),this.c1.push(t),E.resolve()},n.z0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.f1(i.key)}for(var r=0;r<t.length;r++){var e=t[r];this.c1.push(e)}return E.resolve()},n.nh=function(t){return E.resolve(Boolean(this.v1(t)))},n.ih=function(t){return E.resolve(this.v1(t))},n.tZ=function(t,n){return E.resolve(this.d1(t,n))},n.G0=function(t){var n=this,i=t?t.map(function(t){return n.v1(t)}):this.c1;return E.resolve(i.filter($))},n.j0=function(){return E.resolve([].concat(this.c1))},n.Q0=function(t){return this.Y0(t,"key")},n.Y0=function(t,n){var i=this.c1.filter(function(i){return i[n]===t});return E.resolve(i)},n.Ph=function(t){return this.f1(t),E.resolve()},n.Z0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.f1(i)}return E.resolve()},n.J0=function(){return Je(this.c1),E.resolve()},n.v1=function(t){return this.d1(t,"key")},n.d1=function(t,n){for(var i=0,r=this.c1;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},n.f1=function(t){var n=this.v1(t);n&&Qe(this.c1,n)},t}(),KD=function(){function t(){this.$0=void 0,this.K0=void 0,this.n1=void 0,this.i1=void 0,this.e1=void 0,this.$0=new $D,this.K0=new $D,this.n1=new $D,this.i1=new $D,this.e1=new $D}return t.PQ=function(){return E.resolve(new t)},t.prototype.s1=function(t){return t(this)},t}(),tO=function(){function t(t){this.l1=t}var n=t.prototype;return n.W0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.l1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.W0(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.q0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.l1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.W0(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.q0(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.z0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.l1;case 1:if(!(r<e.length)){t.next=10;break}return s=e[r],t.next=5,s.W0(i);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",s.z0(n));case 7:r++,t.next=1;break;case 10:throw new v("No collection found that can handle storage persistency type "+i);case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.nh=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.l1;case 1:if(!(i<r.length)){t.next=10;break}return e=r[i],t.next=5,e.nh(n);case 5:if(!t.sent){t.next=7;break}return t.abrupt("return",!0);case 7:i++,t.next=1;break;case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ih=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.l1;case 1:if(!(i<r.length)){t.next=11;break}return e=r[i],t.next=5,e.ih(n);case 5:if(!(s=t.sent)){t.next=8;break}return t.abrupt("return",s);case 8:i++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tZ=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.l1;case 1:if(!(r<e.length)){t.next=11;break}return s=e[r],t.next=5,s.tZ(n,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",u);case 8:r++,t.next=1;break;case 11:return t.abrupt("return",void 0);case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.G0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.l1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.G0(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.j0=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],i=0,r=this.l1;case 2:if(!(i<r.length)){t.next=13;break}return e=r[i],t.t0=n.push,t.t1=n,t.next=8,e.j0();case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:i++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Q0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=[],r=0,e=this.l1;case 2:if(!(r<e.length)){t.next=13;break}return s=e[r],t.t0=i.push,t.t1=i,t.next=8,s.Q0(n);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:r++,t.next=2;break;case 13:return t.abrupt("return",i);case 14:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Y0=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0,s=this.l1;case 2:if(!(e<s.length)){t.next=13;break}return u=s[e],t.t0=r.push,t.t1=r,t.next=8,u.Y0(n,i);case 8:t.t2=t.sent,t.t0.apply.call(t.t0,t.t1,t.t2);case 10:e++,t.next=2;break;case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Ph=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.l1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Ph(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Z0=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0,r=this.l1;case 1:if(!(i<r.length)){t.next=8;break}return e=r[i],t.next=5,e.Z0(n);case 5:i++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.J0=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0,i=this.l1;case 1:if(!(n<i.length)){t.next=8;break}return r=i[n],t.next=5,r.J0();case 5:n++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function nO(t){return E.coroutine(Kr.mark(function n(){var i;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.all(t.map(function(t){return t()}));case 2:return i=n.sent,n.abrupt("return",iO.PQ(i));case 4:case"end":return n.stop()}},n)}))}var iO=function(){function t(t){this._1=void 0,this.g1=void 0,this.w1=void 0,this.m1=void 0,this.A1=void 0,this.b1=void 0,this._1=t,this.g1=new tO(t.map(function(t){return t.i1})),this.w1=new tO(t.map(function(t){return t.e1})),this.m1=new tO(t.map(function(t){return t.n1})),this.A1=new tO(t.map(function(t){return t.$0})),this.b1=new tO(t.map(function(t){return t.K0}))}return t.PQ=function(n){return E.resolve(new t(n))},t.prototype.s1=function(n){var i=this;if(0===this._1.length)return n(this);var r=[],e=0;return this._1[e].s1(function s(u){return r.push(u),++e<i._1.length?i._1[e].s1(s):n(new t(r))})},M(t,[{key:"i1",get:function(){return this.g1}},{key:"e1",get:function(){return this.w1}},{key:"n1",get:function(){return this.m1}},{key:"$0",get:function(){return this.A1}},{key:"K0",get:function(){return this.b1}}]),t}(),rO=function(){function t(t){this.T1=void 0,this.E1=[],this.S1=!0,this.T1=t}var n=t.prototype;return n.PQ=function(){return new JD(this.R1())},n.R1=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.S1){t.next=4;break}return t.next=3,E.resolve();case 3:this.S1=!1;case 4:n=0,i=this.E1;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,nO([KD.PQ,r])();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,nO([KD.PQ,this.T1])();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.AL=function(t){if(!this.S1)throw new v("Registration overdue");this.E1.push(t)},t}(),eO=function(){function t(){}return t.AL=function(n){t.ZE.AL(n)},M(t,null,[{key:"je",get:function(){return t.I1||(t.I1=t.ZE.PQ()),t.I1}}]),t}();function sO(t){return Pf(t)}function uO(t,n){var i=Pf(t);return n?""+i+n:""+i}function oO(t,n,i,r,e,s,u,o){var h=new Zo;return n&&h.set("Range","bytes="+n[0]+"-"+n[1]),new Cf({vv:t,ov:i,uv:h,xv:s,Nv:Ef.GET,io:Sf.gv,Dv:r,Ov:e,Io:u,Pv:o})}eO.ZE=new rO(QD.PQ),eO.I1=void 0;var hO=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this)||this).Ep=void 0,a.XZ=void 0,a.ov=void 0,a.Dv=void 0,a.Ov=void 0,a.N1=void 0,a.Bb=void 0,a.C1=void 0,a.D1=void 0,a.UD=void 0,a.O1=void 0,a.Yv=null,a.P1=void 0,a.Qf=new es,a.B1=function(t,n){return a.Pv(t,n)},a.Ep=n,a.XZ=i,a.ov=r,a.Dv=e,a.Ov=s,a.N1=u,a.UD=o,a.O1=new cO,a.Bb=h,a.C1=eO.je.$0,a.D1=eO.je.K0,a}F(n,t);var i=n.prototype;return i.WR=function(){return this.L1(this.Qf.Io)},i.L1=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return dD(i=this.XZ)?(r=i.XZ,e=[i.WZ.WR,i.WZ.zR]):(r=i,e=void 0),this.O1.M1(),t.prev=3,t.next=6,this.U1(r,e);case 6:if(s=t.sent,os(n),s){t.next=12;break}return t.next=11,this.F1(r,e,n);case 11:s=t.sent;case 12:return t.next=14,s.Ds();case 14:u=t.sent,os(n),this.H1(u,s.sv),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!us(t.t0)){t.next=25;break}return t.abrupt("return");case 25:h=t.t0 instanceof Xf?t.t0.Yv.sv:0,o=new v('Could not load fragment: "'+this.XZ+'", HTTP status '+h);case 27:return t.abrupt("return",this.V1(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.U1=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=uO(n,i),t.next=4,this.C1.nh(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.D1.ih(r);case 7:return e=t.sent,s=oO(n,i,this.ov,this.Dv,this.Ov,this.N1),u=e.data.buffer,t.abrupt("return",new Nf({Ds:u,uv:{},cv:s,fv:n,ov:this.ov,sv:200,hv:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.F1=function(t,n,i){var r=oO(t,n,this.ov,this.Dv,this.Ov,this.N1,i,this.B1);return this.Bb.cv(r)},i.Pv=function(t,n){var i={type:"g0",cv:this,X1:t,W1:n=void 0===n?NaN:n};this.O1.q1(t,n),this.dispatchEvent(i)},i.H1=function(t,n){var i=this.ov===Yo.Sc?t.byteLength:0;this.O1.z1(i),this.ov===Yo.Je?this.Yv=t:this.Yv=new m(t),this.P1=n,t=null,this.V1(),this.Yv=null},i.Eo=function(t){return this.Qf.Eo(),t||((t=new v('Aborted fragment load: "'+this.XZ+'"')).aborted=!0),this.V1(t)},i.V1=function(t){this.O1.G1();var n={type:"Gw",cv:this};return this.dispatchEvent(n),this.UD(t||null,this)},n}(qC);function aO(){return qb()/1e3}var cO=function(t){function n(){var n;return(n=t.call(this)||this).j1=NaN,n.Q1=NaN,n.Y1=NaN,n.Z1=NaN,n.J1=0,n.K1=NaN,n.j1=aO(),n}F(n,t);var i=n.prototype;return i.M1=function(){this.j1=aO(),this.dispatchEvent("Bh")},i.q1=function(t,n){this.Y1=aO(),this.D0||(this.Q1=this.Y1),this.J1=t,this.K1=n||this.K1||NaN,this.dispatchEvent("Bh")},i.z1=function(t){this.q1(t,t)},i.G1=function(){this.Z1=aO(),this.dispatchEvent("Bh")},M(n,[{key:"D0",get:function(){return!y(this.Q1)}},{key:"n2",get:function(){return!y(this.Z1)}},{key:"Sw",get:function(){return(this.Q1||aO())-this.j1}},{key:"i2",get:function(){return(this.Z1||this.Y1)-this.Q1}},{key:"e2",get:function(){return(this.Z1||this.Y1)-this.j1}}]),n}(qC),fO=function(t){function n(n,i){var r;return(r=t.call(this)||this).N1=void 0,r.s2=[],r.u2=null,r.o2=function(t){return r.h2(t)},r.Bb=void 0,r.N1=!(!i||i.crossOrigin!==ll.p_),r.Bb=n,r}F(n,t);var i=n.prototype;return i.xh=function(t,n,i,r,e,s){var u=new hO(t,n,i,r,e,this.N1,s,this.Bb);return u.addEventListener("Gw",this.o2),this.s2.push(u),this.a2(),u},i.c2=function(t,n,i,r,e){var s=this;return new E(function(u,o){s.xh(t,n,i,r,e,function(t,n){t?o(t):u(n.Yv)})})},i.sh=function(t,n){var i=function(t){return!n||t.Ep===n},r=this.s2.filter(i);!t&&this.u2&&i(this.u2)&&r.push(this.u2);for(var e=0;e<r.length;e++){r[e].Eo()}return r},i.a2=function(){if(!this.u2){var t=this.s2.shift();t&&(this.u2=t,t.WR())}},i.h2=function(t){var n=t.cv,i=this.s2.indexOf(n);-1!==i&&Ye(this.s2,i),this.u2===n&&(this.u2=null,this.a2())},n}(qC);function vO(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function dO(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function lO(t,n){return Go([t],{type:n})}var _O="iframe.html",gO=0,wO=k&&(k.bind&&k.bind(k)||k),yO=function(t){function n(n){var i;return(i=t.call(this)||this).f2=void 0,i.v2=[],i.d2=!1,i.Oo=function(t){return i.dispatchEvent(t)},n&&i.Gh(n),i}F(n,t);var i=n.prototype;return i.postMessage=function(t){this.d2||(this.f2?this.f2.postMessage(t):this.v2.push(t))},i.Gh=function(t){if(this.d2)t.terminate();else{this.f2=t,this.f2.addEventListener("message",this.Oo,!1),this.f2.addEventListener("error",this.Oo,!1);for(var n=0,i=this.v2;n<i.length;n++){var r=i[n];this.f2.postMessage(r)}this.v2.length=0}},i.terminate=function(){this.Mo(),this.d2=!0,this.v2.length=0,this.f2&&(this.f2.removeEventListener("message",this.Oo,!1),this.f2.removeEventListener("error",this.Oo,!1),this.f2.terminate(),this.f2=void 0)},n}(qC);var mO=function(n){function i(i,r,e){var u,o,h;return(u=n.call(this)||this).Xl=void 0,u.l2=void 0,u._2=void 0,u.g2=void 0,u.w2=void 0,u.m2=function(){return u.A2()},u.b2=function(t){return u.T2(t)},u.Xl=i,u.l2=r,u._2=(o=e+_O,(h=s.createElement("iframe")).width="0",h.height="0",h.style.display="none",h.src=o,s.body.appendChild(h),h),u.g2=u._2.contentWindow,u.w2=Ff(e),u._2.addEventListener("load",u.m2),t.addEventListener("message",u.b2),u}F(i,n);var r=i.prototype;return r.A2=function(){this._2.removeEventListener("load",this.m2),this.g2.postMessage({type:"initialize",id:this.Xl,script:this.l2},"*")},r.T2=function(t){Ff(t.origin)===this.w2&&t.data.id===this.Xl&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.g2.postMessage({type:"message",data:t},"*")},r.terminate=function(){this._2.removeEventListener("load",this.m2),t.removeEventListener("message",this.b2),this.g2.postMessage({type:"terminate"},"*"),this._2.parentNode.removeChild(this._2)},i}(qC);function kO(){return(kO=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=T.jd,t.prev=1,e=new Cf({vv:n,Nv:Ef.GET,ov:Yo.Je}),t.next=5,r.cv(e);case 5:return s=t.sent,t.next=8,s.Ds();case 8:u=t.sent,i(void 0,u),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new v("PLAYER_INCORRECTLY_CONFIGURED"),h=t.t0 instanceof Xf?t.t0.Yv.sv:-1,i({mh:h,Qo:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function pO(t,n){function i(i){return e(),it(r=i.data)&&"2.90.1"===r.E2?n(void 0,t):n(new v("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function AO(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new wO(t)}catch(t){return n({message:t.message})}return pO(i,n)}var bO=!0;function TO(t,n){var i=gO++,r=t+n,e=new yO;function u(){!function(t,n,i,r){var e;function u(){h(),pO(e,r)}function o(t){t.preventDefault&&t.preventDefault(),h(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function h(){e.removeEventListener("initialized",u),e.removeEventListener("error",o)}if(!s)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new mO(t,n,i)).addEventListener("initialized",u),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.Gh(n),i&&e.dispatchEvent(i))}return AO(r,function(t,n,i){t?function(t,n){kO.apply(this,arguments)}(r,function(t,n){t?t.mh>=400?o(t.Qo):u():n&&function(t,n){if(!bO)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});AO(vO(lO(t,"application/javascript")),function(t,i,r){return t&&(bO=!1),n(t,i,r)})}(n,function(t,n,i){t?u():o(t,n,i)})}):o(t,n,i)}),e}function EO(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function SO(t){return{get length(){return t.length},start:function(n){return EO(t,n|=0),t.start(n)},end:function(n){return EO(t,n|=0),t.end(n)}}}function RO(t,n){return t.WR-n.WR}var IO=function(){function t(t){this.S2=void 0,this.S2=t}var n=t.prototype;return n.start=function(t){return this.S2[t].WR},n.end=function(t){return this.S2[t].zR},n.R2=function(){return this.S2},M(t,[{key:"length",get:function(){return this.S2.length}}]),t}(),NO=new IO([]),CO=new IO([{WR:-1/0,zR:1/0}]);function DO(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),s=t.end(0),u=1;u<i;u++){var o=t.start(u),h=t.end(u);e<=o&&s>=h||(s+n>=o?s=h:(r.push({WR:e,zR:s}),e=o,s=h))}return r.push({WR:e,zR:s}),new IO(r)}(function(t){var n=LO(t);return n.sort(RO),new IO(n)}(t),n)}function OO(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var s=_.max(t.start(r),n.start(e)),u=_.min(t.end(r),n.end(e));s<u&&i.push({WR:s,zR:u}),t.end(r)<n.end(e)?r+=1:e+=1}return new IO(i)}function xO(t){var n=t.length;if(!n)return CO;var i=[],r=t.start(0);r!==-1/0&&i.push({WR:-1/0,zR:r});for(var e=0;e<n-1;e+=1)i.push({WR:t.end(e),zR:t.start(e+1)});var s=t.end(n-1);return s!==1/0&&i.push({WR:s,zR:1/0}),new IO(i)}function PO(t,n){return-1!==BO(t,n)}function BO(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function LO(t){if(t instanceof IO)return t.R2();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({WR:t.start(i),zR:t.end(i)});return n}function MO(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(LO)),DO(new IO(e));var i,r,e}var UO=.001;function FO(t,n,i){return i=+i||0,t.WR-i<=n.zR&&n.WR<=t.zR+i}function HO(t){var n={WR:NaN,zR:NaN,gZ:t};return VO(n),n}function VO(t){var n=t.gZ;n.length?(n.sort(RO),t.WR=n[0].WR,t.zR=n[n.length-1].zR):(t.WR=NaN,t.zR=NaN)}function XO(t){return void 0!==t.gZ}function WO(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=_.max(s.WR,n),o=_.min(s.zR,i);if(u<o){var h=void 0;h=s.WR===u&&s.zR===o?s:{WR:u,zR:o,xp:s.xp},r.push(h)}}return r}function qO(t,n){var i=_.min(t.WR,n.WR),r=_.max(t.zR,n.zR),e=t.gZ,s=n.gZ,u=e.concat(s),o=e.length?e[e.length-1]:null,h=s.length?s[0]:null;return o&&h&&o.xp===h.xp&&FO(o,h,UO)&&u.splice(e.length-1,2,function(t,n){var i=t.xp||n.xp;return{WR:_.min(t.WR,n.WR),zR:_.max(t.zR,n.zR),xp:i}}(o,h)),HO(u=WO(u,i,r))}var zO,GO,jO,QO=function(){function t(t,n){this.S2=void 0,this.S2=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;XO(r)?VO(e=r):e=HO([r]),e.gZ.length&&e.WR<e.zR&&n.push(e)}return n}(t),n||this.I2()}var n=t.prototype;return n.start=function(t){return this.S2[t]&&this.S2[t].WR},n.end=function(t){return this.S2[t]&&this.S2[t].zR},n.gZ=function(t){return this.S2[t]&&this.S2[t].gZ},n.N2=function(t,n){return this.C2(t,t,n)},n.C2=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.D2=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.O2=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.P2=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.Cy=function(t){return-1!==this.N2(t)},n.vI=function(t,n,i){return-1!==this.C2(t,n,i)},n.lI=function(t,n,i){return-1!==this.D2(t,n,i)},n.iI=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=_.max(this.start(i),t.start(r)),s=_.min(this.end(i),t.end(r));if(e<s){var u=WO(this.gZ(i),e,s);n.push(HO(u))}this.end(i)<t.end(r)?i+=1:r+=1}return this.PQ(n,!0)},n.fg=function(t){return this.length&&t.length?this.iI(xO(t)):this},n.hI=function(t){return this.length?t.length?this.PQ(this.S2.concat(t.S2)):this:t},n.B2=function(t){for(var n=[],i=0,r=this.S2;i<r.length;i++)for(var e=0,s=r[i].gZ;e<s.length;e++){var u=t(s[e]);u&&n.push(u)}return this.PQ(n)},n.wI=function(t){return this.B2(function(n){return t(n)?n:null})},n.L2=function(){if(!this.length)return this;for(var t=this.S2.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.M2(i,r)&&(t.splice(n,2,qO(i,r)),n-=1)}return this.PQ(t,!0)},n.M2=function(t,n){var i=t.gZ,r=n.gZ,e=i.length?i[i.length-1]:null,s=r.length?r[0]:null;return e&&s&&this.U2(e,s)},n.I2=function(){var t=this.S2;t.sort(RO);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&FO(i,r,UO)&&(t.splice(n,2,qO(i,r)),n-=1)}},M(t,[{key:"length",get:function(){return this.S2.length}}]),t}(),YO=function(t){function n(n,i){return t.call(this,n,i)||this}F(n,t);var i=n.prototype;return i.PQ=function(t,i){return new n(t,i)},i.U2=function(t,n){return n.xp.HJ===t.xp.HJ&&n.xp.ZY===t.xp.ZY+1},n}(QO);function ZO(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],s=t.F2(e),u=t.H2(e,s);i.push({WR:s.K_(),zR:u.K_(),xp:e})}return new YO(i).L2()}function JO(t){return t.V2!==zO.X2}function $O(t){return 0===t.V2}function KO(t){return t.V2>=0}function tx(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,s=0,u=n.gZ(r);s<u.length;s++){var o=u[s];if(!e){var h=o.xp;if(lD(h)&&JO(h)){if((e=KO(h))&&!$O(h)){var a=t.W2(h,h.q2).K_();o={WR:_.max(o.WR,a),zR:o.zR,xp:h}}}else e=!0;0}e&&i.push(o)}return new YO(i)}(GO=zO||(zO={})).X2=-1,GO.z2=-2,function(t){t.G2="h.264",t.j2="mp3",t.Q2="aac-lc",t.Y2="he-aac"}(jO||(jO={}));var nx,ix,rx,ex,sx=function(){function t(){this.Z2=0,this.S2=[],this.mb={}}var n=t.prototype;return n.J2=function(t){this.S2=this.S2.concat(t.S2),this.Z2+=t.Ol},n.K2=function(t,n,i){var r=this.Z2,e=i-n;e>0&&(this.S2.push({t3:n,n3:i,i3:e,r3:r,e3:t}),this.Z2+=e)},n.ih=function(t){for(var n=0,i=this.S2;n<i.length;n++){var r=i[n];if(r.r3<=t&&t<r.r3+r.i3)return r.e3[t+r.t3-r.r3]}},n.s3=function(t,n){for(var i=n,r=0,e=this.S2;r<e.length;r++)for(var s=e[r],u=s.n3,o=s.t3;o<u;o+=1,i+=1)t[i]=s.e3[o];return i},n.u3=function(){for(var t=new m(this.Z2),n=0,i=0,r=this.S2;i<r.length;i++)for(var e=r[i],s=e.n3,u=e.t3;u<s;u+=1,n+=1)t[n]=e.e3[u];return t},n.fh=function(n){for(var i=new t,r=0,e=this.S2;r<e.length;r++){var s=e[r];i.K2(s.e3,s.t3,s.n3)}return i.mb=n||te({},this.mb),i},M(t,[{key:"Ol",get:function(){return this.Z2},set:function(t){var n=this.S2,i=this.Z2-t;if(!(t>=this.Z2))if(this.Z2=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.i3)return e.n3-=i,e.i3-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.i3}else n.length=0}},{key:"Ds",get:function(){for(var t=new Array(this.Z2),n=0,i=0,r=this.S2;i<r.length;i++)for(var e=r[i],s=e.n3,u=e.t3;u<s;u+=1,n+=1)t[n]=e.e3[u];return t}}]),t}();function ux(t,n){return{audio:t.audio?dx(t.audio,n):void 0,video:t.video?mx(t.video,n):void 0,o3:t.o3?(i=t.o3,{h3:i.h3,nK:i.nK,Kl:i.Kl,a3:i.a3,c3:i.c3,f3:i.f3,v3:i.v3.map(ox),i_:[]}):void 0,d3:t.d3?t.d3.map(ax):t.d3,l3:t.l3.gw()};var i}function ox(t){return{qk:t.qk,mb:{_3:t.mb._3,g3:t.mb.w3.gw()},ZH:t.ZH}}function hx(t){return{qk:t.qk,mb:{_3:t.mb._3,w3:D_(t.mb.g3)},ZH:t.ZH}}function ax(t){return{w3:t.w3.gw(),PA:t.PA,hj:t.hj,oj:t.oj,io:t.io,y3:t.y3,aj:t.aj,cj:t.cj}}function cx(t){return{w3:D_(t.w3),PA:t.PA,hj:t.hj,oj:t.oj,io:t.io,y3:t.y3,aj:t.aj,cj:t.cj}}function fx(t){return{h3:t.h3,ZH:[],m3:t.m3,A3:t.A3,duration:t.duration,b3:t.b3,T3:t.T3.gw(),E3:t.E3,S3:t.S3.gw(),R3:t.R3,I3:t.I3.gw(),N3:t.N3.gw(),C3:t.C3.gw(),D3:t.D3.gw(),O3:t.O3.gw(),x3:t.x3.gw(),P3:t.P3.gw()}}function vx(t){return{h3:t.h3,ZH:[],m3:t.m3,A3:t.A3,duration:t.duration,b3:t.b3,T3:D_(t.T3),E3:t.E3,S3:D_(t.S3),R3:t.R3,I3:D_(t.I3),N3:D_(t.N3),C3:D_(t.C3),D3:D_(t.D3),O3:D_(t.O3),x3:D_(t.x3),P3:D_(t.P3)}}function dx(t,n){switch(t.m3){case jO.Q2:case jO.Y2:return function(t,n){return te({},_x(t),{m3:t.m3,ZH:t.ZH.map(function(t){return function(t,n){var i=(r=t.mb,te({},Ax(r),{B3:r.B3,L3:r.L3,M3:r.M3}));var r;return wx(t.fh(i),n)}(t,n)}),w$:t.w$,U3:t.U3})}(t,n);case jO.j2:return function(t,n){return te({},_x(t),{m3:t.m3,ZH:t.ZH.map(function(t){return function(t,n){var i=(r=t.mb,te({},Ax(r),{Yk:r.Yk,Sp:r.Sp,F3:r.F3,H3:r.H3,V3:r.V3}));var r;return wx(t.fh(i),n)}(t,n)})})}(t,n)}}function lx(t){switch(t.m3){case jO.Q2:case jO.Y2:return function(t){return te({},gx(t),{m3:t.m3,ZH:t.ZH.map(function(t){return function(t){var n=yx(t),i=(r=n.mb,te({},bx(r),{B3:r.B3,L3:r.L3,M3:r.M3}));var r;return n.fh(i)}(t)}),w$:t.w$,U3:t.U3})}(t);case jO.j2:return function(t){return te({},gx(t),{m3:t.m3,ZH:t.ZH.map(function(t){return function(t){var n=yx(t),i=(r=n.mb,te({},bx(r),{Yk:r.Yk,Sp:r.Sp,F3:r.F3,H3:r.H3,V3:r.V3}));var r;return n.fh(i)}(t)})})}(t)}}function _x(t){return te({},fx(t),{ZH:[],m3:t.m3,X3:t.X3,W3:t.W3,q3:t.q3,z3:t.z3})}function gx(t){return te({},vx(t),{ZH:[],m3:t.m3,X3:t.X3,W3:t.W3,q3:t.q3,z3:t.z3})}function wx(t,n){var i=t.u3();return n.push(i.buffer),{G3:i,j3:t.Ol,Q3:t.mb}}function yx(t){var n=new sx;return n.K2(t.G3,0,t.j3),n.mb=t.Q3,n}function mx(t,n){return te({},fx(t),{m3:t.m3,ZH:t.ZH.map(function(t){return function(t,n){var i=(r=t.mb,te({},kx(r),{U_:r.U_,Y3:r.Y3.gw(),Z3:r.Z3,J3:r.J3,K3:r.K3&&r.K3.gw(),t4:r.t4&&r.t4.gw(),n4:r.n4,i4:r.i4,d3:r.d3,r4:r.r4}));var r;return wx(t.fh(i),n)}(t,n)}),e4:t.e4,s4:t.s4,vA:t.vA,width:t.width,height:t.height,u4:t.u4,o4:t.o4,h4:t.h4,f$:t.f$,v$:t.v$,TA:t.TA,EA:t.EA})}function kx(t){var n;return te({},{_3:(n=t)._3,g3:n.g3.gw()},{a4:t.a4.gw(),c4:t.c4.gw()})}function px(t){var n;return te({},{_3:(n=t)._3,g3:D_(n.g3)},{a4:D_(t.a4),c4:D_(t.c4)})}function Ax(t){return te({},kx(t))}function bx(t){return te({},px(t))}function Tx(t){var n=t.video,i=n&&n.ZH;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].mb.n4)return r}return NaN}function Ex(t){var n=t.f4.video,i=n&&n.ZH;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].mb.n4)return r}return NaN}function Sx(t){if(!t)return null;switch(t.m3){case jO.G2:return function(t){return t.vA?"avc1."+(t.u4<16?"0":"")+((t.u4<<16)+(t.o4<<8)+t.h4).toString(16):null}(t);case jO.j2:return"mp4a.40.34";case jO.Q2:return t.U3?"mp4a.40.5":"mp4a.40.2";case jO.Y2:return"mp4a.40.5";default:return null}}function Rx(t,n){var i=t.info,r=i.HJ,e=t.f4,s=r.mZ(t.info.ZY-1),u=e.audio||void 0,o=e.video||void 0,h=u&&Sx(u),a=o&&Sx(o),c=(!u||h)&&(!o||a)?{yJ:h,mJ:a}:null,f=u&&!y(u.R3)?u.R3:null,v=o&&!y(o.R3)?o.R3:null,d=Ug(u&&u.N3,o&&o.N3),l=Ug(u&&u.C3,o&&o.C3),g=Fg(u&&u.x3,o&&o.x3),w=Fg(u&&u.P3,o&&o.P3),m=o&&o.T3.vg(N_.ew(o.duration)),k=u&&u.T3.vg(N_.ew(u.duration)),p=lD(s),A=p&&s.width||r.resolution&&r.resolution.width,b=p&&s.width||r.resolution&&r.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),v4:i,duration:m&&k?N_.Jg(m,k).K_():(m||k||N_.pg).K_(),d4:d,l4:l,_4:g,g4:w,audio:{start:_.max(0,f||0),duration:u&&u.b3||0,m3:h,ZK:u&&u.E3,d4:u&&u.N3,l4:u&&u.C3,_4:u&&u.x3,g4:u&&u.P3},video:{start:_.max(0,v||0),duration:o&&o.b3||0,m3:a,ZK:o&&o.E3,d4:o&&o.N3,l4:o&&o.C3,_4:o&&o.x3,g4:o&&o.P3},LB:o?{width:o.width||A,height:o.height||b}:null,ZY:i.ZY,size:n,quality:r,b$:c,w4:i.w4,y4:i.y4}}function Ix(t,n){var i,r,e,s,u={start:0,duration:0,m3:null,ZK:null,d4:null,l4:null,_4:null,g4:null};return"yJ"===n?(r=u,e=i=te({},u,t.video),s=t.LB):(r=i=te({},u,t.audio),e=u,s=null),{start:i.start,v4:t.v4,duration:i.duration,d4:i.d4,l4:i.l4,_4:i._4,g4:i.g4,audio:r,video:e,LB:s,ZY:t.ZY,size:t.size,quality:t.quality,b$:t.b$,w4:t.w4,y4:t.y4}}function Nx(t,n){return t+"m4"+n.ZY+"A4"+n.uri}!function(t){t.b4="T4",t.E4="S4"}(nx||(nx={})),function(t){t.R4="I4",t.WY="N4"}(ix||(ix={})),function(t){t.C4="D4",t.E4="S4"}(rx||(rx={})),function(t){t.O4="x4",t.P4="B4"}(ex||(ex={}));var Cx=function(t){function n(n){var i;return(i=t.call(this)||this)._a=void 0,i.L4=ie(),i.M4=void 0,i.U4=void 0,i.F4=function(t){var n=t.data,r=n.H4;if(i.L4.get(r))switch(n.V4){case ix.R4:0;var e=n.X4;i.W4(r,e);break;case ix.WY:var s=n.q4;i.z4(r,new jC(GC.FY,{code:s}));default:0}},i.G4=function(t){var n,r,e,s,u=t.data,o=u.j4;if(i.L4.get(o))switch(u.Q4){case ex.O4:0;var h=u.Y4;i.Z4(o,{audio:(n=h).audio?lx(n.audio):void 0,video:n.video?(e=n.video,s=vx(e),te({},s,{m3:e.m3,ZH:e.ZH.map(function(t){return function(t){var n,i=yx(t),r=te({},px(n=i.mb),{U_:n.U_,Y3:D_(n.Y3),Z3:n.Z3,J3:n.J3,K3:n.K3&&D_(n.K3),t4:n.t4&&D_(n.t4),n4:n.n4,i4:n.i4,d3:n.d3,r4:n.r4});return i.fh(r)}(t)}),e4:e.e4,s4:e.s4,vA:e.vA,width:e.width,height:e.height,u4:e.u4,o4:e.o4,h4:e.h4,f$:e.f$,v$:e.v$,TA:e.TA,EA:e.EA})):void 0,o3:n.o3?(r=n.o3,{h3:r.h3,nK:r.nK,Kl:r.Kl,a3:r.a3,c3:r.c3,f3:r.f3,v3:r.v3.map(hx),i_:[]}):void 0,d3:n.d3?n.d3.map(cx):n.d3,l3:D_(n.l3)});break;case ex.P4:var a=u.J4;i.z4(o,new jC(GC.FY,{code:a}));default:0}},i.K4=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Qo",Qo:new jC(GC.jY,{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};gt(n.Qo.info.code),i.dispatchEvent(n)}else 0},i._a=n,i.U4=i.t5(),i}F(n,t);var i=n.prototype;return i.Eo=function(t){var n=[];this.L4.forEach(function(i,r){t&&i.Ep!==t||n.push(r)}),this.n5(n)},i.n5=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.L4.delete(i)}if(t.length){if(this.M4){var r={i5:nx.E4,r5:t};this.M4.postMessage(r)}if(this.U4){var e={e5:rx.E4,s5:t};this.U4.postMessage(e)}}},i.z4=function(t,n){var i=this.L4.get(t);if(i){var r=i.UD;this.L4.delete(t),r(n)}},i.u5=function(t,n,i,r){this.M4||(this.M4=this.o5());var e={i5:nx.b4,h5:t,a5:n,c5:i,f5:r};this.M4.postMessage(e)},i.v5=function(t,n){this.U4||(this.U4=this.t5());var i={e5:rx.C4,d5:t,l5:n,_5:this.L4.get(t).g5};this.U4.postMessage(i)},i.W4=function(t,n){this.v5(t,n)},i.o5=function(){var t=TO(this._a.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.F4),t.addEventListener("error",this.K4),t},i.w5=function(t){var n=t.f4.video,i=n&&n.ZH&&n.ZH[0];i&&i.mb.n4},i.Z4=function(t,n){var i=this.L4.get(t),r=i.UD,e=i.y5,s={f4:n,info:i.m5,metadata:null};this.w5(s),function(t){var n=t.info.HJ.mZ(t.info.ZY-1),i=t.f4;t.info.y4=t.info.kZ,n&&(i.audio||i.video?i.video&&!i.video.s4&&!i.video.e4&&i.video.E3&&n.S$&&i.video.E3!==n.S$?t.info.y4=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.y4=!0):t.info.y4=!0)}(s),Rx(s,e),function(t){var n=t.info,i=n.HJ,r=t.metadata,e=t.f4;if(n.k5=N_.ew(r.duration),n.zZ=e.audio&&e.audio.T3.vg(N_.ew(e.audio.duration))||N_.pg,n.GZ=e.video&&e.video.T3.vg(N_.ew(e.video.duration))||N_.pg,n.p5=e.audio&&e.audio.T3||N_.pg,n.A5=e.video&&e.video.T3||N_.pg,n.b5=r.audio.d4,n.T5=r.audio.l4,n.E5=r.video.d4,n.S5=r.video.l4,n.qZ=r.d4,n.R5=r.l4,n.I5=r.audio._4,n.N5=r.audio.g4,n.C5=r.video._4,n.D5=r.video.g4,n._4=r._4,n.g4=r.g4,e.video){var s=Tx(t.f4),u=e.video.ZH&&e.video.ZH[s];u?(n.V2=s,n.q2=u.mb.a4,n.O5=u.mb.c4):n.V2=zO.z2}else n.V2=zO.X2;n.S$=e.video&&e.video.E3||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"L$",m5:t.info}),!i.resolution&&r.LB&&(i.resolution=r.LB),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.b$||i.b$&&!i.b$.yJ==!r.b$.yJ&&!i.b$.mJ==!r.b$.mJ||i.k$(r.b$),e.audio&&void 0!==e.audio.w$&&(i.w$=e.audio.w$),i.f$=e.video&&e.video.f$||i.f$,i.v$=e.video&&e.video.v$||i.v$,i.d$=e.audio&&e.audio.h3||void 0,i.l$=e.video&&e.video.h3||void 0,i._$=e.audio&&e.audio.m3||void 0,i.g$=e.video&&e.video.m3||void 0,i.y$=e.audio&&e.audio.E3||void 0,i.S$=e.video&&e.video.E3||void 0}(s),this.L4.delete(t),r(null,s)},i.t5=function(){var t=TO(this._a.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.G4),t.addEventListener("error",this.K4),t},i.x5=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var s=i;i=void 0,e.L4.has(n)&&e.u5(n,s,t,r.iv)}).catch(function(t){i=void 0,e.L4.has(n)&&e.z4(n,t)})},i.P5=function(t,n,i,r,e,s){var u=Nx(t,r),o=r.HJ;this.L4.set(u,{Ep:t,m5:r,g5:{B5:r.duration,b$:o.b$,f$:o.f$,v$:o.v$,d$:o.d$,l$:o.l$,_$:o._$,g$:o.g$,w$:!this._a.skipImplicitHEAACDetection&&o.w$,L5:e},y5:i.length,UD:s}),r.key?this.x5(n,u,i,r.key):this.v5(u,i)},i.M5=function(t){var n=[];return this.L4.forEach(function(i){i.Ep===t&&n.push(i.m5)}),n},i.U5=function(t,n){var i=Nx(t,n);return this.L4.has(i)},i.Lv=function(){this.Eo(),this.M4&&(this.M4.terminate(),this.M4=void 0),this.U4&&(this.U4.terminate(),this.U4=void 0)},n}(qC);function Dx(t,n){return t+"F5"+n}function Ox(t){return Dx(t.HJ.Xl,t.ZY)}function xx(t){return!(!t||!t.f4)}var Px=function(){function t(t,n,i){this.H5=void 0,this.lb=void 0,this.V5=[],this.X5=ie(),this.W5=1,this.q5=void 0,this.lb=t,this.H5=n,this.q5=i}var n=t.prototype;return n.z5=function(t){var n=Ox(t.info);if(this.X5.has(n))this.G5(t.info,t);else{this.V5.push(n),this.X5.set(n,t);for(var i=this.H5.j5+10;this.V5.length>8*this.Q5&&this.Y5>i*this.Q5;){var r=this.X5.get(this.V5[0]),e=this.q5.Z5,s=null==r?void 0:r.info;if(s){var u=s.start,o=u+s.duration,h=new nA([u,o]),a=e,c=a+this.H5.j5;if(new nA([a,c]).iI(h).Ol>0)break}this.X5.delete(this.V5.shift())}}},n.J5=function(t,n){var i=Dx(t,n),r=this.X5.get(i),e=this.V5.indexOf(i);return!(!r||-1===e)&&(Ye(this.V5,e),this.X5.delete(i),!0)},n.sh=function(){this.V5.length=0,this.X5.clear()},n.K5=function(){for(var t={},n=0,i=this.V5;n<i.length;n++){var r=i[n],e=this.X5.get(r);xx(e)&&(t[e.info.HJ.Xl]=(t[e.info.HJ.Xl]||0)+1)}return t},n.t6=function(t,n){var i=[],r=this.n6(t,n);if(!xx(r))return i;do{i.push(r),n+=1,r=this.n6(t,n)}while(xx(r));return i},n.i6=function(t,n){return!!this.n6(t,n)},n.r6=function(t,n){return xx(this.n6(t,n))},n.n6=function(t,n){return this.X5.get(Dx(t,n))},n.G5=function(t,n){var i=Ox(t),r=this.V5.indexOf(i);return-1!==r&&(Ye(this.V5,r),this.V5.push(i),n&&this.X5.set(i,n),!0)},n.e6=function(){for(var t=[],n=0,i=this.V5;n<i.length;n++){var r=i[n],e=this.X5.get(r);t.push(e.info)}return t},n.s6=function(){for(var t=[],n=0,i=this.V5;n<i.length;n++){var r=i[n],e=this.X5.get(r);e&&xx(e)&&t.push(e.info)}return t},M(t,[{key:"Y5",get:function(){for(var t=ZO(this.lb,this.e6()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"Q5",get:function(){return this.W5},set:function(t){t>0&&(this.W5=_.max(t,1))}}]),t}();var Bx=Y.Pe?function(t,n){return Mg(t.a4,n.a4)}:function(t,n){return Mg(t.c4,n.c4)};function Lx(t,n,i,r){if(!t)return i;if(!i)return t;if(t.m3===i.m3){var e,s,u=t.e4||i.e4;if(u)s=1/(e=t.S3.vg(i.S3).qg(2)).K_();else{if(t.E3!==i.E3)return;if(!t.S3.ug(i.S3))return;e=t.S3,s=t.E3}if(t.width===i.width&&t.height===i.height){var o,h=t.s4||i.s4||!t.S3.ug(i.S3);if(t.ZH)if(i.ZH)if(r)o=t.ZH.concat(i.ZH),Mx(t.ZH,i.ZH,Fx);else{!function(t,n,i){var r=t.length,e=N_.pg;t=Xe(t,function(t,n){return Bx(t.mb,n.mb).ng(N_.pg)});for(var s=1;s<r;s+=1){var u=t[s-1].mb,o=t[s].mb,h=Bx(o,u);h.eg(N_.pg)&&(h=n),e=e.vg(h),u.Y3=h,u.U_=h.K_()}if(r>0){var a=t[r-1].mb,c=N_.Zg(N_.ew(_.round(i-e.K_())),n);a.Y3=c,a.U_=c.K_()}}(n.ZH.concat(i.ZH),e,n.duration+i.duration),o=t.ZH.concat(i.ZH),Mx(t.ZH,i.ZH,Fx)}else o=t.ZH;else o=i.ZH;return{m3:t.m3,u4:t.u4,h4:t.h4,o4:t.o4,E3:s,S3:e,e4:u,s4:h,width:t.width,height:t.height,f$:t.f$,v$:t.v$,vA:t.vA,duration:t.duration+i.duration,b3:t.b3+i.b3,T3:t.T3,R3:t.R3,I3:t.I3,N3:t.N3,C3:t.C3,D3:Vx(i.D3,t.D3),O3:Vx(i.O3,t.O3),x3:Vx(i.x3,t.x3),P3:Vx(i.P3,t.P3),ZH:o,A3:t.A3||i.A3,TA:t.TA,EA:t.EA}}}}function Mx(t,n,i){var r=n[0].mb.g3,e=t[t.length-1].mb.g3,s=r.fg(e),u=Mg(r,e).fg(s);if(!u.Sg())for(var o=0;o<n.length;o++){i(n[o].mb,u)}}function Ux(t,n){t.c4=t.c4.vg(n),t.a4=t.a4.vg(n),t.g3=t.g3.vg(n)}function Fx(t,n){Ux(t,n),t.Y3=t.Y3.vg(n),t.t4=Hx(t.t4,n),t.K3=Hx(t.K3,n)}function Hx(t,n){if(t)return t.vg(n)}function Vx(t,n){return n.vg(Mg(t,n))}function Xx(t,n){var i={audio:void 0,video:void 0,l3:t.l3};if("video"===n){if(!t.audio)return i;i.audio={m3:t.audio.m3,E3:t.audio.E3,S3:t.audio.S3,duration:t.audio.duration,b3:t.audio.b3,T3:N_.pg,R3:t.audio.R3,I3:t.audio.I3,N3:t.audio.N3,C3:t.audio.C3,D3:t.audio.D3,O3:t.audio.O3,x3:t.audio.x3,P3:t.audio.P3,ZH:t.audio.ZH,z3:t.audio.z3,q3:t.audio.q3,A3:t.audio.A3,X3:t.audio.X3,W3:t.audio.W3}}if("audio"===n){if(!t.video)return i;i.video={m3:t.video.m3,u4:t.video.u4,h4:t.video.h4,o4:t.video.o4,E3:t.video.E3,S3:t.video.S3,e4:t.video.e4,s4:t.video.s4,width:t.video.width,height:t.video.height,f$:t.video.f$,v$:t.video.v$,TA:t.video.TA,EA:t.video.EA,vA:t.video.vA,duration:t.video.duration,b3:t.video.b3,T3:N_.pg,R3:t.video.R3,I3:t.video.I3,N3:t.video.N3,C3:t.video.C3,D3:t.video.D3,O3:t.video.O3,x3:t.video.x3,P3:t.video.P3,ZH:t.video.ZH,A3:t.video.A3}}return i}function Wx(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.m3===n.m3||!t.m3||!n.m3)&&t.E3===n.E3&&t.S3.ug(n.S3)&&t.q3===n.q3)return t.ZH?n.ZH?(i=t.ZH.concat(n.ZH),Mx(t.ZH,n.ZH,Ux)):i=t.ZH:i=n.ZH,{m3:t.m3,E3:t.E3,S3:t.S3,duration:t.duration+n.duration,b3:t.b3+n.b3,T3:t.T3,R3:t.R3,I3:t.I3,N3:t.N3,C3:t.C3,D3:Vx(n.D3,t.D3),O3:Vx(n.O3,t.O3),x3:Vx(n.x3,t.x3),P3:Vx(n.P3,t.P3),ZH:i,q3:t.q3,z3:t.z3,A3:t.A3||n.A3,X3:t.X3,W3:t.W3}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var s=Lx(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||s)return{audio:e,video:s,l3:t.l3}}}function qx(t){return Xx(t,"audio")}function zx(t){return Xx(t,"video")}var Gx,jx,Qx,Yx=function(){function t(t){this.u6=void 0,this.yQ=0,this.o6=0,this.u6=_.exp(_.log(.5)/t)}var n=t.prototype;return n.h6=function(t,n){var i=_.pow(this.u6,t),r=n*(1-i)+i*this.yQ;y(r)||(this.yQ=r,this.o6+=t)},n.a6=function(){var t=1-_.pow(this.u6,this.o6);return this.yQ/t},t}(),Zx=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.c6=void 0,this.f6=void 0,this.v6=0,this.d6=void 0,this.l6=5e5,this.c6=new Yx(t),this.f6=new Yx(n),this.d6=i}var n=t.prototype;return n.h6=function(t,n){var i=8e3*n/t,r=t/1e3;this.v6+=n,this.c6.h6(r,i),this.f6.h6(r,i)},n.a6=function(){return this._6()?_.min(this.c6.a6(),this.f6.a6()):this.l6},n._6=function(){return this.v6>=this.d6},t}(),Jx=function(){function t(){this.c6=new Yx(2),this.f6=new Yx(5),this.g6=0,this.w6=1,this.l6=100}var n=t.prototype;return n.h6=function(t){this.g6+=1,this.c6.h6(1,t),this.f6.h6(1,t)},n.a6=function(){return this._6()?_.min(this.c6.a6(),this.f6.a6()):this.l6},n._6=function(){return this.g6>=this.w6},t}(),$x=function(){function t(t,n){var i=this;this.y6=void 0,this.cv=void 0,this.O1=void 0,this.m6=!1,this.k6=0,this.p6=0,this.A6=function(){return i.b6()},this.y6=t,this.cv=n,this.O1=n.O1,this.O1.addEventListener("Bh",this.A6)}return t.prototype.b6=function(){var t=this.O1.J1,n=1e3*this.O1.i2,i=1e3*this.O1.Sw;this.O1.D0&&(this.m6||(this.y6.T6(i),this.m6=!0),n>this.p6&&(this.y6.E6(n-this.p6,t-this.k6),this.k6=t,this.p6=n))},t}(),Kx=function(){function t(){this.S6=void 0,this.R6=void 0,this.S6=new Zx,this.R6=new Jx}var n=t.prototype;return n.I6=function(t){new $x(this,t)},n.E6=function(t,n){this.S6.h6(t,n)},n.T6=function(t){this.R6.h6(t)},n.Lv=function(){},M(t,[{key:"N6",get:function(){return this.R6.a6()/1e3}},{key:"C6",get:function(){return this.S6.a6()}}]),t}(),tP=function(){function t(){this.D6=ie()}var n=t.prototype;return n.O6=function(t,n){var i,r,e=this.D6.get(t);return void 0!==e&&(i=e.XZ,r=n,rt(i)?i===r:function(t,n){return t.XZ===n.XZ&&t.WZ.WR===n.WZ.WR&&t.WZ.zR===n.WZ.zR}(i,r))},n.x6=function(t,n){if(this.O6(t,n))return this.D6.get(t).Ds},n.P6=function(t,n,i){this.D6.set(t,{XZ:n,Ds:i})},n.sh=function(){this.D6.clear()},t}();!function(t){t[t.B6=0]="B6",t[t.L6=5]="L6",t[t.M6=13]="M6",t[t.U6=14]="U6",t[t.F6=15]="F6"}(Gx||(Gx={})),function(t){t[t.H6=0]="H6",t[t.V6=1]="V6",t[t.X6=2]="X6",t[t.W6=11]="W6",t[t.q6=13]="q6",t[t.z6=14]="z6"}(jx||(jx={})),function(t){t[t.G6=0]="G6",t[t.j6=1]="j6",t[t.Q6=2]="Q6",t[t.Y6=3]="Y6",t[t.Z6=4]="Z6",t[t.J6=5]="J6",t[t.K6=6]="K6",t[t.t8=7]="t8"}(Qx||(Qx={}));var nP=5,iP=5,rP=.5;function eP(t){if(!t.f4.video)return[];for(var n=[],i=0;i<t.f4.video.ZH.length;i++){var r=t.f4.video.ZH[i].mb;r.n4&&n.push({n8:i,i8:r.a4})}return n}var sP=N_.ew(.04),uP=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).H5=void 0,s._a=void 0,s.r8=void 0,s.Bb=void 0,s.e8=void 0,s.s8=void 0,s.u8=void 0,s.o8=ie(),s.h8=void 0,s.a8=ie(),s.c8=1,s._a=n,s.r8=i,s.Bb=r,s.e8=new tP,s.H5=e,s.s8=new fO(r,n),s.u8=new Kx,s.h8=new Cx(n),s.h8.addEventListener("Qo",function(t){s.dispatchEvent(t)}),s}F(n,t);var i=n.prototype;return i.f8=function(t){this.h8.Eo(t),this.s8.sh(!1,t)},i.sh=function(t){this.f8(t),t?this.o8.get(t).sh():this.o8.forEach(function(t){return t.sh()})},i.Lv=function(){this.Mo(),this.s8.sh(),this.o8.forEach(function(t){return t.sh()}),this.o8.clear(),this.h8.Lv()},i.Rl=function(t,n,i){if(!this.o8.has(t)){var r=new Px(n,this.H5,i);r.Q5=this.Q5,this.o8.set(t,r)}},i.v8=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=String(i.Xl),!this.e8.O6(e,r)){t.next=3;break}return t.abrupt("return",this.e8.x6(e,r));case 3:return s=kD(i.T$),t.t0=m,t.next=7,this.s8.c2(n,r,Yo.Sc,Rf.yv,s);case 7:return t.t1=t.sent,u=new t.t0(t.t1),this.e8.P6(e,r,u),t.abrupt("return",u);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.d8=function(t,n,i,r){var e=this.o8.get(t),s=e.n6(n.HJ.Xl,n.ZY);if(e.r6(n.HJ.Xl,n.ZY))e.G5(n),this.dispatchEvent({type:"l8",Ep:t,_8:s});else{if(!s)return this.g8(t,n,i,r);e.G5(n),this.w8(t,n,i,s.y8)}return r&&r(),null},i.g8=function(t,n,i,r){var e=this,s=this.o8.get(t),u=function(t,n){return t+"m8"+n.ZY+"A4"+n.uri}(t,n);if(this.a8.has(u))return null;this.a8.set(u,!0);var o=kD(n.HJ.T$),h=this.s8.xh(t,n.uri,Yo.Sc,Rf.lv,o,function(o,a){return e.a8.delete(u),o?r&&r(o):(e.dispatchEvent({type:"k8",Ep:t}),s.r6(n.HJ.Xl,n.ZY)||s.z5({info:n,y8:h.Yv}),e.d8(t,n,i),r&&r(o,a))});return this.u8.I6(h),h},i.w8=function(t,n,i,r){var e=this,s=this.o8.get(t);this.h8.U5(t,n)||(n&&n.key&&this.r8.getKey(n.key).catch(R),this.h8.P5(t,this.r8,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Qo",Qo:n});s.z5(i),e.dispatchEvent({type:"l8",Ep:t,_8:i})}))},i.p8=function(t,n,i){var r=i.length,e="yJ"===t?hP:aP;if(!oP(n,i))return null;if(r<=1)return i;for(var s=1;s<r;s+=1){var u=i[s],o=i[s-1];if(u.metadata.y4){if("A8"===this._a.b8||e(u,o)){var h=i.splice(0,s);return oP(n,h)?h:this.p8(t,n,i)}0}}return i},i.T8=function(t,n,i,r){for(var e=this.o8.get(t).s6(),s=r.E8,u=function(t){var r=i[t],u=e.filter(function(t){return t.HJ===r}),o=ZO(n,u),h=o.N2(s.K_(),sP.K_());if(h>=0&&N_.ew(o.end(h)).fg(s).ig(sP))return{v:!0}},o=0;o<i.length;o++){var h=u(o);if("object"==typeof h)return h.v}return!1},i.S8=function(t,n,i,r,e){if(!Y.Ce)return!0;if(e.R8||this.T8(t,n,i,e))return!0;var s=N_.Zg(r,e.I8);return e.E8.fg(s).ig(N_.ew(2))},i.N8=function(t,n,i,r,e,s,u,o){var h=n.t6(e.Xl,s),a=this.p8(t,s,h);if(!a||0===a.length)return null;var c,f=a[0],v=r.F2(f.info),d=AP(t,r,f);if("mJ"!==t||function(t,n,i){return!!t&&t.xp.HJ===n&&i.ig(N_.ew(t.zR))&&i.eg(N_.ew(t.zR).vg(sP))}(i,e,d))return{gZ:a,C8:N_.Jg(v,d)};f.f4.video&&(f=(a=_P(a,function(t,n,i,r){for(var e=0,s=0,u=0;u<t.length;u+=1)for(var o=t[u],h=eP(o),a=0;a<h.length;a++){var c=h[a];if(n.W2(o.info,c.i8).tg(i.fg(r)))return{D8:e,O8:s};e=u,s=c.n8}return{D8:e,O8:s}}(a,r,u,o)))[0]);if(d=AP(t,r,f),function(t){var n=t.f4.video,i=n&&n.ZH,r=i&&i[0],e=r&&r.mb.n4;if(!n)return!0;return!!e}(f))return{gZ:a,C8:N_.Jg(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=Tx(t[n].f4);if(!y(i))return{D8:n,O8:i}}return null}(a),_=N_.Zg(u,mP(t,r,e.mZ(s)));if(f.info.ZY===s){if(l&&(d=AP(t,r,(c=_P(a,l))[0]),_.fg(d).ig(o)))return{gZ:c,C8:N_.Jg(v,d)};for(var g=s-1;n.r6(e.Xl,g);){var w=n.t6(e.Xl,g);if((f=(c=this.p8(t,s,w))&&c[0]&&lP(c[0],Ex(c[0])))&&(d=AP(t,r,f),_.fg(d).ig(o)))return c[0]=f,{gZ:c,C8:N_.Jg(v,d)};g-=1}}return function(t){if(t.kZ)return!1;var n=t.HJ;if(n.yZ&&n.yZ.live)return!1;if(!n.mZ(t.ZY-1))return!1;return!0}(a[0].info)?null:l?{gZ:a=_P(a,l),C8:v}:null},i.x8=function(t,n,i,r,e,s,u,o,h,a,c){var f=s.P8(o,h,n),v=f&&f.xp;if(!v)return null;var d=v.ZY;do{var l=d,_=o.mZ(l),g=mP(n,s,_);if(!kP(n,s,_).og(h)||_.w4){if(g.vg(sP).tg(a))break;if(N_.Zg(N_.pg,h.fg(g)).og(c)&&i.r6(o.Xl,l-1)&&i.r6(o.Xl,l))i.n6(o.Xl,l).metadata.y4||(l-=1);var w=this.B8(t,n,i,r,e,s,u,o,l,h,c);if(w&&(dP(w,h,a)||w.R8))return w}}while(i.r6(o.Xl,++d));return null},i.B8=function(t,n,i,r,e,s,u,o,h,a,c){var f=o.mZ(h),v=this.N8(n,i,r,s,o,h,a,c),d=v&&v.gZ,l=v&&v.C8,g=d&&d[d.length-1],w=g&&g.metadata.w4;if(!(d=function(t,n){if(!n||!n.length)return n;var i="yJ"===t?cP:fP;return n.map(i).filter(vP)}(n,d))||!d.length){if(w){var y=[],m=s.F2(g.info);return y.L8=m,y.M8=m,y.I8=m,y.U8=m,y.E8=m,y.R8=w,y}return null}var k=d="mJ"===n?function(t,n,i){var r=i[0].f4.video;return i[0].info.kZ?function(t,n,i,r){var e=je(r.ZH,function(t){return t.mb.n4});if(e<0)return i;var s=r.ZH[e].mb,u=n.W2(i[0].info,s.a4),o=bP(t,u);if(o.dg())return i;var h=u.fg(o).$g(Ng,T_._w);if(h.eg(N_.pg))return i;var a=SP(r.ZH.slice(e),h);return i[0]=wP(i[0],a),i}(t,n,i,r):function(t,n,i,r){var e=r.S3.Hg(nP),s=r.ZH[0].mb,u=n.W2(i[0].info,s.c4),o=TP(t,u,e);if(o.dg())return i;var h=u.fg(o).$g(Ng,T_._w);if(h.eg(N_.pg)||h.tg(e))return i;var a=SP(r.ZH,h);return i[0]=wP(i[0],a),i}(t,n,i,r)}(e,s,d):function(t,n,i){var r;if((null==(r=i[0].f4.audio)?void 0:r.m3)===jO.j2)return i;var e=i[0].f4.audio,s=e.ZH[0].mb;return i[0].info.kZ?function(t,n,i,r,e){var s=n.W2(i[0].info,e.a4),u=bP(t,s);if(u.dg())return i;var o=s.fg(u).K_(),h=_.floor(o/r.S3.K_());if(h<=0)return i;var a=EP(r,h);return i[0]=gP(i[0],a),i}(t,n,i,e,s):function(t,n,i,r,e){var s=n.W2(i[0].info,e.c4),u=TP(t,s,r.S3.Hg(iP));if(u.dg())return i;var o=s.fg(u).K_(),h=_.round(o/r.S3.K_());if(0===h||_.abs(h)>iP)return i;var a=EP(r,h);return i[0]=gP(i[0],a),i}(t,n,i,e,s)}(e,s,d),p=k[0];if(f.ZY<p.info.ZY&&(l=s.F2(f)),k.L8=l,k.M8=function(t,n,i){return n.W2(i.info,pP(t,i).l4)}(n,s,p),k.I8=AP(n,s,p),k.U8=function(t,n,i){return n.W2(i.info,pP(t,i).g4)}(n,s,k[k.length-1]),k.E8=function(t,n,i){return n.W2(i.info,pP(t,i)._4)}(n,s,k[k.length-1]),k.R8=w,!this.S8(t,s,u,a,k))return null;var A=p.f4.video;return!A||(A.f$=A.f$||o.f$,A.v$=A.v$||o.v$,A.f$&&A.v$)?k:null},i.F8=function(t,n,i,r,e,s,u,o,h,a){for(var c=null,f=u.length-1;f>=0;f-=1){var v=u[f],d=this.x8(t,n,i,r,e,s,u,v,o,h,a);d&&(c&&!d.I8.og(c.I8)||(c=d))}return c},i.H8=function(t,n,i,r,e,s,u,o,h){for(var a=N_.ew(u),c=N_.ew(o),f=N_.ew(h),v=this.o8.get(t),d=new IO([{WR:a.K_(),zR:a.vg(c).K_()}]),l=e.iI(d),_=function(t){if(0===t.length)return null;var n=t.gZ(t.length-1),i=n[n.length-1];if(!i.xp.V8)return null;return i}(e),g=OO(xO(l),d),w=0;w<g.length;w++){var y=N_.ew(g.start(w)),m=N_.ew(g.end(w)),k=RP(l,y,m),p=y.vg(k).$g(Ng,T_._w),A=m.$g(Ng,T_._w);if(p.og(A)){if(_&&p.ig(N_.ew(_.zR)))continue;var b=this.F8(t,n,v,s,e,i,r,p,A,f);if(b)return b}}return null},i.s6=function(t){return this.o8.get(t).s6()},i.M5=function(t){return this.h8.M5(t)},M(n,[{key:"Q5",get:function(){return this.c8},set:function(t){t>0&&(this.c8=t,this.o8.forEach(function(n){return n.Q5=t}))}},{key:"N6",get:function(){return this.u8.N6}},{key:"C6",get:function(){return this.u8.C6}}]),n}(qC);function oP(t,n){for(var i=0;i<n.length;i++){if(n[i].info.ZY===t)return!0}return!1}function hP(t,n){return t.metadata.audio.m3!==n.metadata.audio.m3||(t.metadata.audio.ZK!==n.metadata.audio.ZK||(!(!t.f4.audio||!n.f4.audio||t.f4.audio.q3===n.f4.audio.q3)||!Bg(t.metadata.audio.d4,t.metadata.audio.l4).ug(Bg(n.metadata.audio._4,n.metadata.audio.g4))))}function aP(t,n){return t.metadata.video.m3!==n.metadata.video.m3||(!(!t.metadata.LB||!n.metadata.LB||t.metadata.LB.height===n.metadata.LB.height&&t.metadata.LB.width===n.metadata.LB.width)||(!(!n.f4.video||n.f4.video.s4||t.metadata.video.ZK===n.metadata.video.ZK)||Bg(t.metadata.video.d4,t.metadata.video.l4)!==Bg(n.metadata.video._4,n.metadata.video.g4)))}function cP(t){return t.f4.video&&(t={f4:zx(t.f4),info:t.info,metadata:Ix(t.metadata,"mJ")}),t}function fP(t){return t.f4.audio&&(t={f4:qx(t.f4),info:t.info,metadata:Ix(t.metadata,"yJ")}),t}function vP(t){return Boolean(t&&(t.f4.audio||t.f4.video))}function dP(t,n,i){var r=N_.Zg(n,t.I8),e=N_.Jg(i,t.E8),s=sP;return Y.be&&(r.eg(t.I8)?s=s.vg(t.I8).fg(t.M8):e.ig(t.E8)&&(s=s.vg(t.E8).fg(t.U8))),e.fg(r).ig(s)}function lP(t,n){return y(n)?null:0===n?t:wP(t,t.f4.video.ZH.slice(n))}function _P(t,n){return(t=t.slice(n.D8))[0]=lP(t[0],n.O8),t}function gP(t,n){var i={info:t.info,f4:{audio:zx(t.f4).audio,video:null,l3:t.f4.l3},metadata:null},r=i.f4.audio;r.ZH=n;var e=n[0].mb;return r.I3=e.g3,r.R3=r.I3.K_(),yP(r,i.f4.l3,r.S3),Rx(i,t.metadata.size),i.metadata=Ix(i.metadata,"mJ"),i}function wP(t,n){var i={info:t.info,f4:{audio:null,video:qx(t.f4).video,l3:t.f4.l3},metadata:null},r=i.f4.video;r.ZH=n;var e=n[0].mb;r.I3=e.g3,r.R3=r.I3.K_();var s=n[n.length-1].mb.Y3;return yP(r,i.f4.l3,s),Rx(i,t.metadata.size),i.metadata=Ix(i.metadata,"yJ"),i}function yP(t,n,i){for(var r=N_.uw,e=N_.uw,s=N_.ow,u=N_.ow,o=0,h=t.ZH;o<h.length;o++){var a=h[o].mb;r=N_.Jg(a.c4,r),e=N_.Jg(a.a4,e),s=N_.Zg(a.c4,s),u=N_.Zg(a.a4,u)}t.N3=e,t.C3=r,t.D3=u,t.O3=s,t.T3=N_.Zg(Mg(t.I3,n),N_.pg),t.x3=Lg(t.D3,i),t.P3=Lg(t.O3,i),t.b3=Bg(t.x3,t.N3).K_(),t.duration=t.b3}function mP(t,n,i){if(lD(i)){var r="yJ"===t?i.b5:i.E5;return xg(r)||(r=i.qZ),n.W2(i,r)}return i&&n.F2(i)}function kP(t,n,i){if(lD(i)){var r="yJ"===t?i.I5:i.C5;return xg(r)||(r=i.qZ),n.W2(i,r)}return i&&n.F2(i).vg("yJ"===t?function(t){return lD(t)?t.zZ||N_.pg:t&&N_.ew(t.duration)||N_.pg}(i):function(t){return lD(t)?t.GZ||N_.pg:t&&N_.ew(t.duration)||N_.pg}(i))}function pP(t,n){return"yJ"===t?n.metadata.audio:n.metadata.video}function AP(t,n,i){return n.W2(i.info,pP(t,i).d4)}function bP(t,n){var i=t.O2(n.K_());if(-1!==i){var r=N_.ew(t.end(i));if(n.fg(r).eg(N_.ew(rP)))return r}return N_.sw}function TP(t,n,i){var r=t.N2(n.K_(),i.K_());if(-1!==r)for(var e=t.gZ(r),s=e.length-1;s>=0;s--)for(var u=e[s],o=u.xp.gZ.length-1;o>=0;o--){var h=u.xp.gZ[o];if(n.fg(N_.ew(h.zR)).hg().eg(i))return N_.ew(h.zR);if(n.fg(N_.ew(h.WR)).hg().eg(i))return N_.ew(h.WR)}return N_.sw}function EP(t,n){var i;if(n<0)i=t.ZH.slice(-n);else{0;var r=new sx,e=function(t,n){if(t)switch(n){case 1:return new m([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new m([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new m([0,200,0,128,35,128]);case 2:return new m([33,0,73,144,2,25,0,35,128]);case 3:return new m([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new m([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.U3,t.q3);r.K2(e,0,e.length),i=t.ZH.slice();for(var s=0;s<n;s++){var u=i[0].mb,o=r.fh(te({},r.mb,{g3:Bg(u.g3,t.S3),_3:u._3-t.S3.K_(),c4:Bg(u.c4,t.S3),a4:Bg(u.a4,t.S3)}));i.unshift(o)}}return i}function SP(t,n){var i=t[0].mb,r=t.slice();return r[0]=t[0].fh(te({},i,{g3:Bg(i.g3,n),_3:i._3-n.K_(),c4:Bg(i.c4,n),J3:i.J3-n.K_(),a4:Bg(i.a4,n),Z3:i.Z3-n.K_(),Y3:N_.Zg(N_.pg,i.Y3.vg(n)),U_:_.max(0,i.U_+n.K_())})),r}function RP(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.gZ(r),s=t.gZ(r+1);if(e.length&&s.length&&N_.ew(e[0].WR).eg(n)&&N_.ew(s[s.length-1].zR).ig(i)&&s[0].xp.gZ[0].dh.v4.kZ)return sP.Hg(5)}return t.Cy(n.K_())?sP:N_.pg}function IP(t){return new BP(t.Gf,t.Ds)}var NP,CP,DP,OP,xP,PP,BP=function(){function t(t,n){this.Gf=void 0,this.X8=void 0,this.X8=n,this.Gf=t}return t.prototype.W8=function(t){dO(t)},M(t,[{key:"Ds",get:function(){return this.X8}},{key:"q8",get:function(){return vO(lO(this.X8,this.Gf))}}]),t}(),LP=function(){function t(t,n,i){this.XZ=void 0,this.XZ="data:"+t+";"+n+","+i}return t.prototype.W8=function(t){},M(t,[{key:"q8",get:function(){return this.XZ}}]),t}();!function(t){t.j2="z8",t.w_="G8",t.j8="Q8",t.Y8="Z8",t.J8="K8"}(NP||(NP={})),function(t){t.t9="n9",t.i9="r9"}(CP||(CP={})),function(t){t.e9="audio/mp4",t.s9="audio/mpeg",t.u9="video/mp4"}(DP||(DP={})),function(t){t[t.o9=0]="o9",t[t.h9=1]="h9",t[t.$l=2]="$l",t[t.a9=3]="a9"}(OP||(OP={})),function(t){t.c9="f9",t.v9="d9"}(xP||(xP={})),function(t){t.l9="A8",t.v9="_9"}(PP||(PP={}));var MP=function(){function t(t,n,i,r,e,s,u,o,h,a){this.g9=void 0,this.w9=void 0,this.Ep=void 0,this.Gf=void 0,this._8=void 0,this.y9=void 0,this.cb=void 0,this.m9=void 0,this.k9=void 0,this.UD=void 0,this.p9=OP.o9,this.w9=t,this.g9=n,this.Ep=i,this.Gf=r,this._8=e,this.y9=s,this.cb=u,this.m9=o,this.k9=h,this.UD=a}return t.A9=function(t,n,i,r,e,s,u,o,h,a){switch(n){case xP.c9:return new UP(t,i,r,e,s,u,o,h,a);case xP.v9:return new FP(t,i,r,e,s,u,o,h,a)}},t}(),UP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,xP.c9,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.b9=function(){return{T9:"E9",S9:this.g9,R9:NP.J8,I9:CP.t9,N9:this.Gf,C9:ux(this._8,[]),D9:this.k9,O9:this.m9.gw(),x9:this.y9.gw(),P9:this.cb.gw()}},n}(MP),FP=function(t){function n(n,i,r,e,s,u,o,h,a){return t.call(this,xP.v9,n,i,r,e,s,u,o,h,a)||this}return F(n,t),n.prototype.b9=function(){return{T9:"E9",S9:this.g9,R9:this.Gf===DP.s9?NP.j2:NP.w_,I9:Gy?CP.i9:CP.t9,N9:this.Gf,C9:ux(this._8,[])}},n}(MP),HP=function(){function t(){this.B9=void 0,this.L9=void 0,this.B9=ie(),this.L9=1}var n=t.prototype;return n.M9=function(){return(this.L9++).toString()},n.A9=function(t,n,i,r,e,s,u,o,h){var a=this.M9(),c=MP.A9(a,n,t,i,r,e,s,u,o,h);return this.U9(c),c},n.F9=function(t){return this.B9.get(t)},n.U9=function(t){this.B9.set(t.g9,t)},n.H9=function(t){this.B9.delete(t)},n.V9=function(t){this.F9(t).p9=OP.h9,this.H9(t)},n.X9=function(t,n){var i=this.F9(t).UD;this.F9(t).p9=OP.$l,this.H9(t),i(n)},n.W9=function(t,n){var i=this.F9(t).UD;this.F9(t).p9=OP.a9,this.H9(t),i(null,n)},n.sh=function(t){var n=[];this.B9.forEach(function(i,r){t&&i.Ep!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.V9(r)}},t}();var VP,XP=function(){function t(n){var i=this;this.B9=void 0,this.q9=void 0,this._a=void 0,this.z9=void 0,this.G9=function(t){var n=t.data.j9,r=t.data.Q9,e=t.data.Y9,s=t.data.Z9,u=i.B9.F9(r);if(u&&u.p9!==OP.h9)switch(n){case"J9":i.K9(u,e);break;case"t7":i.B9.X9(r,new jC(GC.FY,{code:s}));break;default:0}},this.n7=function(t){0},this.B9=new HP,this._a=n,this.z9=t.i7(n.b8),this.r7()}t.i7=function(t){switch(t){case PP.l9:return xP.c9;case PP.v9:return xP.v9}};var n=t.prototype;return n.E9=function(t,n,i,r,e,s,u){var o={metadata:null,yJ:null,mJ:null,Qo:null};i&&i.length||u(new jC(GC.FY,{code:"SP154"}));var h=i[0],a=i[i.length-1],c=h.info.ZY+1,f=h.info.HJ,v=h.metadata,d=v.audio.m3?v.audio:void 0,l=v.video.m3?v.video:void 0,_=a.metadata,g=_.audio.m3?_.audio:void 0,w=_.video.m3?_.video:void 0,m=r.vg(Mg(v.l4,v.d4)),k=r.vg(Mg(v.d4,v.d4)),p=r.vg(d?Mg(d.l4,v.d4):N_.pg),A=r.vg(d?Mg(d.d4,v.d4):N_.pg),b=r.vg(l?Mg(l.l4,v.d4):N_.pg),T=r.vg(l?Mg(l.d4,v.d4):N_.pg),E=r.vg(Mg(_.g4,v.d4)),S=r.vg(Mg(_._4,v.d4)),R=r.vg(g?Mg(g.g4,v.d4):N_.pg),I=r.vg(g?Mg(g._4,v.d4):N_.pg),N=r.vg(w?Mg(w.g4,v.d4):N_.pg),C=r.vg(w?Mg(w._4,v.d4):N_.pg);p=N_.Zg(N_.pg,p),b=N_.Zg(N_.pg,b);var D,O,x,P,B,L=cD.bw(n.KJ)?N_.ew(100079991719):N_.ew(n.U_),M=function(t){for(var n=t[0].f4,i=n,r=1;r<t.length;r++){if(!(n=Wx(i,t[r-1].f4,t[r].f4,t[r].info.y4)))return i;i=n}return i}(i);if(M.audio){O=(D=zx(M)).audio.duration;x=this.B9.A9(t,this.z9,"mp3"===D.audio.m3?DP.s9:DP.e9,D,p,A,L,c,function(t,n){if(o.Qo=o.Qo||t,o.yJ=n,D=!0,P)return u(o.Qo,o)}),this.e7(x),D=null}else D=!0;if(M.video){B=(P=qx(M)).video.duration;x=this.B9.A9(t,this.z9,DP.u9,P,b,T,L,c,function(t,n){if(o.Qo=o.Qo||t,o.mJ=n,P=!0,D)return u(o.Qo,o)}),this.e7(x),P=null}else P=!0;var U,F,H,V=i.map(function(t){return t.metadata}),X=N_.ew(O),W=N_.ew(B),q=h.f4.audio&&h.f4.video?N_.Jg(h.f4.audio.T3.vg(X),h.f4.video.T3.vg(W)):h.f4.audio?h.f4.audio.T3.vg(X):h.f4.video?h.f4.video.T3.vg(W):N_.pg;if(q.Sg()&&_t("Segment with no valid audio or video track detected",h.info.uri),M.video){var z=Tx(M);if(y(z))_t("Segment without keyframes detected",h.info.uri),U=N_.sw,F=N_.sw,H=q.Hg(1.5);else{var G=M.video.ZH[z].mb;U=r.vg(Mg(G.c4,v.d4)),F=r.vg(Mg(G.a4,v.d4)),H=N_.ew(G.Z3-h.metadata.start)}}else U=p,F=A,H=N_.pg;var j=N_.Zg(H,N_.Zg(h.f4.audio&&h.f4.audio.T3||N_.pg,h.f4.video&&h.f4.video.T3||N_.pg));o.metadata={ZY:c,WR:r.K_(),s7:m.K_(),L8:k.K_(),U8:E.K_(),E8:S.K_(),O5:U.K_(),q2:F.K_(),C8:N_.Jg(r,e).K_(),U_:q.K_(),gZ:V,vh:j.K_(),yJ:d&&{WR:A.K_(),s7:p.K_(),zR:I.K_(),U8:R.K_(),U_:O,m3:d.m3},mJ:l&&{WR:T.K_(),s7:b.K_(),zR:C.K_(),U8:N.K_(),U_:B,m3:l.m3,cu:v.LB.width,Ip:v.LB.height},b$:v.b$,y4:v.y4,HJ:f,w4:s},i=null,M=null},n.Lv=function(){this.B9.sh(),this.q9&&(this.q9.terminate(),this.q9=null)},n.Eo=function(t){this.B9.sh(t)},n.K9=function(t,n){switch(t.w9){case xP.c9:var i=n;this.B9.W9(t.g9,{initializer:IP(i.u7),m4s:IP(i.o7)});break;case xP.v9:var r=n;this.B9.W9(t.g9,(e=r,Gy?new LP(e.Gf,"base64",e.Ds):new BP(e.Gf,e.Ds)));break;default:0}var e},n.r7=function(){this.q9||(this.q9=TO(this._a.libraryLocation,"theoplayer.p.js"),this.q9.addEventListener("message",this.G9),this.q9.addEventListener("error",this.n7))},n.e7=function(t){this.q9||this.r7(),this.q9.postMessage(t.b9())},t}();function WP(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function qP(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function zP(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function GP(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],s=void 0;s=void 0!==r[6]?Gu(r[6]):void 0!==r[7]?{width:w(r[8]),height:w(r[10])}:void 0!==r[12]?w(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=s,r=i.exec(t)}return n}var jP,QP="x-";function YP(t,n,i,r){var e=t.split("@"),s=WP(n,i),u=g(e[0],10),o=e[1]?g(e[1],10):r;return{XZ:s,toString:function(){return s},indexOf:function(t){return s.indexOf(t)},WZ:{WR:o,zR:o+u-1}}}function ZP(t,n,i){var r,e,s,u,o,h=0,a=0,c=0,f=null,v=0,d=!1,l=[],y=null,k=0,p=t.match(/[^\r\n]+/g);if(!p||"#EXTM3U"!==p[0].trim())throw new jC(GC.UY,{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<p.length;b+=1){var T=p[b].trim();if(l.push(T+""),qP(T,"#EXT")){if(qP(T,"#EXTINF"))c=(c=w(zP(T)))||.5;else if(qP(T,"#EXT-X-BYTERANGE"))f=zP(T);else if(qP(T,"#EXT-X-KEY"))(s=GP(T)).method&&"NONE"===s.method?s=null:s.absoluteURI=WP(s.uri,i);else if(qP(T,"#EXT-X-DISCONTINUITY")&&!qP(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(qP(T,"#EXT-X-STREAM-INF"))(e=GP(T)).ZY=a++,(b+=1)<p.length&&(e.uri=WP(p[b].trim(),i),A.streams.push(e));else if(qP(T,"#EXT-X-MEDIA")&&!qP(T,"#EXT-X-MEDIA-"))(u=GP(T)).uri&&(u.uri=WP(u.uri,i)),A.media.push(u);else if(qP(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(zP(T));else if(qP(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.fZ=!0,A.vZ=g(zP(T),10);else if(qP(T,"#EXT-X-MEDIA-SEQUENCE"))h=g(zP(T),10),A.h7=!0,A.a7=h;else if(qP(T,"#EXT-X-TARGETDURATION"))A.targetDuration=g(zP(T),10),A.hasTargetDuration=!0;else if(qP(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(qP(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(qP(T,"#EXT-X-MAP")){var E=GP(T),S=E.uri,R=E.byterange;o=R?YP(R,S,i,0):WP(S,i)}else if(qP(T,"#EXT-X-VERSION"))A.version=g(zP(T),10);else if(qP(T,"#EXT-X-DATERANGE")){var I=JP(T);A.dateRanges.push(I)}}else if(qP(T,"#"));else if(0!==T.length){f?k=(r=YP(f,T,i,k)).WZ.zR+1:r=WP(T,i);var N,C=s&&te({},s);s&&void 0===s.iv&&(N=h%4294967295,C.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:c,uri:r,ZY:h,kZ:d,wZ:v,key:C,YJ:y,QJ:l,w4:!1,c7:o}),h+=1,c=0,f=null,d=!1,y=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].w4=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var s=0,u=t.fragments;s<u.length;s++){var o=u[s];e+=o.duration,i=_.min(i,o.duration),r=_.max(r,o.duration)}return{f7:i,v7:r,d7:n?t.fragments[n-1].duration:0,l7:e/n,_7:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.ZY-n.ZY})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var s=t.media.length-1;s>=0;s-=1){var u=t.media[s];u.type!==n||i[u["group-id"]]||Ye(t.media,s)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,s=t.media;e<s.length;e++)s[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],s=0;s<r;s++)if(i=t[s],n.call(e,i,s,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function JP(t){var n=GP(t),i=function(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i];Ne(e,QP)&&(n[e.substr(QP.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,s="YES"===n["end-on-next"]||void 0,u=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,h=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{Xl:n.id,DZ:n.class,uR:r,pZ:e,U_:n.duration,OZ:n["planned-duration"],xZ:s,PZ:i,BZ:u,LZ:o,MZ:h}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(jP||(jP={}));(VP={})[jP.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",VP[jP.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",VP[jP.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",VP[jP.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",VP[jP.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",VP[jP.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",VP[jP.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var $P=function(){function t(){}return t.prototype.Jk=function(t,n,i){return ZP(t,n,i)},t}(),KP=3,tB=function(){function t(t,n,i){void 0===i&&(i=KP),this.Bb=t,this.g7=n,this.w7=i}var n=t.prototype;return n.y7=function(t,n,i){return this.m7(t,n,!0,i)},n.k7=function(t,n,i){return this.m7(t,n,!1,i)},n.m7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=100,o=0;case 2:if(!(o<this.w7)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,ys(u,e);case 6:u<1e4&&(u=_.min(2*u,1e4));case 7:h=0;case 8:if(!(h<n.length)){t.next=28;break}return a=n[h],t.prev=10,c=new Cf({vv:a,ov:Yo.Je,uv:i,xv:this.g7,Nv:Ef.GET,io:Sf._v,Dv:Rf.lv,Io:e}),t.next=14,this.Bb.cv(c);case 14:return f=t.sent,t.next=17,f.Xf(e);case 17:return v=t.sent,t.abrupt("return",{p7:v,A7:a,fv:f.fv});case 22:t.prev=22,t.t0=t.catch(10),s=t.t0;case 25:h++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw s;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),nB=function(){function t(t,n,i,r){this.b7=t,this.T7=n,this.E7=i,this.S7=r}var n=t.prototype;return n.R7=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.b7.G0(n.map(sO));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.I7=function(t,n){var i=uO(t,n);return this.T7.nh(i)},n.N7=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=uO(n,i),t.next=3,this.E7.ih(e);case 3:if(t.t0=r=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=r.data;case 9:return t.abrupt("return",t.t1);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.ZP=function(t){return this.S7.ih(t)},t}(),iB=function(){function t(t){this.C7=void 0,this.C7=t}return t.prototype.D7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),u=0,o=this.C7;case 2:if(!(u<o.length)){t.next=17;break}return h=o[u],t.prev=4,t.next=7,h.D7(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),hs(t.t0),s=t.t0;case 14:u++,t.next=2;break;case 17:throw s;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),rB=function(){function t(t){this.O7=t}return t.prototype.D7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.O7.R7(n);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",{p7:s.data,A7:s.locationURL,fv:s.responseURL});case 7:throw new v("Manifest fetch from cache unsuccesful");case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),eB=function(){function t(t){this.x7=t}return t.prototype.D7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,this.x7.y7(n,i,r);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.x7.k7(n,i,r);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),t}();function sB(t,n){return new iB([new rB(n),new eB(t)])}var uB=function(){function t(t,n,i){this.P7=t,this.B7=n,this.L7=i}var n=t.prototype;return n.D7=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=!1),t.next=3,this.P7.D7(n,i,r,e);case 3:return s=t.sent,t.next=6,this.M7(s);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.M7=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.B7.q0({key:sO(n.A7),locationURL:Pf(n.A7),responseURL:Pf(n.fv),data:n.p7,references:[this.L7.Xl]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}();function oB(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var hB=function(){function t(t,n,i){this._a=void 0,this.Bb=void 0,this.P7=void 0,this.U7=void 0,this.U7=new $P,this._a=t,this.Bb=i;var r=this._a&&this._a.crossOrigin===ll.p_,e=new tB(i,r,1);this.P7=sB(e,new nB(eO.je.n1,eO.je.$0,eO.je.K0,eO.je.e1))}var n=t.prototype;return n.xh=function(t,n,i){var r=this.Od(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.Od=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.P7.D7([n],i);case 3:return r=t.sent,n=r.fv,e=this.U7.Jk(r.p7,n,oB(n)),t.abrupt("return",{Rw:e,F7:r.p7});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Vf)){t.next=16;break}throw new jC(GC.LY,{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof Xf)){t.next=24;break}if(0!==t.t0.Yv.sv){t.next=21;break}throw new jC(GC.MY,{code:"MFL3900",uri:n,status:t.t0.Yv.sv});case 21:throw new jC(GC.LY,{code:"MFL4100",uri:n,status:t.t0.Yv.sv});case 22:t.next=25;break;case 24:throw new jC(GC.$l,{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),aB=function(t){function n(n,i){var r;return(r=t.call(this)||this).H7=void 0,r.V7=void 0,r.X7=void 0,r.W7=void 0,r.q7=void 0,r.G$=void 0,r.M$=void 0,r.vS=void 0,r.H7=new hB(i||{},eO.je.n1,n),r}F(n,t);var i=n.prototype;return i.Gw=function(){void 0!==this.W7&&(a(this.W7),this.W7=void 0),this.X7&&this.X7.cv&&(this.X7=void 0)},i.z7=function(t){if(this.M$)for(var n=0,i=this.M$.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.G7=function(t,n,i,r){var e,s=t.targetDuration,u=t.metadata;return e=t.fragments.length&&u&&(!s||u._7<3*s)?1e3*u.f7:s?1e3*s:1e4,i===n&&(e/=2),e=_.max(e-r,1e3)},i.j7=function(t){if(t.fragments.length>0)for(var n=this.z7(t.fragments[0].uri),i=n&&n.ZY||0,r=0,e=t.fragments;r<e.length;r++){e[r].ZY+=i}},i.Q7=function(t,i,r,e,s,u){var o=this;if(this.X7&&r===this.X7.cv){var a=qb()-i;if(e){this.X7=void 0,this.vS=e;var c={type:"Qo",Qo:e};return this.dispatchEvent(c),s&&s(e)}this.X7=void 0;var f=u.Rw,v=u.F7;f.h7||this.j7(f),t===this.V7&&(this.G$=f),this.M$=f;var d=n.G7(f,v,this.q7,a);f.live?f.isMasterPlaylist||(this.W7=h(function(){return o.Od(t)},d)):this.Gw(),s&&s(e,u);var l={type:"Y7",manifest:f,manifestText:v};this.dispatchEvent(l),this.q7=v}},i.Od=function(t,n){var i=this,r=qb(),e=t;a(this.W7),this.W7=void 0;var s=this.H7.xh(e,{},function(e,u){return i.Q7(t,r,s,e,n,u)});this.X7={cv:s,vv:t}},i.WR=function(t,n){var i,r,e,s=this,u=!1;(e=t||(this.M$?this.M$.uri:this.V7))&&(this.X7&&this.X7.vv===t?n&&(i=function(t){s.removeEventListener("Qo",r),s.removeEventListener("Y7",i);var e=t;n(null,{Rw:e.manifest,F7:e.manifestText})},r=function(t){s.removeEventListener("Qo",r),s.removeEventListener("Y7",i),n(t.Qo)},this.addEventListener("Qo",r),this.addEventListener("Y7",i)):(this.Gw(),this.Od(e,function(t,i){if(!u)return u=!0,n&&n(t,i)})))},i.Z7=function(t){t&&(this.q7=void 0,this.G$&&this.G$.isMasterPlaylist?this.WR(t.uri):this.M$&&!this.J7()&&this.WR(this.M$.uri))},i.Lv=function(){this.Gw(),this.Mo()},i.J7=function(){return!!this.X7||!!this.W7||!(!this.M$||this.M$.live)},M(n,[{key:"Rw",get:function(){return this.M$}},{key:"pK",get:function(){return this.G$}},{key:"x0",get:function(){return this.V7},set:function(t){this.Gw(),this.q7=void 0,this.G$=void 0,this.M$=void 0,this.V7=t}}]),n}(qC),cB=function(t){function n(n,i){var r;return(r=t.call(this)||this)._a=void 0,r.El=void 0,r.V7=void 0,r.K7=void 0,r.Bb=void 0,r._a=i,r.El=ie(),r.V7=null,r.K7=null,r.Bb=n,r}F(n,t);var i=n.prototype;return i.WR=function(){var t=this,n=this.x0;if(n&&!this.K7){var i=new aB(this.Bb,this._a);i.addEventListener("Qo",function(i){var r=i.Qo;t.dispatchEvent({type:"ttt",Qo:r}),t.El.has(n)&&t.dispatchEvent({type:"Qo",Qo:r,ntt:n})}),i.addEventListener("Y7",function n(r){i.removeEventListener("Y7",n),i===t.K7&&t.dispatchEvent({type:"itt",Rw:r.manifest})}),i.addEventListener("Y7",function(i){t.El.has(n)&&t.dispatchEvent({type:n,Rw:i.manifest})}),this.K7=i,i.WR(n)}},i.rtt=function(t,n){this.ett(t),this.stt(n)},i.stt=function(t){var n,i=this;this.El.has(t)||(t===this.x0?(this.WR(),(n=this.K7).Rw&&this.dispatchEvent({type:t,Rw:n.Rw},!0)):((n=new aB(this.Bb,this._a)).addEventListener("Qo",function(n){i.dispatchEvent({type:n.type,Qo:n.Qo,ntt:t})}),n.addEventListener("Y7",function(n){i.dispatchEvent({type:t,Rw:n.manifest})})),this.El.set(t,n))},i.ett=function(t){if(this.El.has(t)){var n=this.El.get(t);n!==this.K7&&n.Lv(),this.El.delete(t),this.removeEventListener(t)}},i.utt=function(t){if(this.El.has(t)){var n=this.El.get(t);n.J7()||n.WR(t)}},i.ott=function(){var t=this;this.El.forEach(function(n,i){return t.utt(i)})},i.Cl=function(){this.El.forEach(function(t){return t.Lv()}),this.El.clear(),this.K7&&(this.K7.Lv(),this.K7=null),this.V7=null},M(n,[{key:"x0",get:function(){return this.K7&&this.K7.Rw?this.K7.Rw.uri:this.V7},set:function(t){this.Cl(),this.V7=t}}]),n}(qC),fB=function(t){function n(){var n;return(n=t.call(this)||this).htt=NaN,n}F(n,t);var i=n.prototype;return i.att=function(t,n){for(var i=t.length?_.min.apply(_,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].vh=N_.ew(t[e]||0)}var s=t.length?_.max.apply(_,t):0;this.htt=s,this.dispatchEvent({type:"ctt",ftt:s})},i.dtt=function(t,n){var i=[];if(n.length<2)return this.att(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var s=n[e];if(!s.ltt(t))return!1;i[e]=s.vh.vg(s._tt(r,t)).K_()}return this.att(i,n),!0},i.gtt=function(t,n){return this.dtt(t.wZ,n)},i.wtt=function(t,n){if(n.length<2)return this.att([],n),!0;var i=n[0].ytt(t);if(y(i))return!1;for(var r=0;r<n.length;r++){if(n[r].ytt(t)!==i)return!1}return this.dtt(i,n)},i.Cl=function(){this.htt=NaN},i.Lv=function(){this.Mo()},M(n,[{key:"ftt",get:function(){return this.htt}}]),n}(qC),vB=.001;function dB(t){return t.metadata.HJ.Xl+"mtt"+t.metadata.ZY+"ktt"+t.metadata.WR+"ptt"+t.metadata.U_}var lB=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.PQ=function(t,i){return new n(t,i)},i.U2=function(t,n){return!1},n}(QO);function _B(t,n){var i=new lB([n]);return t.fg(i).hI(i)}function gB(t,n){var i=function(t,n){var i=t.L8,r=t.q2;if(!y(r)&&r===i)return!0;return!t.y4&&!!n&&n.xp.HJ===t.HJ&&i>=n.zR&&i<=n.zR+vB}(t,n);return i||!y(t.q2)?{WR:i?t.L8:t.q2,zR:t.E8,xp:t}:null}var wB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Att=void 0,r.lb=void 0,r.btt=null,r.Ttt=function(){return r.Ett()},r.Stt=[],r._y=[],r.Rtt=new lB([]),r.Itt=null,r.Att=n,r.lb=i,r}F(n,t);var i=n.prototype;return i.Ntt=function(t){var n=t.metadata,i=n&&n.gZ;if(!i||!i.length)return E.resolve();for(var r=[],e=n.WR,s=0;s<i.length;s++){var u=i[s],o=e+u.duration;r.push({WR:e,U_:u.duration,zR:o,ZY:u.ZY,dh:u}),e=o}var h={Xl:dB(t),WR:t.metadata.WR,s7:n.s7,L8:n.L8,Ctt:i[0].v4.YJ?new Date(i[0].v4.YJ.getTime()):null,U_:t.metadata.U_,zR:t.metadata.WR+t.metadata.U_,U8:n.U8,E8:n.E8,O5:n.O5,q2:n.q2,gZ:r,HJ:t.metadata.HJ,V8:t.metadata.w4,y4:n.y4};return this.Stt.push(h),this.Dtt(this.Att.Ntt(t),h)},i.Dtt=function(t,n){var i=this;return t.then(function(){if(Qe(i.Stt,n)){i._y.push(n);var t=i.Itt,r=gB(n,t);r&&(i.Rtt=_B(i.Rtt,r)),i.Itt=r}i.Ett(),i.Ott(n)}).catch(function(){Qe(i.Stt,n)})},i.Ott=function(t){var n=t.gZ[0],i=t.gZ[t.gZ.length-1],r=t.HJ,e=r.mZ(n.ZY-1),s=cD.bw(r.KJ);if(!e||s){var u=r.mZ(n.ZY),o=this.lb.F2(u).K_(),h=t.s7,a=_.min(o,h);a<n.WR&&this.Att.rF(a,n.WR)}for(var c=0,f=this._y;c<f.length;c++){var v=f[c];if(v.HJ===t.HJ){var d=v.gZ[0],l=v.gZ[v.gZ.length-1];l.ZY+1===n.ZY&&l.zR!==n.WR?this.Att.rF(l.zR,n.WR):d.ZY-1===i.ZY&&i.zR!==d.WR&&this.Att.rF(i.zR,d.WR)}}},i.sh=function(){this.Stt.length=0,this._y.length=0,this.Rtt=new lB([]),this.Itt=null},i.Ett=function(){if(this.xtt&&!this.xtt.kO){var t=this.xtt._y||NO;t=function(t,n){for(var i=LO(t),r=0;r<i.length;r++){var e=i[r],s=n.O2(e.zR,vB);if(s>=0){var u=n.gZ(s),o=u[u.length-1],h=o.xp.U8,a=o.xp.E8;h-vB<e.zR&&e.zR<a&&(e.zR=a)}}return new IO(i)}(t,this.Rtt),this._y=this._y.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.WR,n.zR)>=0}),this.Rtt=this.Rtt.iI(t)}},i.Lv=function(){this.Mo(),this.sh(),this.xtt=null},i.Ptt=function(t){var n=this.Btt(t);if(n)for(var i=0,r=n.gZ;i<r.length;i++){var e=r[i];if(e.WR<=t&&e.zR>t)return e}return null},i.Btt=function(t){for(var n=0,i=this._y;n<i.length;n++){var r=i[n];if(r.WR<=t&&r.zR>t)return r}return null},i.Ltt=function(t){for(var n=0,i=this._y;n<i.length;n++){var r=i[n];if(r.HJ.Xl===t.HJ.Xl)for(var e=0,s=r.gZ;e<s.length;e++){if(s[e].ZY===t.ZY)return!0}}return!1},i.Mtt=function(){return this.Utt()[0]},i.Utt=function(){for(var t=this.Rtt,n=this.Itt,i=0,r=this.Stt;i<r.length;i++){var e=gB(r[i],n);e&&(t=_B(t,e)),n=e}return[t,n]},M(n,[{key:"Ol",get:function(){return this.Stt.length+this._y.length}},{key:"xtt",get:function(){return this.btt},set:function(t){this.btt&&this.btt.removeEventListener("updateend",this.Ttt),this.btt=t,this.btt&&(this.btt.addEventListener("updateend",this.Ttt),this.Ett())}}]),n}(qC);function yB(t,n,i){!function(t,n,i){for(var r=i.v3,e=[],s=0;s<r.length;s++)for(var u=r[s],o=n.W2(t,u.mb.w3).K_(),h=0,a=u.ZH;h<a.length;h++){var c=a[h];e.push(new AI(o,c))}i.i_=e}(t,n,i)}function mB(t,n){return t&&n?_.abs(t.ZY-n.ZY)<=1?N_.pg:N_.mg(n.lp-t.lp,1e3):N_.pg}var kB=function(){function t(t,n,i,r,e){this.kZ=void 0,this.D8=void 0,this.Ftt=void 0,this.Htt=void 0,this.io=void 0,this.n8=void 0,this.vh=N_.pg,this.Vtt=!1,this.Xtt=null,this.kZ=t,this.D8=t.HJ.gZ.KY(n.ZY),this.n8=this.D8,this.Ftt=i,this.Htt=r,this.io=e||null}var n=t.prototype;return n.Wtt=function(){if(this.Xtt)return this.Xtt;var t=this.qtt();return(t.ztt||t.Qo)&&(this.Xtt=t),t},n.Gtt=function(){return{ztt:!1,Qo:!1,Vtt:this.Vtt,Qy:N_.sw}},n.ztt=function(t){return t.dg()?{ztt:!1,Qo:!0,Vtt:this.Vtt,Qy:N_.sw}:{ztt:!0,Qo:!1,Vtt:this.Vtt,Qy:t}},t}();function pB(t,n){switch(n){case"yJ":return xg(t.b5)?t.b5:t.qZ;case"mJ":return xg(t.E5)?t.E5:t.qZ;default:return t.qZ}}var AB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.qtt=function(){var t=this.kZ,n=t.HJ,i=n.gZ,r=i.tZ(this.n8);if(t.Cy(r)){if(this.Htt&&t.jtt&&lD(r)){var e=pB(r,this.io),s=t.Qtt(e,r.Ytt);return this.ztt(s.fg(this.vh))}if(this.Ftt&&r===t.Ztt){var u=t.Yy.fg(_D(r));return this.ztt(u.fg(this.vh))}this.n8+=1;var o=mB(r,i.tZ(this.n8));return this.Vtt=this.Vtt||o.tg(N_.pg),this.vh=this.vh.vg(o).vg(_D(r)),this.Gtt()}return this.ztt(N_.sw)},n}(kB),bB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.qtt=function(){var t=this.kZ,n=t.HJ,i=n.gZ,r=i.tZ(this.n8);if(t.Cy(r)){if(this.Htt&&t.jtt&&lD(r)){var e=pB(r,this.io),s=t.Qtt(e,r.Ytt);return this.ztt(s.vg(this.vh))}if(this.Ftt&&r===t.Jtt){var u=t.Qy;return this.ztt(u.vg(this.vh))}this.n8-=1;var o=i.tZ(this.n8),h=mB(o,r);return this.Vtt=this.Vtt||h.tg(N_.pg),this.vh=this.vh.vg(h).vg(_D(o)),this.Gtt()}return this.ztt(N_.sw)},n}(kB);var TB=function(){function t(t,n,i){this.ZY=void 0,this.HJ=void 0,this.Qy=N_.pg,this.Yy=N_.pg,this.Jtt=null,this.Ztt=null,this.$tt=!1,this.Ktt=N_.sw,this.tnt=N_.sw,this.nnt=!1,this.int=void 0,this.ZY=t,this.HJ=n,this.int=i}var n=t.prototype;return n.Cy=function(t){return t&&t.wZ===this.ZY},n.Qtt=function(t,n){var i=t.fg(this.Ktt).vg(this.tnt);if(void 0!==n){var r=i.fg(n);if(r.hg().tg(Og)){var e=_.round(r.K_()/Dg.K_());i=i.fg(Dg.Hg(e))}}return i},n.rnt=function(t,n){var i=this.ent(t);this.snt(n);var r=this.unt();return i||r||t===this.Ztt&&this.ont()},n.ent=function(t){if(this.jtt&&C_(t.R5,this.Ktt)>=0)return!1;var n;if(n=this.jtt?this.hnt(t,!0,!1):this.ant(t,!0,!1),this.Ktt.dg())this.Ktt=t.R5;else{var i=Mg(t.R5,this.Ktt);this.Ktt=this.Ktt.vg(i)}return this.tnt=n,!0},n.snt=function(t){if(!t)return!1;if(this.int)return!1;if(!this.cnt())return!1;var n=this.HJ.gZ,i=this.Jtt,r=n.nZ(i.ZY-1);if(lD(i)&&lD(r)){var e=function(t,n,i){var r=t.W2(n,n._4);if(!xg(i.S5)||!xg(i.E5))return r;var e,s=xg(i.b5),u=Bg(i.E5,i.S5);if(s){var o=Pg(Bg(i.E5,i.b5),N_.pg);e=Pg(Bg(u,o),N_.pg)}else e=u;return Bg(r,e)}(t,r,i);return this.nnt=!0,this.fnt(e)}return!1},n.fnt=function(t){if(t.ug(this.Qy))return!1;var n=t.fg(this.Qy);return this.Qy=t,this.Yy=this.Yy.vg(n),this.tnt=this.tnt.vg(n),!0},n.unt=function(){if(this.int)return!1;var t=this.Ztt;if(!t)return!1;var n,i=new bB(this,t,!1,!0);do{n=i.Wtt()}while(!n.ztt&&!n.Qo&&!n.Vtt);if(n.ztt&&!n.Vtt){var r=n.Qy.vg(_D(t));if(!r.ug(this.Yy))return this.Yy=r,!0}return!1},n.vnt=function(t){var n=!1;return n=this.snt(t)||n,n=this.dnt(t)||n},n.dnt=function(t){if(!t)return!1;if(this.nnt)return!1;var n=t.Yy.vg(mB(t.Ztt,this.Jtt));return this.fnt(n)},n.lnt=function(t){var n=!1;return(!this.Jtt||this.Jtt.ZY>t.ZY)&&(this.Qy=this.Qy.fg(mB(t,this.Jtt)),this.Jtt=t,n=!0),(!this.Ztt||this.Ztt.ZY<t.ZY)&&(this.Yy=this.Yy.vg(mB(this.Ztt,t)).vg(_D(t)),this.Ztt=t,n=!0),n},n._nt=function(t){if(!this.jtt||!t.jtt)return N_.sw;if(this.Ktt.eg(t.Ktt)){var n=this.Qtt(t.Ktt,t.tnt);return t.tnt.fg(n)}return t.Qtt(this.Ktt,this.tnt).fg(this.tnt)},n.cnt=function(){var t=this.Jtt;return!!t&&function(t,n){return n.wZ===t&&n.kZ}(this.ZY,t)},n.ont=function(){var t=this.Ztt;if(!t)return!1;var n=this.HJ.gZ.nZ(t.ZY+1);return function(t,n,i){return n.wZ===t&&(!i||i.kZ)}(this.ZY,t,n)},n.gnt=function(t,n){return this.hnt(t,!0,!0,n)},n.ant=function(t,n,i){if(!this.Cy(t))return N_.sw;var r,e=new bB(this,t,n,i);do{r=e.Wtt()}while(!r.ztt&&!r.Qo);if(!r.ztt)return N_.sw;var s=r.Qy;return s.og(this.Qy)?this.Qy:s},n.hnt=function(t,n,i,r){if(!this.Cy(t))return N_.sw;var e,s,u,o,h,a=new AB(this,t,n,i,r),c=new bB(this,t,n,i,r);do{e=a.Wtt(),s=c.Wtt()}while(!(e.ztt||s.ztt||e.Qo&&s.Qo));if(s.ztt)u=s,o=e,h=a;else{if(!e.ztt)return N_.sw;u=e,o=s,h=c}if(u.Qy.og(this.Qy)){for(;!o.ztt&&!o.Qo;)o=h.Wtt();return o.ztt?N_.Zg(this.Qy,o.Qy):this.Qy}if(u.Vtt){for(;!o.Vtt&&!o.ztt&&!o.Qo;)o=h.Wtt();if(o.ztt&&!o.Vtt&&this.Qy.eg(o.Qy))return o.Qy}return u.Qy},n.W2=function(t,n){return this.Cy(t)&&this.jtt?this.Qtt(n,t.Ytt):N_.sw},n.Utt=function(){0},M(t,[{key:"jtt",get:function(){return!this.Ktt.dg()}}]),t}();function EB(t,n){return n.og(t.Qy)?o_.Y_:n.ig(t.Yy)?o_.Z_:o_.Q_}var SB=function(){function t(){this.wnt=new KC}var n=t.prototype;return n.nZ=function(t){return this.wnt.nZ(t)},n.tZ=function(t){return this.wnt.tZ(t)},n.ynt=function(t){var n=this.wnt.KY(t);return n<0?null:this.wnt.tZ(n-1)},n.Wtt=function(t){var n=this.wnt.KY(t);return n<0?null:this.wnt.tZ(n+1)},n.mnt=function(){return this.wnt.tZ(0)},n.knt=function(){var t=this.wnt.Ol;return 0===t?null:this.wnt.tZ(t-1)},n.pnt=function(t){var n=this.wnt,i=this.knt();if(i&&function(t,n){return t.Qy.eg(n)&&n.og(t.Yy)}(i,t))return i;var r=rR(this.wnt.eZ(),t,I,EB);return n.tZ(r)},n.vg=function(t){var n=this.wnt.vg(t);if(n&&!this.Wtt(t.ZY)){t.$tt=!0;var i=this.ynt(t.ZY);i&&(i.$tt=!1)}return n},n.Ph=function(t){var n=this.wnt.Ph(t);if(n&&t.$tt){t.$tt=!1;var i=this.ynt(t.ZY);i&&(i.$tt=!0)}return n},n.oZ=function(t){this.wnt.oZ(t)},n.Utt=function(){},M(t,[{key:"Ol",get:function(){return this.wnt.Ol}}]),t}();var RB=N_.ew(10),IB=function(){function t(t,n,i){this.HJ=void 0,this.Ant=!1,this.bnt=!1,this.Tnt=new SB,this.Ent=N_.pg,this.Snt=void 0,this.Rnt=null,this.Int=null,this.int=void 0,this.HJ=t,this.Snt=n.liveOffset,this.int=i}var n=t.prototype;return n.Nnt=function(t){var n=this.HJ,i=t?t.fragments:null,r=n.gZ;if(!t||!i||!i.length)return!1;this.Ant=!0;var e,s=!1;if(!this.Tnt.Ol){var u=r.nZ(i[0].ZY).wZ,o=new TB(u,n,this.int);o.fnt(this.vh),this.Tnt.vg(o),s=!0}if(this.Int){var h=r.KY(this.Int.ZY);e=h<0?0:h+1}else e=0;for(var a=e,c=r.tZ(a),f=null,v=!1;c;){var d=c.wZ;if(f&&f.ZY===d||(f&&v&&this.Cnt(f),f=this.Tnt.nZ(d),s=s||v,v=!1),!f){f=new TB(d,n,this.int),this.Tnt.vg(f);var l=this.Tnt.ynt(d);f.vnt(l||void 0)}v=f.lnt(c)||v,c=r.tZ(++a)}return f&&v&&this.Cnt(f),(s=s||v)&&this.Dnt(),this.Tnt.knt()&&this.D$(n.gZ),this.Rnt=r.nZ(i[0].ZY),this.Int=r.nZ(i[i.length-1].ZY),s},n.rnt=function(t){var n=this.Tnt.nZ(t.wZ);if(!n)return!1;this.bnt=!0;var i=this.Tnt.ynt(n.ZY),r=n.rnt(t,i);return r&&this.Cnt(n),r},n.Cnt=function(t){for(var n=t,i=this.Tnt.Wtt(t.ZY),r=!0;r&&i;)r=i.vnt(n),n=i,i=this.Tnt.Wtt(i.ZY)},n.Dnt=function(){for(var t=!1,n=this.Tnt.mnt(),i=n&&this.Tnt.Wtt(n.ZY);n&&i;)n.Yy.tg(i.Qy)&&(i.fnt(n.Yy),t=!0),n=i,i=this.Tnt.Wtt(n.ZY);return t},n.Ont=function(t){var n=this.Tnt.knt(),i=t.Tnt.knt();if(!this.int){if(n&&this.xnt(t,n.ZY))return!0;if(i&&this.xnt(t,i.ZY))return!0}return this.Pnt?!(!n||!this.Bnt(t,n.ZY))||(!(!i||!this.Bnt(t,i.ZY))||(!(!n||!this.Lnt(t,n.ZY))||(!(!i||!this.Lnt(t,i.ZY))||this.Mnt(t)))):this.Unt(t)},n.Unt=function(t){var n=this.Tnt.mnt(),i=t.Tnt.mnt();return!(!n||!i)&&(this.hh(i.Qy.fg(n.Qy)),!0)},n.xnt=function(t,n){var i=this.Tnt.nZ(n);if(!i||!i.jtt)return!1;var r=t.Tnt.nZ(n);return!(!r||!r.jtt)&&(this.hh(i._nt(r)),!0)},n.Bnt=function(t,n){var i=this.Tnt.nZ(n);if(!i||!i.cnt())return!1;var r=t.Tnt.nZ(n);return!(!r||!r.cnt())&&(this.hh(r.Qy.fg(i.Qy)),!0)},n.Lnt=function(t,n){var i=this.Tnt.nZ(n);if(!i)return!1;var r=this.Fnt(i.Ztt.ZY);if(!r)return!1;var e=t.Tnt.nZ(n);if(!e)return!1;var s=t.Fnt(e.Ztt.ZY);if(!s)return!1;var u=i.gnt(i.Ztt),o=e.gnt(e.Ztt),h=N_.aw(r).fg(N_.aw(s)),a=u.fg(o);return this.hh(h.fg(a)),!0},n.Mnt=function(t){if(!this.bnt&&!t.bnt)return!1;var n=this.Tnt.knt(),i=t.Tnt.knt();if(n&&n.Ztt&&i&&i.Ztt){var r=N_.mg(n.Ztt.lp-i.Ztt.lp,1e3),e=n.Yy.fg(i.Yy);return this.hh(r.fg(e)),!0}return!1},n.D$=function(t){var n=this.Tnt.knt();if(n)for(var i=n.Yy,r=t.Ol-1;r>=0;r--){var e=t.tZ(r);if(i=i.fg(N_.ew(e.duration)),void 0!==e.Ytt){0;break}e.Ytt=i}},n.ytt=function(t){var n=this.Tnt.pnt(t);return n?n.ZY:NaN},n.F2=function(t,n){var i=this.Tnt.nZ(t.wZ);return i?i.gnt(t,n):N_.sw},n.H2=function(t,n){var i=this.HJ.gZ.nZ(t.ZY+1);if(i){var r=this.F2(i);return r}return n.vg(function(t){if(!t)return N_.pg;if(!lD(t))return N_.ew(t.duration);var n=t.zZ||N_.pg,i=t.GZ||N_.pg,r=N_.ew(t.duration);return n.Sg()||i.Sg()?n.Sg()?i.Sg()?r.Sg()?r:N_.pg:i:n:N_.Zg(n,i)}(t))},n.W2=function(t,n){var i=this.Tnt.nZ(t.wZ);return i&&i.jtt?i.W2(t,n):N_.sw},n.P8=function(t,n){var i=this.HJ.gZ;return i.Ol?function(t,n,i,r,e){var s,u,o=t.HJ.gZ,h={},a=function(n){var i=h[n];return void 0!==i?i:h[n]=t.F2(o.tZ(n),e)},c=i,f=a(c),v=r,d=a(v);if(n.og(f))return{xp:s=o.tZ(c),Hnt:f};if(n.ig(d)&&(s=o.tZ(v)).w4)return{xp:s,Hnt:d};for(;f.eg(n)&&n.eg(d);){var l=void 0,g=void 0,w=void 0;if(c===v?(l=c,g=f):(l=c+_.round(n.fg(f).K_()*(v-c)/d.fg(f).K_())||0,g=a(l)),g.tg(n))d=a(v=l-1);else{if(s=o.tZ(l),!(w=(u=l)===r?a(u).vg(_D(o.tZ(u))):a(u+1)).eg(n))return s&&n.eg(g.vg(_D(s)))?{xp:s,Hnt:g}:(s=o.tZ(l+1))&&{xp:s,Hnt:w};c=l+1,f=w}}if(d.eg(n)){if((s=o.tZ(v))&&n.eg(d.vg(_D(s))))return{xp:s,Hnt:d};if(v<r&&(s=o.tZ(v+1),d=a(v+1),s&&n.og(d)))return{xp:s,Hnt:d}}return null}(this,t,0,i.Ol-1,n):null},n.Fnt=function(t){var n=this.HJ.gZ,i=n.KY(t),r=n.tZ(i),e=r,s=N_.pg;if(r.YJ)return r.YJ;for(var u=i-1;u>=0;u--){var o=n.tZ(u);if(s=s.vg(_D(o)).vg(mB(o,e)),o.YJ)return new Date(o.YJ.getTime()+1e3*s.K_());e=o}return null},n.Vnt=function(t){for(var n=this.HJ.gZ,i=void 0,r=0;r<n.Ol;r++){var e=n.tZ(r);if(e.YJ){if(!(e.YJ.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return N_.sw;var s=N_.aw(t).fg(N_.aw(i.YJ));return this.F2(i).vg(s)},n.hh=function(t){if(!t.ug(N_.pg))for(var n=this.Tnt.Ol,i=0;i<n;i++){var r=this.Tnt.tZ(i);r.fnt(r.Qy.vg(t))}},n.ltt=function(t){var n=this.Tnt.nZ(t);return n&&n.jtt},n._tt=function(t,n){if(this===t)return N_.pg;var i=this.Tnt.nZ(n),r=t.Tnt.nZ(n);return i&&r?i._nt(r):N_.sw},n.Utt=function(){0},M(t,[{key:"Pnt",get:function(){var t=this.HJ.yZ;return!!t&&t.live}},{key:"Xnt",get:function(){var t=this.HJ.yZ;return!!t&&t.isEvent}},{key:"Wnt",get:function(){var t=this.Rnt;return t?this.F2(t):N_.pg}},{key:"qnt",get:function(){var t=this.Tnt.knt();return t?t.Yy:N_.pg}},{key:"znt",get:function(){if(!this.Pnt)return N_.pg;var t=this.qnt.fg(this.Gnt);return N_.Zg(this.Wnt,t)}},{key:"Gnt",get:function(){return this.Snt&&N_.ew(this.Snt)||this.jnt.Hg(3)}},{key:"Qnt",get:function(){return this.Pnt&&this.Int?N_.mg(qb()-this.Int.lp,1e3):N_.pg}},{key:"jnt",get:function(){var t=this.HJ.yZ;return t&&t.targetDuration?N_.ew(t.targetDuration):RB}},{key:"vh",get:function(){return this.Ent},set:function(t){var n=t.fg(this.Ent);this.Ent=t,this.hh(n)}}]),t}(),NB=function(t){function n(n){var i;return(i=t.call(this)||this).Ynt=[],i.Znt={},i.Jnt=null,i.$nt=null,i.Ent=N_.pg,i.int=void 0,i.Knt=void 0,i.Knt=n,i}F(n,t);var i=n.prototype;return i.tit=function(t){return t&&this.Znt[t.Xl]||null},i.nit=function(t){var n=this.tit(t);return n||((n=new IB(t,this.Knt,!!this.int)).vh=this.Ent,this.Ynt.push(n),this.Znt[t.Xl]=n),n},i.iit=function(t){var n;switch(null==(n=this.Knt.hls)?void 0:n.discontinuityAlignment){case HA.aC:return!0;case HA.cC:return!1;default:return t.isEvent||t.hasEnd}},i.Nnt=function(t,n){void 0===this.int&&(this.int=this.iit(n));var i=this.tit(this.Jnt),r=i?i.Wnt:N_.pg,e=i?i.qnt:N_.pg,s=this.nit(t),u=s.Ant,o=s.Nnt(n);if(!u&&s.Ant&&(s.hh(this.rit(t)),o=!0),o=this.eit(s)||o,this.sit(s,r,e)){var h=new jC(GC.GY,{code:"MFU0166"});this.dispatchEvent({type:"Qo",Qo:h})}else this.Jnt=t,o&&this.dispatchEvent("x$")},i.rnt=function(t,n){if(lD(n)){0;var i=this.nit(t),r=i.rnt(n);r=this.eit(i)||r,this.$nt=t,r&&this.dispatchEvent("x$")}},i.eit=function(t){var n=!1,i=!1,r=this.tit(this.$nt);r&&(r===t?n=!0:i=(n=t.Ont(r))||i);var e=this.tit(this.Jnt);return e&&e!==t&&(i=n?e.Ont(t)||i:t.Ont(e)||i),i},i.rit=function(t){var n=this.tit(t),i=!n.Pnt,r=t.yZ&&t.yZ.isEvent;return i||r?N_.pg:n.jnt.Hg(3)},i.sit=function(t,n,i){if(!t.Pnt)return!1;var r=t.Wnt,e=t.qnt,s=N_.Jg(e,i).fg(N_.Zg(r,n)),u=N_.Zg(t.jnt.Hg(3),s.qg(2));return r.vg(u).og(n)},i.D$=function(t,n){var i=this.tit(t)||this.tit(this.Jnt);return i&&i.D$(n)},i.ytt=function(t){var n=this.Jnt&&this.tit(this.Jnt);return n?n.ytt(t):NaN},i.uit=function(t,n){var i=t.mZ(n);return this.F2(i)},i.F2=function(t){if(!t)return N_.sw;var n=this.tit(t.HJ)||this.tit(this.Jnt);return n?n.F2(t):N_.sw},i.H2=function(t,n){if(!t)return N_.sw;var i=this.tit(t.HJ)||this.tit(this.Jnt);return i?i.H2(t,n):N_.sw},i.W2=function(t,n){if(!t||!n)return N_.sw;var i=this.tit(t.HJ)||this.tit(this.Jnt);return i?i.W2(t,n):N_.sw},i.P8=function(t,n,i){var r=this.tit(t);if(!r)return null;var e=r.P8(n,i);return e?{xp:e.xp,Hnt:e.Hnt}:null},i.Fnt=function(t,n){var i=this.tit(t)||this.tit(this.Jnt);return i?i.Fnt(n):null},i.Vnt=function(t,n){var i=this.tit(t)||this.tit(this.Jnt);return i?i.Vnt(n):N_.sw},i.ltt=function(t){return void 0!==this.oit(t)},i._tt=function(t,n){if(this===t)return N_.pg;var i=this.oit(n),r=t.oit(n);return i&&r?i._tt(r,n):N_.sw},i.oit=function(t){return Ge(this.Ynt,function(n){return n.ltt(t)})},i.Lv=function(){this.Mo(),this.Ynt.length=0,this.Znt={},this.Jnt=null,this.$nt=null,this.Ent=N_.pg},i.Utt=function(){0},M(n,[{key:"hit",get:function(){return this.Wnt.fg(this.jnt.Hg(3))}},{key:"Gnt",get:function(){var t=this.Knt.liveOffset;return N_.ew(t||3*this.jnt.K_())}},{key:"Pnt",get:function(){var t=this.tit(this.Jnt);return!!t&&t.Pnt}},{key:"Iy",get:function(){return this.Jnt?new IO([{WR:this.Wnt.K_(),zR:this.qnt.K_()}]):NO}},{key:"Wnt",get:function(){if(!this.Jnt)return N_.pg;var t=this.tit(this.Jnt);return t.Xnt?t.Wnt:t.Wnt.vg(t.Qnt)}},{key:"qnt",get:function(){if(!this.Jnt)return N_.pg;var t=this.tit(this.Jnt);return t.qnt.vg(t.Qnt)}},{key:"znt",get:function(){if(!this.Jnt)return N_.pg;var t=this.tit(this.Jnt);return t.znt.vg(t.Qnt)}},{key:"jnt",get:function(){return this.Jnt?this.tit(this.Jnt).jnt:RB}},{key:"vh",get:function(){return this.Ent},set:function(t){if(!this.Ent.ug(t)){this.Ent=t;for(var n=0,i=this.Ynt;n<i.length;n++){i[n].vh=t}this.dispatchEvent("x$")}}}]),n}(qC),CB=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.rit=function(t){return N_.pg},n}(NB),DB=.25,OB=1/60;function xB(t,n){return __(t,n,OB)}var PB,BB=function(t,n,i){this.HJ=void 0,this.Qy=void 0,this.U_=void 0,this.Yy=void 0,this.xp=void 0,this.ait=NaN,this.cit=NaN,this.fit=0,this.HJ=t.HJ,this.Qy=n,this.Yy=i,this.U_=i-n,this.xp=t},LB=function(t,n,i){this.HJ=void 0,this.Qy=void 0,this.U_=void 0,this.Yy=void 0,this.ait=NaN,this.cit=NaN,this.fit=0,this.HJ=t,this.Qy=n,this.Yy=i,this.U_=i-n};function MB(t){return!(!t||!t.xp)}function UB(t,n,i){return r=n,e=i,s=t.Qy,u=t.Yy,xB(r,u)<=0&&xB(s,e)<=0;var r,e,s,u}function FB(t,n){return xB(t.Qy,n)<=0?t.Yy:t.Qy}function HB(t,n,i){return(t-n)/i-DB}function VB(t,n){return n.fg(t).hI(t)}function XB(t,n){var i=_.min(OB,t.U_/2);return n.vI(t.Qy,t.Yy,i)}function WB(t,n){var i=n.N2(t);return-1===i?t:n.end(i)}function qB(t){return t.cit<=t.ait}function zB(t,n){if(!qB(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.fit+n.cit>r.ait)return!1}return!0}function GB(t,n){for(var i=0;i<t.length;i++){t[i].fit+=n.cit}n.fit=n.cit,t.push(n)}!function(t){t[t.vit=0]="vit",t[t.dit=1]="dit",t[t.lit=2]="lit",t[t.a9=3]="a9"}(PB||(PB={}));var jB=function(){function t(t,n,i,r){this.Ep=void 0,this.lb=void 0,this._it=void 0,this.git=void 0,this.wit=void 0,this.D1=void 0,this.Ep=t,this.lb=n,this._it=i,this.git=r,this.wit=eO.je.n1,this.D1=eO.je.K0}var n=t.prototype;return n.yit=function(){return this._it.gJ.reduce(function(t,n){return _.max(t,n.yZ&&n.yZ.targetDuration||0)},0)},n.mit=function(t,n){void 0===n&&(n=this.lb.F2(t).K_());var i=this.lb.H2(t,N_.ew(n));return new BB(t,n,i.K_())},n.kit=function(t,n){var i=t.gZ.tZ(n);return i&&this.mit(i)||null},n.pit=function(t){var n=t.HJ,i=n.gZ.KY(t.ZY);return i>=0&&this.kit(n,i-1)||null},n.Ait=function(t){var n=t.HJ,i=n.gZ.KY(t.ZY);return i>=0&&this.kit(n,i+1)||null},n.bit=function(t,n){var i=this.lb.P8(t,N_.ew(n));return i&&this.mit(i.xp,i.Hnt.K_())||null},n.Tit=function(t){var n=t.gZ.Ol-1;return n>=0&&this.kit(t,n)||null},n.Eit=function(t,n,i){var r=t.yZ&&t.yZ.targetDuration||this.yit()||10,e=_.max(0,n-r),s=e+r;return i&&UB(i,e,s)&&(s=(e=i.Yy)+r),new LB(t,e,s)},n.Sit=function(t,n,i){var r=this.git.N6,e=.8*this.git.C6,s=(n.bandwidth||0)*t.U_;return i&&i.D0?((s=8*i.K1||s)-8*i.J1)/e:r+s/e},n.Rit=function(){for(var t=this.git.s6(this.Ep),n=this.git.M5(this.Ep),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.Iit=function(t,n){var i=n.filter(function(n){return n.HJ===t});return ZO(this.lb,i).L2()},n.Nit=function(t){return"audio"===this.Ep&&t?[t]:this._it.gJ},n.Cit=function(t){for(var n=new YO([]),i=new YO([]),r=this.Rit(),e={Dit:{},Oit:{},xit:{},Pit:{}},s=t.length-1;s>=0;s-=1){var u=t[s],o=this.Iit(u,r),h=tx(this.lb,o);e.Dit[u.Xl]=o,e.Oit[u.Xl]=h,e.xit[u.Xl]=n=VB(n,o),e.Pit[u.Xl]=i=VB(i,h)}return e},n.Bit=function(t,n,i,r,e){for(var s,u,o,h,a=[],c=0;c<r.length;c++)for(var f=e[r[c].Xl],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&a.push({WR:d,zR:l})}return 0===(s=OO(s=DO(new IO(a)),new IO([{WR:t,zR:n}]))).length||xB(s.start(0),t)>0?t:1===s.length&&(u=s.start(0),o=s.end(0),h=n,xB(u,t)<=0&&xB(h,o)<=0)?NaN:s.end(0)},n.Lit=function(t,n,i){var r=null,e=i.Dit[t.Xl],s=i.xit[t.Xl],u=i.Pit[t.Xl],o=s.N2(n);if(-1!==o){for(var h=_.max(n,s.start(o)),a=s.end(o),c=new IO([{WR:h,zR:a}]),f=s.iI(c).fg(u),v=0;v<f.length;v++){var d=f.start(v),l=f.gZ(v)[0];if(l.xp.HJ===t){if(r=this.pit(l.xp))return r}else{for(r=this.bit(t,d);r&&XB(r,e);)r=this.pit(r.xp);if(r)return r}}var g=s.gZ(o),w=g[g.length-1];if(w.xp.HJ===t&&(r=this.Ait(w.xp)))return r}var y=this.Tit(t);if(!y||xB(y.Yy,n)<=0){if(!y||!y.xp.w4)return r=this.Eit(t,n,y);r=y}for(r||(r=this.bit(t,n));r&&XB(r,s);)r=this.Ait(r.xp);return r},n.Mit=function(t,n){var i=this.Tit(t);return i&&i.xp.w4&&xB(i.Yy,n)<=0?i:this.bit(t,n)},n.Uit=function(t,n,i,r,e,s,u,o){var h=t.HJ,a=u.xit[h.Xl],c=!XB(t,a),f=c?n:FB(t,r);t.ait=HB(f,r,s),t.cit=this.Sit(t,h);var v=o&&this.mit(o);if(v&&!XB(v,a)){var d=FB(v,r);if(v.ait=HB(d,r,s),v.cit=this.Sit(v,h,i&&i.O1),qB(v)&&(!c||function(t,n){var i=[];return!!zB(i,n)&&(GB(i,n),!(!MB(t)||!MB(n)||t.xp!==n.xp)||!!zB(i,t))}(t,v)))return v}if(c&&!qB(t))return null;var l=this.Fit(t,r,e,s,a);return l.length&&l[l.length-1]||null},n.Fit=function(t,n,i,r,e){for(var s=[],u=t.HJ,o=t;o&&n<o.Yy&&i<=o.Qy;){if(!XB(o,e)){if(y(o.ait)){var h=FB(o,n);o.ait=HB(h,n,r),o.cit=this.Sit(o,u)}zB(s,o)&&GB(s,o)}o=MB(o)&&this.pit(o.xp)}return s},n.Hit=function(t,n){return t.Qy<n?{ql:PB.lit}:MB(t)?{ql:PB.vit,xp:t.xp,Qy:t.Qy}:{ql:PB.dit,HJ:t.HJ}},n.i6=function(t){if(dD(t.uri)){var n=t.uri,i=uO(n.XZ,[n.WZ.WR,n.WZ.zR]);return this.D1.nh(i)}var r=uO(t.uri);return this.D1.nh(r)},n.Vit=function(t){return this.wit.nh(t.uri)},n.Xit=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e,s,u,o,h,a){var c,f,v,d,l,_,g,w,m,k,p,A,b;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(c=this.Nit(e),f=this.Cit(c),v=this.lb.hit.K_(),d=this.Bit(n,i,s,c,f.Oit),g=null,m=!1,!y(d)){t.next=3;break}return t.abrupt("return",{ql:PB.a9});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{ql:PB.lit});case 5:k=h.length-1;case 6:if(!(k>=0)){t.next=27;break}if(l=h[k],_=WB(d,f.Oit[l.Xl]),!(g=this.Lit(l,_,f))){t.next=24;break}if(p=!1,!MB(g)){t.next=18;break}return t.next=15,this.i6(g.xp);case 15:p=t.sent,t.next=22;break;case 18:if(l.n$){t.next=22;break}return t.next=21,this.Vit(l);case 21:p=t.sent;case 22:if(!p){t.next=24;break}return t.abrupt("return",this.Hit(g,v));case 24:k-=1,t.next=6;break;case 27:if(!(d<=n+DB&&a.length)){t.next=33;break}if(l=a[0],_=WB(d,f.Oit[l.Xl]),!(g=this.Lit(l,_,f))){t.next=33;break}return t.abrupt("return",this.Hit(g,v));case 33:A=a.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=a[A],_=WB(d,f.Oit[l.Xl]),(g=this.Lit(l,_,f))?w=g:(m=!0,w=this.Mit(l,_)),!w){t.next=45;break}if(!(b=this.Uit(w,_,u,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.Hit(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{ql:PB.a9});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.Hit(g,v));case 52:if(h.length){t.next=54;break}return t.abrupt("return",{ql:PB.a9});case 54:if(l=h[0],_=WB(d,f.Oit[l.Xl]),!(g=this.Lit(l,_,f))){t.next=61;break}return t.abrupt("return",this.Hit(g,v));case 61:return t.abrupt("return",{ql:PB.a9});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s,u,o,h,a){return t.apply(this,arguments)}}(),t}(),QB=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n)||this).Wit=i,o.qit=r,o.PA=e,o.Ep=s,o.Ov=u,o}return F(n,t),n}(Es),YB=function(t){function n(n,i,r,e,s){return t.call(this,Qo.gc,n,i,r,e,s)||this}return F(n,t),n}(QB),ZB=function(t){function n(n,i,r,e,s,u,o){var h;return(h=t.call(this,Qo.yc,n,i,r,e,s)||this).zit=u,h.by=o,h}return F(n,t),n}(QB),JB=N_.ew(.1);function $B(t,n){return(t._8===n._8?C_(t.w3,n.w3):C_(t.Git,n.Git))||d_(t.PA,n.PA)}var KB,tL=function(){function t(){}return t.jit=function(t,n,i){if(!(n>=i)){var r=Ke(t,function(t,n){return new eC(t.map(function(t){return t?t.Qit():null}),n).kG()});if(0!==r.length)return new oC(n,i,r)}},t}(),nL="black",iL="white",rL=function(){function t(t,n){this.Yit=void 0,this.Zit=void 0,this.Jit=void 0,this.$it=void 0,this.Kit=void 0,this.trt=void 0,this.nrt=void 0,this.irt=void 0,this.rrt=void 0,this.Yit=new Array(eL+1);for(var i=0;i<=eL;i++)this.Yit[i]=new YN;this.Zit=1,this.Jit=0,this.$it=t,this.Kit=n,this.trt=!1,this.nrt=!1,this.irt=iL,this.rrt=nL,this.Cl()}var n=t.prototype;return n.ert=function(t,n){var i="CC"+(this.$it<<1|this.Kit+1);if(t>=n)return null;var r=(new rC).uG(this.Yit.slice(1));return 0===r.length?null:{jy:new oC(t,n,r),zf:i,IG:this.$it<<1|this.Kit+1}},n.Cl=function(){this.urt(),this.Zit=1},n.ort=function(){return this.Zit},n.hrt=function(t){this.Zit=t},n.Hz=function(t){this.Yit[this.Zit].Hz(t)},n.Vz=function(t){this.Yit[this.Zit].Vz(t)},n.art=function(){return this.Jit},n.crt=function(t){this.Jit=t},n.Wz=function(t,n){if(!(n<32||n>127)){var i="";switch(t){case KB.frt:i=void 0!==uL[n]?uL[n]:String.fromCharCode(n);break;case KB.vrt:i=oL[n];break;case KB.drt:this.lrt(),i=hL[n];break;case KB._rt:this.lrt(),i=aL[n]}i&&this.Yit[this.Zit].addParsedChar(i)}},n.lrt=function(){this.Yit[this.Zit].Xz()},n.grt=function(t,n,i){if(t>=n)for(var r=i-1;r>=0;r--)this.Yit[t+r]=this.Yit[n+r];else for(var e=0;e<i;e++)this.Yit[t+e]=this.Yit[n+e]},n.wrt=function(t,n){for(var i=0;i<=n;i++)this.Yit[t+i]=new YN},n.urt=function(){this.wrt(0,eL)},n.yrt=function(){this.Zit=this.Jit>0?this.Jit:0,this.urt()},n.mrt=function(t){this.trt=t},n.krt=function(t){this.nrt=t},n.prt=function(t){this.irt=t},n.Art=function(t){this.rrt=t},t}(),eL=15;!function(t){t[t.frt=0]="frt",t[t.vrt=1]="vrt",t[t.drt=2]="drt",t[t._rt=3]="_rt"}(KB||(KB={}));var sL,uL={39:"\u2019",42:"\xe1",92:"\xe9",94:"\xed",95:"\xf3",96:"\xfa",123:"\xe7",124:"\xf7",125:"\xd1",126:"\xf1",127:"\u2588"},oL={48:"\xae",49:"\xb0",50:"\xbd",51:"\xbf",52:"\u2122",53:"\xa2",54:"\xa3",55:"\u266a",56:"\xe0",57:"\u2800",58:"\xe8",59:"\xe2",60:"\xea",61:"\xee",62:"\xf4",63:"\xfb"},hL={32:"\xc1",33:"\xc9",34:"\xd3",35:"\xda",36:"\xdc",37:"\xfc",38:"\u2018",39:"\xa1",40:"*",41:"'",42:"\u2500",43:"\xa9",44:"\u2120",45:"\xb7",46:"\u201c",47:"\u201d",48:"\xc0",49:"\xc2",50:"\xc7",51:"\xc8",52:"\xca",53:"\xcb",54:"\xeb",55:"\xce",56:"\xcf",57:"\xef",58:"\xd4",59:"\xd9",60:"\xf9",61:"\xdb",62:"\xab",63:"\xbb"},aL={32:"\xc3",33:"\xe3",34:"\xcd",35:"\xcc",36:"\xec",37:"\xd2",38:"\xf2",39:"\xd5",40:"\xf5",41:"{",42:"}",43:"\\",44:"^",45:"_",46:"|",47:"~",48:"\xc4",49:"\xe4",50:"\xd6",51:"\xf6",52:"\xdf",53:"\xa5",54:"\xa4",55:"\u2502",56:"\xc5",57:"\xe5",58:"\xd8",59:"\xf8",60:"\u250c",61:"\u2510",62:"\u2514",63:"\u2518"},cL=function(){function t(t,n){this.xs=void 0,this.brt=void 0,this.Trt=void 0,this.Ert=void 0,this.Srt=void 0,this.Rrt=void 0,this.Irt=void 0,this.Nrt=void 0,this.xs=sL.RR,this.brt=new rL(t,n),this.Trt=new rL(t,n),this.Ert=new rL(t,n),this.Srt=this.Trt,this.Rrt=0,this.Irt=void 0,this.Nrt=!1}var n=t.prototype;return n.Cl=function(){this.Nrt=!0,this.Rrt=0,this.xs=sL.RR,this.Srt=this.Trt,this.Irt=void 0,this.Trt.Cl(),this.Ert.Cl(),this.brt.Cl()},n.Crt=function(t,n){return[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&t)<<1|n>>5&1]},n.Drt=function(t,n){var i=this.Crt(t,n),r=(30&n)>>1,e=iL,s=!1;r<7?e=lL[r]:7===r&&(s=!0);var u=1==(1&n);if(this.xs!==sL.Je){var o=this.Srt;if(this.xs===sL.Ort&&i!==o.ort()){var h=1+o.ort()-o.art(),a=1+i-o.art();o.grt(a,h,o.art()),o.wrt(0,a-1),o.wrt(i+1,eL-i)}o.hrt(i);var c=lC[t<<1&14|n>>5&1]-1;if(!(c<0)){var f=_C._j(c,n);o.Hz(f.eG),this.Srt.mrt(u),this.Srt.krt(s),this.Srt.prt(e),this.Srt.Art(nL)}}},n.xrt=function(t,n){this.Srt.mrt(!1),this.Srt.krt(!1),this.Srt.prt(iL);var i=this.Prt(t,KB.frt," ".charCodeAt(0)),r=iL,e=!1,s=1==(1&n);return"white_italics"===(r=lL[(14&n)>>1])&&(r="white",e=!0),this.Srt.mrt(s),this.Srt.krt(e),this.Srt.prt(r),i},n.Prt=function(t,n,i){if(this.Srt.Wz(n,i),this.xs===sL.Brt||this.xs===sL.Ort){var r=this.Lrt(this.Srt,this.Rrt,t);return this.Rrt=t,r}return null},n.Lrt=function(t,n,i){return this.Nrt?null:t.ert(n,i)},n.Mrt=function(t,n){var i=nL;0==(7&t)&&(i=dL[(14&n)>>1]),this.Srt.Art(i)},n.Urt=function(t){var n=fL,i=t.Frt,r=t.i8,e=null;switch(i){case n.RCL:this.Hrt();break;case n.BS:this.Vrt();break;case n.AOD:case n.AON:case n.DER:break;case n.RU2:e=this.Xrt(2,r);break;case n.RU3:e=this.Xrt(3,r);break;case n.RU4:e=this.Xrt(4,r);break;case n.FON:e=this.Wrt(r);break;case n.RDC:this.qrt(r);break;case n.TR:this.zrt();break;case n.RTD:this.Grt();break;case n.EDM:e=this.jrt(r);break;case n.CR:e=this.Qrt(r);break;case n.ENM:this.Yrt();break;case n.EOC:e=this.Zrt(r)}return e},n.Qrt=function(t){var n=this.Srt;if(this.xs!==sL.Ort)return null;var i=this.Lrt(n,this.Rrt,t),r=n.ort()-n.art()+1;return n.grt(r-1,r,n.art()),n.wrt(0,r-1),n.wrt(n.ort(),eL-n.ort()),this.Rrt=t,i},n.Xrt=function(t,n){this.Srt=this.Trt;var i=this.Srt,r=null;return this.xs!==sL.Ort&&this.xs!==sL.Je&&(r=this.Lrt(i,this.Rrt,n),this.Trt.yrt(),this.Ert.yrt(),this.Nrt=!1,i.hrt(eL)),this.xs=sL.Ort,i.crt(t),r},n.Wrt=function(t){return this.Prt(t,KB.frt," ".charCodeAt(0))},n.jrt=function(t){var n=this.Trt,i=null;return this.xs!==sL.Je&&(i=this.Lrt(n,this.Rrt,t)),n.urt(),this.Nrt=!1,i},n.qrt=function(t){this.xs=sL.Brt,this.Srt=this.Trt,this.Srt.crt(0),this.Rrt=t},n.Yrt=function(){this.Ert.urt()},n.Zrt=function(t){var n=null;this.xs!==sL.Je&&(n=this.Lrt(this.Trt,this.Rrt,t));var i=this.Ert;return this.Ert=this.Trt,this.Trt=i,this.Hrt(),this.Rrt=t,n},n.Hrt=function(){this.xs=sL.Jrt,this.Srt=this.Ert,this.Srt.crt(0)},n.Vrt=function(){this.Srt.lrt()},n.zrt=function(){this.brt.Cl(),this.Nrt=!1,this.Grt()},n.Grt=function(){this.Srt=this.brt,this.xs=sL.Je},n.$rt=function(t,n,i){return this.Srt.Wz(KB.frt,n),this.Prt(t,KB.frt,i)},n.Krt=function(t,n,i){var r=1&n?KB._rt:KB.drt;return this.Prt(t,r,i)},n.tet=function(t){var n=t.net,i=t.Frt,r=t.i8;if(this.Irt===(n<<8|i))return this.Irt=void 0,null;if(this.Irt=n<<8|i,this.iet(n,i))this.Drt(n,i);else{if(this.ret(n,i))return this.xrt(r,i);if(this.eet(n,i))this.Mrt(n,i);else{if(this.uet(n,i))return this.Prt(r,KB.vrt,i);if(this.oet(n,i))return this.Krt(r,n,i);if(this.het(n,i))return this.Urt(t);this.isTabOffset(n)&&this.Srt.Vz(i-32)}}return null},n.isTabOffset=function(t){return 23===t||31===t},n.het=function(t,n){return 20==(246&t)&&32==(240&n)},n.iet=function(t,n){return 16==(240&t)&&64==(192&n)},n.ret=function(t,n){return 17==(247&t)&&32==(240&n)},n.eet=function(t,n){return 16==(247&t)&&32==(240&n)||23==(247&t)&&45==(255&n)},n.uet=function(t,n){return 17==(247&t)&&48==(240&n)},n.oet=function(t,n){return 18==(246&t)&&32==(224&n)},t.aet=function(t){return 16==(112&t)},t}(),fL={RCL:32,BS:33,AOD:34,AON:35,DER:36,RU2:37,RU3:38,RU4:39,FON:40,RDC:41,TR:42,RTD:43,EDM:44,CR:45,ENM:46,EOC:47};!function(t){t[t.RR=0]="RR",t[t.Jrt=1]="Jrt",t[t.Brt=2]="Brt",t[t.Ort=3]="Ort",t[t.Je=4]="Je"}(sL||(sL={}));var vL,dL=["black","green","blue","cyan","red","yellow","magenta","black"],lL=["white","green","blue","cyan","red","yellow","magenta","white_italics"],_L=function(){function t(t,n,i,r,e){this.cet=void 0,this.trt=void 0,this.nrt=void 0,this.rrt=void 0,this.irt=void 0,this.cet=t,this.trt=n,this.nrt=i,this.rrt=r,this.irt=e}var n=t.prototype;return n.Qit=function(){return this.cet},n.fet=function(){return this.trt},n.vet=function(){return this.nrt},n.det=function(){return this.rrt},n.let=function(){return this.irt},t}(),gL=function(){function t(t){this._et=void 0,this.PR=void 0,this.wet=void 0,this.yet=void 0,this.met=void 0,this.ket=void 0,this.pet=void 0,this.Aet=void 0,this.bet=void 0,this.Tet=void 0,this.um=void 0,this.Zit=void 0,this.Eet=void 0,this.nrt=void 0,this.trt=void 0,this.irt=void 0,this.rrt=void 0,this._et=t,this.PR=!1,this.wet=!1,this.yet=0,this.met=0,this.ket=0,this.pet=0,this.Aet=0,this.bet=vL.Ret,this.Tet=[],this.um=0,this.Zit=0,this.Eet=0,this.nrt=!1,this.trt=!1,this.irt=iL,this.rrt=nL,this.Iet()}var n=t.prototype;return n.Net=function(t,n,i,r,e,s,u){this.PR=t,this.met=n,this.yet=i,this.ket=r,this.wet=e,this.pet=s,this.Aet=u},n.Iet=function(){this.Tet=[];for(var t=0;t<yL;t++)this.Tet.push(this.Cet())},n.Cet=function(){for(var t=[],n=0;n<wL;n++)t.push(null);return t},n.Det=function(t){this.Oet()&&(this.Tet[this.Zit][this.Eet]=new _L(t,this.trt,this.nrt,this.rrt,this.irt),this.Eet++)},n.Kz=function(){this.Oet()&&(this.Eet<=0&&this.Zit<=0||(this.Eet<=0?(this.Eet=this.Aet-1,this.Zit--):this.Eet--,this.Tet[this.Zit][this.Eet]=null))},n.Oet=function(){var t=this.Zit<this.pet&&this.Zit>=0,n=this.Eet<this.Aet&&this.Eet>=0;return t&&n},n.xet=function(){return this.PR},n.Pet=function(t){for(var n=0,i=t;i<yL;i++,n++)this.Tet[n]=this.Tet[i];for(var r=0;r<t;r++,n++)this.Tet[n]=this.Cet()},n.Bet=function(){if(this.Zit+1>=this.pet)return this.Pet(1),void(this.Eet=0);this.Zit++,this.Eet=0},n.Let=function(){this.Tet[this.Zit]=this.Cet(),this.Eet=0},n.ert=function(t,n){if(this.um>=t)return null;var i=tL.jit(this.Tet,this.um,t);return i?(this.fnt(t),{jy:i,zf:"svc"+n,IG:n}):null},n.Met=function(t,n){this.Zit=t,this.Eet=n},n.Uet=function(t){this.rrt=t},n.Fet=function(t){this.irt=t},n.Het=function(t){this.trt=t},n.Vet=function(t){this.nrt=t},n.Xet=function(){this.Zit=0,this.Eet=0,this.trt=!1,this.nrt=!1,this.irt=iL,this.rrt=nL},n.Wet=function(t){this.bet=t},n.qet=function(){this.PR=!0},n.iy=function(){this.PR=!1},n.zet=function(){this.PR=!this.PR},n.fnt=function(t){this.um=t},t}();!function(t){t[t.Get=0]="Get",t[t.jet=1]="jet",t[t.Ret=2]="Ret",t[t.Qet=3]="Qet"}(vL||(vL={}));var wL=42,yL=15,mL=function(){function t(t){this.Yet=void 0,this.Zet=void 0,this.Jet=void 0,this.Yet=t,this.Zet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],this.Jet=void 0}var n=t.prototype;return n.$et=function(t){var n=t.Ket(),i=n.fs,r=n.i8;i===TL&&(i=i<<16|t.Ket().fs);return i>=0&&i<=31?this.tst(i,r):i>=128&&i<=159?this.nst(t,i,r):(i>=4096&&i<=4127?this.ist(t,255&i):i>=4224&&i<=4255?this.rst(t,255&i):i>=32&&i<=127?this.est(i):i>=160&&i<=255?this.sst(i):i>=4128&&i<=4223?this.ust(255&i):i>=4256&&i<=4351&&this.ost(255&i),null)},n.est=function(t){this.Jet&&(127!==t?this.Jet.Det(String.fromCharCode(t)):this.Jet.Det("\u266a"))},n.sst=function(t){this.Jet&&this.Jet.Det(String.fromCharCode(t))},n.ust=function(t){if(this.Jet)if(void 0!==EL[t]){var n=EL[t];this.Jet.Det(n)}else this.Jet.Det("_")},n.ost=function(t){this.Jet&&(160===t?this.Jet.Det("[CC]"):this.Jet.Det("_"))},n.tst=function(t,n){if(!this.Jet)return null;var i=this.Jet,r=null;switch(t){case kL:i.Kz();break;case AL:i.xet()&&(r=i.ert(n,this.Yet)),i.Bet();break;case bL:i.xet()&&(r=i.ert(n,this.Yet)),i.Let();break;case pL:i.xet()&&(r=i.ert(n,this.Yet)),i.Iet(),i.Met(0,0)}return r},n.nst=function(t,n,i){if(n>=128&&n<=135){var r=7&n;this.hst(r)}else{if(136===n){var e=t.Ket().fs;return this.ast(e,i)}if(137===n){var s=t.Ket().fs;this.cst(s,i)}else{if(138===n){var u=t.Ket().fs;return this.fst(u,i)}if(139===n){var o=t.Ket().fs;return this.vst(o,i)}if(140===n){var h=t.Ket().fs;return this.dst(h,i)}if(143===n)return this.Cl(i);if(144===n)this.lst(t);else if(145===n)this._st(t);else if(146===n)this.Met(t);else if(151===n)this.gst(t);else if(n>=152&&n<=159){var a=(15&n)-8;this.Net(t,a,i)}}}return null},n.ist=function(t,n){n>=8&&n<=15?t.xk(1):n>=16&&n<=23?t.xk(2):n>=24&&n<=31&&t.xk(3)},n.rst=function(t,n){n>=128&&n<=135?t.xk(4):n>=136&&n<=143&&t.xk(5)},n.hst=function(t){this.Zet[t]&&(this.Jet=this.Zet[t])},n.wst=Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<8)){t.next=10;break}if(!(1==(1&n))||!this.Zet[i]){t.next=6;break}return t.next=6,i;case 6:n>>=1;case 7:i++,t.next=1;break;case 10:case"end":return t.stop()}},t,this)}),n.ast=function(t,n){for(var i=null,r=0,e=this.wst(t);r<e.length;r++){var s=e[r],u=this.Zet[s];u.xet()&&(i=u.ert(n,this.Yet)),u.Iet()}return i},n.cst=function(t,n){for(var i=0,r=this.wst(t);i<r.length;i++){var e=r[i],s=this.Zet[e];s.xet()||s.fnt(n),s.qet()}},n.fst=function(t,n){for(var i=null,r=0,e=this.wst(t);r<e.length;r++){var s=e[r],u=this.Zet[s];u.xet()&&(i=u.ert(n,this.Yet)),u.iy()}return i},n.vst=function(t,n){for(var i=null,r=0,e=this.wst(t);r<e.length;r++){var s=e[r],u=this.Zet[s];u.xet()?i=u.ert(n,this.Yet):u.fnt(n),u.zet()}return i},n.dst=function(t,n){for(var i=null,r=0,e=this.wst(t);r<e.length;r++){var s=e[r],u=this.Zet[s];u.xet()&&(i=u.ert(n,this.Yet)),this.Zet[s]=void 0}return i},n.Cl=function(t){var n=this.dst(255,t);return this.sh(),n},n.sh=function(){this.Jet=void 0,this.Zet=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0]},n.lst=function(t){t.xk(1);var n=t.Ket().fs;if(this.Jet){var i=(128&n)>0,r=(64&n)>0;this.Jet.Vet(i),this.Jet.Het(r)}},n._st=function(t){var n=t.Ket().fs,i=t.Ket().fs;if(t.xk(1),this.Jet){var r=3&n,e=(12&n)>>2,s=(48&n)>>4,u=3&i,o=(12&i)>>2,h=(48&i)>>4,a=this.yst(s,e,r),c=this.yst(h,o,u);this.Jet.Fet(a),this.Jet.Uet(c)}},n.Met=function(t){var n=t.Ket().fs,i=t.Ket().fs;if(this.Jet){var r=15&n,e=63&i;this.Jet.Met(r,e)}},n.gst=function(t){t.xk(1),t.xk(1);var n=t.Ket().fs;if(t.xk(1),this.Jet){var i=3&n;this.Jet.Wet(i)}},n.Net=function(t,n,i){var r=void 0!==this.Zet[n];if(!r){var e=new gL(n);e.fnt(i),this.Zet[n]=e}var s=t.Ket().fs,u=t.Ket().fs,o=t.Ket().fs,h=t.Ket().fs,a=t.Ket().fs,c=t.Ket().fs,f=(32&s)>0,v=127&u,d=(128&u)>0,l=o,_=1+(15&h),g=(240&h)>>4,w=1+(63&a);r&&0===(7&c)||this.Zet[n].Xet(),this.Zet[n].Net(f,v,l,g,d,_,w),this.Jet=this.Zet[n]},n.yst=function(t,n,i){var r={0:0,1:0,2:1,3:1};return SL[r[t]<<2|r[n]<<1|r[i]]},t}(),kL=8,pL=12,AL=13,bL=14,TL=16,EL={32:" ",33:"\xa0",37:"\u2026",42:"\u0160",44:"\u0152",48:"\u2588",49:"\u2018",50:"\u2019",51:"\u201c",52:"\u201d",53:"\u2022",57:"\u2122",58:"\u0161",60:"\u0153",61:"\u2120",63:"\u0178",118:"\u215b",119:"\u215c",120:"\u215d",121:"\u215e",122:"\u2502",123:"\u2510",124:"\u2514",125:"\u2500",126:"\u2518",127:"\u250c"},SL=["black","blue","green","cyan","red","magenta","yellow","white"],RL=function(){function t(){this.mst=void 0,this.kst=void 0,this.pst=void 0,this.mst=[],this.kst=null,this.pst=0}var n=t.prototype;return n.Ast=function(t){if(t.io===CN.Pz){var n=63&t.fs;return this.pst=2*n-1,void(this.kst=[])}if(this.kst&&(this.pst>0&&(this.kst.push(t),this.pst--),0===this.pst)){var i=new IL(this.kst);this.mst.push(i),this.kst=null,this.pst=0}},n.bst=function(){return this.mst},n.Tst=function(){this.mst=[]},n.sh=function(){this.mst=[],this.kst=[],this.pst=0},t}(),IL=function(){function t(t){this.Est=void 0,this.Sst=void 0,this.Est=0,this.Sst=t}var i=t.prototype;return i.Rst=function(){return this.Est<this.Sst.length},i.Ist=function(){return this.Est},i.Ket=function(){if(!this.Rst())throw new Io(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");return this.Sst[this.Est++]},i.xk=function(t){if(this.Est+t>this.Sst.length)throw new Io(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Buffer read out of bounds / invalid CEA-708 Data.");this.Est+=t},t}(),NL=function(){function t(){this.Nst=void 0,this.Cst=void 0,this.Dst=void 0,this.Ost=void 0,this.xst=void 0,this.Pst=void 0,this.Bst=void 0,this.Lst=void 0,this.Mst=!1,this.Nst=[],this.Cst=[],this.Dst=new RL,this.Ost=0,this.xst=ee({CC1:new cL(0,0),CC2:new cL(0,1),CC3:new cL(1,0),CC4:new cL(1,1)}),this.Pst=0,this.Bst=0,this.Lst=re(),this.Cl()}var i=t.prototype;return i.sh=function(){this.Ost=0,this.Nst=[],this.Cst=[],this.Dst.sh(),this.Cl(),this.Lst.forEach(function(t){t.sh()})},i.Cl=function(){this.Pst=0,this.Bst=0,this.xst.forEach(function(t){t.Cl()})},i.D4=function(t,n){if(t.oj){var i=t.aj,r=t.cj,e=t.io;e===CN.Dz||e===CN.Oz?this.Nst.push({i8:n,io:e,net:i,Frt:r,Ust:this.Nst.length}):this.Mst&&(this.Cst.push({i8:n,io:e,fs:i,Ust:this.Cst.length}),this.Cst.push({i8:n,io:CN.xz,fs:r,Ust:this.Cst.length}))}},i.dC=function(){var t=[];Xe(this.Nst,function(t,n){return t.i8-n.i8||t.Ust-n.Ust}),Xe(this.Cst,function(t,n){return t.i8-n.i8||t.Ust-n.Ust});for(var n=0,i=this.Nst;n<i.length;n++){var r=i[n],e=this.Fst(r);e&&t.push(e)}for(var s=0,u=this.Cst;s<u.length;s++){var o=u[s];this.Dst.Ast(o)}for(var h=this.Dst.bst(),a=0;a<h.length;a++){var c=h[a],f=this.Hst(c);t.push.apply(t,f)}return this.Dst.Tst(),this.Nst=[],this.Cst=[],t},i.Fst=function(t){var n=t.io;if(cL.aet(t.net)){var i=t.net>>3&1;0===n?this.Pst=i:this.Bst=i}var r="CC"+(n<<1|(n?this.Bst:this.Pst)+1),e=this.xst.get(r);return 255===t.net&&255===t.Frt||!t.net&&!t.Frt||!this.Vst(t.net)||!this.Vst(t.Frt)?(++this.Ost>=45&&this.Cl(),null):(this.Ost=0,t.net&=127,t.Frt&=127,t.net||t.Frt?cL.aet(t.net)?e.tet(t):e.$rt(t.i8,t.net,t.Frt):null)},i.Hst=function(t){var i=[];try{for(;t.Rst();){var r=t.Ket().fs,e=(224&r)>>5,s=31&r;if(7===e&&0!==s)e=63&t.Ket().fs;if(0!==e){if(!this.Lst.has(e)){var u=new mL(e);this.Lst.set(e,u)}for(var o=this.Lst.get(e),h=t.Ist();t.Ist()-h<s;){var a=o.$et(t);a&&i.push(a)}}}}catch(t){if(!(t instanceof Io&&t.code===n.ErrorCode.SUBTITLE_PARSE_ERROR))throw t}return i},i.Vst=function(t){for(var n=0;t;)n^=1&t,t>>=1;return 1===n},t}(),CL=function(t){function n(n){var i;return(i=t.call(this)||this).R$=void 0,i.Xst=[],i.R$=n,i}F(n,t);var i=n.prototype;return i.Wst=function(t,n,i){var r=this.qst(t),e=this.zst(r);this.Gst(e,n,i),this.dC()},i.qst=function(t){if(0===t.length)return[];for(var n=t[0]._8,i=this.jst(t[0]),r=[],e=0;e<t.length;e++){var s=t[e];n!==s._8&&(n=s._8,i=this.jst(s)),r.push(te({},s,{Git:s.w3.vg(i)}))}return r},i.jst=function(t){var n=this.R$.W2(t._8,t.w3),i=n.fg(t.w3);return Mg(n,t.w3).fg(i)},i.zst=function(t){var n,i,r,e,s,u=t.slice().sort($B),o=this.Xst;if(o.length)if(u.length){var h=1/u[0]._8.S$,a=u[0].Git,c=o[0].Git,f=o[o.length-1].Git,v=(e=o[0]._8,s=u[0]._8,e.HJ===s.HJ);if(f.fg(a).og(N_.ew(2.5*h))&&v)n=o.concat(u).sort($B);else if(a.ig(c)){for(var d=0;d<o.length&&o[d].Git.og(a);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<u.length;g++,w++)i=o[g],r=u[w],i.w3.ug(r.w3)&&i.io===r.io&&i.aj===r.cj?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(u).sort($B):y?n=o.slice(0,d).concat(u):(n=u,m&&this.Cl())}else n=u,this.Cl()}else n=o;else n=u;return n},i.Gst=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.fg(r.Git),s=Mg(n,r.Git).fg(e),u=n.vg(s),o=JB.$g(u.jg),h=0;h<t.length;h+=1){var a=t[h];if(!i&&u.fg(a.Git).og(o))return void(this.Xst=t.slice(h));var c=this.R$.W2(a._8,a.w3);this.uj(a,c.K_())}this.Xst=[]}},M(n,[{key:"$p",get:function(){return 4}}]),n}(function(t){function n(){var n;return(n=t.call(this)||this).Qst=void 0,n.Qst=new NL,n}F(n,t);var i=n.prototype;return i.uj=function(t,n){this.Qst.D4(t,n)},i.dC=function(){for(var t=this.Qst.dC(),n=0;n<t.length;n++){var i=t[n];this.xo(new hC(i.IG,i.jy))}},i.Cl=function(){this.Qst.sh()},i.Lv=function(){this.Mo(),this.Qst.sh()},n}(bs)),DL=function(t){function n(n,i,r,e,s,u,o,h,a,c){var f;return(f=t.call(this)||this).Yst=!1,f.Zst=!1,f.H5=void 0,f.o0=void 0,f.Jst=void 0,f.git=void 0,f.$st=void 0,f.Att=void 0,f.Wh=void 0,f.lb=void 0,f.Kst=void 0,f.tut=!1,f.nut=void 0,f.iut=void 0,f.rut=!1,f.eut=!1,f.sut=null,f.VI=void 0,f.U$=void 0,f.uut=void 0,f.out=null,f.Yy=-1,f.hut=null,f.aut=!1,f.cut=!1,f.fut=1/0,f.vut=void 0,f.dut=null,f.lut=0,f._ut=void 0,f.Oo=function(t){f.dispatchEvent(t)},f.gut=function(){!f.tut&&!f.rut&&f.wut&&f.Yst&&(f.rut=f.yut("yJ",f.nut,function(){f.rut=!1}))},f.mut=function(){!f.tut&&!f.eut&&f.kut&&f.Zst&&(f.eut=f.yut("mJ",f.iut,function(){f.eut=!1}))},f.Aut=function(t){return f.but()},f.Tut=function(t){if(t.Ep===f.Ep){var n=t._8,i=n.f4;i.o3&&f.Eut(i.o3,n.info),i.d3&&f.Sut(i.d3,n.info),f.but(f.H5.j5,!0)}},f.NK=function(t){var n=t;f.Rut(n.T$,n.HJ)},f.Iut=function(t){if(1===t.IG){if(f.out)for(var n=0;n<f.out.$p;n++){var i="CC"+(n+1);f.o0.rK(i,t.jy.Qy,t.jy.Yy)}f.o0.iK(t.jy)}},f.VI=a,f.o0=i,f.Jst=r,f.git=e,f.$st=s,f.Att=u,f.Wh=o,f.H5=c,f.lb=new NB(o),f.Kst=f.Nut(i),e.Rl(n,f.lb,f.Att),f.nut=new wB(u,f.lb),f.iut=new wB(u,f.lb),f.out=f.Cut(f.lb),f._ut=new jB(n,f.lb,f.Kst,e),e.addEventListener("l8",f.Tut),f.lb.addEventListener("Qo",f.Oo),i.addEventListener("gK",f.NK),f}F(n,t);var i=n.prototype;return i.yut=function(t,n,i){var r=this,e=this.Att.Z5,s=5*this.Att.W_,u=this.Dut(),o="audio"===this.Ep?[this.Out]:this.Kst.gJ,h=n.Utt(),a=h[0],c=h[1],f=this.git.H8(this.Ep,t,this.lb,o,a,c||void 0,e,s,u);return f&&!f.length&&f.R8?(this.Att.xut("yJ"===t,"mJ"===t),!1):!(!f||!f.length)&&(this.$st.E9(this.Ep,this.o0,f,f.I8,f.L8,f.R8,function(t,e){if(i(),t)r.dispatchEvent({type:"Qo",Qo:t});else{var s=e;n.Ntt(s).then(function(){return r.dispatchEvent("g0")}).catch(function(t){0})}}),!0)},i.Put=function(){this.$st.Eo(this.Ep),this.rut=!1,this.eut=!1},i.But=function(){var t=this.Att.Z5,n=this.nut.Ptt(t)||this.iut.Ptt(t);!n||this.sut&&this.sut.ZY===n.ZY||(this.but(this.H5.j5),this.sut=n,this.dispatchEvent({type:"Lut",mb:this.sut.dh.v4}))},i.Mut=function(){this.Uut()},i.Fut=function(){this.Mut()},i.Hut=function(){this.but(this.H5.j5)},i.Vut=function(t,n){this.nut.Ptt(t)||this.iut.Ptt(t)||(this.sut=null)},i.Xut=function(t){var n=!1;this.nut.Mtt().Cy(t)||(this.gut(),n=!0),this.iut.Mtt().Cy(t)||(this.mut(),n=!0),n&&this.but(this.H5.j5,!0)},i.Wut=function(){this.nut.sh()},i.qut=function(){this.iut.sh()},i.Dut=function(){return 0===this.nut.Ol+this.iut.Ol?0:"A8"===this.Wh.b8?0:1*this.git.Q5},i.Uut=function(){this.gut(),this.mut()},i.i0=function(t){return-1!==this.Kst.gJ.indexOf(t)},i.zut=function(t){t&&this.i0(t)&&(this.C$(t),this.lK(t))},i.C$=function(t){this.lb.Nnt(t,t.yZ)},i.lK=function(t){var n=this;if(t&&t.yZ&&this.Wh.hlsDateRange){this.o0.lK(t.yZ.dateRanges,function(i){return n.lb.Vnt(t,i).K_()})}},i.Gut=function(t){this.i0(t.HJ)&&this.lb.rnt(t.HJ,t)},i.jut=function(t){var n,i,r,e=t,s=this.nut.Ptt(e)||this.iut.Ptt(e);if(s)i=s.dh.quality,r=s.ZY,n=s.WR;else{var u=this.Out;if(!u)return null;var o=this.lb.P8(u,N_.ew(e));if(!o)return null;i=u,r=o.xp.ZY,n=o.Hnt.K_()}var h=this.lb.Fnt(i,r);if(!h)return null;var a=e-n;return new Date(h.getTime()+1e3*a)},i.Vnt=function(t){var n=this.Out;return this.lb.Vnt(n,t).K_()},i.but=function(t,n){var i=this,r=this.Qut(),e=this.Att.Z5;t&&(this.Yy=e+t,n&&(this.dut=null,this.lut=0)),this.Qut()||e>=this.Yy?this.Yut(r):this.hut||this.aut||!this.Vl||(this.Zut(),this.Jut(function(t){return i.$ut(e,i.Att.W_,t)}))},i.Kut=function(t){t&&this.Jst.removeEventListener(t.uri,this.Aut)},i.tot=function(t){t&&this.Jst.addEventListener(t.uri,this.Aut)},i.Qut=function(){return-1===this.Yy},n.iot=function(t){return cD.bw(t.HJ.KJ)&&qb()-t.lp>2e3*t.HJ.yZ.metadata._7},i.Jut=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.hut=new es,r=this.hut,t.prev=3,t.next=6,n(r.Io);case 6:i=t.sent,os(r.Io),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),as(t.t0);case 13:return t.prev=13,this.hut===r&&(this.hut=null),t.finish(13);case 16:i&&this.but();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.Zut=function(){this.hut&&(this.hut.Eo(),this.hut=null)},i.rot=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.eot=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!ML.iot(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("sot"));case 2:if(i=_.min(16e3,1e3*_.pow(2,this.lut)),this.lut+=1,this.Zut(),!(this.lut>2)){t.next=8;break}return n.HJ.XJ(!1),t.abrupt("return",n.HJ.GJ());case 8:this.Jut(function(t){return ys(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Eut=function(t,n){var i,r;r=CD((i=t).h3,4),i.nK="0000.0000.0000."+r,function(t){var n=CD(t.a3,4),i=CD(t.c3,3),r=CD(t.f3,2*t.c3);t.Kl=(n+i+r).toUpperCase()}(t),yB(n,this.lb,t),this.o0.tK(t,this.lb)},i.Sut=function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push(te({},e,{_8:n}))}this.out&&this.out.Wst(i,n.C5,n.w4)},i.uot=function(t){this.vut&&this.vut._8===t&&this.but()},i.oot=function(t,n){if(n){if(n.aborted)return;if(this.dut===t)return this.eot(t)}else t.HJ.XJ(!0);return this.but()},i.hot=function(t){var n=mD(t.HJ.T$);n&&this.dispatchEvent(new YB(vD(t.uri),t.HJ.bandwidth||0,t.ZY,t.HJ.ZY,n))},i.aot=function(t,n){var i=this.vut&&this.vut.cv.P1||200,r=mD(t.HJ.T$);r&&this.dispatchEvent(new ZB(vD(t.uri),t.HJ.bandwidth||0,t.ZY,t.HJ.ZY,r,i,n&&n.O1.J1||0))},i.Yut=function(t){this.Yy=-1,t||this.dispatchEvent("cot")},i.fot=function(t){this.cut=!0,this.Yut(t),this.dispatchEvent("O0")},i.$ut=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(r),e=this.Out,s=this.Qut(),this.Kut(e||void 0),!(n>=this.Yy)){t.next=7;break}return this.Yut(s),t.abrupt("return",!1);case 7:return t.next=9,this._ut.Xit(n,this.Yy,i,e||void 0,this.Dut(),this.vut&&this.vut.cv,this.vut&&this.vut._8,this.vot,this.dot);case 9:if(u=t.sent,vl.l_(this.git.C6/8),os(r),u.ql!==PB.lit){t.next=18;break}return this.Zut(),this.dispatchEvent("sot"),t.abrupt("return",!1);case 18:if(u.ql!==PB.dit){t.next=29;break}if(u.HJ!==e){t.next=24;break}return this.tot(e),t.abrupt("return",!1);case 24:return t.next=26,this.rot(u.HJ,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(u.ql!==PB.a9){t.next=33;break}return this.tot(e||void 0),!cD.bw(e.KJ)&&e.yZ&&this.fot(s),t.abrupt("return",!1);case 33:if(o=u.xp,!this.vut||this.vut._8!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.HJ===e){t.next=40;break}return t.next=39,this.rot(o.HJ,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.vut&&(this.vut.cv.Eo(),this.vut=void 0),!(u.Qy>this.fut)){t.next=46;break}return this.fot(s),t.abrupt("return",!1);case 46:if(!(u.Qy>this.Yy)){t.next=49;break}return this.Yut(s),t.abrupt("return",!1);case 49:if(this.cut=!1,this.vut=void 0,o!==this.dut&&(this.lut=0),this.dut=o,this.dispatchEvent("D0"),this.hot(o),!o.c7){t.next=59;break}return t.next=58,this.git.v8(this.Ep,o.HJ,o.c7);case 58:h=t.sent;case 59:return(a=this.git.d8(this.Ep,o,h,function(t,n){c.Zut(),c.aot(o,n),c.vut=void 0,r&&r.do||c.oot(o,t)}))&&(this.vut={_8:o,cv:a},a.addEventListener("g0",function(){r&&r.do||c.uot(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.lot=function(t){this.but(t||this.H5.j5,!0)},i._ot=function(){var t=this.Qut();this.Yy=-1,this.vut&&this.vut.cv.Eo(),this.vut=void 0,this.Kut(),this.cut=!1,this.dut=null,this.lut=0,this.Zut(),this.Yut(t),this.out=this.Cut(this.lb)},i.got=function(){this.aut=!0,this.Kut(),this.Zut()},i.wot=function(){this.aut=!1,this.but()},i.yot=function(){this.tut=!0},i.mot=function(){this.tut=!1,this.Uut()},i.Lv=function(){this.Mo(),this._ot(),this.Put(),this.wut=null,this.kut=null,this.nut.Lv(),this.iut.Lv(),this.$st.Eo(this.Ep),this.lb.Lv(),this.o0.removeEventListener("gK",this.NK),this.git.removeEventListener("l8",this.Tut),this.Kst=null,this.kot()},i.Cl=function(){this.sut=null,this.U$=void 0,this.uut=void 0,this.kot(),this.out=this.Cut(this.lb)},i.Cut=function(t){var n=new CL(t);return n.Po("NG",this.Iut),n},i.kot=function(){this.out&&(this.out.Uo("NG",this.Iut),this.out.Lv(),this.out=null)},M(n,[{key:"M_",get:function(){return this.Att.Z5}},{key:"pot",get:function(){return this.Yst}},{key:"Ep",get:function(){return this.Aot()}},{key:"n$",get:function(){return this.bot()}},{key:"vot",get:function(){return this.Tot()}},{key:"dot",get:function(){return this.Eot()}},{key:"wut",get:function(){return this.nut.xtt},set:function(t){var n=this.nut.xtt;n&&n.removeEventListener("updateend",this.gut),this.nut.xtt=t,t&&(t.addEventListener("updateend",this.gut),this.gut())}},{key:"kut",get:function(){return this.iut.xtt},set:function(t){var n=this.iut.xtt;n&&n.removeEventListener("updateend",this.mut),this.iut.xtt=t,t&&(t.addEventListener("updateend",this.mut),this.mut())}},{key:"cot",get:function(){return this.Qut()}},{key:"O0",get:function(){return this.cut}},{key:"Sot",get:function(){return this.fut},set:function(t){this.fut=t}},{key:"Out",get:function(){return this.Rot()}},{key:"Iot",get:function(){return this.Not()},set:function(t){this.Cot(t)}},{key:"Vl",get:function(){return this.Dot()}},{key:"Ey",get:function(){return this.Oot()}}]),n}(qC);function OL(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function xL(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,s=0;s<n.length;s++){OL(r,n[s])&&(e=!0)}e||n.push(r)}return n}function PL(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var s=n.indexOf(".aac",e-4);return 0<=s&&s<e}var BL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).o0=void 0,o.lb=void 0,o.git=void 0,o.Wh=void 0,o.xot=void 0,o.Pot=void 0,o.Bot=null,o.Lot=null,o.Mot=null,o.Uot=null,o.Fot=null,o.Hot=null,o.Vot=null,o.Xot=!1,o.By=!0,o.IJ=!0,o.Wot=null,o.VI=void 0,o.qot=function(){o.Wot&&o.Wot.disabled&&o.zot(o.Wh.initialRendition||"default"),o.Got(!0)},o.jot=function(){var t=o.o0.bK.wJ.some(function(t){return t.Ey});o.Qot(t)},o.Yot=function(t){"variant"===t.Ep&&(o.git.removeEventListener("k8",o.Yot),o.Wot&&(o.Wot=null,o.Got(!1)))},o.VI=u,o.o0=n,o.lb=i,o.git=r,o.Wh=e,o.xot=e.Zot||[],o.Pot=new hB(e,eO.je.n1,s),o.Bot=null,o.git.addEventListener("k8",o.Yot),o.Jot(),o.$ot(),o.zot(e.initialRendition||"default"),o}F(n,t);var i=n.prototype;return i.Kot=function(t,n){var i=gD(t);if(i&&!i.disabled)return i;var r=this.tht(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.ZY<=n.ZY?t:n});case"high":var e=xL(r);return e[e.length-1];case"low":default:return xL(t)[0]}},i.nht=function(t,n){var i=this.iht||this.Wot&&[this.Wot],r=i&&i.filter(function(n){return Ze(t,n)});return r&&r.length>0?xL(r):xL(this.tht(t,n))},i.tht=function(t,n){var i=this.Wh,r=this.xot,e=this.rht();return t.filter(function(t){for(var s=0;s<r.length;s++){if(!r[s].eht(t,n,e,i))return!1}return!0})},i.sht=function(t,n){var i=this.nht(t,n);return i.length?i[i.length-1]:t[0]},i.uht=function(t,n){var i=this.iht;return i&&i.length>0?i.filter(function(n){return Ze(t,n)}):t},i.oht=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Uot,e=this.Fot,!r||n!==this.Hot||i!==this.Vot){t.next=4;break}return t.abrupt("return",r);case 4:return s=new es,u=this.hht(n,i,s.Io),r&&e&&e.Eo(),this.Uot=u,this.Fot=s,this.Vot=i,t.prev=10,t.next=13,u;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,u===this.Uot&&(this.Uot=null,this.Fot=null,this.Vot=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.hht=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.o0,s=this.lb,u=e.AK,t.next=5,this.aht(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=s.uit(u,i.ZY),h=s.P8(n,o),cD.bw(u.KJ)||h){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.aht=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.Lot,e=this.Mot,!r||n!==this.Hot){t.next=4;break}return t.abrupt("return",r);case 4:return(s=new es).So(i),u=this.cht(n,s.Io),r&&e&&e.Eo(),this.Lot=u,this.Mot=s,this.Hot=n,t.prev=11,t.next=14,u;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,u===this.Lot&&(this.Lot=null,this.Mot=null,this.Hot=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.cht=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.o0,e=r.AK,!this.Vl||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.fht(n)){t.next=8;break}s=n.yZ,t.next=22;break;case 8:return t.prev=8,t.next=11,this.Pot.xh(n.uri,{});case 11:u=t.sent,os(i),s=u.Rw,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.UJ(!1),n.GJ(),t.abrupt("return",!1);case 21:n.PJ(s,e);case 22:if(!PL(s.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.fht=function(t){var n=t.yZ;return!n||!!n.live&&(!t.gZ.Ol||t.gZ.tZ(t.gZ.Ol-1).lp+1e3*n.targetDuration<qb())},i.My=function(t){t?this.By||(this.By=!0,this.dispatchEvent("Vl")):this.By&&(this.By=!1)},i.Qot=function(t){t&&!this.IJ?(this.IJ=!0,this.dispatchEvent("Ey")):!t&&this.IJ&&(this.IJ=!1,this.dispatchEvent("Xv"))},i.Got=function(t){var n=this,i=this.o0,r=i.AK,e=i.bK.wJ,s=this.uht(e,r),u=this.sht(s,r);u?this.oht(u,null).then(function(r){r&&(i.eK(u,t),n.My(!0))}):this.My(!1)},i.vht=function(){this.Wot=null,this.Got(!0)},i.$ot=function(){this.o0.bK.addEventListener("dJ",this.jot)},i.dht=function(){this.o0.bK.removeEventListener("dJ",this.jot)},i.Jot=function(){this.o0.bK.addEventListener("fJ",this.qot)},i._ht=function(){this.o0.bK.removeEventListener("fJ",this.qot)},i.zot=function(t){var n=this.o0,i=n.bK.wJ;if(Boolean(n.AK&&!n.AK.disabled))this.Wot=null;else{if(i&&i.length){var r;switch(this.VI.mx.type){case XT.PERFORMANCE:r="low";break;case XT.QUALITY:r="high";break;case XT.BANDWIDTH:r=t}this.Wot=this.Kot(i,r),this.Xot=!0}var e=this.uht(i,null),s=this.sht(e,null);s&&(n.AK=s)}},i.rht=function(){return this.Xot?{C6:this.git.C6}:{C6:this.VI.Cx}},i.Eo=function(){this.Uot&&this.Fot&&(this.Fot.Eo(),this.Uot=null,this.Fot=null,this.Vot=null),this.Lot&&this.Mot&&(this.Mot.Eo(),this.Lot=null,this.Mot=null,this.Hot=null)},i.Lv=function(){this.git.removeEventListener("k8",this.Yot),this._ht(),this.dht(),this.Eo(),this.Bot=null,this.Wot=null},i.ght=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.o0,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.oht(n,i);case 5:return(e=t.sent)&&(r.AK=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),M(n,[{key:"Vl",get:function(){return this.By}},{key:"Ey",get:function(){return this.IJ}},{key:"dot",get:function(){var t=this.o0,n=t.AK,i=this.uht(t.bK.wJ,n);return this.nht(i,n)}},{key:"vot",get:function(){return this.uht(this.o0.bK.wJ,this.o0.AK)}},{key:"iht",get:function(){return this.Bot},set:function(t){this.Bot=t,this.vht()}}]),n}(qC),LL=function(){function t(t,n){this.nl=void 0,this.lb=void 0,this.wht=-1,this.nl=t,this.lb=n}return t.prototype.Bh=function(t){for(var n=t.gZ,i=n.KY(this.wht),r=i<0?0:i+1;r<n.Ol;r++){var e=n.tZ(r);if(e.ZY>this.wht){var s=this.lb.F2(e),u=this.lb.H2(e,s),o=new kg(s.K_(),u.K_(),[].concat(e.QJ),!1,e.ZY.toString());this.nl.Hb(o),this.wht=e.ZY}}},t}(),ML=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,hD.rJ,n,i,r,e,s,u,o,h,a)||this).yht=void 0,c.mht=null,c.kht=null,c.yht=new BL(n,c.lb,r,u,o,h),c.yht.addEventListener("Vl",c.Oo),c.yht.addEventListener("Ey",c.Oo),c.yht.addEventListener("Xv",c.Oo),u.manifestMetadataTrack&&(c.mht=n.K$("",c.lb,""),c.kht=new LL(c.mht,c.lb)),c.Yst=!c.o0.fK||!c.o0.fK.uri,c.Zst=Boolean(c.o0.AK),c}F(n,t);var i=n.prototype;return i.Rut=function(t,n){if("yJ"===t){var i=n?n.uri:void 0;this.Yst=!i}},i.Aot=function(){return hD.rJ},i.bot=function(){return this.Out&&this.Out.n$||!1},i.Rot=function(){return this.o0.AK},i.Tot=function(){return this.yht.vot},i.Eot=function(){return this.yht.dot},i.Not=function(){var t=this.yht.iht;return t&&t.map(function(t){return t.Xl})},i.Cot=function(t){if(t&&t.length>0){var n=this.Kst.gJ.filter(function(n){return-1!==t.indexOf(n.Xl)});if(!(n.length>0))return void 0;this.yht.iht=n}else this.yht.iht=null},i.Dot=function(){return this.yht.Vl},i.Oot=function(){return this.yht.Ey},i.rot=function(){var n=E.coroutine(Kr.mark(function n(i,r){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.yht.ght(i,r);case 2:return n.abrupt("return",t.prototype.rot.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i._ot=function(){t.prototype._ot.call(this),this.yht.Eo()},i.C$=function(n){t.prototype.C$.call(this,n),this.kht&&this.kht.Bh(n)},i.Lv=function(){t.prototype.Lv.call(this),this.yht.Lv(),this.yht.removeEventListener("Ey",this.Oo),this.yht.removeEventListener("Xv",this.Oo)},i.Nut=function(t){return t.bK},i.pht=function(){var t=this.M_,n=this.pot?this.nut.Btt(t):void 0,i=n?n.HJ:void 0,r=this.iut.Btt(t),e=r?r.HJ:void 0,s=this.U$;this.U$=i;var u=this.uut;return this.uut=e,!s&&i?{wK:s,Aht:i}:!u&&e?{wK:u,Aht:e}:u&&e&&u.Xl!==e.Xl?{wK:u,Aht:e}:void 0},n}(DL),UL=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return(c=t.call(this,hD.Sv,n,i,r,e,s,u,o,h,a)||this).Yst=!!c.o0.fK&&!!c.o0.fK.uri,c.Zst=!1,c}F(n,t);var i=n.prototype;return i.Rut=function(t,n){if("yJ"===t){var i=n?n.uri:void 0;this.Yst=!!i}},i.Aot=function(){return hD.Sv},i.bot=function(){return this.Out&&this.Out.n$||!1},i.Rot=function(){return this.o0.fK},i.Tot=function(){var t=this.Rot();return t?[t]:[]},i.Eot=function(){return this.Tot()},i.Nut=function(t){return t.m$},i.Not=function(){return null},i.Cot=function(t){},i.Dot=function(){return!0},i.Oot=function(){return!0},i.pht=function(){var t=this.pot?this.nut.Btt(this.M_):void 0,n=t?t.HJ:void 0,i=this.U$;return this.U$=n||void 0,!i&&n?{wK:i,Aht:n}:i&&n&&i.Xl!==n.Xl?{wK:i,Aht:n}:void 0},n}(DL),FL=function(){function t(t,i,r,e,s,u){var o=this;this.bht=!1,this.aZ=void 0,this.Tht=void 0,this.q5=void 0,this.Eht=void 0,this.H5=void 0,this.Sht=nA.SI(),this.Rht=[],this.Iht=void 0,this.Nht=[],this.N$=function(){return o.Cht()},this.Dht=function(t){t.Rw.live||o.Tht.removeEventListener(o.aZ.XZ,o.Dht),o.aZ.PJ(t.Rw)},this.Oht=function(){o.aZ.O$.t_===$d.Yl?o.bht&&o.xht():o.bht||o.Pht()},this.ha=function(t){if(!us(t)){var i=t instanceof ay?t:new ay(n.ErrorCode.SUBTITLE_LOAD_ERROR,t.message,o.aZ.XZ,0,t);o.aZ.O$.n_=ig.ERROR,o.aZ.O$.xo(new Ay(i))}},this.aZ=t,this.Tht=i,this.q5=r,this.H5=u,this.Eht=new fO(e,s),this.Iht=new es,t.O$.Po(bd.ll,this.Oht),t.lb&&t.lb.addEventListener("x$",this.N$),this.Oht()}var i=t.prototype;return i.Pht=function(){this.bht||this.aZ.O$.t_===$d.Yl||(this.Tht.removeEventListener(this.aZ.XZ,this.Dht),this.Tht.addEventListener(this.aZ.XZ,this.Dht),this.Tht.stt(this.aZ.XZ),this.Tht.utt(this.aZ.XZ),this.bht=!0,this.Bht(this.Iht.Io).catch(this.ha))},i.Bht=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(n),t.next=4,this.Lht(n);case 4:t.next=0;break;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Lht=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a,c,f,v,d,l,_,g,w;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.q5.Z5,r=this.H5.j5,e=new nA([i,i+r]),(s=e.iI(this.Sht.rI())).Ol){t.next=9;break}return t.next=8,ys(1e3,n);case 8:return t.abrupt("return");case 9:if(u=s.WR(0),o=this.Mht(u)){t.next=15;break}return t.next=14,wd(this.aZ,"FJ",n);case 14:return t.abrupt("return");case 15:return h=o.xp,a=o.Hnt.K_(),c=a+h.duration,t.prev=18,t.next=21,this.Eht.c2("O$",h.uri,Yo.Je,Rf.lv,If.Je);case 21:f=t.sent,t.next=30;break;case 24:return t.prev=24,t.t0=t.catch(18),hs(t.t0),t.next=29,ys(1e3,n);case 29:return t.abrupt("return");case 30:t.prev=30,v=Kg(f),t.next=37;break;case 34:throw t.prev=34,t.t1=t.catch(30),ky(rg.WEBVTT,h.uri.toString(),0,t.t1);case 37:for(d=v.Im||{Nm:N_.pg,Cm:N_.pg},l=this.aZ.gZ.nZ(h.ZY),this.Sht=this.Sht.hI(new nA([a,c])),this.Rht.push(h.ZY),_=0,g=v.i_;_<g.length;_++)w=g[_],this.Nht.push({_8:l,Hnt:HL(N_.ew(w.Qy),d.Cm,d.Nm),Uht:HL(N_.ew(w.Yy),d.Cm,d.Nm),jy:w});this.Cht();case 43:case"end":return t.stop()}},t,this,[[18,24],[30,34]])}));return function(n){return t.apply(this,arguments)}}(),i.Cht=function(){var t=this.aZ.lb;if(this.Nht.length&&t){for(var n=[],i=0,r=this.Nht;i<r.length;i++){var e=r[i],s=t.W2(e._8,e.Hnt);if(s.dg())n.push(e);else{var u=t.W2(e._8,e.Uht),o=new Ag(s.K_(),u.K_(),e.jy.Zy,!1,e.jy.Xl);this.aZ.O$.Hb(o)}}this.Nht=n,this.aZ.O$.xH(this.q5.Z5,!0)}},i.Mht=function(t){var n=this.aZ.lb,i=this.aZ.gZ;if(n.Pnt)for(var r=n.qnt.K_(),e=i.Ol-1;e>=0;e-=1){var s=i.tZ(e),u=r-s.duration;if(new nA([u,r]).iR(t,.5)){var o={xp:s,Hnt:N_.ew(u)};return this.Fht(i,o,e)}r=u}else for(var h=0,a=0;a<i.Ol;a+=1){var c=i.tZ(a),f=h+c.duration;if(new nA([h,f]).iR(t,.5)){var v={xp:c,Hnt:N_.ew(h)};return this.Fht(i,v,a)}h=f}},i.Fht=function(t,n,i){var r=n.xp;if(-1===this.Rht.indexOf(r.ZY))return n;for(var e=n.Hnt.K_()+r.duration,s=i+1;s<t.Ol;s+=1){var u=t.tZ(s);if(-1===this.Rht.indexOf(u.ZY))return{xp:u,Hnt:N_.ew(e)};e+=u.duration}},i.xht=function(){this.bht=!1,this.Tht.ett(this.aZ.XZ),this.Iht.Eo(),this.Iht=new es},i.Cl=function(){this.xht(),this.Sht=nA.SI(),this.Rht.length=0,this.aZ.O$.Uo(bd.ll,this.Oht),this.aZ.lb&&this.aZ.lb.removeEventListener("x$",this.N$),this.Tht.removeEventListener(this.aZ.XZ,this.Dht)},t}();function HL(t,n,i){return Lg(i,t.fg(n))}var VL=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Wh=void 0,s.b0=void 0,s.git=void 0,s.$st=void 0,s.o0=void 0,s.Jst=void 0,s.Hht=void 0,s.Vht=NaN,s.Xht=!1,s.Wht=1/0,s.qht=1/0,s.zht=null,s.Ght=!0,s.jht=!0,s.Att=null,s.Bb=void 0,s.VI=void 0,s.Qht=void 0,s.Yht=void 0,s.Zht=[],s.ZF=function(){var t=s.o0.U_;y(t)||s.Vht===t||(s.Vht=t,s.dispatchEvent("durationchange"))},s.Jht=function(){s._0&&(s.o0.removeEventListener("renditionUpdated",s.Jht),s.dispatchEvent("_0"))},s.$ht=function(){s.cot&&s.dispatchEvent("cot")},s.Kht=function(){s.O0&&s.dispatchEvent("O0")},s.Oo=function(t){s.dispatchEvent(t)},s.tat=function(t){var n=s.o0.uK(t.ntt);n?n instanceof TD&&(n.UJ(!1),n.GJ()):s.dispatchEvent(t)},s.nat=function(t){s.o0.Rw||(t.Qo.code===GC.LY?(s.zht||(s.zht=h(s.iat,Jy)),s.jht=!1,s.VJ()):s.dispatchEvent({type:"Qo",Qo:t.Qo}))},s.rat=function(t){s.eat(),s.sat(t.Rw),s.uat(),s.o0.removeEventListener("aK",s.ZF),s.o0.addEventListener("aK",s.ZF),s.ZF(),s.Xht||(s.Xht=!0,s.dispatchEvent("loadedmetadata")),s.Jht(),s.jht=!0,s.VJ()},s.iat=function(){s.eat();var t=s.x0;t&&(s.Jst.Cl(),s.Jst.x0=t,s.Jst.WR())},s.oat=function(){s.Jst.ott()},s.hat=function(){s.aat.forEach(function(t){return t.mot()})},s.fat=function(t){s.vat.forEach(function(n){return n.zut(t.HJ)})},s.dat=function(t){s.aat.forEach(function(n){return n.Gut(t.m5)}),s.Hht.gtt(t.m5,s.aat.map(function(t){return t.lb}))},s.VJ=function(){var t=s.Ght,n=s.Oot();s.Ght=n,n&&!t?s.dispatchEvent("Ey"):!n&&t&&s.dispatchEvent("Xv")},s.VI=e,s.Wh=n,s.b0=i,s.Bb=r,s.git=new uP(n,i,r,sn(s)),s.$st=new XP(n),s.o0=new SD(n),s.Jst=new cB(r,n),s.Hht=new fB,s.Jst.addEventListener("Qo",s.tat),s.Jst.addEventListener("ttt",s.nat),s.Jst.addEventListener("itt",s.rat),s.git.addEventListener("l8",s.Oo),s.git.addEventListener("Qo",s.Oo),s.o0.addEventListener("gK",s.Oo),s.o0.addEventListener("FJ",s.fat),s.o0.addEventListener("L$",s.dat),s.o0.addEventListener("yK",s.Oo),s.Hht.addEventListener("ctt",s.Oo),s.Hht.addEventListener("ctt",s.hat),s.addEventListener("Ey",s.oat),s}F(n,t);var i=n.prototype;return i.lat=function(t){t.Sot=this.Sot,t.addEventListener("Lut",this.Oo),t.addEventListener("_at",this.Oo),t.addEventListener("Qo",this.Oo),t.addEventListener("sot",this.Oo),t.addEventListener("D0",this.Oo),t.addEventListener("cot",this.$ht),t.addEventListener("O0",this.Kht),t.addEventListener("Xv",this.VJ),t.addEventListener("Ey",this.VJ),t.addEventListener("Vl",this.Oo),t.addEventListener("g0",this.Oo),t.addEventListener(Qo.gc,this.Oo),t.addEventListener(Qo.yc,this.Oo)},i.uat=function(){this.gat();this.o0.bK.gJ;var t=this.o0.m$.gJ;this.Qht=new ML(this.o0,this.Jst,this.git,this.$st,this.Att,this.Wh,this.Bb,this.VI,this),this.lat(this.Qht),t.length&&(this.Yht=new UL(this.o0,this.Jst,this.git,this.$st,this.Att,this.Wh,this.Bb,this.VI,this),this.lat(this.Yht));for(var n=this.o0.TK,i=this.Qht.lb,r=0;r<n.length;r++){var e=n[r];e.lb=i,this.Zht.push(new FL(e,this.Jst,this.Att,this.Bb,this.Wh,this))}},i.gat=function(){this.Qht&&(this.Qht.Lv(),this.Qht=void 0),this.Yht&&(this.Yht.Lv(),this.Yht=void 0),this.Zht.forEach(function(t){return t.Cl()}),this.Zht.length=0,this.Hht.Cl()},i.wat=function(t){this.aat.forEach(function(n){return n.lot(t)})},i.sat=function(t){this.o0.Rw=t},i.yat=function(){this.Jst.WR()},i.mat=function(t){this.Hht.wtt(t,this.aat.map(function(t){return t.lb}))||this.aat.forEach(function(t){t.Put(),t.yot()})},i.xht=function(){this.git.f8(),this.aat.forEach(function(t){return t._ot()})},i.U0=function(){this.git.f8(),this.aat.forEach(function(t){return t.got()})},i.B0=function(){this.aat.forEach(function(t){return t.wot()})},i.Lv=function(){this.Mo(),this.eat(),this.gat(),this.git.Lv(),this.$st.Lv(),this.o0.Lv(),this.Jst.Cl(),this.Hht.Lv()},i.kat=function(t,n,i,r){var e=this.Qht,s=this.Yht;t&&(e._ot(),this.git.sh(e.Ep),e.lot(r)),n&&s&&(s._ot(),this.git.sh(s.Ep),i&&s.lot(r))},i.pat=function(){if(!this.Qht)return NO;var t=this.Qht;return ZO(t.lb,this.git.s6(t.Ep))},i.rtt=function(t,n,i){var r=this,e=n?n.uri:void 0,s=i?i.uri:void 0,u=function t(n){n.Rw.live||r.Jst.removeEventListener(s,t),i&&i.PJ(n.Rw)};s&&(this.Jst.removeEventListener(s,u),this.Jst.addEventListener(s,u)),this.Jst.rtt(e,s),this.Jst.utt(s)},i.eat=function(){null!==this.zht&&a(this.zht),this.zht=null},i.Oot=function(){return!!this.jht&&(!this.Qht||this.Qht.Ey)},i.X0=function(t){this.Qht&&(this.Qht.Iot=t)},i.Cl=function(){this.vat.forEach(function(t){return t.Cl()}),this.Zht.forEach(function(t){return t.Cl()})},M(n,[{key:"Aat",get:function(){return this.Qht}},{key:"bat",get:function(){return this.Yht}},{key:"aat",get:function(){var t=[];return this.Qht&&t.push(this.Qht),this.Yht&&this.Yht.pot&&t.push(this.Yht),t}},{key:"vat",get:function(){return[this.Qht,this.Yht].filter($)}},{key:"j5",get:function(){return zt(this.VI.wx*this.git.Q5,1,this.Tat)}},{key:"x0",get:function(){return this.Jst.x0},set:function(t){this.Vht=NaN,this.Wht=1/0,this.Xht=!1,this.Ght=!0,this.jht=!0,this.o0.removeEventListener("renditionUpdated",this.Jht),this.o0.removeEventListener("aK",this.ZF),this.eat(),this.gat(),this.git.sh(),this.$st.Eo(),this.o0.Lv(),this.o0.addEventListener("renditionUpdated",this.Jht),this.Jst.x0=t,this.VJ()}},{key:"U_",get:function(){return this.Vht}},{key:"Pnt",get:function(){return this.o0&&cD.bw(this.o0.KJ)}},{key:"Ey",get:function(){return this.Ght}},{key:"_0",get:function(){var t=this.aat;return t.length>0&&t.every(function(t){return t.n$})}},{key:"Q5",get:function(){return this.git.Q5},set:function(t){t>0&&(this.git.Q5=t)}},{key:"cot",get:function(){return this.aat.every(function(t){return t.cot})}},{key:"O0",get:function(){return this.aat.length>0&&this.aat.every(function(t){return t.O0})}},{key:"Tat",get:function(){return this.qht},set:function(t){this.qht=t}},{key:"Sot",get:function(){return this.Wht},set:function(t){var n=this;this.Wht=t,this.vat.forEach(function(t){return t.Sot=n.Wht})}},{key:"Iy",get:function(){return this._0?new IO([{WR:this.Wnt,zR:this.qnt}]):NO}},{key:"Wnt",get:function(){if(!this._0)return 0;for(var t=-1/0,n=0,i=this.aat;n<i.length;n++){var r=i[n];t=_.max(t,r.lb.Wnt.K_())}return t}},{key:"qnt",get:function(){if(!this._0)return 0;for(var t=1/0,n=0,i=this.aat;n<i.length;n++){var r=i[n];t=_.min(t,r.lb.qnt.K_())}return t}},{key:"znt",get:function(){if(!this._0)return 0;for(var t=1/0,n=0,i=this.aat;n<i.length;n++){var r=i[n];t=_.min(t,r.lb.znt.K_())}return _.max(t,this.Wnt)}},{key:"V0",get:function(){return this.Qht&&this.Qht.Iot||void 0}}]),n}(qC),XL=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wh=void 0,r.Vht=NaN,r.Xht=!1,r.o0=void 0,r.lb=void 0,r.Eat=void 0,r.zht=null,r.Ght=!0,r.mht=null,r.kht=null,r.Oo=function(t){r.dispatchEvent(t)},r.sat=function(t){if(r.o0.Rw||(r.o0.Rw=r.Eat.pK||null),!r.o0.AK){var n=r.o0.bK.gJ[0];n&&(r.o0.AK=n,r.Eat.Z7(n),r.dispatchEvent({type:"Sat",HJ:n}))}t.manifest.isMasterPlaylist||r.o0.AK.PJ(t.manifest),void 0!==t.manifest.duration&&r.Vht!==t.manifest.duration&&(r.Vht=t.manifest.duration,r.dispatchEvent("durationchange")),r.Xht||(r.Xht=!0,r.dispatchEvent("loadedmetadata")),r.Qot(!0),r.dispatchEvent({type:"Y7",manifest:t.manifest})},r.nat=function(t){t.Qo.code===GC.LY?(r.zht||(r.zht=h(r.iat,Jy)),r.Qot(!1)):r.dispatchEvent({type:"Qo",Qo:t.Qo})},r.iat=function(){r.eat();var t=r.x0;t&&r.Eat.WR(t)},r.eat=function(){a(r.zht),r.zht=null},r.fat=function(t){var n=t.HJ;r.lb.Nnt(n,n.yZ),r.Wh.manifestMetadataTrack&&(r.kht||(r.mht=r.o0.K$("",r.lb,""),r.kht=new LL(r.mht,r.lb)),r.kht.Bh(n))},r.Wh=n,r.o0=new SD(n,!0),r.lb=new CB(n),r.Eat=new aB(i,r.Wh),r.lb.addEventListener("Qo",r.Oo),r.Eat.addEventListener("Y7",r.sat),r.Eat.addEventListener("Qo",function(t){r.o0.Rw?(r.zht||(r.zht=h(r.iat,Jy)),r.Qot(!1)):r.nat(t)}),r.o0.addEventListener("FJ",r.fat),r}F(n,t);var i=n.prototype;return i.yat=function(){this.o0.Rw||this.Eat.WR()},i.pat=function(){return NO},i.Qot=function(t){var n=this.Ght;this.Ght=t,t&&!n?this.dispatchEvent("Ey"):!t&&n&&this.dispatchEvent("Xv")},i.Lv=function(){this.Mo(),this.eat(),this.o0.Lv(),this.Eat.Lv(),this.kht=null,this.lb.Lv()},i.U0=function(){},i.B0=function(){},i.wat=function(t){},i.X0=function(t){},M(n,[{key:"x0",get:function(){return this.Eat.x0},set:function(t){this.Vht=NaN,this.Xht=!1,this.eat(),this.o0.Lv(),this.kht=null,this.Eat.x0=t,this.Qot(!0)}},{key:"U_",get:function(){return this.Vht}},{key:"Pnt",get:function(){return this.o0&&cD.bw(this.o0.KJ)}},{key:"Ey",get:function(){return this.Ght}},{key:"O0",get:function(){return!1}},{key:"cot",get:function(){return!1}},{key:"V0",get:function(){return[]}}]),n}(qC),WL=1e3,qL="VEE3",zL=function(t){function n(n){var i;return(i=t.call(this,"Rat")||this).ptsOffset=n,i}return F(n,t),n}(Es),GL=function(t){function n(n){var i;return(i=t.call(this)||this).SK=void 0,i.Iat=null,i.Nat=0,i.Cat="start",i.Dat=1,i.Oat=!1,i.xat=!1,i.Pat=0,i.Bat=null,i.Lat=null,i.Mat=null,i.Uat=null,i.ftt=0,i.Fat=0,i.Hat=new es,i.Vat=new ju,i.Xat=void 0,i.Wat={},i.qat=!1,i.zat=null,i.Gat=NaN,i.But=function(){i.SK.aat.map(function(t){t.But()})},i.pht=function(){for(var t,n,r,e=0,s=i.SK.vat;e<s.length;e++){var u=s[e],o=u.pht();if(o){var h=o.Aht;h&&h.T$!==aD.Sv&&(i.zat=h)}u.Ep===hD.Sv?t=o:u.Ep===hD.rJ&&(n=o,r=u)}(t||n)&&i.dispatchEvent({type:"gK",jat:t&&t.wK,WK:t&&t.Aht,jK:n&&n.wK,XK:n&&n.Aht,HK:!!r&&r.pot})},i.Mut=function(){null!==i.Bat&&a(i.Bat),i.Bat=h(i.Mut,WL),i.SK.aat.forEach(function(t){return t.Mut()})},i.Hut=function(){null!==i.Lat&&a(i.Lat),i.Oat&&(i.Lat=h(i.Hut,WL),i.SK.aat.forEach(function(t){return t.Hut()}))},i.Fut=function(){i.SK.aat.forEach(function(t){return t.Fut()})},i.Qat=function(){if(i.SK.Pnt&&i.W_>1){var t=i.SK.znt;i.Yat>t&&(i.W_=1,i.Yat>=t+1&&(i.Yat="start"))}},i.Zat=function(){i.Iat&&(0===i.Iat.Jat()?i.Yat="start":i.Yat=i.$at(i.Z5))},i.Kat=function(){i.Pat=i.Z5},i.tct=function(t){i.nct(),i.Iat.error&&(t.error.info.code===qL&&i.Fat<$y?(i.Fat+=1,i.ict()):i.dispatchEvent({type:"Qo",error:t.error}))},i.rct=function(){i.Fat=0},i.ect=function(){i.removeEventListener("sct",i.uct),i.Oat?i.uct():i.addEventListener("sct",i.uct)},i.uct=function(){var t=i.Z5;i.SK.removeEventListener("_0",i.ect),i.SK._0?i.SK.aat.forEach(function(n){return n.Xut(t)}):(i.SK.addEventListener("_0",i.ect),i.SK.yat())},i.hct=function(){var t=i.Z5;i.SK.vat.forEach(function(n){return n.Vut(t,i.SK.Pnt)})},i.act=function(){null!==i.Bat&&a(i.Bat),i.Bat=null,null!==i.Lat&&a(i.Lat),i.Lat=null},i.cct=function(){i.fct(),i.SK._0?i.P0():(i.SK.addEventListener("_0",i.cct),i.SK.yat())},i.fct=function(){i.SK.removeEventListener("_0",i.cct)},i.CK=function(t){i.SK.rtt(t.T$,t.wK||void 0,t.HJ||void 0),t.yK&&i.vct(t.T$,t.wK,t.HJ)},i.dct=function(t){var n=t.ftt-i.ftt;_.abs(n)>Zy&&(i.ftt=t.ftt,i.Z5=i.Z5+n)},i.lct=function(t){var n=t._8.metadata;n.b$&&(i.Wat[t.Ep]=n.b$,i._ct())},i._ct=function(){if(i.SK._0){var t=l.keys(i.Wat).length===i.SK.aat.length;i.Iat&&!i.Iat.gct&&!i.Xat&&t&&i.wct(),i.Iat&&i.ftt&&(i.Iat.ftt=i.ftt)}},i.yct=function(){if(y(i.mct))if(i.SK.Pnt)i.mct=0;else{var t=i.zat,n=t&&t.t$,r=t&&$(n)&&!y(n)&&t.mZ(n)||void 0;i.mct=lD(r)?r.A5.K_():NaN}i.w0&&(i.removeEventListener("gK",i.yct),i.SK.removeEventListener("l8",i.yct),i.dispatchEvent("w0",!0))},i.SK=n,n.Att=sn(i),i}F(n,t);var i=n.prototype;return i.ict=function(){this.SK.Pnt?this.Yat="start":(this.Pat+=.5,this.SK.aat.map(function(t){t.Put(),t.Wut(),t.qut()}),this.Yat=this.Pat),this._ct(),this.Iat.play()},i.kct=function(t){var n=this;this.Mat&&(this.SK.removeEventListener("_0",this.Mat),this.Mat=null),this.SK._0?(this.xat=!0,this.qat=!0,this.SK.mat(t),this.qat=!1):(this.Mat=function(){return n.kct(t)},this.SK.yat())},i.pct=function(t){this.Act(),this.SK.Pnt&&(t="none"),"auto"===t&&this.cct()},i.bct=function(t){var n=this;this.Act(),"none"!==t&&(this.SK._0?this.pct(t):(this.Uat=function(){return n.pct(t)},this.SK.addEventListener("_0",this.Uat),this.SK.yat()))},i.Act=function(){this.fct(),this.Uat&&(this.SK.removeEventListener("_0",this.Uat),this.Uat=null)},i.P0=function(){this.xat?this.SK.wat():(this.Yat=this.Cat,this.SK.wat(22)),this.Oat||(this.Oat=!0,this.dispatchEvent("sct"))},i.Tct=function(){this.Iat&&(this.Iat.addEventListener("Ect",this.hct),this.Iat.addEventListener("seeking",this.ect),this.Iat.addEventListener("error",this.tct),this.Iat.addEventListener("playing",this.rct)),this.SK.addEventListener("gK",this.CK),this.SK.addEventListener("sot",this.Zat),this.SK.addEventListener("_0",this._ct),this.SK.addEventListener("ctt",this.dct),this.SK.addEventListener("Vl",this.ect),this.F0()},i.Sct=function(){this.Iat&&(this.Iat.removeEventListener("Ect",this.hct),this.Iat.removeEventListener("seeking",this.ect),this.Iat.removeEventListener("error",this.tct),this.Iat.removeEventListener("playing",this.rct)),this.SK.removeEventListener("gK",this.CK),this.SK.removeEventListener("sot",this.Zat),this.SK.removeEventListener("_0",this._ct),this.SK.removeEventListener("ctt",this.dct),this.SK.removeEventListener("Vl",this.ect),this.H0()},i.F0=function(){this.Iat&&(this.Iat.addEventListener("loadstart",this.cct),this.Iat.addEventListener("timeupdate",this.But),this.Iat.addEventListener("playing",this.pht),this.Iat.addEventListener("timeupdate",this.pht),this.Iat.addEventListener("timeupdate",this.Hut),this.Iat.addEventListener("timeupdate",this.Mut),this.Iat.addEventListener("timeupdate",this.Kat),this.Iat.addEventListener("timeupdate",this.Qat),this.Iat.addEventListener("ended",this.act)),this.SK.addEventListener("l8",this.lct),this.SK.addEventListener("l8",this.Fut)},i.H0=function(){null!==this.Bat&&a(this.Bat),null!==this.Lat&&a(this.Lat),this.Iat&&(this.Iat.removeEventListener("loadstart",this.cct),this.Iat.removeEventListener("timeupdate",this.But),this.Iat.removeEventListener("playing",this.pht),this.Iat.removeEventListener("timeupdate",this.pht),this.Iat.removeEventListener("timeupdate",this.Hut),this.Iat.removeEventListener("timeupdate",this.Mut),this.Iat.removeEventListener("timeupdate",this.Kat),this.Iat.removeEventListener("timeupdate",this.Qat),this.Iat.removeEventListener("ended",this.act)),this.SK.removeEventListener("l8",this.lct),this.SK.removeEventListener("l8",this.Fut)},i.Ntt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Vat.gh;case 2:return i=this.Iat.Ntt(n),this.Iat.loading&&(this.Iat.loaded=!0,this.Iat.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.rF=function(t,n){this.Rct.rF(t,n)},i.xut=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Vat.gh;case 3:return t.next=5,this.Iat.xut(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),us(t.t0)||this.dispatchEvent({type:"Qo",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.wct=function(){var t=this,n=this.Vat,i=this.Ict(this.Xat,this.Hat.Io);this.Xat=i,i.then(function(){t.Xat===i&&(t.Xat=void 0,n.wh())},function(r){t.Xat===i&&(t.Xat=void 0,n.yh(r))})},i.Ict=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,n.catch(R);case 3:return os(i),t.next=6,this.Iat.wct(this.Wat,this.SK.U_,i);case 6:if(r=t.sent){t.next=9;break}return t.abrupt("return");case 9:for(e=0,s=this.SK.vat;e<s.length;e++)u=s[e],r.yJ&&(u.wut=r.yJ),r.mJ&&(u.kut=r.mJ);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.nct=function(){this.Hat.Eo(),this.Hat=new es,this.Xat=void 0,this.Vat=new ju},i.$at=function(t){var n=this.Iy;return n.length?zt(t,n.start(0),n.end(n.length-1)):0},i.jut=function(t){var n=this.SK.Aat;return n?n.jut(t):null},i.Vnt=function(t){var n=this.SK.Aat;return n?n.Vnt(t):NaN},i.xh=function(t){var n=t||"none";this.Sct(),this.Tct(),this.bct(n)},i.M0=function(){this.Act()},i.Lv=function(){this.Mo(),this.Wat={},this.Rct=null},i.Cl=function(){this.nct(),this.Nct(),this.Wat={},this.Nat=0,this.Pat=0,this.Cat="start",this.ftt=0,this.Dat=1,this.Oat=!1,this.xat=!1,this.zat=null,this.SK.Cl()},i.vct=function(t,n,i){if(n){this.dispatchEvent("y0"),this.H0();var r=!1,e=!1,s=!1;if("mJ"===t){e=!0;var u=this.SK.Aat;u&&u.pot&&(r=!0)}else r=!0,s=!(!i||!i.uri);r&&this.Iat.yK("audio"),e&&this.Iat.yK("video"),this.SK.vat.forEach(function(t){t.Put(),r&&t.Wut(),e&&t.qut()}),this.SK.kat(e,r,s,22),this.SK.vat.forEach(function(t){return t.Uut()}),this.F0()}},i.zw=function(){this.H0(),this.SK.Pnt&&this.SK.xht()},i.qw=function(){this.H0(),this.F0(),this.SK.B0()},i.Cct=function(t){var n=this.mct||0;return this.S$?t-n<0?0:_.round((t-n)*this.S$-.5)||0:NaN},i.Dct=function(t){var n=this.mct||0;return this.S$?n+(t+.5)/this.S$:NaN},i.Nct=function(){this.mct=NaN,this.removeEventListener("gK",this.yct),this.addEventListener("gK",this.yct),this.SK.removeEventListener("l8",this.yct),this.SK.addEventListener("l8",this.yct)},M(n,[{key:"Rct",get:function(){return this.Iat},set:function(t){this.Sct(),this.nct(),this.rct(),this.Iat=t,this._ct()}},{key:"Z5",get:function(){return this.Iat&&!this.qat?this.Iat.Jat():this.Nat},set:function(t){t=this.$at(t),this.Pat=this.Nat=t,this.Iat?this.Iat.Oct(t):(this.hct(),this.ect())}},{key:"Yat",get:function(){return this.Iat&&!this.qat?this.Z5:this.Cat},set:function(t){"start"===t&&(t=this.SK.Pnt?1/0:0),t=this.$at(t),this.Cat=t,this.Pat=this.Nat=t,this.kct(N_.ew(this.Nat)),this.Z5=t}},{key:"Yy",get:function(){return this.SK.Sot},set:function(t){this.SK.Sot=t}},{key:"W_",get:function(){return this.Iat?this.Iat.W_:this.Dat},set:function(t){var n=this.Dat;t>0&&(this.Dat=t,this.Iat&&(this.Iat.W_=t),this.SK.Q5=t,this.Dat!==n&&this.dispatchEvent("xct"))}},{key:"Iy",get:function(){var t=this.SK.Iy;if(!t.length||!this.SK.Pnt)return t;var n=t.start(0),i=this.SK.znt;return i=_.max(this.Z5,i),new IO([{WR:n,zR:i}])}},{key:"gy",get:function(){return this.jut(this.Z5)}},{key:"S$",get:function(){var t=this.zat;return t&&t.S$||NaN}},{key:"mct",get:function(){return this.Gat},set:function(t){this.Gat!==t&&(this.dispatchEvent(new zL(t)),this.Gat=t)}},{key:"w0",get:function(){return Boolean(this.S$)&&!y(this.mct)}}]),n}(qC),jL=function(t){function n(n){var i;return(i=t.call(this)||this).Pct=null,i.o0=void 0,i.Bct=[],i.Lct=function(t){return i.Mct(t)},i.Uct=function(){return i.Fct()},i.o0=n,i.Bct=[],i}F(n,t);var i=n.prototype;return i.Ub=function(t){var n,i;"metadata"===t.kind&&(t.mode=$d.Zl,n=this.o0.Z$(t.id,t.inBandMetadataTrackDispatchType),i=this.Hct.bind(this,n),this.Bct.push({Vct:t,Xct:i,O$:n}),t.addEventListener("cuechange",i))},i.Nx=function(){for(var t=this.Pct.Xw,n=t&&t.length,i=0;i<n;i+=1)this.Ub(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.Lct),t.addEventListener("change",this.Uct))},i.Hct=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,s=0;s<r;s++){var u=dI(i[s].value),o=new AI(e,u);t.Hb(o)}},i.Fct=function(){for(var t=0,n=this.Bct;t<n.length;t++){var i=n[t].Vct;i.mode!==$d.Zl&&(i.mode=$d.Zl)}},i.Mct=function(t){this.Ub(t.track)},i.Wct=function(){for(var t=this.Pct,n=t&&t.Xw,i=0,r=this.Bct;i<r.length;i++){var e=r[i];e.Vct.removeEventListener("cuechange",e.Xct)}this.Bct.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.Lct),n.removeEventListener("change",this.Uct))},i.Lv=function(){this.Wct(),this.Pct=null,this.o0=null,this.Lct=null,this.Uct=null},i.Cl=function(){this.Wct(),this.Pct&&this.Nx()},n}(qC),QL=function(t){function n(n){var i;return(i=t.call(this)||this).SK=void 0,i.qct=void 0,i.Iat=null,i.Cat="start",i.Dat=1,i.Xv=!1,i.zct=null,i.Gct=null,i.jct=NaN,i.Qct=NaN,i.Yct=null,i.Zct=function(){i.Iat.removeEventListener("loadstart",i.Zct),i.Iat.removeEventListener("play",i.Zct),i.SK.yat()},i.But=function(){var t=i.SK.o0.AK;if(t&&(!i.zct||i.zct.WR>i.Z5||i.zct.zR<i.Z5)){var n=i.SK.lb.P8(t,N_.ew(i.Z5));if(!n)return void i.Iat.addEventListener("timeupdate",i.But);i.zct={WR:n.Hnt.K_(),zR:n.Hnt.vg(N_.ew(n.xp.duration)).K_(),ZY:n.xp.ZY,YJ:null},i.dispatchEvent({type:"Lut",mb:n.xp})}},i.pht=function(){var t=i.SK.o0,n=t.bK.gJ.length?t.bK.gJ:t.m$.gJ,r=i.Iat.G_,e=i.Iat.z_,s=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),u=s&&s.length?s[0]:null;u!==i.Gct&&(i.Gct=u,i.dispatchEvent({type:"gK",HJ:u}))},i.Jct=function(t){i.dispatchEvent({type:"gK",HJ:t.HJ})},i.$ct=function(){if(i.Iat){var t=i.Iat.Iy,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Qct&&(i.Qct=n,i.jct=qb())}},i.Kct=function(){i.Xv=!0},i.tft=function(){i.Xv&&(i.Xv=!1,i.nft())},i.SK=n,i.qct=new jL(n.o0),n.addEventListener("Xv",i.Kct),n.addEventListener("Ey",i.tft),i}F(n,t);var i=n.prototype;return i.$at=function(t){var n=this.Iat.Iy;return n.length?zt(t,n.start(0),n.end(n.length-1)):0},i.nft=function(){if(this.Iat){var t=this.Iat.currentTime,n=this.Iat.paused;this.Iat.load(),this.Iat.currentTime=t,n||this.Iat.play()}},i.ift=function(){this.Iat&&(this.Iat.addEventListener("loadstart",this.Zct),this.Iat.addEventListener("play",this.Zct),this.Iat.addEventListener("timeupdate",this.But),this.Iat.addEventListener("timeupdate",this.pht),f(this.Yct),this.Yct=c(this.$ct,250))},i.rft=function(){f(this.Yct),this.Iat&&(this.Iat.removeEventListener("loadstart",this.Zct),this.Iat.removeEventListener("play",this.Zct),this.Iat.removeEventListener("timeupdate",this.But),this.Iat.removeEventListener("timeupdate",this.pht))},i.xh=function(t){t=t||"none",this.rft(),this.ift(),this.SK.removeEventListener("Sat",this.Jct),this.SK.addEventListener("Sat",this.Jct),"none"!==t&&this.Zct()},i.Lv=function(){this.Mo(),this.qct.Lv(),this.Rct=null,this.SK.removeEventListener("Sat",this.Jct)},i.Cl=function(){this.Cat="start",this.Dat=1,this.Xv=!1,this.zct=null,this.Gct=null,this.jct=NaN,this.Qct=NaN,f(this.Yct),this.qct.Cl()},i.qw=function(){},i.zw=function(){},i.M0=function(){},i.vct=function(){},i.Vnt=function(t){var n=this.SK.o0.AK;return this.SK.lb.Vnt(n,t).K_()},i.jut=function(t){var n,i,r=this.SK.o0.AK,e=this.SK.lb,s=t,u=this.zct;if(u)u.YJ||(u.YJ=e.Fnt(r,u.ZY)),n=u.WR,i=u.YJ;else{var o=e.P8(r,N_.ew(s));if(!o)return null;n=o.Hnt.K_(),i=e.Fnt(r,o.xp.ZY)}if(!i)return null;var h=s-n;return new Date(i.getTime()+1e3*h)},i.Cct=function(t){return NaN},i.Dct=function(t){return NaN},M(n,[{key:"eft",get:function(){return null}},{key:"gy",get:function(){return this.jut(this.Z5)}},{key:"Rct",get:function(){return this.Iat},set:function(t){this.rft(),this.Iat=t,this.Iat&&(this.qct.Pct=this.Iat,this.qct.Nx())}},{key:"Yat",get:function(){return this.Iat?this.Iat.Jat():this.Cat},set:function(t){"start"===t&&(t=this.SK.Pnt?1/0:0),t=this.$at(t),this.Cat=t,this.Iat&&this.Iat.Oct(t)}},{key:"Z5",get:function(){return this.Yat},set:function(t){t=this.$at(t),this.Yat=t}},{key:"Yy",get:function(){return 1/0},set:function(t){}},{key:"W_",get:function(){return this.Iat?this.Iat.W_:this.Dat},set:function(t){t>0&&(this.Dat=t,this.Iat&&(this.Iat.W_=t))}},{key:"Iy",get:function(){var t,n,i,r=this.Iat?this.Iat.Iy:null,e=this.SK.lb.Iy;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Qct||r.end(r.length-1))+this.SK.lb.Gnt.K_(),isFinite(this.jct)&&(i+=(qb()-this.jct)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.SK.lb.znt.K_()}return i=_.min(n,i),i=_.max(this.Z5,i),new IO([{WR:t,zR:i}])}},{key:"S$",get:function(){return NaN}},{key:"mct",get:function(){return NaN}},{key:"w0",get:function(){return!1}}]),n}(qC),YL=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e)||this).sft=new es,o.uft=void 0,o.Bb=void 0,o.oft=function(){return o.hft()},o.io=rg.WEBVTT,o.n_=ig.NONE,o.e_=Pf(s),o.Po(bd.ll,o.oft),o.Bb=u,o}F(n,t);var i=n.prototype;return i.xh=function(){this.e_&&!this.uft&&(this.uft=this.Od(this.sft.Io),this.uft.catch(as))},i.Od=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.e_,t.prev=1,this.n_=ig.LOADING,r=new Cf({vv:i,Nv:Ef.GET,ov:Yo.Je,Io:n}),t.next=6,this.Bb.cv(r);case 6:return e=t.sent,t.next=9,e.Ds();case 9:s=t.sent,this.z1(e,s),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),hs(t.t0),this.pS(my(t.t0,this.e_));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),i.M0=function(){this.n_!==ig.LOADED&&(this.n_=ig.NONE,this.sft.Eo(),this.sft=new es,this.uft=void 0)},i.pS=function(t){this.n_=ig.ERROR,this.xo(new n_(t))},i.Lv=function(){this.M0(),this.sft.mo(),t.prototype.Lv.call(this)},i.hft=function(){switch(this.t_){case $d.Jl:case $d.Zl:this.xh();break;case $d.Yl:this.M0()}},i.z1=function(t,n){try{for(var i=Kg(n).i_,r=0;r<i.length;r++){var e=i[r];this.Hb(e)}this.n_=ig.LOADED}catch(n){this.pS(ky(this.io,this.e_,t.sv,n))}},n}(yR);function ZL(t){return oy(t.kind)}var JL=function(){function t(t,n,i,r){this.aft=void 0,this.Xw=void 0,this.cft=void 0,this.Bb=void 0,this.aft=t,this.Xw=i,this.cft=n,this.Bb=r,this.Cl()}var n=t.prototype;return n.fft=function(t){if(this.vft(),t)if(this.cft)for(var n=0;n<t.length;n++){var i=t[n];this.QS(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.dft(e)}},n.QS=function(t){var n=ZL(t);if(gy(n,t.label||""));else{var i=s.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.aft.appendChild(i)}},n.dft=function(t){var n=ZL(t),i=new YL(n,t.id,t.label,t.srclang,t.src,this.Bb);t.default&&(i.t_=$d.Jl),this.Xw.Rl(i)},n.vft=function(){for(var t=this.Xw.Dl,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.lft&&this.Xw.Il(i)}},n._ft=function(){this.vft()},n.Cl=function(){this.vft()},t}(),$L=function(){function t(t){this.p0=void 0,this.p0=t}var n=t.prototype;return n.Po=function(t,n){this.p0.addEventListener(t,n)},n.Uo=function(t,n){this.p0.removeEventListener(t,n)},M(t,[{key:"M_",get:function(){return this.p0.currentTime}},{key:"X_",get:function(){return this.p0.paused}},{key:"q_",get:function(){return this.p0.seeking}}]),t}(),KL=function(t){function n(n,i){var r;(r=t.call(this)||this).gft=void 0,r.Xw=void 0,r.wft=void 0,r.yft=void 0,r.Iat=void 0,r.mft=!0,r.kft=function(t){return r.pft(t)},r.Aft=function(){return r.bft()},r.Tft=function(){return r.Eft()},r.Sft=function(){return r.Rft()},r.Lct=function(t){return r.Mct(t.nl)},r.Ift=function(t){return r.Nft(t.nl)},r.Cft=function(){return r.Dft()},r.gft=n,r.Xw=i,r.gft.addEventListener("seeking",r.Cft),r.gft.addEventListener("seeked",r.Cft),r.wft=new pI(new $L(n));for(var e=0,s=r.Xw.Dl;e<s.length;e++){var u=s[e];r.Mct(u)}return r.Xw.Po(md.Qd,r.Lct),r.Xw.Po(md.Zd,r.Ift),r}F(n,t);var i=n.prototype;return i.pft=function(t){this.Xw.Rl(t.nl)},i.bft=function(){for(var t=this.Xw.Dl,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.lft&&this.Xw.Il(i)}},i.Eft=function(){var t=this.Rct,n=[],i=t&&t.Xw;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var s=e.THEOplayerTextTrack;if(!s){var u=this.uW(e);s=new _I(e,u,this.oV),e.THEOplayerTextTrack=s,this.Xw.Rl(s)}n.push(s)}}for(var o=0,h=this.Xw.Dl;o<h.length;o++){var a=h[o];gI(a)&&-1===n.indexOf(a)&&this.Xw.Il(a)}},i.uW=function(t){for(var n=this.Rct.wy.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.Rft=function(){for(var t=0,n=this.Xw.Dl;t<n.length;t++){var i=n[t];gI(i)&&i.hV()}},i.Dft=function(){this.Oft()},i.Mct=function(t){t instanceof yR&&this.wft.Rl(t)},i.Nft=function(t){t instanceof yR&&this.wft.Il(t)},i.Oft=function(){var t=this.Xw.Dl;if(t.length)for(var n=this.gft.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof yR){for(var s=[],u=0,o=e.i_.Dl;u<o.length;u++){var h=o[u];if(!(h.Yy<i))break;s.push(h)}for(var a=0;a<s.length;a++){var c=s[a];e.OH(c)}}}},i.Lv=function(){this.gft.removeEventListener("seeking",this.Cft),this.gft.removeEventListener("seeked",this.Cft);for(var t=0,n=this.Xw.Dl;t<n.length;t++){var i=n[t];this.Nft(i)}this.Xw.Uo(md.Qd,this.Lct),this.Xw.Uo(md.Zd,this.Ift),this.wft.Lv(),this.o0=null,this.Rct=null},M(n,[{key:"o0",get:function(){return this.yft},set:function(t){var n=this.yft;if(n){for(var i=0,r=n.Xw;i<r.length;i++){var e=r[i];this.Xw.Il(e)}n.removeEventListener("J$",this.kft),n.removeEventListener("Lv",this.Aft)}if(this.yft=t,t){for(var s=0,u=t.Xw;s<u.length;s++){var o=u[s];this.Xw.Rl(o)}t.addEventListener("J$",this.kft),t.addEventListener("Lv",this.Aft)}}},{key:"Rct",get:function(){return this.Iat},set:function(t){var n=this.Iat;n&&n.Xw&&n.Xw.removeEventListener&&(n.Xw.removeEventListener("addtrack",this.Tft),n.Xw.removeEventListener("removetrack",this.Tft),n.Xw.removeEventListener("change",this.Sft)),this.Iat=t,t&&t.Xw&&t.Xw.addEventListener&&(t.Xw.addEventListener("addtrack",this.Tft),t.Xw.addEventListener("removetrack",this.Tft),t.Xw.addEventListener("change",this.Sft)),this.Eft(),this.Rft()}},{key:"oV",get:function(){return this.mft},set:function(t){if(this.mft!==t){this.mft=t;for(var n=0,i=this.Xw.Dl;n<i.length;n++){var r=i[n];gI(r)&&(r.oV=t)}}}}]),n}(qC),tM=function(){function t(t,n){this.xv=void 0,this.jd=void 0,this.xft=[],this.Pft=new Zo,this.Bft=ie(),this.Lft=new es,this.xv=!(!t||t.crossOrigin!==ll.p_&&!t.Mft),this.jd=n}var n=t.prototype;return n.Uft=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c,f;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=T.Du(n),e=0,s=this.xft;e<s.length;e++)null===(u=s[e]).fs||void 0===u.fs?r.searchParams.delete(u.Fft):r.searchParams.set(u.Fft,u.fs);return t.prev=2,o=new Cf({vv:r.href,ov:Yo.Sc,uv:this.Pft,xv:this.xv,Nv:Ef.GET,Io:i,io:Sf.wv,Dv:Rf.Ev}),t.next=6,this.jd.cv(o);case 6:return h=t.sent,t.next=9,h.Ds();case 9:return a=t.sent,c=new m(a),f=new m(16),16!==c.length&&_t("AES-128 decryption key length must be 16 bytes, but was "+c.length+" bytes. URL: ",r.href),c.length>16&&(c=Wu(c,0,16)),f.set(c,16-c.length),t.abrupt("return",f);case 19:throw t.prev=19,t.t0=t.catch(2),hs(t.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+r.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return E.reject(new jC(GC.XY,{code:"CAD1603"}));var i=this.Bft.get(n);return i||(i=this.Uft(n,this.Lft.Io),this.Bft.set(n,i)),i},n.Lv=function(){this.Lft.Eo(),this.Bft.clear()},n.Hft=function(t,n){this.xft.push({Fft:t,fs:n})},n.Vft=function(t,n){this.Pft.append(t,n)},t}(),nM=function(t){this.gft=void 0,this.gft=t},iM=s.createElement("video");var rM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.eht=function(t){return!!function(t){return iM.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(nM);zC.je.AL("AvoidUnsupportedCodecsRule",rM);var eM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.eht=function(t,n,i,r){return!("_9"===r.b8)||t.bandwidth<2e6},n}(nM);zC.je.AL("AvoidHighBitrateStreamsRule",eM);var sM=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Xft=function(t){if(!t.resolution)return!0;var n=this.gft.element.getBoundingClientRect(),i=e.innerWidth||s.documentElement.clientWidth,r=e.innerHeight||s.documentElement.clientHeight,u=_.max(0,_.min(n.right,i)-_.max(0,n.left)),o=_.max(0,_.min(n.bottom,r)-_.max(0,n.top)),h=T.Pu.ru;return t.resolution.width<=u*h&&t.resolution.height<=o*h},i.eht=function(t){return this.Xft(t)},n}(nM);zC.je.AL("AvoidVideoResolutionGreaterThanDisplaySizeRule",sM);var uM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.eht=function(t,n,i){if(i.C6<=0)return!1;var r=i&&.8*i.C6;return!(r&&!y(r)&&t.bandwidth)||r>t.bandwidth*this.gft.playbackRate},n}(nM);zC.je.AL("DownloadMetricRule",uM);var oM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.eht=function(t){return!0},n}(nM);zC.je.AL("LimitVideoQualityToDisplaySizeRule",oM);var hM=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.eht=function(t,n){return!n||(n.T$===aD.lv||t.T$===aD.lv||(n.T$===aD.QZ||t.T$===aD.QZ||n.T$===t.T$))},n}(nM);function aM(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function cM(t,n){var i=n;for(var r in t)it(t[r])?(i[r]=i[r]||{},cM(t[r],i[r])):Z.call(i,r)||(i[r]=t[r]);return i}function fM(t,n){var i=cM(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case ll.k_:case ll.p_:break;default:n=ll.A_}return t&&t.withCredentials&&(n=ll.p_),t&&t.vr&&t.vr[360]&&n===ll.A_&&(n=ll.k_),n}(i),i}function vM(t){st(t)&&t.then(R,R)}zC.je.AL("OnlyAllowSameTrackTypeRenditionsRule",hM);var dM,lM=500,_M=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],gM=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wft=void 0,r.cS=void 0,r.qft=void 0,r.vS=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.eX=function(){var t=r.cS.MS.error&&r.cS.MS.error.code;t&&r.pS(new jC(GC.FY,{code:"VEE"+t}))},r.zft=function(t){r.dispatchEvent({type:t.type,error:r.cS.MS.error})},r.Gft=function(){a(r.qft),r.qft=void 0,r.cS.MS.removeEventListener("timeupdate",r.Gft),r.cS.Uo(Ll.L_,r.Gft)},r.jft=function(){void 0!==r.qft&&r.Gft(),r.qft=h(function(){r.cS.MS.currentTime+=.1,r.Gft()},lM),r.cS.MS.addEventListener("timeupdate",r.Gft),r.cS.Po(Ll.L_,r.Gft)},r.Qft=function(){switch(r.cS.MS.readyState){case yl.I_:case yl.N_:case yl.C_:r.jft();break;case yl.R_:case yl.S_:}},r.Wft=n,r.cS=i,r}F(n,t);var i=n.prototype;return i.setup=function(){this.Y$(),this.cS.MS.parentNode!==this.Wft&&this.Wft.appendChild(this.cS.MS),this.loaded=!1,this.cS.MS.preload="metadata",this.cS.MS.addEventListener("play",this.Qft),this.cS.MS.addEventListener("loadeddata",this.Qft),this.dispatchEvent("Yft")},i.Y$=function(){for(var t=0;t<_M.length;t++){var n=_M[t];this.cS.MS.addEventListener(n,this.zft,!0)}this.cS.MS.addEventListener("error",this.eX,!0),this.cS.Po(Ll.gl,this.zft),this.cS.Po(Ll.L_,this.zft)},i.Zft=function(){for(var t=0;t<_M.length;t++){var n=_M[t];this.cS.MS.removeEventListener(n,this.zft,!0)}this.cS.MS.removeEventListener("error",this.eX,!0),this.cS.Uo(Ll.gl,this.zft),this.cS.Uo(Ll.L_,this.zft)},i.pS=function(t){this.vS=t,this.dispatchEvent({type:"error",error:t})},i.Ntt=function(){return E.resolve()},i.load=function(){this.cS.MS.load(),this.loaded=!0},i.unload=function(){return this.Gft(),this.Mo(),this.Zft(),this.cS.MS.removeEventListener("play",this.Qft),this.cS.MS.removeEventListener("loadeddata",this.Qft),xr(this.cS.MS),this.cS.MS},i.play=function(){var t=this.W_;vM(this.cS.MS.play()),this.W_=t},i.pause=function(){this.cS.MS.pause()},i.Gw=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.Oct(0)}catch(t){}this.dispatchEvent("reset")},i.ey=function(){return this.cS.MS},i.Jat=function(){return this.cS.MS.currentTime},i.Oct=function(t){this.cS.MS.currentTime=t},i.canPlayCodecs=function(t){return this.cS.MS.canPlayType('video/mp4; codecs="'+t+'"')},M(n,[{key:"gct",get:function(){return!0}},{key:"wy",get:function(){return this.cS.MS}},{key:"_y",get:function(){return this.cS.MS.buffered}},{key:"j_",get:function(){return this.cS.MS.volume},set:function(t){this.cS.MS.volume=t}},{key:"duration",get:function(){return this.cS.MS.duration}},{key:"muted",get:function(){return this.cS.MS.muted},set:function(t){this.cS.MS.muted=t}},{key:"paused",get:function(){return this.cS.MS.paused}},{key:"played",get:function(){return this.cS.MS.played}},{key:"poster",get:function(){return this.cS.MS.poster},set:function(t){t?this.cS.MS.poster=t:this.cS.MS.removeAttribute("poster")}},{key:"controls",get:function(){return this.cS.MS.controls},set:function(t){t?this.cS.MS.controls=t:this.cS.MS.removeAttribute("controls")}},{key:"ended",get:function(){return this.cS.MS.ended}},{key:"seeking",get:function(){return this.cS.MS.seeking}},{key:"error",get:function(){return this.cS.MS.error}},{key:"width",get:function(){return this.cS.MS.offsetWidth}},{key:"height",get:function(){return this.cS.MS.offsetHeight}},{key:"src",get:function(){return this.cS.MS.src},set:function(t){this.cS.MS.src=t}},{key:"G_",get:function(){return this.cS.MS.videoWidth}},{key:"z_",get:function(){return this.cS.MS.videoHeight}},{key:"Xw",get:function(){return this.cS.MS.textTracks}},{key:"Pnt",get:function(){return this.cS.MS.duration===1/0}},{key:"Iy",get:function(){var t=this.cS.MS.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Jat()||0),new IO([{WR:n,zR:i}])}},{key:"W_",get:function(){return this.cS.MS.playbackRate},set:function(t){t>0&&(this.cS.MS.playbackRate=t)}},{key:"n_",get:function(){return this.cS.n_}},{key:"Jft",get:function(){return void 0!==this.cS.MS.webkitSupportsPresentationMode&&this.cS.MS.webkitSupportsPresentationMode("picture-in-picture")}},{key:"$ft",get:function(){return"picture-in-picture"===this.cS.MS.webkitPresentationMode}},{key:"Kft",get:function(){return this.cS.MS.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.cS.MS.webkitSetPresentationMode(t)}}]),n}(qC);!function(t){t[t.tvt=0]="tvt",t[t.nvt=1]="nvt",t[t.fQ=2]="fQ",t[t.ivt=3]="ivt",t[t.rvt=4]="rvt"}(dM||(dM={}));var wM=function(){function t(){this.evt=!1,this.svt=null,this.uvt=null,this.ovt=null,this.nL=[],this.avt=null}var n=t.prototype;return n.cvt=function(){if(!this.evt)return!1;for(var t=this.svt,n=this.uvt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.fvt=function(t){switch(t.io){case dM.tvt:return this.vvt(t.Ds,t.Hnt,t.UD);case dM.nvt:return this.dvt(t.lvt);case dM.fQ:return this._vt(t.gvt,t.wvt);case dM.ivt:return this.iL();case dM.rvt:return this.yvt(t.UD)}},n.vvt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.uvt,y(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.mvt();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.dvt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.uvt,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),s=_.min(r.end(0),n),!((u=s-e)>.5||s<=n&&u>0)){t.next=11;break}return i.remove(e,s),t.next=11,this.mvt();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n._vt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.svt,r=this.uvt,e=r.buffered,!((s=e.length)>0)){t.next=12;break}if(u=_.max(e.start(0),n),o=_.min(e.end(s-1),i),!(o-u>0)){t.next=12;break}return r.remove(u,o),t.next=12,this.mvt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.iL=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.svt,i=this.uvt,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,wd(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.yvt=function(t){return E.resolve(t())},n.kvt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.GF(n)){t.next=5;break}return t.next=3,ys(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.GF=function(t){var n=this.svt;if(!n.open||"open"!==n.readyState||!this.cvt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.mvt=function(){var t=this;return new E(function(n,i){var r,e=t.uvt,s=!1,u=function(){s=!0},o=function(){s=!1,r="error"},h=function(){s=!1,r="aborted"},a=function(){c(),s&&!r?n():i(new v(r))},c=function(){e.removeEventListener("update",u),e.removeEventListener("error",o),e.removeEventListener("abort",h),e.removeEventListener("updateend",a)};e.addEventListener("update",u),e.addEventListener("error",o),e.addEventListener("abort",h),e.addEventListener("updateend",a)})},n.pvt=function(){var t=this;this.ovt||(0!==this.nL.length||this.avt)&&this.cvt()&&(this.ovt=this.Avt().then(function(){t.ovt=null}))},n.Avt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.nL.length>0)){t.next=9;break}if(this.cvt()){t.next=4;break}return t.abrupt("return");case 4:return n=this.nL.shift(),t.next=7,this.fvt(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.kvt("decode").catch(R);case 16:if(!this.avt){t.next=26;break}return t.prev=17,t.next=20,this.kvt(this.avt.Qo);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.avt=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.Nx=function(t,n){this.evt||(this.evt=!0,this.svt=t,this.uvt=n,this.pvt())},n.vg=function(t,n,i){this.nL.push({io:dM.tvt,Ds:t,Hnt:n,UD:i}),this.pvt()},n.bvt=function(t,n){this.nL.push({io:dM.fQ,gvt:t,wvt:n}),this.pvt()},n.Tvt=function(t){this.nL.push({io:dM.nvt,lvt:t}),this.pvt()},n.Eo=function(){this.nL.push({io:dM.ivt}),this.pvt()},n.Evt=function(t){this.nL.push({io:dM.rvt,UD:t}),this.pvt()},n.xut=function(t){this.avt={Qo:t},this.pvt()},n.sh=function(){this.nL.length=0,this.avt=null},t}();var yM=function(t){function n(n){var i;return(i=t.call(this)||this).svt=void 0,i.uvt=null,i.Svt=new wM,i.Yy=NaN,i.Rvt=null,i.Oo=function(t){return i.dispatchEvent(t)},i.Ivt=function(){return i.f8()},i.svt=n,i.Cl(),i}F(n,t);var i=n.prototype;return i.Nvt=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.Ntt=function(t,n,i,r){var e=this;if(!this.uvt||!n)return E.resolve();var s=n.initializer.Ds,u=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.Rvt,s);if(r&&(Y.Pe||this.Svt.Eo()),r)if(Y.Pe);else{var o=t&&t.WR,h=t&&t.WR+t.U_-.5;this.Svt.bvt(o,h)}return u&&(this.Svt.vg(s,i,this.Nvt.bind(this)),this.Rvt=s),new E(function(t,r){e.Svt.vg(n.m4s.Ds,i,function(n){n?r(n):t()})})},i.$U=function(){var t=this;return new E(function(n){t.Svt.Evt(function(){var i=t._y;i&&i.length&&(t.Yy=i.end(i.length-1)),n()})})},i.Cvt=function(t){if(!this.uvt){try{this.uvt=this.svt.addSourceBuffer(t),this.uvt.addEventListener("updatestart",this.Oo),this.uvt.addEventListener("updateend",this.Oo)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.svt.addEventListener("sourceclose",this.Ivt),this.Svt.Nx(this.svt,this.uvt)}return!0},i.cvt=function(){for(var t=0;t<this.svt.sourceBuffers.length;t++)if(this.svt.sourceBuffers[t]===this.uvt)return!0;return!1},i.Ph=function(t){var n=this,i=this._y;if(!(this.uvt&&i&&i.length))return t&&t();this.uvt.remove(0,i.end(i.length-1)),t&&this.uvt.addEventListener("updateend",function i(r){n.uvt.removeEventListener("updateend",i),t()})},i.Cl=function(t){this.Rvt=null,this.Yy=NaN,this.f8(),this.Ph(t)},i.Tvt=function(t){this.uvt&&this.Svt.Tvt(t)},i.xut=function(t){this.uvt&&this.Svt.xut(t)},i.f8=function(){this.Svt.sh(),"open"===this.svt.readyState&&this.uvt&&this.uvt.updating&&this.uvt.abort()},M(n,[{key:"_y",get:function(){return this.uvt&&this.cvt()?new IO(LO(this.uvt.buffered)):null}},{key:"kO",get:function(){return this.uvt&&this.uvt.updating}},{key:"F_",get:function(){var t=this._y;return!t||!y(this.Yy)&&PO(t,this.Yy)}}]),n}(qC),mM="mp4a.40.34";var kM=function(t){function n(n){var i;return(i=t.call(this)||this).mediasource=void 0,i.audioTrackBuffer=void 0,i.videoTrackBuffer=void 0,i.Dvt=!1,i.vN=function(){var t=i.Dvt;i.Dvt=i.kO,!t&&i.Dvt?i.dispatchEvent("updatestart"):t&&!i.Dvt&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new yM(n),i.videoTrackBuffer=new yM(n),i.audioTrackBuffer.addEventListener("updatestart",i.vN),i.videoTrackBuffer.addEventListener("updatestart",i.vN),i.audioTrackBuffer.addEventListener("updateend",i.vN),i.videoTrackBuffer.addEventListener("updateend",i.vN),i.Cl(),i}F(n,t);var i=n.prototype;return i.Ntt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.yJ&&i.push(this.audioTrackBuffer.Ntt(n.metadata.yJ,n.yJ,n.metadata.yJ&&n.metadata.yJ.m3===mM?n.metadata.yJ.WR:NaN,n.metadata.y4)),n.mJ&&i.push(this.videoTrackBuffer.Ntt(n.metadata.mJ,n.mJ,NaN,n.metadata.y4)),t.next=7,E.all(i);case 7:this.F_&&(this.audioTrackBuffer.xut(),this.videoTrackBuffer.xut());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.xut=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.$U()),i&&r.push(this.videoTrackBuffer.$U()),t.next=5,E.all(r);case 5:this.F_&&(this.audioTrackBuffer.xut(),this.videoTrackBuffer.xut());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Nx=function(t){var n,i={};for(var r in t)if(Z.call(t,r)){var e=t[r];if(e.mJ){var s='video/mp4; codecs="'+e.mJ+'"';this.videoTrackBuffer.Cvt(s),i.mJ=this.videoTrackBuffer}if(e.yJ){var u=(n=e.yJ)!==mM||Xy?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.Cvt(u),i.yJ=this.audioTrackBuffer}0}return i},i.Cl=function(t){var n=!1,i=!1;this.Dvt=!1,this.audioTrackBuffer.Cl(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Cl(function(){if(i=!0,n&&t)return t()})},i.Tvt=function(t){this.audioTrackBuffer.Tvt(t),this.videoTrackBuffer.Tvt(t)},i.f8=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.f8(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.f8()},M(n,[{key:"_y",get:function(){var t=this.audioTrackBuffer._y,n=this.videoTrackBuffer._y;return t&&n?OO(t,n):t||n||NO}},{key:"qL",get:function(){return this.audioTrackBuffer._y||NO}},{key:"zL",get:function(){return this.videoTrackBuffer._y||NO}},{key:"kO",get:function(){return this.audioTrackBuffer.kO||this.videoTrackBuffer.kO}},{key:"F_",get:function(){return this.audioTrackBuffer.F_&&this.videoTrackBuffer.F_}}]),n}(qC),pM=1,AM=.05,bM=.01;function TM(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function EM(t,n,i,r){var e=BO(n,t),s=t;if(!(!r&&e>=0&&t<n.end(e)-AM)){var u,o;do{if((u=TM(t,n))<0)return;t=(o=n.start(u)+bM)+AM}while(n.end(u)-o<AM);for(var h=o-s,a=OO(new IO([{WR:s,zR:o}]),i),c=0;c<a.length;c++)h-=a.end(c)-a.start(c);return r&&e>=0&&(h-=n.end(e)-s),h<pM?o:void 0}}var SM=100,RM=1e-4,IM=500,NM=jy,CM=Y.be,DM=5,OM=["resize","volumechange"],xM=function(n){function i(t,i){var r;return(r=n.call(this)||this).Ovt=void 0,r.cS=void 0,r.xvt=!0,r.F_=!1,r.Pvt=!1,r.Bvt=!1,r.Lvt=null,r.Qo=!1,r.svt=null,r.uvt=null,r.Mvt=null,r.evt=!1,r.Uvt=0,r.Fvt=nA.SI(),r.Dat=1,r.Hvt=!1,r.oH=!1,r.q_=!1,r.Vvt=new es,r.Xvt=!1,r.Wvt=!1,r.qvt=void 0,r.zvt=null,r.Gvt=null,r.jvt=yl.S_,r.Qvt=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Yvt=function(){r.Qvt=!1,r.Zvt(),r.Jvt(),r.$vt()},r.Kvt=function(){r.tdt(),r.$vt(),r.ndt()},r.TS=function(){r.idt(),r.tdt(),r.vH()?r.dispatchEvent("playing"):r.Qvt=!0},r.rdt=function(){r.Qvt=!1,r.Zvt(),r.Gw()},r.zF=function(){r.edt()},r.bS=function(){r.sdt(),r.ndt()},r.mF=function(){var t=r.jvt,n=r.n_;t!==n&&(r.jvt=n,r.dispatchEvent(new t_(r.Jat(),n))),r.ndt()},r.Jvt=function(){r.Uvt&&(f(r.Uvt),r.Uvt=0,CM&&(r.cS.MS.removeEventListener("timeupdate",r.fW),r.removeEventListener(Ll.gl,r._W)))},r.udt=function(){r.Uvt||(r.Uvt=c(r.odt,IM)),CM&&(r.cS.MS.addEventListener("timeupdate",r.fW),r.addEventListener(Ll.gl,r._W),r.fW()),r.odt()},r.hdt=function(){var t=r.Jat(),n=PO(r.adt,t);r.cS.X_||r.q_&&!n||r.cdt()||r.udt()},r.odt=function(t){if(!(r.zvt||void 0===t&&r.Wvt)){var n,i=r.Jat(),e=r._y;if(void 0===t){if(void 0===(n=EM(i,e,r.adt,r.Pvt)))return}else{if(!PO(e,t))return;n=t}var s=function(){r.cS.MS.currentTime=n,r.fdt(n),r.Jvt(),r.Wvt=!0};jt(n,i)?r.zvt=h(function(){r.zvt=null,i=r.Jat(),jt(n,i)&&(n+=1e3*IM,s())},IM):s()}},r.YW=function(){var t=r.Mvt;if(r.vdt(),r.cS.MS.readyState===yl.S_)return r.Mvt=t,void r.cS.MS.addEventListener("loadedmetadata",r.YW);_.abs(r.cS.MS.currentTime-t)<RM?r.bS():(r.cS.MS.currentTime=t,r.Wvt=!1,r.zF()),r.Mvt=null,r.nP(r.Dat),r.cS.VW(),r.ddt(t)&&r.Gw()},r.ldt=function(){if(!r.Pvt){var t=r.cS.MS,n=r._y,i=t.currentTime;r._dt(n,i)&&(r.Pvt=!0,r.tdt(),i=t.currentTime,r._dt(n,i)?r.Pvt=!0:r.Pvt=!1,r.mF()),r.Gvt=i}},r.idt=function(){r.Zvt(),r.Lvt=c(r.ldt,SM)},r.Zvt=function(){r.Pvt=!1,f(r.Lvt)},r.gdt=function(){r.Pvt&&(r.Pvt=!1,r.mF())},r.fW=function(){var t=r.uvt;if(t)if(t.F_)r.vW();else{var n=t.qL,i=t.zL;if(0!==n.length&&0!==i.length){var e=r.Jat();if(e<n.start(0)||e<i.start(0))r.vW();else PO(n,e)!==PO(i,e)?r.dW():r.vW()}else r.vW()}},r._W=function(){if(!(r.q_||r.Wvt||r.cS.MS.seeking||r.n_>=yl.N_)){var t=r.uvt;if(t){var n=r.Jat(),i=nA.bI(t.qL),e=nA.bI(t.zL);if(i.iR(n)&&e.iR(n))i.aI(e).lI(n-DM,n)&&(r.cS.MS.currentTime=n,r.Wvt=!0)}}},r.wdt=function(){r.svt.open=!0,r.svt.removeEventListener("sourceopen",r.wdt),r.svt.removeEventListener("webkitsourceopen",r.wdt)},r.eX=function(t){var n=r.cS.MS.error&&r.cS.MS.error.code;n&&r.pS(new jC(GC.FY,{code:"VEE"+n}))},r.Oo=function(t){r.dispatchEvent({type:t.type})},r.ydt=function(){r.uvt&&r.uvt.F_&&r.dispatchEvent("durationchange")},r.mdt=function(){r.removeEventListener("kdt",r.mdt),r.Xvt=!1,r.pdt(r.Dat)},r.Ovt=t,r.cS=i,r}F(i,n);var r=i.prototype;return r.pdt=function(t){this.oH&&(t=0),this.cS.W_=t,0!==t||NM?this.Hvt&&(this.Hvt=!1,vM(this.cS.qw())):(this.Hvt=!this.cS.X_||this.Hvt,this.cS.zw()),this.$vt()},r.nP=function(t){this.Dat=t,this.Xvt||this.pdt(t)},r.Adt=function(t){var n=BO(this.adt,t);return-1===n?null:this.adt.end(n)},r.edt=function(){this.Wvt||this.q_||(this.q_=!0,this.dispatchEvent("seeking"))},r.sdt=function(){this.Wvt=!1,this.bdt(),this.q_&&(this.q_=!1,this.dispatchEvent("seeked")),this.hdt()},r.tdt=function(){this.Wvt||this.hdt()},r.bdt=function(){this.qvt&&(a(this.qvt),this.qvt=void 0)},r.fdt=function(t){var n=this;this.qvt=h(function(){n.odt(t+2)},750)},r.ndt=function(){this.Qvt&&this.vH()&&(this.Qvt=!1,this.dispatchEvent("playing"))},r.$vt=function(){var t=this.xvt,n=this.paused;this.xvt=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.rF=function(t,n){if(!(t+.001>n)){var i=new nA([t,n]);this.Fvt=this.Fvt.hI(i).cI(nA.bI(this._y)),this.Fvt.iR(this.Jat())&&this.hdt()}},r.ddt=function(t){return t>=this.cS.MS.duration-(this.paused?0:.5)},r.Tdt=function(t){return y(this.cS.MS.duration)||(t=_.min(t,this.cS.MS.duration)),_.max(0,t)},r.vdt=function(){this.Mvt=null,this.cS.MS.removeEventListener("loadedmetadata",this.YW)},r.lH=function(){return this.n_<yl.N_},r.vH=function(){return!(this.paused||this.ended||this.error||this.lH())},r._dt=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-AM)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Gvt&&this.Gvt===n){if(this.ddt(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.dW=function(){this.oH||(this.oH=!0,this.pdt(0),this.mF())},r.vW=function(){this.oH&&(this.oH=!1,this.nP(this.Dat),this.cS.MS.currentTime=this.cS.MS.currentTime,this.mF())},r.Edt=function(){var t=this.cS.MS;t.addEventListener("timeupdate",this.gdt),this.cS.Po(Qo.oc,this.Yvt),this.cS.Po(Qo.hc,this.Kvt),this.cS.Po(Qo.Ka,this.rdt),t.addEventListener("seeking",this.zF),t.addEventListener("seeked",this.bS);for(var n=0;n<OM.length;n++){var i=OM[n];t.addEventListener(i,this.Oo)}t.addEventListener("error",this.eX),t.addEventListener("durationchange",this.ydt),this.cS.Po(Qo.pc,this.Oo),this.cS.Po(Ll.gl,this.mF),this.cS.Po(Ll.L_,this.TS)},r.Sdt=function(){var t=this.cS.MS;t.removeEventListener("timeupdate",this.gdt),this.cS.Uo(Qo.oc,this.Yvt),this.cS.Uo(Qo.hc,this.Kvt),this.cS.Uo(Qo.Ka,this.rdt),t.removeEventListener("seeking",this.zF),t.removeEventListener("seeked",this.bS);for(var n=0;n<OM.length;n++){var i=OM[n];t.removeEventListener(i,this.Oo)}t.removeEventListener("error",this.eX),t.removeEventListener("durationchange",this.ydt),this.cS.Uo(Qo.pc,this.Oo),this.cS.Uo(Ll.gl,this.mF),this.cS.Uo(Ll.L_,this.TS)},r.Rdt=function(){var n=this.cS.MS,i=e.MediaSource||e.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.Idt(),this.svt=new i,this.svt.addEventListener("sourceopen",this.wdt),this.svt.addEventListener("webkitsourceopen",this.wdt),n.src=vO(this.svt),n.load()):this.pS(new jC(GC.VY,{code:"MVE2720"})):this.pS(new jC(GC.VY,{code:"MVE2650"}))},r.Idt=function(){if(this.evt=!1,this.uvt&&(this.uvt.Cl(),this.uvt=null),this.svt){this.Vvt.Eo();var t=this.cS.MS;t.src&&(dO(t.src),xr(t)),this.svt=null}},r.setup=function(){this.Rdt(),this.Edt(),this.cS.MS.parentNode!==this.Ovt&&this.Ovt.appendChild(this.cS.MS)},r.pS=function(t){this.Qo=t,this.dispatchEvent({type:"error",error:t})},r.cdt=function(){return this.uvt&&this.uvt.kO},r.Ndt=function(t){var n=this.Jat()-_.max(30,3*t.HJ.yZ.targetDuration);this.dispatchEvent("kdt"),this.uvt&&!t.w4&&this.uvt.Tvt(n),this.hdt()},r.Ntt=function(t){if(!this.svt.open||"closed"===this.svt.readyState)return E.reject("Cdt");if(!this.uvt)return E.reject("Ddt");var n=this.Odt(t);return this.Bvt||(this.Bvt=!0,this.dispatchEvent({type:"canplay"},!0)),n},r.Odt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.uvt.Ntt(n)),i.w4&&r.push(this.xut(!!n.yJ,!!n.mJ)),n=null,t.next=7,E.all(r);case 7:this.Ndt(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.xut=function(t,n){return this.svt.open&&"closed"!==this.svt.readyState?this.uvt?this.uvt.xut(t,n):E.reject("Ddt"):E.reject("Cdt")},r.play=function(){var t=this.cS.W_;this.F_=!1,0!==this.cS.W_||NM?(vM(this.cS.qw()),this.cS.VW(),this.cS.W_=t):this.Hvt=!0,this.$vt()},r.pause=function(){0!==this.cS.W_||NM?this.cS.zw():this.Hvt=!1,this.$vt()},r.Gw=function(){this.F_||(this.F_=!0,this.cS.zw(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return f(this.Lvt),this.Lvt=null,this.Jvt(),this.vdt(),this.Idt(),this.Sdt(),this.Mo(),this.cS.MS},r.reset=function(){f(this.Lvt),this.Lvt=null,this.Jvt(),this.vdt(),this.xvt=!0,this.F_=!1,this.Pvt=!1,this.Bvt=!1,this.Qo=!1,this.q_=!1,this.Qvt=!1,this.vW(),this.Rdt(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.ey=function(){return this.cS.MS},r.Jat=function(){return null===this.Mvt?this.cS.MS.currentTime:this.Mvt},r.Oct=function(t){var n=this.Adt(t);t=this.Tdt(t),this.Pvt=!1,this.cS.MS.error&&(this.Bvt=!1,this.Qo=!1,this.Rdt()),this.F_&&(this.F_=this.ddt(t)),this.Jvt(),null!==n&&(t=n),this.vdt(),this.Mvt=t,this.q_=!0,this.dispatchEvent("Ect"),this.dispatchEvent("seeking"),this.YW()},r.xdt=function(t){return this.svt.open?E.resolve(null):wd(this.svt,"sourceopen",t)},r.Pdt=function(t,n,i){os(i),n>0&&(this.svt.duration=n),this.uvt=new kM(this.svt);var r=this.uvt.Nx(t);return this.dispatchEvent("Yft"),this.uvt.addEventListener("updatestart",this.Jvt),this.uvt.addEventListener("updateend",this.hdt),this.evt=!0,this.dispatchEvent("evt"),r},r.wct=function(t,n,i){var r=this;this.Vvt.Eo();var e=new es;return e.So(i),this.Vvt=e,this.uvt?E.resolve(null):this.xdt(e.Io).then(function(){return r.Pdt(t,n,i)})},r.yK=function(t){Y.Pe&&(this.Xvt=!0,this.pdt(0),this.removeEventListener("kdt",this.mdt),this.addEventListener("kdt",this.mdt),this.uvt&&this.uvt.f8(t))},r.canPlayCodecs=function(t){return this.cS.MS.canPlayType('video/mp4; codecs="'+t+'"')},M(i,[{key:"adt",get:function(){return this.Fvt.rR()}},{key:"n_",get:function(){var t=this.cS.n_;return t>yl.I_&&(this.Pvt||this.oH)?yl.I_:t}},{key:"wy",get:function(){return this.cS.MS}},{key:"_y",get:function(){return this.uvt?this.uvt._y:this.cS.MS.buffered}},{key:"qL",get:function(){return this.uvt?this.uvt.qL:NO}},{key:"zL",get:function(){return this.uvt?this.uvt.zL:NO}},{key:"volume",get:function(){return this.cS.MS.volume},set:function(t){this.cS.MS.volume=t}},{key:"duration",get:function(){return this.cS.MS.duration}},{key:"muted",get:function(){return this.cS.MS.muted},set:function(t){this.cS.MS.muted=t}},{key:"paused",get:function(){return this.cS.X_&&!this.Hvt}},{key:"played",get:function(){return this.cS.MS.played}},{key:"poster",get:function(){return this.cS.MS.poster},set:function(t){t?this.cS.MS.poster=t:this.cS.MS.removeAttribute("poster")}},{key:"controls",get:function(){return this.cS.MS.controls},set:function(t){t?this.cS.MS.controls=t:this.cS.MS.removeAttribute("controls")}},{key:"ended",get:function(){return this.F_}},{key:"seeking",get:function(){return this.q_}},{key:"error",get:function(){return this.Qo||this.cS.MS.error}},{key:"width",get:function(){return this.cS.MS.offsetWidth||this.cS.MS.parentNode.offsetWidth}},{key:"height",get:function(){return this.cS.MS.offsetHeight||this.cS.MS.parentNode.offsetHeight}},{key:"W_",get:function(){return this.Dat},set:function(t){var n=this.Dat;t>0&&(this.nP(t),this.Dat!==n&&this.dispatchEvent("ratechange"))}},{key:"G_",get:function(){return this.cS.MS.videoWidth||0}},{key:"z_",get:function(){return this.cS.MS.videoHeight||0}},{key:"gct",get:function(){return this.evt}}]),i}(qC),PM=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","Bdt","yK",Ll.gl],BM=.04,LM=.25,MM=4,UM=.75,FM=1.5,HM=.25,VM=function(t){function n(){var n;return(n=t.call(this)||this).Ldt=null,n.Mdt=null,n.OI=!1,n.MI=1,n.BI=1,n.Udt=null,n.Fdt=void 0,n.zft=function(t){n.dispatchEvent(t)},n.Hdt=function(t){n.Mdt||n.dispatchEvent(t)},n.Vdt=function(t){var i=t.error||n.Mdt.error;n.audioStream=null,n.Udt=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Udt})},n.Xdt=function(){n.Mdt&&!n.Mdt.loaded||n.Ldt&&!n.Ldt.loaded||(n.Mdt&&(n.Mdt.removeEventListener("loaded",n.Xdt),n.Mdt.play()),n.Ldt&&(n.Ldt.removeEventListener("loaded",n.Xdt),n.Ldt.play()))},n.Wdt=function(){n.qdt(),n.Mdt&&n.Ldt&&(n.Mdt.addEventListener("timeupdate",n.zdt),n.Ldt.addEventListener("timeupdate",n.zdt))},n.qdt=function(){a(n.Fdt),n.Mdt&&n.Mdt.removeEventListener("timeupdate",n.zdt),n.Ldt&&(n.Ldt.W_=n.BI,n.Ldt.removeEventListener("timeupdate",n.zdt))},n.Gdt=function(){n.n_<yl.N_&&n.qdt()},n.zdt=function(){if(a(n.Fdt),n.Mdt&&n.Ldt){var t=n.Mdt.W_,i=n.Mdt.Jat()-n.Ldt.Jat(),r=_.max(MM,FM*t),e=_.min(LM,UM*t);if(_.abs(i)<BM)n.Ldt.W_!==t&&(n.Ldt.W_=t);else{var s=HM,u=t*(i/s+1);(u<e||u>r)&&(s=i/((u=i>0?r:e)/t-1)),n.Ldt.W_=u,n.Fdt=h(n.zdt,1e3*s)}}else n.qdt()},n.addEventListener("playing",n.Wdt),n.addEventListener("ended",n.qdt),n.addEventListener(Ll.gl,n.Gdt),n}F(n,t);var i=n.prototype;return i.dK=function(t,n){n?(t.addEventListener("timeupdate",this.zft),t.addEventListener("error",this.Vdt)):(t.addEventListener("timeupdate",this.Hdt),t.addEventListener("error",this.zft));for(var i=0;i<PM.length;i++){var r=PM[i];t.addEventListener(r,this.zft)}},i.Ho=function(t){t.removeEventListener("timeupdate",this.zft),t.removeEventListener("timeupdate",this.Hdt),t.removeEventListener("timeupdate",this.zdt),t.removeEventListener("error",this.zft),t.removeEventListener("error",this.Vdt),t.removeEventListener("loaded",this.Xdt);for(var n=0;n<PM.length;n++){var i=PM[n];t.removeEventListener(i,this.zft)}},i.jdt=function(t){this.Mdt&&this.Mdt.jdt(t),this.Ldt&&this.Ldt.jdt(t)},i.play=function(){if(this.Mdt&&!this.Mdt.loaded||this.Ldt&&!this.Ldt.loaded)return this.Mdt&&this.Mdt.addEventListener("loaded",this.Xdt),void(this.Ldt&&this.Ldt.addEventListener("loaded",this.Xdt));this.Xdt()},i.pause=function(){this.Mdt&&(this.Mdt.removeEventListener("loaded",this.Xdt),this.Mdt.pause()),this.Ldt&&(this.Ldt.removeEventListener("loaded",this.Xdt),this.Ldt.pause()),this.qdt()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.Mdt&&this.Mdt.load(),-1!==t.indexOf("video")&&this.Ldt&&this.Ldt.load()):(this.Mdt&&this.Mdt.load(),this.Ldt&&this.Ldt.load())},i.Lv=function(t){this.Mo(),this.Udt=null,t?(-1!==t.indexOf("audio")&&this.Mdt&&(this.Mdt.Lv(),this.Mdt=null),-1!==t.indexOf("video")&&this.Ldt&&(this.Ldt.Lv(),this.Ldt=null)):(this.Mdt&&(this.Mdt.Lv(),this.Mdt=null),this.Ldt&&(this.Ldt.Lv(),this.Ldt=null))},i.yK=function(t){this.Mdt&&this.Mdt.pause(),this.Ldt&&this.Ldt.pause(),this.qdt(),t&&-1===t.indexOf("audio")||!this.Mdt||this.Mdt.yK(),t&&-1===t.indexOf("video")||!this.Ldt||this.Ldt.yK()},i.Ntt=function(t){this.Mdt&&t.yJ&&this.Mdt.Ntt(t),this.Ldt&&t.mJ&&this.Ldt.Ntt(t)},i.Qdt=function(t){return this.Ldt?this.Ldt.Qdt(t):""},i.Ydt=function(){return this.Ldt?this.Ldt.Ydt():0},i.Zdt=function(){return this.Ldt?this.Ldt.Zdt():0},i.ey=function(){return this.Ldt&&this.Ldt.ey()},i.Jat=function(){return this.Mdt?this.Mdt.Jat():this.Ldt?this.Ldt.Jat():NaN},i.Oct=function(t,n){this.Mdt&&this.Mdt.Oct(t,n),this.Ldt&&this.Ldt.Oct(t,n)},M(n,[{key:"_y",get:function(){return this.Mdt&&this.Ldt?OO(this.Mdt._y,this.Ldt._y):this.Mdt?this.Mdt._y:this.Ldt?this.Ldt._y:NO}},{key:"volume",get:function(){return this.MI},set:function(t){this.MI!==t&&(this.MI=t,this.Mdt&&(this.Mdt.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.Mdt&&this.Mdt.duration||this.Ldt&&this.Ldt.duration||NaN}},{key:"muted",get:function(){return this.OI},set:function(t){this.OI!==t&&(this.OI=t,this.Mdt&&(this.Mdt.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.Mdt&&!this.Ldt)&&(!(this.Mdt&&!this.Mdt.loaded)&&!(this.Ldt&&!this.Ldt.loaded))}},{key:"paused",get:function(){return!this.Mdt&&!this.Ldt||(this.Mdt&&this.Mdt.paused||this.Ldt&&this.Ldt.paused||!1)}},{key:"ended",get:function(){return this.Mdt&&this.Mdt.ended||this.Ldt&&this.Ldt.ended||!1}},{key:"seeking",get:function(){return this.Mdt&&this.Mdt.seeking||this.Ldt&&this.Ldt.seeking||!1}},{key:"error",get:function(){return this.Mdt&&this.Mdt.error||this.Ldt&&this.Ldt.error}},{key:"warning",get:function(){return this.Udt||this.Mdt&&this.Mdt.warning||this.Ldt&&this.Ldt.warning}},{key:"audioStream",get:function(){return this.Mdt},set:function(t){this.Mdt&&(this.Ho(this.Mdt),this.Mdt.Lv()),this.Mdt=t,this.Mdt&&(this.Mdt.volume=this.MI,this.Mdt.muted=this.OI,this.Mdt.W_=this.BI,this.dK(this.Mdt,!0))}},{key:"videoStream",get:function(){return this.Ldt},set:function(t){this.Ldt&&(this.Ho(this.Ldt),this.Ldt.Lv()),this.Ldt=t,this.Ldt&&(this.Ldt.W_=this.BI,this.dK(this.Ldt,!1))}},{key:"W_",get:function(){return this.BI},set:function(t){this.BI!==t&&(t<0||(this.BI=t,this.Mdt&&(this.Mdt.W_=t),this.Ldt&&(this.Ldt.W_=t),this.dispatchEvent("ratechange")))}},{key:"n_",get:function(){return this.Mdt&&this.Ldt?_.min(this.Mdt.n_,this.Ldt.n_):this.Mdt?this.Mdt.n_:this.Ldt?this.Ldt.n_:yl.S_}},{key:"G_",get:function(){return this.Ldt?this.Ldt.G_:0}},{key:"z_",get:function(){return this.Ldt?this.Ldt.z_:0}}]),n}(qC),XM=function(){function t(t,n,i,r){var e=this;this.Jdt=void 0,this.$dt=void 0,this.U_=void 0,this.UD=void 0,this.Kdt=void 0,this.tlt=void 0,this.Qy=void 0,this.cv=0,this.Cv=0,this.running=!1,this.nlt=function(t){return e.Bh(t)},this.Jdt=t,this.$dt=n,this.U_=i,this.UD=r,this.Kdt=t.ih(),this.tlt=(n-this.Kdt)/(i||1)}var n=t.prototype;return n.ilt=function(){return this.Jdt.Va(this.$dt),this.running=!1,this.rlt(),this.UD()},n.WR=function(){var t=this;this.running=!0,this.U_?this.elt():WC(function(){t.running&&t.ilt()})},n.Bh=function(t){if(this.rlt(),this.running){void 0===this.Qy&&(this.Qy=t);var n=this.Kdt,i=this.tlt,r=this.$dt,e=this.Jdt,s=n+_.max(0,t-this.Qy)*i;if(n>=r&&s<=r||n<r&&s>=r)return this.ilt();if(e.Va(s))return this.ilt();this.elt()}},n.elt=function(){this.cv=vT(this.nlt),this.Cv=aT(this.nlt)},n.rlt=function(){dT(this.cv),fT(this.Cv)},t}();var WM=function(t){function n(n,i){var r;return(r=t.call(this)||this).slt=void 0,r.xs=void 0,r.ult=null,r.olt=null,r.hlt=NaN,r.clt=!1,r.flt=!1,r.vlt=1,r.dlt=void 0,r.llt=void 0,r._lt=function(t){r.glt(t)||r.dispatchEvent(t)},r.slt=n,r.xs=i,r}F(n,t);var i=n.prototype;return i.pause=function(){this.slt.pause()},i.play=function(){vM(this.slt.play()),this.wlt()},i.ylt=function(t){if(!(this.n_<yl.N_))return this.f8(),this.clt=!0,this._lt({type:"canplay"}),t&&t();this.dlt=h(this.llt,100)},i.xh=function(t){this.flt=!0,this.clt=!1,this.slt.removeEventListener("canplay",this.llt),this.llt=this.ylt.bind(this,t),this.slt.addEventListener("canplay",this.llt),this.slt.load(),this.dlt=h(this.llt,100)},i.f8=function(){this.flt=!1,this.slt.removeEventListener("canplay",this.llt),void 0!==this.dlt&&(a(this.dlt),this.dlt=void 0)},i.mlt=function(t){if(this.pause(),this.f8(),null===t)return this.ult=null,void(this.clt=!1);this.clt=!1,this.olt&&this.olt.W8(this.slt.src),this.olt=t[this.xs],this.slt.src=this.olt.q8,this.ult=t},i.ey=function(){return this.slt},i.klt=function(t){this.hlt=_.max(t||0,0),this.slt.currentTime=this.hlt},i.plt=function(){return this.slt.currentTime},i.Alt=function(t){var n=this.ult&&this.ult.metadata,i=n&&n.WR,r=n&&n[this.xs].WR,e=n&&n[this.xs].U_;return!!this.X1&&(!(t<i)&&t<r+_.min(e,this.slt.duration))},i.wlt=function(){this.vlt!==this.slt.playbackRate&&(this.slt.playbackRate=this.vlt,Qy&&this.vlt>0&&this.n_!==yl.S_&&(this.slt.currentTime=this.slt.currentTime))},i.glt=function(t){return!!(Qy&&"seeked"===t.type&&_.abs(this.slt.currentTime-this.hlt)>.04)},i.addEventListener=function(n,i){this.CY(n)||this.slt.addEventListener(n,this._lt),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.CY(n)||this.slt.removeEventListener(n,this._lt)},i.Mo=function(){for(var n=0,i=this.DY();n<i.length;n++){var r=i[n];this.slt.removeEventListener(r,this._lt)}t.prototype.Mo.call(this)},i.unload=function(){this.olt&&this.olt.W8(this.slt.src),this.Mo()},M(n,[{key:"volume",get:function(){return this.slt.volume},set:function(t){this.slt.volume=t}},{key:"muted",get:function(){return this.slt.muted},set:function(t){this.slt.muted=t}},{key:"style",get:function(){return this.slt.style}},{key:"WR",get:function(){return this.ult?this.ult.metadata[this.xs].WR:NaN}},{key:"zR",get:function(){return this.ult?this.WR+this.ult.metadata[this.xs].U_:NaN}},{key:"blt",get:function(){return this.ult?this.WR+this.Tlt:NaN},set:function(t){this.ult?this.Tlt=t-this.WR:this.Tlt=0}},{key:"Tlt",get:function(){return this.plt()},set:function(t){this.klt(t)}},{key:"Elt",get:function(){return this.ult},set:function(t){this.mlt(t)}},{key:"V8",get:function(){return this.ult&&this.ult.metadata.w4}},{key:"X1",get:function(){return!(!this.clt||!this.ult)}},{key:"Slt",get:function(){return!(!this.flt||!this.ult)}},{key:"W_",get:function(){return this.vlt},set:function(t){t>=0&&this.vlt!==t&&(this.vlt=t,this.wlt())}},{key:"X_",get:function(){return this.slt.paused}},{key:"F_",get:function(){return this.slt.ended}},{key:"Qo",get:function(){return this.slt.error}},{key:"G_",get:function(){return this.slt.videoWidth}},{key:"z_",get:function(){return this.slt.videoHeight}},{key:"n_",get:function(){return this.slt.readyState}}]),n}(qC);function qM(t,n){return i=t.Elt.metadata.HJ,r=n.Elt.metadata.HJ,i.bandwidth&&r.bandwidth&&l_(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&l_(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||d_(i.ZY,r.ZY)||l_(t.zR,n.zR);var i,r}function zM(t){return{WR:t.WR,zR:t.zR}}function GM(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.WR<=n&&n<r.zR)return i}return-1}function jM(t,n,i){return{WR:n?i.metadata.C8:i.metadata[t].WR,zR:i.metadata[t].WR+i.metadata[t].U_}}function QM(t,n,i){return new IO([jM(t,n,i)])}function YM(t,n,i){for(var r=[],e=0;e<i.length;e++){var s=i[e];r.push(jM(t,n,s))}return DO(new IO(r))}function ZM(t,n,i){if(!n)return!1;var r=n.metadata[t].WR,e=r+n.metadata[t].U_;return r<=i&&i<=e}function JM(t,n){var i=BO(t,n);return i<0?n:t.end(i)}var $M=function(){function t(t){this.io=void 0,this.S2=[],this.Rlt=NO,this.Ilt=NO,this.io=t}var n=t.prototype;return n.Ntt=function(t){var n,i;this.S2=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.Elt===t?e.zR=r:i.push({Elt:t,WR:n,zR:r})},e=0;e<t.length;e++){var s=t[e];if(s.zR<=n.WR)r(s.Elt,s.WR,s.zR);else if(s.WR>=n.zR)n.WR<n.zR&&(r(n.Elt,n.WR,n.zR),n.WR=n.zR),r(s.Elt,s.WR,s.zR);else{var u=void 0,o=void 0;qM(n,s)>=0?(u=s,o=n):(u=n,o=s);var h=u.WR,a=o.WR,c=_.min(o.zR,s.zR),f=_.min(u.zR,s.zR);h<a&&r(u.Elt,h,a),a<c&&r(o.Elt,a,c),c<f&&r(u.Elt,c,f),n.WR=_.max(n.WR,s.zR)}}return n.WR<n.zR&&r(n.Elt,n.WR,n.zR),i}(this.S2,function(t,n){var i=n.metadata[t].WR;return{Elt:n,WR:i,zR:i+n.metadata[t].U_}}(this.io,t)),this.Rlt=MO(this.Rlt,QM(this.io,!1,t)),this.Ilt=MO(this.Ilt,QM(this.io,!0,t)),this.Ilt=(n=this.Ilt,i=this.Rlt,OO(n,xO(i)))},n.Nlt=function(t){t=this.Clt(t);var n=GM(this.S2,t);return n>=0?this.S2[n].Elt:null},n.Dlt=function(t,n,i,r){t=this.Clt(t);var e=this.S2,s=GM(e,t);if(s<0)return null;var u=e[s];if(!i||!ZM(this.io,i,t))return r&&ZM(this.io,r,t)?null:u.Elt;if(i!==u.Elt){if(r&&r===u.Elt)return null;if(u.zR-t>n)return u.Elt}for(var o=s+1;o<e.length;o++){var h=e[o];if(r&&r===h.Elt)return null;if(h.zR-t>n)return h.Elt;for(var a=[i],c=o+1;c<e.length;c++)a.push(e[c].Elt);var f=YM(this.io,!1,a);a.push(h.Elt);var v=YM(this.io,!1,a);if(JM(f,t)<JM(v,t))return h.Elt}return null},n.Olt=function(t,n){for(var i=this.S2,r=i.length-1;r>=0;r--){var e=i[r];(e.zR<=t||e.WR>=n)&&Ye(i,r)}},n.Cl=function(){this.S2.length=0,this.Rlt=NO,this.Ilt=NO},n.Clt=function(t){var n=EM(t,this._y,this.Ilt,!1);return void 0===n?t:n},M(t,[{key:"_y",get:function(){var t=this.S2.map(zM);return DO(new IO(t))}}]),t}(),KM=5,tU=30,nU=function(t){function n(n,i){var r,e;(r=t.call(this)||this).xlt=void 0,r.xs=void 0,r.Plt=void 0,r.Blt=void 0,r.Llt=void 0,r._a={yJ:{Mlt:100,Ult:100,Flt:100},mJ:{Mlt:500,Ult:100,Flt:200}},r.MI=void 0,r.vS=null,r.Udt=null,r.Hlt=null,r.Vlt=void 0,r.Xlt=void 0,r.Wlt=void 0,r.qlt=void 0,r.zlt=null,r.Glt=void 0,r.jlt=void 0,r.Qlt=0,r.Ylt=null,r.Zlt=!1,r.SQ=!1,r.Jlt=0,r.$lt=0,r.Klt=yl.S_,r.Tvt=function(){var t=r.Jat();r.Llt.Olt(t-KM,t+tU)},r.t_t={n_t:(e=sn(r),{xh:function(){e.Wlt.addEventListener("ended",this.i_t),e.qlt.addEventListener("ended",this.r_t)},Lv:function(){e.Wlt.removeEventListener("ended",this.i_t),e.qlt.removeEventListener("ended",this.r_t)},e_t:function(){},i_t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Wlt})},r_t:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.qlt})}}),Xb:{hs:"Xb",xh:function(){},Lv:function(){},e_t:function(){}},s_t:function(){var t=sn(r),n=function n(){t.Wlt.removeEventListener("play",n),t.Wlt.removeEventListener("timeupdate",i),t.Wlt.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Wlt.X_||(!t.seeking&&t.Wlt.Elt?(i=t.Wlt,(r=t.qlt).X1&&iU(i,r)>=0&&t.u_t(t.t_t.o_t)):t.Wlt.removeEventListener("timeupdate",n))};return{hs:"s_t",xh:function(){t.t_t.n_t.xh.call(this),this.h_t(),this.e_t()},Lv:function(){t.t_t.n_t.Lv.call(this),t.Wlt.removeEventListener("play",n),t.Wlt.removeEventListener("timeupdate",i)},e_t:function(){t.Wlt.Elt?t.e_t(t.qlt,t.a_t):t.e_t(t.Wlt,t.a_t)},i_t:function(){var n=t.qlt.Elt;if(n&&n.metadata.y4)return t.qlt.Alt(t.Wlt.blt)&&(t.qlt.blt=t.Wlt.blt),t.c_t(),void t.Wlt.play();t.t_t.n_t.i_t.call(this)},r_t:function(){0},h_t:function(){t.Wlt.removeEventListener("play",n),t.Wlt.X_?t.Wlt.addEventListener("play",n):n.call(t.Wlt)}}}(),o_t:function(){var t=sn(r),n=function(){r.u_t(r.t_t.f_t)};return{hs:"o_t",xh:function(){t.t_t.n_t.xh.call(this),t.qlt.addEventListener("seeked",n);var i=iU(t.Wlt,t.qlt),r=t._a[t.xs].Mlt/1e3,e=_.min(i+r,t.qlt.zR);try{t.qlt.Tlt=e}catch(n){t.u_t(t.t_t.s_t),t.v_t(n.message)}},Lv:function(){t.t_t.n_t.Lv.call(this),t.qlt.removeEventListener("seeked",n)},e_t:function(){},i_t:function(){t.t_t.n_t.i_t.call(this)},r_t:function(){}}}(),f_t:function(){var t,n=sn(r),i=function(){s()},e=function(){s()},s=function(){dT(t),r.qlt.blt-r.Wlt.blt-1/60>0?t=vT(i):r.u_t(r.t_t.d_t)};return{hs:"f_t",xh:function(){n.t_t.n_t.xh.call(this),n.Wlt.addEventListener("timeupdate",e),s()},Lv:function(){n.t_t.n_t.Lv.call(this),dT(t),n.Wlt.removeEventListener("timeupdate",e)},e_t:function(){},i_t:function(){n.t_t.n_t.i_t.call(this)},r_t:function(){n.t_t.n_t.r_t.call(this)}}}(),d_t:function(){var t,n=sn(r),i=function(){var t=r.l_t(r.qlt),n=r._a[r.xs].Ult/_.max(1,r.Wlt.W_);return function(t,n,i,r){return new XM(t,n,i,r)}(t,t.__t,n,function(){r.u_t(r.t_t.g_t),r.t_t.g_t.w_t()})},e=function(){r.Hlt.WR(),r.u_t(r.t_t.g_t)};return{hs:"d_t",xh:function(){n.t_t.n_t.xh.call(this);var r=n._a[n.xs].Flt/_.max(1,n.Wlt.W_);n.Hlt=i(),t=h(e,r),n.qlt.play()},Lv:function(){n.t_t.n_t.Lv.call(this),a(t),t=0},e_t:function(){},i_t:function(){n.t_t.n_t.i_t.call(this)},r_t:function(){n.t_t.n_t.r_t.call(this)}}}(),g_t:function(){var t=sn(r);return{hs:"g_t",xh:function(){t.t_t.n_t.xh.call(this)},Lv:function(){t.t_t.n_t.Lv.call(this),t.Hlt&&t.Hlt.ilt()},e_t:function(){},i_t:function(){t.t_t.n_t.i_t.call(this)},r_t:function(){t.t_t.n_t.r_t.call(this)},w_t:function(){t.Hlt=null,t.c_t()}}}()},r.y_t={m_t:function(){var t=sn(r);return{xh:function(){},Lv:function(){},e_t:function(){t.Glt.e_t()},Oct:function(n,i,r,e){t.Qlt=n,t.Ylt=e,t.u_t(t.t_t.Xb);var s=t.Wlt===t.Vlt?i:r,u=t.qlt===t.Vlt?i:r;s&&t.Wlt.Alt(n)?t.k_t(t.y_t.p_t):u&&t.qlt.Alt(n)?t.k_t(t.y_t.A_t):t.k_t(t.y_t.b_t)}}}(),b_t:function(){var t=sn(r),n=function(){r.a_t(),r.qlt.X1?(r.qlt.Alt(r.Qlt)||(r.T_t('Could not seek to exact timestamp "'+r.Qlt+'", seeking instead to: "'+r.qlt.WR+'"'),r.Qlt=r.qlt.WR),r.k_t(r.y_t.A_t)):r.k_t(r.y_t.m_t)};return{xh:function(){t.E_t(),t.Wlt.Elt=null,t.qlt.Elt=null,t.qlt.style.display="none",t.a_t(),this.e_t()},Lv:function(){t.qlt.f8(),t.qlt.style.display=""},e_t:function(){t.qlt.Elt||t.e_t(t.qlt,n)},Oct:function(n,i,r,e){t.S_t(),t.jlt.Oct(n,i,r,e)}}}(),p_t:function(){var t=sn(r),n=function(){r.k_t(r.y_t.m_t),r.u_t(r.t_t.s_t),r.sH(),r.Ylt&&(r.Ylt.call(t),r.Ylt=null)};return{xh:function(){t.Wlt.addEventListener("seeked",n);try{t.Wlt.blt=t.Qlt,t.sH()}catch(n){t.v_t(n.message)}},Lv:function(){t.Wlt.removeEventListener("seeked",n)},e_t:function(){},Oct:function(n,i,r,e){t.S_t(),t.jlt.Oct(n,i,r,e)}}}(),A_t:function(){var t=sn(r),n=function(){r.k_t(r.y_t.m_t),r.c_t(),r.Ylt&&(r.Ylt.call(t),r.Ylt=null)};return{xh:function(){t.qlt.style.display="none",t.qlt.addEventListener("seeked",n);try{t.qlt.blt=t.Qlt,t.sH()}catch(n){t.v_t(n.message)}},Lv:function(){t.qlt.style.display="",t.qlt.removeEventListener("seeked",n)},e_t:function(){},Oct:function(n,i,r,e){t.S_t(),t.jlt.Oct(n,i,r,e)}}}()},r.a_t=function(){var t=r.SQ;r.SQ=r.Vlt.Slt||r.Xlt.Slt,t&&!r.SQ&&r.dispatchEvent("updateend"),r.R_t(),r.sH(),r.I_t()},r.sH=function(){var t=r.n_;t!==r.Klt&&(r.Klt=t,r.dispatchEvent(Ll.gl))},r.xlt=n,r.xs=i,r.Llt=new $M(i),r.MI="mJ"===i?0:1;var s=function(t){switch(t){case"yJ":return"audio";case"mJ":return"video"}}(i);return r.Plt=rU(s),r.Blt=rU(s),n.appendChild(r.Plt),n.appendChild(r.Blt),r.Vlt=new WM(r.Plt,r.xs),r.Xlt=new WM(r.Blt,r.xs),r.Wlt=r.Vlt,r.qlt=r.Xlt,r.Glt=r.t_t.s_t,r.jlt=r.y_t.m_t,r.Glt.xh(),r.jlt.xh(),r.Y$(),r.Ll(),r}F(n,t);var i=n.prototype;return i.N_t=function(t){return t===this.Vlt?this.Xlt:this.Vlt},i.T_t=function(t){this.Udt=t,this.dispatchEvent({type:"warning",warning:this.Udt})},i.v_t=function(t){this.vS=t,this.dispatchEvent({type:"error",error:t})},i.l_t=function(t){var n,i=this,r=this.N_t(t);return n="mJ"===this.xs?{ih:function(){if(i.zlt!==t)return 0;var n=w(t.style.opacity);return y(n)?1:n},Va:function(n){n=zt(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.zlt=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},__t:1,C_t:function(){if(n.ih()!==n.__t)return n.Va(n.__t)}}:{ih:function(){return t.volume},Va:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.__t-i}catch(t){e=t}return e},__t:this.MI,C_t:function(){if(n.ih()!==n.__t)return n.Va(n.__t)}}},i.e_t=function(t,n){var i=this.Llt.Dlt(this.Jat(),1,this.Wlt.Elt,this.qlt.Elt);return!!i&&(this.E_t(),t.Elt=i,t.xh(n),t.V8&&this.dispatchEvent("durationchange"),!0)},i.D_t=function(){this.E_t(),this.Llt.Cl(),this.Vlt.f8(),this.Xlt.f8(),this.a_t()},i.ey=function(){return this.Wlt.ey()},i.Jat=function(){return this.seeking?this.Qlt:this.Wlt.blt},i.Oct=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.jlt.Oct(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.c_t=function(){var t=this.Wlt;this.u_t(this.t_t.Xb),this.Wlt=this.qlt,this.qlt=t,this.l_t(this.Wlt).C_t(),this.E_t(),this.qlt.pause(),this.qlt.Elt=null,this.a_t(),this.u_t(this.t_t.s_t)},i.Y$=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.v_t(new jC(GC.FY,{code:"VEE"+i.error})):t.v_t(new jC(GC.FY,{code:"VEE"+n.Qo.code}));n===t.Wlt&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Vlt),e=i.bind(null,this.Xlt),s=0;s<n.length;s++){var u=n[s];this.Vlt.addEventListener(u,r),this.Xlt.addEventListener(u,e)}this.Vlt.addEventListener("error",r),this.Xlt.addEventListener("error",e);for(var o=0;o<JS.length;o++){var h=JS[o];this.Vlt.addEventListener(h,this.sH),this.Xlt.addEventListener(h,this.sH)}},i.Ll=function(){this.addEventListener("seeking",this.Tvt),this.addEventListener("timeupdate",this.Tvt)},i.u_t=function(t){var n;if(this.Glt!==t){do{(n=this.Glt).Lv()}while(n!==this.Glt);this.Glt=t,t.xh()}},i.k_t=function(t){var n;if(this.jlt!==t){do{(n=this.jlt).Lv()}while(n!==this.jlt);this.jlt=t,t.xh()}},i.S_t=function(){this.Ylt=null,this.k_t(this.y_t.m_t)},i.load=function(){this.pause(),this.S_t(),this.Wlt.Elt=null,this.qlt.Elt=null,this.u_t(this.t_t.s_t)},i.Lv=function(){this.S_t(),this.u_t(this.t_t.Xb),this.D_t(),this.Vlt.unload(),this.Xlt.unload(),this.xlt.removeChild(this.Plt),this.xlt.removeChild(this.Blt),this.vS=null,this.Udt=null},i.yK=function(){var t=this,n=this.Jat();this.D_t(),this.jlt.Oct(n,!1,!1,function(){t.dispatchEvent("yK",!0)})},i.play=function(){this.l_t(this.Wlt).C_t(),this.Wlt.X1&&this.Wlt.play()},i.pause=function(){this.Vlt.pause(),this.Xlt.pause()},i.jdt=function(t){var n=this,i=function(){n.dispatchEvent("Bdt",!0)};this.pause(),this.Wlt.F_?this.jlt.Oct(t,this.qlt===this.Vlt,this.qlt===this.Xlt,i):this.qlt.F_?this.jlt.Oct(t,!1,!1,i):this.qlt.Alt(t)?this.jlt.Oct(t,this.qlt===this.Vlt,this.qlt===this.Xlt,i):i()},i.Ntt=function(t){this.E_t(),this.Llt.Ntt(t),this.a_t(),this.jlt.e_t()},i.Qdt=function(t){return this.Plt.canPlayType('video/mp4; codecs="'+t+'"')},i.Ydt=function(){return _.max(this.Plt.offsetWidth,this.Blt.offsetWidth)},i.Zdt=function(){return _.max(this.Plt.offsetHeight,this.Blt.offsetHeight)},i.R_t=function(){!this.Zlt&&this.loaded&&(this.Zlt=!0,this.dispatchEvent("loaded"))},i.I_t=function(){if("mJ"===this.xs){var t=this.G_,n=this.z_;t>0&&n>0&&(this.Jlt!==t||this.$lt!==n)&&(this.Jlt=t,this.$lt=n,this.dispatchEvent("resize"))}},i.E_t=function(){var t=this.SQ;this.SQ=!0,t||this.dispatchEvent("updatestart")},M(n,[{key:"_y",get:function(){var t=[];return y(this.Vlt.WR)||t.push({WR:this.Vlt.WR,zR:this.Vlt.zR}),y(this.Xlt.WR)||t.push({WR:this.Xlt.WR,zR:this.Xlt.zR}),MO(DO(new IO(t)),this.Llt._y)}},{key:"duration",get:function(){return this.Wlt.V8?this.Wlt.zR:this.qlt.V8?this.qlt.zR:NaN}},{key:"paused",get:function(){return this.Wlt.X_}},{key:"ended",get:function(){return this.Wlt.F_}},{key:"muted",get:function(){return this.Wlt.muted&&this.qlt.muted},set:function(t){this.Wlt.muted=t,this.qlt.muted=t}},{key:"volume",get:function(){return this.MI},set:function(t){this.MI=t,this.Hlt&&this.Hlt.ilt(),this.qlt.volume=0,this.Wlt.volume=this.MI}},{key:"error",get:function(){return this.vS}},{key:"warning",get:function(){return this.Udt}},{key:"seeking",get:function(){return this.jlt!==this.y_t.m_t}},{key:"loaded",get:function(){return this.Wlt.X1}},{key:"W_",get:function(){return this.Wlt.W_},set:function(t){t>=0&&(this.Wlt.W_=t,this.qlt.W_=t)}},{key:"G_",get:function(){return this.Wlt.G_}},{key:"z_",get:function(){return this.Wlt.z_}},{key:"kO",get:function(){return this.SQ}},{key:"n_",get:function(){var t;if(this.jlt===this.y_t.b_t||this.jlt===this.y_t.A_t)t=yl.R_;else{var n=this.Wlt.n_;if(n<=yl.I_)t=n;else{var i=nA.bI(this._y).JR(),r=this.duration,e=this.Jat();y(r)||(e=_.min(e,r));var s=i.pI(e);if(s){var u=s.zR(0);t=u-e>=3*this.W_||!y(r)&&u>=r?yl.C_:yl.N_}else t=yl.I_}}return t===yl.S_&&this.Zlt?yl.R_:t}}]),n}(qC);function iU(t,n){return t.blt-n.WR}function rU(t){var n=s.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),Cr(n),n.controls=!1,n}var eU,sU=function(){function t(t){var n=this;this.AR=void 0,this.Sy=void 0,this.O_t=void 0,this.x_t=void 0,this.P_t=void 0,this.B_t=function(){(y(n.x_t)||n.P_t)&&(n.x_t=n.Xx()),n.O_t=n.x_t,n.P_t=!1},this.L_t=function(){var t=n.Xx();n.M_t(t),n.x_t=t},this.U_t=function(){n.AR.n_<=yl.I_&&n.L_t()},this.F_t=function(){n.M_t(n.x_t),n.P_t=!0},this.H_t=function(){n.x_t=n.Xx()},this.AR=t,this.Sy=nA.SI(),this.O_t=NaN,this.x_t=NaN,this.P_t=!1,t.addEventListener("playing",this.B_t),t.addEventListener("pause",this.L_t),t.addEventListener("seeking",this.F_t),t.addEventListener("timeupdate",this.H_t),t.addEventListener(Ll.gl,this.U_t)}var n=t.prototype;return n.PF=function(){var t=this.Sy,n=this.O_t;if(!y(n)){var i=this.Xx();n<i&&(t=t.hI(new nA([n,i])))}return t.rR()},n.Xx=function(){return this.AR.Jat()},n.M_t=function(t){var n=this.O_t;n<t&&(this.Sy=this.Sy.hI(new nA([n,t]))),this.O_t=NaN},n.Ect=function(){var t=this.Xx();this.M_t(t),this.P_t=!0},n.Cl=function(){this.Sy=nA.SI(),this.O_t=NaN,this.x_t=NaN,this.P_t=!1},n.mo=function(){var t=this.AR;t.removeEventListener("playing",this.B_t),t.removeEventListener("pause",this.L_t),t.removeEventListener("seeking",this.F_t),t.removeEventListener("timeupdate",this.H_t),t.removeEventListener(Ll.gl,this.U_t),this.AR=null},t}(),uU=function(t){function n(n,i){var r;return(r=t.call(this)||this).V_t=void 0,r.cS=void 0,r.Wi=!1,r.iH=NaN,r.X_t=void 0,r.Hc=void 0,r.xlt=void 0,r.W_t=void 0,r.vS=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Klt=yl.S_,r.q_t=function(){r.W_t.seeking||(r.W_t.removeEventListener("seeked",r.q_t),r.dispatchEvent("seeked"),r.z_t.paused?r.Hc=r.G_t:r.j_t(),r.sH())},r.Q_t=function(){r.W_t.paused||(r.W_t.removeEventListener("playing",r.Q_t),r.dispatchEvent("playing"))},r.Y_t=function(t){r.Hc=r.Z_t,r.vS=t,r.dispatchEvent({type:"error",error:r.vS})},r.J_t={paused:!0,play:function(){r.removeEventListener("evt",r.J_t.$_t),r.Wi?(r.Hc=r.K_t,r.W_t.removeEventListener("playing",r.Q_t),r.W_t.addEventListener("playing",r.Q_t),r.W_t.play(),r.dispatchEvent("play")):r.addEventListener("evt",r.J_t.$_t)},$_t:function(){r.removeEventListener("evt",r.J_t.$_t),r.Hc.play()},stall:function(){},pause:function(){r.J_t.$_t&&r.removeEventListener("evt",r.J_t.$_t),r.W_t.pause(),r.dispatchEvent("pause"),r.Hc=r.G_t},load:function(t){},Jat:function(){return r.Wi?r.W_t.Jat():0},Oct:function(t,n){var i=PO(r._y,t);n=n||!i,r.W_t.removeEventListener("seeked",r.q_t),r.W_t.addEventListener("seeked",r.q_t),r.z_t.seekTime=t,r.Hc=r.z_t,r.dispatchEvent("Ect"),r.W_t.Oct(t,n),r.dispatchEvent("seeking")},sP:function(){return r.W_t.n_},yK:function(t){r.z_t.seekTime=r.Jat(),r.Hc=r.tgt,r.W_t.removeEventListener("yK",r.tgt.ngt),r.W_t.addEventListener("yK",r.tgt.ngt),r.W_t.yK(t),r.sH()},forwardEvent:function(t){"pause"===t.type&&r.W_t.ended||r.dispatchEvent(t)}},r.G_t=te({},r.J_t,{pause:function(){r.removeEventListener("evt",r.J_t.$_t)},Oct:function(t){r.z_t.paused=!0,r.J_t.Oct(t)},yK:function(t){r.z_t.paused=!0,r.J_t.yK(t)}}),r.igt=te({},r.G_t),r.rgt=te({},r.G_t,{load:function(t,n){r.removeEventListener("evt",r.rgt.egt),n||r.dispatchEvent("loadstart"),r.Wi?r.W_t.load(t):(r.rgt.sgt=t,r.addEventListener("evt",r.rgt.egt))},egt:function(){r.removeEventListener("evt",r.rgt.egt),r.Hc.load(r.rgt.sgt,!0)},sgt:null,Jat:function(){return r.Wi?r.W_t.Jat():r.rgt.ugt},Oct:function(t){r.removeEventListener("evt",r.rgt.ogt),r.Wi?(r.Hc=r.G_t,r.Hc.Oct(t)):(r.rgt.ugt=t,r.addEventListener("evt",r.rgt.ogt),r.dispatchEvent("seeking"))},ogt:function(){r.removeEventListener("evt",r.rgt.ogt),r.Hc.Oct(r.rgt.ugt)},ugt:0,yK:function(t){}}),r.K_t=te({},r.J_t,{Oct:function(t){r.z_t.paused=!1,r.J_t.Oct(t)},play:function(){},stall:function(){r.Hc=r.hgt,r.hgt.agt=r.W_t.Jat(),r.hgt.paused=!1,r.W_t.addEventListener("Bdt",r.hgt.cgt),r.W_t.jdt(r.hgt.agt),r.sH()},yK:function(t){r.z_t.paused=!1,r.J_t.yK(t)}}),r.hgt=te({},r.K_t,{paused:!1,agt:0,Oct:function(t){r.W_t.removeEventListener("Bdt",r.hgt.cgt),r.hgt.paused?r.Hc=r.G_t:r.Hc=r.K_t,r.Hc.Oct(t),r.sH()},Jat:function(){return r.hgt.agt},sP:function(){return _.min(r.W_t.n_,yl.I_)},forwardEvent:function(){},play:function(){r.hgt.paused=!1,r.dispatchEvent("play")},pause:function(){r.hgt.paused=!0,r.dispatchEvent("pause")},stall:function(){},cgt:function(){r.W_t.seeking||(r.W_t.removeEventListener("Bdt",r.hgt.cgt),r.hgt.paused?r.Hc=r.G_t:r.J_t.play(),r.sH())}}),r.z_t=te({},r.J_t,{paused:!1,seekTime:0,Jat:function(){return r.z_t.seekTime},play:function(){r.z_t.paused=!1},pause:function(){r.z_t.paused=!0,r.W_t.pause(),r.dispatchEvent("pause")}}),r.tgt=te({},r.z_t,{Oct:function(t){r.W_t.removeEventListener("yK",r.tgt.ngt),r.z_t.paused?r.Hc=r.G_t:r.Hc=r.K_t,r.Hc.Oct(t)},sP:function(){return _.min(r.W_t.n_,yl.I_)},forwardEvent:function(){},stall:function(){},ngt:function(){r.W_t.seeking||(r.W_t.removeEventListener("yK",r.tgt.ngt),r.z_t.paused?r.Hc=r.G_t:r.J_t.play(),r.sH())}}),r.Z_t=te({},r.J_t,{play:function(){},pause:function(){},load:function(){},Jat:function(){return NaN},sP:function(){return yl.S_},Oct:function(t){r.J_t.Oct(t,!0)},yK:function(t){}}),r.Oo=function(t){r.dispatchEvent(t)},r.fgt=function(t){r.Hc.forwardEvent(t)},r.vgt=function(t){r.Y_t(t.error)},r.dgt=function(t){if(t.origin&&t.origin.V8)return r.Gw();r.Hc.stall()},r.ydt=function(){var t=r.W_t.duration;t&&r.iH!==t&&(r.iH=t,r.dispatchEvent("durationchange"))},r.lgt=function(){r.W_t.loaded&&(r.loaded=!0)},r.sH=function(){var t=r.n_;t!==r.Klt&&(r.Klt=t,r.dispatchEvent(Ll.gl))},r.V_t=n,r.cS=i,r.X_t=new sU(sn(r)),r.W_t=new VM,r.Hc=r.rgt,r.xlt=s.createElement("div"),r.xlt.style.position="absolute",r.xlt.style.width="100%",r.xlt.style.height="100%",r._gt(),r}F(n,t);var i=n.prototype;return i.j_t=function(){this.J_t.play()},i._gt=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.W_t.addEventListener(r,this.Oo)}for(var e=0;e<n.length;e++){var s=n[e];this.W_t.addEventListener(s,this.fgt)}this.W_t.addEventListener("ended",this.dgt),this.W_t.addEventListener("error",this.vgt),this.W_t.addEventListener("durationchange",this.ydt),this.W_t.addEventListener("loaded",this.lgt),this.W_t.addEventListener(Ll.gl,this.sH)},i.setup=function(){this.cS.MS.parentNode===this.V_t?this.V_t.replaceChild(this.xlt,this.cS.MS):(this.cS.MS.parentNode&&this.cS.MS.parentNode.removeChild(this.cS.MS),this.V_t.appendChild(this.xlt))},i.play=function(){this.Hc.play()},i.pause=function(){this.Hc.pause()},i.ggt=function(t){this.W_t&&this.W_t.Lv(t),this.Wi=!1},i.Gw=function(){this.pause(),this.Hc=this.igt,this.vS=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.Hc.load(t)},i.unload=function(){return this.W_t.Lv(),this.X_t.mo(),this.xlt.parentNode===this.V_t?this.V_t.replaceChild(this.cS.MS,this.xlt):(this.xlt.parentNode&&this.xlt.parentNode.removeChild(this.xlt),this.V_t.appendChild(this.cS.MS)),this.Mo(),this.cS.MS},i.reset=function(t){this.Wi=!1,this.Hc=this.rgt,this.vS=void 0,this.iH=NaN,this.Klt=yl.S_,this.X_t.Cl(),this.ggt(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.yK=function(t){this.Hc.yK(t)},i.Ntt=function(t){return this.W_t.Ntt(t),E.resolve()},i.ey=function(){return this.W_t.ey()},i.Jat=function(){return this.Hc.Jat()},i.Oct=function(t){this.X_t.Ect(),this.Hc.Oct(t)},i.xut=function(t,n){return E.resolve()},i.canPlayCodecs=function(t){return this.W_t.Qdt('video/mp4; codecs="'+t+'"')},i.wct=function(t,n,i){var r={};for(var e in t)if(Z.call(t,e)){var s=t[e];!this.W_t.videoStream&&s.mJ&&(this.W_t.videoStream=new nU(this.xlt,"mJ"),r.mJ=this.W_t.videoStream),!this.W_t.audioStream&&s.yJ&&(this.W_t.audioStream=new nU(this.xlt,"yJ"),r.yJ=this.W_t.audioStream,this.dispatchEvent("Yft"))}return this.Wi=!0,this.dispatchEvent("evt"),E.resolve(r)},M(n,[{key:"gct",get:function(){return this.Wi}},{key:"wy",get:function(){return this.xlt}},{key:"_y",get:function(){return this.W_t._y}},{key:"volume",get:function(){return this.W_t.volume},set:function(t){this.W_t.volume=t}},{key:"duration",get:function(){return this.iH}},{key:"muted",get:function(){return this.W_t.muted},set:function(t){this.W_t.muted=t}},{key:"paused",get:function(){return this.Hc.paused&&this.W_t.paused}},{key:"played",get:function(){return this.X_t.PF()}},{key:"ended",get:function(){return this.Hc===this.igt}},{key:"seeking",get:function(){return this.Hc===this.z_t}},{key:"error",get:function(){return this.vS||this.W_t.error}},{key:"warning",get:function(){return this.W_t.warning}},{key:"width",get:function(){return this.W_t.Ydt()}},{key:"height",get:function(){return this.W_t.Zdt()}},{key:"W_",get:function(){return this.W_t.W_},set:function(t){this.W_t.W_=t}},{key:"n_",get:function(){return this.Hc.sP()}},{key:"G_",get:function(){return this.W_t.G_}},{key:"z_",get:function(){return this.W_t.z_}}]),n}(qC);!function(t){t.QY="unsupported",t.wgt="native",t.ygt="hls-native",t.mgt="hls-mse",t.kgt="hls-switching-video"}(eU||(eU={}));var oU=function(){function t(){this.pgt={},this.Agt(eU.wgt,gM),this.Agt(eU.ygt,gM),this.Agt(eU.mgt,xM),this.Agt(eU.kgt,uU)}return t.prototype.Agt=function(t,n){this.pgt[t]=n},t.Agt=function(n,i){t.I1.Agt(n,i)},t.bgt=function(n,i,r){var e=t.I1.pgt[n];return e?new e(i,r):void 0},t}();oU.I1=new oU;var hU=function(t){function n(n){var i;return(i=t.call(this)||this).Tgt=void 0,i.Egt=function(t){i.xo(t)},i.Tgt=n,i.Sgt(),i}F(n,t);var i=n.prototype;return i.Sgt=function(){this.Tgt.Po("MD",this.Egt)},i.Rgt=function(){this.Tgt.Uo("MD",this.Egt)},i.Lv=function(){this.Rgt()},M(n,[{key:"WD",get:function(){return this.Tgt.WD}},{key:"qD",get:function(){return this.Tgt.qD}},{key:"Igt",set:function(t){var n=this.Tgt;n.WD===t.WD&&n.qD===t.qD||(this.Rgt(),this.Tgt=t,this.Sgt(),this.xo(new eT(t.qD,t.WD)))}}]),n}(bs);function aU(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function cU(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function fU(t,n){var i=t.type;return i?My?cU(i)?!qy||n.useSwitchOverMSE||Y.Pe&&n.vr&&n.vr[360]?!Hy||Y.Ie||Y.Oe&&Y.ce?Vy?eU.kgt:eU.QY:eU.ygt:eU.mgt:eU.wgt:eU.QY:eU.wgt}var vU=function(t,n,i,r,e){var s,u,o,c,f,d,g=this,m=null,k=null,p=null,A=!0,b=null,T=null,S=!1,R=null,I=null,N=null,C=eA,D=eA,O=!0,x=null,P={_3:0,$dt:0},B=null,L=null,M=null,U=1,F=!1,H="none",V=!0,X=!0,W=!1,q=null,z=!0,G=!1,j=yl.S_,Q=!1,Z=!1,J=NaN,$=null,K=null,nt=Y.me&&Fy,it=!1,rt="",et=eU.QY,st=null,ut=function(){var i=E.coroutine(Kr.mark(function i(){return Kr.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(g.lo=!0,g.Mo(),B&&Pt(null),d&&(d.Lv(),d=null),f&&(f.Cl(),f=null),en(),k&&(k.unload(),k=null),!I.MS){i.next=11;break}return i.next=10,n.tR(I);case 10:I=null;case 11:if(!N.MS){i.next=15;break}return i.next=14,n.tR(N);case 14:N=null;case 15:s.Lv(),t=null;case 17:case"end":return i.stop()}},i)}));return function(){return i.apply(this,arguments)}}(),ot=function(){var t=new jC(GC.QY,{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});g.dispatchEvent({type:"unsupportedPlatform"}),Zt(t)},ht=function(){var t,r;return(t=i.audioOnly?(r=n.LS(W_.Sv)).MS:(r=n.LS(W_.Rv)).MS).preload="none",Cr(t),r},at=function(t){return t===I?N:I},ct=function(){b.style.zIndex="1",T.style.zIndex="0",b.style.display=A?"":"none",T.style.display=A&&S?"":"none"},ft=function(t){yt(t.SK),wt(t.RK),u&&(u.SK=o),pt()},vt=function(t,n){kt(t.SK,n),mt(t.RK),u&&(u.SK=o)},dt=function(){Xt(),Nt(),g.dispatchEvent("timeupdate"),g.dispatchEvent("ended")},lt=function(){var t=function(t){if("error"===t.type)return Zt(t.error);g.dispatchEvent(t)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)k.addEventListener(t[i],n,!0)};switch(k.addEventListener("Yft",function(){k.volume=U,k.muted=F}),k.addEventListener("loadedmetadata",function(t){et===eU.wgt&&(G=!0,g.dispatchEvent(t))}),k.addEventListener("durationchange",function(){var t=k.duration;t&&t!==1/0&&J!==t&&(J=t,g.dispatchEvent("durationchange"))}),k.addEventListener("seeking",Vt),k.addEventListener("seeked",Xt),k.addEventListener("ended",dt),k.addEventListener(Ll.gl,nn),k.setup(),d.Rct=k,n(["timeupdate","playing","ratechange","resize"],t),et){case eU.wgt:case eU.ygt:n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case eU.mgt:n(["play","pause"],St)}k.addEventListener("warning",function(t){g.warning=t.warning,g.dispatchEvent(t)}),g.dispatchEvent("volumechange")},_t=function(t){m&&m._ft(),k&&(m=new JL(t,nt,f,r))},gt=function(t){var n=Ot(t.sources),r=t.textTracks||[],e=fM(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Mft=!0),{sources:[n],textTracks:r,configuration:e}},wt=function(t){mt(t)},yt=function(t){o&&(o.Lv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener("durationchange",function(){J=o.U_,g.dispatchEvent("durationchange")}),o.addEventListener("Qo",function(t){Zt(t.Qo)}),o.addEventListener("Xv",At),o.addEventListener("Ey",At),o.o0.addEventListener("renditionUpdated",function(){Gt()}),d.o0=o.o0)},mt=function(t){var n;c&&(c.Lv(),c=null),k&&(c=t)&&(n=c.Yat,c.addEventListener("gK",function(t){var n=g.videoWidth,i=g.videoHeight;$=t.HJ,g.dispatchEvent(t),Yy&&n===g.videoWidth&&i===g.videoHeight||g.dispatchEvent("resize")}),c.addEventListener("Qo",function(t){Zt(t.error)}),c.addEventListener("Rat",function(t){g.dispatchEvent(t)}),c.Rct=k,y(n)||Ht(n))},kt=function(t,n){o&&(o.Lv(),o=null,g.initialized=!1),(o=t)&&(g.dispatchEvent("loadstart",!0),o.addEventListener("loadedmetadata",function(){G=!0,nn()}),o.addEventListener(Qo.gc,function(t){g.dispatchEvent(t)}),o.addEventListener(Qo.yc,function(t){g.dispatchEvent(t)}),o.addEventListener("durationchange",function(){J=o.U_,g.dispatchEvent("durationchange")}),o.addEventListener("Qo",function(t){Zt(t.Qo)}),o.addEventListener("Xv",At),o.addEventListener("Ey",At),o.addEventListener("g0",function(){g.dispatchEvent("progress")}),o.o0.addEventListener("renditionUpdated",function(){Gt()}),o.o0.addEventListener("renditionUpdated",function(t){var i,r=t.HJ.b$&&t.HJ.b$.yJ;r&&-1!==r.indexOf("mp4a.40.3")&&("A8"!==n.b8||Wy||(i=B,WC(function(){n.useSwitchOverMSE=!0;var t=X;B=null,rn({sources:i,configuration:n}),t||It()})))}),d.o0=o.o0)},pt=function(){k.addEventListener("play",function(){g.play({fromNative:!0})}),k.addEventListener("pause",function(){g.pause({fromNative:!0})}),k.addEventListener("volumechange",function(){g.volume=k.volume,g.muted=k.muted}),k.addEventListener("webkitpresentationmodechanged",Lt)},At=function(){var t=z,n=!o||o.Ey;z=n,n&&!t?g.dispatchEvent(Qo.uc):!n&&t&&g.dispatchEvent(Qo.sc)},bt=function(){V=!1,X=!1,Q=!0,k.configuration.useNativeVideoPlayback||k.loaded||Rt(),Gt()},Tt=function t(){g.removeEventListener("initialized",t),g.removeEventListener("initialized",Et),V&&(bt(),g.ended?Ht(0):jt(),k.play(),c&&c.qw())},Et=function t(){g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",t),V&&(bt(),jt())},St=function(t){var n=X;X="pause"===t.type,n&&!X?g.play({fromNative:!0}):!n&&X&&g.pause({fromNative:!0})},Rt=function(){Q=!0,k.configuration.useNativeVideoPlayback?(k.load(),P.$dt="start"):k.loading||(k.load(),k.loading=!0),Gt()},It=function(t){if(t=t||{},X=!1,O&&(O=!1,n.qI()),P.Ngt=!1,!g.initialized||!k){if(t.onlyWhenInitialized){var i=new jC(GC.zY,{code:"MGB6720"});throw Zt(i),i}return g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),g.addEventListener("initialized",t.fromNative?Et:Tt),g.dispatchEvent("play",!0),void g.dispatchEvent("waiting",!0)}if(V){if(W&&g.ended)return Nt(),void g.dispatchEvent("timeupdate",!0);g.dispatchEvent("play",!0),t.fromNative?Et():Tt()}},Nt=function(t){X=!0,(t=t||{}).fromNative||g.removeEventListener("initialized",Tt),g.removeEventListener("initialized",Et),!V&&k&&(V=!0,t.fromNative||(k.pause(),c&&c.zw()),g.dispatchEvent("pause",!0))},Ct=function(t){return{type:aU(t)?"application/vnd.apple.mpegurl":"",src:t}},Dt=function(t){return"string"==typeof t},Ot=function(t){if(aM(t))return t.type?t:Ct(t.src);if(Dt(t))return Ct(t);if(tt(t)&&Dt(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(aU(i))return Ct(i)}return Ct(t[0])}if(tt(t)&&aM(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(cU(e.type)||!e.type&&aU(e.src))return e.type?e:Ct(e.src)}return t[0]}return{type:null,src:null}},xt=function(t){var n=(t=gt(t)).sources[0],i=t.configuration,s=fU(n,i);!function(t,n){switch(t){case eU.wgt:case eU.ygt:n.b8=!1,n.Cgt=!1;break;case eU.mgt:n.b8="A8",n.Cgt=!0;break;case eU.kgt:n.b8="_9",n.Cgt=Y.oe}}(s,i);var o=function(t,n,i){var s,o,h,a=i.configuration;switch(t){case eU.wgt:h=s=o=null;break;case eU.ygt:h=null;var c=new XL(a,r);s=c,o=new QL(c);break;case eU.mgt:case eU.kgt:h=new tM(a,r);var f=new VL(a,h,r,e);s=f,o=new GL(f);break;default:return null}return new qD(n,t,i,h,s,o,u)}(s,n,t);return o?(o.RK&&(o.RK.W_=g.playbackRate),o):null},Pt=function(t){rn({sources:t})},Bt=function(n,i){var r=R,e=r.MS,u=!1,o=!g.paused,h=et,a=g.playbackRate,c=g.Dgt;K&&(K.Lv(),K=null),en();var f=n&&n.A0||null;n&&n.k0||null,L=n&&n.pR||null,M=f&&f.configuration||null,et=n&&n.p0||eU.QY,Jt();var v={type:"Ogt",xgt:n,Wh:M,Pgt:i};if(g.dispatchEvent(v),et!==eU.QY){if(k){g.pause();var d=h===et||h===eU.ygt&&et===eU.wgt||h===eU.wgt&&et===eU.ygt,l=i&&!Y.me;if(d&&!l)k.reset(),m.Cl();else{if(l?(p=k,e=(r=at(r)).MS):e=k.unload(),!(u=oU.bgt(et,t,r)))return void ot();k=u,lt(),_t(e)}Xt(),G=!1,j=yl.S_,Q=!1,Z=!1,J=NaN,x=null,g.dispatchEvent("durationchange"),P.$dt=0,P._3=0,P.Ngt=!0,g.dispatchEvent("timeupdate")}else{if(!(u=oU.bgt(et,t,r)))return void ot();k=u,r.MS.removeAttribute("poster"),lt(),_t(r.MS)}switch(R=r,s.Igt=R.LB,b=k.wy,p?(T=p.wy,S=!0):(T=at(r).MS,S=!1),ct(),M.crossOrigin){case ll.k_:case ll.p_:R.MS.setAttribute("crossorigin",M.crossOrigin);break;default:R.MS.removeAttribute("crossorigin")}if(c!==g.Dgt&&g.dispatchEvent(Qo.tc),Lt(),Mt(),!L)return B=null,void(g.initialized=!1);!function(t,n){switch(et){case eU.wgt:case eU.ygt:ft(t);break;case eU.mgt:case eU.kgt:vt(t,n);break;default:return}t.AR=g,t.P0(H)}(K=n,M),k.src=L,m.fft(f&&f.textTracks),g.playbackRate=a,B=L;var _={type:"Bgt",xgt:n,Wh:M,Pgt:i};g.dispatchEvent(_),g.initialized=!0,g.dispatchEvent("initialized"),At(),Ht("start"),k.configuration.useNativeVideoPlayback&&Y.me&&o&&Yt()&&(g.play(),g.pause()),f&&g.dispatchEvent({type:"sourcechange",sourceDescription:f})}else ot()},Lt=function(){var t=rt;(rt=g.Kft)!==t&&g.dispatchEvent("Lgt")},Mt=function(){d&&(d.oV=nt&&it)},Ut=function(){return k&&k.gct?k.volume:U},Ft=function(){if(!Z)return"start"===x?0:x||0;if(!k||P.Ngt)return P.$dt;if(c){var t=c.Yat;return"start"===t?0:t}return k.Jat()},Ht=function(t){if(!Z){var n=Ft();return x=t,void(n!==Ft()&&Vt())}if(x=null,"start"===t&&(t=g.live?1/0:0),t=w(t)||0,t=Kt(t),k){if(_.abs(P.$dt-t)<.001&&qb()-P._3<50)return;Vt(),c?c.Yat=t:k.Oct(t),k.seeking||Xt(),P={$dt:t,_3:qb()}}},Vt=function(){W=!0,qt(),st=h(Wt,100)},Xt=function(){W&&(W=!1,st&&Wt(),g.dispatchEvent("seeked"))},Wt=function(){qt(),g.dispatchEvent("seeking")},qt=function(){st&&(a(st),st=null)},Gt=function(){Z||(Z=!y(J)&&$t().length>0&&(Q||!g.live))&&g.dispatchEvent("Alt")},jt=function t(){g.removeEventListener("Alt",t),null!==x&&(Z?Ht(x):g.addEventListener("Alt",t))},Qt=function(){return k&&k.gct?k.muted:F},Yt=function(){return X},Zt=function(t){if(t&&t.code===GC.GY)return n=!X,Pt(K.pR),void(n&&It());var n;Yt()||Nt(),q=t,g.dispatchEvent({type:"error",error:q})},Jt=function(){q=null},$t=function(){return SO(c?c.Iy:J>0?new IO([{WR:0,zR:J}]):NO)},Kt=function(t){var n=$t();return n.length?zt(t,n.start(0),n.end(n.length-1)):0},tn=function(){var t=k?k.n_:yl.S_;return G&&(t=_.max(yl.R_,t)),t},nn=function(){var t=tn();t!==j&&(j=t,g.dispatchEvent(Ll.gl))},rn=function(t){var n=xt(t);Bt(n,!1)},en=function(){if(p){var t=p.unload();p=null,S=!1,T=t||at(R).MS,ct()}};g.initialized=!1,g.warning=null,g.play=It,g.pause=Nt,g.load=function(){if(!g.initialized||!k){var t=new jC(GC.zY,{code:"MGB7330"});throw Zt(t),t}Rt(),Ht("start")},g.Mgt=xt,g.Ugt=Bt,g.mo=ut,g.Qw=rn,g.ny=function(){A=!0,ct()},g.iy=function(){A=!1,ct()},g.ey=function(){return k&&k.ey()},g.Iw=function(){return te({},{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},k?lE(k.Rct):{my:0,ky:0,py:0},{Ay:8*vl.g_()})},l.defineProperty(g,"buffered",{get:function(){return SO(k?k._y:NO)}}),l.defineProperty(g,"played",{get:function(){return k?SO(k.played):NO}}),l.defineProperty(g,"seekable",{get:$t}),l.defineProperty(g,"live",{get:function(){return!(!o||!cD.bw(o.o0.KJ))}}),l.defineProperty(g,"volume",{get:Ut,set:function(t){(t=w(t))!==Ut()&&(k&&(k.volume=t),U=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"currentTime",{get:Ft,set:Ht}),l.defineProperty(g,"dimensions",{get:function(){return s}}),l.defineProperty(g,"currentProgramDateTime",{get:function(){return c?c.gy:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!y(i.getTime())&&c&&(n=c.Vnt(t),y(n)||null===n||Ht(n))}}),l.defineProperty(g,"duration",{get:function(){return J}}),l.defineProperty(g,"muted",{get:Qt,set:function(t){t!==Qt()&&(F=t,k&&(k.muted=t),F=t,g.dispatchEvent("volumechange"))}}),l.defineProperty(g,"paused",{get:Yt,set:function(t){t?Nt():It()}}),l.defineProperty(g,"preload",{get:function(){return H},set:function(t){H=Yp((t||"none").toLowerCase())}}),l.defineProperty(g,"ended",{get:function(){return k&&k.ended||!1}}),l.defineProperty(g,"seeking",{get:function(){return W}}),l.defineProperty(g,"error",{get:function(){return q||k&&k.error}}),l.defineProperty(g,"element",{get:function(){return t}}),l.defineProperty(g,"Dgt",{get:function(){return M&&M.vr&&M.vr[360]?eA:R===I?C:D}}),l.defineProperty(g,"videoWidth",{get:function(){return k?k.G_:$&&$.resolution?$.resolution.width:0}}),l.defineProperty(g,"videoHeight",{get:function(){return k?k.z_:$&&$.resolution?$.resolution.height:0}}),l.defineProperty(g,"frameRate",{get:function(){return c&&c.S$}}),l.defineProperty(g,"frameAccurateSeekEnabled",{get:function(){return!g.live&&k&&k.paused&&g.frameRate}}),l.defineProperty(g,"currentFrame",{get:function(){return c?c.Cct(Ft()):NaN},set:function(t){g.frameAccurateSeekEnabled&&(t=w(t),Ht(c.Dct(t)))}}),l.defineProperty(g,"playbackRate",{get:function(){return c&&c.W_||k&&k.W_||1},set:function(t){(t=w(t))>0&&(c?c.W_=t:k&&(k.W_=t))}}),l.defineProperty(g,"videoTracks",{get:function(){return K&&K.Vw.Kd||null}}),l.defineProperty(g,"audioTracks",{get:function(){return K&&K.Hw.Kd||null}}),l.defineProperty(g,"Xw",{get:function(){return f}}),l.defineProperty(g,"online",{get:function(){return z}}),l.defineProperty(g,"Jft",{get:function(){return k&&k.Jft}}),l.defineProperty(g,"$ft",{get:function(){return k&&k.$ft}}),l.defineProperty(g,"Kft",{get:function(){return k&&k.Kft||"inline"},set:function(t){k&&(k.Kft=t)}}),l.defineProperty(g,"Fgt",{get:function(){return it},set:function(t){it=!!t,Mt()}}),l.defineProperty(g,"n_",{get:tn}),function(){if(!t)throw new v("Invalid element.");var n;g.addEventListener(Qo.uc,function(){g.live&&Ht("start")}),g.addEventListener("playing",en),f=new ey,d=new KL(g,f),g.addEventListener("fullscreenchange",Mt),Mt(),i.allowManualQualitySwitch&&(u=new zD),n=function(t){if("string"==typeof t)try{return zC.je.PQ(t,g)}catch(n){throw new v("Unknown rule: "+t)}return t},i.Zot=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),g.addEventListener("durationchange",Gt),I=ht(),N=ht(),R=I,b=I.MS,T=N.MS,s=new hU(R.LB),C=I.ZS,D=N.ZS,ct(),Pt(null)}()};vU.prototype=new qC,vU.prototype.constructor=vU;var dU,lU=((dU={useSwitchOverMSE:!1,ManifestParser:"Hgt",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),dU.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),zy&&dU.abrRules.push("AvoidHighBitrateStreamsRule"),Y.pe&&dU.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),dU);var _U=function(t){function n(n,i,r){var e;return(e=t.call(this,bd.pl)||this).Vgt=n,e.Xgt=i,e.Wgt=r,e}return F(n,t),n.prototype.tl=function(){return new gU(this.Vgt&&this.Vgt.Kd)},n}(pd),gU=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return F(n,t),n}(Es),wU=function(t){function n(n,i){var r;return(r=t.call(this,bd.bl)||this).jl=void 0,r.nl=void 0,r.jl=n||[],r.nl=i,r}return F(n,t),n.prototype.tl=function(){return new yU(this.jl.map(function(t){return t.Kd}))},n}(pd),yU=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).quality=void 0,i.qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return F(n,t),n}(Es),mU=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return F(n,t),n}(Es);function kU(t){return{get bandwidth(){return t.QE},get codecs(){return t.b$},get id(){return t.Xl},get uid(){return t.Wl},get name(){return t.zl},get averageBandwidth(){return t.QE},get label(){return t.zl},set label(n){t.zl=qd(n)},get height(){return t.Ip},get width(){return t.cu},get frameRate(){return t.ZK},get firstFrame(){return t.qgt},get available(){return t.lY},addEventListener:function(n,i){t.Po(n,i)},removeEventListener:function(n,i){t.Uo(n,i)}}}function pU(t){return{get bandwidth(){return t.QE},get codecs(){return t.b$},get id(){return t.Xl},get uid(){return t.Wl},get name(){return t.zl},get averageBandwidth(){return t.QE},get label(){return t.zl},set label(n){if(!rt(n))throw new v("Unexpected - The provided label is not a string");t.zl=n},get audioSamplingRate(){return t.zgt},get available(){return t.lY},addEventListener:function(n,i){t.Po(n,i)},removeEventListener:function(n,i){t.Uo(n,i)}}}var AU=function(t){function n(n,i){var r;(r=t.call(this)||this).Ggt=void 0,r.jgt=void 0,r.Py=void 0,r.Ny=void 0,r.$d=void 0,r.Qgt=void 0,r.$K=void 0,r.Ygt=function(){return r.Zgt()},r.Jgt=function(){return r.$gt()},r.Kgt=function(){return r.xo(new G_(sn(r)))},r.Py=Y_(),r.Ggt=n,r.jgt=i,r.Ny=new z_;for(var e=r.Ggt.qualities,s=0;s<e.length;s++){var u=e.item(s),o=r.twt(u);o.Po("update",r.Kgt),r.Ny.vg(o)}return r.Ggt.qualities.addEventListener("activequalitychanged",r.Ygt),r.Ggt.qualities.addEventListener("targetqualitychanged",r.Jgt),r.Zgt(),r.$gt(),r}F(n,t);var i=n.prototype;return i.nwt=function(t){t!==this.Qgt&&(this.Qgt=t,t&&this.xo(new _U(t)))},i.iwt=function(t,n){return t===n||!(!t||!n)&&function(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!Ze(n,t[i]))return!1;return!0}(t,n)},i.rwt=function(t){for(var n=0,i=this.Ny.Dl;n<i.length;n++){var r=i[n];if(r.ewt===t)return r}},i.swt=function(t){for(var n=[],i=0,r=this.Ny.Dl;i<r.length;i++){var e=r[i];Ze(t,e.ewt)&&n.push(e)}return n},i.Zgt=function(){var t=this.Vl?this.Ggt.qualities.activeQuality:void 0,n=t&&this.rwt(t)||void 0;this.nwt(n)},i.$gt=function(){var t=this.Ggt.qualities.targetQuality;t?K(t)?this.Ql=this.swt(t)||void 0:this.Ql=this.swt([t])||void 0:this.Ql=void 0},i.My=function(t){this.Vl=t},i.Lv=function(){this.Ggt.qualities.removeEventListener("activequalitychanged",this.Ygt),this.Ggt.qualities.removeEventListener("targetqualitychanged",this.Jgt);for(var t=0,n=this.Ny.Dl;t<n.length;t++){var i=n[t];i.Uo("update",this.Kgt),i.Lv()}},M(n,[{key:"Hl",get:function(){return this.Qgt}},{key:"Vl",get:function(){return this.Ggt.enabled},set:function(t){t?this.jgt.enable(this.Ggt):this.jgt.disable(this.Ggt)}},{key:"Kd",get:function(){return this.$d||(this.$d=Yd(this)),this.$d}},{key:"Xl",get:function(){return this.Ggt.id+""}},{key:"Wl",get:function(){return this.Py}},{key:"ql",get:function(){return this.Ggt.kind}},{key:"zl",get:function(){var t;return null!=(t=this.Ggt.name)?t:""},set:function(t){t!==this.zl&&(this.Ggt.name=t,this.xo(new G_(this)))}},{key:"Gl",get:function(){return this.Ggt.language}},{key:"t_",get:function(){return this.Vl?"enabled":"disabled"}},{key:"jl",get:function(){return this.Ny}},{key:"Ql",get:function(){return this.$K},set:function(t){var n=this,i=this.$K,r=t?t.filter(function(t){return T.Pu.tu(n.Hl,t)}):void 0;r&&0===r.length||this.iwt(r,i)||(this.$K=r,this.Ggt.qualities.targetQuality=r?r.map(function(t){return t.ewt}):null,this.xo(new wU(r,this)))}}]),n}(bs),bU=function(t){function n(n){var i,r;return(r=t.call(this)||this).ewt=void 0,r.$d=void 0,r.vN=function(){return r.Bh()},r.Xl=void 0,r.Wl=void 0,r.QE=void 0,r.b$=void 0,r.XZ=void 0,r.ewt=n,r.ewt.addEventListener("qualityupdated",r.vN),r.Xl=String(n.id),r.Wl=n.uid,r.QE=null!=(i=n.bandwidth)?i:NaN,r.b$=n.codecs,r.XZ=n.uri,r}F(n,t);var i=n.prototype;return i.Bh=function(){this.uwt()&&this.xo(new mU(this.Kd))},i.uwt=function(){var t,n=this.ewt,i=n.uid,r=null!=(t=n.bandwidth)?t:NaN,e=n.codecs,s=n.uri,u=this.Wl!==i||!Yt(this.QE,r)||this.b$!==e||this.XZ!==s;return this.Wl=i,this.QE=r,this.b$=e,this.XZ=s,u},i.Lv=function(){this.ewt.removeEventListener("qualityupdated",this.vN)},i.Sb=function(){},M(n,[{key:"zl",get:function(){return this.ewt.name||""},set:function(t){this.zl!==t&&(this.ewt.name=t,this.xo(new mU(this.Kd)))}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}},{key:"lY",get:function(){return!0}}]),n}(bs),TU=function(t){function n(n){var i;return(i=t.call(this,n)||this).zgt=void 0,i.zgt=NaN,i}return F(n,t),n.prototype.tl=function(){return pU(this)},n}(bU),EU=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).ZK=void 0,r.cu=void 0,r.Ip=void 0,r.owt=void 0,r.ZK=n.frameRate,r.cu=n.resolution?n.resolution.width:NaN,r.Ip=n.resolution?n.resolution.height:NaN,r.owt=i,r}F(n,t);var i=n.prototype;return i.uwt=function(){var n=t.prototype.uwt.call(this),i=this.ewt,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,s=i.resolution?i.resolution.height:NaN;return n=n||!Yt(this.ZK,r)||!Yt(this.cu,e)||!Yt(this.Ip,s),this.ZK=r,this.cu=e,this.Ip=s,n},i.tl=function(){return kU(this)},M(n,[{key:"qgt",get:function(){return this.owt},set:function(t){this.owt!==t&&(this.owt=t,this.xo(new mU(this.Kd)))}}]),n}(bU),SU=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.twt=function(t){return new TU(t)},n}(AU),RU=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).hwt=void 0,n}F(n,t);var i=n.prototype;return i.twt=function(t){return new EU(t,this.hwt)},i.awt=function(t){this.hwt=t;for(var n=0,i=this.jl.Dl;n<i.length;n++){var r=i[n];void 0!==r.qgt&&(r.qgt=t)}},n}(AU),IU=function(t){function n(){return t.call(this,Qo.uc)||this}return F(n,t),n}(Es),NU=function(t){function n(){return t.call(this,Qo.sc)||this}return F(n,t),n}(Es),CU=function(){function t(t,n){this.Lw=void 0,this.VX=void 0,this.Lw=new ey,this.VX=new yI(t,n)}var n=t.prototype;return n.Ub=function(t,n,i,r,e,s){var u=new yR(t,n,i,r,e,s);return this.Lw.Rl(u),this.VX.Rl(u),u},n.Vb=function(t){this.Lw.Il(t),this.VX.Il(t),t.Lv()},n.Cl=function(){for(var t=0,n=this.Lw.Dl.slice();t<n.length;t++){n[t].Lv()}this.Lw.Cl(),this.VX.Cl()},n.Lv=function(){this.Cl(),this.Lw.Lv(),this.VX.Lv()},M(t,[{key:"Xw",get:function(){return this.Lw}}]),t}();function DU(t,n){for(var i=0;i<t.Ol;i++){var r=t.Sl(i);if(r.Ggt===n)return r}}var OU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).UI=void 0,o.Hj=void 0,o.cwt=void 0,o.fwt=void 0,o.vwt=void 0,o.Pw=void 0,o.Bw=void 0,o.UX=void 0,o.FX=void 0,o.Lw=void 0,o.Pb=void 0,o.iQ=void 0,o.rQ=void 0,o.dwt=void 0,o.vS=void 0,o.dS=void 0,o.lwt=NaN,o._wt=0,o.mS=new Pp,o.gwt=function(){o.xo(new Fl(o.M_))},o.wwt=function(){o.xo(new Ul(o.M_))},o.ywt=function(){o.xo(new Yl(o.M_))},o.mwt=function(){o.xo(new Zl(o.M_))},o.kwt=function(){o.xo(new zl(o.M_,o.W_))},o.pwt=function(){o.xo(new Jl(o.M_,o.j_))},o.Awt=function(){o.xo(new vS(o.M_))},o.bwt=function(){o.xo(new jl(o.M_))},o.Twt=function(){o.xo(new dS)},o.Ewt=function(){o.xo(new IU)},o.Swt=function(){o.xo(new NU)},o.Rwt=function(){o.Iwt(),o.vwt.Cl(),o.Nwt(),o.KS()},o.jB=function(){o.Nwt(),o.KS(),o.HS()},o.Iwt=function(){var t=o.lwt,n=o.U_;o.lwt=n,t===n||y(t)&&y(n)||o.xo(new ql(n))},o.Cwt=function(t){var n=t.error||o.cwt.error;if(n){var i,r=B_.DECODE;n.code===GC.FY&&Ne(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),o.vS=new F_(r,n.message,i),o.xo(new n_(function(t){return new Io(X_(t.code),t.message,t)}(o.vS)))}},o.AS=function(){o.xo(new Gl(o.M_,o.gy))},o.Dwt=function(){o.G_>0&&o.z_>0&&o.xo(new Cy)},o.Owt=function(){o.xo(new cl)},o.xwt=function(t){o.Bw.Dl.forEach(function(n){return n.awt(t.ptsOffset)})},o.Pwt=function(t){o._wt+=t.by,o.xo(t)},o.Bwt=function(t){return o.Lwt(t.track)},o.Mwt=function(t){return o.Uwt(t.track)},o.Fwt=function(t){var n=DU(o.Pw,t.track);n&&n.xo(new Dd(n))},o.Hwt=function(t){var n=DU(o.Bw,t.track);n&&n.xo(new Dd(n))},o.Hj=n,o.UI=i,e=function(t){var n,i={};return i=cM(t,i),(i=cM(lU,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!Y.ve&&i.allowManualQualitySwitch,i.libraryLocation=Pf(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return Z.call(n,t)?n[t]:t}),i}(e),o.cwt=new vU(o.Hj,o.UI,e,r,s),o.Vwt(),o.fwt=new xU(o.cwt),o.vwt=new nm(o.fwt,!0),o.vwt.Po(Xl,o.Oo),o.Pw=new q_,o.Bw=new q_,o.Pb=new CU(sn(o),new mI),o.UX=new CI(sn(o)),o.UX.Ul=o.cwt.Xw,o.FX=new DI(o.Pb,o.UX),o.Lw=new Mp([o.cwt.Xw,o.FX.vp]),o.iQ=new rN,o.iQ.dq(n),o.rQ=new kC(o.iQ.wy,o.cwt.dimensions,o.Xw,u,o.cwt.Dgt),o.HS(),o}F(n,t);var i=n.prototype;return i.iy=function(){this.cwt.iy(),this.iQ.iy()},i.ny=function(){this.cwt.ny(),this.iQ.ny()},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.dwt=n,this.cwt.Qw({sources:{src:n.src,type:_l.m_,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:te({},i,{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange,hls:n.hls})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.qw=function(){this.cwt.play()},i.zw=function(){this.cwt.pause()},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.dwt=void 0,this.vS=void 0,this.dS=void 0,this._wt=0,this.cwt.Qw({sources:null}),this.vwt.Cl(),this.Pb.Cl(),this.Nwt();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Yw=function(){return!1},i.Zw=function(){},i.Jw=function(){},i.ey=function(){return this.cwt.ey()||void 0},i.sy=function(){return this.cwt.Dgt},i.ly=function(){},i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.vwt.Lv(),this.fwt.Lv(),this.Xwt(),t.next=8,this.cwt.mo();case 8:return this.Pw.Lv(),this.Bw.Lv(),this.UX.Lv(),t.next=13,this.FX.Lv();case 13:this.Pb.Lv(),this.Lw.Lv(),this.rQ.Lv(),this.iQ.Lv();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Vwt=function(){this.cwt.addEventListener("Ogt",this.Rwt),this.cwt.addEventListener("Bgt",this.jB),this.cwt.addEventListener("durationchange",this.Iwt),this.cwt.addEventListener("error",this.Cwt),this.cwt.addEventListener("timeupdate",this.AS),this.cwt.addEventListener("resize",this.Dwt),this.cwt.addEventListener(Qo.tc,this.Owt),this.cwt.addEventListener("Rat",this.xwt),this.cwt.addEventListener(Qo.yc,this.Pwt),this.cwt.addEventListener("play",this.gwt),this.cwt.addEventListener("pause",this.wwt),this.cwt.addEventListener("seeking",this.ywt),this.cwt.addEventListener("seeked",this.mwt),this.cwt.addEventListener("ratechange",this.kwt),this.cwt.addEventListener("volumechange",this.pwt),this.cwt.addEventListener("progress",this.Awt),this.cwt.addEventListener("ended",this.bwt),this.cwt.addEventListener("loadstart",this.Twt),this.cwt.addEventListener(Qo.uc,this.Ewt),this.cwt.addEventListener(Qo.sc,this.Swt),this.cwt.addEventListener(Qo.gc,this.Oo)},i.Xwt=function(){this.cwt.removeEventListener("Ogt",this.Rwt),this.cwt.removeEventListener("Bgt",this.jB),this.cwt.removeEventListener("durationchange",this.Iwt),this.cwt.removeEventListener("error",this.Cwt),this.cwt.removeEventListener("timeupdate",this.AS),this.cwt.removeEventListener("resize",this.Dwt),this.cwt.removeEventListener(Qo.tc,this.Owt),this.cwt.removeEventListener("play",this.gwt),this.cwt.removeEventListener("pause",this.wwt),this.cwt.removeEventListener("seeking",this.ywt),this.cwt.removeEventListener("seeked",this.mwt),this.cwt.removeEventListener("ratechange",this.kwt),this.cwt.removeEventListener("volumechange",this.pwt),this.cwt.removeEventListener("progress",this.Awt),this.cwt.removeEventListener("ended",this.bwt),this.cwt.removeEventListener("loadstart",this.Twt),this.cwt.removeEventListener(Qo.uc,this.Ewt),this.cwt.removeEventListener(Qo.sc,this.Swt),this.cwt.removeEventListener(Qo.gc,this.Oo),this.cwt.removeEventListener(Qo.yc,this.Pwt)},i.HS=function(){var t=this.cwt.audioTracks,n=this.cwt.videoTracks;if(t){for(var i=0;i<t.length;i++)this.Lwt(t.item(i));t.addEventListener("addtrack",this.Bwt),t.addEventListener("enabledtrack",this.Fwt),t.addEventListener("disabledtrack",this.Fwt)}if(n){for(var r=0;r<n.length;r++)this.Uwt(n.item(r));n.addEventListener("addtrack",this.Mwt),n.addEventListener("enabledtrack",this.Hwt),n.addEventListener("disabledtrack",this.Hwt)}},i.KS=function(){var t=this.cwt.audioTracks,n=this.cwt.videoTracks;t&&(t.removeEventListener("addtrack",this.Bwt),t.removeEventListener("enabledtrack",this.Fwt),t.removeEventListener("disabledtrack",this.Fwt)),n&&(n.removeEventListener("addtrack",this.Mwt),n.removeEventListener("enabledtrack",this.Hwt),n.removeEventListener("disabledtrack",this.Hwt))},i.Nwt=function(){for(var t=0,n=this.Pw.Dl;t<n.length;t++){n[t].Lv()}for(var i=0,r=this.Bw.Dl;i<r.length;i++){r[i].Lv()}this.Pw.Cl(),this.Bw.Cl()},i.Lwt=function(t){DU(this.Pw,t)||this.Pw.Rl(new SU(t,this.cwt.audioTracks))},i.Uwt=function(t){DU(this.Bw,t)||this.Bw.Rl(new RU(t,this.cwt.videoTracks))},M(n,[{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.cwt.buffered}},{key:"gy",get:function(){var t;return null!=(t=this.cwt.currentProgramDateTime)?t:void 0},set:function(t){this.cwt.currentProgramDateTime=null!=t?t:null}},{key:"M_",get:function(){var t=this.cwt.currentTime;return t===1/0&&y(this.cwt.duration)&&(t=0),t},set:function(t){this.cwt.currentTime=t}},{key:"U_",get:function(){var t=this.cwt.duration;return t<0?1/0:t}},{key:"F_",get:function(){return this.cwt.ended}},{key:"Qo",get:function(){return this.vS}},{key:"H_",get:function(){return this.dS}},{key:"Ww",get:function(){}},{key:"yy",get:function(){return!1}},{key:"Iw",get:function(){return te({},this.cwt.Iw(),{by:this._wt})}},{key:"V_",get:function(){return this.cwt.muted},set:function(t){this.cwt.muted=t}},{key:"Ey",get:function(){return this.cwt.online}},{key:"X_",get:function(){return this.cwt.paused}},{key:"W_",get:function(){return this.cwt.playbackRate},set:function(t){this.cwt.playbackRate=t}},{key:"Sy",get:function(){return this.cwt.played}},{key:"Ry",get:function(){return this.cwt.preload||jp.RR},set:function(t){this.cwt.preload=t}},{key:"n_",get:function(){return this.cwt.n_}},{key:"Iy",get:function(){return this.cwt.seekable}},{key:"q_",get:function(){return this.cwt.seeking}},{key:"uR",get:function(){}},{key:"Xw",get:function(){return this.Lw}},{key:"Vw",get:function(){return this.Bw}},{key:"z_",get:function(){return this.cwt.videoHeight}},{key:"G_",get:function(){return this.cwt.videoWidth}},{key:"j_",get:function(){return this.cwt.volume},set:function(t){this.cwt.volume=t}},{key:"oR",get:function(){return this.mS}}]),n}(hl),xU=function(t){function n(n){var i;return(i=t.call(this)||this).cwt=void 0,i.Wwt=function(){i.xo(new t_(i.M_,i.cwt.n_))},i.qwt=function(){i.xo(new tm(i.M_))},i.gwt=function(){i.xo(new Fl(i.M_))},i.wwt=function(){i.xo(new Ul(i.M_))},i.cwt=n,i.cwt.addEventListener(Ll.gl,i.Wwt),i.cwt.addEventListener(Ll.L_,i.qwt),i.cwt.addEventListener(Qo.hc,i.gwt),i.cwt.addEventListener(Qo.oc,i.wwt),i}return F(n,t),n.prototype.Lv=function(){this.Mo(),this.cwt.removeEventListener(Ll.gl,this.Wwt),this.cwt.removeEventListener(Ll.L_,this.qwt),this.cwt.removeEventListener(Qo.hc,this.gwt),this.cwt.removeEventListener(Qo.oc,this.wwt)},M(n,[{key:"M_",get:function(){var t=this.cwt.currentTime;return t===1/0&&y(this.cwt.duration)&&(t=0),t}},{key:"F_",get:function(){return this.cwt.ended}},{key:"Qo",get:function(){return this.cwt.error||void 0}},{key:"X_",get:function(){return this.cwt.paused}}]),n}(bs);function PU(t,n){return BU.apply(this,arguments)}function BU(){return(BU=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===s&&(s=1/0),u=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),hs(t.t0),!(u<r)){t.next=20;break}return o=_.min(e*_.pow(2,u),s),u++,t.next=19,ys(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}zp(new(function(){function t(){this.hR=Ip.m_}var n=t.prototype;return n.VT=function(t,n,i,r,e,s){return new OU(t,n,i,r,e,s)},n.aR=function(n,i){if((Y.me||Y.We)&&!i.manifestMetadataTrack)return!1;if(!Tl(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Um(r)&&!t.zwt(r))&&!!function(t){return fU(t,{})!==eU.QY}(n)},t.zwt=function(t){return!!t.aes128},n.cR=function(){return!0},t}()));var LU,MU=function(t){function n(){return t.call(this,"Gwt")||this}return F(n,t),n}(Es),UU=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).jwt=void 0,e.Qwt=void 0,e.Ywt=void 0,e.dwt=void 0,e.Zwt=void 0,e.Bb=void 0,e.Wi=void 0,e.Jwt=void 0,e.$wt=function(){e.xo(new MU)},e.dwt=n,e.Zwt=te({},i,{crossOrigin:e.dwt.crossOrigin,withCredentials:e.dwt.useCredentials,liveOffset:e.dwt.liveOffset,hlsDateRange:e.dwt.hlsDateRange}),e.Bb=r,e.Qwt=[],e.Wi=!1,e}F(n,t);var i=n.prototype;return i.Kwt=function(){if(this.Ywt)return this.Ywt.Rw},i.WR=function(t){var n=this;_s(PU(function(){return n.P0()},t))},i.P0=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tyt();case 2:if((n=t.sent).isMasterPlaylist)for(this.jwt=n,i=0,r=n.streams;i<r.length;i++)e=r[i],s=new aB(this.Bb,this.Zwt),this.Qwt.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:s});else u=new aB(this.Bb,this.Zwt),this.Qwt.push({stream:{uri:n.uri},updater:u});this.Jwt&&(this.nyt(this.Jwt.width,this.Jwt.height),this.Jwt=void 0),this.Wi=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.iyt=function(t,n){this.Wi?this.nyt(t,n):this.Jwt={width:t,height:n}},i.nyt=function(t,n){this.ryt();var i=this.eyt(t,n);i&&(this.Ywt=i.updater,this.Ywt.addEventListener("Y7",this.$wt),i.updater.WR(i.stream.uri))},i.ryt=function(){this.Ywt&&(this.Ywt.Gw(),this.Ywt.removeEventListener("Y7",this.$wt),this.Ywt=void 0)},i.eyt=function(t,n){return 1===this.Qwt.length?this.Qwt[0]:Ge(this.Qwt,function(i){return i.stream.width===t&&i.stream.height===n})},i.tyt=function(){var t=E.coroutine(Kr.mark(function t(){var n,i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new hB(this.Zwt,eO.je.n1,this.Bb),t.next=3,n.xh(this.dwt.src,{});case 3:return i=t.sent,t.abrupt("return",i.Rw);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Lv=function(){this.ryt();for(var t=0,n=this.Qwt;t<n.length;t++){n[t].updater.Lv()}Je(this.Qwt)},n}(bs),FU=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).syt=void 0,e.uyt=void 0,e.GP=void 0,e.oyt=!1,e.z$=void 0,e.VX=void 0,e.handleManifestUpdate=function(){var t=e.syt.Kwt();if(t){var n=e.uR;if(n){var i=n.getTime(),r=e.z$;r||(r=new fD,e.z$=r),r.Bh(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.oyt&&r.i_.Ol>0&&(e.Xw.Rl(r),e.VX.Rl(r),e.oyt=!0)}}},e.Dwt=function(){e.syt&&e.syt.iyt(e.G_,e.z_)},e.uyt=i,e.GP=r,e.VX=new pI(sn(e)),e.Po(Qo.vc,e.Dwt),e}F(n,t);var i=n.prototype;return i.Qw=function(){var n=E.coroutine(Kr.mark(function n(i,r,e){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.Qw.call(this,i,r,e);case 2:i.hlsDateRange&&this.hyt(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.hyt=function(t,n,i){this.syt&&(this.syt.Uo("Gwt",this.handleManifestUpdate),this.syt.Lv()),this.syt=new UU(t,n,this.uyt),this.syt.Po("Gwt",this.handleManifestUpdate),this.syt.WR(i)},i.Cl=function(){return this.z$&&(this.Xw.Il(this.z$),this.VX.Il(this.z$),this.z$.Lv(),this.z$=void 0,this.oyt=!1),this.VX.Cl(),t.prototype.Cl.call(this)},i.Lv=function(){return this.Uo(Qo.vc,this.Dwt),this.syt&&(this.syt.Uo("Gwt",this.handleManifestUpdate),this.syt.Lv()),this.VX.Lv(),t.prototype.Lv.call(this)},n}(function(t){function n(n){var i;(i=t.call(this)||this).ayt=void 0,i.ayt=n;for(var r=0;r<Zp.length;r++){var e=Zp[r];i.ayt.Po(e,i.Oo)}return i}F(n,t);var i=n.prototype;return i.Yw=function(){return this.ayt.Yw()},i.sy=function(){return this.ayt.sy()},i.ey=function(){return this.ayt.ey()},i.iy=function(){return this.ayt.iy()},i.ly=function(){return this.ayt.ly()},i.zw=function(){return this.ayt.zw()},i.qw=function(){return this.ayt.qw()},i.Cl=function(){return this.ayt.Cl()},i.Qw=function(t,n,i){return this.ayt.Qw(t,n,i)},i.ny=function(){return this.ayt.ny()},i.Zw=function(){return this.ayt.Zw()},i.Jw=function(){return this.ayt.Jw()},i.Lv=function(){this.Mo();for(var t=0;t<Zp.length;t++){var n=Zp[t];this.ayt.Uo(n,this.Oo)}return this.ayt.Lv()},M(n,[{key:"Hw",get:function(){return this.ayt.Hw}},{key:"_y",get:function(){return this.ayt._y}},{key:"gy",get:function(){return this.ayt.gy},set:function(t){this.ayt.gy=t}},{key:"M_",get:function(){return this.ayt.M_},set:function(t){this.ayt.M_=t}},{key:"U_",get:function(){return this.ayt.U_}},{key:"F_",get:function(){return this.ayt.F_}},{key:"H_",get:function(){return this.ayt.H_}},{key:"Ww",get:function(){return this.ayt.Ww}},{key:"Qo",get:function(){return this.ayt.Qo}},{key:"yy",get:function(){return this.ayt.yy}},{key:"Iw",get:function(){return this.ayt.Iw}},{key:"V_",get:function(){return this.ayt.V_},set:function(t){this.ayt.V_=t}},{key:"Ey",get:function(){return this.ayt.Ey}},{key:"X_",get:function(){return this.ayt.X_}},{key:"W_",get:function(){return this.ayt.W_},set:function(t){this.ayt.W_=t}},{key:"Sy",get:function(){return this.ayt.Sy}},{key:"Ry",get:function(){return this.ayt.Ry},set:function(t){this.ayt.Ry=t}},{key:"n_",get:function(){return this.ayt.n_}},{key:"Iy",get:function(){return this.ayt.Iy}},{key:"q_",get:function(){return this.ayt.q_}},{key:"uR",get:function(){return this.ayt.uR}},{key:"Xw",get:function(){return this.ayt.Xw}},{key:"z_",get:function(){return this.ayt.z_}},{key:"Vw",get:function(){return this.ayt.Vw}},{key:"G_",get:function(){return this.ayt.G_}},{key:"j_",get:function(){return this.ayt.j_},set:function(t){this.ayt.j_=t}},{key:"oR",get:function(){return this.ayt.oR}}]),n}(hl));LU=function(t,n,i){return new FU(t,n,i)},Wp.dR().lR(LU);var HU=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return F(n,t),n}(Es);var VU=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).cyt=void 0,s.$d=void 0,s.fyt=void 0,s.vyt=void 0,s.dyt=void 0,s.DR=void 0,s.lyt=void 0,s.ox=void 0,s.Hc=LA.UNAVAILABLE,s._yt=new es,s.gyt=function(){var t,n=null==(t=s.ox.jw())?void 0:t.sources.filter(Bl);null!=n&&n.some(Hp)?s.wyt(LA.AVAILABLE):s.wyt(LA.UNAVAILABLE)},s.handleAirplayChangedEvent=function(){s.DR&&s.DR.yy?s.yyt():s.y3===LA.CONNECTED&&s.myt()},s.handleAirplayPlayerTimeUpdate=function(t){s.fyt=t.currentTime,s.vyt=s.ox.gy},s.dyt=n,s.ox=i,s.cyt=e,s.cyt.iy(),s.ox.Fw(e),s.kyt(),s.dyt.Po("sourcechange",s.gyt),T.Pu.eu&&s.wyt(LA.AVAILABLE),s}F(n,t);var i=n.prototype;return i.kyt=function(){this.DR&&this.DR.Uo(Qo.Wa,this.handleAirplayChangedEvent),this.pyt?this.DR=this.ox:this.DR=this.cyt,this.DR.Po(Qo.Wa,this.handleAirplayChangedEvent)},i.yyt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.DR){t.next=2;break}return t.abrupt("return");case 2:if(this.pyt){t.next=24;break}return this.fyt=this.ox.M_,this.vyt=this.ox.gy,this.cyt.Po("timeupdate",this.handleAirplayPlayerTimeUpdate),this.lyt=this.ox.Ul,this.ox.Ul=this.cyt,this.lyt.zw(),this.lyt.iy(),this.cyt.ny(),this.cyt.V_=this.lyt.V_,this.cyt.W_=this.lyt.W_,this.cyt.j_=this.lyt.j_,n=this.cyt.Xo("seeked"),this.cyt.M_=this.lyt.M_,t.next=18,n;case 18:this.cyt.qw(),this.cyt.V_=this.lyt.V_,this.cyt.W_=this.lyt.W_,this.cyt.j_=this.lyt.j_,t.next=28;break;case 24:if(this.DR.X_){t.next=27;break}return t.next=27,this.DR.Xo(Qo.oc,this._yt.Io);case 27:this.DR.qw();case 28:this.wyt(LA.CONNECTED);case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.myt=function(){this.lyt?(this.cyt.Uo("timeupdate",this.handleAirplayPlayerTimeUpdate),this.lyt.V_=this.cyt.V_,this.lyt.W_=this.cyt.W_,this.lyt.j_=this.cyt.j_,Y.Pe&&!Y.me&&this.ox.U_===1/0?this.vyt?this.lyt.gy=this.vyt:this.lyt.M_=1/0:this.lyt.M_=this.fyt,this.vyt=void 0,this.fyt=void 0,this.lyt.ny(),this.cyt.iy(),this.cyt.X_||this.lyt.qw(),this.ox.Ul=this.lyt,this.cyt.Cl(),this.lyt=void 0):this.DR&&(this.DR.M_=this.DR.M_+1e-4);this.wyt(LA.AVAILABLE)},i.preloadPlayer=function(t){if(os(t),this.DR.n_<yl.R_){var n=this.DR.Xo("loadedmetadata",t);return this.DR.Ry=jp.kk,n}return E.resolve()},i.wyt=function(t){t!==this.Hc&&(this.Hc=t,this.xo(new HU(this.Hc)))},i.Zw=function(){T.Pu.eu&&(this.dyt.$w(),this._yt.Eo(),this._yt=new es,this.pyt?_s(this.Ayt(this._yt.Io)):_s(this.byt(this._yt.Io)))},i.Ayt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.ox.Zw();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.byt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.cyt.Cl();case 3:return t.next=5,this.cyt.Qw(this.ox.jw(),n);case 5:return i=this.cyt.Xo("playing",n),this.cyt.qw(),t.next=9,ms(i,3e3);case 9:this.cyt.zw(),os(n),this.cyt.Zw(),t.next=19;break;case 14:if(t.prev=14,t.t0=t.catch(0),!us(t.t0)){t.next=18;break}return t.abrupt("return");case 18:0;case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.Jw=function(){T.Pu.eu&&this.DR.Jw()},i.Lv=function(){var t;this.Mo(),this.dyt.Uo("sourcechange",this.gyt),this.ox.hy(this.cyt),this._yt.Eo(),null==(t=this.cyt)||t.Lv()},M(n,[{key:"UP",get:function(){return this.y3===LA.CONNECTED}},{key:"pyt",get:function(){return this.ox.Yw()}},{key:"y3",get:function(){return this.Hc}},{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{get casting(){return t.UP},get state(){return t.y3},start:function(){t.Zw()},stop:function(){t.Jw()},addEventListener:function(n,i){var r=zd(n,qd);t.Po(r,i)},removeEventListener:function(n,i){var r=zd(n,qd);t.Uo(r,i)}})),this.$d}}]),n}(hl);BE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.tl=function(){var n=this.BB.Kd;return Ld(t.prototype.tl.call(this),{get cast(){return n}})},n}(t)},RE.FB);var XU=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this)||this).ER=void 0,o.Tyt=void 0,o.Eyt=void 0,o.OR=void 0,o.dwt=void 0,o.Pw=new tl,o.Bw=new tl,o.Lw=new ol,o.ER=n,o.Tyt=new wr(s,u,1,[W_.Rv]),o.Tyt.WI(n),o.Eyt=new Fp(n,o.Tyt,i,r,e),o.Eyt.Lo(o.Oo),o.Pw.Ul=o.Eyt.Hw,o.Bw.Ul=o.Eyt.Vw,o.Lw.Ul=o.Eyt.Xw,o}F(n,t);var i=n.prototype;return i.Yw=function(){return this.Eyt.Yw()},i.Zw=function(){this.Eyt.Zw()},i.Jw=function(){this.Eyt.Jw()},i.qw=function(){_s(this.Eyt.qw())},i.zw=function(){this.Eyt.zw()},i.Gw=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.jw=function(){return this.dwt},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(i),this.dwt=n,!Cl(n.sources)){t.next=6;break}r=tb({src:""}),t.next=16;break;case 6:e=n.sources.filter(Bl),s=0;case 8:if(!(s<e.length)){t.next=16;break}if(!Hp(u=e[s])){t.next=13;break}return r=u,t.abrupt("break",16);case 13:s++,t.next=8;break;case 16:if(r){t.next=18;break}throw new v("Unsupported source.");case 18:return t.next=20,this.Eyt.Qw(r,n,i);case 20:this.FR(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.FR=function(t){this.OR!==t&&(this.OR=t,this.xo(new fl(t)))},i.ey=function(){},i.Syt=function(){},i.uy=function(){return[]},i.$w=function(){this.Tyt.qI()},i.Kw=function(t){s_(this,t)},i.ty=function(){},i.oy=function(t){return!1},i.ly=function(){},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.OR=void 0,this.dwt=void 0,t.next=4,this.Eyt.Cl();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ny=function(){this.Eyt.ny()},i.iy=function(){this.Eyt.iy()},i.sy=function(){return this.Eyt.sy()},i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Mo(),this.Tyt.Lv(),t.next=4,this.Eyt.Lv();case 4:this.Pw.Lv(),this.Bw.Lv(),this.Lw.Lv();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Hw",get:function(){return this.Eyt.Hw}},{key:"_y",get:function(){return this.Eyt._y}},{key:"vy",get:function(){return this.OR}},{key:"M_",get:function(){return this.Eyt.M_},set:function(t){this.Eyt.M_=t}},{key:"gy",get:function(){return this.Eyt.gy}},{key:"U_",get:function(){return this.Eyt.U_}},{key:"wy",get:function(){return this.ER}},{key:"F_",get:function(){return this.Eyt.F_}},{key:"Qo",get:function(){return this.Eyt.Qo}},{key:"yy",get:function(){return this.Eyt.yy}},{key:"Iw",get:function(){return{my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"V_",get:function(){return this.Eyt.V_},set:function(t){this.Eyt.V_=t}},{key:"Ey",get:function(){return this.Eyt.Ey}},{key:"X_",get:function(){return this.Eyt.X_}},{key:"W_",get:function(){return this.Eyt.W_},set:function(t){this.Eyt.W_=t}},{key:"Sy",get:function(){return this.Eyt.Sy}},{key:"Ry",get:function(){return this.Eyt.Ry},set:function(t){this.Eyt.Ry=t}},{key:"n_",get:function(){return this.Eyt.n_}},{key:"Iy",get:function(){return this.Eyt.Iy}},{key:"q_",get:function(){return this.Eyt.q_}},{key:"Xw",get:function(){return this.Eyt.Xw}},{key:"z_",get:function(){return this.Eyt.z_}},{key:"G_",get:function(){return this.Eyt.G_}},{key:"Vw",get:function(){return this.Eyt.Vw}},{key:"j_",get:function(){return this.Eyt.j_},set:function(t){this.Eyt.j_=t}}]),n}(hl);BE(function(t){return function(t){function n(n,i){var r;(r=t.call(this,n,i)||this).Ryt=void 0;var e=new XU(r.DP.wy,r.jd,r.Wh,r.xB,r.mB,r.UB);return r.Ryt=new VU(sn(r),r.DP,r.jd,e),r.BB.MP(r.Ryt),r.Po("currentsourcechange",function(){r.Ryt.kyt()}),r}F(n,t);var i=n.prototype;return i.tl=function(){var n=this,i=t.prototype.tl.call(this);return Ld(i.cast,{get airplay(){return n.Ryt.Kd}}),i},i.Lv=function(){this.Ryt.Lv(),t.prototype.Lv.call(this)},n}(t)},RE.FB);var WU=function(){this.fairplayController=void 0,this.cache=void 0,this.dai=void 0},qU=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),zU=b(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,s){if(i.length>0){var u=i.indexOf(this);~u?i.splice(u+1):i.push(this),~u?r.splice(u,1/0,e):r.push(e),~i.indexOf(s)&&(s=n.call(this,e,s))}else i.push(s);return null==t?s:t.call(this,e,s)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function GU(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function jU(t){return JSON.stringify(t,zU.getSerialize(GU))}var QU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=s&&t<=55295||t===r||t===e||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),YU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0}),n.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",n.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",n.S=" \t\r\n",n.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NAME_CHAR="-"+n.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.CHAR_RE=new RegExp("^["+n.CHAR+"]$","u"),n.RESTRICTED_CHAR_RE=new RegExp("^["+n.RESTRICTED_CHAR+"]$","u"),n.S_RE=new RegExp("^["+n.S+"]+$","u"),n.NAME_START_CHAR_RE=new RegExp("^["+n.NAME_START_CHAR+"]$","u"),n.NAME_CHAR_RE=new RegExp("^["+n.NAME_CHAR+"]$","u"),n.NAME_RE=new RegExp("^["+n.NAME_START_CHAR+"]["+n.NAME_CHAR+"]*$","u"),n.NMTOKEN_RE=new RegExp("^["+n.NAME_CHAR+"]+$","u");var i=9,r=10,e=13,s=32;function u(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}n.S_LIST=[s,r,e,i],n.isChar=function(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isRestrictedChar=function(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159},n.isCharAndNotRestricted=function(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111},n.isS=function(t){return t===s||t===r||t===e||t===i},n.isNameStartChar=u,n.isNameChar=function(t){return u(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),ZU=b(function(t,n){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}l.defineProperty(n,"__esModule",{value:!0}),n.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",n.NC_NAME_CHAR="-"+n.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",n.NC_NAME_START_CHAR_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]$","u"),n.NC_NAME_CHAR_RE=new RegExp("^["+n.NC_NAME_CHAR+"]$","u"),n.NC_NAME_RE=new RegExp("^["+n.NC_NAME_START_CHAR+"]["+n.NC_NAME_CHAR+"]*$","u"),n.isNCNameStartChar=i,n.isNCNameChar=function(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}}),JU=b(function(t,n){l.defineProperty(n,"__esModule",{value:!0});var i=QU.isS,r=QU.isChar,e=QU.isNameStartChar,s=QU.isNameChar,u=QU.S_LIST,o=QU.NAME_RE,h=YU.isChar,a=ZU.isNCNameStartChar,c=ZU.isNCNameChar,f=ZU.NC_NAME_RE;const d="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",w={__proto__:null,xml:d,xmlns:_},y={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},m=-1,k=-2,p=0,A=1,b=2,T=3,E=4,S=5,R=6,I=7,N=8,C=9,D=10,O=11,x=12,P=13,B=14,L=15,M=16,U=17,F=18,H=19,V=20,X=21,W=22,q=23,z=24,G=25,j=26,Q=27,Y=28,Z=29,J=30,$=31,K=32,tt=33,nt=34,it=35,rt=36,et=37,st=38,ut=39,ot=40,ht=41,at=42,ct=43,ft=44,vt=9,dt=10,lt=13,_t=32,gt=33,wt=38,yt=45,mt=47,kt=59,pt=60,At=61,bt=62,Tt=63,Et=91,St=93,Rt=133,It=8232,Nt=t=>34===t||39===t,Ct=[34,39],Dt=[...Ct,Et,bt],Ot=[...Ct,pt,St],xt=[At,Tt,...u],Pt=[...u,bt,wt,pt];function Bt(t,n,i){switch(n){case"xml":i!==d&&t.fail(`xml prefix must be bound to ${d}.`);break;case"xmlns":i!==_&&t.fail(`xmlns prefix must be bound to ${_}.`)}switch(i){case _:t.fail(""===n?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${_}.`);break;case d:switch(n){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}}}const Lt=t=>f.test(t),Mt=t=>o.test(t),Ut=0,Ft=1,Ht=2;n.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Vt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};n.SaxesParser=class{constructor(t){this.opt=null!=t?t:{},this.fragmentOpt=!!this.opt.fragment;const n=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,n){this.nameStartCheck=a,this.nameCheck=c,this.isName=Lt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=l.assign({__proto__:null},w);const t=this.opt.additionalNamespaces;null!=t&&(function(t,n){for(const i of l.keys(n))Bt(t,i,n[i])}(this,t),l.assign(this.ns,t))}else this.nameStartCheck=e,this.nameCheck=s,this.isName=Mt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this.ba}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ut,this.attribList=[];const{fragmentOpt:n}=this;this.state=n?P:p,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=n,this.xmlDeclPossible=!n,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new v("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this.ba=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=l.create(y),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,n){this[Vt[t]]=n}off(t){this[Vt[t]]=void 0}makeError(t){var n;let i=null!==(n=this.fileName)&&void 0!==n?n:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new v(i+t)}fail(t){const n=this.makeError(t),i=this.errorHandler;if(void 0===i)throw n;return i(n),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let n=!1;null===t?(n=!0,t=""):"object"==typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const r=t.charCodeAt(i-1);!n&&(r===lt||r>=55296&&r<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:e}=this;for(this.chunk=t,this.i=0;this.i<i;)e[this.state].call(this);return this.chunkPosition+=i,n?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>=_t||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:return t.charCodeAt(n+1)===dt&&(this.i=n+2),this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCode11(){const{chunk:t,i:n}=this;if(this.prevI=n,this.i=n+1,n>=t.length)return m;const i=t.charCodeAt(n);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==It||i===vt)return i;switch(i){case dt:return this.line++,this.column=0,this.positionAtNewLine=this.position,dt;case lt:{const i=t.charCodeAt(n+1);i!==dt&&i!==Rt||(this.i=n+2)}case Rt:case It:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const r=65536+1024*(i-55296)+(t.charCodeAt(n+1)-56320);return this.i=n+2,r>1114111&&this.fail("disallowed character."),r}getCodeNorm(){const t=this.getCode();return t===k?dt:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:n}=this;const{chunk:i}=this;for(;;){const r=this.getCode(),e=r===k,s=e?dt:r;if(s===m||t.includes(s))return this.text+=i.slice(n,this.prevI),s;e&&(this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i)}}captureToChar(t){let{i:n}=this;const{chunk:i}=this;for(;;){let r=this.getCode();switch(r){case k:this.text+=`${i.slice(n,this.prevI)}\n`,n=this.i,r=dt;break;case m:return this.text+=i.slice(n),!1}if(r===t)return this.text+=i.slice(n,this.prevI),!0}}captureNameChars(){const{chunk:t,i:n}=this;for(;;){const i=this.getCode();if(i===m)return this.name+=t.slice(n),m;if(!s(i))return this.name+=t.slice(n,this.prevI),i===k?dt:i}}skipSpaces(){for(;;){const t=this.getCodeNorm();if(t===m||!i(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=A}sBeginWhitespace(){const t=this.i,n=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),n){case pt:if(this.state=L,0!==this.text.length)throw new v("no-empty text at start");break;case m:break;default:this.unget(),this.state=P,this.xmlDeclPossible=!1}}sDoctype(){var t;const n=this.captureTo(Dt);switch(n){case bt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P,this.doctype=!0;break;case m:break;default:this.text+=String.fromCodePoint(n),n===Et?this.state=E:Nt(n)&&(this.state=T,this.q=n)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=b)}sDTD(){const t=this.captureTo(Ot);t!==m&&(this.text+=String.fromCodePoint(t),t===St?this.state=b:t===pt?this.state=R:Nt(t)&&(this.state=S,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=E,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case gt:this.state=I,this.openWakaBang="";break;case Tt:this.state=O;break;default:this.state=E}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),n=this.openWakaBang+=t;this.text+=t,"-"!==n&&(this.state="--"===n?N:E,this.openWakaBang="")}sDTDComment(){this.captureToChar(yt)&&(this.text+="-",this.state=C)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===yt?D:N}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt?this.state=E:(this.fail("malformed comment."),this.state=N)}sDTDPI(){this.captureToChar(Tt)&&(this.text+="?",this.state=x)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===bt&&(this.state=E)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:n}=this;t:for(;;)switch(this.getCode()){case k:this.entity+=`${n.slice(t,this.prevI)}\n`,t=this.i;break;case kt:{const{entityReturnState:i}=this,r=this.entity+n.slice(t,this.prevI);let e;this.state=i,""===r?(this.fail("empty entity name."),e="&;"):(e=this.parseEntity(r),this.entity=""),i===P&&void 0===this.textHandler||(this.text+=e);break t}case m:this.entity+=n.slice(t);break t}}sOpenWaka(){const t=this.getCode();if(e(t))this.state=nt,this.unget(),this.xmlDeclPossible=!1;else switch(t){case mt:this.state=ct,this.xmlDeclPossible=!1;break;case gt:this.state=M,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Tt:this.state=q;break;default:this.fail("disallowed character in tag name"),this.state=P,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=V,this.openWakaBang="";break;case"--":this.state=U,this.openWakaBang="";break;case"DOCTYPE":this.state=b,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(yt)&&(this.state=F)}sCommentEnding(){var t;const n=this.getCodeNorm();n===yt?(this.state=H,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(n)}`,this.state=U)}sCommentEnded(){const t=this.getCodeNorm();t!==bt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=U):this.state=P}sCData(){this.captureToChar(St)&&(this.state=X)}sCDataEnding(){const t=this.getCodeNorm();t===St?this.state=W:(this.text+=`]${String.fromCodePoint(t)}`,this.state=V)}sCDataEnding2(){var t;const n=this.getCodeNorm();switch(n){case bt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=P;break;case St:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(n)}`,this.state=V}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=z):t===Tt||i(t)?(this.fail("processing instruction without a target."),this.state=t===Tt?j:G):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=z)}sPIRest(){const{chunk:t,i:n}=this;for(;;){const r=this.getCodeNorm();if(r===m)return void(this.piTarget+=t.slice(n));if(!this.nameCheck(r)){this.piTarget+=t.slice(n,this.prevI);const e=r===Tt;e||i(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=e?tt:Q):this.state=e?j:G:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Tt?this.state=j:i(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Tt)&&(this.state=j)}sPIEnding(){var t;const n=this.getCodeNorm();if(n===bt){const{piTarget:n}=this;"xml"===n.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:n,body:this.text}),this.piTarget=this.text="",this.state=P}else n===Tt?this.text+="?":(this.text+=`?${String.fromCodePoint(n)}`,this.state=G);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Tt?t!==m&&(this.state=Y,this.name=String.fromCodePoint(t)):this.state=tt}sXMLDeclName(){const t=this.captureTo(xt);if(t===Tt)return this.state=tt,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(i(t)||t===At){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===At?J:Z}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(t!==At&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Tt)return this.state=tt,void this.fail("XML declaration is incomplete.");i(t)||(Nt(t)?this.q=t:(this.fail("value must be quoted."),this.q=_t),this.state=$)}sXMLDeclValue(){const t=this.captureTo([this.q,Tt]);if(t===Tt)return this.state=tt,this.text="",void this.fail("XML declaration is incomplete.");if(t===m)return;const n=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=n;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(n)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=n;break;case"standalone":"yes"!==n&&"no"!==n&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=n}this.name="",this.state=K}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Tt?(i(t)||(this.fail("whitespace required."),this.unget()),this.state=Q):this.state=tt}sXMLDeclEnding(){var t;this.getCodeNorm()===bt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=P):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const n=this.captureNameChars();if(n===m)return;const r=this.tag={name:this.name,attributes:l.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=l.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),n){case bt:this.openTag();break;case mt:this.state=it;break;default:i(n)||this.fail("disallowed character in tag name."),this.state=rt}}sOpenTagSlash(){this.getCode()===bt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=rt)}sAttrib(){const t=this.skipSpaces();t!==m&&(e(t)?(this.unget(),this.state=et):t===bt?this.openTag():t===mt?this.state=it:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===At?this.state=ut:i(t)?this.state=st:t===bt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==m&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case m:return;case At:this.state=ut;break;default:this.fail("attribute without value."),this.text="",this.name="",t===bt?this.openTag():e(t)?(this.unget(),this.state=et):(this.fail("disallowed character in attribute name."),this.state=rt)}}sAttribValue(){const t=this.getCodeNorm();Nt(t)?(this.q=t,this.state=ot):i(t)||(this.fail("unquoted attribute value."),this.state=at,this.unget())}sAttribValueQuoted(){const{q:t,chunk:n}=this;let{i:i}=this;for(;;)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+n.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=ht);case wt:return this.text+=n.slice(i,this.prevI),this.state=B,void(this.entityReturnState=ot);case dt:case k:case vt:this.text+=`${n.slice(i,this.prevI)} `,i=this.i;break;case pt:return this.text+=n.slice(i,this.prevI),void this.fail("disallowed character.");case m:return void(this.text+=n.slice(i))}}sAttribValueClosed(){const t=this.getCodeNorm();i(t)?this.state=rt:t===bt?this.openTag():t===mt?this.state=it:e(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=et):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Pt);switch(t){case wt:this.state=B,this.entityReturnState=at;break;case pt:this.fail("disallowed character.");break;case m:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===bt?this.openTag():this.state=rt}}sCloseTag(){const t=this.captureNameChars();t===bt?this.closeTag():i(t)?this.state=ft:t!==m&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case bt:this.closeTag();break;case m:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:n}=this;const{chunk:i,textHandler:r}=this;t:for(;;)switch(this.getCode()){case pt:if(this.state=L,void 0!==r){const{text:n}=this,e=i.slice(t,this.prevI);0!==n.length?(r(n+e),this.text=""):0!==e.length&&r(e)}n=Ut;break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=i.slice(t,this.prevI)),n=Ut;break t;case St:switch(n){case Ut:n=Ft;break;case Ft:n=Ht;break;case Ht:break;default:throw new v("impossible state")}break;case bt:n===Ht&&this.fail('the string "]]>" is disallowed in char data.'),n=Ut;break;case k:void 0!==r&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,n=Ut;break;case m:void 0!==r&&(this.text+=i.slice(t));break t;default:n=Ut}this.forbiddenState=n}handleTextOutsideRoot(){let{i:t}=this;const{chunk:n,textHandler:r}=this;let e=!1;t:for(;;){const s=this.getCode();switch(s){case pt:if(this.state=L,void 0!==r){const{text:i}=this,e=n.slice(t,this.prevI);0!==i.length?(r(i+e),this.text=""):0!==e.length&&r(e)}break t;case wt:this.state=B,this.entityReturnState=P,void 0!==r&&(this.text+=n.slice(t,this.prevI)),e=!0;break t;case k:void 0!==r&&(this.text+=`${n.slice(t,this.prevI)}\n`),t=this.i;break;case m:void 0!==r&&(this.text+=n.slice(t));break t;default:i(s)||(e=!0)}}e&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,n){var i;const{prefix:r,local:e}=this.qname(t),s={name:t,prefix:r,local:e,value:n};if(this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s),"xmlns"===r){const t=n.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[e]=t,Bt(this,e,t)}else if("xmlns"===t){const t=n.trim();this.topNS[""]=t,Bt(this,"",t)}}pushAttribPlain(t,n){var i;const r={name:t,value:n};this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r)}end(){var t,n;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;for(;i.length>0;){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==p&&this.state!==P&&this.fail("unexpected end.");const{text:r}=this;return 0!==r.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,r),this.text=""),this.ba=!0,null===(n=this.endHandler)||void 0===n||n.call(this),this._init(),this}resolve(t){var n,i;let r=this.topNS[t];if(void 0!==r)return r;const{tags:e}=this;for(let n=e.length-1;n>=0;n--)if(void 0!==(r=e[n].ns[t]))return r;return void 0!==(r=this.ns[t])?r:null===(i=(n=this.opt).resolvePrefix)||void 0===i?void 0:i.call(n,t)}qname(t){const n=t.indexOf(":");if(-1===n)return{prefix:"",local:t};const i=t.slice(n+1),r=t.slice(0,n);return(""===r||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:r,local:i}}processAttribsNS(){var t;const{attribList:n}=this,i=this.tag;{const{prefix:n,local:r}=this.qname(i.name);i.prefix=n,i.local=r;const e=i.uri=null!==(t=this.resolve(n))&&void 0!==t?t:"";""!==n&&("xmlns"===n&&this.fail('tags may not have "xmlns" as prefix.'),""===e&&(this.fail(`unbound namespace prefix: ${JSON.stringify(n)}.`),i.uri=n))}if(0===n.length)return;const{attributes:r}=i,e=new Set;for(const t of n){const{name:n,prefix:i,local:s}=t;let u,o;""===i?(u="xmlns"===n?_:"",o=n):(void 0===(u=this.resolve(i))&&(this.fail(`unbound namespace prefix: ${JSON.stringify(i)}.`),u=i),o=`{${u}}${s}`),e.has(o)&&this.fail(`duplicate attribute: ${o}.`),e.add(o),t.uri=u,r[n]=t}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,n=this.tag.attributes;for(const{name:i,value:r}of t)void 0!==n[i]&&this.fail(`duplicate attribute: ${i}.`),n[i]=r;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),n.push(i),this.state=P,this.name=""}openSelfClosingTag(){var t,n,i;this.processAttribs();const{tags:r}=this,e=this.tag;e.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,e),null===(n=this.closeTagHandler)||void 0===n||n.call(this,e),null===(this.tag=null!==(i=r[r.length-1])&&void 0!==i?i:null)&&(this.closedRoot=!0),this.state=P,this.name=""}closeTag(){const{tags:t,name:n}=this;if(this.state=P,this.name="",""===n)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let r=t.length;for(;r-- >0;){const r=this.tag=t.pop();if(this.topNS=r.ns,null==i||i(r),r.name===n)break;this.fail("unexpected close tag.")}0===r?this.closedRoot=!0:r<0&&(this.fail(`unmatched closing tag: ${n}.`),this.text+=`</${n}>`)}parseEntity(t){if("#"!==t[0]){const n=this.ENTITIES[t];return void 0!==n?n:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let n=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?n=g(t.slice(2),16):/^#[0-9]+$/.test(t)&&(n=g(t.slice(1),10)),this.isChar(n)?String.fromCodePoint(n):(this.fail("malformed character entity."),`&${t};`)}}}),$U=function(){function t(){}return t.prototype.rs=function(t){var n=new JU.SaxesParser({xmlns:!0,defaultXMLVersion:"1.0",forceXMLVersion:!0}),i=new sF,r=[i];function e(t){r[r.length-1].ks(t)}return n.on("text",function(t){r.length>1&&e(new rF(t))}),n.on("cdata",function(t){e(new eF(t))}),n.on("opentag",function(t){for(var n=t.local,i=t.uri,s=t.prefix,u=new nF({os:n,as:""===i?void 0:i,Iyt:""===s?void 0:s}),o=t.attributes,h=0,a=l.keys(o);h<a.length;h++){var c=o[a[h]],f=c.prefix,v=c.local,d=c.uri,_=c.value,g=new KU({os:v,fs:_,as:""===d?void 0:d,Iyt:""===f?void 0:f});u.Nyt(g)}e(u),r.push(u)}),n.on("closetag",function(){r.pop()}),n.on("error",function(t){throw new hn(t)}),n.write(t).close(),i},t}(),KU=function(){function t(t){this.Cyt=void 0,this.Dyt=void 0,this.Oyt=void 0,this.xn=void 0,this.Cyt=t.os,this.xn=t.fs,this.Dyt=t.as,this.Oyt=t.Iyt}var n=t.prototype;return n.ss=function(t){return this===t||!!oF(this,t)&&(this.Cyt===t.Cyt&&this.Dyt===t.Dyt&&this.Oyt===t.Oyt&&this.xn===t.xn)},n.us=function(){return new t({os:this.os,fs:this.fs,as:this.as,Iyt:this.cs})},M(t,[{key:"Ye",get:function(){return Kt.$e}},{key:"os",get:function(){return this.Cyt}},{key:"hs",get:function(){return void 0===this.Oyt?this.Cyt:this.Oyt+":"+this.Cyt}},{key:"as",get:function(){return this.Dyt}},{key:"cs",get:function(){return this.Oyt}},{key:"fs",get:function(){return this.xn}}]),t}(),tF=function(){function t(){this.ds=[]}var n=t.prototype;return n.ls=function(t){return this.ds.filter(function(n){return uF(n)&&n.gs===t})},n.ys=function(t,n){return this.ds.filter(function(i){return uF(i)&&i.os===n&&i.as===t})},n.ks=function(t){this.ds.push(t)},M(t,[{key:"_s",get:function(){return this.ds}},{key:"As",get:function(){return this.ds.filter(uF)}}]),t}(),nF=function(t){function n(n){var i;return(i=t.call(this)||this).Cyt=void 0,i.Dyt=void 0,i.Oyt=void 0,i.xyt=[],i.Cyt=n.os,i.Dyt=n.as,i.Oyt=n.Iyt,i}F(n,t);var i=n.prototype;return i.Pyt=function(t){for(var n=0,i=this._s;n<i.length;n++){var r=i[n];uF(r)?r.Pyt(t):t.push(r.Ds)}},i.Ts=function(t,n){for(var i=0,r=this.xyt;i<r.length;i++){var e=r[i];if(e.os===n&&e.as===t)return e.fs}},i.bs=function(t){for(var n=0,i=this.xyt;n<i.length;n++){var r=i[n];if(r.hs===t)return r.fs}},i.Nyt=function(t){this.xyt.push(t)},i.Es=function(t){for(var n=0;n<this.xyt.length;n++)if(this.xyt[n].hs===t)return void this.xyt.splice(n,1)},i.Ss=function(t,n){for(var i=0;i<this.xyt.length;i++)if(this.xyt[i].os===n&&this.xyt[i].as===t)return void this.xyt.splice(i,1)},i.Rs=function(t,n){this.Es(t),this.Nyt(new KU({os:t,fs:n}))},i.Is=function(t,n,i){this.Es(n);var r=n.split(":");this.Nyt(new KU({os:r[r.length-1],fs:i,as:t,Iyt:r.length>1?r[0]:void 0}))},i.us=function(t){var i=new n({os:this.os,as:this.as,Iyt:this.cs});return this.Ns.forEach(function(t){return i.Nyt(t.us())}),t&&this._s.forEach(function(n){return i.ks(n.us(t))}),i},i.ss=function(t){return this===t||!!oF(this,t)&&(this.Cyt===t.Cyt&&this.Oyt===t.Oyt&&this.Dyt===t.Dyt&&(hF(this.Ns,t.Ns)&&hF(this._s,t._s)))},M(n,[{key:"Ye",get:function(){return Kt.Ze}},{key:"Ns",get:function(){return this.xyt}},{key:"os",get:function(){return this.Cyt}},{key:"as",get:function(){return this.Dyt}},{key:"cs",get:function(){return this.Oyt}},{key:"gs",get:function(){return void 0===this.Oyt?this.Cyt:this.Oyt+":"+this.Cyt}},{key:"Cs",get:function(){var t=[];return this.Pyt(t),t.join("")}}]),n}(tF),iF=function(){function t(t){this.nr=void 0,this.nr=t}return M(t,[{key:"Ds",get:function(){return this.nr}}]),t}(),rF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.us=function(){return new n(this.Ds)},i.ss=function(t){return this===t||!!oF(this,t)&&this.Ds===t.Ds},M(n,[{key:"Ye",get:function(){return Kt.Je}}]),n}(iF),eF=function(t){function n(n){return t.call(this,n)||this}F(n,t);var i=n.prototype;return i.us=function(){return new n(this.Ds)},i.ss=function(t){return this===t||!!oF(this,t)&&this.Ds===t.Ds},M(n,[{key:"Ye",get:function(){return Kt.Ke}}]),n}(iF),sF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.us=function(t){var i=new n;return t&&this._s.forEach(function(n){return i.ks(n.us(t))}),i},i.ss=function(t){return this===t||!!oF(this,t)&&hF(this._s,t._s)},M(n,[{key:"Ye",get:function(){return Kt.ts}},{key:"Os",get:function(){return this.As[0]}}]),n}(tF);function uF(t){return rn(t)}function oF(t,n){return t.Ye===n.Ye}function hF(t,n){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].ss(n[i]))return!1;return!0}var aF,cF=["adBreak"],fF=["adBreak"];function vF(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:te({},t,{adBreak:te({},t.adBreak,{ads:t.adBreak.ads.map(function(t){t.adBreak;return Tm(t,cF)})})})}function dF(t){return void 0===t.ads?t:te({},t,{ads:t.ads.map(function(t){t.adBreak;return Tm(t,fF)})})}function lF(t){return"string"==typeof t.date?new Date(t.date):t.date}function _F(t){var n;return t.cue.track?(n=wF(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=wF(t.cue,""),n}function gF(t){var n=[];return function t(i){if(Array.isArray(i))return i.map(t);if("object"==typeof i&&null!==i){if(n.includes(i))return"[Circular ~]";n.push(i);var r=l.entries(i);return l.fromEntries(r.map(function(i){var r=i[0],e=i[1],s=t(e);return"object"==typeof e&&null!==e&&"[Circular ~]"!==s&&n.pop(e),[r,s]}))}return i}(t)}function wF(t,n){var i={};return i.content=t.content,i.endTime=t.endTime,i.startTime=t.startTime,i.id=t.id,i.uid=t.uid,function(){switch(n){case"webvtt":i.align=t.align,i.line=t.line,i.lineAlign=t.lineAlign,i.position=t.position,i.positionAlign=t.positionAlign,i.region=t.region,i.size=t.size,i.snapToLines=t.snapToLines,i.text=t.text,i.vertical=t.vertical;break;case"ttml":i.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;for(var r=t.content,e={};r.firstChild&&r.firstChild.outerHTML;){(new $U).rs(r.firstChild.outerHTML).Os.Ns.forEach(function(t){e[t.os]=t.fs}),r=r.firstChild}i.ttmlAttributes=e;break;case"daterange":var s={};for(var u in t.customAttributes){var o=t.customAttributes[u];if("object"==typeof(a=o)&&null!==a){var h=yF(o);s[u]={type:aF.Byt,value:h}}else kF(o)?s[u]={type:aF.Lyt,value:o}:s[u]={type:aF.rz,value:String(o)}}i.attributedClass=String(t.class),i.startDate=t.startDate,i.endDate=t.endDate,i.duration=t.duration,i.plannedDuration=t.plannedDuration,i.endOnNext=t.endOnNext,i.scte35Cmd=yF(t.scte35Cmd),i.scte35Out=yF(t.scte35Out),i.scte35In=yF(t.scte35In),i.customAttributes=s}var a}(),i}function yF(t){if(void 0!==t)return Xs(t)}function mF(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(wF(e,t.type))}n.cues=i;var s=[];if(t.activeCues)for(var u=0;u<t.activeCues.length;u++){var o=t.activeCues[u];s.push(wF(o,t.type))}n.activeCues=s}else"enabled"in t&&(n.enabled=t.enabled);return n}function kF(t){return"number"==typeof t}!function(t){t.rz="daterange-ca-type_string",t.Lyt="daterange-ca-type_number",t.Byt="daterange-ca-type_arraybuffer"}(aF||(aF={}));var pF={cue:function(t){var n={};switch(n.date=lF(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=_F(t)}return n},textTrack:function(t){var n={};switch(n.date=lF(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=EF().register(t.cue));var i=TF()[SF()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=_F(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var s=t.track.activeCues[e];r.push(wF(s,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=lF(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=EF().register(t)}),n.track=mF(t.track);case"removetrack":case"change":n.track=mF(t.track)}return n},default:function(t){var n={};switch(n.date=lF(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=te({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=mF(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=dF(t.ad);break;case"adloaded":case"adimpression":n.ad=vF(t.ad);break;case"aderror":t.Myt&&(n.Myt=t.Myt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=vF(t.ad)}return gF(n)},minimizeCueHelper:function(t){var n={};return n.date=lF(t),n.type=t.type,n.cue=_F(t),n.track={uid:t.cue.track.uid},n},adReplacer:vF,adBreakReplacer:dF,removeCircularReferences:gF},AF=function(){this.stringify=jU,this.minimize=pF};function bF(){return kr.self}function TF(){return bF().THEOplayerBridge}function EF(){return bF().THEOCueMirrorMap}function SF(){return bF().THEOplayerGlobalID}function RF(){var t=bF();if(t.THEOplayerBridge){var n=new WU;t.THEOplayerBridge=Ld(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new WU;t.THEOplayerUtils||(t.THEOplayerUtils=new AF),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new qU)}RF();var IF,NF=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return F(n,t),n}(Es),CF=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.xo(new NF(t,n))},i.addEventListener=function(t,n){this.Po(t,n)},i.removeEventListener=function(t,n){this.Uo(t,n)},n}(al),DF=function(t){function n(n,i){var r;return(r=t.call(this)||this).Uyt=void 0,r.Fyt=void 0,r.Hyt=function(t){r.Uyt._Q("THEOplayerABRSetTargetBuffer",t.wx),r.xo(t)},r.Vyt=function(t){r.Uyt._Q("THEOplayerABRSetStrategy",t.mx),r.xo(t)},r.Uyt=n,r.Fyt=i,r.Fyt.Po("yx",r.Hyt),r.Fyt.Po("kx",r.Vyt),r}return F(n,t),M(n,[{key:"Cx",get:function(){var t;switch(this.mx.type){case XT.PERFORMANCE:return 1;case XT.QUALITY:return 0;case XT.BANDWIDTH:return null!=(t=this.mx.metadata)&&t.bitrate&&!y(this.mx.metadata.bitrate)?this.mx.metadata.bitrate:0;default:return 0}}},{key:"Kd",get:function(){return this.Fyt.Kd}},{key:"mx",get:function(){return this.Fyt.mx},set:function(t){this.Fyt.mx=t}},{key:"wx",get:function(){return this.Fyt.wx},set:function(t){this.Fyt.wx=t}},{key:"Ax",get:function(){return this.Fyt.Ax},set:function(t){this.Fyt.Ax=t}}]),n}(bs),OF=function(){function t(t,n,i){this._a=void 0,this.ho=void 0,this.Ra=void 0,this.Vh=void 0,this._a=t,this.ho=i,this.Ra=n}var n=t.prototype;return n.Vb=function(t){throw new v("Not implemented yet.")},n.PL=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ho.fo(n.ro,i);case 2:return r=t.sent,t.next=5,r.Zh();case 5:return e=t.sent,t.next=8,this.BL(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.LL=function(t){return!1},n.ML=function(t){return E.resolve(void 0)},n.mo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.BL(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.BL=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.FL(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FL=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Vh)){t.next=5;break}return t.next=4,i.jh(this.Ra);case 4:this.Vh=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Gh(this.Ra);case 8:this.Vh=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ub=function(t,n,i){throw new v("Not implemented yet.")},M(t,[{key:"Wh",get:function(){return this._a}},{key:"Ry",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"Iy",get:function(){return new nA([0,1/0])}},{key:"Xw",get:function(){throw new v("Not implemented yet.")}},{key:"Xyt",get:function(){throw new v("Not implemented yet")}},{key:"Vw",get:function(){throw new v("Not implemented yet.")}},{key:"Wyt",get:function(){throw new v("Not implemented yet")}},{key:"qyt",get:function(){throw new v("Not implemented yet")}}]),t}();!function(t){t.zyt="webkitneedkey",t.Gyt="webkitkeymessage",t.jyt="webkitkeyerror"}(IF||(IF={}));var xF=function(t){function n(n,i){var r;return(r=t.call(this,IF.zyt)||this).initData=n,r.sessionId=i,r}return F(n,t),n}(Es),PF=function(t){function n(n,i){var r;return(r=t.call(this,IF.Gyt)||this).message=n,r.destinationURL=i,r}return F(n,t),n}(Es),BF=function(t){function n(){return t.call(this,IF.jyt)||this}return F(n,t),n}(Es),LF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).ia=new ju,u.ga=void 0,u.sa=new Ps,u.ya=new ju,u.Qyt=function(t){u.ga?(u.ga.yh(void 0),u.ga=void 0):u.ca("internal-error"),u.xo(new Cs)},u.Yyt=function(t){u.ga&&(u.ga.wh(void 0),u.ga=void 0),u.xo(new Ns(sn(u),"license-request",qu(t.message).buffer,t.destinationURL||void 0))},u.va=n,u.Ih=i,u.Zyt=r,u.Ea=e,u.ka=s,u}F(n,t);var i=n.prototype;return i.Oh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.pa){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Jyt(Xu(i),e);case 5:this.ca("usable"),this.ya.wh(),this.ya=new ju;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.xh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=Xu(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:return this.ga=new ju,this.Zyt.Bh(this.Ea,i),t.next=7,this.ga.gh;case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Dh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ya;case 2:return this.Zyt.Uo(IF.Gyt,this.Yyt),this.Zyt.Uo(IF.jyt,this.Qyt),this.ya.Eo(),this.ia.wh(void 0),t.abrupt("return",this.ia.gh);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Ph=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Jyt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=Ro(n,i,this.ka),this.Zyt.Po(IF.Gyt,this.Yyt),this.Zyt.Po(IF.jyt,this.Qyt),this.Zyt._X(this.Ea,r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ca=function(t){this.sa.sh(),this.sa.eh(xs,t),this.xo(new Is(this))},M(n,[{key:"Hh",get:function(){return this.Ea}},{key:"Uh",get:function(){return NaN}},{key:"Mh",get:function(){return this.ia.gh}},{key:"Fh",get:function(){return this.sa}}]),n}(bs),MF=function(){function t(t,n,i){this.$yt=void 0,this.Ea=void 0,this.ka=void 0,this.Zyt=void 0,this.Ih=void 0,this._a=void 0,this.va=void 0,this.Zyt=t,this.Ih=n,this._a=i;var r=fo(i)||"video/mp4";this.va=ho(r)}var i=t.prototype;return i.qh=function(){var t=E.coroutine(Kr.mark(function t(i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.ka){t.next=2;break}throw new Io(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"No valid certificate was provided.");case 2:return r=new LF(this.va,this.Ih,this.Zyt,this.Ea,this.ka),this.$yt=r,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zh=function(t){return this.ka=Xu(t),E.resolve(!0)},i.Gh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.jh=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.createSession=function(){throw new v("Whoops.")},M(t,[{key:"Xh",get:function(){return this.Ih}},{key:"Wh",get:function(){return this._a}},{key:"sessionId",set:function(t){this.Ea=t}}]),t}(),UF=function(){function t(t,n,i){this.Kyt=t,this.Ih=n,this._a=i}var n=t.prototype;return n.Jh=function(){return this._a},n.Zh=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new MF(this.Kyt,this.Ih,this._a));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),M(t,[{key:"Xh",get:function(){return this.Ih}}]),t}(),FF=function(){function t(t){this.Kyt=void 0,this.Kyt=t}return t.prototype.fo=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(s=ao(HF,Rs,n,e))){t.next=6;break}return t.abrupt("return",new UF(this.Kyt,n,s));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function HF(t,n){return t===ke}var VF,XF=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.SX=function(t,n){return!0},n}(XI),WF=function(t){function n(n,i,r){var e;return void 0===r&&(r=new FF(i)),(e=t.call(this)||this).fS=void 0,e.ho=void 0,e.CL=void 0,e.DX=new zE,e.tmt=void 0,e.Kyt=void 0,e.nmt=!1,e.Ea=void 0,e.ma=null,e.imt={my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e.rmt=function(t){"boolean"==typeof t.detail.casting&&(e.nmt=t.detail.casting,e.xo(new ug(e.nmt)))},e.emt=function(t){e.Ea=t.sessionId,e.ma&&(e.ma.sessionId=e.Ea);var n=t.initData;if(n){var i=YI(n);if(!i)return;e.xo(new Ds(le,i))}else e.xo(new Ds(le,new ArrayBuffer(0)))},e.tmt=n,e.Kyt=i,e.Kyt.Po(IF.zyt,e.emt),e.ho=r,e.CL=new XF(sn(e)),e.smt(),e}F(n,t);var i=n.prototype;return i.XL=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.io===Ny.Wb)return i}},i.mo=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.umt(),this.Kyt.Uo(IF.zyt,this.emt),t.next=7,this.CL.mo();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.iy=function(){throw new v("Not implemented yet")},i.Ub=function(t,n,i,r,e,s,u){throw new v("Not implemented yet")},i.GS=function(){return!1},i.QS=function(t,n,i,r){throw new v("Not implemented yet")},i.Vb=function(t){throw new v("Not implemented yet")},i.JS=function(){throw new v("Not implemented yet")},i.xh=function(){var t=E.coroutine(Kr.mark(function t(n){var i=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.DX.nL(function(){var t=E.coroutine(Kr.mark(function t(r){var e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.io!==Ny.Wb){t.next=8;break}return os(r),e=new OF(n,i,i.ho),i.fS=e,i.CL.xh(e,n),t.abrupt("return",e);case 8:throw new v("Could not create non-static media source");case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.zw=function(){throw new v("Not implemented yet")},i.qw=function(){throw new v("Not implemented yet")},i.Cl=function(){var t=this;return this.DX.Eo(),this.DX.nL(E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.fS){n.next=4;break}return n.next=3,t.fS.mo();case 3:t.fS=void 0;case 4:return n.next=6,t.CL.Cl();case 6:case"end":return n.stop()}},n)})))},i.ah=function(t,n){throw new v("Not implemented yet")},i.eR=function(t){throw new v("Not implemented yet")},i.ny=function(){throw new v("Not implemented yet")},i.sR=function(){return this.imt},i.smt=function(){this.tmt.addEventListener("airPlayIsCasting",this.rmt)},i.umt=function(){this.tmt.removeEventListener("airPlayIsCasting",this.rmt)},i.webkitSetMediaKeys=function(t){this.ma=t||null,this.ma&&(this.ma.sessionId=this.Ea)},i.fq=function(){},i.aq=function(){throw new v("Not implemented yet")},i.cq=function(){throw new v("Not implemented yet")},M(n,[{key:"gy",get:function(){throw new v("Not implemented yet")}},{key:"_y",get:function(){throw new v("Not implemented yet")}},{key:"M_",get:function(){throw new v("Not implemented yet")}},{key:"LB",get:function(){throw new v("Not implemented yet")}},{key:"U_",get:function(){throw new v("Not implemented yet")}},{key:"F_",get:function(){throw new v("Not implemented yet")}},{key:"Qo",get:function(){throw new v("Not implemented yet")}},{key:"Ip",get:function(){throw new v("Not implemented yet")}},{key:"yy",get:function(){return this.nmt}},{key:"V_",get:function(){throw new v("Not implemented yet")}},{key:"X_",get:function(){throw new v("Not implemented yet")}},{key:"W_",get:function(){throw new v("Not implemented yet")}},{key:"Sy",get:function(){throw new v("Not implemented yet")}},{key:"n_",get:function(){throw new v("Not implemented yet")}},{key:"Iy",get:function(){throw new v("Not implemented yet")}},{key:"q_",get:function(){throw new v("Not implemented yet")}},{key:"lq",get:function(){throw new v("Not implemented yet")}},{key:"j_",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"cu",get:function(){throw new v("Not implemented yet")}},{key:"ZS",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.ma}},{key:"_q",get:function(){return oS}},{key:"Xw",get:function(){throw new v("Not implemented yet")}},{key:"UB",get:function(){throw new v("Not implemented yet")}},{key:"uR",get:function(){throw new v("Not implemented yet")}},{key:"vq",get:function(){return!0}},{key:"US",get:function(){return this.CL.US},set:function(t){this.CL.US=t}},{key:"NX",get:function(){return this.CL.NX}}]),n}(hl),qF=function(t){function n(n){var i;return(i=t.call(this,Qo.Ec)||this).imt=n,i}return F(n,t),n}(Es);function zF(t){switch(t.type){case VF.rz:return t.value;case VF.Lyt:return Xd(t.value);case VF.Byt:return Hs(t.value);default:return}}function GF(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}!function(t){t.rz="daterange-ca-type_string",t.Lyt="daterange-ca-type_number",t.Byt="daterange-ca-type_arraybuffer"}(VF||(VF={}));var jF=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,e,i,r)||this).IE=void 0,u.omt=void 0,u.IE=n,u.omt=s,u}return F(n,t),M(n,[{key:"name",get:function(){return this.IE}},{key:"timestamp",get:function(){return this.omt}}]),n}(Io),QF=function(t){function n(n,i,r,e,s,u,o,h){var a;return(a=t.call(this,n,i,r,e,h)||this).url=void 0,a.status=void 0,a.errorComment=void 0,a.url=s,a.status=u,a.errorComment=o,a}return F(n,t),n}(jF),YF=function(t){function n(n,i,r,e,s){var u;(u=t.call(this)||this).DI=0,u.rH=!1,u.vS=void 0,u.dS=void 0,u.hmt=void 0,u.xI=!0,u.BI=1,u.Pw=void 0,u.Bw=void 0,u.LX=void 0,u.UX=void 0,u.FX=void 0,u.Lw=void 0,u.Pb=void 0,u.iH=void 0,u.amt=nA.SI(),u.VF=nA.SI(),u.OI=!1,u.YX=nA.SI(),u.LI=void 0,u.cmt=void 0,u.fmt=void 0,u.bH=yl.S_,u.zb=yl.S_,u.tmt=void 0,u.VX=void 0,u.gS=void 0,u.Uyt=void 0,u.dwt=void 0,u.VI=void 0,u.cS=void 0,u.wS=void 0,u.Kyt=void 0,u.imt={my:0,ky:0,py:0,Ay:0,by:0,Ty:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},u.fS=void 0,u.vmt=void 0,u.mS=new Pp,u.setCurrentTime=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.Iy.length){t.next=4;break}return u.DI=n,t.next=4,u.tmt.Xo("seekablechange");case 4:u.DI=u.updateCurrentTime(n),u.Uyt._Q("THEOplayerSetCurrentTime",u.DI),u.LI=!0,u.xo(new Yl(u.DI));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.dmt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.amt=new nA(i),u.xo(new vS(u.M_))}},u.lmt=function(t){u.bH=t.detail.readyState,u.xo(new $l(+t.detail.currentTime,u.n_)),u._mt()},u.gmt=function(t){u.bH=t.detail.readyState,u.xo(new Kl(+t.detail.currentTime,u.n_)),u._mt()},u.wmt=function(t){if(t.detail){var n=+t.detail.duration;u.iH=n,u.xo(new ql(u.U_))}},u.bwt=function(t){t.detail&&(u.rH=!0,u.xo(new jl(+t.detail.currentTime)))},u.kS=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);GF(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(u.dS=new QF(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),u.vS=V_(u.dS),u.xo(new n_(u.dS))):GF(i)&&(u.dS=new jF(i.name,i.message,void 0,i.code,i.timestamp),u.vS=V_(u.dS),u.xo(new n_(u.dS)))}},u.Twt=function(t){u.xo(new dS)},u.ymt=function(t){u.bH=t.detail.readyState,u.xo(new Ql(+t.detail.currentTime,u.n_)),u._mt()},u.mmt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.Iy.length){t.next=3;break}return t.next=3,u.tmt.Xo("seekablechange");case 3:u.bH=n.detail.readyState,u.xo(new Wl(+n.detail.currentTime,u.n_)),u._mt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),u.gwt=function(t){t.detail&&u.xo(new Fl(+t.detail.currentTime))},u.wwt=function(t){t.detail&&(u.xI||(u.xI=!0,u.xo(new Ul(+t.detail.currentTime))))},u.kmt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.YX=new nA(i).oI(.05)}},u.qwt=function(t){t.detail&&u.xo(new tm(+t.detail.currentTime))},u.kwt=function(t){t.detail&&(u.BI=t.detail.playbackRate,u.xo(new zl(+t.detail.currentTime,u.BI)))},u.pmt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}u.VF=new nA(i)}},u.mwt=function(t){t.detail&&(u.DI=+t.detail.currentTime,u.LI=!1,u.xo(new Gl(u.DI,u.hmt)),u.xo(new Zl(u.DI)))},u.ywt=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<u.iH&&(u.rH=!1),u.LI=!0,u.xo(new Yl(n))}},u.Amt=function(t){t.detail&&(t.detail.currentDate&&(u.hmt=new Date(1e3*t.detail.currentDate)),u.DI=+t.detail.currentTime,u.xo(new Gl(u.DI,u.hmt)))},u.bmt=function(t){u.cmt=t.detail.height,u.fmt=t.detail.width},u.Tmt=function(t){t.detail&&u.xo(new Ky(+t.detail.currentTime))},u.Bwt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};u.Hw.Rl(new tg(n))},u.Emt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,s=0;s<u.Pw.Ol;s++){var o=u.Hw.Sl(s);o.Gl==r&&o.zl==e?i=u.Pw.Sl(s):1==o.Vl&&(n=u.Pw.Sl(s))}i&&n&&(i.Vl=!0,n.Vl=!1)},u.Mwt=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};u.Vw.Rl(new sg(n))},u.Wj=function(t){var n,i=t.detail.kind,r=t.detail.type;i===ry.kk&&r===rg.ID3?(n=new TI("",t.detail.label)).t_=$d.Zl:i===ry.kk&&r===rg.DATE_RANGE?(n=new fD,u.vmt=n):n=new yR(i,void 0,t.detail.label,t.detail.lang,t.detail.isDefault,r),u.LX.Rl(n),u.VX.Rl(n)},u.Smt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,s={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(s.description=r.Id3FrameDescription);var o=new AI(Xd(r.startTime),s,r.uid),h=u.Rmt();h&&h.Hb(o)}},u.Imt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r,e=i[n],s=new Ag(Xd(e.startTime),Xd(e.endTime),e.content,!1),o=null!=(r=u.Nmt(ry.yk))?r:u.Nmt(ry.Ib);o&&(o.io=rg.WEBVTT,o.Hb(s))}},u.FW=function(t){t.type===Qo.ja&&(u.vS=V_(t.errorObject)),u.Oo(t)},u.Cmt=function(t){t.detail&&(u.imt.ky=t.detail.corruptedVideoFrames,u.imt.my=t.detail.droppedVideoFrames,u.xo(new qF(u.Iw)))},u.Dmt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={Xl:t.id};if(void 0!==t.startDate&&(n.uR=new Date(t.startDate)),void 0!==t.endDate&&(n.pZ=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var s=zF(t.customAttributes[e]);void 0!==s&&(r[e]=s)}n.PZ=r}void 0!==t.scte35Cmd&&(n.BZ=Hs(t.scte35Cmd)),void 0!==t.scte35In&&(n.MZ=Hs(t.scte35In)),void 0!==t.scte35Out&&(n.LZ=Hs(t.scte35Out)),void 0!==t.startTime&&(n.Qy=t.startTime),n.DZ=t.class,n.U_=Xd(t.duration),n.OZ=Xd(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.Qy?t.Qy:(new Date).getTime(),r=new eD(t,i);u.vmt.Hb(r),u.vmt.Bh(n,i)})};var o=e.uid;u.Uyt=u.getSdkBridge(o),u.tmt=new CF,TF()[o].sdkEventBus=u.tmt,u.Pw=new q_,u.Bw=new q_;var h=u.Omt(r);return u.Pb=new CU(sn(u),new mI),u.VX=new pI(sn(u)),u.gS=new by(u.Pb,h),u.LX=new ey,u.UX=new CI(sn(u)),u.UX.Ul=u.LX,u.FX=new DI(u.Pb,u.UX),u.Lw=new Mp([u.LX,u.gS.vp,u.FX.vp]),u.Kyt=u.getFairPlayControllerBridge(u.Uyt),u.cS=new WF(u.tmt,u.Kyt),u.wS=new Bp(h),u.cS.US=u.wS,u.observeMediaElement(),u.HS(),u.VI=new DF(u.Uyt,s),u.VI.Po("yx",function(){u.Uyt._Q("THEOplayerSetPreferredForwardBufferDuration",u.VI.wx)}),u}F(n,t);var i=n.prototype;return i.sy=function(){return eA},i.ny=function(){this.Uyt._Q("THEOplayerShow",{})},i.iy=function(){this.Uyt._Q("THEOplayerHide",{})},i.xmt=function(){var t=this;this.Uyt._Q("THEOplayerSetInitialPreferredPeakBitRate",this.VI.Cx);this.Po("playing",function n(){t.Uyt._Q("THEOplayerSetInitialPreferredPeakBitRate",0),t.Uo("playing",n)})},i.Qw=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.dwt=n,r=te({},i,{sources:{src:n.src,type:_l.m_,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange,isAdvertisement:n.isAdvertisement}}),this.Uyt._Q("THEOplayerSourceChange",r),e={io:Ny.Wb,e_:n.src,Gf:n.type,VS:this.XS(n),WS:n.crossOrigin,qS:i.metadata&&i.metadata.title},this.wS.JE(n.contentProtection),t.next=7,this.cS.xh(e);case 7:this.fS=t.sent,i.textTracks&&(s=i.textTracks.filter(function(t){return t.format!==rg.WEBVTT})).length>0&&this.zS(s),Iy(this.Xw),this.xmt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.XS=function(t){if(!t.contentProtection||!t.contentProtection.fairplay)return[];return[{Xh:be,nR:[{initDataTypes:[be.eo],videoCapabilities:[{contentType:"video/mp4",encryptionScheme:"cbcs"}]}]}]},i.qw=function(){this.xI=!1,this.xo(new Fl(this.M_)),this.Uyt._Q("THEOplayerPlay",{})},i.zw=function(){this.xI=!0,this.xo(new Ul(this.M_)),this.Uyt._Q("THEOplayerPause",{})},i.ey=function(){},i.Cl=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.DI=0,this.rH=!1,this.vS=void 0,this.dS=void 0,this.xI=!0,this.BI=1,this.iH=void 0,this.VF=nA.SI(),this.amt=nA.SI(),this.cmt=void 0,this.fmt=void 0,this.bH=yl.S_,this.zb=yl.S_,this.Pw.Cl(),this.Bw.Cl(),this.LX.Cl(),this.Lw.Cl(),t.next=19,this.FX.Cl();case 19:return this.UX.Cl(),t.next=22,this.gS.Cl();case 22:return this.Pb.Cl(),this.VX.Cl(),this.dwt=void 0,t.next=27,this.cS.Cl();case 27:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Zw=function(){this.Uyt._Q("THEOplayerShowAirPlayPicker",{})},i.Jw=function(){this.Uyt._Q("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Iw.ky=t.ky,this.Iw.my=t.my},i.Lv=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Cl();case 2:return this.Mo(),this.unobserveMediaElement(),this.KS(),this.cS.US=void 0,t.next=8,this.cS.mo();case 8:return this.Pw.Lv(),this.Bw.Lv(),this.LX.Lv(),this.Lw.Lv(),this.UX.Lv(),t.next=15,this.FX.Lv();case 15:return t.next=17,this.gS.Lv();case 17:this.Pb.Lv(),this.VX.Lv();case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.zS=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.gS.Mb(i)}},i._mt=function(){var t=this.zb,n=this.bH;t!==n&&(this.zb=n,this.xo(new t_(this.M_,n)))},i.observeMediaElement=function(){this.cS.Po(Qo.Wa,this.Oo),this.cS.Po([Qo.Qa,Qo.ja],this.FW),this.tmt.addEventListener("play",this.gwt),this.tmt.addEventListener("pause",this.wwt),this.tmt.addEventListener("seeking",this.ywt),this.tmt.addEventListener("seeked",this.mwt),this.tmt.addEventListener("ratechange",this.kwt),this.tmt.addEventListener("durationchange",this.wmt),this.tmt.addEventListener("timeupdate",this.Amt),this.tmt.addEventListener("waiting",this.Tmt),this.tmt.addEventListener("playing",this.qwt),this.tmt.addEventListener("ended",this.bwt),this.tmt.addEventListener("loadedmetadata",this.mmt),this.tmt.addEventListener("loadeddata",this.ymt),this.tmt.addEventListener("loadstart",this.Twt),this.tmt.addEventListener("canplay",this.lmt),this.tmt.addEventListener("canplaythrough",this.gmt),this.tmt.addEventListener("error",this.kS),this.tmt.addEventListener("seekablechange",this.pmt),this.tmt.addEventListener("videosizechange",this.bmt),this.tmt.addEventListener("bufferedchange",this.dmt),this.tmt.addEventListener("playedchange",this.kmt),this.tmt.addEventListener("metricschange",this.Cmt),this.tmt.addEventListener("addDateRangeCues",this.Dmt)},i.unobserveMediaElement=function(){this.cS.Uo(Qo.Wa,this.Oo),this.cS.Uo([Qo.Qa,Qo.ja],this.FW),this.tmt.removeEventListener("play",this.gwt),this.tmt.removeEventListener("pause",this.wwt),this.tmt.removeEventListener("seeking",this.ywt),this.tmt.removeEventListener("seeked",this.mwt),this.tmt.removeEventListener("ratechange",this.kwt),this.tmt.removeEventListener("durationchange",this.wmt),this.tmt.removeEventListener("timeupdate",this.Amt),this.tmt.removeEventListener("waiting",this.Tmt),this.tmt.removeEventListener("playing",this.qwt),this.tmt.removeEventListener("ended",this.bwt),this.tmt.removeEventListener("loadedmetadata",this.mmt),this.tmt.removeEventListener("loadeddata",this.ymt),this.tmt.removeEventListener("loadstart",this.Twt),this.tmt.removeEventListener("canplay",this.lmt),this.tmt.removeEventListener("canplaythrough",this.gmt),this.tmt.removeEventListener("error",this.kS),this.tmt.removeEventListener("seekablechange",this.pmt),this.tmt.removeEventListener("videosizechange",this.bmt),this.tmt.removeEventListener("bufferedchange",this.dmt),this.tmt.removeEventListener("playedchange",this.kmt),this.tmt.removeEventListener("metricschange",this.Cmt),this.tmt.removeEventListener("addDateRangeCues",this.Dmt)},i.updateCurrentTime=function(t){var n=this.Iy.start(0),i=this.Iy.end(0);return _.min(_.max(t,n),i)},i.Rmt=function(){for(var t=0,n=this.Lw.Dl;t<n.length;t++){var i=n[t];if(i.ql===ry.kk&&i.io===rg.ID3)return i}},i.Nmt=function(t){for(var n=0,i=this.Lw.Dl;n<i.length;n++){var r=i[n],e=r.t_===$d.Jl,s=r.ql===t;if(e&&s)return r}},i.HS=function(){this.tmt.addEventListener("addaudiotrack",this.Bwt),this.tmt.addEventListener("enableaudiotrack",this.Emt),this.tmt.addEventListener("addvideotrack",this.Mwt),this.tmt.addEventListener("addtexttrack",this.Wj),this.tmt.addEventListener("addtexttrackid3cues",this.Smt),this.tmt.addEventListener("addtexttrackcues",this.Imt)},i.KS=function(){this.tmt.removeEventListener("addaudiotrack",this.Bwt),this.tmt.removeEventListener("enableaudiotrack",this.Emt),this.tmt.removeEventListener("addvideotrack",this.Mwt),this.tmt.removeEventListener("addtexttrack",this.Wj),this.tmt.removeEventListener("addtexttrackid3cues",this.Smt),this.tmt.removeEventListener("addtexttrackcues",this.Pmt)},i.ly=function(){},M(n,[{key:"Hw",get:function(){return this.Pw}},{key:"_y",get:function(){return this.amt.rR()}},{key:"gy",get:function(){return this.hmt?this.hmt:null},set:function(t){this.Uyt._Q("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.hmt=t}},{key:"M_",get:function(){return this.DI},set:function(t){this.setCurrentTime(t)}},{key:"U_",get:function(){return this.iH}},{key:"F_",get:function(){return this.rH}},{key:"Qo",get:function(){return this.vS}},{key:"H_",get:function(){return this.dS}},{key:"Ww",get:function(){}},{key:"yy",get:function(){return this.cS.yy}},{key:"Iw",get:function(){return this.imt}},{key:"V_",get:function(){return this.OI},set:function(t){this.OI!==t&&(this.Uyt._Q("THEOplayerSetMuted",t),this.OI=t,this.xo(new Jl(this.M_,t?0:1)))}},{key:"X_",get:function(){return this.xI}},{key:"W_",get:function(){return this.BI},set:function(t){this.Uyt._Q("THEOplayerSetPlaybackRate",t),this.BI=t}},{key:"Sy",get:function(){return this.YX.rR()}},{key:"Ry",get:function(){return jp.RR},set:function(t){}},{key:"n_",get:function(){return this.bH}},{key:"Iy",get:function(){return this.VF.rR()}},{key:"q_",get:function(){return this.LI}},{key:"uR",get:function(){}},{key:"Xw",get:function(){return this.Lw}},{key:"z_",get:function(){return this.cmt}},{key:"G_",get:function(){return this.fmt}},{key:"j_",get:function(){return 1},set:function(t){}},{key:"Vw",get:function(){return this.Bw}},{key:"oR",get:function(){return this.mS}},{key:"Ey",get:function(){return!0}}]),n}(hl),ZF=function(){function t(){this.hR=Ip.qE}var n=t.prototype;return n.aR=function(n,i){if(n.isAdvertisement)return!1;if(i.vr&&i.vr[360]&&!i.vr.nativeVR)return!1;if(bl(n.type))return!1;var r=n.contentProtection;if(r&&!Um(r)){if(!Vm(r))return!1;if(!t.zwt(r))return!1}return!0},t.zwt=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},n.cR=function(){return!1},t}(),JF=function(){function t(){this.Bmt=e.webkit}return t.prototype._Q=function(t,n){this.Bmt.messageHandlers[t]&&this.Bmt.messageHandlers[t].postMessage(n)},t}(),$F=function(t){function n(n){var i;return(i=t.call(this)||this).Uyt=void 0,i.tmt=void 0,i.Lmt=function(t){var n=Hs(t.detail.initData),r=t.detail.sessionId;i.xo(new xF(n,r))},i.Mmt=function(t){var n=new m(Qs(t.detail.message)),r=t.detail.destinationURL;i.xo(new PF(n,r))},i.Umt=function(t){i.xo(new BF)},i.Uyt=n,i.tmt=new CF,TF().fairplayController={sdkEventBus:i.tmt},i.dK(),i}F(n,t);var i=n.prototype;return i.dK=function(){this.tmt.addEventListener(IF.zyt,this.Lmt),this.tmt.addEventListener(IF.Gyt,this.Mmt),this.tmt.addEventListener(IF.jyt,this.Umt)},i._X=function(t,n){var i={playerId:SF(),data:Ys(n.buffer),sessionId:t};this.Uyt._Q("THEOplayerCreateKeySession",i)},i.Bh=function(t,n){var i={playerId:SF(),data:Ys(n.buffer),sessionId:t};this.Uyt._Q("THEOplayerUpdateKey",i)},n}(hl),KF=function(t){var n=this;this.tmt=void 0,this.Fmt=void 0,this.Hmt=function(){n.Fmt.Jj()},this.Vmt=function(){n.Fmt.Zj()},this.tmt=new CF,this.Fmt=t,this.tmt.addEventListener("showTracks",this.Hmt),this.tmt.addEventListener("hideTracks",this.Vmt),TF().texttracks={sdkEventBus:this.tmt}},tH=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this,n,i,r,e,s)||this).iQ=void 0,o.rQ=void 0,o.Xmt=void 0;var h=i.LS(W_.Rv);return o.iQ=new rN,o.iQ.dq(n),o.rQ=new kC(o.iQ.wy,h.LB,o.Xw,u,h.ZS),o.Xmt=new KF(o.rQ),i.tR(h),kr.document.querySelector(".vjs-tech")?kr.document.querySelector(".player-div").classList.add("theo-ios-sdk"):kr.document.querySelector(".player-div").style.background="transparent",o}F(n,t);var i=n.prototype;return i.ny=function(){t.prototype.ny.call(this),this.iQ.ny()},i.iy=function(){t.prototype.iy.call(this),this.iQ.iy()},i.Yw=function(){return!0},i.getSdkBridge=function(){return new JF},i.getFairPlayControllerBridge=function(){return iH},i.Omt=function(t){return t},i.Lv=function(){var n=E.coroutine(Kr.mark(function n(){return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return kr.document.querySelector(".vjs-tech")?kr.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):kr.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Lv.call(this);case 3:this.rQ.Lv(),this.iQ.Lv();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(YF);zp(new(function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.VT=function(t,n,i,r,e,s){return new tH(t,n,i,r,e,s)},i.aR=function(n,i){if(n.type){var r=Br();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.aR.call(this,n,i)},n}(ZF)));var nH,iH=new $F(new JF),rH=function(t){function n(){return t.call(this,"Wmt")||this}return F(n,t),n.prototype.tl=function(){return new eH},n}(pd),eH=function(t){function n(){return t.call(this,"statechange")||this}return F(n,t),n}(Es);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(nH||(nH={}));var sH=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).qmt=new hl,n.Oo=function(t){n.xo(t)},n}F(n,t);var i=n.prototype;return i.tl=function(){return n=function(t){var n=t.zmt.map(function(t){return t.Kd});return n.item=function(n){n|=0;var i=t.Sl(n);return i&&i.Kd||void 0},n}(t=this),i=new uE(t,n),n.addEventListener=function(t,n){i.Po(t,n)},n.removeEventListener=function(t,n){i.Uo(t,n)},n;var t,n,i},i.Po=function(t,n){this.qmt.Po(t,n)},i.Lo=function(t){this.qmt.Lo(t)},i.Mo=function(){this.qmt.Mo()},i.xo=function(t){this.qmt.xo(t)},i.Uo=function(t,n){this.qmt.Uo(t,n)},i.Ho=function(t){this.qmt.Ho(t)},i.Vo=function(t){this.qmt.Vo(t)},i.Xo=function(t,n){return this.qmt.Xo(t,n)},n}(function(){function t(){this.th=[],this.$d=void 0}var n=t.prototype;return n.Sl=function(t){return this.th[t]},n.vg=function(t){this.th.push(t),this.$d&&this.$d.push(t.Kd),this.Gmt(t)},n.jmt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.vg(i)}},n.Qmt=function(t,n){n>=0&&n<=this.th.length&&(this.th.splice(n,0,t),this.$d&&this.$d.splice(n,0,t.Kd),this.Gmt(t))},n.Cy=function(t){return Ze(this.th,t)},n.Ph=function(t){this.Ymt(this.th.indexOf(t))},n.Ymt=function(t){if(t>=0&&t<this.th.length){var n=this.th[t];Ye(this.th,t),this.$d&&Ye(this.$d,t),this.Zmt(n)}},n.sh=function(){var t=this.th.slice();Je(this.th),this.$d&&Je(this.$d);for(var n=0;n<t.length;n++){var i=t[n];this.Zmt(i)}},M(t,[{key:"zmt",get:function(){return this.th}},{key:"Ol",get:function(){return this.th.length}},{key:"Kd",get:function(){return this.$d||(this.$d=this.tl()),this.$d}}]),t}());var uH,oH=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return F(n,t),n}(Es),hH=function(t){function n(n){var i;return(i=t.call(this,"$mt")||this).Jmt=n,i}return F(n,t),n.prototype.tl=function(){return new oH(this.Jmt.Kd)},n}(pd),aH=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return F(n,t),n}(Es),cH=function(t){function n(n){var i;return(i=t.call(this,"Kmt")||this).task=n,i}return F(n,t),n.prototype.tl=function(){return new aH(this.task.Kd)},n}(pd),fH=function(t){function n(){return t.call(this)||this}F(n,t);var i=n.prototype;return i.Gmt=function(t){this.xo(new hH(t))},i.Zmt=function(t){this.xo(new cH(t))},n}(sH);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(uH||(uH={}));var vH=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).tkt=uH.UNINITIALISED,e.JB=new fH,e.B7=void 0,e.nkt=void 0,e.ikt=void 0,e.ikt=i,e.nkt=r,e.B7=n,e.$w(),e}F(n,t);var i=n.prototype;return i.$w=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rkt();case 2:this.ekt(uH.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rkt=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.skt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.skt=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.B7.j0();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.ikt.ukt(r.id,r.sourceDescription,r.parameters,this.nkt),this.okt(e),this.JB.vg(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ekt=function(t){this.tkt=t,this.xo(new rH)},i.ukt=function(t,n,i){void 0===i&&(i="persistent");var r=this.ikt.hkt(t,n,i);return this.akt(r,i),this.JB.vg(r),this.okt(r),r},i.akt=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ckt(n,i);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),v("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n,i){return t.apply(this,arguments)}}(),i.ckt=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.B7.q0({key:n.Xl,id:n.Xl,sourceDescription:n.pR,parameters:n.$h},i);case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.okt=function(t){var n=this;t.Po("Wmt",function(){t.sv===nH.EVICTED&&n.JB.Ph(t)})},M(n,[{key:"sv",get:function(){return this.tkt}},{key:"fkt",get:function(){return this.JB}}]),n}(bs);function dH(t,n){return function(t,n){var i=t.cu&&n.cu,r=t.Ip&&n.Ip;return i||r?i&&r?t.cu*t.Ip-n.cu*n.Ip:i?t.cu-n.cu:r?t.Ip-n.Ip:(t.cu||1)*(t.Ip||1)-(n.cu||1)*(n.Ip||1):0}(t,n)||function(t,n){return t.QE-n.QE}(t,n)}var lH=function(t){function n(){return t.call(this,"progress")||this}return F(n,t),n}(Es),_H=function(t){function n(){return t.call(this,"g0")||this}return F(n,t),n.prototype.tl=function(){return new lH},n}(pd),gH=function(){function t(t,n,i){if(this.vkt=void 0,this.dkt=t,this.Ny=n,this.lkt=i,0===this.Ny.size)this.vkt=nA.SI();else{var r=new nA([-1/0,1/0]);this.Ny.forEach(function(t){r=r.iI(t.timeRanges)}),this.vkt=r}}return t.prototype.ug=function(t){return!!Ud(this.Ny,t.Ny)&&(!!Yt(this.dkt,t.dkt)&&(!!Yt(this.AI,t.AI)&&(!!Yt(this._kt,t._kt)&&this.gkt.gI(t.gkt))))},t.wkt=function(){return yH},M(t,[{key:"AI",get:function(){return this.lkt}},{key:"ykt",get:function(){return this.dkt}},{key:"_kt",get:function(){return this.gkt.AI}},{key:"mkt",get:function(){var t=0,n=0;return this.Ny.forEach(function(i){t+=i.timeRanges.AI,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"gkt",get:function(){return this.vkt}}]),t}(),wH=ie(),yH=new gH(0,wH,NaN);function mH(t,n){if(rt(t)){if(Ie(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var kH,pH=function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),M(n,[{key:"name",get:function(){return"kkt"}}]),n}(on);function AH(t,n,i,r){var e=[],s=Ge(i,function(t){return t.pkt===fe});if(void 0!==s){var u=s.fs?function(t){var n=t.split(":",1)[0];switch(n){case"cbcs":case"cenc":return n;default:return}}(s.fs.toLowerCase()):"cenc";if(void 0!==u){for(var o=0;o<i.length;o++){var h=i[o];if(h.pkt!==fe)for(var a=0,c=Se(h.pkt);a<c.length;a++){var f=c[a];e.push({Xh:f,KE:h.Akt?[h.Akt]:[],yE:void 0})}}if(e.length)return{oT:t,bkt:{Tkt:u,hT:s.hT},Ekt:e,Skt:n===W_.Sv?r.slice():[],Rkt:n===W_.Rv?r.slice():[],bX:!1}}}}function bH(t,n){var i;if(!t)return n;if(!n)return t;var r=[],e=ie();return TH(r,e,t.Ekt),TH(r,e,n.Ekt),{oT:t.oT,bkt:{Tkt:t.bkt.Tkt,hT:null!=(i=t.bkt.hT)?i:n.bkt.hT},Ekt:r,Skt:EH(t.Skt,n.Skt,Ze),Rkt:EH(t.Rkt,n.Rkt,Ze),bX:t.bX||n.bX||!1}}function TH(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],s=e.Xh.uo,u=void 0;n.has(s)?(u=n.get(s)).KE=EH(u.KE,e.KE,SH):(u=te({},e),t.push(u),n.set(s,u))}}function EH(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var s=n[e];i(r,s)||r.push(s)}return r}function SH(t,n){for(var i=0;i<t.length;i++){if(zs(t[i],n))return!0}return!1}function RH(t,n){var i,r=t.Ikt;if(r){for(var e=t.oD,s=[],u=0,o=t.b$;u<o.length;u++){var h=o[u];s.push(e+'; codecs="'+h+'"')}i=AH(n||{},t.io,r,s)}for(var a=0,c=t.Nkt;a<c.length;a++){i=bH(i,IH(c[a],n))}return i}function IH(t,n){return AH(n||{},t.io,t.Ikt||[],[t.Gf])}function NH(t,n,i){return CH.apply(this,arguments)}function CH(){return(CH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Ckt;s<u.length;s++)o=u[s],e.push(DH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{U_:n.Okt.Dkt(),xkt:[n.Pkt],Ckt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function DH(t,n,i){return OH.apply(this,arguments)}function OH(){return(OH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Bkt;s<u.length;s++)o=u[s],e.push(xH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{Lkt:h});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function xH(t,n,i){return PH.apply(this,arguments)}function PH(){return(PH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Mkt;s<u.length;s++)BH(o=u[s])||e.push(UH(o,i,r));return t.next=4,E.all(e);case 4:return h=t.sent,t.abrupt("return",{vp:h,io:n.io});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function BH(t){return t.Nkt.every(MH)}!function(t){t[t.y_=0]="y_",t[t.m_=1]="m_"}(kH||(kH={}));var LH=1;function MH(t){return t.Ukt!==LH&&Boolean(t.Ukt)}function UH(t,n,i){return FH.apply(this,arguments)}function FH(){return(FH=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Nkt;s<u.length;s++)MH(o=u[s])||e.push(VH(o,r));return t.next=4,E.all(e);case 4:return h=t.sent,a=n.b$[0],c=n.Ikt,f=c?HH(a,c):void 0,v=RH(n,i),t.abrupt("return",{jl:h,Gl:n.Fkt,io:n.io,VS:f,Hkt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function HH(t,n){for(var i=[],r=function(t){return t?Ie(t,"avc")?ro.VIDEO_H264:Ie(t,"hev")||Ie(t,"hvc")||Ie(t,"hvt")||Ie(t,"lhv")||Ie(t,"lhe")||Ie(t,"lht")?ro.VIDEO_H265:Ie(t,"mp4")?ro.VIDEO_MP4:Ie(t,"mpeg2")?ro.VIDEO_MPEG2:Ie(t,"mpeg")?ro.VIDEO_MPEG:ro.VIDEO_UNKNOWN:ro.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var s=n[e],u=s.pkt.split(":").pop(),o=s.Akt;i.push({mimeType:r,uuid:u,data:o})}return{type:kH.y_,schemeType:ve,schemeDatas:i}}function VH(t,n){return XH.apply(this,arguments)}function XH(){return(XH=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,WH(n,i);case 2:s=t.sent,u={Xl:GH(n),lb:s,u7:n.c7,QE:n.QE,fu:n.fu,Ip:n.Ip,io:n.io,cu:n.cu},t.t0=n.io,t.next=t.t0===W_.Je?7:t.t0===W_.Rv?8:t.t0===W_.Sv?10:12;break;case 7:return t.abrupt("break",13);case 8:return u.ZK=null!=(r=null==(e=n.ZK)?void 0:e.K_())?r:NaN,t.abrupt("break",13);case 10:return u.audioSamplingRate=n.zgt,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",u);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function WH(t,n){return qH.apply(this,arguments)}function qH(){return(qH=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.Vkt,s=e.Xkt(),u=s;case 4:if(!u){t.next=16;break}if(!n.Wkt(u)){t.next=12;break}return t.next=8,n.qkt(u,i,(new es).Io);case 8:for(o=t.sent,h=0;h<o.Ol;h++)r.push(zH(o.zkt(h),n));t.next=13;break;case 12:r.push(zH(u,n));case 13:u=e.Dlt(u),t.next=4;break;case 16:return a=e.Gkt(),c=a.Yy-s.Qy,t.abrupt("return",{U_:c,K0:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function zH(t,n){return{Qy:t.Qy,U_:t.U_,jkt:n.Qkt(t)}}function GH(t){return t.Ykt.WR+"-"+(""+t.Xl)}function jH(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var s in i[r]={},e){var u=[];i[r][s]=[];for(var o=e[s],h=0;h<o.length;h++){var a=o[h],c=QH(a,r,n);u.push(c)}i[r][s]=u}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={io:r.type,pp:[]}),n[r["group-id"]].pp.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],s=0,u=e.pp;s<u.length;s++){var o=u[s];i[e.io]||(i[e.io]={}),i[e.io][o.name]||(i[e.io][o.name]=[]),i[e.io][o.name].push(o)}return i}(t),n)}function QH(t,n,i){for(var r=t["group-id"],e={HJ:t,bK:[]},s=0;s<i.length;s++){var u=i[s];u[n.toLowerCase()]===r&&e.bK.push(u)}return e}var YH,ZH="und";function JH(t,n){return $H.apply(this,arguments)}function $H(){return($H=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.D7([n],{});case 2:return r=t.sent,e=new $P,t.abrupt("return",e.Jk(r.p7,r.fv,oB(r.fv)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function KH(t,n){return tV.apply(this,arguments)}function tV(){return(tV=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",nV(n,i));case 4:return t.abrupt("return",(e=void 0,e=gV(r=n),{U_:r.duration,xkt:[r.uri],Ckt:[{Lkt:[{io:W_.lv,vp:[{io:W_.lv,Gl:ZH,jl:[{Xl:r.uri,lb:e,QE:0,fu:"",Ip:0,io:W_.lv,cu:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function nV(t,n){return iV.apply(this,arguments)}function iV(){return(iV=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=jH(n.media,n.streams),t.next=3,uV(r,i);case 3:return e=t.sent,t.next=6,eV(n.streams,i);case 6:return s=t.sent,e.push(s),t.abrupt("return",{U_:rV(e),xkt:[n.uri],Ckt:[{Lkt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rV(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].vp;r<e.length;r++){var s=e[r];n=_.max.apply(_,[n].concat(s.jl.map(function(t){return t.lb.U_})))}return n}function eV(t,n){return sV.apply(this,arguments)}function sV(){return(sV=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return a=n[e],t.next=6,lV(a.uri,i);case 6:(c=t.sent).QE=a.bandwidth,c.fu=a.codecs,c.Ip=null!=(s=null==(u=a.resolution)?void 0:u.height)?s:0,c.cu=null!=(o=null==(h=a.resolution)?void 0:h.width)?o:0,r.push(c);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{io:W_.lv,vp:[{Gl:ZH,io:W_.lv,jl:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function uV(t,n){return oV.apply(this,arguments)}function oV(){return(oV=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=Kr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,s=n[e],t.next=7,hV(s,e,i);case 7:u=t.sent,r.push(u),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hV(t,n,i){return aV.apply(this,arguments)}function aV(){return(aV=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=[],t.t0=Kr.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return s=t.t1.value,u=n[s],t.next=7,cV(u,r);case 7:o=t.sent,e.push(o),t.next=2;break;case 11:return t.abrupt("return",{io:vV(i),vp:e});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cV(t,n){return fV.apply(this,arguments)}function fV(){return(fV=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n[0].HJ,s=0;case 3:if(!(s<n.length)){t.next=12;break}return u=n[s],t.next=7,dV(u,i);case 7:o=t.sent,r.push(o);case 9:s++,t.next=3;break;case 12:return t.abrupt("return",{Gl:e.language||ZH,io:vV(e.type),jl:r});case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vV(t){switch(t.toUpperCase()){case"AUDIO":return W_.Sv;case"VIDEO":return W_.Rv;case"SUBTITLES":case"CLOSED-CAPTIONS":return W_.Je;default:return W_.lv}}function dV(t,n){var i,r,e;return lV((r=(i=t).HJ.uri,e=i.bK.map(function(t){return t.uri}),r||(e.length?e[0]:void 0)),n)}function lV(t,n){return _V.apply(this,arguments)}function _V(){return(_V=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,JH(n,i);case 3:e=t.sent,r=gV(e),t.next=8;break;case 7:r={U_:0,K0:[]};case 8:return t.abrupt("return",{Xl:n||"default",Zkt:n,lb:r,QE:0,fu:"",Ip:0,io:W_.lv,cu:0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function gV(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(wV(e))}return{U_:t.duration,K0:n}}function wV(t){return{Qy:t.start,U_:t.duration,jkt:yV(t.uri)}}function yV(t){return dD(t)?{vv:t.XZ,WZ:[t.WZ.WR,t.WZ.zR],xv:!1}:{vv:t.toString(),xv:!1}}!function(t){t.Wb="static",t.qb="dynamic"}(YH||(YH={}));var mV,kV=31536e3,pV=2592e3,AV=86400,bV=3600,TV=60,EV=/^P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?$/,SV=function(){function t(t){this.Jkt=void 0;var n=t.match(EV);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");var i=Number(n[1])||0,r=Number(n[2])||0,e=Number(n[3])||0,s=Number(n[4])||0,u=Number(n[5])||0,o=Number(n[6])||0;this.Jkt=i*kV+r*pV+e*AV+s*bV+u*TV+o}var n=t.prototype;return n.Dkt=function(){return this.Jkt},n.$kt=function(){return 1e3*this.Jkt},M(t,[{key:"_3",get:function(){return N_.ew(this.Jkt,1e3)}}]),t}();!function(t){t.Kkt="progressive",t.tpt="interlaced",t.lv="unknown"}(mV||(mV={}));var RV=function(){function t(t,n){this.npt=t,this.ipt=n}return t.prototype.K_=function(){return this.npt/this.ipt},t}(),IV=/^(?:true|false)$/i,NV=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function CV(t){if(void 0!==t)return new SV(t)}function DV(t){if(void 0!==t){var n=t.match(NV);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],s=n[4],u=n[5],o=n[6],h=n[7],a=n[8],c=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(r),g=Number(e)-1,w=Number(s),m=Number(u),k=Number(o),p=Number(h),A=Number("0."+(a||"")),b=_.round(1e3*A);if(c)k-=("-"===c?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,m,k,p,b));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function OV(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[PV(n[1]),PV(n[2])]}}function xV(t){if(void 0!==t){if(!y(Number(t)))try{return Wt.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function PV(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function BV(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!y(i)&&!y(r))return new RV(i,r);throw new v("The given value could not be parsed as a valid frame rate")}}function LV(t){if(void 0!==t){if(IV.test(t))return"true"===t.toLowerCase();if(!y(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function MV(t){return{vv:t.Cs,rpt:LV(t.bs("availabilityTimeComplete")),ept:PV(t.bs("availabilityTimeOffset"))}}function UV(t){return t.map(MV)}function FV(t){var n,i,r,e,s,u,o=ZV(t),h=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(s=(n=t).Ts(r,i))&&(s=n.bs(e+":"+i)),s),a=Hw(t,"pssh","urn:mpeg:cenc:2013","cenc")[0];if(void 0!==a&&(u=Qs(a.Cs)),!u){var c=Hw(t,"pro","urn:microsoft:playready","mspr")[0];void 0!==c&&(u=function(t){var n=Hs(t.Cs),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,s=new ArrayBuffer(e),u=new m(s),o=new DataView(s),h=new zu;wu(o,h,e),wu(o,h,1886614376),wu(o,h,0),fu(o,h,i),wu(o,h,r),fu(o,h,n),0;return u.buffer}(c))}return{hT:h,Akt:u,pkt:o.pkt,fs:o.fs}}function HV(t){return{spt:t.bs("sourceURL"),WZ:OV(t.bs("range"))}}function VV(t,n){var i=t.bs("d"),r=t.bs("t"),e=PV(t.bs("r"));n.push({U_:i,Qy:r,upt:e})}function XV(t){return{n8:t.bs("index"),hpt:OV(t.bs("indexRange")),pp:t.bs("media"),apt:OV(t.bs("mediaRange"))}}function WV(t){var n,i;return te({},GV(t),{cpt:(n=t.ls("SegmentURL"),(i=n.map(XV)).length>0?i:void 0),fpt:t.bs("xlink:href"),vpt:t.bs("xlink:actuate")})}function qV(t){var n=t.map(WV);return n.length>0?n:void 0}function zV(t){var n=LV(t.bs("availabilityTimeComplete")),i=PV(t.bs("availabilityTimeOffset")),r=OV(t.bs("indexRange")),e=LV(t.bs("indexRangeExact")),s=t.ls("Initialization");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.gs+" element can not have more than one Initialization element.");var u=1===s.length?HV(s[0]):void 0,o=xV(t.bs("presentationTimeOffset")),h=t.ls("RepresentationIndex");if(h.length>1)throw new v("The provided MPEG-DASH document's "+t.gs+" element can not have more than one RepresentationIndex element.");return{rpt:n,ept:i,hpt:r,dpt:e,lpt:u,_pt:o,gpt:1===h.length?HV(h[0]):void 0,wpt:CV(t.bs("timeShiftBufferDepth")),jg:PV(t.bs("timescale"))}}function GV(t){var n=zV(t),i=t.ls("BitstreamSwitching"),r=i.length>0?HV(i[0]):void 0,e=PV(t.bs("duration")),s=t.ls("SegmentTimeline");if(s.length>1)throw new v("The provided MPEG-DASH document's "+t.gs+" element can not have more than one SegmentTimeline element.");return te({},n,{ypt:r,U_:e,Vkt:1===s.length?function(t){for(var n=[],i=t.ls("S"),r=0;r<i.length;r++)VV(i[r],n);return n}(s[0]):void 0,mpt:PV(t.bs("startNumber")),kpt:PV(t.bs("endNumber"))})}function jV(t){return te({},GV(t),{ppt:t.bs("bitstreamSwitching"),Apt:t.bs("index"),bpt:t.bs("initialization"),Tpt:t.bs("media")})}function QV(t){return{zgt:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(PV)):1===n.length?n.map(PV)[0]:void 0}}(t.bs("audioSamplingRate")),b$:t.bs("codecs"),Ept:LV(t.bs("codingDependency")),Ikt:function(t){if(0!==t.length)return t.map(FV)}(t.ls("ContentProtection")),Spt:t.ls("EssentialProperty").map(JV),ZK:BV(t.bs("frameRate")),Ip:PV(t.bs("height")),Ukt:PV(t.bs("maxPlayoutRate")),Rpt:PV(t.bs("maximumSAPPeriod")),oD:t.bs("mimeType"),Ipt:t.bs("profiles"),Npt:t.bs("sar"),Cpt:function(t){switch(t){case mV.Kkt:case mV.tpt:case mV.lv:return t;default:return}}(t.bs("scanType")),Dpt:t.bs("segmentProfiles"),Opt:PV(t.bs("startWithSAP")),cu:PV(t.bs("width"))}}function YV(t){var n=QV(t),i=PV(t.bs("bandwidth")),r=UV(t.ls("BaseURL")),e=t.bs("dependencyId"),s=t.bs("id"),u=t.bs("mediaStreamStructureId"),o=PV(t.bs("qualityRanking")),h=t.ls("SegmentBase");if(h.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var a=1===h.length?zV(h[0]):void 0,c=qV(t.ls("SegmentList")),f=t.ls("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");return te({},n,{QE:i,xpt:r,Ppt:e,Xl:s,Bpt:u,Lpt:o,Mpt:a,Upt:c,Fpt:1===f.length?jV(f[0]):void 0})}function ZV(t){return{pkt:t.bs("schemeIdUri"),fs:t.bs("value")}}function JV(t){return ZV(t)}function $V(t){return ZV(t)}function KV(t){return ZV(t)}function tX(t){var n=QV(t),i=function(t){return t.map(KV)}(t.ls("Accessibility")),r=UV(t.ls("BaseURL")),e=LV(t.bs("bitstreamSwitching")),s=t.bs("contentType"),u=PV(t.bs("group")),o=PV(t.bs("id")),h=t.bs("lang"),a=PV(t.bs("maxBandwidth")),c=BV(t.bs("maxFrameRate")),f=PV(t.bs("maxHeight")),d=PV(t.bs("maxWidth")),l=PV(t.bs("minBandwidth")),_=BV(t.bs("minFrameRate")),g=PV(t.bs("minHeight")),w=PV(t.bs("minWidth")),y=t.bs("par"),m=t.ls("Representation").map(YV);if(0===m.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var k=function(t){return t.map($V)}(t.ls("Role")),p=LV(t.bs("segmentAlignment"))||!1,A=t.ls("SegmentBase");if(A.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?zV(A[0]):void 0,T=qV(t.ls("SegmentList")),E=t.ls("SegmentTemplate");if(E.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?jV(E[0]):void 0,R=PV(t.bs("selectionPriority"));return te({},n,{Hpt:i,xpt:r,ypt:e,Gf:s,Vpt:u,Xl:o,Gl:h,Xpt:a,Wpt:c,qpt:f,zpt:d,Gpt:l,jpt:_,Qpt:g,Ypt:w,Zpt:y,Nkt:m,Jpt:k,$pt:p,Mpt:b,Upt:T,Fpt:S,hR:R||1,Kpt:LV(t.bs("subsegmentAlignment"))||!1,tAt:PV(t.bs("subsegmentStartsWithSAP")),nAt:t.bs("xlink:actuate")||"onRequest",iAt:t.bs("xlink:href")})}function nX(t){var n=xV(t.bs("presentationTime"))||Wt.ZERO,i=xV(t.bs("duration")),r=PV(t.bs("id")),e=function(t){for(var n=t.Ns,i={},r=0;r<n.length;r++)i[n[r].hs]=n[r].fs;return i}(t),s=t.Cs;return{QA:n,U_:i,Xl:r,Ns:e,Ds:""!==s.trim()?s:t.bs("messageData")||""}}function iX(t){return{iAt:t.bs("xlink:href"),nAt:t.bs("xlink:actuate"),pkt:t.bs("schemeIdUri"),fs:t.bs("value"),jg:PV(t.bs("timescale")),_pt:xV(t.bs("presentationTimeOffset")),hD:t.ls("Event").map(nX)}}function rX(t,n){var i=t.ls("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?ZV(i[0]):void 0,e=t.ls("AdaptationSet").map(tX),s=UV(t.ls("BaseURL")),u=LV(t.bs("bitstreamSwitching")),o=CV(t.bs("duration")),h=t.ls("EventStream").map(iX),a=t.bs("id"),c=n&&CV(n.bs("start")),f=t.ls("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?zV(f[0]):void 0,l=qV(t.ls("SegmentBase")),_=t.ls("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?jV(_[0]):void 0,w=CV(t.bs("start")),y=(t.ls("Subset"),t.bs("xlink:href"));return{Mkt:e,rAt:r,xpt:s,ypt:u,U_:o,eAt:h,Xl:a,sAt:c,Mpt:d,Upt:l,Fpt:g,WR:w,nAt:t.bs("xlink:actuate"),iAt:y}}function eX(t){var n=t.bs("schemeIdUri");if(n)return{pkt:n,fs:t.bs("value")}}function sX(t,n){var i=DV(t.bs("availabilityEndTime")),r=DV(t.bs("availabilityStartTime")),e=UV(t.ls("BaseURL")),s=t.bs("id"),u=t.ls("Location").map(function(t){return""+t.Cs}),o=CV(t.bs("maxSegmentDuration")),h=CV(t.bs("maxSubsegmentDuration")),a=CV(t.bs("mediaPresentationDuration")),c=(t.ls("Metrics"),CV(t.bs("minBufferTime")));if(!c)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=CV(t.bs("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(rX(t[i],t[i+1]));return n}(t.ls("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.bs("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{uAt:i,oAt:r,xpt:e,Xl:s,hAt:u,aAt:n,cAt:o,fAt:h,Okt:a,vAt:c,dAt:f,Ckt:d,Ipt:l,lAt:DV(t.bs("publishTime")),_At:CV(t.bs("suggestedPresentationDelay")),wpt:CV(t.bs("timeShiftBufferDepth")),io:function(t){switch(t){case YH.Wb:case YH.qb:return t;default:return}}(t.bs("type")),gAt:function(t){for(var n=[],i=0;i<t.length;i++){var r=eX(t[i]);r&&n.push(r)}return n}(t.ls("UTCTiming"))}}var uX,oX=function(){function t(){}return t.prototype.hyt=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return sX(t,n)}(T.rs(t).Os,n)},t}(),hX=0,aX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Wl=void 0,u.xy=void 0,u.wAt=void 0,u.Xl=n,u.QE=i,u.b$=r,u.XZ=s,u.Wl=hX++,u.xy=e||"",u.wAt=!0,u}return F(n,t),n.prototype.Sb=function(){this.wAt=!1,this.xo(new mU(this.Kd))},M(n,[{key:"zl",get:function(){return this.xy},set:function(t){this.xy!==t&&(this.xy=t,this.xo(new mU(this.Kd)))}},{key:"lY",get:function(){return this.wAt}}]),n}(bs),cX=function(t){function n(n,i,r,e,s,u,o,h,a){var c;return void 0===a&&(a=0),(c=t.call(this,n,i,r,e,s)||this).$d=void 0,c.ZK=u,c.cu=o,c.Ip=h,c.qgt=a,c}return F(n,t),M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=kU(this)),this.$d}}]),n}(aX),fX=function(t){function n(n,i,r,e,s,u){var o;return(o=t.call(this,n,i,r,e,s)||this).$d=void 0,o.zgt=u,o}return F(n,t),M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=pU(this)),this.$d}}]),n}(aX);!function(t){t.yAt="mAt",t.kAt="pAt"}(uX||(uX={}));var vX=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).AAt=function(t){n.xo(t)},n}return F(n,t),M(n,[{key:"bAt",get:function(){var t=this.TAt();return null==t?void 0:t.WR}},{key:"EAt",get:function(){var t=this.TAt();return null==t?void 0:t.zR}}]),n}(bs);function dX(t){return ot(t.SAt)}var lX=function(t){function n(n,i){var r;if((r=t.call(this)||this).RAt=void 0,r.$d=void 0,r.IAt=void 0,r.NAt=void 0,r.CAt=void 0,r.RAt=n,r.IAt=i,r.IAt.Po(uX.yAt,r.AAt),r.io===W_.Rv){var e,s,u=null!=(e=null==(s=r.ZK)?void 0:s.K_())?e:NaN;r.NAt=new cX(r.Xl,r.QE,r.fu,"","",u,r.cu,r.Ip)}else r.io===W_.Sv?r.NAt=new fX(r.Xl,r.QE,r.fu,"","",r.zgt):r.NAt=void 0;return r}F(n,t);var i=n.prototype;return i.Qkt=function(t){var n=dX(t)?this.IAt.DAt(t):this.IAt.Qkt(t);return{vv:n.vv,WZ:n.WZ,xv:this.OAt.xv}},i.xAt=function(){return this.IAt.xAt()},i.TAt=function(){return this.IAt.TAt()},i.PAt=function(){return this.IAt.PAt()},i.Wkt=function(t){return this.IAt.Wkt(t)},i.qkt=function(t,n,i){return this.IAt.qkt(t,this.OAt.xv,n,i)},i.BAt=function(t){return dX(t)?this.Vkt.LAt(t):this.Vkt.BAt(t)},i.V8=function(t){return dX(t)?this.Vkt.MAt(t):this.Vkt.V8(t)},i.Lv=function(){this.IAt.Uo(uX.yAt,this.AAt)},M(n,[{key:"UAt",get:function(){return this.RAt}},{key:"zgt",get:function(){var t;return null!=(t=this.IAt.Ds.zgt)?t:this.UAt.zgt}},{key:"QE",get:function(){return this.IAt.Ds.QE||0}},{key:"b$",get:function(){var t=this.IAt.Ds;return t.b$?[t.b$]:this.UAt.b$}},{key:"FAt",get:function(){var t=this.IAt.Ds;return t.b$?[t.b$]:[]}},{key:"fu",get:function(){return this.IAt.Ds.b$||this.UAt.fu}},{key:"Ept",get:function(){return this.IAt.Ds.Ept||this.UAt.Ept}},{key:"Ikt",get:function(){return this.IAt.Ds.Ikt||this.UAt.Ikt}},{key:"Gf",get:function(){return this.oD+'; codecs="'+this.fu+'"'}},{key:"Spt",get:function(){var t=this.IAt.Ds;return t.Spt.length?t.Spt:this.UAt.Spt}},{key:"Kd",get:function(){return this.$d||(this.$d=(t=this,{get id(){return t.Xl},get type(){return t.io},get bandwidth(){return t.QE},get width(){return t.cu},get height(){return t.Ip},get frameRate(){var n,i;return null!=(n=null==(i=t.ZK)?void 0:i.K_())?n:NaN},get audioSamplingRate(){return t.zgt}}));var t}},{key:"ZK",get:function(){var t;return null!=(t=this.IAt.Ds.ZK)?t:this.UAt.ZK}},{key:"Ip",get:function(){return this.IAt.Ds.Ip||this.UAt.Ip}},{key:"Xl",get:function(){return this.IAt.Ds.Xl||""}},{key:"L5",get:function(){return this.CAt},set:function(t){this.CAt=t}},{key:"c7",get:function(){var t=this.IAt.HAt();if(t)return{vv:t.vv,WZ:t.WZ,xv:this.OAt.xv}}},{key:"Ukt",get:function(){return this.IAt.Ds.Ukt||this.UAt.Ukt||1}},{key:"Rpt",get:function(){return this.IAt.Ds.Rpt||this.UAt.Rpt}},{key:"OAt",get:function(){return this.Ykt.OAt}},{key:"oD",get:function(){return this.IAt.Ds.oD||this.UAt.oD}},{key:"Ykt",get:function(){return this.UAt.Ykt}},{key:"Ipt",get:function(){return this.IAt.Ds.Ipt||this.UAt.Ipt}},{key:"Vgt",get:function(){return this.NAt}},{key:"Npt",get:function(){return this.IAt.Ds.Npt||this.UAt.Npt}},{key:"Cpt",get:function(){return this.IAt.Ds.Cpt||this.UAt.Cpt}},{key:"VAt",get:function(){return this.IAt.VAt}},{key:"Dpt",get:function(){return this.IAt.Ds.Dpt||this.UAt.Dpt}},{key:"Vkt",get:function(){return this.IAt.Vkt}},{key:"Opt",get:function(){return this.IAt.Ds.Opt||this.UAt.Opt}},{key:"io",get:function(){var t=this.oD.split("/")[0];return"application"===t||"text"===t||ly(this.oD,this.b$)?W_.Je:"video"===t?W_.Rv:"audio"===t?W_.Sv:"image"===t?W_.Iv:W_.lv}},{key:"cu",get:function(){return this.IAt.Ds.cu||this.UAt.cu}}]),n}(vX),_X=function(t){function n(n,i){var r;return(r=t.call(this)||this).XAt=[],r.IAt=void 0,r.WAt=void 0,r.qAt=[],r.WAt=n,r.IAt=i,r.IAt.Po(uX.yAt,r.AAt),r}F(n,t);var i=n.prototype;return i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.qAt.length){t.next=6;break}return this.qAt=[],r=this.IAt.Nkt.map(function(t){return e.zAt(t,n,i)}),t.next=5,E.all(r);case 5:this.qAt=t.sent.filter($);case 6:this.GAt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.zAt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new lX(this,n),t.next=3,i(e);case 3:if(s=t.sent,os(r),s){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.GAt=function(){if(!this.qAt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.TAt=function(){return this.IAt.TAt()},i.PAt=function(){return this.IAt.PAt()},i.Lv=function(){this.IAt.Uo(uX.yAt,this.AAt);for(var t=0,n=this.qAt;t<n.length;t++){n[t].Lv()}Je(this.qAt)},M(n,[{key:"Hpt",get:function(){return this.IAt.Ds.Hpt}},{key:"zgt",get:function(){var t;return null!=(t=this.IAt.Ds.zgt)?t:-1}},{key:"b$",get:function(){if(this.IAt.Ds.b$)return[this.IAt.Ds.b$];for(var t=[],n=0,i=this.Nkt;n<i.length;n++){var r=i[n];r.FAt.length&&-1===t.indexOf(r.fu)&&t.push(r.fu)}return t}},{key:"fu",get:function(){return this.b$.join()}},{key:"Ept",get:function(){return this.IAt.Ds.Ept}},{key:"Ikt",get:function(){return this.IAt.Ds.Ikt}},{key:"Gf",get:function(){return this.oD+'; codecs="'+this.fu+'"'}},{key:"Spt",get:function(){return this.XAt}},{key:"ZK",get:function(){return this.IAt.Ds.ZK}},{key:"Vpt",get:function(){return this.IAt.Ds.Vpt}},{key:"Ip",get:function(){return this.IAt.Ds.Ip||0}},{key:"Xl",get:function(){return this.IAt.Ds.Xl}},{key:"Ukt",get:function(){return this.IAt.Ds.Ukt}},{key:"Rpt",get:function(){return this.IAt.Ds.Rpt}},{key:"OAt",get:function(){return this.Ykt.OAt}},{key:"oD",get:function(){return this.IAt.Ds.oD||this.qAt[0].oD}},{key:"Ykt",get:function(){return this.WAt}},{key:"Ipt",get:function(){return this.IAt.Ds.Ipt}},{key:"Nkt",get:function(){return this.qAt}},{key:"Jpt",get:function(){return this.IAt.Ds.Jpt||[]}},{key:"Npt",get:function(){return this.IAt.Ds.Npt}},{key:"Cpt",get:function(){return this.IAt.Ds.Cpt}},{key:"Dpt",get:function(){return this.IAt.Ds.Dpt}},{key:"hR",get:function(){return this.IAt.Ds.hR}},{key:"Opt",get:function(){return this.IAt.Ds.Opt}},{key:"io",get:function(){var t=(this.IAt.Ds.Gf||this.oD).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||ly(this.oD,this.b$)?W_.Je:"video"===t?W_.Rv:"audio"===t?W_.Sv:"image"===t?W_.Iv:W_.lv}},{key:"cu",get:function(){return this.IAt.Ds.cu||0}},{key:"Fkt",get:function(){return this.IAt.Ds.Gl||""}},{key:"jAt",get:function(){return this.bAt}},{key:"QAt",get:function(){var t=this.jAt,n=this.EAt;if(void 0!==t&&void 0!==n){var i=_.min(n,this.OAt.YAt);return _.max(t,i)}}}]),n}(vX);function gX(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=n[r],s=0;s<t.length;s++){var u=t[s];i.push(T.Du(u,e))}return i}var wX=function(){function t(t,n){this.WAt=void 0,this.ZAt=void 0,this.TQ=void 0,this.JAt=void 0,this.$At=void 0,this.WAt=t,this.ZAt=n,this.TQ=n.jg,this.JAt=n.ept,this.$At=n._pt}var n=t.prototype;return n.KAt=function(t){var n=t-this.WAt.WR;if(!(n<0||n>=this.WAt.U_)){var i=this.tbt();return void 0!==i&&Gt(i,n,1e-5)?this.Xkt():this.nbt(n)}},n.ibt=function(t){var n=t-this.WAt.WR;if(!(n<0))return this.rbt(_.min(n,this.WAt.U_))},n.Xkt=function(){return this.ebt(0)},n.Gkt=function(){var t=this.WAt.U_;if(isFinite(t))return this.rbt(t)},n.xAt=function(t){if(this.WAt.sbt.io===YH.qb){var n=this.ubt(t);if(!n)return;return{obt:t,hbt:this.abt(t),cbt:n}}var i=this.Xkt();if(i)return{obt:t,hbt:i,cbt:this.Gkt()}},n.PAt=function(t,n){if(n){var i=this.fbt(n.hbt),r=this.Dlt(n.cbt);if(r){var e=this.vbt(r);(!i||e.getTime()<i.getTime())&&(i=e)}return i}var s=this.Xkt();if(s){var u=this.vbt(s);if(t.getTime()<u.getTime())return u}var o=this.WAt.sbt.oAt;return t.getTime()<o.getTime()?o:void 0},n.ubt=function(t){var n=(t.getTime()-this.WAt.sbt.oAt.getTime())/1e3-this.WAt.WR+this.JAt,i=this.rbt(zt(n,0,this.WAt.U_));if(i&&(i=this.dbt(i,t))){for(var r=this.Dlt(i);r&&this.lbt(r,t);)i=r,r=this.Dlt(i);return i}},n.abt=function(t){var n,i=this.ZAt.wpt;if(i){var r=(t.getTime()-this.WAt.sbt.oAt.getTime())/1e3-this.WAt.WR-i.Dkt();(n=this.rbt(zt(r,0,this.WAt.U_)))||(n=this.Xkt())}else n=this.Xkt();if(n&&(n=this.dbt(n,t))){for(var e=this._bt(n);e&&this.lbt(e,t);)n=e,e=this._bt(n);return n}},n.dbt=function(t,n){for(var i=t;i&&this.vbt(i).getTime()>n.getTime();)i=this._bt(i);if(i){var r=this.fbt(i);if(r&&r.getTime()<=n.getTime()){var e=this._bt(i);for(e&&this.lbt(e,n)&&(i=e);i;){if(this.vbt(i).getTime()>n.getTime())return;if(this.lbt(i,n))break;i=this.Dlt(i)}if(!i)return}return i}},n.lbt=function(t,n){if(this.vbt(t).getTime()>n.getTime())return!1;var i=this.fbt(t);return!(i&&n.getTime()>=i.getTime())},n.gbt=function(t,n){if(this.wbt(t).getTime()>n.getTime())return!1;var i=this.fbt(t);return!(i&&n.getTime()>=i.getTime())},n.ybt=function(t,n,i){var r=nn(n,this.TQ)+this.WAt.WR;return{n8:t,mbt:n,Qy:r,U_:i,Yy:r+i}},n.wbt=function(t){return this.WAt.sbt.io===YH.qb?new Date(this.WAt.sbt.oAt.getTime()+1e3*(t.Qy+t.U_)):this.WAt.sbt.oAt},n.vbt=function(t){var n=this.wbt(t);return this.WAt.sbt.io===YH.qb?new Date(n.getTime()-1e3*this.JAt):n},n.fbt=function(t){var n=1/0;if(this.WAt.sbt.io===YH.qb){var i=this.ZAt.wpt;i&&(n=this.wbt(t).getTime()+1e3*t.U_+i.$kt())}var r=this.WAt.sbt.uAt;return r&&(n=_.min(n,r.getTime())),n===1/0?void 0:new Date(n)},n.kbt=function(t,n){return t.n8+n},n.Wkt=function(t){return!1},n.qkt=function(t,n,i,r,e){var s=this.pbt(t);if(!s)return E.reject(new v("Invalid segment"));var u=this.Abt(s.n8);return u?E.resolve(u):this.bbt(s.n8,n,i,r,e)},n.Abt=function(t){},n.bbt=function(t,n,i,r,e){return E.reject(new v("Not supported"))},n._bt=function(t){var n=this.pbt(t);if(n)return this.ebt(n.n8-1)},n.Dlt=function(t){var n=this.pbt(t);if(n)return this.ebt(n.n8+1)},n.pbt=function(t){var n=this.ebt(t.n8);if(n&&n.Qy===t.Qy)return n;var i=this.KAt(t.Qy);return i&&i.Qy===t.Qy?i:void 0},n.Tbt=function(t){var n=this.Ebt(t);if(n&&this.Wkt(n.n8)){var i=this.Abt(n.n8);if(i)return i.Tbt(t)}},n.Ebt=function(t){return this.ebt(t.Sbt)},n.BAt=function(t){var n=this.pbt(t);return!!n&&0===n.n8},n.LAt=function(t){var n=this.Tbt(t);return!!n&&0===n.SAt},n.V8=function(t){var n=this.pbt(t);if(!n)return!1;var i=this.Gkt();return!!i&&n.n8===i.n8},n.MAt=function(t){var n=this.Tbt(t);if(!n)return!1;var i=this.Gkt();if(!i||n.Sbt!==i.n8)return!1;var r=this.Abt(n.Sbt);return n.SAt+1===r.Ol},M(t,[{key:"Em",get:function(){return nn(this.$At,this.TQ)-this.WAt.WR}},{key:"_pt",get:function(){return nn(this.$At,this.TQ)}}]),t}(),yX=function(t){function n(n,i){var r;(r=t.call(this,i,n)||this).Rbt=void 0,r.Ibt=void 0;var e=n.Nbt,s=n.U_;if(void 0===e||void 0===s)throw new v("MultipleSegmentBase does not have a segment duration specified.");return r.Ibt=e,r.Rbt=s,r}F(n,t);var i=n.prototype;return i.ebt=function(t){if(!(t<0)){var n=this.Ibt.multiply(t),i=nn(n,this.TQ),r=this.WAt.U_;if(!(i>=r)){var e=this.Cbt();if(void 0!==e){if(t>e)return;if(t===e)return this.ybt(t,n,r-i)}return isFinite(r)&&i+this.Rbt>r?this.ybt(t,n,r-i):this.ybt(t,n,this.Rbt)}}},i.tbt=function(){return 0},i.nbt=function(t){var n=_.floor(t/this.Rbt),i=this.Cbt();return void 0!==i&&n>=i?this.ebt(i):this.ebt(n)},i.rbt=function(t){if(t>=this.WAt.U_){var n=_.ceil(this.WAt.U_/this.Rbt)-1,i=this.Cbt();return void 0!==i&&n>=i?this.ebt(i):this.ebt(n)}return this.nbt(t)},i.Cbt=function(){var t,n=this.ZAt.kpt;if(void 0!==n)return n-(null!=(t=this.ZAt.mpt)?t:1);if(isFinite(this.WAt.U_)){var i=this.ZAt.Dbt;if(void 0!==i&&i>0)return i-1}},i.Obt=function(){if(isFinite(this.WAt.U_))return this.Gkt()},i.xbt=function(t,n){return this.Ibt.multiply(t.n8+(n-1))},i.Bh=function(){},n}(wX);function mX(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,s=t[r].Qy,u=t[e].Yy;r<=e&&s.lessThanOrEqual(n)&&n.lessThan(u);){var o=r+_.floor(n.subtract(s).toNumber()/u.subtract(s).toNumber()*(e-r)),h=t[o],a=h.Qy,c=o+1<i?t[o+1].Qy:h.Yy;if(c.lessThanOrEqual(n))r=o+1,s=c;else{if(!n.lessThan(a))return o;e=o-1,u=a}}return-1}var kX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).Pbt=[],r.Bbt=void 0,r.Lbt=Wt.ZERO,r.Bh(),r}F(n,t);var i=n.prototype;return i.ebt=function(t){if(!(t<0))return t<this.Pbt.length?this.Pbt[t].Elt:this.Mbt(t-this.Pbt.length)},i.tbt=function(){if(this.Pbt.length>0)return nn(this.Pbt[0].Qy,this.TQ)},i.nbt=function(t){if(this.Bbt&&nn(this.Bbt.Qy,this.TQ)<=t){var n=nn(this.Bbt.Qy,this.TQ),i=nn(this.Bbt.U_,this.TQ),r=_.floor((t-n)/i);return this.Mbt(r)}if(this.Pbt.length>0&&Gt(t,nn(this.Pbt[0].Qy,this.TQ),1e-5))return this.Pbt[0].Elt;var e=mX(this.Pbt,Wt.fromNumber(t*this.TQ));return e<0?void 0:this.Pbt[e].Elt},i.rbt=function(t){if(!this.Bbt&&this.Pbt.length>0){var n=this.Pbt[this.Pbt.length-1];if(i=t,r=nn(n.Yy,this.TQ),__(i,r,1e-5)>=0)return n.Elt}var i,r,e=this.tbt();return e&&t<e?this.Pbt[0].Elt:this.nbt(t)},i.Obt=function(){return isFinite(this.WAt.U_)?this.Gkt():this.ebt(this.Pbt.length-1)},i.xbt=function(t){return this.Ubt(t)},i.Mbt=function(t){if(this.Bbt){var n=this.Bbt.Qy,i=this.Bbt.U_,r=n.add(i.multiply(t)),e=nn(r,this.TQ),s=this.WAt.U_;if(!(e>=s)){var u=this.Pbt.length+t,o=_.min(nn(i,this.TQ),e+s);return this.ybt(u,r,o)}}},i.Ubt=function(t){return t.mbt.add(this.$At)},i.Bh=function(){var t=this.ZAt.Ds.Vkt;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.Fbt(t)},i.Fbt=function(t){var n=this.$At;this.Hbt(t,n);var i=this.Vbt(t);this.Xbt(t,n,i.Wbt,i.Sbt)},i.Hbt=function(t,n){var i=this.Pbt;if(0===t.length)Je(i);else{for(var r=t[0],e=r.Qy?Wt.fromString(r.Qy,!1).subtract(n):Wt.ZERO,s=0;s<i.length&&i[s].Qy.lessThan(e);)s++;s>0&&i.splice(0,s)}},i.Vbt=function(t){for(var n=this.Pbt,i=this.Lbt,r=0,e=0;r<t.length&&e<n.length;){var s=t[r].upt||0;if(s<0)break;var u=e+s;if(u>=n.length)break;if(n[u].Qy.greaterThanOrEqual(i))break;if(n[e].Elt.n8===e)e=u+1;else for(;e<=u;)n[e].Elt.n8=e,e++;0,r++}return{Wbt:r,Sbt:e}},i.Xbt=function(t,n,i,r){for(var e,s=this.Pbt,u=i,o=r;u<t.length;){var h=t[u],a=Wt.fromString(h.U_,!1),c=h.upt||0,f=void 0;if(h.Qy){if(f=Wt.fromString(h.Qy,!1).subtract(n),o>0){var v=s[o-1];v.Yy.greaterThan(f)&&(v.U_=f.subtract(v.Qy),v.Yy=v.Qy.add(v.U_))}}else f=o>0?s[o-1].Yy:Wt.ZERO;if(c<0){if(u+1===t.length){e={Qy:f,U_:a};break}for(var d=Wt.fromString(t[u+1].Qy,!1).subtract(n);f.lessThan(d);){var l=f.add(a);this.qbt(s,o,f,a,l),f=l,o++}}else for(var _=o+c;o<=_;){var g=f.add(a);this.qbt(s,o,f,a,g),f=g,o++}u++}o<s.length&&s.splice(o),s.length>0&&(this.Lbt=s[s.length-1].Qy),this.Bbt=e},i.qbt=function(t,n,i,r,e){if(n<t.length){var s=t[n];0,s.U_.equals(r)?s.Elt.n8=n:t[n]={Qy:i,U_:r,Yy:e,Elt:this.ybt(n,i,nn(r,this.TQ))}}else t.push({Qy:i,U_:r,Yy:e,Elt:this.ybt(n,i,nn(r,this.TQ))})},n}(wX),pX=function(){function t(t,n,i){this.Ykt=void 0,this.zbt=void 0,this.nr=void 0,this.Gbt=void 0,this.jbt=void 0,this.Ykt=t,this.zbt=n,this.nr=i}var n=t.prototype;return n.Qbt=function(){if(this.jbt=this.Ybt(),this.jbt)return this.jbt;if(this.zbt)return this.zbt.Vkt;throw new v("Missing media segment information.")},n.HAt=function(t){var n=this.lpt;if(n)return{vv:(void 0!==n.spt?T.Du(n.spt,t.xpt[0]):t.xpt[0]).href,WZ:n.WZ};var i=this.hpt;return i?{vv:t.xpt[0].href,WZ:[0,i[0]-1]}:void 0},n.Bh=function(t){this.nr=t,this.jbt&&this.jbt.Bh()},M(t,[{key:"Ds",get:function(){return this.nr}},{key:"ept",get:function(){return this.nr&&void 0!==this.nr.ept?this.nr.ept:this.zbt?this.zbt.ept:0}},{key:"_pt",get:function(){return this.nr&&void 0!==this.nr._pt?this.nr._pt:this.zbt?this.zbt._pt:Wt.ZERO}},{key:"wpt",get:function(){return this.nr&&void 0!==this.nr.wpt?this.nr.wpt:this.zbt?this.zbt.wpt:this.Ykt.sbt.wpt}},{key:"jg",get:function(){return this.nr&&void 0!==this.nr.jg?this.nr.jg:this.zbt&&this.zbt.jg?this.zbt.jg:1}},{key:"hpt",get:function(){return this.nr&&void 0!==this.nr.hpt?this.nr.hpt:this.zbt?this.zbt.hpt:void 0}},{key:"lpt",get:function(){return this.nr&&void 0!==this.nr.lpt?this.nr.lpt:this.zbt?this.zbt.lpt:void 0}},{key:"Vkt",get:function(){return this.Gbt||(this.Gbt=this.Qbt()),this.Gbt}}]),t}(),AX=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.Ybt=function(){return this.nr.Vkt?new kX(this,this.Ykt):void 0!==this.nr.U_?new yX(this,this.Ykt):void 0},M(n,[{key:"U_",get:function(){return void 0!==this.nr.U_?this.nr.U_/this.jg:this.zbt&&this.zbt instanceof n?this.zbt.U_:void 0}},{key:"Nbt",get:function(){return void 0!==this.nr.U_?Wt.fromNumber(this.nr.U_):this.zbt&&this.zbt instanceof n?this.zbt.Nbt:void 0}},{key:"mpt",get:function(){return void 0!==this.nr.mpt?this.nr.mpt:this.zbt&&this.zbt instanceof n?this.zbt.mpt:void 0}},{key:"kpt",get:function(){return void 0!==this.nr.kpt?this.nr.kpt:this.zbt&&this.zbt instanceof n?this.zbt.kpt:void 0}}]),n}(pX),bX=function(){function t(t){this.Zbt=void 0,this.Zbt=t}return t.prototype.wh=function(t){return this.Zbt.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)([diuxXo]))?\$/g,function(n,i,r,e){if("$$"===n)return"$";var s=t[i];if(void 0===s)return n;if(void 0===r)return s.toString();var u=function(t,n){switch(n){case"d":case"i":case"u":return t.toString(10);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"o":return t.toString(8);default:return}}(s,e);return void 0===u?n:u=xe(u,Number(r),"0")})},t}();var TX=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).Jbt=void 0,e.$bt=void 0,e.Jbt=r.bpt?new bX(r.bpt):void 0,e.$bt=r.Tpt?new bX(r.Tpt):void 0,e}F(n,t);var i=n.prototype;return i.HAt=function(n){var i=this.bpt;if(!i)return t.prototype.HAt.call(this,n);var r=i.wh({Bandwidth:n.Ds.QE,RepresentationID:n.Ds.Xl});return{vv:T.Ou(r,n.xpt[0])}},i.Qkt=function(t,n){var i,r=null!=(i=n.VAt.mpt)?i:1,e=this.Tpt.wh({Bandwidth:n.Ds.QE,Number:n.Vkt.kbt(t,r),RepresentationID:n.Ds.Xl,Time:n.Vkt.xbt(t,r)});return{vv:T.Ou(e,n.xpt[0])}},i.DAt=function(t,n){},M(n,[{key:"bpt",get:function(){return this.Jbt?this.Jbt:this.zbt&&this.zbt instanceof n?this.zbt.bpt:void 0}},{key:"Tpt",get:function(){return this.$bt?this.$bt:this.zbt&&this.zbt instanceof n?this.zbt.Tpt:void 0}},{key:"Dbt",get:function(){}}]),n}(AX),EX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Qkt=function(t,n){var i=this.nr.cpt[t.n8],r=n.xpt[0];return{vv:(i.pp?T.Du(i.pp,r):r).href,WZ:i.apt}},i.DAt=function(t,n){},M(n,[{key:"Dbt",get:function(){return void 0!==this.nr.cpt?this.nr.cpt.length:this.zbt&&this.zbt instanceof AX?this.zbt.Dbt:void 0}}]),n}(AX),SX=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this)||this).Sbt=void 0,u.Kbt=void 0,u.jg=void 0,u.tTt=void 0,u._pt=void 0,u.nTt=void 0,u.Sbt=n,u.Kbt=i,u.jg=r.jg,u.tTt=e,u._pt=s,u.nTt=u.iTt(r),u}F(n,t);var i=n.prototype;return i.zkt=function(t){if(t>=0&&t<this.Ol)return this.rTt(this.nTt[t])},i.eTt=function(t){var n=this.sTt(t);if(this.nTt.length>0){var i=this.nTt[0];if(n<=nn(i.Qy,this.jg))return this.rTt(i)}var r=mX(this.nTt,Wt.fromNumber(n*this.jg));if(!(r<0))return this.rTt(this.nTt[r])},i.uTt=function(t){var n=this.sTt(t);if(this.nTt.length>0){var i=this.nTt[this.nTt.length-1];if(n>=nn(i.Yy,this.jg))return this.rTt(i)}return this.eTt(t)},i.rTt=function(t){var n=nn(t.Qy,this.jg)-this._pt,i=n+this.tTt,r=nn(t.U_,this.jg);return{Sbt:this.Sbt,SAt:t.n8,Qy:i,mbt:Wt.fromNumber(n*this.jg),U_:r,Yy:i+r,oTt:[this.Kbt+t.Kbt,this.Kbt+t.hTt]}},i.iTt=function(t){for(var n=[],i=t.cb,r=t.fb.toNumber(),e=0,s=0,u=t.lb;s<u.length;s++){var o=u[s],h=o.sb,a=Wt.fromNumber(o.U_),c=i.add(a);0===o.eb&&n.push({n8:e++,Qy:i,U_:a,Yy:c,Kbt:r,hTt:r+h-1}),r+=h,i=c}return n},i.sTt=function(t){return t-this.tTt+this._pt},M(n,[{key:"Ol",get:function(){return this.nTt.length}}]),n}(function(){function t(){}return t.prototype.Tbt=function(t){var n=this.zkt(t.SAt);if(n&&n.Qy===t.Qy)return n;var i=this.eTt(t.Qy);return i&&i.Qy===t.Qy?i:void 0},t}()),RX=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).aTt=void 0,r.ult=void 0,r.cTt=void 0,r.aTt=n.hpt,r.ult=r.ybt(0,Wt.ZERO,r.WAt.U_),r}F(n,t);var i=n.prototype;return i.ebt=function(t){if(0===t)return this.ult},i.tbt=function(){return 0},i.nbt=function(t){return this.ult},i.rbt=function(t){return this.nbt(t)},i.Obt=function(){return this.ult},i.xbt=function(t,n){return Wt.ZERO},i.xAt=function(t){var n=this.fTt(t);return n&&{obt:t,hbt:n,cbt:n}},i.fTt=function(t){var n=this.ult;return this.lbt(n,t)?n:void 0},i.ubt=function(t){return this.fTt(t)},i.abt=function(t){return this.fTt(t)},i.Bh=function(){},i.Wkt=function(t){return 0===t&&void 0!==this.aTt},i.Abt=function(t){return this.cTt},i.bbt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e,s){var u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.xpt[0].href,o=this.aTt,t.next=4,e.vTt(u,o,r,s);case 4:return h=t.sent,this.cTt=this.dTt(n,h),t.abrupt("return",this.cTt);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,s){return t.apply(this,arguments)}}(),i.dTt=function(t,n){var i=this.aTt,r=Cw.Vk(new DataView(n),new zu);if(r.io!==Hg.dk)throw new v("Invalid segment index");var e=Bw.op(r.Ds),s=i[1]+1;return new SX(t,s,e,this.WAt.WR,nn(this.$At,this.TQ))},n}(wX),IX=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.Qkt=function(t,n){return{vv:n.xpt[0].href}},i.DAt=function(t,n){return{vv:n.xpt[0].href,WZ:t.oTt}},i.Ybt=function(){return new RX(this,this.Ykt)},M(n,[{key:"mpt",get:function(){}}]),n}(pX),NX=function(t){function n(){return t.call(this,uX.yAt)||this}return F(n,t),n}(Es);var CX=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).an=void 0,e.nr=void 0,e.lTt=void 0,e.ZAt=void 0,e._Tt=1/0,e.gTt=void 0,e.an=i,e.wTt(n,r),e}F(n,t);var i=n.prototype;return i.yTt=function(){return this.ZAt||this.an&&this.an.yTt()},i.mTt=function(t){var n=this.Ykt,i=this.an&&this.an.yTt();this.nr.Fpt?this.ZAt=new TX(n,i,this.nr.Fpt):this.nr.Upt?this.ZAt=new EX(n,i,this.nr.Upt[0]):this.nr.Mpt?this.ZAt=new IX(n,i,this.nr.Mpt):t&&!i&&(this.ZAt=new IX(n,i,void 0))},i.wTt=function(t,n){this.nr=t,this.lTt=t.xpt&&t.xpt.length>0?gX(t.xpt.map(function(t){return t.vv}),n):n.slice(),this.ZAt&&(t.Fpt?this.ZAt.Bh(t.Fpt):t.Upt?this.ZAt.Bh(t.Upt[0]):t.Mpt&&this.ZAt.Bh(t.Mpt))},i.TAt=function(){var t;return null==(t=this.gTt)?void 0:t.kTt},i.PAt=function(){var t;return null==(t=this.gTt)?void 0:t.pTt},i.ATt=function(t){var n=this._Tt,i=this.Ykt.U_,r=this.gTt,e=this.bTt(t);r&&Gt(i,n,1e-5)&&PX(r,e)||(this._Tt=i,this.gTt=e,this.xo(new NX))},i.mo=function(){this.Mo()},M(n,[{key:"Ds",get:function(){return this.nr}},{key:"xpt",get:function(){return this.lTt}}]),n}(bs);function DX(t){for(var n,i=0;i<t.length;i++){var r=t[i].TAt();if(r){n=r.WR;break}}if(void 0!==n){for(var e,s=t.length-1;s>=0;s--){var u=t[s].TAt();if(u){e=u.zR;break}}if(void 0!==e)return{WR:n,zR:e}}}function OX(t){if(0!==t.length){for(var n=0,i=1/0,r=0;r<t.length;r++){var e=t[r].TAt();if(!e)return;if((n=_.max(n,e.WR))>=(i=_.min(i,e.zR)))return}return{WR:n,zR:i}}}function xX(t){for(var n,i=0;i<t.length;i++){var r=t[i].PAt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function PX(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.pTt,n.pTt)&&function(t,n){return t&&n?Gt(t.WR,n.WR,1e-5)&&Gt(t.zR,n.zR,1e-5):t===n}(t.kTt,n.kTt)}var BX=function(t){function n(n,i,r){var e;(e=t.call(this)||this).WAt=void 0,e.Oy=void 0,e.TTt=void 0,e.WAt=n,e.Oy=i,e.TTt=r.slice();for(var s=0;s<r.length;s++){r[s].Po(uX.yAt,e.AAt)}return e}F(n,t);var i=n.prototype;return i.TAt=function(){return OX(this.TTt)},i.PAt=function(){for(var t,n=0,i=this.TTt;n<i.length;n++){var r=i[n].PAt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Lv=function(){this.Mo();for(var t=0,n=this.TTt;t<n.length;t++){n[t].Uo(uX.yAt,this.AAt)}},M(n,[{key:"Mkt",get:function(){return this.TTt}},{key:"b$",get:function(){return this.Mkt.reduce(function(t,n){for(var i=0,r=n.b$;i<r.length;i++){var e=r[i];Ze(t,e)||t.push(e)}return t},[])}},{key:"fu",get:function(){return this.b$.length>0?this.b$[0]:""}},{key:"io",get:function(){return this.TTt[0].io}},{key:"Xl",get:function(){return this.Oy}},{key:"OAt",get:function(){return this.WAt.OAt}},{key:"oD",get:function(){return this.TTt[0].oD}},{key:"Ykt",get:function(){return this.WAt}},{key:"Nkt",get:function(){return Ke(this.Mkt,function(t){return t.Nkt})}}]),n}(vX),LX=function(t){function n(){return t.call(this,uX.kAt)||this}return F(n,t),n}(Es);function MX(t){for(var n=[],i=function(i){var r=t[i],e=void 0,s=r.Vpt;void 0===s||(e=Ge(n,function(t){return t.Xl===s})),e||(e={Xl:s,Mkt:[]},n.push(e)),e.Mkt.push(r)},r=0;r<t.length;r++)i(r);return n}var UX,FX=function(t){function n(n,i){var r;return(r=t.call(this)||this).IAt=void 0,r.TTt=[],r.ETt=[],r.STt=void 0,r.RTt=!1,r.STt=n,r.IAt=i,r.IAt.Po(uX.yAt,r.AAt),r}F(n,t);var i=n.prototype;return i.ITt=function(t,n){if(0!==this.ETt.length){for(var i=t,r=0,e=this.ETt;r<e.length;r++){var s=e[r],u=s.io;if(u===W_.Sv||u===W_.Rv){var o=s.EAt;if(void 0===o)return;i=n(i,o)}}return i}},i.NTt=function(){this.RTt||(this.RTt=!0,this.xo(new LX),this.Lv())},i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.TTt.length){t.next=7;break}return t.next=3,this.CTt(this.IAt.Mkt,n,i);case 3:this.DTt(this.TTt),os(i),t.next=9;break;case 7:return t.next=9,this.OTt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.CTt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return s=n[e],u=new _X(this,s),t.prev=4,t.next=7,u.Bh(i,r);case 7:this.TTt.push(u),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),hs(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.DTt=function(t){for(var n=MX(t),i=0;i<n.length;i++){var r=n[i],e=new BX(this,r.Xl,r.Mkt);this.ETt.push(e)}},i.OTt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.TTt;case 1:if(!(r<e.length)){t.next=8;break}return s=e[r],t.next=5,s.Bh(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TAt=function(){return this.IAt.TAt()},i.PAt=function(){return this.IAt.PAt()},i.Lv=function(){this.Mo(),this.IAt.Uo(uX.yAt,this.AAt);for(var t=0,n=this.ETt;t<n.length;t++){n[t].Lv()}for(var i=0,r=this.TTt;i<r.length;i++){r[i].Lv()}Je(this.TTt),Je(this.ETt)},M(n,[{key:"Mkt",get:function(){return this.TTt}},{key:"Bkt",get:function(){return this.ETt}},{key:"rAt",get:function(){return this.IAt.Ds.rAt}},{key:"U_",get:function(){return this.IAt.U_}},{key:"zR",get:function(){return this.WR+this.U_}},{key:"eAt",get:function(){return this.IAt.Ds.eAt||[]}},{key:"Xl",get:function(){return this.IAt.Xl}},{key:"pAt",get:function(){return this.RTt}},{key:"OAt",get:function(){return this.STt}},{key:"xTt",get:function(){return this.STt.PTt(this)}},{key:"Ykt",get:function(){return this}},{key:"BTt",get:function(){return this.STt.LTt(this)}},{key:"MTt",get:function(){return this.ITt(1/0,_.min)}},{key:"UTt",get:function(){return this.ITt(0,_.max)}},{key:"WR",get:function(){return this.IAt.WR}},{key:"xv",get:function(){return this.OAt.xv}}]),n}(vX),HX=function(t){function n(){return t.call(this,Qo.rc)||this}return F(n,t),n}(Es);!function(t){t.FTt="HTt"}(UX||(UX={}));var VX=function(t){function n(){return t.call(this,UX.FTt)||this}return F(n,t),n}(Es),XX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.xpt)||this).RAt=void 0,r.VTt=void 0,r.RAt=i,r.mTt(!0),r}F(n,t);var i=n.prototype;return i.Wkt=function(t){return!!eo(this.oD)&&this.Vkt.Wkt(t.n8)},i.qkt=function(t,n,i,r){return this.Vkt.qkt(t,this,n,i,r)},i.HAt=function(){return this.VAt.HAt(this)},i.Qkt=function(t){return this.VAt.Qkt(t,this)},i.DAt=function(t){return this.VAt.DAt(t,this)},i.xAt=function(){return this.VTt},i.bTt=function(t){var n=this.Vkt,i=n.xAt(t),r=i&&function(t,n){var i,r=t.hbt,e=t.cbt,s=t.obt,u=r.Qy,o=n.wbt(e);if(o.getTime()<=s.getTime())i=e.Yy;else{var h=(o.getTime()-s.getTime())/1e3,a=_.max(e.U_-h,0);i=e.Qy+a}return{WR:u,zR:i}}(i,n),e=this.Vkt.PAt(t,i);return this.VTt=i,{obt:t,kTt:r,pTt:e}},i.Bh=function(t){this.wTt(t,this.RAt.xpt)},M(n,[{key:"UAt",get:function(){return this.RAt}},{key:"Ykt",get:function(){return this.RAt.Ykt}},{key:"sbt",get:function(){return this.RAt.sbt}},{key:"oD",get:function(){return this.nr.oD||this.RAt.oD}},{key:"VAt",get:function(){return this.yTt()}},{key:"Vkt",get:function(){return this.VAt.Vkt}}]),n}(CX),WX=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.xpt)||this).WAt=void 0,r.qAt=void 0,r.WAt=i,r.mTt(!1),r.qAt=n.Nkt.map(function(t){return new XX(t,sn(r))}),r}F(n,t);var i=n.prototype;return i.Bh=function(t){this.wTt(t,this.WAt.xpt);var n=t.Nkt||[];if(this.qAt.length!==n.length)throw new v("Expected "+this.qAt.length+' representations in adaptation set "'+t.Xl+'", found '+n.length);for(var i=0;i<n.length;i++)this.qAt[i].Bh(n[i])},i.ATt=function(n){for(var i=0,r=this.qAt;i<r.length;i++){r[i].ATt(n)}t.prototype.ATt.call(this,n)},i.bTt=function(t){return{obt:t,kTt:OX(this.qAt),pTt:xX(this.qAt)}},i.mo=function(){for(var n=0,i=this.qAt;n<i.length;n++){i[n].mo()}t.prototype.mo.call(this)},M(n,[{key:"Nkt",get:function(){return this.qAt}},{key:"Ykt",get:function(){return this.WAt}},{key:"sbt",get:function(){return this.WAt.sbt}},{key:"Vpt",get:function(){return this.nr.Vpt}},{key:"oD",get:function(){var t;return this.nr.oD||(null==(t=this.qAt[0])?void 0:t.Ds.oD)||""}}]),n}(CX),qX=function(t){function n(n,i,r,e){var s;return(s=t.call(this,i,void 0,n.xpt)||this).XTt=void 0,s.kb=void 0,s.iH=void 0,s.TTt=void 0,s.ETt=[],s.XTt=n,s.kb=r,s.iH=e,s.mTt(!1),s.TTt=(i.Mkt||[]).map(function(t){return new WX(t,sn(s))}),s.ETt=MX(s.TTt),s}F(n,t);var i=n.prototype;return i.Bh=function(t,n){this.wTt(t,this.XTt.xpt),this.iH=n;var i=t.Mkt||[];if(this.TTt.length!==i.length)throw new v("Expected "+this.TTt.length+' adaptation sets in period "'+t.Xl+'", found '+i.length);for(var r=0;r<i.length;r++)this.TTt[r].Bh(i[r])},i.ATt=function(n){for(var i=0,r=this.TTt;i<r.length;i++){r[i].ATt(n)}t.prototype.ATt.call(this,n)},i.bTt=function(t){return{obt:t,kTt:OX(this.TTt),pTt:xX(this.TTt)}},i.mo=function(){for(var n=0,i=this.TTt;n<i.length;n++){i[n].mo()}t.prototype.mo.call(this)},M(n,[{key:"Mkt",get:function(){return this.TTt}},{key:"Bkt",get:function(){return this.ETt}},{key:"Ykt",get:function(){return this}},{key:"sbt",get:function(){return this.XTt}},{key:"Xl",get:function(){return this.nr.Xl}},{key:"WR",get:function(){return this.kb}},{key:"U_",get:function(){return this.iH}}]),n}(CX),zX=new Date("2000-01-01"),GX=function(t){function n(n,i,r,e){var s;if((s=t.call(this)||this).nr=void 0,s.WTt=void 0,s.qTt=void 0,s.gV=void 0,s.zTt=void 0,s.gTt=void 0,s.lTt=void 0,s.GTt=void 0,s.jTt=void 0,s.QTt=void 0,s.YTt=[],s.WTt=i,s.Bh(n,r,e),n.io===YH.qb){var u=s.Obt();u&&u.uAt&&u.uAt.getTime()<zX.getTime()&&(s.QTt=new Date(s.lAt.getTime()-1e3*(u.Elt.Qy+u.Elt.U_)),s.ATt(e))}return s}F(n,t);var i=n.prototype;return i.TAt=function(){var t;return null==(t=this.gTt)?void 0:t.kTt},i.PAt=function(){var t;return null==(t=this.gTt)?void 0:t.pTt},i.Bh=function(t,n,i,r){var e;this.nr=t,this.qTt=n,this.zTt=null!=r?r:i,this.gV=i;var s,u=[(s=n,T.Du(".",s))];this.lTt=t.xpt&&t.xpt.length>0?gX(t.xpt.map(function(t){return t.vv}),u):u,this.GTt=t.hAt&&t.hAt.length>0?gX(t.hAt,this.lTt):[];var o=this.GTt.map(function(t){return t.href}),h=n.href;Ze(o,h)||(this.GTt.push(n),o.push(h));var a=this.WTt.href;Ze(o,a)||(this.GTt.push(this.WTt),o.push(a)),this.jTt=null==(e=t.Okt)?void 0:e.Dkt();var c=t.io===YH.qb,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var s=t[e],u=void 0;if(s.WR)u=s.WR.Dkt();else if(e>0&&t[e-1].U_){var o=r[e-1],h=t[e-1].U_.Dkt();u=o+h}else{if(0!==e||n)break;u=0}r.push(u)}for(var a=[],c=0;c<r.length-1;c++)a.push({Ds:t[c],WR:r[c],U_:r[c+1]-r[c]});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=1/0;n||(l=v.U_?v.U_.Dkt():i-d),a.push({Ds:v,WR:d,U_:l})}return a}(t.Ckt,c,this.jTt);this.ZTt(f),this.ATt(i)},i.ZTt=function(t){var n=this.YTt;if(0!==t.length){for(var i=t[0].Ds.Xl,r=0;r<n.length&&n[r].Xl!==i;)r++;for(var e=n.splice(0,r),s=0;s<e.length;s++){e[s].mo()}for(var u=0;u<t.length;u++){var o=t[u];if(u<n.length){var h=n[u];0,h.Bh(o.Ds,o.U_)}else n.push(new qX(this,o.Ds,o.WR,o.U_))}}else Je(n)},i.ATt=function(t){for(var n=0,i=this.YTt;n<i.length;n++){i[n].ATt(t)}var r=this.gTt,e=this.bTt(t);r&&PX(r,e)||(this.gTt=e,this.xo(new NX))},i.bTt=function(t){return{obt:t,kTt:DX(this.YTt),pTt:xX(this.YTt)}},i.Obt=function(){if(0!==this.YTt.length){var t=this.YTt[this.YTt.length-1];if(!isFinite(t.U_)&&0!==t.Mkt.length){var n=t.Mkt[0];if(0!==n.Nkt.length){var i=n.Nkt[0].Vkt,r=i.Obt();if(r)return{Elt:r,uAt:i.fbt(r)}}}}},i.mo=function(){this.Mo();for(var t=0,n=this.YTt;t<n.length;t++){n[t].mo()}},M(n,[{key:"Ds",get:function(){return this.nr}},{key:"io",get:function(){return this.nr.io||YH.Wb}},{key:"oAt",get:function(){return this.QTt||this.nr.oAt||this.lAt}},{key:"uAt",get:function(){return this.nr.uAt}},{key:"Okt",get:function(){return this.jTt}},{key:"xpt",get:function(){return this.lTt}},{key:"hAt",get:function(){return this.GTt}},{key:"Ckt",get:function(){return this.YTt}},{key:"lAt",get:function(){return this.nr.lAt||this.gV}},{key:"wpt",get:function(){return this.nr.wpt}},{key:"JTt",get:function(){return this.zTt}},{key:"$Tt",get:function(){return this.gV}}]),n}(bs);var jX=function(){function t(t,n,i){this.KTt=0,this.Bb=t,this.tEt=n,this.nEt=i}var n=t.prototype;return n.Nx=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.iEt(n,this.Bb,this.tEt,this.nEt).catch(as);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rEt=function(){return new Date(Jt()+this.KTt)},n.iEt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.eEt(i,e,r);case 3:s=t.sent;case 4:if(void 0!==s){t.next=17;break}os(r),u=0;case 7:if(!(u<n.length)){t.next=17;break}return o=n[u],t.next=11,this.sEt(i,o,r);case 11:if(void 0===(s=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:u++,t.next=7;break;case 17:this.KTt=void 0===s?0:s-Jt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.sEt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.pkt,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(s=i.fs)){t.next=9;break}return t.next=8,this.eEt(n,s,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(u=i.fs)){t.next=15;break}if(o=new Date(u).getTime(),y(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.eEt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.cv({vv:i,Nv:Ef.GET,ov:Yo.Je,Io:r});case 3:return e=t.sent,t.next=6,e.Xf();case 6:if(s=t.sent,u=new Date(s).getTime(),y(u)){t.next=10;break}return t.abrupt("return",u);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),hs(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),QX=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).uEt=void 0,s.IAt=void 0,s.oEt=void 0,s.IJ=!0,s.YTt=[],s.hEt=void 0,s.aEt=void 0,s.cEt=void 0,s.Bb=void 0,s.fEt=void 0,s.hEt=n,s.oEt=n.e_,s.aEt=i,s.Bb=r,s.uEt=e,s.fEt=new jX(s.Bb,s.uEt,s.hEt.vEt),s}F(n,t);var i=n.prototype;return i.Qot=function(t){var n=this.Ey;this.IJ=t,n!==this.Ey&&this.xo(new VX)},i.Bh=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f,v,d,l,_,g;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=[],u=[],o=n.aAt?T.Du(n.aAt,this.oEt):this.oEt,void 0!==this.IAt){t.next=10;break}return t.next=6,this.fEt.Nx(n.gAt);case 6:this.IAt=new GX(n,this.oEt,o,this.rEt()),this.IAt.Po(uX.yAt,this.Oo),t.next=11;break;case 10:this.IAt.Bh(n,o,this.rEt(),i);case 11:if(0===(h=this.IAt.Ckt).length)a=this.YTt.slice(),Je(this.YTt);else{for(c=h[0].Xl,f=0;f<this.YTt.length&&this.YTt[f].Xl!==c;)f++;for(a=this.YTt.splice(0,f),v=0;v<h.length;v++)d=h[v],l=void 0,v<this.YTt.length?l=this.YTt[v]:(l=new FX(this,d),s.push(l)),u.push(l.Bh(this.aEt,r))}return t.next=15,E.all(u);case 15:for((e=this.YTt).push.apply(e,s),_=0,g=a;_<g.length;_++)g[_].NTt();this.xo(new HX);case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.rEt=function(){return this.fEt.rEt()},i.LTt=function(t){var n=this.YTt.indexOf(t);if(n>0)return this.YTt[n-1]},i.PTt=function(t){var n=this.YTt.indexOf(t);if(n>=0&&n+1<this.YTt.length)return this.YTt[n+1]},i.TAt=function(){return this.IAt?this.IAt.TAt():void 0},i.PAt=function(){return this.IAt&&this.IAt.PAt()},i.ATt=function(t){this.IAt&&this.IAt.ATt(t)},i.Lv=function(){this.Mo(),this.cEt=void 0,this.Qot(!1);for(var t=0,n=this.YTt;t<n.length;t++){n[t].Lv()}Je(this.YTt),this.IAt&&this.IAt.mo()},M(n,[{key:"uAt",get:function(){return this.IAt&&this.IAt.uAt}},{key:"oAt",get:function(){return this.IAt&&this.IAt.oAt}},{key:"Xl",get:function(){return this.IAt&&this.IAt.Ds.Xl}},{key:"JTt",get:function(){var t;return null==(t=this.IAt)?void 0:t.JTt}},{key:"dEt",get:function(){var t;return null==(t=this.IAt)?void 0:t.$Tt}},{key:"hAt",get:function(){return this.IAt?this.IAt.hAt.map(function(t){return t.href}):[this.Pkt]}},{key:"Pkt",get:function(){return this.oEt.href}},{key:"cAt",get:function(){return this.IAt&&this.IAt.Ds.cAt}},{key:"fAt",get:function(){return this.IAt&&this.IAt.Ds.fAt}},{key:"Okt",get:function(){return this.IAt&&this.IAt.Ds.Okt}},{key:"vAt",get:function(){return this.IAt&&this.IAt.Ds.vAt}},{key:"dAt",get:function(){var t,n,i=(null==(t=this.IAt)?void 0:null==(n=t.Ds.dAt)?void 0:n.$kt())||0;return _.max(i,ZX)}},{key:"Ey",get:function(){return this.IJ}},{key:"Ckt",get:function(){return this.YTt}},{key:"lEt",get:function(){return this.io===YH.qb?this.YAt:this._Et}},{key:"gEt",get:function(){var t=this.lEt;if(void 0!==t)for(var n=0,i=this.Ckt;n<i.length;n++){var r=i[n];if(r.WR<=t&&r.zR>t)return r}}},{key:"Ipt",get:function(){return this.IAt&&this.IAt.Ds.Ipt}},{key:"lAt",get:function(){return this.IAt&&this.IAt.lAt}},{key:"MTt",get:function(){for(var t=this.YTt.length-1;t>=0;t-=1){var n=this.YTt[t].MTt;if(n)return n}}},{key:"YAt",get:function(){var t=this.MTt;if(void 0!==t){var n=t-this.wEt;return _.max(n,this._Et)}}},{key:"_Et",get:function(){for(var t=0,n=this.YTt;t<n.length;t++){var i=n[t].bAt;if(void 0!==i)return i}}},{key:"xv",get:function(){return Boolean(this.hEt.xv)}},{key:"wEt",get:function(){var t=this.IAt&&this.IAt.Ds._At;return t?t.Dkt():this.io===YH.qb?this.Gnt:0}},{key:"Gnt",get:function(){return this.hEt.Gnt?this.hEt.Gnt:1.5*this.vAt.Dkt()}},{key:"wpt",get:function(){return this.IAt&&this.IAt.wpt}},{key:"io",get:function(){return this.IAt?this.IAt.io:void 0}}]),n}(bs),YX=function(){function t(t,n,i,r){this.STt=void 0,this.STt=new QX(t,n,i,r)}return M(t,[{key:"OAt",get:function(){return this.STt}}]),t}(),ZX=1e3,JX=_.pow(2,31)-1,$X=function(){function t(t,n,i,r){var e=this;this.P7=void 0,this.IAt=void 0,this.yEt=void 0,this.mEt=void 0,this.kEt=void 0,this.pEt=new es,this.AEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=e.IAt.OAt.rEt(),t.next=4,e.bEt(e.IAt.OAt.hAt,n);case 4:return r=t.sent,t.next=7,e.IAt.OAt.Bh(r,i,n);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),cy(t.t0)&&e.IAt.OAt.Qot(!1),t.t0;case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),this.P7=r,this.IAt=new YX(t,n,i,this.pEt.Io)}var n=t.prototype;return n.Od=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.IAt.OAt.xo(new dS),t.prev=1,t.next=4,PU(this.AEt,n);case 4:this.IAt.OAt.Qot(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),hs(t.t0),this.mEt=void 0,this.IAt.OAt.Qot(!1),new v("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.yEt=this.TEt(this.pEt.Io);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.TEt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(this.IAt.OAt.io!==YH.qb){t.next=6;break}return t.next=4,cs(this.EEt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.SEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(n),!((i=this.REt())>0)){t.next=6;break}return r=_.min(i,JX),t.next=6,ys(r,n);case 6:return t.prev=6,t.next=9,PU(this.AEt,n,1/0,ZX,3e4);case 9:this.IAt.OAt.Qot(!0);case 10:return t.prev=10,this.kEt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.REt=function(){var t=this.IAt.OAt.rEt().getTime()-this.IAt.OAt.JTt.getTime();return this.IAt.OAt.dAt-t},n.IEt=function(t){var n=this.IAt.OAt.PAt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.IAt.OAt.ATt(t);var r=this.IAt.OAt.PAt();return r?r.getTime()-t.getTime():NaN},n.NEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.kEt||(this.kEt=this.SEt(n)),(i=new es).So(n),t.prev=3,t.next=6,E.race([this.kEt,this.CEt(i.Io)].filter($));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),as(t.t0);case 11:return t.prev=11,i.Eo(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.CEt=function(t){var n=this.IAt.OAt.rEt(),i=this.IEt(n);if(!y(i))return this.DEt(i,t)},n.DEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ys(n,i);case 2:r=this.IAt.OAt.rEt(),this.IAt.OAt.ATt(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.bEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.P7.D7(n,{},i,!1);case 2:return r=t.sent,e=new oX,t.abrupt("return",e.hyt(r.p7,r.fv));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Lv=function(){return this.pEt.Eo(),this.yEt=void 0,this.mEt=void 0,this.kEt=void 0,this.IAt.OAt.Lv(),E.resolve()},M(t,[{key:"OEt",get:function(){return this.IAt}},{key:"X1",get:function(){return this.mEt||(this.mEt=this.Od(this.pEt.Io),_s(this.mEt)),this.mEt}},{key:"EEt",get:function(){return this.IAt.OAt.dEt&&this.IAt.OAt.io===YH.qb?this.NEt(this.pEt.Io):this.X1}}]),t}(),KX=function(){function t(t,n,i){this.P7=t,this.xEt=n,this.PEt=i}var n=t.prototype;return n.BEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new v("Invalid typed source");case 2:if(!Tl(i=n.type)){t.next=9;break}return t.next=6,this.LEt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!bl(i)){t.next=15;break}return t.next=12,this.MEt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,JH(n.src,this.P7);case 3:return i=t.sent,t.next=6,KH(i,this.P7);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.MEt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new $X({e_:T.Du(n.src),Gnt:n.liveOffset,vEt:n.timeServer,xv:n.useCredentials},this.PEt,Of.Xv,this.P7),t.next=4,i.X1;case 4:return t.next=6,NH(i.OEt.OAt,n.contentProtection,this.xEt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),tW=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.Gf,MediaSource.isTypeSupported(r)||_y(n.oD,n.b$)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!Y.Re&&!Y.Ee||-1===(null==(i=n.fu)?void 0:i.indexOf("ec-3"))){t.next=5;break}return t.abrupt("return",!1);case 5:if(!n.Ikt){t.next=11;break}if(e=n.Ikt,s=Ke(e,function(t){return Se(t.pkt)}).filter($),ts(s,function(t){return T.Nu(t,r)})){t.next=11;break}return t.abrupt("return",!1);case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),nW=function(){function t(t){this.UEt=void 0,this.FEt=[],this.HEt=0,this.UEt=t}var n=t.prototype;return n.VEt=function(){var t=new ju;return this.FEt.push(t),this.XEt(),t.gh},n.WEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.HEt-=1,this.XEt(),0===this.FEt.length&&0===this.HEt&&i.wh(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.XEt=function(){this.FEt.length>0&&this.HEt<this.UEt&&(this.FEt.shift().wh(),this.HEt+=1)},t}();function iW(t,n){for(var i=0,r=0,e=t.lb.K0.map(function(t){return t.U_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var rW=function(t){function n(n,i,r,e,s,u,o,h){var a;void 0===h&&(h=tW),(a=t.call(this)||this).L7=void 0,a.qEt=void 0,a.zEt=new ju,a.GEt=void 0,a.M$=void 0,a.jEt=gH.wkt(),a.lkt=void 0,a.QEt=void 0,a.xw=void 0,a.YEt=void 0,a.h1=void 0,a.P7=void 0,a.ZEt=void 0,a.xEt=void 0,a.PEt=void 0,a.nkt=void 0,a.L7=n,a.h1=i,a.P7=r,a.YEt=e,a.ZEt=s,a.xEt=u,a.PEt=h,a.nkt=o,a.QEt=-1;var c=a.L7.pR.sources[0];return a.GEt=c,a.xw=a.$w(),a.qEt=new nW(a.L7.$h.parallelTasksThreshold),a}F(n,t);var i=n.prototype;return i.$w=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e,s,u,o,h,a,c,f,v,d,l,g,w,y,m,k,p,A,b,T,E,S,R,I,N=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new KX(this.P7,this.xEt,this.PEt),t.next=3,n.BEt(this.GEt);case 3:return this.M$=t.sent,i=this.L7.$h.amount,r=this.M$.U_,e=mH(i,r),this.lkt=e,u=sO(this.M$.xkt[0]),t.next=11,this.h1.$0.Y0(u,"manifestURL");case 11:for(o=t.sent.filter(function(t){return Ze(t.references,N.L7.Xl)}),h=[],a=this.L7.$h.bandwidth,c=0,f=this.M$.Ckt;c<f.length;c++)for(v=f[c],d=0,l=v.Lkt;d<l.length;d++)for(g=l[d],w=0,y=uW(g.vp);w<y.length;w++)for(m=y[w],k=0,p=oW(m.jl,a);k<p.length;k++)A=p[k],h.push(A);if(this.QEt=_.ceil(h.map(function(t){return t.QE*iW(t,e)/8}).reduce(function(t,n){return t+n},0)),b=ie(),o&&0!==o.length){for(T=o.reduce(function(t,n){return t+n.byteSize},0),E=function(t){var n=o[t],i=n.qualityId,r=new nA(n.startsAndEnds);if(b.has(i))b.get(i).timeRanges=b.get(i).timeRanges.hI(r).oI(5e-4);else{var e,s=Ge(h,function(t){return t.Xl===i}),u=_.min(N.lkt,null!=(e=null==s?void 0:s.lb.U_)?e:1/0);b.set(i,{timeRanges:r,totalQualityDurationToCache:u})}},S=0;S<o.length;S++)E(S);s=new gH(T,b,this.lkt)}else{for(R=0;R<h.length;R++)I=h[R],b.set(I.Xl,{timeRanges:nA.SI(),totalQualityDurationToCache:_.min(I.lb.U_,this.lkt)});s=new gH(0,b,this.lkt)}this.JEt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.$Et=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xw;case 2:return t.next=4,this.KEt(this.M$,n);case 4:return t.next=6,this.zEt.gh;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.KEt=function(){var t=E.coroutine(Kr.mark(function t(n,i){var r,e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.xkt){t.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return t.next=4,this.tSt();case 4:for(r=[],e=0,s=n.Ckt;e<s.length;e++)u=s[e],r.push(this.nSt(u,n.xkt[0],i));return t.abrupt("return",E.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.tSt=function(){var t=E.coroutine(Kr.mark(function t(){var n,i,r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.YEt.j0();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this.h1.n1.ih(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,eW(e,this.L7.Xl,this.h1.n1,this.nkt);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this.h1.n1.q0(r,this.nkt);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new pH("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.YEt.J0();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.nSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],s=0,u=n.Lkt;s<u.length;s++)for(o=u[s],h=uW(o.vp),a=0;a<h.length;a++)c=h[a],e.push(this.iSt(c,i,r));return t.abrupt("return",E.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.iSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.L7.$h.bandwidth,s=oW(n.jl,e),n.io!==W_.Rv||!n.Hkt||!n.Hkt.oT.widevine||"persistent"!==n.Hkt.oT.widevine.licenseType){t.next=6;break}return t.next=5,this.rSt(n.Hkt);case 5:os(r);case 6:for(u=[],o=0;o<s.length;o++)h=s[o],u.push(this.eSt(h,i,r));return t.abrupt("return",E.all(u));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.eSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(os(r),!n.u7){t.next=7;break}return e={Qy:0,U_:0,jkt:n.u7},t.next=5,this.qEt.VEt();case 5:os(r),_s(this.qEt.WEt(this.sSt(e,n,i),this.zEt));case 7:s=n.lb.K0[0].Qy,u=s+this.lkt,o=0,h=n.lb.K0;case 10:if(!(o<h.length)){t.next=22;break}if(!((a=h[o]).Qy>=u)){t.next=14;break}return t.abrupt("break",22);case 14:return t.next=16,this.uSt(r);case 16:return t.next=18,this.qEt.VEt();case 18:_s(this.qEt.WEt(this.sSt(a,n,i),this.zEt));case 19:o++,t.next=10;break;case 22:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.uSt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n||!n.do){t.next=4;break}return t.next=3,this.zEt.gh;case 3:throw new ss;case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.oSt=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.xw;case 2:return t.abrupt("return",this.M$);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.rSt=function(t){return E.resolve()},i.hSt=function(){var t=E.coroutine(Kr.mark(function t(){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return _t("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.sSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u,o,h,a,c,f=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.h1.$0,s=uO(n.jkt.vv,n.jkt.WZ),t.next=4,e.ih(s);case 4:if(!(u=t.sent)){t.next=11;break}return t.next=8,eW(u,this.L7.Xl,e,this.nkt);case 8:this.aSt(u,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.cSt(n.jkt);case 14:return o=t.sent,h=this.fSt(n,i,r,o),a=h.segmentMetadataEntry,c=h.segmentEntry,t.next=18,this.h1.s1(function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$0.q0(a,f.nkt);case 2:return t.next=4,n.K0.q0(c,f.nkt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.aSt(a,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new pH("Unable to store segment with url: "+n.jkt.vv,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.cSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ZEt.vSt(n,!1);case 2:return i=t.sent,t.next=5,this.dSt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.dSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.qf();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.fSt=function(t,n,i,r){var e=uO(t.jkt.vv,t.jkt.WZ),s=t.Qy,u=t.U_,o=this.lSt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:sO(i),qualityId:n.Xl,byteSize:o,startsAndEnds:new nA([s,s+u]).jR,references:[this.L7.Xl]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:sO(i),data:r}}},i.lSt=function(t){return t.buffer.byteLength},i.aSt=function(t,n){var i=t.qualityId,r=this.jEt,e=r.Ny;e.get(i).timeRanges=e.get(i).timeRanges.hI(new nA(t.startsAndEnds)).oI(5e-4),this.JEt=new gH(n?r.ykt+t.byteSize:r.ykt,e,this.lkt)},M(n,[{key:"_St",get:function(){return this.QEt}},{key:"JEt",get:function(){return this.jEt},set:function(t){this.jEt.ug(t)||(this.jEt=t,t.ug(gH.wkt())||this.xo(new _H))}}]),n}(bs);function eW(t,n,i,r){return sW.apply(this,arguments)}function sW(){return(sW=E.coroutine(Kr.mark(function t(n,i,r,e){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ze(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.q0(n,e);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function uW(t){return t.length?[t[0]]:[]}function oW(t,n){if(!t.length)return[];var i=[].concat(t).sort(dH),r=i.filter(function(t){return t.QE<=n});return r.length>0?[r.pop()]:[i.shift()]}var hW=function(){function t(t){this.Bb=void 0,this.vL=new zE,this.Bb=t}var n=t.prototype;return n.cv=function(t){var n=this,i=new ju;return this.vL.nL(function(r){return n.gSt(i,t,r)},t.Io).catch(R),i.gh},n.Bv=function(t){return this.Bb.Bv(t)},n.gSt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r){var e,s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return os(r),e=new Cf({vv:i.vv,Io:r},i),s=this.Bb.cv(e),n.wh(s),t.next=6,s;case 6:return u=t.sent,t.next=9,u.Kf();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Lv=function(){this.vL.Lv()},t}(),aW=function(){function t(t,n){this.Bb=void 0,this.wSt=void 0,this.ySt=void 0,this.Bb=t,this.wSt=new hW(t),this.ySt=n}var n=t.prototype;return n.vSt=function(t,n,i){return this.yut(t,n,!0,!1,void 0,i)},n.mSt=function(t,n,i,r){return this.yut(t,n,!1,!1,i,r)},n.kSt=function(t,n,i,r){return this.yut(t,n,!1,!0,i,r)},n.yut=function(){var n=E.coroutine(Kr.mark(function n(i,r,e,s,u,o){var h;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return os(o),n.next=3,this.pSt(i,e,s,u,o);case 3:if(h=n.sent,!r){n.next=8;break}return n.abrupt("return",t.ASt(h));case 8:return n.abrupt("return",this.bSt(h));case 9:case"end":return n.stop()}},n,this)}));return function(t,i,r,e,s,u){return n.apply(this,arguments)}}(),n.bSt=function(t){return t},t.ASt=function(t){return t},n.pSt=function(t,n,i,r,e){var s=new Cf({vv:t.vv,ov:Yo.Sc,uv:t.WZ?{Range:"bytes="+t.WZ[0]+"-"+t.WZ[1]}:void 0,xv:t.xv,Nv:Ef.GET,io:Sf.gv,Dv:i?Rf.yv:Rf.lv,Ov:this.ySt,Cv:r,Io:e});return n?this.wSt.cv(s):this.Bb.cv(s)},t}(),cW=function(){function t(t){this.Bb=void 0,this.Bb=t}return t.prototype.vTt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Bb.cv({vv:n,ov:Yo.Sc,uv:{Range:"bytes="+i[0]+"-"+i[1]},xv:r,Nv:Ef.GET,io:Sf.lv,Io:e});case 2:return s=t.sent,t.next=5,s.qf();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),fW=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).Elt=void 0,e.Elt=n,e}return F(n,t),n}(on),vW=function(){function t(t){this.O7=void 0,this.O7=t}return t.prototype.vTt=function(){var t=E.coroutine(Kr.mark(function t(n,i,r,e){var s,u;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.O7.N7(n,i);case 2:if(!(s=t.sent)){t.next=5;break}return t.abrupt("return",s.buffer);case 5:return t.next=7,this.O7.N7(n);case 7:if(!(u=t.sent)){t.next=10;break}return t.abrupt("return",Wu(new m(u.buffer),i[0],i[1]));case 10:throw new fW({vv:n,WZ:i,xv:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),dW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",qualityId:"",byteSize:0,startsAndEnds:new nA([0,0]).jR,references:[]},lW={key:"",segmentURLsegmentByteRange:"",manifestURL:"",data:""},_W=function(t){function n(n,i,r,e,s){var u;return(u=t.call(this,n)||this).TSt=void 0,u.ESt=void 0,u.h1=void 0,u.nkt=void 0,u.TSt=new cW(i),u.h1=r,u.ESt=e,u.nkt=s,u}F(n,t);var i=n.prototype;return i.vTt=function(){var n=E.coroutine(Kr.mark(function n(i,r,e,s){var u;return Kr.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.prototype.vTt.call(this,i,r,e,s);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),hs(n.t0);case 9:return n.next=11,this.TSt.vTt(i,r,e,s);case 11:return u=n.sent,n.next=14,this.SSt(i,r,u);case 14:return n.abrupt("return",u);case 15:case"end":return n.stop()}},n,this,[[0,6]])}));return function(t,i,r,e){return n.apply(this,arguments)}}(),i.SSt=function(){var t=E.coroutine(Kr.mark(function t(i,r,e){var s,u,o,h,a,c,f,v=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.ESt){t.next=2;break}return t.abrupt("return");case 2:return s=this.h1.$0,u=uO(i,r),t.next=6,s.ih(u);case 6:if(!(o=t.sent)){t.next=12;break}return t.next=10,eW(o,this.ESt,s);case 10:t.next=22;break;case 12:return t.prev=12,h={buffer:e},a=n.fSt(u,h,this.ESt),c=a.segmentMetadataEntry,f=a.segmentEntry,t.next=17,this.h1.s1(function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$0.q0(c,v.nkt);case 2:return t.next=4,n.K0.q0(f,v.nkt);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),new pH("Unable to store segment with url: "+i,t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.fSt=function(t,n,i){return{segmentMetadataEntry:te({},dW,{key:t,segmentURLsegmentByteRange:t,references:[i]}),segmentEntry:te({},lW,{key:t,segmentURLsegmentByteRange:t,data:n})}},n}(vW);var gW=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.RSt=function(t,n,i,r,e,s,u){return new rW(t,n,i,r,e,s,u)},n}(function(){function t(t){this.Bb=t}return t.prototype.PQ=function(t,n,i){void 0===i&&(i="persistent");var r=Boolean(t.pR.sources[0].useCredentials),e=new aW(this.Bb,If.lv),s=new tB(this.Bb,r),u=new nB(n.n1,n.$0,n.K0,n.e1),o=function(t,n,i,r,e){return new _W(n,t,i,r,e)}(this.Bb,u,n,t.Xl,i),h=new $D,a=new uB(sB(s,u),h,t);return this.RSt(t,n,a,h,e,o,i)},t}());function wW(t){var n,i={get id(){return t.Xl},get status(){return t.sv},get source(){return t.pR},get parameters(){return t.$h},get duration(){return t.U_},get cached(){return t.ISt.rR()},get secondsCached(){return t.NSt},get percentageCached(){return t.CSt},get bytes(){return t.DSt},get bytesCached(){return t.OSt},get license(){return t.TD.Kd},start:function(){t.WR()},pause:function(){t.zw()},remove:function(){t.Ph()},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}};return n=new sE(t,["g0","Wmt"],i),i}var yW=function(){function t(t,n,i){this.L7=t,this.h1=n,this.M$=i}var n=t.prototype;return n.xSt=function(){var t=E.coroutine(Kr.mark(function t(){var n=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.h1.s1(function(){var t=E.coroutine(Kr.mark(function t(i){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.PSt(i);case 2:return t.next=4,n.BSt(i);case 4:return t.next=6,n.LSt(i);case 6:return t.next=8,n.MSt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.PSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.i1,r=this.L7.Xl,t.next=4,i.Ph(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o,h,a=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.$0,r=n.K0,Il(e=this.L7.pR.sources[0])){t.next=5;break}return t.abrupt("return");case 5:return s=sO(e.src),t.next=8,i.Y0(s,"manifestURL");case 8:u=t.sent.filter(function(t){return Ze(t.references,a.L7.Xl)}),o=0;case 10:if(!(o<u.length)){t.next=25;break}if(Qe((h=u[o]).references,this.L7.Xl),0!==h.references.length){t.next=20;break}return t.next=16,i.Ph(h.key);case 16:return t.next=18,r.Ph(h.key);case 18:t.next=22;break;case 20:return t.next=22,i.q0(h);case 22:o++,t.next=10;break;case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u,o=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.n1,r=this.USt(),t.next=4,i.G0(r);case 4:e=t.sent.filter(function(t){return Ze(t.references,o.L7.Xl)}),s=0;case 6:if(!(s<e.length)){t.next=19;break}if(Qe((u=e[s]).references,this.L7.Xl),0!==u.references.length){t.next=14;break}return t.next=12,i.Ph(u.key);case 12:t.next=16;break;case 14:return t.next=16,i.q0(u);case 16:s++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.USt=function(){if(!this.M$)return[];var t=this.L7.pR.sources[0];if(!Il(t))return[];var n=sO(t.src),i=function(t){if(!t)return[];for(var n=[],i=0,r=t.Ckt;i<r.length;i++)for(var e=0,s=r[i].Lkt;e<s.length;e++)for(var u=0,o=s[e].vp;u<o.length;u++)for(var h=0,a=o[u].jl;h<a.length;h++){var c=a[h];c.Zkt&&n.push(c.Zkt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.M$).map(function(t){return{src:t}}).map(function(t){return sO(t.src)});return[n].concat(i)},n.MSt=function(){var t=E.coroutine(Kr.mark(function t(n){var i,r,e,s,u=this;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.e1,t.next=3,i.j0();case 3:r=t.sent.filter(function(t){return Ze(t.references,u.L7.Xl)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(Qe((s=r[e]).references,this.L7.Xl),0!==s.references.length){t.next=14;break}return t.next=11,i.Ph(s.key);case 11:this.FSt(s),t.next=16;break;case 14:return t.next=16,i.q0(s);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FSt=function(t){},t}(),mW=new(function(){function t(){}return t.prototype.PQ=function(t,n,i){return new yW(t,n,i)},t}());var kW=function(){function t(t,n){this.$d=void 0,this.an=t,this.HSt=n}var n=t.prototype;return n.G5=function(t){this.VSt(t)},n.VSt=function(){var t=E.coroutine(Kr.mark(function t(n){return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.HSt.hSt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.an.ekt(nH.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),M(t,[{key:"Kd",get:function(){var t;return this.$d||(this.$d=(t=this,{renew:function(n){t.G5(n)}})),this.$d}}]),t}(),pW=function(t){function n(n,i,r,e,s,u){var o;(o=t.call(this)||this).Oy=void 0,o.tkt=void 0,o.$d=void 0,o.dwt=void 0,o.XSt=void 0,o.h1=void 0,o.HSt=void 0,o.WSt=new es,o.qSt=void 0,o.evictOnLoading=function(){o.Uo("Wmt",o.evictOnLoading),o.zSt()},o.Oy=n,o.dwt=i,o.XSt=r,o.h1=e,o.HSt=s.PQ(sn(o),o.h1,u),o.qSt=new kW(sn(o),o.HSt),o.tkt=1===o.HSt.JEt.mkt?nH.DONE:nH.IDLE,o.HSt.Po("g0",function(t){o.Oo(t),1===o.CSt&&o.ekt(nH.DONE)});var a=new Date,c=o.XSt.expirationDate.getTime()-a.getTime();return c<2147483647&&h(function(){return o.zSt()},c),o}F(n,t);var i=n.prototype;return i.ekt=function(t){this.tkt!==t&&(this.tkt=t,this.xo(new rH))},i.WR=function(){this.tkt===nH.EVICTED||this.tkt===nH.DONE||this.GSt()},i.GSt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.ekt(nH.LOADING),n=new es,this.WSt=n,t.next=6,this.HSt.$Et(n.Io);case 6:this.ekt(nH.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),us(t.t0)?this.ekt(nH.IDLE):this.ekt(nH.ERROR);case 12:return t.prev=12,this.WSt.mo(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.zw=function(){this.WSt.Eo()},i.Ph=function(){this.sv===nH.LOADING?(this.Po("Wmt",this.evictOnLoading),this.zw()):this.zSt()},i.zSt=function(){var t=E.coroutine(Kr.mark(function t(){var n;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.HSt.oSt();case 3:return n=t.sent,t.next=6,mW.PQ(this,this.h1,n).xSt();case 6:this.HSt.JEt=gH.wkt(),this.ekt(nH.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.ekt(nH.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=wW(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"TD",get:function(){return this.qSt}},{key:"sv",get:function(){return this.tkt}},{key:"pR",get:function(){return this.dwt}},{key:"$h",get:function(){return this.XSt}},{key:"U_",get:function(){return this.HSt.JEt.AI}},{key:"ISt",get:function(){return this.HSt.JEt.gkt}},{key:"NSt",get:function(){return this.HSt.JEt._kt}},{key:"CSt",get:function(){return this.HSt.JEt.mkt}},{key:"DSt",get:function(){return this.HSt._St}},{key:"OSt",get:function(){return this.HSt.JEt.ykt}}]),n}(hl);var AW=function(){function t(t,n){this.h1=t,this.jSt=n}var n=t.prototype;return n.hkt=function(t,n,i){var r=Xb();return this.ukt(r,t,n,i)},n.ukt=function(t,n,i,r){return new pW(t,n,i,this.h1,this.jSt,r)},t}(),bW=30,TW=5;function EW(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(rt(t)&&!Ie(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,rt(i)&&Ie(i,"%")){var n=w(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!rt(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+bW),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(ut(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return TW;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var SW=function(t){function n(n,i){var r;return(r=t.call(this)||this).$d=void 0,r.QSt=n,r.TB=i,r.QSt.Po("Wmt",r.Oo),r}return F(n,t),n.prototype.YSt=function(t,n,i){var r,e;if(!t)throw new v("Unexpected - The source description is undefined");if(r=vb(t),e=EW(n),ib(r))throw new v("Invalid source description");return this.QSt.ukt(r,e).Kd},M(n,[{key:"Kd",get:function(){var t,n,i;return this.$d||(this.$d=(i={get status(){return t.sv},get tasks(){return t.fkt},get network(){return t.MB.Kd},createTask:function(n,i){return t.YSt(n,i)},addEventListener:function(t,i){n.Po(t,i)},removeEventListener:function(t,i){n.Uo(t,i)}},n=new uE(t=this,i),i)),this.$d}},{key:"sv",get:function(){return this.QSt.sv}},{key:"fkt",get:function(){return this.QSt.fkt.Kd}},{key:"MB",get:function(){return this.TB}}]),n}(hl);(RW=new WT(T.jd,!1),IW=eO.je,NW=new gW(RW),CW=new AW(IW,NW),DW=new zT(RW),OW=new vH(IW.i1,CW,"persistent"),new SW(OW,DW)).Kd;var RW,IW,NW,CW,DW,OW,xW=function(t){function n(n,i,r,e){var s;return(s=t.call(this)||this).Oy=void 0,s.tkt=void 0,s.$d=void 0,s.dwt=void 0,s.XSt=void 0,s.iH=0,s.ZSt=nA.SI(),s.JSt=0,s.$St=0,s.QSt=void 0,s.Oy=n,s.tkt=nH.IDLE,s.dwt=i,s.XSt=r,s.QSt=e,s}F(n,t);var i=n.prototype;return i.WR=function(){this.QSt.startCachingTask(this)},i.Ph=function(){this.QSt.removeCachingTask(this)},M(n,[{key:"Kd",get:function(){return this.$d||(this.$d=wW(this)),this.$d}},{key:"Xl",get:function(){return this.Oy}},{key:"sv",get:function(){return this.tkt},set:function(t){this.tkt!==t&&(this.tkt=t,this.xo(new rH))}},{key:"pR",get:function(){return this.dwt}},{key:"$h",get:function(){return this.XSt}},{key:"U_",get:function(){return this.iH},set:function(t){this.iH=t}},{key:"ISt",get:function(){return this.ZSt},set:function(t){this.ZSt=t}},{key:"NSt",get:function(){return this.JSt},set:function(t){this.JSt=t}},{key:"CSt",get:function(){return this.$St},set:function(t){this.$St=t,this.xo(new _H)}}]),n}(al),PW=30;function BW(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+PW),n&&((i=n)&&!(ut(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var LW=function(t){function n(){var n;return(n=t.call(this)||this).tkt=uH.UNINITIALISED,n.JB=new fH,n.Uyt=void 0,n.tmt=void 0,n.KSt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.sv=nH.EVICTED,i.CSt=0,i.NSt=0,i.U_=0,i.ISt=nA.SI(),n.JB.Ph(i))}},n.tRt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.sv=r);var e=t.detail.percentage;e&&(i.CSt=e);var s=t.detail.duration;s&&(i.U_=s);var u=t.detail.seconds;u&&(i.NSt=u);var o=t.detail.cached;if(o){for(var h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}i.ISt=new nA(h)}}}},n.nRt=function(t){if(t.detail){var i=vb(JSON.parse(t.detail.source));if(!n.iRt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var s=t.detail.uuid;n.ukt(i,BW(r),s)}}},n.rRt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),s=t.detail.uuid,u=n.ukt(vb(e),BW(i),s);u.sv=t.detail.status,u.CSt=t.detail.percentage,u.U_=t.detail.duration,u.NSt=t.detail.seconds;for(var o=t.detail.cached,h=[],a=0;a<o.length;a++){var c=o[a];h.push(c.start,c.end)}u.ISt=new nA(h)}},n.eRt=function(t){t.detail&&n.ekt(t.detail.status)},n.Uyt=new JF,n.tmt=new CF,TF().cache={sdkEventBus:n.tmt},n.dK(),n}F(n,t);var i=n.prototype;return i.ekt=function(t){this.tkt!==t&&(this.tkt=t,this.xo(new rH))},i.ukt=function(t,n,i){void 0===i&&(i=void 0);var r=new xW(i||Xb(),t,n,this);return this.JB.vg(r),i||this.Uyt._Q("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.Xl}),r},i.findTaskWithId=function(t){for(var n=0,i=this.JB.zmt;n<i.length;n++){var r=i[n];if(r.Xl===t)return r}},i.iRt=function(t){for(var n=UW(t.sources),i=0,r=this.JB.zmt;i<r.length;i++){if(UW(r[i].pR.sources).src===n.src)return!0}return!1},i.dK=function(){this.tmt.addEventListener("deleteTask",this.KSt),this.tmt.addEventListener("updateValues",this.tRt),this.tmt.addEventListener("newTask",this.nRt),this.tmt.addEventListener("restoreTask",this.rRt),this.tmt.addEventListener("setCacheStatus",this.eRt)},i.startCachingTask=function(t){this.Uyt._Q("THEOplayerCacheStartCachingTask",{id:t.Xl})},i.removeCachingTask=function(t){this.Uyt._Q("THEOplayerCacheRemoveCachingTask",{id:t.Xl})},M(n,[{key:"sv",get:function(){return this.tkt}},{key:"fkt",get:function(){return this.JB}}]),n}(bs),MW=function(t){function n(n){var i;return(i=t.call(this,n)||this).sRt=n,i.sRt.Po("Wmt",i.Oo),i}return F(n,t),n.prototype.YSt=function(t,n){var i,r;if(!t)throw new v("Unexpected - The source description is undefined");if(i=vb(t),r=BW(n),ib(i))throw new v("Invalid source description");if(!UW(i.sources))throw new v("The provided sources can't be cached");return this.sRt.ukt(i,r).Kd},n}(SW);function UW(t){for(var n=0;n<t.length;n++){var i=t[n];if(Tl(i.type))return i}}var FW,HW,VW=function(){var t=new LW;return new MW(t)}().Kd;!function(t){t.uRt="any",t.oRt="natural",t.hRt="landscape",t.aRt="portrait",t.cRt="portrait-primary",t.fRt="portrait-secondary",t.vRt="landscape-primary",t.dRt="landscape-secondary"}(FW||(FW={})),function(t){t.cRt="portrait-primary",t.fRt="portrait-secondary",t.vRt="landscape-primary",t.dRt="landscape-secondary"}(HW||(HW={}));var XW,WW,qW=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).Uyt=new JF,n.lRt=FW.oRt,n._Rt=HW.cRt,n.gRt=HW.cRt,n.wRt=HW.cRt,n}F(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new e.Promise(function(i,r){n.lRt=t,n.Uyt._Q("THEOplayerOrientationLock",t),n.yRt(),i()})},i.unlock=function(){var t=this;return new e.Promise(function(n,i){t.lRt=FW.oRt,t.Uyt._Q("THEOplayerOrientationUnlock"),t.type=t.gRt,t.yRt(),n()})},i.yRt=function(){var t=this.wRt,n=this.type;t!==n&&(this.wRt=n,this.xo(new Es("change")))},i.addEventListener=function(t,n){this.Po(t,n)},i.removeEventListener=function(t,n){this.Uo(t,n)},n.mRt=function(t){switch(t){case FW.cRt:return[HW.cRt];case FW.fRt:return[HW.fRt];case FW.aRt:return[HW.cRt,HW.fRt];case FW.vRt:return[HW.vRt];case FW.dRt:return[HW.dRt];case FW.hRt:return[HW.vRt,HW.dRt];case FW.oRt:return[HW.cRt,HW.vRt,HW.dRt];case FW.uRt:return[HW.cRt,HW.fRt,HW.vRt,HW.dRt]}},n.kRt=function(t,i){return n.mRt(i).indexOf(t)>=0},M(n,[{key:"type",get:function(){return this._Rt},set:function(t){this.gRt=t,n.kRt(t,this.lRt)?(this._Rt=t,this.yRt()):(t===HW.vRt&&this.lRt===FW.dRt&&(this._Rt=HW.dRt,this.yRt()),t===HW.dRt&&this.lRt===FW.vRt&&(this._Rt=HW.vRt,this.yRt()))}},{key:"angle",get:function(){switch(this.type){case HW.vRt:return-90;case HW.dRt:return 90;case HW.cRt:return 0;case HW.fRt:return 180;default:return 0}}}]),n}(al);qW.je=new qW,e.screen.orientation=qW.je,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(e,"orientation",{get:function(){return e.screen.orientation.angle}}),e.screen.orientation.addEventListener("change",function(){e.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.pRt="unavailable",t.ARt="available",t.bRt="presenting"}(XW||(XW={})),BE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return F(n,t),n.prototype.Qw=function(n){t.prototype.Qw.call(this,n);var i=this.Kd;this.Kd.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===XW.bRt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock(FW.dRt).catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},RE.HB),function(t){t.Qd="addtrack",t.Zd="removetrack",t.ll="change",t.kl="update"}(WW||(WW={}));var zW=function(t,n,i){this.type=WW.ll,this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i},GW=function(t,n){this.type=WW.Qd,this.mediaType=t,this.mediaTrack=n},jW=function(t,n){this.type=WW.Zd,this.mediaType=t,this.mediaTrack=n},QW=function(t,n){this.type=WW.kl,this.mediaType=t,this.mediaTrack=n},YW=function(){function t(t,n,i){var r=this;this.type=void 0,this.mediaTracks=void 0,this.messageDispatcher=void 0,this.TRt=function(t){var n=new zW(r.type,t.track,r.mediaTracks);r.messageDispatcher.ERt(n)},this.SRt=function(t){var n=new GW(r.type,t.track);r.messageDispatcher.ERt(n),t.track.addEventListener("update",r.RRt)},this.IRt=function(t){var n=new jW(r.type,t.track);r.messageDispatcher.ERt(n)},this.RRt=function(t){var n=new QW(r.type,t.track);r.messageDispatcher.ERt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.dK()}return t.prototype.dK=function(){this.mediaTracks.addEventListener("change",this.TRt),this.mediaTracks.addEventListener("addtrack",this.SRt),this.mediaTracks.addEventListener("removetrack",this.IRt)},t}(),ZW=function(){function t(){this.NRt=void 0,this.NRt=new JF}return t.prototype.ERt=function(t){this.NRt._Q(t.type,jU(t))},t}();UE(function(t){if(t.Kd.audioTracks){var n=new ZW;new YW("audio",t.Kd.audioTracks,n)}if(t.Kd.videoTracks){var i=new ZW;new YW("video",t.Kd.videoTracks,i)}});var JW,$W,KW=function(t){function n(){return t.apply(this,arguments)||this}return F(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case JW.CRt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.xo(new tq(i));break;default:0}},n}(CF),tq=function(t){function n(n){var i;return(i=t.call(this,JW.CRt)||this).detail=n,i}return F(n,t),n}(Es);!function(t){t.CRt="registerContentProtectionIntegration"}(JW||(JW={})),function(t){t.DRt="certifiateRequest",t.ORt="certifiateResponse",t.xRt="licenseRequest",t.PRt="licenseResponse",t.BRt="extractFairplayContentId",t.LRt="buildContentProtection",t.MRt="registerContentProtectionCallback"}($W||($W={}));var nq,iq=function(t,n){this.type=$W.MRt,this.value=t,this.integrationId=n};!function(t){t.VOD="vod",t.LIVE="live"}(nq||(nq={}));var rq,eq=function(t,n){this.type=$W.LRt,this.value=t,this.integrationId=n},sq=function(t,n){this.type=$W.DRt,this.value=t,this.integrationId=n},uq=function(t,n){this.type=$W.ORt,this.value=t,this.integrationId=n},oq=function(t,n){this.type=$W.BRt,this.value=t,this.integrationId=n},hq=function(t,n){this.type=$W.xRt,this.value=t,this.integrationId=n},aq=function(t,n){this.type=$W.PRt,this.value=t,this.integrationId=n},cq=function(){function t(t,n){this.URt=void 0,this.XT=void 0,this.URt=t,this.XT=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new sq(r,this.XT),t.prev=2,t.next=5,this.URt.FRt(e);case 5:if(!(s=t.sent)){t.next=16;break}if(u=JSON.parse(s),!this.HRt(u)){t.next=13;break}return o=te({},u),t.abrupt("return",o);case 13:if(!this.VRt(u)){t.next=16;break}return h=new m(u),t.abrupt("return",h);case 16:throw new U_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Could not parse callback in onCertificateRequest");case 19:throw t.prev=19,t.t0=t.catch(2),new U_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 22:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new uq(e,this.XT),t.next=5,this.URt.FRt(s);case 5:if(!(u=t.sent)){t.next=11;break}return o=JSON.parse(u),t.abrupt("return",new m(o));case 11:throw new U_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o,h,a;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},s=new hq(e,this.XT),t.prev=3,t.next=6,this.URt.FRt(s);case 6:if(!(u=t.sent)){t.next=17;break}if(o=JSON.parse(u),!this.HRt(o)){t.next=14;break}return h={url:o.url,method:o.method,headers:o.headers,body:o.body?new m(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",h);case 14:if(!this.VRt(o)){t.next=17;break}return a=new m(o),t.abrupt("return",a);case 17:throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Could not parse callback in onLicenseRequest");case 20:throw t.prev=20,t.t0=t.catch(3),new U_(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,t.t0);case 23:case"end":return t.stop()}},t,this,[[3,20]])}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e,s,u,o,h;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=te({},r,{fairplaySkdUrl:i.request.fairplaySkdUrl}),s={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new aq(s,this.XT),t.next=6,this.URt.FRt(u);case 6:if(!(o=t.sent)){t.next=12;break}return h=JSON.parse(o),t.abrupt("return",new m(h));case 12:throw new U_(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=E.coroutine(Kr.mark(function t(i){var r,e;return Kr.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new oq(i,this.XT),t.next=3,this.URt.FRt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",E.reject(new U_(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},i.HRt=function(t){var n=t;return void 0!==n.url&&void 0!==n.method&&void 0!==n.headers},i.VRt=function(t){return!!new m(t)},t}(),fq=function(){function t(t){this.URt=void 0,this.URt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new cq(this.URt,t.integration),i=new eq({drmConfiguration:t},t.integration);return this.URt.FRt(i),n},t}(),vq=function(){var t=this;this.tmt=void 0,this.XRt=function(n){var i=new fq(t.messageDispatcher),r=n.detail,e=r.integrationId,s=r.keySystem,u={state:Cm.QT.qT(e,s,i)};t.messageDispatcher.FRt(new iq(u,e))},this.tmt=new KW,TF().contentProtectionIntegration={sdkEventBus:this.tmt},this.tmt.addEventListener(JW.CRt,this.XRt)},dq="nativePromiseCallback",lq=function(t){function n(n){var i;return(i=t.call(this,dq)||this).detail=n,i}return F(n,t),n}(Es);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(rq||(rq={}));var _q=function(t){function n(){return t.apply(this,arguments)||this}F(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.xo(new lq(n))},i.addEventListener=function(t,n){this.Po(t,n)},i.removeEventListener=function(t,n){this.Uo(t,n)},n}(CF),gq=function(){function t(){var t=this;this.NRt=void 0,this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case rq.RESOLVE:i.wh(n.detail.data);break;case rq.REJECT:i.yh(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new _q;TF().nativePromise={sdkEventBus:n},n.addEventListener(dq,this.handleNativePromiseEvent)}return t.prototype.FRt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=te({},n,{promiseId:r}),s=new ju;return this.promisesMap[r]=s,null==(i=this.NRt)||i._Q(n.type,zU(e)),s.gh},t}();gq.messageIdTracker=-1;var wq,yq=function(t){function n(){var n;return(n=t.call(this)||this).NRt=new JF,n}return F(n,t),n}(gq),mq=function(t){function n(){var n;return(n=t.call(this)||this).URt=new yq,n}return F(n,t),M(n,[{key:"messageDispatcher",get:function(){return this.URt}}]),n}(vq);UE(function(t){new mq}),function(t){t.WRt="airplaystatechange"}(wq||(wq={}));var kq=function(t){this.type=wq.WRt,this.state=t},pq=function(t){function n(n){var i;return(i=t.call(this)||this).qRt=void 0,i.zRt=function(t){var n=new kq(t.state);i.ERt(n)},i.qRt=n,i.dK(n),i}return F(n,t),n.prototype.dK=function(t){t.addEventListener("statechange",this.zRt)},n}(ZW);UE(function(t){var n;null!=(n=t.Kd.cast)&&n.airplay&&new pq(t.Kd.cast.airplay)}),n.ChromelessPlayer=iS,n.Player=iS,n.cache=VW,n.createGlobals=RF,n.features=["hls","airplay"],n.getCueMirrorMap=EF,n.getGlobalId=SF,n.getSdkEventBridge=TF,n.playerSuiteVersion="2021.4.0",n.players=sS,n.registerContentProtectionIntegration=uS,n.utils=eS,n.version="2.90.1",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
